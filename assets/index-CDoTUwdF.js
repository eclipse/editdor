var iK=Object.defineProperty;var oK=(e,t,r)=>t in e?iK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Kn=(e,t,r)=>oK(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Df(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var DF={exports:{}},w_={},MF={exports:{}},_r={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg=Symbol.for("react.element"),sK=Symbol.for("react.portal"),aK=Symbol.for("react.fragment"),lK=Symbol.for("react.strict_mode"),uK=Symbol.for("react.profiler"),cK=Symbol.for("react.provider"),fK=Symbol.for("react.context"),dK=Symbol.for("react.forward_ref"),hK=Symbol.for("react.suspense"),pK=Symbol.for("react.memo"),mK=Symbol.for("react.lazy"),Hk=Symbol.iterator;function gK(e){return e===null||typeof e!="object"?null:(e=Hk&&e[Hk]||e["@@iterator"],typeof e=="function"?e:null)}var LF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FF=Object.assign,BF={};function Ch(e,t,r){this.props=e,this.context=t,this.refs=BF,this.updater=r||LF}Ch.prototype.isReactComponent={};Ch.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ch.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function UF(){}UF.prototype=Ch.prototype;function uP(e,t,r){this.props=e,this.context=t,this.refs=BF,this.updater=r||LF}var cP=uP.prototype=new UF;cP.constructor=uP;FF(cP,Ch.prototype);cP.isPureReactComponent=!0;var Wk=Array.isArray,zF=Object.prototype.hasOwnProperty,fP={current:null},qF={key:!0,ref:!0,__self:!0,__source:!0};function VF(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)zF.call(t,n)&&!qF.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:lg,type:e,key:o,ref:s,props:i,_owner:fP.current}}function vK(e,t){return{$$typeof:lg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dP(e){return typeof e=="object"&&e!==null&&e.$$typeof===lg}function yK(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Gk=/\/+/g;function ZE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yK(""+e.key):t.toString(36)}function my(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case lg:case sK:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+ZE(s,0):n,Wk(i)?(r="",e!=null&&(r=e.replace(Gk,"$&/")+"/"),my(i,t,r,"",function(u){return u})):i!=null&&(dP(i)&&(i=vK(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Gk,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Wk(e))for(var a=0;a<e.length;a++){o=e[a];var l=n+ZE(o,a);s+=my(o,t,r,l,i)}else if(l=gK(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=n+ZE(o,a++),s+=my(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ov(e,t,r){if(e==null)return e;var n=[],i=0;return my(e,n,"","",function(o){return t.call(r,o,i++)}),n}function wK(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var so={current:null},gy={transition:null},bK={ReactCurrentDispatcher:so,ReactCurrentBatchConfig:gy,ReactCurrentOwner:fP};function HF(){throw Error("act(...) is not supported in production builds of React.")}_r.Children={map:ov,forEach:function(e,t,r){ov(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ov(e,function(){t++}),t},toArray:function(e){return ov(e,function(t){return t})||[]},only:function(e){if(!dP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_r.Component=Ch;_r.Fragment=aK;_r.Profiler=uK;_r.PureComponent=uP;_r.StrictMode=lK;_r.Suspense=hK;_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bK;_r.act=HF;_r.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=FF({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=fP.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)zF.call(t,l)&&!qF.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:lg,type:e.type,key:i,ref:o,props:n,_owner:s}};_r.createContext=function(e){return e={$$typeof:fK,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cK,_context:e},e.Consumer=e};_r.createElement=VF;_r.createFactory=function(e){var t=VF.bind(null,e);return t.type=e,t};_r.createRef=function(){return{current:null}};_r.forwardRef=function(e){return{$$typeof:dK,render:e}};_r.isValidElement=dP;_r.lazy=function(e){return{$$typeof:mK,_payload:{_status:-1,_result:e},_init:wK}};_r.memo=function(e,t){return{$$typeof:pK,type:e,compare:t===void 0?null:t}};_r.startTransition=function(e){var t=gy.transition;gy.transition={};try{e()}finally{gy.transition=t}};_r.unstable_act=HF;_r.useCallback=function(e,t){return so.current.useCallback(e,t)};_r.useContext=function(e){return so.current.useContext(e)};_r.useDebugValue=function(){};_r.useDeferredValue=function(e){return so.current.useDeferredValue(e)};_r.useEffect=function(e,t){return so.current.useEffect(e,t)};_r.useId=function(){return so.current.useId()};_r.useImperativeHandle=function(e,t,r){return so.current.useImperativeHandle(e,t,r)};_r.useInsertionEffect=function(e,t){return so.current.useInsertionEffect(e,t)};_r.useLayoutEffect=function(e,t){return so.current.useLayoutEffect(e,t)};_r.useMemo=function(e,t){return so.current.useMemo(e,t)};_r.useReducer=function(e,t,r){return so.current.useReducer(e,t,r)};_r.useRef=function(e){return so.current.useRef(e)};_r.useState=function(e){return so.current.useState(e)};_r.useSyncExternalStore=function(e,t,r){return so.current.useSyncExternalStore(e,t,r)};_r.useTransition=function(){return so.current.useTransition()};_r.version="18.3.1";MF.exports=_r;var Ce=MF.exports;const et=Df(Ce);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _K=Ce,EK=Symbol.for("react.element"),SK=Symbol.for("react.fragment"),$K=Object.prototype.hasOwnProperty,TK=_K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AK={key:!0,ref:!0,__self:!0,__source:!0};function WF(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)$K.call(t,n)&&!AK.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:EK,type:e,key:o,ref:s,props:i,_owner:TK.current}}w_.Fragment=SK;w_.jsx=WF;w_.jsxs=WF;DF.exports=w_;var ae=DF.exports,i$={},GF={exports:{}},Qo={},KF={exports:{}},JF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,ne){var C=Z.length;Z.push(ne);e:for(;0<C;){var B=C-1>>>1,K=Z[B];if(0<i(K,ne))Z[B]=ne,Z[C]=K,C=B;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var ne=Z[0],C=Z.pop();if(C!==ne){Z[0]=C;e:for(var B=0,K=Z.length,P=K>>>1;B<P;){var I=2*(B+1)-1,q=Z[I],ie=I+1,J=Z[ie];if(0>i(q,C))ie<K&&0>i(J,q)?(Z[B]=J,Z[ie]=C,B=ie):(Z[B]=q,Z[I]=C,B=I);else if(ie<K&&0>i(J,C))Z[B]=J,Z[ie]=C,B=ie;else break e}}return ne}function i(Z,ne){var C=Z.sortIndex-ne.sortIndex;return C!==0?C:Z.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],f=1,c=null,p=3,m=!1,g=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(Z){for(var ne=r(u);ne!==null;){if(ne.callback===null)n(u);else if(ne.startTime<=Z)n(u),ne.sortIndex=ne.expirationTime,t(l,ne);else break;ne=r(u)}}function S(Z){if(_=!1,y(Z),!g)if(r(l)!==null)g=!0,X($);else{var ne=r(u);ne!==null&&fe(S,ne.startTime-Z)}}function $(Z,ne){g=!1,_&&(_=!1,h(A),A=-1),m=!0;var C=p;try{for(y(ne),c=r(l);c!==null&&(!(c.expirationTime>ne)||Z&&!D());){var B=c.callback;if(typeof B=="function"){c.callback=null,p=c.priorityLevel;var K=B(c.expirationTime<=ne);ne=e.unstable_now(),typeof K=="function"?c.callback=K:c===r(l)&&n(l),y(ne)}else n(l);c=r(l)}if(c!==null)var P=!0;else{var I=r(u);I!==null&&fe(S,I.startTime-ne),P=!1}return P}finally{c=null,p=C,m=!1}}var T=!1,d=null,A=-1,x=5,O=-1;function D(){return!(e.unstable_now()-O<x)}function F(){if(d!==null){var Z=e.unstable_now();O=Z;var ne=!0;try{ne=d(!0,Z)}finally{ne?V():(T=!1,d=null)}}else T=!1}var V;if(typeof E=="function")V=function(){E(F)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,H=Q.port2;Q.port1.onmessage=F,V=function(){H.postMessage(null)}}else V=function(){v(F,0)};function X(Z){d=Z,T||(T=!0,V())}function fe(Z,ne){A=v(function(){Z(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,X($))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(Z){switch(p){case 1:case 2:case 3:var ne=3;break;default:ne=p}var C=p;p=ne;try{return Z()}finally{p=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,ne){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var C=p;p=Z;try{return ne()}finally{p=C}},e.unstable_scheduleCallback=function(Z,ne,C){var B=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?B+C:B):C=B,Z){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=C+K,Z={id:f++,callback:ne,priorityLevel:Z,startTime:C,expirationTime:K,sortIndex:-1},C>B?(Z.sortIndex=C,t(u,Z),r(l)===null&&Z===r(u)&&(_?(h(A),A=-1):_=!0,fe(S,C-B))):(Z.sortIndex=K,t(l,Z),g||m||(g=!0,X($))),Z},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(Z){var ne=p;return function(){var C=p;p=ne;try{return Z.apply(this,arguments)}finally{p=C}}}})(JF);KF.exports=JF;var xK=KF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OK=Ce,Xo=xK;function St(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YF=new Set,$m={};function Mf(e,t){gh(e,t),gh(e+"Capture",t)}function gh(e,t){for($m[e]=t,e=0;e<t.length;e++)YF.add(t[e])}var Cl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),o$=Object.prototype.hasOwnProperty,PK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kk={},Jk={};function RK(e){return o$.call(Jk,e)?!0:o$.call(Kk,e)?!1:PK.test(e)?Jk[e]=!0:(Kk[e]=!0,!1)}function NK(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IK(e,t,r,n){if(t===null||typeof t>"u"||NK(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ao(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oi[e]=new ao(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oi[t]=new ao(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oi[e]=new ao(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oi[e]=new ao(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oi[e]=new ao(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oi[e]=new ao(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oi[e]=new ao(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oi[e]=new ao(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oi[e]=new ao(e,5,!1,e.toLowerCase(),null,!1,!1)});var hP=/[\-:]([a-z])/g;function pP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hP,pP);Oi[t]=new ao(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hP,pP);Oi[t]=new ao(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hP,pP);Oi[t]=new ao(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oi[e]=new ao(e,1,!1,e.toLowerCase(),null,!1,!1)});Oi.xlinkHref=new ao("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oi[e]=new ao(e,1,!1,e.toLowerCase(),null,!0,!0)});function mP(e,t,r,n){var i=Oi.hasOwnProperty(t)?Oi[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IK(t,r,i,n)&&(r=null),n||i===null?RK(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var zl=OK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sv=Symbol.for("react.element"),kd=Symbol.for("react.portal"),Cd=Symbol.for("react.fragment"),gP=Symbol.for("react.strict_mode"),s$=Symbol.for("react.profiler"),XF=Symbol.for("react.provider"),QF=Symbol.for("react.context"),vP=Symbol.for("react.forward_ref"),a$=Symbol.for("react.suspense"),l$=Symbol.for("react.suspense_list"),yP=Symbol.for("react.memo"),Su=Symbol.for("react.lazy"),ZF=Symbol.for("react.offscreen"),Yk=Symbol.iterator;function np(e){return e===null||typeof e!="object"?null:(e=Yk&&e[Yk]||e["@@iterator"],typeof e=="function"?e:null)}var kn=Object.assign,eS;function Ap(e){if(eS===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);eS=t&&t[1]||""}return`
`+eS+e}var tS=!1;function rS(e,t){if(!e||tS)return"";tS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{tS=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ap(e):""}function kK(e){switch(e.tag){case 5:return Ap(e.type);case 16:return Ap("Lazy");case 13:return Ap("Suspense");case 19:return Ap("SuspenseList");case 0:case 2:case 15:return e=rS(e.type,!1),e;case 11:return e=rS(e.type.render,!1),e;case 1:return e=rS(e.type,!0),e;default:return""}}function u$(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cd:return"Fragment";case kd:return"Portal";case s$:return"Profiler";case gP:return"StrictMode";case a$:return"Suspense";case l$:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case QF:return(e.displayName||"Context")+".Consumer";case XF:return(e._context.displayName||"Context")+".Provider";case vP:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yP:return t=e.displayName||null,t!==null?t:u$(e.type)||"Memo";case Su:t=e._payload,e=e._init;try{return u$(e(t))}catch{}}return null}function CK(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return u$(t);case 8:return t===gP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ku(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function e3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jK(e){var t=e3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function av(e){e._valueTracker||(e._valueTracker=jK(e))}function t3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=e3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function c$(e,t){var r=t.checked;return kn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xk(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ku(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function r3(e,t){t=t.checked,t!=null&&mP(e,"checked",t,!1)}function f$(e,t){r3(e,t);var r=Ku(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?d$(e,t.type,r):t.hasOwnProperty("defaultValue")&&d$(e,t.type,Ku(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qk(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function d$(e,t,r){(t!=="number"||Qw(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xp=Array.isArray;function Xd(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ku(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function h$(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(St(91));return kn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zk(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(St(92));if(xp(r)){if(1<r.length)throw Error(St(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ku(r)}}function n3(e,t){var r=Ku(t.value),n=Ku(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function eC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function i3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function p$(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?i3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lv,o3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lv=lv||document.createElement("div"),lv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DK=["Webkit","ms","Moz","O"];Object.keys(Xp).forEach(function(e){DK.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xp[t]=Xp[e]})});function s3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xp.hasOwnProperty(e)&&Xp[e]?(""+t).trim():t+"px"}function a3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=s3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var MK=kn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function m$(e,t){if(t){if(MK[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(St(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(St(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(St(61))}if(t.style!=null&&typeof t.style!="object")throw Error(St(62))}}function g$(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v$=null;function wP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var y$=null,Qd=null,Zd=null;function tC(e){if(e=fg(e)){if(typeof y$!="function")throw Error(St(280));var t=e.stateNode;t&&(t=$_(t),y$(e.stateNode,e.type,t))}}function l3(e){Qd?Zd?Zd.push(e):Zd=[e]:Qd=e}function u3(){if(Qd){var e=Qd,t=Zd;if(Zd=Qd=null,tC(e),t)for(e=0;e<t.length;e++)tC(t[e])}}function c3(e,t){return e(t)}function f3(){}var nS=!1;function d3(e,t,r){if(nS)return e(t,r);nS=!0;try{return c3(e,t,r)}finally{nS=!1,(Qd!==null||Zd!==null)&&(f3(),u3())}}function Am(e,t){var r=e.stateNode;if(r===null)return null;var n=$_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(St(231,t,typeof r));return r}var w$=!1;if(Cl)try{var ip={};Object.defineProperty(ip,"passive",{get:function(){w$=!0}}),window.addEventListener("test",ip,ip),window.removeEventListener("test",ip,ip)}catch{w$=!1}function LK(e,t,r,n,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Qp=!1,Zw=null,eb=!1,b$=null,FK={onError:function(e){Qp=!0,Zw=e}};function BK(e,t,r,n,i,o,s,a,l){Qp=!1,Zw=null,LK.apply(FK,arguments)}function UK(e,t,r,n,i,o,s,a,l){if(BK.apply(this,arguments),Qp){if(Qp){var u=Zw;Qp=!1,Zw=null}else throw Error(St(198));eb||(eb=!0,b$=u)}}function Lf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function h3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rC(e){if(Lf(e)!==e)throw Error(St(188))}function zK(e){var t=e.alternate;if(!t){if(t=Lf(e),t===null)throw Error(St(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return rC(i),e;if(o===n)return rC(i),t;o=o.sibling}throw Error(St(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(St(189))}}if(r.alternate!==n)throw Error(St(190))}if(r.tag!==3)throw Error(St(188));return r.stateNode.current===r?e:t}function p3(e){return e=zK(e),e!==null?m3(e):null}function m3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=m3(e);if(t!==null)return t;e=e.sibling}return null}var g3=Xo.unstable_scheduleCallback,nC=Xo.unstable_cancelCallback,qK=Xo.unstable_shouldYield,VK=Xo.unstable_requestPaint,Vn=Xo.unstable_now,HK=Xo.unstable_getCurrentPriorityLevel,bP=Xo.unstable_ImmediatePriority,v3=Xo.unstable_UserBlockingPriority,tb=Xo.unstable_NormalPriority,WK=Xo.unstable_LowPriority,y3=Xo.unstable_IdlePriority,b_=null,Ka=null;function GK(e){if(Ka&&typeof Ka.onCommitFiberRoot=="function")try{Ka.onCommitFiberRoot(b_,e,void 0,(e.current.flags&128)===128)}catch{}}var oa=Math.clz32?Math.clz32:YK,KK=Math.log,JK=Math.LN2;function YK(e){return e>>>=0,e===0?32:31-(KK(e)/JK|0)|0}var uv=64,cv=4194304;function Op(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rb(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=Op(a):(o&=s,o!==0&&(n=Op(o)))}else s=r&~i,s!==0?n=Op(s):o!==0&&(n=Op(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-oa(t),i=1<<r,n|=e[r],t&=~i;return n}function XK(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QK(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-oa(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=XK(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function _$(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function w3(){var e=uv;return uv<<=1,!(uv&4194240)&&(uv=64),e}function iS(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ug(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-oa(t),e[t]=r}function ZK(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-oa(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function _P(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-oa(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var en=0;function b3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _3,EP,E3,S3,$3,E$=!1,fv=[],Du=null,Mu=null,Lu=null,xm=new Map,Om=new Map,Au=[],eJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iC(e,t){switch(e){case"focusin":case"focusout":Du=null;break;case"dragenter":case"dragleave":Mu=null;break;case"mouseover":case"mouseout":Lu=null;break;case"pointerover":case"pointerout":xm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Om.delete(t.pointerId)}}function op(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=fg(t),t!==null&&EP(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function tJ(e,t,r,n,i){switch(t){case"focusin":return Du=op(Du,e,t,r,n,i),!0;case"dragenter":return Mu=op(Mu,e,t,r,n,i),!0;case"mouseover":return Lu=op(Lu,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return xm.set(o,op(xm.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Om.set(o,op(Om.get(o)||null,e,t,r,n,i)),!0}return!1}function T3(e){var t=Zc(e.target);if(t!==null){var r=Lf(t);if(r!==null){if(t=r.tag,t===13){if(t=h3(r),t!==null){e.blockedOn=t,$3(e.priority,function(){E3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=S$(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);v$=n,r.target.dispatchEvent(n),v$=null}else return t=fg(r),t!==null&&EP(t),e.blockedOn=r,!1;t.shift()}return!0}function oC(e,t,r){vy(e)&&r.delete(t)}function rJ(){E$=!1,Du!==null&&vy(Du)&&(Du=null),Mu!==null&&vy(Mu)&&(Mu=null),Lu!==null&&vy(Lu)&&(Lu=null),xm.forEach(oC),Om.forEach(oC)}function sp(e,t){e.blockedOn===t&&(e.blockedOn=null,E$||(E$=!0,Xo.unstable_scheduleCallback(Xo.unstable_NormalPriority,rJ)))}function Pm(e){function t(i){return sp(i,e)}if(0<fv.length){sp(fv[0],e);for(var r=1;r<fv.length;r++){var n=fv[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Du!==null&&sp(Du,e),Mu!==null&&sp(Mu,e),Lu!==null&&sp(Lu,e),xm.forEach(t),Om.forEach(t),r=0;r<Au.length;r++)n=Au[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Au.length&&(r=Au[0],r.blockedOn===null);)T3(r),r.blockedOn===null&&Au.shift()}var eh=zl.ReactCurrentBatchConfig,nb=!0;function nJ(e,t,r,n){var i=en,o=eh.transition;eh.transition=null;try{en=1,SP(e,t,r,n)}finally{en=i,eh.transition=o}}function iJ(e,t,r,n){var i=en,o=eh.transition;eh.transition=null;try{en=4,SP(e,t,r,n)}finally{en=i,eh.transition=o}}function SP(e,t,r,n){if(nb){var i=S$(e,t,r,n);if(i===null)pS(e,t,n,ib,r),iC(e,n);else if(tJ(i,e,t,r,n))n.stopPropagation();else if(iC(e,n),t&4&&-1<eJ.indexOf(e)){for(;i!==null;){var o=fg(i);if(o!==null&&_3(o),o=S$(e,t,r,n),o===null&&pS(e,t,n,ib,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else pS(e,t,n,null,r)}}var ib=null;function S$(e,t,r,n){if(ib=null,e=wP(n),e=Zc(e),e!==null)if(t=Lf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=h3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ib=e,null}function A3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HK()){case bP:return 1;case v3:return 4;case tb:case WK:return 16;case y3:return 536870912;default:return 16}default:return 16}}var Ru=null,$P=null,yy=null;function x3(){if(yy)return yy;var e,t=$P,r=t.length,n,i="value"in Ru?Ru.value:Ru.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return yy=i.slice(e,1<n?1-n:void 0)}function wy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dv(){return!0}function sC(){return!1}function Zo(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?dv:sC,this.isPropagationStopped=sC,this}return kn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dv)},persist:function(){},isPersistent:dv}),t}var jh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},TP=Zo(jh),cg=kn({},jh,{view:0,detail:0}),oJ=Zo(cg),oS,sS,ap,__=kn({},cg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ap&&(ap&&e.type==="mousemove"?(oS=e.screenX-ap.screenX,sS=e.screenY-ap.screenY):sS=oS=0,ap=e),oS)},movementY:function(e){return"movementY"in e?e.movementY:sS}}),aC=Zo(__),sJ=kn({},__,{dataTransfer:0}),aJ=Zo(sJ),lJ=kn({},cg,{relatedTarget:0}),aS=Zo(lJ),uJ=kn({},jh,{animationName:0,elapsedTime:0,pseudoElement:0}),cJ=Zo(uJ),fJ=kn({},jh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dJ=Zo(fJ),hJ=kn({},jh,{data:0}),lC=Zo(hJ),pJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vJ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gJ[e])?!!t[e]:!1}function AP(){return vJ}var yJ=kn({},cg,{key:function(e){if(e.key){var t=pJ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mJ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AP,charCode:function(e){return e.type==="keypress"?wy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wJ=Zo(yJ),bJ=kn({},__,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uC=Zo(bJ),_J=kn({},cg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AP}),EJ=Zo(_J),SJ=kn({},jh,{propertyName:0,elapsedTime:0,pseudoElement:0}),$J=Zo(SJ),TJ=kn({},__,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AJ=Zo(TJ),xJ=[9,13,27,32],xP=Cl&&"CompositionEvent"in window,Zp=null;Cl&&"documentMode"in document&&(Zp=document.documentMode);var OJ=Cl&&"TextEvent"in window&&!Zp,O3=Cl&&(!xP||Zp&&8<Zp&&11>=Zp),cC=" ",fC=!1;function P3(e,t){switch(e){case"keyup":return xJ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jd=!1;function PJ(e,t){switch(e){case"compositionend":return R3(t);case"keypress":return t.which!==32?null:(fC=!0,cC);case"textInput":return e=t.data,e===cC&&fC?null:e;default:return null}}function RJ(e,t){if(jd)return e==="compositionend"||!xP&&P3(e,t)?(e=x3(),yy=$P=Ru=null,jd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return O3&&t.locale!=="ko"?null:t.data;default:return null}}var NJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NJ[e.type]:t==="textarea"}function N3(e,t,r,n){l3(n),t=ob(t,"onChange"),0<t.length&&(r=new TP("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var em=null,Rm=null;function IJ(e){z3(e,0)}function E_(e){var t=Ld(e);if(t3(t))return e}function kJ(e,t){if(e==="change")return t}var I3=!1;if(Cl){var lS;if(Cl){var uS="oninput"in document;if(!uS){var hC=document.createElement("div");hC.setAttribute("oninput","return;"),uS=typeof hC.oninput=="function"}lS=uS}else lS=!1;I3=lS&&(!document.documentMode||9<document.documentMode)}function pC(){em&&(em.detachEvent("onpropertychange",k3),Rm=em=null)}function k3(e){if(e.propertyName==="value"&&E_(Rm)){var t=[];N3(t,Rm,e,wP(e)),d3(IJ,t)}}function CJ(e,t,r){e==="focusin"?(pC(),em=t,Rm=r,em.attachEvent("onpropertychange",k3)):e==="focusout"&&pC()}function jJ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return E_(Rm)}function DJ(e,t){if(e==="click")return E_(t)}function MJ(e,t){if(e==="input"||e==="change")return E_(t)}function LJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var la=typeof Object.is=="function"?Object.is:LJ;function Nm(e,t){if(la(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!o$.call(t,i)||!la(e[i],t[i]))return!1}return!0}function mC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gC(e,t){var r=mC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mC(r)}}function C3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?C3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function j3(){for(var e=window,t=Qw();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qw(e.document)}return t}function OP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function FJ(e){var t=j3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&C3(r.ownerDocument.documentElement,r)){if(n!==null&&OP(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=gC(r,o);var s=gC(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var BJ=Cl&&"documentMode"in document&&11>=document.documentMode,Dd=null,$$=null,tm=null,T$=!1;function vC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;T$||Dd==null||Dd!==Qw(n)||(n=Dd,"selectionStart"in n&&OP(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),tm&&Nm(tm,n)||(tm=n,n=ob($$,"onSelect"),0<n.length&&(t=new TP("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Dd)))}function hv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Md={animationend:hv("Animation","AnimationEnd"),animationiteration:hv("Animation","AnimationIteration"),animationstart:hv("Animation","AnimationStart"),transitionend:hv("Transition","TransitionEnd")},cS={},D3={};Cl&&(D3=document.createElement("div").style,"AnimationEvent"in window||(delete Md.animationend.animation,delete Md.animationiteration.animation,delete Md.animationstart.animation),"TransitionEvent"in window||delete Md.transitionend.transition);function S_(e){if(cS[e])return cS[e];if(!Md[e])return e;var t=Md[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in D3)return cS[e]=t[r];return e}var M3=S_("animationend"),L3=S_("animationiteration"),F3=S_("animationstart"),B3=S_("transitionend"),U3=new Map,yC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qu(e,t){U3.set(e,t),Mf(t,[e])}for(var fS=0;fS<yC.length;fS++){var dS=yC[fS],UJ=dS.toLowerCase(),zJ=dS[0].toUpperCase()+dS.slice(1);Qu(UJ,"on"+zJ)}Qu(M3,"onAnimationEnd");Qu(L3,"onAnimationIteration");Qu(F3,"onAnimationStart");Qu("dblclick","onDoubleClick");Qu("focusin","onFocus");Qu("focusout","onBlur");Qu(B3,"onTransitionEnd");gh("onMouseEnter",["mouseout","mouseover"]);gh("onMouseLeave",["mouseout","mouseover"]);gh("onPointerEnter",["pointerout","pointerover"]);gh("onPointerLeave",["pointerout","pointerover"]);Mf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pp));function wC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,UK(n,t,void 0,e),e.currentTarget=null}function z3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;wC(i,a,u),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;wC(i,a,u),o=l}}}if(eb)throw e=b$,eb=!1,b$=null,e}function gn(e,t){var r=t[R$];r===void 0&&(r=t[R$]=new Set);var n=e+"__bubble";r.has(n)||(q3(t,e,2,!1),r.add(n))}function hS(e,t,r){var n=0;t&&(n|=4),q3(r,e,n,t)}var pv="_reactListening"+Math.random().toString(36).slice(2);function Im(e){if(!e[pv]){e[pv]=!0,YF.forEach(function(r){r!=="selectionchange"&&(qJ.has(r)||hS(r,!1,e),hS(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pv]||(t[pv]=!0,hS("selectionchange",!1,t))}}function q3(e,t,r,n){switch(A3(t)){case 1:var i=nJ;break;case 4:i=iJ;break;default:i=SP}r=i.bind(null,t,r,e),i=void 0,!w$||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function pS(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Zc(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}d3(function(){var u=o,f=wP(r),c=[];e:{var p=U3.get(e);if(p!==void 0){var m=TP,g=e;switch(e){case"keypress":if(wy(r)===0)break e;case"keydown":case"keyup":m=wJ;break;case"focusin":g="focus",m=aS;break;case"focusout":g="blur",m=aS;break;case"beforeblur":case"afterblur":m=aS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=aC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=aJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=EJ;break;case M3:case L3:case F3:m=cJ;break;case B3:m=$J;break;case"scroll":m=oJ;break;case"wheel":m=AJ;break;case"copy":case"cut":case"paste":m=dJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=uC}var _=(t&4)!==0,v=!_&&e==="scroll",h=_?p!==null?p+"Capture":null:p;_=[];for(var E=u,y;E!==null;){y=E;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,h!==null&&(S=Am(E,h),S!=null&&_.push(km(E,S,y)))),v)break;E=E.return}0<_.length&&(p=new m(p,g,null,r,f),c.push({event:p,listeners:_}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==v$&&(g=r.relatedTarget||r.fromElement)&&(Zc(g)||g[jl]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Zc(g):null,g!==null&&(v=Lf(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(_=aC,S="onMouseLeave",h="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(_=uC,S="onPointerLeave",h="onPointerEnter",E="pointer"),v=m==null?p:Ld(m),y=g==null?p:Ld(g),p=new _(S,E+"leave",m,r,f),p.target=v,p.relatedTarget=y,S=null,Zc(f)===u&&(_=new _(h,E+"enter",g,r,f),_.target=y,_.relatedTarget=v,S=_),v=S,m&&g)t:{for(_=m,h=g,E=0,y=_;y;y=ud(y))E++;for(y=0,S=h;S;S=ud(S))y++;for(;0<E-y;)_=ud(_),E--;for(;0<y-E;)h=ud(h),y--;for(;E--;){if(_===h||h!==null&&_===h.alternate)break t;_=ud(_),h=ud(h)}_=null}else _=null;m!==null&&bC(c,p,m,_,!1),g!==null&&v!==null&&bC(c,v,g,_,!0)}}e:{if(p=u?Ld(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var $=kJ;else if(dC(p))if(I3)$=MJ;else{$=jJ;var T=CJ}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&($=DJ);if($&&($=$(e,u))){N3(c,$,r,f);break e}T&&T(e,p,u),e==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&d$(p,"number",p.value)}switch(T=u?Ld(u):window,e){case"focusin":(dC(T)||T.contentEditable==="true")&&(Dd=T,$$=u,tm=null);break;case"focusout":tm=$$=Dd=null;break;case"mousedown":T$=!0;break;case"contextmenu":case"mouseup":case"dragend":T$=!1,vC(c,r,f);break;case"selectionchange":if(BJ)break;case"keydown":case"keyup":vC(c,r,f)}var d;if(xP)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else jd?P3(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(O3&&r.locale!=="ko"&&(jd||A!=="onCompositionStart"?A==="onCompositionEnd"&&jd&&(d=x3()):(Ru=f,$P="value"in Ru?Ru.value:Ru.textContent,jd=!0)),T=ob(u,A),0<T.length&&(A=new lC(A,e,null,r,f),c.push({event:A,listeners:T}),d?A.data=d:(d=R3(r),d!==null&&(A.data=d)))),(d=OJ?PJ(e,r):RJ(e,r))&&(u=ob(u,"onBeforeInput"),0<u.length&&(f=new lC("onBeforeInput","beforeinput",null,r,f),c.push({event:f,listeners:u}),f.data=d))}z3(c,t)})}function km(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ob(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Am(e,r),o!=null&&n.unshift(km(e,o,i)),o=Am(e,t),o!=null&&n.push(km(e,o,i))),e=e.return}return n}function ud(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bC(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=Am(r,o),l!=null&&s.unshift(km(r,l,a))):i||(l=Am(r,o),l!=null&&s.push(km(r,l,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var VJ=/\r\n?/g,HJ=/\u0000|\uFFFD/g;function _C(e){return(typeof e=="string"?e:""+e).replace(VJ,`
`).replace(HJ,"")}function mv(e,t,r){if(t=_C(t),_C(e)!==t&&r)throw Error(St(425))}function sb(){}var A$=null,x$=null;function O$(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var P$=typeof setTimeout=="function"?setTimeout:void 0,WJ=typeof clearTimeout=="function"?clearTimeout:void 0,EC=typeof Promise=="function"?Promise:void 0,GJ=typeof queueMicrotask=="function"?queueMicrotask:typeof EC<"u"?function(e){return EC.resolve(null).then(e).catch(KJ)}:P$;function KJ(e){setTimeout(function(){throw e})}function mS(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Pm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Pm(t)}function Fu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function SC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Dh=Math.random().toString(36).slice(2),Ma="__reactFiber$"+Dh,Cm="__reactProps$"+Dh,jl="__reactContainer$"+Dh,R$="__reactEvents$"+Dh,JJ="__reactListeners$"+Dh,YJ="__reactHandles$"+Dh;function Zc(e){var t=e[Ma];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jl]||r[Ma]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=SC(e);e!==null;){if(r=e[Ma])return r;e=SC(e)}return t}e=r,r=e.parentNode}return null}function fg(e){return e=e[Ma]||e[jl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ld(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(St(33))}function $_(e){return e[Cm]||null}var N$=[],Fd=-1;function Zu(e){return{current:e}}function wn(e){0>Fd||(e.current=N$[Fd],N$[Fd]=null,Fd--)}function hn(e,t){Fd++,N$[Fd]=e.current,e.current=t}var Ju={},zi=Zu(Ju),$o=Zu(!1),Ef=Ju;function vh(e,t){var r=e.type.contextTypes;if(!r)return Ju;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function To(e){return e=e.childContextTypes,e!=null}function ab(){wn($o),wn(zi)}function $C(e,t,r){if(zi.current!==Ju)throw Error(St(168));hn(zi,t),hn($o,r)}function V3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(St(108,CK(e)||"Unknown",i));return kn({},r,n)}function lb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ju,Ef=zi.current,hn(zi,e),hn($o,$o.current),!0}function TC(e,t,r){var n=e.stateNode;if(!n)throw Error(St(169));r?(e=V3(e,t,Ef),n.__reactInternalMemoizedMergedChildContext=e,wn($o),wn(zi),hn(zi,e)):wn($o),hn($o,r)}var bl=null,T_=!1,gS=!1;function H3(e){bl===null?bl=[e]:bl.push(e)}function XJ(e){T_=!0,H3(e)}function ec(){if(!gS&&bl!==null){gS=!0;var e=0,t=en;try{var r=bl;for(en=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}bl=null,T_=!1}catch(i){throw bl!==null&&(bl=bl.slice(e+1)),g3(bP,ec),i}finally{en=t,gS=!1}}return null}var Bd=[],Ud=0,ub=null,cb=0,ms=[],gs=0,Sf=null,$l=1,Tl="";function Fc(e,t){Bd[Ud++]=cb,Bd[Ud++]=ub,ub=e,cb=t}function W3(e,t,r){ms[gs++]=$l,ms[gs++]=Tl,ms[gs++]=Sf,Sf=e;var n=$l;e=Tl;var i=32-oa(n)-1;n&=~(1<<i),r+=1;var o=32-oa(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,$l=1<<32-oa(t)+i|r<<i|n,Tl=o+e}else $l=1<<o|r<<i|n,Tl=e}function PP(e){e.return!==null&&(Fc(e,1),W3(e,1,0))}function RP(e){for(;e===ub;)ub=Bd[--Ud],Bd[Ud]=null,cb=Bd[--Ud],Bd[Ud]=null;for(;e===Sf;)Sf=ms[--gs],ms[gs]=null,Tl=ms[--gs],ms[gs]=null,$l=ms[--gs],ms[gs]=null}var Jo=null,Go=null,xn=!1,ta=null;function G3(e,t){var r=Os(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function AC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jo=e,Go=Fu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jo=e,Go=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Sf!==null?{id:$l,overflow:Tl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Os(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jo=e,Go=null,!0):!1;default:return!1}}function I$(e){return(e.mode&1)!==0&&(e.flags&128)===0}function k$(e){if(xn){var t=Go;if(t){var r=t;if(!AC(e,t)){if(I$(e))throw Error(St(418));t=Fu(r.nextSibling);var n=Jo;t&&AC(e,t)?G3(n,r):(e.flags=e.flags&-4097|2,xn=!1,Jo=e)}}else{if(I$(e))throw Error(St(418));e.flags=e.flags&-4097|2,xn=!1,Jo=e}}}function xC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jo=e}function gv(e){if(e!==Jo)return!1;if(!xn)return xC(e),xn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!O$(e.type,e.memoizedProps)),t&&(t=Go)){if(I$(e))throw K3(),Error(St(418));for(;t;)G3(e,t),t=Fu(t.nextSibling)}if(xC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(St(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Go=Fu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Go=null}}else Go=Jo?Fu(e.stateNode.nextSibling):null;return!0}function K3(){for(var e=Go;e;)e=Fu(e.nextSibling)}function yh(){Go=Jo=null,xn=!1}function NP(e){ta===null?ta=[e]:ta.push(e)}var QJ=zl.ReactCurrentBatchConfig;function lp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(St(309));var n=r.stateNode}if(!n)throw Error(St(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(St(284));if(!r._owner)throw Error(St(290,e))}return e}function vv(e,t){throw e=Object.prototype.toString.call(t),Error(St(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function OC(e){var t=e._init;return t(e._payload)}function J3(e){function t(h,E){if(e){var y=h.deletions;y===null?(h.deletions=[E],h.flags|=16):y.push(E)}}function r(h,E){if(!e)return null;for(;E!==null;)t(h,E),E=E.sibling;return null}function n(h,E){for(h=new Map;E!==null;)E.key!==null?h.set(E.key,E):h.set(E.index,E),E=E.sibling;return h}function i(h,E){return h=qu(h,E),h.index=0,h.sibling=null,h}function o(h,E,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<E?(h.flags|=2,E):y):(h.flags|=2,E)):(h.flags|=1048576,E)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,E,y,S){return E===null||E.tag!==6?(E=SS(y,h.mode,S),E.return=h,E):(E=i(E,y),E.return=h,E)}function l(h,E,y,S){var $=y.type;return $===Cd?f(h,E,y.props.children,S,y.key):E!==null&&(E.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Su&&OC($)===E.type)?(S=i(E,y.props),S.ref=lp(h,E,y),S.return=h,S):(S=Ay(y.type,y.key,y.props,null,h.mode,S),S.ref=lp(h,E,y),S.return=h,S)}function u(h,E,y,S){return E===null||E.tag!==4||E.stateNode.containerInfo!==y.containerInfo||E.stateNode.implementation!==y.implementation?(E=$S(y,h.mode,S),E.return=h,E):(E=i(E,y.children||[]),E.return=h,E)}function f(h,E,y,S,$){return E===null||E.tag!==7?(E=cf(y,h.mode,S,$),E.return=h,E):(E=i(E,y),E.return=h,E)}function c(h,E,y){if(typeof E=="string"&&E!==""||typeof E=="number")return E=SS(""+E,h.mode,y),E.return=h,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case sv:return y=Ay(E.type,E.key,E.props,null,h.mode,y),y.ref=lp(h,null,E),y.return=h,y;case kd:return E=$S(E,h.mode,y),E.return=h,E;case Su:var S=E._init;return c(h,S(E._payload),y)}if(xp(E)||np(E))return E=cf(E,h.mode,y,null),E.return=h,E;vv(h,E)}return null}function p(h,E,y,S){var $=E!==null?E.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return $!==null?null:a(h,E,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sv:return y.key===$?l(h,E,y,S):null;case kd:return y.key===$?u(h,E,y,S):null;case Su:return $=y._init,p(h,E,$(y._payload),S)}if(xp(y)||np(y))return $!==null?null:f(h,E,y,S,null);vv(h,y)}return null}function m(h,E,y,S,$){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(y)||null,a(E,h,""+S,$);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sv:return h=h.get(S.key===null?y:S.key)||null,l(E,h,S,$);case kd:return h=h.get(S.key===null?y:S.key)||null,u(E,h,S,$);case Su:var T=S._init;return m(h,E,y,T(S._payload),$)}if(xp(S)||np(S))return h=h.get(y)||null,f(E,h,S,$,null);vv(E,S)}return null}function g(h,E,y,S){for(var $=null,T=null,d=E,A=E=0,x=null;d!==null&&A<y.length;A++){d.index>A?(x=d,d=null):x=d.sibling;var O=p(h,d,y[A],S);if(O===null){d===null&&(d=x);break}e&&d&&O.alternate===null&&t(h,d),E=o(O,E,A),T===null?$=O:T.sibling=O,T=O,d=x}if(A===y.length)return r(h,d),xn&&Fc(h,A),$;if(d===null){for(;A<y.length;A++)d=c(h,y[A],S),d!==null&&(E=o(d,E,A),T===null?$=d:T.sibling=d,T=d);return xn&&Fc(h,A),$}for(d=n(h,d);A<y.length;A++)x=m(d,h,A,y[A],S),x!==null&&(e&&x.alternate!==null&&d.delete(x.key===null?A:x.key),E=o(x,E,A),T===null?$=x:T.sibling=x,T=x);return e&&d.forEach(function(D){return t(h,D)}),xn&&Fc(h,A),$}function _(h,E,y,S){var $=np(y);if(typeof $!="function")throw Error(St(150));if(y=$.call(y),y==null)throw Error(St(151));for(var T=$=null,d=E,A=E=0,x=null,O=y.next();d!==null&&!O.done;A++,O=y.next()){d.index>A?(x=d,d=null):x=d.sibling;var D=p(h,d,O.value,S);if(D===null){d===null&&(d=x);break}e&&d&&D.alternate===null&&t(h,d),E=o(D,E,A),T===null?$=D:T.sibling=D,T=D,d=x}if(O.done)return r(h,d),xn&&Fc(h,A),$;if(d===null){for(;!O.done;A++,O=y.next())O=c(h,O.value,S),O!==null&&(E=o(O,E,A),T===null?$=O:T.sibling=O,T=O);return xn&&Fc(h,A),$}for(d=n(h,d);!O.done;A++,O=y.next())O=m(d,h,A,O.value,S),O!==null&&(e&&O.alternate!==null&&d.delete(O.key===null?A:O.key),E=o(O,E,A),T===null?$=O:T.sibling=O,T=O);return e&&d.forEach(function(F){return t(h,F)}),xn&&Fc(h,A),$}function v(h,E,y,S){if(typeof y=="object"&&y!==null&&y.type===Cd&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case sv:e:{for(var $=y.key,T=E;T!==null;){if(T.key===$){if($=y.type,$===Cd){if(T.tag===7){r(h,T.sibling),E=i(T,y.props.children),E.return=h,h=E;break e}}else if(T.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Su&&OC($)===T.type){r(h,T.sibling),E=i(T,y.props),E.ref=lp(h,T,y),E.return=h,h=E;break e}r(h,T);break}else t(h,T);T=T.sibling}y.type===Cd?(E=cf(y.props.children,h.mode,S,y.key),E.return=h,h=E):(S=Ay(y.type,y.key,y.props,null,h.mode,S),S.ref=lp(h,E,y),S.return=h,h=S)}return s(h);case kd:e:{for(T=y.key;E!==null;){if(E.key===T)if(E.tag===4&&E.stateNode.containerInfo===y.containerInfo&&E.stateNode.implementation===y.implementation){r(h,E.sibling),E=i(E,y.children||[]),E.return=h,h=E;break e}else{r(h,E);break}else t(h,E);E=E.sibling}E=$S(y,h.mode,S),E.return=h,h=E}return s(h);case Su:return T=y._init,v(h,E,T(y._payload),S)}if(xp(y))return g(h,E,y,S);if(np(y))return _(h,E,y,S);vv(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,E!==null&&E.tag===6?(r(h,E.sibling),E=i(E,y),E.return=h,h=E):(r(h,E),E=SS(y,h.mode,S),E.return=h,h=E),s(h)):r(h,E)}return v}var wh=J3(!0),Y3=J3(!1),fb=Zu(null),db=null,zd=null,IP=null;function kP(){IP=zd=db=null}function CP(e){var t=fb.current;wn(fb),e._currentValue=t}function C$(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function th(e,t){db=e,IP=zd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(So=!0),e.firstContext=null)}function Ns(e){var t=e._currentValue;if(IP!==e)if(e={context:e,memoizedValue:t,next:null},zd===null){if(db===null)throw Error(St(308));zd=e,db.dependencies={lanes:0,firstContext:e}}else zd=zd.next=e;return t}var ef=null;function jP(e){ef===null?ef=[e]:ef.push(e)}function X3(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,jP(t)):(r.next=i.next,i.next=r),t.interleaved=r,Dl(e,n)}function Dl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $u=!1;function DP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Dr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Dl(e,r)}return i=n.interleaved,i===null?(t.next=t,jP(n)):(t.next=i.next,i.next=t),n.interleaved=t,Dl(e,r)}function by(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_P(e,r)}}function PC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hb(e,t,r,n){var i=e.updateQueue;$u=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;s=0,f=u=l=null,a=o;do{var p=a.lane,m=a.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,_=a;switch(p=t,m=r,_.tag){case 1:if(g=_.payload,typeof g=="function"){c=g.call(m,c,p);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,p=typeof g=="function"?g.call(m,c,p):g,p==null)break e;c=kn({},c,p);break e;case 2:$u=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,l=c):f=f.next=m,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Tf|=s,e.lanes=s,e.memoizedState=c}}function RC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(St(191,i));i.call(n)}}}var dg={},Ja=Zu(dg),jm=Zu(dg),Dm=Zu(dg);function tf(e){if(e===dg)throw Error(St(174));return e}function MP(e,t){switch(hn(Dm,t),hn(jm,e),hn(Ja,dg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:p$(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=p$(t,e)}wn(Ja),hn(Ja,t)}function bh(){wn(Ja),wn(jm),wn(Dm)}function Z3(e){tf(Dm.current);var t=tf(Ja.current),r=p$(t,e.type);t!==r&&(hn(jm,e),hn(Ja,r))}function LP(e){jm.current===e&&(wn(Ja),wn(jm))}var Nn=Zu(0);function pb(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vS=[];function FP(){for(var e=0;e<vS.length;e++)vS[e]._workInProgressVersionPrimary=null;vS.length=0}var _y=zl.ReactCurrentDispatcher,yS=zl.ReactCurrentBatchConfig,$f=0,In=null,ti=null,ui=null,mb=!1,rm=!1,Mm=0,ZJ=0;function Ni(){throw Error(St(321))}function BP(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!la(e[r],t[r]))return!1;return!0}function UP(e,t,r,n,i,o){if($f=o,In=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_y.current=e===null||e.memoizedState===null?nY:iY,e=r(n,i),rm){o=0;do{if(rm=!1,Mm=0,25<=o)throw Error(St(301));o+=1,ui=ti=null,t.updateQueue=null,_y.current=oY,e=r(n,i)}while(rm)}if(_y.current=gb,t=ti!==null&&ti.next!==null,$f=0,ui=ti=In=null,mb=!1,t)throw Error(St(300));return e}function zP(){var e=Mm!==0;return Mm=0,e}function Ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ui===null?In.memoizedState=ui=e:ui=ui.next=e,ui}function Is(){if(ti===null){var e=In.alternate;e=e!==null?e.memoizedState:null}else e=ti.next;var t=ui===null?In.memoizedState:ui.next;if(t!==null)ui=t,ti=e;else{if(e===null)throw Error(St(310));ti=e,e={memoizedState:ti.memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},ui===null?In.memoizedState=ui=e:ui=ui.next=e}return ui}function Lm(e,t){return typeof t=="function"?t(e):t}function wS(e){var t=Is(),r=t.queue;if(r===null)throw Error(St(311));r.lastRenderedReducer=e;var n=ti,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,u=o;do{var f=u.lane;if(($f&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,s=n):l=l.next=c,In.lanes|=f,Tf|=f}u=u.next}while(u!==null&&u!==o);l===null?s=n:l.next=a,la(n,t.memoizedState)||(So=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,In.lanes|=o,Tf|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bS(e){var t=Is(),r=t.queue;if(r===null)throw Error(St(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);la(o,t.memoizedState)||(So=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function e4(){}function t4(e,t){var r=In,n=Is(),i=t(),o=!la(n.memoizedState,i);if(o&&(n.memoizedState=i,So=!0),n=n.queue,qP(i4.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||ui!==null&&ui.memoizedState.tag&1){if(r.flags|=2048,Fm(9,n4.bind(null,r,n,i,t),void 0,null),fi===null)throw Error(St(349));$f&30||r4(r,t,i)}return i}function r4(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=In.updateQueue,t===null?(t={lastEffect:null,stores:null},In.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function n4(e,t,r,n){t.value=r,t.getSnapshot=n,o4(t)&&s4(e)}function i4(e,t,r){return r(function(){o4(t)&&s4(e)})}function o4(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!la(e,r)}catch{return!0}}function s4(e){var t=Dl(e,1);t!==null&&sa(t,e,1,-1)}function NC(e){var t=Ca();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lm,lastRenderedState:e},t.queue=e,e=e.dispatch=rY.bind(null,In,e),[t.memoizedState,e]}function Fm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=In.updateQueue,t===null?(t={lastEffect:null,stores:null},In.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function a4(){return Is().memoizedState}function Ey(e,t,r,n){var i=Ca();In.flags|=e,i.memoizedState=Fm(1|t,r,void 0,n===void 0?null:n)}function A_(e,t,r,n){var i=Is();n=n===void 0?null:n;var o=void 0;if(ti!==null){var s=ti.memoizedState;if(o=s.destroy,n!==null&&BP(n,s.deps)){i.memoizedState=Fm(t,r,o,n);return}}In.flags|=e,i.memoizedState=Fm(1|t,r,o,n)}function IC(e,t){return Ey(8390656,8,e,t)}function qP(e,t){return A_(2048,8,e,t)}function l4(e,t){return A_(4,2,e,t)}function u4(e,t){return A_(4,4,e,t)}function c4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function f4(e,t,r){return r=r!=null?r.concat([e]):null,A_(4,4,c4.bind(null,t,e),r)}function VP(){}function d4(e,t){var r=Is();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&BP(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function h4(e,t){var r=Is();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&BP(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function p4(e,t,r){return $f&21?(la(r,t)||(r=w3(),In.lanes|=r,Tf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,So=!0),e.memoizedState=r)}function eY(e,t){var r=en;en=r!==0&&4>r?r:4,e(!0);var n=yS.transition;yS.transition={};try{e(!1),t()}finally{en=r,yS.transition=n}}function m4(){return Is().memoizedState}function tY(e,t,r){var n=zu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},g4(e))v4(t,r);else if(r=X3(e,t,r,n),r!==null){var i=ro();sa(r,e,n,i),y4(r,t,n)}}function rY(e,t,r){var n=zu(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(g4(e))v4(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,la(a,s)){var l=t.interleaved;l===null?(i.next=i,jP(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=X3(e,t,i,n),r!==null&&(i=ro(),sa(r,e,n,i),y4(r,t,n))}}function g4(e){var t=e.alternate;return e===In||t!==null&&t===In}function v4(e,t){rm=mb=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function y4(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_P(e,r)}}var gb={readContext:Ns,useCallback:Ni,useContext:Ni,useEffect:Ni,useImperativeHandle:Ni,useInsertionEffect:Ni,useLayoutEffect:Ni,useMemo:Ni,useReducer:Ni,useRef:Ni,useState:Ni,useDebugValue:Ni,useDeferredValue:Ni,useTransition:Ni,useMutableSource:Ni,useSyncExternalStore:Ni,useId:Ni,unstable_isNewReconciler:!1},nY={readContext:Ns,useCallback:function(e,t){return Ca().memoizedState=[e,t===void 0?null:t],e},useContext:Ns,useEffect:IC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ey(4194308,4,c4.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ey(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ey(4,2,e,t)},useMemo:function(e,t){var r=Ca();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ca();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=tY.bind(null,In,e),[n.memoizedState,e]},useRef:function(e){var t=Ca();return e={current:e},t.memoizedState=e},useState:NC,useDebugValue:VP,useDeferredValue:function(e){return Ca().memoizedState=e},useTransition:function(){var e=NC(!1),t=e[0];return e=eY.bind(null,e[1]),Ca().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=In,i=Ca();if(xn){if(r===void 0)throw Error(St(407));r=r()}else{if(r=t(),fi===null)throw Error(St(349));$f&30||r4(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,IC(i4.bind(null,n,o,e),[e]),n.flags|=2048,Fm(9,n4.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Ca(),t=fi.identifierPrefix;if(xn){var r=Tl,n=$l;r=(n&~(1<<32-oa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Mm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ZJ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iY={readContext:Ns,useCallback:d4,useContext:Ns,useEffect:qP,useImperativeHandle:f4,useInsertionEffect:l4,useLayoutEffect:u4,useMemo:h4,useReducer:wS,useRef:a4,useState:function(){return wS(Lm)},useDebugValue:VP,useDeferredValue:function(e){var t=Is();return p4(t,ti.memoizedState,e)},useTransition:function(){var e=wS(Lm)[0],t=Is().memoizedState;return[e,t]},useMutableSource:e4,useSyncExternalStore:t4,useId:m4,unstable_isNewReconciler:!1},oY={readContext:Ns,useCallback:d4,useContext:Ns,useEffect:qP,useImperativeHandle:f4,useInsertionEffect:l4,useLayoutEffect:u4,useMemo:h4,useReducer:bS,useRef:a4,useState:function(){return bS(Lm)},useDebugValue:VP,useDeferredValue:function(e){var t=Is();return ti===null?t.memoizedState=e:p4(t,ti.memoizedState,e)},useTransition:function(){var e=bS(Lm)[0],t=Is().memoizedState;return[e,t]},useMutableSource:e4,useSyncExternalStore:t4,useId:m4,unstable_isNewReconciler:!1};function Qs(e,t){if(e&&e.defaultProps){t=kn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function j$(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:kn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var x_={isMounted:function(e){return(e=e._reactInternals)?Lf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ro(),i=zu(e),o=Rl(n,i);o.payload=t,r!=null&&(o.callback=r),t=Bu(e,o,i),t!==null&&(sa(t,e,i,n),by(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ro(),i=zu(e),o=Rl(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Bu(e,o,i),t!==null&&(sa(t,e,i,n),by(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ro(),n=zu(e),i=Rl(r,n);i.tag=2,t!=null&&(i.callback=t),t=Bu(e,i,n),t!==null&&(sa(t,e,n,r),by(t,e,n))}};function kC(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!Nm(r,n)||!Nm(i,o):!0}function w4(e,t,r){var n=!1,i=Ju,o=t.contextType;return typeof o=="object"&&o!==null?o=Ns(o):(i=To(t)?Ef:zi.current,n=t.contextTypes,o=(n=n!=null)?vh(e,i):Ju),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=x_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function CC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&x_.enqueueReplaceState(t,t.state,null)}function D$(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},DP(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ns(o):(o=To(t)?Ef:zi.current,i.context=vh(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(j$(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&x_.enqueueReplaceState(i,i.state,null),hb(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function _h(e,t){try{var r="",n=t;do r+=kK(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function _S(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function M$(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sY=typeof WeakMap=="function"?WeakMap:Map;function b4(e,t,r){r=Rl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yb||(yb=!0,G$=n),M$(e,t)},r}function _4(e,t,r){r=Rl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){M$(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){M$(e,t),typeof n!="function"&&(Uu===null?Uu=new Set([this]):Uu.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function jC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new sY;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=bY.bind(null,e,t,r),t.then(e,e))}function DC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function MC(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rl(-1,1),t.tag=2,Bu(r,t,1))),r.lanes|=1),e)}var aY=zl.ReactCurrentOwner,So=!1;function Ji(e,t,r,n){t.child=e===null?Y3(t,null,r,n):wh(t,e.child,r,n)}function LC(e,t,r,n,i){r=r.render;var o=t.ref;return th(t,i),n=UP(e,t,r,n,o,i),r=zP(),e!==null&&!So?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ml(e,t,i)):(xn&&r&&PP(t),t.flags|=1,Ji(e,t,n,i),t.child)}function FC(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!QP(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,E4(e,t,o,n,i)):(e=Ay(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:Nm,r(s,n)&&e.ref===t.ref)return Ml(e,t,i)}return t.flags|=1,e=qu(o,n),e.ref=t.ref,e.return=t,t.child=e}function E4(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(Nm(o,n)&&e.ref===t.ref)if(So=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(So=!0);else return t.lanes=e.lanes,Ml(e,t,i)}return L$(e,t,r,n,i)}function S4(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},hn(Vd,qo),qo|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,hn(Vd,qo),qo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,hn(Vd,qo),qo|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,hn(Vd,qo),qo|=n;return Ji(e,t,i,r),t.child}function $4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function L$(e,t,r,n,i){var o=To(r)?Ef:zi.current;return o=vh(t,o),th(t,i),r=UP(e,t,r,n,o,i),n=zP(),e!==null&&!So?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ml(e,t,i)):(xn&&n&&PP(t),t.flags|=1,Ji(e,t,r,i),t.child)}function BC(e,t,r,n,i){if(To(r)){var o=!0;lb(t)}else o=!1;if(th(t,i),t.stateNode===null)Sy(e,t),w4(t,r,n),D$(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ns(u):(u=To(r)?Ef:zi.current,u=vh(t,u));var f=r.getDerivedStateFromProps,c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==u)&&CC(t,s,n,u),$u=!1;var p=t.memoizedState;s.state=p,hb(t,n,s,i),l=t.memoizedState,a!==n||p!==l||$o.current||$u?(typeof f=="function"&&(j$(t,r,f,n),l=t.memoizedState),(a=$u||kC(t,r,a,n,p,l,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Q3(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Qs(t.type,a),s.props=u,c=t.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ns(l):(l=To(r)?Ef:zi.current,l=vh(t,l));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==c||p!==l)&&CC(t,s,n,l),$u=!1,p=t.memoizedState,s.state=p,hb(t,n,s,i);var g=t.memoizedState;a!==c||p!==g||$o.current||$u?(typeof m=="function"&&(j$(t,r,m,n),g=t.memoizedState),(u=$u||kC(t,r,u,n,p,g,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return F$(e,t,r,n,o,i)}function F$(e,t,r,n,i,o){$4(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&TC(t,r,!1),Ml(e,t,o);n=t.stateNode,aY.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=wh(t,e.child,null,o),t.child=wh(t,null,a,o)):Ji(e,t,a,o),t.memoizedState=n.state,i&&TC(t,r,!0),t.child}function T4(e){var t=e.stateNode;t.pendingContext?$C(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$C(e,t.context,!1),MP(e,t.containerInfo)}function UC(e,t,r,n,i){return yh(),NP(i),t.flags|=256,Ji(e,t,r,n),t.child}var B$={dehydrated:null,treeContext:null,retryLane:0};function U$(e){return{baseLanes:e,cachePool:null,transitions:null}}function A4(e,t,r){var n=t.pendingProps,i=Nn.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),hn(Nn,i&1),e===null)return k$(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=R_(s,n,0,null),e=cf(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=U$(r),t.memoizedState=B$,e):HP(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return lY(e,t,s,n,a,i,r);if(o){o=n.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=qu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=qu(a,o):(o=cf(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?U$(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=B$,n}return o=e.child,e=o.sibling,n=qu(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function HP(e,t){return t=R_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yv(e,t,r,n){return n!==null&&NP(n),wh(t,e.child,null,r),e=HP(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lY(e,t,r,n,i,o,s){if(r)return t.flags&256?(t.flags&=-257,n=_S(Error(St(422))),yv(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=R_({mode:"visible",children:n.children},i,0,null),o=cf(o,i,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&wh(t,e.child,null,s),t.child.memoizedState=U$(s),t.memoizedState=B$,o);if(!(t.mode&1))return yv(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(St(419)),n=_S(o,n,void 0),yv(e,t,s,n)}if(a=(s&e.childLanes)!==0,So||a){if(n=fi,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Dl(e,i),sa(n,e,i,-1))}return XP(),n=_S(Error(St(421))),yv(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=_Y.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Go=Fu(i.nextSibling),Jo=t,xn=!0,ta=null,e!==null&&(ms[gs++]=$l,ms[gs++]=Tl,ms[gs++]=Sf,$l=e.id,Tl=e.overflow,Sf=t),t=HP(t,n.children),t.flags|=4096,t)}function zC(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),C$(e.return,t,r)}function ES(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function x4(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Ji(e,t,n.children,r),n=Nn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zC(e,r,t);else if(e.tag===19)zC(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(hn(Nn,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&pb(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ES(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&pb(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ES(t,!0,r,null,o);break;case"together":ES(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ml(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Tf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(St(153));if(t.child!==null){for(e=t.child,r=qu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function uY(e,t,r){switch(t.tag){case 3:T4(t),yh();break;case 5:Z3(t);break;case 1:To(t.type)&&lb(t);break;case 4:MP(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;hn(fb,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(hn(Nn,Nn.current&1),t.flags|=128,null):r&t.child.childLanes?A4(e,t,r):(hn(Nn,Nn.current&1),e=Ml(e,t,r),e!==null?e.sibling:null);hn(Nn,Nn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return x4(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),hn(Nn,Nn.current),n)break;return null;case 22:case 23:return t.lanes=0,S4(e,t,r)}return Ml(e,t,r)}var O4,z$,P4,R4;O4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};z$=function(){};P4=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,tf(Ja.current);var o=null;switch(r){case"input":i=c$(e,i),n=c$(e,n),o=[];break;case"select":i=kn({},i,{value:void 0}),n=kn({},n,{value:void 0}),o=[];break;case"textarea":i=h$(e,i),n=h$(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=sb)}m$(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($m.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($m.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&gn("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};R4=function(e,t,r,n){r!==n&&(t.flags|=4)};function up(e,t){if(!xn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ii(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function cY(e,t,r){var n=t.pendingProps;switch(RP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ii(t),null;case 1:return To(t.type)&&ab(),Ii(t),null;case 3:return n=t.stateNode,bh(),wn($o),wn(zi),FP(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(gv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ta!==null&&(Y$(ta),ta=null))),z$(e,t),Ii(t),null;case 5:LP(t);var i=tf(Dm.current);if(r=t.type,e!==null&&t.stateNode!=null)P4(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(St(166));return Ii(t),null}if(e=tf(Ja.current),gv(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Ma]=t,n[Cm]=o,e=(t.mode&1)!==0,r){case"dialog":gn("cancel",n),gn("close",n);break;case"iframe":case"object":case"embed":gn("load",n);break;case"video":case"audio":for(i=0;i<Pp.length;i++)gn(Pp[i],n);break;case"source":gn("error",n);break;case"img":case"image":case"link":gn("error",n),gn("load",n);break;case"details":gn("toggle",n);break;case"input":Xk(n,o),gn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},gn("invalid",n);break;case"textarea":Zk(n,o),gn("invalid",n)}m$(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&mv(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&mv(n.textContent,a,e),i=["children",""+a]):$m.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&gn("scroll",n)}switch(r){case"input":av(n),Qk(n,o,!0);break;case"textarea":av(n),eC(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=sb)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=i3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Ma]=t,e[Cm]=n,O4(e,t,!1,!1),t.stateNode=e;e:{switch(s=g$(r,n),r){case"dialog":gn("cancel",e),gn("close",e),i=n;break;case"iframe":case"object":case"embed":gn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Pp.length;i++)gn(Pp[i],e);i=n;break;case"source":gn("error",e),i=n;break;case"img":case"image":case"link":gn("error",e),gn("load",e),i=n;break;case"details":gn("toggle",e),i=n;break;case"input":Xk(e,n),i=c$(e,n),gn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=kn({},n,{value:void 0}),gn("invalid",e);break;case"textarea":Zk(e,n),i=h$(e,n),gn("invalid",e);break;default:i=n}m$(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?a3(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&o3(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Tm(e,l):typeof l=="number"&&Tm(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($m.hasOwnProperty(o)?l!=null&&o==="onScroll"&&gn("scroll",e):l!=null&&mP(e,o,l,s))}switch(r){case"input":av(e),Qk(e,n,!1);break;case"textarea":av(e),eC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ku(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Xd(e,!!n.multiple,o,!1):n.defaultValue!=null&&Xd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=sb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ii(t),null;case 6:if(e&&t.stateNode!=null)R4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(St(166));if(r=tf(Dm.current),tf(Ja.current),gv(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ma]=t,(o=n.nodeValue!==r)&&(e=Jo,e!==null))switch(e.tag){case 3:mv(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mv(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ma]=t,t.stateNode=n}return Ii(t),null;case 13:if(wn(Nn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xn&&Go!==null&&t.mode&1&&!(t.flags&128))K3(),yh(),t.flags|=98560,o=!1;else if(o=gv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(St(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(St(317));o[Ma]=t}else yh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ii(t),o=!1}else ta!==null&&(Y$(ta),ta=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Nn.current&1?ii===0&&(ii=3):XP())),t.updateQueue!==null&&(t.flags|=4),Ii(t),null);case 4:return bh(),z$(e,t),e===null&&Im(t.stateNode.containerInfo),Ii(t),null;case 10:return CP(t.type._context),Ii(t),null;case 17:return To(t.type)&&ab(),Ii(t),null;case 19:if(wn(Nn),o=t.memoizedState,o===null)return Ii(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)up(o,!1);else{if(ii!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=pb(e),s!==null){for(t.flags|=128,up(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return hn(Nn,Nn.current&1|2),t.child}e=e.sibling}o.tail!==null&&Vn()>Eh&&(t.flags|=128,n=!0,up(o,!1),t.lanes=4194304)}else{if(!n)if(e=pb(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),up(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!xn)return Ii(t),null}else 2*Vn()-o.renderingStartTime>Eh&&r!==1073741824&&(t.flags|=128,n=!0,up(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Vn(),t.sibling=null,r=Nn.current,hn(Nn,n?r&1|2:r&1),t):(Ii(t),null);case 22:case 23:return YP(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qo&1073741824&&(Ii(t),t.subtreeFlags&6&&(t.flags|=8192)):Ii(t),null;case 24:return null;case 25:return null}throw Error(St(156,t.tag))}function fY(e,t){switch(RP(t),t.tag){case 1:return To(t.type)&&ab(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bh(),wn($o),wn(zi),FP(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return LP(t),null;case 13:if(wn(Nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(St(340));yh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wn(Nn),null;case 4:return bh(),null;case 10:return CP(t.type._context),null;case 22:case 23:return YP(),null;case 24:return null;default:return null}}var wv=!1,Mi=!1,dY=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function qd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Mn(e,t,n)}else r.current=null}function q$(e,t,r){try{r()}catch(n){Mn(e,t,n)}}var qC=!1;function hY(e,t){if(A$=nb,e=j3(),OP(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,u=0,f=0,c=e,p=null;t:for(;;){for(var m;c!==r||i!==0&&c.nodeType!==3||(a=s+i),c!==o||n!==0&&c.nodeType!==3||(l=s+n),c.nodeType===3&&(s+=c.nodeValue.length),(m=c.firstChild)!==null;)p=c,c=m;for(;;){if(c===e)break t;if(p===r&&++u===i&&(a=s),p===o&&++f===n&&(l=s),(m=c.nextSibling)!==null)break;c=p,p=c.parentNode}c=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(x$={focusedElem:e,selectionRange:r},nb=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){t=Mt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,v=g.memoizedState,h=t.stateNode,E=h.getSnapshotBeforeUpdate(t.elementType===t.type?_:Qs(t.type,_),v);h.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(St(163))}}catch(S){Mn(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}return g=qC,qC=!1,g}function nm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&q$(t,r,o)}i=i.next}while(i!==n)}}function O_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function V$(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function N4(e){var t=e.alternate;t!==null&&(e.alternate=null,N4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ma],delete t[Cm],delete t[R$],delete t[JJ],delete t[YJ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function I4(e){return e.tag===5||e.tag===3||e.tag===4}function VC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||I4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function H$(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=sb));else if(n!==4&&(e=e.child,e!==null))for(H$(e,t,r),e=e.sibling;e!==null;)H$(e,t,r),e=e.sibling}function W$(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(W$(e,t,r),e=e.sibling;e!==null;)W$(e,t,r),e=e.sibling}var Si=null,Zs=!1;function ou(e,t,r){for(r=r.child;r!==null;)k4(e,t,r),r=r.sibling}function k4(e,t,r){if(Ka&&typeof Ka.onCommitFiberUnmount=="function")try{Ka.onCommitFiberUnmount(b_,r)}catch{}switch(r.tag){case 5:Mi||qd(r,t);case 6:var n=Si,i=Zs;Si=null,ou(e,t,r),Si=n,Zs=i,Si!==null&&(Zs?(e=Si,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Si.removeChild(r.stateNode));break;case 18:Si!==null&&(Zs?(e=Si,r=r.stateNode,e.nodeType===8?mS(e.parentNode,r):e.nodeType===1&&mS(e,r),Pm(e)):mS(Si,r.stateNode));break;case 4:n=Si,i=Zs,Si=r.stateNode.containerInfo,Zs=!0,ou(e,t,r),Si=n,Zs=i;break;case 0:case 11:case 14:case 15:if(!Mi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&q$(r,t,s),i=i.next}while(i!==n)}ou(e,t,r);break;case 1:if(!Mi&&(qd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Mn(r,t,a)}ou(e,t,r);break;case 21:ou(e,t,r);break;case 22:r.mode&1?(Mi=(n=Mi)||r.memoizedState!==null,ou(e,t,r),Mi=n):ou(e,t,r);break;default:ou(e,t,r)}}function HC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new dY),t.forEach(function(n){var i=EY.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function zs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Si=a.stateNode,Zs=!1;break e;case 3:Si=a.stateNode.containerInfo,Zs=!0;break e;case 4:Si=a.stateNode.containerInfo,Zs=!0;break e}a=a.return}if(Si===null)throw Error(St(160));k4(o,s,i),Si=null,Zs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Mn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)C4(t,e),t=t.sibling}function C4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zs(t,e),Ea(e),n&4){try{nm(3,e,e.return),O_(3,e)}catch(_){Mn(e,e.return,_)}try{nm(5,e,e.return)}catch(_){Mn(e,e.return,_)}}break;case 1:zs(t,e),Ea(e),n&512&&r!==null&&qd(r,r.return);break;case 5:if(zs(t,e),Ea(e),n&512&&r!==null&&qd(r,r.return),e.flags&32){var i=e.stateNode;try{Tm(i,"")}catch(_){Mn(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&r3(i,o),g$(a,s);var u=g$(a,o);for(s=0;s<l.length;s+=2){var f=l[s],c=l[s+1];f==="style"?a3(i,c):f==="dangerouslySetInnerHTML"?o3(i,c):f==="children"?Tm(i,c):mP(i,f,c,u)}switch(a){case"input":f$(i,o);break;case"textarea":n3(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Xd(i,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Xd(i,!!o.multiple,o.defaultValue,!0):Xd(i,!!o.multiple,o.multiple?[]:"",!1))}i[Cm]=o}catch(_){Mn(e,e.return,_)}}break;case 6:if(zs(t,e),Ea(e),n&4){if(e.stateNode===null)throw Error(St(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){Mn(e,e.return,_)}}break;case 3:if(zs(t,e),Ea(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pm(t.containerInfo)}catch(_){Mn(e,e.return,_)}break;case 4:zs(t,e),Ea(e);break;case 13:zs(t,e),Ea(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(KP=Vn())),n&4&&HC(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Mi=(u=Mi)||f,zs(t,e),Mi=u):zs(t,e),Ea(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Mt=e,f=e.child;f!==null;){for(c=Mt=f;Mt!==null;){switch(p=Mt,m=p.child,p.tag){case 0:case 11:case 14:case 15:nm(4,p,p.return);break;case 1:qd(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(_){Mn(n,r,_)}}break;case 5:qd(p,p.return);break;case 22:if(p.memoizedState!==null){GC(c);continue}}m!==null?(m.return=p,Mt=m):GC(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=c.stateNode,l=c.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=s3("display",s))}catch(_){Mn(e,e.return,_)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(_){Mn(e,e.return,_)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:zs(t,e),Ea(e),n&4&&HC(e);break;case 21:break;default:zs(t,e),Ea(e)}}function Ea(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(I4(r)){var n=r;break e}r=r.return}throw Error(St(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Tm(i,""),n.flags&=-33);var o=VC(e);W$(e,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=VC(e);H$(e,a,s);break;default:throw Error(St(161))}}catch(l){Mn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pY(e,t,r){Mt=e,j4(e)}function j4(e,t,r){for(var n=(e.mode&1)!==0;Mt!==null;){var i=Mt,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||wv;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Mi;a=wv;var u=Mi;if(wv=s,(Mi=l)&&!u)for(Mt=i;Mt!==null;)s=Mt,l=s.child,s.tag===22&&s.memoizedState!==null?KC(i):l!==null?(l.return=s,Mt=l):KC(i);for(;o!==null;)Mt=o,j4(o),o=o.sibling;Mt=i,wv=a,Mi=u}WC(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Mt=o):WC(e)}}function WC(e){for(;Mt!==null;){var t=Mt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mi||O_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Mi)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Qs(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&RC(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}RC(t,s,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Pm(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(St(163))}Mi||t.flags&512&&V$(t)}catch(p){Mn(t,t.return,p)}}if(t===e){Mt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function GC(e){for(;Mt!==null;){var t=Mt;if(t===e){Mt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function KC(e){for(;Mt!==null;){var t=Mt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{O_(4,t)}catch(l){Mn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Mn(t,i,l)}}var o=t.return;try{V$(t)}catch(l){Mn(t,o,l)}break;case 5:var s=t.return;try{V$(t)}catch(l){Mn(t,s,l)}}}catch(l){Mn(t,t.return,l)}if(t===e){Mt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Mt=a;break}Mt=t.return}}var mY=Math.ceil,vb=zl.ReactCurrentDispatcher,WP=zl.ReactCurrentOwner,Ps=zl.ReactCurrentBatchConfig,Dr=0,fi=null,Xn=null,Ai=0,qo=0,Vd=Zu(0),ii=0,Bm=null,Tf=0,P_=0,GP=0,im=null,bo=null,KP=0,Eh=1/0,ml=null,yb=!1,G$=null,Uu=null,bv=!1,Nu=null,wb=0,om=0,K$=null,$y=-1,Ty=0;function ro(){return Dr&6?Vn():$y!==-1?$y:$y=Vn()}function zu(e){return e.mode&1?Dr&2&&Ai!==0?Ai&-Ai:QJ.transition!==null?(Ty===0&&(Ty=w3()),Ty):(e=en,e!==0||(e=window.event,e=e===void 0?16:A3(e.type)),e):1}function sa(e,t,r,n){if(50<om)throw om=0,K$=null,Error(St(185));ug(e,r,n),(!(Dr&2)||e!==fi)&&(e===fi&&(!(Dr&2)&&(P_|=r),ii===4&&xu(e,Ai)),Ao(e,n),r===1&&Dr===0&&!(t.mode&1)&&(Eh=Vn()+500,T_&&ec()))}function Ao(e,t){var r=e.callbackNode;QK(e,t);var n=rb(e,e===fi?Ai:0);if(n===0)r!==null&&nC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&nC(r),t===1)e.tag===0?XJ(JC.bind(null,e)):H3(JC.bind(null,e)),GJ(function(){!(Dr&6)&&ec()}),r=null;else{switch(b3(n)){case 1:r=bP;break;case 4:r=v3;break;case 16:r=tb;break;case 536870912:r=y3;break;default:r=tb}r=q4(r,D4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function D4(e,t){if($y=-1,Ty=0,Dr&6)throw Error(St(327));var r=e.callbackNode;if(rh()&&e.callbackNode!==r)return null;var n=rb(e,e===fi?Ai:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bb(e,n);else{t=n;var i=Dr;Dr|=2;var o=L4();(fi!==e||Ai!==t)&&(ml=null,Eh=Vn()+500,uf(e,t));do try{yY();break}catch(a){M4(e,a)}while(!0);kP(),vb.current=o,Dr=i,Xn!==null?t=0:(fi=null,Ai=0,t=ii)}if(t!==0){if(t===2&&(i=_$(e),i!==0&&(n=i,t=J$(e,i))),t===1)throw r=Bm,uf(e,0),xu(e,n),Ao(e,Vn()),r;if(t===6)xu(e,n);else{if(i=e.current.alternate,!(n&30)&&!gY(i)&&(t=bb(e,n),t===2&&(o=_$(e),o!==0&&(n=o,t=J$(e,o))),t===1))throw r=Bm,uf(e,0),xu(e,n),Ao(e,Vn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(St(345));case 2:Bc(e,bo,ml);break;case 3:if(xu(e,n),(n&130023424)===n&&(t=KP+500-Vn(),10<t)){if(rb(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ro(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=P$(Bc.bind(null,e,bo,ml),t);break}Bc(e,bo,ml);break;case 4:if(xu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-oa(n);o=1<<s,s=t[s],s>i&&(i=s),n&=~o}if(n=i,n=Vn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*mY(n/1960))-n,10<n){e.timeoutHandle=P$(Bc.bind(null,e,bo,ml),n);break}Bc(e,bo,ml);break;case 5:Bc(e,bo,ml);break;default:throw Error(St(329))}}}return Ao(e,Vn()),e.callbackNode===r?D4.bind(null,e):null}function J$(e,t){var r=im;return e.current.memoizedState.isDehydrated&&(uf(e,t).flags|=256),e=bb(e,t),e!==2&&(t=bo,bo=r,t!==null&&Y$(t)),e}function Y$(e){bo===null?bo=e:bo.push.apply(bo,e)}function gY(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!la(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xu(e,t){for(t&=~GP,t&=~P_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-oa(t),n=1<<r;e[r]=-1,t&=~n}}function JC(e){if(Dr&6)throw Error(St(327));rh();var t=rb(e,0);if(!(t&1))return Ao(e,Vn()),null;var r=bb(e,t);if(e.tag!==0&&r===2){var n=_$(e);n!==0&&(t=n,r=J$(e,n))}if(r===1)throw r=Bm,uf(e,0),xu(e,t),Ao(e,Vn()),r;if(r===6)throw Error(St(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bc(e,bo,ml),Ao(e,Vn()),null}function JP(e,t){var r=Dr;Dr|=1;try{return e(t)}finally{Dr=r,Dr===0&&(Eh=Vn()+500,T_&&ec())}}function Af(e){Nu!==null&&Nu.tag===0&&!(Dr&6)&&rh();var t=Dr;Dr|=1;var r=Ps.transition,n=en;try{if(Ps.transition=null,en=1,e)return e()}finally{en=n,Ps.transition=r,Dr=t,!(Dr&6)&&ec()}}function YP(){qo=Vd.current,wn(Vd)}function uf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,WJ(r)),Xn!==null)for(r=Xn.return;r!==null;){var n=r;switch(RP(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ab();break;case 3:bh(),wn($o),wn(zi),FP();break;case 5:LP(n);break;case 4:bh();break;case 13:wn(Nn);break;case 19:wn(Nn);break;case 10:CP(n.type._context);break;case 22:case 23:YP()}r=r.return}if(fi=e,Xn=e=qu(e.current,null),Ai=qo=t,ii=0,Bm=null,GP=P_=Tf=0,bo=im=null,ef!==null){for(t=0;t<ef.length;t++)if(r=ef[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}ef=null}return e}function M4(e,t){do{var r=Xn;try{if(kP(),_y.current=gb,mb){for(var n=In.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}mb=!1}if($f=0,ui=ti=In=null,rm=!1,Mm=0,WP.current=null,r===null||r.return===null){ii=1,Bm=t,Xn=null;break}e:{var o=e,s=r.return,a=r,l=t;if(t=Ai,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=DC(s);if(m!==null){m.flags&=-257,MC(m,s,a,o,t),m.mode&1&&jC(o,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var _=new Set;_.add(l),t.updateQueue=_}else g.add(l);break e}else{if(!(t&1)){jC(o,u,t),XP();break e}l=Error(St(426))}}else if(xn&&a.mode&1){var v=DC(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),MC(v,s,a,o,t),NP(_h(l,a));break e}}o=l=_h(l,a),ii!==4&&(ii=2),im===null?im=[o]:im.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=b4(o,l,t);PC(o,h);break e;case 1:a=l;var E=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Uu===null||!Uu.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=_4(o,a,t);PC(o,S);break e}}o=o.return}while(o!==null)}B4(r)}catch($){t=$,Xn===r&&r!==null&&(Xn=r=r.return);continue}break}while(!0)}function L4(){var e=vb.current;return vb.current=gb,e===null?gb:e}function XP(){(ii===0||ii===3||ii===2)&&(ii=4),fi===null||!(Tf&268435455)&&!(P_&268435455)||xu(fi,Ai)}function bb(e,t){var r=Dr;Dr|=2;var n=L4();(fi!==e||Ai!==t)&&(ml=null,uf(e,t));do try{vY();break}catch(i){M4(e,i)}while(!0);if(kP(),Dr=r,vb.current=n,Xn!==null)throw Error(St(261));return fi=null,Ai=0,ii}function vY(){for(;Xn!==null;)F4(Xn)}function yY(){for(;Xn!==null&&!qK();)F4(Xn)}function F4(e){var t=z4(e.alternate,e,qo);e.memoizedProps=e.pendingProps,t===null?B4(e):Xn=t,WP.current=null}function B4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=fY(r,t),r!==null){r.flags&=32767,Xn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ii=6,Xn=null;return}}else if(r=cY(r,t,qo),r!==null){Xn=r;return}if(t=t.sibling,t!==null){Xn=t;return}Xn=t=e}while(t!==null);ii===0&&(ii=5)}function Bc(e,t,r){var n=en,i=Ps.transition;try{Ps.transition=null,en=1,wY(e,t,r,n)}finally{Ps.transition=i,en=n}return null}function wY(e,t,r,n){do rh();while(Nu!==null);if(Dr&6)throw Error(St(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(St(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(ZK(e,o),e===fi&&(Xn=fi=null,Ai=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bv||(bv=!0,q4(tb,function(){return rh(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Ps.transition,Ps.transition=null;var s=en;en=1;var a=Dr;Dr|=4,WP.current=null,hY(e,r),C4(r,e),FJ(x$),nb=!!A$,x$=A$=null,e.current=r,pY(r),VK(),Dr=a,en=s,Ps.transition=o}else e.current=r;if(bv&&(bv=!1,Nu=e,wb=i),o=e.pendingLanes,o===0&&(Uu=null),GK(r.stateNode),Ao(e,Vn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(yb)throw yb=!1,e=G$,G$=null,e;return wb&1&&e.tag!==0&&rh(),o=e.pendingLanes,o&1?e===K$?om++:(om=0,K$=e):om=0,ec(),null}function rh(){if(Nu!==null){var e=b3(wb),t=Ps.transition,r=en;try{if(Ps.transition=null,en=16>e?16:e,Nu===null)var n=!1;else{if(e=Nu,Nu=null,wb=0,Dr&6)throw Error(St(331));var i=Dr;for(Dr|=4,Mt=e.current;Mt!==null;){var o=Mt,s=o.child;if(Mt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Mt=u;Mt!==null;){var f=Mt;switch(f.tag){case 0:case 11:case 15:nm(8,f,o)}var c=f.child;if(c!==null)c.return=f,Mt=c;else for(;Mt!==null;){f=Mt;var p=f.sibling,m=f.return;if(N4(f),f===u){Mt=null;break}if(p!==null){p.return=m,Mt=p;break}Mt=m}}}var g=o.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}Mt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Mt=s;else e:for(;Mt!==null;){if(o=Mt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:nm(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,Mt=h;break e}Mt=o.return}}var E=e.current;for(Mt=E;Mt!==null;){s=Mt;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Mt=y;else e:for(s=E;Mt!==null;){if(a=Mt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:O_(9,a)}}catch($){Mn(a,a.return,$)}if(a===s){Mt=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Mt=S;break e}Mt=a.return}}if(Dr=i,ec(),Ka&&typeof Ka.onPostCommitFiberRoot=="function")try{Ka.onPostCommitFiberRoot(b_,e)}catch{}n=!0}return n}finally{en=r,Ps.transition=t}}return!1}function YC(e,t,r){t=_h(r,t),t=b4(e,t,1),e=Bu(e,t,1),t=ro(),e!==null&&(ug(e,1,t),Ao(e,t))}function Mn(e,t,r){if(e.tag===3)YC(e,e,r);else for(;t!==null;){if(t.tag===3){YC(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Uu===null||!Uu.has(n))){e=_h(r,e),e=_4(t,e,1),t=Bu(t,e,1),e=ro(),t!==null&&(ug(t,1,e),Ao(t,e));break}}t=t.return}}function bY(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ro(),e.pingedLanes|=e.suspendedLanes&r,fi===e&&(Ai&r)===r&&(ii===4||ii===3&&(Ai&130023424)===Ai&&500>Vn()-KP?uf(e,0):GP|=r),Ao(e,t)}function U4(e,t){t===0&&(e.mode&1?(t=cv,cv<<=1,!(cv&130023424)&&(cv=4194304)):t=1);var r=ro();e=Dl(e,t),e!==null&&(ug(e,t,r),Ao(e,r))}function _Y(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),U4(e,r)}function EY(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(St(314))}n!==null&&n.delete(t),U4(e,r)}var z4;z4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$o.current)So=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return So=!1,uY(e,t,r);So=!!(e.flags&131072)}else So=!1,xn&&t.flags&1048576&&W3(t,cb,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Sy(e,t),e=t.pendingProps;var i=vh(t,zi.current);th(t,r),i=UP(null,t,n,e,i,r);var o=zP();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,To(n)?(o=!0,lb(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,DP(t),i.updater=x_,t.stateNode=i,i._reactInternals=t,D$(t,n,e,r),t=F$(null,t,n,!0,o,r)):(t.tag=0,xn&&o&&PP(t),Ji(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Sy(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=$Y(n),e=Qs(n,e),i){case 0:t=L$(null,t,n,e,r);break e;case 1:t=BC(null,t,n,e,r);break e;case 11:t=LC(null,t,n,e,r);break e;case 14:t=FC(null,t,n,Qs(n.type,e),r);break e}throw Error(St(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qs(n,i),L$(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qs(n,i),BC(e,t,n,i,r);case 3:e:{if(T4(t),e===null)throw Error(St(387));n=t.pendingProps,o=t.memoizedState,i=o.element,Q3(e,t),hb(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=_h(Error(St(423)),t),t=UC(e,t,n,r,i);break e}else if(n!==i){i=_h(Error(St(424)),t),t=UC(e,t,n,r,i);break e}else for(Go=Fu(t.stateNode.containerInfo.firstChild),Jo=t,xn=!0,ta=null,r=Y3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yh(),n===i){t=Ml(e,t,r);break e}Ji(e,t,n,r)}t=t.child}return t;case 5:return Z3(t),e===null&&k$(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,O$(n,i)?s=null:o!==null&&O$(n,o)&&(t.flags|=32),$4(e,t),Ji(e,t,s,r),t.child;case 6:return e===null&&k$(t),null;case 13:return A4(e,t,r);case 4:return MP(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wh(t,null,n,r):Ji(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qs(n,i),LC(e,t,n,i,r);case 7:return Ji(e,t,t.pendingProps,r),t.child;case 8:return Ji(e,t,t.pendingProps.children,r),t.child;case 12:return Ji(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,hn(fb,n._currentValue),n._currentValue=s,o!==null)if(la(o.value,s)){if(o.children===i.children&&!$o.current){t=Ml(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Rl(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),C$(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(St(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),C$(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ji(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,th(t,r),i=Ns(i),n=n(i),t.flags|=1,Ji(e,t,n,r),t.child;case 14:return n=t.type,i=Qs(n,t.pendingProps),i=Qs(n.type,i),FC(e,t,n,i,r);case 15:return E4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qs(n,i),Sy(e,t),t.tag=1,To(n)?(e=!0,lb(t)):e=!1,th(t,r),w4(t,n,i),D$(t,n,i,r),F$(null,t,n,!0,e,r);case 19:return x4(e,t,r);case 22:return S4(e,t,r)}throw Error(St(156,t.tag))};function q4(e,t){return g3(e,t)}function SY(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(e,t,r,n){return new SY(e,t,r,n)}function QP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $Y(e){if(typeof e=="function")return QP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vP)return 11;if(e===yP)return 14}return 2}function qu(e,t){var r=e.alternate;return r===null?(r=Os(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ay(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")QP(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Cd:return cf(r.children,i,o,t);case gP:s=8,i|=8;break;case s$:return e=Os(12,r,t,i|2),e.elementType=s$,e.lanes=o,e;case a$:return e=Os(13,r,t,i),e.elementType=a$,e.lanes=o,e;case l$:return e=Os(19,r,t,i),e.elementType=l$,e.lanes=o,e;case ZF:return R_(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case XF:s=10;break e;case QF:s=9;break e;case vP:s=11;break e;case yP:s=14;break e;case Su:s=16,n=null;break e}throw Error(St(130,e==null?e:typeof e,""))}return t=Os(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function cf(e,t,r,n){return e=Os(7,e,n,t),e.lanes=r,e}function R_(e,t,r,n){return e=Os(22,e,n,t),e.elementType=ZF,e.lanes=r,e.stateNode={isHidden:!1},e}function SS(e,t,r){return e=Os(6,e,null,t),e.lanes=r,e}function $S(e,t,r){return t=Os(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function TY(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iS(0),this.expirationTimes=iS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iS(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ZP(e,t,r,n,i,o,s,a,l){return e=new TY(e,t,r,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Os(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},DP(o),e}function AY(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function V4(e){if(!e)return Ju;e=e._reactInternals;e:{if(Lf(e)!==e||e.tag!==1)throw Error(St(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(To(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(St(171))}if(e.tag===1){var r=e.type;if(To(r))return V3(e,r,t)}return t}function H4(e,t,r,n,i,o,s,a,l){return e=ZP(r,n,!0,e,i,o,s,a,l),e.context=V4(null),r=e.current,n=ro(),i=zu(r),o=Rl(n,i),o.callback=t??null,Bu(r,o,i),e.current.lanes=i,ug(e,i,n),Ao(e,n),e}function N_(e,t,r,n){var i=t.current,o=ro(),s=zu(i);return r=V4(r),t.context===null?t.context=r:t.pendingContext=r,t=Rl(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Bu(i,t,s),e!==null&&(sa(e,i,s,o),by(e,i,s)),s}function _b(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function XC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function eR(e,t){XC(e,t),(e=e.alternate)&&XC(e,t)}function xY(){return null}var W4=typeof reportError=="function"?reportError:function(e){console.error(e)};function tR(e){this._internalRoot=e}I_.prototype.render=tR.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(St(409));N_(e,t,null,null)};I_.prototype.unmount=tR.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Af(function(){N_(null,e,null,null)}),t[jl]=null}};function I_(e){this._internalRoot=e}I_.prototype.unstable_scheduleHydration=function(e){if(e){var t=S3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Au.length&&t!==0&&t<Au[r].priority;r++);Au.splice(r,0,e),r===0&&T3(e)}};function rR(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function k_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function QC(){}function OY(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=_b(s);o.call(u)}}var s=H4(t,n,e,0,null,!1,!1,"",QC);return e._reactRootContainer=s,e[jl]=s.current,Im(e.nodeType===8?e.parentNode:e),Af(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=_b(l);a.call(u)}}var l=ZP(e,0,!1,null,null,!1,!1,"",QC);return e._reactRootContainer=l,e[jl]=l.current,Im(e.nodeType===8?e.parentNode:e),Af(function(){N_(t,l,r,n)}),l}function C_(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=_b(s);a.call(l)}}N_(t,s,e,i)}else s=OY(r,t,e,i,n);return _b(s)}_3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Op(t.pendingLanes);r!==0&&(_P(t,r|1),Ao(t,Vn()),!(Dr&6)&&(Eh=Vn()+500,ec()))}break;case 13:Af(function(){var n=Dl(e,1);if(n!==null){var i=ro();sa(n,e,1,i)}}),eR(e,1)}};EP=function(e){if(e.tag===13){var t=Dl(e,134217728);if(t!==null){var r=ro();sa(t,e,134217728,r)}eR(e,134217728)}};E3=function(e){if(e.tag===13){var t=zu(e),r=Dl(e,t);if(r!==null){var n=ro();sa(r,e,t,n)}eR(e,t)}};S3=function(){return en};$3=function(e,t){var r=en;try{return en=e,t()}finally{en=r}};y$=function(e,t,r){switch(t){case"input":if(f$(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=$_(n);if(!i)throw Error(St(90));t3(n),f$(n,i)}}}break;case"textarea":n3(e,r);break;case"select":t=r.value,t!=null&&Xd(e,!!r.multiple,t,!1)}};c3=JP;f3=Af;var PY={usingClientEntryPoint:!1,Events:[fg,Ld,$_,l3,u3,JP]},cp={findFiberByHostInstance:Zc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RY={bundleType:cp.bundleType,version:cp.version,rendererPackageName:cp.rendererPackageName,rendererConfig:cp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=p3(e),e===null?null:e.stateNode},findFiberByHostInstance:cp.findFiberByHostInstance||xY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _v=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_v.isDisabled&&_v.supportsFiber)try{b_=_v.inject(RY),Ka=_v}catch{}}Qo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PY;Qo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rR(t))throw Error(St(200));return AY(e,t,null,r)};Qo.createRoot=function(e,t){if(!rR(e))throw Error(St(299));var r=!1,n="",i=W4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ZP(e,1,!1,null,null,r,!1,n,i),e[jl]=t.current,Im(e.nodeType===8?e.parentNode:e),new tR(t)};Qo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(St(188)):(e=Object.keys(e).join(","),Error(St(268,e)));return e=p3(t),e=e===null?null:e.stateNode,e};Qo.flushSync=function(e){return Af(e)};Qo.hydrate=function(e,t,r){if(!k_(t))throw Error(St(200));return C_(null,e,t,!0,r)};Qo.hydrateRoot=function(e,t,r){if(!rR(e))throw Error(St(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=W4;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=H4(t,null,e,1,r??null,i,!1,o,s),e[jl]=t.current,Im(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new I_(t)};Qo.render=function(e,t,r){if(!k_(t))throw Error(St(200));return C_(null,e,t,!1,r)};Qo.unmountComponentAtNode=function(e){if(!k_(e))throw Error(St(40));return e._reactRootContainer?(Af(function(){C_(null,null,e,!1,function(){e._reactRootContainer=null,e[jl]=null})}),!0):!1};Qo.unstable_batchedUpdates=JP;Qo.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!k_(r))throw Error(St(200));if(e==null||e._reactInternals===void 0)throw Error(St(38));return C_(e,t,r,!1,n)};Qo.version="18.3.1-next-f1338f8080-20240426";function G4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G4)}catch(e){console.error(e)}}G4(),GF.exports=Qo;var K4=GF.exports;const ql=Df(K4);var ZC=K4;i$.createRoot=ZC.createRoot,i$.hydrateRoot=ZC.hydrateRoot;const NY={offlineTD:"",isValidJSON:!0,parsedTD:{},isModified:!1,name:"",fileHandle:null,linkedTd:{},validationMessage:void 0,updateOfflineTD:()=>{},updateIsModified:()=>{},setFileHandle:()=>{},removeForm:()=>{},addForm:()=>{},removeLink:()=>{},removeOneOfAKindReducer:()=>{},addLinkedTd:()=>{},updateLinkedTd:()=>{},updateValidationMessage:()=>{}},bn=et.createContext(NY),IY=(e,t)=>{switch(t.type){case J4:return kY(t.offlineTD,e);case Y4:return BY(t.isModified,e);case X4:return UY(t.fileHandle,e);case Q4:return CY(t.level,t.interactionName,t.toBeDeletedForm,t.index,e);case Z4:return jY(t.link,e);case tB:return DY(t.kind,t.oneOfAKindName,e);case eB:return MY(t.level,t.interactionName,t.form,e);case rB:return LY(t.linkedTd,e);case nB:return FY(t.linkedTd,e);case iB:return zY(t.validationMessage,e);default:return e}},kY=(e,t)=>{if(e==t.offlineTD)return t;if(e==="")return{...t,offlineTD:"",isModified:!0,isValidJSON:!0,parsedTD:{}};let r;try{r=JSON.parse(e)}catch(i){return console.error(i.message),{...t,offlineTD:e,isModified:!0,isValidJSON:!1,parsedTD:t.parsedTD}}let n=t.linkedTd;if(!n)n={[r.title||"ediTDor Thing"]:r};else if(n&&typeof t.fileHandle!="object"&&document.getElementById("linkedTd")){const i=document.getElementById("linkedTd"),o=(i==null?void 0:i.value)||"";o===""?n[r.title||"ediTDor Thing"]=r:n[o]=r}return{...t,offlineTD:e,isModified:!0,isValidJSON:!0,linkedTd:n,parsedTD:r}},CY=(e,t,r,n,i)=>{var a,l;if(!i.isValidJSON)return i;let o=structuredClone(i.parsedTD),s;if(e==="thing"){if(!o.forms||!Array.isArray(o.forms))return i;s=o.forms}else{if(!o[e]||!o[e][t]||!o[e][t].forms||!Array.isArray(o[e][t].forms))return i;s=o[e][t].forms}if(!s||n>s.length-1)return i;if((a=s[n])!=null&&a.op&&Array.isArray(s[n].op)){const u=s[n].op.indexOf(r.op);if(u===-1)return i;s[n].op.splice(u,1),s[n].op.length==0&&s.splice(n,1)}else((l=s[n])==null?void 0:l.op)===r.op&&s.splice(n,1);return{...i,offlineTD:JSON.stringify(o,null,2),parsedTD:o}},jY=(e,t)=>{var i;if(!t.isValidJSON)return t;let r=structuredClone(t.parsedTD);try{(i=r.links)==null||i.splice(e,1)}catch{alert("Sorry we were unable to delete the Link.")}let n=t.linkedTd;if(n&&typeof t.fileHandle!="object"&&document.getElementById("linkedTd")){const o=document.getElementById("linkedTd");let s=o?o.value:"";s===""?n[r.title||"ediTDor Thing"]=r:n[s]=r}return{...t,offlineTD:JSON.stringify(r,null,2),linkedTd:n,parsedTD:r}},DY=(e,t,r)=>{if(!r.isValidJSON)return r;let n=structuredClone(r.parsedTD);try{delete n[e][t]}catch{alert("Sorry we were unable to delete the Form.")}return{...r,offlineTD:JSON.stringify(n,null,2),parsedTD:n}},MY=(e,t,r,n)=>{if(!n.isValidJSON)return n;let i=structuredClone(n.parsedTD);if(e=="thing")return i.forms&&!Array.isArray(i.forms)?n:(i.forms||(i.forms=[]),i.forms.push(r),{...n,offlineTD:JSON.stringify(i,null,2),parsedTD:i});if(!i[e]||!i[e][t])return n;const o=i[e][t];return o.forms||(o.forms=[]),o.forms.push(r),{...n,offlineTD:JSON.stringify(i,null,2),parsedTD:i}},LY=(e,t)=>{let r=structuredClone(t.linkedTd),n={};return r===void 0?n=e:n=Object.assign(r,e),{...t,linkedTd:n}},FY=(e,t)=>({...t,linkedTd:e}),BY=(e,t)=>({...t,isModified:e}),UY=(e,t)=>({...t,fileHandle:e}),zY=(e,t)=>({...t,validationMessage:e}),J4="UPDATE_OFFLINE_TD",Y4="UPDATE_IS_MODFIED",X4="SET_FILE_HANDLE",Q4="REMOVE_FORM_FROM_TD",Z4="REMOVE_LINK_FROM_TD",eB="ADD_FORM_TO_TD",tB="REMOVE_ONE_OF_A_KIND_FROM_TD",rB="ADD_LINKED_TD",nB="UPDATE_LINKED_TD",iB="UPDATE_VALIDATION_MESSAGE",qY=({children:e})=>{const[t,r]=Ce.useReducer(IY,{offlineTD:"",validationMessage:"",parsedTD:{},isValidJSON:!1}),n=m=>{r({type:J4,offlineTD:m})},i=m=>{r({type:Y4,isModified:m})},o=m=>{r({type:X4,fileHandle:m})},s=m=>{r({type:Z4,link:m})},a=(m,g,_)=>{r({type:eB,level:m,interactionName:g,form:_})},l=(m,g,_,v)=>{r({type:Q4,level:m,interactionName:g,toBeDeletedForm:_,index:v})},u=(m,g)=>{r({type:tB,kind:m,oneOfAKindName:g})},f=m=>{r({type:rB,linkedTd:m})},c=m=>{r({type:nB,linkedTd:m})},p=m=>{r({type:iB,validationMessage:m})};return ae.jsx(bn.Provider,{value:{offlineTD:t.offlineTD,isModified:t.isModified,isValidJSON:t.isValidJSON,parsedTD:t.parsedTD,name:t.name,fileHandle:t.fileHandle,linkedTd:t.linkedTd,validationMessage:t.validationMessage,updateOfflineTD:n,updateIsModified:i,setFileHandle:o,removeLink:s,addForm:a,removeForm:l,removeOneOfAKindReducer:u,addLinkedTd:f,updateLinkedTd:c,updateValidationMessage:p},children:e})};function VY(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function t2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){VY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HY(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function WY(e,t){if(e==null)return{};var r=HY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GY(e,t){return KY(e)||JY(e,t)||YY(e,t)||XY()}function KY(e){if(Array.isArray(e))return e}function JY(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(n=(a=s.next()).done)&&(r.push(a.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function YY(e,t){if(e){if(typeof e=="string")return r2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r2(e,t)}}function r2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QY(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function i2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){QY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZY(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(i,o){return o(i)},n)}}function Rp(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.apply(r,[].concat(i,a))}}}function Eb(e){return{}.toString.call(e).includes("Object")}function eX(e){return!Object.keys(e).length}function Um(e){return typeof e=="function"}function tX(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function rX(e,t){return Eb(t)||Vu("changeType"),Object.keys(t).some(function(r){return!tX(e,r)})&&Vu("changeField"),t}function nX(e){Um(e)||Vu("selectorType")}function iX(e){Um(e)||Eb(e)||Vu("handlerType"),Eb(e)&&Object.values(e).some(function(t){return!Um(t)})&&Vu("handlersType")}function oX(e){e||Vu("initialIsRequired"),Eb(e)||Vu("initialType"),eX(e)&&Vu("initialContent")}function sX(e,t){throw new Error(e[t]||e.default)}var aX={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Vu=Rp(sX)(aX),Ev={changes:rX,selector:nX,handler:iX,initial:oX};function lX(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ev.initial(e),Ev.handler(t);var r={current:e},n=Rp(fX)(r,t),i=Rp(cX)(r),o=Rp(Ev.changes)(e),s=Rp(uX)(r);function a(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return Ev.selector(u),u(r.current)}function l(u){ZY(n,i,o,s)(u)}return[a,l]}function uX(e,t){return Um(t)?t(e.current):t}function cX(e,t){return e.current=i2(i2({},e.current),t),t}function fX(e,t,r){return Um(t)?t(e.current):Object.keys(r).forEach(function(n){var i;return(i=t[n])===null||i===void 0?void 0:i.call(t,e.current[n])}),r}var dX={create:lX},hX={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function pX(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.apply(r,[].concat(i,a))}}}function mX(e){return{}.toString.call(e).includes("Object")}function gX(e){return e||o2("configIsRequired"),mX(e)||o2("configType"),e.urls?(vX(),{paths:{vs:e.urls.monacoBase}}):e}function vX(){console.warn(oB.deprecation)}function yX(e,t){throw new Error(e[t]||e.default)}var oB={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},o2=pX(yX)(oB),wX={config:gX},bX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(i){return r.reduceRight(function(o,s){return s(o)},i)}};function sB(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],sB(e[r],t[r]))}),t2(t2({},e),t)}var _X={type:"cancelation",msg:"operation is manually canceled"};function TS(e){var t=!1,r=new Promise(function(n,i){e.then(function(o){return t?i(_X):n(o)}),e.catch(i)});return r.cancel=function(){return t=!0},r}var EX=dX.create({config:hX,isInitialized:!1,resolve:null,reject:null,monaco:null}),aB=GY(EX,2),hg=aB[0],j_=aB[1];function SX(e){var t=wX.config(e),r=t.monaco,n=WY(t,["monaco"]);j_(function(i){return{config:sB(i.config,n),monaco:r}})}function $X(){var e=hg(function(t){var r=t.monaco,n=t.isInitialized,i=t.resolve;return{monaco:r,isInitialized:n,resolve:i}});if(!e.isInitialized){if(j_({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),TS(AS);if(window.monaco&&window.monaco.editor)return lB(window.monaco),e.resolve(window.monaco),TS(AS);bX(TX,xX)(OX)}return TS(AS)}function TX(e){return document.body.appendChild(e)}function AX(e){var t=document.createElement("script");return e&&(t.src=e),t}function xX(e){var t=hg(function(n){var i=n.config,o=n.reject;return{config:i,reject:o}}),r=AX("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function OX(){var e=hg(function(r){var n=r.config,i=r.resolve,o=r.reject;return{config:n,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){lB(r),e.resolve(r)},function(r){e.reject(r)})}function lB(e){hg().monaco||j_({monaco:e})}function PX(){return hg(function(e){var t=e.monaco;return t})}var AS=new Promise(function(e,t){return j_({resolve:e,reject:t})}),uB={config:SX,init:$X,__getMonacoInstance:PX},RX={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},xS=RX,NX={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},IX=NX;function kX({children:e}){return et.createElement("div",{style:IX.container},e)}var CX=kX,jX=CX;function DX({width:e,height:t,isEditorReady:r,loading:n,_ref:i,className:o,wrapperProps:s}){return et.createElement("section",{style:{...xS.wrapper,width:e,height:t},...s},!r&&et.createElement(jX,null,n),et.createElement("div",{ref:i,style:{...xS.fullWidth,...!r&&xS.hide},className:o}))}var MX=DX,cB=Ce.memo(MX);function LX(e){Ce.useEffect(e,[])}var fB=LX;function FX(e,t,r=!0){let n=Ce.useRef(!0);Ce.useEffect(n.current||!r?()=>{n.current=!1}:e,t)}var Vo=FX;function sm(){}function Hd(e,t,r,n){return BX(e,n)||UX(e,t,r,n)}function BX(e,t){return e.editor.getModel(dB(e,t))}function UX(e,t,r,n){return e.editor.createModel(t,r,n?dB(e,n):void 0)}function dB(e,t){return e.Uri.parse(t)}function zX({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:s,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:f="Loading...",options:c={},height:p="100%",width:m="100%",className:g,wrapperProps:_={},beforeMount:v=sm,onMount:h=sm}){let[E,y]=Ce.useState(!1),[S,$]=Ce.useState(!0),T=Ce.useRef(null),d=Ce.useRef(null),A=Ce.useRef(null),x=Ce.useRef(h),O=Ce.useRef(v),D=Ce.useRef(!1);fB(()=>{let H=uB.init();return H.then(X=>(d.current=X)&&$(!1)).catch(X=>(X==null?void 0:X.type)!=="cancelation"&&console.error("Monaco initialization: error:",X)),()=>T.current?Q():H.cancel()}),Vo(()=>{if(T.current&&d.current){let H=T.current.getOriginalEditor(),X=Hd(d.current,e||"",n||r||"text",o||"");X!==H.getModel()&&H.setModel(X)}},[o],E),Vo(()=>{if(T.current&&d.current){let H=T.current.getModifiedEditor(),X=Hd(d.current,t||"",i||r||"text",s||"");X!==H.getModel()&&H.setModel(X)}},[s],E),Vo(()=>{let H=T.current.getModifiedEditor();H.getOption(d.current.editor.EditorOption.readOnly)?H.setValue(t||""):t!==H.getValue()&&(H.executeEdits("",[{range:H.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),H.pushUndoStop())},[t],E),Vo(()=>{var H,X;(X=(H=T.current)==null?void 0:H.getModel())==null||X.original.setValue(e||"")},[e],E),Vo(()=>{let{original:H,modified:X}=T.current.getModel();d.current.editor.setModelLanguage(H,n||r||"text"),d.current.editor.setModelLanguage(X,i||r||"text")},[r,n,i],E),Vo(()=>{var H;(H=d.current)==null||H.editor.setTheme(u)},[u],E),Vo(()=>{var H;(H=T.current)==null||H.updateOptions(c)},[c],E);let F=Ce.useCallback(()=>{var fe;if(!d.current)return;O.current(d.current);let H=Hd(d.current,e||"",n||r||"text",o||""),X=Hd(d.current,t||"",i||r||"text",s||"");(fe=T.current)==null||fe.setModel({original:H,modified:X})},[r,t,i,e,n,o,s]),V=Ce.useCallback(()=>{var H;!D.current&&A.current&&(T.current=d.current.editor.createDiffEditor(A.current,{automaticLayout:!0,...c}),F(),(H=d.current)==null||H.editor.setTheme(u),y(!0),D.current=!0)},[c,u,F]);Ce.useEffect(()=>{E&&x.current(T.current,d.current)},[E]),Ce.useEffect(()=>{!S&&!E&&V()},[S,E,V]);function Q(){var X,fe,Z,ne;let H=(X=T.current)==null?void 0:X.getModel();a||((fe=H==null?void 0:H.original)==null||fe.dispose()),l||((Z=H==null?void 0:H.modified)==null||Z.dispose()),(ne=T.current)==null||ne.dispose()}return et.createElement(cB,{width:m,height:p,isEditorReady:E,loading:f,_ref:A,className:g,wrapperProps:_})}var qX=zX;Ce.memo(qX);function VX(e){let t=Ce.useRef();return Ce.useEffect(()=>{t.current=e},[e]),t.current}var HX=VX,Sv=new Map;function WX({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:i,path:o,theme:s="light",line:a,loading:l="Loading...",options:u={},overrideServices:f={},saveViewState:c=!0,keepCurrentModel:p=!1,width:m="100%",height:g="100%",className:_,wrapperProps:v={},beforeMount:h=sm,onMount:E=sm,onChange:y,onValidate:S=sm}){let[$,T]=Ce.useState(!1),[d,A]=Ce.useState(!0),x=Ce.useRef(null),O=Ce.useRef(null),D=Ce.useRef(null),F=Ce.useRef(E),V=Ce.useRef(h),Q=Ce.useRef(),H=Ce.useRef(n),X=HX(o),fe=Ce.useRef(!1),Z=Ce.useRef(!1);fB(()=>{let B=uB.init();return B.then(K=>(x.current=K)&&A(!1)).catch(K=>(K==null?void 0:K.type)!=="cancelation"&&console.error("Monaco initialization: error:",K)),()=>O.current?C():B.cancel()}),Vo(()=>{var K,P,I,q;let B=Hd(x.current,e||n||"",t||i||"",o||r||"");B!==((K=O.current)==null?void 0:K.getModel())&&(c&&Sv.set(X,(P=O.current)==null?void 0:P.saveViewState()),(I=O.current)==null||I.setModel(B),c&&((q=O.current)==null||q.restoreViewState(Sv.get(o))))},[o],$),Vo(()=>{var B;(B=O.current)==null||B.updateOptions(u)},[u],$),Vo(()=>{!O.current||n===void 0||(O.current.getOption(x.current.editor.EditorOption.readOnly)?O.current.setValue(n):n!==O.current.getValue()&&(Z.current=!0,O.current.executeEdits("",[{range:O.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),O.current.pushUndoStop(),Z.current=!1))},[n],$),Vo(()=>{var K,P;let B=(K=O.current)==null?void 0:K.getModel();B&&i&&((P=x.current)==null||P.editor.setModelLanguage(B,i))},[i],$),Vo(()=>{var B;a!==void 0&&((B=O.current)==null||B.revealLine(a))},[a],$),Vo(()=>{var B;(B=x.current)==null||B.editor.setTheme(s)},[s],$);let ne=Ce.useCallback(()=>{var B;if(!(!D.current||!x.current)&&!fe.current){V.current(x.current);let K=o||r,P=Hd(x.current,n||e||"",t||i||"",K||"");O.current=(B=x.current)==null?void 0:B.editor.create(D.current,{model:P,automaticLayout:!0,...u},f),c&&O.current.restoreViewState(Sv.get(K)),x.current.editor.setTheme(s),a!==void 0&&O.current.revealLine(a),T(!0),fe.current=!0}},[e,t,r,n,i,o,u,f,c,s,a]);Ce.useEffect(()=>{$&&F.current(O.current,x.current)},[$]),Ce.useEffect(()=>{!d&&!$&&ne()},[d,$,ne]),H.current=n,Ce.useEffect(()=>{var B,K;$&&y&&((B=Q.current)==null||B.dispose(),Q.current=(K=O.current)==null?void 0:K.onDidChangeModelContent(P=>{Z.current||y(O.current.getValue(),P)}))},[$,y]),Ce.useEffect(()=>{if($){let B=x.current.editor.onDidChangeMarkers(K=>{var I;let P=(I=O.current.getModel())==null?void 0:I.uri;if(P&&K.find(q=>q.path===P.path)){let q=x.current.editor.getModelMarkers({resource:P});S==null||S(q)}});return()=>{B==null||B.dispose()}}return()=>{}},[$,S]);function C(){var B,K;(B=Q.current)==null||B.dispose(),p?c&&Sv.set(o,O.current.saveViewState()):(K=O.current.getModel())==null||K.dispose(),O.current.dispose()}return et.createElement(cB,{width:m,height:g,isEditorReady:$,loading:l,_ref:D,className:_,wrapperProps:v})}var GX=WX,KX=Ce.memo(GX),hB=KX;const pB="֑-߿יִ-﷽ﹰ-ﻼ",mB="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",JX=new RegExp("^[^"+mB+"]*["+pB+"]"),YX=new RegExp("^[^"+pB+"]*["+mB+"]");function s2(e){const t=String(e||"");return JX.test(t)?"rtl":YX.test(t)?"ltr":"neutral"}const gB=e=>!(typeof e=="object"&&!Array.isArray(e)&&e!==null)||!e.hasOwnProperty("@type")?!1:e["@type"].indexOf("tm:ThingModel")>-1,D_=(e,t,r)=>{let n={...e};for(const[i,o]of Object.entries(t))r.includes(i)||(n[i]=o);return n},M_=e=>{if(e===void 0&&!e)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];if(!Array.isArray(n.op)){n.actualIndex=r,t.push(n);continue}for(let i=0;i<n.op.length;i++){const o={...n};o.op=n.op[i],o.actualIndex=r,t.push(o)}}return t},XX=(e,t)=>{for(const r of t.links)if(r.href===e.href)return!0;return!1},QX=(e,t)=>{for(const r of t.forms){if(typeof e.op=="string")return ZX(e,r);for(const n of e.op)if(typeof r.op=="string"){if(r.op===n)return!0}else if(r.op.includes(n)){let i=!0;for(const o in e)o!=="op"&&r[o]!==e[o]&&(i=!1);if(i)return!0}}return!1},ZX=(e,t)=>{if(typeof t.op=="string"){if(t.op===e.op)return!0}else if(t.op.includes(e.op)){let r=!0;for(const n in e)n!=="op"&&t[n]!==e[n]&&(r=!1);if(r)return!0}},nR=async(e,t)=>{var r;if(e.linkedTd[t].kind==="file"){try{e.isModified&&e.fileHandle&&(r=await e.fileHandle.createWritable(),await r.write(e.offlineTD),await r.close())}catch(a){console.error(a.message)}let n=e.linkedTd[t];const i=await n.getFile(),o=JSON.parse(await i.text());let s=JSON.stringify(o,null,2);e.setFileHandle(n),e.updateOfflineTD(s),e.updateIsModified(!1),document.getElementById("linkedTd").value=t}else if(Object.keys(e.linkedTd[t]).length){try{e.isModified&&e.fileHandle&&(r=await e.fileHandle.createWritable(),await r.write(e.offlineTD),await r.close())}catch(o){console.error(o.message)}e.setFileHandle(void 0);const n=e.linkedTd[t];let i=JSON.stringify(n,null,2);e.updateOfflineTD(i),e.updateIsModified(!1),document.getElementById("linkedTd").value=t}},X$=(e,t,r)=>{if(!e[t])return"";const n="⁦",i="⁧",o={ar:"rtl",fa:"rtl",ps:"rtl",ur:"rtl",hy:"ltr",as:"ltr",bn:"ltr",zb:"ltr",ab:"ltr",be:"ltr",bg:"ltr",kk:"ltr",mk:"ltr",ru:"ltr",uk:"ltr",hi:"ltr",mr:"ltr",ne:"ltr",ko:"ltr",ma:"ltr",am:"ltr",ti:"ltr",ka:"ltr",el:"ltr",gu:"ltr",pa:"ltr",he:"rtl",iw:"rtl",yi:"rtl",ja:"ltr",km:"ltr",kn:"ltr",lo:"ltr",af:"ltr",ay:"ltr",bs:"ltr",ca:"ltr",ch:"ltr",cs:"ltr",cy:"ltr",da:"ltr",de:"ltr",en:"ltr",eo:"ltr",es:"ltr",et:"ltr",eu:"ltr",fi:"ltr",fj:"ltr",fo:"ltr",fr:"ltr",fy:"ltr",ga:"ltr",gl:"ltr",gn:"ltr",gv:"ltr",hr:"ltr",ht:"ltr",hu:"ltr",id:"ltr",in:"ltr",is:"ltr",it:"ltr",kl:"ltr",la:"ltr",lb:"ltr",ln:"ltr",lt:"ltr",lv:"ltr",mg:"ltr",mh:"ltr",mo:"ltr",ms:"ltr",mt:"ltr",na:"ltr",nb:"ltr",nd:"ltr",nl:"ltr",nn:"ltr",no:"ltr",nr:"ltr",ny:"ltr",om:"ltr",pl:"ltr",pt:"ltr",qu:"ltr",rm:"ltr",rn:"ltr",ro:"ltr",rw:"ltr",sg:"ltr",sk:"ltr",sl:"ltr",sm:"ltr",so:"ltr",sq:"ltr",ss:"ltr",st:"ltr",sv:"ltr",sw:"ltr",tl:"ltr",tn:"ltr",to:"ltr",tr:"ltr",ts:"ltr",ve:"ltr",vi:"ltr",xh:"ltr",zu:"ltr",ds:"ltr",gs:"ltr",hs:"ltr",me:"ltr",ni:"ltr",ns:"ltr",te:"ltr",tk:"ltr",tm:"ltr",tp:"ltr",tv:"ltr",ml:"ltr",my:"ltr",nq:"ltr",or:"ltr",si:"ltr",ta:"ltr",dv:"rtl",th:"ltr",dz:"ltr"},s=u=>u==="ltr"?n:i;if(!["title","description"].includes(t)&&!/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t))return s(s2(e[t].toString()))+e[t];if(/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t)){const u=t.includes("-")?t.split("-")[0]:t.toLowerCase(),f=o[u];return f?s(f)+e[t]:s("ltr")+e[t]}let a,l;if(Array.isArray(r)||(r=[r]),r.forEach(u=>{typeof u=="object"&&(u["@direction"]&&(a=u["@direction"]),u["@language"]&&(l=u["@language"]))}),t==="title"||t==="description"){if(a)return s(a)+e[t];if(l){const u=l.includes("-")?l.split("-")[0]:l.toLowerCase(),f=o[u];return f?s(f)+e[t]:s("ltr")+e[t]}}return s(s2(e[t].toString()))+e[t]},e5={selectOnLineNumbers:!0,automaticLayout:!0,lineDecorationsWidth:20};let a2;const t5=(e,t,r)=>{clearTimeout(a2),a2=setTimeout(()=>e(t),r)},l2=({editorRef:e})=>{const t=Ce.useContext(bn),[r]=Ce.useState([]),[n,i]=Ce.useState(void 0),o=Ce.useRef(null),[s,a]=Ce.useState([]),[l,u]=Ce.useState(""),[f,c]=Ce.useState(""),p=et.useMemo(()=>new Worker(new URL(""+new URL("validationWorker-fRgmX0S3.js",import.meta.url).href,import.meta.url),{type:"module"}),[]),m=et.useMemo(()=>new Worker(new URL(""+new URL("schemaWorker-BsNUkMIg.js",import.meta.url).href,import.meta.url),{type:"module"}),[]),g=Ce.useCallback(y=>{m.postMessage(y),p.postMessage(y)},[m,p]);Ce.useEffect(()=>{const y=S=>{n.splice(0,n.length),S.forEach(function($,T){console.debug(`using schema: ${T}`),n.push({schemaUri:T,schema:$})})};m.onmessage=S=>{console.debug("received message from schema worker"),y(S.data)},p.onmessage=S=>{console.debug("received message from validation worker");const $=S.data;t.updateValidationMessage($)}},[m,p,n,t]),Ce.useEffect(()=>{t.offlineTD!==f&&(u(t.offlineTD),g(t.offlineTD))},[t.offlineTD,g,f]);const _=y=>{},v=(y,S)=>{if(S.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:[]}),!("Proxy"in window)){console.warn("dynamic fetching of schemas is disabled as your browser doesn't support proxies.");return}let $=new Proxy(r,{set:function(T,d,A,x){T[d]=A;let O=[];for(let D=0;D<T.length;D++)O.push({fileMatch:["*/*"],uri:T[D].schemaUri,schema:T[D].schema});return S.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:O}),!0}});o.current=y,e&&(e.current=y),i($)},h=async(y,S)=>{if(y){try{JSON.parse(y),t.updateOfflineTD(y),t.updateValidationMessage(void 0)}catch($){t.updateValidationMessage({valid:!1,message:"Invalid JSON: "+($ instanceof Error?$.message:String($))})}c(y),t5(g,y??"",500)}};Ce.useEffect(()=>{if(t.linkedTd)try{let y=[],S=0;for(let $ in t.linkedTd)(t.linkedTd[$].kind==="file"||Object.keys(t.linkedTd[$]).length)&&(y.push(ae.jsx("option",{value:$,children:$},S)),S++);a(y)}catch(y){console.debug(y)}},[t.linkedTd,t.offlineTD]);const E=async()=>{let y=document.getElementById("linkedTd").value;nR(t,y)};return ae.jsxs(ae.Fragment,{children:[ae.jsx("div",{className:"h-[5%] bg-[#1e1e1e]",children:t.offlineTD&&t.linkedTd&&ae.jsx("select",{name:"linkedTd",id:"linkedTd",className:"w-[50%] bg-[#1e1e1e] text-white",onChange:()=>E(),children:s})}),ae.jsx("div",{className:"h-[95%] w-full",children:ae.jsx(hB,{options:e5,theme:"vs-dark",language:"json",value:l,beforeMount:_,onMount:v,onChange:h})})]})},el=e=>{const t=e.title??"Default Title",r=e.description??"Default description, please override.",n=e.children??ae.jsx(ae.Fragment,{}),i=e.cancelText??"Cancel",o=e.onCancel??(()=>{}),s=e.submitText??"Submit",a=e.onSubmit??(()=>{}),l=e.hasSubmit??!0;let u={};return window.onkeydown=function(f){var c,p;u[f.key]=!0,u.Control&&u.Enter?(c=document.getElementById("submitButton"))==null||c.click():u.Escape&&((p=document.getElementById("cancelButton"))==null||p.click())},window.onkeyup=function(f){u[f.key]=!1},ae.jsx(ae.Fragment,{children:ae.jsx("div",{className:"absolute left-0 top-0 z-10 flex h-full w-full items-center justify-center bg-black bg-opacity-80 text-white",children:ae.jsxs("div",{className:"flex max-h-[95%] w-[80%] flex-col justify-start rounded-xl bg-gray-500 p-4 shadow-xl lg:w-[40%]",children:[ae.jsx("div",{className:"flex flex-row items-center justify-start",children:ae.jsx("h1",{className:"flex-grow pl-2 text-xl font-bold",children:t})}),ae.jsx("h2",{className:"py-2 pl-2 text-gray-400",children:r}),ae.jsx("div",{className:"overflow-auto p-2",children:n}),ae.jsxs("div",{className:"flex justify-end p-2 pt-4",children:[ae.jsx("button",{id:"cancelButton",className:"mr-1 rounded-md bg-blue-500 p-2 text-white hover:bg-blue-600",onClick:()=>{o()},children:i}),l&&ae.jsx("button",{id:"submitButton",className:"flex rounded-md bg-blue-500 p-2 text-white hover:bg-blue-600",onClick:()=>a(),children:s})]})]})})})},L_=Ce.forwardRef((e,t)=>{const r=Ce.useContext(bn),[n,i]=et.useState(()=>!1),o=e.type??"",s=o&&o[0].toUpperCase()+o.slice(1),a=e.interaction??{},l=e.interactionName??"";Ce.useEffect(()=>{},[n,r]),Ce.useImperativeHandle(t,()=>({openModal:()=>u(),close:()=>f()}));const u=()=>{i(!0)},f=()=>{i(!1)},c=_=>a.forms?QX(_,a):!1,p=_=>({action:"actions",property:"properties",event:"events",thing:"thing"})[_],m=n5(o),g=ae.jsxs(ae.Fragment,{children:[ae.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Operations:"}),ae.jsx("div",{className:"p-1",children:m}),ae.jsxs("div",{className:"p-1 pt-2",children:[ae.jsx("label",{htmlFor:"form-href",className:"pl-2 text-sm font-medium text-gray-400",children:"Href:"}),ae.jsx("input",{type:"text",name:"form-href",id:"form-href",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"http://example.com/href",onChange:()=>{r5()}}),ae.jsx("span",{id:"form-href-info",className:"pl-2 text-xs text-red-400"})]})]});return n?ql.createPortal(ae.jsx(el,{onCancel:f,onSubmit:()=>{var v,h;const _={op:vB(o).map(E=>{const y=document.getElementById("form-"+E);return y!=null&&y.checked?y.value:void 0}).filter(E=>E!==void 0),href:((h=(v=document.getElementById("form-href"))==null?void 0:v.value)==null?void 0:h.trim())||"/"};_.op.length===0?u2("You have to select at least one operation ..."):c(_)?u2("A Form for one of the selected operations already exists ..."):(r.addForm(p(o),l,_),f())},submitText:"Add",children:g,title:`Add ${s} Form`,description:`Tell us how this ${s} can be interfaced by selecting operations below and providing an href.`}),document.getElementById("modal-root")):null}),u2=e=>{document.getElementById("form-href-info").textContent=e,document.getElementById("form-href").classList.remove("border-gray-600"),document.getElementById("form-href").classList.add("border-red-400")},r5=()=>{document.getElementById("form-href").classList.add("border-gray-600"),document.getElementById("form-href").classList.remove("border-red-400")},vB=e=>{switch(e){case"property":return["writeproperty","readproperty","observeproperty","unobserveproperty"];case"event":return["subscribeevent","unsubscribeevent"];case"action":return["invokeaction"];case"thing":return["writeallproperties","readallproperties","writemultipleproperties","readmultipleproperties","observeallproperties","unobserveallproperties"];default:return[]}},n5=e=>ae.jsx("div",{className:"rounded-md bg-gray-600 p-1",children:vB(e).map(t=>i5(t))}),i5=e=>{const t=`form-${e}`;return ae.jsxs("div",{className:"form-checkbox pl-2",children:[e!=="invokeaction"?ae.jsx("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e}):ae.jsx("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e,readOnly:e==="invokeaction",checked:e==="invokeaction"}),ae.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:t,children:e})]},t)},Sh=Math.min,ff=Math.max,Sb=Math.round,$v=Math.floor,Ya=e=>({x:e,y:e}),o5={left:"right",right:"left",bottom:"top",top:"bottom"},s5={start:"end",end:"start"};function Q$(e,t,r){return ff(e,Sh(t,r))}function pg(e,t){return typeof e=="function"?e(t):e}function xf(e){return e.split("-")[0]}function mg(e){return e.split("-")[1]}function yB(e){return e==="x"?"y":"x"}function iR(e){return e==="y"?"height":"width"}function df(e){return["top","bottom"].includes(xf(e))?"y":"x"}function oR(e){return yB(df(e))}function a5(e,t,r){r===void 0&&(r=!1);const n=mg(e),i=oR(e),o=iR(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=$b(s)),[s,$b(s)]}function l5(e){const t=$b(e);return[Z$(e),t,Z$(t)]}function Z$(e){return e.replace(/start|end/g,t=>s5[t])}function u5(e,t,r){const n=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?o:s;default:return[]}}function c5(e,t,r,n){const i=mg(e);let o=u5(xf(e),r==="start",n);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(Z$)))),o}function $b(e){return e.replace(/left|right|bottom|top/g,t=>o5[t])}function f5(e){return{top:0,right:0,bottom:0,left:0,...e}}function wB(e){return typeof e!="number"?f5(e):{top:e,right:e,bottom:e,left:e}}function Tb(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function c2(e,t,r){let{reference:n,floating:i}=e;const o=df(t),s=oR(t),a=iR(s),l=xf(t),u=o==="y",f=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2,p=n[a]/2-i[a]/2;let m;switch(l){case"top":m={x:f,y:n.y-i.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:c};break;case"left":m={x:n.x-i.width,y:c};break;default:m={x:n.x,y:n.y}}switch(mg(t)){case"start":m[s]-=p*(r&&u?-1:1);break;case"end":m[s]+=p*(r&&u?-1:1);break}return m}const d5=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=r,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:c}=c2(u,n,l),p=n,m={},g=0;for(let _=0;_<a.length;_++){const{name:v,fn:h}=a[_],{x:E,y,data:S,reset:$}=await h({x:f,y:c,initialPlacement:n,placement:p,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});f=E??f,c=y??c,m={...m,[v]:{...m[v],...S}},$&&g<=50&&(g++,typeof $=="object"&&($.placement&&(p=$.placement),$.rects&&(u=$.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):$.rects),{x:f,y:c}=c2(u,p,l)),_=-1)}return{x:f,y:c,placement:p,strategy:i,middlewareData:m}};async function bB(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:p=!1,padding:m=0}=pg(t,e),g=wB(m),v=a[p?c==="floating"?"reference":"floating":c],h=Tb(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),E=c==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},$=Tb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:y,strategy:l}):E);return{top:(h.top-$.top+g.top)/S.y,bottom:($.bottom-h.bottom+g.bottom)/S.y,left:(h.left-$.left+g.left)/S.x,right:($.right-h.right+g.right)/S.x}}const h5=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:f=0}=pg(e,t)||{};if(u==null)return{};const c=wB(f),p={x:r,y:n},m=oR(i),g=iR(m),_=await s.getDimensions(u),v=m==="y",h=v?"top":"left",E=v?"bottom":"right",y=v?"clientHeight":"clientWidth",S=o.reference[g]+o.reference[m]-p[m]-o.floating[g],$=p[m]-o.reference[m],T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let d=T?T[y]:0;(!d||!await(s.isElement==null?void 0:s.isElement(T)))&&(d=a.floating[y]||o.floating[g]);const A=S/2-$/2,x=d/2-_[g]/2-1,O=Sh(c[h],x),D=Sh(c[E],x),F=O,V=d-_[g]-D,Q=d/2-_[g]/2+A,H=Q$(F,Q,V),X=!l.arrow&&mg(i)!=null&&Q!==H&&o.reference[g]/2-(Q<F?O:D)-_[g]/2<0,fe=X?Q<F?Q-F:Q-V:0;return{[m]:p[m]+fe,data:{[m]:H,centerOffset:Q-H-fe,...X&&{alignmentOffset:fe}},reset:X}}}),p5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:_=!0,...v}=pg(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const h=xf(i),E=df(a),y=xf(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),$=p||(y||!_?[$b(a)]:l5(a)),T=g!=="none";!p&&T&&$.push(...c5(a,_,g,S));const d=[a,...$],A=await bB(t,v),x=[];let O=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&x.push(A[h]),c){const H=a5(i,s,S);x.push(A[H[0]],A[H[1]])}if(O=[...O,{placement:i,overflows:x}],!x.every(H=>H<=0)){var D,F;const H=(((D=o.flip)==null?void 0:D.index)||0)+1,X=d[H];if(X){var V;const Z=c==="alignment"?E!==df(X):!1,ne=((V=O[0])==null?void 0:V.overflows[0])>0;if(!Z||ne)return{data:{index:H,overflows:O},reset:{placement:X}}}let fe=(F=O.filter(Z=>Z.overflows[0]<=0).sort((Z,ne)=>Z.overflows[1]-ne.overflows[1])[0])==null?void 0:F.placement;if(!fe)switch(m){case"bestFit":{var Q;const Z=(Q=O.filter(ne=>{if(T){const C=df(ne.placement);return C===E||C==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(C=>C>0).reduce((C,B)=>C+B,0)]).sort((ne,C)=>ne[1]-C[1])[0])==null?void 0:Q[0];Z&&(fe=Z);break}case"initialPlacement":fe=a;break}if(i!==fe)return{reset:{placement:fe}}}return{}}}};async function m5(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=xf(r),a=mg(r),l=df(r)==="y",u=["left","top"].includes(s)?-1:1,f=o&&l?-1:1,c=pg(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*f,y:p*u}:{x:p*u,y:m*f}}const g5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await m5(t,e);return s===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},v5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x:h,y:E}=v;return{x:h,y:E}}},...l}=pg(e,t),u={x:r,y:n},f=await bB(t,l),c=df(xf(i)),p=yB(c);let m=u[p],g=u[c];if(o){const v=p==="y"?"top":"left",h=p==="y"?"bottom":"right",E=m+f[v],y=m-f[h];m=Q$(E,m,y)}if(s){const v=c==="y"?"top":"left",h=c==="y"?"bottom":"right",E=g+f[v],y=g-f[h];g=Q$(E,g,y)}const _=a.fn({...t,[p]:m,[c]:g});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[p]:o,[c]:s}}}}}};function F_(){return typeof window<"u"}function Mh(e){return _B(e)?(e.nodeName||"").toLowerCase():"#document"}function Yo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function tl(e){var t;return(t=(_B(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _B(e){return F_()?e instanceof Node||e instanceof Yo(e).Node:!1}function ua(e){return F_()?e instanceof Element||e instanceof Yo(e).Element:!1}function Za(e){return F_()?e instanceof HTMLElement||e instanceof Yo(e).HTMLElement:!1}function f2(e){return!F_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yo(e).ShadowRoot}function gg(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=ca(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function y5(e){return["table","td","th"].includes(Mh(e))}function B_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function sR(e){const t=aR(),r=ua(e)?ca(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function w5(e){let t=Yu(e);for(;Za(t)&&!$h(t);){if(sR(t))return t;if(B_(t))return null;t=Yu(t)}return null}function aR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $h(e){return["html","body","#document"].includes(Mh(e))}function ca(e){return Yo(e).getComputedStyle(e)}function U_(e){return ua(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yu(e){if(Mh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||f2(e)&&e.host||tl(e);return f2(t)?t.host:t}function EB(e){const t=Yu(e);return $h(t)?e.ownerDocument?e.ownerDocument.body:e.body:Za(t)&&gg(t)?t:EB(t)}function zm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=EB(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),s=Yo(i);if(o){const a=eT(s);return t.concat(s,s.visualViewport||[],gg(i)?i:[],a&&r?zm(a):[])}return t.concat(i,zm(i,[],r))}function eT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function SB(e){const t=ca(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Za(e),o=i?e.offsetWidth:r,s=i?e.offsetHeight:n,a=Sb(r)!==o||Sb(n)!==s;return a&&(r=o,n=s),{width:r,height:n,$:a}}function lR(e){return ua(e)?e:e.contextElement}function nh(e){const t=lR(e);if(!Za(t))return Ya(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=SB(t);let s=(o?Sb(r.width):r.width)/n,a=(o?Sb(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const b5=Ya(0);function $B(e){const t=Yo(e);return!aR()||!t.visualViewport?b5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _5(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Yo(e)?!1:t}function Of(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=lR(e);let s=Ya(1);t&&(n?ua(n)&&(s=nh(n)):s=nh(e));const a=_5(o,r,n)?$B(o):Ya(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,f=i.width/s.x,c=i.height/s.y;if(o){const p=Yo(o),m=n&&ua(n)?Yo(n):n;let g=p,_=eT(g);for(;_&&n&&m!==g;){const v=nh(_),h=_.getBoundingClientRect(),E=ca(_),y=h.left+(_.clientLeft+parseFloat(E.paddingLeft))*v.x,S=h.top+(_.clientTop+parseFloat(E.paddingTop))*v.y;l*=v.x,u*=v.y,f*=v.x,c*=v.y,l+=y,u+=S,g=Yo(_),_=eT(g)}}return Tb({width:f,height:c,x:l,y:u})}function uR(e,t){const r=U_(e).scrollLeft;return t?t.left+r:Of(tl(e)).left+r}function TB(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:uR(e,n)),o=n.top+t.scrollTop;return{x:i,y:o}}function E5(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",s=tl(n),a=t?B_(t.floating):!1;if(n===s||a&&o)return r;let l={scrollLeft:0,scrollTop:0},u=Ya(1);const f=Ya(0),c=Za(n);if((c||!c&&!o)&&((Mh(n)!=="body"||gg(s))&&(l=U_(n)),Za(n))){const m=Of(n);u=nh(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}const p=s&&!c&&!o?TB(s,l,!0):Ya(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+f.x+p.x,y:r.y*u.y-l.scrollTop*u.y+f.y+p.y}}function S5(e){return Array.from(e.getClientRects())}function $5(e){const t=tl(e),r=U_(e),n=e.ownerDocument.body,i=ff(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=ff(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+uR(e);const a=-r.scrollTop;return ca(n).direction==="rtl"&&(s+=ff(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:s,y:a}}function T5(e,t){const r=Yo(e),n=tl(e),i=r.visualViewport;let o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=aR();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function A5(e,t){const r=Of(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=Za(e)?nh(e):Ya(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=n*o.y;return{width:s,height:a,x:l,y:u}}function d2(e,t,r){let n;if(t==="viewport")n=T5(e,r);else if(t==="document")n=$5(tl(e));else if(ua(t))n=A5(t,r);else{const i=$B(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Tb(n)}function AB(e,t){const r=Yu(e);return r===t||!ua(r)||$h(r)?!1:ca(r).position==="fixed"||AB(r,t)}function x5(e,t){const r=t.get(e);if(r)return r;let n=zm(e,[],!1).filter(a=>ua(a)&&Mh(a)!=="body"),i=null;const o=ca(e).position==="fixed";let s=o?Yu(e):e;for(;ua(s)&&!$h(s);){const a=ca(s),l=sR(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||gg(s)&&!l&&AB(e,s))?n=n.filter(f=>f!==s):i=a,s=Yu(s)}return t.set(e,n),n}function O5(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const s=[...r==="clippingAncestors"?B_(t)?[]:x5(t,this._c):[].concat(r),n],a=s[0],l=s.reduce((u,f)=>{const c=d2(t,f,i);return u.top=ff(c.top,u.top),u.right=Sh(c.right,u.right),u.bottom=Sh(c.bottom,u.bottom),u.left=ff(c.left,u.left),u},d2(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function P5(e){const{width:t,height:r}=SB(e);return{width:t,height:r}}function R5(e,t,r){const n=Za(t),i=tl(t),o=r==="fixed",s=Of(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Ya(0);function u(){l.x=uR(i)}if(n||!n&&!o)if((Mh(t)!=="body"||gg(i))&&(a=U_(t)),n){const m=Of(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else i&&u();o&&!n&&i&&u();const f=i&&!n&&!o?TB(i,a):Ya(0),c=s.left+a.scrollLeft-l.x-f.x,p=s.top+a.scrollTop-l.y-f.y;return{x:c,y:p,width:s.width,height:s.height}}function OS(e){return ca(e).position==="static"}function h2(e,t){if(!Za(e)||ca(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return tl(e)===r&&(r=r.ownerDocument.body),r}function xB(e,t){const r=Yo(e);if(B_(e))return r;if(!Za(e)){let i=Yu(e);for(;i&&!$h(i);){if(ua(i)&&!OS(i))return i;i=Yu(i)}return r}let n=h2(e,t);for(;n&&y5(n)&&OS(n);)n=h2(n,t);return n&&$h(n)&&OS(n)&&!sR(n)?r:n||w5(e)||r}const N5=async function(e){const t=this.getOffsetParent||xB,r=this.getDimensions,n=await r(e.floating);return{reference:R5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function I5(e){return ca(e).direction==="rtl"}const k5={convertOffsetParentRelativeRectToViewportRelativeRect:E5,getDocumentElement:tl,getClippingRect:O5,getOffsetParent:xB,getElementRects:N5,getClientRects:S5,getDimensions:P5,getScale:nh,isElement:ua,isRTL:I5};function OB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function C5(e,t){let r=null,n;const i=tl(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:f,top:c,width:p,height:m}=u;if(a||t(),!p||!m)return;const g=$v(c),_=$v(i.clientWidth-(f+p)),v=$v(i.clientHeight-(c+m)),h=$v(f),y={rootMargin:-g+"px "+-_+"px "+-v+"px "+-h+"px",threshold:ff(0,Sh(1,l))||1};let S=!0;function $(T){const d=T[0].intersectionRatio;if(d!==l){if(!S)return s();d?s(!1,d):n=setTimeout(()=>{s(!1,1e-7)},1e3)}d===1&&!OB(u,e.getBoundingClientRect())&&s(),S=!1}try{r=new IntersectionObserver($,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver($,y)}r.observe(e)}return s(!0),o}function j5(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=lR(e),f=i||o?[...u?zm(u):[],...zm(t)]:[];f.forEach(h=>{i&&h.addEventListener("scroll",r,{passive:!0}),o&&h.addEventListener("resize",r)});const c=u&&a?C5(u,r):null;let p=-1,m=null;s&&(m=new ResizeObserver(h=>{let[E]=h;E&&E.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),r()}),u&&!l&&m.observe(u),m.observe(t));let g,_=l?Of(e):null;l&&v();function v(){const h=Of(e);_&&!OB(_,h)&&r(),_=h,g=requestAnimationFrame(v)}return r(),()=>{var h;f.forEach(E=>{i&&E.removeEventListener("scroll",r),o&&E.removeEventListener("resize",r)}),c==null||c(),(h=m)==null||h.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const D5=g5,M5=v5,L5=p5,F5=h5,p2=(e,t,r)=>{const n=new Map,i={platform:k5,...r},o={...i.platform,_c:n};return d5(e,t,{...i,platform:o})};var PB={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,n(a)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)t.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(PB);var B5=PB.exports;const tT=Df(B5);var m2={GENERATE_SOURCEMAP:"false",GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_8e5cd7d2-61b9-4b89-a2a3-35a5762a44ae",npm_package_devDependencies__types_node:"^22.13.15",npm_package_dependencies_react_dropzone:"^14.3.8",DOTNET_NOLOGO:"1",USER:"runner",npm_config_version_commit_hooks:"true",npm_config_user_agent:"yarn/1.22.22 npm/? node/v20.19.1 linux x64",CI:"true",npm_config_bin_links:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_8e5cd7d2-61b9-4b89-a2a3-35a5762a44ae",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/20.19.1/x64/bin/node",npm_package_devDependencies_vite:"^5.2.0",npm_package_dependencies_direction:"^2.0.1",npm_config_init_version:"1.0.0",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",npm_package_dependencies_jsonld:"^8.3.2",HOME:"/home/runner",npm_package_browserslist_production_0:">0.2%",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_browserslist_production_1:"not dead",npm_package_dependencies_jointjs:"^3.7.7",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"eclipse",npm_package_browserslist_production_2:"not op_mini all",npm_package_dependencies__monaco_editor_react:"^4.7.0",npm_config_init_license:"MIT",GRADLE_HOME:"/usr/share/gradle-8.14",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/28.1.13356709",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",GITHUB_RETENTION_DAYS:"90",YARN_WRAP_OUTPUT:"false",npm_config_version_tag_prefix:"v",GITHUB_REPOSITORY_OWNER_ID:"56974",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_package_dependencies_react_icons:"^5.2.1",npm_package_dependencies_react_feather:"^2.0.10",SYSTEMD_EXEC_PID:"1881",npm_package_devDependencies_eslint_plugin_react_hooks:"^4.6.0",npm_package_dependencies_ajv_errors:"^3.0.0",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",npm_package_description:"This project aims to make creating W3C Thing Description instances and Thing Models easy by providing a platform-independent ediTDor tool. The following features are addressed in this project",npm_package_devDependencies_typescript:"^5.0.0",npm_package_devDependencies_tailwindcss:"^3.4.7",NVM_DIR:"/home/runner/.nvm",npm_package_readmeFilename:"README.md",npm_package_devDependencies__types_react_dom:"^18.2.22",npm_package_homepage:"https://eclipse.github.io/editdor/",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20250511.1.0",npm_package_devDependencies_prettier:"^3.5.3",npm_package_scripts_dev:"cross-env REACT_APP_TARGET_URL=http://localhost:8080 vite",LOGNAME:"runner",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",npm_package_devDependencies__vitejs_plugin_react:"^4.2.1",npm_package_dependencies_wot_thing_description_types:"1.1.0-12-March-2025",npm_package_dependencies_react_tooltip:"^5.26.4",npm_package_type:"module",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.9/x64",JOURNAL_STREAM:"9:15385",GITHUB_WORKFLOW:"publish-to-github-pages",_:"/usr/local/bin/yarn",npm_package_devDependencies_autoprefixer:"^10.4.19",npm_package_devDependencies__babel_preset_react:"^7.26.3",npm_package_private:"true",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/hosted-compute-agent.service/memory.pressure",npm_package_scripts_lint:"eslint . --ext js,jsx --report-unused-disable-directives --max-warnings 0",npm_config_registry:"https://registry.yarnpkg.com",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GITHUB_RUN_ID:"15216850833",npm_package_devDependencies__babel_core:"^7.26.10",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"f9a65eb40a99376c64188b1cb7226df98b4650c1",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",npm_package_devDependencies_eslint_plugin_react_refresh:"^0.4.6",npm_config_ignore_scripts:"",GITHUB_WORKFLOW_REF:"eclipse/editdor/.github/workflows/publish-to-gh-pages.yml@refs/heads/master",GITHUB_ACTION_REPOSITORY:"",ENABLE_RUNNER_TRACING:"true",npm_package_browserslist_development_0:"last 1 chrome version",npm_package_devDependencies_prettier_plugin_tailwindcss:"^0.6.11",npm_package_author_email:"editdor-dev@eclipse.org",PATH:"/tmp/yarn--1748025186762-0.3673340490848991:/home/runner/work/editdor/editdor/node_modules/.bin:/home/runner/.config/yarn/link/node_modules/.bin:/opt/hostedtoolcache/node/20.19.1/x64/libexec/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.1/x64/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.1/x64/bin/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.1/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",NODE:"/opt/hostedtoolcache/node/20.19.1/x64/bin/node",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_dfb4fecb-f448-4969-ace9-1570a9b78784",INVOCATION_ID:"23b8394595154137bceb992654c9a28f",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",npm_package_browserslist_development_1:"last 1 firefox version",npm_package_devDependencies__babel_eslint_parser:"^7.27.0",npm_package_repository_type:"git",npm_package_name:"editdor",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"55",GITHUB_TRIGGERING_ACTOR:"egekorkan",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",npm_package_browserslist_development_2:"last 1 safari version",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",npm_package_devDependencies_eslint:"^8.57.0",npm_package_dependencies_react_dom:"^18.2.0",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000183324",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"master",GITHUB_REPOSITORY:"eclipse/editdor",npm_lifecycle_script:"vite build",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",npm_config_version_git_message:"v%s",SHELL:"/bin/bash",GITHUB_REPOSITORY_ID:"285060286",GITHUB_ACTIONS:"true",npm_lifecycle_event:"build",npm_package_devDependencies__types_react:"^18.2.66",npm_package_dependencies_ajv:"^8.0.0",npm_package_repository_url:"git+https://github.com/eclipse/editdor.git",npm_package_version:"0.7.0",GITHUB_REF_PROTECTED:"false",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_dependencies_ajv_formats:"^3.0.1",npm_package_scripts_build:"vite build",GITHUB_WORKSPACE:"/home/runner/work/editdor/editdor",ACCEPT_EULA:"Y",GITHUB_JOB:"publish-to-gh-pages",npm_package_dependencies_json_dup_key_validator:"^1.0.3",GITHUB_SHA:"f9a65eb40a99376c64188b1cb7226df98b4650c1",GITHUB_RUN_ATTEMPT:"1",npm_config_version_git_tag:"true",npm_config_version_git_sign:"",GITHUB_REF:"refs/heads/master",GITHUB_ACTOR:"egekorkan",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_package_devDependencies_eslint_plugin_react:"^7.34.1",npm_package_dependencies_lz_string:"^1.5.0",npm_package_license:"EPL-2.0 OR W3C-20150513",npm_config_strict_ssl:"true",npm_package_devDependencies__types_babel__core:"^7",npm_package_dependencies_monaco_editor:"^0.52.2",npm_package_scripts_format:"prettier --write .",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_8e5cd7d2-61b9-4b89-a2a3-35a5762a44ae",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/editdor/editdor",GITHUB_ACTOR_ID:"20195407",RUNNER_WORKSPACE:"/home/runner/work/editdor",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",npm_package_dependencies__column_resizer_react:"^1.3.0",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_8e5cd7d2-61b9-4b89-a2a3-35a5762a44ae",npm_package_author_name:"Eclipse ediTDor",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_package_devDependencies_postcss:"^8.4.40",npm_package_devDependencies_cross_env:"^7.0.3",npm_config_save_prefix:"^",npm_config_ignore_optional:"",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",npm_package_scripts_preview:"vite preview",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",npm_package_dependencies_wot_typescript_definitions:"^0.8.0-SNAPSHOT.30",npm_package_dependencies_ajv_formats_draft2019:"1.6.1",npm_package_dependencies__node_wot_browser_bundle:"0.9.0",INIT_CWD:"/home/runner/work/editdor/editdor",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_8e5cd7d2-61b9-4b89-a2a3-35a5762a44ae",npm_package_dependencies_react:"^18.2.0",NODE_ENV:"production"};const U5="react-tooltip-core-styles",z5="react-tooltip-base-styles",g2={core:!1,base:!1};function y2({css:e,id:t=z5,type:r="base",ref:n}){var i,o;if(!e||typeof document>"u"||g2[r]||r==="core"&&typeof process<"u"&&(!((i=process==null?void 0:m2)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||r!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:m2)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;r==="core"&&(t=U5),n||(n={});const{insertAt:s}=n;if(document.getElementById(t))return;const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",s==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),g2[r]=!0}const w2=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:r=null,place:n="top",offset:i=10,strategy:o="absolute",middlewares:s=[D5(Number(i)),L5({fallbackAxisSideDirection:"start"}),M5({padding:5})],border:a})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};const l=s;return r?(l.push(F5({element:r,padding:5})),p2(e,t,{placement:n,strategy:o,middleware:l}).then(({x:u,y:f,placement:c,middlewareData:p})=>{var m,g;const _={left:`${u}px`,top:`${f}px`,border:a},{x:v,y:h}=(m=p.arrow)!==null&&m!==void 0?m:{x:0,y:0},E=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[c.split("-")[0]])!==null&&g!==void 0?g:"bottom",y=a&&{borderBottom:a,borderRight:a};let S=0;if(a){const $=`${a}`.match(/(\d+)px/);S=$!=null&&$[1]?Number($[1]):1}return{tooltipStyles:_,tooltipArrowStyles:{left:v!=null?`${v}px`:"",top:h!=null?`${h}px`:"",right:"",bottom:"",...y,[E]:`-${4+S}px`},place:c}})):p2(e,t,{placement:"bottom",strategy:o,middleware:l}).then(({x:u,y:f,placement:c})=>({tooltipStyles:{left:`${u}px`,top:`${f}px`},tooltipArrowStyles:{},place:c}))},b2=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),_2=(e,t,r)=>{let n=null;const i=function(...o){const s=()=>{n=null};!n&&(e.apply(this,o),n=setTimeout(s,t))};return i.cancel=()=>{n&&(clearTimeout(n),n=null)},i},E2=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",rT=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,o)=>rT(i,t[o]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!E2(e)||!E2(t))return e===t;const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(i=>rT(e[i],t[i]))},q5=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(r=>{const n=t.getPropertyValue(r);return n==="auto"||n==="scroll"})},S2=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(q5(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},V5=typeof window<"u"?Ce.useLayoutEffect:Ce.useEffect,us=e=>{e.current&&(clearTimeout(e.current),e.current=null)},H5="DEFAULT_TOOLTIP_ID",W5={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},G5=Ce.createContext({getTooltipData:()=>W5});function RB(e=H5){return Ce.useContext(G5).getTooltipData(e)}var cd={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},PS={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const K5=({forwardRef:e,id:t,className:r,classNameArrow:n,variant:i="dark",anchorId:o,anchorSelect:s,place:a="top",offset:l=10,events:u=["hover"],openOnClick:f=!1,positionStrategy:c="absolute",middlewares:p,wrapper:m,delayShow:g=0,delayHide:_=0,float:v=!1,hidden:h=!1,noArrow:E=!1,clickable:y=!1,closeOnEsc:S=!1,closeOnScroll:$=!1,closeOnResize:T=!1,openEvents:d,closeEvents:A,globalCloseEvents:x,imperativeModeOnly:O,style:D,position:F,afterShow:V,afterHide:Q,disableTooltip:H,content:X,contentWrapperRef:fe,isOpen:Z,defaultIsOpen:ne=!1,setIsOpen:C,activeAnchor:B,setActiveAnchor:K,border:P,opacity:I,arrowColor:q,role:ie="tooltip"})=>{var J;const Y=Ce.useRef(null),se=Ce.useRef(null),be=Ce.useRef(null),Pe=Ce.useRef(null),R=Ce.useRef(null),[j,M]=Ce.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[G,oe]=Ce.useState(!1),[ce,de]=Ce.useState(!1),[ve,Ie]=Ce.useState(null),Be=Ce.useRef(!1),De=Ce.useRef(null),{anchorRefs:nt,setActiveAnchor:We}=RB(t),Ue=Ce.useRef(!1),[W,N]=Ce.useState([]),L=Ce.useRef(!1),re=f||u.includes("click"),ye=re||(d==null?void 0:d.click)||(d==null?void 0:d.dblclick)||(d==null?void 0:d.mousedown),Ee=d?{...d}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!d&&re&&Object.assign(Ee,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const je=A?{...A}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!A&&re&&Object.assign(je,{mouseleave:!1,blur:!1,mouseout:!1});const Re=x?{...x}:{escape:S||!1,scroll:$||!1,resize:T||!1,clickOutsideAnchor:ye||!1};O&&(Object.assign(Ee,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(je,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Re,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),V5(()=>(L.current=!0,()=>{L.current=!1}),[]);const Le=Ye=>{L.current&&(Ye&&de(!0),setTimeout(()=>{L.current&&(C==null||C(Ye),Z===void 0&&oe(Ye))},10))};Ce.useEffect(()=>{if(Z===void 0)return()=>null;Z&&de(!0);const Ye=setTimeout(()=>{oe(Z)},10);return()=>{clearTimeout(Ye)}},[Z]),Ce.useEffect(()=>{if(G!==Be.current)if(us(R),Be.current=G,G)V==null||V();else{const Ye=(it=>{const Pt=it.match(/^([\d.]+)(ms|s)$/);if(!Pt)return 0;const[,qt,he]=Pt;return Number(qt)*(he==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));R.current=setTimeout(()=>{de(!1),Ie(null),Q==null||Q()},Ye+25)}},[G]);const dt=Ye=>{M(it=>rT(it,Ye)?it:Ye)},yt=(Ye=g)=>{us(be),ce?Le(!0):be.current=setTimeout(()=>{Le(!0)},Ye)},lt=(Ye=_)=>{us(Pe),Pe.current=setTimeout(()=>{Ue.current||Le(!1)},Ye)},Ct=Ye=>{var it;if(!Ye)return;const Pt=(it=Ye.currentTarget)!==null&&it!==void 0?it:Ye.target;if(!(Pt!=null&&Pt.isConnected))return K(null),void We({current:null});g?yt():Le(!0),K(Pt),We({current:Pt}),us(Pe)},Er=()=>{y?lt(_||100):_?lt():Le(!1),us(be)},Pr=({x:Ye,y:it})=>{var Pt;const qt={getBoundingClientRect:()=>({x:Ye,y:it,width:0,height:0,top:it,left:Ye,right:Ye,bottom:it})};w2({place:(Pt=ve==null?void 0:ve.place)!==null&&Pt!==void 0?Pt:a,offset:l,elementReference:qt,tooltipReference:Y.current,tooltipArrowReference:se.current,strategy:c,middlewares:p,border:P}).then(he=>{dt(he)})},ir=Ye=>{if(!Ye)return;const it=Ye,Pt={x:it.clientX,y:it.clientY};Pr(Pt),De.current=Pt},mr=Ye=>{var it;if(!G)return;const Pt=Ye.target;Pt.isConnected&&(!((it=Y.current)===null||it===void 0)&&it.contains(Pt)||[document.querySelector(`[id='${o}']`),...W].some(qt=>qt==null?void 0:qt.contains(Pt))||(Le(!1),us(be)))},cn=_2(Ct,50),Vt=_2(Er,50),zt=Ye=>{Vt.cancel(),cn(Ye)},At=()=>{cn.cancel(),Vt()},Se=Ce.useCallback(()=>{var Ye,it;const Pt=(Ye=ve==null?void 0:ve.position)!==null&&Ye!==void 0?Ye:F;Pt?Pr(Pt):v?De.current&&Pr(De.current):B!=null&&B.isConnected&&w2({place:(it=ve==null?void 0:ve.place)!==null&&it!==void 0?it:a,offset:l,elementReference:B,tooltipReference:Y.current,tooltipArrowReference:se.current,strategy:c,middlewares:p,border:P}).then(qt=>{L.current&&dt(qt)})},[G,B,X,D,a,ve==null?void 0:ve.place,l,c,F,ve==null?void 0:ve.position,v]);Ce.useEffect(()=>{var Ye,it;const Pt=new Set(nt);W.forEach(Tt=>{H!=null&&H(Tt)||Pt.add({current:Tt})});const qt=document.querySelector(`[id='${o}']`);qt&&!(H!=null&&H(qt))&&Pt.add({current:qt});const he=()=>{Le(!1)},ue=S2(B),we=S2(Y.current);Re.scroll&&(window.addEventListener("scroll",he),ue==null||ue.addEventListener("scroll",he),we==null||we.addEventListener("scroll",he));let xe=null;Re.resize?window.addEventListener("resize",he):B&&Y.current&&(xe=j5(B,Y.current,Se,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Ae=Tt=>{Tt.key==="Escape"&&Le(!1)};Re.escape&&window.addEventListener("keydown",Ae),Re.clickOutsideAnchor&&window.addEventListener("click",mr);const tt=[],st=Tt=>!!(Tt!=null&&Tt.target&&(B!=null&&B.contains(Tt.target))),xt=Tt=>{G&&st(Tt)||Ct(Tt)},It=Tt=>{G&&st(Tt)&&Er()},jt=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],$t=["click","dblclick","mousedown","mouseup"];Object.entries(Ee).forEach(([Tt,Dt])=>{Dt&&(jt.includes(Tt)?tt.push({event:Tt,listener:zt}):$t.includes(Tt)&&tt.push({event:Tt,listener:xt}))}),Object.entries(je).forEach(([Tt,Dt])=>{Dt&&(jt.includes(Tt)?tt.push({event:Tt,listener:At}):$t.includes(Tt)&&tt.push({event:Tt,listener:It}))}),v&&tt.push({event:"pointermove",listener:ir});const Rt=()=>{Ue.current=!0},Gt=()=>{Ue.current=!1,Er()},wt=y&&(je.mouseout||je.mouseleave);return wt&&((Ye=Y.current)===null||Ye===void 0||Ye.addEventListener("mouseover",Rt),(it=Y.current)===null||it===void 0||it.addEventListener("mouseout",Gt)),tt.forEach(({event:Tt,listener:Dt})=>{Pt.forEach(Ft=>{var Kr;(Kr=Ft.current)===null||Kr===void 0||Kr.addEventListener(Tt,Dt)})}),()=>{var Tt,Dt;Re.scroll&&(window.removeEventListener("scroll",he),ue==null||ue.removeEventListener("scroll",he),we==null||we.removeEventListener("scroll",he)),Re.resize?window.removeEventListener("resize",he):xe==null||xe(),Re.clickOutsideAnchor&&window.removeEventListener("click",mr),Re.escape&&window.removeEventListener("keydown",Ae),wt&&((Tt=Y.current)===null||Tt===void 0||Tt.removeEventListener("mouseover",Rt),(Dt=Y.current)===null||Dt===void 0||Dt.removeEventListener("mouseout",Gt)),tt.forEach(({event:Ft,listener:Kr})=>{Pt.forEach(Qr=>{var kr;(kr=Qr.current)===null||kr===void 0||kr.removeEventListener(Ft,Kr)})})}},[B,Se,ce,nt,W,d,A,x,re,g,_]),Ce.useEffect(()=>{var Ye,it;let Pt=(it=(Ye=ve==null?void 0:ve.anchorSelect)!==null&&Ye!==void 0?Ye:s)!==null&&it!==void 0?it:"";!Pt&&t&&(Pt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const qt=new MutationObserver(he=>{const ue=[],we=[];he.forEach(xe=>{if(xe.type==="attributes"&&xe.attributeName==="data-tooltip-id"&&(xe.target.getAttribute("data-tooltip-id")===t?ue.push(xe.target):xe.oldValue===t&&we.push(xe.target)),xe.type==="childList"){if(B){const Ae=[...xe.removedNodes].filter(tt=>tt.nodeType===1);if(Pt)try{we.push(...Ae.filter(tt=>tt.matches(Pt))),we.push(...Ae.flatMap(tt=>[...tt.querySelectorAll(Pt)]))}catch{}Ae.some(tt=>{var st;return!!(!((st=tt==null?void 0:tt.contains)===null||st===void 0)&&st.call(tt,B))&&(de(!1),Le(!1),K(null),us(be),us(Pe),!0)})}if(Pt)try{const Ae=[...xe.addedNodes].filter(tt=>tt.nodeType===1);ue.push(...Ae.filter(tt=>tt.matches(Pt))),ue.push(...Ae.flatMap(tt=>[...tt.querySelectorAll(Pt)]))}catch{}}}),(ue.length||we.length)&&N(xe=>[...xe.filter(Ae=>!we.includes(Ae)),...ue])});return qt.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{qt.disconnect()}},[t,s,ve==null?void 0:ve.anchorSelect,B]),Ce.useEffect(()=>{Se()},[Se]),Ce.useEffect(()=>{if(!(fe!=null&&fe.current))return()=>null;const Ye=new ResizeObserver(()=>{setTimeout(()=>Se())});return Ye.observe(fe.current),()=>{Ye.disconnect()}},[X,fe==null?void 0:fe.current]),Ce.useEffect(()=>{var Ye;const it=document.querySelector(`[id='${o}']`),Pt=[...W,it];B&&Pt.includes(B)||K((Ye=W[0])!==null&&Ye!==void 0?Ye:it)},[o,W,B]),Ce.useEffect(()=>(ne&&Le(!0),()=>{us(be),us(Pe)}),[]),Ce.useEffect(()=>{var Ye;let it=(Ye=ve==null?void 0:ve.anchorSelect)!==null&&Ye!==void 0?Ye:s;if(!it&&t&&(it=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),it)try{const Pt=Array.from(document.querySelectorAll(it));N(Pt)}catch{N([])}},[t,s,ve==null?void 0:ve.anchorSelect]),Ce.useEffect(()=>{be.current&&(us(be),yt(g))},[g]);const Ne=(J=ve==null?void 0:ve.content)!==null&&J!==void 0?J:X,ht=G&&Object.keys(j.tooltipStyles).length>0;return Ce.useImperativeHandle(e,()=>({open:Ye=>{if(Ye!=null&&Ye.anchorSelect)try{document.querySelector(Ye.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Ye.anchorSelect}" is not a valid CSS selector`)}Ie(Ye??null),Ye!=null&&Ye.delay?yt(Ye.delay):Le(!0)},close:Ye=>{Ye!=null&&Ye.delay?lt(Ye.delay):Le(!1)},activeAnchor:B,place:j.place,isOpen:!!(ce&&!h&&Ne&&ht)})),ce&&!h&&Ne?et.createElement(m,{id:t,role:ie,className:tT("react-tooltip",cd.tooltip,PS.tooltip,PS[i],r,`react-tooltip__place-${j.place}`,cd[ht?"show":"closing"],ht?"react-tooltip__show":"react-tooltip__closing",c==="fixed"&&cd.fixed,y&&cd.clickable),onTransitionEnd:Ye=>{us(R),G||Ye.propertyName!=="opacity"||(de(!1),Ie(null),Q==null||Q())},style:{...D,...j.tooltipStyles,opacity:I!==void 0&&ht?I:void 0},ref:Y},Ne,et.createElement(m,{className:tT("react-tooltip-arrow",cd.arrow,PS.arrow,n,E&&cd.noArrow),style:{...j.tooltipArrowStyles,background:q?`linear-gradient(to right bottom, transparent 50%, ${q} 50%)`:void 0},ref:se})):null},J5=({content:e})=>et.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Y5=et.forwardRef(({id:e,anchorId:t,anchorSelect:r,content:n,html:i,render:o,className:s,classNameArrow:a,variant:l="dark",place:u="top",offset:f=10,wrapper:c="div",children:p=null,events:m=["hover"],openOnClick:g=!1,positionStrategy:_="absolute",middlewares:v,delayShow:h=0,delayHide:E=0,float:y=!1,hidden:S=!1,noArrow:$=!1,clickable:T=!1,closeOnEsc:d=!1,closeOnScroll:A=!1,closeOnResize:x=!1,openEvents:O,closeEvents:D,globalCloseEvents:F,imperativeModeOnly:V=!1,style:Q,position:H,isOpen:X,defaultIsOpen:fe=!1,disableStyleInjection:Z=!1,border:ne,opacity:C,arrowColor:B,setIsOpen:K,afterShow:P,afterHide:I,disableTooltip:q,role:ie="tooltip"},J)=>{const[Y,se]=Ce.useState(n),[be,Pe]=Ce.useState(i),[R,j]=Ce.useState(u),[M,G]=Ce.useState(l),[oe,ce]=Ce.useState(f),[de,ve]=Ce.useState(h),[Ie,Be]=Ce.useState(E),[De,nt]=Ce.useState(y),[We,Ue]=Ce.useState(S),[W,N]=Ce.useState(c),[L,re]=Ce.useState(m),[ye,Ee]=Ce.useState(_),[je,Re]=Ce.useState(null),[Le,dt]=Ce.useState(null),yt=Ce.useRef(Z),{anchorRefs:lt,activeAnchor:Ct}=RB(e),Er=Vt=>Vt==null?void 0:Vt.getAttributeNames().reduce((zt,At)=>{var Se;return At.startsWith("data-tooltip-")&&(zt[At.replace(/^data-tooltip-/,"")]=(Se=Vt==null?void 0:Vt.getAttribute(At))!==null&&Se!==void 0?Se:null),zt},{}),Pr=Vt=>{const zt={place:At=>{var Se;j((Se=At)!==null&&Se!==void 0?Se:u)},content:At=>{se(At??n)},html:At=>{Pe(At??i)},variant:At=>{var Se;G((Se=At)!==null&&Se!==void 0?Se:l)},offset:At=>{ce(At===null?f:Number(At))},wrapper:At=>{var Se;N((Se=At)!==null&&Se!==void 0?Se:c)},events:At=>{const Se=At==null?void 0:At.split(" ");re(Se??m)},"position-strategy":At=>{var Se;Ee((Se=At)!==null&&Se!==void 0?Se:_)},"delay-show":At=>{ve(At===null?h:Number(At))},"delay-hide":At=>{Be(At===null?E:Number(At))},float:At=>{nt(At===null?y:At==="true")},hidden:At=>{Ue(At===null?S:At==="true")},"class-name":At=>{Re(At)}};Object.values(zt).forEach(At=>At(null)),Object.entries(Vt).forEach(([At,Se])=>{var Ne;(Ne=zt[At])===null||Ne===void 0||Ne.call(zt,Se)})};Ce.useEffect(()=>{se(n)},[n]),Ce.useEffect(()=>{Pe(i)},[i]),Ce.useEffect(()=>{j(u)},[u]),Ce.useEffect(()=>{G(l)},[l]),Ce.useEffect(()=>{ce(f)},[f]),Ce.useEffect(()=>{ve(h)},[h]),Ce.useEffect(()=>{Be(E)},[E]),Ce.useEffect(()=>{nt(y)},[y]),Ce.useEffect(()=>{Ue(S)},[S]),Ce.useEffect(()=>{Ee(_)},[_]),Ce.useEffect(()=>{yt.current!==Z&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[Z]),Ce.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:Z==="core",disableBase:Z}}))},[]),Ce.useEffect(()=>{var Vt;const zt=new Set(lt);let At=r;if(!At&&e&&(At=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),At)try{document.querySelectorAll(At).forEach(it=>{zt.add({current:it})})}catch{console.warn(`[react-tooltip] "${At}" is not a valid CSS selector`)}const Se=document.querySelector(`[id='${t}']`);if(Se&&zt.add({current:Se}),!zt.size)return()=>null;const Ne=(Vt=Le??Se)!==null&&Vt!==void 0?Vt:Ct.current,ht=new MutationObserver(it=>{it.forEach(Pt=>{var qt;if(!Ne||Pt.type!=="attributes"||!(!((qt=Pt.attributeName)===null||qt===void 0)&&qt.startsWith("data-tooltip-")))return;const he=Er(Ne);Pr(he)})}),Ye={attributes:!0,childList:!1,subtree:!1};if(Ne){const it=Er(Ne);Pr(it),ht.observe(Ne,Ye)}return()=>{ht.disconnect()}},[lt,Ct,Le,t,r]),Ce.useEffect(()=>{Q!=null&&Q.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),ne&&!b2("border",`${ne}`)&&console.warn(`[react-tooltip] "${ne}" is not a valid \`border\`.`),Q!=null&&Q.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),C&&!b2("opacity",`${C}`)&&console.warn(`[react-tooltip] "${C}" is not a valid \`opacity\`.`)},[]);let ir=p;const mr=Ce.useRef(null);if(o){const Vt=o({content:(Le==null?void 0:Le.getAttribute("data-tooltip-content"))||Y||null,activeAnchor:Le});ir=Vt?et.createElement("div",{ref:mr,className:"react-tooltip-content-wrapper"},Vt):null}else Y&&(ir=Y);be&&(ir=et.createElement(J5,{content:be}));const cn={forwardRef:J,id:e,anchorId:t,anchorSelect:r,className:tT(s,je),classNameArrow:a,content:ir,contentWrapperRef:mr,place:R,variant:M,offset:oe,wrapper:W,events:L,openOnClick:g,positionStrategy:ye,middlewares:v,delayShow:de,delayHide:Ie,float:De,hidden:We,noArrow:$,clickable:T,closeOnEsc:d,closeOnScroll:A,closeOnResize:x,openEvents:O,closeEvents:D,globalCloseEvents:F,imperativeModeOnly:V,style:Q,position:H,isOpen:X,defaultIsOpen:fe,border:ne,opacity:C,arrowColor:B,setIsOpen:K,afterShow:P,afterHide:I,disableTooltip:q,activeAnchor:Le,setActiveAnchor:Vt=>dt(Vt),role:ie};return et.createElement(K5,{...cn})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||y2({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||y2({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Uc=e=>ae.jsxs(ae.Fragment,{children:[ae.jsx("a",{"data-tooltip-id":e.id,"data-tooltip-html":e.html,children:ae.jsx(e.IconComponent,{color:e.color??"grey",size:e.size??"16"})}),ae.jsx(Y5,{id:e.id,place:"top",className:"z-10"})]});var NB={exports:{}},X5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Q5=X5,Z5=Q5;function IB(){}function kB(){}kB.resetWarningCache=IB;var eQ=function(){function e(n,i,o,s,a,l){if(l!==Z5){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kB,resetWarningCache:IB};return r.PropTypes=r,r};NB.exports=eQ();var tQ=NB.exports;const ot=Df(tQ);function nT(){return nT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nT.apply(this,arguments)}function rQ(e,t){if(e==null)return{};var r=nQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var cR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=rQ(e,["color","size"]);return et.createElement("svg",nT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),et.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),et.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});cR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};cR.displayName="AlertTriangle";function iT(){return iT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iT.apply(this,arguments)}function iQ(e,t){if(e==null)return{};var r=oQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var fR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=iQ(e,["color","size"]);return et.createElement("svg",iT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),et.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))});fR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};fR.displayName="CheckCircle";function oT(){return oT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oT.apply(this,arguments)}function sQ(e,t){if(e==null)return{};var r=aQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var dR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=sQ(e,["color","size"]);return et.createElement("svg",oT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("polyline",{points:"20 6 9 17 4 12"}))});dR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};dR.displayName="Check";function sT(){return sT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sT.apply(this,arguments)}function lQ(e,t){if(e==null)return{};var r=uQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var hf=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=lQ(e,["color","size"]);return et.createElement("svg",sT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("polyline",{points:"6 9 12 15 18 9"}))});hf.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};hf.displayName="ChevronDown";function aT(){return aT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aT.apply(this,arguments)}function cQ(e,t){if(e==null)return{};var r=fQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var hR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=cQ(e,["color","size"]);return et.createElement("svg",aT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("polyline",{points:"9 18 15 12 9 6"}))});hR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};hR.displayName="ChevronRight";function lT(){return lT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lT.apply(this,arguments)}function dQ(e,t){if(e==null)return{};var r=hQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var pR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=dQ(e,["color","size"]);return et.createElement("svg",lT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("polyline",{points:"18 15 12 9 6 15"}))});pR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};pR.displayName="ChevronUp";function uT(){return uT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uT.apply(this,arguments)}function pQ(e,t){if(e==null)return{};var r=mQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var mR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=pQ(e,["color","size"]);return et.createElement("svg",uT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),et.createElement("polyline",{points:"7 10 12 15 17 10"}),et.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});mR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};mR.displayName="Download";function cT(){return cT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cT.apply(this,arguments)}function gQ(e,t){if(e==null)return{};var r=vQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var gR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=gQ(e,["color","size"]);return et.createElement("svg",cT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),et.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});gR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};gR.displayName="Edit";function fT(){return fT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fT.apply(this,arguments)}function yQ(e,t){if(e==null)return{};var r=wQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var vR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=yQ(e,["color","size"]);return et.createElement("svg",fT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),et.createElement("polyline",{points:"14 2 14 8 20 8"}),et.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),et.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}))});vR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};vR.displayName="FilePlus";function dT(){return dT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dT.apply(this,arguments)}function bQ(e,t){if(e==null)return{};var r=_Q(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Q(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var yR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=bQ(e,["color","size"]);return et.createElement("svg",dT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),et.createElement("polyline",{points:"14 2 14 8 20 8"}),et.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),et.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),et.createElement("polyline",{points:"10 9 9 9 8 9"}))});yR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};yR.displayName="FileText";function hT(){return hT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hT.apply(this,arguments)}function EQ(e,t){if(e==null)return{};var r=SQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var wR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=EQ(e,["color","size"]);return et.createElement("svg",hT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),et.createElement("polyline",{points:"13 2 13 9 20 9"}))});wR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};wR.displayName="File";function pT(){return pT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pT.apply(this,arguments)}function $Q(e,t){if(e==null)return{};var r=TQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var bR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=$Q(e,["color","size"]);return et.createElement("svg",pT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))});bR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};bR.displayName="GitHub";function mT(){return mT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mT.apply(this,arguments)}function AQ(e,t){if(e==null)return{};var r=xQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var vg=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=AQ(e,["color","size"]);return et.createElement("svg",mT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("circle",{cx:"12",cy:"12",r:"10"}),et.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),et.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))});vg.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};vg.displayName="Info";function gT(){return gT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gT.apply(this,arguments)}function OQ(e,t){if(e==null)return{};var r=PQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var _R=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=OQ(e,["color","size"]);return et.createElement("svg",gT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});_R.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};_R.displayName="Minus";function vT(){return vT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vT.apply(this,arguments)}function RQ(e,t){if(e==null)return{};var r=NQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var ER=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=RQ(e,["color","size"]);return et.createElement("svg",vT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("circle",{cx:"12",cy:"12",r:"10"}),et.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),et.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});ER.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};ER.displayName="PlusCircle";function yT(){return yT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yT.apply(this,arguments)}function IQ(e,t){if(e==null)return{};var r=kQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var SR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=IQ(e,["color","size"]);return et.createElement("svg",yT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),et.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});SR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};SR.displayName="Plus";function wT(){return wT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wT.apply(this,arguments)}function CQ(e,t){if(e==null)return{};var r=jQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var $R=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=CQ(e,["color","size"]);return et.createElement("svg",wT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("polyline",{points:"1 4 1 10 7 10"}),et.createElement("polyline",{points:"23 20 23 14 17 14"}),et.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});$R.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};$R.displayName="RefreshCcw";function bT(){return bT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bT.apply(this,arguments)}function DQ(e,t){if(e==null)return{};var r=MQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var TR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=DQ(e,["color","size"]);return et.createElement("svg",bT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("polyline",{points:"23 4 23 10 17 10"}),et.createElement("polyline",{points:"1 20 1 14 7 14"}),et.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}))});TR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};TR.displayName="RefreshCw";function _T(){return _T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_T.apply(this,arguments)}function LQ(e,t){if(e==null)return{};var r=FQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var AR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=LQ(e,["color","size"]);return et.createElement("svg",_T({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("polyline",{points:"1 4 1 10 7 10"}),et.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});AR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};AR.displayName="RotateCcw";function ET(){return ET=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ET.apply(this,arguments)}function BQ(e,t){if(e==null)return{};var r=UQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var xR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=BQ(e,["color","size"]);return et.createElement("svg",ET({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("polyline",{points:"23 4 23 10 17 10"}),et.createElement("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"}))});xR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};xR.displayName="RotateCw";function ST(){return ST=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ST.apply(this,arguments)}function zQ(e,t){if(e==null)return{};var r=qQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var OR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=zQ(e,["color","size"]);return et.createElement("svg",ST({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),et.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),et.createElement("polyline",{points:"7 3 7 8 15 8"}))});OR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};OR.displayName="Save";function $T(){return $T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$T.apply(this,arguments)}function VQ(e,t){if(e==null)return{};var r=HQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var PR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=VQ(e,["color","size"]);return et.createElement("svg",$T({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("circle",{cx:"11",cy:"11",r:"8"}),et.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});PR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};PR.displayName="Search";function TT(){return TT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TT.apply(this,arguments)}function WQ(e,t){if(e==null)return{};var r=GQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var RR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=WQ(e,["color","size"]);return et.createElement("svg",TT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("circle",{cx:"12",cy:"12",r:"3"}),et.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))});RR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};RR.displayName="Settings";function AT(){return AT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AT.apply(this,arguments)}function KQ(e,t){if(e==null)return{};var r=JQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var NR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=KQ(e,["color","size"]);return et.createElement("svg",AT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),et.createElement("polyline",{points:"16 6 12 2 8 6"}),et.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"15"}))});NR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};NR.displayName="Share";function xT(){return xT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xT.apply(this,arguments)}function YQ(e,t){if(e==null)return{};var r=XQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var tc=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=YQ(e,["color","size"]);return et.createElement("svg",xT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("polyline",{points:"3 6 5 6 21 6"}),et.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),et.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),et.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});tc.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};tc.displayName="Trash2";function OT(){return OT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OT.apply(this,arguments)}function QQ(e,t){if(e==null)return{};var r=ZQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var IR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=QQ(e,["color","size"]);return et.createElement("svg",OT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),et.createElement("circle",{cx:"12",cy:"12",r:"10"}),et.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),et.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))});IR.propTypes={color:ot.string,size:ot.oneOfType([ot.string,ot.number])};IR.displayName="XCircle";const Nl=e=>ae.jsxs("div",{className:"flex justify-center",children:[ae.jsx("div",{className:"pr-0.5",children:e.children}),ae.jsx("button",{onClick:()=>window.open(e.tooltip.href,"_blank"),children:ae.jsx(Uc,{html:e.tooltip.html||"No tooltip content available",id:e.id,IconComponent:vg})}),ae.jsx("div",{className:"p-1"})]});class rc{constructor(t,r){this.html=t,this.href=r}}const eZ=()=>{const e=`<h2 class='text-lg'>Web of Things Properties</h2>
                    <p>A Property is a simple attribute of a device. The value of a Property can be readable.</p>
                    <p>writable or observable. E.g. a Property for a lamp could indicate if it is on or off.</p>
                    <br />
                    <p>Click to get more information about Properties.</p> 
                `,t="https://www.w3.org/TR/wot-thing-description/#propertyaffordance";return new rc(e,t)},tZ=()=>{const e=`<h2 class='text-lg'>Web of Things Actions</h2>
                    <p>An Action is some kind of procedure that can be triggered on a device. An Action can</p>
                    <p>be started or cancelled. E.g. an Action for a lamp could be turning it on or off.</p>
                    <br />
                    <p>Click to get more information about Actions.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#actionaffordance";return new rc(e,t)},rZ=()=>{const e=`<h2 class='text-lg'>Web of Things Events</h2>
                <p>An Event is an asynchronously happening information flow. An Event is observable.</p>
                <p>E.g. an Event for a lamp could fire if it gets turned on or off.</p>
                <br />
                <p>Click to get more information about Events.</p>
            `,t="https://www.w3.org/TR/wot-thing-description/#eventaffordance";return new rc(e,t)},yg=()=>{const e=`<h2 class='text-lg'>Web of Things Forms</h2>
                    <p>A Form contains all information needed to make a request to a device.</p>
                    <p>It can accompany a Property, Action, Event or a Thing itself.</p>
                    <br />
                    <p>Click to get more information about Forms.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#form";return new rc(e,t)},CB=()=>{const e=`<h2 class='text-lg'>Web of Things Link</h2>
                    <p>A link can be viewed as a statement of the form link context has a relation type resource at link target</p>
                    <p>Used to link Thing Description with other ressources.</p>
                    <br />
                    <p>Click to get more information about Links.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#link";return new rc(e,t)},jB=()=>{const e=`<h2 class='text-lg'>Unit ID</h2>
                    <p>Slave address of the Modbus device.</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#url-terms";return new rc(e,t)},DB=()=>{const e=`<h2 class='text-lg'>Address Offset</h2>
                    <p>Should all addresses shift by one (false) or not (true)</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#form-terms";return new rc(e,t)},MB=()=>{const e=`<h2 class='text-lg'>Endianness</h2>
                    <p>Should the words or the bytes be swapped?</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#form-terms";return new rc(e,t)},nZ={properties:eZ(),actions:tZ(),events:rZ(),forms:yg(),links:CB(),unitId:jB(),addressOffset:DB(),endianness:MB()};var iZ={},oZ=Object.create,z_=Object.defineProperty,sZ=Object.getOwnPropertyDescriptor,kR=Object.getOwnPropertyNames,aZ=Object.getPrototypeOf,lZ=Object.prototype.hasOwnProperty,nn=(e,t)=>function(){return e&&(t=(0,e[kR(e)[0]])(e=0)),t},Oe=(e,t)=>function(){return t||(0,e[kR(e)[0]])((t={exports:{}}).exports,t),t.exports},rl=(e,t)=>{for(var r in t)z_(e,r,{get:t[r],enumerable:!0})},LB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of kR(t))!lZ.call(e,i)&&i!==r&&z_(e,i,{get:()=>t[i],enumerable:!(n=sZ(t,i))||n.enumerable});return e},CR=(e,t,r)=>(r=e!=null?oZ(aZ(e)):{},LB(!e||!e.__esModule?z_(r,"default",{value:e,enumerable:!0}):r,e)),Or=e=>LB(z_({},"__esModule",{value:!0}),e);function uZ(){if(PT)return Sd;PT=!0,Sd.byteLength=a,Sd.toByteArray=u,Sd.fromByteArray=p;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function s(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=m.indexOf("=");_===-1&&(_=g);var v=_===g?0:4-_%4;return[_,v]}function a(m){var g=s(m),_=g[0],v=g[1];return(_+v)*3/4-v}function l(m,g,_){return(g+_)*3/4-_}function u(m){var g,_=s(m),v=_[0],h=_[1],E=new r(l(m,v,h)),y=0,S=h>0?v-4:v,$;for($=0;$<S;$+=4)g=t[m.charCodeAt($)]<<18|t[m.charCodeAt($+1)]<<12|t[m.charCodeAt($+2)]<<6|t[m.charCodeAt($+3)],E[y++]=g>>16&255,E[y++]=g>>8&255,E[y++]=g&255;return h===2&&(g=t[m.charCodeAt($)]<<2|t[m.charCodeAt($+1)]>>4,E[y++]=g&255),h===1&&(g=t[m.charCodeAt($)]<<10|t[m.charCodeAt($+1)]<<4|t[m.charCodeAt($+2)]>>2,E[y++]=g>>8&255,E[y++]=g&255),E}function f(m){return e[m>>18&63]+e[m>>12&63]+e[m>>6&63]+e[m&63]}function c(m,g,_){for(var v,h=[],E=g;E<_;E+=3)v=(m[E]<<16&16711680)+(m[E+1]<<8&65280)+(m[E+2]&255),h.push(f(v));return h.join("")}function p(m){for(var g,_=m.length,v=_%3,h=[],E=16383,y=0,S=_-v;y<S;y+=E)h.push(c(m,y,y+E>S?S:y+E));return v===1?(g=m[_-1],h.push(e[g>>2]+e[g<<4&63]+"==")):v===2&&(g=(m[_-2]<<8)+m[_-1],h.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),h.join("")}return Sd}function cZ(){return RT||(RT=!0,Np.read=function(e,t,r,n,i){var o,s,a=i*8-n-1,l=(1<<a)-1,u=l>>1,f=-7,c=r?i-1:0,p=r?-1:1,m=e[t+c];for(c+=p,o=m&(1<<-f)-1,m>>=-f,f+=a;f>0;o=o*256+e[t+c],c+=p,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=s*256+e[t+c],c+=p,f-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(m?-1:1)*s*Math.pow(2,o-n)},Np.write=function(e,t,r,n,i,o){var s,a,l,u=o*8-i-1,f=(1<<u)-1,c=f>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+c>=1?t+=p/l:t+=p*Math.pow(2,1-c),t*l>=2&&(s++,l/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(t*l-1)*Math.pow(2,i),s=s+c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[r+m]=a&255,m+=g,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+m]=s&255,m+=g,s/=256,u-=8);e[r+m-g]|=_*128}),Np}function No(){if(NT)return mu;NT=!0;const e=uZ(),t=cZ(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;mu.Buffer=s,mu.SlowBuffer=h,mu.INSPECT_MAX_BYTES=50;const n=2147483647;mu.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const W=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(W,N),W.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(W){if(W>n)throw new RangeError('The value "'+W+'" is invalid for option "size"');const N=new Uint8Array(W);return Object.setPrototypeOf(N,s.prototype),N}function s(W,N,L){if(typeof W=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(W)}return a(W,N,L)}s.poolSize=8192;function a(W,N,L){if(typeof W=="string")return c(W,N);if(ArrayBuffer.isView(W))return m(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(Be(W,ArrayBuffer)||W&&Be(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be(W,SharedArrayBuffer)||W&&Be(W.buffer,SharedArrayBuffer)))return g(W,N,L);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const re=W.valueOf&&W.valueOf();if(re!=null&&re!==W)return s.from(re,N,L);const ye=_(W);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return s.from(W[Symbol.toPrimitive]("string"),N,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}s.from=function(W,N,L){return a(W,N,L)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function u(W,N,L){return l(W),W<=0?o(W):N!==void 0?typeof L=="string"?o(W).fill(N,L):o(W).fill(N):o(W)}s.alloc=function(W,N,L){return u(W,N,L)};function f(W){return l(W),o(W<0?0:v(W)|0)}s.allocUnsafe=function(W){return f(W)},s.allocUnsafeSlow=function(W){return f(W)};function c(W,N){if((typeof N!="string"||N==="")&&(N="utf8"),!s.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const L=E(W,N)|0;let re=o(L);const ye=re.write(W,N);return ye!==L&&(re=re.slice(0,ye)),re}function p(W){const N=W.length<0?0:v(W.length)|0,L=o(N);for(let re=0;re<N;re+=1)L[re]=W[re]&255;return L}function m(W){if(Be(W,Uint8Array)){const N=new Uint8Array(W);return g(N.buffer,N.byteOffset,N.byteLength)}return p(W)}function g(W,N,L){if(N<0||W.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<N+(L||0))throw new RangeError('"length" is outside of buffer bounds');let re;return N===void 0&&L===void 0?re=new Uint8Array(W):L===void 0?re=new Uint8Array(W,N):re=new Uint8Array(W,N,L),Object.setPrototypeOf(re,s.prototype),re}function _(W){if(s.isBuffer(W)){const N=v(W.length)|0,L=o(N);return L.length===0||W.copy(L,0,0,N),L}if(W.length!==void 0)return typeof W.length!="number"||De(W.length)?o(0):p(W);if(W.type==="Buffer"&&Array.isArray(W.data))return p(W.data)}function v(W){if(W>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return W|0}function h(W){return+W!=W&&(W=0),s.alloc(+W)}s.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==s.prototype},s.compare=function(N,L){if(Be(N,Uint8Array)&&(N=s.from(N,N.offset,N.byteLength)),Be(L,Uint8Array)&&(L=s.from(L,L.offset,L.byteLength)),!s.isBuffer(N)||!s.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===L)return 0;let re=N.length,ye=L.length;for(let Ee=0,je=Math.min(re,ye);Ee<je;++Ee)if(N[Ee]!==L[Ee]){re=N[Ee],ye=L[Ee];break}return re<ye?-1:ye<re?1:0},s.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(N,L){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return s.alloc(0);let re;if(L===void 0)for(L=0,re=0;re<N.length;++re)L+=N[re].length;const ye=s.allocUnsafe(L);let Ee=0;for(re=0;re<N.length;++re){let je=N[re];if(Be(je,Uint8Array))Ee+je.length>ye.length?(s.isBuffer(je)||(je=s.from(je)),je.copy(ye,Ee)):Uint8Array.prototype.set.call(ye,je,Ee);else if(s.isBuffer(je))je.copy(ye,Ee);else throw new TypeError('"list" argument must be an Array of Buffers');Ee+=je.length}return ye};function E(W,N){if(s.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||Be(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const L=W.length,re=arguments.length>2&&arguments[2]===!0;if(!re&&L===0)return 0;let ye=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return oe(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return ve(W).length;default:if(ye)return re?-1:oe(W).length;N=(""+N).toLowerCase(),ye=!0}}s.byteLength=E;function y(W,N,L){let re=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,N>>>=0,L<=N))return"";for(W||(W="utf8");;)switch(W){case"hex":return Z(this,N,L);case"utf8":case"utf-8":return V(this,N,L);case"ascii":return X(this,N,L);case"latin1":case"binary":return fe(this,N,L);case"base64":return F(this,N,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,N,L);default:if(re)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),re=!0}}s.prototype._isBuffer=!0;function S(W,N,L){const re=W[N];W[N]=W[L],W[L]=re}s.prototype.swap16=function(){const N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<N;L+=2)S(this,L,L+1);return this},s.prototype.swap32=function(){const N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<N;L+=4)S(this,L,L+3),S(this,L+1,L+2);return this},s.prototype.swap64=function(){const N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<N;L+=8)S(this,L,L+7),S(this,L+1,L+6),S(this,L+2,L+5),S(this,L+3,L+4);return this},s.prototype.toString=function(){const N=this.length;return N===0?"":arguments.length===0?V(this,0,N):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(N){if(!s.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:s.compare(this,N)===0},s.prototype.inspect=function(){let N="";const L=mu.INSPECT_MAX_BYTES;return N=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(N+=" ... "),"<Buffer "+N+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(N,L,re,ye,Ee){if(Be(N,Uint8Array)&&(N=s.from(N,N.offset,N.byteLength)),!s.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(L===void 0&&(L=0),re===void 0&&(re=N?N.length:0),ye===void 0&&(ye=0),Ee===void 0&&(Ee=this.length),L<0||re>N.length||ye<0||Ee>this.length)throw new RangeError("out of range index");if(ye>=Ee&&L>=re)return 0;if(ye>=Ee)return-1;if(L>=re)return 1;if(L>>>=0,re>>>=0,ye>>>=0,Ee>>>=0,this===N)return 0;let je=Ee-ye,Re=re-L;const Le=Math.min(je,Re),dt=this.slice(ye,Ee),yt=N.slice(L,re);for(let lt=0;lt<Le;++lt)if(dt[lt]!==yt[lt]){je=dt[lt],Re=yt[lt];break}return je<Re?-1:Re<je?1:0};function $(W,N,L,re,ye){if(W.length===0)return-1;if(typeof L=="string"?(re=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,De(L)&&(L=ye?0:W.length-1),L<0&&(L=W.length+L),L>=W.length){if(ye)return-1;L=W.length-1}else if(L<0)if(ye)L=0;else return-1;if(typeof N=="string"&&(N=s.from(N,re)),s.isBuffer(N))return N.length===0?-1:T(W,N,L,re,ye);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(W,N,L):Uint8Array.prototype.lastIndexOf.call(W,N,L):T(W,[N],L,re,ye);throw new TypeError("val must be string, number or Buffer")}function T(W,N,L,re,ye){let Ee=1,je=W.length,Re=N.length;if(re!==void 0&&(re=String(re).toLowerCase(),re==="ucs2"||re==="ucs-2"||re==="utf16le"||re==="utf-16le")){if(W.length<2||N.length<2)return-1;Ee=2,je/=2,Re/=2,L/=2}function Le(yt,lt){return Ee===1?yt[lt]:yt.readUInt16BE(lt*Ee)}let dt;if(ye){let yt=-1;for(dt=L;dt<je;dt++)if(Le(W,dt)===Le(N,yt===-1?0:dt-yt)){if(yt===-1&&(yt=dt),dt-yt+1===Re)return yt*Ee}else yt!==-1&&(dt-=dt-yt),yt=-1}else for(L+Re>je&&(L=je-Re),dt=L;dt>=0;dt--){let yt=!0;for(let lt=0;lt<Re;lt++)if(Le(W,dt+lt)!==Le(N,lt)){yt=!1;break}if(yt)return dt}return-1}s.prototype.includes=function(N,L,re){return this.indexOf(N,L,re)!==-1},s.prototype.indexOf=function(N,L,re){return $(this,N,L,re,!0)},s.prototype.lastIndexOf=function(N,L,re){return $(this,N,L,re,!1)};function d(W,N,L,re){L=Number(L)||0;const ye=W.length-L;re?(re=Number(re),re>ye&&(re=ye)):re=ye;const Ee=N.length;re>Ee/2&&(re=Ee/2);let je;for(je=0;je<re;++je){const Re=parseInt(N.substr(je*2,2),16);if(De(Re))return je;W[L+je]=Re}return je}function A(W,N,L,re){return Ie(oe(N,W.length-L),W,L,re)}function x(W,N,L,re){return Ie(ce(N),W,L,re)}function O(W,N,L,re){return Ie(ve(N),W,L,re)}function D(W,N,L,re){return Ie(de(N,W.length-L),W,L,re)}s.prototype.write=function(N,L,re,ye){if(L===void 0)ye="utf8",re=this.length,L=0;else if(re===void 0&&typeof L=="string")ye=L,re=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(re)?(re=re>>>0,ye===void 0&&(ye="utf8")):(ye=re,re=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ee=this.length-L;if((re===void 0||re>Ee)&&(re=Ee),N.length>0&&(re<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");let je=!1;for(;;)switch(ye){case"hex":return d(this,N,L,re);case"utf8":case"utf-8":return A(this,N,L,re);case"ascii":case"latin1":case"binary":return x(this,N,L,re);case"base64":return O(this,N,L,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,N,L,re);default:if(je)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),je=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(W,N,L){return N===0&&L===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(N,L))}function V(W,N,L){L=Math.min(W.length,L);const re=[];let ye=N;for(;ye<L;){const Ee=W[ye];let je=null,Re=Ee>239?4:Ee>223?3:Ee>191?2:1;if(ye+Re<=L){let Le,dt,yt,lt;switch(Re){case 1:Ee<128&&(je=Ee);break;case 2:Le=W[ye+1],(Le&192)===128&&(lt=(Ee&31)<<6|Le&63,lt>127&&(je=lt));break;case 3:Le=W[ye+1],dt=W[ye+2],(Le&192)===128&&(dt&192)===128&&(lt=(Ee&15)<<12|(Le&63)<<6|dt&63,lt>2047&&(lt<55296||lt>57343)&&(je=lt));break;case 4:Le=W[ye+1],dt=W[ye+2],yt=W[ye+3],(Le&192)===128&&(dt&192)===128&&(yt&192)===128&&(lt=(Ee&15)<<18|(Le&63)<<12|(dt&63)<<6|yt&63,lt>65535&&lt<1114112&&(je=lt))}}je===null?(je=65533,Re=1):je>65535&&(je-=65536,re.push(je>>>10&1023|55296),je=56320|je&1023),re.push(je),ye+=Re}return H(re)}const Q=4096;function H(W){const N=W.length;if(N<=Q)return String.fromCharCode.apply(String,W);let L="",re=0;for(;re<N;)L+=String.fromCharCode.apply(String,W.slice(re,re+=Q));return L}function X(W,N,L){let re="";L=Math.min(W.length,L);for(let ye=N;ye<L;++ye)re+=String.fromCharCode(W[ye]&127);return re}function fe(W,N,L){let re="";L=Math.min(W.length,L);for(let ye=N;ye<L;++ye)re+=String.fromCharCode(W[ye]);return re}function Z(W,N,L){const re=W.length;(!N||N<0)&&(N=0),(!L||L<0||L>re)&&(L=re);let ye="";for(let Ee=N;Ee<L;++Ee)ye+=nt[W[Ee]];return ye}function ne(W,N,L){const re=W.slice(N,L);let ye="";for(let Ee=0;Ee<re.length-1;Ee+=2)ye+=String.fromCharCode(re[Ee]+re[Ee+1]*256);return ye}s.prototype.slice=function(N,L){const re=this.length;N=~~N,L=L===void 0?re:~~L,N<0?(N+=re,N<0&&(N=0)):N>re&&(N=re),L<0?(L+=re,L<0&&(L=0)):L>re&&(L=re),L<N&&(L=N);const ye=this.subarray(N,L);return Object.setPrototypeOf(ye,s.prototype),ye};function C(W,N,L){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+N>L)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(N,L,re){N=N>>>0,L=L>>>0,re||C(N,L,this.length);let ye=this[N],Ee=1,je=0;for(;++je<L&&(Ee*=256);)ye+=this[N+je]*Ee;return ye},s.prototype.readUintBE=s.prototype.readUIntBE=function(N,L,re){N=N>>>0,L=L>>>0,re||C(N,L,this.length);let ye=this[N+--L],Ee=1;for(;L>0&&(Ee*=256);)ye+=this[N+--L]*Ee;return ye},s.prototype.readUint8=s.prototype.readUInt8=function(N,L){return N=N>>>0,L||C(N,1,this.length),this[N]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(N,L){return N=N>>>0,L||C(N,2,this.length),this[N]|this[N+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(N,L){return N=N>>>0,L||C(N,2,this.length),this[N]<<8|this[N+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(N,L){return N=N>>>0,L||C(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(N,L){return N=N>>>0,L||C(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},s.prototype.readBigUInt64LE=We(function(N){N=N>>>0,R(N,"offset");const L=this[N],re=this[N+7];(L===void 0||re===void 0)&&j(N,this.length-8);const ye=L+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,Ee=this[++N]+this[++N]*2**8+this[++N]*2**16+re*2**24;return BigInt(ye)+(BigInt(Ee)<<BigInt(32))}),s.prototype.readBigUInt64BE=We(function(N){N=N>>>0,R(N,"offset");const L=this[N],re=this[N+7];(L===void 0||re===void 0)&&j(N,this.length-8);const ye=L*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],Ee=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+re;return(BigInt(ye)<<BigInt(32))+BigInt(Ee)}),s.prototype.readIntLE=function(N,L,re){N=N>>>0,L=L>>>0,re||C(N,L,this.length);let ye=this[N],Ee=1,je=0;for(;++je<L&&(Ee*=256);)ye+=this[N+je]*Ee;return Ee*=128,ye>=Ee&&(ye-=Math.pow(2,8*L)),ye},s.prototype.readIntBE=function(N,L,re){N=N>>>0,L=L>>>0,re||C(N,L,this.length);let ye=L,Ee=1,je=this[N+--ye];for(;ye>0&&(Ee*=256);)je+=this[N+--ye]*Ee;return Ee*=128,je>=Ee&&(je-=Math.pow(2,8*L)),je},s.prototype.readInt8=function(N,L){return N=N>>>0,L||C(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},s.prototype.readInt16LE=function(N,L){N=N>>>0,L||C(N,2,this.length);const re=this[N]|this[N+1]<<8;return re&32768?re|4294901760:re},s.prototype.readInt16BE=function(N,L){N=N>>>0,L||C(N,2,this.length);const re=this[N+1]|this[N]<<8;return re&32768?re|4294901760:re},s.prototype.readInt32LE=function(N,L){return N=N>>>0,L||C(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},s.prototype.readInt32BE=function(N,L){return N=N>>>0,L||C(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},s.prototype.readBigInt64LE=We(function(N){N=N>>>0,R(N,"offset");const L=this[N],re=this[N+7];(L===void 0||re===void 0)&&j(N,this.length-8);const ye=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+(re<<24);return(BigInt(ye)<<BigInt(32))+BigInt(L+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),s.prototype.readBigInt64BE=We(function(N){N=N>>>0,R(N,"offset");const L=this[N],re=this[N+7];(L===void 0||re===void 0)&&j(N,this.length-8);const ye=(L<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(ye)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+re)}),s.prototype.readFloatLE=function(N,L){return N=N>>>0,L||C(N,4,this.length),t.read(this,N,!0,23,4)},s.prototype.readFloatBE=function(N,L){return N=N>>>0,L||C(N,4,this.length),t.read(this,N,!1,23,4)},s.prototype.readDoubleLE=function(N,L){return N=N>>>0,L||C(N,8,this.length),t.read(this,N,!0,52,8)},s.prototype.readDoubleBE=function(N,L){return N=N>>>0,L||C(N,8,this.length),t.read(this,N,!1,52,8)};function B(W,N,L,re,ye,Ee){if(!s.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>ye||N<Ee)throw new RangeError('"value" argument is out of bounds');if(L+re>W.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(N,L,re,ye){if(N=+N,L=L>>>0,re=re>>>0,!ye){const Re=Math.pow(2,8*re)-1;B(this,N,L,re,Re,0)}let Ee=1,je=0;for(this[L]=N&255;++je<re&&(Ee*=256);)this[L+je]=N/Ee&255;return L+re},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(N,L,re,ye){if(N=+N,L=L>>>0,re=re>>>0,!ye){const Re=Math.pow(2,8*re)-1;B(this,N,L,re,Re,0)}let Ee=re-1,je=1;for(this[L+Ee]=N&255;--Ee>=0&&(je*=256);)this[L+Ee]=N/je&255;return L+re},s.prototype.writeUint8=s.prototype.writeUInt8=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,1,255,0),this[L]=N&255,L+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,2,65535,0),this[L]=N&255,this[L+1]=N>>>8,L+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,2,65535,0),this[L]=N>>>8,this[L+1]=N&255,L+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,4,4294967295,0),this[L+3]=N>>>24,this[L+2]=N>>>16,this[L+1]=N>>>8,this[L]=N&255,L+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,4,4294967295,0),this[L]=N>>>24,this[L+1]=N>>>16,this[L+2]=N>>>8,this[L+3]=N&255,L+4};function K(W,N,L,re,ye){Pe(N,re,ye,W,L,7);let Ee=Number(N&BigInt(4294967295));W[L++]=Ee,Ee=Ee>>8,W[L++]=Ee,Ee=Ee>>8,W[L++]=Ee,Ee=Ee>>8,W[L++]=Ee;let je=Number(N>>BigInt(32)&BigInt(4294967295));return W[L++]=je,je=je>>8,W[L++]=je,je=je>>8,W[L++]=je,je=je>>8,W[L++]=je,L}function P(W,N,L,re,ye){Pe(N,re,ye,W,L,7);let Ee=Number(N&BigInt(4294967295));W[L+7]=Ee,Ee=Ee>>8,W[L+6]=Ee,Ee=Ee>>8,W[L+5]=Ee,Ee=Ee>>8,W[L+4]=Ee;let je=Number(N>>BigInt(32)&BigInt(4294967295));return W[L+3]=je,je=je>>8,W[L+2]=je,je=je>>8,W[L+1]=je,je=je>>8,W[L]=je,L+8}s.prototype.writeBigUInt64LE=We(function(N,L=0){return K(this,N,L,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=We(function(N,L=0){return P(this,N,L,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(N,L,re,ye){if(N=+N,L=L>>>0,!ye){const Le=Math.pow(2,8*re-1);B(this,N,L,re,Le-1,-Le)}let Ee=0,je=1,Re=0;for(this[L]=N&255;++Ee<re&&(je*=256);)N<0&&Re===0&&this[L+Ee-1]!==0&&(Re=1),this[L+Ee]=(N/je>>0)-Re&255;return L+re},s.prototype.writeIntBE=function(N,L,re,ye){if(N=+N,L=L>>>0,!ye){const Le=Math.pow(2,8*re-1);B(this,N,L,re,Le-1,-Le)}let Ee=re-1,je=1,Re=0;for(this[L+Ee]=N&255;--Ee>=0&&(je*=256);)N<0&&Re===0&&this[L+Ee+1]!==0&&(Re=1),this[L+Ee]=(N/je>>0)-Re&255;return L+re},s.prototype.writeInt8=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,1,127,-128),N<0&&(N=255+N+1),this[L]=N&255,L+1},s.prototype.writeInt16LE=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,2,32767,-32768),this[L]=N&255,this[L+1]=N>>>8,L+2},s.prototype.writeInt16BE=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,2,32767,-32768),this[L]=N>>>8,this[L+1]=N&255,L+2},s.prototype.writeInt32LE=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,4,2147483647,-2147483648),this[L]=N&255,this[L+1]=N>>>8,this[L+2]=N>>>16,this[L+3]=N>>>24,L+4},s.prototype.writeInt32BE=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[L]=N>>>24,this[L+1]=N>>>16,this[L+2]=N>>>8,this[L+3]=N&255,L+4},s.prototype.writeBigInt64LE=We(function(N,L=0){return K(this,N,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=We(function(N,L=0){return P(this,N,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function I(W,N,L,re,ye,Ee){if(L+re>W.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function q(W,N,L,re,ye){return N=+N,L=L>>>0,ye||I(W,N,L,4),t.write(W,N,L,re,23,4),L+4}s.prototype.writeFloatLE=function(N,L,re){return q(this,N,L,!0,re)},s.prototype.writeFloatBE=function(N,L,re){return q(this,N,L,!1,re)};function ie(W,N,L,re,ye){return N=+N,L=L>>>0,ye||I(W,N,L,8),t.write(W,N,L,re,52,8),L+8}s.prototype.writeDoubleLE=function(N,L,re){return ie(this,N,L,!0,re)},s.prototype.writeDoubleBE=function(N,L,re){return ie(this,N,L,!1,re)},s.prototype.copy=function(N,L,re,ye){if(!s.isBuffer(N))throw new TypeError("argument should be a Buffer");if(re||(re=0),!ye&&ye!==0&&(ye=this.length),L>=N.length&&(L=N.length),L||(L=0),ye>0&&ye<re&&(ye=re),ye===re||N.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(re<0||re>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),N.length-L<ye-re&&(ye=N.length-L+re);const Ee=ye-re;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,re,ye):Uint8Array.prototype.set.call(N,this.subarray(re,ye),L),Ee},s.prototype.fill=function(N,L,re,ye){if(typeof N=="string"){if(typeof L=="string"?(ye=L,L=0,re=this.length):typeof re=="string"&&(ye=re,re=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!s.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(N.length===1){const je=N.charCodeAt(0);(ye==="utf8"&&je<128||ye==="latin1")&&(N=je)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(L<0||this.length<L||this.length<re)throw new RangeError("Out of range index");if(re<=L)return this;L=L>>>0,re=re===void 0?this.length:re>>>0,N||(N=0);let Ee;if(typeof N=="number")for(Ee=L;Ee<re;++Ee)this[Ee]=N;else{const je=s.isBuffer(N)?N:s.from(N,ye),Re=je.length;if(Re===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(Ee=0;Ee<re-L;++Ee)this[Ee+L]=je[Ee%Re]}return this};const J={};function Y(W,N,L){J[W]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(ye){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ye,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(W,N){return`The "${W}" argument must be of type number. Received type ${typeof N}`},TypeError),Y("ERR_OUT_OF_RANGE",function(W,N,L){let re=`The value of "${W}" is out of range.`,ye=L;return Number.isInteger(L)&&Math.abs(L)>2**32?ye=se(String(L)):typeof L=="bigint"&&(ye=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(ye=se(ye)),ye+="n"),re+=` It must be ${N}. Received ${ye}`,re},RangeError);function se(W){let N="",L=W.length;const re=W[0]==="-"?1:0;for(;L>=re+4;L-=3)N=`_${W.slice(L-3,L)}${N}`;return`${W.slice(0,L)}${N}`}function be(W,N,L){R(N,"offset"),(W[N]===void 0||W[N+L]===void 0)&&j(N,W.length-(L+1))}function Pe(W,N,L,re,ye,Ee){if(W>L||W<N){const je=typeof N=="bigint"?"n":"";let Re;throw N===0||N===BigInt(0)?Re=`>= 0${je} and < 2${je} ** ${(Ee+1)*8}${je}`:Re=`>= -(2${je} ** ${(Ee+1)*8-1}${je}) and < 2 ** ${(Ee+1)*8-1}${je}`,new J.ERR_OUT_OF_RANGE("value",Re,W)}be(re,ye,Ee)}function R(W,N){if(typeof W!="number")throw new J.ERR_INVALID_ARG_TYPE(N,"number",W)}function j(W,N,L){throw Math.floor(W)!==W?(R(W,L),new J.ERR_OUT_OF_RANGE("offset","an integer",W)):N<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,W)}const M=/[^+/0-9A-Za-z-_]/g;function G(W){if(W=W.split("=")[0],W=W.trim().replace(M,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function oe(W,N){N=N||1/0;let L;const re=W.length;let ye=null;const Ee=[];for(let je=0;je<re;++je){if(L=W.charCodeAt(je),L>55295&&L<57344){if(!ye){if(L>56319){(N-=3)>-1&&Ee.push(239,191,189);continue}else if(je+1===re){(N-=3)>-1&&Ee.push(239,191,189);continue}ye=L;continue}if(L<56320){(N-=3)>-1&&Ee.push(239,191,189),ye=L;continue}L=(ye-55296<<10|L-56320)+65536}else ye&&(N-=3)>-1&&Ee.push(239,191,189);if(ye=null,L<128){if((N-=1)<0)break;Ee.push(L)}else if(L<2048){if((N-=2)<0)break;Ee.push(L>>6|192,L&63|128)}else if(L<65536){if((N-=3)<0)break;Ee.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((N-=4)<0)break;Ee.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return Ee}function ce(W){const N=[];for(let L=0;L<W.length;++L)N.push(W.charCodeAt(L)&255);return N}function de(W,N){let L,re,ye;const Ee=[];for(let je=0;je<W.length&&!((N-=2)<0);++je)L=W.charCodeAt(je),re=L>>8,ye=L%256,Ee.push(ye),Ee.push(re);return Ee}function ve(W){return e.toByteArray(G(W))}function Ie(W,N,L,re){let ye;for(ye=0;ye<re&&!(ye+L>=N.length||ye>=W.length);++ye)N[ye+L]=W[ye];return ye}function Be(W,N){return W instanceof N||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===N.name}function De(W){return W!==W}const nt=function(){const W="0123456789abcdef",N=new Array(256);for(let L=0;L<16;++L){const re=L*16;for(let ye=0;ye<16;++ye)N[re+ye]=W[L]+W[ye]}return N}();function We(W){return typeof BigInt>"u"?Ue:W}function Ue(){throw new Error("BigInt not supported")}return mu}var Sd,PT,Np,RT,mu,NT,q_=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtuTasat.js"(){Te(),Sd={},PT=!1,Np={},RT=!1,mu={},NT=!1}}),nc={};rl(nc,{Buffer:()=>Yr,INSPECT_MAX_BYTES:()=>FB,default:()=>hl,kMaxLength:()=>BB});var hl,Yr,FB,BB,ic=nn({"../../node_modules/@jspm/core/nodelibs/browser/buffer.js"(){Te(),q_(),hl=No(),hl.Buffer,hl.SlowBuffer,hl.INSPECT_MAX_BYTES,hl.kMaxLength,Yr=hl.Buffer,FB=hl.INSPECT_MAX_BYTES,BB=hl.kMaxLength}}),Te=nn({"../../node_modules/esbuild-plugin-polyfill-node/polyfills/buffer.js"(){ic()}}),wg=Oe({"../core/dist/thing-description.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ThingEvent=e.ThingAction=e.ThingProperty=e.BaseSchema=e.Form=e.Thing=e.DEFAULT_THING_TYPE=e.DEFAULT_CONTEXT_LANGUAGE=e.DEFAULT_CONTEXT_V11=e.DEFAULT_CONTEXT_V1=void 0,e.DEFAULT_CONTEXT_V1="https://www.w3.org/2019/wot/td/v1",e.DEFAULT_CONTEXT_V11="https://www.w3.org/2022/wot/td/v1.1",e.DEFAULT_CONTEXT_LANGUAGE="en",e.DEFAULT_THING_TYPE="Thing";var t=class{constructor(){this["@context"]=[e.DEFAULT_CONTEXT_V1,e.DEFAULT_CONTEXT_V11],this["@type"]=e.DEFAULT_THING_TYPE,this.title="",this.securityDefinitions={},this.security="",this.properties={},this.actions={},this.events={},this.links=[]}};e.Thing=t;var r=class{constructor(a,l){this.href=a,l!=null&&(this.contentType=l)}};e.Form=r;var n=class{};e.BaseSchema=n;var i=class extends n{};e.ThingProperty=i;var o=class{};e.ThingAction=o;var s=class{};e.ThingEvent=s}}),fZ=Oe({"../../node_modules/ms/index.js"(e,t){Te();var r=1e3,n=r*60,i=n*60,o=i*24,s=o*7,a=o*365.25;t.exports=function(p,m){m=m||{};var g=typeof p;if(g==="string"&&p.length>0)return l(p);if(g==="number"&&isFinite(p))return m.long?f(p):u(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function l(p){if(p=String(p),!(p.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(m){var g=parseFloat(m[1]),_=(m[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return g*a;case"weeks":case"week":case"w":return g*s;case"days":case"day":case"d":return g*o;case"hours":case"hour":case"hrs":case"hr":case"h":return g*i;case"minutes":case"minute":case"mins":case"min":case"m":return g*n;case"seconds":case"second":case"secs":case"sec":case"s":return g*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function u(p){var m=Math.abs(p);return m>=o?Math.round(p/o)+"d":m>=i?Math.round(p/i)+"h":m>=n?Math.round(p/n)+"m":m>=r?Math.round(p/r)+"s":p+"ms"}function f(p){var m=Math.abs(p);return m>=o?c(p,m,o,"day"):m>=i?c(p,m,i,"hour"):m>=n?c(p,m,n,"minute"):m>=r?c(p,m,r,"second"):p+" ms"}function c(p,m,g,_){var v=m>=g*1.5;return Math.round(p/g)+" "+_+(v?"s":"")}}}),dZ=Oe({"../../node_modules/debug/src/common.js"(e,t){Te();function r(n){o.debug=o,o.default=o,o.coerce=c,o.disable=l,o.enable=a,o.enabled=u,o.humanize=fZ(),o.destroy=p,Object.keys(n).forEach(m=>{o[m]=n[m]}),o.names=[],o.skips=[],o.formatters={};function i(m){let g=0;for(let _=0;_<m.length;_++)g=(g<<5)-g+m.charCodeAt(_),g|=0;return o.colors[Math.abs(g)%o.colors.length]}o.selectColor=i;function o(m){let g,_=null,v,h;function E(...y){if(!E.enabled)return;const S=E,$=Number(new Date),T=$-(g||$);S.diff=T,S.prev=g,S.curr=$,g=$,y[0]=o.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let d=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(x,O)=>{if(x==="%%")return"%";d++;const D=o.formatters[O];if(typeof D=="function"){const F=y[d];x=D.call(S,F),y.splice(d,1),d--}return x}),o.formatArgs.call(S,y),(S.log||o.log).apply(S,y)}return E.namespace=m,E.useColors=o.useColors(),E.color=o.selectColor(m),E.extend=s,E.destroy=o.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(v!==o.namespaces&&(v=o.namespaces,h=o.enabled(m)),h),set:y=>{_=y}}),typeof o.init=="function"&&o.init(E),E}function s(m,g){const _=o(this.namespace+(typeof g>"u"?":":g)+m);return _.log=this.log,_}function a(m){o.save(m),o.namespaces=m,o.names=[],o.skips=[];let g;const _=(typeof m=="string"?m:"").split(/[\s,]+/),v=_.length;for(g=0;g<v;g++)_[g]&&(m=_[g].replace(/\*/g,".*?"),m[0]==="-"?o.skips.push(new RegExp("^"+m.slice(1)+"$")):o.names.push(new RegExp("^"+m+"$")))}function l(){const m=[...o.names.map(f),...o.skips.map(f).map(g=>"-"+g)].join(",");return o.enable(""),m}function u(m){if(m[m.length-1]==="*")return!0;let g,_;for(g=0,_=o.skips.length;g<_;g++)if(o.skips[g].test(m))return!1;for(g=0,_=o.names.length;g<_;g++)if(o.names[g].test(m))return!0;return!1}function f(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function c(m){return m instanceof Error?m.stack||m.message:m}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}t.exports=r}}),UB=Oe({"../../node_modules/debug/src/browser.js"(e,t){Te(),e.formatArgs=n,e.save=i,e.load=o,e.useColors=r,e.storage=s(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let f=0,c=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(f++,p==="%c"&&(c=f))}),l.splice(c,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=iZ.DEBUG),l}function s(){try{return localStorage}catch{}}t.exports=dZ()(e);var{formatters:a}=t.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}}),Io=Oe({"../core/dist/logger.js"(e){Te();var t=e&&e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.createInfoLogger=o,e.createDebugLogger=s,e.createWarnLogger=a,e.createErrorLogger=l,e.createLoggers=u;var r=t(UB()),n;(function(f){f[f.info=0]="info",f[f.debug=1]="debug",f[f.warn=2]="warn",f[f.error=3]="error"})(n||(n={}));function i(f,c){const p=["node-wot",...f,n[c]].join(":");return(0,r.default)(p)}function o(...f){return i(f,n.info)}function s(...f){return i(f,n.debug)}function a(...f){return i(f,n.warn)}function l(...f){return i(f,n.error)}function u(...f){return{info:o(...f),debug:s(...f),warn:a(...f),error:l(...f)}}}}),hZ=Oe({"../../node_modules/is-absolute-url/index.js"(e,t){Te(),t.exports=r=>{if(typeof r!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof r}\``);return/^[a-zA-Z]:\\/.test(r)?!1:/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(r)}}}),pZ=Oe({"../../node_modules/url-toolkit/src/url-toolkit.js"(e,t){Te(),function(r){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(l,u,f){if(f=f||{},l=l.trim(),u=u.trim(),!u){if(!f.alwaysNormalize)return l;var c=a.parseURL(l);if(!c)throw new Error("Error trying to parse base URL.");return c.path=a.normalizePath(c.path),a.buildURLFromParts(c)}var p=a.parseURL(u);if(!p)throw new Error("Error trying to parse relative URL.");if(p.scheme)return f.alwaysNormalize?(p.path=a.normalizePath(p.path),a.buildURLFromParts(p)):u;var m=a.parseURL(l);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var g=i.exec(m.path);m.netLoc=g[1],m.path=g[2]}m.netLoc&&!m.path&&(m.path="/");var _={scheme:m.scheme,netLoc:p.netLoc,path:null,params:p.params,query:p.query,fragment:p.fragment};if(!p.netLoc&&(_.netLoc=m.netLoc,p.path[0]!=="/"))if(!p.path)_.path=m.path,p.params||(_.params=m.params,p.query||(_.query=m.query));else{var v=m.path,h=v.substring(0,v.lastIndexOf("/")+1)+p.path;_.path=a.normalizePath(h)}return _.path===null&&(_.path=f.alwaysNormalize?a.normalizePath(p.path):p.path),a.buildURLFromParts(_)},parseURL:function(l){var u=n.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(o,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};typeof e=="object"&&typeof t=="object"?t.exports=a:typeof define=="function"&&define.amd?define([],function(){return a}):typeof e=="object"?e.URLToolkit=a:r.URLToolkit=a}(e)}}),jR=Oe({"../core/dist/serdes.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(_,v,h,E){E===void 0&&(E=h);var y=Object.getOwnPropertyDescriptor(v,h);(!y||("get"in y?!v.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return v[h]}}),Object.defineProperty(_,E,y)}:function(_,v,h,E){E===void 0&&(E=h),_[E]=v[h]}),r=e&&e.__setModuleDefault||(Object.create?function(_,v){Object.defineProperty(_,"default",{enumerable:!0,value:v})}:function(_,v){_.default=v}),n=e&&e.__importStar||function(){var _=function(v){return _=Object.getOwnPropertyNames||function(h){var E=[];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(E[E.length]=y);return E},_(v)};return function(v){if(v&&v.__esModule)return v;var h={};if(v!=null)for(var E=_(v),y=0;y<E.length;y++)E[y]!=="default"&&t(h,v,E[y]);return r(h,v),h}}();Object.defineProperty(e,"__esModule",{value:!0}),e.setContextLanguage=p,e.parseTD=m,e.serializeTD=g;var i=n(wg()),o=Io(),s=hZ(),a=pZ(),{debug:l,warn:u}=(0,o.createLoggers)("core","serdes");function f(_,v){const h=_[v];(typeof h!="object"||h==null)&&(_[v]={})}function c(_,v){const h=_[v];(h===void 0||typeof h!="boolean")&&(_[v]=!1)}function p(_,v,h){if(Array.isArray(_["@context"])){const E=_["@context"];let y=!1;for(const S of E)typeof S=="object"&&S["@language"]!==void 0&&(h&&(S["@language"]=v),y=!0);y||E.push({"@language":v})}}function m(_,v){l(`parseTD() parsing
\`\`\`
${_}
\`\`\``);const h=JSON.parse(_.replace(/^\uFEFF/,""));if(h["@context"]===void 0)h["@context"]=[i.DEFAULT_CONTEXT_V1,i.DEFAULT_CONTEXT_V11];else if(Array.isArray(h["@context"])){let y=h["@context"];const S=y.indexOf(i.DEFAULT_CONTEXT_V1),$=y.indexOf(i.DEFAULT_CONTEXT_V11);S===-1&&$===-1?(y.unshift(i.DEFAULT_CONTEXT_V11),y.unshift(i.DEFAULT_CONTEXT_V1)):(S!==-1&&$!==-1?(y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V1}),y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V11}),y.unshift(i.DEFAULT_CONTEXT_V11),y.unshift(i.DEFAULT_CONTEXT_V1)):(S!==-1&&S!==0&&(y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V1}),y.unshift(i.DEFAULT_CONTEXT_V1)),$!==-1&&$!==0&&(y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V11}),y.unshift(i.DEFAULT_CONTEXT_V11))),h["@context"]=y)}else if(h["@context"]!==i.DEFAULT_CONTEXT_V1&&h["@context"]!==i.DEFAULT_CONTEXT_V11){const y=h["@context"];h["@context"]=[i.DEFAULT_CONTEXT_V1,i.DEFAULT_CONTEXT_V11,y]}if(p(h,i.DEFAULT_CONTEXT_LANGUAGE,!1),h["@type"]===void 0)h["@type"]=i.DEFAULT_THING_TYPE;else if(Array.isArray(h["@type"])){const y=h["@type"];y.indexOf(i.DEFAULT_THING_TYPE)===-1&&y.unshift(i.DEFAULT_THING_TYPE)}else if(h["@type"]!==i.DEFAULT_THING_TYPE){const y=h["@type"];h["@type"]=[i.DEFAULT_THING_TYPE,y]}for(const y of Object.values(h.properties??{}))for(const S of["readOnly","writeOnly","observable"])c(y,S);for(const y of Object.values(h.actions??{}))for(const S of["safe","idempotent"])c(y,S);for(const y of["properties","actions","events"])f(h,y);h.security===void 0&&u("parseTD() found no security metadata"),typeof h.security=="string"&&(h.security=[h.security]);const E=[];for(const[y,S]of Object.entries(h.properties??{})){if(S.forms==null)throw new Error(`Property '${y}' has no forms field`);for(const $ of S.forms){if(!$.href)throw new Error(`Form of Property '${y}' has no href field`);if(!s($.href)&&h.base==null)throw new Error(`Form of Property '${y}' has relative URI while TD has no base field`);E.push($)}}for(const[y,S]of Object.entries(h.actions??{})){if(S.forms==null)throw new Error(`Action '${y}' has no forms field`);for(const $ of S.forms){if(!$.href)throw new Error(`Form of Action '${y}' has no href field`);if(!s($.href)&&h.base==null)throw new Error(`Form of Action '${y}' has relative URI while TD has no base field`);E.push($)}}for(const[y,S]of Object.entries(h.events??{})){if(S.forms==null)throw new Error(`Event '${y}' has no forms field`);for(const $ of S.forms){if(!$.href)throw new Error(`Form of Event '${y}' has no href field`);if(!s($.href)&&h.base==null)throw new Error(`Form of Event '${y}' has relative URI while TD has no base field`);E.push($)}}if(Object.prototype.hasOwnProperty.call(h,"base")&&(v===void 0||v===!0)){l("parseTD() normalizing 'base' into 'forms'");for(const y of E)y.href.match(/^([a-z0-9+-.]+:).+/i)||(l(`parseTDString() applying base '${h.base}' to '${y.href}'`),y.href=a.buildAbsoluteURL(h.base,y.href))}return h}function g(_){var E;const v=JSON.parse(JSON.stringify(_));if((v.security==null||v.security.length===0)&&(v.securityDefinitions={nosec_sc:{scheme:"nosec"}},v.security=["nosec_sc"]),((E=v.forms)==null?void 0:E.length)===0&&delete v.forms,v.properties!=null&&Object.keys(v.properties).length===0)delete v.properties;else if(v.properties!=null)for(const y of Object.values(v.properties))for(const S of["readOnly","writeOnly","observable"])c(y,S);if(v.actions!=null&&Object.keys(v.actions).length===0)delete v.actions;else if(v.actions!=null)for(const y of Object.values(v.actions))for(const S of["safe","idempotent"])c(y,S);return v.events!=null&&Object.keys(v.events).length===0&&delete v.events,(v==null?void 0:v.links.length)===0&&delete v.links,JSON.stringify(v)}}});function zB(){return zc.now()/1e3}var zc,vf,mZ=nn({"../../node_modules/@jspm/core/nodelibs/browser/process.js"(){Te(),zc={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},zc.now===void 0&&(vf=Date.now(),zc.timing&&zc.timing.navigationStart&&(vf=zc.timing.navigationStart),zc.now=()=>Date.now()-vf)}}),qB={};rl(qB,{EOL:()=>WB,arch:()=>GB,constants:()=>HB,cpus:()=>KB,default:()=>er,endianness:()=>JB,freemem:()=>YB,getNetworkInterfaces:()=>XB,homedir:()=>QB,hostname:()=>ZB,loadavg:()=>eU,networkInterfaces:()=>tU,platform:()=>rU,release:()=>nU,tmpDir:()=>iU,tmpdir:()=>oU,totalmem:()=>sU,type:()=>aU,uptime:()=>zB,version:()=>VB});function gZ(){return IT||(IT=!0,Jn.endianness=function(){return"LE"},Jn.hostname=function(){return typeof location<"u"?location.hostname:""},Jn.loadavg=function(){return[]},Jn.uptime=function(){return 0},Jn.freemem=function(){return Number.MAX_VALUE},Jn.totalmem=function(){return Number.MAX_VALUE},Jn.cpus=function(){return[]},Jn.type=function(){return"Browser"},Jn.release=function(){return typeof navigator<"u"?navigator.appVersion:""},Jn.networkInterfaces=Jn.getNetworkInterfaces=function(){return{}},Jn.arch=function(){return"javascript"},Jn.platform=function(){return"browser"},Jn.tmpdir=Jn.tmpDir=function(){return"/tmp"},Jn.EOL=`
`,Jn.homedir=function(){return"/"}),Jn}var Jn,IT,er,$2,VB,HB,WB,GB,KB,JB,YB,XB,QB,ZB,eU,tU,rU,nU,iU,oU,sU,aU,vZ=nn({"../../node_modules/@jspm/core/nodelibs/browser/os.js"(){Te(),mZ(),Jn={},IT=!1,er=gZ(),er.endianness,er.hostname,er.loadavg,er.uptime,er.freemem,er.totalmem,er.cpus,er.type,er.release,er.networkInterfaces,er.getNetworkInterfaces,er.arch,er.platform,er.tmpdir,er.tmpDir,er.EOL,er.homedir,$2=new Uint8Array(new Uint16Array([1]).buffer)[0]===1?"LE":"BE",er.endianness=function(){return $2},er.homedir=function(){return"/home"},er.version=function(){return""},er.arch=function(){return"x64"},er.totalmem=function(){return navigator.deviceMemory!==void 0?navigator.deviceMemory*(1<<30):2*(1<<30)},er.cpus=function(){return Array(navigator.hardwareConcurrency||0).fill({model:"",times:{}})},er.uptime=zB,er.constants={},VB=er.version,HB=er.constants,WB=er.EOL,GB=er.arch,KB=er.cpus,JB=er.endianness,YB=er.freemem,XB=er.getNetworkInterfaces,QB=er.homedir,ZB=er.hostname,eU=er.loadavg,tU=er.networkInterfaces,rU=er.platform,nU=er.release,iU=er.tmpDir,oU=er.tmpdir,sU=er.totalmem,aU=er.type}}),Ab=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(h){if(super(),!e.IDENTIFIER.test(h))throw new Error("CodeGen: name must be a valid identifier");this.str=h}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(h){super(),this._items=typeof h=="string"?[h]:h}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const h=this._items[0];return h===""||h==='""'}get str(){var h;return(h=this._str)!==null&&h!==void 0?h:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var h;return(h=this._names)!==null&&h!==void 0?h:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(h,...E){const y=[h[0]];let S=0;for(;S<E.length;)a(y,E[S]),y.push(h[++S]);return new n(y)}e._=i;var o=new n("+");function s(h,...E){const y=[m(h[0])];let S=0;for(;S<E.length;)y.push(o),a(y,E[S]),y.push(o,m(h[++S]));return l(y),new n(y)}e.str=s;function a(h,E){E instanceof n?h.push(...E._items):E instanceof r?h.push(E):h.push(c(E))}e.addCodeArg=a;function l(h){let E=1;for(;E<h.length-1;){if(h[E]===o){const y=u(h[E-1],h[E+1]);if(y!==void 0){h.splice(E-1,3,y);continue}h[E++]="+"}E++}}function u(h,E){if(E==='""')return h;if(h==='""')return E;if(typeof h=="string")return E instanceof r||h[h.length-1]!=='"'?void 0:typeof E!="string"?`${h.slice(0,-1)}${E}"`:E[0]==='"'?h.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(h instanceof r))return`"${h}${E.slice(1)}`}function f(h,E){return E.emptyStr()?h:h.emptyStr()?E:s`${h}${E}`}e.strConcat=f;function c(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:m(Array.isArray(h)?h.join(","):h)}function p(h){return new n(m(h))}e.stringify=p;function m(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):i`[${h}]`}e.getProperty=g;function _(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(h){return new n(h.toString())}e.regexpCode=v}}),T2=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/scope.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=Ab(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var s=(0,t._)`\n`,a=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?s:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:p}=c,m=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[p];if(g){const h=g.get(m);if(h)return h}else g=this._values[p]=new Map;g.set(m,c);const _=this._scope[p]||(this._scope[p]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:p,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let p=t.nil;for(const m in l){const g=l[m];if(!g)continue;const _=f[m]=f[m]||new Map;g.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let h=u(v);if(h){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${E} ${v} = ${h};${this.opts._n}`}else if(h=c==null?void 0:c(v))p=(0,t._)`${p}${h}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return p}};e.ValueScope=a}}),hr=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=Ab(),r=T2(),n=Ab();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=T2();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(P,I){return this}},s=class extends o{constructor(P,I,q){super(),this.varKind=P,this.name=I,this.rhs=q}render({es5:P,_n:I}){const q=P?r.varKinds.var:this.varKind,ie=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${ie};`+I}optimizeNames(P,I){if(P[this.name.str])return this.rhs&&(this.rhs=Q(this.rhs,P,I)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},a=class extends o{constructor(P,I,q){super(),this.lhs=P,this.rhs=I,this.sideEffects=q}render({_n:P}){return`${this.lhs} = ${this.rhs};`+P}optimizeNames(P,I){if(!(this.lhs instanceof t.Name&&!P[this.lhs.str]&&!this.sideEffects))return this.rhs=Q(this.rhs,P,I),this}get names(){const P=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(P,this.rhs)}},l=class extends a{constructor(P,I,q,ie){super(P,q,ie),this.op=I}render({_n:P}){return`${this.lhs} ${this.op}= ${this.rhs};`+P}},u=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`${this.label}:`+P}},f=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`break${this.label?` ${this.label}`:""};`+P}},c=class extends o{constructor(P){super(),this.error=P}render({_n:P}){return`throw ${this.error};`+P}get names(){return this.error.names}},p=class extends o{constructor(P){super(),this.code=P}render({_n:P}){return`${this.code};`+P}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(P,I){return this.code=Q(this.code,P,I),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},m=class extends o{constructor(P=[]){super(),this.nodes=P}render(P){return this.nodes.reduce((I,q)=>I+q.render(P),"")}optimizeNodes(){const{nodes:P}=this;let I=P.length;for(;I--;){const q=P[I].optimizeNodes();Array.isArray(q)?P.splice(I,1,...q):q?P[I]=q:P.splice(I,1)}return P.length>0?this:void 0}optimizeNames(P,I){const{nodes:q}=this;let ie=q.length;for(;ie--;){const J=q[ie];J.optimizeNames(P,I)||(H(P,J.names),q.splice(ie,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((P,I)=>F(P,I.names),{})}},g=class extends m{render(P){return"{"+P._n+super.render(P)+"}"+P._n}},_=class extends m{},v=class extends g{};v.kind="else";var h=class xy extends g{constructor(I,q){super(q),this.condition=I}render(I){let q=`if(${this.condition})`+super.render(I);return this.else&&(q+="else "+this.else.render(I)),q}optimizeNodes(){super.optimizeNodes();const I=this.condition;if(I===!0)return this.nodes;let q=this.else;if(q){const ie=q.optimizeNodes();q=this.else=Array.isArray(ie)?new v(ie):ie}if(q)return I===!1?q instanceof xy?q:q.nodes:this.nodes.length?this:new xy(X(I),q instanceof xy?[q]:q.nodes);if(!(I===!1||!this.nodes.length))return this}optimizeNames(I,q){var ie;if(this.else=(ie=this.else)===null||ie===void 0?void 0:ie.optimizeNames(I,q),!!(super.optimizeNames(I,q)||this.else))return this.condition=Q(this.condition,I,q),this}get names(){const I=super.names;return V(I,this.condition),this.else&&F(I,this.else.names),I}};h.kind="if";var E=class extends g{};E.kind="for";var y=class extends E{constructor(P){super(),this.iteration=P}render(P){return`for(${this.iteration})`+super.render(P)}optimizeNames(P,I){if(super.optimizeNames(P,I))return this.iteration=Q(this.iteration,P,I),this}get names(){return F(super.names,this.iteration.names)}},S=class extends E{constructor(P,I,q,ie){super(),this.varKind=P,this.name=I,this.from=q,this.to=ie}render(P){const I=P.es5?r.varKinds.var:this.varKind,{name:q,from:ie,to:J}=this;return`for(${I} ${q}=${ie}; ${q}<${J}; ${q}++)`+super.render(P)}get names(){const P=V(super.names,this.from);return V(P,this.to)}},$=class extends E{constructor(P,I,q,ie){super(),this.loop=P,this.varKind=I,this.name=q,this.iterable=ie}render(P){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(P)}optimizeNames(P,I){if(super.optimizeNames(P,I))return this.iterable=Q(this.iterable,P,I),this}get names(){return F(super.names,this.iterable.names)}},T=class extends g{constructor(P,I,q){super(),this.name=P,this.args=I,this.async=q}render(P){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(P)}};T.kind="func";var d=class extends m{render(P){return"return "+super.render(P)}};d.kind="return";var A=class extends g{render(P){let I="try"+super.render(P);return this.catch&&(I+=this.catch.render(P)),this.finally&&(I+=this.finally.render(P)),I}optimizeNodes(){var P,I;return super.optimizeNodes(),(P=this.catch)===null||P===void 0||P.optimizeNodes(),(I=this.finally)===null||I===void 0||I.optimizeNodes(),this}optimizeNames(P,I){var q,ie;return super.optimizeNames(P,I),(q=this.catch)===null||q===void 0||q.optimizeNames(P,I),(ie=this.finally)===null||ie===void 0||ie.optimizeNames(P,I),this}get names(){const P=super.names;return this.catch&&F(P,this.catch.names),this.finally&&F(P,this.finally.names),P}},x=class extends g{constructor(P){super(),this.error=P}render(P){return`catch(${this.error})`+super.render(P)}};x.kind="catch";var O=class extends g{render(P){return"finally"+super.render(P)}};O.kind="finally";var D=class{constructor(P,I={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...I,_n:I.lines?`
`:""},this._extScope=P,this._scope=new r.Scope({parent:P}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(P){return this._scope.name(P)}scopeName(P){return this._extScope.name(P)}scopeValue(P,I){const q=this._extScope.value(P,I);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(P,I){return this._extScope.getValue(P,I)}scopeRefs(P){return this._extScope.scopeRefs(P,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(P,I,q,ie){const J=this._scope.toName(I);return q!==void 0&&ie&&(this._constants[J.str]=q),this._leafNode(new s(P,J,q)),J}const(P,I,q){return this._def(r.varKinds.const,P,I,q)}let(P,I,q){return this._def(r.varKinds.let,P,I,q)}var(P,I,q){return this._def(r.varKinds.var,P,I,q)}assign(P,I,q){return this._leafNode(new a(P,I,q))}add(P,I){return this._leafNode(new l(P,e.operators.ADD,I))}code(P){return typeof P=="function"?P():P!==t.nil&&this._leafNode(new p(P)),this}object(...P){const I=["{"];for(const[q,ie]of P)I.length>1&&I.push(","),I.push(q),(q!==ie||this.opts.es5)&&(I.push(":"),(0,t.addCodeArg)(I,ie));return I.push("}"),new t._Code(I)}if(P,I,q){if(this._blockNode(new h(P)),I&&q)this.code(I).else().code(q).endIf();else if(I)this.code(I).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(P){return this._elseNode(new h(P))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(h,v)}_for(P,I){return this._blockNode(P),I&&this.code(I).endFor(),this}for(P,I){return this._for(new y(P),I)}forRange(P,I,q,ie,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(P);return this._for(new S(J,Y,I,q),()=>ie(Y))}forOf(P,I,q,ie=r.varKinds.const){const J=this._scope.toName(P);if(this.opts.es5){const Y=I instanceof t.Name?I:this.var("_arr",I);return this.forRange("_i",0,(0,t._)`${Y}.length`,se=>{this.var(J,(0,t._)`${Y}[${se}]`),q(J)})}return this._for(new $("of",ie,J,I),()=>q(J))}forIn(P,I,q,ie=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(P,(0,t._)`Object.keys(${I})`,q);const J=this._scope.toName(P);return this._for(new $("in",ie,J,I),()=>q(J))}endFor(){return this._endBlockNode(E)}label(P){return this._leafNode(new u(P))}break(P){return this._leafNode(new f(P))}return(P){const I=new d;if(this._blockNode(I),this.code(P),I.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(P,I,q){if(!I&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const ie=new A;if(this._blockNode(ie),this.code(P),I){const J=this.name("e");this._currNode=ie.catch=new x(J),I(J)}return q&&(this._currNode=ie.finally=new O,this.code(q)),this._endBlockNode(x,O)}throw(P){return this._leafNode(new c(P))}block(P,I){return this._blockStarts.push(this._nodes.length),P&&this.code(P).endBlock(I),this}endBlock(P){const I=this._blockStarts.pop();if(I===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-I;if(q<0||P!==void 0&&q!==P)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${P} expected`);return this._nodes.length=I,this}func(P,I=t.nil,q,ie){return this._blockNode(new T(P,I,q)),ie&&this.code(ie).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(P=1){for(;P-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(P){return this._currNode.nodes.push(P),this}_blockNode(P){this._currNode.nodes.push(P),this._nodes.push(P)}_endBlockNode(P,I){const q=this._currNode;if(q instanceof P||I&&q instanceof I)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${I?`${P.kind}/${I.kind}`:P.kind}"`)}_elseNode(P){const I=this._currNode;if(!(I instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=I.else=P,this}get _root(){return this._nodes[0]}get _currNode(){const P=this._nodes;return P[P.length-1]}set _currNode(P){const I=this._nodes;I[I.length-1]=P}};e.CodeGen=D;function F(P,I){for(const q in I)P[q]=(P[q]||0)+(I[q]||0);return P}function V(P,I){return I instanceof t._CodeOrName?F(P,I.names):P}function Q(P,I,q){if(P instanceof t.Name)return ie(P);if(!J(P))return P;return new t._Code(P._items.reduce((Y,se)=>(se instanceof t.Name&&(se=ie(se)),se instanceof t._Code?Y.push(...se._items):Y.push(se),Y),[]));function ie(Y){const se=q[Y.str];return se===void 0||I[Y.str]!==1?Y:(delete I[Y.str],se)}function J(Y){return Y instanceof t._Code&&Y._items.some(se=>se instanceof t.Name&&I[se.str]===1&&q[se.str]!==void 0)}}function H(P,I){for(const q in I)P[q]=(P[q]||0)-(I[q]||0)}function X(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${K(P)}`}e.not=X;var fe=B(e.operators.AND);function Z(...P){return P.reduce(fe)}e.and=Z;var ne=B(e.operators.OR);function C(...P){return P.reduce(ne)}e.or=C;function B(P){return(I,q)=>I===t.nil?q:q===t.nil?I:(0,t._)`${K(I)} ${P} ${K(q)}`}function K(P){return P instanceof t.Name?P:(0,t._)`(${P})`}}}),Br=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/util.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=hr(),r=Ab();function n(T){const d={};for(const A of T)d[A]=!0;return d}e.toHash=n;function i(T,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(T,d),!s(d,T.self.RULES.all))}e.alwaysValidSchema=i;function o(T,d=T.schema){const{opts:A,self:x}=T;if(!A.strictSchema||typeof d=="boolean")return;const O=x.RULES.keywords;for(const D in d)O[D]||$(T,`unknown keyword: "${D}"`)}e.checkUnknownRules=o;function s(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(d[A])return!0;return!1}e.schemaHasRules=s;function a(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(A!=="$ref"&&d.all[A])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:T,schemaPath:d},A,x,O){if(!O){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${T}${d}${(0,t.getProperty)(x)}`}e.schemaRefOrVal=l;function u(T){return p(decodeURIComponent(T))}e.unescapeFragment=u;function f(T){return encodeURIComponent(c(T))}e.escapeFragment=f;function c(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function p(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=p;function m(T,d){if(Array.isArray(T))for(const A of T)d(A);else d(T)}e.eachItem=m;function g({mergeNames:T,mergeToName:d,mergeValues:A,resultToName:x}){return(O,D,F,V)=>{const Q=F===void 0?D:F instanceof t.Name?(D instanceof t.Name?T(O,D,F):d(O,D,F),F):D instanceof t.Name?(d(O,F,D),D):A(D,F);return V===t.Name&&!(Q instanceof t.Name)?x(O,Q):Q}}e.mergeEvaluated={props:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>{T.if((0,t._)`${d} === true`,()=>T.assign(A,!0),()=>T.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${d})`))}),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>{d===!0?T.assign(A,!0):(T.assign(A,(0,t._)`${A} || {}`),v(T,A,d))}),mergeValues:(T,d)=>T===!0?!0:{...T,...d},resultToName:_}),items:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>T.assign(A,(0,t._)`${d} === true ? true : ${A} > ${d} ? ${A} : ${d}`)),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>T.assign(A,d===!0?!0:(0,t._)`${A} > ${d} ? ${A} : ${d}`)),mergeValues:(T,d)=>T===!0?!0:Math.max(T,d),resultToName:(T,d)=>T.var("items",d)})};function _(T,d){if(d===!0)return T.var("props",!0);const A=T.var("props",(0,t._)`{}`);return d!==void 0&&v(T,A,d),A}e.evaluatedPropsToName=_;function v(T,d,A){Object.keys(A).forEach(x=>T.assign((0,t._)`${d}${(0,t.getProperty)(x)}`,!0))}e.setEvaluated=v;var h={};function E(T,d){return T.scopeValue("func",{ref:d,code:h[d.code]||(h[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(y||(e.Type=y={}));function S(T,d,A){if(T instanceof t.Name){const x=d===y.Num;return A?x?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:x?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(T).toString():"/"+c(T)}e.getErrorPath=S;function $(T,d,A=T.opts.strictSchema){if(A){if(d=`strict mode: ${d}`,A===!0)throw new Error(d);T.self.logger.warn(d)}}e.checkStrictMode=$}}),oc=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/names.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),V_=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/errors.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=hr(),r=Br(),n=oc();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:h})=>h?(0,t.str)`"${v}" keyword must be ${h} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,h=e.keywordError,E,y){const{it:S}=v,{gen:$,compositeRule:T,allErrors:d}=S,A=c(v,h,E);y??(T||d)?l($,A):u(S,(0,t._)`[${A}]`)}e.reportError=i;function o(v,h=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:$,allErrors:T}=y,d=c(v,h,E);l(S,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function s(v,h){v.assign(n.default.errors,h),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(h,()=>v.assign((0,t._)`${n.default.vErrors}.length`,h),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:h,schemaValue:E,data:y,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${h}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,E),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=a;function l(v,h){const E=v.const("err",h);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,h){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${h})`):(E.assign((0,t._)`${y}.errors`,h),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,h,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:p(v,h,E)}function p(v,h,E={}){const{gen:y,it:S}=v,$=[m(S,E),g(v,E)];return _(v,h,$),y.object(...$)}function m({errorPath:v},{instancePath:h}){const E=h?(0,t.str)`${v}${(0,r.getErrorPath)(h,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:h}},{schemaPath:E,parentSchema:y}){let S=y?h:(0,t.str)`${h}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:h,message:E},y){const{keyword:S,data:$,schemaValue:T,it:d}=v,{opts:A,propertyName:x,topSchemaRef:O,schemaPath:D}=d;y.push([f.keyword,S],[f.params,typeof h=="function"?h(v):h||(0,t._)`{}`]),A.messages&&y.push([f.message,typeof E=="function"?E(v):E]),A.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${O}${D}`],[n.default.data,$]),x&&y.push([f.propertyName,x])}}}),yZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=V_(),r=hr(),n=oc(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?a(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function s(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),a(l)):f.var(u,!0)}e.boolOrEmptySchema=s;function a(l,u){const{gen:f,data:c}=l,p={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(p,i,void 0,u)}}}),lU=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/rules.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),uU=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/applicability.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},s){const a=o.RULES.types[s];return a&&a!==!0&&r(i,a)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(s=>n(i,s))}e.shouldUseGroup=r;function n(i,o){var s;return i[o.keyword]!==void 0||((s=o.definition.implements)===null||s===void 0?void 0:s.some(a=>i[a]!==void 0))}e.shouldUseRule=n}}),xb=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/dataType.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=lU(),r=uU(),n=V_(),i=hr(),o=Br(),s;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(s||(e.DataType=s={}));function a(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=a;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:$,data:T,opts:d}=y,A=c(S,d.coerceTypes),x=S.length>0&&!(A.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(x){const O=_(S,T,d.strictNumbers,s.Wrong);$.if(O,()=>{A.length?p(y,S,A):h(y)})}return x}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter($=>f.has($)||S==="array"&&$==="array"):[]}function p(y,S,$){const{gen:T,data:d,opts:A}=y,x=T.let("dataType",(0,i._)`typeof ${d}`),O=T.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&T.if((0,i._)`${x} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>T.assign(d,(0,i._)`${d}[0]`).assign(x,(0,i._)`typeof ${d}`).if(_(S,d,A.strictNumbers),()=>T.assign(O,d))),T.if((0,i._)`${O} !== undefined`);for(const F of $)(f.has(F)||F==="array"&&A.coerceTypes==="array")&&D(F);T.else(),h(y),T.endIf(),T.if((0,i._)`${O} !== undefined`,()=>{T.assign(d,O),m(y,O)});function D(F){switch(F){case"string":T.elseIf((0,i._)`${x} == "number" || ${x} == "boolean"`).assign(O,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(O,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${x} == "boolean" || ${d} === null
              || (${x} == "string" && ${d} && ${d} == +${d})`).assign(O,(0,i._)`+${d}`);return;case"integer":T.elseIf((0,i._)`${x} === "boolean" || ${d} === null
              || (${x} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(O,(0,i._)`+${d}`);return;case"boolean":T.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(O,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(O,!0);return;case"null":T.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),T.assign(O,null);return;case"array":T.elseIf((0,i._)`${x} === "string" || ${x} === "number"
              || ${x} === "boolean" || ${d} === null`).assign(O,(0,i._)`[${d}]`)}}}function m({gen:y,parentData:S,parentDataProperty:$},T){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${$}]`,T))}function g(y,S,$,T=s.Correct){const d=T===s.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":A=(0,i._)`Array.isArray(${S})`;break;case"object":A=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":A=x((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":A=x();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return T===s.Correct?A:(0,i.not)(A);function x(O=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,O,$?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=g;function _(y,S,$,T){if(y.length===1)return g(y[0],S,$,T);let d;const A=(0,o.toHash)(y);if(A.array&&A.object){const x=(0,i._)`typeof ${S} != "object"`;d=A.null?x:(0,i._)`!${S} || ${x}`,delete A.null,delete A.array,delete A.object}else d=i.nil;A.number&&delete A.integer;for(const x in A)d=(0,i.and)(d,g(x,S,$,T));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function h(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=h;function E(y){const{gen:S,data:$,schema:T}=y,d=(0,o.schemaRefOrVal)(y,T,"type");return{gen:S,keyword:"type",data:$,schema:T.type,schemaCode:d,schemaValue:d,parentSchema:T,params:{},it:y}}}}),wZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/defaults.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=hr(),r=Br();function n(o,s){const{properties:a,items:l}=o.schema;if(s==="object"&&a)for(const u in a)i(o,u,a[u].default);else s==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,s,a){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(a===void 0)return;const p=(0,t._)`${f}${(0,t.getProperty)(s)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${p}`);return}let m=(0,t._)`${p} === undefined`;c.useDefaults==="empty"&&(m=(0,t._)`${m} || ${p} === null || ${p} === ""`),l.if(m,(0,t._)`${p} = ${(0,t.stringify)(a)}`)}}}),pa=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=hr(),r=Br(),n=oc(),i=Br();function o(y,S){const{gen:$,data:T,it:d}=y;$.if(c($,T,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function s({gen:y,data:S,it:{opts:$}},T,d){return(0,t.or)(...T.map(A=>(0,t.and)(c(y,S,A,$.ownProperties),(0,t._)`${d} = ${A}`)))}e.checkMissingProp=s;function a(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=a;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,$){return(0,t._)`${l(y)}.call(${S}, ${$})`}e.isOwnProperty=u;function f(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} !== undefined`;return T?(0,t._)`${d} && ${u(y,S,$)}`:d}e.propertyInData=f;function c(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} === undefined`;return T?(0,t.or)(d,(0,t.not)(u(y,S,$))):d}e.noPropertyInData=c;function p(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=p;function m(y,S){return p(S).filter($=>!(0,r.alwaysValidSchema)(y,S[$]))}e.schemaProperties=m;function g({schemaCode:y,data:S,it:{gen:$,topSchemaRef:T,schemaPath:d,errorPath:A},it:x},O,D,F){const V=F?(0,t._)`${y}, ${S}, ${T}${d}`:S,Q=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,A)],[n.default.parentData,x.parentData],[n.default.parentDataProperty,x.parentDataProperty],[n.default.rootData,n.default.rootData]];x.opts.dynamicRef&&Q.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const H=(0,t._)`${V}, ${$.object(...Q)}`;return D!==t.nil?(0,t._)`${O}.call(${D}, ${H})`:(0,t._)`${O}(${H})`}e.callValidateCode=g;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},$){const T=S.unicodeRegExp?"u":"",{regExp:d}=S.code,A=d($,T);return y.scopeValue("pattern",{key:A.toString(),ref:A,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${$}, ${T})`})}e.usePattern=v;function h(y){const{gen:S,data:$,keyword:T,it:d}=y,A=S.name("valid");if(d.allErrors){const O=S.let("valid",!0);return x(()=>S.assign(O,!1)),O}return S.var(A,!0),x(()=>S.break()),A;function x(O){const D=S.const("len",(0,t._)`${$}.length`);S.forRange("i",0,D,F=>{y.subschema({keyword:T,dataProp:F,dataPropType:r.Type.Num},A),S.if((0,t.not)(A),O)})}}e.validateArray=h;function E(y){const{gen:S,schema:$,keyword:T,it:d}=y;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(D=>(0,r.alwaysValidSchema)(d,D))&&!d.opts.unevaluated)return;const x=S.let("valid",!1),O=S.name("_valid");S.block(()=>$.forEach((D,F)=>{const V=y.subschema({keyword:T,schemaProp:F,compositeRule:!0},O);S.assign(x,(0,t._)`${x} || ${O}`),y.mergeValidEvaluated(V,O)||S.if((0,t.not)(x))})),y.result(x,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),bZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/keyword.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=hr(),r=oc(),n=pa(),i=V_();function o(m,g){const{gen:_,keyword:v,schema:h,parentSchema:E,it:y}=m,S=g.macro.call(y.self,h,E,y),$=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const T=_.name("valid");m.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:$,compositeRule:!0},T),m.pass(T,()=>m.error(!0))}e.macroKeywordCode=o;function s(m,g){var _;const{gen:v,keyword:h,schema:E,parentSchema:y,$data:S,it:$}=m;u($,g);const T=!S&&g.compile?g.compile.call($.self,E,y,$):g.validate,d=f(v,h,T),A=v.let("valid");m.block$data(A,x),m.ok((_=g.valid)!==null&&_!==void 0?_:A);function x(){if(g.errors===!1)F(),g.modifying&&a(m),V(()=>m.error());else{const Q=g.async?O():D();g.modifying&&a(m),V(()=>l(m,Q))}}function O(){const Q=v.let("ruleErrs",null);return v.try(()=>F((0,t._)`await `),H=>v.assign(A,!1).if((0,t._)`${H} instanceof ${$.ValidationError}`,()=>v.assign(Q,(0,t._)`${H}.errors`),()=>v.throw(H))),Q}function D(){const Q=(0,t._)`${d}.errors`;return v.assign(Q,null),F(t.nil),Q}function F(Q=g.async?(0,t._)`await `:t.nil){const H=$.opts.passContext?r.default.this:r.default.self,X=!("compile"in g&&!S||g.schema===!1);v.assign(A,(0,t._)`${Q}${(0,n.callValidateCode)(m,d,H,X)}`,g.modifying)}function V(Q){var H;v.if((0,t.not)((H=g.valid)!==null&&H!==void 0?H:A),Q)}}e.funcKeywordCode=s;function a(m){const{gen:g,data:_,it:v}=m;g.if(v.parentData,()=>g.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(m,g){const{gen:_}=m;_.if((0,t._)`Array.isArray(${g})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${g} : ${r.default.vErrors}.concat(${g})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(m)},()=>m.error())}function u({schemaEnv:m},g){if(g.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,g,_){if(_===void 0)throw new Error(`keyword "${g}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(m,g,_=!1){return!g.length||g.some(v=>v==="array"?Array.isArray(m):v==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==v||_&&typeof m>"u")}e.validSchemaType=c;function p({schema:m,opts:g,self:_,errSchemaPath:v},h,E){if(Array.isArray(h.keyword)?!h.keyword.includes(E):h.keyword!==E)throw new Error("ajv implementation error");const y=h.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(m,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(h.validateSchema&&!h.validateSchema(m[E])){const $=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(h.validateSchema.errors);if(g.validateSchema==="log")_.logger.error($);else throw new Error($)}}e.validateKeywordUsage=p}}),_Z=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/subschema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=hr(),r=Br();function n(s,{keyword:a,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:p}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const m=s.schema[a];return l===void 0?{schema:m,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${a}`}:{schema:m[l],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(l)}`,errSchemaPath:`${s.errSchemaPath}/${a}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:p,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(s,a,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:p}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=a;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:h}=a,E=m.let("data",(0,t._)`${a.data}${(0,t.getProperty)(l)}`,!0);g(E),s.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,h.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${l}`,s.dataPathArr=[...v,s.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);g(_),p!==void 0&&(s.propertyName=p)}c&&(s.dataTypes=c);function g(_){s.data=_,s.dataLevel=a.dataLevel+1,s.dataTypes=[],a.definedProperties=new Set,s.parentData=a.data,s.dataNames=[...a.dataNames,_]}}e.extendSubschemaData=i;function o(s,{jtdDiscriminator:a,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(s.compositeRule=u),f!==void 0&&(s.createErrors=f),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=a,s.jtdMetadata=l}e.extendSubschemaMode=o}}),Lh=Oe({"../../node_modules/fast-deep-equal/index.js"(e,t){Te(),t.exports=function r(n,i){if(n===i)return!0;if(n&&i&&typeof n=="object"&&typeof i=="object"){if(n.constructor!==i.constructor)return!1;var o,s,a;if(Array.isArray(n)){if(o=n.length,o!=i.length)return!1;for(s=o;s--!==0;)if(!r(n[s],i[s]))return!1;return!0}if(n.constructor===RegExp)return n.source===i.source&&n.flags===i.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===i.toString();if(a=Object.keys(n),o=a.length,o!==Object.keys(i).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(i,a[s]))return!1;for(s=o;s--!==0;){var l=a[s];if(!r(n[l],i[l]))return!1}return!0}return n!==n&&i!==i}}}),EZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/json-schema-traverse/index.js"(e,t){Te();var r=t.exports=function(o,s,a){typeof s=="function"&&(a=s,s={}),a=s.cb||a;var l=typeof a=="function"?a:a.pre||function(){},u=a.post||function(){};n(s,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,s,a,l,u,f,c,p,m,g){if(l&&typeof l=="object"&&!Array.isArray(l)){s(l,u,f,c,p,m,g);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var h=0;h<v.length;h++)n(o,s,a,v[h],u+"/"+_+"/"+h,f,u,_,l,h)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,s,a,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,s,a,v,u+"/"+_,f,u,_,l)}a(l,u,f,c,p,m,g)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),H_=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/resolve.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=Br(),r=Lh(),n=EZ(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,h=!0){return typeof v=="boolean"?!0:h===!0?!a(v):h?l(v)<=h:!1}e.inlineRef=o;var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(v){for(const h in v){if(s.has(h))return!0;const E=v[h];if(Array.isArray(E)&&E.some(a)||typeof E=="object"&&a(E))return!0}return!1}function l(v){let h=0;for(const E in v){if(E==="$ref")return 1/0;if(h++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>h+=l(y)),h===1/0))return 1/0}return h}function u(v,h="",E){E!==!1&&(h=p(h));const y=v.parse(h);return f(v,y)}e.getFullPath=u;function f(v,h){return v.serialize(h).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function p(v){return v?v.replace(c,""):""}e.normalizeId=p;function m(v,h,E){return E=p(E),v.resolve(h,E)}e.resolveUrl=m;var g=/^[a-z_][-a-z0-9._]*$/i;function _(v,h){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=p(v[E]||h),$={"":S},T=u(y,S,!1),d={},A=new Set;return n(v,{allKeys:!0},(D,F,V,Q)=>{if(Q===void 0)return;const H=T+F;let X=$[Q];typeof D[E]=="string"&&(X=fe.call(this,D[E])),Z.call(this,D.$anchor),Z.call(this,D.$dynamicAnchor),$[F]=X;function fe(ne){const C=this.opts.uriResolver.resolve;if(ne=p(X?C(X,ne):ne),A.has(ne))throw O(ne);A.add(ne);let B=this.refs[ne];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?x(D,B.schema,ne):ne!==p(H)&&(ne[0]==="#"?(x(D,d[ne],ne),d[ne]=D):this.refs[ne]=H),ne}function Z(ne){if(typeof ne=="string"){if(!g.test(ne))throw new Error(`invalid anchor "${ne}"`);fe.call(this,`#${ne}`)}}}),d;function x(D,F,V){if(F!==void 0&&!r(D,F))throw O(V)}function O(D){return new Error(`reference "${D}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),W_=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=yZ(),r=xb(),n=uU(),i=xb(),o=wZ(),s=bZ(),a=_Z(),l=hr(),u=oc(),f=H_(),c=Br(),p=V_();function m(R){if(T(R)&&(A(R),$(R))){h(R);return}g(R,()=>(0,t.topBoolOrEmptySchema)(R))}e.validateFunctionCode=m;function g({gen:R,validateName:j,schema:M,schemaEnv:G,opts:oe},ce){oe.code.es5?R.func(j,(0,l._)`${u.default.data}, ${u.default.valCxt}`,G.$async,()=>{R.code((0,l._)`"use strict"; ${y(M,oe)}`),v(R,oe),R.code(ce)}):R.func(j,(0,l._)`${u.default.data}, ${_(oe)}`,G.$async,()=>R.code(y(M,oe)).code(ce))}function _(R){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${R.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(R,j){R.if(u.default.valCxt,()=>{R.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),R.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),R.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),R.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),j.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{R.var(u.default.instancePath,(0,l._)`""`),R.var(u.default.parentData,(0,l._)`undefined`),R.var(u.default.parentDataProperty,(0,l._)`undefined`),R.var(u.default.rootData,u.default.data),j.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function h(R){const{schema:j,opts:M,gen:G}=R;g(R,()=>{M.$comment&&j.$comment&&Q(R),D(R),G.let(u.default.vErrors,null),G.let(u.default.errors,0),M.unevaluated&&E(R),x(R),H(R)})}function E(R){const{gen:j,validateName:M}=R;R.evaluated=j.const("evaluated",(0,l._)`${M}.evaluated`),j.if((0,l._)`${R.evaluated}.dynamicProps`,()=>j.assign((0,l._)`${R.evaluated}.props`,(0,l._)`undefined`)),j.if((0,l._)`${R.evaluated}.dynamicItems`,()=>j.assign((0,l._)`${R.evaluated}.items`,(0,l._)`undefined`))}function y(R,j){const M=typeof R=="object"&&R[j.schemaId];return M&&(j.code.source||j.code.process)?(0,l._)`/*# sourceURL=${M} */`:l.nil}function S(R,j){if(T(R)&&(A(R),$(R))){d(R,j);return}(0,t.boolOrEmptySchema)(R,j)}function $({schema:R,self:j}){if(typeof R=="boolean")return!R;for(const M in R)if(j.RULES.all[M])return!0;return!1}function T(R){return typeof R.schema!="boolean"}function d(R,j){const{schema:M,gen:G,opts:oe}=R;oe.$comment&&M.$comment&&Q(R),F(R),V(R);const ce=G.const("_errs",u.default.errors);x(R,ce),G.var(j,(0,l._)`${ce} === ${u.default.errors}`)}function A(R){(0,c.checkUnknownRules)(R),O(R)}function x(R,j){if(R.opts.jtd)return fe(R,[],!1,j);const M=(0,r.getSchemaTypes)(R.schema),G=(0,r.coerceAndCheckDataType)(R,M);fe(R,M,!G,j)}function O(R){const{schema:j,errSchemaPath:M,opts:G,self:oe}=R;j.$ref&&G.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(j,oe.RULES)&&oe.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function D(R){const{schema:j,opts:M}=R;j.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,c.checkStrictMode)(R,"default is ignored in the schema root")}function F(R){const j=R.schema[R.opts.schemaId];j&&(R.baseId=(0,f.resolveUrl)(R.opts.uriResolver,R.baseId,j))}function V(R){if(R.schema.$async&&!R.schemaEnv.$async)throw new Error("async schema in sync schema")}function Q({gen:R,schemaEnv:j,schema:M,errSchemaPath:G,opts:oe}){const ce=M.$comment;if(oe.$comment===!0)R.code((0,l._)`${u.default.self}.logger.log(${ce})`);else if(typeof oe.$comment=="function"){const de=(0,l.str)`${G}/$comment`,ve=R.scopeValue("root",{ref:j.root});R.code((0,l._)`${u.default.self}.opts.$comment(${ce}, ${de}, ${ve}.schema)`)}}function H(R){const{gen:j,schemaEnv:M,validateName:G,ValidationError:oe,opts:ce}=R;M.$async?j.if((0,l._)`${u.default.errors} === 0`,()=>j.return(u.default.data),()=>j.throw((0,l._)`new ${oe}(${u.default.vErrors})`)):(j.assign((0,l._)`${G}.errors`,u.default.vErrors),ce.unevaluated&&X(R),j.return((0,l._)`${u.default.errors} === 0`))}function X({gen:R,evaluated:j,props:M,items:G}){M instanceof l.Name&&R.assign((0,l._)`${j}.props`,M),G instanceof l.Name&&R.assign((0,l._)`${j}.items`,G)}function fe(R,j,M,G){const{gen:oe,schema:ce,data:de,allErrors:ve,opts:Ie,self:Be}=R,{RULES:De}=Be;if(ce.$ref&&(Ie.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(ce,De))){oe.block(()=>Y(R,"$ref",De.all.$ref.definition));return}Ie.jtd||ne(R,j),oe.block(()=>{for(const We of De.rules)nt(We);nt(De.post)});function nt(We){(0,n.shouldUseGroup)(ce,We)&&(We.type?(oe.if((0,i.checkDataType)(We.type,de,Ie.strictNumbers)),Z(R,We),j.length===1&&j[0]===We.type&&M&&(oe.else(),(0,i.reportTypeError)(R)),oe.endIf()):Z(R,We),ve||oe.if((0,l._)`${u.default.errors} === ${G||0}`))}}function Z(R,j){const{gen:M,schema:G,opts:{useDefaults:oe}}=R;oe&&(0,o.assignDefaults)(R,j.type),M.block(()=>{for(const ce of j.rules)(0,n.shouldUseRule)(G,ce)&&Y(R,ce.keyword,ce.definition,j.type)})}function ne(R,j){R.schemaEnv.meta||!R.opts.strictTypes||(C(R,j),R.opts.allowUnionTypes||B(R,j),K(R,R.dataTypes))}function C(R,j){if(j.length){if(!R.dataTypes.length){R.dataTypes=j;return}j.forEach(M=>{I(R.dataTypes,M)||ie(R,`type "${M}" not allowed by context "${R.dataTypes.join(",")}"`)}),q(R,j)}}function B(R,j){j.length>1&&!(j.length===2&&j.includes("null"))&&ie(R,"use allowUnionTypes to allow union type keyword")}function K(R,j){const M=R.self.RULES.all;for(const G in M){const oe=M[G];if(typeof oe=="object"&&(0,n.shouldUseRule)(R.schema,oe)){const{type:ce}=oe.definition;ce.length&&!ce.some(de=>P(j,de))&&ie(R,`missing type "${ce.join(",")}" for keyword "${G}"`)}}}function P(R,j){return R.includes(j)||j==="number"&&R.includes("integer")}function I(R,j){return R.includes(j)||j==="integer"&&R.includes("number")}function q(R,j){const M=[];for(const G of R.dataTypes)I(j,G)?M.push(G):j.includes("integer")&&G==="number"&&M.push("integer");R.dataTypes=M}function ie(R,j){const M=R.schemaEnv.baseId+R.errSchemaPath;j+=` at "${M}" (strictTypes)`,(0,c.checkStrictMode)(R,j,R.opts.strictTypes)}var J=class{constructor(R,j,M){if((0,s.validateKeywordUsage)(R,j,M),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=M,this.data=R.data,this.schema=R.schema[M],this.$data=j.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(R,this.schema,M,this.$data),this.schemaType=j.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=j,this.$data)this.schemaCode=R.gen.const("vSchema",Pe(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,j.schemaType,j.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(j.schemaType)}`);("code"in j?j.trackErrors:j.errors!==!1)&&(this.errsCount=R.gen.const("_errs",u.default.errors))}result(R,j,M){this.failResult((0,l.not)(R),j,M)}failResult(R,j,M){this.gen.if(R),M?M():this.error(),j?(this.gen.else(),j(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,j){this.failResult((0,l.not)(R),void 0,j)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:j}=this;this.fail((0,l._)`${j} !== undefined && (${(0,l.or)(this.invalid$data(),R)})`)}error(R,j,M){if(j){this.setParams(j),this._error(R,M),this.setParams({});return}this._error(R,M)}_error(R,j){(R?p.reportExtraError:p.reportError)(this,this.def.error,j)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,j){j?Object.assign(this.params,R):this.params=R}block$data(R,j,M=l.nil){this.gen.block(()=>{this.check$data(R,M),j()})}check$data(R=l.nil,j=l.nil){if(!this.$data)return;const{gen:M,schemaCode:G,schemaType:oe,def:ce}=this;M.if((0,l.or)((0,l._)`${G} === undefined`,j)),R!==l.nil&&M.assign(R,!0),(oe.length||ce.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),R!==l.nil&&M.assign(R,!1)),M.else()}invalid$data(){const{gen:R,schemaCode:j,schemaType:M,def:G,it:oe}=this;return(0,l.or)(ce(),de());function ce(){if(M.length){if(!(j instanceof l.Name))throw new Error("ajv implementation error");const ve=Array.isArray(M)?M:[M];return(0,l._)`${(0,i.checkDataTypes)(ve,j,oe.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function de(){if(G.validateSchema){const ve=R.scopeValue("validate$data",{ref:G.validateSchema});return(0,l._)`!${ve}(${j})`}return l.nil}}subschema(R,j){const M=(0,a.getSubschema)(this.it,R);(0,a.extendSubschemaData)(M,this.it,R),(0,a.extendSubschemaMode)(M,R);const G={...this.it,...M,items:void 0,props:void 0};return S(G,j),G}mergeEvaluated(R,j){const{it:M,gen:G}=this;M.opts.unevaluated&&(M.props!==!0&&R.props!==void 0&&(M.props=c.mergeEvaluated.props(G,R.props,M.props,j)),M.items!==!0&&R.items!==void 0&&(M.items=c.mergeEvaluated.items(G,R.items,M.items,j)))}mergeValidEvaluated(R,j){const{it:M,gen:G}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return G.if(j,()=>this.mergeEvaluated(R,l.Name)),!0}};e.KeywordCxt=J;function Y(R,j,M,G){const oe=new J(R,M,j);"code"in M?M.code(oe,G):oe.$data&&M.validate?(0,s.funcKeywordCode)(oe,M):"macro"in M?(0,s.macroKeywordCode)(oe,M):(M.compile||M.validate)&&(0,s.funcKeywordCode)(oe,M)}var se=/^\/(?:[^~]|~0|~1)*$/,be=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Pe(R,{dataLevel:j,dataNames:M,dataPathArr:G}){let oe,ce;if(R==="")return u.default.rootData;if(R[0]==="/"){if(!se.test(R))throw new Error(`Invalid JSON-pointer: ${R}`);oe=R,ce=u.default.rootData}else{const Be=be.exec(R);if(!Be)throw new Error(`Invalid JSON-pointer: ${R}`);const De=+Be[1];if(oe=Be[2],oe==="#"){if(De>=j)throw new Error(Ie("property/index",De));return G[j-De]}if(De>j)throw new Error(Ie("data",De));if(ce=M[j-De],!oe)return ce}let de=ce;const ve=oe.split("/");for(const Be of ve)Be&&(ce=(0,l._)`${ce}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Be))}`,de=(0,l._)`${de} && ${ce}`);return de;function Ie(Be,De){return`Cannot access ${Be} ${De} levels up, current level is ${j}`}}e.getData=Pe}}),DR=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/validation_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),G_=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/ref_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=H_(),r=class extends Error{constructor(n,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),MR=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=hr(),r=DR(),n=oc(),i=H_(),o=Br(),s=W_(),a=class{constructor(h){var E;this.refs={},this.dynamicAnchors={};let y;typeof h.schema=="object"&&(y=h.schema),this.schema=h.schema,this.schemaId=h.schemaId,this.root=h.root||this,this.baseId=(E=h.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[h.schemaId||"$id"]),this.schemaPath=h.schemaPath,this.localRefs=h.localRefs,this.meta=h.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=a;function l(h){const E=c.call(this,h);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,h.root.baseId),{es5:S,lines:$}=this.opts.code,{ownProperties:T}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:$,ownProperties:T});let A;h.$async&&(A=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const x=d.scopeName("validate");h.validateName=x;const O={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:h.schema,code:(0,t.stringify)(h.schema)}:{ref:h.schema}),validateName:x,ValidationError:A,schema:h.schema,schemaEnv:h,rootId:y,baseId:h.baseId||y,schemaPath:t.nil,errSchemaPath:h.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(h),(0,s.validateFunctionCode)(O),d.optimize(this.opts.code.optimize);const F=d.toString();D=`${d.scopeRefs(n.default.scope)}return ${F}`,this.opts.code.process&&(D=this.opts.code.process(D,h));const Q=new Function(`${n.default.self}`,`${n.default.scope}`,D)(this,this.scope.get());if(this.scope.value(x,{ref:Q}),Q.errors=null,Q.schema=h.schema,Q.schemaEnv=h,h.$async&&(Q.$async=!0),this.opts.code.source===!0&&(Q.source={validateName:x,validateCode:F,scopeValues:d._values}),this.opts.unevaluated){const{props:H,items:X}=O;Q.evaluated={props:H instanceof t.Name?void 0:H,items:X instanceof t.Name?void 0:X,dynamicProps:H instanceof t.Name,dynamicItems:X instanceof t.Name},Q.source&&(Q.source.evaluated=(0,t.stringify)(Q.evaluated))}return h.validate=Q,h}catch(F){throw delete h.validate,delete h.validateName,D&&this.logger.error("Error compiling schema, function code:",D),F}finally{this._compilations.delete(h)}}e.compileSchema=l;function u(h,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const $=h.refs[y];if($)return $;let T=m.call(this,h,y);if(T===void 0){const d=(S=h.localRefs)===null||S===void 0?void 0:S[y],{schemaId:A}=this.opts;d&&(T=new a({schema:d,schemaId:A,root:h,baseId:E}))}if(T!==void 0)return h.refs[y]=f.call(this,T)}e.resolveRef=u;function f(h){return(0,i.inlineRef)(h.schema,this.opts.inlineRefs)?h.schema:h.validate?h:l.call(this,h)}function c(h){for(const E of this._compilations)if(p(E,h))return E}e.getCompilingSchema=c;function p(h,E){return h.schema===E.schema&&h.root===E.root&&h.baseId===E.baseId}function m(h,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||g.call(this,h,E)}function g(h,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let $=(0,i.getFullPath)(this.opts.uriResolver,h.baseId,void 0);if(Object.keys(h.schema).length>0&&S===$)return v.call(this,y,h);const T=(0,i.normalizeId)(S),d=this.refs[T]||this.schemas[T];if(typeof d=="string"){const A=g.call(this,h,d);return typeof(A==null?void 0:A.schema)!="object"?void 0:v.call(this,y,A)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),T===(0,i.normalizeId)(E)){const{schema:A}=d,{schemaId:x}=this.opts,O=A[x];return O&&($=(0,i.resolveUrl)(this.opts.uriResolver,$,O)),new a({schema:A,schemaId:x,root:h,baseId:$})}return v.call(this,y,d)}}e.resolveSchema=g;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(h,{baseId:E,schema:y,root:S}){var $;if((($=h.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const A of h.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const x=y[(0,o.unescapeFragment)(A)];if(x===void 0)return;y=x;const O=typeof y=="object"&&y[this.opts.schemaId];!_.has(A)&&O&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,O))}let T;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const A=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);T=g.call(this,S,A)}const{schemaId:d}=this.opts;if(T=T||new a({schema:y,schemaId:d,root:S,baseId:E}),T.schema!==T.root.schema)return T}}}),SZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),$Z=Oe({"../../node_modules/fast-uri/lib/scopedChars.js"(e,t){Te();var r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};t.exports={HEX:r}}}),TZ=Oe({"../../node_modules/fast-uri/lib/utils.js"(e,t){Te();var{HEX:r}=$Z(),n=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function i(h){if(u(h,".")<3)return{host:h,isIPV4:!1};const E=h.match(n)||[],[y]=E;return y?{host:l(y,"."),isIPV4:!0}:{host:h,isIPV4:!1}}function o(h,E=!1){let y="",S=!0;for(const $ of h){if(r[$]===void 0)return;$!=="0"&&S===!0&&(S=!1),S||(y+=$)}return E&&y.length===0&&(y="0"),y}function s(h){let E=0;const y={error:!1,address:"",zone:""},S=[],$=[];let T=!1,d=!1,A=!1;function x(){if($.length){if(T===!1){const O=o($);if(O!==void 0)S.push(O);else return y.error=!0,!1}$.length=0}return!0}for(let O=0;O<h.length;O++){const D=h[O];if(!(D==="["||D==="]"))if(D===":"){if(d===!0&&(A=!0),!x())break;if(E++,S.push(":"),E>7){y.error=!0;break}O-1>=0&&h[O-1]===":"&&(d=!0);continue}else if(D==="%"){if(!x())break;T=!0}else{$.push(D);continue}}return $.length&&(T?y.zone=$.join(""):A?S.push($.join("")):S.push(o($))),y.address=S.join(""),y}function a(h){if(u(h,":")<2)return{host:h,isIPV6:!1};const E=s(h);if(E.error)return{host:h,isIPV6:!1};{let y=E.address,S=E.address;return E.zone&&(y+="%"+E.zone,S+="%25"+E.zone),{host:y,escapedHost:S,isIPV6:!0}}}function l(h,E){let y="",S=!0;const $=h.length;for(let T=0;T<$;T++){const d=h[T];d==="0"&&S?(T+1<=$&&h[T+1]===E||T+1===$)&&(y+=d,S=!1):(d===E?S=!0:S=!1,y+=d)}return y}function u(h,E){let y=0;for(let S=0;S<h.length;S++)h[S]===E&&y++;return y}var f=/^\.\.?\//u,c=/^\/\.(?:\/|$)/u,p=/^\/\.\.(?:\/|$)/u,m=/^\/?(?:.|\n)*?(?=\/|$)/u;function g(h){const E=[];for(;h.length;)if(h.match(f))h=h.replace(f,"");else if(h.match(c))h=h.replace(c,"/");else if(h.match(p))h=h.replace(p,"/"),E.pop();else if(h==="."||h==="..")h="";else{const y=h.match(m);if(y){const S=y[0];h=h.slice(S.length),E.push(S)}else throw new Error("Unexpected dot segment condition")}return E.join("")}function _(h,E){const y=E!==!0?escape:unescape;return h.scheme!==void 0&&(h.scheme=y(h.scheme)),h.userinfo!==void 0&&(h.userinfo=y(h.userinfo)),h.host!==void 0&&(h.host=y(h.host)),h.path!==void 0&&(h.path=y(h.path)),h.query!==void 0&&(h.query=y(h.query)),h.fragment!==void 0&&(h.fragment=y(h.fragment)),h}function v(h){const E=[];if(h.userinfo!==void 0&&(E.push(h.userinfo),E.push("@")),h.host!==void 0){let y=unescape(h.host);const S=i(y);if(S.isIPV4)y=S.host;else{const $=a(S.host);$.isIPV6===!0?y=`[${$.escapedHost}]`:y=h.host}E.push(y)}return(typeof h.port=="number"||typeof h.port=="string")&&(E.push(":"),E.push(String(h.port))),E.length?E.join(""):void 0}t.exports={recomposeAuthority:v,normalizeComponentEncoding:_,removeDotSegments:g,normalizeIPv4:i,normalizeIPv6:a,stringArrayToHexStripped:o}}}),AZ=Oe({"../../node_modules/fast-uri/lib/schemes.js"(e,t){Te();var r=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,n=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function i(S){return typeof S.secure=="boolean"?S.secure:String(S.scheme).toLowerCase()==="wss"}function o(S){return S.host||(S.error=S.error||"HTTP URIs must have a host."),S}function s(S){const $=String(S.scheme).toLowerCase()==="https";return(S.port===($?443:80)||S.port==="")&&(S.port=void 0),S.path||(S.path="/"),S}function a(S){return S.secure=i(S),S.resourceName=(S.path||"/")+(S.query?"?"+S.query:""),S.path=void 0,S.query=void 0,S}function l(S){if((S.port===(i(S)?443:80)||S.port==="")&&(S.port=void 0),typeof S.secure=="boolean"&&(S.scheme=S.secure?"wss":"ws",S.secure=void 0),S.resourceName){const[$,T]=S.resourceName.split("?");S.path=$&&$!=="/"?$:void 0,S.query=T,S.resourceName=void 0}return S.fragment=void 0,S}function u(S,$){if(!S.path)return S.error="URN can not be parsed",S;const T=S.path.match(n);if(T){const d=$.scheme||S.scheme||"urn";S.nid=T[1].toLowerCase(),S.nss=T[2];const A=`${d}:${$.nid||S.nid}`,x=y[A];S.path=void 0,x&&(S=x.parse(S,$))}else S.error=S.error||"URN can not be parsed.";return S}function f(S,$){const T=$.scheme||S.scheme||"urn",d=S.nid.toLowerCase(),A=`${T}:${$.nid||d}`,x=y[A];x&&(S=x.serialize(S,$));const O=S,D=S.nss;return O.path=`${d||$.nid}:${D}`,$.skipEscape=!0,O}function c(S,$){const T=S;return T.uuid=T.nss,T.nss=void 0,!$.tolerant&&(!T.uuid||!r.test(T.uuid))&&(T.error=T.error||"UUID is not valid."),T}function p(S){const $=S;return $.nss=(S.uuid||"").toLowerCase(),$}var m={scheme:"http",domainHost:!0,parse:o,serialize:s},g={scheme:"https",domainHost:m.domainHost,parse:o,serialize:s},_={scheme:"ws",domainHost:!0,parse:a,serialize:l},v={scheme:"wss",domainHost:_.domainHost,parse:_.parse,serialize:_.serialize},h={scheme:"urn",parse:u,serialize:f,skipNormalize:!0},E={scheme:"urn:uuid",parse:c,serialize:p,skipNormalize:!0},y={http:m,https:g,ws:_,wss:v,urn:h,"urn:uuid":E};t.exports=y}}),xZ=Oe({"../../node_modules/fast-uri/index.js"(e,t){Te();var{normalizeIPv6:r,normalizeIPv4:n,removeDotSegments:i,recomposeAuthority:o,normalizeComponentEncoding:s}=TZ(),a=AZ();function l(E,y){return typeof E=="string"?E=p(v(E,y),y):typeof E=="object"&&(E=v(p(E,y),y)),E}function u(E,y,S){const $=Object.assign({scheme:"null"},S),T=f(v(E,$),v(y,$),$,!0);return p(T,{...$,skipEscape:!0})}function f(E,y,S,$){const T={};return $||(E=v(p(E,S),S),y=v(p(y,S),S)),S=S||{},!S.tolerant&&y.scheme?(T.scheme=y.scheme,T.userinfo=y.userinfo,T.host=y.host,T.port=y.port,T.path=i(y.path||""),T.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(T.userinfo=y.userinfo,T.host=y.host,T.port=y.port,T.path=i(y.path||""),T.query=y.query):(y.path?(y.path.charAt(0)==="/"?T.path=i(y.path):((E.userinfo!==void 0||E.host!==void 0||E.port!==void 0)&&!E.path?T.path="/"+y.path:E.path?T.path=E.path.slice(0,E.path.lastIndexOf("/")+1)+y.path:T.path=y.path,T.path=i(T.path)),T.query=y.query):(T.path=E.path,y.query!==void 0?T.query=y.query:T.query=E.query),T.userinfo=E.userinfo,T.host=E.host,T.port=E.port),T.scheme=E.scheme),T.fragment=y.fragment,T}function c(E,y,S){return typeof E=="string"?(E=unescape(E),E=p(s(v(E,S),!0),{...S,skipEscape:!0})):typeof E=="object"&&(E=p(s(E,!0),{...S,skipEscape:!0})),typeof y=="string"?(y=unescape(y),y=p(s(v(y,S),!0),{...S,skipEscape:!0})):typeof y=="object"&&(y=p(s(y,!0),{...S,skipEscape:!0})),E.toLowerCase()===y.toLowerCase()}function p(E,y){const S={host:E.host,scheme:E.scheme,userinfo:E.userinfo,port:E.port,path:E.path,query:E.query,nid:E.nid,nss:E.nss,uuid:E.uuid,fragment:E.fragment,reference:E.reference,resourceName:E.resourceName,secure:E.secure,error:""},$=Object.assign({},y),T=[],d=a[($.scheme||S.scheme||"").toLowerCase()];d&&d.serialize&&d.serialize(S,$),S.path!==void 0&&($.skipEscape?S.path=unescape(S.path):(S.path=escape(S.path),S.scheme!==void 0&&(S.path=S.path.split("%3A").join(":")))),$.reference!=="suffix"&&S.scheme&&T.push(S.scheme,":");const A=o(S);if(A!==void 0&&($.reference!=="suffix"&&T.push("//"),T.push(A),S.path&&S.path.charAt(0)!=="/"&&T.push("/")),S.path!==void 0){let x=S.path;!$.absolutePath&&(!d||!d.absolutePath)&&(x=i(x)),A===void 0&&(x=x.replace(/^\/\//u,"/%2F")),T.push(x)}return S.query!==void 0&&T.push("?",S.query),S.fragment!==void 0&&T.push("#",S.fragment),T.join("")}var m=Array.from({length:127},(E,y)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(y)));function g(E){let y=0;for(let S=0,$=E.length;S<$;++S)if(y=E.charCodeAt(S),y>126||m[y])return!0;return!1}var _=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function v(E,y){const S=Object.assign({},y),$={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},T=E.indexOf("%")!==-1;let d=!1;S.reference==="suffix"&&(E=(S.scheme?S.scheme+":":"")+"//"+E);const A=E.match(_);if(A){if($.scheme=A[1],$.userinfo=A[3],$.host=A[4],$.port=parseInt(A[5],10),$.path=A[6]||"",$.query=A[7],$.fragment=A[8],isNaN($.port)&&($.port=A[5]),$.host){const O=n($.host);if(O.isIPV4===!1){const D=r(O.host);$.host=D.host.toLowerCase(),d=D.isIPV6}else $.host=O.host,d=!0}$.scheme===void 0&&$.userinfo===void 0&&$.host===void 0&&$.port===void 0&&$.query===void 0&&!$.path?$.reference="same-document":$.scheme===void 0?$.reference="relative":$.fragment===void 0?$.reference="absolute":$.reference="uri",S.reference&&S.reference!=="suffix"&&S.reference!==$.reference&&($.error=$.error||"URI is not a "+S.reference+" reference.");const x=a[(S.scheme||$.scheme||"").toLowerCase()];if(!S.unicodeSupport&&(!x||!x.unicodeSupport)&&$.host&&(S.domainHost||x&&x.domainHost)&&d===!1&&g($.host))try{$.host=URL.domainToASCII($.host.toLowerCase())}catch(O){$.error=$.error||"Host's domain name can not be converted to ASCII: "+O}(!x||x&&!x.skipNormalize)&&(T&&$.scheme!==void 0&&($.scheme=unescape($.scheme)),T&&$.host!==void 0&&($.host=unescape($.host)),$.path&&($.path=escape(unescape($.path))),$.fragment&&($.fragment=encodeURI(decodeURIComponent($.fragment)))),x&&x.parse&&x.parse($,S)}else $.error=$.error||"URI can not be parsed.";return $}var h={SCHEMES:a,normalize:l,resolve:u,resolveComponents:f,equal:c,serialize:p,parse:v};t.exports=h,t.exports.default=h,t.exports.fastUri=h}}),OZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/uri.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=xZ();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),PZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/core.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=W_();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=hr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=DR(),i=G_(),o=lU(),s=MR(),a=hr(),l=H_(),u=xb(),f=Br(),c=SZ(),p=OZ(),m=(C,B)=>new RegExp(C,B);m.code="new RegExp";var g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(C){var B,K,P,I,q,ie,J,Y,se,be,Pe,R,j,M,G,oe,ce,de,ve,Ie,Be,De,nt,We,Ue;const W=C.strict,N=(B=C.code)===null||B===void 0?void 0:B.optimize,L=N===!0||N===void 0?1:N||0,re=(P=(K=C.code)===null||K===void 0?void 0:K.regExp)!==null&&P!==void 0?P:m,ye=(I=C.uriResolver)!==null&&I!==void 0?I:p.default;return{strictSchema:(ie=(q=C.strictSchema)!==null&&q!==void 0?q:W)!==null&&ie!==void 0?ie:!0,strictNumbers:(Y=(J=C.strictNumbers)!==null&&J!==void 0?J:W)!==null&&Y!==void 0?Y:!0,strictTypes:(be=(se=C.strictTypes)!==null&&se!==void 0?se:W)!==null&&be!==void 0?be:"log",strictTuples:(R=(Pe=C.strictTuples)!==null&&Pe!==void 0?Pe:W)!==null&&R!==void 0?R:"log",strictRequired:(M=(j=C.strictRequired)!==null&&j!==void 0?j:W)!==null&&M!==void 0?M:!1,code:C.code?{...C.code,optimize:L,regExp:re}:{optimize:L,regExp:re},loopRequired:(G=C.loopRequired)!==null&&G!==void 0?G:E,loopEnum:(oe=C.loopEnum)!==null&&oe!==void 0?oe:E,meta:(ce=C.meta)!==null&&ce!==void 0?ce:!0,messages:(de=C.messages)!==null&&de!==void 0?de:!0,inlineRefs:(ve=C.inlineRefs)!==null&&ve!==void 0?ve:!0,schemaId:(Ie=C.schemaId)!==null&&Ie!==void 0?Ie:"$id",addUsedSchema:(Be=C.addUsedSchema)!==null&&Be!==void 0?Be:!0,validateSchema:(De=C.validateSchema)!==null&&De!==void 0?De:!0,validateFormats:(nt=C.validateFormats)!==null&&nt!==void 0?nt:!0,unicodeRegExp:(We=C.unicodeRegExp)!==null&&We!==void 0?We:!0,int32range:(Ue=C.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:ye}}var S=class{constructor(C={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,C=this.opts={...C,...y(C)};const{es5:B,lines:K}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:B,lines:K}),this.logger=F(C.logger);const P=C.validateFormats;C.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,C,"NOT SUPPORTED"),$.call(this,h,C,"DEPRECATED","warn"),this._metaOpts=O.call(this),C.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),C.keywords&&x.call(this,C.keywords),typeof C.meta=="object"&&this.addMetaSchema(C.meta),d.call(this),C.validateFormats=P}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:C,meta:B,schemaId:K}=this.opts;let P=c;K==="id"&&(P={...c},P.id=P.$id,delete P.$id),B&&C&&this.addMetaSchema(P,P[K],!1)}defaultMeta(){const{meta:C,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof C=="object"?C[B]||C:void 0}validate(C,B){let K;if(typeof C=="string"){if(K=this.getSchema(C),!K)throw new Error(`no schema with key or ref "${C}"`)}else K=this.compile(C);const P=K(B);return"$async"in K||(this.errors=K.errors),P}compile(C,B){const K=this._addSchema(C,B);return K.validate||this._compileSchemaEnv(K)}compileAsync(C,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return P.call(this,C,B);async function P(se,be){await I.call(this,se.$schema);const Pe=this._addSchema(se,be);return Pe.validate||q.call(this,Pe)}async function I(se){se&&!this.getSchema(se)&&await P.call(this,{$ref:se},!0)}async function q(se){try{return this._compileSchemaEnv(se)}catch(be){if(!(be instanceof i.default))throw be;return ie.call(this,be),await J.call(this,be.missingSchema),q.call(this,se)}}function ie({missingSchema:se,missingRef:be}){if(this.refs[se])throw new Error(`AnySchema ${se} is loaded but ${be} cannot be resolved`)}async function J(se){const be=await Y.call(this,se);this.refs[se]||await I.call(this,be.$schema),this.refs[se]||this.addSchema(be,se,B)}async function Y(se){const be=this._loading[se];if(be)return be;try{return await(this._loading[se]=K(se))}finally{delete this._loading[se]}}}addSchema(C,B,K,P=this.opts.validateSchema){if(Array.isArray(C)){for(const q of C)this.addSchema(q,void 0,K,P);return this}let I;if(typeof C=="object"){const{schemaId:q}=this.opts;if(I=C[q],I!==void 0&&typeof I!="string")throw new Error(`schema ${q} must be string`)}return B=(0,l.normalizeId)(B||I),this._checkUnique(B),this.schemas[B]=this._addSchema(C,K,B,P,!0),this}addMetaSchema(C,B,K=this.opts.validateSchema){return this.addSchema(C,B,!0,K),this}validateSchema(C,B){if(typeof C=="boolean")return!0;let K;if(K=C.$schema,K!==void 0&&typeof K!="string")throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const P=this.validate(K,C);if(!P&&B){const I="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(I);else throw new Error(I)}return P}getSchema(C){let B;for(;typeof(B=T.call(this,C))=="string";)C=B;if(B===void 0){const{schemaId:K}=this.opts,P=new s.SchemaEnv({schema:{},schemaId:K});if(B=s.resolveSchema.call(this,P,C),!B)return;this.refs[C]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(C){if(C instanceof RegExp)return this._removeAllSchemas(this.schemas,C),this._removeAllSchemas(this.refs,C),this;switch(typeof C){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=T.call(this,C);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[C],delete this.refs[C],this}case"object":{const B=C;this._cache.delete(B);let K=C[this.opts.schemaId];return K&&(K=(0,l.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(C){for(const B of C)this.addKeyword(B);return this}addKeyword(C,B){let K;if(typeof C=="string")K=C,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=K);else if(typeof C=="object"&&B===void 0){if(B=C,K=B.keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Q.call(this,K,B),!B)return(0,f.eachItem)(K,I=>H.call(this,I)),this;fe.call(this,B);const P={...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)};return(0,f.eachItem)(K,P.type.length===0?I=>H.call(this,I,P):I=>P.type.forEach(q=>H.call(this,I,P,q))),this}getKeyword(C){const B=this.RULES.all[C];return typeof B=="object"?B.definition:!!B}removeKeyword(C){const{RULES:B}=this;delete B.keywords[C],delete B.all[C];for(const K of B.rules){const P=K.rules.findIndex(I=>I.keyword===C);P>=0&&K.rules.splice(P,1)}return this}addFormat(C,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[C]=B,this}errorsText(C=this.errors,{separator:B=", ",dataVar:K="data"}={}){return!C||C.length===0?"No errors":C.map(P=>`${K}${P.instancePath} ${P.message}`).reduce((P,I)=>P+B+I)}$dataMetaSchema(C,B){const K=this.RULES.all;C=JSON.parse(JSON.stringify(C));for(const P of B){const I=P.split("/").slice(1);let q=C;for(const ie of I)q=q[ie];for(const ie in K){const J=K[ie];if(typeof J!="object")continue;const{$data:Y}=J.definition,se=q[ie];Y&&se&&(q[ie]=ne(se))}}return C}_removeAllSchemas(C,B){for(const K in C){const P=C[K];(!B||B.test(K))&&(typeof P=="string"?delete C[K]:P&&!P.meta&&(this._cache.delete(P.schema),delete C[K]))}}_addSchema(C,B,K,P=this.opts.validateSchema,I=this.opts.addUsedSchema){let q;const{schemaId:ie}=this.opts;if(typeof C=="object")q=C[ie];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof C!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(C);if(J!==void 0)return J;K=(0,l.normalizeId)(q||K);const Y=l.getSchemaRefs.call(this,C,K);return J=new s.SchemaEnv({schema:C,schemaId:ie,meta:B,baseId:K,localRefs:Y}),this._cache.set(J.schema,J),I&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=J),P&&this.validateSchema(C,!0),J}_checkUnique(C){if(this.schemas[C]||this.refs[C])throw new Error(`schema with key or id "${C}" already exists`)}_compileSchemaEnv(C){if(C.meta?this._compileMetaSchema(C):s.compileSchema.call(this,C),!C.validate)throw new Error("ajv implementation error");return C.validate}_compileMetaSchema(C){const B=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,C)}finally{this.opts=B}}};S.ValidationError=n.default,S.MissingRefError=i.default,e.default=S;function $(C,B,K,P="error"){for(const I in C){const q=I;q in B&&this.logger[P](`${K}: option ${I}. ${C[q]}`)}}function T(C){return C=(0,l.normalizeId)(C),this.schemas[C]||this.refs[C]}function d(){const C=this.opts.schemas;if(C)if(Array.isArray(C))this.addSchema(C);else for(const B in C)this.addSchema(C[B],B)}function A(){for(const C in this.opts.formats){const B=this.opts.formats[C];B&&this.addFormat(C,B)}}function x(C){if(Array.isArray(C)){this.addVocabulary(C);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in C){const K=C[B];K.keyword||(K.keyword=B),this.addKeyword(K)}}function O(){const C={...this.opts};for(const B of g)delete C[B];return C}var D={log(){},warn(){},error(){}};function F(C){if(C===!1)return D;if(C===void 0)return console;if(C.log&&C.warn&&C.error)return C;throw new Error("logger must implement log, warn and error methods")}var V=/^[a-z_$][a-z0-9_$:-]*$/i;function Q(C,B){const{RULES:K}=this;if((0,f.eachItem)(C,P=>{if(K.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!V.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function H(C,B,K){var P;const I=B==null?void 0:B.post;if(K&&I)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let ie=I?q.post:q.rules.find(({type:Y})=>Y===K);if(ie||(ie={type:K,rules:[]},q.rules.push(ie)),q.keywords[C]=!0,!B)return;const J={keyword:C,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?X.call(this,ie,J,B.before):ie.rules.push(J),q.all[C]=J,(P=B.implements)===null||P===void 0||P.forEach(Y=>this.addKeyword(Y))}function X(C,B,K){const P=C.rules.findIndex(I=>I.keyword===K);P>=0?C.rules.splice(P,0,B):(C.rules.push(B),this.logger.warn(`rule ${K} is not defined`))}function fe(C){let{metaSchema:B}=C;B!==void 0&&(C.$data&&this.opts.$data&&(B=ne(B)),C.validateSchema=this.compile(B,!0))}var Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ne(C){return{anyOf:[C,Z]}}}}),RZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/id.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),NZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=G_(),r=pa(),n=hr(),i=oc(),o=MR(),s=Br(),a={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:p,it:m}=f,{baseId:g,schemaEnv:_,validateName:v,opts:h,self:E}=m,{root:y}=_;if((p==="#"||p==="#/")&&g===y.baseId)return $();const S=o.resolveRef.call(E,y,g,p);if(S===void 0)throw new t.default(m.opts.uriResolver,g,p);if(S instanceof o.SchemaEnv)return T(S);return d(S);function $(){if(_===y)return u(f,v,_,_.$async);const A=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${A}.validate`,y,y.$async)}function T(A){const x=l(f,A);u(f,x,A,A.$async)}function d(A){const x=c.scopeValue("schema",h.code.source===!0?{ref:A,code:(0,n.stringify)(A)}:{ref:A}),O=c.name("valid"),D=f.subschema({schema:A,dataTypes:[],schemaPath:n.nil,topSchemaRef:x,errSchemaPath:p},O);f.mergeEvaluated(D),f.ok(O)}}};function l(f,c){const{gen:p}=f;return c.validate?p.scopeValue("validate",{ref:c.validate}):(0,n._)`${p.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,p,m){const{gen:g,it:_}=f,{allErrors:v,schemaEnv:h,opts:E}=_,y=E.passContext?i.default.this:n.nil;m?S():$();function S(){if(!h.$async)throw new Error("async schema referenced by sync schema");const A=g.let("valid");g.try(()=>{g.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||g.assign(A,!0)},x=>{g.if((0,n._)`!(${x} instanceof ${_.ValidationError})`,()=>g.throw(x)),T(x),v||g.assign(A,!1)}),f.ok(A)}function $(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>T(c))}function T(A){const x=(0,n._)`${A}.errors`;g.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${x} : ${i.default.vErrors}.concat(${x})`),g.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(A){var x;if(!_.opts.unevaluated)return;const O=(x=p==null?void 0:p.validate)===null||x===void 0?void 0:x.evaluated;if(_.props!==!0)if(O&&!O.dynamicProps)O.props!==void 0&&(_.props=s.mergeEvaluated.props(g,O.props,_.props));else{const D=g.var("props",(0,n._)`${A}.evaluated.props`);_.props=s.mergeEvaluated.props(g,D,_.props,n.Name)}if(_.items!==!0)if(O&&!O.dynamicItems)O.items!==void 0&&(_.items=s.mergeEvaluated.items(g,O.items,_.items));else{const D=g.var("items",(0,n._)`${A}.evaluated.items`);_.items=s.mergeEvaluated.items(g,D,_.items,n.Name)}}}e.callRef=u,e.default=a}}),IZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=RZ(),r=NZ(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),kZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:s,schemaCode:a})=>(0,t.str)`must be ${n[s].okStr} ${a}`,params:({keyword:s,schemaCode:a})=>(0,t._)`{comparison: ${n[s].okStr}, limit: ${a}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u}=s;s.fail$data((0,t._)`${l} ${n[a].fail} ${u} || isNaN(${l})`)}};e.default=o}}),CZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:s,schemaCode:a,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${a} === 0 || (${f} = ${s}/${a}, ${c}))`)}};e.default=n}}),jZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/ucs2length.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,s;for(;o<n;)i++,s=r.charCodeAt(o++),s>=55296&&s<=56319&&o<n&&(s=r.charCodeAt(o),(s&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),DZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=Br(),n=jZ(),i={message({keyword:s,schemaCode:a}){const l=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${a} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u,it:f}=s,c=a==="maxLength"?t.operators.GT:t.operators.LT,p=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(s.gen,n.default)}(${l})`;s.fail$data((0,t._)`${p} ${c} ${u}`)}};e.default=o}}),MZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pa(),r=hr(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:s,$data:a,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",p=a?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${p}.test(${s})`)}};e.default=i}}),LZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${s}).length ${l} ${a}`)}};e.default=n}}),FZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pa(),r=hr(),n=Br(),i={message:({params:{missingProperty:s}})=>(0,r.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,r._)`{missingProperty: ${s}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,schema:l,schemaCode:u,data:f,$data:c,it:p}=s,{opts:m}=p;if(!c&&l.length===0)return;const g=l.length>=m.loopRequired;if(p.allErrors?_():v(),m.strictRequired){const y=s.parentSchema.properties,{definedProperties:S}=s.it;for(const $ of l)if((y==null?void 0:y[$])===void 0&&!S.has($)){const T=p.schemaEnv.baseId+p.errSchemaPath,d=`required property "${$}" is not defined at "${T}" (strictRequired)`;(0,n.checkStrictMode)(p,d,p.opts.strictRequired)}}function _(){if(g||c)s.block$data(r.nil,h);else for(const y of l)(0,t.checkReportMissingProp)(s,y)}function v(){const y=a.let("missing");if(g||c){const S=a.let("valid",!0);s.block$data(S,()=>E(y,S)),s.ok(S)}else a.if((0,t.checkMissingProp)(s,l,y)),(0,t.reportMissingProp)(s,y),a.else()}function h(){a.forOf("prop",u,y=>{s.setParams({missingProperty:y}),a.if((0,t.noPropertyInData)(a,f,y,m.ownProperties),()=>s.error())})}function E(y,S){s.setParams({missingProperty:y}),a.forOf(y,u,()=>{a.assign(S,(0,t.propertyInData)(a,f,y,m.ownProperties)),a.if((0,r.not)(S),()=>{s.error(),a.break()})},r.nil)}}};e.default=o}}),BZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${s}.length ${l} ${a}`)}};e.default=n}}),LR=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/equal.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Lh();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),UZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=xb(),r=hr(),n=Br(),i=LR(),o={message:({params:{i:a,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${a} are identical)`,params:({params:{i:a,j:l}})=>(0,r._)`{i: ${a}, j: ${l}}`},s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(a){const{gen:l,data:u,$data:f,schema:c,parentSchema:p,schemaCode:m,it:g}=a;if(!f&&!c)return;const _=l.let("valid"),v=p.items?(0,t.getSchemaTypes)(p.items):[];a.block$data(_,h,(0,r._)`${m} === false`),a.ok(_);function h(){const $=l.let("i",(0,r._)`${u}.length`),T=l.let("j");a.setParams({i:$,j:T}),l.assign(_,!0),l.if((0,r._)`${$} > 1`,()=>(E()?y:S)($,T))}function E(){return v.length>0&&!v.some($=>$==="object"||$==="array")}function y($,T){const d=l.name("item"),A=(0,t.checkDataTypes)(v,d,g.opts.strictNumbers,t.DataType.Wrong),x=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${$}--;`,()=>{l.let(d,(0,r._)`${u}[${$}]`),l.if(A,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${x}[${d}] == "number"`,()=>{l.assign(T,(0,r._)`${x}[${d}]`),a.error(),l.assign(_,!1).break()}).code((0,r._)`${x}[${d}] = ${$}`)})}function S($,T){const d=(0,n.useFunc)(l,i.default),A=l.name("outer");l.label(A).for((0,r._)`;${$}--;`,()=>l.for((0,r._)`${T} = ${$}; ${T}--;`,()=>l.if((0,r._)`${d}(${u}[${$}], ${u}[${T}])`,()=>{a.error(),l.assign(_,!1).break(A)})))}}};e.default=s}}),zZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=Br(),n=LR(),i={message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},o={keyword:"const",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schemaCode:f,schema:c}=s;u||c&&typeof c=="object"?s.fail$data((0,t._)`!${(0,r.useFunc)(a,n.default)}(${l}, ${f})`):s.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),qZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=Br(),n=LR(),i={message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schema:f,schemaCode:c,it:p}=s;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=p.opts.loopEnum;let g;const _=()=>g??(g=(0,r.useFunc)(a,n.default));let v;if(m||u)v=a.let("valid"),s.block$data(v,h);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=a.const("vSchema",c);v=(0,t.or)(...f.map((S,$)=>E(y,$)))}s.pass(v);function h(){a.assign(v,!1),a.forOf("v",c,y=>a.if((0,t._)`${_()}(${l}, ${y})`,()=>a.assign(v,!0).break()))}function E(y,S){const $=f[S];return typeof $=="object"&&$!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${$}`}}};e.default=o}}),VZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=kZ(),r=CZ(),n=DZ(),i=MZ(),o=LZ(),s=FZ(),a=BZ(),l=UZ(),u=zZ(),f=qZ(),c=[t.default,r.default,n.default,i.default,o.default,s.default,a.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),cU=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=hr(),r=Br(),n={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(s){const{parentSchema:a,it:l}=s,{items:u}=a;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(s,u)}};function o(s,a){const{gen:l,schema:u,data:f,keyword:c,it:p}=s;p.items=!0;const m=l.const("len",(0,t._)`${f}.length`);if(u===!1)s.setParams({len:a.length}),s.pass((0,t._)`${m} <= ${a.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(p,u)){const _=l.var("valid",(0,t._)`${m} <= ${a.length}`);l.if((0,t.not)(_),()=>g(_)),s.ok(_)}function g(_){l.forRange("i",a.length,m,v=>{s.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),p.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),fU=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=hr(),r=Br(),n=pa(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:a,it:l}=s;if(Array.isArray(a))return o(s,"additionalItems",a);l.items=!0,!(0,r.alwaysValidSchema)(l,a)&&s.ok((0,n.validateArray)(s))}};function o(s,a,l=s.schema){const{gen:u,parentSchema:f,data:c,keyword:p,it:m}=s;v(f),m.opts.unevaluated&&l.length&&m.items!==!0&&(m.items=r.mergeEvaluated.items(u,l.length,m.items));const g=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((h,E)=>{(0,r.alwaysValidSchema)(m,h)||(u.if((0,t._)`${_} > ${E}`,()=>s.subschema({keyword:p,schemaProp:E,dataProp:E},g)),s.ok(g))});function v(h){const{opts:E,errSchemaPath:y}=m,S=l.length,$=S===h.minItems&&(S===h.maxItems||h[a]===!1);if(E.strictTuples&&!$){const T=`"${p}" is ${S}-tuple, but minItems or maxItems/${a} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(m,T,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),HZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=fU(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),WZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=Br(),n=pa(),i=cU(),o={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(a){const{schema:l,parentSchema:u,it:f}=a,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(a,c):a.ok((0,n.validateArray)(a)))}};e.default=s}}),GZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=Br(),n={message:({params:{min:o,max:s}})=>s===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${s} valid item(s)`,params:({params:{min:o,max:s}})=>s===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${s}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:f}=o;let c,p;const{minContains:m,maxContains:g}=l;f.opts.next?(c=m===void 0?1:m,p=g):c=1;const _=s.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:p}),p===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&c>p){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,a)){let S=(0,t._)`${_} >= ${c}`;p!==void 0&&(S=(0,t._)`${S} && ${_} <= ${p}`),o.pass(S);return}f.items=!0;const v=s.name("valid");p===void 0&&c===1?E(v,()=>s.if(v,()=>s.break())):c===0?(s.let(v,!0),p!==void 0&&s.if((0,t._)`${u}.length > 0`,h)):(s.let(v,!1),h()),o.result(v,()=>o.reset());function h(){const S=s.name("_valid"),$=s.let("count",0);E(S,()=>s.if(S,()=>y($)))}function E(S,$){s.forRange("i",0,_,T=>{o.subschema({keyword:"contains",dataProp:T,dataPropType:r.Type.Num,compositeRule:!0},S),$()})}function y(S){s.code((0,t._)`${S}++`),p===void 0?s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0).break()):(s.if((0,t._)`${S} > ${p}`,()=>s.assign(v,!1).break()),c===1?s.assign(v,!0):s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0)))}}};e.default=i}}),KZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=hr(),r=Br(),n=pa();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);s(l,u),a(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const p=Array.isArray(l[c])?u:f;p[c]=l[c]}return[u,f]}function s(l,u=l.schema){const{gen:f,data:c,it:p}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,p.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),p.allErrors?f.if(v,()=>{for(const h of _)(0,n.checkReportMissingProp)(l,h)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:f,data:c,keyword:p,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:p,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i}}),JZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=Br(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:s,schema:a,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,a))return;const f=s.name("valid");s.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),s.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||s.break()})}),o.ok(f)}};e.default=i}}),dU=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pa(),r=hr(),n=oc(),i=Br(),o={message:"must NOT have additional properties",params:({params:a})=>(0,r._)`{additionalProperty: ${a.additionalProperty}}`},s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(a){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:p,it:m}=a;if(!p)throw new Error("ajv implementation error");const{allErrors:g,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(m,u))return;const v=(0,t.allSchemaProperties)(f.properties),h=(0,t.allSchemaProperties)(f.patternProperties);E(),a.ok((0,r._)`${p} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!h.length?$(d):l.if(y(d),()=>$(d))})}function y(d){let A;if(v.length>8){const x=(0,i.schemaRefOrVal)(m,f.properties,"properties");A=(0,t.isOwnProperty)(l,x,d)}else v.length?A=(0,r.or)(...v.map(x=>(0,r._)`${d} === ${x}`)):A=r.nil;return h.length&&(A=(0,r.or)(A,...h.map(x=>(0,r._)`${(0,t.usePattern)(a,x)}.test(${d})`))),(0,r.not)(A)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function $(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){a.setParams({additionalProperty:d}),a.error(),g||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(m,u)){const A=l.name("valid");_.removeAdditional==="failing"?(T(d,A,!1),l.if((0,r.not)(A),()=>{a.reset(),S(d)})):(T(d,A),g||l.if((0,r.not)(A),()=>l.break()))}}function T(d,A,x){const O={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};x===!1&&Object.assign(O,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(O,A)}}};e.default=s}}),YZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=W_(),r=pa(),n=Br(),i=dU(),o={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,parentSchema:u,data:f,it:c}=s;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const p=(0,r.allSchemaProperties)(l);for(const h of p)c.definedProperties.add(h);c.opts.unevaluated&&p.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(a,(0,n.toHash)(p),c.props));const m=p.filter(h=>!(0,n.alwaysValidSchema)(c,l[h]));if(m.length===0)return;const g=a.name("valid");for(const h of m)_(h)?v(h):(a.if((0,r.propertyInData)(a,f,h,c.opts.ownProperties)),v(h),c.allErrors||a.else().var(g,!0),a.endIf()),s.it.definedProperties.add(h),s.ok(g);function _(h){return c.opts.useDefaults&&!c.compositeRule&&l[h].default!==void 0}function v(h){s.subschema({keyword:"properties",schemaProp:h,dataProp:h},g)}}};e.default=o}}),XZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pa(),r=hr(),n=Br(),i=Br(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,data:u,parentSchema:f,it:c}=s,{opts:p}=c,m=(0,t.allSchemaProperties)(l),g=m.filter($=>(0,n.alwaysValidSchema)(c,l[$]));if(m.length===0||g.length===m.length&&(!c.opts.unevaluated||c.props===!0))return;const _=p.strictSchema&&!p.allowMatchingProperties&&f.properties,v=a.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(a,c.props));const{props:h}=c;E();function E(){for(const $ of m)_&&y($),c.allErrors?S($):(a.var(v,!0),S($),a.if(v))}function y($){for(const T in _)new RegExp($).test(T)&&(0,n.checkStrictMode)(c,`property ${T} matches pattern ${$} (use allowMatchingProperties)`)}function S($){a.forIn("key",u,T=>{a.if((0,r._)`${(0,t.usePattern)(s,$)}.test(${T})`,()=>{const d=g.includes($);d||s.subschema({keyword:"patternProperties",schemaProp:$,dataProp:T,dataPropType:i.Type.Str},v),c.opts.unevaluated&&h!==!0?a.assign((0,r._)`${h}[${T}]`,!0):!d&&!c.allErrors&&a.if((0,r.not)(v),()=>a.break())})})}}};e.default=o}}),QZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Br(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:s}=n;if((0,t.alwaysValidSchema)(s,o)){n.fail();return}const a=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),n.failResult(a,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),ZZ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pa(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),e7=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=Br(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,it:u}=o;if(!Array.isArray(a))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=a,c=s.let("valid",!1),p=s.let("passing",null),m=s.name("_valid");o.setParams({passing:p}),s.block(g),o.result(c,()=>o.reset(),()=>o.error(!0));function g(){f.forEach((_,v)=>{let h;(0,r.alwaysValidSchema)(u,_)?s.var(m,!0):h=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},m),v>0&&s.if((0,t._)`${m} && ${c}`).assign(c,!1).assign(p,(0,t._)`[${p}, ${v}]`).else(),s.if(m,()=>{s.assign(c,!0),s.assign(p,v),h&&o.mergeEvaluated(h,t.Name)})})}}};e.default=i}}),t7=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Br(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:s}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const a=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(s,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},a);n.ok(a),n.mergeEvaluated(f)})}};e.default=r}}),r7=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=Br(),n={message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(s){const{gen:a,parentSchema:l,it:u}=s;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const p=a.let("valid",!0),m=a.name("_valid");if(g(),s.reset(),f&&c){const v=a.let("ifClause");s.setParams({ifClause:v}),a.if(m,_("then",v),_("else",v))}else f?a.if(m,_("then")):a.if((0,t.not)(m),_("else"));s.pass(p,()=>s.error(!0));function g(){const v=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);s.mergeEvaluated(v)}function _(v,h){return()=>{const E=s.subschema({keyword:v},m);a.assign(p,m),s.mergeValidEvaluated(E,p),h?a.assign(h,(0,t._)`${v}`):s.setParams({ifClause:v})}}}};function o(s,a){const l=s.schema[a];return l!==void 0&&!(0,r.alwaysValidSchema)(s,l)}e.default=i}}),n7=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Br(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),i7=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=cU(),r=HZ(),n=fU(),i=WZ(),o=GZ(),s=KZ(),a=JZ(),l=dU(),u=YZ(),f=XZ(),c=QZ(),p=ZZ(),m=e7(),g=t7(),_=r7(),v=n7();function h(E=!1){const y=[c.default,p.default,m.default,g.default,_.default,v.default,a.default,l.default,s.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=h}}),o7=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/format/format.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:s,data:a,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:p,errSchemaPath:m,schemaEnv:g,self:_}=c;if(!p.validateFormats)return;l?v():h();function v(){const E=s.scopeValue("formats",{ref:_.formats,code:p.code.formats}),y=s.const("fDef",(0,t._)`${E}[${f}]`),S=s.let("fType"),$=s.let("format");s.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>s.assign(S,(0,t._)`${y}.type || "string"`).assign($,(0,t._)`${y}.validate`),()=>s.assign(S,(0,t._)`"string"`).assign($,y)),i.fail$data((0,t.or)(T(),d()));function T(){return p.strictSchema===!1?t.nil:(0,t._)`${f} && !${$}`}function d(){const A=g.$async?(0,t._)`(${y}.async ? await ${$}(${a}) : ${$}(${a}))`:(0,t._)`${$}(${a})`,x=(0,t._)`(typeof ${$} == "function" ? ${A} : ${$}.test(${a}))`;return(0,t._)`${$} && ${$} !== true && ${S} === ${o} && !${x}`}}function h(){const E=_.formats[u];if(!E){T();return}if(E===!0)return;const[y,S,$]=d(E);y===o&&i.pass(A());function T(){if(p.strictSchema===!1){_.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function d(x){const O=x instanceof RegExp?(0,t.regexpCode)(x):p.code.formats?(0,t._)`${p.code.formats}${(0,t.getProperty)(u)}`:void 0,D=s.scopeValue("formats",{key:u,ref:x,code:O});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,t._)`${D}.validate`]:["string",x,D]}function A(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!g.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${a})`}return typeof S=="function"?(0,t._)`${$}(${a})`:(0,t._)`${$}.test(${a})`}}}};e.default=n}}),s7=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/format/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=o7(),r=[t.default];e.default=r}}),a7=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/metadata.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),l7=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/draft7.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=IZ(),r=VZ(),n=i7(),i=s7(),o=a7(),s=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=s}}),u7=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0;var t;(function(r){r.Tag="tag",r.Mapping="mapping"})(t||(e.DiscrError=t={}))}}),c7=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=u7(),n=MR(),i=G_(),o=Br(),s={message:({params:{discrError:l,tagName:u}})=>l===r.DiscrError.Tag?`tag "${u}" must be string`:`value of tag "${u}" must be in oneOf`,params:({params:{discrError:l,tag:u,tagName:f}})=>(0,t._)`{error: ${l}, tag: ${f}, tagValue: ${u}}`},a={keyword:"discriminator",type:"object",schemaType:"object",error:s,code(l){const{gen:u,data:f,schema:c,parentSchema:p,it:m}=l,{oneOf:g}=p;if(!m.opts.discriminator)throw new Error("discriminator: requires discriminator option");const _=c.propertyName;if(typeof _!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");const v=u.let("valid",!1),h=u.const("tag",(0,t._)`${f}${(0,t.getProperty)(_)}`);u.if((0,t._)`typeof ${h} == "string"`,()=>E(),()=>l.error(!1,{discrError:r.DiscrError.Tag,tag:h,tagName:_})),l.ok(v);function E(){const $=S();u.if(!1);for(const T in $)u.elseIf((0,t._)`${h} === ${T}`),u.assign(v,y($[T]));u.else(),l.error(!1,{discrError:r.DiscrError.Mapping,tag:h,tagName:_}),u.endIf()}function y($){const T=u.name("valid"),d=l.subschema({keyword:"oneOf",schemaProp:$},T);return l.mergeEvaluated(d,t.Name),T}function S(){var $;const T={},d=x(p);let A=!0;for(let F=0;F<g.length;F++){let V=g[F];if(V!=null&&V.$ref&&!(0,o.schemaHasRulesButRef)(V,m.self.RULES)){const H=V.$ref;if(V=n.resolveRef.call(m.self,m.schemaEnv.root,m.baseId,H),V instanceof n.SchemaEnv&&(V=V.schema),V===void 0)throw new i.default(m.opts.uriResolver,m.baseId,H)}const Q=($=V==null?void 0:V.properties)===null||$===void 0?void 0:$[_];if(typeof Q!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${_}"`);A=A&&(d||x(V)),O(Q,F)}if(!A)throw new Error(`discriminator: "${_}" must be required`);return T;function x({required:F}){return Array.isArray(F)&&F.includes(_)}function O(F,V){if(F.const)D(F.const,V);else if(F.enum)for(const Q of F.enum)D(Q,V);else throw new Error(`discriminator: "properties/${_}" must have "const" or "enum"`)}function D(F,V){if(typeof F!="string"||F in T)throw new Error(`discriminator: "${_}" values must be unique strings`);T[F]=V}}}};e.default=a}}),f7=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),hU=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/ajv.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;var r=PZ(),n=l7(),i=c7(),o=f7(),s=["/properties"],a="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(m,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}};e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=W_();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=hr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=DR();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var p=G_();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return p.default}})}}),d7=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/formats.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(D,F){return{validate:D,compare:F}}e.fullFormats={date:t(o,s),time:t(l(!0),u),"date-time":t(p(!0),m),"iso-time":t(l(),f),"iso-date-time":t(p(),g),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:h,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:O,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:T},int64:{type:"number",validate:d},float:{type:"number",validate:A},double:{type:"number",validate:A},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,g),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(D){return D%4===0&&(D%100!==0||D%400===0)}var n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(D){const F=n.exec(D);if(!F)return!1;const V=+F[1],Q=+F[2],H=+F[3];return Q>=1&&Q<=12&&H>=1&&H<=(Q===2&&r(V)?29:i[Q])}function s(D,F){if(D&&F)return D>F?1:D<F?-1:0}var a=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(D){return function(V){const Q=a.exec(V);if(!Q)return!1;const H=+Q[1],X=+Q[2],fe=+Q[3],Z=Q[4],ne=Q[5]==="-"?-1:1,C=+(Q[6]||0),B=+(Q[7]||0);if(C>23||B>59||D&&!Z)return!1;if(H<=23&&X<=59&&fe<60)return!0;const K=X-B*ne,P=H-C*ne-(K<0?1:0);return(P===23||P===-1)&&(K===59||K===-1)&&fe<61}}function u(D,F){if(!(D&&F))return;const V=new Date("2020-01-01T"+D).valueOf(),Q=new Date("2020-01-01T"+F).valueOf();if(V&&Q)return V-Q}function f(D,F){if(!(D&&F))return;const V=a.exec(D),Q=a.exec(F);if(V&&Q)return D=V[1]+V[2]+V[3],F=Q[1]+Q[2]+Q[3],D>F?1:D<F?-1:0}var c=/t|\s/i;function p(D){const F=l(D);return function(Q){const H=Q.split(c);return H.length===2&&o(H[0])&&F(H[1])}}function m(D,F){if(!(D&&F))return;const V=new Date(D).valueOf(),Q=new Date(F).valueOf();if(V&&Q)return V-Q}function g(D,F){if(!(D&&F))return;const[V,Q]=D.split(c),[H,X]=F.split(c),fe=s(V,H);if(fe!==void 0)return fe||u(Q,X)}var _=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function h(D){return _.test(D)&&v.test(D)}var E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(D){return E.lastIndex=0,E.test(D)}var S=-2147483648,$=2**31-1;function T(D){return Number.isInteger(D)&&D<=$&&D>=S}function d(D){return Number.isInteger(D)}function A(){return!0}var x=/[^\\]\\Z/;function O(D){if(x.test(D))return!1;try{return new RegExp(D),!0}catch{return!1}}}}),h7=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/limit.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;var t=hU(),r=hr(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:a,schemaCode:l})=>(0,r.str)`should be ${i[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>(0,r._)`{comparison: ${i[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(a){const{gen:l,data:u,schemaCode:f,keyword:c,it:p}=a,{opts:m,self:g}=p;if(!m.validateFormats)return;const _=new t.KeywordCxt(p,g.RULES.all.format.definition,"format");_.$data?v():h();function v(){const y=l.scopeValue("formats",{ref:g.formats,code:m.code.formats}),S=l.const("fmt",(0,r._)`${y}[${_.schemaCode}]`);a.fail$data((0,r.or)((0,r._)`typeof ${S} != "object"`,(0,r._)`${S} instanceof RegExp`,(0,r._)`typeof ${S}.compare != "function"`,E(S)))}function h(){const y=_.schema,S=g.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const $=l.scopeValue("formats",{key:y,ref:S,code:m.code.formats?(0,r._)`${m.code.formats}${(0,r.getProperty)(y)}`:void 0});a.fail$data(E($))}function E(y){return(0,r._)`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};var s=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=s}}),p7=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/index.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0});var r=d7(),n=h7(),i=hr(),o=new i.Name("fullFormats"),s=new i.Name("fastFormats"),a=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,p]=f.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,o],m=f.formats||r.formatNames;return l(u,m,c,p),f.keywords&&(0,n.default)(u),u};a.get=(u,f="full")=>{const p=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!p)throw new Error(`Unknown format "${u}"`);return p};function l(u,f,c,p){var m,g;(m=(g=u.opts.code).formats)!==null&&m!==void 0||(g.formats=(0,i._)`require("ajv-formats/dist/formats").${p}`);for(const _ of f)u.addFormat(_,c[_])}t.exports=e=a,Object.defineProperty(e,"__esModule",{value:!0}),e.default=a}});function sc(){return kT||(kT=!0,typeof Object.create=="function"?Ip=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Ip=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),Ip}var Ip,kT,FR=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CkFCi-G1.js"(){Te(),Ip={},kT=!1}});function rn(){rn.init.call(this)}function Oy(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function pU(e){return e._maxListeners===void 0?rn.defaultMaxListeners:e._maxListeners}function A2(e,t,r,n){var i,o,s,a;if(Oy(r),(o=e._events)===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),s===void 0)s=o[t]=r,++e._eventsCount;else if(typeof s=="function"?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=pU(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function m7(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function x2(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=m7.bind(n);return i.listener=r,n.wrapFn=i,i}function O2(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?function(o){for(var s=new Array(o.length),a=0;a<s.length;++a)s[a]=o[a].listener||o[a];return s}(i):mU(i,i.length)}function P2(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function mU(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}var R2,N2,$c,RS,NS,IS,Yi,K_=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-tHuMsdT0.js"(){Te(),$c=typeof Reflect=="object"?Reflect:null,RS=$c&&typeof $c.apply=="function"?$c.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},N2=$c&&typeof $c.ownKeys=="function"?$c.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},NS=Number.isNaN||function(e){return e!=e},R2=rn,rn.EventEmitter=rn,rn.prototype._events=void 0,rn.prototype._eventsCount=0,rn.prototype._maxListeners=void 0,IS=10,Object.defineProperty(rn,"defaultMaxListeners",{enumerable:!0,get:function(){return IS},set:function(e){if(typeof e!="number"||e<0||NS(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");IS=e}}),rn.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},rn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||NS(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},rn.prototype.getMaxListeners=function(){return pU(this)},rn.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(a===void 0)return!1;if(typeof a=="function")RS(a,this,t);else{var l=a.length,u=mU(a,l);for(r=0;r<l;++r)RS(u[r],this,t)}return!0},rn.prototype.addListener=function(e,t){return A2(this,e,t,!1)},rn.prototype.on=rn.prototype.addListener,rn.prototype.prependListener=function(e,t){return A2(this,e,t,!0)},rn.prototype.once=function(e,t){return Oy(t),this.on(e,x2(this,e,t)),this},rn.prototype.prependOnceListener=function(e,t){return Oy(t),this.prependListener(e,x2(this,e,t)),this},rn.prototype.removeListener=function(e,t){var r,n,i,o,s;if(Oy(t),(n=this._events)===void 0)return this;if((r=n[e])===void 0)return this;if(r===t||r.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():function(a,l){for(;l+1<a.length;l++)a[l]=a[l+1];a.pop()}(r,i),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this},rn.prototype.off=rn.prototype.removeListener,rn.prototype.removeAllListeners=function(e){var t,r,n;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i,o=Object.keys(r);for(n=0;n<o.length;++n)(i=o[n])!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=r[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},rn.prototype.listeners=function(e){return O2(this,e,!0)},rn.prototype.rawListeners=function(e){return O2(this,e,!1)},rn.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):P2.call(e,t)},rn.prototype.listenerCount=P2,rn.prototype.eventNames=function(){return this._eventsCount>0?N2(this._events):[]},Yi=R2,Yi.EventEmitter,Yi.defaultMaxListeners,Yi.init,Yi.listenerCount,Yi.EventEmitter,Yi.defaultMaxListeners,Yi.init,Yi.listenerCount}}),g7=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtDiafJB.js"(){Te(),K_(),Yi.once=function(e,t){return new Promise((r,n)=>{function i(...s){o!==void 0&&e.removeListener("error",o),r(s)}let o;t!=="error"&&(o=s=>{e.removeListener(name,i),n(s)},e.once("error",o)),e.once(t,i)})},Yi.on=function(e,t){const r=[],n=[];let i=null,o=!1;const s={async next(){const u=r.shift();if(u)return createIterResult(u,!1);if(i){const f=Promise.reject(i);return i=null,f}return o?createIterResult(void 0,!0):new Promise((f,c)=>n.push({resolve:f,reject:c}))},async return(){e.removeListener(t,a),e.removeListener("error",l),o=!0;for(const u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,e.removeListener(t,a),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,a),e.on("error",l),s;function a(...u){const f=n.shift();f?f.resolve(createIterResult(u,!1)):r.push(u)}function l(u){o=!0;const f=n.shift();f?f.reject(u):i=u,s.return()}}}});function CT(){throw new Error("setTimeout has not been defined")}function jT(){throw new Error("clearTimeout has not been defined")}function gU(e){if(gl===setTimeout)return setTimeout(e,0);if((gl===CT||!gl)&&setTimeout)return gl=setTimeout,setTimeout(e,0);try{return gl(e,0)}catch{try{return gl.call(null,e,0)}catch{return gl.call(this||pf,e,0)}}}function v7(){mf&&nf&&(mf=!1,nf.length?Ba=nf.concat(Ba):um=-1,Ba.length&&vU())}function vU(){if(!mf){var e=gU(v7);mf=!0;for(var t=Ba.length;t;){for(nf=Ba,Ba=[];++um<t;)nf&&nf[um].run();um=-1,t=Ba.length}nf=null,mf=!1,function(r){if(vl===clearTimeout)return clearTimeout(r);if((vl===jT||!vl)&&clearTimeout)return vl=clearTimeout,clearTimeout(r);try{vl(r)}catch{try{return vl.call(null,r)}catch{return vl.call(this||pf,r)}}}(e)}}function I2(e,t){(this||pf).fun=e,(this||pf).array=t}function fl(){}function Tc(e){return e.call.bind(e)}function bg(e,t){if(typeof e!="object")return!1;try{return t(e),!0}catch{return!1}}function k2(e){return no&&Po?b(e)!==void 0:yU(e)||wU(e)||bU(e)||_U(e)||EU(e)||SU(e)||$U(e)||TU(e)||AU(e)||xU(e)||OU(e)}function yU(e){return no&&Po?b(e)==="Uint8Array":On(e)==="[object Uint8Array]"||IU(e)&&e.buffer!==void 0}function wU(e){return no&&Po?b(e)==="Uint8ClampedArray":On(e)==="[object Uint8ClampedArray]"}function bU(e){return no&&Po?b(e)==="Uint16Array":On(e)==="[object Uint16Array]"}function _U(e){return no&&Po?b(e)==="Uint32Array":On(e)==="[object Uint32Array]"}function EU(e){return no&&Po?b(e)==="Int8Array":On(e)==="[object Int8Array]"}function SU(e){return no&&Po?b(e)==="Int16Array":On(e)==="[object Int16Array]"}function $U(e){return no&&Po?b(e)==="Int32Array":On(e)==="[object Int32Array]"}function TU(e){return no&&Po?b(e)==="Float32Array":On(e)==="[object Float32Array]"}function AU(e){return no&&Po?b(e)==="Float64Array":On(e)==="[object Float64Array]"}function xU(e){return no&&Po?b(e)==="BigInt64Array":On(e)==="[object BigInt64Array]"}function OU(e){return no&&Po?b(e)==="BigUint64Array":On(e)==="[object BigUint64Array]"}function Tv(e){return On(e)==="[object Map]"}function Av(e){return On(e)==="[object Set]"}function xv(e){return On(e)==="[object WeakMap]"}function kS(e){return On(e)==="[object WeakSet]"}function Ob(e){return On(e)==="[object ArrayBuffer]"}function C2(e){return typeof ArrayBuffer<"u"&&(Ob.working?Ob(e):e instanceof ArrayBuffer)}function Pb(e){return On(e)==="[object DataView]"}function j2(e){return typeof DataView<"u"&&(Pb.working?Pb(e):e instanceof DataView)}function Rb(e){return On(e)==="[object SharedArrayBuffer]"}function D2(e){return typeof SharedArrayBuffer<"u"&&(Rb.working?Rb(e):e instanceof SharedArrayBuffer)}function M2(e){return bg(e,kU)}function L2(e){return bg(e,CU)}function F2(e){return bg(e,jU)}function B2(e){return DT&&bg(e,w)}function U2(e){return Ry&&bg(e,v2)}function Ou(e,t){var r={seen:[],stylize:w7};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),BR(t)?r.showHidden=t:t&&ft._extend(r,t),rf(r.showHidden)&&(r.showHidden=!1),rf(r.depth)&&(r.depth=2),rf(r.colors)&&(r.colors=!1),rf(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=y7),Nb(r,e,r.depth)}function y7(e,t){var r=Ou.styles[t];return r?"\x1B["+Ou.colors[r][0]+"m"+e+"\x1B["+Ou.colors[r][1]+"m":e}function w7(e,t){return e}function Nb(e,t,r){if(e.customInspect&&t&&Py(t.inspect)&&t.inspect!==ft.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return kb(n)||(n=Nb(e,n,r)),n}var i=function(p,m){if(rf(m))return p.stylize("undefined","undefined");if(kb(m)){var g="'"+JSON.stringify(m).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return p.stylize(g,"string")}if(RU(m))return p.stylize(""+m,"number");if(BR(m))return p.stylize(""+m,"boolean");if(Ib(m))return p.stylize("null","null")}(e,t);if(i)return i;var o=Object.keys(t),s=function(p){var m={};return p.forEach(function(g,_){m[g]=!0}),m}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),lm(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return CS(t);if(o.length===0){if(Py(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(am(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Cb(t))return e.stylize(Date.prototype.toString.call(t),"date");if(lm(t))return CS(t)}var l,u="",f=!1,c=["{","}"];return PU(t)&&(f=!0,c=["[","]"]),Py(t)&&(u=" [Function"+(t.name?": "+t.name:"")+"]"),am(t)&&(u=" "+RegExp.prototype.toString.call(t)),Cb(t)&&(u=" "+Date.prototype.toUTCString.call(t)),lm(t)&&(u=" "+CS(t)),o.length!==0||f&&t.length!=0?r<0?am(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=f?function(p,m,g,_,v){for(var h=[],E=0,y=m.length;E<y;++E)NU(m,String(E))?h.push(jS(p,m,g,_,String(E),!0)):h.push("");return v.forEach(function(S){S.match(/^\d+$/)||h.push(jS(p,m,g,_,S,!0))}),h}(e,t,r,s,o):o.map(function(p){return jS(e,t,r,s,p,f)}),e.seen.pop(),function(p,m,g){var _=0;return p.reduce(function(v,h){return _++,h.indexOf(`
`)>=0&&_++,v+h.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?g[0]+(m===""?"":m+`
 `)+" "+p.join(`,
  `)+" "+g[1]:g[0]+m+" "+p.join(", ")+" "+g[1]}(l,u,c)):c[0]+u+c[1]}function CS(e){return"["+Error.prototype.toString.call(e)+"]"}function jS(e,t,r,n,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),NU(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=Ib(r)?Nb(e,l.value,null):Nb(e,l.value,r-1)).indexOf(`
`)>-1&&(a=o?a.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`)):a=e.stylize("[Circular]","special")),rf(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function PU(e){return Array.isArray(e)}function BR(e){return typeof e=="boolean"}function Ib(e){return e===null}function RU(e){return typeof e=="number"}function kb(e){return typeof e=="string"}function rf(e){return e===void 0}function am(e){return ih(e)&&UR(e)==="[object RegExp]"}function ih(e){return typeof e=="object"&&e!==null}function Cb(e){return ih(e)&&UR(e)==="[object Date]"}function lm(e){return ih(e)&&(UR(e)==="[object Error]"||e instanceof Error)}function Py(e){return typeof e=="function"}function UR(e){return Object.prototype.toString.call(e)}function DS(e){return e<10?"0"+e.toString(10):e.toString(10)}function b7(){var e=new Date,t=[DS(e.getHours()),DS(e.getMinutes()),DS(e.getSeconds())].join(":");return[e.getDate(),DU[e.getMonth()],t].join(" ")}function NU(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _7(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}var z2,gl,vl,pf,jn,nf,Ba,mf,um,Tn,q2,Ov,fp,MS,V2,H2,W2,G2,K2,LS,FS,BS,J2,Y2,X2,US,yr,IU,Q2,Z2,DT,Ry,Po,no,ej,On,kU,CU,jU,fd,ft,qs,zS,tj,dp,qS,Pv,DU,su,_g=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-D3uu3VYh.js"(){if(Te(),pf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,jn=z2={},function(){try{gl=typeof setTimeout=="function"?setTimeout:CT}catch{gl=CT}try{vl=typeof clearTimeout=="function"?clearTimeout:jT}catch{vl=jT}}(),Ba=[],mf=!1,um=-1,jn.nextTick=function(i){var o=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)o[s-1]=arguments[s];Ba.push(new I2(i,o)),Ba.length!==1||mf||gU(vU)},I2.prototype.run=function(){(this||pf).fun.apply(null,(this||pf).array)},jn.title="browser",jn.browser=!0,jn.env={},jn.argv=[],jn.version="",jn.versions={},jn.on=fl,jn.addListener=fl,jn.once=fl,jn.off=fl,jn.removeListener=fl,jn.removeAllListeners=fl,jn.emit=fl,jn.prependListener=fl,jn.prependOnceListener=fl,jn.listeners=function(i){return[]},jn.binding=function(i){throw new Error("process.binding is not supported")},jn.cwd=function(){return"/"},jn.chdir=function(i){throw new Error("process.chdir is not supported")},jn.umask=function(){return 0},Tn=z2,Tn.addListener,Tn.argv,Tn.binding,Tn.browser,Tn.chdir,Tn.cwd,Tn.emit,Tn.env,Tn.listeners,Tn.nextTick,Tn.off,Tn.on,Tn.once,Tn.prependListener,Tn.prependOnceListener,Tn.removeAllListeners,Tn.removeListener,Tn.title,Tn.umask,Tn.version,Tn.versions,q2=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Ov=Object.prototype.toString,fp=function(i){return!(q2&&i&&typeof i=="object"&&Symbol.toStringTag in i)&&Ov.call(i)==="[object Arguments]"},MS=function(i){return!!fp(i)||i!==null&&typeof i=="object"&&typeof i.length=="number"&&i.length>=0&&Ov.call(i)!=="[object Array]"&&Ov.call(i.callee)==="[object Function]"},V2=function(){return fp(arguments)}(),fp.isLegacyArguments=MS,H2=V2?fp:MS,W2=Object.prototype.toString,G2=Function.prototype.toString,K2=/^\s*(?:function)?\*/,LS=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",FS=Object.getPrototypeOf,BS=function(){if(!LS)return!1;try{return Function("return function*() {}")()}catch{}}(),J2=BS?FS(BS):{},Y2=function(i){return typeof i=="function"&&(!!K2.test(G2.call(i))||(LS?FS(i)===J2:W2.call(i)==="[object GeneratorFunction]"))},X2=typeof Object.create=="function"?function(i,o){o&&(i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:function(i,o){if(o){i.super_=o;var s=function(){};s.prototype=o.prototype,i.prototype=new s,i.prototype.constructor=i}},US=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"},yr={},IU=US,Q2=H2,Z2=Y2,DT=typeof BigInt<"u",Ry=typeof Symbol<"u",Po=Ry&&Symbol.toStringTag!==void 0,no=typeof Uint8Array<"u",ej=typeof ArrayBuffer<"u",no&&Po)var e=Object.getPrototypeOf(Uint8Array.prototype),t=Tc(Object.getOwnPropertyDescriptor(e,Symbol.toStringTag).get);if(On=Tc(Object.prototype.toString),kU=Tc(Number.prototype.valueOf),CU=Tc(String.prototype.valueOf),jU=Tc(Boolean.prototype.valueOf),DT)var r=Tc(BigInt.prototype.valueOf);if(Ry)var n=Tc(Symbol.prototype.valueOf);yr.isArgumentsObject=Q2,yr.isGeneratorFunction=Z2,yr.isPromise=function(i){return typeof Promise<"u"&&i instanceof Promise||i!==null&&typeof i=="object"&&typeof i.then=="function"&&typeof i.catch=="function"},yr.isArrayBufferView=function(i){return ej&&ArrayBuffer.isView?ArrayBuffer.isView(i):k2(i)||j2(i)},yr.isTypedArray=k2,yr.isUint8Array=yU,yr.isUint8ClampedArray=wU,yr.isUint16Array=bU,yr.isUint32Array=_U,yr.isInt8Array=EU,yr.isInt16Array=SU,yr.isInt32Array=$U,yr.isFloat32Array=TU,yr.isFloat64Array=AU,yr.isBigInt64Array=xU,yr.isBigUint64Array=OU,Tv.working=typeof Map<"u"&&Tv(new Map),yr.isMap=function(i){return typeof Map<"u"&&(Tv.working?Tv(i):i instanceof Map)},Av.working=typeof Set<"u"&&Av(new Set),yr.isSet=function(i){return typeof Set<"u"&&(Av.working?Av(i):i instanceof Set)},xv.working=typeof WeakMap<"u"&&xv(new WeakMap),yr.isWeakMap=function(i){return typeof WeakMap<"u"&&(xv.working?xv(i):i instanceof WeakMap)},kS.working=typeof WeakSet<"u"&&kS(new WeakSet),yr.isWeakSet=function(i){return kS(i)},Ob.working=typeof ArrayBuffer<"u"&&Ob(new ArrayBuffer),yr.isArrayBuffer=C2,Pb.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Pb(new DataView(new ArrayBuffer(1),0,1)),yr.isDataView=j2,Rb.working=typeof SharedArrayBuffer<"u"&&Rb(new SharedArrayBuffer),yr.isSharedArrayBuffer=D2,yr.isAsyncFunction=function(i){return On(i)==="[object AsyncFunction]"},yr.isMapIterator=function(i){return On(i)==="[object Map Iterator]"},yr.isSetIterator=function(i){return On(i)==="[object Set Iterator]"},yr.isGeneratorObject=function(i){return On(i)==="[object Generator]"},yr.isWebAssemblyCompiledModule=function(i){return On(i)==="[object WebAssembly.Module]"},yr.isNumberObject=M2,yr.isStringObject=L2,yr.isBooleanObject=F2,yr.isBigIntObject=B2,yr.isSymbolObject=U2,yr.isBoxedPrimitive=function(i){return M2(i)||L2(i)||F2(i)||B2(i)||U2(i)},yr.isAnyArrayBuffer=function(i){return no&&(C2(i)||D2(i))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(i){Object.defineProperty(yr,i,{enumerable:!1,value:function(){throw new Error(i+" is not supported in userland")}})}),fd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ft={},qs=Tn,zS=Object.getOwnPropertyDescriptors||function(i){for(var o=Object.keys(i),s={},a=0;a<o.length;a++)s[o[a]]=Object.getOwnPropertyDescriptor(i,o[a]);return s},tj=/%[sdj%]/g,ft.format=function(i){if(!kb(i)){for(var o=[],s=0;s<arguments.length;s++)o.push(Ou(arguments[s]));return o.join(" ")}s=1;for(var a=arguments,l=a.length,u=String(i).replace(tj,function(c){if(c==="%%")return"%";if(s>=l)return c;switch(c){case"%s":return String(a[s++]);case"%d":return Number(a[s++]);case"%j":try{return JSON.stringify(a[s++])}catch{return"[Circular]"}default:return c}}),f=a[s];s<l;f=a[++s])Ib(f)||!ih(f)?u+=" "+f:u+=" "+Ou(f);return u},ft.deprecate=function(i,o){if(qs!==void 0&&qs.noDeprecation===!0)return i;if(qs===void 0)return function(){return ft.deprecate(i,o).apply(this||fd,arguments)};var s=!1;return function(){if(!s){if(qs.throwDeprecation)throw new Error(o);qs.traceDeprecation?console.trace(o):console.error(o),s=!0}return i.apply(this||fd,arguments)}},dp={},qS=/^$/,qs.env.NODE_DEBUG&&(Pv=qs.env.NODE_DEBUG,Pv=Pv.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),qS=new RegExp("^"+Pv+"$","i")),ft.debuglog=function(i){if(i=i.toUpperCase(),!dp[i])if(qS.test(i)){var o=qs.pid;dp[i]=function(){var s=ft.format.apply(ft,arguments);console.error("%s %d: %s",i,o,s)}}else dp[i]=function(){};return dp[i]},ft.inspect=Ou,Ou.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Ou.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},ft.types=yr,ft.isArray=PU,ft.isBoolean=BR,ft.isNull=Ib,ft.isNullOrUndefined=function(i){return i==null},ft.isNumber=RU,ft.isString=kb,ft.isSymbol=function(i){return typeof i=="symbol"},ft.isUndefined=rf,ft.isRegExp=am,ft.types.isRegExp=am,ft.isObject=ih,ft.isDate=Cb,ft.types.isDate=Cb,ft.isError=lm,ft.types.isNativeError=lm,ft.isFunction=Py,ft.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},ft.isBuffer=US,DU=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ft.log=function(){console.log("%s - %s",b7(),ft.format.apply(ft,arguments))},ft.inherits=X2,ft._extend=function(i,o){if(!o||!ih(o))return i;for(var s=Object.keys(o),a=s.length;a--;)i[s[a]]=o[s[a]];return i},su=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0,ft.promisify=function(i){if(typeof i!="function")throw new TypeError('The "original" argument must be of type Function');if(su&&i[su]){var o;if(typeof(o=i[su])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(o,su,{value:o,enumerable:!1,writable:!1,configurable:!0}),o}function o(){for(var s,a,l=new Promise(function(c,p){s=c,a=p}),u=[],f=0;f<arguments.length;f++)u.push(arguments[f]);u.push(function(c,p){c?a(c):s(p)});try{i.apply(this||fd,u)}catch(c){a(c)}return l}return Object.setPrototypeOf(o,Object.getPrototypeOf(i)),su&&Object.defineProperty(o,su,{value:o,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(o,zS(i))},ft.promisify.custom=su,ft.callbackify=function(i){if(typeof i!="function")throw new TypeError('The "original" argument must be of type Function');function o(){for(var s=[],a=0;a<arguments.length;a++)s.push(arguments[a]);var l=s.pop();if(typeof l!="function")throw new TypeError("The last argument must be of type Function");var u=this||fd,f=function(){return l.apply(u,arguments)};i.apply(this||fd,s).then(function(c){qs.nextTick(f.bind(null,null,c))},function(c){qs.nextTick(_7.bind(null,c,f))})}return Object.setPrototypeOf(o,Object.getPrototypeOf(i)),Object.defineProperties(o,zS(i)),o},ft._extend,ft.callbackify,ft.debuglog,ft.deprecate,ft.format,ft.inherits,ft.inspect,ft.isArray,ft.isBoolean,ft.isBuffer,ft.isDate,ft.isError,ft.isFunction,ft.isNull,ft.isNullOrUndefined,ft.isNumber,ft.isObject,ft.isPrimitive,ft.isRegExp,ft.isString,ft.isSymbol,ft.isUndefined,ft.log,ft.promisify,ft._extend,ft.callbackify,ft.debuglog,ft.deprecate,ft.format,ft.inherits,ft.inspect,ft.isArray,ft.isBoolean,ft.isBuffer,ft.isDate,ft.isError,ft.isFunction,ft.isNull,ft.isNullOrUndefined,ft.isNumber,ft.isObject,ft.isPrimitive,ft.isRegExp,ft.isString,ft.isSymbol,ft.isUndefined,ft.log,ft.promisify,ft.types}}),E7=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CbQqNoLO.js"(){Te(),_g(),ft._extend,ft.callbackify,ft.debuglog,ft.deprecate,ft.format,ft.inherits,ft.inspect,ft.isArray,ft.isBoolean,ft.isBuffer,ft.isDate,ft.isError,ft.isFunction,ft.isNull,ft.isNullOrUndefined,ft.isNumber,ft.isObject,ft.isPrimitive,ft.isRegExp,ft.isString,ft.isSymbol,ft.isUndefined,ft.log,ft.promisify,ft.types,ft.TextEncoder=globalThis.TextEncoder,ft.TextDecoder=globalThis.TextDecoder}});function zR(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function S7(){!gf||!of||(gf=!1,of.length?Ua=of.concat(Ua):cm=-1,Ua.length&&MU())}function MU(){if(!gf){var e=setTimeout(S7,0);gf=!0;for(var t=Ua.length;t;){for(of=Ua,Ua=[];++cm<t;)of&&of[cm].run();cm=-1,t=Ua.length}of=null,gf=!1,clearTimeout(e)}}function $7(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Ua.push(new LU(e,t)),Ua.length===1&&!gf&&setTimeout(MU,0)}function LU(e,t){this.fun=e,this.array=t}function ki(){}function T7(e){zR("_linkedBinding")}function A7(e){zR("dlopen")}function x7(){return[]}function O7(){return[]}function P7(e,t){if(!e)throw new Error(t||"assertion error")}function R7(){return!1}function N7(){return _l.now()/1e3}function VS(e){var t=Math.floor((Date.now()-_l.now())*.001),r=_l.now()*.001,n=Math.floor(r)+t,i=Math.floor(r%1*1e9);return e&&(n=n-e[0],i=i-e[1],i<0&&(n--,i+=Ny)),[n,i]}function au(){return di}function I7(e){return[]}var Ua,gf,of,cm,rj,nj,ij,oj,sj,aj,lj,uj,cj,fj,dj,hj,pj,mj,gj,vj,yj,wj,bj,_j,Ej,Rv,Sj,$j,Tj,Aj,xj,Oj,Pj,Rj,Nj,Ij,kj,Cj,jj,Dj,Mj,Lj,Fj,Bj,Uj,zj,qj,Vj,Hj,Wj,Gj,_l,vf,Ny,Kj,Jj,Yj,Xj,Qj,Zj,eD,tD,rD,nD,iD,di,Eg=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DEMDiNwt.js"(){Te(),Ua=[],gf=!1,cm=-1,LU.prototype.run=function(){this.fun.apply(null,this.array)},rj="browser",nj="x64",ij="browser",oj={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},sj=["/usr/bin/node"],aj=[],lj="v16.8.0",uj={},cj=function(e,t){console.warn((t?t+": ":"")+e)},fj=function(e){zR("binding")},dj=function(e){return 0},hj=function(){return"/"},pj=function(e){},mj={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},gj=ki,vj=[],yj={},wj=!1,bj={},_j=ki,Ej=ki,Rv=function(){return{}},Sj=Rv,$j=Rv,Tj=ki,Aj=ki,xj=ki,Oj={},Pj={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Rj=ki,Nj=ki,Ij=ki,kj=ki,Cj=ki,jj=ki,Dj=ki,Mj=void 0,Lj=void 0,Fj=void 0,Bj=ki,Uj=2,zj=1,qj="/bin/usr/node",Vj=9229,Hj="node",Wj=[],Gj=ki,_l={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},_l.now===void 0&&(vf=Date.now(),_l.timing&&_l.timing.navigationStart&&(vf=_l.timing.navigationStart),_l.now=()=>Date.now()-vf),Ny=1e9,VS.bigint=function(e){var t=VS(e);return typeof BigInt>"u"?t[0]*Ny+t[1]:BigInt(t[0]*Ny)+BigInt(t[1])},Kj=10,Jj={},Yj=0,Xj=au,Qj=au,Zj=au,eD=au,tD=au,rD=ki,nD=au,iD=au,di={version:lj,versions:uj,arch:nj,platform:ij,release:mj,_rawDebug:gj,moduleLoadList:vj,binding:fj,_linkedBinding:T7,_events:Jj,_eventsCount:Yj,_maxListeners:Kj,on:au,addListener:Xj,once:Qj,off:Zj,removeListener:eD,removeAllListeners:tD,emit:rD,prependListener:nD,prependOnceListener:iD,listeners:I7,domain:yj,_exiting:wj,config:bj,dlopen:A7,uptime:N7,_getActiveRequests:x7,_getActiveHandles:O7,reallyExit:_j,_kill:Ej,cpuUsage:Rv,resourceUsage:Sj,memoryUsage:$j,kill:Tj,exit:Aj,openStdin:xj,allowedNodeEnvironmentFlags:Oj,assert:P7,features:Pj,_fatalExceptions:Rj,setUncaughtExceptionCaptureCallback:Nj,hasUncaughtExceptionCaptureCallback:R7,emitWarning:cj,nextTick:$7,_tickCallback:Ij,_debugProcess:kj,_debugEnd:Cj,_startProfilerIdleNotifier:jj,_stopProfilerIdleNotifier:Dj,stdout:Mj,stdin:Fj,stderr:Lj,abort:Bj,umask:dj,chdir:pj,cwd:hj,env:oj,title:rj,argv:sj,execArgv:aj,pid:Uj,ppid:zj,execPath:qj,debugPort:Vj,hrtime:VS,argv0:Hj,_preload_modules:Wj,setSourceMapsEnabled:Gj}}});function k7(){if(MT)return Iy;MT=!0,Iy=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function o(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this||ky,arguments)}return o}function t(r){try{if(!ky.localStorage)return!1}catch{return!1}var n=ky.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Iy}var Iy,MT,ky,C7=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-BsRZ0PEC.js"(){Te(),Iy={},MT=!1,ky=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global}});function j7(){if(LT)return $d;LT=!0;var e=No(),t=e.Buffer;function r(i,o){for(var s in i)o[s]=i[s]}t.from&&t.alloc&&t.allocUnsafe&&t.allocUnsafeSlow?$d=e:(r(e,$d),$d.Buffer=n);function n(i,o,s){return t(i,o,s)}return n.prototype=Object.create(t.prototype),r(t,n),n.from=function(i,o,s){if(typeof i=="number")throw new TypeError("Argument must not be a number");return t(i,o,s)},n.alloc=function(i,o,s){if(typeof i!="number")throw new TypeError("Argument must be a number");var a=t(i);return o!==void 0?typeof s=="string"?a.fill(o,s):a.fill(o):a.fill(0),a},n.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return t(i)},n.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(i)},$d}function D7(){if(FT)return Cy;FT=!0;var e=j7().Buffer,t=e.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(h){if(!h)return"utf8";for(var E;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(E)return;h=(""+h).toLowerCase(),E=!0}}function n(h){var E=r(h);if(typeof E!="string"&&(e.isEncoding===t||!t(h)))throw new Error("Unknown encoding: "+h);return E||h}Cy.StringDecoder=i;function i(h){this.encoding=n(h);var E;switch(this.encoding){case"utf16le":this.text=c,this.end=p,E=4;break;case"utf8":this.fillLast=l,E=4;break;case"base64":this.text=m,this.end=g,E=3;break;default:this.write=_,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(E)}i.prototype.write=function(h){if(h.length===0)return"";var E,y;if(this.lastNeed){if(E=this.fillLast(h),E===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<h.length?E?E+this.text(h,y):this.text(h,y):E||""},i.prototype.end=f,i.prototype.text=u,i.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function o(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function s(h,E,y){var S=E.length-1;if(S<y)return 0;var $=o(E[S]);return $>=0?($>0&&(h.lastNeed=$-1),$):--S<y||$===-2?0:($=o(E[S]),$>=0?($>0&&(h.lastNeed=$-2),$):--S<y||$===-2?0:($=o(E[S]),$>=0?($>0&&($===2?$=0:h.lastNeed=$-3),$):0))}function a(h,E,y){if((E[0]&192)!==128)return h.lastNeed=0,"�";if(h.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return h.lastNeed=1,"�";if(h.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return h.lastNeed=2,"�"}}function l(h){var E=this.lastTotal-this.lastNeed,y=a(this,h);if(y!==void 0)return y;if(this.lastNeed<=h.length)return h.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,E,0,h.length),this.lastNeed-=h.length}function u(h,E){var y=s(this,h,E);if(!this.lastNeed)return h.toString("utf8",E);this.lastTotal=y;var S=h.length-(y-this.lastNeed);return h.copy(this.lastChar,0,S),h.toString("utf8",E,S)}function f(h){var E=h&&h.length?this.write(h):"";return this.lastNeed?E+"�":E}function c(h,E){if((h.length-E)%2===0){var y=h.toString("utf16le",E);if(y){var S=y.charCodeAt(y.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",E,h.length-1)}function p(h){var E=h&&h.length?this.write(h):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,y)}return E}function m(h,E){var y=(h.length-E)%3;return y===0?h.toString("base64",E):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",E,h.length-y))}function g(h){var E=h&&h.length?this.write(h):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function _(h){return h.toString(this.encoding)}function v(h){return h&&h.length?this.write(h):""}return Cy}var $d,LT,Cy,FT,oh,FU=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js"(){Te(),q_(),$d={},LT=!1,Cy={},FT=!1,oh=D7(),oh.StringDecoder,oh.StringDecoder}});function M7(){if(BT)return jy;BT=!0;var e=jy={},t,r;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=i}catch{r=i}})();function o(_){if(t===setTimeout)return setTimeout(_,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(_,0);try{return t(_,0)}catch{try{return t.call(null,_,0)}catch{return t.call(this||qc,_,0)}}}function s(_){if(r===clearTimeout)return clearTimeout(_);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(_);try{return r(_)}catch{try{return r.call(null,_)}catch{return r.call(this||qc,_)}}}var a=[],l=!1,u,f=-1;function c(){!l||!u||(l=!1,u.length?a=u.concat(a):f=-1,a.length&&p())}function p(){if(!l){var _=o(c);l=!0;for(var v=a.length;v;){for(u=a,a=[];++f<v;)u&&u[f].run();f=-1,v=a.length}u=null,l=!1,s(_)}}e.nextTick=function(_){var v=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)v[h-1]=arguments[h];a.push(new m(_,v)),a.length===1&&!l&&o(p)};function m(_,v){(this||qc).fun=_,(this||qc).array=v}m.prototype.run=function(){(this||qc).fun.apply(null,(this||qc).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function g(){}return e.on=g,e.addListener=g,e.once=g,e.off=g,e.removeListener=g,e.removeAllListeners=g,e.emit=g,e.prependListener=g,e.prependOnceListener=g,e.listeners=function(_){return[]},e.binding=function(_){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(_){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},jy}var jy,BT,qc,Hr,J_=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-b0rmRow7.js"(){Te(),jy={},BT=!1,qc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Hr=M7(),Hr.platform="browser",Hr.addListener,Hr.argv,Hr.binding,Hr.browser,Hr.chdir,Hr.cwd,Hr.emit,Hr.env,Hr.listeners,Hr.nextTick,Hr.off,Hr.on,Hr.once,Hr.prependListener,Hr.prependOnceListener,Hr.removeAllListeners,Hr.removeListener,Hr.title,Hr.umask,Hr.version,Hr.versions}});function L7(){if(UT)return Dy;UT=!0;var e=Hr;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",l=0,u=-1,f=0,c,p=0;p<=o.length;++p){if(p<o.length)c=o.charCodeAt(p);else{if(c===47)break;c=47}if(c===47){if(!(u===p-1||f===1))if(u!==p-1&&f===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var m=a.lastIndexOf("/");if(m!==a.length-1){m===-1?(a="",l=0):(a=a.slice(0,m),l=a.length-1-a.lastIndexOf("/")),u=p,f=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=p,f=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+o.slice(u+1,p):a=o.slice(u+1,p),l=p-u-1;u=p,f=0}else c===46&&f!==-1?++f:f=-1}return a}function n(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var i={resolve:function(){for(var s="",a=!1,l,u=arguments.length-1;u>=-1&&!a;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(s=f+"/"+s,a=f.charCodeAt(0)===47)}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(t(s),s.length===0)return".";var a=s.charCodeAt(0)===47,l=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&l&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return t(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,a=0;a<arguments.length;++a){var l=arguments[a];t(l),l.length>0&&(s===void 0?s=l:s+="/"+l)}return s===void 0?".":i.normalize(s)},relative:function(s,a){if(t(s),t(a),s===a||(s=i.resolve(s),a=i.resolve(a),s===a))return"";for(var l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var u=s.length,f=u-l,c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var p=a.length,m=p-c,g=f<m?f:m,_=-1,v=0;v<=g;++v){if(v===g){if(m>g){if(a.charCodeAt(c+v)===47)return a.slice(c+v+1);if(v===0)return a.slice(c+v)}else f>g&&(s.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var h=s.charCodeAt(l+v),E=a.charCodeAt(c+v);if(h!==E)break;h===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||s.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+a.slice(c+_):(c+=_,a.charCodeAt(c)===47&&++c,a.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(t(s),s.length===0)return".";for(var a=s.charCodeAt(0),l=a===47,u=-1,f=!0,c=s.length-1;c>=1;--c)if(a=s.charCodeAt(c),a===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":s.slice(0,u)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');t(s);var l=0,u=-1,f=!0,c;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return"";var p=a.length-1,m=-1;for(c=s.length-1;c>=0;--c){var g=s.charCodeAt(c);if(g===47){if(!f){l=c+1;break}}else m===-1&&(f=!1,m=c+1),p>=0&&(g===a.charCodeAt(p)?--p===-1&&(u=c):(p=-1,u=m))}return l===u?u=m:u===-1&&(u=s.length),s.slice(l,u)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":s.slice(l,u)}},extname:function(s){t(s);for(var a=-1,l=0,u=-1,f=!0,c=0,p=s.length-1;p>=0;--p){var m=s.charCodeAt(p);if(m===47){if(!f){l=p+1;break}continue}u===-1&&(f=!1,u=p+1),m===46?a===-1?a=p:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||u===-1||c===0||c===1&&a===u-1&&a===l+1?"":s.slice(a,u)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){t(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var l=s.charCodeAt(0),u=l===47,f;u?(a.root="/",f=1):f=0;for(var c=-1,p=0,m=-1,g=!0,_=s.length-1,v=0;_>=f;--_){if(l=s.charCodeAt(_),l===47){if(!g){p=_+1;break}continue}m===-1&&(g=!1,m=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||m===-1||v===0||v===1&&c===m-1&&c===p+1?m!==-1&&(p===0&&u?a.base=a.name=s.slice(1,m):a.base=a.name=s.slice(p,m)):(p===0&&u?(a.name=s.slice(1,c),a.base=s.slice(1,m)):(a.name=s.slice(p,c),a.base=s.slice(p,m)),a.ext=s.slice(c,m)),p>0?a.dir=s.slice(0,p-1):u&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Dy=i,Dy}function Ac(e){throw new RangeError(UU[e])}function oD(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]);const i=function(o,s){const a=[];let l=o.length;for(;l--;)a[l]=s(o[l]);return a}((e=e.replace(BU,".")).split("."),t).join(".");return n+i}function sD(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=e.charCodeAt(r++);(64512&o)==56320?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}function F7(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function fs(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function hp(e,t,r){if(e&&Gs.isObject(e)&&e instanceof fs)return e;var n=new fs;return n.parse(e,t,r),n}function B7(){if(qT)return My;qT=!0;var e=Tn;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",l=0,u=-1,f=0,c,p=0;p<=o.length;++p){if(p<o.length)c=o.charCodeAt(p);else{if(c===47)break;c=47}if(c===47){if(!(u===p-1||f===1))if(u!==p-1&&f===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var m=a.lastIndexOf("/");if(m!==a.length-1){m===-1?(a="",l=0):(a=a.slice(0,m),l=a.length-1-a.lastIndexOf("/")),u=p,f=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=p,f=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+o.slice(u+1,p):a=o.slice(u+1,p),l=p-u-1;u=p,f=0}else c===46&&f!==-1?++f:f=-1}return a}function n(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var i={resolve:function(){for(var s="",a=!1,l,u=arguments.length-1;u>=-1&&!a;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(s=f+"/"+s,a=f.charCodeAt(0)===47)}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(t(s),s.length===0)return".";var a=s.charCodeAt(0)===47,l=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&l&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return t(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,a=0;a<arguments.length;++a){var l=arguments[a];t(l),l.length>0&&(s===void 0?s=l:s+="/"+l)}return s===void 0?".":i.normalize(s)},relative:function(s,a){if(t(s),t(a),s===a||(s=i.resolve(s),a=i.resolve(a),s===a))return"";for(var l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var u=s.length,f=u-l,c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var p=a.length,m=p-c,g=f<m?f:m,_=-1,v=0;v<=g;++v){if(v===g){if(m>g){if(a.charCodeAt(c+v)===47)return a.slice(c+v+1);if(v===0)return a.slice(c+v)}else f>g&&(s.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var h=s.charCodeAt(l+v),E=a.charCodeAt(c+v);if(h!==E)break;h===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||s.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+a.slice(c+_):(c+=_,a.charCodeAt(c)===47&&++c,a.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(t(s),s.length===0)return".";for(var a=s.charCodeAt(0),l=a===47,u=-1,f=!0,c=s.length-1;c>=1;--c)if(a=s.charCodeAt(c),a===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":s.slice(0,u)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');t(s);var l=0,u=-1,f=!0,c;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return"";var p=a.length-1,m=-1;for(c=s.length-1;c>=0;--c){var g=s.charCodeAt(c);if(g===47){if(!f){l=c+1;break}}else m===-1&&(f=!1,m=c+1),p>=0&&(g===a.charCodeAt(p)?--p===-1&&(u=c):(p=-1,u=m))}return l===u?u=m:u===-1&&(u=s.length),s.slice(l,u)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":s.slice(l,u)}},extname:function(s){t(s);for(var a=-1,l=0,u=-1,f=!0,c=0,p=s.length-1;p>=0;--p){var m=s.charCodeAt(p);if(m===47){if(!f){l=p+1;break}continue}u===-1&&(f=!1,u=p+1),m===46?a===-1?a=p:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||u===-1||c===0||c===1&&a===u-1&&a===l+1?"":s.slice(a,u)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){t(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var l=s.charCodeAt(0),u=l===47,f;u?(a.root="/",f=1):f=0;for(var c=-1,p=0,m=-1,g=!0,_=s.length-1,v=0;_>=f;--_){if(l=s.charCodeAt(_),l===47){if(!g){p=_+1;break}continue}m===-1&&(g=!1,m=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||m===-1||v===0||v===1&&c===m-1&&c===p+1?m!==-1&&(p===0&&u?a.base=a.name=s.slice(1,m):a.base=a.name=s.slice(p,m)):(p===0&&u?(a.name=s.slice(1,c),a.base=s.slice(1,m)):(a.name=s.slice(p,c),a.base=s.slice(p,m)),a.ext=s.slice(c,m)),p>0?a.dir=s.slice(0,p-1):u&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,My=i,My}function U7(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return jb?z7(e):q7(e)}function z7(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(WU,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<VU||n>HU||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function q7(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function V7(e){let t=VT.resolve(e);const r=e.charCodeAt(e.length-1);(r===qU||jb&&r===zU)&&t[t.length-1]!==VT.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(GU,"%25")),!jb&&t.includes("\\")&&(t=t.replace(KU,"%5C")),t.includes(`
`)&&(t=t.replace(JU,"%0A")),t.includes("\r")&&(t=t.replace(YU,"%0D")),t.includes("	")&&(t=t.replace(XU,"%09")),n.pathname=t,n}function H7(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Db?W7(e):G7(e)}function W7(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(rz,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<ez||n>tz||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function G7(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function K7(e){let t=zT.resolve(e);const r=e.charCodeAt(e.length-1);(r===ZU||Db&&r===QU)&&t[t.length-1]!==zT.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(nz,"%25")),!Db&&t.includes("\\")&&(t=t.replace(iz,"%5C")),t.includes(`
`)&&(t=t.replace(oz,"%0A")),t.includes("\r")&&(t=t.replace(sz,"%0D")),t.includes("	")&&(t=t.replace(az,"%09")),n.pathname=t,n}var Dy,UT,zT,xc,aD,lD,BU,UU,Vs,Nv,HS,WS,GS,KS,uD,cD,dd,fD,Sa,Jr,dD,Gs,hD,pD,mD,gD,Iv,JS,YS,XS,vD,yD,kv,Oc,Cv,My,qT,VT,wD,zU,qU,VU,HU,jb,WU,GU,KU,JU,YU,XU,bD,QU,ZU,ez,tz,Db,rz,nz,iz,oz,sz,az,lz=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DHWh-hmB.js"(){Te(),_g(),J_(),Dy={},UT=!1,zT=L7(),xc=2147483647,aD=/^xn--/,lD=/[^\0-\x7E]/,BU=/[\x2E\u3002\uFF0E\uFF61]/g,UU={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Vs=Math.floor,Nv=String.fromCharCode,HS=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},WS=function(e,t,r){let n=0;for(e=r?Vs(e/700):e>>1,e+=Vs(e/t);e>455;n+=36)e=Vs(e/35);return Vs(n+36*e/(e+38))},GS=function(e){const t=[],r=e.length;let n=0,i=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(let l=0;l<s;++l)e.charCodeAt(l)>=128&&Ac("not-basic"),t.push(e.charCodeAt(l));for(let l=s>0?s+1:0;l<r;){let u=n;for(let c=1,p=36;;p+=36){l>=r&&Ac("invalid-input");const m=(a=e.charCodeAt(l++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(m>=36||m>Vs((xc-n)/c))&&Ac("overflow"),n+=m*c;const g=p<=o?1:p>=o+26?26:p-o;if(m<g)break;const _=36-g;c>Vs(xc/_)&&Ac("overflow"),c*=_}const f=t.length+1;o=WS(n-u,f,u==0),Vs(n/f)>xc-i&&Ac("overflow"),i+=Vs(n/f),n%=f,t.splice(n++,0,i)}var a;return String.fromCodePoint(...t)},KS=function(e){const t=[];let r=(e=sD(e)).length,n=128,i=0,o=72;for(const l of e)l<128&&t.push(Nv(l));let s=t.length,a=s;for(s&&t.push("-");a<r;){let l=xc;for(const f of e)f>=n&&f<l&&(l=f);const u=a+1;l-n>Vs((xc-i)/u)&&Ac("overflow"),i+=(l-n)*u,n=l;for(const f of e)if(f<n&&++i>xc&&Ac("overflow"),f==n){let c=i;for(let p=36;;p+=36){const m=p<=o?1:p>=o+26?26:p-o;if(c<m)break;const g=c-m,_=36-m;t.push(Nv(HS(m+g%_,0))),c=Vs(g/_)}t.push(Nv(HS(c,0))),o=WS(i,u,a==s),i=0,++a}++i,++n}return t.join("")},uD={version:"2.1.0",ucs2:{decode:sD,encode:e=>String.fromCodePoint(...e)},decode:GS,encode:KS,toASCII:function(e){return oD(e,function(t){return lD.test(t)?"xn--"+KS(t):t})},toUnicode:function(e){return oD(e,function(t){return aD.test(t)?GS(t.slice(4).toLowerCase()):t})}},cD=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var s=1e3;n&&typeof n.maxKeys=="number"&&(s=n.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var u,f,c,p,m=e[l].replace(o,"%20"),g=m.indexOf(r);g>=0?(u=m.substr(0,g),f=m.substr(g+1)):(u=m,f=""),c=decodeURIComponent(u),p=decodeURIComponent(f),F7(i,c)?Array.isArray(i[c])?i[c].push(p):i[c]=[i[c],p]:i[c]=p}return i},dd=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},fD=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(dd(i))+r;return Array.isArray(e[i])?e[i].map(function(s){return o+encodeURIComponent(dd(s))}).join(t):o+encodeURIComponent(dd(e[i]))}).join(t):n?encodeURIComponent(dd(n))+r+encodeURIComponent(dd(e)):""},Sa={},Sa.decode=Sa.parse=cD,Sa.encode=Sa.stringify=fD,Sa.decode,Sa.encode,Sa.parse,Sa.stringify,Jr={},dD=uD,Gs={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Jr.parse=hp,Jr.resolve=function(e,t){return hp(e,!1,!0).resolve(t)},Jr.resolveObject=function(e,t){return e?hp(e,!1,!0).resolveObject(t):t},Jr.format=function(e){return Gs.isString(e)&&(e=hp(e)),e instanceof fs?e.format():fs.prototype.format.call(e)},Jr.Url=fs,hD=/^([a-z0-9.+-]+:)/i,pD=/:[0-9]*$/,mD=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,gD=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Iv=["'"].concat(gD),JS=["%","/","?",";","#"].concat(Iv),YS=["/","?","#"],XS=/^[+a-z0-9A-Z_-]{0,63}$/,vD=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,yD={javascript:!0,"javascript:":!0},kv={javascript:!0,"javascript:":!0},Oc={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Cv=Sa,fs.prototype.parse=function(e,t,r){if(!Gs.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(i);if(s=s.trim(),!r&&e.split("#").length===1){var a=mD.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?Cv.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=hD.exec(s);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=s.substr(0,2)==="//";!f||l&&kv[l]||(s=s.substr(2),this.slashes=!0)}if(!kv[l]&&(f||l&&!Oc[l])){for(var c,p,m=-1,g=0;g<YS.length;g++)(_=s.indexOf(YS[g]))!==-1&&(m===-1||_<m)&&(m=_);for((p=m===-1?s.lastIndexOf("@"):s.lastIndexOf("@",m))!==-1&&(c=s.slice(0,p),s=s.slice(p+1),this.auth=decodeURIComponent(c)),m=-1,g=0;g<JS.length;g++){var _;(_=s.indexOf(JS[g]))!==-1&&(m===-1||_<m)&&(m=_)}m===-1&&(m=s.length),this.host=s.slice(0,m),s=s.slice(m),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var h=this.hostname.split(/\./),E=(g=0,h.length);g<E;g++){var y=h[g];if(y&&!y.match(XS)){for(var S="",$=0,T=y.length;$<T;$++)y.charCodeAt($)>127?S+="x":S+=y[$];if(!S.match(XS)){var d=h.slice(0,g),A=h.slice(g+1),x=y.match(vD);x&&(d.push(x[1]),A.unshift(x[2])),A.length&&(s="/"+A.join(".")+s),this.hostname=d.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=dD.toASCII(this.hostname));var O=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+O,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!yD[u])for(g=0,E=Iv.length;g<E;g++){var F=Iv[g];if(s.indexOf(F)!==-1){var V=encodeURIComponent(F);V===F&&(V=escape(F)),s=s.split(F).join(V)}}var Q=s.indexOf("#");Q!==-1&&(this.hash=s.substr(Q),s=s.slice(0,Q));var H=s.indexOf("?");if(H!==-1?(this.search=s.substr(H),this.query=s.substr(H+1),t&&(this.query=Cv.parse(this.query)),s=s.slice(0,H)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Oc[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){O=this.pathname||"";var X=this.search||"";this.path=O+X}return this.href=this.format(),this},fs.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Gs.isObject(this.query)&&Object.keys(this.query).length&&(o=Cv.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Oc[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),t+i+(r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(s=s.replace("#","%23"))+n},fs.prototype.resolve=function(e){return this.resolveObject(hp(e,!1,!0)).format()},fs.prototype.resolveObject=function(e){if(Gs.isString(e)){var t=new fs;t.parse(e,!1,!0),e=t}for(var r=new fs,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var l=s[a];l!=="protocol"&&(r[l]=e[l])}return Oc[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Oc[e.protocol]){for(var u=Object.keys(e),f=0;f<u.length;f++){var c=u[f];r[c]=e[c]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||kv[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),p[0]!==""&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",v=e.host||e.pathname&&e.pathname.charAt(0)==="/",h=v||_||r.host&&e.pathname,E=h,y=r.pathname&&r.pathname.split("/")||[],S=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!Oc[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(p[0]===""?p[0]=e.host:p.unshift(e.host)),e.host=null),h=h&&(p[0]===""||y[0]==="")),v)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,y=p;else if(p.length)y||(y=[]),y.pop(),y=y.concat(p),r.search=e.search,r.query=e.query;else if(!Gs.isNullOrUndefined(e.search))return S&&(r.hostname=r.host=y.shift(),(x=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=x.shift(),r.host=r.hostname=x.shift())),r.search=e.search,r.query=e.query,Gs.isNull(r.pathname)&&Gs.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var $=y.slice(-1)[0],T=(r.host||e.host||y.length>1)&&($==="."||$==="..")||$==="",d=0,A=y.length;A>=0;A--)($=y[A])==="."?y.splice(A,1):$===".."?(y.splice(A,1),d++):d&&(y.splice(A,1),d--);if(!h&&!E)for(;d--;d)y.unshift("..");!h||y[0]===""||y[0]&&y[0].charAt(0)==="/"||y.unshift(""),T&&y.join("/").substr(-1)!=="/"&&y.push("");var x,O=y[0]===""||y[0]&&y[0].charAt(0)==="/";return S&&(r.hostname=r.host=O?"":y.length?y.shift():"",(x=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=x.shift(),r.host=r.hostname=x.shift())),(h=h||r.host&&y.length)&&!O&&y.unshift(""),y.length?r.pathname=y.join("/"):(r.pathname=null,r.path=null),Gs.isNull(r.pathname)&&Gs.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},fs.prototype.parseHost=function(){var e=this.host,t=pD.exec(e);t&&((t=t[0])!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},Jr.Url,Jr.format,Jr.resolve,Jr.resolveObject,My={},qT=!1,VT=B7(),wD=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Jr.URL=typeof URL<"u"?URL:null,Jr.pathToFileURL=V7,Jr.fileURLToPath=U7,Jr.Url,Jr.format,Jr.resolve,Jr.resolveObject,Jr.URL,zU=92,qU=47,VU=97,HU=122,jb=wD==="win32",WU=/\//g,GU=/%/g,KU=/\\/g,JU=/\n/g,YU=/\r/g,XU=/\t/g,bD=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Jr.URL=typeof URL<"u"?URL:null,Jr.pathToFileURL=K7,Jr.fileURLToPath=H7,Jr.Url,Jr.format,Jr.resolve,Jr.resolveObject,Jr.parse,Jr.URL,QU=92,ZU=47,ez=97,tz=122,Db=bD==="win32",rz=/\//g,nz=/%/g,iz=/\\/g,oz=/\n/g,sz=/\r/g,az=/\t/g}}),Y_={};rl(Y_,{Agent:()=>wz,ClientRequest:()=>bz,IncomingMessage:()=>_z,METHODS:()=>Ez,STATUS_CODES:()=>Sz,default:()=>Oa,get:()=>$z,globalAgent:()=>Tz,request:()=>Az});function uz(){if(HT)return mo;HT=!0,mo.fetch=n(gu.fetch)&&n(gu.ReadableStream),mo.writableStream=n(gu.WritableStream),mo.abortController=n(gu.AbortController);var e;function t(){if(e!==void 0)return e;if(gu.XMLHttpRequest){e=new gu.XMLHttpRequest;try{e.open("GET",gu.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function r(i){var o=t();if(!o)return!1;try{return o.responseType=i,o.responseType===i}catch{}return!1}mo.arraybuffer=mo.fetch||r("arraybuffer"),mo.msstream=!mo.fetch&&r("ms-stream"),mo.mozchunkedarraybuffer=!mo.fetch&&r("moz-chunked-arraybuffer"),mo.overrideMimeType=mo.fetch||(t()?n(t().overrideMimeType):!1);function n(i){return typeof i=="function"}return e=null,mo}function cz(){return WT||(WT=!0,Ly=Yi.EventEmitter),Ly}function J7(){if(GT)return Fy;GT=!0;function e(g,_){var v=Object.keys(g);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(g);_&&(h=h.filter(function(E){return Object.getOwnPropertyDescriptor(g,E).enumerable})),v.push.apply(v,h)}return v}function t(g){for(var _=1;_<arguments.length;_++){var v=arguments[_]!=null?arguments[_]:{};_%2?e(Object(v),!0).forEach(function(h){r(g,h,v[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):e(Object(v)).forEach(function(h){Object.defineProperty(g,h,Object.getOwnPropertyDescriptor(v,h))})}return g}function r(g,_,v){return _=s(_),_ in g?Object.defineProperty(g,_,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[_]=v,g}function n(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function i(g,_){for(var v=0;v<_.length;v++){var h=_[v];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(g,s(h.key),h)}}function o(g,_,v){return _&&i(g.prototype,_),Object.defineProperty(g,"prototype",{writable:!1}),g}function s(g){var _=a(g,"string");return typeof _=="symbol"?_:String(_)}function a(g,_){if(typeof g!="object"||g===null)return g;var v=g[Symbol.toPrimitive];if(v!==void 0){var h=v.call(g,_);if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}var l=No(),u=l.Buffer,f=ft,c=f.inspect,p=c&&c.custom||"inspect";function m(g,_,v){u.prototype.copy.call(g,_,v)}return Fy=function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return o(g,[{key:"push",value:function(v){var h={data:v,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(v){var h={data:v,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var h=this.head,E=""+h.data;h=h.next;)E+=v+h.data;return E}},{key:"concat",value:function(v){if(this.length===0)return u.alloc(0);for(var h=u.allocUnsafe(v>>>0),E=this.head,y=0;E;)m(E.data,h,y),y+=E.data.length,E=E.next;return h}},{key:"consume",value:function(v,h){var E;return v<this.head.data.length?(E=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?E=this.shift():E=h?this._getString(v):this._getBuffer(v),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var h=this.head,E=1,y=h.data;for(v-=y.length;h=h.next;){var S=h.data,$=v>S.length?S.length:v;if($===S.length?y+=S:y+=S.slice(0,v),v-=$,v===0){$===S.length?(++E,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=S.slice($));break}++E}return this.length-=E,y}},{key:"_getBuffer",value:function(v){var h=u.allocUnsafe(v),E=this.head,y=1;for(E.data.copy(h),v-=E.data.length;E=E.next;){var S=E.data,$=v>S.length?S.length:v;if(S.copy(h,h.length-v,0,$),v-=$,v===0){$===S.length?(++y,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=S.slice($));break}++y}return this.length-=y,h}},{key:p,value:function(v,h){return c(this,t(t({},h),{},{depth:0,customInspect:!1}))}}]),g}(),Fy}function fz(){if(KT)return By;KT=!0;var e=di;function t(a,l){var u=this,f=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return f||c?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,a)):e.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(p){!l&&p?u._writableState?u._writableState.errorEmitted?e.nextTick(n,u):(u._writableState.errorEmitted=!0,e.nextTick(r,u,p)):e.nextTick(r,u,p):l?(e.nextTick(n,u),l(p)):e.nextTick(n,u)}),this)}function r(a,l){o(a,l),n(a)}function n(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(a,l){a.emit("error",l)}function s(a,l){var u=a._readableState,f=a._writableState;u&&u.autoDestroy||f&&f.autoDestroy?a.destroy(l):a.emit("error",l)}return By={destroy:t,undestroy:i,errorOrDestroy:s},By}function Fh(){if(JT)return Uy;JT=!0;const e={};function t(s,a,l){l||(l=Error);function u(c,p,m){return typeof a=="string"?a:a(c,p,m)}class f extends l{constructor(p,m,g){super(u(p,m,g))}}f.prototype.name=l.name,f.prototype.code=s,e[s]=f}function r(s,a){if(Array.isArray(s)){const l=s.length;return s=s.map(u=>String(u)),l>2?`one of ${a} ${s.slice(0,l-1).join(", ")}, or `+s[l-1]:l===2?`one of ${a} ${s[0]} or ${s[1]}`:`of ${a} ${s[0]}`}else return`of ${a} ${String(s)}`}function n(s,a,l){return s.substr(0,a.length)===a}function i(s,a,l){return(l===void 0||l>s.length)&&(l=s.length),s.substring(l-a.length,l)===a}function o(s,a,l){return typeof l!="number"&&(l=0),l+a.length>s.length?!1:s.indexOf(a,l)!==-1}return t("ERR_INVALID_OPT_VALUE",function(s,a){return'The value "'+a+'" is invalid for option "'+s+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(s,a,l){let u;typeof a=="string"&&n(a,"not ")?(u="must not be",a=a.replace(/^not /,"")):u="must be";let f;if(i(s," argument"))f=`The ${s} ${u} ${r(a,"type")}`;else{const c=o(s,".")?"property":"argument";f=`The "${s}" ${c} ${u} ${r(a,"type")}`}return f+=`. Received type ${typeof l}`,f},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Uy.codes=e,Uy}function dz(){if(YT)return zy;YT=!0;var e=Fh().codes.ERR_INVALID_OPT_VALUE;function t(n,i,o){return n.highWaterMark!=null?n.highWaterMark:i?n[o]:null}function r(n,i,o,s){var a=t(i,s,o);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var l=s?o:"highWaterMark";throw new e(l,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return zy={getHighWaterMark:r},zy}function hz(){if(XT)return qy;XT=!0;var e=di;qy=x;function t(J){var Y=this;this.next=null,this.entry=null,this.finish=function(){ie(Y,J)}}var r;x.WritableState=d;var n={deprecate:k7()},i=cz(),o=No().Buffer,s=(typeof QT<"u"?QT:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(J){return o.from(J)}function l(J){return o.isBuffer(J)||J instanceof s}var u=fz(),f=dz(),c=f.getHighWaterMark,p=Fh().codes,m=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,_=p.ERR_MULTIPLE_CALLBACK,v=p.ERR_STREAM_CANNOT_PIPE,h=p.ERR_STREAM_DESTROYED,E=p.ERR_STREAM_NULL_VALUES,y=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING,$=u.errorOrDestroy;sc()(x,i);function T(){}function d(J,Y,se){r=r||Th(),J=J||{},typeof se!="boolean"&&(se=Y instanceof r),this.objectMode=!!J.objectMode,se&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=c(this,J,"writableHighWaterMark",se),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var be=J.decodeStrings===!1;this.decodeStrings=!be,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Pe){fe(Y,Pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}d.prototype.getBuffer=function(){for(var Y=this.bufferedRequest,se=[];Y;)se.push(Y),Y=Y.next;return se},function(){try{Object.defineProperty(d.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var A;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(Y){return A.call(this,Y)?!0:this!==x?!1:Y&&Y._writableState instanceof d}})):A=function(Y){return Y instanceof this};function x(J){r=r||Th();var Y=this instanceof r;if(!Y&&!A.call(x,this))return new x(J);this._writableState=new d(J,this,Y),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),i.call(this)}x.prototype.pipe=function(){$(this,new v)};function O(J,Y){var se=new y;$(J,se),e.nextTick(Y,se)}function D(J,Y,se,be){var Pe;return se===null?Pe=new E:typeof se!="string"&&!Y.objectMode&&(Pe=new m("chunk",["string","Buffer"],se)),Pe?($(J,Pe),e.nextTick(be,Pe),!1):!0}x.prototype.write=function(J,Y,se){var be=this._writableState,Pe=!1,R=!be.objectMode&&l(J);return R&&!o.isBuffer(J)&&(J=a(J)),typeof Y=="function"&&(se=Y,Y=null),R?Y="buffer":Y||(Y=be.defaultEncoding),typeof se!="function"&&(se=T),be.ending?O(this,se):(R||D(this,be,J,se))&&(be.pendingcb++,Pe=V(this,be,R,J,Y,se)),Pe},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&C(this,J))},x.prototype.setDefaultEncoding=function(Y){if(typeof Y=="string"&&(Y=Y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Y+"").toLowerCase())>-1))throw new S(Y);return this._writableState.defaultEncoding=Y,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function F(J,Y,se){return!J.objectMode&&J.decodeStrings!==!1&&typeof Y=="string"&&(Y=o.from(Y,se)),Y}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function V(J,Y,se,be,Pe,R){if(!se){var j=F(Y,be,Pe);be!==j&&(se=!0,Pe="buffer",be=j)}var M=Y.objectMode?1:be.length;Y.length+=M;var G=Y.length<Y.highWaterMark;if(G||(Y.needDrain=!0),Y.writing||Y.corked){var oe=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:be,encoding:Pe,isBuf:se,callback:R,next:null},oe?oe.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else Q(J,Y,!1,M,be,Pe,R);return G}function Q(J,Y,se,be,Pe,R,j){Y.writelen=be,Y.writecb=j,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new h("write")):se?J._writev(Pe,Y.onwrite):J._write(Pe,R,Y.onwrite),Y.sync=!1}function H(J,Y,se,be,Pe){--Y.pendingcb,se?(e.nextTick(Pe,be),e.nextTick(I,J,Y),J._writableState.errorEmitted=!0,$(J,be)):(Pe(be),J._writableState.errorEmitted=!0,$(J,be),I(J,Y))}function X(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function fe(J,Y){var se=J._writableState,be=se.sync,Pe=se.writecb;if(typeof Pe!="function")throw new _;if(X(se),Y)H(J,se,be,Y,Pe);else{var R=B(se)||J.destroyed;!R&&!se.corked&&!se.bufferProcessing&&se.bufferedRequest&&C(J,se),be?e.nextTick(Z,J,se,R,Pe):Z(J,se,R,Pe)}}function Z(J,Y,se,be){se||ne(J,Y),Y.pendingcb--,be(),I(J,Y)}function ne(J,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,J.emit("drain"))}function C(J,Y){Y.bufferProcessing=!0;var se=Y.bufferedRequest;if(J._writev&&se&&se.next){var be=Y.bufferedRequestCount,Pe=new Array(be),R=Y.corkedRequestsFree;R.entry=se;for(var j=0,M=!0;se;)Pe[j]=se,se.isBuf||(M=!1),se=se.next,j+=1;Pe.allBuffers=M,Q(J,Y,!0,Y.length,Pe,"",R.finish),Y.pendingcb++,Y.lastBufferedRequest=null,R.next?(Y.corkedRequestsFree=R.next,R.next=null):Y.corkedRequestsFree=new t(Y),Y.bufferedRequestCount=0}else{for(;se;){var G=se.chunk,oe=se.encoding,ce=se.callback,de=Y.objectMode?1:G.length;if(Q(J,Y,!1,de,G,oe,ce),se=se.next,Y.bufferedRequestCount--,Y.writing)break}se===null&&(Y.lastBufferedRequest=null)}Y.bufferedRequest=se,Y.bufferProcessing=!1}x.prototype._write=function(J,Y,se){se(new g("_write()"))},x.prototype._writev=null,x.prototype.end=function(J,Y,se){var be=this._writableState;return typeof J=="function"?(se=J,J=null,Y=null):typeof Y=="function"&&(se=Y,Y=null),J!=null&&this.write(J,Y),be.corked&&(be.corked=1,this.uncork()),be.ending||q(this,be,se),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function K(J,Y){J._final(function(se){Y.pendingcb--,se&&$(J,se),Y.prefinished=!0,J.emit("prefinish"),I(J,Y)})}function P(J,Y){!Y.prefinished&&!Y.finalCalled&&(typeof J._final=="function"&&!Y.destroyed?(Y.pendingcb++,Y.finalCalled=!0,e.nextTick(K,J,Y)):(Y.prefinished=!0,J.emit("prefinish")))}function I(J,Y){var se=B(Y);if(se&&(P(J,Y),Y.pendingcb===0&&(Y.finished=!0,J.emit("finish"),Y.autoDestroy))){var be=J._readableState;(!be||be.autoDestroy&&be.endEmitted)&&J.destroy()}return se}function q(J,Y,se){Y.ending=!0,I(J,Y),se&&(Y.finished?e.nextTick(se):J.once("finish",se)),Y.ended=!0,J.writable=!1}function ie(J,Y,se){var be=J.entry;for(J.entry=null;be;){var Pe=be.callback;Y.pendingcb--,Pe(se),be=be.next}Y.corkedRequestsFree.next=J}return Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Y){this._writableState&&(this._writableState.destroyed=Y)}}),x.prototype.destroy=u.destroy,x.prototype._undestroy=u.undestroy,x.prototype._destroy=function(J,Y){Y(J)},qy}function Th(){if(ZT)return Vy;ZT=!0;var e=di,t=Object.keys||function(f){var c=[];for(var p in f)c.push(p);return c};Vy=a;var r=pz(),n=hz();sc()(a,r);for(var i=t(n.prototype),o=0;o<i.length;o++){var s=i[o];a.prototype[s]||(a.prototype[s]=n.prototype[s])}function a(f){if(!(this instanceof a))return new a(f);r.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||e.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),Vy}function qR(){if(eA)return Hy;eA=!0;var e=Fh().codes.ERR_STREAM_PREMATURE_CLOSE;function t(o){var s=!1;return function(){if(!s){s=!0;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];o.apply(this,l)}}}function r(){}function n(o){return o.setHeader&&typeof o.abort=="function"}function i(o,s,a){if(typeof s=="function")return i(o,null,s);s||(s={}),a=t(a||r);var l=s.readable||s.readable!==!1&&o.readable,u=s.writable||s.writable!==!1&&o.writable,f=function(){o.writable||p()},c=o._writableState&&o._writableState.finished,p=function(){u=!1,c=!0,l||a.call(o)},m=o._readableState&&o._readableState.endEmitted,g=function(){l=!1,m=!0,u||a.call(o)},_=function(y){a.call(o,y)},v=function(){var y;if(l&&!m)return(!o._readableState||!o._readableState.ended)&&(y=new e),a.call(o,y);if(u&&!c)return(!o._writableState||!o._writableState.ended)&&(y=new e),a.call(o,y)},h=function(){o.req.on("finish",p)};return n(o)?(o.on("complete",p),o.on("abort",v),o.req?h():o.on("request",h)):u&&!o._writableState&&(o.on("end",f),o.on("close",f)),o.on("end",g),o.on("finish",p),s.error!==!1&&o.on("error",_),o.on("close",v),function(){o.removeListener("complete",p),o.removeListener("abort",v),o.removeListener("request",h),o.req&&o.req.removeListener("finish",p),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",p),o.removeListener("end",g),o.removeListener("error",_),o.removeListener("close",v)}}return Hy=i,Hy}function Y7(){if(tA)return Wy;tA=!0;var e=di,t;function r(S,$,T){return $=n($),$ in S?Object.defineProperty(S,$,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[$]=T,S}function n(S){var $=i(S,"string");return typeof $=="symbol"?$:String($)}function i(S,$){if(typeof S!="object"||S===null)return S;var T=S[Symbol.toPrimitive];if(T!==void 0){var d=T.call(S,$);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(S)}var o=qR(),s=Symbol("lastResolve"),a=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),f=Symbol("lastPromise"),c=Symbol("handlePromise"),p=Symbol("stream");function m(S,$){return{value:S,done:$}}function g(S){var $=S[s];if($!==null){var T=S[p].read();T!==null&&(S[f]=null,S[s]=null,S[a]=null,$(m(T,!1)))}}function _(S){e.nextTick(g,S)}function v(S,$){return function(T,d){S.then(function(){if($[u]){T(m(void 0,!0));return}$[c](T,d)},d)}}var h=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((t={get stream(){return this[p]},next:function(){var $=this,T=this[l];if(T!==null)return Promise.reject(T);if(this[u])return Promise.resolve(m(void 0,!0));if(this[p].destroyed)return new Promise(function(O,D){e.nextTick(function(){$[l]?D($[l]):O(m(void 0,!0))})});var d=this[f],A;if(d)A=new Promise(v(d,this));else{var x=this[p].read();if(x!==null)return Promise.resolve(m(x,!1));A=new Promise(this[c])}return this[f]=A,A}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var $=this;return new Promise(function(T,d){$[p].destroy(null,function(A){if(A){d(A);return}T(m(void 0,!0))})})}),t),h),y=function($){var T,d=Object.create(E,(T={},r(T,p,{value:$,writable:!0}),r(T,s,{value:null,writable:!0}),r(T,a,{value:null,writable:!0}),r(T,l,{value:null,writable:!0}),r(T,u,{value:$._readableState.endEmitted,writable:!0}),r(T,c,{value:function(x,O){var D=d[p].read();D?(d[f]=null,d[s]=null,d[a]=null,x(m(D,!1))):(d[s]=x,d[a]=O)},writable:!0}),T));return d[f]=null,o($,function(A){if(A&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"){var x=d[a];x!==null&&(d[f]=null,d[s]=null,d[a]=null,x(A)),d[l]=A;return}var O=d[s];O!==null&&(d[f]=null,d[s]=null,d[a]=null,O(m(void 0,!0))),d[u]=!0}),$.on("readable",_.bind(null,d)),d};return Wy=y,Wy}function X7(){return rA||(rA=!0,Gy=function(){throw new Error("Readable.from is not available in the browser")}),Gy}function pz(){if(nA)return Ky;nA=!0;var e=di;Ky=O;var t;O.ReadableState=x,Yi.EventEmitter;var r=function(j,M){return j.listeners(M).length},n=cz(),i=No().Buffer,o=(typeof iA<"u"?iA:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(R){return i.from(R)}function a(R){return i.isBuffer(R)||R instanceof o}var l=ft,u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var f=J7(),c=fz(),p=dz(),m=p.getHighWaterMark,g=Fh().codes,_=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,h=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,S,$;sc()(O,n);var T=c.errorOrDestroy,d=["error","close","destroy","pause","resume"];function A(R,j,M){if(typeof R.prependListener=="function")return R.prependListener(j,M);!R._events||!R._events[j]?R.on(j,M):Array.isArray(R._events[j])?R._events[j].unshift(M):R._events[j]=[M,R._events[j]]}function x(R,j,M){t=t||Th(),R=R||{},typeof M!="boolean"&&(M=j instanceof t),this.objectMode=!!R.objectMode,M&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=m(this,R,"readableHighWaterMark",M),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(y||(y=oh.StringDecoder),this.decoder=new y(R.encoding),this.encoding=R.encoding)}function O(R){if(t=t||Th(),!(this instanceof O))return new O(R);var j=this instanceof t;this._readableState=new x(R,this,j),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),n.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),O.prototype.destroy=c.destroy,O.prototype._undestroy=c.undestroy,O.prototype._destroy=function(R,j){j(R)},O.prototype.push=function(R,j){var M=this._readableState,G;return M.objectMode?G=!0:typeof R=="string"&&(j=j||M.defaultEncoding,j!==M.encoding&&(R=i.from(R,j),j=""),G=!0),D(this,R,j,!1,G)},O.prototype.unshift=function(R){return D(this,R,null,!0,!1)};function D(R,j,M,G,oe){u("readableAddChunk",j);var ce=R._readableState;if(j===null)ce.reading=!1,fe(R,ce);else{var de;if(oe||(de=V(ce,j)),de)T(R,de);else if(ce.objectMode||j&&j.length>0)if(typeof j!="string"&&!ce.objectMode&&Object.getPrototypeOf(j)!==i.prototype&&(j=s(j)),G)ce.endEmitted?T(R,new E):F(R,ce,j,!0);else if(ce.ended)T(R,new v);else{if(ce.destroyed)return!1;ce.reading=!1,ce.decoder&&!M?(j=ce.decoder.write(j),ce.objectMode||j.length!==0?F(R,ce,j,!1):C(R,ce)):F(R,ce,j,!1)}else G||(ce.reading=!1,C(R,ce))}return!ce.ended&&(ce.length<ce.highWaterMark||ce.length===0)}function F(R,j,M,G){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,R.emit("data",M)):(j.length+=j.objectMode?1:M.length,G?j.buffer.unshift(M):j.buffer.push(M),j.needReadable&&Z(R)),C(R,j)}function V(R,j){var M;return!a(j)&&typeof j!="string"&&j!==void 0&&!R.objectMode&&(M=new _("chunk",["string","Buffer","Uint8Array"],j)),M}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(R){y||(y=oh.StringDecoder);var j=new y(R);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var M=this._readableState.buffer.head,G="";M!==null;)G+=j.write(M.data),M=M.next;return this._readableState.buffer.clear(),G!==""&&this._readableState.buffer.push(G),this._readableState.length=G.length,this};var Q=1073741824;function H(R){return R>=Q?R=Q:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function X(R,j){return R<=0||j.length===0&&j.ended?0:j.objectMode?1:R!==R?j.flowing&&j.length?j.buffer.head.data.length:j.length:(R>j.highWaterMark&&(j.highWaterMark=H(R)),R<=j.length?R:j.ended?j.length:(j.needReadable=!0,0))}O.prototype.read=function(R){u("read",R),R=parseInt(R,10);var j=this._readableState,M=R;if(R!==0&&(j.emittedReadable=!1),R===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return u("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?se(this):Z(this),null;if(R=X(R,j),R===0&&j.ended)return j.length===0&&se(this),null;var G=j.needReadable;u("need readable",G),(j.length===0||j.length-R<j.highWaterMark)&&(G=!0,u("length less than watermark",G)),j.ended||j.reading?(G=!1,u("reading or ended",G)):G&&(u("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||(R=X(M,j)));var oe;return R>0?oe=Y(R,j):oe=null,oe===null?(j.needReadable=j.length<=j.highWaterMark,R=0):(j.length-=R,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),M!==R&&j.ended&&se(this)),oe!==null&&this.emit("data",oe),oe};function fe(R,j){if(u("onEofChunk"),!j.ended){if(j.decoder){var M=j.decoder.end();M&&M.length&&(j.buffer.push(M),j.length+=j.objectMode?1:M.length)}j.ended=!0,j.sync?Z(R):(j.needReadable=!1,j.emittedReadable||(j.emittedReadable=!0,ne(R)))}}function Z(R){var j=R._readableState;u("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(u("emitReadable",j.flowing),j.emittedReadable=!0,e.nextTick(ne,R))}function ne(R){var j=R._readableState;u("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&(j.length||j.ended)&&(R.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,J(R)}function C(R,j){j.readingMore||(j.readingMore=!0,e.nextTick(B,R,j))}function B(R,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var M=j.length;if(u("maybeReadMore read 0"),R.read(0),M===j.length)break}j.readingMore=!1}O.prototype._read=function(R){T(this,new h("_read()"))},O.prototype.pipe=function(R,j){var M=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=R;break;case 1:G.pipes=[G.pipes,R];break;default:G.pipes.push(R);break}G.pipesCount+=1,u("pipe count=%d opts=%j",G.pipesCount,j);var oe=(!j||j.end!==!1)&&R!==e.stdout&&R!==e.stderr,ce=oe?ve:N;G.endEmitted?e.nextTick(ce):M.once("end",ce),R.on("unpipe",de);function de(L,re){u("onunpipe"),L===M&&re&&re.hasUnpiped===!1&&(re.hasUnpiped=!0,De())}function ve(){u("onend"),R.end()}var Ie=K(M);R.on("drain",Ie);var Be=!1;function De(){u("cleanup"),R.removeListener("close",Ue),R.removeListener("finish",W),R.removeListener("drain",Ie),R.removeListener("error",We),R.removeListener("unpipe",de),M.removeListener("end",ve),M.removeListener("end",N),M.removeListener("data",nt),Be=!0,G.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&Ie()}M.on("data",nt);function nt(L){u("ondata");var re=R.write(L);u("dest.write",re),re===!1&&((G.pipesCount===1&&G.pipes===R||G.pipesCount>1&&Pe(G.pipes,R)!==-1)&&!Be&&(u("false write response, pause",G.awaitDrain),G.awaitDrain++),M.pause())}function We(L){u("onerror",L),N(),R.removeListener("error",We),r(R,"error")===0&&T(R,L)}A(R,"error",We);function Ue(){R.removeListener("finish",W),N()}R.once("close",Ue);function W(){u("onfinish"),R.removeListener("close",Ue),N()}R.once("finish",W);function N(){u("unpipe"),M.unpipe(R)}return R.emit("pipe",M),G.flowing||(u("pipe resume"),M.resume()),R};function K(R){return function(){var M=R._readableState;u("pipeOnDrain",M.awaitDrain),M.awaitDrain&&M.awaitDrain--,M.awaitDrain===0&&r(R,"data")&&(M.flowing=!0,J(R))}}O.prototype.unpipe=function(R){var j=this._readableState,M={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return R&&R!==j.pipes?this:(R||(R=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,R&&R.emit("unpipe",this,M),this);if(!R){var G=j.pipes,oe=j.pipesCount;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var ce=0;ce<oe;ce++)G[ce].emit("unpipe",this,{hasUnpiped:!1});return this}var de=Pe(j.pipes,R);return de===-1?this:(j.pipes.splice(de,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),R.emit("unpipe",this,M),this)},O.prototype.on=function(R,j){var M=n.prototype.on.call(this,R,j),G=this._readableState;return R==="data"?(G.readableListening=this.listenerCount("readable")>0,G.flowing!==!1&&this.resume()):R==="readable"&&!G.endEmitted&&!G.readableListening&&(G.readableListening=G.needReadable=!0,G.flowing=!1,G.emittedReadable=!1,u("on readable",G.length,G.reading),G.length?Z(this):G.reading||e.nextTick(I,this)),M},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(R,j){var M=n.prototype.removeListener.call(this,R,j);return R==="readable"&&e.nextTick(P,this),M},O.prototype.removeAllListeners=function(R){var j=n.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&e.nextTick(P,this),j};function P(R){var j=R._readableState;j.readableListening=R.listenerCount("readable")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:R.listenerCount("data")>0&&R.resume()}function I(R){u("readable nexttick read 0"),R.read(0)}O.prototype.resume=function(){var R=this._readableState;return R.flowing||(u("resume"),R.flowing=!R.readableListening,q(this,R)),R.paused=!1,this};function q(R,j){j.resumeScheduled||(j.resumeScheduled=!0,e.nextTick(ie,R,j))}function ie(R,j){u("resume",j.reading),j.reading||R.read(0),j.resumeScheduled=!1,R.emit("resume"),J(R),j.flowing&&!j.reading&&R.read(0)}O.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(R){var j=R._readableState;for(u("flow",j.flowing);j.flowing&&R.read()!==null;);}O.prototype.wrap=function(R){var j=this,M=this._readableState,G=!1;R.on("end",function(){if(u("wrapped end"),M.decoder&&!M.ended){var de=M.decoder.end();de&&de.length&&j.push(de)}j.push(null)}),R.on("data",function(de){if(u("wrapped data"),M.decoder&&(de=M.decoder.write(de)),!(M.objectMode&&de==null)&&!(!M.objectMode&&(!de||!de.length))){var ve=j.push(de);ve||(G=!0,R.pause())}});for(var oe in R)this[oe]===void 0&&typeof R[oe]=="function"&&(this[oe]=function(ve){return function(){return R[ve].apply(R,arguments)}}(oe));for(var ce=0;ce<d.length;ce++)R.on(d[ce],this.emit.bind(this,d[ce]));return this._read=function(de){u("wrapped _read",de),G&&(G=!1,R.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=Y7()),S(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(j){this._readableState&&(this._readableState.flowing=j)}}),O._fromList=Y,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Y(R,j){if(j.length===0)return null;var M;return j.objectMode?M=j.buffer.shift():!R||R>=j.length?(j.decoder?M=j.buffer.join(""):j.buffer.length===1?M=j.buffer.first():M=j.buffer.concat(j.length),j.buffer.clear()):M=j.buffer.consume(R,j.decoder),M}function se(R){var j=R._readableState;u("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,e.nextTick(be,j,R))}function be(R,j){if(u("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,j.readable=!1,j.emit("end"),R.autoDestroy)){var M=j._writableState;(!M||M.autoDestroy&&M.finished)&&j.destroy()}}typeof Symbol=="function"&&(O.from=function(R,j){return $===void 0&&($=X7()),$(O,R,j)});function Pe(R,j){for(var M=0,G=R.length;M<G;M++)if(R[M]===j)return M;return-1}return Ky}function mz(){if(oA)return Jy;oA=!0,Jy=a;var e=Fh().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=Th();sc()(a,o);function s(f,c){var p=this._transformState;p.transforming=!1;var m=p.writecb;if(m===null)return this.emit("error",new r);p.writechunk=null,p.writecb=null,c!=null&&this.push(c),m(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function a(f){if(!(this instanceof a))return new a(f);o.call(this,f),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,p){u(f,c,p)}):u(this,null,null)}a.prototype.push=function(f,c){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,c)},a.prototype._transform=function(f,c,p){p(new t("_transform()"))},a.prototype._write=function(f,c,p){var m=this._transformState;if(m.writecb=p,m.writechunk=f,m.writeencoding=c,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},a.prototype._read=function(f){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},a.prototype._destroy=function(f,c){o.prototype._destroy.call(this,f,function(p){c(p)})};function u(f,c,p){if(c)return f.emit("error",c);if(p!=null&&f.push(p),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return Jy}function Q7(){if(sA)return Yy;sA=!0,Yy=t;var e=mz();sc()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},Yy}function Z7(){if(aA)return Xy;aA=!0;var e;function t(p){var m=!1;return function(){m||(m=!0,p.apply(void 0,arguments))}}var r=Fh().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function o(p){if(p)throw p}function s(p){return p.setHeader&&typeof p.abort=="function"}function a(p,m,g,_){_=t(_);var v=!1;p.on("close",function(){v=!0}),e===void 0&&(e=qR()),e(p,{readable:m,writable:g},function(E){if(E)return _(E);v=!0,_()});var h=!1;return function(E){if(!v&&!h){if(h=!0,s(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();_(E||new i("pipe"))}}}function l(p){p()}function u(p,m){return p.pipe(m)}function f(p){return!p.length||typeof p[p.length-1]!="function"?o:p.pop()}function c(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];var _=f(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new n("streams");var v,h=m.map(function(E,y){var S=y<m.length-1,$=y>0;return a(E,S,$,function(T){v||(v=T),T&&h.forEach(l),!S&&(h.forEach(l),_(v))})});return m.reduce(u)}return Xy=c,Xy}function gz(){return lA||(lA=!0,Hi=Hi=pz(),Hi.Stream=Hi,Hi.Readable=Hi,Hi.Writable=hz(),Hi.Duplex=Th(),Hi.Transform=mz(),Hi.PassThrough=Q7(),Hi.finished=qR(),Hi.pipeline=Z7()),Hi}function vz(){if(uA)return kp;uA=!0;var e=No().Buffer,t=di,r=uz(),n=sc(),i=gz(),o=kp.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},s=kp.IncomingMessage=function(a,l,u,f){var c=this||Cp;if(i.Readable.call(c),c._mode=u,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),u==="fetch"){let h=function(){m.read().then(function(E){if(!c._destroyed){if(f(E.done),E.done){c.push(null);return}c.push(e.from(E.value)),h()}}).catch(function(E){f(!0),c._destroyed||c.emit("error",E)})};if(c._fetchResponse=l,c.url=l.url,c.statusCode=l.status,c.statusMessage=l.statusText,l.headers.forEach(function(E,y){c.headers[y.toLowerCase()]=E,c.rawHeaders.push(y,E)}),r.writableStream){var p=new WritableStream({write:function(E){return f(!1),new Promise(function(y,S){c._destroyed?S():c.push(e.from(E))?y():c._resumeFetch=y})},close:function(){f(!0),c._destroyed||c.push(null)},abort:function(E){f(!0),c._destroyed||c.emit("error",E)}});try{l.body.pipeTo(p).catch(function(E){f(!0),c._destroyed||c.emit("error",E)});return}catch{}}var m=l.body.getReader();h()}else{c._xhr=a,c._pos=0,c.url=a.responseURL,c.statusCode=a.status,c.statusMessage=a.statusText;var g=a.getAllResponseHeaders().split(/\r?\n/);if(g.forEach(function(h){var E=h.match(/^([^:]+):\s*(.*)/);if(E){var y=E[1].toLowerCase();y==="set-cookie"?(c.headers[y]===void 0&&(c.headers[y]=[]),c.headers[y].push(E[2])):c.headers[y]!==void 0?c.headers[y]+=", "+E[2]:c.headers[y]=E[2],c.rawHeaders.push(E[1],E[2])}}),c._charset="x-user-defined",!r.overrideMimeType){var _=c.rawHeaders["mime-type"];if(_){var v=_.match(/;\s*charset=([^;])(;|$)/);v&&(c._charset=v[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};return n(s,i.Readable),s.prototype._read=function(){var a=this||Cp,l=a._resumeFetch;l&&(a._resumeFetch=null,l())},s.prototype._onXHRProgress=function(a){var l=this||Cp,u=l._xhr,f=null;switch(l._mode){case"text":if(f=u.responseText,f.length>l._pos){var c=f.substr(l._pos);if(l._charset==="x-user-defined"){for(var p=e.alloc(c.length),m=0;m<c.length;m++)p[m]=c.charCodeAt(m)&255;l.push(p)}else l.push(c,l._charset);l._pos=f.length}break;case"arraybuffer":if(u.readyState!==o.DONE||!u.response)break;f=u.response,l.push(e.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=u.response,u.readyState!==o.LOADING||!f)break;l.push(e.from(new Uint8Array(f)));break;case"ms-stream":if(f=u.response,u.readyState!==o.LOADING)break;var g=new Cp.MSStreamReader;g.onprogress=function(){g.result.byteLength>l._pos&&(l.push(e.from(new Uint8Array(g.result.slice(l._pos)))),l._pos=g.result.byteLength)},g.onload=function(){a(!0),l.push(null)},g.readAsArrayBuffer(f);break}l._xhr.readyState===o.DONE&&l._mode!=="ms-stream"&&(a(!0),l.push(null))},kp}function eee(){if(cA)return Qy;cA=!0;var e=No().Buffer,t=di,r=uz(),n=sc(),i=vz(),o=gz(),s=i.IncomingMessage,a=i.readyStates;function l(p,m){return r.fetch&&m?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&p?"arraybuffer":"text"}var u=Qy=function(p){var m=this||Zn;o.Writable.call(m),m._opts=p,m._body=[],m._headers={},p.auth&&m.setHeader("Authorization","Basic "+e.from(p.auth).toString("base64")),Object.keys(p.headers).forEach(function(v){m.setHeader(v,p.headers[v])});var g,_=!0;if(p.mode==="disable-fetch"||"requestTimeout"in p&&!r.abortController)_=!1,g=!0;else if(p.mode==="prefer-streaming")g=!1;else if(p.mode==="allow-wrong-content-type")g=!r.overrideMimeType;else if(!p.mode||p.mode==="default"||p.mode==="prefer-fast")g=!0;else throw new Error("Invalid value for opts.mode");m._mode=l(g,_),m._fetchTimer=null,m._socketTimeout=null,m._socketTimer=null,m.on("finish",function(){m._onFinish()})};n(u,o.Writable),u.prototype.setHeader=function(p,m){var g=this||Zn,_=p.toLowerCase();c.indexOf(_)===-1&&(g._headers[_]={name:p,value:m})},u.prototype.getHeader=function(p){var m=(this||Zn)._headers[p.toLowerCase()];return m?m.value:null},u.prototype.removeHeader=function(p){var m=this||Zn;delete m._headers[p.toLowerCase()]},u.prototype._onFinish=function(){var p=this||Zn;if(!p._destroyed){var m=p._opts;"timeout"in m&&m.timeout!==0&&p.setTimeout(m.timeout);var g=p._headers,_=null;m.method!=="GET"&&m.method!=="HEAD"&&(_=new Blob(p._body,{type:(g["content-type"]||{}).value||""}));var v=[];if(Object.keys(g).forEach(function(S){var $=g[S].name,T=g[S].value;Array.isArray(T)?T.forEach(function(d){v.push([$,d])}):v.push([$,T])}),p._mode==="fetch"){var h=null;if(r.abortController){var E=new AbortController;h=E.signal,p._fetchAbortController=E,"requestTimeout"in m&&m.requestTimeout!==0&&(p._fetchTimer=Zn.setTimeout(function(){p.emit("requestTimeout"),p._fetchAbortController&&p._fetchAbortController.abort()},m.requestTimeout))}Zn.fetch(p._opts.url,{method:p._opts.method,headers:v,body:_||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:h}).then(function(S){p._fetchResponse=S,p._resetTimers(!1),p._connect()},function(S){p._resetTimers(!0),p._destroyed||p.emit("error",S)})}else{var y=p._xhr=new Zn.XMLHttpRequest;try{y.open(p._opts.method,p._opts.url,!0)}catch(S){t.nextTick(function(){p.emit("error",S)});return}"responseType"in y&&(y.responseType=p._mode),"withCredentials"in y&&(y.withCredentials=!!m.withCredentials),p._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(y.timeout=m.requestTimeout,y.ontimeout=function(){p.emit("requestTimeout")}),v.forEach(function(S){y.setRequestHeader(S[0],S[1])}),p._response=null,y.onreadystatechange=function(){switch(y.readyState){case a.LOADING:case a.DONE:p._onXHRProgress();break}},p._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){p._onXHRProgress()}),y.onerror=function(){p._destroyed||(p._resetTimers(!0),p.emit("error",new Error("XHR error")))};try{y.send(_)}catch(S){t.nextTick(function(){p.emit("error",S)});return}}}};function f(p){try{var m=p.status;return m!==null&&m!==0}catch{return!1}}u.prototype._onXHRProgress=function(){var p=this||Zn;p._resetTimers(!1),!(!f(p._xhr)||p._destroyed)&&(p._response||p._connect(),p._response._onXHRProgress(p._resetTimers.bind(p)))},u.prototype._connect=function(){var p=this||Zn;p._destroyed||(p._response=new s(p._xhr,p._fetchResponse,p._mode,p._resetTimers.bind(p)),p._response.on("error",function(m){p.emit("error",m)}),p.emit("response",p._response))},u.prototype._write=function(p,m,g){var _=this||Zn;_._body.push(p),g()},u.prototype._resetTimers=function(p){var m=this||Zn;Zn.clearTimeout(m._socketTimer),m._socketTimer=null,p?(Zn.clearTimeout(m._fetchTimer),m._fetchTimer=null):m._socketTimeout&&(m._socketTimer=Zn.setTimeout(function(){m.emit("timeout")},m._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(p){var m=this||Zn;m._destroyed=!0,m._resetTimers(!0),m._response&&(m._response._destroyed=!0),m._xhr?m._xhr.abort():m._fetchAbortController&&m._fetchAbortController.abort(),p&&m.emit("error",p)},u.prototype.end=function(p,m,g){var _=this||Zn;typeof p=="function"&&(g=p,p=void 0),o.Writable.prototype.end.call(_,p,m,g)},u.prototype.setTimeout=function(p,m){var g=this||Zn;m&&g.once("timeout",m),g._socketTimeout=p,g._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return Qy}function tee(){if(fA)return Zy;fA=!0,Zy=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var o in i)e.call(i,o)&&(r[o]=i[o])}return r}return Zy}function ree(){return dA||(dA=!0,e0={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),e0}function nee(){if(hA)return t0;hA=!0;var e=eee(),t=vz(),r=tee(),n=ree(),i=Jr,o=t0;return o.request=function(s,a){typeof s=="string"?s=i.parse(s):s=r(s);var l=yz.location.protocol.search(/^https?:$/)===-1?"http:":"",u=s.protocol||l,f=s.hostname||s.host,c=s.port,p=s.path||"/";f&&f.indexOf(":")!==-1&&(f="["+f+"]"),s.url=(f?u+"//"+f:"")+(c?":"+c:"")+p,s.method=(s.method||"GET").toUpperCase(),s.headers=s.headers||{};var m=new e(s);return a&&m.on("response",a),m},o.get=function(a,l){var u=o.request(a,l);return u.end(),u},o.ClientRequest=e,o.IncomingMessage=t.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=n,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],t0}var mo,HT,gu,Ly,WT,Fy,GT,By,KT,Uy,JT,zy,YT,qy,XT,QT,Vy,ZT,Hy,eA,Wy,tA,Gy,rA,Ky,nA,iA,Jy,oA,Yy,sA,Xy,aA,Hi,lA,kp,uA,Cp,Qy,cA,Zn,Zy,fA,e0,dA,t0,hA,yz,Oa,wz,bz,_z,Ez,Sz,$z,Tz,Az,VR=nn({"../../node_modules/@jspm/core/nodelibs/browser/http.js"(){Te(),FR(),g7(),K_(),q_(),E7(),_g(),Eg(),C7(),FU(),lz(),J_(),mo={},HT=!1,gu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ly={},WT=!1,Fy={},GT=!1,By={},KT=!1,Uy={},JT=!1,zy={},YT=!1,qy={},XT=!1,QT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Vy={},ZT=!1,Hy={},eA=!1,Wy={},tA=!1,Gy={},rA=!1,Ky={},nA=!1,iA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Jy={},oA=!1,Yy={},sA=!1,Xy={},aA=!1,Hi={},lA=!1,kp={},uA=!1,Cp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Qy={},cA=!1,Zn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Zy={},fA=!1,e0={},dA=!1,t0={},hA=!1,yz=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Oa=nee(),wz=Oa.Agent,bz=Oa.ClientRequest,_z=Oa.IncomingMessage,Ez=Oa.METHODS,Sz=Oa.STATUS_CODES,$z=Oa.get,Tz=Oa.globalAgent,Az=Oa.request}});function _D(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return r===-1&&(r=t),[r,r===t?0:4-r%4]}function iee(e,t,r){for(var n,i,o=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(ea[(i=n)>>18&63]+ea[i>>12&63]+ea[i>>6&63]+ea[63&i]);return o.join("")}function Al(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,vt.prototype),t}function vt(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return pA(e)}return xz(e,t,r)}function xz(e,t,r){if(typeof e=="string")return function(o,s){if(typeof s=="string"&&s!==""||(s="utf8"),!vt.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var a=0|Pz(o,s),l=Al(a),u=l.write(o,s);return u!==a&&(l=l.slice(0,u)),l}(e,t);if(ArrayBuffer.isView(e))return QS(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(xl(e,ArrayBuffer)||e&&xl(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xl(e,SharedArrayBuffer)||e&&xl(e.buffer,SharedArrayBuffer)))return ED(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return vt.from(n,t,r);var i=function(o){if(vt.isBuffer(o)){var s=0|HR(o.length),a=Al(s);return a.length===0||o.copy(a,0,0,s),a}if(o.length!==void 0)return typeof o.length!="number"||WR(o.length)?Al(0):QS(o);if(o.type==="Buffer"&&Array.isArray(o.data))return QS(o.data)}(e);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return vt.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function Oz(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function pA(e){return Oz(e),Al(e<0?0:0|HR(e))}function QS(e){for(var t=e.length<0?0:0|HR(e.length),r=Al(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function ED(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=t===void 0&&r===void 0?new Uint8Array(e):r===void 0?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,vt.prototype),n}function HR(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function Pz(e,t){if(vt.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||xl(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return mA(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return kz(e).length;default:if(i)return n?-1:mA(e).length;t=(""+t).toLowerCase(),i=!0}}function oee(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return pee(this,t,r);case"utf8":case"utf-8":return Nz(this,t,r);case"ascii":return dee(this,t,r);case"latin1":case"binary":return hee(this,t,r);case"base64":return fee(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mee(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function Pc(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function SD(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),WR(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if(typeof t=="string"&&(t=vt.from(t,n)),vt.isBuffer(t))return t.length===0?-1:$D(e,t,r,n,i);if(typeof t=="number")return t&=255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):$D(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function $D(e,t,r,n,i){var o,s=1,a=e.length,l=t.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,r/=2}function u(m,g){return s===1?m[g]:m.readUInt16BE(g*s)}if(i){var f=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,f===-1?0:o-f)){if(f===-1&&(f=o),o-f+1===l)return f*s}else f!==-1&&(o-=o-f),f=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){for(var c=!0,p=0;p<l;p++)if(u(e,o+p)!==u(t,p)){c=!1;break}if(c)return o}return-1}function see(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(WR(a))return s;e[r+s]=a}return s}function aee(e,t,r,n){return X_(mA(t,e.length-r),e,r,n)}function Rz(e,t,r,n){return X_(function(i){for(var o=[],s=0;s<i.length;++s)o.push(255&i.charCodeAt(s));return o}(t),e,r,n)}function lee(e,t,r,n){return Rz(e,t,r,n)}function uee(e,t,r,n){return X_(kz(t),e,r,n)}function cee(e,t,r,n){return X_(function(i,o){for(var s,a,l,u=[],f=0;f<i.length&&!((o-=2)<0);++f)s=i.charCodeAt(f),a=s>>8,l=s%256,u.push(l),u.push(a);return u}(t,e.length-r),e,r,n)}function fee(e,t,r){return t===0&&r===e.length?Mb.fromByteArray(e):Mb.fromByteArray(e.slice(t,r))}function Nz(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,l,u=e[i],f=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=r)switch(c){case 1:u<128&&(f=u);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&u)<<6|63&o)>127&&(f=l);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(f=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(f=l)}f===null?(f=65533,c=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=c}return function(p){var m=p.length;if(m<=4096)return String.fromCharCode.apply(String,p);for(var g="",_=0;_<m;)g+=String.fromCharCode.apply(String,p.slice(_,_+=4096));return g}(n)}function dee(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function hee(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function pee(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=Uz[e[o]];return i}function mee(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function si(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function po(e,t,r,n,i,o){if(!vt.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function Iz(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function TD(e,t,r,n,i){return t=+t,r>>>=0,i||Iz(e,0,r,4),Wc.write(e,t,r,n,23,4),r+4}function AD(e,t,r,n,i){return t=+t,r>>>=0,i||Iz(e,0,r,8),Wc.write(e,t,r,n,52,8),r+8}function mA(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function kz(e){return Mb.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(Bz,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(e))}function X_(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function xl(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function WR(e){return e!=e}function xD(e,t){for(var r in e)t[r]=e[r]}function Rc(e,t,r){return Ks(e,t,r)}function pp(e){var t;switch(this.encoding=function(r){var n=function(i){if(!i)return"utf8";for(var o;;)switch(i){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return i;default:if(o)return;i=(""+i).toLowerCase(),o=!0}}(r);if(typeof n!="string"&&(Fb.isEncoding===gA||!gA(r)))throw new Error("Unknown encoding: "+r);return n||r}(e),this.encoding){case"utf16le":this.text=vee,this.end=yee,t=4;break;case"utf8":this.fillLast=gee,t=4;break;case"base64":this.text=wee,this.end=bee,t=3;break;default:return this.write=_ee,this.end=Eee,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=Fb.allocUnsafe(t)}function ZS(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function gee(e){var t=this.lastTotal-this.lastNeed,r=function(n,i,o){if((192&i[0])!=128)return n.lastNeed=0,"�";if(n.lastNeed>1&&i.length>1){if((192&i[1])!=128)return n.lastNeed=1,"�";if(n.lastNeed>2&&i.length>2&&(192&i[2])!=128)return n.lastNeed=2,"�"}}(this,e);return r!==void 0?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length,void 0)}function vee(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function yee(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function wee(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function bee(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function _ee(e){return e.toString(this.encoding)}function Eee(e){return e&&e.length?this.write(e):""}function See(){if(vA)return Td;vA=!0,Td.byteLength=a,Td.toByteArray=u,Td.fromByteArray=p;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function s(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=m.indexOf("=");_===-1&&(_=g);var v=_===g?0:4-_%4;return[_,v]}function a(m){var g=s(m),_=g[0],v=g[1];return(_+v)*3/4-v}function l(m,g,_){return(g+_)*3/4-_}function u(m){var g,_=s(m),v=_[0],h=_[1],E=new r(l(m,v,h)),y=0,S=h>0?v-4:v,$;for($=0;$<S;$+=4)g=t[m.charCodeAt($)]<<18|t[m.charCodeAt($+1)]<<12|t[m.charCodeAt($+2)]<<6|t[m.charCodeAt($+3)],E[y++]=g>>16&255,E[y++]=g>>8&255,E[y++]=g&255;return h===2&&(g=t[m.charCodeAt($)]<<2|t[m.charCodeAt($+1)]>>4,E[y++]=g&255),h===1&&(g=t[m.charCodeAt($)]<<10|t[m.charCodeAt($+1)]<<4|t[m.charCodeAt($+2)]>>2,E[y++]=g>>8&255,E[y++]=g&255),E}function f(m){return e[m>>18&63]+e[m>>12&63]+e[m>>6&63]+e[m&63]}function c(m,g,_){for(var v,h=[],E=g;E<_;E+=3)v=(m[E]<<16&16711680)+(m[E+1]<<8&65280)+(m[E+2]&255),h.push(f(v));return h.join("")}function p(m){for(var g,_=m.length,v=_%3,h=[],E=16383,y=0,S=_-v;y<S;y+=E)h.push(c(m,y,y+E>S?S:y+E));return v===1?(g=m[_-1],h.push(e[g>>2]+e[g<<4&63]+"==")):v===2&&(g=(m[_-2]<<8)+m[_-1],h.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),h.join("")}return Td}function $ee(){return yA||(yA=!0,jp.read=function(e,t,r,n,i){var o,s,a=i*8-n-1,l=(1<<a)-1,u=l>>1,f=-7,c=r?i-1:0,p=r?-1:1,m=e[t+c];for(c+=p,o=m&(1<<-f)-1,m>>=-f,f+=a;f>0;o=o*256+e[t+c],c+=p,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=s*256+e[t+c],c+=p,f-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(m?-1:1)*s*Math.pow(2,o-n)},jp.write=function(e,t,r,n,i,o){var s,a,l,u=o*8-i-1,f=(1<<u)-1,c=f>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+c>=1?t+=p/l:t+=p*Math.pow(2,1-c),t*l>=2&&(s++,l/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(t*l-1)*Math.pow(2,i),s=s+c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[r+m]=a&255,m+=g,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+m]=s&255,m+=g,s/=256,u-=8);e[r+m-g]|=_*128}),jp}function Tee(){if(wA)return vu;wA=!0;const e=See(),t=$ee(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;vu.Buffer=s,vu.SlowBuffer=h,vu.INSPECT_MAX_BYTES=50;const n=2147483647;vu.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const W=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(W,N),W.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(W){if(W>n)throw new RangeError('The value "'+W+'" is invalid for option "size"');const N=new Uint8Array(W);return Object.setPrototypeOf(N,s.prototype),N}function s(W,N,L){if(typeof W=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(W)}return a(W,N,L)}s.poolSize=8192;function a(W,N,L){if(typeof W=="string")return c(W,N);if(ArrayBuffer.isView(W))return m(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(Be(W,ArrayBuffer)||W&&Be(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be(W,SharedArrayBuffer)||W&&Be(W.buffer,SharedArrayBuffer)))return g(W,N,L);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const re=W.valueOf&&W.valueOf();if(re!=null&&re!==W)return s.from(re,N,L);const ye=_(W);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return s.from(W[Symbol.toPrimitive]("string"),N,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}s.from=function(W,N,L){return a(W,N,L)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function u(W,N,L){return l(W),W<=0?o(W):N!==void 0?typeof L=="string"?o(W).fill(N,L):o(W).fill(N):o(W)}s.alloc=function(W,N,L){return u(W,N,L)};function f(W){return l(W),o(W<0?0:v(W)|0)}s.allocUnsafe=function(W){return f(W)},s.allocUnsafeSlow=function(W){return f(W)};function c(W,N){if((typeof N!="string"||N==="")&&(N="utf8"),!s.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const L=E(W,N)|0;let re=o(L);const ye=re.write(W,N);return ye!==L&&(re=re.slice(0,ye)),re}function p(W){const N=W.length<0?0:v(W.length)|0,L=o(N);for(let re=0;re<N;re+=1)L[re]=W[re]&255;return L}function m(W){if(Be(W,Uint8Array)){const N=new Uint8Array(W);return g(N.buffer,N.byteOffset,N.byteLength)}return p(W)}function g(W,N,L){if(N<0||W.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<N+(L||0))throw new RangeError('"length" is outside of buffer bounds');let re;return N===void 0&&L===void 0?re=new Uint8Array(W):L===void 0?re=new Uint8Array(W,N):re=new Uint8Array(W,N,L),Object.setPrototypeOf(re,s.prototype),re}function _(W){if(s.isBuffer(W)){const N=v(W.length)|0,L=o(N);return L.length===0||W.copy(L,0,0,N),L}if(W.length!==void 0)return typeof W.length!="number"||De(W.length)?o(0):p(W);if(W.type==="Buffer"&&Array.isArray(W.data))return p(W.data)}function v(W){if(W>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return W|0}function h(W){return+W!=W&&(W=0),s.alloc(+W)}s.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==s.prototype},s.compare=function(N,L){if(Be(N,Uint8Array)&&(N=s.from(N,N.offset,N.byteLength)),Be(L,Uint8Array)&&(L=s.from(L,L.offset,L.byteLength)),!s.isBuffer(N)||!s.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===L)return 0;let re=N.length,ye=L.length;for(let Ee=0,je=Math.min(re,ye);Ee<je;++Ee)if(N[Ee]!==L[Ee]){re=N[Ee],ye=L[Ee];break}return re<ye?-1:ye<re?1:0},s.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(N,L){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return s.alloc(0);let re;if(L===void 0)for(L=0,re=0;re<N.length;++re)L+=N[re].length;const ye=s.allocUnsafe(L);let Ee=0;for(re=0;re<N.length;++re){let je=N[re];if(Be(je,Uint8Array))Ee+je.length>ye.length?(s.isBuffer(je)||(je=s.from(je)),je.copy(ye,Ee)):Uint8Array.prototype.set.call(ye,je,Ee);else if(s.isBuffer(je))je.copy(ye,Ee);else throw new TypeError('"list" argument must be an Array of Buffers');Ee+=je.length}return ye};function E(W,N){if(s.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||Be(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const L=W.length,re=arguments.length>2&&arguments[2]===!0;if(!re&&L===0)return 0;let ye=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return oe(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return ve(W).length;default:if(ye)return re?-1:oe(W).length;N=(""+N).toLowerCase(),ye=!0}}s.byteLength=E;function y(W,N,L){let re=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,N>>>=0,L<=N))return"";for(W||(W="utf8");;)switch(W){case"hex":return Z(this,N,L);case"utf8":case"utf-8":return V(this,N,L);case"ascii":return X(this,N,L);case"latin1":case"binary":return fe(this,N,L);case"base64":return F(this,N,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,N,L);default:if(re)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),re=!0}}s.prototype._isBuffer=!0;function S(W,N,L){const re=W[N];W[N]=W[L],W[L]=re}s.prototype.swap16=function(){const N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<N;L+=2)S(this,L,L+1);return this},s.prototype.swap32=function(){const N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<N;L+=4)S(this,L,L+3),S(this,L+1,L+2);return this},s.prototype.swap64=function(){const N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<N;L+=8)S(this,L,L+7),S(this,L+1,L+6),S(this,L+2,L+5),S(this,L+3,L+4);return this},s.prototype.toString=function(){const N=this.length;return N===0?"":arguments.length===0?V(this,0,N):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(N){if(!s.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:s.compare(this,N)===0},s.prototype.inspect=function(){let N="";const L=vu.INSPECT_MAX_BYTES;return N=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(N+=" ... "),"<Buffer "+N+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(N,L,re,ye,Ee){if(Be(N,Uint8Array)&&(N=s.from(N,N.offset,N.byteLength)),!s.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(L===void 0&&(L=0),re===void 0&&(re=N?N.length:0),ye===void 0&&(ye=0),Ee===void 0&&(Ee=this.length),L<0||re>N.length||ye<0||Ee>this.length)throw new RangeError("out of range index");if(ye>=Ee&&L>=re)return 0;if(ye>=Ee)return-1;if(L>=re)return 1;if(L>>>=0,re>>>=0,ye>>>=0,Ee>>>=0,this===N)return 0;let je=Ee-ye,Re=re-L;const Le=Math.min(je,Re),dt=this.slice(ye,Ee),yt=N.slice(L,re);for(let lt=0;lt<Le;++lt)if(dt[lt]!==yt[lt]){je=dt[lt],Re=yt[lt];break}return je<Re?-1:Re<je?1:0};function $(W,N,L,re,ye){if(W.length===0)return-1;if(typeof L=="string"?(re=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,De(L)&&(L=ye?0:W.length-1),L<0&&(L=W.length+L),L>=W.length){if(ye)return-1;L=W.length-1}else if(L<0)if(ye)L=0;else return-1;if(typeof N=="string"&&(N=s.from(N,re)),s.isBuffer(N))return N.length===0?-1:T(W,N,L,re,ye);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(W,N,L):Uint8Array.prototype.lastIndexOf.call(W,N,L):T(W,[N],L,re,ye);throw new TypeError("val must be string, number or Buffer")}function T(W,N,L,re,ye){let Ee=1,je=W.length,Re=N.length;if(re!==void 0&&(re=String(re).toLowerCase(),re==="ucs2"||re==="ucs-2"||re==="utf16le"||re==="utf-16le")){if(W.length<2||N.length<2)return-1;Ee=2,je/=2,Re/=2,L/=2}function Le(yt,lt){return Ee===1?yt[lt]:yt.readUInt16BE(lt*Ee)}let dt;if(ye){let yt=-1;for(dt=L;dt<je;dt++)if(Le(W,dt)===Le(N,yt===-1?0:dt-yt)){if(yt===-1&&(yt=dt),dt-yt+1===Re)return yt*Ee}else yt!==-1&&(dt-=dt-yt),yt=-1}else for(L+Re>je&&(L=je-Re),dt=L;dt>=0;dt--){let yt=!0;for(let lt=0;lt<Re;lt++)if(Le(W,dt+lt)!==Le(N,lt)){yt=!1;break}if(yt)return dt}return-1}s.prototype.includes=function(N,L,re){return this.indexOf(N,L,re)!==-1},s.prototype.indexOf=function(N,L,re){return $(this,N,L,re,!0)},s.prototype.lastIndexOf=function(N,L,re){return $(this,N,L,re,!1)};function d(W,N,L,re){L=Number(L)||0;const ye=W.length-L;re?(re=Number(re),re>ye&&(re=ye)):re=ye;const Ee=N.length;re>Ee/2&&(re=Ee/2);let je;for(je=0;je<re;++je){const Re=parseInt(N.substr(je*2,2),16);if(De(Re))return je;W[L+je]=Re}return je}function A(W,N,L,re){return Ie(oe(N,W.length-L),W,L,re)}function x(W,N,L,re){return Ie(ce(N),W,L,re)}function O(W,N,L,re){return Ie(ve(N),W,L,re)}function D(W,N,L,re){return Ie(de(N,W.length-L),W,L,re)}s.prototype.write=function(N,L,re,ye){if(L===void 0)ye="utf8",re=this.length,L=0;else if(re===void 0&&typeof L=="string")ye=L,re=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(re)?(re=re>>>0,ye===void 0&&(ye="utf8")):(ye=re,re=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ee=this.length-L;if((re===void 0||re>Ee)&&(re=Ee),N.length>0&&(re<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");let je=!1;for(;;)switch(ye){case"hex":return d(this,N,L,re);case"utf8":case"utf-8":return A(this,N,L,re);case"ascii":case"latin1":case"binary":return x(this,N,L,re);case"base64":return O(this,N,L,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,N,L,re);default:if(je)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),je=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(W,N,L){return N===0&&L===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(N,L))}function V(W,N,L){L=Math.min(W.length,L);const re=[];let ye=N;for(;ye<L;){const Ee=W[ye];let je=null,Re=Ee>239?4:Ee>223?3:Ee>191?2:1;if(ye+Re<=L){let Le,dt,yt,lt;switch(Re){case 1:Ee<128&&(je=Ee);break;case 2:Le=W[ye+1],(Le&192)===128&&(lt=(Ee&31)<<6|Le&63,lt>127&&(je=lt));break;case 3:Le=W[ye+1],dt=W[ye+2],(Le&192)===128&&(dt&192)===128&&(lt=(Ee&15)<<12|(Le&63)<<6|dt&63,lt>2047&&(lt<55296||lt>57343)&&(je=lt));break;case 4:Le=W[ye+1],dt=W[ye+2],yt=W[ye+3],(Le&192)===128&&(dt&192)===128&&(yt&192)===128&&(lt=(Ee&15)<<18|(Le&63)<<12|(dt&63)<<6|yt&63,lt>65535&&lt<1114112&&(je=lt))}}je===null?(je=65533,Re=1):je>65535&&(je-=65536,re.push(je>>>10&1023|55296),je=56320|je&1023),re.push(je),ye+=Re}return H(re)}const Q=4096;function H(W){const N=W.length;if(N<=Q)return String.fromCharCode.apply(String,W);let L="",re=0;for(;re<N;)L+=String.fromCharCode.apply(String,W.slice(re,re+=Q));return L}function X(W,N,L){let re="";L=Math.min(W.length,L);for(let ye=N;ye<L;++ye)re+=String.fromCharCode(W[ye]&127);return re}function fe(W,N,L){let re="";L=Math.min(W.length,L);for(let ye=N;ye<L;++ye)re+=String.fromCharCode(W[ye]);return re}function Z(W,N,L){const re=W.length;(!N||N<0)&&(N=0),(!L||L<0||L>re)&&(L=re);let ye="";for(let Ee=N;Ee<L;++Ee)ye+=nt[W[Ee]];return ye}function ne(W,N,L){const re=W.slice(N,L);let ye="";for(let Ee=0;Ee<re.length-1;Ee+=2)ye+=String.fromCharCode(re[Ee]+re[Ee+1]*256);return ye}s.prototype.slice=function(N,L){const re=this.length;N=~~N,L=L===void 0?re:~~L,N<0?(N+=re,N<0&&(N=0)):N>re&&(N=re),L<0?(L+=re,L<0&&(L=0)):L>re&&(L=re),L<N&&(L=N);const ye=this.subarray(N,L);return Object.setPrototypeOf(ye,s.prototype),ye};function C(W,N,L){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+N>L)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(N,L,re){N=N>>>0,L=L>>>0,re||C(N,L,this.length);let ye=this[N],Ee=1,je=0;for(;++je<L&&(Ee*=256);)ye+=this[N+je]*Ee;return ye},s.prototype.readUintBE=s.prototype.readUIntBE=function(N,L,re){N=N>>>0,L=L>>>0,re||C(N,L,this.length);let ye=this[N+--L],Ee=1;for(;L>0&&(Ee*=256);)ye+=this[N+--L]*Ee;return ye},s.prototype.readUint8=s.prototype.readUInt8=function(N,L){return N=N>>>0,L||C(N,1,this.length),this[N]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(N,L){return N=N>>>0,L||C(N,2,this.length),this[N]|this[N+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(N,L){return N=N>>>0,L||C(N,2,this.length),this[N]<<8|this[N+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(N,L){return N=N>>>0,L||C(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(N,L){return N=N>>>0,L||C(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},s.prototype.readBigUInt64LE=We(function(N){N=N>>>0,R(N,"offset");const L=this[N],re=this[N+7];(L===void 0||re===void 0)&&j(N,this.length-8);const ye=L+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,Ee=this[++N]+this[++N]*2**8+this[++N]*2**16+re*2**24;return BigInt(ye)+(BigInt(Ee)<<BigInt(32))}),s.prototype.readBigUInt64BE=We(function(N){N=N>>>0,R(N,"offset");const L=this[N],re=this[N+7];(L===void 0||re===void 0)&&j(N,this.length-8);const ye=L*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],Ee=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+re;return(BigInt(ye)<<BigInt(32))+BigInt(Ee)}),s.prototype.readIntLE=function(N,L,re){N=N>>>0,L=L>>>0,re||C(N,L,this.length);let ye=this[N],Ee=1,je=0;for(;++je<L&&(Ee*=256);)ye+=this[N+je]*Ee;return Ee*=128,ye>=Ee&&(ye-=Math.pow(2,8*L)),ye},s.prototype.readIntBE=function(N,L,re){N=N>>>0,L=L>>>0,re||C(N,L,this.length);let ye=L,Ee=1,je=this[N+--ye];for(;ye>0&&(Ee*=256);)je+=this[N+--ye]*Ee;return Ee*=128,je>=Ee&&(je-=Math.pow(2,8*L)),je},s.prototype.readInt8=function(N,L){return N=N>>>0,L||C(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},s.prototype.readInt16LE=function(N,L){N=N>>>0,L||C(N,2,this.length);const re=this[N]|this[N+1]<<8;return re&32768?re|4294901760:re},s.prototype.readInt16BE=function(N,L){N=N>>>0,L||C(N,2,this.length);const re=this[N+1]|this[N]<<8;return re&32768?re|4294901760:re},s.prototype.readInt32LE=function(N,L){return N=N>>>0,L||C(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},s.prototype.readInt32BE=function(N,L){return N=N>>>0,L||C(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},s.prototype.readBigInt64LE=We(function(N){N=N>>>0,R(N,"offset");const L=this[N],re=this[N+7];(L===void 0||re===void 0)&&j(N,this.length-8);const ye=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+(re<<24);return(BigInt(ye)<<BigInt(32))+BigInt(L+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),s.prototype.readBigInt64BE=We(function(N){N=N>>>0,R(N,"offset");const L=this[N],re=this[N+7];(L===void 0||re===void 0)&&j(N,this.length-8);const ye=(L<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(ye)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+re)}),s.prototype.readFloatLE=function(N,L){return N=N>>>0,L||C(N,4,this.length),t.read(this,N,!0,23,4)},s.prototype.readFloatBE=function(N,L){return N=N>>>0,L||C(N,4,this.length),t.read(this,N,!1,23,4)},s.prototype.readDoubleLE=function(N,L){return N=N>>>0,L||C(N,8,this.length),t.read(this,N,!0,52,8)},s.prototype.readDoubleBE=function(N,L){return N=N>>>0,L||C(N,8,this.length),t.read(this,N,!1,52,8)};function B(W,N,L,re,ye,Ee){if(!s.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>ye||N<Ee)throw new RangeError('"value" argument is out of bounds');if(L+re>W.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(N,L,re,ye){if(N=+N,L=L>>>0,re=re>>>0,!ye){const Re=Math.pow(2,8*re)-1;B(this,N,L,re,Re,0)}let Ee=1,je=0;for(this[L]=N&255;++je<re&&(Ee*=256);)this[L+je]=N/Ee&255;return L+re},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(N,L,re,ye){if(N=+N,L=L>>>0,re=re>>>0,!ye){const Re=Math.pow(2,8*re)-1;B(this,N,L,re,Re,0)}let Ee=re-1,je=1;for(this[L+Ee]=N&255;--Ee>=0&&(je*=256);)this[L+Ee]=N/je&255;return L+re},s.prototype.writeUint8=s.prototype.writeUInt8=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,1,255,0),this[L]=N&255,L+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,2,65535,0),this[L]=N&255,this[L+1]=N>>>8,L+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,2,65535,0),this[L]=N>>>8,this[L+1]=N&255,L+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,4,4294967295,0),this[L+3]=N>>>24,this[L+2]=N>>>16,this[L+1]=N>>>8,this[L]=N&255,L+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,4,4294967295,0),this[L]=N>>>24,this[L+1]=N>>>16,this[L+2]=N>>>8,this[L+3]=N&255,L+4};function K(W,N,L,re,ye){Pe(N,re,ye,W,L,7);let Ee=Number(N&BigInt(4294967295));W[L++]=Ee,Ee=Ee>>8,W[L++]=Ee,Ee=Ee>>8,W[L++]=Ee,Ee=Ee>>8,W[L++]=Ee;let je=Number(N>>BigInt(32)&BigInt(4294967295));return W[L++]=je,je=je>>8,W[L++]=je,je=je>>8,W[L++]=je,je=je>>8,W[L++]=je,L}function P(W,N,L,re,ye){Pe(N,re,ye,W,L,7);let Ee=Number(N&BigInt(4294967295));W[L+7]=Ee,Ee=Ee>>8,W[L+6]=Ee,Ee=Ee>>8,W[L+5]=Ee,Ee=Ee>>8,W[L+4]=Ee;let je=Number(N>>BigInt(32)&BigInt(4294967295));return W[L+3]=je,je=je>>8,W[L+2]=je,je=je>>8,W[L+1]=je,je=je>>8,W[L]=je,L+8}s.prototype.writeBigUInt64LE=We(function(N,L=0){return K(this,N,L,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=We(function(N,L=0){return P(this,N,L,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(N,L,re,ye){if(N=+N,L=L>>>0,!ye){const Le=Math.pow(2,8*re-1);B(this,N,L,re,Le-1,-Le)}let Ee=0,je=1,Re=0;for(this[L]=N&255;++Ee<re&&(je*=256);)N<0&&Re===0&&this[L+Ee-1]!==0&&(Re=1),this[L+Ee]=(N/je>>0)-Re&255;return L+re},s.prototype.writeIntBE=function(N,L,re,ye){if(N=+N,L=L>>>0,!ye){const Le=Math.pow(2,8*re-1);B(this,N,L,re,Le-1,-Le)}let Ee=re-1,je=1,Re=0;for(this[L+Ee]=N&255;--Ee>=0&&(je*=256);)N<0&&Re===0&&this[L+Ee+1]!==0&&(Re=1),this[L+Ee]=(N/je>>0)-Re&255;return L+re},s.prototype.writeInt8=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,1,127,-128),N<0&&(N=255+N+1),this[L]=N&255,L+1},s.prototype.writeInt16LE=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,2,32767,-32768),this[L]=N&255,this[L+1]=N>>>8,L+2},s.prototype.writeInt16BE=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,2,32767,-32768),this[L]=N>>>8,this[L+1]=N&255,L+2},s.prototype.writeInt32LE=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,4,2147483647,-2147483648),this[L]=N&255,this[L+1]=N>>>8,this[L+2]=N>>>16,this[L+3]=N>>>24,L+4},s.prototype.writeInt32BE=function(N,L,re){return N=+N,L=L>>>0,re||B(this,N,L,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[L]=N>>>24,this[L+1]=N>>>16,this[L+2]=N>>>8,this[L+3]=N&255,L+4},s.prototype.writeBigInt64LE=We(function(N,L=0){return K(this,N,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=We(function(N,L=0){return P(this,N,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function I(W,N,L,re,ye,Ee){if(L+re>W.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function q(W,N,L,re,ye){return N=+N,L=L>>>0,ye||I(W,N,L,4),t.write(W,N,L,re,23,4),L+4}s.prototype.writeFloatLE=function(N,L,re){return q(this,N,L,!0,re)},s.prototype.writeFloatBE=function(N,L,re){return q(this,N,L,!1,re)};function ie(W,N,L,re,ye){return N=+N,L=L>>>0,ye||I(W,N,L,8),t.write(W,N,L,re,52,8),L+8}s.prototype.writeDoubleLE=function(N,L,re){return ie(this,N,L,!0,re)},s.prototype.writeDoubleBE=function(N,L,re){return ie(this,N,L,!1,re)},s.prototype.copy=function(N,L,re,ye){if(!s.isBuffer(N))throw new TypeError("argument should be a Buffer");if(re||(re=0),!ye&&ye!==0&&(ye=this.length),L>=N.length&&(L=N.length),L||(L=0),ye>0&&ye<re&&(ye=re),ye===re||N.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(re<0||re>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),N.length-L<ye-re&&(ye=N.length-L+re);const Ee=ye-re;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,re,ye):Uint8Array.prototype.set.call(N,this.subarray(re,ye),L),Ee},s.prototype.fill=function(N,L,re,ye){if(typeof N=="string"){if(typeof L=="string"?(ye=L,L=0,re=this.length):typeof re=="string"&&(ye=re,re=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!s.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(N.length===1){const je=N.charCodeAt(0);(ye==="utf8"&&je<128||ye==="latin1")&&(N=je)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(L<0||this.length<L||this.length<re)throw new RangeError("Out of range index");if(re<=L)return this;L=L>>>0,re=re===void 0?this.length:re>>>0,N||(N=0);let Ee;if(typeof N=="number")for(Ee=L;Ee<re;++Ee)this[Ee]=N;else{const je=s.isBuffer(N)?N:s.from(N,ye),Re=je.length;if(Re===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(Ee=0;Ee<re-L;++Ee)this[Ee+L]=je[Ee%Re]}return this};const J={};function Y(W,N,L){J[W]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(ye){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ye,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(W,N){return`The "${W}" argument must be of type number. Received type ${typeof N}`},TypeError),Y("ERR_OUT_OF_RANGE",function(W,N,L){let re=`The value of "${W}" is out of range.`,ye=L;return Number.isInteger(L)&&Math.abs(L)>2**32?ye=se(String(L)):typeof L=="bigint"&&(ye=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(ye=se(ye)),ye+="n"),re+=` It must be ${N}. Received ${ye}`,re},RangeError);function se(W){let N="",L=W.length;const re=W[0]==="-"?1:0;for(;L>=re+4;L-=3)N=`_${W.slice(L-3,L)}${N}`;return`${W.slice(0,L)}${N}`}function be(W,N,L){R(N,"offset"),(W[N]===void 0||W[N+L]===void 0)&&j(N,W.length-(L+1))}function Pe(W,N,L,re,ye,Ee){if(W>L||W<N){const je=typeof N=="bigint"?"n":"";let Re;throw N===0||N===BigInt(0)?Re=`>= 0${je} and < 2${je} ** ${(Ee+1)*8}${je}`:Re=`>= -(2${je} ** ${(Ee+1)*8-1}${je}) and < 2 ** ${(Ee+1)*8-1}${je}`,new J.ERR_OUT_OF_RANGE("value",Re,W)}be(re,ye,Ee)}function R(W,N){if(typeof W!="number")throw new J.ERR_INVALID_ARG_TYPE(N,"number",W)}function j(W,N,L){throw Math.floor(W)!==W?(R(W,L),new J.ERR_OUT_OF_RANGE("offset","an integer",W)):N<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,W)}const M=/[^+/0-9A-Za-z-_]/g;function G(W){if(W=W.split("=")[0],W=W.trim().replace(M,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function oe(W,N){N=N||1/0;let L;const re=W.length;let ye=null;const Ee=[];for(let je=0;je<re;++je){if(L=W.charCodeAt(je),L>55295&&L<57344){if(!ye){if(L>56319){(N-=3)>-1&&Ee.push(239,191,189);continue}else if(je+1===re){(N-=3)>-1&&Ee.push(239,191,189);continue}ye=L;continue}if(L<56320){(N-=3)>-1&&Ee.push(239,191,189),ye=L;continue}L=(ye-55296<<10|L-56320)+65536}else ye&&(N-=3)>-1&&Ee.push(239,191,189);if(ye=null,L<128){if((N-=1)<0)break;Ee.push(L)}else if(L<2048){if((N-=2)<0)break;Ee.push(L>>6|192,L&63|128)}else if(L<65536){if((N-=3)<0)break;Ee.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((N-=4)<0)break;Ee.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return Ee}function ce(W){const N=[];for(let L=0;L<W.length;++L)N.push(W.charCodeAt(L)&255);return N}function de(W,N){let L,re,ye;const Ee=[];for(let je=0;je<W.length&&!((N-=2)<0);++je)L=W.charCodeAt(je),re=L>>8,ye=L%256,Ee.push(ye),Ee.push(re);return Ee}function ve(W){return e.toByteArray(G(W))}function Ie(W,N,L,re){let ye;for(ye=0;ye<re&&!(ye+L>=N.length||ye>=W.length);++ye)N[ye+L]=W[ye];return ye}function Be(W,N){return W instanceof N||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===N.name}function De(W){return W!==W}const nt=function(){const W="0123456789abcdef",N=new Array(256);for(let L=0;L<16;++L){const re=L*16;for(let ye=0;ye<16;++ye)N[re+ye]=W[L]+W[ye]}return N}();function We(W){return typeof BigInt>"u"?Ue:W}function Ue(){throw new Error("BigInt not supported")}return vu}function Ff(){return bA||(bA=!0,typeof Object.create=="function"?Dp=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Dp=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),Dp}function Cz(){return _A||(_A=!0,r0=Yi.EventEmitter),r0}function Aee(){if(EA)return n0;EA=!0;function e(p,m){var g=Object.keys(p);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(p);m&&(_=_.filter(function(v){return Object.getOwnPropertyDescriptor(p,v).enumerable})),g.push.apply(g,_)}return g}function t(p){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?e(Object(g),!0).forEach(function(_){r(p,_,g[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(g)):e(Object(g)).forEach(function(_){Object.defineProperty(p,_,Object.getOwnPropertyDescriptor(g,_))})}return p}function r(p,m,g){return m in p?Object.defineProperty(p,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[m]=g,p}function n(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function i(p,m){for(var g=0;g<m.length;g++){var _=m[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}function o(p,m,g){return m&&i(p.prototype,m),p}var s=Ol,a=s.Buffer,l=ft,u=l.inspect,f=u&&u.custom||"inspect";function c(p,m,g){a.prototype.copy.call(p,m,g)}return n0=function(){function p(){n(this,p),this.head=null,this.tail=null,this.length=0}return o(p,[{key:"push",value:function(g){var _={data:g,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(g){var _={data:g,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var _=this.head,v=""+_.data;_=_.next;)v+=g+_.data;return v}},{key:"concat",value:function(g){if(this.length===0)return a.alloc(0);for(var _=a.allocUnsafe(g>>>0),v=this.head,h=0;v;)c(v.data,_,h),h+=v.data.length,v=v.next;return _}},{key:"consume",value:function(g,_){var v;return g<this.head.data.length?(v=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?v=this.shift():v=_?this._getString(g):this._getBuffer(g),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var _=this.head,v=1,h=_.data;for(g-=h.length;_=_.next;){var E=_.data,y=g>E.length?E.length:g;if(y===E.length?h+=E:h+=E.slice(0,g),g-=y,g===0){y===E.length?(++v,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=E.slice(y));break}++v}return this.length-=v,h}},{key:"_getBuffer",value:function(g){var _=a.allocUnsafe(g),v=this.head,h=1;for(v.data.copy(_),g-=v.data.length;v=v.next;){var E=v.data,y=g>E.length?E.length:g;if(E.copy(_,_.length-g,0,y),g-=y,g===0){y===E.length?(++h,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=E.slice(y));break}++h}return this.length-=h,_}},{key:f,value:function(g,_){return u(this,t({},_,{depth:0,customInspect:!1}))}}]),p}(),n0}function jz(){if(SA)return i0;SA=!0;var e=Hr;function t(a,l){var u=this,f=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return f||c?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,a)):e.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(p){!l&&p?u._writableState?u._writableState.errorEmitted?e.nextTick(n,u):(u._writableState.errorEmitted=!0,e.nextTick(r,u,p)):e.nextTick(r,u,p):l?(e.nextTick(n,u),l(p)):e.nextTick(n,u)}),this)}function r(a,l){o(a,l),n(a)}function n(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(a,l){a.emit("error",l)}function s(a,l){var u=a._readableState,f=a._writableState;u&&u.autoDestroy||f&&f.autoDestroy?a.destroy(l):a.emit("error",l)}return i0={destroy:t,undestroy:i,errorOrDestroy:s},i0}function Bh(){if($A)return o0;$A=!0;const e={};function t(s,a,l){l||(l=Error);function u(c,p,m){return typeof a=="string"?a:a(c,p,m)}class f extends l{constructor(p,m,g){super(u(p,m,g))}}f.prototype.name=l.name,f.prototype.code=s,e[s]=f}function r(s,a){if(Array.isArray(s)){const l=s.length;return s=s.map(u=>String(u)),l>2?`one of ${a} ${s.slice(0,l-1).join(", ")}, or `+s[l-1]:l===2?`one of ${a} ${s[0]} or ${s[1]}`:`of ${a} ${s[0]}`}else return`of ${a} ${String(s)}`}function n(s,a,l){return s.substr(0,a.length)===a}function i(s,a,l){return(l===void 0||l>s.length)&&(l=s.length),s.substring(l-a.length,l)===a}function o(s,a,l){return typeof l!="number"&&(l=0),l+a.length>s.length?!1:s.indexOf(a,l)!==-1}return t("ERR_INVALID_OPT_VALUE",function(s,a){return'The value "'+a+'" is invalid for option "'+s+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(s,a,l){let u;typeof a=="string"&&n(a,"not ")?(u="must not be",a=a.replace(/^not /,"")):u="must be";let f;if(i(s," argument"))f=`The ${s} ${u} ${r(a,"type")}`;else{const c=o(s,".")?"property":"argument";f=`The "${s}" ${c} ${u} ${r(a,"type")}`}return f+=`. Received type ${typeof l}`,f},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),o0.codes=e,o0}function Dz(){if(TA)return s0;TA=!0;var e=Bh().codes.ERR_INVALID_OPT_VALUE;function t(n,i,o){return n.highWaterMark!=null?n.highWaterMark:i?n[o]:null}function r(n,i,o,s){var a=t(i,s,o);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var l=s?o:"highWaterMark";throw new e(l,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return s0={getHighWaterMark:r},s0}function xee(){if(AA)return a0;AA=!0,a0=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function o(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this||l0,arguments)}return o}function t(r){try{if(!l0.localStorage)return!1}catch{return!1}var n=l0.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return a0}function Mz(){if(xA)return u0;xA=!0;var e=Hr;u0=x;function t(J){var Y=this;this.next=null,this.entry=null,this.finish=function(){ie(Y,J)}}var r;x.WritableState=d;var n={deprecate:xee()},i=Cz(),o=Ol.Buffer,s=zz.Uint8Array||function(){};function a(J){return o.from(J)}function l(J){return o.isBuffer(J)||J instanceof s}var u=jz(),f=Dz(),c=f.getHighWaterMark,p=Bh().codes,m=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,_=p.ERR_MULTIPLE_CALLBACK,v=p.ERR_STREAM_CANNOT_PIPE,h=p.ERR_STREAM_DESTROYED,E=p.ERR_STREAM_NULL_VALUES,y=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING,$=u.errorOrDestroy;Ff()(x,i);function T(){}function d(J,Y,se){r=r||Ah(),J=J||{},typeof se!="boolean"&&(se=Y instanceof r),this.objectMode=!!J.objectMode,se&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=c(this,J,"writableHighWaterMark",se),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var be=J.decodeStrings===!1;this.decodeStrings=!be,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Pe){fe(Y,Pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}d.prototype.getBuffer=function(){for(var Y=this.bufferedRequest,se=[];Y;)se.push(Y),Y=Y.next;return se},function(){try{Object.defineProperty(d.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var A;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(Y){return A.call(this,Y)?!0:this!==x?!1:Y&&Y._writableState instanceof d}})):A=function(Y){return Y instanceof this};function x(J){r=r||Ah();var Y=this instanceof r;if(!Y&&!A.call(x,this))return new x(J);this._writableState=new d(J,this,Y),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),i.call(this)}x.prototype.pipe=function(){$(this,new v)};function O(J,Y){var se=new y;$(J,se),e.nextTick(Y,se)}function D(J,Y,se,be){var Pe;return se===null?Pe=new E:typeof se!="string"&&!Y.objectMode&&(Pe=new m("chunk",["string","Buffer"],se)),Pe?($(J,Pe),e.nextTick(be,Pe),!1):!0}x.prototype.write=function(J,Y,se){var be=this._writableState,Pe=!1,R=!be.objectMode&&l(J);return R&&!o.isBuffer(J)&&(J=a(J)),typeof Y=="function"&&(se=Y,Y=null),R?Y="buffer":Y||(Y=be.defaultEncoding),typeof se!="function"&&(se=T),be.ending?O(this,se):(R||D(this,be,J,se))&&(be.pendingcb++,Pe=V(this,be,R,J,Y,se)),Pe},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&C(this,J))},x.prototype.setDefaultEncoding=function(Y){if(typeof Y=="string"&&(Y=Y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Y+"").toLowerCase())>-1))throw new S(Y);return this._writableState.defaultEncoding=Y,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function F(J,Y,se){return!J.objectMode&&J.decodeStrings!==!1&&typeof Y=="string"&&(Y=o.from(Y,se)),Y}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function V(J,Y,se,be,Pe,R){if(!se){var j=F(Y,be,Pe);be!==j&&(se=!0,Pe="buffer",be=j)}var M=Y.objectMode?1:be.length;Y.length+=M;var G=Y.length<Y.highWaterMark;if(G||(Y.needDrain=!0),Y.writing||Y.corked){var oe=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:be,encoding:Pe,isBuf:se,callback:R,next:null},oe?oe.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else Q(J,Y,!1,M,be,Pe,R);return G}function Q(J,Y,se,be,Pe,R,j){Y.writelen=be,Y.writecb=j,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new h("write")):se?J._writev(Pe,Y.onwrite):J._write(Pe,R,Y.onwrite),Y.sync=!1}function H(J,Y,se,be,Pe){--Y.pendingcb,se?(e.nextTick(Pe,be),e.nextTick(I,J,Y),J._writableState.errorEmitted=!0,$(J,be)):(Pe(be),J._writableState.errorEmitted=!0,$(J,be),I(J,Y))}function X(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function fe(J,Y){var se=J._writableState,be=se.sync,Pe=se.writecb;if(typeof Pe!="function")throw new _;if(X(se),Y)H(J,se,be,Y,Pe);else{var R=B(se)||J.destroyed;!R&&!se.corked&&!se.bufferProcessing&&se.bufferedRequest&&C(J,se),be?e.nextTick(Z,J,se,R,Pe):Z(J,se,R,Pe)}}function Z(J,Y,se,be){se||ne(J,Y),Y.pendingcb--,be(),I(J,Y)}function ne(J,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,J.emit("drain"))}function C(J,Y){Y.bufferProcessing=!0;var se=Y.bufferedRequest;if(J._writev&&se&&se.next){var be=Y.bufferedRequestCount,Pe=new Array(be),R=Y.corkedRequestsFree;R.entry=se;for(var j=0,M=!0;se;)Pe[j]=se,se.isBuf||(M=!1),se=se.next,j+=1;Pe.allBuffers=M,Q(J,Y,!0,Y.length,Pe,"",R.finish),Y.pendingcb++,Y.lastBufferedRequest=null,R.next?(Y.corkedRequestsFree=R.next,R.next=null):Y.corkedRequestsFree=new t(Y),Y.bufferedRequestCount=0}else{for(;se;){var G=se.chunk,oe=se.encoding,ce=se.callback,de=Y.objectMode?1:G.length;if(Q(J,Y,!1,de,G,oe,ce),se=se.next,Y.bufferedRequestCount--,Y.writing)break}se===null&&(Y.lastBufferedRequest=null)}Y.bufferedRequest=se,Y.bufferProcessing=!1}x.prototype._write=function(J,Y,se){se(new g("_write()"))},x.prototype._writev=null,x.prototype.end=function(J,Y,se){var be=this._writableState;return typeof J=="function"?(se=J,J=null,Y=null):typeof Y=="function"&&(se=Y,Y=null),J!=null&&this.write(J,Y),be.corked&&(be.corked=1,this.uncork()),be.ending||q(this,be,se),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function K(J,Y){J._final(function(se){Y.pendingcb--,se&&$(J,se),Y.prefinished=!0,J.emit("prefinish"),I(J,Y)})}function P(J,Y){!Y.prefinished&&!Y.finalCalled&&(typeof J._final=="function"&&!Y.destroyed?(Y.pendingcb++,Y.finalCalled=!0,e.nextTick(K,J,Y)):(Y.prefinished=!0,J.emit("prefinish")))}function I(J,Y){var se=B(Y);if(se&&(P(J,Y),Y.pendingcb===0&&(Y.finished=!0,J.emit("finish"),Y.autoDestroy))){var be=J._readableState;(!be||be.autoDestroy&&be.endEmitted)&&J.destroy()}return se}function q(J,Y,se){Y.ending=!0,I(J,Y),se&&(Y.finished?e.nextTick(se):J.once("finish",se)),Y.ended=!0,J.writable=!1}function ie(J,Y,se){var be=J.entry;for(J.entry=null;be;){var Pe=be.callback;Y.pendingcb--,Pe(se),be=be.next}Y.corkedRequestsFree.next=J}return Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Y){this._writableState&&(this._writableState.destroyed=Y)}}),x.prototype.destroy=u.destroy,x.prototype._undestroy=u.undestroy,x.prototype._destroy=function(J,Y){Y(J)},u0}function Ah(){if(OA)return c0;OA=!0;var e=Hr,t=Object.keys||function(f){var c=[];for(var p in f)c.push(p);return c};c0=a;var r=Lz(),n=Mz();Ff()(a,r);for(var i=t(n.prototype),o=0;o<i.length;o++){var s=i[o];a.prototype[s]||(a.prototype[s]=n.prototype[s])}function a(f){if(!(this instanceof a))return new a(f);r.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||e.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),c0}function GR(){if(PA)return f0;PA=!0;var e=Bh().codes.ERR_STREAM_PREMATURE_CLOSE;function t(o){var s=!1;return function(){if(!s){s=!0;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];o.apply(this,l)}}}function r(){}function n(o){return o.setHeader&&typeof o.abort=="function"}function i(o,s,a){if(typeof s=="function")return i(o,null,s);s||(s={}),a=t(a||r);var l=s.readable||s.readable!==!1&&o.readable,u=s.writable||s.writable!==!1&&o.writable,f=function(){o.writable||p()},c=o._writableState&&o._writableState.finished,p=function(){u=!1,c=!0,l||a.call(o)},m=o._readableState&&o._readableState.endEmitted,g=function(){l=!1,m=!0,u||a.call(o)},_=function(y){a.call(o,y)},v=function(){var y;if(l&&!m)return(!o._readableState||!o._readableState.ended)&&(y=new e),a.call(o,y);if(u&&!c)return(!o._writableState||!o._writableState.ended)&&(y=new e),a.call(o,y)},h=function(){o.req.on("finish",p)};return n(o)?(o.on("complete",p),o.on("abort",v),o.req?h():o.on("request",h)):u&&!o._writableState&&(o.on("end",f),o.on("close",f)),o.on("end",g),o.on("finish",p),s.error!==!1&&o.on("error",_),o.on("close",v),function(){o.removeListener("complete",p),o.removeListener("abort",v),o.removeListener("request",h),o.req&&o.req.removeListener("finish",p),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",p),o.removeListener("end",g),o.removeListener("error",_),o.removeListener("close",v)}}return f0=i,f0}function Oee(){if(RA)return d0;RA=!0;var e=Hr,t;function r(E,y,S){return y in E?Object.defineProperty(E,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[y]=S,E}var n=GR(),i=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),a=Symbol("ended"),l=Symbol("lastPromise"),u=Symbol("handlePromise"),f=Symbol("stream");function c(E,y){return{value:E,done:y}}function p(E){var y=E[i];if(y!==null){var S=E[f].read();S!==null&&(E[l]=null,E[i]=null,E[o]=null,y(c(S,!1)))}}function m(E){e.nextTick(p,E)}function g(E,y){return function(S,$){E.then(function(){if(y[a]){S(c(void 0,!0));return}y[u](S,$)},$)}}var _=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var y=this,S=this[s];if(S!==null)return Promise.reject(S);if(this[a])return Promise.resolve(c(void 0,!0));if(this[f].destroyed)return new Promise(function(A,x){e.nextTick(function(){y[s]?x(y[s]):A(c(void 0,!0))})});var $=this[l],T;if($)T=new Promise(g($,this));else{var d=this[f].read();if(d!==null)return Promise.resolve(c(d,!1));T=new Promise(this[u])}return this[l]=T,T}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var y=this;return new Promise(function(S,$){y[f].destroy(null,function(T){if(T){$(T);return}S(c(void 0,!0))})})}),t),_),h=function(y){var S,$=Object.create(v,(S={},r(S,f,{value:y,writable:!0}),r(S,i,{value:null,writable:!0}),r(S,o,{value:null,writable:!0}),r(S,s,{value:null,writable:!0}),r(S,a,{value:y._readableState.endEmitted,writable:!0}),r(S,u,{value:function(d,A){var x=$[f].read();x?($[l]=null,$[i]=null,$[o]=null,d(c(x,!1))):($[i]=d,$[o]=A)},writable:!0}),S));return $[l]=null,n(y,function(T){if(T&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"){var d=$[o];d!==null&&($[l]=null,$[i]=null,$[o]=null,d(T)),$[s]=T;return}var A=$[i];A!==null&&($[l]=null,$[i]=null,$[o]=null,A(c(void 0,!0))),$[a]=!0}),y.on("readable",m.bind(null,$)),$};return d0=h,d0}function Pee(){return NA||(NA=!0,h0=function(){throw new Error("Readable.from is not available in the browser")}),h0}function Lz(){if(IA)return p0;IA=!0;var e=Hr;p0=O;var t;O.ReadableState=x,Yi.EventEmitter;var r=function(j,M){return j.listeners(M).length},n=Cz(),i=Ol.Buffer,o=qz.Uint8Array||function(){};function s(R){return i.from(R)}function a(R){return i.isBuffer(R)||R instanceof o}var l=ft,u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var f=Aee(),c=jz(),p=Dz(),m=p.getHighWaterMark,g=Bh().codes,_=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,h=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,S,$;Ff()(O,n);var T=c.errorOrDestroy,d=["error","close","destroy","pause","resume"];function A(R,j,M){if(typeof R.prependListener=="function")return R.prependListener(j,M);!R._events||!R._events[j]?R.on(j,M):Array.isArray(R._events[j])?R._events[j].unshift(M):R._events[j]=[M,R._events[j]]}function x(R,j,M){t=t||Ah(),R=R||{},typeof M!="boolean"&&(M=j instanceof t),this.objectMode=!!R.objectMode,M&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=m(this,R,"readableHighWaterMark",M),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(y||(y=Lb.StringDecoder),this.decoder=new y(R.encoding),this.encoding=R.encoding)}function O(R){if(t=t||Ah(),!(this instanceof O))return new O(R);var j=this instanceof t;this._readableState=new x(R,this,j),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),n.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),O.prototype.destroy=c.destroy,O.prototype._undestroy=c.undestroy,O.prototype._destroy=function(R,j){j(R)},O.prototype.push=function(R,j){var M=this._readableState,G;return M.objectMode?G=!0:typeof R=="string"&&(j=j||M.defaultEncoding,j!==M.encoding&&(R=i.from(R,j),j=""),G=!0),D(this,R,j,!1,G)},O.prototype.unshift=function(R){return D(this,R,null,!0,!1)};function D(R,j,M,G,oe){u("readableAddChunk",j);var ce=R._readableState;if(j===null)ce.reading=!1,fe(R,ce);else{var de;if(oe||(de=V(ce,j)),de)T(R,de);else if(ce.objectMode||j&&j.length>0)if(typeof j!="string"&&!ce.objectMode&&Object.getPrototypeOf(j)!==i.prototype&&(j=s(j)),G)ce.endEmitted?T(R,new E):F(R,ce,j,!0);else if(ce.ended)T(R,new v);else{if(ce.destroyed)return!1;ce.reading=!1,ce.decoder&&!M?(j=ce.decoder.write(j),ce.objectMode||j.length!==0?F(R,ce,j,!1):C(R,ce)):F(R,ce,j,!1)}else G||(ce.reading=!1,C(R,ce))}return!ce.ended&&(ce.length<ce.highWaterMark||ce.length===0)}function F(R,j,M,G){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,R.emit("data",M)):(j.length+=j.objectMode?1:M.length,G?j.buffer.unshift(M):j.buffer.push(M),j.needReadable&&Z(R)),C(R,j)}function V(R,j){var M;return!a(j)&&typeof j!="string"&&j!==void 0&&!R.objectMode&&(M=new _("chunk",["string","Buffer","Uint8Array"],j)),M}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(R){y||(y=Lb.StringDecoder);var j=new y(R);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var M=this._readableState.buffer.head,G="";M!==null;)G+=j.write(M.data),M=M.next;return this._readableState.buffer.clear(),G!==""&&this._readableState.buffer.push(G),this._readableState.length=G.length,this};var Q=1073741824;function H(R){return R>=Q?R=Q:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function X(R,j){return R<=0||j.length===0&&j.ended?0:j.objectMode?1:R!==R?j.flowing&&j.length?j.buffer.head.data.length:j.length:(R>j.highWaterMark&&(j.highWaterMark=H(R)),R<=j.length?R:j.ended?j.length:(j.needReadable=!0,0))}O.prototype.read=function(R){u("read",R),R=parseInt(R,10);var j=this._readableState,M=R;if(R!==0&&(j.emittedReadable=!1),R===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return u("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?se(this):Z(this),null;if(R=X(R,j),R===0&&j.ended)return j.length===0&&se(this),null;var G=j.needReadable;u("need readable",G),(j.length===0||j.length-R<j.highWaterMark)&&(G=!0,u("length less than watermark",G)),j.ended||j.reading?(G=!1,u("reading or ended",G)):G&&(u("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||(R=X(M,j)));var oe;return R>0?oe=Y(R,j):oe=null,oe===null?(j.needReadable=j.length<=j.highWaterMark,R=0):(j.length-=R,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),M!==R&&j.ended&&se(this)),oe!==null&&this.emit("data",oe),oe};function fe(R,j){if(u("onEofChunk"),!j.ended){if(j.decoder){var M=j.decoder.end();M&&M.length&&(j.buffer.push(M),j.length+=j.objectMode?1:M.length)}j.ended=!0,j.sync?Z(R):(j.needReadable=!1,j.emittedReadable||(j.emittedReadable=!0,ne(R)))}}function Z(R){var j=R._readableState;u("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(u("emitReadable",j.flowing),j.emittedReadable=!0,e.nextTick(ne,R))}function ne(R){var j=R._readableState;u("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&(j.length||j.ended)&&(R.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,J(R)}function C(R,j){j.readingMore||(j.readingMore=!0,e.nextTick(B,R,j))}function B(R,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var M=j.length;if(u("maybeReadMore read 0"),R.read(0),M===j.length)break}j.readingMore=!1}O.prototype._read=function(R){T(this,new h("_read()"))},O.prototype.pipe=function(R,j){var M=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=R;break;case 1:G.pipes=[G.pipes,R];break;default:G.pipes.push(R);break}G.pipesCount+=1,u("pipe count=%d opts=%j",G.pipesCount,j);var oe=(!j||j.end!==!1)&&R!==e.stdout&&R!==e.stderr,ce=oe?ve:N;G.endEmitted?e.nextTick(ce):M.once("end",ce),R.on("unpipe",de);function de(L,re){u("onunpipe"),L===M&&re&&re.hasUnpiped===!1&&(re.hasUnpiped=!0,De())}function ve(){u("onend"),R.end()}var Ie=K(M);R.on("drain",Ie);var Be=!1;function De(){u("cleanup"),R.removeListener("close",Ue),R.removeListener("finish",W),R.removeListener("drain",Ie),R.removeListener("error",We),R.removeListener("unpipe",de),M.removeListener("end",ve),M.removeListener("end",N),M.removeListener("data",nt),Be=!0,G.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&Ie()}M.on("data",nt);function nt(L){u("ondata");var re=R.write(L);u("dest.write",re),re===!1&&((G.pipesCount===1&&G.pipes===R||G.pipesCount>1&&Pe(G.pipes,R)!==-1)&&!Be&&(u("false write response, pause",G.awaitDrain),G.awaitDrain++),M.pause())}function We(L){u("onerror",L),N(),R.removeListener("error",We),r(R,"error")===0&&T(R,L)}A(R,"error",We);function Ue(){R.removeListener("finish",W),N()}R.once("close",Ue);function W(){u("onfinish"),R.removeListener("close",Ue),N()}R.once("finish",W);function N(){u("unpipe"),M.unpipe(R)}return R.emit("pipe",M),G.flowing||(u("pipe resume"),M.resume()),R};function K(R){return function(){var M=R._readableState;u("pipeOnDrain",M.awaitDrain),M.awaitDrain&&M.awaitDrain--,M.awaitDrain===0&&r(R,"data")&&(M.flowing=!0,J(R))}}O.prototype.unpipe=function(R){var j=this._readableState,M={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return R&&R!==j.pipes?this:(R||(R=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,R&&R.emit("unpipe",this,M),this);if(!R){var G=j.pipes,oe=j.pipesCount;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var ce=0;ce<oe;ce++)G[ce].emit("unpipe",this,{hasUnpiped:!1});return this}var de=Pe(j.pipes,R);return de===-1?this:(j.pipes.splice(de,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),R.emit("unpipe",this,M),this)},O.prototype.on=function(R,j){var M=n.prototype.on.call(this,R,j),G=this._readableState;return R==="data"?(G.readableListening=this.listenerCount("readable")>0,G.flowing!==!1&&this.resume()):R==="readable"&&!G.endEmitted&&!G.readableListening&&(G.readableListening=G.needReadable=!0,G.flowing=!1,G.emittedReadable=!1,u("on readable",G.length,G.reading),G.length?Z(this):G.reading||e.nextTick(I,this)),M},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(R,j){var M=n.prototype.removeListener.call(this,R,j);return R==="readable"&&e.nextTick(P,this),M},O.prototype.removeAllListeners=function(R){var j=n.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&e.nextTick(P,this),j};function P(R){var j=R._readableState;j.readableListening=R.listenerCount("readable")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:R.listenerCount("data")>0&&R.resume()}function I(R){u("readable nexttick read 0"),R.read(0)}O.prototype.resume=function(){var R=this._readableState;return R.flowing||(u("resume"),R.flowing=!R.readableListening,q(this,R)),R.paused=!1,this};function q(R,j){j.resumeScheduled||(j.resumeScheduled=!0,e.nextTick(ie,R,j))}function ie(R,j){u("resume",j.reading),j.reading||R.read(0),j.resumeScheduled=!1,R.emit("resume"),J(R),j.flowing&&!j.reading&&R.read(0)}O.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(R){var j=R._readableState;for(u("flow",j.flowing);j.flowing&&R.read()!==null;);}O.prototype.wrap=function(R){var j=this,M=this._readableState,G=!1;R.on("end",function(){if(u("wrapped end"),M.decoder&&!M.ended){var de=M.decoder.end();de&&de.length&&j.push(de)}j.push(null)}),R.on("data",function(de){if(u("wrapped data"),M.decoder&&(de=M.decoder.write(de)),!(M.objectMode&&de==null)&&!(!M.objectMode&&(!de||!de.length))){var ve=j.push(de);ve||(G=!0,R.pause())}});for(var oe in R)this[oe]===void 0&&typeof R[oe]=="function"&&(this[oe]=function(ve){return function(){return R[ve].apply(R,arguments)}}(oe));for(var ce=0;ce<d.length;ce++)R.on(d[ce],this.emit.bind(this,d[ce]));return this._read=function(de){u("wrapped _read",de),G&&(G=!1,R.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=Oee()),S(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(j){this._readableState&&(this._readableState.flowing=j)}}),O._fromList=Y,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Y(R,j){if(j.length===0)return null;var M;return j.objectMode?M=j.buffer.shift():!R||R>=j.length?(j.decoder?M=j.buffer.join(""):j.buffer.length===1?M=j.buffer.first():M=j.buffer.concat(j.length),j.buffer.clear()):M=j.buffer.consume(R,j.decoder),M}function se(R){var j=R._readableState;u("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,e.nextTick(be,j,R))}function be(R,j){if(u("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,j.readable=!1,j.emit("end"),R.autoDestroy)){var M=j._writableState;(!M||M.autoDestroy&&M.finished)&&j.destroy()}}typeof Symbol=="function"&&(O.from=function(R,j){return $===void 0&&($=Pee()),$(O,R,j)});function Pe(R,j){for(var M=0,G=R.length;M<G;M++)if(R[M]===j)return M;return-1}return p0}function Fz(){if(kA)return m0;kA=!0,m0=a;var e=Bh().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=Ah();Ff()(a,o);function s(f,c){var p=this._transformState;p.transforming=!1;var m=p.writecb;if(m===null)return this.emit("error",new r);p.writechunk=null,p.writecb=null,c!=null&&this.push(c),m(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function a(f){if(!(this instanceof a))return new a(f);o.call(this,f),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,p){u(f,c,p)}):u(this,null,null)}a.prototype.push=function(f,c){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,c)},a.prototype._transform=function(f,c,p){p(new t("_transform()"))},a.prototype._write=function(f,c,p){var m=this._transformState;if(m.writecb=p,m.writechunk=f,m.writeencoding=c,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},a.prototype._read=function(f){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},a.prototype._destroy=function(f,c){o.prototype._destroy.call(this,f,function(p){c(p)})};function u(f,c,p){if(c)return f.emit("error",c);if(p!=null&&f.push(p),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return m0}function Ree(){if(CA)return g0;CA=!0,g0=t;var e=Fz();Ff()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},g0}function Nee(){if(jA)return v0;jA=!0;var e;function t(p){var m=!1;return function(){m||(m=!0,p.apply(void 0,arguments))}}var r=Bh().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function o(p){if(p)throw p}function s(p){return p.setHeader&&typeof p.abort=="function"}function a(p,m,g,_){_=t(_);var v=!1;p.on("close",function(){v=!0}),e===void 0&&(e=GR()),e(p,{readable:m,writable:g},function(E){if(E)return _(E);v=!0,_()});var h=!1;return function(E){if(!v&&!h){if(h=!0,s(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();_(E||new i("pipe"))}}}function l(p){p()}function u(p,m){return p.pipe(m)}function f(p){return!p.length||typeof p[p.length-1]!="function"?o:p.pop()}function c(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];var _=f(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new n("streams");var v,h=m.map(function(E,y){var S=y<m.length-1,$=y>0;return a(E,S,$,function(T){v||(v=T),T&&h.forEach(l),!S&&(h.forEach(l),_(v))})});return m.reduce(u)}return v0=c,v0}var OD,ea,Fo,PD,jv,Nc,RD,ND,$a,Mb,Wc,e1,Bz,Uz,mp,gp,Ks,ID,Lb,Fb,gA,Td,vA,jp,yA,vu,wA,Ol,Dp,bA,r0,_A,n0,EA,i0,SA,o0,$A,s0,TA,a0,AA,l0,u0,xA,zz,c0,OA,f0,PA,d0,RA,h0,NA,p0,IA,qz,m0,kA,g0,CA,v0,jA,Vz=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-B738Er4n.js"(){for(Te(),K_(),_g(),J_(),OD={byteLength:function(e){var t=_D(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=_D(e),i=n[0],o=n[1],s=new PD(function(u,f,c){return 3*(f+c)/4-c}(0,i,o)),a=0,l=o>0?i-4:i;for(r=0;r<l;r+=4)t=Fo[e.charCodeAt(r)]<<18|Fo[e.charCodeAt(r+1)]<<12|Fo[e.charCodeAt(r+2)]<<6|Fo[e.charCodeAt(r+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return o===2&&(t=Fo[e.charCodeAt(r)]<<2|Fo[e.charCodeAt(r+1)]>>4,s[a++]=255&t),o===1&&(t=Fo[e.charCodeAt(r)]<<10|Fo[e.charCodeAt(r+1)]<<4|Fo[e.charCodeAt(r+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},fromByteArray:function(e){for(var t,r=e.length,n=r%3,i=[],o=0,s=r-n;o<s;o+=16383)i.push(iee(e,o,o+16383>s?s:o+16383));return n===1?(t=e[r-1],i.push(ea[t>>2]+ea[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(ea[t>>10]+ea[t>>4&63]+ea[t<<2&63]+"=")),i.join("")}},ea=[],Fo=[],PD=typeof Uint8Array<"u"?Uint8Array:Array,jv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nc=0,RD=jv.length;Nc<RD;++Nc)ea[Nc]=jv[Nc],Fo[jv.charCodeAt(Nc)]=Nc;Fo[45]=62,Fo[95]=63,ND={read:function(e,t,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,u=l>>1,f=-7,c=r?i-1:0,p=r?-1:1,m=e[t+c];for(c+=p,o=m&(1<<-f)-1,m>>=-f,f+=a;f>0;o=256*o+e[t+c],c+=p,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+c],c+=p,f-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:1/0*(m?-1:1);s+=Math.pow(2,n),o-=u}return(m?-1:1)*s*Math.pow(2,o-n)},write:function(e,t,r,n,i,o){var s,a,l,u=8*o-i-1,f=(1<<u)-1,c=f>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+c>=1?p/l:p*Math.pow(2,1-c))*l>=2&&(s++,l/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(t*l-1)*Math.pow(2,i),s+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[r+m]=255&a,m+=g,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+m]=255&s,m+=g,s/=256,u-=8);e[r+m-g]|=128*_}},$a={},Mb=OD,Wc=ND,e1=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,$a.Buffer=vt,$a.SlowBuffer=function(e){return+e!=e&&(e=0),vt.alloc(+e)},$a.INSPECT_MAX_BYTES=50,$a.kMaxLength=2147483647,vt.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}(),vt.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(vt.prototype,"parent",{enumerable:!0,get:function(){if(vt.isBuffer(this))return this.buffer}}),Object.defineProperty(vt.prototype,"offset",{enumerable:!0,get:function(){if(vt.isBuffer(this))return this.byteOffset}}),vt.poolSize=8192,vt.from=function(e,t,r){return xz(e,t,r)},Object.setPrototypeOf(vt.prototype,Uint8Array.prototype),Object.setPrototypeOf(vt,Uint8Array),vt.alloc=function(e,t,r){return function(n,i,o){return Oz(n),n<=0?Al(n):i!==void 0?typeof o=="string"?Al(n).fill(i,o):Al(n).fill(i):Al(n)}(e,t,r)},vt.allocUnsafe=function(e){return pA(e)},vt.allocUnsafeSlow=function(e){return pA(e)},vt.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==vt.prototype},vt.compare=function(e,t){if(xl(e,Uint8Array)&&(e=vt.from(e,e.offset,e.byteLength)),xl(t,Uint8Array)&&(t=vt.from(t,t.offset,t.byteLength)),!vt.isBuffer(e)||!vt.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},vt.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},vt.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return vt.alloc(0);var r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=vt.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(xl(o,Uint8Array)&&(o=vt.from(o)),!vt.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},vt.byteLength=Pz,vt.prototype._isBuffer=!0,vt.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Pc(this,t,t+1);return this},vt.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Pc(this,t,t+3),Pc(this,t+1,t+2);return this},vt.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Pc(this,t,t+7),Pc(this,t+1,t+6),Pc(this,t+2,t+5),Pc(this,t+3,t+4);return this},vt.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?Nz(this,0,e):oee.apply(this,arguments)},vt.prototype.toLocaleString=vt.prototype.toString,vt.prototype.equals=function(e){if(!vt.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||vt.compare(this,e)===0},vt.prototype.inspect=function(){var e="",t=$a.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},e1&&(vt.prototype[e1]=vt.prototype.inspect),vt.prototype.compare=function(e,t,r,n,i){if(xl(e,Uint8Array)&&(e=vt.from(e,e.offset,e.byteLength)),!vt.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),l=this.slice(n,i),u=e.slice(t,r),f=0;f<a;++f)if(l[f]!==u[f]){o=l[f],s=u[f];break}return o<s?-1:s<o?1:0},vt.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},vt.prototype.indexOf=function(e,t,r){return SD(this,e,t,r,!0)},vt.prototype.lastIndexOf=function(e,t,r){return SD(this,e,t,r,!1)},vt.prototype.write=function(e,t,r,n){if(t===void 0)n="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,n===void 0&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((r===void 0||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return see(this,e,t,r);case"utf8":case"utf-8":return aee(this,e,t,r);case"ascii":return Rz(this,e,t,r);case"latin1":case"binary":return lee(this,e,t,r);case"base64":return uee(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cee(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},vt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},vt.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=t===void 0?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,vt.prototype),n},vt.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||si(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},vt.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||si(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},vt.prototype.readUInt8=function(e,t){return e>>>=0,t||si(e,1,this.length),this[e]},vt.prototype.readUInt16LE=function(e,t){return e>>>=0,t||si(e,2,this.length),this[e]|this[e+1]<<8},vt.prototype.readUInt16BE=function(e,t){return e>>>=0,t||si(e,2,this.length),this[e]<<8|this[e+1]},vt.prototype.readUInt32LE=function(e,t){return e>>>=0,t||si(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},vt.prototype.readUInt32BE=function(e,t){return e>>>=0,t||si(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},vt.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||si(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},vt.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||si(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},vt.prototype.readInt8=function(e,t){return e>>>=0,t||si(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},vt.prototype.readInt16LE=function(e,t){e>>>=0,t||si(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},vt.prototype.readInt16BE=function(e,t){e>>>=0,t||si(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},vt.prototype.readInt32LE=function(e,t){return e>>>=0,t||si(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},vt.prototype.readInt32BE=function(e,t){return e>>>=0,t||si(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},vt.prototype.readFloatLE=function(e,t){return e>>>=0,t||si(e,4,this.length),Wc.read(this,e,!0,23,4)},vt.prototype.readFloatBE=function(e,t){return e>>>=0,t||si(e,4,this.length),Wc.read(this,e,!1,23,4)},vt.prototype.readDoubleLE=function(e,t){return e>>>=0,t||si(e,8,this.length),Wc.read(this,e,!0,52,8)},vt.prototype.readDoubleBE=function(e,t){return e>>>=0,t||si(e,8,this.length),Wc.read(this,e,!1,52,8)},vt.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||po(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},vt.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||po(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},vt.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,1,255,0),this[t]=255&e,t+1},vt.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},vt.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},vt.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},vt.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},vt.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);po(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&a===0&&this[t+o-1]!==0&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},vt.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);po(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&a===0&&this[t+o+1]!==0&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},vt.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},vt.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},vt.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},vt.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},vt.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},vt.prototype.writeFloatLE=function(e,t,r){return TD(this,e,t,!0,r)},vt.prototype.writeFloatBE=function(e,t,r){return TD(this,e,t,!1,r)},vt.prototype.writeDoubleLE=function(e,t,r){return AD(this,e,t,!0,r)},vt.prototype.writeDoubleBE=function(e,t,r){return AD(this,e,t,!1,r)},vt.prototype.copy=function(e,t,r,n){if(!vt.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||n===0||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},vt.prototype.fill=function(e,t,r,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!vt.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var i=e.charCodeAt(0);(n==="utf8"&&i<128||n==="latin1")&&(e=i)}}else typeof e=="number"?e&=255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=r===void 0?this.length:r>>>0,e||(e=0),typeof e=="number")for(o=t;o<r;++o)this[o]=e;else{var s=vt.isBuffer(e)?e:vt.from(e,n),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this},Bz=/[^+/0-9A-Za-z-_]/g,Uz=function(){for(var e=new Array(256),t=0;t<16;++t)for(var r=16*t,n=0;n<16;++n)e[r+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];return e}(),$a.Buffer,$a.INSPECT_MAX_BYTES,$a.kMaxLength,mp={},gp=$a,Ks=gp.Buffer,Ks.from&&Ks.alloc&&Ks.allocUnsafe&&Ks.allocUnsafeSlow?mp=gp:(xD(gp,mp),mp.Buffer=Rc),Rc.prototype=Object.create(Ks.prototype),xD(Ks,Rc),Rc.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Ks(e,t,r)},Rc.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Ks(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n},Rc.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ks(e)},Rc.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return gp.SlowBuffer(e)},ID=mp,Lb={},Fb=ID.Buffer,gA=Fb.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Lb.StringDecoder=pp,pp.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if((t=this.fillLast(e))===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},pp.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},pp.prototype.text=function(e,t){var r=function(i,o,s){var a=o.length-1;if(a<s)return 0;var l=ZS(o[a]);return l>=0?(l>0&&(i.lastNeed=l-1),l):--a<s||l===-2?0:(l=ZS(o[a]))>=0?(l>0&&(i.lastNeed=l-2),l):--a<s||l===-2?0:(l=ZS(o[a]))>=0?(l>0&&(l===2?l=0:i.lastNeed=l-3),l):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},pp.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},Td={},vA=!1,jp={},yA=!1,vu={},wA=!1,Ol=Tee(),Ol.Buffer,Ol.INSPECT_MAX_BYTES,Ol.kMaxLength,Dp={},bA=!1,r0={},_A=!1,n0={},EA=!1,i0={},SA=!1,o0={},$A=!1,s0={},TA=!1,a0={},AA=!1,l0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,u0={},xA=!1,zz=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,c0={},OA=!1,f0={},PA=!1,d0={},RA=!1,h0={},NA=!1,p0={},IA=!1,qz=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,m0={},kA=!1,g0={},CA=!1,v0={},jA=!1}});function Hz(){return DA||(DA=!0,Wi=Wi=Lz(),Wi.Stream=Wi,Wi.Readable=Wi,Wi.Writable=Mz(),Wi.Duplex=Ah(),Wi.Transform=Fz(),Wi.PassThrough=Ree(),Wi.finished=GR(),Wi.pipeline=Nee()),Wi}var Wi,DA,Iee=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-C4rKjYLo.js"(){Te(),Vz(),Wi={},DA=!1}}),Sg={};rl(Sg,{Agent:()=>Jz,ClientRequest:()=>Yz,IncomingMessage:()=>Xz,METHODS:()=>Qz,STATUS_CODES:()=>Zz,default:()=>Ra,get:()=>e6,globalAgent:()=>t6,request:()=>r6});function Wz(){if(MA)return go;MA=!0,go.fetch=n(yu.fetch)&&n(yu.ReadableStream),go.writableStream=n(yu.WritableStream),go.abortController=n(yu.AbortController);var e;function t(){if(e!==void 0)return e;if(yu.XMLHttpRequest){e=new yu.XMLHttpRequest;try{e.open("GET",yu.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function r(i){var o=t();if(!o)return!1;try{return o.responseType=i,o.responseType===i}catch{}return!1}go.arraybuffer=go.fetch||r("arraybuffer"),go.msstream=!go.fetch&&r("ms-stream"),go.mozchunkedarraybuffer=!go.fetch&&r("moz-chunked-arraybuffer"),go.overrideMimeType=go.fetch||(t()?n(t().overrideMimeType):!1);function n(i){return typeof i=="function"}return e=null,go}function Gz(){if(LA)return Mp;LA=!0;var e=Ol.Buffer,t=Hr,r=Wz(),n=Ff(),i=Hz(),o=Mp.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},s=Mp.IncomingMessage=function(a,l,u,f){var c=this||Lp;if(i.Readable.call(c),c._mode=u,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),u==="fetch"){let h=function(){m.read().then(function(E){if(!c._destroyed){if(f(E.done),E.done){c.push(null);return}c.push(e.from(E.value)),h()}}).catch(function(E){f(!0),c._destroyed||c.emit("error",E)})};if(c._fetchResponse=l,c.url=l.url,c.statusCode=l.status,c.statusMessage=l.statusText,l.headers.forEach(function(E,y){c.headers[y.toLowerCase()]=E,c.rawHeaders.push(y,E)}),r.writableStream){var p=new WritableStream({write:function(E){return f(!1),new Promise(function(y,S){c._destroyed?S():c.push(e.from(E))?y():c._resumeFetch=y})},close:function(){f(!0),c._destroyed||c.push(null)},abort:function(E){f(!0),c._destroyed||c.emit("error",E)}});try{l.body.pipeTo(p).catch(function(E){f(!0),c._destroyed||c.emit("error",E)});return}catch{}}var m=l.body.getReader();h()}else{c._xhr=a,c._pos=0,c.url=a.responseURL,c.statusCode=a.status,c.statusMessage=a.statusText;var g=a.getAllResponseHeaders().split(/\r?\n/);if(g.forEach(function(h){var E=h.match(/^([^:]+):\s*(.*)/);if(E){var y=E[1].toLowerCase();y==="set-cookie"?(c.headers[y]===void 0&&(c.headers[y]=[]),c.headers[y].push(E[2])):c.headers[y]!==void 0?c.headers[y]+=", "+E[2]:c.headers[y]=E[2],c.rawHeaders.push(E[1],E[2])}}),c._charset="x-user-defined",!r.overrideMimeType){var _=c.rawHeaders["mime-type"];if(_){var v=_.match(/;\s*charset=([^;])(;|$)/);v&&(c._charset=v[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};return n(s,i.Readable),s.prototype._read=function(){var a=this||Lp,l=a._resumeFetch;l&&(a._resumeFetch=null,l())},s.prototype._onXHRProgress=function(a){var l=this||Lp,u=l._xhr,f=null;switch(l._mode){case"text":if(f=u.responseText,f.length>l._pos){var c=f.substr(l._pos);if(l._charset==="x-user-defined"){for(var p=e.alloc(c.length),m=0;m<c.length;m++)p[m]=c.charCodeAt(m)&255;l.push(p)}else l.push(c,l._charset);l._pos=f.length}break;case"arraybuffer":if(u.readyState!==o.DONE||!u.response)break;f=u.response,l.push(e.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=u.response,u.readyState!==o.LOADING||!f)break;l.push(e.from(new Uint8Array(f)));break;case"ms-stream":if(f=u.response,u.readyState!==o.LOADING)break;var g=new Lp.MSStreamReader;g.onprogress=function(){g.result.byteLength>l._pos&&(l.push(e.from(new Uint8Array(g.result.slice(l._pos)))),l._pos=g.result.byteLength)},g.onload=function(){a(!0),l.push(null)},g.readAsArrayBuffer(f);break}l._xhr.readyState===o.DONE&&l._mode!=="ms-stream"&&(a(!0),l.push(null))},Mp}function kee(){if(FA)return y0;FA=!0;var e=Ol.Buffer,t=Hr,r=Wz(),n=Ff(),i=Gz(),o=Hz(),s=i.IncomingMessage,a=i.readyStates;function l(p,m){return r.fetch&&m?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&p?"arraybuffer":"text"}var u=y0=function(p){var m=this||ei;o.Writable.call(m),m._opts=p,m._body=[],m._headers={},p.auth&&m.setHeader("Authorization","Basic "+e.from(p.auth).toString("base64")),Object.keys(p.headers).forEach(function(v){m.setHeader(v,p.headers[v])});var g,_=!0;if(p.mode==="disable-fetch"||"requestTimeout"in p&&!r.abortController)_=!1,g=!0;else if(p.mode==="prefer-streaming")g=!1;else if(p.mode==="allow-wrong-content-type")g=!r.overrideMimeType;else if(!p.mode||p.mode==="default"||p.mode==="prefer-fast")g=!0;else throw new Error("Invalid value for opts.mode");m._mode=l(g,_),m._fetchTimer=null,m._socketTimeout=null,m._socketTimer=null,m.on("finish",function(){m._onFinish()})};n(u,o.Writable),u.prototype.setHeader=function(p,m){var g=this||ei,_=p.toLowerCase();c.indexOf(_)===-1&&(g._headers[_]={name:p,value:m})},u.prototype.getHeader=function(p){var m=(this||ei)._headers[p.toLowerCase()];return m?m.value:null},u.prototype.removeHeader=function(p){var m=this||ei;delete m._headers[p.toLowerCase()]},u.prototype._onFinish=function(){var p=this||ei;if(!p._destroyed){var m=p._opts;"timeout"in m&&m.timeout!==0&&p.setTimeout(m.timeout);var g=p._headers,_=null;m.method!=="GET"&&m.method!=="HEAD"&&(_=new Blob(p._body,{type:(g["content-type"]||{}).value||""}));var v=[];if(Object.keys(g).forEach(function(S){var $=g[S].name,T=g[S].value;Array.isArray(T)?T.forEach(function(d){v.push([$,d])}):v.push([$,T])}),p._mode==="fetch"){var h=null;if(r.abortController){var E=new AbortController;h=E.signal,p._fetchAbortController=E,"requestTimeout"in m&&m.requestTimeout!==0&&(p._fetchTimer=ei.setTimeout(function(){p.emit("requestTimeout"),p._fetchAbortController&&p._fetchAbortController.abort()},m.requestTimeout))}ei.fetch(p._opts.url,{method:p._opts.method,headers:v,body:_||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:h}).then(function(S){p._fetchResponse=S,p._resetTimers(!1),p._connect()},function(S){p._resetTimers(!0),p._destroyed||p.emit("error",S)})}else{var y=p._xhr=new ei.XMLHttpRequest;try{y.open(p._opts.method,p._opts.url,!0)}catch(S){t.nextTick(function(){p.emit("error",S)});return}"responseType"in y&&(y.responseType=p._mode),"withCredentials"in y&&(y.withCredentials=!!m.withCredentials),p._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(y.timeout=m.requestTimeout,y.ontimeout=function(){p.emit("requestTimeout")}),v.forEach(function(S){y.setRequestHeader(S[0],S[1])}),p._response=null,y.onreadystatechange=function(){switch(y.readyState){case a.LOADING:case a.DONE:p._onXHRProgress();break}},p._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){p._onXHRProgress()}),y.onerror=function(){p._destroyed||(p._resetTimers(!0),p.emit("error",new Error("XHR error")))};try{y.send(_)}catch(S){t.nextTick(function(){p.emit("error",S)});return}}}};function f(p){try{var m=p.status;return m!==null&&m!==0}catch{return!1}}u.prototype._onXHRProgress=function(){var p=this||ei;p._resetTimers(!1),!(!f(p._xhr)||p._destroyed)&&(p._response||p._connect(),p._response._onXHRProgress(p._resetTimers.bind(p)))},u.prototype._connect=function(){var p=this||ei;p._destroyed||(p._response=new s(p._xhr,p._fetchResponse,p._mode,p._resetTimers.bind(p)),p._response.on("error",function(m){p.emit("error",m)}),p.emit("response",p._response))},u.prototype._write=function(p,m,g){var _=this||ei;_._body.push(p),g()},u.prototype._resetTimers=function(p){var m=this||ei;ei.clearTimeout(m._socketTimer),m._socketTimer=null,p?(ei.clearTimeout(m._fetchTimer),m._fetchTimer=null):m._socketTimeout&&(m._socketTimer=ei.setTimeout(function(){m.emit("timeout")},m._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(p){var m=this||ei;m._destroyed=!0,m._resetTimers(!0),m._response&&(m._response._destroyed=!0),m._xhr?m._xhr.abort():m._fetchAbortController&&m._fetchAbortController.abort(),p&&m.emit("error",p)},u.prototype.end=function(p,m,g){var _=this||ei;typeof p=="function"&&(g=p,p=void 0),o.Writable.prototype.end.call(_,p,m,g)},u.prototype.setTimeout=function(p,m){var g=this||ei;m&&g.once("timeout",m),g._socketTimeout=p,g._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return y0}function Cee(){if(BA)return w0;BA=!0,w0=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var o in i)e.call(i,o)&&(r[o]=i[o])}return r}return w0}function jee(){return UA||(UA=!0,b0={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),b0}function Dee(){if(zA)return _0;zA=!0;var e=kee(),t=Gz(),r=Cee(),n=jee(),i=Jr,o=_0;return o.request=function(s,a){typeof s=="string"?s=i.parse(s):s=r(s);var l=Kz.location.protocol.search(/^https?:$/)===-1?"http:":"",u=s.protocol||l,f=s.hostname||s.host,c=s.port,p=s.path||"/";f&&f.indexOf(":")!==-1&&(f="["+f+"]"),s.url=(f?u+"//"+f:"")+(c?":"+c:"")+p,s.method=(s.method||"GET").toUpperCase(),s.headers=s.headers||{};var m=new e(s);return a&&m.on("response",a),m},o.get=function(a,l){var u=o.request(a,l);return u.end(),u},o.ClientRequest=e,o.IncomingMessage=t.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=n,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],_0}function Mee(){if(qA)return E0;qA=!0;var e=Pa,t=Jr,r=E0;for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);r.request=function(o,s){return o=i(o),e.request.call(this||VA,o,s)},r.get=function(o,s){return o=i(o),e.get.call(this||VA,o,s)};function i(o){if(typeof o=="string"&&(o=t.parse(o)),o.protocol||(o.protocol="https:"),o.protocol!=="https:")throw new Error('Protocol "'+o.protocol+'" not supported. Expected "https:"');return o}return E0}var go,MA,yu,Mp,LA,Lp,y0,FA,ei,w0,BA,b0,UA,_0,zA,Kz,Pa,E0,qA,VA,Ra,Jz,Yz,Xz,Qz,Zz,e6,t6,r6,Q_=nn({"../../node_modules/@jspm/core/nodelibs/browser/https.js"(){Te(),Vz(),Iee(),J_(),lz(),K_(),_g(),go={},MA=!1,yu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Mp={},LA=!1,Lp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,y0={},FA=!1,ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,w0={},BA=!1,b0={},UA=!1,_0={},zA=!1,Kz=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Pa=Dee(),Pa.Agent,Pa.ClientRequest,Pa.IncomingMessage,Pa.METHODS,Pa.STATUS_CODES,Pa.get,Pa.globalAgent,Pa.request,E0={},qA=!1,VA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ra=Mee(),Jz=Ra.Agent,Yz=Ra.ClientRequest,Xz=Ra.IncomingMessage,Qz=Ra.METHODS,Zz=Ra.STATUS_CODES,e6=Ra.get,t6=Ra.globalAgent,r6=Ra.request}}),KR={};rl(KR,{default:()=>n6});var n6,i6=nn({"../../node_modules/esbuild-plugin-polyfill-node/polyfills/empty.js"(){Te(),n6={}}}),Lee=Oe({"../../node_modules/@thingweb/thing-model/node_modules/json-placeholder-replacer/dist/library.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.JsonPlaceholderReplacer=void 0;var t=[{begin:"{{",end:"}}"},{begin:"<<",end:">>"}],r=":",n=[],i=class{constructor(o){this.variablesMap=[],this.configuration=this.initializeOptions(o);const s=l=>l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");this.configuration.delimiterTags=this.configuration.delimiterTags.map(l=>Object.assign(Object.assign({},l),{escapedBeginning:s(l.begin),escapedEnding:s(l.end)}));const a=this.configuration.delimiterTags.map(l=>`^${l.begin}[^${l.end}]+${l.end}$`).join("|");this.delimiterTagsRegex=new RegExp(a)}addVariableMap(o){return typeof o=="string"?this.variablesMap.push(JSON.parse(o)):this.variablesMap.push(o),this}setVariableMap(...o){return this.variablesMap.length=0,o.forEach(s=>this.addVariableMap(s)),this}replace(o){return this.replaceChildren(o,this.variablesMap)}replaceWith(o,...s){return this.replaceChildren(o,s)}initializeOptions(o){var s;let a=t,l=r,u=n;return o!==void 0&&(o.delimiterTags!==void 0&&o.delimiterTags.length>0&&(a=o.delimiterTags),o.defaultValueSeparator!==void 0&&(l=o.defaultValueSeparator),!((s=o.nullishValues)===null||s===void 0)&&s.length&&(u=o.nullishValues.map(f=>JSON.stringify(f)))),{defaultValueSeparator:l,delimiterTags:a,nullishValues:u}}replaceChildren(o,s){for(const a in o){const l=o[a];typeof l=="object"?o[a]=this.replaceChildren(l,s):l!==void 0&&(o[a]=this.replaceValue(l,s))}return o}replaceValue(o,s){const a=o.toString(),l=!this.delimiterTagsRegex.test(o),u=this.configuration.delimiterTags.reduce((f,c)=>{const p=new RegExp(`(${c.escapedBeginning}[^${c.escapedEnding}]+${c.escapedEnding})`,"g");return f.replace(p,this.replacer(l,s)(c))},a);try{return u===a?o:JSON.parse(u)}catch{return u}}replacer(o,s){return a=>l=>{const{tag:u,defaultValue:f}=this.parseTag(l,a),c=this.checkInEveryMap(u,s);if(c===void 0)return f!==void 0?f:l;if(!o)return c;const p=JSON.parse(c);return typeof p=="object"?JSON.stringify(p):p}}parseTag(o,s){const a=o.substring(s.begin.length,o.length-s.begin.length);let l=a,u;const f=a.indexOf(this.configuration.defaultValueSeparator);return f>0&&(l=a.substring(0,f),u=a.substring(f+this.configuration.defaultValueSeparator.length)),{tag:l,defaultValue:u}}checkInEveryMap(o,s){const{nullishValues:a}=this.configuration;let l;return s.forEach(u=>{let f=this.navigateThroughMap(u,o);f!==void 0&&a.includes(f)&&(f=void 0),l=f||l}),l}navigateThroughMap(o,s){if(o===void 0)return;const a=o[s];if(a!==void 0)return JSON.stringify(a);const l=s.split("."),u=l[0];return l.shift(),this.navigateThroughMap(o[u],l.join("."))}};e.JsonPlaceholderReplacer=i}}),Fee=Oe({"../../node_modules/wot-thing-model-types/schema/tm-json-schema-validation.json"(e,t){t.exports={title:"Thing Model",version:"1.1-09-November-2023",description:"JSON Schema for validating Thing Models. This is automatically generated from the WoT TD Schema.",$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/tm-json-schema-validation.json",definitions:{anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},security:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the old context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},"dataSchema-type":{type:"string",anyOf:[{enum:["boolean","integer","number","string","object","array","null"]},{$ref:"#/definitions/placeholder-pattern"}]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},readOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/placeholder-pattern"}]},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},maxLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{anyOf:[{type:"array",items:{type:"string"}},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{anyOf:[{type:["integer","number"],exclusiveMinimum:0},{$ref:"#/definitions/placeholder-pattern"}]},expectedResponse:{type:"object",properties:{contentType:{type:"string"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["invokeaction","queryaction","cancelaction"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["invokeaction","queryaction","cancelaction"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["subscribeevent","unsubscribeevent"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["subscribeevent","unsubscribeevent"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},observable:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},writeOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},readOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/placeholder-pattern"}]},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},maxLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{anyOf:[{type:"array",items:{type:"string"}},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},idempotent:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},synchronous:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]},instanceName:{type:"string"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon",properties:{rel:{anyOf:[{enum:["icon"]},{$ref:"#/definitions/placeholder-pattern"}]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["nosec"]},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["auto"]},{$ref:"#/definitions/placeholder-pattern"}]}},not:{required:["name"]},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["combo"]},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",minItems:2,items:{type:"string"}},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["combo"]},{$ref:"#/definitions/placeholder-pattern"}]},allOf:{type:"array",minItems:2,items:{type:"string"}},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["basic"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["digest"]},{$ref:"#/definitions/placeholder-pattern"}]},qop:{type:"string",anyOf:[{enum:["auth","auth-int"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["apikey"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","uri","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["bearer"]},{$ref:"#/definitions/placeholder-pattern"}]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["psk"]},{$ref:"#/definitions/placeholder-pattern"}]},identity:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["oauth2"]},{$ref:"#/definitions/placeholder-pattern"}]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",anyOf:[{enum:["code","client"]},{$ref:"#/definitions/placeholder-pattern"}]}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},securityScheme:{anyOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]},tm_type_declaration:{oneOf:[{type:"string",const:"tm:ThingModel"},{type:"array",items:{type:"string"},contains:{const:"tm:ThingModel"}}]},"placeholder-pattern":{type:"string",pattern:"^.*[{]{2}[ -~]+[}]{2}.*$"},tm_optional:{type:"array",items:{$comment:"this first checks for the general structure of /properties/myProp and then prohibits using / 3 times",allOf:[{type:"string",pattern:"^((/properties/)|(/actions/)|(/events/))(([^/]))",$comment:"regex tests available at https://regex101.com/r/UgOzrJ/1"},{not:{type:"string",pattern:"(/)(.*/){2}",$comment:"regex tests available at https://regex101.com/r/r7vB0r/2"}}]}},tm_ref:{type:"string",format:"uri-reference"}},type:"object",properties:{id:{type:"string"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{anyOf:[{type:"object",properties:{model:{type:"string"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}},not:{type:"object",properties:{instance:{type:"string"}},required:["instance"]}},{$ref:"#/definitions/placeholder-pattern"}]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},support:{$ref:"#/definitions/anyUri"},created:{type:"string"},modified:{type:"string"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},"@type":{$ref:"#/definitions/tm_type_declaration"},"@context":{$ref:"#/definitions/thing-context"},"tm:optional":{$ref:"#/definitions/tm_optional"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}},required:["@context","@type"]}}}),Bee=Oe({"../../node_modules/@thingweb/thing-model/dist/src/tm-helpers.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(S,$,T,d){d===void 0&&(d=T);var A=Object.getOwnPropertyDescriptor($,T);(!A||("get"in A?!$.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return $[T]}}),Object.defineProperty(S,d,A)}:function(S,$,T,d){d===void 0&&(d=T),S[d]=$[T]}),r=e&&e.__setModuleDefault||(Object.create?function(S,$){Object.defineProperty(S,"default",{enumerable:!0,value:$})}:function(S,$){S.default=$}),n=e&&e.__importStar||function(S){if(S&&S.__esModule)return S;var $={};if(S!=null)for(var T in S)T!=="default"&&Object.prototype.hasOwnProperty.call(S,T)&&t($,S,T);return r($,S),$},i=e&&e.__awaiter||function(S,$,T,d){function A(x){return x instanceof T?x:new T(function(O){O(x)})}return new(T||(T=Promise))(function(x,O){function D(Q){try{V(d.next(Q))}catch(H){O(H)}}function F(Q){try{V(d.throw(Q))}catch(H){O(H)}}function V(Q){Q.done?x(Q.value):A(Q.value).then(D,F)}V((d=d.apply(S,$||[])).next())})},o=e&&e.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0}),e.ThingModelHelpers=void 0;var s=o(hU()),a=o(p7()),l=n((VR(),Or(Y_))),u=n((Q_(),Or(Sg))),f=n((i6(),Or(KR))),c=Lee(),p=o(Fee()),m=o(UB()),g="node-wot:td-tools:thing-model-helpers",_=(0,m.default)(`${g}:debug`),v=(0,m.default)(`${g}:error`),h=p.default,E=new s.default({strict:!1});(0,a.default)(E);var y=class cs{constructor($){this.deps=[],this.resolver=void 0,$&&(this.resolver=$)}static isThingModel($){if($==null||typeof $!="object"||Array.isArray($))return!1;const T=$;if(Array.isArray(T["@type"])){if(T["@type"].filter(A=>A==="tm:ThingModel").length>0)return!0}else if(T["@type"]==="tm:ThingModel")return!0;return!!(Object.keys(this.getThingModelRef(T)).length>0||"links"in T&&Array.isArray(T.links)&&T.links.find(A=>A.rel==="tm:extends")!=null||T.properties!==void 0&&this.isThingModel(T.properties)||T.actions!==void 0&&this.isThingModel(T.actions)||T.events!==void 0&&this.isThingModel(T.events))}static getModelVersion($){var T;return typeof($==null?void 0:$.version)=="object"&&typeof((T=$==null?void 0:$.version)===null||T===void 0?void 0:T.model)=="string"?$.version.model:void 0}static validateThingModel($){var T;const d=cs.tsSchemaValidator($);let A;return d||(A=(T=cs.tsSchemaValidator.errors)===null||T===void 0?void 0:T.map(x=>x.message).join(`
`)),{valid:d,errors:A}}getPartialTDs($,T){return i(this,void 0,void 0,function*(){return(yield this._getPartialTDs($,T)).map(x=>{const O=x;return O["@type"]instanceof Array?O["@type"]=O["@type"].map(D=>D==="tm:ThingModel"?"Thing":D):O["@type"]="Thing",O})})}fetchModel($){return i(this,void 0,void 0,function*(){this.addDependency($);let T;if(this.resolver?T=yield this.resolver.fetch($):T=yield this.localFetch($),!cs.isThingModel(T))throw new Error(`Data at ${$} is not a Thing Model`);return T})}localFetch($){switch($.split("://")[0]){case"file":{const d=$.split("://")[1];return new Promise((A,x)=>{f.readFile(d,{encoding:"utf-8"},function(O,D){O?x(O):A(JSON.parse(D))})})}case"http":return new Promise((d,A)=>{l.get($,x=>{(x.statusCode==null||x.statusCode!==200)&&A(new Error(`http status code not 200 but ${x.statusCode} for ${$}`)),x.setEncoding("utf8");let O="";x.on("data",D=>{O+=D}),x.on("end",()=>{try{const D=JSON.parse(O);_(`https fetched: ${D}`),d(D)}catch(D){v(D)}})}).on("error",x=>{A(x)})});case"https":return new Promise((d,A)=>{u.get($,x=>{(x.statusCode==null||x.statusCode!==200)&&A(new Error(`https status code not 200 but ${x.statusCode} for ${$}`)),x.setEncoding("utf8");let O="";x.on("data",D=>{O+=D}),x.on("end",()=>{try{const D=JSON.parse(O);_(`https fetched: ${D}`),d(D)}catch(D){v(D)}})}).on("error",x=>{A(x)})})}return null}_getPartialTDs($,T){return i(this,void 0,void 0,function*(){if(!cs.isThingModel($))throw new Error(`${$} is not a Thing Model`);let d=cs.validateThingModel($);if(d.valid===!1||d.errors!==void 0)throw new Error(d.errors);if(d=this.checkPlaceholderMap($,T==null?void 0:T.map),d.valid===!1||d.errors!==void 0)throw new Error(d.errors);const A=yield this.fetchAffordances($);return yield this.composeModel($,A,T)})}fetchAffordances($){var T;return i(this,void 0,void 0,function*(){const d={},A=cs.getThingModelLinks($,"tm:extends");if(A.length>0){d.extends=[];for(const D of A){let F=yield this.fetchModel(D.href);[F]=yield this._getPartialTDs(F),d.extends.push(F)}}const x=["properties","actions","events"];d.imports=[];for(const D of x){const F=cs.getThingModelRef($[D]);if(Object.keys(F).length>0)for(const V in F){const Q=F[V],H=this.parseTmRef(Q);if(H.uri==null)throw new Error(`Missing remote path in ${Q}`);let X=yield this.fetchModel(H.uri);[X]=yield this._getPartialTDs(X),delete $[D][V]["tm:ref"];const fe=(T=this.getRefAffordance(H,X))!==null&&T!==void 0?T:{};H.name=V,d.imports.push(Object.assign({affordance:fe},H))}}const O=cs.getThingModelLinks($,"tm:submodel");if(O.length>0){d.submodel={};for(const D of O){const F=yield this.fetchModel(D.href);d.submodel[D.href]=F}}return d})}composeModel($,T,d){var A,x,O,D,F;return i(this,void 0,void 0,function*(){let V=[];const Q=((A=$.title)!==null&&A!==void 0?A:"").replace(/ /g,"");d||(d={}),d.baseUrl==null&&(d.baseUrl=".");const H=this.returnNewTMHref(d.baseUrl,Q),X=this.returnNewTDHref(d.baseUrl,Q);if("extends"in T){const fe=(x=T.extends)!==null&&x!==void 0?x:[];for(const Z of fe)$=cs.extendThingModel(Z,$);$.links=(O=$.links)===null||O===void 0?void 0:O.filter(Z=>Z.rel!=="tm:extends")}if("imports"in T){const fe=(D=T.imports)!==null&&D!==void 0?D:[];for(const Z of fe)$=cs.importAffordance(Z.type,Z.name,Z.affordance,$)}if("submodel"in T){const fe=T.submodel;for(const Z in fe){const ne=fe[Z];if(d.selfComposition===!0){if(!$.links)throw new Error("You used self composition but links are missing; they are needed to extract the instance name");const C=$.links.findIndex(q=>q.href===Z),K=$.links[C].instanceName;if(K==null)throw new Error("Self composition is not possible without instance names");const[P]=yield this._getPartialTDs(ne,d),I=["properties","actions","events"];for(const q of I)for(const ie in P[q]){const J=`${K}_${ie}`;q in $||($[q]={}),$[q][J]=P[q][ie]}}else{const C=((F=ne.title)!==null&&F!==void 0?F:"").replace(/ /g,""),B=this.returnNewTDHref(d.baseUrl,C);ne.links||(ne.links=[]),ne.links.push({rel:"collection",href:X,type:"application/td+json"});const K=yield this._getPartialTDs(ne,d);V.push(...K),$=cs.formatSubmodelLink($,Z,B)}}}return(!$.links||d.selfComposition===!0)&&($.links=[]),$.links.push({rel:"type",href:H,type:"application/tm+json"}),"version"in $&&delete $.version,d.map&&($=this.fillPlaceholder($,d.map)),V.unshift($),V=V.map(fe=>this.fillPlaceholder(fe,d==null?void 0:d.map)),this.deps.length>0&&this.removeDependency(),V})}static getThingModelRef($){const T={};if($==null)return T;for(const d in $)for(const A in $[d])A==="tm:ref"&&(T[d]=$[d]["tm:ref"]);return T}static getThingModelLinks($,T){let d=[];return"links"in $&&Array.isArray($.links)&&(d=$.links),d.filter(A=>A.rel===T)}static extendThingModel($,T){let d={};const A=$.properties,x=$.actions,O=$.events;if(d=Object.assign(Object.assign({},$),T),A){d.properties||(d.properties={});for(const D in A)T.properties&&T.properties[D]!=null?d.properties[D]=Object.assign(Object.assign({},A[D]),T.properties[D]):d.properties[D]=A[D]}if(x){d.actions||(d.actions={});for(const D in x)T.actions&&D in T.actions?d.actions[D]=Object.assign(Object.assign({},x[D]),T.actions[D]):d.actions[D]=x[D]}if(O){d.events||(d.events={});for(const D in O)T.events&&D in T.events?d.events[D]=Object.assign(Object.assign({},O[D]),T.events[D]):d.events[D]=O[D]}return d}static importAffordance($,T,d,A){A[$]||(A[$]={});const x=A[$][T];A[$][T]=Object.assign(Object.assign({},d),x);for(const O in A[$][T])A[$][T][O]===void 0&&delete A[$][T][O];return A}static formatSubmodelLink($,T,d){if(!$.links)throw new Error("Links are missing");const A=$.links.findIndex(O=>O.href===T);if(A===-1)throw new Error("Link not found");const x=$.links[A];return"instanceName"in x&&delete x.instanceName,$.links[A]=Object.assign(Object.assign({},x),{href:d,type:"application/td+json",rel:"item"}),$}parseTmRef($){const T=$.split("#")[0],d=$.split("#")[1],A=d.split("/")[1],x=d.split("/")[2];return{uri:T,type:A,name:x}}getRefAffordance($,T){const d=$.type,A=$.name;if(!(d in T))return;const x=T[d];if(A in x)return x[A]}fillPlaceholder($,T={}){const d=new c.JsonPlaceholderReplacer;return d.addVariableMap(T),d.replace($)}checkPlaceholderMap($,T={}){var d;const A="{{.*?}}";let O=(d=JSON.stringify($).match(new RegExp(A,"g")))!==null&&d!==void 0?d:[];O=O.map(V=>V.replace("{{","").replace("}}",""));let D=!0,F;return(O==null?void 0:O.length)>0&&T==null?(D=!1,F=`No map provided for model ${$.title}`):O.length>0&&O.every(V=>V in T?!0:(F=`Missing required fields in map for model ${$.title}`,D=!1,!1)),{valid:D,errors:F}}returnNewTMHref($,T){return`${$}/${T}.tm.jsonld`}returnNewTDHref($,T){return`${$}/${T}.td.jsonld`}addDependency($){if(this.deps.indexOf($)>-1)throw new Error(`Circular dependency found for ${$}`);this.deps.push($)}removeDependency($){$!=null?this.deps=this.deps.filter(T=>T!==$):this.deps.pop()}};e.ThingModelHelpers=y,y.tsSchemaValidator=E.compile(h)}}),Uee=Oe({"../../node_modules/@thingweb/thing-model/dist/src/resolver-interface.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0})}}),zee=Oe({"../../node_modules/@thingweb/thing-model/dist/src/thing-model.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Bee(),e),r(Uee(),e)}}),o6={};rl(o6,{EventEmitter:()=>s6,default:()=>La,defaultMaxListeners:()=>a6,init:()=>l6,listenerCount:()=>u6,on:()=>c6,once:()=>f6});function qee(){if(HA)return Fp;HA=!0;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function($,T,d){return Function.prototype.apply.call($,T,d)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function($){return Object.getOwnPropertyNames($).concat(Object.getOwnPropertySymbols($))}:r=function($){return Object.getOwnPropertyNames($)};function n(S){console&&console.warn&&console.warn(S)}var i=Number.isNaN||function($){return $!==$};function o(){o.init.call(this)}Fp=o,Fp.once=h,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");s=S}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function($){if(typeof $!="number"||$<0||i($))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+$+".");return this._maxListeners=$,this};function l(S){return S._maxListeners===void 0?o.defaultMaxListeners:S._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function($){for(var T=[],d=1;d<arguments.length;d++)T.push(arguments[d]);var A=$==="error",x=this._events;if(x!==void 0)A=A&&x.error===void 0;else if(!A)return!1;if(A){var O;if(T.length>0&&(O=T[0]),O instanceof Error)throw O;var D=new Error("Unhandled error."+(O?" ("+O.message+")":""));throw D.context=O,D}var F=x[$];if(F===void 0)return!1;if(typeof F=="function")t(F,this,T);else for(var V=F.length,Q=g(F,V),d=0;d<V;++d)t(Q[d],this,T);return!0};function u(S,$,T,d){var A,x,O;if(a(T),x=S._events,x===void 0?(x=S._events=Object.create(null),S._eventsCount=0):(x.newListener!==void 0&&(S.emit("newListener",$,T.listener?T.listener:T),x=S._events),O=x[$]),O===void 0)O=x[$]=T,++S._eventsCount;else if(typeof O=="function"?O=x[$]=d?[T,O]:[O,T]:d?O.unshift(T):O.push(T),A=l(S),A>0&&O.length>A&&!O.warned){O.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String($)+" listeners added. Use emitter.setMaxListeners() to increase limit");D.name="MaxListenersExceededWarning",D.emitter=S,D.type=$,D.count=O.length,n(D)}return S}o.prototype.addListener=function($,T){return u(this,$,T,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function($,T){return u(this,$,T,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(S,$,T){var d={fired:!1,wrapFn:void 0,target:S,type:$,listener:T},A=f.bind(d);return A.listener=T,d.wrapFn=A,A}o.prototype.once=function($,T){return a(T),this.on($,c(this,$,T)),this},o.prototype.prependOnceListener=function($,T){return a(T),this.prependListener($,c(this,$,T)),this},o.prototype.removeListener=function($,T){var d,A,x,O,D;if(a(T),A=this._events,A===void 0)return this;if(d=A[$],d===void 0)return this;if(d===T||d.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete A[$],A.removeListener&&this.emit("removeListener",$,d.listener||T));else if(typeof d!="function"){for(x=-1,O=d.length-1;O>=0;O--)if(d[O]===T||d[O].listener===T){D=d[O].listener,x=O;break}if(x<0)return this;x===0?d.shift():_(d,x),d.length===1&&(A[$]=d[0]),A.removeListener!==void 0&&this.emit("removeListener",$,D||T)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function($){var T,d,A;if(d=this._events,d===void 0)return this;if(d.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):d[$]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete d[$]),this;if(arguments.length===0){var x=Object.keys(d),O;for(A=0;A<x.length;++A)O=x[A],O!=="removeListener"&&this.removeAllListeners(O);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=d[$],typeof T=="function")this.removeListener($,T);else if(T!==void 0)for(A=T.length-1;A>=0;A--)this.removeListener($,T[A]);return this};function p(S,$,T){var d=S._events;if(d===void 0)return[];var A=d[$];return A===void 0?[]:typeof A=="function"?T?[A.listener||A]:[A]:T?v(A):g(A,A.length)}o.prototype.listeners=function($){return p(this,$,!0)},o.prototype.rawListeners=function($){return p(this,$,!1)},o.listenerCount=function(S,$){return typeof S.listenerCount=="function"?S.listenerCount($):m.call(S,$)},o.prototype.listenerCount=m;function m(S){var $=this._events;if($!==void 0){var T=$[S];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function g(S,$){for(var T=new Array($),d=0;d<$;++d)T[d]=S[d];return T}function _(S,$){for(;$+1<S.length;$++)S[$]=S[$+1];S.pop()}function v(S){for(var $=new Array(S.length),T=0;T<$.length;++T)$[T]=S[T].listener||S[T];return $}function h(S,$){return new Promise(function(T,d){function A(O){S.removeListener($,x),d(O)}function x(){typeof S.removeListener=="function"&&S.removeListener("error",A),T([].slice.call(arguments))}y(S,$,x,{once:!0}),$!=="error"&&E(S,A,{once:!0})})}function E(S,$,T){typeof S.on=="function"&&y(S,"error",$,T)}function y(S,$,T,d){if(typeof S.on=="function")d.once?S.once($,T):S.on($,T);else if(typeof S.addEventListener=="function")S.addEventListener($,function A(x){d.once&&S.removeEventListener($,A),T(x)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return Fp}var Fp,HA,La,s6,a6,l6,u6,c6,f6,d6=nn({"../../node_modules/@jspm/core/nodelibs/browser/events.js"(){Te(),Fp={},HA=!1,La=qee(),La.once,La.once=function(e,t){return new Promise((r,n)=>{function i(...s){o!==void 0&&e.removeListener("error",o),r(s)}let o;t!=="error"&&(o=s=>{e.removeListener(name,i),n(s)},e.once("error",o)),e.once(t,i)})},La.on=function(e,t){const r=[],n=[];let i=null,o=!1;const s={async next(){const u=r.shift();if(u)return createIterResult(u,!1);if(i){const f=Promise.reject(i);return i=null,f}return o?createIterResult(void 0,!0):new Promise((f,c)=>n.push({resolve:f,reject:c}))},async return(){e.removeListener(t,a),e.removeListener("error",l),o=!0;for(const u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,e.removeListener(t,a),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,a),e.on("error",l),s;function a(...u){const f=n.shift();f?f.resolve(createIterResult(u,!1)):r.push(u)}function l(u){o=!0;const f=n.shift();f?f.reject(u):i=u,s.return()}},{EventEmitter:s6,defaultMaxListeners:a6,init:l6,listenerCount:u6,on:c6,once:f6}=La}});function h6(){return WA||(WA=!0,S0=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),S0}function Vee(){return GA||(GA=!0,$0=Error),$0}function Hee(){return KA||(KA=!0,T0=EvalError),T0}function Wee(){return JA||(JA=!0,A0=RangeError),A0}function Gee(){return YA||(YA=!0,x0=ReferenceError),x0}function p6(){return XA||(XA=!0,O0=SyntaxError),O0}function $g(){return QA||(QA=!0,P0=TypeError),P0}function Kee(){return ZA||(ZA=!0,R0=URIError),R0}function Jee(){if(ex)return N0;ex=!0;var e=typeof Symbol<"u"&&Symbol,t=h6();return N0=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},N0}function Yee(){if(tx)return I0;tx=!0;var e={__proto__:null,foo:{}},t=Object;return I0=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof t)},I0}function Xee(){if(rx)return k0;rx=!0;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var f=[],c=0;c<l.length;c+=1)f[c]=l[c];for(var p=0;p<u.length;p+=1)f[p+l.length]=u[p];return f},o=function(l,u){for(var f=[],c=u,p=0;c<l.length;c+=1,p+=1)f[p]=l[c];return f},s=function(a,l){for(var u="",f=0;f<a.length;f+=1)u+=a[f],f+1<a.length&&(u+=l);return u};return k0=function(l){var u=this;if(typeof u!="function"||t.apply(u)!==n)throw new TypeError(e+u);for(var f=o(arguments,1),c,p=function(){if(this instanceof c){var h=u.apply(this,i(f,arguments));return Object(h)===h?h:this}return u.apply(l,i(f,arguments))},m=r(0,u.length-f.length),g=[],_=0;_<m;_++)g[_]="$"+_;if(c=Function("binder","return function ("+s(g,",")+"){ return binder.apply(this,arguments); }")(p),u.prototype){var v=function(){};v.prototype=u.prototype,c.prototype=new v,v.prototype=null}return c},k0}function JR(){if(nx)return C0;nx=!0;var e=Xee();return C0=Function.prototype.bind||e,C0}function Qee(){if(ix)return j0;ix=!0;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=JR();return j0=r.call(e,t),j0}function Uh(){if(ox)return D0;ox=!0;var e,t=Vee(),r=Hee(),n=Wee(),i=Gee(),o=p6(),s=$g(),a=Kee(),l=Function,u=function(fe){try{return l('"use strict"; return ('+fe+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var c=function(){throw new s},p=f?function(){try{return arguments.callee,c}catch{try{return f(arguments,"callee").get}catch{return c}}}():c,m=Jee()(),g=Yee()(),_=Object.getPrototypeOf||(g?function(fe){return fe.__proto__}:null),v={},h=typeof Uint8Array>"u"||!_?e:_(Uint8Array),E={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":m&&_?_([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":v,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&_?_(_([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!m||!_?e:_(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!m||!_?e:_(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&_?_(""[Symbol.iterator]()):e,"%Symbol%":m?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":p,"%TypedArray%":h,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};if(_)try{null.error}catch(fe){var y=_(_(fe));E["%Error.prototype%"]=y}var S=function fe(Z){var ne;if(Z==="%AsyncFunction%")ne=u("async function () {}");else if(Z==="%GeneratorFunction%")ne=u("function* () {}");else if(Z==="%AsyncGeneratorFunction%")ne=u("async function* () {}");else if(Z==="%AsyncGenerator%"){var C=fe("%AsyncGeneratorFunction%");C&&(ne=C.prototype)}else if(Z==="%AsyncIteratorPrototype%"){var B=fe("%AsyncGenerator%");B&&_&&(ne=_(B.prototype))}return E[Z]=ne,ne},$={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=JR(),d=Qee(),A=T.call(Function.call,Array.prototype.concat),x=T.call(Function.apply,Array.prototype.splice),O=T.call(Function.call,String.prototype.replace),D=T.call(Function.call,String.prototype.slice),F=T.call(Function.call,RegExp.prototype.exec),V=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Q=/\\(\\)?/g,H=function(Z){var ne=D(Z,0,1),C=D(Z,-1);if(ne==="%"&&C!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(C==="%"&&ne!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var B=[];return O(Z,V,function(K,P,I,q){B[B.length]=I?O(q,Q,"$1"):P||K}),B},X=function(Z,ne){var C=Z,B;if(d($,C)&&(B=$[C],C="%"+B[0]+"%"),d(E,C)){var K=E[C];if(K===v&&(K=S(C)),typeof K>"u"&&!ne)throw new s("intrinsic "+Z+" exists, but is not available. Please file an issue!");return{alias:B,name:C,value:K}}throw new o("intrinsic "+Z+" does not exist!")};return D0=function(Z,ne){if(typeof Z!="string"||Z.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ne!="boolean")throw new s('"allowMissing" argument must be a boolean');if(F(/^%?[^%]*%?$/,Z)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var C=H(Z),B=C.length>0?C[0]:"",K=X("%"+B+"%",ne),P=K.name,I=K.value,q=!1,ie=K.alias;ie&&(B=ie[0],x(C,A([0,1],ie)));for(var J=1,Y=!0;J<C.length;J+=1){var se=C[J],be=D(se,0,1),Pe=D(se,-1);if((be==='"'||be==="'"||be==="`"||Pe==='"'||Pe==="'"||Pe==="`")&&be!==Pe)throw new o("property names with quotes must have matching quotes");if((se==="constructor"||!Y)&&(q=!0),B+="."+se,P="%"+B+"%",d(E,P))I=E[P];else if(I!=null){if(!(se in I)){if(!ne)throw new s("base intrinsic for "+Z+" exists, but the property is not available.");return}if(f&&J+1>=C.length){var R=f(I,se);Y=!!R,Y&&"get"in R&&!("originalValue"in R.get)?I=R.get:I=I[se]}else Y=d(I,se),I=I[se];Y&&!q&&(E[P]=I)}}return I},D0}function YR(){if(sx)return M0;sx=!0;var e=Uh(),t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return M0=t,M0}function XR(){if(ax)return L0;ax=!0;var e=Uh(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return L0=t,L0}function Zee(){if(lx)return F0;lx=!0;var e=YR(),t=p6(),r=$g(),n=XR();return F0=function(o,s,a){if(!o||typeof o!="object"&&typeof o!="function")throw new r("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,p=!!n&&n(o,s);if(e)e(o,s,{configurable:f===null&&p?p.configurable:!f,enumerable:l===null&&p?p.enumerable:!l,value:a,writable:u===null&&p?p.writable:!u});else if(c||!l&&!u&&!f)o[s]=a;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},F0}function ete(){if(ux)return B0;ux=!0;var e=YR(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},B0=t,B0}function tte(){if(cx)return U0;cx=!0;var e=Uh(),t=Zee(),r=ete()(),n=XR(),i=$g(),o=e("%Math.floor%");return U0=function(a,l){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||o(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],f=!0,c=!0;if("length"in a&&n){var p=n(a,"length");p&&!p.configurable&&(f=!1),p&&!p.writable&&(c=!1)}return(f||c||!u)&&(r?t(a,"length",l,!0,!0):t(a,"length",l)),a},U0}function m6(){if(fx)return Ad;fx=!0;var e=JR(),t=Uh(),r=tte(),n=$g(),i=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),s=t("%Reflect.apply%",!0)||e.call(o,i),a=YR(),l=t("%Math.max%");Ad=function(c){if(typeof c!="function")throw new n("a function is required");var p=s(e,o,arguments);return r(p,1+l(0,c.length-(arguments.length-1)),!0)};var u=function(){return s(e,i,arguments)};return a?a(Ad,"apply",{value:u}):Ad.apply=u,Ad}function QR(){if(dx)return z0;dx=!0;var e=Uh(),t=m6(),r=t(e("String.prototype.indexOf"));return z0=function(i,o){var s=e(i,!!o);return typeof s=="function"&&r(i,".prototype.")>-1?t(s):s},z0}var S0,WA,$0,GA,T0,KA,A0,JA,x0,YA,O0,XA,P0,QA,R0,ZA,N0,ex,I0,tx,k0,rx,C0,nx,j0,ix,D0,ox,M0,sx,L0,ax,F0,lx,B0,ux,U0,cx,Ad,fx,z0,dx,ZR=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtcTpLWz.js"(){Te(),S0={},WA=!1,$0={},GA=!1,T0={},KA=!1,A0={},JA=!1,x0={},YA=!1,O0={},XA=!1,P0={},QA=!1,R0={},ZA=!1,N0={},ex=!1,I0={},tx=!1,k0={},rx=!1,C0={},nx=!1,j0={},ix=!1,D0={},ox=!1,M0={},sx=!1,L0={},ax=!1,F0={},lx=!1,B0={},ux=!1,U0={},cx=!1,Ad={},fx=!1,z0={},dx=!1}}),Z_={};rl(Z_,{TextDecoder:()=>V6,TextEncoder:()=>q6,_extend:()=>w6,callbackify:()=>b6,debuglog:()=>_6,default:()=>Kt,deprecate:()=>E6,format:()=>S6,inherits:()=>$6,inspect:()=>T6,isArray:()=>A6,isBoolean:()=>x6,isBuffer:()=>O6,isDate:()=>P6,isError:()=>R6,isFunction:()=>N6,isNull:()=>I6,isNullOrUndefined:()=>k6,isNumber:()=>C6,isObject:()=>j6,isPrimitive:()=>D6,isRegExp:()=>M6,isString:()=>L6,isSymbol:()=>F6,isUndefined:()=>B6,log:()=>U6,promisify:()=>Bb,types:()=>z6});function eN(){if(hx)return q0;hx=!0;var e=h6();return q0=function(){return e()&&!!Symbol.toStringTag},q0}function rte(){if(px)return V0;px=!0;var e=eN()(),t=QR(),r=t("Object.prototype.toString"),n=function(a){return e&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},o=function(){return n(arguments)}();return n.isLegacyArguments=i,V0=o?n:i,V0}function nte(){if(mx)return H0;mx=!0;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=eN()(),i=Object.getPrototypeOf,o=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},s;return H0=function(l){if(typeof l!="function")return!1;if(r.test(t.call(l)))return!0;if(!n){var u=e.call(l);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof s>"u"){var f=o();s=f?i(f):!1}return i(l)===s},H0}function ite(){if(gx)return W0;gx=!0;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(E){E!==n&&(t=null)}else t=null;var i=/^\s*class\b/,o=function(y){try{var S=e.call(y);return i.test(S)}catch{return!1}},s=function(y){try{return o(y)?!1:(e.call(y),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",u="[object Function]",f="[object GeneratorFunction]",c="[object HTMLAllCollection]",p="[object HTML document.all class]",m="[object HTMLCollection]",g=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),v=function(){return!1};if(typeof document=="object"){var h=document.all;a.call(h)===a.call(document.all)&&(v=function(y){if((_||!y)&&(typeof y>"u"||typeof y=="object"))try{var S=a.call(y);return(S===c||S===p||S===m||S===l)&&y("")==null}catch{}return!1})}return W0=t?function(y){if(v(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;try{t(y,null,r)}catch(S){if(S!==n)return!1}return!o(y)&&s(y)}:function(y){if(v(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;if(g)return s(y);if(o(y))return!1;var S=a.call(y);return S!==u&&S!==f&&!/^\[object HTML/.test(S)?!1:s(y)},W0}function ote(){if(vx)return G0;vx=!0;var e=ite(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,u,f){for(var c=0,p=l.length;c<p;c++)r.call(l,c)&&(f==null?u(l[c],c,l):u.call(f,l[c],c,l))},i=function(l,u,f){for(var c=0,p=l.length;c<p;c++)f==null?u(l.charAt(c),c,l):u.call(f,l.charAt(c),c,l)},o=function(l,u,f){for(var c in l)r.call(l,c)&&(f==null?u(l[c],c,l):u.call(f,l[c],c,l))},s=function(l,u,f){if(!e(u))throw new TypeError("iterator must be a function");var c;arguments.length>=3&&(c=f),t.call(l)==="[object Array]"?n(l,u,c):typeof l=="string"?i(l,u,c):o(l,u,c)};return G0=s,G0}function ste(){return yx||(yx=!0,K0=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),K0}function ate(){if(wx)return J0;wx=!0;var e=ste(),t=typeof globalThis>"u"?v6:globalThis;return J0=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},J0}function g6(){if(bx)return Y0;bx=!0;var e=ote(),t=ate(),r=m6(),n=QR(),i=XR(),o=n("Object.prototype.toString"),s=eN()(),a=typeof globalThis>"u"?y6:globalThis,l=t(),u=n("String.prototype.slice"),f=Object.getPrototypeOf,c=n("Array.prototype.indexOf",!0)||function(v,h){for(var E=0;E<v.length;E+=1)if(v[E]===h)return E;return-1},p={__proto__:null};s&&i&&f?e(l,function(_){var v=new a[_];if(Symbol.toStringTag in v){var h=f(v),E=i(h,Symbol.toStringTag);if(!E){var y=f(h);E=i(y,Symbol.toStringTag)}p["$"+_]=r(E.get)}}):e(l,function(_){var v=new a[_],h=v.slice||v.set;h&&(p["$"+_]=r(h))});var m=function(v){var h=!1;return e(p,function(E,y){if(!h)try{"$"+E(v)===y&&(h=u(y,1))}catch{}}),h},g=function(v){var h=!1;return e(p,function(E,y){if(!h)try{E(v),h=u(y,1)}catch{}}),h};return Y0=function(v){if(!v||typeof v!="object")return!1;if(!s){var h=u(o(v),8,-1);return c(l,h)>-1?h:h!=="Object"?!1:g(v)}return i?m(v):null},Y0}function lte(){if(_x)return X0;_x=!0;var e=g6();return X0=function(r){return!!e(r)},X0}function ute(){if(Ex)return cr;Ex=!0;var e=rte(),t=nte(),r=g6(),n=lte();function i(de){return de.call.bind(de)}var o=typeof BigInt<"u",s=typeof Symbol<"u",a=i(Object.prototype.toString),l=i(Number.prototype.valueOf),u=i(String.prototype.valueOf),f=i(Boolean.prototype.valueOf);if(o)var c=i(BigInt.prototype.valueOf);if(s)var p=i(Symbol.prototype.valueOf);function m(de,ve){if(typeof de!="object")return!1;try{return ve(de),!0}catch{return!1}}cr.isArgumentsObject=e,cr.isGeneratorFunction=t,cr.isTypedArray=n;function g(de){return typeof Promise<"u"&&de instanceof Promise||de!==null&&typeof de=="object"&&typeof de.then=="function"&&typeof de.catch=="function"}cr.isPromise=g;function _(de){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(de):n(de)||K(de)}cr.isArrayBufferView=_;function v(de){return r(de)==="Uint8Array"}cr.isUint8Array=v;function h(de){return r(de)==="Uint8ClampedArray"}cr.isUint8ClampedArray=h;function E(de){return r(de)==="Uint16Array"}cr.isUint16Array=E;function y(de){return r(de)==="Uint32Array"}cr.isUint32Array=y;function S(de){return r(de)==="Int8Array"}cr.isInt8Array=S;function $(de){return r(de)==="Int16Array"}cr.isInt16Array=$;function T(de){return r(de)==="Int32Array"}cr.isInt32Array=T;function d(de){return r(de)==="Float32Array"}cr.isFloat32Array=d;function A(de){return r(de)==="Float64Array"}cr.isFloat64Array=A;function x(de){return r(de)==="BigInt64Array"}cr.isBigInt64Array=x;function O(de){return r(de)==="BigUint64Array"}cr.isBigUint64Array=O;function D(de){return a(de)==="[object Map]"}D.working=typeof Map<"u"&&D(new Map);function F(de){return typeof Map>"u"?!1:D.working?D(de):de instanceof Map}cr.isMap=F;function V(de){return a(de)==="[object Set]"}V.working=typeof Set<"u"&&V(new Set);function Q(de){return typeof Set>"u"?!1:V.working?V(de):de instanceof Set}cr.isSet=Q;function H(de){return a(de)==="[object WeakMap]"}H.working=typeof WeakMap<"u"&&H(new WeakMap);function X(de){return typeof WeakMap>"u"?!1:H.working?H(de):de instanceof WeakMap}cr.isWeakMap=X;function fe(de){return a(de)==="[object WeakSet]"}fe.working=typeof WeakSet<"u"&&fe(new WeakSet);function Z(de){return fe(de)}cr.isWeakSet=Z;function ne(de){return a(de)==="[object ArrayBuffer]"}ne.working=typeof ArrayBuffer<"u"&&ne(new ArrayBuffer);function C(de){return typeof ArrayBuffer>"u"?!1:ne.working?ne(de):de instanceof ArrayBuffer}cr.isArrayBuffer=C;function B(de){return a(de)==="[object DataView]"}B.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&B(new DataView(new ArrayBuffer(1),0,1));function K(de){return typeof DataView>"u"?!1:B.working?B(de):de instanceof DataView}cr.isDataView=K;var P=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function I(de){return a(de)==="[object SharedArrayBuffer]"}function q(de){return typeof P>"u"?!1:(typeof I.working>"u"&&(I.working=I(new P)),I.working?I(de):de instanceof P)}cr.isSharedArrayBuffer=q;function ie(de){return a(de)==="[object AsyncFunction]"}cr.isAsyncFunction=ie;function J(de){return a(de)==="[object Map Iterator]"}cr.isMapIterator=J;function Y(de){return a(de)==="[object Set Iterator]"}cr.isSetIterator=Y;function se(de){return a(de)==="[object Generator]"}cr.isGeneratorObject=se;function be(de){return a(de)==="[object WebAssembly.Module]"}cr.isWebAssemblyCompiledModule=be;function Pe(de){return m(de,l)}cr.isNumberObject=Pe;function R(de){return m(de,u)}cr.isStringObject=R;function j(de){return m(de,f)}cr.isBooleanObject=j;function M(de){return o&&m(de,c)}cr.isBigIntObject=M;function G(de){return s&&m(de,p)}cr.isSymbolObject=G;function oe(de){return Pe(de)||R(de)||j(de)||M(de)||G(de)}cr.isBoxedPrimitive=oe;function ce(de){return typeof Uint8Array<"u"&&(C(de)||q(de))}return cr.isAnyArrayBuffer=ce,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(de){Object.defineProperty(cr,de,{enumerable:!1,value:function(){throw new Error(de+" is not supported in userland")}})}),cr}function cte(){return Sx||(Sx=!0,Q0=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),Q0}function fte(){if($x)return fr;$x=!0;var e=di,t=Object.getOwnPropertyDescriptors||function(P){for(var I=Object.keys(P),q={},ie=0;ie<I.length;ie++)q[I[ie]]=Object.getOwnPropertyDescriptor(P,I[ie]);return q},r=/%[sdj%]/g;fr.format=function(K){if(!$(K)){for(var P=[],I=0;I<arguments.length;I++)P.push(s(arguments[I]));return P.join(" ")}for(var I=1,q=arguments,ie=q.length,J=String(K).replace(r,function(se){if(se==="%%")return"%";if(I>=ie)return se;switch(se){case"%s":return String(q[I++]);case"%d":return Number(q[I++]);case"%j":try{return JSON.stringify(q[I++])}catch{return"[Circular]"}default:return se}}),Y=q[I];I<ie;Y=q[++I])E(Y)||!x(Y)?J+=" "+Y:J+=" "+s(Y);return J},fr.deprecate=function(K,P){if(typeof e<"u"&&e.noDeprecation===!0)return K;if(typeof e>"u")return function(){return fr.deprecate(K,P).apply(this||xd,arguments)};var I=!1;function q(){if(!I){if(e.throwDeprecation)throw new Error(P);e.traceDeprecation?console.trace(P):console.error(P),I=!0}return K.apply(this||xd,arguments)}return q};var n={},i=/^$/;if(e.env.NODE_DEBUG){var o=e.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}fr.debuglog=function(K){if(K=K.toUpperCase(),!n[K])if(i.test(K)){var P=e.pid;n[K]=function(){var I=fr.format.apply(fr,arguments);console.error("%s %d: %s",K,P,I)}}else n[K]=function(){};return n[K]};function s(K,P){var I={seen:[],stylize:l};return arguments.length>=3&&(I.depth=arguments[2]),arguments.length>=4&&(I.colors=arguments[3]),h(P)?I.showHidden=P:P&&fr._extend(I,P),d(I.showHidden)&&(I.showHidden=!1),d(I.depth)&&(I.depth=2),d(I.colors)&&(I.colors=!1),d(I.customInspect)&&(I.customInspect=!0),I.colors&&(I.stylize=a),f(I,K,I.depth)}fr.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(K,P){var I=s.styles[P];return I?"\x1B["+s.colors[I][0]+"m"+K+"\x1B["+s.colors[I][1]+"m":K}function l(K,P){return K}function u(K){var P={};return K.forEach(function(I,q){P[I]=!0}),P}function f(K,P,I){if(K.customInspect&&P&&F(P.inspect)&&P.inspect!==fr.inspect&&!(P.constructor&&P.constructor.prototype===P)){var q=P.inspect(I,K);return $(q)||(q=f(K,q,I)),q}var ie=c(K,P);if(ie)return ie;var J=Object.keys(P),Y=u(J);if(K.showHidden&&(J=Object.getOwnPropertyNames(P)),D(P)&&(J.indexOf("message")>=0||J.indexOf("description")>=0))return p(P);if(J.length===0){if(F(P)){var se=P.name?": "+P.name:"";return K.stylize("[Function"+se+"]","special")}if(A(P))return K.stylize(RegExp.prototype.toString.call(P),"regexp");if(O(P))return K.stylize(Date.prototype.toString.call(P),"date");if(D(P))return p(P)}var be="",Pe=!1,R=["{","}"];if(v(P)&&(Pe=!0,R=["[","]"]),F(P)){var j=P.name?": "+P.name:"";be=" [Function"+j+"]"}if(A(P)&&(be=" "+RegExp.prototype.toString.call(P)),O(P)&&(be=" "+Date.prototype.toUTCString.call(P)),D(P)&&(be=" "+p(P)),J.length===0&&(!Pe||P.length==0))return R[0]+be+R[1];if(I<0)return A(P)?K.stylize(RegExp.prototype.toString.call(P),"regexp"):K.stylize("[Object]","special");K.seen.push(P);var M;return Pe?M=m(K,P,I,Y,J):M=J.map(function(G){return g(K,P,I,Y,G,Pe)}),K.seen.pop(),_(M,be,R)}function c(K,P){if(d(P))return K.stylize("undefined","undefined");if($(P)){var I="'"+JSON.stringify(P).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return K.stylize(I,"string")}if(S(P))return K.stylize(""+P,"number");if(h(P))return K.stylize(""+P,"boolean");if(E(P))return K.stylize("null","null")}function p(K){return"["+Error.prototype.toString.call(K)+"]"}function m(K,P,I,q,ie){for(var J=[],Y=0,se=P.length;Y<se;++Y)Z(P,String(Y))?J.push(g(K,P,I,q,String(Y),!0)):J.push("");return ie.forEach(function(be){be.match(/^\d+$/)||J.push(g(K,P,I,q,be,!0))}),J}function g(K,P,I,q,ie,J){var Y,se,be;if(be=Object.getOwnPropertyDescriptor(P,ie)||{value:P[ie]},be.get?be.set?se=K.stylize("[Getter/Setter]","special"):se=K.stylize("[Getter]","special"):be.set&&(se=K.stylize("[Setter]","special")),Z(q,ie)||(Y="["+ie+"]"),se||(K.seen.indexOf(be.value)<0?(E(I)?se=f(K,be.value,null):se=f(K,be.value,I-1),se.indexOf(`
`)>-1&&(J?se=se.split(`
`).map(function(Pe){return"  "+Pe}).join(`
`).slice(2):se=`
`+se.split(`
`).map(function(Pe){return"   "+Pe}).join(`
`))):se=K.stylize("[Circular]","special")),d(Y)){if(J&&ie.match(/^\d+$/))return se;Y=JSON.stringify(""+ie),Y.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Y=Y.slice(1,-1),Y=K.stylize(Y,"name")):(Y=Y.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Y=K.stylize(Y,"string"))}return Y+": "+se}function _(K,P,I){var q=K.reduce(function(ie,J){return J.indexOf(`
`)>=0,ie+J.replace(/\u001b\[\d\d?m/g,"").length+1},0);return q>60?I[0]+(P===""?"":P+`
 `)+" "+K.join(`,
  `)+" "+I[1]:I[0]+P+" "+K.join(", ")+" "+I[1]}fr.types=ute();function v(K){return Array.isArray(K)}fr.isArray=v;function h(K){return typeof K=="boolean"}fr.isBoolean=h;function E(K){return K===null}fr.isNull=E;function y(K){return K==null}fr.isNullOrUndefined=y;function S(K){return typeof K=="number"}fr.isNumber=S;function $(K){return typeof K=="string"}fr.isString=$;function T(K){return typeof K=="symbol"}fr.isSymbol=T;function d(K){return K===void 0}fr.isUndefined=d;function A(K){return x(K)&&Q(K)==="[object RegExp]"}fr.isRegExp=A,fr.types.isRegExp=A;function x(K){return typeof K=="object"&&K!==null}fr.isObject=x;function O(K){return x(K)&&Q(K)==="[object Date]"}fr.isDate=O,fr.types.isDate=O;function D(K){return x(K)&&(Q(K)==="[object Error]"||K instanceof Error)}fr.isError=D,fr.types.isNativeError=D;function F(K){return typeof K=="function"}fr.isFunction=F;function V(K){return K===null||typeof K=="boolean"||typeof K=="number"||typeof K=="string"||typeof K=="symbol"||typeof K>"u"}fr.isPrimitive=V,fr.isBuffer=cte();function Q(K){return Object.prototype.toString.call(K)}function H(K){return K<10?"0"+K.toString(10):K.toString(10)}var X=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function fe(){var K=new Date,P=[H(K.getHours()),H(K.getMinutes()),H(K.getSeconds())].join(":");return[K.getDate(),X[K.getMonth()],P].join(" ")}fr.log=function(){console.log("%s - %s",fe(),fr.format.apply(fr,arguments))},fr.inherits=sc(),fr._extend=function(K,P){if(!P||!x(P))return K;for(var I=Object.keys(P),q=I.length;q--;)K[I[q]]=P[I[q]];return K};function Z(K,P){return Object.prototype.hasOwnProperty.call(K,P)}var ne=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;fr.promisify=function(P){if(typeof P!="function")throw new TypeError('The "original" argument must be of type Function');if(ne&&P[ne]){if(I=P[ne],typeof I!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(I,ne,{value:I,enumerable:!1,writable:!1,configurable:!0}),I}function I(){for(var q,ie,J=new Promise(function(be,Pe){q=be,ie=Pe}),Y=[],se=0;se<arguments.length;se++)Y.push(arguments[se]);Y.push(function(be,Pe){be?ie(be):q(Pe)});try{P.apply(this||xd,Y)}catch(be){ie(be)}return J}return Object.setPrototypeOf(I,Object.getPrototypeOf(P)),ne&&Object.defineProperty(I,ne,{value:I,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(I,t(P))},fr.promisify.custom=ne;function C(K,P){if(!K){var I=new Error("Promise was rejected with a falsy value");I.reason=K,K=I}return P(K)}function B(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');function P(){for(var I=[],q=0;q<arguments.length;q++)I.push(arguments[q]);var ie=I.pop();if(typeof ie!="function")throw new TypeError("The last argument must be of type Function");var J=this||xd,Y=function(){return ie.apply(J,arguments)};K.apply(this||xd,I).then(function(se){e.nextTick(Y.bind(null,null,se))},function(se){e.nextTick(C.bind(null,se,Y))})}return Object.setPrototypeOf(P,Object.getPrototypeOf(K)),Object.defineProperties(P,t(K)),P}return fr.callbackify=B,fr}var q0,hx,V0,px,H0,mx,W0,gx,G0,vx,K0,yx,J0,wx,v6,Y0,bx,y6,X0,_x,cr,Ex,Q0,Sx,fr,$x,xd,Kt,w6,b6,_6,E6,S6,$6,T6,A6,x6,O6,P6,R6,N6,I6,k6,C6,j6,D6,M6,L6,F6,B6,U6,Bb,z6,q6,V6,eE=nn({"../../node_modules/@jspm/core/nodelibs/browser/util.js"(){Te(),ZR(),FR(),Eg(),q0={},hx=!1,V0={},px=!1,H0={},mx=!1,W0={},gx=!1,G0={},vx=!1,K0={},yx=!1,J0={},wx=!1,v6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Y0={},bx=!1,y6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,X0={},_x=!1,cr={},Ex=!1,Q0={},Sx=!1,fr={},$x=!1,xd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Kt=fte(),Kt.format,Kt.deprecate,Kt.debuglog,Kt.inspect,Kt.types,Kt.isArray,Kt.isBoolean,Kt.isNull,Kt.isNullOrUndefined,Kt.isNumber,Kt.isString,Kt.isSymbol,Kt.isUndefined,Kt.isRegExp,Kt.isObject,Kt.isDate,Kt.isError,Kt.isFunction,Kt.isPrimitive,Kt.isBuffer,Kt.log,Kt.inherits,Kt._extend,Kt.promisify,Kt.callbackify,w6=Kt._extend,b6=Kt.callbackify,_6=Kt.debuglog,E6=Kt.deprecate,S6=Kt.format,$6=Kt.inherits,T6=Kt.inspect,A6=Kt.isArray,x6=Kt.isBoolean,O6=Kt.isBuffer,P6=Kt.isDate,R6=Kt.isError,N6=Kt.isFunction,I6=Kt.isNull,k6=Kt.isNullOrUndefined,C6=Kt.isNumber,j6=Kt.isObject,D6=Kt.isPrimitive,M6=Kt.isRegExp,L6=Kt.isString,F6=Kt.isSymbol,B6=Kt.isUndefined,U6=Kt.log,Bb=Kt.promisify,z6=Kt.types,q6=Kt.TextEncoder=globalThis.TextEncoder,V6=Kt.TextDecoder=globalThis.TextDecoder}}),es={};rl(es,{Duplex:()=>Q6,PassThrough:()=>eq,Readable:()=>yw,Stream:()=>nq,Transform:()=>Z6,Writable:()=>X6,default:()=>tn,finished:()=>tq,pipeline:()=>rq,promises:()=>iq});function Ln(){return Tx||(Tx=!0,Z0={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array}),Z0}function qm(){if(Ax)return Od;Ax=!0;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Od=e,Od.AbortSignal=t,Od.default=e,Od}function io(){if(xx)return Bp;xx=!0;const e=No(),{kResistStopPropagation:t,SymbolDispose:r}=Ln(),n=globalThis.AbortSignal||qm().AbortSignal,i=globalThis.AbortController||qm().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,s=globalThis.Blob||e.Blob,a=typeof s<"u"?function(p){return p instanceof s}:function(p){return!1},l=(c,p)=>{if(c!==void 0&&(c===null||typeof c!="object"||!("aborted"in c)))throw new ERR_INVALID_ARG_TYPE(p,"AbortSignal",c)},u=(c,p)=>{if(typeof c!="function")throw new ERR_INVALID_ARG_TYPE(p,"Function",c)};class f extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let m="";for(let g=0;g<p.length;g++)m+=`    ${p[g].stack}
`;super(m),this.name="AggregateError",this.errors=p}}return Bp={AggregateError:f,kEmptyObject:Object.freeze({}),once(c){let p=!1;return function(...m){p||(p=!0,c.apply(this,m))}},createDeferredPromise:function(){let c,p;return{promise:new Promise((g,_)=>{c=g,p=_}),resolve:c,reject:p}},promisify(c){return new Promise((p,m)=>{c((g,..._)=>g?m(g):p(..._))})},debuglog(){return function(){}},format(c,...p){return c.replace(/%([sdifj])/g,function(...[m,g]){const _=p.shift();return g==="f"?_.toFixed(6):g==="j"?JSON.stringify(_):g==="s"&&typeof _=="object"?`${_.constructor!==Object?_.constructor.name:""} {}`.trim():_.toString()})},inspect(c){switch(typeof c){case"string":if(c.includes("'"))if(c.includes('"')){if(!c.includes("`")&&!c.includes("${"))return`\`${c}\``}else return`"${c}"`;return`'${c}'`;case"number":return isNaN(c)?"NaN":Object.is(c,-0)?String(c):c;case"bigint":return`${String(c)}n`;case"boolean":case"undefined":return String(c);case"object":return"{}"}},types:{isAsyncFunction(c){return c instanceof o},isArrayBufferView(c){return ArrayBuffer.isView(c)}},isBlob:a,deprecate(c,p){return c},addAbortListener:La.addAbortListener||function(p,m){if(p===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",p);l(p,"signal"),u(m,"listener");let g;return p.aborted?queueMicrotask(()=>m()):(p.addEventListener("abort",m,{__proto__:null,once:!0,[t]:!0}),g=()=>{p.removeEventListener("abort",m)}),{__proto__:null,[r](){var _;(_=g)===null||_===void 0||_()}}},AbortSignalAny:n.any||function(p){if(p.length===1)return p[0];const m=new i,g=()=>m.abort();return p.forEach(_=>{l(_,"signals"),_.addEventListener("abort",g,{once:!0})}),m.signal.addEventListener("abort",()=>{p.forEach(_=>_.removeEventListener("abort",g))},{once:!0}),m.signal}},Bp.promisify.custom=Symbol.for("nodejs.util.promisify.custom"),Bp}function ko(){if(Ox)return ew;Ox=!0;const{format:e,inspect:t,AggregateError:r}=io(),n=globalThis.AggregateError||r,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",l={};function u(v,h){if(!v)throw new l.ERR_INTERNAL_ASSERTION(h)}function f(v){let h="",E=v.length;const y=v[0]==="-"?1:0;for(;E>=y+4;E-=3)h=`_${v.slice(E-3,E)}${h}`;return`${v.slice(0,E)}${h}`}function c(v,h,E){if(typeof h=="function")return u(h.length<=E.length,`Code: ${v}; The provided arguments length (${E.length}) does not match the required ones (${h.length}).`),h(...E);const y=(h.match(/%[dfijoOs]/g)||[]).length;return u(y===E.length,`Code: ${v}; The provided arguments length (${E.length}) does not match the required ones (${y}).`),E.length===0?h:e(h,...E)}function p(v,h,E){E||(E=Error);class y extends E{constructor(...$){super(c(v,h,$))}toString(){return`${this.name} [${v}]: ${this.message}`}}Object.defineProperties(y.prototype,{name:{value:E.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${v}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),y.prototype.code=v,y.prototype[i]=!0,l[v]=y}function m(v){const h=a+v.name;return Object.defineProperty(v,"name",{value:h}),v}function g(v,h){if(v&&h&&v!==h){if(Array.isArray(h.errors))return h.errors.push(v),h;const E=new n([h,v],h.message);return E.code=h.code,E}return v||h}class _ extends Error{constructor(h="The operation was aborted",E=void 0){if(E!==void 0&&typeof E!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",E);super(h,E),this.code="ABORT_ERR",this.name="AbortError"}}return p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(v,h,E)=>{u(typeof v=="string","'name' must be a string"),Array.isArray(h)||(h=[h]);let y="The ";v.endsWith(" argument")?y+=`${v} `:y+=`"${v}" ${v.includes(".")?"property":"argument"} `,y+="must be ";const S=[],$=[],T=[];for(const A of h)u(typeof A=="string","All expected entries have to be of type string"),o.includes(A)?S.push(A.toLowerCase()):s.test(A)?$.push(A):(u(A!=="object",'The value "object" should be written as "Object"'),T.push(A));if($.length>0){const A=S.indexOf("object");A!==-1&&(S.splice(S,A,1),$.push("Object"))}if(S.length>0){switch(S.length){case 1:y+=`of type ${S[0]}`;break;case 2:y+=`one of type ${S[0]} or ${S[1]}`;break;default:{const A=S.pop();y+=`one of type ${S.join(", ")}, or ${A}`}}($.length>0||T.length>0)&&(y+=" or ")}if($.length>0){switch($.length){case 1:y+=`an instance of ${$[0]}`;break;case 2:y+=`an instance of ${$[0]} or ${$[1]}`;break;default:{const A=$.pop();y+=`an instance of ${$.join(", ")}, or ${A}`}}T.length>0&&(y+=" or ")}switch(T.length){case 0:break;case 1:T[0].toLowerCase()!==T[0]&&(y+="an "),y+=`${T[0]}`;break;case 2:y+=`one of ${T[0]} or ${T[1]}`;break;default:{const A=T.pop();y+=`one of ${T.join(", ")}, or ${A}`}}if(E==null)y+=`. Received ${E}`;else if(typeof E=="function"&&E.name)y+=`. Received function ${E.name}`;else if(typeof E=="object"){var d;if((d=E.constructor)!==null&&d!==void 0&&d.name)y+=`. Received an instance of ${E.constructor.name}`;else{const A=t(E,{depth:-1});y+=`. Received ${A}`}}else{let A=t(E,{colors:!1});A.length>25&&(A=`${A.slice(0,25)}...`),y+=`. Received type ${typeof E} (${A})`}return y},TypeError),p("ERR_INVALID_ARG_VALUE",(v,h,E="is invalid")=>{let y=t(h);return y.length>128&&(y=y.slice(0,128)+"..."),`The ${v.includes(".")?"property":"argument"} '${v}' ${E}. Received ${y}`},TypeError),p("ERR_INVALID_RETURN_VALUE",(v,h,E)=>{var y;const S=E!=null&&(y=E.constructor)!==null&&y!==void 0&&y.name?`instance of ${E.constructor.name}`:`type ${typeof E}`;return`Expected ${v} to be returned from the "${h}" function but got ${S}.`},TypeError),p("ERR_MISSING_ARGS",(...v)=>{u(v.length>0,"At least one arg needs to be specified");let h;const E=v.length;switch(v=(Array.isArray(v)?v:[v]).map(y=>`"${y}"`).join(" or "),E){case 1:h+=`The ${v[0]} argument`;break;case 2:h+=`The ${v[0]} and ${v[1]} arguments`;break;default:{const y=v.pop();h+=`The ${v.join(", ")}, and ${y} arguments`}break}return`${h} must be specified`},TypeError),p("ERR_OUT_OF_RANGE",(v,h,E)=>{u(h,'Missing "range" argument');let y;return Number.isInteger(E)&&Math.abs(E)>2**32?y=f(String(E)):typeof E=="bigint"?(y=String(E),(E>2n**32n||E<-(2n**32n))&&(y=f(y)),y+="n"):y=t(E),`The value of "${v}" is out of range. It must be ${h}. Received ${y}`},RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),ew={AbortError:_,aggregateTwoErrors:m(g),hideStackFrames:m,codes:l},ew}function Tg(){if(Px)return tw;Px=!0;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:s,NumberMIN_SAFE_INTEGER:a,NumberParseInt:l,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:f,String:c,StringPrototypeToUpperCase:p,StringPrototypeTrim:m}=Ln(),{hideStackFrames:g,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:h,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:y}}=ko(),{normalizeEncoding:S}=io(),{isAsyncFunction:$,isArrayBufferView:T}=io().types,d={};function A(ve){return ve===(ve|0)}function x(ve){return ve===ve>>>0}const O=/^[0-7]+$/,D="must be a 32-bit unsigned integer or an octal string";function F(ve,Ie,Be){if(typeof ve>"u"&&(ve=Be),typeof ve=="string"){if(f(O,ve)===null)throw new h(Ie,ve,D);ve=l(ve,8)}return H(ve,Ie),ve}const V=g((ve,Ie,Be=a,De=s)=>{if(typeof ve!="number")throw new v(Ie,"number",ve);if(!i(ve))throw new E(Ie,"an integer",ve);if(ve<Be||ve>De)throw new E(Ie,`>= ${Be} && <= ${De}`,ve)}),Q=g((ve,Ie,Be=-2147483648,De=2147483647)=>{if(typeof ve!="number")throw new v(Ie,"number",ve);if(!i(ve))throw new E(Ie,"an integer",ve);if(ve<Be||ve>De)throw new E(Ie,`>= ${Be} && <= ${De}`,ve)}),H=g((ve,Ie,Be=!1)=>{if(typeof ve!="number")throw new v(Ie,"number",ve);if(!i(ve))throw new E(Ie,"an integer",ve);const De=Be?1:0,nt=4294967295;if(ve<De||ve>nt)throw new E(Ie,`>= ${De} && <= ${nt}`,ve)});function X(ve,Ie){if(typeof ve!="string")throw new v(Ie,"string",ve)}function fe(ve,Ie,Be=void 0,De){if(typeof ve!="number")throw new v(Ie,"number",ve);if(Be!=null&&ve<Be||De!=null&&ve>De||(Be!=null||De!=null)&&o(ve))throw new E(Ie,`${Be!=null?`>= ${Be}`:""}${Be!=null&&De!=null?" && ":""}${De!=null?`<= ${De}`:""}`,ve)}const Z=g((ve,Ie,Be)=>{if(!t(Be,ve)){const nt="must be one of: "+r(n(Be,We=>typeof We=="string"?`'${We}'`:c(We)),", ");throw new h(Ie,ve,nt)}});function ne(ve,Ie){if(typeof ve!="boolean")throw new v(Ie,"boolean",ve)}function C(ve,Ie,Be){return ve==null||!u(ve,Ie)?Be:ve[Ie]}const B=g((ve,Ie,Be=null)=>{const De=C(Be,"allowArray",!1),nt=C(Be,"allowFunction",!1);if(!C(Be,"nullable",!1)&&ve===null||!De&&e(ve)||typeof ve!="object"&&(!nt||typeof ve!="function"))throw new v(Ie,"Object",ve)}),K=g((ve,Ie)=>{if(ve!=null&&typeof ve!="object"&&typeof ve!="function")throw new v(Ie,"a dictionary",ve)}),P=g((ve,Ie,Be=0)=>{if(!e(ve))throw new v(Ie,"Array",ve);if(ve.length<Be){const De=`must be longer than ${Be}`;throw new h(Ie,ve,De)}});function I(ve,Ie){P(ve,Ie);for(let Be=0;Be<ve.length;Be++)X(ve[Be],`${Ie}[${Be}]`)}function q(ve,Ie){P(ve,Ie);for(let Be=0;Be<ve.length;Be++)ne(ve[Be],`${Ie}[${Be}]`)}function ie(ve,Ie){P(ve,Ie);for(let Be=0;Be<ve.length;Be++){const De=ve[Be],nt=`${Ie}[${Be}]`;if(De==null)throw new v(nt,"AbortSignal",De);Pe(De,nt)}}function J(ve,Ie="signal"){if(X(ve,Ie),d[ve]===void 0)throw d[p(ve)]!==void 0?new y(ve+" (signals must use all capital letters)"):new y(ve)}const Y=g((ve,Ie="buffer")=>{if(!T(ve))throw new v(Ie,["Buffer","TypedArray","DataView"],ve)});function se(ve,Ie){const Be=S(Ie),De=ve.length;if(Be==="hex"&&De%2!==0)throw new h("encoding",Ie,`is invalid for data of length ${De}`)}function be(ve,Ie="Port",Be=!0){if(typeof ve!="number"&&typeof ve!="string"||typeof ve=="string"&&m(ve).length===0||+ve!==+ve>>>0||ve>65535||ve===0&&!Be)throw new _(Ie,ve,Be);return ve|0}const Pe=g((ve,Ie)=>{if(ve!==void 0&&(ve===null||typeof ve!="object"||!("aborted"in ve)))throw new v(Ie,"AbortSignal",ve)}),R=g((ve,Ie)=>{if(typeof ve!="function")throw new v(Ie,"Function",ve)}),j=g((ve,Ie)=>{if(typeof ve!="function"||$(ve))throw new v(Ie,"Function",ve)}),M=g((ve,Ie)=>{if(ve!==void 0)throw new v(Ie,"undefined",ve)});function G(ve,Ie,Be){if(!t(Be,ve))throw new v(Ie,`('${r(Be,"|")}')`,ve)}const oe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ce(ve,Ie){if(typeof ve>"u"||!f(oe,ve))throw new h(Ie,ve,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function de(ve){if(typeof ve=="string")return ce(ve,"hints"),ve;if(e(ve)){const Ie=ve.length;let Be="";if(Ie===0)return Be;for(let De=0;De<Ie;De++){const nt=ve[De];ce(nt,"hints"),Be+=nt,De!==Ie-1&&(Be+=", ")}return Be}throw new h("hints",ve,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return tw={isInt32:A,isUint32:x,parseFileMode:F,validateArray:P,validateStringArray:I,validateBooleanArray:q,validateAbortSignalArray:ie,validateBoolean:ne,validateBuffer:Y,validateDictionary:K,validateEncoding:se,validateFunction:R,validateInt32:Q,validateInteger:V,validateNumber:fe,validateObject:B,validateOneOf:Z,validatePlainFunction:j,validatePort:be,validateSignalName:J,validateString:X,validateUint32:H,validateUndefined:M,validateUnion:G,validateAbortSignal:Pe,validateLinkHeaderValue:de},tw}function Vl(){if(Rx)return rw;Rx=!0;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:r}=Ln(),n=r("nodejs.stream.destroyed"),i=r("nodejs.stream.errored"),o=r("nodejs.stream.readable"),s=r("nodejs.stream.writable"),a=r("nodejs.stream.disturbed"),l=r("nodejs.webstream.isClosedPromise"),u=r("nodejs.webstream.controllerErrorFunction");function f(C,B=!1){var K;return!!(C&&typeof C.pipe=="function"&&typeof C.on=="function"&&(!B||typeof C.pause=="function"&&typeof C.resume=="function")&&(!C._writableState||((K=C._readableState)===null||K===void 0?void 0:K.readable)!==!1)&&(!C._writableState||C._readableState))}function c(C){var B;return!!(C&&typeof C.write=="function"&&typeof C.on=="function"&&(!C._readableState||((B=C._writableState)===null||B===void 0?void 0:B.writable)!==!1))}function p(C){return!!(C&&typeof C.pipe=="function"&&C._readableState&&typeof C.on=="function"&&typeof C.write=="function")}function m(C){return C&&(C._readableState||C._writableState||typeof C.write=="function"&&typeof C.on=="function"||typeof C.pipe=="function"&&typeof C.on=="function")}function g(C){return!!(C&&!m(C)&&typeof C.pipeThrough=="function"&&typeof C.getReader=="function"&&typeof C.cancel=="function")}function _(C){return!!(C&&!m(C)&&typeof C.getWriter=="function"&&typeof C.abort=="function")}function v(C){return!!(C&&!m(C)&&typeof C.readable=="object"&&typeof C.writable=="object")}function h(C){return g(C)||_(C)||v(C)}function E(C,B){return C==null?!1:B===!0?typeof C[e]=="function":B===!1?typeof C[t]=="function":typeof C[e]=="function"||typeof C[t]=="function"}function y(C){if(!m(C))return null;const B=C._writableState,K=C._readableState,P=B||K;return!!(C.destroyed||C[n]||P!=null&&P.destroyed)}function S(C){if(!c(C))return null;if(C.writableEnded===!0)return!0;const B=C._writableState;return B!=null&&B.errored?!1:typeof(B==null?void 0:B.ended)!="boolean"?null:B.ended}function $(C,B){if(!c(C))return null;if(C.writableFinished===!0)return!0;const K=C._writableState;return K!=null&&K.errored?!1:typeof(K==null?void 0:K.finished)!="boolean"?null:!!(K.finished||B===!1&&K.ended===!0&&K.length===0)}function T(C){if(!f(C))return null;if(C.readableEnded===!0)return!0;const B=C._readableState;return!B||B.errored?!1:typeof(B==null?void 0:B.ended)!="boolean"?null:B.ended}function d(C,B){if(!f(C))return null;const K=C._readableState;return K!=null&&K.errored?!1:typeof(K==null?void 0:K.endEmitted)!="boolean"?null:!!(K.endEmitted||B===!1&&K.ended===!0&&K.length===0)}function A(C){return C&&C[o]!=null?C[o]:typeof(C==null?void 0:C.readable)!="boolean"?null:y(C)?!1:f(C)&&C.readable&&!d(C)}function x(C){return C&&C[s]!=null?C[s]:typeof(C==null?void 0:C.writable)!="boolean"?null:y(C)?!1:c(C)&&C.writable&&!S(C)}function O(C,B){return m(C)?y(C)?!0:!((B==null?void 0:B.readable)!==!1&&A(C)||(B==null?void 0:B.writable)!==!1&&x(C)):null}function D(C){var B,K;return m(C)?C.writableErrored?C.writableErrored:(B=(K=C._writableState)===null||K===void 0?void 0:K.errored)!==null&&B!==void 0?B:null:null}function F(C){var B,K;return m(C)?C.readableErrored?C.readableErrored:(B=(K=C._readableState)===null||K===void 0?void 0:K.errored)!==null&&B!==void 0?B:null:null}function V(C){if(!m(C))return null;if(typeof C.closed=="boolean")return C.closed;const B=C._writableState,K=C._readableState;return typeof(B==null?void 0:B.closed)=="boolean"||typeof(K==null?void 0:K.closed)=="boolean"?(B==null?void 0:B.closed)||(K==null?void 0:K.closed):typeof C._closed=="boolean"&&Q(C)?C._closed:null}function Q(C){return typeof C._closed=="boolean"&&typeof C._defaultKeepAlive=="boolean"&&typeof C._removedConnection=="boolean"&&typeof C._removedContLen=="boolean"}function H(C){return typeof C._sent100=="boolean"&&Q(C)}function X(C){var B;return typeof C._consuming=="boolean"&&typeof C._dumped=="boolean"&&((B=C.req)===null||B===void 0?void 0:B.upgradeOrConnect)===void 0}function fe(C){if(!m(C))return null;const B=C._writableState,K=C._readableState,P=B||K;return!P&&H(C)||!!(P&&P.autoDestroy&&P.emitClose&&P.closed===!1)}function Z(C){var B;return!!(C&&((B=C[a])!==null&&B!==void 0?B:C.readableDidRead||C.readableAborted))}function ne(C){var B,K,P,I,q,ie,J,Y,se,be;return!!(C&&((B=(K=(P=(I=(q=(ie=C[i])!==null&&ie!==void 0?ie:C.readableErrored)!==null&&q!==void 0?q:C.writableErrored)!==null&&I!==void 0?I:(J=C._readableState)===null||J===void 0?void 0:J.errorEmitted)!==null&&P!==void 0?P:(Y=C._writableState)===null||Y===void 0?void 0:Y.errorEmitted)!==null&&K!==void 0?K:(se=C._readableState)===null||se===void 0?void 0:se.errored)!==null&&B!==void 0?B:!((be=C._writableState)===null||be===void 0)&&be.errored))}return rw={isDestroyed:y,kIsDestroyed:n,isDisturbed:Z,kIsDisturbed:a,isErrored:ne,kIsErrored:i,isReadable:A,kIsReadable:o,kIsClosedPromise:l,kControllerErrorFunction:u,kIsWritable:s,isClosed:V,isDuplexNodeStream:p,isFinished:O,isIterable:E,isReadableNodeStream:f,isReadableStream:g,isReadableEnded:T,isReadableFinished:d,isReadableErrored:F,isNodeStream:m,isWebStream:h,isWritable:x,isWritableNodeStream:c,isWritableStream:_,isWritableEnded:S,isWritableFinished:$,isWritableErrored:D,isServerRequest:X,isServerResponse:H,willEmitClose:fe,isTransformStream:v},rw}function ac(){if(Nx)return Up;Nx=!0;const e=di,{AbortError:t,codes:r}=ko(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=r,{kEmptyObject:o,once:s}=io(),{validateAbortSignal:a,validateFunction:l,validateObject:u,validateBoolean:f}=Tg(),{Promise:c,PromisePrototypeThen:p,SymbolDispose:m}=Ln(),{isClosed:g,isReadable:_,isReadableNodeStream:v,isReadableStream:h,isReadableFinished:E,isReadableErrored:y,isWritable:S,isWritableNodeStream:$,isWritableStream:T,isWritableFinished:d,isWritableErrored:A,isNodeStream:x,willEmitClose:O,kIsClosedPromise:D}=Vl();let F;function V(Z){return Z.setHeader&&typeof Z.abort=="function"}const Q=()=>{};function H(Z,ne,C){var B,K;if(arguments.length===2?(C=ne,ne=o):ne==null?ne=o:u(ne,"options"),l(C,"callback"),a(ne.signal,"options.signal"),C=s(C),h(Z)||T(Z))return X(Z,ne,C);if(!x(Z))throw new n("stream",["ReadableStream","WritableStream","Stream"],Z);const P=(B=ne.readable)!==null&&B!==void 0?B:v(Z),I=(K=ne.writable)!==null&&K!==void 0?K:$(Z),q=Z._writableState,ie=Z._readableState,J=()=>{Z.writable||be()};let Y=O(Z)&&v(Z)===P&&$(Z)===I,se=d(Z,!1);const be=()=>{se=!0,Z.destroyed&&(Y=!1),!(Y&&(!Z.readable||P))&&(!P||Pe)&&C.call(Z)};let Pe=E(Z,!1);const R=()=>{Pe=!0,Z.destroyed&&(Y=!1),!(Y&&(!Z.writable||I))&&(!I||se)&&C.call(Z)},j=ve=>{C.call(Z,ve)};let M=g(Z);const G=()=>{M=!0;const ve=A(Z)||y(Z);if(ve&&typeof ve!="boolean")return C.call(Z,ve);if(P&&!Pe&&v(Z,!0)&&!E(Z,!1))return C.call(Z,new i);if(I&&!se&&!d(Z,!1))return C.call(Z,new i);C.call(Z)},oe=()=>{M=!0;const ve=A(Z)||y(Z);if(ve&&typeof ve!="boolean")return C.call(Z,ve);C.call(Z)},ce=()=>{Z.req.on("finish",be)};V(Z)?(Z.on("complete",be),Y||Z.on("abort",G),Z.req?ce():Z.on("request",ce)):I&&!q&&(Z.on("end",J),Z.on("close",J)),!Y&&typeof Z.aborted=="boolean"&&Z.on("aborted",G),Z.on("end",R),Z.on("finish",be),ne.error!==!1&&Z.on("error",j),Z.on("close",G),M?e.nextTick(G):q!=null&&q.errorEmitted||ie!=null&&ie.errorEmitted?Y||e.nextTick(oe):(!P&&(!Y||_(Z))&&(se||S(Z)===!1)||!I&&(!Y||S(Z))&&(Pe||_(Z)===!1)||ie&&Z.req&&Z.aborted)&&e.nextTick(oe);const de=()=>{C=Q,Z.removeListener("aborted",G),Z.removeListener("complete",be),Z.removeListener("abort",G),Z.removeListener("request",ce),Z.req&&Z.req.removeListener("finish",be),Z.removeListener("end",J),Z.removeListener("close",J),Z.removeListener("finish",be),Z.removeListener("end",R),Z.removeListener("error",j),Z.removeListener("close",G)};if(ne.signal&&!M){const ve=()=>{const Ie=C;de(),Ie.call(Z,new t(void 0,{cause:ne.signal.reason}))};if(ne.signal.aborted)e.nextTick(ve);else{F=F||io().addAbortListener;const Ie=F(ne.signal,ve),Be=C;C=s((...De)=>{Ie[m](),Be.apply(Z,De)})}}return de}function X(Z,ne,C){let B=!1,K=Q;if(ne.signal)if(K=()=>{B=!0,C.call(Z,new t(void 0,{cause:ne.signal.reason}))},ne.signal.aborted)e.nextTick(K);else{F=F||io().addAbortListener;const I=F(ne.signal,K),q=C;C=s((...ie)=>{I[m](),q.apply(Z,ie)})}const P=(...I)=>{B||e.nextTick(()=>C.apply(Z,I))};return p(Z[D].promise,P,P),Q}function fe(Z,ne){var C;let B=!1;return ne===null&&(ne=o),(C=ne)!==null&&C!==void 0&&C.cleanup&&(f(ne.cleanup,"cleanup"),B=ne.cleanup),new c((K,P)=>{const I=H(Z,ne,q=>{B&&I(),q?P(q):K()})})}return Up=H,Up.finished=fe,Up}function zh(){if(Ix)return nw;Ix=!0;const e=di,{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=ko(),{Symbol:i}=Ln(),{kIsDestroyed:o,isDestroyed:s,isFinished:a,isServerRequest:l}=Vl(),u=i("kDestroy"),f=i("kConstruct");function c(O,D,F){O&&(O.stack,D&&!D.errored&&(D.errored=O),F&&!F.errored&&(F.errored=O))}function p(O,D){const F=this._readableState,V=this._writableState,Q=V||F;return V!=null&&V.destroyed||F!=null&&F.destroyed?(typeof D=="function"&&D(),this):(c(O,V,F),V&&(V.destroyed=!0),F&&(F.destroyed=!0),Q.constructed?m(this,O,D):this.once(u,function(H){m(this,t(H,O),D)}),this)}function m(O,D,F){let V=!1;function Q(H){if(V)return;V=!0;const X=O._readableState,fe=O._writableState;c(H,fe,X),fe&&(fe.closed=!0),X&&(X.closed=!0),typeof F=="function"&&F(H),H?e.nextTick(g,O,H):e.nextTick(_,O)}try{O._destroy(D||null,Q)}catch(H){Q(H)}}function g(O,D){v(O,D),_(O)}function _(O){const D=O._readableState,F=O._writableState;F&&(F.closeEmitted=!0),D&&(D.closeEmitted=!0),(F!=null&&F.emitClose||D!=null&&D.emitClose)&&O.emit("close")}function v(O,D){const F=O._readableState,V=O._writableState;V!=null&&V.errorEmitted||F!=null&&F.errorEmitted||(V&&(V.errorEmitted=!0),F&&(F.errorEmitted=!0),O.emit("error",D))}function h(){const O=this._readableState,D=this._writableState;O&&(O.constructed=!0,O.closed=!1,O.closeEmitted=!1,O.destroyed=!1,O.errored=null,O.errorEmitted=!1,O.reading=!1,O.ended=O.readable===!1,O.endEmitted=O.readable===!1),D&&(D.constructed=!0,D.destroyed=!1,D.closed=!1,D.closeEmitted=!1,D.errored=null,D.errorEmitted=!1,D.finalCalled=!1,D.prefinished=!1,D.ended=D.writable===!1,D.ending=D.writable===!1,D.finished=D.writable===!1)}function E(O,D,F){const V=O._readableState,Q=O._writableState;if(Q!=null&&Q.destroyed||V!=null&&V.destroyed)return this;V!=null&&V.autoDestroy||Q!=null&&Q.autoDestroy?O.destroy(D):D&&(D.stack,Q&&!Q.errored&&(Q.errored=D),V&&!V.errored&&(V.errored=D),F?e.nextTick(v,O,D):v(O,D))}function y(O,D){if(typeof O._construct!="function")return;const F=O._readableState,V=O._writableState;F&&(F.constructed=!1),V&&(V.constructed=!1),O.once(f,D),!(O.listenerCount(f)>1)&&e.nextTick(S,O)}function S(O){let D=!1;function F(V){if(D){E(O,V??new r);return}D=!0;const Q=O._readableState,H=O._writableState,X=H||Q;Q&&(Q.constructed=!0),H&&(H.constructed=!0),X.destroyed?O.emit(u,V):V?E(O,V,!0):e.nextTick($,O)}try{O._construct(V=>{e.nextTick(F,V)})}catch(V){e.nextTick(F,V)}}function $(O){O.emit(f)}function T(O){return(O==null?void 0:O.setHeader)&&typeof O.abort=="function"}function d(O){O.emit("close")}function A(O,D){O.emit("error",D),e.nextTick(d,O)}function x(O,D){!O||s(O)||(!D&&!a(O)&&(D=new n),l(O)?(O.socket=null,O.destroy(D)):T(O)?O.abort():T(O.req)?O.req.abort():typeof O.destroy=="function"?O.destroy(D):typeof O.close=="function"?O.close():D?e.nextTick(A,O,D):e.nextTick(d,O),O.destroyed||(O[o]=!0))}return nw={construct:y,destroyer:x,destroy:p,undestroy:h,errorOrDestroy:E},nw}function tN(){if(kx)return iw;kx=!0;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Ln(),{EventEmitter:r}=La;function n(o){r.call(this,o)}t(n.prototype,r.prototype),t(n,r),n.prototype.pipe=function(o,s){const a=this;function l(_){o.writable&&o.write(_)===!1&&a.pause&&a.pause()}a.on("data",l);function u(){a.readable&&a.resume&&a.resume()}o.on("drain",u),!o._isStdio&&(!s||s.end!==!1)&&(a.on("end",c),a.on("close",p));let f=!1;function c(){f||(f=!0,o.end())}function p(){f||(f=!0,typeof o.destroy=="function"&&o.destroy())}function m(_){g(),r.listenerCount(this,"error")===0&&this.emit("error",_)}i(a,"error",m),i(o,"error",m);function g(){a.removeListener("data",l),o.removeListener("drain",u),a.removeListener("end",c),a.removeListener("close",p),a.removeListener("error",m),o.removeListener("error",m),a.removeListener("end",g),a.removeListener("close",g),o.removeListener("close",g)}return a.on("end",g),a.on("close",g),o.on("close",g),o.emit("pipe",a),o};function i(o,s,a){if(typeof o.prependListener=="function")return o.prependListener(s,a);!o._events||!o._events[s]?o.on(s,a):e(o._events[s])?o._events[s].unshift(a):o._events[s]=[a,o._events[s]]}return iw={Stream:n,prependListener:i},iw}function tE(){if(Cx)return Pd;Cx=!0;const{SymbolDispose:e}=Ln(),{AbortError:t,codes:r}=ko(),{isNodeStream:n,isWebStream:i,kControllerErrorFunction:o}=Vl(),s=ac(),{ERR_INVALID_ARG_TYPE:a}=r;let l;const u=(f,c)=>{if(typeof f!="object"||!("aborted"in f))throw new a(c,"AbortSignal",f)};return Pd.addAbortSignal=function(c,p){if(u(c,"signal"),!n(p)&&!i(p))throw new a("stream",["ReadableStream","WritableStream","Stream"],p);return Pd.addAbortSignalNoValidate(c,p)},Pd.addAbortSignalNoValidate=function(f,c){if(typeof f!="object"||!("aborted"in f))return c;const p=n(c)?()=>{c.destroy(new t(void 0,{cause:f.reason}))}:()=>{c[o](new t(void 0,{cause:f.reason}))};if(f.aborted)p();else{l=l||io().addAbortListener;const m=l(f,p);s(c,m[e])}return c},Pd}function dte(){if(jx)return ow;jx=!0;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:r,Uint8Array:n}=Ln(),{Buffer:i}=No(),{inspect:o}=io();return ow=class{constructor(){this.head=null,this.tail=null,this.length=0}push(a){const l={data:a,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(a){const l={data:a,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}clear(){this.head=this.tail=null,this.length=0}join(a){if(this.length===0)return"";let l=this.head,u=""+l.data;for(;(l=l.next)!==null;)u+=a+l.data;return u}concat(a){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(a>>>0);let u=this.head,f=0;for(;u;)r(l,u.data,f),f+=u.data.length,u=u.next;return l}consume(a,l){const u=this.head.data;if(a<u.length){const f=u.slice(0,a);return this.head.data=u.slice(a),f}return a===u.length?this.shift():l?this._getString(a):this._getBuffer(a)}first(){return this.head.data}*[t](){for(let a=this.head;a;a=a.next)yield a.data}_getString(a){let l="",u=this.head,f=0;do{const c=u.data;if(a>c.length)l+=c,a-=c.length;else{a===c.length?(l+=c,++f,u.next?this.head=u.next:this.head=this.tail=null):(l+=e(c,0,a),this.head=u,u.data=e(c,a));break}++f}while((u=u.next)!==null);return this.length-=f,l}_getBuffer(a){const l=i.allocUnsafe(a),u=a;let f=this.head,c=0;do{const p=f.data;if(a>p.length)r(l,p,u-a),a-=p.length;else{a===p.length?(r(l,p,u-a),++c,f.next?this.head=f.next:this.head=this.tail=null):(r(l,new n(p.buffer,p.byteOffset,a),u-a),this.head=f,f.data=p.slice(a));break}++c}while((f=f.next)!==null);return this.length-=c,l}[Symbol.for("nodejs.util.inspect.custom")](a,l){return o(this,{...l,depth:0,customInspect:!1})}},ow}function rE(){if(Dx)return sw;Dx=!0;const{MathFloor:e,NumberIsInteger:t}=Ln(),{validateInteger:r}=Tg(),{ERR_INVALID_ARG_VALUE:n}=ko().codes;let i=16*1024,o=16;function s(f,c,p){return f.highWaterMark!=null?f.highWaterMark:c?f[p]:null}function a(f){return f?o:i}function l(f,c){r(c,"value",0),f?o=c:i=c}function u(f,c,p,m){const g=s(c,m,p);if(g!=null){if(!t(g)||g<0){const _=m?`options.${p}`:"options.highWaterMark";throw new n(_,g)}return e(g)}return a(f.objectMode)}return sw={getHighWaterMark:u,getDefaultHighWaterMark:a,setDefaultHighWaterMark:l},sw}function H6(){if(Mx)return aw;Mx=!0;const e=di,{PromisePrototypeThen:t,SymbolAsyncIterator:r,SymbolIterator:n}=Ln(),{Buffer:i}=No(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:s}=ko().codes;function a(l,u,f){let c;if(typeof u=="string"||u instanceof i)return new l({objectMode:!0,...f,read(){this.push(u),this.push(null)}});let p;if(u&&u[r])p=!0,c=u[r]();else if(u&&u[n])p=!1,c=u[n]();else throw new o("iterable",["Iterable"],u);const m=new l({objectMode:!0,highWaterMark:1,...f});let g=!1;m._read=function(){g||(g=!0,v())},m._destroy=function(h,E){t(_(h),()=>e.nextTick(E,h),y=>e.nextTick(E,y||h))};async function _(h){const E=h!=null,y=typeof c.throw=="function";if(E&&y){const{value:S,done:$}=await c.throw(h);if(await S,$)return}if(typeof c.return=="function"){const{value:S}=await c.return();await S}}async function v(){for(;;){try{const{value:h,done:E}=p?await c.next():c.next();if(E)m.push(null);else{const y=h&&typeof h.then=="function"?await h:h;if(y===null)throw g=!1,new s;if(m.push(y))continue;g=!1}}catch(h){m.destroy(h)}break}}return m}return aw=a,aw}function nE(){if(Lx)return lw;Lx=!0;const e=di,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:s,ObjectSetPrototypeOf:a,Promise:l,SafeSet:u,SymbolAsyncDispose:f,SymbolAsyncIterator:c,Symbol:p}=Ln();lw=De,De.ReadableState=Be;const{EventEmitter:m}=La,{Stream:g,prependListener:_}=tN(),{Buffer:v}=No(),{addAbortSignal:h}=tE(),E=ac();let y=io().debuglog("stream",Se=>{y=Se});const S=dte(),$=zh(),{getHighWaterMark:T,getDefaultHighWaterMark:d}=rE(),{aggregateTwoErrors:A,codes:{ERR_INVALID_ARG_TYPE:x,ERR_METHOD_NOT_IMPLEMENTED:O,ERR_OUT_OF_RANGE:D,ERR_STREAM_PUSH_AFTER_EOF:F,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:V},AbortError:Q}=ko(),{validateObject:H}=Tg(),X=p("kPaused"),{StringDecoder:fe}=oh,Z=H6();a(De.prototype,g.prototype),a(De,g);const ne=()=>{},{errorOrDestroy:C}=$,B=1,K=2,P=4,I=8,q=16,ie=32,J=64,Y=128,se=256,be=512,Pe=1024,R=2048,j=4096,M=8192,G=16384,oe=32768,ce=65536,de=1<<17,ve=1<<18;function Ie(Se){return{enumerable:!1,get(){return((this||ct).state&Se)!==0},set(Ne){Ne?(this||ct).state|=Se:(this||ct).state&=~Se}}}o(Be.prototype,{objectMode:Ie(B),ended:Ie(K),endEmitted:Ie(P),reading:Ie(I),constructed:Ie(q),sync:Ie(ie),needReadable:Ie(J),emittedReadable:Ie(Y),readableListening:Ie(se),resumeScheduled:Ie(be),errorEmitted:Ie(Pe),emitClose:Ie(R),autoDestroy:Ie(j),destroyed:Ie(M),closed:Ie(G),closeEmitted:Ie(oe),multiAwaitDrain:Ie(ce),readingMore:Ie(de),dataEmitted:Ie(ve)});function Be(Se,Ne,ht){typeof ht!="boolean"&&(ht=Ne instanceof Ll()),(this||ct).state=R|j|q|ie,Se&&Se.objectMode&&((this||ct).state|=B),ht&&Se&&Se.readableObjectMode&&((this||ct).state|=B),(this||ct).highWaterMark=Se?T(this||ct,Se,"readableHighWaterMark",ht):d(!1),(this||ct).buffer=new S,(this||ct).length=0,(this||ct).pipes=[],(this||ct).flowing=null,(this||ct)[X]=null,Se&&Se.emitClose===!1&&((this||ct).state&=-2049),Se&&Se.autoDestroy===!1&&((this||ct).state&=-4097),(this||ct).errored=null,(this||ct).defaultEncoding=Se&&Se.defaultEncoding||"utf8",(this||ct).awaitDrainWriters=null,(this||ct).decoder=null,(this||ct).encoding=null,Se&&Se.encoding&&((this||ct).decoder=new fe(Se.encoding),(this||ct).encoding=Se.encoding)}function De(Se){if(!((this||ct)instanceof De))return new De(Se);const Ne=(this||ct)instanceof Ll();(this||ct)._readableState=new Be(Se,this||ct,Ne),Se&&(typeof Se.read=="function"&&((this||ct)._read=Se.read),typeof Se.destroy=="function"&&((this||ct)._destroy=Se.destroy),typeof Se.construct=="function"&&((this||ct)._construct=Se.construct),Se.signal&&!Ne&&h(Se.signal,this||ct)),g.call(this||ct,Se),$.construct(this||ct,()=>{(this||ct)._readableState.needReadable&&Ee(this||ct,(this||ct)._readableState)})}De.prototype.destroy=$.destroy,De.prototype._undestroy=$.undestroy,De.prototype._destroy=function(Se,Ne){Ne(Se)},De.prototype[m.captureRejectionSymbol]=function(Se){this.destroy(Se)},De.prototype[f]=function(){let Se;return(this||ct).destroyed||(Se=(this||ct).readableEnded?null:new Q,this.destroy(Se)),new l((Ne,ht)=>E(this||ct,Ye=>Ye&&Ye!==Se?ht(Ye):Ne(null)))},De.prototype.push=function(Se,Ne){return nt(this||ct,Se,Ne,!1)},De.prototype.unshift=function(Se,Ne){return nt(this||ct,Se,Ne,!0)};function nt(Se,Ne,ht,Ye){y("readableAddChunk",Ne);const it=Se._readableState;let Pt;if(it.state&B||(typeof Ne=="string"?(ht=ht||it.defaultEncoding,it.encoding!==ht&&(Ye&&it.encoding?Ne=v.from(Ne,ht).toString(it.encoding):(Ne=v.from(Ne,ht),ht=""))):Ne instanceof v?ht="":g._isUint8Array(Ne)?(Ne=g._uint8ArrayToBuffer(Ne),ht=""):Ne!=null&&(Pt=new x("chunk",["string","Buffer","Uint8Array"],Ne))),Pt)C(Se,Pt);else if(Ne===null)it.state&=-9,L(Se,it);else if(it.state&B||Ne&&Ne.length>0)if(Ye)if(it.state&P)C(Se,new V);else{if(it.destroyed||it.errored)return!1;We(Se,it,Ne,!0)}else if(it.ended)C(Se,new F);else{if(it.destroyed||it.errored)return!1;it.state&=-9,it.decoder&&!ht?(Ne=it.decoder.write(Ne),it.objectMode||Ne.length!==0?We(Se,it,Ne,!1):Ee(Se,it)):We(Se,it,Ne,!1)}else Ye||(it.state&=-9,Ee(Se,it));return!it.ended&&(it.length<it.highWaterMark||it.length===0)}function We(Se,Ne,ht,Ye){Ne.flowing&&Ne.length===0&&!Ne.sync&&Se.listenerCount("data")>0?(Ne.state&ce?Ne.awaitDrainWriters.clear():Ne.awaitDrainWriters=null,Ne.dataEmitted=!0,Se.emit("data",ht)):(Ne.length+=Ne.objectMode?1:ht.length,Ye?Ne.buffer.unshift(ht):Ne.buffer.push(ht),Ne.state&J&&re(Se)),Ee(Se,Ne)}De.prototype.isPaused=function(){const Se=(this||ct)._readableState;return Se[X]===!0||Se.flowing===!1},De.prototype.setEncoding=function(Se){const Ne=new fe(Se);(this||ct)._readableState.decoder=Ne,(this||ct)._readableState.encoding=(this||ct)._readableState.decoder.encoding;const ht=(this||ct)._readableState.buffer;let Ye="";for(const it of ht)Ye+=Ne.write(it);return ht.clear(),Ye!==""&&ht.push(Ye),(this||ct)._readableState.length=Ye.length,this||ct};const Ue=1073741824;function W(Se){if(Se>Ue)throw new D("size","<= 1GiB",Se);return Se--,Se|=Se>>>1,Se|=Se>>>2,Se|=Se>>>4,Se|=Se>>>8,Se|=Se>>>16,Se++,Se}function N(Se,Ne){return Se<=0||Ne.length===0&&Ne.ended?0:Ne.state&B?1:n(Se)?Ne.flowing&&Ne.length?Ne.buffer.first().length:Ne.length:Se<=Ne.length?Se:Ne.ended?Ne.length:0}De.prototype.read=function(Se){y("read",Se),Se===void 0?Se=NaN:r(Se)||(Se=i(Se,10));const Ne=(this||ct)._readableState,ht=Se;if(Se>Ne.highWaterMark&&(Ne.highWaterMark=W(Se)),Se!==0&&(Ne.state&=-129),Se===0&&Ne.needReadable&&((Ne.highWaterMark!==0?Ne.length>=Ne.highWaterMark:Ne.length>0)||Ne.ended))return y("read: emitReadable",Ne.length,Ne.ended),Ne.length===0&&Ne.ended?mr(this||ct):re(this||ct),null;if(Se=N(Se,Ne),Se===0&&Ne.ended)return Ne.length===0&&mr(this||ct),null;let Ye=(Ne.state&J)!==0;if(y("need readable",Ye),(Ne.length===0||Ne.length-Se<Ne.highWaterMark)&&(Ye=!0,y("length less than watermark",Ye)),Ne.ended||Ne.reading||Ne.destroyed||Ne.errored||!Ne.constructed)Ye=!1,y("reading, ended or constructing",Ye);else if(Ye){y("do read"),Ne.state|=I|ie,Ne.length===0&&(Ne.state|=J);try{this._read(Ne.highWaterMark)}catch(Pt){C(this||ct,Pt)}Ne.state&=-33,Ne.reading||(Se=N(ht,Ne))}let it;return Se>0?it=ir(Se,Ne):it=null,it===null?(Ne.needReadable=Ne.length<=Ne.highWaterMark,Se=0):(Ne.length-=Se,Ne.multiAwaitDrain?Ne.awaitDrainWriters.clear():Ne.awaitDrainWriters=null),Ne.length===0&&(Ne.ended||(Ne.needReadable=!0),ht!==Se&&Ne.ended&&mr(this||ct)),it!==null&&!Ne.errorEmitted&&!Ne.closeEmitted&&(Ne.dataEmitted=!0,this.emit("data",it)),it};function L(Se,Ne){if(y("onEofChunk"),!Ne.ended){if(Ne.decoder){const ht=Ne.decoder.end();ht&&ht.length&&(Ne.buffer.push(ht),Ne.length+=Ne.objectMode?1:ht.length)}Ne.ended=!0,Ne.sync?re(Se):(Ne.needReadable=!1,Ne.emittedReadable=!0,ye(Se))}}function re(Se){const Ne=Se._readableState;y("emitReadable",Ne.needReadable,Ne.emittedReadable),Ne.needReadable=!1,Ne.emittedReadable||(y("emitReadable",Ne.flowing),Ne.emittedReadable=!0,e.nextTick(ye,Se))}function ye(Se){const Ne=Se._readableState;y("emitReadable_",Ne.destroyed,Ne.length,Ne.ended),!Ne.destroyed&&!Ne.errored&&(Ne.length||Ne.ended)&&(Se.emit("readable"),Ne.emittedReadable=!1),Ne.needReadable=!Ne.flowing&&!Ne.ended&&Ne.length<=Ne.highWaterMark,Ct(Se)}function Ee(Se,Ne){!Ne.readingMore&&Ne.constructed&&(Ne.readingMore=!0,e.nextTick(je,Se,Ne))}function je(Se,Ne){for(;!Ne.reading&&!Ne.ended&&(Ne.length<Ne.highWaterMark||Ne.flowing&&Ne.length===0);){const ht=Ne.length;if(y("maybeReadMore read 0"),Se.read(0),ht===Ne.length)break}Ne.readingMore=!1}De.prototype._read=function(Se){throw new O("_read()")},De.prototype.pipe=function(Se,Ne){const ht=this||ct,Ye=(this||ct)._readableState;Ye.pipes.length===1&&(Ye.multiAwaitDrain||(Ye.multiAwaitDrain=!0,Ye.awaitDrainWriters=new u(Ye.awaitDrainWriters?[Ye.awaitDrainWriters]:[]))),Ye.pipes.push(Se),y("pipe count=%d opts=%j",Ye.pipes.length,Ne);const Pt=(!Ne||Ne.end!==!1)&&Se!==e.stdout&&Se!==e.stderr?he:jt;Ye.endEmitted?e.nextTick(Pt):ht.once("end",Pt),Se.on("unpipe",qt);function qt($t,Rt){y("onunpipe"),$t===ht&&Rt&&Rt.hasUnpiped===!1&&(Rt.hasUnpiped=!0,xe())}function he(){y("onend"),Se.end()}let ue,we=!1;function xe(){y("cleanup"),Se.removeListener("close",xt),Se.removeListener("finish",It),ue&&Se.removeListener("drain",ue),Se.removeListener("error",st),Se.removeListener("unpipe",qt),ht.removeListener("end",he),ht.removeListener("end",jt),ht.removeListener("data",tt),we=!0,ue&&Ye.awaitDrainWriters&&(!Se._writableState||Se._writableState.needDrain)&&ue()}function Ae(){we||(Ye.pipes.length===1&&Ye.pipes[0]===Se?(y("false write response, pause",0),Ye.awaitDrainWriters=Se,Ye.multiAwaitDrain=!1):Ye.pipes.length>1&&Ye.pipes.includes(Se)&&(y("false write response, pause",Ye.awaitDrainWriters.size),Ye.awaitDrainWriters.add(Se)),ht.pause()),ue||(ue=Re(ht,Se),Se.on("drain",ue))}ht.on("data",tt);function tt($t){y("ondata");const Rt=Se.write($t);y("dest.write",Rt),Rt===!1&&Ae()}function st($t){if(y("onerror",$t),jt(),Se.removeListener("error",st),Se.listenerCount("error")===0){const Rt=Se._writableState||Se._readableState;Rt&&!Rt.errorEmitted?C(Se,$t):Se.emit("error",$t)}}_(Se,"error",st);function xt(){Se.removeListener("finish",It),jt()}Se.once("close",xt);function It(){y("onfinish"),Se.removeListener("close",xt),jt()}Se.once("finish",It);function jt(){y("unpipe"),ht.unpipe(Se)}return Se.emit("pipe",ht),Se.writableNeedDrain===!0?Ae():Ye.flowing||(y("pipe resume"),ht.resume()),Se};function Re(Se,Ne){return function(){const Ye=Se._readableState;Ye.awaitDrainWriters===Ne?(y("pipeOnDrain",1),Ye.awaitDrainWriters=null):Ye.multiAwaitDrain&&(y("pipeOnDrain",Ye.awaitDrainWriters.size),Ye.awaitDrainWriters.delete(Ne)),(!Ye.awaitDrainWriters||Ye.awaitDrainWriters.size===0)&&Se.listenerCount("data")&&Se.resume()}}De.prototype.unpipe=function(Se){const Ne=(this||ct)._readableState,ht={hasUnpiped:!1};if(Ne.pipes.length===0)return this||ct;if(!Se){const it=Ne.pipes;Ne.pipes=[],this.pause();for(let Pt=0;Pt<it.length;Pt++)it[Pt].emit("unpipe",this||ct,{hasUnpiped:!1});return this||ct}const Ye=t(Ne.pipes,Se);return Ye===-1?this||ct:(Ne.pipes.splice(Ye,1),Ne.pipes.length===0&&this.pause(),Se.emit("unpipe",this||ct,ht),this||ct)},De.prototype.on=function(Se,Ne){const ht=g.prototype.on.call(this||ct,Se,Ne),Ye=(this||ct)._readableState;return Se==="data"?(Ye.readableListening=this.listenerCount("readable")>0,Ye.flowing!==!1&&this.resume()):Se==="readable"&&!Ye.endEmitted&&!Ye.readableListening&&(Ye.readableListening=Ye.needReadable=!0,Ye.flowing=!1,Ye.emittedReadable=!1,y("on readable",Ye.length,Ye.reading),Ye.length?re(this||ct):Ye.reading||e.nextTick(dt,this||ct)),ht},De.prototype.addListener=De.prototype.on,De.prototype.removeListener=function(Se,Ne){const ht=g.prototype.removeListener.call(this||ct,Se,Ne);return Se==="readable"&&e.nextTick(Le,this||ct),ht},De.prototype.off=De.prototype.removeListener,De.prototype.removeAllListeners=function(Se){const Ne=g.prototype.removeAllListeners.apply(this||ct,arguments);return(Se==="readable"||Se===void 0)&&e.nextTick(Le,this||ct),Ne};function Le(Se){const Ne=Se._readableState;Ne.readableListening=Se.listenerCount("readable")>0,Ne.resumeScheduled&&Ne[X]===!1?Ne.flowing=!0:Se.listenerCount("data")>0?Se.resume():Ne.readableListening||(Ne.flowing=null)}function dt(Se){y("readable nexttick read 0"),Se.read(0)}De.prototype.resume=function(){const Se=(this||ct)._readableState;return Se.flowing||(y("resume"),Se.flowing=!Se.readableListening,yt(this||ct,Se)),Se[X]=!1,this||ct};function yt(Se,Ne){Ne.resumeScheduled||(Ne.resumeScheduled=!0,e.nextTick(lt,Se,Ne))}function lt(Se,Ne){y("resume",Ne.reading),Ne.reading||Se.read(0),Ne.resumeScheduled=!1,Se.emit("resume"),Ct(Se),Ne.flowing&&!Ne.reading&&Se.read(0)}De.prototype.pause=function(){return y("call pause flowing=%j",(this||ct)._readableState.flowing),(this||ct)._readableState.flowing!==!1&&(y("pause"),(this||ct)._readableState.flowing=!1,this.emit("pause")),(this||ct)._readableState[X]=!0,this||ct};function Ct(Se){const Ne=Se._readableState;for(y("flow",Ne.flowing);Ne.flowing&&Se.read()!==null;);}De.prototype.wrap=function(Se){let Ne=!1;Se.on("data",Ye=>{!this.push(Ye)&&Se.pause&&(Ne=!0,Se.pause())}),Se.on("end",()=>{this.push(null)}),Se.on("error",Ye=>{C(this||ct,Ye)}),Se.on("close",()=>{this.destroy()}),Se.on("destroy",()=>{this.destroy()}),(this||ct)._read=()=>{Ne&&Se.resume&&(Ne=!1,Se.resume())};const ht=s(Se);for(let Ye=1;Ye<ht.length;Ye++){const it=ht[Ye];(this||ct)[it]===void 0&&typeof Se[it]=="function"&&((this||ct)[it]=Se[it].bind(Se))}return this||ct},De.prototype[c]=function(){return Er(this||ct)},De.prototype.iterator=function(Se){return Se!==void 0&&H(Se,"options"),Er(this||ct,Se)};function Er(Se,Ne){typeof Se.read!="function"&&(Se=De.wrap(Se,{objectMode:!0}));const ht=Pr(Se,Ne);return ht.stream=Se,ht}async function*Pr(Se,Ne){let ht=ne;function Ye(qt){(this||ct)===Se?(ht(),ht=ne):ht=qt}Se.on("readable",Ye);let it;const Pt=E(Se,{writable:!1},qt=>{it=qt?A(it,qt):null,ht(),ht=ne});try{for(;;){const qt=Se.destroyed?null:Se.read();if(qt!==null)yield qt;else{if(it)throw it;if(it===null)return;await new l(Ye)}}}catch(qt){throw it=A(it,qt),it}finally{(it||(Ne==null?void 0:Ne.destroyOnReturn)!==!1)&&(it===void 0||Se._readableState.autoDestroy)?$.destroyer(Se,null):(Se.off("readable",Ye),Pt())}}o(De.prototype,{readable:{__proto__:null,get(){const Se=(this||ct)._readableState;return!!Se&&Se.readable!==!1&&!Se.destroyed&&!Se.errorEmitted&&!Se.endEmitted},set(Se){(this||ct)._readableState&&((this||ct)._readableState.readable=!!Se)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return(this||ct)._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||ct)._readableState.readable!==!1&&((this||ct)._readableState.destroyed||(this||ct)._readableState.errored)&&!(this||ct)._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return(this||ct)._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return(this||ct)._readableState&&(this||ct)._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return(this||ct)._readableState.flowing},set:function(Se){(this||ct)._readableState&&((this||ct)._readableState.flowing=Se)}},readableLength:{__proto__:null,enumerable:!1,get(){return(this||ct)._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return(this||ct)._readableState?(this||ct)._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return(this||ct)._readableState?(this||ct)._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return(this||ct)._readableState?(this||ct)._readableState.errored:null}},closed:{__proto__:null,get(){return(this||ct)._readableState?(this||ct)._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return(this||ct)._readableState?(this||ct)._readableState.destroyed:!1},set(Se){(this||ct)._readableState&&((this||ct)._readableState.destroyed=Se)}},readableEnded:{__proto__:null,enumerable:!1,get(){return(this||ct)._readableState?(this||ct)._readableState.endEmitted:!1}}}),o(Be.prototype,{pipesCount:{__proto__:null,get(){return(this||ct).pipes.length}},paused:{__proto__:null,get(){return(this||ct)[X]!==!1},set(Se){(this||ct)[X]=!!Se}}}),De._fromList=ir;function ir(Se,Ne){if(Ne.length===0)return null;let ht;return Ne.objectMode?ht=Ne.buffer.shift():!Se||Se>=Ne.length?(Ne.decoder?ht=Ne.buffer.join(""):Ne.buffer.length===1?ht=Ne.buffer.first():ht=Ne.buffer.concat(Ne.length),Ne.buffer.clear()):ht=Ne.buffer.consume(Se,Ne.decoder),ht}function mr(Se){const Ne=Se._readableState;y("endReadable",Ne.endEmitted),Ne.endEmitted||(Ne.ended=!0,e.nextTick(cn,Ne,Se))}function cn(Se,Ne){if(y("endReadableNT",Se.endEmitted,Se.length),!Se.errored&&!Se.closeEmitted&&!Se.endEmitted&&Se.length===0){if(Se.endEmitted=!0,Ne.emit("end"),Ne.writable&&Ne.allowHalfOpen===!1)e.nextTick(Vt,Ne);else if(Se.autoDestroy){const ht=Ne._writableState;(!ht||ht.autoDestroy&&(ht.finished||ht.writable===!1))&&Ne.destroy()}}}function Vt(Se){Se.writable&&!Se.writableEnded&&!Se.destroyed&&Se.end()}De.from=function(Se,Ne){return Z(De,Se,Ne)};let zt;function At(){return zt===void 0&&(zt={}),zt}return De.fromWeb=function(Se,Ne){return At().newStreamReadableFromReadableStream(Se,Ne)},De.toWeb=function(Se,Ne){return At().newReadableStreamFromStreamReadable(Se,Ne)},De.wrap=function(Se,Ne){var ht,Ye;return new De({objectMode:(ht=(Ye=Se.readableObjectMode)!==null&&Ye!==void 0?Ye:Se.objectMode)!==null&&ht!==void 0?ht:!0,...Ne,destroy(it,Pt){$.destroyer(Se,it),Pt(it)}}).wrap(Se)},lw}function rN(){if(Fx)return uw;Fx=!0;const e=di,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:a,Symbol:l,SymbolHasInstance:u}=Ln();uw=H,H.WritableState=V;const{EventEmitter:f}=La,c=tN().Stream,{Buffer:p}=No(),m=zh(),{addAbortSignal:g}=tE(),{getHighWaterMark:_,getDefaultHighWaterMark:v}=rE(),{ERR_INVALID_ARG_TYPE:h,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:y,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:d,ERR_STREAM_WRITE_AFTER_END:A,ERR_UNKNOWN_ENCODING:x}=ko().codes,{errorOrDestroy:O}=m;s(H.prototype,c.prototype),s(H,c);function D(){}const F=l("kOnFinished");function V(j,M,G){typeof G!="boolean"&&(G=M instanceof Ll()),(this||Et).objectMode=!!(j&&j.objectMode),G&&((this||Et).objectMode=(this||Et).objectMode||!!(j&&j.writableObjectMode)),(this||Et).highWaterMark=j?_(this||Et,j,"writableHighWaterMark",G):v(!1),(this||Et).finalCalled=!1,(this||Et).needDrain=!1,(this||Et).ending=!1,(this||Et).ended=!1,(this||Et).finished=!1,(this||Et).destroyed=!1;const oe=!!(j&&j.decodeStrings===!1);(this||Et).decodeStrings=!oe,(this||Et).defaultEncoding=j&&j.defaultEncoding||"utf8",(this||Et).length=0,(this||Et).writing=!1,(this||Et).corked=0,(this||Et).sync=!0,(this||Et).bufferProcessing=!1,(this||Et).onwrite=C.bind(void 0,M),(this||Et).writecb=null,(this||Et).writelen=0,(this||Et).afterWriteTickInfo=null,Q(this||Et),(this||Et).pendingcb=0,(this||Et).constructed=!0,(this||Et).prefinished=!1,(this||Et).errorEmitted=!1,(this||Et).emitClose=!j||j.emitClose!==!1,(this||Et).autoDestroy=!j||j.autoDestroy!==!1,(this||Et).errored=null,(this||Et).closed=!1,(this||Et).closeEmitted=!1,(this||Et)[F]=[]}function Q(j){j.buffered=[],j.bufferedIndex=0,j.allBuffers=!0,j.allNoop=!0}V.prototype.getBuffer=function(){return t((this||Et).buffered,(this||Et).bufferedIndex)},i(V.prototype,"bufferedRequestCount",{__proto__:null,get(){return(this||Et).buffered.length-(this||Et).bufferedIndex}});function H(j){const M=(this||Et)instanceof Ll();if(!M&&!n(H,this||Et))return new H(j);(this||Et)._writableState=new V(j,this||Et,M),j&&(typeof j.write=="function"&&((this||Et)._write=j.write),typeof j.writev=="function"&&((this||Et)._writev=j.writev),typeof j.destroy=="function"&&((this||Et)._destroy=j.destroy),typeof j.final=="function"&&((this||Et)._final=j.final),typeof j.construct=="function"&&((this||Et)._construct=j.construct),j.signal&&g(j.signal,this||Et)),c.call(this||Et,j),m.construct(this||Et,()=>{const G=(this||Et)._writableState;G.writing||I(this||Et,G),Y(this||Et,G)})}i(H,u,{__proto__:null,value:function(j){return n(this||Et,j)?!0:(this||Et)!==H?!1:j&&j._writableState instanceof V}}),H.prototype.pipe=function(){O(this||Et,new S)};function X(j,M,G,oe){const ce=j._writableState;if(typeof G=="function")oe=G,G=ce.defaultEncoding;else{if(!G)G=ce.defaultEncoding;else if(G!=="buffer"&&!p.isEncoding(G))throw new x(G);typeof oe!="function"&&(oe=D)}if(M===null)throw new d;if(!ce.objectMode)if(typeof M=="string")ce.decodeStrings!==!1&&(M=p.from(M,G),G="buffer");else if(M instanceof p)G="buffer";else if(c._isUint8Array(M))M=c._uint8ArrayToBuffer(M),G="buffer";else throw new h("chunk",["string","Buffer","Uint8Array"],M);let de;return ce.ending?de=new A:ce.destroyed&&(de=new $("write")),de?(e.nextTick(oe,de),O(j,de,!0),de):(ce.pendingcb++,fe(j,ce,M,G,oe))}H.prototype.write=function(j,M,G){return X(this||Et,j,M,G)===!0},H.prototype.cork=function(){(this||Et)._writableState.corked++},H.prototype.uncork=function(){const j=(this||Et)._writableState;j.corked&&(j.corked--,j.writing||I(this||Et,j))},H.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=a(M)),!p.isEncoding(M))throw new x(M);return(this||Et)._writableState.defaultEncoding=M,this||Et};function fe(j,M,G,oe,ce){const de=M.objectMode?1:G.length;M.length+=de;const ve=M.length<M.highWaterMark;return ve||(M.needDrain=!0),M.writing||M.corked||M.errored||!M.constructed?(M.buffered.push({chunk:G,encoding:oe,callback:ce}),M.allBuffers&&oe!=="buffer"&&(M.allBuffers=!1),M.allNoop&&ce!==D&&(M.allNoop=!1)):(M.writelen=de,M.writecb=ce,M.writing=!0,M.sync=!0,j._write(G,oe,M.onwrite),M.sync=!1),ve&&!M.errored&&!M.destroyed}function Z(j,M,G,oe,ce,de,ve){M.writelen=oe,M.writecb=ve,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new $("write")):G?j._writev(ce,M.onwrite):j._write(ce,de,M.onwrite),M.sync=!1}function ne(j,M,G,oe){--M.pendingcb,oe(G),P(M),O(j,G)}function C(j,M){const G=j._writableState,oe=G.sync,ce=G.writecb;if(typeof ce!="function"){O(j,new y);return}G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0,M?(M.stack,G.errored||(G.errored=M),j._readableState&&!j._readableState.errored&&(j._readableState.errored=M),oe?e.nextTick(ne,j,G,M,ce):ne(j,G,M,ce)):(G.buffered.length>G.bufferedIndex&&I(j,G),oe?G.afterWriteTickInfo!==null&&G.afterWriteTickInfo.cb===ce?G.afterWriteTickInfo.count++:(G.afterWriteTickInfo={count:1,cb:ce,stream:j,state:G},e.nextTick(B,G.afterWriteTickInfo)):K(j,G,1,ce))}function B({stream:j,state:M,count:G,cb:oe}){return M.afterWriteTickInfo=null,K(j,M,G,oe)}function K(j,M,G,oe){for(!M.ending&&!j.destroyed&&M.length===0&&M.needDrain&&(M.needDrain=!1,j.emit("drain"));G-- >0;)M.pendingcb--,oe();M.destroyed&&P(M),Y(j,M)}function P(j){if(j.writing)return;for(let ce=j.bufferedIndex;ce<j.buffered.length;++ce){var M;const{chunk:de,callback:ve}=j.buffered[ce],Ie=j.objectMode?1:de.length;j.length-=Ie,ve((M=j.errored)!==null&&M!==void 0?M:new $("write"))}const G=j[F].splice(0);for(let ce=0;ce<G.length;ce++){var oe;G[ce]((oe=j.errored)!==null&&oe!==void 0?oe:new $("end"))}Q(j)}function I(j,M){if(M.corked||M.bufferProcessing||M.destroyed||!M.constructed)return;const{buffered:G,bufferedIndex:oe,objectMode:ce}=M,de=G.length-oe;if(!de)return;let ve=oe;if(M.bufferProcessing=!0,de>1&&j._writev){M.pendingcb-=de-1;const Ie=M.allNoop?D:De=>{for(let nt=ve;nt<G.length;++nt)G[nt].callback(De)},Be=M.allNoop&&ve===0?G:t(G,ve);Be.allBuffers=M.allBuffers,Z(j,M,!0,M.length,Be,"",Ie),Q(M)}else{do{const{chunk:Ie,encoding:Be,callback:De}=G[ve];G[ve++]=null;const nt=ce?1:Ie.length;Z(j,M,!1,nt,Ie,Be,De)}while(ve<G.length&&!M.writing);ve===G.length?Q(M):ve>256?(G.splice(0,ve),M.bufferedIndex=0):M.bufferedIndex=ve}M.bufferProcessing=!1}H.prototype._write=function(j,M,G){if((this||Et)._writev)this._writev([{chunk:j,encoding:M}],G);else throw new E("_write()")},H.prototype._writev=null,H.prototype.end=function(j,M,G){const oe=(this||Et)._writableState;typeof j=="function"?(G=j,j=null,M=null):typeof M=="function"&&(G=M,M=null);let ce;if(j!=null){const de=X(this||Et,j,M);de instanceof r&&(ce=de)}return oe.corked&&(oe.corked=1,this.uncork()),ce||(!oe.errored&&!oe.ending?(oe.ending=!0,Y(this||Et,oe,!0),oe.ended=!0):oe.finished?ce=new T("end"):oe.destroyed&&(ce=new $("end"))),typeof G=="function"&&(ce||oe.finished?e.nextTick(G,ce):oe[F].push(G)),this||Et};function q(j){return j.ending&&!j.destroyed&&j.constructed&&j.length===0&&!j.errored&&j.buffered.length===0&&!j.finished&&!j.writing&&!j.errorEmitted&&!j.closeEmitted}function ie(j,M){let G=!1;function oe(ce){if(G){O(j,ce??y());return}if(G=!0,M.pendingcb--,ce){const de=M[F].splice(0);for(let ve=0;ve<de.length;ve++)de[ve](ce);O(j,ce,M.sync)}else q(M)&&(M.prefinished=!0,j.emit("prefinish"),M.pendingcb++,e.nextTick(se,j,M))}M.sync=!0,M.pendingcb++;try{j._final(oe)}catch(ce){oe(ce)}M.sync=!1}function J(j,M){!M.prefinished&&!M.finalCalled&&(typeof j._final=="function"&&!M.destroyed?(M.finalCalled=!0,ie(j,M)):(M.prefinished=!0,j.emit("prefinish")))}function Y(j,M,G){q(M)&&(J(j,M),M.pendingcb===0&&(G?(M.pendingcb++,e.nextTick((oe,ce)=>{q(ce)?se(oe,ce):ce.pendingcb--},j,M)):q(M)&&(M.pendingcb++,se(j,M))))}function se(j,M){M.pendingcb--,M.finished=!0;const G=M[F].splice(0);for(let oe=0;oe<G.length;oe++)G[oe]();if(j.emit("finish"),M.autoDestroy){const oe=j._readableState;(!oe||oe.autoDestroy&&(oe.endEmitted||oe.readable===!1))&&j.destroy()}}o(H.prototype,{closed:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.closed:!1}},destroyed:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.destroyed:!1},set(j){(this||Et)._writableState&&((this||Et)._writableState.destroyed=j)}},writable:{__proto__:null,get(){const j=(this||Et)._writableState;return!!j&&j.writable!==!1&&!j.destroyed&&!j.errored&&!j.ending&&!j.ended},set(j){(this||Et)._writableState&&((this||Et)._writableState.writable=!!j)}},writableFinished:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return(this||Et)._writableState&&(this||Et)._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const j=(this||Et)._writableState;return j?!j.destroyed&&!j.ending&&j.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return(this||Et)._writableState&&(this||Et)._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.corked:0}},writableLength:{__proto__:null,get(){return(this||Et)._writableState&&(this||Et)._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return(this||Et)._writableState?(this||Et)._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||Et)._writableState.writable!==!1&&((this||Et)._writableState.destroyed||(this||Et)._writableState.errored)&&!(this||Et)._writableState.finished)}}});const be=m.destroy;H.prototype.destroy=function(j,M){const G=(this||Et)._writableState;return!G.destroyed&&(G.bufferedIndex<G.buffered.length||G[F].length)&&e.nextTick(P,G),be.call(this||Et,j,M),this||Et},H.prototype._undestroy=m.undestroy,H.prototype._destroy=function(j,M){M(j)},H.prototype[f.captureRejectionSymbol]=function(j){this.destroy(j)};let Pe;function R(){return Pe===void 0&&(Pe={}),Pe}return H.fromWeb=function(j,M){return R().newStreamWritableFromWritableStream(j,M)},H.toWeb=function(j){return R().newWritableStreamFromStreamWritable(j)},uw}function hte(){if(Bx)return cw;Bx=!0;const e=di,t=No(),{isReadable:r,isWritable:n,isIterable:i,isNodeStream:o,isReadableNodeStream:s,isWritableNodeStream:a,isDuplexNodeStream:l,isReadableStream:u,isWritableStream:f}=Vl(),c=ac(),{AbortError:p,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:g}}=ko(),{destroyer:_}=zh(),v=Ll(),h=nE(),E=rN(),{createDeferredPromise:y}=io(),S=H6(),$=globalThis.Blob||t.Blob,T=typeof $<"u"?function(V){return V instanceof $}:function(V){return!1},d=globalThis.AbortController||qm().AbortController,{FunctionPrototypeCall:A}=Ln();class x extends v{constructor(V){super(V),(V==null?void 0:V.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(V==null?void 0:V.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}cw=function F(V,Q){if(l(V))return V;if(s(V))return D({readable:V});if(a(V))return D({writable:V});if(o(V))return D({writable:!1,readable:!1});if(u(V))return D({readable:h.fromWeb(V)});if(f(V))return D({writable:E.fromWeb(V)});if(typeof V=="function"){const{value:X,write:fe,final:Z,destroy:ne}=O(V);if(i(X))return S(x,X,{objectMode:!0,write:fe,final:Z,destroy:ne});const C=X==null?void 0:X.then;if(typeof C=="function"){let B;const K=A(C,X,P=>{if(P!=null)throw new g("nully","body",P)},P=>{_(B,P)});return B=new x({objectMode:!0,readable:!1,write:fe,final(P){Z(async()=>{try{await K,e.nextTick(P,null)}catch(I){e.nextTick(P,I)}})},destroy:ne})}throw new g("Iterable, AsyncIterable or AsyncFunction",Q,X)}if(T(V))return F(V.arrayBuffer());if(i(V))return S(x,V,{objectMode:!0,writable:!1});if(u(V==null?void 0:V.readable)&&f(V==null?void 0:V.writable))return x.fromWeb(V);if(typeof(V==null?void 0:V.writable)=="object"||typeof(V==null?void 0:V.readable)=="object"){const X=V!=null&&V.readable?s(V==null?void 0:V.readable)?V==null?void 0:V.readable:F(V.readable):void 0,fe=V!=null&&V.writable?a(V==null?void 0:V.writable)?V==null?void 0:V.writable:F(V.writable):void 0;return D({readable:X,writable:fe})}const H=V==null?void 0:V.then;if(typeof H=="function"){let X;return A(H,V,fe=>{fe!=null&&X.push(fe),X.push(null)},fe=>{_(X,fe)}),X=new x({objectMode:!0,writable:!1,read(){}})}throw new m(Q,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],V)};function O(F){let{promise:V,resolve:Q}=y();const H=new d,X=H.signal;return{value:F(async function*(){for(;;){const Z=V;V=null;const{chunk:ne,done:C,cb:B}=await Z;if(e.nextTick(B),C)return;if(X.aborted)throw new p(void 0,{cause:X.reason});({promise:V,resolve:Q}=y()),yield ne}}(),{signal:X}),write(Z,ne,C){const B=Q;Q=null,B({chunk:Z,done:!1,cb:C})},final(Z){const ne=Q;Q=null,ne({done:!0,cb:Z})},destroy(Z,ne){H.abort(),ne(Z)}}}function D(F){const V=F.readable&&typeof F.readable.read!="function"?h.wrap(F.readable):F.readable,Q=F.writable;let H=!!r(V),X=!!n(Q),fe,Z,ne,C,B;function K(P){const I=C;C=null,I?I(P):P&&B.destroy(P)}return B=new x({readableObjectMode:!!(V!=null&&V.readableObjectMode),writableObjectMode:!!(Q!=null&&Q.writableObjectMode),readable:H,writable:X}),X&&(c(Q,P=>{X=!1,P&&_(V,P),K(P)}),B._write=function(P,I,q){Q.write(P,I)?q():fe=q},B._final=function(P){Q.end(),Z=P},Q.on("drain",function(){if(fe){const P=fe;fe=null,P()}}),Q.on("finish",function(){if(Z){const P=Z;Z=null,P()}})),H&&(c(V,P=>{H=!1,P&&_(V,P),K(P)}),V.on("readable",function(){if(ne){const P=ne;ne=null,P()}}),V.on("end",function(){B.push(null)}),B._read=function(){for(;;){const P=V.read();if(P===null){ne=B._read;return}if(!B.push(P))return}}),B._destroy=function(P,I){!P&&C!==null&&(P=new p),ne=null,fe=null,Z=null,C===null?I(P):(C=I,_(Q,P),_(V,P))},B}return cw}function Ll(){if(Ux)return fw;Ux=!0;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Ln();fw=s;const i=nE(),o=rN();n(s.prototype,i.prototype),n(s,i);{const f=r(o.prototype);for(let c=0;c<f.length;c++){const p=f[c];s.prototype[p]||(s.prototype[p]=o.prototype[p])}}function s(f){if(!(this instanceof s))return new s(f);i.call(this,f),o.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(s.prototype,{writable:{__proto__:null,...t(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(o.prototype,"writableLength")},writableFinished:{__proto__:null,...t(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});let a;function l(){return a===void 0&&(a={}),a}s.fromWeb=function(f,c){return l().newStreamDuplexFromReadableWritablePair(f,c)},s.toWeb=function(f){return l().newReadableWritablePairFromDuplex(f)};let u;return s.from=function(f){return u||(u=hte()),u(f,"body")},fw}function W6(){if(zx)return dw;zx=!0;const{ObjectSetPrototypeOf:e,Symbol:t}=Ln();dw=s;const{ERR_METHOD_NOT_IMPLEMENTED:r}=ko().codes,n=Ll(),{getHighWaterMark:i}=rE();e(s.prototype,n.prototype),e(s,n);const o=t("kCallback");function s(u){if(!(this instanceof s))return new s(u);const f=u?i(this,u,"readableHighWaterMark",!0):null;f===0&&(u={...u,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:u.writableHighWaterMark||0}),n.call(this,u),this._readableState.sync=!1,this[o]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function a(u){typeof this._flush=="function"&&!this.destroyed?this._flush((f,c)=>{if(f){u?u(f):this.destroy(f);return}c!=null&&this.push(c),this.push(null),u&&u()}):(this.push(null),u&&u())}function l(){this._final!==a&&a.call(this)}return s.prototype._final=a,s.prototype._transform=function(u,f,c){throw new r("_transform()")},s.prototype._write=function(u,f,c){const p=this._readableState,m=this._writableState,g=p.length;this._transform(u,f,(_,v)=>{if(_){c(_);return}v!=null&&this.push(v),m.ended||g===p.length||p.length<p.highWaterMark?c():this[o]=c})},s.prototype._read=function(){if(this[o]){const u=this[o];this[o]=null,u()}},dw}function G6(){if(qx)return hw;qx=!0;const{ObjectSetPrototypeOf:e}=Ln();hw=r;const t=W6();e(r.prototype,t.prototype),e(r,t);function r(n){if(!(this instanceof r))return new r(n);t.call(this,n)}return r.prototype._transform=function(n,i,o){o(null,n)},hw}function nN(){if(Vx)return pw;Vx=!0;const e=di,{ArrayIsArray:t,Promise:r,SymbolAsyncIterator:n,SymbolDispose:i}=Ln(),o=ac(),{once:s}=io(),a=zh(),l=Ll(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:c,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:g},AbortError:_}=ko(),{validateFunction:v,validateAbortSignal:h}=Tg(),{isIterable:E,isReadable:y,isReadableNodeStream:S,isNodeStream:$,isTransformStream:T,isWebStream:d,isReadableStream:A,isReadableFinished:x}=Vl(),O=globalThis.AbortController||qm().AbortController;let D,F,V;function Q(P,I,q){let ie=!1;P.on("close",()=>{ie=!0});const J=o(P,{readable:I,writable:q},Y=>{ie=!Y});return{destroy:Y=>{ie||(ie=!0,a.destroyer(P,Y||new m("pipe")))},cleanup:J}}function H(P){return v(P[P.length-1],"streams[stream.length - 1]"),P.pop()}function X(P){if(E(P))return P;if(S(P))return fe(P);throw new f("val",["Readable","Iterable","AsyncIterable"],P)}async function*fe(P){F||(F=nE()),yield*F.prototype[n].call(P)}async function Z(P,I,q,{end:ie}){let J,Y=null;const se=R=>{if(R&&(J=R),Y){const j=Y;Y=null,j()}},be=()=>new r((R,j)=>{J?j(J):Y=()=>{J?j(J):R()}});I.on("drain",se);const Pe=o(I,{readable:!1},se);try{I.writableNeedDrain&&await be();for await(const R of P)I.write(R)||await be();ie&&(I.end(),await be()),q()}catch(R){q(J!==R?u(J,R):R)}finally{Pe(),I.off("drain",se)}}async function ne(P,I,q,{end:ie}){T(I)&&(I=I.writable);const J=I.getWriter();try{for await(const Y of P)await J.ready,J.write(Y).catch(()=>{});await J.ready,ie&&await J.close(),q()}catch(Y){try{await J.abort(Y),q(Y)}catch(se){q(se)}}}function C(...P){return B(P,s(H(P)))}function B(P,I,q){if(P.length===1&&t(P[0])&&(P=P[0]),P.length<2)throw new p("streams");const ie=new O,J=ie.signal,Y=q==null?void 0:q.signal,se=[];h(Y,"options.signal");function be(){ce(new _)}V=V||io().addAbortListener;let Pe;Y&&(Pe=V(Y,be));let R,j;const M=[];let G=0;function oe(Be){ce(Be,--G===0)}function ce(Be,De){var nt;if(Be&&(!R||R.code==="ERR_STREAM_PREMATURE_CLOSE")&&(R=Be),!(!R&&!De)){for(;M.length;)M.shift()(R);(nt=Pe)===null||nt===void 0||nt[i](),ie.abort(),De&&(R||se.forEach(We=>We()),e.nextTick(I,R,j))}}let de;for(let Be=0;Be<P.length;Be++){const De=P[Be],nt=Be<P.length-1,We=Be>0,Ue=nt||(q==null?void 0:q.end)!==!1,W=Be===P.length-1;if($(De)){let N=function(L){L&&L.name!=="AbortError"&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"&&oe(L)};if(Ue){const{destroy:L,cleanup:re}=Q(De,nt,We);M.push(L),y(De)&&W&&se.push(re)}De.on("error",N),y(De)&&W&&se.push(()=>{De.removeListener("error",N)})}if(Be===0)if(typeof De=="function"){if(de=De({signal:J}),!E(de))throw new c("Iterable, AsyncIterable or Stream","source",de)}else E(De)||S(De)||T(De)?de=De:de=l.from(De);else if(typeof De=="function"){if(T(de)){var ve;de=X((ve=de)===null||ve===void 0?void 0:ve.readable)}else de=X(de);if(de=De(de,{signal:J}),nt){if(!E(de,!0))throw new c("AsyncIterable",`transform[${Be-1}]`,de)}else{var Ie;D||(D=G6());const N=new D({objectMode:!0}),L=(Ie=de)===null||Ie===void 0?void 0:Ie.then;if(typeof L=="function")G++,L.call(de,Ee=>{j=Ee,Ee!=null&&N.write(Ee),Ue&&N.end(),e.nextTick(oe)},Ee=>{N.destroy(Ee),e.nextTick(oe,Ee)});else if(E(de,!0))G++,Z(de,N,oe,{end:Ue});else if(A(de)||T(de)){const Ee=de.readable||de;G++,Z(Ee,N,oe,{end:Ue})}else throw new c("AsyncIterable or Promise","destination",de);de=N;const{destroy:re,cleanup:ye}=Q(de,!1,!0);M.push(re),W&&se.push(ye)}}else if($(De)){if(S(de)){G+=2;const N=K(de,De,oe,{end:Ue});y(De)&&W&&se.push(N)}else if(T(de)||A(de)){const N=de.readable||de;G++,Z(N,De,oe,{end:Ue})}else if(E(de))G++,Z(de,De,oe,{end:Ue});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],de);de=De}else if(d(De)){if(S(de))G++,ne(X(de),De,oe,{end:Ue});else if(A(de)||E(de))G++,ne(de,De,oe,{end:Ue});else if(T(de))G++,ne(de.readable,De,oe,{end:Ue});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],de);de=De}else de=l.from(De)}return(J!=null&&J.aborted||Y!=null&&Y.aborted)&&e.nextTick(be),de}function K(P,I,q,{end:ie}){let J=!1;if(I.on("close",()=>{J||q(new g)}),P.pipe(I,{end:!1}),ie){let Y=function(){J=!0,I.end()};x(P)?e.nextTick(Y):P.once("end",Y)}else q();return o(P,{readable:!0,writable:!1},Y=>{const se=P._readableState;Y&&Y.code==="ERR_STREAM_PREMATURE_CLOSE"&&se&&se.ended&&!se.errored&&!se.errorEmitted?P.once("end",q).once("error",q):q(Y)}),o(I,{readable:!1,writable:!0},q)}return pw={pipelineImpl:B,pipeline:C},pw}function K6(){if(Hx)return mw;Hx=!0;const{pipeline:e}=nN(),t=Ll(),{destroyer:r}=zh(),{isNodeStream:n,isReadable:i,isWritable:o,isWebStream:s,isTransformStream:a,isWritableStream:l,isReadableStream:u}=Vl(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:c,ERR_MISSING_ARGS:p}}=ko(),m=ac();return mw=function(..._){if(_.length===0)throw new p("streams");if(_.length===1)return t.from(_[0]);const v=[..._];if(typeof _[0]=="function"&&(_[0]=t.from(_[0])),typeof _[_.length-1]=="function"){const D=_.length-1;_[D]=t.from(_[D])}for(let D=0;D<_.length;++D)if(!(!n(_[D])&&!s(_[D]))){if(D<_.length-1&&!(i(_[D])||u(_[D])||a(_[D])))throw new c(`streams[${D}]`,v[D],"must be readable");if(D>0&&!(o(_[D])||l(_[D])||a(_[D])))throw new c(`streams[${D}]`,v[D],"must be writable")}let h,E,y,S,$;function T(D){const F=S;S=null,F?F(D):D?$.destroy(D):!O&&!x&&$.destroy()}const d=_[0],A=e(_,T),x=!!(o(d)||l(d)||a(d)),O=!!(i(A)||u(A)||a(A));if($=new t({writableObjectMode:!!(d!=null&&d.writableObjectMode),readableObjectMode:!!(A!=null&&A.readableObjectMode),writable:x,readable:O}),x){if(n(d))$._write=function(F,V,Q){d.write(F,V)?Q():h=Q},$._final=function(F){d.end(),E=F},d.on("drain",function(){if(h){const F=h;h=null,F()}});else if(s(d)){const V=(a(d)?d.writable:d).getWriter();$._write=async function(Q,H,X){try{await V.ready,V.write(Q).catch(()=>{}),X()}catch(fe){X(fe)}},$._final=async function(Q){try{await V.ready,V.close().catch(()=>{}),E=Q}catch(H){Q(H)}}}const D=a(A)?A.readable:A;m(D,()=>{if(E){const F=E;E=null,F()}})}if(O){if(n(A))A.on("readable",function(){if(y){const D=y;y=null,D()}}),A.on("end",function(){$.push(null)}),$._read=function(){for(;;){const D=A.read();if(D===null){y=$._read;return}if(!$.push(D))return}};else if(s(A)){const F=(a(A)?A.readable:A).getReader();$._read=async function(){for(;;)try{const{value:V,done:Q}=await F.read();if(!$.push(V))return;if(Q){$.push(null);return}}catch{return}}}}return $._destroy=function(D,F){!D&&S!==null&&(D=new f),y=null,h=null,E=null,S===null?F(D):(S=F,n(A)&&r(A,D))},$},mw}function pte(){if(Wx)return zp;Wx=!0;const e=globalThis.AbortController||qm().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:o}=ko(),{validateAbortSignal:s,validateInteger:a,validateObject:l}=Tg(),u=Ln().Symbol("kWeak"),f=Ln().Symbol("kResistStopPropagation"),{finished:c}=ac(),p=K6(),{addAbortSignalNoValidate:m}=tE(),{isWritable:g,isNodeStream:_}=Vl(),{deprecate:v}=io(),{ArrayPrototypePush:h,Boolean:E,MathFloor:y,Number:S,NumberIsNaN:$,Promise:T,PromiseReject:d,PromiseResolve:A,PromisePrototypeThen:x,Symbol:O}=Ln(),D=O("kEmpty"),F=O("kEof");function V(Y,se){if(se!=null&&l(se,"options"),(se==null?void 0:se.signal)!=null&&s(se.signal,"options.signal"),_(Y)&&!g(Y))throw new t("stream",Y,"must be writable");const be=p(this,Y);return se!=null&&se.signal&&m(se.signal,be),be}function Q(Y,se){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);se!=null&&l(se,"options"),(se==null?void 0:se.signal)!=null&&s(se.signal,"options.signal");let be=1;(se==null?void 0:se.concurrency)!=null&&(be=y(se.concurrency));let Pe=be-1;return(se==null?void 0:se.highWaterMark)!=null&&(Pe=y(se.highWaterMark)),a(be,"options.concurrency",1),a(Pe,"options.highWaterMark",0),Pe+=be,(async function*(){const j=io().AbortSignalAny([se==null?void 0:se.signal].filter(E)),M=this,G=[],oe={signal:j};let ce,de,ve=!1,Ie=0;function Be(){ve=!0,De()}function De(){Ie-=1,nt()}function nt(){de&&!ve&&Ie<be&&G.length<Pe&&(de(),de=null)}async function We(){try{for await(let Ue of M){if(ve)return;if(j.aborted)throw new o;try{if(Ue=Y(Ue,oe),Ue===D)continue;Ue=A(Ue)}catch(W){Ue=d(W)}Ie+=1,x(Ue,De,Be),G.push(Ue),ce&&(ce(),ce=null),!ve&&(G.length>=Pe||Ie>=be)&&await new T(W=>{de=W})}G.push(F)}catch(Ue){const W=d(Ue);x(W,De,Be),G.push(W)}finally{ve=!0,ce&&(ce(),ce=null)}}We();try{for(;;){for(;G.length>0;){const Ue=await G[0];if(Ue===F)return;if(j.aborted)throw new o;Ue!==D&&(yield Ue),G.shift(),nt()}await new T(Ue=>{ce=Ue})}}finally{ve=!0,de&&(de(),de=null)}}).call(this)}function H(Y=void 0){return Y!=null&&l(Y,"options"),(Y==null?void 0:Y.signal)!=null&&s(Y.signal,"options.signal"),(async function*(){let be=0;for await(const R of this){var Pe;if(Y!=null&&(Pe=Y.signal)!==null&&Pe!==void 0&&Pe.aborted)throw new o({cause:Y.signal.reason});yield[be++,R]}}).call(this)}async function X(Y,se=void 0){for await(const be of C.call(this,Y,se))return!0;return!1}async function fe(Y,se=void 0){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);return!await X.call(this,async(...be)=>!await Y(...be),se)}async function Z(Y,se){for await(const be of C.call(this,Y,se))return be}async function ne(Y,se){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);async function be(Pe,R){return await Y(Pe,R),D}for await(const Pe of Q.call(this,be,se));}function C(Y,se){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);async function be(Pe,R){return await Y(Pe,R)?Pe:D}return Q.call(this,be,se)}class B extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function K(Y,se,be){var Pe;if(typeof Y!="function")throw new r("reducer",["Function","AsyncFunction"],Y);be!=null&&l(be,"options"),(be==null?void 0:be.signal)!=null&&s(be.signal,"options.signal");let R=arguments.length>1;if(be!=null&&(Pe=be.signal)!==null&&Pe!==void 0&&Pe.aborted){const ce=new o(void 0,{cause:be.signal.reason});throw this.once("error",()=>{}),await c(this.destroy(ce)),ce}const j=new e,M=j.signal;if(be!=null&&be.signal){const ce={once:!0,[u]:this,[f]:!0};be.signal.addEventListener("abort",()=>j.abort(),ce)}let G=!1;try{for await(const ce of this){var oe;if(G=!0,be!=null&&(oe=be.signal)!==null&&oe!==void 0&&oe.aborted)throw new o;R?se=await Y(se,ce,{signal:M}):(se=ce,R=!0)}if(!G&&!R)throw new B}finally{j.abort()}return se}async function P(Y){Y!=null&&l(Y,"options"),(Y==null?void 0:Y.signal)!=null&&s(Y.signal,"options.signal");const se=[];for await(const Pe of this){var be;if(Y!=null&&(be=Y.signal)!==null&&be!==void 0&&be.aborted)throw new o(void 0,{cause:Y.signal.reason});h(se,Pe)}return se}function I(Y,se){const be=Q.call(this,Y,se);return(async function*(){for await(const R of be)yield*R}).call(this)}function q(Y){if(Y=S(Y),$(Y))return 0;if(Y<0)throw new i("number",">= 0",Y);return Y}function ie(Y,se=void 0){return se!=null&&l(se,"options"),(se==null?void 0:se.signal)!=null&&s(se.signal,"options.signal"),Y=q(Y),(async function*(){var Pe;if(se!=null&&(Pe=se.signal)!==null&&Pe!==void 0&&Pe.aborted)throw new o;for await(const j of this){var R;if(se!=null&&(R=se.signal)!==null&&R!==void 0&&R.aborted)throw new o;Y--<=0&&(yield j)}}).call(this)}function J(Y,se=void 0){return se!=null&&l(se,"options"),(se==null?void 0:se.signal)!=null&&s(se.signal,"options.signal"),Y=q(Y),(async function*(){var Pe;if(se!=null&&(Pe=se.signal)!==null&&Pe!==void 0&&Pe.aborted)throw new o;for await(const j of this){var R;if(se!=null&&(R=se.signal)!==null&&R!==void 0&&R.aborted)throw new o;if(Y-- >0&&(yield j),Y<=0)return}}).call(this)}return zp.streamReturningOperators={asIndexedPairs:v(H,"readable.asIndexedPairs will be removed in a future version."),drop:ie,filter:C,flatMap:I,map:Q,take:J,compose:V},zp.promiseReturningOperators={every:fe,forEach:ne,reduce:K,toArray:P,some:X,find:Z},zp}function J6(){if(Gx)return gw;Gx=!0;const{ArrayPrototypePop:e,Promise:t}=Ln(),{isIterable:r,isNodeStream:n,isWebStream:i}=Vl(),{pipelineImpl:o}=nN(),{finished:s}=ac();Y6();function a(...l){return new t((u,f)=>{let c,p;const m=l[l.length-1];if(m&&typeof m=="object"&&!n(m)&&!r(m)&&!i(m)){const g=e(l);c=g.signal,p=g.end}o(l,(g,_)=>{g?f(g):u(_)},{signal:c,end:p})})}return gw={finished:s,pipeline:a},gw}function Y6(){if(Kx)return vw;Kx=!0;const{Buffer:e}=No(),{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Ln(),{promisify:{custom:i}}=io(),{streamReturningOperators:o,promiseReturningOperators:s}=pte(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=ko(),l=K6(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:f}=rE(),{pipeline:c}=nN(),{destroyer:p}=zh(),m=ac(),g=J6(),_=Vl(),v=vw=tN().Stream;v.isDestroyed=_.isDestroyed,v.isDisturbed=_.isDisturbed,v.isErrored=_.isErrored,v.isReadable=_.isReadable,v.isWritable=_.isWritable,v.Readable=nE();for(const E of r(o)){let y=function(...$){if(new.target)throw a();return v.Readable.from(n(S,this||Jx,$))};const S=o[E];t(y,"name",{__proto__:null,value:S.name}),t(y,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,E,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}for(const E of r(s)){let y=function(...$){if(new.target)throw a();return n(S,this||Jx,$)};const S=s[E];t(y,"name",{__proto__:null,value:S.name}),t(y,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,E,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}v.Writable=rN(),v.Duplex=Ll(),v.Transform=W6(),v.PassThrough=G6(),v.pipeline=c;const{addAbortSignal:h}=tE();return v.addAbortSignal=h,v.finished=m,v.destroy=p,v.compose=l,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=f,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return g}}),t(c,i,{__proto__:null,enumerable:!0,get(){return g.pipeline}}),t(m,i,{__proto__:null,enumerable:!0,get(){return g.finished}}),v.Stream=v,v._isUint8Array=function(y){return y instanceof Uint8Array},v._uint8ArrayToBuffer=function(y){return e.from(y.buffer,y.byteOffset,y.byteLength)},vw}function mte(){if(Yx)return Pn;Yx=!0;const e=Y6(),t=J6(),r=e.Readable.destroy;return Pn=e.Readable,Pn._uint8ArrayToBuffer=e._uint8ArrayToBuffer,Pn._isUint8Array=e._isUint8Array,Pn.isDisturbed=e.isDisturbed,Pn.isErrored=e.isErrored,Pn.isReadable=e.isReadable,Pn.Readable=e.Readable,Pn.Writable=e.Writable,Pn.Duplex=e.Duplex,Pn.Transform=e.Transform,Pn.PassThrough=e.PassThrough,Pn.addAbortSignal=e.addAbortSignal,Pn.finished=e.finished,Pn.destroy=e.destroy,Pn.destroy=r,Pn.pipeline=e.pipeline,Pn.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Pn.Stream=e.Stream,Pn.default=Pn,Pn}var Z0,Tx,Od,Ax,Bp,xx,ew,Ox,tw,Px,rw,Rx,Up,Nx,nw,Ix,iw,kx,Pd,Cx,ow,jx,sw,Dx,aw,Mx,lw,Lx,ct,uw,Fx,Et,cw,Bx,fw,Ux,dw,zx,hw,qx,pw,Vx,mw,Hx,zp,Wx,gw,Gx,vw,Kx,Jx,Pn,Yx,tn,yw,X6,Q6,Z6,eq,tq,rq,nq,iq,js=nn({"../../node_modules/@jspm/core/nodelibs/browser/stream.js"(){Te(),q_(),d6(),Eg(),FU(),eE(),ZR(),FR(),Z0={},Tx=!1,Od={},Ax=!1,Bp={},xx=!1,ew={},Ox=!1,tw={},Px=!1,rw={},Rx=!1,Up={},Nx=!1,nw={},Ix=!1,iw={},kx=!1,Pd={},Cx=!1,ow={},jx=!1,sw={},Dx=!1,aw={},Mx=!1,lw={},Lx=!1,ct=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,uw={},Fx=!1,Et=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,cw={},Bx=!1,fw={},Ux=!1,dw={},zx=!1,hw={},qx=!1,pw={},Vx=!1,mw={},Hx=!1,zp={},Wx=!1,gw={},Gx=!1,vw={},Kx=!1,Jx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Pn={},Yx=!1,tn=mte(),tn._uint8ArrayToBuffer,tn._isUint8Array,tn.isDisturbed,tn.isErrored,tn.isReadable,tn.Readable,tn.Writable,tn.Duplex,tn.Transform,tn.PassThrough,tn.addAbortSignal,tn.finished,tn.destroy,tn.pipeline,tn.compose,tn.Stream,yw=tn.Readable,yw.wrap=function(e,t){return t=Object.assign({objectMode:e.readableObjectMode!=null||e.objectMode!=null||!0},t),t.destroy=function(r,n){e.destroy(r),n(r)},new yw(t).wrap(e)},X6=tn.Writable,Q6=tn.Duplex,Z6=tn.Transform,eq=tn.PassThrough,tq=tn.finished,rq=tn.pipeline,nq=tn.Stream,iq={finished:Bb(tn.finished),pipeline:Bb(tn.pipeline)}}}),iN=Oe({"../../node_modules/web-streams-polyfill/dist/ponyfill.js"(e,t){Te(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n((r=typeof globalThis<"u"?globalThis:r||self).WebStreamsPolyfill={})}(e,function(r){function n(){}function i(z){return typeof z=="object"&&z!==null||typeof z=="function"}const o=n;function s(z,ee){try{Object.defineProperty(z,"name",{value:ee,configurable:!0})}catch{}}const a=Promise,l=Promise.resolve.bind(a),u=Promise.prototype.then,f=Promise.reject.bind(a),c=l;function p(z){return new a(z)}function m(z){return p(ee=>ee(z))}function g(z){return f(z)}function _(z,ee,me){return u.call(z,ee,me)}function v(z,ee,me){_(_(z,ee,me),void 0,o)}function h(z,ee){v(z,ee)}function E(z,ee){v(z,void 0,ee)}function y(z,ee,me){return _(z,ee,me)}function S(z){_(z,void 0,o)}let $=z=>{if(typeof queueMicrotask=="function")$=queueMicrotask;else{const ee=m(void 0);$=me=>_(ee,me)}return $(z)};function T(z,ee,me){if(typeof z!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(z,ee,me)}function d(z,ee,me){try{return m(T(z,ee,me))}catch($e){return g($e)}}class A{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(ee){const me=this._back;let $e=me;me._elements.length===16383&&($e={_elements:[],_next:void 0}),me._elements.push(ee),$e!==me&&(this._back=$e,me._next=$e),++this._size}shift(){const ee=this._front;let me=ee;const $e=this._cursor;let Ve=$e+1;const qe=ee._elements,Je=qe[$e];return Ve===16384&&(me=ee._next,Ve=0),--this._size,this._cursor=Ve,ee!==me&&(this._front=me),qe[$e]=void 0,Je}forEach(ee){let me=this._cursor,$e=this._front,Ve=$e._elements;for(;!(me===Ve.length&&$e._next===void 0||me===Ve.length&&($e=$e._next,Ve=$e._elements,me=0,Ve.length===0));)ee(Ve[me]),++me}peek(){const ee=this._front,me=this._cursor;return ee._elements[me]}}const x=Symbol("[[AbortSteps]]"),O=Symbol("[[ErrorSteps]]"),D=Symbol("[[CancelSteps]]"),F=Symbol("[[PullSteps]]"),V=Symbol("[[ReleaseSteps]]");function Q(z,ee){z._ownerReadableStream=ee,ee._reader=z,ee._state==="readable"?Z(z):ee._state==="closed"?function(me){Z(me),B(me)}(z):ne(z,ee._storedError)}function H(z,ee){return $n(z._ownerReadableStream,ee)}function X(z){const ee=z._ownerReadableStream;ee._state==="readable"?C(z,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(me,$e){ne(me,$e)}(z,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),ee._readableStreamController[V](),ee._reader=void 0,z._ownerReadableStream=void 0}function fe(z){return new TypeError("Cannot "+z+" a stream using a released reader")}function Z(z){z._closedPromise=p((ee,me)=>{z._closedPromise_resolve=ee,z._closedPromise_reject=me})}function ne(z,ee){Z(z),C(z,ee)}function C(z,ee){z._closedPromise_reject!==void 0&&(S(z._closedPromise),z._closedPromise_reject(ee),z._closedPromise_resolve=void 0,z._closedPromise_reject=void 0)}function B(z){z._closedPromise_resolve!==void 0&&(z._closedPromise_resolve(void 0),z._closedPromise_resolve=void 0,z._closedPromise_reject=void 0)}const K=Number.isFinite||function(z){return typeof z=="number"&&isFinite(z)},P=Math.trunc||function(z){return z<0?Math.ceil(z):Math.floor(z)};function I(z,ee){if(z!==void 0&&typeof(me=z)!="object"&&typeof me!="function")throw new TypeError(`${ee} is not an object.`);var me}function q(z,ee){if(typeof z!="function")throw new TypeError(`${ee} is not a function.`)}function ie(z,ee){if(!function(me){return typeof me=="object"&&me!==null||typeof me=="function"}(z))throw new TypeError(`${ee} is not an object.`)}function J(z,ee,me){if(z===void 0)throw new TypeError(`Parameter ${ee} is required in '${me}'.`)}function Y(z,ee,me){if(z===void 0)throw new TypeError(`${ee} is required in '${me}'.`)}function se(z){return Number(z)}function be(z){return z===0?0:z}function Pe(z,ee){const me=Number.MAX_SAFE_INTEGER;let $e=Number(z);if($e=be($e),!K($e))throw new TypeError(`${ee} is not a finite number`);if($e=function(Ve){return be(P(Ve))}($e),$e<0||$e>me)throw new TypeError(`${ee} is outside the accepted range of 0 to ${me}, inclusive`);return K($e)&&$e!==0?$e:0}function R(z,ee){if(!mi(z))throw new TypeError(`${ee} is not a ReadableStream.`)}function j(z){return new de(z)}function M(z,ee){z._reader._readRequests.push(ee)}function G(z,ee,me){const $e=z._reader._readRequests.shift();me?$e._closeSteps():$e._chunkSteps(ee)}function oe(z){return z._reader._readRequests.length}function ce(z){const ee=z._reader;return ee!==void 0&&!!ve(ee)}class de{constructor(ee){if(J(ee,1,"ReadableStreamDefaultReader"),R(ee,"First parameter"),gi(ee))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Q(this,ee),this._readRequests=new A}get closed(){return ve(this)?this._closedPromise:g(De("closed"))}cancel(ee=void 0){return ve(this)?this._ownerReadableStream===void 0?g(fe("cancel")):H(this,ee):g(De("cancel"))}read(){if(!ve(this))return g(De("read"));if(this._ownerReadableStream===void 0)return g(fe("read from"));let ee,me;const $e=p((Ve,qe)=>{ee=Ve,me=qe});return Ie(this,{_chunkSteps:Ve=>ee({value:Ve,done:!1}),_closeSteps:()=>ee({value:void 0,done:!0}),_errorSteps:Ve=>me(Ve)}),$e}releaseLock(){if(!ve(this))throw De("releaseLock");this._ownerReadableStream!==void 0&&function(ee){X(ee);const me=new TypeError("Reader was released");Be(ee,me)}(this)}}function ve(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_readRequests")&&z instanceof de}function Ie(z,ee){const me=z._ownerReadableStream;me._disturbed=!0,me._state==="closed"?ee._closeSteps():me._state==="errored"?ee._errorSteps(me._storedError):me._readableStreamController[F](ee)}function Be(z,ee){const me=z._readRequests;z._readRequests=new A,me.forEach($e=>{$e._errorSteps(ee)})}function De(z){return new TypeError(`ReadableStreamDefaultReader.prototype.${z} can only be used on a ReadableStreamDefaultReader`)}var nt,We,Ue;function W(z){return z.slice()}function N(z,ee,me,$e,Ve){new Uint8Array(z).set(new Uint8Array(me,$e,Ve),ee)}Object.defineProperties(de.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),s(de.prototype.cancel,"cancel"),s(de.prototype.read,"read"),s(de.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(de.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let L=z=>(L=typeof z.transfer=="function"?ee=>ee.transfer():typeof structuredClone=="function"?ee=>structuredClone(ee,{transfer:[ee]}):ee=>ee,L(z)),re=z=>(re=typeof z.detached=="boolean"?ee=>ee.detached:ee=>ee.byteLength===0,re(z));function ye(z,ee,me){if(z.slice)return z.slice(ee,me);const $e=me-ee,Ve=new ArrayBuffer($e);return N(Ve,0,z,ee,$e),Ve}function Ee(z,ee){const me=z[ee];if(me!=null){if(typeof me!="function")throw new TypeError(`${String(ee)} is not a function`);return me}}function je(z){try{const ee=z.done,me=z.value;return _(c(me),$e=>({done:ee,value:$e}))}catch(ee){return g(ee)}}const Re=(Ue=(nt=Symbol.asyncIterator)!==null&&nt!==void 0?nt:(We=Symbol.for)===null||We===void 0?void 0:We.call(Symbol,"Symbol.asyncIterator"))!==null&&Ue!==void 0?Ue:"@@asyncIterator";function Le(z,ee="sync",me){if(me===void 0)if(ee==="async"){if((me=Ee(z,Re))===void 0)return function(Ve){const qe={next(){let Je;try{Je=dt(Ve)}catch(Ge){return g(Ge)}return je(Je)},return(Je){let Ge;try{const Xe=Ee(Ve.iterator,"return");if(Xe===void 0)return m({done:!0,value:Je});Ge=T(Xe,Ve.iterator,[Je])}catch(Xe){return g(Xe)}return i(Ge)?je(Ge):g(new TypeError("The iterator.return() method must return an object"))}};return{iterator:qe,nextMethod:qe.next,done:!1}}(Le(z,"sync",Ee(z,Symbol.iterator)))}else me=Ee(z,Symbol.iterator);if(me===void 0)throw new TypeError("The object is not iterable");const $e=T(me,z,[]);if(!i($e))throw new TypeError("The iterator method must return an object");return{iterator:$e,nextMethod:$e.next,done:!1}}function dt(z){const ee=T(z.nextMethod,z.iterator,[]);if(!i(ee))throw new TypeError("The iterator.next() method must return an object");return ee}class yt{constructor(ee,me){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=ee,this._preventCancel=me}next(){const ee=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?y(this._ongoingPromise,ee,ee):ee(),this._ongoingPromise}return(ee){const me=()=>this._returnSteps(ee);return this._ongoingPromise=this._ongoingPromise?y(this._ongoingPromise,me,me):me(),this._ongoingPromise}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const ee=this._reader;let me,$e;const Ve=p((qe,Je)=>{me=qe,$e=Je});return Ie(ee,{_chunkSteps:qe=>{this._ongoingPromise=void 0,$(()=>me({value:qe,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,X(ee),me({value:void 0,done:!0})},_errorSteps:qe=>{this._ongoingPromise=void 0,this._isFinished=!0,X(ee),$e(qe)}}),Ve}_returnSteps(ee){if(this._isFinished)return Promise.resolve({value:ee,done:!0});this._isFinished=!0;const me=this._reader;if(!this._preventCancel){const $e=H(me,ee);return X(me),y($e,()=>({value:ee,done:!0}))}return X(me),m({value:ee,done:!0})}}const lt={next(){return Ct(this)?this._asyncIteratorImpl.next():g(Er("next"))},return(z){return Ct(this)?this._asyncIteratorImpl.return(z):g(Er("return"))},[Re](){return this}};function Ct(z){if(!i(z)||!Object.prototype.hasOwnProperty.call(z,"_asyncIteratorImpl"))return!1;try{return z._asyncIteratorImpl instanceof yt}catch{return!1}}function Er(z){return new TypeError(`ReadableStreamAsyncIterator.${z} can only be used on a ReadableSteamAsyncIterator`)}Object.defineProperty(lt,Re,{enumerable:!1});const Pr=Number.isNaN||function(z){return z!=z};function ir(z){const ee=ye(z.buffer,z.byteOffset,z.byteOffset+z.byteLength);return new Uint8Array(ee)}function mr(z){const ee=z._queue.shift();return z._queueTotalSize-=ee.size,z._queueTotalSize<0&&(z._queueTotalSize=0),ee.value}function cn(z,ee,me){if(typeof($e=me)!="number"||Pr($e)||$e<0||me===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var $e;z._queue.push({value:ee,size:me}),z._queueTotalSize+=me}function Vt(z){z._queue=new A,z._queueTotalSize=0}function zt(z){return z===DataView}class At{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ht(this))throw Cr("view");return this._view}respond(ee){if(!ht(this))throw Cr("respond");if(J(ee,1,"respond"),ee=Pe(ee,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(re(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");kr(this._associatedReadableByteStreamController,ee)}respondWithNewView(ee){if(!ht(this))throw Cr("respondWithNewView");if(J(ee,1,"respondWithNewView"),!ArrayBuffer.isView(ee))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(re(ee.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Fn(this._associatedReadableByteStreamController,ee)}}Object.defineProperties(At.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),s(At.prototype.respond,"respond"),s(At.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(At.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Se{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ne(this))throw Zr("byobRequest");return Kr(this)}get desiredSize(){if(!Ne(this))throw Zr("desiredSize");return Qr(this)}close(){if(!Ne(this))throw Zr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const ee=this._controlledReadableByteStream._state;if(ee!=="readable")throw new TypeError(`The stream (in ${ee} state) is not in the readable state and cannot be closed`);wt(this)}enqueue(ee){if(!Ne(this))throw Zr("enqueue");if(J(ee,1,"enqueue"),!ArrayBuffer.isView(ee))throw new TypeError("chunk must be an array buffer view");if(ee.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(ee.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const me=this._controlledReadableByteStream._state;if(me!=="readable")throw new TypeError(`The stream (in ${me} state) is not in the readable state and cannot be enqueued to`);Tt(this,ee)}error(ee=void 0){if(!Ne(this))throw Zr("error");Dt(this,ee)}[D](ee){it(this),Vt(this);const me=this._cancelAlgorithm(ee);return Gt(this),me}[F](ee){const me=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void Ft(this,ee);const $e=this._autoAllocateChunkSize;if($e!==void 0){let Ve;try{Ve=new ArrayBuffer($e)}catch(Je){return void ee._errorSteps(Je)}const qe={buffer:Ve,bufferByteLength:$e,byteOffset:0,byteLength:$e,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(qe)}M(me,ee),Ye(this)}[V](){if(this._pendingPullIntos.length>0){const ee=this._pendingPullIntos.peek();ee.readerType="none",this._pendingPullIntos=new A,this._pendingPullIntos.push(ee)}}}function Ne(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledReadableByteStream")&&z instanceof Se}function ht(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_associatedReadableByteStreamController")&&z instanceof At}function Ye(z){if(function(me){const $e=me._controlledReadableByteStream;return $e._state!=="readable"||me._closeRequested||!me._started?!1:!!(ce($e)&&oe($e)>0||is($e)&&ns($e)>0||Qr(me)>0)}(z)){if(z._pulling)return void(z._pullAgain=!0);z._pulling=!0,v(z._pullAlgorithm(),()=>(z._pulling=!1,z._pullAgain&&(z._pullAgain=!1,Ye(z)),null),me=>(Dt(z,me),null))}}function it(z){xt(z),z._pendingPullIntos=new A}function Pt(z,ee){let me=!1;z._state==="closed"&&(me=!0);const $e=he(ee);ee.readerType==="default"?G(z,$e,me):function(Ve,qe,Je){const Ge=Ve._reader,Xe=Ge._readIntoRequests.shift();Je?Xe._closeSteps(qe):Xe._chunkSteps(qe)}(z,$e,me)}function qt(z,ee){for(let me=0;me<ee.length;++me)Pt(z,ee[me])}function he(z){const ee=z.bytesFilled,me=z.elementSize;return new z.viewConstructor(z.buffer,z.byteOffset,ee/me)}function ue(z,ee,me,$e){z._queue.push({buffer:ee,byteOffset:me,byteLength:$e}),z._queueTotalSize+=$e}function we(z,ee,me,$e){let Ve;try{Ve=ye(ee,me,me+$e)}catch(qe){throw Dt(z,qe),qe}ue(z,Ve,0,$e)}function xe(z,ee){ee.bytesFilled>0&&we(z,ee.buffer,ee.byteOffset,ee.bytesFilled),Rt(z)}function Ae(z,ee){const me=Math.min(z._queueTotalSize,ee.byteLength-ee.bytesFilled),$e=ee.bytesFilled+me;let Ve=me,qe=!1;const Je=$e-$e%ee.elementSize;Je>=ee.minimumFill&&(Ve=Je-ee.bytesFilled,qe=!0);const Ge=z._queue;for(;Ve>0;){const Xe=Ge.peek(),pt=Math.min(Ve,Xe.byteLength),gt=ee.byteOffset+ee.bytesFilled;N(ee.buffer,gt,Xe.buffer,Xe.byteOffset,pt),Xe.byteLength===pt?Ge.shift():(Xe.byteOffset+=pt,Xe.byteLength-=pt),z._queueTotalSize-=pt,tt(z,pt,ee),Ve-=pt}return qe}function tt(z,ee,me){me.bytesFilled+=ee}function st(z){z._queueTotalSize===0&&z._closeRequested?(Gt(z),ul(z._controlledReadableByteStream)):Ye(z)}function xt(z){z._byobRequest!==null&&(z._byobRequest._associatedReadableByteStreamController=void 0,z._byobRequest._view=null,z._byobRequest=null)}function It(z){const ee=[];for(;z._pendingPullIntos.length>0&&z._queueTotalSize!==0;){const me=z._pendingPullIntos.peek();Ae(z,me)&&(Rt(z),ee.push(me))}return ee}function jt(z,ee,me,$e){const Ve=z._controlledReadableByteStream,qe=ee.constructor,Je=function(_t){return zt(_t)?1:_t.BYTES_PER_ELEMENT}(qe),{byteOffset:Ge,byteLength:Xe}=ee,pt=me*Je;let gt;try{gt=L(ee.buffer)}catch(_t){return void $e._errorSteps(_t)}const Lt={buffer:gt,bufferByteLength:gt.byteLength,byteOffset:Ge,byteLength:Xe,bytesFilled:0,minimumFill:pt,elementSize:Je,viewConstructor:qe,readerType:"byob"};if(z._pendingPullIntos.length>0)return z._pendingPullIntos.push(Lt),void hi(Ve,$e);if(Ve._state!=="closed"){if(z._queueTotalSize>0){if(Ae(z,Lt)){const _t=he(Lt);return st(z),void $e._chunkSteps(_t)}if(z._closeRequested){const _t=new TypeError("Insufficient bytes to fill elements in the given buffer");return Dt(z,_t),void $e._errorSteps(_t)}}z._pendingPullIntos.push(Lt),hi(Ve,$e),Ye(z)}else{const _t=new qe(Lt.buffer,Lt.byteOffset,0);$e._closeSteps(_t)}}function $t(z,ee){const me=z._pendingPullIntos.peek();xt(z),z._controlledReadableByteStream._state==="closed"?function($e,Ve){Ve.readerType==="none"&&Rt($e);const qe=$e._controlledReadableByteStream;if(is(qe)){const Je=[];for(let Ge=0;Ge<ns(qe);++Ge)Je.push(Rt($e));qt(qe,Je)}}(z,me):function($e,Ve,qe){if(tt(0,Ve,qe),qe.readerType==="none"){xe($e,qe);const Xe=It($e);return void qt($e._controlledReadableByteStream,Xe)}if(qe.bytesFilled<qe.minimumFill)return;Rt($e);const Je=qe.bytesFilled%qe.elementSize;if(Je>0){const Xe=qe.byteOffset+qe.bytesFilled;we($e,qe.buffer,Xe-Je,Je)}qe.bytesFilled-=Je;const Ge=It($e);Pt($e._controlledReadableByteStream,qe),qt($e._controlledReadableByteStream,Ge)}(z,ee,me),Ye(z)}function Rt(z){return z._pendingPullIntos.shift()}function Gt(z){z._pullAlgorithm=void 0,z._cancelAlgorithm=void 0}function wt(z){const ee=z._controlledReadableByteStream;if(!z._closeRequested&&ee._state==="readable")if(z._queueTotalSize>0)z._closeRequested=!0;else{if(z._pendingPullIntos.length>0){const me=z._pendingPullIntos.peek();if(me.bytesFilled%me.elementSize!=0){const $e=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Dt(z,$e),$e}}Gt(z),ul(ee)}}function Tt(z,ee){const me=z._controlledReadableByteStream;if(z._closeRequested||me._state!=="readable")return;const{buffer:$e,byteOffset:Ve,byteLength:qe}=ee;if(re($e))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const Je=L($e);if(z._pendingPullIntos.length>0){const Ge=z._pendingPullIntos.peek();if(re(Ge.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");xt(z),Ge.buffer=L(Ge.buffer),Ge.readerType==="none"&&xe(z,Ge)}if(ce(me))(function(Ge){const Xe=Ge._controlledReadableByteStream._reader;for(;Xe._readRequests.length>0;){if(Ge._queueTotalSize===0)return;Ft(Ge,Xe._readRequests.shift())}})(z),oe(me)===0?ue(z,Je,Ve,qe):(z._pendingPullIntos.length>0&&Rt(z),G(me,new Uint8Array(Je,Ve,qe),!1));else if(is(me)){ue(z,Je,Ve,qe);const Ge=It(z);qt(z._controlledReadableByteStream,Ge)}else ue(z,Je,Ve,qe);Ye(z)}function Dt(z,ee){const me=z._controlledReadableByteStream;me._state==="readable"&&(it(z),Vt(z),Gt(z),ls(me,ee))}function Ft(z,ee){const me=z._queue.shift();z._queueTotalSize-=me.byteLength,st(z);const $e=new Uint8Array(me.buffer,me.byteOffset,me.byteLength);ee._chunkSteps($e)}function Kr(z){if(z._byobRequest===null&&z._pendingPullIntos.length>0){const ee=z._pendingPullIntos.peek(),me=new Uint8Array(ee.buffer,ee.byteOffset+ee.bytesFilled,ee.byteLength-ee.bytesFilled),$e=Object.create(At.prototype);(function(Ve,qe,Je){Ve._associatedReadableByteStreamController=qe,Ve._view=Je})($e,z,me),z._byobRequest=$e}return z._byobRequest}function Qr(z){const ee=z._controlledReadableByteStream._state;return ee==="errored"?null:ee==="closed"?0:z._strategyHWM-z._queueTotalSize}function kr(z,ee){const me=z._pendingPullIntos.peek();if(z._controlledReadableByteStream._state==="closed"){if(ee!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(ee===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(me.bytesFilled+ee>me.byteLength)throw new RangeError("bytesWritten out of range")}me.buffer=L(me.buffer),$t(z,ee)}function Fn(z,ee){const me=z._pendingPullIntos.peek();if(z._controlledReadableByteStream._state==="closed"){if(ee.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(ee.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(me.byteOffset+me.bytesFilled!==ee.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(me.bufferByteLength!==ee.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(me.bytesFilled+ee.byteLength>me.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const $e=ee.byteLength;me.buffer=L(ee.buffer),$t(z,$e)}function Hn(z,ee,me,$e,Ve,qe,Je){ee._controlledReadableByteStream=z,ee._pullAgain=!1,ee._pulling=!1,ee._byobRequest=null,ee._queue=ee._queueTotalSize=void 0,Vt(ee),ee._closeRequested=!1,ee._started=!1,ee._strategyHWM=qe,ee._pullAlgorithm=$e,ee._cancelAlgorithm=Ve,ee._autoAllocateChunkSize=Je,ee._pendingPullIntos=new A,z._readableStreamController=ee,v(m(me()),()=>(ee._started=!0,Ye(ee),null),Ge=>(Dt(ee,Ge),null))}function Cr(z){return new TypeError(`ReadableStreamBYOBRequest.prototype.${z} can only be used on a ReadableStreamBYOBRequest`)}function Zr(z){return new TypeError(`ReadableByteStreamController.prototype.${z} can only be used on a ReadableByteStreamController`)}function Qn(z,ee){if((z=`${z}`)!="byob")throw new TypeError(`${ee} '${z}' is not a valid enumeration value for ReadableStreamReaderMode`);return z}function pn(z){return new jr(z)}function hi(z,ee){z._reader._readIntoRequests.push(ee)}function ns(z){return z._reader._readIntoRequests.length}function is(z){const ee=z._reader;return ee!==void 0&&!!_n(ee)}Object.defineProperties(Se.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),s(Se.prototype.close,"close"),s(Se.prototype.enqueue,"enqueue"),s(Se.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Se.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class jr{constructor(ee){if(J(ee,1,"ReadableStreamBYOBReader"),R(ee,"First parameter"),gi(ee))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ne(ee._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Q(this,ee),this._readIntoRequests=new A}get closed(){return _n(this)?this._closedPromise:g(os("closed"))}cancel(ee=void 0){return _n(this)?this._ownerReadableStream===void 0?g(fe("cancel")):H(this,ee):g(os("cancel"))}read(ee,me={}){if(!_n(this))return g(os("read"));if(!ArrayBuffer.isView(ee))return g(new TypeError("view must be an array buffer view"));if(ee.byteLength===0)return g(new TypeError("view must have non-zero byteLength"));if(ee.buffer.byteLength===0)return g(new TypeError("view's buffer must have non-zero byteLength"));if(re(ee.buffer))return g(new TypeError("view's buffer has been detached"));let $e;try{$e=function(Xe,pt){var gt;return I(Xe,pt),{min:Pe((gt=Xe==null?void 0:Xe.min)!==null&&gt!==void 0?gt:1,`${pt} has member 'min' that`)}}(me,"options")}catch(Xe){return g(Xe)}const Ve=$e.min;if(Ve===0)return g(new TypeError("options.min must be greater than 0"));if(function(Xe){return zt(Xe.constructor)}(ee)){if(Ve>ee.byteLength)return g(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(Ve>ee.length)return g(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return g(fe("read from"));let qe,Je;const Ge=p((Xe,pt)=>{qe=Xe,Je=pt});return pi(this,ee,Ve,{_chunkSteps:Xe=>qe({value:Xe,done:!1}),_closeSteps:Xe=>qe({value:Xe,done:!0}),_errorSteps:Xe=>Je(Xe)}),Ge}releaseLock(){if(!_n(this))throw os("releaseLock");this._ownerReadableStream!==void 0&&function(ee){X(ee);const me=new TypeError("Reader was released");va(ee,me)}(this)}}function _n(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_readIntoRequests")&&z instanceof jr}function pi(z,ee,me,$e){const Ve=z._ownerReadableStream;Ve._disturbed=!0,Ve._state==="errored"?$e._errorSteps(Ve._storedError):jt(Ve._readableStreamController,ee,me,$e)}function va(z,ee){const me=z._readIntoRequests;z._readIntoRequests=new A,me.forEach($e=>{$e._errorSteps(ee)})}function os(z){return new TypeError(`ReadableStreamBYOBReader.prototype.${z} can only be used on a ReadableStreamBYOBReader`)}function Bn(z,ee){const{highWaterMark:me}=z;if(me===void 0)return ee;if(Pr(me)||me<0)throw new RangeError("Invalid highWaterMark");return me}function gc(z){const{size:ee}=z;return ee||(()=>1)}function ol(z,ee){I(z,ee);const me=z==null?void 0:z.highWaterMark,$e=z==null?void 0:z.size;return{highWaterMark:me===void 0?void 0:se(me),size:$e===void 0?void 0:Hg($e,`${ee} has member 'size' that`)}}function Hg(z,ee){return q(z,ee),me=>se(z(me))}function JE(z,ee,me){return q(z,me),$e=>d(z,ee,[$e])}function YE(z,ee,me){return q(z,me),()=>d(z,ee,[])}function Do(z,ee,me){return q(z,me),$e=>T(z,ee,[$e])}function Wg(z,ee,me){return q(z,me),($e,Ve)=>d(z,ee,[$e,Ve])}function Gl(z,ee){if(!uo(z))throw new TypeError(`${ee} is not a WritableStream.`)}Object.defineProperties(jr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),s(jr.prototype.cancel,"cancel"),s(jr.prototype.read,"read"),s(jr.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(jr.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class ya{constructor(ee={},me={}){ee===void 0?ee=null:ie(ee,"First parameter");const $e=ol(me,"Second parameter"),Ve=function(Je,Ge){I(Je,Ge);const Xe=Je==null?void 0:Je.abort,pt=Je==null?void 0:Je.close,gt=Je==null?void 0:Je.start,Lt=Je==null?void 0:Je.type,_t=Je==null?void 0:Je.write;return{abort:Xe===void 0?void 0:JE(Xe,Je,`${Ge} has member 'abort' that`),close:pt===void 0?void 0:YE(pt,Je,`${Ge} has member 'close' that`),start:gt===void 0?void 0:Do(gt,Je,`${Ge} has member 'start' that`),write:_t===void 0?void 0:Wg(_t,Je,`${Ge} has member 'write' that`),type:Lt}}(ee,"First parameter");if(wa(this),Ve.type!==void 0)throw new RangeError("Invalid type is specified");const qe=gc($e);(function(Je,Ge,Xe,pt){const gt=Object.create(Jl.prototype);let Lt,_t,Ut,Sr;Lt=Ge.start!==void 0?()=>Ge.start(gt):()=>{},_t=Ge.write!==void 0?Rr=>Ge.write(Rr,gt):()=>m(void 0),Ut=Ge.close!==void 0?()=>Ge.close():()=>m(void 0),Sr=Ge.abort!==void 0?Rr=>Ge.abort(Rr):()=>m(void 0),Qh(Je,gt,Lt,_t,Ut,Sr,Xe,pt)})(this,Ve,Bn($e,1),qe)}get locked(){if(!uo(this))throw nd("locked");return ba(this)}abort(ee=void 0){return uo(this)?ba(this)?g(new TypeError("Cannot abort a stream that already has a writer")):Jf(this,ee):g(nd("abort"))}close(){return uo(this)?ba(this)?g(new TypeError("Cannot close a stream that already has a writer")):Mo(this)?g(new TypeError("Cannot close an already-closing stream")):Kl(this):g(nd("close"))}getWriter(){if(!uo(this))throw nd("getWriter");return Gg(this)}}function Gg(z){return new Fs(z)}function wa(z){z._state="writable",z._storedError=void 0,z._writer=void 0,z._writableStreamController=void 0,z._writeRequests=new A,z._inFlightWriteRequest=void 0,z._closeRequest=void 0,z._inFlightCloseRequest=void 0,z._pendingAbortRequest=void 0,z._backpressure=!1}function uo(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_writableStreamController")&&z instanceof ya}function ba(z){return z._writer!==void 0}function Jf(z,ee){var me;if(z._state==="closed"||z._state==="errored")return m(void 0);z._writableStreamController._abortReason=ee,(me=z._writableStreamController._abortController)===null||me===void 0||me.abort(ee);const $e=z._state;if($e==="closed"||$e==="errored")return m(void 0);if(z._pendingAbortRequest!==void 0)return z._pendingAbortRequest._promise;let Ve=!1;$e==="erroring"&&(Ve=!0,ee=void 0);const qe=p((Je,Ge)=>{z._pendingAbortRequest={_promise:void 0,_resolve:Je,_reject:Ge,_reason:ee,_wasAlreadyErroring:Ve}});return z._pendingAbortRequest._promise=qe,Ve||vc(z,ee),qe}function Kl(z){const ee=z._state;if(ee==="closed"||ee==="errored")return g(new TypeError(`The stream (in ${ee} state) is not in the writable state and cannot be closed`));const me=p((qe,Je)=>{const Ge={_resolve:qe,_reject:Je};z._closeRequest=Ge}),$e=z._writer;var Ve;return $e!==void 0&&z._backpressure&&ee==="writable"&&le($e),cn(Ve=z._writableStreamController,Xg,0),Xl(Ve),me}function Yf(z,ee){z._state!=="writable"?Xf(z):vc(z,ee)}function vc(z,ee){const me=z._writableStreamController;z._state="erroring",z._storedError=ee;const $e=z._writer;$e!==void 0&&Kg($e,ee),!function(Ve){return!(Ve._inFlightWriteRequest===void 0&&Ve._inFlightCloseRequest===void 0)}(z)&&me._started&&Xf(z)}function Xf(z){z._state="errored",z._writableStreamController[O]();const ee=z._storedError;if(z._writeRequests.forEach($e=>{$e._reject(ee)}),z._writeRequests=new A,z._pendingAbortRequest===void 0)return void Qf(z);const me=z._pendingAbortRequest;if(z._pendingAbortRequest=void 0,me._wasAlreadyErroring)return me._reject(ee),void Qf(z);v(z._writableStreamController[x](me._reason),()=>(me._resolve(),Qf(z),null),$e=>(me._reject($e),Qf(z),null))}function Mo(z){return z._closeRequest!==void 0||z._inFlightCloseRequest!==void 0}function Qf(z){z._closeRequest!==void 0&&(z._closeRequest._reject(z._storedError),z._closeRequest=void 0);const ee=z._writer;ee!==void 0&&tp(ee,z._storedError)}function Zf(z,ee){const me=z._writer;me!==void 0&&ee!==z._backpressure&&(ee?function($e){od($e)}(me):le(me)),z._backpressure=ee}Object.defineProperties(ya.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),s(ya.prototype.abort,"abort"),s(ya.prototype.close,"close"),s(ya.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ya.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class Fs{constructor(ee){if(J(ee,1,"WritableStreamDefaultWriter"),Gl(ee,"First parameter"),ba(ee))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=ee,ee._writer=this;const me=ee._state;if(me==="writable")!Mo(ee)&&ee._backpressure?od(this):U(this),yc(this);else if(me==="erroring")k(this,ee._storedError),yc(this);else if(me==="closed")U(this),yc($e=this),Qg($e);else{const Ve=ee._storedError;k(this,Ve),id(this,Ve)}var $e}get closed(){return sl(this)?this._closedPromise:g(al("closed"))}get desiredSize(){if(!sl(this))throw al("desiredSize");if(this._ownerWritableStream===void 0)throw Bs("desiredSize");return function(ee){const me=ee._ownerWritableStream,$e=me._state;return $e==="errored"||$e==="erroring"?null:$e==="closed"?0:Zh(me._writableStreamController)}(this)}get ready(){return sl(this)?this._readyPromise:g(al("ready"))}abort(ee=void 0){return sl(this)?this._ownerWritableStream===void 0?g(Bs("abort")):function(me,$e){return Jf(me._ownerWritableStream,$e)}(this,ee):g(al("abort"))}close(){if(!sl(this))return g(al("close"));const ee=this._ownerWritableStream;return ee===void 0?g(Bs("close")):Mo(ee)?g(new TypeError("Cannot close an already-closing stream")):ed(this)}releaseLock(){if(!sl(this))throw al("releaseLock");this._ownerWritableStream!==void 0&&Jg(this)}write(ee=void 0){return sl(this)?this._ownerWritableStream===void 0?g(Bs("write to")):Yg(this,ee):g(al("write"))}}function sl(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_ownerWritableStream")&&z instanceof Fs}function ed(z){return Kl(z._ownerWritableStream)}function XE(z,ee){z._closedPromiseState==="pending"?tp(z,ee):function(me,$e){id(me,$e)}(z,ee)}function Kg(z,ee){z._readyPromiseState==="pending"?te(z,ee):function(me,$e){k(me,$e)}(z,ee)}function Jg(z){const ee=z._ownerWritableStream,me=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Kg(z,me),XE(z,me),ee._writer=void 0,z._ownerWritableStream=void 0}function Yg(z,ee){const me=z._ownerWritableStream,$e=me._writableStreamController,Ve=function(Ge,Xe){if(Ge._strategySizeAlgorithm===void 0)return 1;try{return Ge._strategySizeAlgorithm(Xe)}catch(pt){return Ql(Ge,pt),1}}($e,ee);if(me!==z._ownerWritableStream)return g(Bs("write to"));const qe=me._state;if(qe==="errored")return g(me._storedError);if(Mo(me)||qe==="closed")return g(new TypeError("The stream is closing or closed and cannot be written to"));if(qe==="erroring")return g(me._storedError);const Je=function(Ge){return p((Xe,pt)=>{const gt={_resolve:Xe,_reject:pt};Ge._writeRequests.push(gt)})}(me);return function(Ge,Xe,pt){try{cn(Ge,Xe,pt)}catch(Lt){return void Ql(Ge,Lt)}const gt=Ge._controlledWritableStream;!Mo(gt)&&gt._state==="writable"&&Zf(gt,td(Ge)),Xl(Ge)}($e,ee,Ve),Je}Object.defineProperties(Fs.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),s(Fs.prototype.abort,"abort"),s(Fs.prototype.close,"close"),s(Fs.prototype.releaseLock,"releaseLock"),s(Fs.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Fs.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Xg={};class Jl{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Xh(this))throw ep("abortReason");return this._abortReason}get signal(){if(!Xh(this))throw ep("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(ee=void 0){if(!Xh(this))throw ep("error");this._controlledWritableStream._state==="writable"&&rd(this,ee)}[x](ee){const me=this._abortAlgorithm(ee);return Yl(this),me}[O](){Vt(this)}}function Xh(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledWritableStream")&&z instanceof Jl}function Qh(z,ee,me,$e,Ve,qe,Je,Ge){ee._controlledWritableStream=z,z._writableStreamController=ee,ee._queue=void 0,ee._queueTotalSize=void 0,Vt(ee),ee._abortReason=void 0,ee._abortController=function(){if(typeof AbortController=="function")return new AbortController}(),ee._started=!1,ee._strategySizeAlgorithm=Ge,ee._strategyHWM=Je,ee._writeAlgorithm=$e,ee._closeAlgorithm=Ve,ee._abortAlgorithm=qe;const Xe=td(ee);Zf(z,Xe),v(m(me()),()=>(ee._started=!0,Xl(ee),null),pt=>(ee._started=!0,Yf(z,pt),null))}function Yl(z){z._writeAlgorithm=void 0,z._closeAlgorithm=void 0,z._abortAlgorithm=void 0,z._strategySizeAlgorithm=void 0}function Zh(z){return z._strategyHWM-z._queueTotalSize}function Xl(z){const ee=z._controlledWritableStream;if(!z._started||ee._inFlightWriteRequest!==void 0)return;if(ee._state==="erroring")return void Xf(ee);if(z._queue.length===0)return;const me=z._queue.peek().value;me===Xg?function($e){const Ve=$e._controlledWritableStream;(function(Je){Je._inFlightCloseRequest=Je._closeRequest,Je._closeRequest=void 0})(Ve),mr($e);const qe=$e._closeAlgorithm();Yl($e),v(qe,()=>(function(Je){Je._inFlightCloseRequest._resolve(void 0),Je._inFlightCloseRequest=void 0,Je._state==="erroring"&&(Je._storedError=void 0,Je._pendingAbortRequest!==void 0&&(Je._pendingAbortRequest._resolve(),Je._pendingAbortRequest=void 0)),Je._state="closed";const Ge=Je._writer;Ge!==void 0&&Qg(Ge)}(Ve),null),Je=>(function(Ge,Xe){Ge._inFlightCloseRequest._reject(Xe),Ge._inFlightCloseRequest=void 0,Ge._pendingAbortRequest!==void 0&&(Ge._pendingAbortRequest._reject(Xe),Ge._pendingAbortRequest=void 0),Yf(Ge,Xe)}(Ve,Je),null))}(z):function($e,Ve){const qe=$e._controlledWritableStream;(function(Ge){Ge._inFlightWriteRequest=Ge._writeRequests.shift()})(qe);const Je=$e._writeAlgorithm(Ve);v(Je,()=>{(function(Xe){Xe._inFlightWriteRequest._resolve(void 0),Xe._inFlightWriteRequest=void 0})(qe);const Ge=qe._state;if(mr($e),!Mo(qe)&&Ge==="writable"){const Xe=td($e);Zf(qe,Xe)}return Xl($e),null},Ge=>(qe._state==="writable"&&Yl($e),function(Xe,pt){Xe._inFlightWriteRequest._reject(pt),Xe._inFlightWriteRequest=void 0,Yf(Xe,pt)}(qe,Ge),null))}(z,me)}function Ql(z,ee){z._controlledWritableStream._state==="writable"&&rd(z,ee)}function td(z){return Zh(z)<=0}function rd(z,ee){const me=z._controlledWritableStream;Yl(z),vc(me,ee)}function nd(z){return new TypeError(`WritableStream.prototype.${z} can only be used on a WritableStream`)}function ep(z){return new TypeError(`WritableStreamDefaultController.prototype.${z} can only be used on a WritableStreamDefaultController`)}function al(z){return new TypeError(`WritableStreamDefaultWriter.prototype.${z} can only be used on a WritableStreamDefaultWriter`)}function Bs(z){return new TypeError("Cannot "+z+" a stream using a released writer")}function yc(z){z._closedPromise=p((ee,me)=>{z._closedPromise_resolve=ee,z._closedPromise_reject=me,z._closedPromiseState="pending"})}function id(z,ee){yc(z),tp(z,ee)}function tp(z,ee){z._closedPromise_reject!==void 0&&(S(z._closedPromise),z._closedPromise_reject(ee),z._closedPromise_resolve=void 0,z._closedPromise_reject=void 0,z._closedPromiseState="rejected")}function Qg(z){z._closedPromise_resolve!==void 0&&(z._closedPromise_resolve(void 0),z._closedPromise_resolve=void 0,z._closedPromise_reject=void 0,z._closedPromiseState="resolved")}function od(z){z._readyPromise=p((ee,me)=>{z._readyPromise_resolve=ee,z._readyPromise_reject=me}),z._readyPromiseState="pending"}function k(z,ee){od(z),te(z,ee)}function U(z){od(z),le(z)}function te(z,ee){z._readyPromise_reject!==void 0&&(S(z._readyPromise),z._readyPromise_reject(ee),z._readyPromise_resolve=void 0,z._readyPromise_reject=void 0,z._readyPromiseState="rejected")}function le(z){z._readyPromise_resolve!==void 0&&(z._readyPromise_resolve(void 0),z._readyPromise_resolve=void 0,z._readyPromise_reject=void 0,z._readyPromiseState="fulfilled")}Object.defineProperties(Jl.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Jl.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const pe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0,ge=function(){const z=pe==null?void 0:pe.DOMException;return function(ee){if(typeof ee!="function"&&typeof ee!="object"||ee.name!=="DOMException")return!1;try{return new ee,!0}catch{return!1}}(z)?z:void 0}()||function(){const z=function(ee,me){this.message=ee||"",this.name=me||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return s(z,"DOMException"),z.prototype=Object.create(Error.prototype),Object.defineProperty(z.prototype,"constructor",{value:z,writable:!0,configurable:!0}),z}();function _e(z,ee,me,$e,Ve,qe){const Je=j(z),Ge=Gg(ee);z._disturbed=!0;let Xe=!1,pt=m(void 0);return p((gt,Lt)=>{let _t;if(qe!==void 0){if(_t=()=>{const tr=qe.reason!==void 0?qe.reason:new ge("Aborted","AbortError"),mn=[];$e||mn.push(()=>ee._state==="writable"?Jf(ee,tr):m(void 0)),Ve||mn.push(()=>z._state==="readable"?$n(z,tr):m(void 0)),on(()=>Promise.all(mn.map(Nr=>Nr())),!0,tr)},qe.aborted)return void _t();qe.addEventListener("abort",_t)}var Ut,Sr,Rr;if(Vr(z,Je._closedPromise,tr=>($e?xr(!0,tr):on(()=>Jf(ee,tr),!0,tr),null)),Vr(ee,Ge._closedPromise,tr=>(Ve?xr(!0,tr):on(()=>$n(z,tr),!0,tr),null)),Ut=z,Sr=Je._closedPromise,Rr=()=>(me?xr():on(()=>function(tr){const mn=tr._ownerWritableStream,Nr=mn._state;return Mo(mn)||Nr==="closed"?m(void 0):Nr==="errored"?g(mn._storedError):ed(tr)}(Ge)),null),Ut._state==="closed"?Rr():h(Sr,Rr),Mo(ee)||ee._state==="closed"){const tr=new TypeError("the destination writable stream closed before all data could be piped to it");Ve?xr(!0,tr):on(()=>$n(z,tr),!0,tr)}function Cn(){const tr=pt;return _(pt,()=>tr!==pt?Cn():void 0)}function Vr(tr,mn,Nr){tr._state==="errored"?Nr(tr._storedError):E(mn,Nr)}function on(tr,mn,Nr){function Ir(){return v(tr(),()=>Ri(mn,Nr),rr=>Ri(!0,rr)),null}Xe||(Xe=!0,ee._state!=="writable"||Mo(ee)?Ir():h(Cn(),Ir))}function xr(tr,mn){Xe||(Xe=!0,ee._state!=="writable"||Mo(ee)?Ri(tr,mn):h(Cn(),()=>Ri(tr,mn)))}function Ri(tr,mn){return Jg(Ge),X(Je),qe!==void 0&&qe.removeEventListener("abort",_t),tr?Lt(mn):gt(void 0),null}S(p((tr,mn)=>{(function Nr(Ir){Ir?tr():_(Xe?m(!0):_(Ge._readyPromise,()=>p((rr,sn)=>{Ie(Je,{_chunkSteps:ur=>{pt=_(Yg(Ge,ur),void 0,n),rr(!1)},_closeSteps:()=>rr(!0),_errorSteps:sn})})),Nr,mn)})(!1)}))})}class Fe{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Me(this))throw En("desiredSize");return gr(this)}close(){if(!Me(this))throw En("close");if(!Xt(this))throw new TypeError("The stream is not in a state that permits close");Qe(this)}enqueue(ee=void 0){if(!Me(this))throw En("enqueue");if(!Xt(this))throw new TypeError("The stream is not in a state that permits enqueue");return bt(this,ee)}error(ee=void 0){if(!Me(this))throw En("error");Ht(this,ee)}[D](ee){Vt(this);const me=this._cancelAlgorithm(ee);return ut(this),me}[F](ee){const me=this._controlledReadableStream;if(this._queue.length>0){const $e=mr(this);this._closeRequested&&this._queue.length===0?(ut(this),ul(me)):Ke(this),ee._chunkSteps($e)}else M(me,ee),Ke(this)}[V](){}}function Me(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledReadableStream")&&z instanceof Fe}function Ke(z){if(rt(z)){if(z._pulling)return void(z._pullAgain=!0);z._pulling=!0,v(z._pullAlgorithm(),()=>(z._pulling=!1,z._pullAgain&&(z._pullAgain=!1,Ke(z)),null),ee=>(Ht(z,ee),null))}}function rt(z){const ee=z._controlledReadableStream;return!Xt(z)||!z._started?!1:gi(ee)&&oe(ee)>0?!0:gr(z)>0}function ut(z){z._pullAlgorithm=void 0,z._cancelAlgorithm=void 0,z._strategySizeAlgorithm=void 0}function Qe(z){if(!Xt(z))return;const ee=z._controlledReadableStream;z._closeRequested=!0,z._queue.length===0&&(ut(z),ul(ee))}function bt(z,ee){if(!Xt(z))return;const me=z._controlledReadableStream;if(gi(me)&&oe(me)>0)G(me,ee,!1);else{let $e;try{$e=z._strategySizeAlgorithm(ee)}catch(Ve){throw Ht(z,Ve),Ve}try{cn(z,ee,$e)}catch(Ve){throw Ht(z,Ve),Ve}}Ke(z)}function Ht(z,ee){const me=z._controlledReadableStream;me._state==="readable"&&(Vt(z),ut(z),ls(me,ee))}function gr(z){const ee=z._controlledReadableStream._state;return ee==="errored"?null:ee==="closed"?0:z._strategyHWM-z._queueTotalSize}function Xt(z){const ee=z._controlledReadableStream._state;return!z._closeRequested&&ee==="readable"}function Wn(z,ee,me,$e,Ve,qe,Je){ee._controlledReadableStream=z,ee._queue=void 0,ee._queueTotalSize=void 0,Vt(ee),ee._started=!1,ee._closeRequested=!1,ee._pullAgain=!1,ee._pulling=!1,ee._strategySizeAlgorithm=Je,ee._strategyHWM=qe,ee._pullAlgorithm=$e,ee._cancelAlgorithm=Ve,z._readableStreamController=ee,v(m(me()),()=>(ee._started=!0,Ke(ee),null),Ge=>(Ht(ee,Ge),null))}function En(z){return new TypeError(`ReadableStreamDefaultController.prototype.${z} can only be used on a ReadableStreamDefaultController`)}function ss(z,ee){return Ne(z._readableStreamController)?function(me){let $e,Ve,qe,Je,Ge,Xe=j(me),pt=!1,gt=!1,Lt=!1,_t=!1,Ut=!1;const Sr=p(Nr=>{Ge=Nr});function Rr(Nr){E(Nr._closedPromise,Ir=>(Nr!==Xe||(Dt(qe._readableStreamController,Ir),Dt(Je._readableStreamController,Ir),_t&&Ut||Ge(void 0)),null))}function Cn(){_n(Xe)&&(X(Xe),Xe=j(me),Rr(Xe)),Ie(Xe,{_chunkSteps:Nr=>{$(()=>{gt=!1,Lt=!1;const Ir=Nr;let rr=Nr;if(!_t&&!Ut)try{rr=ir(Nr)}catch(sn){return Dt(qe._readableStreamController,sn),Dt(Je._readableStreamController,sn),void Ge($n(me,sn))}_t||Tt(qe._readableStreamController,Ir),Ut||Tt(Je._readableStreamController,rr),pt=!1,gt?on():Lt&&xr()})},_closeSteps:()=>{pt=!1,_t||wt(qe._readableStreamController),Ut||wt(Je._readableStreamController),qe._readableStreamController._pendingPullIntos.length>0&&kr(qe._readableStreamController,0),Je._readableStreamController._pendingPullIntos.length>0&&kr(Je._readableStreamController,0),_t&&Ut||Ge(void 0)},_errorSteps:()=>{pt=!1}})}function Vr(Nr,Ir){ve(Xe)&&(X(Xe),Xe=pn(me),Rr(Xe));const rr=Ir?Je:qe,sn=Ir?qe:Je;pi(Xe,Nr,1,{_chunkSteps:ur=>{$(()=>{gt=!1,Lt=!1;const fn=Ir?Ut:_t;if(Ir?_t:Ut)fn||Fn(rr._readableStreamController,ur);else{let ho;try{ho=ir(ur)}catch(yi){return Dt(rr._readableStreamController,yi),Dt(sn._readableStreamController,yi),void Ge($n(me,yi))}fn||Fn(rr._readableStreamController,ur),Tt(sn._readableStreamController,ho)}pt=!1,gt?on():Lt&&xr()})},_closeSteps:ur=>{pt=!1;const fn=Ir?Ut:_t,ho=Ir?_t:Ut;fn||wt(rr._readableStreamController),ho||wt(sn._readableStreamController),ur!==void 0&&(fn||Fn(rr._readableStreamController,ur),!ho&&sn._readableStreamController._pendingPullIntos.length>0&&kr(sn._readableStreamController,0)),fn&&ho||Ge(void 0)},_errorSteps:()=>{pt=!1}})}function on(){if(pt)return gt=!0,m(void 0);pt=!0;const Nr=Kr(qe._readableStreamController);return Nr===null?Cn():Vr(Nr._view,!1),m(void 0)}function xr(){if(pt)return Lt=!0,m(void 0);pt=!0;const Nr=Kr(Je._readableStreamController);return Nr===null?Cn():Vr(Nr._view,!0),m(void 0)}function Ri(Nr){if(_t=!0,$e=Nr,Ut){const Ir=W([$e,Ve]),rr=$n(me,Ir);Ge(rr)}return Sr}function tr(Nr){if(Ut=!0,Ve=Nr,_t){const Ir=W([$e,Ve]),rr=$n(me,Ir);Ge(rr)}return Sr}function mn(){}return qe=eu(mn,on,Ri),Je=eu(mn,xr,tr),Rr(Xe),[qe,Je]}(z):function(me,$e){const Ve=j(me);let qe,Je,Ge,Xe,pt,gt=!1,Lt=!1,_t=!1,Ut=!1;const Sr=p(xr=>{pt=xr});function Rr(){return gt?(Lt=!0,m(void 0)):(gt=!0,Ie(Ve,{_chunkSteps:xr=>{$(()=>{Lt=!1;const Ri=xr,tr=xr;_t||bt(Ge._readableStreamController,Ri),Ut||bt(Xe._readableStreamController,tr),gt=!1,Lt&&Rr()})},_closeSteps:()=>{gt=!1,_t||Qe(Ge._readableStreamController),Ut||Qe(Xe._readableStreamController),_t&&Ut||pt(void 0)},_errorSteps:()=>{gt=!1}}),m(void 0))}function Cn(xr){if(_t=!0,qe=xr,Ut){const Ri=W([qe,Je]),tr=$n(me,Ri);pt(tr)}return Sr}function Vr(xr){if(Ut=!0,Je=xr,_t){const Ri=W([qe,Je]),tr=$n(me,Ri);pt(tr)}return Sr}function on(){}return Ge=Pi(on,Rr,Cn),Xe=Pi(on,Rr,Vr),E(Ve._closedPromise,xr=>(Ht(Ge._readableStreamController,xr),Ht(Xe._readableStreamController,xr),_t&&Ut||pt(void 0),null)),[Ge,Xe]}(z)}function as(z){return i(ee=z)&&ee.getReader!==void 0?function(me){let $e;function Ve(){let Je;try{Je=me.read()}catch(Ge){return g(Ge)}return y(Je,Ge=>{if(!i(Ge))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(Ge.done)Qe($e._readableStreamController);else{const Xe=Ge.value;bt($e._readableStreamController,Xe)}})}function qe(Je){try{return m(me.cancel(Je))}catch(Ge){return g(Ge)}}return $e=Pi(n,Ve,qe,0),$e}(z.getReader()):function(me){let $e;const Ve=Le(me,"async");function qe(){let Ge;try{Ge=dt(Ve)}catch(Xe){return g(Xe)}return y(m(Ge),Xe=>{if(!i(Xe))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(Xe.done)Qe($e._readableStreamController);else{const pt=Xe.value;bt($e._readableStreamController,pt)}})}function Je(Ge){const Xe=Ve.iterator;let pt;try{pt=Ee(Xe,"return")}catch(gt){return g(gt)}return pt===void 0?m(void 0):y(d(pt,Xe,[Ge]),gt=>{if(!i(gt))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return $e=Pi(n,qe,Je,0),$e}(z);var ee}function vr(z,ee,me){return q(z,me),$e=>d(z,ee,[$e])}function ll(z,ee,me){return q(z,me),$e=>d(z,ee,[$e])}function Ar(z,ee,me){return q(z,me),$e=>T(z,ee,[$e])}function Sn(z,ee){if((z=`${z}`)!="bytes")throw new TypeError(`${ee} '${z}' is not a valid enumeration value for ReadableStreamType`);return z}function Zl(z,ee){I(z,ee);const me=z==null?void 0:z.preventAbort,$e=z==null?void 0:z.preventCancel,Ve=z==null?void 0:z.preventClose,qe=z==null?void 0:z.signal;return qe!==void 0&&function(Je,Ge){if(!function(Xe){if(typeof Xe!="object"||Xe===null)return!1;try{return typeof Xe.aborted=="boolean"}catch{return!1}}(Je))throw new TypeError(`${Ge} is not an AbortSignal.`)}(qe,`${ee} has member 'signal' that`),{preventAbort:!!me,preventCancel:!!$e,preventClose:!!Ve,signal:qe}}Object.defineProperties(Fe.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),s(Fe.prototype.close,"close"),s(Fe.prototype.enqueue,"enqueue"),s(Fe.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Fe.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class Gn{constructor(ee={},me={}){ee===void 0?ee=null:ie(ee,"First parameter");const $e=ol(me,"Second parameter"),Ve=function(qe,Je){I(qe,Je);const Ge=qe,Xe=Ge==null?void 0:Ge.autoAllocateChunkSize,pt=Ge==null?void 0:Ge.cancel,gt=Ge==null?void 0:Ge.pull,Lt=Ge==null?void 0:Ge.start,_t=Ge==null?void 0:Ge.type;return{autoAllocateChunkSize:Xe===void 0?void 0:Pe(Xe,`${Je} has member 'autoAllocateChunkSize' that`),cancel:pt===void 0?void 0:vr(pt,Ge,`${Je} has member 'cancel' that`),pull:gt===void 0?void 0:ll(gt,Ge,`${Je} has member 'pull' that`),start:Lt===void 0?void 0:Ar(Lt,Ge,`${Je} has member 'start' that`),type:_t===void 0?void 0:Sn(_t,`${Je} has member 'type' that`)}}(ee,"First parameter");if(co(this),Ve.type==="bytes"){if($e.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");(function(qe,Je,Ge){const Xe=Object.create(Se.prototype);let pt,gt,Lt;pt=Je.start!==void 0?()=>Je.start(Xe):()=>{},gt=Je.pull!==void 0?()=>Je.pull(Xe):()=>m(void 0),Lt=Je.cancel!==void 0?Ut=>Je.cancel(Ut):()=>m(void 0);const _t=Je.autoAllocateChunkSize;if(_t===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Hn(qe,Xe,pt,gt,Lt,Ge,_t)})(this,Ve,Bn($e,0))}else{const qe=gc($e);(function(Je,Ge,Xe,pt){const gt=Object.create(Fe.prototype);let Lt,_t,Ut;Lt=Ge.start!==void 0?()=>Ge.start(gt):()=>{},_t=Ge.pull!==void 0?()=>Ge.pull(gt):()=>m(void 0),Ut=Ge.cancel!==void 0?Sr=>Ge.cancel(Sr):()=>m(void 0),Wn(Je,gt,Lt,_t,Ut,Xe,pt)})(this,Ve,Bn($e,1),qe)}}get locked(){if(!mi(this))throw vi("locked");return gi(this)}cancel(ee=void 0){return mi(this)?gi(this)?g(new TypeError("Cannot cancel a stream that already has a reader")):$n(this,ee):g(vi("cancel"))}getReader(ee=void 0){if(!mi(this))throw vi("getReader");return function(me,$e){I(me,$e);const Ve=me==null?void 0:me.mode;return{mode:Ve===void 0?void 0:Qn(Ve,`${$e} has member 'mode' that`)}}(ee,"First parameter").mode===void 0?j(this):pn(this)}pipeThrough(ee,me={}){if(!mi(this))throw vi("pipeThrough");J(ee,1,"pipeThrough");const $e=function(qe,Je){I(qe,Je);const Ge=qe==null?void 0:qe.readable;Y(Ge,"readable","ReadableWritablePair"),R(Ge,`${Je} has member 'readable' that`);const Xe=qe==null?void 0:qe.writable;return Y(Xe,"writable","ReadableWritablePair"),Gl(Xe,`${Je} has member 'writable' that`),{readable:Ge,writable:Xe}}(ee,"First parameter"),Ve=Zl(me,"Second parameter");if(gi(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ba($e.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return S(_e(this,$e.writable,Ve.preventClose,Ve.preventAbort,Ve.preventCancel,Ve.signal)),$e.readable}pipeTo(ee,me={}){if(!mi(this))return g(vi("pipeTo"));if(ee===void 0)return g("Parameter 1 is required in 'pipeTo'.");if(!uo(ee))return g(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let $e;try{$e=Zl(me,"Second parameter")}catch(Ve){return g(Ve)}return gi(this)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ba(ee)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):_e(this,ee,$e.preventClose,$e.preventAbort,$e.preventCancel,$e.signal)}tee(){if(!mi(this))throw vi("tee");return W(ss(this))}values(ee=void 0){if(!mi(this))throw vi("values");return function(me,$e){const Ve=j(me),qe=new yt(Ve,$e),Je=Object.create(lt);return Je._asyncIteratorImpl=qe,Je}(this,function(me,$e){return I(me,$e),{preventCancel:!!(me==null?void 0:me.preventCancel)}}(ee,"First parameter").preventCancel)}[Re](ee){return this.values(ee)}static from(ee){return as(ee)}}function Pi(z,ee,me,$e=1,Ve=()=>1){const qe=Object.create(Gn.prototype);return co(qe),Wn(qe,Object.create(Fe.prototype),z,ee,me,$e,Ve),qe}function eu(z,ee,me){const $e=Object.create(Gn.prototype);return co($e),Hn($e,Object.create(Se.prototype),z,ee,me,0,void 0),$e}function co(z){z._state="readable",z._reader=void 0,z._storedError=void 0,z._disturbed=!1}function mi(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_readableStreamController")&&z instanceof Gn}function gi(z){return z._reader!==void 0}function $n(z,ee){if(z._disturbed=!0,z._state==="closed")return m(void 0);if(z._state==="errored")return g(z._storedError);ul(z);const me=z._reader;if(me!==void 0&&_n(me)){const $e=me._readIntoRequests;me._readIntoRequests=new A,$e.forEach(Ve=>{Ve._closeSteps(void 0)})}return y(z._readableStreamController[D](ee),n)}function ul(z){z._state="closed";const ee=z._reader;if(ee!==void 0&&(B(ee),ve(ee))){const me=ee._readRequests;ee._readRequests=new A,me.forEach($e=>{$e._closeSteps()})}}function ls(z,ee){z._state="errored",z._storedError=ee;const me=z._reader;me!==void 0&&(C(me,ee),ve(me)?Be(me,ee):va(me,ee))}function vi(z){return new TypeError(`ReadableStream.prototype.${z} can only be used on a ReadableStream`)}function Zg(z,ee){I(z,ee);const me=z==null?void 0:z.highWaterMark;return Y(me,"highWaterMark","QueuingStrategyInit"),{highWaterMark:se(me)}}Object.defineProperties(Gn,{from:{enumerable:!0}}),Object.defineProperties(Gn.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),s(Gn.from,"from"),s(Gn.prototype.cancel,"cancel"),s(Gn.prototype.getReader,"getReader"),s(Gn.prototype.pipeThrough,"pipeThrough"),s(Gn.prototype.pipeTo,"pipeTo"),s(Gn.prototype.tee,"tee"),s(Gn.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Gn.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(Gn.prototype,Re,{value:Gn.prototype.values,writable:!0,configurable:!0});const ev=z=>z.byteLength;s(ev,"size");class sd{constructor(ee){J(ee,1,"ByteLengthQueuingStrategy"),ee=Zg(ee,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=ee.highWaterMark}get highWaterMark(){if(!wc(this))throw Mr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!wc(this))throw Mr("size");return ev}}function Mr(z){return new TypeError(`ByteLengthQueuingStrategy.prototype.${z} can only be used on a ByteLengthQueuingStrategy`)}function wc(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_byteLengthQueuingStrategyHighWaterMark")&&z instanceof sd}Object.defineProperties(sd.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(sd.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const fo=()=>1;s(fo,"size");class Us{constructor(ee){J(ee,1,"CountQueuingStrategy"),ee=Zg(ee,"First parameter"),this._countQueuingStrategyHighWaterMark=ee.highWaterMark}get highWaterMark(){if(!rv(this))throw tv("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!rv(this))throw tv("size");return fo}}function tv(z){return new TypeError(`CountQueuingStrategy.prototype.${z} can only be used on a CountQueuingStrategy`)}function rv(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_countQueuingStrategyHighWaterMark")&&z instanceof Us}function nv(z,ee,me){return q(z,me),$e=>d(z,ee,[$e])}function cl(z,ee,me){return q(z,me),$e=>T(z,ee,[$e])}function rp(z,ee,me){return q(z,me),($e,Ve)=>d(z,ee,[$e,Ve])}function _a(z,ee,me){return q(z,me),$e=>d(z,ee,[$e])}Object.defineProperties(Us.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Us.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class bc{constructor(ee={},me={},$e={}){ee===void 0&&(ee=null);const Ve=ol(me,"Second parameter"),qe=ol($e,"Third parameter"),Je=function(_t,Ut){I(_t,Ut);const Sr=_t==null?void 0:_t.cancel,Rr=_t==null?void 0:_t.flush,Cn=_t==null?void 0:_t.readableType,Vr=_t==null?void 0:_t.start,on=_t==null?void 0:_t.transform,xr=_t==null?void 0:_t.writableType;return{cancel:Sr===void 0?void 0:_a(Sr,_t,`${Ut} has member 'cancel' that`),flush:Rr===void 0?void 0:nv(Rr,_t,`${Ut} has member 'flush' that`),readableType:Cn,start:Vr===void 0?void 0:cl(Vr,_t,`${Ut} has member 'start' that`),transform:on===void 0?void 0:rp(on,_t,`${Ut} has member 'transform' that`),writableType:xr}}(ee,"First parameter");if(Je.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Je.writableType!==void 0)throw new RangeError("Invalid writableType specified");const Ge=Bn(qe,0),Xe=gc(qe),pt=Bn(Ve,1),gt=gc(Ve);let Lt;(function(_t,Ut,Sr,Rr,Cn,Vr){function on(){return Ut}function xr(Ir){return function(rr,sn){const ur=rr._transformStreamController;return rr._backpressure?y(rr._backpressureChangePromise,()=>{const fn=rr._writable;if(fn._state==="erroring")throw fn._storedError;return ld(ur,sn)}):ld(ur,sn)}(_t,Ir)}function Ri(Ir){return function(rr,sn){const ur=rr._transformStreamController;if(ur._finishPromise!==void 0)return ur._finishPromise;const fn=rr._readable;ur._finishPromise=p((yi,QE)=>{ur._finishPromise_resolve=yi,ur._finishPromise_reject=QE});const ho=ur._cancelAlgorithm(sn);return iu(ur),v(ho,()=>(fn._state==="errored"?He(ur,fn._storedError):(Ht(fn._readableStreamController,sn),ke(ur)),null),yi=>(Ht(fn._readableStreamController,yi),He(ur,yi),null)),ur._finishPromise}(_t,Ir)}function tr(){return function(Ir){const rr=Ir._transformStreamController;if(rr._finishPromise!==void 0)return rr._finishPromise;const sn=Ir._readable;rr._finishPromise=p((fn,ho)=>{rr._finishPromise_resolve=fn,rr._finishPromise_reject=ho});const ur=rr._flushAlgorithm();return iu(rr),v(ur,()=>(sn._state==="errored"?He(rr,sn._storedError):(Qe(sn._readableStreamController),ke(rr)),null),fn=>(Ht(sn._readableStreamController,fn),He(rr,fn),null)),rr._finishPromise}(_t)}function mn(){return function(Ir){return ad(Ir,!1),Ir._backpressureChangePromise}(_t)}function Nr(Ir){return function(rr,sn){const ur=rr._transformStreamController;if(ur._finishPromise!==void 0)return ur._finishPromise;const fn=rr._writable;ur._finishPromise=p((yi,QE)=>{ur._finishPromise_resolve=yi,ur._finishPromise_reject=QE});const ho=ur._cancelAlgorithm(sn);return iu(ur),v(ho,()=>(fn._state==="errored"?He(ur,fn._storedError):(Ql(fn._writableStreamController,sn),Ec(rr),ke(ur)),null),yi=>(Ql(fn._writableStreamController,yi),Ec(rr),He(ur,yi),null)),ur._finishPromise}(_t,Ir)}_t._writable=function(Ir,rr,sn,ur,fn=1,ho=()=>1){const yi=Object.create(ya.prototype);return wa(yi),Qh(yi,Object.create(Jl.prototype),Ir,rr,sn,ur,fn,ho),yi}(on,xr,tr,Ri,Sr,Rr),_t._readable=Pi(on,mn,Nr,Cn,Vr),_t._backpressure=void 0,_t._backpressureChangePromise=void 0,_t._backpressureChangePromise_resolve=void 0,ad(_t,!0),_t._transformStreamController=void 0})(this,p(_t=>{Lt=_t}),pt,gt,Ge,Xe),function(_t,Ut){const Sr=Object.create(Lo.prototype);let Rr,Cn,Vr;Rr=Ut.transform!==void 0?on=>Ut.transform(on,Sr):on=>{try{return iv(Sr,on),m(void 0)}catch(xr){return g(xr)}},Cn=Ut.flush!==void 0?()=>Ut.flush(Sr):()=>m(void 0),Vr=Ut.cancel!==void 0?on=>Ut.cancel(on):()=>m(void 0),function(on,xr,Ri,tr,mn){xr._controlledTransformStream=on,on._transformStreamController=xr,xr._transformAlgorithm=Ri,xr._flushAlgorithm=tr,xr._cancelAlgorithm=mn,xr._finishPromise=void 0,xr._finishPromise_resolve=void 0,xr._finishPromise_reject=void 0}(_t,Sr,Rr,Cn,Vr)}(this,Je),Je.start!==void 0?Lt(Je.start(this._transformStreamController)):Lt(void 0)}get readable(){if(!tu(this))throw Ze("readable");return this._readable}get writable(){if(!tu(this))throw Ze("writable");return this._writable}}function tu(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_transformStreamController")&&z instanceof bc}function _c(z,ee){Ht(z._readable._readableStreamController,ee),ru(z,ee)}function ru(z,ee){iu(z._transformStreamController),Ql(z._writable._writableStreamController,ee),Ec(z)}function Ec(z){z._backpressure&&ad(z,!1)}function ad(z,ee){z._backpressureChangePromise!==void 0&&z._backpressureChangePromise_resolve(),z._backpressureChangePromise=p(me=>{z._backpressureChangePromise_resolve=me}),z._backpressure=ee}Object.defineProperties(bc.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(bc.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class Lo{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!nu(this))throw Sc("desiredSize");return gr(this._controlledTransformStream._readable._readableStreamController)}enqueue(ee=void 0){if(!nu(this))throw Sc("enqueue");iv(this,ee)}error(ee=void 0){if(!nu(this))throw Sc("error");var me;me=ee,_c(this._controlledTransformStream,me)}terminate(){if(!nu(this))throw Sc("terminate");(function(ee){const me=ee._controlledTransformStream;Qe(me._readable._readableStreamController);const $e=new TypeError("TransformStream terminated");ru(me,$e)})(this)}}function nu(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledTransformStream")&&z instanceof Lo}function iu(z){z._transformAlgorithm=void 0,z._flushAlgorithm=void 0,z._cancelAlgorithm=void 0}function iv(z,ee){const me=z._controlledTransformStream,$e=me._readable._readableStreamController;if(!Xt($e))throw new TypeError("Readable side is not in a state that permits enqueue");try{bt($e,ee)}catch(qe){throw ru(me,qe),me._readable._storedError}(function(qe){return!rt(qe)})($e)!==me._backpressure&&ad(me,!0)}function ld(z,ee){return y(z._transformAlgorithm(ee),void 0,me=>{throw _c(z._controlledTransformStream,me),me})}function Sc(z){return new TypeError(`TransformStreamDefaultController.prototype.${z} can only be used on a TransformStreamDefaultController`)}function ke(z){z._finishPromise_resolve!==void 0&&(z._finishPromise_resolve(),z._finishPromise_resolve=void 0,z._finishPromise_reject=void 0)}function He(z,ee){z._finishPromise_reject!==void 0&&(S(z._finishPromise),z._finishPromise_reject(ee),z._finishPromise_resolve=void 0,z._finishPromise_reject=void 0)}function Ze(z){return new TypeError(`TransformStream.prototype.${z} can only be used on a TransformStream`)}Object.defineProperties(Lo.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),s(Lo.prototype.enqueue,"enqueue"),s(Lo.prototype.error,"error"),s(Lo.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Lo.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),r.ByteLengthQueuingStrategy=sd,r.CountQueuingStrategy=Us,r.ReadableByteStreamController=Se,r.ReadableStream=Gn,r.ReadableStreamBYOBReader=jr,r.ReadableStreamBYOBRequest=At,r.ReadableStreamDefaultController=Fe,r.ReadableStreamDefaultReader=de,r.TransformStream=bc,r.TransformStreamDefaultController=Lo,r.WritableStream=ya,r.WritableStreamDefaultController=Jl,r.WritableStreamDefaultWriter=Fs})}}),oN=Oe({"../core/dist/protocol-helpers.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=(js(),Or(es)),r=iN(),n=Io(),{debug:i,warn:o}=(0,n.createLoggers)("core","protocol-helpers");function s(c){return class extends c{set nodeStream(p){this._nodeStream=p}get nodeStream(){if(!this._nodeStream)throw new Error("ManagedStream not correctly initialized nodeStream is undefined");return this._nodeStream}set wotStream(p){this._wotStream=p}get wotStream(){if(!this._wotStream)throw new Error("ManagedStream not correctly initialized wotStream is undefined");return this._wotStream}}}var a=s(t.Readable),l=s(r.ReadableStream);function u(c){return c instanceof l||c instanceof a}var f=class{static updatePropertyFormWithTemplate(c,p){for(const m of p.forms??[])if(m.href,m.contentType!=null){c.contentType=m.contentType;return}}static updateActionFormWithTemplate(c,p){for(const m of p.forms??[])if(m.href,m.contentType!=null){c.contentType=m.contentType;return}}static updateEventFormWithTemplate(c,p){for(const m of p.forms??[])if(m.href,m.contentType!=null){c.contentType=m.contentType;return}}static getPropertyContentType(c,p,m){var g;if(p!=null&&m!=null&&(c==null?void 0:c.properties)!=null&&c.properties[p]!=null&&c.properties[p].forms!=null&&Array.isArray(c.properties[p].forms)){for(const _ of c.properties[p].forms)if((g=_.href)!=null&&g.startsWith(m)&&_.contentType!=null)return _.contentType}}static getActionContentType(c,p,m){var g;if(p!=null&&m!=null&&(c!=null&&c.actions)&&c.actions!=null&&Array.isArray((g=c.actions[p])==null?void 0:g.forms)){for(const _ of c.actions[p].forms)if(_.href&&_.href.startsWith(m)&&_.contentType!=null)return _.contentType}}static getEventContentType(c,p,m){var g;if(p!=null&&m!=null&&(c!=null&&c.events)&&((g=c==null?void 0:c.events[p])==null?void 0:g.forms)!=null&&Array.isArray(c.events[p].forms)){for(const _ of c.events[p].forms)if(_.href&&_.href.startsWith(m)&&_.contentType!=null)return _.contentType}}static toWoTStream(c){if(u(c))return c.wotStream;const p=new l({start:m=>{c.on("data",g=>m.enqueue(g)),c.on("error",g=>m.error(g)),c.on("end",()=>m.close())},cancel:m=>{c instanceof t.Readable&&c.destroy(m)}});return c instanceof t.Readable?p.nodeStream=c:p.nodeStream=new t.Readable(c),p}static toNodeStream(c){if(u(c))return c.nodeStream;if(c instanceof t.Readable)return c;const p=c.getReader(),m=new a({read:g=>{p.read().then(_=>{m.push(_.value),_.done&&m.push(null)})},destroy:(g,_)=>{p.releaseLock(),c.cancel(g).then(()=>_(g))}});return m.wotStream=c,m.nodeStream=m,m}static readStreamFully(c){return new Promise((p,m)=>{if(c!=null){const g=[];c.on("data",_=>g.push(_)),c.on("error",m),c.on("end",()=>{g[0]!=null&&(g[0]instanceof Array||g[0]instanceof Yr||g[0]instanceof Uint8Array)?p(Yr.concat(g)):g[0]!=null&&typeof g[0]=="string"?p(Yr.from(g.join())):p(Yr.from(g))})}else i("Protocol-Helper returns empty buffer for readStreamFully due to undefined stream"),p(Yr.alloc(0))})}static findRequestMatchingFormIndex(c,p,m,g){if(c===void 0)return 0;let _=c.filter(v=>{const h=new URL(v.href.replace(/(\{[\S]*\})/,"")),E=m!==void 0?m.indexOf("?")!==-1?m.split("?")[0]:m:void 0;return h.protocol===p+":"&&(E===void 0||h.pathname===E)});if(g!=null){const v=_.filter(h=>h.contentType===g);v.length>0&&(_=v)}return _.length>0?c.indexOf(_[0]):0}static getFormIndexForOperation(c,p,m,g){var h;let _=-1,v=[];switch(p){case"property":if(c.readOnly===!0&&m==="writeproperty"||c.writeOnly===!0&&m==="readproperty")return _;c.readOnly!==!0&&v.push("writeproperty"),c.writeOnly!==!0&&v.push("readproperty");break;case"action":v=["invokeaction"];break;case"event":v=["subscribeevent","unsubscribeevent"];break}if(v.indexOf(m)!==-1&&(m=void 0),c.forms!==void 0&&g!==void 0&&c.forms.length>g){const E=c.forms[g];E!=null&&(m==null||((h=E.op)==null?void 0:h.includes(m))===!0)&&(_=g)}return c.forms!==void 0&&_===-1&&(m!==void 0?c.forms.every(E=>{var y;return((y=E.op)==null?void 0:y.includes(m))===!0&&(_=c.forms.indexOf(E)),_===-1}):c.forms.every(E=>(_=c.forms.indexOf(E),!1))),_}static getPropertyOpValues(c){const p=[];return c.readOnly!==!0&&p.push("writeproperty"),c.writeOnly!==!0&&p.push("readproperty"),p.length===0&&o("Property was declared both as readOnly and writeOnly."),c.observable===!0&&(p.push("observeproperty"),p.push("unobserveproperty")),p}};e.default=f}}),oq=Oe({"../core/dist/content.js"(e){Te();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultContent=e.Content=void 0;var r=nl(),n=t(oN()),i=class{constructor(s,a){this.type=s,this.body=a}toBuffer(){return n.default.readStreamFully(this.body)}};e.Content=i;var o=class extends i{constructor(s){super(r.ContentSerdes.DEFAULT,s)}};e.DefaultContent=o}}),qh=Oe({"../../node_modules/nofilter/lib/index.js"(e,t){Te();var r=(js(),Or(es)),{Buffer:n}=(ic(),Or(nc)),i=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}),o=class ww extends r.Transform{constructor(a,l,u={}){let f=null,c=null;switch(typeof a){case"object":n.isBuffer(a)?f=a:a&&(u=a);break;case"string":f=a;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof l){case"object":l&&(u=l);break;case"string":c=l;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!u||typeof u!="object")throw new TypeError("Invalid options");f==null&&(f=u.input),c==null&&(c=u.inputEncoding),delete u.input,delete u.inputEncoding;const p=u.watchPipe==null?!0:u.watchPipe;delete u.watchPipe;const m=!!u.readError;delete u.readError,super(u),this.readError=m,p&&this.on("pipe",g=>{const _=g._readableState.objectMode;if(this.length>0&&_!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=_,this._writableState.objectMode=_}),f!=null&&this.end(f,c)}static isNoFilter(a){return a instanceof this}static compare(a,l){if(!(a instanceof this))throw new TypeError("Arguments must be NoFilters");return a===l?0:a.compare(l)}static concat(a,l){if(!Array.isArray(a))throw new TypeError("list argument must be an Array of NoFilters");if(a.length===0||l===0)return n.alloc(0);l==null&&(l=a.reduce((p,m)=>{if(!(m instanceof ww))throw new TypeError("list argument must be an Array of NoFilters");return p+m.length},0));let u=!0,f=!0;const c=a.map(p=>{if(!(p instanceof ww))throw new TypeError("list argument must be an Array of NoFilters");const m=p.slice();return n.isBuffer(m)?f=!1:u=!1,m});if(u)return n.concat(c,l);if(f)return[].concat(...c).slice(0,l);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(a,l,u){!this._readableState.objectMode&&!n.isBuffer(a)&&(a=n.from(a,l)),this.push(a),u()}_bufArray(){let a=this._readableState.buffer;if(!Array.isArray(a)){let l=a.head;for(a=[];l!=null;)a.push(l.data),l=l.next}return a}read(a){const l=super.read(a);if(l!=null){if(this.emit("read",l),this.readError&&l.length<a)throw new Error(`Read ${l.length}, wanted ${a}`)}else if(this.readError)throw new Error(`No data available, wanted ${a}`);return l}readFull(a){let l=null,u=null,f=null;return new Promise((c,p)=>{if(this.length>=a){c(this.read(a));return}if(this.writableFinished){p(new Error(`Stream finished before ${a} bytes were available`));return}l=m=>{this.length>=a&&c(this.read(a))},u=()=>{p(new Error(`Stream finished before ${a} bytes were available`))},f=p,this.on("readable",l),this.on("error",f),this.on("finish",u)}).finally(()=>{l&&(this.removeListener("readable",l),this.removeListener("error",f),this.removeListener("finish",u))})}promise(a){let l=!1;return new Promise((u,f)=>{this.on("finish",()=>{const c=this.read();a!=null&&!l&&(l=!0,a(null,c)),u(c)}),this.on("error",c=>{a!=null&&!l&&(l=!0,a(c)),f(c)})})}compare(a){if(!(a instanceof ww))throw new TypeError("Arguments must be NoFilters");if(this===a)return 0;const l=this.slice(),u=a.slice();if(n.isBuffer(l)&&n.isBuffer(u))return l.compare(u);throw new Error("Cannot compare streams in object mode")}equals(a){return this.compare(a)===0}slice(a,l){if(this._readableState.objectMode)return this._bufArray().slice(a,l);const u=this._bufArray();switch(u.length){case 0:return n.alloc(0);case 1:return u[0].slice(a,l);default:return n.concat(u).slice(a,l)}}get(a){return this.slice()[a]}toJSON(){const a=this.slice();return n.isBuffer(a)?a.toJSON():a}toString(a,l,u){const f=this.slice(l,u);return n.isBuffer(f)?!a||a==="utf8"?i.decode(f):f.toString(a):JSON.stringify(f)}[Symbol.for("nodejs.util.inspect.custom")](a,l){const f=this._bufArray().map(c=>n.isBuffer(c)?l.stylize(c.toString("hex"),"string"):JSON.stringify(c)).join(", ");return`${this.constructor.name} [${f}]`}get length(){return this._readableState.length}writeBigInt(a){let l=a.toString(16);if(a<0){const u=BigInt(Math.floor(l.length/2));a=(BigInt(1)<<u*BigInt(8))+a,l=a.toString(16)}return l.length%2&&(l=`0${l}`),this.push(n.from(l,"hex"))}readUBigInt(a){const l=this.read(a);return n.isBuffer(l)?BigInt(`0x${l.toString("hex")}`):null}readBigInt(a){const l=this.read(a);if(!n.isBuffer(l))return null;let u=BigInt(`0x${l.toString("hex")}`);if(l[0]&128){const f=BigInt(1)<<BigInt(l.length)*BigInt(8);u-=f}return u}writeUInt8(a){const l=n.from([a]);return this.push(l)}writeUInt16LE(a){const l=n.alloc(2);return l.writeUInt16LE(a),this.push(l)}writeUInt16BE(a){const l=n.alloc(2);return l.writeUInt16BE(a),this.push(l)}writeUInt32LE(a){const l=n.alloc(4);return l.writeUInt32LE(a),this.push(l)}writeUInt32BE(a){const l=n.alloc(4);return l.writeUInt32BE(a),this.push(l)}writeInt8(a){const l=n.from([a]);return this.push(l)}writeInt16LE(a){const l=n.alloc(2);return l.writeUInt16LE(a),this.push(l)}writeInt16BE(a){const l=n.alloc(2);return l.writeUInt16BE(a),this.push(l)}writeInt32LE(a){const l=n.alloc(4);return l.writeUInt32LE(a),this.push(l)}writeInt32BE(a){const l=n.alloc(4);return l.writeUInt32BE(a),this.push(l)}writeFloatLE(a){const l=n.alloc(4);return l.writeFloatLE(a),this.push(l)}writeFloatBE(a){const l=n.alloc(4);return l.writeFloatBE(a),this.push(l)}writeDoubleLE(a){const l=n.alloc(8);return l.writeDoubleLE(a),this.push(l)}writeDoubleBE(a){const l=n.alloc(8);return l.writeDoubleBE(a),this.push(l)}writeBigInt64LE(a){const l=n.alloc(8);return l.writeBigInt64LE(a),this.push(l)}writeBigInt64BE(a){const l=n.alloc(8);return l.writeBigInt64BE(a),this.push(l)}writeBigUInt64LE(a){const l=n.alloc(8);return l.writeBigUInt64LE(a),this.push(l)}writeBigUInt64BE(a){const l=n.alloc(8);return l.writeBigUInt64BE(a),this.push(l)}readUInt8(){const a=this.read(1);return n.isBuffer(a)?a.readUInt8():null}readUInt16LE(){const a=this.read(2);return n.isBuffer(a)?a.readUInt16LE():null}readUInt16BE(){const a=this.read(2);return n.isBuffer(a)?a.readUInt16BE():null}readUInt32LE(){const a=this.read(4);return n.isBuffer(a)?a.readUInt32LE():null}readUInt32BE(){const a=this.read(4);return n.isBuffer(a)?a.readUInt32BE():null}readInt8(){const a=this.read(1);return n.isBuffer(a)?a.readInt8():null}readInt16LE(){const a=this.read(2);return n.isBuffer(a)?a.readInt16LE():null}readInt16BE(){const a=this.read(2);return n.isBuffer(a)?a.readInt16BE():null}readInt32LE(){const a=this.read(4);return n.isBuffer(a)?a.readInt32LE():null}readInt32BE(){const a=this.read(4);return n.isBuffer(a)?a.readInt32BE():null}readFloatLE(){const a=this.read(4);return n.isBuffer(a)?a.readFloatLE():null}readFloatBE(){const a=this.read(4);return n.isBuffer(a)?a.readFloatBE():null}readDoubleLE(){const a=this.read(8);return n.isBuffer(a)?a.readDoubleLE():null}readDoubleBE(){const a=this.read(8);return n.isBuffer(a)?a.readDoubleBE():null}readBigInt64LE(){const a=this.read(8);return n.isBuffer(a)?a.readBigInt64LE():null}readBigInt64BE(){const a=this.read(8);return n.isBuffer(a)?a.readBigInt64BE():null}readBigUInt64LE(){const a=this.read(8);return n.isBuffer(a)?a.readBigUInt64LE():null}readBigUInt64BE(){const a=this.read(8);return n.isBuffer(a)?a.readBigUInt64BE():null}};t.exports=o}}),lc=Oe({"../../node_modules/cbor/lib/constants.js"(e){Te(),e.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},e.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258},e.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},e.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},e.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")},e.SHIFT32=4294967296,e.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(e.SHIFT32)}}}),Ag=Oe({"../../node_modules/cbor/lib/utils.js"(e){Te();var{Buffer:t}=(ic(),Or(nc)),r=qh(),n=(js(),Or(es)),i=lc(),{NUMBYTES:o,SHIFT32:s,BI:a,SYMS:l}=i,u=2097151,f=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});e.utf8=m=>f.decode(m),e.utf8.checksUTF8=!0;function c(m){return m instanceof n.Readable?!0:["read","on","pipe"].every(g=>typeof m[g]=="function")}e.isBufferish=function(g){return g&&typeof g=="object"&&(t.isBuffer(g)||g instanceof Uint8Array||g instanceof Uint8ClampedArray||g instanceof ArrayBuffer||g instanceof DataView)},e.bufferishToBuffer=function(g){return t.isBuffer(g)?g:ArrayBuffer.isView(g)?t.from(g.buffer,g.byteOffset,g.byteLength):g instanceof ArrayBuffer?t.from(g):null},e.parseCBORint=function(g,_){switch(g){case o.ONE:return _.readUInt8(0);case o.TWO:return _.readUInt16BE(0);case o.FOUR:return _.readUInt32BE(0);case o.EIGHT:{const v=_.readUInt32BE(0),h=_.readUInt32BE(4);return v>u?BigInt(v)*a.SHIFT32+BigInt(h):v*s+h}default:throw new Error(`Invalid additional info for int: ${g}`)}},e.writeHalf=function(g,_){const v=t.allocUnsafe(4);v.writeFloatBE(_,0);const h=v.readUInt32BE(0);if(h&8191)return!1;let E=h>>16&32768;const y=h>>23&255,S=h&8388607;if(y>=113&&y<=142)E+=(y-112<<10)+(S>>13);else if(y>=103&&y<113){if(S&(1<<126-y)-1)return!1;E+=S+8388608>>126-y}else return!1;return g.writeUInt16BE(E),!0},e.parseHalf=function(g){const _=g[0]&128?-1:1,v=(g[0]&124)>>2,h=(g[0]&3)<<8|g[1];if(v){if(v===31)return _*(h?NaN:1/0)}else return _*5960464477539063e-23*h;return _*2**(v-25)*(1024+h)},e.parseCBORfloat=function(g){switch(g.length){case 2:return e.parseHalf(g);case 4:return g.readFloatBE(0);case 8:return g.readDoubleBE(0);default:throw new Error(`Invalid float size: ${g.length}`)}},e.hex=function(g){return t.from(g.replace(/^0x/,""),"hex")},e.bin=function(g){g=g.replace(/\s/g,"");let _=0,v=g.length%8||8;const h=[];for(;v<=g.length;)h.push(parseInt(g.slice(_,v),2)),_=v,v+=8;return t.from(h)},e.arrayEqual=function(g,_){return g==null&&_==null?!0:g==null||_==null?!1:g.length===_.length&&g.every((v,h)=>v===_[h])},e.bufferToBigInt=function(g){return BigInt(`0x${g.toString("hex")}`)},e.cborValueToString=function(g,_=-1){switch(typeof g){case"symbol":{switch(g){case l.NULL:return"null";case l.UNDEFINED:return"undefined";case l.BREAK:return"BREAK"}if(g.description)return g.description;const h=g.toString().match(/^Symbol\((?<name>.*)\)/);return h&&h.groups.name?h.groups.name:"Symbol"}case"string":return JSON.stringify(g);case"bigint":return g.toString();case"number":{const v=Object.is(g,-0)?"-0":String(g);return _>0?`${v}_${_}`:v}case"object":{const v=e.bufferishToBuffer(g);if(v){const h=v.toString("hex");return _===-1/0?h:`h'${h}'`}return typeof g[Symbol.for("nodejs.util.inspect.custom")]=="function"?g[Symbol.for("nodejs.util.inspect.custom")]():Array.isArray(g)?"[]":"{}"}}return String(g)},e.guessEncoding=function(g,_){if(typeof g=="string")return new r(g,_??"hex");const v=e.bufferishToBuffer(g);if(v)return new r(v);if(c(g))return g;throw new Error("Unknown input type")};var p={"=":"","+":"-","/":"_"};e.base64url=function(g){return e.bufferishToBuffer(g).toString("base64").replace(/[=+/]/g,_=>p[_])},e.base64=function(g){return e.bufferishToBuffer(g).toString("base64")},e.isBigEndian=function(){const g=new Uint8Array(4),_=new Uint32Array(g.buffer);return!((_[0]=1)&g[0])}}}),gte=Oe({"../../node_modules/cbor/vendor/binary-parse-stream/index.js"(e,t){Te();var r=(js(),Or(es)),n=qh(),i=class extends r.Transform{constructor(o){super(o),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new n,this.__restart()}_transform(o,s,a){for(this.bs.write(o);this.bs.length>=this.__needed;){let l=null;const u=this.__needed===null?void 0:this.bs.read(this.__needed);try{l=this.__parser.next(u)}catch(f){return a(f)}this.__needed&&(this.__fresh=!1),l.done?(this.push(l.value),this.__restart()):this.__needed=l.value||1/0}return a()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(o){o(this.__fresh?null:new Error("unexpected end of input"))}};t.exports=i}}),sq=Oe({"../../node_modules/cbor/lib/tagged.js"(e,t){Te();var r=lc(),n=Ag(),i=Symbol("INTERNAL_JSON");function o(_,v){if(n.isBufferish(_))_.toJSON=v;else if(Array.isArray(_))for(const h of _)o(h,v);else if(_&&typeof _=="object"&&(!(_ instanceof g)||_.tag<21||_.tag>23))for(const h of Object.values(_))o(h,v)}function s(){return n.base64(this)}function a(){return n.base64url(this)}function l(){return this.toString("hex")}function u(_,v,h,E){const y=new DataView(_),[S,$]={2:[y.getUint16,y.setUint16],4:[y.getUint32,y.setUint32],8:[y.getBigUint64,y.setBigUint64]}[v],T=h+E;for(let d=h;d<T;d+=v)$.call(y,d,S.call(y,d,!0))}var f={0:_=>new Date(_),1:_=>new Date(_*1e3),2:_=>n.bufferToBigInt(_),3:_=>r.BI.MINUS_ONE-n.bufferToBigInt(_),21:(_,v)=>(n.isBufferish(_)?v[i]=a:o(_,a),v),22:(_,v)=>(n.isBufferish(_)?v[i]=s:o(_,s),v),23:(_,v)=>(n.isBufferish(_)?v[i]=l:o(_,l),v),32:_=>new URL(_),33:(_,v)=>{if(!_.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");const h=_.length%4;if(h===1)throw new Error("Invalid base64url length");if(h===2){if("AQgw".indexOf(_[_.length-1])===-1)throw new Error("Invalid base64 padding")}else if(h===3&&"AEIMQUYcgkosw048".indexOf(_[_.length-1])===-1)throw new Error("Invalid base64 padding");return v},34:(_,v)=>{const h=_.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!h)throw new Error("Invalid base64 characters");if(_.length%4!==0)throw new Error("Invalid base64 length");if(h.groups.padding==="="){if("AQgw".indexOf(_[_.length-2])===-1)throw new Error("Invalid base64 padding")}else if(h.groups.padding==="=="&&"AEIMQUYcgkosw048".indexOf(_[_.length-3])===-1)throw new Error("Invalid base64 padding");return v},35:_=>new RegExp(_),258:_=>new Set(_)},c={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};typeof BigUint64Array<"u"&&(c[67]=BigUint64Array,c[71]=BigUint64Array),typeof BigInt64Array<"u"&&(c[75]=BigInt64Array,c[79]=BigInt64Array);function p(_,v){if(!n.isBufferish(_))throw new TypeError("val not a buffer");const{tag:h}=v,E=c[h];if(!E)throw new Error(`Invalid typed array tag: ${h}`);const y=h&4,$=2**(((h&16)>>4)+(h&3));!y!==n.isBigEndian()&&$>1&&u(_.buffer,$,_.byteOffset,_.byteLength);const T=_.buffer.slice(_.byteOffset,_.byteOffset+_.byteLength);return new E(T)}for(const _ of Object.keys(c))f[_]=p;var m={},g=class Xx{constructor(v,h,E){if(this.tag=v,this.value=h,this.err=E,typeof this.tag!="number")throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(this.tag|0)!==this.tag)throw new Error(`Tag must be a positive integer: ${this.tag}`)}toJSON(){if(this[i])return this[i].call(this.value);const v={tag:this.tag,value:this.value};return this.err&&(v.err=this.err),v}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(v){return v._pushTag(this.tag),v.pushAny(this.value)}convert(v){let h=v==null?void 0:v[this.tag];if(typeof h!="function"&&(h=Xx.TAGS[this.tag],typeof h!="function"))return this;try{return h.call(this,this.value,this)}catch(E){return E&&E.message&&E.message.length>0?this.err=E.message:this.err=E,this}}static get TAGS(){return m}static set TAGS(v){m=v}static reset(){Xx.TAGS={...f}}};g.INTERNAL_JSON=i,g.reset(),t.exports=g}}),aq=Oe({"../../node_modules/cbor/lib/simple.js"(e,t){Te();var{MT:r,SIMPLE:n,SYMS:i}=lc(),o=class Qx{constructor(a){if(typeof a!="number")throw new Error(`Invalid Simple type: ${typeof a}`);if(a<0||a>255||(a|0)!==a)throw new Error(`value must be a small positive integer: ${a}`);this.value=a}toString(){return`simple(${this.value})`}[Symbol.for("nodejs.util.inspect.custom")](a,l){return`simple(${this.value})`}encodeCBOR(a){return a._pushInt(this.value,r.SIMPLE_FLOAT)}static isSimple(a){return a instanceof Qx}static decode(a,l=!0,u=!1){switch(a){case n.FALSE:return!1;case n.TRUE:return!0;case n.NULL:return l?null:i.NULL;case n.UNDEFINED:return l?void 0:i.UNDEFINED;case-1:if(!l||!u)throw new Error("Invalid BREAK");return i.BREAK;default:return new Qx(a)}}};t.exports=o}}),iE=Oe({"../../node_modules/cbor/lib/decoder.js"(e,t){Te();var r=gte(),n=sq(),i=aq(),o=Ag(),s=qh();js(),Or(es);var a=lc(),{MT:l,NUMBYTES:u,SYMS:f,BI:c}=a,{Buffer:p}=(ic(),Or(nc)),m=Symbol("count"),g=Symbol("major type"),_=Symbol("error"),v=Symbol("not found");function h(T,d,A){const x=[];return x[m]=A,x[f.PARENT]=T,x[g]=d,x}function E(T,d){const A=new s;return A[m]=-1,A[f.PARENT]=T,A[g]=d,A}var y=class extends Error{constructor(T,d){super(`Unexpected data: 0x${T.toString(16)}`),this.name="UnexpectedDataError",this.byte=T,this.value=d}};function S(T,d){switch(typeof T){case"function":return{options:{},cb:T};case"string":return{options:{encoding:T},cb:d};case"object":return{options:T||{},cb:d};default:throw new TypeError("Unknown option type")}}var $=class Na extends r{constructor(d={}){const{tags:A={},max_depth:x=-1,preferWeb:O=!1,required:D=!1,encoding:F="hex",extendedResults:V=!1,preventDuplicateKeys:Q=!1,...H}=d;super({defaultEncoding:F,...H}),this.running=!0,this.max_depth=x,this.tags=A,this.preferWeb=O,this.extendedResults=V,this.required=D,this.preventDuplicateKeys=Q,V&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new s)}static nullcheck(d){switch(d){case f.NULL:return null;case f.UNDEFINED:return;case v:throw new Error("Value not found");default:return d}}static decodeFirstSync(d,A={}){if(d==null)throw new TypeError("input required");({options:A}=S(A));const{encoding:x="hex",...O}=A,D=new Na(O),F=o.guessEncoding(d,x),V=D._parse();let Q=V.next();for(;!Q.done;){const X=F.read(Q.value);if(X==null||X.length!==Q.value)throw new Error("Insufficient data");D.extendedResults&&D.valueBytes.write(X),Q=V.next(X)}let H=null;if(D.extendedResults)H=Q.value,H.unused=F.read();else if(H=Na.nullcheck(Q.value),F.length>0){const X=F.read(1);throw F.unshift(X),new y(X[0],H)}return H}static decodeAllSync(d,A={}){if(d==null)throw new TypeError("input required");({options:A}=S(A));const{encoding:x="hex",...O}=A,D=new Na(O),F=o.guessEncoding(d,x),V=[];for(;F.length>0;){const Q=D._parse();let H=Q.next();for(;!H.done;){const X=F.read(H.value);if(X==null||X.length!==H.value)throw new Error("Insufficient data");D.extendedResults&&D.valueBytes.write(X),H=Q.next(X)}V.push(Na.nullcheck(H.value))}return V}static decodeFirst(d,A={},x=null){if(d==null)throw new TypeError("input required");({options:A,cb:x}=S(A,x));const{encoding:O="hex",required:D=!1,...F}=A,V=new Na(F);let Q=v;const H=o.guessEncoding(d,O),X=new Promise((fe,Z)=>{V.on("data",ne=>{Q=Na.nullcheck(ne),V.close()}),V.once("error",ne=>V.extendedResults&&ne instanceof y?(Q.unused=V.bs.slice(),fe(Q)):(Q!==v&&(ne.value=Q),Q=_,V.close(),Z(ne))),V.once("end",()=>{switch(Q){case v:return D?Z(new Error("No CBOR found")):fe(Q);case _:return;default:return fe(Q)}})});return typeof x=="function"&&X.then(fe=>x(null,fe),x),H.pipe(V),X}static decodeAll(d,A={},x=null){if(d==null)throw new TypeError("input required");({options:A,cb:x}=S(A,x));const{encoding:O="hex",...D}=A,F=new Na(D),V=[];F.on("data",H=>V.push(Na.nullcheck(H)));const Q=new Promise((H,X)=>{F.on("error",X),F.on("end",()=>H(V))});return typeof x=="function"&&Q.then(H=>x(void 0,H),H=>x(H,void 0)),o.guessEncoding(d,O).pipe(F),Q}close(){this.running=!1,this.__fresh=!0}_onRead(d){this.valueBytes.write(d)}*_parse(){let d=null,A=0,x=null;for(;;){if(this.max_depth>=0&&A>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);const[O]=yield 1;if(!this.running)throw this.bs.unshift(p.from([O])),new y(O);const D=O>>5,F=O&31,V=d==null?void 0:d[g],Q=d==null?void 0:d.length;switch(F){case u.ONE:this.emit("more-bytes",D,1,V,Q),[x]=yield 1;break;case u.TWO:case u.FOUR:case u.EIGHT:{const X=1<<F-24;this.emit("more-bytes",D,X,V,Q);const fe=yield X;x=D===l.SIMPLE_FLOAT?fe:o.parseCBORint(F,fe);break}case 28:case 29:case 30:throw this.running=!1,new Error(`Additional info not implemented: ${F}`);case u.INDEFINITE:switch(D){case l.POS_INT:case l.NEG_INT:case l.TAG:throw new Error(`Invalid indefinite encoding for MT ${D}`)}x=-1;break;default:x=F}switch(D){case l.POS_INT:break;case l.NEG_INT:x===Number.MAX_SAFE_INTEGER?x=c.NEG_MAX:x=typeof x=="bigint"?c.MINUS_ONE-x:-1-x;break;case l.BYTE_STRING:case l.UTF8_STRING:switch(x){case 0:this.emit("start-string",D,x,V,Q),D===l.UTF8_STRING?x="":x=this.preferWeb?new Uint8Array(0):p.allocUnsafe(0);break;case-1:this.emit("start",D,f.STREAM,V,Q),d=E(d,D),A++;continue;default:this.emit("start-string",D,x,V,Q),x=yield x,D===l.UTF8_STRING?x=o.utf8(x):this.preferWeb&&(x=new Uint8Array(x.buffer,x.byteOffset,x.length))}break;case l.ARRAY:case l.MAP:switch(x){case 0:x=D===l.MAP?{}:[];break;case-1:this.emit("start",D,f.STREAM,V,Q),d=h(d,D,-1),A++;continue;default:this.emit("start",D,x,V,Q),d=h(d,D,x*(D-3)),A++;continue}break;case l.TAG:this.emit("start",D,x,V,Q),d=h(d,D,1),d.push(x),A++;continue;case l.SIMPLE_FLOAT:if(typeof x=="number"){if(F===u.ONE&&x<32)throw new Error(`Invalid two-byte encoding of simple value ${x}`);const X=d!=null;x=i.decode(x,X,X&&d[m]<0)}else x=o.parseCBORfloat(x)}this.emit("value",x,V,Q,F);let H=!1;for(;d!=null;){if(x===f.BREAK)d[m]=1;else if(Array.isArray(d))d.push(x);else{const fe=d[g];if(fe!=null&&fe!==D)throw this.running=!1,new Error("Invalid major type in indefinite encoding");d.write(x)}if(--d[m]!==0){H=!0;break}if(--A,delete d[m],Array.isArray(d))switch(d[g]){case l.ARRAY:x=d;break;case l.MAP:{let fe=!0;if(d.length%2!==0)throw new Error(`Invalid map length: ${d.length}`);for(let Z=0,ne=d.length;Z<ne;Z+=2)if(typeof d[Z]!="string"||d[Z]==="__proto__"){fe=!1;break}if(fe){x={};for(let Z=0,ne=d.length;Z<ne;Z+=2){if(this.preventDuplicateKeys&&Object.prototype.hasOwnProperty.call(x,d[Z]))throw new Error("Duplicate keys in a map");x[d[Z]]=d[Z+1]}}else{x=new Map;for(let Z=0,ne=d.length;Z<ne;Z+=2){if(this.preventDuplicateKeys&&x.has(d[Z]))throw new Error("Duplicate keys in a map");x.set(d[Z],d[Z+1])}}break}case l.TAG:{x=new n(d[0],d[1]).convert(this.tags);break}}else if(d instanceof s)switch(d[g]){case l.BYTE_STRING:x=d.slice(),this.preferWeb&&(x=new Uint8Array(x.buffer,x.byteOffset,x.length));break;case l.UTF8_STRING:x=d.toString("utf-8");break}this.emit("stop",d[g]);const X=d;d=d[f.PARENT],delete X[f.PARENT],delete X[g]}if(!H){if(this.extendedResults){const X=this.valueBytes.slice(),fe={value:Na.nullcheck(x),bytes:X,length:X.length};return this.valueBytes=new s,fe}return x}}}};$.NOT_FOUND=v,t.exports=$}}),vte=Oe({"../../node_modules/cbor/lib/commented.js"(e,t){Te();var r=(js(),Or(es)),n=Ag(),i=iE(),o=qh(),{MT:s,NUMBYTES:a,SYMS:l}=lc(),{Buffer:u}=(ic(),Or(nc));function f(m){return m>1?"s":""}function c(m,g){switch(typeof m){case"function":return{options:{},cb:m};case"string":return{options:{encoding:m},cb:g};case"number":return{options:{max_depth:m},cb:g};case"object":return{options:m||{},cb:g};default:throw new TypeError("Unknown option type")}}var p=class Zx extends r.Transform{constructor(g={}){const{depth:_=1,max_depth:v=10,no_summary:h=!1,tags:E={},preferWeb:y,encoding:S,...$}=g;super({...$,readableObjectMode:!1,writableObjectMode:!1}),this.depth=_,this.max_depth=v,this.all=new o,E[24]||(E[24]=this._tag_24.bind(this)),this.parser=new i({tags:E,max_depth:v,preferWeb:y,encoding:S}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),h||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(g){const _=new Zx({depth:this.depth+1,no_summary:!0});_.on("data",v=>this.push(v)),_.on("error",v=>this.emit("error",v)),_.end(g)}_transform(g,_,v){this.parser.write(g,_,v)}_flush(g){return this.parser._flush(g)}static comment(g,_={},v=null){if(g==null)throw new Error("input required");({options:_,cb:v}=c(_,v));const h=new o,{encoding:E="hex",...y}=_,S=new Zx(y);let $=null;return typeof v=="function"?(S.on("end",()=>{v(null,h.toString("utf8"))}),S.on("error",v)):$=new Promise((T,d)=>{S.on("end",()=>{T(h.toString("utf8"))}),S.on("error",d)}),S.pipe(h),n.guessEncoding(g,E).pipe(S),$}_on_error(g){this.push("ERROR: "),this.push(g.toString()),this.push(`
`)}_on_read(g){this.all.write(g);const _=g.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(_);let v=(this.max_depth-this.depth)*2-_.length;v<1&&(v=1),this.push(new Array(v+1).join(" ")),this.push("-- ")}_on_more(g,_,v,h){let E="";switch(this.depth++,g){case s.POS_INT:E="Positive number,";break;case s.NEG_INT:E="Negative number,";break;case s.ARRAY:E="Array, length";break;case s.MAP:E="Map, count";break;case s.BYTE_STRING:E="Bytes, length";break;case s.UTF8_STRING:E="String, length";break;case s.SIMPLE_FLOAT:_===1?E="Simple value,":E="Float,";break}this.push(`${E} next ${_} byte${f(_)}
`)}_on_start_string(g,_,v,h){let E="";switch(this.depth++,g){case s.BYTE_STRING:E=`Bytes, length: ${_}`;break;case s.UTF8_STRING:E=`String, length: ${_.toString()}`;break}this.push(`${E}
`)}_on_start(g,_,v,h){switch(this.depth++,v){case s.ARRAY:this.push(`[${h}], `);break;case s.MAP:h%2?this.push(`{Val:${Math.floor(h/2)}}, `):this.push(`{Key:${Math.floor(h/2)}}, `);break}switch(g){case s.TAG:this.push(`Tag #${_}`),_===24&&this.push(" Encoded CBOR data item");break;case s.ARRAY:_===l.STREAM?this.push("Array (streaming)"):this.push(`Array, ${_} item${f(_)}`);break;case s.MAP:_===l.STREAM?this.push("Map (streaming)"):this.push(`Map, ${_} pair${f(_)}`);break;case s.BYTE_STRING:this.push("Bytes (streaming)");break;case s.UTF8_STRING:this.push("String (streaming)");break}this.push(`
`)}_on_stop(g){this.depth--}_on_value(g,_,v,h){if(g!==l.BREAK)switch(_){case s.ARRAY:this.push(`[${v}], `);break;case s.MAP:v%2?this.push(`{Val:${Math.floor(v/2)}}, `):this.push(`{Key:${Math.floor(v/2)}}, `);break}const E=n.cborValueToString(g,-1/0);switch(typeof g=="string"||u.isBuffer(g)?(g.length>0&&(this.push(E),this.push(`
`)),this.depth--):(this.push(E),this.push(`
`)),h){case a.ONE:case a.TWO:case a.FOUR:case a.EIGHT:this.depth--}}_on_data(){this.push("0x"),this.push(this.all.read().toString("hex")),this.push(`
`)}};t.exports=p}}),yte=Oe({"../../node_modules/cbor/lib/diagnose.js"(e,t){Te();var r=(js(),Or(es)),n=iE(),i=Ag(),o=qh(),{MT:s,SYMS:a}=lc();function l(f,c){switch(typeof f){case"function":return{options:{},cb:f};case"string":return{options:{encoding:f},cb:c};case"object":return{options:f||{},cb:c};default:throw new TypeError("Unknown option type")}}var u=class lq extends r.Transform{constructor(c={}){const{separator:p=`
`,stream_errors:m=!1,tags:g,max_depth:_,preferWeb:v,encoding:h,...E}=c;super({...E,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=p,this.stream_errors=m,this.parser=new n({tags:g,max_depth:_,preferWeb:v,encoding:h}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(c,p,m){return this.parser.write(c,p,m)}_flush(c){return this.parser._flush(p=>this.stream_errors?(p&&this._on_error(p),c()):c(p))}static diagnose(c,p={},m=null){if(c==null)throw new TypeError("input required");({options:p,cb:m}=l(p,m));const{encoding:g="hex",..._}=p,v=new o,h=new lq(_);let E=null;return typeof m=="function"?(h.on("end",()=>m(null,v.toString("utf8"))),h.on("error",m)):E=new Promise((y,S)=>{h.on("end",()=>y(v.toString("utf8"))),h.on("error",S)}),h.pipe(v),i.guessEncoding(c,g).pipe(h),E}_on_error(c){this.stream_errors?this.push(c.toString()):this.emit("error",c)}_on_more(c,p,m,g){c===s.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[p])}_fore(c,p){switch(c){case s.BYTE_STRING:case s.UTF8_STRING:case s.ARRAY:p>0&&this.push(", ");break;case s.MAP:p>0&&(p%2?this.push(": "):this.push(", "))}}_on_value(c,p,m){if(c===a.BREAK)return;this._fore(p,m);const g=this.float_bytes;this.float_bytes=-1,this.push(i.cborValueToString(c,g))}_on_start(c,p,m,g){switch(this._fore(m,g),c){case s.TAG:this.push(`${p}(`);break;case s.ARRAY:this.push("[");break;case s.MAP:this.push("{");break;case s.BYTE_STRING:case s.UTF8_STRING:this.push("(");break}p===a.STREAM&&this.push("_ ")}_on_stop(c){switch(c){case s.TAG:this.push(")");break;case s.ARRAY:this.push("]");break;case s.MAP:this.push("}");break;case s.BYTE_STRING:case s.UTF8_STRING:this.push(")");break}}_on_data(){this.push(this.separator)}};t.exports=u}}),uq=Oe({"../../node_modules/cbor/lib/encoder.js"(e,t){Te();var r=(js(),Or(es)),n=qh(),i=Ag(),o=lc(),{MT:s,NUMBYTES:a,SHIFT32:l,SIMPLE:u,SYMS:f,TAG:c,BI:p}=o,{Buffer:m}=(ic(),Or(nc)),g=s.SIMPLE_FLOAT<<5|a.TWO,_=s.SIMPLE_FLOAT<<5|a.FOUR,v=s.SIMPLE_FLOAT<<5|a.EIGHT,h=s.SIMPLE_FLOAT<<5|u.TRUE,E=s.SIMPLE_FLOAT<<5|u.FALSE,y=s.SIMPLE_FLOAT<<5|u.UNDEFINED,S=s.SIMPLE_FLOAT<<5|u.NULL,$=m.from([255]),T=m.from("f97e00","hex"),d=m.from("f9fc00","hex"),A=m.from("f97c00","hex"),x=m.from("f98000","hex"),O={},D={};function F(Q){if(!Q)return"number";switch(Q.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${Q}"`)}var V=class _i extends r.Transform{constructor(H={}){const{canonical:X=!1,encodeUndefined:fe,disallowUndefinedKeys:Z=!1,dateType:ne="number",collapseBigIntegers:C=!1,detectLoops:B=!1,omitUndefinedProperties:K=!1,genTypes:P=[],...I}=H;if(super({...I,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=X,this.encodeUndefined=fe,this.disallowUndefinedKeys=Z,this.dateType=F(ne),this.collapseBigIntegers=this.canonical?!0:C,this.detectLoops=void 0,typeof B=="boolean")B&&(this.detectLoops=new WeakSet);else if(B instanceof WeakSet)this.detectLoops=B;else throw new TypeError("detectLoops must be boolean or WeakSet");if(this.omitUndefinedProperties=K,this.semanticTypes={..._i.SEMANTIC_TYPES},Array.isArray(P))for(let q=0,ie=P.length;q<ie;q+=2)this.addSemanticType(P[q],P[q+1]);else for(const[q,ie]of Object.entries(P))this.addSemanticType(q,ie)}_transform(H,X,fe){const Z=this.pushAny(H);return fe(Z===!1?new Error("Push Error"):void 0)}_flush(H){return H()}_pushUInt8(H){const X=m.allocUnsafe(1);return X.writeUInt8(H,0),this.push(X)}_pushUInt16BE(H){const X=m.allocUnsafe(2);return X.writeUInt16BE(H,0),this.push(X)}_pushUInt32BE(H){const X=m.allocUnsafe(4);return X.writeUInt32BE(H,0),this.push(X)}_pushFloatBE(H){const X=m.allocUnsafe(4);return X.writeFloatBE(H,0),this.push(X)}_pushDoubleBE(H){const X=m.allocUnsafe(8);return X.writeDoubleBE(H,0),this.push(X)}_pushNaN(){return this.push(T)}_pushInfinity(H){const X=H<0?d:A;return this.push(X)}_pushFloat(H){if(this.canonical){const X=m.allocUnsafe(2);if(i.writeHalf(X,H))return this._pushUInt8(g)&&this.push(X)}return Math.fround(H)===H?this._pushUInt8(_)&&this._pushFloatBE(H):this._pushUInt8(v)&&this._pushDoubleBE(H)}_pushInt(H,X,fe){const Z=X<<5;if(H<24)return this._pushUInt8(Z|H);if(H<=255)return this._pushUInt8(Z|a.ONE)&&this._pushUInt8(H);if(H<=65535)return this._pushUInt8(Z|a.TWO)&&this._pushUInt16BE(H);if(H<=4294967295)return this._pushUInt8(Z|a.FOUR)&&this._pushUInt32BE(H);let ne=Number.MAX_SAFE_INTEGER;return X===s.NEG_INT&&ne--,H<=ne?this._pushUInt8(Z|a.EIGHT)&&this._pushUInt32BE(Math.floor(H/l))&&this._pushUInt32BE(H%l):X===s.NEG_INT?this._pushFloat(fe):this._pushFloat(H)}_pushIntNum(H){return Object.is(H,-0)?this.push(x):H<0?this._pushInt(-H-1,s.NEG_INT,H):this._pushInt(H,s.POS_INT)}_pushNumber(H){return isNaN(H)?this._pushNaN():isFinite(H)?Math.round(H)===H?this._pushIntNum(H):this._pushFloat(H):this._pushInfinity(H)}_pushString(H){const X=m.byteLength(H,"utf8");return this._pushInt(X,s.UTF8_STRING)&&this.push(H,"utf8")}_pushBoolean(H){return this._pushUInt8(H?h:E)}_pushUndefined(H){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(y);case"function":return this.pushAny(this.encodeUndefined(H));case"object":{const X=i.bufferishToBuffer(this.encodeUndefined);if(X)return this.push(X)}}return this.pushAny(this.encodeUndefined)}_pushNull(H){return this._pushUInt8(S)}_pushTag(H){return this._pushInt(H,s.TAG)}_pushJSBigint(H){let X=s.POS_INT,fe=c.POS_BIGINT;if(H<0&&(H=-H+p.MINUS_ONE,X=s.NEG_INT,fe=c.NEG_BIGINT),this.collapseBigIntegers&&H<=p.MAXINT64)return H<=4294967295?this._pushInt(Number(H),X):this._pushUInt8(X<<5|a.EIGHT)&&this._pushUInt32BE(Number(H/p.SHIFT32))&&this._pushUInt32BE(Number(H%p.SHIFT32));let Z=H.toString(16);Z.length%2&&(Z=`0${Z}`);const ne=m.from(Z,"hex");return this._pushTag(fe)&&_i._pushBuffer(this,ne)}_pushObject(H,X){if(!H)return this._pushNull(H);if(X={indefinite:!1,skipTypes:!1,...X},!X.indefinite&&this.detectLoops){if(this.detectLoops.has(H))throw new Error(`Loop detected while CBOR encoding.
Call removeLoopDetectors before resuming.`);this.detectLoops.add(H)}if(!X.skipTypes){const C=H.encodeCBOR;if(typeof C=="function")return C.call(H,this);const B=this.semanticTypes[H.constructor.name];if(B)return B.call(H,this,H)}const fe=Object.keys(H).filter(C=>{const B=typeof H[C];return B!=="function"&&(!this.omitUndefinedProperties||B!=="undefined")}),Z={};if(this.canonical&&fe.sort((C,B)=>{const K=Z[C]||(Z[C]=_i.encode(C)),P=Z[B]||(Z[B]=_i.encode(B));return K.compare(P)}),X.indefinite){if(!this._pushUInt8(s.MAP<<5|a.INDEFINITE))return!1}else if(!this._pushInt(fe.length,s.MAP))return!1;let ne=null;for(let C=0,B=fe.length;C<B;C++){const K=fe[C];if(this.canonical&&(ne=Z[K])){if(!this.push(ne))return!1}else if(!this._pushString(K))return!1;if(!this.pushAny(H[K]))return!1}if(X.indefinite){if(!this.push($))return!1}else this.detectLoops&&this.detectLoops.delete(H);return!0}_encodeAll(H){const X=new n({highWaterMark:this.readableHighWaterMark});this.pipe(X);for(const fe of H)this.pushAny(fe);return this.end(),X.read()}addSemanticType(H,X){const fe=typeof H=="string"?H:H.name,Z=this.semanticTypes[fe];if(X){if(typeof X!="function")throw new TypeError("fun must be of type function");this.semanticTypes[fe]=X}else Z&&delete this.semanticTypes[fe];return Z}pushAny(H){switch(typeof H){case"number":return this._pushNumber(H);case"bigint":return this._pushJSBigint(H);case"string":return this._pushString(H);case"boolean":return this._pushBoolean(H);case"undefined":return this._pushUndefined(H);case"object":return this._pushObject(H);case"symbol":switch(H){case f.NULL:return this._pushNull(null);case f.UNDEFINED:return this._pushUndefined(void 0);default:throw new TypeError(`Unknown symbol: ${H.toString()}`)}default:throw new TypeError(`Unknown type: ${typeof H}, ${typeof H.toString=="function"?H.toString():""}`)}}static pushArray(H,X,fe){fe={indefinite:!1,...fe};const Z=X.length;if(fe.indefinite){if(!H._pushUInt8(s.ARRAY<<5|a.INDEFINITE))return!1}else if(!H._pushInt(Z,s.ARRAY))return!1;for(let ne=0;ne<Z;ne++)if(!H.pushAny(X[ne]))return!1;return!(fe.indefinite&&!H.push($))}removeLoopDetectors(){return this.detectLoops?(this.detectLoops=new WeakSet,!0):!1}static _pushDate(H,X){switch(H.dateType){case"string":return H._pushTag(c.DATE_STRING)&&H._pushString(X.toISOString());case"int":return H._pushTag(c.DATE_EPOCH)&&H._pushIntNum(Math.round(X.getTime()/1e3));case"float":return H._pushTag(c.DATE_EPOCH)&&H._pushFloat(X.getTime()/1e3);case"number":default:return H._pushTag(c.DATE_EPOCH)&&H.pushAny(X.getTime()/1e3)}}static _pushBuffer(H,X){return H._pushInt(X.length,s.BYTE_STRING)&&H.push(X)}static _pushNoFilter(H,X){return _i._pushBuffer(H,X.slice())}static _pushRegexp(H,X){return H._pushTag(c.REGEXP)&&H.pushAny(X.source)}static _pushSet(H,X){if(!H._pushTag(c.SET)||!H._pushInt(X.size,s.ARRAY))return!1;for(const fe of X)if(!H.pushAny(fe))return!1;return!0}static _pushURL(H,X){return H._pushTag(c.URI)&&H.pushAny(X.toString())}static _pushBoxed(H,X){return H.pushAny(X.valueOf())}static _pushMap(H,X,fe){fe={indefinite:!1,...fe};let Z=[...X.entries()];if(H.omitUndefinedProperties&&(Z=Z.filter(([ne,C])=>C!==void 0)),fe.indefinite){if(!H._pushUInt8(s.MAP<<5|a.INDEFINITE))return!1}else if(!H._pushInt(Z.length,s.MAP))return!1;if(H.canonical){const ne=new _i({genTypes:H.semanticTypes,canonical:H.canonical,detectLoops:!!H.detectLoops,dateType:H.dateType,disallowUndefinedKeys:H.disallowUndefinedKeys,collapseBigIntegers:H.collapseBigIntegers}),C=new n({highWaterMark:H.readableHighWaterMark});ne.pipe(C),Z.sort(([B],[K])=>{ne.pushAny(B);const P=C.read();ne.pushAny(K);const I=C.read();return P.compare(I)});for(const[B,K]of Z){if(H.disallowUndefinedKeys&&typeof B>"u")throw new Error("Invalid Map key: undefined");if(!(H.pushAny(B)&&H.pushAny(K)))return!1}}else for(const[ne,C]of Z){if(H.disallowUndefinedKeys&&typeof ne>"u")throw new Error("Invalid Map key: undefined");if(!(H.pushAny(ne)&&H.pushAny(C)))return!1}return!(fe.indefinite&&!H.push($))}static _pushTypedArray(H,X){let fe=64,Z=X.BYTES_PER_ELEMENT;const{name:ne}=X.constructor;return ne.startsWith("Float")?(fe|=16,Z/=2):ne.includes("U")||(fe|=8),(ne.includes("Clamped")||Z!==1&&!i.isBigEndian())&&(fe|=4),fe|={1:0,2:1,4:2,8:3}[Z],H._pushTag(fe)?_i._pushBuffer(H,m.from(X.buffer,X.byteOffset,X.byteLength)):!1}static _pushArrayBuffer(H,X){return _i._pushBuffer(H,m.from(X))}static encodeIndefinite(H,X,fe={}){if(X==null){if(this==null)throw new Error("No object to encode");X=this}const{chunkSize:Z=4096}=fe;let ne=!0;const C=typeof X;let B=null;if(C==="string"){ne=ne&&H._pushUInt8(s.UTF8_STRING<<5|a.INDEFINITE);let K=0;for(;K<X.length;){const P=K+Z;ne=ne&&H._pushString(X.slice(K,P)),K=P}ne=ne&&H.push($)}else if(B=i.bufferishToBuffer(X)){ne=ne&&H._pushUInt8(s.BYTE_STRING<<5|a.INDEFINITE);let K=0;for(;K<B.length;){const P=K+Z;ne=ne&&_i._pushBuffer(H,B.slice(K,P)),K=P}ne=ne&&H.push($)}else if(Array.isArray(X))ne=ne&&_i.pushArray(H,X,{indefinite:!0});else if(X instanceof Map)ne=ne&&_i._pushMap(H,X,{indefinite:!0});else{if(C!=="object")throw new Error("Invalid indefinite encoding");ne=ne&&H._pushObject(X,{indefinite:!0,skipTypes:!0})}return ne}static encode(...H){return new _i()._encodeAll(H)}static encodeCanonical(...H){return new _i({canonical:!0})._encodeAll(H)}static encodeOne(H,X){return new _i(X)._encodeAll([H])}static encodeAsync(H,X){return new Promise((fe,Z)=>{const ne=[],C=new _i(X);C.on("data",B=>ne.push(B)),C.on("error",Z),C.on("finish",()=>fe(m.concat(ne))),C.pushAny(H),C.end()})}static get SEMANTIC_TYPES(){return D}static set SEMANTIC_TYPES(H){D=H}static reset(){_i.SEMANTIC_TYPES={...O}}};Object.assign(O,{Array:V.pushArray,Date:V._pushDate,Buffer:V._pushBuffer,[m.name]:V._pushBuffer,Map:V._pushMap,NoFilter:V._pushNoFilter,[n.name]:V._pushNoFilter,RegExp:V._pushRegexp,Set:V._pushSet,ArrayBuffer:V._pushArrayBuffer,Uint8ClampedArray:V._pushTypedArray,Uint8Array:V._pushTypedArray,Uint16Array:V._pushTypedArray,Uint32Array:V._pushTypedArray,Int8Array:V._pushTypedArray,Int16Array:V._pushTypedArray,Int32Array:V._pushTypedArray,Float32Array:V._pushTypedArray,Float64Array:V._pushTypedArray,URL:V._pushURL,Boolean:V._pushBoxed,Number:V._pushBoxed,String:V._pushBoxed}),typeof BigUint64Array<"u"&&(O[BigUint64Array.name]=V._pushTypedArray),typeof BigInt64Array<"u"&&(O[BigInt64Array.name]=V._pushTypedArray),V.reset(),t.exports=V}}),wte=Oe({"../../node_modules/cbor/lib/map.js"(e,t){Te();var{Buffer:r}=(ic(),Or(nc)),n=uq(),i=iE(),{MT:o}=lc(),s=class wu extends Map{constructor(l){super(l)}static _encode(l){return n.encodeCanonical(l).toString("base64")}static _decode(l){return i.decodeFirstSync(l,"base64")}get(l){return super.get(wu._encode(l))}set(l,u){return super.set(wu._encode(l),u)}delete(l){return super.delete(wu._encode(l))}has(l){return super.has(wu._encode(l))}*keys(){for(const l of super.keys())yield wu._decode(l)}*entries(){for(const l of super.entries())yield[wu._decode(l[0]),l[1]]}[Symbol.iterator](){return this.entries()}forEach(l,u){if(typeof l!="function")throw new TypeError("Must be function");for(const f of super.entries())l.call(this,f[1],wu._decode(f[0]),this)}encodeCBOR(l){if(!l._pushInt(this.size,o.MAP))return!1;if(l.canonical){const u=Array.from(super.entries()).map(f=>[r.from(f[0],"base64"),f[1]]);u.sort((f,c)=>f[0].compare(c[0]));for(const f of u)if(!(l.push(f[0])&&l.pushAny(f[1])))return!1}else for(const u of super.entries())if(!(l.push(r.from(u[0],"base64"))&&l.pushAny(u[1])))return!1;return!0}};t.exports=s}}),bte=Oe({"../../node_modules/cbor/lib/cbor.js"(e){Te(),e.Commented=vte(),e.Diagnose=yte(),e.Decoder=iE(),e.Encoder=uq(),e.Simple=aq(),e.Tagged=sq(),e.Map=wte(),e.comment=e.Commented.comment,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.decodeAllSync=e.Decoder.decodeAllSync,e.decodeFirstSync=e.Decoder.decodeFirstSync,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.encodeCanonical=e.Encoder.encodeCanonical,e.encodeOne=e.Encoder.encodeOne,e.encodeAsync=e.Encoder.encodeAsync,e.decode=e.Decoder.decodeFirstSync,e.leveldb={decode:e.Decoder.decodeFirstSync,encode:e.Encoder.encode,buffer:!0,name:"cbor"},e.reset=function(){e.Encoder.reset(),e.Tagged.reset()}}}),cq=Oe({"../core/dist/codecs/cbor-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Io(),r=bte(),{debug:n}=(0,t.createLoggers)("core","cbor-codec"),i=class{constructor(o){this.subMediaType=o??"application/cbor"}getMediaType(){return this.subMediaType}bytesToValue(o,s,a){n(`CborCodec parsing '${o.toString()}'`);try{return(0,r.decode)(o)}catch(l){if(o.byteLength===0)return null;throw l}}valueToBytes(o,s,a){return n("CborCodec serializing",o),o===void 0?Yr.alloc(0):(0,r.encode)(o)}};e.default=i}}),fq=Oe({"../core/dist/codecs/json-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=nl(),r=Io(),{debug:n}=(0,r.createLoggers)("core","json-codec"),i=class{constructor(o){this.subMediaType=o??t.ContentSerdes.DEFAULT}getMediaType(){return this.subMediaType}bytesToValue(o,s,a){n(`JsonCodec parsing '${o.toString()}'`);let l;try{l=JSON.parse(o.toString())}catch(u){if(u instanceof SyntaxError)o.byteLength===0?l=void 0:l=o.toString();else throw u}return l}valueToBytes(o,s,a){n("JsonCodec serializing",o);let l="";return o!==void 0&&(l=JSON.stringify(o)),Yr.from(l)}};e.default=i}}),dq=Oe({"../core/dist/codecs/text-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Io(),{debug:r}=(0,t.createLoggers)("core","text-codec"),n=class{constructor(i){this.subMediaType=i??"text/plain"}getMediaType(){return this.subMediaType}bytesToValue(i,o,s){return r(`TextCodec parsing '${i.toString()}'`),i.toString(s==null?void 0:s.charset)}valueToBytes(i,o,s){r(`TextCodec serializing '${i}'`);let a="";i!==void 0&&(typeof i=="string"?a=i:a=JSON.stringify(i));let l;if(s&&s.charset)switch(s.charset){case"ascii":l="ascii";break;case"utf8":l="utf8";break;case"utf-8":l="utf-8";break;case"utf16le":l="utf16le";break;case"ucs2":l="ucs2";break;case"ucs-2":l="ucs-2";break;case"base64":l="base64";break;case"latin1":l="latin1";break;case"binary":l="binary";break;case"hex":l="hex";break}const u=Yr.alloc(a.length);return u.write(a,l),u}};e.default=n}}),hq=Oe({"../core/dist/codecs/base64-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(r){this.subMediaType=r}getMediaType(){return this.subMediaType}bytesToValue(r,n,i){return r.toString("ascii")}valueToBytes(r,n,i){let o="";return r!==void 0&&(o=JSON.stringify(r)),Yr.from(o,"base64")}};e.default=t}}),oE=Oe({"../../node_modules/@petamoriken/float16/lib/_util/messages.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t="This is not an object";e.THIS_IS_NOT_AN_OBJECT=t;var r="This is not a Float16Array object";e.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT=r;var n="This constructor is not a subclass of Float16Array";e.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY=n;var i="The constructor property value is not an object";e.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT=i;var o="Species constructor didn't return TypedArray object";e.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT=o;var s="Derived constructor created TypedArray object which was too small length";e.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH=s;var a="Attempting to access detached ArrayBuffer";e.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER=a;var l="Cannot convert undefined or null to object";e.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT=l;var u="Cannot mix BigInt and other types, use explicit conversions";e.CANNOT_MIX_BIGINT_AND_OTHER_TYPES=u;var f="@@iterator property is not callable";e.ITERATOR_PROPERTY_IS_NOT_CALLABLE=f;var c="Reduce of empty array with no initial value";e.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE=c;var p="The comparison function must be either a function or undefined";e.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED=p;var m="Offset is out of bounds";e.OFFSET_IS_OUT_OF_BOUNDS=m}}),Bf=Oe({"../../node_modules/@petamoriken/float16/lib/_util/primordials.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=oE();function r(qt){return(he,...ue)=>i(qt,he,ue)}function n(qt,he){return r(l(qt,he).get)}var{apply:i,construct:o,defineProperty:s,get:a,getOwnPropertyDescriptor:l,getPrototypeOf:u,has:f,ownKeys:c,set:p,setPrototypeOf:m}=Reflect;e.ReflectSetPrototypeOf=m,e.ReflectSet=p,e.ReflectOwnKeys=c,e.ReflectHas=f,e.ReflectGetPrototypeOf=u,e.ReflectGetOwnPropertyDescriptor=l,e.ReflectGet=a,e.ReflectDefineProperty=s,e.ReflectConstruct=o,e.ReflectApply=i;var g=Proxy;e.NativeProxy=g;var{EPSILON:_,MAX_SAFE_INTEGER:v,isFinite:h,isNaN:E}=Number;e.NumberIsNaN=E,e.NumberIsFinite=h,e.MAX_SAFE_INTEGER=v,e.EPSILON=_;var{iterator:y,species:S,toStringTag:$,for:T}=Symbol;e.SymbolFor=T,e.SymbolToStringTag=$,e.SymbolSpecies=S,e.SymbolIterator=y;var d=Object;e.NativeObject=d;var{create:A,defineProperty:x,freeze:O,is:D}=d;e.ObjectIs=D,e.ObjectFreeze=O,e.ObjectDefineProperty=x,e.ObjectCreate=A;var F=d.prototype,V=F.__lookupGetter__?r(F.__lookupGetter__):(qt,he)=>{if(qt==null)throw mr(t.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);let ue=d(qt);do{const we=l(ue,he);if(we!==void 0)return Q(we,"get")?we.get:void 0}while((ue=u(ue))!==null)};e.ObjectPrototype__lookupGetter__=V;var Q=d.hasOwn||r(F.hasOwnProperty);e.ObjectHasOwn=Q;var H=Array,X=H.isArray;e.ArrayIsArray=X;var fe=H.prototype,Z=r(fe.join);e.ArrayPrototypeJoin=Z;var ne=r(fe.push);e.ArrayPrototypePush=ne;var C=r(fe.toLocaleString);e.ArrayPrototypeToLocaleString=C;var B=fe[y];e.NativeArrayPrototypeSymbolIterator=B;var K=r(B);e.ArrayPrototypeSymbolIterator=K;var{abs:P,trunc:I}=Math;e.MathTrunc=I,e.MathAbs=P;var q=ArrayBuffer;e.NativeArrayBuffer=q;var ie=q.isView;e.ArrayBufferIsView=ie;var J=q.prototype,Y=r(J.slice);e.ArrayBufferPrototypeSlice=Y;var se=n(J,"byteLength");e.ArrayBufferPrototypeGetByteLength=se;var be=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;e.NativeSharedArrayBuffer=be;var Pe=be&&n(be.prototype,"byteLength");e.SharedArrayBufferPrototypeGetByteLength=Pe;var R=u(Uint8Array);e.TypedArray=R;var j=R.from,M=R.prototype;e.TypedArrayPrototype=M;var G=M[y];e.NativeTypedArrayPrototypeSymbolIterator=G;var oe=r(M.keys);e.TypedArrayPrototypeKeys=oe;var ce=r(M.values);e.TypedArrayPrototypeValues=ce;var de=r(M.entries);e.TypedArrayPrototypeEntries=de;var ve=r(M.set);e.TypedArrayPrototypeSet=ve;var Ie=r(M.reverse);e.TypedArrayPrototypeReverse=Ie;var Be=r(M.fill);e.TypedArrayPrototypeFill=Be;var De=r(M.copyWithin);e.TypedArrayPrototypeCopyWithin=De;var nt=r(M.sort);e.TypedArrayPrototypeSort=nt;var We=r(M.slice);e.TypedArrayPrototypeSlice=We;var Ue=r(M.subarray);e.TypedArrayPrototypeSubarray=Ue;var W=n(M,"buffer");e.TypedArrayPrototypeGetBuffer=W;var N=n(M,"byteOffset");e.TypedArrayPrototypeGetByteOffset=N;var L=n(M,"length");e.TypedArrayPrototypeGetLength=L;var re=n(M,$);e.TypedArrayPrototypeGetSymbolToStringTag=re;var ye=Uint8Array;e.NativeUint8Array=ye;var Ee=Uint16Array;e.NativeUint16Array=Ee;var je=(...qt)=>i(j,Ee,qt);e.Uint16ArrayFrom=je;var Re=Uint32Array;e.NativeUint32Array=Re;var Le=Float32Array;e.NativeFloat32Array=Le;var dt=u([][y]());e.ArrayIteratorPrototype=dt;var yt=r(dt.next);e.ArrayIteratorPrototypeNext=yt;var lt=r(function*(){}().next);e.GeneratorPrototypeNext=lt;var Ct=u(dt);e.IteratorPrototype=Ct;var Er=DataView.prototype,Pr=r(Er.getUint16);e.DataViewPrototypeGetUint16=Pr;var ir=r(Er.setUint16);e.DataViewPrototypeSetUint16=ir;var mr=TypeError;e.NativeTypeError=mr;var cn=RangeError;e.NativeRangeError=cn;var Vt=WeakSet;e.NativeWeakSet=Vt;var zt=Vt.prototype,At=r(zt.add);e.WeakSetPrototypeAdd=At;var Se=r(zt.has);e.WeakSetPrototypeHas=Se;var Ne=WeakMap;e.NativeWeakMap=Ne;var ht=Ne.prototype,Ye=r(ht.get);e.WeakMapPrototypeGet=Ye;var it=r(ht.has);e.WeakMapPrototypeHas=it;var Pt=r(ht.set);e.WeakMapPrototypeSet=Pt}}),pq=Oe({"../../node_modules/@petamoriken/float16/lib/_util/arrayIterator.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.safeIfNeeded=i,e.wrap=a;var t=Bf(),r=new t.NativeWeakMap,n=(0,t.ObjectCreate)(null,{next:{value:function(){const u=(0,t.WeakMapPrototypeGet)(r,this);return(0,t.ArrayIteratorPrototypeNext)(u)}},[t.SymbolIterator]:{value:function(){return this}}});function i(l){if(l[t.SymbolIterator]===t.NativeArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext)return l;const u=(0,t.ObjectCreate)(n);return(0,t.WeakMapPrototypeSet)(r,u,(0,t.ArrayPrototypeSymbolIterator)(l)),u}var o=new t.NativeWeakMap,s=(0,t.ObjectCreate)(t.IteratorPrototype,{next:{value:function(){const u=(0,t.WeakMapPrototypeGet)(o,this);return(0,t.GeneratorPrototypeNext)(u)},writable:!0,configurable:!0}});for(const l of(0,t.ReflectOwnKeys)(t.ArrayIteratorPrototype))l!=="next"&&(0,t.ObjectDefineProperty)(s,l,(0,t.ReflectGetOwnPropertyDescriptor)(t.ArrayIteratorPrototype,l));function a(l){const u=(0,t.ObjectCreate)(s);return(0,t.WeakMapPrototypeSet)(o,u,l),u}}}),sE=Oe({"../../node_modules/@petamoriken/float16/lib/_util/is.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.isAnyArrayBuffer=l,e.isCanonicalIntegerIndexString=c,e.isNativeBigIntTypedArray=o,e.isNativeTypedArray=i,e.isObject=r,e.isObjectLike=n,e.isOrdinaryArray=u,e.isOrdinaryNativeTypedArray=f,e.isSharedArrayBuffer=a;var t=Bf();function r(p){return p!==null&&typeof p=="object"||typeof p=="function"}function n(p){return p!==null&&typeof p=="object"}function i(p){return(0,t.TypedArrayPrototypeGetSymbolToStringTag)(p)!==void 0}function o(p){const m=(0,t.TypedArrayPrototypeGetSymbolToStringTag)(p);return m==="BigInt64Array"||m==="BigUint64Array"}function s(p){try{return(0,t.ArrayBufferPrototypeGetByteLength)(p),!0}catch{return!1}}function a(p){if(t.NativeSharedArrayBuffer===null)return!1;try{return(0,t.SharedArrayBufferPrototypeGetByteLength)(p),!0}catch{return!1}}function l(p){return s(p)||a(p)}function u(p){return(0,t.ArrayIsArray)(p)?p[t.SymbolIterator]===t.NativeArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext:!1}function f(p){return i(p)?p[t.SymbolIterator]===t.NativeTypedArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext:!1}function c(p){if(typeof p!="string")return!1;const m=+p;return p!==m+""||!(0,t.NumberIsFinite)(m)?!1:m===(0,t.MathTrunc)(m)}}}),_te=Oe({"../../node_modules/@petamoriken/float16/lib/_util/brand.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.hasFloat16ArrayBrand=o;var t=sE(),r=oE(),n=Bf(),i=(0,n.SymbolFor)("__Float16Array__");e.brand=i;function o(s){if(!(0,t.isObjectLike)(s))return!1;const a=(0,n.ReflectGetPrototypeOf)(s);if(!(0,t.isObjectLike)(a))return!1;const l=a.constructor;if(l===void 0)return!1;if(!(0,t.isObject)(l))throw(0,n.NativeTypeError)(r.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);return(0,n.ReflectHas)(l,i)}}}),sN=Oe({"../../node_modules/@petamoriken/float16/lib/_util/converter.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.convertToNumber=y,e.roundToFloat16=u,e.roundToFloat16Bits=_;var t=Bf(),r=1/t.EPSILON;function n(S){return S+r-r}var i=6103515625e-14,o=65504,s=.0009765625,a=s*i,l=s*r;function u(S){const $=+S;if(!(0,t.NumberIsFinite)($)||$===0)return $;const T=$>0?1:-1,d=(0,t.MathAbs)($);if(d<i)return T*n(d/a)*a;const A=(1+l)*d,x=A-(A-d);return x>o||(0,t.NumberIsNaN)(x)?T*(1/0):T*x}var f=new t.NativeArrayBuffer(4),c=new t.NativeFloat32Array(f),p=new t.NativeUint32Array(f),m=new t.NativeUint16Array(512),g=new t.NativeUint8Array(512);for(let S=0;S<256;++S){const $=S-127;$<-27?(m[S]=0,m[S|256]=32768,g[S]=24,g[S|256]=24):$<-14?(m[S]=1024>>-$-14,m[S|256]=1024>>-$-14|32768,g[S]=-$-1,g[S|256]=-$-1):$<=15?(m[S]=$+15<<10,m[S|256]=$+15<<10|32768,g[S]=13,g[S|256]=13):$<128?(m[S]=31744,m[S|256]=64512,g[S]=24,g[S|256]=24):(m[S]=31744,m[S|256]=64512,g[S]=13,g[S|256]=13)}function _(S){c[0]=u(S);const $=p[0],T=$>>23&511;return m[T]+(($&8388607)>>g[T])}var v=new t.NativeUint32Array(2048);for(let S=1;S<1024;++S){let $=S<<13,T=0;for(;!($&8388608);)$<<=1,T-=8388608;$&=-8388609,T+=947912704,v[S]=$|T}for(let S=1024;S<2048;++S)v[S]=939524096+(S-1024<<13);var h=new t.NativeUint32Array(64);for(let S=1;S<31;++S)h[S]=S<<23;h[31]=1199570944,h[32]=2147483648;for(let S=33;S<63;++S)h[S]=2147483648+(S-32<<23);h[63]=3347054592;var E=new t.NativeUint16Array(64);for(let S=1;S<64;++S)S!==32&&(E[S]=1024);function y(S){const $=S>>10;return p[0]=v[E[$]+(S&1023)]+h[$],c[0]}}}),Ete=Oe({"../../node_modules/@petamoriken/float16/lib/_util/spec.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.IsDetachedBuffer=a,e.SpeciesConstructor=s,e.ToIntegerOrInfinity=i,e.ToLength=o,e.defaultCompare=l;var t=sE(),r=oE(),n=Bf();function i(u){const f=+u;return(0,n.NumberIsNaN)(f)||f===0?0:(0,n.MathTrunc)(f)}function o(u){const f=i(u);return f<0?0:f<n.MAX_SAFE_INTEGER?f:n.MAX_SAFE_INTEGER}function s(u,f){if(!(0,t.isObject)(u))throw(0,n.NativeTypeError)(r.THIS_IS_NOT_AN_OBJECT);const c=u.constructor;if(c===void 0)return f;if(!(0,t.isObject)(c))throw(0,n.NativeTypeError)(r.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);const p=c[n.SymbolSpecies];return p??f}function a(u){if((0,t.isSharedArrayBuffer)(u))return!1;try{return(0,n.ArrayBufferPrototypeSlice)(u,0,0),!1}catch{}return!0}function l(u,f){const c=(0,n.NumberIsNaN)(u),p=(0,n.NumberIsNaN)(f);if(c&&p)return 0;if(c)return 1;if(p||u<f)return-1;if(u>f)return 1;if(u===0&&f===0){const m=(0,n.ObjectIs)(u,0),g=(0,n.ObjectIs)(f,0);if(!m&&g)return-1;if(m&&!g)return 1}return 0}}}),mq=Oe({"../../node_modules/@petamoriken/float16/lib/Float16Array.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.isFloat16Array=f;var t=pq(),r=_te(),n=sN(),i=sE(),o=oE(),s=Bf(),a=Ete(),l=2,u=new s.NativeWeakMap;function f(y){return(0,s.WeakMapPrototypeHas)(u,y)||!(0,s.ArrayBufferIsView)(y)&&(0,r.hasFloat16ArrayBrand)(y)}function c(y){if(!f(y))throw(0,s.NativeTypeError)(o.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT)}function p(y,S){const $=f(y),T=(0,i.isNativeTypedArray)(y);if(!$&&!T)throw(0,s.NativeTypeError)(o.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);if(typeof S=="number"){let d;if($){const A=m(y);d=(0,s.TypedArrayPrototypeGetLength)(A)}else d=(0,s.TypedArrayPrototypeGetLength)(y);if(d<S)throw(0,s.NativeTypeError)(o.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH)}if((0,i.isNativeBigIntTypedArray)(y))throw(0,s.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES)}function m(y){const S=(0,s.WeakMapPrototypeGet)(u,y);if(S!==void 0){const d=(0,s.TypedArrayPrototypeGetBuffer)(S);if((0,a.IsDetachedBuffer)(d))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);return S}const $=y.buffer;if((0,a.IsDetachedBuffer)($))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);const T=(0,s.ReflectConstruct)(h,[$,y.byteOffset,y.length],y.constructor);return(0,s.WeakMapPrototypeGet)(u,T)}function g(y){const S=(0,s.TypedArrayPrototypeGetLength)(y),$=[];for(let T=0;T<S;++T)$[T]=(0,n.convertToNumber)(y[T]);return $}var _=new s.NativeWeakSet;for(const y of(0,s.ReflectOwnKeys)(s.TypedArrayPrototype)){if(y===s.SymbolToStringTag)continue;const S=(0,s.ReflectGetOwnPropertyDescriptor)(s.TypedArrayPrototype,y);(0,s.ObjectHasOwn)(S,"get")&&typeof S.get=="function"&&(0,s.WeakSetPrototypeAdd)(_,S.get)}var v=(0,s.ObjectFreeze)({get(y,S,$){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,s.ObjectHasOwn)(y,S)?(0,n.convertToNumber)((0,s.ReflectGet)(y,S)):(0,s.WeakSetPrototypeHas)(_,(0,s.ObjectPrototype__lookupGetter__)(y,S))?(0,s.ReflectGet)(y,S):(0,s.ReflectGet)(y,S,$)},set(y,S,$,T){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,s.ObjectHasOwn)(y,S)?(0,s.ReflectSet)(y,S,(0,n.roundToFloat16Bits)($)):(0,s.ReflectSet)(y,S,$,T)},getOwnPropertyDescriptor(y,S){if((0,i.isCanonicalIntegerIndexString)(S)&&(0,s.ObjectHasOwn)(y,S)){const $=(0,s.ReflectGetOwnPropertyDescriptor)(y,S);return $.value=(0,n.convertToNumber)($.value),$}return(0,s.ReflectGetOwnPropertyDescriptor)(y,S)},defineProperty(y,S,$){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,s.ObjectHasOwn)(y,S)&&(0,s.ObjectHasOwn)($,"value")&&($.value=(0,n.roundToFloat16Bits)($.value)),(0,s.ReflectDefineProperty)(y,S,$)}}),h=class ai{constructor(S,$,T){let d;if(f(S))d=(0,s.ReflectConstruct)(s.NativeUint16Array,[m(S)],new.target);else if((0,i.isObject)(S)&&!(0,i.isAnyArrayBuffer)(S)){let x,O;if((0,i.isNativeTypedArray)(S)){x=S,O=(0,s.TypedArrayPrototypeGetLength)(S);const D=(0,s.TypedArrayPrototypeGetBuffer)(S);if((0,a.IsDetachedBuffer)(D))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);if((0,i.isNativeBigIntTypedArray)(S))throw(0,s.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);const F=new s.NativeArrayBuffer(O*l);d=(0,s.ReflectConstruct)(s.NativeUint16Array,[F],new.target)}else{const D=S[s.SymbolIterator];if(D!=null&&typeof D!="function")throw(0,s.NativeTypeError)(o.ITERATOR_PROPERTY_IS_NOT_CALLABLE);D!=null?(0,i.isOrdinaryArray)(S)?(x=S,O=S.length):(x=[...S],O=x.length):(x=S,O=(0,a.ToLength)(x.length)),d=(0,s.ReflectConstruct)(s.NativeUint16Array,[O],new.target)}for(let D=0;D<O;++D)d[D]=(0,n.roundToFloat16Bits)(x[D])}else d=(0,s.ReflectConstruct)(s.NativeUint16Array,arguments,new.target);const A=new s.NativeProxy(d,v);return(0,s.WeakMapPrototypeSet)(u,A,d),A}static from(S,...$){const T=this;if(!(0,s.ReflectHas)(T,r.brand))throw(0,s.NativeTypeError)(o.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);if(T===ai){if(f(S)&&$.length===0){const V=m(S),Q=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(V),(0,s.TypedArrayPrototypeGetByteOffset)(V),(0,s.TypedArrayPrototypeGetLength)(V));return new ai((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(Q)))}if($.length===0)return new ai((0,s.TypedArrayPrototypeGetBuffer)((0,s.Uint16ArrayFrom)(S,n.roundToFloat16Bits)));const D=$[0],F=$[1];return new ai((0,s.TypedArrayPrototypeGetBuffer)((0,s.Uint16ArrayFrom)(S,function(V,...Q){return(0,n.roundToFloat16Bits)((0,s.ReflectApply)(D,this,[V,...(0,t.safeIfNeeded)(Q)]))},F)))}let d,A;const x=S[s.SymbolIterator];if(x!=null&&typeof x!="function")throw(0,s.NativeTypeError)(o.ITERATOR_PROPERTY_IS_NOT_CALLABLE);if(x!=null)(0,i.isOrdinaryArray)(S)?(d=S,A=S.length):(0,i.isOrdinaryNativeTypedArray)(S)?(d=S,A=(0,s.TypedArrayPrototypeGetLength)(S)):(d=[...S],A=d.length);else{if(S==null)throw(0,s.NativeTypeError)(o.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);d=(0,s.NativeObject)(S),A=(0,a.ToLength)(d.length)}const O=new T(A);if($.length===0)for(let D=0;D<A;++D)O[D]=d[D];else{const D=$[0],F=$[1];for(let V=0;V<A;++V)O[V]=(0,s.ReflectApply)(D,F,[d[V],V])}return O}static of(...S){const $=this;if(!(0,s.ReflectHas)($,r.brand))throw(0,s.NativeTypeError)(o.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);const T=S.length;if($===ai){const A=new ai(T),x=m(A);for(let O=0;O<T;++O)x[O]=(0,n.roundToFloat16Bits)(S[O]);return A}const d=new $(T);for(let A=0;A<T;++A)d[A]=S[A];return d}keys(){c(this);const S=m(this);return(0,s.TypedArrayPrototypeKeys)(S)}values(){c(this);const S=m(this);return(0,t.wrap)(function*(){for(const $ of(0,s.TypedArrayPrototypeValues)(S))yield(0,n.convertToNumber)($)}())}entries(){c(this);const S=m(this);return(0,t.wrap)(function*(){for(const[$,T]of(0,s.TypedArrayPrototypeEntries)(S))yield[$,(0,n.convertToNumber)(T)]}())}at(S){c(this);const $=m(this),T=(0,s.TypedArrayPrototypeGetLength)($),d=(0,a.ToIntegerOrInfinity)(S),A=d>=0?d:T+d;if(!(A<0||A>=T))return(0,n.convertToNumber)($[A])}with(S,$){c(this);const T=m(this),d=(0,s.TypedArrayPrototypeGetLength)(T),A=(0,a.ToIntegerOrInfinity)(S),x=A>=0?A:d+A,O=+$;if(x<0||x>=d)throw(0,s.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);const D=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(T),(0,s.TypedArrayPrototypeGetByteOffset)(T),(0,s.TypedArrayPrototypeGetLength)(T)),F=new ai((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(D))),V=m(F);return V[x]=(0,n.roundToFloat16Bits)(O),F}map(S,...$){c(this);const T=m(this),d=(0,s.TypedArrayPrototypeGetLength)(T),A=$[0],x=(0,a.SpeciesConstructor)(T,ai);if(x===ai){const D=new ai(d),F=m(D);for(let V=0;V<d;++V){const Q=(0,n.convertToNumber)(T[V]);F[V]=(0,n.roundToFloat16Bits)((0,s.ReflectApply)(S,A,[Q,V,this]))}return D}const O=new x(d);p(O,d);for(let D=0;D<d;++D){const F=(0,n.convertToNumber)(T[D]);O[D]=(0,s.ReflectApply)(S,A,[F,D,this])}return O}filter(S,...$){c(this);const T=m(this),d=(0,s.TypedArrayPrototypeGetLength)(T),A=$[0],x=[];for(let F=0;F<d;++F){const V=(0,n.convertToNumber)(T[F]);(0,s.ReflectApply)(S,A,[V,F,this])&&(0,s.ArrayPrototypePush)(x,V)}const O=(0,a.SpeciesConstructor)(T,ai),D=new O(x);return p(D),D}reduce(S,...$){c(this);const T=m(this),d=(0,s.TypedArrayPrototypeGetLength)(T);if(d===0&&$.length===0)throw(0,s.NativeTypeError)(o.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let A,x;$.length===0?(A=(0,n.convertToNumber)(T[0]),x=1):(A=$[0],x=0);for(let O=x;O<d;++O)A=S(A,(0,n.convertToNumber)(T[O]),O,this);return A}reduceRight(S,...$){c(this);const T=m(this),d=(0,s.TypedArrayPrototypeGetLength)(T);if(d===0&&$.length===0)throw(0,s.NativeTypeError)(o.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let A,x;$.length===0?(A=(0,n.convertToNumber)(T[d-1]),x=d-2):(A=$[0],x=d-1);for(let O=x;O>=0;--O)A=S(A,(0,n.convertToNumber)(T[O]),O,this);return A}forEach(S,...$){c(this);const T=m(this),d=(0,s.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=0;x<d;++x)(0,s.ReflectApply)(S,A,[(0,n.convertToNumber)(T[x]),x,this])}find(S,...$){c(this);const T=m(this),d=(0,s.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=0;x<d;++x){const O=(0,n.convertToNumber)(T[x]);if((0,s.ReflectApply)(S,A,[O,x,this]))return O}}findIndex(S,...$){c(this);const T=m(this),d=(0,s.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=0;x<d;++x){const O=(0,n.convertToNumber)(T[x]);if((0,s.ReflectApply)(S,A,[O,x,this]))return x}return-1}findLast(S,...$){c(this);const T=m(this),d=(0,s.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=d-1;x>=0;--x){const O=(0,n.convertToNumber)(T[x]);if((0,s.ReflectApply)(S,A,[O,x,this]))return O}}findLastIndex(S,...$){c(this);const T=m(this),d=(0,s.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=d-1;x>=0;--x){const O=(0,n.convertToNumber)(T[x]);if((0,s.ReflectApply)(S,A,[O,x,this]))return x}return-1}every(S,...$){c(this);const T=m(this),d=(0,s.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=0;x<d;++x)if(!(0,s.ReflectApply)(S,A,[(0,n.convertToNumber)(T[x]),x,this]))return!1;return!0}some(S,...$){c(this);const T=m(this),d=(0,s.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=0;x<d;++x)if((0,s.ReflectApply)(S,A,[(0,n.convertToNumber)(T[x]),x,this]))return!0;return!1}set(S,...$){c(this);const T=m(this),d=(0,a.ToIntegerOrInfinity)($[0]);if(d<0)throw(0,s.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);if(S==null)throw(0,s.NativeTypeError)(o.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);if((0,i.isNativeBigIntTypedArray)(S))throw(0,s.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);if(f(S))return(0,s.TypedArrayPrototypeSet)(m(this),m(S),d);if((0,i.isNativeTypedArray)(S)){const D=(0,s.TypedArrayPrototypeGetBuffer)(S);if((0,a.IsDetachedBuffer)(D))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER)}const A=(0,s.TypedArrayPrototypeGetLength)(T),x=(0,s.NativeObject)(S),O=(0,a.ToLength)(x.length);if(d===1/0||O+d>A)throw(0,s.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);for(let D=0;D<O;++D)T[D+d]=(0,n.roundToFloat16Bits)(x[D])}reverse(){c(this);const S=m(this);return(0,s.TypedArrayPrototypeReverse)(S),this}toReversed(){c(this);const S=m(this),$=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(S),(0,s.TypedArrayPrototypeGetByteOffset)(S),(0,s.TypedArrayPrototypeGetLength)(S)),T=new ai((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)($))),d=m(T);return(0,s.TypedArrayPrototypeReverse)(d),T}fill(S,...$){c(this);const T=m(this);return(0,s.TypedArrayPrototypeFill)(T,(0,n.roundToFloat16Bits)(S),...(0,t.safeIfNeeded)($)),this}copyWithin(S,$,...T){c(this);const d=m(this);return(0,s.TypedArrayPrototypeCopyWithin)(d,S,$,...(0,t.safeIfNeeded)(T)),this}sort(S){c(this);const $=m(this),T=S!==void 0?S:a.defaultCompare;return(0,s.TypedArrayPrototypeSort)($,(d,A)=>T((0,n.convertToNumber)(d),(0,n.convertToNumber)(A))),this}toSorted(S){c(this);const $=m(this);if(S!==void 0&&typeof S!="function")throw new s.NativeTypeError(o.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED);const T=S!==void 0?S:a.defaultCompare,d=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)($),(0,s.TypedArrayPrototypeGetByteOffset)($),(0,s.TypedArrayPrototypeGetLength)($)),A=new ai((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(d))),x=m(A);return(0,s.TypedArrayPrototypeSort)(x,(O,D)=>T((0,n.convertToNumber)(O),(0,n.convertToNumber)(D))),A}slice(S,$){c(this);const T=m(this),d=(0,a.SpeciesConstructor)(T,ai);if(d===ai){const fe=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(T),(0,s.TypedArrayPrototypeGetByteOffset)(T),(0,s.TypedArrayPrototypeGetLength)(T));return new ai((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(fe,S,$)))}const A=(0,s.TypedArrayPrototypeGetLength)(T),x=(0,a.ToIntegerOrInfinity)(S),O=$===void 0?A:(0,a.ToIntegerOrInfinity)($);let D;x===-1/0?D=0:x<0?D=A+x>0?A+x:0:D=A<x?A:x;let F;O===-1/0?F=0:O<0?F=A+O>0?A+O:0:F=A<O?A:O;const V=F-D>0?F-D:0,Q=new d(V);if(p(Q,V),V===0)return Q;const H=(0,s.TypedArrayPrototypeGetBuffer)(T);if((0,a.IsDetachedBuffer)(H))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);let X=0;for(;D<F;)Q[X]=(0,n.convertToNumber)(T[D]),++D,++X;return Q}subarray(S,$){c(this);const T=m(this),d=(0,a.SpeciesConstructor)(T,ai),A=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(T),(0,s.TypedArrayPrototypeGetByteOffset)(T),(0,s.TypedArrayPrototypeGetLength)(T)),x=(0,s.TypedArrayPrototypeSubarray)(A,S,$),O=new d((0,s.TypedArrayPrototypeGetBuffer)(x),(0,s.TypedArrayPrototypeGetByteOffset)(x),(0,s.TypedArrayPrototypeGetLength)(x));return p(O),O}indexOf(S,...$){c(this);const T=m(this),d=(0,s.TypedArrayPrototypeGetLength)(T);let A=(0,a.ToIntegerOrInfinity)($[0]);if(A===1/0)return-1;A<0&&(A+=d,A<0&&(A=0));for(let x=A;x<d;++x)if((0,s.ObjectHasOwn)(T,x)&&(0,n.convertToNumber)(T[x])===S)return x;return-1}lastIndexOf(S,...$){c(this);const T=m(this),d=(0,s.TypedArrayPrototypeGetLength)(T);let A=$.length>=1?(0,a.ToIntegerOrInfinity)($[0]):d-1;if(A===-1/0)return-1;A>=0?A=A<d-1?A:d-1:A+=d;for(let x=A;x>=0;--x)if((0,s.ObjectHasOwn)(T,x)&&(0,n.convertToNumber)(T[x])===S)return x;return-1}includes(S,...$){c(this);const T=m(this),d=(0,s.TypedArrayPrototypeGetLength)(T);let A=(0,a.ToIntegerOrInfinity)($[0]);if(A===1/0)return!1;A<0&&(A+=d,A<0&&(A=0));const x=(0,s.NumberIsNaN)(S);for(let O=A;O<d;++O){const D=(0,n.convertToNumber)(T[O]);if(x&&(0,s.NumberIsNaN)(D)||D===S)return!0}return!1}join(S){c(this);const $=m(this),T=g($);return(0,s.ArrayPrototypeJoin)(T,S)}toLocaleString(...S){c(this);const $=m(this),T=g($);return(0,s.ArrayPrototypeToLocaleString)(T,...(0,t.safeIfNeeded)(S))}get[s.SymbolToStringTag](){if(f(this))return"Float16Array"}};e.Float16Array=h,(0,s.ObjectDefineProperty)(h,"BYTES_PER_ELEMENT",{value:l}),(0,s.ObjectDefineProperty)(h,r.brand,{}),(0,s.ReflectSetPrototypeOf)(h,s.TypedArray);var E=h.prototype;(0,s.ObjectDefineProperty)(E,"BYTES_PER_ELEMENT",{value:l}),(0,s.ObjectDefineProperty)(E,s.SymbolIterator,{value:E.values,writable:!0,configurable:!0}),(0,s.ReflectSetPrototypeOf)(E,s.TypedArrayPrototype)}}),Ste=Oe({"../../node_modules/@petamoriken/float16/lib/isTypedArray.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.isTypedArray=n;var t=mq(),r=sE();function n(i){return(0,r.isNativeTypedArray)(i)||(0,t.isFloat16Array)(i)}}}),$te=Oe({"../../node_modules/@petamoriken/float16/lib/DataView.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getFloat16=i,e.setFloat16=o;var t=pq(),r=sN(),n=Bf();function i(s,a,...l){return(0,r.convertToNumber)((0,n.DataViewPrototypeGetUint16)(s,a,...(0,t.safeIfNeeded)(l)))}function o(s,a,l,...u){return(0,n.DataViewPrototypeSetUint16)(s,a,(0,r.roundToFloat16Bits)(l),...(0,t.safeIfNeeded)(u))}}}),Tte=Oe({"../../node_modules/@petamoriken/float16/lib/f16round.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.f16round=r;var t=sN();function r(n){return(0,t.roundToFloat16)(n)}}}),Ate=Oe({"../../node_modules/@petamoriken/float16/lib/index.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mq();e.Float16Array=t.Float16Array,e.isFloat16Array=t.isFloat16Array;var r=Ste();e.isTypedArray=r.isTypedArray;var n=$te();e.getFloat16=n.getFloat16,e.setFloat16=n.setFloat16;var i=Tte();e.f16round=i.f16round,e.hfround=i.f16round}}),gq=Oe({"../core/dist/protocol-interfaces.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.Endianness=void 0;var t;(function(r){r.BIG_ENDIAN="BIG_ENDIAN",r.LITTLE_ENDIAN="LITTLE_ENDIAN",r.BIG_ENDIAN_BYTE_SWAP="BIG_ENDIAN_BYTE_SWAP",r.LITTLE_ENDIAN_BYTE_SWAP="LITTLE_ENDIAN_BYTE_SWAP"})(t||(e.Endianness=t={}))}}),vq=Oe({"../core/dist/codecs/octetstream-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ate(),r=Io(),n=gq(),{debug:i,warn:o}=(0,r.createLoggers)("core","octetstream-codec"),s=class{getMediaType(){return"application/octet-stream"}bytesToValue(a,l,u={}){var v,h;i("OctetstreamCodec parsing",a),i("Parameters",u);const f=u.length!=null?parseInt(u.length):(o("Missing 'length' parameter necessary for write. I'll do my best"),void 0);if(f!==void 0){if(isNaN(f)||f<0)throw new Error("'length' parameter must be a non-negative number");if(f!==a.length)throw new Error(`Lengths do not match, required: ${f} provided: ${a.length}`)}let c=!0;if(u.signed!==void 0){if(u.signed!=="true"&&u.signed!=="false")throw new Error("'signed' parameter must be 'true' or 'false'");c=u.signed==="true"}let p=(l==null?void 0:l["ex:bitLength"])!==void 0?parseInt(l["ex:bitLength"]):a.length*8;if(isNaN(p)||p<0)throw new Error("'ex:bitLength' must be a non-negative number");const m=(l==null?void 0:l["ex:bitOffset"])!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(m)||m<0)throw new Error("'ex:bitOffset' must be a non-negative number");const g=((v=u.byteSeq)==null?void 0:v.includes(n.Endianness.LITTLE_ENDIAN))!==!0;let _=l==null?void 0:l.type;if(!_)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(_.toLowerCase())){const E=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(_.toLowerCase());if(E){if(E[1]==="u"){if((u==null?void 0:u.signed)==="true")throw new Error("Type is unsigned but 'signed' is true");c=!1}if(_=E[2],parseInt(E[3])!==p)throw new Error(`Type is '${(E[1]??"")+E[2]+E[3]}' but 'ex:bitLength' is `+p)}}if(p>a.length*8-m)throw new Error(`'ex:bitLength' is ${p}, but buffer length at offset ${m} is ${a.length*8-m}`);switch(((h=u==null?void 0:u.byteSeq)==null?void 0:h.includes("BYTE_SWAP"))===!0&&a.length>1&&a.swap16(),m!==void 0&&p<a.length*8&&(a=this.readBits(a,m,p),p=a.length*8),_){case"boolean":return!a.every(E=>E===0);case"byte":case"short":case"int":case"integer":return this.integerToValue(a,{dataLength:p,bigEndian:g,signed:c});case"float":case"double":case"number":return this.numberToValue(a,{dataLength:p,bigEndian:g});case"string":return a.toString(u.charset);case"object":if(l===void 0||l.properties===void 0)throw new Error("Missing schema for object");return this.objectToValue(a,l,u);case"null":return null;case"array":default:throw new Error("Unable to handle dataType "+_)}}integerToValue(a,l){const{dataLength:u,bigEndian:f,signed:c}=l;switch(u){case 8:return c?a.readInt8(0):a.readUInt8(0);case 16:return f?c?a.readInt16BE(0):a.readUInt16BE(0):c?a.readInt16LE(0):a.readUInt16LE(0);case 32:return f?c?a.readInt32BE(0):a.readUInt32BE(0):c?a.readInt32LE(0):a.readUInt32LE(0);default:{const p=f?c?a.readIntBE(0,u/8):a.readUIntBE(0,u/8):c?a.readIntLE(0,u/8):a.readUIntLE(0,u/8);return Number.isSafeInteger(p)||o("Result is not a safe integer"),p}}}numberToValue(a,l){const{dataLength:u,bigEndian:f}=l;switch(u){case 16:return(0,t.getFloat16)(new DataView(a.buffer),a.byteOffset,!f);case 32:return f?a.readFloatBE(0):a.readFloatLE(0);case 64:return f?a.readDoubleBE(0):a.readDoubleLE(0);default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+u)}}objectToValue(a,l,u={}){if((l==null?void 0:l.type)!=="object")throw new Error("Schema must be of type 'object'");const f={},c=Object.getOwnPropertyNames(l.properties);for(const p of c){const m=l.properties[p],g=a.length.toString();f[p]=this.bytesToValue(a,m,{...u,length:g})}return f}valueToBytes(a,l,u={}){var v;i(`OctetstreamCodec serializing '${a}'`);const f=((v=u.byteSeq)==null?void 0:v.includes(n.Endianness.LITTLE_ENDIAN))!==!0;let c=!0;if(u.signed!==void 0){if(u.signed!=="true"&&u.signed!=="false")throw new Error("'signed' parameter must be 'true' or 'false'");c=u.signed==="true"}let p=u.length!=null?parseInt(u.length):(o("Missing 'length' parameter necessary for write. I'll do my best"),void 0);if(p!==void 0&&(isNaN(p)||p<0))throw new Error("'length' parameter must be a non-negative number");let m=(l==null?void 0:l["ex:bitLength"])!==void 0?parseInt(l["ex:bitLength"]):void 0;if(m!==void 0&&(isNaN(m)||m<0))throw new Error("'ex:bitLength' must be a non-negative number");const g=(l==null?void 0:l["ex:bitOffset"])!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(g)||g<0)throw new Error("'ex:bitOffset' must be a non-negative number");let _=(l==null?void 0:l.type)??void 0;if(a===void 0)throw new Error("Undefined value");if(_===void 0)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(_.toLowerCase())){const h=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(_.toLowerCase());if(h){if(h[1]==="u"){if((u==null?void 0:u.signed)==="true")throw new Error("Type is unsigned but 'signed' is true");c=!1}if(_=h[2],m!==void 0){if(parseInt(h[3])!==m)throw new Error(`Type is '${(h[1]??"")+h[2]+h[3]}' but 'ex:bitLength' is `+m)}else m=+h[3]}}if(p===void 0)m!==void 0&&(p=Math.ceil((g+m)/8)),o("Missing 'length' parameter necessary for write. I'll do my best");else if(m===void 0)m=p*8;else if(p*8<m+g)throw new Error("Length is too short for 'ex:bitLength' and 'ex:bitOffset'");switch(_){case"boolean":if(a===!0){const h=Yr.alloc(p??1,0);for(let E=g;E<g+(m??h.length*8);++E)h[Math.floor(E/8)]|=1<<7-E%8;return h}else return Yr.alloc(p??1,0);case"byte":case"short":case"int":case"integer":return this.valueToInteger(a,{bitLength:m,byteLength:p,bigEndian:f,offset:g,signed:c,byteSeq:u.byteSeq??""});case"float":case"number":return this.valueToNumber(a,{bitLength:m,byteLength:p,bigEndian:f,offset:g,byteSeq:u.byteSeq??""});case"string":return this.valueToString(a,{bitLength:m,byteLength:p,offset:g,charset:u.charset??"utf8"});case"object":if(l===void 0||l.properties===void 0)throw new Error("Missing schema for object");return a===null?Yr.alloc(0):this.valueToObject(a,l,u);case"array":case"undefined":throw new Error("Unable to handle dataType "+_);case"null":return Yr.alloc(0);default:throw new Error("Unable to handle dataType "+_)}}valueToInteger(a,l){const u=l.bitLength??32,f=l.offset??0,c=l.byteLength??Math.ceil((f+u)/8),{bigEndian:p,signed:m,byteSeq:g}=l;if(typeof a!="number")throw new Error("Value is not a number");Number.isSafeInteger(a)||o("Value is not a safe integer",a);const _=Math.pow(2,m?u-1:u)-1;if(m){if(a<-_-1||a>_)throw new Error("Integer overflow when representing "+a+" as a signed integer using "+u+" bit(s)")}else if(a<0||a>_)throw new Error("Integer overflow when representing "+a+" as an unsigned integer using "+u+" bit(s)");const v=Yr.alloc(c);if(f!==0)return this.writeBits(v,a,f,u,p),v;switch(g!=null&&g.includes("BYTE_SwAP")&&c>1&&v.swap16(),c){case 1:m?v.writeInt8(a,0):v.writeUInt8(a,0);break;case 2:p?m?v.writeInt16BE(a,0):v.writeUInt16BE(a,0):m?v.writeInt16LE(a,0):v.writeUInt16LE(a,0);break;case 4:p?m?v.writeInt32BE(a,0):v.writeUInt32BE(a,0):m?v.writeInt32LE(a,0):v.writeUInt32LE(a,0);break;default:m&&a<0&&(a+=1<<8*u);for(let h=0;h<c;++h){const E=a%256;a/=256,v.writeInt8(E,p?c-h-1:h)}}return v}valueToNumber(a,l){if(typeof a!="number")throw new Error("Value is not a number");const u=l.bitLength??(l.byteLength!==void 0?l.byteLength*8:32),f=l.offset??0,{bigEndian:c,byteSeq:p}=l,m=l.byteLength??Math.ceil((f+u)/8),g=Math.floor(f/8),_=Yr.alloc(m);if(f%8!==0)throw new Error("Offset must be a multiple of 8");switch(p&&m>1&&_.swap16(),u){case 16:(0,t.setFloat16)(new DataView(_.buffer),g,a,!c);break;case 32:c?_.writeFloatBE(a,g):_.writeFloatLE(a,0);break;case 64:c?_.writeDoubleBE(a,g):_.writeDoubleLE(a,0);break;default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+u)}return _}valueToString(a,l){if(typeof a!="string")throw new Error("Value is not a string");const u=l.offset??0,{charset:f}=l,c=String(a);if(!Yr.isEncoding(f))throw new Error("Invalid charset "+f);const p=Yr.from(c,f),m=l.bitLength??p.length*8;if(p.length>m)throw new Error(`String is ${p.length*8} bits long, but 'ex:bitLength' is ${m}`);const g=l.byteLength??Math.ceil((u+m)/8);if(u%8===0)return Yr.concat([Yr.alloc(g-m/8),p]);{const _=Yr.alloc(g);return this.copyBits(p,0,_,u,m),_}}valueToObject(a,l,u={},f){if(typeof a!="object"||a===null)throw new Error("Value is not an object");if(u.length===void 0)throw new Error("Missing 'length' parameter necessary for write");const c=parseInt(u.length),p=l["ex:bitOffset"]!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(p)||p<0)throw new Error("'ex:bitOffset' must be a non-negative number");if(p>c*8)throw new Error(`'ex:bitOffset' ${p} exceeds 'length' ${c}`);f=f??Yr.alloc(c);for(const[m,g]of Object.entries(l.properties)){if(Object.hasOwnProperty.call(a,m)===!1)throw new Error(`Missing property '${m}'`);const _=a[m],v=parseInt(g["ex:bitOffset"]),h=parseInt(g["ex:bitLength"]);let E;g.type==="object"?E=this.valueToObject(_,g,u,f):E=this.valueToBytes(_,g,u),this.copyBits(E,v,f,p+v,h)}return f}readBits(a,l,u){if(l<0)throw new Error("bitOffset must be >= 0");if(u<0)throw new Error("bitLength must be >= 0");if(l+u>a.length*8)throw new Error("bitOffset + bitLength must be <= buffer.length * 8");const f=Yr.alloc(Math.ceil(u/8));let c=Math.floor(l/8),p=l%8,m=a[c],g=0,_=0;for(let v=0;v<u;v++){const h=m>>7-p&1;g=g<<1|h,p++,p>7&&(c++,p=0,m=a[c]),(v+1===u%8||(v+1)%8===u%8||v===u-1)&&(f[_]=g,g=0,_++)}return f}writeBits(a,l,u,f,c){let p=Math.floor(u/8),m=u%8;for(let g=0;g<f;g++){const _=c?l>>f-1-g&1:l>>g&1;a[p]|=_<<(c?7-m:m),m++,m===8&&(m=0,p++)}}copyBits(a,l,u,f,c){if(l%8===0&&f%8===0&&c%8===0)a.copy(u,f/8,l/8,l+c/8);else{const p=this.readBits(a,l,c);if(p.length<=6)this.writeBits(u,p.readUIntBE(0,p.length),f,c,!0);else for(let m=0;m<p.length;m++){const g=p.readUInt8(m);this.writeBits(u,g,f+m*8,8,!0)}}}};e.default=s}}),nl=Oe({"../core/dist/content-serdes.js"(e){Te();var t=e&&e.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContentSerdes=void 0;var r=oq(),n=t(cq()),i=t(fq()),o=t(dq()),s=t(hq()),a=t(vq()),l=(js(),Or(es)),u=Co(),f=iN(),c=Io(),{debug:p,warn:m}=(0,c.createLoggers)("core","content-serdes"),g=class Uo{constructor(){this.codecs=new Map,this.offered=new Set}static get(){return this.instance==null&&(this.instance=new Uo,this.instance.addCodec(new i.default,!0),this.instance.addCodec(new i.default("application/senml+json")),this.instance.addCodec(new i.default("application/td+json")),this.instance.addCodec(new i.default("application/ld+json")),this.instance.addCodec(new n.default,!0),this.instance.addCodec(new o.default),this.instance.addCodec(new o.default("text/html")),this.instance.addCodec(new o.default("text/css")),this.instance.addCodec(new o.default("application/xml")),this.instance.addCodec(new o.default("application/xhtml+xml")),this.instance.addCodec(new o.default("image/svg+xml")),this.instance.addCodec(new s.default("image/png")),this.instance.addCodec(new s.default("image/gif")),this.instance.addCodec(new s.default("image/jpeg")),this.instance.addCodec(new a.default)),this.instance}static getMediaType(v){return v.split(";")[0].trim()}static getMediaTypeParameters(v){const h=v.split(";").slice(1),E={};return h.forEach(y=>{const S=y.indexOf("=");S>=0?E[y.substr(0,S).trim()]=y.substr(S+1).trim():E[y.trim()]=void 0}),E}addCodec(v,h=!1){Uo.get().codecs.set(v.getMediaType(),v),h&&Uo.get().offered.add(v.getMediaType())}getSupportedMediaTypes(){return Array.from(Uo.get().codecs.keys())}getOfferedMediaTypes(){return Array.from(Uo.get().offered)}isSupported(v){const h=Uo.getMediaType(v);return this.codecs.has(h)}contentToValue(v,h){if(v.type===void 0)if(v.body.byteLength>0)v.type=Uo.DEFAULT;else return;const E=Uo.getMediaType(v.type),y=Uo.getMediaTypeParameters(v.type);return this.codecs.has(E)?(p(`ContentSerdes deserializing from ${v.type}`),this.codecs.get(E).bytesToValue(v.body,h,y)):(m(`ContentSerdes passthrough due to unsupported media type '${E}'`),v.body.toString())}valueToContent(v,h,E=Uo.DEFAULT){if(v===void 0&&m("ContentSerdes valueToContent got no value"),v instanceof f.ReadableStream)return new r.Content(E,u.ProtocolHelpers.toNodeStream(v));let y;const S=Uo.getMediaType(E),$=Uo.getMediaTypeParameters(E),T=this.codecs.get(S);return T?(p(`ContentSerdes serializing to ${E}`),y=T.valueToBytes(v,h,$)):(m(`ContentSerdes passthrough due to unsupported serialization format '${E}'`),y=Yr.from(v===null?"":v.toString())),new r.Content(E,l.Readable.from([y]))}};e.ContentSerdes=g,g.DEFAULT="application/json",g.TD="application/td+json",g.JSON_LD="application/ld+json",e.default=g.get()}}),Ub=Oe({"../core/node_modules/ajv/dist/compile/codegen/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(h){if(super(),!e.IDENTIFIER.test(h))throw new Error("CodeGen: name must be a valid identifier");this.str=h}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(h){super(),this._items=typeof h=="string"?[h]:h}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const h=this._items[0];return h===""||h==='""'}get str(){var h;return(h=this._str)!==null&&h!==void 0?h:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var h;return(h=this._names)!==null&&h!==void 0?h:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(h,...E){const y=[h[0]];let S=0;for(;S<E.length;)a(y,E[S]),y.push(h[++S]);return new n(y)}e._=i;var o=new n("+");function s(h,...E){const y=[m(h[0])];let S=0;for(;S<E.length;)y.push(o),a(y,E[S]),y.push(o,m(h[++S]));return l(y),new n(y)}e.str=s;function a(h,E){E instanceof n?h.push(...E._items):E instanceof r?h.push(E):h.push(c(E))}e.addCodeArg=a;function l(h){let E=1;for(;E<h.length-1;){if(h[E]===o){const y=u(h[E-1],h[E+1]);if(y!==void 0){h.splice(E-1,3,y);continue}h[E++]="+"}E++}}function u(h,E){if(E==='""')return h;if(h==='""')return E;if(typeof h=="string")return E instanceof r||h[h.length-1]!=='"'?void 0:typeof E!="string"?`${h.slice(0,-1)}${E}"`:E[0]==='"'?h.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(h instanceof r))return`"${h}${E.slice(1)}`}function f(h,E){return E.emptyStr()?h:h.emptyStr()?E:s`${h}${E}`}e.strConcat=f;function c(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:m(Array.isArray(h)?h.join(","):h)}function p(h){return new n(m(h))}e.stringify=p;function m(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):i`[${h}]`}e.getProperty=g;function _(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(h){return new n(h.toString())}e.regexpCode=v}}),kD=Oe({"../core/node_modules/ajv/dist/compile/codegen/scope.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=Ub(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var s=(0,t._)`\n`,a=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?s:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:p}=c,m=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[p];if(g){const h=g.get(m);if(h)return h}else g=this._values[p]=new Map;g.set(m,c);const _=this._scope[p]||(this._scope[p]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:p,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let p=t.nil;for(const m in l){const g=l[m];if(!g)continue;const _=f[m]=f[m]||new Map;g.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let h=u(v);if(h){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${E} ${v} = ${h};${this.opts._n}`}else if(h=c==null?void 0:c(v))p=(0,t._)`${p}${h}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return p}};e.ValueScope=a}}),br=Oe({"../core/node_modules/ajv/dist/compile/codegen/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=Ub(),r=kD(),n=Ub();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=kD();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(P,I){return this}},s=class extends o{constructor(P,I,q){super(),this.varKind=P,this.name=I,this.rhs=q}render({es5:P,_n:I}){const q=P?r.varKinds.var:this.varKind,ie=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${ie};`+I}optimizeNames(P,I){if(P[this.name.str])return this.rhs&&(this.rhs=Q(this.rhs,P,I)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},a=class extends o{constructor(P,I,q){super(),this.lhs=P,this.rhs=I,this.sideEffects=q}render({_n:P}){return`${this.lhs} = ${this.rhs};`+P}optimizeNames(P,I){if(!(this.lhs instanceof t.Name&&!P[this.lhs.str]&&!this.sideEffects))return this.rhs=Q(this.rhs,P,I),this}get names(){const P=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(P,this.rhs)}},l=class extends a{constructor(P,I,q,ie){super(P,q,ie),this.op=I}render({_n:P}){return`${this.lhs} ${this.op}= ${this.rhs};`+P}},u=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`${this.label}:`+P}},f=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`break${this.label?` ${this.label}`:""};`+P}},c=class extends o{constructor(P){super(),this.error=P}render({_n:P}){return`throw ${this.error};`+P}get names(){return this.error.names}},p=class extends o{constructor(P){super(),this.code=P}render({_n:P}){return`${this.code};`+P}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(P,I){return this.code=Q(this.code,P,I),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},m=class extends o{constructor(P=[]){super(),this.nodes=P}render(P){return this.nodes.reduce((I,q)=>I+q.render(P),"")}optimizeNodes(){const{nodes:P}=this;let I=P.length;for(;I--;){const q=P[I].optimizeNodes();Array.isArray(q)?P.splice(I,1,...q):q?P[I]=q:P.splice(I,1)}return P.length>0?this:void 0}optimizeNames(P,I){const{nodes:q}=this;let ie=q.length;for(;ie--;){const J=q[ie];J.optimizeNames(P,I)||(H(P,J.names),q.splice(ie,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((P,I)=>F(P,I.names),{})}},g=class extends m{render(P){return"{"+P._n+super.render(P)+"}"+P._n}},_=class extends m{},v=class extends g{};v.kind="else";var h=class bw extends g{constructor(I,q){super(q),this.condition=I}render(I){let q=`if(${this.condition})`+super.render(I);return this.else&&(q+="else "+this.else.render(I)),q}optimizeNodes(){super.optimizeNodes();const I=this.condition;if(I===!0)return this.nodes;let q=this.else;if(q){const ie=q.optimizeNodes();q=this.else=Array.isArray(ie)?new v(ie):ie}if(q)return I===!1?q instanceof bw?q:q.nodes:this.nodes.length?this:new bw(X(I),q instanceof bw?[q]:q.nodes);if(!(I===!1||!this.nodes.length))return this}optimizeNames(I,q){var ie;if(this.else=(ie=this.else)===null||ie===void 0?void 0:ie.optimizeNames(I,q),!!(super.optimizeNames(I,q)||this.else))return this.condition=Q(this.condition,I,q),this}get names(){const I=super.names;return V(I,this.condition),this.else&&F(I,this.else.names),I}};h.kind="if";var E=class extends g{};E.kind="for";var y=class extends E{constructor(P){super(),this.iteration=P}render(P){return`for(${this.iteration})`+super.render(P)}optimizeNames(P,I){if(super.optimizeNames(P,I))return this.iteration=Q(this.iteration,P,I),this}get names(){return F(super.names,this.iteration.names)}},S=class extends E{constructor(P,I,q,ie){super(),this.varKind=P,this.name=I,this.from=q,this.to=ie}render(P){const I=P.es5?r.varKinds.var:this.varKind,{name:q,from:ie,to:J}=this;return`for(${I} ${q}=${ie}; ${q}<${J}; ${q}++)`+super.render(P)}get names(){const P=V(super.names,this.from);return V(P,this.to)}},$=class extends E{constructor(P,I,q,ie){super(),this.loop=P,this.varKind=I,this.name=q,this.iterable=ie}render(P){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(P)}optimizeNames(P,I){if(super.optimizeNames(P,I))return this.iterable=Q(this.iterable,P,I),this}get names(){return F(super.names,this.iterable.names)}},T=class extends g{constructor(P,I,q){super(),this.name=P,this.args=I,this.async=q}render(P){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(P)}};T.kind="func";var d=class extends m{render(P){return"return "+super.render(P)}};d.kind="return";var A=class extends g{render(P){let I="try"+super.render(P);return this.catch&&(I+=this.catch.render(P)),this.finally&&(I+=this.finally.render(P)),I}optimizeNodes(){var P,I;return super.optimizeNodes(),(P=this.catch)===null||P===void 0||P.optimizeNodes(),(I=this.finally)===null||I===void 0||I.optimizeNodes(),this}optimizeNames(P,I){var q,ie;return super.optimizeNames(P,I),(q=this.catch)===null||q===void 0||q.optimizeNames(P,I),(ie=this.finally)===null||ie===void 0||ie.optimizeNames(P,I),this}get names(){const P=super.names;return this.catch&&F(P,this.catch.names),this.finally&&F(P,this.finally.names),P}},x=class extends g{constructor(P){super(),this.error=P}render(P){return`catch(${this.error})`+super.render(P)}};x.kind="catch";var O=class extends g{render(P){return"finally"+super.render(P)}};O.kind="finally";var D=class{constructor(P,I={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...I,_n:I.lines?`
`:""},this._extScope=P,this._scope=new r.Scope({parent:P}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(P){return this._scope.name(P)}scopeName(P){return this._extScope.name(P)}scopeValue(P,I){const q=this._extScope.value(P,I);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(P,I){return this._extScope.getValue(P,I)}scopeRefs(P){return this._extScope.scopeRefs(P,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(P,I,q,ie){const J=this._scope.toName(I);return q!==void 0&&ie&&(this._constants[J.str]=q),this._leafNode(new s(P,J,q)),J}const(P,I,q){return this._def(r.varKinds.const,P,I,q)}let(P,I,q){return this._def(r.varKinds.let,P,I,q)}var(P,I,q){return this._def(r.varKinds.var,P,I,q)}assign(P,I,q){return this._leafNode(new a(P,I,q))}add(P,I){return this._leafNode(new l(P,e.operators.ADD,I))}code(P){return typeof P=="function"?P():P!==t.nil&&this._leafNode(new p(P)),this}object(...P){const I=["{"];for(const[q,ie]of P)I.length>1&&I.push(","),I.push(q),(q!==ie||this.opts.es5)&&(I.push(":"),(0,t.addCodeArg)(I,ie));return I.push("}"),new t._Code(I)}if(P,I,q){if(this._blockNode(new h(P)),I&&q)this.code(I).else().code(q).endIf();else if(I)this.code(I).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(P){return this._elseNode(new h(P))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(h,v)}_for(P,I){return this._blockNode(P),I&&this.code(I).endFor(),this}for(P,I){return this._for(new y(P),I)}forRange(P,I,q,ie,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(P);return this._for(new S(J,Y,I,q),()=>ie(Y))}forOf(P,I,q,ie=r.varKinds.const){const J=this._scope.toName(P);if(this.opts.es5){const Y=I instanceof t.Name?I:this.var("_arr",I);return this.forRange("_i",0,(0,t._)`${Y}.length`,se=>{this.var(J,(0,t._)`${Y}[${se}]`),q(J)})}return this._for(new $("of",ie,J,I),()=>q(J))}forIn(P,I,q,ie=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(P,(0,t._)`Object.keys(${I})`,q);const J=this._scope.toName(P);return this._for(new $("in",ie,J,I),()=>q(J))}endFor(){return this._endBlockNode(E)}label(P){return this._leafNode(new u(P))}break(P){return this._leafNode(new f(P))}return(P){const I=new d;if(this._blockNode(I),this.code(P),I.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(P,I,q){if(!I&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const ie=new A;if(this._blockNode(ie),this.code(P),I){const J=this.name("e");this._currNode=ie.catch=new x(J),I(J)}return q&&(this._currNode=ie.finally=new O,this.code(q)),this._endBlockNode(x,O)}throw(P){return this._leafNode(new c(P))}block(P,I){return this._blockStarts.push(this._nodes.length),P&&this.code(P).endBlock(I),this}endBlock(P){const I=this._blockStarts.pop();if(I===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-I;if(q<0||P!==void 0&&q!==P)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${P} expected`);return this._nodes.length=I,this}func(P,I=t.nil,q,ie){return this._blockNode(new T(P,I,q)),ie&&this.code(ie).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(P=1){for(;P-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(P){return this._currNode.nodes.push(P),this}_blockNode(P){this._currNode.nodes.push(P),this._nodes.push(P)}_endBlockNode(P,I){const q=this._currNode;if(q instanceof P||I&&q instanceof I)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${I?`${P.kind}/${I.kind}`:P.kind}"`)}_elseNode(P){const I=this._currNode;if(!(I instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=I.else=P,this}get _root(){return this._nodes[0]}get _currNode(){const P=this._nodes;return P[P.length-1]}set _currNode(P){const I=this._nodes;I[I.length-1]=P}};e.CodeGen=D;function F(P,I){for(const q in I)P[q]=(P[q]||0)+(I[q]||0);return P}function V(P,I){return I instanceof t._CodeOrName?F(P,I.names):P}function Q(P,I,q){if(P instanceof t.Name)return ie(P);if(!J(P))return P;return new t._Code(P._items.reduce((Y,se)=>(se instanceof t.Name&&(se=ie(se)),se instanceof t._Code?Y.push(...se._items):Y.push(se),Y),[]));function ie(Y){const se=q[Y.str];return se===void 0||I[Y.str]!==1?Y:(delete I[Y.str],se)}function J(Y){return Y instanceof t._Code&&Y._items.some(se=>se instanceof t.Name&&I[se.str]===1&&q[se.str]!==void 0)}}function H(P,I){for(const q in I)P[q]=(P[q]||0)-(I[q]||0)}function X(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${K(P)}`}e.not=X;var fe=B(e.operators.AND);function Z(...P){return P.reduce(fe)}e.and=Z;var ne=B(e.operators.OR);function C(...P){return P.reduce(ne)}e.or=C;function B(P){return(I,q)=>I===t.nil?q:q===t.nil?I:(0,t._)`${K(I)} ${P} ${K(q)}`}function K(P){return P instanceof t.Name?P:(0,t._)`(${P})`}}}),Ur=Oe({"../core/node_modules/ajv/dist/compile/util.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=br(),r=Ub();function n(T){const d={};for(const A of T)d[A]=!0;return d}e.toHash=n;function i(T,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(T,d),!s(d,T.self.RULES.all))}e.alwaysValidSchema=i;function o(T,d=T.schema){const{opts:A,self:x}=T;if(!A.strictSchema||typeof d=="boolean")return;const O=x.RULES.keywords;for(const D in d)O[D]||$(T,`unknown keyword: "${D}"`)}e.checkUnknownRules=o;function s(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(d[A])return!0;return!1}e.schemaHasRules=s;function a(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(A!=="$ref"&&d.all[A])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:T,schemaPath:d},A,x,O){if(!O){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${T}${d}${(0,t.getProperty)(x)}`}e.schemaRefOrVal=l;function u(T){return p(decodeURIComponent(T))}e.unescapeFragment=u;function f(T){return encodeURIComponent(c(T))}e.escapeFragment=f;function c(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function p(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=p;function m(T,d){if(Array.isArray(T))for(const A of T)d(A);else d(T)}e.eachItem=m;function g({mergeNames:T,mergeToName:d,mergeValues:A,resultToName:x}){return(O,D,F,V)=>{const Q=F===void 0?D:F instanceof t.Name?(D instanceof t.Name?T(O,D,F):d(O,D,F),F):D instanceof t.Name?(d(O,F,D),D):A(D,F);return V===t.Name&&!(Q instanceof t.Name)?x(O,Q):Q}}e.mergeEvaluated={props:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>{T.if((0,t._)`${d} === true`,()=>T.assign(A,!0),()=>T.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${d})`))}),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>{d===!0?T.assign(A,!0):(T.assign(A,(0,t._)`${A} || {}`),v(T,A,d))}),mergeValues:(T,d)=>T===!0?!0:{...T,...d},resultToName:_}),items:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>T.assign(A,(0,t._)`${d} === true ? true : ${A} > ${d} ? ${A} : ${d}`)),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>T.assign(A,d===!0?!0:(0,t._)`${A} > ${d} ? ${A} : ${d}`)),mergeValues:(T,d)=>T===!0?!0:Math.max(T,d),resultToName:(T,d)=>T.var("items",d)})};function _(T,d){if(d===!0)return T.var("props",!0);const A=T.var("props",(0,t._)`{}`);return d!==void 0&&v(T,A,d),A}e.evaluatedPropsToName=_;function v(T,d,A){Object.keys(A).forEach(x=>T.assign((0,t._)`${d}${(0,t.getProperty)(x)}`,!0))}e.setEvaluated=v;var h={};function E(T,d){return T.scopeValue("func",{ref:d,code:h[d.code]||(h[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(y=e.Type||(e.Type={}));function S(T,d,A){if(T instanceof t.Name){const x=d===y.Num;return A?x?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:x?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(T).toString():"/"+c(T)}e.getErrorPath=S;function $(T,d,A=T.opts.strictSchema){if(A){if(d=`strict mode: ${d}`,A===!0)throw new Error(d);T.self.logger.warn(d)}}e.checkStrictMode=$}}),uc=Oe({"../core/node_modules/ajv/dist/compile/names.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),aE=Oe({"../core/node_modules/ajv/dist/compile/errors.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=br(),r=Ur(),n=uc();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:h})=>h?(0,t.str)`"${v}" keyword must be ${h} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,h=e.keywordError,E,y){const{it:S}=v,{gen:$,compositeRule:T,allErrors:d}=S,A=c(v,h,E);y??(T||d)?l($,A):u(S,(0,t._)`[${A}]`)}e.reportError=i;function o(v,h=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:$,allErrors:T}=y,d=c(v,h,E);l(S,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function s(v,h){v.assign(n.default.errors,h),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(h,()=>v.assign((0,t._)`${n.default.vErrors}.length`,h),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:h,schemaValue:E,data:y,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${h}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,E),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=a;function l(v,h){const E=v.const("err",h);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,h){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${h})`):(E.assign((0,t._)`${y}.errors`,h),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,h,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:p(v,h,E)}function p(v,h,E={}){const{gen:y,it:S}=v,$=[m(S,E),g(v,E)];return _(v,h,$),y.object(...$)}function m({errorPath:v},{instancePath:h}){const E=h?(0,t.str)`${v}${(0,r.getErrorPath)(h,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:h}},{schemaPath:E,parentSchema:y}){let S=y?h:(0,t.str)`${h}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:h,message:E},y){const{keyword:S,data:$,schemaValue:T,it:d}=v,{opts:A,propertyName:x,topSchemaRef:O,schemaPath:D}=d;y.push([f.keyword,S],[f.params,typeof h=="function"?h(v):h||(0,t._)`{}`]),A.messages&&y.push([f.message,typeof E=="function"?E(v):E]),A.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${O}${D}`],[n.default.data,$]),x&&y.push([f.propertyName,x])}}}),xte=Oe({"../core/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=aE(),r=br(),n=uc(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?a(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function s(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),a(l)):f.var(u,!0)}e.boolOrEmptySchema=s;function a(l,u){const{gen:f,data:c}=l,p={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(p,i,void 0,u)}}}),yq=Oe({"../core/node_modules/ajv/dist/compile/rules.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),wq=Oe({"../core/node_modules/ajv/dist/compile/validate/applicability.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},s){const a=o.RULES.types[s];return a&&a!==!0&&r(i,a)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(s=>n(i,s))}e.shouldUseGroup=r;function n(i,o){var s;return i[o.keyword]!==void 0||((s=o.definition.implements)===null||s===void 0?void 0:s.some(a=>i[a]!==void 0))}e.shouldUseRule=n}}),zb=Oe({"../core/node_modules/ajv/dist/compile/validate/dataType.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=yq(),r=wq(),n=aE(),i=br(),o=Ur(),s;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(s=e.DataType||(e.DataType={}));function a(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=a;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:$,data:T,opts:d}=y,A=c(S,d.coerceTypes),x=S.length>0&&!(A.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(x){const O=_(S,T,d.strictNumbers,s.Wrong);$.if(O,()=>{A.length?p(y,S,A):h(y)})}return x}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter($=>f.has($)||S==="array"&&$==="array"):[]}function p(y,S,$){const{gen:T,data:d,opts:A}=y,x=T.let("dataType",(0,i._)`typeof ${d}`),O=T.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&T.if((0,i._)`${x} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>T.assign(d,(0,i._)`${d}[0]`).assign(x,(0,i._)`typeof ${d}`).if(_(S,d,A.strictNumbers),()=>T.assign(O,d))),T.if((0,i._)`${O} !== undefined`);for(const F of $)(f.has(F)||F==="array"&&A.coerceTypes==="array")&&D(F);T.else(),h(y),T.endIf(),T.if((0,i._)`${O} !== undefined`,()=>{T.assign(d,O),m(y,O)});function D(F){switch(F){case"string":T.elseIf((0,i._)`${x} == "number" || ${x} == "boolean"`).assign(O,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(O,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${x} == "boolean" || ${d} === null
              || (${x} == "string" && ${d} && ${d} == +${d})`).assign(O,(0,i._)`+${d}`);return;case"integer":T.elseIf((0,i._)`${x} === "boolean" || ${d} === null
              || (${x} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(O,(0,i._)`+${d}`);return;case"boolean":T.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(O,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(O,!0);return;case"null":T.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),T.assign(O,null);return;case"array":T.elseIf((0,i._)`${x} === "string" || ${x} === "number"
              || ${x} === "boolean" || ${d} === null`).assign(O,(0,i._)`[${d}]`)}}}function m({gen:y,parentData:S,parentDataProperty:$},T){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${$}]`,T))}function g(y,S,$,T=s.Correct){const d=T===s.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":A=(0,i._)`Array.isArray(${S})`;break;case"object":A=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":A=x((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":A=x();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return T===s.Correct?A:(0,i.not)(A);function x(O=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,O,$?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=g;function _(y,S,$,T){if(y.length===1)return g(y[0],S,$,T);let d;const A=(0,o.toHash)(y);if(A.array&&A.object){const x=(0,i._)`typeof ${S} != "object"`;d=A.null?x:(0,i._)`!${S} || ${x}`,delete A.null,delete A.array,delete A.object}else d=i.nil;A.number&&delete A.integer;for(const x in A)d=(0,i.and)(d,g(x,S,$,T));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function h(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=h;function E(y){const{gen:S,data:$,schema:T}=y,d=(0,o.schemaRefOrVal)(y,T,"type");return{gen:S,keyword:"type",data:$,schema:T.type,schemaCode:d,schemaValue:d,parentSchema:T,params:{},it:y}}}}),Ote=Oe({"../core/node_modules/ajv/dist/compile/validate/defaults.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=br(),r=Ur();function n(o,s){const{properties:a,items:l}=o.schema;if(s==="object"&&a)for(const u in a)i(o,u,a[u].default);else s==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,s,a){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(a===void 0)return;const p=(0,t._)`${f}${(0,t.getProperty)(s)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${p}`);return}let m=(0,t._)`${p} === undefined`;c.useDefaults==="empty"&&(m=(0,t._)`${m} || ${p} === null || ${p} === ""`),l.if(m,(0,t._)`${p} = ${(0,t.stringify)(a)}`)}}}),ma=Oe({"../core/node_modules/ajv/dist/vocabularies/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=br(),r=Ur(),n=uc(),i=Ur();function o(y,S){const{gen:$,data:T,it:d}=y;$.if(c($,T,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function s({gen:y,data:S,it:{opts:$}},T,d){return(0,t.or)(...T.map(A=>(0,t.and)(c(y,S,A,$.ownProperties),(0,t._)`${d} = ${A}`)))}e.checkMissingProp=s;function a(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=a;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,$){return(0,t._)`${l(y)}.call(${S}, ${$})`}e.isOwnProperty=u;function f(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} !== undefined`;return T?(0,t._)`${d} && ${u(y,S,$)}`:d}e.propertyInData=f;function c(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} === undefined`;return T?(0,t.or)(d,(0,t.not)(u(y,S,$))):d}e.noPropertyInData=c;function p(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=p;function m(y,S){return p(S).filter($=>!(0,r.alwaysValidSchema)(y,S[$]))}e.schemaProperties=m;function g({schemaCode:y,data:S,it:{gen:$,topSchemaRef:T,schemaPath:d,errorPath:A},it:x},O,D,F){const V=F?(0,t._)`${y}, ${S}, ${T}${d}`:S,Q=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,A)],[n.default.parentData,x.parentData],[n.default.parentDataProperty,x.parentDataProperty],[n.default.rootData,n.default.rootData]];x.opts.dynamicRef&&Q.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const H=(0,t._)`${V}, ${$.object(...Q)}`;return D!==t.nil?(0,t._)`${O}.call(${D}, ${H})`:(0,t._)`${O}(${H})`}e.callValidateCode=g;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},$){const T=S.unicodeRegExp?"u":"",{regExp:d}=S.code,A=d($,T);return y.scopeValue("pattern",{key:A.toString(),ref:A,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${$}, ${T})`})}e.usePattern=v;function h(y){const{gen:S,data:$,keyword:T,it:d}=y,A=S.name("valid");if(d.allErrors){const O=S.let("valid",!0);return x(()=>S.assign(O,!1)),O}return S.var(A,!0),x(()=>S.break()),A;function x(O){const D=S.const("len",(0,t._)`${$}.length`);S.forRange("i",0,D,F=>{y.subschema({keyword:T,dataProp:F,dataPropType:r.Type.Num},A),S.if((0,t.not)(A),O)})}}e.validateArray=h;function E(y){const{gen:S,schema:$,keyword:T,it:d}=y;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(D=>(0,r.alwaysValidSchema)(d,D))&&!d.opts.unevaluated)return;const x=S.let("valid",!1),O=S.name("_valid");S.block(()=>$.forEach((D,F)=>{const V=y.subschema({keyword:T,schemaProp:F,compositeRule:!0},O);S.assign(x,(0,t._)`${x} || ${O}`),y.mergeValidEvaluated(V,O)||S.if((0,t.not)(x))})),y.result(x,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),Pte=Oe({"../core/node_modules/ajv/dist/compile/validate/keyword.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=br(),r=uc(),n=ma(),i=aE();function o(m,g){const{gen:_,keyword:v,schema:h,parentSchema:E,it:y}=m,S=g.macro.call(y.self,h,E,y),$=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const T=_.name("valid");m.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:$,compositeRule:!0},T),m.pass(T,()=>m.error(!0))}e.macroKeywordCode=o;function s(m,g){var _;const{gen:v,keyword:h,schema:E,parentSchema:y,$data:S,it:$}=m;u($,g);const T=!S&&g.compile?g.compile.call($.self,E,y,$):g.validate,d=f(v,h,T),A=v.let("valid");m.block$data(A,x),m.ok((_=g.valid)!==null&&_!==void 0?_:A);function x(){if(g.errors===!1)F(),g.modifying&&a(m),V(()=>m.error());else{const Q=g.async?O():D();g.modifying&&a(m),V(()=>l(m,Q))}}function O(){const Q=v.let("ruleErrs",null);return v.try(()=>F((0,t._)`await `),H=>v.assign(A,!1).if((0,t._)`${H} instanceof ${$.ValidationError}`,()=>v.assign(Q,(0,t._)`${H}.errors`),()=>v.throw(H))),Q}function D(){const Q=(0,t._)`${d}.errors`;return v.assign(Q,null),F(t.nil),Q}function F(Q=g.async?(0,t._)`await `:t.nil){const H=$.opts.passContext?r.default.this:r.default.self,X=!("compile"in g&&!S||g.schema===!1);v.assign(A,(0,t._)`${Q}${(0,n.callValidateCode)(m,d,H,X)}`,g.modifying)}function V(Q){var H;v.if((0,t.not)((H=g.valid)!==null&&H!==void 0?H:A),Q)}}e.funcKeywordCode=s;function a(m){const{gen:g,data:_,it:v}=m;g.if(v.parentData,()=>g.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(m,g){const{gen:_}=m;_.if((0,t._)`Array.isArray(${g})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${g} : ${r.default.vErrors}.concat(${g})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(m)},()=>m.error())}function u({schemaEnv:m},g){if(g.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,g,_){if(_===void 0)throw new Error(`keyword "${g}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(m,g,_=!1){return!g.length||g.some(v=>v==="array"?Array.isArray(m):v==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==v||_&&typeof m>"u")}e.validSchemaType=c;function p({schema:m,opts:g,self:_,errSchemaPath:v},h,E){if(Array.isArray(h.keyword)?!h.keyword.includes(E):h.keyword!==E)throw new Error("ajv implementation error");const y=h.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(m,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(h.validateSchema&&!h.validateSchema(m[E])){const $=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(h.validateSchema.errors);if(g.validateSchema==="log")_.logger.error($);else throw new Error($)}}e.validateKeywordUsage=p}}),Rte=Oe({"../core/node_modules/ajv/dist/compile/validate/subschema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=br(),r=Ur();function n(s,{keyword:a,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:p}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const m=s.schema[a];return l===void 0?{schema:m,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${a}`}:{schema:m[l],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(l)}`,errSchemaPath:`${s.errSchemaPath}/${a}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:p,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(s,a,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:p}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=a;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:h}=a,E=m.let("data",(0,t._)`${a.data}${(0,t.getProperty)(l)}`,!0);g(E),s.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,h.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${l}`,s.dataPathArr=[...v,s.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);g(_),p!==void 0&&(s.propertyName=p)}c&&(s.dataTypes=c);function g(_){s.data=_,s.dataLevel=a.dataLevel+1,s.dataTypes=[],a.definedProperties=new Set,s.parentData=a.data,s.dataNames=[...a.dataNames,_]}}e.extendSubschemaData=i;function o(s,{jtdDiscriminator:a,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(s.compositeRule=u),f!==void 0&&(s.createErrors=f),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=a,s.jtdMetadata=l}e.extendSubschemaMode=o}}),Nte=Oe({"../core/node_modules/json-schema-traverse/index.js"(e,t){Te();var r=t.exports=function(o,s,a){typeof s=="function"&&(a=s,s={}),a=s.cb||a;var l=typeof a=="function"?a:a.pre||function(){},u=a.post||function(){};n(s,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,s,a,l,u,f,c,p,m,g){if(l&&typeof l=="object"&&!Array.isArray(l)){s(l,u,f,c,p,m,g);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var h=0;h<v.length;h++)n(o,s,a,v[h],u+"/"+_+"/"+h,f,u,_,l,h)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,s,a,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,s,a,v,u+"/"+_,f,u,_,l)}a(l,u,f,c,p,m,g)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),lE=Oe({"../core/node_modules/ajv/dist/compile/resolve.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=Ur(),r=Lh(),n=Nte(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,h=!0){return typeof v=="boolean"?!0:h===!0?!a(v):h?l(v)<=h:!1}e.inlineRef=o;var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(v){for(const h in v){if(s.has(h))return!0;const E=v[h];if(Array.isArray(E)&&E.some(a)||typeof E=="object"&&a(E))return!0}return!1}function l(v){let h=0;for(const E in v){if(E==="$ref")return 1/0;if(h++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>h+=l(y)),h===1/0))return 1/0}return h}function u(v,h="",E){E!==!1&&(h=p(h));const y=v.parse(h);return f(v,y)}e.getFullPath=u;function f(v,h){return v.serialize(h).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function p(v){return v?v.replace(c,""):""}e.normalizeId=p;function m(v,h,E){return E=p(E),v.resolve(h,E)}e.resolveUrl=m;var g=/^[a-z_][-a-z0-9._]*$/i;function _(v,h){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=p(v[E]||h),$={"":S},T=u(y,S,!1),d={},A=new Set;return n(v,{allKeys:!0},(D,F,V,Q)=>{if(Q===void 0)return;const H=T+F;let X=$[Q];typeof D[E]=="string"&&(X=fe.call(this,D[E])),Z.call(this,D.$anchor),Z.call(this,D.$dynamicAnchor),$[F]=X;function fe(ne){const C=this.opts.uriResolver.resolve;if(ne=p(X?C(X,ne):ne),A.has(ne))throw O(ne);A.add(ne);let B=this.refs[ne];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?x(D,B.schema,ne):ne!==p(H)&&(ne[0]==="#"?(x(D,d[ne],ne),d[ne]=D):this.refs[ne]=H),ne}function Z(ne){if(typeof ne=="string"){if(!g.test(ne))throw new Error(`invalid anchor "${ne}"`);fe.call(this,`#${ne}`)}}}),d;function x(D,F,V){if(F!==void 0&&!r(D,F))throw O(V)}function O(D){return new Error(`reference "${D}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),uE=Oe({"../core/node_modules/ajv/dist/compile/validate/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=xte(),r=zb(),n=wq(),i=zb(),o=Ote(),s=Pte(),a=Rte(),l=br(),u=uc(),f=lE(),c=Ur(),p=aE();function m(R){if(T(R)&&(A(R),$(R))){h(R);return}g(R,()=>(0,t.topBoolOrEmptySchema)(R))}e.validateFunctionCode=m;function g({gen:R,validateName:j,schema:M,schemaEnv:G,opts:oe},ce){oe.code.es5?R.func(j,(0,l._)`${u.default.data}, ${u.default.valCxt}`,G.$async,()=>{R.code((0,l._)`"use strict"; ${y(M,oe)}`),v(R,oe),R.code(ce)}):R.func(j,(0,l._)`${u.default.data}, ${_(oe)}`,G.$async,()=>R.code(y(M,oe)).code(ce))}function _(R){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${R.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(R,j){R.if(u.default.valCxt,()=>{R.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),R.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),R.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),R.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),j.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{R.var(u.default.instancePath,(0,l._)`""`),R.var(u.default.parentData,(0,l._)`undefined`),R.var(u.default.parentDataProperty,(0,l._)`undefined`),R.var(u.default.rootData,u.default.data),j.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function h(R){const{schema:j,opts:M,gen:G}=R;g(R,()=>{M.$comment&&j.$comment&&Q(R),D(R),G.let(u.default.vErrors,null),G.let(u.default.errors,0),M.unevaluated&&E(R),x(R),H(R)})}function E(R){const{gen:j,validateName:M}=R;R.evaluated=j.const("evaluated",(0,l._)`${M}.evaluated`),j.if((0,l._)`${R.evaluated}.dynamicProps`,()=>j.assign((0,l._)`${R.evaluated}.props`,(0,l._)`undefined`)),j.if((0,l._)`${R.evaluated}.dynamicItems`,()=>j.assign((0,l._)`${R.evaluated}.items`,(0,l._)`undefined`))}function y(R,j){const M=typeof R=="object"&&R[j.schemaId];return M&&(j.code.source||j.code.process)?(0,l._)`/*# sourceURL=${M} */`:l.nil}function S(R,j){if(T(R)&&(A(R),$(R))){d(R,j);return}(0,t.boolOrEmptySchema)(R,j)}function $({schema:R,self:j}){if(typeof R=="boolean")return!R;for(const M in R)if(j.RULES.all[M])return!0;return!1}function T(R){return typeof R.schema!="boolean"}function d(R,j){const{schema:M,gen:G,opts:oe}=R;oe.$comment&&M.$comment&&Q(R),F(R),V(R);const ce=G.const("_errs",u.default.errors);x(R,ce),G.var(j,(0,l._)`${ce} === ${u.default.errors}`)}function A(R){(0,c.checkUnknownRules)(R),O(R)}function x(R,j){if(R.opts.jtd)return fe(R,[],!1,j);const M=(0,r.getSchemaTypes)(R.schema),G=(0,r.coerceAndCheckDataType)(R,M);fe(R,M,!G,j)}function O(R){const{schema:j,errSchemaPath:M,opts:G,self:oe}=R;j.$ref&&G.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(j,oe.RULES)&&oe.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function D(R){const{schema:j,opts:M}=R;j.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,c.checkStrictMode)(R,"default is ignored in the schema root")}function F(R){const j=R.schema[R.opts.schemaId];j&&(R.baseId=(0,f.resolveUrl)(R.opts.uriResolver,R.baseId,j))}function V(R){if(R.schema.$async&&!R.schemaEnv.$async)throw new Error("async schema in sync schema")}function Q({gen:R,schemaEnv:j,schema:M,errSchemaPath:G,opts:oe}){const ce=M.$comment;if(oe.$comment===!0)R.code((0,l._)`${u.default.self}.logger.log(${ce})`);else if(typeof oe.$comment=="function"){const de=(0,l.str)`${G}/$comment`,ve=R.scopeValue("root",{ref:j.root});R.code((0,l._)`${u.default.self}.opts.$comment(${ce}, ${de}, ${ve}.schema)`)}}function H(R){const{gen:j,schemaEnv:M,validateName:G,ValidationError:oe,opts:ce}=R;M.$async?j.if((0,l._)`${u.default.errors} === 0`,()=>j.return(u.default.data),()=>j.throw((0,l._)`new ${oe}(${u.default.vErrors})`)):(j.assign((0,l._)`${G}.errors`,u.default.vErrors),ce.unevaluated&&X(R),j.return((0,l._)`${u.default.errors} === 0`))}function X({gen:R,evaluated:j,props:M,items:G}){M instanceof l.Name&&R.assign((0,l._)`${j}.props`,M),G instanceof l.Name&&R.assign((0,l._)`${j}.items`,G)}function fe(R,j,M,G){const{gen:oe,schema:ce,data:de,allErrors:ve,opts:Ie,self:Be}=R,{RULES:De}=Be;if(ce.$ref&&(Ie.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(ce,De))){oe.block(()=>Y(R,"$ref",De.all.$ref.definition));return}Ie.jtd||ne(R,j),oe.block(()=>{for(const We of De.rules)nt(We);nt(De.post)});function nt(We){(0,n.shouldUseGroup)(ce,We)&&(We.type?(oe.if((0,i.checkDataType)(We.type,de,Ie.strictNumbers)),Z(R,We),j.length===1&&j[0]===We.type&&M&&(oe.else(),(0,i.reportTypeError)(R)),oe.endIf()):Z(R,We),ve||oe.if((0,l._)`${u.default.errors} === ${G||0}`))}}function Z(R,j){const{gen:M,schema:G,opts:{useDefaults:oe}}=R;oe&&(0,o.assignDefaults)(R,j.type),M.block(()=>{for(const ce of j.rules)(0,n.shouldUseRule)(G,ce)&&Y(R,ce.keyword,ce.definition,j.type)})}function ne(R,j){R.schemaEnv.meta||!R.opts.strictTypes||(C(R,j),R.opts.allowUnionTypes||B(R,j),K(R,R.dataTypes))}function C(R,j){if(j.length){if(!R.dataTypes.length){R.dataTypes=j;return}j.forEach(M=>{I(R.dataTypes,M)||ie(R,`type "${M}" not allowed by context "${R.dataTypes.join(",")}"`)}),q(R,j)}}function B(R,j){j.length>1&&!(j.length===2&&j.includes("null"))&&ie(R,"use allowUnionTypes to allow union type keyword")}function K(R,j){const M=R.self.RULES.all;for(const G in M){const oe=M[G];if(typeof oe=="object"&&(0,n.shouldUseRule)(R.schema,oe)){const{type:ce}=oe.definition;ce.length&&!ce.some(de=>P(j,de))&&ie(R,`missing type "${ce.join(",")}" for keyword "${G}"`)}}}function P(R,j){return R.includes(j)||j==="number"&&R.includes("integer")}function I(R,j){return R.includes(j)||j==="integer"&&R.includes("number")}function q(R,j){const M=[];for(const G of R.dataTypes)I(j,G)?M.push(G):j.includes("integer")&&G==="number"&&M.push("integer");R.dataTypes=M}function ie(R,j){const M=R.schemaEnv.baseId+R.errSchemaPath;j+=` at "${M}" (strictTypes)`,(0,c.checkStrictMode)(R,j,R.opts.strictTypes)}var J=class{constructor(R,j,M){if((0,s.validateKeywordUsage)(R,j,M),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=M,this.data=R.data,this.schema=R.schema[M],this.$data=j.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(R,this.schema,M,this.$data),this.schemaType=j.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=j,this.$data)this.schemaCode=R.gen.const("vSchema",Pe(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,j.schemaType,j.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(j.schemaType)}`);("code"in j?j.trackErrors:j.errors!==!1)&&(this.errsCount=R.gen.const("_errs",u.default.errors))}result(R,j,M){this.failResult((0,l.not)(R),j,M)}failResult(R,j,M){this.gen.if(R),M?M():this.error(),j?(this.gen.else(),j(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,j){this.failResult((0,l.not)(R),void 0,j)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:j}=this;this.fail((0,l._)`${j} !== undefined && (${(0,l.or)(this.invalid$data(),R)})`)}error(R,j,M){if(j){this.setParams(j),this._error(R,M),this.setParams({});return}this._error(R,M)}_error(R,j){(R?p.reportExtraError:p.reportError)(this,this.def.error,j)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,j){j?Object.assign(this.params,R):this.params=R}block$data(R,j,M=l.nil){this.gen.block(()=>{this.check$data(R,M),j()})}check$data(R=l.nil,j=l.nil){if(!this.$data)return;const{gen:M,schemaCode:G,schemaType:oe,def:ce}=this;M.if((0,l.or)((0,l._)`${G} === undefined`,j)),R!==l.nil&&M.assign(R,!0),(oe.length||ce.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),R!==l.nil&&M.assign(R,!1)),M.else()}invalid$data(){const{gen:R,schemaCode:j,schemaType:M,def:G,it:oe}=this;return(0,l.or)(ce(),de());function ce(){if(M.length){if(!(j instanceof l.Name))throw new Error("ajv implementation error");const ve=Array.isArray(M)?M:[M];return(0,l._)`${(0,i.checkDataTypes)(ve,j,oe.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function de(){if(G.validateSchema){const ve=R.scopeValue("validate$data",{ref:G.validateSchema});return(0,l._)`!${ve}(${j})`}return l.nil}}subschema(R,j){const M=(0,a.getSubschema)(this.it,R);(0,a.extendSubschemaData)(M,this.it,R),(0,a.extendSubschemaMode)(M,R);const G={...this.it,...M,items:void 0,props:void 0};return S(G,j),G}mergeEvaluated(R,j){const{it:M,gen:G}=this;M.opts.unevaluated&&(M.props!==!0&&R.props!==void 0&&(M.props=c.mergeEvaluated.props(G,R.props,M.props,j)),M.items!==!0&&R.items!==void 0&&(M.items=c.mergeEvaluated.items(G,R.items,M.items,j)))}mergeValidEvaluated(R,j){const{it:M,gen:G}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return G.if(j,()=>this.mergeEvaluated(R,l.Name)),!0}};e.KeywordCxt=J;function Y(R,j,M,G){const oe=new J(R,M,j);"code"in M?M.code(oe,G):oe.$data&&M.validate?(0,s.funcKeywordCode)(oe,M):"macro"in M?(0,s.macroKeywordCode)(oe,M):(M.compile||M.validate)&&(0,s.funcKeywordCode)(oe,M)}var se=/^\/(?:[^~]|~0|~1)*$/,be=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Pe(R,{dataLevel:j,dataNames:M,dataPathArr:G}){let oe,ce;if(R==="")return u.default.rootData;if(R[0]==="/"){if(!se.test(R))throw new Error(`Invalid JSON-pointer: ${R}`);oe=R,ce=u.default.rootData}else{const Be=be.exec(R);if(!Be)throw new Error(`Invalid JSON-pointer: ${R}`);const De=+Be[1];if(oe=Be[2],oe==="#"){if(De>=j)throw new Error(Ie("property/index",De));return G[j-De]}if(De>j)throw new Error(Ie("data",De));if(ce=M[j-De],!oe)return ce}let de=ce;const ve=oe.split("/");for(const Be of ve)Be&&(ce=(0,l._)`${ce}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Be))}`,de=(0,l._)`${de} && ${ce}`);return de;function Ie(Be,De){return`Cannot access ${Be} ${De} levels up, current level is ${j}`}}e.getData=Pe}}),aN=Oe({"../core/node_modules/ajv/dist/runtime/validation_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),lN=Oe({"../core/node_modules/ajv/dist/compile/ref_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=lE(),r=class extends Error{constructor(n,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),uN=Oe({"../core/node_modules/ajv/dist/compile/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=br(),r=aN(),n=uc(),i=lE(),o=Ur(),s=uE(),a=class{constructor(h){var E;this.refs={},this.dynamicAnchors={};let y;typeof h.schema=="object"&&(y=h.schema),this.schema=h.schema,this.schemaId=h.schemaId,this.root=h.root||this,this.baseId=(E=h.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[h.schemaId||"$id"]),this.schemaPath=h.schemaPath,this.localRefs=h.localRefs,this.meta=h.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=a;function l(h){const E=c.call(this,h);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,h.root.baseId),{es5:S,lines:$}=this.opts.code,{ownProperties:T}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:$,ownProperties:T});let A;h.$async&&(A=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const x=d.scopeName("validate");h.validateName=x;const O={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:h.schema,code:(0,t.stringify)(h.schema)}:{ref:h.schema}),validateName:x,ValidationError:A,schema:h.schema,schemaEnv:h,rootId:y,baseId:h.baseId||y,schemaPath:t.nil,errSchemaPath:h.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(h),(0,s.validateFunctionCode)(O),d.optimize(this.opts.code.optimize);const F=d.toString();D=`${d.scopeRefs(n.default.scope)}return ${F}`,this.opts.code.process&&(D=this.opts.code.process(D,h));const Q=new Function(`${n.default.self}`,`${n.default.scope}`,D)(this,this.scope.get());if(this.scope.value(x,{ref:Q}),Q.errors=null,Q.schema=h.schema,Q.schemaEnv=h,h.$async&&(Q.$async=!0),this.opts.code.source===!0&&(Q.source={validateName:x,validateCode:F,scopeValues:d._values}),this.opts.unevaluated){const{props:H,items:X}=O;Q.evaluated={props:H instanceof t.Name?void 0:H,items:X instanceof t.Name?void 0:X,dynamicProps:H instanceof t.Name,dynamicItems:X instanceof t.Name},Q.source&&(Q.source.evaluated=(0,t.stringify)(Q.evaluated))}return h.validate=Q,h}catch(F){throw delete h.validate,delete h.validateName,D&&this.logger.error("Error compiling schema, function code:",D),F}finally{this._compilations.delete(h)}}e.compileSchema=l;function u(h,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const $=h.refs[y];if($)return $;let T=m.call(this,h,y);if(T===void 0){const d=(S=h.localRefs)===null||S===void 0?void 0:S[y],{schemaId:A}=this.opts;d&&(T=new a({schema:d,schemaId:A,root:h,baseId:E}))}if(T!==void 0)return h.refs[y]=f.call(this,T)}e.resolveRef=u;function f(h){return(0,i.inlineRef)(h.schema,this.opts.inlineRefs)?h.schema:h.validate?h:l.call(this,h)}function c(h){for(const E of this._compilations)if(p(E,h))return E}e.getCompilingSchema=c;function p(h,E){return h.schema===E.schema&&h.root===E.root&&h.baseId===E.baseId}function m(h,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||g.call(this,h,E)}function g(h,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let $=(0,i.getFullPath)(this.opts.uriResolver,h.baseId,void 0);if(Object.keys(h.schema).length>0&&S===$)return v.call(this,y,h);const T=(0,i.normalizeId)(S),d=this.refs[T]||this.schemas[T];if(typeof d=="string"){const A=g.call(this,h,d);return typeof(A==null?void 0:A.schema)!="object"?void 0:v.call(this,y,A)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),T===(0,i.normalizeId)(E)){const{schema:A}=d,{schemaId:x}=this.opts,O=A[x];return O&&($=(0,i.resolveUrl)(this.opts.uriResolver,$,O)),new a({schema:A,schemaId:x,root:h,baseId:$})}return v.call(this,y,d)}}e.resolveSchema=g;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(h,{baseId:E,schema:y,root:S}){var $;if((($=h.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const A of h.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const x=y[(0,o.unescapeFragment)(A)];if(x===void 0)return;y=x;const O=typeof y=="object"&&y[this.opts.schemaId];!_.has(A)&&O&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,O))}let T;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const A=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);T=g.call(this,S,A)}const{schemaId:d}=this.opts;if(T=T||new a({schema:y,schemaId:d,root:S,baseId:E}),T.schema!==T.root.schema)return T}}}),Ite=Oe({"../core/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),bq=Oe({"../../node_modules/uri-js/dist/es5/uri.all.js"(e,t){Te(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n(r.URI=r.URI||{})}(e,function(r){function n(){for(var he=arguments.length,ue=Array(he),we=0;we<he;we++)ue[we]=arguments[we];if(ue.length>1){ue[0]=ue[0].slice(0,-1);for(var xe=ue.length-1,Ae=1;Ae<xe;++Ae)ue[Ae]=ue[Ae].slice(1,-1);return ue[xe]=ue[xe].slice(1),ue.join("")}else return ue[0]}function i(he){return"(?:"+he+")"}function o(he){return he===void 0?"undefined":he===null?"null":Object.prototype.toString.call(he).split(" ").pop().split("]").shift().toLowerCase()}function s(he){return he.toUpperCase()}function a(he){return he!=null?he instanceof Array?he:typeof he.length!="number"||he.split||he.setInterval||he.call?[he]:Array.prototype.slice.call(he):[]}function l(he,ue){var we=he;if(ue)for(var xe in ue)we[xe]=ue[xe];return we}function u(he){var ue="[A-Za-z]",we="[0-9]",xe=n(we,"[A-Fa-f]"),Ae=i(i("%[EFef]"+xe+"%"+xe+xe+"%"+xe+xe)+"|"+i("%[89A-Fa-f]"+xe+"%"+xe+xe)+"|"+i("%"+xe+xe)),tt="[\\:\\/\\?\\#\\[\\]\\@]",st="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",xt=n(tt,st),It=he?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",jt=he?"[\\uE000-\\uF8FF]":"[]",$t=n(ue,we,"[\\-\\.\\_\\~]",It);i(ue+n(ue,we,"[\\+\\-\\.]")+"*"),i(i(Ae+"|"+n($t,st,"[\\:]"))+"*");var Rt=i(i("25[0-5]")+"|"+i("2[0-4]"+we)+"|"+i("1"+we+we)+"|"+i("0?[1-9]"+we)+"|0?0?"+we),Gt=i(Rt+"\\."+Rt+"\\."+Rt+"\\."+Rt),wt=i(xe+"{1,4}"),Tt=i(i(wt+"\\:"+wt)+"|"+Gt),Dt=i(i(wt+"\\:")+"{6}"+Tt),Ft=i("\\:\\:"+i(wt+"\\:")+"{5}"+Tt),Kr=i(i(wt)+"?\\:\\:"+i(wt+"\\:")+"{4}"+Tt),Qr=i(i(i(wt+"\\:")+"{0,1}"+wt)+"?\\:\\:"+i(wt+"\\:")+"{3}"+Tt),kr=i(i(i(wt+"\\:")+"{0,2}"+wt)+"?\\:\\:"+i(wt+"\\:")+"{2}"+Tt),Fn=i(i(i(wt+"\\:")+"{0,3}"+wt)+"?\\:\\:"+wt+"\\:"+Tt),Hn=i(i(i(wt+"\\:")+"{0,4}"+wt)+"?\\:\\:"+Tt),Cr=i(i(i(wt+"\\:")+"{0,5}"+wt)+"?\\:\\:"+wt),Zr=i(i(i(wt+"\\:")+"{0,6}"+wt)+"?\\:\\:"),Qn=i([Dt,Ft,Kr,Qr,kr,Fn,Hn,Cr,Zr].join("|")),pn=i(i($t+"|"+Ae)+"+");i("[vV]"+xe+"+\\."+n($t,st,"[\\:]")+"+"),i(i(Ae+"|"+n($t,st))+"*");var hi=i(Ae+"|"+n($t,st,"[\\:\\@]"));return i(i(Ae+"|"+n($t,st,"[\\@]"))+"+"),i(i(hi+"|"+n("[\\/\\?]",jt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",ue,we,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",$t,st),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",$t,st),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",$t,st),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",$t,st),"g"),NOT_QUERY:new RegExp(n("[^\\%]",$t,st,"[\\:\\@\\/\\?]",jt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",$t,st,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",$t,st),"g"),UNRESERVED:new RegExp($t,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",$t,xt),"g"),PCT_ENCODED:new RegExp(Ae,"g"),IPV4ADDRESS:new RegExp("^("+Gt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Qn+")"+i(i("\\%25|\\%(?!"+xe+"{2})")+"("+pn+")")+"?\\]?$")}}var f=u(!1),c=u(!0),p=function(){function he(ue,we){var xe=[],Ae=!0,tt=!1,st=void 0;try{for(var xt=ue[Symbol.iterator](),It;!(Ae=(It=xt.next()).done)&&(xe.push(It.value),!(we&&xe.length===we));Ae=!0);}catch(jt){tt=!0,st=jt}finally{try{!Ae&&xt.return&&xt.return()}finally{if(tt)throw st}}return xe}return function(ue,we){if(Array.isArray(ue))return ue;if(Symbol.iterator in Object(ue))return he(ue,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(he){if(Array.isArray(he)){for(var ue=0,we=Array(he.length);ue<he.length;ue++)we[ue]=he[ue];return we}else return Array.from(he)},g=2147483647,_=36,v=1,h=26,E=38,y=700,S=72,$=128,T="-",d=/^xn--/,A=/[^\0-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=_-v,F=Math.floor,V=String.fromCharCode;function Q(he){throw new RangeError(O[he])}function H(he,ue){for(var we=[],xe=he.length;xe--;)we[xe]=ue(he[xe]);return we}function X(he,ue){var we=he.split("@"),xe="";we.length>1&&(xe=we[0]+"@",he=we[1]),he=he.replace(x,".");var Ae=he.split("."),tt=H(Ae,ue).join(".");return xe+tt}function fe(he){for(var ue=[],we=0,xe=he.length;we<xe;){var Ae=he.charCodeAt(we++);if(Ae>=55296&&Ae<=56319&&we<xe){var tt=he.charCodeAt(we++);(tt&64512)==56320?ue.push(((Ae&1023)<<10)+(tt&1023)+65536):(ue.push(Ae),we--)}else ue.push(Ae)}return ue}var Z=function(ue){return String.fromCodePoint.apply(String,m(ue))},ne=function(ue){return ue-48<10?ue-22:ue-65<26?ue-65:ue-97<26?ue-97:_},C=function(ue,we){return ue+22+75*(ue<26)-((we!=0)<<5)},B=function(ue,we,xe){var Ae=0;for(ue=xe?F(ue/y):ue>>1,ue+=F(ue/we);ue>D*h>>1;Ae+=_)ue=F(ue/D);return F(Ae+(D+1)*ue/(ue+E))},K=function(ue){var we=[],xe=ue.length,Ae=0,tt=$,st=S,xt=ue.lastIndexOf(T);xt<0&&(xt=0);for(var It=0;It<xt;++It)ue.charCodeAt(It)>=128&&Q("not-basic"),we.push(ue.charCodeAt(It));for(var jt=xt>0?xt+1:0;jt<xe;){for(var $t=Ae,Rt=1,Gt=_;;Gt+=_){jt>=xe&&Q("invalid-input");var wt=ne(ue.charCodeAt(jt++));(wt>=_||wt>F((g-Ae)/Rt))&&Q("overflow"),Ae+=wt*Rt;var Tt=Gt<=st?v:Gt>=st+h?h:Gt-st;if(wt<Tt)break;var Dt=_-Tt;Rt>F(g/Dt)&&Q("overflow"),Rt*=Dt}var Ft=we.length+1;st=B(Ae-$t,Ft,$t==0),F(Ae/Ft)>g-tt&&Q("overflow"),tt+=F(Ae/Ft),Ae%=Ft,we.splice(Ae++,0,tt)}return String.fromCodePoint.apply(String,we)},P=function(ue){var we=[];ue=fe(ue);var xe=ue.length,Ae=$,tt=0,st=S,xt=!0,It=!1,jt=void 0;try{for(var $t=ue[Symbol.iterator](),Rt;!(xt=(Rt=$t.next()).done);xt=!0){var Gt=Rt.value;Gt<128&&we.push(V(Gt))}}catch(Bn){It=!0,jt=Bn}finally{try{!xt&&$t.return&&$t.return()}finally{if(It)throw jt}}var wt=we.length,Tt=wt;for(wt&&we.push(T);Tt<xe;){var Dt=g,Ft=!0,Kr=!1,Qr=void 0;try{for(var kr=ue[Symbol.iterator](),Fn;!(Ft=(Fn=kr.next()).done);Ft=!0){var Hn=Fn.value;Hn>=Ae&&Hn<Dt&&(Dt=Hn)}}catch(Bn){Kr=!0,Qr=Bn}finally{try{!Ft&&kr.return&&kr.return()}finally{if(Kr)throw Qr}}var Cr=Tt+1;Dt-Ae>F((g-tt)/Cr)&&Q("overflow"),tt+=(Dt-Ae)*Cr,Ae=Dt;var Zr=!0,Qn=!1,pn=void 0;try{for(var hi=ue[Symbol.iterator](),ns;!(Zr=(ns=hi.next()).done);Zr=!0){var is=ns.value;if(is<Ae&&++tt>g&&Q("overflow"),is==Ae){for(var jr=tt,_n=_;;_n+=_){var pi=_n<=st?v:_n>=st+h?h:_n-st;if(jr<pi)break;var va=jr-pi,os=_-pi;we.push(V(C(pi+va%os,0))),jr=F(va/os)}we.push(V(C(jr,0))),st=B(tt,Cr,Tt==wt),tt=0,++Tt}}}catch(Bn){Qn=!0,pn=Bn}finally{try{!Zr&&hi.return&&hi.return()}finally{if(Qn)throw pn}}++tt,++Ae}return we.join("")},I=function(ue){return X(ue,function(we){return d.test(we)?K(we.slice(4).toLowerCase()):we})},q=function(ue){return X(ue,function(we){return A.test(we)?"xn--"+P(we):we})},ie={version:"2.1.0",ucs2:{decode:fe,encode:Z},decode:K,encode:P,toASCII:q,toUnicode:I},J={};function Y(he){var ue=he.charCodeAt(0),we=void 0;return ue<16?we="%0"+ue.toString(16).toUpperCase():ue<128?we="%"+ue.toString(16).toUpperCase():ue<2048?we="%"+(ue>>6|192).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase():we="%"+(ue>>12|224).toString(16).toUpperCase()+"%"+(ue>>6&63|128).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase(),we}function se(he){for(var ue="",we=0,xe=he.length;we<xe;){var Ae=parseInt(he.substr(we+1,2),16);if(Ae<128)ue+=String.fromCharCode(Ae),we+=3;else if(Ae>=194&&Ae<224){if(xe-we>=6){var tt=parseInt(he.substr(we+4,2),16);ue+=String.fromCharCode((Ae&31)<<6|tt&63)}else ue+=he.substr(we,6);we+=6}else if(Ae>=224){if(xe-we>=9){var st=parseInt(he.substr(we+4,2),16),xt=parseInt(he.substr(we+7,2),16);ue+=String.fromCharCode((Ae&15)<<12|(st&63)<<6|xt&63)}else ue+=he.substr(we,9);we+=9}else ue+=he.substr(we,3),we+=3}return ue}function be(he,ue){function we(xe){var Ae=se(xe);return Ae.match(ue.UNRESERVED)?Ae:xe}return he.scheme&&(he.scheme=String(he.scheme).replace(ue.PCT_ENCODED,we).toLowerCase().replace(ue.NOT_SCHEME,"")),he.userinfo!==void 0&&(he.userinfo=String(he.userinfo).replace(ue.PCT_ENCODED,we).replace(ue.NOT_USERINFO,Y).replace(ue.PCT_ENCODED,s)),he.host!==void 0&&(he.host=String(he.host).replace(ue.PCT_ENCODED,we).toLowerCase().replace(ue.NOT_HOST,Y).replace(ue.PCT_ENCODED,s)),he.path!==void 0&&(he.path=String(he.path).replace(ue.PCT_ENCODED,we).replace(he.scheme?ue.NOT_PATH:ue.NOT_PATH_NOSCHEME,Y).replace(ue.PCT_ENCODED,s)),he.query!==void 0&&(he.query=String(he.query).replace(ue.PCT_ENCODED,we).replace(ue.NOT_QUERY,Y).replace(ue.PCT_ENCODED,s)),he.fragment!==void 0&&(he.fragment=String(he.fragment).replace(ue.PCT_ENCODED,we).replace(ue.NOT_FRAGMENT,Y).replace(ue.PCT_ENCODED,s)),he}function Pe(he){return he.replace(/^0*(.*)/,"$1")||"0"}function R(he,ue){var we=he.match(ue.IPV4ADDRESS)||[],xe=p(we,2),Ae=xe[1];return Ae?Ae.split(".").map(Pe).join("."):he}function j(he,ue){var we=he.match(ue.IPV6ADDRESS)||[],xe=p(we,3),Ae=xe[1],tt=xe[2];if(Ae){for(var st=Ae.toLowerCase().split("::").reverse(),xt=p(st,2),It=xt[0],jt=xt[1],$t=jt?jt.split(":").map(Pe):[],Rt=It.split(":").map(Pe),Gt=ue.IPV4ADDRESS.test(Rt[Rt.length-1]),wt=Gt?7:8,Tt=Rt.length-wt,Dt=Array(wt),Ft=0;Ft<wt;++Ft)Dt[Ft]=$t[Ft]||Rt[Tt+Ft]||"";Gt&&(Dt[wt-1]=R(Dt[wt-1],ue));var Kr=Dt.reduce(function(Cr,Zr,Qn){if(!Zr||Zr==="0"){var pn=Cr[Cr.length-1];pn&&pn.index+pn.length===Qn?pn.length++:Cr.push({index:Qn,length:1})}return Cr},[]),Qr=Kr.sort(function(Cr,Zr){return Zr.length-Cr.length})[0],kr=void 0;if(Qr&&Qr.length>1){var Fn=Dt.slice(0,Qr.index),Hn=Dt.slice(Qr.index+Qr.length);kr=Fn.join(":")+"::"+Hn.join(":")}else kr=Dt.join(":");return tt&&(kr+="%"+tt),kr}else return he}var M=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,G="".match(/(){0}/)[1]===void 0;function oe(he){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we={},xe=ue.iri!==!1?c:f;ue.reference==="suffix"&&(he=(ue.scheme?ue.scheme+":":"")+"//"+he);var Ae=he.match(M);if(Ae){G?(we.scheme=Ae[1],we.userinfo=Ae[3],we.host=Ae[4],we.port=parseInt(Ae[5],10),we.path=Ae[6]||"",we.query=Ae[7],we.fragment=Ae[8],isNaN(we.port)&&(we.port=Ae[5])):(we.scheme=Ae[1]||void 0,we.userinfo=he.indexOf("@")!==-1?Ae[3]:void 0,we.host=he.indexOf("//")!==-1?Ae[4]:void 0,we.port=parseInt(Ae[5],10),we.path=Ae[6]||"",we.query=he.indexOf("?")!==-1?Ae[7]:void 0,we.fragment=he.indexOf("#")!==-1?Ae[8]:void 0,isNaN(we.port)&&(we.port=he.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Ae[4]:void 0)),we.host&&(we.host=j(R(we.host,xe),xe)),we.scheme===void 0&&we.userinfo===void 0&&we.host===void 0&&we.port===void 0&&!we.path&&we.query===void 0?we.reference="same-document":we.scheme===void 0?we.reference="relative":we.fragment===void 0?we.reference="absolute":we.reference="uri",ue.reference&&ue.reference!=="suffix"&&ue.reference!==we.reference&&(we.error=we.error||"URI is not a "+ue.reference+" reference.");var tt=J[(ue.scheme||we.scheme||"").toLowerCase()];if(!ue.unicodeSupport&&(!tt||!tt.unicodeSupport)){if(we.host&&(ue.domainHost||tt&&tt.domainHost))try{we.host=ie.toASCII(we.host.replace(xe.PCT_ENCODED,se).toLowerCase())}catch(st){we.error=we.error||"Host's domain name can not be converted to ASCII via punycode: "+st}be(we,f)}else be(we,xe);tt&&tt.parse&&tt.parse(we,ue)}else we.error=we.error||"URI can not be parsed.";return we}function ce(he,ue){var we=ue.iri!==!1?c:f,xe=[];return he.userinfo!==void 0&&(xe.push(he.userinfo),xe.push("@")),he.host!==void 0&&xe.push(j(R(String(he.host),we),we).replace(we.IPV6ADDRESS,function(Ae,tt,st){return"["+tt+(st?"%25"+st:"")+"]"})),(typeof he.port=="number"||typeof he.port=="string")&&(xe.push(":"),xe.push(String(he.port))),xe.length?xe.join(""):void 0}var de=/^\.\.?\//,ve=/^\/\.(\/|$)/,Ie=/^\/\.\.(\/|$)/,Be=/^\/?(?:.|\n)*?(?=\/|$)/;function De(he){for(var ue=[];he.length;)if(he.match(de))he=he.replace(de,"");else if(he.match(ve))he=he.replace(ve,"/");else if(he.match(Ie))he=he.replace(Ie,"/"),ue.pop();else if(he==="."||he==="..")he="";else{var we=he.match(Be);if(we){var xe=we[0];he=he.slice(xe.length),ue.push(xe)}else throw new Error("Unexpected dot segment condition")}return ue.join("")}function nt(he){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=ue.iri?c:f,xe=[],Ae=J[(ue.scheme||he.scheme||"").toLowerCase()];if(Ae&&Ae.serialize&&Ae.serialize(he,ue),he.host&&!we.IPV6ADDRESS.test(he.host)){if(ue.domainHost||Ae&&Ae.domainHost)try{he.host=ue.iri?ie.toUnicode(he.host):ie.toASCII(he.host.replace(we.PCT_ENCODED,se).toLowerCase())}catch(xt){he.error=he.error||"Host's domain name can not be converted to "+(ue.iri?"Unicode":"ASCII")+" via punycode: "+xt}}be(he,we),ue.reference!=="suffix"&&he.scheme&&(xe.push(he.scheme),xe.push(":"));var tt=ce(he,ue);if(tt!==void 0&&(ue.reference!=="suffix"&&xe.push("//"),xe.push(tt),he.path&&he.path.charAt(0)!=="/"&&xe.push("/")),he.path!==void 0){var st=he.path;!ue.absolutePath&&(!Ae||!Ae.absolutePath)&&(st=De(st)),tt===void 0&&(st=st.replace(/^\/\//,"/%2F")),xe.push(st)}return he.query!==void 0&&(xe.push("?"),xe.push(he.query)),he.fragment!==void 0&&(xe.push("#"),xe.push(he.fragment)),xe.join("")}function We(he,ue){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},xe=arguments[3],Ae={};return xe||(he=oe(nt(he,we),we),ue=oe(nt(ue,we),we)),we=we||{},!we.tolerant&&ue.scheme?(Ae.scheme=ue.scheme,Ae.userinfo=ue.userinfo,Ae.host=ue.host,Ae.port=ue.port,Ae.path=De(ue.path||""),Ae.query=ue.query):(ue.userinfo!==void 0||ue.host!==void 0||ue.port!==void 0?(Ae.userinfo=ue.userinfo,Ae.host=ue.host,Ae.port=ue.port,Ae.path=De(ue.path||""),Ae.query=ue.query):(ue.path?(ue.path.charAt(0)==="/"?Ae.path=De(ue.path):((he.userinfo!==void 0||he.host!==void 0||he.port!==void 0)&&!he.path?Ae.path="/"+ue.path:he.path?Ae.path=he.path.slice(0,he.path.lastIndexOf("/")+1)+ue.path:Ae.path=ue.path,Ae.path=De(Ae.path)),Ae.query=ue.query):(Ae.path=he.path,ue.query!==void 0?Ae.query=ue.query:Ae.query=he.query),Ae.userinfo=he.userinfo,Ae.host=he.host,Ae.port=he.port),Ae.scheme=he.scheme),Ae.fragment=ue.fragment,Ae}function Ue(he,ue,we){var xe=l({scheme:"null"},we);return nt(We(oe(he,xe),oe(ue,xe),xe,!0),xe)}function W(he,ue){return typeof he=="string"?he=nt(oe(he,ue),ue):o(he)==="object"&&(he=oe(nt(he,ue),ue)),he}function N(he,ue,we){return typeof he=="string"?he=nt(oe(he,we),we):o(he)==="object"&&(he=nt(he,we)),typeof ue=="string"?ue=nt(oe(ue,we),we):o(ue)==="object"&&(ue=nt(ue,we)),he===ue}function L(he,ue){return he&&he.toString().replace(!ue||!ue.iri?f.ESCAPE:c.ESCAPE,Y)}function re(he,ue){return he&&he.toString().replace(!ue||!ue.iri?f.PCT_ENCODED:c.PCT_ENCODED,se)}var ye={scheme:"http",domainHost:!0,parse:function(ue,we){return ue.host||(ue.error=ue.error||"HTTP URIs must have a host."),ue},serialize:function(ue,we){var xe=String(ue.scheme).toLowerCase()==="https";return(ue.port===(xe?443:80)||ue.port==="")&&(ue.port=void 0),ue.path||(ue.path="/"),ue}},Ee={scheme:"https",domainHost:ye.domainHost,parse:ye.parse,serialize:ye.serialize};function je(he){return typeof he.secure=="boolean"?he.secure:String(he.scheme).toLowerCase()==="wss"}var Re={scheme:"ws",domainHost:!0,parse:function(ue,we){var xe=ue;return xe.secure=je(xe),xe.resourceName=(xe.path||"/")+(xe.query?"?"+xe.query:""),xe.path=void 0,xe.query=void 0,xe},serialize:function(ue,we){if((ue.port===(je(ue)?443:80)||ue.port==="")&&(ue.port=void 0),typeof ue.secure=="boolean"&&(ue.scheme=ue.secure?"wss":"ws",ue.secure=void 0),ue.resourceName){var xe=ue.resourceName.split("?"),Ae=p(xe,2),tt=Ae[0],st=Ae[1];ue.path=tt&&tt!=="/"?tt:void 0,ue.query=st,ue.resourceName=void 0}return ue.fragment=void 0,ue}},Le={scheme:"wss",domainHost:Re.domainHost,parse:Re.parse,serialize:Re.serialize},dt={},yt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",lt="[0-9A-Fa-f]",Ct=i(i("%[EFef]"+lt+"%"+lt+lt+"%"+lt+lt)+"|"+i("%[89A-Fa-f]"+lt+"%"+lt+lt)+"|"+i("%"+lt+lt)),Er="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Pr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ir=n(Pr,'[\\"\\\\]'),mr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",cn=new RegExp(yt,"g"),Vt=new RegExp(Ct,"g"),zt=new RegExp(n("[^]",Er,"[\\.]",'[\\"]',ir),"g"),At=new RegExp(n("[^]",yt,mr),"g"),Se=At;function Ne(he){var ue=se(he);return ue.match(cn)?ue:he}var ht={scheme:"mailto",parse:function(ue,we){var xe=ue,Ae=xe.to=xe.path?xe.path.split(","):[];if(xe.path=void 0,xe.query){for(var tt=!1,st={},xt=xe.query.split("&"),It=0,jt=xt.length;It<jt;++It){var $t=xt[It].split("=");switch($t[0]){case"to":for(var Rt=$t[1].split(","),Gt=0,wt=Rt.length;Gt<wt;++Gt)Ae.push(Rt[Gt]);break;case"subject":xe.subject=re($t[1],we);break;case"body":xe.body=re($t[1],we);break;default:tt=!0,st[re($t[0],we)]=re($t[1],we);break}}tt&&(xe.headers=st)}xe.query=void 0;for(var Tt=0,Dt=Ae.length;Tt<Dt;++Tt){var Ft=Ae[Tt].split("@");if(Ft[0]=re(Ft[0]),we.unicodeSupport)Ft[1]=re(Ft[1],we).toLowerCase();else try{Ft[1]=ie.toASCII(re(Ft[1],we).toLowerCase())}catch(Kr){xe.error=xe.error||"Email address's domain name can not be converted to ASCII via punycode: "+Kr}Ae[Tt]=Ft.join("@")}return xe},serialize:function(ue,we){var xe=ue,Ae=a(ue.to);if(Ae){for(var tt=0,st=Ae.length;tt<st;++tt){var xt=String(Ae[tt]),It=xt.lastIndexOf("@"),jt=xt.slice(0,It).replace(Vt,Ne).replace(Vt,s).replace(zt,Y),$t=xt.slice(It+1);try{$t=we.iri?ie.toUnicode($t):ie.toASCII(re($t,we).toLowerCase())}catch(Tt){xe.error=xe.error||"Email address's domain name can not be converted to "+(we.iri?"Unicode":"ASCII")+" via punycode: "+Tt}Ae[tt]=jt+"@"+$t}xe.path=Ae.join(",")}var Rt=ue.headers=ue.headers||{};ue.subject&&(Rt.subject=ue.subject),ue.body&&(Rt.body=ue.body);var Gt=[];for(var wt in Rt)Rt[wt]!==dt[wt]&&Gt.push(wt.replace(Vt,Ne).replace(Vt,s).replace(At,Y)+"="+Rt[wt].replace(Vt,Ne).replace(Vt,s).replace(Se,Y));return Gt.length&&(xe.query=Gt.join("&")),xe}},Ye=/^([^\:]+)\:(.*)/,it={scheme:"urn",parse:function(ue,we){var xe=ue.path&&ue.path.match(Ye),Ae=ue;if(xe){var tt=we.scheme||Ae.scheme||"urn",st=xe[1].toLowerCase(),xt=xe[2],It=tt+":"+(we.nid||st),jt=J[It];Ae.nid=st,Ae.nss=xt,Ae.path=void 0,jt&&(Ae=jt.parse(Ae,we))}else Ae.error=Ae.error||"URN can not be parsed.";return Ae},serialize:function(ue,we){var xe=we.scheme||ue.scheme||"urn",Ae=ue.nid,tt=xe+":"+(we.nid||Ae),st=J[tt];st&&(ue=st.serialize(ue,we));var xt=ue,It=ue.nss;return xt.path=(Ae||we.nid)+":"+It,xt}},Pt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,qt={scheme:"urn:uuid",parse:function(ue,we){var xe=ue;return xe.uuid=xe.nss,xe.nss=void 0,!we.tolerant&&(!xe.uuid||!xe.uuid.match(Pt))&&(xe.error=xe.error||"UUID is not valid."),xe},serialize:function(ue,we){var xe=ue;return xe.nss=(ue.uuid||"").toLowerCase(),xe}};J[ye.scheme]=ye,J[Ee.scheme]=Ee,J[Re.scheme]=Re,J[Le.scheme]=Le,J[ht.scheme]=ht,J[it.scheme]=it,J[qt.scheme]=qt,r.SCHEMES=J,r.pctEncChar=Y,r.pctDecChars=se,r.parse=oe,r.removeDotSegments=De,r.serialize=nt,r.resolveComponents=We,r.resolve=Ue,r.normalize=W,r.equal=N,r.escapeComponent=L,r.unescapeComponent=re,Object.defineProperty(r,"__esModule",{value:!0})})}}),kte=Oe({"../core/node_modules/ajv/dist/runtime/uri.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=bq();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),Cte=Oe({"../core/node_modules/ajv/dist/core.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=uE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=br();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=aN(),i=lN(),o=yq(),s=uN(),a=br(),l=lE(),u=zb(),f=Ur(),c=Ite(),p=kte(),m=(C,B)=>new RegExp(C,B);m.code="new RegExp";var g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(C){var B,K,P,I,q,ie,J,Y,se,be,Pe,R,j,M,G,oe,ce,de,ve,Ie,Be,De,nt,We,Ue;const W=C.strict,N=(B=C.code)===null||B===void 0?void 0:B.optimize,L=N===!0||N===void 0?1:N||0,re=(P=(K=C.code)===null||K===void 0?void 0:K.regExp)!==null&&P!==void 0?P:m,ye=(I=C.uriResolver)!==null&&I!==void 0?I:p.default;return{strictSchema:(ie=(q=C.strictSchema)!==null&&q!==void 0?q:W)!==null&&ie!==void 0?ie:!0,strictNumbers:(Y=(J=C.strictNumbers)!==null&&J!==void 0?J:W)!==null&&Y!==void 0?Y:!0,strictTypes:(be=(se=C.strictTypes)!==null&&se!==void 0?se:W)!==null&&be!==void 0?be:"log",strictTuples:(R=(Pe=C.strictTuples)!==null&&Pe!==void 0?Pe:W)!==null&&R!==void 0?R:"log",strictRequired:(M=(j=C.strictRequired)!==null&&j!==void 0?j:W)!==null&&M!==void 0?M:!1,code:C.code?{...C.code,optimize:L,regExp:re}:{optimize:L,regExp:re},loopRequired:(G=C.loopRequired)!==null&&G!==void 0?G:E,loopEnum:(oe=C.loopEnum)!==null&&oe!==void 0?oe:E,meta:(ce=C.meta)!==null&&ce!==void 0?ce:!0,messages:(de=C.messages)!==null&&de!==void 0?de:!0,inlineRefs:(ve=C.inlineRefs)!==null&&ve!==void 0?ve:!0,schemaId:(Ie=C.schemaId)!==null&&Ie!==void 0?Ie:"$id",addUsedSchema:(Be=C.addUsedSchema)!==null&&Be!==void 0?Be:!0,validateSchema:(De=C.validateSchema)!==null&&De!==void 0?De:!0,validateFormats:(nt=C.validateFormats)!==null&&nt!==void 0?nt:!0,unicodeRegExp:(We=C.unicodeRegExp)!==null&&We!==void 0?We:!0,int32range:(Ue=C.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:ye}}var S=class{constructor(C={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,C=this.opts={...C,...y(C)};const{es5:B,lines:K}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:B,lines:K}),this.logger=F(C.logger);const P=C.validateFormats;C.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,C,"NOT SUPPORTED"),$.call(this,h,C,"DEPRECATED","warn"),this._metaOpts=O.call(this),C.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),C.keywords&&x.call(this,C.keywords),typeof C.meta=="object"&&this.addMetaSchema(C.meta),d.call(this),C.validateFormats=P}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:C,meta:B,schemaId:K}=this.opts;let P=c;K==="id"&&(P={...c},P.id=P.$id,delete P.$id),B&&C&&this.addMetaSchema(P,P[K],!1)}defaultMeta(){const{meta:C,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof C=="object"?C[B]||C:void 0}validate(C,B){let K;if(typeof C=="string"){if(K=this.getSchema(C),!K)throw new Error(`no schema with key or ref "${C}"`)}else K=this.compile(C);const P=K(B);return"$async"in K||(this.errors=K.errors),P}compile(C,B){const K=this._addSchema(C,B);return K.validate||this._compileSchemaEnv(K)}compileAsync(C,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return P.call(this,C,B);async function P(se,be){await I.call(this,se.$schema);const Pe=this._addSchema(se,be);return Pe.validate||q.call(this,Pe)}async function I(se){se&&!this.getSchema(se)&&await P.call(this,{$ref:se},!0)}async function q(se){try{return this._compileSchemaEnv(se)}catch(be){if(!(be instanceof i.default))throw be;return ie.call(this,be),await J.call(this,be.missingSchema),q.call(this,se)}}function ie({missingSchema:se,missingRef:be}){if(this.refs[se])throw new Error(`AnySchema ${se} is loaded but ${be} cannot be resolved`)}async function J(se){const be=await Y.call(this,se);this.refs[se]||await I.call(this,be.$schema),this.refs[se]||this.addSchema(be,se,B)}async function Y(se){const be=this._loading[se];if(be)return be;try{return await(this._loading[se]=K(se))}finally{delete this._loading[se]}}}addSchema(C,B,K,P=this.opts.validateSchema){if(Array.isArray(C)){for(const q of C)this.addSchema(q,void 0,K,P);return this}let I;if(typeof C=="object"){const{schemaId:q}=this.opts;if(I=C[q],I!==void 0&&typeof I!="string")throw new Error(`schema ${q} must be string`)}return B=(0,l.normalizeId)(B||I),this._checkUnique(B),this.schemas[B]=this._addSchema(C,K,B,P,!0),this}addMetaSchema(C,B,K=this.opts.validateSchema){return this.addSchema(C,B,!0,K),this}validateSchema(C,B){if(typeof C=="boolean")return!0;let K;if(K=C.$schema,K!==void 0&&typeof K!="string")throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const P=this.validate(K,C);if(!P&&B){const I="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(I);else throw new Error(I)}return P}getSchema(C){let B;for(;typeof(B=T.call(this,C))=="string";)C=B;if(B===void 0){const{schemaId:K}=this.opts,P=new s.SchemaEnv({schema:{},schemaId:K});if(B=s.resolveSchema.call(this,P,C),!B)return;this.refs[C]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(C){if(C instanceof RegExp)return this._removeAllSchemas(this.schemas,C),this._removeAllSchemas(this.refs,C),this;switch(typeof C){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=T.call(this,C);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[C],delete this.refs[C],this}case"object":{const B=C;this._cache.delete(B);let K=C[this.opts.schemaId];return K&&(K=(0,l.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(C){for(const B of C)this.addKeyword(B);return this}addKeyword(C,B){let K;if(typeof C=="string")K=C,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=K);else if(typeof C=="object"&&B===void 0){if(B=C,K=B.keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Q.call(this,K,B),!B)return(0,f.eachItem)(K,I=>H.call(this,I)),this;fe.call(this,B);const P={...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)};return(0,f.eachItem)(K,P.type.length===0?I=>H.call(this,I,P):I=>P.type.forEach(q=>H.call(this,I,P,q))),this}getKeyword(C){const B=this.RULES.all[C];return typeof B=="object"?B.definition:!!B}removeKeyword(C){const{RULES:B}=this;delete B.keywords[C],delete B.all[C];for(const K of B.rules){const P=K.rules.findIndex(I=>I.keyword===C);P>=0&&K.rules.splice(P,1)}return this}addFormat(C,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[C]=B,this}errorsText(C=this.errors,{separator:B=", ",dataVar:K="data"}={}){return!C||C.length===0?"No errors":C.map(P=>`${K}${P.instancePath} ${P.message}`).reduce((P,I)=>P+B+I)}$dataMetaSchema(C,B){const K=this.RULES.all;C=JSON.parse(JSON.stringify(C));for(const P of B){const I=P.split("/").slice(1);let q=C;for(const ie of I)q=q[ie];for(const ie in K){const J=K[ie];if(typeof J!="object")continue;const{$data:Y}=J.definition,se=q[ie];Y&&se&&(q[ie]=ne(se))}}return C}_removeAllSchemas(C,B){for(const K in C){const P=C[K];(!B||B.test(K))&&(typeof P=="string"?delete C[K]:P&&!P.meta&&(this._cache.delete(P.schema),delete C[K]))}}_addSchema(C,B,K,P=this.opts.validateSchema,I=this.opts.addUsedSchema){let q;const{schemaId:ie}=this.opts;if(typeof C=="object")q=C[ie];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof C!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(C);if(J!==void 0)return J;K=(0,l.normalizeId)(q||K);const Y=l.getSchemaRefs.call(this,C,K);return J=new s.SchemaEnv({schema:C,schemaId:ie,meta:B,baseId:K,localRefs:Y}),this._cache.set(J.schema,J),I&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=J),P&&this.validateSchema(C,!0),J}_checkUnique(C){if(this.schemas[C]||this.refs[C])throw new Error(`schema with key or id "${C}" already exists`)}_compileSchemaEnv(C){if(C.meta?this._compileMetaSchema(C):s.compileSchema.call(this,C),!C.validate)throw new Error("ajv implementation error");return C.validate}_compileMetaSchema(C){const B=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,C)}finally{this.opts=B}}};e.default=S,S.ValidationError=n.default,S.MissingRefError=i.default;function $(C,B,K,P="error"){for(const I in C){const q=I;q in B&&this.logger[P](`${K}: option ${I}. ${C[q]}`)}}function T(C){return C=(0,l.normalizeId)(C),this.schemas[C]||this.refs[C]}function d(){const C=this.opts.schemas;if(C)if(Array.isArray(C))this.addSchema(C);else for(const B in C)this.addSchema(C[B],B)}function A(){for(const C in this.opts.formats){const B=this.opts.formats[C];B&&this.addFormat(C,B)}}function x(C){if(Array.isArray(C)){this.addVocabulary(C);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in C){const K=C[B];K.keyword||(K.keyword=B),this.addKeyword(K)}}function O(){const C={...this.opts};for(const B of g)delete C[B];return C}var D={log(){},warn(){},error(){}};function F(C){if(C===!1)return D;if(C===void 0)return console;if(C.log&&C.warn&&C.error)return C;throw new Error("logger must implement log, warn and error methods")}var V=/^[a-z_$][a-z0-9_$:-]*$/i;function Q(C,B){const{RULES:K}=this;if((0,f.eachItem)(C,P=>{if(K.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!V.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function H(C,B,K){var P;const I=B==null?void 0:B.post;if(K&&I)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let ie=I?q.post:q.rules.find(({type:Y})=>Y===K);if(ie||(ie={type:K,rules:[]},q.rules.push(ie)),q.keywords[C]=!0,!B)return;const J={keyword:C,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?X.call(this,ie,J,B.before):ie.rules.push(J),q.all[C]=J,(P=B.implements)===null||P===void 0||P.forEach(Y=>this.addKeyword(Y))}function X(C,B,K){const P=C.rules.findIndex(I=>I.keyword===K);P>=0?C.rules.splice(P,0,B):(C.rules.push(B),this.logger.warn(`rule ${K} is not defined`))}function fe(C){let{metaSchema:B}=C;B!==void 0&&(C.$data&&this.opts.$data&&(B=ne(B)),C.validateSchema=this.compile(B,!0))}var Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ne(C){return{anyOf:[C,Z]}}}}),jte=Oe({"../core/node_modules/ajv/dist/vocabularies/core/id.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),Dte=Oe({"../core/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=lN(),r=ma(),n=br(),i=uc(),o=uN(),s=Ur(),a={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:p,it:m}=f,{baseId:g,schemaEnv:_,validateName:v,opts:h,self:E}=m,{root:y}=_;if((p==="#"||p==="#/")&&g===y.baseId)return $();const S=o.resolveRef.call(E,y,g,p);if(S===void 0)throw new t.default(m.opts.uriResolver,g,p);if(S instanceof o.SchemaEnv)return T(S);return d(S);function $(){if(_===y)return u(f,v,_,_.$async);const A=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${A}.validate`,y,y.$async)}function T(A){const x=l(f,A);u(f,x,A,A.$async)}function d(A){const x=c.scopeValue("schema",h.code.source===!0?{ref:A,code:(0,n.stringify)(A)}:{ref:A}),O=c.name("valid"),D=f.subschema({schema:A,dataTypes:[],schemaPath:n.nil,topSchemaRef:x,errSchemaPath:p},O);f.mergeEvaluated(D),f.ok(O)}}};function l(f,c){const{gen:p}=f;return c.validate?p.scopeValue("validate",{ref:c.validate}):(0,n._)`${p.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,p,m){const{gen:g,it:_}=f,{allErrors:v,schemaEnv:h,opts:E}=_,y=E.passContext?i.default.this:n.nil;m?S():$();function S(){if(!h.$async)throw new Error("async schema referenced by sync schema");const A=g.let("valid");g.try(()=>{g.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||g.assign(A,!0)},x=>{g.if((0,n._)`!(${x} instanceof ${_.ValidationError})`,()=>g.throw(x)),T(x),v||g.assign(A,!1)}),f.ok(A)}function $(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>T(c))}function T(A){const x=(0,n._)`${A}.errors`;g.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${x} : ${i.default.vErrors}.concat(${x})`),g.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(A){var x;if(!_.opts.unevaluated)return;const O=(x=p==null?void 0:p.validate)===null||x===void 0?void 0:x.evaluated;if(_.props!==!0)if(O&&!O.dynamicProps)O.props!==void 0&&(_.props=s.mergeEvaluated.props(g,O.props,_.props));else{const D=g.var("props",(0,n._)`${A}.evaluated.props`);_.props=s.mergeEvaluated.props(g,D,_.props,n.Name)}if(_.items!==!0)if(O&&!O.dynamicItems)O.items!==void 0&&(_.items=s.mergeEvaluated.items(g,O.items,_.items));else{const D=g.var("items",(0,n._)`${A}.evaluated.items`);_.items=s.mergeEvaluated.items(g,D,_.items,n.Name)}}}e.callRef=u,e.default=a}}),Mte=Oe({"../core/node_modules/ajv/dist/vocabularies/core/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=jte(),r=Dte(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),Lte=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:s,schemaCode:a})=>(0,t.str)`must be ${n[s].okStr} ${a}`,params:({keyword:s,schemaCode:a})=>(0,t._)`{comparison: ${n[s].okStr}, limit: ${a}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u}=s;s.fail$data((0,t._)`${l} ${n[a].fail} ${u} || isNaN(${l})`)}};e.default=o}}),Fte=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:s,schemaCode:a,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${a} === 0 || (${f} = ${s}/${a}, ${c}))`)}};e.default=n}}),Bte=Oe({"../core/node_modules/ajv/dist/runtime/ucs2length.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,s;for(;o<n;)i++,s=r.charCodeAt(o++),s>=55296&&s<=56319&&o<n&&(s=r.charCodeAt(o),(s&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),Ute=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n=Bte(),i={message({keyword:s,schemaCode:a}){const l=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${a} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u,it:f}=s,c=a==="maxLength"?t.operators.GT:t.operators.LT,p=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(s.gen,n.default)}(${l})`;s.fail$data((0,t._)`${p} ${c} ${u}`)}};e.default=o}}),zte=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ma(),r=br(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:s,$data:a,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",p=a?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${p}.test(${s})`)}};e.default=i}}),qte=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={message({keyword:i,schemaCode:o}){const s=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${s}).length ${l} ${a}`)}};e.default=n}}),Vte=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ma(),r=br(),n=Ur(),i={message:({params:{missingProperty:s}})=>(0,r.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,r._)`{missingProperty: ${s}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,schema:l,schemaCode:u,data:f,$data:c,it:p}=s,{opts:m}=p;if(!c&&l.length===0)return;const g=l.length>=m.loopRequired;if(p.allErrors?_():v(),m.strictRequired){const y=s.parentSchema.properties,{definedProperties:S}=s.it;for(const $ of l)if((y==null?void 0:y[$])===void 0&&!S.has($)){const T=p.schemaEnv.baseId+p.errSchemaPath,d=`required property "${$}" is not defined at "${T}" (strictRequired)`;(0,n.checkStrictMode)(p,d,p.opts.strictRequired)}}function _(){if(g||c)s.block$data(r.nil,h);else for(const y of l)(0,t.checkReportMissingProp)(s,y)}function v(){const y=a.let("missing");if(g||c){const S=a.let("valid",!0);s.block$data(S,()=>E(y,S)),s.ok(S)}else a.if((0,t.checkMissingProp)(s,l,y)),(0,t.reportMissingProp)(s,y),a.else()}function h(){a.forOf("prop",u,y=>{s.setParams({missingProperty:y}),a.if((0,t.noPropertyInData)(a,f,y,m.ownProperties),()=>s.error())})}function E(y,S){s.setParams({missingProperty:y}),a.forOf(y,u,()=>{a.assign(S,(0,t.propertyInData)(a,f,y,m.ownProperties)),a.if((0,r.not)(S),()=>{s.error(),a.break()})},r.nil)}}};e.default=o}}),Hte=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={message({keyword:i,schemaCode:o}){const s=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${s}.length ${l} ${a}`)}};e.default=n}}),cN=Oe({"../core/node_modules/ajv/dist/runtime/equal.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Lh();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),Wte=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=zb(),r=br(),n=Ur(),i=cN(),o={message:({params:{i:a,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${a} are identical)`,params:({params:{i:a,j:l}})=>(0,r._)`{i: ${a}, j: ${l}}`},s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(a){const{gen:l,data:u,$data:f,schema:c,parentSchema:p,schemaCode:m,it:g}=a;if(!f&&!c)return;const _=l.let("valid"),v=p.items?(0,t.getSchemaTypes)(p.items):[];a.block$data(_,h,(0,r._)`${m} === false`),a.ok(_);function h(){const $=l.let("i",(0,r._)`${u}.length`),T=l.let("j");a.setParams({i:$,j:T}),l.assign(_,!0),l.if((0,r._)`${$} > 1`,()=>(E()?y:S)($,T))}function E(){return v.length>0&&!v.some($=>$==="object"||$==="array")}function y($,T){const d=l.name("item"),A=(0,t.checkDataTypes)(v,d,g.opts.strictNumbers,t.DataType.Wrong),x=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${$}--;`,()=>{l.let(d,(0,r._)`${u}[${$}]`),l.if(A,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${x}[${d}] == "number"`,()=>{l.assign(T,(0,r._)`${x}[${d}]`),a.error(),l.assign(_,!1).break()}).code((0,r._)`${x}[${d}] = ${$}`)})}function S($,T){const d=(0,n.useFunc)(l,i.default),A=l.name("outer");l.label(A).for((0,r._)`;${$}--;`,()=>l.for((0,r._)`${T} = ${$}; ${T}--;`,()=>l.if((0,r._)`${d}(${u}[${$}], ${u}[${T}])`,()=>{a.error(),l.assign(_,!1).break(A)})))}}};e.default=s}}),Gte=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n=cN(),i={message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},o={keyword:"const",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schemaCode:f,schema:c}=s;u||c&&typeof c=="object"?s.fail$data((0,t._)`!${(0,r.useFunc)(a,n.default)}(${l}, ${f})`):s.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),Kte=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n=cN(),i={message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schema:f,schemaCode:c,it:p}=s;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=p.opts.loopEnum;let g;const _=()=>g??(g=(0,r.useFunc)(a,n.default));let v;if(m||u)v=a.let("valid"),s.block$data(v,h);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=a.const("vSchema",c);v=(0,t.or)(...f.map((S,$)=>E(y,$)))}s.pass(v);function h(){a.assign(v,!1),a.forOf("v",c,y=>a.if((0,t._)`${_()}(${l}, ${y})`,()=>a.assign(v,!0).break()))}function E(y,S){const $=f[S];return typeof $=="object"&&$!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${$}`}}};e.default=o}}),Jte=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Lte(),r=Fte(),n=Ute(),i=zte(),o=qte(),s=Vte(),a=Hte(),l=Wte(),u=Gte(),f=Kte(),c=[t.default,r.default,n.default,i.default,o.default,s.default,a.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),_q=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=br(),r=Ur(),n={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(s){const{parentSchema:a,it:l}=s,{items:u}=a;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(s,u)}};function o(s,a){const{gen:l,schema:u,data:f,keyword:c,it:p}=s;p.items=!0;const m=l.const("len",(0,t._)`${f}.length`);if(u===!1)s.setParams({len:a.length}),s.pass((0,t._)`${m} <= ${a.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(p,u)){const _=l.var("valid",(0,t._)`${m} <= ${a.length}`);l.if((0,t.not)(_),()=>g(_)),s.ok(_)}function g(_){l.forRange("i",a.length,m,v=>{s.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),p.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),Eq=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=br(),r=Ur(),n=ma(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:a,it:l}=s;if(Array.isArray(a))return o(s,"additionalItems",a);l.items=!0,!(0,r.alwaysValidSchema)(l,a)&&s.ok((0,n.validateArray)(s))}};function o(s,a,l=s.schema){const{gen:u,parentSchema:f,data:c,keyword:p,it:m}=s;v(f),m.opts.unevaluated&&l.length&&m.items!==!0&&(m.items=r.mergeEvaluated.items(u,l.length,m.items));const g=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((h,E)=>{(0,r.alwaysValidSchema)(m,h)||(u.if((0,t._)`${_} > ${E}`,()=>s.subschema({keyword:p,schemaProp:E,dataProp:E},g)),s.ok(g))});function v(h){const{opts:E,errSchemaPath:y}=m,S=l.length,$=S===h.minItems&&(S===h.maxItems||h[a]===!1);if(E.strictTuples&&!$){const T=`"${p}" is ${S}-tuple, but minItems or maxItems/${a} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(m,T,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),Yte=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Eq(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),Xte=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n=ma(),i=_q(),o={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(a){const{schema:l,parentSchema:u,it:f}=a,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(a,c):a.ok((0,n.validateArray)(a)))}};e.default=s}}),Qte=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n={message:({params:{min:o,max:s}})=>s===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${s} valid item(s)`,params:({params:{min:o,max:s}})=>s===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${s}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:f}=o;let c,p;const{minContains:m,maxContains:g}=l;f.opts.next?(c=m===void 0?1:m,p=g):c=1;const _=s.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:p}),p===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&c>p){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,a)){let S=(0,t._)`${_} >= ${c}`;p!==void 0&&(S=(0,t._)`${S} && ${_} <= ${p}`),o.pass(S);return}f.items=!0;const v=s.name("valid");p===void 0&&c===1?E(v,()=>s.if(v,()=>s.break())):c===0?(s.let(v,!0),p!==void 0&&s.if((0,t._)`${u}.length > 0`,h)):(s.let(v,!1),h()),o.result(v,()=>o.reset());function h(){const S=s.name("_valid"),$=s.let("count",0);E(S,()=>s.if(S,()=>y($)))}function E(S,$){s.forRange("i",0,_,T=>{o.subschema({keyword:"contains",dataProp:T,dataPropType:r.Type.Num,compositeRule:!0},S),$()})}function y(S){s.code((0,t._)`${S}++`),p===void 0?s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0).break()):(s.if((0,t._)`${S} > ${p}`,()=>s.assign(v,!1).break()),c===1?s.assign(v,!0):s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0)))}}};e.default=i}}),Zte=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=br(),r=Ur(),n=ma();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);s(l,u),a(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const p=Array.isArray(l[c])?u:f;p[c]=l[c]}return[u,f]}function s(l,u=l.schema){const{gen:f,data:c,it:p}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,p.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),p.allErrors?f.if(v,()=>{for(const h of _)(0,n.checkReportMissingProp)(l,h)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:f,data:c,keyword:p,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:p,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i}}),ere=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:s,schema:a,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,a))return;const f=s.name("valid");s.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),s.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||s.break()})}),o.ok(f)}};e.default=i}}),Sq=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ma(),r=br(),n=uc(),i=Ur(),o={message:"must NOT have additional properties",params:({params:a})=>(0,r._)`{additionalProperty: ${a.additionalProperty}}`},s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(a){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:p,it:m}=a;if(!p)throw new Error("ajv implementation error");const{allErrors:g,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(m,u))return;const v=(0,t.allSchemaProperties)(f.properties),h=(0,t.allSchemaProperties)(f.patternProperties);E(),a.ok((0,r._)`${p} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!h.length?$(d):l.if(y(d),()=>$(d))})}function y(d){let A;if(v.length>8){const x=(0,i.schemaRefOrVal)(m,f.properties,"properties");A=(0,t.isOwnProperty)(l,x,d)}else v.length?A=(0,r.or)(...v.map(x=>(0,r._)`${d} === ${x}`)):A=r.nil;return h.length&&(A=(0,r.or)(A,...h.map(x=>(0,r._)`${(0,t.usePattern)(a,x)}.test(${d})`))),(0,r.not)(A)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function $(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){a.setParams({additionalProperty:d}),a.error(),g||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(m,u)){const A=l.name("valid");_.removeAdditional==="failing"?(T(d,A,!1),l.if((0,r.not)(A),()=>{a.reset(),S(d)})):(T(d,A),g||l.if((0,r.not)(A),()=>l.break()))}}function T(d,A,x){const O={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};x===!1&&Object.assign(O,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(O,A)}}};e.default=s}}),tre=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=uE(),r=ma(),n=Ur(),i=Sq(),o={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,parentSchema:u,data:f,it:c}=s;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const p=(0,r.allSchemaProperties)(l);for(const h of p)c.definedProperties.add(h);c.opts.unevaluated&&p.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(a,(0,n.toHash)(p),c.props));const m=p.filter(h=>!(0,n.alwaysValidSchema)(c,l[h]));if(m.length===0)return;const g=a.name("valid");for(const h of m)_(h)?v(h):(a.if((0,r.propertyInData)(a,f,h,c.opts.ownProperties)),v(h),c.allErrors||a.else().var(g,!0),a.endIf()),s.it.definedProperties.add(h),s.ok(g);function _(h){return c.opts.useDefaults&&!c.compositeRule&&l[h].default!==void 0}function v(h){s.subschema({keyword:"properties",schemaProp:h,dataProp:h},g)}}};e.default=o}}),rre=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ma(),r=br(),n=Ur(),i=Ur(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,data:u,parentSchema:f,it:c}=s,{opts:p}=c,m=(0,t.allSchemaProperties)(l),g=m.filter($=>(0,n.alwaysValidSchema)(c,l[$]));if(m.length===0||g.length===m.length&&(!c.opts.unevaluated||c.props===!0))return;const _=p.strictSchema&&!p.allowMatchingProperties&&f.properties,v=a.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(a,c.props));const{props:h}=c;E();function E(){for(const $ of m)_&&y($),c.allErrors?S($):(a.var(v,!0),S($),a.if(v))}function y($){for(const T in _)new RegExp($).test(T)&&(0,n.checkStrictMode)(c,`property ${T} matches pattern ${$} (use allowMatchingProperties)`)}function S($){a.forIn("key",u,T=>{a.if((0,r._)`${(0,t.usePattern)(s,$)}.test(${T})`,()=>{const d=g.includes($);d||s.subschema({keyword:"patternProperties",schemaProp:$,dataProp:T,dataPropType:i.Type.Str},v),c.opts.unevaluated&&h!==!0?a.assign((0,r._)`${h}[${T}]`,!0):!d&&!c.allErrors&&a.if((0,r.not)(v),()=>a.break())})})}}};e.default=o}}),nre=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ur(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:s}=n;if((0,t.alwaysValidSchema)(s,o)){n.fail();return}const a=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),n.failResult(a,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),ire=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ma(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),ore=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,it:u}=o;if(!Array.isArray(a))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=a,c=s.let("valid",!1),p=s.let("passing",null),m=s.name("_valid");o.setParams({passing:p}),s.block(g),o.result(c,()=>o.reset(),()=>o.error(!0));function g(){f.forEach((_,v)=>{let h;(0,r.alwaysValidSchema)(u,_)?s.var(m,!0):h=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},m),v>0&&s.if((0,t._)`${m} && ${c}`).assign(c,!1).assign(p,(0,t._)`[${p}, ${v}]`).else(),s.if(m,()=>{s.assign(c,!0),s.assign(p,v),h&&o.mergeEvaluated(h,t.Name)})})}}};e.default=i}}),sre=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ur(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:s}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const a=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(s,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},a);n.ok(a),n.mergeEvaluated(f)})}};e.default=r}}),are=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n={message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(s){const{gen:a,parentSchema:l,it:u}=s;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const p=a.let("valid",!0),m=a.name("_valid");if(g(),s.reset(),f&&c){const v=a.let("ifClause");s.setParams({ifClause:v}),a.if(m,_("then",v),_("else",v))}else f?a.if(m,_("then")):a.if((0,t.not)(m),_("else"));s.pass(p,()=>s.error(!0));function g(){const v=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);s.mergeEvaluated(v)}function _(v,h){return()=>{const E=s.subschema({keyword:v},m);a.assign(p,m),s.mergeValidEvaluated(E,p),h?a.assign(h,(0,t._)`${v}`):s.setParams({ifClause:v})}}}};function o(s,a){const l=s.schema[a];return l!==void 0&&!(0,r.alwaysValidSchema)(s,l)}e.default=i}}),lre=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ur(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),ure=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=_q(),r=Yte(),n=Eq(),i=Xte(),o=Qte(),s=Zte(),a=ere(),l=Sq(),u=tre(),f=rre(),c=nre(),p=ire(),m=ore(),g=sre(),_=are(),v=lre();function h(E=!1){const y=[c.default,p.default,m.default,g.default,_.default,v.default,a.default,l.default,s.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=h}}),cre=Oe({"../core/node_modules/ajv/dist/vocabularies/format/format.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:s,data:a,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:p,errSchemaPath:m,schemaEnv:g,self:_}=c;if(!p.validateFormats)return;l?v():h();function v(){const E=s.scopeValue("formats",{ref:_.formats,code:p.code.formats}),y=s.const("fDef",(0,t._)`${E}[${f}]`),S=s.let("fType"),$=s.let("format");s.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>s.assign(S,(0,t._)`${y}.type || "string"`).assign($,(0,t._)`${y}.validate`),()=>s.assign(S,(0,t._)`"string"`).assign($,y)),i.fail$data((0,t.or)(T(),d()));function T(){return p.strictSchema===!1?t.nil:(0,t._)`${f} && !${$}`}function d(){const A=g.$async?(0,t._)`(${y}.async ? await ${$}(${a}) : ${$}(${a}))`:(0,t._)`${$}(${a})`,x=(0,t._)`(typeof ${$} == "function" ? ${A} : ${$}.test(${a}))`;return(0,t._)`${$} && ${$} !== true && ${S} === ${o} && !${x}`}}function h(){const E=_.formats[u];if(!E){T();return}if(E===!0)return;const[y,S,$]=d(E);y===o&&i.pass(A());function T(){if(p.strictSchema===!1){_.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function d(x){const O=x instanceof RegExp?(0,t.regexpCode)(x):p.code.formats?(0,t._)`${p.code.formats}${(0,t.getProperty)(u)}`:void 0,D=s.scopeValue("formats",{key:u,ref:x,code:O});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,t._)`${D}.validate`]:["string",x,D]}function A(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!g.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${a})`}return typeof S=="function"?(0,t._)`${$}(${a})`:(0,t._)`${$}.test(${a})`}}}};e.default=n}}),fre=Oe({"../core/node_modules/ajv/dist/vocabularies/format/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=cre(),r=[t.default];e.default=r}}),dre=Oe({"../core/node_modules/ajv/dist/vocabularies/metadata.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),hre=Oe({"../core/node_modules/ajv/dist/vocabularies/draft7.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Mte(),r=Jte(),n=ure(),i=fre(),o=dre(),s=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=s}}),pre=Oe({"../core/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))}}),mre=Oe({"../core/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=pre(),n=uN(),i=Ur(),o={message:({params:{discrError:a,tagName:l}})=>a===r.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:u}})=>(0,t._)`{error: ${a}, tag: ${u}, tagValue: ${l}}`},s={keyword:"discriminator",type:"object",schemaType:"object",error:o,code(a){const{gen:l,data:u,schema:f,parentSchema:c,it:p}=a,{oneOf:m}=c;if(!p.opts.discriminator)throw new Error("discriminator: requires discriminator option");const g=f.propertyName;if(typeof g!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const _=l.let("valid",!1),v=l.const("tag",(0,t._)`${u}${(0,t.getProperty)(g)}`);l.if((0,t._)`typeof ${v} == "string"`,()=>h(),()=>a.error(!1,{discrError:r.DiscrError.Tag,tag:v,tagName:g})),a.ok(_);function h(){const S=y();l.if(!1);for(const $ in S)l.elseIf((0,t._)`${v} === ${$}`),l.assign(_,E(S[$]));l.else(),a.error(!1,{discrError:r.DiscrError.Mapping,tag:v,tagName:g}),l.endIf()}function E(S){const $=l.name("valid"),T=a.subschema({keyword:"oneOf",schemaProp:S},$);return a.mergeEvaluated(T,t.Name),$}function y(){var S;const $={},T=A(c);let d=!0;for(let D=0;D<m.length;D++){let F=m[D];F!=null&&F.$ref&&!(0,i.schemaHasRulesButRef)(F,p.self.RULES)&&(F=n.resolveRef.call(p.self,p.schemaEnv.root,p.baseId,F==null?void 0:F.$ref),F instanceof n.SchemaEnv&&(F=F.schema));const V=(S=F==null?void 0:F.properties)===null||S===void 0?void 0:S[g];if(typeof V!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${g}"`);d=d&&(T||A(F)),x(V,D)}if(!d)throw new Error(`discriminator: "${g}" must be required`);return $;function A({required:D}){return Array.isArray(D)&&D.includes(g)}function x(D,F){if(D.const)O(D.const,F);else if(D.enum)for(const V of D.enum)O(V,F);else throw new Error(`discriminator: "properties/${g}" must have "const" or "enum"`)}function O(D,F){if(typeof D!="string"||D in $)throw new Error(`discriminator: "${g}" values must be unique strings`);$[D]=F}}}};e.default=s}}),gre=Oe({"../core/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),$q=Oe({"../core/node_modules/ajv/dist/ajv.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=Cte(),n=hre(),i=mre(),o=gre(),s=["/properties"],a="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(m,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}};t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=uE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=br();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=aN();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var p=lN();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return p.default}})}}),vre=Oe({"../../node_modules/ajv-formats/dist/formats.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(x,O){return{validate:x,compare:O}}e.fullFormats={date:t(o,s),time:t(l,u),"date-time":t(c,p),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:A,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:h,int32:{type:"number",validate:S},int64:{type:"number",validate:$},float:{type:"number",validate:T},double:{type:"number",validate:T},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,p),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(x){return x%4===0&&(x%100!==0||x%400===0)}var n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(x){const O=n.exec(x);if(!O)return!1;const D=+O[1],F=+O[2],V=+O[3];return F>=1&&F<=12&&V>=1&&V<=(F===2&&r(D)?29:i[F])}function s(x,O){if(x&&O)return x>O?1:x<O?-1:0}var a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(x,O){const D=a.exec(x);if(!D)return!1;const F=+D[1],V=+D[2],Q=+D[3],H=D[5];return(F<=23&&V<=59&&Q<=59||F===23&&V===59&&Q===60)&&(!O||H!=="")}function u(x,O){if(!(x&&O))return;const D=a.exec(x),F=a.exec(O);if(D&&F)return x=D[1]+D[2]+D[3]+(D[4]||""),O=F[1]+F[2]+F[3]+(F[4]||""),x>O?1:x<O?-1:0}var f=/t|\s/i;function c(x){const O=x.split(f);return O.length===2&&o(O[0])&&l(O[1],!0)}function p(x,O){if(!(x&&O))return;const[D,F]=x.split(f),[V,Q]=O.split(f),H=s(D,V);if(H!==void 0)return H||u(F,Q)}var m=/\/|:/,g=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function _(x){return m.test(x)&&g.test(x)}var v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function h(x){return v.lastIndex=0,v.test(x)}var E=-2147483648,y=2**31-1;function S(x){return Number.isInteger(x)&&x<=y&&x>=E}function $(x){return Number.isInteger(x)}function T(){return!0}var d=/[^\\]\\Z/;function A(x){if(d.test(x))return!1;try{return new RegExp(x),!0}catch{return!1}}}}),qb=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(h){if(super(),!e.IDENTIFIER.test(h))throw new Error("CodeGen: name must be a valid identifier");this.str=h}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(h){super(),this._items=typeof h=="string"?[h]:h}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const h=this._items[0];return h===""||h==='""'}get str(){var h;return(h=this._str)!==null&&h!==void 0?h:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var h;return(h=this._names)!==null&&h!==void 0?h:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(h,...E){const y=[h[0]];let S=0;for(;S<E.length;)a(y,E[S]),y.push(h[++S]);return new n(y)}e._=i;var o=new n("+");function s(h,...E){const y=[m(h[0])];let S=0;for(;S<E.length;)y.push(o),a(y,E[S]),y.push(o,m(h[++S]));return l(y),new n(y)}e.str=s;function a(h,E){E instanceof n?h.push(...E._items):E instanceof r?h.push(E):h.push(c(E))}e.addCodeArg=a;function l(h){let E=1;for(;E<h.length-1;){if(h[E]===o){const y=u(h[E-1],h[E+1]);if(y!==void 0){h.splice(E-1,3,y);continue}h[E++]="+"}E++}}function u(h,E){if(E==='""')return h;if(h==='""')return E;if(typeof h=="string")return E instanceof r||h[h.length-1]!=='"'?void 0:typeof E!="string"?`${h.slice(0,-1)}${E}"`:E[0]==='"'?h.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(h instanceof r))return`"${h}${E.slice(1)}`}function f(h,E){return E.emptyStr()?h:h.emptyStr()?E:s`${h}${E}`}e.strConcat=f;function c(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:m(Array.isArray(h)?h.join(","):h)}function p(h){return new n(m(h))}e.stringify=p;function m(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):i`[${h}]`}e.getProperty=g;function _(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(h){return new n(h.toString())}e.regexpCode=v}}),CD=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/scope.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=qb(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var s=(0,t._)`\n`,a=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?s:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:p}=c,m=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[p];if(g){const h=g.get(m);if(h)return h}else g=this._values[p]=new Map;g.set(m,c);const _=this._scope[p]||(this._scope[p]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:p,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let p=t.nil;for(const m in l){const g=l[m];if(!g)continue;const _=f[m]=f[m]||new Map;g.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let h=u(v);if(h){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${E} ${v} = ${h};${this.opts._n}`}else if(h=c==null?void 0:c(v))p=(0,t._)`${p}${h}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return p}};e.ValueScope=a}}),pr=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=qb(),r=CD(),n=qb();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=CD();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(P,I){return this}},s=class extends o{constructor(P,I,q){super(),this.varKind=P,this.name=I,this.rhs=q}render({es5:P,_n:I}){const q=P?r.varKinds.var:this.varKind,ie=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${ie};`+I}optimizeNames(P,I){if(P[this.name.str])return this.rhs&&(this.rhs=Q(this.rhs,P,I)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},a=class extends o{constructor(P,I,q){super(),this.lhs=P,this.rhs=I,this.sideEffects=q}render({_n:P}){return`${this.lhs} = ${this.rhs};`+P}optimizeNames(P,I){if(!(this.lhs instanceof t.Name&&!P[this.lhs.str]&&!this.sideEffects))return this.rhs=Q(this.rhs,P,I),this}get names(){const P=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(P,this.rhs)}},l=class extends a{constructor(P,I,q,ie){super(P,q,ie),this.op=I}render({_n:P}){return`${this.lhs} ${this.op}= ${this.rhs};`+P}},u=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`${this.label}:`+P}},f=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`break${this.label?` ${this.label}`:""};`+P}},c=class extends o{constructor(P){super(),this.error=P}render({_n:P}){return`throw ${this.error};`+P}get names(){return this.error.names}},p=class extends o{constructor(P){super(),this.code=P}render({_n:P}){return`${this.code};`+P}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(P,I){return this.code=Q(this.code,P,I),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},m=class extends o{constructor(P=[]){super(),this.nodes=P}render(P){return this.nodes.reduce((I,q)=>I+q.render(P),"")}optimizeNodes(){const{nodes:P}=this;let I=P.length;for(;I--;){const q=P[I].optimizeNodes();Array.isArray(q)?P.splice(I,1,...q):q?P[I]=q:P.splice(I,1)}return P.length>0?this:void 0}optimizeNames(P,I){const{nodes:q}=this;let ie=q.length;for(;ie--;){const J=q[ie];J.optimizeNames(P,I)||(H(P,J.names),q.splice(ie,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((P,I)=>F(P,I.names),{})}},g=class extends m{render(P){return"{"+P._n+super.render(P)+"}"+P._n}},_=class extends m{},v=class extends g{};v.kind="else";var h=class _w extends g{constructor(I,q){super(q),this.condition=I}render(I){let q=`if(${this.condition})`+super.render(I);return this.else&&(q+="else "+this.else.render(I)),q}optimizeNodes(){super.optimizeNodes();const I=this.condition;if(I===!0)return this.nodes;let q=this.else;if(q){const ie=q.optimizeNodes();q=this.else=Array.isArray(ie)?new v(ie):ie}if(q)return I===!1?q instanceof _w?q:q.nodes:this.nodes.length?this:new _w(X(I),q instanceof _w?[q]:q.nodes);if(!(I===!1||!this.nodes.length))return this}optimizeNames(I,q){var ie;if(this.else=(ie=this.else)===null||ie===void 0?void 0:ie.optimizeNames(I,q),!!(super.optimizeNames(I,q)||this.else))return this.condition=Q(this.condition,I,q),this}get names(){const I=super.names;return V(I,this.condition),this.else&&F(I,this.else.names),I}};h.kind="if";var E=class extends g{};E.kind="for";var y=class extends E{constructor(P){super(),this.iteration=P}render(P){return`for(${this.iteration})`+super.render(P)}optimizeNames(P,I){if(super.optimizeNames(P,I))return this.iteration=Q(this.iteration,P,I),this}get names(){return F(super.names,this.iteration.names)}},S=class extends E{constructor(P,I,q,ie){super(),this.varKind=P,this.name=I,this.from=q,this.to=ie}render(P){const I=P.es5?r.varKinds.var:this.varKind,{name:q,from:ie,to:J}=this;return`for(${I} ${q}=${ie}; ${q}<${J}; ${q}++)`+super.render(P)}get names(){const P=V(super.names,this.from);return V(P,this.to)}},$=class extends E{constructor(P,I,q,ie){super(),this.loop=P,this.varKind=I,this.name=q,this.iterable=ie}render(P){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(P)}optimizeNames(P,I){if(super.optimizeNames(P,I))return this.iterable=Q(this.iterable,P,I),this}get names(){return F(super.names,this.iterable.names)}},T=class extends g{constructor(P,I,q){super(),this.name=P,this.args=I,this.async=q}render(P){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(P)}};T.kind="func";var d=class extends m{render(P){return"return "+super.render(P)}};d.kind="return";var A=class extends g{render(P){let I="try"+super.render(P);return this.catch&&(I+=this.catch.render(P)),this.finally&&(I+=this.finally.render(P)),I}optimizeNodes(){var P,I;return super.optimizeNodes(),(P=this.catch)===null||P===void 0||P.optimizeNodes(),(I=this.finally)===null||I===void 0||I.optimizeNodes(),this}optimizeNames(P,I){var q,ie;return super.optimizeNames(P,I),(q=this.catch)===null||q===void 0||q.optimizeNames(P,I),(ie=this.finally)===null||ie===void 0||ie.optimizeNames(P,I),this}get names(){const P=super.names;return this.catch&&F(P,this.catch.names),this.finally&&F(P,this.finally.names),P}},x=class extends g{constructor(P){super(),this.error=P}render(P){return`catch(${this.error})`+super.render(P)}};x.kind="catch";var O=class extends g{render(P){return"finally"+super.render(P)}};O.kind="finally";var D=class{constructor(P,I={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...I,_n:I.lines?`
`:""},this._extScope=P,this._scope=new r.Scope({parent:P}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(P){return this._scope.name(P)}scopeName(P){return this._extScope.name(P)}scopeValue(P,I){const q=this._extScope.value(P,I);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(P,I){return this._extScope.getValue(P,I)}scopeRefs(P){return this._extScope.scopeRefs(P,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(P,I,q,ie){const J=this._scope.toName(I);return q!==void 0&&ie&&(this._constants[J.str]=q),this._leafNode(new s(P,J,q)),J}const(P,I,q){return this._def(r.varKinds.const,P,I,q)}let(P,I,q){return this._def(r.varKinds.let,P,I,q)}var(P,I,q){return this._def(r.varKinds.var,P,I,q)}assign(P,I,q){return this._leafNode(new a(P,I,q))}add(P,I){return this._leafNode(new l(P,e.operators.ADD,I))}code(P){return typeof P=="function"?P():P!==t.nil&&this._leafNode(new p(P)),this}object(...P){const I=["{"];for(const[q,ie]of P)I.length>1&&I.push(","),I.push(q),(q!==ie||this.opts.es5)&&(I.push(":"),(0,t.addCodeArg)(I,ie));return I.push("}"),new t._Code(I)}if(P,I,q){if(this._blockNode(new h(P)),I&&q)this.code(I).else().code(q).endIf();else if(I)this.code(I).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(P){return this._elseNode(new h(P))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(h,v)}_for(P,I){return this._blockNode(P),I&&this.code(I).endFor(),this}for(P,I){return this._for(new y(P),I)}forRange(P,I,q,ie,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(P);return this._for(new S(J,Y,I,q),()=>ie(Y))}forOf(P,I,q,ie=r.varKinds.const){const J=this._scope.toName(P);if(this.opts.es5){const Y=I instanceof t.Name?I:this.var("_arr",I);return this.forRange("_i",0,(0,t._)`${Y}.length`,se=>{this.var(J,(0,t._)`${Y}[${se}]`),q(J)})}return this._for(new $("of",ie,J,I),()=>q(J))}forIn(P,I,q,ie=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(P,(0,t._)`Object.keys(${I})`,q);const J=this._scope.toName(P);return this._for(new $("in",ie,J,I),()=>q(J))}endFor(){return this._endBlockNode(E)}label(P){return this._leafNode(new u(P))}break(P){return this._leafNode(new f(P))}return(P){const I=new d;if(this._blockNode(I),this.code(P),I.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(P,I,q){if(!I&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const ie=new A;if(this._blockNode(ie),this.code(P),I){const J=this.name("e");this._currNode=ie.catch=new x(J),I(J)}return q&&(this._currNode=ie.finally=new O,this.code(q)),this._endBlockNode(x,O)}throw(P){return this._leafNode(new c(P))}block(P,I){return this._blockStarts.push(this._nodes.length),P&&this.code(P).endBlock(I),this}endBlock(P){const I=this._blockStarts.pop();if(I===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-I;if(q<0||P!==void 0&&q!==P)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${P} expected`);return this._nodes.length=I,this}func(P,I=t.nil,q,ie){return this._blockNode(new T(P,I,q)),ie&&this.code(ie).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(P=1){for(;P-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(P){return this._currNode.nodes.push(P),this}_blockNode(P){this._currNode.nodes.push(P),this._nodes.push(P)}_endBlockNode(P,I){const q=this._currNode;if(q instanceof P||I&&q instanceof I)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${I?`${P.kind}/${I.kind}`:P.kind}"`)}_elseNode(P){const I=this._currNode;if(!(I instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=I.else=P,this}get _root(){return this._nodes[0]}get _currNode(){const P=this._nodes;return P[P.length-1]}set _currNode(P){const I=this._nodes;I[I.length-1]=P}};e.CodeGen=D;function F(P,I){for(const q in I)P[q]=(P[q]||0)+(I[q]||0);return P}function V(P,I){return I instanceof t._CodeOrName?F(P,I.names):P}function Q(P,I,q){if(P instanceof t.Name)return ie(P);if(!J(P))return P;return new t._Code(P._items.reduce((Y,se)=>(se instanceof t.Name&&(se=ie(se)),se instanceof t._Code?Y.push(...se._items):Y.push(se),Y),[]));function ie(Y){const se=q[Y.str];return se===void 0||I[Y.str]!==1?Y:(delete I[Y.str],se)}function J(Y){return Y instanceof t._Code&&Y._items.some(se=>se instanceof t.Name&&I[se.str]===1&&q[se.str]!==void 0)}}function H(P,I){for(const q in I)P[q]=(P[q]||0)-(I[q]||0)}function X(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${K(P)}`}e.not=X;var fe=B(e.operators.AND);function Z(...P){return P.reduce(fe)}e.and=Z;var ne=B(e.operators.OR);function C(...P){return P.reduce(ne)}e.or=C;function B(P){return(I,q)=>I===t.nil?q:q===t.nil?I:(0,t._)`${K(I)} ${P} ${K(q)}`}function K(P){return P instanceof t.Name?P:(0,t._)`(${P})`}}}),zr=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/util.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=pr(),r=qb();function n(T){const d={};for(const A of T)d[A]=!0;return d}e.toHash=n;function i(T,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(T,d),!s(d,T.self.RULES.all))}e.alwaysValidSchema=i;function o(T,d=T.schema){const{opts:A,self:x}=T;if(!A.strictSchema||typeof d=="boolean")return;const O=x.RULES.keywords;for(const D in d)O[D]||$(T,`unknown keyword: "${D}"`)}e.checkUnknownRules=o;function s(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(d[A])return!0;return!1}e.schemaHasRules=s;function a(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(A!=="$ref"&&d.all[A])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:T,schemaPath:d},A,x,O){if(!O){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${T}${d}${(0,t.getProperty)(x)}`}e.schemaRefOrVal=l;function u(T){return p(decodeURIComponent(T))}e.unescapeFragment=u;function f(T){return encodeURIComponent(c(T))}e.escapeFragment=f;function c(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function p(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=p;function m(T,d){if(Array.isArray(T))for(const A of T)d(A);else d(T)}e.eachItem=m;function g({mergeNames:T,mergeToName:d,mergeValues:A,resultToName:x}){return(O,D,F,V)=>{const Q=F===void 0?D:F instanceof t.Name?(D instanceof t.Name?T(O,D,F):d(O,D,F),F):D instanceof t.Name?(d(O,F,D),D):A(D,F);return V===t.Name&&!(Q instanceof t.Name)?x(O,Q):Q}}e.mergeEvaluated={props:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>{T.if((0,t._)`${d} === true`,()=>T.assign(A,!0),()=>T.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${d})`))}),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>{d===!0?T.assign(A,!0):(T.assign(A,(0,t._)`${A} || {}`),v(T,A,d))}),mergeValues:(T,d)=>T===!0?!0:{...T,...d},resultToName:_}),items:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>T.assign(A,(0,t._)`${d} === true ? true : ${A} > ${d} ? ${A} : ${d}`)),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>T.assign(A,d===!0?!0:(0,t._)`${A} > ${d} ? ${A} : ${d}`)),mergeValues:(T,d)=>T===!0?!0:Math.max(T,d),resultToName:(T,d)=>T.var("items",d)})};function _(T,d){if(d===!0)return T.var("props",!0);const A=T.var("props",(0,t._)`{}`);return d!==void 0&&v(T,A,d),A}e.evaluatedPropsToName=_;function v(T,d,A){Object.keys(A).forEach(x=>T.assign((0,t._)`${d}${(0,t.getProperty)(x)}`,!0))}e.setEvaluated=v;var h={};function E(T,d){return T.scopeValue("func",{ref:d,code:h[d.code]||(h[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(y=e.Type||(e.Type={}));function S(T,d,A){if(T instanceof t.Name){const x=d===y.Num;return A?x?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:x?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(T).toString():"/"+c(T)}e.getErrorPath=S;function $(T,d,A=T.opts.strictSchema){if(A){if(d=`strict mode: ${d}`,A===!0)throw new Error(d);T.self.logger.warn(d)}}e.checkStrictMode=$}}),cc=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/names.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),cE=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/errors.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=pr(),r=zr(),n=cc();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:h})=>h?(0,t.str)`"${v}" keyword must be ${h} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,h=e.keywordError,E,y){const{it:S}=v,{gen:$,compositeRule:T,allErrors:d}=S,A=c(v,h,E);y??(T||d)?l($,A):u(S,(0,t._)`[${A}]`)}e.reportError=i;function o(v,h=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:$,allErrors:T}=y,d=c(v,h,E);l(S,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function s(v,h){v.assign(n.default.errors,h),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(h,()=>v.assign((0,t._)`${n.default.vErrors}.length`,h),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:h,schemaValue:E,data:y,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${h}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,E),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=a;function l(v,h){const E=v.const("err",h);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,h){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${h})`):(E.assign((0,t._)`${y}.errors`,h),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,h,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:p(v,h,E)}function p(v,h,E={}){const{gen:y,it:S}=v,$=[m(S,E),g(v,E)];return _(v,h,$),y.object(...$)}function m({errorPath:v},{instancePath:h}){const E=h?(0,t.str)`${v}${(0,r.getErrorPath)(h,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:h}},{schemaPath:E,parentSchema:y}){let S=y?h:(0,t.str)`${h}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:h,message:E},y){const{keyword:S,data:$,schemaValue:T,it:d}=v,{opts:A,propertyName:x,topSchemaRef:O,schemaPath:D}=d;y.push([f.keyword,S],[f.params,typeof h=="function"?h(v):h||(0,t._)`{}`]),A.messages&&y.push([f.message,typeof E=="function"?E(v):E]),A.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${O}${D}`],[n.default.data,$]),x&&y.push([f.propertyName,x])}}}),yre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=cE(),r=pr(),n=cc(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?a(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function s(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),a(l)):f.var(u,!0)}e.boolOrEmptySchema=s;function a(l,u){const{gen:f,data:c}=l,p={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(p,i,void 0,u)}}}),Tq=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/rules.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),Aq=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/applicability.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},s){const a=o.RULES.types[s];return a&&a!==!0&&r(i,a)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(s=>n(i,s))}e.shouldUseGroup=r;function n(i,o){var s;return i[o.keyword]!==void 0||((s=o.definition.implements)===null||s===void 0?void 0:s.some(a=>i[a]!==void 0))}e.shouldUseRule=n}}),Vb=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/dataType.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=Tq(),r=Aq(),n=cE(),i=pr(),o=zr(),s;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(s=e.DataType||(e.DataType={}));function a(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=a;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:$,data:T,opts:d}=y,A=c(S,d.coerceTypes),x=S.length>0&&!(A.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(x){const O=_(S,T,d.strictNumbers,s.Wrong);$.if(O,()=>{A.length?p(y,S,A):h(y)})}return x}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter($=>f.has($)||S==="array"&&$==="array"):[]}function p(y,S,$){const{gen:T,data:d,opts:A}=y,x=T.let("dataType",(0,i._)`typeof ${d}`),O=T.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&T.if((0,i._)`${x} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>T.assign(d,(0,i._)`${d}[0]`).assign(x,(0,i._)`typeof ${d}`).if(_(S,d,A.strictNumbers),()=>T.assign(O,d))),T.if((0,i._)`${O} !== undefined`);for(const F of $)(f.has(F)||F==="array"&&A.coerceTypes==="array")&&D(F);T.else(),h(y),T.endIf(),T.if((0,i._)`${O} !== undefined`,()=>{T.assign(d,O),m(y,O)});function D(F){switch(F){case"string":T.elseIf((0,i._)`${x} == "number" || ${x} == "boolean"`).assign(O,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(O,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${x} == "boolean" || ${d} === null
              || (${x} == "string" && ${d} && ${d} == +${d})`).assign(O,(0,i._)`+${d}`);return;case"integer":T.elseIf((0,i._)`${x} === "boolean" || ${d} === null
              || (${x} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(O,(0,i._)`+${d}`);return;case"boolean":T.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(O,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(O,!0);return;case"null":T.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),T.assign(O,null);return;case"array":T.elseIf((0,i._)`${x} === "string" || ${x} === "number"
              || ${x} === "boolean" || ${d} === null`).assign(O,(0,i._)`[${d}]`)}}}function m({gen:y,parentData:S,parentDataProperty:$},T){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${$}]`,T))}function g(y,S,$,T=s.Correct){const d=T===s.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":A=(0,i._)`Array.isArray(${S})`;break;case"object":A=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":A=x((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":A=x();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return T===s.Correct?A:(0,i.not)(A);function x(O=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,O,$?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=g;function _(y,S,$,T){if(y.length===1)return g(y[0],S,$,T);let d;const A=(0,o.toHash)(y);if(A.array&&A.object){const x=(0,i._)`typeof ${S} != "object"`;d=A.null?x:(0,i._)`!${S} || ${x}`,delete A.null,delete A.array,delete A.object}else d=i.nil;A.number&&delete A.integer;for(const x in A)d=(0,i.and)(d,g(x,S,$,T));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function h(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=h;function E(y){const{gen:S,data:$,schema:T}=y,d=(0,o.schemaRefOrVal)(y,T,"type");return{gen:S,keyword:"type",data:$,schema:T.type,schemaCode:d,schemaValue:d,parentSchema:T,params:{},it:y}}}}),wre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/defaults.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=pr(),r=zr();function n(o,s){const{properties:a,items:l}=o.schema;if(s==="object"&&a)for(const u in a)i(o,u,a[u].default);else s==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,s,a){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(a===void 0)return;const p=(0,t._)`${f}${(0,t.getProperty)(s)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${p}`);return}let m=(0,t._)`${p} === undefined`;c.useDefaults==="empty"&&(m=(0,t._)`${m} || ${p} === null || ${p} === ""`),l.if(m,(0,t._)`${p} = ${(0,t.stringify)(a)}`)}}}),ga=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=pr(),r=zr(),n=cc(),i=zr();function o(y,S){const{gen:$,data:T,it:d}=y;$.if(c($,T,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function s({gen:y,data:S,it:{opts:$}},T,d){return(0,t.or)(...T.map(A=>(0,t.and)(c(y,S,A,$.ownProperties),(0,t._)`${d} = ${A}`)))}e.checkMissingProp=s;function a(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=a;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,$){return(0,t._)`${l(y)}.call(${S}, ${$})`}e.isOwnProperty=u;function f(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} !== undefined`;return T?(0,t._)`${d} && ${u(y,S,$)}`:d}e.propertyInData=f;function c(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} === undefined`;return T?(0,t.or)(d,(0,t.not)(u(y,S,$))):d}e.noPropertyInData=c;function p(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=p;function m(y,S){return p(S).filter($=>!(0,r.alwaysValidSchema)(y,S[$]))}e.schemaProperties=m;function g({schemaCode:y,data:S,it:{gen:$,topSchemaRef:T,schemaPath:d,errorPath:A},it:x},O,D,F){const V=F?(0,t._)`${y}, ${S}, ${T}${d}`:S,Q=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,A)],[n.default.parentData,x.parentData],[n.default.parentDataProperty,x.parentDataProperty],[n.default.rootData,n.default.rootData]];x.opts.dynamicRef&&Q.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const H=(0,t._)`${V}, ${$.object(...Q)}`;return D!==t.nil?(0,t._)`${O}.call(${D}, ${H})`:(0,t._)`${O}(${H})`}e.callValidateCode=g;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},$){const T=S.unicodeRegExp?"u":"",{regExp:d}=S.code,A=d($,T);return y.scopeValue("pattern",{key:A.toString(),ref:A,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${$}, ${T})`})}e.usePattern=v;function h(y){const{gen:S,data:$,keyword:T,it:d}=y,A=S.name("valid");if(d.allErrors){const O=S.let("valid",!0);return x(()=>S.assign(O,!1)),O}return S.var(A,!0),x(()=>S.break()),A;function x(O){const D=S.const("len",(0,t._)`${$}.length`);S.forRange("i",0,D,F=>{y.subschema({keyword:T,dataProp:F,dataPropType:r.Type.Num},A),S.if((0,t.not)(A),O)})}}e.validateArray=h;function E(y){const{gen:S,schema:$,keyword:T,it:d}=y;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(D=>(0,r.alwaysValidSchema)(d,D))&&!d.opts.unevaluated)return;const x=S.let("valid",!1),O=S.name("_valid");S.block(()=>$.forEach((D,F)=>{const V=y.subschema({keyword:T,schemaProp:F,compositeRule:!0},O);S.assign(x,(0,t._)`${x} || ${O}`),y.mergeValidEvaluated(V,O)||S.if((0,t.not)(x))})),y.result(x,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),bre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/keyword.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=pr(),r=cc(),n=ga(),i=cE();function o(m,g){const{gen:_,keyword:v,schema:h,parentSchema:E,it:y}=m,S=g.macro.call(y.self,h,E,y),$=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const T=_.name("valid");m.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:$,compositeRule:!0},T),m.pass(T,()=>m.error(!0))}e.macroKeywordCode=o;function s(m,g){var _;const{gen:v,keyword:h,schema:E,parentSchema:y,$data:S,it:$}=m;u($,g);const T=!S&&g.compile?g.compile.call($.self,E,y,$):g.validate,d=f(v,h,T),A=v.let("valid");m.block$data(A,x),m.ok((_=g.valid)!==null&&_!==void 0?_:A);function x(){if(g.errors===!1)F(),g.modifying&&a(m),V(()=>m.error());else{const Q=g.async?O():D();g.modifying&&a(m),V(()=>l(m,Q))}}function O(){const Q=v.let("ruleErrs",null);return v.try(()=>F((0,t._)`await `),H=>v.assign(A,!1).if((0,t._)`${H} instanceof ${$.ValidationError}`,()=>v.assign(Q,(0,t._)`${H}.errors`),()=>v.throw(H))),Q}function D(){const Q=(0,t._)`${d}.errors`;return v.assign(Q,null),F(t.nil),Q}function F(Q=g.async?(0,t._)`await `:t.nil){const H=$.opts.passContext?r.default.this:r.default.self,X=!("compile"in g&&!S||g.schema===!1);v.assign(A,(0,t._)`${Q}${(0,n.callValidateCode)(m,d,H,X)}`,g.modifying)}function V(Q){var H;v.if((0,t.not)((H=g.valid)!==null&&H!==void 0?H:A),Q)}}e.funcKeywordCode=s;function a(m){const{gen:g,data:_,it:v}=m;g.if(v.parentData,()=>g.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(m,g){const{gen:_}=m;_.if((0,t._)`Array.isArray(${g})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${g} : ${r.default.vErrors}.concat(${g})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(m)},()=>m.error())}function u({schemaEnv:m},g){if(g.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,g,_){if(_===void 0)throw new Error(`keyword "${g}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(m,g,_=!1){return!g.length||g.some(v=>v==="array"?Array.isArray(m):v==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==v||_&&typeof m>"u")}e.validSchemaType=c;function p({schema:m,opts:g,self:_,errSchemaPath:v},h,E){if(Array.isArray(h.keyword)?!h.keyword.includes(E):h.keyword!==E)throw new Error("ajv implementation error");const y=h.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(m,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(h.validateSchema&&!h.validateSchema(m[E])){const $=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(h.validateSchema.errors);if(g.validateSchema==="log")_.logger.error($);else throw new Error($)}}e.validateKeywordUsage=p}}),_re=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/subschema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=pr(),r=zr();function n(s,{keyword:a,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:p}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const m=s.schema[a];return l===void 0?{schema:m,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${a}`}:{schema:m[l],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(l)}`,errSchemaPath:`${s.errSchemaPath}/${a}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:p,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(s,a,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:p}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=a;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:h}=a,E=m.let("data",(0,t._)`${a.data}${(0,t.getProperty)(l)}`,!0);g(E),s.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,h.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${l}`,s.dataPathArr=[...v,s.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);g(_),p!==void 0&&(s.propertyName=p)}c&&(s.dataTypes=c);function g(_){s.data=_,s.dataLevel=a.dataLevel+1,s.dataTypes=[],a.definedProperties=new Set,s.parentData=a.data,s.dataNames=[...a.dataNames,_]}}e.extendSubschemaData=i;function o(s,{jtdDiscriminator:a,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(s.compositeRule=u),f!==void 0&&(s.createErrors=f),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=a,s.jtdMetadata=l}e.extendSubschemaMode=o}}),Ere=Oe({"../../node_modules/ajv-formats/node_modules/json-schema-traverse/index.js"(e,t){Te();var r=t.exports=function(o,s,a){typeof s=="function"&&(a=s,s={}),a=s.cb||a;var l=typeof a=="function"?a:a.pre||function(){},u=a.post||function(){};n(s,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,s,a,l,u,f,c,p,m,g){if(l&&typeof l=="object"&&!Array.isArray(l)){s(l,u,f,c,p,m,g);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var h=0;h<v.length;h++)n(o,s,a,v[h],u+"/"+_+"/"+h,f,u,_,l,h)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,s,a,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,s,a,v,u+"/"+_,f,u,_,l)}a(l,u,f,c,p,m,g)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),fE=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/resolve.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=zr(),r=Lh(),n=Ere(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,h=!0){return typeof v=="boolean"?!0:h===!0?!a(v):h?l(v)<=h:!1}e.inlineRef=o;var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(v){for(const h in v){if(s.has(h))return!0;const E=v[h];if(Array.isArray(E)&&E.some(a)||typeof E=="object"&&a(E))return!0}return!1}function l(v){let h=0;for(const E in v){if(E==="$ref")return 1/0;if(h++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>h+=l(y)),h===1/0))return 1/0}return h}function u(v,h="",E){E!==!1&&(h=p(h));const y=v.parse(h);return f(v,y)}e.getFullPath=u;function f(v,h){return v.serialize(h).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function p(v){return v?v.replace(c,""):""}e.normalizeId=p;function m(v,h,E){return E=p(E),v.resolve(h,E)}e.resolveUrl=m;var g=/^[a-z_][-a-z0-9._]*$/i;function _(v,h){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=p(v[E]||h),$={"":S},T=u(y,S,!1),d={},A=new Set;return n(v,{allKeys:!0},(D,F,V,Q)=>{if(Q===void 0)return;const H=T+F;let X=$[Q];typeof D[E]=="string"&&(X=fe.call(this,D[E])),Z.call(this,D.$anchor),Z.call(this,D.$dynamicAnchor),$[F]=X;function fe(ne){const C=this.opts.uriResolver.resolve;if(ne=p(X?C(X,ne):ne),A.has(ne))throw O(ne);A.add(ne);let B=this.refs[ne];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?x(D,B.schema,ne):ne!==p(H)&&(ne[0]==="#"?(x(D,d[ne],ne),d[ne]=D):this.refs[ne]=H),ne}function Z(ne){if(typeof ne=="string"){if(!g.test(ne))throw new Error(`invalid anchor "${ne}"`);fe.call(this,`#${ne}`)}}}),d;function x(D,F,V){if(F!==void 0&&!r(D,F))throw O(V)}function O(D){return new Error(`reference "${D}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),dE=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=yre(),r=Vb(),n=Aq(),i=Vb(),o=wre(),s=bre(),a=_re(),l=pr(),u=cc(),f=fE(),c=zr(),p=cE();function m(R){if(T(R)&&(A(R),$(R))){h(R);return}g(R,()=>(0,t.topBoolOrEmptySchema)(R))}e.validateFunctionCode=m;function g({gen:R,validateName:j,schema:M,schemaEnv:G,opts:oe},ce){oe.code.es5?R.func(j,(0,l._)`${u.default.data}, ${u.default.valCxt}`,G.$async,()=>{R.code((0,l._)`"use strict"; ${y(M,oe)}`),v(R,oe),R.code(ce)}):R.func(j,(0,l._)`${u.default.data}, ${_(oe)}`,G.$async,()=>R.code(y(M,oe)).code(ce))}function _(R){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${R.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(R,j){R.if(u.default.valCxt,()=>{R.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),R.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),R.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),R.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),j.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{R.var(u.default.instancePath,(0,l._)`""`),R.var(u.default.parentData,(0,l._)`undefined`),R.var(u.default.parentDataProperty,(0,l._)`undefined`),R.var(u.default.rootData,u.default.data),j.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function h(R){const{schema:j,opts:M,gen:G}=R;g(R,()=>{M.$comment&&j.$comment&&Q(R),D(R),G.let(u.default.vErrors,null),G.let(u.default.errors,0),M.unevaluated&&E(R),x(R),H(R)})}function E(R){const{gen:j,validateName:M}=R;R.evaluated=j.const("evaluated",(0,l._)`${M}.evaluated`),j.if((0,l._)`${R.evaluated}.dynamicProps`,()=>j.assign((0,l._)`${R.evaluated}.props`,(0,l._)`undefined`)),j.if((0,l._)`${R.evaluated}.dynamicItems`,()=>j.assign((0,l._)`${R.evaluated}.items`,(0,l._)`undefined`))}function y(R,j){const M=typeof R=="object"&&R[j.schemaId];return M&&(j.code.source||j.code.process)?(0,l._)`/*# sourceURL=${M} */`:l.nil}function S(R,j){if(T(R)&&(A(R),$(R))){d(R,j);return}(0,t.boolOrEmptySchema)(R,j)}function $({schema:R,self:j}){if(typeof R=="boolean")return!R;for(const M in R)if(j.RULES.all[M])return!0;return!1}function T(R){return typeof R.schema!="boolean"}function d(R,j){const{schema:M,gen:G,opts:oe}=R;oe.$comment&&M.$comment&&Q(R),F(R),V(R);const ce=G.const("_errs",u.default.errors);x(R,ce),G.var(j,(0,l._)`${ce} === ${u.default.errors}`)}function A(R){(0,c.checkUnknownRules)(R),O(R)}function x(R,j){if(R.opts.jtd)return fe(R,[],!1,j);const M=(0,r.getSchemaTypes)(R.schema),G=(0,r.coerceAndCheckDataType)(R,M);fe(R,M,!G,j)}function O(R){const{schema:j,errSchemaPath:M,opts:G,self:oe}=R;j.$ref&&G.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(j,oe.RULES)&&oe.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function D(R){const{schema:j,opts:M}=R;j.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,c.checkStrictMode)(R,"default is ignored in the schema root")}function F(R){const j=R.schema[R.opts.schemaId];j&&(R.baseId=(0,f.resolveUrl)(R.opts.uriResolver,R.baseId,j))}function V(R){if(R.schema.$async&&!R.schemaEnv.$async)throw new Error("async schema in sync schema")}function Q({gen:R,schemaEnv:j,schema:M,errSchemaPath:G,opts:oe}){const ce=M.$comment;if(oe.$comment===!0)R.code((0,l._)`${u.default.self}.logger.log(${ce})`);else if(typeof oe.$comment=="function"){const de=(0,l.str)`${G}/$comment`,ve=R.scopeValue("root",{ref:j.root});R.code((0,l._)`${u.default.self}.opts.$comment(${ce}, ${de}, ${ve}.schema)`)}}function H(R){const{gen:j,schemaEnv:M,validateName:G,ValidationError:oe,opts:ce}=R;M.$async?j.if((0,l._)`${u.default.errors} === 0`,()=>j.return(u.default.data),()=>j.throw((0,l._)`new ${oe}(${u.default.vErrors})`)):(j.assign((0,l._)`${G}.errors`,u.default.vErrors),ce.unevaluated&&X(R),j.return((0,l._)`${u.default.errors} === 0`))}function X({gen:R,evaluated:j,props:M,items:G}){M instanceof l.Name&&R.assign((0,l._)`${j}.props`,M),G instanceof l.Name&&R.assign((0,l._)`${j}.items`,G)}function fe(R,j,M,G){const{gen:oe,schema:ce,data:de,allErrors:ve,opts:Ie,self:Be}=R,{RULES:De}=Be;if(ce.$ref&&(Ie.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(ce,De))){oe.block(()=>Y(R,"$ref",De.all.$ref.definition));return}Ie.jtd||ne(R,j),oe.block(()=>{for(const We of De.rules)nt(We);nt(De.post)});function nt(We){(0,n.shouldUseGroup)(ce,We)&&(We.type?(oe.if((0,i.checkDataType)(We.type,de,Ie.strictNumbers)),Z(R,We),j.length===1&&j[0]===We.type&&M&&(oe.else(),(0,i.reportTypeError)(R)),oe.endIf()):Z(R,We),ve||oe.if((0,l._)`${u.default.errors} === ${G||0}`))}}function Z(R,j){const{gen:M,schema:G,opts:{useDefaults:oe}}=R;oe&&(0,o.assignDefaults)(R,j.type),M.block(()=>{for(const ce of j.rules)(0,n.shouldUseRule)(G,ce)&&Y(R,ce.keyword,ce.definition,j.type)})}function ne(R,j){R.schemaEnv.meta||!R.opts.strictTypes||(C(R,j),R.opts.allowUnionTypes||B(R,j),K(R,R.dataTypes))}function C(R,j){if(j.length){if(!R.dataTypes.length){R.dataTypes=j;return}j.forEach(M=>{I(R.dataTypes,M)||ie(R,`type "${M}" not allowed by context "${R.dataTypes.join(",")}"`)}),q(R,j)}}function B(R,j){j.length>1&&!(j.length===2&&j.includes("null"))&&ie(R,"use allowUnionTypes to allow union type keyword")}function K(R,j){const M=R.self.RULES.all;for(const G in M){const oe=M[G];if(typeof oe=="object"&&(0,n.shouldUseRule)(R.schema,oe)){const{type:ce}=oe.definition;ce.length&&!ce.some(de=>P(j,de))&&ie(R,`missing type "${ce.join(",")}" for keyword "${G}"`)}}}function P(R,j){return R.includes(j)||j==="number"&&R.includes("integer")}function I(R,j){return R.includes(j)||j==="integer"&&R.includes("number")}function q(R,j){const M=[];for(const G of R.dataTypes)I(j,G)?M.push(G):j.includes("integer")&&G==="number"&&M.push("integer");R.dataTypes=M}function ie(R,j){const M=R.schemaEnv.baseId+R.errSchemaPath;j+=` at "${M}" (strictTypes)`,(0,c.checkStrictMode)(R,j,R.opts.strictTypes)}var J=class{constructor(R,j,M){if((0,s.validateKeywordUsage)(R,j,M),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=M,this.data=R.data,this.schema=R.schema[M],this.$data=j.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(R,this.schema,M,this.$data),this.schemaType=j.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=j,this.$data)this.schemaCode=R.gen.const("vSchema",Pe(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,j.schemaType,j.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(j.schemaType)}`);("code"in j?j.trackErrors:j.errors!==!1)&&(this.errsCount=R.gen.const("_errs",u.default.errors))}result(R,j,M){this.failResult((0,l.not)(R),j,M)}failResult(R,j,M){this.gen.if(R),M?M():this.error(),j?(this.gen.else(),j(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,j){this.failResult((0,l.not)(R),void 0,j)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:j}=this;this.fail((0,l._)`${j} !== undefined && (${(0,l.or)(this.invalid$data(),R)})`)}error(R,j,M){if(j){this.setParams(j),this._error(R,M),this.setParams({});return}this._error(R,M)}_error(R,j){(R?p.reportExtraError:p.reportError)(this,this.def.error,j)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,j){j?Object.assign(this.params,R):this.params=R}block$data(R,j,M=l.nil){this.gen.block(()=>{this.check$data(R,M),j()})}check$data(R=l.nil,j=l.nil){if(!this.$data)return;const{gen:M,schemaCode:G,schemaType:oe,def:ce}=this;M.if((0,l.or)((0,l._)`${G} === undefined`,j)),R!==l.nil&&M.assign(R,!0),(oe.length||ce.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),R!==l.nil&&M.assign(R,!1)),M.else()}invalid$data(){const{gen:R,schemaCode:j,schemaType:M,def:G,it:oe}=this;return(0,l.or)(ce(),de());function ce(){if(M.length){if(!(j instanceof l.Name))throw new Error("ajv implementation error");const ve=Array.isArray(M)?M:[M];return(0,l._)`${(0,i.checkDataTypes)(ve,j,oe.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function de(){if(G.validateSchema){const ve=R.scopeValue("validate$data",{ref:G.validateSchema});return(0,l._)`!${ve}(${j})`}return l.nil}}subschema(R,j){const M=(0,a.getSubschema)(this.it,R);(0,a.extendSubschemaData)(M,this.it,R),(0,a.extendSubschemaMode)(M,R);const G={...this.it,...M,items:void 0,props:void 0};return S(G,j),G}mergeEvaluated(R,j){const{it:M,gen:G}=this;M.opts.unevaluated&&(M.props!==!0&&R.props!==void 0&&(M.props=c.mergeEvaluated.props(G,R.props,M.props,j)),M.items!==!0&&R.items!==void 0&&(M.items=c.mergeEvaluated.items(G,R.items,M.items,j)))}mergeValidEvaluated(R,j){const{it:M,gen:G}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return G.if(j,()=>this.mergeEvaluated(R,l.Name)),!0}};e.KeywordCxt=J;function Y(R,j,M,G){const oe=new J(R,M,j);"code"in M?M.code(oe,G):oe.$data&&M.validate?(0,s.funcKeywordCode)(oe,M):"macro"in M?(0,s.macroKeywordCode)(oe,M):(M.compile||M.validate)&&(0,s.funcKeywordCode)(oe,M)}var se=/^\/(?:[^~]|~0|~1)*$/,be=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Pe(R,{dataLevel:j,dataNames:M,dataPathArr:G}){let oe,ce;if(R==="")return u.default.rootData;if(R[0]==="/"){if(!se.test(R))throw new Error(`Invalid JSON-pointer: ${R}`);oe=R,ce=u.default.rootData}else{const Be=be.exec(R);if(!Be)throw new Error(`Invalid JSON-pointer: ${R}`);const De=+Be[1];if(oe=Be[2],oe==="#"){if(De>=j)throw new Error(Ie("property/index",De));return G[j-De]}if(De>j)throw new Error(Ie("data",De));if(ce=M[j-De],!oe)return ce}let de=ce;const ve=oe.split("/");for(const Be of ve)Be&&(ce=(0,l._)`${ce}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Be))}`,de=(0,l._)`${de} && ${ce}`);return de;function Ie(Be,De){return`Cannot access ${Be} ${De} levels up, current level is ${j}`}}e.getData=Pe}}),fN=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/validation_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),dN=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/ref_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=fE(),r=class extends Error{constructor(n,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),hN=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=pr(),r=fN(),n=cc(),i=fE(),o=zr(),s=dE(),a=class{constructor(h){var E;this.refs={},this.dynamicAnchors={};let y;typeof h.schema=="object"&&(y=h.schema),this.schema=h.schema,this.schemaId=h.schemaId,this.root=h.root||this,this.baseId=(E=h.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[h.schemaId||"$id"]),this.schemaPath=h.schemaPath,this.localRefs=h.localRefs,this.meta=h.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=a;function l(h){const E=c.call(this,h);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,h.root.baseId),{es5:S,lines:$}=this.opts.code,{ownProperties:T}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:$,ownProperties:T});let A;h.$async&&(A=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const x=d.scopeName("validate");h.validateName=x;const O={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:h.schema,code:(0,t.stringify)(h.schema)}:{ref:h.schema}),validateName:x,ValidationError:A,schema:h.schema,schemaEnv:h,rootId:y,baseId:h.baseId||y,schemaPath:t.nil,errSchemaPath:h.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(h),(0,s.validateFunctionCode)(O),d.optimize(this.opts.code.optimize);const F=d.toString();D=`${d.scopeRefs(n.default.scope)}return ${F}`,this.opts.code.process&&(D=this.opts.code.process(D,h));const Q=new Function(`${n.default.self}`,`${n.default.scope}`,D)(this,this.scope.get());if(this.scope.value(x,{ref:Q}),Q.errors=null,Q.schema=h.schema,Q.schemaEnv=h,h.$async&&(Q.$async=!0),this.opts.code.source===!0&&(Q.source={validateName:x,validateCode:F,scopeValues:d._values}),this.opts.unevaluated){const{props:H,items:X}=O;Q.evaluated={props:H instanceof t.Name?void 0:H,items:X instanceof t.Name?void 0:X,dynamicProps:H instanceof t.Name,dynamicItems:X instanceof t.Name},Q.source&&(Q.source.evaluated=(0,t.stringify)(Q.evaluated))}return h.validate=Q,h}catch(F){throw delete h.validate,delete h.validateName,D&&this.logger.error("Error compiling schema, function code:",D),F}finally{this._compilations.delete(h)}}e.compileSchema=l;function u(h,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const $=h.refs[y];if($)return $;let T=m.call(this,h,y);if(T===void 0){const d=(S=h.localRefs)===null||S===void 0?void 0:S[y],{schemaId:A}=this.opts;d&&(T=new a({schema:d,schemaId:A,root:h,baseId:E}))}if(T!==void 0)return h.refs[y]=f.call(this,T)}e.resolveRef=u;function f(h){return(0,i.inlineRef)(h.schema,this.opts.inlineRefs)?h.schema:h.validate?h:l.call(this,h)}function c(h){for(const E of this._compilations)if(p(E,h))return E}e.getCompilingSchema=c;function p(h,E){return h.schema===E.schema&&h.root===E.root&&h.baseId===E.baseId}function m(h,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||g.call(this,h,E)}function g(h,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let $=(0,i.getFullPath)(this.opts.uriResolver,h.baseId,void 0);if(Object.keys(h.schema).length>0&&S===$)return v.call(this,y,h);const T=(0,i.normalizeId)(S),d=this.refs[T]||this.schemas[T];if(typeof d=="string"){const A=g.call(this,h,d);return typeof(A==null?void 0:A.schema)!="object"?void 0:v.call(this,y,A)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),T===(0,i.normalizeId)(E)){const{schema:A}=d,{schemaId:x}=this.opts,O=A[x];return O&&($=(0,i.resolveUrl)(this.opts.uriResolver,$,O)),new a({schema:A,schemaId:x,root:h,baseId:$})}return v.call(this,y,d)}}e.resolveSchema=g;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(h,{baseId:E,schema:y,root:S}){var $;if((($=h.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const A of h.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const x=y[(0,o.unescapeFragment)(A)];if(x===void 0)return;y=x;const O=typeof y=="object"&&y[this.opts.schemaId];!_.has(A)&&O&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,O))}let T;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const A=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);T=g.call(this,S,A)}const{schemaId:d}=this.opts;if(T=T||new a({schema:y,schemaId:d,root:S,baseId:E}),T.schema!==T.root.schema)return T}}}),Sre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),$re=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/uri.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=bq();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),Tre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/core.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=dE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=pr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=fN(),i=dN(),o=Tq(),s=hN(),a=pr(),l=fE(),u=Vb(),f=zr(),c=Sre(),p=$re(),m=(C,B)=>new RegExp(C,B);m.code="new RegExp";var g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(C){var B,K,P,I,q,ie,J,Y,se,be,Pe,R,j,M,G,oe,ce,de,ve,Ie,Be,De,nt,We,Ue;const W=C.strict,N=(B=C.code)===null||B===void 0?void 0:B.optimize,L=N===!0||N===void 0?1:N||0,re=(P=(K=C.code)===null||K===void 0?void 0:K.regExp)!==null&&P!==void 0?P:m,ye=(I=C.uriResolver)!==null&&I!==void 0?I:p.default;return{strictSchema:(ie=(q=C.strictSchema)!==null&&q!==void 0?q:W)!==null&&ie!==void 0?ie:!0,strictNumbers:(Y=(J=C.strictNumbers)!==null&&J!==void 0?J:W)!==null&&Y!==void 0?Y:!0,strictTypes:(be=(se=C.strictTypes)!==null&&se!==void 0?se:W)!==null&&be!==void 0?be:"log",strictTuples:(R=(Pe=C.strictTuples)!==null&&Pe!==void 0?Pe:W)!==null&&R!==void 0?R:"log",strictRequired:(M=(j=C.strictRequired)!==null&&j!==void 0?j:W)!==null&&M!==void 0?M:!1,code:C.code?{...C.code,optimize:L,regExp:re}:{optimize:L,regExp:re},loopRequired:(G=C.loopRequired)!==null&&G!==void 0?G:E,loopEnum:(oe=C.loopEnum)!==null&&oe!==void 0?oe:E,meta:(ce=C.meta)!==null&&ce!==void 0?ce:!0,messages:(de=C.messages)!==null&&de!==void 0?de:!0,inlineRefs:(ve=C.inlineRefs)!==null&&ve!==void 0?ve:!0,schemaId:(Ie=C.schemaId)!==null&&Ie!==void 0?Ie:"$id",addUsedSchema:(Be=C.addUsedSchema)!==null&&Be!==void 0?Be:!0,validateSchema:(De=C.validateSchema)!==null&&De!==void 0?De:!0,validateFormats:(nt=C.validateFormats)!==null&&nt!==void 0?nt:!0,unicodeRegExp:(We=C.unicodeRegExp)!==null&&We!==void 0?We:!0,int32range:(Ue=C.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:ye}}var S=class{constructor(C={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,C=this.opts={...C,...y(C)};const{es5:B,lines:K}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:B,lines:K}),this.logger=F(C.logger);const P=C.validateFormats;C.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,C,"NOT SUPPORTED"),$.call(this,h,C,"DEPRECATED","warn"),this._metaOpts=O.call(this),C.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),C.keywords&&x.call(this,C.keywords),typeof C.meta=="object"&&this.addMetaSchema(C.meta),d.call(this),C.validateFormats=P}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:C,meta:B,schemaId:K}=this.opts;let P=c;K==="id"&&(P={...c},P.id=P.$id,delete P.$id),B&&C&&this.addMetaSchema(P,P[K],!1)}defaultMeta(){const{meta:C,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof C=="object"?C[B]||C:void 0}validate(C,B){let K;if(typeof C=="string"){if(K=this.getSchema(C),!K)throw new Error(`no schema with key or ref "${C}"`)}else K=this.compile(C);const P=K(B);return"$async"in K||(this.errors=K.errors),P}compile(C,B){const K=this._addSchema(C,B);return K.validate||this._compileSchemaEnv(K)}compileAsync(C,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return P.call(this,C,B);async function P(se,be){await I.call(this,se.$schema);const Pe=this._addSchema(se,be);return Pe.validate||q.call(this,Pe)}async function I(se){se&&!this.getSchema(se)&&await P.call(this,{$ref:se},!0)}async function q(se){try{return this._compileSchemaEnv(se)}catch(be){if(!(be instanceof i.default))throw be;return ie.call(this,be),await J.call(this,be.missingSchema),q.call(this,se)}}function ie({missingSchema:se,missingRef:be}){if(this.refs[se])throw new Error(`AnySchema ${se} is loaded but ${be} cannot be resolved`)}async function J(se){const be=await Y.call(this,se);this.refs[se]||await I.call(this,be.$schema),this.refs[se]||this.addSchema(be,se,B)}async function Y(se){const be=this._loading[se];if(be)return be;try{return await(this._loading[se]=K(se))}finally{delete this._loading[se]}}}addSchema(C,B,K,P=this.opts.validateSchema){if(Array.isArray(C)){for(const q of C)this.addSchema(q,void 0,K,P);return this}let I;if(typeof C=="object"){const{schemaId:q}=this.opts;if(I=C[q],I!==void 0&&typeof I!="string")throw new Error(`schema ${q} must be string`)}return B=(0,l.normalizeId)(B||I),this._checkUnique(B),this.schemas[B]=this._addSchema(C,K,B,P,!0),this}addMetaSchema(C,B,K=this.opts.validateSchema){return this.addSchema(C,B,!0,K),this}validateSchema(C,B){if(typeof C=="boolean")return!0;let K;if(K=C.$schema,K!==void 0&&typeof K!="string")throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const P=this.validate(K,C);if(!P&&B){const I="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(I);else throw new Error(I)}return P}getSchema(C){let B;for(;typeof(B=T.call(this,C))=="string";)C=B;if(B===void 0){const{schemaId:K}=this.opts,P=new s.SchemaEnv({schema:{},schemaId:K});if(B=s.resolveSchema.call(this,P,C),!B)return;this.refs[C]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(C){if(C instanceof RegExp)return this._removeAllSchemas(this.schemas,C),this._removeAllSchemas(this.refs,C),this;switch(typeof C){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=T.call(this,C);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[C],delete this.refs[C],this}case"object":{const B=C;this._cache.delete(B);let K=C[this.opts.schemaId];return K&&(K=(0,l.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(C){for(const B of C)this.addKeyword(B);return this}addKeyword(C,B){let K;if(typeof C=="string")K=C,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=K);else if(typeof C=="object"&&B===void 0){if(B=C,K=B.keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Q.call(this,K,B),!B)return(0,f.eachItem)(K,I=>H.call(this,I)),this;fe.call(this,B);const P={...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)};return(0,f.eachItem)(K,P.type.length===0?I=>H.call(this,I,P):I=>P.type.forEach(q=>H.call(this,I,P,q))),this}getKeyword(C){const B=this.RULES.all[C];return typeof B=="object"?B.definition:!!B}removeKeyword(C){const{RULES:B}=this;delete B.keywords[C],delete B.all[C];for(const K of B.rules){const P=K.rules.findIndex(I=>I.keyword===C);P>=0&&K.rules.splice(P,1)}return this}addFormat(C,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[C]=B,this}errorsText(C=this.errors,{separator:B=", ",dataVar:K="data"}={}){return!C||C.length===0?"No errors":C.map(P=>`${K}${P.instancePath} ${P.message}`).reduce((P,I)=>P+B+I)}$dataMetaSchema(C,B){const K=this.RULES.all;C=JSON.parse(JSON.stringify(C));for(const P of B){const I=P.split("/").slice(1);let q=C;for(const ie of I)q=q[ie];for(const ie in K){const J=K[ie];if(typeof J!="object")continue;const{$data:Y}=J.definition,se=q[ie];Y&&se&&(q[ie]=ne(se))}}return C}_removeAllSchemas(C,B){for(const K in C){const P=C[K];(!B||B.test(K))&&(typeof P=="string"?delete C[K]:P&&!P.meta&&(this._cache.delete(P.schema),delete C[K]))}}_addSchema(C,B,K,P=this.opts.validateSchema,I=this.opts.addUsedSchema){let q;const{schemaId:ie}=this.opts;if(typeof C=="object")q=C[ie];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof C!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(C);if(J!==void 0)return J;K=(0,l.normalizeId)(q||K);const Y=l.getSchemaRefs.call(this,C,K);return J=new s.SchemaEnv({schema:C,schemaId:ie,meta:B,baseId:K,localRefs:Y}),this._cache.set(J.schema,J),I&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=J),P&&this.validateSchema(C,!0),J}_checkUnique(C){if(this.schemas[C]||this.refs[C])throw new Error(`schema with key or id "${C}" already exists`)}_compileSchemaEnv(C){if(C.meta?this._compileMetaSchema(C):s.compileSchema.call(this,C),!C.validate)throw new Error("ajv implementation error");return C.validate}_compileMetaSchema(C){const B=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,C)}finally{this.opts=B}}};e.default=S,S.ValidationError=n.default,S.MissingRefError=i.default;function $(C,B,K,P="error"){for(const I in C){const q=I;q in B&&this.logger[P](`${K}: option ${I}. ${C[q]}`)}}function T(C){return C=(0,l.normalizeId)(C),this.schemas[C]||this.refs[C]}function d(){const C=this.opts.schemas;if(C)if(Array.isArray(C))this.addSchema(C);else for(const B in C)this.addSchema(C[B],B)}function A(){for(const C in this.opts.formats){const B=this.opts.formats[C];B&&this.addFormat(C,B)}}function x(C){if(Array.isArray(C)){this.addVocabulary(C);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in C){const K=C[B];K.keyword||(K.keyword=B),this.addKeyword(K)}}function O(){const C={...this.opts};for(const B of g)delete C[B];return C}var D={log(){},warn(){},error(){}};function F(C){if(C===!1)return D;if(C===void 0)return console;if(C.log&&C.warn&&C.error)return C;throw new Error("logger must implement log, warn and error methods")}var V=/^[a-z_$][a-z0-9_$:-]*$/i;function Q(C,B){const{RULES:K}=this;if((0,f.eachItem)(C,P=>{if(K.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!V.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function H(C,B,K){var P;const I=B==null?void 0:B.post;if(K&&I)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let ie=I?q.post:q.rules.find(({type:Y})=>Y===K);if(ie||(ie={type:K,rules:[]},q.rules.push(ie)),q.keywords[C]=!0,!B)return;const J={keyword:C,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?X.call(this,ie,J,B.before):ie.rules.push(J),q.all[C]=J,(P=B.implements)===null||P===void 0||P.forEach(Y=>this.addKeyword(Y))}function X(C,B,K){const P=C.rules.findIndex(I=>I.keyword===K);P>=0?C.rules.splice(P,0,B):(C.rules.push(B),this.logger.warn(`rule ${K} is not defined`))}function fe(C){let{metaSchema:B}=C;B!==void 0&&(C.$data&&this.opts.$data&&(B=ne(B)),C.validateSchema=this.compile(B,!0))}var Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ne(C){return{anyOf:[C,Z]}}}}),Are=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/id.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),xre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=dN(),r=ga(),n=pr(),i=cc(),o=hN(),s=zr(),a={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:p,it:m}=f,{baseId:g,schemaEnv:_,validateName:v,opts:h,self:E}=m,{root:y}=_;if((p==="#"||p==="#/")&&g===y.baseId)return $();const S=o.resolveRef.call(E,y,g,p);if(S===void 0)throw new t.default(m.opts.uriResolver,g,p);if(S instanceof o.SchemaEnv)return T(S);return d(S);function $(){if(_===y)return u(f,v,_,_.$async);const A=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${A}.validate`,y,y.$async)}function T(A){const x=l(f,A);u(f,x,A,A.$async)}function d(A){const x=c.scopeValue("schema",h.code.source===!0?{ref:A,code:(0,n.stringify)(A)}:{ref:A}),O=c.name("valid"),D=f.subschema({schema:A,dataTypes:[],schemaPath:n.nil,topSchemaRef:x,errSchemaPath:p},O);f.mergeEvaluated(D),f.ok(O)}}};function l(f,c){const{gen:p}=f;return c.validate?p.scopeValue("validate",{ref:c.validate}):(0,n._)`${p.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,p,m){const{gen:g,it:_}=f,{allErrors:v,schemaEnv:h,opts:E}=_,y=E.passContext?i.default.this:n.nil;m?S():$();function S(){if(!h.$async)throw new Error("async schema referenced by sync schema");const A=g.let("valid");g.try(()=>{g.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||g.assign(A,!0)},x=>{g.if((0,n._)`!(${x} instanceof ${_.ValidationError})`,()=>g.throw(x)),T(x),v||g.assign(A,!1)}),f.ok(A)}function $(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>T(c))}function T(A){const x=(0,n._)`${A}.errors`;g.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${x} : ${i.default.vErrors}.concat(${x})`),g.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(A){var x;if(!_.opts.unevaluated)return;const O=(x=p==null?void 0:p.validate)===null||x===void 0?void 0:x.evaluated;if(_.props!==!0)if(O&&!O.dynamicProps)O.props!==void 0&&(_.props=s.mergeEvaluated.props(g,O.props,_.props));else{const D=g.var("props",(0,n._)`${A}.evaluated.props`);_.props=s.mergeEvaluated.props(g,D,_.props,n.Name)}if(_.items!==!0)if(O&&!O.dynamicItems)O.items!==void 0&&(_.items=s.mergeEvaluated.items(g,O.items,_.items));else{const D=g.var("items",(0,n._)`${A}.evaluated.items`);_.items=s.mergeEvaluated.items(g,D,_.items,n.Name)}}}e.callRef=u,e.default=a}}),Ore=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Are(),r=xre(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),Pre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:s,schemaCode:a})=>(0,t.str)`must be ${n[s].okStr} ${a}`,params:({keyword:s,schemaCode:a})=>(0,t._)`{comparison: ${n[s].okStr}, limit: ${a}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u}=s;s.fail$data((0,t._)`${l} ${n[a].fail} ${u} || isNaN(${l})`)}};e.default=o}}),Rre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:s,schemaCode:a,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${a} === 0 || (${f} = ${s}/${a}, ${c}))`)}};e.default=n}}),Nre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/ucs2length.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,s;for(;o<n;)i++,s=r.charCodeAt(o++),s>=55296&&s<=56319&&o<n&&(s=r.charCodeAt(o),(s&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),Ire=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=zr(),n=Nre(),i={message({keyword:s,schemaCode:a}){const l=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${a} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u,it:f}=s,c=a==="maxLength"?t.operators.GT:t.operators.LT,p=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(s.gen,n.default)}(${l})`;s.fail$data((0,t._)`${p} ${c} ${u}`)}};e.default=o}}),kre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ga(),r=pr(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:s,$data:a,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",p=a?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${p}.test(${s})`)}};e.default=i}}),Cre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${s}).length ${l} ${a}`)}};e.default=n}}),jre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ga(),r=pr(),n=zr(),i={message:({params:{missingProperty:s}})=>(0,r.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,r._)`{missingProperty: ${s}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,schema:l,schemaCode:u,data:f,$data:c,it:p}=s,{opts:m}=p;if(!c&&l.length===0)return;const g=l.length>=m.loopRequired;if(p.allErrors?_():v(),m.strictRequired){const y=s.parentSchema.properties,{definedProperties:S}=s.it;for(const $ of l)if((y==null?void 0:y[$])===void 0&&!S.has($)){const T=p.schemaEnv.baseId+p.errSchemaPath,d=`required property "${$}" is not defined at "${T}" (strictRequired)`;(0,n.checkStrictMode)(p,d,p.opts.strictRequired)}}function _(){if(g||c)s.block$data(r.nil,h);else for(const y of l)(0,t.checkReportMissingProp)(s,y)}function v(){const y=a.let("missing");if(g||c){const S=a.let("valid",!0);s.block$data(S,()=>E(y,S)),s.ok(S)}else a.if((0,t.checkMissingProp)(s,l,y)),(0,t.reportMissingProp)(s,y),a.else()}function h(){a.forOf("prop",u,y=>{s.setParams({missingProperty:y}),a.if((0,t.noPropertyInData)(a,f,y,m.ownProperties),()=>s.error())})}function E(y,S){s.setParams({missingProperty:y}),a.forOf(y,u,()=>{a.assign(S,(0,t.propertyInData)(a,f,y,m.ownProperties)),a.if((0,r.not)(S),()=>{s.error(),a.break()})},r.nil)}}};e.default=o}}),Dre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${s}.length ${l} ${a}`)}};e.default=n}}),pN=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/equal.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Lh();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),Mre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Vb(),r=pr(),n=zr(),i=pN(),o={message:({params:{i:a,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${a} are identical)`,params:({params:{i:a,j:l}})=>(0,r._)`{i: ${a}, j: ${l}}`},s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(a){const{gen:l,data:u,$data:f,schema:c,parentSchema:p,schemaCode:m,it:g}=a;if(!f&&!c)return;const _=l.let("valid"),v=p.items?(0,t.getSchemaTypes)(p.items):[];a.block$data(_,h,(0,r._)`${m} === false`),a.ok(_);function h(){const $=l.let("i",(0,r._)`${u}.length`),T=l.let("j");a.setParams({i:$,j:T}),l.assign(_,!0),l.if((0,r._)`${$} > 1`,()=>(E()?y:S)($,T))}function E(){return v.length>0&&!v.some($=>$==="object"||$==="array")}function y($,T){const d=l.name("item"),A=(0,t.checkDataTypes)(v,d,g.opts.strictNumbers,t.DataType.Wrong),x=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${$}--;`,()=>{l.let(d,(0,r._)`${u}[${$}]`),l.if(A,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${x}[${d}] == "number"`,()=>{l.assign(T,(0,r._)`${x}[${d}]`),a.error(),l.assign(_,!1).break()}).code((0,r._)`${x}[${d}] = ${$}`)})}function S($,T){const d=(0,n.useFunc)(l,i.default),A=l.name("outer");l.label(A).for((0,r._)`;${$}--;`,()=>l.for((0,r._)`${T} = ${$}; ${T}--;`,()=>l.if((0,r._)`${d}(${u}[${$}], ${u}[${T}])`,()=>{a.error(),l.assign(_,!1).break(A)})))}}};e.default=s}}),Lre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=zr(),n=pN(),i={message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},o={keyword:"const",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schemaCode:f,schema:c}=s;u||c&&typeof c=="object"?s.fail$data((0,t._)`!${(0,r.useFunc)(a,n.default)}(${l}, ${f})`):s.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),Fre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=zr(),n=pN(),i={message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schema:f,schemaCode:c,it:p}=s;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=p.opts.loopEnum;let g;const _=()=>g??(g=(0,r.useFunc)(a,n.default));let v;if(m||u)v=a.let("valid"),s.block$data(v,h);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=a.const("vSchema",c);v=(0,t.or)(...f.map((S,$)=>E(y,$)))}s.pass(v);function h(){a.assign(v,!1),a.forOf("v",c,y=>a.if((0,t._)`${_()}(${l}, ${y})`,()=>a.assign(v,!0).break()))}function E(y,S){const $=f[S];return typeof $=="object"&&$!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${$}`}}};e.default=o}}),Bre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Pre(),r=Rre(),n=Ire(),i=kre(),o=Cre(),s=jre(),a=Dre(),l=Mre(),u=Lre(),f=Fre(),c=[t.default,r.default,n.default,i.default,o.default,s.default,a.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),xq=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=pr(),r=zr(),n={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(s){const{parentSchema:a,it:l}=s,{items:u}=a;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(s,u)}};function o(s,a){const{gen:l,schema:u,data:f,keyword:c,it:p}=s;p.items=!0;const m=l.const("len",(0,t._)`${f}.length`);if(u===!1)s.setParams({len:a.length}),s.pass((0,t._)`${m} <= ${a.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(p,u)){const _=l.var("valid",(0,t._)`${m} <= ${a.length}`);l.if((0,t.not)(_),()=>g(_)),s.ok(_)}function g(_){l.forRange("i",a.length,m,v=>{s.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),p.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),Oq=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=pr(),r=zr(),n=ga(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:a,it:l}=s;if(Array.isArray(a))return o(s,"additionalItems",a);l.items=!0,!(0,r.alwaysValidSchema)(l,a)&&s.ok((0,n.validateArray)(s))}};function o(s,a,l=s.schema){const{gen:u,parentSchema:f,data:c,keyword:p,it:m}=s;v(f),m.opts.unevaluated&&l.length&&m.items!==!0&&(m.items=r.mergeEvaluated.items(u,l.length,m.items));const g=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((h,E)=>{(0,r.alwaysValidSchema)(m,h)||(u.if((0,t._)`${_} > ${E}`,()=>s.subschema({keyword:p,schemaProp:E,dataProp:E},g)),s.ok(g))});function v(h){const{opts:E,errSchemaPath:y}=m,S=l.length,$=S===h.minItems&&(S===h.maxItems||h[a]===!1);if(E.strictTuples&&!$){const T=`"${p}" is ${S}-tuple, but minItems or maxItems/${a} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(m,T,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),Ure=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Oq(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),zre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=zr(),n=ga(),i=xq(),o={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(a){const{schema:l,parentSchema:u,it:f}=a,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(a,c):a.ok((0,n.validateArray)(a)))}};e.default=s}}),qre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=zr(),n={message:({params:{min:o,max:s}})=>s===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${s} valid item(s)`,params:({params:{min:o,max:s}})=>s===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${s}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:f}=o;let c,p;const{minContains:m,maxContains:g}=l;f.opts.next?(c=m===void 0?1:m,p=g):c=1;const _=s.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:p}),p===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&c>p){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,a)){let S=(0,t._)`${_} >= ${c}`;p!==void 0&&(S=(0,t._)`${S} && ${_} <= ${p}`),o.pass(S);return}f.items=!0;const v=s.name("valid");p===void 0&&c===1?E(v,()=>s.if(v,()=>s.break())):c===0?(s.let(v,!0),p!==void 0&&s.if((0,t._)`${u}.length > 0`,h)):(s.let(v,!1),h()),o.result(v,()=>o.reset());function h(){const S=s.name("_valid"),$=s.let("count",0);E(S,()=>s.if(S,()=>y($)))}function E(S,$){s.forRange("i",0,_,T=>{o.subschema({keyword:"contains",dataProp:T,dataPropType:r.Type.Num,compositeRule:!0},S),$()})}function y(S){s.code((0,t._)`${S}++`),p===void 0?s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0).break()):(s.if((0,t._)`${S} > ${p}`,()=>s.assign(v,!1).break()),c===1?s.assign(v,!0):s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0)))}}};e.default=i}}),Vre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=pr(),r=zr(),n=ga();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);s(l,u),a(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const p=Array.isArray(l[c])?u:f;p[c]=l[c]}return[u,f]}function s(l,u=l.schema){const{gen:f,data:c,it:p}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,p.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),p.allErrors?f.if(v,()=>{for(const h of _)(0,n.checkReportMissingProp)(l,h)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:f,data:c,keyword:p,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:p,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i}}),Hre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=zr(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:s,schema:a,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,a))return;const f=s.name("valid");s.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),s.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||s.break()})}),o.ok(f)}};e.default=i}}),Pq=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ga(),r=pr(),n=cc(),i=zr(),o={message:"must NOT have additional properties",params:({params:a})=>(0,r._)`{additionalProperty: ${a.additionalProperty}}`},s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(a){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:p,it:m}=a;if(!p)throw new Error("ajv implementation error");const{allErrors:g,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(m,u))return;const v=(0,t.allSchemaProperties)(f.properties),h=(0,t.allSchemaProperties)(f.patternProperties);E(),a.ok((0,r._)`${p} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!h.length?$(d):l.if(y(d),()=>$(d))})}function y(d){let A;if(v.length>8){const x=(0,i.schemaRefOrVal)(m,f.properties,"properties");A=(0,t.isOwnProperty)(l,x,d)}else v.length?A=(0,r.or)(...v.map(x=>(0,r._)`${d} === ${x}`)):A=r.nil;return h.length&&(A=(0,r.or)(A,...h.map(x=>(0,r._)`${(0,t.usePattern)(a,x)}.test(${d})`))),(0,r.not)(A)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function $(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){a.setParams({additionalProperty:d}),a.error(),g||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(m,u)){const A=l.name("valid");_.removeAdditional==="failing"?(T(d,A,!1),l.if((0,r.not)(A),()=>{a.reset(),S(d)})):(T(d,A),g||l.if((0,r.not)(A),()=>l.break()))}}function T(d,A,x){const O={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};x===!1&&Object.assign(O,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(O,A)}}};e.default=s}}),Wre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=dE(),r=ga(),n=zr(),i=Pq(),o={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,parentSchema:u,data:f,it:c}=s;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const p=(0,r.allSchemaProperties)(l);for(const h of p)c.definedProperties.add(h);c.opts.unevaluated&&p.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(a,(0,n.toHash)(p),c.props));const m=p.filter(h=>!(0,n.alwaysValidSchema)(c,l[h]));if(m.length===0)return;const g=a.name("valid");for(const h of m)_(h)?v(h):(a.if((0,r.propertyInData)(a,f,h,c.opts.ownProperties)),v(h),c.allErrors||a.else().var(g,!0),a.endIf()),s.it.definedProperties.add(h),s.ok(g);function _(h){return c.opts.useDefaults&&!c.compositeRule&&l[h].default!==void 0}function v(h){s.subschema({keyword:"properties",schemaProp:h,dataProp:h},g)}}};e.default=o}}),Gre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ga(),r=pr(),n=zr(),i=zr(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,data:u,parentSchema:f,it:c}=s,{opts:p}=c,m=(0,t.allSchemaProperties)(l),g=m.filter($=>(0,n.alwaysValidSchema)(c,l[$]));if(m.length===0||g.length===m.length&&(!c.opts.unevaluated||c.props===!0))return;const _=p.strictSchema&&!p.allowMatchingProperties&&f.properties,v=a.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(a,c.props));const{props:h}=c;E();function E(){for(const $ of m)_&&y($),c.allErrors?S($):(a.var(v,!0),S($),a.if(v))}function y($){for(const T in _)new RegExp($).test(T)&&(0,n.checkStrictMode)(c,`property ${T} matches pattern ${$} (use allowMatchingProperties)`)}function S($){a.forIn("key",u,T=>{a.if((0,r._)`${(0,t.usePattern)(s,$)}.test(${T})`,()=>{const d=g.includes($);d||s.subschema({keyword:"patternProperties",schemaProp:$,dataProp:T,dataPropType:i.Type.Str},v),c.opts.unevaluated&&h!==!0?a.assign((0,r._)`${h}[${T}]`,!0):!d&&!c.allErrors&&a.if((0,r.not)(v),()=>a.break())})})}}};e.default=o}}),Kre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=zr(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:s}=n;if((0,t.alwaysValidSchema)(s,o)){n.fail();return}const a=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),n.failResult(a,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),Jre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ga(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),Yre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=zr(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,it:u}=o;if(!Array.isArray(a))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=a,c=s.let("valid",!1),p=s.let("passing",null),m=s.name("_valid");o.setParams({passing:p}),s.block(g),o.result(c,()=>o.reset(),()=>o.error(!0));function g(){f.forEach((_,v)=>{let h;(0,r.alwaysValidSchema)(u,_)?s.var(m,!0):h=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},m),v>0&&s.if((0,t._)`${m} && ${c}`).assign(c,!1).assign(p,(0,t._)`[${p}, ${v}]`).else(),s.if(m,()=>{s.assign(c,!0),s.assign(p,v),h&&o.mergeEvaluated(h,t.Name)})})}}};e.default=i}}),Xre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=zr(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:s}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const a=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(s,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},a);n.ok(a),n.mergeEvaluated(f)})}};e.default=r}}),Qre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=zr(),n={message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(s){const{gen:a,parentSchema:l,it:u}=s;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const p=a.let("valid",!0),m=a.name("_valid");if(g(),s.reset(),f&&c){const v=a.let("ifClause");s.setParams({ifClause:v}),a.if(m,_("then",v),_("else",v))}else f?a.if(m,_("then")):a.if((0,t.not)(m),_("else"));s.pass(p,()=>s.error(!0));function g(){const v=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);s.mergeEvaluated(v)}function _(v,h){return()=>{const E=s.subschema({keyword:v},m);a.assign(p,m),s.mergeValidEvaluated(E,p),h?a.assign(h,(0,t._)`${v}`):s.setParams({ifClause:v})}}}};function o(s,a){const l=s.schema[a];return l!==void 0&&!(0,r.alwaysValidSchema)(s,l)}e.default=i}}),Zre=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=zr(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),ene=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=xq(),r=Ure(),n=Oq(),i=zre(),o=qre(),s=Vre(),a=Hre(),l=Pq(),u=Wre(),f=Gre(),c=Kre(),p=Jre(),m=Yre(),g=Xre(),_=Qre(),v=Zre();function h(E=!1){const y=[c.default,p.default,m.default,g.default,_.default,v.default,a.default,l.default,s.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=h}}),tne=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/format/format.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:s,data:a,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:p,errSchemaPath:m,schemaEnv:g,self:_}=c;if(!p.validateFormats)return;l?v():h();function v(){const E=s.scopeValue("formats",{ref:_.formats,code:p.code.formats}),y=s.const("fDef",(0,t._)`${E}[${f}]`),S=s.let("fType"),$=s.let("format");s.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>s.assign(S,(0,t._)`${y}.type || "string"`).assign($,(0,t._)`${y}.validate`),()=>s.assign(S,(0,t._)`"string"`).assign($,y)),i.fail$data((0,t.or)(T(),d()));function T(){return p.strictSchema===!1?t.nil:(0,t._)`${f} && !${$}`}function d(){const A=g.$async?(0,t._)`(${y}.async ? await ${$}(${a}) : ${$}(${a}))`:(0,t._)`${$}(${a})`,x=(0,t._)`(typeof ${$} == "function" ? ${A} : ${$}.test(${a}))`;return(0,t._)`${$} && ${$} !== true && ${S} === ${o} && !${x}`}}function h(){const E=_.formats[u];if(!E){T();return}if(E===!0)return;const[y,S,$]=d(E);y===o&&i.pass(A());function T(){if(p.strictSchema===!1){_.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function d(x){const O=x instanceof RegExp?(0,t.regexpCode)(x):p.code.formats?(0,t._)`${p.code.formats}${(0,t.getProperty)(u)}`:void 0,D=s.scopeValue("formats",{key:u,ref:x,code:O});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,t._)`${D}.validate`]:["string",x,D]}function A(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!g.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${a})`}return typeof S=="function"?(0,t._)`${$}(${a})`:(0,t._)`${$}.test(${a})`}}}};e.default=n}}),rne=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/format/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=tne(),r=[t.default];e.default=r}}),nne=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/metadata.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),ine=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/draft7.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ore(),r=Bre(),n=ene(),i=rne(),o=nne(),s=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=s}}),one=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))}}),sne=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=one(),n=hN(),i=zr(),o={message:({params:{discrError:a,tagName:l}})=>a===r.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:u}})=>(0,t._)`{error: ${a}, tag: ${u}, tagValue: ${l}}`},s={keyword:"discriminator",type:"object",schemaType:"object",error:o,code(a){const{gen:l,data:u,schema:f,parentSchema:c,it:p}=a,{oneOf:m}=c;if(!p.opts.discriminator)throw new Error("discriminator: requires discriminator option");const g=f.propertyName;if(typeof g!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const _=l.let("valid",!1),v=l.const("tag",(0,t._)`${u}${(0,t.getProperty)(g)}`);l.if((0,t._)`typeof ${v} == "string"`,()=>h(),()=>a.error(!1,{discrError:r.DiscrError.Tag,tag:v,tagName:g})),a.ok(_);function h(){const S=y();l.if(!1);for(const $ in S)l.elseIf((0,t._)`${v} === ${$}`),l.assign(_,E(S[$]));l.else(),a.error(!1,{discrError:r.DiscrError.Mapping,tag:v,tagName:g}),l.endIf()}function E(S){const $=l.name("valid"),T=a.subschema({keyword:"oneOf",schemaProp:S},$);return a.mergeEvaluated(T,t.Name),$}function y(){var S;const $={},T=A(c);let d=!0;for(let D=0;D<m.length;D++){let F=m[D];F!=null&&F.$ref&&!(0,i.schemaHasRulesButRef)(F,p.self.RULES)&&(F=n.resolveRef.call(p.self,p.schemaEnv.root,p.baseId,F==null?void 0:F.$ref),F instanceof n.SchemaEnv&&(F=F.schema));const V=(S=F==null?void 0:F.properties)===null||S===void 0?void 0:S[g];if(typeof V!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${g}"`);d=d&&(T||A(F)),x(V,D)}if(!d)throw new Error(`discriminator: "${g}" must be required`);return $;function A({required:D}){return Array.isArray(D)&&D.includes(g)}function x(D,F){if(D.const)O(D.const,F);else if(D.enum)for(const V of D.enum)O(V,F);else throw new Error(`discriminator: "properties/${g}" must have "const" or "enum"`)}function O(D,F){if(typeof D!="string"||D in $)throw new Error(`discriminator: "${g}" values must be unique strings`);$[D]=F}}}};e.default=s}}),ane=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),lne=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/ajv.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=Tre(),n=ine(),i=sne(),o=ane(),s=["/properties"],a="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(m,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}};t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=dE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=pr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=fN();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var p=dN();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return p.default}})}}),une=Oe({"../../node_modules/ajv-formats/dist/limit.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;var t=lne(),r=pr(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:a,schemaCode:l})=>r.str`should be ${i[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>r._`{comparison: ${i[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(a){const{gen:l,data:u,schemaCode:f,keyword:c,it:p}=a,{opts:m,self:g}=p;if(!m.validateFormats)return;const _=new t.KeywordCxt(p,g.RULES.all.format.definition,"format");_.$data?v():h();function v(){const y=l.scopeValue("formats",{ref:g.formats,code:m.code.formats}),S=l.const("fmt",r._`${y}[${_.schemaCode}]`);a.fail$data(r.or(r._`typeof ${S} != "object"`,r._`${S} instanceof RegExp`,r._`typeof ${S}.compare != "function"`,E(S)))}function h(){const y=_.schema,S=g.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const $=l.scopeValue("formats",{key:y,ref:S,code:m.code.formats?r._`${m.code.formats}${r.getProperty(y)}`:void 0});a.fail$data(E($))}function E(y){return r._`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};var s=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=s}}),Rq=Oe({"../../node_modules/ajv-formats/dist/index.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0});var r=vre(),n=une(),i=pr(),o=new i.Name("fullFormats"),s=new i.Name("fastFormats"),a=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,p]=f.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,o],m=f.formats||r.formatNames;return l(u,m,c,p),f.keywords&&n.default(u),u};a.get=(u,f="full")=>{const p=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!p)throw new Error(`Unknown format "${u}"`);return p};function l(u,f,c,p){var m,g;(m=(g=u.opts.code).formats)!==null&&m!==void 0||(g.formats=i._`require("ajv-formats/dist/formats").${p}`);for(const _ of f)u.addFormat(_,c[_])}t.exports=e=a,Object.defineProperty(e,"__esModule",{value:!0}),e.default=a}}),cne=Oe({"../../node_modules/wot-thing-description-types/schema/td-json-schema-validation.json"(e,t){t.exports={title:"Thing Description",version:"1.1-09-November-2023",description:"JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values",$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json",definitions:{anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"}},security:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the old context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string",not:{const:"tm:ThingModel"}},{type:"array",items:{type:"string",not:{const:"tm:ThingModel"}}}]},"dataSchema-type":{type:"string",enum:["boolean","integer","number","string","object","array","null"]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{type:["integer","number"],exclusiveMinimum:0},expectedResponse:{type:"object",properties:{contentType:{type:"string"}},required:["contentType"]},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},required:["href"],additionalProperties:!0},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{type:"array",items:{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},minItems:1}]}},additionalProperties:!0},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["invokeaction","queryaction","cancelaction"]},{type:"array",items:{type:"string",enum:["invokeaction","queryaction","cancelaction"]},minItems:1}]}},additionalProperties:!0},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["subscribeevent","unsubscribeevent"]},{type:"array",items:{type:"string",enum:["subscribeevent","unsubscribeevent"]},minItems:1}]}},additionalProperties:!0},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{type:"array",items:{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},minItems:1}]}},additionalProperties:!0,required:["op"]},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},observable:{type:"boolean"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}},required:["forms"],additionalProperties:!0},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{type:"boolean"},idempotent:{type:"boolean"},synchronous:{type:"boolean"}},required:["forms"],additionalProperties:!0},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"}},required:["forms"],additionalProperties:!0},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]}},required:["href"],additionalProperties:!0},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon or tm:extends",properties:{rel:{enum:["icon","tm:extends"]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},required:["scheme"],additionalProperties:!0},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["nosec"]}},required:["scheme"],additionalProperties:!0},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["auto"]}},not:{required:["name"]},required:["scheme"],additionalProperties:!0},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},oneOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","oneOf"],additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},allOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","allOf"],additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["basic"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["digest"]},qop:{type:"string",enum:["auth","auth-int"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["apikey"]},in:{type:"string",enum:["header","query","body","cookie","uri","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["bearer"]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["psk"]},identity:{type:"string"}},required:["scheme"],additionalProperties:!0},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["oauth2"]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",enum:["code","client"]}]}},required:["scheme"],additionalProperties:!0},securityScheme:{oneOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]}},type:"object",properties:{id:{type:"string",format:"uri"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{type:"object",properties:{instance:{type:"string"}},required:["instance"]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"}},support:{$ref:"#/definitions/anyUri"},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},"@type":{$ref:"#/definitions/type_declaration"},"@context":{$ref:"#/definitions/thing-context"}},required:["title","security","securityDefinitions","@context"],additionalProperties:!0}}}),xg=Oe({"../core/dist/helpers.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(y,S,$,T){T===void 0&&(T=$);var d=Object.getOwnPropertyDescriptor(S,$);(!d||("get"in d?!S.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return S[$]}}),Object.defineProperty(y,T,d)}:function(y,S,$,T){T===void 0&&(T=$),y[T]=S[$]}),r=e&&e.__setModuleDefault||(Object.create?function(y,S){Object.defineProperty(y,"default",{enumerable:!0,value:S})}:function(y,S){y.default=S}),n=e&&e.__importStar||function(){var y=function(S){return y=Object.getOwnPropertyNames||function($){var T=[];for(var d in $)Object.prototype.hasOwnProperty.call($,d)&&(T[T.length]=d);return T},y(S)};return function(S){if(S&&S.__esModule)return S;var $={};if(S!=null)for(var T=y(S),d=0;d<T.length;d++)T[d]!=="default"&&t($,S,T[d]);return r($,S),$}}(),i=e&&e.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var o=n((vZ(),Or(qB))),s=zee(),a=wg(),l=nl(),u=i($q()),f=i(Rq()),c=i(cne()),p=Io(),{debug:m,error:g,warn:_}=(0,p.createLoggers)("core","helpers"),v=c.default,h=new u.default({strict:!1});(0,f.default)(h);var E=class pl{constructor(S){this.srv=S}static extractScheme(S){const $=new URL(S);if(m($),$.protocol===null)throw new Error(`Protocol in url "${S}" must be valid`);const T=$.protocol.slice(0,-1);return m(`Helpers found scheme '${T}'`),T}static setStaticAddress(S){pl.staticAddress=S}static getAddresses(){const S=[];if(pl.staticAddress!==void 0)return S.push(pl.staticAddress),m(`AddressHelper uses static ${S}`),S;{const $=o.networkInterfaces();for(const T of Object.values($))T==null||T.forEach(d=>{m(`AddressHelper found ${d.address}`),d.internal===!1&&(d.family==="IPv4"?S.push(d.address):d.scopeid===0&&S.push(pl.toUriLiteral(d.address)))});return S.length===0&&S.push("localhost"),m(`AddressHelper identified ${S}`),S}}static toUriLiteral(S){return S==null?(g(`AddressHelper received invalid address '${S}'`),"{invalid address - undefined}"):(S.indexOf(":")!==-1&&(S=`[${S}]`),S)}static generateUniqueName(S){const $=S.match(/.+_([0-9]+)$/);return $!==null?S.slice(0,-$[1].length)+(1+parseInt($[1])):S+"_2"}static toStringArray(S){return S!=null?typeof S=="string"?[S]:S:[]}static structuredClone(S){return JSON.parse(JSON.stringify(S))}fetch(S){return new Promise(($,T)=>{const d=this.srv.getClientFor(pl.extractScheme(S));m(`WoTImpl fetching TD from '${S}' with ${d}`),d.readResource(new a.Form(S,l.ContentSerdes.TD)).then(async A=>{A.type!==l.ContentSerdes.TD&&A.type!==l.ContentSerdes.JSON_LD&&_(`WoTImpl received TD with media type '${A.type}' from ${S}`);const x=(await A.toBuffer()).toString("utf-8");try{const O=JSON.parse(x);$(O)}catch(O){T(new Error(`WoTImpl fetched invalid JSON from '${S}': ${O instanceof Error?O.message:O}`))}}).then(async A=>(await d.stop(),A)).catch(A=>{T(A)})})}static extend(S,$){const T={};for(const[d,A]of Object.entries(S))T[d]=A;for(const[d,A]of Object.entries($))Object.prototype.hasOwnProperty.call(T,d)||(T[d]=A);return T}static async parseInteractionOutput(S){try{return await S.value()}catch{throw g("parseInteractionOutput low-level stream not implemented"),new Error("parseInteractionOutput low-level stream not implemented")}}static createExposeThingInitSchema(S){const $=pl.structuredClone(S);if($.required!==void 0){const T=["title","@context","instance","forms","security","href","securityDefinitions"];if(Array.isArray($.required)){const d=$.required;$.required=d.filter(A=>!T.includes(A))}else typeof $.required=="string"&&T.indexOf($.required)!==-1&&delete $.required}if($.definitions!=null)for(const[T,d]of Object.entries($.definitions)??[])$.definitions[T]=this.createExposeThingInitSchema(d);return $}static validateExposedThingInit(S){var d;if(S["@type"]==="tm:ThingModel"||s.ThingModelHelpers.isThingModel(S)===!0)return{valid:!1,errors:"ThingModel declaration is not supported"};const $=pl.tsSchemaValidator(S);let T;return $||(T=(d=pl.tsSchemaValidator.errors)==null?void 0:d.map(A=>A.message).join(`
`)),{valid:$,errors:T}}static parseInteractionOptions(S,$,T){if(!this.validateInteractionOptions(S,$,T))throw new Error(`CoreHelpers one or more uriVariables were not found under neither '${$.title}' Thing Interaction nor '${S.title}' Thing`);const d=$.uriVariables??{},A=S.uriVariables??{},x={};T!=null&&T.uriVariables?Object.entries(T.uriVariables).forEach(D=>{(D[0]in d||D[0]in A)&&(x[D[0]]=D[1])}):T={uriVariables:{}};for(const[O,D]of Object.entries(A))!(O in x)&&"default"in D&&(x[O]=D.default);return T.uriVariables=x,T}static validateInteractionOptions(S,$,T){const d=$.uriVariables??{},A=S.uriVariables??{};if(T!=null&&T.uriVariables){const x=Object.entries(T.uriVariables);for(let O=0;O<x.length;O++){const D=x[O];if(!(D[0]in d)&&!(D[0]in A))return!1}}return!0}static parseUrlParameters(S,$={},T={}){const d={};if(S==null||T==null&&$==null)return d;const A=S.split("?")[1];return A==null||(A.indexOf("&")!==-1?A.split("&"):[A]).forEach(O=>{const D=O.split("="),F=decodeURIComponent(D[0]),V=decodeURIComponent(D.length>1?D[1]:"");T!=null&&T[F]!=null?T[F].type==="integer"||T[F].type==="number"?d[F]=+V:d[F]=V:$!=null&&$[F]!=null&&($[F].type==="integer"||$[F].type==="number"?d[F]=+V:d[F]=V)}),d}static updateInteractionNameWithUriVariablePattern(S,$={},T={}){const d=encodeURIComponent(S),A=[...Object.keys($),...Object.keys(T)];if(A.length===0)return d;const x=A.map(encodeURIComponent).join(",");return d+"{?"+x+"}"}};E.tsSchemaValidator=h.compile(E.createExposeThingInitSchema(v)),E.staticAddress=void 0,e.default=E}}),fne=Oe({"../core/dist/errors.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.DataSchemaError=e.NotSupportedError=e.NotReadableError=void 0;var t=class Nq extends Error{constructor(o){super(o),Object.setPrototypeOf(this,Nq.prototype)}};e.NotReadableError=t;var r=class Iq extends Error{constructor(o){super(o),Object.setPrototypeOf(this,Iq.prototype)}};e.NotSupportedError=r;var n=class extends Error{constructor(i,o){super(i),this.value=o,Object.setPrototypeOf(this,r.prototype)}};e.DataSchemaError=n}}),kq=Oe({"../core/dist/interaction-output.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(T,d,A,x){x===void 0&&(x=A);var O=Object.getOwnPropertyDescriptor(d,A);(!O||("get"in O?!d.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return d[A]}}),Object.defineProperty(T,x,O)}:function(T,d,A,x){x===void 0&&(x=A),T[x]=d[A]}),r=e&&e.__setModuleDefault||(Object.create?function(T,d){Object.defineProperty(T,"default",{enumerable:!0,value:d})}:function(T,d){T.default=d}),n=e&&e.__importStar||function(){var T=function(d){return T=Object.getOwnPropertyNames||function(A){var x=[];for(var O in A)Object.prototype.hasOwnProperty.call(A,O)&&(x[x.length]=O);return x},T(d)};return function(d){if(d&&d.__esModule)return d;var A={};if(d!=null)for(var x=T(d),O=0;O<x.length;O++)x[O]!=="default"&&t(A,d,x[O]);return r(A,d),A}}(),i=e&&e.__classPrivateFieldGet||function(T,d,A,x){if(A==="a"&&!x)throw new TypeError("Private accessor was defined without a getter");if(typeof d=="function"?T!==d||!x:!d.has(T))throw new TypeError("Cannot read private member from an object whose class did not declare it");return A==="m"?x:A==="a"?x.call(T):x?x.value:d.get(T)},o=e&&e.__classPrivateFieldSet||function(T,d,A,x,O){if(x==="m")throw new TypeError("Private method is not writable");if(x==="a"&&!O)throw new TypeError("Private accessor was defined without a setter");if(typeof d=="function"?T!==d||!O:!d.has(T))throw new TypeError("Cannot write private member to an object whose class did not declare it");return x==="a"?O.call(T,A):O?O.value=A:d.set(T,A),A},s=e&&e.__importDefault||function(T){return T&&T.__esModule?T:{default:T}},a,l,u,f;Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionOutput=void 0;var c=n((eE(),Or(Z_))),p=nl(),m=Co(),g=fne(),_=s($q()),v=s(Rq()),h=Io(),{debug:E,warn:y}=(0,h.createLoggers)("core","interaction-output"),S=new _.default({strict:!1,addUsedSchema:!1});(0,v.default)(S);var $=class{get data(){if(i(this,f,"f"))return i(this,f,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");return this.dataUsed=!0,o(this,f,m.ProtocolHelpers.toWoTStream(i(this,a,"f").body),"f")}constructor(T,d,A,x={ignoreValidation:!1}){a.set(this,void 0),l.set(this,void 0),u.set(this,void 0),f.set(this,void 0),o(this,a,T,"f"),this.form=d,this.schema=A,this.ignoreValidation=x.ignoreValidation??!1,this.dataUsed=!1}async arrayBuffer(){if(i(this,u,"f"))return i(this,u,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");const T=await i(this,a,"f").toBuffer();return this.dataUsed=!0,o(this,u,T,"f"),T}async value(){if(this.schema==null){y("No schema defined. Hence undefined is reported for value() function. If you are invoking an action with no output that is on purpose, otherwise consider using arrayBuffer().");return}if(i(this,l,"f")!==void 0)return i(this,l,"f");if(this.dataUsed)throw new g.NotReadableError("Can't read the stream once it has been already used");if(this.form==null)throw new g.NotReadableError("No form defined");if(this.schema.const==null&&this.schema.enum==null&&this.schema.oneOf==null&&this.schema.type==null)throw new g.NotReadableError("No schema type defined");if(!p.ContentSerdes.get().isSupported(i(this,a,"f").type)){const x=`Content type ${i(this,a,"f").type} not supported`;throw new g.NotSupportedError(x)}const T=await i(this,a,"f").toBuffer();this.dataUsed=!0,o(this,u,T,"f");const d=p.ContentSerdes.get().contentToValue({type:i(this,a,"f").type,body:T},this.schema),A=S.compile(this.schema);if(!this.ignoreValidation&&!A(d))throw E(`schema = ${c.inspect(this.schema,{depth:10,colors:!0})}`),E(`value: ${d}`),E(`Error: ${A.errors}`),new g.DataSchemaError("Invalid value according to DataSchema",d);return o(this,l,d,"f"),d}};e.InteractionOutput=$,a=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap}}),dne=Oe({"../core/dist/protocol-listener-registry.js"(e){Te();var t=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(nl()),n=class Cq{constructor(){this.listeners=new Map}register(o,s,a){if(o.forms[s]==null)throw new Error("Can't register the listener for affordance with formIndex. The affordance does not contain the form");let l=this.listeners.get(o);l||(l=new Map,this.listeners.set(o,l));let u=l.get(s);u||(u=[],l.set(s,u)),u.push(a)}unregister(o,s,a){const l=this.listeners.get(o);if(!l)throw new Error("Not found");const u=l.get(s);if(!u)throw new Error("Form not found");const f=u.indexOf(a);if(f<0)throw new Error("Form not found");u.splice(f,1)}unregisterAll(){this.listeners.clear()}notify(o,s,a,l){const u=this.listeners.get(o)??Cq.EMPTY_MAP;if(l!==void 0){const f=u.get(l);if(f){const c=o.forms[l].contentType,p=r.default.valueToContent(s,a,c);f.forEach(m=>m(p));return}}for(const[f,c]of u){const p=o.forms[f].contentType,m=r.default.valueToContent(s,a,p);c.forEach(g=>g(m))}}};n.EMPTY_MAP=new Map,e.default=n}}),jq=Oe({"../core/dist/exposed-thing.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(O,D,F,V){V===void 0&&(V=F);var Q=Object.getOwnPropertyDescriptor(D,F);(!Q||("get"in Q?!D.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return D[F]}}),Object.defineProperty(O,V,Q)}:function(O,D,F,V){V===void 0&&(V=F),O[V]=D[F]}),r=e&&e.__setModuleDefault||(Object.create?function(O,D){Object.defineProperty(O,"default",{enumerable:!0,value:D})}:function(O,D){O.default=D}),n=e&&e.__importStar||function(){var O=function(D){return O=Object.getOwnPropertyNames||function(F){var V=[];for(var Q in F)Object.prototype.hasOwnProperty.call(F,Q)&&(V[V.length]=Q);return V},O(D)};return function(D){if(D&&D.__esModule)return D;var F={};if(D!=null)for(var V=O(D),Q=0;Q<V.length;Q++)V[Q]!=="default"&&t(F,D,V[Q]);return r(F,D),F}}(),i=e&&e.__classPrivateFieldSet||function(O,D,F,V,Q){if(V==="m")throw new TypeError("Private method is not writable");if(V==="a"&&!Q)throw new TypeError("Private accessor was defined without a setter");if(typeof D=="function"?O!==D||!Q:!D.has(O))throw new TypeError("Cannot write private member to an object whose class did not declare it");return V==="a"?Q.call(O,F):Q?Q.value=F:D.set(O,F),F},o=e&&e.__classPrivateFieldGet||function(O,D,F,V){if(F==="a"&&!V)throw new TypeError("Private accessor was defined without a getter");if(typeof D=="function"?O!==D||!V:!D.has(O))throw new TypeError("Cannot read private member from an object whose class did not declare it");return F==="m"?V:F==="a"?V.call(O):V?V.value:D.get(O)},s=e&&e.__importDefault||function(O){return O&&O.__esModule?O:{default:O}},a,l,u,f,c,p;Object.defineProperty(e,"__esModule",{value:!0});var m=n(wg()),g=jR(),_=s(xg()),v=kq(),h=(js(),Or(es)),E=s(oN()),y=iN(),S=Co(),$=s(nl()),T=s(dne()),d=Io(),{debug:A}=(0,d.createLoggers)("core","exposed-thing"),x=class extends m.Thing{constructor(O,D={}){super(),a.set(this,new Map),l.set(this,new Map),u.set(this,new Map),f.set(this,new T.default),c.set(this,new T.default),p.set(this,void 0),i(this,p,O,"f"),this.id=D.id??"",this.title=D.title??"",this.security="",this.securityDefinitions={},this.properties={},this.actions={},this.events={};const F=_.default.structuredClone(D);Object.assign(this,F),(0,g.setContextLanguage)(this,m.DEFAULT_CONTEXT_LANGUAGE,!1)}getThingDescription(){return JSON.parse((0,g.serializeTD)(this))}emitEvent(O,D){if(this.events[O]!=null){const F=this.events[O];o(this,c,"f").notify(F,D,F.data)}else throw new Error("NotFoundError for event '"+O+"'")}async emitPropertyChange(O){var D;if(this.properties[O]!=null){const F=this.properties[O],V=(D=o(this,a,"f").get(O))==null?void 0:D.readHandler;if(!V)throw new Error("Can't read property readHandler is not defined. Did you forget to register a readHandler?");const Q=await V();o(this,f,"f").notify(F,Q,F)}else throw new Error("NotFoundError for property '"+O+"'")}expose(){return A(`ExposedThing '${this.title}' exposing all Interactions and TD`),new Promise((O,D)=>{o(this,p,"f").expose(this).then(()=>{O()}).catch(F=>D(F))})}async destroy(){A(`ExposedThing '${this.title}' destroying the thing and its interactions`),await o(this,p,"f").destroyThing(this.id),o(this,c,"f").unregisterAll(),o(this,f,"f").unregisterAll(),o(this,u,"f").clear(),o(this,a,"f").clear(),o(this,u,"f").clear()}setPropertyReadHandler(O,D){if(A(`ExposedThing '${this.title}' setting read handler for '${O}'`),this.properties[O]!=null){if(this.properties[O].writeOnly===!0)throw new Error(`ExposedThing '${this.title}' cannot set read handler for property '${O}' due to writeOnly flag`);{let F=o(this,a,"f").get(O);F?F.readHandler=D:F={readHandler:D},o(this,a,"f").set(O,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${O}'`);return this}setPropertyWriteHandler(O,D){if(A(`ExposedThing '${this.title}' setting write handler for '${O}'`),this.properties[O]!=null){if(this.properties[O].readOnly===!0)throw new Error(`ExposedThing '${this.title}' cannot set write handler for property '${O}' due to readOnly flag`);{let F=o(this,a,"f").get(O);F?F.writeHandler=D:F={writeHandler:D},o(this,a,"f").set(O,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${O}'`);return this}setPropertyObserveHandler(O,D){if(A(`ExposedThing '${this.title}' setting property observe handler for '${O}'`),this.properties[O]!=null){if(this.properties[O].observable!==!0)throw new Error(`ExposedThing '${this.title}' cannot set observe handler for property '${O}' since the observable flag is set to false`);{let F=o(this,a,"f").get(O);F?F.observeHandler=D:F={observeHandler:D},o(this,a,"f").set(O,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${O}'`);return this}setPropertyUnobserveHandler(O,D){if(A(`ExposedThing '${this.title}' setting property unobserve handler for '${O}'`),this.properties[O]!=null){if(this.properties[O].observable!==!0)throw new Error(`ExposedThing '${this.title}' cannot set unobserve handler for property '${O}' due to missing observable flag`);{let F=o(this,a,"f").get(O);F?F.unobserveHandler=D:F={unobserveHandler:D},o(this,a,"f").set(O,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${O}'`);return this}setActionHandler(O,D){if(A(`ExposedThing '${this.title}' setting action handler for '${O}'`),this.actions[O]!=null)o(this,l,"f").set(O,D);else throw new Error(`ExposedThing '${this.title}' has no Action '${O}'`);return this}setEventSubscribeHandler(O,D){if(A(`ExposedThing '${this.title}' setting event subscribe handler for '${O}'`),this.events[O]!=null){let F=o(this,u,"f").get(O);F?F.subscribe=D:F={subscribe:D},o(this,u,"f").set(O,F)}else throw new Error(`ExposedThing '${this.title}' has no Event '${O}'`);return this}setEventUnsubscribeHandler(O,D){if(A(`ExposedThing '${this.title}' setting event unsubscribe handler for '${O}'`),this.events[O]!=null){let F=o(this,u,"f").get(O);F?F.unsubscribe=D:F={unsubscribe:D},o(this,u,"f").set(O,F)}else throw new Error(`ExposedThing '${this.title}' has no Event '${O}'`);return this}async handleInvokeAction(O,D,F){if(this.actions[O]!=null){A(`ExposedThing '${this.title}' has Action state of '${O}'`);const V=o(this,l,"f").get(O);if(V!=null){A(`ExposedThing '${this.title}' calls registered handler for Action '${O}'`),_.default.validateInteractionOptions(this,this.actions[O],F);const Q=this.actions[O].forms[F.formIndex]??{contentType:"application/json"},H=await V(new v.InteractionOutput(D,Q,this.actions[O].input),F);if(H!==void 0)return $.default.valueToContent(H,this.actions[O].output,Q.contentType)}else throw new Error(`ExposedThing '${this.title}' has no handler for Action '${O}'`)}else throw new Error(`ExposedThing '${this.title}', no action found for '${O}'`)}async handleReadProperty(O,D){var F,V;if(this.properties[O]!=null){A(`ExposedThing '${this.title}' has Action state of '${O}'`);const Q=(F=o(this,a,"f").get(O))==null?void 0:F.readHandler;if(Q!=null){A(`ExposedThing '${this.title}' calls registered readHandler for Property '${O}'`),_.default.validateInteractionOptions(this,this.properties[O],D);const H=await Q(D),X=((V=this.properties[O])==null?void 0:V.forms[D.formIndex])??{contentType:"application/json"};return $.default.valueToContent(H,this.properties[O],(X==null?void 0:X.contentType)??"application/json")}else throw new Error(`ExposedThing '${this.title}' has no readHandler for Property '${O}'`)}else throw new Error(`ExposedThing '${this.title}', no property found for '${O}'`)}async _handleReadProperties(O,D){try{const F=new Map;for(const V of O){if(!this.properties[V].forms.find(X=>X.contentType===S.ContentSerdes.DEFAULT||X.contentType==null))continue;const H=await this.handleReadProperty(V,D);F.set(V,H)}return F}catch(F){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${O}.
 Error: ${F}`)}}async handleReadAllProperties(O){const D=Object.keys(this.properties);return await this._handleReadProperties(D,O)}async handleReadMultipleProperties(O,D){return await this._handleReadProperties(O,D)}async handleWriteProperty(O,D,F){var V,Q;if(this.properties[O]!=null){if(this.properties[O].readOnly===!0)throw new Error(`ExposedThing '${this.title}', property '${O}' is readOnly`);_.default.validateInteractionOptions(this,this.properties[O],F);const H=(V=o(this,a,"f").get(O))==null?void 0:V.writeHandler,X=((Q=this.properties[O])==null?void 0:Q.forms[F.formIndex])??{};if(H!=null)await H(new v.InteractionOutput(D,X,this.properties[O]),F);else throw new Error(`ExposedThing '${this.title}' has no writeHandler for Property '${O}'`)}else throw new Error(`ExposedThing '${this.title}', no property found for '${O}'`)}async handleWriteMultipleProperties(O,D){const F=[];for(const[V,Q]of Object.entries(O))this.properties[V].forms.find(X=>X.contentType==="application/json"||X.contentType==null)!=null&&F.push(this.handleWriteProperty(V,Q,D));try{await Promise.all(F)}catch(V){throw new Error(`ExposedThing '${this.title}', failed to write multiple properties. ${V.message}`)}}async handleSubscribeEvent(O,D,F){var V;if(this.events[O]!=null){_.default.validateInteractionOptions(this,this.events[O],F);const Q=E.default.getFormIndexForOperation(this.events[O],"event","subscribeevent",F.formIndex);if(Q!==-1)o(this,c,"f").register(this.events[O],Q,D),A(`ExposedThing '${this.title}' subscribes to event '${O}'`);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${O}' with form index '${F.formIndex}'`);const H=(V=o(this,u,"f").get(O))==null?void 0:V.subscribe;H&&await H(F),A(`ExposedThing '${this.title}' subscribes to event '${O}'`)}else throw new Error(`ExposedThing '${this.title}', no event found for '${O}'`)}handleUnsubscribeEvent(O,D,F){var V;if(this.events[O]!=null){_.default.validateInteractionOptions(this,this.events[O],F);const Q=E.default.getFormIndexForOperation(this.events[O],"event","unsubscribeevent",F.formIndex);if(Q!==-1)o(this,c,"f").unregister(this.events[O],Q,D);else throw new Error(`ExposedThing '${this.title}', no event listener from found for '${O}' with form index '${F.formIndex}'`);const H=(V=o(this,u,"f").get(O))==null?void 0:V.unsubscribe;H&&H(F),A(`ExposedThing '${this.title}' unsubscribes from event '${O}'`)}else throw new Error(`ExposedThing '${this.title}', no event found for '${O}'`)}async handleObserveProperty(O,D,F){var V;if(this.properties[O]!=null){_.default.validateInteractionOptions(this,this.properties[O],F);const Q=E.default.getFormIndexForOperation(this.properties[O],"property","observeproperty",F.formIndex);if(Q!==-1)o(this,f,"f").register(this.properties[O],Q,D),A(`ExposedThing '${this.title}' subscribes to property '${O}'`);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${O}' with form index '${F.formIndex}'`);const H=(V=o(this,a,"f").get(O))==null?void 0:V.observeHandler;H&&await H(F)}else throw new Error(`ExposedThing '${this.title}', no property found for '${O}'`)}handleUnobserveProperty(O,D,F){var V;if(this.properties[O]!=null){_.default.validateInteractionOptions(this,this.properties[O],F);const Q=E.default.getFormIndexForOperation(this.properties[O],"property","unobserveproperty",F.formIndex);if(Q!==-1)o(this,f,"f").unregister(this.properties[O],Q,D);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${O}' with form index '${F.formIndex}'`);const H=(V=o(this,a,"f").get(O))==null?void 0:V.unobserveHandler;H&&H(F)}else throw new Error(`ExposedThing '${this.title}', no property found for '${O}'`)}static interactionInputToReadable(O){let D;return typeof ReadableStream<"u"&&O instanceof ReadableStream||O instanceof y.ReadableStream?D=E.default.toNodeStream(O):Array.isArray(O)||typeof O=="object"?D=h.Readable.from(Yr.from(JSON.stringify(O),"utf-8")):D=h.Readable.from(Yr.from(O.toString(),"utf-8")),D}};a=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,c=new WeakMap,p=new WeakMap,e.default=x}}),hne=Oe({"../../node_modules/content-type/index.js"(e){Te();var t=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,r=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,n=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,i=/\\([\u000b\u0020-\u00ff])/g,o=/([\\"])/g,s=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;e.format=a,e.parse=l;function a(p){if(!p||typeof p!="object")throw new TypeError("argument obj is required");var m=p.parameters,g=p.type;if(!g||!s.test(g))throw new TypeError("invalid type");var _=g;if(m&&typeof m=="object")for(var v,h=Object.keys(m).sort(),E=0;E<h.length;E++){if(v=h[E],!n.test(v))throw new TypeError("invalid parameter name");_+="; "+v+"="+f(m[v])}return _}function l(p){if(!p)throw new TypeError("argument string is required");var m=typeof p=="object"?u(p):p;if(typeof m!="string")throw new TypeError("argument string is required to be a string");var g=m.indexOf(";"),_=g!==-1?m.slice(0,g).trim():m.trim();if(!s.test(_))throw new TypeError("invalid media type");var v=new c(_.toLowerCase());if(g!==-1){var h,E,y;for(t.lastIndex=g;E=t.exec(m);){if(E.index!==g)throw new TypeError("invalid parameter format");g+=E[0].length,h=E[1].toLowerCase(),y=E[2],y.charCodeAt(0)===34&&(y=y.slice(1,-1),y.indexOf("\\")!==-1&&(y=y.replace(i,"$1"))),v.parameters[h]=y}if(g!==m.length)throw new TypeError("invalid parameter format")}return v}function u(p){var m;if(typeof p.getHeader=="function"?m=p.getHeader("content-type"):typeof p.headers=="object"&&(m=p.headers&&p.headers["content-type"]),typeof m!="string")throw new TypeError("content-type header is missing from object");return m}function f(p){var m=String(p);if(n.test(m))return m;if(m.length>0&&!r.test(m))throw new TypeError("invalid parameter value");return'"'+m.replace(o,"\\$1")+'"'}function c(p){this.parameters=Object.create(null),this.type=p}}}),pne=Oe({"../../node_modules/uritemplate/bin/uritemplate.js"(e,t){Te(),function(r){var n=function(){function _(v){this.options=v}return _.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},_}(),i=function(){function _(A){return Object.prototype.toString.apply(A)==="[object Array]"}function v(A){return Object.prototype.toString.apply(A)==="[object String]"}function h(A){return Object.prototype.toString.apply(A)==="[object Number]"}function E(A){return Object.prototype.toString.apply(A)==="[object Boolean]"}function y(A,x){var O="",D=!0,F;for(F=0;F<A.length;F+=1)D?D=!1:O+=x,O+=A[F];return O}function S(A,x){for(var O=[],D=0;D<A.length;D+=1)O.push(x(A[D]));return O}function $(A,x){for(var O=[],D=0;D<A.length;D+=1)x(A[D])&&O.push(A[D]);return O}function T(A){if(typeof A!="object"||A===null)return A;Object.freeze(A);var x,O;for(O in A)A.hasOwnProperty(O)&&(x=A[O],typeof x=="object"&&d(x));return A}function d(A){return typeof Object.freeze=="function"?T(A):A}return{isArray:_,isString:v,isNumber:h,isBoolean:E,join:y,map:S,filter:$,deepFreeze:d}}(),o=function(){function _(E){return E>="a"&&E<="z"||E>="A"&&E<="Z"}function v(E){return E>="0"&&E<="9"}function h(E){return v(E)||E>="a"&&E<="f"||E>="A"&&E<="F"}return{isAlpha:_,isDigit:v,isHexDigit:h}}(),s=function(){var _={encode:function($){return unescape(encodeURIComponent($))},numBytes:function($){return $<=127?1:194<=$&&$<=223?2:224<=$&&$<=239?3:240<=$&&$<=244?4:0},isValidFollowingCharCode:function($){return 128<=$&&$<=191}};function v($){var T="",d=_.encode($),A,x;for(x=0;x<d.length;x+=1)A=d.charCodeAt(x),T+="%"+(A<16?"0":"")+A.toString(16).toUpperCase();return T}function h($,T){return $.charAt(T)==="%"&&o.isHexDigit($.charAt(T+1))&&o.isHexDigit($.charAt(T+2))}function E($,T){return parseInt($.substr(T,2),16)}function y($){if(!h($,0))return!1;var T=E($,1),d=_.numBytes(T);if(d===0)return!1;for(var A=1;A<d;A+=1)if(!h($,3*A)||!_.isValidFollowingCharCode(E($,3*A+1)))return!1;return!0}function S($,T){var d=$.charAt(T);if(!h($,T))return d;var A=E($,T+1),x=_.numBytes(A);if(x===0)return d;for(var O=1;O<x;O+=1)if(!h($,T+3*O)||!_.isValidFollowingCharCode(E($,T+3*O+1)))return d;return $.substr(T,3*x)}return{encodeCharacter:v,isPctEncoded:y,pctCharAt:S}}(),a=function(){function _(E){return o.isAlpha(E)||o.isDigit(E)||E==="_"||s.isPctEncoded(E)}function v(E){return o.isAlpha(E)||o.isDigit(E)||E==="-"||E==="."||E==="_"||E==="~"}function h(E){return E===":"||E==="/"||E==="?"||E==="#"||E==="["||E==="]"||E==="@"||E==="!"||E==="$"||E==="&"||E==="("||E===")"||E==="*"||E==="+"||E===","||E===";"||E==="="||E==="'"}return{isVarchar:_,isUnreserved:v,isReserved:h}}(),l=function(){function _(y,S){var $="",T,d="";for((typeof y=="number"||typeof y=="boolean")&&(y=y.toString()),T=0;T<y.length;T+=d.length)d=y.charAt(T),$+=a.isUnreserved(d)||S&&a.isReserved(d)?d:s.encodeCharacter(d);return $}function v(y){return _(y,!0)}function h(y,S){var $=s.pctCharAt(y,S);return $.length>1||a.isReserved($)||a.isUnreserved($)?$:s.encodeCharacter($)}function E(y){var S="",$,T="";for($=0;$<y.length;$+=T.length)T=s.pctCharAt(y,$),T.length>1?S+=T:S+=a.isReserved(T)||a.isUnreserved(T)?T:s.encodeCharacter(T);return S}return{encode:_,encodePassReserved:v,encodeLiteral:E,encodeLiteralCharacter:h}}(),u=function(){var _={};function v(h){_[h]={symbol:h,separator:h==="?"?"&":h===""||h==="+"||h==="#"?",":h,named:h===";"||h==="&"||h==="?",ifEmpty:h==="&"||h==="?"?"=":"",first:h==="+"?"":h,encode:h==="+"||h==="#"?l.encodePassReserved:l.encode,toString:function(){return this.symbol}}}return v(""),v("+"),v("#"),v("."),v("/"),v(";"),v("?"),v("&"),{valueOf:function(h){return _[h]?_[h]:"=,!@|".indexOf(h)>=0?null:_[""]}}}();function f(_){var v;if(_==null)return!1;if(i.isArray(_))return _.length>0;if(typeof _=="string"||typeof _=="number"||typeof _=="boolean")return!0;for(v in _)if(_.hasOwnProperty(v)&&f(_[v]))return!0;return!1}var c=function(){function _(v){this.literal=l.encodeLiteral(v)}return _.prototype.expand=function(){return this.literal},_.prototype.toString=_.prototype.expand,_}(),p=function(){function _(h){var E,y=[],S=null,$=null,T=null,d,A="";function x(){var D=h.substring($,d);if(D.length===0)throw new n({expressionText:h,message:"a varname must be specified",position:d});S={varname:D,exploded:!1,maxLength:null},$=null}function O(){if(T===d)throw new n({expressionText:h,message:"after a ':' you have to specify the length",position:d});S.maxLength=parseInt(h.substring(T,d),10),T=null}for(E=function(D){var F=u.valueOf(D);if(F===null)throw new n({expressionText:h,message:"illegal use of reserved operator",position:d,operator:D});return F}(h.charAt(0)),d=E.symbol.length,$=d;d<h.length;d+=A.length){if(A=s.pctCharAt(h,d),$!==null){if(A==="."){if($===d)throw new n({expressionText:h,message:"a varname MUST NOT start with a dot",position:d});continue}if(a.isVarchar(A))continue;x()}if(T!==null){if(d===T&&A==="0")throw new n({expressionText:h,message:"A :prefix must not start with digit 0",position:d});if(o.isDigit(A)){if(d-T>=4)throw new n({expressionText:h,message:"A :prefix must have max 4 digits",position:d});continue}O()}if(A===":"){if(S.maxLength!==null)throw new n({expressionText:h,message:"only one :maxLength is allowed per varspec",position:d});if(S.exploded)throw new n({expressionText:h,message:"an exploeded varspec MUST NOT be varspeced",position:d});T=d+1;continue}if(A==="*"){if(S===null)throw new n({expressionText:h,message:"exploded without varspec",position:d});if(S.exploded)throw new n({expressionText:h,message:"exploded twice",position:d});if(S.maxLength)throw new n({expressionText:h,message:"an explode (*) MUST NOT follow to a prefix",position:d});S.exploded=!0;continue}if(A===","){y.push(S),S=null,$=d+1;continue}throw new n({expressionText:h,message:"illegal character",character:A,position:d})}return $!==null&&x(),T!==null&&O(),y.push(S),new m(h,E,y)}function v(h){var E,y,S=[],$=null,T=0;for(E=0;E<h.length;E+=1){if(y=h.charAt(E),T!==null){if(y==="}")throw new n({templateText:h,message:"unopened brace closed",position:E});y==="{"&&(T<E&&S.push(new c(h.substring(T,E))),T=null,$=E);continue}if($!==null){if(y==="{")throw new n({templateText:h,message:"brace already opened",position:E});if(y==="}"){if($+1===E)throw new n({templateText:h,message:"empty braces",position:$});try{S.push(_(h.substring($+1,E)))}catch(d){throw d.prototype===n.prototype?new n({templateText:h,message:d.options.message,position:$+d.options.position,details:d.options}):d}$=null,T=E+1}continue}throw new Error("reached unreachable code")}if($!==null)throw new n({templateText:h,message:"unclosed brace",position:$});return T<h.length&&S.push(new c(h.substr(T))),new g(h,S)}return v}(),m=function(){function _(A){return JSON&&JSON.stringify?JSON.stringify(A):A}function v(A){if(!f(A))return!0;if(i.isString(A))return A==="";if(i.isNumber(A)||i.isBoolean(A))return!1;if(i.isArray(A))return A.length===0;for(var x in A)if(A.hasOwnProperty(x))return!1;return!0}function h(A){var x=[],O;for(O in A)A.hasOwnProperty(O)&&x.push({name:O,value:A[O]});return x}function E(A,x,O){this.templateText=A,this.operator=x,this.varspecs=O}E.prototype.toString=function(){return this.templateText};function y(A,x,O){var D="";if(O=O.toString(),x.named){if(D+=l.encodeLiteral(A.varname),O==="")return D+=x.ifEmpty,D;D+="="}return A.maxLength!==null&&(O=O.substr(0,A.maxLength)),D+=x.encode(O),D}function S(A){return f(A.value)}function $(A,x,O){var D=[],F="";if(x.named){if(F+=l.encodeLiteral(A.varname),v(O))return F+=x.ifEmpty,F;F+="="}return i.isArray(O)?(D=O,D=i.filter(D,f),D=i.map(D,x.encode),F+=i.join(D,",")):(D=h(O),D=i.filter(D,S),D=i.map(D,function(V){return x.encode(V.name)+","+x.encode(V.value)}),F+=i.join(D,",")),F}function T(A,x,O){var D=i.isArray(O),F=[];return D?(F=O,F=i.filter(F,f),F=i.map(F,function(V){var Q=l.encodeLiteral(A.varname);return v(V)?Q+=x.ifEmpty:Q+="="+x.encode(V),Q})):(F=h(O),F=i.filter(F,S),F=i.map(F,function(V){var Q=l.encodeLiteral(V.name);return v(V.value)?Q+=x.ifEmpty:Q+="="+x.encode(V.value),Q})),i.join(F,x.separator)}function d(A,x){var O=[],D="";return i.isArray(x)?(O=x,O=i.filter(O,f),O=i.map(O,A.encode),D+=i.join(O,A.separator)):(O=h(x),O=i.filter(O,function(F){return f(F.value)}),O=i.map(O,function(F){return A.encode(F.name)+"="+A.encode(F.value)}),D+=i.join(O,A.separator)),D}return E.prototype.expand=function(A){var x=[],O,D,F,V=this.operator;for(O=0;O<this.varspecs.length;O+=1)if(D=this.varspecs[O],F=A[D.varname],F!=null)if(D.exploded,i.isArray(F),typeof F=="string"||typeof F=="number"||typeof F=="boolean")x.push(y(D,V,F));else{if(D.maxLength&&f(F))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+_(F));D.exploded?f(F)&&(V.named?x.push(T(D,V,F)):x.push(d(V,F))):(V.named||!v(F))&&x.push($(D,V,F))}return x.length===0?"":V.first+i.join(x,V.separator)},E}(),g=function(){function _(v,h){this.templateText=v,this.expressions=h,i.deepFreeze(this)}return _.prototype.toString=function(){return this.templateText},_.prototype.expand=function(v){var h,E="";for(h=0;h<this.expressions.length;h+=1)E+=this.expressions[h].expand(v);return E},_.parse=p,_.UriTemplateError=n,_}();r(g)}(function(r){typeof t<"u"?t.exports=r:typeof define=="function"?define([],function(){return r}):typeof window<"u"?window.UriTemplate=r:global.UriTemplate=r})}}),Dq=Oe({"../core/dist/consumed-thing.js"(e){Te();var t=e&&e.__classPrivateFieldSet||function(H,X,fe,Z,ne){if(Z==="m")throw new TypeError("Private method is not writable");if(Z==="a"&&!ne)throw new TypeError("Private accessor was defined without a setter");if(typeof X=="function"?H!==X||!ne:!X.has(H))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Z==="a"?ne.call(H,fe):ne?ne.value=fe:X.set(H,fe),fe},r=e&&e.__classPrivateFieldGet||function(H,X,fe,Z){if(fe==="a"&&!Z)throw new TypeError("Private accessor was defined without a getter");if(typeof X=="function"?H!==X||!Z:!X.has(H))throw new TypeError("Cannot read private member from an object whose class did not declare it");return fe==="m"?Z:fe==="a"?Z.call(H):Z?Z.value:X.get(H)},n=e&&e.__importDefault||function(H){return H&&H.__esModule?H:{default:H}},i,o,s,a,l,u,f,c;Object.defineProperty(e,"__esModule",{value:!0});var p=wg(),m=n(xg()),g=n(hne()),_=n(nl()),v=pne(),h=kq(),E=Io(),{debug:y,warn:S}=(0,E.createLoggers)("core","consumed-thing"),$;(function(H){H[H.PropertyAffordance=0]="PropertyAffordance",H[H.ActionAffordance=1]="ActionAffordance",H[H.EventAffordance=2]="EventAffordance"})($||($={}));var T=class extends p.ThingProperty{constructor(H,X){super(),i.set(this,void 0),o.set(this,void 0),t(this,i,H,"f"),t(this,o,X,"f")}};i=new WeakMap,o=new WeakMap;var d=class extends p.ThingAction{constructor(H,X){super(),s.set(this,void 0),a.set(this,void 0),t(this,s,H,"f"),t(this,a,X,"f")}};s=new WeakMap,a=new WeakMap;var A=class extends p.ThingEvent{constructor(H,X){super(),l.set(this,void 0),u.set(this,void 0),t(this,l,H,"f"),t(this,u,X,"f")}};l=new WeakMap,u=new WeakMap;var x=class{constructor(H,X,fe){this.thing=H,this.name=X,this.client=fe,this.active=!0}};function O(H,X,fe,Z){const ne=v.parse(fe.href),C=m.default.parseInteractionOptions(H,X,Z).uriVariables,B=ne.expand(C??{});if(B!==fe.href){const K={...fe};K.href=B,fe=K,y(`ConsumedThing '${H.title}' update form URI to ${fe.href}`)}return fe}var D=class extends x{constructor(H,X,fe,Z){var C;super(H,X,fe),this.form=Z,this.active=!1;const ne=(C=this.thing.properties)==null?void 0:C[X].forms.indexOf(Z);if(ne===void 0||ne<0)throw new Error(`Could not find form ${Z.href} in property ${X}`);this.formIndex=ne}async stop(H){await this.unobserveProperty(H),this.thing.observedProperties.delete(this.name)}async unobserveProperty(H={}){const X=this.thing.properties[this.name];if(X==null)throw new Error(`ConsumedThing '${this.thing.title}' does not have property ${this.name}`);H.formIndex??(H.formIndex=this.matchingUnsubscribeForm());const{form:fe}=this.thing.getClientFor(X.forms,"unobserveproperty",$.PropertyAffordance,H);if(fe==null)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const Z=O(this.thing,X,fe,H);y(`ConsumedThing '${this.thing.title}' unobserving to ${fe.href}`),await this.client.unlinkResource(Z),this.active=!1}matchingUnsubscribeForm(){const H=this.thing.properties[this.name].forms[this.formIndex];if(Array.isArray(H.op)&&H.op.includes("unobserveproperty"))return this.formIndex;const X=this.findFormIndexWithScoring(this.formIndex,this.thing.properties[this.name].forms,"unobserveproperty");if(X===-1)throw new Error("Could not find matching form for unsubscribe");return X}findFormIndexWithScoring(H,X,fe){var B;const Z=X[H];let ne=0,C=-1;for(let K=0;K<X.length;K++){let P=0;const I=X[K];(I.op===fe||((B=I==null?void 0:I.op)==null?void 0:B.includes(fe))===!0&&Array.isArray(I.op)===!0)&&(P+=1),new URL(I.href).origin===new URL(Z.href).origin&&(P+=1),I.contentType===Z.contentType&&(P+=1),P>ne&&(ne=P,C=K)}return C}};function F(H,X,fe){var B;const Z=X[H];let ne=0,C=-1;for(let K=0;K<X.length;K++){let P=0;const I=X[K];(I.op===fe||((B=I==null?void 0:I.op)==null?void 0:B.includes(fe))===!0&&Array.isArray(I.op)===!0)&&(P+=1),new URL(I.href).origin===new URL(Z.href).origin&&(P+=1),I.contentType===Z.contentType&&(P+=1),P>ne&&(ne=P,C=K)}return C}var V=class extends x{constructor(H,X,fe,Z){var C;super(H,X,fe),this.form=Z;const ne=(C=this.thing.events)==null?void 0:C[X].forms.indexOf(Z);if(ne===void 0||ne<0)throw new Error(`Could not find form ${Z.href} in event ${X}`);this.formIndex=ne}async stop(H){await this.unsubscribeEvent(H),this.thing.subscribedEvents.delete(this.name)}async unsubscribeEvent(H={}){const X=this.thing.events[this.name];if(X==null)throw new Error(`ConsumedThing '${this.thing.title}' does not have event ${this.name}`);H.formIndex??(H.formIndex=this.matchingUnsubscribeForm());const{form:fe}=this.thing.getClientFor(X.forms,"unsubscribeevent",$.EventAffordance,H);if(fe==null)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const Z=O(this.thing,X,fe,H);y(`ConsumedThing '${this.thing.title}' unsubscribing to ${fe.href}`),this.client.unlinkResource(Z),this.active=!1}matchingUnsubscribeForm(){const H=this.thing.events[this.name].forms[this.formIndex];if(H.op==null||Array.isArray(H.op)&&H.op.includes("unsubscribeevent"))return this.formIndex;const X=F(this.formIndex,this.thing.events[this.name].forms,"unsubscribeevent");if(X===-1)throw new Error("Could not find matching form for unsubscribe");return X}},Q=class extends p.Thing{constructor(H,X){super(),f.set(this,void 0),c.set(this,void 0),this.subscribedEvents=new Map,this.observedProperties=new Map,t(this,f,H,"f"),t(this,c,new Map,"f"),this.properties={},this.actions={},this.events={};const fe=m.default.structuredClone(X??{});Object.assign(this,fe),this.extendInteractions()}getThingDescription(){return JSON.parse(JSON.stringify(this))}emitEvent(H,X){S("not implemented")}extendInteractions(){for(const[H,X]of Object.entries(this.properties)){const fe=m.default.extend(X,new T(H,this));this.properties[H]=fe}for(const[H,X]of Object.entries(this.actions)){const fe=m.default.extend(X,new d(H,this));this.actions[H]=fe}for(const[H,X]of Object.entries(this.events)){const fe=m.default.extend(X,new A(H,this));this.events[H]=fe}}findForm(H,X,fe,Z,ne){let C;for(const B of H){let K="";if(B.op!==void 0)K=B.op;else switch(fe){case $.PropertyAffordance:K=["readproperty","writeproperty"];break;case $.ActionAffordance:K="invokeaction";break;case $.EventAffordance:K="subscribeevent";break}if(K.indexOf(X)!==-1&&B.href.indexOf(Z[ne]+":")!==-1){C=B;break}}return C}getSecuritySchemes(H){const X=[];for(const fe of H){const Z=this.securityDefinitions[fe+""];Z!=null&&X.push(Z)}return X}ensureClientSecurity(H,X){if(this.securityDefinitions!=null){const fe=()=>y(`ConsumedThing '${this.title}' setting credentials for ${H} based on thing security`);X!=null&&Array.isArray(X.security)&&X.security.length>0?(fe(),H.setSecurity(this.getSecuritySchemes(X.security),r(this,f,"f").retrieveCredentials(this.id))):Array.isArray(this.security)&&this.security.length>0&&(fe(),H.setSecurity(this.getSecuritySchemes(this.security),r(this,f,"f").getCredentials(this.id)))}}getClientFor(H,X,fe,Z){if(H.length===0)throw new Error(`ConsumedThing '${this.title}' has no links for this interaction`);let ne,C;if((Z==null?void 0:Z.formIndex)!==void 0)if(y(`ConsumedThing '${this.title}' asked to use formIndex '${Z.formIndex}'`),Z.formIndex>=0&&Z.formIndex<H.length){ne=H[Z.formIndex];const B=m.default.extractScheme(ne.href);if(r(this,f,"f").hasClientFor(B))y(`ConsumedThing '${this.title}' got client for '${B}'`),C=r(this,f,"f").getClientFor(B),r(this,c,"f").get(B)||(this.ensureClientSecurity(C,ne),r(this,c,"f").set(B,C));else throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${B}'`)}else throw new Error(`ConsumedThing '${this.title}' missing formIndex '${Z.formIndex}'`);else{const B=H.map(P=>m.default.extractScheme(P.href)),K=B.findIndex(P=>r(this,c,"f").has(P));if(K!==-1)y(`ConsumedThing '${this.title}' chose cached client for '${B[K]}'`),C=r(this,c,"f").get(B[K]),ne=this.findForm(H,X,fe,B,K);else{y(`ConsumedThing '${this.title}' has no client in cache (${K})`);const P=B.findIndex(I=>r(this,f,"f").hasClientFor(I));if(P===-1)throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${B}'`);C=r(this,f,"f").getClientFor(B[P]),y(`ConsumedThing '${this.title}' got new client for '${B[P]}'`),r(this,c,"f").set(B[P],C),ne=this.findForm(H,X,fe,B,P),this.ensureClientSecurity(C,ne)}}return{client:C,form:ne}}async readProperty(H,X){const fe=this.properties[H];if(fe==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${H}`);let{client:Z,form:ne}=this.getClientFor(fe.forms,"readproperty",$.PropertyAffordance,X);if(ne==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(Z==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${ne.href}`);y(`ConsumedThing '${this.title}' reading ${ne.href}`),ne=this.handleUriVariables(fe,ne,X);const C=await Z.readResource(ne);try{return this.handleInteractionOutput(C,ne,fe,!1)}catch(B){const K=B instanceof Error?B:new Error(JSON.stringify(B));throw new Error(`Error while processing property for ${fe.title}. ${K.message}`)}}handleInteractionOutput(H,X,fe,Z){if(H.type??(H.type=X.contentType??"application/json"),X.response!=null){const ne=g.default.parse(H.type),C=g.default.parse(X.response.contentType);if(ne.type!==C.type)throw new Error(`Unexpected type '${H.type}' in response. Should be '${X.response.contentType}'`)}return new h.InteractionOutput(H,X,fe,{ignoreValidation:Z})}async _readProperties(H){const X=[];for(const Z of H)X.push(this.readProperty(Z));const fe=new Map;try{const Z=await Promise.all(X);let ne=0;for(const C of H)fe.set(C,Z[ne]),ne++;return fe}catch(Z){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${H}.
 Error: ${Z}`)}}readAllProperties(H){const X=[];for(const[fe,Z]of Object.entries(this.properties)){const{form:ne}=this.getClientFor(Z.forms,"readproperty",$.PropertyAffordance,H);ne!=null&&X.push(fe)}return this._readProperties(X)}readMultipleProperties(H,X){return this._readProperties(H)}async writeProperty(H,X,fe){const Z=this.properties[H];if(Z==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${H}`);let{client:ne,form:C}=this.getClientFor(Z.forms,"writeproperty",$.PropertyAffordance,fe);if(C==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(ne==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${C.href}`);y(`ConsumedThing '${this.title}' writing ${C.href} with '${X}'`);const B=_.default.valueToContent(X,Z,C.contentType);C=this.handleUriVariables(Z,C,fe),await ne.writeResource(C,B)}async writeMultipleProperties(H,X){const fe=[];for(const[Z,ne]of H.entries())fe.push(this.writeProperty(Z,ne));try{await Promise.all(fe)}catch(Z){throw new Error(`ConsumedThing '${this.title}', failed to write multiple properties: ${H}
 Error: ${Z}`)}}async invokeAction(H,X,fe){const Z=this.actions[H];if(Z==null)throw new Error(`ConsumedThing '${this.title}' does not have action ${H}`);let{client:ne,form:C}=this.getClientFor(Z.forms,"invokeaction",$.ActionAffordance,fe);if(C==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(ne==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${C.href}`);y(`ConsumedThing '${this.title}' invoking ${C.href}${X!==void 0?" with '"+X+"'":""}`);let B;X!==void 0&&(B=_.default.valueToContent(X,Z.input,C.contentType)),C=this.handleUriVariables(Z,C,fe);const K=await ne.invokeResource(C,B);try{const P=Z.synchronous===void 0?!0:!Z.synchronous;return this.handleInteractionOutput(K,C,Z.output,P)}catch(P){const I=P instanceof Error?P:new Error(JSON.stringify(P));throw new Error(`Error while processing action for ${Z.title}. ${I.message}`)}}async observeProperty(H,X,fe,Z){const ne=this.properties[H];if(ne==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${H}`);const{client:C,form:B}=this.getClientFor(ne.forms,"observeproperty",$.PropertyAffordance,Z);if(B==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(C==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${B.href}`);if(this.observedProperties.has(H))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${H}. You can only observe once`);y(`ConsumedThing '${this.title}' observing to ${B.href}`);const K=this.handleUriVariables(ne,B,Z);await C.subscribeResource(K,I=>{try{X(this.handleInteractionOutput(I,B,ne,!1))}catch(q){const ie=q instanceof Error?q:new Error(JSON.stringify(q));S(`Error while processing observe property for ${ne.title}. ${ie.message}`),S(q)}},I=>{fe==null||fe(I)},()=>{});const P=new D(this,H,C,B);return this.observedProperties.set(H,P),P}async subscribeEvent(H,X,fe,Z){const ne=this.events[H];if(ne==null)throw new Error(`ConsumedThing '${this.title}' does not have event ${H}`);const{client:C,form:B}=this.getClientFor(ne.forms,"subscribeevent",$.EventAffordance,Z);if(B==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(C==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${B.href}`);if(this.subscribedEvents.has(H))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${H}. You can only subscribe once`);y(`ConsumedThing '${this.title}' subscribing to ${B.href}`);const K=this.handleUriVariables(ne,B,Z);await C.subscribeResource(K,I=>{try{X(this.handleInteractionOutput(I,B,ne.data,!1))}catch(q){const ie=q instanceof Error?q:new Error(JSON.stringify(q));S(`Error while processing event for ${ne.title}. ${ie.message}`),S(q)}},I=>{fe==null||fe(I)},()=>{});const P=new V(this,H,C,B);return this.subscribedEvents.set(H,P),P}handleUriVariables(H,X,fe){return O(this,H,X,fe)}};f=new WeakMap,c=new WeakMap,e.default=Q}}),mne=Oe({"../core/dist/validation.js"(e){Te();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.isThingDescription=n,e.getLastValidationErrors=i;var r=t(xg());function n(o){return r.default.tsSchemaValidator(o)}function i(){var s;const o=(s=r.default.tsSchemaValidator.errors)==null?void 0:s.map(a=>a.message).join(`
`);return new Error(o)}}}),gne=Oe({"../core/dist/wot-impl.js"(e){Te();var t=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataType=void 0;var r=jR(),n=t(jq()),i=t(Dq()),o=t(xg()),s=Io(),a=t(nl()),l=mne(),u=(eE(),Or(Z_)),{debug:f}=(0,s.createLoggers)("core","wot-impl"),c=class{constructor(g,_){this.directory=g,this.filter=_,this.filter=_,this.done=!1}async stop(){this.done=!0}async*[Symbol.asyncIterator](){let g;try{g=await(await this.directory.readProperty("things")).value()}catch(_){this.error=_ instanceof Error?_:new Error((0,u.inspect)(_)),this.done=!0;return}for(const _ of g){if(this.done)return;if(!(0,l.isThingDescription)(_)){this.error=(0,l.getLastValidationErrors)();continue}yield _}this.done=!0}},p=class{constructor(g){this.srv=g}async discover(g){throw new Error("not implemented")}async exploreDirectory(g,_){const v=await this.requestThingDescription(g),h=await this.consume(v);return new c(h,_)}async requestThingDescription(g){const _=o.default.extractScheme(g),h=await this.srv.getClientFor(_).requestThingDescription(g),E=a.default.contentToValue({type:h.type,body:await h.toBuffer()},{});if((0,l.isThingDescription)(E))return E;throw(0,l.getLastValidationErrors)()}async consume(g){try{const _=(0,r.parseTD)(JSON.stringify(g),!0),v=new i.default(this.srv,_);return f(`WoTImpl consuming TD ${v.id!=null?`'${v.id}'`:"without id"} to instantiate ConsumedThing '${v.title}'`),v}catch(_){throw new Error(`Cannot consume TD because ${_ instanceof Error?_.message:_}`)}}produce(g){return new Promise((_,v)=>{try{const h=o.default.validateExposedThingInit(g);if(!h.valid)throw new Error(`Thing Description JSON schema validation failed:
`+h.errors);const E=new n.default(this.srv,g);if(f(`WoTImpl producing new ExposedThing '${E.title}'`),this.srv.addThing(E))_(E);else throw new Error("Thing already exists: "+E.title)}catch(h){v(new Error(`Cannot produce ExposedThing because " + ${h instanceof Error?h.message:h}`))}})}};e.default=p;var m;(function(g){g.boolean="boolean",g.number="number",g.integer="integer",g.string="string",g.object="object",g.array="array",g.null="null"})(m||(e.DataType=m={}))}}),Mq=Oe({"../../node_modules/uuid/dist/rng-browser.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),n=new Uint8Array(16);function i(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)}t.exports=e.default}}),mN=Oe({"../../node_modules/uuid/dist/bytesToUuid.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=[];for(n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);var n;function i(s,a){var l=a||0,u=r;return[u[s[l++]],u[s[l++]],u[s[l++]],u[s[l++]],"-",u[s[l++]],u[s[l++]],"-",u[s[l++]],u[s[l++]],"-",u[s[l++]],u[s[l++]],"-",u[s[l++]],u[s[l++]],u[s[l++]],u[s[l++]],u[s[l++]],u[s[l++]]].join("")}var o=i;e.default=o,t.exports=e.default}}),vne=Oe({"../../node_modules/uuid/dist/v1.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(Mq()),n=i(mN());function i(c){return c&&c.__esModule?c:{default:c}}var o,s,a=0,l=0;function u(c,p,m){var g=p&&m||0,_=p||[];c=c||{};var v=c.node||o,h=c.clockseq!==void 0?c.clockseq:s;if(v==null||h==null){var E=c.random||(c.rng||r.default)();v==null&&(v=o=[E[0]|1,E[1],E[2],E[3],E[4],E[5]]),h==null&&(h=s=(E[6]<<8|E[7])&16383)}var y=c.msecs!==void 0?c.msecs:new Date().getTime(),S=c.nsecs!==void 0?c.nsecs:l+1,$=y-a+(S-l)/1e4;if($<0&&c.clockseq===void 0&&(h=h+1&16383),($<0||y>a)&&c.nsecs===void 0&&(S=0),S>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=y,l=S,s=h,y+=122192928e5;var T=((y&268435455)*1e4+S)%4294967296;_[g++]=T>>>24&255,_[g++]=T>>>16&255,_[g++]=T>>>8&255,_[g++]=T&255;var d=y/4294967296*1e4&268435455;_[g++]=d>>>8&255,_[g++]=d&255,_[g++]=d>>>24&15|16,_[g++]=d>>>16&255,_[g++]=h>>>8|128,_[g++]=h&255;for(var A=0;A<6;++A)_[g+A]=v[A];return p||(0,n.default)(_)}var f=u;e.default=f,t.exports=e.default}}),Lq=Oe({"../../node_modules/uuid/dist/v35.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a,e.URL=e.DNS=void 0;var t=r(mN());function r(l){return l&&l.__esModule?l:{default:l}}function n(l){var u=[];return l.replace(/[a-fA-F0-9]{2}/g,function(f){u.push(parseInt(f,16))}),u}function i(l){l=unescape(encodeURIComponent(l));for(var u=new Array(l.length),f=0;f<l.length;f++)u[f]=l.charCodeAt(f);return u}var o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";e.DNS=o;var s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";e.URL=s;function a(l,u,f){var c=function(p,m,g,_){var v=g&&_||0;if(typeof p=="string"&&(p=i(p)),typeof m=="string"&&(m=n(m)),!Array.isArray(p))throw TypeError("value must be an array of bytes");if(!Array.isArray(m)||m.length!==16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var h=f(m.concat(p));if(h[6]=h[6]&15|u,h[8]=h[8]&63|128,g)for(var E=0;E<16;++E)g[v+E]=h[E];return g||(0,t.default)(h)};try{c.name=l}catch{}return c.DNS=o,c.URL=s,c}}}),yne=Oe({"../../node_modules/uuid/dist/md5-browser.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(g){if(typeof g=="string"){var _=unescape(encodeURIComponent(g));g=new Array(_.length);for(var v=0;v<_.length;v++)g[v]=_.charCodeAt(v)}return n(i(o(g),g.length*8))}function n(g){var _,v,h=[],E=g.length*32,y="0123456789abcdef",S;for(_=0;_<E;_+=8)v=g[_>>5]>>>_%32&255,S=parseInt(y.charAt(v>>>4&15)+y.charAt(v&15),16),h.push(S);return h}function i(g,_){g[_>>5]|=128<<_%32,g[(_+64>>>9<<4)+14]=_;var v,h,E,y,S,$=1732584193,T=-271733879,d=-1732584194,A=271733878;for(v=0;v<g.length;v+=16)h=$,E=T,y=d,S=A,$=u($,T,d,A,g[v],7,-680876936),A=u(A,$,T,d,g[v+1],12,-389564586),d=u(d,A,$,T,g[v+2],17,606105819),T=u(T,d,A,$,g[v+3],22,-1044525330),$=u($,T,d,A,g[v+4],7,-176418897),A=u(A,$,T,d,g[v+5],12,1200080426),d=u(d,A,$,T,g[v+6],17,-1473231341),T=u(T,d,A,$,g[v+7],22,-45705983),$=u($,T,d,A,g[v+8],7,1770035416),A=u(A,$,T,d,g[v+9],12,-1958414417),d=u(d,A,$,T,g[v+10],17,-42063),T=u(T,d,A,$,g[v+11],22,-1990404162),$=u($,T,d,A,g[v+12],7,1804603682),A=u(A,$,T,d,g[v+13],12,-40341101),d=u(d,A,$,T,g[v+14],17,-1502002290),T=u(T,d,A,$,g[v+15],22,1236535329),$=f($,T,d,A,g[v+1],5,-165796510),A=f(A,$,T,d,g[v+6],9,-1069501632),d=f(d,A,$,T,g[v+11],14,643717713),T=f(T,d,A,$,g[v],20,-373897302),$=f($,T,d,A,g[v+5],5,-701558691),A=f(A,$,T,d,g[v+10],9,38016083),d=f(d,A,$,T,g[v+15],14,-660478335),T=f(T,d,A,$,g[v+4],20,-405537848),$=f($,T,d,A,g[v+9],5,568446438),A=f(A,$,T,d,g[v+14],9,-1019803690),d=f(d,A,$,T,g[v+3],14,-187363961),T=f(T,d,A,$,g[v+8],20,1163531501),$=f($,T,d,A,g[v+13],5,-1444681467),A=f(A,$,T,d,g[v+2],9,-51403784),d=f(d,A,$,T,g[v+7],14,1735328473),T=f(T,d,A,$,g[v+12],20,-1926607734),$=c($,T,d,A,g[v+5],4,-378558),A=c(A,$,T,d,g[v+8],11,-2022574463),d=c(d,A,$,T,g[v+11],16,1839030562),T=c(T,d,A,$,g[v+14],23,-35309556),$=c($,T,d,A,g[v+1],4,-1530992060),A=c(A,$,T,d,g[v+4],11,1272893353),d=c(d,A,$,T,g[v+7],16,-155497632),T=c(T,d,A,$,g[v+10],23,-1094730640),$=c($,T,d,A,g[v+13],4,681279174),A=c(A,$,T,d,g[v],11,-358537222),d=c(d,A,$,T,g[v+3],16,-722521979),T=c(T,d,A,$,g[v+6],23,76029189),$=c($,T,d,A,g[v+9],4,-640364487),A=c(A,$,T,d,g[v+12],11,-421815835),d=c(d,A,$,T,g[v+15],16,530742520),T=c(T,d,A,$,g[v+2],23,-995338651),$=p($,T,d,A,g[v],6,-198630844),A=p(A,$,T,d,g[v+7],10,1126891415),d=p(d,A,$,T,g[v+14],15,-1416354905),T=p(T,d,A,$,g[v+5],21,-57434055),$=p($,T,d,A,g[v+12],6,1700485571),A=p(A,$,T,d,g[v+3],10,-1894986606),d=p(d,A,$,T,g[v+10],15,-1051523),T=p(T,d,A,$,g[v+1],21,-2054922799),$=p($,T,d,A,g[v+8],6,1873313359),A=p(A,$,T,d,g[v+15],10,-30611744),d=p(d,A,$,T,g[v+6],15,-1560198380),T=p(T,d,A,$,g[v+13],21,1309151649),$=p($,T,d,A,g[v+4],6,-145523070),A=p(A,$,T,d,g[v+11],10,-1120210379),d=p(d,A,$,T,g[v+2],15,718787259),T=p(T,d,A,$,g[v+9],21,-343485551),$=s($,h),T=s(T,E),d=s(d,y),A=s(A,S);return[$,T,d,A]}function o(g){var _,v=[];for(v[(g.length>>2)-1]=void 0,_=0;_<v.length;_+=1)v[_]=0;var h=g.length*8;for(_=0;_<h;_+=8)v[_>>5]|=(g[_/8]&255)<<_%32;return v}function s(g,_){var v=(g&65535)+(_&65535),h=(g>>16)+(_>>16)+(v>>16);return h<<16|v&65535}function a(g,_){return g<<_|g>>>32-_}function l(g,_,v,h,E,y){return s(a(s(s(_,g),s(h,y)),E),v)}function u(g,_,v,h,E,y,S){return l(_&v|~_&h,g,_,E,y,S)}function f(g,_,v,h,E,y,S){return l(_&h|v&~h,g,_,E,y,S)}function c(g,_,v,h,E,y,S){return l(_^v^h,g,_,E,y,S)}function p(g,_,v,h,E,y,S){return l(v^(_|~h),g,_,E,y,S)}var m=r;e.default=m,t.exports=e.default}}),wne=Oe({"../../node_modules/uuid/dist/v3.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(Lq()),n=i(yne());function i(a){return a&&a.__esModule?a:{default:a}}var o=(0,r.default)("v3",48,n.default),s=o;e.default=s,t.exports=e.default}}),bne=Oe({"../../node_modules/uuid/dist/v4.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(Mq()),n=i(mN());function i(a){return a&&a.__esModule?a:{default:a}}function o(a,l,u){var f=l&&u||0;typeof a=="string"&&(l=a==="binary"?new Array(16):null,a=null),a=a||{};var c=a.random||(a.rng||r.default)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,l)for(var p=0;p<16;++p)l[f+p]=c[p];return l||(0,n.default)(c)}var s=o;e.default=s,t.exports=e.default}}),_ne=Oe({"../../node_modules/uuid/dist/sha1-browser.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(s,a,l,u){switch(s){case 0:return a&l^~a&u;case 1:return a^l^u;case 2:return a&l^a&u^l&u;case 3:return a^l^u}}function n(s,a){return s<<a|s>>>32-a}function i(s){var a=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){var u=unescape(encodeURIComponent(s));s=new Array(u.length);for(var f=0;f<u.length;f++)s[f]=u.charCodeAt(f)}s.push(128);for(var c=s.length/4+2,p=Math.ceil(c/16),m=new Array(p),f=0;f<p;f++){m[f]=new Array(16);for(var g=0;g<16;g++)m[f][g]=s[f*64+g*4]<<24|s[f*64+g*4+1]<<16|s[f*64+g*4+2]<<8|s[f*64+g*4+3]}m[p-1][14]=(s.length-1)*8/Math.pow(2,32),m[p-1][14]=Math.floor(m[p-1][14]),m[p-1][15]=(s.length-1)*8&4294967295;for(var f=0;f<p;f++){for(var _=new Array(80),v=0;v<16;v++)_[v]=m[f][v];for(var v=16;v<80;v++)_[v]=n(_[v-3]^_[v-8]^_[v-14]^_[v-16],1);for(var h=l[0],E=l[1],y=l[2],S=l[3],$=l[4],v=0;v<80;v++){var T=Math.floor(v/20),d=n(h,5)+r(T,E,y,S)+$+a[T]+_[v]>>>0;$=S,S=y,y=n(E,30)>>>0,E=h,h=d}l[0]=l[0]+h>>>0,l[1]=l[1]+E>>>0,l[2]=l[2]+y>>>0,l[3]=l[3]+S>>>0,l[4]=l[4]+$>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,l[0]&255,l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,l[1]&255,l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,l[2]&255,l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,l[3]&255,l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,l[4]&255]}var o=i;e.default=o,t.exports=e.default}}),Ene=Oe({"../../node_modules/uuid/dist/v5.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(Lq()),n=i(_ne());function i(a){return a&&a.__esModule?a:{default:a}}var o=(0,r.default)("v5",80,n.default),s=o;e.default=s,t.exports=e.default}}),Sne=Oe({"../../node_modules/uuid/dist/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return i.default}});var t=o(vne()),r=o(wne()),n=o(bne()),i=o(Ene());function o(s){return s&&s.__esModule?s:{default:s}}}}),$ne=Oe({"../core/dist/servient.js"(e){Te();var t=e&&e.__classPrivateFieldGet||function(g,_,v,h){if(v==="a"&&!h)throw new TypeError("Private accessor was defined without a getter");if(typeof _=="function"?g!==_||!h:!_.has(g))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?h:v==="a"?h.call(g):h?h.value:_.get(g)},r=e&&e.__classPrivateFieldSet||function(g,_,v,h,E){if(h==="m")throw new TypeError("Private method is not writable");if(h==="a"&&!E)throw new TypeError("Private accessor was defined without a setter");if(typeof _=="function"?g!==_||!E:!_.has(g))throw new TypeError("Cannot write private member to an object whose class did not declare it");return h==="a"?E.call(g,v):E?E.value=v:_.set(g,v),v},n=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}},i,o;Object.defineProperty(e,"__esModule",{value:!0});var s=n(gne()),a=n(nl()),l=Sne(),u=Io(),f=Co(),{debug:c,warn:p}=(0,u.createLoggers)("core","servient"),m=class{constructor(){this.servers=[],this.clientFactories=new Map,this.things=new Map,this.credentialStore=new Map,i.set(this,void 0),o.set(this,!1)}addMediaType(g,_=!1){a.default.addCodec(g,_)}expose(g){if(this.servers.length===0)return p("Servient has no servers to expose Things"),new Promise(h=>{h()});c(`Servient exposing '${g.title}'`);const _=f.Helpers.structuredClone(g);g.forms=[];for(const h of Object.values(g.properties))h.forms=[];for(const h of Object.values(g.actions))h.forms=[];for(const h of Object.values(g.events))h.forms=[];const v=[];return this.servers.forEach(h=>{v.push(h.expose(g,_))}),new Promise((h,E)=>{Promise.all(v).then(()=>h()).catch(y=>E(y))})}addThing(g){return g.id||(g.id="urn:uuid:"+(0,l.v4)(),p(`Servient generating ID for '${g.title}': '${g.id}'`)),this.things.has(g.id)?!1:(this.things.set(g.id,g),c(`Servient reset ID '${g.id}' with '${g.title}'`),!0)}destroyThing(g){return new Promise((_,v)=>{if(this.things.has(g)){c(`Servient destroying thing with id '${g}'`),this.things.delete(g);const h=[];this.servers.forEach(E=>{h.push(E.destroy(g))}),Promise.all(h).then(()=>_(!0)).catch(E=>v(E))}else p(`Servient was asked to destroy thing but failed to find thing with id '${g}'`),_(!1)})}getThing(g){if(this.things.has(g))return this.things.get(g)}getThings(){c(`Servient getThings size == '${this.things.size}'`);const g={};return this.things.forEach((_,v)=>{g[v]=_.getThingDescription()}),g}addServer(g){return this.things.forEach((_,v)=>g.expose(_)),this.servers.push(g),!0}getServers(){return this.servers.slice(0)}addClientFactory(g){c(`Servient adding client factory for '${g.scheme}'`),this.clientFactories.set(g.scheme,g)}removeClientFactory(g){var _;return c(`Servient removing client factory for '${g}'`),(_=this.clientFactories.get(g))==null||_.destroy(),this.clientFactories.delete(g)}hasClientFor(g){return c(`Servient checking for '${g}' scheme in ${this.clientFactories.size} ClientFactories`),this.clientFactories.has(g)}getClientFor(g){const _=this.clientFactories.get(g);if(_)return c(`Servient creating client for scheme '${g}'`),_.getClient();throw new Error(`Servient has no ClientFactory for scheme '${g}'`)}getClientSchemes(){return Array.from(this.clientFactories.keys())}addCredentials(g){for(const[_,v]of Object.entries(g??{})){c(`Servient storing credentials for '${_}'`);const h=this.credentialStore.get(_)??[];h.length===0&&this.credentialStore.set(_,h),h.push(v)}}getCredentials(g){c(`Servient looking up credentials for '${g}' (@deprecated)`);const _=this.credentialStore.get(g);if(_&&_.length>0)return _[0]}retrieveCredentials(g){return c(`Servient looking up credentials for '${g}'`),this.credentialStore.get(g)}async start(){if(t(this,i,"f")!==void 0)return c("Servient started already -> nop -> returning previous WoT implementation"),t(this,i,"f");if(t(this,o,"f"))throw Error("Servient cannot be started (again) since it was already stopped");const g=[];return this.servers.forEach(_=>g.push(_.start(this))),this.clientFactories.forEach(_=>_.init()),await Promise.all(g),r(this,i,new s.default(this),"f")}async shutdown(){if(t(this,i,"f")===void 0)throw Error("Servient cannot be shutdown, wasn't even started");if(t(this,o,"f")){c("Servient shutdown already -> nop");return}this.clientFactories.forEach(_=>_.destroy());const g=this.servers.map(_=>_.stop());await Promise.all(g),r(this,o,!0,"f"),r(this,i,void 0,"f")}};i=new WeakMap,o=new WeakMap,e.default=m}}),Co=Oe({"../core/dist/core.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(v,h,E,y){y===void 0&&(y=E);var S=Object.getOwnPropertyDescriptor(h,E);(!S||("get"in S?!h.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return h[E]}}),Object.defineProperty(v,y,S)}:function(v,h,E,y){y===void 0&&(y=E),v[y]=h[E]}),r=e&&e.__exportStar||function(v,h){for(var E in v)E!=="default"&&!Object.prototype.hasOwnProperty.call(h,E)&&t(h,v,E)},n=e&&e.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.createWarnLogger=e.createInfoLogger=e.createErrorLogger=e.createDebugLogger=e.createLoggers=e.ProtocolHelpers=e.Helpers=e.ExposedThing=e.ConsumedThing=e.DefaultContent=e.Content=e.NetconfOctetstreamCodecCodec=e.Base64Codec=e.TextCodec=e.CborCodec=e.JsonCodec=e.Servient=void 0;var i=n($ne());e.Servient=i.default,e.default=i.default,r(wg(),e),r(jR(),e),r(nl(),e);var o=fq();Object.defineProperty(e,"JsonCodec",{enumerable:!0,get:function(){return n(o).default}});var s=cq();Object.defineProperty(e,"CborCodec",{enumerable:!0,get:function(){return n(s).default}});var a=dq();Object.defineProperty(e,"TextCodec",{enumerable:!0,get:function(){return n(a).default}});var l=hq();Object.defineProperty(e,"Base64Codec",{enumerable:!0,get:function(){return n(l).default}});var u=vq();Object.defineProperty(e,"NetconfOctetstreamCodecCodec",{enumerable:!0,get:function(){return n(u).default}}),r(gq(),e);var f=oq();Object.defineProperty(e,"Content",{enumerable:!0,get:function(){return f.Content}}),Object.defineProperty(e,"DefaultContent",{enumerable:!0,get:function(){return f.DefaultContent}});var c=Dq();Object.defineProperty(e,"ConsumedThing",{enumerable:!0,get:function(){return n(c).default}});var p=jq();Object.defineProperty(e,"ExposedThing",{enumerable:!0,get:function(){return n(p).default}});var m=xg();Object.defineProperty(e,"Helpers",{enumerable:!0,get:function(){return n(m).default}});var g=oN();Object.defineProperty(e,"ProtocolHelpers",{enumerable:!0,get:function(){return n(g).default}});var _=Io();Object.defineProperty(e,"createLoggers",{enumerable:!0,get:function(){return _.createLoggers}}),Object.defineProperty(e,"createDebugLogger",{enumerable:!0,get:function(){return _.createDebugLogger}}),Object.defineProperty(e,"createErrorLogger",{enumerable:!0,get:function(){return _.createErrorLogger}}),Object.defineProperty(e,"createInfoLogger",{enumerable:!0,get:function(){return _.createInfoLogger}}),Object.defineProperty(e,"createWarnLogger",{enumerable:!0,get:function(){return _.createWarnLogger}})}});/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-B738Er4n.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

web-streams-polyfill/dist/ponyfill.js:
  (**
   * @license
   * web-streams-polyfill v4.1.0
   * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

content-type/index.js:
  (*!
   * content-type
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/var gN=Oe({"../../node_modules/node-fetch/browser.js"(e,t){Te();var r=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},n=r();t.exports=e=n.fetch,n.fetch&&(e.default=n.fetch.bind(n)),e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response}}),Tne=Oe({"../../node_modules/rxjs/util/isArray.js"(e){Te(),e.isArray=Array.isArray||function(t){return t&&typeof t.length=="number"}}}),Ane=Oe({"../../node_modules/rxjs/util/isObject.js"(e){Te();function t(r){return r!=null&&typeof r=="object"}e.isObject=t}}),xne=Oe({"../../node_modules/rxjs/util/isFunction.js"(e){Te();function t(r){return typeof r=="function"}e.isFunction=t}}),Fq=Oe({"../../node_modules/rxjs/util/errorObject.js"(e){Te(),e.errorObject={e:{}}}}),One=Oe({"../../node_modules/rxjs/util/tryCatch.js"(e){Te();var t=Fq(),r;function n(){try{return r.apply(this,arguments)}catch(o){return t.errorObject.e=o,t.errorObject}}function i(o){return r=o,n}e.tryCatch=i}}),Pne=Oe({"../../node_modules/rxjs/util/UnsubscriptionError.js"(e){Te();var t=e&&e.__extends||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o]);function s(){this.constructor=n}n.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)},r=function(n){t(i,n);function i(o){n.call(this),this.errors=o;var s=Error.call(this,o?o.length+` errors occurred during unsubscription:
  `+o.map(function(a,l){return l+1+") "+a.toString()}).join(`
  `):"");this.name=s.name="UnsubscriptionError",this.stack=s.stack,this.message=s.message}return i}(Error);e.UnsubscriptionError=r}}),Rne=Oe({"../../node_modules/rxjs/Subscription.js"(e){Te();var t=Tne(),r=Ane(),n=xne(),i=One(),o=Fq(),s=Pne(),a=function(){function u(f){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,f&&(this._unsubscribe=f)}return u.prototype.unsubscribe=function(){var f=!1,c;if(!this.closed){var p=this,m=p._parent,g=p._parents,_=p._unsubscribe,v=p._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,E=g?g.length:0;m;)m.remove(this),m=++h<E&&g[h]||null;if(n.isFunction(_)){var y=i.tryCatch(_).call(this);y===o.errorObject&&(f=!0,c=c||(o.errorObject.e instanceof s.UnsubscriptionError?l(o.errorObject.e.errors):[o.errorObject.e]))}if(t.isArray(v))for(h=-1,E=v.length;++h<E;){var S=v[h];if(r.isObject(S)){var y=i.tryCatch(S.unsubscribe).call(S);if(y===o.errorObject){f=!0,c=c||[];var $=o.errorObject.e;$ instanceof s.UnsubscriptionError?c=c.concat(l($.errors)):c.push($)}}}if(f)throw new s.UnsubscriptionError(c)}},u.prototype.add=function(f){if(!f||f===u.EMPTY)return u.EMPTY;if(f===this)return this;var c=f;switch(typeof f){case"function":c=new u(f);case"object":if(c.closed||typeof c.unsubscribe!="function")return c;if(this.closed)return c.unsubscribe(),c;if(typeof c._addParent!="function"){var p=c;c=new u,c._subscriptions=[p]}break;default:throw new Error("unrecognized teardown "+f+" added to Subscription.")}var m=this._subscriptions||(this._subscriptions=[]);return m.push(c),c._addParent(this),c},u.prototype.remove=function(f){var c=this._subscriptions;if(c){var p=c.indexOf(f);p!==-1&&c.splice(p,1)}},u.prototype._addParent=function(f){var c=this,p=c._parent,m=c._parents;!p||p===f?this._parent=f:m?m.indexOf(f)===-1&&m.push(f):this._parents=[f]},u.EMPTY=function(f){return f.closed=!0,f}(new u),u}();e.Subscription=a;function l(u){return u.reduce(function(f,c){return f.concat(c instanceof s.UnsubscriptionError?c.errors:c)},[])}}}),Nne=Oe({"(disabled):../../node_modules/client-oauth2/node_modules/safe-buffer/index.js"(){Te()}}),Bq={};rl(Bq,{decode:()=>Uq,default:()=>Ia,encode:()=>zq,parse:()=>qq,stringify:()=>Vq});function Ine(){if(eO)return Ew;eO=!0;function e(t,r){return Object.prototype.hasOwnProperty.call(t,r)}return Ew=function(t,r,n,i){r=r||"&",n=n||"=";var o={};if(typeof t!="string"||t.length===0)return o;var s=/\+/g;t=t.split(r);var a=1e3;i&&typeof i.maxKeys=="number"&&(a=i.maxKeys);var l=t.length;a>0&&l>a&&(l=a);for(var u=0;u<l;++u){var f=t[u].replace(s,"%20"),c=f.indexOf(n),p,m,g,_;c>=0?(p=f.substr(0,c),m=f.substr(c+1)):(p=f,m=""),g=decodeURIComponent(p),_=decodeURIComponent(m),e(o,g)?Array.isArray(o[g])?o[g].push(_):o[g]=[o[g],_]:o[g]=_}return o},Ew}function kne(){if(tO)return Sw;tO=!0;var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};return Sw=function(t,r,n,i){return r=r||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(o){var s=encodeURIComponent(e(o))+n;return Array.isArray(t[o])?t[o].map(function(a){return s+encodeURIComponent(e(a))}).join(r):s+encodeURIComponent(e(t[o]))}).filter(Boolean).join(r):i?encodeURIComponent(e(i))+n+encodeURIComponent(e(t)):""},Sw}function Cne(){return rO||(rO=!0,Vc.decode=Vc.parse=Ine(),Vc.encode=Vc.stringify=kne()),Vc}var Ew,eO,Sw,tO,Vc,rO,Ia,Uq,zq,qq,Vq,jne=nn({"../../node_modules/@jspm/core/nodelibs/browser/querystring.js"(){Te(),Ew={},eO=!1,Sw={},tO=!1,Vc={},rO=!1,Ia=Cne(),Ia.decode,Ia.parse,Ia.encode,Ia.stringify,Uq=Ia.decode,zq=Ia.encode,qq=Ia.parse,Vq=Ia.stringify}}),Dne=Oe({"../../node_modules/client-oauth2/src/request/browser.js"(e,t){Te(),t.exports=function(n,i,o,s){return new Promise(function(a,l){var u=new window.XMLHttpRequest;u.open(n,i),u.onload=function(){return a({status:u.status,body:u.responseText})},u.onerror=u.onabort=function(){return l(new Error(u.statusText||"XHR aborted: "+i))},Object.keys(s).forEach(function(f){u.setRequestHeader(f,s[f])}),u.send(o)})}}}),Mne=Oe({"../../node_modules/client-oauth2/src/client-oauth2.js"(e,t){Te();var r=Nne().Buffer,n=(jne(),Or(Bq)),i=Dne(),o="https://example.org/",s;typeof r=="function"?s=u:s=window.btoa.bind(window),t.exports=E;var a={Accept:"application/json, application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},l={invalid_request:["The request is missing a required parameter, includes an","invalid parameter value, includes a parameter more than","once, or is otherwise malformed."].join(" "),invalid_client:["Client authentication failed (e.g., unknown client, no","client authentication included, or unsupported","authentication method)."].join(" "),invalid_grant:["The provided authorization grant (e.g., authorization","code, resource owner credentials) or refresh token is","invalid, expired, revoked, does not match the redirection","URI used in the authorization request, or was issued to","another client."].join(" "),unauthorized_client:["The client is not authorized to request an authorization","code using this method."].join(" "),unsupported_grant_type:["The authorization grant type is not supported by the","authorization server."].join(" "),access_denied:["The resource owner or authorization server denied the request."].join(" "),unsupported_response_type:["The authorization server does not support obtaining","an authorization code using this method."].join(" "),invalid_scope:["The requested scope is invalid, unknown, or malformed."].join(" "),server_error:["The authorization server encountered an unexpected","condition that prevented it from fulfilling the request.","(This error code is needed because a 500 Internal Server","Error HTTP status code cannot be returned to the client","via an HTTP redirect.)"].join(" "),temporarily_unavailable:["The authorization server is currently unable to handle","the request due to a temporary overloading or maintenance","of the server."].join(" ")};function u(x){return r.from(x).toString("base64")}function f(x){for(var O=1;O<arguments.length;O++){var D=arguments[O];if(x[D]==null)throw new TypeError('Expected "'+D+'" to exist')}}function c(x){var O=l[x.error]||x.error_description||x.error;if(O){var D=new Error(O);return D.body=x,D.code="EAUTH",D}}function p(x){try{return JSON.parse(x)}catch{return n.parse(x)}}function m(x){return Array.isArray(x)?x.join(" "):v(x)}function g(x,O){f(x,"clientId","authorizationUri");const D={client_id:x.clientId,redirect_uri:x.redirectUri,response_type:O,state:x.state};x.scopes!==void 0&&(D.scope=m(x.scopes));const F=x.authorizationUri.includes("?")?"&":"?";return x.authorizationUri+F+n.stringify(Object.assign(D,x.query))}function _(x,O){return"Basic "+s(v(x)+":"+v(O))}function v(x){return x==null?"":String(x)}function h(x,O){return{url:x.url,method:x.method,body:Object.assign({},x.body,O.body),query:Object.assign({},x.query,O.query),headers:Object.assign({},x.headers,O.headers)}}function E(x,O){this.options=x,this.request=O||i,this.code=new d(this),this.token=new $(this),this.owner=new S(this),this.credentials=new T(this),this.jwt=new A(this)}E.Token=y,E.prototype.createToken=function(x,O,D,F){var V=Object.assign({},F,typeof x=="string"?{access_token:x}:x,typeof O=="string"?{refresh_token:O}:O,typeof D=="string"?{token_type:D}:D);return new E.Token(this,V)},E.prototype._request=function(x){var O=x.url,D=n.stringify(x.body),F=n.stringify(x.query);return F&&(O+=(O.indexOf("?")===-1?"?":"&")+F),this.request(x.method,O,D,x.headers).then(function(V){var Q=p(V.body),H=c(Q);if(H)return Promise.reject(H);if(V.status<200||V.status>=399){var X=new Error("HTTP status "+V.status);return X.status=V.status,X.body=V.body,X.code="ESTATUS",Promise.reject(X)}return Q})};function y(x,O){this.client=x,this.data=O,this.tokenType=O.token_type&&O.token_type.toLowerCase(),this.accessToken=O.access_token,this.refreshToken=O.refresh_token,this.expiresIn(Number(O.expires_in))}y.prototype.expiresIn=function(x){if(typeof x=="number")this.expires=new Date,this.expires.setSeconds(this.expires.getSeconds()+x);else if(x instanceof Date)this.expires=new Date(x.getTime());else throw new TypeError("Unknown duration: "+x);return this.expires},y.prototype.sign=function(x){if(!this.accessToken)throw new Error("Unable to sign without access token");if(x.headers=x.headers||{},this.tokenType==="bearer")x.headers.Authorization="Bearer "+this.accessToken;else{var O=x.url.split("#"),D="access_token="+this.accessToken,F=O[0].replace(/[?&]access_token=[^&#]/,""),V=O[1]?"#"+O[1]:"";x.url=F+(F.indexOf("?")>-1?"&":"?")+D+V,x.headers.Pragma="no-store",x.headers["Cache-Control"]="no-store"}return x},y.prototype.refresh=function(x){var O=this,D=Object.assign({},this.client.options,x);return this.refreshToken?this.client._request(h({url:D.accessTokenUri,method:"POST",headers:Object.assign({},a,{Authorization:_(D.clientId,D.clientSecret)}),body:{refresh_token:this.refreshToken,grant_type:"refresh_token"}},D)).then(function(F){return O.client.createToken(Object.assign({},O.data,F))}):Promise.reject(new Error("No refresh token"))},y.prototype.expired=function(){return Date.now()>this.expires.getTime()};function S(x){this.client=x}S.prototype.getToken=function(x,O,D){var F=this,V=Object.assign({},this.client.options,D);const Q={username:x,password:O,grant_type:"password"};return V.scopes!==void 0&&(Q.scope=m(V.scopes)),this.client._request(h({url:V.accessTokenUri,method:"POST",headers:Object.assign({},a,{Authorization:_(V.clientId,V.clientSecret)}),body:Q},V)).then(function(H){return F.client.createToken(H)})};function $(x){this.client=x}$.prototype.getUri=function(x){var O=Object.assign({},this.client.options,x);return g(O,"token")},$.prototype.getToken=function(x,O){var D=Object.assign({},this.client.options,O),F=typeof x=="object"?x:new URL(x,o),V=new URL(D.redirectUri,o);if(typeof F.pathname=="string"&&F.pathname!==V.pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+F.pathname));if(!F.hash&&!F.search)return Promise.reject(new TypeError("Unable to process uri: "+x));var Q=Object.assign({},typeof F.search=="string"?n.parse(F.search.substr(1)):F.search||{},typeof F.hash=="string"?n.parse(F.hash.substr(1)):F.hash||{}),H=c(Q);return H?Promise.reject(H):D.state!=null&&Q.state!==D.state?Promise.reject(new TypeError("Invalid state: "+Q.state)):Promise.resolve(this.client.createToken(Q))};function T(x){this.client=x}T.prototype.getToken=function(x){var O=this,D=Object.assign({},this.client.options,x);f(D,"clientId","clientSecret","accessTokenUri");const F={grant_type:"client_credentials"};return D.scopes!==void 0&&(F.scope=m(D.scopes)),this.client._request(h({url:D.accessTokenUri,method:"POST",headers:Object.assign({},a,{Authorization:_(D.clientId,D.clientSecret)}),body:F},D)).then(function(V){return O.client.createToken(V)})};function d(x){this.client=x}d.prototype.getUri=function(x){var O=Object.assign({},this.client.options,x);return g(O,"code")},d.prototype.getToken=function(x,O){var D=this,F=Object.assign({},this.client.options,O);f(F,"clientId","accessTokenUri");var V=typeof x=="object"?x:new URL(x,o);if(typeof F.redirectUri=="string"&&typeof V.pathname=="string"&&V.pathname!==new URL(F.redirectUri,o).pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+V.pathname));if(!V.search||!V.search.substr(1))return Promise.reject(new TypeError("Unable to process uri: "+x));var Q=typeof V.search=="string"?n.parse(V.search.substr(1)):V.search||{},H=c(Q);if(H)return Promise.reject(H);if(F.state!=null&&Q.state!==F.state)return Promise.reject(new TypeError("Invalid state: "+Q.state));if(!Q.code)return Promise.reject(new TypeError("Missing code, unable to request token"));var X=Object.assign({},a),fe={code:Q.code,grant_type:"authorization_code",redirect_uri:F.redirectUri};return F.clientSecret?X.Authorization=_(F.clientId,F.clientSecret):fe.client_id=F.clientId,this.client._request(h({url:F.accessTokenUri,method:"POST",headers:X,body:fe},F)).then(function(Z){return D.client.createToken(Z)})};function A(x){this.client=x}A.prototype.getToken=function(x,O){var D=this,F=Object.assign({},this.client.options,O),V=Object.assign({},a);f(F,"accessTokenUri"),F.clientId&&(V.Authorization=_(F.clientId,F.clientSecret));const Q={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:x};return F.scopes!==void 0&&(Q.scope=m(F.scopes)),this.client._request(h({url:F.accessTokenUri,method:"POST",headers:V,body:Q},F)).then(function(H){return D.client.createToken(H)})}}}),Lne=Oe({"../../node_modules/strict-uri-encode/index.js"(e,t){Te(),t.exports=r=>encodeURIComponent(r).replace(/[!'()*]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`)}}),Fne=Oe({"../../node_modules/decode-uri-component/index.js"(e,t){Te();var r="%[a-f0-9]{2}",n=new RegExp("("+r+")|([^%]+?)","gi"),i=new RegExp("("+r+")+","gi");function o(l,u){try{return[decodeURIComponent(l.join(""))]}catch{}if(l.length===1)return l;u=u||1;var f=l.slice(0,u),c=l.slice(u);return Array.prototype.concat.call([],o(f),o(c))}function s(l){try{return decodeURIComponent(l)}catch{for(var u=l.match(n)||[],f=1;f<u.length;f++)l=o(u,f).join(""),u=l.match(n)||[];return l}}function a(l){for(var u={"%FE%FF":"��","%FF%FE":"��"},f=i.exec(l);f;){try{u[f[0]]=decodeURIComponent(f[0])}catch{var c=s(f[0]);c!==f[0]&&(u[f[0]]=c)}f=i.exec(l)}u["%C2"]="�";for(var p=Object.keys(u),m=0;m<p.length;m++){var g=p[m];l=l.replace(new RegExp(g,"g"),u[g])}return l}t.exports=function(l){if(typeof l!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof l+"`");try{return l=l.replace(/\+/g," "),decodeURIComponent(l)}catch{return a(l)}}}}),Bne=Oe({"../../node_modules/split-on-first/index.js"(e,t){Te(),t.exports=(r,n)=>{if(!(typeof r=="string"&&typeof n=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(n==="")return[r];const i=r.indexOf(n);return i===-1?[r]:[r.slice(0,i),r.slice(i+n.length)]}}}),Une=Oe({"../../node_modules/filter-obj/index.js"(e,t){Te(),t.exports=function(r,n){for(var i={},o=Object.keys(r),s=Array.isArray(n),a=0;a<o.length;a++){var l=o[a],u=r[l];(s?n.indexOf(l)!==-1:n(l,u,r))&&(i[l]=u)}return i}}}),zne=Oe({"../../node_modules/query-string/index.js"(e){Te();var t=Lne(),r=Fne(),n=Bne(),i=Une(),o=E=>E==null,s=Symbol("encodeFragmentIdentifier");function a(E){switch(E.arrayFormat){case"index":return y=>(S,$)=>{const T=S.length;return $===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?S:$===null?[...S,[f(y,E),"[",T,"]"].join("")]:[...S,[f(y,E),"[",f(T,E),"]=",f($,E)].join("")]};case"bracket":return y=>(S,$)=>$===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?S:$===null?[...S,[f(y,E),"[]"].join("")]:[...S,[f(y,E),"[]=",f($,E)].join("")];case"colon-list-separator":return y=>(S,$)=>$===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?S:$===null?[...S,[f(y,E),":list="].join("")]:[...S,[f(y,E),":list=",f($,E)].join("")];case"comma":case"separator":case"bracket-separator":{const y=E.arrayFormat==="bracket-separator"?"[]=":"=";return S=>($,T)=>T===void 0||E.skipNull&&T===null||E.skipEmptyString&&T===""?$:(T=T===null?"":T,$.length===0?[[f(S,E),y,f(T,E)].join("")]:[[$,f(T,E)].join(E.arrayFormatSeparator)])}default:return y=>(S,$)=>$===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?S:$===null?[...S,f(y,E)]:[...S,[f(y,E),"=",f($,E)].join("")]}}function l(E){let y;switch(E.arrayFormat){case"index":return(S,$,T)=>{if(y=/\[(\d*)\]$/.exec(S),S=S.replace(/\[\d*\]$/,""),!y){T[S]=$;return}T[S]===void 0&&(T[S]={}),T[S][y[1]]=$};case"bracket":return(S,$,T)=>{if(y=/(\[\])$/.exec(S),S=S.replace(/\[\]$/,""),!y){T[S]=$;return}if(T[S]===void 0){T[S]=[$];return}T[S]=[].concat(T[S],$)};case"colon-list-separator":return(S,$,T)=>{if(y=/(:list)$/.exec(S),S=S.replace(/:list$/,""),!y){T[S]=$;return}if(T[S]===void 0){T[S]=[$];return}T[S]=[].concat(T[S],$)};case"comma":case"separator":return(S,$,T)=>{const d=typeof $=="string"&&$.includes(E.arrayFormatSeparator),A=typeof $=="string"&&!d&&c($,E).includes(E.arrayFormatSeparator);$=A?c($,E):$;const x=d||A?$.split(E.arrayFormatSeparator).map(O=>c(O,E)):$===null?$:c($,E);T[S]=x};case"bracket-separator":return(S,$,T)=>{const d=/(\[\])$/.test(S);if(S=S.replace(/\[\]$/,""),!d){T[S]=$&&c($,E);return}const A=$===null?[]:$.split(E.arrayFormatSeparator).map(x=>c(x,E));if(T[S]===void 0){T[S]=A;return}T[S]=[].concat(T[S],A)};default:return(S,$,T)=>{if(T[S]===void 0){T[S]=$;return}T[S]=[].concat(T[S],$)}}}function u(E){if(typeof E!="string"||E.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function f(E,y){return y.encode?y.strict?t(E):encodeURIComponent(E):E}function c(E,y){return y.decode?r(E):E}function p(E){return Array.isArray(E)?E.sort():typeof E=="object"?p(Object.keys(E)).sort((y,S)=>Number(y)-Number(S)).map(y=>E[y]):E}function m(E){const y=E.indexOf("#");return y!==-1&&(E=E.slice(0,y)),E}function g(E){let y="";const S=E.indexOf("#");return S!==-1&&(y=E.slice(S)),y}function _(E){E=m(E);const y=E.indexOf("?");return y===-1?"":E.slice(y+1)}function v(E,y){return y.parseNumbers&&!Number.isNaN(Number(E))&&typeof E=="string"&&E.trim()!==""?E=Number(E):y.parseBooleans&&E!==null&&(E.toLowerCase()==="true"||E.toLowerCase()==="false")&&(E=E.toLowerCase()==="true"),E}function h(E,y){y=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},y),u(y.arrayFormatSeparator);const S=l(y),$=Object.create(null);if(typeof E!="string"||(E=E.trim().replace(/^[?#&]/,""),!E))return $;for(const T of E.split("&")){if(T==="")continue;let[d,A]=n(y.decode?T.replace(/\+/g," "):T,"=");A=A===void 0?null:["comma","separator","bracket-separator"].includes(y.arrayFormat)?A:c(A,y),S(c(d,y),A,$)}for(const T of Object.keys($)){const d=$[T];if(typeof d=="object"&&d!==null)for(const A of Object.keys(d))d[A]=v(d[A],y);else $[T]=v(d,y)}return y.sort===!1?$:(y.sort===!0?Object.keys($).sort():Object.keys($).sort(y.sort)).reduce((T,d)=>{const A=$[d];return A&&typeof A=="object"&&!Array.isArray(A)?T[d]=p(A):T[d]=A,T},Object.create(null))}e.extract=_,e.parse=h,e.stringify=(E,y)=>{if(!E)return"";y=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},y),u(y.arrayFormatSeparator);const S=A=>y.skipNull&&o(E[A])||y.skipEmptyString&&E[A]==="",$=a(y),T={};for(const A of Object.keys(E))S(A)||(T[A]=E[A]);const d=Object.keys(T);return y.sort!==!1&&d.sort(y.sort),d.map(A=>{const x=E[A];return x===void 0?"":x===null?f(A,y):Array.isArray(x)?x.length===0&&y.arrayFormat==="bracket-separator"?f(A,y)+"[]":x.reduce($(A),[]).join("&"):f(A,y)+"="+f(x,y)}).filter(A=>A.length>0).join("&")},e.parseUrl=(E,y)=>{y=Object.assign({decode:!0},y);const[S,$]=n(E,"#");return Object.assign({url:S.split("?")[0]||"",query:h(_(E),y)},y&&y.parseFragmentIdentifier&&$?{fragmentIdentifier:c($,y)}:{})},e.stringifyUrl=(E,y)=>{y=Object.assign({encode:!0,strict:!0,[s]:!0},y);const S=m(E.url).split("?")[0]||"",$=e.extract(E.url),T=e.parse($,{sort:!1}),d=Object.assign(T,E.query);let A=e.stringify(d,y);A&&(A=`?${A}`);let x=g(E.url);return E.fragmentIdentifier&&(x=`#${y[s]?f(E.fragmentIdentifier,y):E.fragmentIdentifier}`),`${S}${A}${x}`},e.pick=(E,y,S)=>{S=Object.assign({parseFragmentIdentifier:!0,[s]:!1},S);const{url:$,query:T,fragmentIdentifier:d}=e.parseUrl(E,S);return e.stringifyUrl({url:$,query:i(T,y),fragmentIdentifier:d},S)},e.exclude=(E,y,S)=>{const $=Array.isArray(y)?T=>!y.includes(T):(T,d)=>!y(T,d);return e.pick(E,$,S)}}}),Hq=Oe({"../binding-http/dist/credential.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(m,g,_,v){v===void 0&&(v=_);var h=Object.getOwnPropertyDescriptor(g,_);(!h||("get"in h?!g.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return g[_]}}),Object.defineProperty(m,v,h)}:function(m,g,_,v){v===void 0&&(v=_),m[v]=g[_]}),r=e&&e.__setModuleDefault||(Object.create?function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}:function(m,g){m.default=g}),n=e&&e.__importStar||function(){var m=function(g){return m=Object.getOwnPropertyNames||function(_){var v=[];for(var h in _)Object.prototype.hasOwnProperty.call(_,h)&&(v[v.length]=h);return v},m(g)};return function(g){if(g&&g.__esModule)return g;var _={};if(g!=null)for(var v=m(g),h=0;h<v.length;h++)v[h]!=="default"&&t(_,g,v[h]);return r(_,g),_}}();Object.defineProperty(e,"__esModule",{value:!0}),e.TuyaCustomBearer=e.OAuthCredential=e.BasicKeyCredential=e.BearerCredential=e.BasicCredential=e.Credential=void 0;var i=n(gN()),o=n((i6(),Or(KR))),s=n(zne()),a=class{};e.Credential=a;var l=class extends a{constructor({username:m,password:g},_){if(super(),m===void 0||g===void 0||m===null||g===null)throw new Error("No Basic credentials for Thing");this.username=m,this.password=g,this.options=_}async sign(m){const g=m.clone();let _="authorization";return this.options!==void 0&&this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),g.headers.set(_,"Basic "+Yr.from(this.username+":"+this.password).toString("base64")),g}};e.BasicCredential=l;var u=class extends a{constructor({token:m},g){if(super(),m==null)throw new Error("No Bearer credentials for Thing");this.token=m,this.options=g}async sign(m){const g=m.clone();let _="authorization";return this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),g.headers.set(_,"Bearer "+this.token),g}};e.BearerCredential=u;var f=class extends a{constructor({apiKey:m},g){if(super(),m==null)throw new Error("No API key credentials for Thing");this.apiKey=m,this.options=g}async sign(m){const g=m.clone();let _="authorization";return this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),g.headers.append(_,this.apiKey),g}};e.BasicKeyCredential=f;var c=class Wq extends a{constructor(g,_){super(),this.token=g,this.refresh=_,this.token=g}async sign(g){if(this.token instanceof Promise){const h=this.token;this.token=await h}let _={url:g.url,headers:{}};return _=this.token.sign(_),new i.Request(g,_)}async refreshToken(){if(this.token instanceof Promise)throw new Error("Uninitialized token. You have to call sing before refresh");let g;return this.refresh?g=await this.refresh():g=await this.token.refresh(),new Wq(g,this.refresh)}};e.OAuthCredential=c;var p=class extends a{constructor(m,g){super(),this.key=m.key,this.secret=m.secret,this.baseUri=g.baseUri}async sign(m){var y;const g=this.isTokenExpired();(this.token===void 0||this.token===""||g)&&await this.requestAndRefreshToken(g);const _=m.url,v=(y=m.body)==null?void 0:y.read().toString(),h=m.method,E=this.getHeaders(!0,m.headers.raw(),v,_,h);return Object.assign(E,m.headers.raw()),new i.Request(_,{method:h,body:v!==""?v:void 0,headers:E})}async requestAndRefreshToken(m){var y,S,$;const _={headers:this.getHeaders(!1,{}),method:"GET"};let v=`${this.baseUri}/token?grant_type=1`;m&&(v=`${this.baseUri}/token/${this.refreshToken}`);const h=await(await(0,i.default)(v,_)).json();if(h.success??!1){this.token=(y=h.result)==null?void 0:y.access_token,this.refreshToken=(S=h.result)==null?void 0:S.refresh_token;const T=($=h.result)==null?void 0:$.expire_time;T!=null&&(this.expireTime=new Date(Date.now()+T*1e3))}else throw new Error("token fetch failed")}getHeaders(m,g,_,v,h){const E=Date.now().toString(),y=this.baseUri.replace("/v1.0",""),S=v==null?void 0:v.replace(y,""),$=this.requestSign(m,E,_,S,h);return{t:E,client_id:this.key,sign_method:"HMAC-SHA256",sign:$,access_token:this.token??""}}requestSign(m,g,_,v="",h){const E=o.createHash("sha256").update(_??"").digest("hex");let y="/v1.0/token?grant_type=1";const S="";let $="";const T=h??"GET";if(m){$=this.token??"";const x=s.parse(v.split("?")[1]);let O={};O=Object.assign(O,x);const D={};Object.keys(O).sort().forEach(V=>{D[V]=O[V]});const F=s.stringify(D);y=decodeURIComponent(F?`${v.split("?")[0]}?${F}`:v)}const d=[this.key,$,g,[T,E,S,y].join(`
`)].join("");return o.createHmac("sha256",this.secret).update(d).digest("hex").toUpperCase()}isTokenExpired(){return this.expireTime?Date.now()>this.expireTime.getTime():!1}};e.TuyaCustomBearer=p}}),Gq=Oe({"../binding-http/dist/oauth-manager.js"(e){Te();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=Co(),n=t(Mne()),i=(Q_(),Or(Sg)),o=Hq();function s(l){return(u,f,c,p)=>new Promise((m,g)=>{const _=new URL(f),v={method:u,host:_.hostname,port:parseInt(_.port),path:_.pathname+_.search,headers:p};v.rejectUnauthorized=l;const h=(0,i.request)(v);h.on("response",E=>{E.setEncoding("utf8");const y=[];E.on("data",S=>{y.push(S)}),E.on("end",()=>{m({status:E.statusCode??500,body:y.toString()})})}),h.on("error",E=>{g(E)}),h.write(c),h.end()})}var a=class{constructor(){this.tokenStore=new Map}handleClient(l,u){const f=new n.default({clientId:u.clientId,clientSecret:u.clientSecret,accessTokenUri:l.token,scopes:r.Helpers.toStringArray(l.scopes),body:{}},s(!1)),c=f.credentials.getToken();return new o.OAuthCredential(c,f.credentials.getToken.bind(f.credentials))}handleResourceOwnerCredential(l,u){const c=new n.default({clientId:u.clientId,clientSecret:u.clientSecret,accessTokenUri:l.token,scopes:r.Helpers.toStringArray(l.scopes)},s(!1)).owner.getToken(u.username,u.password);return new o.OAuthCredential(c)}};e.default=a}});function qne(){if(nO)return $w;nO=!0;const e=2147483647,t=36,r=1,n=26,i=38,o=700,s=72,a=128,l="-",u=/^xn--/,f=/[^\0-\x7F]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=t-r,g=Math.floor,_=String.fromCharCode;function v(V){throw new RangeError(p[V])}function h(V,Q){const H=[];let X=V.length;for(;X--;)H[X]=Q(V[X]);return H}function E(V,Q){const H=V.split("@");let X="";H.length>1&&(X=H[0]+"@",V=H[1]),V=V.replace(c,".");const fe=V.split("."),Z=h(fe,Q).join(".");return X+Z}function y(V){const Q=[];let H=0;const X=V.length;for(;H<X;){const fe=V.charCodeAt(H++);if(fe>=55296&&fe<=56319&&H<X){const Z=V.charCodeAt(H++);(Z&64512)==56320?Q.push(((fe&1023)<<10)+(Z&1023)+65536):(Q.push(fe),H--)}else Q.push(fe)}return Q}const S=V=>String.fromCodePoint(...V),$=function(V){return V>=48&&V<58?26+(V-48):V>=65&&V<91?V-65:V>=97&&V<123?V-97:t},T=function(V,Q){return V+22+75*(V<26)-((Q!=0)<<5)},d=function(V,Q,H){let X=0;for(V=H?g(V/o):V>>1,V+=g(V/Q);V>m*n>>1;X+=t)V=g(V/m);return g(X+(m+1)*V/(V+i))},A=function(V){const Q=[],H=V.length;let X=0,fe=a,Z=s,ne=V.lastIndexOf(l);ne<0&&(ne=0);for(let C=0;C<ne;++C)V.charCodeAt(C)>=128&&v("not-basic"),Q.push(V.charCodeAt(C));for(let C=ne>0?ne+1:0;C<H;){const B=X;for(let P=1,I=t;;I+=t){C>=H&&v("invalid-input");const q=$(V.charCodeAt(C++));q>=t&&v("invalid-input"),q>g((e-X)/P)&&v("overflow"),X+=q*P;const ie=I<=Z?r:I>=Z+n?n:I-Z;if(q<ie)break;const J=t-ie;P>g(e/J)&&v("overflow"),P*=J}const K=Q.length+1;Z=d(X-B,K,B==0),g(X/K)>e-fe&&v("overflow"),fe+=g(X/K),X%=K,Q.splice(X++,0,fe)}return String.fromCodePoint(...Q)},x=function(V){const Q=[];V=y(V);const H=V.length;let X=a,fe=0,Z=s;for(const B of V)B<128&&Q.push(_(B));const ne=Q.length;let C=ne;for(ne&&Q.push(l);C<H;){let B=e;for(const P of V)P>=X&&P<B&&(B=P);const K=C+1;B-X>g((e-fe)/K)&&v("overflow"),fe+=(B-X)*K,X=B;for(const P of V)if(P<X&&++fe>e&&v("overflow"),P===X){let I=fe;for(let q=t;;q+=t){const ie=q<=Z?r:q>=Z+n?n:q-Z;if(I<ie)break;const J=I-ie,Y=t-ie;Q.push(_(T(ie+J%Y,0))),I=g(J/Y)}Q.push(_(T(I,0))),Z=d(fe,K,C===ne),fe=0,++C}++fe,++X}return Q.join("")};return $w={version:"2.3.1",ucs2:{decode:y,encode:S},decode:A,encode:x,toASCII:function(V){return E(V,function(Q){return f.test(Q)?"xn--"+x(Q):Q})},toUnicode:function(V){return E(V,function(Q){return u.test(Q)?A(Q.slice(4).toLowerCase()):Q})}},$w}var $w,nO,bu,Vne=nn({"../../node_modules/@jspm/core/nodelibs/browser/punycode.js"(){Te(),$w={},nO=!1,bu=qne(),bu.decode,bu.encode,bu.toASCII,bu.toUnicode,bu.ucs2,bu.version}});function Hne(){if(iO)return Tw;iO=!0;var e=di;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",l=0,u=-1,f=0,c,p=0;p<=o.length;++p){if(p<o.length)c=o.charCodeAt(p);else{if(c===47)break;c=47}if(c===47){if(!(u===p-1||f===1))if(u!==p-1&&f===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var m=a.lastIndexOf("/");if(m!==a.length-1){m===-1?(a="",l=0):(a=a.slice(0,m),l=a.length-1-a.lastIndexOf("/")),u=p,f=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=p,f=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+o.slice(u+1,p):a=o.slice(u+1,p),l=p-u-1;u=p,f=0}else c===46&&f!==-1?++f:f=-1}return a}function n(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var i={resolve:function(){for(var s="",a=!1,l,u=arguments.length-1;u>=-1&&!a;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(s=f+"/"+s,a=f.charCodeAt(0)===47)}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(t(s),s.length===0)return".";var a=s.charCodeAt(0)===47,l=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&l&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return t(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,a=0;a<arguments.length;++a){var l=arguments[a];t(l),l.length>0&&(s===void 0?s=l:s+="/"+l)}return s===void 0?".":i.normalize(s)},relative:function(s,a){if(t(s),t(a),s===a||(s=i.resolve(s),a=i.resolve(a),s===a))return"";for(var l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var u=s.length,f=u-l,c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var p=a.length,m=p-c,g=f<m?f:m,_=-1,v=0;v<=g;++v){if(v===g){if(m>g){if(a.charCodeAt(c+v)===47)return a.slice(c+v+1);if(v===0)return a.slice(c+v)}else f>g&&(s.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var h=s.charCodeAt(l+v),E=a.charCodeAt(c+v);if(h!==E)break;h===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||s.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+a.slice(c+_):(c+=_,a.charCodeAt(c)===47&&++c,a.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(t(s),s.length===0)return".";for(var a=s.charCodeAt(0),l=a===47,u=-1,f=!0,c=s.length-1;c>=1;--c)if(a=s.charCodeAt(c),a===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":s.slice(0,u)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');t(s);var l=0,u=-1,f=!0,c;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return"";var p=a.length-1,m=-1;for(c=s.length-1;c>=0;--c){var g=s.charCodeAt(c);if(g===47){if(!f){l=c+1;break}}else m===-1&&(f=!1,m=c+1),p>=0&&(g===a.charCodeAt(p)?--p===-1&&(u=c):(p=-1,u=m))}return l===u?u=m:u===-1&&(u=s.length),s.slice(l,u)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":s.slice(l,u)}},extname:function(s){t(s);for(var a=-1,l=0,u=-1,f=!0,c=0,p=s.length-1;p>=0;--p){var m=s.charCodeAt(p);if(m===47){if(!f){l=p+1;break}continue}u===-1&&(f=!1,u=p+1),m===46?a===-1?a=p:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||u===-1||c===0||c===1&&a===u-1&&a===l+1?"":s.slice(a,u)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){t(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var l=s.charCodeAt(0),u=l===47,f;u?(a.root="/",f=1):f=0;for(var c=-1,p=0,m=-1,g=!0,_=s.length-1,v=0;_>=f;--_){if(l=s.charCodeAt(_),l===47){if(!g){p=_+1;break}continue}m===-1&&(g=!1,m=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||m===-1||v===0||v===1&&c===m-1&&c===p+1?m!==-1&&(p===0&&u?a.base=a.name=s.slice(1,m):a.base=a.name=s.slice(p,m)):(p===0&&u?(a.name=s.slice(1,c),a.base=s.slice(1,m)):(a.name=s.slice(p,c),a.base=s.slice(p,m)),a.ext=s.slice(c,m)),p>0?a.dir=s.slice(0,p-1):u&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Tw=i,Tw}var Tw,iO,oO,Wne=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-BlJi4mNy.js"(){Te(),Eg(),Tw={},iO=!1,oO=Hne()}}),Kq={};rl(Kq,{URL:()=>iV,Url:()=>Zq,default:()=>ji,fileURLToPath:()=>Yq,format:()=>eV,parse:()=>nV,pathToFileURL:()=>Xq,resolve:()=>tV,resolveObject:()=>rV});function Gne(){if(sO)return Aw;sO=!0;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=e&&t&&typeof t.get=="function"?t.get:null,n=e&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=i&&o&&typeof o.get=="function"?o.get:null,a=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,f=typeof WeakSet=="function"&&WeakSet.prototype,c=f?WeakSet.prototype.has:null,p=typeof WeakRef=="function"&&WeakRef.prototype,m=p?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,_=Object.prototype.toString,v=Function.prototype.toString,h=String.prototype.match,E=String.prototype.slice,y=String.prototype.replace,S=String.prototype.toUpperCase,$=String.prototype.toLowerCase,T=RegExp.prototype.test,d=Array.prototype.concat,A=Array.prototype.join,x=Array.prototype.slice,O=Math.floor,D=typeof BigInt=="function"?BigInt.prototype.valueOf:null,F=Object.getOwnPropertySymbols,V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Q=typeof Symbol=="function"&&typeof Symbol.iterator=="object",H=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Q||!0)?Symbol.toStringTag:null,X=Object.prototype.propertyIsEnumerable,fe=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Re){return Re.__proto__}:null);function Z(Re,Le){if(Re===1/0||Re===-1/0||Re!==Re||Re&&Re>-1e3&&Re<1e3||T.call(/e/,Le))return Le;var dt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Re=="number"){var yt=Re<0?-O(-Re):O(Re);if(yt!==Re){var lt=String(yt),Ct=E.call(Le,lt.length+1);return y.call(lt,dt,"$&_")+"."+y.call(y.call(Ct,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(Le,dt,"$&_")}var ne=Qq,C=ne.custom,B=Pe(C)?C:null;Aw=function Re(Le,dt,yt,lt){var Ct=dt||{};if(M(Ct,"quoteStyle")&&Ct.quoteStyle!=="single"&&Ct.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(M(Ct,"maxStringLength")&&(typeof Ct.maxStringLength=="number"?Ct.maxStringLength<0&&Ct.maxStringLength!==1/0:Ct.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Er=M(Ct,"customInspect")?Ct.customInspect:!0;if(typeof Er!="boolean"&&Er!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(M(Ct,"indent")&&Ct.indent!==null&&Ct.indent!=="	"&&!(parseInt(Ct.indent,10)===Ct.indent&&Ct.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(M(Ct,"numericSeparator")&&typeof Ct.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Pr=Ct.numericSeparator;if(typeof Le>"u")return"undefined";if(Le===null)return"null";if(typeof Le=="boolean")return Le?"true":"false";if(typeof Le=="string")return We(Le,Ct);if(typeof Le=="number"){if(Le===0)return 1/0/Le>0?"0":"-0";var ir=String(Le);return Pr?Z(Le,ir):ir}if(typeof Le=="bigint"){var mr=String(Le)+"n";return Pr?Z(Le,mr):mr}var cn=typeof Ct.depth>"u"?5:Ct.depth;if(typeof yt>"u"&&(yt=0),yt>=cn&&cn>0&&typeof Le=="object")return I(Le)?"[Array]":"[Object]";var Vt=ye(Ct,yt);if(typeof lt>"u")lt=[];else if(ce(lt,Le)>=0)return"[Circular]";function zt(It,jt,$t){if(jt&&(lt=x.call(lt),lt.push(jt)),$t){var Rt={depth:Ct.depth};return M(Ct,"quoteStyle")&&(Rt.quoteStyle=Ct.quoteStyle),Re(It,Rt,yt+1,lt)}return Re(It,Ct,yt+1,lt)}if(typeof Le=="function"&&!ie(Le)){var At=oe(Le),Se=je(Le,zt);return"[Function"+(At?": "+At:" (anonymous)")+"]"+(Se.length>0?" { "+A.call(Se,", ")+" }":"")}if(Pe(Le)){var Ne=Q?y.call(String(Le),/^(Symbol\(.*\))_[^)]*$/,"$1"):V.call(Le);return typeof Le=="object"&&!Q?W(Ne):Ne}if(nt(Le)){for(var ht="<"+$.call(String(Le.nodeName)),Ye=Le.attributes||[],it=0;it<Ye.length;it++)ht+=" "+Ye[it].name+"="+K(P(Ye[it].value),"double",Ct);return ht+=">",Le.childNodes&&Le.childNodes.length&&(ht+="..."),ht+="</"+$.call(String(Le.nodeName))+">",ht}if(I(Le)){if(Le.length===0)return"[]";var Pt=je(Le,zt);return Vt&&!re(Pt)?"["+Ee(Pt,Vt)+"]":"[ "+A.call(Pt,", ")+" ]"}if(J(Le)){var qt=je(Le,zt);return!("cause"in Error.prototype)&&"cause"in Le&&!X.call(Le,"cause")?"{ ["+String(Le)+"] "+A.call(d.call("[cause]: "+zt(Le.cause),qt),", ")+" }":qt.length===0?"["+String(Le)+"]":"{ ["+String(Le)+"] "+A.call(qt,", ")+" }"}if(typeof Le=="object"&&Er){if(B&&typeof Le[B]=="function"&&ne)return ne(Le,{depth:cn-yt});if(Er!=="symbol"&&typeof Le.inspect=="function")return Le.inspect()}if(de(Le)){var he=[];return n&&n.call(Le,function(It,jt){he.push(zt(jt,Le,!0)+" => "+zt(It,Le))}),L("Map",r.call(Le),he,Vt)}if(Be(Le)){var ue=[];return a&&a.call(Le,function(It){ue.push(zt(It,Le))}),L("Set",s.call(Le),ue,Vt)}if(ve(Le))return N("WeakMap");if(De(Le))return N("WeakSet");if(Ie(Le))return N("WeakRef");if(se(Le))return W(zt(Number(Le)));if(R(Le))return W(zt(D.call(Le)));if(be(Le))return W(g.call(Le));if(Y(Le))return W(zt(String(Le)));if(typeof window<"u"&&Le===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Le===globalThis||typeof xw<"u"&&Le===xw)return"{ [object globalThis] }";if(!q(Le)&&!ie(Le)){var we=je(Le,zt),xe=fe?fe(Le)===Object.prototype:Le instanceof Object||Le.constructor===Object,Ae=Le instanceof Object?"":"null prototype",tt=!xe&&H&&Object(Le)===Le&&H in Le?E.call(G(Le),8,-1):Ae?"Object":"",st=xe||typeof Le.constructor!="function"?"":Le.constructor.name?Le.constructor.name+" ":"",xt=st+(tt||Ae?"["+A.call(d.call([],tt||[],Ae||[]),": ")+"] ":"");return we.length===0?xt+"{}":Vt?xt+"{"+Ee(we,Vt)+"}":xt+"{ "+A.call(we,", ")+" }"}return String(Le)};function K(Re,Le,dt){var yt=(dt.quoteStyle||Le)==="double"?'"':"'";return yt+Re+yt}function P(Re){return y.call(String(Re),/"/g,"&quot;")}function I(Re){return G(Re)==="[object Array]"&&(!H||!(typeof Re=="object"&&H in Re))}function q(Re){return G(Re)==="[object Date]"&&(!H||!(typeof Re=="object"&&H in Re))}function ie(Re){return G(Re)==="[object RegExp]"&&(!H||!(typeof Re=="object"&&H in Re))}function J(Re){return G(Re)==="[object Error]"&&(!H||!(typeof Re=="object"&&H in Re))}function Y(Re){return G(Re)==="[object String]"&&(!H||!(typeof Re=="object"&&H in Re))}function se(Re){return G(Re)==="[object Number]"&&(!H||!(typeof Re=="object"&&H in Re))}function be(Re){return G(Re)==="[object Boolean]"&&(!H||!(typeof Re=="object"&&H in Re))}function Pe(Re){if(Q)return Re&&typeof Re=="object"&&Re instanceof Symbol;if(typeof Re=="symbol")return!0;if(!Re||typeof Re!="object"||!V)return!1;try{return V.call(Re),!0}catch{}return!1}function R(Re){if(!Re||typeof Re!="object"||!D)return!1;try{return D.call(Re),!0}catch{}return!1}var j=Object.prototype.hasOwnProperty||function(Re){return Re in(this||xw)};function M(Re,Le){return j.call(Re,Le)}function G(Re){return _.call(Re)}function oe(Re){if(Re.name)return Re.name;var Le=h.call(v.call(Re),/^function\s*([\w$]+)/);return Le?Le[1]:null}function ce(Re,Le){if(Re.indexOf)return Re.indexOf(Le);for(var dt=0,yt=Re.length;dt<yt;dt++)if(Re[dt]===Le)return dt;return-1}function de(Re){if(!r||!Re||typeof Re!="object")return!1;try{r.call(Re);try{s.call(Re)}catch{return!0}return Re instanceof Map}catch{}return!1}function ve(Re){if(!u||!Re||typeof Re!="object")return!1;try{u.call(Re,u);try{c.call(Re,c)}catch{return!0}return Re instanceof WeakMap}catch{}return!1}function Ie(Re){if(!m||!Re||typeof Re!="object")return!1;try{return m.call(Re),!0}catch{}return!1}function Be(Re){if(!s||!Re||typeof Re!="object")return!1;try{s.call(Re);try{r.call(Re)}catch{return!0}return Re instanceof Set}catch{}return!1}function De(Re){if(!c||!Re||typeof Re!="object")return!1;try{c.call(Re,c);try{u.call(Re,u)}catch{return!0}return Re instanceof WeakSet}catch{}return!1}function nt(Re){return!Re||typeof Re!="object"?!1:typeof HTMLElement<"u"&&Re instanceof HTMLElement?!0:typeof Re.nodeName=="string"&&typeof Re.getAttribute=="function"}function We(Re,Le){if(Re.length>Le.maxStringLength){var dt=Re.length-Le.maxStringLength,yt="... "+dt+" more character"+(dt>1?"s":"");return We(E.call(Re,0,Le.maxStringLength),Le)+yt}var lt=y.call(y.call(Re,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ue);return K(lt,"single",Le)}function Ue(Re){var Le=Re.charCodeAt(0),dt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Le];return dt?"\\"+dt:"\\x"+(Le<16?"0":"")+S.call(Le.toString(16))}function W(Re){return"Object("+Re+")"}function N(Re){return Re+" { ? }"}function L(Re,Le,dt,yt){var lt=yt?Ee(dt,yt):A.call(dt,", ");return Re+" ("+Le+") {"+lt+"}"}function re(Re){for(var Le=0;Le<Re.length;Le++)if(ce(Re[Le],`
`)>=0)return!1;return!0}function ye(Re,Le){var dt;if(Re.indent==="	")dt="	";else if(typeof Re.indent=="number"&&Re.indent>0)dt=A.call(Array(Re.indent+1)," ");else return null;return{base:dt,prev:A.call(Array(Le+1),dt)}}function Ee(Re,Le){if(Re.length===0)return"";var dt=`
`+Le.prev+Le.base;return dt+A.call(Re,","+dt)+`
`+Le.prev}function je(Re,Le){var dt=I(Re),yt=[];if(dt){yt.length=Re.length;for(var lt=0;lt<Re.length;lt++)yt[lt]=M(Re,lt)?Le(Re[lt],Re):""}var Ct=typeof F=="function"?F(Re):[],Er;if(Q){Er={};for(var Pr=0;Pr<Ct.length;Pr++)Er["$"+Ct[Pr]]=Ct[Pr]}for(var ir in Re)M(Re,ir)&&(dt&&String(Number(ir))===ir&&ir<Re.length||Q&&Er["$"+ir]instanceof Symbol||(T.call(/[^\w$]/,ir)?yt.push(Le(ir,Re)+": "+Le(Re[ir],Re)):yt.push(ir+": "+Le(Re[ir],Re))));if(typeof F=="function")for(var mr=0;mr<Ct.length;mr++)X.call(Re,Ct[mr])&&yt.push("["+Le(Ct[mr])+"]: "+Le(Re[Ct[mr]],Re));return yt}return Aw}function Kne(){if(aO)return Ow;aO=!0;var e=Uh(),t=QR(),r=Gne(),n=$g(),i=e("%WeakMap%",!0),o=e("%Map%",!0),s=t("WeakMap.prototype.get",!0),a=t("WeakMap.prototype.set",!0),l=t("WeakMap.prototype.has",!0),u=t("Map.prototype.get",!0),f=t("Map.prototype.set",!0),c=t("Map.prototype.has",!0),p=function(v,h){for(var E=v,y;(y=E.next)!==null;E=y)if(y.key===h)return E.next=y.next,y.next=v.next,v.next=y,y},m=function(v,h){var E=p(v,h);return E&&E.value},g=function(v,h,E){var y=p(v,h);y?y.value=E:v.next={key:h,next:v.next,value:E}},_=function(v,h){return!!p(v,h)};return Ow=function(){var h,E,y,S={assert:function($){if(!S.has($))throw new n("Side channel does not contain "+r($))},get:function($){if(i&&$&&(typeof $=="object"||typeof $=="function")){if(h)return s(h,$)}else if(o){if(E)return u(E,$)}else if(y)return m(y,$)},has:function($){if(i&&$&&(typeof $=="object"||typeof $=="function")){if(h)return l(h,$)}else if(o){if(E)return c(E,$)}else if(y)return _(y,$);return!1},set:function($,T){i&&$&&(typeof $=="object"||typeof $=="function")?(h||(h=new i),a(h,$,T)):o?(E||(E=new o),f(E,$,T)):(y||(y={key:{},next:null}),g(y,$,T))}};return S},Ow}function vN(){if(lO)return Pw;lO=!0;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Pw={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},Pw}function Jq(){if(uO)return Rw;uO=!0;var e=vN(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var v=[],h=0;h<256;++h)v.push("%"+((h<16?"0":"")+h.toString(16)).toUpperCase());return v}(),i=function(h){for(;h.length>1;){var E=h.pop(),y=E.obj[E.prop];if(r(y)){for(var S=[],$=0;$<y.length;++$)typeof y[$]<"u"&&S.push(y[$]);E.obj[E.prop]=S}}},o=function(h,E){for(var y=E&&E.plainObjects?Object.create(null):{},S=0;S<h.length;++S)typeof h[S]<"u"&&(y[S]=h[S]);return y},s=function v(h,E,y){if(!E)return h;if(typeof E!="object"){if(r(h))h.push(E);else if(h&&typeof h=="object")(y&&(y.plainObjects||y.allowPrototypes)||!t.call(Object.prototype,E))&&(h[E]=!0);else return[h,E];return h}if(!h||typeof h!="object")return[h].concat(E);var S=h;return r(h)&&!r(E)&&(S=o(h,y)),r(h)&&r(E)?(E.forEach(function($,T){if(t.call(h,T)){var d=h[T];d&&typeof d=="object"&&$&&typeof $=="object"?h[T]=v(d,$,y):h.push($)}else h[T]=$}),h):Object.keys(E).reduce(function($,T){var d=E[T];return t.call($,T)?$[T]=v($[T],d,y):$[T]=d,$},S)},a=function(h,E){return Object.keys(E).reduce(function(y,S){return y[S]=E[S],y},h)},l=function(v,h,E){var y=v.replace(/\+/g," ");if(E==="iso-8859-1")return y.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(y)}catch{return y}},u=1024,f=function(h,E,y,S,$){if(h.length===0)return h;var T=h;if(typeof h=="symbol"?T=Symbol.prototype.toString.call(h):typeof h!="string"&&(T=String(h)),y==="iso-8859-1")return escape(T).replace(/%u[0-9a-f]{4}/gi,function(V){return"%26%23"+parseInt(V.slice(2),16)+"%3B"});for(var d="",A=0;A<T.length;A+=u){for(var x=T.length>=u?T.slice(A,A+u):T,O=[],D=0;D<x.length;++D){var F=x.charCodeAt(D);if(F===45||F===46||F===95||F===126||F>=48&&F<=57||F>=65&&F<=90||F>=97&&F<=122||$===e.RFC1738&&(F===40||F===41)){O[O.length]=x.charAt(D);continue}if(F<128){O[O.length]=n[F];continue}if(F<2048){O[O.length]=n[192|F>>6]+n[128|F&63];continue}if(F<55296||F>=57344){O[O.length]=n[224|F>>12]+n[128|F>>6&63]+n[128|F&63];continue}D+=1,F=65536+((F&1023)<<10|x.charCodeAt(D)&1023),O[O.length]=n[240|F>>18]+n[128|F>>12&63]+n[128|F>>6&63]+n[128|F&63]}d+=O.join("")}return d},c=function(h){for(var E=[{obj:{o:h},prop:"o"}],y=[],S=0;S<E.length;++S)for(var $=E[S],T=$.obj[$.prop],d=Object.keys(T),A=0;A<d.length;++A){var x=d[A],O=T[x];typeof O=="object"&&O!==null&&y.indexOf(O)===-1&&(E.push({obj:T,prop:x}),y.push(O))}return i(E),h},p=function(h){return Object.prototype.toString.call(h)==="[object RegExp]"},m=function(h){return!h||typeof h!="object"?!1:!!(h.constructor&&h.constructor.isBuffer&&h.constructor.isBuffer(h))},g=function(h,E){return[].concat(h,E)},_=function(h,E){if(r(h)){for(var y=[],S=0;S<h.length;S+=1)y.push(E(h[S]));return y}return E(h)};return Rw={arrayToObject:o,assign:a,combine:g,compact:c,decode:l,encode:f,isBuffer:m,isRegExp:p,maybeMap:_,merge:s},Rw}function Jne(){if(cO)return Nw;cO=!0;var e=Kne(),t=Jq(),r=vN(),n=Object.prototype.hasOwnProperty,i={brackets:function(v){return v+"[]"},comma:"comma",indices:function(v,h){return v+"["+h+"]"},repeat:function(v){return v}},o=Array.isArray,s=Array.prototype.push,a=function(_,v){s.apply(_,o(v)?v:[v])},l=Date.prototype.toISOString,u=r.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,format:u,formatter:r.formatters[u],indices:!1,serializeDate:function(v){return l.call(v)},skipNulls:!1,strictNullHandling:!1},c=function(v){return typeof v=="string"||typeof v=="number"||typeof v=="boolean"||typeof v=="symbol"||typeof v=="bigint"},p={},m=function _(v,h,E,y,S,$,T,d,A,x,O,D,F,V,Q,H,X,fe){for(var Z=v,ne=fe,C=0,B=!1;(ne=ne.get(p))!==void 0&&!B;){var K=ne.get(v);if(C+=1,typeof K<"u"){if(K===C)throw new RangeError("Cyclic object value");B=!0}typeof ne.get(p)>"u"&&(C=0)}if(typeof x=="function"?Z=x(h,Z):Z instanceof Date?Z=F(Z):E==="comma"&&o(Z)&&(Z=t.maybeMap(Z,function(G){return G instanceof Date?F(G):G})),Z===null){if($)return A&&!H?A(h,f.encoder,X,"key",V):h;Z=""}if(c(Z)||t.isBuffer(Z)){if(A){var P=H?h:A(h,f.encoder,X,"key",V);return[Q(P)+"="+Q(A(Z,f.encoder,X,"value",V))]}return[Q(h)+"="+Q(String(Z))]}var I=[];if(typeof Z>"u")return I;var q;if(E==="comma"&&o(Z))H&&A&&(Z=t.maybeMap(Z,A)),q=[{value:Z.length>0?Z.join(",")||null:void 0}];else if(o(x))q=x;else{var ie=Object.keys(Z);q=O?ie.sort(O):ie}var J=d?h.replace(/\./g,"%2E"):h,Y=y&&o(Z)&&Z.length===1?J+"[]":J;if(S&&o(Z)&&Z.length===0)return Y+"[]";for(var se=0;se<q.length;++se){var be=q[se],Pe=typeof be=="object"&&typeof be.value<"u"?be.value:Z[be];if(!(T&&Pe===null)){var R=D&&d?be.replace(/\./g,"%2E"):be,j=o(Z)?typeof E=="function"?E(Y,R):Y:Y+(D?"."+R:"["+R+"]");fe.set(v,C);var M=e();M.set(p,fe),a(I,_(Pe,j,E,y,S,$,T,d,E==="comma"&&H&&o(Z)?null:A,x,O,D,F,V,Q,H,X,M))}}return I},g=function(v){if(!v)return f;if(typeof v.allowEmptyArrays<"u"&&typeof v.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof v.encodeDotInKeys<"u"&&typeof v.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(v.encoder!==null&&typeof v.encoder<"u"&&typeof v.encoder!="function")throw new TypeError("Encoder has to be a function.");var h=v.charset||f.charset;if(typeof v.charset<"u"&&v.charset!=="utf-8"&&v.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var E=r.default;if(typeof v.format<"u"){if(!n.call(r.formatters,v.format))throw new TypeError("Unknown format option provided.");E=v.format}var y=r.formatters[E],S=f.filter;(typeof v.filter=="function"||o(v.filter))&&(S=v.filter);var $;if(v.arrayFormat in i?$=v.arrayFormat:"indices"in v?$=v.indices?"indices":"repeat":$=f.arrayFormat,"commaRoundTrip"in v&&typeof v.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var T=typeof v.allowDots>"u"?v.encodeDotInKeys===!0?!0:f.allowDots:!!v.allowDots;return{addQueryPrefix:typeof v.addQueryPrefix=="boolean"?v.addQueryPrefix:f.addQueryPrefix,allowDots:T,allowEmptyArrays:typeof v.allowEmptyArrays=="boolean"?!!v.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:$,charset:h,charsetSentinel:typeof v.charsetSentinel=="boolean"?v.charsetSentinel:f.charsetSentinel,commaRoundTrip:v.commaRoundTrip,delimiter:typeof v.delimiter>"u"?f.delimiter:v.delimiter,encode:typeof v.encode=="boolean"?v.encode:f.encode,encodeDotInKeys:typeof v.encodeDotInKeys=="boolean"?v.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof v.encoder=="function"?v.encoder:f.encoder,encodeValuesOnly:typeof v.encodeValuesOnly=="boolean"?v.encodeValuesOnly:f.encodeValuesOnly,filter:S,format:E,formatter:y,serializeDate:typeof v.serializeDate=="function"?v.serializeDate:f.serializeDate,skipNulls:typeof v.skipNulls=="boolean"?v.skipNulls:f.skipNulls,sort:typeof v.sort=="function"?v.sort:null,strictNullHandling:typeof v.strictNullHandling=="boolean"?v.strictNullHandling:f.strictNullHandling}};return Nw=function(_,v){var h=_,E=g(v),y,S;typeof E.filter=="function"?(S=E.filter,h=S("",h)):o(E.filter)&&(S=E.filter,y=S);var $=[];if(typeof h!="object"||h===null)return"";var T=i[E.arrayFormat],d=T==="comma"&&E.commaRoundTrip;y||(y=Object.keys(h)),E.sort&&y.sort(E.sort);for(var A=e(),x=0;x<y.length;++x){var O=y[x];E.skipNulls&&h[O]===null||a($,m(h[O],O,T,d,E.allowEmptyArrays,E.strictNullHandling,E.skipNulls,E.encodeDotInKeys,E.encode?E.encoder:null,E.filter,E.sort,E.allowDots,E.serializeDate,E.format,E.formatter,E.encodeValuesOnly,E.charset,A))}var D=$.join(E.delimiter),F=E.addQueryPrefix===!0?"?":"";return E.charsetSentinel&&(E.charset==="iso-8859-1"?F+="utf8=%26%2310003%3B&":F+="utf8=%E2%9C%93&"),D.length>0?F+D:""},Nw}function Yne(){if(fO)return Iw;fO=!0;var e=Jq(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(p){return p.replace(/&#(\d+);/g,function(m,g){return String.fromCharCode(parseInt(g,10))})},o=function(p,m){return p&&typeof p=="string"&&m.comma&&p.indexOf(",")>-1?p.split(","):p},s="utf8=%26%2310003%3B",a="utf8=%E2%9C%93",l=function(m,g){var _={__proto__:null},v=g.ignoreQueryPrefix?m.replace(/^\?/,""):m;v=v.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var h=g.parameterLimit===1/0?void 0:g.parameterLimit,E=v.split(g.delimiter,h),y=-1,S,$=g.charset;if(g.charsetSentinel)for(S=0;S<E.length;++S)E[S].indexOf("utf8=")===0&&(E[S]===a?$="utf-8":E[S]===s&&($="iso-8859-1"),y=S,S=E.length);for(S=0;S<E.length;++S)if(S!==y){var T=E[S],d=T.indexOf("]="),A=d===-1?T.indexOf("="):d+1,x,O;A===-1?(x=g.decoder(T,n.decoder,$,"key"),O=g.strictNullHandling?null:""):(x=g.decoder(T.slice(0,A),n.decoder,$,"key"),O=e.maybeMap(o(T.slice(A+1),g),function(F){return g.decoder(F,n.decoder,$,"value")})),O&&g.interpretNumericEntities&&$==="iso-8859-1"&&(O=i(O)),T.indexOf("[]=")>-1&&(O=r(O)?[O]:O);var D=t.call(_,x);D&&g.duplicates==="combine"?_[x]=e.combine(_[x],O):(!D||g.duplicates==="last")&&(_[x]=O)}return _},u=function(p,m,g,_){for(var v=_?m:o(m,g),h=p.length-1;h>=0;--h){var E,y=p[h];if(y==="[]"&&g.parseArrays)E=g.allowEmptyArrays&&(v===""||g.strictNullHandling&&v===null)?[]:[].concat(v);else{E=g.plainObjects?Object.create(null):{};var S=y.charAt(0)==="["&&y.charAt(y.length-1)==="]"?y.slice(1,-1):y,$=g.decodeDotInKeys?S.replace(/%2E/g,"."):S,T=parseInt($,10);!g.parseArrays&&$===""?E={0:v}:!isNaN(T)&&y!==$&&String(T)===$&&T>=0&&g.parseArrays&&T<=g.arrayLimit?(E=[],E[T]=v):$!=="__proto__"&&(E[$]=v)}v=E}return v},f=function(m,g,_,v){if(m){var h=_.allowDots?m.replace(/\.([^.[]+)/g,"[$1]"):m,E=/(\[[^[\]]*])/,y=/(\[[^[\]]*])/g,S=_.depth>0&&E.exec(h),$=S?h.slice(0,S.index):h,T=[];if($){if(!_.plainObjects&&t.call(Object.prototype,$)&&!_.allowPrototypes)return;T.push($)}for(var d=0;_.depth>0&&(S=y.exec(h))!==null&&d<_.depth;){if(d+=1,!_.plainObjects&&t.call(Object.prototype,S[1].slice(1,-1))&&!_.allowPrototypes)return;T.push(S[1])}if(S){if(_.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+_.depth+" and strictDepth is true");T.push("["+h.slice(S.index)+"]")}return u(T,g,_,v)}},c=function(m){if(!m)return n;if(typeof m.allowEmptyArrays<"u"&&typeof m.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof m.decodeDotInKeys<"u"&&typeof m.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(m.decoder!==null&&typeof m.decoder<"u"&&typeof m.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof m.charset<"u"&&m.charset!=="utf-8"&&m.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var g=typeof m.charset>"u"?n.charset:m.charset,_=typeof m.duplicates>"u"?n.duplicates:m.duplicates;if(_!=="combine"&&_!=="first"&&_!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var v=typeof m.allowDots>"u"?m.decodeDotInKeys===!0?!0:n.allowDots:!!m.allowDots;return{allowDots:v,allowEmptyArrays:typeof m.allowEmptyArrays=="boolean"?!!m.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof m.allowPrototypes=="boolean"?m.allowPrototypes:n.allowPrototypes,allowSparse:typeof m.allowSparse=="boolean"?m.allowSparse:n.allowSparse,arrayLimit:typeof m.arrayLimit=="number"?m.arrayLimit:n.arrayLimit,charset:g,charsetSentinel:typeof m.charsetSentinel=="boolean"?m.charsetSentinel:n.charsetSentinel,comma:typeof m.comma=="boolean"?m.comma:n.comma,decodeDotInKeys:typeof m.decodeDotInKeys=="boolean"?m.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof m.decoder=="function"?m.decoder:n.decoder,delimiter:typeof m.delimiter=="string"||e.isRegExp(m.delimiter)?m.delimiter:n.delimiter,depth:typeof m.depth=="number"||m.depth===!1?+m.depth:n.depth,duplicates:_,ignoreQueryPrefix:m.ignoreQueryPrefix===!0,interpretNumericEntities:typeof m.interpretNumericEntities=="boolean"?m.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof m.parameterLimit=="number"?m.parameterLimit:n.parameterLimit,parseArrays:m.parseArrays!==!1,plainObjects:typeof m.plainObjects=="boolean"?m.plainObjects:n.plainObjects,strictDepth:typeof m.strictDepth=="boolean"?!!m.strictDepth:n.strictDepth,strictNullHandling:typeof m.strictNullHandling=="boolean"?m.strictNullHandling:n.strictNullHandling}};return Iw=function(p,m){var g=c(m);if(p===""||p===null||typeof p>"u")return g.plainObjects?Object.create(null):{};for(var _=typeof p=="string"?l(p,g):p,v=g.plainObjects?Object.create(null):{},h=Object.keys(_),E=0;E<h.length;++E){var y=h[E],S=f(y,_[y],g,typeof p=="string");v=e.merge(v,S,g)}return g.allowSparse===!0?v:e.compact(v)},Iw}function Xne(){if(dO)return kw;dO=!0;var e=Jne(),t=Yne(),r=vN();return kw={formats:r,parse:t,stringify:e},kw}function Qne(){if(hO)return _u;hO=!0;var e=bu;function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],s=["{","}","|","\\","^","`"].concat(o),a=["'"].concat(s),l=["%","/","?",";","#"].concat(a),u=["/","?","#"],f=255,c=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=Xne();function h($,T,d){if($&&typeof $=="object"&&$ instanceof t)return $;var A=new t;return A.parse($,T,d),A}t.prototype.parse=function($,T,d){if(typeof $!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof $);var A=$.indexOf("?"),x=A!==-1&&A<$.indexOf("#")?"?":"#",O=$.split(x),D=/\\/g;O[0]=O[0].replace(D,"/"),$=O.join(x);var F=$;if(F=F.trim(),!d&&$.split("#").length===1){var V=i.exec(F);if(V)return this.path=F,this.href=F,this.pathname=V[1],V[2]?(this.search=V[2],T?this.query=v.parse(this.search.substr(1)):this.query=this.search.substr(1)):T&&(this.search="",this.query={}),this}var Q=r.exec(F);if(Q){Q=Q[0];var H=Q.toLowerCase();this.protocol=H,F=F.substr(Q.length)}if(d||Q||F.match(/^\/\/[^@/]+@[^@/]+/)){var X=F.substr(0,2)==="//";X&&!(Q&&g[Q])&&(F=F.substr(2),this.slashes=!0)}if(!g[Q]&&(X||Q&&!_[Q])){for(var fe=-1,Z=0;Z<u.length;Z++){var ne=F.indexOf(u[Z]);ne!==-1&&(fe===-1||ne<fe)&&(fe=ne)}var C,B;fe===-1?B=F.lastIndexOf("@"):B=F.lastIndexOf("@",fe),B!==-1&&(C=F.slice(0,B),F=F.slice(B+1),this.auth=decodeURIComponent(C)),fe=-1;for(var Z=0;Z<l.length;Z++){var ne=F.indexOf(l[Z]);ne!==-1&&(fe===-1||ne<fe)&&(fe=ne)}fe===-1&&(fe=F.length),this.host=F.slice(0,fe),F=F.slice(fe),this.parseHost(),this.hostname=this.hostname||"";var K=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!K)for(var P=this.hostname.split(/\./),Z=0,I=P.length;Z<I;Z++){var q=P[Z];if(q&&!q.match(c)){for(var ie="",J=0,Y=q.length;J<Y;J++)q.charCodeAt(J)>127?ie+="x":ie+=q[J];if(!ie.match(c)){var se=P.slice(0,Z),be=P.slice(Z+1),Pe=q.match(p);Pe&&(se.push(Pe[1]),be.unshift(Pe[2])),be.length&&(F="/"+be.join(".")+F),this.hostname=se.join(".");break}}}this.hostname.length>f?this.hostname="":this.hostname=this.hostname.toLowerCase(),K||(this.hostname=e.toASCII(this.hostname));var R=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+R,this.href+=this.host,K&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),F[0]!=="/"&&(F="/"+F))}if(!m[H])for(var Z=0,I=a.length;Z<I;Z++){var M=a[Z];if(F.indexOf(M)!==-1){var G=encodeURIComponent(M);G===M&&(G=escape(M)),F=F.split(M).join(G)}}var oe=F.indexOf("#");oe!==-1&&(this.hash=F.substr(oe),F=F.slice(0,oe));var ce=F.indexOf("?");if(ce!==-1?(this.search=F.substr(ce),this.query=F.substr(ce+1),T&&(this.query=v.parse(this.query)),F=F.slice(0,ce)):T&&(this.search="",this.query={}),F&&(this.pathname=F),_[H]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var R=this.pathname||"",de=this.search||"";this.path=R+de}return this.href=this.format(),this};function E($){return typeof $=="string"&&($=h($)),$ instanceof t?$.format():t.prototype.format.call($)}t.prototype.format=function(){var $=this.auth||"";$&&($=encodeURIComponent($),$=$.replace(/%3A/i,":"),$+="@");var T=this.protocol||"",d=this.pathname||"",A=this.hash||"",x=!1,O="";this.host?x=$+this.host:this.hostname&&(x=$+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(x+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(O=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var D=this.search||O&&"?"+O||"";return T&&T.substr(-1)!==":"&&(T+=":"),this.slashes||(!T||_[T])&&x!==!1?(x="//"+(x||""),d&&d.charAt(0)!=="/"&&(d="/"+d)):x||(x=""),A&&A.charAt(0)!=="#"&&(A="#"+A),D&&D.charAt(0)!=="?"&&(D="?"+D),d=d.replace(/[?#]/g,function(F){return encodeURIComponent(F)}),D=D.replace("#","%23"),T+x+d+D+A};function y($,T){return h($,!1,!0).resolve(T)}t.prototype.resolve=function($){return this.resolveObject(h($,!1,!0)).format()};function S($,T){return $?h($,!1,!0).resolveObject(T):T}return t.prototype.resolveObject=function($){if(typeof $=="string"){var T=new t;T.parse($,!1,!0),$=T}for(var d=new t,A=Object.keys(this),x=0;x<A.length;x++){var O=A[x];d[O]=this[O]}if(d.hash=$.hash,$.href==="")return d.href=d.format(),d;if($.slashes&&!$.protocol){for(var D=Object.keys($),F=0;F<D.length;F++){var V=D[F];V!=="protocol"&&(d[V]=$[V])}return _[d.protocol]&&d.hostname&&!d.pathname&&(d.pathname="/",d.path=d.pathname),d.href=d.format(),d}if($.protocol&&$.protocol!==d.protocol){if(!_[$.protocol]){for(var Q=Object.keys($),H=0;H<Q.length;H++){var X=Q[H];d[X]=$[X]}return d.href=d.format(),d}if(d.protocol=$.protocol,!$.host&&!g[$.protocol]){for(var I=($.pathname||"").split("/");I.length&&!($.host=I.shift()););$.host||($.host=""),$.hostname||($.hostname=""),I[0]!==""&&I.unshift(""),I.length<2&&I.unshift(""),d.pathname=I.join("/")}else d.pathname=$.pathname;if(d.search=$.search,d.query=$.query,d.host=$.host||"",d.auth=$.auth,d.hostname=$.hostname||$.host,d.port=$.port,d.pathname||d.search){var fe=d.pathname||"",Z=d.search||"";d.path=fe+Z}return d.slashes=d.slashes||$.slashes,d.href=d.format(),d}var ne=d.pathname&&d.pathname.charAt(0)==="/",C=$.host||$.pathname&&$.pathname.charAt(0)==="/",B=C||ne||d.host&&$.pathname,K=B,P=d.pathname&&d.pathname.split("/")||[],I=$.pathname&&$.pathname.split("/")||[],q=d.protocol&&!_[d.protocol];if(q&&(d.hostname="",d.port=null,d.host&&(P[0]===""?P[0]=d.host:P.unshift(d.host)),d.host="",$.protocol&&($.hostname=null,$.port=null,$.host&&(I[0]===""?I[0]=$.host:I.unshift($.host)),$.host=null),B=B&&(I[0]===""||P[0]==="")),C)d.host=$.host||$.host===""?$.host:d.host,d.hostname=$.hostname||$.hostname===""?$.hostname:d.hostname,d.search=$.search,d.query=$.query,P=I;else if(I.length)P||(P=[]),P.pop(),P=P.concat(I),d.search=$.search,d.query=$.query;else if($.search!=null){if(q){d.host=P.shift(),d.hostname=d.host;var ie=d.host&&d.host.indexOf("@")>0?d.host.split("@"):!1;ie&&(d.auth=ie.shift(),d.hostname=ie.shift(),d.host=d.hostname)}return d.search=$.search,d.query=$.query,(d.pathname!==null||d.search!==null)&&(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"")),d.href=d.format(),d}if(!P.length)return d.pathname=null,d.search?d.path="/"+d.search:d.path=null,d.href=d.format(),d;for(var J=P.slice(-1)[0],Y=(d.host||$.host||P.length>1)&&(J==="."||J==="..")||J==="",se=0,be=P.length;be>=0;be--)J=P[be],J==="."?P.splice(be,1):J===".."?(P.splice(be,1),se++):se&&(P.splice(be,1),se--);if(!B&&!K)for(;se--;se)P.unshift("..");B&&P[0]!==""&&(!P[0]||P[0].charAt(0)!=="/")&&P.unshift(""),Y&&P.join("/").substr(-1)!=="/"&&P.push("");var Pe=P[0]===""||P[0]&&P[0].charAt(0)==="/";if(q){d.hostname=Pe?"":P.length?P.shift():"",d.host=d.hostname;var ie=d.host&&d.host.indexOf("@")>0?d.host.split("@"):!1;ie&&(d.auth=ie.shift(),d.hostname=ie.shift(),d.host=d.hostname)}return B=B||d.host&&P.length,B&&!Pe&&P.unshift(""),P.length>0?d.pathname=P.join("/"):(d.pathname=null,d.path=null),(d.pathname!==null||d.search!==null)&&(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"")),d.auth=$.auth||d.auth,d.slashes=d.slashes||$.slashes,d.href=d.format(),d},t.prototype.parseHost=function(){var $=this.host,T=n.exec($);T&&(T=T[0],T!==":"&&(this.port=T.substr(1)),$=$.substr(0,$.length-T.length)),$&&(this.hostname=$)},_u.parse=h,_u.resolve=y,_u.resolveObject=S,_u.format=E,_u.Url=t,_u}function Yq(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Hb?Zne(e):eie(e)}function Zne(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(uV,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<aV||n>lV||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function eie(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function Xq(e){let t=oO.resolve(e);const r=e.charCodeAt(e.length-1);(r===sV||Hb&&r===oV)&&t[t.length-1]!==oO.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(cV,"%25")),!Hb&&t.includes("\\")&&(t=t.replace(fV,"%5C")),t.includes(`
`)&&(t=t.replace(dV,"%0A")),t.includes("\r")&&(t=t.replace(hV,"%0D")),t.includes("	")&&(t=t.replace(pV,"%09")),n.pathname=t,n}var Qq,Aw,sO,xw,Ow,aO,Pw,lO,Rw,uO,Nw,cO,Iw,fO,kw,dO,_u,hO,ji,jD,Zq,eV,tV,rV,nV,iV,oV,sV,aV,lV,Hb,uV,cV,fV,dV,hV,pV,tie=nn({"../../node_modules/@jspm/core/nodelibs/browser/url.js"(){Te(),Vne(),ZR(),Wne(),Eg(),Qq=Object.freeze(Object.create(null)),Aw={},sO=!1,xw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ow={},aO=!1,Pw={},lO=!1,Rw={},uO=!1,Nw={},cO=!1,Iw={},fO=!1,kw={},dO=!1,_u={},hO=!1,ji=Qne(),ji.parse,ji.resolve,ji.resolveObject,ji.format,ji.Url,jD=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,ji.URL=typeof URL<"u"?URL:null,ji.pathToFileURL=Xq,ji.fileURLToPath=Yq,Zq=ji.Url,eV=ji.format,tV=ji.resolve,rV=ji.resolveObject,nV=ji.parse,iV=ji.URL,oV=92,sV=47,aV=97,lV=122,Hb=jD==="win32",uV=/\//g,cV=/%/g,fV=/\\/g,dV=/\n/g,hV=/\r/g,pV=/\t/g}}),rie=Oe({"../../node_modules/eventsource/lib/eventsource.js"(e,t){Te();var r=(tie(),Or(Kq)).parse,n=(d6(),Or(o6)),i=(Q_(),Or(Sg)),o=(VR(),Or(Y_)),s=(eE(),Or(Z_)),a=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],l=[239,187,191],u=58,f=32,c=10,p=13,m=1024*256,g=/^(cookie|authorization)$/i;function _(S){return l.every(function($,T){return S[T]===$})}function v(S,$){var T=v.CONNECTING,d=$&&$.headers,A=!1;Object.defineProperty(this,"readyState",{get:function(){return T}}),Object.defineProperty(this,"url",{get:function(){return S}});var x=this;x.reconnectInterval=1e3,x.connectionInProgress=!1;function O(C){T!==v.CLOSED&&(T=v.CONNECTING,Z("error",new h("error",{message:C})),X&&(S=X,X=null,A=!1),setTimeout(function(){T!==v.CONNECTING||x.connectionInProgress||(x.connectionInProgress=!0,fe())},x.reconnectInterval))}var D,F="";d&&d["Last-Event-ID"]&&(F=d["Last-Event-ID"],delete d["Last-Event-ID"]);var V=!1,Q="",H="",X=null;function fe(){var C=r(S),B=C.protocol==="https:";if(C.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},F&&(C.headers["Last-Event-ID"]=F),d){var K=A?y(d):d;for(var P in K){var I=K[P];I&&(C.headers[P]=I)}}C.rejectUnauthorized=!($&&!$.rejectUnauthorized),$&&$.createConnection!==void 0&&(C.createConnection=$.createConnection);var q=$&&$.proxy;if(q){var ie=r($.proxy);B=ie.protocol==="https:",C.protocol=B?"https:":"http:",C.path=S,C.headers.Host=C.host,C.hostname=ie.hostname,C.host=ie.host,C.port=ie.port}if($&&$.https){for(var J in $.https)if(a.indexOf(J)!==-1){var Y=$.https[J];Y!==void 0&&(C[J]=Y)}}$&&$.withCredentials!==void 0&&(C.withCredentials=$.withCredentials),D=(B?i:o).request(C,function(se){if(x.connectionInProgress=!1,se.statusCode===500||se.statusCode===502||se.statusCode===503||se.statusCode===504){Z("error",new h("error",{status:se.statusCode,message:se.statusMessage})),O();return}if(se.statusCode===301||se.statusCode===302||se.statusCode===307){var be=se.headers.location;if(!be){Z("error",new h("error",{status:se.statusCode,message:se.statusMessage}));return}var Pe=new URL(S).origin,R=new URL(be).origin;A=Pe!==R,se.statusCode===307&&(X=S),S=be,process.nextTick(fe);return}if(se.statusCode!==200)return Z("error",new h("error",{status:se.statusCode,message:se.statusMessage})),x.close();T=v.OPEN,se.on("close",function(){se.removeAllListeners("close"),se.removeAllListeners("end"),O()}),se.on("end",function(){se.removeAllListeners("close"),se.removeAllListeners("end"),O()}),Z("open",new h("open"));var j,M,G=0,oe=-1,ce=0,de=0;se.on("data",function(ve){j?(ve.length>j.length-de&&(ce=j.length*2+ve.length,ce>m&&(ce=j.length+ve.length+m),M=Yr.alloc(ce),j.copy(M,0,0,de),j=M),ve.copy(j,de),de+=ve.length):(j=ve,_(j)&&(j=j.slice(l.length)),de=j.length);for(var Ie=0,Be=de;Ie<Be;){V&&(j[Ie]===c&&++Ie,V=!1);for(var De=-1,nt=oe,We,Ue=G;De<0&&Ue<Be;++Ue)We=j[Ue],We===u?nt<0&&(nt=Ue-Ie):We===p?(V=!0,De=Ue-Ie):We===c&&(De=Ue-Ie);if(De<0){G=Be-Ie,oe=nt;break}else G=0,oe=-1;ne(j,Ie,nt,De),Ie+=De+1}Ie===Be?(j=void 0,de=0):Ie>0&&(j=j.slice(Ie,de),de=j.length)})}),D.on("error",function(se){x.connectionInProgress=!1,O(se.message)}),D.setNoDelay&&D.setNoDelay(!0),D.end()}fe();function Z(){x.listeners(arguments[0]).length>0&&x.emit.apply(x,arguments)}this._close=function(){T!==v.CLOSED&&(T=v.CLOSED,D.abort&&D.abort(),D.xhr&&D.xhr.abort&&D.xhr.abort())};function ne(C,B,K,P){if(P===0){if(Q.length>0){var I=H||"message";Z(I,new E(I,{data:Q.slice(0,-1),lastEventId:F,origin:new URL(S).origin})),Q=""}H=void 0}else if(K>0){var q=K<0,ie=0,J=C.slice(B,B+(q?P:K)).toString();q?ie=P:C[B+K+1]!==f?ie=K+1:ie=K+2,B+=ie;var Y=P-ie,se=C.slice(B,B+Y).toString();if(J==="data")Q+=se+`
`;else if(J==="event")H=se;else if(J==="id")F=se;else if(J==="retry"){var be=parseInt(se,10);Number.isNaN(be)||(x.reconnectInterval=be)}}}}t.exports=v,s.inherits(v,n.EventEmitter),v.prototype.constructor=v,["open","error","message"].forEach(function(S){Object.defineProperty(v.prototype,"on"+S,{get:function(){var T=this.listeners(S)[0];return T?T._listener?T._listener:T:void 0},set:function(T){this.removeAllListeners(S),this.addEventListener(S,T)}})}),Object.defineProperty(v,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(v,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(v,"CLOSED",{enumerable:!0,value:2}),v.prototype.CONNECTING=0,v.prototype.OPEN=1,v.prototype.CLOSED=2,v.prototype.close=function(){this._close()},v.prototype.addEventListener=function($,T){typeof T=="function"&&(T._listener=T,this.on($,T))},v.prototype.dispatchEvent=function($){if(!$.type)throw new Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit($.type,$.detail)},v.prototype.removeEventListener=function($,T){typeof T=="function"&&(T._listener=void 0,this.removeListener($,T))};function h(S,$){if(Object.defineProperty(this,"type",{writable:!1,value:S,enumerable:!0}),$)for(var T in $)$.hasOwnProperty(T)&&Object.defineProperty(this,T,{writable:!1,value:$[T],enumerable:!0})}function E(S,$){Object.defineProperty(this,"type",{writable:!1,value:S,enumerable:!0});for(var T in $)$.hasOwnProperty(T)&&Object.defineProperty(this,T,{writable:!1,value:$[T],enumerable:!0})}function y(S){var $={};for(var T in S)g.test(T)||($[T]=S[T]);return $}}}),nie=Oe({"../binding-http/dist/subscription-protocols.js"(e){Te();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.SSESubscription=e.LongPollingSubscription=void 0;var r=t(rie()),n=Co(),i=(js(),Or(es)),{debug:o}=(0,n.createLoggers)("binding-http","subscription-protocols"),s=class{constructor(l,u){this.form=l,this.client=u,this.closed=!1,this.abortController=new AbortController}open(l,u,f){return new Promise((c,p)=>{const m=async g=>{try{if(g){const h=await this.client.generateFetchRequest(this.form,"HEAD",{timeout:1e3,signal:this.abortController.signal});(await this.client.fetch(h)).ok&&c()}const _=await this.client.generateFetchRequest(this.form,"GET",{timeout:60*60*1e3,signal:this.abortController.signal});o(`HttpClient (subscribeResource) sending ${_.method} to ${_.url}`);const v=await this.client.fetch(_);if(this.client.checkFetchResponse(v),o(`HttpClient received ${v.status} from ${_.url}`),o(`HttpClient received headers: ${JSON.stringify(v.headers.raw())}`),o(`HttpClient received Content-Type: ${v.headers.get("content-type")}`),!this.closed){const h=n.ProtocolHelpers.toNodeStream(v.body);l(new n.Content(v.headers.get("content-type")??n.ContentSerdes.DEFAULT,h)),m(!1)}f&&f()}catch(_){const v=_ instanceof Error?_:new Error(JSON.stringify(_));u&&u(v),f&&f(),p(_)}};m(!0)})}close(){this.abortController.abort(),this.closed=!0}};e.LongPollingSubscription=s;var a=class{constructor(l){this.form=l,this.closed=!1}open(l,u,f){return new Promise((c,p)=>{this.eventSource=new r.default(this.form.href),this.eventSource.onopen=m=>{o(`HttpClient (subscribeResource) Server-Sent Event connection is opened to ${this.form.href}`),c()},this.eventSource.onmessage=m=>{o(`HttpClient received ${JSON.stringify(m)} from ${this.form.href}`);const g=new n.Content(this.form.contentType??n.ContentSerdes.DEFAULT,i.Readable.from(m.data));l(g)},this.eventSource.onerror=function(m){u==null||u(new Error(m.toString())),f&&f(),p(m.toString())}})}close(){var l;(l=this.eventSource)==null||l.close()}};e.SSESubscription=a}}),iie=Oe({"../binding-http/dist/http-client-impl.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(E,y,S,$){$===void 0&&($=S);var T=Object.getOwnPropertyDescriptor(y,S);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[S]}}),Object.defineProperty(E,$,T)}:function(E,y,S,$){$===void 0&&($=S),E[$]=y[S]}),r=e&&e.__setModuleDefault||(Object.create?function(E,y){Object.defineProperty(E,"default",{enumerable:!0,value:y})}:function(E,y){E.default=y}),n=e&&e.__importStar||function(){var E=function(y){return E=Object.getOwnPropertyNames||function(S){var $=[];for(var T in S)Object.prototype.hasOwnProperty.call(S,T)&&($[$.length]=T);return $},E(y)};return function(y){if(y&&y.__esModule)return y;var S={};if(y!=null)for(var $=E(y),T=0;T<$.length;T++)$[T]!=="default"&&t(S,y,$[T]);return r(S,y),S}}(),i=e&&e.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0});var o=n((VR(),Or(Y_))),s=n((Q_(),Or(Sg))),a=Rne(),l=Co(),u=n(gN()),f=(ic(),Or(nc)),c=i(Gq()),p=Hq(),m=nie(),{debug:g,warn:_,error:v}=(0,l.createLoggers)("binding-http","http-client-impl"),h=class qp{constructor(y=null,S=!1,$=new c.default){this.proxyRequest=null,this.allowSelfSigned=!1,this.credential=null,this.activeSubscriptions=new Map,y!==null&&y.proxy&&y.proxy.href&&(this.proxyRequest=new u.Request(qp.fixLocalhostName(y.proxy.href)),y.proxy.scheme==="basic"?((!Object.prototype.hasOwnProperty.call(y.proxy,"username")||!Object.prototype.hasOwnProperty.call(y.proxy,"password"))&&_("HttpClient client configured for basic proxy auth, but no username/password given"),this.proxyRequest.headers.set("proxy-authorization","Basic "+f.Buffer.from(y.proxy.username+":"+y.proxy.password).toString("base64"))):y.proxy.scheme==="bearer"&&(Object.prototype.hasOwnProperty.call(y.proxy,"token")||_("HttpClient client configured for bearer proxy auth, but no token given"),this.proxyRequest.headers.set("proxy-authorization","Bearer "+y.proxy.token)),this.proxyRequest.protocol==="https"&&(S=!0),g(`HttpClient using ${S?"secure ":""}proxy ${this.proxyRequest.hostname}:${this.proxyRequest.port}`)),y!==null&&y.allowSelfSigned!==void 0&&(this.allowSelfSigned=y.allowSelfSigned,_("HttpClient allowing self-signed/untrusted certificates -- USE FOR TESTING ONLY")),this.agent=S?new s.Agent({rejectUnauthorized:!this.allowSelfSigned}):new o.Agent,this.provider=S?"https":"http",this.oauth=$}toString(){return"[HttpClient]"}async readResource(y){const S=y.contentType!=null?[["accept",y.contentType]]:[["accept",l.ContentSerdes.DEFAULT]],$=await this.generateFetchRequest(y,"GET",{headers:S});g(`HttpClient (readResource) sending ${$.method} to ${$.url}`);const T=await this.fetch($);this.checkFetchResponse(T),g(`HttpClient received headers: ${JSON.stringify(T.headers.raw())}`),g(`HttpClient received Content-Type: ${T.headers.get("content-type")}`);const d=l.ProtocolHelpers.toNodeStream(T.body);return new l.Content(T.headers.get("content-type")??l.ContentSerdes.DEFAULT,d)}async writeResource(y,S){const $=await this.generateFetchRequest(y,"PUT",{headers:[["content-type",S.type]],body:S.body});g(`HttpClient (writeResource) sending ${$.method} with '${$.headers.get("Content-Type")}' to ${$.url}`);const T=await this.fetch($);g(`HttpClient received ${T.status} from ${T.url}`),this.checkFetchResponse(T),g(`HttpClient received headers: ${JSON.stringify(T.headers.raw())}`)}async subscribeResource(y,S,$,T){const d="longpoll";let A=y.subprotocol;A==null&&(_(`Subscribing to ${y.href} using long polling for form without subprotocol`),A=d);let x;if(A===d)x=new m.LongPollingSubscription(y,this);else if(y.subprotocol==="sse")x=new m.SSESubscription(y);else throw new Error(`HttpClient does not support subprotocol ${y.subprotocol}`);return await x.open(S,$,T),this.activeSubscriptions.set(y.href,x),new a.Subscription(()=>{x.close()})}async invokeResource(y,S){var x,O;const $=S!=null?[["content-type",S.type]]:[];((x=y.response)==null?void 0:x.contentType)!=null?$.push(["accept",(O=y.response)==null?void 0:O.contentType]):y.contentType!=null?$.push(["accept",y.contentType]):$.push(["accept",l.ContentSerdes.DEFAULT]);const T=await this.generateFetchRequest(y,"POST",{headers:$,body:S==null?void 0:S.body});g(`HttpClient (invokeResource) sending ${T.method} ${S!=null?`with '"${T.headers.get("Content-Type")}"`:""} to ${T.url}`);const d=await this.fetch(T);g(`HttpClient received ${d.status} from ${T.url}`),g(`HttpClient received Content-Type: ${d.headers.get("content-type")}`),this.checkFetchResponse(d);const A=l.ProtocolHelpers.toNodeStream(d.body);return new l.Content(d.headers.get("content-type")??l.ContentSerdes.DEFAULT,A)}async unlinkResource(y){g(`HttpClient (unlinkResource) ${y.href}`);const S=this.activeSubscriptions.get(y.href);S?S.close():_(`HttpClient cannot unlink ${y.href} no subscription found`)}async requestThingDescription(y){const S={Accept:"application/td+json"},$=await this.generateFetchRequest({href:y},"GET",S),T=await this.fetch($),d=l.ProtocolHelpers.toNodeStream(T.body);return new l.Content(T.headers.get("content-type")??"application/td+json",d)}async start(){}async stop(){var y,S;(S=(y=this.agent)==null?void 0:y.destroy)==null||S.call(y)}setSecurity(y,S){if(y===void 0||!Array.isArray(y)||y.length===0)return _("HttpClient without security"),!1;const $=y[0];switch($.scheme){case"basic":{const T=$;this.credential=new p.BasicCredential(S,T);break}case"bearer":{const T=$;this.credential=new p.BearerCredential(S,T);break}case"apikey":{const T=$;this.credential=new p.BasicKeyCredential(S,T);break}case"oauth2":{const T=$;T.flow==="client"?(T.flow="client_credentials",this.credential=this.oauth.handleClient(T,S)):T.flow==="password"&&(this.credential=this.oauth.handleResourceOwnerCredential(T,S));break}case"TuyaCustomBearer":{this.credential=new p.TuyaCustomBearer(S,$);break}case"nosec":break;default:return v(`HttpClient cannot set security scheme '${$.scheme}'. ${y}`),!1}if($.proxy!=null){if(this.proxyRequest!==null&&g(`HttpClient overriding client-side proxy with security proxy '${$.proxy}`),this.proxyRequest=new u.Request(qp.fixLocalhostName($.proxy)),$.scheme==="basic"){const T=S;if(T===void 0||T.username===void 0||T.password===void 0)throw new Error("No Basic credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Basic "+f.Buffer.from(T.username+":"+T.password).toString("base64"))}else if($.scheme==="bearer"){const T=S;if(S===void 0||T.token===void 0)throw new Error("No Bearer credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Bearer "+T.token)}}return g(`HttpClient using security scheme '${$.scheme}'`),!0}async generateFetchRequest(y,S,$={}){const T=$,d=qp.fixLocalhostName(y.href);if(T.method=y["htv:methodName"]?y["htv:methodName"]:S,T.headers=T.headers??[],T.headers=T.headers,Array.isArray(y["htv:headers"])){g(`HttpClient got Form 'headers' ${y["htv:headers"]}`);const x=y["htv:headers"];for(const O of x)T.headers=T.headers.filter(D=>D[0].toLowerCase()!==O["htv:fieldName"].toLowerCase()),T.headers.push([O["htv:fieldName"],O["htv:fieldValue"]])}else if(typeof y["htv:headers"]=="object"){g(`HttpClient got Form SINGLE-ENTRY 'headers' ${y["htv:headers"]}`);const x=y["htv:headers"];T.headers=T.headers.filter(O=>O[0].toLowerCase()!==x["htv:fieldName"].toLowerCase()),T.headers.push([x["htv:fieldName"],x["htv:fieldValue"]])}T.agent=this.agent;let A=this.proxyRequest?new u.Request(this.proxyRequest,T):new u.Request(d,T);if(this.credential&&(A=await this.credential.sign(A)),this.proxyRequest){const x=new URL(d);A.url=A.url+x.pathname,g(`HttpClient proxy request URL: ${A.url}`),A.headers.set("host",x.hostname)}return A}async fetch(y,S){const $=await(0,u.default)(y,{body:S==null?void 0:S.body});return qp.isOAuthTokenExpired($,this.credential)?(this.credential=await this.credential.refreshToken(),await(0,u.default)(await this.credential.sign(y))):$}checkFetchResponse(y){const S=y.status;if(S<200)throw new Error(`HttpClient received ${S} and cannot continue (not implemented, open GitHub Issue)`);if(!(S<300))throw S<400?new Error(`HttpClient received ${S} and cannot continue (not implemented, open GitHub Issue)`):S<500?new Error(`Client error: ${y.statusText}`):new Error(`Server error: ${y.statusText}`)}static isOAuthTokenExpired(y,S){return y.status===401&&S instanceof p.OAuthCredential}static fixLocalhostName(y){const S=/^(https?:)?(\/\/)?(?:[^@\n]+@)?(www\.)?(localhost)/gm;return S.test(y)?(_("LOCALHOST FIX"),y.replace(S,"$1$2127.0.0.1")):y}};e.default=h}}),Wb=Oe({"../binding-http/dist/http-client-browser.js"(e){Te();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var r=Co(),n=(js(),Or(es)),i=t(iie()),o=class extends i.default{async generateFetchRequest(s,a,l){if((l==null?void 0:l.body)instanceof n.Readable){const u=await r.ProtocolHelpers.readStreamFully(l.body);l.body=u}return super.generateFetchRequest(s,a,l)}};e.default=o}}),DD=Oe({"../binding-http/dist/http-client-factory.js"(e){Te();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=Co(),n=t(Wb()),i=t(Gq()),{debug:o,warn:s}=(0,r.createLoggers)("binding-http","http-client-factory"),a=class{constructor(l=null){this.scheme="http",this.config=null,this.oAuthManager=new i.default,this.config=l}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("https:")?(s("HttpClientFactory creating client for 'https' due to secure proxy configuration"),new n.default(this.config,!0,this.oAuthManager)):(o(`HttpClientFactory creating client for '${this.scheme}'`),new n.default(this.config))}init(){return!0}destroy(){return!0}};e.default=a}}),MD=Oe({"../binding-http/dist/https-client-factory.js"(e){Te();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var r=Co(),n=t(Wb()),{debug:i,warn:o}=(0,r.createLoggers)("binding-http","https-client-factory"),s=class{constructor(a=null){this.scheme="https",this.config=null,this.config=a}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("http:")?(o("HttpsClientFactory creating client for 'http' due to insecure proxy configuration"),new n.default(this.config)):(i(`HttpsClientFactory creating client for '${this.scheme}'`),new n.default(this.config,!0))}init(){return!0}destroy(){return!0}};e.default=s}}),oie=Oe({"../binding-http/dist/http-browser.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(c,p,m,g){g===void 0&&(g=m);var _=Object.getOwnPropertyDescriptor(p,m);(!_||("get"in _?!p.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return p[m]}}),Object.defineProperty(c,g,_)}:function(c,p,m,g){g===void 0&&(g=m),c[g]=p[m]}),r=e&&e.__exportStar||function(c,p){for(var m in c)m!=="default"&&!Object.prototype.hasOwnProperty.call(p,m)&&t(p,c,m)},n=e&&e.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.HttpForm=e.HttpHeader=e.HttpsClientFactory=e.HttpClientFactory=e.HttpClient=void 0;var i=Co(),o=gN(),s=Wb();Object.defineProperty(e,"HttpClient",{enumerable:!0,get:function(){return n(s).default}});var a=DD();Object.defineProperty(e,"HttpClientFactory",{enumerable:!0,get:function(){return n(a).default}});var l=MD();Object.defineProperty(e,"HttpsClientFactory",{enumerable:!0,get:function(){return n(l).default}}),r(Wb(),e),r(DD(),e),r(MD(),e);var u=class{};e.HttpHeader=u;var f=class extends i.Form{};e.HttpForm=f,o.Headers.prototype.raw=function(){const c={};for(const[p,m]of this.entries())c[p]=m.split(",");return c},o.Response.prototype.buffer=async function(){return Yr.from(await this.arrayBuffer())}}}),pO=Oe({"../binding-websockets/dist/ws-client.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Co(),{debug:r,warn:n}=(0,t.createLoggers)("binding-websockets","ws-client"),i=class{constructor(){}toString(){return"[WebSocketClient]"}readResource(o){return new Promise((s,a)=>{})}writeResource(o,s){return new Promise((a,l)=>{})}invokeResource(o,s){return new Promise((a,l)=>{})}unlinkResource(o){return new Promise((s,a)=>{})}subscribeResource(o,s,a,l){throw new Error("Websocket client does not implement subscribeResource")}async requestThingDescription(o){throw new Error("Method not implemented")}async start(){}async stop(){}setSecurity(o,s){if(o===void 0||!Array.isArray(o)||o.length===0)return n("WebSocketClient received empty security metadata"),!1;const a=o[0];return r(`WebSocketClient using security scheme '${a.scheme}'`),!0}};e.default=i}}),LD=Oe({"../binding-websockets/dist/ws-client-factory.js"(e){Te();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var r=Co(),n=t(pO()),{debug:i}=(0,r.createLoggers)("binding-websockets","ws-client-factory"),o=class{constructor(s=null){this.scheme="ws",this.clientSideProxy=null,this.clientSideProxy=s}getClient(){return i(`HttpClientFactory creating client for '${this.scheme}'`),new n.default}init(){return!0}destroy(){return!0}};e.default=o}}),FD=Oe({"../binding-websockets/dist/wss-client-factory.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(){this.scheme="wss"}getClient(){throw new Error("WssClientFactory for 'wss' is not implemented")}init(){return!0}destroy(){return!0}};e.default=t}}),sie=Oe({"../binding-websockets/dist/ws-browser.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(a,l,u,f){f===void 0&&(f=u);var c=Object.getOwnPropertyDescriptor(l,u);(!c||("get"in c?!l.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(a,f,c)}:function(a,l,u,f){f===void 0&&(f=u),a[f]=l[u]}),r=e&&e.__exportStar||function(a,l){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&t(l,a,u)},n=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketSecureClientFactory=e.WebSocketClientFactory=e.WebSocketClient=void 0;var i=pO();Object.defineProperty(e,"WebSocketClient",{enumerable:!0,get:function(){return n(i).default}});var o=LD();Object.defineProperty(e,"WebSocketClientFactory",{enumerable:!0,get:function(){return n(o).default}});var s=FD();Object.defineProperty(e,"WebSocketSecureClientFactory",{enumerable:!0,get:function(){return n(s).default}}),r(pO(),e),r(LD(),e),r(FD(),e)}});Te();var aie=CR(Co()),lie=CR(oie());CR(sie());const yN=new aie.Servient;yN.addClientFactory(new lie.HttpClientFactory);console.log("init servient");const mV={readproperty:{color:"Green",title:"Read",level:"properties",callback:gV},writeproperty:{color:"Blue",title:"Write",level:"properties",callback:cie},observeproperty:{color:"Orange",title:"Observe",level:"properties",callback:null},unobserveproperty:{color:"Red",title:"Unobserve",level:"properties",callback:null},invokeaction:{color:"Orange",title:"Invoke",level:"actions",callback:null},subscribeevent:{color:"Orange",title:"Subscribe",level:"events",callback:null},unsubscribeevent:{color:"Red",title:"Unsubscribe",level:"events",callback:null},readmultipleproperties:{color:"Green",title:"Read Multiple",level:"thing",callback:null},readallproperties:{color:"Green",title:"Read All",level:"thing",callback:null},writemultipleproperties:{color:"Blue",title:"Write Multiple",level:"thing",callback:null},writeallproperties:{color:"Blue",title:"Write All",level:"thing",callback:null},observeallproperties:{color:"Orange",title:"Observe All",level:"thing",callback:null},unobserveallproperties:{color:"Red",title:"Unobserve All",level:"thing",callback:null}};function hd(e){return e.replace(/^"|"$/g,"")}const uie=(e,t)=>{try{switch(e){case"boolean":return hd(t).toLowerCase()==="true";case"integer":const r=parseInt(hd(t),10);if(isNaN(r))throw new Error(`Error on convert "${t}" to an integer.`);return r;case"number":const n=parseFloat(hd(t));if(isNaN(n))throw new Error(`Error on convert "${t}" to a number.`);return n;case"string":return hd(t);case"array":let i=hd(t);if(Array.isArray(i))return i;try{const o=JSON.parse(i);if(Array.isArray(o))return o}catch{throw new Error(`Error on convert "${t}" to an array.`)}case"object":try{return JSON.parse(hd(t))}catch{throw new Error(`Error on convert "${t}" to an object.`)}default:throw new Error(`Unsupported type: "${e}".`)}}catch(r){console.error(`Failed to parse content for ${e}:`,r)}};async function gV(e,t,r){try{const o=await(await(await yN.start()).consume(e)).readProperty(t,r);o.ignoreValidation=!0;const s=await o.value();return{result:JSON.stringify(s,null,2),err:null}}catch(n){return console.debug(n),{result:"",err:n}}}async function cie(e,t,r){try{const n=e.properties[t].type,i=uie(n,r);return await(await(await yN.start()).consume(e)).writeProperty(t,i),{result:`Successfully wrote ${JSON.stringify(i).length>50?JSON.stringify(i).slice(0,50)+"...":JSON.stringify(i)} to '${t}'.`,err:null}}catch(n){return console.debug(n),{result:"",err:n}}}const fie=({formType:e,form:t,interactionFunction:r})=>{const n=Ce.useContext(bn),[i,o]=Ce.useState(""),[s,a]=Ce.useState(!1),[l,u]=Ce.useState(null),[f,c]=Ce.useState(null),p=mV[e];if(!p)return ae.jsx(ae.Fragment,{});const m=ae.jsx("div",{className:"flex h-8 min-w-20 justify-center place-self-center rounded-md bg-white",children:ae.jsx("div",{className:`text-form${p.color} place-self-center px-4 text-center`,children:p.title})}),g=async()=>{if(!r)return;a(!0);const _=await r(n.parsedTD,t.propName,i);_.err!==null?(c(_.err.message),u(null)):(c(null),u(_.result)),a(!1),o("")};return ae.jsxs(ae.Fragment,{children:[ae.jsxs("div",{className:`flex min-h-12 w-full items-stretch bg-opacity-75 bg-form${p.color} mt-2 ${s||l!==null||f!=null||t.op==="writeproperty"?"rounded-t-md":"rounded-md"} border-2 pl-4 border-form${p.color}`,children:[r&&ae.jsx("button",{onClick:g,children:m}),!r&&ae.jsx("div",{className:"flex",children:m}),ae.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-base text-white",children:t.href}),(f!==null||l!==null)&&ae.jsx("button",{className:`flex min-w-10 items-center justify-center border-r-2 border-form${p.color} bg-form${p.color}`,onClick:()=>{c(null),u(null)},children:ae.jsx(pR,{size:16,color:"white"})}),ae.jsx("button",{className:`flex min-w-10 items-center justify-center bg-form${p.color}`,onClick:()=>n.removeForm(p.level,t.propName,t,t.actualIndex),children:ae.jsx(tc,{size:16,color:"white"})})]}),t.op==="writeproperty"&&ae.jsx("form",{onSubmit:_=>{_.preventDefault(),g()},children:ae.jsx("input",{type:"text",placeholder:"Input a value and hit write...",value:i,onChange:_=>o(_.target.value),className:`flex w-full overflow-auto bg-white px-4 py-2 ${l!==null||f!=null?"border-b-2 border-gray-300":"rounded-b-md"}`})}),s!==!1&&ae.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:ae.jsx("div",{className:"p-4 text-black",children:"Waiting for a response..."})}),f!==null&&ae.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:ae.jsxs("div",{className:"text-formRed p-4",children:["Error: ",f]})}),l!==null&&ae.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:ae.jsx("div",{className:"p-4 text-black",children:l})})]})},die=({level:e,form:t})=>{const r=Ce.useContext(bn);return ae.jsxs("div",{className:"flex min-h-10 w-full items-stretch rounded-md border-2 border-gray-300 bg-gray-300 bg-opacity-75 pl-4",children:[ae.jsx("div",{className:"flex h-6 min-w-20 justify-center place-self-center rounded-md bg-white",children:ae.jsx("div",{className:"place-self-center px-4 text-center text-xs text-black",children:"Undefined"})}),ae.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-white",children:t.href}),ae.jsx("button",{className:"flex w-10 items-center justify-center bg-gray-300",onClick:()=>r.removeForm(e,t.propName,t,t.actualIndex),children:ae.jsx(tc,{size:16,color:"black"})})]})},hie=e=>({action:"actions",property:"properties",event:"events",thing:"thing"})[e],hE=e=>{e.form.propName=e.propName;const t=mV[e.form.op];return t?ae.jsx(ae.Fragment,{children:ae.jsx(fie,{formType:e.form.op,form:e.form,interactionFunction:t.callback})}):ae.jsx(die,{level:hie(e.interactionType),form:e.form})},wN=e=>ae.jsxs(ae.Fragment,{children:[ae.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),ae.jsx("textarea",{id:e.id,rows:5,className:"w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:e.placeholder})]}),bN=e=>ae.jsxs("div",{className:"py-1",children:[ae.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),ae.jsx("input",{name:e.id,id:e.id,className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:e.placeholder,type:e.type??"text",autoFocus:e.autoFocus??!1,onChange:e.onChange}),ae.jsx("span",{id:`${e.id}-helper-text`,className:"pl-2 text-xs text-red-400"})]},e.id),pie=Ce.forwardRef((e,t)=>{const r=Ce.useContext(bn),[n,i]=et.useState(()=>!1),o="action",s="actions",a=o[0].toUpperCase()+o.slice(1);Ce.useEffect(()=>{},[n,r]),Ce.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=ae.jsxs(ae.Fragment,{children:[ae.jsx(bN,{id:`${o}-title`,label:"Title",placeholder:`${a} Title`,autoFocus:!0,onChange:()=>m()}),ae.jsx(wN,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${a}...`})]}),c=()=>{if(!r.isValidJSON){p("Can't add Action. TD is malformed.");return}const g=document.getElementById(`${o}-title`),_=document.getElementById(`${o}-description`),v={title:g.value,description:_.value||void 0,forms:[]},h=r.parsedTD;h[s]&&h[s][v.title]?p(`An ${a} with this title already exists...`):(h[s]={...h[s],[v.title]:v},r.updateOfflineTD(JSON.stringify(h,null,2)),u())},p=g=>{document.getElementById(`${o}-title-helper-text`).textContent=g,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?ql.createPortal(ae.jsx(el,{onCancel:u,onSubmit:()=>{c()},submitText:`Add ${a}`,children:f,title:`Add New ${a}`,description:`Tell us a little something about the ${a} you want to add.`}),document.getElementById("modal-root")):null}),mie=Ce.forwardRef((e,t)=>{const r=Ce.useContext(bn),[n,i]=et.useState(()=>!1),o="event",s="events",a=o[0].toUpperCase()+o.slice(1);Ce.useEffect(()=>{},[n,r]),Ce.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=ae.jsxs(ae.Fragment,{children:[ae.jsx(bN,{id:`${o}-title`,label:"Title",placeholder:`${a} Title`,autoFocus:!0,onChange:()=>m()}),ae.jsx(wN,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${a}...`})]}),c=()=>{const g={title:document.getElementById(`${o}-title`).value,forms:[]},_=document.getElementById(`${o}-description`).value;if(_!==""&&(g.description=_),g.forms=[],!r.isValidJSON){p("Can't add Event. TD is malformed.");return}const v=r.parsedTD;v[s]&&v[s][g.title]?p(`An ${a} with this title already exists...`):(v[s]={...v[s],[g.title]:g},r.updateOfflineTD(JSON.stringify(v,null,2)),u())},p=g=>{document.getElementById(`${o}-title-helper-text`).textContent=g,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?ql.createPortal(ae.jsx(el,{onCancel:u,onSubmit:()=>{c()},submitText:`Add ${a}`,children:f,title:`Add New ${a}`,description:`Tell us a little something about the ${a} you want to add.`}),document.getElementById("modal-root")):null}),BD=e=>ae.jsxs("div",{className:"form-checkbox pl-2",children:[e.readOnly??!0?ae.jsx("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label}):ae.jsx("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label,readOnly:e.readOnly,checked:!0}),ae.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:e.id,children:e.label})]},e.id),gie=e=>ae.jsxs(ae.Fragment,{children:[ae.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),ae.jsxs("div",{className:"relative",children:[ae.jsx("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:e.id,children:e.options.map(t=>ae.jsx("option",{children:t},t))}),ae.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:ae.jsx(hf,{color:"#cacaca"})})]})]}),UD="undefined",vie=Ce.forwardRef((e,t)=>{const r=Ce.useContext(bn),[n,i]=et.useState(()=>!1),o="property",s="properties",a=o[0].toUpperCase()+o.slice(1);Ce.useEffect(()=>{},[n,r]),Ce.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=ae.jsxs(ae.Fragment,{children:[ae.jsx(bN,{id:`${o}-title`,label:"Title",placeholder:`${a} Title`,autoFocus:!0,onChange:()=>m()}),ae.jsx(wN,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${a}...`}),ae.jsx(gie,{id:`${o}-type`,label:"Type",options:[UD,"number","integer","boolean","string","object","array"]}),ae.jsx("div",{className:"h-2"}),ae.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Additional:"}),ae.jsxs("div",{id:"additional",className:"rounded-md bg-gray-600 p-1",children:[ae.jsx(BD,{id:`${o}-readOnly`,label:"Read Only"}),ae.jsx(BD,{id:`${o}-observable`,label:"Observable"})]})]}),c=()=>{if(!r.isValidJSON){p("Can't add Action. TD is malformed.");return}const g={title:document.getElementById(`${o}-title`).value,observable:document.getElementById(`${o}-observable`).checked,readOnly:document.getElementById(`${o}-readOnly`).checked,forms:[]},_=document.getElementById(`${o}-description`).value;_!==""&&(g.description=_);const v=document.getElementById(`${o}-type`).value;v!==UD&&(g.type=v),v==="array"?g.items={}:v==="object"&&(g.properties={}),g.forms=[];const h=r.parsedTD;h[s]&&h[s][g.title]?p(`A ${a} with this title already exists...`):(h[s]={...h[s],[g.title]:g},r.updateOfflineTD(JSON.stringify(h,null,2)),u())},p=g=>{document.getElementById(`${o}-title-helper-text`).textContent=g,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?ql.createPortal(ae.jsx(el,{onCancel:u,onSubmit:()=>{c()},submitText:`Add ${a}`,children:f,title:`Add New ${a}`,description:`Tell us a little something about the ${a} you want to add.`}),document.getElementById("modal-root")):null}),_N=({onClick:e})=>ae.jsx("button",{className:"border-formBlue bg-formBlue flex min-h-10 w-full items-stretch rounded-md border-2 bg-opacity-75 pl-4",onClick:e,children:ae.jsxs("div",{className:"flex items-center justify-center",children:[ae.jsx(ER,{color:"white",size:"20"}),ae.jsx("div",{className:"pl-2 text-center text-white",children:"Click to add Form..."})]})}),yie=["title","forms","description"];function wie(e){const t=Ce.useContext(bn),[r,n]=Ce.useState(!1),i=et.useRef(),o=()=>{i.current.openModal()};if(Object.keys(e.action).length===0&&e.action.constructor!==Object)return ae.jsx("div",{className:"text-3xl text-white",children:"Action could not be rendered because mandatory fields are missing."});const s=e.action,a=M_(e.action.forms),l=D_({name:e.actionName},e.action,yie),u=Object.keys(l).map(c=>ae.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("actions",e.actionName)};return ae.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[ae.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[ae.jsx("h3",{className:"flex-grow px-2",children:s.title??e.actionName}),r&&ae.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:ae.jsx(tc,{size:16,color:"white"})})]}),ae.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[s.description&&ae.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:s.description}),ae.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),ae.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:ae.jsx(Nl,{className:"flex-grow",tooltip:yg(),id:"actions",children:ae.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),ae.jsx(_N,{onClick:o}),ae.jsx(L_,{type:"action",interaction:s,interactionName:e.actionName,ref:i}),a.map((c,p)=>ae.jsx(hE,{form:c,propName:e.actionName,interactionType:"action"},`${p}-${c.href}`))]})]})}const bie=["title","forms","description"];function _ie(e){const t=Ce.useContext(bn),[r,n]=Ce.useState(!1),i=et.useRef(),o=()=>{i.current.openModal()};if(Object.keys(e.event).length===0&&e.event.constructor!==Object)return ae.jsx("div",{className:"text-3xl text-white",children:"Event could not be rendered because mandatory fields are missing."});const s=e.event,a=M_(e.event.forms),l=D_({name:e.eventName},e.event,bie),u=Object.keys(l).map(c=>ae.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("events",e.eventName)};return ae.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[ae.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[ae.jsx("div",{className:"flex-grow px-2",children:s.title??e.eventName}),r&&ae.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:ae.jsx(tc,{size:16,color:"white"})})]}),ae.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[s.description&&ae.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:s.description}),ae.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),ae.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:ae.jsx(Nl,{className:"flex-grow",tooltip:yg(),id:"events",children:ae.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),ae.jsx(_N,{onClick:o}),ae.jsx(L_,{type:"event",interaction:s,interactionName:e.eventName,ref:i}),a.map((c,p)=>ae.jsx(hE,{form:c,propName:e.eventName,interactionType:"event"},`${p}-${c.href}`))]})]})}const Eie=["title","forms","description"];function Sie(e){const t=Ce.useContext(bn),[r,n]=Ce.useState(!1),i=et.useRef(e),o=()=>{i.current.openModal()};if(Object.keys(e.prop).length===0&&e.prop.constructor!==Object)return ae.jsx("div",{className:"text-3xl text-white",children:"Property could not be rendered because mandatory fields are missing."});const s=e.prop,a=M_(structuredClone(e.prop.forms)),l=D_({name:e.propName},e.prop,Eie),u=Object.keys(l).map(c=>ae.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("properties",e.propName)};return ae.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[ae.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[ae.jsx("h3",{className:"flex-grow px-2",children:s.title??e.propName}),r&&ae.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:ae.jsx(tc,{size:16,color:"white"})})]}),ae.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[s.description&&ae.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:s.description}),ae.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),ae.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:ae.jsx(Nl,{className:"flex-grow",tooltip:yg(),id:"properties",children:ae.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),ae.jsx(_N,{onClick:o}),ae.jsx(L_,{type:"property",interaction:s,interactionName:e.propName,ref:i}),a.map((c,p)=>ae.jsx(hE,{propName:e.propName,form:c,interactionType:"property"},`${p}-${c.href}`))]})]})}const $ie=e=>ae.jsxs("div",{className:"relative text-gray-600",children:[ae.jsx("input",{type:"search",autoComplete:"on",className:"caret-gray h-9 place-self-center rounded-lg bg-gray-600 px-5 pr-10 text-sm text-white focus:outline-none",onKeyUp:e.onKeyUp,placeholder:e.placeholder,"aria-label":e.ariaLabel}),ae.jsx("div",{disabled:!0,type:"submit",className:"absolute right-0 top-0 mr-4 mt-1 cursor-default",children:ae.jsx(PR,{color:"#2c2c2e"})})]}),Cw=({value:e,description:t,className:r,onClick:n})=>ae.jsxs("div",{className:"grid h-full w-full grid-cols-12 pb-1 pt-1",children:[t?ae.jsx("div",{className:"col-span-6 flex h-full w-full items-center justify-center font-bold text-white",children:t}):ae.jsx("div",{className:"col-span-0"}),ae.jsx("div",{className:`${t?"col-span-4":"col-span-8"} flex h-full w-full items-center justify-center rounded-l-lg bg-gray-600 font-bold text-white`,children:ae.jsx("h1",{children:e.toString()})}),ae.jsx("div",{className:"col-span-2 h-full w-full pr-1",children:ae.jsx("button",{className:"flex h-full w-full cursor-pointer items-center justify-center rounded-r-lg bg-gray-600",onClick:n,children:ae.jsx($R,{size:16,color:"white"})})})]}),vV=({value:e,onUpdate:t,inferiorLimit:r,superiorLimit:n=1e5})=>{const i=s=>{s.stopPropagation();const a=e<n?e+1:r;t(a)},o=s=>{s.stopPropagation();const a=e>r?e-1:n;t(a)};return ae.jsx(ae.Fragment,{children:ae.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[ae.jsx("div",{className:"col-span-0"}),ae.jsx("div",{className:"col-span-6 flex h-full w-full items-center justify-center rounded-l-lg bg-gray-600 font-bold text-white",children:ae.jsx("h1",{children:e.toString()})}),ae.jsxs("div",{className:"col-span-4 flex h-full w-full",children:[ae.jsx("button",{className:"justify-centers flex h-full w-full cursor-pointer items-center bg-gray-600",onClick:i,children:ae.jsx(SR,{size:18,color:"white"})}),ae.jsx("button",{className:"flex h-full w-full cursor-pointer items-center justify-center rounded-r-lg bg-gray-600",onClick:o,children:ae.jsx(_R,{size:18,color:"white"})})]})]})})},Tie=e=>{const t=Ce.useContext(bn),r=t.parsedTD,[n,i]=Ce.useState(0),[o,s]=Ce.useState(!0),[a,l]=Ce.useState({wordSwap:!1,byteSwap:!1}),u=(h,E,y)=>{r.properties&&(Object.entries(r.properties).forEach(([S,$])=>{$.forms&&$.forms.forEach(T=>{if(!T.href){alert(`Form href is empty on property: ${S}`);return}(e.isBaseModbus||T.href.startsWith("modbus://")||T.href.startsWith("modbus+tcp://"))&&(y==="endianness"?h==="wordSwap"?T["modbus:mostSignificantWord"]=E:h==="byteSwap"&&(T["modbus:mostSignificantByte"]=E):T[h]=E)})}),t.updateOfflineTD(JSON.stringify(r,null,2)))},f=h=>{i(h),u("modbus:unitID",h)},c=h=>{s(h),u("modbus:zeroBasedAddressing",h)},p=(h,E)=>{l(y=>({...y,[E]:h})),u(E,h,"endianness")},m=et.useMemo(()=>{const h={unitID:!0,zeroBasedAddressing:!0,mostSignificantWord:!0,mostSignificantByte:!0};if(!r.properties)return h;const E={},y={unitID:!1,zeroBasedAddressing:!1,mostSignificantWord:!1,mostSignificantByte:!1};for(const[S,$]of Object.entries(r.properties))if($.forms){for(const T of $.forms)if(T.href&&(e.isBaseModbus||T.href.startsWith("modbus://")||T.href.startsWith("modbus+tcp://"))){const d=T["modbus:unitID"];d!==void 0&&(y.unitID?d!==E.unitID&&(h.unitID=!1):(E.unitID=d,y.unitID=!0,n!==d&&i(d)));const A=T["modbus:zeroBasedAddressing"];A!==void 0&&(y.zeroBasedAddressing?A!==E.zeroBasedAddressing&&(h.zeroBasedAddressing=!1):(E.zeroBasedAddressing=A,y.zeroBasedAddressing=!0,o!==A&&s(A)));const x=T["modbus:mostSignificantWord"];x!==void 0&&(y.mostSignificantWord?x!==E.mostSignificantWord&&(h.mostSignificantWord=!1):(E.mostSignificantWord=x,y.mostSignificantWord=!0,a.wordSwap!==x&&l(D=>({...D,wordSwap:x}))));const O=T["modbus:mostSignificantByte"];O!==void 0&&(y.mostSignificantByte?O!==E.mostSignificantByte&&(h.mostSignificantByte=!1):(E.mostSignificantByte=O,y.mostSignificantByte=!0,a.byteSwap!==O&&l(D=>({...D,byteSwap:O}))))}}return h},[r.properties,e.isBaseModbus,n,o,a]),g=ae.jsx(ae.Fragment,{children:ae.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[ae.jsx("div",{className:"col-span-6 flex items-center justify-center rounded-l-md bg-blue-500",children:ae.jsx(Nl,{tooltip:DB(),id:"addressOffset",children:ae.jsx("h1",{className:"p-2 font-bold text-white",children:"Address Offset"})})}),ae.jsx("div",{className:"col-span-6 rounded-r-md bg-blue-500",children:ae.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[ae.jsx("div",{className:"col-span-12"}),ae.jsx("div",{className:"col-span-12",children:ae.jsx("div",{className:"grid h-full w-full grid-cols-12",children:ae.jsx("div",{id:"firstRow",className:"col-span-12 bg-blue-500",children:ae.jsx(Cw,{description:"",value:o,onClick:()=>c(!o)})})})}),ae.jsx("div",{className:"col-span-12"})]})})]})}),_=ae.jsx(ae.Fragment,{children:ae.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[ae.jsx("div",{className:"col-span-4 flex items-center justify-center rounded-l-md bg-blue-500",children:ae.jsx(Nl,{tooltip:MB(),id:"endianness",children:ae.jsx("h1",{className:"p-2 font-bold text-white",children:"Endianness"})})}),ae.jsx("div",{className:"col-span-8 rounded-r-md",children:ae.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[ae.jsx("div",{id:"firstRow",className:"col-span-12 rounded-tr-md bg-blue-500",children:ae.jsx(Cw,{description:"wordswap",value:a.wordSwap,onClick:()=>p(!a.wordSwap,"wordSwap")})}),ae.jsx("div",{id:"secondRow",className:"col-span-12 rounded-br-md bg-blue-500",children:ae.jsx(Cw,{description:"byteswap",value:a.byteSwap,onClick:()=>p(!a.byteSwap,"byteSwap")})})]})})]})}),v=ae.jsx(ae.Fragment,{children:ae.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[ae.jsx("div",{className:"col-span-6 flex items-center justify-center rounded-l-md bg-blue-500",children:ae.jsx(Nl,{tooltip:jB(),id:"unitId",children:ae.jsx("h1",{className:"p-2 font-bold text-white",children:"Unit ID"})})}),ae.jsx("div",{className:"col-span-6 rounded-r-md bg-blue-500",children:ae.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[ae.jsx("div",{className:"col-span-12"}),ae.jsx("div",{className:"col-span-12",children:ae.jsx("div",{className:"grid h-full w-full grid-cols-12",children:ae.jsx("div",{id:"firstRow",className:"col-span-12 bg-blue-500",children:ae.jsx(vV,{value:n,onUpdate:f,inferiorLimit:0,superiorLimit:255})})})}),ae.jsx("div",{className:"col-span-12"})]})})]})});return ae.jsx(ae.Fragment,{children:ae.jsxs("div",{className:"grid grid-cols-12 gap-1 rounded-t-md bg-gray-600 px-2",children:[ae.jsx("div",{className:"col-span-12 rounded-md bg-gray-600 px-2",children:e.isBaseModbus?ae.jsx("h1",{className:"py-1 text-xl text-white",children:"Group Controls"}):ae.jsx("div",{})}),ae.jsx("div",{id:"unitId",className:`col-span-4 px-2 ${m.unitID?"h-16":"h-full"}`,children:m.unitID?v:ae.jsx(ae.Fragment,{children:ae.jsxs("div",{className:"flex h-full flex-col",children:[ae.jsx("div",{className:"flex-grow",children:v}),ae.jsx("div",{className:"rounded-md p-1 text-center",children:ae.jsx("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:"Different unit id is detected on different affordances. Clicking + or - will set all to the same value"})})]})})}),ae.jsx("div",{id:"addressOffset",className:`col-span-4 px-2 ${m.zeroBasedAddressing?"h-16":"h-full"}`,children:m.zeroBasedAddressing?g:ae.jsx(ae.Fragment,{children:ae.jsxs("div",{className:"flex h-full flex-col",children:[ae.jsx("div",{className:"flex-grow",children:g}),ae.jsx("div",{className:"rounded-md p-1 text-center",children:ae.jsx("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:"Different address offset is detected on different affordances. Clicking to swap and set all to the same value"})})]})})}),ae.jsx("div",{id:"endianness",className:`col-span-4 px-2 ${m.mostSignificantByte&&m.mostSignificantWord?"h-16":"h-full"}`,children:m.mostSignificantByte&&m.mostSignificantWord?_:ae.jsxs(ae.Fragment,{children:[ae.jsx("div",{className:"col-span-12",children:_}),ae.jsx("div",{className:"col-span-12 p-1",children:ae.jsx("div",{className:"rounded-md text-center",children:ae.jsxs("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:["Different endianness (",[!m.mostSignificantWord&&"wordSwap",!m.mostSignificantByte&&"byteSwap"].filter(Boolean).join(" and "),") is detected on different affordances. Clicking to swap and set all to the same value"]})})})]})})]})})},Aie=({items:e,page:t=1,itemsPerPage:r=10,filter:n=()=>!0,onItemsChange:i,children:o})=>{const[s,a]=Ce.useState(t),l=Ce.useMemo(()=>e.filter(n),[e,n]),u=Ce.useMemo(()=>{const g=(s-1)*r;return l.slice(g,g+r)},[l,s,r]),f=Ce.useMemo(()=>Math.ceil(l.length/r),[l,r]),c=s===1,p=s===f,m=g=>{g<1||g>f||a(g)};return Ce.useEffect(()=>{i&&i(u)},[u,i]),Ce.useEffect(()=>{s>f&&a(1)},[l,f,s]),ae.jsxs("div",{children:[o({items:u}),l.length>r&&ae.jsxs("div",{className:"mt-4 flex w-full items-center justify-end gap-3 text-white",children:[ae.jsx("button",{className:"cursor-pointer rounded bg-blue-500",disabled:c,onClick:()=>m(s-1),children:ae.jsx("span",{className:"px-2 font-bold text-white",children:"<"})}),Array.from({length:f},(g,_)=>_+1).map(g=>ae.jsx("div",{className:`cursor-pointer text-lg ${s===g?"text-coral font-black":""}`,onClick:()=>m(g),children:g},g)),ae.jsx("button",{className:"cursor-pointer rounded bg-blue-500",disabled:p,onClick:()=>m(s+1),children:ae.jsx("span",{className:"px-2 font-bold text-white",children:">"})})]})]})},jw=e=>{const t=e.split(" - ");return parseInt(t[1],10)},xie=(e,t)=>{let r=t+1;return t===0?e:e+` (form ${String(r)})`},Oie=e=>(e.startsWith("modbus:")&&(e=e.replace("modbus:","")),e.startsWith("propName")&&(e="Property Name"),e.startsWith("href")&&(e="Resource"),e.startsWith("htv:methodName")&&(e="Method"),e=e.replace(/([a-z])([A-Z])/g,"$1 $2"),e.charAt(0).toUpperCase()+e.slice(1)),Pie=({contrast:e=!1,filter:t="",headers:r,items:n,itemsPerPage:i=6,orderBy:o="",order:s="asc",onRowClick:a,onCellClick:l,onSendRequestClick:u,className:f="",renderItem:c,placeholder:p})=>{Ce.useMemo(()=>{switch(Math.floor(100/r.length)){case 25:return"w-1/4";case 33:return"w-1/3";case 50:return"w-1/2";default:return"grow"}},[r.length]);const m=Ce.useMemo(()=>{const S=typeof t=="function"?t:($=>T=>!($!=null&&$.trim())||Object.values(T).some(d=>String(d).toLowerCase().indexOf(($||"").toLowerCase())>=0))(t);return n.filter(S)},[n,t]),g=Ce.useMemo(()=>{if(!o)return m;const y=s==="asc"?[1,-1]:[-1,1];return[...m].sort((S,$)=>S[o]>$[o]?y[0]:S[o]<$[o]?y[1]:0)},[m,o,s]),[_,v]=Ce.useState({});Ce.useEffect(()=>{const y=n.reduce((S,$)=>($.id&&(S[$.id]={value:"",error:""}),S),{});v(y)},[n]);const h=(y,S,$,T)=>ae.jsx("select",{value:y,onChange:d=>l==null?void 0:l(T,$,d.target.value),className:"h-full w-full rounded bg-gray-600 px-2 py-1",children:S.map(d=>ae.jsx("option",{value:d,children:d},d))}),E=(y,S)=>{var T,d,A,x,O,D,F;if(c)return c(y,S);const $=y[S];switch(S){case"previewValue":return y.href.startsWith("http")||y.href.startsWith("https")||y.href.startsWith("ws")||y.href.startsWith("wss")?ae.jsxs("div",{className:`flex h-full w-full items-center justify-center ${(T=_[y.id])!=null&&T.error?"bg-red-500 text-white":""} ${(d=_[y.id])!=null&&d.value?"bg-formGreen text-black":""} `,onClick:async()=>{if(u){const V=await u(y);v(Q=>({...Q,[y.id]:V}))}},children:[((A=_[y.id])==null?void 0:A.error)&&ae.jsxs("div",{className:"flex items-center justify-center",children:[ae.jsx("h1",{className:"px-2",children:"Error"}),ae.jsx(Uc,{id:"info",html:`Error description: ${_[y.id].error}`,color:"white",IconComponent:cR})]}),!((x=_[y.id])!=null&&x.error)&&!((O=_[y.id])!=null&&O.value)&&ae.jsx(Uc,{id:"check",html:"Click to send request",IconComponent:dR,size:20}),!((D=_[y.id])!=null&&D.error)&&((F=_[y.id])==null?void 0:F.value)&&ae.jsxs("div",{className:"flex h-full w-full items-center justify-center",children:[ae.jsx("h1",{className:"px-2",children:_[y.id].value}),ae.jsx(Uc,{id:"checkCircle",html:"Successful read property in the device",IconComponent:fR,size:20})]})]}):ae.jsxs("div",{className:"flex h-full w-full items-center justify-center",children:[ae.jsx("h1",{className:"px-2",children:"Unable"}),ae.jsx(Uc,{id:"xCircle",html:"Unable to perform non HTTP or WebSocket operations",IconComponent:IR,size:20})]});case"propName":return ae.jsxs("div",{className:"flex h-full w-full items-center justify-center px-1",onClick:()=>a==null?void 0:a(y,"viewProperty"),children:[ae.jsx("div",{className:"h-full w-full items-center justify-center",children:xie(y.propName,jw(y.id))}),ae.jsx("div",{className:"items-center justify-center px-1",children:ae.jsx(Uc,{id:"info",html:`Property description: ${y.description}`,IconComponent:vg})})]});case"editForm":return ae.jsx("div",{className:"flex h-full w-full items-center justify-center px-2",onClick:()=>a==null?void 0:a(y,"viewPropertyElementForm"),children:ae.jsx(Uc,{id:"edit",html:"Click to preview property",IconComponent:gR,size:20})});case"modbus:entity":return h($,["coil","discreteinput","holdingregister","inputregister"],S,y);case"modbus:function":return h($,["readCoil","readDeviceIdentification","readDiscreteInput","readHoldingRegisters","readInputRegisters","writeMultipleCoils","writeMultipleHoldingRegisters","writeSingleCoil","writeSingleHoldingRegister"],S,y);case"modbus:type":return h($,["integer","boolean","string","float","decimal","byte","short","int","long","unsignedByte","unsignedShort","unsignedInt","unsignedLong","double","hexBinary"],S,y)}return $==null?"-":typeof $=="boolean"?ae.jsx(Cw,{onClick:V=>{V.stopPropagation(),l==null||l(y,S,!$)},value:$,description:"",className:""}):typeof $=="string"?ae.jsxs("div",{className:"group relative",children:[ae.jsx("input",{type:"text",value:$,onChange:V=>l==null?void 0:l(y,S,V.target.value),onBlur:V=>l==null?void 0:l(y,S,V.target.value),className:"w-full truncate border-none bg-gray-600 px-2 py-1 text-center text-sm font-bold text-white focus:outline-none focus:ring-2 focus:ring-blue-500",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:$.length>10?$:void 0}),ae.jsx("div",{className:"absolute left-0 top-full mt-1 hidden w-max max-w-xs rounded bg-gray-700 px-2 py-1 text-sm text-white shadow-lg group-hover:block",children:$})]}):typeof $=="number"?ae.jsx(vV,{value:$,onUpdate:V=>{l==null||l(y,S,V)},inferiorLimit:0}):$};return ae.jsx(Aie,{items:g,itemsPerPage:i,children:({items:y})=>ae.jsxs("div",{className:`w-full ${f}`,children:[ae.jsx("div",{className:"flex",children:r.map((S,$)=>ae.jsx("div",{className:`text-elevation-0-1 my-2.5 flex h-auto items-center text-center text-sm font-bold text-white ${$===0?"justify-start pl-5":$===r.length-1?"justify-end pr-5":"justify-center"} `,style:{width:`${100/r.length}%`,wordWrap:"break-word",wordBreak:"break-word",whiteSpace:"normal"},children:ae.jsx("div",{children:S.text})},`header-${S.key}`))}),y.length>0?y.map((S,$)=>ae.jsx("div",{className:"hover:bg-elevation-1-hover my-2 flex rounded border border-transparent text-white transition-all",children:r.map((T,d)=>ae.jsx("div",{className:`flex h-full items-center overflow-hidden text-ellipsis rounded border border-transparent ${d>0&&d<r.length-1?"justify-center":""} ${d===r.length-1?"justify-end rounded-r":""} ${S.status==="info"&&d===0?"border-l-info":""} ${S.status==="error"&&d===0?"border-l-definitive":""} bg-elevation-1-hover cursor-pointer hover:border-white`,style:{width:`${100/r.length}%`},children:E(S,T.key)},`cell-${$}-${T.key}`))},`row-${S.id||$}`)):ae.jsx("div",{className:`flex items-end justify-center py-6 ${e?"bg-elevation-1-hover":"bg-elevation-1"} `,children:p||ae.jsx("div",{className:"text-elevation-0-1 text-sm font-bold",children:"No entries"})})]})})},Dv="asc",Rie="desc",t1=e=>{var Q,H;const t=Ce.useContext(bn),r=t.isValidJSON?JSON.parse(t.offlineTD):{},[n,i]=Ce.useState(""),[o,s]=Ce.useState(Dv),a=et.useRef(null),[l,u]=Ce.useState("list"),[f,c]=Ce.useState(!1),[p,m]=Ce.useState({editorState:"",propName:"",formsIndex:0,state:"viewProperty",title:"Edit Property"}),g=e.interaction.toLowerCase(),_=X=>i(X.target.value),v=!!((Q=r.base)!=null&&Q.includes("modbus://"))||!!((H=r.base)!=null&&H.includes("modbus+tcp")),h=X=>{if(!X.properties||Object.keys(X.properties).length===0)return!1;const fe=Z=>Z.href?Z.href.includes("modbus://")||Z.href.includes("modbus+tcp://"):!1;return v||Object.values(X.properties).some(Z=>{var ne;return(ne=Z.forms)==null?void 0:ne.some(C=>fe(C))})},E=()=>{if(!r[g])return{};const X={};return Object.keys(r[g]).filter(fe=>fe.toLowerCase().indexOf(n.toLowerCase())>-1).forEach(fe=>{X[fe]=r[g][fe]}),X},y=X=>{if(!r[X])return;const fe={},Z=Object.keys(r[X]).map(ne=>({key:ne,title:r[X][ne].title}));o===Dv?(Z.sort((ne,C)=>{const B=ne.title?ne.title:ne.key,K=C.title?C.title:C.key;return B.localeCompare(K)}).forEach(function(ne){fe[ne.key]=r[X][ne.key]}),s(Rie)):(Z.sort((ne,C)=>{const B=ne.title?ne.title:ne.key,K=C.title?C.title:C.key;return B.localeCompare(K)}).reverse().forEach(function(ne){fe[ne.key]=r[X][ne.key]}),s(Dv)),r[X]=fe,t.updateOfflineTD(JSON.stringify(r,null,2))},S=()=>o===Dv?ae.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:ae.jsx("path",{d:"M11 5h10M11 9h7M11 13h4M3 17l3 3 3-3M6 18V4"})}):ae.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:ae.jsx("path",{d:"M11 5h4M11 9h7M11 13h10M3 17l3 3 3-3M6 18V4"})}),$=async X=>{const fe=jw(X.id);try{const Z=await gV(r,X.propName,{formIndex:fe});return Z.err?{value:"",error:Z.err.message}:{value:Z.result,error:""}}catch(Z){return{value:"",error:Z.message}}},T=(X,fe,Z)=>{const ne=jw(X.id);try{r[g][X.propName].forms[ne][fe]=Z}catch(C){console.error(C)}t.updateOfflineTD(JSON.stringify(r,null,2))},d=(X,fe)=>{const Z=jw(X.id);let ne;if(fe==="viewPropertyElementForm")ne=r[g][X.propName].forms[Z];else try{ne={[X.propName]:r[g][X.propName]}}catch(C){console.error(C)}m({editorState:JSON.stringify(ne,null,2),propName:X.propName,formsIndex:Z,state:fe,title:fe==="viewProperty"?p.title:`Edit form number ${Z+1} of property ${X.propName}`}),c(!0)},A=()=>{m({editorState:"",propName:"",formsIndex:0,state:"viewProperty",title:"Edit Property"}),c(!1)},x=()=>{let X=JSON.parse(p.editorState);p.state==="viewProperty"?r[g][p.propName]=X[p.propName]:r[g][p.propName].forms[p.formsIndex]=X,t.updateOfflineTD(JSON.stringify(r,null,2)),c(!1),m({editorState:"",propName:"",formsIndex:0,state:"viewProperty",title:"Edit Property"})},O=()=>{const X=E();if(r.properties&&g==="properties"){if(l==="list")return Object.keys(X).map((B,K)=>ae.jsx(Sie,{prop:X[B],propName:B},K));const fe=Object.keys(X).length?["id","description","propName","editForm","previewValue",...new Set(Object.keys(X).flatMap(B=>(X[B].forms||[]).flatMap(P=>Object.keys(P))))].map(B=>({key:B,text:Oie(B)})):[];let ne=Object.keys(X).flatMap(B=>(X[B].forms||[]).map((P,I)=>({id:`${B} - ${I}`,description:X[B].description??"",propName:B,...P}))).filter(B=>Array.isArray(B.op)?B.op.includes("readproperty"):B.op==="readproperty"),C=fe.filter(B=>B.key!=="op").filter(B=>B.key!=="id").filter(B=>B.key!=="description");return v&&(C=C.filter(B=>B.key!=="href")),ae.jsx(Pie,{headers:C,items:ne,itemsPerPage:10,orderBy:"",order:"asc",onCellClick:T,onRowClick:d,onSendRequestClick:$})}if(r.actions&&g==="actions")return Object.keys(X).map((fe,Z)=>ae.jsx(wie,{action:X[fe],actionName:fe},Z));if(r.events&&g==="events")return Object.keys(X).map((fe,Z)=>ae.jsx(_ie,{event:X[fe],eventName:fe},Z))},D=()=>{a.current&&a.current.openModal()};let F;switch(g){case"properties":F=ae.jsx(vie,{ref:a});break;case"actions":F=ae.jsx(pie,{ref:a});break;case"events":F=ae.jsx(mie,{ref:a});break}const V=O();return ae.jsxs(ae.Fragment,{children:[ae.jsxs("div",{className:"flex items-end justify-start pb-4 pt-8",children:[ae.jsxs("div",{className:"flex flex-grow",children:[ae.jsx(Nl,{tooltip:nZ[g],id:g,children:ae.jsx("h2",{className:"flex-grow pr-1 text-2xl text-white",children:e.interaction})}),ae.jsxs("div",{children:[g==="properties"&&ae.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white hover:bg-blue-600",onClick:()=>u("list"),children:"List"}),g==="properties"&&ae.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white hover:bg-blue-600",style:{marginLeft:"10px"},onClick:()=>u("table"),children:"Table"})]})]}),ae.jsx($ie,{onKeyUp:X=>_(X),placeholder:`Search ${e.interaction}`,ariaLabel:`Search through all ${e.interaction}`}),ae.jsx("div",{className:"w-2"}),ae.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-white hover:bg-blue-600",onClick:()=>y(g),children:S()}),ae.jsx("div",{className:"w-2"}),ae.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white hover:bg-blue-600",onClick:D,children:"Add"}),F]}),g==="properties"&&h(r)&&ae.jsx(Tie,{isBaseModbus:h(r)}),V&&ae.jsx("div",{className:"rounded-lg bg-gray-600 px-4 pb-4 pt-4",children:V||ae.jsx("div",{className:"px-6"})}),f&&ae.jsx(el,{title:p.title,description:"Modify the content using this editor",onCancel:A,onSubmit:x,submitText:"Save",children:ae.jsx(hB,{height:"400px",defaultLanguage:"json",value:p.editorState,onChange:X=>m({...p,editorState:X||""}),options:{minimap:{enabled:!1},fontSize:14},theme:"vs-dark"})})]})};function Nie(e){return e===null?!1:typeof e=="function"||typeof e=="object"}const yV=e=>{const t=Ce.useContext(bn),[r,n]=Ce.useState(new Array(Object.entries(e).length)),i=Ce.useCallback(o=>{let s=r,a=r[o];s[o]=a===null?!0:!a,n([...s])},[r,n]);return ae.jsx(ae.Fragment,{children:Object.entries(e).map(([o,s],a)=>{if(Nie(s)){let u=ae.jsx("button",{className:"flex align-top",onClick:()=>i(a),children:ae.jsxs("div",{className:"flex rounded-md bg-gray-600 px-2 py-1 align-middle font-bold text-white",children:[ae.jsx("h4",{children:o}),r[a]===!0?ae.jsx(hf,{className:"pl-1"}):ae.jsx(hR,{className:"pl-1"})]})}),f=ae.jsxs("div",{className:"flex",children:[ae.jsx("div",{className:"my-1 ml-2 flex w-1 rounded-lg bg-gray-400"}),ae.jsx("div",{className:"mt-1 pl-8",children:r[a]===!0&&(Object.entries(s)??[]).map(([c,p],m)=>{let g={};return g[c]=p,Ce.createElement(yV,{...g,key:m})})})]});return ae.jsxs("div",{className:"mb-1",children:[u,r[a]===!0&&f]},a)}const l=X$(e,o,t.linkedTd[Object.keys(t.linkedTd)[0]]["@context"]);return ae.jsxs("div",{className:"mb-1 flex",children:[ae.jsx("h4",{className:"rounded-md bg-gray-600 px-2 py-1 font-bold text-white",children:o}),ae.jsx("div",{className:"px-2 py-1 text-gray-400",children:l})]},a)})})};var wV={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zD=et.createContext&&et.createContext(wV),Iie=["attr","size","title"];function kie(e,t){if(e==null)return{};var r=Cie(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gb.apply(this,arguments)}function qD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(r),!0).forEach(function(n){jie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jie(e,t,r){return t=Die(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Die(e){var t=Mie(e,"string");return typeof t=="symbol"?t:t+""}function Mie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bV(e){return e&&e.map((t,r)=>et.createElement(t.tag,Kb({key:r},t.attr),bV(t.child)))}function _V(e){return t=>et.createElement(Lie,Gb({attr:Kb({},e.attr)},t),bV(e.child))}function Lie(e){var t=r=>{var{attr:n,size:i,title:o}=e,s=kie(e,Iie),a=i||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),et.createElement("svg",Gb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:l,style:Kb(Kb({color:e.color||r.color},r.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&et.createElement("title",null,o),e.children)};return zD!==void 0?et.createElement(zD.Consumer,null,r=>t(r)):t(wV)}function VD(e){return _V({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"},child:[]}]})(e)}function HD(e){return _V({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 2l-7.5 7.5-3.5-3.5-2.5 2.5 6 6 10-10z"},child:[]}]})(e)}const Fie=({onUndo:e,onRedo:t})=>{const r=Ce.useContext(bn),[n,i]=Ce.useState(void 0),[o,s]=Ce.useState(void 0),[a,l]=Ce.useState(void 0),[u,f]=Ce.useState(void 0);return Ce.useEffect(()=>{const c=r.validationMessage;if(c){if(c.report&&(i(c.report.json),l(c.report.schema)),!c.validationErrors){s(void 0),f(void 0);return}c.validationErrors&&(s(c.validationErrors.json),f(c.validationErrors.schema),console.debug("JSON validation error",c.validationErrors.json),console.debug("JSON Schema validation error",c.validationErrors.schema))}},[r,o,u]),ae.jsxs(ae.Fragment,{children:[ae.jsxs("div",{className:"col-span-4 mb-4 flex justify-end gap-2",children:[ae.jsxs("button",{className:"flex h-8 w-40 items-center justify-center rounded-md bg-blue-500 px-3 py-1 text-white hover:bg-blue-600",onClick:e,children:[ae.jsx(AR,{size:16,strokeWidth:3,className:"mr-2"}),ae.jsx("span",{className:"font-bold",children:"Undo"})]}),ae.jsxs("button",{className:"flex h-8 w-40 items-center justify-center rounded-md bg-blue-500 px-3 py-1 text-white hover:bg-blue-600",onClick:t,children:[ae.jsx("span",{className:"mr-2 font-bold",children:"Redo"}),ae.jsx(xR,{size:16,strokeWidth:3})]})]}),ae.jsxs("div",{className:"mb-4 w-full rounded-md bg-gray-600 p-4 text-white",children:[ae.jsxs("div",{className:"flex items-center",children:[ae.jsx("h2",{className:"mr-2",children:"JSON Validation"}),n==="passed"&&ae.jsx(HD,{}),n==="failed"&&ae.jsx(VD,{})]}),o&&ae.jsxs("div",{className:"bg-formRed border-formRed mb-4 mt-2 flex min-h-[2.5rem] w-full rounded-md border-2 bg-opacity-75 px-4",children:[ae.jsx("div",{className:"flex h-6 w-16 justify-center self-center rounded-md bg-white",children:ae.jsx("div",{className:"text-formRed place-self-center px-4 text-center text-xs",children:"Error"})}),ae.jsx("div",{className:"place-self-center overflow-hidden pl-3 text-base",children:o})]}),ae.jsxs("div",{className:"flex items-center",children:[ae.jsx("h2",{className:"mr-2",children:"JSON Schema Validation "}),a==="passed"&&ae.jsx(HD,{}),a==="failed"&&ae.jsx(VD,{})]}),u&&ae.jsxs("div",{className:"bg-formRed border-formRed mt-2 flex min-h-[2.5rem] w-full rounded-md border-2 bg-opacity-75 px-4",children:[ae.jsx("div",{className:"flex h-6 w-16 justify-center self-center rounded-md bg-white",children:ae.jsx("div",{className:"text-formRed place-self-center px-4 text-center text-xs",children:"Error"})}),ae.jsx("div",{className:"place-self-center overflow-hidden pl-3 text-base",children:u})]})]})]})},yl={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},Bie=Object.keys(yl).map(e=>yl[e]).join(""),r1="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",Uie=/\s/g,WD=new RegExp(`^(${r1}\\*)?([${Bie}])(/${r1})?([-+]{1,2}${r1})?$`,"g");function EV(e){throw new Error(`Invalid calc() expression: ${e}`)}function zie(e,t){const r=WD.exec(e.replace(Uie,""));r||EV(e),WD.lastIndex=0;const[,n,i,o,s]=r,{x:a,y:l,width:u,height:f}=t;let c=0;switch(i){case yl.width:{c=u;break}case yl.height:{c=f;break}case yl.x:{c=a;break}case yl.y:{c=l;break}case yl.minimum:{c=Math.min(f,u);break}case yl.maximum:{c=Math.max(f,u);break}case yl.diagonal:{c=Math.sqrt(f*f+u*u);break}}return n&&(c*=parseFloat(n)),o&&(c/=parseFloat(o.slice(1))),s&&(c+=qie(s)),c}function qie(e){if(!e)return 0;const[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}function Ss(e){return typeof e=="string"&&e.includes("calc")}const SV="calc(",GD=SV.length;function $s(e,t){let r=e,n=0;do{let i=r.indexOf(SV,n);if(i===-1)return r;let o=i+GD,s=1;e:do{switch(r[o]){case"(":{s++;break}case")":{if(s--,s===0)break e;break}case void 0:EV(r)}o++}while(!0);let a=r.slice(i+GD,o);Ss(a)&&(a=$s(a,t));const l=String(zie(a,t));r=r.slice(0,i)+l+r.slice(o+1),n=i+l.length}while(!0)}const{round:Vie,floor:Hie,PI:$V}=Math,Wie={linear:function(e,t,r){var n=e[1]-e[0],i=t[1]-t[0];return(r-e[0])/n*i+t[0]||0}},fa=function(e){return e%360+(e<0?360:0)},Pf=function(e,t){return t*Vie(e/t)},pE=function(e){return 180*e/$V%360},xo=function(e,t){return t=t||!1,e=t?e:e%360,e*$V/180},mO=function(e,t){if(t===void 0)t=e===void 0?1:e,e=0;else if(t<e){const r=e;e=t,t=r}return Hie(Math.random()*(t-e+1)+e)},{cos:Mv,sin:n1,atan2:Gie}=Math,TV=function(e,t){var r=xo(e.y),n=xo(t.y),i=e.x,o=t.x,s=xo(o-i),a=n1(s)*Mv(n),l=Mv(r)*n1(n)-n1(r)*Mv(n)*Mv(s),u=pE(Gie(a,l)),f=["NE","E","SE","S","SW","W","NW","N"],c=u-22.5;return c<0&&(c+=360),c=parseInt(c/45),f[c]},EN=function(e,t){var r=e.x,n=e.y,i=t.x,o=t.y;return(r-=i)*r+(n-=o)*n},AV=function(e,t){return Math.sqrt(EN(e,t))},or={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:Jb,cos:gO,sin:vO,sqrt:KD,min:JD,max:YD,atan2:Kie,round:XD,pow:Jie,PI:QD}=Math,ze=function(e,t){if(!(this instanceof ze))return new ze(e,t);if(typeof e=="string"){var r=e.split(e.indexOf("@")===-1?" ":"@");e=parseFloat(r[0]),t=parseFloat(r[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=e===void 0?0:e,this.y=t===void 0?0:t};ze.fromPolar=function(e,t,r){r=new ze(r);var n=Jb(e*gO(t)),i=Jb(e*vO(t)),o=fa(pE(t));return o<90?i=-i:o<180?(n=-n,i=-i):o<270&&(n=-n),new ze(r.x+n,r.y+i)};ze.random=function(e,t,r,n){return new ze(mO(e,t),mO(r,n))};ze.prototype={type:or.Point,chooseClosest:function(e){var t=e.length;if(t===1)return new ze(e[0]);for(var r=null,n=1/0,i=0;i<t;i++){var o=new ze(e[i]),s=this.squaredDistance(o);s<n&&(r=o,n=s)}return r},adhereToRect:function(e){return e.containsPoint(this)?this:(this.x=JD(YD(this.x,e.x),e.x+e.width),this.y=JD(YD(this.y,e.y),e.y+e.height),this)},angleBetween:function(e,t){var r=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return r<0&&(r+=360),r},bearing:function(e){return TV(this,e)},changeInAngle:function(e,t,r){return this.clone().offset(-e,-t).theta(r)-this.theta(r)},clone:function(){return new ze(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new ze(this.x-(e||0),this.y-(t||0))},distance:function(e){return AV(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){var r=this.x,n=this.y;return new ze((1-t)*r+t*e.x,(1-t)*n+t*e.y)},magnitude:function(){return KD(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return Jb(e.x-this.x)+Jb(e.y-this.y)},move:function(e,t){var r=xo(new ze(e).theta(this)),n=this.offset(gO(r)*t,-vO(r)*t);return n},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new ze(e).move(this,this.distance(e))},rotate:function(e,t){if(t===0)return this;e=e||new ze(0,0),t=xo(fa(-t));var r=gO(t),n=vO(t),i=r*(this.x-e.x)-n*(this.y-e.y)+e.x,o=n*(this.x-e.x)+r*(this.y-e.y)+e.y;return this.x=i,this.y=o,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Jie(10,e);break}return this.x=XD(this.x*t)/t,this.y=XD(this.y*t)/t,this},scale:function(e,t,r){return r=r&&new ze(r)||new ze(0,0),this.x=r.x+e*(this.x-r.x),this.y=r.y+t*(this.y-r.y),this},snapToGrid:function(e,t){return this.x=Pf(this.x,e),this.y=Pf(this.y,t||e),this},squaredDistance:function(e){return EN(this,e)},theta:function(e){e=new ze(e);var t=-(e.y-this.y),r=e.x-this.x,n=Kie(t,r);return n<0&&(n=2*QD+n),180*n/QD},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new ze(e)||new ze(0,0);var t=this.x,r=this.y;return this.x=KD((t-e.x)*(t-e.x)+(r-e.y)*(r-e.y)),this.y=xo(e.theta(new ze(t,r))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){var t=new ze(0,0);return t.angleBetween(this,e)}};ze.prototype.translate=ze.prototype.offset;const Yb=ze,{max:i1,min:o1}=Math,Nt=function(e,t){if(!(this instanceof Nt))return new Nt(e,t);if(e instanceof Nt)return new Nt(e.start,e.end);this.start=new ze(e),this.end=new ze(t)};Nt.prototype={type:or.Line,angle:function(){var e=new ze(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=o1(this.start.x,this.end.x),t=o1(this.start.y,this.end.y),r=i1(this.start.x,this.end.x),n=i1(this.start.y,this.end.y);return new Ot(e,t,r-e,n-t)},bearing:function(){return TV(this.start,this.end)},clone:function(){return new Nt(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new Nt(this.start,e).vector()),r=o1(1,i1(0,t/this.squaredLength()));return r!==r?0:r},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,r=this.end;if(t.cross(e,r)!==0)return!1;var n=this.length();return!(new Nt(t,e).length()>n||new Nt(e,r).length()>n)},divideAt:function(e){var t=this.pointAt(e);return[new Nt(this.start,t),new Nt(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new Nt(this.start,t),new Nt(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var r=e.intersectionWithLine(this,t);return r&&e instanceof Nt&&(r=r[0]),r}return null},intersectionWithLine:function(e){var t=new ze(this.end.x-this.start.x,this.end.y-this.start.y),r=new ze(e.end.x-e.start.x,e.end.y-e.start.y),n=t.x*r.y-t.y*r.x,i=new ze(e.start.x-this.start.x,e.start.y-this.start.y),o=i.x*r.y-i.y*r.x,s=i.x*t.y-i.y*t.x;if(n===0||o*n<0||s*n<0)return null;if(n>0){if(o>n||s>n)return null}else if(o<n||s<n)return null;return[new ze(this.start.x+o*t.x/n,this.start.y+o*t.y/n)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return AV(this.start,this.end)},midpoint:function(){return new ze((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){const t=this.clone();if(!this.isDifferentiable())return t;const{start:r,end:n}=t,i=r.clone().rotate(n,270),o=n.clone().rotate(r,90);return r.move(o,e),n.move(i,e),t},pointAt:function(e){var t=this.start,r=this.end;return e<=0?t.clone():e>=1?r.clone():t.lerp(r,e)},pointAtLength:function(e){var t=this.start,r=this.end,n=!0;e<0&&(n=!1,e=-e);var i=this.length();return e>=i?n?r.clone():t.clone():this.pointAt((n?e:i-e)/i)},pointOffset:function(e){e=new ze(e);var t=this.start,r=this.end,n=(r.x-t.x)*(e.y-t.y)-(r.y-t.y)*(e.x-t.x);return n/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.end.scale(e,t,r),this},setLength:function(e){var t=this.length();if(!t)return this;var r=e/t;return this.scale(r,r,this.start)},squaredLength:function(){return EN(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,n=this.pointAt(e),i=new Nt(t,r);return i.translate(n.x-t.x,n.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,n=this.pointAtLength(e),i=new Nt(t,r);return i.translate(n.x-t.x,n.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new ze(this.end.x-this.start.x,this.end.y-this.start.y)}};Nt.prototype.intersection=Nt.prototype.intersect;const yf=Nt,{sqrt:ZD,round:Lv,pow:Yie}=Math,eo=function(e,t,r){if(!(this instanceof eo))return new eo(e,t,r);if(e instanceof eo)return new eo(new ze(e.x,e.y),e.a,e.b);e=new ze(e),this.x=e.x,this.y=e.y,this.a=t,this.b=r};eo.fromRect=function(e){return e=new Ot(e),new eo(e.center(),e.width/2,e.height/2)};eo.prototype={type:or.Ellipse,bbox:function(){return new Ot(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new ze(this.x,this.y)},clone:function(){return new eo(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],r=e.start,n=e.end,i=this.a,o=this.b,s=e.vector(),a=r.difference(new ze(this)),l=new ze(s.x/(i*i),s.y/(o*o)),u=new ze(a.x/(i*i),a.y/(o*o)),f=s.dot(l),c=s.dot(u),p=a.dot(u)-1,m=c*c-f*p;if(m<0)return null;if(m>0){var g=ZD(m),_=(-c-g)/f,v=(-c+g)/f;if((_<0||1<_)&&(v<0||1<v))return null;0<=_&&_<=1&&t.push(r.lerp(n,_)),0<=v&&v<=1&&t.push(r.lerp(n,v))}else{var h=-c/f;if(0<=h&&h<=1)t.push(r.lerp(n,h));else return null}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new ze(e),t&&e.rotate(new ze(this.x,this.y),t);var r=e.x-this.x,n=e.y-this.y,i;if(r===0)return i=this.bbox().pointNearestToPoint(e),t?i.rotate(new ze(this.x,this.y),-t):i;var o=n/r,s=o*o,a=this.a*this.a,l=this.b*this.b,u=ZD(1/(1/a+s/l));u=r<0?-u:u;var f=o*u;return i=new ze(this.x+u,this.y+f),t?i.rotate(new ze(this.x,this.y),-t):i},normalizedDistance:function(e){var t=e.x,r=e.y,n=this.a,i=this.b,o=this.x,s=this.y;return(t-o)*(t-o)/(n*n)+(r-s)*(r-s)/(i*i)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Yie(10,e);break}return this.x=Lv(this.x*t)/t,this.y=Lv(this.y*t)/t,this.a=Lv(this.a*t)/t,this.b=Lv(this.b*t)/t,this},tangentTheta:function(e){var t=30,r=e.x,n=e.y,i=this.a,o=this.b,s=this.bbox().center(),a=s.x,l=s.y,u=r>s.x+i/2,f=r<s.x-i/2,c,p;return u||f?(c=r>s.x?n-t:n+t,p=i*i/(r-a)-i*i*(n-l)*(c-l)/(o*o*(r-a))+a):(p=n>s.y?r+t:r-t,c=o*o/(n-l)-o*o*(r-a)*(p-a)/(i*i*(n-l))+l),new ze(p,c).theta(e)},toString:function(){return new ze(this.x,this.y).toString()+" "+this.a+" "+this.b}};const Xie=eo,{abs:eM,cos:Qie,sin:Zie,min:vp,max:tM,round:Fv,pow:eoe}=Math,Ot=function(e,t,r,n){if(!(this instanceof Ot))return new Ot(e,t,r,n);Object(e)===e&&(t=e.y,r=e.width,n=e.height,e=e.x),this.x=e===void 0?0:e,this.y=t===void 0?0:t,this.width=r===void 0?0:r,this.height=n===void 0?0:n};Ot.fromEllipse=function(e){return e=new eo(e),new Ot(e.x-e.a,e.y-e.b,2*e.a,2*e.b)};Ot.fromPointUnion=function(...e){if(e.length===0)return null;const t=new ze;let r,n,i,o;r=n=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);const a=t.x,l=t.y;a<r&&(r=a),a>i&&(i=a),l<n&&(n=l),l>o&&(o=l)}return new Ot(r,n,i-r,o-n)};Ot.fromRectUnion=function(...e){if(e.length===0)return null;const t=new Ot;let r,n,i,o;r=n=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);const a=t.x,l=t.y,u=a+t.width,f=l+t.height;a<r&&(r=a),u>i&&(i=u),l<n&&(n=l),f>o&&(o=f)}return new Ot(r,n,i-r,o-n)};Ot.prototype={type:or.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;const{width:t,height:r}=this,n=xo(e),i=eM(Zie(n)),o=eM(Qie(n)),s=t*o+r*i,a=t*i+r*o;return this.x+=(t-s)/2,this.y+=(r-a)/2,this.width=s,this.height=a,this},bottomLeft:function(){return new ze(this.x,this.y+this.height)},bottomLine:function(){return new Nt(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new ze(this.x+this.width/2,this.y+this.height)},center:function(){return new ze(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new Ot(this)},containsPoint:function(e){return e instanceof ze||(e=new ze(e)),e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new Ot(this).normalize(),r=new Ot(e).normalize(),n=t.width,i=t.height,o=r.width,s=r.height;if(!n||!i||!o||!s)return!1;var a=t.x,l=t.y,u=r.x,f=r.y;return o+=u,n+=a,s+=f,i+=l,a<=u&&o<=n&&l<=f&&s<=i},corner:function(){return new ze(this.x+this.width,this.y+this.height)},equals:function(e){var t=new Ot(this).normalize(),r=new Ot(e).normalize();return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),r=this.corner(),n=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||n.x>=r.x||n.y>=r.y)return null;var o=tM(t.x,n.x),s=tM(t.y,n.y);return new Ot(o,s,vp(r.x,i.x)-o,vp(r.y,i.y)-s)},intersectionWithLine:function(e){var t=this,r=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],n=[],i=[],o,s,a=r.length;for(s=0;s<a;s++)o=e.intersect(r[s]),o!==null&&i.indexOf(o.toString())<0&&(n.push(o),i.push(o.toString()));return n.length>0?n:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new ze(e);var r=new ze(this.x+this.width/2,this.y+this.height/2),n;t&&e.rotate(r,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new Nt(r,e),s=i.length-1;s>=0;--s){var a=i[s].intersection(o);if(a!==null){n=a;break}}return n&&t&&n.rotate(r,-t),n},leftLine:function(){return new Nt(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new ze(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new Ot(e),t||(t=e.center());var r,n,i,o,s,a,l,u,f=t.x,c=t.y;r=n=i=o=s=a=l=u=1/0;var p=e.topLeft();p.x<f&&(r=(this.x-f)/(p.x-f)),p.y<c&&(s=(this.y-c)/(p.y-c));var m=e.bottomRight();m.x>f&&(n=(this.x+this.width-f)/(m.x-f)),m.y>c&&(a=(this.y+this.height-c)/(m.y-c));var g=e.topRight();g.x>f&&(i=(this.x+this.width-f)/(g.x-f)),g.y<c&&(l=(this.y-c)/(g.y-c));var _=e.bottomLeft();return _.x<f&&(o=(this.x-f)/(_.x-f)),_.y>c&&(u=(this.y+this.height-c)/(_.y-c)),{sx:vp(r,n,i,o),sy:vp(s,a,l,u)}},maxRectUniformScaleToFit:function(e,t){var r=this.maxRectScaleToFit(e,t);return vp(r.sx,r.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,r=this.width,n=this.height;return this.width<0&&(e=this.x+this.width,r=-this.width),this.height<0&&(t=this.y+this.height,n=-this.height),this.x=e,this.y=t,this.width=r,this.height=n,this},offset:function(e,t){return ze.prototype.offset.call(this,e,t)},origin:function(){return new ze(this.x,this.y)},pointNearestToPoint:function(e){if(e=new ze(e),this.containsPoint(e)){var t=this.sideNearestToPoint(e);switch(t){case"right":return new ze(this.x+this.width,e.y);case"left":return new ze(this.x,e.y);case"bottom":return new ze(e.x,this.y+this.height);case"top":return new ze(e.x,this.y)}}return e.adhereToRect(this)},rightLine:function(){return new Nt(this.topRight(),this.bottomRight())},rightMiddle:function(){return new ze(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=eoe(10,e);break}return this.x=Fv(this.x*t)/t,this.y=Fv(this.y*t)/t,this.width=Fv(this.width*t)/t,this.height=Fv(this.height*t)/t,this},scale:function(e,t,r){return r=this.origin().scale(e,t,r),this.x=r.x,this.y=r.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new ze(e);var t=e.x-this.x,r=this.x+this.width-e.x,n=e.y-this.y,i=this.y+this.height-e.y,o=t,s="left";return r<o&&(o=r,s="right"),n<o&&(o=n,s="top"),i<o&&(s="bottom"),s},snapToGrid:function(e,t){var r=this.origin().snapToGrid(e,t),n=this.corner().snapToGrid(e,t);return this.x=r.x,this.y=r.y,this.width=n.x-r.x,this.height=n.y-r.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new Nt(this.topLeft(),this.topRight())},topMiddle:function(){return new ze(this.x+this.width/2,this.y)},topRight:function(){return new ze(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return Ot.fromRectUnion(this,e)},update:function(e,t,r,n){return Object(e)===e&&(t=e.y,r=e.width,n=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=r||0,this.height=n||0,this}};Ot.prototype.bottomRight=Ot.prototype.corner;Ot.prototype.topLeft=Ot.prototype.origin;Ot.prototype.translate=Ot.prototype.offset;const toe=Ot;function xV(e){const t=e.trim();if(t==="")return[];const r=[],n=t.split(/\b\s*,\s*|,\s*|\s+/),i=n.length;for(let o=0;o<i;o+=2)r.push({x:+n[o],y:+n[o+1]});return r}function OV(e){const t=e.length;if(t===0)return[];const r=[];for(let n=0;n<t;n++){const i=e[n].clone();r.push(i)}return r}function PV(e){const{abs:t}=Math;var r,n,i=e.length;if(i===0)return[];var o;for(r=0;r<i;r++)(o===void 0||e[r].y<o.y||e[r].y===o.y&&e[r].x>o.x)&&(o=e[r]);var s=[];for(r=0;r<i;r++){var a=o.theta(e[r]);a===0&&(a=360);var l=[e[r],r,a];s.push(l)}if(s.sort(function(V,Q){var H=V[2]-Q[2];return H===0&&(H=Q[1]-V[1]),H}),s.length>2){var u=s[s.length-1];s.unshift(u)}for(var f={},c=[],p,m,g,_,v,h;s.length!==0;)if(p=s.pop(),m=p[0],!f.hasOwnProperty(p[0]+"@@"+p[1]))for(var E=!1;!E;)if(c.length<2)c.push(p),E=!0;else{g=c.pop(),_=g[0],v=c.pop(),h=v[0];var y=h.cross(_,m);if(y<0)c.push(v),c.push(g),c.push(p),E=!0;else if(y===0){var S=1e-10,$=_.angleBetween(h,m);t($-180)<S||_.equals(m)||h.equals(_)?(f[g[0]+"@@"+g[1]]=_,c.push(v)):t(($+1)%360-1)<S&&(c.push(v),s.push(g))}else f[g[0]+"@@"+g[1]]=_,c.push(v)}c.length>2&&c.pop();var T,d=-1;for(n=c.length,r=0;r<n;r++){var A=c[r][1];(T===void 0||A<T)&&(T=A,d=r)}var x=[];if(d>0){var O=c.slice(d),D=c.slice(0,d);x=O.concat(D)}else x=c;var F=[];for(n=x.length,r=0;r<n;r++)F.push(x[r][0]);return F}const un=function(e){if(!(this instanceof un))return new un(e);if(typeof e=="string")return new un.parse(e);this.points=Array.isArray(e)?e.map(ze):[]};un.parse=function(e){return new un(xV(e))};un.fromRect=function(e){return new un([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])};un.prototype={type:or.Polyline,bbox:function(){var e=1/0,t=-1/0,r=1/0,n=-1/0,i=this.points,o=i.length;if(o===0)return null;for(var s=0;s<o;s++){var a=i[s],l=a.x,u=a.y;l<e&&(e=l),l>t&&(t=l),u<r&&(r=u),u>n&&(n=u)}return new Ot(e,r,t-e,n-r)},clone:function(){return new un(OV(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return 0;for(var n,i=1/0,o=0,s=r-1,a=0;a<s;a++){var l=new Nt(t[a],t[a+1]),u=l.length(),f=l.closestPointNormalizedLength(e),c=l.pointAt(f),p=c.squaredDistance(e);p<i&&(i=p,n=o+f*u),o+=u}return n},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(t===0)return 0;var r=this.length();return r===0?0:t/r},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,r=t.length;if(r===0)return!1;for(var n=e.x,i=e.y,o=r-1,s=0,a=0,l=new Nt,u=new Nt,f=new ze;s<r;s++){var c=t[o],p=t[s];if(e.equals(c)||(l.start=c,l.end=p,l.containsPoint(e)))return!0;if(i<=c.y&&i>p.y||i>c.y&&i<=p.y){var m=c.x-n>p.x-n?c.x-n:p.x-n;m>=0&&(f.x=n+m,f.y=i,u.start=e,u.end=f,l.intersect(u)&&a++)}o=s}return a%2===1},close:function(){const{start:e,end:t,points:r}=this;return e&&t&&!e.equals(t)&&r.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new un(PV(this.points))},equals:function(e){if(!e)return!1;var t=this.points,r=e.points,n=t.length;if(r.length!==n)return!1;for(var i=0;i<n;i++){var o=t[i],s=e.points[i];if(!o.equals(s))return!1}return!0},intersectionWithLine:function(e){for(var t=new Nt(e),r=[],n=this.lengthPoints(),i=new Nt,o=0,s=n.length-1;o<s;o++){i.start=n[o],i.end=n[o+1];var a=t.intersectionWithLine(i);a&&r.push(a[0])}return r.length>0?r:null},isDifferentiable:function(){var e=this.points,t=e.length;if(t===0)return!1;for(var r=new Nt,n=t-1,i=0;i<n;i++)if(r.start=e[i],r.end=e[i+1],r.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(t===0)return 0;for(var r=0,n=t-1,i=0;i<n;i++)r+=e[i].distance(e[i+1]);return r},pointAt:function(e){var t=this.lengthPoints(),r=t.length;if(r===0)return null;if(r===1||e<=0)return t[0].clone();if(e>=1)return t[r-1].clone();var n=this.length(),i=n*e;return this.pointAtLength(i)},pointAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0)return null;if(r===1)return t[0].clone();var n=!0;e<0&&(n=!1,e=-e);for(var i=0,o=r-1,s=0;s<o;s++){var a=n?s:o-1-s,l=t[a],u=t[a+1],f=new Nt(l,u),c=l.distance(u);if(e<=i+c)return f.pointAtLength((n?1:-1)*(e-i));i+=c}var p=n?t[r-1]:t[0];return p.clone()},round:function(e){for(var t=this.points,r=t.length,n=0;n<r;n++)t[n].round(e);return this},scale:function(e,t,r){for(var n=this.points,i=n.length,o=0;o<i;o++)n[o].scale(e,t,r);return this},simplify:function(e={}){const t=this.points;if(t.length<3)return this;const r=e.threshold||1e-10;let n=0;for(;t[n+2];){const i=n,o=n+1,s=n+2,a=t[i],l=t[o],u=t[s];new Nt(a,u).closestPoint(l).distance(l)<=r?t.splice(o,1):n+=1}return this},tangentAt:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return null;e<0&&(e=0),e>1&&(e=1);var n=this.length(),i=n*e;return this.tangentAtLength(i)},tangentAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return null;var n=!0;e<0&&(n=!1,e=-e);for(var i,o=0,s=r-1,a=0;a<s;a++){var l=n?a:s-1-a,u=t[l],f=t[l+1],c=new Nt(u,f),p=u.distance(f);if(c.isDifferentiable()){if(e<=o+p)return c.tangentAtLength((n?1:-1)*(e-o));i=c}o+=p}if(i){var m=n?1:0;return i.tangentAt(m)}return null},toString:function(){return this.points+""},translate:function(e,t){for(var r=this.points,n=r.length,i=0;i<n;i++)r[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(t===0)return"";for(var r="",n=0;n<t;n++){var i=e[n];r+=i.x+","+i.y+" "}return r.trim()}};Object.defineProperty(un.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[0]}});Object.defineProperty(un.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[t-1]}});const{abs:Bv,sqrt:roe,min:rM,max:nM,pow:s1}=Math,Fr=function(e,t,r,n){if(!(this instanceof Fr))return new Fr(e,t,r,n);if(e instanceof Fr)return new Fr(e.start,e.controlPoint1,e.controlPoint2,e.end);this.start=new ze(e),this.controlPoint1=new ze(t),this.controlPoint2=new ze(r),this.end=new ze(n)};Fr.throughPoints=function(){function e(r){var n=[],i=[],o=r.length-1,s;if(o==1)return n[0]=new ze((2*r[0].x+r[1].x)/3,(2*r[0].y+r[1].y)/3),i[0]=new ze(2*n[0].x-r[0].x,2*n[0].y-r[0].y),[n,i];var a=[];for(s=1;s<o-1;s++)a[s]=4*r[s].x+2*r[s+1].x;a[0]=r[0].x+2*r[1].x,a[o-1]=(8*r[o-1].x+r[o].x)/2;var l=t(a);for(s=1;s<o-1;++s)a[s]=4*r[s].y+2*r[s+1].y;a[0]=r[0].y+2*r[1].y,a[o-1]=(8*r[o-1].y+r[o].y)/2;var u=t(a);for(s=0;s<o;s++)n.push(new ze(l[s],u[s])),s<o-1?i.push(new ze(2*r[s+1].x-l[s+1],2*r[s+1].y-u[s+1])):i.push(new ze((r[o].x+l[o-1])/2,(r[o].y+u[o-1])/2));return[n,i]}function t(r){var n=r.length,i=[],o=[],s=2;i[0]=r[0]/s;for(var a=1;a<n;a++)o[a]=1/s,s=(a<n-1?4:3.5)-o[a],i[a]=(r[a]-i[a-1])/s;for(a=1;a<n;a++)i[n-a-1]-=o[n-a]*i[n-a];return i}return function(r){if(!r||Array.isArray(r)&&r.length<2)throw new Error("At least 2 points are required");for(var n=e(r),i=[],o=n[0].length,s=0;s<o;s++){var a=new ze(n[0][s].x,n[0][s].y),l=new ze(n[1][s].x,n[1][s].y);i.push(new Fr(r[s],a,l,r[s+1]))}return i}}();Fr.prototype={type:or.Curve,bbox:function(){for(var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end,i=e.x,o=e.y,s=t.x,a=t.y,l=r.x,u=r.y,f=n.x,c=n.y,p=new Array,m=new Array,g=[new Array,new Array],_,v,h,E,y,S,$,T,d=0;d<2;++d){if(d===0?(v=6*i-12*s+6*l,_=-3*i+9*s-9*l+3*f,h=3*s-3*i):(v=6*o-12*a+6*u,_=-3*o+9*a-9*u+3*c,h=3*a-3*o),Bv(_)<1e-12){if(Bv(v)<1e-12)continue;E=-h/v,0<E&&E<1&&m.push(E);continue}$=v*v-4*h*_,T=roe($),!($<0)&&(y=(-v+T)/(2*_),0<y&&y<1&&m.push(y),S=(-v-T)/(2*_),0<S&&S<1&&m.push(S))}for(var A=m.length,x=A,O,D,F;A--;)E=m[A],O=1-E,D=O*O*O*i+3*O*O*E*s+3*O*E*E*l+E*E*E*f,g[0][A]=D,F=O*O*O*o+3*O*O*E*a+3*O*E*E*u+E*E*E*c,g[1][A]=F,p[A]={X:D,Y:F};m[x]=0,m[x+1]=1,p[x]={X:i,Y:o},p[x+1]={X:f,Y:c},g[0][x]=i,g[1][x]=o,g[0][x+1]=f,g[1][x+1]=c,m.length=x+2,g[0].length=x+2,g[1].length=x+2,p.length=x+2;var V=rM.apply(null,g[0]),Q=rM.apply(null,g[1]),H=nM.apply(null,g[0]),X=nM.apply(null,g[1]);return new Ot(V,Q,H-V,X-Q)},clone:function(){return new Fr(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n};return this.lengthAtT(this.closestPointT(e,i),i)},closestPointNormalizedLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n},o=this.closestPointLength(e,i);if(!o)return 0;var s=this.length(i);return s===0?0:o/s},closestPointT:function(e,t){t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i,o,s,a,l,u,f,c=n.length,p=c?1/c:0,m=0;m<c;m++){var g=n[m],_=g.start.distance(e),v=g.end.distance(e),h=_+v;(!f||h<f)&&(i=g,o=m*p,s=(m+1)*p,a=_,l=v,u=g.start.distance(g.end),f=h)}for(var E=s1(10,-r);;){var y=a?Bv(a-l)/a:0,S=l?Bv(a-l)/l:0,$=y<E||S<E,T=a?a<u*E:!0,d=l?l<u*E:!0,A=T||d;if($||A)return a<=l?o:s;var x=i.divide(.5);p/=2;var O=x[0].start.distance(e),D=x[0].end.distance(e),F=O+D,V=x[1].start.distance(e),Q=x[1].end.distance(e),H=V+Q;F<=H?(i=x[0],s-=p,a=O,l=D):(i=x[1],o+=p,a=V,l=Q)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){var r=this.toPolyline(t);return r.containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var r=this.tAt(e,t);return this.divideAtT(r)},divideAtLength:function(e,t){var r=this.tAtLength(e,t);return this.divideAtT(r)},divideAtT:function(e){var t=this.start,r=this.controlPoint1,n=this.controlPoint2,i=this.end;if(e<=0)return[new Fr(t,t,t,t),new Fr(t,r,n,i)];if(e>=1)return[new Fr(t,r,n,i),new Fr(i,i,i,i)];var o=this.getSkeletonPoints(e),s=o.startControlPoint1,a=o.startControlPoint2,l=o.divider,u=o.dividerControlPoint1,f=o.dividerControlPoint2;return[new Fr(t,s,a,l),new Fr(l,u,f,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,r=this.controlPoint1,n=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:n.clone()};if(e>=1)return{startControlPoint1:r.clone(),startControlPoint2:n.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var o=new Nt(t,r).pointAt(e),s=new Nt(r,n).pointAt(e),a=new Nt(n,i).pointAt(e),l=new Nt(o,s).pointAt(e),u=new Nt(s,a).pointAt(e),f=new Nt(l,u).pointAt(e),c={startControlPoint1:o,startControlPoint2:l,divider:f,dividerControlPoint1:u,dividerControlPoint2:a};return c},getSubdivisions:function(e){e=e||{};var t=e.precision===void 0?this.PRECISION:e.precision,r=this.start,n=this.controlPoint1,i=this.controlPoint2,o=this.end,s=[new Fr(r,n,i,o)];if(t===0)return s;var a=!this.isDifferentiable();if(a)return s;var l=this.endpointDistance(),u=s1(10,-t),f=2,c=n.cross(r,o)===0&&i.cross(r,o)===0;c&&(f=2*t);for(var p=0;;){p+=1;for(var m=[],g=s.length,_=0;_<g;_++){var v=s[_],h=v.divide(.5);m.push(h[0],h[1])}for(var E=0,y=m.length,S=0;S<y;S++){var $=m[S];E+=$.endpointDistance()}if(p>=f){var T=E!==0?(E-l)/E:0;if(T<u)return m}s=m,l=E}},isDifferentiable:function(){var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(n))},length:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,n=0,i=r.length,o=0;o<i;o++){var s=r[o];n+=s.endpointDistance()}return n},lengthAtT:function(e,t){if(e<=0)return 0;t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=this.divide(e)[0],i=n.length({precision:r});return i},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var r=this.tAt(e,t);return this.pointAtT(r)},pointAtLength:function(e,t){var r=this.tAtLength(e,t);return this.pointAtT(r)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var r=this.tAt(e,t);return this.tangentAtT(r)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var r=this.tAtLength(e,t);return this.tangentAtT(r)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),r=t.startControlPoint2,n=t.dividerControlPoint1,i=t.divider,o=new Nt(r,n);return o.translate(i.x-r.x,i.y-r.y),o},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n},o=this.length(i),s=o*e;return this.tAtLength(s,i)},tAtLength:function(e,t){var r=!0;e<0&&(r=!1,e=-e),t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,o={precision:n,subdivisions:i},s,a,l,u,f,c=0,p=i.length,m=1/p,g=0;g<p;g++){var _=r?g:p-1-g,v=i[g],h=v.endpointDistance();if(e<=c+h){s=v,a=_*m,l=(_+1)*m,u=r?e-c:h+c-e,f=r?h+c-e:e-c;break}c+=h}if(!s)return r?1:0;for(var E=this.length(o),y=s1(10,-n);;){var S;if(S=E!==0?u/E:0,S<y)return a;if(S=E!==0?f/E:0,S<y)return l;var $,T,d=s.divide(.5);m/=2;var A=d[0].endpointDistance(),x=d[1].endpointDistance();u<=A?(s=d[0],l-=m,$=u,T=A-$):(s=d[1],a+=m,$=u-A,T=x-$),u=$,f=T}},toPoints:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,n=[r[0].start.clone()],i=r.length,o=0;o<i;o++){var s=r[o];n.push(s.end.clone())}return n},toPolyline:function(e){return new un(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Fr.prototype.divide=Fr.prototype.divideAtT;function Og(e){var t,r,n=[];for(r=arguments.length,t=1;t<r;t++)n.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var i=Object.create(e);for(r=n.length,t=0;t<r;t++){var o=n[t],s,a;for(a in o)o.hasOwnProperty(a)&&(delete i[a],s=Object.getOwnPropertyDescriptor(o,a),Object.defineProperty(i,a,s))}return i}const Bt=function(e){if(!(this instanceof Bt))return new Bt(e);if(typeof e=="string")return new Bt.parse(e);this.segments=[];var t,r;if(e)if(Array.isArray(e)&&e.length!==0)if(e=e.reduce(function(a,l){return a.concat(l)},[]),r=e.length,e[0].isSegment)for(t=0;t<r;t++){var n=e[t];this.appendSegment(n)}else{var i=null;for(t=0;t<r;t++){var o=e[t];if(!(o instanceof Nt||o instanceof Fr))throw new Error("Cannot construct a path segment from the provided object.");t===0&&this.appendSegment(Bt.createSegment("M",o.start)),i&&!i.end.equals(o.start)&&this.appendSegment(Bt.createSegment("M",o.start)),o instanceof Nt?this.appendSegment(Bt.createSegment("L",o.end)):o instanceof Fr&&this.appendSegment(Bt.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),i=o}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof Nt)this.appendSegment(Bt.createSegment("M",e.start)),this.appendSegment(Bt.createSegment("L",e.end));else if(e instanceof Fr)this.appendSegment(Bt.createSegment("M",e.start)),this.appendSegment(Bt.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else if(e instanceof un){if(!(e.points&&e.points.length!==0))return;for(r=e.points.length,t=0;t<r;t++){var s=e.points[t];t===0?this.appendSegment(Bt.createSegment("M",s)):this.appendSegment(Bt.createSegment("L",s))}}else throw new Error("Cannot construct a path from the provided object.")};Bt.parse=function(e){if(!e)return new Bt;for(var t=new Bt,r=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,n=e.match(r),i=n.length,o=0;o<i;o++){var s=n[o],a=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,l=s.match(a),u=Bt.createSegment.apply(this,l);t.appendSegment(u)}return t};Bt.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=Bt.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var r=[],n=arguments.length,i=1;i<n;i++)r.push(arguments[i]);return Xa(t,r)};Bt.prototype={type:or.Path,appendSegment:function(e){var t=this.segments,r=t.length,n,i=r!==0?t[r-1]:null,o=null;if(Array.isArray(e)){if(e=e.reduce(function(u,f){return u.concat(f)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var s=e.length,a=0;a<s;a++){var l=e[a];n=this.prepareSegment(l,i,o),t.push(n),i=n}}else{if(!e||!e.isSegment)throw new Error("Segment required.");n=this.prepareSegment(e,i,o),t.push(n)}},bbox:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r,n=0;n<t;n++){var i=e[n];if(i.isVisible){var o=i.bbox();r=r?r.union(o):o}}if(r)return r;var s=e[t-1];return new Ot(s.end.x,s.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,r=new Bt,n=0;n<t;n++){var i=e[n].clone();r.appendSegment(i)}return r},closestPoint:function(e,t){var r=this.closestPointT(e,t);return r?this.pointAtT(r):null},closestPointLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,i={precision:r,segmentSubdivisions:n},o=this.closestPointT(e,i);return o?this.lengthAtT(o,i):0},closestPointNormalizedLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,i={precision:r,segmentSubdivisions:n},o=this.closestPointLength(e,i);if(o===0)return 0;var s=this.length(i);return s===0?0:o/s},closestPointT:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a=1/0,l=0;l<n;l++){var u=r[l],f=o[l];if(u.isVisible){var c=u.closestPointT(e,{precision:i,subdivisions:f}),p=u.pointAtT(c),m=new Nt(p,e).squaredLength();m<a&&(s={segmentIndex:l,value:c},a=m)}}return s||{segmentIndex:n-1,value:1}},closestPointTangent:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a=1/0,l=0;l<n;l++){var u=r[l],f=o[l];if(u.isDifferentiable()){var c=u.closestPointT(e,{precision:i,subdivisions:f}),p=u.pointAtT(c),m=new Nt(p,e).squaredLength();m<a&&(s=u.tangentAtT(c),a=m)}}return s||null},containsPoint:function(e,t){var r=this.toPolylines(t);if(!r)return!1;for(var n=r.length,i=0,o=0;o<n;o++){var s=r[o];s.containsPoint(e)&&i++}return i%2===1},divideAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.divideAtLength(l,s)},divideAtLength:function(e,t){var r=this.segments.length;if(r===0)return null;var n=!0;e<0&&(n=!1,e=-e),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a,l=0,u,f,c,p,m;for(s=0;s<r;s++){var g=n?s:r-1-s;a=this.getSegment(g);var _=o[g],v=a.length({precision:i,subdivisions:_});if(a.isDifferentiable()&&(c=a,p=g,e<=l+v)){f=g,u=a.divideAtLength((n?1:-1)*(e-l),{precision:i,subdivisions:_});break}l+=v}if(!c)return null;u||(f=p,m=n?1:0,u=c.divideAtT(m));var h=this.clone();h.replaceSegment(f,u);var E=f,y=f+1,S=f+2;u[0].isDifferentiable()||(h.removeSegment(E),y-=1,S-=1);var $=h.getSegment(y).start;h.insertSegment(y,Bt.createSegment("M",$)),S+=1,u[1].isDifferentiable()||(h.removeSegment(S-1),S-=1);var T=S-E-1;for(s=S;s<h.segments.length;s++){var d=this.getSegment(s-T);if(a=h.getSegment(s),a.type==="Z"&&!d.subpathStartSegment.end.equals(a.subpathStartSegment.end)){var A=Bt.createSegment("L",d.end);h.replaceSegment(s,A)}}var x=new Bt(h.segments.slice(0,y)),O=new Bt(h.segments.slice(y));return[x,O]},equals:function(e){if(!e)return!1;var t=this.segments,r=e.segments,n=t.length;if(r.length!==n)return!1;for(var i=0;i<n;i++){var o=t[i],s=r[i];if(o.type!==s.type||!o.equals(s))return!1}return!0},getSegment:function(e){var t=this.segments,r=t.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){var t=this.segments,r=t.length;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=[],o=0;o<r;o++){var s=t[o],a=s.getSubdivisions({precision:n});i.push(a)}return i},getSubpaths:function(){const t=this.clone().validate().segments,r=t.length,n=[];for(let i=0;i<r;i++){const o=t[i];o.isSubpathStart?n.push(new Bt(o)):n[n.length-1].appendSegment(o)}return n},insertSegment:function(e,t){var r=this.segments,n=r.length;if(e<0&&(e=n+e+1),e>n||e<0)throw new Error("Index out of range.");var i,o=null,s=null;if(n!==0&&(e>=1?(o=r[e-1],s=o.nextSegment):s=r[0]),Array.isArray(t)){if(t=t.reduce(function(f,c){return f.concat(c)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var a=t.length,l=0;l<a;l++){var u=t[l];i=this.prepareSegment(u,o,s),r.splice(e+l,0,i),o=i}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,o,s),r.splice(e,0,i)}},intersectionWithLine:function(e,t){var r=null,n=this.toPolylines(t);if(!n)return null;for(var i=0,o=n.length;i<o;i++){var s=n[i],a=e.intersect(s);a&&(r||(r=[]),Array.isArray(a)?Array.prototype.push.apply(r,a):r.push(a))}return r},isDifferentiable:function(){for(var e=this.segments,t=e.length,r=0;r<t;r++){var n=e[r];if(n.isDifferentiable())return!0}return!1},isValid:function(){var e=this.segments,t=e.length===0||e[0].type==="M";return t},length:function(e){var t=this.segments,r=t.length;if(r===0)return 0;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,o=0,s=0;s<r;s++){var a=t[s],l=i[s];o+=a.length({subdivisions:l})}return o},lengthAtT:function(e,t){var r=this.segments,n=r.length;if(n===0)return 0;var i=e.segmentIndex;if(i<0)return 0;var o=e.value;i>=n?(i=n-1,o=1):o<0?o=0:o>1&&(o=1),t=t||{};for(var s=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l,u=0,f=0;f<i;f++){var c=r[f];l=a[f],u+=c.length({precisison:s,subdivisions:l})}return c=r[i],l=a[i],u+=c.lengthAtT(o,{precisison:s,subdivisions:l}),u},pointAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.pointAtLength(l,s)},pointAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;if(e===0)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],p=s[f],m=c.length({precision:o,subdivisions:p});if(c.isVisible){if(e<=l+m)return c.pointAtLength((i?1:-1)*(e-l),{precision:o,subdivisions:p});a=c}l+=m}if(a)return i?a.end:a.start;var g=r[n-1];return g.end.clone()},pointAtT:function(e){var t=this.segments,r=t.length;if(r===0)return null;var n=e.segmentIndex;if(n<0)return t[0].pointAtT(0);if(n>=r)return t[r-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[n].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,r){e.previousSegment=t,e.nextSegment=r,t&&(t.nextSegment=e),r&&(r.previousSegment=e);var n=e;return e.isSubpathStart&&(e.subpathStartSegment=e,n=r),n&&this.updateSubpathStartSegment(n),e},removeSegment:function(e){var t=this.segments,r=t.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var n=t.splice(e,1)[0],i=n.previousSegment,o=n.nextSegment;i&&(i.nextSegment=o),o&&(o.previousSegment=i),n.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(e,t){var r=this.segments,n=r.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var i,o=r[e],s=o.previousSegment,a=o.nextSegment,l=o.isSubpathStart;if(Array.isArray(t)){if(t=t.reduce(function(p,m){return p.concat(m)},[]),!t[0].isSegment)throw new Error("Segments required.");r.splice(e,1);for(var u=t.length,f=0;f<u;f++){var c=t[f];i=this.prepareSegment(c,s,a),r.splice(e+f,0,i),s=i,l&&i.isSubpathStart&&(l=!1)}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,s,a),r.splice(e,1,i),l&&i.isSubpathStart&&(l=!1)}l&&a&&this.updateSubpathStartSegment(a)},round:function(e){for(var t=this.segments,r=t.length,n=0;n<r;n++){var i=t[n];i.round(e)}return this},scale:function(e,t,r){for(var n=this.segments,i=n.length,o=0;o<i;o++){var s=n[o];s.scale(e,t,r)}return this},segmentAt:function(e,t){var r=this.segmentIndexAt(e,t);return r?this.getSegment(r):null},segmentAtLength:function(e,t){var r=this.segmentIndexAtLength(e,t);return r?this.getSegment(r):null},segmentIndexAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.segmentIndexAtLength(l,s)},segmentIndexAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a=null,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],p=s[f],m=c.length({precision:o,subdivisions:p});if(c.isVisible){if(e<=l+m)return f;a=f}l+=m}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.tangentAtLength(l,s)},tangentAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],p=s[f],m=c.length({precision:o,subdivisions:p});if(c.isDifferentiable()){if(e<=l+m)return c.tangentAtLength((i?1:-1)*(e-l),{precision:o,subdivisions:p});a=c}l+=m}if(a){var g=i?1:0;return a.tangentAtT(g)}return null},tangentAtT:function(e){var t=this.segments,r=t.length;if(r===0)return null;var n=e.segmentIndex;if(n<0)return t[0].tangentAtT(0);if(n>=r)return t[r-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[n].tangentAtT(i)},toPoints:function(e){var t=this.segments,r=t.length;if(r===0)return null;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,o=[],s=[],a=0;a<r;a++){var l=t[a];if(l.isVisible){var u=i[a];if(u.length>0){var f=u.map(function(c){return c.start});Array.prototype.push.apply(s,f)}else s.push(l.start)}else s.length>0&&(s.push(t[a-1].end),o.push(s),s=[])}return s.length>0&&(s.push(this.end),o.push(s)),o},toPolylines:function(e){var t=[],r=this.toPoints(e);if(!r)return null;for(var n=0,i=r.length;n<i;n++)t.push(new un(r[n]));return t},toString:function(){for(var e=this.segments,t=e.length,r="",n=0;n<t;n++){var i=e[n];r+=i.serialize()+" "}return r.trim()},translate:function(e,t){for(var r=this.segments,n=r.length,i=0;i<n;i++){var o=r[i];o.translate(e,t)}return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)t?e.subpathStartSegment=t.subpathStartSegment:e.subpathStartSegment=null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,Bt.createSegment("M",0,0)),this}};Object.defineProperty(Bt.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r=0;r<t;r++){var n=e[r];if(n.isVisible)return n.start}return e[t-1].end}});Object.defineProperty(Bt.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r=t-1;r>=0;r--){var n=e[r];if(n.isVisible)return n.end}return e[t-1].end}});function Xa(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}var Uf={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Uf,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Uf,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(Uf,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var Ti=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Ti))return Xa(Ti,e);if(t===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var n;if(e[0]instanceof Nt){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new ze(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=2)i=e.slice(r,r+2),n.push(Xa(Ti,i));return n}else{if(t===1)return this.end=new ze(e[0]),this;var o;for(n=[],r=0;r<t;r+=1)o=e[r],n.push(new Ti(o));return n}},RV={clone:function(){return new Ti(this.end)},divideAt:function(e){var t=new Nt(this.start,this.end),r=t.divideAt(e);return[new Ti(r[0]),new Ti(r[1])]},divideAtLength:function(e){var t=new Nt(this.start,this.end),r=t.divideAtLength(e);return[new Ti(r[0]),new Ti(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(RV,"type",{configurable:!0,enumerable:!0,value:"L"});Ti.prototype=Og(Uf,Nt.prototype,RV);var Ho=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Ho))return Xa(Ho,e);if(t===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var n;if(e[0]instanceof Fr){if(t===1)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===6)return this.controlPoint1=new ze(+e[0],+e[1]),this.controlPoint2=new ze(+e[2],+e[3]),this.end=new ze(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=6)i=e.slice(r,r+6),n.push(Xa(Ho,i));return n}else{if(t===3)return this.controlPoint1=new ze(e[0]),this.controlPoint2=new ze(e[1]),this.end=new ze(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");var o;for(n=[],r=0;r<t;r+=3)o=e.slice(r,r+3),n.push(Xa(Ho,o));return n}},NV={clone:function(){return new Ho(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var r=new Fr(this.start,this.controlPoint1,this.controlPoint2,this.end),n=r.divideAt(e,t);return[new Ho(n[0]),new Ho(n[1])]},divideAtLength:function(e,t){var r=new Fr(this.start,this.controlPoint1,this.controlPoint2,this.end),n=r.divideAtLength(e,t);return[new Ho(n[0]),new Ho(n[1])]},divideAtT:function(e){var t=new Fr(this.start,this.controlPoint1,this.controlPoint2,this.end),r=t.divideAtT(e);return[new Ho(r[0]),new Ho(r[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(n))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,r=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+r.x+" "+r.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(NV,"type",{configurable:!0,enumerable:!0,value:"C"});Ho.prototype=Og(Uf,Fr.prototype,NV);var sf=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof sf))return Xa(sf,e);if(t===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var n;if(e[0]instanceof Nt){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(e[0]instanceof Fr){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new ze(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=2)i=e.slice(r,r+2),r===0?n.push(Xa(sf,i)):n.push(Xa(Ti,i));return n}else{if(t===1)return this.end=new ze(e[0]),this;var o;for(n=[],r=0;r<t;r+=1)o=e[r],r===0?n.push(new sf(o)):n.push(new Ti(o));return n}},SN={bbox:function(){return null},clone:function(){return new sf(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(SN,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(SN,"type",{configurable:!0,enumerable:!0,value:"M"});sf.prototype=Og(Uf,SN);var xh=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof xh))return Xa(xh,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},$N={clone:function(){return new xh},divideAt:function(e){var t=new Nt(this.start,this.end),r=t.divideAt(e);return[r[1].isDifferentiable()?new Ti(r[0]):this.clone(),new Ti(r[1])]},divideAtLength:function(e){var t=new Nt(this.start,this.end),r=t.divideAtLength(e);return[r[1].isDifferentiable()?new Ti(r[0]):this.clone(),new Ti(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty($N,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty($N,"type",{configurable:!0,enumerable:!0,value:"Z"});xh.prototype=Og(Uf,Nt.prototype,$N);var noe=Bt.segmentTypes={L:Ti,C:Ho,M:sf,Z:xh,z:xh};Bt.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(noe).join("")+",.]*$");Bt.isDataSupported=function(e){return typeof e!="string"?!1:this.regexSupportedData.test(e)};const ioe={curveThroughPoints:function(e){return console.warn("deprecated"),new Bt(Fr.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var t=[],r=[],n=e.length-1,i;if(n==1)return t[0]=new ze((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),r[0]=new ze(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,r];var o=[];for(i=1;i<n-1;i++)o[i]=4*e[i].x+2*e[i+1].x;o[0]=e[0].x+2*e[1].x,o[n-1]=(8*e[n-1].x+e[n].x)/2;var s=this.getFirstControlPoints(o);for(i=1;i<n-1;++i)o[i]=4*e[i].y+2*e[i+1].y;o[0]=e[0].y+2*e[1].y,o[n-1]=(8*e[n-1].y+e[n].y)/2;var a=this.getFirstControlPoints(o);for(i=0;i<n;i++)t.push(new ze(s[i],a[i])),i<n-1?r.push(new ze(2*e[i+1].x-s[i+1],2*e[i+1].y-a[i+1])):r.push(new ze((e[n].x+s[n-1])/2,(e[n].y+a[n-1])/2));return[t,r]},getCurveDivider:function(e,t,r,n){console.warn("deprecated");var i=new Fr(e,t,r,n);return function(s){var a=i.divide(s);return[{p0:a[0].start,p1:a[0].controlPoint1,p2:a[0].controlPoint2,p3:a[0].end},{p0:a[1].start,p1:a[1].controlPoint1,p2:a[1].controlPoint2,p3:a[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,r=[],n=[],i=2;r[0]=e[0]/i;for(var o=1;o<t;o++)n[o]=1/i,i=(o<t-1?4:3.5)-n[o],r[o]=(e[o]-r[o-1])/i;for(o=1;o<t;o++)r[t-o-1]-=n[t-o]*r[t-o];return r},getInversionSolver:function(e,t,r,n){console.warn("deprecated");var i=new Fr(e,t,r,n);return function(s){return i.closestPointT(s)}}},Oo=function(e){if(!(this instanceof Oo))return new Oo(e);if(typeof e=="string")return new Oo.parse(e);this.points=Array.isArray(e)?e.map(ze):[]};Oo.parse=function(e){return new Oo(xV(e))};Oo.fromRect=function(e){return new Oo([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])};Oo.prototype=Og(un.prototype,{type:or.Polygon,clone:function(){return new Oo(OV(this.points))},convexHull:function(){return new Oo(PV(this.points))},lengthPoints:function(){const{start:e,end:t,points:r}=this;return r.length<=1||e.equals(t)?r:[...r,e.clone()]}});function IV(e,t,r,n){switch(e.type){case or.Line:{switch(t.type){case or.Line:return af(e,t)}break}case or.Ellipse:{switch(t.type){case or.Line:return TN(e,t);case or.Ellipse:return kV(e,t)}break}case or.Rect:{switch(t.type){case or.Line:return CV(e,t);case or.Ellipse:return jV(e,t);case or.Rect:return AN(e,t)}break}case or.Polyline:{switch(t.type){case or.Line:return mE(e,t);case or.Ellipse:return xN(e,t);case or.Rect:return DV(e,t);case or.Polyline:return MV(e,t)}break}case or.Polygon:{switch(t.type){case or.Line:return ON(e,t);case or.Ellipse:return gE(e,t);case or.Rect:return LV(e,t);case or.Polyline:return FV(e,t);case or.Polygon:return BV(e,t)}break}case or.Path:{switch(t.type){case or.Line:return UV(e,t,r);case or.Ellipse:return zV(e,t,r);case or.Rect:return qV(e,t,r);case or.Polyline:return PN(e,t,r);case or.Polygon:return vE(e,t,r);case or.Path:return VV(e,t,r,n)}break}}switch(t.type){case or.Ellipse:case or.Rect:case or.Polyline:case or.Polygon:case or.Path:return IV(t,e,n,r);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function af(e,t){const r=e.start.x,n=e.start.y,i=e.end.x,o=e.end.y,s=t.start.x,a=t.start.y,l=t.end.x,u=t.end.y,f=i-r,c=o-n,p=l-s,m=u-a,g=r-s,_=n-a,v=f*m-p*c,h=(f*_-c*g)/v,E=(p*_-m*g)/v;return h>=0&&h<=1&&E>=0&&E<=1}function TN(e,t){const r=e.a,n=e.b,i=e.x,o=e.y,s=t.start.x-i,a=t.end.x-i,l=t.start.y-o,u=t.end.y-o,f=r*r,c=n*n,p=a-s,m=u-l,g=p*p/f+m*m/c,_=2*s*p/f+2*l*m/c,v=s*s/f+l*l/c-1,h=_*_-4*g*v;if(h===0){const E=-_/2/g;return E>=0&&E<=1}else if(h>0){const E=Math.sqrt(h),y=(-_+E)/2/g,S=(-_-E)/2/g;return y>=0&&y<=1||S>=0&&S<=1}return!1}function kV(e,t){return ooe(e,0,t,0)}function CV(e,t){const{start:r,end:n}=t,{x:i,y:o,width:s,height:a}=e;return r.x>i+s&&n.x>i+s||r.x<i&&n.x<i||r.y>o+a&&n.y>o+a||r.y<o&&n.y<o?!1:e.containsPoint(t.start)||e.containsPoint(t.end)?!0:af(e.topLine(),t)||af(e.rightLine(),t)||af(e.bottomLine(),t)||af(e.leftLine(),t)}function jV(e,t){return AN(e,Ot.fromEllipse(t))?gE(Oo.fromRect(e),t):!1}function AN(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function mE(e,t){return HV(e,t,{interior:!1})}function xN(e,t){return WV(e,t,{interior:!1})}function DV(e,t){return GV(e,t,{interior:!1})}function MV(e,t){return yE(e,t,{interior:!1})}function ON(e,t){return HV(e,t,{interior:!0})}function gE(e,t){return WV(e,t,{interior:!0})}function LV(e,t){return GV(e,t,{interior:!0})}function FV(e,t){return yE(e,t,{interior:!0})}function BV(e,t){return RN(e,t,{interior:!0})}function UV(e,t,r){return e.getSubpaths().some(n=>{const[i]=n.toPolylines(r),{type:o}=n.getSegment(-1);return o==="Z"?ON(i,t):mE(i,t)})}function zV(e,t,r){return e.getSubpaths().some(n=>{const[i]=n.toPolylines(r),{type:o}=n.getSegment(-1);return o==="Z"?gE(i,t):xN(i,t)})}function qV(e,t,r){return vE(e,Oo.fromRect(t),r)}function PN(e,t,r){return KV(e,t,r,{interior:!1})}function vE(e,t,r){return KV(e,t,r,{interior:!0})}function VV(e,t,r,n){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(r),{type:s}=i.getSegment(-1);return s==="Z"?vE(t,o,n):PN(t,o,n)})}function HV(e,t,r={}){const{interior:n=!1}=r;let i;if(n){if(e.containsPoint(t.start))return!0;const{start:a,end:l,points:u}=e;i=l.equals(a)?u:[...u,a]}else i=e.points;const{length:o}=i,s=new Nt;for(let a=0;a<o-1;a++)if(s.start=i[a],s.end=i[a+1],af(t,s))return!0;return!1}function WV(e,t,r={}){const{start:n,end:i,points:o}=e;if(t.containsPoint(n))return!0;let s;const{interior:a=!1}=r;if(a){if(e.containsPoint(t.center()))return!0;s=i.equals(n)?o:[...o,n]}else s=o;const{length:l}=s,u=new Nt;for(let f=0;f<l-1;f++)if(u.start=s[f],u.end=s[f+1],TN(t,u))return!0;return!1}function GV(e,t,r){const n=Oo.fromRect(t);return RN(e,n,r)}function KV(e,t,r,n){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(r),{type:s}=i.getSegment(-1);return s==="Z"?RN(t,o,n):yE(t,o,n)})}function yE(e,t,r={}){const{interior:n=!1}=r;let i;if(n){const{start:l}=t;if(e.containsPoint(l))return!0;i=e.clone().close()}else i=e;const o=t.points,{length:s}=o,a=new Nt;for(let l=0;l<s-1;l++)if(a.start=o[l],a.end=o[l+1],mE(i,a))return!0;return!1}function RN(e,t,r){return t.containsPoint(e.start)||yE(e,t.clone().close(),r)}function ooe(e,t,r,n){const{cos:i,sin:o}=Math,s=o(t),a=i(t),l=o(n),u=i(n),f=s*s,c=a*a,p=s*a,m=l*l,g=u*u,_=l*u,v=e.a*e.a,h=e.b*e.b,E=r.a*r.a,y=r.b*r.b,S=v*f+h*c,$=E*m+y*g,T=v*c+h*f,d=E*g+y*m;let A=2*(h-v)*p,x=2*(y-E)*_,O=-2*S*e.x-A*e.y,D=-2*$*r.x-x*r.y,F=-A*e.x-2*T*e.y,V=-x*r.x-2*d*r.y;const Q=S*e.x*e.x+T*e.y*e.y+A*e.x*e.y-v*h,H=$*r.x*r.x+d*r.y*r.y+x*r.x*r.y-E*y;A=A/2,x=x/2,O=O/2,D=D/2,F=F/2,V=V/2;const X=lu([[S,A,O],[A,T,F],[O,F,Q]]),fe=lu([[$,x,D],[x,d,V],[D,V,H]]),Z=.33333333*(lu([[$,A,O],[x,T,F],[D,F,Q]])+lu([[S,x,O],[A,d,F],[O,V,Q]])+lu([[S,A,D],[A,T,V],[O,F,H]])),ne=.33333333*(lu([[S,x,D],[A,d,V],[O,V,H]])+lu([[$,A,D],[x,T,V],[D,F,H]])+lu([[$,x,O],[x,d,F],[D,V,Q]])),C=Uv([[X,Z],[Z,ne]]),B=Uv([[X,ne],[Z,fe]]),K=Uv([[Z,ne],[ne,fe]]);return!(Uv([[2*C,B],[B,2*K]])>0&&(ne>0||Z>0))}function Uv(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function lu(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}const soe=Object.freeze(Object.defineProperty({__proto__:null,ellipseWithEllipse:kV,ellipseWithLine:TN,exists:IV,lineWithLine:af,pathWithEllipse:zV,pathWithLine:UV,pathWithPath:VV,pathWithPolygon:vE,pathWithPolyline:PN,pathWithRect:qV,polygonWithEllipse:gE,polygonWithLine:ON,polygonWithPolygon:BV,polygonWithPolyline:FV,polygonWithRect:LV,polylineWithEllipse:xN,polylineWithLine:mE,polylineWithPolyline:MV,polylineWithRect:DV,rectWithEllipse:jV,rectWithLine:CV,rectWithRect:AN},Symbol.toStringTag,{value:"Module"})),aoe=soe,loe=Object.freeze(Object.defineProperty({__proto__:null,Curve:Fr,Ellipse:eo,Line:Nt,Path:Bt,Point:ze,Polygon:Oo,Polyline:un,Rect:Ot,bezier:ioe,ellipse:Xie,intersection:aoe,line:yf,normalizeAngle:fa,point:Yb,random:mO,rect:toe,scale:Wie,snapToGrid:Pf,toDeg:pE,toRad:xo,types:or},Symbol.toStringTag,{value:"Module"}));var JV={},NN="1.13.7",iM=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},wE=Array.prototype,IN=Object.prototype,oM=typeof Symbol<"u"?Symbol.prototype:null,uoe=wE.push,Pg=wE.slice,Vm=IN.toString,coe=IN.hasOwnProperty,YV=typeof ArrayBuffer<"u",foe=typeof DataView<"u",doe=Array.isArray,sM=Object.keys,aM=Object.create,lM=YV&&ArrayBuffer.isView,hoe=isNaN,poe=isFinite,XV=!{toString:null}.propertyIsEnumerable("toString"),uM=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],moe=Math.pow(2,53)-1;function oo(e,t){return t=t==null?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=n,e.apply(this,o)}}function fc(e){var t=typeof e;return t==="function"||t==="object"&&!!e}function QV(e){return e===null}function kN(e){return e===void 0}function CN(e){return e===!0||e===!1||Vm.call(e)==="[object Boolean]"}function ZV(e){return!!(e&&e.nodeType===1)}function Vi(e){var t="[object "+e+"]";return function(r){return Vm.call(r)===t}}const bE=Vi("String"),jN=Vi("Number"),e8=Vi("Date"),t8=Vi("RegExp"),r8=Vi("Error"),DN=Vi("Symbol"),MN=Vi("ArrayBuffer");var n8=Vi("Function"),goe=iM.document&&iM.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof goe!="function"&&(n8=function(e){return typeof e=="function"||!1});const qi=n8,i8=Vi("Object");var o8=foe&&(!/\[native code\]/.test(String(DataView))||i8(new DataView(new ArrayBuffer(8)))),LN=typeof Map<"u"&&i8(new Map),voe=Vi("DataView");function yoe(e){return e!=null&&qi(e.getInt8)&&MN(e.buffer)}const Hm=o8?yoe:voe,dc=doe||Vi("Array");function hc(e,t){return e!=null&&coe.call(e,t)}var yO=Vi("Arguments");(function(){yO(arguments)||(yO=function(e){return hc(e,"callee")})})();const _E=yO;function s8(e){return!DN(e)&&poe(e)&&!isNaN(parseFloat(e))}function FN(e){return jN(e)&&hoe(e)}function BN(e){return function(){return e}}function a8(e){return function(t){var r=e(t);return typeof r=="number"&&r>=0&&r<=moe}}function l8(e){return function(t){return t==null?void 0:t[e]}}const Xb=l8("byteLength"),woe=a8(Xb);var boe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function _oe(e){return lM?lM(e)&&!Hm(e):woe(e)&&boe.test(Vm.call(e))}const UN=YV?_oe:BN(!1),Ro=l8("length");function Eoe(e){for(var t={},r=e.length,n=0;n<r;++n)t[e[n]]=!0;return{contains:function(i){return t[i]===!0},push:function(i){return t[i]=!0,e.push(i)}}}function u8(e,t){t=Eoe(t);var r=uM.length,n=e.constructor,i=qi(n)&&n.prototype||IN,o="constructor";for(hc(e,o)&&!t.contains(o)&&t.push(o);r--;)o=uM[r],o in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function oi(e){if(!fc(e))return[];if(sM)return sM(e);var t=[];for(var r in e)hc(e,r)&&t.push(r);return XV&&u8(e,t),t}function c8(e){if(e==null)return!0;var t=Ro(e);return typeof t=="number"&&(dc(e)||bE(e)||_E(e))?t===0:Ro(oi(e))===0}function zN(e,t){var r=oi(t),n=r.length;if(e==null)return!n;for(var i=Object(e),o=0;o<n;o++){var s=r[o];if(t[s]!==i[s]||!(s in i))return!1}return!0}function Xr(e){if(e instanceof Xr)return e;if(!(this instanceof Xr))return new Xr(e);this._wrapped=e}Xr.VERSION=NN;Xr.prototype.value=function(){return this._wrapped};Xr.prototype.valueOf=Xr.prototype.toJSON=Xr.prototype.value;Xr.prototype.toString=function(){return String(this._wrapped)};function cM(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Xb(e))}var fM="[object DataView]";function wO(e,t,r,n){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:f8(e,t,r,n)}function f8(e,t,r,n){e instanceof Xr&&(e=e._wrapped),t instanceof Xr&&(t=t._wrapped);var i=Vm.call(e);if(i!==Vm.call(t))return!1;if(o8&&i=="[object Object]"&&Hm(e)){if(!Hm(t))return!1;i=fM}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return oM.valueOf.call(e)===oM.valueOf.call(t);case"[object ArrayBuffer]":case fM:return f8(cM(e),cM(t),r,n)}var o=i==="[object Array]";if(!o&&UN(e)){var s=Xb(e);if(s!==Xb(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if(typeof e!="object"||typeof t!="object")return!1;var a=e.constructor,l=t.constructor;if(a!==l&&!(qi(a)&&a instanceof a&&qi(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!wO(e[u],t[u],r,n))return!1}else{var f=oi(e),c;if(u=f.length,oi(t).length!==u)return!1;for(;u--;)if(c=f[u],!(hc(t,c)&&wO(e[c],t[c],r,n)))return!1}return r.pop(),n.pop(),!0}function d8(e,t){return wO(e,t)}function Vh(e){if(!fc(e))return[];var t=[];for(var r in e)t.push(r);return XV&&u8(e,t),t}function qN(e){var t=Ro(e);return function(r){if(r==null)return!1;var n=Vh(r);if(Ro(n))return!1;for(var i=0;i<t;i++)if(!qi(r[e[i]]))return!1;return e!==m8||!qi(r[VN])}}var VN="forEach",h8="has",HN=["clear","delete"],p8=["get",h8,"set"],Soe=HN.concat(VN,p8),m8=HN.concat(p8),$oe=["add"].concat(HN,VN,h8);const g8=LN?qN(Soe):Vi("Map"),v8=LN?qN(m8):Vi("WeakMap"),y8=LN?qN($oe):Vi("Set"),w8=Vi("WeakSet");function zf(e){for(var t=oi(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n}function b8(e){for(var t=oi(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n}function WN(e){for(var t={},r=oi(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t}function Wm(e){var t=[];for(var r in e)qi(e[r])&&t.push(r);return t.sort()}function GN(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||r==null)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=e(o),a=s.length,l=0;l<a;l++){var u=s[l];(!t||r[u]===void 0)&&(r[u]=o[u])}return r}}const KN=GN(Vh),Oh=GN(oi),JN=GN(Vh,!0);function Toe(){return function(){}}function _8(e){if(!fc(e))return{};if(aM)return aM(e);var t=Toe();t.prototype=e;var r=new t;return t.prototype=null,r}function E8(e,t){var r=_8(e);return t&&Oh(r,t),r}function S8(e){return fc(e)?dc(e)?e.slice():KN({},e):e}function $8(e,t){return t(e),e}function YN(e){return dc(e)?e:[e]}Xr.toPath=YN;function Rg(e){return Xr.toPath(e)}function XN(e,t){for(var r=t.length,n=0;n<r;n++){if(e==null)return;e=e[t[n]]}return r?e:void 0}function QN(e,t,r){var n=XN(e,Rg(t));return kN(n)?r:n}function T8(e,t){t=Rg(t);for(var r=t.length,n=0;n<r;n++){var i=t[n];if(!hc(e,i))return!1;e=e[i]}return!!r}function EE(e){return e}function Rf(e){return e=Oh({},e),function(t){return zN(t,e)}}function SE(e){return e=Rg(e),function(t){return XN(t,e)}}function Ng(e,t,r){if(t===void 0)return e;switch(r??3){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,s){return e.call(t,n,i,o,s)}}return function(){return e.apply(t,arguments)}}function A8(e,t,r){return e==null?EE:qi(e)?Ng(e,t,r):fc(e)&&!dc(e)?Rf(e):SE(e)}function $E(e,t){return A8(e,t,1/0)}Xr.iteratee=$E;function jo(e,t,r){return Xr.iteratee!==$E?Xr.iteratee(e,t):A8(e,t,r)}function x8(e,t,r){t=jo(t,r);for(var n=oi(e),i=n.length,o={},s=0;s<i;s++){var a=n[s];o[a]=t(e[a],a,e)}return o}function ZN(){}function O8(e){return e==null?ZN:function(t){return QN(e,t)}}function P8(e,t,r){var n=Array(Math.max(0,e));t=Ng(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n}function Qb(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}const Ph=Date.now||function(){return new Date().getTime()};function R8(e){var t=function(o){return e[o]},r="(?:"+oi(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(o){return o=o==null?"":""+o,n.test(o)?o.replace(i,t):o}}const N8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},I8=R8(N8),Aoe=WN(N8),k8=R8(Aoe),C8=Xr.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var a1=/(.)^/,xoe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ooe=/\\|'|\r|\n|\u2028|\u2029/g;function Poe(e){return"\\"+xoe[e]}var Roe=/^\s*(\w|\$)+\s*$/;function j8(e,t,r){!t&&r&&(t=r),t=JN({},t,Xr.templateSettings);var n=RegExp([(t.escape||a1).source,(t.interpolate||a1).source,(t.evaluate||a1).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(n,function(u,f,c,p,m){return o+=e.slice(i,m).replace(Ooe,Poe),i=m+u.length,f?o+=`'+
((__t=(`+f+`))==null?'':_.escape(__t))+
'`:c?o+=`'+
((__t=(`+c+`))==null?'':__t)+
'`:p&&(o+=`';
`+p+`
__p+='`),u}),o+=`';
`;var s=t.variable;if(s){if(!Roe.test(s))throw new Error("variable is not a bare identifier: "+s)}else o=`with(obj||{}){
`+o+`}
`,s="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var a;try{a=new Function(s,"_",o)}catch(u){throw u.source=o,u}var l=function(u){return a.call(this,u,Xr)};return l.source="function("+s+`){
`+o+"}",l}function D8(e,t,r){t=Rg(t);var n=t.length;if(!n)return qi(r)?r.call(e):r;for(var i=0;i<n;i++){var o=e==null?void 0:e[t[i]];o===void 0&&(o=r,i=n),e=qi(o)?o.call(e):o}return e}var Noe=0;function M8(e){var t=++Noe+"";return e?e+t:t}function L8(e){var t=Xr(e);return t._chain=!0,t}function F8(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var o=_8(e.prototype),s=e.apply(o,i);return fc(s)?s:o}var qf=oo(function(e,t){var r=qf.placeholder,n=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===r?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return F8(e,n,this,this,s)};return n});qf.placeholder=Xr;const eI=oo(function(e,t,r){if(!qi(e))throw new TypeError("Bind must be called on a function");var n=oo(function(i){return F8(e,n,t,this,r.concat(i))});return n}),ts=a8(Ro);function Vf(e,t,r,n){if(n=n||[],!t&&t!==0)t=1/0;else if(t<=0)return n.concat(e);for(var i=n.length,o=0,s=Ro(e);o<s;o++){var a=e[o];if(ts(a)&&(dc(a)||_E(a)))if(t>1)Vf(a,t-1,r,n),i=n.length;else for(var l=0,u=a.length;l<u;)n[i++]=a[l++];else r||(n[i++]=a)}return n}const B8=oo(function(e,t){t=Vf(t,!1,!1);var r=t.length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=eI(e[n],e)}return e});function U8(e,t){var r=function(n){var i=r.cache,o=""+(t?t.apply(this,arguments):n);return hc(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return r.cache={},r}const tI=oo(function(e,t,r){return setTimeout(function(){return e.apply(null,r)},t)}),z8=qf(tI,Xr,1);function q8(e,t,r){var n,i,o,s,a=0;r||(r={});var l=function(){a=r.leading===!1?0:Ph(),n=null,s=e.apply(i,o),n||(i=o=null)},u=function(){var f=Ph();!a&&r.leading===!1&&(a=f);var c=t-(f-a);return i=this,o=arguments,c<=0||c>t?(n&&(clearTimeout(n),n=null),a=f,s=e.apply(i,o),n||(i=o=null)):!n&&r.trailing!==!1&&(n=setTimeout(l,c)),s};return u.cancel=function(){clearTimeout(n),a=0,n=i=o=null},u}function V8(e,t,r){var n,i,o,s,a,l=function(){var f=Ph()-i;t>f?n=setTimeout(l,t-f):(n=null,r||(s=e.apply(a,o)),n||(o=a=null))},u=oo(function(f){return a=this,o=f,i=Ph(),n||(n=setTimeout(l,t),r&&(s=e.apply(a,o))),s});return u.cancel=function(){clearTimeout(n),n=o=a=null},u}function H8(e,t){return qf(t,e)}function TE(e){return function(){return!e.apply(this,arguments)}}function W8(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function G8(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function rI(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}const K8=qf(rI,2);function nI(e,t,r){t=jo(t,r);for(var n=oi(e),i,o=0,s=n.length;o<s;o++)if(i=n[o],t(e[i],i,e))return i}function J8(e){return function(t,r,n){r=jo(r,n);for(var i=Ro(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(r(t[o],o,t))return o;return-1}}const AE=J8(1),iI=J8(-1);function oI(e,t,r,n){r=jo(r,n,1);for(var i=r(t),o=0,s=Ro(e);o<s;){var a=Math.floor((o+s)/2);r(e[a])<i?o=a+1:s=a}return o}function Y8(e,t,r){return function(n,i,o){var s=0,a=Ro(n);if(typeof o=="number")e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return o=r(n,i),n[o]===i?o:-1;if(i!==i)return o=t(Pg.call(n,s,a),FN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(n[o]===i)return o;return-1}}const sI=Y8(1,AE,oI),X8=Y8(-1,iI);function Gm(e,t,r){var n=ts(e)?AE:nI,i=n(e,t,r);if(i!==void 0&&i!==-1)return e[i]}function Q8(e,t){return Gm(e,Rf(t))}function da(e,t,r){t=Ng(t,r);var n,i;if(ts(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var o=oi(e);for(n=0,i=o.length;n<i;n++)t(e[o[n]],o[n],e)}return e}function Fl(e,t,r){t=jo(t,r);for(var n=!ts(e)&&oi(e),i=(n||e).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=t(e[a],a,e)}return o}function Z8(e){var t=function(r,n,i,o){var s=!ts(r)&&oi(r),a=(s||r).length,l=e>0?0:a-1;for(o||(i=r[s?s[l]:l],l+=e);l>=0&&l<a;l+=e){var u=s?s[l]:l;i=n(i,r[u],u,r)}return i};return function(r,n,i,o){var s=arguments.length>=3;return t(r,Ng(n,o,4),i,s)}}const sh=Z8(1),Zb=Z8(-1);function Xu(e,t,r){var n=[];return t=jo(t,r),da(e,function(i,o,s){t(i,o,s)&&n.push(i)}),n}function e9(e,t,r){return Xu(e,TE(jo(t)),r)}function e_(e,t,r){t=jo(t,r);for(var n=!ts(e)&&oi(e),i=(n||e).length,o=0;o<i;o++){var s=n?n[o]:o;if(!t(e[s],s,e))return!1}return!0}function t_(e,t,r){t=jo(t,r);for(var n=!ts(e)&&oi(e),i=(n||e).length,o=0;o<i;o++){var s=n?n[o]:o;if(t(e[s],s,e))return!0}return!1}function Rs(e,t,r,n){return ts(e)||(e=zf(e)),(typeof r!="number"||n)&&(r=0),sI(e,t,r)>=0}const t9=oo(function(e,t,r){var n,i;return qi(t)?i=t:(t=Rg(t),n=t.slice(0,-1),t=t[t.length-1]),Fl(e,function(o){var s=i;if(!s){if(n&&n.length&&(o=XN(o,n)),o==null)return;s=o[t]}return s==null?s:s.apply(o,r)})});function xE(e,t){return Fl(e,SE(t))}function r9(e,t){return Xu(e,Rf(t))}function aI(e,t,r){var n=-1/0,i=-1/0,o,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=ts(e)?e:zf(e);for(var a=0,l=e.length;a<l;a++)o=e[a],o!=null&&o>n&&(n=o)}else t=jo(t,r),da(e,function(u,f,c){s=t(u,f,c),(s>i||s===-1/0&&n===-1/0)&&(n=u,i=s)});return n}function n9(e,t,r){var n=1/0,i=1/0,o,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=ts(e)?e:zf(e);for(var a=0,l=e.length;a<l;a++)o=e[a],o!=null&&o<n&&(n=o)}else t=jo(t,r),da(e,function(u,f,c){s=t(u,f,c),(s<i||s===1/0&&n===1/0)&&(n=u,i=s)});return n}var Ioe=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function lI(e){return e?dc(e)?Pg.call(e):bE(e)?e.match(Ioe):ts(e)?Fl(e,EE):zf(e):[]}function uI(e,t,r){if(t==null||r)return ts(e)||(e=zf(e)),e[Qb(e.length-1)];var n=lI(e),i=Ro(n);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=Qb(s,o),l=n[s];n[s]=n[a],n[a]=l}return n.slice(0,t)}function i9(e){return uI(e,1/0)}function o9(e,t,r){var n=0;return t=jo(t,r),xE(Fl(e,function(i,o,s){return{value:i,index:n++,criteria:t(i,o,s)}}).sort(function(i,o){var s=i.criteria,a=o.criteria;if(s!==a){if(s>a||s===void 0)return 1;if(s<a||a===void 0)return-1}return i.index-o.index}),"value")}function OE(e,t){return function(r,n,i){var o=t?[[],[]]:{};return n=jo(n,i),da(r,function(s,a){var l=n(s,a,r);e(o,s,l)}),o}}const s9=OE(function(e,t,r){hc(e,r)?e[r].push(t):e[r]=[t]}),a9=OE(function(e,t,r){e[r]=t}),l9=OE(function(e,t,r){hc(e,r)?e[r]++:e[r]=1}),u9=OE(function(e,t,r){e[r?0:1].push(t)},!0);function c9(e){return e==null?0:ts(e)?e.length:oi(e).length}function koe(e,t,r){return t in r}const cI=oo(function(e,t){var r={},n=t[0];if(e==null)return r;qi(n)?(t.length>1&&(n=Ng(n,t[1])),t=Vh(e)):(n=koe,t=Vf(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];n(a,s,e)&&(r[s]=a)}return r}),f9=oo(function(e,t){var r=t[0],n;return qi(r)?(r=TE(r),t.length>1&&(n=t[1])):(t=Fl(Vf(t,!1,!1),String),r=function(i,o){return!Rs(t,o)}),cI(e,r,n)});function fI(e,t,r){return Pg.call(e,0,Math.max(0,e.length-(t==null||r?1:t)))}function ah(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[0]:fI(e,e.length-t)}function wf(e,t,r){return Pg.call(e,t==null||r?1:t)}function d9(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[e.length-1]:wf(e,Math.max(0,e.length-t))}function h9(e){return Xu(e,Boolean)}function p9(e,t){return Vf(e,t,!1)}const dI=oo(function(e,t){return t=Vf(t,!0,!0),Xu(e,function(r){return!Rs(t,r)})}),m9=oo(function(e,t){return dI(e,t)});function Km(e,t,r,n){CN(t)||(n=r,r=t,t=!1),r!=null&&(r=jo(r,n));for(var i=[],o=[],s=0,a=Ro(e);s<a;s++){var l=e[s],u=r?r(l,s,e):l;t&&!r?((!s||o!==u)&&i.push(l),o=u):r?Rs(o,u)||(o.push(u),i.push(l)):Rs(i,l)||i.push(l)}return i}const g9=oo(function(e){return Km(Vf(e,!0,!0))});function v9(e){for(var t=[],r=arguments.length,n=0,i=Ro(e);n<i;n++){var o=e[n];if(!Rs(t,o)){var s;for(s=1;s<r&&Rs(arguments[s],o);s++);s===r&&t.push(o)}}return t}function Jm(e){for(var t=e&&aI(e,Ro).length||0,r=Array(t),n=0;n<t;n++)r[n]=xE(e,n);return r}const y9=oo(Jm);function w9(e,t){for(var r={},n=0,i=Ro(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r}function b9(e,t,r){t==null&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),o=0;o<n;o++,e+=r)i[o]=e;return i}function _9(e,t){if(t==null||t<1)return[];for(var r=[],n=0,i=e.length;n<i;)r.push(Pg.call(e,n,n+=t));return r}function hI(e,t){return e._chain?Xr(t).chain():t}function pI(e){return da(Wm(e),function(t){var r=Xr[t]=e[t];Xr.prototype[t]=function(){var n=[this._wrapped];return uoe.apply(n,arguments),hI(this,r.apply(Xr,n))}}),Xr}da(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=wE[e];Xr.prototype[e]=function(){var r=this._wrapped;return r!=null&&(t.apply(r,arguments),(e==="shift"||e==="splice")&&r.length===0&&delete r[0]),hI(this,r)}});da(["concat","join","slice"],function(e){var t=wE[e];Xr.prototype[e]=function(){var r=this._wrapped;return r!=null&&(r=t.apply(r,arguments)),hI(this,r)}});const Coe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:NN,after:G8,all:e_,allKeys:Vh,any:t_,assign:Oh,before:rI,bind:eI,bindAll:B8,chain:L8,chunk:_9,clone:S8,collect:Fl,compact:h9,compose:W8,constant:BN,contains:Rs,countBy:l9,create:E8,debounce:V8,default:Xr,defaults:JN,defer:z8,delay:tI,detect:Gm,difference:dI,drop:wf,each:da,escape:I8,every:e_,extend:KN,extendOwn:Oh,filter:Xu,find:Gm,findIndex:AE,findKey:nI,findLastIndex:iI,findWhere:Q8,first:ah,flatten:p9,foldl:sh,foldr:Zb,forEach:da,functions:Wm,get:QN,groupBy:s9,has:T8,head:ah,identity:EE,include:Rs,includes:Rs,indexBy:a9,indexOf:sI,initial:fI,inject:sh,intersection:v9,invert:WN,invoke:t9,isArguments:_E,isArray:dc,isArrayBuffer:MN,isBoolean:CN,isDataView:Hm,isDate:e8,isElement:ZV,isEmpty:c8,isEqual:d8,isError:r8,isFinite:s8,isFunction:qi,isMap:g8,isMatch:zN,isNaN:FN,isNull:QV,isNumber:jN,isObject:fc,isRegExp:t8,isSet:y8,isString:bE,isSymbol:DN,isTypedArray:UN,isUndefined:kN,isWeakMap:v8,isWeakSet:w8,iteratee:$E,keys:oi,last:d9,lastIndexOf:X8,map:Fl,mapObject:x8,matcher:Rf,matches:Rf,max:aI,memoize:U8,methods:Wm,min:n9,mixin:pI,negate:TE,noop:ZN,now:Ph,object:w9,omit:f9,once:K8,pairs:b8,partial:qf,partition:u9,pick:cI,pluck:xE,property:SE,propertyOf:O8,random:Qb,range:b9,reduce:sh,reduceRight:Zb,reject:e9,rest:wf,restArguments:oo,result:D8,sample:uI,select:Xu,shuffle:i9,size:c9,some:t_,sortBy:o9,sortedIndex:oI,tail:wf,take:ah,tap:$8,template:j8,templateSettings:C8,throttle:q8,times:P8,toArray:lI,toPath:YN,transpose:Jm,unescape:k8,union:g9,uniq:Km,unique:Km,uniqueId:M8,unzip:Jm,values:zf,where:r9,without:m9,wrap:H8,zip:y9},Symbol.toStringTag,{value:"Module"}));var bO=pI(Coe);bO._=bO;const joe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:NN,after:G8,all:e_,allKeys:Vh,any:t_,assign:Oh,before:rI,bind:eI,bindAll:B8,chain:L8,chunk:_9,clone:S8,collect:Fl,compact:h9,compose:W8,constant:BN,contains:Rs,countBy:l9,create:E8,debounce:V8,default:bO,defaults:JN,defer:z8,delay:tI,detect:Gm,difference:dI,drop:wf,each:da,escape:I8,every:e_,extend:KN,extendOwn:Oh,filter:Xu,find:Gm,findIndex:AE,findKey:nI,findLastIndex:iI,findWhere:Q8,first:ah,flatten:p9,foldl:sh,foldr:Zb,forEach:da,functions:Wm,get:QN,groupBy:s9,has:T8,head:ah,identity:EE,include:Rs,includes:Rs,indexBy:a9,indexOf:sI,initial:fI,inject:sh,intersection:v9,invert:WN,invoke:t9,isArguments:_E,isArray:dc,isArrayBuffer:MN,isBoolean:CN,isDataView:Hm,isDate:e8,isElement:ZV,isEmpty:c8,isEqual:d8,isError:r8,isFinite:s8,isFunction:qi,isMap:g8,isMatch:zN,isNaN:FN,isNull:QV,isNumber:jN,isObject:fc,isRegExp:t8,isSet:y8,isString:bE,isSymbol:DN,isTypedArray:UN,isUndefined:kN,isWeakMap:v8,isWeakSet:w8,iteratee:$E,keys:oi,last:d9,lastIndexOf:X8,map:Fl,mapObject:x8,matcher:Rf,matches:Rf,max:aI,memoize:U8,methods:Wm,min:n9,mixin:pI,negate:TE,noop:ZN,now:Ph,object:w9,omit:f9,once:K8,pairs:b8,partial:qf,partition:u9,pick:cI,pluck:xE,property:SE,propertyOf:O8,random:Qb,range:b9,reduce:sh,reduceRight:Zb,reject:e9,rest:wf,restArguments:oo,result:D8,sample:uI,select:Xu,shuffle:i9,size:c9,some:t_,sortBy:o9,sortedIndex:oI,tail:wf,take:ah,tap:$8,template:j8,templateSettings:C8,throttle:q8,times:P8,toArray:lI,toPath:YN,transpose:Jm,unescape:k8,union:g9,uniq:Km,unique:Km,uniqueId:M8,unzip:Jm,values:zf,where:r9,without:m9,wrap:H8,zip:y9},Symbol.toStringTag,{value:"Module"})),Doe=lP(joe);var l1={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var dM;function E9(){return dM||(dM=1,function(e){(function(t,r){e.exports=t.document?r(t,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:xs,function(t,r){var n=[],i=Object.getPrototypeOf,o=n.slice,s=n.flat?function(k){return n.flat.call(k)}:function(k){return n.concat.apply([],k)},a=n.push,l=n.indexOf,u={},f=u.toString,c=u.hasOwnProperty,p=c.toString,m=p.call(Object),g={},_=function(U){return typeof U=="function"&&typeof U.nodeType!="number"&&typeof U.item!="function"},v=function(U){return U!=null&&U===U.window},h=t.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function y(k,U,te){te=te||h;var le,pe,ge=te.createElement("script");if(ge.text=k,U)for(le in E)pe=U[le]||U.getAttribute&&U.getAttribute(le),pe&&ge.setAttribute(le,pe);te.head.appendChild(ge).parentNode.removeChild(ge)}function S(k){return k==null?k+"":typeof k=="object"||typeof k=="function"?u[f.call(k)]||"object":typeof k}var $="3.7.1",T=/HTML$/i,d=function(k,U){return new d.fn.init(k,U)};d.fn=d.prototype={jquery:$,constructor:d,length:0,toArray:function(){return o.call(this)},get:function(k){return k==null?o.call(this):k<0?this[k+this.length]:this[k]},pushStack:function(k){var U=d.merge(this.constructor(),k);return U.prevObject=this,U},each:function(k){return d.each(this,k)},map:function(k){return this.pushStack(d.map(this,function(U,te){return k.call(U,te,U)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(k,U){return(U+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(k,U){return U%2}))},eq:function(k){var U=this.length,te=+k+(k<0?U:0);return this.pushStack(te>=0&&te<U?[this[te]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},d.extend=d.fn.extend=function(){var k,U,te,le,pe,ge,_e=arguments[0]||{},Fe=1,Me=arguments.length,Ke=!1;for(typeof _e=="boolean"&&(Ke=_e,_e=arguments[Fe]||{},Fe++),typeof _e!="object"&&!_(_e)&&(_e={}),Fe===Me&&(_e=this,Fe--);Fe<Me;Fe++)if((k=arguments[Fe])!=null)for(U in k)le=k[U],!(U==="__proto__"||_e===le)&&(Ke&&le&&(d.isPlainObject(le)||(pe=Array.isArray(le)))?(te=_e[U],pe&&!Array.isArray(te)?ge=[]:!pe&&!d.isPlainObject(te)?ge={}:ge=te,pe=!1,_e[U]=d.extend(Ke,ge,le)):le!==void 0&&(_e[U]=le));return _e},d.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(k){throw new Error(k)},noop:function(){},isPlainObject:function(k){var U,te;return!k||f.call(k)!=="[object Object]"?!1:(U=i(k),U?(te=c.call(U,"constructor")&&U.constructor,typeof te=="function"&&p.call(te)===m):!0)},isEmptyObject:function(k){var U;for(U in k)return!1;return!0},globalEval:function(k,U,te){y(k,{nonce:U&&U.nonce},te)},each:function(k,U){var te,le=0;if(A(k))for(te=k.length;le<te&&U.call(k[le],le,k[le])!==!1;le++);else for(le in k)if(U.call(k[le],le,k[le])===!1)break;return k},text:function(k){var U,te="",le=0,pe=k.nodeType;if(!pe)for(;U=k[le++];)te+=d.text(U);return pe===1||pe===11?k.textContent:pe===9?k.documentElement.textContent:pe===3||pe===4?k.nodeValue:te},makeArray:function(k,U){var te=U||[];return k!=null&&(A(Object(k))?d.merge(te,typeof k=="string"?[k]:k):a.call(te,k)),te},inArray:function(k,U,te){return U==null?-1:l.call(U,k,te)},isXMLDoc:function(k){var U=k&&k.namespaceURI,te=k&&(k.ownerDocument||k).documentElement;return!T.test(U||te&&te.nodeName||"HTML")},merge:function(k,U){for(var te=+U.length,le=0,pe=k.length;le<te;le++)k[pe++]=U[le];return k.length=pe,k},grep:function(k,U,te){for(var le,pe=[],ge=0,_e=k.length,Fe=!te;ge<_e;ge++)le=!U(k[ge],ge),le!==Fe&&pe.push(k[ge]);return pe},map:function(k,U,te){var le,pe,ge=0,_e=[];if(A(k))for(le=k.length;ge<le;ge++)pe=U(k[ge],ge,te),pe!=null&&_e.push(pe);else for(ge in k)pe=U(k[ge],ge,te),pe!=null&&_e.push(pe);return s(_e)},guid:1,support:g}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=n[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(k,U){u["[object "+U+"]"]=U.toLowerCase()});function A(k){var U=!!k&&"length"in k&&k.length,te=S(k);return _(k)||v(k)?!1:te==="array"||U===0||typeof U=="number"&&U>0&&U-1 in k}function x(k,U){return k.nodeName&&k.nodeName.toLowerCase()===U.toLowerCase()}var O=n.pop,D=n.sort,F=n.splice,V="[\\x20\\t\\r\\n\\f]",Q=new RegExp("^"+V+"+|((?:^|[^\\\\])(?:\\\\.)*)"+V+"+$","g");d.contains=function(k,U){var te=U&&U.parentNode;return k===te||!!(te&&te.nodeType===1&&(k.contains?k.contains(te):k.compareDocumentPosition&&k.compareDocumentPosition(te)&16))};var H=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function X(k,U){return U?k==="\0"?"�":k.slice(0,-1)+"\\"+k.charCodeAt(k.length-1).toString(16)+" ":"\\"+k}d.escapeSelector=function(k){return(k+"").replace(H,X)};var fe=h,Z=a;(function(){var k,U,te,le,pe,ge=Z,_e,Fe,Me,Ke,rt,ut=d.expando,Qe=0,bt=0,Ht=wc(),gr=wc(),Xt=wc(),Wn=wc(),En=function(ke,He){return ke===He&&(pe=!0),0},ss="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",as="(?:\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",vr="\\["+V+"*("+as+")(?:"+V+"*([*^$|!~]?=)"+V+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+as+"))|)"+V+"*\\]",ll=":("+as+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+vr+")*)|.*)\\)|)",Ar=new RegExp(V+"+","g"),Sn=new RegExp("^"+V+"*,"+V+"*"),Zl=new RegExp("^"+V+"*([>+~]|"+V+")"+V+"*"),Gn=new RegExp(V+"|>"),Pi=new RegExp(ll),eu=new RegExp("^"+as+"$"),co={ID:new RegExp("^#("+as+")"),CLASS:new RegExp("^\\.("+as+")"),TAG:new RegExp("^("+as+"|[*])"),ATTR:new RegExp("^"+vr),PSEUDO:new RegExp("^"+ll),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+V+"*(even|odd|(([+-]|)(\\d*)n|)"+V+"*(?:([+-]|)"+V+"*(\\d+)|))"+V+"*\\)|)","i"),bool:new RegExp("^(?:"+ss+")$","i"),needsContext:new RegExp("^"+V+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+V+"*((?:-\\d)?\\d*)"+V+"*\\)|)(?=[^-]|$)","i")},mi=/^(?:input|select|textarea|button)$/i,gi=/^h\d$/i,$n=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ul=/[+~]/,ls=new RegExp("\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\([^\\r\\n\\f])","g"),vi=function(ke,He){var Ze="0x"+ke.slice(1)-65536;return He||(Ze<0?String.fromCharCode(Ze+65536):String.fromCharCode(Ze>>10|55296,Ze&1023|56320))},Zg=function(){_a()},ev=ru(function(ke){return ke.disabled===!0&&x(ke,"fieldset")},{dir:"parentNode",next:"legend"});function sd(){try{return _e.activeElement}catch{}}try{ge.apply(n=o.call(fe.childNodes),fe.childNodes),n[fe.childNodes.length].nodeType}catch{ge={apply:function(He,Ze){Z.apply(He,o.call(Ze))},call:function(He){Z.apply(He,o.call(arguments,1))}}}function Mr(ke,He,Ze,z){var ee,me,$e,Ve,qe,Je,Ge,Xe=He&&He.ownerDocument,pt=He?He.nodeType:9;if(Ze=Ze||[],typeof ke!="string"||!ke||pt!==1&&pt!==9&&pt!==11)return Ze;if(!z&&(_a(He),He=He||_e,Me)){if(pt!==11&&(qe=$n.exec(ke)))if(ee=qe[1]){if(pt===9)if($e=He.getElementById(ee)){if($e.id===ee)return ge.call(Ze,$e),Ze}else return Ze;else if(Xe&&($e=Xe.getElementById(ee))&&Mr.contains(He,$e)&&$e.id===ee)return ge.call(Ze,$e),Ze}else{if(qe[2])return ge.apply(Ze,He.getElementsByTagName(ke)),Ze;if((ee=qe[3])&&He.getElementsByClassName)return ge.apply(Ze,He.getElementsByClassName(ee)),Ze}if(!Wn[ke+" "]&&(!Ke||!Ke.test(ke))){if(Ge=ke,Xe=He,pt===1&&(Gn.test(ke)||Zl.test(ke))){for(Xe=ul.test(ke)&&rp(He.parentNode)||He,(Xe!=He||!g.scope)&&((Ve=He.getAttribute("id"))?Ve=d.escapeSelector(Ve):He.setAttribute("id",Ve=ut)),Je=tu(ke),me=Je.length;me--;)Je[me]=(Ve?"#"+Ve:":scope")+" "+_c(Je[me]);Ge=Je.join(",")}try{return ge.apply(Ze,Xe.querySelectorAll(Ge)),Ze}catch{Wn(ke,!0)}finally{Ve===ut&&He.removeAttribute("id")}}}return Sc(ke.replace(Q,"$1"),He,Ze,z)}function wc(){var ke=[];function He(Ze,z){return ke.push(Ze+" ")>U.cacheLength&&delete He[ke.shift()],He[Ze+" "]=z}return He}function fo(ke){return ke[ut]=!0,ke}function Us(ke){var He=_e.createElement("fieldset");try{return!!ke(He)}catch{return!1}finally{He.parentNode&&He.parentNode.removeChild(He),He=null}}function tv(ke){return function(He){return x(He,"input")&&He.type===ke}}function rv(ke){return function(He){return(x(He,"input")||x(He,"button"))&&He.type===ke}}function nv(ke){return function(He){return"form"in He?He.parentNode&&He.disabled===!1?"label"in He?"label"in He.parentNode?He.parentNode.disabled===ke:He.disabled===ke:He.isDisabled===ke||He.isDisabled!==!ke&&ev(He)===ke:He.disabled===ke:"label"in He?He.disabled===ke:!1}}function cl(ke){return fo(function(He){return He=+He,fo(function(Ze,z){for(var ee,me=ke([],Ze.length,He),$e=me.length;$e--;)Ze[ee=me[$e]]&&(Ze[ee]=!(z[ee]=Ze[ee]))})})}function rp(ke){return ke&&typeof ke.getElementsByTagName<"u"&&ke}function _a(ke){var He,Ze=ke?ke.ownerDocument||ke:fe;return Ze==_e||Ze.nodeType!==9||!Ze.documentElement||(_e=Ze,Fe=_e.documentElement,Me=!d.isXMLDoc(_e),rt=Fe.matches||Fe.webkitMatchesSelector||Fe.msMatchesSelector,Fe.msMatchesSelector&&fe!=_e&&(He=_e.defaultView)&&He.top!==He&&He.addEventListener("unload",Zg),g.getById=Us(function(z){return Fe.appendChild(z).id=d.expando,!_e.getElementsByName||!_e.getElementsByName(d.expando).length}),g.disconnectedMatch=Us(function(z){return rt.call(z,"*")}),g.scope=Us(function(){return _e.querySelectorAll(":scope")}),g.cssHas=Us(function(){try{return _e.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),g.getById?(U.filter.ID=function(z){var ee=z.replace(ls,vi);return function(me){return me.getAttribute("id")===ee}},U.find.ID=function(z,ee){if(typeof ee.getElementById<"u"&&Me){var me=ee.getElementById(z);return me?[me]:[]}}):(U.filter.ID=function(z){var ee=z.replace(ls,vi);return function(me){var $e=typeof me.getAttributeNode<"u"&&me.getAttributeNode("id");return $e&&$e.value===ee}},U.find.ID=function(z,ee){if(typeof ee.getElementById<"u"&&Me){var me,$e,Ve,qe=ee.getElementById(z);if(qe){if(me=qe.getAttributeNode("id"),me&&me.value===z)return[qe];for(Ve=ee.getElementsByName(z),$e=0;qe=Ve[$e++];)if(me=qe.getAttributeNode("id"),me&&me.value===z)return[qe]}return[]}}),U.find.TAG=function(z,ee){return typeof ee.getElementsByTagName<"u"?ee.getElementsByTagName(z):ee.querySelectorAll(z)},U.find.CLASS=function(z,ee){if(typeof ee.getElementsByClassName<"u"&&Me)return ee.getElementsByClassName(z)},Ke=[],Us(function(z){var ee;Fe.appendChild(z).innerHTML="<a id='"+ut+"' href='' disabled='disabled'></a><select id='"+ut+"-\r\\' disabled='disabled'><option selected=''></option></select>",z.querySelectorAll("[selected]").length||Ke.push("\\["+V+"*(?:value|"+ss+")"),z.querySelectorAll("[id~="+ut+"-]").length||Ke.push("~="),z.querySelectorAll("a#"+ut+"+*").length||Ke.push(".#.+[+~]"),z.querySelectorAll(":checked").length||Ke.push(":checked"),ee=_e.createElement("input"),ee.setAttribute("type","hidden"),z.appendChild(ee).setAttribute("name","D"),Fe.appendChild(z).disabled=!0,z.querySelectorAll(":disabled").length!==2&&Ke.push(":enabled",":disabled"),ee=_e.createElement("input"),ee.setAttribute("name",""),z.appendChild(ee),z.querySelectorAll("[name='']").length||Ke.push("\\["+V+"*name"+V+"*="+V+`*(?:''|"")`)}),g.cssHas||Ke.push(":has"),Ke=Ke.length&&new RegExp(Ke.join("|")),En=function(z,ee){if(z===ee)return pe=!0,0;var me=!z.compareDocumentPosition-!ee.compareDocumentPosition;return me||(me=(z.ownerDocument||z)==(ee.ownerDocument||ee)?z.compareDocumentPosition(ee):1,me&1||!g.sortDetached&&ee.compareDocumentPosition(z)===me?z===_e||z.ownerDocument==fe&&Mr.contains(fe,z)?-1:ee===_e||ee.ownerDocument==fe&&Mr.contains(fe,ee)?1:le?l.call(le,z)-l.call(le,ee):0:me&4?-1:1)}),_e}Mr.matches=function(ke,He){return Mr(ke,null,null,He)},Mr.matchesSelector=function(ke,He){if(_a(ke),Me&&!Wn[He+" "]&&(!Ke||!Ke.test(He)))try{var Ze=rt.call(ke,He);if(Ze||g.disconnectedMatch||ke.document&&ke.document.nodeType!==11)return Ze}catch{Wn(He,!0)}return Mr(He,_e,null,[ke]).length>0},Mr.contains=function(ke,He){return(ke.ownerDocument||ke)!=_e&&_a(ke),d.contains(ke,He)},Mr.attr=function(ke,He){(ke.ownerDocument||ke)!=_e&&_a(ke);var Ze=U.attrHandle[He.toLowerCase()],z=Ze&&c.call(U.attrHandle,He.toLowerCase())?Ze(ke,He,!Me):void 0;return z!==void 0?z:ke.getAttribute(He)},Mr.error=function(ke){throw new Error("Syntax error, unrecognized expression: "+ke)},d.uniqueSort=function(ke){var He,Ze=[],z=0,ee=0;if(pe=!g.sortStable,le=!g.sortStable&&o.call(ke,0),D.call(ke,En),pe){for(;He=ke[ee++];)He===ke[ee]&&(z=Ze.push(ee));for(;z--;)F.call(ke,Ze[z],1)}return le=null,ke},d.fn.uniqueSort=function(){return this.pushStack(d.uniqueSort(o.apply(this)))},U=d.expr={cacheLength:50,createPseudo:fo,match:co,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ke){return ke[1]=ke[1].replace(ls,vi),ke[3]=(ke[3]||ke[4]||ke[5]||"").replace(ls,vi),ke[2]==="~="&&(ke[3]=" "+ke[3]+" "),ke.slice(0,4)},CHILD:function(ke){return ke[1]=ke[1].toLowerCase(),ke[1].slice(0,3)==="nth"?(ke[3]||Mr.error(ke[0]),ke[4]=+(ke[4]?ke[5]+(ke[6]||1):2*(ke[3]==="even"||ke[3]==="odd")),ke[5]=+(ke[7]+ke[8]||ke[3]==="odd")):ke[3]&&Mr.error(ke[0]),ke},PSEUDO:function(ke){var He,Ze=!ke[6]&&ke[2];return co.CHILD.test(ke[0])?null:(ke[3]?ke[2]=ke[4]||ke[5]||"":Ze&&Pi.test(Ze)&&(He=tu(Ze,!0))&&(He=Ze.indexOf(")",Ze.length-He)-Ze.length)&&(ke[0]=ke[0].slice(0,He),ke[2]=Ze.slice(0,He)),ke.slice(0,3))}},filter:{TAG:function(ke){var He=ke.replace(ls,vi).toLowerCase();return ke==="*"?function(){return!0}:function(Ze){return x(Ze,He)}},CLASS:function(ke){var He=Ht[ke+" "];return He||(He=new RegExp("(^|"+V+")"+ke+"("+V+"|$)"))&&Ht(ke,function(Ze){return He.test(typeof Ze.className=="string"&&Ze.className||typeof Ze.getAttribute<"u"&&Ze.getAttribute("class")||"")})},ATTR:function(ke,He,Ze){return function(z){var ee=Mr.attr(z,ke);return ee==null?He==="!=":He?(ee+="",He==="="?ee===Ze:He==="!="?ee!==Ze:He==="^="?Ze&&ee.indexOf(Ze)===0:He==="*="?Ze&&ee.indexOf(Ze)>-1:He==="$="?Ze&&ee.slice(-Ze.length)===Ze:He==="~="?(" "+ee.replace(Ar," ")+" ").indexOf(Ze)>-1:He==="|="?ee===Ze||ee.slice(0,Ze.length+1)===Ze+"-":!1):!0}},CHILD:function(ke,He,Ze,z,ee){var me=ke.slice(0,3)!=="nth",$e=ke.slice(-4)!=="last",Ve=He==="of-type";return z===1&&ee===0?function(qe){return!!qe.parentNode}:function(qe,Je,Ge){var Xe,pt,gt,Lt,_t,Ut=me!==$e?"nextSibling":"previousSibling",Sr=qe.parentNode,Rr=Ve&&qe.nodeName.toLowerCase(),Cn=!Ge&&!Ve,Vr=!1;if(Sr){if(me){for(;Ut;){for(gt=qe;gt=gt[Ut];)if(Ve?x(gt,Rr):gt.nodeType===1)return!1;_t=Ut=ke==="only"&&!_t&&"nextSibling"}return!0}if(_t=[$e?Sr.firstChild:Sr.lastChild],$e&&Cn){for(pt=Sr[ut]||(Sr[ut]={}),Xe=pt[ke]||[],Lt=Xe[0]===Qe&&Xe[1],Vr=Lt&&Xe[2],gt=Lt&&Sr.childNodes[Lt];gt=++Lt&&gt&&gt[Ut]||(Vr=Lt=0)||_t.pop();)if(gt.nodeType===1&&++Vr&&gt===qe){pt[ke]=[Qe,Lt,Vr];break}}else if(Cn&&(pt=qe[ut]||(qe[ut]={}),Xe=pt[ke]||[],Lt=Xe[0]===Qe&&Xe[1],Vr=Lt),Vr===!1)for(;(gt=++Lt&&gt&&gt[Ut]||(Vr=Lt=0)||_t.pop())&&!((Ve?x(gt,Rr):gt.nodeType===1)&&++Vr&&(Cn&&(pt=gt[ut]||(gt[ut]={}),pt[ke]=[Qe,Vr]),gt===qe)););return Vr-=ee,Vr===z||Vr%z===0&&Vr/z>=0}}},PSEUDO:function(ke,He){var Ze,z=U.pseudos[ke]||U.setFilters[ke.toLowerCase()]||Mr.error("unsupported pseudo: "+ke);return z[ut]?z(He):z.length>1?(Ze=[ke,ke,"",He],U.setFilters.hasOwnProperty(ke.toLowerCase())?fo(function(ee,me){for(var $e,Ve=z(ee,He),qe=Ve.length;qe--;)$e=l.call(ee,Ve[qe]),ee[$e]=!(me[$e]=Ve[qe])}):function(ee){return z(ee,0,Ze)}):z}},pseudos:{not:fo(function(ke){var He=[],Ze=[],z=ld(ke.replace(Q,"$1"));return z[ut]?fo(function(ee,me,$e,Ve){for(var qe,Je=z(ee,null,Ve,[]),Ge=ee.length;Ge--;)(qe=Je[Ge])&&(ee[Ge]=!(me[Ge]=qe))}):function(ee,me,$e){return He[0]=ee,z(He,null,$e,Ze),He[0]=null,!Ze.pop()}}),has:fo(function(ke){return function(He){return Mr(ke,He).length>0}}),contains:fo(function(ke){return ke=ke.replace(ls,vi),function(He){return(He.textContent||d.text(He)).indexOf(ke)>-1}}),lang:fo(function(ke){return eu.test(ke||"")||Mr.error("unsupported lang: "+ke),ke=ke.replace(ls,vi).toLowerCase(),function(He){var Ze;do if(Ze=Me?He.lang:He.getAttribute("xml:lang")||He.getAttribute("lang"))return Ze=Ze.toLowerCase(),Ze===ke||Ze.indexOf(ke+"-")===0;while((He=He.parentNode)&&He.nodeType===1);return!1}}),target:function(ke){var He=t.location&&t.location.hash;return He&&He.slice(1)===ke.id},root:function(ke){return ke===Fe},focus:function(ke){return ke===sd()&&_e.hasFocus()&&!!(ke.type||ke.href||~ke.tabIndex)},enabled:nv(!1),disabled:nv(!0),checked:function(ke){return x(ke,"input")&&!!ke.checked||x(ke,"option")&&!!ke.selected},selected:function(ke){return ke.parentNode&&ke.parentNode.selectedIndex,ke.selected===!0},empty:function(ke){for(ke=ke.firstChild;ke;ke=ke.nextSibling)if(ke.nodeType<6)return!1;return!0},parent:function(ke){return!U.pseudos.empty(ke)},header:function(ke){return gi.test(ke.nodeName)},input:function(ke){return mi.test(ke.nodeName)},button:function(ke){return x(ke,"input")&&ke.type==="button"||x(ke,"button")},text:function(ke){var He;return x(ke,"input")&&ke.type==="text"&&((He=ke.getAttribute("type"))==null||He.toLowerCase()==="text")},first:cl(function(){return[0]}),last:cl(function(ke,He){return[He-1]}),eq:cl(function(ke,He,Ze){return[Ze<0?Ze+He:Ze]}),even:cl(function(ke,He){for(var Ze=0;Ze<He;Ze+=2)ke.push(Ze);return ke}),odd:cl(function(ke,He){for(var Ze=1;Ze<He;Ze+=2)ke.push(Ze);return ke}),lt:cl(function(ke,He,Ze){var z;for(Ze<0?z=Ze+He:Ze>He?z=He:z=Ze;--z>=0;)ke.push(z);return ke}),gt:cl(function(ke,He,Ze){for(var z=Ze<0?Ze+He:Ze;++z<He;)ke.push(z);return ke})}},U.pseudos.nth=U.pseudos.eq;for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})U.pseudos[k]=tv(k);for(k in{submit:!0,reset:!0})U.pseudos[k]=rv(k);function bc(){}bc.prototype=U.filters=U.pseudos,U.setFilters=new bc;function tu(ke,He){var Ze,z,ee,me,$e,Ve,qe,Je=gr[ke+" "];if(Je)return He?0:Je.slice(0);for($e=ke,Ve=[],qe=U.preFilter;$e;){(!Ze||(z=Sn.exec($e)))&&(z&&($e=$e.slice(z[0].length)||$e),Ve.push(ee=[])),Ze=!1,(z=Zl.exec($e))&&(Ze=z.shift(),ee.push({value:Ze,type:z[0].replace(Q," ")}),$e=$e.slice(Ze.length));for(me in U.filter)(z=co[me].exec($e))&&(!qe[me]||(z=qe[me](z)))&&(Ze=z.shift(),ee.push({value:Ze,type:me,matches:z}),$e=$e.slice(Ze.length));if(!Ze)break}return He?$e.length:$e?Mr.error(ke):gr(ke,Ve).slice(0)}function _c(ke){for(var He=0,Ze=ke.length,z="";He<Ze;He++)z+=ke[He].value;return z}function ru(ke,He,Ze){var z=He.dir,ee=He.next,me=ee||z,$e=Ze&&me==="parentNode",Ve=bt++;return He.first?function(qe,Je,Ge){for(;qe=qe[z];)if(qe.nodeType===1||$e)return ke(qe,Je,Ge);return!1}:function(qe,Je,Ge){var Xe,pt,gt=[Qe,Ve];if(Ge){for(;qe=qe[z];)if((qe.nodeType===1||$e)&&ke(qe,Je,Ge))return!0}else for(;qe=qe[z];)if(qe.nodeType===1||$e)if(pt=qe[ut]||(qe[ut]={}),ee&&x(qe,ee))qe=qe[z]||qe;else{if((Xe=pt[me])&&Xe[0]===Qe&&Xe[1]===Ve)return gt[2]=Xe[2];if(pt[me]=gt,gt[2]=ke(qe,Je,Ge))return!0}return!1}}function Ec(ke){return ke.length>1?function(He,Ze,z){for(var ee=ke.length;ee--;)if(!ke[ee](He,Ze,z))return!1;return!0}:ke[0]}function ad(ke,He,Ze){for(var z=0,ee=He.length;z<ee;z++)Mr(ke,He[z],Ze);return Ze}function Lo(ke,He,Ze,z,ee){for(var me,$e=[],Ve=0,qe=ke.length,Je=He!=null;Ve<qe;Ve++)(me=ke[Ve])&&(!Ze||Ze(me,z,ee))&&($e.push(me),Je&&He.push(Ve));return $e}function nu(ke,He,Ze,z,ee,me){return z&&!z[ut]&&(z=nu(z)),ee&&!ee[ut]&&(ee=nu(ee,me)),fo(function($e,Ve,qe,Je){var Ge,Xe,pt,gt,Lt=[],_t=[],Ut=Ve.length,Sr=$e||ad(He||"*",qe.nodeType?[qe]:qe,[]),Rr=ke&&($e||!He)?Lo(Sr,Lt,ke,qe,Je):Sr;if(Ze?(gt=ee||($e?ke:Ut||z)?[]:Ve,Ze(Rr,gt,qe,Je)):gt=Rr,z)for(Ge=Lo(gt,_t),z(Ge,[],qe,Je),Xe=Ge.length;Xe--;)(pt=Ge[Xe])&&(gt[_t[Xe]]=!(Rr[_t[Xe]]=pt));if($e){if(ee||ke){if(ee){for(Ge=[],Xe=gt.length;Xe--;)(pt=gt[Xe])&&Ge.push(Rr[Xe]=pt);ee(null,gt=[],Ge,Je)}for(Xe=gt.length;Xe--;)(pt=gt[Xe])&&(Ge=ee?l.call($e,pt):Lt[Xe])>-1&&($e[Ge]=!(Ve[Ge]=pt))}}else gt=Lo(gt===Ve?gt.splice(Ut,gt.length):gt),ee?ee(null,Ve,gt,Je):ge.apply(Ve,gt)})}function iu(ke){for(var He,Ze,z,ee=ke.length,me=U.relative[ke[0].type],$e=me||U.relative[" "],Ve=me?1:0,qe=ru(function(Xe){return Xe===He},$e,!0),Je=ru(function(Xe){return l.call(He,Xe)>-1},$e,!0),Ge=[function(Xe,pt,gt){var Lt=!me&&(gt||pt!=te)||((He=pt).nodeType?qe(Xe,pt,gt):Je(Xe,pt,gt));return He=null,Lt}];Ve<ee;Ve++)if(Ze=U.relative[ke[Ve].type])Ge=[ru(Ec(Ge),Ze)];else{if(Ze=U.filter[ke[Ve].type].apply(null,ke[Ve].matches),Ze[ut]){for(z=++Ve;z<ee&&!U.relative[ke[z].type];z++);return nu(Ve>1&&Ec(Ge),Ve>1&&_c(ke.slice(0,Ve-1).concat({value:ke[Ve-2].type===" "?"*":""})).replace(Q,"$1"),Ze,Ve<z&&iu(ke.slice(Ve,z)),z<ee&&iu(ke=ke.slice(z)),z<ee&&_c(ke))}Ge.push(Ze)}return Ec(Ge)}function iv(ke,He){var Ze=He.length>0,z=ke.length>0,ee=function(me,$e,Ve,qe,Je){var Ge,Xe,pt,gt=0,Lt="0",_t=me&&[],Ut=[],Sr=te,Rr=me||z&&U.find.TAG("*",Je),Cn=Qe+=Sr==null?1:Math.random()||.1,Vr=Rr.length;for(Je&&(te=$e==_e||$e||Je);Lt!==Vr&&(Ge=Rr[Lt])!=null;Lt++){if(z&&Ge){for(Xe=0,!$e&&Ge.ownerDocument!=_e&&(_a(Ge),Ve=!Me);pt=ke[Xe++];)if(pt(Ge,$e||_e,Ve)){ge.call(qe,Ge);break}Je&&(Qe=Cn)}Ze&&((Ge=!pt&&Ge)&&gt--,me&&_t.push(Ge))}if(gt+=Lt,Ze&&Lt!==gt){for(Xe=0;pt=He[Xe++];)pt(_t,Ut,$e,Ve);if(me){if(gt>0)for(;Lt--;)_t[Lt]||Ut[Lt]||(Ut[Lt]=O.call(qe));Ut=Lo(Ut)}ge.apply(qe,Ut),Je&&!me&&Ut.length>0&&gt+He.length>1&&d.uniqueSort(qe)}return Je&&(Qe=Cn,te=Sr),_t};return Ze?fo(ee):ee}function ld(ke,He){var Ze,z=[],ee=[],me=Xt[ke+" "];if(!me){for(He||(He=tu(ke)),Ze=He.length;Ze--;)me=iu(He[Ze]),me[ut]?z.push(me):ee.push(me);me=Xt(ke,iv(ee,z)),me.selector=ke}return me}function Sc(ke,He,Ze,z){var ee,me,$e,Ve,qe,Je=typeof ke=="function"&&ke,Ge=!z&&tu(ke=Je.selector||ke);if(Ze=Ze||[],Ge.length===1){if(me=Ge[0]=Ge[0].slice(0),me.length>2&&($e=me[0]).type==="ID"&&He.nodeType===9&&Me&&U.relative[me[1].type]){if(He=(U.find.ID($e.matches[0].replace(ls,vi),He)||[])[0],He)Je&&(He=He.parentNode);else return Ze;ke=ke.slice(me.shift().value.length)}for(ee=co.needsContext.test(ke)?0:me.length;ee--&&($e=me[ee],!U.relative[Ve=$e.type]);)if((qe=U.find[Ve])&&(z=qe($e.matches[0].replace(ls,vi),ul.test(me[0].type)&&rp(He.parentNode)||He))){if(me.splice(ee,1),ke=z.length&&_c(me),!ke)return ge.apply(Ze,z),Ze;break}}return(Je||ld(ke,Ge))(z,He,!Me,Ze,!He||ul.test(ke)&&rp(He.parentNode)||He),Ze}g.sortStable=ut.split("").sort(En).join("")===ut,_a(),g.sortDetached=Us(function(ke){return ke.compareDocumentPosition(_e.createElement("fieldset"))&1}),d.find=Mr,d.expr[":"]=d.expr.pseudos,d.unique=d.uniqueSort,Mr.compile=ld,Mr.select=Sc,Mr.setDocument=_a,Mr.tokenize=tu,Mr.escape=d.escapeSelector,Mr.getText=d.text,Mr.isXML=d.isXMLDoc,Mr.selectors=d.expr,Mr.support=d.support,Mr.uniqueSort=d.uniqueSort})();var ne=function(k,U,te){for(var le=[],pe=te!==void 0;(k=k[U])&&k.nodeType!==9;)if(k.nodeType===1){if(pe&&d(k).is(te))break;le.push(k)}return le},C=function(k,U){for(var te=[];k;k=k.nextSibling)k.nodeType===1&&k!==U&&te.push(k);return te},B=d.expr.match.needsContext,K=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(k,U,te){return _(U)?d.grep(k,function(le,pe){return!!U.call(le,pe,le)!==te}):U.nodeType?d.grep(k,function(le){return le===U!==te}):typeof U!="string"?d.grep(k,function(le){return l.call(U,le)>-1!==te}):d.filter(U,k,te)}d.filter=function(k,U,te){var le=U[0];return te&&(k=":not("+k+")"),U.length===1&&le.nodeType===1?d.find.matchesSelector(le,k)?[le]:[]:d.find.matches(k,d.grep(U,function(pe){return pe.nodeType===1}))},d.fn.extend({find:function(k){var U,te,le=this.length,pe=this;if(typeof k!="string")return this.pushStack(d(k).filter(function(){for(U=0;U<le;U++)if(d.contains(pe[U],this))return!0}));for(te=this.pushStack([]),U=0;U<le;U++)d.find(k,pe[U],te);return le>1?d.uniqueSort(te):te},filter:function(k){return this.pushStack(P(this,k||[],!1))},not:function(k){return this.pushStack(P(this,k||[],!0))},is:function(k){return!!P(this,typeof k=="string"&&B.test(k)?d(k):k||[],!1).length}});var I,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ie=d.fn.init=function(k,U,te){var le,pe;if(!k)return this;if(te=te||I,typeof k=="string")if(k[0]==="<"&&k[k.length-1]===">"&&k.length>=3?le=[null,k,null]:le=q.exec(k),le&&(le[1]||!U))if(le[1]){if(U=U instanceof d?U[0]:U,d.merge(this,d.parseHTML(le[1],U&&U.nodeType?U.ownerDocument||U:h,!0)),K.test(le[1])&&d.isPlainObject(U))for(le in U)_(this[le])?this[le](U[le]):this.attr(le,U[le]);return this}else return pe=h.getElementById(le[2]),pe&&(this[0]=pe,this.length=1),this;else return!U||U.jquery?(U||te).find(k):this.constructor(U).find(k);else{if(k.nodeType)return this[0]=k,this.length=1,this;if(_(k))return te.ready!==void 0?te.ready(k):k(d)}return d.makeArray(k,this)};ie.prototype=d.fn,I=d(h);var J=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(k){var U=d(k,this),te=U.length;return this.filter(function(){for(var le=0;le<te;le++)if(d.contains(this,U[le]))return!0})},closest:function(k,U){var te,le=0,pe=this.length,ge=[],_e=typeof k!="string"&&d(k);if(!B.test(k)){for(;le<pe;le++)for(te=this[le];te&&te!==U;te=te.parentNode)if(te.nodeType<11&&(_e?_e.index(te)>-1:te.nodeType===1&&d.find.matchesSelector(te,k))){ge.push(te);break}}return this.pushStack(ge.length>1?d.uniqueSort(ge):ge)},index:function(k){return k?typeof k=="string"?l.call(d(k),this[0]):l.call(this,k.jquery?k[0]:k):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(k,U){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(k,U))))},addBack:function(k){return this.add(k==null?this.prevObject:this.prevObject.filter(k))}});function se(k,U){for(;(k=k[U])&&k.nodeType!==1;);return k}d.each({parent:function(k){var U=k.parentNode;return U&&U.nodeType!==11?U:null},parents:function(k){return ne(k,"parentNode")},parentsUntil:function(k,U,te){return ne(k,"parentNode",te)},next:function(k){return se(k,"nextSibling")},prev:function(k){return se(k,"previousSibling")},nextAll:function(k){return ne(k,"nextSibling")},prevAll:function(k){return ne(k,"previousSibling")},nextUntil:function(k,U,te){return ne(k,"nextSibling",te)},prevUntil:function(k,U,te){return ne(k,"previousSibling",te)},siblings:function(k){return C((k.parentNode||{}).firstChild,k)},children:function(k){return C(k.firstChild)},contents:function(k){return k.contentDocument!=null&&i(k.contentDocument)?k.contentDocument:(x(k,"template")&&(k=k.content||k),d.merge([],k.childNodes))}},function(k,U){d.fn[k]=function(te,le){var pe=d.map(this,U,te);return k.slice(-5)!=="Until"&&(le=te),le&&typeof le=="string"&&(pe=d.filter(le,pe)),this.length>1&&(Y[k]||d.uniqueSort(pe),J.test(k)&&pe.reverse()),this.pushStack(pe)}});var be=/[^\x20\t\r\n\f]+/g;function Pe(k){var U={};return d.each(k.match(be)||[],function(te,le){U[le]=!0}),U}d.Callbacks=function(k){k=typeof k=="string"?Pe(k):d.extend({},k);var U,te,le,pe,ge=[],_e=[],Fe=-1,Me=function(){for(pe=pe||k.once,le=U=!0;_e.length;Fe=-1)for(te=_e.shift();++Fe<ge.length;)ge[Fe].apply(te[0],te[1])===!1&&k.stopOnFalse&&(Fe=ge.length,te=!1);k.memory||(te=!1),U=!1,pe&&(te?ge=[]:ge="")},Ke={add:function(){return ge&&(te&&!U&&(Fe=ge.length-1,_e.push(te)),function rt(ut){d.each(ut,function(Qe,bt){_(bt)?(!k.unique||!Ke.has(bt))&&ge.push(bt):bt&&bt.length&&S(bt)!=="string"&&rt(bt)})}(arguments),te&&!U&&Me()),this},remove:function(){return d.each(arguments,function(rt,ut){for(var Qe;(Qe=d.inArray(ut,ge,Qe))>-1;)ge.splice(Qe,1),Qe<=Fe&&Fe--}),this},has:function(rt){return rt?d.inArray(rt,ge)>-1:ge.length>0},empty:function(){return ge&&(ge=[]),this},disable:function(){return pe=_e=[],ge=te="",this},disabled:function(){return!ge},lock:function(){return pe=_e=[],!te&&!U&&(ge=te=""),this},locked:function(){return!!pe},fireWith:function(rt,ut){return pe||(ut=ut||[],ut=[rt,ut.slice?ut.slice():ut],_e.push(ut),U||Me()),this},fire:function(){return Ke.fireWith(this,arguments),this},fired:function(){return!!le}};return Ke};function R(k){return k}function j(k){throw k}function M(k,U,te,le){var pe;try{k&&_(pe=k.promise)?pe.call(k).done(U).fail(te):k&&_(pe=k.then)?pe.call(k,U,te):U.apply(void 0,[k].slice(le))}catch(ge){te.apply(void 0,[ge])}}d.extend({Deferred:function(k){var U=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],te="pending",le={state:function(){return te},always:function(){return pe.done(arguments).fail(arguments),this},catch:function(ge){return le.then(null,ge)},pipe:function(){var ge=arguments;return d.Deferred(function(_e){d.each(U,function(Fe,Me){var Ke=_(ge[Me[4]])&&ge[Me[4]];pe[Me[1]](function(){var rt=Ke&&Ke.apply(this,arguments);rt&&_(rt.promise)?rt.promise().progress(_e.notify).done(_e.resolve).fail(_e.reject):_e[Me[0]+"With"](this,Ke?[rt]:arguments)})}),ge=null}).promise()},then:function(ge,_e,Fe){var Me=0;function Ke(rt,ut,Qe,bt){return function(){var Ht=this,gr=arguments,Xt=function(){var En,ss;if(!(rt<Me)){if(En=Qe.apply(Ht,gr),En===ut.promise())throw new TypeError("Thenable self-resolution");ss=En&&(typeof En=="object"||typeof En=="function")&&En.then,_(ss)?bt?ss.call(En,Ke(Me,ut,R,bt),Ke(Me,ut,j,bt)):(Me++,ss.call(En,Ke(Me,ut,R,bt),Ke(Me,ut,j,bt),Ke(Me,ut,R,ut.notifyWith))):(Qe!==R&&(Ht=void 0,gr=[En]),(bt||ut.resolveWith)(Ht,gr))}},Wn=bt?Xt:function(){try{Xt()}catch(En){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(En,Wn.error),rt+1>=Me&&(Qe!==j&&(Ht=void 0,gr=[En]),ut.rejectWith(Ht,gr))}};rt?Wn():(d.Deferred.getErrorHook?Wn.error=d.Deferred.getErrorHook():d.Deferred.getStackHook&&(Wn.error=d.Deferred.getStackHook()),t.setTimeout(Wn))}}return d.Deferred(function(rt){U[0][3].add(Ke(0,rt,_(Fe)?Fe:R,rt.notifyWith)),U[1][3].add(Ke(0,rt,_(ge)?ge:R)),U[2][3].add(Ke(0,rt,_(_e)?_e:j))}).promise()},promise:function(ge){return ge!=null?d.extend(ge,le):le}},pe={};return d.each(U,function(ge,_e){var Fe=_e[2],Me=_e[5];le[_e[1]]=Fe.add,Me&&Fe.add(function(){te=Me},U[3-ge][2].disable,U[3-ge][3].disable,U[0][2].lock,U[0][3].lock),Fe.add(_e[3].fire),pe[_e[0]]=function(){return pe[_e[0]+"With"](this===pe?void 0:this,arguments),this},pe[_e[0]+"With"]=Fe.fireWith}),le.promise(pe),k&&k.call(pe,pe),pe},when:function(k){var U=arguments.length,te=U,le=Array(te),pe=o.call(arguments),ge=d.Deferred(),_e=function(Fe){return function(Me){le[Fe]=this,pe[Fe]=arguments.length>1?o.call(arguments):Me,--U||ge.resolveWith(le,pe)}};if(U<=1&&(M(k,ge.done(_e(te)).resolve,ge.reject,!U),ge.state()==="pending"||_(pe[te]&&pe[te].then)))return ge.then();for(;te--;)M(pe[te],_e(te),ge.reject);return ge.promise()}});var G=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(k,U){t.console&&t.console.warn&&k&&G.test(k.name)&&t.console.warn("jQuery.Deferred exception: "+k.message,k.stack,U)},d.readyException=function(k){t.setTimeout(function(){throw k})};var oe=d.Deferred();d.fn.ready=function(k){return oe.then(k).catch(function(U){d.readyException(U)}),this},d.extend({isReady:!1,readyWait:1,ready:function(k){(k===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(k!==!0&&--d.readyWait>0)&&oe.resolveWith(h,[d]))}}),d.ready.then=oe.then;function ce(){h.removeEventListener("DOMContentLoaded",ce),t.removeEventListener("load",ce),d.ready()}h.readyState==="complete"||h.readyState!=="loading"&&!h.documentElement.doScroll?t.setTimeout(d.ready):(h.addEventListener("DOMContentLoaded",ce),t.addEventListener("load",ce));var de=function(k,U,te,le,pe,ge,_e){var Fe=0,Me=k.length,Ke=te==null;if(S(te)==="object"){pe=!0;for(Fe in te)de(k,U,Fe,te[Fe],!0,ge,_e)}else if(le!==void 0&&(pe=!0,_(le)||(_e=!0),Ke&&(_e?(U.call(k,le),U=null):(Ke=U,U=function(rt,ut,Qe){return Ke.call(d(rt),Qe)})),U))for(;Fe<Me;Fe++)U(k[Fe],te,_e?le:le.call(k[Fe],Fe,U(k[Fe],te)));return pe?k:Ke?U.call(k):Me?U(k[0],te):ge},ve=/^-ms-/,Ie=/-([a-z])/g;function Be(k,U){return U.toUpperCase()}function De(k){return k.replace(ve,"ms-").replace(Ie,Be)}var nt=function(k){return k.nodeType===1||k.nodeType===9||!+k.nodeType};function We(){this.expando=d.expando+We.uid++}We.uid=1,We.prototype={cache:function(k){var U=k[this.expando];return U||(U={},nt(k)&&(k.nodeType?k[this.expando]=U:Object.defineProperty(k,this.expando,{value:U,configurable:!0}))),U},set:function(k,U,te){var le,pe=this.cache(k);if(typeof U=="string")pe[De(U)]=te;else for(le in U)pe[De(le)]=U[le];return pe},get:function(k,U){return U===void 0?this.cache(k):k[this.expando]&&k[this.expando][De(U)]},access:function(k,U,te){return U===void 0||U&&typeof U=="string"&&te===void 0?this.get(k,U):(this.set(k,U,te),te!==void 0?te:U)},remove:function(k,U){var te,le=k[this.expando];if(le!==void 0){if(U!==void 0)for(Array.isArray(U)?U=U.map(De):(U=De(U),U=U in le?[U]:U.match(be)||[]),te=U.length;te--;)delete le[U[te]];(U===void 0||d.isEmptyObject(le))&&(k.nodeType?k[this.expando]=void 0:delete k[this.expando])}},hasData:function(k){var U=k[this.expando];return U!==void 0&&!d.isEmptyObject(U)}};var Ue=new We,W=new We,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,L=/[A-Z]/g;function re(k){return k==="true"?!0:k==="false"?!1:k==="null"?null:k===+k+""?+k:N.test(k)?JSON.parse(k):k}function ye(k,U,te){var le;if(te===void 0&&k.nodeType===1)if(le="data-"+U.replace(L,"-$&").toLowerCase(),te=k.getAttribute(le),typeof te=="string"){try{te=re(te)}catch{}W.set(k,U,te)}else te=void 0;return te}d.extend({hasData:function(k){return W.hasData(k)||Ue.hasData(k)},data:function(k,U,te){return W.access(k,U,te)},removeData:function(k,U){W.remove(k,U)},_data:function(k,U,te){return Ue.access(k,U,te)},_removeData:function(k,U){Ue.remove(k,U)}}),d.fn.extend({data:function(k,U){var te,le,pe,ge=this[0],_e=ge&&ge.attributes;if(k===void 0){if(this.length&&(pe=W.get(ge),ge.nodeType===1&&!Ue.get(ge,"hasDataAttrs"))){for(te=_e.length;te--;)_e[te]&&(le=_e[te].name,le.indexOf("data-")===0&&(le=De(le.slice(5)),ye(ge,le,pe[le])));Ue.set(ge,"hasDataAttrs",!0)}return pe}return typeof k=="object"?this.each(function(){W.set(this,k)}):de(this,function(Fe){var Me;if(ge&&Fe===void 0)return Me=W.get(ge,k),Me!==void 0||(Me=ye(ge,k),Me!==void 0)?Me:void 0;this.each(function(){W.set(this,k,Fe)})},null,U,arguments.length>1,null,!0)},removeData:function(k){return this.each(function(){W.remove(this,k)})}}),d.extend({queue:function(k,U,te){var le;if(k)return U=(U||"fx")+"queue",le=Ue.get(k,U),te&&(!le||Array.isArray(te)?le=Ue.access(k,U,d.makeArray(te)):le.push(te)),le||[]},dequeue:function(k,U){U=U||"fx";var te=d.queue(k,U),le=te.length,pe=te.shift(),ge=d._queueHooks(k,U),_e=function(){d.dequeue(k,U)};pe==="inprogress"&&(pe=te.shift(),le--),pe&&(U==="fx"&&te.unshift("inprogress"),delete ge.stop,pe.call(k,_e,ge)),!le&&ge&&ge.empty.fire()},_queueHooks:function(k,U){var te=U+"queueHooks";return Ue.get(k,te)||Ue.access(k,te,{empty:d.Callbacks("once memory").add(function(){Ue.remove(k,[U+"queue",te])})})}}),d.fn.extend({queue:function(k,U){var te=2;return typeof k!="string"&&(U=k,k="fx",te--),arguments.length<te?d.queue(this[0],k):U===void 0?this:this.each(function(){var le=d.queue(this,k,U);d._queueHooks(this,k),k==="fx"&&le[0]!=="inprogress"&&d.dequeue(this,k)})},dequeue:function(k){return this.each(function(){d.dequeue(this,k)})},clearQueue:function(k){return this.queue(k||"fx",[])},promise:function(k,U){var te,le=1,pe=d.Deferred(),ge=this,_e=this.length,Fe=function(){--le||pe.resolveWith(ge,[ge])};for(typeof k!="string"&&(U=k,k=void 0),k=k||"fx";_e--;)te=Ue.get(ge[_e],k+"queueHooks"),te&&te.empty&&(le++,te.empty.add(Fe));return Fe(),pe.promise(U)}});var Ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,je=new RegExp("^(?:([+-])=|)("+Ee+")([a-z%]*)$","i"),Re=["Top","Right","Bottom","Left"],Le=h.documentElement,dt=function(k){return d.contains(k.ownerDocument,k)},yt={composed:!0};Le.getRootNode&&(dt=function(k){return d.contains(k.ownerDocument,k)||k.getRootNode(yt)===k.ownerDocument});var lt=function(k,U){return k=U||k,k.style.display==="none"||k.style.display===""&&dt(k)&&d.css(k,"display")==="none"};function Ct(k,U,te,le){var pe,ge,_e=20,Fe=le?function(){return le.cur()}:function(){return d.css(k,U,"")},Me=Fe(),Ke=te&&te[3]||(d.cssNumber[U]?"":"px"),rt=k.nodeType&&(d.cssNumber[U]||Ke!=="px"&&+Me)&&je.exec(d.css(k,U));if(rt&&rt[3]!==Ke){for(Me=Me/2,Ke=Ke||rt[3],rt=+Me||1;_e--;)d.style(k,U,rt+Ke),(1-ge)*(1-(ge=Fe()/Me||.5))<=0&&(_e=0),rt=rt/ge;rt=rt*2,d.style(k,U,rt+Ke),te=te||[]}return te&&(rt=+rt||+Me||0,pe=te[1]?rt+(te[1]+1)*te[2]:+te[2],le&&(le.unit=Ke,le.start=rt,le.end=pe)),pe}var Er={};function Pr(k){var U,te=k.ownerDocument,le=k.nodeName,pe=Er[le];return pe||(U=te.body.appendChild(te.createElement(le)),pe=d.css(U,"display"),U.parentNode.removeChild(U),pe==="none"&&(pe="block"),Er[le]=pe,pe)}function ir(k,U){for(var te,le,pe=[],ge=0,_e=k.length;ge<_e;ge++)le=k[ge],le.style&&(te=le.style.display,U?(te==="none"&&(pe[ge]=Ue.get(le,"display")||null,pe[ge]||(le.style.display="")),le.style.display===""&&lt(le)&&(pe[ge]=Pr(le))):te!=="none"&&(pe[ge]="none",Ue.set(le,"display",te)));for(ge=0;ge<_e;ge++)pe[ge]!=null&&(k[ge].style.display=pe[ge]);return k}d.fn.extend({show:function(){return ir(this,!0)},hide:function(){return ir(this)},toggle:function(k){return typeof k=="boolean"?k?this.show():this.hide():this.each(function(){lt(this)?d(this).show():d(this).hide()})}});var mr=/^(?:checkbox|radio)$/i,cn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Vt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var k=h.createDocumentFragment(),U=k.appendChild(h.createElement("div")),te=h.createElement("input");te.setAttribute("type","radio"),te.setAttribute("checked","checked"),te.setAttribute("name","t"),U.appendChild(te),g.checkClone=U.cloneNode(!0).cloneNode(!0).lastChild.checked,U.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!U.cloneNode(!0).lastChild.defaultValue,U.innerHTML="<option></option>",g.option=!!U.lastChild})();var zt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};zt.tbody=zt.tfoot=zt.colgroup=zt.caption=zt.thead,zt.th=zt.td,g.option||(zt.optgroup=zt.option=[1,"<select multiple='multiple'>","</select>"]);function At(k,U){var te;return typeof k.getElementsByTagName<"u"?te=k.getElementsByTagName(U||"*"):typeof k.querySelectorAll<"u"?te=k.querySelectorAll(U||"*"):te=[],U===void 0||U&&x(k,U)?d.merge([k],te):te}function Se(k,U){for(var te=0,le=k.length;te<le;te++)Ue.set(k[te],"globalEval",!U||Ue.get(U[te],"globalEval"))}var Ne=/<|&#?\w+;/;function ht(k,U,te,le,pe){for(var ge,_e,Fe,Me,Ke,rt,ut=U.createDocumentFragment(),Qe=[],bt=0,Ht=k.length;bt<Ht;bt++)if(ge=k[bt],ge||ge===0)if(S(ge)==="object")d.merge(Qe,ge.nodeType?[ge]:ge);else if(!Ne.test(ge))Qe.push(U.createTextNode(ge));else{for(_e=_e||ut.appendChild(U.createElement("div")),Fe=(cn.exec(ge)||["",""])[1].toLowerCase(),Me=zt[Fe]||zt._default,_e.innerHTML=Me[1]+d.htmlPrefilter(ge)+Me[2],rt=Me[0];rt--;)_e=_e.lastChild;d.merge(Qe,_e.childNodes),_e=ut.firstChild,_e.textContent=""}for(ut.textContent="",bt=0;ge=Qe[bt++];){if(le&&d.inArray(ge,le)>-1){pe&&pe.push(ge);continue}if(Ke=dt(ge),_e=At(ut.appendChild(ge),"script"),Ke&&Se(_e),te)for(rt=0;ge=_e[rt++];)Vt.test(ge.type||"")&&te.push(ge)}return ut}var Ye=/^([^.]*)(?:\.(.+)|)/;function it(){return!0}function Pt(){return!1}function qt(k,U,te,le,pe,ge){var _e,Fe;if(typeof U=="object"){typeof te!="string"&&(le=le||te,te=void 0);for(Fe in U)qt(k,Fe,te,le,U[Fe],ge);return k}if(le==null&&pe==null?(pe=te,le=te=void 0):pe==null&&(typeof te=="string"?(pe=le,le=void 0):(pe=le,le=te,te=void 0)),pe===!1)pe=Pt;else if(!pe)return k;return ge===1&&(_e=pe,pe=function(Me){return d().off(Me),_e.apply(this,arguments)},pe.guid=_e.guid||(_e.guid=d.guid++)),k.each(function(){d.event.add(this,U,pe,le,te)})}d.event={global:{},add:function(k,U,te,le,pe){var ge,_e,Fe,Me,Ke,rt,ut,Qe,bt,Ht,gr,Xt=Ue.get(k);if(nt(k))for(te.handler&&(ge=te,te=ge.handler,pe=ge.selector),pe&&d.find.matchesSelector(Le,pe),te.guid||(te.guid=d.guid++),(Me=Xt.events)||(Me=Xt.events=Object.create(null)),(_e=Xt.handle)||(_e=Xt.handle=function(Wn){return typeof d<"u"&&d.event.triggered!==Wn.type?d.event.dispatch.apply(k,arguments):void 0}),U=(U||"").match(be)||[""],Ke=U.length;Ke--;)Fe=Ye.exec(U[Ke])||[],bt=gr=Fe[1],Ht=(Fe[2]||"").split(".").sort(),bt&&(ut=d.event.special[bt]||{},bt=(pe?ut.delegateType:ut.bindType)||bt,ut=d.event.special[bt]||{},rt=d.extend({type:bt,origType:gr,data:le,handler:te,guid:te.guid,selector:pe,needsContext:pe&&d.expr.match.needsContext.test(pe),namespace:Ht.join(".")},ge),(Qe=Me[bt])||(Qe=Me[bt]=[],Qe.delegateCount=0,(!ut.setup||ut.setup.call(k,le,Ht,_e)===!1)&&k.addEventListener&&k.addEventListener(bt,_e)),ut.add&&(ut.add.call(k,rt),rt.handler.guid||(rt.handler.guid=te.guid)),pe?Qe.splice(Qe.delegateCount++,0,rt):Qe.push(rt),d.event.global[bt]=!0)},remove:function(k,U,te,le,pe){var ge,_e,Fe,Me,Ke,rt,ut,Qe,bt,Ht,gr,Xt=Ue.hasData(k)&&Ue.get(k);if(!(!Xt||!(Me=Xt.events))){for(U=(U||"").match(be)||[""],Ke=U.length;Ke--;){if(Fe=Ye.exec(U[Ke])||[],bt=gr=Fe[1],Ht=(Fe[2]||"").split(".").sort(),!bt){for(bt in Me)d.event.remove(k,bt+U[Ke],te,le,!0);continue}for(ut=d.event.special[bt]||{},bt=(le?ut.delegateType:ut.bindType)||bt,Qe=Me[bt]||[],Fe=Fe[2]&&new RegExp("(^|\\.)"+Ht.join("\\.(?:.*\\.|)")+"(\\.|$)"),_e=ge=Qe.length;ge--;)rt=Qe[ge],(pe||gr===rt.origType)&&(!te||te.guid===rt.guid)&&(!Fe||Fe.test(rt.namespace))&&(!le||le===rt.selector||le==="**"&&rt.selector)&&(Qe.splice(ge,1),rt.selector&&Qe.delegateCount--,ut.remove&&ut.remove.call(k,rt));_e&&!Qe.length&&((!ut.teardown||ut.teardown.call(k,Ht,Xt.handle)===!1)&&d.removeEvent(k,bt,Xt.handle),delete Me[bt])}d.isEmptyObject(Me)&&Ue.remove(k,"handle events")}},dispatch:function(k){var U,te,le,pe,ge,_e,Fe=new Array(arguments.length),Me=d.event.fix(k),Ke=(Ue.get(this,"events")||Object.create(null))[Me.type]||[],rt=d.event.special[Me.type]||{};for(Fe[0]=Me,U=1;U<arguments.length;U++)Fe[U]=arguments[U];if(Me.delegateTarget=this,!(rt.preDispatch&&rt.preDispatch.call(this,Me)===!1)){for(_e=d.event.handlers.call(this,Me,Ke),U=0;(pe=_e[U++])&&!Me.isPropagationStopped();)for(Me.currentTarget=pe.elem,te=0;(ge=pe.handlers[te++])&&!Me.isImmediatePropagationStopped();)(!Me.rnamespace||ge.namespace===!1||Me.rnamespace.test(ge.namespace))&&(Me.handleObj=ge,Me.data=ge.data,le=((d.event.special[ge.origType]||{}).handle||ge.handler).apply(pe.elem,Fe),le!==void 0&&(Me.result=le)===!1&&(Me.preventDefault(),Me.stopPropagation()));return rt.postDispatch&&rt.postDispatch.call(this,Me),Me.result}},handlers:function(k,U){var te,le,pe,ge,_e,Fe=[],Me=U.delegateCount,Ke=k.target;if(Me&&Ke.nodeType&&!(k.type==="click"&&k.button>=1)){for(;Ke!==this;Ke=Ke.parentNode||this)if(Ke.nodeType===1&&!(k.type==="click"&&Ke.disabled===!0)){for(ge=[],_e={},te=0;te<Me;te++)le=U[te],pe=le.selector+" ",_e[pe]===void 0&&(_e[pe]=le.needsContext?d(pe,this).index(Ke)>-1:d.find(pe,this,null,[Ke]).length),_e[pe]&&ge.push(le);ge.length&&Fe.push({elem:Ke,handlers:ge})}}return Ke=this,Me<U.length&&Fe.push({elem:Ke,handlers:U.slice(Me)}),Fe},addProp:function(k,U){Object.defineProperty(d.Event.prototype,k,{enumerable:!0,configurable:!0,get:_(U)?function(){if(this.originalEvent)return U(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[k]},set:function(te){Object.defineProperty(this,k,{enumerable:!0,configurable:!0,writable:!0,value:te})}})},fix:function(k){return k[d.expando]?k:new d.Event(k)},special:{load:{noBubble:!0},click:{setup:function(k){var U=this||k;return mr.test(U.type)&&U.click&&x(U,"input")&&he(U,"click",!0),!1},trigger:function(k){var U=this||k;return mr.test(U.type)&&U.click&&x(U,"input")&&he(U,"click"),!0},_default:function(k){var U=k.target;return mr.test(U.type)&&U.click&&x(U,"input")&&Ue.get(U,"click")||x(U,"a")}},beforeunload:{postDispatch:function(k){k.result!==void 0&&k.originalEvent&&(k.originalEvent.returnValue=k.result)}}}};function he(k,U,te){if(!te){Ue.get(k,U)===void 0&&d.event.add(k,U,it);return}Ue.set(k,U,!1),d.event.add(k,U,{namespace:!1,handler:function(le){var pe,ge=Ue.get(this,U);if(le.isTrigger&1&&this[U]){if(ge)(d.event.special[U]||{}).delegateType&&le.stopPropagation();else if(ge=o.call(arguments),Ue.set(this,U,ge),this[U](),pe=Ue.get(this,U),Ue.set(this,U,!1),ge!==pe)return le.stopImmediatePropagation(),le.preventDefault(),pe}else ge&&(Ue.set(this,U,d.event.trigger(ge[0],ge.slice(1),this)),le.stopPropagation(),le.isImmediatePropagationStopped=it)}})}d.removeEvent=function(k,U,te){k.removeEventListener&&k.removeEventListener(U,te)},d.Event=function(k,U){if(!(this instanceof d.Event))return new d.Event(k,U);k&&k.type?(this.originalEvent=k,this.type=k.type,this.isDefaultPrevented=k.defaultPrevented||k.defaultPrevented===void 0&&k.returnValue===!1?it:Pt,this.target=k.target&&k.target.nodeType===3?k.target.parentNode:k.target,this.currentTarget=k.currentTarget,this.relatedTarget=k.relatedTarget):this.type=k,U&&d.extend(this,U),this.timeStamp=k&&k.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:Pt,isPropagationStopped:Pt,isImmediatePropagationStopped:Pt,isSimulated:!1,preventDefault:function(){var k=this.originalEvent;this.isDefaultPrevented=it,k&&!this.isSimulated&&k.preventDefault()},stopPropagation:function(){var k=this.originalEvent;this.isPropagationStopped=it,k&&!this.isSimulated&&k.stopPropagation()},stopImmediatePropagation:function(){var k=this.originalEvent;this.isImmediatePropagationStopped=it,k&&!this.isSimulated&&k.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(k,U){function te(le){if(h.documentMode){var pe=Ue.get(this,"handle"),ge=d.event.fix(le);ge.type=le.type==="focusin"?"focus":"blur",ge.isSimulated=!0,pe(le),ge.target===ge.currentTarget&&pe(ge)}else d.event.simulate(U,le.target,d.event.fix(le))}d.event.special[k]={setup:function(){var le;if(he(this,k,!0),h.documentMode)le=Ue.get(this,U),le||this.addEventListener(U,te),Ue.set(this,U,(le||0)+1);else return!1},trigger:function(){return he(this,k),!0},teardown:function(){var le;if(h.documentMode)le=Ue.get(this,U)-1,le?Ue.set(this,U,le):(this.removeEventListener(U,te),Ue.remove(this,U));else return!1},_default:function(le){return Ue.get(le.target,k)},delegateType:U},d.event.special[U]={setup:function(){var le=this.ownerDocument||this.document||this,pe=h.documentMode?this:le,ge=Ue.get(pe,U);ge||(h.documentMode?this.addEventListener(U,te):le.addEventListener(k,te,!0)),Ue.set(pe,U,(ge||0)+1)},teardown:function(){var le=this.ownerDocument||this.document||this,pe=h.documentMode?this:le,ge=Ue.get(pe,U)-1;ge?Ue.set(pe,U,ge):(h.documentMode?this.removeEventListener(U,te):le.removeEventListener(k,te,!0),Ue.remove(pe,U))}}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(k,U){d.event.special[k]={delegateType:U,bindType:U,handle:function(te){var le,pe=this,ge=te.relatedTarget,_e=te.handleObj;return(!ge||ge!==pe&&!d.contains(pe,ge))&&(te.type=_e.origType,le=_e.handler.apply(this,arguments),te.type=U),le}}}),d.fn.extend({on:function(k,U,te,le){return qt(this,k,U,te,le)},one:function(k,U,te,le){return qt(this,k,U,te,le,1)},off:function(k,U,te){var le,pe;if(k&&k.preventDefault&&k.handleObj)return le=k.handleObj,d(k.delegateTarget).off(le.namespace?le.origType+"."+le.namespace:le.origType,le.selector,le.handler),this;if(typeof k=="object"){for(pe in k)this.off(pe,U,k[pe]);return this}return(U===!1||typeof U=="function")&&(te=U,U=void 0),te===!1&&(te=Pt),this.each(function(){d.event.remove(this,k,te,U)})}});var ue=/<script|<style|<link/i,we=/checked\s*(?:[^=]|=\s*.checked.)/i,xe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ae(k,U){return x(k,"table")&&x(U.nodeType!==11?U:U.firstChild,"tr")&&d(k).children("tbody")[0]||k}function tt(k){return k.type=(k.getAttribute("type")!==null)+"/"+k.type,k}function st(k){return(k.type||"").slice(0,5)==="true/"?k.type=k.type.slice(5):k.removeAttribute("type"),k}function xt(k,U){var te,le,pe,ge,_e,Fe,Me;if(U.nodeType===1){if(Ue.hasData(k)&&(ge=Ue.get(k),Me=ge.events,Me)){Ue.remove(U,"handle events");for(pe in Me)for(te=0,le=Me[pe].length;te<le;te++)d.event.add(U,pe,Me[pe][te])}W.hasData(k)&&(_e=W.access(k),Fe=d.extend({},_e),W.set(U,Fe))}}function It(k,U){var te=U.nodeName.toLowerCase();te==="input"&&mr.test(k.type)?U.checked=k.checked:(te==="input"||te==="textarea")&&(U.defaultValue=k.defaultValue)}function jt(k,U,te,le){U=s(U);var pe,ge,_e,Fe,Me,Ke,rt=0,ut=k.length,Qe=ut-1,bt=U[0],Ht=_(bt);if(Ht||ut>1&&typeof bt=="string"&&!g.checkClone&&we.test(bt))return k.each(function(gr){var Xt=k.eq(gr);Ht&&(U[0]=bt.call(this,gr,Xt.html())),jt(Xt,U,te,le)});if(ut&&(pe=ht(U,k[0].ownerDocument,!1,k,le),ge=pe.firstChild,pe.childNodes.length===1&&(pe=ge),ge||le)){for(_e=d.map(At(pe,"script"),tt),Fe=_e.length;rt<ut;rt++)Me=pe,rt!==Qe&&(Me=d.clone(Me,!0,!0),Fe&&d.merge(_e,At(Me,"script"))),te.call(k[rt],Me,rt);if(Fe)for(Ke=_e[_e.length-1].ownerDocument,d.map(_e,st),rt=0;rt<Fe;rt++)Me=_e[rt],Vt.test(Me.type||"")&&!Ue.access(Me,"globalEval")&&d.contains(Ke,Me)&&(Me.src&&(Me.type||"").toLowerCase()!=="module"?d._evalUrl&&!Me.noModule&&d._evalUrl(Me.src,{nonce:Me.nonce||Me.getAttribute("nonce")},Ke):y(Me.textContent.replace(xe,""),Me,Ke))}return k}function $t(k,U,te){for(var le,pe=U?d.filter(U,k):k,ge=0;(le=pe[ge])!=null;ge++)!te&&le.nodeType===1&&d.cleanData(At(le)),le.parentNode&&(te&&dt(le)&&Se(At(le,"script")),le.parentNode.removeChild(le));return k}d.extend({htmlPrefilter:function(k){return k},clone:function(k,U,te){var le,pe,ge,_e,Fe=k.cloneNode(!0),Me=dt(k);if(!g.noCloneChecked&&(k.nodeType===1||k.nodeType===11)&&!d.isXMLDoc(k))for(_e=At(Fe),ge=At(k),le=0,pe=ge.length;le<pe;le++)It(ge[le],_e[le]);if(U)if(te)for(ge=ge||At(k),_e=_e||At(Fe),le=0,pe=ge.length;le<pe;le++)xt(ge[le],_e[le]);else xt(k,Fe);return _e=At(Fe,"script"),_e.length>0&&Se(_e,!Me&&At(k,"script")),Fe},cleanData:function(k){for(var U,te,le,pe=d.event.special,ge=0;(te=k[ge])!==void 0;ge++)if(nt(te)){if(U=te[Ue.expando]){if(U.events)for(le in U.events)pe[le]?d.event.remove(te,le):d.removeEvent(te,le,U.handle);te[Ue.expando]=void 0}te[W.expando]&&(te[W.expando]=void 0)}}}),d.fn.extend({detach:function(k){return $t(this,k,!0)},remove:function(k){return $t(this,k)},text:function(k){return de(this,function(U){return U===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=U)})},null,k,arguments.length)},append:function(){return jt(this,arguments,function(k){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var U=Ae(this,k);U.appendChild(k)}})},prepend:function(){return jt(this,arguments,function(k){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var U=Ae(this,k);U.insertBefore(k,U.firstChild)}})},before:function(){return jt(this,arguments,function(k){this.parentNode&&this.parentNode.insertBefore(k,this)})},after:function(){return jt(this,arguments,function(k){this.parentNode&&this.parentNode.insertBefore(k,this.nextSibling)})},empty:function(){for(var k,U=0;(k=this[U])!=null;U++)k.nodeType===1&&(d.cleanData(At(k,!1)),k.textContent="");return this},clone:function(k,U){return k=k??!1,U=U??k,this.map(function(){return d.clone(this,k,U)})},html:function(k){return de(this,function(U){var te=this[0]||{},le=0,pe=this.length;if(U===void 0&&te.nodeType===1)return te.innerHTML;if(typeof U=="string"&&!ue.test(U)&&!zt[(cn.exec(U)||["",""])[1].toLowerCase()]){U=d.htmlPrefilter(U);try{for(;le<pe;le++)te=this[le]||{},te.nodeType===1&&(d.cleanData(At(te,!1)),te.innerHTML=U);te=0}catch{}}te&&this.empty().append(U)},null,k,arguments.length)},replaceWith:function(){var k=[];return jt(this,arguments,function(U){var te=this.parentNode;d.inArray(this,k)<0&&(d.cleanData(At(this)),te&&te.replaceChild(U,this))},k)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(k,U){d.fn[k]=function(te){for(var le,pe=[],ge=d(te),_e=ge.length-1,Fe=0;Fe<=_e;Fe++)le=Fe===_e?this:this.clone(!0),d(ge[Fe])[U](le),a.apply(pe,le.get());return this.pushStack(pe)}});var Rt=new RegExp("^("+Ee+")(?!px)[a-z%]+$","i"),Gt=/^--/,wt=function(k){var U=k.ownerDocument.defaultView;return(!U||!U.opener)&&(U=t),U.getComputedStyle(k)},Tt=function(k,U,te){var le,pe,ge={};for(pe in U)ge[pe]=k.style[pe],k.style[pe]=U[pe];le=te.call(k);for(pe in U)k.style[pe]=ge[pe];return le},Dt=new RegExp(Re.join("|"),"i");(function(){function k(){if(Ke){Me.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ke.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Le.appendChild(Me).appendChild(Ke);var rt=t.getComputedStyle(Ke);te=rt.top!=="1%",Fe=U(rt.marginLeft)===12,Ke.style.right="60%",ge=U(rt.right)===36,le=U(rt.width)===36,Ke.style.position="absolute",pe=U(Ke.offsetWidth/3)===12,Le.removeChild(Me),Ke=null}}function U(rt){return Math.round(parseFloat(rt))}var te,le,pe,ge,_e,Fe,Me=h.createElement("div"),Ke=h.createElement("div");Ke.style&&(Ke.style.backgroundClip="content-box",Ke.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle=Ke.style.backgroundClip==="content-box",d.extend(g,{boxSizingReliable:function(){return k(),le},pixelBoxStyles:function(){return k(),ge},pixelPosition:function(){return k(),te},reliableMarginLeft:function(){return k(),Fe},scrollboxSize:function(){return k(),pe},reliableTrDimensions:function(){var rt,ut,Qe,bt;return _e==null&&(rt=h.createElement("table"),ut=h.createElement("tr"),Qe=h.createElement("div"),rt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ut.style.cssText="box-sizing:content-box;border:1px solid",ut.style.height="1px",Qe.style.height="9px",Qe.style.display="block",Le.appendChild(rt).appendChild(ut).appendChild(Qe),bt=t.getComputedStyle(ut),_e=parseInt(bt.height,10)+parseInt(bt.borderTopWidth,10)+parseInt(bt.borderBottomWidth,10)===ut.offsetHeight,Le.removeChild(rt)),_e}}))})();function Ft(k,U,te){var le,pe,ge,_e,Fe=Gt.test(U),Me=k.style;return te=te||wt(k),te&&(_e=te.getPropertyValue(U)||te[U],Fe&&_e&&(_e=_e.replace(Q,"$1")||void 0),_e===""&&!dt(k)&&(_e=d.style(k,U)),!g.pixelBoxStyles()&&Rt.test(_e)&&Dt.test(U)&&(le=Me.width,pe=Me.minWidth,ge=Me.maxWidth,Me.minWidth=Me.maxWidth=Me.width=_e,_e=te.width,Me.width=le,Me.minWidth=pe,Me.maxWidth=ge)),_e!==void 0?_e+"":_e}function Kr(k,U){return{get:function(){if(k()){delete this.get;return}return(this.get=U).apply(this,arguments)}}}var Qr=["Webkit","Moz","ms"],kr=h.createElement("div").style,Fn={};function Hn(k){for(var U=k[0].toUpperCase()+k.slice(1),te=Qr.length;te--;)if(k=Qr[te]+U,k in kr)return k}function Cr(k){var U=d.cssProps[k]||Fn[k];return U||(k in kr?k:Fn[k]=Hn(k)||k)}var Zr=/^(none|table(?!-c[ea]).+)/,Qn={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:"0",fontWeight:"400"};function hi(k,U,te){var le=je.exec(U);return le?Math.max(0,le[2]-(te||0))+(le[3]||"px"):U}function ns(k,U,te,le,pe,ge){var _e=U==="width"?1:0,Fe=0,Me=0,Ke=0;if(te===(le?"border":"content"))return 0;for(;_e<4;_e+=2)te==="margin"&&(Ke+=d.css(k,te+Re[_e],!0,pe)),le?(te==="content"&&(Me-=d.css(k,"padding"+Re[_e],!0,pe)),te!=="margin"&&(Me-=d.css(k,"border"+Re[_e]+"Width",!0,pe))):(Me+=d.css(k,"padding"+Re[_e],!0,pe),te!=="padding"?Me+=d.css(k,"border"+Re[_e]+"Width",!0,pe):Fe+=d.css(k,"border"+Re[_e]+"Width",!0,pe));return!le&&ge>=0&&(Me+=Math.max(0,Math.ceil(k["offset"+U[0].toUpperCase()+U.slice(1)]-ge-Me-Fe-.5))||0),Me+Ke}function is(k,U,te){var le=wt(k),pe=!g.boxSizingReliable()||te,ge=pe&&d.css(k,"boxSizing",!1,le)==="border-box",_e=ge,Fe=Ft(k,U,le),Me="offset"+U[0].toUpperCase()+U.slice(1);if(Rt.test(Fe)){if(!te)return Fe;Fe="auto"}return(!g.boxSizingReliable()&&ge||!g.reliableTrDimensions()&&x(k,"tr")||Fe==="auto"||!parseFloat(Fe)&&d.css(k,"display",!1,le)==="inline")&&k.getClientRects().length&&(ge=d.css(k,"boxSizing",!1,le)==="border-box",_e=Me in k,_e&&(Fe=k[Me])),Fe=parseFloat(Fe)||0,Fe+ns(k,U,te||(ge?"border":"content"),_e,le,Fe)+"px"}d.extend({cssHooks:{opacity:{get:function(k,U){if(U){var te=Ft(k,"opacity");return te===""?"1":te}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(k,U,te,le){if(!(!k||k.nodeType===3||k.nodeType===8||!k.style)){var pe,ge,_e,Fe=De(U),Me=Gt.test(U),Ke=k.style;if(Me||(U=Cr(Fe)),_e=d.cssHooks[U]||d.cssHooks[Fe],te!==void 0){if(ge=typeof te,ge==="string"&&(pe=je.exec(te))&&pe[1]&&(te=Ct(k,U,pe),ge="number"),te==null||te!==te)return;ge==="number"&&!Me&&(te+=pe&&pe[3]||(d.cssNumber[Fe]?"":"px")),!g.clearCloneStyle&&te===""&&U.indexOf("background")===0&&(Ke[U]="inherit"),(!_e||!("set"in _e)||(te=_e.set(k,te,le))!==void 0)&&(Me?Ke.setProperty(U,te):Ke[U]=te)}else return _e&&"get"in _e&&(pe=_e.get(k,!1,le))!==void 0?pe:Ke[U]}},css:function(k,U,te,le){var pe,ge,_e,Fe=De(U),Me=Gt.test(U);return Me||(U=Cr(Fe)),_e=d.cssHooks[U]||d.cssHooks[Fe],_e&&"get"in _e&&(pe=_e.get(k,!0,te)),pe===void 0&&(pe=Ft(k,U,le)),pe==="normal"&&U in pn&&(pe=pn[U]),te===""||te?(ge=parseFloat(pe),te===!0||isFinite(ge)?ge||0:pe):pe}}),d.each(["height","width"],function(k,U){d.cssHooks[U]={get:function(te,le,pe){if(le)return Zr.test(d.css(te,"display"))&&(!te.getClientRects().length||!te.getBoundingClientRect().width)?Tt(te,Qn,function(){return is(te,U,pe)}):is(te,U,pe)},set:function(te,le,pe){var ge,_e=wt(te),Fe=!g.scrollboxSize()&&_e.position==="absolute",Me=Fe||pe,Ke=Me&&d.css(te,"boxSizing",!1,_e)==="border-box",rt=pe?ns(te,U,pe,Ke,_e):0;return Ke&&Fe&&(rt-=Math.ceil(te["offset"+U[0].toUpperCase()+U.slice(1)]-parseFloat(_e[U])-ns(te,U,"border",!1,_e)-.5)),rt&&(ge=je.exec(le))&&(ge[3]||"px")!=="px"&&(te.style[U]=le,le=d.css(te,U)),hi(te,le,rt)}}}),d.cssHooks.marginLeft=Kr(g.reliableMarginLeft,function(k,U){if(U)return(parseFloat(Ft(k,"marginLeft"))||k.getBoundingClientRect().left-Tt(k,{marginLeft:0},function(){return k.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(k,U){d.cssHooks[k+U]={expand:function(te){for(var le=0,pe={},ge=typeof te=="string"?te.split(" "):[te];le<4;le++)pe[k+Re[le]+U]=ge[le]||ge[le-2]||ge[0];return pe}},k!=="margin"&&(d.cssHooks[k+U].set=hi)}),d.fn.extend({css:function(k,U){return de(this,function(te,le,pe){var ge,_e,Fe={},Me=0;if(Array.isArray(le)){for(ge=wt(te),_e=le.length;Me<_e;Me++)Fe[le[Me]]=d.css(te,le[Me],!1,ge);return Fe}return pe!==void 0?d.style(te,le,pe):d.css(te,le)},k,U,arguments.length>1)}});function jr(k,U,te,le,pe){return new jr.prototype.init(k,U,te,le,pe)}d.Tween=jr,jr.prototype={constructor:jr,init:function(k,U,te,le,pe,ge){this.elem=k,this.prop=te,this.easing=pe||d.easing._default,this.options=U,this.start=this.now=this.cur(),this.end=le,this.unit=ge||(d.cssNumber[te]?"":"px")},cur:function(){var k=jr.propHooks[this.prop];return k&&k.get?k.get(this):jr.propHooks._default.get(this)},run:function(k){var U,te=jr.propHooks[this.prop];return this.options.duration?this.pos=U=d.easing[this.easing](k,this.options.duration*k,0,1,this.options.duration):this.pos=U=k,this.now=(this.end-this.start)*U+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),te&&te.set?te.set(this):jr.propHooks._default.set(this),this}},jr.prototype.init.prototype=jr.prototype,jr.propHooks={_default:{get:function(k){var U;return k.elem.nodeType!==1||k.elem[k.prop]!=null&&k.elem.style[k.prop]==null?k.elem[k.prop]:(U=d.css(k.elem,k.prop,""),!U||U==="auto"?0:U)},set:function(k){d.fx.step[k.prop]?d.fx.step[k.prop](k):k.elem.nodeType===1&&(d.cssHooks[k.prop]||k.elem.style[Cr(k.prop)]!=null)?d.style(k.elem,k.prop,k.now+k.unit):k.elem[k.prop]=k.now}}},jr.propHooks.scrollTop=jr.propHooks.scrollLeft={set:function(k){k.elem.nodeType&&k.elem.parentNode&&(k.elem[k.prop]=k.now)}},d.easing={linear:function(k){return k},swing:function(k){return .5-Math.cos(k*Math.PI)/2},_default:"swing"},d.fx=jr.prototype.init,d.fx.step={};var _n,pi,va=/^(?:toggle|show|hide)$/,os=/queueHooks$/;function Bn(){pi&&(h.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Bn):t.setTimeout(Bn,d.fx.interval),d.fx.tick())}function gc(){return t.setTimeout(function(){_n=void 0}),_n=Date.now()}function ol(k,U){var te,le=0,pe={height:k};for(U=U?1:0;le<4;le+=2-U)te=Re[le],pe["margin"+te]=pe["padding"+te]=k;return U&&(pe.opacity=pe.width=k),pe}function Hg(k,U,te){for(var le,pe=(Do.tweeners[U]||[]).concat(Do.tweeners["*"]),ge=0,_e=pe.length;ge<_e;ge++)if(le=pe[ge].call(te,U,k))return le}function JE(k,U,te){var le,pe,ge,_e,Fe,Me,Ke,rt,ut="width"in U||"height"in U,Qe=this,bt={},Ht=k.style,gr=k.nodeType&&lt(k),Xt=Ue.get(k,"fxshow");te.queue||(_e=d._queueHooks(k,"fx"),_e.unqueued==null&&(_e.unqueued=0,Fe=_e.empty.fire,_e.empty.fire=function(){_e.unqueued||Fe()}),_e.unqueued++,Qe.always(function(){Qe.always(function(){_e.unqueued--,d.queue(k,"fx").length||_e.empty.fire()})}));for(le in U)if(pe=U[le],va.test(pe)){if(delete U[le],ge=ge||pe==="toggle",pe===(gr?"hide":"show"))if(pe==="show"&&Xt&&Xt[le]!==void 0)gr=!0;else continue;bt[le]=Xt&&Xt[le]||d.style(k,le)}if(Me=!d.isEmptyObject(U),!(!Me&&d.isEmptyObject(bt))){ut&&k.nodeType===1&&(te.overflow=[Ht.overflow,Ht.overflowX,Ht.overflowY],Ke=Xt&&Xt.display,Ke==null&&(Ke=Ue.get(k,"display")),rt=d.css(k,"display"),rt==="none"&&(Ke?rt=Ke:(ir([k],!0),Ke=k.style.display||Ke,rt=d.css(k,"display"),ir([k]))),(rt==="inline"||rt==="inline-block"&&Ke!=null)&&d.css(k,"float")==="none"&&(Me||(Qe.done(function(){Ht.display=Ke}),Ke==null&&(rt=Ht.display,Ke=rt==="none"?"":rt)),Ht.display="inline-block")),te.overflow&&(Ht.overflow="hidden",Qe.always(function(){Ht.overflow=te.overflow[0],Ht.overflowX=te.overflow[1],Ht.overflowY=te.overflow[2]})),Me=!1;for(le in bt)Me||(Xt?"hidden"in Xt&&(gr=Xt.hidden):Xt=Ue.access(k,"fxshow",{display:Ke}),ge&&(Xt.hidden=!gr),gr&&ir([k],!0),Qe.done(function(){gr||ir([k]),Ue.remove(k,"fxshow");for(le in bt)d.style(k,le,bt[le])})),Me=Hg(gr?Xt[le]:0,le,Qe),le in Xt||(Xt[le]=Me.start,gr&&(Me.end=Me.start,Me.start=0))}}function YE(k,U){var te,le,pe,ge,_e;for(te in k)if(le=De(te),pe=U[le],ge=k[te],Array.isArray(ge)&&(pe=ge[1],ge=k[te]=ge[0]),te!==le&&(k[le]=ge,delete k[te]),_e=d.cssHooks[le],_e&&"expand"in _e){ge=_e.expand(ge),delete k[le];for(te in ge)te in k||(k[te]=ge[te],U[te]=pe)}else U[le]=pe}function Do(k,U,te){var le,pe,ge=0,_e=Do.prefilters.length,Fe=d.Deferred().always(function(){delete Me.elem}),Me=function(){if(pe)return!1;for(var ut=_n||gc(),Qe=Math.max(0,Ke.startTime+Ke.duration-ut),bt=Qe/Ke.duration||0,Ht=1-bt,gr=0,Xt=Ke.tweens.length;gr<Xt;gr++)Ke.tweens[gr].run(Ht);return Fe.notifyWith(k,[Ke,Ht,Qe]),Ht<1&&Xt?Qe:(Xt||Fe.notifyWith(k,[Ke,1,0]),Fe.resolveWith(k,[Ke]),!1)},Ke=Fe.promise({elem:k,props:d.extend({},U),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},te),originalProperties:U,originalOptions:te,startTime:_n||gc(),duration:te.duration,tweens:[],createTween:function(ut,Qe){var bt=d.Tween(k,Ke.opts,ut,Qe,Ke.opts.specialEasing[ut]||Ke.opts.easing);return Ke.tweens.push(bt),bt},stop:function(ut){var Qe=0,bt=ut?Ke.tweens.length:0;if(pe)return this;for(pe=!0;Qe<bt;Qe++)Ke.tweens[Qe].run(1);return ut?(Fe.notifyWith(k,[Ke,1,0]),Fe.resolveWith(k,[Ke,ut])):Fe.rejectWith(k,[Ke,ut]),this}}),rt=Ke.props;for(YE(rt,Ke.opts.specialEasing);ge<_e;ge++)if(le=Do.prefilters[ge].call(Ke,k,rt,Ke.opts),le)return _(le.stop)&&(d._queueHooks(Ke.elem,Ke.opts.queue).stop=le.stop.bind(le)),le;return d.map(rt,Hg,Ke),_(Ke.opts.start)&&Ke.opts.start.call(k,Ke),Ke.progress(Ke.opts.progress).done(Ke.opts.done,Ke.opts.complete).fail(Ke.opts.fail).always(Ke.opts.always),d.fx.timer(d.extend(Me,{elem:k,anim:Ke,queue:Ke.opts.queue})),Ke}d.Animation=d.extend(Do,{tweeners:{"*":[function(k,U){var te=this.createTween(k,U);return Ct(te.elem,k,je.exec(U),te),te}]},tweener:function(k,U){_(k)?(U=k,k=["*"]):k=k.match(be);for(var te,le=0,pe=k.length;le<pe;le++)te=k[le],Do.tweeners[te]=Do.tweeners[te]||[],Do.tweeners[te].unshift(U)},prefilters:[JE],prefilter:function(k,U){U?Do.prefilters.unshift(k):Do.prefilters.push(k)}}),d.speed=function(k,U,te){var le=k&&typeof k=="object"?d.extend({},k):{complete:te||!te&&U||_(k)&&k,duration:k,easing:te&&U||U&&!_(U)&&U};return d.fx.off?le.duration=0:typeof le.duration!="number"&&(le.duration in d.fx.speeds?le.duration=d.fx.speeds[le.duration]:le.duration=d.fx.speeds._default),(le.queue==null||le.queue===!0)&&(le.queue="fx"),le.old=le.complete,le.complete=function(){_(le.old)&&le.old.call(this),le.queue&&d.dequeue(this,le.queue)},le},d.fn.extend({fadeTo:function(k,U,te,le){return this.filter(lt).css("opacity",0).show().end().animate({opacity:U},k,te,le)},animate:function(k,U,te,le){var pe=d.isEmptyObject(k),ge=d.speed(U,te,le),_e=function(){var Fe=Do(this,d.extend({},k),ge);(pe||Ue.get(this,"finish"))&&Fe.stop(!0)};return _e.finish=_e,pe||ge.queue===!1?this.each(_e):this.queue(ge.queue,_e)},stop:function(k,U,te){var le=function(pe){var ge=pe.stop;delete pe.stop,ge(te)};return typeof k!="string"&&(te=U,U=k,k=void 0),U&&this.queue(k||"fx",[]),this.each(function(){var pe=!0,ge=k!=null&&k+"queueHooks",_e=d.timers,Fe=Ue.get(this);if(ge)Fe[ge]&&Fe[ge].stop&&le(Fe[ge]);else for(ge in Fe)Fe[ge]&&Fe[ge].stop&&os.test(ge)&&le(Fe[ge]);for(ge=_e.length;ge--;)_e[ge].elem===this&&(k==null||_e[ge].queue===k)&&(_e[ge].anim.stop(te),pe=!1,_e.splice(ge,1));(pe||!te)&&d.dequeue(this,k)})},finish:function(k){return k!==!1&&(k=k||"fx"),this.each(function(){var U,te=Ue.get(this),le=te[k+"queue"],pe=te[k+"queueHooks"],ge=d.timers,_e=le?le.length:0;for(te.finish=!0,d.queue(this,k,[]),pe&&pe.stop&&pe.stop.call(this,!0),U=ge.length;U--;)ge[U].elem===this&&ge[U].queue===k&&(ge[U].anim.stop(!0),ge.splice(U,1));for(U=0;U<_e;U++)le[U]&&le[U].finish&&le[U].finish.call(this);delete te.finish})}}),d.each(["toggle","show","hide"],function(k,U){var te=d.fn[U];d.fn[U]=function(le,pe,ge){return le==null||typeof le=="boolean"?te.apply(this,arguments):this.animate(ol(U,!0),le,pe,ge)}}),d.each({slideDown:ol("show"),slideUp:ol("hide"),slideToggle:ol("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(k,U){d.fn[k]=function(te,le,pe){return this.animate(U,te,le,pe)}}),d.timers=[],d.fx.tick=function(){var k,U=0,te=d.timers;for(_n=Date.now();U<te.length;U++)k=te[U],!k()&&te[U]===k&&te.splice(U--,1);te.length||d.fx.stop(),_n=void 0},d.fx.timer=function(k){d.timers.push(k),d.fx.start()},d.fx.interval=13,d.fx.start=function(){pi||(pi=!0,Bn())},d.fx.stop=function(){pi=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(k,U){return k=d.fx&&d.fx.speeds[k]||k,U=U||"fx",this.queue(U,function(te,le){var pe=t.setTimeout(te,k);le.stop=function(){t.clearTimeout(pe)}})},function(){var k=h.createElement("input"),U=h.createElement("select"),te=U.appendChild(h.createElement("option"));k.type="checkbox",g.checkOn=k.value!=="",g.optSelected=te.selected,k=h.createElement("input"),k.value="t",k.type="radio",g.radioValue=k.value==="t"}();var Wg,Gl=d.expr.attrHandle;d.fn.extend({attr:function(k,U){return de(this,d.attr,k,U,arguments.length>1)},removeAttr:function(k){return this.each(function(){d.removeAttr(this,k)})}}),d.extend({attr:function(k,U,te){var le,pe,ge=k.nodeType;if(!(ge===3||ge===8||ge===2)){if(typeof k.getAttribute>"u")return d.prop(k,U,te);if((ge!==1||!d.isXMLDoc(k))&&(pe=d.attrHooks[U.toLowerCase()]||(d.expr.match.bool.test(U)?Wg:void 0)),te!==void 0){if(te===null){d.removeAttr(k,U);return}return pe&&"set"in pe&&(le=pe.set(k,te,U))!==void 0?le:(k.setAttribute(U,te+""),te)}return pe&&"get"in pe&&(le=pe.get(k,U))!==null?le:(le=d.find.attr(k,U),le??void 0)}},attrHooks:{type:{set:function(k,U){if(!g.radioValue&&U==="radio"&&x(k,"input")){var te=k.value;return k.setAttribute("type",U),te&&(k.value=te),U}}}},removeAttr:function(k,U){var te,le=0,pe=U&&U.match(be);if(pe&&k.nodeType===1)for(;te=pe[le++];)k.removeAttribute(te)}}),Wg={set:function(k,U,te){return U===!1?d.removeAttr(k,te):k.setAttribute(te,te),te}},d.each(d.expr.match.bool.source.match(/\w+/g),function(k,U){var te=Gl[U]||d.find.attr;Gl[U]=function(le,pe,ge){var _e,Fe,Me=pe.toLowerCase();return ge||(Fe=Gl[Me],Gl[Me]=_e,_e=te(le,pe,ge)!=null?Me:null,Gl[Me]=Fe),_e}});var ya=/^(?:input|select|textarea|button)$/i,Gg=/^(?:a|area)$/i;d.fn.extend({prop:function(k,U){return de(this,d.prop,k,U,arguments.length>1)},removeProp:function(k){return this.each(function(){delete this[d.propFix[k]||k]})}}),d.extend({prop:function(k,U,te){var le,pe,ge=k.nodeType;if(!(ge===3||ge===8||ge===2))return(ge!==1||!d.isXMLDoc(k))&&(U=d.propFix[U]||U,pe=d.propHooks[U]),te!==void 0?pe&&"set"in pe&&(le=pe.set(k,te,U))!==void 0?le:k[U]=te:pe&&"get"in pe&&(le=pe.get(k,U))!==null?le:k[U]},propHooks:{tabIndex:{get:function(k){var U=d.find.attr(k,"tabindex");return U?parseInt(U,10):ya.test(k.nodeName)||Gg.test(k.nodeName)&&k.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(d.propHooks.selected={get:function(k){var U=k.parentNode;return U&&U.parentNode&&U.parentNode.selectedIndex,null},set:function(k){var U=k.parentNode;U&&(U.selectedIndex,U.parentNode&&U.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function wa(k){var U=k.match(be)||[];return U.join(" ")}function uo(k){return k.getAttribute&&k.getAttribute("class")||""}function ba(k){return Array.isArray(k)?k:typeof k=="string"?k.match(be)||[]:[]}d.fn.extend({addClass:function(k){var U,te,le,pe,ge,_e;return _(k)?this.each(function(Fe){d(this).addClass(k.call(this,Fe,uo(this)))}):(U=ba(k),U.length?this.each(function(){if(le=uo(this),te=this.nodeType===1&&" "+wa(le)+" ",te){for(ge=0;ge<U.length;ge++)pe=U[ge],te.indexOf(" "+pe+" ")<0&&(te+=pe+" ");_e=wa(te),le!==_e&&this.setAttribute("class",_e)}}):this)},removeClass:function(k){var U,te,le,pe,ge,_e;return _(k)?this.each(function(Fe){d(this).removeClass(k.call(this,Fe,uo(this)))}):arguments.length?(U=ba(k),U.length?this.each(function(){if(le=uo(this),te=this.nodeType===1&&" "+wa(le)+" ",te){for(ge=0;ge<U.length;ge++)for(pe=U[ge];te.indexOf(" "+pe+" ")>-1;)te=te.replace(" "+pe+" "," ");_e=wa(te),le!==_e&&this.setAttribute("class",_e)}}):this):this.attr("class","")},toggleClass:function(k,U){var te,le,pe,ge,_e=typeof k,Fe=_e==="string"||Array.isArray(k);return _(k)?this.each(function(Me){d(this).toggleClass(k.call(this,Me,uo(this),U),U)}):typeof U=="boolean"&&Fe?U?this.addClass(k):this.removeClass(k):(te=ba(k),this.each(function(){if(Fe)for(ge=d(this),pe=0;pe<te.length;pe++)le=te[pe],ge.hasClass(le)?ge.removeClass(le):ge.addClass(le);else(k===void 0||_e==="boolean")&&(le=uo(this),le&&Ue.set(this,"__className__",le),this.setAttribute&&this.setAttribute("class",le||k===!1?"":Ue.get(this,"__className__")||""))}))},hasClass:function(k){var U,te,le=0;for(U=" "+k+" ";te=this[le++];)if(te.nodeType===1&&(" "+wa(uo(te))+" ").indexOf(U)>-1)return!0;return!1}});var Jf=/\r/g;d.fn.extend({val:function(k){var U,te,le,pe=this[0];return arguments.length?(le=_(k),this.each(function(ge){var _e;this.nodeType===1&&(le?_e=k.call(this,ge,d(this).val()):_e=k,_e==null?_e="":typeof _e=="number"?_e+="":Array.isArray(_e)&&(_e=d.map(_e,function(Fe){return Fe==null?"":Fe+""})),U=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!U||!("set"in U)||U.set(this,_e,"value")===void 0)&&(this.value=_e))})):pe?(U=d.valHooks[pe.type]||d.valHooks[pe.nodeName.toLowerCase()],U&&"get"in U&&(te=U.get(pe,"value"))!==void 0?te:(te=pe.value,typeof te=="string"?te.replace(Jf,""):te??"")):void 0}}),d.extend({valHooks:{option:{get:function(k){var U=d.find.attr(k,"value");return U??wa(d.text(k))}},select:{get:function(k){var U,te,le,pe=k.options,ge=k.selectedIndex,_e=k.type==="select-one",Fe=_e?null:[],Me=_e?ge+1:pe.length;for(ge<0?le=Me:le=_e?ge:0;le<Me;le++)if(te=pe[le],(te.selected||le===ge)&&!te.disabled&&(!te.parentNode.disabled||!x(te.parentNode,"optgroup"))){if(U=d(te).val(),_e)return U;Fe.push(U)}return Fe},set:function(k,U){for(var te,le,pe=k.options,ge=d.makeArray(U),_e=pe.length;_e--;)le=pe[_e],(le.selected=d.inArray(d.valHooks.option.get(le),ge)>-1)&&(te=!0);return te||(k.selectedIndex=-1),ge}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(k,U){if(Array.isArray(U))return k.checked=d.inArray(d(k).val(),U)>-1}},g.checkOn||(d.valHooks[this].get=function(k){return k.getAttribute("value")===null?"on":k.value})});var Kl=t.location,Yf={guid:Date.now()},vc=/\?/;d.parseXML=function(k){var U,te;if(!k||typeof k!="string")return null;try{U=new t.DOMParser().parseFromString(k,"text/xml")}catch{}return te=U&&U.getElementsByTagName("parsererror")[0],(!U||te)&&d.error("Invalid XML: "+(te?d.map(te.childNodes,function(le){return le.textContent}).join(`
`):k)),U};var Xf=/^(?:focusinfocus|focusoutblur)$/,Mo=function(k){k.stopPropagation()};d.extend(d.event,{trigger:function(k,U,te,le){var pe,ge,_e,Fe,Me,Ke,rt,ut,Qe=[te||h],bt=c.call(k,"type")?k.type:k,Ht=c.call(k,"namespace")?k.namespace.split("."):[];if(ge=ut=_e=te=te||h,!(te.nodeType===3||te.nodeType===8)&&!Xf.test(bt+d.event.triggered)&&(bt.indexOf(".")>-1&&(Ht=bt.split("."),bt=Ht.shift(),Ht.sort()),Me=bt.indexOf(":")<0&&"on"+bt,k=k[d.expando]?k:new d.Event(bt,typeof k=="object"&&k),k.isTrigger=le?2:3,k.namespace=Ht.join("."),k.rnamespace=k.namespace?new RegExp("(^|\\.)"+Ht.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,k.result=void 0,k.target||(k.target=te),U=U==null?[k]:d.makeArray(U,[k]),rt=d.event.special[bt]||{},!(!le&&rt.trigger&&rt.trigger.apply(te,U)===!1))){if(!le&&!rt.noBubble&&!v(te)){for(Fe=rt.delegateType||bt,Xf.test(Fe+bt)||(ge=ge.parentNode);ge;ge=ge.parentNode)Qe.push(ge),_e=ge;_e===(te.ownerDocument||h)&&Qe.push(_e.defaultView||_e.parentWindow||t)}for(pe=0;(ge=Qe[pe++])&&!k.isPropagationStopped();)ut=ge,k.type=pe>1?Fe:rt.bindType||bt,Ke=(Ue.get(ge,"events")||Object.create(null))[k.type]&&Ue.get(ge,"handle"),Ke&&Ke.apply(ge,U),Ke=Me&&ge[Me],Ke&&Ke.apply&&nt(ge)&&(k.result=Ke.apply(ge,U),k.result===!1&&k.preventDefault());return k.type=bt,!le&&!k.isDefaultPrevented()&&(!rt._default||rt._default.apply(Qe.pop(),U)===!1)&&nt(te)&&Me&&_(te[bt])&&!v(te)&&(_e=te[Me],_e&&(te[Me]=null),d.event.triggered=bt,k.isPropagationStopped()&&ut.addEventListener(bt,Mo),te[bt](),k.isPropagationStopped()&&ut.removeEventListener(bt,Mo),d.event.triggered=void 0,_e&&(te[Me]=_e)),k.result}},simulate:function(k,U,te){var le=d.extend(new d.Event,te,{type:k,isSimulated:!0});d.event.trigger(le,null,U)}}),d.fn.extend({trigger:function(k,U){return this.each(function(){d.event.trigger(k,U,this)})},triggerHandler:function(k,U){var te=this[0];if(te)return d.event.trigger(k,U,te,!0)}});var Qf=/\[\]$/,Zf=/\r?\n/g,Fs=/^(?:submit|button|image|reset|file)$/i,sl=/^(?:input|select|textarea|keygen)/i;function ed(k,U,te,le){var pe;if(Array.isArray(U))d.each(U,function(ge,_e){te||Qf.test(k)?le(k,_e):ed(k+"["+(typeof _e=="object"&&_e!=null?ge:"")+"]",_e,te,le)});else if(!te&&S(U)==="object")for(pe in U)ed(k+"["+pe+"]",U[pe],te,le);else le(k,U)}d.param=function(k,U){var te,le=[],pe=function(ge,_e){var Fe=_(_e)?_e():_e;le[le.length]=encodeURIComponent(ge)+"="+encodeURIComponent(Fe??"")};if(k==null)return"";if(Array.isArray(k)||k.jquery&&!d.isPlainObject(k))d.each(k,function(){pe(this.name,this.value)});else for(te in k)ed(te,k[te],U,pe);return le.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var k=d.prop(this,"elements");return k?d.makeArray(k):this}).filter(function(){var k=this.type;return this.name&&!d(this).is(":disabled")&&sl.test(this.nodeName)&&!Fs.test(k)&&(this.checked||!mr.test(k))}).map(function(k,U){var te=d(this).val();return te==null?null:Array.isArray(te)?d.map(te,function(le){return{name:U.name,value:le.replace(Zf,`\r
`)}}):{name:U.name,value:te.replace(Zf,`\r
`)}}).get()}});var XE=/%20/g,Kg=/#.*$/,Jg=/([?&])_=[^&]*/,Yg=/^(.*?):[ \t]*([^\r\n]*)$/mg,Xg=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Jl=/^(?:GET|HEAD)$/,Xh=/^\/\//,Qh={},Yl={},Zh="*/".concat("*"),Xl=h.createElement("a");Xl.href=Kl.href;function Ql(k){return function(U,te){typeof U!="string"&&(te=U,U="*");var le,pe=0,ge=U.toLowerCase().match(be)||[];if(_(te))for(;le=ge[pe++];)le[0]==="+"?(le=le.slice(1)||"*",(k[le]=k[le]||[]).unshift(te)):(k[le]=k[le]||[]).push(te)}}function td(k,U,te,le){var pe={},ge=k===Yl;function _e(Fe){var Me;return pe[Fe]=!0,d.each(k[Fe]||[],function(Ke,rt){var ut=rt(U,te,le);if(typeof ut=="string"&&!ge&&!pe[ut])return U.dataTypes.unshift(ut),_e(ut),!1;if(ge)return!(Me=ut)}),Me}return _e(U.dataTypes[0])||!pe["*"]&&_e("*")}function rd(k,U){var te,le,pe=d.ajaxSettings.flatOptions||{};for(te in U)U[te]!==void 0&&((pe[te]?k:le||(le={}))[te]=U[te]);return le&&d.extend(!0,k,le),k}function nd(k,U,te){for(var le,pe,ge,_e,Fe=k.contents,Me=k.dataTypes;Me[0]==="*";)Me.shift(),le===void 0&&(le=k.mimeType||U.getResponseHeader("Content-Type"));if(le){for(pe in Fe)if(Fe[pe]&&Fe[pe].test(le)){Me.unshift(pe);break}}if(Me[0]in te)ge=Me[0];else{for(pe in te){if(!Me[0]||k.converters[pe+" "+Me[0]]){ge=pe;break}_e||(_e=pe)}ge=ge||_e}if(ge)return ge!==Me[0]&&Me.unshift(ge),te[ge]}function ep(k,U,te,le){var pe,ge,_e,Fe,Me,Ke={},rt=k.dataTypes.slice();if(rt[1])for(_e in k.converters)Ke[_e.toLowerCase()]=k.converters[_e];for(ge=rt.shift();ge;)if(k.responseFields[ge]&&(te[k.responseFields[ge]]=U),!Me&&le&&k.dataFilter&&(U=k.dataFilter(U,k.dataType)),Me=ge,ge=rt.shift(),ge){if(ge==="*")ge=Me;else if(Me!=="*"&&Me!==ge){if(_e=Ke[Me+" "+ge]||Ke["* "+ge],!_e){for(pe in Ke)if(Fe=pe.split(" "),Fe[1]===ge&&(_e=Ke[Me+" "+Fe[0]]||Ke["* "+Fe[0]],_e)){_e===!0?_e=Ke[pe]:Ke[pe]!==!0&&(ge=Fe[0],rt.unshift(Fe[1]));break}}if(_e!==!0)if(_e&&k.throws)U=_e(U);else try{U=_e(U)}catch(ut){return{state:"parsererror",error:_e?ut:"No conversion from "+Me+" to "+ge}}}}return{state:"success",data:U}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Kl.href,type:"GET",isLocal:Xg.test(Kl.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Zh,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(k,U){return U?rd(rd(k,d.ajaxSettings),U):rd(d.ajaxSettings,k)},ajaxPrefilter:Ql(Qh),ajaxTransport:Ql(Yl),ajax:function(k,U){typeof k=="object"&&(U=k,k=void 0),U=U||{};var te,le,pe,ge,_e,Fe,Me,Ke,rt,ut,Qe=d.ajaxSetup({},U),bt=Qe.context||Qe,Ht=Qe.context&&(bt.nodeType||bt.jquery)?d(bt):d.event,gr=d.Deferred(),Xt=d.Callbacks("once memory"),Wn=Qe.statusCode||{},En={},ss={},as="canceled",vr={readyState:0,getResponseHeader:function(Ar){var Sn;if(Me){if(!ge)for(ge={};Sn=Yg.exec(pe);)ge[Sn[1].toLowerCase()+" "]=(ge[Sn[1].toLowerCase()+" "]||[]).concat(Sn[2]);Sn=ge[Ar.toLowerCase()+" "]}return Sn==null?null:Sn.join(", ")},getAllResponseHeaders:function(){return Me?pe:null},setRequestHeader:function(Ar,Sn){return Me==null&&(Ar=ss[Ar.toLowerCase()]=ss[Ar.toLowerCase()]||Ar,En[Ar]=Sn),this},overrideMimeType:function(Ar){return Me==null&&(Qe.mimeType=Ar),this},statusCode:function(Ar){var Sn;if(Ar)if(Me)vr.always(Ar[vr.status]);else for(Sn in Ar)Wn[Sn]=[Wn[Sn],Ar[Sn]];return this},abort:function(Ar){var Sn=Ar||as;return te&&te.abort(Sn),ll(0,Sn),this}};if(gr.promise(vr),Qe.url=((k||Qe.url||Kl.href)+"").replace(Xh,Kl.protocol+"//"),Qe.type=U.method||U.type||Qe.method||Qe.type,Qe.dataTypes=(Qe.dataType||"*").toLowerCase().match(be)||[""],Qe.crossDomain==null){Fe=h.createElement("a");try{Fe.href=Qe.url,Fe.href=Fe.href,Qe.crossDomain=Xl.protocol+"//"+Xl.host!=Fe.protocol+"//"+Fe.host}catch{Qe.crossDomain=!0}}if(Qe.data&&Qe.processData&&typeof Qe.data!="string"&&(Qe.data=d.param(Qe.data,Qe.traditional)),td(Qh,Qe,U,vr),Me)return vr;Ke=d.event&&Qe.global,Ke&&d.active++===0&&d.event.trigger("ajaxStart"),Qe.type=Qe.type.toUpperCase(),Qe.hasContent=!Jl.test(Qe.type),le=Qe.url.replace(Kg,""),Qe.hasContent?Qe.data&&Qe.processData&&(Qe.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Qe.data=Qe.data.replace(XE,"+")):(ut=Qe.url.slice(le.length),Qe.data&&(Qe.processData||typeof Qe.data=="string")&&(le+=(vc.test(le)?"&":"?")+Qe.data,delete Qe.data),Qe.cache===!1&&(le=le.replace(Jg,"$1"),ut=(vc.test(le)?"&":"?")+"_="+Yf.guid+++ut),Qe.url=le+ut),Qe.ifModified&&(d.lastModified[le]&&vr.setRequestHeader("If-Modified-Since",d.lastModified[le]),d.etag[le]&&vr.setRequestHeader("If-None-Match",d.etag[le])),(Qe.data&&Qe.hasContent&&Qe.contentType!==!1||U.contentType)&&vr.setRequestHeader("Content-Type",Qe.contentType),vr.setRequestHeader("Accept",Qe.dataTypes[0]&&Qe.accepts[Qe.dataTypes[0]]?Qe.accepts[Qe.dataTypes[0]]+(Qe.dataTypes[0]!=="*"?", "+Zh+"; q=0.01":""):Qe.accepts["*"]);for(rt in Qe.headers)vr.setRequestHeader(rt,Qe.headers[rt]);if(Qe.beforeSend&&(Qe.beforeSend.call(bt,vr,Qe)===!1||Me))return vr.abort();if(as="abort",Xt.add(Qe.complete),vr.done(Qe.success),vr.fail(Qe.error),te=td(Yl,Qe,U,vr),!te)ll(-1,"No Transport");else{if(vr.readyState=1,Ke&&Ht.trigger("ajaxSend",[vr,Qe]),Me)return vr;Qe.async&&Qe.timeout>0&&(_e=t.setTimeout(function(){vr.abort("timeout")},Qe.timeout));try{Me=!1,te.send(En,ll)}catch(Ar){if(Me)throw Ar;ll(-1,Ar)}}function ll(Ar,Sn,Zl,Gn){var Pi,eu,co,mi,gi,$n=Sn;Me||(Me=!0,_e&&t.clearTimeout(_e),te=void 0,pe=Gn||"",vr.readyState=Ar>0?4:0,Pi=Ar>=200&&Ar<300||Ar===304,Zl&&(mi=nd(Qe,vr,Zl)),!Pi&&d.inArray("script",Qe.dataTypes)>-1&&d.inArray("json",Qe.dataTypes)<0&&(Qe.converters["text script"]=function(){}),mi=ep(Qe,mi,vr,Pi),Pi?(Qe.ifModified&&(gi=vr.getResponseHeader("Last-Modified"),gi&&(d.lastModified[le]=gi),gi=vr.getResponseHeader("etag"),gi&&(d.etag[le]=gi)),Ar===204||Qe.type==="HEAD"?$n="nocontent":Ar===304?$n="notmodified":($n=mi.state,eu=mi.data,co=mi.error,Pi=!co)):(co=$n,(Ar||!$n)&&($n="error",Ar<0&&(Ar=0))),vr.status=Ar,vr.statusText=(Sn||$n)+"",Pi?gr.resolveWith(bt,[eu,$n,vr]):gr.rejectWith(bt,[vr,$n,co]),vr.statusCode(Wn),Wn=void 0,Ke&&Ht.trigger(Pi?"ajaxSuccess":"ajaxError",[vr,Qe,Pi?eu:co]),Xt.fireWith(bt,[vr,$n]),Ke&&(Ht.trigger("ajaxComplete",[vr,Qe]),--d.active||d.event.trigger("ajaxStop")))}return vr},getJSON:function(k,U,te){return d.get(k,U,te,"json")},getScript:function(k,U){return d.get(k,void 0,U,"script")}}),d.each(["get","post"],function(k,U){d[U]=function(te,le,pe,ge){return _(le)&&(ge=ge||pe,pe=le,le=void 0),d.ajax(d.extend({url:te,type:U,dataType:ge,data:le,success:pe},d.isPlainObject(te)&&te))}}),d.ajaxPrefilter(function(k){var U;for(U in k.headers)U.toLowerCase()==="content-type"&&(k.contentType=k.headers[U]||"")}),d._evalUrl=function(k,U,te){return d.ajax({url:k,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(le){d.globalEval(le,U,te)}})},d.fn.extend({wrapAll:function(k){var U;return this[0]&&(_(k)&&(k=k.call(this[0])),U=d(k,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&U.insertBefore(this[0]),U.map(function(){for(var te=this;te.firstElementChild;)te=te.firstElementChild;return te}).append(this)),this},wrapInner:function(k){return _(k)?this.each(function(U){d(this).wrapInner(k.call(this,U))}):this.each(function(){var U=d(this),te=U.contents();te.length?te.wrapAll(k):U.append(k)})},wrap:function(k){var U=_(k);return this.each(function(te){d(this).wrapAll(U?k.call(this,te):k)})},unwrap:function(k){return this.parent(k).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(k){return!d.expr.pseudos.visible(k)},d.expr.pseudos.visible=function(k){return!!(k.offsetWidth||k.offsetHeight||k.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var al={0:200,1223:204},Bs=d.ajaxSettings.xhr();g.cors=!!Bs&&"withCredentials"in Bs,g.ajax=Bs=!!Bs,d.ajaxTransport(function(k){var U,te;if(g.cors||Bs&&!k.crossDomain)return{send:function(le,pe){var ge,_e=k.xhr();if(_e.open(k.type,k.url,k.async,k.username,k.password),k.xhrFields)for(ge in k.xhrFields)_e[ge]=k.xhrFields[ge];k.mimeType&&_e.overrideMimeType&&_e.overrideMimeType(k.mimeType),!k.crossDomain&&!le["X-Requested-With"]&&(le["X-Requested-With"]="XMLHttpRequest");for(ge in le)_e.setRequestHeader(ge,le[ge]);U=function(Fe){return function(){U&&(U=te=_e.onload=_e.onerror=_e.onabort=_e.ontimeout=_e.onreadystatechange=null,Fe==="abort"?_e.abort():Fe==="error"?typeof _e.status!="number"?pe(0,"error"):pe(_e.status,_e.statusText):pe(al[_e.status]||_e.status,_e.statusText,(_e.responseType||"text")!=="text"||typeof _e.responseText!="string"?{binary:_e.response}:{text:_e.responseText},_e.getAllResponseHeaders()))}},_e.onload=U(),te=_e.onerror=_e.ontimeout=U("error"),_e.onabort!==void 0?_e.onabort=te:_e.onreadystatechange=function(){_e.readyState===4&&t.setTimeout(function(){U&&te()})},U=U("abort");try{_e.send(k.hasContent&&k.data||null)}catch(Fe){if(U)throw Fe}},abort:function(){U&&U()}}}),d.ajaxPrefilter(function(k){k.crossDomain&&(k.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(k){return d.globalEval(k),k}}}),d.ajaxPrefilter("script",function(k){k.cache===void 0&&(k.cache=!1),k.crossDomain&&(k.type="GET")}),d.ajaxTransport("script",function(k){if(k.crossDomain||k.scriptAttrs){var U,te;return{send:function(le,pe){U=d("<script>").attr(k.scriptAttrs||{}).prop({charset:k.scriptCharset,src:k.url}).on("load error",te=function(ge){U.remove(),te=null,ge&&pe(ge.type==="error"?404:200,ge.type)}),h.head.appendChild(U[0])},abort:function(){te&&te()}}}});var yc=[],id=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var k=yc.pop()||d.expando+"_"+Yf.guid++;return this[k]=!0,k}}),d.ajaxPrefilter("json jsonp",function(k,U,te){var le,pe,ge,_e=k.jsonp!==!1&&(id.test(k.url)?"url":typeof k.data=="string"&&(k.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&id.test(k.data)&&"data");if(_e||k.dataTypes[0]==="jsonp")return le=k.jsonpCallback=_(k.jsonpCallback)?k.jsonpCallback():k.jsonpCallback,_e?k[_e]=k[_e].replace(id,"$1"+le):k.jsonp!==!1&&(k.url+=(vc.test(k.url)?"&":"?")+k.jsonp+"="+le),k.converters["script json"]=function(){return ge||d.error(le+" was not called"),ge[0]},k.dataTypes[0]="json",pe=t[le],t[le]=function(){ge=arguments},te.always(function(){pe===void 0?d(t).removeProp(le):t[le]=pe,k[le]&&(k.jsonpCallback=U.jsonpCallback,yc.push(le)),ge&&_(pe)&&pe(ge[0]),ge=pe=void 0}),"script"}),g.createHTMLDocument=function(){var k=h.implementation.createHTMLDocument("").body;return k.innerHTML="<form></form><form></form>",k.childNodes.length===2}(),d.parseHTML=function(k,U,te){if(typeof k!="string")return[];typeof U=="boolean"&&(te=U,U=!1);var le,pe,ge;return U||(g.createHTMLDocument?(U=h.implementation.createHTMLDocument(""),le=U.createElement("base"),le.href=h.location.href,U.head.appendChild(le)):U=h),pe=K.exec(k),ge=!te&&[],pe?[U.createElement(pe[1])]:(pe=ht([k],U,ge),ge&&ge.length&&d(ge).remove(),d.merge([],pe.childNodes))},d.fn.load=function(k,U,te){var le,pe,ge,_e=this,Fe=k.indexOf(" ");return Fe>-1&&(le=wa(k.slice(Fe)),k=k.slice(0,Fe)),_(U)?(te=U,U=void 0):U&&typeof U=="object"&&(pe="POST"),_e.length>0&&d.ajax({url:k,type:pe||"GET",dataType:"html",data:U}).done(function(Me){ge=arguments,_e.html(le?d("<div>").append(d.parseHTML(Me)).find(le):Me)}).always(te&&function(Me,Ke){_e.each(function(){te.apply(this,ge||[Me.responseText,Ke,Me])})}),this},d.expr.pseudos.animated=function(k){return d.grep(d.timers,function(U){return k===U.elem}).length},d.offset={setOffset:function(k,U,te){var le,pe,ge,_e,Fe,Me,Ke,rt=d.css(k,"position"),ut=d(k),Qe={};rt==="static"&&(k.style.position="relative"),Fe=ut.offset(),ge=d.css(k,"top"),Me=d.css(k,"left"),Ke=(rt==="absolute"||rt==="fixed")&&(ge+Me).indexOf("auto")>-1,Ke?(le=ut.position(),_e=le.top,pe=le.left):(_e=parseFloat(ge)||0,pe=parseFloat(Me)||0),_(U)&&(U=U.call(k,te,d.extend({},Fe))),U.top!=null&&(Qe.top=U.top-Fe.top+_e),U.left!=null&&(Qe.left=U.left-Fe.left+pe),"using"in U?U.using.call(k,Qe):ut.css(Qe)}},d.fn.extend({offset:function(k){if(arguments.length)return k===void 0?this:this.each(function(pe){d.offset.setOffset(this,k,pe)});var U,te,le=this[0];if(le)return le.getClientRects().length?(U=le.getBoundingClientRect(),te=le.ownerDocument.defaultView,{top:U.top+te.pageYOffset,left:U.left+te.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var k,U,te,le=this[0],pe={top:0,left:0};if(d.css(le,"position")==="fixed")U=le.getBoundingClientRect();else{for(U=this.offset(),te=le.ownerDocument,k=le.offsetParent||te.documentElement;k&&(k===te.body||k===te.documentElement)&&d.css(k,"position")==="static";)k=k.parentNode;k&&k!==le&&k.nodeType===1&&(pe=d(k).offset(),pe.top+=d.css(k,"borderTopWidth",!0),pe.left+=d.css(k,"borderLeftWidth",!0))}return{top:U.top-pe.top-d.css(le,"marginTop",!0),left:U.left-pe.left-d.css(le,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var k=this.offsetParent;k&&d.css(k,"position")==="static";)k=k.offsetParent;return k||Le})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(k,U){var te=U==="pageYOffset";d.fn[k]=function(le){return de(this,function(pe,ge,_e){var Fe;if(v(pe)?Fe=pe:pe.nodeType===9&&(Fe=pe.defaultView),_e===void 0)return Fe?Fe[U]:pe[ge];Fe?Fe.scrollTo(te?Fe.pageXOffset:_e,te?_e:Fe.pageYOffset):pe[ge]=_e},k,le,arguments.length)}}),d.each(["top","left"],function(k,U){d.cssHooks[U]=Kr(g.pixelPosition,function(te,le){if(le)return le=Ft(te,U),Rt.test(le)?d(te).position()[U]+"px":le})}),d.each({Height:"height",Width:"width"},function(k,U){d.each({padding:"inner"+k,content:U,"":"outer"+k},function(te,le){d.fn[le]=function(pe,ge){var _e=arguments.length&&(te||typeof pe!="boolean"),Fe=te||(pe===!0||ge===!0?"margin":"border");return de(this,function(Me,Ke,rt){var ut;return v(Me)?le.indexOf("outer")===0?Me["inner"+k]:Me.document.documentElement["client"+k]:Me.nodeType===9?(ut=Me.documentElement,Math.max(Me.body["scroll"+k],ut["scroll"+k],Me.body["offset"+k],ut["offset"+k],ut["client"+k])):rt===void 0?d.css(Me,Ke,Fe):d.style(Me,Ke,rt,Fe)},U,_e?pe:void 0,_e)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(k,U){d.fn[U]=function(te){return this.on(U,te)}}),d.fn.extend({bind:function(k,U,te){return this.on(k,null,U,te)},unbind:function(k,U){return this.off(k,null,U)},delegate:function(k,U,te,le){return this.on(U,k,te,le)},undelegate:function(k,U,te){return arguments.length===1?this.off(k,"**"):this.off(U,k||"**",te)},hover:function(k,U){return this.on("mouseenter",k).on("mouseleave",U||k)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(k,U){d.fn[U]=function(te,le){return arguments.length>0?this.on(U,null,te,le):this.trigger(U)}});var tp=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(k,U){var te,le,pe;if(typeof U=="string"&&(te=k[U],U=k,k=te),!!_(k))return le=o.call(arguments,2),pe=function(){return k.apply(U||this,le.concat(o.call(arguments)))},pe.guid=k.guid=k.guid||d.guid++,pe},d.holdReady=function(k){k?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=x,d.isFunction=_,d.isWindow=v,d.camelCase=De,d.type=S,d.now=Date.now,d.isNumeric=function(k){var U=d.type(k);return(U==="number"||U==="string")&&!isNaN(k-parseFloat(k))},d.trim=function(k){return k==null?"":(k+"").replace(tp,"$1")};var Qg=t.jQuery,od=t.$;return d.noConflict=function(k){return t.$===d&&(t.$=od),k&&t.jQuery===d&&(t.jQuery=Qg),d},typeof r>"u"&&(t.jQuery=t.$=d),d})}(l1)),l1.exports}(function(e){(function(t){var r=typeof self=="object"&&self.self===self&&self||typeof xs=="object"&&xs.global===xs&&xs;{var n=Doe,i;try{i=E9()}catch{}t(r,e,n,i)}})(function(t,r,n,i){var o=t.Backbone,s=Array.prototype.slice;r.VERSION="1.4.1",r.$=i,r.noConflict=function(){return t.Backbone=o,this},r.emulateHTTP=!1,r.emulateJSON=!1;var a=r.Events={},l=/\s+/,u,f=function(M,G,oe,ce,de){var ve=0,Ie;if(oe&&typeof oe=="object")for(ce!==void 0&&("context"in de)&&de.context===void 0&&(de.context=ce),Ie=n.keys(oe);ve<Ie.length;ve++)G=f(M,G,Ie[ve],oe[Ie[ve]],de);else if(oe&&l.test(oe))for(Ie=oe.split(l);ve<Ie.length;ve++)G=M(G,Ie[ve],ce,de);else G=M(G,oe,ce,de);return G};a.on=function(M,G,oe){if(this._events=f(c,this._events||{},M,G,{context:oe,ctx:this,listening:u}),u){var ce=this._listeners||(this._listeners={});ce[u.id]=u,u.interop=!1}return this},a.listenTo=function(M,G,oe){if(!M)return this;var ce=M._listenId||(M._listenId=n.uniqueId("l")),de=this._listeningTo||(this._listeningTo={}),ve=u=de[ce];ve||(this._listenId||(this._listenId=n.uniqueId("l")),ve=u=de[ce]=new h(this,M));var Ie=p(M,G,oe,this);if(u=void 0,Ie)throw Ie;return ve.interop&&ve.on(G,oe),this};var c=function(M,G,oe,ce){if(oe){var de=M[G]||(M[G]=[]),ve=ce.context,Ie=ce.ctx,Be=ce.listening;Be&&Be.count++,de.push({callback:oe,context:ve,ctx:ve||Ie,listening:Be})}return M},p=function(M,G,oe,ce){try{M.on(G,oe,ce)}catch(de){return de}};a.off=function(M,G,oe){return this._events?(this._events=f(m,this._events,M,G,{context:oe,listeners:this._listeners}),this):this},a.stopListening=function(M,G,oe){var ce=this._listeningTo;if(!ce)return this;for(var de=M?[M._listenId]:n.keys(ce),ve=0;ve<de.length;ve++){var Ie=ce[de[ve]];if(!Ie)break;Ie.obj.off(G,oe,this),Ie.interop&&Ie.off(G,oe)}return n.isEmpty(ce)&&(this._listeningTo=void 0),this};var m=function(M,G,oe,ce){if(M){var de=ce.context,ve=ce.listeners,Ie=0,Be;if(!G&&!de&&!oe){for(Be=n.keys(ve);Ie<Be.length;Ie++)ve[Be[Ie]].cleanup();return}for(Be=G?[G]:n.keys(M);Ie<Be.length;Ie++){G=Be[Ie];var De=M[G];if(!De)break;for(var nt=[],We=0;We<De.length;We++){var Ue=De[We];if(oe&&oe!==Ue.callback&&oe!==Ue.callback._callback||de&&de!==Ue.context)nt.push(Ue);else{var W=Ue.listening;W&&W.off(G,oe)}}nt.length?M[G]=nt:delete M[G]}return M}};a.once=function(M,G,oe){var ce=f(g,{},M,G,this.off.bind(this));return typeof M=="string"&&oe==null&&(G=void 0),this.on(ce,G,oe)},a.listenToOnce=function(M,G,oe){var ce=f(g,{},G,oe,this.stopListening.bind(this,M));return this.listenTo(M,ce)};var g=function(M,G,oe,ce){if(oe){var de=M[G]=n.once(function(){ce(G,de),oe.apply(this,arguments)});de._callback=oe}return M};a.trigger=function(M){if(!this._events)return this;for(var G=Math.max(0,arguments.length-1),oe=Array(G),ce=0;ce<G;ce++)oe[ce]=arguments[ce+1];return f(_,this._events,M,void 0,oe),this};var _=function(M,G,oe,ce){if(M){var de=M[G],ve=M.all;de&&ve&&(ve=ve.slice()),de&&v(de,ce),ve&&v(ve,[G].concat(ce))}return M},v=function(M,G){var oe,ce=-1,de=M.length,ve=G[0],Ie=G[1],Be=G[2];switch(G.length){case 0:for(;++ce<de;)(oe=M[ce]).callback.call(oe.ctx);return;case 1:for(;++ce<de;)(oe=M[ce]).callback.call(oe.ctx,ve);return;case 2:for(;++ce<de;)(oe=M[ce]).callback.call(oe.ctx,ve,Ie);return;case 3:for(;++ce<de;)(oe=M[ce]).callback.call(oe.ctx,ve,Ie,Be);return;default:for(;++ce<de;)(oe=M[ce]).callback.apply(oe.ctx,G);return}},h=function(M,G){this.id=M._listenId,this.listener=M,this.obj=G,this.interop=!0,this.count=0,this._events=void 0};h.prototype.on=a.on,h.prototype.off=function(M,G){var oe;this.interop?(this._events=f(m,this._events,M,G,{context:void 0,listeners:void 0}),oe=!this._events):(this.count--,oe=this.count===0),oe&&this.cleanup()},h.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(r,a);var E=r.Model=function(M,G){var oe=M||{};G||(G={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},G.collection&&(this.collection=G.collection),G.parse&&(oe=this.parse(oe,G)||{});var ce=n.result(this,"defaults");oe=n.defaults(n.extend({},ce,oe),ce),this.set(oe,G),this.changed={},this.initialize.apply(this,arguments)};n.extend(E.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(M){return n.clone(this.attributes)},sync:function(){return r.sync.apply(this,arguments)},get:function(M){return this.attributes[M]},escape:function(M){return n.escape(this.get(M))},has:function(M){return this.get(M)!=null},matches:function(M){return!!n.iteratee(M,this)(this.attributes)},set:function(M,G,oe){if(M==null)return this;var ce;if(typeof M=="object"?(ce=M,oe=G):(ce={})[M]=G,oe||(oe={}),!this._validate(ce,oe))return!1;var de=oe.unset,ve=oe.silent,Ie=[],Be=this._changing;this._changing=!0,Be||(this._previousAttributes=n.clone(this.attributes),this.changed={});var De=this.attributes,nt=this.changed,We=this._previousAttributes;for(var Ue in ce)G=ce[Ue],n.isEqual(De[Ue],G)||Ie.push(Ue),n.isEqual(We[Ue],G)?delete nt[Ue]:nt[Ue]=G,de?delete De[Ue]:De[Ue]=G;if(this.idAttribute in ce){var W=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,W,oe)}if(!ve){Ie.length&&(this._pending=oe);for(var N=0;N<Ie.length;N++)this.trigger("change:"+Ie[N],this,De[Ie[N]],oe)}if(Be)return this;if(!ve)for(;this._pending;)oe=this._pending,this._pending=!1,this.trigger("change",this,oe);return this._pending=!1,this._changing=!1,this},unset:function(M,G){return this.set(M,void 0,n.extend({},G,{unset:!0}))},clear:function(M){var G={};for(var oe in this.attributes)G[oe]=void 0;return this.set(G,n.extend({},M,{unset:!0}))},hasChanged:function(M){return M==null?!n.isEmpty(this.changed):n.has(this.changed,M)},changedAttributes:function(M){if(!M)return this.hasChanged()?n.clone(this.changed):!1;var G=this._changing?this._previousAttributes:this.attributes,oe={},ce;for(var de in M){var ve=M[de];n.isEqual(G[de],ve)||(oe[de]=ve,ce=!0)}return ce?oe:!1},previous:function(M){return M==null||!this._previousAttributes?null:this._previousAttributes[M]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(M){M=n.extend({parse:!0},M);var G=this,oe=M.success;return M.success=function(ce){var de=M.parse?G.parse(ce,M):ce;if(!G.set(de,M))return!1;oe&&oe.call(M.context,G,ce,M),G.trigger("sync",G,ce,M)},j(this,M),this.sync("read",this,M)},save:function(M,G,oe){var ce;M==null||typeof M=="object"?(ce=M,oe=G):(ce={})[M]=G,oe=n.extend({validate:!0,parse:!0},oe);var de=oe.wait;if(ce&&!de){if(!this.set(ce,oe))return!1}else if(!this._validate(ce,oe))return!1;var ve=this,Ie=oe.success,Be=this.attributes;oe.success=function(We){ve.attributes=Be;var Ue=oe.parse?ve.parse(We,oe):We;if(de&&(Ue=n.extend({},ce,Ue)),Ue&&!ve.set(Ue,oe))return!1;Ie&&Ie.call(oe.context,ve,We,oe),ve.trigger("sync",ve,We,oe)},j(this,oe),ce&&de&&(this.attributes=n.extend({},Be,ce));var De=this.isNew()?"create":oe.patch?"patch":"update";De==="patch"&&!oe.attrs&&(oe.attrs=ce);var nt=this.sync(De,this,oe);return this.attributes=Be,nt},destroy:function(M){M=M?n.clone(M):{};var G=this,oe=M.success,ce=M.wait,de=function(){G.stopListening(),G.trigger("destroy",G,G.collection,M)};M.success=function(Ie){ce&&de(),oe&&oe.call(M.context,G,Ie,M),G.isNew()||G.trigger("sync",G,Ie,M)};var ve=!1;return this.isNew()?n.defer(M.success):(j(this,M),ve=this.sync("delete",this,M)),ce||de(),ve},url:function(){var M=n.result(this,"urlRoot")||n.result(this.collection,"url")||R();if(this.isNew())return M;var G=this.get(this.idAttribute);return M.replace(/[^\/]$/,"$&/")+encodeURIComponent(G)},parse:function(M,G){return M},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(M){return this._validate({},n.extend({},M,{validate:!0}))},_validate:function(M,G){if(!G.validate||!this.validate)return!0;M=n.extend({},this.attributes,M);var oe=this.validationError=this.validate(M,G)||null;return oe?(this.trigger("invalid",this,oe,n.extend(G,{validationError:oe})),!1):!0}});var y=r.Collection=function(M,G){G||(G={}),this.preinitialize.apply(this,arguments),G.model&&(this.model=G.model),G.comparator!==void 0&&(this.comparator=G.comparator),this._reset(),this.initialize.apply(this,arguments),M&&this.reset(M,n.extend({silent:!0},G))},S={add:!0,remove:!0,merge:!0},$={add:!0,remove:!1},T=function(M,G,oe){oe=Math.min(Math.max(oe,0),M.length);var ce=Array(M.length-oe),de=G.length,ve;for(ve=0;ve<ce.length;ve++)ce[ve]=M[ve+oe];for(ve=0;ve<de;ve++)M[ve+oe]=G[ve];for(ve=0;ve<ce.length;ve++)M[ve+de+oe]=ce[ve]};n.extend(y.prototype,a,{model:E,preinitialize:function(){},initialize:function(){},toJSON:function(M){return this.map(function(G){return G.toJSON(M)})},sync:function(){return r.sync.apply(this,arguments)},add:function(M,G){return this.set(M,n.extend({merge:!1},G,$))},remove:function(M,G){G=n.extend({},G);var oe=!n.isArray(M);M=oe?[M]:M.slice();var ce=this._removeModels(M,G);return!G.silent&&ce.length&&(G.changes={added:[],merged:[],removed:ce},this.trigger("update",this,G)),oe?ce[0]:ce},set:function(M,G){if(M!=null){G=n.extend({},S,G),G.parse&&!this._isModel(M)&&(M=this.parse(M,G)||[]);var oe=!n.isArray(M);M=oe?[M]:M.slice();var ce=G.at;ce!=null&&(ce=+ce),ce>this.length&&(ce=this.length),ce<0&&(ce+=this.length+1);var de=[],ve=[],Ie=[],Be=[],De={},nt=G.add,We=G.merge,Ue=G.remove,W=!1,N=this.comparator&&ce==null&&G.sort!==!1,L=n.isString(this.comparator)?this.comparator:null,re,ye;for(ye=0;ye<M.length;ye++){re=M[ye];var Ee=this.get(re);if(Ee){if(We&&re!==Ee){var je=this._isModel(re)?re.attributes:re;G.parse&&(je=Ee.parse(je,G)),Ee.set(je,G),Ie.push(Ee),N&&!W&&(W=Ee.hasChanged(L))}De[Ee.cid]||(De[Ee.cid]=!0,de.push(Ee)),M[ye]=Ee}else nt&&(re=M[ye]=this._prepareModel(re,G),re&&(ve.push(re),this._addReference(re,G),De[re.cid]=!0,de.push(re)))}if(Ue){for(ye=0;ye<this.length;ye++)re=this.models[ye],De[re.cid]||Be.push(re);Be.length&&this._removeModels(Be,G)}var Re=!1,Le=!N&&nt&&Ue;if(de.length&&Le?(Re=this.length!==de.length||n.some(this.models,function(dt,yt){return dt!==de[yt]}),this.models.length=0,T(this.models,de,0),this.length=this.models.length):ve.length&&(N&&(W=!0),T(this.models,ve,ce??this.length),this.length=this.models.length),W&&this.sort({silent:!0}),!G.silent){for(ye=0;ye<ve.length;ye++)ce!=null&&(G.index=ce+ye),re=ve[ye],re.trigger("add",re,this,G);(W||Re)&&this.trigger("sort",this,G),(ve.length||Be.length||Ie.length)&&(G.changes={added:ve,removed:Be,merged:Ie},this.trigger("update",this,G))}return oe?M[0]:M}},reset:function(M,G){G=G?n.clone(G):{};for(var oe=0;oe<this.models.length;oe++)this._removeReference(this.models[oe],G);return G.previousModels=this.models,this._reset(),M=this.add(M,n.extend({silent:!0},G)),G.silent||this.trigger("reset",this,G),M},push:function(M,G){return this.add(M,n.extend({at:this.length},G))},pop:function(M){var G=this.at(this.length-1);return this.remove(G,M)},unshift:function(M,G){return this.add(M,n.extend({at:0},G))},shift:function(M){var G=this.at(0);return this.remove(G,M)},slice:function(){return s.apply(this.models,arguments)},get:function(M){if(M!=null)return this._byId[M]||this._byId[this.modelId(this._isModel(M)?M.attributes:M,M.idAttribute)]||M.cid&&this._byId[M.cid]},has:function(M){return this.get(M)!=null},at:function(M){return M<0&&(M+=this.length),this.models[M]},where:function(M,G){return this[G?"find":"filter"](M)},findWhere:function(M){return this.where(M,!0)},sort:function(M){var G=this.comparator;if(!G)throw new Error("Cannot sort a set without a comparator");M||(M={});var oe=G.length;return n.isFunction(G)&&(G=G.bind(this)),oe===1||n.isString(G)?this.models=this.sortBy(G):this.models.sort(G),M.silent||this.trigger("sort",this,M),this},pluck:function(M){return this.map(M+"")},fetch:function(M){M=n.extend({parse:!0},M);var G=M.success,oe=this;return M.success=function(ce){var de=M.reset?"reset":"set";oe[de](ce,M),G&&G.call(M.context,oe,ce,M),oe.trigger("sync",oe,ce,M)},j(this,M),this.sync("read",this,M)},create:function(M,G){G=G?n.clone(G):{};var oe=G.wait;if(M=this._prepareModel(M,G),!M)return!1;oe||this.add(M,G);var ce=this,de=G.success;return G.success=function(ve,Ie,Be){oe&&ce.add(ve,Be),de&&de.call(Be.context,ve,Ie,Be)},M.save(null,G),M},parse:function(M,G){return M},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(M,G){return M[G||this.model.prototype.idAttribute||"id"]},values:function(){return new A(this,x)},keys:function(){return new A(this,O)},entries:function(){return new A(this,D)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(M,G){if(this._isModel(M))return M.collection||(M.collection=this),M;G=G?n.clone(G):{},G.collection=this;var oe;return this.model.prototype?oe=new this.model(M,G):oe=this.model(M,G),oe.validationError?(this.trigger("invalid",this,oe.validationError,G),!1):oe},_removeModels:function(M,G){for(var oe=[],ce=0;ce<M.length;ce++){var de=this.get(M[ce]);if(de){var ve=this.indexOf(de);this.models.splice(ve,1),this.length--,delete this._byId[de.cid];var Ie=this.modelId(de.attributes,de.idAttribute);Ie!=null&&delete this._byId[Ie],G.silent||(G.index=ve,de.trigger("remove",de,this,G)),oe.push(de),this._removeReference(de,G)}}return oe},_isModel:function(M){return M instanceof E},_addReference:function(M,G){this._byId[M.cid]=M;var oe=this.modelId(M.attributes,M.idAttribute);oe!=null&&(this._byId[oe]=M),M.on("all",this._onModelEvent,this)},_removeReference:function(M,G){delete this._byId[M.cid];var oe=this.modelId(M.attributes,M.idAttribute);oe!=null&&delete this._byId[oe],this===M.collection&&delete M.collection,M.off("all",this._onModelEvent,this)},_onModelEvent:function(M,G,oe,ce){if(G){if((M==="add"||M==="remove")&&oe!==this)return;if(M==="destroy"&&this.remove(G,ce),M==="changeId"){var de=this.modelId(G.previousAttributes(),G.idAttribute),ve=this.modelId(G.attributes,G.idAttribute);de!=null&&delete this._byId[de],ve!=null&&(this._byId[ve]=G)}}this.trigger.apply(this,arguments)}});var d=typeof Symbol=="function"&&Symbol.iterator;d&&(y.prototype[d]=y.prototype.values);var A=function(M,G){this._collection=M,this._kind=G,this._index=0},x=1,O=2,D=3;d&&(A.prototype[d]=function(){return this}),A.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var M=this._collection.at(this._index);this._index++;var G;if(this._kind===x)G=M;else{var oe=this._collection.modelId(M.attributes,M.idAttribute);this._kind===O?G=oe:G=[oe,M]}return{value:G,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var F=r.View=function(M){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(M,Q)),this._ensureElement(),this.initialize.apply(this,arguments)},V=/^(\S+)\s*(.*)$/,Q=["model","collection","el","id","attributes","className","tagName","events"];n.extend(F.prototype,a,{tagName:"div",$:function(M){return this.$el.find(M)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(M){return this.undelegateEvents(),this._setElement(M),this.delegateEvents(),this},_setElement:function(M){this.$el=M instanceof r.$?M:r.$(M),this.el=this.$el[0]},delegateEvents:function(M){if(M||(M=n.result(this,"events")),!M)return this;this.undelegateEvents();for(var G in M){var oe=M[G];if(n.isFunction(oe)||(oe=this[oe]),!!oe){var ce=G.match(V);this.delegate(ce[1],ce[2],oe.bind(this))}}return this},delegate:function(M,G,oe){return this.$el.on(M+".delegateEvents"+this.cid,G,oe),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(M,G,oe){return this.$el.off(M+".delegateEvents"+this.cid,G,oe),this},_createElement:function(M){return document.createElement(M)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var M=n.extend({},n.result(this,"attributes"));this.id&&(M.id=n.result(this,"id")),this.className&&(M.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(M)}},_setAttributes:function(M){this.$el.attr(M)}});var H=function(M,G,oe,ce){switch(G){case 1:return function(){return M[oe](this[ce])};case 2:return function(de){return M[oe](this[ce],de)};case 3:return function(de,ve){return M[oe](this[ce],fe(de,this),ve)};case 4:return function(de,ve,Ie){return M[oe](this[ce],fe(de,this),ve,Ie)};default:return function(){var de=s.call(arguments);return de.unshift(this[ce]),M[oe].apply(M,de)}}},X=function(M,G,oe,ce){n.each(oe,function(de,ve){G[ve]&&(M.prototype[ve]=H(G,de,ve,ce))})},fe=function(M,G){return n.isFunction(M)?M:n.isObject(M)&&!G._isModel(M)?Z(M):n.isString(M)?function(oe){return oe.get(M)}:M},Z=function(M){var G=n.matches(M);return function(oe){return G(oe.attributes)}},ne={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},C={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[y,ne,"models"],[E,C,"attributes"]],function(M){var G=M[0],oe=M[1],ce=M[2];G.mixin=function(de){var ve=n.reduce(n.functions(de),function(Ie,Be){return Ie[Be]=0,Ie},{});X(G,de,ve,ce)},X(G,n,oe,ce)}),r.sync=function(M,G,oe){var ce=B[M];n.defaults(oe||(oe={}),{emulateHTTP:r.emulateHTTP,emulateJSON:r.emulateJSON});var de={type:ce,dataType:"json"};if(oe.url||(de.url=n.result(G,"url")||R()),oe.data==null&&G&&(M==="create"||M==="update"||M==="patch")&&(de.contentType="application/json",de.data=JSON.stringify(oe.attrs||G.toJSON(oe))),oe.emulateJSON&&(de.contentType="application/x-www-form-urlencoded",de.data=de.data?{model:de.data}:{}),oe.emulateHTTP&&(ce==="PUT"||ce==="DELETE"||ce==="PATCH")){de.type="POST",oe.emulateJSON&&(de.data._method=ce);var ve=oe.beforeSend;oe.beforeSend=function(De){if(De.setRequestHeader("X-HTTP-Method-Override",ce),ve)return ve.apply(this,arguments)}}de.type!=="GET"&&!oe.emulateJSON&&(de.processData=!1);var Ie=oe.error;oe.error=function(De,nt,We){oe.textStatus=nt,oe.errorThrown=We,Ie&&Ie.call(oe.context,De,nt,We)};var Be=oe.xhr=r.ajax(n.extend(de,oe));return G.trigger("request",G,Be,oe),Be};var B={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};r.ajax=function(){return r.$.ajax.apply(r.$,arguments)};var K=r.Router=function(M){M||(M={}),this.preinitialize.apply(this,arguments),M.routes&&(this.routes=M.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},P=/\((.*?)\)/g,I=/(\(\?)?:\w+/g,q=/\*\w+/g,ie=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(K.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(M,G,oe){n.isRegExp(M)||(M=this._routeToRegExp(M)),n.isFunction(G)&&(oe=G,G=""),oe||(oe=this[G]);var ce=this;return r.history.route(M,function(de){var ve=ce._extractParameters(M,de);ce.execute(oe,ve,G)!==!1&&(ce.trigger.apply(ce,["route:"+G].concat(ve)),ce.trigger("route",G,ve),r.history.trigger("route",ce,G,ve))}),this},execute:function(M,G,oe){M&&M.apply(this,G)},navigate:function(M,G){return r.history.navigate(M,G),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var M,G=n.keys(this.routes);(M=G.pop())!=null;)this.route(M,this.routes[M])}},_routeToRegExp:function(M){return M=M.replace(ie,"\\$&").replace(P,"(?:$1)?").replace(I,function(G,oe){return oe?G:"([^/?]+)"}).replace(q,"([^?]*?)"),new RegExp("^"+M+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(M,G){var oe=M.exec(G).slice(1);return n.map(oe,function(ce,de){return de===oe.length-1?ce||null:ce?decodeURIComponent(ce):null})}});var J=r.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Y=/^[#\/]|\s+$/g,se=/^\/+|\/+$/g,be=/#.*$/;J.started=!1,n.extend(J.prototype,a,{interval:50,atRoot:function(){var M=this.location.pathname.replace(/[^\/]$/,"$&/");return M===this.root&&!this.getSearch()},matchRoot:function(){var M=this.decodeFragment(this.location.pathname),G=M.slice(0,this.root.length-1)+"/";return G===this.root},decodeFragment:function(M){return decodeURI(M.replace(/%25/g,"%2525"))},getSearch:function(){var M=this.location.href.replace(/#.*/,"").match(/\?.+/);return M?M[0]:""},getHash:function(M){var G=(M||this).location.href.match(/#(.*)$/);return G?G[1]:""},getPath:function(){var M=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return M.charAt(0)==="/"?M.slice(1):M},getFragment:function(M){return M==null&&(this._usePushState||!this._wantsHashChange?M=this.getPath():M=this.getHash()),M.replace(Y,"")},start:function(M){if(J.started)throw new Error("Backbone.history has already been started");if(J.started=!0,this.options=n.extend({root:"/"},this.options,M),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(se,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var G=this.root.slice(0,-1)||"/";return this.location.replace(G+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var oe=document.body,ce=oe.insertBefore(this.iframe,oe.firstChild).contentWindow;ce.document.open(),ce.document.close(),ce.location.hash="#"+this.fragment}var de=window.addEventListener||function(ve,Ie){return attachEvent("on"+ve,Ie)};if(this._usePushState?de("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?de("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var M=window.removeEventListener||function(G,oe){return detachEvent("on"+G,oe)};this._usePushState?M("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&M("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),J.started=!1},route:function(M,G){this.handlers.unshift({route:M,callback:G})},checkUrl:function(M){var G=this.getFragment();if(G===this.fragment&&this.iframe&&(G=this.getHash(this.iframe.contentWindow)),G===this.fragment)return!1;this.iframe&&this.navigate(G),this.loadUrl()},loadUrl:function(M){return this.matchRoot()?(M=this.fragment=this.getFragment(M),n.some(this.handlers,function(G){if(G.route.test(M))return G.callback(M),!0})):!1},navigate:function(M,G){if(!J.started)return!1;(!G||G===!0)&&(G={trigger:!!G}),M=this.getFragment(M||"");var oe=this.root;(M===""||M.charAt(0)==="?")&&(oe=oe.slice(0,-1)||"/");var ce=oe+M;M=M.replace(be,"");var de=this.decodeFragment(M);if(this.fragment!==de){if(this.fragment=de,this._usePushState)this.history[G.replace?"replaceState":"pushState"]({},document.title,ce);else if(this._wantsHashChange){if(this._updateHash(this.location,M,G.replace),this.iframe&&M!==this.getHash(this.iframe.contentWindow)){var ve=this.iframe.contentWindow;G.replace||(ve.document.open(),ve.document.close()),this._updateHash(ve.location,M,G.replace)}}else return this.location.assign(ce);if(G.trigger)return this.loadUrl(M)}},_updateHash:function(M,G,oe){if(oe){var ce=M.href.replace(/(javascript:|#).*$/,"");M.replace(ce+"#"+G)}else M.hash="#"+G}}),r.history=new J;var Pe=function(M,G){var oe=this,ce;return M&&n.has(M,"constructor")?ce=M.constructor:ce=function(){return oe.apply(this,arguments)},n.extend(ce,oe,G),ce.prototype=n.create(oe.prototype,M),ce.prototype.constructor=ce,ce.__super__=oe.prototype,ce};E.extend=y.extend=K.extend=F.extend=J.extend=Pe;var R=function(){throw new Error('A "url" property or function must be specified')},j=function(M,G){var oe=G.error;G.error=function(ce){oe&&oe.call(G.context,M,ce,G),M.trigger("error",M,ce,G)}};return r})})(JV);const Li=Df(JV);var Moe=E9();const Lr=Df(Moe),at=function(){var e=typeof window=="object"&&!!window.SVGAngle;if(!e)return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},r="1.1",n=Math,i=n.PI,o=n.atan2,s=n.sqrt,a=n.min,l=n.max,u=n.cos,f=n.sin,c=function(d,A,x){if(!(this instanceof c))return c.apply(Object.create(c.prototype),arguments);if(d){if(c.isV(d)&&(d=d.node),A=A||{},c.isString(d)){if(d=d.trim(),d.toLowerCase()==="svg")d=c.createSvgDocument();else if(d[0]==="<"){var O=c.createSvgDocument(d);if(O.childNodes.length>1){var D=[],F,V;for(F=0,V=O.childNodes.length;F<V;F++){var Q=O.childNodes[F];D.push(new c(document.importNode(Q,!0)))}return D}d=document.importNode(O.firstChild,!0)}else d=document.createElementNS(t.svg,d);c.ensureId(d)}return this.node=d,this.setAttributes(A),x&&this.append(x),this}},p=c.prototype;Object.defineProperty(p,"id",{enumerable:!0,get:function(){return this.node.id},set:function(d){this.node.id=d}}),p.getTransformToElement=function(d){var A=this.node;if(c.isSVGGraphicsElement(d)&&c.isSVGGraphicsElement(A)){var x=c.toNode(d).getScreenCTM(),O=A.getScreenCTM();if(x&&O)return x.inverse().multiply(O)}return c.createSVGMatrix()},p.transform=function(d,A){var x=this.node;if(c.isUndefined(d))return c.transformStringToMatrix(this.attr("transform"));if(A&&A.absolute)return this.attr("transform",c.matrixToTransformString(d));var O=c.createSVGTransform(d);return x.transform.baseVal.appendItem(O),this},p.translate=function(d,A,x){x=x||{},A=A||0;var O=this.attr("transform")||"",D=c.parseTransformString(O);if(O=D.value,c.isUndefined(d))return D.translate;O=O.replace(/translate\([^)]*\)/g,"").trim();var F=x.absolute?d:D.translate.tx+d,V=x.absolute?A:D.translate.ty+A,Q="translate("+F+","+V+")";return this.attr("transform",(Q+" "+O).trim()),this},p.rotate=function(d,A,x,O){O=O||{};var D=this.attr("transform")||"",F=c.parseTransformString(D);if(D=F.value,c.isUndefined(d))return F.rotate;D=D.replace(/rotate\([^)]*\)/g,"").trim(),d%=360;var V=O.absolute?d:F.rotate.angle+d,Q=A!==void 0&&x!==void 0?","+A+","+x:"",H="rotate("+V+Q+")";return this.attr("transform",(D+" "+H).trim()),this},p.scale=function(d,A){A=c.isUndefined(A)?d:A;var x=this.attr("transform")||"",O=c.parseTransformString(x);if(x=O.value,c.isUndefined(d))return O.scale;x=x.replace(/scale\([^)]*\)/g,"").trim();var D="scale("+d+","+A+")";return this.attr("transform",(x+" "+D).trim()),this},p.bbox=function(d,A){var x,O=this.node,D=O.ownerSVGElement;if(!D)return new Ot(0,0,0,0);try{x=O.getBBox()}catch{x={x:O.clientLeft,y:O.clientTop,width:O.clientWidth,height:O.clientHeight}}if(d)return new Ot(x);var F=this.getTransformToElement(A||D);return c.transformRect(x,F)},p.getBBox=function(d){var A={},x,O=this.node,D=O.ownerSVGElement;if(!D||!c.isSVGGraphicsElement(O))return new Ot(0,0,0,0);if(d&&(d.target&&(A.target=c.toNode(d.target)),d.recursive&&(A.recursive=d.recursive)),A.recursive){var V=this.children(),Q=V.length;if(Q===0)return this.getBBox({target:A.target,recursive:!1});A.target||(A.target=this);for(var H=0;H<Q;H++){var X=V[H],fe;X.children().length===0?fe=X.getBBox({target:A.target,recursive:!1}):fe=X.getBBox({target:A.target,recursive:!0}),x?x=x.union(fe):x=fe}return x}else{try{x=O.getBBox()}catch{x={x:O.clientLeft,y:O.clientTop,width:O.clientWidth,height:O.clientHeight}}if(A.target){var F=this.getTransformToElement(A.target);return c.transformRect(x,F)}else return new Ot(x)}};function m(d,A){d||(d={});var x=c("textPath"),O=d.d;if(O&&d["xlink:href"]===void 0){var D=c("path").attr("d",O).appendTo(A.defs());x.attr("xlink:href","#"+D.id)}return c.isObject(d)&&x.attr(d),x.node}function g(d,A,x){x||(x={});for(var O=x.includeAnnotationIndices,D=x.eol,F=x.lineHeight,V=x.baseSize,Q=0,H={},X=A.length-1,fe=0;fe<=X;fe++){var Z=A[fe],ne=null;if(c.isObject(Z)){var C=Z.attrs,B=c("tspan",C),K=B.node,P=Z.t;D&&fe===X&&(P+=D),K.textContent=P;var I=C.class;I&&B.addClass(I),O&&B.attr("annotations",Z.annotations),ne=parseFloat(C["font-size"]),isFinite(ne)||(ne=V),ne&&ne>Q&&(Q=ne)}else D&&fe===X&&(Z+=D),K=document.createTextNode(Z||" "),V&&V>Q&&(Q=V);d.appendChild(K)}return Q&&(H.maxFontSize=Q),F?H.lineHeight=F:Q&&(H.lineHeight=Q*1.2),H}var _=/em$/;function v(d,A){var x=parseFloat(d);return _.test(d)?x*A:x}function h(d,A,x,O){if(!Array.isArray(A))return 0;var D=A.length;if(!D)return 0;for(var F=A[0],V=v(F.maxFontSize,x)||x,Q=0,H=v(O,x),X=1;X<D;X++){F=A[X];var fe=v(F.lineHeight,x)||H;Q+=fe}var Z=v(F.maxFontSize,x)||x,ne;switch(d){case"middle":ne=V/2-.15*Z-Q/2;break;case"bottom":ne=-(.25*Z)-Q;break;default:case"top":ne=.8*V;break}return ne}p.text=function(d,A){if(d&&typeof d!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");d=c.sanitizeText(d),A||(A={});var x=A.displayEmpty,O=A.eol,D=A.textPath,F=A.textVerticalAnchor,V=F==="middle"||F==="bottom"||F==="top",Q=A.x;Q===void 0&&(Q=this.attr("x")||0);var H=A.includeAnnotationIndices,X=A.annotations;X&&!c.isArray(X)&&(X=[X]);var fe=A.lineHeight,Z=fe==="auto",ne=Z?"1.5em":fe||"1em";this.empty(),this.attr({"xml:space":"preserve",display:d||x?null:"none"});var C=parseFloat(this.attr("font-size"));C||(C=16,(V||X)&&this.attr("font-size",C));var B=document,K;D?(typeof D=="string"&&(D={d:D}),K=m(D,this)):K=B.createDocumentFragment();for(var P=0,I=d.split(`
`),q=[],ie,J=0,Y=I.length-1;J<=Y;J++){var se=ne,be="v-line",Pe=B.createElementNS(t.svg,"tspan"),R=I[J],j;if(R)if(X){var M=c.annotateString(R,X,{offset:-P,includeAnnotationIndices:H});j=g(Pe,M,{includeAnnotationIndices:H,eol:J!==Y&&O,lineHeight:Z?null:ne,baseSize:C});var G=j.lineHeight;G&&Z&&J!==0&&(se=G),J===0&&(ie=j.maxFontSize*.8)}else O&&J!==Y&&(R+=O),Pe.textContent=R;else{Pe.textContent="-",be+=" v-empty-line";var oe=Pe.style;if(oe.fillOpacity=0,oe.strokeOpacity=0,X){j={},M=c.findAnnotationsAtIndex(X,P);let de=C;for(let ve=M.length;ve>0;ve--){const Ie=M[ve-1].attrs;if(!Ie||!("font-size"in Ie))continue;const Be=parseFloat(Ie["font-size"]);if(isFinite(Be)){de=Be;break}}Z&&(J>0?se=de*1.2:ie=de*.8),Pe.setAttribute("font-size",de),j.maxFontSize=de}}j&&q.push(j),J>0&&Pe.setAttribute("dy",se),(J>0||D)&&Pe.setAttribute("x",Q),Pe.className.baseVal=be,K.appendChild(Pe),P+=R.length+1}if(V)if(X)se=h(F,q,C,ne);else if(F==="top")se="0.8em";else{var ce;switch(Y>0?(ce=parseFloat(ne)||1,ce*=Y,_.test(ne)||(ce/=C)):ce=0,F){case"middle":se=.3-ce/2+"em";break;case"bottom":se=-ce-.3+"em";break}}else F===0?se="0em":F?se=F:(se=0,this.attr("y")===null&&this.attr("y",ie||"0.8em"));return K.firstChild.setAttribute("dy",se),this.append(K),this},p.removeAttr=function(d){const A=$[d],{ns:x,local:O}=c.qualifyAttr(A),D=this.node;return x?D.hasAttributeNS(x,O)&&D.removeAttributeNS(x,O):D.hasAttribute(A)&&D.removeAttribute(A),this},p.attr=function(d,A){if(c.isUndefined(d)){for(var x=this.node.attributes,O={},D=0;D<x.length;D++)O[x[D].name]=x[D].value;return O}if(c.isString(d)&&c.isUndefined(A))return this.node.getAttribute($[d]);if(typeof d=="object")for(var F in d)d.hasOwnProperty(F)&&this.setAttribute(F,d[F]);else this.setAttribute(d,A);return this},p.normalizePath=function(){var d=this.tagName();return d==="PATH"&&this.attr("d",c.normalizePathData(this.attr("d"))),this},p.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},p.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},p.setAttributes=function(d){for(var A in d)d.hasOwnProperty(A)&&this.setAttribute(A,d[A]);return this},p.append=function(d){c.isArray(d)||(d=[d]);for(var A=0,x=d.length;A<x;A++)this.node.appendChild(c.toNode(d[A]));return this},p.prepend=function(d){var A=this.node.firstChild;return A?c(A).before(d):this.append(d)},p.before=function(d){var A=this.node,x=A.parentNode;if(x){c.isArray(d)||(d=[d]);for(var O=0,D=d.length;O<D;O++)x.insertBefore(c.toNode(d[O]),A)}return this},p.appendTo=function(d){return c.toNode(d).appendChild(this.node),this},p.svg=function(){return this.node instanceof window.SVGSVGElement?this:c(this.node.ownerSVGElement)},p.tagName=function(){return this.node.tagName.toUpperCase()},p.defs=function(){var d=this.svg()||this,A=d.node.getElementsByTagName("defs")[0];return A?c(A):c("defs").appendTo(d)},p.clone=function(){var d=c(this.node.cloneNode(!0));return d.node.id=c.uniqueId(),d},p.findOne=function(d){var A=this.node.querySelector(d);return A?c(A):void 0},p.find=function(d){var A=[],x=this.node.querySelectorAll(d);if(x)for(var O=0;O<x.length;O++)A.push(c(x[O]));return A},p.children=function(){for(var d=this.node.childNodes,A=[],x=0;x<d.length;x++){var O=d[x];O.nodeType===1&&A.push(c(d[x]))}return A},p.parent=function(){return c(this.node.parentNode)||null},p.index=function(){for(var d=0,A=this.node.previousSibling;A;)A.nodeType===1&&d++,A=A.previousSibling;return d},p.findParentByClass=function(d,A){for(var x=this.node.ownerSVGElement,O=this.node.parentNode;O&&O!==A&&O!==x;){var D=c(O);if(D.hasClass(d))return D;O=O.parentNode}return null},p.contains=function(d){var A=this.node,x=c.toNode(d),O=x&&x.parentNode;return A===O||!!(O&&O.nodeType===1&&A.compareDocumentPosition(O)&16)},p.toLocalPoint=function(d,A){var x=this.svg().node,O=x.createSVGPoint();O.x=d,O.y=A;try{var D=O.matrixTransform(x.getScreenCTM().inverse()),F=this.getTransformToElement(x).inverse()}catch{return O}return D.matrixTransform(F)},p.translateCenterToPoint=function(d){var A=this.getBBox({target:this.svg()}),x=A.center();return this.translate(d.x-x.x,d.y-x.y),this},p.translateAndAutoOrient=function(d,A,x){d=new ze(d),A=new ze(A),x||(x=this.svg());var O=this.scale();this.attr("transform","");var D=this.getBBox({target:x}).scale(O.sx,O.sy),F=c.createSVGTransform();F.setTranslate(-D.x-D.width/2,-D.y-D.height/2);var V=c.createSVGTransform(),Q=d.angleBetween(A,d.clone().offset(1,0));Q&&V.setRotate(Q,0,0);var H=c.createSVGTransform(),X=d.clone().move(A,D.width/2);H.setTranslate(2*d.x-X.x,2*d.y-X.y);var fe=this.getTransformToElement(x),Z=c.createSVGTransform();return Z.setMatrix(H.matrix.multiply(V.matrix.multiply(F.matrix.multiply(fe.scale(O.sx,O.sy))))),this.attr("transform",c.matrixToTransformString(Z.matrix)),this},p.animateAlongPath=function(d,A){A=c.toNode(A);var x=c.ensureId(A),O=c("animateMotion",d),D=c("mpath",{"xlink:href":"#"+x});O.append(D),this.append(O);try{O.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var F=O.node;F.animators=[];var V=F.getAttribute("id");V&&(id2anim[V]=F);for(var Q=getTargets(F),H=0,X=Q.length;H<X;H++){var fe=Q[H],Z=new Animator(F,fe,H);animators.push(Z),F.animators[H]=Z,Z.register()}}}return this};const E=/[^\x20\t\r\n\f]+/g;function y(d){return c.isString(d)?d.trim().match(E)||[]:[]}p.hasClass=function(d){return c.isString(d)?this.node.classList.contains(d.trim()):!1},p.addClass=function(d){return this.node.classList.add(...y(d)),this},p.removeClass=function(d){return this.node.classList.remove(...y(d)),this},p.toggleClass=function(d,A){const x=y(d);for(let O=0;O<x.length;O++)this.node.classList.toggle(x[O],A);return this},p.sample=function(d){d=d||1;for(var A=this.node,x=A.getTotalLength(),O=[],D=0,F;D<x;)F=A.getPointAtLength(D),O.push({x:F.x,y:F.y,distance:D}),D+=d;return O},p.convertToPath=function(){var d=c("path");d.attr(this.attr());var A=this.convertToPathData();return A&&d.attr("d",A),d},p.convertToPathData=function(){var d=this.tagName();switch(d){case"PATH":return this.attr("d");case"LINE":return c.convertLineToPathData(this.node);case"POLYGON":return c.convertPolygonToPathData(this.node);case"POLYLINE":return c.convertPolylineToPathData(this.node);case"ELLIPSE":return c.convertEllipseToPathData(this.node);case"CIRCLE":return c.convertCircleToPathData(this.node);case"RECT":return c.convertRectToPathData(this.node)}throw new Error(d+" cannot be converted to PATH.")},c.prototype.toGeometryShape=function(){var d,A,x,O,D,F,V,Q,H,X,fe,Z,ne,C,B;switch(this.tagName()){case"RECT":return d=parseFloat(this.attr("x"))||0,A=parseFloat(this.attr("y"))||0,x=parseFloat(this.attr("width"))||0,O=parseFloat(this.attr("height"))||0,new Ot(d,A,x,O);case"CIRCLE":return D=parseFloat(this.attr("cx"))||0,F=parseFloat(this.attr("cy"))||0,V=parseFloat(this.attr("r"))||0,new eo({x:D,y:F},V,V);case"ELLIPSE":return D=parseFloat(this.attr("cx"))||0,F=parseFloat(this.attr("cy"))||0,Q=parseFloat(this.attr("rx"))||0,H=parseFloat(this.attr("ry"))||0,new eo({x:D,y:F},Q,H);case"POLYLINE":return X=c.getPointsFromSvgNode(this),new un(X);case"POLYGON":return X=c.getPointsFromSvgNode(this),X.length>1&&X.push(X[0]),new un(X);case"PATH":return fe=this.attr("d"),Bt.isDataSupported(fe)||(fe=c.normalizePathData(fe)),new Bt(fe);case"LINE":return Z=parseFloat(this.attr("x1"))||0,C=parseFloat(this.attr("y1"))||0,ne=parseFloat(this.attr("x2"))||0,B=parseFloat(this.attr("y2"))||0,new Nt({x:Z,y:C},{x:ne,y:B})}return this.getBBox()},p.findIntersection=function(d,A){var x=this.svg().node;A=A||x;var O=this.getBBox({target:A}),D=O.center();if(O.intersectionWithLineFromCenterToPoint(d)){var F,V=this.tagName();if(V==="RECT"){var Q=new Ot(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),H=this.getTransformToElement(A),X=c.decomposeMatrix(H),fe=x.createSVGTransform();fe.setRotate(-X.rotation,D.x,D.y);var Z=c.transformRect(Q,fe.matrix.multiply(H));F=new Ot(Z).intersectionWithLineFromCenterToPoint(d,X.rotation)}else if(V==="PATH"||V==="POLYGON"||V==="POLYLINE"||V==="CIRCLE"||V==="ELLIPSE"){var ne=V==="PATH"?this:this.convertToPath(),C=ne.sample(),B=1/0,K=[],P,I,q,ie,J,Y;for(P=0;P<C.length;P++)I=C[P],q=c.createSVGPoint(I.x,I.y),q=q.matrixTransform(this.getTransformToElement(A)),I=new ze(q),ie=I.distance(D),J=I.distance(d)*1.1,Y=ie+J,Y<B?(B=Y,K=[{sample:I,refDistance:J}]):Y<B+1&&K.push({sample:I,refDistance:J});K.sort(function(se,be){return se.refDistance-be.refDistance}),K[0]&&(F=K[0].sample)}return F}},p.setAttribute=function(d,A){const x=this.node;if(A===null)return this.removeAttr(d),this;const O=$[d],{ns:D}=c.qualifyAttr(O);return D?x.setAttributeNS(D,O,A):O==="id"?x.id=A:x.setAttribute(O,A),this},c.createSvgDocument=function(d){if(d){const x=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="${r}">${d}</svg>`,{documentElement:O}=c.parseXML(x,{async:!1});return O}const A=document.createElementNS(t.svg,"svg");return A.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),A.setAttribute("version",r),A},c.createSVGStyle=function(d){const{node:A}=c("style",{type:"text/css"},[c.createCDATASection(d)]);return A},c.createCDATASection=function(d=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(d)},c.idCounter=0,c.uniqueId=function(){return"v-"+ ++c.idCounter},c.toNode=function(d){return c.isV(d)?d.node:d.nodeName&&d||d[0]},c.ensureId=function(d){return d=c.toNode(d),d.id||(d.id=c.uniqueId())},c.sanitizeText=function(d){return(d||"").replace(/ /g," ")},c.isUndefined=function(d){return typeof d>"u"},c.isString=function(d){return typeof d=="string"},c.isObject=function(d){return d&&typeof d=="object"},c.isArray=Array.isArray,c.parseXML=function(d,A){A=A||{};var x;try{var O=new DOMParser;c.isUndefined(A.async)||(O.async=A.async),x=O.parseFromString(d,"text/xml")}catch{x=void 0}if(!x||x.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+d);return x};const S=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(d=>S[d]=d);const $=new Proxy(S,{get(d,A){return c.supportCamelCaseAttributes?A in d?d[A]:d[A]=A.replace(/[A-Z]/g,"-$&").toLowerCase():A}});Object.defineProperty(c,"attributeNames",{value:$,writable:!1}),Object.defineProperty(c,"supportCamelCaseAttributes",{value:!1,writable:!0}),c.qualifyAttr=function(d){if(d.indexOf(":")!==-1){var A=d.split(":");return{ns:t[A[0]],local:A[1]}}return{ns:null,local:d}},c.transformSeparatorRegex=/[ ,]+/,c.transformRegex=/\b\w+\([^()]+\)/g,c.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,c.transformTranslateRegex=/\btranslate\(([^()]+)\)/,c.transformRotateRegex=/\brotate\(([^()]+)\)/,c.transformScaleRegex=/\bscale\(([^()]+)\)/,c.transformStringToMatrix=function(d){let A=c.createSVGMatrix();const x=d&&d.match(c.transformRegex);if(!x)return A;const O=x.length;for(let D=0;D<O;D++){const V=x[D].match(c.transformFunctionRegex);if(V){let Q,H,X,fe,Z,ne=c.createSVGMatrix();const C=V[1].toLowerCase(),B=V[2].split(c.transformSeparatorRegex);switch(C){case"scale":Q=parseFloat(B[0]),H=B[1]===void 0?Q:parseFloat(B[1]),ne=ne.scaleNonUniform(Q,H);break;case"translate":X=parseFloat(B[0]),fe=parseFloat(B[1]),ne=ne.translate(X,fe);break;case"rotate":Z=parseFloat(B[0]),X=parseFloat(B[1])||0,fe=parseFloat(B[2])||0,X!==0||fe!==0?ne=ne.translate(X,fe).rotate(Z).translate(-X,-fe):ne=ne.rotate(Z);break;case"skewx":Z=parseFloat(B[0]),ne=ne.skewX(Z);break;case"skewy":Z=parseFloat(B[0]),ne=ne.skewY(Z);break;case"matrix":ne.a=parseFloat(B[0]),ne.b=parseFloat(B[1]),ne.c=parseFloat(B[2]),ne.d=parseFloat(B[3]),ne.e=parseFloat(B[4]),ne.f=parseFloat(B[5]);break;default:continue}A=A.multiply(ne)}}return A},c.matrixToTransformString=function(d){return d||(d=!0),"matrix("+(d.a!==void 0?d.a:1)+","+(d.b!==void 0?d.b:0)+","+(d.c!==void 0?d.c:0)+","+(d.d!==void 0?d.d:1)+","+(d.e!==void 0?d.e:0)+","+(d.f!==void 0?d.f:0)+")"},c.parseTransformString=function(d){var A,x,O;if(d){var D=c.transformSeparatorRegex;if(d.trim().indexOf("matrix")>=0){var F=c.transformStringToMatrix(d),V=c.decomposeMatrix(F);A=[V.translateX,V.translateY],O=[V.scaleX,V.scaleY],x=[V.rotation];var Q=[];(A[0]!==0||A[1]!==0)&&Q.push("translate("+A+")"),(O[0]!==1||O[1]!==1)&&Q.push("scale("+O+")"),x[0]!==0&&Q.push("rotate("+x+")"),d=Q.join(" ")}else{const X=d.match(c.transformTranslateRegex);X&&(A=X[1].split(D));const fe=d.match(c.transformRotateRegex);fe&&(x=fe[1].split(D));const Z=d.match(c.transformScaleRegex);Z&&(O=Z[1].split(D))}}var H=O&&O[0]?parseFloat(O[0]):1;return{value:d,translate:{tx:A&&A[0]?parseInt(A[0],10):0,ty:A&&A[1]?parseInt(A[1],10):0},rotate:{angle:x&&x[0]?parseInt(x[0],10):0,cx:x&&x[1]?parseInt(x[1],10):void 0,cy:x&&x[2]?parseInt(x[2],10):void 0},scale:{sx:H,sy:O&&O[1]?parseFloat(O[1]):H}}},c.deltaTransformPoint=function(d,A){var x=A.x*d.a+A.y*d.c+0,O=A.x*d.b+A.y*d.d+0;return{x,y:O}},c.decomposeMatrix=function(d){var A=c.deltaTransformPoint(d,{x:0,y:1}),x=c.deltaTransformPoint(d,{x:1,y:0}),O=180/i*o(A.y,A.x)-90,D=180/i*o(x.y,x.x);return{translateX:d.e,translateY:d.f,scaleX:s(d.a*d.a+d.b*d.b),scaleY:s(d.c*d.c+d.d*d.d),skewX:O,skewY:D,rotation:O}},c.matrixToScale=function(d){var A,x,O,D;return d?(A=c.isUndefined(d.a)?1:d.a,D=c.isUndefined(d.d)?1:d.d,x=d.b,O=d.c):A=D=1,{sx:x?s(A*A+x*x):A,sy:O?s(O*O+D*D):D}},c.matrixToRotate=function(d){var A={x:0,y:1};return d&&(A=c.deltaTransformPoint(d,A)),{angle:fa(pE(o(A.y,A.x))-90)}},c.matrixToTranslate=function(d){return{tx:d&&d.e||0,ty:d&&d.f||0}},c.isV=function(d){return d instanceof c},c.isVElement=c.isV,c.isSVGGraphicsElement=function(d){return d?(d=c.toNode(d),d instanceof SVGElement&&typeof d.getScreenCTM=="function"):!1};var T=c("svg").node;return c.createSVGMatrix=function(d){var A=T.createSVGMatrix();for(var x in d)A[x]=d[x];return A},c.createSVGTransform=function(d){return c.isUndefined(d)?T.createSVGTransform():(d instanceof SVGMatrix||(d=c.createSVGMatrix(d)),T.createSVGTransformFromMatrix(d))},c.createSVGPoint=function(d,A){var x=T.createSVGPoint();return x.x=d,x.y=A,x},c.transformRect=function(d,A){var x=T.createSVGPoint();x.x=d.x,x.y=d.y;var O=x.matrixTransform(A);x.x=d.x+d.width,x.y=d.y;var D=x.matrixTransform(A);x.x=d.x+d.width,x.y=d.y+d.height;var F=x.matrixTransform(A);x.x=d.x,x.y=d.y+d.height;var V=x.matrixTransform(A),Q=a(O.x,D.x,F.x,V.x),H=l(O.x,D.x,F.x,V.x),X=a(O.y,D.y,F.y,V.y),fe=l(O.y,D.y,F.y,V.y);return new Ot(Q,X,H-Q,fe-X)},c.transformPoint=function(d,A){return new ze(c.createSVGPoint(d.x,d.y).matrixTransform(A))},c.transformLine=function(d,A){return new Nt(c.transformPoint(d.start,A),c.transformPoint(d.end,A))},c.transformPolyline=function(d,A){var x=d instanceof un?d.points:d;c.isArray(x)||(x=[]);for(var O=[],D=0,F=x.length;D<F;D++)O[D]=c.transformPoint(x[D],A);return new un(O)},c.styleToObject=function(d){for(var A={},x=d.split(";"),O=0;O<x.length;O++){var D=x[O],F=D.split("=");A[F[0].trim()]=F[1].trim()}return A},c.createSlicePathData=function(d,A,x,O){var D=2*i-1e-6,F=d,V=A,Q=x,H=O,X=(H<Q&&(X=Q,Q=H,H=X),H-Q),fe=X<i?"0":"1",Z=u(Q),ne=f(Q),C=u(H),B=f(H);return X>=D?F?"M0,"+V+"A"+V+","+V+" 0 1,1 0,"+-V+"A"+V+","+V+" 0 1,1 0,"+V+"M0,"+F+"A"+F+","+F+" 0 1,0 0,"+-F+"A"+F+","+F+" 0 1,0 0,"+F+"Z":"M0,"+V+"A"+V+","+V+" 0 1,1 0,"+-V+"A"+V+","+V+" 0 1,1 0,"+V+"Z":F?"M"+V*Z+","+V*ne+"A"+V+","+V+" 0 "+fe+",1 "+V*C+","+V*B+"L"+F*C+","+F*B+"A"+F+","+F+" 0 "+fe+",0 "+F*Z+","+F*ne+"Z":"M"+V*Z+","+V*ne+"A"+V+","+V+" 0 "+fe+",1 "+V*C+","+V*B+"L0,0Z"},c.mergeAttrs=function(d,A){for(var x in A)x==="class"?d[x]=d[x]?d[x]+" "+A[x]:A[x]:x==="style"?c.isObject(d[x])&&c.isObject(A[x])?d[x]=c.mergeAttrs(d[x],A[x]):c.isObject(d[x])?d[x]=c.mergeAttrs(d[x],c.styleToObject(A[x])):c.isObject(A[x])?d[x]=c.mergeAttrs(c.styleToObject(d[x]),A[x]):d[x]=c.mergeAttrs(c.styleToObject(d[x]),c.styleToObject(A[x])):d[x]=A[x];return d},c.annotateString=function(d,A,x){A=A||[],x=x||{};for(var O=x.offset||0,D=[],F,V=[],Q,H,X=0;X<d.length;X++){Q=V[X]=d[X];for(var fe=0;fe<A.length;fe++){var Z=A[fe],ne=Z.start+O,C=Z.end+O;X>=ne&&X<C&&(c.isObject(Q)?Q.attrs=c.mergeAttrs(c.mergeAttrs({},Q.attrs),Z.attrs):Q=V[X]={t:d[X],attrs:Z.attrs},x.includeAnnotationIndices&&(Q.annotations||(Q.annotations=[])).push(fe))}H=V[X-1],H?c.isObject(Q)&&c.isObject(H)?JSON.stringify(Q.attrs)===JSON.stringify(H.attrs)?F.t+=Q.t:(D.push(F),F=Q):c.isObject(Q)||c.isObject(H)?(D.push(F),F=Q):F=(F||"")+Q:F=Q}return F&&D.push(F),D},c.findAnnotationsAtIndex=function(d,A){var x=[];return d&&d.forEach(function(O){O.start<A&&A<=O.end&&x.push(O)}),x},c.findAnnotationsBetweenIndexes=function(d,A,x){var O=[];return d&&d.forEach(function(D){(A>=D.start&&A<D.end||x>D.start&&x<=D.end||D.start>=A&&D.end<x)&&O.push(D)}),O},c.shiftAnnotations=function(d,A,x){return d&&d.forEach(function(O){O.start<A&&O.end>=A?O.end+=x:O.start>=A&&(O.start+=x,O.end+=x)}),d},c.convertLineToPathData=function(d){d=c(d);var A=["M",d.attr("x1"),d.attr("y1"),"L",d.attr("x2"),d.attr("y2")].join(" ");return A},c.convertPolygonToPathData=function(d){var A=c.getPointsFromSvgNode(d);return A.length===0?null:c.svgPointsToPath(A)+" Z"},c.convertPolylineToPathData=function(d){var A=c.getPointsFromSvgNode(d);return A.length===0?null:c.svgPointsToPath(A)},c.svgPointsToPath=function(d){for(var A=0,x=d.length;A<x;A++)d[A]=d[A].x+" "+d[A].y;return"M "+d.join(" L")},c.getPointsFromSvgNode=function(d){d=c.toNode(d);var A=[],x=d.points;if(x)for(var O=0,D=x.numberOfItems;O<D;O++)A.push(x.getItem(O));return A},c.KAPPA=.551784,c.convertCircleToPathData=function(d){d=c(d);var A=parseFloat(d.attr("cx"))||0,x=parseFloat(d.attr("cy"))||0,O=parseFloat(d.attr("r")),D=O*c.KAPPA,F=["M",A,x-O,"C",A+D,x-O,A+O,x-D,A+O,x,"C",A+O,x+D,A+D,x+O,A,x+O,"C",A-D,x+O,A-O,x+D,A-O,x,"C",A-O,x-D,A-D,x-O,A,x-O,"Z"].join(" ");return F},c.convertEllipseToPathData=function(d){d=c(d);var A=parseFloat(d.attr("cx"))||0,x=parseFloat(d.attr("cy"))||0,O=parseFloat(d.attr("rx")),D=parseFloat(d.attr("ry"))||O,F=O*c.KAPPA,V=D*c.KAPPA,Q=["M",A,x-D,"C",A+F,x-D,A+O,x-V,A+O,x,"C",A+O,x+V,A+F,x+D,A,x+D,"C",A-F,x+D,A-O,x+V,A-O,x,"C",A-O,x-V,A-F,x-D,A,x-D,"Z"].join(" ");return Q},c.convertRectToPathData=function(d){return d=c(d),c.rectToPath({x:parseFloat(d.attr("x"))||0,y:parseFloat(d.attr("y"))||0,width:parseFloat(d.attr("width"))||0,height:parseFloat(d.attr("height"))||0,rx:parseFloat(d.attr("rx"))||0,ry:parseFloat(d.attr("ry"))||0})},c.rectToPath=function(d){var A,x=d.x,O=d.y,D=d.width,F=d.height,V=a(d.rx||d["top-rx"]||0,D/2),Q=a(d.rx||d["bottom-rx"]||0,D/2),H=a(d.ry||d["top-ry"]||0,F/2),X=a(d.ry||d["bottom-ry"]||0,F/2);return V||Q||H||X?A=["M",x,O+H,"v",F-H-X,"a",Q,X,0,0,0,Q,X,"h",D-2*Q,"a",Q,X,0,0,0,Q,-X,"v",-(F-X-H),"a",V,H,0,0,0,-V,-H,"h",-(D-2*V),"a",V,H,0,0,0,-V,H,"Z"]:A=["M",x,O,"H",x+D,"V",O+F,"H",x,"V",O,"Z"],A.join(" ")},c.normalizePathData=function(){var d=`	
\v\f\r   ᠎             　\u2028\u2029`,A=new RegExp("([a-z])["+d+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+d+"]*,?["+d+"]*)+)","ig"),x=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+d+"]*,?["+d+"]*","ig"),O=Math,D=O.PI,F=O.sin,V=O.cos,Q=O.tan,H=O.asin,X=O.sqrt,fe=O.abs;function Z(I,q,ie,J,Y,se){var be=.3333333333333333,Pe=2/3;return[be*I+Pe*ie,be*q+Pe*J,be*Y+Pe*ie,be*se+Pe*J,Y,se]}function ne(I,q,ie){var J=I*V(ie)-q*F(ie),Y=I*F(ie)+q*V(ie);return{x:J,y:Y}}function C(I,q,ie,J,Y,se,be,Pe,R,j){var M=D*120/180,G=D/180*(+Y||0),oe=[],ce;if(j)W=j[0],N=j[1],We=j[2],Ue=j[3];else{ce=ne(I,q,-G),I=ce.x,q=ce.y,ce=ne(Pe,R,-G),Pe=ce.x,R=ce.y;var de=(I-Pe)/2,ve=(q-R)/2,Ie=de*de/(ie*ie)+ve*ve/(J*J);Ie>1&&(Ie=X(Ie),ie=Ie*ie,J=Ie*J);var Be=ie*ie,De=J*J,nt=(se==be?-1:1)*X(fe((Be*De-Be*ve*ve-De*de*de)/(Be*ve*ve+De*de*de))),We=nt*ie*ve/J+(I+Pe)/2,Ue=nt*-J*de/ie+(q+R)/2,W=H(((q-Ue)/J).toFixed(9)),N=H(((R-Ue)/J).toFixed(9));W=I<We?D-W:W,N=Pe<We?D-N:N,W<0&&(W=D*2+W),N<0&&(N=D*2+N),be&&W>N&&(W=W-D*2),!be&&N>W&&(N=N-D*2)}var L=N-W;if(fe(L)>M){var re=N,ye=Pe,Ee=R;N=W+M*(be&&N>W?1:-1),Pe=We+ie*V(N),R=Ue+J*F(N),oe=C(Pe,R,ie,J,Y,0,be,ye,Ee,[N,re,We,Ue])}L=N-W;var je=V(W),Re=F(W),Le=V(N),dt=F(N),yt=Q(L/4),lt=4/3*(ie*yt),Ct=4/3*(J*yt),Er=[I,q],Pr=[I+lt*Re,q-Ct*je],ir=[Pe+lt*dt,R-Ct*Le],mr=[Pe,R];if(Pr[0]=2*Er[0]-Pr[0],Pr[1]=2*Er[1]-Pr[1],j)return[Pr,ir,mr].concat(oe);oe=[Pr,ir,mr].concat(oe).join().split(",");for(var cn=[],Vt=oe.length,zt=0;zt<Vt;zt++)cn[zt]=zt%2?ne(oe[zt-1],oe[zt],G).y:ne(oe[zt],oe[zt+1],G).x;return cn}function B(I){if(!I)return null;var q={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},ie=[];return String(I).replace(A,function(J,Y,se){var be=[],Pe=Y.toLowerCase();for(se.replace(x,function(R,j){j&&be.push(+j)}),Pe==="m"&&be.length>2&&(ie.push([Y].concat(be.splice(0,2))),Pe="l",Y=Y==="m"?"l":"L");be.length>=q[Pe]&&(ie.push([Y].concat(be.splice(0,q[Pe]))),!!q[Pe]););}),ie}function K(I){if((!Array.isArray(I)||!Array.isArray(I&&I[0]))&&(I=B(I)),!I||!I.length)return[["M",0,0]];for(var q=[],ie=0,J=0,Y=0,se=0,be=0,Pe,R=I.length,j=be;j<R;j++){var M=[];q.push(M);var G=I[j];if(Pe=G[0],Pe!=Pe.toUpperCase()){M[0]=Pe.toUpperCase();var oe,ce;switch(M[0]){case"A":M[1]=G[1],M[2]=G[2],M[3]=G[3],M[4]=G[4],M[5]=G[5],M[6]=+G[6]+ie,M[7]=+G[7]+J;break;case"V":M[1]=+G[1]+J;break;case"H":M[1]=+G[1]+ie;break;case"M":for(Y=+G[1]+ie,se=+G[2]+J,oe=G.length,ce=1;ce<oe;ce++)M[ce]=+G[ce]+(ce%2?ie:J);break;default:for(oe=G.length,ce=1;ce<oe;ce++)M[ce]=+G[ce]+(ce%2?ie:J);break}}else for(var de=G.length,ve=0;ve<de;ve++)M[ve]=G[ve];switch(M[0]){case"Z":ie=+Y,J=+se;break;case"H":ie=M[1];break;case"V":J=M[1];break;case"M":Y=M[M.length-2],se=M[M.length-1],ie=M[M.length-2],J=M[M.length-1];break;default:ie=M[M.length-2],J=M[M.length-1];break}}return q}function P(I){var q=K(I),ie={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function J(oe,ce,de){var ve,Ie;if(!oe)return["C",ce.x,ce.y,ce.x,ce.y,ce.x,ce.y];switch(oe[0]in{T:1,Q:1}||(ce.qx=null,ce.qy=null),oe[0]){case"M":ce.X=oe[1],ce.Y=oe[2];break;case"A":parseFloat(oe[1])===0||parseFloat(oe[2])===0?oe=["L",oe[6],oe[7]]:oe=["C"].concat(C.apply(0,[ce.x,ce.y].concat(oe.slice(1))));break;case"S":de==="C"||de==="S"?(ve=ce.x*2-ce.bx,Ie=ce.y*2-ce.by):(ve=ce.x,Ie=ce.y),oe=["C",ve,Ie].concat(oe.slice(1));break;case"T":de==="Q"||de==="T"?(ce.qx=ce.x*2-ce.qx,ce.qy=ce.y*2-ce.qy):(ce.qx=ce.x,ce.qy=ce.y),oe=["C"].concat(Z(ce.x,ce.y,ce.qx,ce.qy,oe[1],oe[2]));break;case"Q":ce.qx=oe[1],ce.qy=oe[2],oe=["C"].concat(Z(ce.x,ce.y,oe[1],oe[2],oe[3],oe[4]));break;case"H":oe=["L"].concat(oe[1],ce.y);break;case"V":oe=["L"].concat(ce.x,oe[1]);break}return oe}function Y(oe,ce){if(oe[ce].length>7){oe[ce].shift();for(var de=oe[ce];de.length;)se[ce]="A",oe.splice(ce++,0,["C"].concat(de.splice(0,6)));oe.splice(ce,1),R=q.length}}for(var se=[],be="",Pe="",R=q.length,j=0;j<R;j++){q[j]&&(be=q[j][0]),be!=="C"&&(se[j]=be,j>0&&(Pe=se[j-1])),q[j]=J(q[j],ie,Pe),se[j]!=="A"&&be==="C"&&(se[j]="C"),Y(q,j);var M=q[j],G=M.length;ie.x=M[G-2],ie.y=M[G-1],ie.bx=parseFloat(M[G-4])||ie.x,ie.by=parseFloat(M[G-3])||ie.y}return(!q[0][0]||q[0][0]!=="M")&&q.unshift(["M",0,0]),q}return function(I){return P(I).join(",").split(",").join(" ")}}(),c.namespace=t,c.g=loe,c}(),Hu={classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},Ym="[object Arguments]",_O="[object Array]",PE="[object Boolean]",mI="[object Date]",S9="[object Error]",Loe="[object Function]",Ig="[object Map]",RE="[object Number]",Foe="[object Null]",Wd="[object Object]",gI="[object RegExp]",kg="[object Set]",NE="[object String]",IE="[object Symbol]",Boe="[object Undefined]",Uoe="[object WeakMap]",vI="[object ArrayBuffer]",yI="[object DataView]",$9="[object Float32Array]",T9="[object Float64Array]",A9="[object Int8Array]",x9="[object Int16Array]",O9="[object Int32Array]",P9="[object Uint8Array]",R9="[object Uint8ClampedArray]",N9="[object Uint16Array]",I9="[object Uint32Array]",zoe={[Ym]:!0,[_O]:!0,[vI]:!0,[yI]:!0,[PE]:!0,[mI]:!0,[$9]:!0,[T9]:!0,[A9]:!0,[x9]:!0,[O9]:!0,[Ig]:!0,[RE]:!0,[Wd]:!0,[gI]:!0,[kg]:!0,[NE]:!0,[IE]:!0,[P9]:!0,[R9]:!0,[N9]:!0,[I9]:!0,[S9]:!1,[Loe]:!1,[Uoe]:!1},wI="\\ud800-\\udfff",qoe="\\u0300-\\u036f",Voe="\\ufe20-\\ufe2f",Hoe="\\u20d0-\\u20ff",Woe="\\u1ab0-\\u1aff",Goe="\\u1dc0-\\u1dff",Koe=qoe+Voe+Hoe+Woe+Goe,k9="\\u2700-\\u27bf",C9="a-z\\xdf-\\xf6\\xf8-\\xff",Joe="\\xac\\xb1\\xd7\\xf7",Yoe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Xoe="\\u2000-\\u206f",Qoe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",j9="A-Z\\xc0-\\xd6\\xd8-\\xde",Zoe="\\ufe0e\\ufe0f",D9=Joe+Yoe+Xoe+Qoe,M9="['’]",hM=`[${D9}]`,bI=`[${Koe}]`,L9="\\d",ese=`[${k9}]`,F9=`[${C9}]`,B9=`[^${wI}${D9+L9+k9+C9+j9}]`,EO="\\ud83c[\\udffb-\\udfff]",tse=`(?:${bI}|${EO})`,U9=`[^${wI}]`,_I="(?:\\ud83c[\\udde6-\\uddff]){2}",EI="[\\ud800-\\udbff][\\udc00-\\udfff]",Rd=`[${j9}]`,rse="\\u200d",pM=`(?:${F9}|${B9})`,nse=`(?:${Rd}|${B9})`,mM=`(?:${M9}(?:d|ll|m|re|s|t|ve))?`,gM=`(?:${M9}(?:D|LL|M|RE|S|T|VE))?`,z9=`${tse}?`,q9=`[${Zoe}]?`,ise=`(?:${rse}(?:${[U9,_I,EI].join("|")})${q9+z9})*`,ose="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sse="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",V9=q9+z9+ise,ase=`(?:${[ese,_I,EI].join("|")})${V9}`,lse=RegExp([`${Rd}?${F9}+${mM}(?=${[hM,Rd,"$"].join("|")})`,`${nse}+${gM}(?=${[hM,Rd+pM,"$"].join("|")})`,`${Rd}?${pM}+${mM}`,`${Rd}+${gM}`,sse,ose,`${L9}+`,ase].join("|"),"g"),SI=200,SO="__hash_undefined__",use=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,cse=`[${wI}]`,fse=`${U9}${bI}?`,dse=`(?:${[fse,bI,_I,EI,cse].join("|")})`,H9=RegExp(`${EO}(?=${EO})|${dse+V9}`,"g"),hse=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pse=/^\w*$/,mse=46,gse=/\\(\\)?/g,vse=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),yse=/^(?:0|[1-9]\d*)$/,wse=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),bse=4294967294,_se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,W9=e=>H9.test(e),Ese=e=>e.match(H9)||[],Sse=e=>e.split(""),G9=e=>W9(e)?Ese(e):Sse(e),$se=e=>e==null?[]:Cg(e).map(t=>e[t]),Cg=e=>Ds(e)?K9(e):Object.keys(Object(e)),Tse=e=>{if(!kE(e))return Object.keys(e);var t=[];for(var r in Object(e))hasOwnProperty.call(e,r)&&r!="constructor"&&t.push(r);return t},K9=(e,t)=>{const r=Array.isArray(e),n=!r&&ha(e)&&ks(e)===Ym,i=!r&&!n&&Mg(e),o=r||n||i,s=e.length,a=new Array(o?s:0);let l=o?-1:s;for(;++l<s;)a[l]=`${l}`;for(const u in e)(t||hasOwnProperty.call(e,u))&&!(o&&(u==="length"||nH(u,s)))&&a.push(u);return a},zv=(e,t)=>{let{length:r}=e;for(;r--;)if(Hh(e[r][0],t))return r;return-1},Hh=(e,t)=>e===t||e!==e&&t!==t,ha=e=>e!=null&&typeof e=="object",r_=(e,t,r)=>{if(!Wr(r))return!1;const n=typeof t;return(n=="number"?Ds(r)&&t>-1&&t<r.length:n=="string"&&t in r)?Hh(r[t],e):!1},Ase=e=>ha(e)&&ks(e)==kg,xse=e=>ha(e)&&ks(e)==Ig,kE=e=>{const t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Object.prototype;return e===r},jg=(e,t,r)=>{const n=e[t];(!(hasOwnProperty.call(e,t)&&Hh(n,r))||r===void 0&&!(t in e))&&(e[t]=r)},Dg=(e,t,r)=>{let n=-1;const i=t.length;for(;++n<i;){const o=t[n];jg(r,o,e[o])}return r},Ds=e=>e!=null&&typeof e!="function"&&typeof e.length=="number"&&e.length>-1&&e.length%1===0,Rh=e=>typeof e=="symbol"||ha(e)&&ks(e)===IE,Ose=e=>{const t=e.length;let r=new e.constructor(t);return t&&typeof e[0]=="string"&&hasOwnProperty.call(e,"index")&&(r.index=e.index,r.input=e.input),r},$I=(e,t)=>{let r=-1;const n=e.length;for(t||(t=new Array(n));++r<n;)t[r]=e[r];return t},ks=e=>e==null?e===void 0?Boe:Foe:Object.prototype.toString.call(e),TI=e=>{const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},J9=(e,t)=>{const r=t?TI(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},Pse=e=>{const t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t},Y9=e=>typeof e.constructor=="function"&&!kE(e)?Object.create(Object.getPrototypeOf(e)):{},AI=e=>e==null?[]:(e=Object(e),Object.getOwnPropertySymbols(e).filter(r=>propertyIsEnumerable.call(e,r))),Rse=(e,t)=>Dg(e,AI(e),t);function Nse(e,t){const r=t?TI(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}const Ise=(e,t,r)=>{const n=e.constructor;switch(t){case vI:return TI(e);case PE:case mI:return new n(+e);case yI:return Nse(e,r);case $9:case T9:case A9:case x9:case O9:case P9:case R9:case N9:case I9:return J9(e,r);case Ig:return new n(e);case RE:case NE:return new n(e);case gI:return Pse(e);case kg:return new n;case IE:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}},Mg=e=>ha(e)&&use.test(ks(e)),$O=e=>{const t=Object.keys(e);return!Array.isArray(e)&&e!=null&&t.push(...AI(Object(e))),t},X9=e=>{const t=[];for(;e;)t.push(...AI(e)),e=Object.getPrototypeOf(Object(e));return t},Q9=e=>{const t=[];for(const r in e)t.push(r);return Array.isArray(e)||t.push(...X9(e)),t},qv=({__data__:e},t)=>{const r=e;return qse(t)?r[typeof t=="string"?"string":"hash"]:r.map},kse=(e,t,r,n)=>{const i=$O(e),o=i.length,a=$O(t).length;if(o!=a)return!1;let l,u=o;for(;u--;)if(l=i[u],!hasOwnProperty.call(t,l))return!1;const f=n.get(e),c=n.get(t);if(f&&c)return f==t&&c==e;let p=!0;n.set(e,t),n.set(t,e);let m;for(;++u<o;){l=i[u];const g=e[l],_=t[l];if(!(g===_||r(g,_,n))){p=!1;break}m||(m=l=="constructor")}if(p&&!m){const g=e.constructor,_=t.constructor;g!=_&&"constructor"in e&&"constructor"in t&&!(typeof g=="function"&&g instanceof g&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return n.delete(e),n.delete(t),p},CE=(e,t,r)=>e===t?!0:e==null||t==null||!ha(e)&&!ha(t)?e!==e&&t!==t:Cse(e,t,CE,r),Cse=(e,t,r,n)=>{let i=Array.isArray(e);const o=Array.isArray(t);let s=i?_O:ks(e),a=o?_O:ks(t);s=s==Ym?Wd:s,a=a==Ym?Wd:a;let l=s==Wd;const u=a==Wd,f=s==a;if(f&&!l)return n||(n=new uh),i||Mg(e)?Z9(e,t,!1,r,n):Mse(e,t,s,r,n);const c=l&&hasOwnProperty.call(e,"__wrapped__"),p=u&&hasOwnProperty.call(t,"__wrapped__");if(c||p){const m=c?e.value():e,g=p?t.value():t;return n||(n=new uh),r(m,g,n)}return f?(n||(n=new uh),kse(e,t,r,n)):!1},Z9=(e,t,r,n,i)=>{const o=e.length,s=t.length;if(o!=s)return!1;const a=i.get(e),l=i.get(t);if(a&&l)return a==t&&l==e;let u=-1,f=!0;const c=r?new Qm:void 0;for(i.set(e,t),i.set(t,e);++u<o;){const p=e[u],m=t[u];if(c){if(!jse(t,(g,_)=>{if(!Dse(c,_)&&(p===g||n(p,g,i)))return c.push(_)})){f=!1;break}}else if(!(p===m||n(p,m,i))){f=!1;break}}return i.delete(e),i.delete(t),f},jse=(e,t)=>{let r=-1;const n=e==null?0:e.length;for(;++r<n;)if(t(e[r],r,e))return!0;return!1},Dse=(e,t)=>e.has(t),vM=(e,t,r,n)=>!(e.byteLength!=t.byteLength||!r(new Uint8Array(e),new Uint8Array(t),n)),Mse=(e,t,r,n,i)=>{switch(r){case yI:return e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset?!1:(e=e.buffer,t=t.buffer,vM(e,t,n,i));case vI:return vM(e,t,n,i);case PE:case mI:case RE:return Hh(+e,+t);case S9:return e.name==t.name&&e.message==t.message;case gI:case NE:return e==`${t}`;case Ig:let o=eH;case kg:if(o||(o=jE),e.size!=t.size)return!1;const s=i.get(e);if(s)return s==t;i.set(e,t);const a=Z9(o(e),o(t),!0,n,i);return i.delete(e),a;case IE:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},eH=e=>{let t=-1,r=Array(e.size);return e.forEach((n,i)=>{r[++t]=[i,n]}),r},jE=e=>{let t=-1;const r=new Array(e.size);return e.forEach(n=>{r[++t]=n}),r},xI=(e,t)=>{if(Array.isArray(e))return!1;const r=typeof e;return r==="number"||r==="boolean"||e==null||Rh(e)?!0:pse.test(e)||!hse.test(e)||t!=null&&e in Object(t)},Lse=e=>{const t=[];return e.charCodeAt(0)===mse&&t.push(""),e.replace(vse,(r,n,i,o)=>{let s=r;i?s=o.replace(gse,"$1"):n&&(s=n.trim()),t.push(s)}),t},Wh=(e,t)=>Array.isArray(e)?e:xI(e,t)?[e]:Lse(`${e}`),DE=(e,t)=>{t=Wh(t,e);let r=0;const n=t.length;for(;e!=null&&r<n;)e=e[Hf(t[r])],r++;return r&&r==n?e:void 0};function Fse(e,t){if(e!==t){const r=e!==void 0,n=e===null,i=e===e,o=Rh(e),s=t!==void 0,a=t===null,l=t===t,u=Rh(t);if(!a&&!u&&!o&&e>t||o&&s&&l&&!a&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!o&&!u&&e<t||u&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!l)return-1}return 0}function Bse(e,t,r){let n=-1;const i=e.criteria,o=t.criteria,s=i.length,a=r.length;for(;++n<s;){const l=n<a?r[n]:null,f=(l&&typeof l=="function"?l:Fse)(i[n],o[n]);if(f)return l&&typeof l!="function"?f*(l=="desc"?-1:1):f}return e.index-t.index}const tH=(e,t)=>{let r=(s,a)=>!!(s==null?0:s.length)&&s.indexOf(a)>-1,n=!0;const i=[],o=t.length;if(!e.length)return i;t.length>=SI&&(r=(s,a)=>s.has(a),n=!1,t=new Qm(t));e:for(let s in e){let a=e[s];const l=a;if(a=a!==0?a:0,n&&l===l){let u=o;for(;u--;)if(t[u]===l)continue e;i.push(a)}else r(t,l)||i.push(a)}return i},Hf=e=>{if(typeof e=="string"||Rh(e))return e;const t=`${e}`;return t=="0"&&1/e==-1/0?"-0":t},lh=(e,t=!1,r=!1,n=!0,i,o,s,a)=>{let l;if(i&&(l=s?i(e,o,s,a):i(e)),l!==void 0)return l;if(!Wr(e))return e;const u=Array.isArray(e),f=ks(e);if(u){if(l=Ose(e),!t)return $I(e,l)}else{const g=typeof e=="function";if(f===Wd||f===Ym||g&&!s){if(l=r||g?{}:Y9(e),!t)return r?Use(e,Dg(e,Object.keys(e),l)):Rse(e,Object.assign(l,e))}else{if(g||!zoe[f])return s?e:{};l=Ise(e,f,t)}}a||(a=new uh);const c=a.get(e);if(c)return c;if(a.set(e,l),xse(e))return e.forEach((g,_)=>{l.set(_,lh(g,t,r,n,i,_,e,a))}),l;if(Ase(e))return e.forEach(g=>{l.add(lh(g,t,r,n,i,g,e,a))}),l;if(Mg(e))return l;const m=u?void 0:(n?r?Q9:$O:r?iH:Cg)(e);return(m||e).forEach((g,_)=>{m&&(_=g,g=e[_]),jg(l,_,lh(g,t,r,n,i,_,e,a))}),l},Use=(e,t)=>Dg(e,X9(e),t),rH=(e,t)=>t.length<2?e:DE(e,t.slice(0,-1)),nH=(e,t)=>{const r=typeof e;return t=t??Number.MAX_SAFE_INTEGER,!!t&&(r==="number"||r!=="symbol"&&yse.test(e))&&e>-1&&e%1==0&&e<t},zse=(e,t)=>{t=Wh(t,e),e=rH(e,t);const r=t[t.length-1];return e==null||delete e[Hf(r)]},qse=e=>{const t=typeof e;return t==="string"||t==="number"||t==="symbol"||t==="boolean"?e!=="__proto__":e===null},iH=e=>{const t=[];for(const r in e)t.push(r);return t},Vse=e=>{e=Object(e);const t={};for(const r in e)t[r]=e[r];return t},yM=(e,t)=>{if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]};function oH(e,t=!1){return(r,...n)=>{let i=-1,o=n.length,s=o>1?n[o-1]:void 0;const a=o>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):t?(l,u)=>{if(Array.isArray(l)&&!Array.isArray(u))return u}:void 0,a&&r_(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),r=Object(r);++i<o;){const l=n[i];l&&e(r,l,i,s)}return r}}const OI=(e,t,r,n,i)=>{e!==t&&ws(t,(o,s)=>{if(Wr(o))i||(i=new uh),Hse(e,t,s,r,OI,n,i);else{let a=n?n(e[s],o,`${s}`,e,t,i):void 0;a===void 0&&(a=o),TO(e,s,a)}})},Hse=(e,t,r,n,i,o,s)=>{const a=yM(e,r),l=yM(t,r),u=s.get(l);if(u){TO(e,r,u);return}let f=o?o(a,l,`${r}`,e,t,s):void 0,c=f===void 0;if(c){const p=Array.isArray(l),m=!p&&Mg(l);f=l,p||m?Array.isArray(a)?f=a:ha(a)&&Ds(a)?f=$I(a):m?(c=!1,f=J9(l,!0)):f=[]:zn(l)||Xm(l)?(f=a,Xm(a)?f=Vse(a):(typeof a=="function"||!Wr(a))&&(f=Y9(l))):c=!1}c&&(s.set(l,f),i(f,l,n,o,s),s.delete(l)),TO(e,r,f)},TO=(e,t,r)=>{(r!==void 0&&!Hh(e[t],r)||r===void 0&&!(t in e))&&jg(e,t,r)};function Wse(e,t,r){const n=Object(e),i=r(e);let{length:o}=i,s=-1;for(;o--;){const a=i[++s];if(t(n[a],a,n)===!1)break}return e}const Gse=(e,t)=>e&&Wse(e,t,Cg),PI=(e,t)=>{if(e==null)return e;if(!Ds(e))return Gse(e,t);const r=e.length,n=Object(e);let i=-1;for(;++i<r&&t(n[i],i,n)!==!1;);return e};function Kse(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}const Jse=Set&&1/jE(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function sH(e,t,r,n,i,o){return Wr(e)&&Wr(t)&&(o.set(t,e),OI(e,t,void 0,sH,o),o.delete(t)),e}function Yse(e,t,r){t.length?t=t.map(s=>Array.isArray(s)?a=>DE(a,s.length===1?s[0]:s):s):t=[s=>s];let n=-1,i=-1;const o=Ds(e)?new Array(e.length):[];return PI(e,s=>{const a=t.map(l=>l(s));o[++i]={criteria:a,index:++n,value:s}}),Xse(o,(s,a)=>Bse(s,a,r))}function Xse(e,t){let{length:r}=e;for(e.sort(t);r--;)e[r]=e[r].value;return e}function aH(e){return e===e&&!Wr(e)}function lH(e,t){return r=>r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}function Qse(e,t){return e!=null&&hae(e,t,dae)}function Zse(e,t){return xI(e)&&aH(t)?lH(Hf(e),t):r=>{const n=DE(r,e);return n===void 0&&n===t?Qse(r,e):CE(t,n)}}function eae(e){const t=tae(e);return t.length===1&&t[0][2]?lH(t[0][0],t[0][1]):r=>r===e||rae(r,e,t)}function tae(e){const t=Cg(e);let r=t.length;for(;r--;){const n=t[r],i=e[n];t[r]=[n,i,aH(i)]}return t}function rae(e,t,r,n){let i=r.length;const o=i;if(e==null)return!o;let s;for(e=Object(e);i--;)if(s=r[i],s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1;for(;++i<o;){s=r[i];const a=s[0],l=e[a],u=s[1];if(s[2]){if(l===void 0&&!(a in e))return!1}else{const f=new uh;if(!CE(u,l,f))return!1}}return!0}function nae(e){return xI(e)?iae(Hf(e)):oae(e)}function iae(e){return t=>t==null?void 0:t[e]}function oae(e){return t=>DE(t,e)}function sae(e){return typeof e=="function"?e:e==null?t=>t:typeof e=="object"?Array.isArray(e)?Zse(e[0],e[1]):eae(e):nae(e)}function ME(){const e=sae;return arguments.length?e(arguments[0]):e}const aae=(e,t,r,n)=>{let i=-1;const o=e==null?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r},lae=(e,t,r,n,i)=>(i(e,(o,s,a)=>{r=n?(n=!1,o):t(r,o,s,a)}),r);function uae(e,t,r){const n=Array.isArray(e)?aae:lae,i=arguments.length<3;return n(e,t,r,i,PI)}const cae=e=>Array.isArray(e)||Xm(e)||!!(e&&e[Symbol.isConcatSpreadable]);function uH(e,t,r,n,i){let o=-1;const s=e.length;for(r||(r=cae),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?uH(a,t-1,r,n,i):i.push(...a):i[i.length]=a}return i}const Xm=e=>ha(e)&&ks(e)=="[object Arguments]",fae=e=>typeof e=="number"&&e>-1&&e%1==0&&e<=Number.MAX_SAFE_INTEGER,dae=(e,t)=>e!=null&&t in Object(e),hae=(e,t,r)=>{t=Wh(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=Hf(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&fae(i)&&nH(s,i)&&(Array.isArray(e)||Xm(e)))},pae=e=>e.match(_se),mae=e=>e.match(lse),gae=(e,t)=>(wse(e)?mae(e):pae(e))||[],vae=(e,t,r)=>{const{length:n}=e;return r=r===void 0?n:r,e.slice(t,r)},yae=wae("toUpperCase");function wae(e){return t=>{if(!t)return"";const r=W9(t)?G9(t):void 0,n=r?r[0]:t[0],i=r?vae(r,1).join(""):t.slice(1);return n[e]()+i}}class uh{constructor(t){const r=this.__data__=new u1(t);this.size=r.size}clear(){this.__data__=new u1,this.size=0}delete(t){const r=this.__data__,n=r.delete(t);return this.size=r.size,n}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,r){let n=this.__data__;if(n instanceof u1){const i=n.__data__;if(i.length<SI-1)return i.push([t,r]),this.size=++n.size,this;n=this.__data__=new cH(i)}return n.set(t,r),this.size=n.size,this}}class u1{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(t){const r=this.__data__,n=zv(r,t);if(n<0)return!1;const i=r.length-1;return n==i?r.pop():r.splice(n,1),--this.size,!0}get(t){const r=this.__data__,n=zv(r,t);return n<0?void 0:r[n][1]}has(t){return zv(this.__data__,t)>-1}set(t,r){const n=this.__data__,i=zv(n,t);return i<0?(++this.size,n.push([t,r])):n[i][1]=r,this}}class cH{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new wM,map:new Map,string:new wM}}delete(t){const r=qv(this,t).delete(t);return this.size-=r?1:0,r}get(t){return qv(this,t).get(t)}has(t){return qv(this,t).has(t)}set(t,r){const n=qv(this,t),i=n.size;return n.set(t,r),this.size+=n.size==i?0:1,this}}class wM{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){const r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}get(t){const n=this.__data__[t];return n===SO?void 0:n}has(t){return this.__data__[t]!==void 0}set(t,r){const n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r===void 0?SO:r,this}}class Qm{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.__data__=new cH;++r<n;)this.add(t[r])}add(t){return this.__data__.set(t,SO),this}has(t){return this.__data__.has(t)}}Qm.prototype.push=Qm.prototype.add;const bae=function(e){var t=Object.prototype.toString;return e===!0||e===!1||!!e&&typeof e=="object"&&t.call(e)===PE},Wr=function(e){return!!e&&(typeof e=="object"||typeof e=="function")},wo=function(e){var t=Object.prototype.toString;return typeof e=="number"||!!e&&typeof e=="object"&&t.call(e)===RE},Ui=function(e){var t=Object.prototype.toString;return typeof e=="string"||!!e&&typeof e=="object"&&t.call(e)===NE},Jt=oH((e,t)=>{if(kE(t)||Ds(t)){Dg(t,Cg(t),e);return}for(var r in t)hasOwnProperty.call(t,r)&&jg(e,r,t[r])}),_ae=(e,...t)=>{let r=-1,n=t.length;const i=n>2?t[2]:void 0;for(i&&r_(t[0],t[1],i)&&(n=1);++r<n;){const o=t[r];if(o==null)continue;const s=Object.keys(o),a=s.length;let l=-1;for(;++l<a;){const u=s[l],f=e[u];(f===void 0||Hh(f,Object.prototype[u])&&!hasOwnProperty.call(e,u))&&(e[u]=o[u])}}return e},vs=_ae,Eae=function(...t){return t.push(void 0,sH),ri.apply(void 0,t)},RI=Eae,za=(e,t,...r)=>{let n=-1;const i=typeof t=="function",o=Ds(e)?new Array(e.length):[];return PI(e,s=>{o[++n]=i?t.apply(s,r):Sae(s,t,...r)}),o},Sae=(e,t,...r)=>{t=Wh(t,e),e=rH(e,t);const n=e==null?e:e[Hf(Kse(t))];return n==null?void 0:n.apply(e,r)},fH=(e,t,r)=>{let n=0,i=e==null?0:e.length;if(i==0)return 0;r=ME(r,2),t=r(t);const o=t!==t,s=t===null,a=Rh(t),l=t===void 0;for(;n<i;){let u;const f=Math.floor((n+i)/2),c=r(e[f]),p=c!==void 0,m=c===null,g=c===c,_=Rh(c);o?u=g:l?u=g&&p:s?u=g&&p&&!m:a?u=g&&p&&!m&&!_:m||_?u=!1:u=c<t,u?n=f+1:i=f}return Math.min(i,bse)},Lg=(e,t)=>{let r=-1,n=(l,u)=>!!(l==null?0:l.length)&&l.indexOf(u)>-1;t=ME(t,2);let i=!0;const{length:o}=e,s=[];let a=s;if(o>=SI){const l=t?null:Jse(e);if(l)return jE(l);i=!1,n=(u,f)=>u.has(f),a=new Qm}else a=t?[]:s;e:for(;++r<o;){let l=e[r];const u=t?t(l):l;if(l=l!==0?l:0,i&&u===u){let f=a.length;for(;f--;)if(a[f]===u)continue e;t&&a.push(u),s.push(l)}else n(a,u)||(a!==s&&a.push(u),s.push(l))}return s},ja=e=>lh(e),ys=e=>lh(e,!0),Pl=e=>{if(e==null)return!0;if(Ds(e)&&(Array.isArray(e)||typeof e=="string"||typeof e.splice=="function"||Mg(e)||Xm(e)))return!e.length;const t=ks(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(kE(e))return!Tse(e).length;for(const r in e)if(hasOwnProperty.call(e,r))return!1;return!0},Gd=(e,t)=>CE(e,t),dn=e=>typeof e=="function",zn=e=>{if(!ha(e)||ks(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},Tr=e=>{if(!e)return[];if(Ds(e))return Ui(e)?G9(e):$I(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){const n=e[Symbol.iterator]();let i;const o=[];for(;!(i=n.next()).done;)o.push(i.value);return o}const t=ks(e);return(t==Ig?eH:t==kg?jE:$se)(e)};function $ae(e,t,r){if(typeof e!="function")throw new TypeError("Expected a function");let n,i,o,s,a,l,u=0,f=!1,c=!1,p=!0;const m=!t&&t!==0&&window&&typeof window.requestAnimationFrame=="function";t=+t||0,Wr(r)&&(f=!!r.leading,c="maxWait"in r,o=c?Math.max(20,t):o,p="trailing"in r?!!r.trailing:p);function g(d){const A=n,x=i;return n=i=void 0,u=d,s=e.apply(x,A),s}function _(d,A){return m?(window.cancelAnimationFrame(a),window.requestAnimationFrame(d)):setTimeout(d,A)}function v(d){if(m)return window.cancelAnimationFrame(d);clearTimeout(d)}function h(d){return u=d,a=_(S,t),f?g(d):s}function E(d){const A=d-l,x=d-u,O=t-A;return c?Math.min(O,o-x):O}function y(d){const A=d-l,x=d-u;return l===void 0||A>=t||A<0||c&&x>=o}function S(){const d=Date.now();if(y(d))return $(d);a=_(S,E(d))}function $(d){return a=void 0,p&&n?g(d):(n=i=void 0,s)}function T(...d){const A=Date.now(),x=y(A);if(n=d,i=this,l=A,x){if(a===void 0)return h(l);if(c)return a=_(S,t),g(l)}return a===void 0&&(a=_(S,t)),s}return T.cancel=()=>{a!==void 0&&v(a),u=0,n=l=i=a=void 0},T.flush=()=>a===void 0?s:$(Date.now()),T.pending=()=>a!==void 0,T}const Tae=(e,t)=>(t=ME(t,2),uae(e,(r,n,i)=>(i=t(n),hasOwnProperty.call(r,i)?r[i].push(n):jg(r,i,[n]),r),{})),c1=(e,t=[])=>{if(e==null)return[];const r=t.length;return r>1&&r_(e,t[0],t[1])?t=[]:r>2&&r_(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[ME(t,2)]),Yse(e,t.flat(1),[])},Aae=e=>(e==null?0:e.length)?uH(e,1/0):[],bM=(e,...t)=>Ds(e)?tH(e,t):[],xae=(e,...t)=>ha(e)&&Ds(e)?tH(e,t.flat(1)):[],AO=(...e)=>{const t=e.flat(1);return Lg(t)},Iu=(e,t)=>{if(e==null)return!1;typeof t=="string"&&(t=t.split("."));let r=-1,n=e;for(;++r<t.length;){if(!n||!hasOwnProperty.call(n,t[r]))return!1;n=n[t[r]]}return!0},qn=(e,t,r)=>{t=Wh(t,e);let n=-1,i=t.length;for(i||(i=1,e=void 0);++n<i;){let o=e==null?void 0:e[Hf(t[n])];o===void 0&&(n=i,o=r),e=typeof o=="function"?o.call(e):o}return e},Zm=(e,...t)=>{let r={};if(e==null)return r;let n=!1;t=t.flat(1).map(o=>(o=Wh(o,e),n||(n=o.length>1),o)),Dg(e,Q9(e),r),n&&(r=lh(r,!0,!0,!0,o=>zn(o)?void 0:o));let i=t.length;for(;i--;)zse(r,t[i]);return r},ws=(e,t=r=>r)=>{let r=-1;const n=Object(e),i=Ds(e)?K9(e,!0):iH(e);let o=i.length;for(;o--;){const s=i[++r];if(t(n[s],s,n)===!1)break}},Oae=(e="")=>gae(`${e}`.replace(/['\u2019]/g,"")).reduce((t,r,n)=>(r=r.toLowerCase(),t+(n?yae(r):r)),"");let Pae=0;const Rae=(e="")=>{const t=++Pae;return`${e}`+t},ri=oH((e,t,r,n)=>{OI(e,t,r,n)},!0),ra=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Hu.classNamePrefix.length)!==Hu.classNamePrefix&&(t=Hu.classNamePrefix+t),t}).join(" ")},Nae=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Hu.classNamePrefix.length)===Hu.classNamePrefix&&(t=t.substr(Hu.classNamePrefix.length)),t}).join(" ")},n_=function(e,t){const r={},n={},i=at.namespace.svg,o=t||i,s=document.createDocumentFragment(),a=function(l,u,f){for(let c=0;c<l.length;c++){const p=l[c];if(typeof p=="string"){const S=document.createTextNode(p);u.appendChild(S);continue}if(!p.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const m=p.tagName;let g;p.hasOwnProperty("namespaceURI")&&(f=p.namespaceURI),g=document.createElementNS(f,m);const _=f===i,v=_?at:Lr,h=p.attributes;h&&v(g).attr(h);const E=p.style;if(E&&Lr(g).css(E),p.hasOwnProperty("className")){const S=p.className;_?g.className.baseVal=S:g.className=S}if(p.hasOwnProperty("textContent")&&(g.textContent=p.textContent),p.hasOwnProperty("selector")){const S=p.selector;if(r[S])throw new Error("json-dom-parser: selector must be unique");r[S]=g,v(g).attr("joint-selector",S)}if(p.hasOwnProperty("groupSelector")){let S=p.groupSelector;Array.isArray(S)||(S=[S]);for(let $=0;$<S.length;$++){const T=S[$];let d=n[T];d||(d=n[T]=[]),d.push(g)}}u.appendChild(g);const y=p.children;Array.isArray(y)&&a(y,g,f)}};return a(e,s,o),{fragment:s,selectors:r,groupSelectors:n}},Vv=function(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return t},eg=function(e,t,r){for(var n=Array.isArray(t)?t:t.split(r||"/"),i,o=0,s=n.length;o<s;)if(i=n[o++],Object(e)===e&&i in e)e=e[i];else return;return e},dH=function(e,t){return typeof t!="string"&&typeof t!="number"&&(t=String(t)),!(t==="constructor"&&typeof e[t]=="function"||t==="__proto__")},_M=function(e,t,r,n){const i=Array.isArray(t)?t:t.split(n||"/"),o=i.length-1;let s=e,a=0;for(;a<o;a++){const l=i[a];if(!dH(s,l))return e;s=s[l]||(s[l]={})}return s[i[o]]=r,e},EM=function(e,t,r){const n=Array.isArray(t)?t:t.split(r),i=n.length-1;let o=e,s=0;for(;s<i;s++){const a=n[s];if(!dH(o,a))return e;const l=o[a];if(!l)return e;o=l}return delete o[n[i]],e},Iae=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})},Kd=function(e){return Kd.id=Kd.id||1,e===void 0?"j_"+Kd.id++:(e.id=e.id===void 0?"j_"+Kd.id++:e.id,e.id)},kae=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},wi=function(e){if(e.normalized)return e;const{originalEvent:t,target:r}=e,n=t&&t.changedTouches&&t.changedTouches[0];if(n)for(let i in n)e[i]===void 0&&(e[i]=n[i]);if(r){const i=r.correspondingUseElement;i&&(e.target=i)}return e.normalized=!0,e},Cae=function(e){let i=0,o=0,s=0,a=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(i=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(i=o,o=0),s="deltaX"in e?e.deltaX:i*10,a="deltaY"in e?e.deltaY:o*10,(s||a)&&e.deltaMode&&(e.deltaMode==1?(s*=40,a*=40):(s*=800,a*=800)),e.deltaX===0&&e.deltaY!==0&&e.shiftKey&&(s=a,a=0,i=o,o=0),s&&!i&&(i=s<1?-1:1),a&&!o&&(o=a<1?-1:1),{spinX:i,spinY:o,deltaX:s,deltaY:a}},jae=function(e,t){return e>t?t:e<-50?-50:e},xO=function(){var e;if(typeof window<"u"&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(r){var n=new Date().getTime(),i=Math.max(0,16-(n-t)),o=setTimeout(function(){r(n+i)},i);return t=n+i,o}}return function(r,n,...i){return e(n!==void 0?r.bind(n,...i):r)}}(),OO=function(){var e,t=typeof window<"u";return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e}(),xi=function(e){return Ui(e)&&e.slice(-1)==="%"},Dae=function(e,t){function r(a){var l=new RegExp("(?:\\d+(?:\\.\\d+)*)("+a+")$").exec(e);return l?l[1]:null}var n=parseFloat(e);if(Number.isNaN(n))return null;var i={};i.value=n;var o;if(t==null)o="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;o=t.join("|")}else Ui(t)&&(o=t);var s=r(o);return s===null?null:(i.unit=s,i)},fm=0;function Mae(e,t){const r=e.split(t);let n=1;for(let i=0,o=r.length-1;i<o;i++){const s=[];(i>0||r[0]!=="")&&s.push(fm),s.push(t),(i<o-1||r[o]!=="")&&s.push(fm),r.splice(n,0,...s),n+=s.length+1}return r.filter(i=>i!=="")}function SM(e,t){if(e===null)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}const Lae=function(e,t,r={},n={}){var i=t.width,o=t.height,s=n.svgDocument||at("svg").node,a=at("tspan").node,l=at("text").attr(r).append(a).node,u=document.createTextNode("");l.style.opacity=0,l.style.display="block",a.style.display="block",a.appendChild(u),s.appendChild(l),n.svgDocument||document.body.appendChild(s);const f=n.preserveSpaces,c=" ",p=n.separator||n.separator===""?n.separator:c,m=typeof p=="string"?p:c;var g=n.eol||`
`,_=n.hyphen?new RegExp(n.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,v=n.maxLineCount;wo(v)||(v=1/0);var h=e.split(p),E=[],y=[],S,$,T;f&&at(a).attr("xml:space","preserve");for(var d=0,A=0,x=h.length;d<x;d++){var O=h[d];if(!(!O&&!f)&&typeof O=="string"){var D=!1;if(O.indexOf(g)>=0)if(O.length>1){const C=Mae(h[d],g);h.splice(d,1,...C),d--,x=h.length;continue}else{if(f&&typeof h[d-1]=="string"){h.splice(d,fm,"",fm),x+=2,d--;continue}y[++A]=!f||typeof h[d+1]=="string"?"":void 0,D=!0}if(!D){let C;if(f?C=y[A]!==void 0?y[A]+m+O:O:C=y[A]?y[A]+m+O:O,u.data=C,a.getComputedTextLength()<=i)y[A]=C,(S||$)&&(E[A++]=!0,S=0,$=0);else{if(!y[A]||S){var F=!!S;if(S=O.length-1,F||!S){if(!S){if(!y[A]){y=[];break}h.splice(d,2,O+h[d+1]),x--,E[A++]=!0,d--;continue}h[d]=O.substring(0,S);const B=h[d+1];h[d+1]=O.substring(S)+(B===void 0||B===fm?"":B)}else{if($)h.splice(d,2,h[d]+h[d+1]),$=0;else{var V=O.search(_);V>-1&&V!==O.length-1&&V!==0&&($=V+1,S=0),h.splice(d,1,O.substring(0,$||S),O.substring($||S)),x++}A&&!E[A-1]&&A--}(!f||y[A]!=="")&&d--;continue}A++,d--}}var Q=null;if(y.length>v)Q=v-1;else if(o!==void 0){if(T===void 0&&u.data!=="")if(r.lineHeight==="auto")T=SM({value:1.5,unit:"em"},l);else{const C=Dae(r.lineHeight,["em","px",""]);T=SM(C,l)}T*y.length>o&&(Q=Math.floor(o/T)-1)}if(Q!==null){y.splice(Q+1);var H=n.ellipsis;if(!H||Q<0)break;typeof H!="string"&&(H="…");var X=y[Q];if(!X&&!D)break;var fe=X.length,Z,ne;do{if(ne=X[fe],Z=X.substring(0,fe),ne?ne.match(p)&&(Z+=ne):Z+=m,Z+=H,u.data=Z,a.getComputedTextLength()<=i){y[Q]=Z;break}fe--}while(fe>=0);break}}}return n.svgDocument?s.removeChild(l):document.body.removeChild(s),y.join(g)},Fae=function(e,t){var r=Lr(e),n=r.map(function(){var i=this,o=i.parentNode,s=o.insertBefore(document.createTextNode(""),i.nextSibling);return function(){if(o===this)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(this,s),o.removeChild(s)}});return Array.prototype.sort.call(r,t).each(function(i){n[i].call(this)})},Nf=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var r,n,i,o;return r=n=i=o=0,isFinite(e.vertical)&&(r=i=+e.vertical),isFinite(e.horizontal)&&(n=o=+e.horizontal),isFinite(e.top)&&(r=+e.top),isFinite(e.right)&&(n=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(o=+e.left),{top:r,right:n,bottom:i,left:o}},Bae={linear:function(e){return e}},hH={number:function(e,t){var r=t-e;return function(n){return e+r*n}},object:function(e,t){var r=Object.keys(e);return function(n){var i,o,s={};for(i=r.length-1;i!=-1;i--)o=r[i],s[o]=e[o]+(t[o]-e[o])*n;return s}}},Uae={outline:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',r=Number.isFinite(e.margin)?e.margin:2,n=Number.isFinite(e.width)?e.width:1;return Gi(t)({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:r+n,innerRadius:r})},highlight:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return Gi(t)({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return Gi('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return Gi(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Gi('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Gi('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Gi('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return Gi('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Gi('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return Gi('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Gi('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},Gi=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(r){return r=r||{},e.replace(t,function(n){for(var i=Array.from(arguments),o=i.slice(1,4).find(function(l){return!!l}),s=o.split("."),a=r[s.shift()];a!==void 0&&s.length;)a=a[s.shift()];return a!==void 0?a:""})}};function pH(e){e=Lg(e);const t=Tr(e).reduce(function(r,n){return r[n.id]=n.clone(),r},{});return Tr(e).forEach(function(r){const n=t[r.id];if(n.isLink()){const s=n.source(),a=n.target();s.id&&t[s.id]&&n.prop("source/id",t[s.id].id),a.id&&t[a.id]&&n.prop("target/id",t[a.id].id)}const i=r.get("parent");i&&t[i]&&n.set("parent",t[i].id);const o=Tr(r.get("embeds")).reduce(function(s,a){return t[a]&&s.push(t[a].id),s},[]);Pl(o)||n.set("embeds",o)}),t}const zae=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],qae=zae.reduce((e,t)=>(e[t]=!0,e),{}),Vae={qualify:function(e){return zn(e)},set:function(e,t,r){Object.keys(e).forEach(function(n){if(qae[n]&&n in r){const i=e[n];r.tagName==="SELECT"&&Array.isArray(i)?Array.from(r.options).forEach(function(o,s){o.selected=i.includes(o.value)}):r[n]=i}})}};function uu(e,t){return function(r,n){var i=xi(r);r=parseFloat(r),i&&(r/=100);var o={};if(isFinite(r)){var s=i||r>=0&&r<=1?r*n[t]:Math.max(r+n[t],0);o[e]=s}return o}}function Hv(e,t,r){return function(n,i){var o=xi(n);n=parseFloat(n),o&&(n/=100);var s;if(isFinite(n)){var a=i[r]();o||n>0&&n<1?s=a[e]+i[t]*n:s=a[e]+n}var l=ze();return l[e]=s||0,l}}function $M(e,t,r){return function(n,i){var o;n==="middle"?o=i[t]/2:n===r?o=i[t]:isFinite(n)?o=n>-1&&n<1?-i[t]*n:-n:xi(n)?o=i[t]*parseFloat(n)/100:o=0;var s=ze();return s[e]=-(i[e]+o),s}}function mH(e,t){var r="joint-shape",n=t&&t.resetOffset;return function(i,o,s){var a=Lr(s),l=a.data(r);if(!l||l.value!==i){var u=e(i);l={value:i,shape:u,shapeBBox:u.bbox()},a.data(r,l)}var f=l.shape.clone(),c=l.shapeBBox.clone(),p=c.origin(),m=o.origin();c.x=m.x,c.y=m.y;var g=o.maxRectScaleToFit(c,m),_=c.width===0||o.width===0?1:g.sx,v=c.height===0||o.height===0?1:g.sy;return f.scale(_,v,p),n&&f.translate(-p.x,-p.y),f}}function TM(e){function t(n){return new Bt(at.normalizePathData(n))}var r=mH(t,e);return function(n,i,o){var s=r(n,i,o);return{d:s.serialize()}}}function AM(e){var t=mH(un,e);return function(r,n,i){var o=t(r,n,i);return{points:o.serialize()}}}function Wv(e,t){var r=new ze(1,0);return function(n){var i,o,s=this[e](n);return s?(o=t.rotate?s.vector().vectorAngle(r):0,i=s.start):(i=this.path.start,o=0),o===0?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+o+")"}}}function xM(e){return function(r,n,i){const o=at(i);o.attr(e)!==r&&o.attr(e,r)}}function pd(e,t,r){return r.text!==void 0}function yp(){return this.model.isLink()}function f1(e){var t={},r=e.stroke;typeof r=="string"&&(t.stroke=r,t.fill=r);var n=e.strokeOpacity;return n===void 0&&(n=e["stroke-opacity"]),n===void 0&&(n=e.opacity),n!==void 0&&(t["stroke-opacity"]=n,t["fill-opacity"]=n),t}function OM(e){const{paper:t}=this;return`url(#${e.type==="pattern"?t.definePattern(e):t.defineGradient(e)})`}const nr={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:xM("href")},xlinkHref:{set:xM("xlink:href")},filter:{qualify:zn,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:zn,set:OM},stroke:{qualify:zn,set:OM},sourceMarker:{qualify:zn,set:function(e,t,r,n){return e=Jt(f1(n),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:zn,set:function(e,t,r,n){return e=Jt(f1(n),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:zn,set:function(e,t,r,n){return e=Jt(f1(n),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,r){return!r.textWrap||!zn(r.textWrap)},set:function(e,t,r,n){const i=Lr(r),o="joint-text",s=i.data(o),{lineHeight:a,annotations:l,textVerticalAnchor:u,eol:f,displayEmpty:c}=n;let p=n.textPath,m=n.x;Ss(m)&&(m=$s(m,t));let g=n["font-size"]||n.fontSize;Ss(g)&&(g=$s(g,t));const _=JSON.stringify([e,a,l,u,f,c,p,m,g]);if(s===void 0||s!==_){if(g&&r.setAttribute("font-size",g),Wr(p)){const v=p.selector;if(typeof v=="string"){const[h]=this.findBySelector(v);h instanceof SVGPathElement&&(p=Jt({"xlink:href":"#"+h.id},p))}}at(r).text(""+e,{lineHeight:a,annotations:l,textPath:p,x:m,textVerticalAnchor:u,eol:f,displayEmpty:c}),i.data(o,_)}}},textWrap:{qualify:zn,set:function(e,t,r,n){var i={},o=e.width||0;xi(o)?i.width=t.width*parseFloat(o)/100:Ss(o)?i.width=Number($s(o,t)):e.width===null?i.width=1/0:o<=0?i.width=t.width+o:i.width=o;var s=e.height||0;xi(s)?i.height=t.height*parseFloat(s)/100:Ss(s)?i.height=Number($s(s,t)):e.height===null||(s<=0?i.height=t.height+s:i.height=s);var a,l=e.text;if(l===void 0&&(l=n.text),l!==void 0){const u=e.breakText||Lae,f=n["font-size"]||n.fontSize;a=u(""+l,i,{"font-weight":n["font-weight"]||n.fontWeight,"font-size":Ss(f)?$s(f,t):f,"font-family":n["font-family"]||n.fontFamily,lineHeight:n.lineHeight,"letter-spacing":"letter-spacing"in n?n["letter-spacing"]:n.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else a="";nr.text.set.call(this,a,t,r,n)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,r){var n=Lr(r),i="joint-title",o=n.data(i);if(o===void 0||o!==e){if(n.data(i,e),r.tagName==="title"){r.textContent=e;return}var s=r.firstElementChild;if(s&&s.tagName==="title")s.textContent=e;else{var a=document.createElementNS(r.namespaceURI,"title");a.textContent=e,r.insertBefore(a,s)}}}},lineHeight:{qualify:pd},textVerticalAnchor:{qualify:pd},textPath:{qualify:pd},annotations:{qualify:pd},eol:{qualify:pd},displayEmpty:{qualify:pd},port:{set:function(e){return e===null||e.id===void 0?e:e.id}},style:{qualify:zn,set:function(e,t,r){Lr(r).css(e)}},html:{set:function(e,t,r){Lr(r).html(e+"")}},props:Vae,ref:{},refX:{position:Hv("x","width","origin")},refY:{position:Hv("y","height","origin")},refDx:{position:Hv("x","width","corner")},refDy:{position:Hv("y","height","corner")},refWidth:{set:uu("width","width")},refHeight:{set:uu("height","height")},refRx:{set:uu("rx","width")},refRy:{set:uu("ry","height")},refRInscribed:{set:function(e){var t=uu(e,"width"),r=uu(e,"height");return function(n,i){var o=i.height>i.width?t:r;return o(n,i)}}("r")},refRCircumscribed:{set:function(e,t){var r=xi(e);e=parseFloat(e),r&&(e/=100);var n=Math.sqrt(t.height*t.height+t.width*t.width),i;return isFinite(e)&&(r||e>=0&&e<=1?i=e*n:i=Math.max(e+n,0)),{r:i}}},refCx:{set:uu("cx","width")},refCy:{set:uu("cy","height")},xAlignment:{offset:$M("x","width","right")},yAlignment:{offset:$M("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:TM({resetOffset:!0})},refDKeepOffset:{set:TM({resetOffset:!1})},refPointsResetOffset:{set:AM({resetOffset:!0})},refPointsKeepOffset:{set:AM({resetOffset:!1})},connection:{qualify:yp,set:function({stubs:e=0}){let t;if(isFinite(e)&&e!==0){let r;e<0?r=(this.getConnectionLength()+e)/2:r=e;const n=this.getConnection(),i=this.getConnectionSubdivisions(),o=n.divideAtLength(r,{segmentSubdivisions:i}),s=n.divideAtLength(-r,{segmentSubdivisions:i});o&&s&&(t=`${o[0].serialize()} ${s[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:yp,set:Wv("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:yp,set:Wv("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:yp,set:Wv("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:yp,set:Wv("getTangentAtRatio",{rotate:!1})}};nr["xlink:href"]=nr.xlinkHref;["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(e=>{nr[e]={qualify:Ss,set:function(r,n){return{[e]:$s(r,n)}}}});["width","height","r","rx","ry","font-size","stroke-width"].forEach(e=>{nr[e]={qualify:Ss,set:function(r,n){return{[e]:Math.max(0,$s(r,n))}}}});nr.refR=nr.refRInscribed;nr.refD=nr.refDResetOffset;nr.refPoints=nr.refPointsResetOffset;nr.atConnectionLength=nr.atConnectionLengthKeepGradient;nr.atConnectionRatio=nr.atConnectionRatioKeepGradient;nr.fontSize=nr["font-size"];nr.strokeWidth=nr["stroke-width"];nr.refX2=nr.refX;nr.refY2=nr.refY;nr.refWidth2=nr.refWidth;nr.refHeight2=nr.refHeight;nr["ref-x"]=nr.refX;nr["ref-y"]=nr.refY;nr["ref-dy"]=nr.refDy;nr["ref-dx"]=nr.refDx;nr["ref-width"]=nr.refWidth;nr["ref-height"]=nr.refHeight;nr["x-alignment"]=nr.xAlignment;nr["y-alignment"]=nr.yAlignment;const gH=nr,Qa=Li.Model.extend({constructor:function(e,t){var r,n=e||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=Rae("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(n=this.parse(n,t)||{}),(r=qn(this,"defaults"))&&(n=ri({},r,n)),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,r){throw new Error("Must define a translate() method.")},toJSON:function(){const t=qn(this.constructor.prototype,"defaults").attrs||{},r=this.attributes.attrs,n={};ws(r,function(o,s){const a=t[s];ws(o,function(l,u){Wr(l)&&!Array.isArray(l)?ws(l,function(f,c){(!a||!a[u]||!Gd(a[u][c],f))&&(n[s]=n[s]||{},(n[s][u]||(n[s][u]={}))[c]=f)}):(!a||!Gd(a[u],l))&&(n[s]=n[s]||{},n[s][u]=l)})});const i=ys(Zm(this.attributes,"attrs"));return i.attrs=n,i},initialize:function(e){const t=this.getIdAttribute();(!e||e[t]===void 0)&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return Iae()},processPorts:function(){var e=this.ports,t={};ws(this.get("attrs"),function(o,s){o&&o.port&&(o.port.id!==void 0?t[o.port.id]=o.port:t[o.port]={id:o.port})});var r={};if(ws(e,function(o,s){t[s]||(r[s]=!0)}),this.graph&&!Pl(r)){var n=this.graph.getConnectedLinks(this,{inbound:!0});n.forEach(function(o){r[o.get("target").port]&&o.remove()});var i=this.graph.getConnectedLinks(this,{outbound:!0});i.forEach(function(o){r[o.get("source").port]&&o.remove()})}this.ports=t},remove:function(e={}){const{graph:t,collection:r}=this;if(!t)return r&&r.remove(this,e),this;t.startBatch("remove");const n=this.getParentCell();n&&n.unembed(this,e);const i=this.getEmbeddedCells();for(let o=0,s=i.length;o<s;o++){const a=i[o];a&&a.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=vs(e||{},{foregroundEmbeds:!0});let r;e.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),r.unshift(this)):r=[this];const n=e.foregroundEmbeds?r:c1(r,l=>l.z());let o=t.maxZIndex()-r.length+1;const s=t.get("cells");let a=s.indexOf(n[0])!==s.length-r.length;a||(a=n.some(function(l,u){return l.z()!==o+u})),a&&(this.startBatch("to-front"),o=o+r.length,n.forEach(function(l,u){l.set("z",o+u,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=vs(e||{},{foregroundEmbeds:!0});let n;e.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];const i=e.foregroundEmbeds?n:c1(n,a=>a.z());let o=t.minZIndex();var r=t.get("cells");let s=r.indexOf(i[0])!==0;s||(s=i.some(function(a,l){return a.z()!==o+l})),s&&(this.startBatch("to-back"),o-=n.length,i.forEach(function(a,l){a.set("z",o+l,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return e===void 0?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){const r=Array.isArray(e)?e:[e];if(!this.canEmbed(r))throw new Error("Recursive embedding not allowed.");if(r.some(n=>n.isEmbedded()&&this.id!==n.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(r,t),this},unembed:function(e,t){const r=Array.isArray(e)?e:[e];return this._unembedCells(r,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every(r=>this!==r&&!this.isEmbeddedIn(r))},_embedCells:function(e,t){const r="embed";this.startBatch(r);const n=Jt([],this.get("embeds"));e.forEach(i=>{n[i.isLink()?"unshift":"push"](i.id),i.parent(this.id,t)}),this.set("embeds",Lg(n),t),this.stopBatch(r)},_unembedCells:function(e,t){const r="unembed";this.startBatch(r),e.forEach(n=>n.unset("parent",t)),this.set("embeds",bM(this.get("embeds"),...e.map(n=>n.id)),t),this.stopBatch(r)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},!this.graph)return[];if(e.deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);const t=this.get("embeds");if(Pl(t))return[];let r=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(r=c1(r,n=>n.z())),r},_getEmbeddedCellsBfs:function(e){const t=[],r=[];for(r.push(this);r.length>0;){const n=r.shift();t.push(n);const i=n.getEmbeddedCells({sortSiblings:e});r.push(...i)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){const t=[],r=[];for(r.push(this);r.length>0;){const n=r.pop();t.push(n);const i=n.getEmbeddedCells({sortSiblings:e});for(let o=i.length-1;o>=0;--o)r.push(i[o])}return t.shift(),t},isEmbeddedIn:function(e,t){var r=Ui(e)?e:e.id,n=this.parent();if(t=Jt({deep:!0},t),this.graph&&t.deep){for(;n;){if(n===r)return!0;n=this.graph.getCell(n).parent()}return!1}else return n===r},isEmbedded:function(){return!!this.parent()},clone:function(e){if(e=e||{},e.deep)return Tr(pH([this].concat(this.getEmbeddedCells({deep:!0}))));var t=Li.Model.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,r){var n="/",i=Ui(e);if(i||Array.isArray(e))if(arguments.length>1){var o,s;i?(o=e,s=o.split("/")):(o=e.join(n),s=e.slice());var a=s[0],l=s.length;const y=r||{};y.propertyPath=o,y.propertyValue=t,y.propertyPathArray=s,"rewrite"in y||(y.rewrite=!1);for(var u={},f=u,c=a,p=1;p<l;p++){var m=s[p],g=Number.isFinite(i?Number(m):m);f=f[c]=g?[]:{},c=m}u=_M(u,s,t,"/");var _=ri({},this.attributes);y.rewrite&&EM(_,o,"/");var v=ri(_,u);return this.set(a,v[a],y)}else return eg(this.attributes,e,n);const h=t||{};h.propertyPath=null,h.propertyValue=e,h.propertyPathArray=[],"rewrite"in h||(h.rewrite=!1);const E={};for(const y in e){const{changedValue:S}=ri({},{changedValue:this.attributes[y]},{changedValue:e[y]});E[y]=S}return this.set(E,h)},removeProp:function(e,t){t=t||{};var r=Array.isArray(e)?e:e.split("/"),n=r[0];if(n==="attrs"&&(t.dirty=!0),r.length===1)return this.unset(e,t);var i=r.slice(1),o=this.get(n);return o==null?this:(o=ys(o),EM(o,i,"/"),this.set(n,o,t))},attr:function(e,t,r){var n=Array.from(arguments);return n.length===0?this.get("attrs"):(Array.isArray(e)?n[0]=["attrs"].concat(e):Ui(e)?n[0]="attrs/"+e:n[0]={attrs:e},this.prop.apply(this,n))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,r,n){n=n||"/";var i={duration:100,delay:10,timingFunction:Bae.linear,valueFunction:hH.number};r=Jt(i,r);var o=0,s,a=(function(c){var p,m,g;o=o||c,c-=o,m=c/r.duration,m<1?this._transitionIds[e]=p=xO(a):(m=1,delete this._transitionIds[e]),g=s(r.timingFunction(m)),r.transitionId=p,this.prop(e,g,r),p||this.trigger("transition:end",this,e)}).bind(this);const{_scheduledTransitionIds:l}=this;let u;var f=c=>{l[e]&&(l[e]=bM(l[e],u),l[e].length===0&&delete l[e]),this.stopPendingTransitions(e,n),s=r.valueFunction(eg(this.attributes,e,n),t),this._transitionIds[e]=xO(c),this.trigger("transition:start",this,e)};return u=setTimeout(f,r.delay,a),l[e]||(l[e]=[]),l[e].push(u),u},getTransitions:function(){return AO(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t="/"){const{_scheduledTransitionIds:r={}}=this;let n=Object.keys(r);if(e){const i=e.split(t);n=n.filter(o=>Gd(i,o.split(t).slice(0,i.length)))}return n.forEach(i=>{r[i].forEach(s=>clearTimeout(s)),delete r[i]}),this},stopPendingTransitions(e,t="/"){const{_transitionIds:r={}}=this;let n=Object.keys(r);if(e){const i=e.split(t);n=n.filter(o=>Gd(i,o.split(t).slice(0,i.length)))}n.forEach(i=>{const o=r[i];OO(o),delete r[i],this.trigger("transition:end",this,i)})},stopTransitions:function(e,t="/"){return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,Jt({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,Jt({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var r in e)!e.hasOwnProperty(r)||!this.hasChanged(r)||(t|=e[r]);return t},angle:function(){return 0},position:function(){return new ze(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new ze},getBBox:function(){return new Ot(0,0,0,0)},getPointRotatedAroundCenter(e,t,r){const n=new ze(t,r);return e&&n.rotate(this.getBBox().center(),e),n},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes,r=gH;return t&&t[e]||r[e]},define:function(e,t,r,n){r=Jt({defaults:RI({type:e},t,this.prototype.defaults)},r);var i=this.extend(r,n);return typeof joint<"u"&&Iu(joint,"shapes")&&_M(joint.shapes,e,i,"."),i}}),Hae=function(e,t,r){if(Ui(r)){if(!PO[r])throw new Error('Unknown wrapper: "'+r+'"');r=PO[r]}if(!dn(r))throw new Error("Wrapper must be a function.");Tr(t).forEach(function(n){e[n]=r(e[n])})},PO={cells:function(e){return function(){var t=Array.from(arguments),r=t.length,n=r>0&&t[0]||[],i=r>1&&t[r-1]||{};return Array.isArray(n)||(i instanceof Qa?n=t:n instanceof Qa&&(t.length>1&&t.pop(),n=t)),i instanceof Qa&&(i={}),e.call(this,n,i)}}},Dn={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function vH(e,t){const r=new Ot(e);switch(t){case void 0:throw new Error("Position required");case Dn.LEFT:case"leftMiddle":return r.leftMiddle();case Dn.RIGHT:case"rightMiddle":return r.rightMiddle();case Dn.TOP:case"topMiddle":return r.topMiddle();case Dn.BOTTOM:case"bottomMiddle":return r.bottomMiddle();case Dn.TOP_LEFT:case"topLeft":case"origin":return r.topLeft();case Dn.TOP_RIGHT:case"topRight":return r.topRight();case Dn.BOTTOM_LEFT:case"bottomLeft":return r.bottomLeft();case Dn.BOTTOM_RIGHT:case"bottomRight":case"corner":return r.bottomRight();case Dn.CENTER:return r.center();default:throw new Error(`Unknown position: ${t}`)}}function yH(e,t,r){var n=e.toJSON();return n.angle=t||0,vs({},r,n)}function Fg(e,t,r,n){return e.map(function(i,o,s){var a=this.pointAt((o+.5)/s.length);return(i.dx||i.dy)&&a.offset(i.dx||0,i.dy||0),yH(a.round(),0,NI(n,i))},yf(t,r))}function wH(e,t,r,n){var i=t.center(),o=t.width/t.height,s=t.topMiddle(),a=eo.fromRect(t);return e.map(function(l,u,f){var c=r+n(u,f.length),p=s.clone().rotate(i,-c).scale(o,1,i),m=l.compensateRotation?-a.tangentTheta(p):0;return(l.dx||l.dy)&&p.offset(l.dx||0,l.dy||0),l.dr&&p.move(i,l.dr),yH(p.round(),m,NI(t,l))})}function NI(e,t){let{x:r,y:n,angle:i}=t;return xi(r)?r=parseFloat(r)/100*e.width:Ss(r)&&(r=Number($s(r,e))),xi(n)?n=parseFloat(n)/100*e.height:Ss(n)&&(n=Number($s(n,e))),{x:r,y:n,angle:i}}function RO(e,t){const{x:r,y:n}=NI(e,t);return new ze(r||0,n||0)}const Wae=function(e,t){return e.map(r=>{const n=RO(t,r).round().toJSON();return n.angle=r.angle||0,n})},Gae=function(e,t,r){return r.fn(e,t,r)},Kae=function(e,t,r){var n=RO(t,r.start||t.origin()),i=RO(t,r.end||t.corner());return Fg(e,n,i,t)},Jae=function(e,t,r){return Fg(e,t.origin(),t.bottomLeft(),t)},Yae=function(e,t,r){return Fg(e,t.topRight(),t.corner(),t)},Xae=function(e,t,r){return Fg(e,t.origin(),t.topRight(),t)},Qae=function(e,t,r){return Fg(e,t.bottomLeft(),t.corner(),t)},Zae=function(e,t,r){var n=r.startAngle||0,i=r.step||360/e.length;return wH(e,t,n,function(o){return o*i})},ele=function(e,t,r){var n=r.startAngle||0,i=r.step||20;return wH(e,t,n,function(o,s){return(o+.5-s/2)*i})},tle=Object.freeze(Object.defineProperty({__proto__:null,absolute:Wae,bottom:Qae,ellipse:ele,ellipseSpread:Zae,fn:Gae,left:Jae,line:Kae,right:Yae,top:Xae},Symbol.toStringTag,{value:"Module"}));function pc(e,t){return RI({},e,t,{x:0,y:0,angle:0,attrs:{}})}function bH(e){var t=e.center(),r=t.theta(e.origin()),n=t.theta(e.bottomLeft()),i=t.theta(e.corner()),o=t.theta(e.topRight());return[r,o,i,n]}function _H(e,t,r,n){n=vs({},n,{offset:15});var i=t.center().theta(e),o,s,a,l,u=n.offset,f=0;const[c,p,m,g]=bH(t);i<p||i>m?(a=".3em",o=u,s=0,l="start"):i<c?(o=0,s=-u,r?(f=-90,l="start",a=".3em"):(l="middle",a="0")):i<g?(a=".3em",o=-u,s=0,l="end"):(o=0,s=u,r?(f=90,l="start",a=".3em"):(l="middle",a=".6em"));var _=Math.round;return pc(n,{x:_(o),y:_(s),angle:f,attrs:{labelText:{y:a,textAnchor:l}}})}function EH(e,t,r,n){n=vs({},n,{offset:15});var i=t.center().theta(e),o,s,a,l,u=n.offset,f=0;const[c,p,m,g]=bH(t);i<p||i>m?(a=".3em",o=-u,s=0,l="end"):i<c?(o=0,s=u,r?(f=90,l="start",a=".3em"):(l="middle",a=".6em")):i<g?(a=".3em",o=u,s=0,l="start"):(o=0,s=-u,r?(f=-90,l="start",a=".3em"):(l="middle",a="0"));var _=Math.round;return pc(n,{x:_(o),y:_(s),angle:f,attrs:{labelText:{y:a,textAnchor:l}}})}function SH(e,t,r){r=vs({},r,{offset:20});var n=Yb(0,0),i=-e.theta(n),o=i,s=e.clone().move(n,r.offset).difference(e).round(),a=".3em",l;(i+90)%180===0?(l=t?"end":"middle",!t&&i===-270&&(a="0em")):i>-270&&i<-90?(l="start",o=i-180):l="end";var u=Math.round;return pc(r,{x:u(s.x),y:u(s.y),angle:t?o:0,attrs:{labelText:{y:a,textAnchor:l}}})}const rle=function(e,t,r){return pc(r)},nle=function(e,t,r){return pc(r,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},ile=function(e,t,r){return pc(r,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},ole=function(e,t,r){return pc(r,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},sle=function(e,t,r){return pc(r,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},ale=function(e,t,r){return _H(e,t,!0,r)},lle=function(e,t,r){return _H(e,t,!1,r)},ule=function(e,t,r){return EH(e,t,!0,r)},cle=function(e,t,r){return EH(e,t,!1,r)},fle=function(e,t,r){return SH(e.difference(t.center()),!1,r)},dle=function(e,t,r){return SH(e.difference(t.center()),!0,r)},hle=Object.freeze(Object.defineProperty({__proto__:null,bottom:sle,inside:cle,insideOriented:ule,left:nle,manual:rle,outside:lle,outsideOriented:ale,radial:fle,radialOriented:dle,right:ile,top:ole},Symbol.toStringTag,{value:"Module"})),Gh=Qa.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,r){if(e===void 0)return ja(this.get("source"));var n,i,o=e instanceof Qa;if(o)return n=ja(t)||{},n.id=e.id,i=r,this.set("source",n,i);var s=!zn(e);return s?(n=ja(t)||{},n.x=e.x,n.y=e.y,i=r,this.set("source",n,i)):(n=e,i=t,this.set("source",n,i))},target:function(e,t,r){if(e===void 0)return ja(this.get("target"));var n,i,o=e instanceof Qa;if(o)return n=ja(t)||{},n.id=e.id,i=r,this.set("target",n,i);var s=!zn(e);return s?(n=ja(t)||{},n.x=e.x,n.y=e.y,i=r,this.set("target",n,i)):(n=e,i=t,this.set("target",n,i))},router:function(e,t,r){if(e===void 0){var n=this.get("router");return n?typeof n=="object"?ja(n):n:this.get("manhattan")?{name:"orthogonal"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},s=i?t:r;return this.set("router",o,s)},connector:function(e,t,r){if(e===void 0){var n=this.get("connector");return n?typeof n=="object"?ja(n):n:this.get("smooth")?{name:"smooth"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},s=i?t:r;return this.set("connector",o,s)},label:function(e,t,r){var n=this.labels();return e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=n.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,r)},labels:function(e,t){return arguments.length===0?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){const{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,r){if(!t)throw new Error("dia.Link: no label provided");var n=this.labels(),i=n.length;return e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1),n.splice(e,0,t),this.labels(n,r)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var r=this.labels();return e=isFinite(e)&&e!==null?e|0:-1,r.splice(e,1),this.labels(r,t)},vertex:function(e,t,r){var n=this.vertices();if(e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=n.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,r)},vertices:function(e,t){if(arguments.length===0)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var r=[],n=0;n<e.length;n++){var i=e[n],o=this._normalizeVertex(i);r.push(o)}return this.set("vertices",r,t)},insertVertex:function(e,t,r){if(!t)throw new Error("dia.Link: no vertex provided");var n=this.vertices(),i=n.length;e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1);var o=this._normalizeVertex(t);return n.splice(e,0,o),this.vertices(n,r)},removeVertex:function(e,t){var r=this.vertices();return e=isFinite(e)&&e!==null?e|0:-1,r.splice(e,1),this.vertices(r,t)},_normalizeVertex:function(e){var t=!zn(e);return t?{x:e.x,y:e.y}:e},translate:function(e,t,r){return r=r||{},r.translateBy=r.translateBy||this.id,r.tx=e,r.ty=t,this.applyToPoints(function(n){return{x:(n.x||0)+e,y:(n.y||0)+t}},r)},scale:function(e,t,r,n){return this.applyToPoints(function(i){return ze(i).scale(e,t,r).toJSON()},n)},applyToPoints:function(e,t){if(!dn(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var r={},{source:n,target:i}=this.attributes;n.id||(r.source=e(n)),i.id||(r.target=e(i));var o=this.vertices();return o.length>0&&(r.vertices=o.map(e)),this.set(r,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new ze(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new ze(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const e=[this.getSourcePoint(),...this.vertices().map(ze),this.getTargetPoint()];return new un(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var r=this.getSourceElement(),n=this.getTargetElement(),i=this.getParentCell();r&&n&&(r===n||r.isEmbeddedIn(n)?t=n:n.isEmbeddedIn(r)?t=r:t=this.graph.getCommonAncestor(r,n)),i&&(!t||t.id!==i.id)&&i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:r}=this.attributes,n=t.id,i=r.id;if(!n||!i)return!1;var o=n===i;if(!o&&e.deep&&this.graph){var s=this.getSourceCell(),a=this.getTargetCell();o=s.isEmbeddedIn(a)||a.isEmbeddedIn(s)}return o},getSourceCell:function(){const{graph:e,attributes:t}=this;var r=t.source;return r&&r.id&&e&&e.getCell(r.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){const{graph:e,attributes:t}=this;var r=t.target;return r&&r.id&&e&&e.getCell(r.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(r){return!!r});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=Ui(e)||wo(e)?e:e.id,r=this.getRelationshipAncestor();return!!r&&(r.id===t||r.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){var r=e.port===t.port||!e.port&&!t.port;return e.id===t.id&&r}});var $H=function(e){var t=ys(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=tle,this.portLabelLayoutNamespace=hle,this._init(t)};$H.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var r=this.getGroup(e),n=this.getPortsByGroup(e),i=r.position||{},o=i.name,s=this.portLayoutNamespace;s[o]||(o="left");var a=i.args||{},l=n.map(function(c){return c&&c.position&&c.position.args}),u=s[o](l,t,a),f={ports:n,result:[]};return Tr(u).reduce((function(c,p,m){var g=c.ports[m];return c.result.push({portId:g.id,portTransformation:p,labelTransformation:this._getPortLabelLayout(g,ze(p),t),portAttrs:g.attrs,portSize:g.size,labelSize:g.label.size}),c}).bind(this),f),f.result},_getPortLabelLayout:function(e,t,r){var n=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return n[i]?n[i](t,r,e.label.position.args):null},_init:function(e){if(Wr(e.groups))for(var t=Object.keys(e.groups),r=0,n=t.length;r<n;r++){var i=t[r];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var o=Tr(e.items),s=0,a=o.length;s<a;s++)this.ports.push(this._evaluatePort(o[s]))},_evaluateGroup:function(e){return ri(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=Jt({},e),r=this.getGroup(e.group);return t.markup=t.markup||r.markup,t.attrs=ri({},r.attrs,t.attrs),t.position=this._createPositionNode(r,t),t.label=ri({},r.label,this._getLabel(t)),t.z=this._getZIndex(r,t),t.size=Jt({},r.size,t.size),t},_getZIndex:function(e,t){return wo(t.z)?t.z:wo(e.z)||e.z==="auto"?e.z:"auto"},_createPositionNode:function(e,t){return ri({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var r={},n;dn(e)?(n="fn",r.fn=e):Ui(e)?n=e:e===void 0?n=t?"left":null:Array.isArray(e)?(n="absolute",r.x=e[0],r.y=e[1]):Wr(e)&&(n=e.name,Jt(r,e.args));var i={args:r};return n&&(i.name=n),i},_getLabel:function(e,t){var r=e.label||{},n=r;return n.position=this._getPosition(r.position,t),n}};const ple={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};Tr(e.items).forEach(function(a){t[a.id]=!0});var r=this.previous("ports")||{},n={};Tr(r.items).forEach(function(a){t[a.id]||(n[a.id]=!0)});var i=this.graph;if(i&&!Pl(n)){var o=i.getConnectedLinks(this,{inbound:!0});o.forEach(function(a){n[a.get("target").port]&&a.remove()});var s=i.getConnectedLinks(this,{outbound:!0});s.forEach(function(a){n[a.get("source").port]&&a.remove()})}},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return this.getPortIndex(e)!==-1},getPorts:function(){return ys(this.prop("ports/items"))||[]},getGroupPorts:function(e){const t=Tr(this.prop(["ports","items"])).filter(r=>r.group===e);return ys(t)},getPort:function(e){return ys(Tr(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){var t=this._portSettingsData.getGroupPortsMetrics(e,Ot(this.size()));return t.reduce(function(r,n){var i=n.portTransformation;return r[n.portId]={x:i.x,y:i.y,angle:i.angle},r},{})},getPortIndex:function(e){var t=Wr(e)?e.id:e;return this._isValidPortId(t)?Tr(this.prop("ports/items")).findIndex(function(r){return r.id===t}):-1},addPort:function(e,t){if(!Wr(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var r=Jt([],this.prop("ports/items"));return r.push(e),this.prop("ports/items",r,t),this},insertPort:function(e,t,r){const n=typeof e=="number"?e:this.getPortIndex(e);if(!Wr(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");const i=Jt([],this.prop("ports/items"));return i.splice(n,0,t),this.prop("ports/items",i,r),this},portProp:function(e,t,r,n){var i=this.getPortIndex(e);if(i===-1)throw new Error("Element: unable to find port with id "+e);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?o[0]=["ports","items",i].concat(t):Ui(t)?o[0]=["ports/items/",i,"/",t].join(""):(o=["ports/items/"+i],zn(t)&&(o.push(t),o.push(r))),this.prop.apply(this,o)},_validatePorts:function(){var e=this.get("ports")||{},t=[];e=e||{};var r=Tr(e.items);return r.forEach(function(n){typeof n!="object"&&t.push("Element: invalid port ",n),this._isValidPortId(n.id)||(n.id=this.generatePortId())},this),Lg(r,"id").length!==r.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return e!=null&&!Wr(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",Jt([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){const r=t||{},n=this.getPortIndex(e);if(n!==-1){const i=Jt([],this.prop(["ports","items"]));i.splice(n,1),r.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,r),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let r,n;if(Array.isArray(e)){if(r=t||{},e.length===0)return this.this;n=Jt([],this.prop(["ports","items"])).filter(function(o){return!e.some(function(s){const a=Wr(s)?s.id:s;return o.id===a})})}else r=e||{},n=[];return this.startBatch("port-remove"),r.rewrite=!0,this.prop(["ports","items"],n,r),this.stopBatch("port-remove"),this},_createPortData:function(){var e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));var t;this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new $H(this.get("ports"));var r=this._portSettingsData.getPorts();if(t){var n=r.filter(function(o){if(!t.find(function(s){return s.id===o.id}))return o}),i=t.filter(function(o){if(!r.find(function(s){return s.id===o.id}))return o});i.length>0&&this.trigger("ports:remove",this,i),n.length>0&&this.trigger("ports:add",this,n)}}},mle={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),r=0,n=t.node.childNodes.length;r<n;r++)e.push(t.node.childNodes[r]);var i=Tae(this.model._portSettingsData.getPorts(),"z"),o="auto";Tr(i[o]).forEach(function(f){var c=this._getPortElement(f);t.append(c),e.push(c)},this);for(var s=Object.keys(i),a=0;a<s.length;a++){var l=s[a];if(l!==o){var u=parseInt(l,10);this._appendPorts(i[l],u,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,r){var n=this._getContainerElement(),i=Tr(e).map(this._getPortElement,this);r[t]||t<0?at(r[Math.max(t,0)]).before(i):n.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){const r=this._portElementsCache[e];if(!r)return null;if(!t)return r.portContentElement.node;const n=r.portElement.node,i=r.portSelectors,[o=null]=this.findBySelector(t,n,i);return o},_updatePorts:function(){this._updatePortGroup(void 0);var e=Object.keys(this.model._portSettingsData.groups);e.forEach(this._updatePortGroup,this)},_removePorts:function(){za(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,r,n,i;var o=at(this.portContainerMarkup).addClass("joint-port"),s=this._getPortMarkup(e);if(Array.isArray(s)){var a=this.parseDOMJSON(s,o.node),l=a.fragment;l.childNodes.length>1?t=at("g").append(l):t=at(l.firstChild),i=a.selectors}else t=at(s),Array.isArray(t)&&(t=at("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});const u=this._getPortLabelMarkup(e.label);if(Array.isArray(u)){const{fragment:_,selectors:v}=this.parseDOMJSON(u,o.node),h=_.childNodes.length;h>0&&(n=v,r=h===1?at(_.firstChild):at("g").append(_))}else r=at(u),Array.isArray(r)&&(r=at("g").append(r));var f;if(i&&n){for(var c in n)if(i[c]&&c!==this.selector)throw new Error("ElementView: selectors within port must be unique.");f=Jt({},i,n)}else f=i||n||{};const p="portRoot",m="labelRoot",g="labelText";if(p in f||(f[p]=t.node),r){const _=r.node;if(m in f||(f[m]=_),!(g in f)){const v=r.tagName()==="TEXT"?_:Array.from(_.querySelectorAll("text"));f[g]=v,n||(n={}),n[g]=v}}return o.append(t.addClass("joint-port-body")),r&&o.append(r.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:o,portLabelElement:r,portSelectors:f,portLabelSelectors:n,portContentElement:t,portContentSelectors:i},o},_updatePortGroup:function(e){for(var t=Ot(this.model.size()),r=this.model._portSettingsData.getGroupPortsMetrics(e,t),n=0,i=r.length;n<i;n++){var o=r[n],s=o.portId,a=this._portElementsCache[s]||{},l=o.portTransformation,u=o.labelTransformation;u&&a.portLabelElement&&(this.updateDOMSubtreeAttributes(a.portLabelElement.node,u.attrs,{rootBBox:new Ot(o.labelSize),selectors:a.portLabelSelectors}),this.applyPortTransform(a.portLabelElement,u,-l.angle||0)),this.updateDOMSubtreeAttributes(a.portElement.node,o.portAttrs,{rootBBox:new Ot(o.portSize),selectors:a.portSelectors}),this.applyPortTransform(a.portElement,l)}},applyPortTransform:function(e,t,r){var n=at.createSVGMatrix().rotate(r||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(n,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},lo=Qa.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Qa.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,r){const n=wo(t);r=(n?r:e)||{};const{parentRelative:i,deep:o,restrictedArea:s}=r;let a;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");const l=this.getParentCell();l&&!l.isLink()&&(a=l.get("position"))}if(n){if(a&&(e+=a.x,t+=a.y),o||s){const{x:l,y:u}=this.get("position");this.translate(e-l,t-u,r)}else this.set("position",{x:e,y:t},r);return this}else{const l=ze(this.get("position"));return i?l.difference(a):l}},translate:function(e,t,r){if(e=e||0,t=t||0,e===0&&t===0)return this;r=r||{},r.translateBy=r.translateBy||this.id;var n=this.get("position")||{x:0,y:0},i=r.restrictedArea;if(i&&r.translateBy===this.id)if(typeof i=="function"){var o=i.call(this,n.x+e,n.y+t,r);e=o.x-n.x,t=o.y-n.y}else{var s=this.getBBox({deep:!0}),a=n.x-s.x,l=n.y-s.y,u=Math.max(i.x+a,Math.min(i.x+i.width+a-s.width,n.x+e)),f=Math.max(i.y+l,Math.min(i.y+i.height+l-s.height,n.y+t));e=u-n.x,t=f-n.y}var c={x:n.x+e,y:n.y+t};return r.tx=e,r.ty=t,r.transition?(Wr(r.transition)||(r.transition={}),this.transition("position",c,Jt({},r.transition,{valueFunction:hH.object})),za(this.getEmbeddedCells(),"translate",e,t,r)):(this.startBatch("translate",r),this.set("position",c,r),za(this.getEmbeddedCells(),"translate",e,t,r),this.stopBatch("translate",r)),this},size:function(e,t,r){var n=this.get("size");return e===void 0?{width:n.width,height:n.height}:(Wr(e)&&(r=t,t=wo(e.height)?e.height:n.height,e=wo(e.width)?e.width:n.width),this.resize(e,t,r))},resize:function(e,t,r){if(r=r||{},this.startBatch("resize",r),r.direction){var n=this.get("size");switch(r.direction){case"left":case"right":t=n.height;break;case"top":case"bottom":e=n.width;break}var i=fa(this.get("angle")||0),o=this.getBBox(),s;if(i){var a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[r.direction];r.absolute&&(a+=Math.floor((i+45)/90),a%=4);var l=o[["bottomLeft","corner","topRight","origin"][a]](),u=ze(l).rotate(o.center(),-i),f=Math.sqrt(e*e+t*t)/2,c=a*Math.PI/2;c+=Math.atan(a%2==0?t/e:e/t),c-=xo(i);var p=ze.fromPolar(f,c,u);s=ze(p).offset(e/-2,t/-2)}else switch(s=o.topLeft(),r.direction){case"top":case"top-right":s.offset(0,o.height-t);break;case"left":case"bottom-left":s.offset(o.width-e,0);break;case"top-left":s.offset(o.width-e,o.height-t);break}this.set("size",{width:e,height:t},r),this.position(s.x,s.y,r)}else this.set("size",{width:e,height:t},r);return this.stopBatch("resize",r),this},scale:function(e,t,r,n){var i=this.getBBox().scale(e,t,r);return this.startBatch("scale",n),this.position(i.x,i.y,n),this.resize(i.width,i.height,n),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");const r=this.getEmbeddedCells().filter(n=>n.isElement());return r.length===0?this:(this.startBatch("fit-embeds",e),e.deep&&za(r,"fitToChildren",e),this._fitToElements(Object.assign({elements:r},e)),this.stopBatch("fit-embeds"),this)},fitParent:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;const r=this.getParentCell();if(!r||!r.isElement())return this;const n=r.getEmbeddedCells().filter(i=>i.isElement());return n.length===0?this:(this.startBatch("fit-parent",e),r._fitToElements(Object.assign({elements:n},e)),e.deep&&r.fitParent(e),this.stopBatch("fit-parent"),this)},_fitToElements:function(e={}){const t=this.graph.getCellsBBox(e.elements);if(!t)return;const{expandOnly:r,shrinkOnly:n}=e;if(r&&n)return;let{x:i,y:o,width:s,height:a}=t;const{left:l,right:u,top:f,bottom:c}=Nf(e.padding);i-=l,o-=f,s+=l+u,a+=c+f;let p=new Ot(i,o,s,a);if(r)p=this.getBBox().union(p);else if(n){const m=this.getBBox().intersect(p);if(!m)return;p=m}this.set({position:{x:p.x,y:p.y},size:{width:p.width,height:p.height}},e)},rotate:function(e,t,r,n){if(r){var i=this.getBBox().center(),o=this.get("size"),s=this.get("position");i.rotate(r,this.get("angle")-e);var a=i.x-o.width/2-s.x,l=i.y-o.height/2-s.y;this.startBatch("rotate",{angle:e,absolute:t,origin:r}),this.position(s.x+a,s.y+l,n),this.rotate(e,t,null,n),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,n);return this},angle:function(){return fa(this.get("angle")||0)},getBBox:function(e={}){const{graph:t,attributes:r}=this,{deep:n,rotate:i}=e;if(n&&t){const c=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return c.push(this),t.getCellsBBox(c,e)}const{angle:o=0,position:{x:s,y:a},size:{width:l,height:u}}=r,f=new Ot(s,a,l,u);return i&&f.rotateAroundCenter(o),f},getPointFromConnectedLink:function(e,t){var r=this.getBBox(),n=r.center(),i=e.get(t);if(!i)return n;var o=i.port;if(!o||!this.hasPort(o))return n;var s=this.portProp(o,["group"]),a=this.getPortsPositions(s),l=new ze(a[o]).offset(r.origin()),u=this.angle();return u&&l.rotate(n,-u),l}});Jt(lo.prototype,ple);const gle=Li.Collection.extend({initialize:function(e,t){t.cellNamespace?this.cellNamespace=t.cellNamespace:this.cellNamespace=typeof joint<"u"&&Iu(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var r=t.collection,n=r.cellNamespace,i=e.type==="link"?Gh:eg(n,e.type,".")||lo,o=new i(e,t);return t.dry||(o.graph=r.graph),o},comparator:function(e){return e.get("z")||0}}),II=Li.Model.extend({initialize:function(e,t){t=t||{};var r=new gle([],{model:t.cellModel,cellNamespace:t.cellNamespace,graph:this});Li.Model.prototype.set.call(this,"cells",r),r.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},r.on("add",this._restructureOnAdd,this),r.on("remove",this._restructureOnRemove,this),r.on("reset",this._restructureOnReset,this),r.on("change:source",this._restructureOnChangeSource,this),r.on("change:target",this._restructureOnChangeTarget,this),r.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:r}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:r}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],r.id&&this._in[r.id]&&this._in[r.id][e.id]&&delete this._in[r.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var r=e.attributes.source;r.id&&((this._out[r.id]||(this._out[r.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var r=e.get("target");r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=Li.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,r){var n;return typeof e=="object"?(n=e,r=t):(n={})[e]=t,n.hasOwnProperty("cells")&&(this.resetCells(n.cells,r),n=Zm(n,"cells")),Li.Model.prototype.set.call(this,n,r)},clear:function(e){e=Jt({},e,{clear:!0});var t=this.get("cells");if(t.length===0)return this;this.startBatch("clear",e);var r=t.sortBy(function(n){return n.isLink()?1:2});do r.shift().remove(e);while(r.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var r;if(e instanceof Li.Model?(r=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):r=e,!Ui(r.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof Li.Model?e.has("z")||e.set("z",this.maxZIndex()+1):e.z===void 0&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return e.length===0?this:(e=Aae(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(r){this.addCell(r,t),t.position--},this),this.stopBatch("add",t),this)},resetCells:function(e,t){var r=Tr(e).map(function(n){return this._prepareCell(n,t)},this);return this.get("cells").reset(r,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),za(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,r){r=r||{},r.clear||(r.disconnectLinks?this.disconnectLinks(e,r):this.removeLinks(e,r)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(e=>e.isElement())},getLinks:function(){return this.get("cells").filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){t=t||{};var r=t.indirect,n=t.inbound,i=t.outbound;n===void 0&&i===void 0&&(n=i=!0);var o=[],s={};i&&a(this,e),n&&l(this,e);function a(c,p){if(ws(c.getOutboundEdges(p.id),(function(g,_){if(!s[_]){var v=c.getCell(_);o.push(v),s[_]=!0,r&&(n&&l(c,v),i&&a(c,v))}}).bind(c)),r&&p.isLink()){var m=p.getTargetCell();m&&m.isLink()&&(s[m.id]||(o.push(m),a(c,m)))}}function l(c,p){if(ws(c.getInboundEdges(p.id),(function(g,_){if(!s[_]){var v=c.getCell(_);o.push(v),s[_]=!0,r&&(n&&l(c,v),i&&a(c,v))}}).bind(c)),r&&p.isLink()){var m=p.getSourceCell();m&&m.isLink()&&(s[m.id]||(o.push(m),l(c,m)))}}if(t.deep){var u=e.getEmbeddedCells({deep:!0}),f={};u.forEach(function(c){c.isElement()&&(f[c.id]=!0)}),u.forEach(function(c){c.isLink()||(i&&ws(this.getOutboundEdges(c.id),(function(p,m){if(!s[m]){var g=this.getCell(m),{source:_,target:v}=g.attributes,h=_.id,E=v.id;if(!t.includeEnclosed&&h&&f[h]&&E&&f[E])return;o.push(this.getCell(m)),s[m]=!0}}).bind(this)),n&&ws(this.getInboundEdges(c.id),(function(p,m){if(!s[m]){var g=this.getCell(m),{source:_,target:v}=g.attributes,h=_.id,E=v.id;if(!t.includeEnclosed&&h&&f[h]&&E&&f[E])return;o.push(this.getCell(m)),s[m]=!0}}).bind(this)))},this)}return o},getNeighbors:function(e,t){t||(t={});var r=t.inbound,n=t.outbound;r===void 0&&n===void 0&&(r=n=!0);var i=this.getConnectedLinks(e,t).reduce((function(a,l){var{source:u,target:f}=l.attributes,c=l.hasLoop(t);if(r&&Iu(u,"id")&&!a[u.id]){var p=this.getCell(u.id);p.isElement()&&(c||p&&p!==e&&(!t.deep||!p.isEmbeddedIn(e)))&&(a[u.id]=p)}if(n&&Iu(f,"id")&&!a[f.id]){var m=this.getCell(f.id);m.isElement()&&(c||m&&m!==e&&(!t.deep||!m.isEmbeddedIn(e)))&&(a[f.id]=m)}return a}).bind(this),{});if(e.isLink()){if(r){var o=e.getSourceCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}if(n){var s=e.getTargetCell();s&&s.isElement()&&!i[s.id]&&(i[s.id]=s)}}return Tr(i)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(r){for(var n=[],i=r.get("parent");i;)n.push(i),i=this.getCell(i).get("parent");return n},this);e=e.sort(function(r,n){return r.length-n.length});var t=Tr(e.shift()).find(function(r){return e.every(function(n){return n.includes(r)})});return this.getCell(t)},getSuccessors:function(e,t){t=t||{};var r=[];return this.search(e,function(n){n!==e&&r.push(n)},Jt({},t,{outbound:!0})),r},cloneCells:pH,cloneSubgraph:function(e,t){var r=this.getSubgraph(e,t);return this.cloneCells(r)},getSubgraph:function(e,t){t=t||{};var r=[],n={},i=[],o=[];return Tr(e).forEach(function(s){if(n[s.id]||(r.push(s),n[s.id]=s,s.isLink()?o.push(s):i.push(s)),t.deep){var a=s.getEmbeddedCells({deep:!0});a.forEach(function(l){n[l.id]||(r.push(l),n[l.id]=l,l.isLink()?o.push(l):i.push(l))})}}),o.forEach(function(s){var{source:a,target:l}=s.attributes;if(a.id&&!n[a.id]){var u=this.getCell(a.id);r.push(u),n[u.id]=u,i.push(u)}if(l.id&&!n[l.id]){var f=this.getCell(l.id);r.push(this.getCell(l.id)),n[f.id]=f,i.push(f)}},this),i.forEach(function(s){var a=this.getConnectedLinks(s,t);a.forEach(function(l){var{source:u,target:f}=l.attributes;!n[l.id]&&u.id&&n[u.id]&&f.id&&n[f.id]&&(r.push(l),n[l.id]=l)})},this),r},getPredecessors:function(e,t){t=t||{};var r=[];return this.search(e,function(n){n!==e&&r.push(n)},Jt({},t,{inbound:!0})),r},search:function(e,t,r){r=r||{},r.breadthFirst?this.bfs(e,t,r):this.dfs(e,t,r)},bfs:function(e,t,r={}){const n={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){var s=o.shift();if(n[s.id]||(n[s.id]=!0,t.call(this,s,i[s.id])===!1))continue;const a=this.getNeighbors(s,r);for(let l=0,u=a.length;l<u;l++){const f=a[l];i[f.id]=i[s.id]+1,o.push(f)}}},dfs:function(e,t,r={}){const n={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){const s=o.pop();if(n[s.id]||(n[s.id]=!0,t.call(this,s,i[s.id])===!1))continue;const a=this.getNeighbors(s,r),l=o.length;for(let u=0,f=a.length;u<f;u++){const c=a[u];i[c.id]=i[s.id]+1,o.splice(l,0,c)}}},getSources:function(){var e=[];return ws(this._nodes,(function(t,r){(!this._in[r]||Pl(this._in[r]))&&e.push(this.getCell(r))}).bind(this)),e},getSinks:function(){var e=[];return ws(this._nodes,(function(t,r){(!this._out[r]||Pl(this._out[r]))&&e.push(this.getCell(r))}).bind(this)),e},isSource:function(e){return!this._in[e.id]||Pl(this._in[e.id])},isSink:function(e){return!this._out[e.id]||Pl(this._out[e.id])},isSuccessor:function(e,t){var r=!1;return this.search(e,function(n){if(n===t&&n!==e)return r=!0,!1},{outbound:!0}),r},isPredecessor:function(e,t){var r=!1;return this.search(e,function(n){if(n===t&&n!==e)return r=!0,!1},{inbound:!0}),r},isNeighbor:function(e,t,r){r=r||{};var n=r.inbound,i=r.outbound;n===void 0&&i===void 0&&(n=i=!0);var o=!1;return this.getConnectedLinks(e,r).forEach(function(s){var{source:a,target:l}=s.attributes;if(n&&Iu(a,"id")&&a.id===t.id||i&&Iu(l,"id")&&l.id===t.id)return o=!0,!1}),o},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(r){r.set(r.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){za(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(t=>t.getBBox({rotate:!0}).containsPoint(e))},findModelsInArea:function(e,t={}){const r=new Ot(e),{strict:n=!1}=t,i=n?"containsRect":"intersect";return this.getElements().filter(o=>r[i](o.getBBox({rotate:!0})))},findModelsUnderElement:function(e,t={}){const{searchBy:r="bbox"}=t,n=e.getBBox().rotateAroundCenter(e.angle());return(r==="bbox"?this.findModelsInArea(n):this.findModelsFromPoint(vH(n,r))).filter(o=>e.id!==o.id&&!o.isEmbeddedIn(e))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t={}){const{rotate:r=!0}=t;return Tr(e).reduce(function(n,i){const o=i.getBBox({rotate:r});return o?n?n.union(o):o:n},null)},translate:function(e,t,r){var n=this.getCells().filter(function(i){return!i.isEmbedded()});return za(n,"translate",e,t,r),this},resize:function(e,t,r){return this.resizeCells(e,t,this.getCells(),r)},resizeCells:function(e,t,r,n){var i=this.getCellsBBox(r);if(i){var o=Math.max(e/i.width,0),s=Math.max(t/i.height,0);za(r,"scale",o,s,i.origin(),n)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",Jt({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",Jt({},t,{batchName:e}))},hasActiveBatch:function(e){const t=this._batches;let r;return arguments.length===0?r=Object.keys(t):Array.isArray(e)?r=e:r=[e],r.some(n=>t[n]>0)}},{validations:{multiLinks:function(e,t){var{source:r,target:n}=t.attributes;if(r.id&&n.id){var i=t.getSourceCell();if(i){var o=e.getConnectedLinks(i,{outbound:!0}),s=o.filter(function(a){var{source:l,target:u}=a.attributes;return l&&l.id===r.id&&(!l.port||l.port===r.port)&&u&&u.id===n.id&&(!u.port||u.port===n.port)});if(s.length>1)return!1}}return!0},linkPinning:function(e,t){var{source:r,target:n}=t.attributes;return r.id&&n.id}}});Hae(II.prototype,["resetCells","addCells","removeCells"],PO.cells);const Gc={},Wu=Li.View.extend({options:{},theme:null,themeClassNamePrefix:ra("theme-"),requireSetThemeOverride:!1,defaultTheme:Hu.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=Jt({},this.options,e),Li.View.call(this,e)},initialize:function(){Gc[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(e){if(e||(e=qn(this,"children")),e){var t=this.svgElement,r=at.namespace[t?"svg":"xhtml"],n=n_(e,r);(t?this.vel:this.$el).empty().append(n.fragment),this.childNodes=n.selectors}return this},findAttribute:function(e,t){for(var r=t;r&&r.nodeType===1;){var n=r.getAttribute(e);if(n)return n;if(r===this.el)return null;r=r.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(qn(this,"el"));else{var e=qn(this,"tagName"),t=Jt({},qn(this,"attributes")),r=Jt({},qn(this,"style"));this.id&&(t.id=qn(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(r)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(at.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof Li.$?e:Li.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=at(this.el))},_ensureElClassName:function(){var e=qn(this,"className");if(e){var t=ra(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override?this:(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e,this)},addThemeClassName:function(e){if(e=e||this.theme,!e)return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){e=e||this.theme;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Gc[this.cid]=null,Li.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,r){if(!t)return this;r||(r={});var n=this.getEventNamespace();for(var i in t){var o=t[i];typeof o!="function"&&(o=this[o]),o&&Lr(e).on(i+n,r,o.bind(this))}return this},undelegateElementEvents:function(e){return Lr(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=qn(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var r=e.data,n="__"+this.cid+"__";return t===void 0?r?r[n]||{}:{}:(r||(r=e.data={}),r[n]||(r[n]={}),Jt(r[n],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&Jt({},e[0])||{},r=e[1]&&Jt({},e[1])||{},n=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return typeof n=="function"&&n.apply(this,arguments),this.render.__render__===n&&this.onRender(),this},t.render.__render__=n,Li.View.extend.call(this,t,r)}}),PM="dbltap";if(Lr.event&&!(PM in Lr.event.special)){const e=Hu.doubleTapInterval,t=30;Lr.event.special[PM]={bindType:"touchend",delegateType:"touchend",handle:function(r,...n){const{handleObj:i,target:o}=r,s=Lr.data(o),a=new Date().getTime(),l="lastTouch"in s?a-s.lastTouch:0;l<e&&l>t?(s.lastTouch=null,r.type=i.origType,i.handler.call(this,r,...n)):s.lastTouch=a}}}const bs={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},vle=Wu.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return ra(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){const{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){const{el:t,pivotNodes:r}=this;e=+e,e||(e=0);let n=r[e];if(n)return n;n=r[e]=document.createComment("z-index:"+(e+1));let i=-1/0;for(let o in r)o=+o,o<e&&o>i&&(i=o,e-1);if(i!==-1/0){const o=r[i];t.insertBefore(n,o.nextSibling)}else t.insertBefore(n,t.firstChild);return n},removePivots:function(){const{el:e,pivotNodes:t}=this;for(let r in t)e.removeChild(t[r]);this.pivotNodes={}}});function wp(e){return e?Array.isArray(e)?e:[e]:[]}const na=Wu.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){const{paper:r}=e;this.cellView=e,this.nodeSelector=t,r&&(this.updateRequested=!0,r.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(e,t=null){let r;if(typeof t=="string")[r]=e.findBySelector(t);else if(zn(t)){const n=e.model.isLink(),{label:i=null,port:o,selector:s}=t;n&&i!==null?r=e.findLabelNode(i,s):!n&&o?r=e.findPortNode(o,s):[r]=e.findBySelector(s)}else t&&(r=at.toNode(t),r instanceof SVGElement||(r=null));return r||null},getNodeMatrix(e,t){const{options:r}=this,{layer:n}=r,{rotatableNode:i}=e,o=e.getNodeMatrix(t);return i?n?i.contains(t)?o:e.getRootRotateMatrix().inverse().multiply(o):e.getNodeRotateMatrix(t).multiply(o):o},mount(){const{MOUNTABLE:e,cellView:t,el:r,options:n,transformGroup:i,detachedTransformGroup:o,postponedUpdate:s,nodeSelector:a}=this;if(!e||i)return;if(s){this.update(t,a),this.transform();return}const{vel:l,paper:u}=t,{layer:f}=n;if(f){let c;o?(c=o,this.detachedTransformGroup=null):c=at("g").addClass("highlight-transform").append(r),this.transformGroup=c,u.getLayerView(f).insertSortedNode(c.node,n.z)}else(!r.parentNode||r.nextSibling)&&l.append(r)},unmount(){const{MOUNTABLE:e,transformGroup:t,vel:r}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):r.remove())},transform(){const{transformGroup:e,cellView:t,updateRequested:r}=this;if(!e||t.model.isLink()||r)return;const n=t.getRootTranslateMatrix(),i=t.getRootRotateMatrix(),o=n.multiply(i);e.attr("transform",at.matrixToTransformString(o))},update(){const{node:e,cellView:t,nodeSelector:r,updateRequested:n,id:i}=this;if(n)return;this.postponedUpdate=!1;const o=this.node=this.findNode(t,r);e&&this.unhighlight(t,e),o?(this.highlight(t,o),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",i,this))},onRemove(){const{node:e,cellView:t,id:r,constructor:n}=this;e&&this.unhighlight(t,e),this.unmount(),n._removeRef(t,r)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){const t=qn(this,"UPDATE_ATTRIBUTES");!Array.isArray(t)||t.length===0||this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:e}=this;if(!e)return;const{model:t,paper:r}=e;qn(this,"UPDATE_ATTRIBUTES").some(i=>t.hasChanged(i))&&r.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,r){const n=this.uniqueId(t,r);this.add(e,t,n,r)},unhighlight:function(e,t,r){const n=this.uniqueId(t,r);this.remove(e,n)},get(e,t=null){const{cid:r}=e,{_views:n}=this,i=n[r];if(t===null){const o=[];if(!i)return o;for(let s in i){const a=i[s];a instanceof this&&o.push(a)}return o}else{if(!i)return null;if(t in i){const o=i[t];if(o instanceof this)return o}return null}},add(e,t,r,n={}){if(!r)throw new Error("dia.HighlighterView: An ID required.");const i=na.get(e,r);i&&i.remove();const o=new this(n);return o.id=r,this._addRef(e,r,o),o.requestUpdate(e,t),o.listenToUpdateAttributes(e),o},_addRef(e,t,r){const{cid:n}=e,{_views:i}=this;let o=i[n];o||(o=i[n]={}),o[t]=r},_removeRef(e,t){const{cid:r}=e,{_views:n}=this,i=n[r];if(i){t&&delete i[t];for(let o in i)return;delete n[r]}},remove(e,t=null){wp(this.get(e,t)).forEach(r=>{r.remove()})},removeAll(e,t=null){const{_views:r}=this;for(let n in r)for(let i in r[n]){const o=r[n][i];o.cellView.paper===e&&o instanceof this&&(t===null||i===t)&&o.remove()}},update(e,t=null,r=!1){wp(this.get(e,t)).forEach(n=>{(r||n.UPDATABLE)&&n.update()})},transform(e,t=null){wp(this.get(e,t)).forEach(r=>{r.UPDATABLE&&r.transform()})},unmount(e,t=null){wp(this.get(e,t)).forEach(r=>r.unmount())},mount(e,t=null){wp(this.get(e,t)).forEach(r=>r.mount())},uniqueId(e,t=""){return at.ensureId(e)+JSON.stringify(t)}}),md={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},yle={TOOLS:"TOOLS"},dr=Wu.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(r,n,i){e.push("type-"+i.slice(0,n+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var e={},t={},r=0,n,i,o,s=qn(this,"presentationAttributes");for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];for(Array.isArray(l)||(l=[l]),n=0,i=l.length;n<i;n++){o=l[n];var u=e[o];u||(u=e[o]=1<<r++),t[a]|=u}}var f=qn(this,"initFlag");for(Array.isArray(f)||(f=[f]),n=0,i=f.length;n<i;n++)o=f[n],e[o]||(e[o]=1<<r++);if(r>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var r=0;if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)r|=t[e[n]];else r|=t[e];return r},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||Kd(this),Wu.call(this,e)},initialize:function(){this.setFlags(),Wu.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var r=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!r||(t.dirty&&this.hasFlag(r,"UPDATE")&&(r|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(r,t))},requestUpdate:function(e,t){const{paper:r}=this;r&&e>0&&r.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var r=n_(e),n=r.selectors,i=r.groupSelectors;for(var o in i){if(n[o])throw new Error("dia.CellView: ambiguous group selector");n[o]=i[o]}if(t){var s=this.selector;if(n[s])throw new Error("dia.CellView: ambiguous root selector.");n[s]=t}return{fragment:r.fragment,selectors:n}},can:function(e){var t=dn(this.options.interactive)?this.options.interactive(this):this.options.interactive;return Wr(t)&&t[e]!==!1||bae(t)&&t!==!1},findBySelector:function(e,t,r){if(t||(t=this.el),r||(r=this.selectors),!e||e===".")return[t];if(r){var n=r[e];if(n)return Array.isArray(n)?n:[n]}return Lr(t).find(e).toArray()},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var r=this.model;t=r.getBBox().bbox(r.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){const t=this.getNodeBoundingRect(e),r=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),n=this.getNodeMatrix(e);return at.transformRect(t,r.multiply(n))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():at.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),r=this.getNodeMatrix(e),n=this.getRootTranslateMatrix();return at.transformRect(t,n.multiply(r))},getRootTranslateMatrix:function(){var e=this.model,t=e.position(),r=at.createSVGMatrix().translate(t.x,t.y);return r},getRootRotateMatrix:function(){var e=at.createSVGMatrix(),t=this.model,r=t.angle();if(r){var n=t.getBBox(),i=n.width/2,o=n.height/2;e=e.translate(i,o).rotate(r).translate(-i,-o)}return e},_notifyHighlight:function(e,t,r={}){const{el:n}=this;let i;if(typeof t=="string"?[i=n]=this.findBySelector(t):[i=n]=this.$(t),r.partial=i!==n,r.type===void 0){let o;switch(!0){case r.embedding:o=md.EMBEDDING;break;case r.connecting:o=md.CONNECTING;break;case r.magnetAvailability:o=md.MAGNET_AVAILABILITY;break;case r.elementAvailability:o=md.ELEMENT_AVAILABILITY;break;default:o=md.DEFAULT;break}r.type=o}return this.notify(e,i,r),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){const t=this.el;let r=this.$(e)[0];r||(r=t);do{const n=r.getAttribute("magnet"),i=r===t;if((n||i)&&n!=="false")return r;if(i)return;r=r.parentNode}while(r)},findProxyNode:function(e,t){e||(e=this.el);const r=e.getAttribute(`${t}-selector`);if(r){const[n]=this.findBySelector(r);if(n)return n}return e},getSelector:function(e,t){var r;if(e===this.el)return typeof t=="string"&&(r="> "+t),r;if(e){var n=at(e).index()+1;r=e.tagName+":nth-child("+n+")",t&&(r+=" > "+t),r=this.getSelector(e.parentNode,r)}return r},addLinkFromMagnet:function(e,t,r){var n=this.paper,i=n.model,o=n.getDefaultLink(this,e);return o.set({source:this.getLinkEnd(e,t,r,o,"source"),target:{x:t,y:r}}).addTo(i,{async:!1,ui:!0}),o.findView(n)},getLinkEnd:function(e,...t){var r=this.model,n=r.id,i=this.findAttribute("port",e),o=e.getAttribute("joint-selector"),s={id:n};return o!=null&&(s.magnet=o),i!=null?(s.port=i,!r.hasPort(i)&&!o&&(s.selector=this.getSelector(e))):o==null&&this.el!==e&&(s.selector=this.getSelector(e)),this.customizeLinkEnd(s,e,...t)},customizeLinkEnd:function(e,t,r,n,i,o){const{paper:s}=this,{connectionStrategy:a}=s.options;if(typeof a=="function"){var l=a.call(s,e,this,t,new ze(r,n),i,o,s);if(l)return l}return e},getMagnetFromLinkEnd:function(e){var t=this.el,r=e.port,n=e.magnet,i=this.model,o;return r!=null&&i.isElement()&&i.hasPort(r)?o=this.findPortNode(r,n)||t:(n||(n=e.selector),!n&&r!=null&&(n='[port="'+r+'"]'),o=this.findBySelector(n,t,this.selectors)[0]),this.findProxyNode(o,"magnet")},dragLinkStart:function(e,t,r,n){this.model.startBatch("add-link");const i=this.addLinkFromMagnet(t,r,n);i.notifyPointerdown(e,r,n),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},dragLink:function(e,t,r){var n=this.eventData(e),i=n.linkView;if(i)i.pointermove(e,t,r);else{var o=this.paper,s=o.options.magnetThreshold,a=this.getEventTarget(e),l=n.targetMagnet;if(s==="onleave"){if(l===a||at(l).contains(a))return}else if(o.eventData(e).mousemoved<=s)return;this.dragLinkStart(e,l,t,r)}},dragLinkEnd:function(e,t,r){var n=this.eventData(e),i=n.linkView;i&&(i.pointerup(e,t,r),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){Pl(t)||(e instanceof SVGElement?at(e).attr(t):Lr(e).attr(t))},processNodeAttributes:function(e,t){var r,n,i,o,s,a,l,u,f,c=[];for(r in t)t.hasOwnProperty(r)&&(n=t[r],i=this.getAttributeDefinition(r),i&&(!dn(i.qualify)||i.qualify.call(this,n,e,t,this))?(Ui(i.set)&&(a||(a={}),a[i.set]=n),n!==null&&c.push(r,i)):(a||(a={}),a[kae(r)]=n));for(o=0,s=c.length;o<s;o+=2)r=c[o],i=c[o+1],n=t[r],dn(i.set)&&(l||(l={}),l[r]=n),dn(i.position)&&(u||(u={}),u[r]=n),dn(i.offset)&&(f||(f={}),f[r]=n);return{raw:t,normal:a,set:l,position:u,offset:f}},updateRelativeAttributes:function(e,t,r,n){n||(n={});var i,o,s,a=t.raw||{},l=t.normal||{},u=t.set,f=t.position,c=t.offset;for(i in u){o=u[i],s=this.getAttributeDefinition(i);var p=s.set.call(this,o,r.clone(),e,a,this);Wr(p)?Jt(l,p):p!==void 0&&(l[i]=p)}if(e instanceof HTMLElement){this.setNodeAttributes(e,l);return}var m=l.transform,g=at.transformStringToMatrix(m),_=ze(g.e,g.f);m&&(l=Zm(l,"transform"),g.e=g.f=0);var v,h,E;if(f||c){var y=this.getNodeScale(e,n.scalableNode);v=y.sx,h=y.sy}var S=!1;for(i in f)o=f[i],s=this.getAttributeDefinition(i),E=s.position.call(this,o,r.clone(),e,a,this),E&&(_.offset(ze(E).scale(v,h)),S||(S=!0));this.setNodeAttributes(e,l);var $=!1;if(c){var T=this.getNodeBoundingRect(e);if(T.width>0&&T.height>0){var d=at.transformRect(T,g).scale(1/v,1/h);for(i in c)o=c[i],s=this.getAttributeDefinition(i),E=s.offset.call(this,o,d,e,a,this),E&&(_.offset(ze(E).scale(v,h)),$||($=!0))}}(m!==void 0||S||$)&&(_.round(1),g.e=_.x,g.f=_.y,e.setAttribute("transform",at.matrixToTransformString(g)))},getNodeScale:function(e,t){var r,n;if(t&&t.contains(e)){var i=t.scale();r=1/i.sx,n=1/i.sy}else r=1,n=1;return{sx:r,sy:n}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var r=at.ensureId(e),n=t[r];return n||(n=t[r]={}),n},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return t.boundingRect===void 0&&(t.boundingRect=at(e).getBBox()),new Ot(t.boundingRect)},getNodeMatrix:function(e){const t=this.nodeCache(e);if(t.magnetMatrix===void 0){const{rotatableNode:r,el:n}=this;let i;r&&r.contains(e)?i=r:i=n,t.magnetMatrix=at(e).getTransformToElement(i)}return at.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return t.geometryShape===void 0&&(t.geometryShape=at(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,r,n){var i,o,s,a,l={},u=[];for(var f in e)if(e.hasOwnProperty(f)&&(s=e[f],!!zn(s))){var c=r[f]=this.findBySelector(f,t,n);for(i=0,o=c.length;i<o;i++){var p=c[i];a=at.ensureId(p);var m=n&&n[f]===p,g=l[a];if(g){g.array||(u.push(a),g.array=!0,g.attributes=[g.attributes],g.selectedLength=[g.selectedLength]);var _=g.attributes,v=g.selectedLength;if(m)_.unshift(s),v.unshift(-1);else{var h=fH(v,o);_.splice(h,0,s),v.splice(h,0,o)}}else l[a]={attributes:s,selectedLength:m?-1:o,node:p,array:!1}}}for(i=0,o=u.length;i<o;i++)a=u[i],s=l[a],s.attributes=ri({},...s.attributes.reverse());return l},getEventTarget:function(e,t={}){const{target:r,type:n,clientX:i=0,clientY:o=0}=e;return t.fromPoint||n==="touchmove"||n==="touchend"||"pointerId"in e&&r.hasPointerCapture(e.pointerId)?document.elementFromPoint(i,o):r},updateDOMSubtreeAttributes:function(e,t,r){r||(r={}),r.rootBBox||(r.rootBBox=Ot()),r.selectors||(r.selectors=this.selectors);var n={},i={},o=[],s=[],a,l,u,f,c,p=r.roAttributes,m=this.findNodesAttributes(p||t,e,n,r.selectors),g=p?this.findNodesAttributes(t,e,n,r.selectors):m;for(var _ in m)if(f=m[_],u=f.attributes,l=f.node,c=this.processNodeAttributes(l,u),!c.set&&!c.position&&!c.offset)this.setNodeAttributes(l,c.normal);else{var v=g[_]&&g[_].attributes,h=v&&u.ref===void 0?v.ref:u.ref,E;if(h){if(E=(n[h]||this.findBySelector(h,e,r.selectors))[0],!E)throw new Error('dia.CellView: "'+h+'" reference does not exist.')}else E=null;if(a={node:l,refNode:E,processedAttributes:c,allAttributes:v},E){var y=s.findIndex(function(S){return S.refNode===l});y>-1?s.splice(y,0,a):s.push(a)}else o.push(a)}o.push(...s);for(let S=0,$=o.length;S<$;S++){a=o[S],l=a.node,E=a.refNode;const T=E?at.ensureId(E):"";let d=i[T];d||(d=i[T]=E?at(E).getBBox({target:wle(l,E)}):r.rootBBox),p?(c=this.processNodeAttributes(l,a.allAttributes),this.mergeProcessedAttributes(c,a.processedAttributes)):c=a.processedAttributes,this.updateRelativeAttributes(l,c,d,r)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),Jt(e.set,t.set),Jt(e.position,t.position),Jt(e.offset,t.offset);var r=e.normal&&e.normal.transform;r!==void 0&&t.normal&&(t.normal.transform=r),e.normal=t.normal},onMount(e){e||(this.mountTools(),na.mount(this))},onDetach(){this.unmountTools(),na.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return t?e?t.getName()===e:!0:!1},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const e=this._toolsView;return e&&e.unmount(),this},mountTools(){const e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){na.remove(this)},updateHighlighters:function(e=!1){na.update(this,null,e)},transformHighlighters:function(){na.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){const{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,r){this.notify("cell:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){this.notify("cell:pointerclick",e,t,r)},contextmenu:function(e,t,r){this.notify("cell:contextmenu",e,t,r)},pointerdown:function(e,t,r){const{model:n}=this,{graph:i}=n;i&&(n.startBatch("pointer"),this.eventData(e,{graph:i})),this.notify("cell:pointerdown",e,t,r)},pointermove:function(e,t,r){this.notify("cell:pointermove",e,t,r)},pointerup:function(e,t,r){const{graph:n}=this.eventData(e);this.notify("cell:pointerup",e,t,r),n&&n.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,r,n){this.notify("cell:mousewheel",e,t,r,n)},onevent:function(e,t,r,n){this.notify(t,e,r,n)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){const{paper:t,model:r}=this;if(t.isAsync()){if(r.isLink()){const o=r.getSourceElement();if(o){const a=t.findViewByModel(o);a&&(t.dumpView(a),t.checkViewVisibility(a))}const s=r.getTargetElement();if(s){const a=t.findViewByModel(s);a&&(t.dumpView(a),t.checkViewVisibility(a))}}t.dumpView(this),t.checkViewVisibility(this)}const n=this.getEventTarget(e,{fromPoint:!0}),i=t.findView(n);i!==this&&(this.mouseleave(e),i&&i.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Flags:yle,Highlighting:md,addPresentationAttributes:function(e){return ri({},qn(this.prototype,"presentationAttributes"),e,function(t,r){if(!(!t||!r)&&(typeof t=="string"&&(t=[t]),typeof r=="string"&&(r=[r]),Array.isArray(t)&&Array.isArray(r)))return Lg(t.concat(r))})}});function wle(e,t){let r=e;do{if(r.contains(t))return r;r=r.parentNode}while(r);return null}const $r={TOOLS:dr.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},gd={MOVE:"move",MAGNET:"magnet"},Dw=dr.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=dr.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){dr.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[$r.UPDATE],position:[$r.TRANSLATE,$r.TOOLS],size:[$r.RESIZE,$r.PORTS,$r.TOOLS],angle:[$r.ROTATE,$r.TOOLS],markup:[$r.RENDER],ports:[$r.PORTS]},initFlag:[$r.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){this.hasFlag(e,$r.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,$r.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[$r.RENDER,$r.UPDATE,$r.RESIZE,$r.TRANSLATE,$r.ROTATE,$r.PORTS,$r.TOOLS]);else{let n=!1;this.hasFlag(e,$r.RESIZE)&&(this.resize(t),n=!0,e=this.removeFlag(e,[$r.RESIZE,$r.UPDATE]),e=this.removeFlag(e,$r.PORTS)),this.hasFlag(e,$r.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,$r.UPDATE),n=!0,e=this.removeFlag(e,$r.PORTS)),this.hasFlag(e,$r.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,$r.TRANSLATE),r=!0),this.hasFlag(e,$r.ROTATE)&&(this.rotate(),e=this.removeFlag(e,$r.ROTATE),r=!0),this.hasFlag(e,$r.PORTS)&&(this._renderPorts(),n=!0,e=this.removeFlag(e,$r.PORTS)),n&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,$r.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,$r.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache(),this._removePorts();var r=this.model,n=r.attr();this.updateDOMSubtreeAttributes(this.el,n,{rootBBox:new Ot(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===n?null:t}),this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),r=this.selectors=t.selectors;this.rotatableNode=at(r[this.rotatableSelector])||null,this.scalableNode=at(r[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(at(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable");var r=this.selectors={};r[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var r=e.size;return"rotate("+t+","+r.width/2+","+r.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,r=t.angle(),n=t.size(),i=this.scalableNode,o=!1;i.node.getElementsByTagName("path").length>0&&(o=!0);var s=i.getBBox({recursive:o}),a=n.width/(s.width||1),l=n.height/(s.height||1);i.attr("transform","scale("+a+","+l+")");var u=this.rotatableNode,f=u&&u.attr("transform");if(f){u.attr("transform",f+" rotate("+-r+","+n.width/2+","+n.height/2+")");var c=i.getBBox({target:this.paper.cells});t.set("position",{x:c.x,y:c.y},Jt({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){const t=e.model||this.model,n=(e.paper||this.paper).model,i=e.initialZIndices={},o=t.getEmbeddedCells({deep:!0}),s=n.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...o,...s].forEach(u=>i[u.id]=u.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});const a=n.getElements().reduce((u,f)=>Math.max(u,f.attributes.z||0),0);s.forEach(u=>{u.attributes.z<=a&&u.set("z",a+1,{ui:!0})}),t.stopBatch("to-front");const l=t.parent();l?(n.getCell(l).unembed(t,{ui:!0}),e.initialParentId=l):e.initialParentId=null},processEmbedding:function(e={},t,r,n){const i=e.model||this.model,o=e.paper||this.paper,s=o.model,{findParentBy:a,frontParentOnly:l,validateEmbedding:u}=o.options;let f;dn(a)?f=Tr(a.call(s,this,t,r,n)):a==="pointer"?f=Tr(s.findModelsFromPoint({x:r,y:n})):f=s.findModelsUnderElement(i,{searchBy:a}),f=f.filter(m=>m instanceof Qa&&i.id!==m.id&&!m.isEmbeddedIn(i)),l&&(f=f.slice(-1));let c=null;const p=e.candidateEmbedView;for(let m=f.length-1;m>=0;m--){const g=f[m];if(p&&p.model.id==g.id){c=p;break}else{const _=g.findView(o);if(!dn(u)||u.call(o,this,_)){c=_;break}}}c&&c!=p&&(this.clearEmbedding(e),e.candidateEmbedView=c.highlight(c.findProxyNode(null,"container"),{embedding:!0})),!c&&p&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){const t=e.candidateEmbedView,r=e.model||this.model,n=e.paper||this.paper;if(t)t.model.embed(r,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{const{validateUnembedding:i}=n.options,{initialParentId:o}=e;if(o&&typeof i=="function"&&!i.call(n,this)){this._disallowUnembed(e);return}}n.model.getConnectedLinks(r,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(e){const{model:t,whenNotAllowed:r="revert"}=e,n=t||this.model,o=(e.paper||this.paper).model;switch(r){case"remove":{n.remove({ui:!0});break}case"revert":{const{initialParentId:s,initialPosition:a,initialZIndices:l}=e;if(a){const{x:f,y:c}=a;n.position(f,c,{deep:!0,ui:!0})}l&&Object.keys(l).forEach(f=>{const c=o.getCell(f);c&&c.set("z",l[f],{ui:!0})});const u=o.getCell(s);u&&u.embed(n,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,r=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=r.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);const r=e.getAttribute(`${t}-selector`);if(r){const n=this.findAttribute("port",e);if(n){const i=this.findPortNode(n,r);if(i)return i}else{const[i]=this.findBySelector(r);if(i)return i}}return e},notifyPointerdown(e,t,r){dr.prototype.pointerdown.call(this,e,t,r),this.notify("element:pointerdown",e,t,r)},notifyPointermove(e,t,r){dr.prototype.pointermove.call(this,e,t,r),this.notify("element:pointermove",e,t,r)},notifyPointerup(e,t,r){this.notify("element:pointerup",e,t,r),dr.prototype.pointerup.call(this,e,t,r)},pointerdblclick:function(e,t,r){dr.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){dr.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,r)},contextmenu:function(e,t,r){dr.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragStart(e,t,r)},pointermove:function(e,t,r){const n=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=n;switch(i&&this.magnetpointermove(e,i,t,r),o){case gd.MAGNET:this.dragMagnet(e,t,r);break;case gd.MOVE:(s||this).drag(e,t,r);default:if(n.preventPointerEvents)break;this.notifyPointermove(e,t,r);break}this.eventData(e,n)},pointerup:function(e,t,r){const n=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=n;switch(i&&this.magnetpointerup(e,i,t,r),o){case gd.MAGNET:this.dragMagnetEnd(e,t,r);break;case gd.MOVE:(s||this).dragEnd(e,t,r);default:if(n.preventPointerEvents)break;this.notifyPointerup(e,t,r)}i&&this.magnetpointerclick(e,i,t,r),this.checkMouseleave(e)},mouseover:function(e){dr.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){dr.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){dr.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){dr.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,r,n){dr.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,r,n)},onmagnet:function(e,t,r){const{currentTarget:n}=e;this.magnetpointerdown(e,n,t,r),this.eventData(e,{targetMagnet:n}),this.dragMagnetStart(e,t,r)},magnetpointerdown:function(e,t,r,n){this.notify("element:magnet:pointerdown",e,t,r,n)},magnetpointermove:function(e,t,r,n){this.notify("element:magnet:pointermove",e,t,r,n)},magnetpointerup:function(e,t,r,n){this.notify("element:magnet:pointerup",e,t,r,n)},magnetpointerdblclick:function(e,t,r,n){this.notify("element:magnet:pointerdblclick",e,t,r,n)},magnetcontextmenu:function(e,t,r,n){this.notify("element:magnet:contextmenu",e,t,r,n)},dragStart:function(e,t,r){if(this.isDefaultInteractionPrevented(e))return;var n=this.getDelegatedView();if(!n||!n.can("elementMove"))return;this.eventData(e,{action:gd.MOVE,delegatedView:n});const i=n.model.position();n.eventData(e,{initialPosition:i,pointerOffset:i.difference(t,r),restrictedArea:this.paper.getRestrictedArea(n,t,r)})},dragMagnetStart:function(e,t,r){const{paper:n}=this,i=e.isPropagationStopped();if(i&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:o=e.currentTarget}=this.eventData(e);if(e.stopPropagation(),!n.options.validateMagnet.call(n,this,o,e)){i?this.dragStart(e,t,r):this.pointerdown(e,t,r);return}n.options.magnetThreshold<=0&&this.dragLinkStart(e,o,t,r),this.eventData(e,{action:gd.MAGNET})},drag:function(e,t,r){var n=this.paper,i=n.options.gridSize,o=this.model,s=this.eventData(e),{pointerOffset:a,restrictedArea:l,embedding:u}=s,f=Pf(t+a.x,i),c=Pf(r+a.y,i);o.position(f,c,{restrictedArea:l,deep:!0,ui:!0}),n.options.embeddingMode&&(u||(this.prepareEmbedding(s),u=!0),this.processEmbedding(s,e,t,r)),this.eventData(e,{embedding:u})},dragMagnet:function(e,t,r){this.dragLink(e,t,r)},dragEnd:function(e,t,r){var n=this.eventData(e);n.embedding&&this.finalizeEmbedding(n)},dragMagnetEnd:function(e,t,r){this.dragLinkEnd(e,t,r)},magnetpointerclick:function(e,t,r,n){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,r,n)}},{Flags:$r});Jt(Dw.prototype,mle);const ble=function(e,t,r){return e},_le=function(e,t,r){var n=t.side||"bottom",i=Nf(t.padding||40),o=r.sourceBBox,s=r.targetBBox,a=o.center(),l=s.center(),u,f,c;switch(n){case"bottom":c=1,u="y",f="height";break;case"top":c=-1,u="y",f="height";break;case"left":c=-1,u="x",f="width";break;case"right":c=1,u="x",f="width";break;default:throw new Error("Router: invalid side")}return a[u]+=c*(o[f]/2+i[n]),l[u]+=c*(s[f]/2+i[n]),c*(a[u]-l[u])>0?l[u]=a[u]:a[u]=l[u],[a].concat(e,l)};var Ele={N:"S",S:"N",E:"W",W:"E"},Sle={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function i_(e,t,r){var n=new ze(e.x,t.y);return r.containsPoint(n)&&(n=new ze(t.x,e.y)),n}function NO(e,t){return e[t==="W"||t==="E"?"width":"height"]}function to(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function Gv(e){return new Ot(e.x,e.y,0,0)}function o_(e){var t=Nf(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function TH(e,t){return e.sourceBBox.clone().moveAndExpand(o_(t))}function AH(e,t){return e.targetBBox.clone().moveAndExpand(o_(t))}function $le(e,t){if(e.sourceAnchor)return e.sourceAnchor;var r=TH(e,t);return r.center()}function Tle(e,t){if(e.targetAnchor)return e.targetAnchor;var r=AH(e,t);return r.center()}function xH(e,t,r){var n=new ze(e.x,t.y),i=new ze(t.x,e.y),o=to(e,n),s=to(e,i),a=Ele[r],l=o===r||o!==a&&(s===a||s!==r)?n:i;return{points:[l],direction:to(l,t)}}function Mw(e,t,r){var n=i_(e,t,r);return{points:[n],direction:to(n,t)}}function Ale(e,t,r,n){var i={},o=[new ze(e.x,t.y),new ze(t.x,e.y)],s=o.filter(function(c){return!r.containsPoint(c)}),a=s.filter(function(c){return to(c,e)!==n}),l;if(a.length>0)l=a.filter(function(c){return to(e,c)===n}).pop(),l=l||a[0],i.points=[l],i.direction=to(l,t);else{l=xae(o,s)[0];var u=new ze(t).move(l,-NO(r,n)/2),f=i_(u,e,r);i.points=[f,u],i.direction=to(u,t)}return i}function xle(e,t,r,n){var i=Mw(t,e,n),o=i.points[0];if(r.containsPoint(o)){i=Mw(e,t,r);var s=i.points[0];if(n.containsPoint(s)){var a=new ze(e).move(s,-NO(r,to(e,s))/2),l=new ze(t).move(o,-NO(n,to(t,o))/2),u=new Nt(a,l).midpoint(),f=Mw(e,u,r),c=xH(u,t,f.direction);i.points=[f.points[0],c.points[0]],i.direction=c.direction}}return i}function d1(e,t,r,n,i){var o={},s=r.union(n).inflate(1),a=s.center().distance(t)>s.center().distance(e),l=a?t:e,u=a?e:t,f,c,p;return i?(f=ze.fromPolar(s.width+s.height,Sle[i],l),f=s.pointNearestToPoint(f).move(f,-1)):f=s.pointNearestToPoint(l).move(l,1),c=i_(f,u,s),f.round().equals(c.round())?(c=ze.fromPolar(s.width+s.height,xo(f.theta(l))+Math.PI/2,u),c=s.pointNearestToPoint(c).move(u,1).round(),p=i_(f,c,s),o.points=a?[c,p,f]:[f,p,c]):o.points=a?[c,f]:[f,c],o.direction=to(a?f:c,t),o}function IO(e,t,r){var n=TH(r,t),i=AH(r,t),o=$le(r,t),s=Tle(r,t);n=n.union(Gv(o)),i=i.union(Gv(s)),e=Tr(e).map(ze),e.unshift(o),e.push(s);for(var a,l=[],u=0,f=e.length-1;u<f;u++){var c=null,p=e[u],m=e[u+1],g=!!to(p,m);if(u===0)u+1===f?n.intersect(i.clone().inflate(1))?c=d1(p,m,n,i):g||(c=xle(p,m,n,i)):n.containsPoint(m)?c=d1(p,m,n,Gv(m).moveAndExpand(o_(t))):g||(c=Mw(p,m,n));else if(u+1===f){var _=g&&to(m,p)===a;i.containsPoint(p)||_?c=d1(p,m,Gv(p).moveAndExpand(o_(t)),i,a):g||(c=Ale(p,m,i,a))}else g||(c=xH(p,m,a));c?(Array.prototype.push.apply(l,c.points),a=c.direction):a=to(p,m),u+1<f&&l.push(m)}return l}var OH={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,r){if(!dn(IO))throw new Error("Manhattan requires the orthogonal router as default fallback.");return IO(e,Jt({},OH,t),r)},fallbackRoute:function(e,t,r){return null},draggingRoute:null};function kI(e){this.map={},this.options=e,this.mapGridSize=100}kI.prototype.build=function(e,t){var r=this.options,n=Tr(r.excludeEnds).reduce(function(l,u){var f=t.get(u);if(f){var c=e.getCell(f.id);c&&l.push(c)}return l},[]),i=[],o=e.getCell(t.get("source").id);o&&(i=AO(i,o.getAncestors().map(function(l){return l.id})));var s=e.getCell(t.get("target").id);s&&(i=AO(i,s.getAncestors().map(function(l){return l.id})));var a=this.mapGridSize;return e.getElements().reduce(function(l,u){var f=Tr(r.excludeTypes).includes(u.get("type")),c=n.find(function(S){return S.id===u.id}),p=i.includes(u.id),m=f||c||p;if(!m)for(var g=u.getBBox().moveAndExpand(r.paddingBox),_=g.origin().snapToGrid(a),v=g.corner().snapToGrid(a),h=_.x;h<=v.x;h+=a)for(var E=_.y;E<=v.y;E+=a){var y=h+"@"+E;l[y]=l[y]||[],l[y].push(g)}return l},this.map),this};kI.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return Tr(this.map[t]).every(function(r){return!r.containsPoint(e)})};function Wf(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}Wf.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var r=fH(this.items,e,(function(n){return this.values[n]}).bind(this));this.items.splice(r,0,e)};Wf.prototype.remove=function(e){this.hash[e]=this.CLOSE};Wf.prototype.isOpen=function(e){return this.hash[e]===this.OPEN};Wf.prototype.isClose=function(e){return this.hash[e]===this.CLOSE};Wf.prototype.isEmpty=function(){return this.items.length===0};Wf.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};function PH(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function RH(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function NH(e,t){if(e.sourceAnchor)return e.sourceAnchor;var r=PH(e,t);return r.center()}function Ole(e,t){if(e.targetAnchor)return e.targetAnchor;var r=RH(e,t);return r.center()}function h1(e,t,r,n,i){var o=360/r,s=e.theta(Ple(e,t,n,i)),a=fa(s+o/2);return o*Math.floor(a/o)}function Ple(e,t,r,n){var i=n.step,o=t.x-e.x,s=t.y-e.y,a=o/r.x,l=s/r.y,u=a*i,f=l*i;return new ze(e.x+u,e.y+f)}function RM(e,t){var r=Math.abs(e-t);return r>180?360-r:r}function Rle(e,t,r){var n=r.step;Tr(r.directions).forEach(function(i){i.gridOffsetX=i.offsetX/n*t.x,i.gridOffsetY=i.offsetY/n*t.y})}function Nle(e,t,r){return{source:t.clone(),x:NM(r.x-t.x,e),y:NM(r.y-t.y,e)}}function NM(e,t){if(!e)return t;var r=Math.abs(e),n=Math.round(r/t);if(!n)return r;var i=n*t,o=r-i,s=o/n;return t+s}function Ile(e,t){var r=t.source,n=Pf(e.x-r.x,t.x)+r.x,i=Pf(e.y-r.y,t.y)+r.y;return new ze(n,i)}function Vp(e,t){return e.round(t)}function Lw(e,t,r){return Vp(Ile(e.clone(),t),r)}function dm(e){return e.clone().toString()}function p1(e){return new ze(e.x===0?0:Math.abs(e.x)/e.x,e.y===0?0:Math.abs(e.y)/e.y)}function kle(e,t,r,n,i,o,s){for(var a=[],l=p1(i.difference(r)),u=dm(r),f=e[u],c;f;){c=t[u];var p=p1(c.difference(f));p.equals(l)||(a.unshift(c),l=p),u=dm(f),f=e[u]}var m=t[u],g=p1(m.difference(n));return g.equals(l)||a.unshift(m),a}function IM(e,t){for(var r=1/0,n=0,i=t.length;n<i;n++){var o=e.manhattanDistance(t[n]);o<r&&(r=o)}return r}function kM(e,t,r,n,i){var o=i.precision,s=i.directionMap,a=e.difference(t.center()),l=Wr(s)?Object.keys(s):[],u=Tr(r),f=l.reduce(function(c,p){if(u.includes(p)){for(var m=s[p],g=new ze(e.x+m.x*(Math.abs(a.x)+t.width),e.y+m.y*(Math.abs(a.y)+t.height)),_=new Nt(e,g),v=_.intersect(t)||[],h=v.length,E,y=null,S=0;S<h;S++){var $=v[S],T=e.squaredDistance($);(E===void 0||T>E)&&(E=T,y=$)}if(y){var d=Lw(y,n,o);t.containsPoint(d)&&(d=Lw(d.offset(m.x*n.x,m.y*n.y),n,o)),c.push(d)}}return c},[]);return t.containsPoint(e)||f.push(Lw(e,n,o)),f}function Cle(e,t,r,n){var i=n.precision,o,s;e instanceof Ot?o=Vp(NH(this,n).clone(),i):o=Vp(e.clone(),i),t instanceof Ot?s=Vp(Ole(this,n).clone(),i):s=Vp(t.clone(),i);var a=Nle(n.step,o,s),l,u,f,c;if(e instanceof Ot?(l=o,f=kM(l,e,n.startDirections,a,n)):(l=o,f=[l]),t instanceof Ot?(u=s,c=kM(s,t,n.endDirections,a,n)):(u=s,c=[u]),f=f.filter(Pe=>!r(Pe)),c=c.filter(Pe=>!r(Pe)),f.length>0&&c.length>0){for(var p=new Wf,m={},g={},_={},v=0,h=f.length;v<h;v++){var E=f[v],y=dm(E);p.add(y,IM(E,c)),m[y]=E,_[y]=0}var S=n.previousDirectionAngle,$=S===void 0,T,d,A=n.directions;Rle(A,a,n);for(var x=A.length,O=Tr(c).reduce(function(Pe,R){var j=dm(R);return Pe.push(j),Pe},[]),D=n.maximumLoops;!p.isEmpty()&&D>0;){var F=p.pop(),V=m[F],Q=g[F],H=_[F],X=Q===void 0,fe=V.equals(l),Z;X?$?fe?Z=null:Z=h1(l,V,x,a,n):Z=S:Z=h1(Q,V,x,a,n);var ne=f.length===c.length;if(ne){for(var C=0;C<f.length;C++)if(!f[C].equals(c[C])){ne=!1;break}}var B=X&&ne;if(!B&&O.indexOf(F)>=0)return n.previousDirectionAngle=Z,kle(g,m,V,l,u);for(v=0;v<x;v++){T=A[v];var K=T.angle;if(d=RM(Z,K),!(!($&&fe)&&d>n.maxAllowedDirectionChange)){var P=Lw(V.clone().offset(T.gridOffsetX,T.gridOffsetY),a,i),I=dm(P);if(!(p.isClose(I)||r(P))){if(O.indexOf(I)>=0){var q=P.equals(u);if(!q){var ie=h1(P,u,x,a,n),J=RM(K,ie);if(J>n.maxAllowedDirectionChange)continue}}var Y=T.cost,se=fe?0:n.penalties[d],be=H+Y+se;(!p.isOpen(I)||be<_[I])&&(m[I]=P,g[I]=V,_[I]=be,p.add(I,be+IM(P,c)))}}}D--}}return n.fallbackRoute.call(this,l,u,n)}function jle(e){if(e.directions=qn(e,"directions"),e.penalties=qn(e,"penalties"),e.paddingBox=qn(e,"paddingBox"),e.padding=qn(e,"padding"),e.padding){var t=Nf(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}Tr(e.directions).forEach(function(r){var n=new ze(0,0),i=new ze(r.offsetX,r.offsetY);r.angle=fa(n.theta(i))})}function Dle(e,t,r){jle(t),r.options.perpendicular=!!t.perpendicular;var n=PH(r,t),i=RH(r,t),o=NH(r,t);let s;if(typeof t.isPointObstacle=="function")s=t.isPointObstacle;else{const y=new kI(t);y.build(r.paper.model,r.model),s=S=>!y.isPointAccessible(S)}for(var a=Tr(e).map(ze),l=[],u=o,f,c,p=0,m=a.length;p<=m;p++){var g=null;if(c=f||n,f=a[p],!f){f=i;var _=!r.model.get("source").id||!r.model.get("target").id;if(_&&dn(t.draggingRoute)){var v=c===n?o:c,h=f.origin();g=t.draggingRoute.call(r,v,h,t)}}if(g=g||Cle.call(r,c,f,s,t),g===null)return t.fallbackRouter(e,t,r);var E=g[0];E&&E.equals(u)&&g.shift(),u=g[g.length-1]||u,Array.prototype.push.apply(l,g)}return l}const kO=function(e,t,r){return Dle(e,Jt({},OH,t),r)};var Mle={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),r=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:r},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:r},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:r},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:r}]},fallbackRoute:function(e,t,r){var n=e.theta(t),i=[],o={x:t.x,y:e.y},s={x:e.x,y:t.y};if(n%180>90){var a=o;o=s,s=a}var l=n%90<45?o:s,u=new Nt(e,l),f=90*Math.ceil(n/90),c=ze.fromPolar(u.squaredLength(),xo(f+135),l),p=new Nt(t,c),m=u.intersection(p),g=m||t,_=m?g:e,v=360/r.directions.length,h=_.theta(t),E=fa(h+v/2),y=v*Math.floor(E/v);return r.previousDirectionAngle=y,g&&i.push(g.round()),i.push(t),i}};const Lle=function(e,t,r){if(!dn(kO))throw new Error("Metro requires the manhattan router.");return kO(e,Jt({},Mle,t),r)},mt={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},CM=[mt.LEFT,mt.RIGHT,mt.TOP,mt.BOTTOM],Jd={[mt.LEFT]:mt.RIGHT,[mt.RIGHT]:mt.LEFT,[mt.TOP]:mt.BOTTOM,[mt.BOTTOM]:mt.TOP},Fle=[mt.TOP,mt.BOTTOM],Kv={0:mt.RIGHT,180:mt.LEFT,270:mt.TOP,90:mt.BOTTOM};function Hp(e){return e.angle()}function Jv(e){return new un(e).simplify({threshold:1}).points}function s_(e,t){const{point:r,x0:n,y0:i,view:o,bbox:s,direction:a}=e,{point:l,x0:u,y0:f,view:c,bbox:p,direction:m}=t;let g;if(o)o.model.isLink()?g=jM(l,r,o):a===mt.ANCHOR_SIDE?g=s.sideNearestToPoint(r):a===mt.MAGNET_SIDE?g=o.model.getBBox().sideNearestToPoint(r):g=a;else{const v=new Ot(n,i,0,0);g=CM.includes(a)?a:v.sideNearestToPoint(l)}let _;if(c)c.model.isLink()?_=jM(r,l,c):m===mt.ANCHOR_SIDE?_=p.sideNearestToPoint(l):m===mt.MAGNET_SIDE?_=c.model.getBBox().sideNearestToPoint(l):_=m;else{const v=new Ot(u,f,0,0);_=CM.includes(m)?m:v.sideNearestToPoint(r)}return[g,_]}function Ble(e,t,r){const{x0:n,y0:i,width:o,height:s,point:a,margin:l}=e,u=n+o,f=i+s,c=n-l,p=u+l,m=i-l,{x:g}=a,{x0:_,y0:v}=t;return _===g&&v<i?mt.BOTTOM:_<g&&v<m?mt.RIGHT:_>g&&v<m?mt.LEFT:_<c&&v>=i||_>p&&v>=i?mt.TOP:_>=c&&_<=g&&v>f||_<=p&&_>=g&&v>f?r.point.x<_?mt.RIGHT:mt.LEFT:mt.TOP}function Ule(e,t,r){const{x0:n,y0:i,width:o,height:s,point:a,margin:l}=e,u=n+o,f=i+s,c=n-l,p=u+l,m=f+l,{x:g}=a,{x0:_,y0:v}=t;return _===g&&v>f?mt.TOP:_<g&&v>m?mt.RIGHT:_>g&&v>m?mt.LEFT:_<c&&v<=f||_>p&&v<=f?mt.BOTTOM:_>=c&&_<=g&&v<i||_<=p&&_>=g&&v<i?r.point.x<_?mt.RIGHT:mt.LEFT:mt.BOTTOM}function zle(e,t,r){const{y0:n,x0:i,width:o,height:s,point:a,margin:l}=e,u=i+o,f=n+s,c=i-l,p=n-l,m=f+l,{x:g,y:_}=a,{x0:v,y0:h}=t;return v<g&&h===_?mt.RIGHT:v<=c&&h<_?mt.BOTTOM:v<=c&&h>_?mt.TOP:v>=i&&h<=p||v>=i&&h>=m?mt.LEFT:v>u&&h>=p&&h<=_||v>u&&h<=m&&h>=_?r.point.y<h?mt.BOTTOM:mt.TOP:mt.LEFT}function qle(e,t,r){const{y0:n,x0:i,width:o,height:s,point:a,margin:l}=e,u=i+o,f=n+s,c=u+l,p=n-l,m=f+l,{x:g,y:_}=a,{x0:v,y0:h}=t;return v>g&&h===_?mt.LEFT:v>=c&&h<_?mt.BOTTOM:v>=c&&h>_?mt.TOP:v<=u&&h<=p||v<=u&&h>=m?mt.RIGHT:v<i&&h>=p&&h<=_||v<i&&h<=m&&h>=_?r.point.y<h?mt.BOTTOM:mt.TOP:mt.RIGHT}function Vle(e,t,r){const[n]=s_(e,t);switch(n){case mt.TOP:return Ble(e,t,r);case mt.RIGHT:return qle(e,t,r);case mt.BOTTOM:return Ule(e,t,r);case mt.LEFT:return zle(e,t,r)}}function jM(e,t,r){const n=r.getTangentAtLength(r.getClosestPointLength(t)),i=Math.round(Hp(n)/90)*90;if(i%180===0&&e.y===t.y)return e.x<t.x?mt.LEFT:mt.RIGHT;if(e.x===t.x)return e.y<t.y?mt.TOP:mt.BOTTOM;switch(i){case 0:case 180:case 360:return e.y<t.y?mt.TOP:mt.BOTTOM;case 90:case 270:return e.x<t.x?mt.LEFT:mt.RIGHT}}function DM(e,t,r,n,i,o,s){n===mt.AUTO&&(n=i?mt.MAGNET_SIDE:mt.ANCHOR_SIDE);const a=e&&e.model.isElement(),{x:l,y:u,width:f=0,height:c=0}=a?Ot.fromRectUnion(r,e.model.getBBox()):o;return{point:t,x0:l,y0:u,view:e,bbox:r,width:f,height:c,direction:n,margin:a?s:0}}function m1({x:e,y:t}){const r=new ze(e,t);return{point:r,x0:r.x,y0:r.y,view:null,bbox:new Ot(e,t,0,0),width:0,height:0,direction:null,margin:0}}function MM(e,t,r){const n=t.point.clone(),{x0:i,y0:o,width:s,height:a}=t;switch(e){case"left":n.x=i-r;break;case"right":n.x=i+s+r;break;case"top":n.y=o-r;break;case"bottom":n.y=o+a+r;break}return n}function cu(e,t){const{point:r,x0:n,y0:i,view:o,width:s,height:a,margin:l}=e,{point:u,x0:f,y0:c,width:p,height:m,margin:g}=t,_=f+p,v=c+m,h=n+s,E=i+a,y=o&&o.model.isElement(),S=n-l,$=h+l,T=i-l,d=E+l,A=f-g,x=_+g,O=c-g,D=v+g,[F,V]=s_(e,t),Q=MM(F,{point:r,x0:n,y0:i,width:s,height:a},l),H=MM(V,{point:u,x0:f,y0:c,width:p,height:m},g),{x:X,y:fe}=Q,{x:Z,y:ne}=H,C=(f+_)/2,B=(c+v)/2,K=(n+h)/2,P=(i+E)/2,I=(K<C?h+f:_+n)/2,q=(P<B?E+c:v+i)/2;if(F==="left"&&V==="right"){if(S<=x){let J=q;return h<=f&&(v>=T&&ne<fe?J=Math.min(O,T):c<=d&&ne>=fe&&(J=Math.max(D,d))),[{x:X,y:fe},{x:X,y:J},{x:Z,y:J},{x:Z,y:ne}]}const ie=(X+Z)/2;return[{x:ie,y:fe},{x:ie,y:ne}]}else if(F==="right"&&V==="left"){if($>=A){let J=q;return X>_&&(v>=T&&ne<fe?J=Math.min(O,T):c<=d&&ne>=fe&&(J=Math.max(D,d))),[{x:X,y:fe},{x:X,y:J},{x:Z,y:J},{x:Z,y:ne}]}const ie=(X+Z)/2;return[{x:ie,y:fe},{x:ie,y:ne}]}else if(F==="top"&&V==="bottom"){if(fe<ne){let J=I,Y=fe;return fe<c&&(_>=S&&Z<X?J=Math.min(A,S):f<=$&&Z>=X&&(J=Math.max(x,$))),[{x:X,y:Y},{x:J,y:Y},{x:J,y:ne},{x:Z,y:ne}]}const ie=(fe+ne)/2;return[{x:X,y:ie},{x:Z,y:ie}]}else if(F==="bottom"&&V==="top"){if(fe-l>ne){let J=I,Y=fe;return fe>v&&(_>=S&&Z<X?J=Math.min(A,S):f<=$&&Z>=X&&(J=Math.max(x,$))),[{x:X,y:Y},{x:J,y:Y},{x:J,y:ne},{x:Z,y:ne}]}const ie=(fe+ne)/2;return[{x:X,y:ie},{x:Z,y:ie}]}else if(F==="top"&&V==="top"){let ie,J=Math.min((E+c)/2,ne),Y=Math.min((i+v)/2,fe);if(ne<fe){if(X>=x||X<=A)return[{x:X,y:Math.min(fe,ne)},{x:Z,y:Math.min(fe,ne)}];Z>X?ie=Math.min(X,A):ie=Math.max(X,x)}else{if(Z>=$||Z<=S)return[{x:X,y:Math.min(fe,ne)},{x:Z,y:Math.min(fe,ne)}];Z>=X?ie=Math.max(Z,$):ie=Math.min(Z,S)}return[{x:X,y:Y},{x:ie,y:Y},{x:ie,y:J},{x:Z,y:J}]}else if(F==="bottom"&&V==="bottom"){let ie,J=Math.max((i+v)/2,ne),Y=Math.max((E+c)/2,fe);if(ne>fe){if(X>=x||X<=A)return[{x:X,y:Math.max(fe,ne)},{x:Z,y:Math.max(fe,ne)}];Z>X?ie=Math.min(X,A):ie=Math.max(X,x)}else{if(Z>=$||Z<=S)return[{x:X,y:Math.max(fe,ne)},{x:Z,y:Math.max(fe,ne)}];Z>=X?ie=Math.max(Z,$):ie=Math.min(Z,S)}return[{x:X,y:Y},{x:ie,y:Y},{x:ie,y:J},{x:Z,y:J}]}else if(F==="left"&&V==="left"){let ie,J=Math.min((h+f)/2,Z),Y=Math.min((n+_)/2,X);return Z>X?ne<=fe?ie=Math.min(T,ne):ie=Math.max(d,ne):ne>=fe?ie=Math.min(O,fe):ie=Math.max(D,fe),[{x:Y,y:fe},{x:Y,y:ie},{x:J,y:ie},{x:J,y:ne}]}else if(F==="right"&&V==="right"){let ie,J=Math.max((n+_)/2,Z),Y=Math.max((h+f)/2,X);return Z<X?ne<=fe?ie=Math.min(T,ne):ie=Math.max(d,ne):ne>=fe?ie=Math.min(O,fe):ie=Math.max(D,fe),[{x:Y,y:fe},{x:Y,y:ie},{x:J,y:ie},{x:J,y:ne}]}else if(F==="top"&&V==="right"){if(fe>ne){if(X<Z){let J=q;return(J>B||!y)&&J<D&&X<f&&(J=O),[{x:X,y:J},{x:Z,y:J},{x:Z,y:ne}]}return[{x:X,y:ne}]}const ie=Math.max(I,x);if(Z<X&&ne>i&&ne<E)return[{x:X,y:fe},{x:ie,y:fe},{x:ie,y:ne}];if(ie>S&&ne>i||f>h){const J=Math.min(i-l,c-g),Y=Math.max(h+l,_+g);return[{x:X,y:J},{x:Y,y:J},{x:Y,y:ne}]}return[{x:X,y:fe},{x:Math.max(ie,Z),y:fe},{x:Math.max(ie,Z),y:ne}]}else if(F==="top"&&V==="left"){if(fe>ne){if(X>Z){let J=q;return(J>B||!y)&&J<D&&X>_&&(J=O),[{x:X,y:J},{x:Z,y:J},{x:Z,y:ne}]}return[{x:X,y:ne}]}const ie=Math.min(A,I);if(X<Z&&E>=ne)return[{x:X,y:fe},{x:ie,y:fe},{x:ie,y:ne}];if(ie<$&&fe<v){const J=Math.min(T,O),Y=Math.min(S,A);return[{x:X,y:J},{x:Y,y:J},{x:Y,y:ne}]}return[{x:X,y:fe},{x:ie,y:fe},{x:ie,y:ne}]}else if(F==="bottom"&&V==="right"){if(fe<ne){if(X<Z){let J=q;return(J<B||!y)&&J>O&&X<f&&(J=D),[{x:X,y:J},{x:Z,y:J},{x:Z,y:ne}]}return[{x:X,y:ne}]}else if(n<Z){const J=Math.max(d,D),Y=Math.max($,x);return[{x:X,y:J},{x:Y,y:J},{x:Y,y:ne}]}const ie=I;return[{x:X,y:fe},{x:ie,y:fe},{x:ie,y:ne}]}else if(F==="bottom"&&V==="left"){if(fe<ne){if(X>Z){let J=q;return(J<B||!y)&&J>O&&X>_&&(J=D),[{x:X,y:J},{x:Z,y:J},{x:Z,y:ne}]}return[{x:X,y:ne}]}else if(h>Z){const J=Math.max(d,D),Y=Math.min(S,A);return[{x:X,y:J},{x:Y,y:J},{x:Y,y:ne}]}const ie=I;return[{x:X,y:fe},{x:ie,y:fe},{x:ie,y:ne}]}else if(F==="left"&&V==="bottom"){if(X>=Z&&fe>=D)return[{x:Z,y:fe}];if(X>=_&&fe<ne){const Y=I;return[{x:Y,y:fe},{x:Y,y:ne},{x:Z,y:ne}]}if(Z<h&&v<=i){const Y=q;return[{x:X,y:fe},{x:X,y:Y},{x:Z,y:Y}]}const ie=Math.min(A,X),J=Math.max(d,D);return[{x:ie,y:fe},{x:ie,y:J},{x:Z,y:J}]}else if(F==="left"&&V==="top"){if(X>Z&&fe<O)return[{x:Z,y:fe}];if(X>=_&&fe>ne){const Y=I;return[{x:Y,y:fe},{x:Y,y:ne},{x:Z,y:ne}]}if(Z<=h&&ne>fe){const Y=q;return[{x:X,y:fe},{x:X,y:Y},{x:Z,y:Y}]}const ie=ne<fe?Math.min(S,A):S,J=Math.min(T,O);return[{x:ie,y:fe},{x:ie,y:J},{x:Z,y:J}]}else if(F==="right"&&V==="top"){if(X<=Z&&fe<O)return[{x:Z,y:fe}];if(h<f&&fe>ne){let Y=I;return[{x:Y,y:fe},{x:Y,y:ne},{x:Z,y:ne}]}if(Z<X&&c>E){const Y=q;return[{x:X,y:fe},{x:X,y:Y},{x:Z,y:Y}]}const ie=Math.max($,x),J=Math.min(T,O);return[{x:ie,y:fe},{x:ie,y:J},{x:Z,y:J}]}else if(F==="right"&&V==="bottom"){if(X<=Z&&fe>=D)return[{x:Z,y:fe}];if(X<=A&&fe<ne){const Y=I;return[{x:Y,y:fe},{x:Y,y:ne},{x:Z,y:ne}]}if(Z>n&&v<i){const Y=q;return[{x:X,y:fe},{x:X,y:Y},{x:Z,y:Y}]}const ie=Math.max(x,X),J=Math.max(d,D);return[{x:ie,y:fe},{x:ie,y:J},{x:Z,y:J}]}}function IH(e,t,r){const{sourceDirection:n=mt.AUTO,targetDirection:i=mt.AUTO}=t,o=t.margin||20,s=t.useVertices||!1,a=!!r.model.source().port,l=DM(r.sourceView,r.sourceAnchor,r.sourceBBox,n,a,r.sourceAnchor,o),u=!!r.model.target().port,f=DM(r.targetView,r.targetAnchor,r.targetBBox,i,u,r.targetAnchor,o);let c=[];if(!s||e.length===0)return Jv(cu(l,f));const p=e.map(_=>m1(_)),[m]=p;if(l.view&&l.view.model.isElement()&&l.view.model.getBBox().inflate(o).containsPoint(m.point)){const[_]=s_(l,m),v=_,h=m1(l.point);h.margin=o,h.direction=_,m.direction=v,c.push(...cu(h,m),m.point)}else{const _=p[1]||f,v=Vle(l,m,_);m.direction=v,c.push(...cu(l,m),m.point)}for(let _=0;_<p.length-1;_++){const v=p[_],h=p[_+1],E=new Nt(v.point,h.point),y=Hp(E);if(y%90===0){const T=Kv[y],d=Jd[T];if(T!==v.direction)c.push(v.point,h.point),h.direction=d;else{const A=fa(y-90);let x=0,O=0;A===90?O=-o:A===180?x=-o:A===270?O=o:A===0&&(x=o);const D={x:v.point.x+x,y:v.point.y+O},F={x:h.point.x+x,y:h.point.y+O},V=new Nt(h.point,F);h.direction=Kv[Hp(V)],c.push(v.point,D,F,h.point)}continue}const[S,$]=g1(v,h);v.direction=S,h.direction=$,c.push(...cu(v,h),h.point)}const g=p[p.length-1];if(f.view&&f.view.model.isElement())if(f.view.model.getBBox().inflate(o).containsPoint(g.point)){const[_]=g1(g,f),v=m1(f.point),[,h]=s_(g,f);v.margin=o,v.direction=h,g.direction=_,c.push(...cu(g,v))}else{const _=Jv(c),v=new Nt(_[_.length-2],g.point),h=Kv[Math.round(Hp(v))];g.direction=h;let E=cu(g,f);const[y,S]=Jv([...E,f.point]),$=new Nt(y,S),T=Math.round(Hp($)),d=Kv[T];d!==h&&h===Jd[d]&&(g.margin=o,E=cu(g,f)),c.push(...E)}else{const[_]=g1(g,f);g.direction=_,c.push(...cu(g,f))}return Jv(c)}function g1(e,t){const r=e.direction,n=Fle.includes(r);let i=e.direction,o=t.direction;if(n){const s=e.point.y>t.point.y,a=t.point.x-e.point.x;r===mt.BOTTOM?(i=s?Jd[r]:a>=0?mt.RIGHT:mt.LEFT,a>0?o=s?mt.LEFT:mt.TOP:a<0&&(o=s?mt.RIGHT:mt.TOP)):(i=s?a>=0?mt.RIGHT:mt.LEFT:Jd[r],a>0?o=s?mt.BOTTOM:mt.LEFT:a<0&&(o=s?mt.BOTTOM:mt.RIGHT))}else{const s=e.point.x>t.point.x,a=t.point.y-e.point.y;r===mt.RIGHT?(i=s?Jd[r]:a>=0?mt.BOTTOM:mt.TOP,a>0?o=s?mt.TOP:mt.LEFT:a<0&&(o=s?mt.BOTTOM:mt.LEFT)):(i=s?a>=0?mt.BOTTOM:mt.TOP:Jd[r],a>0?o=s?mt.RIGHT:mt.TOP:a<0&&(o=s?mt.RIGHT:mt.BOTTOM))}return[i,o]}IH.Directions=mt;const Hle=IH,Wle=Object.freeze(Object.defineProperty({__proto__:null,manhattan:kO,metro:Lle,normal:ble,oneSide:_le,orthogonal:IO,rightAngle:Hle},Symbol.toStringTag,{value:"Module"})),Nd={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},Gle=Object.values(Nd),Kle=10,Jle=1,CI=function(e,t,r=[],n={}){const{cornerType:i=Nd.POINT,cornerRadius:o=Kle,cornerPreserveAspectRatio:s=!1,precision:a=Jle,raw:l=!1}=n;if(Gle.indexOf(i)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let u;if(i===Nd.POINT||!o){const f=[e].concat(r).concat([t]),c=new un(f);u=new Bt(c)}else{u=new Bt,u.appendSegment(Bt.createSegment("M",e));let f;const c=r.length;for(let p=0;p<c;p++){const m=new ze(r[p]),g=r[p-1]||e,_=r[p+1]||t,v=f||m.distance(g)/2;f=m.distance(_)/2;let h,E;s?h=E=-Math.min(o,v,f):(h=-Math.min(o,v),E=-Math.min(o,f));const y=m.clone().move(g,h).round(a),S=m.clone().move(_,E).round(a);switch(u.appendSegment(Bt.createSegment("L",y)),i){case Nd.CUBIC:{const $=.3333333333333333,T=2/3,d=new ze($*y.x+T*m.x,T*m.y+$*y.y),A=new ze($*S.x+T*m.x,T*m.y+$*S.y);u.appendSegment(Bt.createSegment("C",d,A,S));break}case Nd.LINE:{u.appendSegment(Bt.createSegment("L",S));break}case Nd.GAP:{u.appendSegment(Bt.createSegment("M",S));break}}}u.appendSegment(Bt.createSegment("L",t))}return l?u:u.serialize()};var Yle=5,LM=["arc","gap","cubic"],Xle=0,FM=1,Qle=["smooth"],Yv=1/3,Xv=2/3;function BM(e,t){let{x:r,y:n}=e,{x:i,y:o}=t;if(r>i){let s=r;r=i,i=s,s=n,n=o,o=s}if(n>o){let s=r;r=i,i=s,s=n,n=o,o=s}return[new ze(r,n),new ze(i,o)]}function Zle(e,t){const[{x:r,y:n},{x:i,y:o}]=BM(e.start,e.end),[{x:s,y:a},{x:l,y:u}]=BM(t.start,t.end),f=r<=l&&s<=i,c=n<=u&&a<=o;return f&&c}function v1(e,t,r){var n=[].concat(e,r,t);return n.reduce(function(i,o,s){var a=n[s+1];return a!=null&&(i[s]=yf(o,a)),i},[])}function eue(e){var t=e.paper,r=t._jumpOverUpdateList;if(r==null){r=t._jumpOverUpdateList=[];var n=t.model;n.on("batch:stop",function(){this.hasActiveBatch()||tue(t)}),n.on("reset",function(){r=t._jumpOverUpdateList=[]})}r.indexOf(e)<0&&(r.push(e),e.listenToOnce(e.model,"change:connector remove",function(){r.splice(r.indexOf(e),1)}))}function tue(e){for(var t=e._jumpOverUpdateList,r=0;r<t.length;r++){const n=t[r],i=n.getFlag(n.constructor.Flags.CONNECTOR);n.requestUpdate(i)}}function rue(e,t){return Tr(t).reduce(function(r,n){var i=e.intersection(n);return i&&r.push(i),r},[])}function UM(e,t){return yf(e,t).squaredLength()}function nue(e,t,r){return t.reduce(function(n,i,o){if(i.skip===!0)return n;var s=n.pop()||e,a=Yb(i).move(s.start,-r),l=Yb(i).move(s.start,+r),u=t[o+1];if(u!=null){var f=l.distance(u);f<=r&&(l=u.move(s.start,f),u.skip=!0)}else{var c=a.distance(s.end);if(c<r*2+FM)return n.push(s),n}var p=l.distance(s.start);if(p<r*2+FM)return n.push(s),n;var m=yf(a,l);return m.isJump=!0,n.push(yf(s.start,a),m,yf(l,s.end)),n},[])}function zM(e,t,r,n){var i=new Bt,o;return o=Bt.createSegment("M",e[0].start),i.appendSegment(o),Tr(e).forEach(function(s,a){if(s.isJump){var l,u,f,c;if(r==="arc"){l=-90,u=s.start.difference(s.end);var p=+(u.x<0||u.x===0&&u.y<0);p&&(l+=180);var m=s.midpoint(),g=new Nt(m,s.end).rotate(m,l),_;_=new Nt(s.start,m),f=_.pointAt(2/3).rotate(s.start,l),c=g.pointAt(1/3).rotate(g.end,-l),o=Bt.createSegment("C",f,c,g.end),i.appendSegment(o),_=new Nt(m,s.end),f=g.pointAt(1/3).rotate(g.end,l),c=_.pointAt(1/3).rotate(s.end,-l),o=Bt.createSegment("C",f,c,s.end),i.appendSegment(o)}else if(r==="gap")o=Bt.createSegment("M",s.end),i.appendSegment(o);else if(r==="cubic"){l=s.start.theta(s.end);var v=t*.6,h=t*1.35;u=s.start.difference(s.end),p=+(u.x<0||u.x===0&&u.y<0),p&&(h*=-1),f=ze(s.start.x+v,s.start.y+h).rotate(s.start,l),c=ze(s.end.x-v,s.end.y+h).rotate(s.end,l),o=Bt.createSegment("C",f,c,s.end),i.appendSegment(o)}}else{var E=e[a+1];n==0||!E||E.isJump?(o=Bt.createSegment("L",s.end),i.appendSegment(o)):iue(n,i,s.end,s.start,E.end)}}),i}function iue(e,t,r,n,i){var o=r.distance(n)/2,s=r.distance(i)/2,a=-Math.min(e,o),l=-Math.min(e,s),u=r.clone().move(n,a).round(),f=r.clone().move(i,l).round(),c=new ze(Yv*u.x+Xv*r.x,Xv*r.y+Yv*u.y),p=new ze(Yv*f.x+Xv*r.x,Xv*r.y+Yv*f.y),m;m=Bt.createSegment("L",u),t.appendSegment(m),m=Bt.createSegment("C",c,p,f),t.appendSegment(m)}const oue=function(e,t,r,n){eue(this);var i=n.raw,o=n.size||Yle,s=n.jump&&(""+n.jump).toLowerCase(),a=n.radius||Xle,l=n.ignoreConnectors||Qle;LM.indexOf(s)===-1&&(s=LM[0]);var u=this.paper,f=u.model,c=f.getLinks();if(c.length===1)return zM(v1(e,t,r),o,s,a);var p=this.model,m=c.indexOf(p),g=u.options.defaultConnector||{},_=c.filter(function($,T){var d=$.get("connector")||g;return Tr(l).includes(d.name)?!1:T>m?d.name!=="jumpover":!0}),v=_.map(function($){return u.findViewByModel($)}),h=v1(e,t,r),E=v.map(function($){return $==null?[]:$===this?h:v1($.sourcePoint,$.targetPoint,$.route)},this),y=h.reduce(function($,T){var d=_.reduce(function(A,x,O){if(x!==p){const D=E[O].slice(),F=D.findIndex(Q=>Zle(T,Q));F>-1&&T.containsPoint(D[F].end)&&D.splice(F+1,1);const V=rue(T,D);A.push.apply(A,V)}return A},[]).sort(function(A,x){return UM(T.start,A)-UM(T.start,x)});return d.length>0?$.push.apply($,nue(T,d,o)):$.push(T),$},[]),S=zM(y,o,s,a);return i?S:S.serialize()},sue=function(e,t,r=[],n={}){const{raw:i}=n;return CI(e,t,r,{cornerType:"point",raw:i})},aue=10,lue=0,uue=function(e,t,r=[],n={}){const{radius:i=aue,raw:o}=n;return CI(e,t,r,{cornerType:"cubic",cornerRadius:i,precision:lue,raw:o})},cue=function(e,t,r,n){var i=n&&n.raw,o;if(r&&r.length!==0){var s=[e].concat(r).concat([t]),a=Fr.throughPoints(s);o=new Bt(a)}else{o=new Bt;var l;if(l=Bt.createSegment("M",e),o.appendSegment(l),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var u=(e.x+t.x)/2;l=Bt.createSegment("C",u,e.y,u,t.y,t.x,t.y),o.appendSegment(l)}else{var f=(e.y+t.y)/2;l=Bt.createSegment("C",e.x,f,t.x,f,t.x,t.y),o.appendSegment(l)}}return i?o:o.serialize()},Ts={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},Zi={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},jI=function(e,t,r=[],n={},i){const o=!!n.raw,{direction:s=Ts.AUTO,precision:a=3}=n,l={coeff:n.distanceCoefficient||.6,angleTangentCoefficient:n.angleTangentCoefficient||80,tau:n.tension||.5,sourceTangent:n.sourceTangent?new ze(n.sourceTangent):null,targetTangent:n.targetTangent?new ze(n.targetTangent):null,rotate:!!n.rotate};typeof n.sourceDirection=="string"?l.sourceDirection=n.sourceDirection:typeof n.sourceDirection=="number"?l.sourceDirection=new ze(1,0).rotate(null,n.sourceDirection):l.sourceDirection=n.sourceDirection?new ze(n.sourceDirection).normalize():null,typeof n.targetDirection=="string"?l.targetDirection=n.targetDirection:typeof n.targetDirection=="number"?l.targetDirection=new ze(1,0).rotate(null,n.targetDirection):l.targetDirection=n.targetDirection?new ze(n.targetDirection).normalize():null;const u=[e,...r,t].map(_=>new ze(_));let f;if(l.sourceTangent)f=l.sourceTangent;else{const _=mue(i,u,s,l),v=u[0].distance(u[1])*l.coeff,h=u[1].difference(u[0]).normalize(),E=CO(_,h);if(E>Math.PI/4){const y=v+(E-Math.PI/4)*l.angleTangentCoefficient;f=_.clone().scale(y,y)}else f=_.clone().scale(v,v)}let c;if(l.targetTangent)c=l.targetTangent;else{const _=gue(i,u,s,l),v=u.length-1,h=u[v-1].distance(u[v])*l.coeff,E=u[v-1].difference(u[v]).normalize(),y=CO(_,E);if(y>Math.PI/4){const S=h+(y-Math.PI/4)*l.angleTangentCoefficient;c=_.clone().scale(S,S)}else c=_.clone().scale(h,h)}const m=yue(u,f,c,l).map(_=>wue(_,l)),g=new Bt(m).round(a);return o?g:g.serialize()};jI.Directions=Ts;jI.TangentDirections=Zi;function fue(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)n.x>t[1].x?i="right":i="left";else if(o=e.sourceView.model.angle(),r.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let s;switch(i){case"left":s=new ze(-1,0);break;case"right":default:s=new ze(1,0);break}return r.rotate&&o&&s.rotate(null,-o),s}function due(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)n.x>t[t.length-2].x?i="left":i="right";else if(o=e.targetView.model.angle(),r.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"left":s=new ze(-1,0);break;case"right":default:s=new ze(1,0);break}return r.rotate&&o&&s.rotate(null,-o),s}function hue(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)n.y>t[1].y?i="bottom":i="top";else if(o=e.sourceView.model.angle(),r.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let s;switch(i){case"top":s=new ze(0,-1);break;case"bottom":default:s=new ze(0,1);break}return r.rotate&&o&&s.rotate(null,-o),s}function pue(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)n.y>t[t.length-2].y?i="top":i="bottom";else if(o=e.targetView.model.angle(),r.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"top":s=new ze(0,-1);break;case"bottom":default:s=new ze(0,1);break}return r.rotate&&o&&s.rotate(null,-o),s}function qM(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)i=n.sideNearestToPoint(t[1]);else if(o=e.sourceView.model.angle(),r.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let s;switch(i){case"top":s=new ze(0,-1);break;case"bottom":s=new ze(0,1);break;case"right":s=new ze(1,0);break;case"left":s=new ze(-1,0);break}return r.rotate&&o&&s.rotate(null,-o),s}function VM(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)i=n.sideNearestToPoint(t[t.length-2]);else if(o=e.targetView.model.angle(),r.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"top":s=new ze(0,-1);break;case"bottom":s=new ze(0,1);break;case"right":s=new ze(1,0);break;case"left":s=new ze(-1,0);break}return r.rotate&&o&&s.rotate(null,-o),s}function HM(e,t,r){return t[1].difference(t[0]).normalize()}function WM(e,t,r){const n=t.length-1;return t[n-1].difference(t[n]).normalize()}function GM(e,t,r){const{sourceBBox:n}=e,i=n.center();return t[0].difference(i).normalize()}function KM(e,t,r){const{targetBBox:n}=e,i=n.center();return t[t.length-1].difference(i).normalize()}function mue(e,t,r,n){if(n.sourceDirection)switch(n.sourceDirection){case Zi.UP:return new ze(0,-1);case Zi.DOWN:return new ze(0,1);case Zi.LEFT:return new ze(-1,0);case Zi.RIGHT:return new ze(1,0);case Zi.AUTO:return qM(e,t,n);case Zi.CLOSEST_POINT:return HM(e,t);case Zi.OUTWARDS:return GM(e,t);default:return n.sourceDirection}switch(r){case Ts.HORIZONTAL:return fue(e,t,n);case Ts.VERTICAL:return hue(e,t,n);case Ts.CLOSEST_POINT:return HM(e,t);case Ts.OUTWARDS:return GM(e,t);case Ts.AUTO:default:return qM(e,t,n)}}function gue(e,t,r,n){if(n.targetDirection)switch(n.targetDirection){case Zi.UP:return new ze(0,-1);case Zi.DOWN:return new ze(0,1);case Zi.LEFT:return new ze(-1,0);case Zi.RIGHT:return new ze(1,0);case Zi.AUTO:return VM(e,t,n);case Zi.CLOSEST_POINT:return WM(e,t);case Zi.OUTWARDS:return KM(e,t);default:return n.targetDirection}switch(r){case Ts.HORIZONTAL:return due(e,t,n);case Ts.VERTICAL:return pue(e,t,n);case Ts.CLOSEST_POINT:return WM(e,t);case Ts.OUTWARDS:return KM(e,t);case Ts.AUTO:default:return VM(e,t,n)}}function vue(e,t){const r=Math.cos(t),n=Math.sin(t),i=r*e.x-n*e.y,o=n*e.x+r*e.y;e.x=i,e.y=o}function CO(e,t){let r=e.dot(t)/(e.magnitude()*t.magnitude());return r<-1&&(r=-1),r>1&&(r=1),Math.acos(r)}function JM(e,t){return e.x*t.y-e.y*t.x}function yue(e,t,r,n){const{tau:i,coeff:o}=n,s=[],a=[],l=[],u=e.length-1;for(let f=0;f<u;f++)s[f]=e[f].distance(e[f+1]);a[0]=t,a[u]=r;for(let f=1;f<u;f++){let c,p;f===1?c=e[f-1].clone().offset(a[f-1].x,a[f-1].y):c=e[f-1].clone(),f===u-1?p=e[f+1].clone().offset(a[f+1].x,a[f+1].y):p=e[f+1].clone();const m=c.difference(e[f]).normalize(),g=p.difference(e[f]).normalize(),_=CO(m,g);let v=(Math.PI-_)/2,h;const E=JM(m,g);let y;y=JM(e[f].difference(e[f+1]),e[f].difference(e[f-1])),E<0&&(v=-v),_<Math.PI/2&&(v<0&&y<0||v>0&&y>0)&&(v=v-Math.PI),h=g.clone(),vue(h,v);const S=h.clone(),$=h.clone(),T=s[f-1]*o,d=s[f]*o;S.scale(T,T),$.scale(d,d),a[f]=[S,$]}for(let f=0;f<u;f++){let c,p;f===0?c=e[f+1].difference(a[f].x/i,a[f].y/i):c=e[f+1].difference(a[f][1].x/i,a[f][1].y/i),f===u-1?p=e[f].clone().offset(a[f+1].x/i,a[f+1].y/i):p=e[f].difference(a[f+1][0].x/i,a[f+1][0].y/i),l[f]=[c,e[f],e[f+1],p]}return l}function wue(e,t){const{tau:r}=t,n=new ze;n.x=e[1].x+(e[2].x-e[0].x)/(6*r),n.y=e[1].y+(e[2].y-e[0].y)/(6*r);const i=new ze;return i.x=e[2].x+(e[3].x-e[1].x)/(6*r),i.y=e[2].y+(e[3].y-e[1].y)/(6*r),new Fr(e[1],n,i,e[2])}const bue=Object.freeze(Object.defineProperty({__proto__:null,curve:jI,jumpover:oue,normal:sue,rounded:uue,smooth:cue,straight:CI},Symbol.toStringTag,{value:"Module"})),Qt={TOOLS:dr.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},hm=dr.extend({className:function(){var e=dr.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){dr.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[Qt.RENDER],attrs:[Qt.UPDATE],router:[Qt.UPDATE],connector:[Qt.CONNECTOR],smooth:[Qt.UPDATE],manhattan:[Qt.UPDATE],toolMarkup:[Qt.LEGACY_TOOLS],labels:[Qt.LABELS],labelMarkup:[Qt.LABELS],vertices:[Qt.VERTICES,Qt.UPDATE],vertexMarkup:[Qt.VERTICES],source:[Qt.SOURCE,Qt.UPDATE],target:[Qt.TARGET,Qt.UPDATE]},initFlag:[Qt.RENDER,Qt.SOURCE,Qt.TARGET,Qt.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,Qt.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,Qt.SOURCE)}if(this.hasFlag(e,Qt.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,Qt.TARGET)}const{paper:r,sourceView:n,targetView:i}=this;if(r&&(n&&!r.isViewMounted(n)||i&&!r.isViewMounted(i)))return e;if(this.hasFlag(e,Qt.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),e=this.removeFlag(e,[Qt.RENDER,Qt.UPDATE,Qt.VERTICES,Qt.LABELS,Qt.TOOLS,Qt.LEGACY_TOOLS,Qt.CONNECTOR]),e;let o=!1;this.hasFlag(e,Qt.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,Qt.VERTICES));const{model:s}=this,{attributes:a}=s;let l=this.hasFlag(e,Qt.LABELS),u=this.hasFlag(e,Qt.LEGACY_TOOLS);l&&(this.onLabelsChange(s,a.labels,t),e=this.removeFlag(e,Qt.LABELS),o=!0),u&&(this.renderTools(),e=this.removeFlag(e,Qt.LEGACY_TOOLS));const f=this.hasFlag(e,Qt.UPDATE),c=this.hasFlag(e,Qt.CONNECTOR);return(f||c)&&(f?t.translateBy&&s.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[Qt.UPDATE,Qt.TOOLS,Qt.CONNECTOR]),l=!1,u=!1,o=!0),l&&this.updateLabelPositions(),u&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(e,Qt.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Qt.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(Qt.UPDATE),e)},isLabelsRenderRequired:function(e={}){const t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var r=e.propertyPathArray||[],n=r.length;if(n>1){var i=!!t[r[1]];if(i){if(n===2)return"markup"in Object(e.propertyValue);if(r[2]!=="markup")return!1}}}return!0},onLabelsChange:function(e,t,r){this.isLabelsRenderRequired(r)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=at(e);Array.isArray(t)||(t=[t]);for(var r=this._V,n=0,i=t.length;n<i;n++){var o=t[n],s=o.attr("class");s&&(s=Nae(s),r[Lr.camelCase(s)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if(typeof e=="string")return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=at(e),r=document.createDocumentFragment();if(!Array.isArray(t))r.appendChild(t.node);else for(var n=0,i=t.length;n<i;n++){var o=t[n].node;r.appendChild(o)}return{fragment:r,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment)||!e.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var r,n=t.childNodes;return n.length>1||n[0].nodeName.toUpperCase()!=="G"?r=at("g").append(t):r=at(n[0]),r.addClass("label"),{node:r.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,r=this._labelCache={},n=this._labelSelectors={},i=this.model,o=i.attributes.labels||[],s=o.length;if(s===0)return t&&t.remove(),this;t?t.empty():(t=e.labels=at("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(ra(qn(this,"className"))),t.attr("model-id",i.id)));for(var a=0;a<s;a++){var l=o[a],u=this._normalizeLabelMarkup(this._getLabelMarkup(l.markup)),f,c;if(u)f=u.node,c=u.selectors;else{var p=i._builtins.defaultLabel,m=this._normalizeLabelMarkup(this._getLabelMarkup(p.markup)),g=i._getDefaultLabel(),_=this._normalizeLabelMarkup(this._getLabelMarkup(g.markup)),v=_||m;f=v.node,c=v.selectors}f.setAttribute("label-idx",a),t.append(f),r[a]=f;var h=this.selector;if(c[h])throw new Error("dia.LinkView: ambiguous label root selector.");c[h]=f,n[a]=c}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:e,paper:t,model:r,_V:n,options:i}=this,{labels:o}=n;if(!o||!r.hasLabels())return;const{node:s}=o;i.labelsLayer?t.getLayerView(i.labelsLayer).insertSortedNode(s,r.get("z")):s.parentNode!==e&&e.appendChild(s)},unmountLabels:function(){const{options:e,_V:t}=this;if(!t)return;const{labels:r}=t;r&&e.labelsLayer&&r.remove()},findLabelNode:function(e,t){const r=this._labelCache[e];if(!r)return null;const n=this._labelSelectors[e],[i=null]=this.findBySelector(t,r,n);return i},_mergeLabelAttrs:function(e,t,r,n){return t===null?null:t===void 0?r===null?null:r===void 0?e?void 0:n:e?r:ri({},n,r):e?ri({},r,t):ri({},n,r,t)},_mergeLabelSize:function(e,t){return e===null?null:e===void 0?t===null?null:t===void 0?void 0:t:ri({},t,e)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],r=this.can("labelMove"),n=e._builtins.defaultLabel,i=n.attrs,o=e._getDefaultLabel(),s=o.markup,a=o.attrs,l=o.size,u=0,f=t.length;u<f;u++){var c=this._labelCache[u];c.setAttribute("cursor",r?"move":"default");var p=this._labelSelectors[u],m=t[u],g=m.markup,_=m.attrs,v=m.size,h=this._mergeLabelAttrs(g||s,_,a,i),E=this._mergeLabelSize(v,l);this.updateDOMSubtreeAttributes(c,h,{rootBBox:new Ot(E),selectors:p})}return this},renderTools:function(){if(!this._V.linkTools)return this;var e=Lr(this._V.linkTools.node).empty(),t=Gi(this.model.get("toolMarkup")||this.model.toolMarkup),r=at(t());if(e.append(r.node),this._toolCache=r,this.options.doubleLinkTools){var n;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=Gi(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),n=at(t())):n=r.clone(),e.append(n.node),this._tool2Cache=n}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=Lr(this._V.markerVertices.node).empty(),t=Gi(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(r,n){e.append(at(t(Jt({idx:n},r))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=Lr(this._V.markerArrowheads.node);e.empty();var t=Gi(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=at(t({end:"source"})),this._V.targetArrowhead=at(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){const r=this.model,n=r.vertices(),i=[this.sourceAnchor,...n,this.targetAnchor],o=i.length,s=new un(i);s.simplify({threshold:.001});const a=s.points.map(u=>u.toJSON()),l=a.length;return o===l?0:(r.vertices(a.slice(1,l-1),e),o-l)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new ze(this.sourceAnchor);case"target":return new ze(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new ze(this.sourcePoint);case"target":return new ze(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var r=this.targetView;if(!r)break;return this.targetMagnet||r.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){const{route:r,path:n}=this;if(!r||!n)return;const i=new un(r);i.translate(e,t),this.route=i.points,this._translateConnectionPoints(e,t),n.translate(e,t),this.updateDOM()},updateDOM(){const{el:e,model:t,selectors:r}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:r}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:e}=this,t=e.vertices(),r=this.findAnchors(t),n=this.sourceAnchor=r.source,i=this.targetAnchor=r.target,o=this.findRoute(t);this.route=o;var s=this.findConnectionPoints(o,n,i);this.sourcePoint=s.source,this.targetPoint=s.target},updatePath:function(){const{route:e,sourcePoint:t,targetPoint:r}=this,n=this.findMarkerPoints(e,t,r),i=this.findPath(e,n.source||t,n.target||r);this.path=i},findMarkerPoints:function(e,t,r){var n=e[0],i=e[e.length-1],o=this._markerCache,s,a;return this._V.markerSource&&(o.sourceBBox=o.sourceBBox||this._V.markerSource.getBBox(),s=ze(t).move(n||r,o.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(o.targetBBox=o.targetBBox||this._V.markerTarget.getBBox(),a=ze(r).move(i||t,o.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),o.sourcePoint=s||t.clone(),o.targetPoint=a||r.clone(),{source:s,target:a}},findAnchorsOrdered:function(e,t,r,n){var i,o,s,a,l=this.model,u=l.get(e),f=l.get(r),c=this.getEndView(e),p=this.getEndView(r),m=this.getEndMagnet(e),g=this.getEndMagnet(r);c?(t?s=new ze(t):p?s=g:s=new ze(f),i=this.getAnchor(u.anchor,c,m,s,e)):i=new ze(u),p?(a=new ze(n||i),o=this.getAnchor(f.anchor,p,g,a,r)):o=new ze(f);var _={};return _[e]=i,_[r]=o,_},findAnchors:function(e){var t=this.model,r=e[0],n=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",n,"source",r):this.findAnchorsOrdered("source",r,"target",n)},findConnectionPoints:function(e,t,r){var n=e[0],i=e[e.length-1],o=this.model,s=o.get("source"),a=o.get("target"),l=this.sourceView,u=this.targetView,f=this.paper.options,c,p,m;if(l&&!l.isNodeConnection(this.sourceMagnet)){c=this.sourceMagnet||l.el;var g=s.connectionPoint||f.defaultConnectionPoint,_=n||r,v=new Nt(_,t);m=this.getConnectionPoint(g,l,c,v,"source")}else m=t;var h;if(u&&!u.isNodeConnection(this.targetMagnet)){p=this.targetMagnet||u.el;var E=a.connectionPoint||f.defaultConnectionPoint,y=i||t,S=new Nt(y,r);h=this.getConnectionPoint(E,u,p,S,"target")}else h=r;return{source:m,target:h}},getAnchor:function(e,t,r,n,i){var o=t.isNodeConnection(r),s=this.paper.options;if(e||(o?e=s.defaultLinkAnchor:s.perpendicularLinks||this.options.perpendicular?e={name:"perpendicular"}:e=s.defaultAnchor),!e)throw new Error("Anchor required.");var a;if(typeof e=="function")a=e;else{var l=e.name,u=o?"linkAnchorNamespace":"anchorNamespace";if(a=s[u][l],typeof a!="function")throw new Error("Unknown anchor: "+l)}var f=a.call(this,t,r,n,e.args||{},i,this);return f?f.round(this.decimalsRounding):new ze},getConnectionPoint:function(e,t,r,n,i){var o,s=n.end,a=this.paper.options;if(typeof a.linkConnectionPoint=="function"){var l=r===t.el?void 0:r;if(o=a.linkConnectionPoint(this,t,l,n.start,i),o)return o}if(!e)return s;var u;if(typeof e=="function")u=e;else{var f=e.name;if(u=a.connectionPointNamespace[f],typeof u!="function")throw new Error("Unknown connection point: "+f)}return o=u.call(this,n,t,r,e.args||{},i,this),o?o.round(this.decimalsRounding):s},_translateConnectionPoints:function(e,t){var r=this._markerCache;r.sourcePoint.offset(e,t),r.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_getDefaultLabelPositionProperty:function(){var e=this.model,t=e._builtins.defaultLabel,r=t.position,n=e._getDefaultLabel(),i=this._normalizeLabelPosition(n.position);return ri({},r,i)},_normalizeLabelPosition:function(e){return typeof e=="number"?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return e===null?null:e===void 0?t===null?null:t:ri({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var e=this.path;if(!e)return this;var t=this.model,r=t.get("labels")||[];if(!r.length)return this;for(var n=this._getDefaultLabelPositionProperty(),i=0,o=r.length;i<o;i++){var s=this._labelCache[i];if(s){var a=r[i],l=this._normalizeLabelPosition(a.position),u=this._mergeLabelPositionProperty(l,n),f=this._getLabelTransformationMatrix(u);s.setAttribute("transform",at.matrixToTransformString(f)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(e){const{metrics:t,_labelSelectors:r}=this,n=r[e];if(n)for(let i in n){const{id:o}=n[i];o&&o in t&&delete t[o].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,r=this.getConnectionLength();if(!Number.isNaN(r)){r<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var n=this.getPointAtLength(t);if(this._toolCache.attr("transform","translate("+n.x+", "+n.y+") "+e),this.options.doubleLinkTools&&r>=this.options.longLinkLength){var i=this.options.doubleLinkToolsOffset||t;n=this.getPointAtLength(r-i),this._tool2Cache.attr("transform","translate("+n.x+", "+n.y+") "+e),this._tool2Cache.attr("display","inline")}else this.options.doubleLinkTools&&this._tool2Cache.attr("display","none")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(Lr.css(this._V.markerArrowheads.node,"display")==="none")return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){const{model:t,paper:r}=this,n=`${e}View`,i=t.get(e),o=i&&i.id;if(!o)return this[n]=null,this.updateEndMagnet(e),!0;const s=r.getModelById(o);if(!s)throw new Error("LinkView: invalid "+e+" cell.");const a=s.findView(r);return a?(this[n]=a,this.updateEndMagnet(e),!0):!1},updateEndMagnet:function(e){const t=`${e}Magnet`,r=this.getEndView(e);if(r){let n=r.getMagnetFromLinkEnd(this.model.get(e));n===r.el&&(n=null),this[t]=n}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var r=Tr(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,r[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,r[r.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){var t=this._getLabelPositionProperty(e);return t.angle||0},_getLabelPositionArgs:function(e){var t=this._getLabelPositionProperty(e);return t.args},_getDefaultLabelPositionArgs:function(){var e=this.model._getDefaultLabel(),t=e.position||{};return t.args},_mergeLabelPositionArgs:function(e,t){return e===null?null:e===void 0?t===null?null:t:ri({},t,e)},addLabel:function(e,t,r,n){var i,o,s=0,a;typeof e!="number"?(i=e.x,o=e.y,typeof t=="number"?(s=t,a=r):a=t):(i=e,o=t,typeof r=="number"?(s=r,a=n):a=r);var l=this._getDefaultLabelPositionArgs(),u=a,f=this._mergeLabelPositionArgs(u,l),c={position:this.getLabelPosition(i,o,s,f)},p=-1;return this.model.insertLabel(p,c,a),p},addVertex:function(e,t,r){var n=typeof e!="number",i=n?e.x:e,o=n?e.y:t,s=n?t:r,a={x:i,y:o},l=this.getVertexIndex(i,o);return this.model.insertVertex(l,a,s),l},sendToken:function(e,t,r){function n(c,p){return function(){c.remove(),typeof p=="function"&&p()}}var i,o,s;Wr(t)?(i=t.duration,o=t.direction==="reverse",s=t.connection):(i=t,o=!1,s=null),i=i||1e3;var a={dur:i+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};o&&(a.keyPoints="1;0",a.keyTimes="0;1");var l=at(e),u;if(typeof s=="string")u=this.findBySelector(s,this.el,this.selectors)[0];else{var f=this._V;u=f.connection?f.connection.node:this.el.querySelector("path")}if(!(u instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(a,u),setTimeout(n(l,r),i)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||Wle,r=this.model.router(),n=this.paper.options.defaultRouter;if(!r)if(n)r=n;else return e.map(ze);var i=dn(r)?r:t[r.name];if(!dn(i))throw new Error('dia.LinkView: unknown router: "'+r.name+'".');var o=r.args||{},s=i.call(this,e,o,this);return s||e.map(ze)},findPath:function(e,t,r){var n=this.paper.options.connectorNamespace||bue,i=this.model.connector(),o=this.paper.options.defaultConnector;i||(i=o||{});var s=dn(i)?i:n[i.name];if(!dn(s))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var a=ja(i.args||{});a.raw=!0;var l=s.call(this,t,r,e,a,this);return typeof l=="string"&&(l=new Bt(at.normalizePathData(l))),l},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var r=e.serialize();return t.data=r,r},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var r=e.getSegmentSubdivisions();return t.segmentSubdivisions=r,r},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var r=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=r,r},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(xi(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,r,n){var i={},o=0,s;typeof r=="number"?(o=r,s=n):s=r,s&&(i.args=s);var a=!(s&&s.absoluteDistance),l=s&&s.absoluteDistance&&s.reverseDistance,u=s&&s.absoluteOffset,f=this.path,c={segmentSubdivisions:this.getConnectionSubdivisions()},p=new ze(e,t),m=f.closestPointT(p,c),g=f.lengthAtT(m,c);a&&(g=g/this.getConnectionLength()||0),l&&(g=-1*(this.getConnectionLength()-g)||1),i.distance=g;var _;u||(_=f.tangentAtT(m));var v;if(_)v=_.pointOffset(p);else{var h=f.pointAtT(m),E=p.difference(h);v={x:E.x,y:E.y}}return i.offset=v,i.angle=o,i},_getLabelTransformationMatrix:function(e){var t,r=0,n={};if(typeof e=="number")t=e;else if(typeof e.distance=="number")n=e.args||{},t=e.distance,r=e.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var i=t>0&&t<=1,o=0,s={x:0,y:0};if(e.offset){var a=e.offset;typeof a=="number"&&(o=a),a.x&&(s.x=a.x),a.y&&(s.y=a.y)}var l=s.x!==0||s.y!==0||o===0,u=n.keepGradient,f=n.ensureLegibility,c=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},m=i?t*this.getConnectionLength():t,g=c.tangentAtLength(m,p),_,v=r;if(g){if(l)_=g.start.clone(),_.offset(s);else{var h=g.clone();h.rotate(g.start,-90),h.setLength(o),_=h.end}u&&(v=g.angle()+r,f&&(v=fa((v+90)%180-90)))}else _=c.start.clone(),l&&_.offset(s);return at.createSVGMatrix().translate(_.x,_.y).rotate(v)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new ze(t.e,t.f)},getVertexIndex:function(e,t){for(var r=this.model,n=r.vertices(),i=this.getClosestPointLength(new ze(e,t)),o=0,s=n.length;o<s;o++){var a=n[o],l=this.getClosestPointLength(a);if(i<l)break}return o},notifyPointerdown(e,t,r){dr.prototype.pointerdown.call(this,e,t,r),this.notify("link:pointerdown",e,t,r)},notifyPointermove(e,t,r){dr.prototype.pointermove.call(this,e,t,r),this.notify("link:pointermove",e,t,r)},notifyPointerup(e,t,r){this.notify("link:pointerup",e,t,r),dr.prototype.pointerup.call(this,e,t,r)},pointerdblclick:function(e,t,r){dr.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){dr.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,r)},contextmenu:function(e,t,r){dr.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.notifyPointerdown(e,t,r);var n=e.target.getAttribute("class");switch(n){case"marker-vertex":this.dragVertexStart(e,t,r);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(e,t,r);return;case"marker-arrowhead":this.dragArrowheadStart(e,t,r);return;case"connection":case"connection-wrap":this.dragConnectionStart(e,t,r);return;case"marker-source":case"marker-target":return}this.dragStart(e,t,r)},pointermove:function(e,t,r){var n=this._dragData;n&&this.eventData(e,n);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertex(e,t,r);break;case"label-move":this.dragLabel(e,t,r);break;case"arrowhead-move":this.dragArrowhead(e,t,r);break;case"move":this.drag(e,t,r);break}n&&Jt(n,this.eventData(e)),this.notifyPointermove(e,t,r)},pointerup:function(e,t,r){var n=this._dragData;n&&(this.eventData(e,n),this._dragData=null);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertexEnd(e,t,r);break;case"label-move":this.dragLabelEnd(e,t,r);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,r);break;case"move":this.dragEnd(e,t,r)}this.notifyPointerup(e,t,r),this.checkMouseleave(e)},mouseover:function(e){dr.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){dr.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){dr.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){dr.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,r,n){dr.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,r,n)},onevent:function(e,t,r,n){var i=at(e.target).findParentByClass("link-tool",this.el);if(i){if(e.stopPropagation(),this.can("useLinkTools"))if(t==="remove"){this.model.remove({ui:!0});return}else this.notify(t,e,r,n);this.notifyPointerdown(e,r,n),this.paper.delegateDragEvents(this,e.data)}else dr.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragLabelStart(e,t,r);var n=this.eventData(e).stopPropagation;n&&e.stopPropagation()},dragConnectionStart:function(e,t,r){if(this.can("vertexAdd")){var n=this.addVertex({x:t,y:r},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:n})}},dragLabelStart:function(e,t,r){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var n=e.currentTarget,i=parseInt(n.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),s=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),a=this._mergeLabelPositionProperty(s,o),l=this.getLabelCoordinates(a),u=l.x-t,f=l.y-r,c=this._getLabelPositionAngle(i),p=this._getLabelPositionArgs(i),m=this._getDefaultLabelPositionArgs(),g=this._mergeLabelPositionArgs(p,m);this.eventData(e,{action:"label-move",labelIdx:i,dx:u,dy:f,positionAngle:c,positionArgs:g,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,r){if(this.can("vertexMove")){var n=e.target,i=parseInt(n.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(e,t,r){if(this.can("vertexRemove")){var n=e.target,i=parseInt(n.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(e,t,r){if(this.can("arrowheadMove")){var n=e.target,i=n.getAttribute("end"),o=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(e,o)}},dragStart:function(e,t,r){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:r})},dragLabel:function(e,t,r){var n=this.eventData(e),i={position:this.getLabelPosition(t+n.dx,r+n.dy,n.positionAngle,n.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;const o={ui:!0};this.paper.isAsync()&&e.type==="touchmove"&&(o.async=!1),this.model.label(n.labelIdx,i,o)},dragVertex:function(e,t,r){var n=this.eventData(e);this.model.vertex(n.vertexIdx,{x:t,y:r},{ui:!0})},dragArrowhead:function(e,t,r){this.paper.options.snapLinks?!this._snapArrowhead(e,t,r)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,r):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,r):this._connectArrowhead(this.getEventTarget(e),t,r,this.eventData(e))},drag:function(e,t,r){var n=this.eventData(e);this.model.translate(t-n.dx,r-n.dy,{ui:!0}),this.eventData(e,{dx:t,dy:r})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,r){var n=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(n):this._connectArrowheadEnd(n,t,r),i.linkAllowed(this)?(this._finishEmbedding(n),this._notifyConnectEvent(n,e)):this._disallow(n),this._afterArrowheadMove(n)},dragEnd:function(){},_disallow:function(e){switch(e.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(e.arrowhead,e.initialEnd,{ui:!0});break}},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var r=e.arrowhead,n=e.initialEnd,i=this.model.prop(r),o=i&&!Gh.endsEqual(n,i);if(o){var s=this.paper;n.id&&this.notify("link:disconnect",t,s.findViewByModel(n.id),e.initialMagnet,r),i.id&&this.notify("link:connect",t,s.findViewByModel(i.id),e.magnetUnderPointer,r)}},_snapToPoints:function(e,t,r){let n=null,i=1/0,o=null,s=1/0,a=e.x,l=e.y;for(let u=0;u<t.length;u++){const f=Math.abs(t[u].x-e.x);f<i&&(i=f,n=t[u]);const c=Math.abs(t[u].y-e.y);c<s&&(s=c,o=t[u])}return i<r&&(a=n.x),s<r&&(l=o.y),{x:a,y:l}},_snapArrowheadSelf:function(e,t,r){const{paper:n,model:i}=this,{snapLinksSelf:o}=n.options,s=this.eventData(e),a=o.radius||20,l=this.getEndAnchor(s.arrowhead==="source"?"target":"source"),u=i.vertices(),f=[l,...u],c=this._snapToPoints({x:t,y:r},f,a),p=n.localToClientPoint(c);this._connectArrowhead(document.elementFromPoint(p.x,p.y),c.x,c.y,this.eventData(e))},_snapArrowhead:function(e,t,r){const{paper:n}=this,{snapLinks:i,connectionStrategy:o}=n.options,s=this.eventData(e);let a=!1;var l=i.radius||50,u=n.findViewsInArea({x:t-l,y:r-l,width:2*l,height:2*l}),f=s.closestView||null,c=s.closestMagnet||null,p=s.magnetProxy||null;s.closestView=s.closestMagnet=s.magnetProxy=null;var m=Number.MAX_VALUE,g=new ze(t,r);u.forEach(function($){const T=[];$.el.getAttribute("magnet")!=="false"&&T.push({bbox:$.model.getBBox(),magnet:$.el}),$.$("[magnet]").toArray().forEach(d=>{T.push({bbox:$.getNodeBBox(d),magnet:d})}),T.forEach(d=>{const{magnet:A,bbox:x}=d,O=x.center().squaredDistance(g);O<m&&(c===A||n.options.validateConnection.apply(n,s.validateConnectionArgs($,$.el===A?null:A)))&&(m=O,s.closestView=$,s.closestMagnet=A)})},this);var _,v=null,h=s.closestView,E=s.closestMagnet;E&&(v=s.magnetProxy=h.findProxyNode(E,"highlighter"));var y=s.arrowhead,S=c!==E;if(f&&S&&f.unhighlight(p,{connecting:!0,snapping:!0}),h){const{prevEnd:$,prevX:T,prevY:d}=s;if(s.prevX=t,s.prevY=r,a=!0,!S&&(typeof o!="function"||T===t&&d===r)||(_=h.getLinkEnd(E,t,r,this.model,y),!S&&Gd($,_)))return a;s.prevEnd=_,S&&h.highlight(v,{connecting:!0,snapping:!0})}else _={x:t,y:r};return this.model.set(y,_||{x:t,y:r},{ui:!0}),f&&this.notify("link:snap:disconnect",e,f,c,y),h&&this.notify("link:snap:connect",e,h,E,y),a},_snapArrowheadEnd:function(e){var t=e.closestView,r=e.closestMagnet;t&&r&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(r)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,r,n){const{paper:i,model:o}=this;if(n.eventTarget!==e){n.magnetProxy&&n.viewUnderPointer.unhighlight(n.magnetProxy,{connecting:!0});const s=n.viewUnderPointer=i.findView(e);if(s){const a=n.magnetUnderPointer=s.findMagnet(e),l=n.magnetProxy=s.findProxyNode(a,"highlighter");a&&this.paper.options.validateConnection.apply(i,n.validateConnectionArgs(s,a))?l&&s.highlight(l,{connecting:!0}):(n.magnetUnderPointer=null,n.magnetProxy=null)}else n.magnetUnderPointer=null,n.magnetProxy=null}n.eventTarget=e,o.set(n.arrowhead,{x:t,y:r},{ui:!0})},_connectArrowheadEnd:function(e={},t,r){const{model:n}=this,{viewUnderPointer:i,magnetUnderPointer:o,magnetProxy:s,arrowhead:a}=e;if(!o||!s||!i)return;i.unhighlight(s,{connecting:!0});const l=i.getLinkEnd(o,t,r,n,a);n.set(a,l,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){e.z!==null&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var r,n=0,i=0;e==="source"?(n=2,r="target"):(i=2,r="source");var o=this.model.get(r);if(o.id){var s=t[n]=this.paper.findViewByModel(o.id),a=s.getMagnetFromLinkEnd(o);a===s.el&&(a=void 0),t[n+1]=a}function l(u,f){return t[i]=u,t[i+1]=u.el===f?void 0:f,t}return l},_markAvailableMagnets:function(e){function t(c,p){var m=c.paper,g=m.options.validateConnection;return g.apply(m,this.validateConnectionArgs(c,p))}var r=this.paper,n=r.model.getCells();e.marked={};for(var i=0,o=n.length;i<o;i++){var s=n[i].findView(r);if(s){var a=Array.prototype.slice.call(s.el.querySelectorAll("[magnet]"));s.el.getAttribute("magnet")!=="false"&&a.push(s.el);var l=a.filter(t.bind(e,s));if(l.length>0){for(var u=0,f=l.length;u<f;u++)s.highlight(l[u],{magnetAvailability:!0});s.highlight(null,{elementAvailability:!0}),e.marked[s.model.id]=l}}}},_unmarkAvailableMagnets:function(e){for(var t=Object.keys(e.marked),r,n,i=0,o=t.length;i<o;i++){r=t[i],n=e.marked[r];var s=this.paper.findViewByModel(r);if(s){for(var a=0,l=n.length;a<l;a++)s.unhighlight(n[a],{magnetAvailability:!0});s.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var r={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:ja(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(r),t.ignoreBackwardsCompatibility!==!0&&(this._dragData=r),r},onMount:function(){dr.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){dr.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){dr.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:Qt});Object.defineProperty(hm.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new Ot(t.x,t.y)}var r=this.sourceMagnet;return e.isNodeConnection(r)?new Ot(this.sourceAnchor):e.getNodeBBox(r||e.el)}});Object.defineProperty(hm.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new Ot(t.x,t.y)}var r=this.targetMagnet;return e.isNodeConnection(r)?new Ot(this.targetAnchor):e.getNodeBBox(r||e.el)}});const _ue=na.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){const{options:r}=this,{useFirstSubpath:n}=r;let i;try{const o=at(t);if(i=o.convertToPathData().trim(),o.tagName()==="PATH"&&n){const s=i.search(/.M/i)+1;s>0&&(i=i.substr(0,s))}}catch{const s=e.getNodeBoundingRect(t);i=at.rectToPath(Jt({},r,s.toJSON()))}return i},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){const{vel:r,options:n}=this,{padding:i,layer:o}=n;let s=this.getNodeMatrix(e,t);if(i){!o&&t===e.el&&r.remove();let a=e.getNodeBoundingRect(t);const l=a.x+a.width/2,u=a.y+a.height/2;a=at.transformRect(a,s);const f=Math.max(a.width,1),c=Math.max(a.height,1),p=(f+i)/f,m=(c+i)/c,g=at.createSVGMatrix({a:p,b:0,c:0,d:m,e:l-p*l,f:u-m*u});s=s.multiply(g)}r.attr({d:this.getPathData(e,t),transform:at.matrixToTransformString(s)})},highlight(e,t){const{vel:r,options:n}=this;r.attr(n.attrs),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}}),YM=20;function Eue(e,t){const r=e.children();for(;r.length>0;){const n=r.shift();t(n)&&r.push(...n.children())}}const Sue=na.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:YM,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:r,MASK_REPLACE_TAGS:n,MASK_REMOVE_TAGS:i}=this,o=t.tagName();if(!at.isSVGGraphicsElement(t)||i.includes(o))return t.remove(),!1;if(n.includes(o)){const s=e.vel.findOne(`#${t.id}`);if(s){const{node:a}=s;let l=e.getNodeBoundingRect(a);e.model.isElement()&&(l=at.transformRect(l,e.getNodeMatrix(a)));const u=at("rect",l.toJSON()),{x:f,y:c}=l.center(),{angle:p,cx:m=f,cy:g=c}=s.rotate();p&&u.rotate(p,m,g),t.parent().append(u)}return t.remove(),!1}return r.forEach(s=>{s==="fill"&&t.attr("fill")==="none"||t.removeAttr(s)}),!0},transformMaskRoot(e,t){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:r}=this;r.forEach(n=>{t.removeAttr(n)})},getMaskShape(e,t){const{options:r,MASK_REPLACE_TAGS:n}=this,{deep:i}=r,o=t.tagName();let s;if(o==="G"){if(!i)return null;s=t.clone(),Eue(s,a=>this.transformMaskChild(e,a))}else{if(n.includes(o))return null;s=t.clone()}return this.transformMaskRoot(e,s),s},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){const{VISIBLE:r,INVISIBLE:n,options:i}=this,{padding:o,attrs:s}=i,a="stroke-width"in s?s["stroke-width"]:1,l=t.attr("fill")!=="none";let u=parseFloat(t.attr("stroke-width"));isNaN(u)&&(u=1);const f=u+o*2,c=f+a*2;let p=this.getMaskShape(e,t);if(!p){const m=e.getNodeBoundingRect(t.node);m.inflate(m.width?0:.5,m.height?0:.5),p=at("rect",m.toJSON())}return p.attr(s),at("mask",{id:this.getMaskId()}).append([p.clone().attr({fill:l?r:"none",stroke:r,"stroke-width":c}),p.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":f})])},removeMask(e){const t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){const{options:r,vel:n}=this,{padding:i,attrs:o,maskClip:s=YM,layer:a}=r,l="stroke"in o?o.stroke:"#000000";!a&&t===e.el&&n.remove();const u=e.getNodeBoundingRect(t).inflate(i+s),f=this.getNodeMatrix(e,t),c=this.getMask(e,at(t));this.addMask(e.paper,c),n.attr(u.toJSON()),n.attr({transform:at.matrixToTransformString(f),mask:`url(#${c.id})`,fill:l})},unhighlight(e){this.removeMask(e.paper)}}),$ue=na.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:ra("highlight-opacity"),highlight:function(e,t){at(t).addClass(this.opacityClassName)},unhighlight:function(e,t){at(t).removeClass(this.opacityClassName)}}),XM=ra("highlighted"),Tue=na.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:XM},highlight:function(e,t){at(t).addClass(this.options.className)},unhighlight:function(e,t){at(t).removeClass(this.options.className)}},{className:XM}),y1={ROW:"row",COLUMN:"column"},Aue=na.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){const r=e.model,{attribute:n,size:i=20,gap:o=5,direction:s=y1.ROW}=this.options;if(!n)throw new Error("List: attribute is required");const a=typeof i=="number"?{width:i,height:i}:i,l=s===y1.ROW,u=l?a.width:a.height;let f=r.get(n);Array.isArray(f)||(f=[]);const c=this._prevItems||[],p=f.map((v,h)=>Gd(c[h],f[h]));if(c.length!==f.length||p.some(v=>!v)){const v=this.vel.children(),h=f.map((E,y)=>{const S=y in v?v[y].node:null;if(p[y])return S;const $=this.createListItem(E,a,S);if(!$)return null;if(!($ instanceof SVGElement))throw new Error("List: item must be an SVGElement");$.dataset.index=y,$.dataset.attribute=n;const T=y*(u+o);return $.setAttribute("transform",l?`translate(${T}, 0)`:`translate(0, ${T})`),$});this.vel.empty().append(h),this._prevItems=f}const m=f.length,g=m===0?0:m*u+(m-1)*o,_=l?{width:g,height:a.height}:{width:a.width,height:g};this.position(r,_)},position(e,t){const{vel:r,options:n}=this,{margin:i=5,position:o="top-left"}=n,{width:s,height:a}=e.size(),{left:l,right:u,top:f,bottom:c}=Nf(i),p=new Ot(l,f,s-(l+u),a-(f+c));let{x:m,y:g}=vH(p,o);switch(o){case Dn.CENTER:case Dn.TOP:case Dn.BOTTOM:{m-=t.width/2;break}case Dn.RIGHT:case Dn.BOTTOM_RIGHT:case Dn.TOP_RIGHT:{m-=t.width;break}}switch(o){case Dn.CENTER:case Dn.RIGHT:case Dn.LEFT:{g-=t.height/2;break}case Dn.BOTTOM:case Dn.BOTTOM_RIGHT:case Dn.BOTTOM_LEFT:{g-=t.height;break}}r.attr("transform",`translate(${m}, ${g})`)}},{Directions:y1,Positions:Dn}),xue=Object.freeze(Object.defineProperty({__proto__:null,addClass:Tue,list:Aue,mask:Sue,opacity:$ue,stroke:_ue},Symbol.toStringTag,{value:"Module"}));function Oue(e,t,r,n){var i="ratio"in n?n.ratio:.5;return e.getPointAtRatio(i)}function Pue(e,t,r,n){var i="length"in n?n.length:20;return e.getPointAtLength(i)}function Rue(e,t,r,n){var i=1e6,o=e.getConnection(),s=e.getConnectionSubdivisions(),a=new Nt(r.clone().offset(0,i),r.clone().offset(0,-1e6)),l=new Nt(r.clone().offset(i,0),r.clone().offset(-1e6,0)),u=a.intersect(o,{segmentSubdivisions:s}),f=l.intersect(o,{segmentSubdivisions:s}),c=[];return u&&Array.prototype.push.apply(c,u),f&&Array.prototype.push.apply(c,f),c.length>0?r.chooseClosest(c):"fallbackAt"in n?kH(e,n.fallbackAt):CH(e,t,r,n)}function Nue(e,t,r,n){var i=e.getClosestPoint(r);return i||new ze}function Bg(e){return function(t,r,n,i){if(n instanceof Element){var o=this.paper.findView(n),s;if(o)if(o.isNodeConnection(n)){var a="fixedAt"in i?i.fixedAt:"50%";s=kH(o,a)}else s=o.getNodeBBox(n).center();else s=new ze;return e.call(this,t,r,s,i)}return e.apply(this,arguments)}}function kH(e,t){var r=parseFloat(t);return xi(t)?e.getPointAtRatio(r/100):e.getPointAtLength(r)}const Iue=Bg(Rue),CH=Bg(Nue),kue=Object.freeze(Object.defineProperty({__proto__:null,connectionClosest:CH,connectionLength:Pue,connectionPerpendicular:Iue,connectionRatio:Oue,resolveRef:Bg},Symbol.toStringTag,{value:"Module"}));function LE(e,t,r){if(zn(r)){const{x:i,y:o}=r;if(isFinite(o)){const s=new Nt(t,e),{start:a,end:l}=s.parallel(o);t=a,e=l}r=i}if(!isFinite(r))return e;var n=e.distance(t);return r===0&&n>0?e:e.move(t,-Math.min(r,n-1))}function DI(e){var t=e.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function Cue(e,t,r=0){let n,i,o,s;const{start:a,end:l}=e;switch(t){case"left":n="x",i=l,o=a,s=-1;break;case"right":n="x",i=a,o=l,s=1;break;case"top":n="y",i=l,o=a,s=-1;break;case"bottom":n="y",i=a,o=l,s=1;break;default:return}a[n]<l[n]?i[n]=o[n]:o[n]=i[n],isFinite(r)&&(i[n]+=s*r,o[n]+=s*r)}function jue(e,t,r,n){let{offset:i,alignOffset:o,align:s}=n;return s&&Cue(e,s,o),LE(e.end,e.start,i)}function jH(e,t,r,n){var i=t.getNodeBBox(r);n.stroke&&i.inflate(DI(r)/2);var o=e.intersect(i),s=o?e.start.chooseClosest(o):e.end;return LE(s,e.start,n.offset)}function Due(e,t,r,n){var i=t.model.angle();if(i===0)return jH(e,t,r,n);var o=t.getNodeUnrotatedBBox(r);n.stroke&&o.inflate(DI(r)/2);var s=o.center(),a=e.clone().rotate(s,i),l=a.setLength(1e6).intersect(o),u=l?a.start.chooseClosest(l).rotate(s,-i):e.end;return LE(u,e.start,n.offset)}function Mue(e){if(!e)return null;var t=e;do{var r=t.tagName;if(typeof r!="string")return null;if(r=r.toUpperCase(),r==="G")t=t.firstElementChild;else if(r==="TITLE")t=t.nextElementSibling;else break}while(t);return t}var w1="segmentSubdivisons",b1="shapeBBox";function Lue(e,t,r,n){var i,o,s=n.selector,a=e.end;if(typeof s=="string"?i=t.findBySelector(s)[0]:s===!1?i=r:Array.isArray(s)?i=eg(r,s):i=Mue(r),!at.isSVGGraphicsElement(i)){if(i===r||!at.isSVGGraphicsElement(r))return a;i=r}var l=t.getNodeShape(i),u=t.getNodeMatrix(i),f=t.getRootTranslateMatrix(),c=t.getRootRotateMatrix(),p=f.multiply(c).multiply(u),m=p.inverse(),g=at.transformLine(e,m),_=g.start.clone(),v=t.getNodeData(i);if(n.insideout===!1){v[b1]||(v[b1]=l.bbox());var h=v[b1];if(h.containsPoint(_))return a}var E;if(l instanceof Bt){var y=n.precision||2;v[w1]||(v[w1]=l.getSegmentSubdivisions({precision:y})),E={precision:y,segmentSubdivisions:v[w1]}}n.extrapolate===!0&&g.setLength(1e6),o=g.intersect(l,E),o?at.isArray(o)&&(o=_.chooseClosest(o)):n.sticky===!0&&(l instanceof Ot?o=l.pointNearestToPoint(_):l instanceof eo?o=l.intersectionWithLineFromCenterToPoint(_):o=l.closestPoint(_,E));var S=o?at.transformPoint(o,p):a,$=n.offset||0;return n.stroke&&($+=DI(i)/2),LE(S,e.start,$)}const Fue=jue,Bue=jH,Uue=Due,zue=Lue,que=Object.freeze(Object.defineProperty({__proto__:null,anchor:Fue,bbox:Bue,boundary:zue,rectangle:Uue},Symbol.toStringTag,{value:"Module"}));function Hl(e){return function(t,r,n,i){var o=!!i.rotate,s=o?t.getNodeUnrotatedBBox(r):t.getNodeBBox(r),a=s[e](),l=i.dx;if(l){var u=xi(l);l=parseFloat(l),isFinite(l)&&(u&&(l/=100,l*=s.width),a.x+=l)}var f=i.dy;if(f){var c=xi(f);f=parseFloat(f),isFinite(f)&&(c&&(f/=100,f*=s.height),a.y+=f)}return o?a.rotate(t.model.getBBox().center(),-t.model.angle()):a}}function Vue(e,t,r,n){var i=e.model.angle(),o=e.getNodeBBox(t),s=o.center(),a=o.origin(),l=o.corner(),u=n.padding;if(isFinite(u)||(u=0),a.y+u<=r.y&&r.y<=l.y-u){var f=r.y-s.y;s.x+=i===0||i===180?0:f*1/Math.tan(xo(i)),s.y+=f}else if(a.x+u<=r.x&&r.x<=l.x-u){var c=r.x-s.x;s.y+=i===90||i===270?0:c*Math.tan(xo(i)),s.x+=c}return s}function Hue(e,t,r,n){var i=!!n.rotate,o,s,a;i?(o=e.getNodeUnrotatedBBox(t),a=e.model.getBBox().center(),s=e.model.angle()):o=e.getNodeBBox(t);var l=n.padding;isFinite(l)&&o.inflate(l),i&&r.rotate(a,s);var u=o.sideNearestToPoint(r),f;switch(u){case"left":f=o.leftMiddle();break;case"right":f=o.rightMiddle();break;case"top":f=o.topMiddle();break;case"bottom":f=o.bottomMiddle();break}return i?f.rotate(a,-s):f}function Wue(e,t,r,n,i){return e.model.getPointFromConnectedLink(this.model,i).offset(n.dx,n.dy)}const Gue=Hl("center"),Kue=Hl("topMiddle"),Jue=Hl("bottomMiddle"),Yue=Hl("leftMiddle"),Xue=Hl("rightMiddle"),Que=Hl("origin"),Zue=Hl("topRight"),ece=Hl("bottomLeft"),tce=Hl("corner"),rce=Bg(Vue),nce=Bg(Hue),ice=Wue,oce=Object.freeze(Object.defineProperty({__proto__:null,bottom:Jue,bottomLeft:ece,bottomRight:tce,center:Gue,left:Yue,midSide:nce,modelCenter:ice,perpendicular:rce,right:Xue,top:Kue,topLeft:Que,topRight:Zue},Symbol.toStringTag,{value:"Module"})),vd={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},sce=50,QM=20,ZM=1e3,ace=1/0,Qv=9007199254740991,_1=dr.Highlighting,eL={[_1.DEFAULT]:{name:"stroke",options:{padding:3}},[_1.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[_1.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},lce=[{name:bs.BACK},{name:bs.CELLS},{name:bs.LABELS},{name:bs.FRONT},{name:bs.TOOLS}],uce=Wu.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:Dw,linkView:hm,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:eL,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new Gh,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,r){return t.getAttribute("magnet")!=="passive"},validateConnection:function(e,t,r,n,i,o){return(i==="target"?r:e)instanceof Dw},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:vd.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,r,n,i){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||n.mounting||n.isolate||i.requestConnectedLinksUpdate(e,r,n)},onViewPostponed:function(e,t,r){return r.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:xue,anchorNamespace:oce,linkAnchorNamespace:kue,connectionPointNamespace:que,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:e,el:t}=this;e.cellViewNamespace||(e.cellViewNamespace=typeof joint<"u"&&Iu(joint,"shapes")?joint.shapes:null);const r=this.model=e.model||new II;this._layers={},this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=Lr(t.ownerDocument),this.resetViews(r.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,r){var n=r.position;this.isAsync()||!wo(n)?this.renderView(e,r):(r.maxPosition===n&&this.freeze({key:"addCells"}),this.renderView(e,r),n===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,r){const n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_REMOVE,n.UPDATE_PRIORITY,r)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===vd.APPROX){const r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_INSERT,r.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,r=this.model;if(!this.isAsync()){var n=this.UPDATE_DELAYING_BATCHES;n.includes(t)&&!r.hasActiveBatch(n)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!r.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){const{options:e}=this,{defaultConnector:t,defaultRouter:r,defaultConnectionPoint:n,defaultAnchor:i,defaultLinkAnchor:o,origin:s,highlighting:a,cellViewNamespace:l,interactive:u}=e;!l&&typeof joint<"u"&&Iu(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),dn(t)||(e.defaultConnector=ys(t)),dn(r)||(e.defaultRouter=ys(r)),dn(n)||(e.defaultConnectionPoint=ys(n)),dn(i)||(e.defaultAnchor=ys(i)),dn(o)||(e.defaultLinkAnchor=ys(o)),zn(u)&&(e.interactive=Jt({},u)),zn(a)&&(e.highlighting=RI({},a,eL)),e.origin=Jt({},s)},children:function(){var e=at.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:ra("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:ra("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:ra("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){const{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();const{childNodes:e,options:t}=this,{svg:r,defs:n,layers:i,background:o,grid:s}=e;return r.style.overflow=t.overflow?"visible":"hidden",this.svg=r,this.defs=n,this.layers=i,this.$background=Lr(o),this.$grid=Lr(s),this.renderLayers(),at.ensureId(r),t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},renderLayers:function(e=lce){this.removeLayers(),e.forEach(({name:i,sorted:o})=>{const s=new vle({name:i});this.layers.appendChild(s.el),this._layers[i]=s});const t=this.getLayerView(bs.CELLS),r=this.getLayerView(bs.TOOLS),n=this.getLayerView(bs.LABELS);this.tools=r.el,this.cells=this.viewport=t.el,t.vel.addClass(ra("viewport")),n.vel.addClass(ra("viewport"))},removeLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].remove(),delete e[t]})},resetLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(e===void 0){var r=t.getAttribute("transform");return(this._viewportTransformString||null)===r?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=r),at.createSVGMatrix(e)}e=at.createSVGMatrix(e);var n=at.matrixToTransformString(e);return t.setAttribute("transform",n),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return at.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,r){if(e instanceof dr)for(var n=e.model,i=this.model.getConnectedLinks(n),o=0,s=i.length;o<s;o++){var a=i[o],l=this.findViewByModel(a);if(l){var u=["UPDATE"];a.getTargetCell()===n&&u.push("TARGET"),a.getSourceCell()===n&&u.push("SOURCE");var f=Math.max(t+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(u),f,r)}}},forcePostponedViewUpdate:function(e,t){if(!e||!(e instanceof dr))return!1;var r=e.model;if(r.isElement())return!1;if(!(t&e.getFlag(["SOURCE","TARGET"]))){var n={silent:!0},i=0,o=this.findViewByModel(r.getSourceCell());o&&!this.isViewMounted(o)&&(i=this.dumpView(o,n),e.updateEndMagnet("source"));var s=0,a=this.findViewByModel(r.getTargetCell());if(a&&!this.isViewMounted(a)&&(s=this.dumpView(a,n),e.updateEndMagnet("target")),i===0&&s===0)return!this.dumpView(e,n)}return!1},requestViewUpdate:function(e,t,r,n){n||(n={}),this.scheduleViewUpdate(e,t,r,n);var i=this.isAsync();if(!(this.isFrozen()||i&&n.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var o=this.updateViews(n);i&&this.notifyAfterRender(o,n)}},scheduleViewUpdate:function(e,t,r,n){const{_updates:i,options:o}=this;i.idle&&o.autoFreeze&&(i.idle=!1,this.unfreeze());const{FLAG_REMOVE:s,FLAG_INSERT:a,UPDATE_PRIORITY:l,cid:u}=e;let f=i.priorities[r];if(f||(f=i.priorities[r]={}),r>l)for(let m=r-1;m>=l;m--){const g=i.priorities[m];!g||!(u in g)||(f[u]|=g[u],delete g[u])}let c=f[u]||0;if((c&t)===t)return;c||i.count++,t&s&&c&a?f[u]^=a:t&a&&c&s&&(f[u]^=s),f[u]|=t;const p=o.onViewUpdate;typeof p=="function"&&p.call(this,e,t,r,n||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var t=this._updates,r=e.cid,n=t.priorities[e.UPDATE_PRIORITY],i=this.registerMountedView(e)|n[r];return delete n[r],i},dumpView:function(e,t={}){const r=this.dumpViewUpdate(e);if(!r)return 0;const n=!t.silent;n&&this.notifyBeforeRender(t);const i=this.updateView(e,r,t);if(n){const o={updated:1,priority:e.UPDATE_PRIORITY};this.notifyAfterRender(o,t)}return i},updateView:function(e,t,r){if(!e)return 0;const{FLAG_REMOVE:n,FLAG_INSERT:i,FLAG_INIT:o,model:s}=e;if(e instanceof dr){if(t&n)return this.removeView(s),0;if(t&i){const a=!!(t&o);a&&(t^=o),this.insertView(e,a),t^=i}}return t?e.confirmUpdate(t,r||{}):0},requireView:function(e,t){var r=this.findViewByModel(e);return r?(this.dumpView(r,t),r):null},registerUnmountedView:function(e){var t=e.cid,r=this._updates;if(t in r.unmounted)return 0;var n=r.unmounted[t]|=e.FLAG_INSERT;return r.unmountedCids.push(t),delete r.mounted[t],n},registerMountedView:function(e){var t=e.cid,r=this._updates;if(t in r.mounted)return 0;r.mounted[t]=!0,r.mountedCids.push(t);var n=r.unmounted[t]||0;return delete r.unmounted[t],n},isViewMounted:function(e){if(!e)return!1;var t=e.cid,r=this._updates;return t in r.mounted},dumpViews:function(e){var t=vs({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,r=0,n=0,i=Qv;do n++,t=this.updateViewsBatch(e),r+=t.updated,i=Math.min(t.priority,i);while(!t.empty);const o={updated:r,batches:n,priority:i};return this.notifyAfterRender(o,e),o},hasScheduledUpdates:function(){const e=this._updates.priorities,t=Object.keys(e);let r=t.length;for(;r>0&&r--;)for(let n in e[t[r]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:Qv});const{_updates:r,options:n}=this,i=r.id;if(i){OO(i),t.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);const o=this.updateViewsBatch(e),s=vs({},e,{mountBatchSize:ZM-o.mounted,unmountBatchSize:ZM-o.unmounted}),a=this.checkViewport(s),l=a.unmounted,u=a.mounted;let f=t.processed;const c=r.count;o.updated>0?(f+=o.updated+o.unmounted,o.processed=f,t.priority=Math.min(o.priority,t.priority),o.empty&&u===0?(o.unmounted+=l,o.mounted+=u,o.priority=t.priority,this.notifyAfterRender(o,e),t.processed=0,t.priority=Qv,r.count=0):t.processed=f):r.idle||n.autoFreeze&&(this.freeze(),r.idle=!0,this.trigger("render:idle",e));const p=e.progress;if(c&&typeof p=="function"&&p.call(this,o.empty,f,c,o,this),r.id!==i)return}if(r.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");r.id=xO(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;typeof t!="function"&&(t=this.options.beforeRender,typeof t!="function")||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let r=t.afterRender;typeof r!="function"&&(r=this.options.afterRender),typeof r=="function"&&r.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||ace,r=this._updates,n=0,i=0,o=0,s=0,a=Qv,l=!0,u=this.options,f=r.priorities,c="viewport"in e?e.viewport:u.viewport;typeof c!="function"&&(c=null);var p=u.onViewPostponed;typeof p!="function"&&(p=null);var m=Object.keys(f);e:for(var g=0,_=m.length;g<_;g++){var v=+m[g],h=f[v];for(var E in h){if(n>=t){l=!1;break e}var y=Gc[E];if(!y){delete h[E];continue}var S=h[E];if(!(S&y.FLAG_REMOVE)){var $=E in r.unmounted;if(y.DETACHABLE&&c&&!c.call(this,y,!$,this)){$||(this.registerUnmountedView(y),this.detachView(y)),r.unmounted[E]|=S,delete h[E],o++;continue}$&&(S|=y.FLAG_INSERT,s++),S|=this.registerMountedView(y)}var T=this.updateView(y,S,e);if(T>0&&(h[E]=T,!p||!p.call(this,y,T,this)||h[E])){i++,l=!1;continue}a>v&&(a=v),n++,delete h[E]}}return{priority:a,updated:n,postponed:i,unmounted:o,mounted:s,empty:l}},getUnmountedViews:function(){const e=this._updates,t=Object.keys(e.unmounted),r=t.length,n=new Array(r);for(var i=0;i<r;i++)n[i]=Gc[t[i]];return n},getMountedViews:function(){const e=this._updates,t=Object.keys(e.mounted),r=t.length,n=new Array(r);for(var i=0;i<r;i++)n[i]=Gc[t[i]];return n},checkUnmountedViews:function(e,t){t||(t={});var r=0;typeof e!="function"&&(e=null);for(var n=("mountBatchSize"in t)?t.mountBatchSize:1/0,i=this._updates,o=i.unmountedCids,s=i.unmounted,a=0,l=Math.min(o.length,n);a<l;a++){var u=o[a];if(u in s){var f=Gc[u];if(f){if(f.DETACHABLE&&e&&!e.call(this,f,!1,this)){o.push(u);continue}r++;var c=this.registerMountedView(f);c&&this.scheduleViewUpdate(f,c,f.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,a),r},checkMountedViews:function(e,t){t||(t={});var r=0;if(typeof e!="function")return r;for(var n=("unmountBatchSize"in t)?t.unmountBatchSize:1/0,i=this._updates,o=i.mountedCids,s=i.mounted,a=0,l=Math.min(o.length,n);a<l;a++){var u=o[a];if(u in s){var f=Gc[u];if(f){if(!f.DETACHABLE||e.call(this,f,!0,this)){o.push(u);continue}r++;var c=this.registerUnmountedView(f);c&&this.detachView(f)}}}return o.splice(0,a),r},checkViewVisibility:function(e,t={}){let r="viewport"in t?t.viewport:this.options.viewport;typeof r!="function"&&(r=null);const n=this._updates,{mounted:i,unmounted:o}=n,s=!e.DETACHABLE||!r||r.call(this,e,!1,this);let a=!1,l=!1;if(e.cid in i&&!s){this.registerUnmountedView(e)&&this.detachView(e);const c=n.mountedCids.indexOf(e.cid);n.mountedCids.splice(c,1),a=!0}if(!a&&e.cid in o&&s){const f=n.unmountedCids.indexOf(e.cid);n.unmountedCids.splice(f,1);var u=this.registerMountedView(e);u&&this.scheduleViewUpdate(e,u,e.UPDATE_PRIORITY,{mounting:!0}),l=!0}return{mounted:l?1:0,unmounted:a?1:0}},checkViewport:function(e){var t=vs({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),r="viewport"in t?t.viewport:this.options.viewport,n=this.checkMountedViews(r,t);if(n>0){var i=this._updates.unmountedCids;t.mountBatchSize=Math.min(i.length-n,t.mountBatchSize)}var o=this.checkUnmountedViews(r,t);return{mounted:o,unmounted:n}},freeze:function(e){e||(e={});var t=this._updates,r=e.key,n=this.options.frozen,i=t.freezeKey;if(r&&r!==i){if(n&&i)return;t.freezeKey=r,t.keyFrozen=n}this.options.frozen=!0;var o=t.id;t.id=null,this.isAsync()&&o&&OO(o)},unfreeze:function(e){e||(e={});var t=this._updates,r=e.key,n=t.freezeKey;r&&n&&r!==n||(t.freezeKey=null,!(r&&r===n&&t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===vd.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,r=e.height;return wo(t)||(t=this.el.clientWidth),wo(r)||(r=this.el.clientHeight),{width:t,height:r}},setDimensions:function(e,t){const{options:r}=this,{width:n,height:i}=r;let o=e===void 0?n:e,s=t===void 0?i:t;if(n===o&&i===s)return;r.width=o,r.height=s,this._setDimensions();const a=this.getComputedSize();this.trigger("resize",a.width,a.height)},_setDimensions:function(){const{options:e}=this;let t=e.width,r=e.height;wo(t)&&(t=Math.round(t)),wo(r)&&(r=Math.round(r)),this.$el.css({width:t===null?"":t,height:r===null?"":r})},setOrigin:function(e,t){return this.translate(e||0,t||0)},fitToContent:function(e,t,r,n){Wr(e)?n=e:n=Jt({gridWidth:e,gridHeight:t,padding:r},n);const{x:i,y:o,width:s,height:a}=this.getFitToContentArea(n),{sx:l,sy:u}=this.scale();return this.setOrigin(-i*l,-o*u),this.setDimensions(s*l,a*u),new Ot(i,o,s,a)},getFitToContentArea:function(e={}){const t=e.gridWidth||1,r=e.gridHeight||1,n=Nf(e.padding||0),i=Math.max(e.minWidth||0,t),o=Math.max(e.minHeight||0,r),s=e.maxWidth||Number.MAX_VALUE,a=e.maxHeight||Number.MAX_VALUE,l=e.allowNewOrigin,u="contentArea"in e?new Ot(e.contentArea):this.getContentArea(e),{sx:f,sy:c}=this.scale();u.x*=f,u.y*=c,u.width*=f,u.height*=c;let p=Math.ceil((u.width+u.x)/t),m=Math.ceil((u.height+u.y)/r);e.allowNegativeBottomRight||(p=Math.max(p,1),m=Math.max(m,1)),p*=t,m*=r;let g=0;(l==="negative"&&u.x<0||l==="positive"&&u.x>=0||l==="any")&&(g=Math.ceil(-u.x/t)*t,g+=n.left,p+=g);let _=0;return(l==="negative"&&u.y<0||l==="positive"&&u.y>=0||l==="any")&&(_=Math.ceil(-u.y/r)*r,_+=n.top,m+=_),p+=n.right,m+=n.bottom,p=Math.max(p,i),m=Math.max(m,o),p=Math.min(p,s),m=Math.min(m,a),new Ot(-g/f,-_/c,p/f,m/c)},transformToFitContent:function(e){e||(e={});let t,r;if("contentArea"in e){const v=e.contentArea;t=this.localToPaperRect(v),r=new ze(v)}else t=this.getContentBBox(e),r=this.paperToLocalPoint(t);if(!t.width||!t.height)return;vs(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const n=Nf(e.padding),i=e.minScaleX||e.minScale,o=e.maxScaleX||e.maxScale,s=e.minScaleY||e.minScale,a=e.maxScaleY||e.maxScale;let l;if(e.fittingBBox)l=e.fittingBBox;else{const v=this.translate(),h=this.getComputedSize();l={x:v.tx,y:v.ty,width:h.width,height:h.height}}l=new Ot(l).moveAndExpand({x:n.left,y:n.top,width:-n.left-n.right,height:-n.top-n.bottom});const u=this.scale();let f=l.width/t.width*u.sx,c=l.height/t.height*u.sy;if(e.preserveAspectRatio&&(f=c=Math.min(f,c)),e.scaleGrid){const v=e.scaleGrid;f=v*Math.floor(f/v),c=v*Math.floor(c/v)}f=Math.min(o,Math.max(i,f)),c=Math.min(a,Math.max(s,c));const p={x:f/u.sx,y:c/u.sy},m=this.options.origin;let g=l.x-r.x*f-m.x,_=l.y-r.y*c-m.y;switch(e.verticalAlign){case"middle":_=_+(l.height-t.height*p.y)/2;break;case"bottom":_=_+(l.height-t.height*p.y);break}switch(e.horizontalAlign){case"middle":g=g+(l.width-t.width*p.x)/2;break;case"right":g=g+(l.width-t.width*p.x);break}this.scale(f,c),this.translate(g,_)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new Ot:at(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){const{restrictTranslate:t}=this.options;let r;return dn(t)?r=t.apply(this,e):t===!0?r=this.getArea():t?r=new Ot(t):r=null,r},createViewForModel:function(e){const{options:t}=this;var r,n,i=t.cellViewNamespace,o=e.get("type")+"View",s=eg(i,o,".");e.isLink()?(r=t.linkView,n=hm):(r=t.elementView,n=Dw);var a=r.prototype instanceof Li.View?s||r:r.call(this,e)||s||n;return new a({model:e,interactive:t.interactive,labelsLayer:t.labelsLayer===!0?bs.LABELS:t.labelsLayer})},removeView:function(e){const{id:t}=e,{_views:r,_updates:n}=this,i=r[t];if(i){var{cid:o}=i;const{mounted:s,unmounted:a}=n;i.remove(),delete r[t],delete s[o],delete a[o]}return i},renderView:function(e,t){const{id:r}=e,n=this._views;let i,o,s=!0;return r in n&&(i=n[r],i.model===e?(o=i.FLAG_INSERT,s=!1):this.removeView(e)),s&&(i=n[r]=this.createViewForModel(e),i.paper=this,o=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(qn(i,"initFlag"))),this.requestViewUpdate(i,o,i.UPDATE_PRIORITY,t),i},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();const r=this.options.autoFreeze?null:"reset";this.freeze({key:r});for(var n=0,i=e.length;n<i;n++)this.renderView(e[n],t);this.unfreeze({key:r}),this.sortViews()},removeViews:function(){za(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var e=Lr(this.cells).children("[model-id]"),t=this.model.get("cells");Fae(e,function(r,n){var i=t.get(r.getAttribute("model-id")),o=t.get(n.getAttribute("model-id")),s=i.attributes.z||0,a=o.attributes.z||0;return s===a?0:s<a?-1:1})},insertView:function(e,t){const r=this.getLayerView(bs.CELLS),{el:n,model:i}=e;switch(this.options.sorting){case vd.APPROX:r.insertSortedNode(n,i.get("z"));break;case vd.EXACT:default:r.insertNode(n);break}e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},scale:function(e,t,r,n){if(e===void 0)return at.matrixToScale(this.matrix());t===void 0&&(t=e),r===void 0&&(r=0,n=0);var i=this.translate();if(r||n||i.tx||i.ty){var o=i.tx-r*(e-1),s=i.ty-n*(t-1);this.translate(o,s)}e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var a=this.matrix();return a.a=e,a.d=t,this.matrix(a),this.trigger("scale",e,t,r,n),this},rotate:function(e,t,r){if(e===void 0)return at.matrixToRotate(this.matrix());if(t===void 0){var n=this.cells.getBBox();t=n.width/2,r=n.height/2}var i=this.matrix().translate(t,r).rotate(e).translate(-t,-r);return this.matrix(i),this},translate:function(e,t){if(e===void 0)return at.matrixToTranslate(this.matrix());const{options:r}=this,{origin:n,drawGrid:i}=r;e||(e=0),t||(t=0);const o=this.matrix();if(o.e===e&&o.f===t)return this;o.e=e,o.f=t,this.matrix(o);const{tx:s,ty:a}=this.translate();return n.x=s,n.y=a,this.trigger("translate",s,a),i&&this.drawGrid(),this},findView:function(e){var t=Ui(e)?this.cells.querySelector(e):e instanceof Lr?e[0]:e,r=this.findAttribute("model-id",t);if(r)return this._views[r]},findViewByModel:function(e){var t=Ui(e)||wo(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){e=new ze(e);var t=this.model.getElements().map(this.findViewByModel,this);return t.filter(function(r){return r&&r.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=vs(t||{},{strict:!1}),e=new Ot(e);var r=this.model.getElements().map(this.findViewByModel,this),n=t.strict?"containsRect":"intersect";return r.filter(function(i){return i&&e[n](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){typeof e=="string"&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var r=new ze(e,t),n=at.transformPoint(r,this.matrix());return n},localToPaperRect:function(e,t,r,n){var i=new Ot(e,t,r,n),o=at.transformRect(i,this.matrix());return o},paperToLocalPoint:function(e,t){var r=new ze(e,t),n=at.transformPoint(r,this.matrix().inverse());return n},paperToLocalRect:function(e,t,r,n){var i=new Ot(e,t,r,n),o=at.transformRect(i,this.matrix().inverse());return o},localToClientPoint:function(e,t){var r=new ze(e,t),n=at.transformPoint(r,this.clientMatrix());return n},localToClientRect:function(e,t,r,n){var i=new Ot(e,t,r,n),o=at.transformRect(i,this.clientMatrix());return o},clientToLocalPoint:function(e,t){var r=new ze(e,t),n=at.transformPoint(r,this.clientMatrix().inverse());return n},clientToLocalRect:function(e,t,r,n){var i=new Ot(e,t,r,n),o=at.transformRect(i,this.clientMatrix().inverse());return o},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,r,n){return this.localToPaperRect(e,t,r,n).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var r=new ze(e,t),n=r.difference(this.pageOffset());return this.paperToLocalPoint(n)},pageToLocalRect:function(e,t,r,n){var i=this.pageOffset(),o=new Ot(e,t,r,n);return o.x-=i.x,o.y-=i.y,this.paperToLocalRect(o)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new ze(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof hm))throw new Error("Must provide a linkView.");var t=e.model,r=this.options,n=this.model,i=n.constructor.validations;return!(!r.multiLinks&&!i.multiLinks.call(this,n,t)||!r.linkPinning&&!i.linkPinning.call(this,n,t)||typeof r.allowLink=="function"&&!r.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return dn(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:r}=e;const{highlighting:n,highlighterNamespace:i}=this.options;if(t===void 0){if(!n||r&&(t=n[r],t===!1))return!1;t||(t=n.default)}if(!t)return!1;Ui(t)&&(t={name:t});const o=t.name,s=i[o];if(!s)throw new Error('Unknown highlighter ("'+o+'")');if(typeof s.highlight!="function")throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if(typeof s.unhighlight!="function")throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:s,options:t.options||{},name:o}},onCellHighlight:function(e,t,r){const n=this.resolveHighlighter(r);if(!n)return;const{highlighter:i,options:o}=n;i.highlight(e,t,o)},onCellUnhighlight:function(e,t,r){const n=this.resolveHighlighter(r);if(!n)return;const{highlighter:i,options:o}=n;i.unhighlight(e,t,o)},pointerdblclick:function(e){e.preventDefault(),e=wi(e);var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,r.x,r.y):this.trigger("blank:pointerdblclick",e,r.x,r.y)}},pointerclick:function(e){var t=this.eventData(e);if(t.mousemoved<=this.options.clickThreshold){e=wi(e);var r=this.findView(e.target);if(this.guard(e,r))return;var n=this.snapToGrid(e.clientX,e.clientY);r?r.pointerclick(e,n.x,n.y):this.trigger("blank:pointerclick",e,n.x,n.y)}},contextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}e=wi(e),this.contextMenuTrigger(e)},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,r.x,r.y):this.trigger("blank:contextmenu",e,r.x,r.y)}},pointerdown:function(e){e=wi(e);const{target:t,button:r}=e,n=this.findView(t),i=r===2;if(n){if(!i&&this.guard(e,n))return;const o=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!o&&e.preventDefault(),o&&n.preventDefaultInteraction(e);const s=this.customEventTrigger(e,n);if(s){if(s.isPropagationStopped())return;e.data=s.data}const a=t.closest("[magnet]");if(a&&n.el!==a&&n.el.contains(a)){const l=wi(Lr.Event(e.originalEvent,{data:e.data,currentTarget:a}));if(this.onmagnet(l),l.isDefaultPrevented()&&e.preventDefault(),l.isPropagationStopped()){if(i)return;this.delegateDragEvents(n,l.data);return}e.data=l.data}}if(i){this.contextMenuFired=!0;const o=Lr.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(o)}else{const o=this.snapToGrid(e.clientX,e.clientY);n?n.pointerdown(e,o.x,o.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,o.x,o.y)),this.delegateDragEvents(n,e.data)}},pointermove:function(e){var t=this.eventData(e);t.mousemoved||(t.mousemoved=0,this.undelegateEvents());var r=++t.mousemoved;if(!(r<=this.options.moveThreshold)){e=wi(e);var n=this.snapToGrid(e.clientX,e.clientY),i=t.sourceView;i?i.pointermove(e,n.x,n.y):this.trigger("blank:pointermove",e,n.x,n.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=wi(e),r=this.snapToGrid(t.clientX,t.clientY),n=this.eventData(e).sourceView;n?n.pointerup(t,r.x,r.y):this.trigger("blank:pointerup",t,r.x,r.y),t.isPropagationStopped()||this.pointerclick(Lr.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=wi(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=wi(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=wi(e);const{target:t,relatedTarget:r,currentTarget:n}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(r);i&&(o===i||(i.mouseenter(e),this.el.contains(r)))||o||n===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=wi(e);const{target:t,relatedTarget:r,currentTarget:n}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(r);i&&(o===i||(i.mouseleave(e),this.el.contains(r)))||o||n===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:$ae(function(){const{event:e,deltas:t}=this._mw_evt_buffer,r=t.reduce((s,a)=>s+jae(a,sce),0),n=Math.pow(.995,r),{x:i,y:o}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,i,o,n),this._mw_evt_buffer={event:null,deltas:[]}},QM,{maxWait:QM}),mousewheel:function(e){e=wi(e);const t=this.findView(e.target);if(this.guard(e,t))return;const r=e.originalEvent,n=this.snapToGrid(r.clientX,r.clientY),{deltaX:i,deltaY:o}=Cae(r),s=this._events["paper:pinch"];if(e.ctrlKey&&s&&s.length>0)r.preventDefault(),this._mw_evt_buffer.event=r,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{const a=Math.max(-1,Math.min(1,r.wheelDelta));t?t.mousewheel(e,n.x,n.y,a):this.trigger("blank:mousewheel",e,n.x,n.y,a),this.trigger("paper:pan",e,i,o)}},onevent:function(e){var t=e.currentTarget,r=t.getAttribute("event");if(r){var n=this.findView(t);if(n){if(e=wi(e),this.guard(e,n))return;var i=this.snapToGrid(e.clientX,e.clientY);n.onevent(e,r,i.x,i.y)}}},magnetEvent:function(e,t){var r=e.currentTarget,n=r.getAttribute("magnet");if(n){var i=this.findView(r);if(i){if(e=wi(e),this.guard(e,i))return;var o=this.snapToGrid(e.clientX,e.clientY);t.call(this,i,e,r,o.x,o.y)}}},onmagnet:function(e){if(e.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const t=Lr.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,function(t,r,n,i,o){t.onmagnet(r,i,o)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,r,n,i,o){t.magnetpointerdblclick(r,n,i,o)})},magnetcontextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,function(t,r,n,i,o){t.magnetcontextmenu(r,n,i,o)})},onlabel:function(e){var t=e.currentTarget,r=this.findView(t);if(!r||(e=wi(e),this.guard(e,r)))return;const n=this.customEventTrigger(e,r,t);if(n){if(n.isPropagationStopped())return;e.data=n.data}var i=this.snapToGrid(e.clientX,e.clientY);r.onlabel(e,i.x,i.y)},getPointerArgs(e){const t=wi(e),{x:r,y:n}=this.snapToGrid(t.clientX,t.clientY);return[t,r,n]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if(e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&e.data.guarded!==void 0)return e.data.guarded;const{target:r}=e;return this.GUARDED_TAG_NAMES.includes(r.tagName)?!0:!(t&&t.model&&t.model instanceof Qa||this.svg===r||this.el===r||Lr.contains(this.svg,r))},setGridSize:function(e){const{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:at("svg",{width:"100%",height:"100%"},at("defs")),patterns:{},add:function(e,t){at(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(at("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return this.patterns[e]!==void 0}}),this._gridCache},setGrid:function(e){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var t=Array.isArray(e)?e:[e||{}];return t.forEach(function(r){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(r))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(Ui(e)&&Array.isArray(t[e]))return t[e].map(function(l){return Jt({},l)});var r=e||{args:[{}]},n=Array.isArray(r),i=r.name;if(!n&&!i&&!r.markup&&(i="dot"),i&&Array.isArray(t[i])){var o=t[i].map(function(l){return Jt({},l)}),s=Array.isArray(r.args)?r.args:[r.args||{}];vs(s[0],Zm(e,"args"));for(var a=0;a<s.length;a++)o[a]&&Jt(o[a],s[a]);return o}return n?r:[r]},drawGrid:function(e){const t=this.options.drawGridSize||this.options.gridSize;if(t<=1)return this.clearGrid();var r=Array.isArray(e)?e:[e],n=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(s,a){var l="pattern_"+a,u=ri(s,r[a],{sx:n.a||1,sy:n.d||1,ox:n.e||0,oy:n.f||0});u.width=t*(n.a||1)*(u.scaleFactor||1),u.height=t*(n.d||1)*(u.scaleFactor||1),i.exist(l)||i.add(l,at("pattern",{id:l,patternUnits:"userSpaceOnUse"},at(u.markup)));var f=i.get(l);dn(u.update)&&u.update(f.node.childNodes[0],u);var c=u.ox%u.width;c<0&&(c+=u.width);var p=u.oy%u.height;p<0&&(p+=u.height),f.attr({x:c,y:p,width:u.width,height:u.height})});var o=new XMLSerializer().serializeToString(i.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(e){e=e||{};var t=e.position||"center",r=e.size||"auto auto",n=this.scale(),i=this.translate();if(Wr(t)){var o=i.tx+n.sx*(t.x||0),s=i.ty+n.sy*(t.y||0);t=o+"px "+s+"px"}Wr(r)&&(r=new Ot(r).scale(n.sx,n.sy),r=r.width+"px "+r.height+"px"),this.$background.css({backgroundSize:r,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(!(e instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==t.id)){t=t||{};var r,n=t.size,i=t.repeat||"no-repeat",o=t.opacity||1,s=Math.abs(t.quality)||1,a=this.constructor.backgroundPatterns[Oae(i)];if(dn(a)){e.width*=s,e.height*=s;var l=a(e,t);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");r=l.toDataURL("image/png"),i="repeat",Wr(n)?(n.width*=l.width/e.width,n.height*=l.height/e.height):n===void 0&&(t.size={width:l.width/s,height:l.height/s})}else r=e.src,n===void 0&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:o,backgroundRepeat:i,backgroundImage:"url("+r+")"}),this.updateBackgroundImage(t)}},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(e=e||{},this.updateBackgroundColor(e.color),e.image){e=this._background=ys(e),Kd(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,za(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!Wr(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,r=e.name;if(t||(t=r+this.svg.id+Vv(JSON.stringify(e))),!this.isDefined(t)){var n=Uae,i=n[r]&&n[r](e.args||{});if(!i)throw new Error("Non-existing filter "+r);var o=Jt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});at(i,o).appendTo(this.defs)}return t},defineGradient:function(e){if(!Wr(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:t,defs:r}=this,{type:n,id:i=n+t.id+Vv(JSON.stringify(e)),stops:o,attrs:s={}}=e;if(this.isDefined(i))return i;const a=Tr(o).map(({offset:u,color:f,opacity:c})=>at("stop").attr({offset:u,"stop-color":f,"stop-opacity":Number.isFinite(c)?c:1})),l=at(n,s,a);return l.id=i,l.appendTo(r),i},definePattern:function(e){if(!Wr(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:t,defs:r}=this,{id:n=t.id+Vv(JSON.stringify(e)),markup:i,attrs:o={}}=e;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(n))return n;const s=at("pattern",{patternUnits:"userSpaceOnUse"});if(s.id=n,s.attr(o),typeof i=="string")s.append(at(i));else{const{fragment:a}=n_(i);s.append(a)}return s.appendTo(r),n},defineMarker:function(e){if(!Wr(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:t,defs:r}=this,{id:n=t.id+Vv(JSON.stringify(e)),markup:i,attrs:o={},markerUnits:s="userSpaceOnUse"}=e;if(this.isDefined(n))return n;const a=at("marker",{orient:"auto",overflow:"visible",markerUnits:s});a.id=n,a.attr(o);let l;if(i){let c;if(typeof i=="string")c=at(i),c=Array.isArray(c)?c:[c];else{const{fragment:p}=n_(i);c=at(p).children()}c.length>1?l=at("g").append(c):l=c[0]}else{const{type:c="path"}=e;l=at(c)}const u=Zm(e,"type","id","markup","attrs","markerUnits");return Object.keys(u).forEach(c=>{const p=u[c],m=l.attr(c);if(m==null)l.attr(c,p);else switch(c){case"transform":l.attr(c,p+" "+m);break}}),l.appendTo(a),a.appendTo(r),n},customEventTrigger:function(e,t,r=t.el){const n=e.target.closest("[event]");if(n&&r!==n&&t.el.contains(n)){const i=wi(Lr.Event(e.originalEvent,{data:e.data,currentTarget:n}));return this.onevent(i),i.isDefaultPrevented()&&e.preventDefault(),i}return null}},{sorting:vd,Layers:bs,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=2*r,t.height=2*n;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,r,n),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,r,n),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,r,n),t},flipX:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=r*2,t.height=n;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.translate(2*r,0),i.scale(-1,1),i.drawImage(e,0,0,r,n),t},flipY:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=r,t.height=n*2;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.translate(0,2*n),i.scale(1,-1),i.drawImage(e,0,0,r,n),t},watermark:function(e,t){t=t||{};var r=e.width,n=e.height,i=document.createElement("canvas");i.width=r*3,i.height=n*3;for(var o=i.getContext("2d"),s=wo(t.watermarkAngle)?-t.watermarkAngle:-20,a=xo(s),l=i.width/4,u=i.height/4,f=0;f<4;f++)for(var c=0;c<4;c++)(f+c)%2>0&&(o.setTransform(1,0,0,1,(2*f-1)*l,(2*c-1)*u),o.rotate(a),o.drawImage(e,-r/2,-n/2,r,n));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){at(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var r=t.sx<=1?t.thickness*t.sx:t.thickness;at(e).attr({width:r,height:r,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",at(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",at(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",at(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}]}}),DH=Wu.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){const{paper:t,relatedView:r}=this;return!t||!r?!0:t.guard(e,r)}}),tL=Wu.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){e=Jt(this.options,e);var t=e.tools;if(!Array.isArray(t))return this;var r=e.relatedView;if(!(r instanceof dr))return this;for(var n=this.tools=[],i=0,o=t.length;i<o;i++){var s=t[i];s instanceof DH&&(s.configure(r,this),this.vel.append(s.el),n.push(s))}return this.isRendered=!1,r.requestUpdate(r.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var r=this.isRendered,n=0,i=t.length;n<i;n++){var o=t[n];r?e.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return this.isMounted()||this.mount(),r||(this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,n=t.length;r<n;r++){var i=t[r];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,n=t.length;r<n;r++){var i=t[r];i!==e&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,r=e.length;t<r;t++)e[t].remove();this.tools=null},mount:function(){const{options:e,el:t}=this,{relatedView:r,layer:n=bs.TOOLS,z:i}=e;return r&&(n?r.paper.getLayerView(n).insertSortedNode(t,i):r.el.appendChild(t)),this}}),cce={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var r=this._results[e];if(typeof r<"u")return r;try{r=t()}catch{r=!1}return this._results[e]=r,r}},rL=lo.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]});lo.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]});lo.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]});lo.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]});lo.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]});lo.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]});lo.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]});lo.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]});lo.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]});lo.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]});lo.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var E1=10;lo.define("standard.Cylinder",{attrs:{body:{lateralArea:E1,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:E1,refRx:"50%",ry:E1,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(e===void 0)return this.attr("body/lateralArea");var r=xi(e),n={lateralArea:e},i=r?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e};return this.attr({body:n,top:i},t)}},{attributes:{lateralArea:{set:function(e,t){var r=xi(e);r&&(e=parseFloat(e)/100);var n=t.x,i=t.y,o=t.width,s=t.height,a=o/2,l=r?s*e:e,u=at.KAPPA,f=u*a,c=u*(r?s*e:e),p=n,m=n+o/2,g=n+o,_=i+l,v=_-l,h=i+s-l,E=i+s,y=["M",p,_,"L",p,h,"C",n,h+c,m-f,E,m,E,"C",m+f,E,g,h+c,g,h,"L",g,_,"C",g,_-c,m+f,v,m,v,"C",m-f,v,p,_-c,p,_,"Z"];return{d:y.join(" ")}}}}});var fce={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},dce={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},hce=cce.test("svgforeignobject")?fce:dce;lo.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},hce]},{attributes:{text:{set:function(e,t,r,n){if(r instanceof HTMLElement)r.textContent=e;else{var i=n.style||{},o={text:e,width:-5,height:"100%"},s=Jt({textVerticalAnchor:"middle"},i);return gH.textWrap.set.call(this,o,t,r,s),{fill:i.color||null}}},position:function(e,t,r){if(r instanceof SVGElement)return t.center()}}}});const pce=Gh.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]});Gh.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]});Gh.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]});function mce(e,t){const{model:r}=e;return t?r.getBBox():r.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}const MH=DH.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{vel:e}=this;e.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){const{relatedView:e,options:t}=this;let{x:r=0,y:n=0,offset:i={},useModelGeometry:o,rotate:s,scale:a}=t,l=mce(e,o);const u=e.model.angle();s||(l=l.bbox(u));const{x:f=0,y:c=0}=i;xi(r)?r=parseFloat(r)/100*l.width:Ss(r)&&(r=Number($s(r,l))),xi(n)?n=parseFloat(n)/100*l.height:Ss(n)&&(n=Number($s(n,l)));let p=at.createSVGMatrix().translate(l.x+l.width/2,l.y+l.height/2);return s&&(p=p.rotate(u)),p=p.translate(r+f-l.width/2,n+c-l.height/2),a&&(p=p.scale(a)),p},getLinkMatrix(){const{relatedView:e,options:t}=this,{offset:r=0,distance:n=0,rotate:i,scale:o}=t;let s,a,l;xi(n)?s=e.getTangentAtRatio(parseFloat(n)/100):s=e.getTangentAtLength(n),s?(a=s.start,l=s.vector().vectorAngle(new ze(1,0))||0):(a=e.getConnection().start,l=0);let u=at.createSVGMatrix().translate(a.x,a.y).rotate(l).translate(0,r);return i||(u=u.rotate(-l)),o&&(u=u.scale(o)),u},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;typeof t=="function"&&t.call(this.relatedView,e,this.relatedView,this)}}}),gce=MH.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,r){t.model.remove({ui:!0,tool:r.cid})}}}),LH=()=>"chooseFileSystemEntries"in window||"showOpenFilePicker"in window,FH=async()=>{if(!LH()){const n=await vce();if(!n)throw new Error("failed to get file through HTML5");return{td:await yce(n),fileName:n.name}}const e=await _ce(),t=await e.getFile();return{td:await t.text(),fileName:t.name,fileHandle:e}},vce=async()=>new Promise((e,t)=>{const r=document.getElementById("fileInput");r.onchange=n=>{const i=r.files[0];return i?e(i):t(new Error("AbortError"))},r.click()}),yce=async e=>new Promise(t=>{const r=new FileReader;r.addEventListener("loadend",n=>{const i=n.srcElement.result;return t(i)}),r.readAsText(e)}),nL=async(e,t,r)=>{if(!LH())return bce(e,r),e;if(!t)try{t=await Ece()}catch(n){console.error(n);return}return await wce(t,r),t},wce=async(e,t)=>{if(e.createWriter){const n=await e.createWriter();await n.write(0,t),await n.close();return}const r=await e.createWritable();await r.write(t),await r.close()},bce=(e,t)=>{const r=JSON.parse(t);let n=r.id||r.title;if(!n)throw Error("the TD has to have either an id or a title to be saved");n=n.replace(/\s/g,"")+".jsonld",e=e||n;const i={type:"application/ld+json"},o=new File([t],"",i),s=document.getElementById("aDownload");s.href=window.URL.createObjectURL(o),s.setAttribute("download",e),s.click()},_ce=()=>{const e={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]};return"showOpenFilePicker"in window?window.showOpenFilePicker(e).then(t=>t[0]):window.chooseFileSystemEntries()},Ece=async()=>{if("showSaveFilePicker"in window){const t={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]};return await window.showSaveFilePicker(t)}const e={type:"save-file",accepts:[{description:"Thing Description",extensions:[".jsonld",".json"],mimeTypes:["application/ld+json"]}]};return await window.chooseFileSystemEntries(e)},Sce=Ce.forwardRef((e,t)=>{const r=Ce.useContext(bn),[n,i]=et.useState(()=>!1),[o,s]=et.useState(()=>"url"),[a,l]=et.useState(()=>({})),u=e.interaction??{},f=r.parsedTD;Ce.useImperativeHandle(t,()=>({openModal:()=>c(),close:()=>p()}));const c=()=>{i(!0)},p=()=>{i(!1)},m=y=>u.links?XX(y,u):!1,g=y=>{f.links=[...f.links?f.links:[],y],r.updateOfflineTD(JSON.stringify(f,null,2))},_=y=>{s(y),a&&y==="url"&&l({})},v=Ce.useCallback(async()=>{try{const y=await FH();document.getElementById("link-href").value=`./${y.fileName}`,l(y.fileHandle?y.fileHandle:JSON.parse(y.td))}catch(y){const S="We ran into an error trying to open your TD.";console.error(S,y),alert(S)}},[]),h=()=>{const y=["icon","service-doc","alternate","type","tm:extends","proxy-to","collection","item","predecessor-version","controlledBy"];let S=0;return y.map(T=>(S++,ae.jsx("option",{value:T},S)))},E=ae.jsxs(ae.Fragment,{children:[ae.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Thing Description:"}),ae.jsx("div",{className:"p-1",children:f.title}),ae.jsxs("div",{className:"p-1 pt-2",children:[ae.jsx("label",{htmlFor:"rel",className:"pl-2 text-sm font-medium text-gray-400",children:"Relation:(select one of the proposed relations or type your custom relation)"}),ae.jsx("input",{list:"relationType",type:"text",name:"rel",id:"rel",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"relation name"}),ae.jsx("datalist",{id:"relationType",children:ae.jsx(h,{})}),ae.jsx("span",{id:"link-rel-info",className:"pl-2 text-xs text-red-400"})]}),ae.jsxs("div",{className:"p-1 pt-2",children:[ae.jsx("label",{htmlFor:"link-href",className:"pl-2 pr-2 text-sm font-medium text-gray-400",children:"Target ressource:"}),ae.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",disabled:o==="upload",onClick:()=>{_("upload")},children:"From local machine"}),ae.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",style:{marginLeft:"2%"},disabled:o==="url",onClick:()=>{_("url")},children:"Ressource url"}),ae.jsxs("div",{className:"p-1 pt-4",children:[ae.jsx("input",{type:"text",name:"link-href",id:"link-href",className:"rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"The target ressource",onChange:()=>{$ce()},disabled:o!=="url"}),o==="upload"&&ae.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-white",onClick:v,disabled:o!=="upload",children:"Open TD"})]}),ae.jsx("span",{id:"link-href-info",className:"pl-2 text-xs text-red-400"}),ae.jsxs("div",{children:[ae.jsx("label",{htmlFor:"type",className:"pl-2 text-sm font-medium text-gray-400",children:"Type:(select one of the proposed types or tape your custom type)"}),ae.jsx("input",{list:"mediaType",type:"text",name:"type",id:"type",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"media type"}),ae.jsxs("datalist",{id:"mediaType",children:[ae.jsx("option",{value:"application/td+json"}),ae.jsx("option",{value:"image/jpeg"}),ae.jsx("option",{value:"text/csv"}),ae.jsx("option",{value:"video/mp4"})]})]})]})]});return n?ql.createPortal(ae.jsx(el,{onCancel:p,onSubmit:()=>{if(!r.isValidJSON){S1("Can't add link. TD is malformed");return}const y={href:document.getElementById("link-href").value.trim()||"/"},S=document.getElementById("rel").value.trim(),$=document.getElementById("type").value.trim();S&&(y.rel=S),$&&(y.type=$);let T=!0;try{var d=new URL(y.href)}catch{T=!1}if(o==="url"&&T&&(d.protocol==="http:"||d.protocol==="https:"))try{var A=new XMLHttpRequest;if(A.open("GET",href,!1),A.send(),A.getResponseHeader("content-type").includes("application/td+json")){const x=A.response;let O=JSON.parse(x);linkedTd[y.href]=O}}catch(x){console.error("We ran into an error trying to fetch your TD.",x),linkedTd[href]=a}else linkedTd[href]=a;y.href===""?S1("The href field is mandatory ..."):m(y)?S1("A Link with the target Thing Description already exists ..."):(g(y),r.addLinkedTd(linkedTd),l({}),p())},submitText:"Add",children:E,title:"Add Link ",description:`Tell us how this ${f.title} can interact with other ressources`}),document.getElementById("modal-root")):null}),S1=e=>{document.getElementById("link-href-info").textContent=e,document.getElementById("link-href").classList.remove("border-gray-600"),document.getElementById("link-href").classList.add("border-red-400")},$ce=()=>{document.getElementById("link-href").classList.add("border-gray-600"),document.getElementById("link-href").classList.remove("border-red-400")};function Tce(e){const t=Ce.useContext(bn),r=i=>{let o=t.linkedTd;o[i.link.href]&&(delete o[i.link.href],t.updateLinkedTd(o)),t.removeLink(i.propName),t.updateIsModified(!0)},n=async i=>{let o=i.link.href;nR(t,o)};return ae.jsxs("div",{className:"bg-formBlue border-formBlue mt-2 flex min-h-12 w-full items-stretch rounded-md border-2 bg-opacity-75 pl-4",children:[ae.jsx("div",{className:"flex h-8 min-w-20 justify-center place-self-center rounded-md bg-white",children:ae.jsx("div",{className:"text-formBlue place-self-center px-4 text-center",children:e.link.rel??"-"})}),ae.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-base text-white",children:e.link.href}),t.linkedTd&&t.linkedTd[e.link.href]&&(Object.keys(t.linkedTd[e.link.href]).length||t.linkedTd[e.link.href].kind==="file")&&ae.jsx("button",{className:"bg-formBlue border-formBlue flex w-10 items-center justify-center border-r-2",onClick:()=>n(e),children:ae.jsx(vg,{size:16,color:"black"})}),ae.jsx("button",{className:"bg-formBlue flex w-10 items-center justify-center",onClick:()=>r(e),children:ae.jsx(tc,{size:16,color:"black"})})]})}function Ace(e){const t=Ce.useContext(bn),r=Ce.useRef(),n=()=>{r.current.openModal()},i=t.parsedTD,[o,s]=Ce.useState(0),[a,l]=Ce.useState("list"),[u,f]=Ce.useState(!1);if(Ce.useEffect(()=>{if(document.getElementsByTagName("details")[1]&&document.getElementsByTagName("details")[1].addEventListener("toggle",function($){document.getElementsByTagName("details")[1].attributes.open?f(!0):f(!1)},!1),i===void 0||!i.links||!Array.isArray(i.links))return;let p=100,m=30,g=new II,_=new uce({el:document.getElementById("tdGraph"),model:g,height:270+o,width:850,gridSize:10,drawGrid:!0,restrictTranslate:!0});if(!(i===void 0||!i.links||!Array.isArray(i.links))){var v=new rL;v.position(100,10),v.resize(140,40),v.attr({body:{fill:"#005A9C"},label:{text:i.title,fill:"white"}}),v.set("td",{}),v.resize(v.attributes.attrs.label.text.length*12,40),g.addCell(v);for(const[$,T]of i.links.entries()){if(Object.prototype.toString.call(T)!=="[object Object]")continue;p=p+70,m=m+60;const d=T.href??"no href provided",A=T.rel??"",x=new rL;x.position(p,m),x.attr({body:{fill:"#005A9C"},label:{text:d,fill:"white"}}),x.resize(x.attributes.attrs.label.text.length*12,40),g.addCell(x),x.set("href",d);var h=new gce({useModelGeometry:!0,y:"0%",x:"100%",action:async function(D,F,V){if(t.linkedTd){let Q=t.linkedTd;Q[F.model.get("href")]&&(delete Q[F.model.get("href")],t.updateLinkedTd(Q))}for(let Q=0;Q<i.links.length;Q++)if(d===F.model.get("href")){t.removeLink(Q),t.updateIsModified(!0);break}}}),E=new tL({tools:[h]}),y=x.findView(_);if(y.addTools(E),t.linkedTd&&t.linkedTd[d]&&(t.linkedTd[d].kind==="file"||Object.keys(t.linkedTd[d]).length)){x.set("td",t.linkedTd[d]);var S=new MH({markup:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#008FF5",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],x:"0%",y:"0%",rotate:!0,action:async function(F,V,Q){let H=V.model.get("href");nR(t,H)}});let D=new tL({tools:[h,S]});y.addTools(D)}let O=new pce({attrs:{line:{stroke:"#005A9C"}},labels:[{position:.6,attrs:{text:{text:A,fill:"grey"}}}]});O.source(v),O.target(x),O.addTo(g)}s(m+30)}},[o,a,t,t.linkedTd,t.removeLink,t.updateLinkedTd,t.updateIsModified,i]),i===void 0)return ae.jsx(ae.Fragment,{});let c=[];if(i.links&&Array.isArray(i.links))for(const[p,m]of i.links.entries())Object.prototype.toString.call(m)==="[object Object]"&&c.push(ae.jsx(Tce,{link:m},p));return ae.jsxs("details",{className:"pt-8",children:[ae.jsxs("summary",{className:"flex cursor-pointer items-center justify-start",children:[ae.jsxs("div",{className:"flex flex-grow",children:[ae.jsx(Nl,{tooltip:CB(),children:ae.jsx("h2",{className:"flex-grow p-1 text-2xl text-white",children:"Links"})}),u&&ae.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",disabled:a==="list",onClick:()=>l("list"),children:"List"}),u&&ae.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",style:{marginLeft:"10px"},disabled:a==="graph",onClick:()=>l("graph"),children:"Graph"})]}),ae.jsx("button",{className:"cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",onClick:n,children:"Add Top Level Link"}),ae.jsx(Sce,{type:"link",interaction:i,ref:r})]}),c&&a==="graph"&&ae.jsx("div",{className:"pt-4",children:ae.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",id:"tdGraph"})}),c&&a==="list"&&ae.jsx("div",{className:"pt-4",children:ae.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",children:c})})]})}function Gf(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{u(n.next(f))}catch(c){s(c)}}function l(f){try{u(n.throw(f))}catch(c){s(c)}}function u(f){f.done?o(f.value):i(f.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}const xce=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Nh(e,t,r){const n=Oce(e),{webkitRelativePath:i}=e,o=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof n.path!="string"&&iL(n,"path",o),iL(n,"relativePath",o),n}function Oce(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const n=t.split(".").pop().toLowerCase(),i=xce.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function iL(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}const Pce=[".DS_Store","Thumbs.db"];function Rce(e){return Gf(this,void 0,void 0,function*(){return a_(e)&&Nce(e.dataTransfer)?jce(e.dataTransfer,e.type):Ice(e)?kce(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?Cce(e):[]})}function Nce(e){return a_(e)}function Ice(e){return a_(e)&&a_(e.target)}function a_(e){return typeof e=="object"&&e!==null}function kce(e){return jO(e.target.files).map(t=>Nh(t))}function Cce(e){return Gf(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>Nh(r))})}function jce(e,t){return Gf(this,void 0,void 0,function*(){if(e.items){const r=jO(e.items).filter(i=>i.kind==="file");if(t!=="drop")return r;const n=yield Promise.all(r.map(Dce));return oL(BH(n))}return oL(jO(e.files).map(r=>Nh(r)))})}function oL(e){return e.filter(t=>Pce.indexOf(t.name)===-1)}function jO(e){if(e===null)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];t.push(n)}return t}function Dce(e){if(typeof e.webkitGetAsEntry!="function")return sL(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?UH(t):sL(e,t)}function BH(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?BH(r):[r]],[])}function sL(e,t){return Gf(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const s=yield o.getFile();return s.handle=o,Nh(s)}}const n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return Nh(n,(r=t==null?void 0:t.fullPath)!==null&&r!==void 0?r:void 0)})}function Mce(e){return Gf(this,void 0,void 0,function*(){return e.isDirectory?UH(e):Lce(e)})}function UH(e){const t=e.createReader();return new Promise((r,n)=>{const i=[];function o(){t.readEntries(s=>Gf(this,void 0,void 0,function*(){if(s.length){const a=Promise.all(s.map(Mce));i.push(a),o()}else try{const a=yield Promise.all(i);r(a)}catch(a){n(a)}}),s=>{n(s)})}o()})}function Lce(e){return Gf(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(n=>{const i=Nh(n,e.fullPath);t(i)},n=>{r(n)})})})}var $1=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return r.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?n.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0};function aL(e){return Uce(e)||Bce(e)||qH(e)||Fce()}function Fce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uce(e){if(Array.isArray(e))return DO(e)}function lL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lL(Object(r),!0).forEach(function(n){zH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zH(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tg(e,t){return Vce(e)||qce(e,t)||qH(e,t)||zce()}function zce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qH(e,t){if(e){if(typeof e=="string")return DO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DO(e,t)}}function DO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function Vce(e){if(Array.isArray(e))return e}var Hce=typeof $1=="function"?$1:$1.default,Wce="file-invalid-type",Gce="file-too-large",Kce="file-too-small",Jce="too-many-files",Yce=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:Wce,message:"File type must be ".concat(n)}},cL=function(t){return{code:Gce,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},fL=function(t){return{code:Kce,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Xce={code:Jce,message:"Too many files"};function VH(e,t){var r=e.type==="application/x-moz-file"||Hce(e,t);return[r,r?null:Yce(t)]}function HH(e,t,r){if(Kc(e.size))if(Kc(t)&&Kc(r)){if(e.size>r)return[!1,cL(r)];if(e.size<t)return[!1,fL(t)]}else{if(Kc(t)&&e.size<t)return[!1,fL(t)];if(Kc(r)&&e.size>r)return[!1,cL(r)]}return[!0,null]}function Kc(e){return e!=null}function Qce(e){var t=e.files,r=e.accept,n=e.minSize,i=e.maxSize,o=e.multiple,s=e.maxFiles,a=e.validator;return!o&&t.length>1||o&&s>=1&&t.length>s?!1:t.every(function(l){var u=VH(l,r),f=tg(u,1),c=f[0],p=HH(l,n,i),m=tg(p,1),g=m[0],_=a?a(l):null;return c&&g&&!_})}function l_(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Zv(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function dL(e){e.preventDefault()}function Zce(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function efe(e){return e.indexOf("Edge/")!==-1}function tfe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Zce(e)||efe(e)}function Ta(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return t.some(function(a){return!l_(n)&&a&&a.apply(void 0,[n].concat(o)),l_(n)})}}function rfe(){return"showOpenFilePicker"in window}function nfe(e){if(Kc(e)){var t=Object.entries(e).filter(function(r){var n=tg(r,2),i=n[0],o=n[1],s=!0;return WH(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(GH))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(r,n){var i=tg(n,2),o=i[0],s=i[1];return uL(uL({},r),{},zH({},o,s))},{});return[{description:"Files",accept:t}]}return e}function ife(e){if(Kc(e))return Object.entries(e).reduce(function(t,r){var n=tg(r,2),i=n[0],o=n[1];return[].concat(aL(t),[i],aL(o))},[]).filter(function(t){return WH(t)||GH(t)}).join(",")}function ofe(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function sfe(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function WH(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function GH(e){return/^.*\.[\w]+$/.test(e)}var afe=["children"],lfe=["open"],ufe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],cfe=["refKey","onChange","onClick"];function ffe(e){return pfe(e)||hfe(e)||KH(e)||dfe()}function dfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pfe(e){if(Array.isArray(e))return MO(e)}function T1(e,t){return vfe(e)||gfe(e,t)||KH(e,t)||mfe()}function mfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KH(e,t){if(e){if(typeof e=="string")return MO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MO(e,t)}}function MO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function vfe(e){if(Array.isArray(e))return e}function hL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hL(Object(r),!0).forEach(function(n){LO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u_(e,t){if(e==null)return{};var r=yfe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var MI=Ce.forwardRef(function(e,t){var r=e.children,n=u_(e,afe),i=YH(n),o=i.open,s=u_(i,lfe);return Ce.useImperativeHandle(t,function(){return{open:o}},[o]),et.createElement(Ce.Fragment,null,r(Rn(Rn({},s),{},{open:o})))});MI.displayName="Dropzone";var JH={disabled:!1,getFilesFromEvent:Rce,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};MI.defaultProps=JH;MI.propTypes={children:ot.func,accept:ot.objectOf(ot.arrayOf(ot.string)),multiple:ot.bool,preventDropOnDocument:ot.bool,noClick:ot.bool,noKeyboard:ot.bool,noDrag:ot.bool,noDragEventsBubbling:ot.bool,minSize:ot.number,maxSize:ot.number,maxFiles:ot.number,disabled:ot.bool,getFilesFromEvent:ot.func,onFileDialogCancel:ot.func,onFileDialogOpen:ot.func,useFsAccessApi:ot.bool,autoFocus:ot.bool,onDragEnter:ot.func,onDragLeave:ot.func,onDragOver:ot.func,onDrop:ot.func,onDropAccepted:ot.func,onDropRejected:ot.func,onError:ot.func,validator:ot.func};var FO={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function YH(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Rn(Rn({},JH),e),r=t.accept,n=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,a=t.multiple,l=t.maxFiles,u=t.onDragEnter,f=t.onDragLeave,c=t.onDragOver,p=t.onDrop,m=t.onDropAccepted,g=t.onDropRejected,_=t.onFileDialogCancel,v=t.onFileDialogOpen,h=t.useFsAccessApi,E=t.autoFocus,y=t.preventDropOnDocument,S=t.noClick,$=t.noKeyboard,T=t.noDrag,d=t.noDragEventsBubbling,A=t.onError,x=t.validator,O=Ce.useMemo(function(){return ife(r)},[r]),D=Ce.useMemo(function(){return nfe(r)},[r]),F=Ce.useMemo(function(){return typeof v=="function"?v:pL},[v]),V=Ce.useMemo(function(){return typeof _=="function"?_:pL},[_]),Q=Ce.useRef(null),H=Ce.useRef(null),X=Ce.useReducer(wfe,FO),fe=T1(X,2),Z=fe[0],ne=fe[1],C=Z.isFocused,B=Z.isFileDialogActive,K=Ce.useRef(typeof window<"u"&&window.isSecureContext&&h&&rfe()),P=function(){!K.current&&B&&setTimeout(function(){if(H.current){var Ue=H.current.files;Ue.length||(ne({type:"closeDialog"}),V())}},300)};Ce.useEffect(function(){return window.addEventListener("focus",P,!1),function(){window.removeEventListener("focus",P,!1)}},[H,B,V,K]);var I=Ce.useRef([]),q=function(Ue){Q.current&&Q.current.contains(Ue.target)||(Ue.preventDefault(),I.current=[])};Ce.useEffect(function(){return y&&(document.addEventListener("dragover",dL,!1),document.addEventListener("drop",q,!1)),function(){y&&(document.removeEventListener("dragover",dL),document.removeEventListener("drop",q))}},[Q,y]),Ce.useEffect(function(){return!n&&E&&Q.current&&Q.current.focus(),function(){}},[Q,E,n]);var ie=Ce.useCallback(function(We){A?A(We):console.error(We)},[A]),J=Ce.useCallback(function(We){We.preventDefault(),We.persist(),Ie(We),I.current=[].concat(ffe(I.current),[We.target]),Zv(We)&&Promise.resolve(i(We)).then(function(Ue){if(!(l_(We)&&!d)){var W=Ue.length,N=W>0&&Qce({files:Ue,accept:O,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:x}),L=W>0&&!N;ne({isDragAccept:N,isDragReject:L,isDragActive:!0,type:"setDraggedFiles"}),u&&u(We)}}).catch(function(Ue){return ie(Ue)})},[i,u,ie,d,O,s,o,a,l,x]),Y=Ce.useCallback(function(We){We.preventDefault(),We.persist(),Ie(We);var Ue=Zv(We);if(Ue&&We.dataTransfer)try{We.dataTransfer.dropEffect="copy"}catch{}return Ue&&c&&c(We),!1},[c,d]),se=Ce.useCallback(function(We){We.preventDefault(),We.persist(),Ie(We);var Ue=I.current.filter(function(N){return Q.current&&Q.current.contains(N)}),W=Ue.indexOf(We.target);W!==-1&&Ue.splice(W,1),I.current=Ue,!(Ue.length>0)&&(ne({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Zv(We)&&f&&f(We))},[Q,f,d]),be=Ce.useCallback(function(We,Ue){var W=[],N=[];We.forEach(function(L){var re=VH(L,O),ye=T1(re,2),Ee=ye[0],je=ye[1],Re=HH(L,s,o),Le=T1(Re,2),dt=Le[0],yt=Le[1],lt=x?x(L):null;if(Ee&&dt&&!lt)W.push(L);else{var Ct=[je,yt];lt&&(Ct=Ct.concat(lt)),N.push({file:L,errors:Ct.filter(function(Er){return Er})})}}),(!a&&W.length>1||a&&l>=1&&W.length>l)&&(W.forEach(function(L){N.push({file:L,errors:[Xce]})}),W.splice(0)),ne({acceptedFiles:W,fileRejections:N,isDragReject:N.length>0,type:"setFiles"}),p&&p(W,N,Ue),N.length>0&&g&&g(N,Ue),W.length>0&&m&&m(W,Ue)},[ne,a,O,s,o,l,p,m,g,x]),Pe=Ce.useCallback(function(We){We.preventDefault(),We.persist(),Ie(We),I.current=[],Zv(We)&&Promise.resolve(i(We)).then(function(Ue){l_(We)&&!d||be(Ue,We)}).catch(function(Ue){return ie(Ue)}),ne({type:"reset"})},[i,be,ie,d]),R=Ce.useCallback(function(){if(K.current){ne({type:"openDialog"}),F();var We={multiple:a,types:D};window.showOpenFilePicker(We).then(function(Ue){return i(Ue)}).then(function(Ue){be(Ue,null),ne({type:"closeDialog"})}).catch(function(Ue){ofe(Ue)?(V(Ue),ne({type:"closeDialog"})):sfe(Ue)?(K.current=!1,H.current?(H.current.value=null,H.current.click()):ie(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ie(Ue)});return}H.current&&(ne({type:"openDialog"}),F(),H.current.value=null,H.current.click())},[ne,F,V,h,be,ie,D,a]),j=Ce.useCallback(function(We){!Q.current||!Q.current.isEqualNode(We.target)||(We.key===" "||We.key==="Enter"||We.keyCode===32||We.keyCode===13)&&(We.preventDefault(),R())},[Q,R]),M=Ce.useCallback(function(){ne({type:"focus"})},[]),G=Ce.useCallback(function(){ne({type:"blur"})},[]),oe=Ce.useCallback(function(){S||(tfe()?setTimeout(R,0):R())},[S,R]),ce=function(Ue){return n?null:Ue},de=function(Ue){return $?null:ce(Ue)},ve=function(Ue){return T?null:ce(Ue)},Ie=function(Ue){d&&Ue.stopPropagation()},Be=Ce.useMemo(function(){return function(){var We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ue=We.refKey,W=Ue===void 0?"ref":Ue,N=We.role,L=We.onKeyDown,re=We.onFocus,ye=We.onBlur,Ee=We.onClick,je=We.onDragEnter,Re=We.onDragOver,Le=We.onDragLeave,dt=We.onDrop,yt=u_(We,ufe);return Rn(Rn(LO({onKeyDown:de(Ta(L,j)),onFocus:de(Ta(re,M)),onBlur:de(Ta(ye,G)),onClick:ce(Ta(Ee,oe)),onDragEnter:ve(Ta(je,J)),onDragOver:ve(Ta(Re,Y)),onDragLeave:ve(Ta(Le,se)),onDrop:ve(Ta(dt,Pe)),role:typeof N=="string"&&N!==""?N:"presentation"},W,Q),!n&&!$?{tabIndex:0}:{}),yt)}},[Q,j,M,G,oe,J,Y,se,Pe,$,T,n]),De=Ce.useCallback(function(We){We.stopPropagation()},[]),nt=Ce.useMemo(function(){return function(){var We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ue=We.refKey,W=Ue===void 0?"ref":Ue,N=We.onChange,L=We.onClick,re=u_(We,cfe),ye=LO({accept:O,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ce(Ta(N,Pe)),onClick:ce(Ta(L,De)),tabIndex:-1},W,H);return Rn(Rn({},ye),re)}},[H,r,a,Pe,n]);return Rn(Rn({},Z),{},{isFocused:C&&!n,getRootProps:Be,getInputProps:nt,rootRef:Q,inputRef:H,open:ce(R)})}function wfe(e,t){switch(t.type){case"focus":return Rn(Rn({},e),{},{isFocused:!0});case"blur":return Rn(Rn({},e),{},{isFocused:!1});case"openDialog":return Rn(Rn({},FO),{},{isFileDialogActive:!0});case"closeDialog":return Rn(Rn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Rn(Rn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Rn(Rn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Rn({},FO);default:return e}}function pL(){}const mL=({onUndo:e,onRedo:t})=>{const r=Ce.useContext(bn),n=r.parsedTD,i=["id","properties","actions","events","forms","description","title","links"],o=et.useRef(),s=()=>{var m;(m=o.current)==null||m.openModal()},a=Ce.useCallback(m=>{const g=m[0],_=new FileReader;_.onabort=()=>console.error("File reading  - aborted"),_.onerror=()=>console.error("File reading - failed"),_.onload=()=>{const v={td:_.result,fileName:g.name,fileHandle:g};try{let h={};h[v.fileName]=v.fileHandle,r.updateOfflineTD(v.td),r.updateIsModified(!1),r.setFileHandle(v.fileName),r.updateLinkedTd(void 0),r.addLinkedTd(h)}catch(h){console.error("File processing:",h)}},_.readAsText(g)},[r]),{getRootProps:l,getInputProps:u,isDragActive:f}=YH({onDrop:a,accept:{"application/json":[".json"],"application/ld+json":[".jsonld"]},noClick:!0,maxFiles:1,maxSize:10*1024*1024});if(!r.offlineTD)return ae.jsxs("div",{...l(),className:"align-center flex h-full w-full justify-center justify-items-center bg-gray-500 text-center",children:[ae.jsx("input",{...u()}),f?ae.jsx("div",{className:"place-self-center text-4xl text-white",children:ae.jsx("p",{children:"Drop the files here ..."})}):ae.jsxs("div",{className:"place-self-center text-4xl text-white",children:['Start writing a new TD by clicking "Create" Start writing a new TD by clicking "Create"',ae.jsx("p",{children:"or drag and drop .json file here"}),ae.jsx("div",{className:"pt-4",children:ae.jsx("p",{className:"text-xl text-gray-600",children:"For linux operating systems, it is necessary to give the necessary file permissions. Run sudo xdg-open /path/to/the/folder"})})]})]});let c;n.forms&&(c=M_(n.forms).map((g,_)=>ae.jsx(hE,{form:g,propName:_},_)));const p=D_(n.id?{id:n.id}:{},n,i);return ae.jsxs("div",{className:"h-full w-full overflow-auto bg-gray-500 p-6",children:[ae.jsx(Fie,{onUndo:e,onRedo:t}),n!==void 0&&Object.keys(n).length>0&&ae.jsxs("div",{children:[ae.jsx("div",{className:"text-3xl text-white",children:n.title?X$(n,"title",n["@context"]):ae.jsx(ae.Fragment,{})}),n.description?ae.jsx("div",{className:"pt-4 text-xl text-white",children:X$(n,"description",n["@context"])}):ae.jsx(ae.Fragment,{}),ae.jsx("div",{className:"pt-4",children:ae.jsx(yV,{...p})})]}),ae.jsxs("details",{className:"pt-8",children:[ae.jsxs("summary",{className:"flex cursor-pointer items-center justify-start",children:[ae.jsx("div",{className:"flex flex-grow",children:ae.jsx(Nl,{tooltip:yg(),id:"forms",children:ae.jsx("h2",{className:"flex-grow p-1 text-2xl text-white",children:"Forms"})})}),ae.jsx("button",{className:"cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",onClick:s,children:"Add Top Level Form"}),ae.jsx(L_,{type:"thing",interaction:n,ref:o})]}),c&&ae.jsx("div",{className:"pt-4",children:ae.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",children:c})})]}),ae.jsx(Ace,{}),ae.jsx(t1,{interaction:"Properties"}),ae.jsx(t1,{interaction:"Actions"}),ae.jsx(t1,{interaction:"Events"}),ae.jsx("div",{className:"h-10"})]})},bfe=e=>{const t=Ce.useContext(bn),r=_fe(t.offlineTD.length);let n=0,i=0,o=0;if(Object.keys(t.parsedTD).length!==0){const s=t.parsedTD;n=s.properties?Object.keys(s.properties).length:0,i=s.actions?Object.keys(s.actions).length:0,o=s.events?Object.keys(s.events).length:0}return ae.jsx(ae.Fragment,{children:ae.jsx("footer",{className:"flex h-10 flex-col justify-center bg-blue-500 text-white",children:ae.jsxs("div",{className:"flex items-center px-2",children:[ae.jsxs("div",{className:"hidden grow items-center gap-2 md:flex",children:[ae.jsxs("div",{children:["Properties: ",n]}),ae.jsxs("div",{children:["| Actions: ",i]}),ae.jsxs("div",{children:["| Events: ",o]}),ae.jsxs("div",{children:["| Size: ",r]})]}),ae.jsxs("div",{className:"flex grow gap-2 md:hidden",children:[ae.jsxs("div",{children:["P: ",n]}),ae.jsxs("div",{children:["| A: ",i]}),ae.jsxs("div",{children:["| E: ",o]}),ae.jsxs("div",{className:"flex",children:[ae.jsxs("div",{children:["| ",r]}),t.isModified&&ae.jsx("div",{className:"md:hidden",children:"*"})]})]}),ae.jsxs("div",{className:"flex items-center gap-2",children:[t.isModified&&ae.jsx("div",{className:"hidden md:block",children:"You have unsaved changes - "}),ae.jsxs("div",{children:["v","0.7.0"]}),ae.jsx("a",{className:"rounded-full bg-black p-2",href:"https://github.com/eclipse/editdor",target:"_blank",rel:"noopener noreferrer",children:ae.jsx(bR,{size:16})})]})]})})})};function _fe(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(3)+" KiB":e<1073741824?(e/1048576).toFixed(3)+" MiB":(e/1073741824).toFixed(3)+" GiB"}const Efe=""+new URL("editdor-Cn4ts1-9.png",import.meta.url).href,XH="target-url",QH=()=>{const e=localStorage.getItem(XH);return e===null?"":e},Sfe=e=>{e!=""&&!e.endsWith("/")&&(e=e+"/"),localStorage.setItem(XH,e)},$fe=async(e,t)=>{const r=encodeURIComponent(e.id),n=await fetch(`${t}things/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(n.status===400||n.status===500){const i=await n.json();throw Error(i.error)}return n.status},Tfe=async(e,t)=>{const r=await fetch(`${t}things`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.status===400||r.status===500){const n=await r.json();throw Error(n.error)}return r.status},Afe=async(e,t)=>{const r=encodeURIComponent(e),n=await fetch(`${t}things/${r}`,{method:"GET",headers:{"Content-Type":"application/json"}}),i=await n.json();if(n.status===404||n.status===500)throw Error(i.error);return i},xfe=Ce.forwardRef((e,t)=>{const r=Ce.useContext(bn),[n,i]=et.useState([]),[o,s]=et.useState(()=>!1);Ce.useEffect(()=>{i(Ofe(r.offlineTD))},[r]),Ce.useImperativeHandle(t,()=>({openModal:()=>a(),close:()=>l()}));const a=()=>{s(!0)},l=()=>{s(!1)};return o?ql.createPortal(ae.jsx(el,{onCancel:l,onSubmit:()=>Pfe(r.offlineTD,n),submitText:"Generate TD",children:n,title:"Generate TD From TM",description:"Please provide values to switch the placeholders with."}),document.getElementById("modal-root")):null}),Ofe=e=>{try{let t=/{{/gi,r,n=[];for(;r=t.exec(e);)n.push(r.index);t=/}}/gi;let i=[];for(;r=t.exec(e);)i.push(r.index);let o=[];for(let c=0;c<n.length;c++)o.push(e.slice(n[c]+2,i[c]));o=[...new Set(o)];const s=o.map(c=>ae.jsxs("div",{className:"py-1",children:[ae.jsxs("label",{htmlFor:c,className:"pl-2 text-sm font-medium text-gray-400",children:[c,":"]}),ae.jsx("input",{type:"text",name:c,id:c,className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"Enter a value..."})]},c));let a=[],l=[],u=[];try{let c=function(h,E){return E.map(y=>{const S=v[h].includes(y);return ae.jsxs("div",{className:"form-checkbox py-1 pl-2",children:[ae.jsx("input",{id:`${h}/${y}`,className:"form-checkbox-input",type:"checkbox",value:`#${h}/${y}`,disabled:S,defaultChecked:!0,title:S?"This field is required by the TM.":"","data-interaction":h}),ae.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:`${h}/${y}`,children:`#${h}/${y}`})]},`${h}/${y}`)})};const p=JSON.parse(e),m=Object.keys(p.properties?p.properties:{}),g=Object.keys(p.actions?p.actions:{}),_=Object.keys(p.events?p.events:{}),v={properties:[],actions:[],events:[]};if(p["tm:required"])for(const h of p["tm:required"])h.startsWith("#properties/")?v.properties.push(h.split("/")[1]):h.startsWith("#actions/")?v.actions.push(h.split("/")[1]):h.startsWith("#events/")&&v.events.push(h.split("/")[1]);a=c("properties",m),l=c("actions",g),u=c("events",_)}catch{}const f=ae.jsx("h2",{className:"pb-2 pt-4 text-gray-400",children:"Also, select/unselect the interaction affordances you would like to see in the new TD."},"modalDividerText");return[...s,f,...a,...l,...u]}catch(t){return console.log(t),[]}},Pfe=(e,t)=>{let r={};const n=[],i=[],o=[];for(const a of t)a.props.className.indexOf("form-checkbox")>-1&&document.getElementById(a.props.children[0].props.id).checked&&(a.props.children[0].props["data-interaction"]==="properties"?n.push(a.key.split("/")[1]):a.props.children[0].props["data-interaction"]==="actions"?i.push(a.key.split("/")[1]):a.props.children[0].props["data-interaction"]==="events"&&o.push(a.key.split("/")[1]));t=t.filter(a=>a.props.className.indexOf("form-checkbox")===-1&&a.key!=="modalDividerText"),t.forEach(a=>{const l=document.getElementById(a.key);return r[a.key]=l.value,l.value}),Object.keys(r).forEach(a=>{if(isNaN(Number(r[a])))e=e.split(`{{${a}}}`).join(r[a]);else{let l=e.split(`"{{${a}}}"`);l.length===1&&(l=e.split(`{{${a}}}`)),e=l.join(r[a])}});const s=JSON.parse(e);if(s.properties){const a=Object.keys(s.properties).filter(l=>n.includes(l)).reduce((l,u)=>(l[u]=s.properties[u],l),{});s.properties=a}if(s.actions){const a=Object.keys(s.actions).filter(l=>i.includes(l)).reduce((l,u)=>(l[u]=s.actions[u],l),{});s.actions=a}if(s.events){const a=Object.keys(s.events).filter(l=>o.includes(l)).reduce((l,u)=>(l[u]=s.events[u],l),{});s.events=a}delete s["@type"],delete s["tm:required"],localStorage.setItem("td",JSON.stringify(s,null,2)),window.open(`${window.location.origin+window.location.pathname}?localstorage`,"_blank")},Rfe=(e,t=!0,r)=>{const n=e.split(`
`).map(i=>i.trim()).filter(i=>i.length>0);if(t){const i=n[0].split(r).map(o=>o.trim());return n.slice(1).map(o=>{const s=o.split(r).map(a=>a.trim());return i.reduce((a,l,u)=>(a[l]=s[u],a),{})})}else throw new Error("CSV parsing without headers is not supported")},Nfe=e=>({...e.type?{type:e.type}:{},readOnly:!0,...e.title?{title:e.title}:{},...e.description?{description:e.description}:{},...e.minimum?{minimum:Number(e.minimum)}:{},...e.maximum?{maximum:Number(e.maximum)}:{},...e.unit?{unit:e.unit}:{},forms:[{op:"readproperty",href:e.href??"/","modbus:unitID":Number(e["modbus:unitID"])??1,"modbus:address":Number(e["modbus:address"]),"modbus:quantity":Number(e["modbus:quantity"])??1,...e["modbus:type"]?{"modbus:type":e["modbus:type"]}:{},"modbus:zeroBasedAddressing":!!e["modbus:zeroBasedAddressing"],"modbus:entity":e["modbus:entity"],...e["modbus:pollingTime"]?{"modbus:pollingTime":e["modbus:pollingTime"]}:{},...e["modbus:function"]?{"modbus:function":e["modbus:function"]}:{},"modbus:mostSignificantByte":!!e["modbus:mostSignificantByte"],"modbus:mostSignificantWord":!!e["modbus:mostSignificantWord"],...e["modbus:timeout"]?{"modbus:timeout":e["modbus:timeout"]}:{}}]}),Ife=e=>e.reduce((t,r)=>{if(!r.name||r.name.trim()==="")throw new Error("Error on CSV file: Row name is required");if(!r["modbus:address"]||r["modbus:address"].trim()==="")throw new Error(`Error on CSV file: "modbus:address" value is required for row: "${r.name}"`);if(!r["modbus:entity"]||r["modbus:entity"].trim()==="")throw new Error(`Error on CSV file: "modbus:entity" value is required for row: "${r.name}"`);return t[r.name]=Nfe(r),t},{}),kfe=Ce.forwardRef((e,t)=>{const r=Ce.useContext(bn),[n,i]=et.useState(()=>!1),[o,s]=et.useState("TD"),[a,l]=et.useState({}),[u,f]=et.useState(""),[c,p]=et.useState("Modbus TCP"),m=et.useRef(null);Ce.useImperativeHandle(t,()=>({openModal:()=>g(),close:()=>_()}));const g=()=>{i(!0)},_=()=>{f(""),p("Modbus TCP"),l({}),i(!1)},h=Cfe(E=>{s(E.target.value)},o,c,p,u,f,m,l);return n?ql.createPortal(ae.jsx(el,{onCancel:_,onSubmit:()=>{let E=jfe(o,a),y={};y[E.title]=E,r.updateLinkedTd(void 0),r.addLinkedTd(y),r.updateOfflineTD(JSON.stringify(E,null,2)),_()},children:h,submitText:o==="TD"?"Create TD":"Create TM",title:"Create a New TD/TM",description:"To quickly create a basis for your new Thing Description/Thing Model just fill out this little template and we'll get you going."}),document.getElementById("modal-root")):null}),Cfe=(e,t,r,n,i,o,s,a)=>{const l=c=>{const p=c.target.files[0];if(p){o(p.name);const m=new FileReader;m.onload=g=>{var E;const _=(E=g.target)==null?void 0:E.result,v=Rfe(_,!0,",");let h={};try{if(h=Ife(v),Object.keys(h).length===0)throw new Error("No valid properties found in the CSV file.")}catch(y){alert(y.message)}a(h)},m.onerror=g=>{var _;alert(`Reading file: ${(_=g.target)==null?void 0:_.error}`)},m.readAsText(p)}},u=()=>{s.current&&s.current.click()},f=()=>{const c="name,title,description,type,minimum,maximum,unit,href,modbus:unitID,modbus:address,modbus:quantity,modbus:type,modbus:zeroBasedAddressing,modbus:entity,modbus:pollingTime,modbus:function,modbus:mostSignificantByte,modbus:mostSignificantWord,modbus:timeout",p=new Blob([c],{type:"text/csv;charset=utf-8;"}),m=URL.createObjectURL(p),g=document.createElement("a");g.href=m,g.setAttribute("download","modbus_tcp_properties_template.csv"),document.body.appendChild(g),g.click(),document.body.removeChild(g)};return ae.jsxs(ae.Fragment,{children:[ae.jsx("label",{htmlFor:"type",className:"pl-2 text-sm font-medium text-gray-400",children:"Type:"}),ae.jsxs("div",{className:"relative",children:[ae.jsxs("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:"type",onChange:e,value:t,children:[ae.jsx("option",{value:"TD",children:"Thing Description"}),ae.jsx("option",{value:"TM",children:"Thing Model"})]}),ae.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:ae.jsx(hf,{color:"#cacaca"})})]}),A1("ID","urn:thing-id","thing-id","url",!0),A1("Title","Thing Title","thing-title","text",!1),A1("Base","http://www.example.com/thing-path","thing-base","url",!1),ae.jsx("label",{htmlFor:"thing-description",className:"pl-2 text-sm font-medium text-gray-400",children:"Description:"}),ae.jsx("textarea",{id:"thing-description",rows:5,className:"w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"A short description about this new Thing..."}),ae.jsx("label",{htmlFor:"thing-security",className:"pl-2 text-sm font-medium text-gray-400",children:"Security:"}),ae.jsxs("div",{className:"relative mb-8",children:[ae.jsxs("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:"thing-security",children:[ae.jsx("option",{children:"nosec"}),ae.jsx("option",{children:"basic"}),ae.jsx("option",{children:"digest"}),ae.jsx("option",{children:"bearer"}),ae.jsx("option",{children:"psk"}),ae.jsx("option",{children:"oauth2"}),ae.jsx("option",{children:"apikey"})]}),ae.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:ae.jsx(hf,{color:"#cacaca"})})]}),ae.jsx("div",{className:"pt-2",children:ae.jsx("label",{htmlFor:"submit-csv",className:"pl-2 text-sm font-medium text-gray-400",children:"Add properties in CSV format:"})}),ae.jsxs("div",{className:"flex justify-between rounded border-2 border-gray-600",children:[ae.jsxs("div",{className:"flex justify-between",children:[ae.jsxs("div",{className:"flex items-center p-2",children:[ae.jsx("label",{htmlFor:"protocol-option",className:"pl-2 pr-2 text-lg text-gray-400",children:"Protocol:"}),ae.jsxs("div",{className:"relative",children:[ae.jsxs("select",{id:"protocol-option",className:"block appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-2 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",value:r,onChange:c=>n(c.target.value),children:[ae.jsx("option",{children:"Modbus TCP"}),ae.jsx("option",{disabled:!0,children:"More protocols will be supported in the future"})]}),ae.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:ae.jsx(hf,{color:"#cacaca"})})]})]}),ae.jsx("div",{className:"flex items-center",children:ae.jsx("button",{id:"download-template",className:"rounded border-2 border-gray-600 bg-blue-500 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none",onClick:f,children:"Download CSV Template"})})]}),ae.jsxs("div",{className:"ml-2 mr-2 flex items-center",children:[ae.jsx("input",{type:"file",accept:".csv",ref:s,onChange:l,style:{display:"none"}}),ae.jsx("button",{id:"submit-csv",className:"rounded border-2 border-gray-600 bg-blue-500 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none",onClick:u,children:"Load a CSV File"}),ae.jsx("div",{className:"",children:ae.jsx("p",{className:"pl-2",children:i||"No file selected"})})]})]})]})},A1=(e,t,r,n,i)=>ae.jsxs("div",{className:"py-1",children:[ae.jsxs("label",{htmlFor:r,className:"pl-2 text-sm font-medium text-gray-400",children:[e,":"]}),ae.jsx("input",{name:r,id:r,className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:t,type:n,autoFocus:i})]},r),jfe=(e,t)=>{var u,f,c,p,m;let r=(u=document.getElementById("thing-id"))==null?void 0:u.value,n=(f=document.getElementById("thing-title"))==null?void 0:f.value,i=(c=document.getElementById("thing-base"))==null?void 0:c.value,o=(p=document.getElementById("thing-description"))==null?void 0:p.value,s=(m=document.getElementById("thing-security"))==null?void 0:m.value;var a={};a["@context"]="https://www.w3.org/2019/wot/td/v1",a.title=n!==""?n:"ediTDor Thing",e==="TM"&&(a["@type"]="tm:ThingModel"),r!==""&&(a.id=r!==""?r:"urn:editdor-thing-id"),i!==""&&(a.base=i!==""?i:"/"),o!==""&&(a.description=o);let l={};return l[`${s}_sc`]={scheme:s},a.securityDefinitions=l,a.security=`${s}_sc`,a.properties=t,a.actions={},a.events={},a},Dfe=Ce.forwardRef((e,t)=>{const[r,n]=et.useState(!1),[i,o]=et.useState("");Ce.useImperativeHandle(t,()=>({openModal:()=>s(),close:()=>a()}));const s=()=>{n(!0),o(QH())},a=()=>{n(!1)};let l=ae.jsxs(ae.Fragment,{children:[ae.jsx("label",{className:"pl-2 text-sm font-medium text-gray-400",children:"Target URL:"}),ae.jsx("input",{type:"text",name:"settings-target-url-field",id:"settings-target-url-field",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",value:i,onChange:u=>o(u.target.value),placeholder:"http://localhost:8080/"}),ae.jsx("p",{className:"pl-2 text-sm text-gray-400",children:"The target url should point to a server that implements the Discovery Specifications's Things API. If a valid target url is provided, the ediTDor automatically uses it to save your changes. Empty this field to simply save files to disk."})]});return r?ql.createPortal(ae.jsx(el,{hasSubmit:!0,onCancel:a,cancelText:"Cancel",submitText:"Save Changes",onSubmit:()=>{Sfe(i),a()},children:l,title:"Settings",description:"Change the ediTDors configuration to your needs. More configuration options are yet to come..."}),document.getElementById("modal-root")):null});var ZH={},LI=class eW{constructor(t,r=new Map,n=0){this.prefix=t,this._existing=r,this.counter=n}clone(){const{prefix:t,_existing:r,counter:n}=this;return new eW(t,new Map(r),n)}getId(t){const r=t&&this._existing.get(t);if(r)return r;const n=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,n),n}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}};(function(e,t){if(e.setImmediate)return;var r=1,n={},i=!1,o=e.document,s;function a(E){typeof E!="function"&&(E=new Function(""+E));for(var y=new Array(arguments.length-1),S=0;S<y.length;S++)y[S]=arguments[S+1];var $={callback:E,args:y};return n[r]=$,s(r),r++}function l(E){delete n[E]}function u(E){var y=E.callback,S=E.args;switch(S.length){case 0:y();break;case 1:y(S[0]);break;case 2:y(S[0],S[1]);break;case 3:y(S[0],S[1],S[2]);break;default:y.apply(t,S);break}}function f(E){if(i)setTimeout(f,0,E);else{var y=n[E];if(y){i=!0;try{u(y)}finally{l(E),i=!1}}}}function c(){s=function(E){process.nextTick(function(){f(E)})}}function p(){if(e.postMessage&&!e.importScripts){var E=!0,y=e.onmessage;return e.onmessage=function(){E=!1},e.postMessage("","*"),e.onmessage=y,E}}function m(){var E="setImmediate$"+Math.random()+"$",y=function(S){S.source===e&&typeof S.data=="string"&&S.data.indexOf(E)===0&&f(+S.data.slice(E.length))};e.addEventListener?e.addEventListener("message",y,!1):e.attachEvent("onmessage",y),s=function(S){e.postMessage(E+S,"*")}}function g(){var E=new MessageChannel;E.port1.onmessage=function(y){var S=y.data;f(S)},s=function(y){E.port2.postMessage(y)}}function _(){var E=o.documentElement;s=function(y){var S=o.createElement("script");S.onreadystatechange=function(){f(y),S.onreadystatechange=null,E.removeChild(S),S=null},E.appendChild(S)}}function v(){s=function(E){setTimeout(f,0,E)}}var h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,{}.toString.call(e.process)==="[object process]"?c():p()?m():e.MessageChannel?g():o&&"onreadystatechange"in o.createElement("script")?_():v(),h.setImmediate=a,h.clearImmediate=l})(typeof self>"u"?xs:self);/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const x1=self.crypto||self.msCrypto;var FE=class{constructor(t){if(!(x1&&x1.subtle))throw new Error("crypto.subtle not found.");if(t==="sha256")this.algorithm={name:"SHA-256"};else if(t==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${t}".`);this._content=""}update(t){this._content+=t}async digest(){const t=new TextEncoder().encode(this._content),r=new Uint8Array(await x1.subtle.digest(this.algorithm,t));let n="";for(let i=0;i<r.length;++i)n+=r[i].toString(16).padStart(2,"0");return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var tW=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let r=0;r<t.length;++r)this.dir.set(t[r],!0)}hasNext(){return!this.done}next(){const{current:t,dir:r}=this,n=t.slice();let i=null,o=0;const s=t.length;for(let a=0;a<s;++a){const l=t[a],u=r.get(l);(i===null||l>i)&&(u&&a>0&&l>t[a-1]||!u&&a<s-1&&l>t[a+1])&&(i=l,o=a)}if(i===null)this.done=!0;else{const a=r.get(i)?o-1:o+1;t[o]=t[a],t[a]=i;for(const l of t)l>i&&r.set(l,!r.get(l))}return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const Mfe="http://www.w3.org/1999/02/22-rdf-syntax-ns#",O1=Mfe+"langString",P1="http://www.w3.org/2001/XMLSchema#string",Hs="NamedNode",Ic="BlankNode",Fw="Literal",gL="DefaultGraph",ch={};(()=>{const e="(?:<([^:]+:[^>]*)>)",r="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�"+"_",n=r+"0-9-·̀-ͯ‿-⁀",o="(_:(?:["+r+"0-9])(?:(?:["+n+".])*(?:["+n+"]))?)",s='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',a="(?:\\^\\^"+e+")",u="(?:"+s+"(?:"+a+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",f="[ \\t]+",c="[ \\t]*",p="(?:"+e+"|"+o+")"+f,m=e+f,g="(?:"+e+"|"+o+"|"+u+")"+c,_="(?:\\.|(?:(?:"+e+"|"+o+")"+c+"\\.))";ch.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,ch.empty=new RegExp("^"+c+"$"),ch.quad=new RegExp("^"+c+p+m+g+_+c+"$")})();var FI=class Bw{static parse(t){const r=[],n={},i=t.split(ch.eoln);let o=0;for(const s of i){if(o++,ch.empty.test(s))continue;const a=s.match(ch.quad);if(a===null)throw new Error("N-Quads parse error on line "+o+".");const l={subject:null,predicate:null,object:null,graph:null};if(a[1]!==void 0?l.subject={termType:Hs,value:a[1]}:l.subject={termType:Ic,value:a[2]},l.predicate={termType:Hs,value:a[3]},a[4]!==void 0?l.object={termType:Hs,value:a[4]}:a[5]!==void 0?l.object={termType:Ic,value:a[5]}:(l.object={termType:Fw,value:void 0,datatype:{termType:Hs}},a[7]!==void 0?l.object.datatype.value=a[7]:a[8]!==void 0?(l.object.datatype.value=O1,l.object.language=a[8]):l.object.datatype.value=P1,l.object.value=zfe(a[6])),a[9]!==void 0?l.graph={termType:Hs,value:a[9]}:a[10]!==void 0?l.graph={termType:Ic,value:a[10]}:l.graph={termType:gL,value:""},!(l.graph.value in n))n[l.graph.value]=[l],r.push(l);else{let u=!0;const f=n[l.graph.value];for(const c of f)if(Lfe(c,l)){u=!1;break}u&&(f.push(l),r.push(l))}}return r}static serialize(t){Array.isArray(t)||(t=Bw.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(Bw.serializeQuad(n));return r.sort().join("")}static serializeQuadComponents(t,r,n,i){let o="";return t.termType===Hs?o+=`<${t.value}>`:o+=`${t.value}`,o+=` <${r.value}> `,n.termType===Hs?o+=`<${n.value}>`:n.termType===Ic?o+=n.value:(o+=`"${Bfe(n.value)}"`,n.datatype.value===O1?n.language&&(o+=`@${n.language}`):n.datatype.value!==P1&&(o+=`^^<${n.datatype.value}>`)),i.termType===Hs?o+=` <${i.value}>`:i.termType===Ic&&(o+=` ${i.value}`),o+=` .
`,o}static serializeQuad(t){return Bw.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(t){const r=[],n={"blank node":Ic,IRI:Hs,literal:Fw};for(const i in t)t[i].forEach(s=>{const a={};for(const l in s){const u=s[l],f={termType:n[u.type],value:u.value};f.termType===Fw&&(f.datatype={termType:Hs},"datatype"in u&&(f.datatype.value=u.datatype),"language"in u?("datatype"in u||(f.datatype.value=O1),f.language=u.language):"datatype"in u||(f.datatype.value=P1)),a[l]=f}i==="@default"?a.graph={termType:gL,value:""}:a.graph={termType:i.startsWith("_:")?Ic:Hs,value:i},r.push(a)});return r}};function Lfe(e,t){return!(e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType)||!(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value)?!1:e.object.termType!==Fw?!0:e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value}const Ffe=/["\\\n\r]/g;function Bfe(e){return e.replace(Ffe,function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const Ufe=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function zfe(e){return e.replace(Ufe,function(t,r,n,i){if(r)switch(r){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(i)throw new Error("Unsupported U escape")})}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const vL=LI,qfe=FE,Vfe=tW,yL=FI;var rW=class{constructor({createMessageDigest:t=()=>new qfe("sha256"),canonicalIdMap:r=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new vL("_:c14n",r),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}async main(t){this.deepIterations=new Map,this.quads=t;for(const l of t)this._addBlankNodeQuadInfo({quad:l,component:l.subject}),this._addBlankNodeQuadInfo({quad:l,component:l.object}),this._addBlankNodeQuadInfo({quad:l,component:l.graph});const r=new Map,n=[...this.blankNodeInfo.keys()];let i=0;for(const l of n)++i%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:l,hashToBlankNodes:r});const o=[...r.keys()].sort(),s=[];for(const l of o){const u=r.get(l);if(u.length>1){s.push(u);continue}const f=u[0];this.canonicalIssuer.getId(f)}for(const l of s){const u=[];for(const f of l){if(this.canonicalIssuer.hasId(f))continue;const c=new vL("_:b");c.getId(f);const p=await this.hashNDegreeQuads(f,c);u.push(p)}u.sort(Hfe);for(const f of u){const c=f.issuer.getOldIds();for(const p of c)this.canonicalIssuer.getId(p)}}const a=[];for(const l of this.quads){const u=yL.serializeQuadComponents(this._componentWithCanonicalId(l.subject),l.predicate,this._componentWithCanonicalId(l.object),this._componentWithCanonicalId(l.graph));a.push(u)}return a.sort(),a.join("")}async hashFirstDegreeQuads(t){const r=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const s of i){const a={subject:null,predicate:s.predicate,object:null,graph:null};a.subject=this.modifyFirstDegreeComponent(t,s.subject,"subject"),a.object=this.modifyFirstDegreeComponent(t,s.object,"object"),a.graph=this.modifyFirstDegreeComponent(t,s.graph,"graph"),r.push(yL.serializeQuad(a))}r.sort();const o=this.createMessageDigest();for(const s of r)o.update(s);return n.hash=await o.digest(),n.hash}async hashRelatedBlankNode(t,r,n,i){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):n.hasId(t)?o=n.getId(t):o=this.blankNodeInfo.get(t).hash;const s=this.createMessageDigest();return s.update(i),i!=="g"&&s.update(this.getRelatedPredicate(r)),s.update(o),s.digest()}async hashNDegreeQuads(t,r){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const i=this.createMessageDigest(),o=await this.createHashToRelated(t,r),s=[...o.keys()].sort();for(const a of s){i.update(a);let l="",u;const f=new Vfe(o.get(a));let c=0;for(;f.hasNext();){const p=f.next();++c%3===0&&await this._yield();let m=r.clone(),g="";const _=[];let v=!1;for(const h of p)if(this.canonicalIssuer.hasId(h)?g+=this.canonicalIssuer.getId(h):(m.hasId(h)||_.push(h),g+=m.getId(h)),l.length!==0&&g>l){v=!0;break}if(!v){for(const h of _){const E=await this.hashNDegreeQuads(h,m);if(g+=m.getId(h),g+=`<${E.hash}>`,m=E.issuer,l.length!==0&&g>l){v=!0;break}}v||(l.length===0||g<l)&&(l=g,u=m)}}i.update(l),r=u}return{hash:await i.digest(),issuer:r}}modifyFirstDegreeComponent(t,r){return r.termType!=="BlankNode"?r:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}async createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;let o=0;for(const s of i)++o%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:s,component:s.subject,position:"s",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:s,component:s.object,position:"o",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:s,component:s.graph,position:"g",id:t,issuer:r,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:t,hashToBlankNodes:r}){const n=await this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:r}){if(r.termType!=="BlankNode")return;const n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash({quad:t,component:r,position:n,id:i,issuer:o,hashToRelated:s}){if(!(r.termType==="BlankNode"&&r.value!==i))return;const a=r.value,l=await this.hashRelatedBlankNode(a,t,o,n),u=s.get(l);u?u.push(a):s.set(l,[a])}_componentWithCanonicalId(t){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}async _yield(){return new Promise(t=>setImmediate(t))}};function Hfe(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const Wfe=FE,Gfe=rW;var Kfe=class extends Gfe{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new Wfe("sha1")}modifyFirstDegreeComponent(t,r,n){return r.termType!=="BlankNode"?r:n==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}async createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;let o=0;for(const s of i){let a,l;if(s.subject.termType==="BlankNode"&&s.subject.value!==t)l=s.subject.value,a="p";else if(s.object.termType==="BlankNode"&&s.object.value!==t)l=s.object.value,a="r";else continue;++o%100===0&&await this._yield();const u=await this.hashRelatedBlankNode(l,s,r,a),f=n.get(u);f?f.push(l):n.set(u,[l])}return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const wL=LI,Jfe=FE,Yfe=tW,bL=FI;var nW=class{constructor({createMessageDigest:t=()=>new Jfe("sha256"),canonicalIdMap:r=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new wL("_:c14n",r),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(const a of t)this._addBlankNodeQuadInfo({quad:a,component:a.subject}),this._addBlankNodeQuadInfo({quad:a,component:a.object}),this._addBlankNodeQuadInfo({quad:a,component:a.graph});const r=new Map,n=[...this.blankNodeInfo.keys()];for(const a of n)this._hashAndTrackBlankNode({id:a,hashToBlankNodes:r});const i=[...r.keys()].sort(),o=[];for(const a of i){const l=r.get(a);if(l.length>1){o.push(l);continue}const u=l[0];this.canonicalIssuer.getId(u)}for(const a of o){const l=[];for(const u of a){if(this.canonicalIssuer.hasId(u))continue;const f=new wL("_:b");f.getId(u);const c=this.hashNDegreeQuads(u,f);l.push(c)}l.sort(Xfe);for(const u of l){const f=u.issuer.getOldIds();for(const c of f)this.canonicalIssuer.getId(c)}}const s=[];for(const a of this.quads){const l=bL.serializeQuadComponents(this._componentWithCanonicalId({component:a.subject}),a.predicate,this._componentWithCanonicalId({component:a.object}),this._componentWithCanonicalId({component:a.graph}));s.push(l)}return s.sort(),s.join("")}hashFirstDegreeQuads(t){const r=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const s of i){const a={subject:null,predicate:s.predicate,object:null,graph:null};a.subject=this.modifyFirstDegreeComponent(t,s.subject,"subject"),a.object=this.modifyFirstDegreeComponent(t,s.object,"object"),a.graph=this.modifyFirstDegreeComponent(t,s.graph,"graph"),r.push(bL.serializeQuad(a))}r.sort();const o=this.createMessageDigest();for(const s of r)o.update(s);return n.hash=o.digest(),n.hash}hashRelatedBlankNode(t,r,n,i){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):n.hasId(t)?o=n.getId(t):o=this.blankNodeInfo.get(t).hash;const s=this.createMessageDigest();return s.update(i),i!=="g"&&s.update(this.getRelatedPredicate(r)),s.update(o),s.digest()}hashNDegreeQuads(t,r){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const i=this.createMessageDigest(),o=this.createHashToRelated(t,r),s=[...o.keys()].sort();for(const a of s){i.update(a);let l="",u;const f=new Yfe(o.get(a));for(;f.hasNext();){const c=f.next();let p=r.clone(),m="";const g=[];let _=!1;for(const v of c)if(this.canonicalIssuer.hasId(v)?m+=this.canonicalIssuer.getId(v):(p.hasId(v)||g.push(v),m+=p.getId(v)),l.length!==0&&m>l){_=!0;break}if(!_){for(const v of g){const h=this.hashNDegreeQuads(v,p);if(m+=p.getId(v),m+=`<${h.hash}>`,p=h.issuer,l.length!==0&&m>l){_=!0;break}}_||(l.length===0||m<l)&&(l=m,u=p)}}i.update(l),r=u}return{hash:i.digest(),issuer:r}}modifyFirstDegreeComponent(t,r){return r.termType!=="BlankNode"?r:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const o of i)this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:t,issuer:r,hashToRelated:n});return n}_hashAndTrackBlankNode({id:t,hashToBlankNodes:r}){const n=this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:r}){if(r.termType!=="BlankNode")return;const n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:r,position:n,id:i,issuer:o,hashToRelated:s}){if(!(r.termType==="BlankNode"&&r.value!==i))return;const a=r.value,l=this.hashRelatedBlankNode(a,t,o,n),u=s.get(l);u?u.push(a):s.set(l,[a])}_componentWithCanonicalId({component:t}){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}};function Xfe(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const Qfe=FE,Zfe=nW;var ede=class extends Zfe{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new Qfe("sha1")}modifyFirstDegreeComponent(t,r,n){return r.termType!=="BlankNode"?r:n==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const o of i){let s,a;if(o.subject.termType==="BlankNode"&&o.subject.value!==t)a=o.subject.value,s="p";else if(o.object.termType==="BlankNode"&&o.object.value!==t)a=o.object.value,s="r";else continue;const l=this.hashRelatedBlankNode(a,o,r,s),u=n.get(l);u?u.push(a):n.set(l,[a])}return n}};const tde={},rde=Object.freeze(Object.defineProperty({__proto__:null,default:tde},Symbol.toStringTag,{value:"Module"})),nde=lP(rde);(function(e){const t=rW,r=Kfe,n=nW,i=ede;let o;try{o=nde}catch{}function s(a){return Array.isArray(a)?a:e.NQuads.legacyDatasetToQuads(a)}e.NQuads=FI,e.IdentifierIssuer=LI,e._rdfCanonizeNative=function(a){return a&&(o=a),o},e.canonize=async function(a,l){const u=s(a);if(l.useNative){if(!o)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((f,c)=>o.canonize(u,l,(p,m)=>p?c(p):f(m)))}if(l.algorithm==="URDNA2015")return new t(l).main(u);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new r(l).main(u)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},e._canonizeSync=function(a,l){const u=s(a);if(l.useNative){if(!o)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return o.canonizeSync(u,l)}if(l.algorithm==="URDNA2015")return new n(l).main(u);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new i(l).main(u)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(ZH);var BI=ZH;const Cs={};var rs=Cs;Cs.isArray=Array.isArray;Cs.isBoolean=e=>typeof e=="boolean"||Object.prototype.toString.call(e)==="[object Boolean]";Cs.isDouble=e=>Cs.isNumber(e)&&(String(e).indexOf(".")!==-1||Math.abs(e)>=1e21);Cs.isEmptyObject=e=>Cs.isObject(e)&&Object.keys(e).length===0;Cs.isNumber=e=>typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]";Cs.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e);Cs.isObject=e=>Object.prototype.toString.call(e)==="[object Object]";Cs.isString=e=>typeof e=="string"||Object.prototype.toString.call(e)==="[object String]";Cs.isUndefined=e=>typeof e>"u";const If=rs,Bl={};var Wl=Bl;Bl.isSubject=e=>If.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)?Object.keys(e).length>1||!("@id"in e):!1;Bl.isSubjectReference=e=>If.isObject(e)&&Object.keys(e).length===1&&"@id"in e;Bl.isValue=e=>If.isObject(e)&&"@value"in e;Bl.isList=e=>If.isObject(e)&&"@list"in e;Bl.isGraph=e=>If.isObject(e)&&"@graph"in e&&Object.keys(e).filter(t=>t!=="@id"&&t!=="@index").length===1;Bl.isSimpleGraph=e=>Bl.isGraph(e)&&!("@id"in e);Bl.isBlankNode=e=>{if(If.isObject(e)){if("@id"in e){const t=e["@id"];return!If.isString(t)||t.indexOf("_:")===0}return Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}return!1};var Ms=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",r="jsonld.Error",n={}){super(t),this.name=r,this.message=t,this.details=n}};const rg=Wl,Fi=rs,iW=BI.IdentifierIssuer,ide=Ms,ode=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,sde=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,ade=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,lde=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,ude=/^@[a-zA-Z]+$/,_L={headers:{accept:"application/ld+json, application/json"}},Gr={};var Ls=Gr;Gr.IdentifierIssuer=iW;Gr.REGEX_BCP47=ode;Gr.REGEX_KEYWORD=ude;Gr.clone=function(e){if(e&&typeof e=="object"){let t;if(Fi.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=Gr.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,Gr.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(Gr.clone(r))}else if(Fi.isObject(e)){t={};for(const r in e)t[r]=Gr.clone(e[r])}else t=e.toString();return t}return e};Gr.asArray=function(e){return Array.isArray(e)?e:[e]};Gr.buildHeaders=(e={})=>{if(Object.keys(e).some(r=>r.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+_L.headers.accept+'" is supported.');return Object.assign({Accept:_L.headers.accept},e)};Gr.parseLinkHeader=e=>{const t={},r=e.match(sde);for(let n=0;n<r.length;++n){let i=r[n].match(ade);if(!i)continue;const o={target:i[1]},s=i[2];for(;i=lde.exec(s);)o[i[1]]=i[2]===void 0?i[3]:i[2];const a=o.rel||"";Array.isArray(t[a])?t[a].push(o):t.hasOwnProperty(a)?t[a]=[t[a],o]:t[a]=o}return t};Gr.validateTypeValue=(e,t)=>{if(!Fi.isString(e)&&!(Fi.isArray(e)&&e.every(r=>Fi.isString(r)))){if(t&&Fi.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&Gr.asArray(e["@default"]).every(r=>Fi.isString(r)))return}throw new ide('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}};Gr.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!Fi.isArray(r)||r.length>0}return!1};Gr.hasValue=(e,t,r)=>{if(Gr.hasProperty(e,t)){let n=e[t];const i=rg.isList(n);if(Fi.isArray(n)||i){i&&(n=n["@list"]);for(let o=0;o<n.length;++o)if(Gr.compareValues(r,n[o]))return!0}else if(!Fi.isArray(r))return Gr.compareValues(r,n)}return!1};Gr.addValue=(e,t,r,n)=>{if(n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(Fi.isArray(r)){r.length===0&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(let i=0;i<r.length;++i)Gr.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){const i=!n.allowDuplicate&&Gr.hasValue(e,t,r);!Fi.isArray(e[t])&&(!i||n.propertyIsArray)&&(e[t]=[e[t]]),i||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r};Gr.getValues=(e,t)=>[].concat(e[t]||[]);Gr.removeProperty=(e,t)=>{delete e[t]};Gr.removeValue=(e,t,r,n)=>{n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1);const i=Gr.getValues(e,t).filter(o=>!Gr.compareValues(o,r));i.length===0?Gr.removeProperty(e,t):i.length===1&&!n.propertyIsArray?e[t]=i[0]:e[t]=i};Gr.relabelBlankNodes=(e,t)=>{t=t||{};const r=t.issuer||new iW("_:b");return Uw(r,e)};Gr.compareValues=(e,t)=>e===t||rg.isValue(e)&&rg.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]?!0:Fi.isObject(e)&&"@id"in e&&Fi.isObject(t)&&"@id"in t?e["@id"]===t["@id"]:!1;Gr.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1;function Uw(e,t){if(Fi.isArray(t))for(let r=0;r<t.length;++r)t[r]=Uw(e,t[r]);else if(rg.isList(t))t["@list"]=Uw(e,t["@list"]);else if(Fi.isObject(t)){rg.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const r=Object.keys(t).sort();for(let n=0;n<r.length;++n){const i=r[n];i!=="@id"&&(t[i]=Uw(e,t[i]))}}return t}const kc="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ey="http://www.w3.org/2001/XMLSchema#";var UI={LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF_LIST:kc+"List",RDF_FIRST:kc+"first",RDF_REST:kc+"rest",RDF_NIL:kc+"nil",RDF_TYPE:kc+"type",RDF_JSON_LITERAL:kc+"JSON",RDF_LANGSTRING:kc+"langString",XSD_BOOLEAN:ey+"boolean",XSD_DOUBLE:ey+"double",XSD_INTEGER:ey+"integer",XSD_STRING:ey+"string"},R1,EL;function oW(){return EL||(EL=1,R1=class{constructor(){this._requests={}}wrapLoader(t){const r=this;return r._loader=t,function(){return r.add.apply(r,arguments)}}async add(t){let r=this._requests[t];if(r)return Promise.resolve(r);r=this._requests[t]=this._loader(t);try{return await r}finally{delete this._requests[t]}}}),R1}const BE=rs,Bi={};var mc=Bi;Bi.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};Bi.parse=(e,t)=>{const r={},n=Bi.parsers[t||"full"],i=n.regex.exec(e);let o=n.keys.length;for(;o--;)r[n.keys[o]]=i[o]===void 0?null:i[o];return(r.scheme==="https"&&r.port==="443"||r.scheme==="http"&&r.port==="80")&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=Bi.removeDotSegments(r.path),r};Bi.prependBase=(e,t)=>{if(e===null||Bi.isAbsolute(t))return t;(!e||BE.isString(e))&&(e=Bi.parse(e||""));const r=Bi.parse(t),n={protocol:e.protocol||""};if(r.authority!==null)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,r.path==="")n.path=e.path,r.query!==null?n.query=r.query:n.query=e.query;else{if(r.path.indexOf("/")===0)n.path=r.path;else{let o=e.path;o=o.substr(0,o.lastIndexOf("/")+1),(o.length>0||e.authority)&&o.substr(-1)!=="/"&&(o+="/"),o+=r.path,n.path=o}n.query=r.query}r.path!==""&&(n.path=Bi.removeDotSegments(n.path));let i=n.protocol;return n.authority!==null&&(i+="//"+n.authority),i+=n.path,n.query!==null&&(i+="?"+n.query),r.fragment!==null&&(i+="#"+r.fragment),i===""&&(i="./"),i};Bi.removeBase=(e,t)=>{if(e===null)return t;(!e||BE.isString(e))&&(e=Bi.parse(e||""));let r="";if(e.href!==""?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),t.indexOf(r)!==0)return t;const n=Bi.parse(t.substr(r.length)),i=e.normalizedPath.split("/"),o=n.normalizedPath.split("/"),s=n.fragment||n.query?0:1;for(;i.length>0&&o.length>s&&i[0]===o[0];)i.shift(),o.shift();let a="";if(i.length>0){i.pop();for(let l=0;l<i.length;++l)a+="../"}return a+=o.join("/"),n.query!==null&&(a+="?"+n.query),n.fragment!==null&&(a+="#"+n.fragment),a===""&&(a="./"),a};Bi.removeDotSegments=e=>{if(e.length===0)return"";const t=e.split("/"),r=[];for(;t.length>0;){const n=t.shift(),i=t.length===0;if(n==="."){i&&r.push("");continue}if(n===".."){r.pop(),i&&r.push("");continue}r.push(n)}return e[0]==="/"&&r.length>0&&r[0]!==""&&r.unshift(""),r.length===1&&r[0]===""?"/":r.join("/")};const cde=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;Bi.isAbsolute=e=>BE.isString(e)&&cde.test(e);Bi.isRelative=e=>BE.isString(e);const{parseLinkHeader:fde,buildHeaders:dde}=Ls,{LINK_HEADER_CONTEXT:hde}=UI,bp=Ms,pde=oW(),{prependBase:mde}=mc,gde=/(^|(\r\n))link:/i;var vde=({secure:e,headers:t={},xhr:r}={headers:{}})=>{return t=dde(t),new pde().wrapLoader(i);async function i(o){if(o.indexOf("http:")!==0&&o.indexOf("https:")!==0)throw new bp('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:o});if(e&&o.indexOf("https")!==0)throw new bp(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:o});let s;try{s=await yde(r,o,t)}catch(c){throw new bp("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:o,cause:c})}if(s.status>=400)throw new bp("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:o,httpStatusCode:s.status});let a={contextUrl:null,documentUrl:o,document:s.response},l=null;const u=s.getResponseHeader("Content-Type");let f;if(gde.test(s.getAllResponseHeaders())&&(f=s.getResponseHeader("Link")),f&&u!=="application/ld+json"){const c=fde(f),p=c[hde];if(Array.isArray(p))throw new bp("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:o});p&&(a.contextUrl=p.target),l=c.alternate,l&&l.type=="application/ld+json"&&!(u||"").match(/^application\/(\w*\+)?json$/)&&(a=await i(mde(o,l.target)))}return a}};function yde(e,t,r){e=e||XMLHttpRequest;const n=new e;return new Promise((i,o)=>{n.onload=()=>i(n),n.onerror=s=>o(s),n.open("GET",t,!0);for(const s in r)n.setRequestHeader(s,r[s]);n.send()})}const wde=vde,zI={};var bde=zI;zI.setupDocumentLoaders=function(e){typeof XMLHttpRequest<"u"&&(e.documentLoaders.xhr=wde,e.useDocumentLoader("xhr"))};zI.setupGlobals=function(e){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})};var N1,SL;function _de(){return SL||(SL=1,N1=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),N1}var Ede=qr;qr.Node=kf;qr.create=qr;function qr(e){var t=this;if(t instanceof qr||(t=new qr),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}qr.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};qr.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};qr.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};qr.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)$de(this,arguments[e]);return this.length};qr.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Tde(this,arguments[e]);return this.length};qr.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};qr.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};qr.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};qr.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};qr.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};qr.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};qr.prototype.map=function(e,t){t=t||this;for(var r=new qr,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};qr.prototype.mapReverse=function(e,t){t=t||this;for(var r=new qr,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};qr.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};qr.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};qr.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};qr.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};qr.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new qr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};qr.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new qr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};qr.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var o=[],n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Sde(this,i,r[n]);return o};qr.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function Sde(e,t,r){var n=t===e.head?new kf(r,null,t,e):new kf(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function $de(e,t){e.tail=new kf(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Tde(e,t){e.head=new kf(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function kf(e,t,r,n){if(!(this instanceof kf))return new kf(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{_de()(qr)}catch{}const Ade=Ede,Jc=Symbol("max"),El=Symbol("length"),yd=Symbol("lengthCalculator"),pm=Symbol("allowStale"),lf=Symbol("maxAge"),wl=Symbol("dispose"),$L=Symbol("noDisposeOnSet"),li=Symbol("lruList"),Xs=Symbol("cache"),sW=Symbol("updateAgeOnGet"),I1=()=>1;class xde{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Jc]=t.max||1/0;const r=t.length||I1;if(this[yd]=typeof r!="function"?I1:r,this[pm]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[lf]=t.maxAge||0,this[wl]=t.dispose,this[$L]=t.noDisposeOnSet||!1,this[sW]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Jc]=t||1/0,_p(this)}get max(){return this[Jc]}set allowStale(t){this[pm]=!!t}get allowStale(){return this[pm]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[lf]=t,_p(this)}get maxAge(){return this[lf]}set lengthCalculator(t){typeof t!="function"&&(t=I1),t!==this[yd]&&(this[yd]=t,this[El]=0,this[li].forEach(r=>{r.length=this[yd](r.value,r.key),this[El]+=r.length})),_p(this)}get lengthCalculator(){return this[yd]}get length(){return this[El]}get itemCount(){return this[li].length}rforEach(t,r){r=r||this;for(let n=this[li].tail;n!==null;){const i=n.prev;TL(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[li].head;n!==null;){const i=n.next;TL(this,t,n,r),n=i}}keys(){return this[li].toArray().map(t=>t.key)}values(){return this[li].toArray().map(t=>t.value)}reset(){this[wl]&&this[li]&&this[li].length&&this[li].forEach(t=>this[wl](t.key,t.value)),this[Xs]=new Map,this[li]=new Ade,this[El]=0}dump(){return this[li].map(t=>c_(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[li]}set(t,r,n){if(n=n||this[lf],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,o=this[yd](r,t);if(this[Xs].has(t)){if(o>this[Jc])return fh(this,this[Xs].get(t)),!1;const l=this[Xs].get(t).value;return this[wl]&&(this[$L]||this[wl](t,l.value)),l.now=i,l.maxAge=n,l.value=r,this[El]+=o-l.length,l.length=o,this.get(t),_p(this),!0}const s=new Ode(t,r,o,i,n);return s.length>this[Jc]?(this[wl]&&this[wl](t,r),!1):(this[El]+=s.length,this[li].unshift(s),this[Xs].set(t,this[li].head),_p(this),!0)}has(t){if(!this[Xs].has(t))return!1;const r=this[Xs].get(t).value;return!c_(this,r)}get(t){return k1(this,t,!0)}peek(t){return k1(this,t,!1)}pop(){const t=this[li].tail;return t?(fh(this,t),t.value):null}del(t){fh(this,this[Xs].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Xs].forEach((t,r)=>k1(this,r,!1))}}const k1=(e,t,r)=>{const n=e[Xs].get(t);if(n){const i=n.value;if(c_(e,i)){if(fh(e,n),!e[pm])return}else r&&(e[sW]&&(n.value.now=Date.now()),e[li].unshiftNode(n));return i.value}},c_=(e,t)=>{if(!t||!t.maxAge&&!e[lf])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[lf]&&r>e[lf]},_p=e=>{if(e[El]>e[Jc])for(let t=e[li].tail;e[El]>e[Jc]&&t!==null;){const r=t.prev;fh(e,t),t=r}},fh=(e,t)=>{if(t){const r=t.value;e[wl]&&e[wl](r.key,r.value),e[El]-=r.length,e[Xs].delete(r.key),e[li].removeNode(t)}};class Ode{constructor(t,r,n,i,o){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}}const TL=(e,t,r,n)=>{let i=r.value;c_(e,i)&&(fh(e,r),e[pm]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var aW=xde;const Pde=aW,Rde=10;var Nde=class{constructor({document:t}){this.document=t,this.cache=new Pde({max:Rde})}getProcessed(t){return this.cache.get(t)}setProcessed(t,r){this.cache.set(t,r)}};const{isArray:BO,isObject:mm,isString:f_}=rs,{asArray:Ide}=Ls,{prependBase:UO}=mc,Wp=Ms,AL=Nde,xL=10;var kde=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}async resolve({activeCtx:t,context:r,documentLoader:n,base:i,cycles:o=new Set}){r&&mm(r)&&r["@context"]&&(r=r["@context"]),r=Ide(r);const s=[];for(const a of r){if(f_(a)){let f=this._get(a);f||(f=await this._resolveRemoteContext({activeCtx:t,url:a,documentLoader:n,base:i,cycles:o})),BO(f)?s.push(...f):s.push(f);continue}if(a===null){s.push(new AL({document:null}));continue}mm(a)||Cde(r);const l=JSON.stringify(a);let u=this._get(l);u||(u=new AL({document:a}),this._cacheResolvedContext({key:l,resolved:u,tag:"static"})),s.push(u)}return s}_get(t){let r=this.perOpCache.get(t);if(!r){const n=this.sharedCache.get(t);n&&(r=n.get("static"),r&&this.perOpCache.set(t,r))}return r}_cacheResolvedContext({key:t,resolved:r,tag:n}){if(this.perOpCache.set(t,r),n!==void 0){let i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(n,r)}return r}async _resolveRemoteContext({activeCtx:t,url:r,documentLoader:n,base:i,cycles:o}){r=UO(i,r);const{context:s,remoteDoc:a}=await this._fetchContext({activeCtx:t,url:r,documentLoader:n,cycles:o});i=a.documentUrl||r,zO({context:s,base:i});const l=await this.resolve({activeCtx:t,context:s,documentLoader:n,base:i,cycles:o});return this._cacheResolvedContext({key:r,resolved:l,tag:a.tag}),l}async _fetchContext({activeCtx:t,url:r,documentLoader:n,cycles:i}){if(i.size>xL)throw new Wp("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:xL});if(i.has(r))throw new Wp("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:r});i.add(r);let o,s;try{s=await n(r),o=s.document||null,f_(o)&&(o=JSON.parse(o))}catch(a){throw new Wp(`Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. URL: "${r}".`,"jsonld.InvalidUrl",{code:"loading remote context failed",url:r,cause:a})}if(!mm(o))throw new Wp(`Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. URL: "${r}".`,"jsonld.InvalidUrl",{code:"invalid remote context",url:r});return"@context"in o?o={"@context":o["@context"]}:o={"@context":{}},s.contextUrl&&(BO(o["@context"])||(o["@context"]=[o["@context"]]),o["@context"].push(s.contextUrl)),{context:o,remoteDoc:s}}};function Cde(e){throw new Wp("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function zO({context:e,base:t}){if(!e)return;const r=e["@context"];if(f_(r)){e["@context"]=UO(t,r);return}if(BO(r)){for(let n=0;n<r.length;++n){const i=r[n];if(f_(i)){r[n]=UO(t,i);continue}mm(i)&&zO({context:{"@context":i},base:t})}return}if(mm(r))for(const n in r)zO({context:r[n],base:t})}var jde=BI.NQuads;const qI=Ms,{isArray:Dde}=rs,{asArray:lW}=Ls,Ko={};var Ug=Ko;Ko.defaultEventHandler=null;Ko.setupEventHandler=({options:e={}})=>{const t=[].concat(e.safe?Ko.safeEventHandler:[],e.eventHandler?lW(e.eventHandler):[],Ko.defaultEventHandler?Ko.defaultEventHandler:[]);return t.length===0?null:t};Ko.handleEvent=({event:e,options:t})=>{uW({event:e,handlers:t.eventHandler})};function uW({event:e,handlers:t}){let r=!0;for(let n=0;r&&n<t.length;++n){r=!1;const i=t[n];if(Dde(i))r=uW({event:e,handlers:i});else if(typeof i=="function")i({event:e,next:()=>{r=!0}});else if(typeof i=="object")e.code in i?i[e.code]({event:e,next:()=>{r=!0}}):r=!0;else throw new qI("Invalid event handler.","jsonld.InvalidEventHandler",{event:e})}return r}const Mde=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);Ko.safeEventHandler=function({event:t,next:r}){if(t.level==="warning"&&Mde.has(t.code))throw new qI("Safe mode validation error.","jsonld.ValidationError",{event:t});r()};Ko.logEventHandler=function({event:t,next:r}){console.log(`EVENT: ${t.message}`,{event:t}),r()};Ko.logWarningEventHandler=function({event:t,next:r}){t.level==="warning"&&console.warn(`WARNING: ${t.message}`,{event:t}),r()};Ko.unhandledEventHandler=function({event:t}){throw new qI("No handler for event.","jsonld.UnhandledEvent",{event:t})};Ko.setDefaultEventHandler=function({eventHandler:e}={}){Ko.defaultEventHandler=e?lW(e):null};const OL=Ls,Yt=Ms,{isArray:cW,isObject:Pu,isString:yo,isUndefined:Lde}=rs,{isAbsolute:bf,isRelative:Fde,prependBase:gm}=mc,{handleEvent:dh}=Ug,{REGEX_BCP47:Bde,REGEX_KEYWORD:zw,asArray:fW,compareShortestLeast:Ude}=Ls,ty=new Map,zde=1e4,vn={};var Kf=vn;vn.process=async({activeCtx:e,localCtx:t,options:r,propagate:n=!0,overrideProtected:i=!1,cycles:o=new Set})=>{if(Pu(t)&&"@context"in t&&cW(t["@context"])&&(t=t["@context"]),fW(t).length===0)return e;const a=[],l=[({event:p,next:m})=>{a.push(p),m()}];r.eventHandler&&l.push(r.eventHandler);const u=r;r={...r,eventHandler:l};const f=await r.contextResolver.resolve({activeCtx:e,context:t,documentLoader:r.documentLoader,base:r.base});Pu(f[0].document)&&typeof f[0].document["@propagate"]=="boolean"&&(n=f[0].document["@propagate"]);let c=e;!n&&!c.previousContext&&(c=c.clone(),c.previousContext=e);for(const p of f){let{document:m}=p;if(e=c,m===null){if(!i&&Object.keys(e.protected).length!==0)throw new Yt("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});c=e=vn.getInitialContext(r).clone();continue}const g=p.getProcessed(e);if(g){if(u.eventHandler)for(const v of g.events)dh({event:v,options:u});c=e=g.context;continue}if(Pu(m)&&"@context"in m&&(m=m["@context"]),!Pu(m))throw new Yt("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:m});c=c.clone();const _=new Map;if("@version"in m){if(m["@version"]!==1.1)throw new Yt("Unsupported JSON-LD version: "+m["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:m});if(e.processingMode&&e.processingMode==="json-ld-1.0")throw new Yt("@version: "+m["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:m});c.processingMode="json-ld-1.1",c["@version"]=m["@version"],_.set("@version",!0)}if(c.processingMode=c.processingMode||e.processingMode,"@base"in m){let v=m["@base"];if(!(v===null||bf(v)))if(Fde(v))v=gm(c["@base"],v);else throw new Yt('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:m});c["@base"]=v,_.set("@base",!0)}if("@vocab"in m){const v=m["@vocab"];if(v===null)delete c["@vocab"];else if(yo(v)){if(!bf(v)&&vn.processingMode(c,1))throw new Yt('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:m});{const h=Yd(c,v,{vocab:!0,base:!0},void 0,void 0,r);bf(h)||r.eventHandler&&dh({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:h}},options:r}),c["@vocab"]=h}}else throw new Yt('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:m});_.set("@vocab",!0)}if("@language"in m){const v=m["@language"];if(v===null)delete c["@language"];else if(yo(v))v.match(Bde)||r.eventHandler&&dh({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:v}},options:r}),c["@language"]=v.toLowerCase();else throw new Yt('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:m});_.set("@language",!0)}if("@direction"in m){const v=m["@direction"];if(e.processingMode==="json-ld-1.0")throw new Yt("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:m});if(v===null)delete c["@direction"];else{if(v!=="ltr"&&v!=="rtl")throw new Yt('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:m});c["@direction"]=v}_.set("@direction",!0)}if("@propagate"in m){const v=m["@propagate"];if(e.processingMode==="json-ld-1.0")throw new Yt("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:m});if(typeof v!="boolean")throw new Yt("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});_.set("@propagate",!0)}if("@import"in m){const v=m["@import"];if(e.processingMode==="json-ld-1.0")throw new Yt("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:m});if(!yo(v))throw new Yt("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const h=await r.contextResolver.resolve({activeCtx:e,context:v,documentLoader:r.documentLoader,base:r.base});if(h.length!==1)throw new Yt("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const E=h[0].getProcessed(e);if(E)m=E;else{const y=h[0].document;if("@import"in y)throw new Yt("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const S in y)m.hasOwnProperty(S)||(m[S]=y[S]);h[0].setProcessed(e,m)}_.set("@import",!0)}_.set("@protected",m["@protected"]||!1);for(const v in m)if(vn.createTermDefinition({activeCtx:c,localCtx:m,term:v,defined:_,options:r,overrideProtected:i}),Pu(m[v])&&"@context"in m[v]){const h=m[v]["@context"];let E=!0;if(yo(h)){const y=gm(r.base,h);o.has(y)?E=!1:o.add(y)}if(E)try{await vn.process({activeCtx:c.clone(),localCtx:m[v]["@context"],overrideProtected:!0,options:r,cycles:o})}catch{throw new Yt("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:m[v]["@context"],term:v})}}p.setProcessed(e,{context:c,events:a})}return c};vn.createTermDefinition=({activeCtx:e,localCtx:t,term:r,defined:n,options:i,overrideProtected:o=!1})=>{if(n.has(r)){if(n.get(r))return;throw new Yt("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}n.set(r,!1);let s;if(t.hasOwnProperty(r)&&(s=t[r]),r==="@type"&&Pu(s)&&(s["@container"]||"@set")==="@set"&&vn.processingMode(e,1.1)){const m=["@container","@id","@protected"],g=Object.keys(s);if(g.length===0||g.some(_=>!m.includes(_)))throw new Yt("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}else{if(vn.isKeyword(r))throw new Yt("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(r.match(zw)){i.eventHandler&&dh({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:r}},options:i});return}else if(r==="")throw new Yt("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const a=e.mappings.get(r);e.mappings.has(r)&&e.mappings.delete(r);let l=!1;if((yo(s)||s===null)&&(l=!0,s={"@id":s}),!Pu(s))throw new Yt("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const u={};e.mappings.set(r,u),u.reverse=!1;const f=["@container","@id","@language","@reverse","@type"];vn.processingMode(e,1.1)&&f.push("@context","@direction","@index","@nest","@prefix","@protected");for(const m in s)if(!f.includes(m))throw new Yt("Invalid JSON-LD syntax; a term definition must not contain "+m,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const c=r.indexOf(":");if(u._termHasColon=c>0,"@reverse"in s){if("@id"in s)throw new Yt("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in s)throw new Yt("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const m=s["@reverse"];if(!yo(m))throw new Yt("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(m.match(zw)){i.eventHandler&&dh({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:m}},options:i}),a?e.mappings.set(r,a):e.mappings.delete(r);return}const g=Yd(e,m,{vocab:!0,base:!1},t,n,i);if(!bf(g))throw new Yt("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});u["@id"]=g,u.reverse=!0}else if("@id"in s){let m=s["@id"];if(m&&!yo(m))throw new Yt("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(m===null)u["@id"]=null;else if(!vn.isKeyword(m)&&m.match(zw)){i.eventHandler&&dh({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:m}},options:i}),a?e.mappings.set(r,a):e.mappings.delete(r);return}else if(m!==r){if(m=Yd(e,m,{vocab:!0,base:!1},t,n,i),!bf(m)&&!vn.isKeyword(m))throw new Yt("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(r.match(/(?::[^:])|\//)){const g=new Map(n).set(r,!0);if(Yd(e,r,{vocab:!0,base:!1},t,g,i)!==m)throw new Yt("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}u["@id"]=m,u._prefix=l&&!u._termHasColon&&m.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in u))if(u._termHasColon){const m=r.substr(0,c);if(t.hasOwnProperty(m)&&vn.createTermDefinition({activeCtx:e,localCtx:t,term:m,defined:n,options:i}),e.mappings.has(m)){const g=r.substr(c+1);u["@id"]=e.mappings.get(m)["@id"]+g}else u["@id"]=r}else if(r==="@type")u["@id"]=r;else{if(!("@vocab"in e))throw new Yt("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});u["@id"]=e["@vocab"]+r}if((s["@protected"]===!0||n.get("@protected")===!0&&s["@protected"]!==!1)&&(e.protected[r]=!0,u.protected=!0),n.set(r,!0),"@type"in s){let m=s["@type"];if(!yo(m))throw new Yt("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(m==="@json"||m==="@none"){if(vn.processingMode(e,1))throw new Yt(`Invalid JSON-LD syntax; an @context @type value must not be "${m}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if(m!=="@id"&&m!=="@vocab"){if(m=Yd(e,m,{vocab:!0,base:!1},t,n,i),!bf(m))throw new Yt("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(m.indexOf("_:")===0)throw new Yt("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}u["@type"]=m}if("@container"in s){const m=yo(s["@container"])?[s["@container"]]:s["@container"]||[],g=["@list","@set","@index","@language"];let _=!0;const v=m.includes("@set");if(vn.processingMode(e,1.1)){if(g.push("@graph","@id","@type"),m.includes("@list")){if(m.length!==1)throw new Yt("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(m.includes("@graph")){if(m.some(h=>h!=="@graph"&&h!=="@id"&&h!=="@index"&&h!=="@set"))throw new Yt("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else _&=m.length<=(v?2:1);if(m.includes("@type")&&(u["@type"]=u["@type"]||"@id",!["@id","@vocab"].includes(u["@type"])))throw new Yt("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else _&=!cW(s["@container"]),_&=m.length<=1;if(_&=m.every(h=>g.includes(h)),_&=!(v&&m.includes("@list")),!_)throw new Yt("Invalid JSON-LD syntax; @context @container value must be one of the following: "+g.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(u.reverse&&!m.every(h=>["@index","@set"].includes(h)))throw new Yt("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});u["@container"]=m}if("@index"in s){if(!("@container"in s)||!u["@container"].includes("@index"))throw new Yt(`Invalid JSON-LD syntax; @index without @index in @container: "${s["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!yo(s["@index"])||s["@index"].indexOf("@")===0)throw new Yt(`Invalid JSON-LD syntax; @index must expand to an IRI: "${s["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});u["@index"]=s["@index"]}if("@context"in s&&(u["@context"]=s["@context"]),"@language"in s&&!("@type"in s)){let m=s["@language"];if(m!==null&&!yo(m))throw new Yt("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});m!==null&&(m=m.toLowerCase()),u["@language"]=m}if("@prefix"in s){if(r.match(/:|\//))throw new Yt("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(vn.isKeyword(u["@id"]))throw new Yt("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(typeof s["@prefix"]=="boolean")u._prefix=s["@prefix"]===!0;else throw new Yt("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in s){const m=s["@direction"];if(m!==null&&m!=="ltr"&&m!=="rtl")throw new Yt('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});u["@direction"]=m}if("@nest"in s){const m=s["@nest"];if(!yo(m)||m!=="@nest"&&m.indexOf("@")===0)throw new Yt("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});u["@nest"]=m}// disallow aliasing @context and @preserve
const p=u["@id"];if(p==="@context"||p==="@preserve")throw new Yt("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(a&&a.protected&&!o&&(e.protected[r]=!0,u.protected=!0,!qO(a,u)))throw new Yt("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r})};vn.expandIri=(e,t,r,n)=>Yd(e,t,r,void 0,void 0,n);function Yd(e,t,r,n,i,o){if(t===null||!yo(t)||vn.isKeyword(t))return t;if(t.match(zw))return null;if(n&&n.hasOwnProperty(t)&&i.get(t)!==!0&&vn.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:o}),r=r||{},r.vocab){const a=e.mappings.get(t);if(a===null)return null;if(Pu(a)&&"@id"in a)return a["@id"]}const s=t.indexOf(":");if(s>0){const a=t.substr(0,s),l=t.substr(s+1);if(a==="_"||l.indexOf("//")===0)return t;n&&n.hasOwnProperty(a)&&vn.createTermDefinition({activeCtx:e,localCtx:n,term:a,defined:i,options:o});const u=e.mappings.get(a);if(u&&u._prefix)return u["@id"]+l;if(bf(t))return t}if(r.vocab&&"@vocab"in e)t=e["@vocab"]+t;else if(r.base){let a,l;"@base"in e?e["@base"]?(l=gm(o.base,e["@base"]),a=gm(l,t)):(l=e["@base"],a=t):(l=o.base,a=gm(o.base,t)),t=a}return t}vn.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),r=ty.get(t);if(r)return r;const n={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:i,clone:a,revertToPreviousContext:l,protected:{}};return ty.size===zde&&ty.clear(),ty.set(t,n),n;function i(){const u=this;if(u.inverse)return u.inverse;const f=u.inverse={},c=u.fastCurieMap={},p={},m=(u["@language"]||"@none").toLowerCase(),g=u["@direction"],_=u.mappings,v=[..._.keys()].sort(Ude);for(const h of v){const E=_.get(h);if(E===null)continue;let y=E["@container"]||"@none";if(y=[].concat(y).sort().join(""),E["@id"]===null)continue;const S=fW(E["@id"]);for(const $ of S){let T=f[$];const d=vn.isKeyword($);if(T)!d&&!E._termHasColon&&p[$].push(h);else if(f[$]=T={},!d&&!E._termHasColon){p[$]=[h];const A={iri:$,terms:p[$]};$[0]in c?c[$[0]].push(A):c[$[0]]=[A]}if(T[y]||(T[y]={"@language":{},"@type":{},"@any":{}}),T=T[y],s(h,T["@any"],"@none"),E.reverse)s(h,T["@type"],"@reverse");else if(E["@type"]==="@none")s(h,T["@any"],"@none"),s(h,T["@language"],"@none"),s(h,T["@type"],"@none");else if("@type"in E)s(h,T["@type"],E["@type"]);else if("@language"in E&&"@direction"in E){const A=E["@language"],x=E["@direction"];A&&x?s(h,T["@language"],`${A}_${x}`.toLowerCase()):A?s(h,T["@language"],A.toLowerCase()):x?s(h,T["@language"],`_${x}`):s(h,T["@language"],"@null")}else"@language"in E?s(h,T["@language"],(E["@language"]||"@null").toLowerCase()):"@direction"in E?E["@direction"]?s(h,T["@language"],`_${E["@direction"]}`):s(h,T["@language"],"@none"):g?(s(h,T["@language"],`_${g}`),s(h,T["@language"],"@none"),s(h,T["@type"],"@none")):(s(h,T["@language"],m),s(h,T["@language"],"@none"),s(h,T["@type"],"@none"))}}for(const h in c)o(c,h,1);return f}function o(u,f,c){const p=u[f],m=u[f]={};let g,_;for(const v of p)g=v.iri,c>=g.length?_="":_=g[c],_ in m?m[_].push(v):m[_]=[v];for(const v in m)v!==""&&o(m,v,c+1)}function s(u,f,c){f.hasOwnProperty(c)||(f[c]=u)}function a(){const u={};return u.mappings=OL.clone(this.mappings),u.clone=this.clone,u.inverse=null,u.getInverse=this.getInverse,u.protected=OL.clone(this.protected),this.previousContext&&(u.previousContext=this.previousContext.clone()),u.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(u["@base"]=this["@base"]),"@language"in this&&(u["@language"]=this["@language"]),"@vocab"in this&&(u["@vocab"]=this["@vocab"]),u}function l(){return this.previousContext?this.previousContext.clone():this}};vn.getContextValue=(e,t,r)=>{if(t===null)return r==="@context"?void 0:null;if(e.mappings.has(t)){const n=e.mappings.get(t);if(Lde(r))return n;if(n.hasOwnProperty(r))return n[r]}if(r==="@language"&&r in e||r==="@direction"&&r in e)return e[r];if(r!=="@context")return null};vn.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():e.processingMode==="json-ld-1.0";vn.isKeyword=e=>{if(!yo(e)||e[0]!=="@")return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function qO(e,t){if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;++o)if(!qO(e[o],t[o]))return!1;return!0}const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const o in e){let s=e[o],a=t[o];if(o==="@container"&&Array.isArray(s)&&Array.isArray(a)&&(s=s.slice().sort(),a=a.slice().sort()),!qO(s,a))return!1}return!0}const An=Ms,{isArray:As,isObject:ds,isEmptyObject:VO,isString:Di,isUndefined:d_}=rs,{isList:C1,isValue:HO,isGraph:qde,isSubject:Vde}=Wl,{expandIri:Yn,getContextValue:Wo,isKeyword:WO,process:vm,processingMode:qw}=Kf,{isAbsolute:Vw}=mc,{REGEX_BCP47:dW,REGEX_KEYWORD:Hde,addValue:zo,asArray:Js,getValues:Wde,validateTypeValue:Gde}=Ls,{handleEvent:_s}=Ug,ku={};var Kde=ku;ku.expand=async({activeCtx:e,activeProperty:t=null,element:r,options:n={},insideList:i=!1,insideIndex:o=!1,typeScopedContext:s=null})=>{if(r==null)return null;if(t==="@default"&&(n=Object.assign({},n,{isFrame:!1})),!As(r)&&!ds(r))return!i&&(t===null||Yn(e,t,{vocab:!0},n)==="@graph")?(n.eventHandler&&_s({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:r}},options:n}),null):mW({activeCtx:e,activeProperty:t,value:r,options:n});if(As(r)){let g=[];const _=Wo(e,t,"@container")||[];i=i||_.includes("@list");for(let v=0;v<r.length;++v){let h=await ku.expand({activeCtx:e,activeProperty:t,element:r[v],options:n,insideIndex:o,typeScopedContext:s});i&&As(h)&&(h={"@list":h}),h!==null&&(As(h)?g=g.concat(h):g.push(h))}return g}const a=Yn(e,t,{vocab:!0},n),l=Wo(e,t,"@context");s=s||(e.previousContext?e:null);let u=Object.keys(r).sort(),f=!o;if(f&&s&&u.length<=2&&!u.includes("@context"))for(const g of u){const _=Yn(s,g,{vocab:!0},n);if(_==="@value"){f=!1,e=s;break}if(_==="@id"&&u.length===1){f=!1;break}}f&&(e=e.revertToPreviousContext()),d_(l)||(e=await vm({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:n})),"@context"in r&&(e=await vm({activeCtx:e,localCtx:r["@context"],options:n})),s=e;let c=null;for(const g of u)if(Yn(e,g,{vocab:!0},n)==="@type"){c=c||g;const v=r[g],h=Array.isArray(v)?v.length>1?v.slice().sort():v:[v];for(const E of h){const y=Wo(s,E,"@context");d_(y)||(e=await vm({activeCtx:e,localCtx:y,options:n,propagate:!1}))}}let p={};await pW({activeCtx:e,activeProperty:t,expandedActiveProperty:a,element:r,expandedParent:p,options:n,insideList:i,typeKey:c,typeScopedContext:s}),u=Object.keys(p);let m=u.length;if("@value"in p){if("@type"in p&&("@language"in p||"@direction"in p))throw new An('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:p});let g=m-1;if("@type"in p&&(g-=1),"@index"in p&&(g-=1),"@language"in p&&(g-=1),"@direction"in p&&(g-=1),g!==0)throw new An('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:p});const _=p["@value"]===null?[]:Js(p["@value"]),v=Wde(p,"@type");if(!(qw(e,1.1)&&v.includes("@json")&&v.length===1))if(_.length===0)n.eventHandler&&_s({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:p}},options:n}),p=null;else{if(!_.every(h=>Di(h)||VO(h))&&"@language"in p)throw new An("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:p});if(!v.every(h=>Vw(h)&&!(Di(h)&&h.indexOf("_:")===0)||VO(h)))throw new An('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:p})}}else if("@type"in p&&!As(p["@type"]))p["@type"]=[p["@type"]];else if("@set"in p||"@list"in p){if(m>1&&!(m===2&&"@index"in p))throw new An('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:p});"@set"in p&&(p=p["@set"],u=Object.keys(p),m=u.length)}else m===1&&"@language"in p&&(n.eventHandler&&_s({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:p}},options:n}),p=null);return ds(p)&&!n.keepFreeFloatingNodes&&!i&&(t===null||a==="@graph"||(Wo(e,t,"@container")||[]).includes("@graph"))&&(p=hW({value:p,count:m,options:n})),p};function hW({value:e,count:t,options:r}){if(t===0||"@value"in e||"@list"in e||t===1&&"@id"in e){if(r.eventHandler){let n,i;t===0?(n="empty object",i="Dropping empty object."):"@value"in e?(n="object with only @value",i="Dropping object with only @value."):"@list"in e?(n="object with only @list",i="Dropping object with only @list."):t===1&&"@id"in e&&(n="object with only @id",i="Dropping object with only @id."),_s({event:{type:["JsonLdEvent"],code:n,level:"warning",message:i,details:{value:e}},options:r})}return null}return e}async function pW({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:n,expandedParent:i,options:o={},insideList:s,typeKey:a,typeScopedContext:l}){const u=Object.keys(n).sort(),f=[];let c;const p=n[a]&&Yn(e,As(n[a])?n[a][0]:n[a],{vocab:!0},{...o,typeExpansion:!0})==="@json";for(const m of u){let g=n[m],_;if(m==="@context")continue;const v=Yn(e,m,{vocab:!0},o);if(v===null||!(Vw(v)||WO(v))){o.eventHandler&&_s({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:m,expandedProperty:v}},options:o});continue}if(WO(v)){if(r==="@reverse")throw new An("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:g});if(v in i&&v!=="@included"&&v!=="@type")throw new An("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:v})}if(v==="@id"){if(!Di(g)){if(!o.isFrame)throw new An('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:g});if(ds(g)){if(!VO(g))throw new An('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}else if(As(g)){if(!g.every(S=>Di(S)))throw new An('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}else throw new An('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}zo(i,"@id",Js(g).map(S=>{if(Di(S)){const $=Yn(e,S,{base:!0},o);return o.eventHandler&&($===null?_s(S===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:S}},options:o}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:S}},options:o}):Vw($)||_s({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:S,expandedId:$}},options:o})),$}return S}),{propertyIsArray:o.isFrame});continue}if(v==="@type"){ds(g)&&(g=Object.fromEntries(Object.entries(g).map(([S,$])=>[Yn(l,S,{vocab:!0}),Js($).map(T=>Yn(l,T,{base:!0,vocab:!0},{...o,typeExpansion:!0}))]))),Gde(g,o.isFrame),zo(i,"@type",Js(g).map(S=>{if(Di(S)){const $=Yn(l,S,{base:!0,vocab:!0},{...o,typeExpansion:!0});return $!=="@json"&&!Vw($)&&o.eventHandler&&_s({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:S}},options:o}),$}return S}),{propertyIsArray:!!o.isFrame});continue}if(v==="@included"&&qw(e,1.1)){const S=Js(await ku.expand({activeCtx:e,activeProperty:t,element:g,options:o}));if(!S.every($=>Vde($)))throw new An("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:g});zo(i,"@included",S,{propertyIsArray:!0});continue}if(v==="@graph"&&!(ds(g)||As(g)))throw new An('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:g});if(v==="@value"){c=g,p&&qw(e,1.1)?i["@value"]=g:zo(i,"@value",g,{propertyIsArray:o.isFrame});continue}if(v==="@language"){if(g===null)continue;if(!Di(g)&&!o.isFrame)throw new An('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:g});g=Js(g).map(S=>Di(S)?S.toLowerCase():S);for(const S of g)Di(S)&&!S.match(dW)&&o.eventHandler&&_s({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:S}},options:o});zo(i,"@language",g,{propertyIsArray:o.isFrame});continue}if(v==="@direction"){if(!Di(g)&&!o.isFrame)throw new An('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:g});g=Js(g);for(const S of g)if(Di(S)&&S!=="ltr"&&S!=="rtl")throw new An('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:g});zo(i,"@direction",g,{propertyIsArray:o.isFrame});continue}if(v==="@index"){if(!Di(g))throw new An('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:g});zo(i,"@index",g);continue}if(v==="@reverse"){if(!ds(g))throw new An('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:g});if(_=await ku.expand({activeCtx:e,activeProperty:"@reverse",element:g,options:o}),"@reverse"in _)for(const $ in _["@reverse"])zo(i,$,_["@reverse"][$],{propertyIsArray:!0});let S=i["@reverse"]||null;for(const $ in _){if($==="@reverse")continue;S===null&&(S=i["@reverse"]={}),zo(S,$,[],{propertyIsArray:!0});const T=_[$];for(let d=0;d<T.length;++d){const A=T[d];if(HO(A)||C1(A))throw new An('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:_});zo(S,$,A,{propertyIsArray:!0})}}continue}if(v==="@nest"){f.push(m);continue}let h=e;const E=Wo(e,m,"@context");d_(E)||(h=await vm({activeCtx:e,localCtx:E,propagate:!0,overrideProtected:!0,options:o}));const y=Wo(e,m,"@container")||[];if(y.includes("@language")&&ds(g)){const S=Wo(h,m,"@direction");_=Jde(h,g,S,o)}else if(y.includes("@index")&&ds(g)){const S=y.includes("@graph"),$=Wo(h,m,"@index")||"@index",T=$!=="@index"&&Yn(e,$,{vocab:!0},o);_=await j1({activeCtx:h,options:o,activeProperty:m,value:g,asGraph:S,indexKey:$,propertyIndex:T})}else if(y.includes("@id")&&ds(g)){const S=y.includes("@graph");_=await j1({activeCtx:h,options:o,activeProperty:m,value:g,asGraph:S,indexKey:"@id"})}else if(y.includes("@type")&&ds(g))_=await j1({activeCtx:h.revertToPreviousContext(),options:o,activeProperty:m,value:g,asGraph:!1,indexKey:"@type"});else{const S=v==="@list";if(S||v==="@set"){let $=t;S&&r==="@graph"&&($=null),_=await ku.expand({activeCtx:h,activeProperty:$,element:g,options:o,insideList:S})}else Wo(e,m,"@type")==="@json"?_={"@type":"@json","@value":g}:_=await ku.expand({activeCtx:h,activeProperty:m,element:g,options:o,insideList:!1})}if(!(_===null&&v!=="@value")){if(v!=="@list"&&!C1(_)&&y.includes("@list")&&(_={"@list":Js(_)}),y.includes("@graph")&&!y.some(S=>S==="@id"||S==="@index")){if(_=Js(_),o.isFrame||(_=_.filter(S=>{const $=Object.keys(S).length;return hW({value:S,count:$,options:o})!==null})),_.length===0)continue;_=_.map(S=>({"@graph":Js(S)}))}if(h.mappings.has(m)&&h.mappings.get(m).reverse){const S=i["@reverse"]=i["@reverse"]||{};_=Js(_);for(let $=0;$<_.length;++$){const T=_[$];if(HO(T)||C1(T))throw new An('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:_});zo(S,v,T,{propertyIsArray:!0})}continue}zo(i,v,_,{propertyIsArray:!0})}}if("@value"in i&&!(i["@type"]==="@json"&&qw(e,1.1))){if((ds(c)||As(c))&&!o.isFrame)throw new An('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:c})}for(const m of f){const g=As(n[m])?n[m]:[n[m]];for(const _ of g){if(!ds(_)||Object.keys(_).some(v=>Yn(e,v,{vocab:!0},o)==="@value"))throw new An("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:_});await pW({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:_,expandedParent:i,options:o,insideList:s,typeScopedContext:l,typeKey:a})}}}function mW({activeCtx:e,activeProperty:t,value:r,options:n}){if(r==null)return null;const i=Yn(e,t,{vocab:!0},n);if(i==="@id")return Yn(e,r,{base:!0},n);if(i==="@type")return Yn(e,r,{vocab:!0,base:!0},{...n,typeExpansion:!0});const o=Wo(e,t,"@type");if((o==="@id"||i==="@graph")&&Di(r)){const a=Yn(e,r,{base:!0},n);return a===null&&r.match(Hde)&&n.eventHandler&&_s({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:n}),{"@id":a}}if(o==="@vocab"&&Di(r))return{"@id":Yn(e,r,{vocab:!0,base:!0},n)};if(WO(i))return r;const s={};if(o&&!["@id","@vocab","@none"].includes(o))s["@type"]=o;else if(Di(r)){const a=Wo(e,t,"@language");a!==null&&(s["@language"]=a);const l=Wo(e,t,"@direction");l!==null&&(s["@direction"]=l)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),s["@value"]=r,s}function Jde(e,t,r,n){const i=[],o=Object.keys(t).sort();for(const s of o){const a=Yn(e,s,{vocab:!0},n);let l=t[s];As(l)||(l=[l]);for(const u of l){if(u===null)continue;if(!Di(u))throw new An("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const f={"@value":u};a!=="@none"&&(s.match(dW)||n.eventHandler&&_s({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:s}},options:n}),f["@language"]=s.toLowerCase()),r&&(f["@direction"]=r),i.push(f)}}return i}async function j1({activeCtx:e,options:t,activeProperty:r,value:n,asGraph:i,indexKey:o,propertyIndex:s}){const a=[],l=Object.keys(n).sort(),u=o==="@type";for(let f of l){if(u){const m=Wo(e,f,"@context");d_(m)||(e=await vm({activeCtx:e,localCtx:m,propagate:!1,options:t}))}let c=n[f];As(c)||(c=[c]),c=await ku.expand({activeCtx:e,activeProperty:r,element:c,options:t,insideList:!1,insideIndex:!0});let p;s?f==="@none"?p="@none":p=mW({activeCtx:e,activeProperty:o,value:f,options:t}):p=Yn(e,f,{vocab:!0},t),o==="@id"?f=Yn(e,f,{base:!0},t):u&&(f=p);for(let m of c){if(i&&!qde(m)&&(m={"@graph":[m]}),o==="@type")p==="@none"||(m["@type"]?m["@type"]=[f].concat(m["@type"]):m["@type"]=[f]);else{if(HO(m)&&!["@language","@type","@index"].includes(o))throw new An(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${o}".`,"jsonld.SyntaxError",{code:"invalid value object",value:m});s?p!=="@none"&&zo(m,s,p,{propertyIsArray:!0,prependValue:!0}):p!=="@none"&&!(o in m)&&(m[o]=f)}a.push(m)}}return a}const{isKeyword:gW}=Kf,ka=Wl,D1=rs,Da=Ls,Yde=Ms,Xi={};var UE=Xi;Xi.createMergedNodeMap=(e,t)=>{t=t||{};const r=t.issuer||new Da.IdentifierIssuer("_:b"),n={"@default":{}};return Xi.createNodeMap(e,n,"@default",r),Xi.mergeNodeMaps(n)};Xi.createNodeMap=(e,t,r,n,i,o)=>{if(D1.isArray(e)){for(const u of e)Xi.createNodeMap(u,t,r,n,void 0,o);return}if(!D1.isObject(e)){o&&o.push(e);return}if(ka.isValue(e)){if("@type"in e){let u=e["@type"];u.indexOf("_:")===0&&(e["@type"]=u=n.getId(u))}o&&o.push(e);return}else if(o&&ka.isList(e)){const u=[];Xi.createNodeMap(e["@list"],t,r,n,i,u),o.push({"@list":u});return}if("@type"in e){const u=e["@type"];for(const f of u)f.indexOf("_:")===0&&n.getId(f)}D1.isUndefined(i)&&(i=ka.isBlankNode(e)?n.getId(e["@id"]):e["@id"]),o&&o.push({"@id":i});const s=t[r],a=s[i]=s[i]||{};a["@id"]=i;const l=Object.keys(e).sort();for(let u of l){if(u==="@id")continue;if(u==="@reverse"){const c={"@id":i},p=e["@reverse"];for(const m in p){const g=p[m];for(const _ of g){let v=_["@id"];ka.isBlankNode(_)&&(v=n.getId(v)),Xi.createNodeMap(_,t,r,n,v),Da.addValue(s[v],m,c,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(u==="@graph"){i in t||(t[i]={}),Xi.createNodeMap(e[u],t,i,n);continue}if(u==="@included"){Xi.createNodeMap(e[u],t,r,n);continue}if(u!=="@type"&&gW(u)){if(u==="@index"&&u in a&&(e[u]!==a[u]||e[u]["@id"]!==a[u]["@id"]))throw new Yde("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:a});a[u]=e[u];continue}const f=e[u];if(u.indexOf("_:")===0&&(u=n.getId(u)),f.length===0){Da.addValue(a,u,[],{propertyIsArray:!0});continue}for(let c of f)if(u==="@type"&&(c=c.indexOf("_:")===0?n.getId(c):c),ka.isSubject(c)||ka.isSubjectReference(c)){if("@id"in c&&!c["@id"])continue;const p=ka.isBlankNode(c)?n.getId(c["@id"]):c["@id"];Da.addValue(a,u,{"@id":p},{propertyIsArray:!0,allowDuplicate:!1}),Xi.createNodeMap(c,t,r,n,p)}else if(ka.isValue(c))Da.addValue(a,u,c,{propertyIsArray:!0,allowDuplicate:!1});else if(ka.isList(c)){const p=[];Xi.createNodeMap(c["@list"],t,r,n,i,p),c={"@list":p},Da.addValue(a,u,c,{propertyIsArray:!0,allowDuplicate:!1})}else Xi.createNodeMap(c,t,r,n,i),Da.addValue(a,u,c,{propertyIsArray:!0,allowDuplicate:!1})}};Xi.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const n of Object.keys(e[r]).sort()){const i=e[r][n];n in t||(t[n]={"@id":n});const o=t[n];for(const s of Object.keys(i).sort())if(gW(s)&&s!=="@type")o[s]=Da.clone(i[s]);else for(const a of i[s])Da.addValue(o,s,Da.clone(a),{propertyIsArray:!0,allowDuplicate:!1})}return t};Xi.mergeNodeMaps=e=>{const t=e["@default"],r=Object.keys(e).sort();for(const n of r){if(n==="@default")continue;const i=e[n];let o=t[n];o?"@graph"in o||(o["@graph"]=[]):t[n]=o={"@id":n,"@graph":[]};const s=o["@graph"];for(const a of Object.keys(i).sort()){const l=i[a];ka.isSubjectReference(l)||s.push(l)}}return t};const{isSubjectReference:Xde}=Wl,{createMergedNodeMap:Qde}=UE,vW={};var Zde=vW;vW.flatten=e=>{const t=Qde(e),r=[],n=Object.keys(t).sort();for(let i=0;i<n.length;++i){const o=t[n[i]];Xde(o)||r.push(o)}return r};const GO=Ms,M1=Wl,Gp=rs,{REGEX_BCP47:PL,addValue:RL}=Ls,{handleEvent:NL}=Ug,{RDF_LIST:ehe,RDF_FIRST:L1,RDF_REST:F1,RDF_NIL:B1,RDF_TYPE:the,RDF_JSON_LITERAL:rhe,XSD_BOOLEAN:IL,XSD_DOUBLE:kL,XSD_INTEGER:CL,XSD_STRING:U1}=UI,yW={};var nhe=yW;yW.fromRDF=async(e,t)=>{const{useRdfType:r=!1,useNativeTypes:n=!1,rdfDirection:i=null}=t,o={},s={"@default":o},a={};if(i){if(i==="compound-literal")throw new GO("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if(i!=="i18n-datatype")throw new GO("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i})}for(const f of e){const c=f.graph.termType==="DefaultGraph"?"@default":f.graph.value;c in s||(s[c]={}),c!=="@default"&&!(c in o)&&(o[c]={"@id":c});const p=s[c],m=f.subject.value,g=f.predicate.value,_=f.object;m in p||(p[m]={"@id":m});const v=p[m],h=_.termType.endsWith("Node");if(h&&!(_.value in p)&&(p[_.value]={"@id":_.value}),g===the&&!r&&h){RL(v,"@type",_.value,{propertyIsArray:!0});continue}const E=ihe(_,n,i,t);if(RL(v,g,E,{propertyIsArray:!0}),h)if(_.value===B1){const y=p[_.value];"usages"in y||(y.usages=[]),y.usages.push({node:v,property:g,value:E})}else _.value in a?a[_.value]=!1:a[_.value]={node:v,property:g,value:E}}for(const f in s){const c=s[f];if(!(B1 in c))continue;const p=c[B1];if(p.usages){for(let m of p.usages){let g=m.node,_=m.property,v=m.value;const h=[],E=[];let y=Object.keys(g).length;for(;_===F1&&Gp.isObject(a[g["@id"]])&&Gp.isArray(g[L1])&&g[L1].length===1&&Gp.isArray(g[F1])&&g[F1].length===1&&(y===3||y===4&&Gp.isArray(g["@type"])&&g["@type"].length===1&&g["@type"][0]===ehe)&&(h.push(g[L1][0]),E.push(g["@id"]),m=a[g["@id"]],g=m.node,_=m.property,v=m.value,y=Object.keys(g).length,!!M1.isBlankNode(g)););delete v["@id"],v["@list"]=h.reverse();for(const S of E)delete c[S]}delete p.usages}}const l=[],u=Object.keys(o).sort();for(const f of u){const c=o[f];if(f in s){const p=c["@graph"]=[],m=s[f],g=Object.keys(m).sort();for(const _ of g){const v=m[_];M1.isSubjectReference(v)||p.push(v)}}M1.isSubjectReference(c)||l.push(c)}return l};function ihe(e,t,r,n){if(e.termType.endsWith("Node"))return{"@id":e.value};const i={"@value":e.value};if(e.language)e.language.match(PL)||n.eventHandler&&NL({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:n}),i["@language"]=e.language;else{let o=e.datatype.value;if(o||(o=U1),o===rhe){o="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(s){throw new GO("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:s})}}if(t){if(o===IL)i["@value"]==="true"?i["@value"]=!0:i["@value"]==="false"&&(i["@value"]=!1);else if(Gp.isNumeric(i["@value"]))if(o===CL){const s=parseInt(i["@value"],10);s.toFixed(0)===i["@value"]&&(i["@value"]=s)}else o===kL&&(i["@value"]=parseFloat(i["@value"]));[IL,CL,kL,U1].includes(o)||(i["@type"]=o)}else if(r==="i18n-datatype"&&o.startsWith("https://www.w3.org/ns/i18n#")){const[,s,a]=o.split(/[#_]/);s.length>0&&(i["@language"]=s,s.match(PL)||n.eventHandler&&NL({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:s}},options:n})),i["@direction"]=a}else o!==U1&&(i["@type"]=o)}return i}var ohe=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((r,n,i)=>{const o=i===0?"":",",s=n===void 0||typeof n=="symbol"?null:n;return r+o+e(s)},"")+"]":"{"+Object.keys(t).sort().reduce((r,n,i)=>{if(t[n]===void 0||typeof t[n]=="symbol")return r;const o=r.length===0?"":",";return r+o+e(n)+":"+e(t[n])},"")+"}"};const{createNodeMap:she}=UE,{isKeyword:ahe}=Kf,jL=Wl,lhe=ohe,DL=Ms,Ep=rs,uhe=Ls,{handleEvent:_f}=Ug,{RDF_FIRST:che,RDF_REST:fhe,RDF_NIL:dhe,RDF_TYPE:hhe,RDF_JSON_LITERAL:phe,RDF_LANGSTRING:mhe,XSD_BOOLEAN:ghe,XSD_DOUBLE:ML,XSD_INTEGER:vhe,XSD_STRING:yhe}=UI,{isAbsolute:h_}=mc,wW={};var whe=wW;wW.toRDF=(e,t)=>{const r=new uhe.IdentifierIssuer("_:b"),n={"@default":{}};she(e,n,"@default",r);const i=[],o=Object.keys(n).sort();for(const s of o){let a;if(s==="@default")a={termType:"DefaultGraph",value:""};else if(h_(s))s.startsWith("_:")?a={termType:"BlankNode"}:a={termType:"NamedNode"},a.value=s;else{t.eventHandler&&_f({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:s}},options:t});continue}bhe(i,n[s],a,r,t)}return i};function bhe(e,t,r,n,i){const o=Object.keys(t).sort();for(const s of o){const a=t[s],l=Object.keys(a).sort();for(let u of l){const f=a[u];if(u==="@type")u=hhe;else if(ahe(u))continue;for(const c of f){const p={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!h_(s)){i.eventHandler&&_f({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:s}},options:i});continue}const m={termType:u.startsWith("_:")?"BlankNode":"NamedNode",value:u};if(!h_(u)){i.eventHandler&&_f({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:u}},options:i});continue}if(m.termType==="BlankNode"&&!i.produceGeneralizedRdf){i.eventHandler&&_f({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:n.getOldIds().find(_=>n.getId(_)===u)}},options:i});continue}const g=KO(c,n,e,r,i.rdfDirection,i);g&&e.push({subject:p,predicate:m,object:g,graph:r})}}}}function _he(e,t,r,n,i,o){const s={termType:"NamedNode",value:che},a={termType:"NamedNode",value:fhe},l={termType:"NamedNode",value:dhe},u=e.pop(),f=u?{termType:"BlankNode",value:t.getId()}:l;let c=f;for(const p of e){const m=KO(p,t,r,n,i,o),g={termType:"BlankNode",value:t.getId()};r.push({subject:c,predicate:s,object:m,graph:n}),r.push({subject:c,predicate:a,object:g,graph:n}),c=g}if(u){const p=KO(u,t,r,n,i,o);r.push({subject:c,predicate:s,object:p,graph:n}),r.push({subject:c,predicate:a,object:l,graph:n})}return f}function KO(e,t,r,n,i,o){const s={};if(jL.isValue(e)){s.termType="Literal",s.value=void 0,s.datatype={termType:"NamedNode"};let a=e["@value"];const l=e["@type"]||null;if(l==="@json")s.value=lhe(a),s.datatype.value=phe;else if(Ep.isBoolean(a))s.value=a.toString(),s.datatype.value=l||ghe;else if(Ep.isDouble(a)||l===ML)Ep.isDouble(a)||(a=parseFloat(a)),s.value=a.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),s.datatype.value=l||ML;else if(Ep.isNumber(a))s.value=a.toFixed(0),s.datatype.value=l||vhe;else if("@direction"in e&&i==="i18n-datatype"){const u=(e["@language"]||"").toLowerCase(),f=e["@direction"],c=`https://www.w3.org/ns/i18n#${u}_${f}`;s.datatype.value=c,s.value=a}else{if("@direction"in e&&i==="compound-literal")throw new DL("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if("@direction"in e&&i)throw new DL("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});"@language"in e?("@direction"in e&&!i&&o.eventHandler&&_f({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:s.value}},options:o}),s.value=a,s.datatype.value=l||mhe,s.language=e["@language"]):("@direction"in e&&!i&&o.eventHandler&&_f({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:s.value}},options:o}),s.value=a,s.datatype.value=l||yhe)}}else if(jL.isList(e)){const a=_he(e["@list"],t,r,n,i,o);s.termType=a.termType,s.value=a.value}else{const a=Ep.isObject(e)?e["@id"]:e;s.termType=a.startsWith("_:")?"BlankNode":"NamedNode",s.value=a}return s.termType==="NamedNode"&&!h_(s.value)?(o.eventHandler&&_f({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:s.value}},options:o}),null):s}const{isKeyword:JO}=Kf,ps=Wl,ln=rs,ci=Ls,LL=mc,ym=Ms,{createNodeMap:Ehe,mergeNodeMapGraphs:She}=UE,Es={};var $he=Es;Es.frameMergedOrDefault=(e,t,r)=>{const n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new ci.IdentifierIssuer("_:b");Ehe(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=She(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const o=[];Es.frame(n,Object.keys(n.subjects).sort(),t,o),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter(s=>n.bnodeMap[s].length===1));// remove @preserve from results
return r.link={},Hw(o,r)};Es.frame=(e,t,r,n,i=null)=>{bW(r),r=r[0];const o=e.options,s={embed:ry(r,o,"embed"),explicit:ry(r,o,"explicit"),requireAll:ry(r,o,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const a=e.link[e.graph],l=Ahe(e,t,r,s),u=Object.keys(l).sort();for(const f of u){const c=l[f];if(i===null?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},s.embed==="@link"&&f in a){Cc(n,i,a[f]);continue}const p={"@id":f};if(f.indexOf("_:")===0&&ci.addValue(e.bnodeMap,f,p,{propertyIsArray:!0}),a[f]=p,(s.embed==="@first"||s.embed==="@last")&&e.is11)throw new ym("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(f))){if(e.embedded&&(s.embed==="@never"||The(c,e.graph,e.subjectStack))){Cc(n,i,p);continue}if(e.embedded&&(s.embed=="@first"||s.embed=="@once")&&e.uniqueEmbeds[e.graph].hasOwnProperty(f)){Cc(n,i,p);continue}if(s.embed==="@last"&&f in e.uniqueEmbeds[e.graph]&&xhe(e,f),e.uniqueEmbeds[e.graph][f]={parent:n,property:i},e.subjectStack.push({subject:c,graph:e.graph}),f in e.graphMap){let m=!1,g=null;"@graph"in r?(g=r["@graph"][0],m=!(f==="@merged"||f==="@default"),ln.isObject(g)||(g={})):(m=e.graph!=="@merged",g={}),m&&Es.frame({...e,graph:f,embedded:!1},Object.keys(e.graphMap[f]).sort(),[g],p,"@graph")}"@included"in r&&Es.frame({...e,embedded:!1},t,r["@included"],p,"@included");for(const m of Object.keys(c).sort()){if(JO(m)){if(p[m]=ci.clone(c[m]),m==="@type")for(const g of c["@type"])g.indexOf("_:")===0&&ci.addValue(e.bnodeMap,g,p,{propertyIsArray:!0});continue}if(!(s.explicit&&!(m in r)))for(const g of c[m]){const _=m in r?r[m]:FL(s);if(ps.isList(g)){const v=r[m]&&r[m][0]&&r[m][0]["@list"]?r[m][0]["@list"]:FL(s),h={"@list":[]};Cc(p,m,h);const E=g["@list"];for(const y of E)ps.isSubjectReference(y)?Es.frame({...e,embedded:!0},[y["@id"]],v,h,"@list"):Cc(h,"@list",ci.clone(y))}else ps.isSubjectReference(g)?Es.frame({...e,embedded:!0},[g["@id"]],_,p,m):YO(_[0],g)&&Cc(p,m,ci.clone(g))}}for(const m of Object.keys(r).sort()){if(m==="@type"){if(!ln.isObject(r[m][0])||!("@default"in r[m][0]))continue}else if(JO(m))continue;const g=r[m][0]||{};if(!ry(g,o,"omitDefault")&&!(m in p)){let v="@null";"@default"in g&&(v=ci.clone(g["@default"])),ln.isArray(v)||(v=[v]),p[m]=[{"@preserve":v}]}}for(const m of Object.keys(r["@reverse"]||{}).sort()){const g=r["@reverse"][m];for(const _ of Object.keys(e.subjects))ci.getValues(e.subjects[_],m).some(h=>h["@id"]===f)&&(p["@reverse"]=p["@reverse"]||{},ci.addValue(p["@reverse"],m,[],{propertyIsArray:!0}),Es.frame({...e,embedded:!0},[_],g,p["@reverse"][m],i))}Cc(n,i,p),e.subjectStack.pop()}}};Es.cleanupNull=(e,t)=>{if(ln.isArray(e))return e.map(n=>Es.cleanupNull(n,t)).filter(n=>n);if(e==="@null")return null;if(ln.isObject(e)){if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(n!==-1)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)e[r]=Es.cleanupNull(e[r],t)}return e};function FL(e){const t={};for(const r in e)e[r]!==void 0&&(t["@"+r]=[e[r]]);return[t]}function The(e,t,r){for(let n=r.length-1;n>=0;--n){const i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function ry(e,t,r){const n="@"+r;let i=n in e?e[n][0]:t[r];if(r==="embed"){if(i===!0)i="@once";else if(i===!1)i="@never";else if(i!=="@always"&&i!=="@never"&&i!=="@link"&&i!=="@first"&&i!=="@last"&&i!=="@once")throw new ym("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return i}function bW(e){if(!ln.isArray(e)||e.length!==1||!ln.isObject(e[0]))throw new ym("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(const t of ci.asArray(e[0]["@id"]))if(!(ln.isObject(t)||LL.isAbsolute(t))||ln.isString(t)&&t.indexOf("_:")===0)throw new ym("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(const t of ci.asArray(e[0]["@type"]))if(!(ln.isObject(t)||LL.isAbsolute(t)||t==="@json")||ln.isString(t)&&t.indexOf("_:")===0)throw new ym("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function Ahe(e,t,r,n){const i={};for(const o of t){const s=e.graphMap[e.graph][o];_W(e,s,r,n)&&(i[o]=s)}return i}function _W(e,t,r,n){let i=!0,o=!1;for(const s in r){let a=!1;const l=ci.getValues(t,s),u=ci.getValues(r,s).length===0;if(s==="@id"){if(ln.isEmptyObject(r["@id"][0]||{})?a=!0:r["@id"].length>=0&&(a=r["@id"].includes(l[0])),!n.requireAll)return a}else if(s==="@type"){if(i=!1,u){if(l.length>0)return!1;a=!0}else if(r["@type"].length===1&&ln.isEmptyObject(r["@type"][0]))a=l.length>0;else for(const f of r["@type"])ln.isObject(f)&&"@default"in f?a=!0:a=a||l.some(c=>c===f);if(!n.requireAll)return a}else{if(JO(s))continue;{const f=ci.getValues(r,s)[0];let c=!1;if(f&&(bW([f]),c="@default"in f),i=!1,l.length===0&&c)continue;if(l.length>0&&u)return!1;if(f===void 0){if(l.length>0)return!1;a=!0}else if(ps.isList(f)){const p=f["@list"][0];if(ps.isList(l[0])){const m=l[0]["@list"];ps.isValue(p)?a=m.some(g=>YO(p,g)):(ps.isSubject(p)||ps.isSubjectReference(p))&&(a=m.some(g=>BL(e,p,g,n)))}}else ps.isValue(f)?a=l.some(p=>YO(f,p)):ps.isSubjectReference(f)?a=l.some(p=>BL(e,f,p,n)):ln.isObject(f)?a=l.length>0:a=!1}}if(!a&&n.requireAll)return!1;o=o||a}return i||o}function xhe(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,o=n.property,s={"@id":t};if(ln.isArray(i)){for(let l=0;l<i.length;++l)if(ci.compareValues(i[l],s)){i[l]=s;break}}else{const l=ln.isArray(i[o]);ci.removeValue(i,o,s,{propertyIsArray:l}),ci.addValue(i,o,s,{propertyIsArray:l})}const a=l=>{const u=Object.keys(r);for(const f of u)f in r&&ln.isObject(r[f].parent)&&r[f].parent["@id"]===l&&(delete r[f],a(f))};a(t)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function Hw(e,t){if(ln.isArray(e))return e.map(r=>Hw(r,t));if(ln.isObject(e)){// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(ps.isValue(e))return e;if(ps.isList(e))return e["@list"]=Hw(e["@list"],t),e;if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(n!==-1)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e){if(r==="@id"&&t.bnodesToClear.includes(e[r])){delete e["@id"];continue}e[r]=Hw(e[r],t)}}return e}function Cc(e,t,r){ln.isObject(e)?ci.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function BL(e,t,r,n){if(!("@id"in r))return!1;const i=e.subjects[r["@id"]];return i&&_W(e,i,t,n)}function YO(e,t){const r=t["@value"],n=t["@type"],i=t["@language"],o=e["@value"]?ln.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?ln.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],a=e["@language"]?ln.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return o.length===0&&s.length===0&&a.length===0?!0:!(!(o.includes(r)||ln.isEmptyObject(o[0]))||!(!n&&s.length===0||s.includes(n)||n&&ln.isEmptyObject(s[0]))||!(!i&&a.length===0||a.includes(i)||i&&ln.isEmptyObject(a[0])))}const VI=Ms,{isArray:fu,isObject:Cu,isString:EW,isUndefined:z1}=rs,{isList:XO,isValue:Sl,isGraph:SW,isSimpleGraph:UL,isSubjectReference:q1}=Wl,{expandIri:$W,getContextValue:Ki,isKeyword:TW,process:V1,processingMode:Ohe}=Kf,{removeBase:zL,prependBase:Phe}=mc,{REGEX_KEYWORD:Rhe,addValue:Bo,asArray:ny,compareShortestLeast:Nhe}=Ls,ar={};var Ihe=ar;ar.compact=async({activeCtx:e,activeProperty:t=null,element:r,options:n={}})=>{if(fu(r)){let o=[];for(let s=0;s<r.length;++s){const a=await ar.compact({activeCtx:e,activeProperty:t,element:r[s],options:n});a!==null&&o.push(a)}return n.compactArrays&&o.length===1&&(Ki(e,t,"@container")||[]).length===0&&(o=o[0]),o}const i=Ki(e,t,"@context");if(z1(i)||(e=await V1({activeCtx:e,localCtx:i,propagate:!0,overrideProtected:!0,options:n})),Cu(r)){if(n.link&&"@id"in r&&n.link.hasOwnProperty(r["@id"])){const p=n.link[r["@id"]];for(let m=0;m<p.length;++m)if(p[m].expanded===r)return p[m].compacted}if(Sl(r)||q1(r)){const p=ar.compactValue({activeCtx:e,activeProperty:t,value:r,options:n});return n.link&&q1(r)&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:p})),p}if(XO(r)&&(Ki(e,t,"@container")||[]).includes("@list"))return ar.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:n});const o=t==="@reverse",s={},a=e;!Sl(r)&&!q1(r)&&(e=e.revertToPreviousContext());const l=Ki(a,t,"@context");z1(l)||(e=await V1({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:n})),n.link&&"@id"in r&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:s}));let u=r["@type"]||[];u.length>1&&(u=Array.from(u).sort());const f=e;for(const p of u){const m=ar.compactIri({activeCtx:f,iri:p,relativeTo:{vocab:!0}}),g=Ki(a,m,"@context");z1(g)||(e=await V1({activeCtx:e,localCtx:g,options:n,propagate:!1}))}const c=Object.keys(r).sort();for(const p of c){const m=r[p];if(p==="@id"){let g=ny(m).map(v=>ar.compactIri({activeCtx:e,iri:v,relativeTo:{vocab:!1},base:n.base}));g.length===1&&(g=g[0]);const _=ar.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});s[_]=g;continue}if(p==="@type"){let g=ny(m).map(y=>ar.compactIri({activeCtx:a,iri:y,relativeTo:{vocab:!0}}));g.length===1&&(g=g[0]);const _=ar.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),E=(Ki(e,_,"@container")||[]).includes("@set")&&Ohe(e,1.1)||fu(g)&&m.length===0;Bo(s,_,g,{propertyIsArray:E});continue}if(p==="@reverse"){const g=await ar.compact({activeCtx:e,activeProperty:"@reverse",element:m,options:n});for(const _ in g)if(e.mappings.has(_)&&e.mappings.get(_).reverse){const v=g[_],E=(Ki(e,_,"@container")||[]).includes("@set")||!n.compactArrays;Bo(s,_,v,{propertyIsArray:E}),delete g[_]}if(Object.keys(g).length>0){const _=ar.compactIri({activeCtx:e,iri:p,relativeTo:{vocab:!0}});Bo(s,_,g)}continue}if(p==="@preserve"){const g=await ar.compact({activeCtx:e,activeProperty:t,element:m,options:n});fu(g)&&g.length===0||Bo(s,p,g);continue}if(p==="@index"){if((Ki(e,t,"@container")||[]).includes("@index"))continue;const _=ar.compactIri({activeCtx:e,iri:p,relativeTo:{vocab:!0}});Bo(s,_,m);continue}if(p!=="@graph"&&p!=="@list"&&p!=="@included"&&TW(p)){const g=ar.compactIri({activeCtx:e,iri:p,relativeTo:{vocab:!0}});Bo(s,g,m);continue}if(!fu(m))throw new VI("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(m.length===0){const g=ar.compactIri({activeCtx:e,iri:p,value:m,relativeTo:{vocab:!0},reverse:o}),_=e.mappings.has(g)?e.mappings.get(g)["@nest"]:null;let v=s;_&&(qL(e,_,n),Cu(s[_])||(s[_]={}),v=s[_]),Bo(v,g,m,{propertyIsArray:!0})}for(const g of m){const _=ar.compactIri({activeCtx:e,iri:p,value:g,relativeTo:{vocab:!0},reverse:o}),v=e.mappings.has(_)?e.mappings.get(_)["@nest"]:null;let h=s;v&&(qL(e,v,n),Cu(s[v])||(s[v]={}),h=s[v]);const E=Ki(e,_,"@container")||[],y=SW(g),S=XO(g);let $;S?$=g["@list"]:y&&($=g["@graph"]);let T=await ar.compact({activeCtx:e,activeProperty:_,element:S||y?$:g,options:n});if(S)if(fu(T)||(T=[T]),!E.includes("@list"))T={[ar.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:T},"@index"in g&&(T[ar.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=g["@index"]);else{Bo(h,_,T,{valueIsArray:!0,allowDuplicate:!0});continue}if(y)if(E.includes("@graph")&&(E.includes("@id")||E.includes("@index")&&UL(g))){let d;h.hasOwnProperty(_)?d=h[_]:h[_]=d={};const A=(E.includes("@id")?g["@id"]:g["@index"])||ar.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});Bo(d,A,T,{propertyIsArray:!n.compactArrays||E.includes("@set")})}else E.includes("@graph")&&UL(g)?(fu(T)&&T.length>1&&(T={"@included":T}),Bo(h,_,T,{propertyIsArray:!n.compactArrays||E.includes("@set")})):(fu(T)&&T.length===1&&n.compactArrays&&(T=T[0]),T={[ar.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:T},"@id"in g&&(T[ar.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=g["@id"]),"@index"in g&&(T[ar.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=g["@index"]),Bo(h,_,T,{propertyIsArray:!n.compactArrays||E.includes("@set")}));else if(E.includes("@language")||E.includes("@index")||E.includes("@id")||E.includes("@type")){let d;h.hasOwnProperty(_)?d=h[_]:h[_]=d={};let A;if(E.includes("@language"))Sl(T)&&(T=T["@value"]),A=g["@language"];else if(E.includes("@index")){const x=Ki(e,_,"@index")||"@index",O=ar.compactIri({activeCtx:e,iri:x,relativeTo:{vocab:!0}});if(x==="@index")A=g["@index"],delete T[O];else{let D;if([A,...D]=ny(T[x]||[]),!EW(A))A=null;else switch(D.length){case 0:delete T[x];break;case 1:T[x]=D[0];break;default:T[x]=D;break}}}else if(E.includes("@id")){const x=ar.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});A=T[x],delete T[x]}else if(E.includes("@type")){const x=ar.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let O;switch([A,...O]=ny(T[x]||[]),O.length){case 0:delete T[x];break;case 1:T[x]=O[0];break;default:T[x]=O;break}Object.keys(T).length===1&&"@id"in g&&(T=await ar.compact({activeCtx:e,activeProperty:_,element:{"@id":g["@id"]},options:n}))}A||(A=ar.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),Bo(d,A,T,{propertyIsArray:E.includes("@set")})}else{const d=!n.compactArrays||E.includes("@set")||E.includes("@list")||fu(T)&&T.length===0||p==="@list"||p==="@graph";Bo(h,_,T,{propertyIsArray:d})}}}return s}return r};ar.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:n={vocab:!1},reverse:i=!1,base:o=null})=>{if(t===null)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const s=e.getInverse();if(TW(t)&&t in s&&"@none"in s[t]&&"@type"in s[t]["@none"]&&"@none"in s[t]["@none"]["@type"])return s[t]["@none"]["@type"]["@none"];if(n.vocab&&t in s){const c=e["@language"]||"@none",p=[];Cu(r)&&"@index"in r&&!("@graph"in r)&&p.push("@index","@index@set"),Cu(r)&&"@preserve"in r&&(r=r["@preserve"][0]),SW(r)?("@index"in r&&p.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&p.push("@graph@id","@graph@id@set"),p.push("@graph","@graph@set","@set"),"@index"in r||p.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||p.push("@graph@id","@graph@id@set")):Cu(r)&&!Sl(r)&&p.push("@id","@id@set","@type","@set@type");let m="@language",g="@null";if(i)m="@type",g="@reverse",p.push("@set");else if(XO(r)){"@index"in r||p.push("@list");const v=r["@list"];if(v.length===0)m="@any",g="@none";else{let h=v.length===0?c:null,E=null;for(let y=0;y<v.length;++y){const S=v[y];let $="@none",T="@none";if(Sl(S))if("@direction"in S){const d=(S["@language"]||"").toLowerCase(),A=S["@direction"];$=`${d}_${A}`}else"@language"in S?$=S["@language"].toLowerCase():"@type"in S?T=S["@type"]:$="@null";else T="@id";if(h===null?h=$:$!==h&&Sl(S)&&(h="@none"),E===null?E=T:T!==E&&(E="@none"),h==="@none"&&E==="@none")break}h=h||"@none",E=E||"@none",E!=="@none"?(m="@type",g=E):g=h}}else{if(Sl(r))if("@language"in r&&!("@index"in r)){p.push("@language","@language@set"),g=r["@language"];const v=r["@direction"];v&&(g=`${g}_${v}`)}else"@direction"in r&&!("@index"in r)?g=`_${r["@direction"]}`:"@type"in r&&(m="@type",g=r["@type"]);else m="@type",g="@id";p.push("@set")}p.push("@none"),Cu(r)&&!("@index"in r)&&p.push("@index","@index@set"),Sl(r)&&Object.keys(r).length===1&&p.push("@language","@language@set");const _=khe(e,t,r,p,m,g);if(_!==null)return _}if(n.vocab&&"@vocab"in e){const c=e["@vocab"];if(t.indexOf(c)===0&&t!==c){const p=t.substr(c.length);if(!e.mappings.has(p))return p}}let a=null;const l=[];let u=e.fastCurieMap;const f=t.length-1;for(let c=0;c<f&&t[c]in u;++c)u=u[t[c]],""in u&&l.push(u[""][0]);for(let c=l.length-1;c>=0;--c){const p=l[c],m=p.terms;for(const g of m){const _=g+":"+t.substr(p.iri.length);e.mappings.get(g)._prefix&&(!e.mappings.has(_)||r===null&&e.mappings.get(_)["@id"]===t)&&(a===null||Nhe(_,a)<0)&&(a=_)}}if(a!==null)return a;for(const[c,p]of e.mappings)if(p&&p._prefix&&t.startsWith(c+":"))throw new VI(`Absolute IRI "${t}" confused with prefix "${c}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!n.vocab)if("@base"in e)if(e["@base"]){const c=zL(Phe(o,e["@base"]),t);return Rhe.test(c)?`./${c}`:c}else return t;else return zL(o,t);return t};ar.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(Sl(r)){const a=Ki(e,t,"@type"),l=Ki(e,t,"@language"),u=Ki(e,t,"@direction"),f=Ki(e,t,"@container")||[],c="@index"in r&&!f.includes("@index");if(!c&&a!=="@none"&&(r["@type"]===a||"@language"in r&&r["@language"]===l&&"@direction"in r&&r["@direction"]===u||"@language"in r&&r["@language"]===l||"@direction"in r&&r["@direction"]===u))return r["@value"];const p=Object.keys(r).length,m=p===1||p===2&&"@index"in r&&!c,g="@language"in e,_=EW(r["@value"]),v=e.mappings.has(t)&&e.mappings.get(t)["@language"]===null;if(m&&a!=="@none"&&(!g||!_||v))return r["@value"];const h={};return c&&(h[ar.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?h[ar.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=ar.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(h[ar.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(h[ar.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),h[ar.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],h}const i=$W(e,t,{vocab:!0},n),o=Ki(e,t,"@type"),s=ar.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:o==="@vocab"},base:n.base});return o==="@id"||o==="@vocab"||i==="@graph"?s:{[ar.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}};function khe(e,t,r,n,i,o){o===null&&(o="@null");const s=[];if((o==="@id"||o==="@reverse")&&Cu(r)&&"@id"in r){o==="@reverse"&&s.push("@reverse");const l=ar.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(l)&&e.mappings.get(l)&&e.mappings.get(l)["@id"]===r["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(o);const l=s.find(u=>u.includes("_"));l&&s.push(l.replace(/^[^_]+_/,"_"))}s.push("@none");const a=e.inverse[t];for(const l of n){if(!(l in a))continue;const u=a[l][i];for(const f of s)if(f in u)return u[f]}return null}function qL(e,t,r){if($W(e,t,{vocab:!0},r)!=="@nest")throw new VI("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var H1,VL;function Che(){return VL||(VL=1,H1=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(r,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(r,n)},t.expand=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(r)},t.flatten=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(r)},t}),H1}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const HL=BI,WL=bde,Eu=Ls,dl=kde,W1=Eu.IdentifierIssuer,Aa=Ms,jhe=aW,iy=jde,{expand:Dhe}=Kde,{flatten:Mhe}=Zde,{fromRDF:Lhe}=nhe,{toRDF:Fhe}=whe,{frameMergedOrDefault:Bhe,cleanupNull:Uhe}=$he,{isArray:wd,isObject:jc,isString:xa}=rs,{isSubjectReference:zhe}=Wl,{expandIri:qhe,getInitialContext:oy,process:GL,processingMode:G1}=Kf,{compact:Vhe,compactIri:Hhe}=Ihe,{createNodeMap:Whe,createMergedNodeMap:Ghe,mergeNodeMaps:Khe}=UE,{logEventHandler:Jhe,logWarningEventHandler:Yhe,safeEventHandler:Xhe,setDefaultEventHandler:Qhe,setupEventHandler:Zhe,strictEventHandler:epe,unhandledEventHandler:tpe}=Ug,AW=function(e){const t={},n=new jhe({max:100});e.compact=async function(o,s,a){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(s===null)throw new Aa("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(o===null)return null;a=i(a,{base:xa(o)?o:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new W1("_:b"),contextResolver:new dl({sharedCache:n})}),a.link&&(a.skipExpansion=!0),a.compactToRelative||delete a.base;let l;a.skipExpansion?l=o:l=await e.expand(o,a);const u=await e.processContext(oy(a),s,a);let f=await Vhe({activeCtx:u,element:l,options:a});a.compactArrays&&!a.graph&&wd(f)?f.length===1?f=f[0]:f.length===0&&(f={}):a.graph&&jc(f)&&(f=[f]),jc(s)&&"@context"in s&&(s=s["@context"]),s=Eu.clone(s),wd(s)||(s=[s]);const c=s;s=[];for(let m=0;m<c.length;++m)(!jc(c[m])||Object.keys(c[m]).length>0)&&s.push(c[m]);const p=s.length>0;if(s.length===1&&(s=s[0]),wd(f)){const m=Hhe({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}}),g=f;f={},p&&(f["@context"]=s),f[m]=g}else if(jc(f)&&p){const m=f;f={"@context":s};for(const g in m)f[g]=m[g]}return f},e.expand=async function(o,s){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");s=i(s,{keepFreeFloatingNodes:!1,contextResolver:new dl({sharedCache:n})});const a={},l=[];if("expandContext"in s){const p=Eu.clone(s.expandContext);jc(p)&&"@context"in p?a.expandContext=p:a.expandContext={"@context":p},l.push(a.expandContext)}let u;if(!xa(o))a.input=Eu.clone(o);else{const p=await e.get(o,s);u=p.documentUrl,a.input=p.document,p.contextUrl&&(a.remoteContext={"@context":p.contextUrl},l.push(a.remoteContext))}"base"in s||(s.base=u||"");let f=oy(s);for(const p of l)f=await GL({activeCtx:f,localCtx:p,options:s});let c=await Dhe({activeCtx:f,element:a.input,options:s});return jc(c)&&"@graph"in c&&Object.keys(c).length===1?c=c["@graph"]:c===null&&(c=[]),wd(c)||(c=[c]),c},e.flatten=async function(o,s,a){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof s=="function"?s=null:s=s||null,a=i(a,{base:xa(o)?o:"",contextResolver:new dl({sharedCache:n})});const l=await e.expand(o,a),u=Mhe(l);return s===null?u:(a.graph=!0,a.skipExpansion=!0,await e.compact(u,s,a))},e.frame=async function(o,s,a){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(a=i(a,{base:xa(o)?o:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new dl({sharedCache:n})}),xa(s)){const v=await e.get(s,a);if(s=v.document,v.contextUrl){let h=s["@context"];h?wd(h)?h.push(v.contextUrl):h=[h,v.contextUrl]:h=v.contextUrl,s["@context"]=h}}const l=s?s["@context"]||{}:{},u=await e.processContext(oy(a),l,a);a.hasOwnProperty("omitGraph")||(a.omitGraph=G1(u,1.1)),a.hasOwnProperty("pruneBlankNodeIdentifiers")||(a.pruneBlankNodeIdentifiers=G1(u,1.1));const f=await e.expand(o,a),c={...a};c.isFrame=!0,c.keepFreeFloatingNodes=!0;const p=await e.expand(s,c),m=Object.keys(s).map(v=>qhe(u,v,{vocab:!0}));c.merged=!m.includes("@graph"),c.is11=G1(u,1.1);const g=Bhe(f,p,c);c.graph=!a.omitGraph,c.skipExpansion=!0,c.link={},c.framing=!0;let _=await e.compact(g,l,c);return c.link={},_=Uhe(_,c),_},e.link=async function(o,s,a){const l={};return s&&(l["@context"]=s),l["@embed"]="@link",e.frame(o,l,a)},e.normalize=e.canonize=async function(o,s){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(s=i(s,{base:xa(o)?o:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new dl({sharedCache:n})}),"inputFormat"in s){if(s.inputFormat!=="application/n-quads"&&s.inputFormat!=="application/nquads")throw new Aa("Unknown canonicalization input format.","jsonld.CanonizeError");const u=iy.parse(o);return HL.canonize(u,s)}const a={...s};delete a.format,a.produceGeneralizedRdf=!1;const l=await e.toRDF(o,a);return HL.canonize(l,s)},e.fromRDF=async function(o,s){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");s=i(s,{format:xa(o)?"application/n-quads":void 0});const{format:a}=s;let{rdfParser:l}=s;if(a){if(l=l||t[a],!l)throw new Aa("Unknown input format.","jsonld.UnknownFormat",{format:a})}else l=()=>o;const u=await l(o);return Lhe(u,s)},e.toRDF=async function(o,s){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");s=i(s,{base:xa(o)?o:"",skipExpansion:!1,contextResolver:new dl({sharedCache:n})});let a;s.skipExpansion?a=o:a=await e.expand(o,s);const l=Fhe(a,s);if(s.format){if(s.format==="application/n-quads"||s.format==="application/nquads")return iy.serialize(l);throw new Aa("Unknown output format.","jsonld.UnknownFormat",{format:s.format})}return l},e.createNodeMap=async function(o,s){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");s=i(s,{base:xa(o)?o:"",contextResolver:new dl({sharedCache:n})});const a=await e.expand(o,s);return Ghe(a,s)},e.merge=async function(o,s,a){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!wd(o))throw new TypeError('Could not merge, "docs" must be an array.');typeof s=="function"?s=null:s=s||null,a=i(a,{contextResolver:new dl({sharedCache:n})});const l=await Promise.all(o.map(v=>{const h={...a};return e.expand(v,h)}));let u=!0;"mergeNodes"in a&&(u=a.mergeNodes);const f=a.issuer||new W1("_:b"),c={"@default":{}};for(let v=0;v<l.length;++v){const h=Eu.relabelBlankNodes(l[v],{issuer:new W1("_:b"+v+"-")}),E=u||v===0?c:{"@default":{}};if(Whe(h,E,"@default",f),E!==c)for(const y in E){const S=E[y];if(!(y in c)){c[y]=S;continue}const $=c[y];for(const T in S)T in $||($[T]=S[T])}}const p=Khe(c),m=[],g=Object.keys(p).sort();for(let v=0;v<g.length;++v){const h=p[g[v]];zhe(h)||m.push(h)}return s===null?m:(a.graph=!0,a.skipExpansion=!0,await e.compact(m,s,a))},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:o=>e._documentLoader=o}),e.documentLoader=async o=>{throw new Aa("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:o})},e.get=async function(o,s){let a;typeof s.documentLoader=="function"?a=s.documentLoader:a=e.documentLoader;const l=await a(o);try{if(!l.document)throw new Aa("No remote document found at the given URL.","jsonld.NullRemoteDocument");xa(l.document)&&(l.document=JSON.parse(l.document))}catch(u){throw new Aa("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:u,remoteDoc:l})}return l},e.processContext=async function(o,s,a){return a=i(a,{base:"",contextResolver:new dl({sharedCache:n})}),s===null?oy(a):(s=Eu.clone(s),jc(s)&&"@context"in s||(s={"@context":s}),GL({activeCtx:o,localCtx:s,options:a}))},e.getContextValue=Kf.getContextValue,e.documentLoaders={},e.useDocumentLoader=function(o){if(!(o in e.documentLoaders))throw new Aa('Unknown document loader type: "'+o+'"',"jsonld.UnknownDocumentLoader",{type:o});e.documentLoader=e.documentLoaders[o].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(o,s){t[o]=s},e.unregisterRDFParser=function(o){delete t[o]},e.registerRDFParser("application/n-quads",iy.parse),e.registerRDFParser("application/nquads",iy.parse),e.url=mc,e.logEventHandler=Jhe,e.logWarningEventHandler=Yhe,e.safeEventHandler=Xhe,e.setDefaultEventHandler=Qhe,e.strictEventHandler=epe,e.unhandledEventHandler=tpe,e.util=Eu,Object.assign(e,Eu),e.promises=e,e.RequestQueue=oW(),e.JsonLdProcessor=Che()(e),WL.setupGlobals(e),WL.setupDocumentLoaders(e);function i(o,{documentLoader:s=e.documentLoader,...a}){if(o&&"compactionMap"in o)throw new Aa('"compactionMap" not supported.',"jsonld.OptionsError");if(o&&"expansionMap"in o)throw new Aa('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:s},a,o,{eventHandler:Zhe({options:o})})}return e},xW=function(){return AW(function(){return xW()})};AW(xW);var QO={exports:{}},OW={},aa={},Ih={},zg={},lr={},ng={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){if(super(),!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((y,S)=>`${y}${S}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((y,S)=>(S instanceof r&&(y[S.str]=(y[S.str]||0)+1),y),{})}}e._Code=n,e.nil=new n("");function i(h,...E){const y=[h[0]];let S=0;for(;S<E.length;)a(y,E[S]),y.push(h[++S]);return new n(y)}e._=i;const o=new n("+");function s(h,...E){const y=[m(h[0])];let S=0;for(;S<E.length;)y.push(o),a(y,E[S]),y.push(o,m(h[++S]));return l(y),new n(y)}e.str=s;function a(h,E){E instanceof n?h.push(...E._items):E instanceof r?h.push(E):h.push(c(E))}e.addCodeArg=a;function l(h){let E=1;for(;E<h.length-1;){if(h[E]===o){const y=u(h[E-1],h[E+1]);if(y!==void 0){h.splice(E-1,3,y);continue}h[E++]="+"}E++}}function u(h,E){if(E==='""')return h;if(h==='""')return E;if(typeof h=="string")return E instanceof r||h[h.length-1]!=='"'?void 0:typeof E!="string"?`${h.slice(0,-1)}${E}"`:E[0]==='"'?h.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(h instanceof r))return`"${h}${E.slice(1)}`}function f(h,E){return E.emptyStr()?h:h.emptyStr()?E:s`${h}${E}`}e.strConcat=f;function c(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:m(Array.isArray(h)?h.join(","):h)}function p(h){return new n(m(h))}e.stringify=p;function m(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):i`[${h}]`}e.getProperty=g;function _(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(h){return new n(h.toString())}e.regexpCode=v})(ng);var ZO={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=ng;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:f}={}){this._names={},this._prefixes=u,this._parent=f}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const f=this._names[u]||this._nameGroup(u);return`${u}${f.index++}`}_nameGroup(u){var f,c;if(!((c=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||c===void 0)&&c.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class o extends t.Name{constructor(u,f){super(f),this.prefix=u}setValue(u,{property:f,itemIndex:c}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(f)}[${c}]`}}e.ValueScopeName=o;const s=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?s:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,f){var c;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const p=this.toName(u),{prefix:m}=p,g=(c=f.key)!==null&&c!==void 0?c:f.ref;let _=this._values[m];if(_){const E=_.get(g);if(E)return E}else _=this._values[m]=new Map;_.set(g,p);const v=this._scope[m]||(this._scope[m]=[]),h=v.length;return v[h]=f.ref,p.setValue(f,{property:m,itemIndex:h}),p}getValue(u,f){const c=this._values[u];if(c)return c.get(f)}scopeRefs(u,f=this._values){return this._reduceValues(f,c=>{if(c.scopePath===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return(0,t._)`${u}${c.scopePath}`})}scopeCode(u=this._values,f,c){return this._reduceValues(u,p=>{if(p.value===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return p.value.code},f,c)}_reduceValues(u,f,c={},p){let m=t.nil;for(const g in u){const _=u[g];if(!_)continue;const v=c[g]=c[g]||new Map;_.forEach(h=>{if(v.has(h))return;v.set(h,n.Started);let E=f(h);if(E){const y=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${y} ${h} = ${E};${this.opts._n}`}else if(E=p==null?void 0:p(h))m=(0,t._)`${m}${E}${this.opts._n}`;else throw new r(h);v.set(h,n.Completed)})}return m}}e.ValueScope=a})(ZO);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=ng,r=ZO;var n=ng;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=ZO;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(I,q){return this}}class s extends o{constructor(I,q,ie){super(),this.varKind=I,this.name=q,this.rhs=ie}render({es5:I,_n:q}){const ie=I?r.varKinds.var:this.varKind,J=this.rhs===void 0?"":` = ${this.rhs}`;return`${ie} ${this.name}${J};`+q}optimizeNames(I,q){if(I[this.name.str])return this.rhs&&(this.rhs=Q(this.rhs,I,q)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends o{constructor(I,q,ie){super(),this.lhs=I,this.rhs=q,this.sideEffects=ie}render({_n:I}){return`${this.lhs} = ${this.rhs};`+I}optimizeNames(I,q){if(!(this.lhs instanceof t.Name&&!I[this.lhs.str]&&!this.sideEffects))return this.rhs=Q(this.rhs,I,q),this}get names(){const I=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(I,this.rhs)}}class l extends a{constructor(I,q,ie,J){super(I,ie,J),this.op=q}render({_n:I}){return`${this.lhs} ${this.op}= ${this.rhs};`+I}}class u extends o{constructor(I){super(),this.label=I,this.names={}}render({_n:I}){return`${this.label}:`+I}}class f extends o{constructor(I){super(),this.label=I,this.names={}}render({_n:I}){return`break${this.label?` ${this.label}`:""};`+I}}class c extends o{constructor(I){super(),this.error=I}render({_n:I}){return`throw ${this.error};`+I}get names(){return this.error.names}}class p extends o{constructor(I){super(),this.code=I}render({_n:I}){return`${this.code};`+I}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(I,q){return this.code=Q(this.code,I,q),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends o{constructor(I=[]){super(),this.nodes=I}render(I){return this.nodes.reduce((q,ie)=>q+ie.render(I),"")}optimizeNodes(){const{nodes:I}=this;let q=I.length;for(;q--;){const ie=I[q].optimizeNodes();Array.isArray(ie)?I.splice(q,1,...ie):ie?I[q]=ie:I.splice(q,1)}return I.length>0?this:void 0}optimizeNames(I,q){const{nodes:ie}=this;let J=ie.length;for(;J--;){const Y=ie[J];Y.optimizeNames(I,q)||(H(I,Y.names),ie.splice(J,1))}return ie.length>0?this:void 0}get names(){return this.nodes.reduce((I,q)=>F(I,q.names),{})}}class g extends m{render(I){return"{"+I._n+super.render(I)+"}"+I._n}}class _ extends m{}class v extends g{}v.kind="else";class h extends g{constructor(I,q){super(q),this.condition=I}render(I){let q=`if(${this.condition})`+super.render(I);return this.else&&(q+="else "+this.else.render(I)),q}optimizeNodes(){super.optimizeNodes();const I=this.condition;if(I===!0)return this.nodes;let q=this.else;if(q){const ie=q.optimizeNodes();q=this.else=Array.isArray(ie)?new v(ie):ie}if(q)return I===!1?q instanceof h?q:q.nodes:this.nodes.length?this:new h(X(I),q instanceof h?[q]:q.nodes);if(!(I===!1||!this.nodes.length))return this}optimizeNames(I,q){var ie;if(this.else=(ie=this.else)===null||ie===void 0?void 0:ie.optimizeNames(I,q),!!(super.optimizeNames(I,q)||this.else))return this.condition=Q(this.condition,I,q),this}get names(){const I=super.names;return V(I,this.condition),this.else&&F(I,this.else.names),I}}h.kind="if";class E extends g{}E.kind="for";class y extends E{constructor(I){super(),this.iteration=I}render(I){return`for(${this.iteration})`+super.render(I)}optimizeNames(I,q){if(super.optimizeNames(I,q))return this.iteration=Q(this.iteration,I,q),this}get names(){return F(super.names,this.iteration.names)}}class S extends E{constructor(I,q,ie,J){super(),this.varKind=I,this.name=q,this.from=ie,this.to=J}render(I){const q=I.es5?r.varKinds.var:this.varKind,{name:ie,from:J,to:Y}=this;return`for(${q} ${ie}=${J}; ${ie}<${Y}; ${ie}++)`+super.render(I)}get names(){const I=V(super.names,this.from);return V(I,this.to)}}class $ extends E{constructor(I,q,ie,J){super(),this.loop=I,this.varKind=q,this.name=ie,this.iterable=J}render(I){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(I)}optimizeNames(I,q){if(super.optimizeNames(I,q))return this.iterable=Q(this.iterable,I,q),this}get names(){return F(super.names,this.iterable.names)}}class T extends g{constructor(I,q,ie){super(),this.name=I,this.args=q,this.async=ie}render(I){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(I)}}T.kind="func";class d extends m{render(I){return"return "+super.render(I)}}d.kind="return";class A extends g{render(I){let q="try"+super.render(I);return this.catch&&(q+=this.catch.render(I)),this.finally&&(q+=this.finally.render(I)),q}optimizeNodes(){var I,q;return super.optimizeNodes(),(I=this.catch)===null||I===void 0||I.optimizeNodes(),(q=this.finally)===null||q===void 0||q.optimizeNodes(),this}optimizeNames(I,q){var ie,J;return super.optimizeNames(I,q),(ie=this.catch)===null||ie===void 0||ie.optimizeNames(I,q),(J=this.finally)===null||J===void 0||J.optimizeNames(I,q),this}get names(){const I=super.names;return this.catch&&F(I,this.catch.names),this.finally&&F(I,this.finally.names),I}}class x extends g{constructor(I){super(),this.error=I}render(I){return`catch(${this.error})`+super.render(I)}}x.kind="catch";class O extends g{render(I){return"finally"+super.render(I)}}O.kind="finally";class D{constructor(I,q={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...q,_n:q.lines?`
`:""},this._extScope=I,this._scope=new r.Scope({parent:I}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(I){return this._scope.name(I)}scopeName(I){return this._extScope.name(I)}scopeValue(I,q){const ie=this._extScope.value(I,q);return(this._values[ie.prefix]||(this._values[ie.prefix]=new Set)).add(ie),ie}getScopeValue(I,q){return this._extScope.getValue(I,q)}scopeRefs(I){return this._extScope.scopeRefs(I,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(I,q,ie,J){const Y=this._scope.toName(q);return ie!==void 0&&J&&(this._constants[Y.str]=ie),this._leafNode(new s(I,Y,ie)),Y}const(I,q,ie){return this._def(r.varKinds.const,I,q,ie)}let(I,q,ie){return this._def(r.varKinds.let,I,q,ie)}var(I,q,ie){return this._def(r.varKinds.var,I,q,ie)}assign(I,q,ie){return this._leafNode(new a(I,q,ie))}add(I,q){return this._leafNode(new l(I,e.operators.ADD,q))}code(I){return typeof I=="function"?I():I!==t.nil&&this._leafNode(new p(I)),this}object(...I){const q=["{"];for(const[ie,J]of I)q.length>1&&q.push(","),q.push(ie),(ie!==J||this.opts.es5)&&(q.push(":"),(0,t.addCodeArg)(q,J));return q.push("}"),new t._Code(q)}if(I,q,ie){if(this._blockNode(new h(I)),q&&ie)this.code(q).else().code(ie).endIf();else if(q)this.code(q).endIf();else if(ie)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(I){return this._elseNode(new h(I))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(h,v)}_for(I,q){return this._blockNode(I),q&&this.code(q).endFor(),this}for(I,q){return this._for(new y(I),q)}forRange(I,q,ie,J,Y=this.opts.es5?r.varKinds.var:r.varKinds.let){const se=this._scope.toName(I);return this._for(new S(Y,se,q,ie),()=>J(se))}forOf(I,q,ie,J=r.varKinds.const){const Y=this._scope.toName(I);if(this.opts.es5){const se=q instanceof t.Name?q:this.var("_arr",q);return this.forRange("_i",0,(0,t._)`${se}.length`,be=>{this.var(Y,(0,t._)`${se}[${be}]`),ie(Y)})}return this._for(new $("of",J,Y,q),()=>ie(Y))}forIn(I,q,ie,J=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(I,(0,t._)`Object.keys(${q})`,ie);const Y=this._scope.toName(I);return this._for(new $("in",J,Y,q),()=>ie(Y))}endFor(){return this._endBlockNode(E)}label(I){return this._leafNode(new u(I))}break(I){return this._leafNode(new f(I))}return(I){const q=new d;if(this._blockNode(q),this.code(I),q.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(I,q,ie){if(!q&&!ie)throw new Error('CodeGen: "try" without "catch" and "finally"');const J=new A;if(this._blockNode(J),this.code(I),q){const Y=this.name("e");this._currNode=J.catch=new x(Y),q(Y)}return ie&&(this._currNode=J.finally=new O,this.code(ie)),this._endBlockNode(x,O)}throw(I){return this._leafNode(new c(I))}block(I,q){return this._blockStarts.push(this._nodes.length),I&&this.code(I).endBlock(q),this}endBlock(I){const q=this._blockStarts.pop();if(q===void 0)throw new Error("CodeGen: not in self-balancing block");const ie=this._nodes.length-q;if(ie<0||I!==void 0&&ie!==I)throw new Error(`CodeGen: wrong number of nodes: ${ie} vs ${I} expected`);return this._nodes.length=q,this}func(I,q=t.nil,ie,J){return this._blockNode(new T(I,q,ie)),J&&this.code(J).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(I=1){for(;I-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(I){return this._currNode.nodes.push(I),this}_blockNode(I){this._currNode.nodes.push(I),this._nodes.push(I)}_endBlockNode(I,q){const ie=this._currNode;if(ie instanceof I||q&&ie instanceof q)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${q?`${I.kind}/${q.kind}`:I.kind}"`)}_elseNode(I){const q=this._currNode;if(!(q instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=q.else=I,this}get _root(){return this._nodes[0]}get _currNode(){const I=this._nodes;return I[I.length-1]}set _currNode(I){const q=this._nodes;q[q.length-1]=I}}e.CodeGen=D;function F(P,I){for(const q in I)P[q]=(P[q]||0)+(I[q]||0);return P}function V(P,I){return I instanceof t._CodeOrName?F(P,I.names):P}function Q(P,I,q){if(P instanceof t.Name)return ie(P);if(!J(P))return P;return new t._Code(P._items.reduce((Y,se)=>(se instanceof t.Name&&(se=ie(se)),se instanceof t._Code?Y.push(...se._items):Y.push(se),Y),[]));function ie(Y){const se=q[Y.str];return se===void 0||I[Y.str]!==1?Y:(delete I[Y.str],se)}function J(Y){return Y instanceof t._Code&&Y._items.some(se=>se instanceof t.Name&&I[se.str]===1&&q[se.str]!==void 0)}}function H(P,I){for(const q in I)P[q]=(P[q]||0)-(I[q]||0)}function X(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${K(P)}`}e.not=X;const fe=B(e.operators.AND);function Z(...P){return P.reduce(fe)}e.and=Z;const ne=B(e.operators.OR);function C(...P){return P.reduce(ne)}e.or=C;function B(P){return(I,q)=>I===t.nil?q:q===t.nil?I:(0,t._)`${K(I)} ${P} ${K(q)}`}function K(P){return P instanceof t.Name?P:(0,t._)`(${P})`}})(lr);var kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.checkStrictMode=kt.getErrorPath=kt.Type=kt.useFunc=kt.setEvaluated=kt.evaluatedPropsToName=kt.mergeEvaluated=kt.eachItem=kt.unescapeJsonPointer=kt.escapeJsonPointer=kt.escapeFragment=kt.unescapeFragment=kt.schemaRefOrVal=kt.schemaHasRulesButRef=kt.schemaHasRules=kt.checkUnknownRules=kt.alwaysValidSchema=kt.toHash=void 0;const an=lr,rpe=ng;function npe(e){const t={};for(const r of e)t[r]=!0;return t}kt.toHash=npe;function ipe(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(PW(e,t),!RW(t,e.self.RULES.all))}kt.alwaysValidSchema=ipe;function PW(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const i=n.RULES.keywords;for(const o in t)i[o]||kW(e,`unknown keyword: "${o}"`)}kt.checkUnknownRules=PW;function RW(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}kt.schemaHasRules=RW;function ope(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}kt.schemaHasRulesButRef=ope;function spe({topSchemaRef:e,schemaPath:t},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,an._)`${r}`}return(0,an._)`${e}${t}${(0,an.getProperty)(n)}`}kt.schemaRefOrVal=spe;function ape(e){return NW(decodeURIComponent(e))}kt.unescapeFragment=ape;function lpe(e){return encodeURIComponent(HI(e))}kt.escapeFragment=lpe;function HI(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}kt.escapeJsonPointer=HI;function NW(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}kt.unescapeJsonPointer=NW;function upe(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}kt.eachItem=upe;function KL({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(i,o,s,a)=>{const l=s===void 0?o:s instanceof an.Name?(o instanceof an.Name?e(i,o,s):t(i,o,s),s):o instanceof an.Name?(t(i,s,o),o):r(o,s);return a===an.Name&&!(l instanceof an.Name)?n(i,l):l}}kt.mergeEvaluated={props:KL({mergeNames:(e,t,r)=>e.if((0,an._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,an._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,an._)`${r} || {}`).code((0,an._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,an._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,an._)`${r} || {}`),WI(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:IW}),items:KL({mergeNames:(e,t,r)=>e.if((0,an._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,an._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,an._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,an._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function IW(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,an._)`{}`);return t!==void 0&&WI(e,r,t),r}kt.evaluatedPropsToName=IW;function WI(e,t,r){Object.keys(r).forEach(n=>e.assign((0,an._)`${t}${(0,an.getProperty)(n)}`,!0))}kt.setEvaluated=WI;const JL={};function cpe(e,t){return e.scopeValue("func",{ref:t,code:JL[t.code]||(JL[t.code]=new rpe._Code(t.code))})}kt.useFunc=cpe;var eP;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(eP||(kt.Type=eP={}));function fpe(e,t,r){if(e instanceof an.Name){const n=t===eP.Num;return r?n?(0,an._)`"[" + ${e} + "]"`:(0,an._)`"['" + ${e} + "']"`:n?(0,an._)`"/" + ${e}`:(0,an._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,an.getProperty)(e).toString():"/"+HI(e)}kt.getErrorPath=fpe;function kW(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}kt.checkStrictMode=kW;var il={};Object.defineProperty(il,"__esModule",{value:!0});const Ci=lr,dpe={data:new Ci.Name("data"),valCxt:new Ci.Name("valCxt"),instancePath:new Ci.Name("instancePath"),parentData:new Ci.Name("parentData"),parentDataProperty:new Ci.Name("parentDataProperty"),rootData:new Ci.Name("rootData"),dynamicAnchors:new Ci.Name("dynamicAnchors"),vErrors:new Ci.Name("vErrors"),errors:new Ci.Name("errors"),this:new Ci.Name("this"),self:new Ci.Name("self"),scope:new Ci.Name("scope"),json:new Ci.Name("json"),jsonPos:new Ci.Name("jsonPos"),jsonLen:new Ci.Name("jsonLen"),jsonPart:new Ci.Name("jsonPart")};il.default=dpe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=lr,r=kt,n=il;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:h})=>h?(0,t.str)`"${v}" keyword must be ${h} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,h=e.keywordError,E,y){const{it:S}=v,{gen:$,compositeRule:T,allErrors:d}=S,A=c(v,h,E);y??(T||d)?l($,A):u(S,(0,t._)`[${A}]`)}e.reportError=i;function o(v,h=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:$,allErrors:T}=y,d=c(v,h,E);l(S,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function s(v,h){v.assign(n.default.errors,h),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(h,()=>v.assign((0,t._)`${n.default.vErrors}.length`,h),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:h,schemaValue:E,data:y,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${h}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,E),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=a;function l(v,h){const E=v.const("err",h);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,h){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${h})`):(E.assign((0,t._)`${y}.errors`,h),E.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,h,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:p(v,h,E)}function p(v,h,E={}){const{gen:y,it:S}=v,$=[m(S,E),g(v,E)];return _(v,h,$),y.object(...$)}function m({errorPath:v},{instancePath:h}){const E=h?(0,t.str)`${v}${(0,r.getErrorPath)(h,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:h}},{schemaPath:E,parentSchema:y}){let S=y?h:(0,t.str)`${h}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:h,message:E},y){const{keyword:S,data:$,schemaValue:T,it:d}=v,{opts:A,propertyName:x,topSchemaRef:O,schemaPath:D}=d;y.push([f.keyword,S],[f.params,typeof h=="function"?h(v):h||(0,t._)`{}`]),A.messages&&y.push([f.message,typeof E=="function"?E(v):E]),A.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${O}${D}`],[n.default.data,$]),x&&y.push([f.propertyName,x])}})(zg);Object.defineProperty(Ih,"__esModule",{value:!0});Ih.boolOrEmptySchema=Ih.topBoolOrEmptySchema=void 0;const hpe=zg,ppe=lr,mpe=il,gpe={message:"boolean schema is false"};function vpe(e){const{gen:t,schema:r,validateName:n}=e;r===!1?CW(e,!1):typeof r=="object"&&r.$async===!0?t.return(mpe.default.data):(t.assign((0,ppe._)`${n}.errors`,null),t.return(!0))}Ih.topBoolOrEmptySchema=vpe;function ype(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),CW(e)):r.var(t,!0)}Ih.boolOrEmptySchema=ype;function CW(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,hpe.reportError)(i,gpe,void 0,t)}var ni={},Cf={};Object.defineProperty(Cf,"__esModule",{value:!0});Cf.getRules=Cf.isJSONType=void 0;const wpe=["string","number","integer","boolean","null","object","array"],bpe=new Set(wpe);function _pe(e){return typeof e=="string"&&bpe.has(e)}Cf.isJSONType=_pe;function Epe(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Cf.getRules=Epe;var Il={};Object.defineProperty(Il,"__esModule",{value:!0});Il.shouldUseRule=Il.shouldUseGroup=Il.schemaHasRulesForType=void 0;function Spe({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&jW(e,n)}Il.schemaHasRulesForType=Spe;function jW(e,t){return t.rules.some(r=>DW(e,r))}Il.shouldUseGroup=jW;function DW(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Il.shouldUseRule=DW;Object.defineProperty(ni,"__esModule",{value:!0});ni.reportTypeError=ni.checkDataTypes=ni.checkDataType=ni.coerceAndCheckDataType=ni.getJSONTypes=ni.getSchemaTypes=ni.DataType=void 0;const $pe=Cf,Tpe=Il,Ape=zg,sr=lr,MW=kt;var hh;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(hh||(ni.DataType=hh={}));function xpe(e){const t=LW(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}ni.getSchemaTypes=xpe;function LW(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every($pe.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}ni.getJSONTypes=LW;function Ope(e,t){const{gen:r,data:n,opts:i}=e,o=Ppe(t,i.coerceTypes),s=t.length>0&&!(o.length===0&&t.length===1&&(0,Tpe.schemaHasRulesForType)(e,t[0]));if(s){const a=GI(t,n,i.strictNumbers,hh.Wrong);r.if(a,()=>{o.length?Rpe(e,t,o):KI(e)})}return s}ni.coerceAndCheckDataType=Ope;const FW=new Set(["string","number","integer","boolean","null"]);function Ppe(e,t){return t?e.filter(r=>FW.has(r)||t==="array"&&r==="array"):[]}function Rpe(e,t,r){const{gen:n,data:i,opts:o}=e,s=n.let("dataType",(0,sr._)`typeof ${i}`),a=n.let("coerced",(0,sr._)`undefined`);o.coerceTypes==="array"&&n.if((0,sr._)`${s} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,sr._)`${i}[0]`).assign(s,(0,sr._)`typeof ${i}`).if(GI(t,i,o.strictNumbers),()=>n.assign(a,i))),n.if((0,sr._)`${a} !== undefined`);for(const u of r)(FW.has(u)||u==="array"&&o.coerceTypes==="array")&&l(u);n.else(),KI(e),n.endIf(),n.if((0,sr._)`${a} !== undefined`,()=>{n.assign(i,a),Npe(e,a)});function l(u){switch(u){case"string":n.elseIf((0,sr._)`${s} == "number" || ${s} == "boolean"`).assign(a,(0,sr._)`"" + ${i}`).elseIf((0,sr._)`${i} === null`).assign(a,(0,sr._)`""`);return;case"number":n.elseIf((0,sr._)`${s} == "boolean" || ${i} === null
              || (${s} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,sr._)`+${i}`);return;case"integer":n.elseIf((0,sr._)`${s} === "boolean" || ${i} === null
              || (${s} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,sr._)`+${i}`);return;case"boolean":n.elseIf((0,sr._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,sr._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":n.elseIf((0,sr._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(a,null);return;case"array":n.elseIf((0,sr._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${i} === null`).assign(a,(0,sr._)`[${i}]`)}}}function Npe({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,sr._)`${t} !== undefined`,()=>e.assign((0,sr._)`${t}[${r}]`,n))}function tP(e,t,r,n=hh.Correct){const i=n===hh.Correct?sr.operators.EQ:sr.operators.NEQ;let o;switch(e){case"null":return(0,sr._)`${t} ${i} null`;case"array":o=(0,sr._)`Array.isArray(${t})`;break;case"object":o=(0,sr._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=s((0,sr._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=s();break;default:return(0,sr._)`typeof ${t} ${i} ${e}`}return n===hh.Correct?o:(0,sr.not)(o);function s(a=sr.nil){return(0,sr.and)((0,sr._)`typeof ${t} == "number"`,a,r?(0,sr._)`isFinite(${t})`:sr.nil)}}ni.checkDataType=tP;function GI(e,t,r,n){if(e.length===1)return tP(e[0],t,r,n);let i;const o=(0,MW.toHash)(e);if(o.array&&o.object){const s=(0,sr._)`typeof ${t} != "object"`;i=o.null?s:(0,sr._)`!${t} || ${s}`,delete o.null,delete o.array,delete o.object}else i=sr.nil;o.number&&delete o.integer;for(const s in o)i=(0,sr.and)(i,tP(s,t,r,n));return i}ni.checkDataTypes=GI;const Ipe={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,sr._)`{type: ${e}}`:(0,sr._)`{type: ${t}}`};function KI(e){const t=kpe(e);(0,Ape.reportError)(t,Ipe)}ni.reportTypeError=KI;function kpe(e){const{gen:t,data:r,schema:n}=e,i=(0,MW.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}var zE={};Object.defineProperty(zE,"__esModule",{value:!0});zE.assignDefaults=void 0;const bd=lr,Cpe=kt;function jpe(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)YL(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,o)=>YL(e,o,i.default))}zE.assignDefaults=jpe;function YL(e,t,r){const{gen:n,compositeRule:i,data:o,opts:s}=e;if(r===void 0)return;const a=(0,bd._)`${o}${(0,bd.getProperty)(t)}`;if(i){(0,Cpe.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,bd._)`${a} === undefined`;s.useDefaults==="empty"&&(l=(0,bd._)`${l} || ${a} === null || ${a} === ""`),n.if(l,(0,bd._)`${a} = ${(0,bd.stringify)(r)}`)}var qa={},wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.validateUnion=wr.validateArray=wr.usePattern=wr.callValidateCode=wr.schemaProperties=wr.allSchemaProperties=wr.noPropertyInData=wr.propertyInData=wr.isOwnProperty=wr.hasPropFunc=wr.reportMissingProp=wr.checkMissingProp=wr.checkReportMissingProp=void 0;const yn=lr,JI=kt,du=il,Dpe=kt;function Mpe(e,t){const{gen:r,data:n,it:i}=e;r.if(XI(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,yn._)`${t}`},!0),e.error()})}wr.checkReportMissingProp=Mpe;function Lpe({gen:e,data:t,it:{opts:r}},n,i){return(0,yn.or)(...n.map(o=>(0,yn.and)(XI(e,t,o,r.ownProperties),(0,yn._)`${i} = ${o}`)))}wr.checkMissingProp=Lpe;function Fpe(e,t){e.setParams({missingProperty:t},!0),e.error()}wr.reportMissingProp=Fpe;function BW(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,yn._)`Object.prototype.hasOwnProperty`})}wr.hasPropFunc=BW;function YI(e,t,r){return(0,yn._)`${BW(e)}.call(${t}, ${r})`}wr.isOwnProperty=YI;function Bpe(e,t,r,n){const i=(0,yn._)`${t}${(0,yn.getProperty)(r)} !== undefined`;return n?(0,yn._)`${i} && ${YI(e,t,r)}`:i}wr.propertyInData=Bpe;function XI(e,t,r,n){const i=(0,yn._)`${t}${(0,yn.getProperty)(r)} === undefined`;return n?(0,yn.or)(i,(0,yn.not)(YI(e,t,r))):i}wr.noPropertyInData=XI;function UW(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}wr.allSchemaProperties=UW;function Upe(e,t){return UW(t).filter(r=>!(0,JI.alwaysValidSchema)(e,t[r]))}wr.schemaProperties=Upe;function zpe({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:o},it:s},a,l,u){const f=u?(0,yn._)`${e}, ${t}, ${n}${i}`:t,c=[[du.default.instancePath,(0,yn.strConcat)(du.default.instancePath,o)],[du.default.parentData,s.parentData],[du.default.parentDataProperty,s.parentDataProperty],[du.default.rootData,du.default.rootData]];s.opts.dynamicRef&&c.push([du.default.dynamicAnchors,du.default.dynamicAnchors]);const p=(0,yn._)`${f}, ${r.object(...c)}`;return l!==yn.nil?(0,yn._)`${a}.call(${l}, ${p})`:(0,yn._)`${a}(${p})`}wr.callValidateCode=zpe;const qpe=(0,yn._)`new RegExp`;function Vpe({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,o=i(r,n);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,yn._)`${i.code==="new RegExp"?qpe:(0,Dpe.useFunc)(e,i)}(${r}, ${n})`})}wr.usePattern=Vpe;function Hpe(e){const{gen:t,data:r,keyword:n,it:i}=e,o=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return s(()=>t.assign(a,!1)),a}return t.var(o,!0),s(()=>t.break()),o;function s(a){const l=t.const("len",(0,yn._)`${r}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:JI.Type.Num},o),t.if((0,yn.not)(o),a)})}}wr.validateArray=Hpe;function Wpe(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,JI.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const s=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((l,u)=>{const f=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},a);t.assign(s,(0,yn._)`${s} || ${a}`),e.mergeValidEvaluated(f,a)||t.if((0,yn.not)(s))})),e.result(s,()=>e.reset(),()=>e.error(!0))}wr.validateUnion=Wpe;Object.defineProperty(qa,"__esModule",{value:!0});qa.validateKeywordUsage=qa.validSchemaType=qa.funcKeywordCode=qa.macroKeywordCode=void 0;const Qi=lr,Yc=il,Gpe=wr,Kpe=zg;function Jpe(e,t){const{gen:r,keyword:n,schema:i,parentSchema:o,it:s}=e,a=t.macro.call(s.self,i,o,s),l=zW(r,n,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);const u=r.name("valid");e.subschema({schema:a,schemaPath:Qi.nil,errSchemaPath:`${s.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}qa.macroKeywordCode=Jpe;function Ype(e,t){var r;const{gen:n,keyword:i,schema:o,parentSchema:s,$data:a,it:l}=e;Qpe(l,t);const u=!a&&t.compile?t.compile.call(l.self,o,s,l):t.validate,f=zW(n,i,u),c=n.let("valid");e.block$data(c,p),e.ok((r=t.valid)!==null&&r!==void 0?r:c);function p(){if(t.errors===!1)_(),t.modifying&&XL(e),v(()=>e.error());else{const h=t.async?m():g();t.modifying&&XL(e),v(()=>Xpe(e,h))}}function m(){const h=n.let("ruleErrs",null);return n.try(()=>_((0,Qi._)`await `),E=>n.assign(c,!1).if((0,Qi._)`${E} instanceof ${l.ValidationError}`,()=>n.assign(h,(0,Qi._)`${E}.errors`),()=>n.throw(E))),h}function g(){const h=(0,Qi._)`${f}.errors`;return n.assign(h,null),_(Qi.nil),h}function _(h=t.async?(0,Qi._)`await `:Qi.nil){const E=l.opts.passContext?Yc.default.this:Yc.default.self,y=!("compile"in t&&!a||t.schema===!1);n.assign(c,(0,Qi._)`${h}${(0,Gpe.callValidateCode)(e,f,E,y)}`,t.modifying)}function v(h){var E;n.if((0,Qi.not)((E=t.valid)!==null&&E!==void 0?E:c),h)}}qa.funcKeywordCode=Ype;function XL(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Qi._)`${n.parentData}[${n.parentDataProperty}]`))}function Xpe(e,t){const{gen:r}=e;r.if((0,Qi._)`Array.isArray(${t})`,()=>{r.assign(Yc.default.vErrors,(0,Qi._)`${Yc.default.vErrors} === null ? ${t} : ${Yc.default.vErrors}.concat(${t})`).assign(Yc.default.errors,(0,Qi._)`${Yc.default.vErrors}.length`),(0,Kpe.extendErrors)(e)},()=>e.error())}function Qpe({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function zW(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Qi.stringify)(r)})}function Zpe(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}qa.validSchemaType=Zpe;function eme({schema:e,opts:t,self:r,errSchemaPath:n},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const s=i.dependencies;if(s!=null&&s.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[o])){const l=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}qa.validateKeywordUsage=eme;var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.extendSubschemaMode=Gu.extendSubschemaData=Gu.getSubschema=void 0;const Fa=lr,qW=kt;function tme(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:o,topSchemaRef:s}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Fa._)`${e.schemaPath}${(0,Fa.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Fa._)`${e.schemaPath}${(0,Fa.getProperty)(t)}${(0,Fa.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,qW.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||o===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:s,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Gu.getSubschema=tme;function rme(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:o,propertyName:s}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(r!==void 0){const{errorPath:u,dataPathArr:f,opts:c}=t,p=a.let("data",(0,Fa._)`${t.data}${(0,Fa.getProperty)(r)}`,!0);l(p),e.errorPath=(0,Fa.str)`${u}${(0,qW.getErrorPath)(r,n,c.jsPropertySyntax)}`,e.parentDataProperty=(0,Fa._)`${r}`,e.dataPathArr=[...f,e.parentDataProperty]}if(i!==void 0){const u=i instanceof Fa.Name?i:a.let("data",i,!0);l(u),s!==void 0&&(e.propertyName=s)}o&&(e.dataTypes=o);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}Gu.extendSubschemaData=rme;function nme(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:o}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),o!==void 0&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}Gu.extendSubschemaMode=nme;var $i={},VW=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r},HW={exports:{}},ju=HW.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};Ww(t,n,i,e,"",e)};ju.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};ju.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ju.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ju.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ww(e,t,r,n,i,o,s,a,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,o,s,a,l,u);for(var f in n){var c=n[f];if(Array.isArray(c)){if(f in ju.arrayKeywords)for(var p=0;p<c.length;p++)Ww(e,t,r,c[p],i+"/"+f+"/"+p,o,i,f,n,p)}else if(f in ju.propsKeywords){if(c&&typeof c=="object")for(var m in c)Ww(e,t,r,c[m],i+"/"+f+"/"+ime(m),o,i,f,n,m)}else(f in ju.keywords||e.allKeys&&!(f in ju.skipKeywords))&&Ww(e,t,r,c,i+"/"+f,o,i,f,n)}r(n,i,o,s,a,l,u)}}function ime(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var ome=HW.exports;Object.defineProperty($i,"__esModule",{value:!0});$i.getSchemaRefs=$i.resolveUrl=$i.normalizeId=$i._getFullPath=$i.getFullPath=$i.inlineRef=void 0;const sme=kt,ame=VW,lme=ome,ume=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function cme(e,t=!0){return typeof e=="boolean"?!0:t===!0?!rP(e):t?WW(e)<=t:!1}$i.inlineRef=cme;const fme=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function rP(e){for(const t in e){if(fme.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(rP)||typeof r=="object"&&rP(r))return!0}return!1}function WW(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!ume.has(r)&&(typeof e[r]=="object"&&(0,sme.eachItem)(e[r],n=>t+=WW(n)),t===1/0))return 1/0}return t}function GW(e,t="",r){r!==!1&&(t=ph(t));const n=e.parse(t);return KW(e,n)}$i.getFullPath=GW;function KW(e,t){return e.serialize(t).split("#")[0]+"#"}$i._getFullPath=KW;const dme=/#\/?$/;function ph(e){return e?e.replace(dme,""):""}$i.normalizeId=ph;function hme(e,t,r){return r=ph(r),e.resolve(t,r)}$i.resolveUrl=hme;const pme=/^[a-z_][-a-z0-9._]*$/i;function mme(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=ph(e[r]||t),o={"":i},s=GW(n,i,!1),a={},l=new Set;return lme(e,{allKeys:!0},(c,p,m,g)=>{if(g===void 0)return;const _=s+p;let v=o[g];typeof c[r]=="string"&&(v=h.call(this,c[r])),E.call(this,c.$anchor),E.call(this,c.$dynamicAnchor),o[p]=v;function h(y){const S=this.opts.uriResolver.resolve;if(y=ph(v?S(v,y):y),l.has(y))throw f(y);l.add(y);let $=this.refs[y];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?u(c,$.schema,y):y!==ph(_)&&(y[0]==="#"?(u(c,a[y],y),a[y]=c):this.refs[y]=_),y}function E(y){if(typeof y=="string"){if(!pme.test(y))throw new Error(`invalid anchor "${y}"`);h.call(this,`#${y}`)}}}),a;function u(c,p,m){if(p!==void 0&&!ame(c,p))throw f(m)}function f(c){return new Error(`reference "${c}" resolves to more than one schema`)}}$i.getSchemaRefs=mme;Object.defineProperty(aa,"__esModule",{value:!0});aa.getData=aa.KeywordCxt=aa.validateFunctionCode=void 0;const JW=Ih,QL=ni,QI=Il,p_=ni,gme=zE,wm=qa,K1=Gu,Wt=lr,Zt=il,vme=$i,kl=kt,Sp=zg;function yme(e){if(QW(e)&&(ZW(e),XW(e))){_me(e);return}YW(e,()=>(0,JW.topBoolOrEmptySchema)(e))}aa.validateFunctionCode=yme;function YW({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},o){i.code.es5?e.func(t,(0,Wt._)`${Zt.default.data}, ${Zt.default.valCxt}`,n.$async,()=>{e.code((0,Wt._)`"use strict"; ${ZL(r,i)}`),bme(e,i),e.code(o)}):e.func(t,(0,Wt._)`${Zt.default.data}, ${wme(i)}`,n.$async,()=>e.code(ZL(r,i)).code(o))}function wme(e){return(0,Wt._)`{${Zt.default.instancePath}="", ${Zt.default.parentData}, ${Zt.default.parentDataProperty}, ${Zt.default.rootData}=${Zt.default.data}${e.dynamicRef?(0,Wt._)`, ${Zt.default.dynamicAnchors}={}`:Wt.nil}}={}`}function bme(e,t){e.if(Zt.default.valCxt,()=>{e.var(Zt.default.instancePath,(0,Wt._)`${Zt.default.valCxt}.${Zt.default.instancePath}`),e.var(Zt.default.parentData,(0,Wt._)`${Zt.default.valCxt}.${Zt.default.parentData}`),e.var(Zt.default.parentDataProperty,(0,Wt._)`${Zt.default.valCxt}.${Zt.default.parentDataProperty}`),e.var(Zt.default.rootData,(0,Wt._)`${Zt.default.valCxt}.${Zt.default.rootData}`),t.dynamicRef&&e.var(Zt.default.dynamicAnchors,(0,Wt._)`${Zt.default.valCxt}.${Zt.default.dynamicAnchors}`)},()=>{e.var(Zt.default.instancePath,(0,Wt._)`""`),e.var(Zt.default.parentData,(0,Wt._)`undefined`),e.var(Zt.default.parentDataProperty,(0,Wt._)`undefined`),e.var(Zt.default.rootData,Zt.default.data),t.dynamicRef&&e.var(Zt.default.dynamicAnchors,(0,Wt._)`{}`)})}function _me(e){const{schema:t,opts:r,gen:n}=e;YW(e,()=>{r.$comment&&t.$comment&&tG(e),Ame(e),n.let(Zt.default.vErrors,null),n.let(Zt.default.errors,0),r.unevaluated&&Eme(e),eG(e),Pme(e)})}function Eme(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Wt._)`${r}.evaluated`),t.if((0,Wt._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Wt._)`${e.evaluated}.props`,(0,Wt._)`undefined`)),t.if((0,Wt._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Wt._)`${e.evaluated}.items`,(0,Wt._)`undefined`))}function ZL(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Wt._)`/*# sourceURL=${r} */`:Wt.nil}function Sme(e,t){if(QW(e)&&(ZW(e),XW(e))){$me(e,t);return}(0,JW.boolOrEmptySchema)(e,t)}function XW({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function QW(e){return typeof e.schema!="boolean"}function $me(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&tG(e),xme(e),Ome(e);const o=n.const("_errs",Zt.default.errors);eG(e,o),n.var(t,(0,Wt._)`${o} === ${Zt.default.errors}`)}function ZW(e){(0,kl.checkUnknownRules)(e),Tme(e)}function eG(e,t){if(e.opts.jtd)return eF(e,[],!1,t);const r=(0,QL.getSchemaTypes)(e.schema),n=(0,QL.coerceAndCheckDataType)(e,r);eF(e,r,!n,t)}function Tme(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,kl.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Ame(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,kl.checkStrictMode)(e,"default is ignored in the schema root")}function xme(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,vme.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Ome(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function tG({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const o=r.$comment;if(i.$comment===!0)e.code((0,Wt._)`${Zt.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){const s=(0,Wt.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,Wt._)`${Zt.default.self}.opts.$comment(${o}, ${s}, ${a}.schema)`)}}function Pme(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:o}=e;r.$async?t.if((0,Wt._)`${Zt.default.errors} === 0`,()=>t.return(Zt.default.data),()=>t.throw((0,Wt._)`new ${i}(${Zt.default.vErrors})`)):(t.assign((0,Wt._)`${n}.errors`,Zt.default.vErrors),o.unevaluated&&Rme(e),t.return((0,Wt._)`${Zt.default.errors} === 0`))}function Rme({gen:e,evaluated:t,props:r,items:n}){r instanceof Wt.Name&&e.assign((0,Wt._)`${t}.props`,r),n instanceof Wt.Name&&e.assign((0,Wt._)`${t}.items`,n)}function eF(e,t,r,n){const{gen:i,schema:o,data:s,allErrors:a,opts:l,self:u}=e,{RULES:f}=u;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,kl.schemaHasRulesButRef)(o,f))){i.block(()=>iG(e,"$ref",f.all.$ref.definition));return}l.jtd||Nme(e,t),i.block(()=>{for(const p of f.rules)c(p);c(f.post)});function c(p){(0,QI.shouldUseGroup)(o,p)&&(p.type?(i.if((0,p_.checkDataType)(p.type,s,l.strictNumbers)),tF(e,p),t.length===1&&t[0]===p.type&&r&&(i.else(),(0,p_.reportTypeError)(e)),i.endIf()):tF(e,p),a||i.if((0,Wt._)`${Zt.default.errors} === ${n||0}`))}}function tF(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,gme.assignDefaults)(e,t.type),r.block(()=>{for(const o of t.rules)(0,QI.shouldUseRule)(n,o)&&iG(e,o.keyword,o.definition,t.type)})}function Nme(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Ime(e,t),e.opts.allowUnionTypes||kme(e,t),Cme(e,e.dataTypes))}function Ime(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{rG(e.dataTypes,r)||ZI(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Dme(e,t)}}function kme(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&ZI(e,"use allowUnionTypes to allow union type keyword")}function Cme(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,QI.shouldUseRule)(e.schema,i)){const{type:o}=i.definition;o.length&&!o.some(s=>jme(t,s))&&ZI(e,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function jme(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function rG(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Dme(e,t){const r=[];for(const n of e.dataTypes)rG(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function ZI(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,kl.checkStrictMode)(e,t,e.opts.strictTypes)}class nG{constructor(t,r,n){if((0,wm.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,kl.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",oG(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,wm.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Zt.default.errors))}result(t,r,n){this.failResult((0,Wt.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Wt.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,Wt._)`${r} !== undefined && (${(0,Wt.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Sp.reportExtraError:Sp.reportError)(this,this.def.error,r)}$dataError(){(0,Sp.reportError)(this,this.def.$dataError||Sp.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Sp.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Wt.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Wt.nil,r=Wt.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:o,def:s}=this;n.if((0,Wt.or)((0,Wt._)`${i} === undefined`,r)),t!==Wt.nil&&n.assign(t,!0),(o.length||s.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Wt.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:o}=this;return(0,Wt.or)(s(),a());function s(){if(n.length){if(!(r instanceof Wt.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,Wt._)`${(0,p_.checkDataTypes)(l,r,o.opts.strictNumbers,p_.DataType.Wrong)}`}return Wt.nil}function a(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,Wt._)`!${l}(${r})`}return Wt.nil}}subschema(t,r){const n=(0,K1.getSubschema)(this.it,t);(0,K1.extendSubschemaData)(n,this.it,t),(0,K1.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return Sme(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=kl.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=kl.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,Wt.Name)),!0}}aa.KeywordCxt=nG;function iG(e,t,r,n){const i=new nG(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,wm.funcKeywordCode)(i,r):"macro"in r?(0,wm.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,wm.funcKeywordCode)(i,r)}const Mme=/^\/(?:[^~]|~0|~1)*$/,Lme=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function oG(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,o;if(e==="")return Zt.default.rootData;if(e[0]==="/"){if(!Mme.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,o=Zt.default.rootData}else{const u=Lme.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const f=+u[1];if(i=u[2],i==="#"){if(f>=t)throw new Error(l("property/index",f));return n[t-f]}if(f>t)throw new Error(l("data",f));if(o=r[t-f],!i)return o}let s=o;const a=i.split("/");for(const u of a)u&&(o=(0,Wt._)`${o}${(0,Wt.getProperty)((0,kl.unescapeJsonPointer)(u))}`,s=(0,Wt._)`${s} && ${o}`);return s;function l(u,f){return`Cannot access ${u} ${f} levels up, current level is ${t}`}}aa.getData=oG;var qg={};Object.defineProperty(qg,"__esModule",{value:!0});class Fme extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}qg.default=Fme;var Kh={};Object.defineProperty(Kh,"__esModule",{value:!0});const J1=$i;class Bme extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,J1.resolveUrl)(t,r,n),this.missingSchema=(0,J1.normalizeId)((0,J1.getFullPath)(t,this.missingRef))}}Kh.default=Bme;var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.resolveSchema=_o.getCompilingSchema=_o.resolveRef=_o.compileSchema=_o.SchemaEnv=void 0;const Ws=lr,Ume=qg,Dc=il,ia=$i,rF=kt,zme=aa;class qE{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,ia.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}_o.SchemaEnv=qE;function ek(e){const t=sG.call(this,e);if(t)return t;const r=(0,ia.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:o}=this.opts,s=new Ws.CodeGen(this.scope,{es5:n,lines:i,ownProperties:o});let a;e.$async&&(a=s.scopeValue("Error",{ref:Ume.default,code:(0,Ws._)`require("ajv/dist/runtime/validation_error").default`}));const l=s.scopeName("validate");e.validateName=l;const u={gen:s,allErrors:this.opts.allErrors,data:Dc.default.data,parentData:Dc.default.parentData,parentDataProperty:Dc.default.parentDataProperty,dataNames:[Dc.default.data],dataPathArr:[Ws.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ws.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ws.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ws._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,zme.validateFunctionCode)(u),s.optimize(this.opts.code.optimize);const c=s.toString();f=`${s.scopeRefs(Dc.default.scope)}return ${c}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const m=new Function(`${Dc.default.self}`,`${Dc.default.scope}`,f)(this,this.scope.get());if(this.scope.value(l,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:l,validateCode:c,scopeValues:s._values}),this.opts.unevaluated){const{props:g,items:_}=u;m.evaluated={props:g instanceof Ws.Name?void 0:g,items:_ instanceof Ws.Name?void 0:_,dynamicProps:g instanceof Ws.Name,dynamicItems:_ instanceof Ws.Name},m.source&&(m.source.evaluated=(0,Ws.stringify)(m.evaluated))}return e.validate=m,e}catch(c){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),c}finally{this._compilations.delete(e)}}_o.compileSchema=ek;function qme(e,t,r){var n;r=(0,ia.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let o=Wme.call(this,e,r);if(o===void 0){const s=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;s&&(o=new qE({schema:s,schemaId:a,root:e,baseId:t}))}if(o!==void 0)return e.refs[r]=Vme.call(this,o)}_o.resolveRef=qme;function Vme(e){return(0,ia.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:ek.call(this,e)}function sG(e){for(const t of this._compilations)if(Hme(t,e))return t}_o.getCompilingSchema=sG;function Hme(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Wme(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||VE.call(this,e,t)}function VE(e,t){const r=this.opts.uriResolver.parse(t),n=(0,ia._getFullPath)(this.opts.uriResolver,r);let i=(0,ia.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return Y1.call(this,r,e);const o=(0,ia.normalizeId)(n),s=this.refs[o]||this.schemas[o];if(typeof s=="string"){const a=VE.call(this,e,s);return typeof(a==null?void 0:a.schema)!="object"?void 0:Y1.call(this,r,a)}if(typeof(s==null?void 0:s.schema)=="object"){if(s.validate||ek.call(this,s),o===(0,ia.normalizeId)(t)){const{schema:a}=s,{schemaId:l}=this.opts,u=a[l];return u&&(i=(0,ia.resolveUrl)(this.opts.uriResolver,i,u)),new qE({schema:a,schemaId:l,root:e,baseId:i})}return Y1.call(this,r,s)}}_o.resolveSchema=VE;const Gme=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Y1(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,rF.unescapeFragment)(a)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!Gme.has(a)&&u&&(t=(0,ia.resolveUrl)(this.opts.uriResolver,t,u))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,rF.schemaHasRulesButRef)(r,this.RULES)){const a=(0,ia.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=VE.call(this,n,a)}const{schemaId:s}=this.opts;if(o=o||new qE({schema:r,schemaId:s,root:n,baseId:t}),o.schema!==o.root.schema)return o}const Kme="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Jme="Meta-schema for $data reference (JSON AnySchema extension proposal)",Yme="object",Xme=["$data"],Qme={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Zme=!1,ege={$id:Kme,description:Jme,type:Yme,required:Xme,properties:Qme,additionalProperties:Zme};var tk={},HE={exports:{}};const tge={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var rge={HEX:tge};const{HEX:nge}=rge,ige=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function aG(e){if(uG(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(ige)||[],[r]=t;return r?{host:sge(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function nF(e,t=!1){let r="",n=!0;for(const i of e){if(nge[i]===void 0)return;i!=="0"&&n===!0&&(n=!1),n||(r+=i)}return t&&r.length===0&&(r="0"),r}function oge(e){let t=0;const r={error:!1,address:"",zone:""},n=[],i=[];let o=!1,s=!1,a=!1;function l(){if(i.length){if(o===!1){const u=nF(i);if(u!==void 0)n.push(u);else return r.error=!0,!1}i.length=0}return!0}for(let u=0;u<e.length;u++){const f=e[u];if(!(f==="["||f==="]"))if(f===":"){if(s===!0&&(a=!0),!l())break;if(t++,n.push(":"),t>7){r.error=!0;break}u-1>=0&&e[u-1]===":"&&(s=!0);continue}else if(f==="%"){if(!l())break;o=!0}else{i.push(f);continue}}return i.length&&(o?r.zone=i.join(""):a?n.push(i.join("")):n.push(nF(i))),r.address=n.join(""),r}function lG(e){if(uG(e,":")<2)return{host:e,isIPV6:!1};const t=oge(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,escapedHost:n,isIPV6:!0}}}function sge(e,t){let r="",n=!0;const i=e.length;for(let o=0;o<i;o++){const s=e[o];s==="0"&&n?(o+1<=i&&e[o+1]===t||o+1===i)&&(r+=s,n=!1):(s===t?n=!0:n=!1,r+=s)}return r}function uG(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}const iF=/^\.\.?\//u,oF=/^\/\.(?:\/|$)/u,sF=/^\/\.\.(?:\/|$)/u,age=/^\/?(?:.|\n)*?(?=\/|$)/u;function lge(e){const t=[];for(;e.length;)if(e.match(iF))e=e.replace(iF,"");else if(e.match(oF))e=e.replace(oF,"/");else if(e.match(sF))e=e.replace(sF,"/"),t.pop();else if(e==="."||e==="..")e="";else{const r=e.match(age);if(r){const n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function uge(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function cge(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);const n=aG(r);if(n.isIPV4)r=n.host;else{const i=lG(n.host);i.isIPV6===!0?r=`[${i.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var fge={recomposeAuthority:cge,normalizeComponentEncoding:uge,removeDotSegments:lge,normalizeIPv4:aG,normalizeIPv6:lG};const dge=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,hge=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function cG(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function fG(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function dG(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function pge(e){return e.secure=cG(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function mge(e){if((e.port===(cG(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function gge(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(hge);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const i=`${n}:${t.nid||e.nid}`,o=rk[i];e.path=void 0,o&&(e=o.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function vge(e,t){const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),i=`${r}:${t.nid||n}`,o=rk[i];o&&(e=o.serialize(e,t));const s=e,a=e.nss;return s.path=`${n||t.nid}:${a}`,t.skipEscape=!0,s}function yge(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!dge.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function wge(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const hG={scheme:"http",domainHost:!0,parse:fG,serialize:dG},bge={scheme:"https",domainHost:hG.domainHost,parse:fG,serialize:dG},Gw={scheme:"ws",domainHost:!0,parse:pge,serialize:mge},_ge={scheme:"wss",domainHost:Gw.domainHost,parse:Gw.parse,serialize:Gw.serialize},Ege={scheme:"urn",parse:gge,serialize:vge,skipNormalize:!0},Sge={scheme:"urn:uuid",parse:yge,serialize:wge,skipNormalize:!0},rk={http:hG,https:bge,ws:Gw,wss:_ge,urn:Ege,"urn:uuid":Sge};var $ge=rk;const{normalizeIPv6:Tge,normalizeIPv4:Age,removeDotSegments:Kp,recomposeAuthority:xge,normalizeComponentEncoding:sy}=fge,nk=$ge;function Oge(e,t){return typeof e=="string"?e=Va(Ul(e,t),t):typeof e=="object"&&(e=Ul(Va(e,t),t)),e}function Pge(e,t,r){const n=Object.assign({scheme:"null"},r),i=pG(Ul(e,n),Ul(t,n),n,!0);return Va(i,{...n,skipEscape:!0})}function pG(e,t,r,n){const i={};return n||(e=Ul(Va(e,r),r),t=Ul(Va(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=Kp(t.path||""),i.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=Kp(t.path||""),i.query=t.query):(t.path?(t.path.charAt(0)==="/"?i.path=Kp(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?i.path="/"+t.path:e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path,i.path=Kp(i.path)),i.query=t.query):(i.path=e.path,t.query!==void 0?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function Rge(e,t,r){return typeof e=="string"?(e=unescape(e),e=Va(sy(Ul(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Va(sy(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Va(sy(Ul(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Va(sy(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Va(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),i=[],o=nk[(n.scheme||r.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&i.push(r.scheme,":");const s=xge(r);if(s!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(s),r.path&&r.path.charAt(0)!=="/"&&i.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!o||!o.absolutePath)&&(a=Kp(a)),s===void 0&&(a=a.replace(/^\/\//u,"/%2F")),i.push(a)}return r.query!==void 0&&i.push("?",r.query),r.fragment!==void 0&&i.push("#",r.fragment),i.join("")}const Nge=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function Ige(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||Nge[t])return!0;return!1}const kge=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Ul(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=e.indexOf("%")!==-1;let o=!1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);const s=e.match(kge);if(s){if(n.scheme=s[1],n.userinfo=s[3],n.host=s[4],n.port=parseInt(s[5],10),n.path=s[6]||"",n.query=s[7],n.fragment=s[8],isNaN(n.port)&&(n.port=s[5]),n.host){const l=Age(n.host);if(l.isIPV4===!1){const u=Tge(l.host);n.host=u.host.toLowerCase(),o=u.isIPV6}else n.host=l.host,o=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const a=nk[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!a||!a.unicodeSupport)&&n.host&&(r.domainHost||a&&a.domainHost)&&o===!1&&Ige(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(l){n.error=n.error||"Host's domain name can not be converted to ASCII: "+l}(!a||a&&!a.skipNormalize)&&(i&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),i&&n.host!==void 0&&(n.host=unescape(n.host)),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),a&&a.parse&&a.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const ik={SCHEMES:nk,normalize:Oge,resolve:Pge,resolveComponents:pG,equal:Rge,serialize:Va,parse:Ul};HE.exports=ik;HE.exports.default=ik;HE.exports.fastUri=ik;var Cge=HE.exports;Object.defineProperty(tk,"__esModule",{value:!0});const mG=Cge;mG.code='require("ajv/dist/runtime/uri").default';tk.default=mG;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=aa;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=lr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=qg,i=Kh,o=Cf,s=_o,a=lr,l=$i,u=ni,f=kt,c=ege,p=tk,m=(C,B)=>new RegExp(C,B);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(C){var B,K,P,I,q,ie,J,Y,se,be,Pe,R,j,M,G,oe,ce,de,ve,Ie,Be,De,nt,We,Ue;const W=C.strict,N=(B=C.code)===null||B===void 0?void 0:B.optimize,L=N===!0||N===void 0?1:N||0,re=(P=(K=C.code)===null||K===void 0?void 0:K.regExp)!==null&&P!==void 0?P:m,ye=(I=C.uriResolver)!==null&&I!==void 0?I:p.default;return{strictSchema:(ie=(q=C.strictSchema)!==null&&q!==void 0?q:W)!==null&&ie!==void 0?ie:!0,strictNumbers:(Y=(J=C.strictNumbers)!==null&&J!==void 0?J:W)!==null&&Y!==void 0?Y:!0,strictTypes:(be=(se=C.strictTypes)!==null&&se!==void 0?se:W)!==null&&be!==void 0?be:"log",strictTuples:(R=(Pe=C.strictTuples)!==null&&Pe!==void 0?Pe:W)!==null&&R!==void 0?R:"log",strictRequired:(M=(j=C.strictRequired)!==null&&j!==void 0?j:W)!==null&&M!==void 0?M:!1,code:C.code?{...C.code,optimize:L,regExp:re}:{optimize:L,regExp:re},loopRequired:(G=C.loopRequired)!==null&&G!==void 0?G:E,loopEnum:(oe=C.loopEnum)!==null&&oe!==void 0?oe:E,meta:(ce=C.meta)!==null&&ce!==void 0?ce:!0,messages:(de=C.messages)!==null&&de!==void 0?de:!0,inlineRefs:(ve=C.inlineRefs)!==null&&ve!==void 0?ve:!0,schemaId:(Ie=C.schemaId)!==null&&Ie!==void 0?Ie:"$id",addUsedSchema:(Be=C.addUsedSchema)!==null&&Be!==void 0?Be:!0,validateSchema:(De=C.validateSchema)!==null&&De!==void 0?De:!0,validateFormats:(nt=C.validateFormats)!==null&&nt!==void 0?nt:!0,unicodeRegExp:(We=C.unicodeRegExp)!==null&&We!==void 0?We:!0,int32range:(Ue=C.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:ye}}class S{constructor(B={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,B=this.opts={...B,...y(B)};const{es5:K,lines:P}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:K,lines:P}),this.logger=F(B.logger);const I=B.validateFormats;B.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,B,"NOT SUPPORTED"),$.call(this,h,B,"DEPRECATED","warn"),this._metaOpts=O.call(this),B.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),B.keywords&&x.call(this,B.keywords),typeof B.meta=="object"&&this.addMetaSchema(B.meta),d.call(this),B.validateFormats=I}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:B,meta:K,schemaId:P}=this.opts;let I=c;P==="id"&&(I={...c},I.id=I.$id,delete I.$id),K&&B&&this.addMetaSchema(I,I[P],!1)}defaultMeta(){const{meta:B,schemaId:K}=this.opts;return this.opts.defaultMeta=typeof B=="object"?B[K]||B:void 0}validate(B,K){let P;if(typeof B=="string"){if(P=this.getSchema(B),!P)throw new Error(`no schema with key or ref "${B}"`)}else P=this.compile(B);const I=P(K);return"$async"in P||(this.errors=P.errors),I}compile(B,K){const P=this._addSchema(B,K);return P.validate||this._compileSchemaEnv(P)}compileAsync(B,K){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:P}=this.opts;return I.call(this,B,K);async function I(be,Pe){await q.call(this,be.$schema);const R=this._addSchema(be,Pe);return R.validate||ie.call(this,R)}async function q(be){be&&!this.getSchema(be)&&await I.call(this,{$ref:be},!0)}async function ie(be){try{return this._compileSchemaEnv(be)}catch(Pe){if(!(Pe instanceof i.default))throw Pe;return J.call(this,Pe),await Y.call(this,Pe.missingSchema),ie.call(this,be)}}function J({missingSchema:be,missingRef:Pe}){if(this.refs[be])throw new Error(`AnySchema ${be} is loaded but ${Pe} cannot be resolved`)}async function Y(be){const Pe=await se.call(this,be);this.refs[be]||await q.call(this,Pe.$schema),this.refs[be]||this.addSchema(Pe,be,K)}async function se(be){const Pe=this._loading[be];if(Pe)return Pe;try{return await(this._loading[be]=P(be))}finally{delete this._loading[be]}}}addSchema(B,K,P,I=this.opts.validateSchema){if(Array.isArray(B)){for(const ie of B)this.addSchema(ie,void 0,P,I);return this}let q;if(typeof B=="object"){const{schemaId:ie}=this.opts;if(q=B[ie],q!==void 0&&typeof q!="string")throw new Error(`schema ${ie} must be string`)}return K=(0,l.normalizeId)(K||q),this._checkUnique(K),this.schemas[K]=this._addSchema(B,P,K,I,!0),this}addMetaSchema(B,K,P=this.opts.validateSchema){return this.addSchema(B,K,!0,P),this}validateSchema(B,K){if(typeof B=="boolean")return!0;let P;if(P=B.$schema,P!==void 0&&typeof P!="string")throw new Error("$schema must be a string");if(P=P||this.opts.defaultMeta||this.defaultMeta(),!P)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const I=this.validate(P,B);if(!I&&K){const q="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(q);else throw new Error(q)}return I}getSchema(B){let K;for(;typeof(K=T.call(this,B))=="string";)B=K;if(K===void 0){const{schemaId:P}=this.opts,I=new s.SchemaEnv({schema:{},schemaId:P});if(K=s.resolveSchema.call(this,I,B),!K)return;this.refs[B]=K}return K.validate||this._compileSchemaEnv(K)}removeSchema(B){if(B instanceof RegExp)return this._removeAllSchemas(this.schemas,B),this._removeAllSchemas(this.refs,B),this;switch(typeof B){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const K=T.call(this,B);return typeof K=="object"&&this._cache.delete(K.schema),delete this.schemas[B],delete this.refs[B],this}case"object":{const K=B;this._cache.delete(K);let P=B[this.opts.schemaId];return P&&(P=(0,l.normalizeId)(P),delete this.schemas[P],delete this.refs[P]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(B){for(const K of B)this.addKeyword(K);return this}addKeyword(B,K){let P;if(typeof B=="string")P=B,typeof K=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),K.keyword=P);else if(typeof B=="object"&&K===void 0){if(K=B,P=K.keyword,Array.isArray(P)&&!P.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Q.call(this,P,K),!K)return(0,f.eachItem)(P,q=>H.call(this,q)),this;fe.call(this,K);const I={...K,type:(0,u.getJSONTypes)(K.type),schemaType:(0,u.getJSONTypes)(K.schemaType)};return(0,f.eachItem)(P,I.type.length===0?q=>H.call(this,q,I):q=>I.type.forEach(ie=>H.call(this,q,I,ie))),this}getKeyword(B){const K=this.RULES.all[B];return typeof K=="object"?K.definition:!!K}removeKeyword(B){const{RULES:K}=this;delete K.keywords[B],delete K.all[B];for(const P of K.rules){const I=P.rules.findIndex(q=>q.keyword===B);I>=0&&P.rules.splice(I,1)}return this}addFormat(B,K){return typeof K=="string"&&(K=new RegExp(K)),this.formats[B]=K,this}errorsText(B=this.errors,{separator:K=", ",dataVar:P="data"}={}){return!B||B.length===0?"No errors":B.map(I=>`${P}${I.instancePath} ${I.message}`).reduce((I,q)=>I+K+q)}$dataMetaSchema(B,K){const P=this.RULES.all;B=JSON.parse(JSON.stringify(B));for(const I of K){const q=I.split("/").slice(1);let ie=B;for(const J of q)ie=ie[J];for(const J in P){const Y=P[J];if(typeof Y!="object")continue;const{$data:se}=Y.definition,be=ie[J];se&&be&&(ie[J]=ne(be))}}return B}_removeAllSchemas(B,K){for(const P in B){const I=B[P];(!K||K.test(P))&&(typeof I=="string"?delete B[P]:I&&!I.meta&&(this._cache.delete(I.schema),delete B[P]))}}_addSchema(B,K,P,I=this.opts.validateSchema,q=this.opts.addUsedSchema){let ie;const{schemaId:J}=this.opts;if(typeof B=="object")ie=B[J];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof B!="boolean")throw new Error("schema must be object or boolean")}let Y=this._cache.get(B);if(Y!==void 0)return Y;P=(0,l.normalizeId)(ie||P);const se=l.getSchemaRefs.call(this,B,P);return Y=new s.SchemaEnv({schema:B,schemaId:J,meta:K,baseId:P,localRefs:se}),this._cache.set(Y.schema,Y),q&&!P.startsWith("#")&&(P&&this._checkUnique(P),this.refs[P]=Y),I&&this.validateSchema(B,!0),Y}_checkUnique(B){if(this.schemas[B]||this.refs[B])throw new Error(`schema with key or id "${B}" already exists`)}_compileSchemaEnv(B){if(B.meta?this._compileMetaSchema(B):s.compileSchema.call(this,B),!B.validate)throw new Error("ajv implementation error");return B.validate}_compileMetaSchema(B){const K=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,B)}finally{this.opts=K}}}S.ValidationError=n.default,S.MissingRefError=i.default,e.default=S;function $(C,B,K,P="error"){for(const I in C){const q=I;q in B&&this.logger[P](`${K}: option ${I}. ${C[q]}`)}}function T(C){return C=(0,l.normalizeId)(C),this.schemas[C]||this.refs[C]}function d(){const C=this.opts.schemas;if(C)if(Array.isArray(C))this.addSchema(C);else for(const B in C)this.addSchema(C[B],B)}function A(){for(const C in this.opts.formats){const B=this.opts.formats[C];B&&this.addFormat(C,B)}}function x(C){if(Array.isArray(C)){this.addVocabulary(C);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in C){const K=C[B];K.keyword||(K.keyword=B),this.addKeyword(K)}}function O(){const C={...this.opts};for(const B of g)delete C[B];return C}const D={log(){},warn(){},error(){}};function F(C){if(C===!1)return D;if(C===void 0)return console;if(C.log&&C.warn&&C.error)return C;throw new Error("logger must implement log, warn and error methods")}const V=/^[a-z_$][a-z0-9_$:-]*$/i;function Q(C,B){const{RULES:K}=this;if((0,f.eachItem)(C,P=>{if(K.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!V.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function H(C,B,K){var P;const I=B==null?void 0:B.post;if(K&&I)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let ie=I?q.post:q.rules.find(({type:Y})=>Y===K);if(ie||(ie={type:K,rules:[]},q.rules.push(ie)),q.keywords[C]=!0,!B)return;const J={keyword:C,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?X.call(this,ie,J,B.before):ie.rules.push(J),q.all[C]=J,(P=B.implements)===null||P===void 0||P.forEach(Y=>this.addKeyword(Y))}function X(C,B,K){const P=C.rules.findIndex(I=>I.keyword===K);P>=0?C.rules.splice(P,0,B):(C.rules.push(B),this.logger.warn(`rule ${K} is not defined`))}function fe(C){let{metaSchema:B}=C;B!==void 0&&(C.$data&&this.opts.$data&&(B=ne(B)),C.validateSchema=this.compile(B,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ne(C){return{anyOf:[C,Z]}}})(OW);var ok={},sk={},ak={};Object.defineProperty(ak,"__esModule",{value:!0});const jge={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ak.default=jge;var jf={};Object.defineProperty(jf,"__esModule",{value:!0});jf.callRef=jf.getValidate=void 0;const Dge=Kh,aF=wr,vo=lr,_d=il,lF=_o,ay=kt,Mge={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:o,validateName:s,opts:a,self:l}=n,{root:u}=o;if((r==="#"||r==="#/")&&i===u.baseId)return c();const f=lF.resolveRef.call(l,u,i,r);if(f===void 0)throw new Dge.default(n.opts.uriResolver,i,r);if(f instanceof lF.SchemaEnv)return p(f);return m(f);function c(){if(o===u)return Kw(e,s,o,o.$async);const g=t.scopeValue("root",{ref:u});return Kw(e,(0,vo._)`${g}.validate`,u,u.$async)}function p(g){const _=gG(e,g);Kw(e,_,g,g.$async)}function m(g){const _=t.scopeValue("schema",a.code.source===!0?{ref:g,code:(0,vo.stringify)(g)}:{ref:g}),v=t.name("valid"),h=e.subschema({schema:g,dataTypes:[],schemaPath:vo.nil,topSchemaRef:_,errSchemaPath:r},v);e.mergeEvaluated(h),e.ok(v)}}};function gG(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,vo._)`${r.scopeValue("wrapper",{ref:t})}.validate`}jf.getValidate=gG;function Kw(e,t,r,n){const{gen:i,it:o}=e,{allErrors:s,schemaEnv:a,opts:l}=o,u=l.passContext?_d.default.this:vo.nil;n?f():c();function f(){if(!a.$async)throw new Error("async schema referenced by sync schema");const g=i.let("valid");i.try(()=>{i.code((0,vo._)`await ${(0,aF.callValidateCode)(e,t,u)}`),m(t),s||i.assign(g,!0)},_=>{i.if((0,vo._)`!(${_} instanceof ${o.ValidationError})`,()=>i.throw(_)),p(_),s||i.assign(g,!1)}),e.ok(g)}function c(){e.result((0,aF.callValidateCode)(e,t,u),()=>m(t),()=>p(t))}function p(g){const _=(0,vo._)`${g}.errors`;i.assign(_d.default.vErrors,(0,vo._)`${_d.default.vErrors} === null ? ${_} : ${_d.default.vErrors}.concat(${_})`),i.assign(_d.default.errors,(0,vo._)`${_d.default.vErrors}.length`)}function m(g){var _;if(!o.opts.unevaluated)return;const v=(_=r==null?void 0:r.validate)===null||_===void 0?void 0:_.evaluated;if(o.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(o.props=ay.mergeEvaluated.props(i,v.props,o.props));else{const h=i.var("props",(0,vo._)`${g}.evaluated.props`);o.props=ay.mergeEvaluated.props(i,h,o.props,vo.Name)}if(o.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(o.items=ay.mergeEvaluated.items(i,v.items,o.items));else{const h=i.var("items",(0,vo._)`${g}.evaluated.items`);o.items=ay.mergeEvaluated.items(i,h,o.items,vo.Name)}}}jf.callRef=Kw;jf.default=Mge;Object.defineProperty(sk,"__esModule",{value:!0});const Lge=ak,Fge=jf,Bge=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Lge.default,Fge.default];sk.default=Bge;var lk={},uk={};Object.defineProperty(uk,"__esModule",{value:!0});const m_=lr,hu=m_.operators,g_={maximum:{okStr:"<=",ok:hu.LTE,fail:hu.GT},minimum:{okStr:">=",ok:hu.GTE,fail:hu.LT},exclusiveMaximum:{okStr:"<",ok:hu.LT,fail:hu.GTE},exclusiveMinimum:{okStr:">",ok:hu.GT,fail:hu.LTE}},Uge={message:({keyword:e,schemaCode:t})=>(0,m_.str)`must be ${g_[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,m_._)`{comparison: ${g_[e].okStr}, limit: ${t}}`},zge={keyword:Object.keys(g_),type:"number",schemaType:"number",$data:!0,error:Uge,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,m_._)`${r} ${g_[t].fail} ${n} || isNaN(${r})`)}};uk.default=zge;var ck={};Object.defineProperty(ck,"__esModule",{value:!0});const bm=lr,qge={message:({schemaCode:e})=>(0,bm.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,bm._)`{multipleOf: ${e}}`},Vge={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:qge,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,o=i.opts.multipleOfPrecision,s=t.let("res"),a=o?(0,bm._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:(0,bm._)`${s} !== parseInt(${s})`;e.fail$data((0,bm._)`(${n} === 0 || (${s} = ${r}/${n}, ${a}))`)}};ck.default=Vge;var fk={},dk={};Object.defineProperty(dk,"__esModule",{value:!0});function vG(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}dk.default=vG;vG.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(fk,"__esModule",{value:!0});const Xc=lr,Hge=kt,Wge=dk,Gge={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Xc.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Xc._)`{limit: ${e}}`},Kge={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Gge,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,o=t==="maxLength"?Xc.operators.GT:Xc.operators.LT,s=i.opts.unicode===!1?(0,Xc._)`${r}.length`:(0,Xc._)`${(0,Hge.useFunc)(e.gen,Wge.default)}(${r})`;e.fail$data((0,Xc._)`${s} ${o} ${n}`)}};fk.default=Kge;var hk={};Object.defineProperty(hk,"__esModule",{value:!0});const Jge=wr,v_=lr,Yge={message:({schemaCode:e})=>(0,v_.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,v_._)`{pattern: ${e}}`},Xge={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Yge,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:o}=e,s=o.opts.unicodeRegExp?"u":"",a=r?(0,v_._)`(new RegExp(${i}, ${s}))`:(0,Jge.usePattern)(e,n);e.fail$data((0,v_._)`!${a}.test(${t})`)}};hk.default=Xge;var pk={};Object.defineProperty(pk,"__esModule",{value:!0});const _m=lr,Qge={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,_m.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,_m._)`{limit: ${e}}`},Zge={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Qge,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?_m.operators.GT:_m.operators.LT;e.fail$data((0,_m._)`Object.keys(${r}).length ${i} ${n}`)}};pk.default=Zge;var mk={};Object.defineProperty(mk,"__esModule",{value:!0});const $p=wr,Em=lr,eve=kt,tve={message:({params:{missingProperty:e}})=>(0,Em.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Em._)`{missingProperty: ${e}}`},rve={keyword:"required",type:"object",schemaType:"array",$data:!0,error:tve,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:o,it:s}=e,{opts:a}=s;if(!o&&r.length===0)return;const l=r.length>=a.loopRequired;if(s.allErrors?u():f(),a.strictRequired){const m=e.parentSchema.properties,{definedProperties:g}=e.it;for(const _ of r)if((m==null?void 0:m[_])===void 0&&!g.has(_)){const v=s.schemaEnv.baseId+s.errSchemaPath,h=`required property "${_}" is not defined at "${v}" (strictRequired)`;(0,eve.checkStrictMode)(s,h,s.opts.strictRequired)}}function u(){if(l||o)e.block$data(Em.nil,c);else for(const m of r)(0,$p.checkReportMissingProp)(e,m)}function f(){const m=t.let("missing");if(l||o){const g=t.let("valid",!0);e.block$data(g,()=>p(m,g)),e.ok(g)}else t.if((0,$p.checkMissingProp)(e,r,m)),(0,$p.reportMissingProp)(e,m),t.else()}function c(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,$p.noPropertyInData)(t,i,m,a.ownProperties),()=>e.error())})}function p(m,g){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(g,(0,$p.propertyInData)(t,i,m,a.ownProperties)),t.if((0,Em.not)(g),()=>{e.error(),t.break()})},Em.nil)}}};mk.default=rve;var gk={};Object.defineProperty(gk,"__esModule",{value:!0});const Sm=lr,nve={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Sm.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Sm._)`{limit: ${e}}`},ive={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:nve,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?Sm.operators.GT:Sm.operators.LT;e.fail$data((0,Sm._)`${r}.length ${i} ${n}`)}};gk.default=ive;var vk={},Vg={};Object.defineProperty(Vg,"__esModule",{value:!0});const yG=VW;yG.code='require("ajv/dist/runtime/equal").default';Vg.default=yG;Object.defineProperty(vk,"__esModule",{value:!0});const X1=ni,Ei=lr,ove=kt,sve=Vg,ave={message:({params:{i:e,j:t}})=>(0,Ei.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ei._)`{i: ${e}, j: ${t}}`},lve={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:ave,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:o,schemaCode:s,it:a}=e;if(!n&&!i)return;const l=t.let("valid"),u=o.items?(0,X1.getSchemaTypes)(o.items):[];e.block$data(l,f,(0,Ei._)`${s} === false`),e.ok(l);function f(){const g=t.let("i",(0,Ei._)`${r}.length`),_=t.let("j");e.setParams({i:g,j:_}),t.assign(l,!0),t.if((0,Ei._)`${g} > 1`,()=>(c()?p:m)(g,_))}function c(){return u.length>0&&!u.some(g=>g==="object"||g==="array")}function p(g,_){const v=t.name("item"),h=(0,X1.checkDataTypes)(u,v,a.opts.strictNumbers,X1.DataType.Wrong),E=t.const("indices",(0,Ei._)`{}`);t.for((0,Ei._)`;${g}--;`,()=>{t.let(v,(0,Ei._)`${r}[${g}]`),t.if(h,(0,Ei._)`continue`),u.length>1&&t.if((0,Ei._)`typeof ${v} == "string"`,(0,Ei._)`${v} += "_"`),t.if((0,Ei._)`typeof ${E}[${v}] == "number"`,()=>{t.assign(_,(0,Ei._)`${E}[${v}]`),e.error(),t.assign(l,!1).break()}).code((0,Ei._)`${E}[${v}] = ${g}`)})}function m(g,_){const v=(0,ove.useFunc)(t,sve.default),h=t.name("outer");t.label(h).for((0,Ei._)`;${g}--;`,()=>t.for((0,Ei._)`${_} = ${g}; ${_}--;`,()=>t.if((0,Ei._)`${v}(${r}[${g}], ${r}[${_}])`,()=>{e.error(),t.assign(l,!1).break(h)})))}}};vk.default=lve;var yk={};Object.defineProperty(yk,"__esModule",{value:!0});const nP=lr,uve=kt,cve=Vg,fve={message:"must be equal to constant",params:({schemaCode:e})=>(0,nP._)`{allowedValue: ${e}}`},dve={keyword:"const",$data:!0,error:fve,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:o}=e;n||o&&typeof o=="object"?e.fail$data((0,nP._)`!${(0,uve.useFunc)(t,cve.default)}(${r}, ${i})`):e.fail((0,nP._)`${o} !== ${r}`)}};yk.default=dve;var wk={};Object.defineProperty(wk,"__esModule",{value:!0});const Jp=lr,hve=kt,pve=Vg,mve={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Jp._)`{allowedValues: ${e}}`},gve={keyword:"enum",schemaType:"array",$data:!0,error:mve,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:o,it:s}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=s.opts.loopEnum;let l;const u=()=>l??(l=(0,hve.useFunc)(t,pve.default));let f;if(a||n)f=t.let("valid"),e.block$data(f,c);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const m=t.const("vSchema",o);f=(0,Jp.or)(...i.map((g,_)=>p(m,_)))}e.pass(f);function c(){t.assign(f,!1),t.forOf("v",o,m=>t.if((0,Jp._)`${u()}(${r}, ${m})`,()=>t.assign(f,!0).break()))}function p(m,g){const _=i[g];return typeof _=="object"&&_!==null?(0,Jp._)`${u()}(${r}, ${m}[${g}])`:(0,Jp._)`${r} === ${_}`}}};wk.default=gve;Object.defineProperty(lk,"__esModule",{value:!0});const vve=uk,yve=ck,wve=fk,bve=hk,_ve=pk,Eve=mk,Sve=gk,$ve=vk,Tve=yk,Ave=wk,xve=[vve.default,yve.default,wve.default,bve.default,_ve.default,Eve.default,Sve.default,$ve.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Tve.default,Ave.default];lk.default=xve;var bk={},Jh={};Object.defineProperty(Jh,"__esModule",{value:!0});Jh.validateAdditionalItems=void 0;const Qc=lr,iP=kt,Ove={message:({params:{len:e}})=>(0,Qc.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Qc._)`{limit: ${e}}`},Pve={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Ove,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,iP.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}wG(e,n)}};function wG(e,t){const{gen:r,schema:n,data:i,keyword:o,it:s}=e;s.items=!0;const a=r.const("len",(0,Qc._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Qc._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,iP.alwaysValidSchema)(s,n)){const u=r.var("valid",(0,Qc._)`${a} <= ${t.length}`);r.if((0,Qc.not)(u),()=>l(u)),e.ok(u)}function l(u){r.forRange("i",t.length,a,f=>{e.subschema({keyword:o,dataProp:f,dataPropType:iP.Type.Num},u),s.allErrors||r.if((0,Qc.not)(u),()=>r.break())})}}Jh.validateAdditionalItems=wG;Jh.default=Pve;var _k={},Yh={};Object.defineProperty(Yh,"__esModule",{value:!0});Yh.validateTuple=void 0;const uF=lr,Jw=kt,Rve=wr,Nve={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return bG(e,"additionalItems",t);r.items=!0,!(0,Jw.alwaysValidSchema)(r,t)&&e.ok((0,Rve.validateArray)(e))}};function bG(e,t,r=e.schema){const{gen:n,parentSchema:i,data:o,keyword:s,it:a}=e;f(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=Jw.mergeEvaluated.items(n,r.length,a.items));const l=n.name("valid"),u=n.const("len",(0,uF._)`${o}.length`);r.forEach((c,p)=>{(0,Jw.alwaysValidSchema)(a,c)||(n.if((0,uF._)`${u} > ${p}`,()=>e.subschema({keyword:s,schemaProp:p,dataProp:p},l)),e.ok(l))});function f(c){const{opts:p,errSchemaPath:m}=a,g=r.length,_=g===c.minItems&&(g===c.maxItems||c[t]===!1);if(p.strictTuples&&!_){const v=`"${s}" is ${g}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,Jw.checkStrictMode)(a,v,p.strictTuples)}}}Yh.validateTuple=bG;Yh.default=Nve;Object.defineProperty(_k,"__esModule",{value:!0});const Ive=Yh,kve={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Ive.validateTuple)(e,"items")};_k.default=kve;var Ek={};Object.defineProperty(Ek,"__esModule",{value:!0});const cF=lr,Cve=kt,jve=wr,Dve=Jh,Mve={message:({params:{len:e}})=>(0,cF.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,cF._)`{limit: ${e}}`},Lve={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Mve,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,Cve.alwaysValidSchema)(n,t)&&(i?(0,Dve.validateAdditionalItems)(e,i):e.ok((0,jve.validateArray)(e)))}};Ek.default=Lve;var Sk={};Object.defineProperty(Sk,"__esModule",{value:!0});const hs=lr,ly=kt,Fve={message:({params:{min:e,max:t}})=>t===void 0?(0,hs.str)`must contain at least ${e} valid item(s)`:(0,hs.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,hs._)`{minContains: ${e}}`:(0,hs._)`{minContains: ${e}, maxContains: ${t}}`},Bve={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Fve,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:o}=e;let s,a;const{minContains:l,maxContains:u}=n;o.opts.next?(s=l===void 0?1:l,a=u):s=1;const f=t.const("len",(0,hs._)`${i}.length`);if(e.setParams({min:s,max:a}),a===void 0&&s===0){(0,ly.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,ly.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,ly.alwaysValidSchema)(o,r)){let _=(0,hs._)`${f} >= ${s}`;a!==void 0&&(_=(0,hs._)`${_} && ${f} <= ${a}`),e.pass(_);return}o.items=!0;const c=t.name("valid");a===void 0&&s===1?m(c,()=>t.if(c,()=>t.break())):s===0?(t.let(c,!0),a!==void 0&&t.if((0,hs._)`${i}.length > 0`,p)):(t.let(c,!1),p()),e.result(c,()=>e.reset());function p(){const _=t.name("_valid"),v=t.let("count",0);m(_,()=>t.if(_,()=>g(v)))}function m(_,v){t.forRange("i",0,f,h=>{e.subschema({keyword:"contains",dataProp:h,dataPropType:ly.Type.Num,compositeRule:!0},_),v()})}function g(_){t.code((0,hs._)`${_}++`),a===void 0?t.if((0,hs._)`${_} >= ${s}`,()=>t.assign(c,!0).break()):(t.if((0,hs._)`${_} > ${a}`,()=>t.assign(c,!1).break()),s===1?t.assign(c,!0):t.if((0,hs._)`${_} >= ${s}`,()=>t.assign(c,!0)))}}};Sk.default=Bve;var _G={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=lr,r=kt,n=wr;e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);s(l,u),a(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const p=Array.isArray(l[c])?u:f;p[c]=l[c]}return[u,f]}function s(l,u=l.schema){const{gen:f,data:c,it:p}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,p.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),p.allErrors?f.if(v,()=>{for(const h of _)(0,n.checkReportMissingProp)(l,h)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:f,data:c,keyword:p,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:p,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i})(_G);var $k={};Object.defineProperty($k,"__esModule",{value:!0});const EG=lr,Uve=kt,zve={message:"property name must be valid",params:({params:e})=>(0,EG._)`{propertyName: ${e.propertyName}}`},qve={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:zve,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,Uve.alwaysValidSchema)(i,r))return;const o=t.name("valid");t.forIn("key",n,s=>{e.setParams({propertyName:s}),e.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},o),t.if((0,EG.not)(o),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(o)}};$k.default=qve;var WE={};Object.defineProperty(WE,"__esModule",{value:!0});const uy=wr,Ys=lr,Vve=il,cy=kt,Hve={message:"must NOT have additional properties",params:({params:e})=>(0,Ys._)`{additionalProperty: ${e.additionalProperty}}`},Wve={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Hve,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:o,it:s}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=s;if(s.props=!0,l.removeAdditional!=="all"&&(0,cy.alwaysValidSchema)(s,r))return;const u=(0,uy.allSchemaProperties)(n.properties),f=(0,uy.allSchemaProperties)(n.patternProperties);c(),e.ok((0,Ys._)`${o} === ${Vve.default.errors}`);function c(){t.forIn("key",i,v=>{!u.length&&!f.length?g(v):t.if(p(v),()=>g(v))})}function p(v){let h;if(u.length>8){const E=(0,cy.schemaRefOrVal)(s,n.properties,"properties");h=(0,uy.isOwnProperty)(t,E,v)}else u.length?h=(0,Ys.or)(...u.map(E=>(0,Ys._)`${v} === ${E}`)):h=Ys.nil;return f.length&&(h=(0,Ys.or)(h,...f.map(E=>(0,Ys._)`${(0,uy.usePattern)(e,E)}.test(${v})`))),(0,Ys.not)(h)}function m(v){t.code((0,Ys._)`delete ${i}[${v}]`)}function g(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,cy.alwaysValidSchema)(s,r)){const h=t.name("valid");l.removeAdditional==="failing"?(_(v,h,!1),t.if((0,Ys.not)(h),()=>{e.reset(),m(v)})):(_(v,h),a||t.if((0,Ys.not)(h),()=>t.break()))}}function _(v,h,E){const y={keyword:"additionalProperties",dataProp:v,dataPropType:cy.Type.Str};E===!1&&Object.assign(y,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(y,h)}}};WE.default=Wve;var Tk={};Object.defineProperty(Tk,"__esModule",{value:!0});const Gve=aa,fF=wr,Q1=kt,dF=WE,Kve={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:o}=e;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&dF.default.code(new Gve.KeywordCxt(o,dF.default,"additionalProperties"));const s=(0,fF.allSchemaProperties)(r);for(const c of s)o.definedProperties.add(c);o.opts.unevaluated&&s.length&&o.props!==!0&&(o.props=Q1.mergeEvaluated.props(t,(0,Q1.toHash)(s),o.props));const a=s.filter(c=>!(0,Q1.alwaysValidSchema)(o,r[c]));if(a.length===0)return;const l=t.name("valid");for(const c of a)u(c)?f(c):(t.if((0,fF.propertyInData)(t,i,c,o.opts.ownProperties)),f(c),o.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(c),e.ok(l);function u(c){return o.opts.useDefaults&&!o.compositeRule&&r[c].default!==void 0}function f(c){e.subschema({keyword:"properties",schemaProp:c,dataProp:c},l)}}};Tk.default=Kve;var Ak={};Object.defineProperty(Ak,"__esModule",{value:!0});const hF=wr,fy=lr,pF=kt,mF=kt,Jve={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:o}=e,{opts:s}=o,a=(0,hF.allSchemaProperties)(r),l=a.filter(_=>(0,pF.alwaysValidSchema)(o,r[_]));if(a.length===0||l.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;const u=s.strictSchema&&!s.allowMatchingProperties&&i.properties,f=t.name("valid");o.props!==!0&&!(o.props instanceof fy.Name)&&(o.props=(0,mF.evaluatedPropsToName)(t,o.props));const{props:c}=o;p();function p(){for(const _ of a)u&&m(_),o.allErrors?g(_):(t.var(f,!0),g(_),t.if(f))}function m(_){for(const v in u)new RegExp(_).test(v)&&(0,pF.checkStrictMode)(o,`property ${v} matches pattern ${_} (use allowMatchingProperties)`)}function g(_){t.forIn("key",n,v=>{t.if((0,fy._)`${(0,hF.usePattern)(e,_)}.test(${v})`,()=>{const h=l.includes(_);h||e.subschema({keyword:"patternProperties",schemaProp:_,dataProp:v,dataPropType:mF.Type.Str},f),o.opts.unevaluated&&c!==!0?t.assign((0,fy._)`${c}[${v}]`,!0):!h&&!o.allErrors&&t.if((0,fy.not)(f),()=>t.break())})})}}};Ak.default=Jve;var xk={};Object.defineProperty(xk,"__esModule",{value:!0});const Yve=kt,Xve={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Yve.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};xk.default=Xve;var Ok={};Object.defineProperty(Ok,"__esModule",{value:!0});const Qve=wr,Zve={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Qve.validateUnion,error:{message:"must match a schema in anyOf"}};Ok.default=Zve;var Pk={};Object.defineProperty(Pk,"__esModule",{value:!0});const Yw=lr,eye=kt,tye={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Yw._)`{passingSchemas: ${e.passing}}`},rye={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:tye,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const o=r,s=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(s,()=>e.reset(),()=>e.error(!0));function u(){o.forEach((f,c)=>{let p;(0,eye.alwaysValidSchema)(i,f)?t.var(l,!0):p=e.subschema({keyword:"oneOf",schemaProp:c,compositeRule:!0},l),c>0&&t.if((0,Yw._)`${l} && ${s}`).assign(s,!1).assign(a,(0,Yw._)`[${a}, ${c}]`).else(),t.if(l,()=>{t.assign(s,!0),t.assign(a,c),p&&e.mergeEvaluated(p,Yw.Name)})})}}};Pk.default=rye;var Rk={};Object.defineProperty(Rk,"__esModule",{value:!0});const nye=kt,iye={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((o,s)=>{if((0,nye.alwaysValidSchema)(n,o))return;const a=e.subschema({keyword:"allOf",schemaProp:s},i);e.ok(i),e.mergeEvaluated(a)})}};Rk.default=iye;var Nk={};Object.defineProperty(Nk,"__esModule",{value:!0});const y_=lr,SG=kt,oye={message:({params:e})=>(0,y_.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,y_._)`{failingKeyword: ${e.ifClause}}`},sye={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:oye,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,SG.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=gF(n,"then"),o=gF(n,"else");if(!i&&!o)return;const s=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&o){const f=t.let("ifClause");e.setParams({ifClause:f}),t.if(a,u("then",f),u("else",f))}else i?t.if(a,u("then")):t.if((0,y_.not)(a),u("else"));e.pass(s,()=>e.error(!0));function l(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(f)}function u(f,c){return()=>{const p=e.subschema({keyword:f},a);t.assign(s,a),e.mergeValidEvaluated(p,s),c?t.assign(c,(0,y_._)`${f}`):e.setParams({ifClause:f})}}}};function gF(e,t){const r=e.schema[t];return r!==void 0&&!(0,SG.alwaysValidSchema)(e,r)}Nk.default=sye;var Ik={};Object.defineProperty(Ik,"__esModule",{value:!0});const aye=kt,lye={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,aye.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Ik.default=lye;Object.defineProperty(bk,"__esModule",{value:!0});const uye=Jh,cye=_k,fye=Yh,dye=Ek,hye=Sk,pye=_G,mye=$k,gye=WE,vye=Tk,yye=Ak,wye=xk,bye=Ok,_ye=Pk,Eye=Rk,Sye=Nk,$ye=Ik;function Tye(e=!1){const t=[wye.default,bye.default,_ye.default,Eye.default,Sye.default,$ye.default,mye.default,gye.default,pye.default,vye.default,yye.default];return e?t.push(cye.default,dye.default):t.push(uye.default,fye.default),t.push(hye.default),t}bk.default=Tye;var kk={},Ck={};Object.defineProperty(Ck,"__esModule",{value:!0});const Un=lr,Aye={message:({schemaCode:e})=>(0,Un.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Un._)`{format: ${e}}`},xye={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Aye,code(e,t){const{gen:r,data:n,$data:i,schema:o,schemaCode:s,it:a}=e,{opts:l,errSchemaPath:u,schemaEnv:f,self:c}=a;if(!l.validateFormats)return;i?p():m();function p(){const g=r.scopeValue("formats",{ref:c.formats,code:l.code.formats}),_=r.const("fDef",(0,Un._)`${g}[${s}]`),v=r.let("fType"),h=r.let("format");r.if((0,Un._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>r.assign(v,(0,Un._)`${_}.type || "string"`).assign(h,(0,Un._)`${_}.validate`),()=>r.assign(v,(0,Un._)`"string"`).assign(h,_)),e.fail$data((0,Un.or)(E(),y()));function E(){return l.strictSchema===!1?Un.nil:(0,Un._)`${s} && !${h}`}function y(){const S=f.$async?(0,Un._)`(${_}.async ? await ${h}(${n}) : ${h}(${n}))`:(0,Un._)`${h}(${n})`,$=(0,Un._)`(typeof ${h} == "function" ? ${S} : ${h}.test(${n}))`;return(0,Un._)`${h} && ${h} !== true && ${v} === ${t} && !${$}`}}function m(){const g=c.formats[o];if(!g){E();return}if(g===!0)return;const[_,v,h]=y(g);_===t&&e.pass(S());function E(){if(l.strictSchema===!1){c.logger.warn($());return}throw new Error($());function $(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function y($){const T=$ instanceof RegExp?(0,Un.regexpCode)($):l.code.formats?(0,Un._)`${l.code.formats}${(0,Un.getProperty)(o)}`:void 0,d=r.scopeValue("formats",{key:o,ref:$,code:T});return typeof $=="object"&&!($ instanceof RegExp)?[$.type||"string",$.validate,(0,Un._)`${d}.validate`]:["string",$,d]}function S(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!f.$async)throw new Error("async format in sync schema");return(0,Un._)`await ${h}(${n})`}return typeof v=="function"?(0,Un._)`${h}(${n})`:(0,Un._)`${h}.test(${n})`}}}};Ck.default=xye;Object.defineProperty(kk,"__esModule",{value:!0});const Oye=Ck,Pye=[Oye.default];kk.default=Pye;var kh={};Object.defineProperty(kh,"__esModule",{value:!0});kh.contentVocabulary=kh.metadataVocabulary=void 0;kh.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];kh.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(ok,"__esModule",{value:!0});const Rye=sk,Nye=lk,Iye=bk,kye=kk,vF=kh,Cye=[Rye.default,Nye.default,(0,Iye.default)(),kye.default,vF.metadataVocabulary,vF.contentVocabulary];ok.default=Cye;var jk={},GE={};Object.defineProperty(GE,"__esModule",{value:!0});GE.DiscrError=void 0;var yF;(function(e){e.Tag="tag",e.Mapping="mapping"})(yF||(GE.DiscrError=yF={}));Object.defineProperty(jk,"__esModule",{value:!0});const Id=lr,oP=GE,wF=_o,jye=Kh,Dye=kt,Mye={message:({params:{discrError:e,tagName:t}})=>e===oP.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Id._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Lye={keyword:"discriminator",type:"object",schemaType:"object",error:Mye,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:o}=e,{oneOf:s}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,Id._)`${r}${(0,Id.getProperty)(a)}`);t.if((0,Id._)`typeof ${u} == "string"`,()=>f(),()=>e.error(!1,{discrError:oP.DiscrError.Tag,tag:u,tagName:a})),e.ok(l);function f(){const m=p();t.if(!1);for(const g in m)t.elseIf((0,Id._)`${u} === ${g}`),t.assign(l,c(m[g]));t.else(),e.error(!1,{discrError:oP.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function c(m){const g=t.name("valid"),_=e.subschema({keyword:"oneOf",schemaProp:m},g);return e.mergeEvaluated(_,Id.Name),g}function p(){var m;const g={},_=h(i);let v=!0;for(let S=0;S<s.length;S++){let $=s[S];if($!=null&&$.$ref&&!(0,Dye.schemaHasRulesButRef)($,o.self.RULES)){const d=$.$ref;if($=wF.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,d),$ instanceof wF.SchemaEnv&&($=$.schema),$===void 0)throw new jye.default(o.opts.uriResolver,o.baseId,d)}const T=(m=$==null?void 0:$.properties)===null||m===void 0?void 0:m[a];if(typeof T!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(_||h($)),E(T,S)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return g;function h({required:S}){return Array.isArray(S)&&S.includes(a)}function E(S,$){if(S.const)y(S.const,$);else if(S.enum)for(const T of S.enum)y(T,$);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function y(S,$){if(typeof S!="string"||S in g)throw new Error(`discriminator: "${a}" values must be unique strings`);g[S]=$}}}};jk.default=Lye;const Fye="http://json-schema.org/draft-07/schema#",Bye="http://json-schema.org/draft-07/schema#",Uye="Core schema meta-schema",zye={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},qye=["object","boolean"],Vye={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Hye={$schema:Fye,$id:Bye,title:Uye,definitions:zye,type:qye,properties:Vye,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=OW,n=ok,i=jk,o=Hye,s=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(g,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=aa;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=lr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=qg;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return c.default}});var p=Kh;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return p.default}})})(QO,QO.exports);var Wye=QO.exports,bF={exports:{}},$G={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(D,F){return{validate:D,compare:F}}e.fullFormats={date:t(o,s),time:t(l(!0),u),"date-time":t(p(!0),m),"iso-time":t(l(),f),"iso-date-time":t(p(),g),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:h,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:O,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:T},int64:{type:"number",validate:d},float:{type:"number",validate:A},double:{type:"number",validate:A},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,g),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(D){return D%4===0&&(D%100!==0||D%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(D){const F=n.exec(D);if(!F)return!1;const V=+F[1],Q=+F[2],H=+F[3];return Q>=1&&Q<=12&&H>=1&&H<=(Q===2&&r(V)?29:i[Q])}function s(D,F){if(D&&F)return D>F?1:D<F?-1:0}const a=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(D){return function(V){const Q=a.exec(V);if(!Q)return!1;const H=+Q[1],X=+Q[2],fe=+Q[3],Z=Q[4],ne=Q[5]==="-"?-1:1,C=+(Q[6]||0),B=+(Q[7]||0);if(C>23||B>59||D&&!Z)return!1;if(H<=23&&X<=59&&fe<60)return!0;const K=X-B*ne,P=H-C*ne-(K<0?1:0);return(P===23||P===-1)&&(K===59||K===-1)&&fe<61}}function u(D,F){if(!(D&&F))return;const V=new Date("2020-01-01T"+D).valueOf(),Q=new Date("2020-01-01T"+F).valueOf();if(V&&Q)return V-Q}function f(D,F){if(!(D&&F))return;const V=a.exec(D),Q=a.exec(F);if(V&&Q)return D=V[1]+V[2]+V[3],F=Q[1]+Q[2]+Q[3],D>F?1:D<F?-1:0}const c=/t|\s/i;function p(D){const F=l(D);return function(Q){const H=Q.split(c);return H.length===2&&o(H[0])&&F(H[1])}}function m(D,F){if(!(D&&F))return;const V=new Date(D).valueOf(),Q=new Date(F).valueOf();if(V&&Q)return V-Q}function g(D,F){if(!(D&&F))return;const[V,Q]=D.split(c),[H,X]=F.split(c),fe=s(V,H);if(fe!==void 0)return fe||u(Q,X)}const _=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function h(D){return _.test(D)&&v.test(D)}const E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(D){return E.lastIndex=0,E.test(D)}const S=-2147483648,$=2**31-1;function T(D){return Number.isInteger(D)&&D<=$&&D>=S}function d(D){return Number.isInteger(D)}function A(){return!0}const x=/[^\\]\\Z/;function O(D){if(x.test(D))return!1;try{return new RegExp(D),!0}catch{return!1}}})($G);var TG={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=Wye,r=lr,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:a,schemaCode:l})=>(0,r.str)`should be ${i[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>(0,r._)`{comparison: ${i[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(a){const{gen:l,data:u,schemaCode:f,keyword:c,it:p}=a,{opts:m,self:g}=p;if(!m.validateFormats)return;const _=new t.KeywordCxt(p,g.RULES.all.format.definition,"format");_.$data?v():h();function v(){const y=l.scopeValue("formats",{ref:g.formats,code:m.code.formats}),S=l.const("fmt",(0,r._)`${y}[${_.schemaCode}]`);a.fail$data((0,r.or)((0,r._)`typeof ${S} != "object"`,(0,r._)`${S} instanceof RegExp`,(0,r._)`typeof ${S}.compare != "function"`,E(S)))}function h(){const y=_.schema,S=g.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const $=l.scopeValue("formats",{key:y,ref:S,code:m.code.formats?(0,r._)`${m.code.formats}${(0,r.getProperty)(y)}`:void 0});a.fail$data(E($))}function E(y){return(0,r._)`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};const s=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=s})(TG);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=$G,n=TG,i=lr,o=new i.Name("fullFormats"),s=new i.Name("fastFormats"),a=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,p]=f.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,o],m=f.formats||r.formatNames;return l(u,m,c,p),f.keywords&&(0,n.default)(u),u};a.get=(u,f="full")=>{const p=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!p)throw new Error(`Unknown format "${u}"`);return p};function l(u,f,c,p){var m,g;(m=(g=u.opts.code).formats)!==null&&m!==void 0||(g.formats=(0,i._)`require("ajv-formats/dist/formats").${p}`);for(const _ of f)u.addFormat(_,c[_])}e.exports=t=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a})(bF,bF.exports);var Gye={exports:{}},sP={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(xs,function(r){function n(){for(var he=arguments.length,ue=Array(he),we=0;we<he;we++)ue[we]=arguments[we];if(ue.length>1){ue[0]=ue[0].slice(0,-1);for(var xe=ue.length-1,Ae=1;Ae<xe;++Ae)ue[Ae]=ue[Ae].slice(1,-1);return ue[xe]=ue[xe].slice(1),ue.join("")}else return ue[0]}function i(he){return"(?:"+he+")"}function o(he){return he===void 0?"undefined":he===null?"null":Object.prototype.toString.call(he).split(" ").pop().split("]").shift().toLowerCase()}function s(he){return he.toUpperCase()}function a(he){return he!=null?he instanceof Array?he:typeof he.length!="number"||he.split||he.setInterval||he.call?[he]:Array.prototype.slice.call(he):[]}function l(he,ue){var we=he;if(ue)for(var xe in ue)we[xe]=ue[xe];return we}function u(he){var ue="[A-Za-z]",we="[0-9]",xe=n(we,"[A-Fa-f]"),Ae=i(i("%[EFef]"+xe+"%"+xe+xe+"%"+xe+xe)+"|"+i("%[89A-Fa-f]"+xe+"%"+xe+xe)+"|"+i("%"+xe+xe)),tt="[\\:\\/\\?\\#\\[\\]\\@]",st="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",xt=n(tt,st),It=he?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",jt=he?"[\\uE000-\\uF8FF]":"[]",$t=n(ue,we,"[\\-\\.\\_\\~]",It);i(ue+n(ue,we,"[\\+\\-\\.]")+"*"),i(i(Ae+"|"+n($t,st,"[\\:]"))+"*");var Rt=i(i("25[0-5]")+"|"+i("2[0-4]"+we)+"|"+i("1"+we+we)+"|"+i("0?[1-9]"+we)+"|0?0?"+we),Gt=i(Rt+"\\."+Rt+"\\."+Rt+"\\."+Rt),wt=i(xe+"{1,4}"),Tt=i(i(wt+"\\:"+wt)+"|"+Gt),Dt=i(i(wt+"\\:")+"{6}"+Tt),Ft=i("\\:\\:"+i(wt+"\\:")+"{5}"+Tt),Kr=i(i(wt)+"?\\:\\:"+i(wt+"\\:")+"{4}"+Tt),Qr=i(i(i(wt+"\\:")+"{0,1}"+wt)+"?\\:\\:"+i(wt+"\\:")+"{3}"+Tt),kr=i(i(i(wt+"\\:")+"{0,2}"+wt)+"?\\:\\:"+i(wt+"\\:")+"{2}"+Tt),Fn=i(i(i(wt+"\\:")+"{0,3}"+wt)+"?\\:\\:"+wt+"\\:"+Tt),Hn=i(i(i(wt+"\\:")+"{0,4}"+wt)+"?\\:\\:"+Tt),Cr=i(i(i(wt+"\\:")+"{0,5}"+wt)+"?\\:\\:"+wt),Zr=i(i(i(wt+"\\:")+"{0,6}"+wt)+"?\\:\\:"),Qn=i([Dt,Ft,Kr,Qr,kr,Fn,Hn,Cr,Zr].join("|")),pn=i(i($t+"|"+Ae)+"+");i("[vV]"+xe+"+\\."+n($t,st,"[\\:]")+"+"),i(i(Ae+"|"+n($t,st))+"*");var hi=i(Ae+"|"+n($t,st,"[\\:\\@]"));return i(i(Ae+"|"+n($t,st,"[\\@]"))+"+"),i(i(hi+"|"+n("[\\/\\?]",jt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",ue,we,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",$t,st),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",$t,st),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",$t,st),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",$t,st),"g"),NOT_QUERY:new RegExp(n("[^\\%]",$t,st,"[\\:\\@\\/\\?]",jt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",$t,st,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",$t,st),"g"),UNRESERVED:new RegExp($t,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",$t,xt),"g"),PCT_ENCODED:new RegExp(Ae,"g"),IPV4ADDRESS:new RegExp("^("+Gt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Qn+")"+i(i("\\%25|\\%(?!"+xe+"{2})")+"("+pn+")")+"?\\]?$")}}var f=u(!1),c=u(!0),p=function(){function he(ue,we){var xe=[],Ae=!0,tt=!1,st=void 0;try{for(var xt=ue[Symbol.iterator](),It;!(Ae=(It=xt.next()).done)&&(xe.push(It.value),!(we&&xe.length===we));Ae=!0);}catch(jt){tt=!0,st=jt}finally{try{!Ae&&xt.return&&xt.return()}finally{if(tt)throw st}}return xe}return function(ue,we){if(Array.isArray(ue))return ue;if(Symbol.iterator in Object(ue))return he(ue,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(he){if(Array.isArray(he)){for(var ue=0,we=Array(he.length);ue<he.length;ue++)we[ue]=he[ue];return we}else return Array.from(he)},g=2147483647,_=36,v=1,h=26,E=38,y=700,S=72,$=128,T="-",d=/^xn--/,A=/[^\0-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=_-v,F=Math.floor,V=String.fromCharCode;function Q(he){throw new RangeError(O[he])}function H(he,ue){for(var we=[],xe=he.length;xe--;)we[xe]=ue(he[xe]);return we}function X(he,ue){var we=he.split("@"),xe="";we.length>1&&(xe=we[0]+"@",he=we[1]),he=he.replace(x,".");var Ae=he.split("."),tt=H(Ae,ue).join(".");return xe+tt}function fe(he){for(var ue=[],we=0,xe=he.length;we<xe;){var Ae=he.charCodeAt(we++);if(Ae>=55296&&Ae<=56319&&we<xe){var tt=he.charCodeAt(we++);(tt&64512)==56320?ue.push(((Ae&1023)<<10)+(tt&1023)+65536):(ue.push(Ae),we--)}else ue.push(Ae)}return ue}var Z=function(ue){return String.fromCodePoint.apply(String,m(ue))},ne=function(ue){return ue-48<10?ue-22:ue-65<26?ue-65:ue-97<26?ue-97:_},C=function(ue,we){return ue+22+75*(ue<26)-((we!=0)<<5)},B=function(ue,we,xe){var Ae=0;for(ue=xe?F(ue/y):ue>>1,ue+=F(ue/we);ue>D*h>>1;Ae+=_)ue=F(ue/D);return F(Ae+(D+1)*ue/(ue+E))},K=function(ue){var we=[],xe=ue.length,Ae=0,tt=$,st=S,xt=ue.lastIndexOf(T);xt<0&&(xt=0);for(var It=0;It<xt;++It)ue.charCodeAt(It)>=128&&Q("not-basic"),we.push(ue.charCodeAt(It));for(var jt=xt>0?xt+1:0;jt<xe;){for(var $t=Ae,Rt=1,Gt=_;;Gt+=_){jt>=xe&&Q("invalid-input");var wt=ne(ue.charCodeAt(jt++));(wt>=_||wt>F((g-Ae)/Rt))&&Q("overflow"),Ae+=wt*Rt;var Tt=Gt<=st?v:Gt>=st+h?h:Gt-st;if(wt<Tt)break;var Dt=_-Tt;Rt>F(g/Dt)&&Q("overflow"),Rt*=Dt}var Ft=we.length+1;st=B(Ae-$t,Ft,$t==0),F(Ae/Ft)>g-tt&&Q("overflow"),tt+=F(Ae/Ft),Ae%=Ft,we.splice(Ae++,0,tt)}return String.fromCodePoint.apply(String,we)},P=function(ue){var we=[];ue=fe(ue);var xe=ue.length,Ae=$,tt=0,st=S,xt=!0,It=!1,jt=void 0;try{for(var $t=ue[Symbol.iterator](),Rt;!(xt=(Rt=$t.next()).done);xt=!0){var Gt=Rt.value;Gt<128&&we.push(V(Gt))}}catch(Bn){It=!0,jt=Bn}finally{try{!xt&&$t.return&&$t.return()}finally{if(It)throw jt}}var wt=we.length,Tt=wt;for(wt&&we.push(T);Tt<xe;){var Dt=g,Ft=!0,Kr=!1,Qr=void 0;try{for(var kr=ue[Symbol.iterator](),Fn;!(Ft=(Fn=kr.next()).done);Ft=!0){var Hn=Fn.value;Hn>=Ae&&Hn<Dt&&(Dt=Hn)}}catch(Bn){Kr=!0,Qr=Bn}finally{try{!Ft&&kr.return&&kr.return()}finally{if(Kr)throw Qr}}var Cr=Tt+1;Dt-Ae>F((g-tt)/Cr)&&Q("overflow"),tt+=(Dt-Ae)*Cr,Ae=Dt;var Zr=!0,Qn=!1,pn=void 0;try{for(var hi=ue[Symbol.iterator](),ns;!(Zr=(ns=hi.next()).done);Zr=!0){var is=ns.value;if(is<Ae&&++tt>g&&Q("overflow"),is==Ae){for(var jr=tt,_n=_;;_n+=_){var pi=_n<=st?v:_n>=st+h?h:_n-st;if(jr<pi)break;var va=jr-pi,os=_-pi;we.push(V(C(pi+va%os,0))),jr=F(va/os)}we.push(V(C(jr,0))),st=B(tt,Cr,Tt==wt),tt=0,++Tt}}}catch(Bn){Qn=!0,pn=Bn}finally{try{!Zr&&hi.return&&hi.return()}finally{if(Qn)throw pn}}++tt,++Ae}return we.join("")},I=function(ue){return X(ue,function(we){return d.test(we)?K(we.slice(4).toLowerCase()):we})},q=function(ue){return X(ue,function(we){return A.test(we)?"xn--"+P(we):we})},ie={version:"2.1.0",ucs2:{decode:fe,encode:Z},decode:K,encode:P,toASCII:q,toUnicode:I},J={};function Y(he){var ue=he.charCodeAt(0),we=void 0;return ue<16?we="%0"+ue.toString(16).toUpperCase():ue<128?we="%"+ue.toString(16).toUpperCase():ue<2048?we="%"+(ue>>6|192).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase():we="%"+(ue>>12|224).toString(16).toUpperCase()+"%"+(ue>>6&63|128).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase(),we}function se(he){for(var ue="",we=0,xe=he.length;we<xe;){var Ae=parseInt(he.substr(we+1,2),16);if(Ae<128)ue+=String.fromCharCode(Ae),we+=3;else if(Ae>=194&&Ae<224){if(xe-we>=6){var tt=parseInt(he.substr(we+4,2),16);ue+=String.fromCharCode((Ae&31)<<6|tt&63)}else ue+=he.substr(we,6);we+=6}else if(Ae>=224){if(xe-we>=9){var st=parseInt(he.substr(we+4,2),16),xt=parseInt(he.substr(we+7,2),16);ue+=String.fromCharCode((Ae&15)<<12|(st&63)<<6|xt&63)}else ue+=he.substr(we,9);we+=9}else ue+=he.substr(we,3),we+=3}return ue}function be(he,ue){function we(xe){var Ae=se(xe);return Ae.match(ue.UNRESERVED)?Ae:xe}return he.scheme&&(he.scheme=String(he.scheme).replace(ue.PCT_ENCODED,we).toLowerCase().replace(ue.NOT_SCHEME,"")),he.userinfo!==void 0&&(he.userinfo=String(he.userinfo).replace(ue.PCT_ENCODED,we).replace(ue.NOT_USERINFO,Y).replace(ue.PCT_ENCODED,s)),he.host!==void 0&&(he.host=String(he.host).replace(ue.PCT_ENCODED,we).toLowerCase().replace(ue.NOT_HOST,Y).replace(ue.PCT_ENCODED,s)),he.path!==void 0&&(he.path=String(he.path).replace(ue.PCT_ENCODED,we).replace(he.scheme?ue.NOT_PATH:ue.NOT_PATH_NOSCHEME,Y).replace(ue.PCT_ENCODED,s)),he.query!==void 0&&(he.query=String(he.query).replace(ue.PCT_ENCODED,we).replace(ue.NOT_QUERY,Y).replace(ue.PCT_ENCODED,s)),he.fragment!==void 0&&(he.fragment=String(he.fragment).replace(ue.PCT_ENCODED,we).replace(ue.NOT_FRAGMENT,Y).replace(ue.PCT_ENCODED,s)),he}function Pe(he){return he.replace(/^0*(.*)/,"$1")||"0"}function R(he,ue){var we=he.match(ue.IPV4ADDRESS)||[],xe=p(we,2),Ae=xe[1];return Ae?Ae.split(".").map(Pe).join("."):he}function j(he,ue){var we=he.match(ue.IPV6ADDRESS)||[],xe=p(we,3),Ae=xe[1],tt=xe[2];if(Ae){for(var st=Ae.toLowerCase().split("::").reverse(),xt=p(st,2),It=xt[0],jt=xt[1],$t=jt?jt.split(":").map(Pe):[],Rt=It.split(":").map(Pe),Gt=ue.IPV4ADDRESS.test(Rt[Rt.length-1]),wt=Gt?7:8,Tt=Rt.length-wt,Dt=Array(wt),Ft=0;Ft<wt;++Ft)Dt[Ft]=$t[Ft]||Rt[Tt+Ft]||"";Gt&&(Dt[wt-1]=R(Dt[wt-1],ue));var Kr=Dt.reduce(function(Cr,Zr,Qn){if(!Zr||Zr==="0"){var pn=Cr[Cr.length-1];pn&&pn.index+pn.length===Qn?pn.length++:Cr.push({index:Qn,length:1})}return Cr},[]),Qr=Kr.sort(function(Cr,Zr){return Zr.length-Cr.length})[0],kr=void 0;if(Qr&&Qr.length>1){var Fn=Dt.slice(0,Qr.index),Hn=Dt.slice(Qr.index+Qr.length);kr=Fn.join(":")+"::"+Hn.join(":")}else kr=Dt.join(":");return tt&&(kr+="%"+tt),kr}else return he}var M=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,G="".match(/(){0}/)[1]===void 0;function oe(he){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we={},xe=ue.iri!==!1?c:f;ue.reference==="suffix"&&(he=(ue.scheme?ue.scheme+":":"")+"//"+he);var Ae=he.match(M);if(Ae){G?(we.scheme=Ae[1],we.userinfo=Ae[3],we.host=Ae[4],we.port=parseInt(Ae[5],10),we.path=Ae[6]||"",we.query=Ae[7],we.fragment=Ae[8],isNaN(we.port)&&(we.port=Ae[5])):(we.scheme=Ae[1]||void 0,we.userinfo=he.indexOf("@")!==-1?Ae[3]:void 0,we.host=he.indexOf("//")!==-1?Ae[4]:void 0,we.port=parseInt(Ae[5],10),we.path=Ae[6]||"",we.query=he.indexOf("?")!==-1?Ae[7]:void 0,we.fragment=he.indexOf("#")!==-1?Ae[8]:void 0,isNaN(we.port)&&(we.port=he.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Ae[4]:void 0)),we.host&&(we.host=j(R(we.host,xe),xe)),we.scheme===void 0&&we.userinfo===void 0&&we.host===void 0&&we.port===void 0&&!we.path&&we.query===void 0?we.reference="same-document":we.scheme===void 0?we.reference="relative":we.fragment===void 0?we.reference="absolute":we.reference="uri",ue.reference&&ue.reference!=="suffix"&&ue.reference!==we.reference&&(we.error=we.error||"URI is not a "+ue.reference+" reference.");var tt=J[(ue.scheme||we.scheme||"").toLowerCase()];if(!ue.unicodeSupport&&(!tt||!tt.unicodeSupport)){if(we.host&&(ue.domainHost||tt&&tt.domainHost))try{we.host=ie.toASCII(we.host.replace(xe.PCT_ENCODED,se).toLowerCase())}catch(st){we.error=we.error||"Host's domain name can not be converted to ASCII via punycode: "+st}be(we,f)}else be(we,xe);tt&&tt.parse&&tt.parse(we,ue)}else we.error=we.error||"URI can not be parsed.";return we}function ce(he,ue){var we=ue.iri!==!1?c:f,xe=[];return he.userinfo!==void 0&&(xe.push(he.userinfo),xe.push("@")),he.host!==void 0&&xe.push(j(R(String(he.host),we),we).replace(we.IPV6ADDRESS,function(Ae,tt,st){return"["+tt+(st?"%25"+st:"")+"]"})),(typeof he.port=="number"||typeof he.port=="string")&&(xe.push(":"),xe.push(String(he.port))),xe.length?xe.join(""):void 0}var de=/^\.\.?\//,ve=/^\/\.(\/|$)/,Ie=/^\/\.\.(\/|$)/,Be=/^\/?(?:.|\n)*?(?=\/|$)/;function De(he){for(var ue=[];he.length;)if(he.match(de))he=he.replace(de,"");else if(he.match(ve))he=he.replace(ve,"/");else if(he.match(Ie))he=he.replace(Ie,"/"),ue.pop();else if(he==="."||he==="..")he="";else{var we=he.match(Be);if(we){var xe=we[0];he=he.slice(xe.length),ue.push(xe)}else throw new Error("Unexpected dot segment condition")}return ue.join("")}function nt(he){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=ue.iri?c:f,xe=[],Ae=J[(ue.scheme||he.scheme||"").toLowerCase()];if(Ae&&Ae.serialize&&Ae.serialize(he,ue),he.host&&!we.IPV6ADDRESS.test(he.host)){if(ue.domainHost||Ae&&Ae.domainHost)try{he.host=ue.iri?ie.toUnicode(he.host):ie.toASCII(he.host.replace(we.PCT_ENCODED,se).toLowerCase())}catch(xt){he.error=he.error||"Host's domain name can not be converted to "+(ue.iri?"Unicode":"ASCII")+" via punycode: "+xt}}be(he,we),ue.reference!=="suffix"&&he.scheme&&(xe.push(he.scheme),xe.push(":"));var tt=ce(he,ue);if(tt!==void 0&&(ue.reference!=="suffix"&&xe.push("//"),xe.push(tt),he.path&&he.path.charAt(0)!=="/"&&xe.push("/")),he.path!==void 0){var st=he.path;!ue.absolutePath&&(!Ae||!Ae.absolutePath)&&(st=De(st)),tt===void 0&&(st=st.replace(/^\/\//,"/%2F")),xe.push(st)}return he.query!==void 0&&(xe.push("?"),xe.push(he.query)),he.fragment!==void 0&&(xe.push("#"),xe.push(he.fragment)),xe.join("")}function We(he,ue){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},xe=arguments[3],Ae={};return xe||(he=oe(nt(he,we),we),ue=oe(nt(ue,we),we)),we=we||{},!we.tolerant&&ue.scheme?(Ae.scheme=ue.scheme,Ae.userinfo=ue.userinfo,Ae.host=ue.host,Ae.port=ue.port,Ae.path=De(ue.path||""),Ae.query=ue.query):(ue.userinfo!==void 0||ue.host!==void 0||ue.port!==void 0?(Ae.userinfo=ue.userinfo,Ae.host=ue.host,Ae.port=ue.port,Ae.path=De(ue.path||""),Ae.query=ue.query):(ue.path?(ue.path.charAt(0)==="/"?Ae.path=De(ue.path):((he.userinfo!==void 0||he.host!==void 0||he.port!==void 0)&&!he.path?Ae.path="/"+ue.path:he.path?Ae.path=he.path.slice(0,he.path.lastIndexOf("/")+1)+ue.path:Ae.path=ue.path,Ae.path=De(Ae.path)),Ae.query=ue.query):(Ae.path=he.path,ue.query!==void 0?Ae.query=ue.query:Ae.query=he.query),Ae.userinfo=he.userinfo,Ae.host=he.host,Ae.port=he.port),Ae.scheme=he.scheme),Ae.fragment=ue.fragment,Ae}function Ue(he,ue,we){var xe=l({scheme:"null"},we);return nt(We(oe(he,xe),oe(ue,xe),xe,!0),xe)}function W(he,ue){return typeof he=="string"?he=nt(oe(he,ue),ue):o(he)==="object"&&(he=oe(nt(he,ue),ue)),he}function N(he,ue,we){return typeof he=="string"?he=nt(oe(he,we),we):o(he)==="object"&&(he=nt(he,we)),typeof ue=="string"?ue=nt(oe(ue,we),we):o(ue)==="object"&&(ue=nt(ue,we)),he===ue}function L(he,ue){return he&&he.toString().replace(!ue||!ue.iri?f.ESCAPE:c.ESCAPE,Y)}function re(he,ue){return he&&he.toString().replace(!ue||!ue.iri?f.PCT_ENCODED:c.PCT_ENCODED,se)}var ye={scheme:"http",domainHost:!0,parse:function(ue,we){return ue.host||(ue.error=ue.error||"HTTP URIs must have a host."),ue},serialize:function(ue,we){var xe=String(ue.scheme).toLowerCase()==="https";return(ue.port===(xe?443:80)||ue.port==="")&&(ue.port=void 0),ue.path||(ue.path="/"),ue}},Ee={scheme:"https",domainHost:ye.domainHost,parse:ye.parse,serialize:ye.serialize};function je(he){return typeof he.secure=="boolean"?he.secure:String(he.scheme).toLowerCase()==="wss"}var Re={scheme:"ws",domainHost:!0,parse:function(ue,we){var xe=ue;return xe.secure=je(xe),xe.resourceName=(xe.path||"/")+(xe.query?"?"+xe.query:""),xe.path=void 0,xe.query=void 0,xe},serialize:function(ue,we){if((ue.port===(je(ue)?443:80)||ue.port==="")&&(ue.port=void 0),typeof ue.secure=="boolean"&&(ue.scheme=ue.secure?"wss":"ws",ue.secure=void 0),ue.resourceName){var xe=ue.resourceName.split("?"),Ae=p(xe,2),tt=Ae[0],st=Ae[1];ue.path=tt&&tt!=="/"?tt:void 0,ue.query=st,ue.resourceName=void 0}return ue.fragment=void 0,ue}},Le={scheme:"wss",domainHost:Re.domainHost,parse:Re.parse,serialize:Re.serialize},dt={},yt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",lt="[0-9A-Fa-f]",Ct=i(i("%[EFef]"+lt+"%"+lt+lt+"%"+lt+lt)+"|"+i("%[89A-Fa-f]"+lt+"%"+lt+lt)+"|"+i("%"+lt+lt)),Er="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Pr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ir=n(Pr,'[\\"\\\\]'),mr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",cn=new RegExp(yt,"g"),Vt=new RegExp(Ct,"g"),zt=new RegExp(n("[^]",Er,"[\\.]",'[\\"]',ir),"g"),At=new RegExp(n("[^]",yt,mr),"g"),Se=At;function Ne(he){var ue=se(he);return ue.match(cn)?ue:he}var ht={scheme:"mailto",parse:function(ue,we){var xe=ue,Ae=xe.to=xe.path?xe.path.split(","):[];if(xe.path=void 0,xe.query){for(var tt=!1,st={},xt=xe.query.split("&"),It=0,jt=xt.length;It<jt;++It){var $t=xt[It].split("=");switch($t[0]){case"to":for(var Rt=$t[1].split(","),Gt=0,wt=Rt.length;Gt<wt;++Gt)Ae.push(Rt[Gt]);break;case"subject":xe.subject=re($t[1],we);break;case"body":xe.body=re($t[1],we);break;default:tt=!0,st[re($t[0],we)]=re($t[1],we);break}}tt&&(xe.headers=st)}xe.query=void 0;for(var Tt=0,Dt=Ae.length;Tt<Dt;++Tt){var Ft=Ae[Tt].split("@");if(Ft[0]=re(Ft[0]),we.unicodeSupport)Ft[1]=re(Ft[1],we).toLowerCase();else try{Ft[1]=ie.toASCII(re(Ft[1],we).toLowerCase())}catch(Kr){xe.error=xe.error||"Email address's domain name can not be converted to ASCII via punycode: "+Kr}Ae[Tt]=Ft.join("@")}return xe},serialize:function(ue,we){var xe=ue,Ae=a(ue.to);if(Ae){for(var tt=0,st=Ae.length;tt<st;++tt){var xt=String(Ae[tt]),It=xt.lastIndexOf("@"),jt=xt.slice(0,It).replace(Vt,Ne).replace(Vt,s).replace(zt,Y),$t=xt.slice(It+1);try{$t=we.iri?ie.toUnicode($t):ie.toASCII(re($t,we).toLowerCase())}catch(Tt){xe.error=xe.error||"Email address's domain name can not be converted to "+(we.iri?"Unicode":"ASCII")+" via punycode: "+Tt}Ae[tt]=jt+"@"+$t}xe.path=Ae.join(",")}var Rt=ue.headers=ue.headers||{};ue.subject&&(Rt.subject=ue.subject),ue.body&&(Rt.body=ue.body);var Gt=[];for(var wt in Rt)Rt[wt]!==dt[wt]&&Gt.push(wt.replace(Vt,Ne).replace(Vt,s).replace(At,Y)+"="+Rt[wt].replace(Vt,Ne).replace(Vt,s).replace(Se,Y));return Gt.length&&(xe.query=Gt.join("&")),xe}},Ye=/^([^\:]+)\:(.*)/,it={scheme:"urn",parse:function(ue,we){var xe=ue.path&&ue.path.match(Ye),Ae=ue;if(xe){var tt=we.scheme||Ae.scheme||"urn",st=xe[1].toLowerCase(),xt=xe[2],It=tt+":"+(we.nid||st),jt=J[It];Ae.nid=st,Ae.nss=xt,Ae.path=void 0,jt&&(Ae=jt.parse(Ae,we))}else Ae.error=Ae.error||"URN can not be parsed.";return Ae},serialize:function(ue,we){var xe=we.scheme||ue.scheme||"urn",Ae=ue.nid,tt=xe+":"+(we.nid||Ae),st=J[tt];st&&(ue=st.serialize(ue,we));var xt=ue,It=ue.nss;return xt.path=(Ae||we.nid)+":"+It,xt}},Pt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,qt={scheme:"urn:uuid",parse:function(ue,we){var xe=ue;return xe.uuid=xe.nss,xe.nss=void 0,!we.tolerant&&(!xe.uuid||!xe.uuid.match(Pt))&&(xe.error=xe.error||"UUID is not valid."),xe},serialize:function(ue,we){var xe=ue;return xe.nss=(ue.uuid||"").toLowerCase(),xe}};J[ye.scheme]=ye,J[Ee.scheme]=Ee,J[Re.scheme]=Re,J[Le.scheme]=Le,J[ht.scheme]=ht,J[it.scheme]=it,J[qt.scheme]=qt,r.SCHEMES=J,r.pctEncChar=Y,r.pctDecChars=se,r.parse=oe,r.removeDotSegments=De,r.serialize=nt,r.resolveComponents=We,r.resolve=Ue,r.normalize=W,r.equal=N,r.escapeComponent=L,r.unescapeComponent=re,Object.defineProperty(r,"__esModule",{value:!0})})})(sP,sP.exports);var AG=sP.exports,Eo={},xG={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.nearley=r()})(xs,function(){function t(u,f,c){return this.id=++t.highestId,this.name=u,this.symbols=f,this.postprocess=c,this}t.highestId=0,t.prototype.toString=function(u){var f=typeof u>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,u).map(l).join(" ")+" ● "+this.symbols.slice(u).map(l).join(" ");return this.name+" → "+f};function r(u,f,c,p){this.rule=u,this.dot=f,this.reference=c,this.data=[],this.wantedBy=p,this.isComplete=this.dot===u.symbols.length}r.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},r.prototype.nextState=function(u){var f=new r(this.rule,this.dot+1,this.reference,this.wantedBy);return f.left=this,f.right=u,f.isComplete&&(f.data=f.build(),f.right=void 0),f},r.prototype.build=function(){var u=[],f=this;do u.push(f.right.data),f=f.left;while(f.left);return u.reverse(),u},r.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,s.fail))};function n(u,f){this.grammar=u,this.index=f,this.states=[],this.wants={},this.scannable=[],this.completed={}}n.prototype.process=function(u){for(var f=this.states,c=this.wants,p=this.completed,m=0;m<f.length;m++){var g=f[m];if(g.isComplete){if(g.finish(),g.data!==s.fail){for(var _=g.wantedBy,v=_.length;v--;){var h=_[v];this.complete(h,g)}if(g.reference===this.index){var E=g.rule.name;(this.completed[E]=this.completed[E]||[]).push(g)}}}else{var E=g.rule.symbols[g.dot];if(typeof E!="string"){this.scannable.push(g);continue}if(c[E]){if(c[E].push(g),p.hasOwnProperty(E))for(var y=p[E],v=0;v<y.length;v++){var S=y[v];this.complete(g,S)}}else c[E]=[g],this.predict(E)}}},n.prototype.predict=function(u){for(var f=this.grammar.byName[u]||[],c=0;c<f.length;c++){var p=f[c],m=this.wants[u],g=new r(p,0,this.index,m);this.states.push(g)}},n.prototype.complete=function(u,f){var c=u.nextState(f);this.states.push(c)};function i(u,f){this.rules=u,this.start=f||this.rules[0].name;var c=this.byName={};this.rules.forEach(function(p){c.hasOwnProperty(p.name)||(c[p.name]=[]),c[p.name].push(p)})}i.fromCompiled=function(p,f){var c=p.Lexer;p.ParserStart&&(f=p.ParserStart,p=p.ParserRules);var p=p.map(function(g){return new t(g.name,g.symbols,g.postprocess)}),m=new i(p,f);return m.lexer=c,m};function o(){this.reset("")}o.prototype.reset=function(u,f){this.buffer=u,this.index=0,this.line=f?f.line:1,this.lastLineBreak=f?-f.col:0},o.prototype.next=function(){if(this.index<this.buffer.length){var u=this.buffer[this.index++];return u===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:u}}},o.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},o.prototype.formatError=function(u,f){var c=this.buffer;if(typeof c=="string"){var p=c.split(`
`).slice(Math.max(0,this.line-5),this.line),m=c.indexOf(`
`,this.index);m===-1&&(m=c.length);var g=this.index-this.lastLineBreak,_=String(this.line).length;return f+=" at line "+this.line+" col "+g+`:

`,f+=p.map(function(h,E){return v(this.line-p.length+E+1,_)+" "+h},this).join(`
`),f+=`
`+v("",_+g)+`^
`,f}else return f+" at index "+(this.index-1);function v(h,E){var y=String(h);return Array(E-y.length+1).join(" ")+y}};function s(u,f,c){if(u instanceof i)var p=u,c=f;else var p=i.fromCompiled(u,f);this.grammar=p,this.options={keepHistory:!1,lexer:p.lexer||new o};for(var m in c||{})this.options[m]=c[m];this.lexer=this.options.lexer,this.lexerState=void 0;var g=new n(p,0);this.table=[g],g.wants[p.start]=[],g.predict(p.start),g.process(),this.current=0}s.fail={},s.prototype.feed=function(u){var f=this.lexer;f.reset(u,this.lexerState);for(var c;;){try{if(c=f.next(),!c)break}catch(d){var _=new n(this.grammar,this.current+1);this.table.push(_);var p=new Error(this.reportLexerError(d));throw p.offset=this.current,p.token=d.token,p}var m=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var g=this.current+1,_=new n(this.grammar,g);this.table.push(_);for(var v=c.text!==void 0?c.text:c.value,h=f.constructor===o?c.value:c,E=m.scannable,y=E.length;y--;){var S=E[y],$=S.rule.symbols[S.dot];if($.test?$.test(h):$.type?$.type===c.type:$.literal===v){var T=S.nextState({data:h,token:c,isToken:!0,reference:g-1});_.states.push(T)}}if(_.process(),_.states.length===0){var p=new Error(this.reportError(c));throw p.offset=this.current,p.token=c,p}this.options.keepHistory&&(m.lexerState=f.save()),this.current++}return m&&(this.lexerState=f.save()),this.results=this.finish(),this},s.prototype.reportLexerError=function(u){var f,c,p=u.token;return p?(f="input "+JSON.stringify(p.text[0])+" (lexer error)",c=this.lexer.formatError(p,"Syntax error")):(f="input (lexer error)",c=u.message),this.reportErrorCommon(c,f)},s.prototype.reportError=function(u){var f=(u.type?u.type+" token: ":"")+JSON.stringify(u.value!==void 0?u.value:u),c=this.lexer.formatError(u,"Syntax error");return this.reportErrorCommon(c,f)},s.prototype.reportErrorCommon=function(u,f){var c=[];c.push(u);var p=this.table.length-2,m=this.table[p],g=m.states.filter(function(v){var h=v.rule.symbols[v.dot];return h&&typeof h!="string"});if(g.length===0)c.push("Unexpected "+f+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(m.states,c);else{c.push("Unexpected "+f+`. Instead, I was expecting to see one of the following:
`);var _=g.map(function(v){return this.buildFirstStateStack(v,[])||[v]},this);_.forEach(function(v){var h=v[0],E=h.rule.symbols[h.dot],y=this.getSymbolDisplay(E);c.push("A "+y+" based on:"),this.displayStateStack(v,c)},this)}return c.push(""),c.join(`
`)},s.prototype.displayStateStack=function(u,f){for(var c,p=0,m=0;m<u.length;m++){var g=u[m],_=g.rule.toString(g.dot);_===c?p++:(p>0&&f.push("    ^ "+p+" more lines identical to this"),p=0,f.push("    "+_)),c=_}},s.prototype.getSymbolDisplay=function(u){return a(u)},s.prototype.buildFirstStateStack=function(u,f){if(f.indexOf(u)!==-1)return null;if(u.wantedBy.length===0)return[u];var c=u.wantedBy[0],p=[u].concat(f),m=this.buildFirstStateStack(c,p);return m===null?null:[u].concat(m)},s.prototype.save=function(){var u=this.table[this.current];return u.lexerState=this.lexerState,u},s.prototype.restore=function(u){var f=u.index;this.current=f,this.table[f]=u,this.table.splice(f+1),this.lexerState=u.lexerState,this.results=this.finish()},s.prototype.rewind=function(u){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[u])},s.prototype.finish=function(){var u=[],f=this.grammar.start,c=this.table[this.table.length-1];return c.states.forEach(function(p){p.rule.name===f&&p.dot===p.rule.symbols.length&&p.reference===0&&p.data!==s.fail&&u.push(p)}),u.map(function(p){return p.data})};function a(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return"character matching "+u;if(u.type)return u.type+" token";if(u.test)return"token matching "+String(u.test);throw new Error("Unknown symbol type: "+u)}}function l(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return u.toString();if(u.type)return"%"+u.type;if(u.test)return"<"+String(u.test)+">";throw new Error("Unknown symbol type: "+u)}}return{Parser:s,Grammar:i,Rule:t}})})(xG);var Kye=xG.exports,Dk={};Object.defineProperty(Dk,"__esModule",{value:!0});function bi(e){return e[0]}const OG=e=>[].concat(...e.map(t=>Array.isArray(t)?OG(t):t));function Ed(e){return e?Array.isArray(e)?OG(e).join(""):e:""}const Jye={Lexer:void 0,ParserRules:[{name:"Reverse_path",symbols:["Path"]},{name:"Reverse_path$string$1",symbols:[{literal:"<"},{literal:">"}],postprocess:e=>e.join("")},{name:"Reverse_path",symbols:["Reverse_path$string$1"]},{name:"Forward_path$subexpression$1$subexpression$1",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:"@"}],postprocess:function(e){return e.join("")}},{name:"Forward_path$subexpression$1",symbols:["Forward_path$subexpression$1$subexpression$1","Domain",{literal:">"}]},{name:"Forward_path",symbols:["Forward_path$subexpression$1"]},{name:"Forward_path$subexpression$2",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:">"}],postprocess:function(e){return e.join("")}},{name:"Forward_path",symbols:["Forward_path$subexpression$2"]},{name:"Forward_path",symbols:["Path"]},{name:"Path$ebnf$1$subexpression$1",symbols:["A_d_l",{literal:":"}]},{name:"Path$ebnf$1",symbols:["Path$ebnf$1$subexpression$1"],postprocess:bi},{name:"Path$ebnf$1",symbols:[],postprocess:()=>null},{name:"Path",symbols:[{literal:"<"},"Path$ebnf$1","Mailbox",{literal:">"}]},{name:"A_d_l$ebnf$1",symbols:[]},{name:"A_d_l$ebnf$1$subexpression$1",symbols:[{literal:","},"At_domain"]},{name:"A_d_l$ebnf$1",symbols:["A_d_l$ebnf$1","A_d_l$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"A_d_l",symbols:["At_domain","A_d_l$ebnf$1"]},{name:"At_domain",symbols:[{literal:"@"},"Domain"]},{name:"Domain$ebnf$1",symbols:[]},{name:"Domain$ebnf$1$subexpression$1",symbols:[{literal:"."},"sub_domain"]},{name:"Domain$ebnf$1",symbols:["Domain$ebnf$1","Domain$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Domain",symbols:["sub_domain","Domain$ebnf$1"]},{name:"sub_domain",symbols:["U_label"]},{name:"Let_dig",symbols:["ALPHA_DIGIT"],postprocess:bi},{name:"Ldh_str$ebnf$1",symbols:[]},{name:"Ldh_str$ebnf$1",symbols:["Ldh_str$ebnf$1","ALPHA_DIG_DASH"],postprocess:e=>e[0].concat([e[1]])},{name:"Ldh_str",symbols:["Ldh_str$ebnf$1","Let_dig"]},{name:"U_Let_dig",symbols:["ALPHA_DIGIT_U"],postprocess:bi},{name:"U_Ldh_str$ebnf$1",symbols:[]},{name:"U_Ldh_str$ebnf$1",symbols:["U_Ldh_str$ebnf$1","ALPHA_DIG_DASH_U"],postprocess:e=>e[0].concat([e[1]])},{name:"U_Ldh_str",symbols:["U_Ldh_str$ebnf$1","U_Let_dig"]},{name:"U_label$ebnf$1$subexpression$1",symbols:["U_Ldh_str"]},{name:"U_label$ebnf$1",symbols:["U_label$ebnf$1$subexpression$1"],postprocess:bi},{name:"U_label$ebnf$1",symbols:[],postprocess:()=>null},{name:"U_label",symbols:["U_Let_dig","U_label$ebnf$1"]},{name:"address_literal$subexpression$1",symbols:["IPv4_address_literal"]},{name:"address_literal$subexpression$1",symbols:["IPv6_address_literal"]},{name:"address_literal$subexpression$1",symbols:["General_address_literal"]},{name:"address_literal",symbols:[{literal:"["},"address_literal$subexpression$1",{literal:"]"}]},{name:"non_local_part",symbols:["Domain"],postprocess:function(e){return{DomainName:Ed(e[0])}}},{name:"non_local_part",symbols:["address_literal"],postprocess:function(e){return{AddressLiteral:Ed(e[0])}}},{name:"Mailbox",symbols:["Local_part",{literal:"@"},"non_local_part"],postprocess:function(e){return{localPart:Ed(e[0]),domainPart:Ed(e[2])}}},{name:"Local_part",symbols:["Dot_string"],postprocess:function(e){return{DotString:Ed(e[0])}}},{name:"Local_part",symbols:["Quoted_string"],postprocess:function(e){return{QuotedString:Ed(e[0])}}},{name:"Dot_string$ebnf$1",symbols:[]},{name:"Dot_string$ebnf$1$subexpression$1",symbols:[{literal:"."},"Atom"]},{name:"Dot_string$ebnf$1",symbols:["Dot_string$ebnf$1","Dot_string$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Dot_string",symbols:["Atom","Dot_string$ebnf$1"]},{name:"Atom$ebnf$1",symbols:[/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/]},{name:"Atom$ebnf$1",symbols:["Atom$ebnf$1",/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/],postprocess:e=>e[0].concat([e[1]])},{name:"Atom",symbols:["Atom$ebnf$1"]},{name:"Quoted_string$ebnf$1",symbols:[]},{name:"Quoted_string$ebnf$1",symbols:["Quoted_string$ebnf$1","QcontentSMTP"],postprocess:e=>e[0].concat([e[1]])},{name:"Quoted_string",symbols:["DQUOTE","Quoted_string$ebnf$1","DQUOTE"]},{name:"QcontentSMTP",symbols:["qtextSMTP"]},{name:"QcontentSMTP",symbols:["quoted_pairSMTP"]},{name:"quoted_pairSMTP",symbols:[{literal:"\\"},/[\x20-\x7e]/]},{name:"qtextSMTP",symbols:[/[\x20-\x21\x23-\x5b\x5d-\x7e\u0080-\uFFFF]/],postprocess:bi},{name:"IPv4_address_literal$macrocall$2",symbols:[{literal:"."},"Snum"]},{name:"IPv4_address_literal$macrocall$1",symbols:["IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2"]},{name:"IPv4_address_literal",symbols:["Snum","IPv4_address_literal$macrocall$1"]},{name:"IPv6_address_literal$subexpression$1",symbols:[/[iI]/,/[pP]/,/[vV]/,{literal:"6"},{literal:":"}],postprocess:function(e){return e.join("")}},{name:"IPv6_address_literal",symbols:["IPv6_address_literal$subexpression$1","IPv6_addr"]},{name:"General_address_literal$ebnf$1",symbols:["dcontent"]},{name:"General_address_literal$ebnf$1",symbols:["General_address_literal$ebnf$1","dcontent"],postprocess:e=>e[0].concat([e[1]])},{name:"General_address_literal",symbols:["Standardized_tag",{literal:":"},"General_address_literal$ebnf$1"]},{name:"Standardized_tag",symbols:["Ldh_str"]},{name:"dcontent",symbols:[/[\x21-\x5a\x5e-\x7e]/],postprocess:bi},{name:"Snum",symbols:["DIGIT"]},{name:"Snum$subexpression$1",symbols:[/[1-9]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$1"]},{name:"Snum$subexpression$2",symbols:[{literal:"1"},"DIGIT","DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$2"]},{name:"Snum$subexpression$3",symbols:[{literal:"2"},/[0-4]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$3"]},{name:"Snum$subexpression$4",symbols:[{literal:"2"},{literal:"5"},/[0-5]/]},{name:"Snum",symbols:["Snum$subexpression$4"]},{name:"IPv6_addr",symbols:["IPv6_full"]},{name:"IPv6_addr",symbols:["IPv6_comp"]},{name:"IPv6_addr",symbols:["IPv6v4_full"]},{name:"IPv6_addr",symbols:["IPv6v4_comp"]},{name:"IPv6_hex",symbols:["HEXDIG"]},{name:"IPv6_hex$subexpression$1",symbols:["HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$1"]},{name:"IPv6_hex$subexpression$2",symbols:["HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$2"]},{name:"IPv6_hex$subexpression$3",symbols:["HEXDIG","HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$3"]},{name:"IPv6_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_full$macrocall$1",symbols:["IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2"]},{name:"IPv6_full",symbols:["IPv6_hex","IPv6_full$macrocall$1"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$1",symbols:["IPv6_comp$ebnf$1$subexpression$1"],postprocess:bi},{name:"IPv6_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$2$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$2",symbols:["IPv6_comp$ebnf$2$subexpression$1"],postprocess:bi},{name:"IPv6_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6_comp",symbols:["IPv6_comp$ebnf$1","IPv6_comp$string$1","IPv6_comp$ebnf$2"]},{name:"IPv6v4_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_full$macrocall$1",symbols:["IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2"]},{name:"IPv6v4_full",symbols:["IPv6_hex","IPv6v4_full$macrocall$1",{literal:":"},"IPv4_address_literal"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6v4_comp$ebnf$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1"],postprocess:bi},{name:"IPv6v4_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",{literal:":"}]},{name:"IPv6v4_comp$ebnf$2",symbols:["IPv6v4_comp$ebnf$2$subexpression$1"],postprocess:bi},{name:"IPv6v4_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp",symbols:["IPv6v4_comp$ebnf$1","IPv6v4_comp$string$1","IPv6v4_comp$ebnf$2","IPv4_address_literal"]},{name:"DIGIT",symbols:[/[0-9]/],postprocess:bi},{name:"ALPHA_DIGIT_U",symbols:[/[0-9A-Za-z\u0080-\uFFFF]/],postprocess:bi},{name:"ALPHA_DIGIT",symbols:[/[0-9A-Za-z]/],postprocess:bi},{name:"ALPHA_DIG_DASH",symbols:[/[-0-9A-Za-z]/],postprocess:bi},{name:"ALPHA_DIG_DASH_U",symbols:[/[-0-9A-Za-z\u0080-\uFFFF]/],postprocess:bi},{name:"HEXDIG",symbols:[/[0-9A-Fa-f]/],postprocess:bi},{name:"DQUOTE",symbols:[{literal:'"'}],postprocess:bi}],ParserStart:"Reverse_path"};Dk.default=Jye;var Yye=xs&&xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.canonicalize=Eo.canonicalize_quoted_string=Eo.normalize=Eo.normalize_dot_string=Eo.parse=void 0;const PG=Kye,RG=Yye(Dk);RG.default.ParserStart="Mailbox";const Xye=PG.Grammar.fromCompiled(RG.default);function Mk(e){if(e.length>986)throw new Error("address too long");const r=new PG.Parser(Xye);if(r.feed(e),r.results.length!==1)throw new Error("address parsing failed: ambiguous grammar");const n=e.lastIndexOf("@"),i=e.substring(n+1);if(i[0]!=="["){if(i.length>253)throw new Error("domain too long");const o=i.split(".");if(o.length<2)throw new Error("domain not fully qualified");if(o[o.length-1].length<2)throw new Error("top level domain label too short");if(o.sort(function(s,a){return a.length-s.length}),o[0].length>63)throw new Error("domain label too long")}return r.results[0]}Eo.parse=Mk;function NG(e){return function(){const n=e.indexOf("+");return n===-1?e:e.substr(0,n)}().replace(/\./g,"").toLowerCase()}Eo.normalize_dot_string=NG;function Qye(e){var t,r;const n=Mk(e),i=(t=n.domainPart.AddressLiteral)!==null&&t!==void 0?t:n.domainPart.DomainName.toLowerCase();return`${(r=n.localPart.QuotedString)!==null&&r!==void 0?r:NG(n.localPart.DotString)}@${i}`}Eo.normalize=Qye;function IG(e){return`"${e.substr(1).substr(0,e.length-2).replace(/(?:\\(.))/g,"$1").replace(/(?:(["\\]))/g,"\\$1")}"`}Eo.canonicalize_quoted_string=IG;function Zye(e){var t;const r=Mk(e),n=(t=r.domainPart.AddressLiteral)!==null&&t!==void 0?t:r.domainPart.DomainName.toLowerCase();return`${r.localPart.QuotedString?IG(r.localPart.QuotedString):r.localPart.DotString}@${n}`}Eo.canonicalize=Zye;var Xw=Object.prototype.hasOwnProperty,kG=Object.prototype.toString,_F=Object.defineProperty,EF=Object.getOwnPropertyDescriptor,SF=function(t){return typeof Array.isArray=="function"?Array.isArray(t):kG.call(t)==="[object Array]"},$F=function(t){if(!t||kG.call(t)!=="[object Object]")return!1;var r=Xw.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&Xw.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||Xw.call(t,i)},TF=function(t,r){_F&&r.name==="__proto__"?_F(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},AF=function(t,r){if(r==="__proto__")if(Xw.call(t,r)){if(EF)return EF(t,r).value}else return;return t[r]},e0e=function e(){var t,r,n,i,o,s,a=arguments[0],l=1,u=arguments.length,f=!1;for(typeof a=="boolean"&&(f=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(r in t)n=AF(a,r),i=AF(t,r),a!==i&&(f&&i&&($F(i)||(o=SF(i)))?(o?(o=!1,s=n&&SF(n)?n:[]):s=n&&$F(n)?n:{},TF(a,{name:r,newValue:e(f,s,i)})):typeof i<"u"&&TF(a,{name:r,newValue:i}));return a};const t0e=[{scheme:"aaa",description:"Diameter Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6733"}]},{scheme:"aaas",description:"Diameter Protocol with Secure Transport",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6733"}]},{scheme:"about",description:"about",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6694"}]},{scheme:"acap",description:"application configuration access protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2244"}]},{scheme:"acct",description:"acct",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7565"}]},{scheme:"cap",description:"Calendar Access Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4324"}]},{scheme:"cid",description:"content identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2392"}]},{scheme:"coap",description:"coap",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7252"}]},{scheme:"coaps",description:"coaps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7252"}]},{scheme:"crid",description:"TV-Anytime Content Reference Identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4078"}]},{scheme:"data",description:"data",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2397"}]},{scheme:"dav",description:"dav",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4918"}]},{scheme:"dict",description:"dictionary service protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2229"}]},{scheme:"dns",description:"Domain Name System",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4501"}]},{scheme:"example",description:"example",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7595"}]},{scheme:"file",description:"Host-specific file names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"ftp",description:"File Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"geo",description:"Geographic Locations",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5870"}]},{scheme:"go",description:"go",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3368"}]},{scheme:"gopher",description:"The Gopher Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4266"}]},{scheme:"h323",description:"H.323",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3508"}]},{scheme:"http",description:"Hypertext Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7230"}]},{scheme:"https",description:"Hypertext Transfer Protocol Secure",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7230"}]},{scheme:"iax",description:"Inter-Asterisk eXchange Version 2",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5456"}]},{scheme:"icap",description:"Internet Content Adaptation Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3507"}]},{scheme:"im",description:"Instant Messaging",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3860"}]},{scheme:"imap",description:"internet message access protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5092"}]},{scheme:"info",description:`Information Assets with Identifiers in Public Namespaces. 
       (section 3) defines an "info" registry 
        of public namespaces, which is maintained by NISO and can be accessed 
        from .`,reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4452"}]},{scheme:"ipp",description:"Internet Printing Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3510"}]},{scheme:"ipps",description:"Internet Printing Protocol over HTTPS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7472"}]},{scheme:"iris",description:"Internet Registry Information Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3981"}]},{scheme:"iris.beep",description:"iris.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3983"}]},{scheme:"iris.lwz",description:"iris.lwz",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4993"}]},{scheme:"iris.xpc",description:"iris.xpc",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4992"}]},{scheme:"iris.xpcs",description:"iris.xpcs",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4992"}]},{scheme:"jabber",description:"jabber",reference:[],template:"http://www.iana.org/assignments/uri-schemes/perm/jabber"},{scheme:"ldap",description:"Lightweight Directory Access Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4516"}]},{scheme:"mailto",description:"Electronic mail address",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6068"}]},{scheme:"mid",description:"message identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2392"}]},{scheme:"msrp",description:"Message Session Relay Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4975"}]},{scheme:"msrps",description:"Message Session Relay Protocol Secure",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4975"}]},{scheme:"mtqp",description:"Message Tracking Query Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3887"}]},{scheme:"mupdate",description:"Mailbox Update (MUPDATE) Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3656"}]},{scheme:"news",description:"USENET news",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"nfs",description:"network file system protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2224"}]},{scheme:"ni",description:"ni",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6920"}]},{scheme:"nih",description:"nih",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6920"}]},{scheme:"nntp",description:"USENET news using NNTP access",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"opaquelocktoken",description:"opaquelocktokent",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4918"}]},{scheme:"pkcs11",description:"PKCS#11",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7512"}]},{scheme:"pop",description:"Post Office Protocol v3",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2384"}]},{scheme:"pres",description:"Presence",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3859"}]},{scheme:"reload",description:"reload",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6940"}]},{scheme:"rtsp",description:"Real-time Streaming Protocol (RTSP)",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"},{type:"draft",href:"http://www.iana.org/go/RFC-ietf-mmusic-rfc2326bis-40"}]},{scheme:"rtsps",description:"Real-time Streaming Protocol (RTSP) over TLS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"},{type:"draft",href:"http://www.iana.org/go/RFC-ietf-mmusic-rfc2326bis-40"}]},{scheme:"rtspu",description:"Real-time Streaming Protocol (RTSP) over unreliable datagram transport",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"}]},{scheme:"service",description:"service location",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2609"}]},{scheme:"session",description:"session",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6787"}]},{scheme:"shttp",description:"Secure Hypertext Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2660"}]},{scheme:"sieve",description:"ManageSieve Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5804"}]},{scheme:"sip",description:"session initiation protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3261"}]},{scheme:"sips",description:"secure session initiation protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3261"}]},{scheme:"sms",description:"Short Message Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5724"}]},{scheme:"snmp",description:"Simple Network Management Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4088"}]},{scheme:"soap.beep",description:"soap.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4227"}]},{scheme:"soap.beeps",description:"soap.beeps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4227"}]},{scheme:"stun",description:"stun",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7064"}]},{scheme:"stuns",description:"stuns",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7064"}]},{scheme:"tag",description:"tag",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4151"}]},{scheme:"tel",description:"telephone",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"telnet",description:"Reference to interactive sessions",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4248"}]},{scheme:"tftp",description:"Trivial File Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3617"}]},{scheme:"thismessage",description:"multipart/related relative reference resolution",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2557"}],template:"http://www.iana.org/assignments/uri-schemes/perm/thismessage"},{scheme:"tip",description:"Transaction Internet Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2371"}]},{scheme:"tn3270",description:"Interactive 3270 emulation sessions",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6270"}]},{scheme:"turn",description:"turn",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7065"}]},{scheme:"turns",description:"turns",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7065"}]},{scheme:"tv",description:"TV Broadcasts",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2838"}]},{scheme:"urn",description:"Uniform Resource Names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2141"},{type:"registry",href:"http://www.iana.org/assignments/urn-namespaces"}]},{scheme:"vemmi",description:"versatile multimedia interface",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2122"}]},{scheme:"vnc",description:"Remote Framebuffer Protocol",reference:[{type:"draft",href:"http://www.iana.org/go/RFC-warden-appsawg-vnc-scheme-10"}]},{scheme:"ws",description:"WebSocket connections",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6455"}]},{scheme:"wss",description:"Encrypted WebSocket connections",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6455"}]},{scheme:"xcon",description:"xcon",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6501"}]},{scheme:"xcon-userid",description:"xcon-userid",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6501"}]},{scheme:"xmlrpc.beep",description:"xmlrpc.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3529"}]},{scheme:"xmlrpc.beeps",description:"xmlrpc.beeps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3529"}]},{scheme:"xmpp",description:"Extensible Messaging and Presence Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5122"}]},{scheme:"z39.50r",description:"Z39.50 Retrieval",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]},{scheme:"z39.50s",description:"Z39.50 Session",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]}],r0e=[{scheme:"acr",description:"acr",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/acr"},{scheme:"adiumxtra",description:"adiumxtra",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/adiumxtra"},{scheme:"afp",description:"afp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/afp"},{scheme:"afs",description:"Andrew File System global file names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"aim",description:"aim",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/aim"},{scheme:"appdata",description:"appdata",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/appdata"},{scheme:"apt",description:"apt",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/apt"},{scheme:"attachment",description:"attachment",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/attachment"},{scheme:"aw",description:"aw",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/aw"},{scheme:"barion",description:"barion",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/barion"},{scheme:"beshare",description:"beshare",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/beshare"},{scheme:"bitcoin",description:"bitcoin",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/bitcoin"},{scheme:"blob",description:"blob",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/blob"},{scheme:"bolo",description:"bolo",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/bolo"},{scheme:"callto",description:"callto",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/callto"},{scheme:"chrome",description:"chrome",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/chrome"},{scheme:"chrome-extension",description:"chrome-extension",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/chrome-extension"},{scheme:"com-eventbrite-attendee",description:"com-eventbrite-attendee",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/com-eventbrite-attendee"},{scheme:"content",description:"content",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/content"},{scheme:"cvs",description:"cvs",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/cvs"},{scheme:"dis",description:"dis",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dis"},{scheme:"dlna-playcontainer",description:"dlna-playcontainer",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dlna-playcontainer"},{scheme:"dlna-playsingle",description:"dlna-playsingle",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dlna-playsingle"},{scheme:"dntp",description:"dntp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dntp"},{scheme:"dtn",description:"DTNRG research and development",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5050"}]},{scheme:"dvb",description:"dvb",reference:[{type:"draft",href:"http://www.iana.org/go/draft-mcroberts-uri-dvb"}]},{scheme:"ed2k",description:"ed2k",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ed2k"},{scheme:"facetime",description:"facetime",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/facetime"},{scheme:"feed",description:"feed",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/feed"},{scheme:"feedready",description:"feedready",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/feedready"},{scheme:"finger",description:"finger",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/finger"},{scheme:"fish",description:"fish",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/fish"},{scheme:"gg",description:"gg",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gg"},{scheme:"git",description:"git",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/git"},{scheme:"gizmoproject",description:"gizmoproject",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gizmoproject"},{scheme:"gtalk",description:"gtalk",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gtalk"},{scheme:"ham",description:"ham",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7046"}]},{scheme:"hcp",description:"hcp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/hcp"},{scheme:"icon",description:"icon",reference:[{type:"draft",href:"http://www.iana.org/go/draft-lafayette-icon-uri-scheme"}]},{scheme:"iotdisco",description:"iotdisco",reference:[{type:"uri",href:"http://www.iana.org/assignments/uri-schemes/prov/iotdisco.pdf"}],template:"http://www.iana.org/assignments/uri-schemes/prov/iotdisco"},{scheme:"ipn",description:"ipn",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6260"}]},{scheme:"irc",description:"irc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/irc"},{scheme:"irc6",description:"irc6",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/irc6"},{scheme:"ircs",description:"ircs",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ircs"},{scheme:"isostore",description:"isostore",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/isostore"},{scheme:"itms",description:"itms",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/itms"},{scheme:"jar",description:"jar",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/jar"},{scheme:"jms",description:"Java Message Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6167"}]},{scheme:"keyparc",description:"keyparc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/keyparc"},{scheme:"lastfm",description:"lastfm",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/lastfm"},{scheme:"ldaps",description:"ldaps",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ldaps"},{scheme:"magnet",description:"magnet",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/magnet"},{scheme:"maps",description:"maps",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/maps"},{scheme:"market",description:"market",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/market"},{scheme:"message",description:"message",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/message"},{scheme:"mms",description:"mms",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mms"},{scheme:"ms-access",description:"ms-access",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-access"},{scheme:"ms-drive-to",description:"ms-drive-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-drive-to"},{scheme:"ms-enrollment",description:"ms-enrollment",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-enrollment"},{scheme:"ms-excel",description:"ms-excel",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-excel"},{scheme:"ms-getoffice",description:"ms-getoffice",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-getoffice"},{scheme:"ms-help",description:"ms-help",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-help"},{scheme:"ms-infopath",description:"ms-infopath",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-infopath"},{scheme:"ms-media-stream-id",description:"ms-media-stream-id",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-media-stream-id"},{scheme:"ms-powerpoint",description:"ms-powerpoint",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-powerpoint"},{scheme:"ms-project",description:"ms-project",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-project"},{scheme:"ms-publisher",description:"ms-publisher",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-publisher"},{scheme:"ms-search-repair",description:"ms-search-repair",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-search-repair"},{scheme:"ms-secondary-screen-controller",description:"ms-secondary-screen-controller",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-secondary-screen-controller"},{scheme:"ms-secondary-screen-setup",description:"ms-secondary-screen-setup",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-secondary-screen-setup"},{scheme:"ms-settings",description:"ms-settings",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings"},{scheme:"ms-settings-airplanemode",description:"ms-settings-airplanemode",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-airplanemode"},{scheme:"ms-settings-bluetooth",description:"ms-settings-bluetooth",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-bluetooth"},{scheme:"ms-settings-camera",description:"ms-settings-camera",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-camera"},{scheme:"ms-settings-cellular",description:"ms-settings-cellular",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-cellular"},{scheme:"ms-settings-cloudstorage",description:"ms-settings-cloudstorage",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-cloudstorage"},{scheme:"ms-settings-connectabledevices",description:"ms-settings-connectabledevices",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-connectabledevices"},{scheme:"ms-settings-displays-topology",description:"ms-settings-displays-topology",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-displays-topology"},{scheme:"ms-settings-emailandaccounts",description:"ms-settings-emailandaccounts",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-emailandaccounts"},{scheme:"ms-settings-language",description:"ms-settings-language",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-language"},{scheme:"ms-settings-location",description:"ms-settings-location",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-location"},{scheme:"ms-settings-lock",description:"ms-settings-lock",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-lock"},{scheme:"ms-settings-nfctransactions",description:"ms-settings-nfctransactions",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-nfctransactions"},{scheme:"ms-settings-notifications",description:"ms-settings-notifications",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-notifications"},{scheme:"ms-settings-power",description:"ms-settings-power",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-power"},{scheme:"ms-settings-privacy",description:"ms-settings-privacy",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-privacy"},{scheme:"ms-settings-proximity",description:"ms-settings-proximity",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-proximity"},{scheme:"ms-settings-screenrotation",description:"ms-settings-screenrotation",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-screenrotation"},{scheme:"ms-settings-wifi",description:"ms-settings-wifi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-wifi"},{scheme:"ms-settings-workplace",description:"ms-settings-workplace",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-workplace"},{scheme:"ms-spd",description:"ms-spd",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-spd"},{scheme:"ms-transit-to",description:"ms-transit-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-transit-to"},{scheme:"ms-visio",description:"ms-visio",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-visio"},{scheme:"ms-walk-to",description:"ms-walk-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-walk-to"},{scheme:"ms-word",description:"ms-word",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-word"},{scheme:"msnim",description:"msnim",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/msnim"},{scheme:"mumble",description:"mumble",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mumble"},{scheme:"mvn",description:"mvn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mvn"},{scheme:"notes",description:"notes",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/notes"},{scheme:"oid",description:"oid",reference:[{type:"draft",href:"http://www.iana.org/go/draft-larmouth-oid-iri"}],template:"http://www.iana.org/assignments/uri-schemes/prov/oid"},{scheme:"palm",description:"palm",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/palm"},{scheme:"paparazzi",description:"paparazzi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/paparazzi"},{scheme:"platform",description:"platform",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/platform"},{scheme:"proxy",description:"proxy",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/proxy"},{scheme:"psyc",description:"psyc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/psyc"},{scheme:"query",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/query"},{scheme:"redis",description:"redis",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/redis"},{scheme:"rediss",description:"rediss",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rediss"},{scheme:"res",description:"res",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/res"},{scheme:"resource",description:"resource",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/resource"},{scheme:"rmi",description:"rmi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rmi"},{scheme:"rsync",description:"rsync",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5781"}]},{scheme:"rtmfp",description:"rtmfp",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7425"}],template:"http://www.iana.org/assignments/uri-schemes/prov/rtmfp"},{scheme:"rtmp",description:"rtmp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rtmp"},{scheme:"secondlife",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/secondlife"},{scheme:"sftp",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/sftp"},{scheme:"sgn",description:"sgn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/sgn"},{scheme:"skype",description:"skype",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/skype"},{scheme:"smb",description:"smb",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/smb"},{scheme:"smtp",description:"smtp",reference:[{type:"draft",href:"http://www.iana.org/go/draft-melnikov-smime-msa-to-mda"}],template:"http://www.iana.org/assignments/uri-schemes/prov/smtp"},{scheme:"soldat",description:"soldat",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/soldat"},{scheme:"spotify",description:"spotify",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/spotify"},{scheme:"ssh",description:"ssh",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ssh"},{scheme:"steam",description:"steam",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/steam"},{scheme:"submit",description:"submit",reference:[{type:"draft",href:"http://www.iana.org/go/draft-melnikov-smime-msa-to-mda"}],template:"http://www.iana.org/assignments/uri-schemes/prov/submit"},{scheme:"svn",description:"svn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/svn"},{scheme:"teamspeak",description:"teamspeak",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/teamspeak"},{scheme:"teliaeid",description:"teliaeid",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/teliaeid"},{scheme:"things",description:"things",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/things"},{scheme:"tool",description:"tool",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/tool"},{scheme:"udp",description:"udp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/udp"},{scheme:"unreal",description:"unreal",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/unreal"},{scheme:"ut2004",description:"ut2004",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ut2004"},{scheme:"v-event",description:"v-event",reference:[{type:"draft",href:"http://www.iana.org/go/draft-menderico-v-event-uri"}],template:"http://www.iana.org/assignments/uri-schemes/prov/v-event"},{scheme:"ventrilo",description:"ventrilo",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ventrilo"},{scheme:"view-source",description:"view-source",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/view-source"},{scheme:"webcal",description:"webcal",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/webcal"},{scheme:"wpid",description:"wpid",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wpid"},{scheme:"wtai",description:"wtai",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wtai"},{scheme:"wyciwyg",description:"wyciwyg",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wyciwyg"},{scheme:"xfire",description:"xfire",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/xfire"},{scheme:"xri",description:"xri",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/xri"},{scheme:"ymsgr",description:"ymsgr",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ymsgr"}],n0e=[{scheme:"fax",description:"fax",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2806"},{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"filesystem",description:"filesystem",reference:[],template:"http://www.iana.org/assignments/uri-schemes/historic/filesystem"},{scheme:"mailserver",description:"Access to data available from mail servers",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6196"}]},{scheme:"modem",description:"modem",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2806"},{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"pack",description:"pack",reference:[{type:"draft",href:"http://www.iana.org/go/draft-shur-pack-uri-scheme"}],template:"http://www.iana.org/assignments/uri-schemes/historic/pack"},{scheme:"prospero",description:"Prospero Directory Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4157"}]},{scheme:"snews",description:"NNTP over SSL/TLS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"videotex",description:"videotex",reference:[{type:"draft",href:"http://www.iana.org/go/draft-mavrakis-videotex-url-spec"},{type:"rfc",href:"http://www.iana.org/go/rfc2122"},{type:"rfc",href:"http://www.iana.org/go/rfc3986"}],template:"http://www.iana.org/assignments/uri-schemes/historic/videotex"},{scheme:"wais",description:"Wide Area Information Servers",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4156"}]},{scheme:"z39.50",description:"Z39.50 information access",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"},{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]}],i0e=[{scheme:"android-app"},{scheme:"webpack"},{scheme:"s3",description:"Amazon Web Services S3 bucket"},{scheme:"gs",description:"Google Cloud Storage"},{scheme:"mqtt",description:"Message Queuing Telemetry Transport Protocol"},{scheme:"modbus+tcp",description:"Modbus over TCP"}];var Lk=e0e,ig={permanent:t0e,provosional:r0e,historical:n0e},KE={};Object.keys(ig).forEach(function(e){ig[e].forEach(function(t){KE[t.scheme]=Lk(t,{type:e})})});ig.unofficial=i0e.filter(function(e){return!KE[e.scheme]});ig.unofficial.forEach(function(e){KE[e.scheme]=Lk(e,{type:"unofficial"})});var CG=Lk(ig,{allByName:KE});const{parse:o0e}=AG,{addressParser:s0e}=Eo,a0e=CG;function l0e(e){try{return s0e(e),!0}catch{return!1}}var u0e=e=>{const t=o0e(e);return!!(t.scheme==="mailto"&&t.to.every(l0e)||t.reference==="absolute"&&a0e.allByName[t.scheme])},c0e=/^P(?!$)(\d+(?:\.\d+)?Y)?(\d+(?:\.\d+)?M)?(\d+(?:\.\d+)?W)?(\d+(?:\.\d+)?D)?(T(?=\d)(\d+(?:\.\d+)?H)?(\d+(?:\.\d+)?M)?(\d+(?:\.\d+)?S)?)?$/;const{parse:f0e}=Eo;var d0e=e=>{try{return f0e(e),!0}catch{return!1}};const mh=2147483647,Ha=36,Fk=1,og=26,h0e=38,p0e=700,jG=72,DG=128,MG="-",m0e=/^xn--/,g0e=/[^\0-\x7F]/,v0e=/[\x2E\u3002\uFF0E\uFF61]/g,y0e={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Z1=Ha-Fk,Wa=Math.floor,e$=String.fromCharCode;function Tu(e){throw new RangeError(y0e[e])}function w0e(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function LG(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(v0e,".");const i=e.split("."),o=w0e(i,t).join(".");return n+o}function Bk(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=e.charCodeAt(r++);(o&64512)==56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}const FG=e=>String.fromCodePoint(...e),b0e=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:Ha},xF=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},BG=function(e,t,r){let n=0;for(e=r?Wa(e/p0e):e>>1,e+=Wa(e/t);e>Z1*og>>1;n+=Ha)e=Wa(e/Z1);return Wa(n+(Z1+1)*e/(e+h0e))},Uk=function(e){const t=[],r=e.length;let n=0,i=DG,o=jG,s=e.lastIndexOf(MG);s<0&&(s=0);for(let a=0;a<s;++a)e.charCodeAt(a)>=128&&Tu("not-basic"),t.push(e.charCodeAt(a));for(let a=s>0?s+1:0;a<r;){const l=n;for(let f=1,c=Ha;;c+=Ha){a>=r&&Tu("invalid-input");const p=b0e(e.charCodeAt(a++));p>=Ha&&Tu("invalid-input"),p>Wa((mh-n)/f)&&Tu("overflow"),n+=p*f;const m=c<=o?Fk:c>=o+og?og:c-o;if(p<m)break;const g=Ha-m;f>Wa(mh/g)&&Tu("overflow"),f*=g}const u=t.length+1;o=BG(n-l,u,l==0),Wa(n/u)>mh-i&&Tu("overflow"),i+=Wa(n/u),n%=u,t.splice(n++,0,i)}return String.fromCodePoint(...t)},zk=function(e){const t=[];e=Bk(e);const r=e.length;let n=DG,i=0,o=jG;for(const l of e)l<128&&t.push(e$(l));const s=t.length;let a=s;for(s&&t.push(MG);a<r;){let l=mh;for(const f of e)f>=n&&f<l&&(l=f);const u=a+1;l-n>Wa((mh-i)/u)&&Tu("overflow"),i+=(l-n)*u,n=l;for(const f of e)if(f<n&&++i>mh&&Tu("overflow"),f===n){let c=i;for(let p=Ha;;p+=Ha){const m=p<=o?Fk:p>=o+og?og:p-o;if(c<m)break;const g=c-m,_=Ha-m;t.push(e$(xF(m+g%_,0))),c=Wa(g/_)}t.push(e$(xF(c,0))),o=BG(i,u,a===s),i=0,++a}++i,++n}return t.join("")},UG=function(e){return LG(e,function(t){return m0e.test(t)?Uk(t.slice(4).toLowerCase()):t})},zG=function(e){return LG(e,function(t){return g0e.test(t)?"xn--"+zk(t):t})},_0e={version:"2.3.1",ucs2:{decode:Bk,encode:FG},decode:Uk,encode:zk,toASCII:zG,toUnicode:UG},E0e=Object.freeze(Object.defineProperty({__proto__:null,decode:Uk,default:_0e,encode:zk,toASCII:zG,toUnicode:UG,ucs2decode:Bk,ucs2encode:FG},Symbol.toStringTag,{value:"Module"})),qG=lP(E0e),{toASCII:S0e}=qG,$0e=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i;var T0e=e=>{const t=S0e(e);return t.replace(/\.$/,"").length<=253&&$0e.test(t)};const{parse:A0e}=AG,{addressParser:x0e}=Eo,OF=CG;function O0e(e){try{return x0e(e),!0}catch{return!1}}var P0e=e=>{const t=A0e(e);return t.scheme==="mailto"&&t.to.every(O0e)||t.reference==="absolute"&&t.path!==void 0&&OF.allByName[t.scheme]?!0:t.scheme&&!OF.allByName[t.scheme]?!1:t.path!==void 0&&(t.reference==="relative"||t.reference==="same-document"||t.reference==="uri")};(function(e){e.exports.iri=u0e,e.exports.duration=c0e,e.exports["idn-email"]=d0e,e.exports["idn-hostname"]=T0e,e.exports["iri-reference"]=P0e})(Gye);var VG={exports:{}};(function(e){var t=function(){var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function s(l,u){if(!o[l]){o[l]={};for(var f=0;f<l.length;f++)o[l][l.charAt(f)]=f}return o[l][u]}var a={compressToBase64:function(l){if(l==null)return"";var u=a._compress(l,6,function(f){return n.charAt(f)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:a._decompress(l.length,32,function(u){return s(n,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":a._compress(l,15,function(u){return r(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:a._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=a.compress(l),f=new Uint8Array(u.length*2),c=0,p=u.length;c<p;c++){var m=u.charCodeAt(c);f[c*2]=m>>>8,f[c*2+1]=m%256}return f},decompressFromUint8Array:function(l){if(l==null)return a.decompress(l);for(var u=new Array(l.length/2),f=0,c=u.length;f<c;f++)u[f]=l[f*2]*256+l[f*2+1];var p=[];return u.forEach(function(m){p.push(r(m))}),a.decompress(p.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":a._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),a._decompress(l.length,32,function(u){return s(i,l.charAt(u))}))},compress:function(l){return a._compress(l,16,function(u){return r(u)})},_compress:function(l,u,f){if(l==null)return"";var c,p,m={},g={},_="",v="",h="",E=2,y=3,S=2,$=[],T=0,d=0,A;for(A=0;A<l.length;A+=1)if(_=l.charAt(A),Object.prototype.hasOwnProperty.call(m,_)||(m[_]=y++,g[_]=!0),v=h+_,Object.prototype.hasOwnProperty.call(m,v))h=v;else{if(Object.prototype.hasOwnProperty.call(g,h)){if(h.charCodeAt(0)<256){for(c=0;c<S;c++)T=T<<1,d==u-1?(d=0,$.push(f(T)),T=0):d++;for(p=h.charCodeAt(0),c=0;c<8;c++)T=T<<1|p&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=p>>1}else{for(p=1,c=0;c<S;c++)T=T<<1|p,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=0;for(p=h.charCodeAt(0),c=0;c<16;c++)T=T<<1|p&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=p>>1}E--,E==0&&(E=Math.pow(2,S),S++),delete g[h]}else for(p=m[h],c=0;c<S;c++)T=T<<1|p&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=p>>1;E--,E==0&&(E=Math.pow(2,S),S++),m[v]=y++,h=String(_)}if(h!==""){if(Object.prototype.hasOwnProperty.call(g,h)){if(h.charCodeAt(0)<256){for(c=0;c<S;c++)T=T<<1,d==u-1?(d=0,$.push(f(T)),T=0):d++;for(p=h.charCodeAt(0),c=0;c<8;c++)T=T<<1|p&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=p>>1}else{for(p=1,c=0;c<S;c++)T=T<<1|p,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=0;for(p=h.charCodeAt(0),c=0;c<16;c++)T=T<<1|p&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=p>>1}E--,E==0&&(E=Math.pow(2,S),S++),delete g[h]}else for(p=m[h],c=0;c<S;c++)T=T<<1|p&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=p>>1;E--,E==0&&(E=Math.pow(2,S),S++)}for(p=2,c=0;c<S;c++)T=T<<1|p&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=p>>1;for(;;)if(T=T<<1,d==u-1){$.push(f(T));break}else d++;return $.join("")},decompress:function(l){return l==null?"":l==""?null:a._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,f){var c=[],p=4,m=4,g=3,_="",v=[],h,E,y,S,$,T,d,A={val:f(0),position:u,index:1};for(h=0;h<3;h+=1)c[h]=h;for(y=0,$=Math.pow(2,2),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;switch(y){case 0:for(y=0,$=Math.pow(2,8),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;d=r(y);break;case 1:for(y=0,$=Math.pow(2,16),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;d=r(y);break;case 2:return""}for(c[3]=d,E=d,v.push(d);;){if(A.index>l)return"";for(y=0,$=Math.pow(2,g),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;switch(d=y){case 0:for(y=0,$=Math.pow(2,8),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;c[m++]=r(y),d=m-1,p--;break;case 1:for(y=0,$=Math.pow(2,16),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;c[m++]=r(y),d=m-1,p--;break;case 2:return v.join("")}if(p==0&&(p=Math.pow(2,g),g++),c[d])_=c[d];else if(d===m)_=E+E.charAt(0);else return null;v.push(_),c[m++]=E+_.charAt(0),p--,E=_,p==0&&(p=Math.pow(2,g),g++)}}};return a}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(VG);var R0e=VG.exports;const HG=Df(R0e);var WG={exports:{}},GG=qG;function N0e(e,t){this.__proto__=new Error(t),this.__proto__.name="BackslashError",this.offset=e}function t$(e){return e>="0"&&e<="7"}function I0e(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"}function PF(e){return e=parseInt(e,16),GG.ucs2.encode([e])}function KG(e,t,r){var n=!1,i=[];function o(l){var u=e[l];if(!I0e(u))throw new N0e(l,"Unexpected token ILLEGAL");return u}for(;t<e.length;){var s=e[t];if(t++,n){switch(n=!1,s){case"n":i.push(`
`);continue;case"r":i.push("\r");continue;case"f":i.push("\f");continue;case"b":i.push("\b");continue;case"t":i.push("	");continue;case"v":i.push("\v");continue;case"\\":i.push("\\");continue}if(s==="x"){i.push(PF(o(t)+o(t+1))),t+=2;continue}if(s==="u"){i.push(PF(o(t)+o(t+1)+o(t+2)+o(t+3))),t+=4;continue}if(t$(s)){var a;t$(a=e[t])&&(t++,s+=a,t$(a=e[t])&&s[0]<="3"&&(t++,s+=a)),i.push(GG.ucs2.encode([parseInt(s,8)]));continue}i.push(s)}else if(s==="\\")n=!0;else if(s===r){t--;break}else i.push(s)}return arguments.length===3?{end:t,value:i.join("")}:i.join("")}WG.exports=function(t){return KG(t,0)};WG.exports.parseUntil=function(t,r,n){return KG(t,r,n)};const k0e="Thing Description",C0e="1.1-05-September-2022",j0e="JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values",D0e="http://json-schema.org/draft-07/schema#",M0e="https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json",L0e={anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"}},security:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string",not:{const:"tm:ThingModel"}},{type:"array",items:{type:"string",not:{const:"tm:ThingModel"}}}]},"dataSchema-type":{type:"string",enum:["boolean","integer","number","string","object","array","null"]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{type:["integer","number"],exclusiveMinimum:0},expectedResponse:{type:"object",properties:{contentType:{type:"string"}}},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},required:["href"],additionalProperties:!0},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{type:"array",items:{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]}}]}},additionalProperties:!0},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["invokeaction","queryaction","cancelaction"]},{type:"array",items:{type:"string",enum:["invokeaction","queryaction","cancelaction"]}}]}},additionalProperties:!0},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["subscribeevent","unsubscribeevent"]},{type:"array",items:{type:"string",enum:["subscribeevent","unsubscribeevent"]}}]}},additionalProperties:!0},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{type:"array",items:{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]}}]}},additionalProperties:!0,required:["op"]},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},observable:{type:"boolean"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}},required:["forms"],additionalProperties:!0},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{type:"boolean"},idempotent:{type:"boolean"},synchronous:{type:"boolean"}},required:["forms"],additionalProperties:!0},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"}},required:["forms"],additionalProperties:!0},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]}},required:["href"],additionalProperties:!0},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon or tm:extends",properties:{rel:{enum:["icon","tm:extends"]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},required:["scheme"],additionalProperties:!0},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["nosec"]}},required:["scheme"],additionalProperties:!0},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["auto"]}},not:{required:["name"]},required:["scheme"],additionalProperties:!0},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},oneOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","oneOf"],additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},allOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","allOf"],additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["basic"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["digest"]},qop:{type:"string",enum:["auth","auth-int"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["apikey"]},in:{type:"string",enum:["header","query","body","cookie","uri","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["bearer"]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["psk"]},identity:{type:"string"}},required:["scheme"],additionalProperties:!0},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["oauth2"]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",enum:["code","client","device"]}]}},required:["scheme"],additionalProperties:!0},securityScheme:{oneOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]}},F0e="object",B0e={id:{type:"string",format:"uri"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{type:"object",properties:{instance:{type:"string"}},required:["instance"]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"}},support:{$ref:"#/definitions/anyUri"},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},"@type":{$ref:"#/definitions/type_declaration"},"@context":{$ref:"#/definitions/thing-context"}},U0e=["title","security","securityDefinitions","@context"],z0e=!0,Yp={title:k0e,version:C0e,description:j0e,$schema:D0e,$id:M0e,definitions:L0e,type:F0e,properties:B0e,required:U0e,additionalProperties:z0e};function q0e(e){return HG.compressToEncodedURIComponent(e)}function V0e(e){return HG.decompressFromEncodedURIComponent(e)}const Mc="$ref",H0e="properties",W0e="additional_properties",pu="dataSchema",G0e="#/";K0e(Yp);function K0e(e){const t=new Map,r=new Map;return Hc(t,e,G0e),t.forEach((n,i)=>{if(n.size>0){const o=(i.match(/\//ig)||[]).length;let s=r.get(o);s?(s.set(i.replace(/^r/g,""),n),r.set(o,s)):(s=new Map,s.set(i.replace(/^r/g,""),n),r.set(o,s))}}),r}function Hc(e,t,r){const n=new Set;if(t[Mc]){if(r[0]==="r"&&t[Mc].includes(pu))return;t[Mc].includes(pu)&&(r="r"+r),Hc(dy(Yp,t[Mc]),r);return}if(t.type==="object"){const i=t[H0e];for(const s in i)if(i.hasOwnProperty(s))if(s===Mc){if(r[0]==="r"&&i[s].includes(pu))continue;i[s].includes(pu)&&(r="r"+r),Hc(dy(Yp,i[s]),r);return}else Hc(i[s],`${r}${s}/`),n.add(s);const o=t[W0e];for(const s in o)if(o.hasOwnProperty(s)&&s===Mc){if(r[0]==="r"&&o[s].includes(pu))continue;o[s].includes(pu)&&(r="r"+r),Hc(dy(Yp,o[s]),`${r}*/`);return}RF(e,r,n)}if(t.type==="array"){const i=t.items;for(const o in i)if(i.hasOwnProperty(o)&&o===Mc){if(r[0]==="r"&&i[o].includes(pu))continue;i[o].includes(pu)&&(r="r"+r),Hc(dy(Yp,i[o]),r);return}RF(e,r,n)}for(const i in t)t.hasOwnProperty(i)&&["allOf","oneOf","anyOf"].includes(i)&&Array.isArray(t[i])&&t[i].forEach(o=>{Hc(o,r)})}function RF(e,t,r){let n=e.get(t);if(n){const i=new Set(n);r.forEach(o=>{i.add(o)}),e.set(t,i)}else e.set(t,r)}function dy(e,t){const r=t.split("/");if(r[0]!=="#"){console.log("Parsing not implemented for between files");return}let n=e;for(let i=1;i<r.length;i++)n=n[r[i]];return n}const J0e="tdjson",Y0e="tmjson",X0e=e=>{let t;try{t=JSON.parse(e)}catch(i){console.debug(i);return}let r=J0e;return gB(t)&&(r=Y0e),q0e(r.concat(e))},Q0e=e=>{let t=V0e(e);if(!(t==null||t==="")){t=t.substring(6);try{return JSON.parse(t)}catch(r){console.debug(r)}}},Z0e=Ce.forwardRef((e,t)=>{const r=Ce.useContext(bn),[n,i]=et.useState(!1),[o,s]=et.useState(""),[a,l]=et.useState("");Ce.useImperativeHandle(t,()=>({openModal:()=>u(),close:()=>f()}));const u=()=>{i(!0);const p=X0e(r.offlineTD);l(p);const m=`${window.location.origin+window.location.pathname}?td=${p}`;s(m),ewe(m),twe()},f=()=>{i(!1)};let c=ae.jsx("input",{type:"text",name:"share-td-field",id:"share-td-field",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",defaultValue:o});return n?ql.createPortal(ae.jsx(el,{hasSubmit:!0,onCancel:f,cancelText:"Okay",submitText:"Open in Playground",onSubmit:()=>{window.open(`https://playground.thingweb.io//#${a}`),f()},children:c,title:"Share This TD",description:"A link to this TD was copied to your clipboard."}),document.getElementById("modal-root")):null}),ewe=e=>{document.hasFocus()&&navigator.clipboard.writeText(e).then(function(){console.log("Async: Copied TD link to clipboard!")},function(t){console.error("Async: Could not copy TD to clipboard: ",t)})},twe=()=>{setTimeout(()=>{try{document.getElementById("share-td-field").select()}catch{}},250)},Lc=({onClick:e,children:t})=>ae.jsx("button",{className:"min-w-8 text-white hover:opacity-50",onClick:e,children:ae.jsx("div",{className:"flex flex-col items-center justify-center gap-0.5",children:t})}),rwe=()=>{const e=Ce.useContext(bn),[t,r]=et.useState(!1),n=Ce.useCallback(()=>e.isModified?window.confirm("Discard changes? All changes you made to your TD will be lost."):!0,[e.isModified]),i=Ce.useCallback(async()=>{if(n())try{const v=await FH(),h=`./${v.fileName}`;let E={};E[h]=v.fileHandle?v.fileHandle:JSON.parse(v.td),e.updateOfflineTD(v.td),e.updateIsModified(!1),e.setFileHandle(v.fileHandle||v.fileNname),e.updateLinkedTd(void 0),e.addLinkedTd(E)}catch(v){const h="Opening a new TD was canceled or an error occured.";console.error(h,v),alert(h)}},[e,n]),o=Ce.useCallback(async()=>{const v=e.parsedTD;if(!e.isValidJSON)return alert("Didn't save TD. The given TD can't even be parsed into a JSON object.");r(!0);const h=QH();if(h===""){const E=await nL(e.name,e.fileHandle,e.offlineTD);e.setFileHandle(E??e.fileHandle)}else try{v.id?$fe(v,h):Tfe(v,h)}catch(E){console.debug(E),alert("Didn't save TD. Please check if the provided target URL is correct and the intermediary / thing directory is working as intended.");return}e.updateIsModified(!1),r(!1)},[e]),s=Ce.useCallback(async()=>{try{const v=await nL(e.name,void 0,e.offlineTD);e.setFileHandle(v??e.fileHandle),e.updateIsModified(!1)}catch(v){console.debug(v),alert("Didn't save TD. The action was either canceled or ran into an error.")}},[e]),a=v=>async()=>{r(!0);const h=await v();return r(!1),console.log(h),h};Ce.useEffect(()=>{const v=h=>{(window.navigator.platform.match("Mac")?h.metaKey:h.ctrlKey)&&h.key==="s"&&(h.preventDefault(),h.stopPropagation(),a(o)()),(window.navigator.platform.match("Mac")?h.metaKey:h.ctrlKey)&&h.key==="o"&&(h.preventDefault(),h.stopPropagation(),a(i)()),(window.navigator.platform.match("Mac")?h.metaKey:h.ctrlKey)&&h.key==="n"&&(h.preventDefault(),h.stopPropagation(),m())};return document.addEventListener("keydown",v,!1),window.onbeforeunload=function(h){var E="Important: Please click on 'Save' button to leave this page.";return typeof h>"u"&&(h=window.event),h&&(h.returnValue=E),E},()=>{document.removeEventListener("keydown",v,!1)}},[i,o]);const l=et.useRef(),u=()=>{l.current.openModal()},f=et.useRef(),c=()=>{f.current.openModal()},p=et.useRef(),m=()=>{p.current.openModal()},g=et.useRef(),_=()=>{g.current.openModal()};return ae.jsxs(ae.Fragment,{children:[ae.jsxs("header",{className:"flex h-14 items-center justify-between bg-blue-500",children:[ae.jsx("div",{className:"flex items-center",children:ae.jsx("button",{className:"ml-4",onClick:()=>window.open("https://eclipse.github.io/editdor/","_blank"),children:ae.jsx("img",{className:"min-w-36 max-w-36",src:Efe,alt:"LOGO"})})}),ae.jsxs("div",{className:"flex items-center gap-4 pr-2",children:[t&&ae.jsx("div",{className:"app-header-spinner hidden md:block"}),ae.jsxs(Lc,{onClick:c,children:[ae.jsx(NR,{}),ae.jsx("div",{className:"text-xs",children:"Share"})]}),ae.jsx("div",{className:"hidden md:block",children:ae.jsxs(Lc,{onClick:a(o),children:[ae.jsx(OR,{}),ae.jsx("div",{className:"text-xs",children:"Save"})]})}),ae.jsx("div",{className:"hidden md:block",children:ae.jsxs(Lc,{onClick:a(i),children:[ae.jsx(wR,{}),ae.jsx("div",{className:"text-xs",children:"Open"})]})}),ae.jsxs(Lc,{onClick:m,children:[ae.jsx(vR,{}),ae.jsx("div",{className:"text-xs",children:"Create"})]}),gB(e.parsedTD)&&ae.jsxs(Lc,{onClick:u,children:[ae.jsx(yR,{}),ae.jsx("div",{className:"text-xs",children:"To TD"})]}),ae.jsxs(Lc,{onClick:a(s),children:[ae.jsx(mR,{}),ae.jsx("div",{className:"text-xs",children:"Download"})]}),ae.jsxs(Lc,{onClick:_,children:[ae.jsx(RR,{}),ae.jsx("div",{className:"text-xs",children:"Settings"})]})]})]}),ae.jsx(xfe,{ref:l}),ae.jsx(Z0e,{ref:f}),ae.jsx(kfe,{ref:p}),ae.jsx(Dfe,{ref:g}),ae.jsx("input",{className:"h-0",type:"file",id:"fileInput",style:{display:"none"}}),ae.jsx("a",{className:"h-0",id:"aDownload",href:"/",style:{display:"none"}})]})};var JG=(e=>(e.BAR="BAR",e.SECTION="SECTION",e))(JG||{}),nwe=(e=>(e.ACTIVATE="activate",e.MOVE="move",e.DEACTIVATE="deactivate",e))(nwe||{}),YG={x:0,y:0};function iwe(e,t){return t?{x:e.x-t.x,y:e.y-t.y}:YG}function XG(){let e=[],t=0,r=0;return{collect(n){e.push(n),n.disableResponsive||(t+=1,r+=n.currentSize)},getResult(){return{sizeInfoArray:e,flexGrowRatio:t/r}}}}function Ga(e){return Number.isFinite(e)&&e>0}function QG(e,t,r,n){let{collect:i,getResult:o}=XG(),s=n?1:-1,a=hy(e,t,s,r),l=hy(e,-t,-s,r),u=t-a.remainingOffset,f=-t-l.remainingOffset;function c(p,m){p.forEach(i),i(r[e]),m.forEach(i)}if(u===-f)c(a.sizeInfoArray,l.sizeInfoArray);else if(Math.abs(u)<Math.abs(f)){let p=hy(e,-u,-s,r);c(a.sizeInfoArray,p.sizeInfoArray)}else{let p=hy(e,-f,s,r);c(p.sizeInfoArray,l.sizeInfoArray)}return o()}function hy(e,t,r,n){let i=[],o=t;for(let l=e+r;a(l);l+=r)if(o){let{sizeInfo:u,remainingOffset:f}=owe(o,n[l]);o=f,s(u)}else s(n[l]);function s(l){r===-1?i.unshift(l):i.push(l)}function a(l){return r===-1?l>=0:l<=n.length-1}return{sizeInfoArray:i,remainingOffset:o}}function owe(e,t){if(t.isSolid)return{remainingOffset:e,sizeInfo:t};let{nextSize:r,remainingOffset:n}=swe(t.currentSize+e,t);return{sizeInfo:{...t,currentSize:r},remainingOffset:n}}function swe(e,{maxSize:t,minSize:r=0}){return e<r?{nextSize:r,remainingOffset:e-r}:Ga(t)&&e>t?{nextSize:t,remainingOffset:e-t}:{nextSize:e,remainingOffset:0}}var r$={barIndex:-1,offset:0,type:"deactivate",originalCoordinate:YG,defaultSizeInfoArray:[],sizeInfoArray:[],discard:!0,flexGrowRatio:0};function awe(e){let t=r$,r=new Set;return{dispatch(n){t=(()=>{let i={barIndex:n.barIndex,type:n.type};switch(n.type){case"activate":let{sizeInfoArray:o,flexGrowRatio:s}=e.getSizeRelatedInfo();return{...r$,...i,originalCoordinate:n.coordinate,defaultSizeInfoArray:o,sizeInfoArray:o,flexGrowRatio:s};case"move":let a=e.calculateOffset(n.coordinate,t.originalCoordinate);return{...i,...QG(n.barIndex,a,t.defaultSizeInfoArray,e.flipResizeMoveDirection),offset:a,originalCoordinate:t.originalCoordinate,defaultSizeInfoArray:t.defaultSizeInfoArray,discard:!1};case"deactivate":return r$}})(),r.forEach(i=>i(t))},subscribe(n){return r.add(n),()=>r.delete(n)},unsubscribeAll(){r.clear()}}}function sg(e,t,r){e==null||e.dispatchEvent(new CustomEvent(t,{detail:r}))}var lwe=class{constructor(){Kn(this,"disposeFnSet",new Set);Kn(this,"watchResizerEvent",(t,r,n)=>{t==null||t.addEventListener(r,n);let i=()=>t==null?void 0:t.removeEventListener(r,n);return this.disposeFnSet.add(i),i});Kn(this,"reset",()=>{this.disposeFnSet.forEach(t=>t()),this.disposeFnSet.clear()})}},uwe=class{constructor(){Kn(this,"infoMap",new Map);Kn(this,"items",[])}update(t){this.infoMap.clear(),this.items.forEach(r=>r.destroy()),this.items=t,t.forEach((r,n)=>{this.infoMap.set(r.elm,{item:r,index:n})})}reset(){this.update([])}getItems(){return this.items}getItem(t){var r;return((r=this.infoMap.get(t))==null?void 0:r.item)??null}getItemIndex(t){var r;return((r=this.infoMap.get(t))==null?void 0:r.index)??null}},aP=!0;try{window.addEventListener("test",null,{get passive(){return aP={passive:!1},!0}})}catch{}function ZG({size:e}){return Ga(e)}function cwe(e){let{disableResponsive:t}=e;return ZG(e)&&t===void 0?!0:!!t}function fwe(e){return!!e&&e in JG}function NF(e){return t=>({"data-item-type":e,"data-item-config":JSON.stringify(t)})}function dwe(e){return Array.from(e.childNodes).map(t=>{if(!(t instanceof HTMLElement))return null;let r=t.getAttribute("data-item-type");return fwe(r)?{type:r,elm:t}:null}).filter(t=>!!t)}function eK({elm:e}){try{let t=JSON.parse(e.getAttribute("data-item-config")??"");return t&&typeof t=="object"?t:{}}catch{return{}}}function IF(e){return e*2+1}function n$(e){return e*2}var kF=class{constructor(e){Kn(this,"isDiscarded",!1);this.resizeResult=e}resizeSection(e,t){if(this.isDiscarded)return;let r=n$(e),n=this.getSize(r);if(n>=0&&t.toSize>=0){let i=t.toSize-n;r===this.resizeResult.sizeInfoArray.length-1||t.preferMoveLeftBar?this.moveBar(e-1,{withOffset:-i}):this.moveBar(e,{withOffset:i})}}moveBar(e,t){this.isDiscarded||(this.resizeResult=QG(IF(e),t.withOffset,this.resizeResult.sizeInfoArray,void 0))}discard(){this.isDiscarded=!0}isSectionResized(e){let t=n$(e);return"defaultSizeInfoArray"in this.resizeResult?this.getSize(t)!==this.resizeResult.defaultSizeInfoArray[t].currentSize:!1}isBarActivated(e){return"barIndex"in this.resizeResult?this.resizeResult.barIndex===IF(e):!1}getSectionSize(e){return this.getSize(n$(e))}getResult(){return{...this.resizeResult,discard:this.isDiscarded}}getTotalSize(){return this.resizeResult.sizeInfoArray.filter((e,t)=>e&&t%2===0).reduce((e,{currentSize:t})=>e+t,0)}getSize(e){let t=this.resizeResult.sizeInfoArray[e];return t?t.currentSize:-1}},tK=class{constructor(e,t,r){Kn(this,"_config");Kn(this,"_observer");this.type=e,this.elm=t,this.getConfig=r,this._config=this.getConfig(),this._observer=new MutationObserver(()=>this._config=this.getConfig()),this._observer.observe(t,{attributes:!0,attributeFilter:["data-item-config"]})}get config(){return this._config}destroy(){this._observer.disconnect()}},py=class extends tK{constructor(t,r){super("BAR",t.elm,()=>hwe(t));Kn(this,"isActive",!1);Kn(this,"isValidClick",!0);this.dispatchBarAction=r;let n=[this.attachListener(this.elm,"mousedown","activate"),this.attachListener(document,"mousemove","move"),this.attachListener(document,"mouseup","deactivate"),this.attachListener(this.elm,"touchstart","activate",aP),this.attachListener(document,"touchmove","move",aP),this.attachListener(document,"touchend","deactivate"),this.attachListener(document,"touchcancel","deactivate")];this.destroy=()=>{super.destroy(),n.forEach(i=>i())}}static getStyle({size:t}){return{flex:`0 0 ${t}px`}}attachListener(t,r,n,i){let o=s=>{this.disableUserSelectIfResizing(s,n);let{clientX:a,clientY:l}=("touches"in s?s.touches[0]:s)||{clientX:0,clientY:0};this.triggerAction(this.elm,n,{x:a,y:l})};return t.addEventListener(r,o,i),()=>t.removeEventListener(r,o,i)}disableUserSelectIfResizing(t,r){(this.isActive||r==="activate")&&t.preventDefault()}triggerAction(t,r,n){(this.isActive||r==="activate")&&this.dispatchBarAction(t,{type:r,coordinate:n}),this.isActive&&this.isValidClick&&r==="deactivate"&&(this.isValidClick=!1,sg(t,"bar:click",null)),this.updateStatusIfNeed(t,r),this.updateClickStatus(r)}updateStatusIfNeed(t,r){let n=i=>{this.isActive!==i&&(this.isActive=i,sg(t,"bar:status-change",{isActive:i}))};r==="activate"?n(!0):r==="deactivate"&&n(!1)}updateClickStatus(t){this.isActive&&(t==="activate"?this.isValidClick=!0:t==="move"&&(this.isValidClick=!1))}};function hwe(e){let{size:t}=eK(e);return{size:Ga(t)?t:10}}var Tp=class extends tK{constructor(t){super("SECTION",t.elm,()=>pwe(t));Kn(this,"sizeInfo",null);Kn(this,"flexGrowRatio",0);this.updateStyle()}static getStyle({maxSize:t,minSize:r},n){let i=o=>Ga(o)?`${o}px`:void 0;return{overflow:"hidden",[n?"maxHeight":"maxWidth"]:i(t),[n?"minHeight":"minWidth"]:i(r)}}update({sizeInfo:t,flexGrowRatio:r}){this.sizeInfo=t,this.flexGrowRatio=r,this.updateStyle(),sg(this.elm,"section:size-change",{size:t.currentSize})}updateStyle(){let{flexGrow:t,flexShrink:r,flexBasis:n}=this.getStyle();this.elm.style.flexGrow=`${t}`,this.elm.style.flexShrink=`${r}`,this.elm.style.flexBasis=`${n}px`}getStyle(){let t=Ga(this.config.size)?0:this.config.disableResponsive?1:0;if(this.sizeInfo){let{disableResponsive:r,currentSize:n}=this.sizeInfo;return{flexShrink:t,flexGrow:r?0:this.flexGrowRatio*n,flexBasis:r?n:0}}else{let r=this.config.size||this.config.defaultSize;return Ga(r)?{flexShrink:t,flexGrow:0,flexBasis:r}:{flexShrink:t,flexGrow:1,flexBasis:0}}}};function pwe(e){let{size:t,defaultSize:r,maxSize:n,minSize:i,disableResponsive:o}=eK(e);return{size:Ga(t)?t:void 0,defaultSize:Ga(r)?r:void 0,maxSize:Ga(n)?n:void 0,minSize:Ga(i)?i:void 0,disableResponsive:!!o}}var mwe=class{constructor(e){Kn(this,"styles",{container:e=>({...e,display:"flex",flexDirection:this.direction}),section:(e,t)=>({...t,...Tp.getStyle(e,this.config.vertical)}),bar:(e,t)=>({...t,...py.getStyle(e)})});Kn(this,"attributes",{bar:NF("BAR"),section:NF("SECTION")});Kn(this,"itemsCache",new uwe);Kn(this,"eventHub",new lwe);Kn(this,"container",null);Kn(this,"barStore");Kn(this,"dispatchBarAction",(e,t)=>{let r=this.itemsCache.getItemIndex(e);r&&this.barStore.dispatch({...t,barIndex:r})});this.config=e,this.barStore=awe({calculateOffset:(t,r)=>iwe(t,r)[this.axis],getSizeRelatedInfo:()=>this.makeSizeInfos(),flipResizeMoveDirection:e.rtl&&!e.vertical})}get axis(){return this.config.vertical?"y":"x"}get dimension(){return this.config.vertical?"height":"width"}get direction(){return this.config.vertical?"column":"row"}get on(){return this.eventHub.watchResizerEvent}init(e){this.dispose(),this.container=e,e&&(this.itemsCache.update(dwe(e).map(t=>{switch(t.type){case"BAR":return new py(t,this.dispatchBarAction);case"SECTION":return new Tp(t)}})),this.initStyles(e,this.itemsCache.getItems()),this.sizeRelatedInfoChange(this.makeSizeInfos()),this.barStore.subscribe(t=>{this.monitorBarStatusChanges(t),this.sizeRelatedInfoChange(t)}))}dispose(){this.container=null,this.itemsCache.reset(),this.barStore.unsubscribeAll(),this.eventHub.reset()}getResizer(){return new kF(this.makeSizeInfos())}applyResizer(e){this.sizeRelatedInfoChange(e.getResult())}sizeRelatedInfoChange(e){e.discard||(e=(()=>{if(typeof this.config.beforeApplyResizer=="function"){let t=new kF(e);return this.config.beforeApplyResizer(t),t.getResult()}else return e})(),!e.discard&&e.sizeInfoArray.forEach(t=>{let r=this.itemsCache.getItem(t.elm);r instanceof Tp&&r.update({sizeInfo:t,flexGrowRatio:e.flexGrowRatio})}))}monitorBarStatusChanges({type:e}){switch(e){case"activate":return sg(this.container,"column:activate",null);case"deactivate":return sg(this.container,"column:after-resizing",null);default:return}}makeSizeInfos(){let{collect:e,getResult:t}=XG();return this.itemsCache.getItems().forEach(r=>{r instanceof py&&e({elm:r.elm,disableResponsive:!0,isSolid:!0,currentSize:r.elm.getBoundingClientRect()[this.dimension]}),r instanceof Tp&&e({elm:r.elm,maxSize:r.config.maxSize,minSize:r.config.minSize,disableResponsive:cwe(r.config),isSolid:ZG(r.config),currentSize:r.elm.getBoundingClientRect()[this.dimension]})}),t()}initStyles(e,t){Object.assign(e.style,this.styles.container()),t.forEach(r=>{r instanceof py&&Object.assign(r.elm.style,this.styles.bar(r.config)),r instanceof Tp&&Object.assign(r.elm.style,this.styles.section(r.config))})}},rK=Ce.createContext(null),gwe=typeof window=="object"?et.useLayoutEffect:et.useEffect;function vwe({vertical:e,rtl:t,beforeApplyResizer:r}){let n=nK(r);return et.useMemo(()=>new mwe({vertical:e,beforeApplyResizer:n,rtl:t}),[e,n,t])}function qk(){return et.useContext(rK)}function ag(e,t,r){let n=qk(),i=nK(r);et.useEffect(()=>n.on(e.current,t,o=>i(o)),[n,t,e,i])}function Vk(e,t){let r=et.useRef(e);return et.useImperativeHandle(t,()=>r.current),r}function nK(e){let t=et.useRef(e);return t.current=e,et.useCallback((...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[t])}function ywe({hooks:e,params:t,children:r}){let n=e(...t);return et.createElement(et.Fragment,null,r(n))}function wwe(e,{onActivate:t,afterResizing:r}){ag(e,"column:activate",t),ag(e,"column:after-resizing",r)}var bwe=Ce.forwardRef(({vertical:e=!1,rtl:t=!1,onActivate:r,beforeApplyResizer:n,afterResizing:i,columnResizerRef:o,style:s,...a},l)=>{let u=Vk(null,l),f=vwe({vertical:e,rtl:t,beforeApplyResizer:n});return gwe(()=>(f.init(u.current),()=>f.dispose()),[f]),Ce.useImperativeHandle(o,()=>f,[f]),Ce.createElement(rK.Provider,{value:f},Ce.createElement(ywe,{hooks:wwe,params:[u,{onActivate:r,afterResizing:i}]},()=>Ce.createElement("div",{ref:u,...a,style:f.styles.container(s)})))}),CF=Ce.forwardRef(({defaultSize:e,size:t,disableResponsive:r,minSize:n,maxSize:i,onSizeChanged:o,style:s,...a},l)=>{let u=Vk(null,l),f=qk(),c={defaultSize:e,size:t,disableResponsive:r,minSize:n,maxSize:i};return ag(u,"section:size-change",p=>o==null?void 0:o(p.detail.size)),Ce.createElement("div",{ref:u,...a,style:f.styles.section(c,s),...f.attributes.section(c)})}),_we=Ce.forwardRef(({top:e=0,right:t=0,bottom:r=0,left:n=0,vertical:i,style:o,...s},a)=>{let l=Ce.useMemo(()=>({position:"absolute",top:-e,left:-n,right:-t,bottom:-r,WebkitTapHighlightColor:"transparent",userSelect:"none",...o}),[o,e,n,t,r,i]);return Ce.createElement("div",{...s,style:l,ref:a})}),Ewe=Ce.forwardRef(({children:e,onClick:t,expandInteractiveArea:r,onStatusChanged:n,style:i,size:o=10,...s},a)=>{let l=qk(),u=Vk(null,a),f={size:o};return ag(u,"bar:click",()=>t==null?void 0:t()),ag(u,"bar:status-change",c=>n==null?void 0:n(c.detail.isActive)),Ce.createElement("div",{ref:u,...s,style:l.styles.bar(f,{...i,position:"relative"}),...l.attributes.bar(f)},e,Ce.createElement(_we,{...r,vertical:l.config.vertical}))});const Swe=()=>ae.jsx(qY,{children:ae.jsx($we,{})});let jF=!1;const $we=()=>{const e=Ce.useContext(bn),t=Ce.useRef(null),[r,n]=Ce.useState(!1),i=()=>{t.current&&t.current.trigger("keyboard","undo",null)},o=()=>{t.current&&t.current.trigger("keyboard","redo",null)};return Ce.useEffect(()=>{if(jF||window.location.search.indexOf("td")<=-1&&window.location.search.indexOf("proxyEndpoint")<=-1&&window.location.search.indexOf("localstorage")<=-1&&window.location.search.indexOf("southboundTdId")<=-1)return;jF=!0;const s=new URL(window.location.href),a=s.searchParams.get("td");if(a!==null){const f=Q0e(a);if(f===void 0){alert("The lz compressed TD found in the URL couldn't be reconstructed.");return}e.updateOfflineTD(JSON.stringify(f,null,2))}const l=s.searchParams.get("proxyEndpoint"),u=s.searchParams.get("southboundTdId");if(u!==null&&Afe(u,l).then(f=>{if(!f===void 0){alert(`No Thing Description with id '${u} could be fetched from the proxy.`);return}e.updateOfflineTD(JSON.stringify(f,null,2))}).catch(()=>{alert(`Error unable to fetch TD from proxy: ${l}`)}),s.searchParams.has("localstorage")){let f=localStorage.getItem("td");if(!f){alert("Request to read TD from local storage failed.");return}try{f=JSON.parse(f),e.updateOfflineTD(JSON.stringify(f,null,2))}catch(c){e.updateOfflineTD(f),alert(`Tried to JSON parse the TD from local storage, but failed: ${c}`)}}},[e]),ae.jsxs("main",{className:"flex max-h-screen w-screen flex-col",children:[ae.jsx(rwe,{}),ae.jsx("div",{className:"hidden md:block",children:ae.jsxs(bwe,{className:"height-adjust flex",children:[ae.jsx(CF,{minSize:550,className:"w-7/12 min-w-16",children:ae.jsx(mL,{onUndo:i,onRedo:o})}),ae.jsx(Ewe,{size:7.5,className:"cursor-col-resize bg-gray-300 hover:bg-blue-500"}),ae.jsx(CF,{className:"w-5/12",children:ae.jsx(l2,{editorRef:t})})]})}),ae.jsxs("div",{className:"height-adjust md:hidden",children:[r&&ae.jsx(l2,{editorRef:t}),!r&&ae.jsx(mL,{onUndo:i,onRedo:o}),ae.jsx("button",{className:"absolute bottom-12 right-2 z-10 rounded-full bg-blue-500 p-4",onClick:()=>n(!r),children:ae.jsx(TR,{color:"white"})})]}),ae.jsx("div",{className:"fixed bottom-0 w-screen",children:ae.jsx(bfe,{})}),ae.jsx("div",{id:"modal-root"})]})},Twe=i$.createRoot(document.getElementById("root"));Twe.render(ae.jsx(et.StrictMode,{children:ae.jsx(Swe,{})}));
