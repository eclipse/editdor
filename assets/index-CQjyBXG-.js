var qG=Object.defineProperty;var VG=(e,t,r)=>t in e?qG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Kn=(e,t,r)=>VG(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var xa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tO(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var $F={exports:{}},m_={},TF={exports:{}},_r={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg=Symbol.for("react.element"),HG=Symbol.for("react.portal"),WG=Symbol.for("react.fragment"),GG=Symbol.for("react.strict_mode"),KG=Symbol.for("react.profiler"),JG=Symbol.for("react.provider"),YG=Symbol.for("react.context"),XG=Symbol.for("react.forward_ref"),QG=Symbol.for("react.suspense"),ZG=Symbol.for("react.memo"),eK=Symbol.for("react.lazy"),kk=Symbol.iterator;function tK(e){return e===null||typeof e!="object"?null:(e=kk&&e[kk]||e["@@iterator"],typeof e=="function"?e:null)}var AF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xF=Object.assign,PF={};function kh(e,t,r){this.props=e,this.context=t,this.refs=PF,this.updater=r||AF}kh.prototype.isReactComponent={};kh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function OF(){}OF.prototype=kh.prototype;function rO(e,t,r){this.props=e,this.context=t,this.refs=PF,this.updater=r||AF}var nO=rO.prototype=new OF;nO.constructor=rO;xF(nO,kh.prototype);nO.isPureReactComponent=!0;var Ck=Array.isArray,RF=Object.prototype.hasOwnProperty,iO={current:null},IF={key:!0,ref:!0,__self:!0,__source:!0};function NF(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)RF.call(t,n)&&!IF.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:sg,type:e,key:o,ref:a,props:i,_owner:iO.current}}function rK(e,t){return{$$typeof:sg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function oO(e){return typeof e=="object"&&e!==null&&e.$$typeof===sg}function nK(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var jk=/\/+/g;function YE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nK(""+e.key):t.toString(36)}function hy(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case sg:case HG:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+YE(a,0):n,Ck(i)?(r="",e!=null&&(r=e.replace(jk,"$&/")+"/"),hy(i,t,r,"",function(u){return u})):i!=null&&(oO(i)&&(i=rK(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(jk,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Ck(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+YE(o,s);a+=hy(o,t,r,l,i)}else if(l=tK(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+YE(o,s++),a+=hy(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function nv(e,t,r){if(e==null)return e;var n=[],i=0;return hy(e,n,"","",function(o){return t.call(r,o,i++)}),n}function iK(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ao={current:null},py={transition:null},oK={ReactCurrentDispatcher:ao,ReactCurrentBatchConfig:py,ReactCurrentOwner:iO};function kF(){throw Error("act(...) is not supported in production builds of React.")}_r.Children={map:nv,forEach:function(e,t,r){nv(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return nv(e,function(){t++}),t},toArray:function(e){return nv(e,function(t){return t})||[]},only:function(e){if(!oO(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_r.Component=kh;_r.Fragment=WG;_r.Profiler=KG;_r.PureComponent=rO;_r.StrictMode=GG;_r.Suspense=QG;_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oK;_r.act=kF;_r.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=xF({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=iO.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)RF.call(t,l)&&!IF.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:sg,type:e.type,key:i,ref:o,props:n,_owner:a}};_r.createContext=function(e){return e={$$typeof:YG,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:JG,_context:e},e.Consumer=e};_r.createElement=NF;_r.createFactory=function(e){var t=NF.bind(null,e);return t.type=e,t};_r.createRef=function(){return{current:null}};_r.forwardRef=function(e){return{$$typeof:XG,render:e}};_r.isValidElement=oO;_r.lazy=function(e){return{$$typeof:eK,_payload:{_status:-1,_result:e},_init:iK}};_r.memo=function(e,t){return{$$typeof:ZG,type:e,compare:t===void 0?null:t}};_r.startTransition=function(e){var t=py.transition;py.transition={};try{e()}finally{py.transition=t}};_r.unstable_act=kF;_r.useCallback=function(e,t){return ao.current.useCallback(e,t)};_r.useContext=function(e){return ao.current.useContext(e)};_r.useDebugValue=function(){};_r.useDeferredValue=function(e){return ao.current.useDeferredValue(e)};_r.useEffect=function(e,t){return ao.current.useEffect(e,t)};_r.useId=function(){return ao.current.useId()};_r.useImperativeHandle=function(e,t,r){return ao.current.useImperativeHandle(e,t,r)};_r.useInsertionEffect=function(e,t){return ao.current.useInsertionEffect(e,t)};_r.useLayoutEffect=function(e,t){return ao.current.useLayoutEffect(e,t)};_r.useMemo=function(e,t){return ao.current.useMemo(e,t)};_r.useReducer=function(e,t,r){return ao.current.useReducer(e,t,r)};_r.useRef=function(e){return ao.current.useRef(e)};_r.useState=function(e){return ao.current.useState(e)};_r.useSyncExternalStore=function(e,t,r){return ao.current.useSyncExternalStore(e,t,r)};_r.useTransition=function(){return ao.current.useTransition()};_r.version="18.3.1";TF.exports=_r;var De=TF.exports;const tt=jf(De);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aK=De,sK=Symbol.for("react.element"),lK=Symbol.for("react.fragment"),uK=Object.prototype.hasOwnProperty,cK=aK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fK={key:!0,ref:!0,__self:!0,__source:!0};function CF(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)uK.call(t,n)&&!fK.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:sK,type:e,key:o,ref:a,props:i,_owner:cK.current}}m_.Fragment=lK;m_.jsx=CF;m_.jsxs=CF;$F.exports=m_;var ce=$F.exports,r$={},jF={exports:{}},Qo={},DF={exports:{}},MF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ee,ae){var M=ee.length;ee.push(ae);e:for(;0<M;){var B=M-1>>>1,K=ee[B];if(0<i(K,ae))ee[B]=ae,ee[M]=K,M=B;else break e}}function r(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var ae=ee[0],M=ee.pop();if(M!==ae){ee[0]=M;e:for(var B=0,K=ee.length,O=K>>>1;B<O;){var N=2*(B+1)-1,q=ee[N],ne=N+1,J=ee[ne];if(0>i(q,M))ne<K&&0>i(J,q)?(ee[B]=J,ee[ne]=M,B=ne):(ee[B]=q,ee[N]=M,B=N);else if(ne<K&&0>i(J,M))ee[B]=J,ee[ne]=M,B=ne;else break e}}return ae}function i(ee,ae){var M=ee.sortIndex-ae.sortIndex;return M!==0?M:ee.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],f=1,c=null,p=3,m=!1,g=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(ee){for(var ae=r(u);ae!==null;){if(ae.callback===null)n(u);else if(ae.startTime<=ee)n(u),ae.sortIndex=ae.expirationTime,t(l,ae);else break;ae=r(u)}}function S(ee){if(_=!1,y(ee),!g)if(r(l)!==null)g=!0,Z($);else{var ae=r(u);ae!==null&&fe(S,ae.startTime-ee)}}function $(ee,ae){g=!1,_&&(_=!1,h(A),A=-1),m=!0;var M=p;try{for(y(ae),c=r(l);c!==null&&(!(c.expirationTime>ae)||ee&&!j());){var B=c.callback;if(typeof B=="function"){c.callback=null,p=c.priorityLevel;var K=B(c.expirationTime<=ae);ae=e.unstable_now(),typeof K=="function"?c.callback=K:c===r(l)&&n(l),y(ae)}else n(l);c=r(l)}if(c!==null)var O=!0;else{var N=r(u);N!==null&&fe(S,N.startTime-ae),O=!1}return O}finally{c=null,p=M,m=!1}}var T=!1,d=null,A=-1,x=5,P=-1;function j(){return!(e.unstable_now()-P<x)}function F(){if(d!==null){var ee=e.unstable_now();P=ee;var ae=!0;try{ae=d(!0,ee)}finally{ae?V():(T=!1,d=null)}}else T=!1}var V;if(typeof E=="function")V=function(){E(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,H=X.port2;X.port1.onmessage=F,V=function(){H.postMessage(null)}}else V=function(){v(F,0)};function Z(ee){d=ee,T||(T=!0,V())}function fe(ee,ae){A=v(function(){ee(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,Z($))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(ee){switch(p){case 1:case 2:case 3:var ae=3;break;default:ae=p}var M=p;p=ae;try{return ee()}finally{p=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,ae){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var M=p;p=ee;try{return ae()}finally{p=M}},e.unstable_scheduleCallback=function(ee,ae,M){var B=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?B+M:B):M=B,ee){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=M+K,ee={id:f++,callback:ae,priorityLevel:ee,startTime:M,expirationTime:K,sortIndex:-1},M>B?(ee.sortIndex=M,t(u,ee),r(l)===null&&ee===r(u)&&(_?(h(A),A=-1):_=!0,fe(S,M-B))):(ee.sortIndex=K,t(l,ee),g||m||(g=!0,Z($))),ee},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(ee){var ae=p;return function(){var M=p;p=ae;try{return ee.apply(this,arguments)}finally{p=M}}}})(MF);DF.exports=MF;var dK=DF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hK=De,Xo=dK;function St(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LF=new Set,Sm={};function Df(e,t){mh(e,t),mh(e+"Capture",t)}function mh(e,t){for(Sm[e]=t,e=0;e<t.length;e++)LF.add(t[e])}var kl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),n$=Object.prototype.hasOwnProperty,pK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dk={},Mk={};function mK(e){return n$.call(Mk,e)?!0:n$.call(Dk,e)?!1:pK.test(e)?Mk[e]=!0:(Dk[e]=!0,!1)}function gK(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vK(e,t,r,n){if(t===null||typeof t>"u"||gK(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function so(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Pi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pi[e]=new so(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pi[t]=new so(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pi[e]=new so(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pi[e]=new so(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pi[e]=new so(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pi[e]=new so(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pi[e]=new so(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pi[e]=new so(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pi[e]=new so(e,5,!1,e.toLowerCase(),null,!1,!1)});var aO=/[\-:]([a-z])/g;function sO(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(aO,sO);Pi[t]=new so(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(aO,sO);Pi[t]=new so(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(aO,sO);Pi[t]=new so(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pi[e]=new so(e,1,!1,e.toLowerCase(),null,!1,!1)});Pi.xlinkHref=new so("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pi[e]=new so(e,1,!1,e.toLowerCase(),null,!0,!0)});function lO(e,t,r,n){var i=Pi.hasOwnProperty(t)?Pi[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vK(t,r,i,n)&&(r=null),n||i===null?mK(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ul=hK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iv=Symbol.for("react.element"),Nd=Symbol.for("react.portal"),kd=Symbol.for("react.fragment"),uO=Symbol.for("react.strict_mode"),i$=Symbol.for("react.profiler"),FF=Symbol.for("react.provider"),BF=Symbol.for("react.context"),cO=Symbol.for("react.forward_ref"),o$=Symbol.for("react.suspense"),a$=Symbol.for("react.suspense_list"),fO=Symbol.for("react.memo"),Su=Symbol.for("react.lazy"),UF=Symbol.for("react.offscreen"),Lk=Symbol.iterator;function rp(e){return e===null||typeof e!="object"?null:(e=Lk&&e[Lk]||e["@@iterator"],typeof e=="function"?e:null)}var kn=Object.assign,XE;function Tp(e){if(XE===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);XE=t&&t[1]||""}return`
`+XE+e}var QE=!1;function ZE(e,t){if(!e||QE)return"";QE=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{QE=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Tp(e):""}function yK(e){switch(e.tag){case 5:return Tp(e.type);case 16:return Tp("Lazy");case 13:return Tp("Suspense");case 19:return Tp("SuspenseList");case 0:case 2:case 15:return e=ZE(e.type,!1),e;case 11:return e=ZE(e.type.render,!1),e;case 1:return e=ZE(e.type,!0),e;default:return""}}function s$(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kd:return"Fragment";case Nd:return"Portal";case i$:return"Profiler";case uO:return"StrictMode";case o$:return"Suspense";case a$:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case BF:return(e.displayName||"Context")+".Consumer";case FF:return(e._context.displayName||"Context")+".Provider";case cO:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fO:return t=e.displayName||null,t!==null?t:s$(e.type)||"Memo";case Su:t=e._payload,e=e._init;try{return s$(e(t))}catch{}}return null}function wK(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s$(t);case 8:return t===uO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ku(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bK(e){var t=zF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ov(e){e._valueTracker||(e._valueTracker=bK(e))}function qF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Kw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function l$(e,t){var r=t.checked;return kn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Fk(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ku(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function VF(e,t){t=t.checked,t!=null&&lO(e,"checked",t,!1)}function u$(e,t){VF(e,t);var r=Ku(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?c$(e,t.type,r):t.hasOwnProperty("defaultValue")&&c$(e,t.type,Ku(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bk(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function c$(e,t,r){(t!=="number"||Kw(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ap=Array.isArray;function Yd(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ku(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function f$(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(St(91));return kn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uk(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(St(92));if(Ap(r)){if(1<r.length)throw Error(St(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ku(r)}}function HF(e,t){var r=Ku(t.value),n=Ku(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function zk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function WF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function d$(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?WF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var av,GF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(av=av||document.createElement("div"),av.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=av.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $m(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Yp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_K=["Webkit","ms","Moz","O"];Object.keys(Yp).forEach(function(e){_K.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yp[t]=Yp[e]})});function KF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Yp.hasOwnProperty(e)&&Yp[e]?(""+t).trim():t+"px"}function JF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=KF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var EK=kn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h$(e,t){if(t){if(EK[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(St(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(St(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(St(61))}if(t.style!=null&&typeof t.style!="object")throw Error(St(62))}}function p$(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m$=null;function dO(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var g$=null,Xd=null,Qd=null;function qk(e){if(e=cg(e)){if(typeof g$!="function")throw Error(St(280));var t=e.stateNode;t&&(t=b_(t),g$(e.stateNode,e.type,t))}}function YF(e){Xd?Qd?Qd.push(e):Qd=[e]:Xd=e}function XF(){if(Xd){var e=Xd,t=Qd;if(Qd=Xd=null,qk(e),t)for(e=0;e<t.length;e++)qk(t[e])}}function QF(e,t){return e(t)}function ZF(){}var eS=!1;function e3(e,t,r){if(eS)return e(t,r);eS=!0;try{return QF(e,t,r)}finally{eS=!1,(Xd!==null||Qd!==null)&&(ZF(),XF())}}function Tm(e,t){var r=e.stateNode;if(r===null)return null;var n=b_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(St(231,t,typeof r));return r}var v$=!1;if(kl)try{var np={};Object.defineProperty(np,"passive",{get:function(){v$=!0}}),window.addEventListener("test",np,np),window.removeEventListener("test",np,np)}catch{v$=!1}function SK(e,t,r,n,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Xp=!1,Jw=null,Yw=!1,y$=null,$K={onError:function(e){Xp=!0,Jw=e}};function TK(e,t,r,n,i,o,a,s,l){Xp=!1,Jw=null,SK.apply($K,arguments)}function AK(e,t,r,n,i,o,a,s,l){if(TK.apply(this,arguments),Xp){if(Xp){var u=Jw;Xp=!1,Jw=null}else throw Error(St(198));Yw||(Yw=!0,y$=u)}}function Mf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function t3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vk(e){if(Mf(e)!==e)throw Error(St(188))}function xK(e){var t=e.alternate;if(!t){if(t=Mf(e),t===null)throw Error(St(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Vk(i),e;if(o===n)return Vk(i),t;o=o.sibling}throw Error(St(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(St(189))}}if(r.alternate!==n)throw Error(St(190))}if(r.tag!==3)throw Error(St(188));return r.stateNode.current===r?e:t}function r3(e){return e=xK(e),e!==null?n3(e):null}function n3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=n3(e);if(t!==null)return t;e=e.sibling}return null}var i3=Xo.unstable_scheduleCallback,Hk=Xo.unstable_cancelCallback,PK=Xo.unstable_shouldYield,OK=Xo.unstable_requestPaint,Vn=Xo.unstable_now,RK=Xo.unstable_getCurrentPriorityLevel,hO=Xo.unstable_ImmediatePriority,o3=Xo.unstable_UserBlockingPriority,Xw=Xo.unstable_NormalPriority,IK=Xo.unstable_LowPriority,a3=Xo.unstable_IdlePriority,g_=null,Ks=null;function NK(e){if(Ks&&typeof Ks.onCommitFiberRoot=="function")try{Ks.onCommitFiberRoot(g_,e,void 0,(e.current.flags&128)===128)}catch{}}var os=Math.clz32?Math.clz32:jK,kK=Math.log,CK=Math.LN2;function jK(e){return e>>>=0,e===0?32:31-(kK(e)/CK|0)|0}var sv=64,lv=4194304;function xp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qw(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=xp(s):(o&=a,o!==0&&(n=xp(o)))}else a=r&~i,a!==0?n=xp(a):o!==0&&(n=xp(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-os(t),i=1<<r,n|=e[r],t&=~i;return n}function DK(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MK(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-os(o),s=1<<a,l=i[a];l===-1?(!(s&r)||s&n)&&(i[a]=DK(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function w$(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function s3(){var e=sv;return sv<<=1,!(sv&4194240)&&(sv=64),e}function tS(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function lg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-os(t),e[t]=r}function LK(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-os(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function pO(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-os(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var en=0;function l3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var u3,mO,c3,f3,d3,b$=!1,uv=[],Du=null,Mu=null,Lu=null,Am=new Map,xm=new Map,Au=[],FK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wk(e,t){switch(e){case"focusin":case"focusout":Du=null;break;case"dragenter":case"dragleave":Mu=null;break;case"mouseover":case"mouseout":Lu=null;break;case"pointerover":case"pointerout":Am.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xm.delete(t.pointerId)}}function ip(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=cg(t),t!==null&&mO(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function BK(e,t,r,n,i){switch(t){case"focusin":return Du=ip(Du,e,t,r,n,i),!0;case"dragenter":return Mu=ip(Mu,e,t,r,n,i),!0;case"mouseover":return Lu=ip(Lu,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Am.set(o,ip(Am.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,xm.set(o,ip(xm.get(o)||null,e,t,r,n,i)),!0}return!1}function h3(e){var t=Qc(e.target);if(t!==null){var r=Mf(t);if(r!==null){if(t=r.tag,t===13){if(t=t3(r),t!==null){e.blockedOn=t,d3(e.priority,function(){c3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function my(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_$(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);m$=n,r.target.dispatchEvent(n),m$=null}else return t=cg(r),t!==null&&mO(t),e.blockedOn=r,!1;t.shift()}return!0}function Gk(e,t,r){my(e)&&r.delete(t)}function UK(){b$=!1,Du!==null&&my(Du)&&(Du=null),Mu!==null&&my(Mu)&&(Mu=null),Lu!==null&&my(Lu)&&(Lu=null),Am.forEach(Gk),xm.forEach(Gk)}function op(e,t){e.blockedOn===t&&(e.blockedOn=null,b$||(b$=!0,Xo.unstable_scheduleCallback(Xo.unstable_NormalPriority,UK)))}function Pm(e){function t(i){return op(i,e)}if(0<uv.length){op(uv[0],e);for(var r=1;r<uv.length;r++){var n=uv[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Du!==null&&op(Du,e),Mu!==null&&op(Mu,e),Lu!==null&&op(Lu,e),Am.forEach(t),xm.forEach(t),r=0;r<Au.length;r++)n=Au[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Au.length&&(r=Au[0],r.blockedOn===null);)h3(r),r.blockedOn===null&&Au.shift()}var Zd=Ul.ReactCurrentBatchConfig,Zw=!0;function zK(e,t,r,n){var i=en,o=Zd.transition;Zd.transition=null;try{en=1,gO(e,t,r,n)}finally{en=i,Zd.transition=o}}function qK(e,t,r,n){var i=en,o=Zd.transition;Zd.transition=null;try{en=4,gO(e,t,r,n)}finally{en=i,Zd.transition=o}}function gO(e,t,r,n){if(Zw){var i=_$(e,t,r,n);if(i===null)fS(e,t,n,eb,r),Wk(e,n);else if(BK(i,e,t,r,n))n.stopPropagation();else if(Wk(e,n),t&4&&-1<FK.indexOf(e)){for(;i!==null;){var o=cg(i);if(o!==null&&u3(o),o=_$(e,t,r,n),o===null&&fS(e,t,n,eb,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else fS(e,t,n,null,r)}}var eb=null;function _$(e,t,r,n){if(eb=null,e=dO(n),e=Qc(e),e!==null)if(t=Mf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=t3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return eb=e,null}function p3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RK()){case hO:return 1;case o3:return 4;case Xw:case IK:return 16;case a3:return 536870912;default:return 16}default:return 16}}var Ru=null,vO=null,gy=null;function m3(){if(gy)return gy;var e,t=vO,r=t.length,n,i="value"in Ru?Ru.value:Ru.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return gy=i.slice(e,1<n?1-n:void 0)}function vy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cv(){return!0}function Kk(){return!1}function Zo(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?cv:Kk,this.isPropagationStopped=Kk,this}return kn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cv)},persist:function(){},isPersistent:cv}),t}var Ch={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yO=Zo(Ch),ug=kn({},Ch,{view:0,detail:0}),VK=Zo(ug),rS,nS,ap,v_=kn({},ug,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wO,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ap&&(ap&&e.type==="mousemove"?(rS=e.screenX-ap.screenX,nS=e.screenY-ap.screenY):nS=rS=0,ap=e),rS)},movementY:function(e){return"movementY"in e?e.movementY:nS}}),Jk=Zo(v_),HK=kn({},v_,{dataTransfer:0}),WK=Zo(HK),GK=kn({},ug,{relatedTarget:0}),iS=Zo(GK),KK=kn({},Ch,{animationName:0,elapsedTime:0,pseudoElement:0}),JK=Zo(KK),YK=kn({},Ch,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),XK=Zo(YK),QK=kn({},Ch,{data:0}),Yk=Zo(QK),ZK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rJ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tJ[e])?!!t[e]:!1}function wO(){return rJ}var nJ=kn({},ug,{key:function(e){if(e.key){var t=ZK[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eJ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wO,charCode:function(e){return e.type==="keypress"?vy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iJ=Zo(nJ),oJ=kn({},v_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xk=Zo(oJ),aJ=kn({},ug,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wO}),sJ=Zo(aJ),lJ=kn({},Ch,{propertyName:0,elapsedTime:0,pseudoElement:0}),uJ=Zo(lJ),cJ=kn({},v_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fJ=Zo(cJ),dJ=[9,13,27,32],bO=kl&&"CompositionEvent"in window,Qp=null;kl&&"documentMode"in document&&(Qp=document.documentMode);var hJ=kl&&"TextEvent"in window&&!Qp,g3=kl&&(!bO||Qp&&8<Qp&&11>=Qp),Qk=" ",Zk=!1;function v3(e,t){switch(e){case"keyup":return dJ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cd=!1;function pJ(e,t){switch(e){case"compositionend":return y3(t);case"keypress":return t.which!==32?null:(Zk=!0,Qk);case"textInput":return e=t.data,e===Qk&&Zk?null:e;default:return null}}function mJ(e,t){if(Cd)return e==="compositionend"||!bO&&v3(e,t)?(e=m3(),gy=vO=Ru=null,Cd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return g3&&t.locale!=="ko"?null:t.data;default:return null}}var gJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gJ[e.type]:t==="textarea"}function w3(e,t,r,n){YF(n),t=tb(t,"onChange"),0<t.length&&(r=new yO("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zp=null,Om=null;function vJ(e){R3(e,0)}function y_(e){var t=Md(e);if(qF(t))return e}function yJ(e,t){if(e==="change")return t}var b3=!1;if(kl){var oS;if(kl){var aS="oninput"in document;if(!aS){var tC=document.createElement("div");tC.setAttribute("oninput","return;"),aS=typeof tC.oninput=="function"}oS=aS}else oS=!1;b3=oS&&(!document.documentMode||9<document.documentMode)}function rC(){Zp&&(Zp.detachEvent("onpropertychange",_3),Om=Zp=null)}function _3(e){if(e.propertyName==="value"&&y_(Om)){var t=[];w3(t,Om,e,dO(e)),e3(vJ,t)}}function wJ(e,t,r){e==="focusin"?(rC(),Zp=t,Om=r,Zp.attachEvent("onpropertychange",_3)):e==="focusout"&&rC()}function bJ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return y_(Om)}function _J(e,t){if(e==="click")return y_(t)}function EJ(e,t){if(e==="input"||e==="change")return y_(t)}function SJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ls=typeof Object.is=="function"?Object.is:SJ;function Rm(e,t){if(ls(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!n$.call(t,i)||!ls(e[i],t[i]))return!1}return!0}function nC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iC(e,t){var r=nC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nC(r)}}function E3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?E3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function S3(){for(var e=window,t=Kw();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Kw(e.document)}return t}function _O(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $J(e){var t=S3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&E3(r.ownerDocument.documentElement,r)){if(n!==null&&_O(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=iC(r,o);var a=iC(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var TJ=kl&&"documentMode"in document&&11>=document.documentMode,jd=null,E$=null,em=null,S$=!1;function oC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;S$||jd==null||jd!==Kw(n)||(n=jd,"selectionStart"in n&&_O(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),em&&Rm(em,n)||(em=n,n=tb(E$,"onSelect"),0<n.length&&(t=new yO("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=jd)))}function fv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Dd={animationend:fv("Animation","AnimationEnd"),animationiteration:fv("Animation","AnimationIteration"),animationstart:fv("Animation","AnimationStart"),transitionend:fv("Transition","TransitionEnd")},sS={},$3={};kl&&($3=document.createElement("div").style,"AnimationEvent"in window||(delete Dd.animationend.animation,delete Dd.animationiteration.animation,delete Dd.animationstart.animation),"TransitionEvent"in window||delete Dd.transitionend.transition);function w_(e){if(sS[e])return sS[e];if(!Dd[e])return e;var t=Dd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in $3)return sS[e]=t[r];return e}var T3=w_("animationend"),A3=w_("animationiteration"),x3=w_("animationstart"),P3=w_("transitionend"),O3=new Map,aC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qu(e,t){O3.set(e,t),Df(t,[e])}for(var lS=0;lS<aC.length;lS++){var uS=aC[lS],AJ=uS.toLowerCase(),xJ=uS[0].toUpperCase()+uS.slice(1);Qu(AJ,"on"+xJ)}Qu(T3,"onAnimationEnd");Qu(A3,"onAnimationIteration");Qu(x3,"onAnimationStart");Qu("dblclick","onDoubleClick");Qu("focusin","onFocus");Qu("focusout","onBlur");Qu(P3,"onTransitionEnd");mh("onMouseEnter",["mouseout","mouseover"]);mh("onMouseLeave",["mouseout","mouseover"]);mh("onPointerEnter",["pointerout","pointerover"]);mh("onPointerLeave",["pointerout","pointerover"]);Df("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Df("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Df("onBeforeInput",["compositionend","keypress","textInput","paste"]);Df("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Df("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Df("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pp));function sC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,AK(n,t,void 0,e),e.currentTarget=null}function R3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;sC(i,s,u),o=l}else for(a=0;a<n.length;a++){if(s=n[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;sC(i,s,u),o=l}}}if(Yw)throw e=y$,Yw=!1,y$=null,e}function gn(e,t){var r=t[P$];r===void 0&&(r=t[P$]=new Set);var n=e+"__bubble";r.has(n)||(I3(t,e,2,!1),r.add(n))}function cS(e,t,r){var n=0;t&&(n|=4),I3(r,e,n,t)}var dv="_reactListening"+Math.random().toString(36).slice(2);function Im(e){if(!e[dv]){e[dv]=!0,LF.forEach(function(r){r!=="selectionchange"&&(PJ.has(r)||cS(r,!1,e),cS(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dv]||(t[dv]=!0,cS("selectionchange",!1,t))}}function I3(e,t,r,n){switch(p3(t)){case 1:var i=zK;break;case 4:i=qK;break;default:i=gO}r=i.bind(null,t,r,e),i=void 0,!v$||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function fS(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Qc(s),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}s=s.parentNode}}n=n.return}e3(function(){var u=o,f=dO(r),c=[];e:{var p=O3.get(e);if(p!==void 0){var m=yO,g=e;switch(e){case"keypress":if(vy(r)===0)break e;case"keydown":case"keyup":m=iJ;break;case"focusin":g="focus",m=iS;break;case"focusout":g="blur",m=iS;break;case"beforeblur":case"afterblur":m=iS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Jk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=WK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=sJ;break;case T3:case A3:case x3:m=JK;break;case P3:m=uJ;break;case"scroll":m=VK;break;case"wheel":m=fJ;break;case"copy":case"cut":case"paste":m=XK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Xk}var _=(t&4)!==0,v=!_&&e==="scroll",h=_?p!==null?p+"Capture":null:p;_=[];for(var E=u,y;E!==null;){y=E;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,h!==null&&(S=Tm(E,h),S!=null&&_.push(Nm(E,S,y)))),v)break;E=E.return}0<_.length&&(p=new m(p,g,null,r,f),c.push({event:p,listeners:_}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==m$&&(g=r.relatedTarget||r.fromElement)&&(Qc(g)||g[Cl]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Qc(g):null,g!==null&&(v=Mf(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(_=Jk,S="onMouseLeave",h="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(_=Xk,S="onPointerLeave",h="onPointerEnter",E="pointer"),v=m==null?p:Md(m),y=g==null?p:Md(g),p=new _(S,E+"leave",m,r,f),p.target=v,p.relatedTarget=y,S=null,Qc(f)===u&&(_=new _(h,E+"enter",g,r,f),_.target=y,_.relatedTarget=v,S=_),v=S,m&&g)t:{for(_=m,h=g,E=0,y=_;y;y=ld(y))E++;for(y=0,S=h;S;S=ld(S))y++;for(;0<E-y;)_=ld(_),E--;for(;0<y-E;)h=ld(h),y--;for(;E--;){if(_===h||h!==null&&_===h.alternate)break t;_=ld(_),h=ld(h)}_=null}else _=null;m!==null&&lC(c,p,m,_,!1),g!==null&&v!==null&&lC(c,v,g,_,!0)}}e:{if(p=u?Md(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var $=yJ;else if(eC(p))if(b3)$=EJ;else{$=bJ;var T=wJ}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&($=_J);if($&&($=$(e,u))){w3(c,$,r,f);break e}T&&T(e,p,u),e==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&c$(p,"number",p.value)}switch(T=u?Md(u):window,e){case"focusin":(eC(T)||T.contentEditable==="true")&&(jd=T,E$=u,em=null);break;case"focusout":em=E$=jd=null;break;case"mousedown":S$=!0;break;case"contextmenu":case"mouseup":case"dragend":S$=!1,oC(c,r,f);break;case"selectionchange":if(TJ)break;case"keydown":case"keyup":oC(c,r,f)}var d;if(bO)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Cd?v3(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(g3&&r.locale!=="ko"&&(Cd||A!=="onCompositionStart"?A==="onCompositionEnd"&&Cd&&(d=m3()):(Ru=f,vO="value"in Ru?Ru.value:Ru.textContent,Cd=!0)),T=tb(u,A),0<T.length&&(A=new Yk(A,e,null,r,f),c.push({event:A,listeners:T}),d?A.data=d:(d=y3(r),d!==null&&(A.data=d)))),(d=hJ?pJ(e,r):mJ(e,r))&&(u=tb(u,"onBeforeInput"),0<u.length&&(f=new Yk("onBeforeInput","beforeinput",null,r,f),c.push({event:f,listeners:u}),f.data=d))}R3(c,t)})}function Nm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function tb(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Tm(e,r),o!=null&&n.unshift(Nm(e,o,i)),o=Tm(e,t),o!=null&&n.push(Nm(e,o,i))),e=e.return}return n}function ld(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lC(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=Tm(r,o),l!=null&&a.unshift(Nm(r,l,s))):i||(l=Tm(r,o),l!=null&&a.push(Nm(r,l,s)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var OJ=/\r\n?/g,RJ=/\u0000|\uFFFD/g;function uC(e){return(typeof e=="string"?e:""+e).replace(OJ,`
`).replace(RJ,"")}function hv(e,t,r){if(t=uC(t),uC(e)!==t&&r)throw Error(St(425))}function rb(){}var $$=null,T$=null;function A$(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var x$=typeof setTimeout=="function"?setTimeout:void 0,IJ=typeof clearTimeout=="function"?clearTimeout:void 0,cC=typeof Promise=="function"?Promise:void 0,NJ=typeof queueMicrotask=="function"?queueMicrotask:typeof cC<"u"?function(e){return cC.resolve(null).then(e).catch(kJ)}:x$;function kJ(e){setTimeout(function(){throw e})}function dS(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Pm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Pm(t)}function Fu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var jh=Math.random().toString(36).slice(2),Ms="__reactFiber$"+jh,km="__reactProps$"+jh,Cl="__reactContainer$"+jh,P$="__reactEvents$"+jh,CJ="__reactListeners$"+jh,jJ="__reactHandles$"+jh;function Qc(e){var t=e[Ms];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Cl]||r[Ms]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fC(e);e!==null;){if(r=e[Ms])return r;e=fC(e)}return t}e=r,r=e.parentNode}return null}function cg(e){return e=e[Ms]||e[Cl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Md(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(St(33))}function b_(e){return e[km]||null}var O$=[],Ld=-1;function Zu(e){return{current:e}}function wn(e){0>Ld||(e.current=O$[Ld],O$[Ld]=null,Ld--)}function hn(e,t){Ld++,O$[Ld]=e.current,e.current=t}var Ju={},zi=Zu(Ju),$o=Zu(!1),_f=Ju;function gh(e,t){var r=e.type.contextTypes;if(!r)return Ju;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function To(e){return e=e.childContextTypes,e!=null}function nb(){wn($o),wn(zi)}function dC(e,t,r){if(zi.current!==Ju)throw Error(St(168));hn(zi,t),hn($o,r)}function N3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(St(108,wK(e)||"Unknown",i));return kn({},r,n)}function ib(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ju,_f=zi.current,hn(zi,e),hn($o,$o.current),!0}function hC(e,t,r){var n=e.stateNode;if(!n)throw Error(St(169));r?(e=N3(e,t,_f),n.__reactInternalMemoizedMergedChildContext=e,wn($o),wn(zi),hn(zi,e)):wn($o),hn($o,r)}var wl=null,__=!1,hS=!1;function k3(e){wl===null?wl=[e]:wl.push(e)}function DJ(e){__=!0,k3(e)}function ec(){if(!hS&&wl!==null){hS=!0;var e=0,t=en;try{var r=wl;for(en=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}wl=null,__=!1}catch(i){throw wl!==null&&(wl=wl.slice(e+1)),i3(hO,ec),i}finally{en=t,hS=!1}}return null}var Fd=[],Bd=0,ob=null,ab=0,ma=[],ga=0,Ef=null,Sl=1,$l="";function Fc(e,t){Fd[Bd++]=ab,Fd[Bd++]=ob,ob=e,ab=t}function C3(e,t,r){ma[ga++]=Sl,ma[ga++]=$l,ma[ga++]=Ef,Ef=e;var n=Sl;e=$l;var i=32-os(n)-1;n&=~(1<<i),r+=1;var o=32-os(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Sl=1<<32-os(t)+i|r<<i|n,$l=o+e}else Sl=1<<o|r<<i|n,$l=e}function EO(e){e.return!==null&&(Fc(e,1),C3(e,1,0))}function SO(e){for(;e===ob;)ob=Fd[--Bd],Fd[Bd]=null,ab=Fd[--Bd],Fd[Bd]=null;for(;e===Ef;)Ef=ma[--ga],ma[ga]=null,$l=ma[--ga],ma[ga]=null,Sl=ma[--ga],ma[ga]=null}var Jo=null,Go=null,xn=!1,ts=null;function j3(e,t){var r=Pa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function pC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jo=e,Go=Fu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jo=e,Go=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ef!==null?{id:Sl,overflow:$l}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Pa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jo=e,Go=null,!0):!1;default:return!1}}function R$(e){return(e.mode&1)!==0&&(e.flags&128)===0}function I$(e){if(xn){var t=Go;if(t){var r=t;if(!pC(e,t)){if(R$(e))throw Error(St(418));t=Fu(r.nextSibling);var n=Jo;t&&pC(e,t)?j3(n,r):(e.flags=e.flags&-4097|2,xn=!1,Jo=e)}}else{if(R$(e))throw Error(St(418));e.flags=e.flags&-4097|2,xn=!1,Jo=e}}}function mC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jo=e}function pv(e){if(e!==Jo)return!1;if(!xn)return mC(e),xn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!A$(e.type,e.memoizedProps)),t&&(t=Go)){if(R$(e))throw D3(),Error(St(418));for(;t;)j3(e,t),t=Fu(t.nextSibling)}if(mC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(St(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Go=Fu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Go=null}}else Go=Jo?Fu(e.stateNode.nextSibling):null;return!0}function D3(){for(var e=Go;e;)e=Fu(e.nextSibling)}function vh(){Go=Jo=null,xn=!1}function $O(e){ts===null?ts=[e]:ts.push(e)}var MJ=Ul.ReactCurrentBatchConfig;function sp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(St(309));var n=r.stateNode}if(!n)throw Error(St(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(St(284));if(!r._owner)throw Error(St(290,e))}return e}function mv(e,t){throw e=Object.prototype.toString.call(t),Error(St(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gC(e){var t=e._init;return t(e._payload)}function M3(e){function t(h,E){if(e){var y=h.deletions;y===null?(h.deletions=[E],h.flags|=16):y.push(E)}}function r(h,E){if(!e)return null;for(;E!==null;)t(h,E),E=E.sibling;return null}function n(h,E){for(h=new Map;E!==null;)E.key!==null?h.set(E.key,E):h.set(E.index,E),E=E.sibling;return h}function i(h,E){return h=qu(h,E),h.index=0,h.sibling=null,h}function o(h,E,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<E?(h.flags|=2,E):y):(h.flags|=2,E)):(h.flags|=1048576,E)}function a(h){return e&&h.alternate===null&&(h.flags|=2),h}function s(h,E,y,S){return E===null||E.tag!==6?(E=bS(y,h.mode,S),E.return=h,E):(E=i(E,y),E.return=h,E)}function l(h,E,y,S){var $=y.type;return $===kd?f(h,E,y.props.children,S,y.key):E!==null&&(E.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Su&&gC($)===E.type)?(S=i(E,y.props),S.ref=sp(h,E,y),S.return=h,S):(S=$y(y.type,y.key,y.props,null,h.mode,S),S.ref=sp(h,E,y),S.return=h,S)}function u(h,E,y,S){return E===null||E.tag!==4||E.stateNode.containerInfo!==y.containerInfo||E.stateNode.implementation!==y.implementation?(E=_S(y,h.mode,S),E.return=h,E):(E=i(E,y.children||[]),E.return=h,E)}function f(h,E,y,S,$){return E===null||E.tag!==7?(E=uf(y,h.mode,S,$),E.return=h,E):(E=i(E,y),E.return=h,E)}function c(h,E,y){if(typeof E=="string"&&E!==""||typeof E=="number")return E=bS(""+E,h.mode,y),E.return=h,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case iv:return y=$y(E.type,E.key,E.props,null,h.mode,y),y.ref=sp(h,null,E),y.return=h,y;case Nd:return E=_S(E,h.mode,y),E.return=h,E;case Su:var S=E._init;return c(h,S(E._payload),y)}if(Ap(E)||rp(E))return E=uf(E,h.mode,y,null),E.return=h,E;mv(h,E)}return null}function p(h,E,y,S){var $=E!==null?E.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return $!==null?null:s(h,E,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case iv:return y.key===$?l(h,E,y,S):null;case Nd:return y.key===$?u(h,E,y,S):null;case Su:return $=y._init,p(h,E,$(y._payload),S)}if(Ap(y)||rp(y))return $!==null?null:f(h,E,y,S,null);mv(h,y)}return null}function m(h,E,y,S,$){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(y)||null,s(E,h,""+S,$);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case iv:return h=h.get(S.key===null?y:S.key)||null,l(E,h,S,$);case Nd:return h=h.get(S.key===null?y:S.key)||null,u(E,h,S,$);case Su:var T=S._init;return m(h,E,y,T(S._payload),$)}if(Ap(S)||rp(S))return h=h.get(y)||null,f(E,h,S,$,null);mv(E,S)}return null}function g(h,E,y,S){for(var $=null,T=null,d=E,A=E=0,x=null;d!==null&&A<y.length;A++){d.index>A?(x=d,d=null):x=d.sibling;var P=p(h,d,y[A],S);if(P===null){d===null&&(d=x);break}e&&d&&P.alternate===null&&t(h,d),E=o(P,E,A),T===null?$=P:T.sibling=P,T=P,d=x}if(A===y.length)return r(h,d),xn&&Fc(h,A),$;if(d===null){for(;A<y.length;A++)d=c(h,y[A],S),d!==null&&(E=o(d,E,A),T===null?$=d:T.sibling=d,T=d);return xn&&Fc(h,A),$}for(d=n(h,d);A<y.length;A++)x=m(d,h,A,y[A],S),x!==null&&(e&&x.alternate!==null&&d.delete(x.key===null?A:x.key),E=o(x,E,A),T===null?$=x:T.sibling=x,T=x);return e&&d.forEach(function(j){return t(h,j)}),xn&&Fc(h,A),$}function _(h,E,y,S){var $=rp(y);if(typeof $!="function")throw Error(St(150));if(y=$.call(y),y==null)throw Error(St(151));for(var T=$=null,d=E,A=E=0,x=null,P=y.next();d!==null&&!P.done;A++,P=y.next()){d.index>A?(x=d,d=null):x=d.sibling;var j=p(h,d,P.value,S);if(j===null){d===null&&(d=x);break}e&&d&&j.alternate===null&&t(h,d),E=o(j,E,A),T===null?$=j:T.sibling=j,T=j,d=x}if(P.done)return r(h,d),xn&&Fc(h,A),$;if(d===null){for(;!P.done;A++,P=y.next())P=c(h,P.value,S),P!==null&&(E=o(P,E,A),T===null?$=P:T.sibling=P,T=P);return xn&&Fc(h,A),$}for(d=n(h,d);!P.done;A++,P=y.next())P=m(d,h,A,P.value,S),P!==null&&(e&&P.alternate!==null&&d.delete(P.key===null?A:P.key),E=o(P,E,A),T===null?$=P:T.sibling=P,T=P);return e&&d.forEach(function(F){return t(h,F)}),xn&&Fc(h,A),$}function v(h,E,y,S){if(typeof y=="object"&&y!==null&&y.type===kd&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case iv:e:{for(var $=y.key,T=E;T!==null;){if(T.key===$){if($=y.type,$===kd){if(T.tag===7){r(h,T.sibling),E=i(T,y.props.children),E.return=h,h=E;break e}}else if(T.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Su&&gC($)===T.type){r(h,T.sibling),E=i(T,y.props),E.ref=sp(h,T,y),E.return=h,h=E;break e}r(h,T);break}else t(h,T);T=T.sibling}y.type===kd?(E=uf(y.props.children,h.mode,S,y.key),E.return=h,h=E):(S=$y(y.type,y.key,y.props,null,h.mode,S),S.ref=sp(h,E,y),S.return=h,h=S)}return a(h);case Nd:e:{for(T=y.key;E!==null;){if(E.key===T)if(E.tag===4&&E.stateNode.containerInfo===y.containerInfo&&E.stateNode.implementation===y.implementation){r(h,E.sibling),E=i(E,y.children||[]),E.return=h,h=E;break e}else{r(h,E);break}else t(h,E);E=E.sibling}E=_S(y,h.mode,S),E.return=h,h=E}return a(h);case Su:return T=y._init,v(h,E,T(y._payload),S)}if(Ap(y))return g(h,E,y,S);if(rp(y))return _(h,E,y,S);mv(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,E!==null&&E.tag===6?(r(h,E.sibling),E=i(E,y),E.return=h,h=E):(r(h,E),E=bS(y,h.mode,S),E.return=h,h=E),a(h)):r(h,E)}return v}var yh=M3(!0),L3=M3(!1),sb=Zu(null),lb=null,Ud=null,TO=null;function AO(){TO=Ud=lb=null}function xO(e){var t=sb.current;wn(sb),e._currentValue=t}function N$(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function eh(e,t){lb=e,TO=Ud=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(So=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(TO!==e)if(e={context:e,memoizedValue:t,next:null},Ud===null){if(lb===null)throw Error(St(308));Ud=e,lb.dependencies={lanes:0,firstContext:e}}else Ud=Ud.next=e;return t}var Zc=null;function PO(e){Zc===null?Zc=[e]:Zc.push(e)}function F3(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,PO(t)):(r.next=i.next,i.next=r),t.interleaved=r,jl(e,n)}function jl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $u=!1;function OO(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function B3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ol(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Dr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,jl(e,r)}return i=n.interleaved,i===null?(t.next=t,PO(n)):(t.next=i.next,i.next=t),n.interleaved=t,jl(e,r)}function yy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pO(e,r)}}function vC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ub(e,t,r,n){var i=e.updateQueue;$u=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==a&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;a=0,f=u=l=null,s=o;do{var p=s.lane,m=s.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,_=s;switch(p=t,m=r,_.tag){case 1:if(g=_.payload,typeof g=="function"){c=g.call(m,c,p);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,p=typeof g=="function"?g.call(m,c,p):g,p==null)break e;c=kn({},c,p);break e;case 2:$u=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=m,l=c):f=f.next=m,a|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);$f|=a,e.lanes=a,e.memoizedState=c}}function yC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(St(191,i));i.call(n)}}}var fg={},Js=Zu(fg),Cm=Zu(fg),jm=Zu(fg);function ef(e){if(e===fg)throw Error(St(174));return e}function RO(e,t){switch(hn(jm,t),hn(Cm,e),hn(Js,fg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:d$(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=d$(t,e)}wn(Js),hn(Js,t)}function wh(){wn(Js),wn(Cm),wn(jm)}function U3(e){ef(jm.current);var t=ef(Js.current),r=d$(t,e.type);t!==r&&(hn(Cm,e),hn(Js,r))}function IO(e){Cm.current===e&&(wn(Js),wn(Cm))}var In=Zu(0);function cb(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pS=[];function NO(){for(var e=0;e<pS.length;e++)pS[e]._workInProgressVersionPrimary=null;pS.length=0}var wy=Ul.ReactCurrentDispatcher,mS=Ul.ReactCurrentBatchConfig,Sf=0,Nn=null,ti=null,ui=null,fb=!1,tm=!1,Dm=0,LJ=0;function Ii(){throw Error(St(321))}function kO(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ls(e[r],t[r]))return!1;return!0}function CO(e,t,r,n,i,o){if(Sf=o,Nn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wy.current=e===null||e.memoizedState===null?zJ:qJ,e=r(n,i),tm){o=0;do{if(tm=!1,Dm=0,25<=o)throw Error(St(301));o+=1,ui=ti=null,t.updateQueue=null,wy.current=VJ,e=r(n,i)}while(tm)}if(wy.current=db,t=ti!==null&&ti.next!==null,Sf=0,ui=ti=Nn=null,fb=!1,t)throw Error(St(300));return e}function jO(){var e=Dm!==0;return Dm=0,e}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ui===null?Nn.memoizedState=ui=e:ui=ui.next=e,ui}function Na(){if(ti===null){var e=Nn.alternate;e=e!==null?e.memoizedState:null}else e=ti.next;var t=ui===null?Nn.memoizedState:ui.next;if(t!==null)ui=t,ti=e;else{if(e===null)throw Error(St(310));ti=e,e={memoizedState:ti.memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},ui===null?Nn.memoizedState=ui=e:ui=ui.next=e}return ui}function Mm(e,t){return typeof t=="function"?t(e):t}function gS(e){var t=Na(),r=t.queue;if(r===null)throw Error(St(311));r.lastRenderedReducer=e;var n=ti,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,l=null,u=o;do{var f=u.lane;if((Sf&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=c,a=n):l=l.next=c,Nn.lanes|=f,$f|=f}u=u.next}while(u!==null&&u!==o);l===null?a=n:l.next=s,ls(n,t.memoizedState)||(So=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,Nn.lanes|=o,$f|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function vS(e){var t=Na(),r=t.queue;if(r===null)throw Error(St(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);ls(o,t.memoizedState)||(So=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function z3(){}function q3(e,t){var r=Nn,n=Na(),i=t(),o=!ls(n.memoizedState,i);if(o&&(n.memoizedState=i,So=!0),n=n.queue,DO(W3.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||ui!==null&&ui.memoizedState.tag&1){if(r.flags|=2048,Lm(9,H3.bind(null,r,n,i,t),void 0,null),fi===null)throw Error(St(349));Sf&30||V3(r,t,i)}return i}function V3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Nn.updateQueue,t===null?(t={lastEffect:null,stores:null},Nn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function H3(e,t,r,n){t.value=r,t.getSnapshot=n,G3(t)&&K3(e)}function W3(e,t,r){return r(function(){G3(t)&&K3(e)})}function G3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ls(e,r)}catch{return!0}}function K3(e){var t=jl(e,1);t!==null&&as(t,e,1,-1)}function wC(e){var t=Cs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mm,lastRenderedState:e},t.queue=e,e=e.dispatch=UJ.bind(null,Nn,e),[t.memoizedState,e]}function Lm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Nn.updateQueue,t===null?(t={lastEffect:null,stores:null},Nn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function J3(){return Na().memoizedState}function by(e,t,r,n){var i=Cs();Nn.flags|=e,i.memoizedState=Lm(1|t,r,void 0,n===void 0?null:n)}function E_(e,t,r,n){var i=Na();n=n===void 0?null:n;var o=void 0;if(ti!==null){var a=ti.memoizedState;if(o=a.destroy,n!==null&&kO(n,a.deps)){i.memoizedState=Lm(t,r,o,n);return}}Nn.flags|=e,i.memoizedState=Lm(1|t,r,o,n)}function bC(e,t){return by(8390656,8,e,t)}function DO(e,t){return E_(2048,8,e,t)}function Y3(e,t){return E_(4,2,e,t)}function X3(e,t){return E_(4,4,e,t)}function Q3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Z3(e,t,r){return r=r!=null?r.concat([e]):null,E_(4,4,Q3.bind(null,t,e),r)}function MO(){}function e4(e,t){var r=Na();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&kO(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function t4(e,t){var r=Na();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&kO(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function r4(e,t,r){return Sf&21?(ls(r,t)||(r=s3(),Nn.lanes|=r,$f|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,So=!0),e.memoizedState=r)}function FJ(e,t){var r=en;en=r!==0&&4>r?r:4,e(!0);var n=mS.transition;mS.transition={};try{e(!1),t()}finally{en=r,mS.transition=n}}function n4(){return Na().memoizedState}function BJ(e,t,r){var n=zu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},i4(e))o4(t,r);else if(r=F3(e,t,r,n),r!==null){var i=ro();as(r,e,n,i),a4(r,t,n)}}function UJ(e,t,r){var n=zu(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(i4(e))o4(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,ls(s,a)){var l=t.interleaved;l===null?(i.next=i,PO(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=F3(e,t,i,n),r!==null&&(i=ro(),as(r,e,n,i),a4(r,t,n))}}function i4(e){var t=e.alternate;return e===Nn||t!==null&&t===Nn}function o4(e,t){tm=fb=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function a4(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pO(e,r)}}var db={readContext:Ia,useCallback:Ii,useContext:Ii,useEffect:Ii,useImperativeHandle:Ii,useInsertionEffect:Ii,useLayoutEffect:Ii,useMemo:Ii,useReducer:Ii,useRef:Ii,useState:Ii,useDebugValue:Ii,useDeferredValue:Ii,useTransition:Ii,useMutableSource:Ii,useSyncExternalStore:Ii,useId:Ii,unstable_isNewReconciler:!1},zJ={readContext:Ia,useCallback:function(e,t){return Cs().memoizedState=[e,t===void 0?null:t],e},useContext:Ia,useEffect:bC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,by(4194308,4,Q3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return by(4194308,4,e,t)},useInsertionEffect:function(e,t){return by(4,2,e,t)},useMemo:function(e,t){var r=Cs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Cs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=BJ.bind(null,Nn,e),[n.memoizedState,e]},useRef:function(e){var t=Cs();return e={current:e},t.memoizedState=e},useState:wC,useDebugValue:MO,useDeferredValue:function(e){return Cs().memoizedState=e},useTransition:function(){var e=wC(!1),t=e[0];return e=FJ.bind(null,e[1]),Cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Nn,i=Cs();if(xn){if(r===void 0)throw Error(St(407));r=r()}else{if(r=t(),fi===null)throw Error(St(349));Sf&30||V3(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,bC(W3.bind(null,n,o,e),[e]),n.flags|=2048,Lm(9,H3.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Cs(),t=fi.identifierPrefix;if(xn){var r=$l,n=Sl;r=(n&~(1<<32-os(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=LJ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qJ={readContext:Ia,useCallback:e4,useContext:Ia,useEffect:DO,useImperativeHandle:Z3,useInsertionEffect:Y3,useLayoutEffect:X3,useMemo:t4,useReducer:gS,useRef:J3,useState:function(){return gS(Mm)},useDebugValue:MO,useDeferredValue:function(e){var t=Na();return r4(t,ti.memoizedState,e)},useTransition:function(){var e=gS(Mm)[0],t=Na().memoizedState;return[e,t]},useMutableSource:z3,useSyncExternalStore:q3,useId:n4,unstable_isNewReconciler:!1},VJ={readContext:Ia,useCallback:e4,useContext:Ia,useEffect:DO,useImperativeHandle:Z3,useInsertionEffect:Y3,useLayoutEffect:X3,useMemo:t4,useReducer:vS,useRef:J3,useState:function(){return vS(Mm)},useDebugValue:MO,useDeferredValue:function(e){var t=Na();return ti===null?t.memoizedState=e:r4(t,ti.memoizedState,e)},useTransition:function(){var e=vS(Mm)[0],t=Na().memoizedState;return[e,t]},useMutableSource:z3,useSyncExternalStore:q3,useId:n4,unstable_isNewReconciler:!1};function Qa(e,t){if(e&&e.defaultProps){t=kn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function k$(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:kn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var S_={isMounted:function(e){return(e=e._reactInternals)?Mf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ro(),i=zu(e),o=Ol(n,i);o.payload=t,r!=null&&(o.callback=r),t=Bu(e,o,i),t!==null&&(as(t,e,i,n),yy(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ro(),i=zu(e),o=Ol(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Bu(e,o,i),t!==null&&(as(t,e,i,n),yy(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ro(),n=zu(e),i=Ol(r,n);i.tag=2,t!=null&&(i.callback=t),t=Bu(e,i,n),t!==null&&(as(t,e,n,r),yy(t,e,n))}};function _C(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!Rm(r,n)||!Rm(i,o):!0}function s4(e,t,r){var n=!1,i=Ju,o=t.contextType;return typeof o=="object"&&o!==null?o=Ia(o):(i=To(t)?_f:zi.current,n=t.contextTypes,o=(n=n!=null)?gh(e,i):Ju),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=S_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function EC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&S_.enqueueReplaceState(t,t.state,null)}function C$(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},OO(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ia(o):(o=To(t)?_f:zi.current,i.context=gh(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(k$(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&S_.enqueueReplaceState(i,i.state,null),ub(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function bh(e,t){try{var r="",n=t;do r+=yK(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function yS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function j$(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var HJ=typeof WeakMap=="function"?WeakMap:Map;function l4(e,t,r){r=Ol(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){pb||(pb=!0,H$=n),j$(e,t)},r}function u4(e,t,r){r=Ol(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){j$(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){j$(e,t),typeof n!="function"&&(Uu===null?Uu=new Set([this]):Uu.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function SC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new HJ;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=oY.bind(null,e,t,r),t.then(e,e))}function $C(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function TC(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ol(-1,1),t.tag=2,Bu(r,t,1))),r.lanes|=1),e)}var WJ=Ul.ReactCurrentOwner,So=!1;function Ji(e,t,r,n){t.child=e===null?L3(t,null,r,n):yh(t,e.child,r,n)}function AC(e,t,r,n,i){r=r.render;var o=t.ref;return eh(t,i),n=CO(e,t,r,n,o,i),r=jO(),e!==null&&!So?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dl(e,t,i)):(xn&&r&&EO(t),t.flags|=1,Ji(e,t,n,i),t.child)}function xC(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!HO(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,c4(e,t,o,n,i)):(e=$y(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Rm,r(a,n)&&e.ref===t.ref)return Dl(e,t,i)}return t.flags|=1,e=qu(o,n),e.ref=t.ref,e.return=t,t.child=e}function c4(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(Rm(o,n)&&e.ref===t.ref)if(So=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(So=!0);else return t.lanes=e.lanes,Dl(e,t,i)}return D$(e,t,r,n,i)}function f4(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},hn(qd,qo),qo|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,hn(qd,qo),qo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,hn(qd,qo),qo|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,hn(qd,qo),qo|=n;return Ji(e,t,i,r),t.child}function d4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function D$(e,t,r,n,i){var o=To(r)?_f:zi.current;return o=gh(t,o),eh(t,i),r=CO(e,t,r,n,o,i),n=jO(),e!==null&&!So?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dl(e,t,i)):(xn&&n&&EO(t),t.flags|=1,Ji(e,t,r,i),t.child)}function PC(e,t,r,n,i){if(To(r)){var o=!0;ib(t)}else o=!1;if(eh(t,i),t.stateNode===null)_y(e,t),s4(t,r,n),C$(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ia(u):(u=To(r)?_f:zi.current,u=gh(t,u));var f=r.getDerivedStateFromProps,c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==u)&&EC(t,a,n,u),$u=!1;var p=t.memoizedState;a.state=p,ub(t,n,a,i),l=t.memoizedState,s!==n||p!==l||$o.current||$u?(typeof f=="function"&&(k$(t,r,f,n),l=t.memoizedState),(s=$u||_C(t,r,s,n,p,l,u))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,B3(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Qa(t.type,s),a.props=u,c=t.pendingProps,p=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ia(l):(l=To(r)?_f:zi.current,l=gh(t,l));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==c||p!==l)&&EC(t,a,n,l),$u=!1,p=t.memoizedState,a.state=p,ub(t,n,a,i);var g=t.memoizedState;s!==c||p!==g||$o.current||$u?(typeof m=="function"&&(k$(t,r,m,n),g=t.memoizedState),(u=$u||_C(t,r,u,n,p,g,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return M$(e,t,r,n,o,i)}function M$(e,t,r,n,i,o){d4(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&hC(t,r,!1),Dl(e,t,o);n=t.stateNode,WJ.current=t;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=yh(t,e.child,null,o),t.child=yh(t,null,s,o)):Ji(e,t,s,o),t.memoizedState=n.state,i&&hC(t,r,!0),t.child}function h4(e){var t=e.stateNode;t.pendingContext?dC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dC(e,t.context,!1),RO(e,t.containerInfo)}function OC(e,t,r,n,i){return vh(),$O(i),t.flags|=256,Ji(e,t,r,n),t.child}var L$={dehydrated:null,treeContext:null,retryLane:0};function F$(e){return{baseLanes:e,cachePool:null,transitions:null}}function p4(e,t,r){var n=t.pendingProps,i=In.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),hn(In,i&1),e===null)return I$(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=A_(a,n,0,null),e=uf(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=F$(r),t.memoizedState=L$,e):LO(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return GJ(e,t,a,n,s,i,r);if(o){o=n.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=qu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=qu(s,o):(o=uf(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?F$(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=L$,n}return o=e.child,e=o.sibling,n=qu(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function LO(e,t){return t=A_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gv(e,t,r,n){return n!==null&&$O(n),yh(t,e.child,null,r),e=LO(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function GJ(e,t,r,n,i,o,a){if(r)return t.flags&256?(t.flags&=-257,n=yS(Error(St(422))),gv(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=A_({mode:"visible",children:n.children},i,0,null),o=uf(o,i,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&yh(t,e.child,null,a),t.child.memoizedState=F$(a),t.memoizedState=L$,o);if(!(t.mode&1))return gv(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(St(419)),n=yS(o,n,void 0),gv(e,t,a,n)}if(s=(a&e.childLanes)!==0,So||s){if(n=fi,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,jl(e,i),as(n,e,i,-1))}return VO(),n=yS(Error(St(421))),gv(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=aY.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Go=Fu(i.nextSibling),Jo=t,xn=!0,ts=null,e!==null&&(ma[ga++]=Sl,ma[ga++]=$l,ma[ga++]=Ef,Sl=e.id,$l=e.overflow,Ef=t),t=LO(t,n.children),t.flags|=4096,t)}function RC(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),N$(e.return,t,r)}function wS(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function m4(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Ji(e,t,n.children,r),n=In.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&RC(e,r,t);else if(e.tag===19)RC(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(hn(In,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&cb(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),wS(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&cb(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}wS(t,!0,r,null,o);break;case"together":wS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _y(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$f|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(St(153));if(t.child!==null){for(e=t.child,r=qu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function KJ(e,t,r){switch(t.tag){case 3:h4(t),vh();break;case 5:U3(t);break;case 1:To(t.type)&&ib(t);break;case 4:RO(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;hn(sb,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(hn(In,In.current&1),t.flags|=128,null):r&t.child.childLanes?p4(e,t,r):(hn(In,In.current&1),e=Dl(e,t,r),e!==null?e.sibling:null);hn(In,In.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return m4(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),hn(In,In.current),n)break;return null;case 22:case 23:return t.lanes=0,f4(e,t,r)}return Dl(e,t,r)}var g4,B$,v4,y4;g4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};B$=function(){};v4=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ef(Js.current);var o=null;switch(r){case"input":i=l$(e,i),n=l$(e,n),o=[];break;case"select":i=kn({},i,{value:void 0}),n=kn({},n,{value:void 0}),o=[];break;case"textarea":i=f$(e,i),n=f$(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=rb)}h$(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sm.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&gn("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};y4=function(e,t,r,n){r!==n&&(t.flags|=4)};function lp(e,t){if(!xn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ni(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function JJ(e,t,r){var n=t.pendingProps;switch(SO(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ni(t),null;case 1:return To(t.type)&&nb(),Ni(t),null;case 3:return n=t.stateNode,wh(),wn($o),wn(zi),NO(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ts!==null&&(K$(ts),ts=null))),B$(e,t),Ni(t),null;case 5:IO(t);var i=ef(jm.current);if(r=t.type,e!==null&&t.stateNode!=null)v4(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(St(166));return Ni(t),null}if(e=ef(Js.current),pv(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Ms]=t,n[km]=o,e=(t.mode&1)!==0,r){case"dialog":gn("cancel",n),gn("close",n);break;case"iframe":case"object":case"embed":gn("load",n);break;case"video":case"audio":for(i=0;i<Pp.length;i++)gn(Pp[i],n);break;case"source":gn("error",n);break;case"img":case"image":case"link":gn("error",n),gn("load",n);break;case"details":gn("toggle",n);break;case"input":Fk(n,o),gn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},gn("invalid",n);break;case"textarea":Uk(n,o),gn("invalid",n)}h$(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&hv(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&hv(n.textContent,s,e),i=["children",""+s]):Sm.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&gn("scroll",n)}switch(r){case"input":ov(n),Bk(n,o,!0);break;case"textarea":ov(n),zk(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=rb)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=WF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Ms]=t,e[km]=n,g4(e,t,!1,!1),t.stateNode=e;e:{switch(a=p$(r,n),r){case"dialog":gn("cancel",e),gn("close",e),i=n;break;case"iframe":case"object":case"embed":gn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Pp.length;i++)gn(Pp[i],e);i=n;break;case"source":gn("error",e),i=n;break;case"img":case"image":case"link":gn("error",e),gn("load",e),i=n;break;case"details":gn("toggle",e),i=n;break;case"input":Fk(e,n),i=l$(e,n),gn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=kn({},n,{value:void 0}),gn("invalid",e);break;case"textarea":Uk(e,n),i=f$(e,n),gn("invalid",e);break;default:i=n}h$(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?JF(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&GF(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&$m(e,l):typeof l=="number"&&$m(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Sm.hasOwnProperty(o)?l!=null&&o==="onScroll"&&gn("scroll",e):l!=null&&lO(e,o,l,a))}switch(r){case"input":ov(e),Bk(e,n,!1);break;case"textarea":ov(e),zk(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ku(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Yd(e,!!n.multiple,o,!1):n.defaultValue!=null&&Yd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=rb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ni(t),null;case 6:if(e&&t.stateNode!=null)y4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(St(166));if(r=ef(jm.current),ef(Js.current),pv(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ms]=t,(o=n.nodeValue!==r)&&(e=Jo,e!==null))switch(e.tag){case 3:hv(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hv(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ms]=t,t.stateNode=n}return Ni(t),null;case 13:if(wn(In),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xn&&Go!==null&&t.mode&1&&!(t.flags&128))D3(),vh(),t.flags|=98560,o=!1;else if(o=pv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(St(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(St(317));o[Ms]=t}else vh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ni(t),o=!1}else ts!==null&&(K$(ts),ts=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||In.current&1?ii===0&&(ii=3):VO())),t.updateQueue!==null&&(t.flags|=4),Ni(t),null);case 4:return wh(),B$(e,t),e===null&&Im(t.stateNode.containerInfo),Ni(t),null;case 10:return xO(t.type._context),Ni(t),null;case 17:return To(t.type)&&nb(),Ni(t),null;case 19:if(wn(In),o=t.memoizedState,o===null)return Ni(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)lp(o,!1);else{if(ii!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=cb(e),a!==null){for(t.flags|=128,lp(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return hn(In,In.current&1|2),t.child}e=e.sibling}o.tail!==null&&Vn()>_h&&(t.flags|=128,n=!0,lp(o,!1),t.lanes=4194304)}else{if(!n)if(e=cb(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),lp(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!xn)return Ni(t),null}else 2*Vn()-o.renderingStartTime>_h&&r!==1073741824&&(t.flags|=128,n=!0,lp(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Vn(),t.sibling=null,r=In.current,hn(In,n?r&1|2:r&1),t):(Ni(t),null);case 22:case 23:return qO(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qo&1073741824&&(Ni(t),t.subtreeFlags&6&&(t.flags|=8192)):Ni(t),null;case 24:return null;case 25:return null}throw Error(St(156,t.tag))}function YJ(e,t){switch(SO(t),t.tag){case 1:return To(t.type)&&nb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wh(),wn($o),wn(zi),NO(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return IO(t),null;case 13:if(wn(In),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(St(340));vh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wn(In),null;case 4:return wh(),null;case 10:return xO(t.type._context),null;case 22:case 23:return qO(),null;case 24:return null;default:return null}}var vv=!1,Mi=!1,XJ=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function zd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Mn(e,t,n)}else r.current=null}function U$(e,t,r){try{r()}catch(n){Mn(e,t,n)}}var IC=!1;function QJ(e,t){if($$=Zw,e=S3(),_O(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,l=-1,u=0,f=0,c=e,p=null;t:for(;;){for(var m;c!==r||i!==0&&c.nodeType!==3||(s=a+i),c!==o||n!==0&&c.nodeType!==3||(l=a+n),c.nodeType===3&&(a+=c.nodeValue.length),(m=c.firstChild)!==null;)p=c,c=m;for(;;){if(c===e)break t;if(p===r&&++u===i&&(s=a),p===o&&++f===n&&(l=a),(m=c.nextSibling)!==null)break;c=p,p=c.parentNode}c=m}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(T$={focusedElem:e,selectionRange:r},Zw=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){t=Mt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,v=g.memoizedState,h=t.stateNode,E=h.getSnapshotBeforeUpdate(t.elementType===t.type?_:Qa(t.type,_),v);h.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(St(163))}}catch(S){Mn(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}return g=IC,IC=!1,g}function rm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&U$(t,r,o)}i=i.next}while(i!==n)}}function $_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function z$(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function w4(e){var t=e.alternate;t!==null&&(e.alternate=null,w4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ms],delete t[km],delete t[P$],delete t[CJ],delete t[jJ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b4(e){return e.tag===5||e.tag===3||e.tag===4}function NC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function q$(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=rb));else if(n!==4&&(e=e.child,e!==null))for(q$(e,t,r),e=e.sibling;e!==null;)q$(e,t,r),e=e.sibling}function V$(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(V$(e,t,r),e=e.sibling;e!==null;)V$(e,t,r),e=e.sibling}var Si=null,Za=!1;function ou(e,t,r){for(r=r.child;r!==null;)_4(e,t,r),r=r.sibling}function _4(e,t,r){if(Ks&&typeof Ks.onCommitFiberUnmount=="function")try{Ks.onCommitFiberUnmount(g_,r)}catch{}switch(r.tag){case 5:Mi||zd(r,t);case 6:var n=Si,i=Za;Si=null,ou(e,t,r),Si=n,Za=i,Si!==null&&(Za?(e=Si,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Si.removeChild(r.stateNode));break;case 18:Si!==null&&(Za?(e=Si,r=r.stateNode,e.nodeType===8?dS(e.parentNode,r):e.nodeType===1&&dS(e,r),Pm(e)):dS(Si,r.stateNode));break;case 4:n=Si,i=Za,Si=r.stateNode.containerInfo,Za=!0,ou(e,t,r),Si=n,Za=i;break;case 0:case 11:case 14:case 15:if(!Mi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&U$(r,t,a),i=i.next}while(i!==n)}ou(e,t,r);break;case 1:if(!Mi&&(zd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Mn(r,t,s)}ou(e,t,r);break;case 21:ou(e,t,r);break;case 22:r.mode&1?(Mi=(n=Mi)||r.memoizedState!==null,ou(e,t,r),Mi=n):ou(e,t,r);break;default:ou(e,t,r)}}function kC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new XJ),t.forEach(function(n){var i=sY.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function za(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Si=s.stateNode,Za=!1;break e;case 3:Si=s.stateNode.containerInfo,Za=!0;break e;case 4:Si=s.stateNode.containerInfo,Za=!0;break e}s=s.return}if(Si===null)throw Error(St(160));_4(o,a,i),Si=null,Za=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Mn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)E4(t,e),t=t.sibling}function E4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(za(t,e),Es(e),n&4){try{rm(3,e,e.return),$_(3,e)}catch(_){Mn(e,e.return,_)}try{rm(5,e,e.return)}catch(_){Mn(e,e.return,_)}}break;case 1:za(t,e),Es(e),n&512&&r!==null&&zd(r,r.return);break;case 5:if(za(t,e),Es(e),n&512&&r!==null&&zd(r,r.return),e.flags&32){var i=e.stateNode;try{$m(i,"")}catch(_){Mn(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&VF(i,o),p$(s,a);var u=p$(s,o);for(a=0;a<l.length;a+=2){var f=l[a],c=l[a+1];f==="style"?JF(i,c):f==="dangerouslySetInnerHTML"?GF(i,c):f==="children"?$m(i,c):lO(i,f,c,u)}switch(s){case"input":u$(i,o);break;case"textarea":HF(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Yd(i,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Yd(i,!!o.multiple,o.defaultValue,!0):Yd(i,!!o.multiple,o.multiple?[]:"",!1))}i[km]=o}catch(_){Mn(e,e.return,_)}}break;case 6:if(za(t,e),Es(e),n&4){if(e.stateNode===null)throw Error(St(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){Mn(e,e.return,_)}}break;case 3:if(za(t,e),Es(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pm(t.containerInfo)}catch(_){Mn(e,e.return,_)}break;case 4:za(t,e),Es(e);break;case 13:za(t,e),Es(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(UO=Vn())),n&4&&kC(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Mi=(u=Mi)||f,za(t,e),Mi=u):za(t,e),Es(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Mt=e,f=e.child;f!==null;){for(c=Mt=f;Mt!==null;){switch(p=Mt,m=p.child,p.tag){case 0:case 11:case 14:case 15:rm(4,p,p.return);break;case 1:zd(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(_){Mn(n,r,_)}}break;case 5:zd(p,p.return);break;case 22:if(p.memoizedState!==null){jC(c);continue}}m!==null?(m.return=p,Mt=m):jC(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=c.stateNode,l=c.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=KF("display",a))}catch(_){Mn(e,e.return,_)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(_){Mn(e,e.return,_)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:za(t,e),Es(e),n&4&&kC(e);break;case 21:break;default:za(t,e),Es(e)}}function Es(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(b4(r)){var n=r;break e}r=r.return}throw Error(St(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&($m(i,""),n.flags&=-33);var o=NC(e);V$(e,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=NC(e);q$(e,s,a);break;default:throw Error(St(161))}}catch(l){Mn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZJ(e,t,r){Mt=e,S4(e)}function S4(e,t,r){for(var n=(e.mode&1)!==0;Mt!==null;){var i=Mt,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||vv;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Mi;s=vv;var u=Mi;if(vv=a,(Mi=l)&&!u)for(Mt=i;Mt!==null;)a=Mt,l=a.child,a.tag===22&&a.memoizedState!==null?DC(i):l!==null?(l.return=a,Mt=l):DC(i);for(;o!==null;)Mt=o,S4(o),o=o.sibling;Mt=i,vv=s,Mi=u}CC(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Mt=o):CC(e)}}function CC(e){for(;Mt!==null;){var t=Mt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mi||$_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Mi)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Qa(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&yC(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}yC(t,a,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Pm(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(St(163))}Mi||t.flags&512&&z$(t)}catch(p){Mn(t,t.return,p)}}if(t===e){Mt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function jC(e){for(;Mt!==null;){var t=Mt;if(t===e){Mt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function DC(e){for(;Mt!==null;){var t=Mt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$_(4,t)}catch(l){Mn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Mn(t,i,l)}}var o=t.return;try{z$(t)}catch(l){Mn(t,o,l)}break;case 5:var a=t.return;try{z$(t)}catch(l){Mn(t,a,l)}}}catch(l){Mn(t,t.return,l)}if(t===e){Mt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Mt=s;break}Mt=t.return}}var eY=Math.ceil,hb=Ul.ReactCurrentDispatcher,FO=Ul.ReactCurrentOwner,Oa=Ul.ReactCurrentBatchConfig,Dr=0,fi=null,Xn=null,Ai=0,qo=0,qd=Zu(0),ii=0,Fm=null,$f=0,T_=0,BO=0,nm=null,bo=null,UO=0,_h=1/0,pl=null,pb=!1,H$=null,Uu=null,yv=!1,Iu=null,mb=0,im=0,W$=null,Ey=-1,Sy=0;function ro(){return Dr&6?Vn():Ey!==-1?Ey:Ey=Vn()}function zu(e){return e.mode&1?Dr&2&&Ai!==0?Ai&-Ai:MJ.transition!==null?(Sy===0&&(Sy=s3()),Sy):(e=en,e!==0||(e=window.event,e=e===void 0?16:p3(e.type)),e):1}function as(e,t,r,n){if(50<im)throw im=0,W$=null,Error(St(185));lg(e,r,n),(!(Dr&2)||e!==fi)&&(e===fi&&(!(Dr&2)&&(T_|=r),ii===4&&xu(e,Ai)),Ao(e,n),r===1&&Dr===0&&!(t.mode&1)&&(_h=Vn()+500,__&&ec()))}function Ao(e,t){var r=e.callbackNode;MK(e,t);var n=Qw(e,e===fi?Ai:0);if(n===0)r!==null&&Hk(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Hk(r),t===1)e.tag===0?DJ(MC.bind(null,e)):k3(MC.bind(null,e)),NJ(function(){!(Dr&6)&&ec()}),r=null;else{switch(l3(n)){case 1:r=hO;break;case 4:r=o3;break;case 16:r=Xw;break;case 536870912:r=a3;break;default:r=Xw}r=I4(r,$4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function $4(e,t){if(Ey=-1,Sy=0,Dr&6)throw Error(St(327));var r=e.callbackNode;if(th()&&e.callbackNode!==r)return null;var n=Qw(e,e===fi?Ai:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=gb(e,n);else{t=n;var i=Dr;Dr|=2;var o=A4();(fi!==e||Ai!==t)&&(pl=null,_h=Vn()+500,lf(e,t));do try{nY();break}catch(s){T4(e,s)}while(!0);AO(),hb.current=o,Dr=i,Xn!==null?t=0:(fi=null,Ai=0,t=ii)}if(t!==0){if(t===2&&(i=w$(e),i!==0&&(n=i,t=G$(e,i))),t===1)throw r=Fm,lf(e,0),xu(e,n),Ao(e,Vn()),r;if(t===6)xu(e,n);else{if(i=e.current.alternate,!(n&30)&&!tY(i)&&(t=gb(e,n),t===2&&(o=w$(e),o!==0&&(n=o,t=G$(e,o))),t===1))throw r=Fm,lf(e,0),xu(e,n),Ao(e,Vn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(St(345));case 2:Bc(e,bo,pl);break;case 3:if(xu(e,n),(n&130023424)===n&&(t=UO+500-Vn(),10<t)){if(Qw(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ro(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=x$(Bc.bind(null,e,bo,pl),t);break}Bc(e,bo,pl);break;case 4:if(xu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-os(n);o=1<<a,a=t[a],a>i&&(i=a),n&=~o}if(n=i,n=Vn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eY(n/1960))-n,10<n){e.timeoutHandle=x$(Bc.bind(null,e,bo,pl),n);break}Bc(e,bo,pl);break;case 5:Bc(e,bo,pl);break;default:throw Error(St(329))}}}return Ao(e,Vn()),e.callbackNode===r?$4.bind(null,e):null}function G$(e,t){var r=nm;return e.current.memoizedState.isDehydrated&&(lf(e,t).flags|=256),e=gb(e,t),e!==2&&(t=bo,bo=r,t!==null&&K$(t)),e}function K$(e){bo===null?bo=e:bo.push.apply(bo,e)}function tY(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!ls(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xu(e,t){for(t&=~BO,t&=~T_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-os(t),n=1<<r;e[r]=-1,t&=~n}}function MC(e){if(Dr&6)throw Error(St(327));th();var t=Qw(e,0);if(!(t&1))return Ao(e,Vn()),null;var r=gb(e,t);if(e.tag!==0&&r===2){var n=w$(e);n!==0&&(t=n,r=G$(e,n))}if(r===1)throw r=Fm,lf(e,0),xu(e,t),Ao(e,Vn()),r;if(r===6)throw Error(St(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bc(e,bo,pl),Ao(e,Vn()),null}function zO(e,t){var r=Dr;Dr|=1;try{return e(t)}finally{Dr=r,Dr===0&&(_h=Vn()+500,__&&ec())}}function Tf(e){Iu!==null&&Iu.tag===0&&!(Dr&6)&&th();var t=Dr;Dr|=1;var r=Oa.transition,n=en;try{if(Oa.transition=null,en=1,e)return e()}finally{en=n,Oa.transition=r,Dr=t,!(Dr&6)&&ec()}}function qO(){qo=qd.current,wn(qd)}function lf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,IJ(r)),Xn!==null)for(r=Xn.return;r!==null;){var n=r;switch(SO(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&nb();break;case 3:wh(),wn($o),wn(zi),NO();break;case 5:IO(n);break;case 4:wh();break;case 13:wn(In);break;case 19:wn(In);break;case 10:xO(n.type._context);break;case 22:case 23:qO()}r=r.return}if(fi=e,Xn=e=qu(e.current,null),Ai=qo=t,ii=0,Fm=null,BO=T_=$f=0,bo=nm=null,Zc!==null){for(t=0;t<Zc.length;t++)if(r=Zc[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}Zc=null}return e}function T4(e,t){do{var r=Xn;try{if(AO(),wy.current=db,fb){for(var n=Nn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}fb=!1}if(Sf=0,ui=ti=Nn=null,tm=!1,Dm=0,FO.current=null,r===null||r.return===null){ii=1,Fm=t,Xn=null;break}e:{var o=e,a=r.return,s=r,l=t;if(t=Ai,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=s,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=$C(a);if(m!==null){m.flags&=-257,TC(m,a,s,o,t),m.mode&1&&SC(o,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var _=new Set;_.add(l),t.updateQueue=_}else g.add(l);break e}else{if(!(t&1)){SC(o,u,t),VO();break e}l=Error(St(426))}}else if(xn&&s.mode&1){var v=$C(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),TC(v,a,s,o,t),$O(bh(l,s));break e}}o=l=bh(l,s),ii!==4&&(ii=2),nm===null?nm=[o]:nm.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=l4(o,l,t);vC(o,h);break e;case 1:s=l;var E=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Uu===null||!Uu.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=u4(o,s,t);vC(o,S);break e}}o=o.return}while(o!==null)}P4(r)}catch($){t=$,Xn===r&&r!==null&&(Xn=r=r.return);continue}break}while(!0)}function A4(){var e=hb.current;return hb.current=db,e===null?db:e}function VO(){(ii===0||ii===3||ii===2)&&(ii=4),fi===null||!($f&268435455)&&!(T_&268435455)||xu(fi,Ai)}function gb(e,t){var r=Dr;Dr|=2;var n=A4();(fi!==e||Ai!==t)&&(pl=null,lf(e,t));do try{rY();break}catch(i){T4(e,i)}while(!0);if(AO(),Dr=r,hb.current=n,Xn!==null)throw Error(St(261));return fi=null,Ai=0,ii}function rY(){for(;Xn!==null;)x4(Xn)}function nY(){for(;Xn!==null&&!PK();)x4(Xn)}function x4(e){var t=R4(e.alternate,e,qo);e.memoizedProps=e.pendingProps,t===null?P4(e):Xn=t,FO.current=null}function P4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=YJ(r,t),r!==null){r.flags&=32767,Xn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ii=6,Xn=null;return}}else if(r=JJ(r,t,qo),r!==null){Xn=r;return}if(t=t.sibling,t!==null){Xn=t;return}Xn=t=e}while(t!==null);ii===0&&(ii=5)}function Bc(e,t,r){var n=en,i=Oa.transition;try{Oa.transition=null,en=1,iY(e,t,r,n)}finally{Oa.transition=i,en=n}return null}function iY(e,t,r,n){do th();while(Iu!==null);if(Dr&6)throw Error(St(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(St(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(LK(e,o),e===fi&&(Xn=fi=null,Ai=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yv||(yv=!0,I4(Xw,function(){return th(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Oa.transition,Oa.transition=null;var a=en;en=1;var s=Dr;Dr|=4,FO.current=null,QJ(e,r),E4(r,e),$J(T$),Zw=!!$$,T$=$$=null,e.current=r,ZJ(r),OK(),Dr=s,en=a,Oa.transition=o}else e.current=r;if(yv&&(yv=!1,Iu=e,mb=i),o=e.pendingLanes,o===0&&(Uu=null),NK(r.stateNode),Ao(e,Vn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(pb)throw pb=!1,e=H$,H$=null,e;return mb&1&&e.tag!==0&&th(),o=e.pendingLanes,o&1?e===W$?im++:(im=0,W$=e):im=0,ec(),null}function th(){if(Iu!==null){var e=l3(mb),t=Oa.transition,r=en;try{if(Oa.transition=null,en=16>e?16:e,Iu===null)var n=!1;else{if(e=Iu,Iu=null,mb=0,Dr&6)throw Error(St(331));var i=Dr;for(Dr|=4,Mt=e.current;Mt!==null;){var o=Mt,a=o.child;if(Mt.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Mt=u;Mt!==null;){var f=Mt;switch(f.tag){case 0:case 11:case 15:rm(8,f,o)}var c=f.child;if(c!==null)c.return=f,Mt=c;else for(;Mt!==null;){f=Mt;var p=f.sibling,m=f.return;if(w4(f),f===u){Mt=null;break}if(p!==null){p.return=m,Mt=p;break}Mt=m}}}var g=o.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}Mt=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Mt=a;else e:for(;Mt!==null;){if(o=Mt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:rm(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,Mt=h;break e}Mt=o.return}}var E=e.current;for(Mt=E;Mt!==null;){a=Mt;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,Mt=y;else e:for(a=E;Mt!==null;){if(s=Mt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:$_(9,s)}}catch($){Mn(s,s.return,$)}if(s===a){Mt=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Mt=S;break e}Mt=s.return}}if(Dr=i,ec(),Ks&&typeof Ks.onPostCommitFiberRoot=="function")try{Ks.onPostCommitFiberRoot(g_,e)}catch{}n=!0}return n}finally{en=r,Oa.transition=t}}return!1}function LC(e,t,r){t=bh(r,t),t=l4(e,t,1),e=Bu(e,t,1),t=ro(),e!==null&&(lg(e,1,t),Ao(e,t))}function Mn(e,t,r){if(e.tag===3)LC(e,e,r);else for(;t!==null;){if(t.tag===3){LC(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Uu===null||!Uu.has(n))){e=bh(r,e),e=u4(t,e,1),t=Bu(t,e,1),e=ro(),t!==null&&(lg(t,1,e),Ao(t,e));break}}t=t.return}}function oY(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ro(),e.pingedLanes|=e.suspendedLanes&r,fi===e&&(Ai&r)===r&&(ii===4||ii===3&&(Ai&130023424)===Ai&&500>Vn()-UO?lf(e,0):BO|=r),Ao(e,t)}function O4(e,t){t===0&&(e.mode&1?(t=lv,lv<<=1,!(lv&130023424)&&(lv=4194304)):t=1);var r=ro();e=jl(e,t),e!==null&&(lg(e,t,r),Ao(e,r))}function aY(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),O4(e,r)}function sY(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(St(314))}n!==null&&n.delete(t),O4(e,r)}var R4;R4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$o.current)So=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return So=!1,KJ(e,t,r);So=!!(e.flags&131072)}else So=!1,xn&&t.flags&1048576&&C3(t,ab,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;_y(e,t),e=t.pendingProps;var i=gh(t,zi.current);eh(t,r),i=CO(null,t,n,e,i,r);var o=jO();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,To(n)?(o=!0,ib(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,OO(t),i.updater=S_,t.stateNode=i,i._reactInternals=t,C$(t,n,e,r),t=M$(null,t,n,!0,o,r)):(t.tag=0,xn&&o&&EO(t),Ji(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(_y(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=uY(n),e=Qa(n,e),i){case 0:t=D$(null,t,n,e,r);break e;case 1:t=PC(null,t,n,e,r);break e;case 11:t=AC(null,t,n,e,r);break e;case 14:t=xC(null,t,n,Qa(n.type,e),r);break e}throw Error(St(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qa(n,i),D$(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qa(n,i),PC(e,t,n,i,r);case 3:e:{if(h4(t),e===null)throw Error(St(387));n=t.pendingProps,o=t.memoizedState,i=o.element,B3(e,t),ub(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=bh(Error(St(423)),t),t=OC(e,t,n,r,i);break e}else if(n!==i){i=bh(Error(St(424)),t),t=OC(e,t,n,r,i);break e}else for(Go=Fu(t.stateNode.containerInfo.firstChild),Jo=t,xn=!0,ts=null,r=L3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vh(),n===i){t=Dl(e,t,r);break e}Ji(e,t,n,r)}t=t.child}return t;case 5:return U3(t),e===null&&I$(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,A$(n,i)?a=null:o!==null&&A$(n,o)&&(t.flags|=32),d4(e,t),Ji(e,t,a,r),t.child;case 6:return e===null&&I$(t),null;case 13:return p4(e,t,r);case 4:return RO(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=yh(t,null,n,r):Ji(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qa(n,i),AC(e,t,n,i,r);case 7:return Ji(e,t,t.pendingProps,r),t.child;case 8:return Ji(e,t,t.pendingProps.children,r),t.child;case 12:return Ji(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,hn(sb,n._currentValue),n._currentValue=a,o!==null)if(ls(o.value,a)){if(o.children===i.children&&!$o.current){t=Dl(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Ol(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),N$(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(St(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),N$(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ji(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,eh(t,r),i=Ia(i),n=n(i),t.flags|=1,Ji(e,t,n,r),t.child;case 14:return n=t.type,i=Qa(n,t.pendingProps),i=Qa(n.type,i),xC(e,t,n,i,r);case 15:return c4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qa(n,i),_y(e,t),t.tag=1,To(n)?(e=!0,ib(t)):e=!1,eh(t,r),s4(t,n,i),C$(t,n,i,r),M$(null,t,n,!0,e,r);case 19:return m4(e,t,r);case 22:return f4(e,t,r)}throw Error(St(156,t.tag))};function I4(e,t){return i3(e,t)}function lY(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pa(e,t,r,n){return new lY(e,t,r,n)}function HO(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uY(e){if(typeof e=="function")return HO(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cO)return 11;if(e===fO)return 14}return 2}function qu(e,t){var r=e.alternate;return r===null?(r=Pa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $y(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")HO(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case kd:return uf(r.children,i,o,t);case uO:a=8,i|=8;break;case i$:return e=Pa(12,r,t,i|2),e.elementType=i$,e.lanes=o,e;case o$:return e=Pa(13,r,t,i),e.elementType=o$,e.lanes=o,e;case a$:return e=Pa(19,r,t,i),e.elementType=a$,e.lanes=o,e;case UF:return A_(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case FF:a=10;break e;case BF:a=9;break e;case cO:a=11;break e;case fO:a=14;break e;case Su:a=16,n=null;break e}throw Error(St(130,e==null?e:typeof e,""))}return t=Pa(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function uf(e,t,r,n){return e=Pa(7,e,n,t),e.lanes=r,e}function A_(e,t,r,n){return e=Pa(22,e,n,t),e.elementType=UF,e.lanes=r,e.stateNode={isHidden:!1},e}function bS(e,t,r){return e=Pa(6,e,null,t),e.lanes=r,e}function _S(e,t,r){return t=Pa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cY(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tS(0),this.expirationTimes=tS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tS(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function WO(e,t,r,n,i,o,a,s,l){return e=new cY(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Pa(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},OO(o),e}function fY(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function N4(e){if(!e)return Ju;e=e._reactInternals;e:{if(Mf(e)!==e||e.tag!==1)throw Error(St(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(To(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(St(171))}if(e.tag===1){var r=e.type;if(To(r))return N3(e,r,t)}return t}function k4(e,t,r,n,i,o,a,s,l){return e=WO(r,n,!0,e,i,o,a,s,l),e.context=N4(null),r=e.current,n=ro(),i=zu(r),o=Ol(n,i),o.callback=t??null,Bu(r,o,i),e.current.lanes=i,lg(e,i,n),Ao(e,n),e}function x_(e,t,r,n){var i=t.current,o=ro(),a=zu(i);return r=N4(r),t.context===null?t.context=r:t.pendingContext=r,t=Ol(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Bu(i,t,a),e!==null&&(as(e,i,a,o),yy(e,i,a)),a}function vb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function FC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function GO(e,t){FC(e,t),(e=e.alternate)&&FC(e,t)}function dY(){return null}var C4=typeof reportError=="function"?reportError:function(e){console.error(e)};function KO(e){this._internalRoot=e}P_.prototype.render=KO.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(St(409));x_(e,t,null,null)};P_.prototype.unmount=KO.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tf(function(){x_(null,e,null,null)}),t[Cl]=null}};function P_(e){this._internalRoot=e}P_.prototype.unstable_scheduleHydration=function(e){if(e){var t=f3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Au.length&&t!==0&&t<Au[r].priority;r++);Au.splice(r,0,e),r===0&&h3(e)}};function JO(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function O_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function BC(){}function hY(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=vb(a);o.call(u)}}var a=k4(t,n,e,0,null,!1,!1,"",BC);return e._reactRootContainer=a,e[Cl]=a.current,Im(e.nodeType===8?e.parentNode:e),Tf(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=vb(l);s.call(u)}}var l=WO(e,0,!1,null,null,!1,!1,"",BC);return e._reactRootContainer=l,e[Cl]=l.current,Im(e.nodeType===8?e.parentNode:e),Tf(function(){x_(t,l,r,n)}),l}function R_(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=vb(a);s.call(l)}}x_(t,a,e,i)}else a=hY(r,t,e,i,n);return vb(a)}u3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=xp(t.pendingLanes);r!==0&&(pO(t,r|1),Ao(t,Vn()),!(Dr&6)&&(_h=Vn()+500,ec()))}break;case 13:Tf(function(){var n=jl(e,1);if(n!==null){var i=ro();as(n,e,1,i)}}),GO(e,1)}};mO=function(e){if(e.tag===13){var t=jl(e,134217728);if(t!==null){var r=ro();as(t,e,134217728,r)}GO(e,134217728)}};c3=function(e){if(e.tag===13){var t=zu(e),r=jl(e,t);if(r!==null){var n=ro();as(r,e,t,n)}GO(e,t)}};f3=function(){return en};d3=function(e,t){var r=en;try{return en=e,t()}finally{en=r}};g$=function(e,t,r){switch(t){case"input":if(u$(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=b_(n);if(!i)throw Error(St(90));qF(n),u$(n,i)}}}break;case"textarea":HF(e,r);break;case"select":t=r.value,t!=null&&Yd(e,!!r.multiple,t,!1)}};QF=zO;ZF=Tf;var pY={usingClientEntryPoint:!1,Events:[cg,Md,b_,YF,XF,zO]},up={findFiberByHostInstance:Qc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mY={bundleType:up.bundleType,version:up.version,rendererPackageName:up.rendererPackageName,rendererConfig:up.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ul.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=r3(e),e===null?null:e.stateNode},findFiberByHostInstance:up.findFiberByHostInstance||dY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wv.isDisabled&&wv.supportsFiber)try{g_=wv.inject(mY),Ks=wv}catch{}}Qo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pY;Qo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!JO(t))throw Error(St(200));return fY(e,t,null,r)};Qo.createRoot=function(e,t){if(!JO(e))throw Error(St(299));var r=!1,n="",i=C4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=WO(e,1,!1,null,null,r,!1,n,i),e[Cl]=t.current,Im(e.nodeType===8?e.parentNode:e),new KO(t)};Qo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(St(188)):(e=Object.keys(e).join(","),Error(St(268,e)));return e=r3(t),e=e===null?null:e.stateNode,e};Qo.flushSync=function(e){return Tf(e)};Qo.hydrate=function(e,t,r){if(!O_(t))throw Error(St(200));return R_(null,e,t,!0,r)};Qo.hydrateRoot=function(e,t,r){if(!JO(e))throw Error(St(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=C4;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=k4(t,null,e,1,r??null,i,!1,o,a),e[Cl]=t.current,Im(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new P_(t)};Qo.render=function(e,t,r){if(!O_(t))throw Error(St(200));return R_(null,e,t,!1,r)};Qo.unmountComponentAtNode=function(e){if(!O_(e))throw Error(St(40));return e._reactRootContainer?(Tf(function(){R_(null,null,e,!1,function(){e._reactRootContainer=null,e[Cl]=null})}),!0):!1};Qo.unstable_batchedUpdates=zO;Qo.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!O_(r))throw Error(St(200));if(e==null||e._reactInternals===void 0)throw Error(St(38));return R_(e,t,r,!1,n)};Qo.version="18.3.1-next-f1338f8080-20240426";function j4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j4)}catch(e){console.error(e)}}j4(),jF.exports=Qo;var D4=jF.exports;const zl=jf(D4);var UC=D4;r$.createRoot=UC.createRoot,r$.hydrateRoot=UC.hydrateRoot;const bn=tt.createContext({offlineTD:"",isValidJSON:!0,parsedTD:{},isModified:!1,name:"",fileHandle:"",linkedTd:{},validationMessage:void 0,updateOfflineTD:e=>{},updateIsModified:e=>{},setFileHandle:e=>{},removeForm:(e,t,r)=>{},addForm:(e,t,r)=>{},removeLink:e=>{},removeOneOfAKindReducer:(e,t)=>{},addLinkedTd:e=>{},updateLinkedTd:e=>{},updateValidationMessage:e=>{}}),M4="UPDATE_OFFLINE_TD",L4="UPDATE_IS_MODFIED",F4="SET_FILE_HANDLE",B4="REMOVE_FORM_FROM_TD",U4="REMOVE_LINK_FROM_TD",z4="ADD_FORM_TO_TD",q4="REMOVE_ONE_OF_A_KIND_FROM_TD",V4="ADD_LINKED_TD",H4="UPDATE_LINKED_TD",W4="UPDATE_VALIDATION_MESSAGE",gY=(e,t)=>{switch(t.type){case M4:return vY(t.offlineTD,e);case L4:return $Y(t.isModified,e);case F4:return TY(t.fileHandle,e);case B4:return yY(t.level,t.interactionName,t.toBeDeletedForm,t.index,e);case U4:return wY(t.link,e);case q4:return bY(t.kind,t.oneOfAKindName,e);case z4:return _Y(t.level,t.interactionName,t.form,e);case V4:return EY(t.linkedTd,e);case H4:return SY(t.linkedTd,e);case W4:return AY(t.validationMessage,e);default:return e}},vY=(e,t)=>{if(e==t.offlineTD)return t;if(e==="")return{...t,offlineTD:"",isModified:!0,isValidJSON:!0,parsedTD:{}};let r;try{r=JSON.parse(e)}catch(i){return console.error(i.message),{...t,offlineTD:e,isModified:!0,isValidJSON:!1,parsedTD:t.parsedTD}}let n=t.linkedTd;if(!n)n={[r.title||"ediTDor Thing"]:r};else if(n&&typeof t.fileHandle!="object"&&document.getElementById("linkedTd")){const i=document.getElementById("linkedTd").value;i===""?n[r.title||"ediTDor Thing"]=r:n[i]=r}return{...t,offlineTD:e,isModified:!0,isValidJSON:!0,linkedTd:n,parsedTD:r}},yY=(e,t,r,n,i)=>{var s,l;if(!i.isValidJSON)return i;let o=structuredClone(i.parsedTD),a;if(e==="thing"){if(!o.forms||!Array.isArray(o.forms))return i;a=o.forms}else{if(!o[e]||!o[e][t]||!o[e][t].forms||!Array.isArray(o[e][t].forms))return i;a=o[e][t].forms}if(!a||n>a.length-1)return i;if((s=a[n])!=null&&s.op&&Array.isArray(a[n].op)){const u=a[n].op.indexOf(r.op);if(u===-1)return i;a[n].op.splice(u,1),a[n].op.length==0&&a.splice(n,1)}else((l=a[n])==null?void 0:l.op)===r.op&&a.splice(n,1);return{...i,offlineTD:JSON.stringify(o,null,2),parsedTD:o}},wY=(e,t)=>{if(!t.isValidJSON)return t;let r=structuredClone(t.parsedTD);try{r.links.splice(e,1)}catch{alert("Sorry we were unable to delete the Link.")}let n=t.linkedTd;if(n&&typeof t.fileHandle!="object"&&document.getElementById("linkedTd")){let i=document.getElementById("linkedTd").value;i===""?n[r.title||"ediTDor Thing"]=r:n[i]=r}return{...t,offlineTD:JSON.stringify(r,null,2),linkedTd:n,parsedTD:r}},bY=(e,t,r)=>{if(!r.isValidJSON)return r;let n=structuredClone(r.parsedTD);try{delete n[e][t]}catch{alert("Sorry we were unable to delete the Form.")}return{...r,offlineTD:JSON.stringify(n,null,2),parsedTD:n}},_Y=(e,t,r,n)=>{if(!n.isValidJSON)return n;let i=structuredClone(n.parsedTD);if(e=="thing")return i.forms&&!Array.isArray(i.forms)?n:(i.forms||(i.forms=[]),i.forms.push(r),{...n,offlineTD:JSON.stringify(i,null,2),parsedTD:i});if(!i[e]||!i[e][t])return n;const o=i[e][t];return o.forms||(o.forms=[]),o.forms.push(r),{...n,offlineTD:JSON.stringify(i,null,2),parsedTD:i}},EY=(e,t)=>{let r=structuredClone(t.linkedTd),n={};return r===void 0?n=e:n=Object.assign(r,e),{...t,linkedTd:n}},SY=(e,t)=>({...t,linkedTd:e}),$Y=(e,t)=>({...t,isModified:e}),TY=(e,t)=>({...t,fileHandle:e}),AY=(e,t)=>({...t,validationMessage:e}),xY=e=>{const[t,r]=De.useReducer(gY,{offlineTD:"",validationMessage:"",parsedTD:{},isValidJSON:!1}),n=m=>{r({type:M4,offlineTD:m})},i=m=>{r({type:L4,isModified:m})},o=m=>{r({type:F4,fileHandle:m})},a=m=>{r({type:U4,link:m})},s=(m,g,_)=>{r({type:z4,level:m,interactionName:g,form:_})},l=(m,g,_,v)=>{r({type:B4,level:m,interactionName:g,toBeDeletedForm:_,index:v})},u=(m,g)=>{r({type:q4,kind:m,oneOfAKindName:g})},f=m=>{r({type:V4,linkedTd:m})},c=m=>{r({type:H4,linkedTd:m})},p=m=>{r({type:W4,validationMessage:m})};return ce.jsx(bn.Provider,{value:{offlineTD:t.offlineTD,isModified:t.isModified,isValidJSON:t.isValidJSON,parsedTD:t.parsedTD,name:t.name,fileHandle:t.fileHandle,linkedTd:t.linkedTd,validationMessage:t.validationMessage,updateOfflineTD:n,updateIsModified:i,setFileHandle:o,removeLink:a,addForm:s,removeForm:l,removeOneOfAKindReducer:u,addLinkedTd:f,updateLinkedTd:c,updateValidationMessage:p},children:e.children})};function PY(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(r),!0).forEach(function(n){PY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OY(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function RY(e,t){if(e==null)return{};var r=OY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IY(e,t){return NY(e)||kY(e,t)||CY(e,t)||jY()}function NY(e){if(Array.isArray(e))return e}function kY(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(n=(s=a.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw o}}return r}}function CY(e,t){if(e){if(typeof e=="string")return VC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VC(e,t)}}function VC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DY(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(r),!0).forEach(function(n){DY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MY(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(i,o){return o(i)},n)}}function Op(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(r,[].concat(i,s))}}}function yb(e){return{}.toString.call(e).includes("Object")}function LY(e){return!Object.keys(e).length}function Bm(e){return typeof e=="function"}function FY(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function BY(e,t){return yb(t)||Vu("changeType"),Object.keys(t).some(function(r){return!FY(e,r)})&&Vu("changeField"),t}function UY(e){Bm(e)||Vu("selectorType")}function zY(e){Bm(e)||yb(e)||Vu("handlerType"),yb(e)&&Object.values(e).some(function(t){return!Bm(t)})&&Vu("handlersType")}function qY(e){e||Vu("initialIsRequired"),yb(e)||Vu("initialType"),LY(e)&&Vu("initialContent")}function VY(e,t){throw new Error(e[t]||e.default)}var HY={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Vu=Op(VY)(HY),bv={changes:BY,selector:UY,handler:zY,initial:qY};function WY(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};bv.initial(e),bv.handler(t);var r={current:e},n=Op(JY)(r,t),i=Op(KY)(r),o=Op(bv.changes)(e),a=Op(GY)(r);function s(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return bv.selector(u),u(r.current)}function l(u){MY(n,i,o,a)(u)}return[s,l]}function GY(e,t){return Bm(t)?t(e.current):t}function KY(e,t){return e.current=WC(WC({},e.current),t),t}function JY(e,t,r){return Bm(t)?t(e.current):Object.keys(r).forEach(function(n){var i;return(i=t[n])===null||i===void 0?void 0:i.call(t,e.current[n])}),r}var YY={create:WY},XY={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function QY(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(r,[].concat(i,s))}}}function ZY(e){return{}.toString.call(e).includes("Object")}function eX(e){return e||GC("configIsRequired"),ZY(e)||GC("configType"),e.urls?(tX(),{paths:{vs:e.urls.monacoBase}}):e}function tX(){console.warn(G4.deprecation)}function rX(e,t){throw new Error(e[t]||e.default)}var G4={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},GC=QY(rX)(G4),nX={config:eX},iX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(i){return r.reduceRight(function(o,a){return a(o)},i)}};function K4(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],K4(e[r],t[r]))}),qC(qC({},e),t)}var oX={type:"cancelation",msg:"operation is manually canceled"};function ES(e){var t=!1,r=new Promise(function(n,i){e.then(function(o){return t?i(oX):n(o)}),e.catch(i)});return r.cancel=function(){return t=!0},r}var aX=YY.create({config:XY,isInitialized:!1,resolve:null,reject:null,monaco:null}),J4=IY(aX,2),dg=J4[0],I_=J4[1];function sX(e){var t=nX.config(e),r=t.monaco,n=RY(t,["monaco"]);I_(function(i){return{config:K4(i.config,n),monaco:r}})}function lX(){var e=dg(function(t){var r=t.monaco,n=t.isInitialized,i=t.resolve;return{monaco:r,isInitialized:n,resolve:i}});if(!e.isInitialized){if(I_({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ES(SS);if(window.monaco&&window.monaco.editor)return Y4(window.monaco),e.resolve(window.monaco),ES(SS);iX(uX,fX)(dX)}return ES(SS)}function uX(e){return document.body.appendChild(e)}function cX(e){var t=document.createElement("script");return e&&(t.src=e),t}function fX(e){var t=dg(function(n){var i=n.config,o=n.reject;return{config:i,reject:o}}),r=cX("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function dX(){var e=dg(function(r){var n=r.config,i=r.resolve,o=r.reject;return{config:n,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){Y4(r),e.resolve(r)},function(r){e.reject(r)})}function Y4(e){dg().monaco||I_({monaco:e})}function hX(){return dg(function(e){var t=e.monaco;return t})}var SS=new Promise(function(e,t){return I_({resolve:e,reject:t})}),X4={config:sX,init:lX,__getMonacoInstance:hX},pX={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},$S=pX,mX={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},gX=mX;function vX({children:e}){return tt.createElement("div",{style:gX.container},e)}var yX=vX,wX=yX;function bX({width:e,height:t,isEditorReady:r,loading:n,_ref:i,className:o,wrapperProps:a}){return tt.createElement("section",{style:{...$S.wrapper,width:e,height:t},...a},!r&&tt.createElement(wX,null,n),tt.createElement("div",{ref:i,style:{...$S.fullWidth,...!r&&$S.hide},className:o}))}var _X=bX,Q4=De.memo(_X);function EX(e){De.useEffect(e,[])}var Z4=EX;function SX(e,t,r=!0){let n=De.useRef(!0);De.useEffect(n.current||!r?()=>{n.current=!1}:e,t)}var Vo=SX;function om(){}function Vd(e,t,r,n){return $X(e,n)||TX(e,t,r,n)}function $X(e,t){return e.editor.getModel(eB(e,t))}function TX(e,t,r,n){return e.editor.createModel(t,r,n?eB(e,n):void 0)}function eB(e,t){return e.Uri.parse(t)}function AX({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:a,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:f="Loading...",options:c={},height:p="100%",width:m="100%",className:g,wrapperProps:_={},beforeMount:v=om,onMount:h=om}){let[E,y]=De.useState(!1),[S,$]=De.useState(!0),T=De.useRef(null),d=De.useRef(null),A=De.useRef(null),x=De.useRef(h),P=De.useRef(v),j=De.useRef(!1);Z4(()=>{let H=X4.init();return H.then(Z=>(d.current=Z)&&$(!1)).catch(Z=>(Z==null?void 0:Z.type)!=="cancelation"&&console.error("Monaco initialization: error:",Z)),()=>T.current?X():H.cancel()}),Vo(()=>{if(T.current&&d.current){let H=T.current.getOriginalEditor(),Z=Vd(d.current,e||"",n||r||"text",o||"");Z!==H.getModel()&&H.setModel(Z)}},[o],E),Vo(()=>{if(T.current&&d.current){let H=T.current.getModifiedEditor(),Z=Vd(d.current,t||"",i||r||"text",a||"");Z!==H.getModel()&&H.setModel(Z)}},[a],E),Vo(()=>{let H=T.current.getModifiedEditor();H.getOption(d.current.editor.EditorOption.readOnly)?H.setValue(t||""):t!==H.getValue()&&(H.executeEdits("",[{range:H.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),H.pushUndoStop())},[t],E),Vo(()=>{var H,Z;(Z=(H=T.current)==null?void 0:H.getModel())==null||Z.original.setValue(e||"")},[e],E),Vo(()=>{let{original:H,modified:Z}=T.current.getModel();d.current.editor.setModelLanguage(H,n||r||"text"),d.current.editor.setModelLanguage(Z,i||r||"text")},[r,n,i],E),Vo(()=>{var H;(H=d.current)==null||H.editor.setTheme(u)},[u],E),Vo(()=>{var H;(H=T.current)==null||H.updateOptions(c)},[c],E);let F=De.useCallback(()=>{var fe;if(!d.current)return;P.current(d.current);let H=Vd(d.current,e||"",n||r||"text",o||""),Z=Vd(d.current,t||"",i||r||"text",a||"");(fe=T.current)==null||fe.setModel({original:H,modified:Z})},[r,t,i,e,n,o,a]),V=De.useCallback(()=>{var H;!j.current&&A.current&&(T.current=d.current.editor.createDiffEditor(A.current,{automaticLayout:!0,...c}),F(),(H=d.current)==null||H.editor.setTheme(u),y(!0),j.current=!0)},[c,u,F]);De.useEffect(()=>{E&&x.current(T.current,d.current)},[E]),De.useEffect(()=>{!S&&!E&&V()},[S,E,V]);function X(){var Z,fe,ee,ae;let H=(Z=T.current)==null?void 0:Z.getModel();s||((fe=H==null?void 0:H.original)==null||fe.dispose()),l||((ee=H==null?void 0:H.modified)==null||ee.dispose()),(ae=T.current)==null||ae.dispose()}return tt.createElement(Q4,{width:m,height:p,isEditorReady:E,loading:f,_ref:A,className:g,wrapperProps:_})}var xX=AX;De.memo(xX);function PX(e){let t=De.useRef();return De.useEffect(()=>{t.current=e},[e]),t.current}var OX=PX,_v=new Map;function RX({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:i,path:o,theme:a="light",line:s,loading:l="Loading...",options:u={},overrideServices:f={},saveViewState:c=!0,keepCurrentModel:p=!1,width:m="100%",height:g="100%",className:_,wrapperProps:v={},beforeMount:h=om,onMount:E=om,onChange:y,onValidate:S=om}){let[$,T]=De.useState(!1),[d,A]=De.useState(!0),x=De.useRef(null),P=De.useRef(null),j=De.useRef(null),F=De.useRef(E),V=De.useRef(h),X=De.useRef(),H=De.useRef(n),Z=OX(o),fe=De.useRef(!1),ee=De.useRef(!1);Z4(()=>{let B=X4.init();return B.then(K=>(x.current=K)&&A(!1)).catch(K=>(K==null?void 0:K.type)!=="cancelation"&&console.error("Monaco initialization: error:",K)),()=>P.current?M():B.cancel()}),Vo(()=>{var K,O,N,q;let B=Vd(x.current,e||n||"",t||i||"",o||r||"");B!==((K=P.current)==null?void 0:K.getModel())&&(c&&_v.set(Z,(O=P.current)==null?void 0:O.saveViewState()),(N=P.current)==null||N.setModel(B),c&&((q=P.current)==null||q.restoreViewState(_v.get(o))))},[o],$),Vo(()=>{var B;(B=P.current)==null||B.updateOptions(u)},[u],$),Vo(()=>{!P.current||n===void 0||(P.current.getOption(x.current.editor.EditorOption.readOnly)?P.current.setValue(n):n!==P.current.getValue()&&(ee.current=!0,P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),P.current.pushUndoStop(),ee.current=!1))},[n],$),Vo(()=>{var K,O;let B=(K=P.current)==null?void 0:K.getModel();B&&i&&((O=x.current)==null||O.editor.setModelLanguage(B,i))},[i],$),Vo(()=>{var B;s!==void 0&&((B=P.current)==null||B.revealLine(s))},[s],$),Vo(()=>{var B;(B=x.current)==null||B.editor.setTheme(a)},[a],$);let ae=De.useCallback(()=>{var B;if(!(!j.current||!x.current)&&!fe.current){V.current(x.current);let K=o||r,O=Vd(x.current,n||e||"",t||i||"",K||"");P.current=(B=x.current)==null?void 0:B.editor.create(j.current,{model:O,automaticLayout:!0,...u},f),c&&P.current.restoreViewState(_v.get(K)),x.current.editor.setTheme(a),s!==void 0&&P.current.revealLine(s),T(!0),fe.current=!0}},[e,t,r,n,i,o,u,f,c,a,s]);De.useEffect(()=>{$&&F.current(P.current,x.current)},[$]),De.useEffect(()=>{!d&&!$&&ae()},[d,$,ae]),H.current=n,De.useEffect(()=>{var B,K;$&&y&&((B=X.current)==null||B.dispose(),X.current=(K=P.current)==null?void 0:K.onDidChangeModelContent(O=>{ee.current||y(P.current.getValue(),O)}))},[$,y]),De.useEffect(()=>{if($){let B=x.current.editor.onDidChangeMarkers(K=>{var N;let O=(N=P.current.getModel())==null?void 0:N.uri;if(O&&K.find(q=>q.path===O.path)){let q=x.current.editor.getModelMarkers({resource:O});S==null||S(q)}});return()=>{B==null||B.dispose()}}return()=>{}},[$,S]);function M(){var B,K;(B=X.current)==null||B.dispose(),p?c&&_v.set(o,P.current.saveViewState()):(K=P.current.getModel())==null||K.dispose(),P.current.dispose()}return tt.createElement(Q4,{width:m,height:g,isEditorReady:$,loading:l,_ref:j,className:_,wrapperProps:v})}var IX=RX,NX=De.memo(IX),kX=NX;const tB="---",rB="A-Za-z--------",CX=new RegExp("^[^"+rB+"]*["+tB+"]"),jX=new RegExp("^[^"+tB+"]*["+rB+"]");function KC(e){const t=String(e||"");return CX.test(t)?"rtl":jX.test(t)?"ltr":"neutral"}const nB=e=>!(typeof e=="object"&&!Array.isArray(e)&&e!==null)||!e.hasOwnProperty("@type")?!1:e["@type"].indexOf("tm:ThingModel")>-1,N_=(e,t,r)=>{let n={...e};for(const[i,o]of Object.entries(t))r.includes(i)||(n[i]=o);return n},k_=e=>{if(e===void 0&&!e)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];if(!Array.isArray(n.op)){n.actualIndex=r,t.push(n);continue}for(let i=0;i<n.op.length;i++){const o={...n};o.op=n.op[i],o.actualIndex=r,t.push(o)}}return t},DX=(e,t)=>{for(const r of t.links)if(r.href===e.href)return!0;return!1},MX=(e,t)=>{for(const r of t.forms){if(typeof e.op=="string")return LX(e,r);for(const n of e.op)if(typeof r.op=="string"){if(r.op===n)return!0}else if(r.op.includes(n)){let i=!0;for(const o in e)o!=="op"&&r[o]!==e[o]&&(i=!1);if(i)return!0}}return!1},LX=(e,t)=>{if(typeof t.op=="string"){if(t.op===e.op)return!0}else if(t.op.includes(e.op)){let r=!0;for(const n in e)n!=="op"&&t[n]!==e[n]&&(r=!1);if(r)return!0}},YO=async(e,t)=>{var r;if(e.linkedTd[t].kind==="file"){try{e.isModified&&e.fileHandle&&(r=await e.fileHandle.createWritable(),await r.write(e.offlineTD),await r.close())}catch(s){console.error(s.message)}let n=e.linkedTd[t];const i=await n.getFile(),o=JSON.parse(await i.text());let a=JSON.stringify(o,null,2);e.setFileHandle(n),e.updateOfflineTD(a),e.updateIsModified(!1),document.getElementById("linkedTd").value=t}else if(Object.keys(e.linkedTd[t]).length){try{e.isModified&&e.fileHandle&&(r=await e.fileHandle.createWritable(),await r.write(e.offlineTD),await r.close())}catch(o){console.error(o.message)}e.setFileHandle(void 0);const n=e.linkedTd[t];let i=JSON.stringify(n,null,2);e.updateOfflineTD(i),e.updateIsModified(!1),document.getElementById("linkedTd").value=t}},J$=(e,t,r)=>{if(!e[t])return"";const n="",i="",o={ar:"rtl",fa:"rtl",ps:"rtl",ur:"rtl",hy:"ltr",as:"ltr",bn:"ltr",zb:"ltr",ab:"ltr",be:"ltr",bg:"ltr",kk:"ltr",mk:"ltr",ru:"ltr",uk:"ltr",hi:"ltr",mr:"ltr",ne:"ltr",ko:"ltr",ma:"ltr",am:"ltr",ti:"ltr",ka:"ltr",el:"ltr",gu:"ltr",pa:"ltr",he:"rtl",iw:"rtl",yi:"rtl",ja:"ltr",km:"ltr",kn:"ltr",lo:"ltr",af:"ltr",ay:"ltr",bs:"ltr",ca:"ltr",ch:"ltr",cs:"ltr",cy:"ltr",da:"ltr",de:"ltr",en:"ltr",eo:"ltr",es:"ltr",et:"ltr",eu:"ltr",fi:"ltr",fj:"ltr",fo:"ltr",fr:"ltr",fy:"ltr",ga:"ltr",gl:"ltr",gn:"ltr",gv:"ltr",hr:"ltr",ht:"ltr",hu:"ltr",id:"ltr",in:"ltr",is:"ltr",it:"ltr",kl:"ltr",la:"ltr",lb:"ltr",ln:"ltr",lt:"ltr",lv:"ltr",mg:"ltr",mh:"ltr",mo:"ltr",ms:"ltr",mt:"ltr",na:"ltr",nb:"ltr",nd:"ltr",nl:"ltr",nn:"ltr",no:"ltr",nr:"ltr",ny:"ltr",om:"ltr",pl:"ltr",pt:"ltr",qu:"ltr",rm:"ltr",rn:"ltr",ro:"ltr",rw:"ltr",sg:"ltr",sk:"ltr",sl:"ltr",sm:"ltr",so:"ltr",sq:"ltr",ss:"ltr",st:"ltr",sv:"ltr",sw:"ltr",tl:"ltr",tn:"ltr",to:"ltr",tr:"ltr",ts:"ltr",ve:"ltr",vi:"ltr",xh:"ltr",zu:"ltr",ds:"ltr",gs:"ltr",hs:"ltr",me:"ltr",ni:"ltr",ns:"ltr",te:"ltr",tk:"ltr",tm:"ltr",tp:"ltr",tv:"ltr",ml:"ltr",my:"ltr",nq:"ltr",or:"ltr",si:"ltr",ta:"ltr",dv:"rtl",th:"ltr",dz:"ltr"},a=u=>u==="ltr"?n:i;if(!["title","description"].includes(t)&&!/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t))return a(KC(e[t].toString()))+e[t];if(/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t)){const u=t.includes("-")?t.split("-")[0]:t.toLowerCase(),f=o[u];return f?a(f)+e[t]:a("ltr")+e[t]}let s,l;if(Array.isArray(r)||(r=[r]),r.forEach(u=>{typeof u=="object"&&(u["@direction"]&&(s=u["@direction"]),u["@language"]&&(l=u["@language"]))}),t==="title"||t==="description"){if(s)return a(s)+e[t];if(l){const u=l.includes("-")?l.split("-")[0]:l.toLowerCase(),f=o[u];return f?a(f)+e[t]:a("ltr")+e[t]}}return a(KC(e[t].toString()))+e[t]},FX={selectOnLineNumbers:!0,automaticLayout:!0,lineDecorationsWidth:20};let JC;const BX=(e,t,r)=>{clearTimeout(JC),JC=setTimeout(()=>e(t),r)},YC=({editorRef:e})=>{const t=De.useContext(bn),[r]=De.useState([]),[n,i]=De.useState(void 0),o=De.useRef(null),[a,s]=De.useState([]),[l,u]=De.useState(""),[f,c]=De.useState(""),p=tt.useMemo(()=>new Worker(new URL(""+new URL("validationWorker-fRgmX0S3.js",import.meta.url).href,import.meta.url),{type:"module"}),[]),m=tt.useMemo(()=>new Worker(new URL(""+new URL("schemaWorker-BsNUkMIg.js",import.meta.url).href,import.meta.url),{type:"module"}),[]),g=De.useCallback(y=>{m.postMessage(y),p.postMessage(y)},[m,p]);De.useEffect(()=>{const y=S=>{n.splice(0,n.length),S.forEach(function($,T){console.debug(`using schema: ${T}`),n.push({schemaUri:T,schema:$})})};m.onmessage=S=>{console.debug("received message from schema worker"),y(S.data)},p.onmessage=S=>{console.debug("received message from validation worker");const $=S.data;t.updateValidationMessage($)}},[m,p,n,t]),De.useEffect(()=>{t.offlineTD!==f&&(u(t.offlineTD),g(t.offlineTD))},[t.offlineTD,g,f]);const _=y=>{},v=(y,S)=>{if(S.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:[]}),!("Proxy"in window)){console.warn("dynamic fetching of schemas is disabled as your browser doesn't support proxies.");return}let $=new Proxy(r,{set:function(T,d,A,x){T[d]=A;let P=[];for(let j=0;j<T.length;j++)P.push({fileMatch:["*/*"],uri:T[j].schemaUri,schema:T[j].schema});return S.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:P}),!0}});o.current=y,e&&(e.current=y),i($)},h=async(y,S)=>{t.updateOfflineTD(y),t.updateValidationMessage(void 0),c(y),BX(g,y??"",500)};De.useEffect(()=>{if(t.linkedTd)try{let y=[],S=0;for(let $ in t.linkedTd)(t.linkedTd[$].kind==="file"||Object.keys(t.linkedTd[$]).length)&&(y.push(ce.jsx("option",{value:$,children:$},S)),S++);s(y)}catch(y){console.debug(y)}},[t.linkedTd,t.offlineTD]);const E=async()=>{let y=document.getElementById("linkedTd").value;YO(t,y)};return ce.jsxs(ce.Fragment,{children:[ce.jsx("div",{className:"h-[5%] bg-[#1e1e1e]",children:t.offlineTD&&t.linkedTd&&ce.jsx("select",{name:"linkedTd",id:"linkedTd",className:"w-[50%] bg-[#1e1e1e] text-white",onChange:()=>E(),children:a})}),ce.jsx("div",{className:"h-[95%] w-full",children:ce.jsx(kX,{options:FX,theme:"vs-dark",language:"json",value:l,beforeMount:_,onMount:v,onChange:h})})]})},ql=e=>{const t=e.title??"Default Title",r=e.description??"Default description, please override.",n=e.children??ce.jsx(ce.Fragment,{}),i=e.cancelText??"Cancel",o=e.onCancel??(()=>{}),a=e.submitText??"Submit",s=e.onSubmit??(()=>{}),l=e.hasSubmit??!0;let u={};return window.onkeydown=function(f){u[f.key]=!0,u.Control&&u.Enter?document.getElementById("submitButton").click():u.Escape&&document.getElementById("cancelButton").click()},window.onkeyup=function(f){u[f.key]=!1},ce.jsx(ce.Fragment,{children:ce.jsx("div",{className:"absolute left-0 top-0 z-10 flex h-full w-full items-center justify-center bg-black bg-opacity-80 text-white",children:ce.jsxs("div",{className:"flex max-h-[95%] w-[80%] flex-col justify-start rounded-xl bg-gray-500 p-4 shadow-xl lg:w-[40%]",children:[ce.jsx("div",{className:"flex flex-row items-center justify-start",children:ce.jsx("h1",{className:"flex-grow pl-2 text-xl font-bold",children:t})}),ce.jsx("h2",{className:"py-2 pl-2 text-gray-400",children:r}),ce.jsx("div",{className:"overflow-auto p-2",children:n}),ce.jsxs("div",{className:"flex justify-end p-2 pt-4",children:[ce.jsx("button",{id:"cancelButton",className:"mr-1 rounded-md bg-gray-500 p-2 text-white",onClick:()=>{o()},children:i}),l&&ce.jsx("button",{id:"submitButton",className:"flex rounded-md bg-blue-500 p-2 text-white",onClick:()=>s(),children:a})]})]})})})},C_=De.forwardRef((e,t)=>{const r=De.useContext(bn),[n,i]=tt.useState(()=>!1),o=e.type??"",a=o&&o[0].toUpperCase()+o.slice(1),s=e.interaction??{},l=e.interactionName??"";De.useEffect(()=>{},[n,r]),De.useImperativeHandle(t,()=>({openModal:()=>u(),close:()=>f()}));const u=()=>{i(!0)},f=()=>{i(!1)},c=_=>s.forms?MX(_,s):!1,p=_=>({action:"actions",property:"properties",event:"events",thing:"thing"})[_],m=zX(o),g=ce.jsxs(ce.Fragment,{children:[ce.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Operations:"}),ce.jsx("div",{className:"p-1",children:m}),ce.jsxs("div",{className:"p-1 pt-2",children:[ce.jsx("label",{htmlFor:"form-href",className:"pl-2 text-sm font-medium text-gray-400",children:"Href:"}),ce.jsx("input",{type:"text",name:"form-href",id:"form-href",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"http://example.com/href",onChange:()=>{UX()}}),ce.jsx("span",{id:"form-href-info",className:"pl-2 text-xs text-red-400"})]})]});return n?zl.createPortal(ce.jsx(ql,{onCancel:f,onSubmit:()=>{let _={};_.op=iB(o).map(h=>document.getElementById("form-"+h).checked?document.getElementById("form-"+h).value:void 0).filter(h=>h!==void 0);const v=document.getElementById("form-href").value;_.href=v!==""?v.trim():"/",_.op.length===0?XC("You have to select at least one operation ..."):c(_)?XC("A Form for one of the selected operations already exists ..."):(r.addForm(p(o),l,_),f())},submitText:"Add",children:g,title:`Add ${a} Form`,description:`Tell us how this ${a} can be interfaced by selecting operations below and providing an href.`}),document.getElementById("modal-root")):null}),XC=e=>{document.getElementById("form-href-info").textContent=e,document.getElementById("form-href").classList.remove("border-gray-600"),document.getElementById("form-href").classList.add("border-red-400")},UX=()=>{document.getElementById("form-href").classList.add("border-gray-600"),document.getElementById("form-href").classList.remove("border-red-400")},iB=e=>{switch(e){case"property":return["writeproperty","readproperty","observeproperty","unobserveproperty"];case"event":return["subscribeevent","unsubscribeevent"];case"action":return["invokeaction"];case"thing":return["writeallproperties","readallproperties","writemultipleproperties","readmultipleproperties","observeallproperties","unobserveallproperties"];default:return[]}},zX=e=>ce.jsx("div",{className:"rounded-md bg-gray-600 p-1",children:iB(e).map(t=>qX(t))}),qX=e=>{const t=`form-${e}`;return ce.jsxs("div",{className:"form-checkbox pl-2",children:[e!=="invokeaction"?ce.jsx("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e}):ce.jsx("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e,readOnly:e==="invokeaction",checked:e==="invokeaction"}),ce.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:t,children:e})]},t)};var oB={exports:{}},VX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HX=VX,WX=HX;function aB(){}function sB(){}sB.resetWarningCache=aB;var GX=function(){function e(n,i,o,a,s,l){if(l!==WX){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:sB,resetWarningCache:aB};return r.PropTypes=r,r};oB.exports=GX();var KX=oB.exports;const ht=jf(KX);function Y$(){return Y$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y$.apply(this,arguments)}function JX(e,t){if(e==null)return{};var r=YX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var cf=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=JX(e,["color","size"]);return tt.createElement("svg",Y$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("polyline",{points:"6 9 12 15 18 9"}))});cf.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};cf.displayName="ChevronDown";function X$(){return X$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X$.apply(this,arguments)}function XX(e,t){if(e==null)return{};var r=QX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var XO=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=XX(e,["color","size"]);return tt.createElement("svg",X$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("polyline",{points:"9 18 15 12 9 6"}))});XO.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};XO.displayName="ChevronRight";function Q$(){return Q$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q$.apply(this,arguments)}function ZX(e,t){if(e==null)return{};var r=e5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var QO=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=ZX(e,["color","size"]);return tt.createElement("svg",Q$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("polyline",{points:"18 15 12 9 6 15"}))});QO.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};QO.displayName="ChevronUp";function Z$(){return Z$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z$.apply(this,arguments)}function t5(e,t){if(e==null)return{};var r=r5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var ZO=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=t5(e,["color","size"]);return tt.createElement("svg",Z$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),tt.createElement("polyline",{points:"7 10 12 15 17 10"}),tt.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});ZO.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};ZO.displayName="Download";function eT(){return eT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eT.apply(this,arguments)}function n5(e,t){if(e==null)return{};var r=i5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var eR=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=n5(e,["color","size"]);return tt.createElement("svg",eT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),tt.createElement("polyline",{points:"14 2 14 8 20 8"}),tt.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),tt.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}))});eR.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};eR.displayName="FilePlus";function tT(){return tT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tT.apply(this,arguments)}function o5(e,t){if(e==null)return{};var r=a5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var tR=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=o5(e,["color","size"]);return tt.createElement("svg",tT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),tt.createElement("polyline",{points:"14 2 14 8 20 8"}),tt.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),tt.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),tt.createElement("polyline",{points:"10 9 9 9 8 9"}))});tR.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};tR.displayName="FileText";function rT(){return rT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rT.apply(this,arguments)}function s5(e,t){if(e==null)return{};var r=l5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var rR=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=s5(e,["color","size"]);return tt.createElement("svg",rT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),tt.createElement("polyline",{points:"13 2 13 9 20 9"}))});rR.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};rR.displayName="File";function nT(){return nT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nT.apply(this,arguments)}function u5(e,t){if(e==null)return{};var r=c5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var nR=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=u5(e,["color","size"]);return tt.createElement("svg",nT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))});nR.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};nR.displayName="GitHub";function iT(){return iT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iT.apply(this,arguments)}function f5(e,t){if(e==null)return{};var r=d5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var j_=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=f5(e,["color","size"]);return tt.createElement("svg",iT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("circle",{cx:"12",cy:"12",r:"10"}),tt.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),tt.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))});j_.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};j_.displayName="Info";function oT(){return oT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oT.apply(this,arguments)}function h5(e,t){if(e==null)return{};var r=p5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var iR=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=h5(e,["color","size"]);return tt.createElement("svg",oT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});iR.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};iR.displayName="Minus";function aT(){return aT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aT.apply(this,arguments)}function m5(e,t){if(e==null)return{};var r=g5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var oR=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=m5(e,["color","size"]);return tt.createElement("svg",aT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("circle",{cx:"12",cy:"12",r:"10"}),tt.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),tt.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});oR.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};oR.displayName="PlusCircle";function sT(){return sT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sT.apply(this,arguments)}function v5(e,t){if(e==null)return{};var r=y5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var aR=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=v5(e,["color","size"]);return tt.createElement("svg",sT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),tt.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});aR.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};aR.displayName="Plus";function lT(){return lT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lT.apply(this,arguments)}function w5(e,t){if(e==null)return{};var r=b5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var sR=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=w5(e,["color","size"]);return tt.createElement("svg",lT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("polyline",{points:"1 4 1 10 7 10"}),tt.createElement("polyline",{points:"23 20 23 14 17 14"}),tt.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});sR.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};sR.displayName="RefreshCcw";function uT(){return uT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uT.apply(this,arguments)}function _5(e,t){if(e==null)return{};var r=E5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var lR=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=_5(e,["color","size"]);return tt.createElement("svg",uT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("polyline",{points:"23 4 23 10 17 10"}),tt.createElement("polyline",{points:"1 20 1 14 7 14"}),tt.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}))});lR.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};lR.displayName="RefreshCw";function cT(){return cT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cT.apply(this,arguments)}function S5(e,t){if(e==null)return{};var r=$5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var uR=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=S5(e,["color","size"]);return tt.createElement("svg",cT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("polyline",{points:"1 4 1 10 7 10"}),tt.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});uR.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};uR.displayName="RotateCcw";function fT(){return fT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fT.apply(this,arguments)}function T5(e,t){if(e==null)return{};var r=A5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var cR=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=T5(e,["color","size"]);return tt.createElement("svg",fT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("polyline",{points:"23 4 23 10 17 10"}),tt.createElement("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"}))});cR.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};cR.displayName="RotateCw";function dT(){return dT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dT.apply(this,arguments)}function x5(e,t){if(e==null)return{};var r=P5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var fR=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=x5(e,["color","size"]);return tt.createElement("svg",dT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),tt.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),tt.createElement("polyline",{points:"7 3 7 8 15 8"}))});fR.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};fR.displayName="Save";function hT(){return hT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hT.apply(this,arguments)}function O5(e,t){if(e==null)return{};var r=R5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var dR=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=O5(e,["color","size"]);return tt.createElement("svg",hT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("circle",{cx:"11",cy:"11",r:"8"}),tt.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});dR.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};dR.displayName="Search";function pT(){return pT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pT.apply(this,arguments)}function I5(e,t){if(e==null)return{};var r=N5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var hR=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=I5(e,["color","size"]);return tt.createElement("svg",pT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("circle",{cx:"12",cy:"12",r:"3"}),tt.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))});hR.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};hR.displayName="Settings";function mT(){return mT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mT.apply(this,arguments)}function k5(e,t){if(e==null)return{};var r=C5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var pR=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=k5(e,["color","size"]);return tt.createElement("svg",mT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),tt.createElement("polyline",{points:"16 6 12 2 8 6"}),tt.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"15"}))});pR.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};pR.displayName="Share";function gT(){return gT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gT.apply(this,arguments)}function j5(e,t){if(e==null)return{};var r=D5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var tc=De.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=j5(e,["color","size"]);return tt.createElement("svg",gT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),tt.createElement("polyline",{points:"3 6 5 6 21 6"}),tt.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),tt.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),tt.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});tc.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number])};tc.displayName="Trash2";const Eh=Math.min,ff=Math.max,wb=Math.round,Ev=Math.floor,Ys=e=>({x:e,y:e}),M5={left:"right",right:"left",bottom:"top",top:"bottom"},L5={start:"end",end:"start"};function vT(e,t,r){return ff(e,Eh(t,r))}function hg(e,t){return typeof e=="function"?e(t):e}function Af(e){return e.split("-")[0]}function pg(e){return e.split("-")[1]}function lB(e){return e==="x"?"y":"x"}function mR(e){return e==="y"?"height":"width"}function df(e){return["top","bottom"].includes(Af(e))?"y":"x"}function gR(e){return lB(df(e))}function F5(e,t,r){r===void 0&&(r=!1);const n=pg(e),i=gR(e),o=mR(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=bb(a)),[a,bb(a)]}function B5(e){const t=bb(e);return[yT(e),t,yT(t)]}function yT(e){return e.replace(/start|end/g,t=>L5[t])}function U5(e,t,r){const n=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?o:a;default:return[]}}function z5(e,t,r,n){const i=pg(e);let o=U5(Af(e),r==="start",n);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(yT)))),o}function bb(e){return e.replace(/left|right|bottom|top/g,t=>M5[t])}function q5(e){return{top:0,right:0,bottom:0,left:0,...e}}function uB(e){return typeof e!="number"?q5(e):{top:e,right:e,bottom:e,left:e}}function _b(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function QC(e,t,r){let{reference:n,floating:i}=e;const o=df(t),a=gR(t),s=mR(a),l=Af(t),u=o==="y",f=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2,p=n[s]/2-i[s]/2;let m;switch(l){case"top":m={x:f,y:n.y-i.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:c};break;case"left":m={x:n.x-i.width,y:c};break;default:m={x:n.x,y:n.y}}switch(pg(t)){case"start":m[a]-=p*(r&&u?-1:1);break;case"end":m[a]+=p*(r&&u?-1:1);break}return m}const V5=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:c}=QC(u,n,l),p=n,m={},g=0;for(let _=0;_<s.length;_++){const{name:v,fn:h}=s[_],{x:E,y,data:S,reset:$}=await h({x:f,y:c,initialPlacement:n,placement:p,strategy:i,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});f=E??f,c=y??c,m={...m,[v]:{...m[v],...S}},$&&g<=50&&(g++,typeof $=="object"&&($.placement&&(p=$.placement),$.rects&&(u=$.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):$.rects),{x:f,y:c}=QC(u,p,l)),_=-1)}return{x:f,y:c,placement:p,strategy:i,middlewareData:m}};async function cB(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:p=!1,padding:m=0}=hg(t,e),g=uB(m),v=s[p?c==="floating"?"reference":"floating":c],h=_b(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:f,strategy:l})),E=c==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),S=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},$=_b(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:E,offsetParent:y,strategy:l}):E);return{top:(h.top-$.top+g.top)/S.y,bottom:($.bottom-h.bottom+g.bottom)/S.y,left:(h.left-$.left+g.left)/S.x,right:($.right-h.right+g.right)/S.x}}const H5=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:u,padding:f=0}=hg(e,t)||{};if(u==null)return{};const c=uB(f),p={x:r,y:n},m=gR(i),g=mR(m),_=await a.getDimensions(u),v=m==="y",h=v?"top":"left",E=v?"bottom":"right",y=v?"clientHeight":"clientWidth",S=o.reference[g]+o.reference[m]-p[m]-o.floating[g],$=p[m]-o.reference[m],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let d=T?T[y]:0;(!d||!await(a.isElement==null?void 0:a.isElement(T)))&&(d=s.floating[y]||o.floating[g]);const A=S/2-$/2,x=d/2-_[g]/2-1,P=Eh(c[h],x),j=Eh(c[E],x),F=P,V=d-_[g]-j,X=d/2-_[g]/2+A,H=vT(F,X,V),Z=!l.arrow&&pg(i)!=null&&X!==H&&o.reference[g]/2-(X<F?P:j)-_[g]/2<0,fe=Z?X<F?X-F:X-V:0;return{[m]:p[m]+fe,data:{[m]:H,centerOffset:X-H-fe,...Z&&{alignmentOffset:fe}},reset:Z}}}),W5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:_=!0,...v}=hg(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const h=Af(i),E=df(s),y=Af(s)===s,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),$=p||(y||!_?[bb(s)]:B5(s)),T=g!=="none";!p&&T&&$.push(...z5(s,_,g,S));const d=[s,...$],A=await cB(t,v),x=[];let P=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&x.push(A[h]),c){const H=F5(i,a,S);x.push(A[H[0]],A[H[1]])}if(P=[...P,{placement:i,overflows:x}],!x.every(H=>H<=0)){var j,F;const H=(((j=o.flip)==null?void 0:j.index)||0)+1,Z=d[H];if(Z){var V;const ee=c==="alignment"?E!==df(Z):!1,ae=((V=P[0])==null?void 0:V.overflows[0])>0;if(!ee||ae)return{data:{index:H,overflows:P},reset:{placement:Z}}}let fe=(F=P.filter(ee=>ee.overflows[0]<=0).sort((ee,ae)=>ee.overflows[1]-ae.overflows[1])[0])==null?void 0:F.placement;if(!fe)switch(m){case"bestFit":{var X;const ee=(X=P.filter(ae=>{if(T){const M=df(ae.placement);return M===E||M==="y"}return!0}).map(ae=>[ae.placement,ae.overflows.filter(M=>M>0).reduce((M,B)=>M+B,0)]).sort((ae,M)=>ae[1]-M[1])[0])==null?void 0:X[0];ee&&(fe=ee);break}case"initialPlacement":fe=s;break}if(i!==fe)return{reset:{placement:fe}}}return{}}}};async function G5(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=Af(r),s=pg(r),l=df(r)==="y",u=["left","top"].includes(a)?-1:1,f=o&&l?-1:1,c=hg(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return s&&typeof g=="number"&&(m=s==="end"?g*-1:g),l?{x:m*f,y:p*u}:{x:p*u,y:m*f}}const K5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await G5(t,e);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},J5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:h,y:E}=v;return{x:h,y:E}}},...l}=hg(e,t),u={x:r,y:n},f=await cB(t,l),c=df(Af(i)),p=lB(c);let m=u[p],g=u[c];if(o){const v=p==="y"?"top":"left",h=p==="y"?"bottom":"right",E=m+f[v],y=m-f[h];m=vT(E,m,y)}if(a){const v=c==="y"?"top":"left",h=c==="y"?"bottom":"right",E=g+f[v],y=g-f[h];g=vT(E,g,y)}const _=s.fn({...t,[p]:m,[c]:g});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[p]:o,[c]:a}}}}}};function D_(){return typeof window<"u"}function Dh(e){return fB(e)?(e.nodeName||"").toLowerCase():"#document"}function Yo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function el(e){var t;return(t=(fB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function fB(e){return D_()?e instanceof Node||e instanceof Yo(e).Node:!1}function us(e){return D_()?e instanceof Element||e instanceof Yo(e).Element:!1}function Zs(e){return D_()?e instanceof HTMLElement||e instanceof Yo(e).HTMLElement:!1}function ZC(e){return!D_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yo(e).ShadowRoot}function mg(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=cs(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function Y5(e){return["table","td","th"].includes(Dh(e))}function M_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function vR(e){const t=yR(),r=us(e)?cs(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function X5(e){let t=Yu(e);for(;Zs(t)&&!Sh(t);){if(vR(t))return t;if(M_(t))return null;t=Yu(t)}return null}function yR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sh(e){return["html","body","#document"].includes(Dh(e))}function cs(e){return Yo(e).getComputedStyle(e)}function L_(e){return us(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yu(e){if(Dh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ZC(e)&&e.host||el(e);return ZC(t)?t.host:t}function dB(e){const t=Yu(e);return Sh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zs(t)&&mg(t)?t:dB(t)}function Um(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=dB(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),a=Yo(i);if(o){const s=wT(a);return t.concat(a,a.visualViewport||[],mg(i)?i:[],s&&r?Um(s):[])}return t.concat(i,Um(i,[],r))}function wT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hB(e){const t=cs(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Zs(e),o=i?e.offsetWidth:r,a=i?e.offsetHeight:n,s=wb(r)!==o||wb(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function wR(e){return us(e)?e:e.contextElement}function rh(e){const t=wR(e);if(!Zs(t))return Ys(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=hB(t);let a=(o?wb(r.width):r.width)/n,s=(o?wb(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const Q5=Ys(0);function pB(e){const t=Yo(e);return!yR()||!t.visualViewport?Q5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Z5(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Yo(e)?!1:t}function xf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=wR(e);let a=Ys(1);t&&(n?us(n)&&(a=rh(n)):a=rh(e));const s=Z5(o,r,n)?pB(o):Ys(0);let l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,f=i.width/a.x,c=i.height/a.y;if(o){const p=Yo(o),m=n&&us(n)?Yo(n):n;let g=p,_=wT(g);for(;_&&n&&m!==g;){const v=rh(_),h=_.getBoundingClientRect(),E=cs(_),y=h.left+(_.clientLeft+parseFloat(E.paddingLeft))*v.x,S=h.top+(_.clientTop+parseFloat(E.paddingTop))*v.y;l*=v.x,u*=v.y,f*=v.x,c*=v.y,l+=y,u+=S,g=Yo(_),_=wT(g)}}return _b({width:f,height:c,x:l,y:u})}function bR(e,t){const r=L_(e).scrollLeft;return t?t.left+r:xf(el(e)).left+r}function mB(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:bR(e,n)),o=n.top+t.scrollTop;return{x:i,y:o}}function eQ(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",a=el(n),s=t?M_(t.floating):!1;if(n===a||s&&o)return r;let l={scrollLeft:0,scrollTop:0},u=Ys(1);const f=Ys(0),c=Zs(n);if((c||!c&&!o)&&((Dh(n)!=="body"||mg(a))&&(l=L_(n)),Zs(n))){const m=xf(n);u=rh(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}const p=a&&!c&&!o?mB(a,l,!0):Ys(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+f.x+p.x,y:r.y*u.y-l.scrollTop*u.y+f.y+p.y}}function tQ(e){return Array.from(e.getClientRects())}function rQ(e){const t=el(e),r=L_(e),n=e.ownerDocument.body,i=ff(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=ff(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+bR(e);const s=-r.scrollTop;return cs(n).direction==="rtl"&&(a+=ff(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:s}}function nQ(e,t){const r=Yo(e),n=el(e),i=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=yR();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function iQ(e,t){const r=xf(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=Zs(e)?rh(e):Ys(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,u=n*o.y;return{width:a,height:s,x:l,y:u}}function e2(e,t,r){let n;if(t==="viewport")n=nQ(e,r);else if(t==="document")n=rQ(el(e));else if(us(t))n=iQ(t,r);else{const i=pB(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return _b(n)}function gB(e,t){const r=Yu(e);return r===t||!us(r)||Sh(r)?!1:cs(r).position==="fixed"||gB(r,t)}function oQ(e,t){const r=t.get(e);if(r)return r;let n=Um(e,[],!1).filter(s=>us(s)&&Dh(s)!=="body"),i=null;const o=cs(e).position==="fixed";let a=o?Yu(e):e;for(;us(a)&&!Sh(a);){const s=cs(a),l=vR(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||mg(a)&&!l&&gB(e,a))?n=n.filter(f=>f!==a):i=s,a=Yu(a)}return t.set(e,n),n}function aQ(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=[...r==="clippingAncestors"?M_(t)?[]:oQ(t,this._c):[].concat(r),n],s=a[0],l=a.reduce((u,f)=>{const c=e2(t,f,i);return u.top=ff(c.top,u.top),u.right=Eh(c.right,u.right),u.bottom=Eh(c.bottom,u.bottom),u.left=ff(c.left,u.left),u},e2(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sQ(e){const{width:t,height:r}=hB(e);return{width:t,height:r}}function lQ(e,t,r){const n=Zs(t),i=el(t),o=r==="fixed",a=xf(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=Ys(0);function u(){l.x=bR(i)}if(n||!n&&!o)if((Dh(t)!=="body"||mg(i))&&(s=L_(t)),n){const m=xf(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else i&&u();o&&!n&&i&&u();const f=i&&!n&&!o?mB(i,s):Ys(0),c=a.left+s.scrollLeft-l.x-f.x,p=a.top+s.scrollTop-l.y-f.y;return{x:c,y:p,width:a.width,height:a.height}}function TS(e){return cs(e).position==="static"}function t2(e,t){if(!Zs(e)||cs(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return el(e)===r&&(r=r.ownerDocument.body),r}function vB(e,t){const r=Yo(e);if(M_(e))return r;if(!Zs(e)){let i=Yu(e);for(;i&&!Sh(i);){if(us(i)&&!TS(i))return i;i=Yu(i)}return r}let n=t2(e,t);for(;n&&Y5(n)&&TS(n);)n=t2(n,t);return n&&Sh(n)&&TS(n)&&!vR(n)?r:n||X5(e)||r}const uQ=async function(e){const t=this.getOffsetParent||vB,r=this.getDimensions,n=await r(e.floating);return{reference:lQ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function cQ(e){return cs(e).direction==="rtl"}const fQ={convertOffsetParentRelativeRectToViewportRelativeRect:eQ,getDocumentElement:el,getClippingRect:aQ,getOffsetParent:vB,getElementRects:uQ,getClientRects:tQ,getDimensions:sQ,getScale:rh,isElement:us,isRTL:cQ};function yB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dQ(e,t){let r=null,n;const i=el(e);function o(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:f,top:c,width:p,height:m}=u;if(s||t(),!p||!m)return;const g=Ev(c),_=Ev(i.clientWidth-(f+p)),v=Ev(i.clientHeight-(c+m)),h=Ev(f),y={rootMargin:-g+"px "+-_+"px "+-v+"px "+-h+"px",threshold:ff(0,Eh(1,l))||1};let S=!0;function $(T){const d=T[0].intersectionRatio;if(d!==l){if(!S)return a();d?a(!1,d):n=setTimeout(()=>{a(!1,1e-7)},1e3)}d===1&&!yB(u,e.getBoundingClientRect())&&a(),S=!1}try{r=new IntersectionObserver($,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver($,y)}r.observe(e)}return a(!0),o}function hQ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=wR(e),f=i||o?[...u?Um(u):[],...Um(t)]:[];f.forEach(h=>{i&&h.addEventListener("scroll",r,{passive:!0}),o&&h.addEventListener("resize",r)});const c=u&&s?dQ(u,r):null;let p=-1,m=null;a&&(m=new ResizeObserver(h=>{let[E]=h;E&&E.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),r()}),u&&!l&&m.observe(u),m.observe(t));let g,_=l?xf(e):null;l&&v();function v(){const h=xf(e);_&&!yB(_,h)&&r(),_=h,g=requestAnimationFrame(v)}return r(),()=>{var h;f.forEach(E=>{i&&E.removeEventListener("scroll",r),o&&E.removeEventListener("resize",r)}),c==null||c(),(h=m)==null||h.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const pQ=K5,mQ=J5,gQ=W5,vQ=H5,r2=(e,t,r)=>{const n=new Map,i={platform:fQ,...r},o={...i.platform,_c:n};return V5(e,t,{...i,platform:o})};var wB={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,n(s)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)t.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(wB);var yQ=wB.exports;const bT=jf(yQ);var n2={GENERATE_SOURCEMAP:"false",GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_159baa4b-f4de-4424-ba9f-d8e9058c81dd",npm_package_devDependencies__types_node:"^22.13.15",npm_package_dependencies_react_dropzone:"^14.3.8",DOTNET_NOLOGO:"1",USER:"runner",npm_config_version_commit_hooks:"true",npm_config_user_agent:"yarn/1.22.22 npm/? node/v20.19.1 linux x64",CI:"true",npm_config_bin_links:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_159baa4b-f4de-4424-ba9f-d8e9058c81dd",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/20.19.1/x64/bin/node",npm_package_devDependencies_vite:"^5.2.0",npm_package_dependencies_direction:"^2.0.1",npm_config_init_version:"1.0.0",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",npm_package_dependencies_jsonld:"^8.3.2",HOME:"/home/runner",npm_package_browserslist_production_0:">0.2%",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_browserslist_production_1:"not dead",npm_package_dependencies_jointjs:"^3.7.7",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"eclipse",npm_package_browserslist_production_2:"not op_mini all",npm_package_dependencies__monaco_editor_react:"^4.7.0",npm_config_init_license:"MIT",GRADLE_HOME:"/usr/share/gradle-8.14",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/28.1.13356709",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",GITHUB_RETENTION_DAYS:"90",YARN_WRAP_OUTPUT:"false",npm_config_version_tag_prefix:"v",GITHUB_REPOSITORY_OWNER_ID:"56974",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_package_dependencies_react_icons:"^5.2.1",npm_package_dependencies_react_feather:"^2.0.10",SYSTEMD_EXEC_PID:"1867",npm_package_devDependencies_eslint_plugin_react_hooks:"^4.6.0",npm_package_dependencies_ajv_errors:"^3.0.0",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",npm_package_description:"This project aims to make creating W3C Thing Description instances and Thing Models easy by providing a platform-independent ediTDor tool. The following features are addressed in this project",npm_package_devDependencies_typescript:"^5.0.0",npm_package_devDependencies_tailwindcss:"^3.4.7",NVM_DIR:"/home/runner/.nvm",npm_package_readmeFilename:"README.md",npm_package_devDependencies__types_react_dom:"^18.2.22",npm_package_homepage:"https://eclipse.github.io/editdor/",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20250511.1.0",npm_package_devDependencies_prettier:"^3.5.3",npm_package_scripts_dev:"cross-env REACT_APP_TARGET_URL=http://localhost:8080 vite",LOGNAME:"runner",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",npm_package_devDependencies__vitejs_plugin_react:"^4.2.1",npm_package_dependencies_react_tooltip:"^5.26.4",npm_package_type:"module",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.9/x64",JOURNAL_STREAM:"9:10233",GITHUB_WORKFLOW:"publish-to-github-pages",_:"/usr/local/bin/yarn",npm_package_devDependencies_autoprefixer:"^10.4.19",npm_package_devDependencies__babel_preset_react:"^7.26.3",npm_package_private:"true",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/hosted-compute-agent.service/memory.pressure",npm_package_scripts_lint:"eslint . --ext js,jsx --report-unused-disable-directives --max-warnings 0",npm_config_registry:"https://registry.yarnpkg.com",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GITHUB_RUN_ID:"15089090923",npm_package_devDependencies__babel_core:"^7.26.10",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"b3163cbc1e284411e10d223445a688711790716c",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",npm_package_devDependencies_eslint_plugin_react_refresh:"^0.4.6",npm_config_ignore_scripts:"",GITHUB_WORKFLOW_REF:"eclipse/editdor/.github/workflows/publish-to-gh-pages.yml@refs/heads/master",GITHUB_ACTION_REPOSITORY:"",ENABLE_RUNNER_TRACING:"true",npm_package_browserslist_development_0:"last 1 chrome version",npm_package_devDependencies_prettier_plugin_tailwindcss:"^0.6.11",npm_package_author_email:"editdor-dev@eclipse.org",PATH:"/tmp/yarn--1747515990621-0.5622108511862374:/home/runner/work/editdor/editdor/node_modules/.bin:/home/runner/.config/yarn/link/node_modules/.bin:/opt/hostedtoolcache/node/20.19.1/x64/libexec/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.1/x64/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.1/x64/bin/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.1/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",NODE:"/opt/hostedtoolcache/node/20.19.1/x64/bin/node",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_50414953-3fbe-4e30-9a95-ad20dbf7e4bb",INVOCATION_ID:"69d6224ddb794d70900546ce9e4de1a9",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",npm_package_browserslist_development_1:"last 1 firefox version",npm_package_devDependencies__babel_eslint_parser:"^7.27.0",npm_package_repository_type:"git",npm_package_name:"editdor",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"54",GITHUB_TRIGGERING_ACTOR:"egekorkan",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",npm_package_browserslist_development_2:"last 1 safari version",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",npm_package_devDependencies_eslint:"^8.57.0",npm_package_dependencies_react_dom:"^18.2.0",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000117969",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"master",GITHUB_REPOSITORY:"eclipse/editdor",npm_lifecycle_script:"vite build",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",npm_config_version_git_message:"v%s",SHELL:"/bin/bash",GITHUB_REPOSITORY_ID:"285060286",GITHUB_ACTIONS:"true",npm_lifecycle_event:"build",npm_package_devDependencies__types_react:"^18.2.66",npm_package_dependencies_ajv:"^8.0.0",npm_package_repository_url:"git+https://github.com/eclipse/editdor.git",npm_package_version:"0.7.0",GITHUB_REF_PROTECTED:"false",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_dependencies_ajv_formats:"^3.0.1",npm_package_scripts_build:"vite build",GITHUB_WORKSPACE:"/home/runner/work/editdor/editdor",ACCEPT_EULA:"Y",GITHUB_JOB:"publish-to-gh-pages",npm_package_dependencies_json_dup_key_validator:"^1.0.3",GITHUB_SHA:"b3163cbc1e284411e10d223445a688711790716c",GITHUB_RUN_ATTEMPT:"1",npm_config_version_git_tag:"true",npm_config_version_git_sign:"",GITHUB_REF:"refs/heads/master",GITHUB_ACTOR:"egekorkan",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_package_devDependencies_eslint_plugin_react:"^7.34.1",npm_package_dependencies_lz_string:"^1.5.0",npm_package_license:"EPL-2.0 OR W3C-20150513",npm_config_strict_ssl:"true",npm_package_devDependencies__types_babel__core:"^7",npm_package_dependencies_monaco_editor:"^0.52.2",npm_package_scripts_format:"prettier --write .",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_159baa4b-f4de-4424-ba9f-d8e9058c81dd",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/editdor/editdor",GITHUB_ACTOR_ID:"20195407",RUNNER_WORKSPACE:"/home/runner/work/editdor",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",npm_package_dependencies__column_resizer_react:"^1.3.0",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_159baa4b-f4de-4424-ba9f-d8e9058c81dd",npm_package_author_name:"Eclipse ediTDor",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_package_devDependencies_postcss:"^8.4.40",npm_package_devDependencies_cross_env:"^7.0.3",npm_config_save_prefix:"^",npm_config_ignore_optional:"",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",npm_package_scripts_preview:"vite preview",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",npm_package_dependencies_ajv_formats_draft2019:"1.6.1",npm_package_dependencies__node_wot_browser_bundle:"0.9.0",INIT_CWD:"/home/runner/work/editdor/editdor",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_159baa4b-f4de-4424-ba9f-d8e9058c81dd",npm_package_dependencies_react:"^18.2.0",NODE_ENV:"production"};const wQ="react-tooltip-core-styles",bQ="react-tooltip-base-styles",i2={core:!1,base:!1};function o2({css:e,id:t=bQ,type:r="base",ref:n}){var i,o;if(!e||typeof document>"u"||i2[r]||r==="core"&&typeof process<"u"&&(!((i=process==null?void 0:n2)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||r!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:n2)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;r==="core"&&(t=wQ),n||(n={});const{insertAt:a}=n;if(document.getElementById(t))return;const s=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",a==="top"&&s.firstChild?s.insertBefore(l,s.firstChild):s.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),i2[r]=!0}const a2=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:r=null,place:n="top",offset:i=10,strategy:o="absolute",middlewares:a=[pQ(Number(i)),gQ({fallbackAxisSideDirection:"start"}),mQ({padding:5})],border:s})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};const l=a;return r?(l.push(vQ({element:r,padding:5})),r2(e,t,{placement:n,strategy:o,middleware:l}).then(({x:u,y:f,placement:c,middlewareData:p})=>{var m,g;const _={left:`${u}px`,top:`${f}px`,border:s},{x:v,y:h}=(m=p.arrow)!==null&&m!==void 0?m:{x:0,y:0},E=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[c.split("-")[0]])!==null&&g!==void 0?g:"bottom",y=s&&{borderBottom:s,borderRight:s};let S=0;if(s){const $=`${s}`.match(/(\d+)px/);S=$!=null&&$[1]?Number($[1]):1}return{tooltipStyles:_,tooltipArrowStyles:{left:v!=null?`${v}px`:"",top:h!=null?`${h}px`:"",right:"",bottom:"",...y,[E]:`-${4+S}px`},place:c}})):r2(e,t,{placement:"bottom",strategy:o,middleware:l}).then(({x:u,y:f,placement:c})=>({tooltipStyles:{left:`${u}px`,top:`${f}px`},tooltipArrowStyles:{},place:c}))},s2=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),l2=(e,t,r)=>{let n=null;const i=function(...o){const a=()=>{n=null};!n&&(e.apply(this,o),n=setTimeout(a,t))};return i.cancel=()=>{n&&(clearTimeout(n),n=null)},i},u2=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",_T=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,o)=>_T(i,t[o]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!u2(e)||!u2(t))return e===t;const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(i=>_T(e[i],t[i]))},_Q=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(r=>{const n=t.getPropertyValue(r);return n==="auto"||n==="scroll"})},c2=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(_Q(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},EQ=typeof window<"u"?De.useLayoutEffect:De.useEffect,ua=e=>{e.current&&(clearTimeout(e.current),e.current=null)},SQ="DEFAULT_TOOLTIP_ID",$Q={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},TQ=De.createContext({getTooltipData:()=>$Q});function bB(e=SQ){return De.useContext(TQ).getTooltipData(e)}var ud={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},AS={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const AQ=({forwardRef:e,id:t,className:r,classNameArrow:n,variant:i="dark",anchorId:o,anchorSelect:a,place:s="top",offset:l=10,events:u=["hover"],openOnClick:f=!1,positionStrategy:c="absolute",middlewares:p,wrapper:m,delayShow:g=0,delayHide:_=0,float:v=!1,hidden:h=!1,noArrow:E=!1,clickable:y=!1,closeOnEsc:S=!1,closeOnScroll:$=!1,closeOnResize:T=!1,openEvents:d,closeEvents:A,globalCloseEvents:x,imperativeModeOnly:P,style:j,position:F,afterShow:V,afterHide:X,disableTooltip:H,content:Z,contentWrapperRef:fe,isOpen:ee,defaultIsOpen:ae=!1,setIsOpen:M,activeAnchor:B,setActiveAnchor:K,border:O,opacity:N,arrowColor:q,role:ne="tooltip"})=>{var J;const Y=De.useRef(null),oe=De.useRef(null),be=De.useRef(null),Oe=De.useRef(null),R=De.useRef(null),[C,D]=De.useState({tooltipStyles:{},tooltipArrowStyles:{},place:s}),[G,ie]=De.useState(!1),[ue,de]=De.useState(!1),[ve,Ne]=De.useState(null),Be=De.useRef(!1),je=De.useRef(null),{anchorRefs:nt,setActiveAnchor:We}=bB(t),Ue=De.useRef(!1),[W,I]=De.useState([]),L=De.useRef(!1),re=f||u.includes("click"),ye=re||(d==null?void 0:d.click)||(d==null?void 0:d.dblclick)||(d==null?void 0:d.mousedown),Ee=d?{...d}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!d&&re&&Object.assign(Ee,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Ce=A?{...A}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!A&&re&&Object.assign(Ce,{mouseleave:!1,blur:!1,mouseout:!1});const Re=x?{...x}:{escape:S||!1,scroll:$||!1,resize:T||!1,clickOutsideAnchor:ye||!1};P&&(Object.assign(Ee,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Ce,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Re,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),EQ(()=>(L.current=!0,()=>{L.current=!1}),[]);const Le=Ye=>{L.current&&(Ye&&de(!0),setTimeout(()=>{L.current&&(M==null||M(Ye),ee===void 0&&ie(Ye))},10))};De.useEffect(()=>{if(ee===void 0)return()=>null;ee&&de(!0);const Ye=setTimeout(()=>{ie(ee)},10);return()=>{clearTimeout(Ye)}},[ee]),De.useEffect(()=>{if(G!==Be.current)if(ua(R),Be.current=G,G)V==null||V();else{const Ye=(it=>{const Ot=it.match(/^([\d.]+)(ms|s)$/);if(!Ot)return 0;const[,qt,he]=Ot;return Number(qt)*(he==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));R.current=setTimeout(()=>{de(!1),Ne(null),X==null||X()},Ye+25)}},[G]);const ft=Ye=>{D(it=>_T(it,Ye)?it:Ye)},yt=(Ye=g)=>{ua(be),ue?Le(!0):be.current=setTimeout(()=>{Le(!0)},Ye)},st=(Ye=_)=>{ua(Oe),Oe.current=setTimeout(()=>{Ue.current||Le(!1)},Ye)},Ct=Ye=>{var it;if(!Ye)return;const Ot=(it=Ye.currentTarget)!==null&&it!==void 0?it:Ye.target;if(!(Ot!=null&&Ot.isConnected))return K(null),void We({current:null});g?yt():Le(!0),K(Ot),We({current:Ot}),ua(Oe)},Er=()=>{y?st(_||100):_?st():Le(!1),ua(be)},Or=({x:Ye,y:it})=>{var Ot;const qt={getBoundingClientRect:()=>({x:Ye,y:it,width:0,height:0,top:it,left:Ye,right:Ye,bottom:it})};a2({place:(Ot=ve==null?void 0:ve.place)!==null&&Ot!==void 0?Ot:s,offset:l,elementReference:qt,tooltipReference:Y.current,tooltipArrowReference:oe.current,strategy:c,middlewares:p,border:O}).then(he=>{ft(he)})},ir=Ye=>{if(!Ye)return;const it=Ye,Ot={x:it.clientX,y:it.clientY};Or(Ot),je.current=Ot},mr=Ye=>{var it;if(!G)return;const Ot=Ye.target;Ot.isConnected&&(!((it=Y.current)===null||it===void 0)&&it.contains(Ot)||[document.querySelector(`[id='${o}']`),...W].some(qt=>qt==null?void 0:qt.contains(Ot))||(Le(!1),ua(be)))},cn=l2(Ct,50),Vt=l2(Er,50),zt=Ye=>{Vt.cancel(),cn(Ye)},At=()=>{cn.cancel(),Vt()},Se=De.useCallback(()=>{var Ye,it;const Ot=(Ye=ve==null?void 0:ve.position)!==null&&Ye!==void 0?Ye:F;Ot?Or(Ot):v?je.current&&Or(je.current):B!=null&&B.isConnected&&a2({place:(it=ve==null?void 0:ve.place)!==null&&it!==void 0?it:s,offset:l,elementReference:B,tooltipReference:Y.current,tooltipArrowReference:oe.current,strategy:c,middlewares:p,border:O}).then(qt=>{L.current&&ft(qt)})},[G,B,Z,j,s,ve==null?void 0:ve.place,l,c,F,ve==null?void 0:ve.position,v]);De.useEffect(()=>{var Ye,it;const Ot=new Set(nt);W.forEach(Tt=>{H!=null&&H(Tt)||Ot.add({current:Tt})});const qt=document.querySelector(`[id='${o}']`);qt&&!(H!=null&&H(qt))&&Ot.add({current:qt});const he=()=>{Le(!1)},le=c2(B),we=c2(Y.current);Re.scroll&&(window.addEventListener("scroll",he),le==null||le.addEventListener("scroll",he),we==null||we.addEventListener("scroll",he));let xe=null;Re.resize?window.addEventListener("resize",he):B&&Y.current&&(xe=hQ(B,Y.current,Se,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Ae=Tt=>{Tt.key==="Escape"&&Le(!1)};Re.escape&&window.addEventListener("keydown",Ae),Re.clickOutsideAnchor&&window.addEventListener("click",mr);const et=[],ot=Tt=>!!(Tt!=null&&Tt.target&&(B!=null&&B.contains(Tt.target))),xt=Tt=>{G&&ot(Tt)||Ct(Tt)},Nt=Tt=>{G&&ot(Tt)&&Er()},jt=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],$t=["click","dblclick","mousedown","mouseup"];Object.entries(Ee).forEach(([Tt,Dt])=>{Dt&&(jt.includes(Tt)?et.push({event:Tt,listener:zt}):$t.includes(Tt)&&et.push({event:Tt,listener:xt}))}),Object.entries(Ce).forEach(([Tt,Dt])=>{Dt&&(jt.includes(Tt)?et.push({event:Tt,listener:At}):$t.includes(Tt)&&et.push({event:Tt,listener:Nt}))}),v&&et.push({event:"pointermove",listener:ir});const Rt=()=>{Ue.current=!0},Gt=()=>{Ue.current=!1,Er()},wt=y&&(Ce.mouseout||Ce.mouseleave);return wt&&((Ye=Y.current)===null||Ye===void 0||Ye.addEventListener("mouseover",Rt),(it=Y.current)===null||it===void 0||it.addEventListener("mouseout",Gt)),et.forEach(({event:Tt,listener:Dt})=>{Ot.forEach(Ft=>{var Kr;(Kr=Ft.current)===null||Kr===void 0||Kr.addEventListener(Tt,Dt)})}),()=>{var Tt,Dt;Re.scroll&&(window.removeEventListener("scroll",he),le==null||le.removeEventListener("scroll",he),we==null||we.removeEventListener("scroll",he)),Re.resize?window.removeEventListener("resize",he):xe==null||xe(),Re.clickOutsideAnchor&&window.removeEventListener("click",mr),Re.escape&&window.removeEventListener("keydown",Ae),wt&&((Tt=Y.current)===null||Tt===void 0||Tt.removeEventListener("mouseover",Rt),(Dt=Y.current)===null||Dt===void 0||Dt.removeEventListener("mouseout",Gt)),et.forEach(({event:Ft,listener:Kr})=>{Ot.forEach(Qr=>{var kr;(kr=Qr.current)===null||kr===void 0||kr.removeEventListener(Ft,Kr)})})}},[B,Se,ue,nt,W,d,A,x,re,g,_]),De.useEffect(()=>{var Ye,it;let Ot=(it=(Ye=ve==null?void 0:ve.anchorSelect)!==null&&Ye!==void 0?Ye:a)!==null&&it!==void 0?it:"";!Ot&&t&&(Ot=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const qt=new MutationObserver(he=>{const le=[],we=[];he.forEach(xe=>{if(xe.type==="attributes"&&xe.attributeName==="data-tooltip-id"&&(xe.target.getAttribute("data-tooltip-id")===t?le.push(xe.target):xe.oldValue===t&&we.push(xe.target)),xe.type==="childList"){if(B){const Ae=[...xe.removedNodes].filter(et=>et.nodeType===1);if(Ot)try{we.push(...Ae.filter(et=>et.matches(Ot))),we.push(...Ae.flatMap(et=>[...et.querySelectorAll(Ot)]))}catch{}Ae.some(et=>{var ot;return!!(!((ot=et==null?void 0:et.contains)===null||ot===void 0)&&ot.call(et,B))&&(de(!1),Le(!1),K(null),ua(be),ua(Oe),!0)})}if(Ot)try{const Ae=[...xe.addedNodes].filter(et=>et.nodeType===1);le.push(...Ae.filter(et=>et.matches(Ot))),le.push(...Ae.flatMap(et=>[...et.querySelectorAll(Ot)]))}catch{}}}),(le.length||we.length)&&I(xe=>[...xe.filter(Ae=>!we.includes(Ae)),...le])});return qt.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{qt.disconnect()}},[t,a,ve==null?void 0:ve.anchorSelect,B]),De.useEffect(()=>{Se()},[Se]),De.useEffect(()=>{if(!(fe!=null&&fe.current))return()=>null;const Ye=new ResizeObserver(()=>{setTimeout(()=>Se())});return Ye.observe(fe.current),()=>{Ye.disconnect()}},[Z,fe==null?void 0:fe.current]),De.useEffect(()=>{var Ye;const it=document.querySelector(`[id='${o}']`),Ot=[...W,it];B&&Ot.includes(B)||K((Ye=W[0])!==null&&Ye!==void 0?Ye:it)},[o,W,B]),De.useEffect(()=>(ae&&Le(!0),()=>{ua(be),ua(Oe)}),[]),De.useEffect(()=>{var Ye;let it=(Ye=ve==null?void 0:ve.anchorSelect)!==null&&Ye!==void 0?Ye:a;if(!it&&t&&(it=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),it)try{const Ot=Array.from(document.querySelectorAll(it));I(Ot)}catch{I([])}},[t,a,ve==null?void 0:ve.anchorSelect]),De.useEffect(()=>{be.current&&(ua(be),yt(g))},[g]);const Ie=(J=ve==null?void 0:ve.content)!==null&&J!==void 0?J:Z,dt=G&&Object.keys(C.tooltipStyles).length>0;return De.useImperativeHandle(e,()=>({open:Ye=>{if(Ye!=null&&Ye.anchorSelect)try{document.querySelector(Ye.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Ye.anchorSelect}" is not a valid CSS selector`)}Ne(Ye??null),Ye!=null&&Ye.delay?yt(Ye.delay):Le(!0)},close:Ye=>{Ye!=null&&Ye.delay?st(Ye.delay):Le(!1)},activeAnchor:B,place:C.place,isOpen:!!(ue&&!h&&Ie&&dt)})),ue&&!h&&Ie?tt.createElement(m,{id:t,role:ne,className:bT("react-tooltip",ud.tooltip,AS.tooltip,AS[i],r,`react-tooltip__place-${C.place}`,ud[dt?"show":"closing"],dt?"react-tooltip__show":"react-tooltip__closing",c==="fixed"&&ud.fixed,y&&ud.clickable),onTransitionEnd:Ye=>{ua(R),G||Ye.propertyName!=="opacity"||(de(!1),Ne(null),X==null||X())},style:{...j,...C.tooltipStyles,opacity:N!==void 0&&dt?N:void 0},ref:Y},Ie,tt.createElement(m,{className:bT("react-tooltip-arrow",ud.arrow,AS.arrow,n,E&&ud.noArrow),style:{...C.tooltipArrowStyles,background:q?`linear-gradient(to right bottom, transparent 50%, ${q} 50%)`:void 0},ref:oe})):null},xQ=({content:e})=>tt.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),PQ=tt.forwardRef(({id:e,anchorId:t,anchorSelect:r,content:n,html:i,render:o,className:a,classNameArrow:s,variant:l="dark",place:u="top",offset:f=10,wrapper:c="div",children:p=null,events:m=["hover"],openOnClick:g=!1,positionStrategy:_="absolute",middlewares:v,delayShow:h=0,delayHide:E=0,float:y=!1,hidden:S=!1,noArrow:$=!1,clickable:T=!1,closeOnEsc:d=!1,closeOnScroll:A=!1,closeOnResize:x=!1,openEvents:P,closeEvents:j,globalCloseEvents:F,imperativeModeOnly:V=!1,style:X,position:H,isOpen:Z,defaultIsOpen:fe=!1,disableStyleInjection:ee=!1,border:ae,opacity:M,arrowColor:B,setIsOpen:K,afterShow:O,afterHide:N,disableTooltip:q,role:ne="tooltip"},J)=>{const[Y,oe]=De.useState(n),[be,Oe]=De.useState(i),[R,C]=De.useState(u),[D,G]=De.useState(l),[ie,ue]=De.useState(f),[de,ve]=De.useState(h),[Ne,Be]=De.useState(E),[je,nt]=De.useState(y),[We,Ue]=De.useState(S),[W,I]=De.useState(c),[L,re]=De.useState(m),[ye,Ee]=De.useState(_),[Ce,Re]=De.useState(null),[Le,ft]=De.useState(null),yt=De.useRef(ee),{anchorRefs:st,activeAnchor:Ct}=bB(e),Er=Vt=>Vt==null?void 0:Vt.getAttributeNames().reduce((zt,At)=>{var Se;return At.startsWith("data-tooltip-")&&(zt[At.replace(/^data-tooltip-/,"")]=(Se=Vt==null?void 0:Vt.getAttribute(At))!==null&&Se!==void 0?Se:null),zt},{}),Or=Vt=>{const zt={place:At=>{var Se;C((Se=At)!==null&&Se!==void 0?Se:u)},content:At=>{oe(At??n)},html:At=>{Oe(At??i)},variant:At=>{var Se;G((Se=At)!==null&&Se!==void 0?Se:l)},offset:At=>{ue(At===null?f:Number(At))},wrapper:At=>{var Se;I((Se=At)!==null&&Se!==void 0?Se:c)},events:At=>{const Se=At==null?void 0:At.split(" ");re(Se??m)},"position-strategy":At=>{var Se;Ee((Se=At)!==null&&Se!==void 0?Se:_)},"delay-show":At=>{ve(At===null?h:Number(At))},"delay-hide":At=>{Be(At===null?E:Number(At))},float:At=>{nt(At===null?y:At==="true")},hidden:At=>{Ue(At===null?S:At==="true")},"class-name":At=>{Re(At)}};Object.values(zt).forEach(At=>At(null)),Object.entries(Vt).forEach(([At,Se])=>{var Ie;(Ie=zt[At])===null||Ie===void 0||Ie.call(zt,Se)})};De.useEffect(()=>{oe(n)},[n]),De.useEffect(()=>{Oe(i)},[i]),De.useEffect(()=>{C(u)},[u]),De.useEffect(()=>{G(l)},[l]),De.useEffect(()=>{ue(f)},[f]),De.useEffect(()=>{ve(h)},[h]),De.useEffect(()=>{Be(E)},[E]),De.useEffect(()=>{nt(y)},[y]),De.useEffect(()=>{Ue(S)},[S]),De.useEffect(()=>{Ee(_)},[_]),De.useEffect(()=>{yt.current!==ee&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[ee]),De.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:ee==="core",disableBase:ee}}))},[]),De.useEffect(()=>{var Vt;const zt=new Set(st);let At=r;if(!At&&e&&(At=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),At)try{document.querySelectorAll(At).forEach(it=>{zt.add({current:it})})}catch{console.warn(`[react-tooltip] "${At}" is not a valid CSS selector`)}const Se=document.querySelector(`[id='${t}']`);if(Se&&zt.add({current:Se}),!zt.size)return()=>null;const Ie=(Vt=Le??Se)!==null&&Vt!==void 0?Vt:Ct.current,dt=new MutationObserver(it=>{it.forEach(Ot=>{var qt;if(!Ie||Ot.type!=="attributes"||!(!((qt=Ot.attributeName)===null||qt===void 0)&&qt.startsWith("data-tooltip-")))return;const he=Er(Ie);Or(he)})}),Ye={attributes:!0,childList:!1,subtree:!1};if(Ie){const it=Er(Ie);Or(it),dt.observe(Ie,Ye)}return()=>{dt.disconnect()}},[st,Ct,Le,t,r]),De.useEffect(()=>{X!=null&&X.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),ae&&!s2("border",`${ae}`)&&console.warn(`[react-tooltip] "${ae}" is not a valid \`border\`.`),X!=null&&X.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),M&&!s2("opacity",`${M}`)&&console.warn(`[react-tooltip] "${M}" is not a valid \`opacity\`.`)},[]);let ir=p;const mr=De.useRef(null);if(o){const Vt=o({content:(Le==null?void 0:Le.getAttribute("data-tooltip-content"))||Y||null,activeAnchor:Le});ir=Vt?tt.createElement("div",{ref:mr,className:"react-tooltip-content-wrapper"},Vt):null}else Y&&(ir=Y);be&&(ir=tt.createElement(xQ,{content:be}));const cn={forwardRef:J,id:e,anchorId:t,anchorSelect:r,className:bT(a,Ce),classNameArrow:s,content:ir,contentWrapperRef:mr,place:R,variant:D,offset:ie,wrapper:W,events:L,openOnClick:g,positionStrategy:ye,middlewares:v,delayShow:de,delayHide:Ne,float:je,hidden:We,noArrow:$,clickable:T,closeOnEsc:d,closeOnScroll:A,closeOnResize:x,openEvents:P,closeEvents:j,globalCloseEvents:F,imperativeModeOnly:V,style:X,position:H,isOpen:Z,defaultIsOpen:fe,border:ae,opacity:M,arrowColor:B,setIsOpen:K,afterShow:O,afterHide:N,disableTooltip:q,activeAnchor:Le,setActiveAnchor:Vt=>ft(Vt),role:ne};return tt.createElement(AQ,{...cn})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||o2({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||o2({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Rl=e=>ce.jsxs("div",{className:"flex justify-center",children:[ce.jsx("div",{className:"pr-0.5",children:e.children}),ce.jsx("button",{onClick:()=>window.open(e.tooltip.href,"_blank"),children:ce.jsx(OQ,{html:e.tooltip.html||"No tooltip content available",id:e.id})}),ce.jsx("div",{className:"p-1"})]}),OQ=e=>ce.jsxs(ce.Fragment,{children:[ce.jsx("a",{"data-tooltip-id":e.id,"data-tooltip-html":e.html,children:ce.jsx(j_,{color:"grey",size:"16"})}),ce.jsx(PQ,{id:e.id,place:"top",className:"z-10"})]});class rc{constructor(t,r){this.html=t,this.href=r}}const RQ=()=>{const e=`<h2 class='text-lg'>Web of Things Properties</h2>
                    <p>A Property is a simple attribute of a device. The value of a Property can be readable.</p>
                    <p>writable or observable. E.g. a Property for a lamp could indicate if it is on or off.</p>
                    <br />
                    <p>Click to get more information about Properties.</p> 
                `,t="https://www.w3.org/TR/wot-thing-description/#propertyaffordance";return new rc(e,t)},IQ=()=>{const e=`<h2 class='text-lg'>Web of Things Actions</h2>
                    <p>An Action is some kind of procedure that can be triggered on a device. An Action can</p>
                    <p>be started or cancelled. E.g. an Action for a lamp could be turning it on or off.</p>
                    <br />
                    <p>Click to get more information about Actions.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#actionaffordance";return new rc(e,t)},NQ=()=>{const e=`<h2 class='text-lg'>Web of Things Events</h2>
                <p>An Event is an asynchronously happening information flow. An Event is observable.</p>
                <p>E.g. an Event for a lamp could fire if it gets turned on or off.</p>
                <br />
                <p>Click to get more information about Events.</p>
            `,t="https://www.w3.org/TR/wot-thing-description/#eventaffordance";return new rc(e,t)},gg=()=>{const e=`<h2 class='text-lg'>Web of Things Forms</h2>
                    <p>A Form contains all information needed to make a request to a device.</p>
                    <p>It can accompany a Property, Action, Event or a Thing itself.</p>
                    <br />
                    <p>Click to get more information about Forms.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#form";return new rc(e,t)},_B=()=>{const e=`<h2 class='text-lg'>Web of Things Link</h2>
                    <p>A link can be viewed as a statement of the form link context has a relation type resource at link target</p>
                    <p>Used to link Thing Description with other ressources.</p>
                    <br />
                    <p>Click to get more information about Links.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#link";return new rc(e,t)},EB=()=>{const e=`<h2 class='text-lg'>Unit ID</h2>
                    <p>Slave address of the Modbus device.</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#url-terms";return new rc(e,t)},SB=()=>{const e=`<h2 class='text-lg'>Address Offset</h2>
                    <p>Should all addresses shift by one (false) or not (true)</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#form-terms";return new rc(e,t)},$B=()=>{const e=`<h2 class='text-lg'>Endianness</h2>
                    <p>Should the words or the bytes be swapped?</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#form-terms";return new rc(e,t)},kQ={properties:RQ(),actions:IQ(),events:NQ(),forms:gg(),links:_B(),unitId:EB(),addressOffset:SB(),endianness:$B()};var CQ={},jQ=Object.create,F_=Object.defineProperty,DQ=Object.getOwnPropertyDescriptor,_R=Object.getOwnPropertyNames,MQ=Object.getPrototypeOf,LQ=Object.prototype.hasOwnProperty,nn=(e,t)=>function(){return e&&(t=(0,e[_R(e)[0]])(e=0)),t},Pe=(e,t)=>function(){return t||(0,e[_R(e)[0]])((t={exports:{}}).exports,t),t.exports},tl=(e,t)=>{for(var r in t)F_(e,r,{get:t[r],enumerable:!0})},TB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of _R(t))!LQ.call(e,i)&&i!==r&&F_(e,i,{get:()=>t[i],enumerable:!(n=DQ(t,i))||n.enumerable});return e},ER=(e,t,r)=>(r=e!=null?jQ(MQ(e)):{},TB(!e||!e.__esModule?F_(r,"default",{value:e,enumerable:!0}):r,e)),Pr=e=>TB(F_({},"__esModule",{value:!0}),e);function FQ(){if(ET)return Ed;ET=!0,Ed.byteLength=s,Ed.toByteArray=u,Ed.fromByteArray=p;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function a(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=m.indexOf("=");_===-1&&(_=g);var v=_===g?0:4-_%4;return[_,v]}function s(m){var g=a(m),_=g[0],v=g[1];return(_+v)*3/4-v}function l(m,g,_){return(g+_)*3/4-_}function u(m){var g,_=a(m),v=_[0],h=_[1],E=new r(l(m,v,h)),y=0,S=h>0?v-4:v,$;for($=0;$<S;$+=4)g=t[m.charCodeAt($)]<<18|t[m.charCodeAt($+1)]<<12|t[m.charCodeAt($+2)]<<6|t[m.charCodeAt($+3)],E[y++]=g>>16&255,E[y++]=g>>8&255,E[y++]=g&255;return h===2&&(g=t[m.charCodeAt($)]<<2|t[m.charCodeAt($+1)]>>4,E[y++]=g&255),h===1&&(g=t[m.charCodeAt($)]<<10|t[m.charCodeAt($+1)]<<4|t[m.charCodeAt($+2)]>>2,E[y++]=g>>8&255,E[y++]=g&255),E}function f(m){return e[m>>18&63]+e[m>>12&63]+e[m>>6&63]+e[m&63]}function c(m,g,_){for(var v,h=[],E=g;E<_;E+=3)v=(m[E]<<16&16711680)+(m[E+1]<<8&65280)+(m[E+2]&255),h.push(f(v));return h.join("")}function p(m){for(var g,_=m.length,v=_%3,h=[],E=16383,y=0,S=_-v;y<S;y+=E)h.push(c(m,y,y+E>S?S:y+E));return v===1?(g=m[_-1],h.push(e[g>>2]+e[g<<4&63]+"==")):v===2&&(g=(m[_-2]<<8)+m[_-1],h.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),h.join("")}return Ed}function BQ(){return ST||(ST=!0,Rp.read=function(e,t,r,n,i){var o,a,s=i*8-n-1,l=(1<<s)-1,u=l>>1,f=-7,c=r?i-1:0,p=r?-1:1,m=e[t+c];for(c+=p,o=m&(1<<-f)-1,m>>=-f,f+=s;f>0;o=o*256+e[t+c],c+=p,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=a*256+e[t+c],c+=p,f-=8);if(o===0)o=1-u;else{if(o===l)return a?NaN:(m?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-u}return(m?-1:1)*a*Math.pow(2,o-n)},Rp.write=function(e,t,r,n,i,o){var a,s,l,u=o*8-i-1,f=(1<<u)-1,c=f>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+c>=1?t+=p/l:t+=p*Math.pow(2,1-c),t*l>=2&&(a++,l/=2),a+c>=f?(s=0,a=f):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a=a+c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+m]=s&255,m+=g,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+m]=a&255,m+=g,a/=256,u-=8);e[r+m-g]|=_*128}),Rp}function Io(){if($T)return mu;$T=!0;const e=FQ(),t=BQ(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;mu.Buffer=a,mu.SlowBuffer=h,mu.INSPECT_MAX_BYTES=50;const n=2147483647;mu.kMaxLength=n,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const W=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(W,I),W.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(W){if(W>n)throw new RangeError('The value "'+W+'" is invalid for option "size"');const I=new Uint8Array(W);return Object.setPrototypeOf(I,a.prototype),I}function a(W,I,L){if(typeof W=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(W)}return s(W,I,L)}a.poolSize=8192;function s(W,I,L){if(typeof W=="string")return c(W,I);if(ArrayBuffer.isView(W))return m(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(Be(W,ArrayBuffer)||W&&Be(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be(W,SharedArrayBuffer)||W&&Be(W.buffer,SharedArrayBuffer)))return g(W,I,L);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const re=W.valueOf&&W.valueOf();if(re!=null&&re!==W)return a.from(re,I,L);const ye=_(W);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return a.from(W[Symbol.toPrimitive]("string"),I,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}a.from=function(W,I,L){return s(W,I,L)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function u(W,I,L){return l(W),W<=0?o(W):I!==void 0?typeof L=="string"?o(W).fill(I,L):o(W).fill(I):o(W)}a.alloc=function(W,I,L){return u(W,I,L)};function f(W){return l(W),o(W<0?0:v(W)|0)}a.allocUnsafe=function(W){return f(W)},a.allocUnsafeSlow=function(W){return f(W)};function c(W,I){if((typeof I!="string"||I==="")&&(I="utf8"),!a.isEncoding(I))throw new TypeError("Unknown encoding: "+I);const L=E(W,I)|0;let re=o(L);const ye=re.write(W,I);return ye!==L&&(re=re.slice(0,ye)),re}function p(W){const I=W.length<0?0:v(W.length)|0,L=o(I);for(let re=0;re<I;re+=1)L[re]=W[re]&255;return L}function m(W){if(Be(W,Uint8Array)){const I=new Uint8Array(W);return g(I.buffer,I.byteOffset,I.byteLength)}return p(W)}function g(W,I,L){if(I<0||W.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<I+(L||0))throw new RangeError('"length" is outside of buffer bounds');let re;return I===void 0&&L===void 0?re=new Uint8Array(W):L===void 0?re=new Uint8Array(W,I):re=new Uint8Array(W,I,L),Object.setPrototypeOf(re,a.prototype),re}function _(W){if(a.isBuffer(W)){const I=v(W.length)|0,L=o(I);return L.length===0||W.copy(L,0,0,I),L}if(W.length!==void 0)return typeof W.length!="number"||je(W.length)?o(0):p(W);if(W.type==="Buffer"&&Array.isArray(W.data))return p(W.data)}function v(W){if(W>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return W|0}function h(W){return+W!=W&&(W=0),a.alloc(+W)}a.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==a.prototype},a.compare=function(I,L){if(Be(I,Uint8Array)&&(I=a.from(I,I.offset,I.byteLength)),Be(L,Uint8Array)&&(L=a.from(L,L.offset,L.byteLength)),!a.isBuffer(I)||!a.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===L)return 0;let re=I.length,ye=L.length;for(let Ee=0,Ce=Math.min(re,ye);Ee<Ce;++Ee)if(I[Ee]!==L[Ee]){re=I[Ee],ye=L[Ee];break}return re<ye?-1:ye<re?1:0},a.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(I,L){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return a.alloc(0);let re;if(L===void 0)for(L=0,re=0;re<I.length;++re)L+=I[re].length;const ye=a.allocUnsafe(L);let Ee=0;for(re=0;re<I.length;++re){let Ce=I[re];if(Be(Ce,Uint8Array))Ee+Ce.length>ye.length?(a.isBuffer(Ce)||(Ce=a.from(Ce)),Ce.copy(ye,Ee)):Uint8Array.prototype.set.call(ye,Ce,Ee);else if(a.isBuffer(Ce))Ce.copy(ye,Ee);else throw new TypeError('"list" argument must be an Array of Buffers');Ee+=Ce.length}return ye};function E(W,I){if(a.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||Be(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const L=W.length,re=arguments.length>2&&arguments[2]===!0;if(!re&&L===0)return 0;let ye=!1;for(;;)switch(I){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return ie(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return ve(W).length;default:if(ye)return re?-1:ie(W).length;I=(""+I).toLowerCase(),ye=!0}}a.byteLength=E;function y(W,I,L){let re=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,I>>>=0,L<=I))return"";for(W||(W="utf8");;)switch(W){case"hex":return ee(this,I,L);case"utf8":case"utf-8":return V(this,I,L);case"ascii":return Z(this,I,L);case"latin1":case"binary":return fe(this,I,L);case"base64":return F(this,I,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,I,L);default:if(re)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),re=!0}}a.prototype._isBuffer=!0;function S(W,I,L){const re=W[I];W[I]=W[L],W[L]=re}a.prototype.swap16=function(){const I=this.length;if(I%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<I;L+=2)S(this,L,L+1);return this},a.prototype.swap32=function(){const I=this.length;if(I%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<I;L+=4)S(this,L,L+3),S(this,L+1,L+2);return this},a.prototype.swap64=function(){const I=this.length;if(I%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<I;L+=8)S(this,L,L+7),S(this,L+1,L+6),S(this,L+2,L+5),S(this,L+3,L+4);return this},a.prototype.toString=function(){const I=this.length;return I===0?"":arguments.length===0?V(this,0,I):y.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(I){if(!a.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:a.compare(this,I)===0},a.prototype.inspect=function(){let I="";const L=mu.INSPECT_MAX_BYTES;return I=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(I+=" ... "),"<Buffer "+I+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(I,L,re,ye,Ee){if(Be(I,Uint8Array)&&(I=a.from(I,I.offset,I.byteLength)),!a.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(L===void 0&&(L=0),re===void 0&&(re=I?I.length:0),ye===void 0&&(ye=0),Ee===void 0&&(Ee=this.length),L<0||re>I.length||ye<0||Ee>this.length)throw new RangeError("out of range index");if(ye>=Ee&&L>=re)return 0;if(ye>=Ee)return-1;if(L>=re)return 1;if(L>>>=0,re>>>=0,ye>>>=0,Ee>>>=0,this===I)return 0;let Ce=Ee-ye,Re=re-L;const Le=Math.min(Ce,Re),ft=this.slice(ye,Ee),yt=I.slice(L,re);for(let st=0;st<Le;++st)if(ft[st]!==yt[st]){Ce=ft[st],Re=yt[st];break}return Ce<Re?-1:Re<Ce?1:0};function $(W,I,L,re,ye){if(W.length===0)return-1;if(typeof L=="string"?(re=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,je(L)&&(L=ye?0:W.length-1),L<0&&(L=W.length+L),L>=W.length){if(ye)return-1;L=W.length-1}else if(L<0)if(ye)L=0;else return-1;if(typeof I=="string"&&(I=a.from(I,re)),a.isBuffer(I))return I.length===0?-1:T(W,I,L,re,ye);if(typeof I=="number")return I=I&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(W,I,L):Uint8Array.prototype.lastIndexOf.call(W,I,L):T(W,[I],L,re,ye);throw new TypeError("val must be string, number or Buffer")}function T(W,I,L,re,ye){let Ee=1,Ce=W.length,Re=I.length;if(re!==void 0&&(re=String(re).toLowerCase(),re==="ucs2"||re==="ucs-2"||re==="utf16le"||re==="utf-16le")){if(W.length<2||I.length<2)return-1;Ee=2,Ce/=2,Re/=2,L/=2}function Le(yt,st){return Ee===1?yt[st]:yt.readUInt16BE(st*Ee)}let ft;if(ye){let yt=-1;for(ft=L;ft<Ce;ft++)if(Le(W,ft)===Le(I,yt===-1?0:ft-yt)){if(yt===-1&&(yt=ft),ft-yt+1===Re)return yt*Ee}else yt!==-1&&(ft-=ft-yt),yt=-1}else for(L+Re>Ce&&(L=Ce-Re),ft=L;ft>=0;ft--){let yt=!0;for(let st=0;st<Re;st++)if(Le(W,ft+st)!==Le(I,st)){yt=!1;break}if(yt)return ft}return-1}a.prototype.includes=function(I,L,re){return this.indexOf(I,L,re)!==-1},a.prototype.indexOf=function(I,L,re){return $(this,I,L,re,!0)},a.prototype.lastIndexOf=function(I,L,re){return $(this,I,L,re,!1)};function d(W,I,L,re){L=Number(L)||0;const ye=W.length-L;re?(re=Number(re),re>ye&&(re=ye)):re=ye;const Ee=I.length;re>Ee/2&&(re=Ee/2);let Ce;for(Ce=0;Ce<re;++Ce){const Re=parseInt(I.substr(Ce*2,2),16);if(je(Re))return Ce;W[L+Ce]=Re}return Ce}function A(W,I,L,re){return Ne(ie(I,W.length-L),W,L,re)}function x(W,I,L,re){return Ne(ue(I),W,L,re)}function P(W,I,L,re){return Ne(ve(I),W,L,re)}function j(W,I,L,re){return Ne(de(I,W.length-L),W,L,re)}a.prototype.write=function(I,L,re,ye){if(L===void 0)ye="utf8",re=this.length,L=0;else if(re===void 0&&typeof L=="string")ye=L,re=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(re)?(re=re>>>0,ye===void 0&&(ye="utf8")):(ye=re,re=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ee=this.length-L;if((re===void 0||re>Ee)&&(re=Ee),I.length>0&&(re<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");let Ce=!1;for(;;)switch(ye){case"hex":return d(this,I,L,re);case"utf8":case"utf-8":return A(this,I,L,re);case"ascii":case"latin1":case"binary":return x(this,I,L,re);case"base64":return P(this,I,L,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,I,L,re);default:if(Ce)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),Ce=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(W,I,L){return I===0&&L===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(I,L))}function V(W,I,L){L=Math.min(W.length,L);const re=[];let ye=I;for(;ye<L;){const Ee=W[ye];let Ce=null,Re=Ee>239?4:Ee>223?3:Ee>191?2:1;if(ye+Re<=L){let Le,ft,yt,st;switch(Re){case 1:Ee<128&&(Ce=Ee);break;case 2:Le=W[ye+1],(Le&192)===128&&(st=(Ee&31)<<6|Le&63,st>127&&(Ce=st));break;case 3:Le=W[ye+1],ft=W[ye+2],(Le&192)===128&&(ft&192)===128&&(st=(Ee&15)<<12|(Le&63)<<6|ft&63,st>2047&&(st<55296||st>57343)&&(Ce=st));break;case 4:Le=W[ye+1],ft=W[ye+2],yt=W[ye+3],(Le&192)===128&&(ft&192)===128&&(yt&192)===128&&(st=(Ee&15)<<18|(Le&63)<<12|(ft&63)<<6|yt&63,st>65535&&st<1114112&&(Ce=st))}}Ce===null?(Ce=65533,Re=1):Ce>65535&&(Ce-=65536,re.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),re.push(Ce),ye+=Re}return H(re)}const X=4096;function H(W){const I=W.length;if(I<=X)return String.fromCharCode.apply(String,W);let L="",re=0;for(;re<I;)L+=String.fromCharCode.apply(String,W.slice(re,re+=X));return L}function Z(W,I,L){let re="";L=Math.min(W.length,L);for(let ye=I;ye<L;++ye)re+=String.fromCharCode(W[ye]&127);return re}function fe(W,I,L){let re="";L=Math.min(W.length,L);for(let ye=I;ye<L;++ye)re+=String.fromCharCode(W[ye]);return re}function ee(W,I,L){const re=W.length;(!I||I<0)&&(I=0),(!L||L<0||L>re)&&(L=re);let ye="";for(let Ee=I;Ee<L;++Ee)ye+=nt[W[Ee]];return ye}function ae(W,I,L){const re=W.slice(I,L);let ye="";for(let Ee=0;Ee<re.length-1;Ee+=2)ye+=String.fromCharCode(re[Ee]+re[Ee+1]*256);return ye}a.prototype.slice=function(I,L){const re=this.length;I=~~I,L=L===void 0?re:~~L,I<0?(I+=re,I<0&&(I=0)):I>re&&(I=re),L<0?(L+=re,L<0&&(L=0)):L>re&&(L=re),L<I&&(L=I);const ye=this.subarray(I,L);return Object.setPrototypeOf(ye,a.prototype),ye};function M(W,I,L){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+I>L)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(I,L,re){I=I>>>0,L=L>>>0,re||M(I,L,this.length);let ye=this[I],Ee=1,Ce=0;for(;++Ce<L&&(Ee*=256);)ye+=this[I+Ce]*Ee;return ye},a.prototype.readUintBE=a.prototype.readUIntBE=function(I,L,re){I=I>>>0,L=L>>>0,re||M(I,L,this.length);let ye=this[I+--L],Ee=1;for(;L>0&&(Ee*=256);)ye+=this[I+--L]*Ee;return ye},a.prototype.readUint8=a.prototype.readUInt8=function(I,L){return I=I>>>0,L||M(I,1,this.length),this[I]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(I,L){return I=I>>>0,L||M(I,2,this.length),this[I]|this[I+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(I,L){return I=I>>>0,L||M(I,2,this.length),this[I]<<8|this[I+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(I,L){return I=I>>>0,L||M(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+this[I+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(I,L){return I=I>>>0,L||M(I,4,this.length),this[I]*16777216+(this[I+1]<<16|this[I+2]<<8|this[I+3])},a.prototype.readBigUInt64LE=We(function(I){I=I>>>0,R(I,"offset");const L=this[I],re=this[I+7];(L===void 0||re===void 0)&&C(I,this.length-8);const ye=L+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24,Ee=this[++I]+this[++I]*2**8+this[++I]*2**16+re*2**24;return BigInt(ye)+(BigInt(Ee)<<BigInt(32))}),a.prototype.readBigUInt64BE=We(function(I){I=I>>>0,R(I,"offset");const L=this[I],re=this[I+7];(L===void 0||re===void 0)&&C(I,this.length-8);const ye=L*2**24+this[++I]*2**16+this[++I]*2**8+this[++I],Ee=this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+re;return(BigInt(ye)<<BigInt(32))+BigInt(Ee)}),a.prototype.readIntLE=function(I,L,re){I=I>>>0,L=L>>>0,re||M(I,L,this.length);let ye=this[I],Ee=1,Ce=0;for(;++Ce<L&&(Ee*=256);)ye+=this[I+Ce]*Ee;return Ee*=128,ye>=Ee&&(ye-=Math.pow(2,8*L)),ye},a.prototype.readIntBE=function(I,L,re){I=I>>>0,L=L>>>0,re||M(I,L,this.length);let ye=L,Ee=1,Ce=this[I+--ye];for(;ye>0&&(Ee*=256);)Ce+=this[I+--ye]*Ee;return Ee*=128,Ce>=Ee&&(Ce-=Math.pow(2,8*L)),Ce},a.prototype.readInt8=function(I,L){return I=I>>>0,L||M(I,1,this.length),this[I]&128?(255-this[I]+1)*-1:this[I]},a.prototype.readInt16LE=function(I,L){I=I>>>0,L||M(I,2,this.length);const re=this[I]|this[I+1]<<8;return re&32768?re|4294901760:re},a.prototype.readInt16BE=function(I,L){I=I>>>0,L||M(I,2,this.length);const re=this[I+1]|this[I]<<8;return re&32768?re|4294901760:re},a.prototype.readInt32LE=function(I,L){return I=I>>>0,L||M(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},a.prototype.readInt32BE=function(I,L){return I=I>>>0,L||M(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},a.prototype.readBigInt64LE=We(function(I){I=I>>>0,R(I,"offset");const L=this[I],re=this[I+7];(L===void 0||re===void 0)&&C(I,this.length-8);const ye=this[I+4]+this[I+5]*2**8+this[I+6]*2**16+(re<<24);return(BigInt(ye)<<BigInt(32))+BigInt(L+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24)}),a.prototype.readBigInt64BE=We(function(I){I=I>>>0,R(I,"offset");const L=this[I],re=this[I+7];(L===void 0||re===void 0)&&C(I,this.length-8);const ye=(L<<24)+this[++I]*2**16+this[++I]*2**8+this[++I];return(BigInt(ye)<<BigInt(32))+BigInt(this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+re)}),a.prototype.readFloatLE=function(I,L){return I=I>>>0,L||M(I,4,this.length),t.read(this,I,!0,23,4)},a.prototype.readFloatBE=function(I,L){return I=I>>>0,L||M(I,4,this.length),t.read(this,I,!1,23,4)},a.prototype.readDoubleLE=function(I,L){return I=I>>>0,L||M(I,8,this.length),t.read(this,I,!0,52,8)},a.prototype.readDoubleBE=function(I,L){return I=I>>>0,L||M(I,8,this.length),t.read(this,I,!1,52,8)};function B(W,I,L,re,ye,Ee){if(!a.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>ye||I<Ee)throw new RangeError('"value" argument is out of bounds');if(L+re>W.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(I,L,re,ye){if(I=+I,L=L>>>0,re=re>>>0,!ye){const Re=Math.pow(2,8*re)-1;B(this,I,L,re,Re,0)}let Ee=1,Ce=0;for(this[L]=I&255;++Ce<re&&(Ee*=256);)this[L+Ce]=I/Ee&255;return L+re},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(I,L,re,ye){if(I=+I,L=L>>>0,re=re>>>0,!ye){const Re=Math.pow(2,8*re)-1;B(this,I,L,re,Re,0)}let Ee=re-1,Ce=1;for(this[L+Ee]=I&255;--Ee>=0&&(Ce*=256);)this[L+Ee]=I/Ce&255;return L+re},a.prototype.writeUint8=a.prototype.writeUInt8=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,1,255,0),this[L]=I&255,L+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,2,65535,0),this[L]=I&255,this[L+1]=I>>>8,L+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,2,65535,0),this[L]=I>>>8,this[L+1]=I&255,L+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,4,4294967295,0),this[L+3]=I>>>24,this[L+2]=I>>>16,this[L+1]=I>>>8,this[L]=I&255,L+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,4,4294967295,0),this[L]=I>>>24,this[L+1]=I>>>16,this[L+2]=I>>>8,this[L+3]=I&255,L+4};function K(W,I,L,re,ye){Oe(I,re,ye,W,L,7);let Ee=Number(I&BigInt(4294967295));W[L++]=Ee,Ee=Ee>>8,W[L++]=Ee,Ee=Ee>>8,W[L++]=Ee,Ee=Ee>>8,W[L++]=Ee;let Ce=Number(I>>BigInt(32)&BigInt(4294967295));return W[L++]=Ce,Ce=Ce>>8,W[L++]=Ce,Ce=Ce>>8,W[L++]=Ce,Ce=Ce>>8,W[L++]=Ce,L}function O(W,I,L,re,ye){Oe(I,re,ye,W,L,7);let Ee=Number(I&BigInt(4294967295));W[L+7]=Ee,Ee=Ee>>8,W[L+6]=Ee,Ee=Ee>>8,W[L+5]=Ee,Ee=Ee>>8,W[L+4]=Ee;let Ce=Number(I>>BigInt(32)&BigInt(4294967295));return W[L+3]=Ce,Ce=Ce>>8,W[L+2]=Ce,Ce=Ce>>8,W[L+1]=Ce,Ce=Ce>>8,W[L]=Ce,L+8}a.prototype.writeBigUInt64LE=We(function(I,L=0){return K(this,I,L,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=We(function(I,L=0){return O(this,I,L,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(I,L,re,ye){if(I=+I,L=L>>>0,!ye){const Le=Math.pow(2,8*re-1);B(this,I,L,re,Le-1,-Le)}let Ee=0,Ce=1,Re=0;for(this[L]=I&255;++Ee<re&&(Ce*=256);)I<0&&Re===0&&this[L+Ee-1]!==0&&(Re=1),this[L+Ee]=(I/Ce>>0)-Re&255;return L+re},a.prototype.writeIntBE=function(I,L,re,ye){if(I=+I,L=L>>>0,!ye){const Le=Math.pow(2,8*re-1);B(this,I,L,re,Le-1,-Le)}let Ee=re-1,Ce=1,Re=0;for(this[L+Ee]=I&255;--Ee>=0&&(Ce*=256);)I<0&&Re===0&&this[L+Ee+1]!==0&&(Re=1),this[L+Ee]=(I/Ce>>0)-Re&255;return L+re},a.prototype.writeInt8=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,1,127,-128),I<0&&(I=255+I+1),this[L]=I&255,L+1},a.prototype.writeInt16LE=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,2,32767,-32768),this[L]=I&255,this[L+1]=I>>>8,L+2},a.prototype.writeInt16BE=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,2,32767,-32768),this[L]=I>>>8,this[L+1]=I&255,L+2},a.prototype.writeInt32LE=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,4,2147483647,-2147483648),this[L]=I&255,this[L+1]=I>>>8,this[L+2]=I>>>16,this[L+3]=I>>>24,L+4},a.prototype.writeInt32BE=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[L]=I>>>24,this[L+1]=I>>>16,this[L+2]=I>>>8,this[L+3]=I&255,L+4},a.prototype.writeBigInt64LE=We(function(I,L=0){return K(this,I,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=We(function(I,L=0){return O(this,I,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function N(W,I,L,re,ye,Ee){if(L+re>W.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function q(W,I,L,re,ye){return I=+I,L=L>>>0,ye||N(W,I,L,4),t.write(W,I,L,re,23,4),L+4}a.prototype.writeFloatLE=function(I,L,re){return q(this,I,L,!0,re)},a.prototype.writeFloatBE=function(I,L,re){return q(this,I,L,!1,re)};function ne(W,I,L,re,ye){return I=+I,L=L>>>0,ye||N(W,I,L,8),t.write(W,I,L,re,52,8),L+8}a.prototype.writeDoubleLE=function(I,L,re){return ne(this,I,L,!0,re)},a.prototype.writeDoubleBE=function(I,L,re){return ne(this,I,L,!1,re)},a.prototype.copy=function(I,L,re,ye){if(!a.isBuffer(I))throw new TypeError("argument should be a Buffer");if(re||(re=0),!ye&&ye!==0&&(ye=this.length),L>=I.length&&(L=I.length),L||(L=0),ye>0&&ye<re&&(ye=re),ye===re||I.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(re<0||re>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),I.length-L<ye-re&&(ye=I.length-L+re);const Ee=ye-re;return this===I&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,re,ye):Uint8Array.prototype.set.call(I,this.subarray(re,ye),L),Ee},a.prototype.fill=function(I,L,re,ye){if(typeof I=="string"){if(typeof L=="string"?(ye=L,L=0,re=this.length):typeof re=="string"&&(ye=re,re=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!a.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(I.length===1){const Ce=I.charCodeAt(0);(ye==="utf8"&&Ce<128||ye==="latin1")&&(I=Ce)}}else typeof I=="number"?I=I&255:typeof I=="boolean"&&(I=Number(I));if(L<0||this.length<L||this.length<re)throw new RangeError("Out of range index");if(re<=L)return this;L=L>>>0,re=re===void 0?this.length:re>>>0,I||(I=0);let Ee;if(typeof I=="number")for(Ee=L;Ee<re;++Ee)this[Ee]=I;else{const Ce=a.isBuffer(I)?I:a.from(I,ye),Re=Ce.length;if(Re===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(Ee=0;Ee<re-L;++Ee)this[Ee+L]=Ce[Ee%Re]}return this};const J={};function Y(W,I,L){J[W]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:I.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(ye){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ye,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(W,I){return`The "${W}" argument must be of type number. Received type ${typeof I}`},TypeError),Y("ERR_OUT_OF_RANGE",function(W,I,L){let re=`The value of "${W}" is out of range.`,ye=L;return Number.isInteger(L)&&Math.abs(L)>2**32?ye=oe(String(L)):typeof L=="bigint"&&(ye=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(ye=oe(ye)),ye+="n"),re+=` It must be ${I}. Received ${ye}`,re},RangeError);function oe(W){let I="",L=W.length;const re=W[0]==="-"?1:0;for(;L>=re+4;L-=3)I=`_${W.slice(L-3,L)}${I}`;return`${W.slice(0,L)}${I}`}function be(W,I,L){R(I,"offset"),(W[I]===void 0||W[I+L]===void 0)&&C(I,W.length-(L+1))}function Oe(W,I,L,re,ye,Ee){if(W>L||W<I){const Ce=typeof I=="bigint"?"n":"";let Re;throw I===0||I===BigInt(0)?Re=`>= 0${Ce} and < 2${Ce} ** ${(Ee+1)*8}${Ce}`:Re=`>= -(2${Ce} ** ${(Ee+1)*8-1}${Ce}) and < 2 ** ${(Ee+1)*8-1}${Ce}`,new J.ERR_OUT_OF_RANGE("value",Re,W)}be(re,ye,Ee)}function R(W,I){if(typeof W!="number")throw new J.ERR_INVALID_ARG_TYPE(I,"number",W)}function C(W,I,L){throw Math.floor(W)!==W?(R(W,L),new J.ERR_OUT_OF_RANGE("offset","an integer",W)):I<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${I}`,W)}const D=/[^+/0-9A-Za-z-_]/g;function G(W){if(W=W.split("=")[0],W=W.trim().replace(D,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function ie(W,I){I=I||1/0;let L;const re=W.length;let ye=null;const Ee=[];for(let Ce=0;Ce<re;++Ce){if(L=W.charCodeAt(Ce),L>55295&&L<57344){if(!ye){if(L>56319){(I-=3)>-1&&Ee.push(239,191,189);continue}else if(Ce+1===re){(I-=3)>-1&&Ee.push(239,191,189);continue}ye=L;continue}if(L<56320){(I-=3)>-1&&Ee.push(239,191,189),ye=L;continue}L=(ye-55296<<10|L-56320)+65536}else ye&&(I-=3)>-1&&Ee.push(239,191,189);if(ye=null,L<128){if((I-=1)<0)break;Ee.push(L)}else if(L<2048){if((I-=2)<0)break;Ee.push(L>>6|192,L&63|128)}else if(L<65536){if((I-=3)<0)break;Ee.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((I-=4)<0)break;Ee.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return Ee}function ue(W){const I=[];for(let L=0;L<W.length;++L)I.push(W.charCodeAt(L)&255);return I}function de(W,I){let L,re,ye;const Ee=[];for(let Ce=0;Ce<W.length&&!((I-=2)<0);++Ce)L=W.charCodeAt(Ce),re=L>>8,ye=L%256,Ee.push(ye),Ee.push(re);return Ee}function ve(W){return e.toByteArray(G(W))}function Ne(W,I,L,re){let ye;for(ye=0;ye<re&&!(ye+L>=I.length||ye>=W.length);++ye)I[ye+L]=W[ye];return ye}function Be(W,I){return W instanceof I||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===I.name}function je(W){return W!==W}const nt=function(){const W="0123456789abcdef",I=new Array(256);for(let L=0;L<16;++L){const re=L*16;for(let ye=0;ye<16;++ye)I[re+ye]=W[L]+W[ye]}return I}();function We(W){return typeof BigInt>"u"?Ue:W}function Ue(){throw new Error("BigInt not supported")}return mu}var Ed,ET,Rp,ST,mu,$T,B_=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtuTasat.js"(){Te(),Ed={},ET=!1,Rp={},ST=!1,mu={},$T=!1}}),nc={};tl(nc,{Buffer:()=>Yr,INSPECT_MAX_BYTES:()=>AB,default:()=>dl,kMaxLength:()=>xB});var dl,Yr,AB,xB,ic=nn({"../../node_modules/@jspm/core/nodelibs/browser/buffer.js"(){Te(),B_(),dl=Io(),dl.Buffer,dl.SlowBuffer,dl.INSPECT_MAX_BYTES,dl.kMaxLength,Yr=dl.Buffer,AB=dl.INSPECT_MAX_BYTES,xB=dl.kMaxLength}}),Te=nn({"../../node_modules/esbuild-plugin-polyfill-node/polyfills/buffer.js"(){ic()}}),vg=Pe({"../core/dist/thing-description.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ThingEvent=e.ThingAction=e.ThingProperty=e.BaseSchema=e.Form=e.Thing=e.DEFAULT_THING_TYPE=e.DEFAULT_CONTEXT_LANGUAGE=e.DEFAULT_CONTEXT_V11=e.DEFAULT_CONTEXT_V1=void 0,e.DEFAULT_CONTEXT_V1="https://www.w3.org/2019/wot/td/v1",e.DEFAULT_CONTEXT_V11="https://www.w3.org/2022/wot/td/v1.1",e.DEFAULT_CONTEXT_LANGUAGE="en",e.DEFAULT_THING_TYPE="Thing";var t=class{constructor(){this["@context"]=[e.DEFAULT_CONTEXT_V1,e.DEFAULT_CONTEXT_V11],this["@type"]=e.DEFAULT_THING_TYPE,this.title="",this.securityDefinitions={},this.security="",this.properties={},this.actions={},this.events={},this.links=[]}};e.Thing=t;var r=class{constructor(s,l){this.href=s,l!=null&&(this.contentType=l)}};e.Form=r;var n=class{};e.BaseSchema=n;var i=class extends n{};e.ThingProperty=i;var o=class{};e.ThingAction=o;var a=class{};e.ThingEvent=a}}),UQ=Pe({"../../node_modules/ms/index.js"(e,t){Te();var r=1e3,n=r*60,i=n*60,o=i*24,a=o*7,s=o*365.25;t.exports=function(p,m){m=m||{};var g=typeof p;if(g==="string"&&p.length>0)return l(p);if(g==="number"&&isFinite(p))return m.long?f(p):u(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function l(p){if(p=String(p),!(p.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(m){var g=parseFloat(m[1]),_=(m[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return g*s;case"weeks":case"week":case"w":return g*a;case"days":case"day":case"d":return g*o;case"hours":case"hour":case"hrs":case"hr":case"h":return g*i;case"minutes":case"minute":case"mins":case"min":case"m":return g*n;case"seconds":case"second":case"secs":case"sec":case"s":return g*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function u(p){var m=Math.abs(p);return m>=o?Math.round(p/o)+"d":m>=i?Math.round(p/i)+"h":m>=n?Math.round(p/n)+"m":m>=r?Math.round(p/r)+"s":p+"ms"}function f(p){var m=Math.abs(p);return m>=o?c(p,m,o,"day"):m>=i?c(p,m,i,"hour"):m>=n?c(p,m,n,"minute"):m>=r?c(p,m,r,"second"):p+" ms"}function c(p,m,g,_){var v=m>=g*1.5;return Math.round(p/g)+" "+_+(v?"s":"")}}}),zQ=Pe({"../../node_modules/debug/src/common.js"(e,t){Te();function r(n){o.debug=o,o.default=o,o.coerce=c,o.disable=l,o.enable=s,o.enabled=u,o.humanize=UQ(),o.destroy=p,Object.keys(n).forEach(m=>{o[m]=n[m]}),o.names=[],o.skips=[],o.formatters={};function i(m){let g=0;for(let _=0;_<m.length;_++)g=(g<<5)-g+m.charCodeAt(_),g|=0;return o.colors[Math.abs(g)%o.colors.length]}o.selectColor=i;function o(m){let g,_=null,v,h;function E(...y){if(!E.enabled)return;const S=E,$=Number(new Date),T=$-(g||$);S.diff=T,S.prev=g,S.curr=$,g=$,y[0]=o.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let d=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(x,P)=>{if(x==="%%")return"%";d++;const j=o.formatters[P];if(typeof j=="function"){const F=y[d];x=j.call(S,F),y.splice(d,1),d--}return x}),o.formatArgs.call(S,y),(S.log||o.log).apply(S,y)}return E.namespace=m,E.useColors=o.useColors(),E.color=o.selectColor(m),E.extend=a,E.destroy=o.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(v!==o.namespaces&&(v=o.namespaces,h=o.enabled(m)),h),set:y=>{_=y}}),typeof o.init=="function"&&o.init(E),E}function a(m,g){const _=o(this.namespace+(typeof g>"u"?":":g)+m);return _.log=this.log,_}function s(m){o.save(m),o.namespaces=m,o.names=[],o.skips=[];let g;const _=(typeof m=="string"?m:"").split(/[\s,]+/),v=_.length;for(g=0;g<v;g++)_[g]&&(m=_[g].replace(/\*/g,".*?"),m[0]==="-"?o.skips.push(new RegExp("^"+m.slice(1)+"$")):o.names.push(new RegExp("^"+m+"$")))}function l(){const m=[...o.names.map(f),...o.skips.map(f).map(g=>"-"+g)].join(",");return o.enable(""),m}function u(m){if(m[m.length-1]==="*")return!0;let g,_;for(g=0,_=o.skips.length;g<_;g++)if(o.skips[g].test(m))return!1;for(g=0,_=o.names.length;g<_;g++)if(o.names[g].test(m))return!0;return!1}function f(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function c(m){return m instanceof Error?m.stack||m.message:m}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}t.exports=r}}),PB=Pe({"../../node_modules/debug/src/browser.js"(e,t){Te(),e.formatArgs=n,e.save=i,e.load=o,e.useColors=r,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let f=0,c=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(f++,p==="%c"&&(c=f))}),l.splice(c,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=CQ.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=zQ()(e);var{formatters:s}=t.exports;s.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}}),No=Pe({"../core/dist/logger.js"(e){Te();var t=e&&e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.createInfoLogger=o,e.createDebugLogger=a,e.createWarnLogger=s,e.createErrorLogger=l,e.createLoggers=u;var r=t(PB()),n;(function(f){f[f.info=0]="info",f[f.debug=1]="debug",f[f.warn=2]="warn",f[f.error=3]="error"})(n||(n={}));function i(f,c){const p=["node-wot",...f,n[c]].join(":");return(0,r.default)(p)}function o(...f){return i(f,n.info)}function a(...f){return i(f,n.debug)}function s(...f){return i(f,n.warn)}function l(...f){return i(f,n.error)}function u(...f){return{info:o(...f),debug:a(...f),warn:s(...f),error:l(...f)}}}}),qQ=Pe({"../../node_modules/is-absolute-url/index.js"(e,t){Te(),t.exports=r=>{if(typeof r!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof r}\``);return/^[a-zA-Z]:\\/.test(r)?!1:/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(r)}}}),VQ=Pe({"../../node_modules/url-toolkit/src/url-toolkit.js"(e,t){Te(),function(r){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(l,u,f){if(f=f||{},l=l.trim(),u=u.trim(),!u){if(!f.alwaysNormalize)return l;var c=s.parseURL(l);if(!c)throw new Error("Error trying to parse base URL.");return c.path=s.normalizePath(c.path),s.buildURLFromParts(c)}var p=s.parseURL(u);if(!p)throw new Error("Error trying to parse relative URL.");if(p.scheme)return f.alwaysNormalize?(p.path=s.normalizePath(p.path),s.buildURLFromParts(p)):u;var m=s.parseURL(l);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var g=i.exec(m.path);m.netLoc=g[1],m.path=g[2]}m.netLoc&&!m.path&&(m.path="/");var _={scheme:m.scheme,netLoc:p.netLoc,path:null,params:p.params,query:p.query,fragment:p.fragment};if(!p.netLoc&&(_.netLoc=m.netLoc,p.path[0]!=="/"))if(!p.path)_.path=m.path,p.params||(_.params=m.params,p.query||(_.query=m.query));else{var v=m.path,h=v.substring(0,v.lastIndexOf("/")+1)+p.path;_.path=s.normalizePath(h)}return _.path===null&&(_.path=f.alwaysNormalize?s.normalizePath(p.path):p.path),s.buildURLFromParts(_)},parseURL:function(l){var u=n.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(o,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};typeof e=="object"&&typeof t=="object"?t.exports=s:typeof define=="function"&&define.amd?define([],function(){return s}):typeof e=="object"?e.URLToolkit=s:r.URLToolkit=s}(e)}}),SR=Pe({"../core/dist/serdes.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(_,v,h,E){E===void 0&&(E=h);var y=Object.getOwnPropertyDescriptor(v,h);(!y||("get"in y?!v.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return v[h]}}),Object.defineProperty(_,E,y)}:function(_,v,h,E){E===void 0&&(E=h),_[E]=v[h]}),r=e&&e.__setModuleDefault||(Object.create?function(_,v){Object.defineProperty(_,"default",{enumerable:!0,value:v})}:function(_,v){_.default=v}),n=e&&e.__importStar||function(){var _=function(v){return _=Object.getOwnPropertyNames||function(h){var E=[];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(E[E.length]=y);return E},_(v)};return function(v){if(v&&v.__esModule)return v;var h={};if(v!=null)for(var E=_(v),y=0;y<E.length;y++)E[y]!=="default"&&t(h,v,E[y]);return r(h,v),h}}();Object.defineProperty(e,"__esModule",{value:!0}),e.setContextLanguage=p,e.parseTD=m,e.serializeTD=g;var i=n(vg()),o=No(),a=qQ(),s=VQ(),{debug:l,warn:u}=(0,o.createLoggers)("core","serdes");function f(_,v){const h=_[v];(typeof h!="object"||h==null)&&(_[v]={})}function c(_,v){const h=_[v];(h===void 0||typeof h!="boolean")&&(_[v]=!1)}function p(_,v,h){if(Array.isArray(_["@context"])){const E=_["@context"];let y=!1;for(const S of E)typeof S=="object"&&S["@language"]!==void 0&&(h&&(S["@language"]=v),y=!0);y||E.push({"@language":v})}}function m(_,v){l(`parseTD() parsing
\`\`\`
${_}
\`\`\``);const h=JSON.parse(_.replace(/^\uFEFF/,""));if(h["@context"]===void 0)h["@context"]=[i.DEFAULT_CONTEXT_V1,i.DEFAULT_CONTEXT_V11];else if(Array.isArray(h["@context"])){let y=h["@context"];const S=y.indexOf(i.DEFAULT_CONTEXT_V1),$=y.indexOf(i.DEFAULT_CONTEXT_V11);S===-1&&$===-1?(y.unshift(i.DEFAULT_CONTEXT_V11),y.unshift(i.DEFAULT_CONTEXT_V1)):(S!==-1&&$!==-1?(y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V1}),y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V11}),y.unshift(i.DEFAULT_CONTEXT_V11),y.unshift(i.DEFAULT_CONTEXT_V1)):(S!==-1&&S!==0&&(y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V1}),y.unshift(i.DEFAULT_CONTEXT_V1)),$!==-1&&$!==0&&(y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V11}),y.unshift(i.DEFAULT_CONTEXT_V11))),h["@context"]=y)}else if(h["@context"]!==i.DEFAULT_CONTEXT_V1&&h["@context"]!==i.DEFAULT_CONTEXT_V11){const y=h["@context"];h["@context"]=[i.DEFAULT_CONTEXT_V1,i.DEFAULT_CONTEXT_V11,y]}if(p(h,i.DEFAULT_CONTEXT_LANGUAGE,!1),h["@type"]===void 0)h["@type"]=i.DEFAULT_THING_TYPE;else if(Array.isArray(h["@type"])){const y=h["@type"];y.indexOf(i.DEFAULT_THING_TYPE)===-1&&y.unshift(i.DEFAULT_THING_TYPE)}else if(h["@type"]!==i.DEFAULT_THING_TYPE){const y=h["@type"];h["@type"]=[i.DEFAULT_THING_TYPE,y]}for(const y of Object.values(h.properties??{}))for(const S of["readOnly","writeOnly","observable"])c(y,S);for(const y of Object.values(h.actions??{}))for(const S of["safe","idempotent"])c(y,S);for(const y of["properties","actions","events"])f(h,y);h.security===void 0&&u("parseTD() found no security metadata"),typeof h.security=="string"&&(h.security=[h.security]);const E=[];for(const[y,S]of Object.entries(h.properties??{})){if(S.forms==null)throw new Error(`Property '${y}' has no forms field`);for(const $ of S.forms){if(!$.href)throw new Error(`Form of Property '${y}' has no href field`);if(!a($.href)&&h.base==null)throw new Error(`Form of Property '${y}' has relative URI while TD has no base field`);E.push($)}}for(const[y,S]of Object.entries(h.actions??{})){if(S.forms==null)throw new Error(`Action '${y}' has no forms field`);for(const $ of S.forms){if(!$.href)throw new Error(`Form of Action '${y}' has no href field`);if(!a($.href)&&h.base==null)throw new Error(`Form of Action '${y}' has relative URI while TD has no base field`);E.push($)}}for(const[y,S]of Object.entries(h.events??{})){if(S.forms==null)throw new Error(`Event '${y}' has no forms field`);for(const $ of S.forms){if(!$.href)throw new Error(`Form of Event '${y}' has no href field`);if(!a($.href)&&h.base==null)throw new Error(`Form of Event '${y}' has relative URI while TD has no base field`);E.push($)}}if(Object.prototype.hasOwnProperty.call(h,"base")&&(v===void 0||v===!0)){l("parseTD() normalizing 'base' into 'forms'");for(const y of E)y.href.match(/^([a-z0-9+-.]+:).+/i)||(l(`parseTDString() applying base '${h.base}' to '${y.href}'`),y.href=s.buildAbsoluteURL(h.base,y.href))}return h}function g(_){var E;const v=JSON.parse(JSON.stringify(_));if((v.security==null||v.security.length===0)&&(v.securityDefinitions={nosec_sc:{scheme:"nosec"}},v.security=["nosec_sc"]),((E=v.forms)==null?void 0:E.length)===0&&delete v.forms,v.properties!=null&&Object.keys(v.properties).length===0)delete v.properties;else if(v.properties!=null)for(const y of Object.values(v.properties))for(const S of["readOnly","writeOnly","observable"])c(y,S);if(v.actions!=null&&Object.keys(v.actions).length===0)delete v.actions;else if(v.actions!=null)for(const y of Object.values(v.actions))for(const S of["safe","idempotent"])c(y,S);return v.events!=null&&Object.keys(v.events).length===0&&delete v.events,(v==null?void 0:v.links.length)===0&&delete v.links,JSON.stringify(v)}}});function OB(){return Uc.now()/1e3}var Uc,gf,HQ=nn({"../../node_modules/@jspm/core/nodelibs/browser/process.js"(){Te(),Uc={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Uc.now===void 0&&(gf=Date.now(),Uc.timing&&Uc.timing.navigationStart&&(gf=Uc.timing.navigationStart),Uc.now=()=>Date.now()-gf)}}),RB={};tl(RB,{EOL:()=>kB,arch:()=>CB,constants:()=>NB,cpus:()=>jB,default:()=>er,endianness:()=>DB,freemem:()=>MB,getNetworkInterfaces:()=>LB,homedir:()=>FB,hostname:()=>BB,loadavg:()=>UB,networkInterfaces:()=>zB,platform:()=>qB,release:()=>VB,tmpDir:()=>HB,tmpdir:()=>WB,totalmem:()=>GB,type:()=>KB,uptime:()=>OB,version:()=>IB});function WQ(){return TT||(TT=!0,Jn.endianness=function(){return"LE"},Jn.hostname=function(){return typeof location<"u"?location.hostname:""},Jn.loadavg=function(){return[]},Jn.uptime=function(){return 0},Jn.freemem=function(){return Number.MAX_VALUE},Jn.totalmem=function(){return Number.MAX_VALUE},Jn.cpus=function(){return[]},Jn.type=function(){return"Browser"},Jn.release=function(){return typeof navigator<"u"?navigator.appVersion:""},Jn.networkInterfaces=Jn.getNetworkInterfaces=function(){return{}},Jn.arch=function(){return"javascript"},Jn.platform=function(){return"browser"},Jn.tmpdir=Jn.tmpDir=function(){return"/tmp"},Jn.EOL=`
`,Jn.homedir=function(){return"/"}),Jn}var Jn,TT,er,f2,IB,NB,kB,CB,jB,DB,MB,LB,FB,BB,UB,zB,qB,VB,HB,WB,GB,KB,GQ=nn({"../../node_modules/@jspm/core/nodelibs/browser/os.js"(){Te(),HQ(),Jn={},TT=!1,er=WQ(),er.endianness,er.hostname,er.loadavg,er.uptime,er.freemem,er.totalmem,er.cpus,er.type,er.release,er.networkInterfaces,er.getNetworkInterfaces,er.arch,er.platform,er.tmpdir,er.tmpDir,er.EOL,er.homedir,f2=new Uint8Array(new Uint16Array([1]).buffer)[0]===1?"LE":"BE",er.endianness=function(){return f2},er.homedir=function(){return"/home"},er.version=function(){return""},er.arch=function(){return"x64"},er.totalmem=function(){return navigator.deviceMemory!==void 0?navigator.deviceMemory*(1<<30):2*(1<<30)},er.cpus=function(){return Array(navigator.hardwareConcurrency||0).fill({model:"",times:{}})},er.uptime=OB,er.constants={},IB=er.version,NB=er.constants,kB=er.EOL,CB=er.arch,jB=er.cpus,DB=er.endianness,MB=er.freemem,LB=er.getNetworkInterfaces,FB=er.homedir,BB=er.hostname,UB=er.loadavg,zB=er.networkInterfaces,qB=er.platform,VB=er.release,HB=er.tmpDir,WB=er.tmpdir,GB=er.totalmem,KB=er.type}}),Eb=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(h){if(super(),!e.IDENTIFIER.test(h))throw new Error("CodeGen: name must be a valid identifier");this.str=h}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(h){super(),this._items=typeof h=="string"?[h]:h}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const h=this._items[0];return h===""||h==='""'}get str(){var h;return(h=this._str)!==null&&h!==void 0?h:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var h;return(h=this._names)!==null&&h!==void 0?h:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(h,...E){const y=[h[0]];let S=0;for(;S<E.length;)s(y,E[S]),y.push(h[++S]);return new n(y)}e._=i;var o=new n("+");function a(h,...E){const y=[m(h[0])];let S=0;for(;S<E.length;)y.push(o),s(y,E[S]),y.push(o,m(h[++S]));return l(y),new n(y)}e.str=a;function s(h,E){E instanceof n?h.push(...E._items):E instanceof r?h.push(E):h.push(c(E))}e.addCodeArg=s;function l(h){let E=1;for(;E<h.length-1;){if(h[E]===o){const y=u(h[E-1],h[E+1]);if(y!==void 0){h.splice(E-1,3,y);continue}h[E++]="+"}E++}}function u(h,E){if(E==='""')return h;if(h==='""')return E;if(typeof h=="string")return E instanceof r||h[h.length-1]!=='"'?void 0:typeof E!="string"?`${h.slice(0,-1)}${E}"`:E[0]==='"'?h.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(h instanceof r))return`"${h}${E.slice(1)}`}function f(h,E){return E.emptyStr()?h:h.emptyStr()?E:a`${h}${E}`}e.strConcat=f;function c(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:m(Array.isArray(h)?h.join(","):h)}function p(h){return new n(m(h))}e.stringify=p;function m(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):i`[${h}]`}e.getProperty=g;function _(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(h){return new n(h.toString())}e.regexpCode=v}}),d2=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/scope.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=Eb(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var a=(0,t._)`\n`,s=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?a:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:p}=c,m=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[p];if(g){const h=g.get(m);if(h)return h}else g=this._values[p]=new Map;g.set(m,c);const _=this._scope[p]||(this._scope[p]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:p,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let p=t.nil;for(const m in l){const g=l[m];if(!g)continue;const _=f[m]=f[m]||new Map;g.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let h=u(v);if(h){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${E} ${v} = ${h};${this.opts._n}`}else if(h=c==null?void 0:c(v))p=(0,t._)`${p}${h}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return p}};e.ValueScope=s}}),hr=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=Eb(),r=d2(),n=Eb();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=d2();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(O,N){return this}},a=class extends o{constructor(O,N,q){super(),this.varKind=O,this.name=N,this.rhs=q}render({es5:O,_n:N}){const q=O?r.varKinds.var:this.varKind,ne=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${ne};`+N}optimizeNames(O,N){if(O[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,O,N)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},s=class extends o{constructor(O,N,q){super(),this.lhs=O,this.rhs=N,this.sideEffects=q}render({_n:O}){return`${this.lhs} = ${this.rhs};`+O}optimizeNames(O,N){if(!(this.lhs instanceof t.Name&&!O[this.lhs.str]&&!this.sideEffects))return this.rhs=X(this.rhs,O,N),this}get names(){const O=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(O,this.rhs)}},l=class extends s{constructor(O,N,q,ne){super(O,q,ne),this.op=N}render({_n:O}){return`${this.lhs} ${this.op}= ${this.rhs};`+O}},u=class extends o{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`${this.label}:`+O}},f=class extends o{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`break${this.label?` ${this.label}`:""};`+O}},c=class extends o{constructor(O){super(),this.error=O}render({_n:O}){return`throw ${this.error};`+O}get names(){return this.error.names}},p=class extends o{constructor(O){super(),this.code=O}render({_n:O}){return`${this.code};`+O}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(O,N){return this.code=X(this.code,O,N),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},m=class extends o{constructor(O=[]){super(),this.nodes=O}render(O){return this.nodes.reduce((N,q)=>N+q.render(O),"")}optimizeNodes(){const{nodes:O}=this;let N=O.length;for(;N--;){const q=O[N].optimizeNodes();Array.isArray(q)?O.splice(N,1,...q):q?O[N]=q:O.splice(N,1)}return O.length>0?this:void 0}optimizeNames(O,N){const{nodes:q}=this;let ne=q.length;for(;ne--;){const J=q[ne];J.optimizeNames(O,N)||(H(O,J.names),q.splice(ne,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((O,N)=>F(O,N.names),{})}},g=class extends m{render(O){return"{"+O._n+super.render(O)+"}"+O._n}},_=class extends m{},v=class extends g{};v.kind="else";var h=class Ty extends g{constructor(N,q){super(q),this.condition=N}render(N){let q=`if(${this.condition})`+super.render(N);return this.else&&(q+="else "+this.else.render(N)),q}optimizeNodes(){super.optimizeNodes();const N=this.condition;if(N===!0)return this.nodes;let q=this.else;if(q){const ne=q.optimizeNodes();q=this.else=Array.isArray(ne)?new v(ne):ne}if(q)return N===!1?q instanceof Ty?q:q.nodes:this.nodes.length?this:new Ty(Z(N),q instanceof Ty?[q]:q.nodes);if(!(N===!1||!this.nodes.length))return this}optimizeNames(N,q){var ne;if(this.else=(ne=this.else)===null||ne===void 0?void 0:ne.optimizeNames(N,q),!!(super.optimizeNames(N,q)||this.else))return this.condition=X(this.condition,N,q),this}get names(){const N=super.names;return V(N,this.condition),this.else&&F(N,this.else.names),N}};h.kind="if";var E=class extends g{};E.kind="for";var y=class extends E{constructor(O){super(),this.iteration=O}render(O){return`for(${this.iteration})`+super.render(O)}optimizeNames(O,N){if(super.optimizeNames(O,N))return this.iteration=X(this.iteration,O,N),this}get names(){return F(super.names,this.iteration.names)}},S=class extends E{constructor(O,N,q,ne){super(),this.varKind=O,this.name=N,this.from=q,this.to=ne}render(O){const N=O.es5?r.varKinds.var:this.varKind,{name:q,from:ne,to:J}=this;return`for(${N} ${q}=${ne}; ${q}<${J}; ${q}++)`+super.render(O)}get names(){const O=V(super.names,this.from);return V(O,this.to)}},$=class extends E{constructor(O,N,q,ne){super(),this.loop=O,this.varKind=N,this.name=q,this.iterable=ne}render(O){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(O)}optimizeNames(O,N){if(super.optimizeNames(O,N))return this.iterable=X(this.iterable,O,N),this}get names(){return F(super.names,this.iterable.names)}},T=class extends g{constructor(O,N,q){super(),this.name=O,this.args=N,this.async=q}render(O){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(O)}};T.kind="func";var d=class extends m{render(O){return"return "+super.render(O)}};d.kind="return";var A=class extends g{render(O){let N="try"+super.render(O);return this.catch&&(N+=this.catch.render(O)),this.finally&&(N+=this.finally.render(O)),N}optimizeNodes(){var O,N;return super.optimizeNodes(),(O=this.catch)===null||O===void 0||O.optimizeNodes(),(N=this.finally)===null||N===void 0||N.optimizeNodes(),this}optimizeNames(O,N){var q,ne;return super.optimizeNames(O,N),(q=this.catch)===null||q===void 0||q.optimizeNames(O,N),(ne=this.finally)===null||ne===void 0||ne.optimizeNames(O,N),this}get names(){const O=super.names;return this.catch&&F(O,this.catch.names),this.finally&&F(O,this.finally.names),O}},x=class extends g{constructor(O){super(),this.error=O}render(O){return`catch(${this.error})`+super.render(O)}};x.kind="catch";var P=class extends g{render(O){return"finally"+super.render(O)}};P.kind="finally";var j=class{constructor(O,N={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...N,_n:N.lines?`
`:""},this._extScope=O,this._scope=new r.Scope({parent:O}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(O){return this._scope.name(O)}scopeName(O){return this._extScope.name(O)}scopeValue(O,N){const q=this._extScope.value(O,N);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(O,N){return this._extScope.getValue(O,N)}scopeRefs(O){return this._extScope.scopeRefs(O,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(O,N,q,ne){const J=this._scope.toName(N);return q!==void 0&&ne&&(this._constants[J.str]=q),this._leafNode(new a(O,J,q)),J}const(O,N,q){return this._def(r.varKinds.const,O,N,q)}let(O,N,q){return this._def(r.varKinds.let,O,N,q)}var(O,N,q){return this._def(r.varKinds.var,O,N,q)}assign(O,N,q){return this._leafNode(new s(O,N,q))}add(O,N){return this._leafNode(new l(O,e.operators.ADD,N))}code(O){return typeof O=="function"?O():O!==t.nil&&this._leafNode(new p(O)),this}object(...O){const N=["{"];for(const[q,ne]of O)N.length>1&&N.push(","),N.push(q),(q!==ne||this.opts.es5)&&(N.push(":"),(0,t.addCodeArg)(N,ne));return N.push("}"),new t._Code(N)}if(O,N,q){if(this._blockNode(new h(O)),N&&q)this.code(N).else().code(q).endIf();else if(N)this.code(N).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(O){return this._elseNode(new h(O))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(h,v)}_for(O,N){return this._blockNode(O),N&&this.code(N).endFor(),this}for(O,N){return this._for(new y(O),N)}forRange(O,N,q,ne,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(O);return this._for(new S(J,Y,N,q),()=>ne(Y))}forOf(O,N,q,ne=r.varKinds.const){const J=this._scope.toName(O);if(this.opts.es5){const Y=N instanceof t.Name?N:this.var("_arr",N);return this.forRange("_i",0,(0,t._)`${Y}.length`,oe=>{this.var(J,(0,t._)`${Y}[${oe}]`),q(J)})}return this._for(new $("of",ne,J,N),()=>q(J))}forIn(O,N,q,ne=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(O,(0,t._)`Object.keys(${N})`,q);const J=this._scope.toName(O);return this._for(new $("in",ne,J,N),()=>q(J))}endFor(){return this._endBlockNode(E)}label(O){return this._leafNode(new u(O))}break(O){return this._leafNode(new f(O))}return(O){const N=new d;if(this._blockNode(N),this.code(O),N.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(O,N,q){if(!N&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const ne=new A;if(this._blockNode(ne),this.code(O),N){const J=this.name("e");this._currNode=ne.catch=new x(J),N(J)}return q&&(this._currNode=ne.finally=new P,this.code(q)),this._endBlockNode(x,P)}throw(O){return this._leafNode(new c(O))}block(O,N){return this._blockStarts.push(this._nodes.length),O&&this.code(O).endBlock(N),this}endBlock(O){const N=this._blockStarts.pop();if(N===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-N;if(q<0||O!==void 0&&q!==O)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${O} expected`);return this._nodes.length=N,this}func(O,N=t.nil,q,ne){return this._blockNode(new T(O,N,q)),ne&&this.code(ne).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(O=1){for(;O-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(O){return this._currNode.nodes.push(O),this}_blockNode(O){this._currNode.nodes.push(O),this._nodes.push(O)}_endBlockNode(O,N){const q=this._currNode;if(q instanceof O||N&&q instanceof N)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${N?`${O.kind}/${N.kind}`:O.kind}"`)}_elseNode(O){const N=this._currNode;if(!(N instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=N.else=O,this}get _root(){return this._nodes[0]}get _currNode(){const O=this._nodes;return O[O.length-1]}set _currNode(O){const N=this._nodes;N[N.length-1]=O}};e.CodeGen=j;function F(O,N){for(const q in N)O[q]=(O[q]||0)+(N[q]||0);return O}function V(O,N){return N instanceof t._CodeOrName?F(O,N.names):O}function X(O,N,q){if(O instanceof t.Name)return ne(O);if(!J(O))return O;return new t._Code(O._items.reduce((Y,oe)=>(oe instanceof t.Name&&(oe=ne(oe)),oe instanceof t._Code?Y.push(...oe._items):Y.push(oe),Y),[]));function ne(Y){const oe=q[Y.str];return oe===void 0||N[Y.str]!==1?Y:(delete N[Y.str],oe)}function J(Y){return Y instanceof t._Code&&Y._items.some(oe=>oe instanceof t.Name&&N[oe.str]===1&&q[oe.str]!==void 0)}}function H(O,N){for(const q in N)O[q]=(O[q]||0)-(N[q]||0)}function Z(O){return typeof O=="boolean"||typeof O=="number"||O===null?!O:(0,t._)`!${K(O)}`}e.not=Z;var fe=B(e.operators.AND);function ee(...O){return O.reduce(fe)}e.and=ee;var ae=B(e.operators.OR);function M(...O){return O.reduce(ae)}e.or=M;function B(O){return(N,q)=>N===t.nil?q:q===t.nil?N:(0,t._)`${K(N)} ${O} ${K(q)}`}function K(O){return O instanceof t.Name?O:(0,t._)`(${O})`}}}),Br=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/util.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=hr(),r=Eb();function n(T){const d={};for(const A of T)d[A]=!0;return d}e.toHash=n;function i(T,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(T,d),!a(d,T.self.RULES.all))}e.alwaysValidSchema=i;function o(T,d=T.schema){const{opts:A,self:x}=T;if(!A.strictSchema||typeof d=="boolean")return;const P=x.RULES.keywords;for(const j in d)P[j]||$(T,`unknown keyword: "${j}"`)}e.checkUnknownRules=o;function a(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(d[A])return!0;return!1}e.schemaHasRules=a;function s(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(A!=="$ref"&&d.all[A])return!0;return!1}e.schemaHasRulesButRef=s;function l({topSchemaRef:T,schemaPath:d},A,x,P){if(!P){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${T}${d}${(0,t.getProperty)(x)}`}e.schemaRefOrVal=l;function u(T){return p(decodeURIComponent(T))}e.unescapeFragment=u;function f(T){return encodeURIComponent(c(T))}e.escapeFragment=f;function c(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function p(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=p;function m(T,d){if(Array.isArray(T))for(const A of T)d(A);else d(T)}e.eachItem=m;function g({mergeNames:T,mergeToName:d,mergeValues:A,resultToName:x}){return(P,j,F,V)=>{const X=F===void 0?j:F instanceof t.Name?(j instanceof t.Name?T(P,j,F):d(P,j,F),F):j instanceof t.Name?(d(P,F,j),j):A(j,F);return V===t.Name&&!(X instanceof t.Name)?x(P,X):X}}e.mergeEvaluated={props:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>{T.if((0,t._)`${d} === true`,()=>T.assign(A,!0),()=>T.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${d})`))}),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>{d===!0?T.assign(A,!0):(T.assign(A,(0,t._)`${A} || {}`),v(T,A,d))}),mergeValues:(T,d)=>T===!0?!0:{...T,...d},resultToName:_}),items:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>T.assign(A,(0,t._)`${d} === true ? true : ${A} > ${d} ? ${A} : ${d}`)),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>T.assign(A,d===!0?!0:(0,t._)`${A} > ${d} ? ${A} : ${d}`)),mergeValues:(T,d)=>T===!0?!0:Math.max(T,d),resultToName:(T,d)=>T.var("items",d)})};function _(T,d){if(d===!0)return T.var("props",!0);const A=T.var("props",(0,t._)`{}`);return d!==void 0&&v(T,A,d),A}e.evaluatedPropsToName=_;function v(T,d,A){Object.keys(A).forEach(x=>T.assign((0,t._)`${d}${(0,t.getProperty)(x)}`,!0))}e.setEvaluated=v;var h={};function E(T,d){return T.scopeValue("func",{ref:d,code:h[d.code]||(h[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(y||(e.Type=y={}));function S(T,d,A){if(T instanceof t.Name){const x=d===y.Num;return A?x?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:x?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(T).toString():"/"+c(T)}e.getErrorPath=S;function $(T,d,A=T.opts.strictSchema){if(A){if(d=`strict mode: ${d}`,A===!0)throw new Error(d);T.self.logger.warn(d)}}e.checkStrictMode=$}}),oc=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/names.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),U_=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/errors.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=hr(),r=Br(),n=oc();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:h})=>h?(0,t.str)`"${v}" keyword must be ${h} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,h=e.keywordError,E,y){const{it:S}=v,{gen:$,compositeRule:T,allErrors:d}=S,A=c(v,h,E);y??(T||d)?l($,A):u(S,(0,t._)`[${A}]`)}e.reportError=i;function o(v,h=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:$,allErrors:T}=y,d=c(v,h,E);l(S,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function a(v,h){v.assign(n.default.errors,h),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(h,()=>v.assign((0,t._)`${n.default.vErrors}.length`,h),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:v,keyword:h,schemaValue:E,data:y,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${h}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,E),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=s;function l(v,h){const E=v.const("err",h);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,h){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${h})`):(E.assign((0,t._)`${y}.errors`,h),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,h,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:p(v,h,E)}function p(v,h,E={}){const{gen:y,it:S}=v,$=[m(S,E),g(v,E)];return _(v,h,$),y.object(...$)}function m({errorPath:v},{instancePath:h}){const E=h?(0,t.str)`${v}${(0,r.getErrorPath)(h,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:h}},{schemaPath:E,parentSchema:y}){let S=y?h:(0,t.str)`${h}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:h,message:E},y){const{keyword:S,data:$,schemaValue:T,it:d}=v,{opts:A,propertyName:x,topSchemaRef:P,schemaPath:j}=d;y.push([f.keyword,S],[f.params,typeof h=="function"?h(v):h||(0,t._)`{}`]),A.messages&&y.push([f.message,typeof E=="function"?E(v):E]),A.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${P}${j}`],[n.default.data,$]),x&&y.push([f.propertyName,x])}}}),KQ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=U_(),r=hr(),n=oc(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?s(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function a(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),s(l)):f.var(u,!0)}e.boolOrEmptySchema=a;function s(l,u){const{gen:f,data:c}=l,p={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(p,i,void 0,u)}}}),JB=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/rules.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),YB=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/applicability.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},a){const s=o.RULES.types[a];return s&&s!==!0&&r(i,s)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(a=>n(i,a))}e.shouldUseGroup=r;function n(i,o){var a;return i[o.keyword]!==void 0||((a=o.definition.implements)===null||a===void 0?void 0:a.some(s=>i[s]!==void 0))}e.shouldUseRule=n}}),Sb=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/dataType.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=JB(),r=YB(),n=U_(),i=hr(),o=Br(),a;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(a||(e.DataType=a={}));function s(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=s;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:$,data:T,opts:d}=y,A=c(S,d.coerceTypes),x=S.length>0&&!(A.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(x){const P=_(S,T,d.strictNumbers,a.Wrong);$.if(P,()=>{A.length?p(y,S,A):h(y)})}return x}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter($=>f.has($)||S==="array"&&$==="array"):[]}function p(y,S,$){const{gen:T,data:d,opts:A}=y,x=T.let("dataType",(0,i._)`typeof ${d}`),P=T.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&T.if((0,i._)`${x} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>T.assign(d,(0,i._)`${d}[0]`).assign(x,(0,i._)`typeof ${d}`).if(_(S,d,A.strictNumbers),()=>T.assign(P,d))),T.if((0,i._)`${P} !== undefined`);for(const F of $)(f.has(F)||F==="array"&&A.coerceTypes==="array")&&j(F);T.else(),h(y),T.endIf(),T.if((0,i._)`${P} !== undefined`,()=>{T.assign(d,P),m(y,P)});function j(F){switch(F){case"string":T.elseIf((0,i._)`${x} == "number" || ${x} == "boolean"`).assign(P,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(P,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${x} == "boolean" || ${d} === null
              || (${x} == "string" && ${d} && ${d} == +${d})`).assign(P,(0,i._)`+${d}`);return;case"integer":T.elseIf((0,i._)`${x} === "boolean" || ${d} === null
              || (${x} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(P,(0,i._)`+${d}`);return;case"boolean":T.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(P,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(P,!0);return;case"null":T.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),T.assign(P,null);return;case"array":T.elseIf((0,i._)`${x} === "string" || ${x} === "number"
              || ${x} === "boolean" || ${d} === null`).assign(P,(0,i._)`[${d}]`)}}}function m({gen:y,parentData:S,parentDataProperty:$},T){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${$}]`,T))}function g(y,S,$,T=a.Correct){const d=T===a.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":A=(0,i._)`Array.isArray(${S})`;break;case"object":A=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":A=x((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":A=x();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return T===a.Correct?A:(0,i.not)(A);function x(P=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,P,$?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=g;function _(y,S,$,T){if(y.length===1)return g(y[0],S,$,T);let d;const A=(0,o.toHash)(y);if(A.array&&A.object){const x=(0,i._)`typeof ${S} != "object"`;d=A.null?x:(0,i._)`!${S} || ${x}`,delete A.null,delete A.array,delete A.object}else d=i.nil;A.number&&delete A.integer;for(const x in A)d=(0,i.and)(d,g(x,S,$,T));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function h(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=h;function E(y){const{gen:S,data:$,schema:T}=y,d=(0,o.schemaRefOrVal)(y,T,"type");return{gen:S,keyword:"type",data:$,schema:T.type,schemaCode:d,schemaValue:d,parentSchema:T,params:{},it:y}}}}),JQ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/defaults.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=hr(),r=Br();function n(o,a){const{properties:s,items:l}=o.schema;if(a==="object"&&s)for(const u in s)i(o,u,s[u].default);else a==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,a,s){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(s===void 0)return;const p=(0,t._)`${f}${(0,t.getProperty)(a)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${p}`);return}let m=(0,t._)`${p} === undefined`;c.useDefaults==="empty"&&(m=(0,t._)`${m} || ${p} === null || ${p} === ""`),l.if(m,(0,t._)`${p} = ${(0,t.stringify)(s)}`)}}}),ps=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=hr(),r=Br(),n=oc(),i=Br();function o(y,S){const{gen:$,data:T,it:d}=y;$.if(c($,T,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function a({gen:y,data:S,it:{opts:$}},T,d){return(0,t.or)(...T.map(A=>(0,t.and)(c(y,S,A,$.ownProperties),(0,t._)`${d} = ${A}`)))}e.checkMissingProp=a;function s(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=s;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,$){return(0,t._)`${l(y)}.call(${S}, ${$})`}e.isOwnProperty=u;function f(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} !== undefined`;return T?(0,t._)`${d} && ${u(y,S,$)}`:d}e.propertyInData=f;function c(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} === undefined`;return T?(0,t.or)(d,(0,t.not)(u(y,S,$))):d}e.noPropertyInData=c;function p(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=p;function m(y,S){return p(S).filter($=>!(0,r.alwaysValidSchema)(y,S[$]))}e.schemaProperties=m;function g({schemaCode:y,data:S,it:{gen:$,topSchemaRef:T,schemaPath:d,errorPath:A},it:x},P,j,F){const V=F?(0,t._)`${y}, ${S}, ${T}${d}`:S,X=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,A)],[n.default.parentData,x.parentData],[n.default.parentDataProperty,x.parentDataProperty],[n.default.rootData,n.default.rootData]];x.opts.dynamicRef&&X.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const H=(0,t._)`${V}, ${$.object(...X)}`;return j!==t.nil?(0,t._)`${P}.call(${j}, ${H})`:(0,t._)`${P}(${H})`}e.callValidateCode=g;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},$){const T=S.unicodeRegExp?"u":"",{regExp:d}=S.code,A=d($,T);return y.scopeValue("pattern",{key:A.toString(),ref:A,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${$}, ${T})`})}e.usePattern=v;function h(y){const{gen:S,data:$,keyword:T,it:d}=y,A=S.name("valid");if(d.allErrors){const P=S.let("valid",!0);return x(()=>S.assign(P,!1)),P}return S.var(A,!0),x(()=>S.break()),A;function x(P){const j=S.const("len",(0,t._)`${$}.length`);S.forRange("i",0,j,F=>{y.subschema({keyword:T,dataProp:F,dataPropType:r.Type.Num},A),S.if((0,t.not)(A),P)})}}e.validateArray=h;function E(y){const{gen:S,schema:$,keyword:T,it:d}=y;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(j=>(0,r.alwaysValidSchema)(d,j))&&!d.opts.unevaluated)return;const x=S.let("valid",!1),P=S.name("_valid");S.block(()=>$.forEach((j,F)=>{const V=y.subschema({keyword:T,schemaProp:F,compositeRule:!0},P);S.assign(x,(0,t._)`${x} || ${P}`),y.mergeValidEvaluated(V,P)||S.if((0,t.not)(x))})),y.result(x,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),YQ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/keyword.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=hr(),r=oc(),n=ps(),i=U_();function o(m,g){const{gen:_,keyword:v,schema:h,parentSchema:E,it:y}=m,S=g.macro.call(y.self,h,E,y),$=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const T=_.name("valid");m.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:$,compositeRule:!0},T),m.pass(T,()=>m.error(!0))}e.macroKeywordCode=o;function a(m,g){var _;const{gen:v,keyword:h,schema:E,parentSchema:y,$data:S,it:$}=m;u($,g);const T=!S&&g.compile?g.compile.call($.self,E,y,$):g.validate,d=f(v,h,T),A=v.let("valid");m.block$data(A,x),m.ok((_=g.valid)!==null&&_!==void 0?_:A);function x(){if(g.errors===!1)F(),g.modifying&&s(m),V(()=>m.error());else{const X=g.async?P():j();g.modifying&&s(m),V(()=>l(m,X))}}function P(){const X=v.let("ruleErrs",null);return v.try(()=>F((0,t._)`await `),H=>v.assign(A,!1).if((0,t._)`${H} instanceof ${$.ValidationError}`,()=>v.assign(X,(0,t._)`${H}.errors`),()=>v.throw(H))),X}function j(){const X=(0,t._)`${d}.errors`;return v.assign(X,null),F(t.nil),X}function F(X=g.async?(0,t._)`await `:t.nil){const H=$.opts.passContext?r.default.this:r.default.self,Z=!("compile"in g&&!S||g.schema===!1);v.assign(A,(0,t._)`${X}${(0,n.callValidateCode)(m,d,H,Z)}`,g.modifying)}function V(X){var H;v.if((0,t.not)((H=g.valid)!==null&&H!==void 0?H:A),X)}}e.funcKeywordCode=a;function s(m){const{gen:g,data:_,it:v}=m;g.if(v.parentData,()=>g.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(m,g){const{gen:_}=m;_.if((0,t._)`Array.isArray(${g})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${g} : ${r.default.vErrors}.concat(${g})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(m)},()=>m.error())}function u({schemaEnv:m},g){if(g.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,g,_){if(_===void 0)throw new Error(`keyword "${g}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(m,g,_=!1){return!g.length||g.some(v=>v==="array"?Array.isArray(m):v==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==v||_&&typeof m>"u")}e.validSchemaType=c;function p({schema:m,opts:g,self:_,errSchemaPath:v},h,E){if(Array.isArray(h.keyword)?!h.keyword.includes(E):h.keyword!==E)throw new Error("ajv implementation error");const y=h.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(m,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(h.validateSchema&&!h.validateSchema(m[E])){const $=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(h.validateSchema.errors);if(g.validateSchema==="log")_.logger.error($);else throw new Error($)}}e.validateKeywordUsage=p}}),XQ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/subschema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=hr(),r=Br();function n(a,{keyword:s,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:p}){if(s!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const m=a.schema[s];return l===void 0?{schema:m,schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${s}`}:{schema:m[l],schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(l)}`,errSchemaPath:`${a.errSchemaPath}/${s}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:p,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(a,s,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:p}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=s;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:h}=s,E=m.let("data",(0,t._)`${s.data}${(0,t.getProperty)(l)}`,!0);g(E),a.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,h.jsPropertySyntax)}`,a.parentDataProperty=(0,t._)`${l}`,a.dataPathArr=[...v,a.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);g(_),p!==void 0&&(a.propertyName=p)}c&&(a.dataTypes=c);function g(_){a.data=_,a.dataLevel=s.dataLevel+1,a.dataTypes=[],s.definedProperties=new Set,a.parentData=s.data,a.dataNames=[...s.dataNames,_]}}e.extendSubschemaData=i;function o(a,{jtdDiscriminator:s,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(a.compositeRule=u),f!==void 0&&(a.createErrors=f),c!==void 0&&(a.allErrors=c),a.jtdDiscriminator=s,a.jtdMetadata=l}e.extendSubschemaMode=o}}),Mh=Pe({"../../node_modules/fast-deep-equal/index.js"(e,t){Te(),t.exports=function r(n,i){if(n===i)return!0;if(n&&i&&typeof n=="object"&&typeof i=="object"){if(n.constructor!==i.constructor)return!1;var o,a,s;if(Array.isArray(n)){if(o=n.length,o!=i.length)return!1;for(a=o;a--!==0;)if(!r(n[a],i[a]))return!1;return!0}if(n.constructor===RegExp)return n.source===i.source&&n.flags===i.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===i.toString();if(s=Object.keys(n),o=s.length,o!==Object.keys(i).length)return!1;for(a=o;a--!==0;)if(!Object.prototype.hasOwnProperty.call(i,s[a]))return!1;for(a=o;a--!==0;){var l=s[a];if(!r(n[l],i[l]))return!1}return!0}return n!==n&&i!==i}}}),QQ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/json-schema-traverse/index.js"(e,t){Te();var r=t.exports=function(o,a,s){typeof a=="function"&&(s=a,a={}),s=a.cb||s;var l=typeof s=="function"?s:s.pre||function(){},u=s.post||function(){};n(a,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,a,s,l,u,f,c,p,m,g){if(l&&typeof l=="object"&&!Array.isArray(l)){a(l,u,f,c,p,m,g);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var h=0;h<v.length;h++)n(o,a,s,v[h],u+"/"+_+"/"+h,f,u,_,l,h)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,a,s,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,a,s,v,u+"/"+_,f,u,_,l)}s(l,u,f,c,p,m,g)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),z_=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/resolve.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=Br(),r=Mh(),n=QQ(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,h=!0){return typeof v=="boolean"?!0:h===!0?!s(v):h?l(v)<=h:!1}e.inlineRef=o;var a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(v){for(const h in v){if(a.has(h))return!0;const E=v[h];if(Array.isArray(E)&&E.some(s)||typeof E=="object"&&s(E))return!0}return!1}function l(v){let h=0;for(const E in v){if(E==="$ref")return 1/0;if(h++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>h+=l(y)),h===1/0))return 1/0}return h}function u(v,h="",E){E!==!1&&(h=p(h));const y=v.parse(h);return f(v,y)}e.getFullPath=u;function f(v,h){return v.serialize(h).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function p(v){return v?v.replace(c,""):""}e.normalizeId=p;function m(v,h,E){return E=p(E),v.resolve(h,E)}e.resolveUrl=m;var g=/^[a-z_][-a-z0-9._]*$/i;function _(v,h){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=p(v[E]||h),$={"":S},T=u(y,S,!1),d={},A=new Set;return n(v,{allKeys:!0},(j,F,V,X)=>{if(X===void 0)return;const H=T+F;let Z=$[X];typeof j[E]=="string"&&(Z=fe.call(this,j[E])),ee.call(this,j.$anchor),ee.call(this,j.$dynamicAnchor),$[F]=Z;function fe(ae){const M=this.opts.uriResolver.resolve;if(ae=p(Z?M(Z,ae):ae),A.has(ae))throw P(ae);A.add(ae);let B=this.refs[ae];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?x(j,B.schema,ae):ae!==p(H)&&(ae[0]==="#"?(x(j,d[ae],ae),d[ae]=j):this.refs[ae]=H),ae}function ee(ae){if(typeof ae=="string"){if(!g.test(ae))throw new Error(`invalid anchor "${ae}"`);fe.call(this,`#${ae}`)}}}),d;function x(j,F,V){if(F!==void 0&&!r(j,F))throw P(V)}function P(j){return new Error(`reference "${j}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),q_=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=KQ(),r=Sb(),n=YB(),i=Sb(),o=JQ(),a=YQ(),s=XQ(),l=hr(),u=oc(),f=z_(),c=Br(),p=U_();function m(R){if(T(R)&&(A(R),$(R))){h(R);return}g(R,()=>(0,t.topBoolOrEmptySchema)(R))}e.validateFunctionCode=m;function g({gen:R,validateName:C,schema:D,schemaEnv:G,opts:ie},ue){ie.code.es5?R.func(C,(0,l._)`${u.default.data}, ${u.default.valCxt}`,G.$async,()=>{R.code((0,l._)`"use strict"; ${y(D,ie)}`),v(R,ie),R.code(ue)}):R.func(C,(0,l._)`${u.default.data}, ${_(ie)}`,G.$async,()=>R.code(y(D,ie)).code(ue))}function _(R){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${R.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(R,C){R.if(u.default.valCxt,()=>{R.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),R.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),R.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),R.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),C.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{R.var(u.default.instancePath,(0,l._)`""`),R.var(u.default.parentData,(0,l._)`undefined`),R.var(u.default.parentDataProperty,(0,l._)`undefined`),R.var(u.default.rootData,u.default.data),C.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function h(R){const{schema:C,opts:D,gen:G}=R;g(R,()=>{D.$comment&&C.$comment&&X(R),j(R),G.let(u.default.vErrors,null),G.let(u.default.errors,0),D.unevaluated&&E(R),x(R),H(R)})}function E(R){const{gen:C,validateName:D}=R;R.evaluated=C.const("evaluated",(0,l._)`${D}.evaluated`),C.if((0,l._)`${R.evaluated}.dynamicProps`,()=>C.assign((0,l._)`${R.evaluated}.props`,(0,l._)`undefined`)),C.if((0,l._)`${R.evaluated}.dynamicItems`,()=>C.assign((0,l._)`${R.evaluated}.items`,(0,l._)`undefined`))}function y(R,C){const D=typeof R=="object"&&R[C.schemaId];return D&&(C.code.source||C.code.process)?(0,l._)`/*# sourceURL=${D} */`:l.nil}function S(R,C){if(T(R)&&(A(R),$(R))){d(R,C);return}(0,t.boolOrEmptySchema)(R,C)}function $({schema:R,self:C}){if(typeof R=="boolean")return!R;for(const D in R)if(C.RULES.all[D])return!0;return!1}function T(R){return typeof R.schema!="boolean"}function d(R,C){const{schema:D,gen:G,opts:ie}=R;ie.$comment&&D.$comment&&X(R),F(R),V(R);const ue=G.const("_errs",u.default.errors);x(R,ue),G.var(C,(0,l._)`${ue} === ${u.default.errors}`)}function A(R){(0,c.checkUnknownRules)(R),P(R)}function x(R,C){if(R.opts.jtd)return fe(R,[],!1,C);const D=(0,r.getSchemaTypes)(R.schema),G=(0,r.coerceAndCheckDataType)(R,D);fe(R,D,!G,C)}function P(R){const{schema:C,errSchemaPath:D,opts:G,self:ie}=R;C.$ref&&G.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(C,ie.RULES)&&ie.logger.warn(`$ref: keywords ignored in schema at path "${D}"`)}function j(R){const{schema:C,opts:D}=R;C.default!==void 0&&D.useDefaults&&D.strictSchema&&(0,c.checkStrictMode)(R,"default is ignored in the schema root")}function F(R){const C=R.schema[R.opts.schemaId];C&&(R.baseId=(0,f.resolveUrl)(R.opts.uriResolver,R.baseId,C))}function V(R){if(R.schema.$async&&!R.schemaEnv.$async)throw new Error("async schema in sync schema")}function X({gen:R,schemaEnv:C,schema:D,errSchemaPath:G,opts:ie}){const ue=D.$comment;if(ie.$comment===!0)R.code((0,l._)`${u.default.self}.logger.log(${ue})`);else if(typeof ie.$comment=="function"){const de=(0,l.str)`${G}/$comment`,ve=R.scopeValue("root",{ref:C.root});R.code((0,l._)`${u.default.self}.opts.$comment(${ue}, ${de}, ${ve}.schema)`)}}function H(R){const{gen:C,schemaEnv:D,validateName:G,ValidationError:ie,opts:ue}=R;D.$async?C.if((0,l._)`${u.default.errors} === 0`,()=>C.return(u.default.data),()=>C.throw((0,l._)`new ${ie}(${u.default.vErrors})`)):(C.assign((0,l._)`${G}.errors`,u.default.vErrors),ue.unevaluated&&Z(R),C.return((0,l._)`${u.default.errors} === 0`))}function Z({gen:R,evaluated:C,props:D,items:G}){D instanceof l.Name&&R.assign((0,l._)`${C}.props`,D),G instanceof l.Name&&R.assign((0,l._)`${C}.items`,G)}function fe(R,C,D,G){const{gen:ie,schema:ue,data:de,allErrors:ve,opts:Ne,self:Be}=R,{RULES:je}=Be;if(ue.$ref&&(Ne.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(ue,je))){ie.block(()=>Y(R,"$ref",je.all.$ref.definition));return}Ne.jtd||ae(R,C),ie.block(()=>{for(const We of je.rules)nt(We);nt(je.post)});function nt(We){(0,n.shouldUseGroup)(ue,We)&&(We.type?(ie.if((0,i.checkDataType)(We.type,de,Ne.strictNumbers)),ee(R,We),C.length===1&&C[0]===We.type&&D&&(ie.else(),(0,i.reportTypeError)(R)),ie.endIf()):ee(R,We),ve||ie.if((0,l._)`${u.default.errors} === ${G||0}`))}}function ee(R,C){const{gen:D,schema:G,opts:{useDefaults:ie}}=R;ie&&(0,o.assignDefaults)(R,C.type),D.block(()=>{for(const ue of C.rules)(0,n.shouldUseRule)(G,ue)&&Y(R,ue.keyword,ue.definition,C.type)})}function ae(R,C){R.schemaEnv.meta||!R.opts.strictTypes||(M(R,C),R.opts.allowUnionTypes||B(R,C),K(R,R.dataTypes))}function M(R,C){if(C.length){if(!R.dataTypes.length){R.dataTypes=C;return}C.forEach(D=>{N(R.dataTypes,D)||ne(R,`type "${D}" not allowed by context "${R.dataTypes.join(",")}"`)}),q(R,C)}}function B(R,C){C.length>1&&!(C.length===2&&C.includes("null"))&&ne(R,"use allowUnionTypes to allow union type keyword")}function K(R,C){const D=R.self.RULES.all;for(const G in D){const ie=D[G];if(typeof ie=="object"&&(0,n.shouldUseRule)(R.schema,ie)){const{type:ue}=ie.definition;ue.length&&!ue.some(de=>O(C,de))&&ne(R,`missing type "${ue.join(",")}" for keyword "${G}"`)}}}function O(R,C){return R.includes(C)||C==="number"&&R.includes("integer")}function N(R,C){return R.includes(C)||C==="integer"&&R.includes("number")}function q(R,C){const D=[];for(const G of R.dataTypes)N(C,G)?D.push(G):C.includes("integer")&&G==="number"&&D.push("integer");R.dataTypes=D}function ne(R,C){const D=R.schemaEnv.baseId+R.errSchemaPath;C+=` at "${D}" (strictTypes)`,(0,c.checkStrictMode)(R,C,R.opts.strictTypes)}var J=class{constructor(R,C,D){if((0,a.validateKeywordUsage)(R,C,D),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=D,this.data=R.data,this.schema=R.schema[D],this.$data=C.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(R,this.schema,D,this.$data),this.schemaType=C.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=C,this.$data)this.schemaCode=R.gen.const("vSchema",Oe(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,C.schemaType,C.allowUndefined))throw new Error(`${D} value must be ${JSON.stringify(C.schemaType)}`);("code"in C?C.trackErrors:C.errors!==!1)&&(this.errsCount=R.gen.const("_errs",u.default.errors))}result(R,C,D){this.failResult((0,l.not)(R),C,D)}failResult(R,C,D){this.gen.if(R),D?D():this.error(),C?(this.gen.else(),C(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,C){this.failResult((0,l.not)(R),void 0,C)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:C}=this;this.fail((0,l._)`${C} !== undefined && (${(0,l.or)(this.invalid$data(),R)})`)}error(R,C,D){if(C){this.setParams(C),this._error(R,D),this.setParams({});return}this._error(R,D)}_error(R,C){(R?p.reportExtraError:p.reportError)(this,this.def.error,C)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,C){C?Object.assign(this.params,R):this.params=R}block$data(R,C,D=l.nil){this.gen.block(()=>{this.check$data(R,D),C()})}check$data(R=l.nil,C=l.nil){if(!this.$data)return;const{gen:D,schemaCode:G,schemaType:ie,def:ue}=this;D.if((0,l.or)((0,l._)`${G} === undefined`,C)),R!==l.nil&&D.assign(R,!0),(ie.length||ue.validateSchema)&&(D.elseIf(this.invalid$data()),this.$dataError(),R!==l.nil&&D.assign(R,!1)),D.else()}invalid$data(){const{gen:R,schemaCode:C,schemaType:D,def:G,it:ie}=this;return(0,l.or)(ue(),de());function ue(){if(D.length){if(!(C instanceof l.Name))throw new Error("ajv implementation error");const ve=Array.isArray(D)?D:[D];return(0,l._)`${(0,i.checkDataTypes)(ve,C,ie.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function de(){if(G.validateSchema){const ve=R.scopeValue("validate$data",{ref:G.validateSchema});return(0,l._)`!${ve}(${C})`}return l.nil}}subschema(R,C){const D=(0,s.getSubschema)(this.it,R);(0,s.extendSubschemaData)(D,this.it,R),(0,s.extendSubschemaMode)(D,R);const G={...this.it,...D,items:void 0,props:void 0};return S(G,C),G}mergeEvaluated(R,C){const{it:D,gen:G}=this;D.opts.unevaluated&&(D.props!==!0&&R.props!==void 0&&(D.props=c.mergeEvaluated.props(G,R.props,D.props,C)),D.items!==!0&&R.items!==void 0&&(D.items=c.mergeEvaluated.items(G,R.items,D.items,C)))}mergeValidEvaluated(R,C){const{it:D,gen:G}=this;if(D.opts.unevaluated&&(D.props!==!0||D.items!==!0))return G.if(C,()=>this.mergeEvaluated(R,l.Name)),!0}};e.KeywordCxt=J;function Y(R,C,D,G){const ie=new J(R,D,C);"code"in D?D.code(ie,G):ie.$data&&D.validate?(0,a.funcKeywordCode)(ie,D):"macro"in D?(0,a.macroKeywordCode)(ie,D):(D.compile||D.validate)&&(0,a.funcKeywordCode)(ie,D)}var oe=/^\/(?:[^~]|~0|~1)*$/,be=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Oe(R,{dataLevel:C,dataNames:D,dataPathArr:G}){let ie,ue;if(R==="")return u.default.rootData;if(R[0]==="/"){if(!oe.test(R))throw new Error(`Invalid JSON-pointer: ${R}`);ie=R,ue=u.default.rootData}else{const Be=be.exec(R);if(!Be)throw new Error(`Invalid JSON-pointer: ${R}`);const je=+Be[1];if(ie=Be[2],ie==="#"){if(je>=C)throw new Error(Ne("property/index",je));return G[C-je]}if(je>C)throw new Error(Ne("data",je));if(ue=D[C-je],!ie)return ue}let de=ue;const ve=ie.split("/");for(const Be of ve)Be&&(ue=(0,l._)`${ue}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Be))}`,de=(0,l._)`${de} && ${ue}`);return de;function Ne(Be,je){return`Cannot access ${Be} ${je} levels up, current level is ${C}`}}e.getData=Oe}}),$R=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/validation_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),V_=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/ref_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=z_(),r=class extends Error{constructor(n,i,o,a){super(a||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),TR=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=hr(),r=$R(),n=oc(),i=z_(),o=Br(),a=q_(),s=class{constructor(h){var E;this.refs={},this.dynamicAnchors={};let y;typeof h.schema=="object"&&(y=h.schema),this.schema=h.schema,this.schemaId=h.schemaId,this.root=h.root||this,this.baseId=(E=h.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[h.schemaId||"$id"]),this.schemaPath=h.schemaPath,this.localRefs=h.localRefs,this.meta=h.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=s;function l(h){const E=c.call(this,h);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,h.root.baseId),{es5:S,lines:$}=this.opts.code,{ownProperties:T}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:$,ownProperties:T});let A;h.$async&&(A=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const x=d.scopeName("validate");h.validateName=x;const P={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:h.schema,code:(0,t.stringify)(h.schema)}:{ref:h.schema}),validateName:x,ValidationError:A,schema:h.schema,schemaEnv:h,rootId:y,baseId:h.baseId||y,schemaPath:t.nil,errSchemaPath:h.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let j;try{this._compilations.add(h),(0,a.validateFunctionCode)(P),d.optimize(this.opts.code.optimize);const F=d.toString();j=`${d.scopeRefs(n.default.scope)}return ${F}`,this.opts.code.process&&(j=this.opts.code.process(j,h));const X=new Function(`${n.default.self}`,`${n.default.scope}`,j)(this,this.scope.get());if(this.scope.value(x,{ref:X}),X.errors=null,X.schema=h.schema,X.schemaEnv=h,h.$async&&(X.$async=!0),this.opts.code.source===!0&&(X.source={validateName:x,validateCode:F,scopeValues:d._values}),this.opts.unevaluated){const{props:H,items:Z}=P;X.evaluated={props:H instanceof t.Name?void 0:H,items:Z instanceof t.Name?void 0:Z,dynamicProps:H instanceof t.Name,dynamicItems:Z instanceof t.Name},X.source&&(X.source.evaluated=(0,t.stringify)(X.evaluated))}return h.validate=X,h}catch(F){throw delete h.validate,delete h.validateName,j&&this.logger.error("Error compiling schema, function code:",j),F}finally{this._compilations.delete(h)}}e.compileSchema=l;function u(h,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const $=h.refs[y];if($)return $;let T=m.call(this,h,y);if(T===void 0){const d=(S=h.localRefs)===null||S===void 0?void 0:S[y],{schemaId:A}=this.opts;d&&(T=new s({schema:d,schemaId:A,root:h,baseId:E}))}if(T!==void 0)return h.refs[y]=f.call(this,T)}e.resolveRef=u;function f(h){return(0,i.inlineRef)(h.schema,this.opts.inlineRefs)?h.schema:h.validate?h:l.call(this,h)}function c(h){for(const E of this._compilations)if(p(E,h))return E}e.getCompilingSchema=c;function p(h,E){return h.schema===E.schema&&h.root===E.root&&h.baseId===E.baseId}function m(h,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||g.call(this,h,E)}function g(h,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let $=(0,i.getFullPath)(this.opts.uriResolver,h.baseId,void 0);if(Object.keys(h.schema).length>0&&S===$)return v.call(this,y,h);const T=(0,i.normalizeId)(S),d=this.refs[T]||this.schemas[T];if(typeof d=="string"){const A=g.call(this,h,d);return typeof(A==null?void 0:A.schema)!="object"?void 0:v.call(this,y,A)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),T===(0,i.normalizeId)(E)){const{schema:A}=d,{schemaId:x}=this.opts,P=A[x];return P&&($=(0,i.resolveUrl)(this.opts.uriResolver,$,P)),new s({schema:A,schemaId:x,root:h,baseId:$})}return v.call(this,y,d)}}e.resolveSchema=g;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(h,{baseId:E,schema:y,root:S}){var $;if((($=h.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const A of h.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const x=y[(0,o.unescapeFragment)(A)];if(x===void 0)return;y=x;const P=typeof y=="object"&&y[this.opts.schemaId];!_.has(A)&&P&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,P))}let T;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const A=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);T=g.call(this,S,A)}const{schemaId:d}=this.opts;if(T=T||new s({schema:y,schemaId:d,root:S,baseId:E}),T.schema!==T.root.schema)return T}}}),ZQ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),eZ=Pe({"../../node_modules/fast-uri/lib/scopedChars.js"(e,t){Te();var r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};t.exports={HEX:r}}}),tZ=Pe({"../../node_modules/fast-uri/lib/utils.js"(e,t){Te();var{HEX:r}=eZ(),n=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function i(h){if(u(h,".")<3)return{host:h,isIPV4:!1};const E=h.match(n)||[],[y]=E;return y?{host:l(y,"."),isIPV4:!0}:{host:h,isIPV4:!1}}function o(h,E=!1){let y="",S=!0;for(const $ of h){if(r[$]===void 0)return;$!=="0"&&S===!0&&(S=!1),S||(y+=$)}return E&&y.length===0&&(y="0"),y}function a(h){let E=0;const y={error:!1,address:"",zone:""},S=[],$=[];let T=!1,d=!1,A=!1;function x(){if($.length){if(T===!1){const P=o($);if(P!==void 0)S.push(P);else return y.error=!0,!1}$.length=0}return!0}for(let P=0;P<h.length;P++){const j=h[P];if(!(j==="["||j==="]"))if(j===":"){if(d===!0&&(A=!0),!x())break;if(E++,S.push(":"),E>7){y.error=!0;break}P-1>=0&&h[P-1]===":"&&(d=!0);continue}else if(j==="%"){if(!x())break;T=!0}else{$.push(j);continue}}return $.length&&(T?y.zone=$.join(""):A?S.push($.join("")):S.push(o($))),y.address=S.join(""),y}function s(h){if(u(h,":")<2)return{host:h,isIPV6:!1};const E=a(h);if(E.error)return{host:h,isIPV6:!1};{let y=E.address,S=E.address;return E.zone&&(y+="%"+E.zone,S+="%25"+E.zone),{host:y,escapedHost:S,isIPV6:!0}}}function l(h,E){let y="",S=!0;const $=h.length;for(let T=0;T<$;T++){const d=h[T];d==="0"&&S?(T+1<=$&&h[T+1]===E||T+1===$)&&(y+=d,S=!1):(d===E?S=!0:S=!1,y+=d)}return y}function u(h,E){let y=0;for(let S=0;S<h.length;S++)h[S]===E&&y++;return y}var f=/^\.\.?\//u,c=/^\/\.(?:\/|$)/u,p=/^\/\.\.(?:\/|$)/u,m=/^\/?(?:.|\n)*?(?=\/|$)/u;function g(h){const E=[];for(;h.length;)if(h.match(f))h=h.replace(f,"");else if(h.match(c))h=h.replace(c,"/");else if(h.match(p))h=h.replace(p,"/"),E.pop();else if(h==="."||h==="..")h="";else{const y=h.match(m);if(y){const S=y[0];h=h.slice(S.length),E.push(S)}else throw new Error("Unexpected dot segment condition")}return E.join("")}function _(h,E){const y=E!==!0?escape:unescape;return h.scheme!==void 0&&(h.scheme=y(h.scheme)),h.userinfo!==void 0&&(h.userinfo=y(h.userinfo)),h.host!==void 0&&(h.host=y(h.host)),h.path!==void 0&&(h.path=y(h.path)),h.query!==void 0&&(h.query=y(h.query)),h.fragment!==void 0&&(h.fragment=y(h.fragment)),h}function v(h){const E=[];if(h.userinfo!==void 0&&(E.push(h.userinfo),E.push("@")),h.host!==void 0){let y=unescape(h.host);const S=i(y);if(S.isIPV4)y=S.host;else{const $=s(S.host);$.isIPV6===!0?y=`[${$.escapedHost}]`:y=h.host}E.push(y)}return(typeof h.port=="number"||typeof h.port=="string")&&(E.push(":"),E.push(String(h.port))),E.length?E.join(""):void 0}t.exports={recomposeAuthority:v,normalizeComponentEncoding:_,removeDotSegments:g,normalizeIPv4:i,normalizeIPv6:s,stringArrayToHexStripped:o}}}),rZ=Pe({"../../node_modules/fast-uri/lib/schemes.js"(e,t){Te();var r=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,n=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function i(S){return typeof S.secure=="boolean"?S.secure:String(S.scheme).toLowerCase()==="wss"}function o(S){return S.host||(S.error=S.error||"HTTP URIs must have a host."),S}function a(S){const $=String(S.scheme).toLowerCase()==="https";return(S.port===($?443:80)||S.port==="")&&(S.port=void 0),S.path||(S.path="/"),S}function s(S){return S.secure=i(S),S.resourceName=(S.path||"/")+(S.query?"?"+S.query:""),S.path=void 0,S.query=void 0,S}function l(S){if((S.port===(i(S)?443:80)||S.port==="")&&(S.port=void 0),typeof S.secure=="boolean"&&(S.scheme=S.secure?"wss":"ws",S.secure=void 0),S.resourceName){const[$,T]=S.resourceName.split("?");S.path=$&&$!=="/"?$:void 0,S.query=T,S.resourceName=void 0}return S.fragment=void 0,S}function u(S,$){if(!S.path)return S.error="URN can not be parsed",S;const T=S.path.match(n);if(T){const d=$.scheme||S.scheme||"urn";S.nid=T[1].toLowerCase(),S.nss=T[2];const A=`${d}:${$.nid||S.nid}`,x=y[A];S.path=void 0,x&&(S=x.parse(S,$))}else S.error=S.error||"URN can not be parsed.";return S}function f(S,$){const T=$.scheme||S.scheme||"urn",d=S.nid.toLowerCase(),A=`${T}:${$.nid||d}`,x=y[A];x&&(S=x.serialize(S,$));const P=S,j=S.nss;return P.path=`${d||$.nid}:${j}`,$.skipEscape=!0,P}function c(S,$){const T=S;return T.uuid=T.nss,T.nss=void 0,!$.tolerant&&(!T.uuid||!r.test(T.uuid))&&(T.error=T.error||"UUID is not valid."),T}function p(S){const $=S;return $.nss=(S.uuid||"").toLowerCase(),$}var m={scheme:"http",domainHost:!0,parse:o,serialize:a},g={scheme:"https",domainHost:m.domainHost,parse:o,serialize:a},_={scheme:"ws",domainHost:!0,parse:s,serialize:l},v={scheme:"wss",domainHost:_.domainHost,parse:_.parse,serialize:_.serialize},h={scheme:"urn",parse:u,serialize:f,skipNormalize:!0},E={scheme:"urn:uuid",parse:c,serialize:p,skipNormalize:!0},y={http:m,https:g,ws:_,wss:v,urn:h,"urn:uuid":E};t.exports=y}}),nZ=Pe({"../../node_modules/fast-uri/index.js"(e,t){Te();var{normalizeIPv6:r,normalizeIPv4:n,removeDotSegments:i,recomposeAuthority:o,normalizeComponentEncoding:a}=tZ(),s=rZ();function l(E,y){return typeof E=="string"?E=p(v(E,y),y):typeof E=="object"&&(E=v(p(E,y),y)),E}function u(E,y,S){const $=Object.assign({scheme:"null"},S),T=f(v(E,$),v(y,$),$,!0);return p(T,{...$,skipEscape:!0})}function f(E,y,S,$){const T={};return $||(E=v(p(E,S),S),y=v(p(y,S),S)),S=S||{},!S.tolerant&&y.scheme?(T.scheme=y.scheme,T.userinfo=y.userinfo,T.host=y.host,T.port=y.port,T.path=i(y.path||""),T.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(T.userinfo=y.userinfo,T.host=y.host,T.port=y.port,T.path=i(y.path||""),T.query=y.query):(y.path?(y.path.charAt(0)==="/"?T.path=i(y.path):((E.userinfo!==void 0||E.host!==void 0||E.port!==void 0)&&!E.path?T.path="/"+y.path:E.path?T.path=E.path.slice(0,E.path.lastIndexOf("/")+1)+y.path:T.path=y.path,T.path=i(T.path)),T.query=y.query):(T.path=E.path,y.query!==void 0?T.query=y.query:T.query=E.query),T.userinfo=E.userinfo,T.host=E.host,T.port=E.port),T.scheme=E.scheme),T.fragment=y.fragment,T}function c(E,y,S){return typeof E=="string"?(E=unescape(E),E=p(a(v(E,S),!0),{...S,skipEscape:!0})):typeof E=="object"&&(E=p(a(E,!0),{...S,skipEscape:!0})),typeof y=="string"?(y=unescape(y),y=p(a(v(y,S),!0),{...S,skipEscape:!0})):typeof y=="object"&&(y=p(a(y,!0),{...S,skipEscape:!0})),E.toLowerCase()===y.toLowerCase()}function p(E,y){const S={host:E.host,scheme:E.scheme,userinfo:E.userinfo,port:E.port,path:E.path,query:E.query,nid:E.nid,nss:E.nss,uuid:E.uuid,fragment:E.fragment,reference:E.reference,resourceName:E.resourceName,secure:E.secure,error:""},$=Object.assign({},y),T=[],d=s[($.scheme||S.scheme||"").toLowerCase()];d&&d.serialize&&d.serialize(S,$),S.path!==void 0&&($.skipEscape?S.path=unescape(S.path):(S.path=escape(S.path),S.scheme!==void 0&&(S.path=S.path.split("%3A").join(":")))),$.reference!=="suffix"&&S.scheme&&T.push(S.scheme,":");const A=o(S);if(A!==void 0&&($.reference!=="suffix"&&T.push("//"),T.push(A),S.path&&S.path.charAt(0)!=="/"&&T.push("/")),S.path!==void 0){let x=S.path;!$.absolutePath&&(!d||!d.absolutePath)&&(x=i(x)),A===void 0&&(x=x.replace(/^\/\//u,"/%2F")),T.push(x)}return S.query!==void 0&&T.push("?",S.query),S.fragment!==void 0&&T.push("#",S.fragment),T.join("")}var m=Array.from({length:127},(E,y)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(y)));function g(E){let y=0;for(let S=0,$=E.length;S<$;++S)if(y=E.charCodeAt(S),y>126||m[y])return!0;return!1}var _=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function v(E,y){const S=Object.assign({},y),$={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},T=E.indexOf("%")!==-1;let d=!1;S.reference==="suffix"&&(E=(S.scheme?S.scheme+":":"")+"//"+E);const A=E.match(_);if(A){if($.scheme=A[1],$.userinfo=A[3],$.host=A[4],$.port=parseInt(A[5],10),$.path=A[6]||"",$.query=A[7],$.fragment=A[8],isNaN($.port)&&($.port=A[5]),$.host){const P=n($.host);if(P.isIPV4===!1){const j=r(P.host);$.host=j.host.toLowerCase(),d=j.isIPV6}else $.host=P.host,d=!0}$.scheme===void 0&&$.userinfo===void 0&&$.host===void 0&&$.port===void 0&&$.query===void 0&&!$.path?$.reference="same-document":$.scheme===void 0?$.reference="relative":$.fragment===void 0?$.reference="absolute":$.reference="uri",S.reference&&S.reference!=="suffix"&&S.reference!==$.reference&&($.error=$.error||"URI is not a "+S.reference+" reference.");const x=s[(S.scheme||$.scheme||"").toLowerCase()];if(!S.unicodeSupport&&(!x||!x.unicodeSupport)&&$.host&&(S.domainHost||x&&x.domainHost)&&d===!1&&g($.host))try{$.host=URL.domainToASCII($.host.toLowerCase())}catch(P){$.error=$.error||"Host's domain name can not be converted to ASCII: "+P}(!x||x&&!x.skipNormalize)&&(T&&$.scheme!==void 0&&($.scheme=unescape($.scheme)),T&&$.host!==void 0&&($.host=unescape($.host)),$.path&&($.path=escape(unescape($.path))),$.fragment&&($.fragment=encodeURI(decodeURIComponent($.fragment)))),x&&x.parse&&x.parse($,S)}else $.error=$.error||"URI can not be parsed.";return $}var h={SCHEMES:s,normalize:l,resolve:u,resolveComponents:f,equal:c,serialize:p,parse:v};t.exports=h,t.exports.default=h,t.exports.fastUri=h}}),iZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/uri.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=nZ();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),oZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/core.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=q_();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=hr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=$R(),i=V_(),o=JB(),a=TR(),s=hr(),l=z_(),u=Sb(),f=Br(),c=ZQ(),p=iZ(),m=(M,B)=>new RegExp(M,B);m.code="new RegExp";var g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(M){var B,K,O,N,q,ne,J,Y,oe,be,Oe,R,C,D,G,ie,ue,de,ve,Ne,Be,je,nt,We,Ue;const W=M.strict,I=(B=M.code)===null||B===void 0?void 0:B.optimize,L=I===!0||I===void 0?1:I||0,re=(O=(K=M.code)===null||K===void 0?void 0:K.regExp)!==null&&O!==void 0?O:m,ye=(N=M.uriResolver)!==null&&N!==void 0?N:p.default;return{strictSchema:(ne=(q=M.strictSchema)!==null&&q!==void 0?q:W)!==null&&ne!==void 0?ne:!0,strictNumbers:(Y=(J=M.strictNumbers)!==null&&J!==void 0?J:W)!==null&&Y!==void 0?Y:!0,strictTypes:(be=(oe=M.strictTypes)!==null&&oe!==void 0?oe:W)!==null&&be!==void 0?be:"log",strictTuples:(R=(Oe=M.strictTuples)!==null&&Oe!==void 0?Oe:W)!==null&&R!==void 0?R:"log",strictRequired:(D=(C=M.strictRequired)!==null&&C!==void 0?C:W)!==null&&D!==void 0?D:!1,code:M.code?{...M.code,optimize:L,regExp:re}:{optimize:L,regExp:re},loopRequired:(G=M.loopRequired)!==null&&G!==void 0?G:E,loopEnum:(ie=M.loopEnum)!==null&&ie!==void 0?ie:E,meta:(ue=M.meta)!==null&&ue!==void 0?ue:!0,messages:(de=M.messages)!==null&&de!==void 0?de:!0,inlineRefs:(ve=M.inlineRefs)!==null&&ve!==void 0?ve:!0,schemaId:(Ne=M.schemaId)!==null&&Ne!==void 0?Ne:"$id",addUsedSchema:(Be=M.addUsedSchema)!==null&&Be!==void 0?Be:!0,validateSchema:(je=M.validateSchema)!==null&&je!==void 0?je:!0,validateFormats:(nt=M.validateFormats)!==null&&nt!==void 0?nt:!0,unicodeRegExp:(We=M.unicodeRegExp)!==null&&We!==void 0?We:!0,int32range:(Ue=M.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:ye}}var S=class{constructor(M={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,M=this.opts={...M,...y(M)};const{es5:B,lines:K}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:B,lines:K}),this.logger=F(M.logger);const O=M.validateFormats;M.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,M,"NOT SUPPORTED"),$.call(this,h,M,"DEPRECATED","warn"),this._metaOpts=P.call(this),M.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),M.keywords&&x.call(this,M.keywords),typeof M.meta=="object"&&this.addMetaSchema(M.meta),d.call(this),M.validateFormats=O}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:M,meta:B,schemaId:K}=this.opts;let O=c;K==="id"&&(O={...c},O.id=O.$id,delete O.$id),B&&M&&this.addMetaSchema(O,O[K],!1)}defaultMeta(){const{meta:M,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof M=="object"?M[B]||M:void 0}validate(M,B){let K;if(typeof M=="string"){if(K=this.getSchema(M),!K)throw new Error(`no schema with key or ref "${M}"`)}else K=this.compile(M);const O=K(B);return"$async"in K||(this.errors=K.errors),O}compile(M,B){const K=this._addSchema(M,B);return K.validate||this._compileSchemaEnv(K)}compileAsync(M,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return O.call(this,M,B);async function O(oe,be){await N.call(this,oe.$schema);const Oe=this._addSchema(oe,be);return Oe.validate||q.call(this,Oe)}async function N(oe){oe&&!this.getSchema(oe)&&await O.call(this,{$ref:oe},!0)}async function q(oe){try{return this._compileSchemaEnv(oe)}catch(be){if(!(be instanceof i.default))throw be;return ne.call(this,be),await J.call(this,be.missingSchema),q.call(this,oe)}}function ne({missingSchema:oe,missingRef:be}){if(this.refs[oe])throw new Error(`AnySchema ${oe} is loaded but ${be} cannot be resolved`)}async function J(oe){const be=await Y.call(this,oe);this.refs[oe]||await N.call(this,be.$schema),this.refs[oe]||this.addSchema(be,oe,B)}async function Y(oe){const be=this._loading[oe];if(be)return be;try{return await(this._loading[oe]=K(oe))}finally{delete this._loading[oe]}}}addSchema(M,B,K,O=this.opts.validateSchema){if(Array.isArray(M)){for(const q of M)this.addSchema(q,void 0,K,O);return this}let N;if(typeof M=="object"){const{schemaId:q}=this.opts;if(N=M[q],N!==void 0&&typeof N!="string")throw new Error(`schema ${q} must be string`)}return B=(0,l.normalizeId)(B||N),this._checkUnique(B),this.schemas[B]=this._addSchema(M,K,B,O,!0),this}addMetaSchema(M,B,K=this.opts.validateSchema){return this.addSchema(M,B,!0,K),this}validateSchema(M,B){if(typeof M=="boolean")return!0;let K;if(K=M.$schema,K!==void 0&&typeof K!="string")throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const O=this.validate(K,M);if(!O&&B){const N="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(N);else throw new Error(N)}return O}getSchema(M){let B;for(;typeof(B=T.call(this,M))=="string";)M=B;if(B===void 0){const{schemaId:K}=this.opts,O=new a.SchemaEnv({schema:{},schemaId:K});if(B=a.resolveSchema.call(this,O,M),!B)return;this.refs[M]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(M){if(M instanceof RegExp)return this._removeAllSchemas(this.schemas,M),this._removeAllSchemas(this.refs,M),this;switch(typeof M){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=T.call(this,M);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[M],delete this.refs[M],this}case"object":{const B=M;this._cache.delete(B);let K=M[this.opts.schemaId];return K&&(K=(0,l.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(M){for(const B of M)this.addKeyword(B);return this}addKeyword(M,B){let K;if(typeof M=="string")K=M,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=K);else if(typeof M=="object"&&B===void 0){if(B=M,K=B.keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(X.call(this,K,B),!B)return(0,f.eachItem)(K,N=>H.call(this,N)),this;fe.call(this,B);const O={...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)};return(0,f.eachItem)(K,O.type.length===0?N=>H.call(this,N,O):N=>O.type.forEach(q=>H.call(this,N,O,q))),this}getKeyword(M){const B=this.RULES.all[M];return typeof B=="object"?B.definition:!!B}removeKeyword(M){const{RULES:B}=this;delete B.keywords[M],delete B.all[M];for(const K of B.rules){const O=K.rules.findIndex(N=>N.keyword===M);O>=0&&K.rules.splice(O,1)}return this}addFormat(M,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[M]=B,this}errorsText(M=this.errors,{separator:B=", ",dataVar:K="data"}={}){return!M||M.length===0?"No errors":M.map(O=>`${K}${O.instancePath} ${O.message}`).reduce((O,N)=>O+B+N)}$dataMetaSchema(M,B){const K=this.RULES.all;M=JSON.parse(JSON.stringify(M));for(const O of B){const N=O.split("/").slice(1);let q=M;for(const ne of N)q=q[ne];for(const ne in K){const J=K[ne];if(typeof J!="object")continue;const{$data:Y}=J.definition,oe=q[ne];Y&&oe&&(q[ne]=ae(oe))}}return M}_removeAllSchemas(M,B){for(const K in M){const O=M[K];(!B||B.test(K))&&(typeof O=="string"?delete M[K]:O&&!O.meta&&(this._cache.delete(O.schema),delete M[K]))}}_addSchema(M,B,K,O=this.opts.validateSchema,N=this.opts.addUsedSchema){let q;const{schemaId:ne}=this.opts;if(typeof M=="object")q=M[ne];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof M!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(M);if(J!==void 0)return J;K=(0,l.normalizeId)(q||K);const Y=l.getSchemaRefs.call(this,M,K);return J=new a.SchemaEnv({schema:M,schemaId:ne,meta:B,baseId:K,localRefs:Y}),this._cache.set(J.schema,J),N&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=J),O&&this.validateSchema(M,!0),J}_checkUnique(M){if(this.schemas[M]||this.refs[M])throw new Error(`schema with key or id "${M}" already exists`)}_compileSchemaEnv(M){if(M.meta?this._compileMetaSchema(M):a.compileSchema.call(this,M),!M.validate)throw new Error("ajv implementation error");return M.validate}_compileMetaSchema(M){const B=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,M)}finally{this.opts=B}}};S.ValidationError=n.default,S.MissingRefError=i.default,e.default=S;function $(M,B,K,O="error"){for(const N in M){const q=N;q in B&&this.logger[O](`${K}: option ${N}. ${M[q]}`)}}function T(M){return M=(0,l.normalizeId)(M),this.schemas[M]||this.refs[M]}function d(){const M=this.opts.schemas;if(M)if(Array.isArray(M))this.addSchema(M);else for(const B in M)this.addSchema(M[B],B)}function A(){for(const M in this.opts.formats){const B=this.opts.formats[M];B&&this.addFormat(M,B)}}function x(M){if(Array.isArray(M)){this.addVocabulary(M);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in M){const K=M[B];K.keyword||(K.keyword=B),this.addKeyword(K)}}function P(){const M={...this.opts};for(const B of g)delete M[B];return M}var j={log(){},warn(){},error(){}};function F(M){if(M===!1)return j;if(M===void 0)return console;if(M.log&&M.warn&&M.error)return M;throw new Error("logger must implement log, warn and error methods")}var V=/^[a-z_$][a-z0-9_$:-]*$/i;function X(M,B){const{RULES:K}=this;if((0,f.eachItem)(M,O=>{if(K.keywords[O])throw new Error(`Keyword ${O} is already defined`);if(!V.test(O))throw new Error(`Keyword ${O} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function H(M,B,K){var O;const N=B==null?void 0:B.post;if(K&&N)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let ne=N?q.post:q.rules.find(({type:Y})=>Y===K);if(ne||(ne={type:K,rules:[]},q.rules.push(ne)),q.keywords[M]=!0,!B)return;const J={keyword:M,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?Z.call(this,ne,J,B.before):ne.rules.push(J),q.all[M]=J,(O=B.implements)===null||O===void 0||O.forEach(Y=>this.addKeyword(Y))}function Z(M,B,K){const O=M.rules.findIndex(N=>N.keyword===K);O>=0?M.rules.splice(O,0,B):(M.rules.push(B),this.logger.warn(`rule ${K} is not defined`))}function fe(M){let{metaSchema:B}=M;B!==void 0&&(M.$data&&this.opts.$data&&(B=ae(B)),M.validateSchema=this.compile(B,!0))}var ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ae(M){return{anyOf:[M,ee]}}}}),aZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/id.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),sZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=V_(),r=ps(),n=hr(),i=oc(),o=TR(),a=Br(),s={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:p,it:m}=f,{baseId:g,schemaEnv:_,validateName:v,opts:h,self:E}=m,{root:y}=_;if((p==="#"||p==="#/")&&g===y.baseId)return $();const S=o.resolveRef.call(E,y,g,p);if(S===void 0)throw new t.default(m.opts.uriResolver,g,p);if(S instanceof o.SchemaEnv)return T(S);return d(S);function $(){if(_===y)return u(f,v,_,_.$async);const A=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${A}.validate`,y,y.$async)}function T(A){const x=l(f,A);u(f,x,A,A.$async)}function d(A){const x=c.scopeValue("schema",h.code.source===!0?{ref:A,code:(0,n.stringify)(A)}:{ref:A}),P=c.name("valid"),j=f.subschema({schema:A,dataTypes:[],schemaPath:n.nil,topSchemaRef:x,errSchemaPath:p},P);f.mergeEvaluated(j),f.ok(P)}}};function l(f,c){const{gen:p}=f;return c.validate?p.scopeValue("validate",{ref:c.validate}):(0,n._)`${p.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,p,m){const{gen:g,it:_}=f,{allErrors:v,schemaEnv:h,opts:E}=_,y=E.passContext?i.default.this:n.nil;m?S():$();function S(){if(!h.$async)throw new Error("async schema referenced by sync schema");const A=g.let("valid");g.try(()=>{g.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||g.assign(A,!0)},x=>{g.if((0,n._)`!(${x} instanceof ${_.ValidationError})`,()=>g.throw(x)),T(x),v||g.assign(A,!1)}),f.ok(A)}function $(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>T(c))}function T(A){const x=(0,n._)`${A}.errors`;g.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${x} : ${i.default.vErrors}.concat(${x})`),g.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(A){var x;if(!_.opts.unevaluated)return;const P=(x=p==null?void 0:p.validate)===null||x===void 0?void 0:x.evaluated;if(_.props!==!0)if(P&&!P.dynamicProps)P.props!==void 0&&(_.props=a.mergeEvaluated.props(g,P.props,_.props));else{const j=g.var("props",(0,n._)`${A}.evaluated.props`);_.props=a.mergeEvaluated.props(g,j,_.props,n.Name)}if(_.items!==!0)if(P&&!P.dynamicItems)P.items!==void 0&&(_.items=a.mergeEvaluated.items(g,P.items,_.items));else{const j=g.var("items",(0,n._)`${A}.evaluated.items`);_.items=a.mergeEvaluated.items(g,j,_.items,n.Name)}}}e.callRef=u,e.default=s}}),lZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=aZ(),r=sZ(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),uZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:a,schemaCode:s})=>(0,t.str)`must be ${n[a].okStr} ${s}`,params:({keyword:a,schemaCode:s})=>(0,t._)`{comparison: ${n[a].okStr}, limit: ${s}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u}=a;a.fail$data((0,t._)`${l} ${n[s].fail} ${u} || isNaN(${l})`)}};e.default=o}}),cZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:a,schemaCode:s,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${s} === 0 || (${f} = ${a}/${s}, ${c}))`)}};e.default=n}}),fZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/ucs2length.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,a;for(;o<n;)i++,a=r.charCodeAt(o++),a>=55296&&a<=56319&&o<n&&(a=r.charCodeAt(o),(a&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),dZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=Br(),n=fZ(),i={message({keyword:a,schemaCode:s}){const l=a==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${s} characters`},params:({schemaCode:a})=>(0,t._)`{limit: ${a}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u,it:f}=a,c=s==="maxLength"?t.operators.GT:t.operators.LT,p=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(a.gen,n.default)}(${l})`;a.fail$data((0,t._)`${p} ${c} ${u}`)}};e.default=o}}),hZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ps(),r=hr(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:a,$data:s,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",p=s?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${p}.test(${a})`)}};e.default=i}}),pZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r={message({keyword:i,schemaCode:o}){const a=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${a}).length ${l} ${s}`)}};e.default=n}}),mZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ps(),r=hr(),n=Br(),i={message:({params:{missingProperty:a}})=>(0,r.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,r._)`{missingProperty: ${a}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,schema:l,schemaCode:u,data:f,$data:c,it:p}=a,{opts:m}=p;if(!c&&l.length===0)return;const g=l.length>=m.loopRequired;if(p.allErrors?_():v(),m.strictRequired){const y=a.parentSchema.properties,{definedProperties:S}=a.it;for(const $ of l)if((y==null?void 0:y[$])===void 0&&!S.has($)){const T=p.schemaEnv.baseId+p.errSchemaPath,d=`required property "${$}" is not defined at "${T}" (strictRequired)`;(0,n.checkStrictMode)(p,d,p.opts.strictRequired)}}function _(){if(g||c)a.block$data(r.nil,h);else for(const y of l)(0,t.checkReportMissingProp)(a,y)}function v(){const y=s.let("missing");if(g||c){const S=s.let("valid",!0);a.block$data(S,()=>E(y,S)),a.ok(S)}else s.if((0,t.checkMissingProp)(a,l,y)),(0,t.reportMissingProp)(a,y),s.else()}function h(){s.forOf("prop",u,y=>{a.setParams({missingProperty:y}),s.if((0,t.noPropertyInData)(s,f,y,m.ownProperties),()=>a.error())})}function E(y,S){a.setParams({missingProperty:y}),s.forOf(y,u,()=>{s.assign(S,(0,t.propertyInData)(s,f,y,m.ownProperties)),s.if((0,r.not)(S),()=>{a.error(),s.break()})},r.nil)}}};e.default=o}}),gZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r={message({keyword:i,schemaCode:o}){const a=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${a}.length ${l} ${s}`)}};e.default=n}}),AR=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/equal.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Mh();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),vZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Sb(),r=hr(),n=Br(),i=AR(),o={message:({params:{i:s,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${s} are identical)`,params:({params:{i:s,j:l}})=>(0,r._)`{i: ${s}, j: ${l}}`},a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(s){const{gen:l,data:u,$data:f,schema:c,parentSchema:p,schemaCode:m,it:g}=s;if(!f&&!c)return;const _=l.let("valid"),v=p.items?(0,t.getSchemaTypes)(p.items):[];s.block$data(_,h,(0,r._)`${m} === false`),s.ok(_);function h(){const $=l.let("i",(0,r._)`${u}.length`),T=l.let("j");s.setParams({i:$,j:T}),l.assign(_,!0),l.if((0,r._)`${$} > 1`,()=>(E()?y:S)($,T))}function E(){return v.length>0&&!v.some($=>$==="object"||$==="array")}function y($,T){const d=l.name("item"),A=(0,t.checkDataTypes)(v,d,g.opts.strictNumbers,t.DataType.Wrong),x=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${$}--;`,()=>{l.let(d,(0,r._)`${u}[${$}]`),l.if(A,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${x}[${d}] == "number"`,()=>{l.assign(T,(0,r._)`${x}[${d}]`),s.error(),l.assign(_,!1).break()}).code((0,r._)`${x}[${d}] = ${$}`)})}function S($,T){const d=(0,n.useFunc)(l,i.default),A=l.name("outer");l.label(A).for((0,r._)`;${$}--;`,()=>l.for((0,r._)`${T} = ${$}; ${T}--;`,()=>l.if((0,r._)`${d}(${u}[${$}], ${u}[${T}])`,()=>{s.error(),l.assign(_,!1).break(A)})))}}};e.default=a}}),yZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=Br(),n=AR(),i={message:"must be equal to constant",params:({schemaCode:a})=>(0,t._)`{allowedValue: ${a}}`},o={keyword:"const",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schemaCode:f,schema:c}=a;u||c&&typeof c=="object"?a.fail$data((0,t._)`!${(0,r.useFunc)(s,n.default)}(${l}, ${f})`):a.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),wZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=Br(),n=AR(),i={message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,t._)`{allowedValues: ${a}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schema:f,schemaCode:c,it:p}=a;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=p.opts.loopEnum;let g;const _=()=>g??(g=(0,r.useFunc)(s,n.default));let v;if(m||u)v=s.let("valid"),a.block$data(v,h);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=s.const("vSchema",c);v=(0,t.or)(...f.map((S,$)=>E(y,$)))}a.pass(v);function h(){s.assign(v,!1),s.forOf("v",c,y=>s.if((0,t._)`${_()}(${l}, ${y})`,()=>s.assign(v,!0).break()))}function E(y,S){const $=f[S];return typeof $=="object"&&$!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${$}`}}};e.default=o}}),bZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=uZ(),r=cZ(),n=dZ(),i=hZ(),o=pZ(),a=mZ(),s=gZ(),l=vZ(),u=yZ(),f=wZ(),c=[t.default,r.default,n.default,i.default,o.default,a.default,s.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),XB=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=hr(),r=Br(),n={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(a){const{parentSchema:s,it:l}=a,{items:u}=s;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(a,u)}};function o(a,s){const{gen:l,schema:u,data:f,keyword:c,it:p}=a;p.items=!0;const m=l.const("len",(0,t._)`${f}.length`);if(u===!1)a.setParams({len:s.length}),a.pass((0,t._)`${m} <= ${s.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(p,u)){const _=l.var("valid",(0,t._)`${m} <= ${s.length}`);l.if((0,t.not)(_),()=>g(_)),a.ok(_)}function g(_){l.forRange("i",s.length,m,v=>{a.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),p.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),QB=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=hr(),r=Br(),n=ps(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:s,it:l}=a;if(Array.isArray(s))return o(a,"additionalItems",s);l.items=!0,!(0,r.alwaysValidSchema)(l,s)&&a.ok((0,n.validateArray)(a))}};function o(a,s,l=a.schema){const{gen:u,parentSchema:f,data:c,keyword:p,it:m}=a;v(f),m.opts.unevaluated&&l.length&&m.items!==!0&&(m.items=r.mergeEvaluated.items(u,l.length,m.items));const g=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((h,E)=>{(0,r.alwaysValidSchema)(m,h)||(u.if((0,t._)`${_} > ${E}`,()=>a.subschema({keyword:p,schemaProp:E,dataProp:E},g)),a.ok(g))});function v(h){const{opts:E,errSchemaPath:y}=m,S=l.length,$=S===h.minItems&&(S===h.maxItems||h[s]===!1);if(E.strictTuples&&!$){const T=`"${p}" is ${S}-tuple, but minItems or maxItems/${s} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(m,T,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),_Z=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=QB(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),EZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=Br(),n=ps(),i=XB(),o={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(s){const{schema:l,parentSchema:u,it:f}=s,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(s,c):s.ok((0,n.validateArray)(s)))}};e.default=a}}),SZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=Br(),n={message:({params:{min:o,max:a}})=>a===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${a} valid item(s)`,params:({params:{min:o,max:a}})=>a===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${a}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,data:u,it:f}=o;let c,p;const{minContains:m,maxContains:g}=l;f.opts.next?(c=m===void 0?1:m,p=g):c=1;const _=a.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:p}),p===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&c>p){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,s)){let S=(0,t._)`${_} >= ${c}`;p!==void 0&&(S=(0,t._)`${S} && ${_} <= ${p}`),o.pass(S);return}f.items=!0;const v=a.name("valid");p===void 0&&c===1?E(v,()=>a.if(v,()=>a.break())):c===0?(a.let(v,!0),p!==void 0&&a.if((0,t._)`${u}.length > 0`,h)):(a.let(v,!1),h()),o.result(v,()=>o.reset());function h(){const S=a.name("_valid"),$=a.let("count",0);E(S,()=>a.if(S,()=>y($)))}function E(S,$){a.forRange("i",0,_,T=>{o.subschema({keyword:"contains",dataProp:T,dataPropType:r.Type.Num,compositeRule:!0},S),$()})}function y(S){a.code((0,t._)`${S}++`),p===void 0?a.if((0,t._)`${S} >= ${c}`,()=>a.assign(v,!0).break()):(a.if((0,t._)`${S} > ${p}`,()=>a.assign(v,!1).break()),c===1?a.assign(v,!0):a.if((0,t._)`${S} >= ${c}`,()=>a.assign(v,!0)))}}};e.default=i}}),$Z=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=hr(),r=Br(),n=ps();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);a(l,u),s(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const p=Array.isArray(l[c])?u:f;p[c]=l[c]}return[u,f]}function a(l,u=l.schema){const{gen:f,data:c,it:p}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,p.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),p.allErrors?f.if(v,()=>{for(const h of _)(0,n.checkReportMissingProp)(l,h)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=a;function s(l,u=l.schema){const{gen:f,data:c,keyword:p,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:p,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=s,e.default=i}}),TZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=Br(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:a,schema:s,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,s))return;const f=a.name("valid");a.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),a.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||a.break()})}),o.ok(f)}};e.default=i}}),ZB=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ps(),r=hr(),n=oc(),i=Br(),o={message:"must NOT have additional properties",params:({params:s})=>(0,r._)`{additionalProperty: ${s.additionalProperty}}`},a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(s){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:p,it:m}=s;if(!p)throw new Error("ajv implementation error");const{allErrors:g,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(m,u))return;const v=(0,t.allSchemaProperties)(f.properties),h=(0,t.allSchemaProperties)(f.patternProperties);E(),s.ok((0,r._)`${p} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!h.length?$(d):l.if(y(d),()=>$(d))})}function y(d){let A;if(v.length>8){const x=(0,i.schemaRefOrVal)(m,f.properties,"properties");A=(0,t.isOwnProperty)(l,x,d)}else v.length?A=(0,r.or)(...v.map(x=>(0,r._)`${d} === ${x}`)):A=r.nil;return h.length&&(A=(0,r.or)(A,...h.map(x=>(0,r._)`${(0,t.usePattern)(s,x)}.test(${d})`))),(0,r.not)(A)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function $(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){s.setParams({additionalProperty:d}),s.error(),g||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(m,u)){const A=l.name("valid");_.removeAdditional==="failing"?(T(d,A,!1),l.if((0,r.not)(A),()=>{s.reset(),S(d)})):(T(d,A),g||l.if((0,r.not)(A),()=>l.break()))}}function T(d,A,x){const P={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};x===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(P,A)}}};e.default=a}}),AZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=q_(),r=ps(),n=Br(),i=ZB(),o={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,parentSchema:u,data:f,it:c}=a;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const p=(0,r.allSchemaProperties)(l);for(const h of p)c.definedProperties.add(h);c.opts.unevaluated&&p.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(s,(0,n.toHash)(p),c.props));const m=p.filter(h=>!(0,n.alwaysValidSchema)(c,l[h]));if(m.length===0)return;const g=s.name("valid");for(const h of m)_(h)?v(h):(s.if((0,r.propertyInData)(s,f,h,c.opts.ownProperties)),v(h),c.allErrors||s.else().var(g,!0),s.endIf()),a.it.definedProperties.add(h),a.ok(g);function _(h){return c.opts.useDefaults&&!c.compositeRule&&l[h].default!==void 0}function v(h){a.subschema({keyword:"properties",schemaProp:h,dataProp:h},g)}}};e.default=o}}),xZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ps(),r=hr(),n=Br(),i=Br(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,data:u,parentSchema:f,it:c}=a,{opts:p}=c,m=(0,t.allSchemaProperties)(l),g=m.filter($=>(0,n.alwaysValidSchema)(c,l[$]));if(m.length===0||g.length===m.length&&(!c.opts.unevaluated||c.props===!0))return;const _=p.strictSchema&&!p.allowMatchingProperties&&f.properties,v=s.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(s,c.props));const{props:h}=c;E();function E(){for(const $ of m)_&&y($),c.allErrors?S($):(s.var(v,!0),S($),s.if(v))}function y($){for(const T in _)new RegExp($).test(T)&&(0,n.checkStrictMode)(c,`property ${T} matches pattern ${$} (use allowMatchingProperties)`)}function S($){s.forIn("key",u,T=>{s.if((0,r._)`${(0,t.usePattern)(a,$)}.test(${T})`,()=>{const d=g.includes($);d||a.subschema({keyword:"patternProperties",schemaProp:$,dataProp:T,dataPropType:i.Type.Str},v),c.opts.unevaluated&&h!==!0?s.assign((0,r._)`${h}[${T}]`,!0):!d&&!c.allErrors&&s.if((0,r.not)(v),()=>s.break())})})}}};e.default=o}}),PZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Br(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:a}=n;if((0,t.alwaysValidSchema)(a,o)){n.fail();return}const s=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),OZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ps(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),RZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=Br(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,it:u}=o;if(!Array.isArray(s))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=s,c=a.let("valid",!1),p=a.let("passing",null),m=a.name("_valid");o.setParams({passing:p}),a.block(g),o.result(c,()=>o.reset(),()=>o.error(!0));function g(){f.forEach((_,v)=>{let h;(0,r.alwaysValidSchema)(u,_)?a.var(m,!0):h=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},m),v>0&&a.if((0,t._)`${m} && ${c}`).assign(c,!1).assign(p,(0,t._)`[${p}, ${v}]`).else(),a.if(m,()=>{a.assign(c,!0),a.assign(p,v),h&&o.mergeEvaluated(h,t.Name)})})}}};e.default=i}}),IZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Br(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:a}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const s=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(a,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},s);n.ok(s),n.mergeEvaluated(f)})}};e.default=r}}),NZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=Br(),n={message:({params:a})=>(0,t.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,t._)`{failingKeyword: ${a.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(a){const{gen:s,parentSchema:l,it:u}=a;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const p=s.let("valid",!0),m=s.name("_valid");if(g(),a.reset(),f&&c){const v=s.let("ifClause");a.setParams({ifClause:v}),s.if(m,_("then",v),_("else",v))}else f?s.if(m,_("then")):s.if((0,t.not)(m),_("else"));a.pass(p,()=>a.error(!0));function g(){const v=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);a.mergeEvaluated(v)}function _(v,h){return()=>{const E=a.subschema({keyword:v},m);s.assign(p,m),a.mergeValidEvaluated(E,p),h?s.assign(h,(0,t._)`${v}`):a.setParams({ifClause:v})}}}};function o(a,s){const l=a.schema[s];return l!==void 0&&!(0,r.alwaysValidSchema)(a,l)}e.default=i}}),kZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Br(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),CZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=XB(),r=_Z(),n=QB(),i=EZ(),o=SZ(),a=$Z(),s=TZ(),l=ZB(),u=AZ(),f=xZ(),c=PZ(),p=OZ(),m=RZ(),g=IZ(),_=NZ(),v=kZ();function h(E=!1){const y=[c.default,p.default,m.default,g.default,_.default,v.default,s.default,l.default,a.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=h}}),jZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/format/format.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:a,data:s,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:p,errSchemaPath:m,schemaEnv:g,self:_}=c;if(!p.validateFormats)return;l?v():h();function v(){const E=a.scopeValue("formats",{ref:_.formats,code:p.code.formats}),y=a.const("fDef",(0,t._)`${E}[${f}]`),S=a.let("fType"),$=a.let("format");a.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>a.assign(S,(0,t._)`${y}.type || "string"`).assign($,(0,t._)`${y}.validate`),()=>a.assign(S,(0,t._)`"string"`).assign($,y)),i.fail$data((0,t.or)(T(),d()));function T(){return p.strictSchema===!1?t.nil:(0,t._)`${f} && !${$}`}function d(){const A=g.$async?(0,t._)`(${y}.async ? await ${$}(${s}) : ${$}(${s}))`:(0,t._)`${$}(${s})`,x=(0,t._)`(typeof ${$} == "function" ? ${A} : ${$}.test(${s}))`;return(0,t._)`${$} && ${$} !== true && ${S} === ${o} && !${x}`}}function h(){const E=_.formats[u];if(!E){T();return}if(E===!0)return;const[y,S,$]=d(E);y===o&&i.pass(A());function T(){if(p.strictSchema===!1){_.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function d(x){const P=x instanceof RegExp?(0,t.regexpCode)(x):p.code.formats?(0,t._)`${p.code.formats}${(0,t.getProperty)(u)}`:void 0,j=a.scopeValue("formats",{key:u,ref:x,code:P});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,t._)`${j}.validate`]:["string",x,j]}function A(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!g.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${s})`}return typeof S=="function"?(0,t._)`${$}(${s})`:(0,t._)`${$}.test(${s})`}}}};e.default=n}}),DZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/format/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=jZ(),r=[t.default];e.default=r}}),MZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/metadata.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),LZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/draft7.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=lZ(),r=bZ(),n=CZ(),i=DZ(),o=MZ(),a=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=a}}),FZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0;var t;(function(r){r.Tag="tag",r.Mapping="mapping"})(t||(e.DiscrError=t={}))}}),BZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hr(),r=FZ(),n=TR(),i=V_(),o=Br(),a={message:({params:{discrError:l,tagName:u}})=>l===r.DiscrError.Tag?`tag "${u}" must be string`:`value of tag "${u}" must be in oneOf`,params:({params:{discrError:l,tag:u,tagName:f}})=>(0,t._)`{error: ${l}, tag: ${f}, tagValue: ${u}}`},s={keyword:"discriminator",type:"object",schemaType:"object",error:a,code(l){const{gen:u,data:f,schema:c,parentSchema:p,it:m}=l,{oneOf:g}=p;if(!m.opts.discriminator)throw new Error("discriminator: requires discriminator option");const _=c.propertyName;if(typeof _!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");const v=u.let("valid",!1),h=u.const("tag",(0,t._)`${f}${(0,t.getProperty)(_)}`);u.if((0,t._)`typeof ${h} == "string"`,()=>E(),()=>l.error(!1,{discrError:r.DiscrError.Tag,tag:h,tagName:_})),l.ok(v);function E(){const $=S();u.if(!1);for(const T in $)u.elseIf((0,t._)`${h} === ${T}`),u.assign(v,y($[T]));u.else(),l.error(!1,{discrError:r.DiscrError.Mapping,tag:h,tagName:_}),u.endIf()}function y($){const T=u.name("valid"),d=l.subschema({keyword:"oneOf",schemaProp:$},T);return l.mergeEvaluated(d,t.Name),T}function S(){var $;const T={},d=x(p);let A=!0;for(let F=0;F<g.length;F++){let V=g[F];if(V!=null&&V.$ref&&!(0,o.schemaHasRulesButRef)(V,m.self.RULES)){const H=V.$ref;if(V=n.resolveRef.call(m.self,m.schemaEnv.root,m.baseId,H),V instanceof n.SchemaEnv&&(V=V.schema),V===void 0)throw new i.default(m.opts.uriResolver,m.baseId,H)}const X=($=V==null?void 0:V.properties)===null||$===void 0?void 0:$[_];if(typeof X!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${_}"`);A=A&&(d||x(V)),P(X,F)}if(!A)throw new Error(`discriminator: "${_}" must be required`);return T;function x({required:F}){return Array.isArray(F)&&F.includes(_)}function P(F,V){if(F.const)j(F.const,V);else if(F.enum)for(const X of F.enum)j(X,V);else throw new Error(`discriminator: "properties/${_}" must have "const" or "enum"`)}function j(F,V){if(typeof F!="string"||F in T)throw new Error(`discriminator: "${_}" values must be unique strings`);T[F]=V}}}};e.default=s}}),UZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),eU=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/ajv.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;var r=oZ(),n=LZ(),i=BZ(),o=UZ(),a=["/properties"],s="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(m,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}};e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=q_();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=hr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=$R();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var p=V_();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return p.default}})}}),zZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/formats.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(j,F){return{validate:j,compare:F}}e.fullFormats={date:t(o,a),time:t(l(!0),u),"date-time":t(p(!0),m),"iso-time":t(l(),f),"iso-date-time":t(p(),g),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:h,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:P,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:T},int64:{type:"number",validate:d},float:{type:"number",validate:A},double:{type:"number",validate:A},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,g),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(j){return j%4===0&&(j%100!==0||j%400===0)}var n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(j){const F=n.exec(j);if(!F)return!1;const V=+F[1],X=+F[2],H=+F[3];return X>=1&&X<=12&&H>=1&&H<=(X===2&&r(V)?29:i[X])}function a(j,F){if(j&&F)return j>F?1:j<F?-1:0}var s=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(j){return function(V){const X=s.exec(V);if(!X)return!1;const H=+X[1],Z=+X[2],fe=+X[3],ee=X[4],ae=X[5]==="-"?-1:1,M=+(X[6]||0),B=+(X[7]||0);if(M>23||B>59||j&&!ee)return!1;if(H<=23&&Z<=59&&fe<60)return!0;const K=Z-B*ae,O=H-M*ae-(K<0?1:0);return(O===23||O===-1)&&(K===59||K===-1)&&fe<61}}function u(j,F){if(!(j&&F))return;const V=new Date("2020-01-01T"+j).valueOf(),X=new Date("2020-01-01T"+F).valueOf();if(V&&X)return V-X}function f(j,F){if(!(j&&F))return;const V=s.exec(j),X=s.exec(F);if(V&&X)return j=V[1]+V[2]+V[3],F=X[1]+X[2]+X[3],j>F?1:j<F?-1:0}var c=/t|\s/i;function p(j){const F=l(j);return function(X){const H=X.split(c);return H.length===2&&o(H[0])&&F(H[1])}}function m(j,F){if(!(j&&F))return;const V=new Date(j).valueOf(),X=new Date(F).valueOf();if(V&&X)return V-X}function g(j,F){if(!(j&&F))return;const[V,X]=j.split(c),[H,Z]=F.split(c),fe=a(V,H);if(fe!==void 0)return fe||u(X,Z)}var _=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function h(j){return _.test(j)&&v.test(j)}var E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(j){return E.lastIndex=0,E.test(j)}var S=-2147483648,$=2**31-1;function T(j){return Number.isInteger(j)&&j<=$&&j>=S}function d(j){return Number.isInteger(j)}function A(){return!0}var x=/[^\\]\\Z/;function P(j){if(x.test(j))return!1;try{return new RegExp(j),!0}catch{return!1}}}}),qZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/limit.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;var t=eU(),r=hr(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:s,schemaCode:l})=>(0,r.str)`should be ${i[s].okStr} ${l}`,params:({keyword:s,schemaCode:l})=>(0,r._)`{comparison: ${i[s].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(s){const{gen:l,data:u,schemaCode:f,keyword:c,it:p}=s,{opts:m,self:g}=p;if(!m.validateFormats)return;const _=new t.KeywordCxt(p,g.RULES.all.format.definition,"format");_.$data?v():h();function v(){const y=l.scopeValue("formats",{ref:g.formats,code:m.code.formats}),S=l.const("fmt",(0,r._)`${y}[${_.schemaCode}]`);s.fail$data((0,r.or)((0,r._)`typeof ${S} != "object"`,(0,r._)`${S} instanceof RegExp`,(0,r._)`typeof ${S}.compare != "function"`,E(S)))}function h(){const y=_.schema,S=g.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const $=l.scopeValue("formats",{key:y,ref:S,code:m.code.formats?(0,r._)`${m.code.formats}${(0,r.getProperty)(y)}`:void 0});s.fail$data(E($))}function E(y){return(0,r._)`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};var a=s=>(s.addKeyword(e.formatLimitDefinition),s);e.default=a}}),VZ=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/index.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0});var r=zZ(),n=qZ(),i=hr(),o=new i.Name("fullFormats"),a=new i.Name("fastFormats"),s=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,p]=f.mode==="fast"?[r.fastFormats,a]:[r.fullFormats,o],m=f.formats||r.formatNames;return l(u,m,c,p),f.keywords&&(0,n.default)(u),u};s.get=(u,f="full")=>{const p=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!p)throw new Error(`Unknown format "${u}"`);return p};function l(u,f,c,p){var m,g;(m=(g=u.opts.code).formats)!==null&&m!==void 0||(g.formats=(0,i._)`require("ajv-formats/dist/formats").${p}`);for(const _ of f)u.addFormat(_,c[_])}t.exports=e=s,Object.defineProperty(e,"__esModule",{value:!0}),e.default=s}});function ac(){return AT||(AT=!0,typeof Object.create=="function"?Ip=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Ip=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),Ip}var Ip,AT,xR=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CkFCi-G1.js"(){Te(),Ip={},AT=!1}});function rn(){rn.init.call(this)}function Ay(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function tU(e){return e._maxListeners===void 0?rn.defaultMaxListeners:e._maxListeners}function h2(e,t,r,n){var i,o,a,s;if(Ay(r),(o=e._events)===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),a===void 0)a=o[t]=r,++e._eventsCount;else if(typeof a=="function"?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=tU(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function HZ(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p2(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=HZ.bind(n);return i.listener=r,n.wrapFn=i,i}function m2(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?function(o){for(var a=new Array(o.length),s=0;s<a.length;++s)a[s]=o[s].listener||o[s];return a}(i):rU(i,i.length)}function g2(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function rU(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}var y2,w2,$c,xS,PS,OS,Yi,H_=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-tHuMsdT0.js"(){Te(),$c=typeof Reflect=="object"?Reflect:null,xS=$c&&typeof $c.apply=="function"?$c.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},w2=$c&&typeof $c.ownKeys=="function"?$c.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},PS=Number.isNaN||function(e){return e!=e},y2=rn,rn.EventEmitter=rn,rn.prototype._events=void 0,rn.prototype._eventsCount=0,rn.prototype._maxListeners=void 0,OS=10,Object.defineProperty(rn,"defaultMaxListeners",{enumerable:!0,get:function(){return OS},set:function(e){if(typeof e!="number"||e<0||PS(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");OS=e}}),rn.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},rn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||PS(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},rn.prototype.getMaxListeners=function(){return tU(this)},rn.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(s===void 0)return!1;if(typeof s=="function")xS(s,this,t);else{var l=s.length,u=rU(s,l);for(r=0;r<l;++r)xS(u[r],this,t)}return!0},rn.prototype.addListener=function(e,t){return h2(this,e,t,!1)},rn.prototype.on=rn.prototype.addListener,rn.prototype.prependListener=function(e,t){return h2(this,e,t,!0)},rn.prototype.once=function(e,t){return Ay(t),this.on(e,p2(this,e,t)),this},rn.prototype.prependOnceListener=function(e,t){return Ay(t),this.prependListener(e,p2(this,e,t)),this},rn.prototype.removeListener=function(e,t){var r,n,i,o,a;if(Ay(t),(n=this._events)===void 0)return this;if((r=n[e])===void 0)return this;if(r===t||r.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():function(s,l){for(;l+1<s.length;l++)s[l]=s[l+1];s.pop()}(r,i),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this},rn.prototype.off=rn.prototype.removeListener,rn.prototype.removeAllListeners=function(e){var t,r,n;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i,o=Object.keys(r);for(n=0;n<o.length;++n)(i=o[n])!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=r[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},rn.prototype.listeners=function(e){return m2(this,e,!0)},rn.prototype.rawListeners=function(e){return m2(this,e,!1)},rn.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):g2.call(e,t)},rn.prototype.listenerCount=g2,rn.prototype.eventNames=function(){return this._eventsCount>0?w2(this._events):[]},Yi=y2,Yi.EventEmitter,Yi.defaultMaxListeners,Yi.init,Yi.listenerCount,Yi.EventEmitter,Yi.defaultMaxListeners,Yi.init,Yi.listenerCount}}),WZ=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtDiafJB.js"(){Te(),H_(),Yi.once=function(e,t){return new Promise((r,n)=>{function i(...a){o!==void 0&&e.removeListener("error",o),r(a)}let o;t!=="error"&&(o=a=>{e.removeListener(name,i),n(a)},e.once("error",o)),e.once(t,i)})},Yi.on=function(e,t){const r=[],n=[];let i=null,o=!1;const a={async next(){const u=r.shift();if(u)return createIterResult(u,!1);if(i){const f=Promise.reject(i);return i=null,f}return o?createIterResult(void 0,!0):new Promise((f,c)=>n.push({resolve:f,reject:c}))},async return(){e.removeListener(t,s),e.removeListener("error",l),o=!0;for(const u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,e.removeListener(t,s),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,s),e.on("error",l),a;function s(...u){const f=n.shift();f?f.resolve(createIterResult(u,!1)):r.push(u)}function l(u){o=!0;const f=n.shift();f?f.reject(u):i=u,a.return()}}}});function xT(){throw new Error("setTimeout has not been defined")}function PT(){throw new Error("clearTimeout has not been defined")}function nU(e){if(ml===setTimeout)return setTimeout(e,0);if((ml===xT||!ml)&&setTimeout)return ml=setTimeout,setTimeout(e,0);try{return ml(e,0)}catch{try{return ml.call(null,e,0)}catch{return ml.call(this||hf,e,0)}}}function GZ(){pf&&rf&&(pf=!1,rf.length?Bs=rf.concat(Bs):lm=-1,Bs.length&&iU())}function iU(){if(!pf){var e=nU(GZ);pf=!0;for(var t=Bs.length;t;){for(rf=Bs,Bs=[];++lm<t;)rf&&rf[lm].run();lm=-1,t=Bs.length}rf=null,pf=!1,function(r){if(gl===clearTimeout)return clearTimeout(r);if((gl===PT||!gl)&&clearTimeout)return gl=clearTimeout,clearTimeout(r);try{gl(r)}catch{try{return gl.call(null,r)}catch{return gl.call(this||hf,r)}}}(e)}}function b2(e,t){(this||hf).fun=e,(this||hf).array=t}function cl(){}function Tc(e){return e.call.bind(e)}function yg(e,t){if(typeof e!="object")return!1;try{return t(e),!0}catch{return!1}}function _2(e){return no&&Oo?b(e)!==void 0:oU(e)||aU(e)||sU(e)||lU(e)||uU(e)||cU(e)||fU(e)||dU(e)||hU(e)||pU(e)||mU(e)}function oU(e){return no&&Oo?b(e)==="Uint8Array":Pn(e)==="[object Uint8Array]"||wU(e)&&e.buffer!==void 0}function aU(e){return no&&Oo?b(e)==="Uint8ClampedArray":Pn(e)==="[object Uint8ClampedArray]"}function sU(e){return no&&Oo?b(e)==="Uint16Array":Pn(e)==="[object Uint16Array]"}function lU(e){return no&&Oo?b(e)==="Uint32Array":Pn(e)==="[object Uint32Array]"}function uU(e){return no&&Oo?b(e)==="Int8Array":Pn(e)==="[object Int8Array]"}function cU(e){return no&&Oo?b(e)==="Int16Array":Pn(e)==="[object Int16Array]"}function fU(e){return no&&Oo?b(e)==="Int32Array":Pn(e)==="[object Int32Array]"}function dU(e){return no&&Oo?b(e)==="Float32Array":Pn(e)==="[object Float32Array]"}function hU(e){return no&&Oo?b(e)==="Float64Array":Pn(e)==="[object Float64Array]"}function pU(e){return no&&Oo?b(e)==="BigInt64Array":Pn(e)==="[object BigInt64Array]"}function mU(e){return no&&Oo?b(e)==="BigUint64Array":Pn(e)==="[object BigUint64Array]"}function Sv(e){return Pn(e)==="[object Map]"}function $v(e){return Pn(e)==="[object Set]"}function Tv(e){return Pn(e)==="[object WeakMap]"}function RS(e){return Pn(e)==="[object WeakSet]"}function $b(e){return Pn(e)==="[object ArrayBuffer]"}function E2(e){return typeof ArrayBuffer<"u"&&($b.working?$b(e):e instanceof ArrayBuffer)}function Tb(e){return Pn(e)==="[object DataView]"}function S2(e){return typeof DataView<"u"&&(Tb.working?Tb(e):e instanceof DataView)}function Ab(e){return Pn(e)==="[object SharedArrayBuffer]"}function $2(e){return typeof SharedArrayBuffer<"u"&&(Ab.working?Ab(e):e instanceof SharedArrayBuffer)}function T2(e){return yg(e,bU)}function A2(e){return yg(e,_U)}function x2(e){return yg(e,EU)}function P2(e){return OT&&yg(e,w)}function O2(e){return Py&&yg(e,v2)}function Pu(e,t){var r={seen:[],stylize:JZ};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),PR(t)?r.showHidden=t:t&&ct._extend(r,t),tf(r.showHidden)&&(r.showHidden=!1),tf(r.depth)&&(r.depth=2),tf(r.colors)&&(r.colors=!1),tf(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=KZ),xb(r,e,r.depth)}function KZ(e,t){var r=Pu.styles[t];return r?"\x1B["+Pu.colors[r][0]+"m"+e+"\x1B["+Pu.colors[r][1]+"m":e}function JZ(e,t){return e}function xb(e,t,r){if(e.customInspect&&t&&xy(t.inspect)&&t.inspect!==ct.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return Ob(n)||(n=xb(e,n,r)),n}var i=function(p,m){if(tf(m))return p.stylize("undefined","undefined");if(Ob(m)){var g="'"+JSON.stringify(m).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return p.stylize(g,"string")}if(vU(m))return p.stylize(""+m,"number");if(PR(m))return p.stylize(""+m,"boolean");if(Pb(m))return p.stylize("null","null")}(e,t);if(i)return i;var o=Object.keys(t),a=function(p){var m={};return p.forEach(function(g,_){m[g]=!0}),m}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),sm(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return IS(t);if(o.length===0){if(xy(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(am(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Rb(t))return e.stylize(Date.prototype.toString.call(t),"date");if(sm(t))return IS(t)}var l,u="",f=!1,c=["{","}"];return gU(t)&&(f=!0,c=["[","]"]),xy(t)&&(u=" [Function"+(t.name?": "+t.name:"")+"]"),am(t)&&(u=" "+RegExp.prototype.toString.call(t)),Rb(t)&&(u=" "+Date.prototype.toUTCString.call(t)),sm(t)&&(u=" "+IS(t)),o.length!==0||f&&t.length!=0?r<0?am(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=f?function(p,m,g,_,v){for(var h=[],E=0,y=m.length;E<y;++E)yU(m,String(E))?h.push(NS(p,m,g,_,String(E),!0)):h.push("");return v.forEach(function(S){S.match(/^\d+$/)||h.push(NS(p,m,g,_,S,!0))}),h}(e,t,r,a,o):o.map(function(p){return NS(e,t,r,a,p,f)}),e.seen.pop(),function(p,m,g){var _=0;return p.reduce(function(v,h){return _++,h.indexOf(`
`)>=0&&_++,v+h.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?g[0]+(m===""?"":m+`
 `)+" "+p.join(`,
  `)+" "+g[1]:g[0]+m+" "+p.join(", ")+" "+g[1]}(l,u,c)):c[0]+u+c[1]}function IS(e){return"["+Error.prototype.toString.call(e)+"]"}function NS(e,t,r,n,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),yU(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=Pb(r)?xb(e,l.value,null):xb(e,l.value,r-1)).indexOf(`
`)>-1&&(s=o?s.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):`
`+s.split(`
`).map(function(u){return"   "+u}).join(`
`)):s=e.stylize("[Circular]","special")),tf(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function gU(e){return Array.isArray(e)}function PR(e){return typeof e=="boolean"}function Pb(e){return e===null}function vU(e){return typeof e=="number"}function Ob(e){return typeof e=="string"}function tf(e){return e===void 0}function am(e){return nh(e)&&OR(e)==="[object RegExp]"}function nh(e){return typeof e=="object"&&e!==null}function Rb(e){return nh(e)&&OR(e)==="[object Date]"}function sm(e){return nh(e)&&(OR(e)==="[object Error]"||e instanceof Error)}function xy(e){return typeof e=="function"}function OR(e){return Object.prototype.toString.call(e)}function kS(e){return e<10?"0"+e.toString(10):e.toString(10)}function YZ(){var e=new Date,t=[kS(e.getHours()),kS(e.getMinutes()),kS(e.getSeconds())].join(":");return[e.getDate(),SU[e.getMonth()],t].join(" ")}function yU(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function XZ(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}var R2,ml,gl,hf,jn,rf,Bs,pf,lm,Tn,I2,Av,cp,CS,N2,k2,C2,j2,D2,jS,DS,MS,M2,L2,F2,LS,yr,wU,B2,U2,OT,Py,Oo,no,z2,Pn,bU,_U,EU,cd,ct,qa,FS,q2,fp,BS,xv,SU,au,wg=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-D3uu3VYh.js"(){if(Te(),hf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,jn=R2={},function(){try{ml=typeof setTimeout=="function"?setTimeout:xT}catch{ml=xT}try{gl=typeof clearTimeout=="function"?clearTimeout:PT}catch{gl=PT}}(),Bs=[],pf=!1,lm=-1,jn.nextTick=function(i){var o=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)o[a-1]=arguments[a];Bs.push(new b2(i,o)),Bs.length!==1||pf||nU(iU)},b2.prototype.run=function(){(this||hf).fun.apply(null,(this||hf).array)},jn.title="browser",jn.browser=!0,jn.env={},jn.argv=[],jn.version="",jn.versions={},jn.on=cl,jn.addListener=cl,jn.once=cl,jn.off=cl,jn.removeListener=cl,jn.removeAllListeners=cl,jn.emit=cl,jn.prependListener=cl,jn.prependOnceListener=cl,jn.listeners=function(i){return[]},jn.binding=function(i){throw new Error("process.binding is not supported")},jn.cwd=function(){return"/"},jn.chdir=function(i){throw new Error("process.chdir is not supported")},jn.umask=function(){return 0},Tn=R2,Tn.addListener,Tn.argv,Tn.binding,Tn.browser,Tn.chdir,Tn.cwd,Tn.emit,Tn.env,Tn.listeners,Tn.nextTick,Tn.off,Tn.on,Tn.once,Tn.prependListener,Tn.prependOnceListener,Tn.removeAllListeners,Tn.removeListener,Tn.title,Tn.umask,Tn.version,Tn.versions,I2=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Av=Object.prototype.toString,cp=function(i){return!(I2&&i&&typeof i=="object"&&Symbol.toStringTag in i)&&Av.call(i)==="[object Arguments]"},CS=function(i){return!!cp(i)||i!==null&&typeof i=="object"&&typeof i.length=="number"&&i.length>=0&&Av.call(i)!=="[object Array]"&&Av.call(i.callee)==="[object Function]"},N2=function(){return cp(arguments)}(),cp.isLegacyArguments=CS,k2=N2?cp:CS,C2=Object.prototype.toString,j2=Function.prototype.toString,D2=/^\s*(?:function)?\*/,jS=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",DS=Object.getPrototypeOf,MS=function(){if(!jS)return!1;try{return Function("return function*() {}")()}catch{}}(),M2=MS?DS(MS):{},L2=function(i){return typeof i=="function"&&(!!D2.test(j2.call(i))||(jS?DS(i)===M2:C2.call(i)==="[object GeneratorFunction]"))},F2=typeof Object.create=="function"?function(i,o){o&&(i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:function(i,o){if(o){i.super_=o;var a=function(){};a.prototype=o.prototype,i.prototype=new a,i.prototype.constructor=i}},LS=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"},yr={},wU=LS,B2=k2,U2=L2,OT=typeof BigInt<"u",Py=typeof Symbol<"u",Oo=Py&&Symbol.toStringTag!==void 0,no=typeof Uint8Array<"u",z2=typeof ArrayBuffer<"u",no&&Oo)var e=Object.getPrototypeOf(Uint8Array.prototype),t=Tc(Object.getOwnPropertyDescriptor(e,Symbol.toStringTag).get);if(Pn=Tc(Object.prototype.toString),bU=Tc(Number.prototype.valueOf),_U=Tc(String.prototype.valueOf),EU=Tc(Boolean.prototype.valueOf),OT)var r=Tc(BigInt.prototype.valueOf);if(Py)var n=Tc(Symbol.prototype.valueOf);yr.isArgumentsObject=B2,yr.isGeneratorFunction=U2,yr.isPromise=function(i){return typeof Promise<"u"&&i instanceof Promise||i!==null&&typeof i=="object"&&typeof i.then=="function"&&typeof i.catch=="function"},yr.isArrayBufferView=function(i){return z2&&ArrayBuffer.isView?ArrayBuffer.isView(i):_2(i)||S2(i)},yr.isTypedArray=_2,yr.isUint8Array=oU,yr.isUint8ClampedArray=aU,yr.isUint16Array=sU,yr.isUint32Array=lU,yr.isInt8Array=uU,yr.isInt16Array=cU,yr.isInt32Array=fU,yr.isFloat32Array=dU,yr.isFloat64Array=hU,yr.isBigInt64Array=pU,yr.isBigUint64Array=mU,Sv.working=typeof Map<"u"&&Sv(new Map),yr.isMap=function(i){return typeof Map<"u"&&(Sv.working?Sv(i):i instanceof Map)},$v.working=typeof Set<"u"&&$v(new Set),yr.isSet=function(i){return typeof Set<"u"&&($v.working?$v(i):i instanceof Set)},Tv.working=typeof WeakMap<"u"&&Tv(new WeakMap),yr.isWeakMap=function(i){return typeof WeakMap<"u"&&(Tv.working?Tv(i):i instanceof WeakMap)},RS.working=typeof WeakSet<"u"&&RS(new WeakSet),yr.isWeakSet=function(i){return RS(i)},$b.working=typeof ArrayBuffer<"u"&&$b(new ArrayBuffer),yr.isArrayBuffer=E2,Tb.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Tb(new DataView(new ArrayBuffer(1),0,1)),yr.isDataView=S2,Ab.working=typeof SharedArrayBuffer<"u"&&Ab(new SharedArrayBuffer),yr.isSharedArrayBuffer=$2,yr.isAsyncFunction=function(i){return Pn(i)==="[object AsyncFunction]"},yr.isMapIterator=function(i){return Pn(i)==="[object Map Iterator]"},yr.isSetIterator=function(i){return Pn(i)==="[object Set Iterator]"},yr.isGeneratorObject=function(i){return Pn(i)==="[object Generator]"},yr.isWebAssemblyCompiledModule=function(i){return Pn(i)==="[object WebAssembly.Module]"},yr.isNumberObject=T2,yr.isStringObject=A2,yr.isBooleanObject=x2,yr.isBigIntObject=P2,yr.isSymbolObject=O2,yr.isBoxedPrimitive=function(i){return T2(i)||A2(i)||x2(i)||P2(i)||O2(i)},yr.isAnyArrayBuffer=function(i){return no&&(E2(i)||$2(i))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(i){Object.defineProperty(yr,i,{enumerable:!1,value:function(){throw new Error(i+" is not supported in userland")}})}),cd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ct={},qa=Tn,FS=Object.getOwnPropertyDescriptors||function(i){for(var o=Object.keys(i),a={},s=0;s<o.length;s++)a[o[s]]=Object.getOwnPropertyDescriptor(i,o[s]);return a},q2=/%[sdj%]/g,ct.format=function(i){if(!Ob(i)){for(var o=[],a=0;a<arguments.length;a++)o.push(Pu(arguments[a]));return o.join(" ")}a=1;for(var s=arguments,l=s.length,u=String(i).replace(q2,function(c){if(c==="%%")return"%";if(a>=l)return c;switch(c){case"%s":return String(s[a++]);case"%d":return Number(s[a++]);case"%j":try{return JSON.stringify(s[a++])}catch{return"[Circular]"}default:return c}}),f=s[a];a<l;f=s[++a])Pb(f)||!nh(f)?u+=" "+f:u+=" "+Pu(f);return u},ct.deprecate=function(i,o){if(qa!==void 0&&qa.noDeprecation===!0)return i;if(qa===void 0)return function(){return ct.deprecate(i,o).apply(this||cd,arguments)};var a=!1;return function(){if(!a){if(qa.throwDeprecation)throw new Error(o);qa.traceDeprecation?console.trace(o):console.error(o),a=!0}return i.apply(this||cd,arguments)}},fp={},BS=/^$/,qa.env.NODE_DEBUG&&(xv=qa.env.NODE_DEBUG,xv=xv.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),BS=new RegExp("^"+xv+"$","i")),ct.debuglog=function(i){if(i=i.toUpperCase(),!fp[i])if(BS.test(i)){var o=qa.pid;fp[i]=function(){var a=ct.format.apply(ct,arguments);console.error("%s %d: %s",i,o,a)}}else fp[i]=function(){};return fp[i]},ct.inspect=Pu,Pu.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Pu.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},ct.types=yr,ct.isArray=gU,ct.isBoolean=PR,ct.isNull=Pb,ct.isNullOrUndefined=function(i){return i==null},ct.isNumber=vU,ct.isString=Ob,ct.isSymbol=function(i){return typeof i=="symbol"},ct.isUndefined=tf,ct.isRegExp=am,ct.types.isRegExp=am,ct.isObject=nh,ct.isDate=Rb,ct.types.isDate=Rb,ct.isError=sm,ct.types.isNativeError=sm,ct.isFunction=xy,ct.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},ct.isBuffer=LS,SU=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ct.log=function(){console.log("%s - %s",YZ(),ct.format.apply(ct,arguments))},ct.inherits=F2,ct._extend=function(i,o){if(!o||!nh(o))return i;for(var a=Object.keys(o),s=a.length;s--;)i[a[s]]=o[a[s]];return i},au=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0,ct.promisify=function(i){if(typeof i!="function")throw new TypeError('The "original" argument must be of type Function');if(au&&i[au]){var o;if(typeof(o=i[au])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(o,au,{value:o,enumerable:!1,writable:!1,configurable:!0}),o}function o(){for(var a,s,l=new Promise(function(c,p){a=c,s=p}),u=[],f=0;f<arguments.length;f++)u.push(arguments[f]);u.push(function(c,p){c?s(c):a(p)});try{i.apply(this||cd,u)}catch(c){s(c)}return l}return Object.setPrototypeOf(o,Object.getPrototypeOf(i)),au&&Object.defineProperty(o,au,{value:o,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(o,FS(i))},ct.promisify.custom=au,ct.callbackify=function(i){if(typeof i!="function")throw new TypeError('The "original" argument must be of type Function');function o(){for(var a=[],s=0;s<arguments.length;s++)a.push(arguments[s]);var l=a.pop();if(typeof l!="function")throw new TypeError("The last argument must be of type Function");var u=this||cd,f=function(){return l.apply(u,arguments)};i.apply(this||cd,a).then(function(c){qa.nextTick(f.bind(null,null,c))},function(c){qa.nextTick(XZ.bind(null,c,f))})}return Object.setPrototypeOf(o,Object.getPrototypeOf(i)),Object.defineProperties(o,FS(i)),o},ct._extend,ct.callbackify,ct.debuglog,ct.deprecate,ct.format,ct.inherits,ct.inspect,ct.isArray,ct.isBoolean,ct.isBuffer,ct.isDate,ct.isError,ct.isFunction,ct.isNull,ct.isNullOrUndefined,ct.isNumber,ct.isObject,ct.isPrimitive,ct.isRegExp,ct.isString,ct.isSymbol,ct.isUndefined,ct.log,ct.promisify,ct._extend,ct.callbackify,ct.debuglog,ct.deprecate,ct.format,ct.inherits,ct.inspect,ct.isArray,ct.isBoolean,ct.isBuffer,ct.isDate,ct.isError,ct.isFunction,ct.isNull,ct.isNullOrUndefined,ct.isNumber,ct.isObject,ct.isPrimitive,ct.isRegExp,ct.isString,ct.isSymbol,ct.isUndefined,ct.log,ct.promisify,ct.types}}),QZ=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CbQqNoLO.js"(){Te(),wg(),ct._extend,ct.callbackify,ct.debuglog,ct.deprecate,ct.format,ct.inherits,ct.inspect,ct.isArray,ct.isBoolean,ct.isBuffer,ct.isDate,ct.isError,ct.isFunction,ct.isNull,ct.isNullOrUndefined,ct.isNumber,ct.isObject,ct.isPrimitive,ct.isRegExp,ct.isString,ct.isSymbol,ct.isUndefined,ct.log,ct.promisify,ct.types,ct.TextEncoder=globalThis.TextEncoder,ct.TextDecoder=globalThis.TextDecoder}});function RR(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function ZZ(){!mf||!nf||(mf=!1,nf.length?Us=nf.concat(Us):um=-1,Us.length&&$U())}function $U(){if(!mf){var e=setTimeout(ZZ,0);mf=!0;for(var t=Us.length;t;){for(nf=Us,Us=[];++um<t;)nf&&nf[um].run();um=-1,t=Us.length}nf=null,mf=!1,clearTimeout(e)}}function e7(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Us.push(new TU(e,t)),Us.length===1&&!mf&&setTimeout($U,0)}function TU(e,t){this.fun=e,this.array=t}function ki(){}function t7(e){RR("_linkedBinding")}function r7(e){RR("dlopen")}function n7(){return[]}function i7(){return[]}function o7(e,t){if(!e)throw new Error(t||"assertion error")}function a7(){return!1}function s7(){return bl.now()/1e3}function US(e){var t=Math.floor((Date.now()-bl.now())*.001),r=bl.now()*.001,n=Math.floor(r)+t,i=Math.floor(r%1*1e9);return e&&(n=n-e[0],i=i-e[1],i<0&&(n--,i+=Oy)),[n,i]}function su(){return di}function l7(e){return[]}var Us,mf,nf,um,V2,H2,W2,G2,K2,J2,Y2,X2,Q2,Z2,ej,tj,rj,nj,ij,oj,aj,sj,lj,uj,cj,Pv,fj,dj,hj,pj,mj,gj,vj,yj,wj,bj,_j,Ej,Sj,$j,Tj,Aj,xj,Pj,Oj,Rj,Ij,Nj,kj,Cj,jj,bl,gf,Oy,Dj,Mj,Lj,Fj,Bj,Uj,zj,qj,Vj,Hj,Wj,di,bg=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DEMDiNwt.js"(){Te(),Us=[],mf=!1,um=-1,TU.prototype.run=function(){this.fun.apply(null,this.array)},V2="browser",H2="x64",W2="browser",G2={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},K2=["/usr/bin/node"],J2=[],Y2="v16.8.0",X2={},Q2=function(e,t){console.warn((t?t+": ":"")+e)},Z2=function(e){RR("binding")},ej=function(e){return 0},tj=function(){return"/"},rj=function(e){},nj={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},ij=ki,oj=[],aj={},sj=!1,lj={},uj=ki,cj=ki,Pv=function(){return{}},fj=Pv,dj=Pv,hj=ki,pj=ki,mj=ki,gj={},vj={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},yj=ki,wj=ki,bj=ki,_j=ki,Ej=ki,Sj=ki,$j=ki,Tj=void 0,Aj=void 0,xj=void 0,Pj=ki,Oj=2,Rj=1,Ij="/bin/usr/node",Nj=9229,kj="node",Cj=[],jj=ki,bl={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},bl.now===void 0&&(gf=Date.now(),bl.timing&&bl.timing.navigationStart&&(gf=bl.timing.navigationStart),bl.now=()=>Date.now()-gf),Oy=1e9,US.bigint=function(e){var t=US(e);return typeof BigInt>"u"?t[0]*Oy+t[1]:BigInt(t[0]*Oy)+BigInt(t[1])},Dj=10,Mj={},Lj=0,Fj=su,Bj=su,Uj=su,zj=su,qj=su,Vj=ki,Hj=su,Wj=su,di={version:Y2,versions:X2,arch:H2,platform:W2,release:nj,_rawDebug:ij,moduleLoadList:oj,binding:Z2,_linkedBinding:t7,_events:Mj,_eventsCount:Lj,_maxListeners:Dj,on:su,addListener:Fj,once:Bj,off:Uj,removeListener:zj,removeAllListeners:qj,emit:Vj,prependListener:Hj,prependOnceListener:Wj,listeners:l7,domain:aj,_exiting:sj,config:lj,dlopen:r7,uptime:s7,_getActiveRequests:n7,_getActiveHandles:i7,reallyExit:uj,_kill:cj,cpuUsage:Pv,resourceUsage:fj,memoryUsage:dj,kill:hj,exit:pj,openStdin:mj,allowedNodeEnvironmentFlags:gj,assert:o7,features:vj,_fatalExceptions:yj,setUncaughtExceptionCaptureCallback:wj,hasUncaughtExceptionCaptureCallback:a7,emitWarning:Q2,nextTick:e7,_tickCallback:bj,_debugProcess:_j,_debugEnd:Ej,_startProfilerIdleNotifier:Sj,_stopProfilerIdleNotifier:$j,stdout:Tj,stdin:xj,stderr:Aj,abort:Pj,umask:ej,chdir:rj,cwd:tj,env:G2,title:V2,argv:K2,execArgv:J2,pid:Oj,ppid:Rj,execPath:Ij,debugPort:Nj,hrtime:US,argv0:kj,_preload_modules:Cj,setSourceMapsEnabled:jj}}});function u7(){if(RT)return Ry;RT=!0,Ry=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function o(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this||Iy,arguments)}return o}function t(r){try{if(!Iy.localStorage)return!1}catch{return!1}var n=Iy.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Ry}var Ry,RT,Iy,c7=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-BsRZ0PEC.js"(){Te(),Ry={},RT=!1,Iy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global}});function f7(){if(IT)return Sd;IT=!0;var e=Io(),t=e.Buffer;function r(i,o){for(var a in i)o[a]=i[a]}t.from&&t.alloc&&t.allocUnsafe&&t.allocUnsafeSlow?Sd=e:(r(e,Sd),Sd.Buffer=n);function n(i,o,a){return t(i,o,a)}return n.prototype=Object.create(t.prototype),r(t,n),n.from=function(i,o,a){if(typeof i=="number")throw new TypeError("Argument must not be a number");return t(i,o,a)},n.alloc=function(i,o,a){if(typeof i!="number")throw new TypeError("Argument must be a number");var s=t(i);return o!==void 0?typeof a=="string"?s.fill(o,a):s.fill(o):s.fill(0),s},n.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return t(i)},n.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(i)},Sd}function d7(){if(NT)return Ny;NT=!0;var e=f7().Buffer,t=e.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(h){if(!h)return"utf8";for(var E;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(E)return;h=(""+h).toLowerCase(),E=!0}}function n(h){var E=r(h);if(typeof E!="string"&&(e.isEncoding===t||!t(h)))throw new Error("Unknown encoding: "+h);return E||h}Ny.StringDecoder=i;function i(h){this.encoding=n(h);var E;switch(this.encoding){case"utf16le":this.text=c,this.end=p,E=4;break;case"utf8":this.fillLast=l,E=4;break;case"base64":this.text=m,this.end=g,E=3;break;default:this.write=_,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(E)}i.prototype.write=function(h){if(h.length===0)return"";var E,y;if(this.lastNeed){if(E=this.fillLast(h),E===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<h.length?E?E+this.text(h,y):this.text(h,y):E||""},i.prototype.end=f,i.prototype.text=u,i.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function o(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function a(h,E,y){var S=E.length-1;if(S<y)return 0;var $=o(E[S]);return $>=0?($>0&&(h.lastNeed=$-1),$):--S<y||$===-2?0:($=o(E[S]),$>=0?($>0&&(h.lastNeed=$-2),$):--S<y||$===-2?0:($=o(E[S]),$>=0?($>0&&($===2?$=0:h.lastNeed=$-3),$):0))}function s(h,E,y){if((E[0]&192)!==128)return h.lastNeed=0,"";if(h.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return h.lastNeed=1,"";if(h.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return h.lastNeed=2,""}}function l(h){var E=this.lastTotal-this.lastNeed,y=s(this,h);if(y!==void 0)return y;if(this.lastNeed<=h.length)return h.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,E,0,h.length),this.lastNeed-=h.length}function u(h,E){var y=a(this,h,E);if(!this.lastNeed)return h.toString("utf8",E);this.lastTotal=y;var S=h.length-(y-this.lastNeed);return h.copy(this.lastChar,0,S),h.toString("utf8",E,S)}function f(h){var E=h&&h.length?this.write(h):"";return this.lastNeed?E+"":E}function c(h,E){if((h.length-E)%2===0){var y=h.toString("utf16le",E);if(y){var S=y.charCodeAt(y.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",E,h.length-1)}function p(h){var E=h&&h.length?this.write(h):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,y)}return E}function m(h,E){var y=(h.length-E)%3;return y===0?h.toString("base64",E):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",E,h.length-y))}function g(h){var E=h&&h.length?this.write(h):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function _(h){return h.toString(this.encoding)}function v(h){return h&&h.length?this.write(h):""}return Ny}var Sd,IT,Ny,NT,ih,AU=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js"(){Te(),B_(),Sd={},IT=!1,Ny={},NT=!1,ih=d7(),ih.StringDecoder,ih.StringDecoder}});function h7(){if(kT)return ky;kT=!0;var e=ky={},t,r;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=i}catch{r=i}})();function o(_){if(t===setTimeout)return setTimeout(_,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(_,0);try{return t(_,0)}catch{try{return t.call(null,_,0)}catch{return t.call(this||zc,_,0)}}}function a(_){if(r===clearTimeout)return clearTimeout(_);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(_);try{return r(_)}catch{try{return r.call(null,_)}catch{return r.call(this||zc,_)}}}var s=[],l=!1,u,f=-1;function c(){!l||!u||(l=!1,u.length?s=u.concat(s):f=-1,s.length&&p())}function p(){if(!l){var _=o(c);l=!0;for(var v=s.length;v;){for(u=s,s=[];++f<v;)u&&u[f].run();f=-1,v=s.length}u=null,l=!1,a(_)}}e.nextTick=function(_){var v=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)v[h-1]=arguments[h];s.push(new m(_,v)),s.length===1&&!l&&o(p)};function m(_,v){(this||zc).fun=_,(this||zc).array=v}m.prototype.run=function(){(this||zc).fun.apply(null,(this||zc).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function g(){}return e.on=g,e.addListener=g,e.once=g,e.off=g,e.removeListener=g,e.removeAllListeners=g,e.emit=g,e.prependListener=g,e.prependOnceListener=g,e.listeners=function(_){return[]},e.binding=function(_){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(_){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},ky}var ky,kT,zc,Hr,W_=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-b0rmRow7.js"(){Te(),ky={},kT=!1,zc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Hr=h7(),Hr.platform="browser",Hr.addListener,Hr.argv,Hr.binding,Hr.browser,Hr.chdir,Hr.cwd,Hr.emit,Hr.env,Hr.listeners,Hr.nextTick,Hr.off,Hr.on,Hr.once,Hr.prependListener,Hr.prependOnceListener,Hr.removeAllListeners,Hr.removeListener,Hr.title,Hr.umask,Hr.version,Hr.versions}});function p7(){if(CT)return Cy;CT=!0;var e=Hr;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,a){for(var s="",l=0,u=-1,f=0,c,p=0;p<=o.length;++p){if(p<o.length)c=o.charCodeAt(p);else{if(c===47)break;c=47}if(c===47){if(!(u===p-1||f===1))if(u!==p-1&&f===2){if(s.length<2||l!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){var m=s.lastIndexOf("/");if(m!==s.length-1){m===-1?(s="",l=0):(s=s.slice(0,m),l=s.length-1-s.lastIndexOf("/")),u=p,f=0;continue}}else if(s.length===2||s.length===1){s="",l=0,u=p,f=0;continue}}a&&(s.length>0?s+="/..":s="..",l=2)}else s.length>0?s+="/"+o.slice(u+1,p):s=o.slice(u+1,p),l=p-u-1;u=p,f=0}else c===46&&f!==-1?++f:f=-1}return s}function n(o,a){var s=a.dir||a.root,l=a.base||(a.name||"")+(a.ext||"");return s?s===a.root?s+l:s+o+l:l}var i={resolve:function(){for(var a="",s=!1,l,u=arguments.length-1;u>=-1&&!s;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(a=f+"/"+a,s=f.charCodeAt(0)===47)}return a=r(a,!s),s?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(t(a),a.length===0)return".";var s=a.charCodeAt(0)===47,l=a.charCodeAt(a.length-1)===47;return a=r(a,!s),a.length===0&&!s&&(a="."),a.length>0&&l&&(a+="/"),s?"/"+a:a},isAbsolute:function(a){return t(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,s=0;s<arguments.length;++s){var l=arguments[s];t(l),l.length>0&&(a===void 0?a=l:a+="/"+l)}return a===void 0?".":i.normalize(a)},relative:function(a,s){if(t(a),t(s),a===s||(a=i.resolve(a),s=i.resolve(s),a===s))return"";for(var l=1;l<a.length&&a.charCodeAt(l)===47;++l);for(var u=a.length,f=u-l,c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var p=s.length,m=p-c,g=f<m?f:m,_=-1,v=0;v<=g;++v){if(v===g){if(m>g){if(s.charCodeAt(c+v)===47)return s.slice(c+v+1);if(v===0)return s.slice(c+v)}else f>g&&(a.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var h=a.charCodeAt(l+v),E=s.charCodeAt(c+v);if(h!==E)break;h===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||a.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+s.slice(c+_):(c+=_,s.charCodeAt(c)===47&&++c,s.slice(c))},_makeLong:function(a){return a},dirname:function(a){if(t(a),a.length===0)return".";for(var s=a.charCodeAt(0),l=s===47,u=-1,f=!0,c=a.length-1;c>=1;--c)if(s=a.charCodeAt(c),s===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":a.slice(0,u)},basename:function(a,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');t(a);var l=0,u=-1,f=!0,c;if(s!==void 0&&s.length>0&&s.length<=a.length){if(s.length===a.length&&s===a)return"";var p=s.length-1,m=-1;for(c=a.length-1;c>=0;--c){var g=a.charCodeAt(c);if(g===47){if(!f){l=c+1;break}}else m===-1&&(f=!1,m=c+1),p>=0&&(g===s.charCodeAt(p)?--p===-1&&(u=c):(p=-1,u=m))}return l===u?u=m:u===-1&&(u=a.length),a.slice(l,u)}else{for(c=a.length-1;c>=0;--c)if(a.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":a.slice(l,u)}},extname:function(a){t(a);for(var s=-1,l=0,u=-1,f=!0,c=0,p=a.length-1;p>=0;--p){var m=a.charCodeAt(p);if(m===47){if(!f){l=p+1;break}continue}u===-1&&(f=!1,u=p+1),m===46?s===-1?s=p:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||u===-1||c===0||c===1&&s===u-1&&s===l+1?"":a.slice(s,u)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return n("/",a)},parse:function(a){t(a);var s={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return s;var l=a.charCodeAt(0),u=l===47,f;u?(s.root="/",f=1):f=0;for(var c=-1,p=0,m=-1,g=!0,_=a.length-1,v=0;_>=f;--_){if(l=a.charCodeAt(_),l===47){if(!g){p=_+1;break}continue}m===-1&&(g=!1,m=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||m===-1||v===0||v===1&&c===m-1&&c===p+1?m!==-1&&(p===0&&u?s.base=s.name=a.slice(1,m):s.base=s.name=a.slice(p,m)):(p===0&&u?(s.name=a.slice(1,c),s.base=a.slice(1,m)):(s.name=a.slice(p,c),s.base=a.slice(p,m)),s.ext=a.slice(c,m)),p>0?s.dir=a.slice(0,p-1):u&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Cy=i,Cy}function Ac(e){throw new RangeError(PU[e])}function Gj(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]);const i=function(o,a){const s=[];let l=o.length;for(;l--;)s[l]=a(o[l]);return s}((e=e.replace(xU,".")).split("."),t).join(".");return n+i}function Kj(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=e.charCodeAt(r++);(64512&o)==56320?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}function m7(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function fa(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function dp(e,t,r){if(e&&Ga.isObject(e)&&e instanceof fa)return e;var n=new fa;return n.parse(e,t,r),n}function g7(){if(DT)return jy;DT=!0;var e=Tn;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,a){for(var s="",l=0,u=-1,f=0,c,p=0;p<=o.length;++p){if(p<o.length)c=o.charCodeAt(p);else{if(c===47)break;c=47}if(c===47){if(!(u===p-1||f===1))if(u!==p-1&&f===2){if(s.length<2||l!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){var m=s.lastIndexOf("/");if(m!==s.length-1){m===-1?(s="",l=0):(s=s.slice(0,m),l=s.length-1-s.lastIndexOf("/")),u=p,f=0;continue}}else if(s.length===2||s.length===1){s="",l=0,u=p,f=0;continue}}a&&(s.length>0?s+="/..":s="..",l=2)}else s.length>0?s+="/"+o.slice(u+1,p):s=o.slice(u+1,p),l=p-u-1;u=p,f=0}else c===46&&f!==-1?++f:f=-1}return s}function n(o,a){var s=a.dir||a.root,l=a.base||(a.name||"")+(a.ext||"");return s?s===a.root?s+l:s+o+l:l}var i={resolve:function(){for(var a="",s=!1,l,u=arguments.length-1;u>=-1&&!s;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(a=f+"/"+a,s=f.charCodeAt(0)===47)}return a=r(a,!s),s?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(t(a),a.length===0)return".";var s=a.charCodeAt(0)===47,l=a.charCodeAt(a.length-1)===47;return a=r(a,!s),a.length===0&&!s&&(a="."),a.length>0&&l&&(a+="/"),s?"/"+a:a},isAbsolute:function(a){return t(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,s=0;s<arguments.length;++s){var l=arguments[s];t(l),l.length>0&&(a===void 0?a=l:a+="/"+l)}return a===void 0?".":i.normalize(a)},relative:function(a,s){if(t(a),t(s),a===s||(a=i.resolve(a),s=i.resolve(s),a===s))return"";for(var l=1;l<a.length&&a.charCodeAt(l)===47;++l);for(var u=a.length,f=u-l,c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var p=s.length,m=p-c,g=f<m?f:m,_=-1,v=0;v<=g;++v){if(v===g){if(m>g){if(s.charCodeAt(c+v)===47)return s.slice(c+v+1);if(v===0)return s.slice(c+v)}else f>g&&(a.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var h=a.charCodeAt(l+v),E=s.charCodeAt(c+v);if(h!==E)break;h===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||a.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+s.slice(c+_):(c+=_,s.charCodeAt(c)===47&&++c,s.slice(c))},_makeLong:function(a){return a},dirname:function(a){if(t(a),a.length===0)return".";for(var s=a.charCodeAt(0),l=s===47,u=-1,f=!0,c=a.length-1;c>=1;--c)if(s=a.charCodeAt(c),s===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":a.slice(0,u)},basename:function(a,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');t(a);var l=0,u=-1,f=!0,c;if(s!==void 0&&s.length>0&&s.length<=a.length){if(s.length===a.length&&s===a)return"";var p=s.length-1,m=-1;for(c=a.length-1;c>=0;--c){var g=a.charCodeAt(c);if(g===47){if(!f){l=c+1;break}}else m===-1&&(f=!1,m=c+1),p>=0&&(g===s.charCodeAt(p)?--p===-1&&(u=c):(p=-1,u=m))}return l===u?u=m:u===-1&&(u=a.length),a.slice(l,u)}else{for(c=a.length-1;c>=0;--c)if(a.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":a.slice(l,u)}},extname:function(a){t(a);for(var s=-1,l=0,u=-1,f=!0,c=0,p=a.length-1;p>=0;--p){var m=a.charCodeAt(p);if(m===47){if(!f){l=p+1;break}continue}u===-1&&(f=!1,u=p+1),m===46?s===-1?s=p:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||u===-1||c===0||c===1&&s===u-1&&s===l+1?"":a.slice(s,u)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return n("/",a)},parse:function(a){t(a);var s={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return s;var l=a.charCodeAt(0),u=l===47,f;u?(s.root="/",f=1):f=0;for(var c=-1,p=0,m=-1,g=!0,_=a.length-1,v=0;_>=f;--_){if(l=a.charCodeAt(_),l===47){if(!g){p=_+1;break}continue}m===-1&&(g=!1,m=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||m===-1||v===0||v===1&&c===m-1&&c===p+1?m!==-1&&(p===0&&u?s.base=s.name=a.slice(1,m):s.base=s.name=a.slice(p,m)):(p===0&&u?(s.name=a.slice(1,c),s.base=a.slice(1,m)):(s.name=a.slice(p,c),s.base=a.slice(p,m)),s.ext=a.slice(c,m)),p>0?s.dir=a.slice(0,p-1):u&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,jy=i,jy}function v7(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Ib?y7(e):w7(e)}function y7(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(kU,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<IU||n>NU||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function w7(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function b7(e){let t=MT.resolve(e);const r=e.charCodeAt(e.length-1);(r===RU||Ib&&r===OU)&&t[t.length-1]!==MT.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(CU,"%25")),!Ib&&t.includes("\\")&&(t=t.replace(jU,"%5C")),t.includes(`
`)&&(t=t.replace(DU,"%0A")),t.includes("\r")&&(t=t.replace(MU,"%0D")),t.includes("	")&&(t=t.replace(LU,"%09")),n.pathname=t,n}function _7(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Nb?E7(e):S7(e)}function E7(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(qU,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<UU||n>zU||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function S7(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function $7(e){let t=jT.resolve(e);const r=e.charCodeAt(e.length-1);(r===BU||Nb&&r===FU)&&t[t.length-1]!==jT.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(VU,"%25")),!Nb&&t.includes("\\")&&(t=t.replace(HU,"%5C")),t.includes(`
`)&&(t=t.replace(WU,"%0A")),t.includes("\r")&&(t=t.replace(GU,"%0D")),t.includes("	")&&(t=t.replace(KU,"%09")),n.pathname=t,n}var Cy,CT,jT,xc,Jj,Yj,xU,PU,Va,Ov,zS,qS,VS,HS,Xj,Qj,fd,Zj,Ss,Jr,eD,Ga,tD,rD,nD,iD,Rv,WS,GS,KS,oD,aD,Iv,Pc,Nv,jy,DT,MT,sD,OU,RU,IU,NU,Ib,kU,CU,jU,DU,MU,LU,lD,FU,BU,UU,zU,Nb,qU,VU,HU,WU,GU,KU,JU=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DHWh-hmB.js"(){Te(),wg(),W_(),Cy={},CT=!1,jT=p7(),xc=2147483647,Jj=/^xn--/,Yj=/[^\0-\x7E]/,xU=/[\x2E\u3002\uFF0E\uFF61]/g,PU={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Va=Math.floor,Ov=String.fromCharCode,zS=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},qS=function(e,t,r){let n=0;for(e=r?Va(e/700):e>>1,e+=Va(e/t);e>455;n+=36)e=Va(e/35);return Va(n+36*e/(e+38))},VS=function(e){const t=[],r=e.length;let n=0,i=128,o=72,a=e.lastIndexOf("-");a<0&&(a=0);for(let l=0;l<a;++l)e.charCodeAt(l)>=128&&Ac("not-basic"),t.push(e.charCodeAt(l));for(let l=a>0?a+1:0;l<r;){let u=n;for(let c=1,p=36;;p+=36){l>=r&&Ac("invalid-input");const m=(s=e.charCodeAt(l++))-48<10?s-22:s-65<26?s-65:s-97<26?s-97:36;(m>=36||m>Va((xc-n)/c))&&Ac("overflow"),n+=m*c;const g=p<=o?1:p>=o+26?26:p-o;if(m<g)break;const _=36-g;c>Va(xc/_)&&Ac("overflow"),c*=_}const f=t.length+1;o=qS(n-u,f,u==0),Va(n/f)>xc-i&&Ac("overflow"),i+=Va(n/f),n%=f,t.splice(n++,0,i)}var s;return String.fromCodePoint(...t)},HS=function(e){const t=[];let r=(e=Kj(e)).length,n=128,i=0,o=72;for(const l of e)l<128&&t.push(Ov(l));let a=t.length,s=a;for(a&&t.push("-");s<r;){let l=xc;for(const f of e)f>=n&&f<l&&(l=f);const u=s+1;l-n>Va((xc-i)/u)&&Ac("overflow"),i+=(l-n)*u,n=l;for(const f of e)if(f<n&&++i>xc&&Ac("overflow"),f==n){let c=i;for(let p=36;;p+=36){const m=p<=o?1:p>=o+26?26:p-o;if(c<m)break;const g=c-m,_=36-m;t.push(Ov(zS(m+g%_,0))),c=Va(g/_)}t.push(Ov(zS(c,0))),o=qS(i,u,s==a),i=0,++s}++i,++n}return t.join("")},Xj={version:"2.1.0",ucs2:{decode:Kj,encode:e=>String.fromCodePoint(...e)},decode:VS,encode:HS,toASCII:function(e){return Gj(e,function(t){return Yj.test(t)?"xn--"+HS(t):t})},toUnicode:function(e){return Gj(e,function(t){return Jj.test(t)?VS(t.slice(4).toLowerCase()):t})}},Qj=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var a=1e3;n&&typeof n.maxKeys=="number"&&(a=n.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var l=0;l<s;++l){var u,f,c,p,m=e[l].replace(o,"%20"),g=m.indexOf(r);g>=0?(u=m.substr(0,g),f=m.substr(g+1)):(u=m,f=""),c=decodeURIComponent(u),p=decodeURIComponent(f),m7(i,c)?Array.isArray(i[c])?i[c].push(p):i[c]=[i[c],p]:i[c]=p}return i},fd=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Zj=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(fd(i))+r;return Array.isArray(e[i])?e[i].map(function(a){return o+encodeURIComponent(fd(a))}).join(t):o+encodeURIComponent(fd(e[i]))}).join(t):n?encodeURIComponent(fd(n))+r+encodeURIComponent(fd(e)):""},Ss={},Ss.decode=Ss.parse=Qj,Ss.encode=Ss.stringify=Zj,Ss.decode,Ss.encode,Ss.parse,Ss.stringify,Jr={},eD=Xj,Ga={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Jr.parse=dp,Jr.resolve=function(e,t){return dp(e,!1,!0).resolve(t)},Jr.resolveObject=function(e,t){return e?dp(e,!1,!0).resolveObject(t):t},Jr.format=function(e){return Ga.isString(e)&&(e=dp(e)),e instanceof fa?e.format():fa.prototype.format.call(e)},Jr.Url=fa,tD=/^([a-z0-9.+-]+:)/i,rD=/:[0-9]*$/,nD=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,iD=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Rv=["'"].concat(iD),WS=["%","/","?",";","#"].concat(Rv),GS=["/","?","#"],KS=/^[+a-z0-9A-Z_-]{0,63}$/,oD=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,aD={javascript:!0,"javascript:":!0},Iv={javascript:!0,"javascript:":!0},Pc={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Nv=Ss,fa.prototype.parse=function(e,t,r){if(!Ga.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var a=e=o.join(i);if(a=a.trim(),!r&&e.split("#").length===1){var s=nD.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?Nv.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=tD.exec(a);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,a=a.substr(l.length)}if(r||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=a.substr(0,2)==="//";!f||l&&Iv[l]||(a=a.substr(2),this.slashes=!0)}if(!Iv[l]&&(f||l&&!Pc[l])){for(var c,p,m=-1,g=0;g<GS.length;g++)(_=a.indexOf(GS[g]))!==-1&&(m===-1||_<m)&&(m=_);for((p=m===-1?a.lastIndexOf("@"):a.lastIndexOf("@",m))!==-1&&(c=a.slice(0,p),a=a.slice(p+1),this.auth=decodeURIComponent(c)),m=-1,g=0;g<WS.length;g++){var _;(_=a.indexOf(WS[g]))!==-1&&(m===-1||_<m)&&(m=_)}m===-1&&(m=a.length),this.host=a.slice(0,m),a=a.slice(m),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var h=this.hostname.split(/\./),E=(g=0,h.length);g<E;g++){var y=h[g];if(y&&!y.match(KS)){for(var S="",$=0,T=y.length;$<T;$++)y.charCodeAt($)>127?S+="x":S+=y[$];if(!S.match(KS)){var d=h.slice(0,g),A=h.slice(g+1),x=y.match(oD);x&&(d.push(x[1]),A.unshift(x[2])),A.length&&(a="/"+A.join(".")+a),this.hostname=d.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=eD.toASCII(this.hostname));var P=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+P,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!aD[u])for(g=0,E=Rv.length;g<E;g++){var F=Rv[g];if(a.indexOf(F)!==-1){var V=encodeURIComponent(F);V===F&&(V=escape(F)),a=a.split(F).join(V)}}var X=a.indexOf("#");X!==-1&&(this.hash=a.substr(X),a=a.slice(0,X));var H=a.indexOf("?");if(H!==-1?(this.search=a.substr(H),this.query=a.substr(H+1),t&&(this.query=Nv.parse(this.query)),a=a.slice(0,H)):t&&(this.search="",this.query={}),a&&(this.pathname=a),Pc[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var Z=this.search||"";this.path=P+Z}return this.href=this.format(),this},fa.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Ga.isObject(this.query)&&Object.keys(this.query).length&&(o=Nv.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Pc[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),t+i+(r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}))+(a=a.replace("#","%23"))+n},fa.prototype.resolve=function(e){return this.resolveObject(dp(e,!1,!0)).format()},fa.prototype.resolveObject=function(e){if(Ga.isString(e)){var t=new fa;t.parse(e,!1,!0),e=t}for(var r=new fa,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var l=a[s];l!=="protocol"&&(r[l]=e[l])}return Pc[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Pc[e.protocol]){for(var u=Object.keys(e),f=0;f<u.length;f++){var c=u[f];r[c]=e[c]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||Iv[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),p[0]!==""&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",v=e.host||e.pathname&&e.pathname.charAt(0)==="/",h=v||_||r.host&&e.pathname,E=h,y=r.pathname&&r.pathname.split("/")||[],S=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!Pc[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(p[0]===""?p[0]=e.host:p.unshift(e.host)),e.host=null),h=h&&(p[0]===""||y[0]==="")),v)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,y=p;else if(p.length)y||(y=[]),y.pop(),y=y.concat(p),r.search=e.search,r.query=e.query;else if(!Ga.isNullOrUndefined(e.search))return S&&(r.hostname=r.host=y.shift(),(x=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=x.shift(),r.host=r.hostname=x.shift())),r.search=e.search,r.query=e.query,Ga.isNull(r.pathname)&&Ga.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var $=y.slice(-1)[0],T=(r.host||e.host||y.length>1)&&($==="."||$==="..")||$==="",d=0,A=y.length;A>=0;A--)($=y[A])==="."?y.splice(A,1):$===".."?(y.splice(A,1),d++):d&&(y.splice(A,1),d--);if(!h&&!E)for(;d--;d)y.unshift("..");!h||y[0]===""||y[0]&&y[0].charAt(0)==="/"||y.unshift(""),T&&y.join("/").substr(-1)!=="/"&&y.push("");var x,P=y[0]===""||y[0]&&y[0].charAt(0)==="/";return S&&(r.hostname=r.host=P?"":y.length?y.shift():"",(x=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=x.shift(),r.host=r.hostname=x.shift())),(h=h||r.host&&y.length)&&!P&&y.unshift(""),y.length?r.pathname=y.join("/"):(r.pathname=null,r.path=null),Ga.isNull(r.pathname)&&Ga.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},fa.prototype.parseHost=function(){var e=this.host,t=rD.exec(e);t&&((t=t[0])!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},Jr.Url,Jr.format,Jr.resolve,Jr.resolveObject,jy={},DT=!1,MT=g7(),sD=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Jr.URL=typeof URL<"u"?URL:null,Jr.pathToFileURL=b7,Jr.fileURLToPath=v7,Jr.Url,Jr.format,Jr.resolve,Jr.resolveObject,Jr.URL,OU=92,RU=47,IU=97,NU=122,Ib=sD==="win32",kU=/\//g,CU=/%/g,jU=/\\/g,DU=/\n/g,MU=/\r/g,LU=/\t/g,lD=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Jr.URL=typeof URL<"u"?URL:null,Jr.pathToFileURL=$7,Jr.fileURLToPath=_7,Jr.Url,Jr.format,Jr.resolve,Jr.resolveObject,Jr.parse,Jr.URL,FU=92,BU=47,UU=97,zU=122,Nb=lD==="win32",qU=/\//g,VU=/%/g,HU=/\\/g,WU=/\n/g,GU=/\r/g,KU=/\t/g}}),G_={};tl(G_,{Agent:()=>az,ClientRequest:()=>sz,IncomingMessage:()=>lz,METHODS:()=>uz,STATUS_CODES:()=>cz,default:()=>Ps,get:()=>fz,globalAgent:()=>dz,request:()=>hz});function YU(){if(LT)return mo;LT=!0,mo.fetch=n(gu.fetch)&&n(gu.ReadableStream),mo.writableStream=n(gu.WritableStream),mo.abortController=n(gu.AbortController);var e;function t(){if(e!==void 0)return e;if(gu.XMLHttpRequest){e=new gu.XMLHttpRequest;try{e.open("GET",gu.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function r(i){var o=t();if(!o)return!1;try{return o.responseType=i,o.responseType===i}catch{}return!1}mo.arraybuffer=mo.fetch||r("arraybuffer"),mo.msstream=!mo.fetch&&r("ms-stream"),mo.mozchunkedarraybuffer=!mo.fetch&&r("moz-chunked-arraybuffer"),mo.overrideMimeType=mo.fetch||(t()?n(t().overrideMimeType):!1);function n(i){return typeof i=="function"}return e=null,mo}function XU(){return FT||(FT=!0,Dy=Yi.EventEmitter),Dy}function T7(){if(BT)return My;BT=!0;function e(g,_){var v=Object.keys(g);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(g);_&&(h=h.filter(function(E){return Object.getOwnPropertyDescriptor(g,E).enumerable})),v.push.apply(v,h)}return v}function t(g){for(var _=1;_<arguments.length;_++){var v=arguments[_]!=null?arguments[_]:{};_%2?e(Object(v),!0).forEach(function(h){r(g,h,v[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):e(Object(v)).forEach(function(h){Object.defineProperty(g,h,Object.getOwnPropertyDescriptor(v,h))})}return g}function r(g,_,v){return _=a(_),_ in g?Object.defineProperty(g,_,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[_]=v,g}function n(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function i(g,_){for(var v=0;v<_.length;v++){var h=_[v];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(g,a(h.key),h)}}function o(g,_,v){return _&&i(g.prototype,_),Object.defineProperty(g,"prototype",{writable:!1}),g}function a(g){var _=s(g,"string");return typeof _=="symbol"?_:String(_)}function s(g,_){if(typeof g!="object"||g===null)return g;var v=g[Symbol.toPrimitive];if(v!==void 0){var h=v.call(g,_);if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}var l=Io(),u=l.Buffer,f=ct,c=f.inspect,p=c&&c.custom||"inspect";function m(g,_,v){u.prototype.copy.call(g,_,v)}return My=function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return o(g,[{key:"push",value:function(v){var h={data:v,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(v){var h={data:v,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var h=this.head,E=""+h.data;h=h.next;)E+=v+h.data;return E}},{key:"concat",value:function(v){if(this.length===0)return u.alloc(0);for(var h=u.allocUnsafe(v>>>0),E=this.head,y=0;E;)m(E.data,h,y),y+=E.data.length,E=E.next;return h}},{key:"consume",value:function(v,h){var E;return v<this.head.data.length?(E=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?E=this.shift():E=h?this._getString(v):this._getBuffer(v),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var h=this.head,E=1,y=h.data;for(v-=y.length;h=h.next;){var S=h.data,$=v>S.length?S.length:v;if($===S.length?y+=S:y+=S.slice(0,v),v-=$,v===0){$===S.length?(++E,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=S.slice($));break}++E}return this.length-=E,y}},{key:"_getBuffer",value:function(v){var h=u.allocUnsafe(v),E=this.head,y=1;for(E.data.copy(h),v-=E.data.length;E=E.next;){var S=E.data,$=v>S.length?S.length:v;if(S.copy(h,h.length-v,0,$),v-=$,v===0){$===S.length?(++y,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=S.slice($));break}++y}return this.length-=y,h}},{key:p,value:function(v,h){return c(this,t(t({},h),{},{depth:0,customInspect:!1}))}}]),g}(),My}function QU(){if(UT)return Ly;UT=!0;var e=di;function t(s,l){var u=this,f=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return f||c?(l?l(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,s)):e.nextTick(o,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(p){!l&&p?u._writableState?u._writableState.errorEmitted?e.nextTick(n,u):(u._writableState.errorEmitted=!0,e.nextTick(r,u,p)):e.nextTick(r,u,p):l?(e.nextTick(n,u),l(p)):e.nextTick(n,u)}),this)}function r(s,l){o(s,l),n(s)}function n(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(s,l){s.emit("error",l)}function a(s,l){var u=s._readableState,f=s._writableState;u&&u.autoDestroy||f&&f.autoDestroy?s.destroy(l):s.emit("error",l)}return Ly={destroy:t,undestroy:i,errorOrDestroy:a},Ly}function Lh(){if(zT)return Fy;zT=!0;const e={};function t(a,s,l){l||(l=Error);function u(c,p,m){return typeof s=="string"?s:s(c,p,m)}class f extends l{constructor(p,m,g){super(u(p,m,g))}}f.prototype.name=l.name,f.prototype.code=a,e[a]=f}function r(a,s){if(Array.isArray(a)){const l=a.length;return a=a.map(u=>String(u)),l>2?`one of ${s} ${a.slice(0,l-1).join(", ")}, or `+a[l-1]:l===2?`one of ${s} ${a[0]} or ${a[1]}`:`of ${s} ${a[0]}`}else return`of ${s} ${String(a)}`}function n(a,s,l){return a.substr(0,s.length)===s}function i(a,s,l){return(l===void 0||l>a.length)&&(l=a.length),a.substring(l-s.length,l)===s}function o(a,s,l){return typeof l!="number"&&(l=0),l+s.length>a.length?!1:a.indexOf(s,l)!==-1}return t("ERR_INVALID_OPT_VALUE",function(a,s){return'The value "'+s+'" is invalid for option "'+a+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(a,s,l){let u;typeof s=="string"&&n(s,"not ")?(u="must not be",s=s.replace(/^not /,"")):u="must be";let f;if(i(a," argument"))f=`The ${a} ${u} ${r(s,"type")}`;else{const c=o(a,".")?"property":"argument";f=`The "${a}" ${c} ${u} ${r(s,"type")}`}return f+=`. Received type ${typeof l}`,f},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Fy.codes=e,Fy}function ZU(){if(qT)return By;qT=!0;var e=Lh().codes.ERR_INVALID_OPT_VALUE;function t(n,i,o){return n.highWaterMark!=null?n.highWaterMark:i?n[o]:null}function r(n,i,o,a){var s=t(i,a,o);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var l=a?o:"highWaterMark";throw new e(l,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return By={getHighWaterMark:r},By}function ez(){if(VT)return Uy;VT=!0;var e=di;Uy=x;function t(J){var Y=this;this.next=null,this.entry=null,this.finish=function(){ne(Y,J)}}var r;x.WritableState=d;var n={deprecate:u7()},i=XU(),o=Io().Buffer,a=(typeof HT<"u"?HT:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(J){return o.from(J)}function l(J){return o.isBuffer(J)||J instanceof a}var u=QU(),f=ZU(),c=f.getHighWaterMark,p=Lh().codes,m=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,_=p.ERR_MULTIPLE_CALLBACK,v=p.ERR_STREAM_CANNOT_PIPE,h=p.ERR_STREAM_DESTROYED,E=p.ERR_STREAM_NULL_VALUES,y=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING,$=u.errorOrDestroy;ac()(x,i);function T(){}function d(J,Y,oe){r=r||$h(),J=J||{},typeof oe!="boolean"&&(oe=Y instanceof r),this.objectMode=!!J.objectMode,oe&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=c(this,J,"writableHighWaterMark",oe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var be=J.decodeStrings===!1;this.decodeStrings=!be,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Oe){fe(Y,Oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}d.prototype.getBuffer=function(){for(var Y=this.bufferedRequest,oe=[];Y;)oe.push(Y),Y=Y.next;return oe},function(){try{Object.defineProperty(d.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var A;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(Y){return A.call(this,Y)?!0:this!==x?!1:Y&&Y._writableState instanceof d}})):A=function(Y){return Y instanceof this};function x(J){r=r||$h();var Y=this instanceof r;if(!Y&&!A.call(x,this))return new x(J);this._writableState=new d(J,this,Y),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),i.call(this)}x.prototype.pipe=function(){$(this,new v)};function P(J,Y){var oe=new y;$(J,oe),e.nextTick(Y,oe)}function j(J,Y,oe,be){var Oe;return oe===null?Oe=new E:typeof oe!="string"&&!Y.objectMode&&(Oe=new m("chunk",["string","Buffer"],oe)),Oe?($(J,Oe),e.nextTick(be,Oe),!1):!0}x.prototype.write=function(J,Y,oe){var be=this._writableState,Oe=!1,R=!be.objectMode&&l(J);return R&&!o.isBuffer(J)&&(J=s(J)),typeof Y=="function"&&(oe=Y,Y=null),R?Y="buffer":Y||(Y=be.defaultEncoding),typeof oe!="function"&&(oe=T),be.ending?P(this,oe):(R||j(this,be,J,oe))&&(be.pendingcb++,Oe=V(this,be,R,J,Y,oe)),Oe},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&M(this,J))},x.prototype.setDefaultEncoding=function(Y){if(typeof Y=="string"&&(Y=Y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Y+"").toLowerCase())>-1))throw new S(Y);return this._writableState.defaultEncoding=Y,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function F(J,Y,oe){return!J.objectMode&&J.decodeStrings!==!1&&typeof Y=="string"&&(Y=o.from(Y,oe)),Y}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function V(J,Y,oe,be,Oe,R){if(!oe){var C=F(Y,be,Oe);be!==C&&(oe=!0,Oe="buffer",be=C)}var D=Y.objectMode?1:be.length;Y.length+=D;var G=Y.length<Y.highWaterMark;if(G||(Y.needDrain=!0),Y.writing||Y.corked){var ie=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:be,encoding:Oe,isBuf:oe,callback:R,next:null},ie?ie.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else X(J,Y,!1,D,be,Oe,R);return G}function X(J,Y,oe,be,Oe,R,C){Y.writelen=be,Y.writecb=C,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new h("write")):oe?J._writev(Oe,Y.onwrite):J._write(Oe,R,Y.onwrite),Y.sync=!1}function H(J,Y,oe,be,Oe){--Y.pendingcb,oe?(e.nextTick(Oe,be),e.nextTick(N,J,Y),J._writableState.errorEmitted=!0,$(J,be)):(Oe(be),J._writableState.errorEmitted=!0,$(J,be),N(J,Y))}function Z(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function fe(J,Y){var oe=J._writableState,be=oe.sync,Oe=oe.writecb;if(typeof Oe!="function")throw new _;if(Z(oe),Y)H(J,oe,be,Y,Oe);else{var R=B(oe)||J.destroyed;!R&&!oe.corked&&!oe.bufferProcessing&&oe.bufferedRequest&&M(J,oe),be?e.nextTick(ee,J,oe,R,Oe):ee(J,oe,R,Oe)}}function ee(J,Y,oe,be){oe||ae(J,Y),Y.pendingcb--,be(),N(J,Y)}function ae(J,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,J.emit("drain"))}function M(J,Y){Y.bufferProcessing=!0;var oe=Y.bufferedRequest;if(J._writev&&oe&&oe.next){var be=Y.bufferedRequestCount,Oe=new Array(be),R=Y.corkedRequestsFree;R.entry=oe;for(var C=0,D=!0;oe;)Oe[C]=oe,oe.isBuf||(D=!1),oe=oe.next,C+=1;Oe.allBuffers=D,X(J,Y,!0,Y.length,Oe,"",R.finish),Y.pendingcb++,Y.lastBufferedRequest=null,R.next?(Y.corkedRequestsFree=R.next,R.next=null):Y.corkedRequestsFree=new t(Y),Y.bufferedRequestCount=0}else{for(;oe;){var G=oe.chunk,ie=oe.encoding,ue=oe.callback,de=Y.objectMode?1:G.length;if(X(J,Y,!1,de,G,ie,ue),oe=oe.next,Y.bufferedRequestCount--,Y.writing)break}oe===null&&(Y.lastBufferedRequest=null)}Y.bufferedRequest=oe,Y.bufferProcessing=!1}x.prototype._write=function(J,Y,oe){oe(new g("_write()"))},x.prototype._writev=null,x.prototype.end=function(J,Y,oe){var be=this._writableState;return typeof J=="function"?(oe=J,J=null,Y=null):typeof Y=="function"&&(oe=Y,Y=null),J!=null&&this.write(J,Y),be.corked&&(be.corked=1,this.uncork()),be.ending||q(this,be,oe),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function K(J,Y){J._final(function(oe){Y.pendingcb--,oe&&$(J,oe),Y.prefinished=!0,J.emit("prefinish"),N(J,Y)})}function O(J,Y){!Y.prefinished&&!Y.finalCalled&&(typeof J._final=="function"&&!Y.destroyed?(Y.pendingcb++,Y.finalCalled=!0,e.nextTick(K,J,Y)):(Y.prefinished=!0,J.emit("prefinish")))}function N(J,Y){var oe=B(Y);if(oe&&(O(J,Y),Y.pendingcb===0&&(Y.finished=!0,J.emit("finish"),Y.autoDestroy))){var be=J._readableState;(!be||be.autoDestroy&&be.endEmitted)&&J.destroy()}return oe}function q(J,Y,oe){Y.ending=!0,N(J,Y),oe&&(Y.finished?e.nextTick(oe):J.once("finish",oe)),Y.ended=!0,J.writable=!1}function ne(J,Y,oe){var be=J.entry;for(J.entry=null;be;){var Oe=be.callback;Y.pendingcb--,Oe(oe),be=be.next}Y.corkedRequestsFree.next=J}return Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Y){this._writableState&&(this._writableState.destroyed=Y)}}),x.prototype.destroy=u.destroy,x.prototype._undestroy=u.undestroy,x.prototype._destroy=function(J,Y){Y(J)},Uy}function $h(){if(WT)return zy;WT=!0;var e=di,t=Object.keys||function(f){var c=[];for(var p in f)c.push(p);return c};zy=s;var r=tz(),n=ez();ac()(s,r);for(var i=t(n.prototype),o=0;o<i.length;o++){var a=i[o];s.prototype[a]||(s.prototype[a]=n.prototype[a])}function s(f){if(!(this instanceof s))return new s(f);r.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||e.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),zy}function IR(){if(GT)return qy;GT=!0;var e=Lh().codes.ERR_STREAM_PREMATURE_CLOSE;function t(o){var a=!1;return function(){if(!a){a=!0;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];o.apply(this,l)}}}function r(){}function n(o){return o.setHeader&&typeof o.abort=="function"}function i(o,a,s){if(typeof a=="function")return i(o,null,a);a||(a={}),s=t(s||r);var l=a.readable||a.readable!==!1&&o.readable,u=a.writable||a.writable!==!1&&o.writable,f=function(){o.writable||p()},c=o._writableState&&o._writableState.finished,p=function(){u=!1,c=!0,l||s.call(o)},m=o._readableState&&o._readableState.endEmitted,g=function(){l=!1,m=!0,u||s.call(o)},_=function(y){s.call(o,y)},v=function(){var y;if(l&&!m)return(!o._readableState||!o._readableState.ended)&&(y=new e),s.call(o,y);if(u&&!c)return(!o._writableState||!o._writableState.ended)&&(y=new e),s.call(o,y)},h=function(){o.req.on("finish",p)};return n(o)?(o.on("complete",p),o.on("abort",v),o.req?h():o.on("request",h)):u&&!o._writableState&&(o.on("end",f),o.on("close",f)),o.on("end",g),o.on("finish",p),a.error!==!1&&o.on("error",_),o.on("close",v),function(){o.removeListener("complete",p),o.removeListener("abort",v),o.removeListener("request",h),o.req&&o.req.removeListener("finish",p),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",p),o.removeListener("end",g),o.removeListener("error",_),o.removeListener("close",v)}}return qy=i,qy}function A7(){if(KT)return Vy;KT=!0;var e=di,t;function r(S,$,T){return $=n($),$ in S?Object.defineProperty(S,$,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[$]=T,S}function n(S){var $=i(S,"string");return typeof $=="symbol"?$:String($)}function i(S,$){if(typeof S!="object"||S===null)return S;var T=S[Symbol.toPrimitive];if(T!==void 0){var d=T.call(S,$);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(S)}var o=IR(),a=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),f=Symbol("lastPromise"),c=Symbol("handlePromise"),p=Symbol("stream");function m(S,$){return{value:S,done:$}}function g(S){var $=S[a];if($!==null){var T=S[p].read();T!==null&&(S[f]=null,S[a]=null,S[s]=null,$(m(T,!1)))}}function _(S){e.nextTick(g,S)}function v(S,$){return function(T,d){S.then(function(){if($[u]){T(m(void 0,!0));return}$[c](T,d)},d)}}var h=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((t={get stream(){return this[p]},next:function(){var $=this,T=this[l];if(T!==null)return Promise.reject(T);if(this[u])return Promise.resolve(m(void 0,!0));if(this[p].destroyed)return new Promise(function(P,j){e.nextTick(function(){$[l]?j($[l]):P(m(void 0,!0))})});var d=this[f],A;if(d)A=new Promise(v(d,this));else{var x=this[p].read();if(x!==null)return Promise.resolve(m(x,!1));A=new Promise(this[c])}return this[f]=A,A}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var $=this;return new Promise(function(T,d){$[p].destroy(null,function(A){if(A){d(A);return}T(m(void 0,!0))})})}),t),h),y=function($){var T,d=Object.create(E,(T={},r(T,p,{value:$,writable:!0}),r(T,a,{value:null,writable:!0}),r(T,s,{value:null,writable:!0}),r(T,l,{value:null,writable:!0}),r(T,u,{value:$._readableState.endEmitted,writable:!0}),r(T,c,{value:function(x,P){var j=d[p].read();j?(d[f]=null,d[a]=null,d[s]=null,x(m(j,!1))):(d[a]=x,d[s]=P)},writable:!0}),T));return d[f]=null,o($,function(A){if(A&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"){var x=d[s];x!==null&&(d[f]=null,d[a]=null,d[s]=null,x(A)),d[l]=A;return}var P=d[a];P!==null&&(d[f]=null,d[a]=null,d[s]=null,P(m(void 0,!0))),d[u]=!0}),$.on("readable",_.bind(null,d)),d};return Vy=y,Vy}function x7(){return JT||(JT=!0,Hy=function(){throw new Error("Readable.from is not available in the browser")}),Hy}function tz(){if(YT)return Wy;YT=!0;var e=di;Wy=P;var t;P.ReadableState=x,Yi.EventEmitter;var r=function(C,D){return C.listeners(D).length},n=XU(),i=Io().Buffer,o=(typeof XT<"u"?XT:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(R){return i.from(R)}function s(R){return i.isBuffer(R)||R instanceof o}var l=ct,u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var f=T7(),c=QU(),p=ZU(),m=p.getHighWaterMark,g=Lh().codes,_=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,h=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,S,$;ac()(P,n);var T=c.errorOrDestroy,d=["error","close","destroy","pause","resume"];function A(R,C,D){if(typeof R.prependListener=="function")return R.prependListener(C,D);!R._events||!R._events[C]?R.on(C,D):Array.isArray(R._events[C])?R._events[C].unshift(D):R._events[C]=[D,R._events[C]]}function x(R,C,D){t=t||$h(),R=R||{},typeof D!="boolean"&&(D=C instanceof t),this.objectMode=!!R.objectMode,D&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=m(this,R,"readableHighWaterMark",D),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(y||(y=ih.StringDecoder),this.decoder=new y(R.encoding),this.encoding=R.encoding)}function P(R){if(t=t||$h(),!(this instanceof P))return new P(R);var C=this instanceof t;this._readableState=new x(R,this,C),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),n.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),P.prototype.destroy=c.destroy,P.prototype._undestroy=c.undestroy,P.prototype._destroy=function(R,C){C(R)},P.prototype.push=function(R,C){var D=this._readableState,G;return D.objectMode?G=!0:typeof R=="string"&&(C=C||D.defaultEncoding,C!==D.encoding&&(R=i.from(R,C),C=""),G=!0),j(this,R,C,!1,G)},P.prototype.unshift=function(R){return j(this,R,null,!0,!1)};function j(R,C,D,G,ie){u("readableAddChunk",C);var ue=R._readableState;if(C===null)ue.reading=!1,fe(R,ue);else{var de;if(ie||(de=V(ue,C)),de)T(R,de);else if(ue.objectMode||C&&C.length>0)if(typeof C!="string"&&!ue.objectMode&&Object.getPrototypeOf(C)!==i.prototype&&(C=a(C)),G)ue.endEmitted?T(R,new E):F(R,ue,C,!0);else if(ue.ended)T(R,new v);else{if(ue.destroyed)return!1;ue.reading=!1,ue.decoder&&!D?(C=ue.decoder.write(C),ue.objectMode||C.length!==0?F(R,ue,C,!1):M(R,ue)):F(R,ue,C,!1)}else G||(ue.reading=!1,M(R,ue))}return!ue.ended&&(ue.length<ue.highWaterMark||ue.length===0)}function F(R,C,D,G){C.flowing&&C.length===0&&!C.sync?(C.awaitDrain=0,R.emit("data",D)):(C.length+=C.objectMode?1:D.length,G?C.buffer.unshift(D):C.buffer.push(D),C.needReadable&&ee(R)),M(R,C)}function V(R,C){var D;return!s(C)&&typeof C!="string"&&C!==void 0&&!R.objectMode&&(D=new _("chunk",["string","Buffer","Uint8Array"],C)),D}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(R){y||(y=ih.StringDecoder);var C=new y(R);this._readableState.decoder=C,this._readableState.encoding=this._readableState.decoder.encoding;for(var D=this._readableState.buffer.head,G="";D!==null;)G+=C.write(D.data),D=D.next;return this._readableState.buffer.clear(),G!==""&&this._readableState.buffer.push(G),this._readableState.length=G.length,this};var X=1073741824;function H(R){return R>=X?R=X:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function Z(R,C){return R<=0||C.length===0&&C.ended?0:C.objectMode?1:R!==R?C.flowing&&C.length?C.buffer.head.data.length:C.length:(R>C.highWaterMark&&(C.highWaterMark=H(R)),R<=C.length?R:C.ended?C.length:(C.needReadable=!0,0))}P.prototype.read=function(R){u("read",R),R=parseInt(R,10);var C=this._readableState,D=R;if(R!==0&&(C.emittedReadable=!1),R===0&&C.needReadable&&((C.highWaterMark!==0?C.length>=C.highWaterMark:C.length>0)||C.ended))return u("read: emitReadable",C.length,C.ended),C.length===0&&C.ended?oe(this):ee(this),null;if(R=Z(R,C),R===0&&C.ended)return C.length===0&&oe(this),null;var G=C.needReadable;u("need readable",G),(C.length===0||C.length-R<C.highWaterMark)&&(G=!0,u("length less than watermark",G)),C.ended||C.reading?(G=!1,u("reading or ended",G)):G&&(u("do read"),C.reading=!0,C.sync=!0,C.length===0&&(C.needReadable=!0),this._read(C.highWaterMark),C.sync=!1,C.reading||(R=Z(D,C)));var ie;return R>0?ie=Y(R,C):ie=null,ie===null?(C.needReadable=C.length<=C.highWaterMark,R=0):(C.length-=R,C.awaitDrain=0),C.length===0&&(C.ended||(C.needReadable=!0),D!==R&&C.ended&&oe(this)),ie!==null&&this.emit("data",ie),ie};function fe(R,C){if(u("onEofChunk"),!C.ended){if(C.decoder){var D=C.decoder.end();D&&D.length&&(C.buffer.push(D),C.length+=C.objectMode?1:D.length)}C.ended=!0,C.sync?ee(R):(C.needReadable=!1,C.emittedReadable||(C.emittedReadable=!0,ae(R)))}}function ee(R){var C=R._readableState;u("emitReadable",C.needReadable,C.emittedReadable),C.needReadable=!1,C.emittedReadable||(u("emitReadable",C.flowing),C.emittedReadable=!0,e.nextTick(ae,R))}function ae(R){var C=R._readableState;u("emitReadable_",C.destroyed,C.length,C.ended),!C.destroyed&&(C.length||C.ended)&&(R.emit("readable"),C.emittedReadable=!1),C.needReadable=!C.flowing&&!C.ended&&C.length<=C.highWaterMark,J(R)}function M(R,C){C.readingMore||(C.readingMore=!0,e.nextTick(B,R,C))}function B(R,C){for(;!C.reading&&!C.ended&&(C.length<C.highWaterMark||C.flowing&&C.length===0);){var D=C.length;if(u("maybeReadMore read 0"),R.read(0),D===C.length)break}C.readingMore=!1}P.prototype._read=function(R){T(this,new h("_read()"))},P.prototype.pipe=function(R,C){var D=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=R;break;case 1:G.pipes=[G.pipes,R];break;default:G.pipes.push(R);break}G.pipesCount+=1,u("pipe count=%d opts=%j",G.pipesCount,C);var ie=(!C||C.end!==!1)&&R!==e.stdout&&R!==e.stderr,ue=ie?ve:I;G.endEmitted?e.nextTick(ue):D.once("end",ue),R.on("unpipe",de);function de(L,re){u("onunpipe"),L===D&&re&&re.hasUnpiped===!1&&(re.hasUnpiped=!0,je())}function ve(){u("onend"),R.end()}var Ne=K(D);R.on("drain",Ne);var Be=!1;function je(){u("cleanup"),R.removeListener("close",Ue),R.removeListener("finish",W),R.removeListener("drain",Ne),R.removeListener("error",We),R.removeListener("unpipe",de),D.removeListener("end",ve),D.removeListener("end",I),D.removeListener("data",nt),Be=!0,G.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&Ne()}D.on("data",nt);function nt(L){u("ondata");var re=R.write(L);u("dest.write",re),re===!1&&((G.pipesCount===1&&G.pipes===R||G.pipesCount>1&&Oe(G.pipes,R)!==-1)&&!Be&&(u("false write response, pause",G.awaitDrain),G.awaitDrain++),D.pause())}function We(L){u("onerror",L),I(),R.removeListener("error",We),r(R,"error")===0&&T(R,L)}A(R,"error",We);function Ue(){R.removeListener("finish",W),I()}R.once("close",Ue);function W(){u("onfinish"),R.removeListener("close",Ue),I()}R.once("finish",W);function I(){u("unpipe"),D.unpipe(R)}return R.emit("pipe",D),G.flowing||(u("pipe resume"),D.resume()),R};function K(R){return function(){var D=R._readableState;u("pipeOnDrain",D.awaitDrain),D.awaitDrain&&D.awaitDrain--,D.awaitDrain===0&&r(R,"data")&&(D.flowing=!0,J(R))}}P.prototype.unpipe=function(R){var C=this._readableState,D={hasUnpiped:!1};if(C.pipesCount===0)return this;if(C.pipesCount===1)return R&&R!==C.pipes?this:(R||(R=C.pipes),C.pipes=null,C.pipesCount=0,C.flowing=!1,R&&R.emit("unpipe",this,D),this);if(!R){var G=C.pipes,ie=C.pipesCount;C.pipes=null,C.pipesCount=0,C.flowing=!1;for(var ue=0;ue<ie;ue++)G[ue].emit("unpipe",this,{hasUnpiped:!1});return this}var de=Oe(C.pipes,R);return de===-1?this:(C.pipes.splice(de,1),C.pipesCount-=1,C.pipesCount===1&&(C.pipes=C.pipes[0]),R.emit("unpipe",this,D),this)},P.prototype.on=function(R,C){var D=n.prototype.on.call(this,R,C),G=this._readableState;return R==="data"?(G.readableListening=this.listenerCount("readable")>0,G.flowing!==!1&&this.resume()):R==="readable"&&!G.endEmitted&&!G.readableListening&&(G.readableListening=G.needReadable=!0,G.flowing=!1,G.emittedReadable=!1,u("on readable",G.length,G.reading),G.length?ee(this):G.reading||e.nextTick(N,this)),D},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(R,C){var D=n.prototype.removeListener.call(this,R,C);return R==="readable"&&e.nextTick(O,this),D},P.prototype.removeAllListeners=function(R){var C=n.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&e.nextTick(O,this),C};function O(R){var C=R._readableState;C.readableListening=R.listenerCount("readable")>0,C.resumeScheduled&&!C.paused?C.flowing=!0:R.listenerCount("data")>0&&R.resume()}function N(R){u("readable nexttick read 0"),R.read(0)}P.prototype.resume=function(){var R=this._readableState;return R.flowing||(u("resume"),R.flowing=!R.readableListening,q(this,R)),R.paused=!1,this};function q(R,C){C.resumeScheduled||(C.resumeScheduled=!0,e.nextTick(ne,R,C))}function ne(R,C){u("resume",C.reading),C.reading||R.read(0),C.resumeScheduled=!1,R.emit("resume"),J(R),C.flowing&&!C.reading&&R.read(0)}P.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(R){var C=R._readableState;for(u("flow",C.flowing);C.flowing&&R.read()!==null;);}P.prototype.wrap=function(R){var C=this,D=this._readableState,G=!1;R.on("end",function(){if(u("wrapped end"),D.decoder&&!D.ended){var de=D.decoder.end();de&&de.length&&C.push(de)}C.push(null)}),R.on("data",function(de){if(u("wrapped data"),D.decoder&&(de=D.decoder.write(de)),!(D.objectMode&&de==null)&&!(!D.objectMode&&(!de||!de.length))){var ve=C.push(de);ve||(G=!0,R.pause())}});for(var ie in R)this[ie]===void 0&&typeof R[ie]=="function"&&(this[ie]=function(ve){return function(){return R[ve].apply(R,arguments)}}(ie));for(var ue=0;ue<d.length;ue++)R.on(d[ue],this.emit.bind(this,d[ue]));return this._read=function(de){u("wrapped _read",de),G&&(G=!1,R.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=A7()),S(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(C){this._readableState&&(this._readableState.flowing=C)}}),P._fromList=Y,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Y(R,C){if(C.length===0)return null;var D;return C.objectMode?D=C.buffer.shift():!R||R>=C.length?(C.decoder?D=C.buffer.join(""):C.buffer.length===1?D=C.buffer.first():D=C.buffer.concat(C.length),C.buffer.clear()):D=C.buffer.consume(R,C.decoder),D}function oe(R){var C=R._readableState;u("endReadable",C.endEmitted),C.endEmitted||(C.ended=!0,e.nextTick(be,C,R))}function be(R,C){if(u("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,C.readable=!1,C.emit("end"),R.autoDestroy)){var D=C._writableState;(!D||D.autoDestroy&&D.finished)&&C.destroy()}}typeof Symbol=="function"&&(P.from=function(R,C){return $===void 0&&($=x7()),$(P,R,C)});function Oe(R,C){for(var D=0,G=R.length;D<G;D++)if(R[D]===C)return D;return-1}return Wy}function rz(){if(QT)return Gy;QT=!0,Gy=s;var e=Lh().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=$h();ac()(s,o);function a(f,c){var p=this._transformState;p.transforming=!1;var m=p.writecb;if(m===null)return this.emit("error",new r);p.writechunk=null,p.writecb=null,c!=null&&this.push(c),m(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function s(f){if(!(this instanceof s))return new s(f);o.call(this,f),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,p){u(f,c,p)}):u(this,null,null)}s.prototype.push=function(f,c){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,c)},s.prototype._transform=function(f,c,p){p(new t("_transform()"))},s.prototype._write=function(f,c,p){var m=this._transformState;if(m.writecb=p,m.writechunk=f,m.writeencoding=c,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},s.prototype._read=function(f){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},s.prototype._destroy=function(f,c){o.prototype._destroy.call(this,f,function(p){c(p)})};function u(f,c,p){if(c)return f.emit("error",c);if(p!=null&&f.push(p),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return Gy}function P7(){if(ZT)return Ky;ZT=!0,Ky=t;var e=rz();ac()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},Ky}function O7(){if(eA)return Jy;eA=!0;var e;function t(p){var m=!1;return function(){m||(m=!0,p.apply(void 0,arguments))}}var r=Lh().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function o(p){if(p)throw p}function a(p){return p.setHeader&&typeof p.abort=="function"}function s(p,m,g,_){_=t(_);var v=!1;p.on("close",function(){v=!0}),e===void 0&&(e=IR()),e(p,{readable:m,writable:g},function(E){if(E)return _(E);v=!0,_()});var h=!1;return function(E){if(!v&&!h){if(h=!0,a(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();_(E||new i("pipe"))}}}function l(p){p()}function u(p,m){return p.pipe(m)}function f(p){return!p.length||typeof p[p.length-1]!="function"?o:p.pop()}function c(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];var _=f(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new n("streams");var v,h=m.map(function(E,y){var S=y<m.length-1,$=y>0;return s(E,S,$,function(T){v||(v=T),T&&h.forEach(l),!S&&(h.forEach(l),_(v))})});return m.reduce(u)}return Jy=c,Jy}function nz(){return tA||(tA=!0,Hi=Hi=tz(),Hi.Stream=Hi,Hi.Readable=Hi,Hi.Writable=ez(),Hi.Duplex=$h(),Hi.Transform=rz(),Hi.PassThrough=P7(),Hi.finished=IR(),Hi.pipeline=O7()),Hi}function iz(){if(rA)return Np;rA=!0;var e=Io().Buffer,t=di,r=YU(),n=ac(),i=nz(),o=Np.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},a=Np.IncomingMessage=function(s,l,u,f){var c=this||kp;if(i.Readable.call(c),c._mode=u,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),u==="fetch"){let h=function(){m.read().then(function(E){if(!c._destroyed){if(f(E.done),E.done){c.push(null);return}c.push(e.from(E.value)),h()}}).catch(function(E){f(!0),c._destroyed||c.emit("error",E)})};if(c._fetchResponse=l,c.url=l.url,c.statusCode=l.status,c.statusMessage=l.statusText,l.headers.forEach(function(E,y){c.headers[y.toLowerCase()]=E,c.rawHeaders.push(y,E)}),r.writableStream){var p=new WritableStream({write:function(E){return f(!1),new Promise(function(y,S){c._destroyed?S():c.push(e.from(E))?y():c._resumeFetch=y})},close:function(){f(!0),c._destroyed||c.push(null)},abort:function(E){f(!0),c._destroyed||c.emit("error",E)}});try{l.body.pipeTo(p).catch(function(E){f(!0),c._destroyed||c.emit("error",E)});return}catch{}}var m=l.body.getReader();h()}else{c._xhr=s,c._pos=0,c.url=s.responseURL,c.statusCode=s.status,c.statusMessage=s.statusText;var g=s.getAllResponseHeaders().split(/\r?\n/);if(g.forEach(function(h){var E=h.match(/^([^:]+):\s*(.*)/);if(E){var y=E[1].toLowerCase();y==="set-cookie"?(c.headers[y]===void 0&&(c.headers[y]=[]),c.headers[y].push(E[2])):c.headers[y]!==void 0?c.headers[y]+=", "+E[2]:c.headers[y]=E[2],c.rawHeaders.push(E[1],E[2])}}),c._charset="x-user-defined",!r.overrideMimeType){var _=c.rawHeaders["mime-type"];if(_){var v=_.match(/;\s*charset=([^;])(;|$)/);v&&(c._charset=v[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};return n(a,i.Readable),a.prototype._read=function(){var s=this||kp,l=s._resumeFetch;l&&(s._resumeFetch=null,l())},a.prototype._onXHRProgress=function(s){var l=this||kp,u=l._xhr,f=null;switch(l._mode){case"text":if(f=u.responseText,f.length>l._pos){var c=f.substr(l._pos);if(l._charset==="x-user-defined"){for(var p=e.alloc(c.length),m=0;m<c.length;m++)p[m]=c.charCodeAt(m)&255;l.push(p)}else l.push(c,l._charset);l._pos=f.length}break;case"arraybuffer":if(u.readyState!==o.DONE||!u.response)break;f=u.response,l.push(e.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=u.response,u.readyState!==o.LOADING||!f)break;l.push(e.from(new Uint8Array(f)));break;case"ms-stream":if(f=u.response,u.readyState!==o.LOADING)break;var g=new kp.MSStreamReader;g.onprogress=function(){g.result.byteLength>l._pos&&(l.push(e.from(new Uint8Array(g.result.slice(l._pos)))),l._pos=g.result.byteLength)},g.onload=function(){s(!0),l.push(null)},g.readAsArrayBuffer(f);break}l._xhr.readyState===o.DONE&&l._mode!=="ms-stream"&&(s(!0),l.push(null))},Np}function R7(){if(nA)return Yy;nA=!0;var e=Io().Buffer,t=di,r=YU(),n=ac(),i=iz(),o=nz(),a=i.IncomingMessage,s=i.readyStates;function l(p,m){return r.fetch&&m?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&p?"arraybuffer":"text"}var u=Yy=function(p){var m=this||Zn;o.Writable.call(m),m._opts=p,m._body=[],m._headers={},p.auth&&m.setHeader("Authorization","Basic "+e.from(p.auth).toString("base64")),Object.keys(p.headers).forEach(function(v){m.setHeader(v,p.headers[v])});var g,_=!0;if(p.mode==="disable-fetch"||"requestTimeout"in p&&!r.abortController)_=!1,g=!0;else if(p.mode==="prefer-streaming")g=!1;else if(p.mode==="allow-wrong-content-type")g=!r.overrideMimeType;else if(!p.mode||p.mode==="default"||p.mode==="prefer-fast")g=!0;else throw new Error("Invalid value for opts.mode");m._mode=l(g,_),m._fetchTimer=null,m._socketTimeout=null,m._socketTimer=null,m.on("finish",function(){m._onFinish()})};n(u,o.Writable),u.prototype.setHeader=function(p,m){var g=this||Zn,_=p.toLowerCase();c.indexOf(_)===-1&&(g._headers[_]={name:p,value:m})},u.prototype.getHeader=function(p){var m=(this||Zn)._headers[p.toLowerCase()];return m?m.value:null},u.prototype.removeHeader=function(p){var m=this||Zn;delete m._headers[p.toLowerCase()]},u.prototype._onFinish=function(){var p=this||Zn;if(!p._destroyed){var m=p._opts;"timeout"in m&&m.timeout!==0&&p.setTimeout(m.timeout);var g=p._headers,_=null;m.method!=="GET"&&m.method!=="HEAD"&&(_=new Blob(p._body,{type:(g["content-type"]||{}).value||""}));var v=[];if(Object.keys(g).forEach(function(S){var $=g[S].name,T=g[S].value;Array.isArray(T)?T.forEach(function(d){v.push([$,d])}):v.push([$,T])}),p._mode==="fetch"){var h=null;if(r.abortController){var E=new AbortController;h=E.signal,p._fetchAbortController=E,"requestTimeout"in m&&m.requestTimeout!==0&&(p._fetchTimer=Zn.setTimeout(function(){p.emit("requestTimeout"),p._fetchAbortController&&p._fetchAbortController.abort()},m.requestTimeout))}Zn.fetch(p._opts.url,{method:p._opts.method,headers:v,body:_||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:h}).then(function(S){p._fetchResponse=S,p._resetTimers(!1),p._connect()},function(S){p._resetTimers(!0),p._destroyed||p.emit("error",S)})}else{var y=p._xhr=new Zn.XMLHttpRequest;try{y.open(p._opts.method,p._opts.url,!0)}catch(S){t.nextTick(function(){p.emit("error",S)});return}"responseType"in y&&(y.responseType=p._mode),"withCredentials"in y&&(y.withCredentials=!!m.withCredentials),p._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(y.timeout=m.requestTimeout,y.ontimeout=function(){p.emit("requestTimeout")}),v.forEach(function(S){y.setRequestHeader(S[0],S[1])}),p._response=null,y.onreadystatechange=function(){switch(y.readyState){case s.LOADING:case s.DONE:p._onXHRProgress();break}},p._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){p._onXHRProgress()}),y.onerror=function(){p._destroyed||(p._resetTimers(!0),p.emit("error",new Error("XHR error")))};try{y.send(_)}catch(S){t.nextTick(function(){p.emit("error",S)});return}}}};function f(p){try{var m=p.status;return m!==null&&m!==0}catch{return!1}}u.prototype._onXHRProgress=function(){var p=this||Zn;p._resetTimers(!1),!(!f(p._xhr)||p._destroyed)&&(p._response||p._connect(),p._response._onXHRProgress(p._resetTimers.bind(p)))},u.prototype._connect=function(){var p=this||Zn;p._destroyed||(p._response=new a(p._xhr,p._fetchResponse,p._mode,p._resetTimers.bind(p)),p._response.on("error",function(m){p.emit("error",m)}),p.emit("response",p._response))},u.prototype._write=function(p,m,g){var _=this||Zn;_._body.push(p),g()},u.prototype._resetTimers=function(p){var m=this||Zn;Zn.clearTimeout(m._socketTimer),m._socketTimer=null,p?(Zn.clearTimeout(m._fetchTimer),m._fetchTimer=null):m._socketTimeout&&(m._socketTimer=Zn.setTimeout(function(){m.emit("timeout")},m._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(p){var m=this||Zn;m._destroyed=!0,m._resetTimers(!0),m._response&&(m._response._destroyed=!0),m._xhr?m._xhr.abort():m._fetchAbortController&&m._fetchAbortController.abort(),p&&m.emit("error",p)},u.prototype.end=function(p,m,g){var _=this||Zn;typeof p=="function"&&(g=p,p=void 0),o.Writable.prototype.end.call(_,p,m,g)},u.prototype.setTimeout=function(p,m){var g=this||Zn;m&&g.once("timeout",m),g._socketTimeout=p,g._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return Yy}function I7(){if(iA)return Xy;iA=!0,Xy=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var o in i)e.call(i,o)&&(r[o]=i[o])}return r}return Xy}function N7(){return oA||(oA=!0,Qy={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),Qy}function k7(){if(aA)return Zy;aA=!0;var e=R7(),t=iz(),r=I7(),n=N7(),i=Jr,o=Zy;return o.request=function(a,s){typeof a=="string"?a=i.parse(a):a=r(a);var l=oz.location.protocol.search(/^https?:$/)===-1?"http:":"",u=a.protocol||l,f=a.hostname||a.host,c=a.port,p=a.path||"/";f&&f.indexOf(":")!==-1&&(f="["+f+"]"),a.url=(f?u+"//"+f:"")+(c?":"+c:"")+p,a.method=(a.method||"GET").toUpperCase(),a.headers=a.headers||{};var m=new e(a);return s&&m.on("response",s),m},o.get=function(s,l){var u=o.request(s,l);return u.end(),u},o.ClientRequest=e,o.IncomingMessage=t.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=n,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],Zy}var mo,LT,gu,Dy,FT,My,BT,Ly,UT,Fy,zT,By,qT,Uy,VT,HT,zy,WT,qy,GT,Vy,KT,Hy,JT,Wy,YT,XT,Gy,QT,Ky,ZT,Jy,eA,Hi,tA,Np,rA,kp,Yy,nA,Zn,Xy,iA,Qy,oA,Zy,aA,oz,Ps,az,sz,lz,uz,cz,fz,dz,hz,NR=nn({"../../node_modules/@jspm/core/nodelibs/browser/http.js"(){Te(),xR(),WZ(),H_(),B_(),QZ(),wg(),bg(),c7(),AU(),JU(),W_(),mo={},LT=!1,gu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Dy={},FT=!1,My={},BT=!1,Ly={},UT=!1,Fy={},zT=!1,By={},qT=!1,Uy={},VT=!1,HT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,zy={},WT=!1,qy={},GT=!1,Vy={},KT=!1,Hy={},JT=!1,Wy={},YT=!1,XT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Gy={},QT=!1,Ky={},ZT=!1,Jy={},eA=!1,Hi={},tA=!1,Np={},rA=!1,kp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Yy={},nA=!1,Zn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Xy={},iA=!1,Qy={},oA=!1,Zy={},aA=!1,oz=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ps=k7(),az=Ps.Agent,sz=Ps.ClientRequest,lz=Ps.IncomingMessage,uz=Ps.METHODS,cz=Ps.STATUS_CODES,fz=Ps.get,dz=Ps.globalAgent,hz=Ps.request}});function uD(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return r===-1&&(r=t),[r,r===t?0:4-r%4]}function C7(e,t,r){for(var n,i,o=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(es[(i=n)>>18&63]+es[i>>12&63]+es[i>>6&63]+es[63&i]);return o.join("")}function Tl(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,vt.prototype),t}function vt(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return sA(e)}return pz(e,t,r)}function pz(e,t,r){if(typeof e=="string")return function(o,a){if(typeof a=="string"&&a!==""||(a="utf8"),!vt.isEncoding(a))throw new TypeError("Unknown encoding: "+a);var s=0|gz(o,a),l=Tl(s),u=l.write(o,a);return u!==s&&(l=l.slice(0,u)),l}(e,t);if(ArrayBuffer.isView(e))return JS(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Al(e,ArrayBuffer)||e&&Al(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Al(e,SharedArrayBuffer)||e&&Al(e.buffer,SharedArrayBuffer)))return cD(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return vt.from(n,t,r);var i=function(o){if(vt.isBuffer(o)){var a=0|kR(o.length),s=Tl(a);return s.length===0||o.copy(s,0,0,a),s}if(o.length!==void 0)return typeof o.length!="number"||CR(o.length)?Tl(0):JS(o);if(o.type==="Buffer"&&Array.isArray(o.data))return JS(o.data)}(e);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return vt.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function mz(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function sA(e){return mz(e),Tl(e<0?0:0|kR(e))}function JS(e){for(var t=e.length<0?0:0|kR(e.length),r=Tl(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function cD(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=t===void 0&&r===void 0?new Uint8Array(e):r===void 0?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,vt.prototype),n}function kR(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function gz(e,t){if(vt.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Al(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return lA(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return bz(e).length;default:if(i)return n?-1:lA(e).length;t=(""+t).toLowerCase(),i=!0}}function j7(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return V7(this,t,r);case"utf8":case"utf-8":return yz(this,t,r);case"ascii":return z7(this,t,r);case"latin1":case"binary":return q7(this,t,r);case"base64":return U7(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H7(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function Oc(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function fD(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),CR(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if(typeof t=="string"&&(t=vt.from(t,n)),vt.isBuffer(t))return t.length===0?-1:dD(e,t,r,n,i);if(typeof t=="number")return t&=255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):dD(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function dD(e,t,r,n,i){var o,a=1,s=e.length,l=t.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function u(m,g){return a===1?m[g]:m.readUInt16BE(g*a)}if(i){var f=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,f===-1?0:o-f)){if(f===-1&&(f=o),o-f+1===l)return f*a}else f!==-1&&(o-=o-f),f=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){for(var c=!0,p=0;p<l;p++)if(u(e,o+p)!==u(t,p)){c=!1;break}if(c)return o}return-1}function D7(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(CR(s))return a;e[r+a]=s}return a}function M7(e,t,r,n){return K_(lA(t,e.length-r),e,r,n)}function vz(e,t,r,n){return K_(function(i){for(var o=[],a=0;a<i.length;++a)o.push(255&i.charCodeAt(a));return o}(t),e,r,n)}function L7(e,t,r,n){return vz(e,t,r,n)}function F7(e,t,r,n){return K_(bz(t),e,r,n)}function B7(e,t,r,n){return K_(function(i,o){for(var a,s,l,u=[],f=0;f<i.length&&!((o-=2)<0);++f)a=i.charCodeAt(f),s=a>>8,l=a%256,u.push(l),u.push(s);return u}(t,e.length-r),e,r,n)}function U7(e,t,r){return t===0&&r===e.length?kb.fromByteArray(e):kb.fromByteArray(e.slice(t,r))}function yz(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,l,u=e[i],f=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=r)switch(c){case 1:u<128&&(f=u);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&u)<<6|63&o)>127&&(f=l);break;case 3:o=e[i+1],a=e[i+2],(192&o)==128&&(192&a)==128&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(f=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(f=l)}f===null?(f=65533,c=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=c}return function(p){var m=p.length;if(m<=4096)return String.fromCharCode.apply(String,p);for(var g="",_=0;_<m;)g+=String.fromCharCode.apply(String,p.slice(_,_+=4096));return g}(n)}function z7(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function q7(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function V7(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=Pz[e[o]];return i}function H7(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function ai(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function po(e,t,r,n,i,o){if(!vt.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function wz(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function hD(e,t,r,n,i){return t=+t,r>>>=0,i||wz(e,0,r,4),Hc.write(e,t,r,n,23,4),r+4}function pD(e,t,r,n,i){return t=+t,r>>>=0,i||wz(e,0,r,8),Hc.write(e,t,r,n,52,8),r+8}function lA(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function bz(e){return kb.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(xz,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(e))}function K_(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Al(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function CR(e){return e!=e}function mD(e,t){for(var r in e)t[r]=e[r]}function Rc(e,t,r){return Ka(e,t,r)}function hp(e){var t;switch(this.encoding=function(r){var n=function(i){if(!i)return"utf8";for(var o;;)switch(i){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return i;default:if(o)return;i=(""+i).toLowerCase(),o=!0}}(r);if(typeof n!="string"&&(jb.isEncoding===uA||!uA(r)))throw new Error("Unknown encoding: "+r);return n||r}(e),this.encoding){case"utf16le":this.text=G7,this.end=K7,t=4;break;case"utf8":this.fillLast=W7,t=4;break;case"base64":this.text=J7,this.end=Y7,t=3;break;default:return this.write=X7,this.end=Q7,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=jb.allocUnsafe(t)}function YS(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function W7(e){var t=this.lastTotal-this.lastNeed,r=function(n,i,o){if((192&i[0])!=128)return n.lastNeed=0,"";if(n.lastNeed>1&&i.length>1){if((192&i[1])!=128)return n.lastNeed=1,"";if(n.lastNeed>2&&i.length>2&&(192&i[2])!=128)return n.lastNeed=2,""}}(this,e);return r!==void 0?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length,void 0)}function G7(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function K7(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function J7(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Y7(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function X7(e){return e.toString(this.encoding)}function Q7(e){return e&&e.length?this.write(e):""}function Z7(){if(cA)return $d;cA=!0,$d.byteLength=s,$d.toByteArray=u,$d.fromByteArray=p;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function a(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=m.indexOf("=");_===-1&&(_=g);var v=_===g?0:4-_%4;return[_,v]}function s(m){var g=a(m),_=g[0],v=g[1];return(_+v)*3/4-v}function l(m,g,_){return(g+_)*3/4-_}function u(m){var g,_=a(m),v=_[0],h=_[1],E=new r(l(m,v,h)),y=0,S=h>0?v-4:v,$;for($=0;$<S;$+=4)g=t[m.charCodeAt($)]<<18|t[m.charCodeAt($+1)]<<12|t[m.charCodeAt($+2)]<<6|t[m.charCodeAt($+3)],E[y++]=g>>16&255,E[y++]=g>>8&255,E[y++]=g&255;return h===2&&(g=t[m.charCodeAt($)]<<2|t[m.charCodeAt($+1)]>>4,E[y++]=g&255),h===1&&(g=t[m.charCodeAt($)]<<10|t[m.charCodeAt($+1)]<<4|t[m.charCodeAt($+2)]>>2,E[y++]=g>>8&255,E[y++]=g&255),E}function f(m){return e[m>>18&63]+e[m>>12&63]+e[m>>6&63]+e[m&63]}function c(m,g,_){for(var v,h=[],E=g;E<_;E+=3)v=(m[E]<<16&16711680)+(m[E+1]<<8&65280)+(m[E+2]&255),h.push(f(v));return h.join("")}function p(m){for(var g,_=m.length,v=_%3,h=[],E=16383,y=0,S=_-v;y<S;y+=E)h.push(c(m,y,y+E>S?S:y+E));return v===1?(g=m[_-1],h.push(e[g>>2]+e[g<<4&63]+"==")):v===2&&(g=(m[_-2]<<8)+m[_-1],h.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),h.join("")}return $d}function eee(){return fA||(fA=!0,Cp.read=function(e,t,r,n,i){var o,a,s=i*8-n-1,l=(1<<s)-1,u=l>>1,f=-7,c=r?i-1:0,p=r?-1:1,m=e[t+c];for(c+=p,o=m&(1<<-f)-1,m>>=-f,f+=s;f>0;o=o*256+e[t+c],c+=p,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=a*256+e[t+c],c+=p,f-=8);if(o===0)o=1-u;else{if(o===l)return a?NaN:(m?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-u}return(m?-1:1)*a*Math.pow(2,o-n)},Cp.write=function(e,t,r,n,i,o){var a,s,l,u=o*8-i-1,f=(1<<u)-1,c=f>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+c>=1?t+=p/l:t+=p*Math.pow(2,1-c),t*l>=2&&(a++,l/=2),a+c>=f?(s=0,a=f):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a=a+c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+m]=s&255,m+=g,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+m]=a&255,m+=g,a/=256,u-=8);e[r+m-g]|=_*128}),Cp}function tee(){if(dA)return vu;dA=!0;const e=Z7(),t=eee(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;vu.Buffer=a,vu.SlowBuffer=h,vu.INSPECT_MAX_BYTES=50;const n=2147483647;vu.kMaxLength=n,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const W=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(W,I),W.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(W){if(W>n)throw new RangeError('The value "'+W+'" is invalid for option "size"');const I=new Uint8Array(W);return Object.setPrototypeOf(I,a.prototype),I}function a(W,I,L){if(typeof W=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(W)}return s(W,I,L)}a.poolSize=8192;function s(W,I,L){if(typeof W=="string")return c(W,I);if(ArrayBuffer.isView(W))return m(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(Be(W,ArrayBuffer)||W&&Be(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be(W,SharedArrayBuffer)||W&&Be(W.buffer,SharedArrayBuffer)))return g(W,I,L);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const re=W.valueOf&&W.valueOf();if(re!=null&&re!==W)return a.from(re,I,L);const ye=_(W);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return a.from(W[Symbol.toPrimitive]("string"),I,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}a.from=function(W,I,L){return s(W,I,L)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function u(W,I,L){return l(W),W<=0?o(W):I!==void 0?typeof L=="string"?o(W).fill(I,L):o(W).fill(I):o(W)}a.alloc=function(W,I,L){return u(W,I,L)};function f(W){return l(W),o(W<0?0:v(W)|0)}a.allocUnsafe=function(W){return f(W)},a.allocUnsafeSlow=function(W){return f(W)};function c(W,I){if((typeof I!="string"||I==="")&&(I="utf8"),!a.isEncoding(I))throw new TypeError("Unknown encoding: "+I);const L=E(W,I)|0;let re=o(L);const ye=re.write(W,I);return ye!==L&&(re=re.slice(0,ye)),re}function p(W){const I=W.length<0?0:v(W.length)|0,L=o(I);for(let re=0;re<I;re+=1)L[re]=W[re]&255;return L}function m(W){if(Be(W,Uint8Array)){const I=new Uint8Array(W);return g(I.buffer,I.byteOffset,I.byteLength)}return p(W)}function g(W,I,L){if(I<0||W.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<I+(L||0))throw new RangeError('"length" is outside of buffer bounds');let re;return I===void 0&&L===void 0?re=new Uint8Array(W):L===void 0?re=new Uint8Array(W,I):re=new Uint8Array(W,I,L),Object.setPrototypeOf(re,a.prototype),re}function _(W){if(a.isBuffer(W)){const I=v(W.length)|0,L=o(I);return L.length===0||W.copy(L,0,0,I),L}if(W.length!==void 0)return typeof W.length!="number"||je(W.length)?o(0):p(W);if(W.type==="Buffer"&&Array.isArray(W.data))return p(W.data)}function v(W){if(W>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return W|0}function h(W){return+W!=W&&(W=0),a.alloc(+W)}a.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==a.prototype},a.compare=function(I,L){if(Be(I,Uint8Array)&&(I=a.from(I,I.offset,I.byteLength)),Be(L,Uint8Array)&&(L=a.from(L,L.offset,L.byteLength)),!a.isBuffer(I)||!a.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===L)return 0;let re=I.length,ye=L.length;for(let Ee=0,Ce=Math.min(re,ye);Ee<Ce;++Ee)if(I[Ee]!==L[Ee]){re=I[Ee],ye=L[Ee];break}return re<ye?-1:ye<re?1:0},a.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(I,L){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return a.alloc(0);let re;if(L===void 0)for(L=0,re=0;re<I.length;++re)L+=I[re].length;const ye=a.allocUnsafe(L);let Ee=0;for(re=0;re<I.length;++re){let Ce=I[re];if(Be(Ce,Uint8Array))Ee+Ce.length>ye.length?(a.isBuffer(Ce)||(Ce=a.from(Ce)),Ce.copy(ye,Ee)):Uint8Array.prototype.set.call(ye,Ce,Ee);else if(a.isBuffer(Ce))Ce.copy(ye,Ee);else throw new TypeError('"list" argument must be an Array of Buffers');Ee+=Ce.length}return ye};function E(W,I){if(a.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||Be(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const L=W.length,re=arguments.length>2&&arguments[2]===!0;if(!re&&L===0)return 0;let ye=!1;for(;;)switch(I){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return ie(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return ve(W).length;default:if(ye)return re?-1:ie(W).length;I=(""+I).toLowerCase(),ye=!0}}a.byteLength=E;function y(W,I,L){let re=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,I>>>=0,L<=I))return"";for(W||(W="utf8");;)switch(W){case"hex":return ee(this,I,L);case"utf8":case"utf-8":return V(this,I,L);case"ascii":return Z(this,I,L);case"latin1":case"binary":return fe(this,I,L);case"base64":return F(this,I,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,I,L);default:if(re)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),re=!0}}a.prototype._isBuffer=!0;function S(W,I,L){const re=W[I];W[I]=W[L],W[L]=re}a.prototype.swap16=function(){const I=this.length;if(I%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<I;L+=2)S(this,L,L+1);return this},a.prototype.swap32=function(){const I=this.length;if(I%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<I;L+=4)S(this,L,L+3),S(this,L+1,L+2);return this},a.prototype.swap64=function(){const I=this.length;if(I%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<I;L+=8)S(this,L,L+7),S(this,L+1,L+6),S(this,L+2,L+5),S(this,L+3,L+4);return this},a.prototype.toString=function(){const I=this.length;return I===0?"":arguments.length===0?V(this,0,I):y.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(I){if(!a.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:a.compare(this,I)===0},a.prototype.inspect=function(){let I="";const L=vu.INSPECT_MAX_BYTES;return I=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(I+=" ... "),"<Buffer "+I+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(I,L,re,ye,Ee){if(Be(I,Uint8Array)&&(I=a.from(I,I.offset,I.byteLength)),!a.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(L===void 0&&(L=0),re===void 0&&(re=I?I.length:0),ye===void 0&&(ye=0),Ee===void 0&&(Ee=this.length),L<0||re>I.length||ye<0||Ee>this.length)throw new RangeError("out of range index");if(ye>=Ee&&L>=re)return 0;if(ye>=Ee)return-1;if(L>=re)return 1;if(L>>>=0,re>>>=0,ye>>>=0,Ee>>>=0,this===I)return 0;let Ce=Ee-ye,Re=re-L;const Le=Math.min(Ce,Re),ft=this.slice(ye,Ee),yt=I.slice(L,re);for(let st=0;st<Le;++st)if(ft[st]!==yt[st]){Ce=ft[st],Re=yt[st];break}return Ce<Re?-1:Re<Ce?1:0};function $(W,I,L,re,ye){if(W.length===0)return-1;if(typeof L=="string"?(re=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,je(L)&&(L=ye?0:W.length-1),L<0&&(L=W.length+L),L>=W.length){if(ye)return-1;L=W.length-1}else if(L<0)if(ye)L=0;else return-1;if(typeof I=="string"&&(I=a.from(I,re)),a.isBuffer(I))return I.length===0?-1:T(W,I,L,re,ye);if(typeof I=="number")return I=I&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(W,I,L):Uint8Array.prototype.lastIndexOf.call(W,I,L):T(W,[I],L,re,ye);throw new TypeError("val must be string, number or Buffer")}function T(W,I,L,re,ye){let Ee=1,Ce=W.length,Re=I.length;if(re!==void 0&&(re=String(re).toLowerCase(),re==="ucs2"||re==="ucs-2"||re==="utf16le"||re==="utf-16le")){if(W.length<2||I.length<2)return-1;Ee=2,Ce/=2,Re/=2,L/=2}function Le(yt,st){return Ee===1?yt[st]:yt.readUInt16BE(st*Ee)}let ft;if(ye){let yt=-1;for(ft=L;ft<Ce;ft++)if(Le(W,ft)===Le(I,yt===-1?0:ft-yt)){if(yt===-1&&(yt=ft),ft-yt+1===Re)return yt*Ee}else yt!==-1&&(ft-=ft-yt),yt=-1}else for(L+Re>Ce&&(L=Ce-Re),ft=L;ft>=0;ft--){let yt=!0;for(let st=0;st<Re;st++)if(Le(W,ft+st)!==Le(I,st)){yt=!1;break}if(yt)return ft}return-1}a.prototype.includes=function(I,L,re){return this.indexOf(I,L,re)!==-1},a.prototype.indexOf=function(I,L,re){return $(this,I,L,re,!0)},a.prototype.lastIndexOf=function(I,L,re){return $(this,I,L,re,!1)};function d(W,I,L,re){L=Number(L)||0;const ye=W.length-L;re?(re=Number(re),re>ye&&(re=ye)):re=ye;const Ee=I.length;re>Ee/2&&(re=Ee/2);let Ce;for(Ce=0;Ce<re;++Ce){const Re=parseInt(I.substr(Ce*2,2),16);if(je(Re))return Ce;W[L+Ce]=Re}return Ce}function A(W,I,L,re){return Ne(ie(I,W.length-L),W,L,re)}function x(W,I,L,re){return Ne(ue(I),W,L,re)}function P(W,I,L,re){return Ne(ve(I),W,L,re)}function j(W,I,L,re){return Ne(de(I,W.length-L),W,L,re)}a.prototype.write=function(I,L,re,ye){if(L===void 0)ye="utf8",re=this.length,L=0;else if(re===void 0&&typeof L=="string")ye=L,re=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(re)?(re=re>>>0,ye===void 0&&(ye="utf8")):(ye=re,re=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ee=this.length-L;if((re===void 0||re>Ee)&&(re=Ee),I.length>0&&(re<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");let Ce=!1;for(;;)switch(ye){case"hex":return d(this,I,L,re);case"utf8":case"utf-8":return A(this,I,L,re);case"ascii":case"latin1":case"binary":return x(this,I,L,re);case"base64":return P(this,I,L,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,I,L,re);default:if(Ce)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),Ce=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(W,I,L){return I===0&&L===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(I,L))}function V(W,I,L){L=Math.min(W.length,L);const re=[];let ye=I;for(;ye<L;){const Ee=W[ye];let Ce=null,Re=Ee>239?4:Ee>223?3:Ee>191?2:1;if(ye+Re<=L){let Le,ft,yt,st;switch(Re){case 1:Ee<128&&(Ce=Ee);break;case 2:Le=W[ye+1],(Le&192)===128&&(st=(Ee&31)<<6|Le&63,st>127&&(Ce=st));break;case 3:Le=W[ye+1],ft=W[ye+2],(Le&192)===128&&(ft&192)===128&&(st=(Ee&15)<<12|(Le&63)<<6|ft&63,st>2047&&(st<55296||st>57343)&&(Ce=st));break;case 4:Le=W[ye+1],ft=W[ye+2],yt=W[ye+3],(Le&192)===128&&(ft&192)===128&&(yt&192)===128&&(st=(Ee&15)<<18|(Le&63)<<12|(ft&63)<<6|yt&63,st>65535&&st<1114112&&(Ce=st))}}Ce===null?(Ce=65533,Re=1):Ce>65535&&(Ce-=65536,re.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),re.push(Ce),ye+=Re}return H(re)}const X=4096;function H(W){const I=W.length;if(I<=X)return String.fromCharCode.apply(String,W);let L="",re=0;for(;re<I;)L+=String.fromCharCode.apply(String,W.slice(re,re+=X));return L}function Z(W,I,L){let re="";L=Math.min(W.length,L);for(let ye=I;ye<L;++ye)re+=String.fromCharCode(W[ye]&127);return re}function fe(W,I,L){let re="";L=Math.min(W.length,L);for(let ye=I;ye<L;++ye)re+=String.fromCharCode(W[ye]);return re}function ee(W,I,L){const re=W.length;(!I||I<0)&&(I=0),(!L||L<0||L>re)&&(L=re);let ye="";for(let Ee=I;Ee<L;++Ee)ye+=nt[W[Ee]];return ye}function ae(W,I,L){const re=W.slice(I,L);let ye="";for(let Ee=0;Ee<re.length-1;Ee+=2)ye+=String.fromCharCode(re[Ee]+re[Ee+1]*256);return ye}a.prototype.slice=function(I,L){const re=this.length;I=~~I,L=L===void 0?re:~~L,I<0?(I+=re,I<0&&(I=0)):I>re&&(I=re),L<0?(L+=re,L<0&&(L=0)):L>re&&(L=re),L<I&&(L=I);const ye=this.subarray(I,L);return Object.setPrototypeOf(ye,a.prototype),ye};function M(W,I,L){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+I>L)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(I,L,re){I=I>>>0,L=L>>>0,re||M(I,L,this.length);let ye=this[I],Ee=1,Ce=0;for(;++Ce<L&&(Ee*=256);)ye+=this[I+Ce]*Ee;return ye},a.prototype.readUintBE=a.prototype.readUIntBE=function(I,L,re){I=I>>>0,L=L>>>0,re||M(I,L,this.length);let ye=this[I+--L],Ee=1;for(;L>0&&(Ee*=256);)ye+=this[I+--L]*Ee;return ye},a.prototype.readUint8=a.prototype.readUInt8=function(I,L){return I=I>>>0,L||M(I,1,this.length),this[I]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(I,L){return I=I>>>0,L||M(I,2,this.length),this[I]|this[I+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(I,L){return I=I>>>0,L||M(I,2,this.length),this[I]<<8|this[I+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(I,L){return I=I>>>0,L||M(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+this[I+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(I,L){return I=I>>>0,L||M(I,4,this.length),this[I]*16777216+(this[I+1]<<16|this[I+2]<<8|this[I+3])},a.prototype.readBigUInt64LE=We(function(I){I=I>>>0,R(I,"offset");const L=this[I],re=this[I+7];(L===void 0||re===void 0)&&C(I,this.length-8);const ye=L+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24,Ee=this[++I]+this[++I]*2**8+this[++I]*2**16+re*2**24;return BigInt(ye)+(BigInt(Ee)<<BigInt(32))}),a.prototype.readBigUInt64BE=We(function(I){I=I>>>0,R(I,"offset");const L=this[I],re=this[I+7];(L===void 0||re===void 0)&&C(I,this.length-8);const ye=L*2**24+this[++I]*2**16+this[++I]*2**8+this[++I],Ee=this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+re;return(BigInt(ye)<<BigInt(32))+BigInt(Ee)}),a.prototype.readIntLE=function(I,L,re){I=I>>>0,L=L>>>0,re||M(I,L,this.length);let ye=this[I],Ee=1,Ce=0;for(;++Ce<L&&(Ee*=256);)ye+=this[I+Ce]*Ee;return Ee*=128,ye>=Ee&&(ye-=Math.pow(2,8*L)),ye},a.prototype.readIntBE=function(I,L,re){I=I>>>0,L=L>>>0,re||M(I,L,this.length);let ye=L,Ee=1,Ce=this[I+--ye];for(;ye>0&&(Ee*=256);)Ce+=this[I+--ye]*Ee;return Ee*=128,Ce>=Ee&&(Ce-=Math.pow(2,8*L)),Ce},a.prototype.readInt8=function(I,L){return I=I>>>0,L||M(I,1,this.length),this[I]&128?(255-this[I]+1)*-1:this[I]},a.prototype.readInt16LE=function(I,L){I=I>>>0,L||M(I,2,this.length);const re=this[I]|this[I+1]<<8;return re&32768?re|4294901760:re},a.prototype.readInt16BE=function(I,L){I=I>>>0,L||M(I,2,this.length);const re=this[I+1]|this[I]<<8;return re&32768?re|4294901760:re},a.prototype.readInt32LE=function(I,L){return I=I>>>0,L||M(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},a.prototype.readInt32BE=function(I,L){return I=I>>>0,L||M(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},a.prototype.readBigInt64LE=We(function(I){I=I>>>0,R(I,"offset");const L=this[I],re=this[I+7];(L===void 0||re===void 0)&&C(I,this.length-8);const ye=this[I+4]+this[I+5]*2**8+this[I+6]*2**16+(re<<24);return(BigInt(ye)<<BigInt(32))+BigInt(L+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24)}),a.prototype.readBigInt64BE=We(function(I){I=I>>>0,R(I,"offset");const L=this[I],re=this[I+7];(L===void 0||re===void 0)&&C(I,this.length-8);const ye=(L<<24)+this[++I]*2**16+this[++I]*2**8+this[++I];return(BigInt(ye)<<BigInt(32))+BigInt(this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+re)}),a.prototype.readFloatLE=function(I,L){return I=I>>>0,L||M(I,4,this.length),t.read(this,I,!0,23,4)},a.prototype.readFloatBE=function(I,L){return I=I>>>0,L||M(I,4,this.length),t.read(this,I,!1,23,4)},a.prototype.readDoubleLE=function(I,L){return I=I>>>0,L||M(I,8,this.length),t.read(this,I,!0,52,8)},a.prototype.readDoubleBE=function(I,L){return I=I>>>0,L||M(I,8,this.length),t.read(this,I,!1,52,8)};function B(W,I,L,re,ye,Ee){if(!a.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>ye||I<Ee)throw new RangeError('"value" argument is out of bounds');if(L+re>W.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(I,L,re,ye){if(I=+I,L=L>>>0,re=re>>>0,!ye){const Re=Math.pow(2,8*re)-1;B(this,I,L,re,Re,0)}let Ee=1,Ce=0;for(this[L]=I&255;++Ce<re&&(Ee*=256);)this[L+Ce]=I/Ee&255;return L+re},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(I,L,re,ye){if(I=+I,L=L>>>0,re=re>>>0,!ye){const Re=Math.pow(2,8*re)-1;B(this,I,L,re,Re,0)}let Ee=re-1,Ce=1;for(this[L+Ee]=I&255;--Ee>=0&&(Ce*=256);)this[L+Ee]=I/Ce&255;return L+re},a.prototype.writeUint8=a.prototype.writeUInt8=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,1,255,0),this[L]=I&255,L+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,2,65535,0),this[L]=I&255,this[L+1]=I>>>8,L+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,2,65535,0),this[L]=I>>>8,this[L+1]=I&255,L+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,4,4294967295,0),this[L+3]=I>>>24,this[L+2]=I>>>16,this[L+1]=I>>>8,this[L]=I&255,L+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,4,4294967295,0),this[L]=I>>>24,this[L+1]=I>>>16,this[L+2]=I>>>8,this[L+3]=I&255,L+4};function K(W,I,L,re,ye){Oe(I,re,ye,W,L,7);let Ee=Number(I&BigInt(4294967295));W[L++]=Ee,Ee=Ee>>8,W[L++]=Ee,Ee=Ee>>8,W[L++]=Ee,Ee=Ee>>8,W[L++]=Ee;let Ce=Number(I>>BigInt(32)&BigInt(4294967295));return W[L++]=Ce,Ce=Ce>>8,W[L++]=Ce,Ce=Ce>>8,W[L++]=Ce,Ce=Ce>>8,W[L++]=Ce,L}function O(W,I,L,re,ye){Oe(I,re,ye,W,L,7);let Ee=Number(I&BigInt(4294967295));W[L+7]=Ee,Ee=Ee>>8,W[L+6]=Ee,Ee=Ee>>8,W[L+5]=Ee,Ee=Ee>>8,W[L+4]=Ee;let Ce=Number(I>>BigInt(32)&BigInt(4294967295));return W[L+3]=Ce,Ce=Ce>>8,W[L+2]=Ce,Ce=Ce>>8,W[L+1]=Ce,Ce=Ce>>8,W[L]=Ce,L+8}a.prototype.writeBigUInt64LE=We(function(I,L=0){return K(this,I,L,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=We(function(I,L=0){return O(this,I,L,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(I,L,re,ye){if(I=+I,L=L>>>0,!ye){const Le=Math.pow(2,8*re-1);B(this,I,L,re,Le-1,-Le)}let Ee=0,Ce=1,Re=0;for(this[L]=I&255;++Ee<re&&(Ce*=256);)I<0&&Re===0&&this[L+Ee-1]!==0&&(Re=1),this[L+Ee]=(I/Ce>>0)-Re&255;return L+re},a.prototype.writeIntBE=function(I,L,re,ye){if(I=+I,L=L>>>0,!ye){const Le=Math.pow(2,8*re-1);B(this,I,L,re,Le-1,-Le)}let Ee=re-1,Ce=1,Re=0;for(this[L+Ee]=I&255;--Ee>=0&&(Ce*=256);)I<0&&Re===0&&this[L+Ee+1]!==0&&(Re=1),this[L+Ee]=(I/Ce>>0)-Re&255;return L+re},a.prototype.writeInt8=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,1,127,-128),I<0&&(I=255+I+1),this[L]=I&255,L+1},a.prototype.writeInt16LE=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,2,32767,-32768),this[L]=I&255,this[L+1]=I>>>8,L+2},a.prototype.writeInt16BE=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,2,32767,-32768),this[L]=I>>>8,this[L+1]=I&255,L+2},a.prototype.writeInt32LE=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,4,2147483647,-2147483648),this[L]=I&255,this[L+1]=I>>>8,this[L+2]=I>>>16,this[L+3]=I>>>24,L+4},a.prototype.writeInt32BE=function(I,L,re){return I=+I,L=L>>>0,re||B(this,I,L,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[L]=I>>>24,this[L+1]=I>>>16,this[L+2]=I>>>8,this[L+3]=I&255,L+4},a.prototype.writeBigInt64LE=We(function(I,L=0){return K(this,I,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=We(function(I,L=0){return O(this,I,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function N(W,I,L,re,ye,Ee){if(L+re>W.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function q(W,I,L,re,ye){return I=+I,L=L>>>0,ye||N(W,I,L,4),t.write(W,I,L,re,23,4),L+4}a.prototype.writeFloatLE=function(I,L,re){return q(this,I,L,!0,re)},a.prototype.writeFloatBE=function(I,L,re){return q(this,I,L,!1,re)};function ne(W,I,L,re,ye){return I=+I,L=L>>>0,ye||N(W,I,L,8),t.write(W,I,L,re,52,8),L+8}a.prototype.writeDoubleLE=function(I,L,re){return ne(this,I,L,!0,re)},a.prototype.writeDoubleBE=function(I,L,re){return ne(this,I,L,!1,re)},a.prototype.copy=function(I,L,re,ye){if(!a.isBuffer(I))throw new TypeError("argument should be a Buffer");if(re||(re=0),!ye&&ye!==0&&(ye=this.length),L>=I.length&&(L=I.length),L||(L=0),ye>0&&ye<re&&(ye=re),ye===re||I.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(re<0||re>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),I.length-L<ye-re&&(ye=I.length-L+re);const Ee=ye-re;return this===I&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,re,ye):Uint8Array.prototype.set.call(I,this.subarray(re,ye),L),Ee},a.prototype.fill=function(I,L,re,ye){if(typeof I=="string"){if(typeof L=="string"?(ye=L,L=0,re=this.length):typeof re=="string"&&(ye=re,re=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!a.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(I.length===1){const Ce=I.charCodeAt(0);(ye==="utf8"&&Ce<128||ye==="latin1")&&(I=Ce)}}else typeof I=="number"?I=I&255:typeof I=="boolean"&&(I=Number(I));if(L<0||this.length<L||this.length<re)throw new RangeError("Out of range index");if(re<=L)return this;L=L>>>0,re=re===void 0?this.length:re>>>0,I||(I=0);let Ee;if(typeof I=="number")for(Ee=L;Ee<re;++Ee)this[Ee]=I;else{const Ce=a.isBuffer(I)?I:a.from(I,ye),Re=Ce.length;if(Re===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(Ee=0;Ee<re-L;++Ee)this[Ee+L]=Ce[Ee%Re]}return this};const J={};function Y(W,I,L){J[W]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:I.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(ye){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ye,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(W,I){return`The "${W}" argument must be of type number. Received type ${typeof I}`},TypeError),Y("ERR_OUT_OF_RANGE",function(W,I,L){let re=`The value of "${W}" is out of range.`,ye=L;return Number.isInteger(L)&&Math.abs(L)>2**32?ye=oe(String(L)):typeof L=="bigint"&&(ye=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(ye=oe(ye)),ye+="n"),re+=` It must be ${I}. Received ${ye}`,re},RangeError);function oe(W){let I="",L=W.length;const re=W[0]==="-"?1:0;for(;L>=re+4;L-=3)I=`_${W.slice(L-3,L)}${I}`;return`${W.slice(0,L)}${I}`}function be(W,I,L){R(I,"offset"),(W[I]===void 0||W[I+L]===void 0)&&C(I,W.length-(L+1))}function Oe(W,I,L,re,ye,Ee){if(W>L||W<I){const Ce=typeof I=="bigint"?"n":"";let Re;throw I===0||I===BigInt(0)?Re=`>= 0${Ce} and < 2${Ce} ** ${(Ee+1)*8}${Ce}`:Re=`>= -(2${Ce} ** ${(Ee+1)*8-1}${Ce}) and < 2 ** ${(Ee+1)*8-1}${Ce}`,new J.ERR_OUT_OF_RANGE("value",Re,W)}be(re,ye,Ee)}function R(W,I){if(typeof W!="number")throw new J.ERR_INVALID_ARG_TYPE(I,"number",W)}function C(W,I,L){throw Math.floor(W)!==W?(R(W,L),new J.ERR_OUT_OF_RANGE("offset","an integer",W)):I<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${I}`,W)}const D=/[^+/0-9A-Za-z-_]/g;function G(W){if(W=W.split("=")[0],W=W.trim().replace(D,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function ie(W,I){I=I||1/0;let L;const re=W.length;let ye=null;const Ee=[];for(let Ce=0;Ce<re;++Ce){if(L=W.charCodeAt(Ce),L>55295&&L<57344){if(!ye){if(L>56319){(I-=3)>-1&&Ee.push(239,191,189);continue}else if(Ce+1===re){(I-=3)>-1&&Ee.push(239,191,189);continue}ye=L;continue}if(L<56320){(I-=3)>-1&&Ee.push(239,191,189),ye=L;continue}L=(ye-55296<<10|L-56320)+65536}else ye&&(I-=3)>-1&&Ee.push(239,191,189);if(ye=null,L<128){if((I-=1)<0)break;Ee.push(L)}else if(L<2048){if((I-=2)<0)break;Ee.push(L>>6|192,L&63|128)}else if(L<65536){if((I-=3)<0)break;Ee.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((I-=4)<0)break;Ee.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return Ee}function ue(W){const I=[];for(let L=0;L<W.length;++L)I.push(W.charCodeAt(L)&255);return I}function de(W,I){let L,re,ye;const Ee=[];for(let Ce=0;Ce<W.length&&!((I-=2)<0);++Ce)L=W.charCodeAt(Ce),re=L>>8,ye=L%256,Ee.push(ye),Ee.push(re);return Ee}function ve(W){return e.toByteArray(G(W))}function Ne(W,I,L,re){let ye;for(ye=0;ye<re&&!(ye+L>=I.length||ye>=W.length);++ye)I[ye+L]=W[ye];return ye}function Be(W,I){return W instanceof I||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===I.name}function je(W){return W!==W}const nt=function(){const W="0123456789abcdef",I=new Array(256);for(let L=0;L<16;++L){const re=L*16;for(let ye=0;ye<16;++ye)I[re+ye]=W[L]+W[ye]}return I}();function We(W){return typeof BigInt>"u"?Ue:W}function Ue(){throw new Error("BigInt not supported")}return vu}function Lf(){return hA||(hA=!0,typeof Object.create=="function"?jp=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:jp=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),jp}function _z(){return pA||(pA=!0,e0=Yi.EventEmitter),e0}function ree(){if(mA)return t0;mA=!0;function e(p,m){var g=Object.keys(p);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(p);m&&(_=_.filter(function(v){return Object.getOwnPropertyDescriptor(p,v).enumerable})),g.push.apply(g,_)}return g}function t(p){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?e(Object(g),!0).forEach(function(_){r(p,_,g[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(g)):e(Object(g)).forEach(function(_){Object.defineProperty(p,_,Object.getOwnPropertyDescriptor(g,_))})}return p}function r(p,m,g){return m in p?Object.defineProperty(p,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[m]=g,p}function n(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function i(p,m){for(var g=0;g<m.length;g++){var _=m[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}function o(p,m,g){return m&&i(p.prototype,m),p}var a=xl,s=a.Buffer,l=ct,u=l.inspect,f=u&&u.custom||"inspect";function c(p,m,g){s.prototype.copy.call(p,m,g)}return t0=function(){function p(){n(this,p),this.head=null,this.tail=null,this.length=0}return o(p,[{key:"push",value:function(g){var _={data:g,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(g){var _={data:g,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var _=this.head,v=""+_.data;_=_.next;)v+=g+_.data;return v}},{key:"concat",value:function(g){if(this.length===0)return s.alloc(0);for(var _=s.allocUnsafe(g>>>0),v=this.head,h=0;v;)c(v.data,_,h),h+=v.data.length,v=v.next;return _}},{key:"consume",value:function(g,_){var v;return g<this.head.data.length?(v=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?v=this.shift():v=_?this._getString(g):this._getBuffer(g),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var _=this.head,v=1,h=_.data;for(g-=h.length;_=_.next;){var E=_.data,y=g>E.length?E.length:g;if(y===E.length?h+=E:h+=E.slice(0,g),g-=y,g===0){y===E.length?(++v,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=E.slice(y));break}++v}return this.length-=v,h}},{key:"_getBuffer",value:function(g){var _=s.allocUnsafe(g),v=this.head,h=1;for(v.data.copy(_),g-=v.data.length;v=v.next;){var E=v.data,y=g>E.length?E.length:g;if(E.copy(_,_.length-g,0,y),g-=y,g===0){y===E.length?(++h,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=E.slice(y));break}++h}return this.length-=h,_}},{key:f,value:function(g,_){return u(this,t({},_,{depth:0,customInspect:!1}))}}]),p}(),t0}function Ez(){if(gA)return r0;gA=!0;var e=Hr;function t(s,l){var u=this,f=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return f||c?(l?l(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,s)):e.nextTick(o,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(p){!l&&p?u._writableState?u._writableState.errorEmitted?e.nextTick(n,u):(u._writableState.errorEmitted=!0,e.nextTick(r,u,p)):e.nextTick(r,u,p):l?(e.nextTick(n,u),l(p)):e.nextTick(n,u)}),this)}function r(s,l){o(s,l),n(s)}function n(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(s,l){s.emit("error",l)}function a(s,l){var u=s._readableState,f=s._writableState;u&&u.autoDestroy||f&&f.autoDestroy?s.destroy(l):s.emit("error",l)}return r0={destroy:t,undestroy:i,errorOrDestroy:a},r0}function Fh(){if(vA)return n0;vA=!0;const e={};function t(a,s,l){l||(l=Error);function u(c,p,m){return typeof s=="string"?s:s(c,p,m)}class f extends l{constructor(p,m,g){super(u(p,m,g))}}f.prototype.name=l.name,f.prototype.code=a,e[a]=f}function r(a,s){if(Array.isArray(a)){const l=a.length;return a=a.map(u=>String(u)),l>2?`one of ${s} ${a.slice(0,l-1).join(", ")}, or `+a[l-1]:l===2?`one of ${s} ${a[0]} or ${a[1]}`:`of ${s} ${a[0]}`}else return`of ${s} ${String(a)}`}function n(a,s,l){return a.substr(0,s.length)===s}function i(a,s,l){return(l===void 0||l>a.length)&&(l=a.length),a.substring(l-s.length,l)===s}function o(a,s,l){return typeof l!="number"&&(l=0),l+s.length>a.length?!1:a.indexOf(s,l)!==-1}return t("ERR_INVALID_OPT_VALUE",function(a,s){return'The value "'+s+'" is invalid for option "'+a+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(a,s,l){let u;typeof s=="string"&&n(s,"not ")?(u="must not be",s=s.replace(/^not /,"")):u="must be";let f;if(i(a," argument"))f=`The ${a} ${u} ${r(s,"type")}`;else{const c=o(a,".")?"property":"argument";f=`The "${a}" ${c} ${u} ${r(s,"type")}`}return f+=`. Received type ${typeof l}`,f},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n0.codes=e,n0}function Sz(){if(yA)return i0;yA=!0;var e=Fh().codes.ERR_INVALID_OPT_VALUE;function t(n,i,o){return n.highWaterMark!=null?n.highWaterMark:i?n[o]:null}function r(n,i,o,a){var s=t(i,a,o);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var l=a?o:"highWaterMark";throw new e(l,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return i0={getHighWaterMark:r},i0}function nee(){if(wA)return o0;wA=!0,o0=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function o(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this||a0,arguments)}return o}function t(r){try{if(!a0.localStorage)return!1}catch{return!1}var n=a0.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return o0}function $z(){if(bA)return s0;bA=!0;var e=Hr;s0=x;function t(J){var Y=this;this.next=null,this.entry=null,this.finish=function(){ne(Y,J)}}var r;x.WritableState=d;var n={deprecate:nee()},i=_z(),o=xl.Buffer,a=Oz.Uint8Array||function(){};function s(J){return o.from(J)}function l(J){return o.isBuffer(J)||J instanceof a}var u=Ez(),f=Sz(),c=f.getHighWaterMark,p=Fh().codes,m=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,_=p.ERR_MULTIPLE_CALLBACK,v=p.ERR_STREAM_CANNOT_PIPE,h=p.ERR_STREAM_DESTROYED,E=p.ERR_STREAM_NULL_VALUES,y=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING,$=u.errorOrDestroy;Lf()(x,i);function T(){}function d(J,Y,oe){r=r||Th(),J=J||{},typeof oe!="boolean"&&(oe=Y instanceof r),this.objectMode=!!J.objectMode,oe&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=c(this,J,"writableHighWaterMark",oe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var be=J.decodeStrings===!1;this.decodeStrings=!be,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Oe){fe(Y,Oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}d.prototype.getBuffer=function(){for(var Y=this.bufferedRequest,oe=[];Y;)oe.push(Y),Y=Y.next;return oe},function(){try{Object.defineProperty(d.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var A;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(Y){return A.call(this,Y)?!0:this!==x?!1:Y&&Y._writableState instanceof d}})):A=function(Y){return Y instanceof this};function x(J){r=r||Th();var Y=this instanceof r;if(!Y&&!A.call(x,this))return new x(J);this._writableState=new d(J,this,Y),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),i.call(this)}x.prototype.pipe=function(){$(this,new v)};function P(J,Y){var oe=new y;$(J,oe),e.nextTick(Y,oe)}function j(J,Y,oe,be){var Oe;return oe===null?Oe=new E:typeof oe!="string"&&!Y.objectMode&&(Oe=new m("chunk",["string","Buffer"],oe)),Oe?($(J,Oe),e.nextTick(be,Oe),!1):!0}x.prototype.write=function(J,Y,oe){var be=this._writableState,Oe=!1,R=!be.objectMode&&l(J);return R&&!o.isBuffer(J)&&(J=s(J)),typeof Y=="function"&&(oe=Y,Y=null),R?Y="buffer":Y||(Y=be.defaultEncoding),typeof oe!="function"&&(oe=T),be.ending?P(this,oe):(R||j(this,be,J,oe))&&(be.pendingcb++,Oe=V(this,be,R,J,Y,oe)),Oe},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&M(this,J))},x.prototype.setDefaultEncoding=function(Y){if(typeof Y=="string"&&(Y=Y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Y+"").toLowerCase())>-1))throw new S(Y);return this._writableState.defaultEncoding=Y,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function F(J,Y,oe){return!J.objectMode&&J.decodeStrings!==!1&&typeof Y=="string"&&(Y=o.from(Y,oe)),Y}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function V(J,Y,oe,be,Oe,R){if(!oe){var C=F(Y,be,Oe);be!==C&&(oe=!0,Oe="buffer",be=C)}var D=Y.objectMode?1:be.length;Y.length+=D;var G=Y.length<Y.highWaterMark;if(G||(Y.needDrain=!0),Y.writing||Y.corked){var ie=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:be,encoding:Oe,isBuf:oe,callback:R,next:null},ie?ie.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else X(J,Y,!1,D,be,Oe,R);return G}function X(J,Y,oe,be,Oe,R,C){Y.writelen=be,Y.writecb=C,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new h("write")):oe?J._writev(Oe,Y.onwrite):J._write(Oe,R,Y.onwrite),Y.sync=!1}function H(J,Y,oe,be,Oe){--Y.pendingcb,oe?(e.nextTick(Oe,be),e.nextTick(N,J,Y),J._writableState.errorEmitted=!0,$(J,be)):(Oe(be),J._writableState.errorEmitted=!0,$(J,be),N(J,Y))}function Z(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function fe(J,Y){var oe=J._writableState,be=oe.sync,Oe=oe.writecb;if(typeof Oe!="function")throw new _;if(Z(oe),Y)H(J,oe,be,Y,Oe);else{var R=B(oe)||J.destroyed;!R&&!oe.corked&&!oe.bufferProcessing&&oe.bufferedRequest&&M(J,oe),be?e.nextTick(ee,J,oe,R,Oe):ee(J,oe,R,Oe)}}function ee(J,Y,oe,be){oe||ae(J,Y),Y.pendingcb--,be(),N(J,Y)}function ae(J,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,J.emit("drain"))}function M(J,Y){Y.bufferProcessing=!0;var oe=Y.bufferedRequest;if(J._writev&&oe&&oe.next){var be=Y.bufferedRequestCount,Oe=new Array(be),R=Y.corkedRequestsFree;R.entry=oe;for(var C=0,D=!0;oe;)Oe[C]=oe,oe.isBuf||(D=!1),oe=oe.next,C+=1;Oe.allBuffers=D,X(J,Y,!0,Y.length,Oe,"",R.finish),Y.pendingcb++,Y.lastBufferedRequest=null,R.next?(Y.corkedRequestsFree=R.next,R.next=null):Y.corkedRequestsFree=new t(Y),Y.bufferedRequestCount=0}else{for(;oe;){var G=oe.chunk,ie=oe.encoding,ue=oe.callback,de=Y.objectMode?1:G.length;if(X(J,Y,!1,de,G,ie,ue),oe=oe.next,Y.bufferedRequestCount--,Y.writing)break}oe===null&&(Y.lastBufferedRequest=null)}Y.bufferedRequest=oe,Y.bufferProcessing=!1}x.prototype._write=function(J,Y,oe){oe(new g("_write()"))},x.prototype._writev=null,x.prototype.end=function(J,Y,oe){var be=this._writableState;return typeof J=="function"?(oe=J,J=null,Y=null):typeof Y=="function"&&(oe=Y,Y=null),J!=null&&this.write(J,Y),be.corked&&(be.corked=1,this.uncork()),be.ending||q(this,be,oe),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function K(J,Y){J._final(function(oe){Y.pendingcb--,oe&&$(J,oe),Y.prefinished=!0,J.emit("prefinish"),N(J,Y)})}function O(J,Y){!Y.prefinished&&!Y.finalCalled&&(typeof J._final=="function"&&!Y.destroyed?(Y.pendingcb++,Y.finalCalled=!0,e.nextTick(K,J,Y)):(Y.prefinished=!0,J.emit("prefinish")))}function N(J,Y){var oe=B(Y);if(oe&&(O(J,Y),Y.pendingcb===0&&(Y.finished=!0,J.emit("finish"),Y.autoDestroy))){var be=J._readableState;(!be||be.autoDestroy&&be.endEmitted)&&J.destroy()}return oe}function q(J,Y,oe){Y.ending=!0,N(J,Y),oe&&(Y.finished?e.nextTick(oe):J.once("finish",oe)),Y.ended=!0,J.writable=!1}function ne(J,Y,oe){var be=J.entry;for(J.entry=null;be;){var Oe=be.callback;Y.pendingcb--,Oe(oe),be=be.next}Y.corkedRequestsFree.next=J}return Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Y){this._writableState&&(this._writableState.destroyed=Y)}}),x.prototype.destroy=u.destroy,x.prototype._undestroy=u.undestroy,x.prototype._destroy=function(J,Y){Y(J)},s0}function Th(){if(_A)return l0;_A=!0;var e=Hr,t=Object.keys||function(f){var c=[];for(var p in f)c.push(p);return c};l0=s;var r=Tz(),n=$z();Lf()(s,r);for(var i=t(n.prototype),o=0;o<i.length;o++){var a=i[o];s.prototype[a]||(s.prototype[a]=n.prototype[a])}function s(f){if(!(this instanceof s))return new s(f);r.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||e.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),l0}function jR(){if(EA)return u0;EA=!0;var e=Fh().codes.ERR_STREAM_PREMATURE_CLOSE;function t(o){var a=!1;return function(){if(!a){a=!0;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];o.apply(this,l)}}}function r(){}function n(o){return o.setHeader&&typeof o.abort=="function"}function i(o,a,s){if(typeof a=="function")return i(o,null,a);a||(a={}),s=t(s||r);var l=a.readable||a.readable!==!1&&o.readable,u=a.writable||a.writable!==!1&&o.writable,f=function(){o.writable||p()},c=o._writableState&&o._writableState.finished,p=function(){u=!1,c=!0,l||s.call(o)},m=o._readableState&&o._readableState.endEmitted,g=function(){l=!1,m=!0,u||s.call(o)},_=function(y){s.call(o,y)},v=function(){var y;if(l&&!m)return(!o._readableState||!o._readableState.ended)&&(y=new e),s.call(o,y);if(u&&!c)return(!o._writableState||!o._writableState.ended)&&(y=new e),s.call(o,y)},h=function(){o.req.on("finish",p)};return n(o)?(o.on("complete",p),o.on("abort",v),o.req?h():o.on("request",h)):u&&!o._writableState&&(o.on("end",f),o.on("close",f)),o.on("end",g),o.on("finish",p),a.error!==!1&&o.on("error",_),o.on("close",v),function(){o.removeListener("complete",p),o.removeListener("abort",v),o.removeListener("request",h),o.req&&o.req.removeListener("finish",p),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",p),o.removeListener("end",g),o.removeListener("error",_),o.removeListener("close",v)}}return u0=i,u0}function iee(){if(SA)return c0;SA=!0;var e=Hr,t;function r(E,y,S){return y in E?Object.defineProperty(E,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[y]=S,E}var n=jR(),i=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),s=Symbol("ended"),l=Symbol("lastPromise"),u=Symbol("handlePromise"),f=Symbol("stream");function c(E,y){return{value:E,done:y}}function p(E){var y=E[i];if(y!==null){var S=E[f].read();S!==null&&(E[l]=null,E[i]=null,E[o]=null,y(c(S,!1)))}}function m(E){e.nextTick(p,E)}function g(E,y){return function(S,$){E.then(function(){if(y[s]){S(c(void 0,!0));return}y[u](S,$)},$)}}var _=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var y=this,S=this[a];if(S!==null)return Promise.reject(S);if(this[s])return Promise.resolve(c(void 0,!0));if(this[f].destroyed)return new Promise(function(A,x){e.nextTick(function(){y[a]?x(y[a]):A(c(void 0,!0))})});var $=this[l],T;if($)T=new Promise(g($,this));else{var d=this[f].read();if(d!==null)return Promise.resolve(c(d,!1));T=new Promise(this[u])}return this[l]=T,T}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var y=this;return new Promise(function(S,$){y[f].destroy(null,function(T){if(T){$(T);return}S(c(void 0,!0))})})}),t),_),h=function(y){var S,$=Object.create(v,(S={},r(S,f,{value:y,writable:!0}),r(S,i,{value:null,writable:!0}),r(S,o,{value:null,writable:!0}),r(S,a,{value:null,writable:!0}),r(S,s,{value:y._readableState.endEmitted,writable:!0}),r(S,u,{value:function(d,A){var x=$[f].read();x?($[l]=null,$[i]=null,$[o]=null,d(c(x,!1))):($[i]=d,$[o]=A)},writable:!0}),S));return $[l]=null,n(y,function(T){if(T&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"){var d=$[o];d!==null&&($[l]=null,$[i]=null,$[o]=null,d(T)),$[a]=T;return}var A=$[i];A!==null&&($[l]=null,$[i]=null,$[o]=null,A(c(void 0,!0))),$[s]=!0}),y.on("readable",m.bind(null,$)),$};return c0=h,c0}function oee(){return $A||($A=!0,f0=function(){throw new Error("Readable.from is not available in the browser")}),f0}function Tz(){if(TA)return d0;TA=!0;var e=Hr;d0=P;var t;P.ReadableState=x,Yi.EventEmitter;var r=function(C,D){return C.listeners(D).length},n=_z(),i=xl.Buffer,o=Rz.Uint8Array||function(){};function a(R){return i.from(R)}function s(R){return i.isBuffer(R)||R instanceof o}var l=ct,u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var f=ree(),c=Ez(),p=Sz(),m=p.getHighWaterMark,g=Fh().codes,_=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,h=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,S,$;Lf()(P,n);var T=c.errorOrDestroy,d=["error","close","destroy","pause","resume"];function A(R,C,D){if(typeof R.prependListener=="function")return R.prependListener(C,D);!R._events||!R._events[C]?R.on(C,D):Array.isArray(R._events[C])?R._events[C].unshift(D):R._events[C]=[D,R._events[C]]}function x(R,C,D){t=t||Th(),R=R||{},typeof D!="boolean"&&(D=C instanceof t),this.objectMode=!!R.objectMode,D&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=m(this,R,"readableHighWaterMark",D),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(y||(y=Cb.StringDecoder),this.decoder=new y(R.encoding),this.encoding=R.encoding)}function P(R){if(t=t||Th(),!(this instanceof P))return new P(R);var C=this instanceof t;this._readableState=new x(R,this,C),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),n.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),P.prototype.destroy=c.destroy,P.prototype._undestroy=c.undestroy,P.prototype._destroy=function(R,C){C(R)},P.prototype.push=function(R,C){var D=this._readableState,G;return D.objectMode?G=!0:typeof R=="string"&&(C=C||D.defaultEncoding,C!==D.encoding&&(R=i.from(R,C),C=""),G=!0),j(this,R,C,!1,G)},P.prototype.unshift=function(R){return j(this,R,null,!0,!1)};function j(R,C,D,G,ie){u("readableAddChunk",C);var ue=R._readableState;if(C===null)ue.reading=!1,fe(R,ue);else{var de;if(ie||(de=V(ue,C)),de)T(R,de);else if(ue.objectMode||C&&C.length>0)if(typeof C!="string"&&!ue.objectMode&&Object.getPrototypeOf(C)!==i.prototype&&(C=a(C)),G)ue.endEmitted?T(R,new E):F(R,ue,C,!0);else if(ue.ended)T(R,new v);else{if(ue.destroyed)return!1;ue.reading=!1,ue.decoder&&!D?(C=ue.decoder.write(C),ue.objectMode||C.length!==0?F(R,ue,C,!1):M(R,ue)):F(R,ue,C,!1)}else G||(ue.reading=!1,M(R,ue))}return!ue.ended&&(ue.length<ue.highWaterMark||ue.length===0)}function F(R,C,D,G){C.flowing&&C.length===0&&!C.sync?(C.awaitDrain=0,R.emit("data",D)):(C.length+=C.objectMode?1:D.length,G?C.buffer.unshift(D):C.buffer.push(D),C.needReadable&&ee(R)),M(R,C)}function V(R,C){var D;return!s(C)&&typeof C!="string"&&C!==void 0&&!R.objectMode&&(D=new _("chunk",["string","Buffer","Uint8Array"],C)),D}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(R){y||(y=Cb.StringDecoder);var C=new y(R);this._readableState.decoder=C,this._readableState.encoding=this._readableState.decoder.encoding;for(var D=this._readableState.buffer.head,G="";D!==null;)G+=C.write(D.data),D=D.next;return this._readableState.buffer.clear(),G!==""&&this._readableState.buffer.push(G),this._readableState.length=G.length,this};var X=1073741824;function H(R){return R>=X?R=X:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function Z(R,C){return R<=0||C.length===0&&C.ended?0:C.objectMode?1:R!==R?C.flowing&&C.length?C.buffer.head.data.length:C.length:(R>C.highWaterMark&&(C.highWaterMark=H(R)),R<=C.length?R:C.ended?C.length:(C.needReadable=!0,0))}P.prototype.read=function(R){u("read",R),R=parseInt(R,10);var C=this._readableState,D=R;if(R!==0&&(C.emittedReadable=!1),R===0&&C.needReadable&&((C.highWaterMark!==0?C.length>=C.highWaterMark:C.length>0)||C.ended))return u("read: emitReadable",C.length,C.ended),C.length===0&&C.ended?oe(this):ee(this),null;if(R=Z(R,C),R===0&&C.ended)return C.length===0&&oe(this),null;var G=C.needReadable;u("need readable",G),(C.length===0||C.length-R<C.highWaterMark)&&(G=!0,u("length less than watermark",G)),C.ended||C.reading?(G=!1,u("reading or ended",G)):G&&(u("do read"),C.reading=!0,C.sync=!0,C.length===0&&(C.needReadable=!0),this._read(C.highWaterMark),C.sync=!1,C.reading||(R=Z(D,C)));var ie;return R>0?ie=Y(R,C):ie=null,ie===null?(C.needReadable=C.length<=C.highWaterMark,R=0):(C.length-=R,C.awaitDrain=0),C.length===0&&(C.ended||(C.needReadable=!0),D!==R&&C.ended&&oe(this)),ie!==null&&this.emit("data",ie),ie};function fe(R,C){if(u("onEofChunk"),!C.ended){if(C.decoder){var D=C.decoder.end();D&&D.length&&(C.buffer.push(D),C.length+=C.objectMode?1:D.length)}C.ended=!0,C.sync?ee(R):(C.needReadable=!1,C.emittedReadable||(C.emittedReadable=!0,ae(R)))}}function ee(R){var C=R._readableState;u("emitReadable",C.needReadable,C.emittedReadable),C.needReadable=!1,C.emittedReadable||(u("emitReadable",C.flowing),C.emittedReadable=!0,e.nextTick(ae,R))}function ae(R){var C=R._readableState;u("emitReadable_",C.destroyed,C.length,C.ended),!C.destroyed&&(C.length||C.ended)&&(R.emit("readable"),C.emittedReadable=!1),C.needReadable=!C.flowing&&!C.ended&&C.length<=C.highWaterMark,J(R)}function M(R,C){C.readingMore||(C.readingMore=!0,e.nextTick(B,R,C))}function B(R,C){for(;!C.reading&&!C.ended&&(C.length<C.highWaterMark||C.flowing&&C.length===0);){var D=C.length;if(u("maybeReadMore read 0"),R.read(0),D===C.length)break}C.readingMore=!1}P.prototype._read=function(R){T(this,new h("_read()"))},P.prototype.pipe=function(R,C){var D=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=R;break;case 1:G.pipes=[G.pipes,R];break;default:G.pipes.push(R);break}G.pipesCount+=1,u("pipe count=%d opts=%j",G.pipesCount,C);var ie=(!C||C.end!==!1)&&R!==e.stdout&&R!==e.stderr,ue=ie?ve:I;G.endEmitted?e.nextTick(ue):D.once("end",ue),R.on("unpipe",de);function de(L,re){u("onunpipe"),L===D&&re&&re.hasUnpiped===!1&&(re.hasUnpiped=!0,je())}function ve(){u("onend"),R.end()}var Ne=K(D);R.on("drain",Ne);var Be=!1;function je(){u("cleanup"),R.removeListener("close",Ue),R.removeListener("finish",W),R.removeListener("drain",Ne),R.removeListener("error",We),R.removeListener("unpipe",de),D.removeListener("end",ve),D.removeListener("end",I),D.removeListener("data",nt),Be=!0,G.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&Ne()}D.on("data",nt);function nt(L){u("ondata");var re=R.write(L);u("dest.write",re),re===!1&&((G.pipesCount===1&&G.pipes===R||G.pipesCount>1&&Oe(G.pipes,R)!==-1)&&!Be&&(u("false write response, pause",G.awaitDrain),G.awaitDrain++),D.pause())}function We(L){u("onerror",L),I(),R.removeListener("error",We),r(R,"error")===0&&T(R,L)}A(R,"error",We);function Ue(){R.removeListener("finish",W),I()}R.once("close",Ue);function W(){u("onfinish"),R.removeListener("close",Ue),I()}R.once("finish",W);function I(){u("unpipe"),D.unpipe(R)}return R.emit("pipe",D),G.flowing||(u("pipe resume"),D.resume()),R};function K(R){return function(){var D=R._readableState;u("pipeOnDrain",D.awaitDrain),D.awaitDrain&&D.awaitDrain--,D.awaitDrain===0&&r(R,"data")&&(D.flowing=!0,J(R))}}P.prototype.unpipe=function(R){var C=this._readableState,D={hasUnpiped:!1};if(C.pipesCount===0)return this;if(C.pipesCount===1)return R&&R!==C.pipes?this:(R||(R=C.pipes),C.pipes=null,C.pipesCount=0,C.flowing=!1,R&&R.emit("unpipe",this,D),this);if(!R){var G=C.pipes,ie=C.pipesCount;C.pipes=null,C.pipesCount=0,C.flowing=!1;for(var ue=0;ue<ie;ue++)G[ue].emit("unpipe",this,{hasUnpiped:!1});return this}var de=Oe(C.pipes,R);return de===-1?this:(C.pipes.splice(de,1),C.pipesCount-=1,C.pipesCount===1&&(C.pipes=C.pipes[0]),R.emit("unpipe",this,D),this)},P.prototype.on=function(R,C){var D=n.prototype.on.call(this,R,C),G=this._readableState;return R==="data"?(G.readableListening=this.listenerCount("readable")>0,G.flowing!==!1&&this.resume()):R==="readable"&&!G.endEmitted&&!G.readableListening&&(G.readableListening=G.needReadable=!0,G.flowing=!1,G.emittedReadable=!1,u("on readable",G.length,G.reading),G.length?ee(this):G.reading||e.nextTick(N,this)),D},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(R,C){var D=n.prototype.removeListener.call(this,R,C);return R==="readable"&&e.nextTick(O,this),D},P.prototype.removeAllListeners=function(R){var C=n.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&e.nextTick(O,this),C};function O(R){var C=R._readableState;C.readableListening=R.listenerCount("readable")>0,C.resumeScheduled&&!C.paused?C.flowing=!0:R.listenerCount("data")>0&&R.resume()}function N(R){u("readable nexttick read 0"),R.read(0)}P.prototype.resume=function(){var R=this._readableState;return R.flowing||(u("resume"),R.flowing=!R.readableListening,q(this,R)),R.paused=!1,this};function q(R,C){C.resumeScheduled||(C.resumeScheduled=!0,e.nextTick(ne,R,C))}function ne(R,C){u("resume",C.reading),C.reading||R.read(0),C.resumeScheduled=!1,R.emit("resume"),J(R),C.flowing&&!C.reading&&R.read(0)}P.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(R){var C=R._readableState;for(u("flow",C.flowing);C.flowing&&R.read()!==null;);}P.prototype.wrap=function(R){var C=this,D=this._readableState,G=!1;R.on("end",function(){if(u("wrapped end"),D.decoder&&!D.ended){var de=D.decoder.end();de&&de.length&&C.push(de)}C.push(null)}),R.on("data",function(de){if(u("wrapped data"),D.decoder&&(de=D.decoder.write(de)),!(D.objectMode&&de==null)&&!(!D.objectMode&&(!de||!de.length))){var ve=C.push(de);ve||(G=!0,R.pause())}});for(var ie in R)this[ie]===void 0&&typeof R[ie]=="function"&&(this[ie]=function(ve){return function(){return R[ve].apply(R,arguments)}}(ie));for(var ue=0;ue<d.length;ue++)R.on(d[ue],this.emit.bind(this,d[ue]));return this._read=function(de){u("wrapped _read",de),G&&(G=!1,R.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=iee()),S(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(C){this._readableState&&(this._readableState.flowing=C)}}),P._fromList=Y,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Y(R,C){if(C.length===0)return null;var D;return C.objectMode?D=C.buffer.shift():!R||R>=C.length?(C.decoder?D=C.buffer.join(""):C.buffer.length===1?D=C.buffer.first():D=C.buffer.concat(C.length),C.buffer.clear()):D=C.buffer.consume(R,C.decoder),D}function oe(R){var C=R._readableState;u("endReadable",C.endEmitted),C.endEmitted||(C.ended=!0,e.nextTick(be,C,R))}function be(R,C){if(u("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,C.readable=!1,C.emit("end"),R.autoDestroy)){var D=C._writableState;(!D||D.autoDestroy&&D.finished)&&C.destroy()}}typeof Symbol=="function"&&(P.from=function(R,C){return $===void 0&&($=oee()),$(P,R,C)});function Oe(R,C){for(var D=0,G=R.length;D<G;D++)if(R[D]===C)return D;return-1}return d0}function Az(){if(AA)return h0;AA=!0,h0=s;var e=Fh().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=Th();Lf()(s,o);function a(f,c){var p=this._transformState;p.transforming=!1;var m=p.writecb;if(m===null)return this.emit("error",new r);p.writechunk=null,p.writecb=null,c!=null&&this.push(c),m(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function s(f){if(!(this instanceof s))return new s(f);o.call(this,f),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,p){u(f,c,p)}):u(this,null,null)}s.prototype.push=function(f,c){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,c)},s.prototype._transform=function(f,c,p){p(new t("_transform()"))},s.prototype._write=function(f,c,p){var m=this._transformState;if(m.writecb=p,m.writechunk=f,m.writeencoding=c,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},s.prototype._read=function(f){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},s.prototype._destroy=function(f,c){o.prototype._destroy.call(this,f,function(p){c(p)})};function u(f,c,p){if(c)return f.emit("error",c);if(p!=null&&f.push(p),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return h0}function aee(){if(xA)return p0;xA=!0,p0=t;var e=Az();Lf()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},p0}function see(){if(PA)return m0;PA=!0;var e;function t(p){var m=!1;return function(){m||(m=!0,p.apply(void 0,arguments))}}var r=Fh().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function o(p){if(p)throw p}function a(p){return p.setHeader&&typeof p.abort=="function"}function s(p,m,g,_){_=t(_);var v=!1;p.on("close",function(){v=!0}),e===void 0&&(e=jR()),e(p,{readable:m,writable:g},function(E){if(E)return _(E);v=!0,_()});var h=!1;return function(E){if(!v&&!h){if(h=!0,a(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();_(E||new i("pipe"))}}}function l(p){p()}function u(p,m){return p.pipe(m)}function f(p){return!p.length||typeof p[p.length-1]!="function"?o:p.pop()}function c(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];var _=f(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new n("streams");var v,h=m.map(function(E,y){var S=y<m.length-1,$=y>0;return s(E,S,$,function(T){v||(v=T),T&&h.forEach(l),!S&&(h.forEach(l),_(v))})});return m.reduce(u)}return m0=c,m0}var gD,es,Fo,vD,kv,Ic,yD,wD,$s,kb,Hc,XS,xz,Pz,pp,mp,Ka,bD,Cb,jb,uA,$d,cA,Cp,fA,vu,dA,xl,jp,hA,e0,pA,t0,mA,r0,gA,n0,vA,i0,yA,o0,wA,a0,s0,bA,Oz,l0,_A,u0,EA,c0,SA,f0,$A,d0,TA,Rz,h0,AA,p0,xA,m0,PA,Iz=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-B738Er4n.js"(){for(Te(),H_(),wg(),W_(),gD={byteLength:function(e){var t=uD(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=uD(e),i=n[0],o=n[1],a=new vD(function(u,f,c){return 3*(f+c)/4-c}(0,i,o)),s=0,l=o>0?i-4:i;for(r=0;r<l;r+=4)t=Fo[e.charCodeAt(r)]<<18|Fo[e.charCodeAt(r+1)]<<12|Fo[e.charCodeAt(r+2)]<<6|Fo[e.charCodeAt(r+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return o===2&&(t=Fo[e.charCodeAt(r)]<<2|Fo[e.charCodeAt(r+1)]>>4,a[s++]=255&t),o===1&&(t=Fo[e.charCodeAt(r)]<<10|Fo[e.charCodeAt(r+1)]<<4|Fo[e.charCodeAt(r+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a},fromByteArray:function(e){for(var t,r=e.length,n=r%3,i=[],o=0,a=r-n;o<a;o+=16383)i.push(C7(e,o,o+16383>a?a:o+16383));return n===1?(t=e[r-1],i.push(es[t>>2]+es[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(es[t>>10]+es[t>>4&63]+es[t<<2&63]+"=")),i.join("")}},es=[],Fo=[],vD=typeof Uint8Array<"u"?Uint8Array:Array,kv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ic=0,yD=kv.length;Ic<yD;++Ic)es[Ic]=kv[Ic],Fo[kv.charCodeAt(Ic)]=Ic;Fo[45]=62,Fo[95]=63,wD={read:function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,f=-7,c=r?i-1:0,p=r?-1:1,m=e[t+c];for(c+=p,o=m&(1<<-f)-1,m>>=-f,f+=s;f>0;o=256*o+e[t+c],c+=p,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+e[t+c],c+=p,f-=8);if(o===0)o=1-u;else{if(o===l)return a?NaN:1/0*(m?-1:1);a+=Math.pow(2,n),o-=u}return(m?-1:1)*a*Math.pow(2,o-n)},write:function(e,t,r,n,i,o){var a,s,l,u=8*o-i-1,f=(1<<u)-1,c=f>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+c>=1?p/l:p*Math.pow(2,1-c))*l>=2&&(a++,l/=2),a+c>=f?(s=0,a=f):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+m]=255&s,m+=g,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+m]=255&a,m+=g,a/=256,u-=8);e[r+m-g]|=128*_}},$s={},kb=gD,Hc=wD,XS=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,$s.Buffer=vt,$s.SlowBuffer=function(e){return+e!=e&&(e=0),vt.alloc(+e)},$s.INSPECT_MAX_BYTES=50,$s.kMaxLength=2147483647,vt.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}(),vt.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(vt.prototype,"parent",{enumerable:!0,get:function(){if(vt.isBuffer(this))return this.buffer}}),Object.defineProperty(vt.prototype,"offset",{enumerable:!0,get:function(){if(vt.isBuffer(this))return this.byteOffset}}),vt.poolSize=8192,vt.from=function(e,t,r){return pz(e,t,r)},Object.setPrototypeOf(vt.prototype,Uint8Array.prototype),Object.setPrototypeOf(vt,Uint8Array),vt.alloc=function(e,t,r){return function(n,i,o){return mz(n),n<=0?Tl(n):i!==void 0?typeof o=="string"?Tl(n).fill(i,o):Tl(n).fill(i):Tl(n)}(e,t,r)},vt.allocUnsafe=function(e){return sA(e)},vt.allocUnsafeSlow=function(e){return sA(e)},vt.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==vt.prototype},vt.compare=function(e,t){if(Al(e,Uint8Array)&&(e=vt.from(e,e.offset,e.byteLength)),Al(t,Uint8Array)&&(t=vt.from(t,t.offset,t.byteLength)),!vt.isBuffer(e)||!vt.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},vt.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},vt.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return vt.alloc(0);var r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=vt.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(Al(o,Uint8Array)&&(o=vt.from(o)),!vt.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},vt.byteLength=gz,vt.prototype._isBuffer=!0,vt.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Oc(this,t,t+1);return this},vt.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Oc(this,t,t+3),Oc(this,t+1,t+2);return this},vt.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Oc(this,t,t+7),Oc(this,t+1,t+6),Oc(this,t+2,t+5),Oc(this,t+3,t+4);return this},vt.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?yz(this,0,e):j7.apply(this,arguments)},vt.prototype.toLocaleString=vt.prototype.toString,vt.prototype.equals=function(e){if(!vt.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||vt.compare(this,e)===0},vt.prototype.inspect=function(){var e="",t=$s.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},XS&&(vt.prototype[XS]=vt.prototype.inspect),vt.prototype.compare=function(e,t,r,n,i){if(Al(e,Uint8Array)&&(e=vt.from(e,e.offset,e.byteLength)),!vt.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(n,i),u=e.slice(t,r),f=0;f<s;++f)if(l[f]!==u[f]){o=l[f],a=u[f];break}return o<a?-1:a<o?1:0},vt.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},vt.prototype.indexOf=function(e,t,r){return fD(this,e,t,r,!0)},vt.prototype.lastIndexOf=function(e,t,r){return fD(this,e,t,r,!1)},vt.prototype.write=function(e,t,r,n){if(t===void 0)n="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,n===void 0&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((r===void 0||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return D7(this,e,t,r);case"utf8":case"utf-8":return M7(this,e,t,r);case"ascii":return vz(this,e,t,r);case"latin1":case"binary":return L7(this,e,t,r);case"base64":return F7(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B7(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},vt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},vt.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=t===void 0?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,vt.prototype),n},vt.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||ai(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},vt.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||ai(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},vt.prototype.readUInt8=function(e,t){return e>>>=0,t||ai(e,1,this.length),this[e]},vt.prototype.readUInt16LE=function(e,t){return e>>>=0,t||ai(e,2,this.length),this[e]|this[e+1]<<8},vt.prototype.readUInt16BE=function(e,t){return e>>>=0,t||ai(e,2,this.length),this[e]<<8|this[e+1]},vt.prototype.readUInt32LE=function(e,t){return e>>>=0,t||ai(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},vt.prototype.readUInt32BE=function(e,t){return e>>>=0,t||ai(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},vt.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||ai(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},vt.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||ai(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},vt.prototype.readInt8=function(e,t){return e>>>=0,t||ai(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},vt.prototype.readInt16LE=function(e,t){e>>>=0,t||ai(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},vt.prototype.readInt16BE=function(e,t){e>>>=0,t||ai(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},vt.prototype.readInt32LE=function(e,t){return e>>>=0,t||ai(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},vt.prototype.readInt32BE=function(e,t){return e>>>=0,t||ai(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},vt.prototype.readFloatLE=function(e,t){return e>>>=0,t||ai(e,4,this.length),Hc.read(this,e,!0,23,4)},vt.prototype.readFloatBE=function(e,t){return e>>>=0,t||ai(e,4,this.length),Hc.read(this,e,!1,23,4)},vt.prototype.readDoubleLE=function(e,t){return e>>>=0,t||ai(e,8,this.length),Hc.read(this,e,!0,52,8)},vt.prototype.readDoubleBE=function(e,t){return e>>>=0,t||ai(e,8,this.length),Hc.read(this,e,!1,52,8)},vt.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||po(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},vt.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||po(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},vt.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,1,255,0),this[t]=255&e,t+1},vt.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},vt.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},vt.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},vt.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},vt.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);po(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&s===0&&this[t+o-1]!==0&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},vt.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);po(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&s===0&&this[t+o+1]!==0&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},vt.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},vt.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},vt.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},vt.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},vt.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||po(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},vt.prototype.writeFloatLE=function(e,t,r){return hD(this,e,t,!0,r)},vt.prototype.writeFloatBE=function(e,t,r){return hD(this,e,t,!1,r)},vt.prototype.writeDoubleLE=function(e,t,r){return pD(this,e,t,!0,r)},vt.prototype.writeDoubleBE=function(e,t,r){return pD(this,e,t,!1,r)},vt.prototype.copy=function(e,t,r,n){if(!vt.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||n===0||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},vt.prototype.fill=function(e,t,r,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!vt.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var i=e.charCodeAt(0);(n==="utf8"&&i<128||n==="latin1")&&(e=i)}}else typeof e=="number"?e&=255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=r===void 0?this.length:r>>>0,e||(e=0),typeof e=="number")for(o=t;o<r;++o)this[o]=e;else{var a=vt.isBuffer(e)?e:vt.from(e,n),s=a.length;if(s===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this},xz=/[^+/0-9A-Za-z-_]/g,Pz=function(){for(var e=new Array(256),t=0;t<16;++t)for(var r=16*t,n=0;n<16;++n)e[r+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];return e}(),$s.Buffer,$s.INSPECT_MAX_BYTES,$s.kMaxLength,pp={},mp=$s,Ka=mp.Buffer,Ka.from&&Ka.alloc&&Ka.allocUnsafe&&Ka.allocUnsafeSlow?pp=mp:(mD(mp,pp),pp.Buffer=Rc),Rc.prototype=Object.create(Ka.prototype),mD(Ka,Rc),Rc.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Ka(e,t,r)},Rc.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Ka(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n},Rc.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ka(e)},Rc.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return mp.SlowBuffer(e)},bD=pp,Cb={},jb=bD.Buffer,uA=jb.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Cb.StringDecoder=hp,hp.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if((t=this.fillLast(e))===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},hp.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},hp.prototype.text=function(e,t){var r=function(i,o,a){var s=o.length-1;if(s<a)return 0;var l=YS(o[s]);return l>=0?(l>0&&(i.lastNeed=l-1),l):--s<a||l===-2?0:(l=YS(o[s]))>=0?(l>0&&(i.lastNeed=l-2),l):--s<a||l===-2?0:(l=YS(o[s]))>=0?(l>0&&(l===2?l=0:i.lastNeed=l-3),l):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},hp.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},$d={},cA=!1,Cp={},fA=!1,vu={},dA=!1,xl=tee(),xl.Buffer,xl.INSPECT_MAX_BYTES,xl.kMaxLength,jp={},hA=!1,e0={},pA=!1,t0={},mA=!1,r0={},gA=!1,n0={},vA=!1,i0={},yA=!1,o0={},wA=!1,a0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,s0={},bA=!1,Oz=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,l0={},_A=!1,u0={},EA=!1,c0={},SA=!1,f0={},$A=!1,d0={},TA=!1,Rz=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,h0={},AA=!1,p0={},xA=!1,m0={},PA=!1}});function Nz(){return OA||(OA=!0,Wi=Wi=Tz(),Wi.Stream=Wi,Wi.Readable=Wi,Wi.Writable=$z(),Wi.Duplex=Th(),Wi.Transform=Az(),Wi.PassThrough=aee(),Wi.finished=jR(),Wi.pipeline=see()),Wi}var Wi,OA,lee=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-C4rKjYLo.js"(){Te(),Iz(),Wi={},OA=!1}}),_g={};tl(_g,{Agent:()=>Dz,ClientRequest:()=>Mz,IncomingMessage:()=>Lz,METHODS:()=>Fz,STATUS_CODES:()=>Bz,default:()=>Rs,get:()=>Uz,globalAgent:()=>zz,request:()=>qz});function kz(){if(RA)return go;RA=!0,go.fetch=n(yu.fetch)&&n(yu.ReadableStream),go.writableStream=n(yu.WritableStream),go.abortController=n(yu.AbortController);var e;function t(){if(e!==void 0)return e;if(yu.XMLHttpRequest){e=new yu.XMLHttpRequest;try{e.open("GET",yu.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function r(i){var o=t();if(!o)return!1;try{return o.responseType=i,o.responseType===i}catch{}return!1}go.arraybuffer=go.fetch||r("arraybuffer"),go.msstream=!go.fetch&&r("ms-stream"),go.mozchunkedarraybuffer=!go.fetch&&r("moz-chunked-arraybuffer"),go.overrideMimeType=go.fetch||(t()?n(t().overrideMimeType):!1);function n(i){return typeof i=="function"}return e=null,go}function Cz(){if(IA)return Dp;IA=!0;var e=xl.Buffer,t=Hr,r=kz(),n=Lf(),i=Nz(),o=Dp.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},a=Dp.IncomingMessage=function(s,l,u,f){var c=this||Mp;if(i.Readable.call(c),c._mode=u,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),u==="fetch"){let h=function(){m.read().then(function(E){if(!c._destroyed){if(f(E.done),E.done){c.push(null);return}c.push(e.from(E.value)),h()}}).catch(function(E){f(!0),c._destroyed||c.emit("error",E)})};if(c._fetchResponse=l,c.url=l.url,c.statusCode=l.status,c.statusMessage=l.statusText,l.headers.forEach(function(E,y){c.headers[y.toLowerCase()]=E,c.rawHeaders.push(y,E)}),r.writableStream){var p=new WritableStream({write:function(E){return f(!1),new Promise(function(y,S){c._destroyed?S():c.push(e.from(E))?y():c._resumeFetch=y})},close:function(){f(!0),c._destroyed||c.push(null)},abort:function(E){f(!0),c._destroyed||c.emit("error",E)}});try{l.body.pipeTo(p).catch(function(E){f(!0),c._destroyed||c.emit("error",E)});return}catch{}}var m=l.body.getReader();h()}else{c._xhr=s,c._pos=0,c.url=s.responseURL,c.statusCode=s.status,c.statusMessage=s.statusText;var g=s.getAllResponseHeaders().split(/\r?\n/);if(g.forEach(function(h){var E=h.match(/^([^:]+):\s*(.*)/);if(E){var y=E[1].toLowerCase();y==="set-cookie"?(c.headers[y]===void 0&&(c.headers[y]=[]),c.headers[y].push(E[2])):c.headers[y]!==void 0?c.headers[y]+=", "+E[2]:c.headers[y]=E[2],c.rawHeaders.push(E[1],E[2])}}),c._charset="x-user-defined",!r.overrideMimeType){var _=c.rawHeaders["mime-type"];if(_){var v=_.match(/;\s*charset=([^;])(;|$)/);v&&(c._charset=v[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};return n(a,i.Readable),a.prototype._read=function(){var s=this||Mp,l=s._resumeFetch;l&&(s._resumeFetch=null,l())},a.prototype._onXHRProgress=function(s){var l=this||Mp,u=l._xhr,f=null;switch(l._mode){case"text":if(f=u.responseText,f.length>l._pos){var c=f.substr(l._pos);if(l._charset==="x-user-defined"){for(var p=e.alloc(c.length),m=0;m<c.length;m++)p[m]=c.charCodeAt(m)&255;l.push(p)}else l.push(c,l._charset);l._pos=f.length}break;case"arraybuffer":if(u.readyState!==o.DONE||!u.response)break;f=u.response,l.push(e.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=u.response,u.readyState!==o.LOADING||!f)break;l.push(e.from(new Uint8Array(f)));break;case"ms-stream":if(f=u.response,u.readyState!==o.LOADING)break;var g=new Mp.MSStreamReader;g.onprogress=function(){g.result.byteLength>l._pos&&(l.push(e.from(new Uint8Array(g.result.slice(l._pos)))),l._pos=g.result.byteLength)},g.onload=function(){s(!0),l.push(null)},g.readAsArrayBuffer(f);break}l._xhr.readyState===o.DONE&&l._mode!=="ms-stream"&&(s(!0),l.push(null))},Dp}function uee(){if(NA)return g0;NA=!0;var e=xl.Buffer,t=Hr,r=kz(),n=Lf(),i=Cz(),o=Nz(),a=i.IncomingMessage,s=i.readyStates;function l(p,m){return r.fetch&&m?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&p?"arraybuffer":"text"}var u=g0=function(p){var m=this||ei;o.Writable.call(m),m._opts=p,m._body=[],m._headers={},p.auth&&m.setHeader("Authorization","Basic "+e.from(p.auth).toString("base64")),Object.keys(p.headers).forEach(function(v){m.setHeader(v,p.headers[v])});var g,_=!0;if(p.mode==="disable-fetch"||"requestTimeout"in p&&!r.abortController)_=!1,g=!0;else if(p.mode==="prefer-streaming")g=!1;else if(p.mode==="allow-wrong-content-type")g=!r.overrideMimeType;else if(!p.mode||p.mode==="default"||p.mode==="prefer-fast")g=!0;else throw new Error("Invalid value for opts.mode");m._mode=l(g,_),m._fetchTimer=null,m._socketTimeout=null,m._socketTimer=null,m.on("finish",function(){m._onFinish()})};n(u,o.Writable),u.prototype.setHeader=function(p,m){var g=this||ei,_=p.toLowerCase();c.indexOf(_)===-1&&(g._headers[_]={name:p,value:m})},u.prototype.getHeader=function(p){var m=(this||ei)._headers[p.toLowerCase()];return m?m.value:null},u.prototype.removeHeader=function(p){var m=this||ei;delete m._headers[p.toLowerCase()]},u.prototype._onFinish=function(){var p=this||ei;if(!p._destroyed){var m=p._opts;"timeout"in m&&m.timeout!==0&&p.setTimeout(m.timeout);var g=p._headers,_=null;m.method!=="GET"&&m.method!=="HEAD"&&(_=new Blob(p._body,{type:(g["content-type"]||{}).value||""}));var v=[];if(Object.keys(g).forEach(function(S){var $=g[S].name,T=g[S].value;Array.isArray(T)?T.forEach(function(d){v.push([$,d])}):v.push([$,T])}),p._mode==="fetch"){var h=null;if(r.abortController){var E=new AbortController;h=E.signal,p._fetchAbortController=E,"requestTimeout"in m&&m.requestTimeout!==0&&(p._fetchTimer=ei.setTimeout(function(){p.emit("requestTimeout"),p._fetchAbortController&&p._fetchAbortController.abort()},m.requestTimeout))}ei.fetch(p._opts.url,{method:p._opts.method,headers:v,body:_||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:h}).then(function(S){p._fetchResponse=S,p._resetTimers(!1),p._connect()},function(S){p._resetTimers(!0),p._destroyed||p.emit("error",S)})}else{var y=p._xhr=new ei.XMLHttpRequest;try{y.open(p._opts.method,p._opts.url,!0)}catch(S){t.nextTick(function(){p.emit("error",S)});return}"responseType"in y&&(y.responseType=p._mode),"withCredentials"in y&&(y.withCredentials=!!m.withCredentials),p._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(y.timeout=m.requestTimeout,y.ontimeout=function(){p.emit("requestTimeout")}),v.forEach(function(S){y.setRequestHeader(S[0],S[1])}),p._response=null,y.onreadystatechange=function(){switch(y.readyState){case s.LOADING:case s.DONE:p._onXHRProgress();break}},p._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){p._onXHRProgress()}),y.onerror=function(){p._destroyed||(p._resetTimers(!0),p.emit("error",new Error("XHR error")))};try{y.send(_)}catch(S){t.nextTick(function(){p.emit("error",S)});return}}}};function f(p){try{var m=p.status;return m!==null&&m!==0}catch{return!1}}u.prototype._onXHRProgress=function(){var p=this||ei;p._resetTimers(!1),!(!f(p._xhr)||p._destroyed)&&(p._response||p._connect(),p._response._onXHRProgress(p._resetTimers.bind(p)))},u.prototype._connect=function(){var p=this||ei;p._destroyed||(p._response=new a(p._xhr,p._fetchResponse,p._mode,p._resetTimers.bind(p)),p._response.on("error",function(m){p.emit("error",m)}),p.emit("response",p._response))},u.prototype._write=function(p,m,g){var _=this||ei;_._body.push(p),g()},u.prototype._resetTimers=function(p){var m=this||ei;ei.clearTimeout(m._socketTimer),m._socketTimer=null,p?(ei.clearTimeout(m._fetchTimer),m._fetchTimer=null):m._socketTimeout&&(m._socketTimer=ei.setTimeout(function(){m.emit("timeout")},m._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(p){var m=this||ei;m._destroyed=!0,m._resetTimers(!0),m._response&&(m._response._destroyed=!0),m._xhr?m._xhr.abort():m._fetchAbortController&&m._fetchAbortController.abort(),p&&m.emit("error",p)},u.prototype.end=function(p,m,g){var _=this||ei;typeof p=="function"&&(g=p,p=void 0),o.Writable.prototype.end.call(_,p,m,g)},u.prototype.setTimeout=function(p,m){var g=this||ei;m&&g.once("timeout",m),g._socketTimeout=p,g._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return g0}function cee(){if(kA)return v0;kA=!0,v0=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var o in i)e.call(i,o)&&(r[o]=i[o])}return r}return v0}function fee(){return CA||(CA=!0,y0={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),y0}function dee(){if(jA)return w0;jA=!0;var e=uee(),t=Cz(),r=cee(),n=fee(),i=Jr,o=w0;return o.request=function(a,s){typeof a=="string"?a=i.parse(a):a=r(a);var l=jz.location.protocol.search(/^https?:$/)===-1?"http:":"",u=a.protocol||l,f=a.hostname||a.host,c=a.port,p=a.path||"/";f&&f.indexOf(":")!==-1&&(f="["+f+"]"),a.url=(f?u+"//"+f:"")+(c?":"+c:"")+p,a.method=(a.method||"GET").toUpperCase(),a.headers=a.headers||{};var m=new e(a);return s&&m.on("response",s),m},o.get=function(s,l){var u=o.request(s,l);return u.end(),u},o.ClientRequest=e,o.IncomingMessage=t.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=n,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],w0}function hee(){if(DA)return b0;DA=!0;var e=Os,t=Jr,r=b0;for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);r.request=function(o,a){return o=i(o),e.request.call(this||MA,o,a)},r.get=function(o,a){return o=i(o),e.get.call(this||MA,o,a)};function i(o){if(typeof o=="string"&&(o=t.parse(o)),o.protocol||(o.protocol="https:"),o.protocol!=="https:")throw new Error('Protocol "'+o.protocol+'" not supported. Expected "https:"');return o}return b0}var go,RA,yu,Dp,IA,Mp,g0,NA,ei,v0,kA,y0,CA,w0,jA,jz,Os,b0,DA,MA,Rs,Dz,Mz,Lz,Fz,Bz,Uz,zz,qz,J_=nn({"../../node_modules/@jspm/core/nodelibs/browser/https.js"(){Te(),Iz(),lee(),W_(),JU(),H_(),wg(),go={},RA=!1,yu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Dp={},IA=!1,Mp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,g0={},NA=!1,ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,v0={},kA=!1,y0={},CA=!1,w0={},jA=!1,jz=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Os=dee(),Os.Agent,Os.ClientRequest,Os.IncomingMessage,Os.METHODS,Os.STATUS_CODES,Os.get,Os.globalAgent,Os.request,b0={},DA=!1,MA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Rs=hee(),Dz=Rs.Agent,Mz=Rs.ClientRequest,Lz=Rs.IncomingMessage,Fz=Rs.METHODS,Bz=Rs.STATUS_CODES,Uz=Rs.get,zz=Rs.globalAgent,qz=Rs.request}}),DR={};tl(DR,{default:()=>Vz});var Vz,Hz=nn({"../../node_modules/esbuild-plugin-polyfill-node/polyfills/empty.js"(){Te(),Vz={}}}),pee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/json-placeholder-replacer/dist/library.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.JsonPlaceholderReplacer=void 0;var t=[{begin:"{{",end:"}}"},{begin:"<<",end:">>"}],r=":",n=[],i=class{constructor(o){this.variablesMap=[],this.configuration=this.initializeOptions(o);const a=l=>l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");this.configuration.delimiterTags=this.configuration.delimiterTags.map(l=>Object.assign(Object.assign({},l),{escapedBeginning:a(l.begin),escapedEnding:a(l.end)}));const s=this.configuration.delimiterTags.map(l=>`^${l.begin}[^${l.end}]+${l.end}$`).join("|");this.delimiterTagsRegex=new RegExp(s)}addVariableMap(o){return typeof o=="string"?this.variablesMap.push(JSON.parse(o)):this.variablesMap.push(o),this}setVariableMap(...o){return this.variablesMap.length=0,o.forEach(a=>this.addVariableMap(a)),this}replace(o){return this.replaceChildren(o,this.variablesMap)}replaceWith(o,...a){return this.replaceChildren(o,a)}initializeOptions(o){var a;let s=t,l=r,u=n;return o!==void 0&&(o.delimiterTags!==void 0&&o.delimiterTags.length>0&&(s=o.delimiterTags),o.defaultValueSeparator!==void 0&&(l=o.defaultValueSeparator),!((a=o.nullishValues)===null||a===void 0)&&a.length&&(u=o.nullishValues.map(f=>JSON.stringify(f)))),{defaultValueSeparator:l,delimiterTags:s,nullishValues:u}}replaceChildren(o,a){for(const s in o){const l=o[s];typeof l=="object"?o[s]=this.replaceChildren(l,a):l!==void 0&&(o[s]=this.replaceValue(l,a))}return o}replaceValue(o,a){const s=o.toString(),l=!this.delimiterTagsRegex.test(o),u=this.configuration.delimiterTags.reduce((f,c)=>{const p=new RegExp(`(${c.escapedBeginning}[^${c.escapedEnding}]+${c.escapedEnding})`,"g");return f.replace(p,this.replacer(l,a)(c))},s);try{return u===s?o:JSON.parse(u)}catch{return u}}replacer(o,a){return s=>l=>{const{tag:u,defaultValue:f}=this.parseTag(l,s),c=this.checkInEveryMap(u,a);if(c===void 0)return f!==void 0?f:l;if(!o)return c;const p=JSON.parse(c);return typeof p=="object"?JSON.stringify(p):p}}parseTag(o,a){const s=o.substring(a.begin.length,o.length-a.begin.length);let l=s,u;const f=s.indexOf(this.configuration.defaultValueSeparator);return f>0&&(l=s.substring(0,f),u=s.substring(f+this.configuration.defaultValueSeparator.length)),{tag:l,defaultValue:u}}checkInEveryMap(o,a){const{nullishValues:s}=this.configuration;let l;return a.forEach(u=>{let f=this.navigateThroughMap(u,o);f!==void 0&&s.includes(f)&&(f=void 0),l=f||l}),l}navigateThroughMap(o,a){if(o===void 0)return;const s=o[a];if(s!==void 0)return JSON.stringify(s);const l=a.split("."),u=l[0];return l.shift(),this.navigateThroughMap(o[u],l.join("."))}};e.JsonPlaceholderReplacer=i}}),mee=Pe({"../../node_modules/wot-thing-model-types/schema/tm-json-schema-validation.json"(e,t){t.exports={title:"Thing Model",version:"1.1-09-November-2023",description:"JSON Schema for validating Thing Models. This is automatically generated from the WoT TD Schema.",$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/tm-json-schema-validation.json",definitions:{anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},security:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the old context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},"dataSchema-type":{type:"string",anyOf:[{enum:["boolean","integer","number","string","object","array","null"]},{$ref:"#/definitions/placeholder-pattern"}]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},readOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/placeholder-pattern"}]},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},maxLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{anyOf:[{type:"array",items:{type:"string"}},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{anyOf:[{type:["integer","number"],exclusiveMinimum:0},{$ref:"#/definitions/placeholder-pattern"}]},expectedResponse:{type:"object",properties:{contentType:{type:"string"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["invokeaction","queryaction","cancelaction"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["invokeaction","queryaction","cancelaction"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["subscribeevent","unsubscribeevent"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["subscribeevent","unsubscribeevent"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},observable:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},writeOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},readOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/placeholder-pattern"}]},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},maxLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{anyOf:[{type:"array",items:{type:"string"}},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},idempotent:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},synchronous:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]},instanceName:{type:"string"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon",properties:{rel:{anyOf:[{enum:["icon"]},{$ref:"#/definitions/placeholder-pattern"}]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["nosec"]},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["auto"]},{$ref:"#/definitions/placeholder-pattern"}]}},not:{required:["name"]},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["combo"]},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",minItems:2,items:{type:"string"}},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["combo"]},{$ref:"#/definitions/placeholder-pattern"}]},allOf:{type:"array",minItems:2,items:{type:"string"}},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["basic"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["digest"]},{$ref:"#/definitions/placeholder-pattern"}]},qop:{type:"string",anyOf:[{enum:["auth","auth-int"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["apikey"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","uri","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["bearer"]},{$ref:"#/definitions/placeholder-pattern"}]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["psk"]},{$ref:"#/definitions/placeholder-pattern"}]},identity:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["oauth2"]},{$ref:"#/definitions/placeholder-pattern"}]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",anyOf:[{enum:["code","client"]},{$ref:"#/definitions/placeholder-pattern"}]}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},securityScheme:{anyOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]},tm_type_declaration:{oneOf:[{type:"string",const:"tm:ThingModel"},{type:"array",items:{type:"string"},contains:{const:"tm:ThingModel"}}]},"placeholder-pattern":{type:"string",pattern:"^.*[{]{2}[ -~]+[}]{2}.*$"},tm_optional:{type:"array",items:{$comment:"this first checks for the general structure of /properties/myProp and then prohibits using / 3 times",allOf:[{type:"string",pattern:"^((/properties/)|(/actions/)|(/events/))(([^/]))",$comment:"regex tests available at https://regex101.com/r/UgOzrJ/1"},{not:{type:"string",pattern:"(/)(.*/){2}",$comment:"regex tests available at https://regex101.com/r/r7vB0r/2"}}]}},tm_ref:{type:"string",format:"uri-reference"}},type:"object",properties:{id:{type:"string"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{anyOf:[{type:"object",properties:{model:{type:"string"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}},not:{type:"object",properties:{instance:{type:"string"}},required:["instance"]}},{$ref:"#/definitions/placeholder-pattern"}]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},support:{$ref:"#/definitions/anyUri"},created:{type:"string"},modified:{type:"string"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},"@type":{$ref:"#/definitions/tm_type_declaration"},"@context":{$ref:"#/definitions/thing-context"},"tm:optional":{$ref:"#/definitions/tm_optional"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}},required:["@context","@type"]}}}),gee=Pe({"../../node_modules/@thingweb/thing-model/dist/src/tm-helpers.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(S,$,T,d){d===void 0&&(d=T);var A=Object.getOwnPropertyDescriptor($,T);(!A||("get"in A?!$.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return $[T]}}),Object.defineProperty(S,d,A)}:function(S,$,T,d){d===void 0&&(d=T),S[d]=$[T]}),r=e&&e.__setModuleDefault||(Object.create?function(S,$){Object.defineProperty(S,"default",{enumerable:!0,value:$})}:function(S,$){S.default=$}),n=e&&e.__importStar||function(S){if(S&&S.__esModule)return S;var $={};if(S!=null)for(var T in S)T!=="default"&&Object.prototype.hasOwnProperty.call(S,T)&&t($,S,T);return r($,S),$},i=e&&e.__awaiter||function(S,$,T,d){function A(x){return x instanceof T?x:new T(function(P){P(x)})}return new(T||(T=Promise))(function(x,P){function j(X){try{V(d.next(X))}catch(H){P(H)}}function F(X){try{V(d.throw(X))}catch(H){P(H)}}function V(X){X.done?x(X.value):A(X.value).then(j,F)}V((d=d.apply(S,$||[])).next())})},o=e&&e.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0}),e.ThingModelHelpers=void 0;var a=o(eU()),s=o(VZ()),l=n((NR(),Pr(G_))),u=n((J_(),Pr(_g))),f=n((Hz(),Pr(DR))),c=pee(),p=o(mee()),m=o(PB()),g="node-wot:td-tools:thing-model-helpers",_=(0,m.default)(`${g}:debug`),v=(0,m.default)(`${g}:error`),h=p.default,E=new a.default({strict:!1});(0,s.default)(E);var y=class ca{constructor($){this.deps=[],this.resolver=void 0,$&&(this.resolver=$)}static isThingModel($){if($==null||typeof $!="object"||Array.isArray($))return!1;const T=$;if(Array.isArray(T["@type"])){if(T["@type"].filter(A=>A==="tm:ThingModel").length>0)return!0}else if(T["@type"]==="tm:ThingModel")return!0;return!!(Object.keys(this.getThingModelRef(T)).length>0||"links"in T&&Array.isArray(T.links)&&T.links.find(A=>A.rel==="tm:extends")!=null||T.properties!==void 0&&this.isThingModel(T.properties)||T.actions!==void 0&&this.isThingModel(T.actions)||T.events!==void 0&&this.isThingModel(T.events))}static getModelVersion($){var T;return typeof($==null?void 0:$.version)=="object"&&typeof((T=$==null?void 0:$.version)===null||T===void 0?void 0:T.model)=="string"?$.version.model:void 0}static validateThingModel($){var T;const d=ca.tsSchemaValidator($);let A;return d||(A=(T=ca.tsSchemaValidator.errors)===null||T===void 0?void 0:T.map(x=>x.message).join(`
`)),{valid:d,errors:A}}getPartialTDs($,T){return i(this,void 0,void 0,function*(){return(yield this._getPartialTDs($,T)).map(x=>{const P=x;return P["@type"]instanceof Array?P["@type"]=P["@type"].map(j=>j==="tm:ThingModel"?"Thing":j):P["@type"]="Thing",P})})}fetchModel($){return i(this,void 0,void 0,function*(){this.addDependency($);let T;if(this.resolver?T=yield this.resolver.fetch($):T=yield this.localFetch($),!ca.isThingModel(T))throw new Error(`Data at ${$} is not a Thing Model`);return T})}localFetch($){switch($.split("://")[0]){case"file":{const d=$.split("://")[1];return new Promise((A,x)=>{f.readFile(d,{encoding:"utf-8"},function(P,j){P?x(P):A(JSON.parse(j))})})}case"http":return new Promise((d,A)=>{l.get($,x=>{(x.statusCode==null||x.statusCode!==200)&&A(new Error(`http status code not 200 but ${x.statusCode} for ${$}`)),x.setEncoding("utf8");let P="";x.on("data",j=>{P+=j}),x.on("end",()=>{try{const j=JSON.parse(P);_(`https fetched: ${j}`),d(j)}catch(j){v(j)}})}).on("error",x=>{A(x)})});case"https":return new Promise((d,A)=>{u.get($,x=>{(x.statusCode==null||x.statusCode!==200)&&A(new Error(`https status code not 200 but ${x.statusCode} for ${$}`)),x.setEncoding("utf8");let P="";x.on("data",j=>{P+=j}),x.on("end",()=>{try{const j=JSON.parse(P);_(`https fetched: ${j}`),d(j)}catch(j){v(j)}})}).on("error",x=>{A(x)})})}return null}_getPartialTDs($,T){return i(this,void 0,void 0,function*(){if(!ca.isThingModel($))throw new Error(`${$} is not a Thing Model`);let d=ca.validateThingModel($);if(d.valid===!1||d.errors!==void 0)throw new Error(d.errors);if(d=this.checkPlaceholderMap($,T==null?void 0:T.map),d.valid===!1||d.errors!==void 0)throw new Error(d.errors);const A=yield this.fetchAffordances($);return yield this.composeModel($,A,T)})}fetchAffordances($){var T;return i(this,void 0,void 0,function*(){const d={},A=ca.getThingModelLinks($,"tm:extends");if(A.length>0){d.extends=[];for(const j of A){let F=yield this.fetchModel(j.href);[F]=yield this._getPartialTDs(F),d.extends.push(F)}}const x=["properties","actions","events"];d.imports=[];for(const j of x){const F=ca.getThingModelRef($[j]);if(Object.keys(F).length>0)for(const V in F){const X=F[V],H=this.parseTmRef(X);if(H.uri==null)throw new Error(`Missing remote path in ${X}`);let Z=yield this.fetchModel(H.uri);[Z]=yield this._getPartialTDs(Z),delete $[j][V]["tm:ref"];const fe=(T=this.getRefAffordance(H,Z))!==null&&T!==void 0?T:{};H.name=V,d.imports.push(Object.assign({affordance:fe},H))}}const P=ca.getThingModelLinks($,"tm:submodel");if(P.length>0){d.submodel={};for(const j of P){const F=yield this.fetchModel(j.href);d.submodel[j.href]=F}}return d})}composeModel($,T,d){var A,x,P,j,F;return i(this,void 0,void 0,function*(){let V=[];const X=((A=$.title)!==null&&A!==void 0?A:"").replace(/ /g,"");d||(d={}),d.baseUrl==null&&(d.baseUrl=".");const H=this.returnNewTMHref(d.baseUrl,X),Z=this.returnNewTDHref(d.baseUrl,X);if("extends"in T){const fe=(x=T.extends)!==null&&x!==void 0?x:[];for(const ee of fe)$=ca.extendThingModel(ee,$);$.links=(P=$.links)===null||P===void 0?void 0:P.filter(ee=>ee.rel!=="tm:extends")}if("imports"in T){const fe=(j=T.imports)!==null&&j!==void 0?j:[];for(const ee of fe)$=ca.importAffordance(ee.type,ee.name,ee.affordance,$)}if("submodel"in T){const fe=T.submodel;for(const ee in fe){const ae=fe[ee];if(d.selfComposition===!0){if(!$.links)throw new Error("You used self composition but links are missing; they are needed to extract the instance name");const M=$.links.findIndex(q=>q.href===ee),K=$.links[M].instanceName;if(K==null)throw new Error("Self composition is not possible without instance names");const[O]=yield this._getPartialTDs(ae,d),N=["properties","actions","events"];for(const q of N)for(const ne in O[q]){const J=`${K}_${ne}`;q in $||($[q]={}),$[q][J]=O[q][ne]}}else{const M=((F=ae.title)!==null&&F!==void 0?F:"").replace(/ /g,""),B=this.returnNewTDHref(d.baseUrl,M);ae.links||(ae.links=[]),ae.links.push({rel:"collection",href:Z,type:"application/td+json"});const K=yield this._getPartialTDs(ae,d);V.push(...K),$=ca.formatSubmodelLink($,ee,B)}}}return(!$.links||d.selfComposition===!0)&&($.links=[]),$.links.push({rel:"type",href:H,type:"application/tm+json"}),"version"in $&&delete $.version,d.map&&($=this.fillPlaceholder($,d.map)),V.unshift($),V=V.map(fe=>this.fillPlaceholder(fe,d==null?void 0:d.map)),this.deps.length>0&&this.removeDependency(),V})}static getThingModelRef($){const T={};if($==null)return T;for(const d in $)for(const A in $[d])A==="tm:ref"&&(T[d]=$[d]["tm:ref"]);return T}static getThingModelLinks($,T){let d=[];return"links"in $&&Array.isArray($.links)&&(d=$.links),d.filter(A=>A.rel===T)}static extendThingModel($,T){let d={};const A=$.properties,x=$.actions,P=$.events;if(d=Object.assign(Object.assign({},$),T),A){d.properties||(d.properties={});for(const j in A)T.properties&&T.properties[j]!=null?d.properties[j]=Object.assign(Object.assign({},A[j]),T.properties[j]):d.properties[j]=A[j]}if(x){d.actions||(d.actions={});for(const j in x)T.actions&&j in T.actions?d.actions[j]=Object.assign(Object.assign({},x[j]),T.actions[j]):d.actions[j]=x[j]}if(P){d.events||(d.events={});for(const j in P)T.events&&j in T.events?d.events[j]=Object.assign(Object.assign({},P[j]),T.events[j]):d.events[j]=P[j]}return d}static importAffordance($,T,d,A){A[$]||(A[$]={});const x=A[$][T];A[$][T]=Object.assign(Object.assign({},d),x);for(const P in A[$][T])A[$][T][P]===void 0&&delete A[$][T][P];return A}static formatSubmodelLink($,T,d){if(!$.links)throw new Error("Links are missing");const A=$.links.findIndex(P=>P.href===T);if(A===-1)throw new Error("Link not found");const x=$.links[A];return"instanceName"in x&&delete x.instanceName,$.links[A]=Object.assign(Object.assign({},x),{href:d,type:"application/td+json",rel:"item"}),$}parseTmRef($){const T=$.split("#")[0],d=$.split("#")[1],A=d.split("/")[1],x=d.split("/")[2];return{uri:T,type:A,name:x}}getRefAffordance($,T){const d=$.type,A=$.name;if(!(d in T))return;const x=T[d];if(A in x)return x[A]}fillPlaceholder($,T={}){const d=new c.JsonPlaceholderReplacer;return d.addVariableMap(T),d.replace($)}checkPlaceholderMap($,T={}){var d;const A="{{.*?}}";let P=(d=JSON.stringify($).match(new RegExp(A,"g")))!==null&&d!==void 0?d:[];P=P.map(V=>V.replace("{{","").replace("}}",""));let j=!0,F;return(P==null?void 0:P.length)>0&&T==null?(j=!1,F=`No map provided for model ${$.title}`):P.length>0&&P.every(V=>V in T?!0:(F=`Missing required fields in map for model ${$.title}`,j=!1,!1)),{valid:j,errors:F}}returnNewTMHref($,T){return`${$}/${T}.tm.jsonld`}returnNewTDHref($,T){return`${$}/${T}.td.jsonld`}addDependency($){if(this.deps.indexOf($)>-1)throw new Error(`Circular dependency found for ${$}`);this.deps.push($)}removeDependency($){$!=null?this.deps=this.deps.filter(T=>T!==$):this.deps.pop()}};e.ThingModelHelpers=y,y.tsSchemaValidator=E.compile(h)}}),vee=Pe({"../../node_modules/@thingweb/thing-model/dist/src/resolver-interface.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0})}}),yee=Pe({"../../node_modules/@thingweb/thing-model/dist/src/thing-model.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o);var s=Object.getOwnPropertyDescriptor(i,o);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,a,s)}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(gee(),e),r(vee(),e)}}),Wz={};tl(Wz,{EventEmitter:()=>Gz,default:()=>Ls,defaultMaxListeners:()=>Kz,init:()=>Jz,listenerCount:()=>Yz,on:()=>Xz,once:()=>Qz});function wee(){if(LA)return Lp;LA=!0;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function($,T,d){return Function.prototype.apply.call($,T,d)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function($){return Object.getOwnPropertyNames($).concat(Object.getOwnPropertySymbols($))}:r=function($){return Object.getOwnPropertyNames($)};function n(S){console&&console.warn&&console.warn(S)}var i=Number.isNaN||function($){return $!==$};function o(){o.init.call(this)}Lp=o,Lp.once=h,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");a=S}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function($){if(typeof $!="number"||$<0||i($))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+$+".");return this._maxListeners=$,this};function l(S){return S._maxListeners===void 0?o.defaultMaxListeners:S._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function($){for(var T=[],d=1;d<arguments.length;d++)T.push(arguments[d]);var A=$==="error",x=this._events;if(x!==void 0)A=A&&x.error===void 0;else if(!A)return!1;if(A){var P;if(T.length>0&&(P=T[0]),P instanceof Error)throw P;var j=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw j.context=P,j}var F=x[$];if(F===void 0)return!1;if(typeof F=="function")t(F,this,T);else for(var V=F.length,X=g(F,V),d=0;d<V;++d)t(X[d],this,T);return!0};function u(S,$,T,d){var A,x,P;if(s(T),x=S._events,x===void 0?(x=S._events=Object.create(null),S._eventsCount=0):(x.newListener!==void 0&&(S.emit("newListener",$,T.listener?T.listener:T),x=S._events),P=x[$]),P===void 0)P=x[$]=T,++S._eventsCount;else if(typeof P=="function"?P=x[$]=d?[T,P]:[P,T]:d?P.unshift(T):P.push(T),A=l(S),A>0&&P.length>A&&!P.warned){P.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String($)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=S,j.type=$,j.count=P.length,n(j)}return S}o.prototype.addListener=function($,T){return u(this,$,T,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function($,T){return u(this,$,T,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(S,$,T){var d={fired:!1,wrapFn:void 0,target:S,type:$,listener:T},A=f.bind(d);return A.listener=T,d.wrapFn=A,A}o.prototype.once=function($,T){return s(T),this.on($,c(this,$,T)),this},o.prototype.prependOnceListener=function($,T){return s(T),this.prependListener($,c(this,$,T)),this},o.prototype.removeListener=function($,T){var d,A,x,P,j;if(s(T),A=this._events,A===void 0)return this;if(d=A[$],d===void 0)return this;if(d===T||d.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete A[$],A.removeListener&&this.emit("removeListener",$,d.listener||T));else if(typeof d!="function"){for(x=-1,P=d.length-1;P>=0;P--)if(d[P]===T||d[P].listener===T){j=d[P].listener,x=P;break}if(x<0)return this;x===0?d.shift():_(d,x),d.length===1&&(A[$]=d[0]),A.removeListener!==void 0&&this.emit("removeListener",$,j||T)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function($){var T,d,A;if(d=this._events,d===void 0)return this;if(d.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):d[$]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete d[$]),this;if(arguments.length===0){var x=Object.keys(d),P;for(A=0;A<x.length;++A)P=x[A],P!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=d[$],typeof T=="function")this.removeListener($,T);else if(T!==void 0)for(A=T.length-1;A>=0;A--)this.removeListener($,T[A]);return this};function p(S,$,T){var d=S._events;if(d===void 0)return[];var A=d[$];return A===void 0?[]:typeof A=="function"?T?[A.listener||A]:[A]:T?v(A):g(A,A.length)}o.prototype.listeners=function($){return p(this,$,!0)},o.prototype.rawListeners=function($){return p(this,$,!1)},o.listenerCount=function(S,$){return typeof S.listenerCount=="function"?S.listenerCount($):m.call(S,$)},o.prototype.listenerCount=m;function m(S){var $=this._events;if($!==void 0){var T=$[S];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function g(S,$){for(var T=new Array($),d=0;d<$;++d)T[d]=S[d];return T}function _(S,$){for(;$+1<S.length;$++)S[$]=S[$+1];S.pop()}function v(S){for(var $=new Array(S.length),T=0;T<$.length;++T)$[T]=S[T].listener||S[T];return $}function h(S,$){return new Promise(function(T,d){function A(P){S.removeListener($,x),d(P)}function x(){typeof S.removeListener=="function"&&S.removeListener("error",A),T([].slice.call(arguments))}y(S,$,x,{once:!0}),$!=="error"&&E(S,A,{once:!0})})}function E(S,$,T){typeof S.on=="function"&&y(S,"error",$,T)}function y(S,$,T,d){if(typeof S.on=="function")d.once?S.once($,T):S.on($,T);else if(typeof S.addEventListener=="function")S.addEventListener($,function A(x){d.once&&S.removeEventListener($,A),T(x)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return Lp}var Lp,LA,Ls,Gz,Kz,Jz,Yz,Xz,Qz,Zz=nn({"../../node_modules/@jspm/core/nodelibs/browser/events.js"(){Te(),Lp={},LA=!1,Ls=wee(),Ls.once,Ls.once=function(e,t){return new Promise((r,n)=>{function i(...a){o!==void 0&&e.removeListener("error",o),r(a)}let o;t!=="error"&&(o=a=>{e.removeListener(name,i),n(a)},e.once("error",o)),e.once(t,i)})},Ls.on=function(e,t){const r=[],n=[];let i=null,o=!1;const a={async next(){const u=r.shift();if(u)return createIterResult(u,!1);if(i){const f=Promise.reject(i);return i=null,f}return o?createIterResult(void 0,!0):new Promise((f,c)=>n.push({resolve:f,reject:c}))},async return(){e.removeListener(t,s),e.removeListener("error",l),o=!0;for(const u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,e.removeListener(t,s),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,s),e.on("error",l),a;function s(...u){const f=n.shift();f?f.resolve(createIterResult(u,!1)):r.push(u)}function l(u){o=!0;const f=n.shift();f?f.reject(u):i=u,a.return()}},{EventEmitter:Gz,defaultMaxListeners:Kz,init:Jz,listenerCount:Yz,on:Xz,once:Qz}=Ls}});function e6(){return FA||(FA=!0,_0=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),_0}function bee(){return BA||(BA=!0,E0=Error),E0}function _ee(){return UA||(UA=!0,S0=EvalError),S0}function Eee(){return zA||(zA=!0,$0=RangeError),$0}function See(){return qA||(qA=!0,T0=ReferenceError),T0}function t6(){return VA||(VA=!0,A0=SyntaxError),A0}function Eg(){return HA||(HA=!0,x0=TypeError),x0}function $ee(){return WA||(WA=!0,P0=URIError),P0}function Tee(){if(GA)return O0;GA=!0;var e=typeof Symbol<"u"&&Symbol,t=e6();return O0=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},O0}function Aee(){if(KA)return R0;KA=!0;var e={__proto__:null,foo:{}},t=Object;return R0=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof t)},R0}function xee(){if(JA)return I0;JA=!0;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var f=[],c=0;c<l.length;c+=1)f[c]=l[c];for(var p=0;p<u.length;p+=1)f[p+l.length]=u[p];return f},o=function(l,u){for(var f=[],c=u,p=0;c<l.length;c+=1,p+=1)f[p]=l[c];return f},a=function(s,l){for(var u="",f=0;f<s.length;f+=1)u+=s[f],f+1<s.length&&(u+=l);return u};return I0=function(l){var u=this;if(typeof u!="function"||t.apply(u)!==n)throw new TypeError(e+u);for(var f=o(arguments,1),c,p=function(){if(this instanceof c){var h=u.apply(this,i(f,arguments));return Object(h)===h?h:this}return u.apply(l,i(f,arguments))},m=r(0,u.length-f.length),g=[],_=0;_<m;_++)g[_]="$"+_;if(c=Function("binder","return function ("+a(g,",")+"){ return binder.apply(this,arguments); }")(p),u.prototype){var v=function(){};v.prototype=u.prototype,c.prototype=new v,v.prototype=null}return c},I0}function MR(){if(YA)return N0;YA=!0;var e=xee();return N0=Function.prototype.bind||e,N0}function Pee(){if(XA)return k0;XA=!0;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=MR();return k0=r.call(e,t),k0}function Bh(){if(QA)return C0;QA=!0;var e,t=bee(),r=_ee(),n=Eee(),i=See(),o=t6(),a=Eg(),s=$ee(),l=Function,u=function(fe){try{return l('"use strict"; return ('+fe+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var c=function(){throw new a},p=f?function(){try{return arguments.callee,c}catch{try{return f(arguments,"callee").get}catch{return c}}}():c,m=Tee()(),g=Aee()(),_=Object.getPrototypeOf||(g?function(fe){return fe.__proto__}:null),v={},h=typeof Uint8Array>"u"||!_?e:_(Uint8Array),E={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":m&&_?_([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":v,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&_?_(_([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!m||!_?e:_(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!m||!_?e:_(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&_?_(""[Symbol.iterator]()):e,"%Symbol%":m?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":p,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":s,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};if(_)try{null.error}catch(fe){var y=_(_(fe));E["%Error.prototype%"]=y}var S=function fe(ee){var ae;if(ee==="%AsyncFunction%")ae=u("async function () {}");else if(ee==="%GeneratorFunction%")ae=u("function* () {}");else if(ee==="%AsyncGeneratorFunction%")ae=u("async function* () {}");else if(ee==="%AsyncGenerator%"){var M=fe("%AsyncGeneratorFunction%");M&&(ae=M.prototype)}else if(ee==="%AsyncIteratorPrototype%"){var B=fe("%AsyncGenerator%");B&&_&&(ae=_(B.prototype))}return E[ee]=ae,ae},$={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=MR(),d=Pee(),A=T.call(Function.call,Array.prototype.concat),x=T.call(Function.apply,Array.prototype.splice),P=T.call(Function.call,String.prototype.replace),j=T.call(Function.call,String.prototype.slice),F=T.call(Function.call,RegExp.prototype.exec),V=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,X=/\\(\\)?/g,H=function(ee){var ae=j(ee,0,1),M=j(ee,-1);if(ae==="%"&&M!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(M==="%"&&ae!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var B=[];return P(ee,V,function(K,O,N,q){B[B.length]=N?P(q,X,"$1"):O||K}),B},Z=function(ee,ae){var M=ee,B;if(d($,M)&&(B=$[M],M="%"+B[0]+"%"),d(E,M)){var K=E[M];if(K===v&&(K=S(M)),typeof K>"u"&&!ae)throw new a("intrinsic "+ee+" exists, but is not available. Please file an issue!");return{alias:B,name:M,value:K}}throw new o("intrinsic "+ee+" does not exist!")};return C0=function(ee,ae){if(typeof ee!="string"||ee.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ae!="boolean")throw new a('"allowMissing" argument must be a boolean');if(F(/^%?[^%]*%?$/,ee)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var M=H(ee),B=M.length>0?M[0]:"",K=Z("%"+B+"%",ae),O=K.name,N=K.value,q=!1,ne=K.alias;ne&&(B=ne[0],x(M,A([0,1],ne)));for(var J=1,Y=!0;J<M.length;J+=1){var oe=M[J],be=j(oe,0,1),Oe=j(oe,-1);if((be==='"'||be==="'"||be==="`"||Oe==='"'||Oe==="'"||Oe==="`")&&be!==Oe)throw new o("property names with quotes must have matching quotes");if((oe==="constructor"||!Y)&&(q=!0),B+="."+oe,O="%"+B+"%",d(E,O))N=E[O];else if(N!=null){if(!(oe in N)){if(!ae)throw new a("base intrinsic for "+ee+" exists, but the property is not available.");return}if(f&&J+1>=M.length){var R=f(N,oe);Y=!!R,Y&&"get"in R&&!("originalValue"in R.get)?N=R.get:N=N[oe]}else Y=d(N,oe),N=N[oe];Y&&!q&&(E[O]=N)}}return N},C0}function LR(){if(ZA)return j0;ZA=!0;var e=Bh(),t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return j0=t,j0}function FR(){if(ex)return D0;ex=!0;var e=Bh(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return D0=t,D0}function Oee(){if(tx)return M0;tx=!0;var e=LR(),t=t6(),r=Eg(),n=FR();return M0=function(o,a,s){if(!o||typeof o!="object"&&typeof o!="function")throw new r("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,p=!!n&&n(o,a);if(e)e(o,a,{configurable:f===null&&p?p.configurable:!f,enumerable:l===null&&p?p.enumerable:!l,value:s,writable:u===null&&p?p.writable:!u});else if(c||!l&&!u&&!f)o[a]=s;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},M0}function Ree(){if(rx)return L0;rx=!0;var e=LR(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},L0=t,L0}function Iee(){if(nx)return F0;nx=!0;var e=Bh(),t=Oee(),r=Ree()(),n=FR(),i=Eg(),o=e("%Math.floor%");return F0=function(s,l){if(typeof s!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||o(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],f=!0,c=!0;if("length"in s&&n){var p=n(s,"length");p&&!p.configurable&&(f=!1),p&&!p.writable&&(c=!1)}return(f||c||!u)&&(r?t(s,"length",l,!0,!0):t(s,"length",l)),s},F0}function r6(){if(ix)return Td;ix=!0;var e=MR(),t=Bh(),r=Iee(),n=Eg(),i=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),a=t("%Reflect.apply%",!0)||e.call(o,i),s=LR(),l=t("%Math.max%");Td=function(c){if(typeof c!="function")throw new n("a function is required");var p=a(e,o,arguments);return r(p,1+l(0,c.length-(arguments.length-1)),!0)};var u=function(){return a(e,i,arguments)};return s?s(Td,"apply",{value:u}):Td.apply=u,Td}function BR(){if(ox)return B0;ox=!0;var e=Bh(),t=r6(),r=t(e("String.prototype.indexOf"));return B0=function(i,o){var a=e(i,!!o);return typeof a=="function"&&r(i,".prototype.")>-1?t(a):a},B0}var _0,FA,E0,BA,S0,UA,$0,zA,T0,qA,A0,VA,x0,HA,P0,WA,O0,GA,R0,KA,I0,JA,N0,YA,k0,XA,C0,QA,j0,ZA,D0,ex,M0,tx,L0,rx,F0,nx,Td,ix,B0,ox,UR=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtcTpLWz.js"(){Te(),_0={},FA=!1,E0={},BA=!1,S0={},UA=!1,$0={},zA=!1,T0={},qA=!1,A0={},VA=!1,x0={},HA=!1,P0={},WA=!1,O0={},GA=!1,R0={},KA=!1,I0={},JA=!1,N0={},YA=!1,k0={},XA=!1,C0={},QA=!1,j0={},ZA=!1,D0={},ex=!1,M0={},tx=!1,L0={},rx=!1,F0={},nx=!1,Td={},ix=!1,B0={},ox=!1}}),Y_={};tl(Y_,{TextDecoder:()=>I6,TextEncoder:()=>R6,_extend:()=>a6,callbackify:()=>s6,debuglog:()=>l6,default:()=>Kt,deprecate:()=>u6,format:()=>c6,inherits:()=>f6,inspect:()=>d6,isArray:()=>h6,isBoolean:()=>p6,isBuffer:()=>m6,isDate:()=>g6,isError:()=>v6,isFunction:()=>y6,isNull:()=>w6,isNullOrUndefined:()=>b6,isNumber:()=>_6,isObject:()=>E6,isPrimitive:()=>S6,isRegExp:()=>$6,isString:()=>T6,isSymbol:()=>A6,isUndefined:()=>x6,log:()=>P6,promisify:()=>Db,types:()=>O6});function zR(){if(ax)return U0;ax=!0;var e=e6();return U0=function(){return e()&&!!Symbol.toStringTag},U0}function Nee(){if(sx)return z0;sx=!0;var e=zR()(),t=BR(),r=t("Object.prototype.toString"),n=function(s){return e&&s&&typeof s=="object"&&Symbol.toStringTag in s?!1:r(s)==="[object Arguments]"},i=function(s){return n(s)?!0:s!==null&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&r(s)!=="[object Array]"&&r(s.callee)==="[object Function]"},o=function(){return n(arguments)}();return n.isLegacyArguments=i,z0=o?n:i,z0}function kee(){if(lx)return q0;lx=!0;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=zR()(),i=Object.getPrototypeOf,o=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},a;return q0=function(l){if(typeof l!="function")return!1;if(r.test(t.call(l)))return!0;if(!n){var u=e.call(l);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var f=o();a=f?i(f):!1}return i(l)===a},q0}function Cee(){if(ux)return V0;ux=!0;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(E){E!==n&&(t=null)}else t=null;var i=/^\s*class\b/,o=function(y){try{var S=e.call(y);return i.test(S)}catch{return!1}},a=function(y){try{return o(y)?!1:(e.call(y),!0)}catch{return!1}},s=Object.prototype.toString,l="[object Object]",u="[object Function]",f="[object GeneratorFunction]",c="[object HTMLAllCollection]",p="[object HTML document.all class]",m="[object HTMLCollection]",g=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),v=function(){return!1};if(typeof document=="object"){var h=document.all;s.call(h)===s.call(document.all)&&(v=function(y){if((_||!y)&&(typeof y>"u"||typeof y=="object"))try{var S=s.call(y);return(S===c||S===p||S===m||S===l)&&y("")==null}catch{}return!1})}return V0=t?function(y){if(v(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;try{t(y,null,r)}catch(S){if(S!==n)return!1}return!o(y)&&a(y)}:function(y){if(v(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;if(g)return a(y);if(o(y))return!1;var S=s.call(y);return S!==u&&S!==f&&!/^\[object HTML/.test(S)?!1:a(y)},V0}function jee(){if(cx)return H0;cx=!0;var e=Cee(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,u,f){for(var c=0,p=l.length;c<p;c++)r.call(l,c)&&(f==null?u(l[c],c,l):u.call(f,l[c],c,l))},i=function(l,u,f){for(var c=0,p=l.length;c<p;c++)f==null?u(l.charAt(c),c,l):u.call(f,l.charAt(c),c,l)},o=function(l,u,f){for(var c in l)r.call(l,c)&&(f==null?u(l[c],c,l):u.call(f,l[c],c,l))},a=function(l,u,f){if(!e(u))throw new TypeError("iterator must be a function");var c;arguments.length>=3&&(c=f),t.call(l)==="[object Array]"?n(l,u,c):typeof l=="string"?i(l,u,c):o(l,u,c)};return H0=a,H0}function Dee(){return fx||(fx=!0,W0=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),W0}function Mee(){if(dx)return G0;dx=!0;var e=Dee(),t=typeof globalThis>"u"?i6:globalThis;return G0=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},G0}function n6(){if(hx)return K0;hx=!0;var e=jee(),t=Mee(),r=r6(),n=BR(),i=FR(),o=n("Object.prototype.toString"),a=zR()(),s=typeof globalThis>"u"?o6:globalThis,l=t(),u=n("String.prototype.slice"),f=Object.getPrototypeOf,c=n("Array.prototype.indexOf",!0)||function(v,h){for(var E=0;E<v.length;E+=1)if(v[E]===h)return E;return-1},p={__proto__:null};a&&i&&f?e(l,function(_){var v=new s[_];if(Symbol.toStringTag in v){var h=f(v),E=i(h,Symbol.toStringTag);if(!E){var y=f(h);E=i(y,Symbol.toStringTag)}p["$"+_]=r(E.get)}}):e(l,function(_){var v=new s[_],h=v.slice||v.set;h&&(p["$"+_]=r(h))});var m=function(v){var h=!1;return e(p,function(E,y){if(!h)try{"$"+E(v)===y&&(h=u(y,1))}catch{}}),h},g=function(v){var h=!1;return e(p,function(E,y){if(!h)try{E(v),h=u(y,1)}catch{}}),h};return K0=function(v){if(!v||typeof v!="object")return!1;if(!a){var h=u(o(v),8,-1);return c(l,h)>-1?h:h!=="Object"?!1:g(v)}return i?m(v):null},K0}function Lee(){if(px)return J0;px=!0;var e=n6();return J0=function(r){return!!e(r)},J0}function Fee(){if(mx)return cr;mx=!0;var e=Nee(),t=kee(),r=n6(),n=Lee();function i(de){return de.call.bind(de)}var o=typeof BigInt<"u",a=typeof Symbol<"u",s=i(Object.prototype.toString),l=i(Number.prototype.valueOf),u=i(String.prototype.valueOf),f=i(Boolean.prototype.valueOf);if(o)var c=i(BigInt.prototype.valueOf);if(a)var p=i(Symbol.prototype.valueOf);function m(de,ve){if(typeof de!="object")return!1;try{return ve(de),!0}catch{return!1}}cr.isArgumentsObject=e,cr.isGeneratorFunction=t,cr.isTypedArray=n;function g(de){return typeof Promise<"u"&&de instanceof Promise||de!==null&&typeof de=="object"&&typeof de.then=="function"&&typeof de.catch=="function"}cr.isPromise=g;function _(de){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(de):n(de)||K(de)}cr.isArrayBufferView=_;function v(de){return r(de)==="Uint8Array"}cr.isUint8Array=v;function h(de){return r(de)==="Uint8ClampedArray"}cr.isUint8ClampedArray=h;function E(de){return r(de)==="Uint16Array"}cr.isUint16Array=E;function y(de){return r(de)==="Uint32Array"}cr.isUint32Array=y;function S(de){return r(de)==="Int8Array"}cr.isInt8Array=S;function $(de){return r(de)==="Int16Array"}cr.isInt16Array=$;function T(de){return r(de)==="Int32Array"}cr.isInt32Array=T;function d(de){return r(de)==="Float32Array"}cr.isFloat32Array=d;function A(de){return r(de)==="Float64Array"}cr.isFloat64Array=A;function x(de){return r(de)==="BigInt64Array"}cr.isBigInt64Array=x;function P(de){return r(de)==="BigUint64Array"}cr.isBigUint64Array=P;function j(de){return s(de)==="[object Map]"}j.working=typeof Map<"u"&&j(new Map);function F(de){return typeof Map>"u"?!1:j.working?j(de):de instanceof Map}cr.isMap=F;function V(de){return s(de)==="[object Set]"}V.working=typeof Set<"u"&&V(new Set);function X(de){return typeof Set>"u"?!1:V.working?V(de):de instanceof Set}cr.isSet=X;function H(de){return s(de)==="[object WeakMap]"}H.working=typeof WeakMap<"u"&&H(new WeakMap);function Z(de){return typeof WeakMap>"u"?!1:H.working?H(de):de instanceof WeakMap}cr.isWeakMap=Z;function fe(de){return s(de)==="[object WeakSet]"}fe.working=typeof WeakSet<"u"&&fe(new WeakSet);function ee(de){return fe(de)}cr.isWeakSet=ee;function ae(de){return s(de)==="[object ArrayBuffer]"}ae.working=typeof ArrayBuffer<"u"&&ae(new ArrayBuffer);function M(de){return typeof ArrayBuffer>"u"?!1:ae.working?ae(de):de instanceof ArrayBuffer}cr.isArrayBuffer=M;function B(de){return s(de)==="[object DataView]"}B.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&B(new DataView(new ArrayBuffer(1),0,1));function K(de){return typeof DataView>"u"?!1:B.working?B(de):de instanceof DataView}cr.isDataView=K;var O=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function N(de){return s(de)==="[object SharedArrayBuffer]"}function q(de){return typeof O>"u"?!1:(typeof N.working>"u"&&(N.working=N(new O)),N.working?N(de):de instanceof O)}cr.isSharedArrayBuffer=q;function ne(de){return s(de)==="[object AsyncFunction]"}cr.isAsyncFunction=ne;function J(de){return s(de)==="[object Map Iterator]"}cr.isMapIterator=J;function Y(de){return s(de)==="[object Set Iterator]"}cr.isSetIterator=Y;function oe(de){return s(de)==="[object Generator]"}cr.isGeneratorObject=oe;function be(de){return s(de)==="[object WebAssembly.Module]"}cr.isWebAssemblyCompiledModule=be;function Oe(de){return m(de,l)}cr.isNumberObject=Oe;function R(de){return m(de,u)}cr.isStringObject=R;function C(de){return m(de,f)}cr.isBooleanObject=C;function D(de){return o&&m(de,c)}cr.isBigIntObject=D;function G(de){return a&&m(de,p)}cr.isSymbolObject=G;function ie(de){return Oe(de)||R(de)||C(de)||D(de)||G(de)}cr.isBoxedPrimitive=ie;function ue(de){return typeof Uint8Array<"u"&&(M(de)||q(de))}return cr.isAnyArrayBuffer=ue,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(de){Object.defineProperty(cr,de,{enumerable:!1,value:function(){throw new Error(de+" is not supported in userland")}})}),cr}function Bee(){return gx||(gx=!0,Y0=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),Y0}function Uee(){if(vx)return fr;vx=!0;var e=di,t=Object.getOwnPropertyDescriptors||function(O){for(var N=Object.keys(O),q={},ne=0;ne<N.length;ne++)q[N[ne]]=Object.getOwnPropertyDescriptor(O,N[ne]);return q},r=/%[sdj%]/g;fr.format=function(K){if(!$(K)){for(var O=[],N=0;N<arguments.length;N++)O.push(a(arguments[N]));return O.join(" ")}for(var N=1,q=arguments,ne=q.length,J=String(K).replace(r,function(oe){if(oe==="%%")return"%";if(N>=ne)return oe;switch(oe){case"%s":return String(q[N++]);case"%d":return Number(q[N++]);case"%j":try{return JSON.stringify(q[N++])}catch{return"[Circular]"}default:return oe}}),Y=q[N];N<ne;Y=q[++N])E(Y)||!x(Y)?J+=" "+Y:J+=" "+a(Y);return J},fr.deprecate=function(K,O){if(typeof e<"u"&&e.noDeprecation===!0)return K;if(typeof e>"u")return function(){return fr.deprecate(K,O).apply(this||Ad,arguments)};var N=!1;function q(){if(!N){if(e.throwDeprecation)throw new Error(O);e.traceDeprecation?console.trace(O):console.error(O),N=!0}return K.apply(this||Ad,arguments)}return q};var n={},i=/^$/;if(e.env.NODE_DEBUG){var o=e.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}fr.debuglog=function(K){if(K=K.toUpperCase(),!n[K])if(i.test(K)){var O=e.pid;n[K]=function(){var N=fr.format.apply(fr,arguments);console.error("%s %d: %s",K,O,N)}}else n[K]=function(){};return n[K]};function a(K,O){var N={seen:[],stylize:l};return arguments.length>=3&&(N.depth=arguments[2]),arguments.length>=4&&(N.colors=arguments[3]),h(O)?N.showHidden=O:O&&fr._extend(N,O),d(N.showHidden)&&(N.showHidden=!1),d(N.depth)&&(N.depth=2),d(N.colors)&&(N.colors=!1),d(N.customInspect)&&(N.customInspect=!0),N.colors&&(N.stylize=s),f(N,K,N.depth)}fr.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s(K,O){var N=a.styles[O];return N?"\x1B["+a.colors[N][0]+"m"+K+"\x1B["+a.colors[N][1]+"m":K}function l(K,O){return K}function u(K){var O={};return K.forEach(function(N,q){O[N]=!0}),O}function f(K,O,N){if(K.customInspect&&O&&F(O.inspect)&&O.inspect!==fr.inspect&&!(O.constructor&&O.constructor.prototype===O)){var q=O.inspect(N,K);return $(q)||(q=f(K,q,N)),q}var ne=c(K,O);if(ne)return ne;var J=Object.keys(O),Y=u(J);if(K.showHidden&&(J=Object.getOwnPropertyNames(O)),j(O)&&(J.indexOf("message")>=0||J.indexOf("description")>=0))return p(O);if(J.length===0){if(F(O)){var oe=O.name?": "+O.name:"";return K.stylize("[Function"+oe+"]","special")}if(A(O))return K.stylize(RegExp.prototype.toString.call(O),"regexp");if(P(O))return K.stylize(Date.prototype.toString.call(O),"date");if(j(O))return p(O)}var be="",Oe=!1,R=["{","}"];if(v(O)&&(Oe=!0,R=["[","]"]),F(O)){var C=O.name?": "+O.name:"";be=" [Function"+C+"]"}if(A(O)&&(be=" "+RegExp.prototype.toString.call(O)),P(O)&&(be=" "+Date.prototype.toUTCString.call(O)),j(O)&&(be=" "+p(O)),J.length===0&&(!Oe||O.length==0))return R[0]+be+R[1];if(N<0)return A(O)?K.stylize(RegExp.prototype.toString.call(O),"regexp"):K.stylize("[Object]","special");K.seen.push(O);var D;return Oe?D=m(K,O,N,Y,J):D=J.map(function(G){return g(K,O,N,Y,G,Oe)}),K.seen.pop(),_(D,be,R)}function c(K,O){if(d(O))return K.stylize("undefined","undefined");if($(O)){var N="'"+JSON.stringify(O).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return K.stylize(N,"string")}if(S(O))return K.stylize(""+O,"number");if(h(O))return K.stylize(""+O,"boolean");if(E(O))return K.stylize("null","null")}function p(K){return"["+Error.prototype.toString.call(K)+"]"}function m(K,O,N,q,ne){for(var J=[],Y=0,oe=O.length;Y<oe;++Y)ee(O,String(Y))?J.push(g(K,O,N,q,String(Y),!0)):J.push("");return ne.forEach(function(be){be.match(/^\d+$/)||J.push(g(K,O,N,q,be,!0))}),J}function g(K,O,N,q,ne,J){var Y,oe,be;if(be=Object.getOwnPropertyDescriptor(O,ne)||{value:O[ne]},be.get?be.set?oe=K.stylize("[Getter/Setter]","special"):oe=K.stylize("[Getter]","special"):be.set&&(oe=K.stylize("[Setter]","special")),ee(q,ne)||(Y="["+ne+"]"),oe||(K.seen.indexOf(be.value)<0?(E(N)?oe=f(K,be.value,null):oe=f(K,be.value,N-1),oe.indexOf(`
`)>-1&&(J?oe=oe.split(`
`).map(function(Oe){return"  "+Oe}).join(`
`).slice(2):oe=`
`+oe.split(`
`).map(function(Oe){return"   "+Oe}).join(`
`))):oe=K.stylize("[Circular]","special")),d(Y)){if(J&&ne.match(/^\d+$/))return oe;Y=JSON.stringify(""+ne),Y.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Y=Y.slice(1,-1),Y=K.stylize(Y,"name")):(Y=Y.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Y=K.stylize(Y,"string"))}return Y+": "+oe}function _(K,O,N){var q=K.reduce(function(ne,J){return J.indexOf(`
`)>=0,ne+J.replace(/\u001b\[\d\d?m/g,"").length+1},0);return q>60?N[0]+(O===""?"":O+`
 `)+" "+K.join(`,
  `)+" "+N[1]:N[0]+O+" "+K.join(", ")+" "+N[1]}fr.types=Fee();function v(K){return Array.isArray(K)}fr.isArray=v;function h(K){return typeof K=="boolean"}fr.isBoolean=h;function E(K){return K===null}fr.isNull=E;function y(K){return K==null}fr.isNullOrUndefined=y;function S(K){return typeof K=="number"}fr.isNumber=S;function $(K){return typeof K=="string"}fr.isString=$;function T(K){return typeof K=="symbol"}fr.isSymbol=T;function d(K){return K===void 0}fr.isUndefined=d;function A(K){return x(K)&&X(K)==="[object RegExp]"}fr.isRegExp=A,fr.types.isRegExp=A;function x(K){return typeof K=="object"&&K!==null}fr.isObject=x;function P(K){return x(K)&&X(K)==="[object Date]"}fr.isDate=P,fr.types.isDate=P;function j(K){return x(K)&&(X(K)==="[object Error]"||K instanceof Error)}fr.isError=j,fr.types.isNativeError=j;function F(K){return typeof K=="function"}fr.isFunction=F;function V(K){return K===null||typeof K=="boolean"||typeof K=="number"||typeof K=="string"||typeof K=="symbol"||typeof K>"u"}fr.isPrimitive=V,fr.isBuffer=Bee();function X(K){return Object.prototype.toString.call(K)}function H(K){return K<10?"0"+K.toString(10):K.toString(10)}var Z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function fe(){var K=new Date,O=[H(K.getHours()),H(K.getMinutes()),H(K.getSeconds())].join(":");return[K.getDate(),Z[K.getMonth()],O].join(" ")}fr.log=function(){console.log("%s - %s",fe(),fr.format.apply(fr,arguments))},fr.inherits=ac(),fr._extend=function(K,O){if(!O||!x(O))return K;for(var N=Object.keys(O),q=N.length;q--;)K[N[q]]=O[N[q]];return K};function ee(K,O){return Object.prototype.hasOwnProperty.call(K,O)}var ae=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;fr.promisify=function(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');if(ae&&O[ae]){if(N=O[ae],typeof N!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(N,ae,{value:N,enumerable:!1,writable:!1,configurable:!0}),N}function N(){for(var q,ne,J=new Promise(function(be,Oe){q=be,ne=Oe}),Y=[],oe=0;oe<arguments.length;oe++)Y.push(arguments[oe]);Y.push(function(be,Oe){be?ne(be):q(Oe)});try{O.apply(this||Ad,Y)}catch(be){ne(be)}return J}return Object.setPrototypeOf(N,Object.getPrototypeOf(O)),ae&&Object.defineProperty(N,ae,{value:N,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(N,t(O))},fr.promisify.custom=ae;function M(K,O){if(!K){var N=new Error("Promise was rejected with a falsy value");N.reason=K,K=N}return O(K)}function B(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');function O(){for(var N=[],q=0;q<arguments.length;q++)N.push(arguments[q]);var ne=N.pop();if(typeof ne!="function")throw new TypeError("The last argument must be of type Function");var J=this||Ad,Y=function(){return ne.apply(J,arguments)};K.apply(this||Ad,N).then(function(oe){e.nextTick(Y.bind(null,null,oe))},function(oe){e.nextTick(M.bind(null,oe,Y))})}return Object.setPrototypeOf(O,Object.getPrototypeOf(K)),Object.defineProperties(O,t(K)),O}return fr.callbackify=B,fr}var U0,ax,z0,sx,q0,lx,V0,ux,H0,cx,W0,fx,G0,dx,i6,K0,hx,o6,J0,px,cr,mx,Y0,gx,fr,vx,Ad,Kt,a6,s6,l6,u6,c6,f6,d6,h6,p6,m6,g6,v6,y6,w6,b6,_6,E6,S6,$6,T6,A6,x6,P6,Db,O6,R6,I6,X_=nn({"../../node_modules/@jspm/core/nodelibs/browser/util.js"(){Te(),UR(),xR(),bg(),U0={},ax=!1,z0={},sx=!1,q0={},lx=!1,V0={},ux=!1,H0={},cx=!1,W0={},fx=!1,G0={},dx=!1,i6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,K0={},hx=!1,o6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,J0={},px=!1,cr={},mx=!1,Y0={},gx=!1,fr={},vx=!1,Ad=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Kt=Uee(),Kt.format,Kt.deprecate,Kt.debuglog,Kt.inspect,Kt.types,Kt.isArray,Kt.isBoolean,Kt.isNull,Kt.isNullOrUndefined,Kt.isNumber,Kt.isString,Kt.isSymbol,Kt.isUndefined,Kt.isRegExp,Kt.isObject,Kt.isDate,Kt.isError,Kt.isFunction,Kt.isPrimitive,Kt.isBuffer,Kt.log,Kt.inherits,Kt._extend,Kt.promisify,Kt.callbackify,a6=Kt._extend,s6=Kt.callbackify,l6=Kt.debuglog,u6=Kt.deprecate,c6=Kt.format,f6=Kt.inherits,d6=Kt.inspect,h6=Kt.isArray,p6=Kt.isBoolean,m6=Kt.isBuffer,g6=Kt.isDate,v6=Kt.isError,y6=Kt.isFunction,w6=Kt.isNull,b6=Kt.isNullOrUndefined,_6=Kt.isNumber,E6=Kt.isObject,S6=Kt.isPrimitive,$6=Kt.isRegExp,T6=Kt.isString,A6=Kt.isSymbol,x6=Kt.isUndefined,P6=Kt.log,Db=Kt.promisify,O6=Kt.types,R6=Kt.TextEncoder=globalThis.TextEncoder,I6=Kt.TextDecoder=globalThis.TextDecoder}}),ea={};tl(ea,{Duplex:()=>F6,PassThrough:()=>U6,Readable:()=>gw,Stream:()=>V6,Transform:()=>B6,Writable:()=>L6,default:()=>tn,finished:()=>z6,pipeline:()=>q6,promises:()=>H6});function Ln(){return yx||(yx=!0,X0={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array}),X0}function zm(){if(wx)return xd;wx=!0;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return xd=e,xd.AbortSignal=t,xd.default=e,xd}function io(){if(bx)return Fp;bx=!0;const e=Io(),{kResistStopPropagation:t,SymbolDispose:r}=Ln(),n=globalThis.AbortSignal||zm().AbortSignal,i=globalThis.AbortController||zm().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,a=globalThis.Blob||e.Blob,s=typeof a<"u"?function(p){return p instanceof a}:function(p){return!1},l=(c,p)=>{if(c!==void 0&&(c===null||typeof c!="object"||!("aborted"in c)))throw new ERR_INVALID_ARG_TYPE(p,"AbortSignal",c)},u=(c,p)=>{if(typeof c!="function")throw new ERR_INVALID_ARG_TYPE(p,"Function",c)};class f extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let m="";for(let g=0;g<p.length;g++)m+=`    ${p[g].stack}
`;super(m),this.name="AggregateError",this.errors=p}}return Fp={AggregateError:f,kEmptyObject:Object.freeze({}),once(c){let p=!1;return function(...m){p||(p=!0,c.apply(this,m))}},createDeferredPromise:function(){let c,p;return{promise:new Promise((g,_)=>{c=g,p=_}),resolve:c,reject:p}},promisify(c){return new Promise((p,m)=>{c((g,..._)=>g?m(g):p(..._))})},debuglog(){return function(){}},format(c,...p){return c.replace(/%([sdifj])/g,function(...[m,g]){const _=p.shift();return g==="f"?_.toFixed(6):g==="j"?JSON.stringify(_):g==="s"&&typeof _=="object"?`${_.constructor!==Object?_.constructor.name:""} {}`.trim():_.toString()})},inspect(c){switch(typeof c){case"string":if(c.includes("'"))if(c.includes('"')){if(!c.includes("`")&&!c.includes("${"))return`\`${c}\``}else return`"${c}"`;return`'${c}'`;case"number":return isNaN(c)?"NaN":Object.is(c,-0)?String(c):c;case"bigint":return`${String(c)}n`;case"boolean":case"undefined":return String(c);case"object":return"{}"}},types:{isAsyncFunction(c){return c instanceof o},isArrayBufferView(c){return ArrayBuffer.isView(c)}},isBlob:s,deprecate(c,p){return c},addAbortListener:Ls.addAbortListener||function(p,m){if(p===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",p);l(p,"signal"),u(m,"listener");let g;return p.aborted?queueMicrotask(()=>m()):(p.addEventListener("abort",m,{__proto__:null,once:!0,[t]:!0}),g=()=>{p.removeEventListener("abort",m)}),{__proto__:null,[r](){var _;(_=g)===null||_===void 0||_()}}},AbortSignalAny:n.any||function(p){if(p.length===1)return p[0];const m=new i,g=()=>m.abort();return p.forEach(_=>{l(_,"signals"),_.addEventListener("abort",g,{once:!0})}),m.signal.addEventListener("abort",()=>{p.forEach(_=>_.removeEventListener("abort",g))},{once:!0}),m.signal}},Fp.promisify.custom=Symbol.for("nodejs.util.promisify.custom"),Fp}function ko(){if(_x)return Q0;_x=!0;const{format:e,inspect:t,AggregateError:r}=io(),n=globalThis.AggregateError||r,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],a=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",l={};function u(v,h){if(!v)throw new l.ERR_INTERNAL_ASSERTION(h)}function f(v){let h="",E=v.length;const y=v[0]==="-"?1:0;for(;E>=y+4;E-=3)h=`_${v.slice(E-3,E)}${h}`;return`${v.slice(0,E)}${h}`}function c(v,h,E){if(typeof h=="function")return u(h.length<=E.length,`Code: ${v}; The provided arguments length (${E.length}) does not match the required ones (${h.length}).`),h(...E);const y=(h.match(/%[dfijoOs]/g)||[]).length;return u(y===E.length,`Code: ${v}; The provided arguments length (${E.length}) does not match the required ones (${y}).`),E.length===0?h:e(h,...E)}function p(v,h,E){E||(E=Error);class y extends E{constructor(...$){super(c(v,h,$))}toString(){return`${this.name} [${v}]: ${this.message}`}}Object.defineProperties(y.prototype,{name:{value:E.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${v}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),y.prototype.code=v,y.prototype[i]=!0,l[v]=y}function m(v){const h=s+v.name;return Object.defineProperty(v,"name",{value:h}),v}function g(v,h){if(v&&h&&v!==h){if(Array.isArray(h.errors))return h.errors.push(v),h;const E=new n([h,v],h.message);return E.code=h.code,E}return v||h}class _ extends Error{constructor(h="The operation was aborted",E=void 0){if(E!==void 0&&typeof E!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",E);super(h,E),this.code="ABORT_ERR",this.name="AbortError"}}return p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(v,h,E)=>{u(typeof v=="string","'name' must be a string"),Array.isArray(h)||(h=[h]);let y="The ";v.endsWith(" argument")?y+=`${v} `:y+=`"${v}" ${v.includes(".")?"property":"argument"} `,y+="must be ";const S=[],$=[],T=[];for(const A of h)u(typeof A=="string","All expected entries have to be of type string"),o.includes(A)?S.push(A.toLowerCase()):a.test(A)?$.push(A):(u(A!=="object",'The value "object" should be written as "Object"'),T.push(A));if($.length>0){const A=S.indexOf("object");A!==-1&&(S.splice(S,A,1),$.push("Object"))}if(S.length>0){switch(S.length){case 1:y+=`of type ${S[0]}`;break;case 2:y+=`one of type ${S[0]} or ${S[1]}`;break;default:{const A=S.pop();y+=`one of type ${S.join(", ")}, or ${A}`}}($.length>0||T.length>0)&&(y+=" or ")}if($.length>0){switch($.length){case 1:y+=`an instance of ${$[0]}`;break;case 2:y+=`an instance of ${$[0]} or ${$[1]}`;break;default:{const A=$.pop();y+=`an instance of ${$.join(", ")}, or ${A}`}}T.length>0&&(y+=" or ")}switch(T.length){case 0:break;case 1:T[0].toLowerCase()!==T[0]&&(y+="an "),y+=`${T[0]}`;break;case 2:y+=`one of ${T[0]} or ${T[1]}`;break;default:{const A=T.pop();y+=`one of ${T.join(", ")}, or ${A}`}}if(E==null)y+=`. Received ${E}`;else if(typeof E=="function"&&E.name)y+=`. Received function ${E.name}`;else if(typeof E=="object"){var d;if((d=E.constructor)!==null&&d!==void 0&&d.name)y+=`. Received an instance of ${E.constructor.name}`;else{const A=t(E,{depth:-1});y+=`. Received ${A}`}}else{let A=t(E,{colors:!1});A.length>25&&(A=`${A.slice(0,25)}...`),y+=`. Received type ${typeof E} (${A})`}return y},TypeError),p("ERR_INVALID_ARG_VALUE",(v,h,E="is invalid")=>{let y=t(h);return y.length>128&&(y=y.slice(0,128)+"..."),`The ${v.includes(".")?"property":"argument"} '${v}' ${E}. Received ${y}`},TypeError),p("ERR_INVALID_RETURN_VALUE",(v,h,E)=>{var y;const S=E!=null&&(y=E.constructor)!==null&&y!==void 0&&y.name?`instance of ${E.constructor.name}`:`type ${typeof E}`;return`Expected ${v} to be returned from the "${h}" function but got ${S}.`},TypeError),p("ERR_MISSING_ARGS",(...v)=>{u(v.length>0,"At least one arg needs to be specified");let h;const E=v.length;switch(v=(Array.isArray(v)?v:[v]).map(y=>`"${y}"`).join(" or "),E){case 1:h+=`The ${v[0]} argument`;break;case 2:h+=`The ${v[0]} and ${v[1]} arguments`;break;default:{const y=v.pop();h+=`The ${v.join(", ")}, and ${y} arguments`}break}return`${h} must be specified`},TypeError),p("ERR_OUT_OF_RANGE",(v,h,E)=>{u(h,'Missing "range" argument');let y;return Number.isInteger(E)&&Math.abs(E)>2**32?y=f(String(E)):typeof E=="bigint"?(y=String(E),(E>2n**32n||E<-(2n**32n))&&(y=f(y)),y+="n"):y=t(E),`The value of "${v}" is out of range. It must be ${h}. Received ${y}`},RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Q0={AbortError:_,aggregateTwoErrors:m(g),hideStackFrames:m,codes:l},Q0}function Sg(){if(Ex)return Z0;Ex=!0;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:a,NumberMIN_SAFE_INTEGER:s,NumberParseInt:l,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:f,String:c,StringPrototypeToUpperCase:p,StringPrototypeTrim:m}=Ln(),{hideStackFrames:g,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:h,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:y}}=ko(),{normalizeEncoding:S}=io(),{isAsyncFunction:$,isArrayBufferView:T}=io().types,d={};function A(ve){return ve===(ve|0)}function x(ve){return ve===ve>>>0}const P=/^[0-7]+$/,j="must be a 32-bit unsigned integer or an octal string";function F(ve,Ne,Be){if(typeof ve>"u"&&(ve=Be),typeof ve=="string"){if(f(P,ve)===null)throw new h(Ne,ve,j);ve=l(ve,8)}return H(ve,Ne),ve}const V=g((ve,Ne,Be=s,je=a)=>{if(typeof ve!="number")throw new v(Ne,"number",ve);if(!i(ve))throw new E(Ne,"an integer",ve);if(ve<Be||ve>je)throw new E(Ne,`>= ${Be} && <= ${je}`,ve)}),X=g((ve,Ne,Be=-2147483648,je=2147483647)=>{if(typeof ve!="number")throw new v(Ne,"number",ve);if(!i(ve))throw new E(Ne,"an integer",ve);if(ve<Be||ve>je)throw new E(Ne,`>= ${Be} && <= ${je}`,ve)}),H=g((ve,Ne,Be=!1)=>{if(typeof ve!="number")throw new v(Ne,"number",ve);if(!i(ve))throw new E(Ne,"an integer",ve);const je=Be?1:0,nt=4294967295;if(ve<je||ve>nt)throw new E(Ne,`>= ${je} && <= ${nt}`,ve)});function Z(ve,Ne){if(typeof ve!="string")throw new v(Ne,"string",ve)}function fe(ve,Ne,Be=void 0,je){if(typeof ve!="number")throw new v(Ne,"number",ve);if(Be!=null&&ve<Be||je!=null&&ve>je||(Be!=null||je!=null)&&o(ve))throw new E(Ne,`${Be!=null?`>= ${Be}`:""}${Be!=null&&je!=null?" && ":""}${je!=null?`<= ${je}`:""}`,ve)}const ee=g((ve,Ne,Be)=>{if(!t(Be,ve)){const nt="must be one of: "+r(n(Be,We=>typeof We=="string"?`'${We}'`:c(We)),", ");throw new h(Ne,ve,nt)}});function ae(ve,Ne){if(typeof ve!="boolean")throw new v(Ne,"boolean",ve)}function M(ve,Ne,Be){return ve==null||!u(ve,Ne)?Be:ve[Ne]}const B=g((ve,Ne,Be=null)=>{const je=M(Be,"allowArray",!1),nt=M(Be,"allowFunction",!1);if(!M(Be,"nullable",!1)&&ve===null||!je&&e(ve)||typeof ve!="object"&&(!nt||typeof ve!="function"))throw new v(Ne,"Object",ve)}),K=g((ve,Ne)=>{if(ve!=null&&typeof ve!="object"&&typeof ve!="function")throw new v(Ne,"a dictionary",ve)}),O=g((ve,Ne,Be=0)=>{if(!e(ve))throw new v(Ne,"Array",ve);if(ve.length<Be){const je=`must be longer than ${Be}`;throw new h(Ne,ve,je)}});function N(ve,Ne){O(ve,Ne);for(let Be=0;Be<ve.length;Be++)Z(ve[Be],`${Ne}[${Be}]`)}function q(ve,Ne){O(ve,Ne);for(let Be=0;Be<ve.length;Be++)ae(ve[Be],`${Ne}[${Be}]`)}function ne(ve,Ne){O(ve,Ne);for(let Be=0;Be<ve.length;Be++){const je=ve[Be],nt=`${Ne}[${Be}]`;if(je==null)throw new v(nt,"AbortSignal",je);Oe(je,nt)}}function J(ve,Ne="signal"){if(Z(ve,Ne),d[ve]===void 0)throw d[p(ve)]!==void 0?new y(ve+" (signals must use all capital letters)"):new y(ve)}const Y=g((ve,Ne="buffer")=>{if(!T(ve))throw new v(Ne,["Buffer","TypedArray","DataView"],ve)});function oe(ve,Ne){const Be=S(Ne),je=ve.length;if(Be==="hex"&&je%2!==0)throw new h("encoding",Ne,`is invalid for data of length ${je}`)}function be(ve,Ne="Port",Be=!0){if(typeof ve!="number"&&typeof ve!="string"||typeof ve=="string"&&m(ve).length===0||+ve!==+ve>>>0||ve>65535||ve===0&&!Be)throw new _(Ne,ve,Be);return ve|0}const Oe=g((ve,Ne)=>{if(ve!==void 0&&(ve===null||typeof ve!="object"||!("aborted"in ve)))throw new v(Ne,"AbortSignal",ve)}),R=g((ve,Ne)=>{if(typeof ve!="function")throw new v(Ne,"Function",ve)}),C=g((ve,Ne)=>{if(typeof ve!="function"||$(ve))throw new v(Ne,"Function",ve)}),D=g((ve,Ne)=>{if(ve!==void 0)throw new v(Ne,"undefined",ve)});function G(ve,Ne,Be){if(!t(Be,ve))throw new v(Ne,`('${r(Be,"|")}')`,ve)}const ie=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ue(ve,Ne){if(typeof ve>"u"||!f(ie,ve))throw new h(Ne,ve,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function de(ve){if(typeof ve=="string")return ue(ve,"hints"),ve;if(e(ve)){const Ne=ve.length;let Be="";if(Ne===0)return Be;for(let je=0;je<Ne;je++){const nt=ve[je];ue(nt,"hints"),Be+=nt,je!==Ne-1&&(Be+=", ")}return Be}throw new h("hints",ve,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return Z0={isInt32:A,isUint32:x,parseFileMode:F,validateArray:O,validateStringArray:N,validateBooleanArray:q,validateAbortSignalArray:ne,validateBoolean:ae,validateBuffer:Y,validateDictionary:K,validateEncoding:oe,validateFunction:R,validateInt32:X,validateInteger:V,validateNumber:fe,validateObject:B,validateOneOf:ee,validatePlainFunction:C,validatePort:be,validateSignalName:J,validateString:Z,validateUint32:H,validateUndefined:D,validateUnion:G,validateAbortSignal:Oe,validateLinkHeaderValue:de},Z0}function Vl(){if(Sx)return ew;Sx=!0;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:r}=Ln(),n=r("nodejs.stream.destroyed"),i=r("nodejs.stream.errored"),o=r("nodejs.stream.readable"),a=r("nodejs.stream.writable"),s=r("nodejs.stream.disturbed"),l=r("nodejs.webstream.isClosedPromise"),u=r("nodejs.webstream.controllerErrorFunction");function f(M,B=!1){var K;return!!(M&&typeof M.pipe=="function"&&typeof M.on=="function"&&(!B||typeof M.pause=="function"&&typeof M.resume=="function")&&(!M._writableState||((K=M._readableState)===null||K===void 0?void 0:K.readable)!==!1)&&(!M._writableState||M._readableState))}function c(M){var B;return!!(M&&typeof M.write=="function"&&typeof M.on=="function"&&(!M._readableState||((B=M._writableState)===null||B===void 0?void 0:B.writable)!==!1))}function p(M){return!!(M&&typeof M.pipe=="function"&&M._readableState&&typeof M.on=="function"&&typeof M.write=="function")}function m(M){return M&&(M._readableState||M._writableState||typeof M.write=="function"&&typeof M.on=="function"||typeof M.pipe=="function"&&typeof M.on=="function")}function g(M){return!!(M&&!m(M)&&typeof M.pipeThrough=="function"&&typeof M.getReader=="function"&&typeof M.cancel=="function")}function _(M){return!!(M&&!m(M)&&typeof M.getWriter=="function"&&typeof M.abort=="function")}function v(M){return!!(M&&!m(M)&&typeof M.readable=="object"&&typeof M.writable=="object")}function h(M){return g(M)||_(M)||v(M)}function E(M,B){return M==null?!1:B===!0?typeof M[e]=="function":B===!1?typeof M[t]=="function":typeof M[e]=="function"||typeof M[t]=="function"}function y(M){if(!m(M))return null;const B=M._writableState,K=M._readableState,O=B||K;return!!(M.destroyed||M[n]||O!=null&&O.destroyed)}function S(M){if(!c(M))return null;if(M.writableEnded===!0)return!0;const B=M._writableState;return B!=null&&B.errored?!1:typeof(B==null?void 0:B.ended)!="boolean"?null:B.ended}function $(M,B){if(!c(M))return null;if(M.writableFinished===!0)return!0;const K=M._writableState;return K!=null&&K.errored?!1:typeof(K==null?void 0:K.finished)!="boolean"?null:!!(K.finished||B===!1&&K.ended===!0&&K.length===0)}function T(M){if(!f(M))return null;if(M.readableEnded===!0)return!0;const B=M._readableState;return!B||B.errored?!1:typeof(B==null?void 0:B.ended)!="boolean"?null:B.ended}function d(M,B){if(!f(M))return null;const K=M._readableState;return K!=null&&K.errored?!1:typeof(K==null?void 0:K.endEmitted)!="boolean"?null:!!(K.endEmitted||B===!1&&K.ended===!0&&K.length===0)}function A(M){return M&&M[o]!=null?M[o]:typeof(M==null?void 0:M.readable)!="boolean"?null:y(M)?!1:f(M)&&M.readable&&!d(M)}function x(M){return M&&M[a]!=null?M[a]:typeof(M==null?void 0:M.writable)!="boolean"?null:y(M)?!1:c(M)&&M.writable&&!S(M)}function P(M,B){return m(M)?y(M)?!0:!((B==null?void 0:B.readable)!==!1&&A(M)||(B==null?void 0:B.writable)!==!1&&x(M)):null}function j(M){var B,K;return m(M)?M.writableErrored?M.writableErrored:(B=(K=M._writableState)===null||K===void 0?void 0:K.errored)!==null&&B!==void 0?B:null:null}function F(M){var B,K;return m(M)?M.readableErrored?M.readableErrored:(B=(K=M._readableState)===null||K===void 0?void 0:K.errored)!==null&&B!==void 0?B:null:null}function V(M){if(!m(M))return null;if(typeof M.closed=="boolean")return M.closed;const B=M._writableState,K=M._readableState;return typeof(B==null?void 0:B.closed)=="boolean"||typeof(K==null?void 0:K.closed)=="boolean"?(B==null?void 0:B.closed)||(K==null?void 0:K.closed):typeof M._closed=="boolean"&&X(M)?M._closed:null}function X(M){return typeof M._closed=="boolean"&&typeof M._defaultKeepAlive=="boolean"&&typeof M._removedConnection=="boolean"&&typeof M._removedContLen=="boolean"}function H(M){return typeof M._sent100=="boolean"&&X(M)}function Z(M){var B;return typeof M._consuming=="boolean"&&typeof M._dumped=="boolean"&&((B=M.req)===null||B===void 0?void 0:B.upgradeOrConnect)===void 0}function fe(M){if(!m(M))return null;const B=M._writableState,K=M._readableState,O=B||K;return!O&&H(M)||!!(O&&O.autoDestroy&&O.emitClose&&O.closed===!1)}function ee(M){var B;return!!(M&&((B=M[s])!==null&&B!==void 0?B:M.readableDidRead||M.readableAborted))}function ae(M){var B,K,O,N,q,ne,J,Y,oe,be;return!!(M&&((B=(K=(O=(N=(q=(ne=M[i])!==null&&ne!==void 0?ne:M.readableErrored)!==null&&q!==void 0?q:M.writableErrored)!==null&&N!==void 0?N:(J=M._readableState)===null||J===void 0?void 0:J.errorEmitted)!==null&&O!==void 0?O:(Y=M._writableState)===null||Y===void 0?void 0:Y.errorEmitted)!==null&&K!==void 0?K:(oe=M._readableState)===null||oe===void 0?void 0:oe.errored)!==null&&B!==void 0?B:!((be=M._writableState)===null||be===void 0)&&be.errored))}return ew={isDestroyed:y,kIsDestroyed:n,isDisturbed:ee,kIsDisturbed:s,isErrored:ae,kIsErrored:i,isReadable:A,kIsReadable:o,kIsClosedPromise:l,kControllerErrorFunction:u,kIsWritable:a,isClosed:V,isDuplexNodeStream:p,isFinished:P,isIterable:E,isReadableNodeStream:f,isReadableStream:g,isReadableEnded:T,isReadableFinished:d,isReadableErrored:F,isNodeStream:m,isWebStream:h,isWritable:x,isWritableNodeStream:c,isWritableStream:_,isWritableEnded:S,isWritableFinished:$,isWritableErrored:j,isServerRequest:Z,isServerResponse:H,willEmitClose:fe,isTransformStream:v},ew}function sc(){if($x)return Bp;$x=!0;const e=di,{AbortError:t,codes:r}=ko(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=r,{kEmptyObject:o,once:a}=io(),{validateAbortSignal:s,validateFunction:l,validateObject:u,validateBoolean:f}=Sg(),{Promise:c,PromisePrototypeThen:p,SymbolDispose:m}=Ln(),{isClosed:g,isReadable:_,isReadableNodeStream:v,isReadableStream:h,isReadableFinished:E,isReadableErrored:y,isWritable:S,isWritableNodeStream:$,isWritableStream:T,isWritableFinished:d,isWritableErrored:A,isNodeStream:x,willEmitClose:P,kIsClosedPromise:j}=Vl();let F;function V(ee){return ee.setHeader&&typeof ee.abort=="function"}const X=()=>{};function H(ee,ae,M){var B,K;if(arguments.length===2?(M=ae,ae=o):ae==null?ae=o:u(ae,"options"),l(M,"callback"),s(ae.signal,"options.signal"),M=a(M),h(ee)||T(ee))return Z(ee,ae,M);if(!x(ee))throw new n("stream",["ReadableStream","WritableStream","Stream"],ee);const O=(B=ae.readable)!==null&&B!==void 0?B:v(ee),N=(K=ae.writable)!==null&&K!==void 0?K:$(ee),q=ee._writableState,ne=ee._readableState,J=()=>{ee.writable||be()};let Y=P(ee)&&v(ee)===O&&$(ee)===N,oe=d(ee,!1);const be=()=>{oe=!0,ee.destroyed&&(Y=!1),!(Y&&(!ee.readable||O))&&(!O||Oe)&&M.call(ee)};let Oe=E(ee,!1);const R=()=>{Oe=!0,ee.destroyed&&(Y=!1),!(Y&&(!ee.writable||N))&&(!N||oe)&&M.call(ee)},C=ve=>{M.call(ee,ve)};let D=g(ee);const G=()=>{D=!0;const ve=A(ee)||y(ee);if(ve&&typeof ve!="boolean")return M.call(ee,ve);if(O&&!Oe&&v(ee,!0)&&!E(ee,!1))return M.call(ee,new i);if(N&&!oe&&!d(ee,!1))return M.call(ee,new i);M.call(ee)},ie=()=>{D=!0;const ve=A(ee)||y(ee);if(ve&&typeof ve!="boolean")return M.call(ee,ve);M.call(ee)},ue=()=>{ee.req.on("finish",be)};V(ee)?(ee.on("complete",be),Y||ee.on("abort",G),ee.req?ue():ee.on("request",ue)):N&&!q&&(ee.on("end",J),ee.on("close",J)),!Y&&typeof ee.aborted=="boolean"&&ee.on("aborted",G),ee.on("end",R),ee.on("finish",be),ae.error!==!1&&ee.on("error",C),ee.on("close",G),D?e.nextTick(G):q!=null&&q.errorEmitted||ne!=null&&ne.errorEmitted?Y||e.nextTick(ie):(!O&&(!Y||_(ee))&&(oe||S(ee)===!1)||!N&&(!Y||S(ee))&&(Oe||_(ee)===!1)||ne&&ee.req&&ee.aborted)&&e.nextTick(ie);const de=()=>{M=X,ee.removeListener("aborted",G),ee.removeListener("complete",be),ee.removeListener("abort",G),ee.removeListener("request",ue),ee.req&&ee.req.removeListener("finish",be),ee.removeListener("end",J),ee.removeListener("close",J),ee.removeListener("finish",be),ee.removeListener("end",R),ee.removeListener("error",C),ee.removeListener("close",G)};if(ae.signal&&!D){const ve=()=>{const Ne=M;de(),Ne.call(ee,new t(void 0,{cause:ae.signal.reason}))};if(ae.signal.aborted)e.nextTick(ve);else{F=F||io().addAbortListener;const Ne=F(ae.signal,ve),Be=M;M=a((...je)=>{Ne[m](),Be.apply(ee,je)})}}return de}function Z(ee,ae,M){let B=!1,K=X;if(ae.signal)if(K=()=>{B=!0,M.call(ee,new t(void 0,{cause:ae.signal.reason}))},ae.signal.aborted)e.nextTick(K);else{F=F||io().addAbortListener;const N=F(ae.signal,K),q=M;M=a((...ne)=>{N[m](),q.apply(ee,ne)})}const O=(...N)=>{B||e.nextTick(()=>M.apply(ee,N))};return p(ee[j].promise,O,O),X}function fe(ee,ae){var M;let B=!1;return ae===null&&(ae=o),(M=ae)!==null&&M!==void 0&&M.cleanup&&(f(ae.cleanup,"cleanup"),B=ae.cleanup),new c((K,O)=>{const N=H(ee,ae,q=>{B&&N(),q?O(q):K()})})}return Bp=H,Bp.finished=fe,Bp}function Uh(){if(Tx)return tw;Tx=!0;const e=di,{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=ko(),{Symbol:i}=Ln(),{kIsDestroyed:o,isDestroyed:a,isFinished:s,isServerRequest:l}=Vl(),u=i("kDestroy"),f=i("kConstruct");function c(P,j,F){P&&(P.stack,j&&!j.errored&&(j.errored=P),F&&!F.errored&&(F.errored=P))}function p(P,j){const F=this._readableState,V=this._writableState,X=V||F;return V!=null&&V.destroyed||F!=null&&F.destroyed?(typeof j=="function"&&j(),this):(c(P,V,F),V&&(V.destroyed=!0),F&&(F.destroyed=!0),X.constructed?m(this,P,j):this.once(u,function(H){m(this,t(H,P),j)}),this)}function m(P,j,F){let V=!1;function X(H){if(V)return;V=!0;const Z=P._readableState,fe=P._writableState;c(H,fe,Z),fe&&(fe.closed=!0),Z&&(Z.closed=!0),typeof F=="function"&&F(H),H?e.nextTick(g,P,H):e.nextTick(_,P)}try{P._destroy(j||null,X)}catch(H){X(H)}}function g(P,j){v(P,j),_(P)}function _(P){const j=P._readableState,F=P._writableState;F&&(F.closeEmitted=!0),j&&(j.closeEmitted=!0),(F!=null&&F.emitClose||j!=null&&j.emitClose)&&P.emit("close")}function v(P,j){const F=P._readableState,V=P._writableState;V!=null&&V.errorEmitted||F!=null&&F.errorEmitted||(V&&(V.errorEmitted=!0),F&&(F.errorEmitted=!0),P.emit("error",j))}function h(){const P=this._readableState,j=this._writableState;P&&(P.constructed=!0,P.closed=!1,P.closeEmitted=!1,P.destroyed=!1,P.errored=null,P.errorEmitted=!1,P.reading=!1,P.ended=P.readable===!1,P.endEmitted=P.readable===!1),j&&(j.constructed=!0,j.destroyed=!1,j.closed=!1,j.closeEmitted=!1,j.errored=null,j.errorEmitted=!1,j.finalCalled=!1,j.prefinished=!1,j.ended=j.writable===!1,j.ending=j.writable===!1,j.finished=j.writable===!1)}function E(P,j,F){const V=P._readableState,X=P._writableState;if(X!=null&&X.destroyed||V!=null&&V.destroyed)return this;V!=null&&V.autoDestroy||X!=null&&X.autoDestroy?P.destroy(j):j&&(j.stack,X&&!X.errored&&(X.errored=j),V&&!V.errored&&(V.errored=j),F?e.nextTick(v,P,j):v(P,j))}function y(P,j){if(typeof P._construct!="function")return;const F=P._readableState,V=P._writableState;F&&(F.constructed=!1),V&&(V.constructed=!1),P.once(f,j),!(P.listenerCount(f)>1)&&e.nextTick(S,P)}function S(P){let j=!1;function F(V){if(j){E(P,V??new r);return}j=!0;const X=P._readableState,H=P._writableState,Z=H||X;X&&(X.constructed=!0),H&&(H.constructed=!0),Z.destroyed?P.emit(u,V):V?E(P,V,!0):e.nextTick($,P)}try{P._construct(V=>{e.nextTick(F,V)})}catch(V){e.nextTick(F,V)}}function $(P){P.emit(f)}function T(P){return(P==null?void 0:P.setHeader)&&typeof P.abort=="function"}function d(P){P.emit("close")}function A(P,j){P.emit("error",j),e.nextTick(d,P)}function x(P,j){!P||a(P)||(!j&&!s(P)&&(j=new n),l(P)?(P.socket=null,P.destroy(j)):T(P)?P.abort():T(P.req)?P.req.abort():typeof P.destroy=="function"?P.destroy(j):typeof P.close=="function"?P.close():j?e.nextTick(A,P,j):e.nextTick(d,P),P.destroyed||(P[o]=!0))}return tw={construct:y,destroyer:x,destroy:p,undestroy:h,errorOrDestroy:E},tw}function qR(){if(Ax)return rw;Ax=!0;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Ln(),{EventEmitter:r}=Ls;function n(o){r.call(this,o)}t(n.prototype,r.prototype),t(n,r),n.prototype.pipe=function(o,a){const s=this;function l(_){o.writable&&o.write(_)===!1&&s.pause&&s.pause()}s.on("data",l);function u(){s.readable&&s.resume&&s.resume()}o.on("drain",u),!o._isStdio&&(!a||a.end!==!1)&&(s.on("end",c),s.on("close",p));let f=!1;function c(){f||(f=!0,o.end())}function p(){f||(f=!0,typeof o.destroy=="function"&&o.destroy())}function m(_){g(),r.listenerCount(this,"error")===0&&this.emit("error",_)}i(s,"error",m),i(o,"error",m);function g(){s.removeListener("data",l),o.removeListener("drain",u),s.removeListener("end",c),s.removeListener("close",p),s.removeListener("error",m),o.removeListener("error",m),s.removeListener("end",g),s.removeListener("close",g),o.removeListener("close",g)}return s.on("end",g),s.on("close",g),o.on("close",g),o.emit("pipe",s),o};function i(o,a,s){if(typeof o.prependListener=="function")return o.prependListener(a,s);!o._events||!o._events[a]?o.on(a,s):e(o._events[a])?o._events[a].unshift(s):o._events[a]=[s,o._events[a]]}return rw={Stream:n,prependListener:i},rw}function Q_(){if(xx)return Pd;xx=!0;const{SymbolDispose:e}=Ln(),{AbortError:t,codes:r}=ko(),{isNodeStream:n,isWebStream:i,kControllerErrorFunction:o}=Vl(),a=sc(),{ERR_INVALID_ARG_TYPE:s}=r;let l;const u=(f,c)=>{if(typeof f!="object"||!("aborted"in f))throw new s(c,"AbortSignal",f)};return Pd.addAbortSignal=function(c,p){if(u(c,"signal"),!n(p)&&!i(p))throw new s("stream",["ReadableStream","WritableStream","Stream"],p);return Pd.addAbortSignalNoValidate(c,p)},Pd.addAbortSignalNoValidate=function(f,c){if(typeof f!="object"||!("aborted"in f))return c;const p=n(c)?()=>{c.destroy(new t(void 0,{cause:f.reason}))}:()=>{c[o](new t(void 0,{cause:f.reason}))};if(f.aborted)p();else{l=l||io().addAbortListener;const m=l(f,p);a(c,m[e])}return c},Pd}function zee(){if(Px)return nw;Px=!0;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:r,Uint8Array:n}=Ln(),{Buffer:i}=Io(),{inspect:o}=io();return nw=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const l={data:s,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(s){const l={data:s,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let l=this.head,u=""+l.data;for(;(l=l.next)!==null;)u+=s+l.data;return u}concat(s){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(s>>>0);let u=this.head,f=0;for(;u;)r(l,u.data,f),f+=u.data.length,u=u.next;return l}consume(s,l){const u=this.head.data;if(s<u.length){const f=u.slice(0,s);return this.head.data=u.slice(s),f}return s===u.length?this.shift():l?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[t](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let l="",u=this.head,f=0;do{const c=u.data;if(s>c.length)l+=c,s-=c.length;else{s===c.length?(l+=c,++f,u.next?this.head=u.next:this.head=this.tail=null):(l+=e(c,0,s),this.head=u,u.data=e(c,s));break}++f}while((u=u.next)!==null);return this.length-=f,l}_getBuffer(s){const l=i.allocUnsafe(s),u=s;let f=this.head,c=0;do{const p=f.data;if(s>p.length)r(l,p,u-s),s-=p.length;else{s===p.length?(r(l,p,u-s),++c,f.next?this.head=f.next:this.head=this.tail=null):(r(l,new n(p.buffer,p.byteOffset,s),u-s),this.head=f,f.data=p.slice(s));break}++c}while((f=f.next)!==null);return this.length-=c,l}[Symbol.for("nodejs.util.inspect.custom")](s,l){return o(this,{...l,depth:0,customInspect:!1})}},nw}function Z_(){if(Ox)return iw;Ox=!0;const{MathFloor:e,NumberIsInteger:t}=Ln(),{validateInteger:r}=Sg(),{ERR_INVALID_ARG_VALUE:n}=ko().codes;let i=16*1024,o=16;function a(f,c,p){return f.highWaterMark!=null?f.highWaterMark:c?f[p]:null}function s(f){return f?o:i}function l(f,c){r(c,"value",0),f?o=c:i=c}function u(f,c,p,m){const g=a(c,m,p);if(g!=null){if(!t(g)||g<0){const _=m?`options.${p}`:"options.highWaterMark";throw new n(_,g)}return e(g)}return s(f.objectMode)}return iw={getHighWaterMark:u,getDefaultHighWaterMark:s,setDefaultHighWaterMark:l},iw}function N6(){if(Rx)return ow;Rx=!0;const e=di,{PromisePrototypeThen:t,SymbolAsyncIterator:r,SymbolIterator:n}=Ln(),{Buffer:i}=Io(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:a}=ko().codes;function s(l,u,f){let c;if(typeof u=="string"||u instanceof i)return new l({objectMode:!0,...f,read(){this.push(u),this.push(null)}});let p;if(u&&u[r])p=!0,c=u[r]();else if(u&&u[n])p=!1,c=u[n]();else throw new o("iterable",["Iterable"],u);const m=new l({objectMode:!0,highWaterMark:1,...f});let g=!1;m._read=function(){g||(g=!0,v())},m._destroy=function(h,E){t(_(h),()=>e.nextTick(E,h),y=>e.nextTick(E,y||h))};async function _(h){const E=h!=null,y=typeof c.throw=="function";if(E&&y){const{value:S,done:$}=await c.throw(h);if(await S,$)return}if(typeof c.return=="function"){const{value:S}=await c.return();await S}}async function v(){for(;;){try{const{value:h,done:E}=p?await c.next():c.next();if(E)m.push(null);else{const y=h&&typeof h.then=="function"?await h:h;if(y===null)throw g=!1,new a;if(m.push(y))continue;g=!1}}catch(h){m.destroy(h)}break}}return m}return ow=s,ow}function eE(){if(Ix)return aw;Ix=!0;const e=di,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:a,ObjectSetPrototypeOf:s,Promise:l,SafeSet:u,SymbolAsyncDispose:f,SymbolAsyncIterator:c,Symbol:p}=Ln();aw=je,je.ReadableState=Be;const{EventEmitter:m}=Ls,{Stream:g,prependListener:_}=qR(),{Buffer:v}=Io(),{addAbortSignal:h}=Q_(),E=sc();let y=io().debuglog("stream",Se=>{y=Se});const S=zee(),$=Uh(),{getHighWaterMark:T,getDefaultHighWaterMark:d}=Z_(),{aggregateTwoErrors:A,codes:{ERR_INVALID_ARG_TYPE:x,ERR_METHOD_NOT_IMPLEMENTED:P,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:F,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:V},AbortError:X}=ko(),{validateObject:H}=Sg(),Z=p("kPaused"),{StringDecoder:fe}=ih,ee=N6();s(je.prototype,g.prototype),s(je,g);const ae=()=>{},{errorOrDestroy:M}=$,B=1,K=2,O=4,N=8,q=16,ne=32,J=64,Y=128,oe=256,be=512,Oe=1024,R=2048,C=4096,D=8192,G=16384,ie=32768,ue=65536,de=1<<17,ve=1<<18;function Ne(Se){return{enumerable:!1,get(){return((this||ut).state&Se)!==0},set(Ie){Ie?(this||ut).state|=Se:(this||ut).state&=~Se}}}o(Be.prototype,{objectMode:Ne(B),ended:Ne(K),endEmitted:Ne(O),reading:Ne(N),constructed:Ne(q),sync:Ne(ne),needReadable:Ne(J),emittedReadable:Ne(Y),readableListening:Ne(oe),resumeScheduled:Ne(be),errorEmitted:Ne(Oe),emitClose:Ne(R),autoDestroy:Ne(C),destroyed:Ne(D),closed:Ne(G),closeEmitted:Ne(ie),multiAwaitDrain:Ne(ue),readingMore:Ne(de),dataEmitted:Ne(ve)});function Be(Se,Ie,dt){typeof dt!="boolean"&&(dt=Ie instanceof Ml()),(this||ut).state=R|C|q|ne,Se&&Se.objectMode&&((this||ut).state|=B),dt&&Se&&Se.readableObjectMode&&((this||ut).state|=B),(this||ut).highWaterMark=Se?T(this||ut,Se,"readableHighWaterMark",dt):d(!1),(this||ut).buffer=new S,(this||ut).length=0,(this||ut).pipes=[],(this||ut).flowing=null,(this||ut)[Z]=null,Se&&Se.emitClose===!1&&((this||ut).state&=-2049),Se&&Se.autoDestroy===!1&&((this||ut).state&=-4097),(this||ut).errored=null,(this||ut).defaultEncoding=Se&&Se.defaultEncoding||"utf8",(this||ut).awaitDrainWriters=null,(this||ut).decoder=null,(this||ut).encoding=null,Se&&Se.encoding&&((this||ut).decoder=new fe(Se.encoding),(this||ut).encoding=Se.encoding)}function je(Se){if(!((this||ut)instanceof je))return new je(Se);const Ie=(this||ut)instanceof Ml();(this||ut)._readableState=new Be(Se,this||ut,Ie),Se&&(typeof Se.read=="function"&&((this||ut)._read=Se.read),typeof Se.destroy=="function"&&((this||ut)._destroy=Se.destroy),typeof Se.construct=="function"&&((this||ut)._construct=Se.construct),Se.signal&&!Ie&&h(Se.signal,this||ut)),g.call(this||ut,Se),$.construct(this||ut,()=>{(this||ut)._readableState.needReadable&&Ee(this||ut,(this||ut)._readableState)})}je.prototype.destroy=$.destroy,je.prototype._undestroy=$.undestroy,je.prototype._destroy=function(Se,Ie){Ie(Se)},je.prototype[m.captureRejectionSymbol]=function(Se){this.destroy(Se)},je.prototype[f]=function(){let Se;return(this||ut).destroyed||(Se=(this||ut).readableEnded?null:new X,this.destroy(Se)),new l((Ie,dt)=>E(this||ut,Ye=>Ye&&Ye!==Se?dt(Ye):Ie(null)))},je.prototype.push=function(Se,Ie){return nt(this||ut,Se,Ie,!1)},je.prototype.unshift=function(Se,Ie){return nt(this||ut,Se,Ie,!0)};function nt(Se,Ie,dt,Ye){y("readableAddChunk",Ie);const it=Se._readableState;let Ot;if(it.state&B||(typeof Ie=="string"?(dt=dt||it.defaultEncoding,it.encoding!==dt&&(Ye&&it.encoding?Ie=v.from(Ie,dt).toString(it.encoding):(Ie=v.from(Ie,dt),dt=""))):Ie instanceof v?dt="":g._isUint8Array(Ie)?(Ie=g._uint8ArrayToBuffer(Ie),dt=""):Ie!=null&&(Ot=new x("chunk",["string","Buffer","Uint8Array"],Ie))),Ot)M(Se,Ot);else if(Ie===null)it.state&=-9,L(Se,it);else if(it.state&B||Ie&&Ie.length>0)if(Ye)if(it.state&O)M(Se,new V);else{if(it.destroyed||it.errored)return!1;We(Se,it,Ie,!0)}else if(it.ended)M(Se,new F);else{if(it.destroyed||it.errored)return!1;it.state&=-9,it.decoder&&!dt?(Ie=it.decoder.write(Ie),it.objectMode||Ie.length!==0?We(Se,it,Ie,!1):Ee(Se,it)):We(Se,it,Ie,!1)}else Ye||(it.state&=-9,Ee(Se,it));return!it.ended&&(it.length<it.highWaterMark||it.length===0)}function We(Se,Ie,dt,Ye){Ie.flowing&&Ie.length===0&&!Ie.sync&&Se.listenerCount("data")>0?(Ie.state&ue?Ie.awaitDrainWriters.clear():Ie.awaitDrainWriters=null,Ie.dataEmitted=!0,Se.emit("data",dt)):(Ie.length+=Ie.objectMode?1:dt.length,Ye?Ie.buffer.unshift(dt):Ie.buffer.push(dt),Ie.state&J&&re(Se)),Ee(Se,Ie)}je.prototype.isPaused=function(){const Se=(this||ut)._readableState;return Se[Z]===!0||Se.flowing===!1},je.prototype.setEncoding=function(Se){const Ie=new fe(Se);(this||ut)._readableState.decoder=Ie,(this||ut)._readableState.encoding=(this||ut)._readableState.decoder.encoding;const dt=(this||ut)._readableState.buffer;let Ye="";for(const it of dt)Ye+=Ie.write(it);return dt.clear(),Ye!==""&&dt.push(Ye),(this||ut)._readableState.length=Ye.length,this||ut};const Ue=1073741824;function W(Se){if(Se>Ue)throw new j("size","<= 1GiB",Se);return Se--,Se|=Se>>>1,Se|=Se>>>2,Se|=Se>>>4,Se|=Se>>>8,Se|=Se>>>16,Se++,Se}function I(Se,Ie){return Se<=0||Ie.length===0&&Ie.ended?0:Ie.state&B?1:n(Se)?Ie.flowing&&Ie.length?Ie.buffer.first().length:Ie.length:Se<=Ie.length?Se:Ie.ended?Ie.length:0}je.prototype.read=function(Se){y("read",Se),Se===void 0?Se=NaN:r(Se)||(Se=i(Se,10));const Ie=(this||ut)._readableState,dt=Se;if(Se>Ie.highWaterMark&&(Ie.highWaterMark=W(Se)),Se!==0&&(Ie.state&=-129),Se===0&&Ie.needReadable&&((Ie.highWaterMark!==0?Ie.length>=Ie.highWaterMark:Ie.length>0)||Ie.ended))return y("read: emitReadable",Ie.length,Ie.ended),Ie.length===0&&Ie.ended?mr(this||ut):re(this||ut),null;if(Se=I(Se,Ie),Se===0&&Ie.ended)return Ie.length===0&&mr(this||ut),null;let Ye=(Ie.state&J)!==0;if(y("need readable",Ye),(Ie.length===0||Ie.length-Se<Ie.highWaterMark)&&(Ye=!0,y("length less than watermark",Ye)),Ie.ended||Ie.reading||Ie.destroyed||Ie.errored||!Ie.constructed)Ye=!1,y("reading, ended or constructing",Ye);else if(Ye){y("do read"),Ie.state|=N|ne,Ie.length===0&&(Ie.state|=J);try{this._read(Ie.highWaterMark)}catch(Ot){M(this||ut,Ot)}Ie.state&=-33,Ie.reading||(Se=I(dt,Ie))}let it;return Se>0?it=ir(Se,Ie):it=null,it===null?(Ie.needReadable=Ie.length<=Ie.highWaterMark,Se=0):(Ie.length-=Se,Ie.multiAwaitDrain?Ie.awaitDrainWriters.clear():Ie.awaitDrainWriters=null),Ie.length===0&&(Ie.ended||(Ie.needReadable=!0),dt!==Se&&Ie.ended&&mr(this||ut)),it!==null&&!Ie.errorEmitted&&!Ie.closeEmitted&&(Ie.dataEmitted=!0,this.emit("data",it)),it};function L(Se,Ie){if(y("onEofChunk"),!Ie.ended){if(Ie.decoder){const dt=Ie.decoder.end();dt&&dt.length&&(Ie.buffer.push(dt),Ie.length+=Ie.objectMode?1:dt.length)}Ie.ended=!0,Ie.sync?re(Se):(Ie.needReadable=!1,Ie.emittedReadable=!0,ye(Se))}}function re(Se){const Ie=Se._readableState;y("emitReadable",Ie.needReadable,Ie.emittedReadable),Ie.needReadable=!1,Ie.emittedReadable||(y("emitReadable",Ie.flowing),Ie.emittedReadable=!0,e.nextTick(ye,Se))}function ye(Se){const Ie=Se._readableState;y("emitReadable_",Ie.destroyed,Ie.length,Ie.ended),!Ie.destroyed&&!Ie.errored&&(Ie.length||Ie.ended)&&(Se.emit("readable"),Ie.emittedReadable=!1),Ie.needReadable=!Ie.flowing&&!Ie.ended&&Ie.length<=Ie.highWaterMark,Ct(Se)}function Ee(Se,Ie){!Ie.readingMore&&Ie.constructed&&(Ie.readingMore=!0,e.nextTick(Ce,Se,Ie))}function Ce(Se,Ie){for(;!Ie.reading&&!Ie.ended&&(Ie.length<Ie.highWaterMark||Ie.flowing&&Ie.length===0);){const dt=Ie.length;if(y("maybeReadMore read 0"),Se.read(0),dt===Ie.length)break}Ie.readingMore=!1}je.prototype._read=function(Se){throw new P("_read()")},je.prototype.pipe=function(Se,Ie){const dt=this||ut,Ye=(this||ut)._readableState;Ye.pipes.length===1&&(Ye.multiAwaitDrain||(Ye.multiAwaitDrain=!0,Ye.awaitDrainWriters=new u(Ye.awaitDrainWriters?[Ye.awaitDrainWriters]:[]))),Ye.pipes.push(Se),y("pipe count=%d opts=%j",Ye.pipes.length,Ie);const Ot=(!Ie||Ie.end!==!1)&&Se!==e.stdout&&Se!==e.stderr?he:jt;Ye.endEmitted?e.nextTick(Ot):dt.once("end",Ot),Se.on("unpipe",qt);function qt($t,Rt){y("onunpipe"),$t===dt&&Rt&&Rt.hasUnpiped===!1&&(Rt.hasUnpiped=!0,xe())}function he(){y("onend"),Se.end()}let le,we=!1;function xe(){y("cleanup"),Se.removeListener("close",xt),Se.removeListener("finish",Nt),le&&Se.removeListener("drain",le),Se.removeListener("error",ot),Se.removeListener("unpipe",qt),dt.removeListener("end",he),dt.removeListener("end",jt),dt.removeListener("data",et),we=!0,le&&Ye.awaitDrainWriters&&(!Se._writableState||Se._writableState.needDrain)&&le()}function Ae(){we||(Ye.pipes.length===1&&Ye.pipes[0]===Se?(y("false write response, pause",0),Ye.awaitDrainWriters=Se,Ye.multiAwaitDrain=!1):Ye.pipes.length>1&&Ye.pipes.includes(Se)&&(y("false write response, pause",Ye.awaitDrainWriters.size),Ye.awaitDrainWriters.add(Se)),dt.pause()),le||(le=Re(dt,Se),Se.on("drain",le))}dt.on("data",et);function et($t){y("ondata");const Rt=Se.write($t);y("dest.write",Rt),Rt===!1&&Ae()}function ot($t){if(y("onerror",$t),jt(),Se.removeListener("error",ot),Se.listenerCount("error")===0){const Rt=Se._writableState||Se._readableState;Rt&&!Rt.errorEmitted?M(Se,$t):Se.emit("error",$t)}}_(Se,"error",ot);function xt(){Se.removeListener("finish",Nt),jt()}Se.once("close",xt);function Nt(){y("onfinish"),Se.removeListener("close",xt),jt()}Se.once("finish",Nt);function jt(){y("unpipe"),dt.unpipe(Se)}return Se.emit("pipe",dt),Se.writableNeedDrain===!0?Ae():Ye.flowing||(y("pipe resume"),dt.resume()),Se};function Re(Se,Ie){return function(){const Ye=Se._readableState;Ye.awaitDrainWriters===Ie?(y("pipeOnDrain",1),Ye.awaitDrainWriters=null):Ye.multiAwaitDrain&&(y("pipeOnDrain",Ye.awaitDrainWriters.size),Ye.awaitDrainWriters.delete(Ie)),(!Ye.awaitDrainWriters||Ye.awaitDrainWriters.size===0)&&Se.listenerCount("data")&&Se.resume()}}je.prototype.unpipe=function(Se){const Ie=(this||ut)._readableState,dt={hasUnpiped:!1};if(Ie.pipes.length===0)return this||ut;if(!Se){const it=Ie.pipes;Ie.pipes=[],this.pause();for(let Ot=0;Ot<it.length;Ot++)it[Ot].emit("unpipe",this||ut,{hasUnpiped:!1});return this||ut}const Ye=t(Ie.pipes,Se);return Ye===-1?this||ut:(Ie.pipes.splice(Ye,1),Ie.pipes.length===0&&this.pause(),Se.emit("unpipe",this||ut,dt),this||ut)},je.prototype.on=function(Se,Ie){const dt=g.prototype.on.call(this||ut,Se,Ie),Ye=(this||ut)._readableState;return Se==="data"?(Ye.readableListening=this.listenerCount("readable")>0,Ye.flowing!==!1&&this.resume()):Se==="readable"&&!Ye.endEmitted&&!Ye.readableListening&&(Ye.readableListening=Ye.needReadable=!0,Ye.flowing=!1,Ye.emittedReadable=!1,y("on readable",Ye.length,Ye.reading),Ye.length?re(this||ut):Ye.reading||e.nextTick(ft,this||ut)),dt},je.prototype.addListener=je.prototype.on,je.prototype.removeListener=function(Se,Ie){const dt=g.prototype.removeListener.call(this||ut,Se,Ie);return Se==="readable"&&e.nextTick(Le,this||ut),dt},je.prototype.off=je.prototype.removeListener,je.prototype.removeAllListeners=function(Se){const Ie=g.prototype.removeAllListeners.apply(this||ut,arguments);return(Se==="readable"||Se===void 0)&&e.nextTick(Le,this||ut),Ie};function Le(Se){const Ie=Se._readableState;Ie.readableListening=Se.listenerCount("readable")>0,Ie.resumeScheduled&&Ie[Z]===!1?Ie.flowing=!0:Se.listenerCount("data")>0?Se.resume():Ie.readableListening||(Ie.flowing=null)}function ft(Se){y("readable nexttick read 0"),Se.read(0)}je.prototype.resume=function(){const Se=(this||ut)._readableState;return Se.flowing||(y("resume"),Se.flowing=!Se.readableListening,yt(this||ut,Se)),Se[Z]=!1,this||ut};function yt(Se,Ie){Ie.resumeScheduled||(Ie.resumeScheduled=!0,e.nextTick(st,Se,Ie))}function st(Se,Ie){y("resume",Ie.reading),Ie.reading||Se.read(0),Ie.resumeScheduled=!1,Se.emit("resume"),Ct(Se),Ie.flowing&&!Ie.reading&&Se.read(0)}je.prototype.pause=function(){return y("call pause flowing=%j",(this||ut)._readableState.flowing),(this||ut)._readableState.flowing!==!1&&(y("pause"),(this||ut)._readableState.flowing=!1,this.emit("pause")),(this||ut)._readableState[Z]=!0,this||ut};function Ct(Se){const Ie=Se._readableState;for(y("flow",Ie.flowing);Ie.flowing&&Se.read()!==null;);}je.prototype.wrap=function(Se){let Ie=!1;Se.on("data",Ye=>{!this.push(Ye)&&Se.pause&&(Ie=!0,Se.pause())}),Se.on("end",()=>{this.push(null)}),Se.on("error",Ye=>{M(this||ut,Ye)}),Se.on("close",()=>{this.destroy()}),Se.on("destroy",()=>{this.destroy()}),(this||ut)._read=()=>{Ie&&Se.resume&&(Ie=!1,Se.resume())};const dt=a(Se);for(let Ye=1;Ye<dt.length;Ye++){const it=dt[Ye];(this||ut)[it]===void 0&&typeof Se[it]=="function"&&((this||ut)[it]=Se[it].bind(Se))}return this||ut},je.prototype[c]=function(){return Er(this||ut)},je.prototype.iterator=function(Se){return Se!==void 0&&H(Se,"options"),Er(this||ut,Se)};function Er(Se,Ie){typeof Se.read!="function"&&(Se=je.wrap(Se,{objectMode:!0}));const dt=Or(Se,Ie);return dt.stream=Se,dt}async function*Or(Se,Ie){let dt=ae;function Ye(qt){(this||ut)===Se?(dt(),dt=ae):dt=qt}Se.on("readable",Ye);let it;const Ot=E(Se,{writable:!1},qt=>{it=qt?A(it,qt):null,dt(),dt=ae});try{for(;;){const qt=Se.destroyed?null:Se.read();if(qt!==null)yield qt;else{if(it)throw it;if(it===null)return;await new l(Ye)}}}catch(qt){throw it=A(it,qt),it}finally{(it||(Ie==null?void 0:Ie.destroyOnReturn)!==!1)&&(it===void 0||Se._readableState.autoDestroy)?$.destroyer(Se,null):(Se.off("readable",Ye),Ot())}}o(je.prototype,{readable:{__proto__:null,get(){const Se=(this||ut)._readableState;return!!Se&&Se.readable!==!1&&!Se.destroyed&&!Se.errorEmitted&&!Se.endEmitted},set(Se){(this||ut)._readableState&&((this||ut)._readableState.readable=!!Se)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return(this||ut)._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||ut)._readableState.readable!==!1&&((this||ut)._readableState.destroyed||(this||ut)._readableState.errored)&&!(this||ut)._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return(this||ut)._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return(this||ut)._readableState&&(this||ut)._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return(this||ut)._readableState.flowing},set:function(Se){(this||ut)._readableState&&((this||ut)._readableState.flowing=Se)}},readableLength:{__proto__:null,enumerable:!1,get(){return(this||ut)._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return(this||ut)._readableState?(this||ut)._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return(this||ut)._readableState?(this||ut)._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return(this||ut)._readableState?(this||ut)._readableState.errored:null}},closed:{__proto__:null,get(){return(this||ut)._readableState?(this||ut)._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return(this||ut)._readableState?(this||ut)._readableState.destroyed:!1},set(Se){(this||ut)._readableState&&((this||ut)._readableState.destroyed=Se)}},readableEnded:{__proto__:null,enumerable:!1,get(){return(this||ut)._readableState?(this||ut)._readableState.endEmitted:!1}}}),o(Be.prototype,{pipesCount:{__proto__:null,get(){return(this||ut).pipes.length}},paused:{__proto__:null,get(){return(this||ut)[Z]!==!1},set(Se){(this||ut)[Z]=!!Se}}}),je._fromList=ir;function ir(Se,Ie){if(Ie.length===0)return null;let dt;return Ie.objectMode?dt=Ie.buffer.shift():!Se||Se>=Ie.length?(Ie.decoder?dt=Ie.buffer.join(""):Ie.buffer.length===1?dt=Ie.buffer.first():dt=Ie.buffer.concat(Ie.length),Ie.buffer.clear()):dt=Ie.buffer.consume(Se,Ie.decoder),dt}function mr(Se){const Ie=Se._readableState;y("endReadable",Ie.endEmitted),Ie.endEmitted||(Ie.ended=!0,e.nextTick(cn,Ie,Se))}function cn(Se,Ie){if(y("endReadableNT",Se.endEmitted,Se.length),!Se.errored&&!Se.closeEmitted&&!Se.endEmitted&&Se.length===0){if(Se.endEmitted=!0,Ie.emit("end"),Ie.writable&&Ie.allowHalfOpen===!1)e.nextTick(Vt,Ie);else if(Se.autoDestroy){const dt=Ie._writableState;(!dt||dt.autoDestroy&&(dt.finished||dt.writable===!1))&&Ie.destroy()}}}function Vt(Se){Se.writable&&!Se.writableEnded&&!Se.destroyed&&Se.end()}je.from=function(Se,Ie){return ee(je,Se,Ie)};let zt;function At(){return zt===void 0&&(zt={}),zt}return je.fromWeb=function(Se,Ie){return At().newStreamReadableFromReadableStream(Se,Ie)},je.toWeb=function(Se,Ie){return At().newReadableStreamFromStreamReadable(Se,Ie)},je.wrap=function(Se,Ie){var dt,Ye;return new je({objectMode:(dt=(Ye=Se.readableObjectMode)!==null&&Ye!==void 0?Ye:Se.objectMode)!==null&&dt!==void 0?dt:!0,...Ie,destroy(it,Ot){$.destroyer(Se,it),Ot(it)}}).wrap(Se)},aw}function VR(){if(Nx)return sw;Nx=!0;const e=di,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:s,Symbol:l,SymbolHasInstance:u}=Ln();sw=H,H.WritableState=V;const{EventEmitter:f}=Ls,c=qR().Stream,{Buffer:p}=Io(),m=Uh(),{addAbortSignal:g}=Q_(),{getHighWaterMark:_,getDefaultHighWaterMark:v}=Z_(),{ERR_INVALID_ARG_TYPE:h,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:y,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:d,ERR_STREAM_WRITE_AFTER_END:A,ERR_UNKNOWN_ENCODING:x}=ko().codes,{errorOrDestroy:P}=m;a(H.prototype,c.prototype),a(H,c);function j(){}const F=l("kOnFinished");function V(C,D,G){typeof G!="boolean"&&(G=D instanceof Ml()),(this||Et).objectMode=!!(C&&C.objectMode),G&&((this||Et).objectMode=(this||Et).objectMode||!!(C&&C.writableObjectMode)),(this||Et).highWaterMark=C?_(this||Et,C,"writableHighWaterMark",G):v(!1),(this||Et).finalCalled=!1,(this||Et).needDrain=!1,(this||Et).ending=!1,(this||Et).ended=!1,(this||Et).finished=!1,(this||Et).destroyed=!1;const ie=!!(C&&C.decodeStrings===!1);(this||Et).decodeStrings=!ie,(this||Et).defaultEncoding=C&&C.defaultEncoding||"utf8",(this||Et).length=0,(this||Et).writing=!1,(this||Et).corked=0,(this||Et).sync=!0,(this||Et).bufferProcessing=!1,(this||Et).onwrite=M.bind(void 0,D),(this||Et).writecb=null,(this||Et).writelen=0,(this||Et).afterWriteTickInfo=null,X(this||Et),(this||Et).pendingcb=0,(this||Et).constructed=!0,(this||Et).prefinished=!1,(this||Et).errorEmitted=!1,(this||Et).emitClose=!C||C.emitClose!==!1,(this||Et).autoDestroy=!C||C.autoDestroy!==!1,(this||Et).errored=null,(this||Et).closed=!1,(this||Et).closeEmitted=!1,(this||Et)[F]=[]}function X(C){C.buffered=[],C.bufferedIndex=0,C.allBuffers=!0,C.allNoop=!0}V.prototype.getBuffer=function(){return t((this||Et).buffered,(this||Et).bufferedIndex)},i(V.prototype,"bufferedRequestCount",{__proto__:null,get(){return(this||Et).buffered.length-(this||Et).bufferedIndex}});function H(C){const D=(this||Et)instanceof Ml();if(!D&&!n(H,this||Et))return new H(C);(this||Et)._writableState=new V(C,this||Et,D),C&&(typeof C.write=="function"&&((this||Et)._write=C.write),typeof C.writev=="function"&&((this||Et)._writev=C.writev),typeof C.destroy=="function"&&((this||Et)._destroy=C.destroy),typeof C.final=="function"&&((this||Et)._final=C.final),typeof C.construct=="function"&&((this||Et)._construct=C.construct),C.signal&&g(C.signal,this||Et)),c.call(this||Et,C),m.construct(this||Et,()=>{const G=(this||Et)._writableState;G.writing||N(this||Et,G),Y(this||Et,G)})}i(H,u,{__proto__:null,value:function(C){return n(this||Et,C)?!0:(this||Et)!==H?!1:C&&C._writableState instanceof V}}),H.prototype.pipe=function(){P(this||Et,new S)};function Z(C,D,G,ie){const ue=C._writableState;if(typeof G=="function")ie=G,G=ue.defaultEncoding;else{if(!G)G=ue.defaultEncoding;else if(G!=="buffer"&&!p.isEncoding(G))throw new x(G);typeof ie!="function"&&(ie=j)}if(D===null)throw new d;if(!ue.objectMode)if(typeof D=="string")ue.decodeStrings!==!1&&(D=p.from(D,G),G="buffer");else if(D instanceof p)G="buffer";else if(c._isUint8Array(D))D=c._uint8ArrayToBuffer(D),G="buffer";else throw new h("chunk",["string","Buffer","Uint8Array"],D);let de;return ue.ending?de=new A:ue.destroyed&&(de=new $("write")),de?(e.nextTick(ie,de),P(C,de,!0),de):(ue.pendingcb++,fe(C,ue,D,G,ie))}H.prototype.write=function(C,D,G){return Z(this||Et,C,D,G)===!0},H.prototype.cork=function(){(this||Et)._writableState.corked++},H.prototype.uncork=function(){const C=(this||Et)._writableState;C.corked&&(C.corked--,C.writing||N(this||Et,C))},H.prototype.setDefaultEncoding=function(D){if(typeof D=="string"&&(D=s(D)),!p.isEncoding(D))throw new x(D);return(this||Et)._writableState.defaultEncoding=D,this||Et};function fe(C,D,G,ie,ue){const de=D.objectMode?1:G.length;D.length+=de;const ve=D.length<D.highWaterMark;return ve||(D.needDrain=!0),D.writing||D.corked||D.errored||!D.constructed?(D.buffered.push({chunk:G,encoding:ie,callback:ue}),D.allBuffers&&ie!=="buffer"&&(D.allBuffers=!1),D.allNoop&&ue!==j&&(D.allNoop=!1)):(D.writelen=de,D.writecb=ue,D.writing=!0,D.sync=!0,C._write(G,ie,D.onwrite),D.sync=!1),ve&&!D.errored&&!D.destroyed}function ee(C,D,G,ie,ue,de,ve){D.writelen=ie,D.writecb=ve,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new $("write")):G?C._writev(ue,D.onwrite):C._write(ue,de,D.onwrite),D.sync=!1}function ae(C,D,G,ie){--D.pendingcb,ie(G),O(D),P(C,G)}function M(C,D){const G=C._writableState,ie=G.sync,ue=G.writecb;if(typeof ue!="function"){P(C,new y);return}G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0,D?(D.stack,G.errored||(G.errored=D),C._readableState&&!C._readableState.errored&&(C._readableState.errored=D),ie?e.nextTick(ae,C,G,D,ue):ae(C,G,D,ue)):(G.buffered.length>G.bufferedIndex&&N(C,G),ie?G.afterWriteTickInfo!==null&&G.afterWriteTickInfo.cb===ue?G.afterWriteTickInfo.count++:(G.afterWriteTickInfo={count:1,cb:ue,stream:C,state:G},e.nextTick(B,G.afterWriteTickInfo)):K(C,G,1,ue))}function B({stream:C,state:D,count:G,cb:ie}){return D.afterWriteTickInfo=null,K(C,D,G,ie)}function K(C,D,G,ie){for(!D.ending&&!C.destroyed&&D.length===0&&D.needDrain&&(D.needDrain=!1,C.emit("drain"));G-- >0;)D.pendingcb--,ie();D.destroyed&&O(D),Y(C,D)}function O(C){if(C.writing)return;for(let ue=C.bufferedIndex;ue<C.buffered.length;++ue){var D;const{chunk:de,callback:ve}=C.buffered[ue],Ne=C.objectMode?1:de.length;C.length-=Ne,ve((D=C.errored)!==null&&D!==void 0?D:new $("write"))}const G=C[F].splice(0);for(let ue=0;ue<G.length;ue++){var ie;G[ue]((ie=C.errored)!==null&&ie!==void 0?ie:new $("end"))}X(C)}function N(C,D){if(D.corked||D.bufferProcessing||D.destroyed||!D.constructed)return;const{buffered:G,bufferedIndex:ie,objectMode:ue}=D,de=G.length-ie;if(!de)return;let ve=ie;if(D.bufferProcessing=!0,de>1&&C._writev){D.pendingcb-=de-1;const Ne=D.allNoop?j:je=>{for(let nt=ve;nt<G.length;++nt)G[nt].callback(je)},Be=D.allNoop&&ve===0?G:t(G,ve);Be.allBuffers=D.allBuffers,ee(C,D,!0,D.length,Be,"",Ne),X(D)}else{do{const{chunk:Ne,encoding:Be,callback:je}=G[ve];G[ve++]=null;const nt=ue?1:Ne.length;ee(C,D,!1,nt,Ne,Be,je)}while(ve<G.length&&!D.writing);ve===G.length?X(D):ve>256?(G.splice(0,ve),D.bufferedIndex=0):D.bufferedIndex=ve}D.bufferProcessing=!1}H.prototype._write=function(C,D,G){if((this||Et)._writev)this._writev([{chunk:C,encoding:D}],G);else throw new E("_write()")},H.prototype._writev=null,H.prototype.end=function(C,D,G){const ie=(this||Et)._writableState;typeof C=="function"?(G=C,C=null,D=null):typeof D=="function"&&(G=D,D=null);let ue;if(C!=null){const de=Z(this||Et,C,D);de instanceof r&&(ue=de)}return ie.corked&&(ie.corked=1,this.uncork()),ue||(!ie.errored&&!ie.ending?(ie.ending=!0,Y(this||Et,ie,!0),ie.ended=!0):ie.finished?ue=new T("end"):ie.destroyed&&(ue=new $("end"))),typeof G=="function"&&(ue||ie.finished?e.nextTick(G,ue):ie[F].push(G)),this||Et};function q(C){return C.ending&&!C.destroyed&&C.constructed&&C.length===0&&!C.errored&&C.buffered.length===0&&!C.finished&&!C.writing&&!C.errorEmitted&&!C.closeEmitted}function ne(C,D){let G=!1;function ie(ue){if(G){P(C,ue??y());return}if(G=!0,D.pendingcb--,ue){const de=D[F].splice(0);for(let ve=0;ve<de.length;ve++)de[ve](ue);P(C,ue,D.sync)}else q(D)&&(D.prefinished=!0,C.emit("prefinish"),D.pendingcb++,e.nextTick(oe,C,D))}D.sync=!0,D.pendingcb++;try{C._final(ie)}catch(ue){ie(ue)}D.sync=!1}function J(C,D){!D.prefinished&&!D.finalCalled&&(typeof C._final=="function"&&!D.destroyed?(D.finalCalled=!0,ne(C,D)):(D.prefinished=!0,C.emit("prefinish")))}function Y(C,D,G){q(D)&&(J(C,D),D.pendingcb===0&&(G?(D.pendingcb++,e.nextTick((ie,ue)=>{q(ue)?oe(ie,ue):ue.pendingcb--},C,D)):q(D)&&(D.pendingcb++,oe(C,D))))}function oe(C,D){D.pendingcb--,D.finished=!0;const G=D[F].splice(0);for(let ie=0;ie<G.length;ie++)G[ie]();if(C.emit("finish"),D.autoDestroy){const ie=C._readableState;(!ie||ie.autoDestroy&&(ie.endEmitted||ie.readable===!1))&&C.destroy()}}o(H.prototype,{closed:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.closed:!1}},destroyed:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.destroyed:!1},set(C){(this||Et)._writableState&&((this||Et)._writableState.destroyed=C)}},writable:{__proto__:null,get(){const C=(this||Et)._writableState;return!!C&&C.writable!==!1&&!C.destroyed&&!C.errored&&!C.ending&&!C.ended},set(C){(this||Et)._writableState&&((this||Et)._writableState.writable=!!C)}},writableFinished:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return(this||Et)._writableState&&(this||Et)._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const C=(this||Et)._writableState;return C?!C.destroyed&&!C.ending&&C.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return(this||Et)._writableState&&(this||Et)._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.corked:0}},writableLength:{__proto__:null,get(){return(this||Et)._writableState&&(this||Et)._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return(this||Et)._writableState?(this||Et)._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||Et)._writableState.writable!==!1&&((this||Et)._writableState.destroyed||(this||Et)._writableState.errored)&&!(this||Et)._writableState.finished)}}});const be=m.destroy;H.prototype.destroy=function(C,D){const G=(this||Et)._writableState;return!G.destroyed&&(G.bufferedIndex<G.buffered.length||G[F].length)&&e.nextTick(O,G),be.call(this||Et,C,D),this||Et},H.prototype._undestroy=m.undestroy,H.prototype._destroy=function(C,D){D(C)},H.prototype[f.captureRejectionSymbol]=function(C){this.destroy(C)};let Oe;function R(){return Oe===void 0&&(Oe={}),Oe}return H.fromWeb=function(C,D){return R().newStreamWritableFromWritableStream(C,D)},H.toWeb=function(C){return R().newWritableStreamFromStreamWritable(C)},sw}function qee(){if(kx)return lw;kx=!0;const e=di,t=Io(),{isReadable:r,isWritable:n,isIterable:i,isNodeStream:o,isReadableNodeStream:a,isWritableNodeStream:s,isDuplexNodeStream:l,isReadableStream:u,isWritableStream:f}=Vl(),c=sc(),{AbortError:p,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:g}}=ko(),{destroyer:_}=Uh(),v=Ml(),h=eE(),E=VR(),{createDeferredPromise:y}=io(),S=N6(),$=globalThis.Blob||t.Blob,T=typeof $<"u"?function(V){return V instanceof $}:function(V){return!1},d=globalThis.AbortController||zm().AbortController,{FunctionPrototypeCall:A}=Ln();class x extends v{constructor(V){super(V),(V==null?void 0:V.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(V==null?void 0:V.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}lw=function F(V,X){if(l(V))return V;if(a(V))return j({readable:V});if(s(V))return j({writable:V});if(o(V))return j({writable:!1,readable:!1});if(u(V))return j({readable:h.fromWeb(V)});if(f(V))return j({writable:E.fromWeb(V)});if(typeof V=="function"){const{value:Z,write:fe,final:ee,destroy:ae}=P(V);if(i(Z))return S(x,Z,{objectMode:!0,write:fe,final:ee,destroy:ae});const M=Z==null?void 0:Z.then;if(typeof M=="function"){let B;const K=A(M,Z,O=>{if(O!=null)throw new g("nully","body",O)},O=>{_(B,O)});return B=new x({objectMode:!0,readable:!1,write:fe,final(O){ee(async()=>{try{await K,e.nextTick(O,null)}catch(N){e.nextTick(O,N)}})},destroy:ae})}throw new g("Iterable, AsyncIterable or AsyncFunction",X,Z)}if(T(V))return F(V.arrayBuffer());if(i(V))return S(x,V,{objectMode:!0,writable:!1});if(u(V==null?void 0:V.readable)&&f(V==null?void 0:V.writable))return x.fromWeb(V);if(typeof(V==null?void 0:V.writable)=="object"||typeof(V==null?void 0:V.readable)=="object"){const Z=V!=null&&V.readable?a(V==null?void 0:V.readable)?V==null?void 0:V.readable:F(V.readable):void 0,fe=V!=null&&V.writable?s(V==null?void 0:V.writable)?V==null?void 0:V.writable:F(V.writable):void 0;return j({readable:Z,writable:fe})}const H=V==null?void 0:V.then;if(typeof H=="function"){let Z;return A(H,V,fe=>{fe!=null&&Z.push(fe),Z.push(null)},fe=>{_(Z,fe)}),Z=new x({objectMode:!0,writable:!1,read(){}})}throw new m(X,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],V)};function P(F){let{promise:V,resolve:X}=y();const H=new d,Z=H.signal;return{value:F(async function*(){for(;;){const ee=V;V=null;const{chunk:ae,done:M,cb:B}=await ee;if(e.nextTick(B),M)return;if(Z.aborted)throw new p(void 0,{cause:Z.reason});({promise:V,resolve:X}=y()),yield ae}}(),{signal:Z}),write(ee,ae,M){const B=X;X=null,B({chunk:ee,done:!1,cb:M})},final(ee){const ae=X;X=null,ae({done:!0,cb:ee})},destroy(ee,ae){H.abort(),ae(ee)}}}function j(F){const V=F.readable&&typeof F.readable.read!="function"?h.wrap(F.readable):F.readable,X=F.writable;let H=!!r(V),Z=!!n(X),fe,ee,ae,M,B;function K(O){const N=M;M=null,N?N(O):O&&B.destroy(O)}return B=new x({readableObjectMode:!!(V!=null&&V.readableObjectMode),writableObjectMode:!!(X!=null&&X.writableObjectMode),readable:H,writable:Z}),Z&&(c(X,O=>{Z=!1,O&&_(V,O),K(O)}),B._write=function(O,N,q){X.write(O,N)?q():fe=q},B._final=function(O){X.end(),ee=O},X.on("drain",function(){if(fe){const O=fe;fe=null,O()}}),X.on("finish",function(){if(ee){const O=ee;ee=null,O()}})),H&&(c(V,O=>{H=!1,O&&_(V,O),K(O)}),V.on("readable",function(){if(ae){const O=ae;ae=null,O()}}),V.on("end",function(){B.push(null)}),B._read=function(){for(;;){const O=V.read();if(O===null){ae=B._read;return}if(!B.push(O))return}}),B._destroy=function(O,N){!O&&M!==null&&(O=new p),ae=null,fe=null,ee=null,M===null?N(O):(M=N,_(X,O),_(V,O))},B}return lw}function Ml(){if(Cx)return uw;Cx=!0;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Ln();uw=a;const i=eE(),o=VR();n(a.prototype,i.prototype),n(a,i);{const f=r(o.prototype);for(let c=0;c<f.length;c++){const p=f[c];a.prototype[p]||(a.prototype[p]=o.prototype[p])}}function a(f){if(!(this instanceof a))return new a(f);i.call(this,f),o.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(o.prototype,"writableLength")},writableFinished:{__proto__:null,...t(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});let s;function l(){return s===void 0&&(s={}),s}a.fromWeb=function(f,c){return l().newStreamDuplexFromReadableWritablePair(f,c)},a.toWeb=function(f){return l().newReadableWritablePairFromDuplex(f)};let u;return a.from=function(f){return u||(u=qee()),u(f,"body")},uw}function k6(){if(jx)return cw;jx=!0;const{ObjectSetPrototypeOf:e,Symbol:t}=Ln();cw=a;const{ERR_METHOD_NOT_IMPLEMENTED:r}=ko().codes,n=Ml(),{getHighWaterMark:i}=Z_();e(a.prototype,n.prototype),e(a,n);const o=t("kCallback");function a(u){if(!(this instanceof a))return new a(u);const f=u?i(this,u,"readableHighWaterMark",!0):null;f===0&&(u={...u,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:u.writableHighWaterMark||0}),n.call(this,u),this._readableState.sync=!1,this[o]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function s(u){typeof this._flush=="function"&&!this.destroyed?this._flush((f,c)=>{if(f){u?u(f):this.destroy(f);return}c!=null&&this.push(c),this.push(null),u&&u()}):(this.push(null),u&&u())}function l(){this._final!==s&&s.call(this)}return a.prototype._final=s,a.prototype._transform=function(u,f,c){throw new r("_transform()")},a.prototype._write=function(u,f,c){const p=this._readableState,m=this._writableState,g=p.length;this._transform(u,f,(_,v)=>{if(_){c(_);return}v!=null&&this.push(v),m.ended||g===p.length||p.length<p.highWaterMark?c():this[o]=c})},a.prototype._read=function(){if(this[o]){const u=this[o];this[o]=null,u()}},cw}function C6(){if(Dx)return fw;Dx=!0;const{ObjectSetPrototypeOf:e}=Ln();fw=r;const t=k6();e(r.prototype,t.prototype),e(r,t);function r(n){if(!(this instanceof r))return new r(n);t.call(this,n)}return r.prototype._transform=function(n,i,o){o(null,n)},fw}function HR(){if(Mx)return dw;Mx=!0;const e=di,{ArrayIsArray:t,Promise:r,SymbolAsyncIterator:n,SymbolDispose:i}=Ln(),o=sc(),{once:a}=io(),s=Uh(),l=Ml(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:c,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:g},AbortError:_}=ko(),{validateFunction:v,validateAbortSignal:h}=Sg(),{isIterable:E,isReadable:y,isReadableNodeStream:S,isNodeStream:$,isTransformStream:T,isWebStream:d,isReadableStream:A,isReadableFinished:x}=Vl(),P=globalThis.AbortController||zm().AbortController;let j,F,V;function X(O,N,q){let ne=!1;O.on("close",()=>{ne=!0});const J=o(O,{readable:N,writable:q},Y=>{ne=!Y});return{destroy:Y=>{ne||(ne=!0,s.destroyer(O,Y||new m("pipe")))},cleanup:J}}function H(O){return v(O[O.length-1],"streams[stream.length - 1]"),O.pop()}function Z(O){if(E(O))return O;if(S(O))return fe(O);throw new f("val",["Readable","Iterable","AsyncIterable"],O)}async function*fe(O){F||(F=eE()),yield*F.prototype[n].call(O)}async function ee(O,N,q,{end:ne}){let J,Y=null;const oe=R=>{if(R&&(J=R),Y){const C=Y;Y=null,C()}},be=()=>new r((R,C)=>{J?C(J):Y=()=>{J?C(J):R()}});N.on("drain",oe);const Oe=o(N,{readable:!1},oe);try{N.writableNeedDrain&&await be();for await(const R of O)N.write(R)||await be();ne&&(N.end(),await be()),q()}catch(R){q(J!==R?u(J,R):R)}finally{Oe(),N.off("drain",oe)}}async function ae(O,N,q,{end:ne}){T(N)&&(N=N.writable);const J=N.getWriter();try{for await(const Y of O)await J.ready,J.write(Y).catch(()=>{});await J.ready,ne&&await J.close(),q()}catch(Y){try{await J.abort(Y),q(Y)}catch(oe){q(oe)}}}function M(...O){return B(O,a(H(O)))}function B(O,N,q){if(O.length===1&&t(O[0])&&(O=O[0]),O.length<2)throw new p("streams");const ne=new P,J=ne.signal,Y=q==null?void 0:q.signal,oe=[];h(Y,"options.signal");function be(){ue(new _)}V=V||io().addAbortListener;let Oe;Y&&(Oe=V(Y,be));let R,C;const D=[];let G=0;function ie(Be){ue(Be,--G===0)}function ue(Be,je){var nt;if(Be&&(!R||R.code==="ERR_STREAM_PREMATURE_CLOSE")&&(R=Be),!(!R&&!je)){for(;D.length;)D.shift()(R);(nt=Oe)===null||nt===void 0||nt[i](),ne.abort(),je&&(R||oe.forEach(We=>We()),e.nextTick(N,R,C))}}let de;for(let Be=0;Be<O.length;Be++){const je=O[Be],nt=Be<O.length-1,We=Be>0,Ue=nt||(q==null?void 0:q.end)!==!1,W=Be===O.length-1;if($(je)){let I=function(L){L&&L.name!=="AbortError"&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ie(L)};if(Ue){const{destroy:L,cleanup:re}=X(je,nt,We);D.push(L),y(je)&&W&&oe.push(re)}je.on("error",I),y(je)&&W&&oe.push(()=>{je.removeListener("error",I)})}if(Be===0)if(typeof je=="function"){if(de=je({signal:J}),!E(de))throw new c("Iterable, AsyncIterable or Stream","source",de)}else E(je)||S(je)||T(je)?de=je:de=l.from(je);else if(typeof je=="function"){if(T(de)){var ve;de=Z((ve=de)===null||ve===void 0?void 0:ve.readable)}else de=Z(de);if(de=je(de,{signal:J}),nt){if(!E(de,!0))throw new c("AsyncIterable",`transform[${Be-1}]`,de)}else{var Ne;j||(j=C6());const I=new j({objectMode:!0}),L=(Ne=de)===null||Ne===void 0?void 0:Ne.then;if(typeof L=="function")G++,L.call(de,Ee=>{C=Ee,Ee!=null&&I.write(Ee),Ue&&I.end(),e.nextTick(ie)},Ee=>{I.destroy(Ee),e.nextTick(ie,Ee)});else if(E(de,!0))G++,ee(de,I,ie,{end:Ue});else if(A(de)||T(de)){const Ee=de.readable||de;G++,ee(Ee,I,ie,{end:Ue})}else throw new c("AsyncIterable or Promise","destination",de);de=I;const{destroy:re,cleanup:ye}=X(de,!1,!0);D.push(re),W&&oe.push(ye)}}else if($(je)){if(S(de)){G+=2;const I=K(de,je,ie,{end:Ue});y(je)&&W&&oe.push(I)}else if(T(de)||A(de)){const I=de.readable||de;G++,ee(I,je,ie,{end:Ue})}else if(E(de))G++,ee(de,je,ie,{end:Ue});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],de);de=je}else if(d(je)){if(S(de))G++,ae(Z(de),je,ie,{end:Ue});else if(A(de)||E(de))G++,ae(de,je,ie,{end:Ue});else if(T(de))G++,ae(de.readable,je,ie,{end:Ue});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],de);de=je}else de=l.from(je)}return(J!=null&&J.aborted||Y!=null&&Y.aborted)&&e.nextTick(be),de}function K(O,N,q,{end:ne}){let J=!1;if(N.on("close",()=>{J||q(new g)}),O.pipe(N,{end:!1}),ne){let Y=function(){J=!0,N.end()};x(O)?e.nextTick(Y):O.once("end",Y)}else q();return o(O,{readable:!0,writable:!1},Y=>{const oe=O._readableState;Y&&Y.code==="ERR_STREAM_PREMATURE_CLOSE"&&oe&&oe.ended&&!oe.errored&&!oe.errorEmitted?O.once("end",q).once("error",q):q(Y)}),o(N,{readable:!1,writable:!0},q)}return dw={pipelineImpl:B,pipeline:M},dw}function j6(){if(Lx)return hw;Lx=!0;const{pipeline:e}=HR(),t=Ml(),{destroyer:r}=Uh(),{isNodeStream:n,isReadable:i,isWritable:o,isWebStream:a,isTransformStream:s,isWritableStream:l,isReadableStream:u}=Vl(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:c,ERR_MISSING_ARGS:p}}=ko(),m=sc();return hw=function(..._){if(_.length===0)throw new p("streams");if(_.length===1)return t.from(_[0]);const v=[..._];if(typeof _[0]=="function"&&(_[0]=t.from(_[0])),typeof _[_.length-1]=="function"){const j=_.length-1;_[j]=t.from(_[j])}for(let j=0;j<_.length;++j)if(!(!n(_[j])&&!a(_[j]))){if(j<_.length-1&&!(i(_[j])||u(_[j])||s(_[j])))throw new c(`streams[${j}]`,v[j],"must be readable");if(j>0&&!(o(_[j])||l(_[j])||s(_[j])))throw new c(`streams[${j}]`,v[j],"must be writable")}let h,E,y,S,$;function T(j){const F=S;S=null,F?F(j):j?$.destroy(j):!P&&!x&&$.destroy()}const d=_[0],A=e(_,T),x=!!(o(d)||l(d)||s(d)),P=!!(i(A)||u(A)||s(A));if($=new t({writableObjectMode:!!(d!=null&&d.writableObjectMode),readableObjectMode:!!(A!=null&&A.readableObjectMode),writable:x,readable:P}),x){if(n(d))$._write=function(F,V,X){d.write(F,V)?X():h=X},$._final=function(F){d.end(),E=F},d.on("drain",function(){if(h){const F=h;h=null,F()}});else if(a(d)){const V=(s(d)?d.writable:d).getWriter();$._write=async function(X,H,Z){try{await V.ready,V.write(X).catch(()=>{}),Z()}catch(fe){Z(fe)}},$._final=async function(X){try{await V.ready,V.close().catch(()=>{}),E=X}catch(H){X(H)}}}const j=s(A)?A.readable:A;m(j,()=>{if(E){const F=E;E=null,F()}})}if(P){if(n(A))A.on("readable",function(){if(y){const j=y;y=null,j()}}),A.on("end",function(){$.push(null)}),$._read=function(){for(;;){const j=A.read();if(j===null){y=$._read;return}if(!$.push(j))return}};else if(a(A)){const F=(s(A)?A.readable:A).getReader();$._read=async function(){for(;;)try{const{value:V,done:X}=await F.read();if(!$.push(V))return;if(X){$.push(null);return}}catch{return}}}}return $._destroy=function(j,F){!j&&S!==null&&(j=new f),y=null,h=null,E=null,S===null?F(j):(S=F,n(A)&&r(A,j))},$},hw}function Vee(){if(Fx)return Up;Fx=!0;const e=globalThis.AbortController||zm().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:o}=ko(),{validateAbortSignal:a,validateInteger:s,validateObject:l}=Sg(),u=Ln().Symbol("kWeak"),f=Ln().Symbol("kResistStopPropagation"),{finished:c}=sc(),p=j6(),{addAbortSignalNoValidate:m}=Q_(),{isWritable:g,isNodeStream:_}=Vl(),{deprecate:v}=io(),{ArrayPrototypePush:h,Boolean:E,MathFloor:y,Number:S,NumberIsNaN:$,Promise:T,PromiseReject:d,PromiseResolve:A,PromisePrototypeThen:x,Symbol:P}=Ln(),j=P("kEmpty"),F=P("kEof");function V(Y,oe){if(oe!=null&&l(oe,"options"),(oe==null?void 0:oe.signal)!=null&&a(oe.signal,"options.signal"),_(Y)&&!g(Y))throw new t("stream",Y,"must be writable");const be=p(this,Y);return oe!=null&&oe.signal&&m(oe.signal,be),be}function X(Y,oe){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);oe!=null&&l(oe,"options"),(oe==null?void 0:oe.signal)!=null&&a(oe.signal,"options.signal");let be=1;(oe==null?void 0:oe.concurrency)!=null&&(be=y(oe.concurrency));let Oe=be-1;return(oe==null?void 0:oe.highWaterMark)!=null&&(Oe=y(oe.highWaterMark)),s(be,"options.concurrency",1),s(Oe,"options.highWaterMark",0),Oe+=be,(async function*(){const C=io().AbortSignalAny([oe==null?void 0:oe.signal].filter(E)),D=this,G=[],ie={signal:C};let ue,de,ve=!1,Ne=0;function Be(){ve=!0,je()}function je(){Ne-=1,nt()}function nt(){de&&!ve&&Ne<be&&G.length<Oe&&(de(),de=null)}async function We(){try{for await(let Ue of D){if(ve)return;if(C.aborted)throw new o;try{if(Ue=Y(Ue,ie),Ue===j)continue;Ue=A(Ue)}catch(W){Ue=d(W)}Ne+=1,x(Ue,je,Be),G.push(Ue),ue&&(ue(),ue=null),!ve&&(G.length>=Oe||Ne>=be)&&await new T(W=>{de=W})}G.push(F)}catch(Ue){const W=d(Ue);x(W,je,Be),G.push(W)}finally{ve=!0,ue&&(ue(),ue=null)}}We();try{for(;;){for(;G.length>0;){const Ue=await G[0];if(Ue===F)return;if(C.aborted)throw new o;Ue!==j&&(yield Ue),G.shift(),nt()}await new T(Ue=>{ue=Ue})}}finally{ve=!0,de&&(de(),de=null)}}).call(this)}function H(Y=void 0){return Y!=null&&l(Y,"options"),(Y==null?void 0:Y.signal)!=null&&a(Y.signal,"options.signal"),(async function*(){let be=0;for await(const R of this){var Oe;if(Y!=null&&(Oe=Y.signal)!==null&&Oe!==void 0&&Oe.aborted)throw new o({cause:Y.signal.reason});yield[be++,R]}}).call(this)}async function Z(Y,oe=void 0){for await(const be of M.call(this,Y,oe))return!0;return!1}async function fe(Y,oe=void 0){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);return!await Z.call(this,async(...be)=>!await Y(...be),oe)}async function ee(Y,oe){for await(const be of M.call(this,Y,oe))return be}async function ae(Y,oe){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);async function be(Oe,R){return await Y(Oe,R),j}for await(const Oe of X.call(this,be,oe));}function M(Y,oe){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);async function be(Oe,R){return await Y(Oe,R)?Oe:j}return X.call(this,be,oe)}class B extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function K(Y,oe,be){var Oe;if(typeof Y!="function")throw new r("reducer",["Function","AsyncFunction"],Y);be!=null&&l(be,"options"),(be==null?void 0:be.signal)!=null&&a(be.signal,"options.signal");let R=arguments.length>1;if(be!=null&&(Oe=be.signal)!==null&&Oe!==void 0&&Oe.aborted){const ue=new o(void 0,{cause:be.signal.reason});throw this.once("error",()=>{}),await c(this.destroy(ue)),ue}const C=new e,D=C.signal;if(be!=null&&be.signal){const ue={once:!0,[u]:this,[f]:!0};be.signal.addEventListener("abort",()=>C.abort(),ue)}let G=!1;try{for await(const ue of this){var ie;if(G=!0,be!=null&&(ie=be.signal)!==null&&ie!==void 0&&ie.aborted)throw new o;R?oe=await Y(oe,ue,{signal:D}):(oe=ue,R=!0)}if(!G&&!R)throw new B}finally{C.abort()}return oe}async function O(Y){Y!=null&&l(Y,"options"),(Y==null?void 0:Y.signal)!=null&&a(Y.signal,"options.signal");const oe=[];for await(const Oe of this){var be;if(Y!=null&&(be=Y.signal)!==null&&be!==void 0&&be.aborted)throw new o(void 0,{cause:Y.signal.reason});h(oe,Oe)}return oe}function N(Y,oe){const be=X.call(this,Y,oe);return(async function*(){for await(const R of be)yield*R}).call(this)}function q(Y){if(Y=S(Y),$(Y))return 0;if(Y<0)throw new i("number",">= 0",Y);return Y}function ne(Y,oe=void 0){return oe!=null&&l(oe,"options"),(oe==null?void 0:oe.signal)!=null&&a(oe.signal,"options.signal"),Y=q(Y),(async function*(){var Oe;if(oe!=null&&(Oe=oe.signal)!==null&&Oe!==void 0&&Oe.aborted)throw new o;for await(const C of this){var R;if(oe!=null&&(R=oe.signal)!==null&&R!==void 0&&R.aborted)throw new o;Y--<=0&&(yield C)}}).call(this)}function J(Y,oe=void 0){return oe!=null&&l(oe,"options"),(oe==null?void 0:oe.signal)!=null&&a(oe.signal,"options.signal"),Y=q(Y),(async function*(){var Oe;if(oe!=null&&(Oe=oe.signal)!==null&&Oe!==void 0&&Oe.aborted)throw new o;for await(const C of this){var R;if(oe!=null&&(R=oe.signal)!==null&&R!==void 0&&R.aborted)throw new o;if(Y-- >0&&(yield C),Y<=0)return}}).call(this)}return Up.streamReturningOperators={asIndexedPairs:v(H,"readable.asIndexedPairs will be removed in a future version."),drop:ne,filter:M,flatMap:N,map:X,take:J,compose:V},Up.promiseReturningOperators={every:fe,forEach:ae,reduce:K,toArray:O,some:Z,find:ee},Up}function D6(){if(Bx)return pw;Bx=!0;const{ArrayPrototypePop:e,Promise:t}=Ln(),{isIterable:r,isNodeStream:n,isWebStream:i}=Vl(),{pipelineImpl:o}=HR(),{finished:a}=sc();M6();function s(...l){return new t((u,f)=>{let c,p;const m=l[l.length-1];if(m&&typeof m=="object"&&!n(m)&&!r(m)&&!i(m)){const g=e(l);c=g.signal,p=g.end}o(l,(g,_)=>{g?f(g):u(_)},{signal:c,end:p})})}return pw={finished:a,pipeline:s},pw}function M6(){if(Ux)return mw;Ux=!0;const{Buffer:e}=Io(),{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Ln(),{promisify:{custom:i}}=io(),{streamReturningOperators:o,promiseReturningOperators:a}=Vee(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=ko(),l=j6(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:f}=Z_(),{pipeline:c}=HR(),{destroyer:p}=Uh(),m=sc(),g=D6(),_=Vl(),v=mw=qR().Stream;v.isDestroyed=_.isDestroyed,v.isDisturbed=_.isDisturbed,v.isErrored=_.isErrored,v.isReadable=_.isReadable,v.isWritable=_.isWritable,v.Readable=eE();for(const E of r(o)){let y=function(...$){if(new.target)throw s();return v.Readable.from(n(S,this||zx,$))};const S=o[E];t(y,"name",{__proto__:null,value:S.name}),t(y,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,E,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}for(const E of r(a)){let y=function(...$){if(new.target)throw s();return n(S,this||zx,$)};const S=a[E];t(y,"name",{__proto__:null,value:S.name}),t(y,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,E,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}v.Writable=VR(),v.Duplex=Ml(),v.Transform=k6(),v.PassThrough=C6(),v.pipeline=c;const{addAbortSignal:h}=Q_();return v.addAbortSignal=h,v.finished=m,v.destroy=p,v.compose=l,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=f,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return g}}),t(c,i,{__proto__:null,enumerable:!0,get(){return g.pipeline}}),t(m,i,{__proto__:null,enumerable:!0,get(){return g.finished}}),v.Stream=v,v._isUint8Array=function(y){return y instanceof Uint8Array},v._uint8ArrayToBuffer=function(y){return e.from(y.buffer,y.byteOffset,y.byteLength)},mw}function Hee(){if(qx)return On;qx=!0;const e=M6(),t=D6(),r=e.Readable.destroy;return On=e.Readable,On._uint8ArrayToBuffer=e._uint8ArrayToBuffer,On._isUint8Array=e._isUint8Array,On.isDisturbed=e.isDisturbed,On.isErrored=e.isErrored,On.isReadable=e.isReadable,On.Readable=e.Readable,On.Writable=e.Writable,On.Duplex=e.Duplex,On.Transform=e.Transform,On.PassThrough=e.PassThrough,On.addAbortSignal=e.addAbortSignal,On.finished=e.finished,On.destroy=e.destroy,On.destroy=r,On.pipeline=e.pipeline,On.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return t}}),On.Stream=e.Stream,On.default=On,On}var X0,yx,xd,wx,Fp,bx,Q0,_x,Z0,Ex,ew,Sx,Bp,$x,tw,Tx,rw,Ax,Pd,xx,nw,Px,iw,Ox,ow,Rx,aw,Ix,ut,sw,Nx,Et,lw,kx,uw,Cx,cw,jx,fw,Dx,dw,Mx,hw,Lx,Up,Fx,pw,Bx,mw,Ux,zx,On,qx,tn,gw,L6,F6,B6,U6,z6,q6,V6,H6,ja=nn({"../../node_modules/@jspm/core/nodelibs/browser/stream.js"(){Te(),B_(),Zz(),bg(),AU(),X_(),UR(),xR(),X0={},yx=!1,xd={},wx=!1,Fp={},bx=!1,Q0={},_x=!1,Z0={},Ex=!1,ew={},Sx=!1,Bp={},$x=!1,tw={},Tx=!1,rw={},Ax=!1,Pd={},xx=!1,nw={},Px=!1,iw={},Ox=!1,ow={},Rx=!1,aw={},Ix=!1,ut=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,sw={},Nx=!1,Et=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,lw={},kx=!1,uw={},Cx=!1,cw={},jx=!1,fw={},Dx=!1,dw={},Mx=!1,hw={},Lx=!1,Up={},Fx=!1,pw={},Bx=!1,mw={},Ux=!1,zx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,On={},qx=!1,tn=Hee(),tn._uint8ArrayToBuffer,tn._isUint8Array,tn.isDisturbed,tn.isErrored,tn.isReadable,tn.Readable,tn.Writable,tn.Duplex,tn.Transform,tn.PassThrough,tn.addAbortSignal,tn.finished,tn.destroy,tn.pipeline,tn.compose,tn.Stream,gw=tn.Readable,gw.wrap=function(e,t){return t=Object.assign({objectMode:e.readableObjectMode!=null||e.objectMode!=null||!0},t),t.destroy=function(r,n){e.destroy(r),n(r)},new gw(t).wrap(e)},L6=tn.Writable,F6=tn.Duplex,B6=tn.Transform,U6=tn.PassThrough,z6=tn.finished,q6=tn.pipeline,V6=tn.Stream,H6={finished:Db(tn.finished),pipeline:Db(tn.pipeline)}}}),WR=Pe({"../../node_modules/web-streams-polyfill/dist/ponyfill.js"(e,t){Te(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n((r=typeof globalThis<"u"?globalThis:r||self).WebStreamsPolyfill={})}(e,function(r){function n(){}function i(z){return typeof z=="object"&&z!==null||typeof z=="function"}const o=n;function a(z,Q){try{Object.defineProperty(z,"name",{value:Q,configurable:!0})}catch{}}const s=Promise,l=Promise.resolve.bind(s),u=Promise.prototype.then,f=Promise.reject.bind(s),c=l;function p(z){return new s(z)}function m(z){return p(Q=>Q(z))}function g(z){return f(z)}function _(z,Q,me){return u.call(z,Q,me)}function v(z,Q,me){_(_(z,Q,me),void 0,o)}function h(z,Q){v(z,Q)}function E(z,Q){v(z,void 0,Q)}function y(z,Q,me){return _(z,Q,me)}function S(z){_(z,void 0,o)}let $=z=>{if(typeof queueMicrotask=="function")$=queueMicrotask;else{const Q=m(void 0);$=me=>_(Q,me)}return $(z)};function T(z,Q,me){if(typeof z!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(z,Q,me)}function d(z,Q,me){try{return m(T(z,Q,me))}catch($e){return g($e)}}class A{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(Q){const me=this._back;let $e=me;me._elements.length===16383&&($e={_elements:[],_next:void 0}),me._elements.push(Q),$e!==me&&(this._back=$e,me._next=$e),++this._size}shift(){const Q=this._front;let me=Q;const $e=this._cursor;let Ve=$e+1;const qe=Q._elements,Je=qe[$e];return Ve===16384&&(me=Q._next,Ve=0),--this._size,this._cursor=Ve,Q!==me&&(this._front=me),qe[$e]=void 0,Je}forEach(Q){let me=this._cursor,$e=this._front,Ve=$e._elements;for(;!(me===Ve.length&&$e._next===void 0||me===Ve.length&&($e=$e._next,Ve=$e._elements,me=0,Ve.length===0));)Q(Ve[me]),++me}peek(){const Q=this._front,me=this._cursor;return Q._elements[me]}}const x=Symbol("[[AbortSteps]]"),P=Symbol("[[ErrorSteps]]"),j=Symbol("[[CancelSteps]]"),F=Symbol("[[PullSteps]]"),V=Symbol("[[ReleaseSteps]]");function X(z,Q){z._ownerReadableStream=Q,Q._reader=z,Q._state==="readable"?ee(z):Q._state==="closed"?function(me){ee(me),B(me)}(z):ae(z,Q._storedError)}function H(z,Q){return $n(z._ownerReadableStream,Q)}function Z(z){const Q=z._ownerReadableStream;Q._state==="readable"?M(z,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(me,$e){ae(me,$e)}(z,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),Q._readableStreamController[V](),Q._reader=void 0,z._ownerReadableStream=void 0}function fe(z){return new TypeError("Cannot "+z+" a stream using a released reader")}function ee(z){z._closedPromise=p((Q,me)=>{z._closedPromise_resolve=Q,z._closedPromise_reject=me})}function ae(z,Q){ee(z),M(z,Q)}function M(z,Q){z._closedPromise_reject!==void 0&&(S(z._closedPromise),z._closedPromise_reject(Q),z._closedPromise_resolve=void 0,z._closedPromise_reject=void 0)}function B(z){z._closedPromise_resolve!==void 0&&(z._closedPromise_resolve(void 0),z._closedPromise_resolve=void 0,z._closedPromise_reject=void 0)}const K=Number.isFinite||function(z){return typeof z=="number"&&isFinite(z)},O=Math.trunc||function(z){return z<0?Math.ceil(z):Math.floor(z)};function N(z,Q){if(z!==void 0&&typeof(me=z)!="object"&&typeof me!="function")throw new TypeError(`${Q} is not an object.`);var me}function q(z,Q){if(typeof z!="function")throw new TypeError(`${Q} is not a function.`)}function ne(z,Q){if(!function(me){return typeof me=="object"&&me!==null||typeof me=="function"}(z))throw new TypeError(`${Q} is not an object.`)}function J(z,Q,me){if(z===void 0)throw new TypeError(`Parameter ${Q} is required in '${me}'.`)}function Y(z,Q,me){if(z===void 0)throw new TypeError(`${Q} is required in '${me}'.`)}function oe(z){return Number(z)}function be(z){return z===0?0:z}function Oe(z,Q){const me=Number.MAX_SAFE_INTEGER;let $e=Number(z);if($e=be($e),!K($e))throw new TypeError(`${Q} is not a finite number`);if($e=function(Ve){return be(O(Ve))}($e),$e<0||$e>me)throw new TypeError(`${Q} is outside the accepted range of 0 to ${me}, inclusive`);return K($e)&&$e!==0?$e:0}function R(z,Q){if(!mi(z))throw new TypeError(`${Q} is not a ReadableStream.`)}function C(z){return new de(z)}function D(z,Q){z._reader._readRequests.push(Q)}function G(z,Q,me){const $e=z._reader._readRequests.shift();me?$e._closeSteps():$e._chunkSteps(Q)}function ie(z){return z._reader._readRequests.length}function ue(z){const Q=z._reader;return Q!==void 0&&!!ve(Q)}class de{constructor(Q){if(J(Q,1,"ReadableStreamDefaultReader"),R(Q,"First parameter"),gi(Q))throw new TypeError("This stream has already been locked for exclusive reading by another reader");X(this,Q),this._readRequests=new A}get closed(){return ve(this)?this._closedPromise:g(je("closed"))}cancel(Q=void 0){return ve(this)?this._ownerReadableStream===void 0?g(fe("cancel")):H(this,Q):g(je("cancel"))}read(){if(!ve(this))return g(je("read"));if(this._ownerReadableStream===void 0)return g(fe("read from"));let Q,me;const $e=p((Ve,qe)=>{Q=Ve,me=qe});return Ne(this,{_chunkSteps:Ve=>Q({value:Ve,done:!1}),_closeSteps:()=>Q({value:void 0,done:!0}),_errorSteps:Ve=>me(Ve)}),$e}releaseLock(){if(!ve(this))throw je("releaseLock");this._ownerReadableStream!==void 0&&function(Q){Z(Q);const me=new TypeError("Reader was released");Be(Q,me)}(this)}}function ve(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_readRequests")&&z instanceof de}function Ne(z,Q){const me=z._ownerReadableStream;me._disturbed=!0,me._state==="closed"?Q._closeSteps():me._state==="errored"?Q._errorSteps(me._storedError):me._readableStreamController[F](Q)}function Be(z,Q){const me=z._readRequests;z._readRequests=new A,me.forEach($e=>{$e._errorSteps(Q)})}function je(z){return new TypeError(`ReadableStreamDefaultReader.prototype.${z} can only be used on a ReadableStreamDefaultReader`)}var nt,We,Ue;function W(z){return z.slice()}function I(z,Q,me,$e,Ve){new Uint8Array(z).set(new Uint8Array(me,$e,Ve),Q)}Object.defineProperties(de.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),a(de.prototype.cancel,"cancel"),a(de.prototype.read,"read"),a(de.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(de.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let L=z=>(L=typeof z.transfer=="function"?Q=>Q.transfer():typeof structuredClone=="function"?Q=>structuredClone(Q,{transfer:[Q]}):Q=>Q,L(z)),re=z=>(re=typeof z.detached=="boolean"?Q=>Q.detached:Q=>Q.byteLength===0,re(z));function ye(z,Q,me){if(z.slice)return z.slice(Q,me);const $e=me-Q,Ve=new ArrayBuffer($e);return I(Ve,0,z,Q,$e),Ve}function Ee(z,Q){const me=z[Q];if(me!=null){if(typeof me!="function")throw new TypeError(`${String(Q)} is not a function`);return me}}function Ce(z){try{const Q=z.done,me=z.value;return _(c(me),$e=>({done:Q,value:$e}))}catch(Q){return g(Q)}}const Re=(Ue=(nt=Symbol.asyncIterator)!==null&&nt!==void 0?nt:(We=Symbol.for)===null||We===void 0?void 0:We.call(Symbol,"Symbol.asyncIterator"))!==null&&Ue!==void 0?Ue:"@@asyncIterator";function Le(z,Q="sync",me){if(me===void 0)if(Q==="async"){if((me=Ee(z,Re))===void 0)return function(Ve){const qe={next(){let Je;try{Je=ft(Ve)}catch(Ge){return g(Ge)}return Ce(Je)},return(Je){let Ge;try{const Xe=Ee(Ve.iterator,"return");if(Xe===void 0)return m({done:!0,value:Je});Ge=T(Xe,Ve.iterator,[Je])}catch(Xe){return g(Xe)}return i(Ge)?Ce(Ge):g(new TypeError("The iterator.return() method must return an object"))}};return{iterator:qe,nextMethod:qe.next,done:!1}}(Le(z,"sync",Ee(z,Symbol.iterator)))}else me=Ee(z,Symbol.iterator);if(me===void 0)throw new TypeError("The object is not iterable");const $e=T(me,z,[]);if(!i($e))throw new TypeError("The iterator method must return an object");return{iterator:$e,nextMethod:$e.next,done:!1}}function ft(z){const Q=T(z.nextMethod,z.iterator,[]);if(!i(Q))throw new TypeError("The iterator.next() method must return an object");return Q}class yt{constructor(Q,me){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=Q,this._preventCancel=me}next(){const Q=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?y(this._ongoingPromise,Q,Q):Q(),this._ongoingPromise}return(Q){const me=()=>this._returnSteps(Q);return this._ongoingPromise=this._ongoingPromise?y(this._ongoingPromise,me,me):me(),this._ongoingPromise}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const Q=this._reader;let me,$e;const Ve=p((qe,Je)=>{me=qe,$e=Je});return Ne(Q,{_chunkSteps:qe=>{this._ongoingPromise=void 0,$(()=>me({value:qe,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,Z(Q),me({value:void 0,done:!0})},_errorSteps:qe=>{this._ongoingPromise=void 0,this._isFinished=!0,Z(Q),$e(qe)}}),Ve}_returnSteps(Q){if(this._isFinished)return Promise.resolve({value:Q,done:!0});this._isFinished=!0;const me=this._reader;if(!this._preventCancel){const $e=H(me,Q);return Z(me),y($e,()=>({value:Q,done:!0}))}return Z(me),m({value:Q,done:!0})}}const st={next(){return Ct(this)?this._asyncIteratorImpl.next():g(Er("next"))},return(z){return Ct(this)?this._asyncIteratorImpl.return(z):g(Er("return"))},[Re](){return this}};function Ct(z){if(!i(z)||!Object.prototype.hasOwnProperty.call(z,"_asyncIteratorImpl"))return!1;try{return z._asyncIteratorImpl instanceof yt}catch{return!1}}function Er(z){return new TypeError(`ReadableStreamAsyncIterator.${z} can only be used on a ReadableSteamAsyncIterator`)}Object.defineProperty(st,Re,{enumerable:!1});const Or=Number.isNaN||function(z){return z!=z};function ir(z){const Q=ye(z.buffer,z.byteOffset,z.byteOffset+z.byteLength);return new Uint8Array(Q)}function mr(z){const Q=z._queue.shift();return z._queueTotalSize-=Q.size,z._queueTotalSize<0&&(z._queueTotalSize=0),Q.value}function cn(z,Q,me){if(typeof($e=me)!="number"||Or($e)||$e<0||me===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var $e;z._queue.push({value:Q,size:me}),z._queueTotalSize+=me}function Vt(z){z._queue=new A,z._queueTotalSize=0}function zt(z){return z===DataView}class At{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!dt(this))throw Cr("view");return this._view}respond(Q){if(!dt(this))throw Cr("respond");if(J(Q,1,"respond"),Q=Oe(Q,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(re(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");kr(this._associatedReadableByteStreamController,Q)}respondWithNewView(Q){if(!dt(this))throw Cr("respondWithNewView");if(J(Q,1,"respondWithNewView"),!ArrayBuffer.isView(Q))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(re(Q.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Fn(this._associatedReadableByteStreamController,Q)}}Object.defineProperties(At.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),a(At.prototype.respond,"respond"),a(At.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(At.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Se{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ie(this))throw Zr("byobRequest");return Kr(this)}get desiredSize(){if(!Ie(this))throw Zr("desiredSize");return Qr(this)}close(){if(!Ie(this))throw Zr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const Q=this._controlledReadableByteStream._state;if(Q!=="readable")throw new TypeError(`The stream (in ${Q} state) is not in the readable state and cannot be closed`);wt(this)}enqueue(Q){if(!Ie(this))throw Zr("enqueue");if(J(Q,1,"enqueue"),!ArrayBuffer.isView(Q))throw new TypeError("chunk must be an array buffer view");if(Q.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(Q.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const me=this._controlledReadableByteStream._state;if(me!=="readable")throw new TypeError(`The stream (in ${me} state) is not in the readable state and cannot be enqueued to`);Tt(this,Q)}error(Q=void 0){if(!Ie(this))throw Zr("error");Dt(this,Q)}[j](Q){it(this),Vt(this);const me=this._cancelAlgorithm(Q);return Gt(this),me}[F](Q){const me=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void Ft(this,Q);const $e=this._autoAllocateChunkSize;if($e!==void 0){let Ve;try{Ve=new ArrayBuffer($e)}catch(Je){return void Q._errorSteps(Je)}const qe={buffer:Ve,bufferByteLength:$e,byteOffset:0,byteLength:$e,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(qe)}D(me,Q),Ye(this)}[V](){if(this._pendingPullIntos.length>0){const Q=this._pendingPullIntos.peek();Q.readerType="none",this._pendingPullIntos=new A,this._pendingPullIntos.push(Q)}}}function Ie(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledReadableByteStream")&&z instanceof Se}function dt(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_associatedReadableByteStreamController")&&z instanceof At}function Ye(z){if(function(me){const $e=me._controlledReadableByteStream;return $e._state!=="readable"||me._closeRequested||!me._started?!1:!!(ue($e)&&ie($e)>0||ia($e)&&na($e)>0||Qr(me)>0)}(z)){if(z._pulling)return void(z._pullAgain=!0);z._pulling=!0,v(z._pullAlgorithm(),()=>(z._pulling=!1,z._pullAgain&&(z._pullAgain=!1,Ye(z)),null),me=>(Dt(z,me),null))}}function it(z){xt(z),z._pendingPullIntos=new A}function Ot(z,Q){let me=!1;z._state==="closed"&&(me=!0);const $e=he(Q);Q.readerType==="default"?G(z,$e,me):function(Ve,qe,Je){const Ge=Ve._reader,Xe=Ge._readIntoRequests.shift();Je?Xe._closeSteps(qe):Xe._chunkSteps(qe)}(z,$e,me)}function qt(z,Q){for(let me=0;me<Q.length;++me)Ot(z,Q[me])}function he(z){const Q=z.bytesFilled,me=z.elementSize;return new z.viewConstructor(z.buffer,z.byteOffset,Q/me)}function le(z,Q,me,$e){z._queue.push({buffer:Q,byteOffset:me,byteLength:$e}),z._queueTotalSize+=$e}function we(z,Q,me,$e){let Ve;try{Ve=ye(Q,me,me+$e)}catch(qe){throw Dt(z,qe),qe}le(z,Ve,0,$e)}function xe(z,Q){Q.bytesFilled>0&&we(z,Q.buffer,Q.byteOffset,Q.bytesFilled),Rt(z)}function Ae(z,Q){const me=Math.min(z._queueTotalSize,Q.byteLength-Q.bytesFilled),$e=Q.bytesFilled+me;let Ve=me,qe=!1;const Je=$e-$e%Q.elementSize;Je>=Q.minimumFill&&(Ve=Je-Q.bytesFilled,qe=!0);const Ge=z._queue;for(;Ve>0;){const Xe=Ge.peek(),pt=Math.min(Ve,Xe.byteLength),gt=Q.byteOffset+Q.bytesFilled;I(Q.buffer,gt,Xe.buffer,Xe.byteOffset,pt),Xe.byteLength===pt?Ge.shift():(Xe.byteOffset+=pt,Xe.byteLength-=pt),z._queueTotalSize-=pt,et(z,pt,Q),Ve-=pt}return qe}function et(z,Q,me){me.bytesFilled+=Q}function ot(z){z._queueTotalSize===0&&z._closeRequested?(Gt(z),ll(z._controlledReadableByteStream)):Ye(z)}function xt(z){z._byobRequest!==null&&(z._byobRequest._associatedReadableByteStreamController=void 0,z._byobRequest._view=null,z._byobRequest=null)}function Nt(z){const Q=[];for(;z._pendingPullIntos.length>0&&z._queueTotalSize!==0;){const me=z._pendingPullIntos.peek();Ae(z,me)&&(Rt(z),Q.push(me))}return Q}function jt(z,Q,me,$e){const Ve=z._controlledReadableByteStream,qe=Q.constructor,Je=function(_t){return zt(_t)?1:_t.BYTES_PER_ELEMENT}(qe),{byteOffset:Ge,byteLength:Xe}=Q,pt=me*Je;let gt;try{gt=L(Q.buffer)}catch(_t){return void $e._errorSteps(_t)}const Lt={buffer:gt,bufferByteLength:gt.byteLength,byteOffset:Ge,byteLength:Xe,bytesFilled:0,minimumFill:pt,elementSize:Je,viewConstructor:qe,readerType:"byob"};if(z._pendingPullIntos.length>0)return z._pendingPullIntos.push(Lt),void hi(Ve,$e);if(Ve._state!=="closed"){if(z._queueTotalSize>0){if(Ae(z,Lt)){const _t=he(Lt);return ot(z),void $e._chunkSteps(_t)}if(z._closeRequested){const _t=new TypeError("Insufficient bytes to fill elements in the given buffer");return Dt(z,_t),void $e._errorSteps(_t)}}z._pendingPullIntos.push(Lt),hi(Ve,$e),Ye(z)}else{const _t=new qe(Lt.buffer,Lt.byteOffset,0);$e._closeSteps(_t)}}function $t(z,Q){const me=z._pendingPullIntos.peek();xt(z),z._controlledReadableByteStream._state==="closed"?function($e,Ve){Ve.readerType==="none"&&Rt($e);const qe=$e._controlledReadableByteStream;if(ia(qe)){const Je=[];for(let Ge=0;Ge<na(qe);++Ge)Je.push(Rt($e));qt(qe,Je)}}(z,me):function($e,Ve,qe){if(et(0,Ve,qe),qe.readerType==="none"){xe($e,qe);const Xe=Nt($e);return void qt($e._controlledReadableByteStream,Xe)}if(qe.bytesFilled<qe.minimumFill)return;Rt($e);const Je=qe.bytesFilled%qe.elementSize;if(Je>0){const Xe=qe.byteOffset+qe.bytesFilled;we($e,qe.buffer,Xe-Je,Je)}qe.bytesFilled-=Je;const Ge=Nt($e);Ot($e._controlledReadableByteStream,qe),qt($e._controlledReadableByteStream,Ge)}(z,Q,me),Ye(z)}function Rt(z){return z._pendingPullIntos.shift()}function Gt(z){z._pullAlgorithm=void 0,z._cancelAlgorithm=void 0}function wt(z){const Q=z._controlledReadableByteStream;if(!z._closeRequested&&Q._state==="readable")if(z._queueTotalSize>0)z._closeRequested=!0;else{if(z._pendingPullIntos.length>0){const me=z._pendingPullIntos.peek();if(me.bytesFilled%me.elementSize!=0){const $e=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Dt(z,$e),$e}}Gt(z),ll(Q)}}function Tt(z,Q){const me=z._controlledReadableByteStream;if(z._closeRequested||me._state!=="readable")return;const{buffer:$e,byteOffset:Ve,byteLength:qe}=Q;if(re($e))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const Je=L($e);if(z._pendingPullIntos.length>0){const Ge=z._pendingPullIntos.peek();if(re(Ge.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");xt(z),Ge.buffer=L(Ge.buffer),Ge.readerType==="none"&&xe(z,Ge)}if(ue(me))(function(Ge){const Xe=Ge._controlledReadableByteStream._reader;for(;Xe._readRequests.length>0;){if(Ge._queueTotalSize===0)return;Ft(Ge,Xe._readRequests.shift())}})(z),ie(me)===0?le(z,Je,Ve,qe):(z._pendingPullIntos.length>0&&Rt(z),G(me,new Uint8Array(Je,Ve,qe),!1));else if(ia(me)){le(z,Je,Ve,qe);const Ge=Nt(z);qt(z._controlledReadableByteStream,Ge)}else le(z,Je,Ve,qe);Ye(z)}function Dt(z,Q){const me=z._controlledReadableByteStream;me._state==="readable"&&(it(z),Vt(z),Gt(z),la(me,Q))}function Ft(z,Q){const me=z._queue.shift();z._queueTotalSize-=me.byteLength,ot(z);const $e=new Uint8Array(me.buffer,me.byteOffset,me.byteLength);Q._chunkSteps($e)}function Kr(z){if(z._byobRequest===null&&z._pendingPullIntos.length>0){const Q=z._pendingPullIntos.peek(),me=new Uint8Array(Q.buffer,Q.byteOffset+Q.bytesFilled,Q.byteLength-Q.bytesFilled),$e=Object.create(At.prototype);(function(Ve,qe,Je){Ve._associatedReadableByteStreamController=qe,Ve._view=Je})($e,z,me),z._byobRequest=$e}return z._byobRequest}function Qr(z){const Q=z._controlledReadableByteStream._state;return Q==="errored"?null:Q==="closed"?0:z._strategyHWM-z._queueTotalSize}function kr(z,Q){const me=z._pendingPullIntos.peek();if(z._controlledReadableByteStream._state==="closed"){if(Q!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(Q===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(me.bytesFilled+Q>me.byteLength)throw new RangeError("bytesWritten out of range")}me.buffer=L(me.buffer),$t(z,Q)}function Fn(z,Q){const me=z._pendingPullIntos.peek();if(z._controlledReadableByteStream._state==="closed"){if(Q.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(Q.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(me.byteOffset+me.bytesFilled!==Q.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(me.bufferByteLength!==Q.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(me.bytesFilled+Q.byteLength>me.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const $e=Q.byteLength;me.buffer=L(Q.buffer),$t(z,$e)}function Hn(z,Q,me,$e,Ve,qe,Je){Q._controlledReadableByteStream=z,Q._pullAgain=!1,Q._pulling=!1,Q._byobRequest=null,Q._queue=Q._queueTotalSize=void 0,Vt(Q),Q._closeRequested=!1,Q._started=!1,Q._strategyHWM=qe,Q._pullAlgorithm=$e,Q._cancelAlgorithm=Ve,Q._autoAllocateChunkSize=Je,Q._pendingPullIntos=new A,z._readableStreamController=Q,v(m(me()),()=>(Q._started=!0,Ye(Q),null),Ge=>(Dt(Q,Ge),null))}function Cr(z){return new TypeError(`ReadableStreamBYOBRequest.prototype.${z} can only be used on a ReadableStreamBYOBRequest`)}function Zr(z){return new TypeError(`ReadableByteStreamController.prototype.${z} can only be used on a ReadableByteStreamController`)}function Qn(z,Q){if((z=`${z}`)!="byob")throw new TypeError(`${Q} '${z}' is not a valid enumeration value for ReadableStreamReaderMode`);return z}function pn(z){return new jr(z)}function hi(z,Q){z._reader._readIntoRequests.push(Q)}function na(z){return z._reader._readIntoRequests.length}function ia(z){const Q=z._reader;return Q!==void 0&&!!_n(Q)}Object.defineProperties(Se.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),a(Se.prototype.close,"close"),a(Se.prototype.enqueue,"enqueue"),a(Se.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Se.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class jr{constructor(Q){if(J(Q,1,"ReadableStreamBYOBReader"),R(Q,"First parameter"),gi(Q))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ie(Q._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");X(this,Q),this._readIntoRequests=new A}get closed(){return _n(this)?this._closedPromise:g(oa("closed"))}cancel(Q=void 0){return _n(this)?this._ownerReadableStream===void 0?g(fe("cancel")):H(this,Q):g(oa("cancel"))}read(Q,me={}){if(!_n(this))return g(oa("read"));if(!ArrayBuffer.isView(Q))return g(new TypeError("view must be an array buffer view"));if(Q.byteLength===0)return g(new TypeError("view must have non-zero byteLength"));if(Q.buffer.byteLength===0)return g(new TypeError("view's buffer must have non-zero byteLength"));if(re(Q.buffer))return g(new TypeError("view's buffer has been detached"));let $e;try{$e=function(Xe,pt){var gt;return N(Xe,pt),{min:Oe((gt=Xe==null?void 0:Xe.min)!==null&&gt!==void 0?gt:1,`${pt} has member 'min' that`)}}(me,"options")}catch(Xe){return g(Xe)}const Ve=$e.min;if(Ve===0)return g(new TypeError("options.min must be greater than 0"));if(function(Xe){return zt(Xe.constructor)}(Q)){if(Ve>Q.byteLength)return g(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(Ve>Q.length)return g(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return g(fe("read from"));let qe,Je;const Ge=p((Xe,pt)=>{qe=Xe,Je=pt});return pi(this,Q,Ve,{_chunkSteps:Xe=>qe({value:Xe,done:!1}),_closeSteps:Xe=>qe({value:Xe,done:!0}),_errorSteps:Xe=>Je(Xe)}),Ge}releaseLock(){if(!_n(this))throw oa("releaseLock");this._ownerReadableStream!==void 0&&function(Q){Z(Q);const me=new TypeError("Reader was released");vs(Q,me)}(this)}}function _n(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_readIntoRequests")&&z instanceof jr}function pi(z,Q,me,$e){const Ve=z._ownerReadableStream;Ve._disturbed=!0,Ve._state==="errored"?$e._errorSteps(Ve._storedError):jt(Ve._readableStreamController,Q,me,$e)}function vs(z,Q){const me=z._readIntoRequests;z._readIntoRequests=new A,me.forEach($e=>{$e._errorSteps(Q)})}function oa(z){return new TypeError(`ReadableStreamBYOBReader.prototype.${z} can only be used on a ReadableStreamBYOBReader`)}function Bn(z,Q){const{highWaterMark:me}=z;if(me===void 0)return Q;if(Or(me)||me<0)throw new RangeError("Invalid highWaterMark");return me}function gc(z){const{size:Q}=z;return Q||(()=>1)}function il(z,Q){N(z,Q);const me=z==null?void 0:z.highWaterMark,$e=z==null?void 0:z.size;return{highWaterMark:me===void 0?void 0:oe(me),size:$e===void 0?void 0:qg($e,`${Q} has member 'size' that`)}}function qg(z,Q){return q(z,Q),me=>oe(z(me))}function WE(z,Q,me){return q(z,me),$e=>d(z,Q,[$e])}function GE(z,Q,me){return q(z,me),()=>d(z,Q,[])}function Do(z,Q,me){return q(z,me),$e=>T(z,Q,[$e])}function Vg(z,Q,me){return q(z,me),($e,Ve)=>d(z,Q,[$e,Ve])}function Gl(z,Q){if(!uo(z))throw new TypeError(`${Q} is not a WritableStream.`)}Object.defineProperties(jr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),a(jr.prototype.cancel,"cancel"),a(jr.prototype.read,"read"),a(jr.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(jr.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class ys{constructor(Q={},me={}){Q===void 0?Q=null:ne(Q,"First parameter");const $e=il(me,"Second parameter"),Ve=function(Je,Ge){N(Je,Ge);const Xe=Je==null?void 0:Je.abort,pt=Je==null?void 0:Je.close,gt=Je==null?void 0:Je.start,Lt=Je==null?void 0:Je.type,_t=Je==null?void 0:Je.write;return{abort:Xe===void 0?void 0:WE(Xe,Je,`${Ge} has member 'abort' that`),close:pt===void 0?void 0:GE(pt,Je,`${Ge} has member 'close' that`),start:gt===void 0?void 0:Do(gt,Je,`${Ge} has member 'start' that`),write:_t===void 0?void 0:Vg(_t,Je,`${Ge} has member 'write' that`),type:Lt}}(Q,"First parameter");if(ws(this),Ve.type!==void 0)throw new RangeError("Invalid type is specified");const qe=gc($e);(function(Je,Ge,Xe,pt){const gt=Object.create(Jl.prototype);let Lt,_t,Ut,Sr;Lt=Ge.start!==void 0?()=>Ge.start(gt):()=>{},_t=Ge.write!==void 0?Rr=>Ge.write(Rr,gt):()=>m(void 0),Ut=Ge.close!==void 0?()=>Ge.close():()=>m(void 0),Sr=Ge.abort!==void 0?Rr=>Ge.abort(Rr):()=>m(void 0),Xh(Je,gt,Lt,_t,Ut,Sr,Xe,pt)})(this,Ve,Bn($e,1),qe)}get locked(){if(!uo(this))throw rd("locked");return bs(this)}abort(Q=void 0){return uo(this)?bs(this)?g(new TypeError("Cannot abort a stream that already has a writer")):Kf(this,Q):g(rd("abort"))}close(){return uo(this)?bs(this)?g(new TypeError("Cannot close a stream that already has a writer")):Mo(this)?g(new TypeError("Cannot close an already-closing stream")):Kl(this):g(rd("close"))}getWriter(){if(!uo(this))throw rd("getWriter");return Hg(this)}}function Hg(z){return new Fa(z)}function ws(z){z._state="writable",z._storedError=void 0,z._writer=void 0,z._writableStreamController=void 0,z._writeRequests=new A,z._inFlightWriteRequest=void 0,z._closeRequest=void 0,z._inFlightCloseRequest=void 0,z._pendingAbortRequest=void 0,z._backpressure=!1}function uo(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_writableStreamController")&&z instanceof ys}function bs(z){return z._writer!==void 0}function Kf(z,Q){var me;if(z._state==="closed"||z._state==="errored")return m(void 0);z._writableStreamController._abortReason=Q,(me=z._writableStreamController._abortController)===null||me===void 0||me.abort(Q);const $e=z._state;if($e==="closed"||$e==="errored")return m(void 0);if(z._pendingAbortRequest!==void 0)return z._pendingAbortRequest._promise;let Ve=!1;$e==="erroring"&&(Ve=!0,Q=void 0);const qe=p((Je,Ge)=>{z._pendingAbortRequest={_promise:void 0,_resolve:Je,_reject:Ge,_reason:Q,_wasAlreadyErroring:Ve}});return z._pendingAbortRequest._promise=qe,Ve||vc(z,Q),qe}function Kl(z){const Q=z._state;if(Q==="closed"||Q==="errored")return g(new TypeError(`The stream (in ${Q} state) is not in the writable state and cannot be closed`));const me=p((qe,Je)=>{const Ge={_resolve:qe,_reject:Je};z._closeRequest=Ge}),$e=z._writer;var Ve;return $e!==void 0&&z._backpressure&&Q==="writable"&&se($e),cn(Ve=z._writableStreamController,Jg,0),Xl(Ve),me}function Jf(z,Q){z._state!=="writable"?Yf(z):vc(z,Q)}function vc(z,Q){const me=z._writableStreamController;z._state="erroring",z._storedError=Q;const $e=z._writer;$e!==void 0&&Wg($e,Q),!function(Ve){return!(Ve._inFlightWriteRequest===void 0&&Ve._inFlightCloseRequest===void 0)}(z)&&me._started&&Yf(z)}function Yf(z){z._state="errored",z._writableStreamController[P]();const Q=z._storedError;if(z._writeRequests.forEach($e=>{$e._reject(Q)}),z._writeRequests=new A,z._pendingAbortRequest===void 0)return void Xf(z);const me=z._pendingAbortRequest;if(z._pendingAbortRequest=void 0,me._wasAlreadyErroring)return me._reject(Q),void Xf(z);v(z._writableStreamController[x](me._reason),()=>(me._resolve(),Xf(z),null),$e=>(me._reject($e),Xf(z),null))}function Mo(z){return z._closeRequest!==void 0||z._inFlightCloseRequest!==void 0}function Xf(z){z._closeRequest!==void 0&&(z._closeRequest._reject(z._storedError),z._closeRequest=void 0);const Q=z._writer;Q!==void 0&&ep(Q,z._storedError)}function Qf(z,Q){const me=z._writer;me!==void 0&&Q!==z._backpressure&&(Q?function($e){id($e)}(me):se(me)),z._backpressure=Q}Object.defineProperties(ys.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),a(ys.prototype.abort,"abort"),a(ys.prototype.close,"close"),a(ys.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ys.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class Fa{constructor(Q){if(J(Q,1,"WritableStreamDefaultWriter"),Gl(Q,"First parameter"),bs(Q))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=Q,Q._writer=this;const me=Q._state;if(me==="writable")!Mo(Q)&&Q._backpressure?id(this):U(this),yc(this);else if(me==="erroring")k(this,Q._storedError),yc(this);else if(me==="closed")U(this),yc($e=this),Yg($e);else{const Ve=Q._storedError;k(this,Ve),nd(this,Ve)}var $e}get closed(){return ol(this)?this._closedPromise:g(al("closed"))}get desiredSize(){if(!ol(this))throw al("desiredSize");if(this._ownerWritableStream===void 0)throw Ba("desiredSize");return function(Q){const me=Q._ownerWritableStream,$e=me._state;return $e==="errored"||$e==="erroring"?null:$e==="closed"?0:Qh(me._writableStreamController)}(this)}get ready(){return ol(this)?this._readyPromise:g(al("ready"))}abort(Q=void 0){return ol(this)?this._ownerWritableStream===void 0?g(Ba("abort")):function(me,$e){return Kf(me._ownerWritableStream,$e)}(this,Q):g(al("abort"))}close(){if(!ol(this))return g(al("close"));const Q=this._ownerWritableStream;return Q===void 0?g(Ba("close")):Mo(Q)?g(new TypeError("Cannot close an already-closing stream")):Zf(this)}releaseLock(){if(!ol(this))throw al("releaseLock");this._ownerWritableStream!==void 0&&Gg(this)}write(Q=void 0){return ol(this)?this._ownerWritableStream===void 0?g(Ba("write to")):Kg(this,Q):g(al("write"))}}function ol(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_ownerWritableStream")&&z instanceof Fa}function Zf(z){return Kl(z._ownerWritableStream)}function KE(z,Q){z._closedPromiseState==="pending"?ep(z,Q):function(me,$e){nd(me,$e)}(z,Q)}function Wg(z,Q){z._readyPromiseState==="pending"?te(z,Q):function(me,$e){k(me,$e)}(z,Q)}function Gg(z){const Q=z._ownerWritableStream,me=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Wg(z,me),KE(z,me),Q._writer=void 0,z._ownerWritableStream=void 0}function Kg(z,Q){const me=z._ownerWritableStream,$e=me._writableStreamController,Ve=function(Ge,Xe){if(Ge._strategySizeAlgorithm===void 0)return 1;try{return Ge._strategySizeAlgorithm(Xe)}catch(pt){return Ql(Ge,pt),1}}($e,Q);if(me!==z._ownerWritableStream)return g(Ba("write to"));const qe=me._state;if(qe==="errored")return g(me._storedError);if(Mo(me)||qe==="closed")return g(new TypeError("The stream is closing or closed and cannot be written to"));if(qe==="erroring")return g(me._storedError);const Je=function(Ge){return p((Xe,pt)=>{const gt={_resolve:Xe,_reject:pt};Ge._writeRequests.push(gt)})}(me);return function(Ge,Xe,pt){try{cn(Ge,Xe,pt)}catch(Lt){return void Ql(Ge,Lt)}const gt=Ge._controlledWritableStream;!Mo(gt)&&gt._state==="writable"&&Qf(gt,ed(Ge)),Xl(Ge)}($e,Q,Ve),Je}Object.defineProperties(Fa.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),a(Fa.prototype.abort,"abort"),a(Fa.prototype.close,"close"),a(Fa.prototype.releaseLock,"releaseLock"),a(Fa.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Fa.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Jg={};class Jl{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Yh(this))throw Zh("abortReason");return this._abortReason}get signal(){if(!Yh(this))throw Zh("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(Q=void 0){if(!Yh(this))throw Zh("error");this._controlledWritableStream._state==="writable"&&td(this,Q)}[x](Q){const me=this._abortAlgorithm(Q);return Yl(this),me}[P](){Vt(this)}}function Yh(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledWritableStream")&&z instanceof Jl}function Xh(z,Q,me,$e,Ve,qe,Je,Ge){Q._controlledWritableStream=z,z._writableStreamController=Q,Q._queue=void 0,Q._queueTotalSize=void 0,Vt(Q),Q._abortReason=void 0,Q._abortController=function(){if(typeof AbortController=="function")return new AbortController}(),Q._started=!1,Q._strategySizeAlgorithm=Ge,Q._strategyHWM=Je,Q._writeAlgorithm=$e,Q._closeAlgorithm=Ve,Q._abortAlgorithm=qe;const Xe=ed(Q);Qf(z,Xe),v(m(me()),()=>(Q._started=!0,Xl(Q),null),pt=>(Q._started=!0,Jf(z,pt),null))}function Yl(z){z._writeAlgorithm=void 0,z._closeAlgorithm=void 0,z._abortAlgorithm=void 0,z._strategySizeAlgorithm=void 0}function Qh(z){return z._strategyHWM-z._queueTotalSize}function Xl(z){const Q=z._controlledWritableStream;if(!z._started||Q._inFlightWriteRequest!==void 0)return;if(Q._state==="erroring")return void Yf(Q);if(z._queue.length===0)return;const me=z._queue.peek().value;me===Jg?function($e){const Ve=$e._controlledWritableStream;(function(Je){Je._inFlightCloseRequest=Je._closeRequest,Je._closeRequest=void 0})(Ve),mr($e);const qe=$e._closeAlgorithm();Yl($e),v(qe,()=>(function(Je){Je._inFlightCloseRequest._resolve(void 0),Je._inFlightCloseRequest=void 0,Je._state==="erroring"&&(Je._storedError=void 0,Je._pendingAbortRequest!==void 0&&(Je._pendingAbortRequest._resolve(),Je._pendingAbortRequest=void 0)),Je._state="closed";const Ge=Je._writer;Ge!==void 0&&Yg(Ge)}(Ve),null),Je=>(function(Ge,Xe){Ge._inFlightCloseRequest._reject(Xe),Ge._inFlightCloseRequest=void 0,Ge._pendingAbortRequest!==void 0&&(Ge._pendingAbortRequest._reject(Xe),Ge._pendingAbortRequest=void 0),Jf(Ge,Xe)}(Ve,Je),null))}(z):function($e,Ve){const qe=$e._controlledWritableStream;(function(Ge){Ge._inFlightWriteRequest=Ge._writeRequests.shift()})(qe);const Je=$e._writeAlgorithm(Ve);v(Je,()=>{(function(Xe){Xe._inFlightWriteRequest._resolve(void 0),Xe._inFlightWriteRequest=void 0})(qe);const Ge=qe._state;if(mr($e),!Mo(qe)&&Ge==="writable"){const Xe=ed($e);Qf(qe,Xe)}return Xl($e),null},Ge=>(qe._state==="writable"&&Yl($e),function(Xe,pt){Xe._inFlightWriteRequest._reject(pt),Xe._inFlightWriteRequest=void 0,Jf(Xe,pt)}(qe,Ge),null))}(z,me)}function Ql(z,Q){z._controlledWritableStream._state==="writable"&&td(z,Q)}function ed(z){return Qh(z)<=0}function td(z,Q){const me=z._controlledWritableStream;Yl(z),vc(me,Q)}function rd(z){return new TypeError(`WritableStream.prototype.${z} can only be used on a WritableStream`)}function Zh(z){return new TypeError(`WritableStreamDefaultController.prototype.${z} can only be used on a WritableStreamDefaultController`)}function al(z){return new TypeError(`WritableStreamDefaultWriter.prototype.${z} can only be used on a WritableStreamDefaultWriter`)}function Ba(z){return new TypeError("Cannot "+z+" a stream using a released writer")}function yc(z){z._closedPromise=p((Q,me)=>{z._closedPromise_resolve=Q,z._closedPromise_reject=me,z._closedPromiseState="pending"})}function nd(z,Q){yc(z),ep(z,Q)}function ep(z,Q){z._closedPromise_reject!==void 0&&(S(z._closedPromise),z._closedPromise_reject(Q),z._closedPromise_resolve=void 0,z._closedPromise_reject=void 0,z._closedPromiseState="rejected")}function Yg(z){z._closedPromise_resolve!==void 0&&(z._closedPromise_resolve(void 0),z._closedPromise_resolve=void 0,z._closedPromise_reject=void 0,z._closedPromiseState="resolved")}function id(z){z._readyPromise=p((Q,me)=>{z._readyPromise_resolve=Q,z._readyPromise_reject=me}),z._readyPromiseState="pending"}function k(z,Q){id(z),te(z,Q)}function U(z){id(z),se(z)}function te(z,Q){z._readyPromise_reject!==void 0&&(S(z._readyPromise),z._readyPromise_reject(Q),z._readyPromise_resolve=void 0,z._readyPromise_reject=void 0,z._readyPromiseState="rejected")}function se(z){z._readyPromise_resolve!==void 0&&(z._readyPromise_resolve(void 0),z._readyPromise_resolve=void 0,z._readyPromise_reject=void 0,z._readyPromiseState="fulfilled")}Object.defineProperties(Jl.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Jl.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const pe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0,ge=function(){const z=pe==null?void 0:pe.DOMException;return function(Q){if(typeof Q!="function"&&typeof Q!="object"||Q.name!=="DOMException")return!1;try{return new Q,!0}catch{return!1}}(z)?z:void 0}()||function(){const z=function(Q,me){this.message=Q||"",this.name=me||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return a(z,"DOMException"),z.prototype=Object.create(Error.prototype),Object.defineProperty(z.prototype,"constructor",{value:z,writable:!0,configurable:!0}),z}();function _e(z,Q,me,$e,Ve,qe){const Je=C(z),Ge=Hg(Q);z._disturbed=!0;let Xe=!1,pt=m(void 0);return p((gt,Lt)=>{let _t;if(qe!==void 0){if(_t=()=>{const tr=qe.reason!==void 0?qe.reason:new ge("Aborted","AbortError"),mn=[];$e||mn.push(()=>Q._state==="writable"?Kf(Q,tr):m(void 0)),Ve||mn.push(()=>z._state==="readable"?$n(z,tr):m(void 0)),on(()=>Promise.all(mn.map(Ir=>Ir())),!0,tr)},qe.aborted)return void _t();qe.addEventListener("abort",_t)}var Ut,Sr,Rr;if(Vr(z,Je._closedPromise,tr=>($e?xr(!0,tr):on(()=>Kf(Q,tr),!0,tr),null)),Vr(Q,Ge._closedPromise,tr=>(Ve?xr(!0,tr):on(()=>$n(z,tr),!0,tr),null)),Ut=z,Sr=Je._closedPromise,Rr=()=>(me?xr():on(()=>function(tr){const mn=tr._ownerWritableStream,Ir=mn._state;return Mo(mn)||Ir==="closed"?m(void 0):Ir==="errored"?g(mn._storedError):Zf(tr)}(Ge)),null),Ut._state==="closed"?Rr():h(Sr,Rr),Mo(Q)||Q._state==="closed"){const tr=new TypeError("the destination writable stream closed before all data could be piped to it");Ve?xr(!0,tr):on(()=>$n(z,tr),!0,tr)}function Cn(){const tr=pt;return _(pt,()=>tr!==pt?Cn():void 0)}function Vr(tr,mn,Ir){tr._state==="errored"?Ir(tr._storedError):E(mn,Ir)}function on(tr,mn,Ir){function Nr(){return v(tr(),()=>Ri(mn,Ir),rr=>Ri(!0,rr)),null}Xe||(Xe=!0,Q._state!=="writable"||Mo(Q)?Nr():h(Cn(),Nr))}function xr(tr,mn){Xe||(Xe=!0,Q._state!=="writable"||Mo(Q)?Ri(tr,mn):h(Cn(),()=>Ri(tr,mn)))}function Ri(tr,mn){return Gg(Ge),Z(Je),qe!==void 0&&qe.removeEventListener("abort",_t),tr?Lt(mn):gt(void 0),null}S(p((tr,mn)=>{(function Ir(Nr){Nr?tr():_(Xe?m(!0):_(Ge._readyPromise,()=>p((rr,an)=>{Ne(Je,{_chunkSteps:ur=>{pt=_(Kg(Ge,ur),void 0,n),rr(!1)},_closeSteps:()=>rr(!0),_errorSteps:an})})),Ir,mn)})(!1)}))})}class Fe{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Me(this))throw En("desiredSize");return gr(this)}close(){if(!Me(this))throw En("close");if(!Xt(this))throw new TypeError("The stream is not in a state that permits close");Qe(this)}enqueue(Q=void 0){if(!Me(this))throw En("enqueue");if(!Xt(this))throw new TypeError("The stream is not in a state that permits enqueue");return bt(this,Q)}error(Q=void 0){if(!Me(this))throw En("error");Ht(this,Q)}[j](Q){Vt(this);const me=this._cancelAlgorithm(Q);return lt(this),me}[F](Q){const me=this._controlledReadableStream;if(this._queue.length>0){const $e=mr(this);this._closeRequested&&this._queue.length===0?(lt(this),ll(me)):Ke(this),Q._chunkSteps($e)}else D(me,Q),Ke(this)}[V](){}}function Me(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledReadableStream")&&z instanceof Fe}function Ke(z){if(rt(z)){if(z._pulling)return void(z._pullAgain=!0);z._pulling=!0,v(z._pullAlgorithm(),()=>(z._pulling=!1,z._pullAgain&&(z._pullAgain=!1,Ke(z)),null),Q=>(Ht(z,Q),null))}}function rt(z){const Q=z._controlledReadableStream;return!Xt(z)||!z._started?!1:gi(Q)&&ie(Q)>0?!0:gr(z)>0}function lt(z){z._pullAlgorithm=void 0,z._cancelAlgorithm=void 0,z._strategySizeAlgorithm=void 0}function Qe(z){if(!Xt(z))return;const Q=z._controlledReadableStream;z._closeRequested=!0,z._queue.length===0&&(lt(z),ll(Q))}function bt(z,Q){if(!Xt(z))return;const me=z._controlledReadableStream;if(gi(me)&&ie(me)>0)G(me,Q,!1);else{let $e;try{$e=z._strategySizeAlgorithm(Q)}catch(Ve){throw Ht(z,Ve),Ve}try{cn(z,Q,$e)}catch(Ve){throw Ht(z,Ve),Ve}}Ke(z)}function Ht(z,Q){const me=z._controlledReadableStream;me._state==="readable"&&(Vt(z),lt(z),la(me,Q))}function gr(z){const Q=z._controlledReadableStream._state;return Q==="errored"?null:Q==="closed"?0:z._strategyHWM-z._queueTotalSize}function Xt(z){const Q=z._controlledReadableStream._state;return!z._closeRequested&&Q==="readable"}function Wn(z,Q,me,$e,Ve,qe,Je){Q._controlledReadableStream=z,Q._queue=void 0,Q._queueTotalSize=void 0,Vt(Q),Q._started=!1,Q._closeRequested=!1,Q._pullAgain=!1,Q._pulling=!1,Q._strategySizeAlgorithm=Je,Q._strategyHWM=qe,Q._pullAlgorithm=$e,Q._cancelAlgorithm=Ve,z._readableStreamController=Q,v(m(me()),()=>(Q._started=!0,Ke(Q),null),Ge=>(Ht(Q,Ge),null))}function En(z){return new TypeError(`ReadableStreamDefaultController.prototype.${z} can only be used on a ReadableStreamDefaultController`)}function aa(z,Q){return Ie(z._readableStreamController)?function(me){let $e,Ve,qe,Je,Ge,Xe=C(me),pt=!1,gt=!1,Lt=!1,_t=!1,Ut=!1;const Sr=p(Ir=>{Ge=Ir});function Rr(Ir){E(Ir._closedPromise,Nr=>(Ir!==Xe||(Dt(qe._readableStreamController,Nr),Dt(Je._readableStreamController,Nr),_t&&Ut||Ge(void 0)),null))}function Cn(){_n(Xe)&&(Z(Xe),Xe=C(me),Rr(Xe)),Ne(Xe,{_chunkSteps:Ir=>{$(()=>{gt=!1,Lt=!1;const Nr=Ir;let rr=Ir;if(!_t&&!Ut)try{rr=ir(Ir)}catch(an){return Dt(qe._readableStreamController,an),Dt(Je._readableStreamController,an),void Ge($n(me,an))}_t||Tt(qe._readableStreamController,Nr),Ut||Tt(Je._readableStreamController,rr),pt=!1,gt?on():Lt&&xr()})},_closeSteps:()=>{pt=!1,_t||wt(qe._readableStreamController),Ut||wt(Je._readableStreamController),qe._readableStreamController._pendingPullIntos.length>0&&kr(qe._readableStreamController,0),Je._readableStreamController._pendingPullIntos.length>0&&kr(Je._readableStreamController,0),_t&&Ut||Ge(void 0)},_errorSteps:()=>{pt=!1}})}function Vr(Ir,Nr){ve(Xe)&&(Z(Xe),Xe=pn(me),Rr(Xe));const rr=Nr?Je:qe,an=Nr?qe:Je;pi(Xe,Ir,1,{_chunkSteps:ur=>{$(()=>{gt=!1,Lt=!1;const fn=Nr?Ut:_t;if(Nr?_t:Ut)fn||Fn(rr._readableStreamController,ur);else{let ho;try{ho=ir(ur)}catch(yi){return Dt(rr._readableStreamController,yi),Dt(an._readableStreamController,yi),void Ge($n(me,yi))}fn||Fn(rr._readableStreamController,ur),Tt(an._readableStreamController,ho)}pt=!1,gt?on():Lt&&xr()})},_closeSteps:ur=>{pt=!1;const fn=Nr?Ut:_t,ho=Nr?_t:Ut;fn||wt(rr._readableStreamController),ho||wt(an._readableStreamController),ur!==void 0&&(fn||Fn(rr._readableStreamController,ur),!ho&&an._readableStreamController._pendingPullIntos.length>0&&kr(an._readableStreamController,0)),fn&&ho||Ge(void 0)},_errorSteps:()=>{pt=!1}})}function on(){if(pt)return gt=!0,m(void 0);pt=!0;const Ir=Kr(qe._readableStreamController);return Ir===null?Cn():Vr(Ir._view,!1),m(void 0)}function xr(){if(pt)return Lt=!0,m(void 0);pt=!0;const Ir=Kr(Je._readableStreamController);return Ir===null?Cn():Vr(Ir._view,!0),m(void 0)}function Ri(Ir){if(_t=!0,$e=Ir,Ut){const Nr=W([$e,Ve]),rr=$n(me,Nr);Ge(rr)}return Sr}function tr(Ir){if(Ut=!0,Ve=Ir,_t){const Nr=W([$e,Ve]),rr=$n(me,Nr);Ge(rr)}return Sr}function mn(){}return qe=eu(mn,on,Ri),Je=eu(mn,xr,tr),Rr(Xe),[qe,Je]}(z):function(me,$e){const Ve=C(me);let qe,Je,Ge,Xe,pt,gt=!1,Lt=!1,_t=!1,Ut=!1;const Sr=p(xr=>{pt=xr});function Rr(){return gt?(Lt=!0,m(void 0)):(gt=!0,Ne(Ve,{_chunkSteps:xr=>{$(()=>{Lt=!1;const Ri=xr,tr=xr;_t||bt(Ge._readableStreamController,Ri),Ut||bt(Xe._readableStreamController,tr),gt=!1,Lt&&Rr()})},_closeSteps:()=>{gt=!1,_t||Qe(Ge._readableStreamController),Ut||Qe(Xe._readableStreamController),_t&&Ut||pt(void 0)},_errorSteps:()=>{gt=!1}}),m(void 0))}function Cn(xr){if(_t=!0,qe=xr,Ut){const Ri=W([qe,Je]),tr=$n(me,Ri);pt(tr)}return Sr}function Vr(xr){if(Ut=!0,Je=xr,_t){const Ri=W([qe,Je]),tr=$n(me,Ri);pt(tr)}return Sr}function on(){}return Ge=Oi(on,Rr,Cn),Xe=Oi(on,Rr,Vr),E(Ve._closedPromise,xr=>(Ht(Ge._readableStreamController,xr),Ht(Xe._readableStreamController,xr),_t&&Ut||pt(void 0),null)),[Ge,Xe]}(z)}function sa(z){return i(Q=z)&&Q.getReader!==void 0?function(me){let $e;function Ve(){let Je;try{Je=me.read()}catch(Ge){return g(Ge)}return y(Je,Ge=>{if(!i(Ge))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(Ge.done)Qe($e._readableStreamController);else{const Xe=Ge.value;bt($e._readableStreamController,Xe)}})}function qe(Je){try{return m(me.cancel(Je))}catch(Ge){return g(Ge)}}return $e=Oi(n,Ve,qe,0),$e}(z.getReader()):function(me){let $e;const Ve=Le(me,"async");function qe(){let Ge;try{Ge=ft(Ve)}catch(Xe){return g(Xe)}return y(m(Ge),Xe=>{if(!i(Xe))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(Xe.done)Qe($e._readableStreamController);else{const pt=Xe.value;bt($e._readableStreamController,pt)}})}function Je(Ge){const Xe=Ve.iterator;let pt;try{pt=Ee(Xe,"return")}catch(gt){return g(gt)}return pt===void 0?m(void 0):y(d(pt,Xe,[Ge]),gt=>{if(!i(gt))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return $e=Oi(n,qe,Je,0),$e}(z);var Q}function vr(z,Q,me){return q(z,me),$e=>d(z,Q,[$e])}function sl(z,Q,me){return q(z,me),$e=>d(z,Q,[$e])}function Ar(z,Q,me){return q(z,me),$e=>T(z,Q,[$e])}function Sn(z,Q){if((z=`${z}`)!="bytes")throw new TypeError(`${Q} '${z}' is not a valid enumeration value for ReadableStreamType`);return z}function Zl(z,Q){N(z,Q);const me=z==null?void 0:z.preventAbort,$e=z==null?void 0:z.preventCancel,Ve=z==null?void 0:z.preventClose,qe=z==null?void 0:z.signal;return qe!==void 0&&function(Je,Ge){if(!function(Xe){if(typeof Xe!="object"||Xe===null)return!1;try{return typeof Xe.aborted=="boolean"}catch{return!1}}(Je))throw new TypeError(`${Ge} is not an AbortSignal.`)}(qe,`${Q} has member 'signal' that`),{preventAbort:!!me,preventCancel:!!$e,preventClose:!!Ve,signal:qe}}Object.defineProperties(Fe.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),a(Fe.prototype.close,"close"),a(Fe.prototype.enqueue,"enqueue"),a(Fe.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Fe.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class Gn{constructor(Q={},me={}){Q===void 0?Q=null:ne(Q,"First parameter");const $e=il(me,"Second parameter"),Ve=function(qe,Je){N(qe,Je);const Ge=qe,Xe=Ge==null?void 0:Ge.autoAllocateChunkSize,pt=Ge==null?void 0:Ge.cancel,gt=Ge==null?void 0:Ge.pull,Lt=Ge==null?void 0:Ge.start,_t=Ge==null?void 0:Ge.type;return{autoAllocateChunkSize:Xe===void 0?void 0:Oe(Xe,`${Je} has member 'autoAllocateChunkSize' that`),cancel:pt===void 0?void 0:vr(pt,Ge,`${Je} has member 'cancel' that`),pull:gt===void 0?void 0:sl(gt,Ge,`${Je} has member 'pull' that`),start:Lt===void 0?void 0:Ar(Lt,Ge,`${Je} has member 'start' that`),type:_t===void 0?void 0:Sn(_t,`${Je} has member 'type' that`)}}(Q,"First parameter");if(co(this),Ve.type==="bytes"){if($e.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");(function(qe,Je,Ge){const Xe=Object.create(Se.prototype);let pt,gt,Lt;pt=Je.start!==void 0?()=>Je.start(Xe):()=>{},gt=Je.pull!==void 0?()=>Je.pull(Xe):()=>m(void 0),Lt=Je.cancel!==void 0?Ut=>Je.cancel(Ut):()=>m(void 0);const _t=Je.autoAllocateChunkSize;if(_t===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Hn(qe,Xe,pt,gt,Lt,Ge,_t)})(this,Ve,Bn($e,0))}else{const qe=gc($e);(function(Je,Ge,Xe,pt){const gt=Object.create(Fe.prototype);let Lt,_t,Ut;Lt=Ge.start!==void 0?()=>Ge.start(gt):()=>{},_t=Ge.pull!==void 0?()=>Ge.pull(gt):()=>m(void 0),Ut=Ge.cancel!==void 0?Sr=>Ge.cancel(Sr):()=>m(void 0),Wn(Je,gt,Lt,_t,Ut,Xe,pt)})(this,Ve,Bn($e,1),qe)}}get locked(){if(!mi(this))throw vi("locked");return gi(this)}cancel(Q=void 0){return mi(this)?gi(this)?g(new TypeError("Cannot cancel a stream that already has a reader")):$n(this,Q):g(vi("cancel"))}getReader(Q=void 0){if(!mi(this))throw vi("getReader");return function(me,$e){N(me,$e);const Ve=me==null?void 0:me.mode;return{mode:Ve===void 0?void 0:Qn(Ve,`${$e} has member 'mode' that`)}}(Q,"First parameter").mode===void 0?C(this):pn(this)}pipeThrough(Q,me={}){if(!mi(this))throw vi("pipeThrough");J(Q,1,"pipeThrough");const $e=function(qe,Je){N(qe,Je);const Ge=qe==null?void 0:qe.readable;Y(Ge,"readable","ReadableWritablePair"),R(Ge,`${Je} has member 'readable' that`);const Xe=qe==null?void 0:qe.writable;return Y(Xe,"writable","ReadableWritablePair"),Gl(Xe,`${Je} has member 'writable' that`),{readable:Ge,writable:Xe}}(Q,"First parameter"),Ve=Zl(me,"Second parameter");if(gi(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(bs($e.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return S(_e(this,$e.writable,Ve.preventClose,Ve.preventAbort,Ve.preventCancel,Ve.signal)),$e.readable}pipeTo(Q,me={}){if(!mi(this))return g(vi("pipeTo"));if(Q===void 0)return g("Parameter 1 is required in 'pipeTo'.");if(!uo(Q))return g(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let $e;try{$e=Zl(me,"Second parameter")}catch(Ve){return g(Ve)}return gi(this)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):bs(Q)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):_e(this,Q,$e.preventClose,$e.preventAbort,$e.preventCancel,$e.signal)}tee(){if(!mi(this))throw vi("tee");return W(aa(this))}values(Q=void 0){if(!mi(this))throw vi("values");return function(me,$e){const Ve=C(me),qe=new yt(Ve,$e),Je=Object.create(st);return Je._asyncIteratorImpl=qe,Je}(this,function(me,$e){return N(me,$e),{preventCancel:!!(me==null?void 0:me.preventCancel)}}(Q,"First parameter").preventCancel)}[Re](Q){return this.values(Q)}static from(Q){return sa(Q)}}function Oi(z,Q,me,$e=1,Ve=()=>1){const qe=Object.create(Gn.prototype);return co(qe),Wn(qe,Object.create(Fe.prototype),z,Q,me,$e,Ve),qe}function eu(z,Q,me){const $e=Object.create(Gn.prototype);return co($e),Hn($e,Object.create(Se.prototype),z,Q,me,0,void 0),$e}function co(z){z._state="readable",z._reader=void 0,z._storedError=void 0,z._disturbed=!1}function mi(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_readableStreamController")&&z instanceof Gn}function gi(z){return z._reader!==void 0}function $n(z,Q){if(z._disturbed=!0,z._state==="closed")return m(void 0);if(z._state==="errored")return g(z._storedError);ll(z);const me=z._reader;if(me!==void 0&&_n(me)){const $e=me._readIntoRequests;me._readIntoRequests=new A,$e.forEach(Ve=>{Ve._closeSteps(void 0)})}return y(z._readableStreamController[j](Q),n)}function ll(z){z._state="closed";const Q=z._reader;if(Q!==void 0&&(B(Q),ve(Q))){const me=Q._readRequests;Q._readRequests=new A,me.forEach($e=>{$e._closeSteps()})}}function la(z,Q){z._state="errored",z._storedError=Q;const me=z._reader;me!==void 0&&(M(me,Q),ve(me)?Be(me,Q):vs(me,Q))}function vi(z){return new TypeError(`ReadableStream.prototype.${z} can only be used on a ReadableStream`)}function Xg(z,Q){N(z,Q);const me=z==null?void 0:z.highWaterMark;return Y(me,"highWaterMark","QueuingStrategyInit"),{highWaterMark:oe(me)}}Object.defineProperties(Gn,{from:{enumerable:!0}}),Object.defineProperties(Gn.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),a(Gn.from,"from"),a(Gn.prototype.cancel,"cancel"),a(Gn.prototype.getReader,"getReader"),a(Gn.prototype.pipeThrough,"pipeThrough"),a(Gn.prototype.pipeTo,"pipeTo"),a(Gn.prototype.tee,"tee"),a(Gn.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Gn.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(Gn.prototype,Re,{value:Gn.prototype.values,writable:!0,configurable:!0});const Qg=z=>z.byteLength;a(Qg,"size");class od{constructor(Q){J(Q,1,"ByteLengthQueuingStrategy"),Q=Xg(Q,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=Q.highWaterMark}get highWaterMark(){if(!wc(this))throw Mr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!wc(this))throw Mr("size");return Qg}}function Mr(z){return new TypeError(`ByteLengthQueuingStrategy.prototype.${z} can only be used on a ByteLengthQueuingStrategy`)}function wc(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_byteLengthQueuingStrategyHighWaterMark")&&z instanceof od}Object.defineProperties(od.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(od.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const fo=()=>1;a(fo,"size");class Ua{constructor(Q){J(Q,1,"CountQueuingStrategy"),Q=Xg(Q,"First parameter"),this._countQueuingStrategyHighWaterMark=Q.highWaterMark}get highWaterMark(){if(!ev(this))throw Zg("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!ev(this))throw Zg("size");return fo}}function Zg(z){return new TypeError(`CountQueuingStrategy.prototype.${z} can only be used on a CountQueuingStrategy`)}function ev(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_countQueuingStrategyHighWaterMark")&&z instanceof Ua}function tv(z,Q,me){return q(z,me),$e=>d(z,Q,[$e])}function ul(z,Q,me){return q(z,me),$e=>T(z,Q,[$e])}function tp(z,Q,me){return q(z,me),($e,Ve)=>d(z,Q,[$e,Ve])}function _s(z,Q,me){return q(z,me),$e=>d(z,Q,[$e])}Object.defineProperties(Ua.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ua.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class bc{constructor(Q={},me={},$e={}){Q===void 0&&(Q=null);const Ve=il(me,"Second parameter"),qe=il($e,"Third parameter"),Je=function(_t,Ut){N(_t,Ut);const Sr=_t==null?void 0:_t.cancel,Rr=_t==null?void 0:_t.flush,Cn=_t==null?void 0:_t.readableType,Vr=_t==null?void 0:_t.start,on=_t==null?void 0:_t.transform,xr=_t==null?void 0:_t.writableType;return{cancel:Sr===void 0?void 0:_s(Sr,_t,`${Ut} has member 'cancel' that`),flush:Rr===void 0?void 0:tv(Rr,_t,`${Ut} has member 'flush' that`),readableType:Cn,start:Vr===void 0?void 0:ul(Vr,_t,`${Ut} has member 'start' that`),transform:on===void 0?void 0:tp(on,_t,`${Ut} has member 'transform' that`),writableType:xr}}(Q,"First parameter");if(Je.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Je.writableType!==void 0)throw new RangeError("Invalid writableType specified");const Ge=Bn(qe,0),Xe=gc(qe),pt=Bn(Ve,1),gt=gc(Ve);let Lt;(function(_t,Ut,Sr,Rr,Cn,Vr){function on(){return Ut}function xr(Nr){return function(rr,an){const ur=rr._transformStreamController;return rr._backpressure?y(rr._backpressureChangePromise,()=>{const fn=rr._writable;if(fn._state==="erroring")throw fn._storedError;return sd(ur,an)}):sd(ur,an)}(_t,Nr)}function Ri(Nr){return function(rr,an){const ur=rr._transformStreamController;if(ur._finishPromise!==void 0)return ur._finishPromise;const fn=rr._readable;ur._finishPromise=p((yi,JE)=>{ur._finishPromise_resolve=yi,ur._finishPromise_reject=JE});const ho=ur._cancelAlgorithm(an);return iu(ur),v(ho,()=>(fn._state==="errored"?He(ur,fn._storedError):(Ht(fn._readableStreamController,an),ke(ur)),null),yi=>(Ht(fn._readableStreamController,yi),He(ur,yi),null)),ur._finishPromise}(_t,Nr)}function tr(){return function(Nr){const rr=Nr._transformStreamController;if(rr._finishPromise!==void 0)return rr._finishPromise;const an=Nr._readable;rr._finishPromise=p((fn,ho)=>{rr._finishPromise_resolve=fn,rr._finishPromise_reject=ho});const ur=rr._flushAlgorithm();return iu(rr),v(ur,()=>(an._state==="errored"?He(rr,an._storedError):(Qe(an._readableStreamController),ke(rr)),null),fn=>(Ht(an._readableStreamController,fn),He(rr,fn),null)),rr._finishPromise}(_t)}function mn(){return function(Nr){return ad(Nr,!1),Nr._backpressureChangePromise}(_t)}function Ir(Nr){return function(rr,an){const ur=rr._transformStreamController;if(ur._finishPromise!==void 0)return ur._finishPromise;const fn=rr._writable;ur._finishPromise=p((yi,JE)=>{ur._finishPromise_resolve=yi,ur._finishPromise_reject=JE});const ho=ur._cancelAlgorithm(an);return iu(ur),v(ho,()=>(fn._state==="errored"?He(ur,fn._storedError):(Ql(fn._writableStreamController,an),Ec(rr),ke(ur)),null),yi=>(Ql(fn._writableStreamController,yi),Ec(rr),He(ur,yi),null)),ur._finishPromise}(_t,Nr)}_t._writable=function(Nr,rr,an,ur,fn=1,ho=()=>1){const yi=Object.create(ys.prototype);return ws(yi),Xh(yi,Object.create(Jl.prototype),Nr,rr,an,ur,fn,ho),yi}(on,xr,tr,Ri,Sr,Rr),_t._readable=Oi(on,mn,Ir,Cn,Vr),_t._backpressure=void 0,_t._backpressureChangePromise=void 0,_t._backpressureChangePromise_resolve=void 0,ad(_t,!0),_t._transformStreamController=void 0})(this,p(_t=>{Lt=_t}),pt,gt,Ge,Xe),function(_t,Ut){const Sr=Object.create(Lo.prototype);let Rr,Cn,Vr;Rr=Ut.transform!==void 0?on=>Ut.transform(on,Sr):on=>{try{return rv(Sr,on),m(void 0)}catch(xr){return g(xr)}},Cn=Ut.flush!==void 0?()=>Ut.flush(Sr):()=>m(void 0),Vr=Ut.cancel!==void 0?on=>Ut.cancel(on):()=>m(void 0),function(on,xr,Ri,tr,mn){xr._controlledTransformStream=on,on._transformStreamController=xr,xr._transformAlgorithm=Ri,xr._flushAlgorithm=tr,xr._cancelAlgorithm=mn,xr._finishPromise=void 0,xr._finishPromise_resolve=void 0,xr._finishPromise_reject=void 0}(_t,Sr,Rr,Cn,Vr)}(this,Je),Je.start!==void 0?Lt(Je.start(this._transformStreamController)):Lt(void 0)}get readable(){if(!tu(this))throw Ze("readable");return this._readable}get writable(){if(!tu(this))throw Ze("writable");return this._writable}}function tu(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_transformStreamController")&&z instanceof bc}function _c(z,Q){Ht(z._readable._readableStreamController,Q),ru(z,Q)}function ru(z,Q){iu(z._transformStreamController),Ql(z._writable._writableStreamController,Q),Ec(z)}function Ec(z){z._backpressure&&ad(z,!1)}function ad(z,Q){z._backpressureChangePromise!==void 0&&z._backpressureChangePromise_resolve(),z._backpressureChangePromise=p(me=>{z._backpressureChangePromise_resolve=me}),z._backpressure=Q}Object.defineProperties(bc.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(bc.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class Lo{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!nu(this))throw Sc("desiredSize");return gr(this._controlledTransformStream._readable._readableStreamController)}enqueue(Q=void 0){if(!nu(this))throw Sc("enqueue");rv(this,Q)}error(Q=void 0){if(!nu(this))throw Sc("error");var me;me=Q,_c(this._controlledTransformStream,me)}terminate(){if(!nu(this))throw Sc("terminate");(function(Q){const me=Q._controlledTransformStream;Qe(me._readable._readableStreamController);const $e=new TypeError("TransformStream terminated");ru(me,$e)})(this)}}function nu(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledTransformStream")&&z instanceof Lo}function iu(z){z._transformAlgorithm=void 0,z._flushAlgorithm=void 0,z._cancelAlgorithm=void 0}function rv(z,Q){const me=z._controlledTransformStream,$e=me._readable._readableStreamController;if(!Xt($e))throw new TypeError("Readable side is not in a state that permits enqueue");try{bt($e,Q)}catch(qe){throw ru(me,qe),me._readable._storedError}(function(qe){return!rt(qe)})($e)!==me._backpressure&&ad(me,!0)}function sd(z,Q){return y(z._transformAlgorithm(Q),void 0,me=>{throw _c(z._controlledTransformStream,me),me})}function Sc(z){return new TypeError(`TransformStreamDefaultController.prototype.${z} can only be used on a TransformStreamDefaultController`)}function ke(z){z._finishPromise_resolve!==void 0&&(z._finishPromise_resolve(),z._finishPromise_resolve=void 0,z._finishPromise_reject=void 0)}function He(z,Q){z._finishPromise_reject!==void 0&&(S(z._finishPromise),z._finishPromise_reject(Q),z._finishPromise_resolve=void 0,z._finishPromise_reject=void 0)}function Ze(z){return new TypeError(`TransformStream.prototype.${z} can only be used on a TransformStream`)}Object.defineProperties(Lo.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),a(Lo.prototype.enqueue,"enqueue"),a(Lo.prototype.error,"error"),a(Lo.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Lo.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),r.ByteLengthQueuingStrategy=od,r.CountQueuingStrategy=Ua,r.ReadableByteStreamController=Se,r.ReadableStream=Gn,r.ReadableStreamBYOBReader=jr,r.ReadableStreamBYOBRequest=At,r.ReadableStreamDefaultController=Fe,r.ReadableStreamDefaultReader=de,r.TransformStream=bc,r.TransformStreamDefaultController=Lo,r.WritableStream=ys,r.WritableStreamDefaultController=Jl,r.WritableStreamDefaultWriter=Fa})}}),GR=Pe({"../core/dist/protocol-helpers.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=(ja(),Pr(ea)),r=WR(),n=No(),{debug:i,warn:o}=(0,n.createLoggers)("core","protocol-helpers");function a(c){return class extends c{set nodeStream(p){this._nodeStream=p}get nodeStream(){if(!this._nodeStream)throw new Error("ManagedStream not correctly initialized nodeStream is undefined");return this._nodeStream}set wotStream(p){this._wotStream=p}get wotStream(){if(!this._wotStream)throw new Error("ManagedStream not correctly initialized wotStream is undefined");return this._wotStream}}}var s=a(t.Readable),l=a(r.ReadableStream);function u(c){return c instanceof l||c instanceof s}var f=class{static updatePropertyFormWithTemplate(c,p){for(const m of p.forms??[])if(m.href,m.contentType!=null){c.contentType=m.contentType;return}}static updateActionFormWithTemplate(c,p){for(const m of p.forms??[])if(m.href,m.contentType!=null){c.contentType=m.contentType;return}}static updateEventFormWithTemplate(c,p){for(const m of p.forms??[])if(m.href,m.contentType!=null){c.contentType=m.contentType;return}}static getPropertyContentType(c,p,m){var g;if(p!=null&&m!=null&&(c==null?void 0:c.properties)!=null&&c.properties[p]!=null&&c.properties[p].forms!=null&&Array.isArray(c.properties[p].forms)){for(const _ of c.properties[p].forms)if((g=_.href)!=null&&g.startsWith(m)&&_.contentType!=null)return _.contentType}}static getActionContentType(c,p,m){var g;if(p!=null&&m!=null&&(c!=null&&c.actions)&&c.actions!=null&&Array.isArray((g=c.actions[p])==null?void 0:g.forms)){for(const _ of c.actions[p].forms)if(_.href&&_.href.startsWith(m)&&_.contentType!=null)return _.contentType}}static getEventContentType(c,p,m){var g;if(p!=null&&m!=null&&(c!=null&&c.events)&&((g=c==null?void 0:c.events[p])==null?void 0:g.forms)!=null&&Array.isArray(c.events[p].forms)){for(const _ of c.events[p].forms)if(_.href&&_.href.startsWith(m)&&_.contentType!=null)return _.contentType}}static toWoTStream(c){if(u(c))return c.wotStream;const p=new l({start:m=>{c.on("data",g=>m.enqueue(g)),c.on("error",g=>m.error(g)),c.on("end",()=>m.close())},cancel:m=>{c instanceof t.Readable&&c.destroy(m)}});return c instanceof t.Readable?p.nodeStream=c:p.nodeStream=new t.Readable(c),p}static toNodeStream(c){if(u(c))return c.nodeStream;if(c instanceof t.Readable)return c;const p=c.getReader(),m=new s({read:g=>{p.read().then(_=>{m.push(_.value),_.done&&m.push(null)})},destroy:(g,_)=>{p.releaseLock(),c.cancel(g).then(()=>_(g))}});return m.wotStream=c,m.nodeStream=m,m}static readStreamFully(c){return new Promise((p,m)=>{if(c!=null){const g=[];c.on("data",_=>g.push(_)),c.on("error",m),c.on("end",()=>{g[0]!=null&&(g[0]instanceof Array||g[0]instanceof Yr||g[0]instanceof Uint8Array)?p(Yr.concat(g)):g[0]!=null&&typeof g[0]=="string"?p(Yr.from(g.join())):p(Yr.from(g))})}else i("Protocol-Helper returns empty buffer for readStreamFully due to undefined stream"),p(Yr.alloc(0))})}static findRequestMatchingFormIndex(c,p,m,g){if(c===void 0)return 0;let _=c.filter(v=>{const h=new URL(v.href.replace(/(\{[\S]*\})/,"")),E=m!==void 0?m.indexOf("?")!==-1?m.split("?")[0]:m:void 0;return h.protocol===p+":"&&(E===void 0||h.pathname===E)});if(g!=null){const v=_.filter(h=>h.contentType===g);v.length>0&&(_=v)}return _.length>0?c.indexOf(_[0]):0}static getFormIndexForOperation(c,p,m,g){var h;let _=-1,v=[];switch(p){case"property":if(c.readOnly===!0&&m==="writeproperty"||c.writeOnly===!0&&m==="readproperty")return _;c.readOnly!==!0&&v.push("writeproperty"),c.writeOnly!==!0&&v.push("readproperty");break;case"action":v=["invokeaction"];break;case"event":v=["subscribeevent","unsubscribeevent"];break}if(v.indexOf(m)!==-1&&(m=void 0),c.forms!==void 0&&g!==void 0&&c.forms.length>g){const E=c.forms[g];E!=null&&(m==null||((h=E.op)==null?void 0:h.includes(m))===!0)&&(_=g)}return c.forms!==void 0&&_===-1&&(m!==void 0?c.forms.every(E=>{var y;return((y=E.op)==null?void 0:y.includes(m))===!0&&(_=c.forms.indexOf(E)),_===-1}):c.forms.every(E=>(_=c.forms.indexOf(E),!1))),_}static getPropertyOpValues(c){const p=[];return c.readOnly!==!0&&p.push("writeproperty"),c.writeOnly!==!0&&p.push("readproperty"),p.length===0&&o("Property was declared both as readOnly and writeOnly."),c.observable===!0&&(p.push("observeproperty"),p.push("unobserveproperty")),p}};e.default=f}}),W6=Pe({"../core/dist/content.js"(e){Te();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultContent=e.Content=void 0;var r=rl(),n=t(GR()),i=class{constructor(a,s){this.type=a,this.body=s}toBuffer(){return n.default.readStreamFully(this.body)}};e.Content=i;var o=class extends i{constructor(a){super(r.ContentSerdes.DEFAULT,a)}};e.DefaultContent=o}}),zh=Pe({"../../node_modules/nofilter/lib/index.js"(e,t){Te();var r=(ja(),Pr(ea)),{Buffer:n}=(ic(),Pr(nc)),i=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}),o=class vw extends r.Transform{constructor(s,l,u={}){let f=null,c=null;switch(typeof s){case"object":n.isBuffer(s)?f=s:s&&(u=s);break;case"string":f=s;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof l){case"object":l&&(u=l);break;case"string":c=l;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!u||typeof u!="object")throw new TypeError("Invalid options");f==null&&(f=u.input),c==null&&(c=u.inputEncoding),delete u.input,delete u.inputEncoding;const p=u.watchPipe==null?!0:u.watchPipe;delete u.watchPipe;const m=!!u.readError;delete u.readError,super(u),this.readError=m,p&&this.on("pipe",g=>{const _=g._readableState.objectMode;if(this.length>0&&_!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=_,this._writableState.objectMode=_}),f!=null&&this.end(f,c)}static isNoFilter(s){return s instanceof this}static compare(s,l){if(!(s instanceof this))throw new TypeError("Arguments must be NoFilters");return s===l?0:s.compare(l)}static concat(s,l){if(!Array.isArray(s))throw new TypeError("list argument must be an Array of NoFilters");if(s.length===0||l===0)return n.alloc(0);l==null&&(l=s.reduce((p,m)=>{if(!(m instanceof vw))throw new TypeError("list argument must be an Array of NoFilters");return p+m.length},0));let u=!0,f=!0;const c=s.map(p=>{if(!(p instanceof vw))throw new TypeError("list argument must be an Array of NoFilters");const m=p.slice();return n.isBuffer(m)?f=!1:u=!1,m});if(u)return n.concat(c,l);if(f)return[].concat(...c).slice(0,l);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(s,l,u){!this._readableState.objectMode&&!n.isBuffer(s)&&(s=n.from(s,l)),this.push(s),u()}_bufArray(){let s=this._readableState.buffer;if(!Array.isArray(s)){let l=s.head;for(s=[];l!=null;)s.push(l.data),l=l.next}return s}read(s){const l=super.read(s);if(l!=null){if(this.emit("read",l),this.readError&&l.length<s)throw new Error(`Read ${l.length}, wanted ${s}`)}else if(this.readError)throw new Error(`No data available, wanted ${s}`);return l}readFull(s){let l=null,u=null,f=null;return new Promise((c,p)=>{if(this.length>=s){c(this.read(s));return}if(this.writableFinished){p(new Error(`Stream finished before ${s} bytes were available`));return}l=m=>{this.length>=s&&c(this.read(s))},u=()=>{p(new Error(`Stream finished before ${s} bytes were available`))},f=p,this.on("readable",l),this.on("error",f),this.on("finish",u)}).finally(()=>{l&&(this.removeListener("readable",l),this.removeListener("error",f),this.removeListener("finish",u))})}promise(s){let l=!1;return new Promise((u,f)=>{this.on("finish",()=>{const c=this.read();s!=null&&!l&&(l=!0,s(null,c)),u(c)}),this.on("error",c=>{s!=null&&!l&&(l=!0,s(c)),f(c)})})}compare(s){if(!(s instanceof vw))throw new TypeError("Arguments must be NoFilters");if(this===s)return 0;const l=this.slice(),u=s.slice();if(n.isBuffer(l)&&n.isBuffer(u))return l.compare(u);throw new Error("Cannot compare streams in object mode")}equals(s){return this.compare(s)===0}slice(s,l){if(this._readableState.objectMode)return this._bufArray().slice(s,l);const u=this._bufArray();switch(u.length){case 0:return n.alloc(0);case 1:return u[0].slice(s,l);default:return n.concat(u).slice(s,l)}}get(s){return this.slice()[s]}toJSON(){const s=this.slice();return n.isBuffer(s)?s.toJSON():s}toString(s,l,u){const f=this.slice(l,u);return n.isBuffer(f)?!s||s==="utf8"?i.decode(f):f.toString(s):JSON.stringify(f)}[Symbol.for("nodejs.util.inspect.custom")](s,l){const f=this._bufArray().map(c=>n.isBuffer(c)?l.stylize(c.toString("hex"),"string"):JSON.stringify(c)).join(", ");return`${this.constructor.name} [${f}]`}get length(){return this._readableState.length}writeBigInt(s){let l=s.toString(16);if(s<0){const u=BigInt(Math.floor(l.length/2));s=(BigInt(1)<<u*BigInt(8))+s,l=s.toString(16)}return l.length%2&&(l=`0${l}`),this.push(n.from(l,"hex"))}readUBigInt(s){const l=this.read(s);return n.isBuffer(l)?BigInt(`0x${l.toString("hex")}`):null}readBigInt(s){const l=this.read(s);if(!n.isBuffer(l))return null;let u=BigInt(`0x${l.toString("hex")}`);if(l[0]&128){const f=BigInt(1)<<BigInt(l.length)*BigInt(8);u-=f}return u}writeUInt8(s){const l=n.from([s]);return this.push(l)}writeUInt16LE(s){const l=n.alloc(2);return l.writeUInt16LE(s),this.push(l)}writeUInt16BE(s){const l=n.alloc(2);return l.writeUInt16BE(s),this.push(l)}writeUInt32LE(s){const l=n.alloc(4);return l.writeUInt32LE(s),this.push(l)}writeUInt32BE(s){const l=n.alloc(4);return l.writeUInt32BE(s),this.push(l)}writeInt8(s){const l=n.from([s]);return this.push(l)}writeInt16LE(s){const l=n.alloc(2);return l.writeUInt16LE(s),this.push(l)}writeInt16BE(s){const l=n.alloc(2);return l.writeUInt16BE(s),this.push(l)}writeInt32LE(s){const l=n.alloc(4);return l.writeUInt32LE(s),this.push(l)}writeInt32BE(s){const l=n.alloc(4);return l.writeUInt32BE(s),this.push(l)}writeFloatLE(s){const l=n.alloc(4);return l.writeFloatLE(s),this.push(l)}writeFloatBE(s){const l=n.alloc(4);return l.writeFloatBE(s),this.push(l)}writeDoubleLE(s){const l=n.alloc(8);return l.writeDoubleLE(s),this.push(l)}writeDoubleBE(s){const l=n.alloc(8);return l.writeDoubleBE(s),this.push(l)}writeBigInt64LE(s){const l=n.alloc(8);return l.writeBigInt64LE(s),this.push(l)}writeBigInt64BE(s){const l=n.alloc(8);return l.writeBigInt64BE(s),this.push(l)}writeBigUInt64LE(s){const l=n.alloc(8);return l.writeBigUInt64LE(s),this.push(l)}writeBigUInt64BE(s){const l=n.alloc(8);return l.writeBigUInt64BE(s),this.push(l)}readUInt8(){const s=this.read(1);return n.isBuffer(s)?s.readUInt8():null}readUInt16LE(){const s=this.read(2);return n.isBuffer(s)?s.readUInt16LE():null}readUInt16BE(){const s=this.read(2);return n.isBuffer(s)?s.readUInt16BE():null}readUInt32LE(){const s=this.read(4);return n.isBuffer(s)?s.readUInt32LE():null}readUInt32BE(){const s=this.read(4);return n.isBuffer(s)?s.readUInt32BE():null}readInt8(){const s=this.read(1);return n.isBuffer(s)?s.readInt8():null}readInt16LE(){const s=this.read(2);return n.isBuffer(s)?s.readInt16LE():null}readInt16BE(){const s=this.read(2);return n.isBuffer(s)?s.readInt16BE():null}readInt32LE(){const s=this.read(4);return n.isBuffer(s)?s.readInt32LE():null}readInt32BE(){const s=this.read(4);return n.isBuffer(s)?s.readInt32BE():null}readFloatLE(){const s=this.read(4);return n.isBuffer(s)?s.readFloatLE():null}readFloatBE(){const s=this.read(4);return n.isBuffer(s)?s.readFloatBE():null}readDoubleLE(){const s=this.read(8);return n.isBuffer(s)?s.readDoubleLE():null}readDoubleBE(){const s=this.read(8);return n.isBuffer(s)?s.readDoubleBE():null}readBigInt64LE(){const s=this.read(8);return n.isBuffer(s)?s.readBigInt64LE():null}readBigInt64BE(){const s=this.read(8);return n.isBuffer(s)?s.readBigInt64BE():null}readBigUInt64LE(){const s=this.read(8);return n.isBuffer(s)?s.readBigUInt64LE():null}readBigUInt64BE(){const s=this.read(8);return n.isBuffer(s)?s.readBigUInt64BE():null}};t.exports=o}}),lc=Pe({"../../node_modules/cbor/lib/constants.js"(e){Te(),e.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},e.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258},e.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},e.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},e.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")},e.SHIFT32=4294967296,e.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(e.SHIFT32)}}}),$g=Pe({"../../node_modules/cbor/lib/utils.js"(e){Te();var{Buffer:t}=(ic(),Pr(nc)),r=zh(),n=(ja(),Pr(ea)),i=lc(),{NUMBYTES:o,SHIFT32:a,BI:s,SYMS:l}=i,u=2097151,f=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});e.utf8=m=>f.decode(m),e.utf8.checksUTF8=!0;function c(m){return m instanceof n.Readable?!0:["read","on","pipe"].every(g=>typeof m[g]=="function")}e.isBufferish=function(g){return g&&typeof g=="object"&&(t.isBuffer(g)||g instanceof Uint8Array||g instanceof Uint8ClampedArray||g instanceof ArrayBuffer||g instanceof DataView)},e.bufferishToBuffer=function(g){return t.isBuffer(g)?g:ArrayBuffer.isView(g)?t.from(g.buffer,g.byteOffset,g.byteLength):g instanceof ArrayBuffer?t.from(g):null},e.parseCBORint=function(g,_){switch(g){case o.ONE:return _.readUInt8(0);case o.TWO:return _.readUInt16BE(0);case o.FOUR:return _.readUInt32BE(0);case o.EIGHT:{const v=_.readUInt32BE(0),h=_.readUInt32BE(4);return v>u?BigInt(v)*s.SHIFT32+BigInt(h):v*a+h}default:throw new Error(`Invalid additional info for int: ${g}`)}},e.writeHalf=function(g,_){const v=t.allocUnsafe(4);v.writeFloatBE(_,0);const h=v.readUInt32BE(0);if(h&8191)return!1;let E=h>>16&32768;const y=h>>23&255,S=h&8388607;if(y>=113&&y<=142)E+=(y-112<<10)+(S>>13);else if(y>=103&&y<113){if(S&(1<<126-y)-1)return!1;E+=S+8388608>>126-y}else return!1;return g.writeUInt16BE(E),!0},e.parseHalf=function(g){const _=g[0]&128?-1:1,v=(g[0]&124)>>2,h=(g[0]&3)<<8|g[1];if(v){if(v===31)return _*(h?NaN:1/0)}else return _*5960464477539063e-23*h;return _*2**(v-25)*(1024+h)},e.parseCBORfloat=function(g){switch(g.length){case 2:return e.parseHalf(g);case 4:return g.readFloatBE(0);case 8:return g.readDoubleBE(0);default:throw new Error(`Invalid float size: ${g.length}`)}},e.hex=function(g){return t.from(g.replace(/^0x/,""),"hex")},e.bin=function(g){g=g.replace(/\s/g,"");let _=0,v=g.length%8||8;const h=[];for(;v<=g.length;)h.push(parseInt(g.slice(_,v),2)),_=v,v+=8;return t.from(h)},e.arrayEqual=function(g,_){return g==null&&_==null?!0:g==null||_==null?!1:g.length===_.length&&g.every((v,h)=>v===_[h])},e.bufferToBigInt=function(g){return BigInt(`0x${g.toString("hex")}`)},e.cborValueToString=function(g,_=-1){switch(typeof g){case"symbol":{switch(g){case l.NULL:return"null";case l.UNDEFINED:return"undefined";case l.BREAK:return"BREAK"}if(g.description)return g.description;const h=g.toString().match(/^Symbol\((?<name>.*)\)/);return h&&h.groups.name?h.groups.name:"Symbol"}case"string":return JSON.stringify(g);case"bigint":return g.toString();case"number":{const v=Object.is(g,-0)?"-0":String(g);return _>0?`${v}_${_}`:v}case"object":{const v=e.bufferishToBuffer(g);if(v){const h=v.toString("hex");return _===-1/0?h:`h'${h}'`}return typeof g[Symbol.for("nodejs.util.inspect.custom")]=="function"?g[Symbol.for("nodejs.util.inspect.custom")]():Array.isArray(g)?"[]":"{}"}}return String(g)},e.guessEncoding=function(g,_){if(typeof g=="string")return new r(g,_??"hex");const v=e.bufferishToBuffer(g);if(v)return new r(v);if(c(g))return g;throw new Error("Unknown input type")};var p={"=":"","+":"-","/":"_"};e.base64url=function(g){return e.bufferishToBuffer(g).toString("base64").replace(/[=+/]/g,_=>p[_])},e.base64=function(g){return e.bufferishToBuffer(g).toString("base64")},e.isBigEndian=function(){const g=new Uint8Array(4),_=new Uint32Array(g.buffer);return!((_[0]=1)&g[0])}}}),Wee=Pe({"../../node_modules/cbor/vendor/binary-parse-stream/index.js"(e,t){Te();var r=(ja(),Pr(ea)),n=zh(),i=class extends r.Transform{constructor(o){super(o),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new n,this.__restart()}_transform(o,a,s){for(this.bs.write(o);this.bs.length>=this.__needed;){let l=null;const u=this.__needed===null?void 0:this.bs.read(this.__needed);try{l=this.__parser.next(u)}catch(f){return s(f)}this.__needed&&(this.__fresh=!1),l.done?(this.push(l.value),this.__restart()):this.__needed=l.value||1/0}return s()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(o){o(this.__fresh?null:new Error("unexpected end of input"))}};t.exports=i}}),G6=Pe({"../../node_modules/cbor/lib/tagged.js"(e,t){Te();var r=lc(),n=$g(),i=Symbol("INTERNAL_JSON");function o(_,v){if(n.isBufferish(_))_.toJSON=v;else if(Array.isArray(_))for(const h of _)o(h,v);else if(_&&typeof _=="object"&&(!(_ instanceof g)||_.tag<21||_.tag>23))for(const h of Object.values(_))o(h,v)}function a(){return n.base64(this)}function s(){return n.base64url(this)}function l(){return this.toString("hex")}function u(_,v,h,E){const y=new DataView(_),[S,$]={2:[y.getUint16,y.setUint16],4:[y.getUint32,y.setUint32],8:[y.getBigUint64,y.setBigUint64]}[v],T=h+E;for(let d=h;d<T;d+=v)$.call(y,d,S.call(y,d,!0))}var f={0:_=>new Date(_),1:_=>new Date(_*1e3),2:_=>n.bufferToBigInt(_),3:_=>r.BI.MINUS_ONE-n.bufferToBigInt(_),21:(_,v)=>(n.isBufferish(_)?v[i]=s:o(_,s),v),22:(_,v)=>(n.isBufferish(_)?v[i]=a:o(_,a),v),23:(_,v)=>(n.isBufferish(_)?v[i]=l:o(_,l),v),32:_=>new URL(_),33:(_,v)=>{if(!_.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");const h=_.length%4;if(h===1)throw new Error("Invalid base64url length");if(h===2){if("AQgw".indexOf(_[_.length-1])===-1)throw new Error("Invalid base64 padding")}else if(h===3&&"AEIMQUYcgkosw048".indexOf(_[_.length-1])===-1)throw new Error("Invalid base64 padding");return v},34:(_,v)=>{const h=_.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!h)throw new Error("Invalid base64 characters");if(_.length%4!==0)throw new Error("Invalid base64 length");if(h.groups.padding==="="){if("AQgw".indexOf(_[_.length-2])===-1)throw new Error("Invalid base64 padding")}else if(h.groups.padding==="=="&&"AEIMQUYcgkosw048".indexOf(_[_.length-3])===-1)throw new Error("Invalid base64 padding");return v},35:_=>new RegExp(_),258:_=>new Set(_)},c={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};typeof BigUint64Array<"u"&&(c[67]=BigUint64Array,c[71]=BigUint64Array),typeof BigInt64Array<"u"&&(c[75]=BigInt64Array,c[79]=BigInt64Array);function p(_,v){if(!n.isBufferish(_))throw new TypeError("val not a buffer");const{tag:h}=v,E=c[h];if(!E)throw new Error(`Invalid typed array tag: ${h}`);const y=h&4,$=2**(((h&16)>>4)+(h&3));!y!==n.isBigEndian()&&$>1&&u(_.buffer,$,_.byteOffset,_.byteLength);const T=_.buffer.slice(_.byteOffset,_.byteOffset+_.byteLength);return new E(T)}for(const _ of Object.keys(c))f[_]=p;var m={},g=class Vx{constructor(v,h,E){if(this.tag=v,this.value=h,this.err=E,typeof this.tag!="number")throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(this.tag|0)!==this.tag)throw new Error(`Tag must be a positive integer: ${this.tag}`)}toJSON(){if(this[i])return this[i].call(this.value);const v={tag:this.tag,value:this.value};return this.err&&(v.err=this.err),v}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(v){return v._pushTag(this.tag),v.pushAny(this.value)}convert(v){let h=v==null?void 0:v[this.tag];if(typeof h!="function"&&(h=Vx.TAGS[this.tag],typeof h!="function"))return this;try{return h.call(this,this.value,this)}catch(E){return E&&E.message&&E.message.length>0?this.err=E.message:this.err=E,this}}static get TAGS(){return m}static set TAGS(v){m=v}static reset(){Vx.TAGS={...f}}};g.INTERNAL_JSON=i,g.reset(),t.exports=g}}),K6=Pe({"../../node_modules/cbor/lib/simple.js"(e,t){Te();var{MT:r,SIMPLE:n,SYMS:i}=lc(),o=class Hx{constructor(s){if(typeof s!="number")throw new Error(`Invalid Simple type: ${typeof s}`);if(s<0||s>255||(s|0)!==s)throw new Error(`value must be a small positive integer: ${s}`);this.value=s}toString(){return`simple(${this.value})`}[Symbol.for("nodejs.util.inspect.custom")](s,l){return`simple(${this.value})`}encodeCBOR(s){return s._pushInt(this.value,r.SIMPLE_FLOAT)}static isSimple(s){return s instanceof Hx}static decode(s,l=!0,u=!1){switch(s){case n.FALSE:return!1;case n.TRUE:return!0;case n.NULL:return l?null:i.NULL;case n.UNDEFINED:return l?void 0:i.UNDEFINED;case-1:if(!l||!u)throw new Error("Invalid BREAK");return i.BREAK;default:return new Hx(s)}}};t.exports=o}}),tE=Pe({"../../node_modules/cbor/lib/decoder.js"(e,t){Te();var r=Wee(),n=G6(),i=K6(),o=$g(),a=zh();ja(),Pr(ea);var s=lc(),{MT:l,NUMBYTES:u,SYMS:f,BI:c}=s,{Buffer:p}=(ic(),Pr(nc)),m=Symbol("count"),g=Symbol("major type"),_=Symbol("error"),v=Symbol("not found");function h(T,d,A){const x=[];return x[m]=A,x[f.PARENT]=T,x[g]=d,x}function E(T,d){const A=new a;return A[m]=-1,A[f.PARENT]=T,A[g]=d,A}var y=class extends Error{constructor(T,d){super(`Unexpected data: 0x${T.toString(16)}`),this.name="UnexpectedDataError",this.byte=T,this.value=d}};function S(T,d){switch(typeof T){case"function":return{options:{},cb:T};case"string":return{options:{encoding:T},cb:d};case"object":return{options:T||{},cb:d};default:throw new TypeError("Unknown option type")}}var $=class Is extends r{constructor(d={}){const{tags:A={},max_depth:x=-1,preferWeb:P=!1,required:j=!1,encoding:F="hex",extendedResults:V=!1,preventDuplicateKeys:X=!1,...H}=d;super({defaultEncoding:F,...H}),this.running=!0,this.max_depth=x,this.tags=A,this.preferWeb=P,this.extendedResults=V,this.required=j,this.preventDuplicateKeys=X,V&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new a)}static nullcheck(d){switch(d){case f.NULL:return null;case f.UNDEFINED:return;case v:throw new Error("Value not found");default:return d}}static decodeFirstSync(d,A={}){if(d==null)throw new TypeError("input required");({options:A}=S(A));const{encoding:x="hex",...P}=A,j=new Is(P),F=o.guessEncoding(d,x),V=j._parse();let X=V.next();for(;!X.done;){const Z=F.read(X.value);if(Z==null||Z.length!==X.value)throw new Error("Insufficient data");j.extendedResults&&j.valueBytes.write(Z),X=V.next(Z)}let H=null;if(j.extendedResults)H=X.value,H.unused=F.read();else if(H=Is.nullcheck(X.value),F.length>0){const Z=F.read(1);throw F.unshift(Z),new y(Z[0],H)}return H}static decodeAllSync(d,A={}){if(d==null)throw new TypeError("input required");({options:A}=S(A));const{encoding:x="hex",...P}=A,j=new Is(P),F=o.guessEncoding(d,x),V=[];for(;F.length>0;){const X=j._parse();let H=X.next();for(;!H.done;){const Z=F.read(H.value);if(Z==null||Z.length!==H.value)throw new Error("Insufficient data");j.extendedResults&&j.valueBytes.write(Z),H=X.next(Z)}V.push(Is.nullcheck(H.value))}return V}static decodeFirst(d,A={},x=null){if(d==null)throw new TypeError("input required");({options:A,cb:x}=S(A,x));const{encoding:P="hex",required:j=!1,...F}=A,V=new Is(F);let X=v;const H=o.guessEncoding(d,P),Z=new Promise((fe,ee)=>{V.on("data",ae=>{X=Is.nullcheck(ae),V.close()}),V.once("error",ae=>V.extendedResults&&ae instanceof y?(X.unused=V.bs.slice(),fe(X)):(X!==v&&(ae.value=X),X=_,V.close(),ee(ae))),V.once("end",()=>{switch(X){case v:return j?ee(new Error("No CBOR found")):fe(X);case _:return;default:return fe(X)}})});return typeof x=="function"&&Z.then(fe=>x(null,fe),x),H.pipe(V),Z}static decodeAll(d,A={},x=null){if(d==null)throw new TypeError("input required");({options:A,cb:x}=S(A,x));const{encoding:P="hex",...j}=A,F=new Is(j),V=[];F.on("data",H=>V.push(Is.nullcheck(H)));const X=new Promise((H,Z)=>{F.on("error",Z),F.on("end",()=>H(V))});return typeof x=="function"&&X.then(H=>x(void 0,H),H=>x(H,void 0)),o.guessEncoding(d,P).pipe(F),X}close(){this.running=!1,this.__fresh=!0}_onRead(d){this.valueBytes.write(d)}*_parse(){let d=null,A=0,x=null;for(;;){if(this.max_depth>=0&&A>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);const[P]=yield 1;if(!this.running)throw this.bs.unshift(p.from([P])),new y(P);const j=P>>5,F=P&31,V=d==null?void 0:d[g],X=d==null?void 0:d.length;switch(F){case u.ONE:this.emit("more-bytes",j,1,V,X),[x]=yield 1;break;case u.TWO:case u.FOUR:case u.EIGHT:{const Z=1<<F-24;this.emit("more-bytes",j,Z,V,X);const fe=yield Z;x=j===l.SIMPLE_FLOAT?fe:o.parseCBORint(F,fe);break}case 28:case 29:case 30:throw this.running=!1,new Error(`Additional info not implemented: ${F}`);case u.INDEFINITE:switch(j){case l.POS_INT:case l.NEG_INT:case l.TAG:throw new Error(`Invalid indefinite encoding for MT ${j}`)}x=-1;break;default:x=F}switch(j){case l.POS_INT:break;case l.NEG_INT:x===Number.MAX_SAFE_INTEGER?x=c.NEG_MAX:x=typeof x=="bigint"?c.MINUS_ONE-x:-1-x;break;case l.BYTE_STRING:case l.UTF8_STRING:switch(x){case 0:this.emit("start-string",j,x,V,X),j===l.UTF8_STRING?x="":x=this.preferWeb?new Uint8Array(0):p.allocUnsafe(0);break;case-1:this.emit("start",j,f.STREAM,V,X),d=E(d,j),A++;continue;default:this.emit("start-string",j,x,V,X),x=yield x,j===l.UTF8_STRING?x=o.utf8(x):this.preferWeb&&(x=new Uint8Array(x.buffer,x.byteOffset,x.length))}break;case l.ARRAY:case l.MAP:switch(x){case 0:x=j===l.MAP?{}:[];break;case-1:this.emit("start",j,f.STREAM,V,X),d=h(d,j,-1),A++;continue;default:this.emit("start",j,x,V,X),d=h(d,j,x*(j-3)),A++;continue}break;case l.TAG:this.emit("start",j,x,V,X),d=h(d,j,1),d.push(x),A++;continue;case l.SIMPLE_FLOAT:if(typeof x=="number"){if(F===u.ONE&&x<32)throw new Error(`Invalid two-byte encoding of simple value ${x}`);const Z=d!=null;x=i.decode(x,Z,Z&&d[m]<0)}else x=o.parseCBORfloat(x)}this.emit("value",x,V,X,F);let H=!1;for(;d!=null;){if(x===f.BREAK)d[m]=1;else if(Array.isArray(d))d.push(x);else{const fe=d[g];if(fe!=null&&fe!==j)throw this.running=!1,new Error("Invalid major type in indefinite encoding");d.write(x)}if(--d[m]!==0){H=!0;break}if(--A,delete d[m],Array.isArray(d))switch(d[g]){case l.ARRAY:x=d;break;case l.MAP:{let fe=!0;if(d.length%2!==0)throw new Error(`Invalid map length: ${d.length}`);for(let ee=0,ae=d.length;ee<ae;ee+=2)if(typeof d[ee]!="string"||d[ee]==="__proto__"){fe=!1;break}if(fe){x={};for(let ee=0,ae=d.length;ee<ae;ee+=2){if(this.preventDuplicateKeys&&Object.prototype.hasOwnProperty.call(x,d[ee]))throw new Error("Duplicate keys in a map");x[d[ee]]=d[ee+1]}}else{x=new Map;for(let ee=0,ae=d.length;ee<ae;ee+=2){if(this.preventDuplicateKeys&&x.has(d[ee]))throw new Error("Duplicate keys in a map");x.set(d[ee],d[ee+1])}}break}case l.TAG:{x=new n(d[0],d[1]).convert(this.tags);break}}else if(d instanceof a)switch(d[g]){case l.BYTE_STRING:x=d.slice(),this.preferWeb&&(x=new Uint8Array(x.buffer,x.byteOffset,x.length));break;case l.UTF8_STRING:x=d.toString("utf-8");break}this.emit("stop",d[g]);const Z=d;d=d[f.PARENT],delete Z[f.PARENT],delete Z[g]}if(!H){if(this.extendedResults){const Z=this.valueBytes.slice(),fe={value:Is.nullcheck(x),bytes:Z,length:Z.length};return this.valueBytes=new a,fe}return x}}}};$.NOT_FOUND=v,t.exports=$}}),Gee=Pe({"../../node_modules/cbor/lib/commented.js"(e,t){Te();var r=(ja(),Pr(ea)),n=$g(),i=tE(),o=zh(),{MT:a,NUMBYTES:s,SYMS:l}=lc(),{Buffer:u}=(ic(),Pr(nc));function f(m){return m>1?"s":""}function c(m,g){switch(typeof m){case"function":return{options:{},cb:m};case"string":return{options:{encoding:m},cb:g};case"number":return{options:{max_depth:m},cb:g};case"object":return{options:m||{},cb:g};default:throw new TypeError("Unknown option type")}}var p=class Wx extends r.Transform{constructor(g={}){const{depth:_=1,max_depth:v=10,no_summary:h=!1,tags:E={},preferWeb:y,encoding:S,...$}=g;super({...$,readableObjectMode:!1,writableObjectMode:!1}),this.depth=_,this.max_depth=v,this.all=new o,E[24]||(E[24]=this._tag_24.bind(this)),this.parser=new i({tags:E,max_depth:v,preferWeb:y,encoding:S}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),h||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(g){const _=new Wx({depth:this.depth+1,no_summary:!0});_.on("data",v=>this.push(v)),_.on("error",v=>this.emit("error",v)),_.end(g)}_transform(g,_,v){this.parser.write(g,_,v)}_flush(g){return this.parser._flush(g)}static comment(g,_={},v=null){if(g==null)throw new Error("input required");({options:_,cb:v}=c(_,v));const h=new o,{encoding:E="hex",...y}=_,S=new Wx(y);let $=null;return typeof v=="function"?(S.on("end",()=>{v(null,h.toString("utf8"))}),S.on("error",v)):$=new Promise((T,d)=>{S.on("end",()=>{T(h.toString("utf8"))}),S.on("error",d)}),S.pipe(h),n.guessEncoding(g,E).pipe(S),$}_on_error(g){this.push("ERROR: "),this.push(g.toString()),this.push(`
`)}_on_read(g){this.all.write(g);const _=g.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(_);let v=(this.max_depth-this.depth)*2-_.length;v<1&&(v=1),this.push(new Array(v+1).join(" ")),this.push("-- ")}_on_more(g,_,v,h){let E="";switch(this.depth++,g){case a.POS_INT:E="Positive number,";break;case a.NEG_INT:E="Negative number,";break;case a.ARRAY:E="Array, length";break;case a.MAP:E="Map, count";break;case a.BYTE_STRING:E="Bytes, length";break;case a.UTF8_STRING:E="String, length";break;case a.SIMPLE_FLOAT:_===1?E="Simple value,":E="Float,";break}this.push(`${E} next ${_} byte${f(_)}
`)}_on_start_string(g,_,v,h){let E="";switch(this.depth++,g){case a.BYTE_STRING:E=`Bytes, length: ${_}`;break;case a.UTF8_STRING:E=`String, length: ${_.toString()}`;break}this.push(`${E}
`)}_on_start(g,_,v,h){switch(this.depth++,v){case a.ARRAY:this.push(`[${h}], `);break;case a.MAP:h%2?this.push(`{Val:${Math.floor(h/2)}}, `):this.push(`{Key:${Math.floor(h/2)}}, `);break}switch(g){case a.TAG:this.push(`Tag #${_}`),_===24&&this.push(" Encoded CBOR data item");break;case a.ARRAY:_===l.STREAM?this.push("Array (streaming)"):this.push(`Array, ${_} item${f(_)}`);break;case a.MAP:_===l.STREAM?this.push("Map (streaming)"):this.push(`Map, ${_} pair${f(_)}`);break;case a.BYTE_STRING:this.push("Bytes (streaming)");break;case a.UTF8_STRING:this.push("String (streaming)");break}this.push(`
`)}_on_stop(g){this.depth--}_on_value(g,_,v,h){if(g!==l.BREAK)switch(_){case a.ARRAY:this.push(`[${v}], `);break;case a.MAP:v%2?this.push(`{Val:${Math.floor(v/2)}}, `):this.push(`{Key:${Math.floor(v/2)}}, `);break}const E=n.cborValueToString(g,-1/0);switch(typeof g=="string"||u.isBuffer(g)?(g.length>0&&(this.push(E),this.push(`
`)),this.depth--):(this.push(E),this.push(`
`)),h){case s.ONE:case s.TWO:case s.FOUR:case s.EIGHT:this.depth--}}_on_data(){this.push("0x"),this.push(this.all.read().toString("hex")),this.push(`
`)}};t.exports=p}}),Kee=Pe({"../../node_modules/cbor/lib/diagnose.js"(e,t){Te();var r=(ja(),Pr(ea)),n=tE(),i=$g(),o=zh(),{MT:a,SYMS:s}=lc();function l(f,c){switch(typeof f){case"function":return{options:{},cb:f};case"string":return{options:{encoding:f},cb:c};case"object":return{options:f||{},cb:c};default:throw new TypeError("Unknown option type")}}var u=class J6 extends r.Transform{constructor(c={}){const{separator:p=`
`,stream_errors:m=!1,tags:g,max_depth:_,preferWeb:v,encoding:h,...E}=c;super({...E,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=p,this.stream_errors=m,this.parser=new n({tags:g,max_depth:_,preferWeb:v,encoding:h}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(c,p,m){return this.parser.write(c,p,m)}_flush(c){return this.parser._flush(p=>this.stream_errors?(p&&this._on_error(p),c()):c(p))}static diagnose(c,p={},m=null){if(c==null)throw new TypeError("input required");({options:p,cb:m}=l(p,m));const{encoding:g="hex",..._}=p,v=new o,h=new J6(_);let E=null;return typeof m=="function"?(h.on("end",()=>m(null,v.toString("utf8"))),h.on("error",m)):E=new Promise((y,S)=>{h.on("end",()=>y(v.toString("utf8"))),h.on("error",S)}),h.pipe(v),i.guessEncoding(c,g).pipe(h),E}_on_error(c){this.stream_errors?this.push(c.toString()):this.emit("error",c)}_on_more(c,p,m,g){c===a.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[p])}_fore(c,p){switch(c){case a.BYTE_STRING:case a.UTF8_STRING:case a.ARRAY:p>0&&this.push(", ");break;case a.MAP:p>0&&(p%2?this.push(": "):this.push(", "))}}_on_value(c,p,m){if(c===s.BREAK)return;this._fore(p,m);const g=this.float_bytes;this.float_bytes=-1,this.push(i.cborValueToString(c,g))}_on_start(c,p,m,g){switch(this._fore(m,g),c){case a.TAG:this.push(`${p}(`);break;case a.ARRAY:this.push("[");break;case a.MAP:this.push("{");break;case a.BYTE_STRING:case a.UTF8_STRING:this.push("(");break}p===s.STREAM&&this.push("_ ")}_on_stop(c){switch(c){case a.TAG:this.push(")");break;case a.ARRAY:this.push("]");break;case a.MAP:this.push("}");break;case a.BYTE_STRING:case a.UTF8_STRING:this.push(")");break}}_on_data(){this.push(this.separator)}};t.exports=u}}),Y6=Pe({"../../node_modules/cbor/lib/encoder.js"(e,t){Te();var r=(ja(),Pr(ea)),n=zh(),i=$g(),o=lc(),{MT:a,NUMBYTES:s,SHIFT32:l,SIMPLE:u,SYMS:f,TAG:c,BI:p}=o,{Buffer:m}=(ic(),Pr(nc)),g=a.SIMPLE_FLOAT<<5|s.TWO,_=a.SIMPLE_FLOAT<<5|s.FOUR,v=a.SIMPLE_FLOAT<<5|s.EIGHT,h=a.SIMPLE_FLOAT<<5|u.TRUE,E=a.SIMPLE_FLOAT<<5|u.FALSE,y=a.SIMPLE_FLOAT<<5|u.UNDEFINED,S=a.SIMPLE_FLOAT<<5|u.NULL,$=m.from([255]),T=m.from("f97e00","hex"),d=m.from("f9fc00","hex"),A=m.from("f97c00","hex"),x=m.from("f98000","hex"),P={},j={};function F(X){if(!X)return"number";switch(X.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${X}"`)}var V=class _i extends r.Transform{constructor(H={}){const{canonical:Z=!1,encodeUndefined:fe,disallowUndefinedKeys:ee=!1,dateType:ae="number",collapseBigIntegers:M=!1,detectLoops:B=!1,omitUndefinedProperties:K=!1,genTypes:O=[],...N}=H;if(super({...N,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=Z,this.encodeUndefined=fe,this.disallowUndefinedKeys=ee,this.dateType=F(ae),this.collapseBigIntegers=this.canonical?!0:M,this.detectLoops=void 0,typeof B=="boolean")B&&(this.detectLoops=new WeakSet);else if(B instanceof WeakSet)this.detectLoops=B;else throw new TypeError("detectLoops must be boolean or WeakSet");if(this.omitUndefinedProperties=K,this.semanticTypes={..._i.SEMANTIC_TYPES},Array.isArray(O))for(let q=0,ne=O.length;q<ne;q+=2)this.addSemanticType(O[q],O[q+1]);else for(const[q,ne]of Object.entries(O))this.addSemanticType(q,ne)}_transform(H,Z,fe){const ee=this.pushAny(H);return fe(ee===!1?new Error("Push Error"):void 0)}_flush(H){return H()}_pushUInt8(H){const Z=m.allocUnsafe(1);return Z.writeUInt8(H,0),this.push(Z)}_pushUInt16BE(H){const Z=m.allocUnsafe(2);return Z.writeUInt16BE(H,0),this.push(Z)}_pushUInt32BE(H){const Z=m.allocUnsafe(4);return Z.writeUInt32BE(H,0),this.push(Z)}_pushFloatBE(H){const Z=m.allocUnsafe(4);return Z.writeFloatBE(H,0),this.push(Z)}_pushDoubleBE(H){const Z=m.allocUnsafe(8);return Z.writeDoubleBE(H,0),this.push(Z)}_pushNaN(){return this.push(T)}_pushInfinity(H){const Z=H<0?d:A;return this.push(Z)}_pushFloat(H){if(this.canonical){const Z=m.allocUnsafe(2);if(i.writeHalf(Z,H))return this._pushUInt8(g)&&this.push(Z)}return Math.fround(H)===H?this._pushUInt8(_)&&this._pushFloatBE(H):this._pushUInt8(v)&&this._pushDoubleBE(H)}_pushInt(H,Z,fe){const ee=Z<<5;if(H<24)return this._pushUInt8(ee|H);if(H<=255)return this._pushUInt8(ee|s.ONE)&&this._pushUInt8(H);if(H<=65535)return this._pushUInt8(ee|s.TWO)&&this._pushUInt16BE(H);if(H<=4294967295)return this._pushUInt8(ee|s.FOUR)&&this._pushUInt32BE(H);let ae=Number.MAX_SAFE_INTEGER;return Z===a.NEG_INT&&ae--,H<=ae?this._pushUInt8(ee|s.EIGHT)&&this._pushUInt32BE(Math.floor(H/l))&&this._pushUInt32BE(H%l):Z===a.NEG_INT?this._pushFloat(fe):this._pushFloat(H)}_pushIntNum(H){return Object.is(H,-0)?this.push(x):H<0?this._pushInt(-H-1,a.NEG_INT,H):this._pushInt(H,a.POS_INT)}_pushNumber(H){return isNaN(H)?this._pushNaN():isFinite(H)?Math.round(H)===H?this._pushIntNum(H):this._pushFloat(H):this._pushInfinity(H)}_pushString(H){const Z=m.byteLength(H,"utf8");return this._pushInt(Z,a.UTF8_STRING)&&this.push(H,"utf8")}_pushBoolean(H){return this._pushUInt8(H?h:E)}_pushUndefined(H){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(y);case"function":return this.pushAny(this.encodeUndefined(H));case"object":{const Z=i.bufferishToBuffer(this.encodeUndefined);if(Z)return this.push(Z)}}return this.pushAny(this.encodeUndefined)}_pushNull(H){return this._pushUInt8(S)}_pushTag(H){return this._pushInt(H,a.TAG)}_pushJSBigint(H){let Z=a.POS_INT,fe=c.POS_BIGINT;if(H<0&&(H=-H+p.MINUS_ONE,Z=a.NEG_INT,fe=c.NEG_BIGINT),this.collapseBigIntegers&&H<=p.MAXINT64)return H<=4294967295?this._pushInt(Number(H),Z):this._pushUInt8(Z<<5|s.EIGHT)&&this._pushUInt32BE(Number(H/p.SHIFT32))&&this._pushUInt32BE(Number(H%p.SHIFT32));let ee=H.toString(16);ee.length%2&&(ee=`0${ee}`);const ae=m.from(ee,"hex");return this._pushTag(fe)&&_i._pushBuffer(this,ae)}_pushObject(H,Z){if(!H)return this._pushNull(H);if(Z={indefinite:!1,skipTypes:!1,...Z},!Z.indefinite&&this.detectLoops){if(this.detectLoops.has(H))throw new Error(`Loop detected while CBOR encoding.
Call removeLoopDetectors before resuming.`);this.detectLoops.add(H)}if(!Z.skipTypes){const M=H.encodeCBOR;if(typeof M=="function")return M.call(H,this);const B=this.semanticTypes[H.constructor.name];if(B)return B.call(H,this,H)}const fe=Object.keys(H).filter(M=>{const B=typeof H[M];return B!=="function"&&(!this.omitUndefinedProperties||B!=="undefined")}),ee={};if(this.canonical&&fe.sort((M,B)=>{const K=ee[M]||(ee[M]=_i.encode(M)),O=ee[B]||(ee[B]=_i.encode(B));return K.compare(O)}),Z.indefinite){if(!this._pushUInt8(a.MAP<<5|s.INDEFINITE))return!1}else if(!this._pushInt(fe.length,a.MAP))return!1;let ae=null;for(let M=0,B=fe.length;M<B;M++){const K=fe[M];if(this.canonical&&(ae=ee[K])){if(!this.push(ae))return!1}else if(!this._pushString(K))return!1;if(!this.pushAny(H[K]))return!1}if(Z.indefinite){if(!this.push($))return!1}else this.detectLoops&&this.detectLoops.delete(H);return!0}_encodeAll(H){const Z=new n({highWaterMark:this.readableHighWaterMark});this.pipe(Z);for(const fe of H)this.pushAny(fe);return this.end(),Z.read()}addSemanticType(H,Z){const fe=typeof H=="string"?H:H.name,ee=this.semanticTypes[fe];if(Z){if(typeof Z!="function")throw new TypeError("fun must be of type function");this.semanticTypes[fe]=Z}else ee&&delete this.semanticTypes[fe];return ee}pushAny(H){switch(typeof H){case"number":return this._pushNumber(H);case"bigint":return this._pushJSBigint(H);case"string":return this._pushString(H);case"boolean":return this._pushBoolean(H);case"undefined":return this._pushUndefined(H);case"object":return this._pushObject(H);case"symbol":switch(H){case f.NULL:return this._pushNull(null);case f.UNDEFINED:return this._pushUndefined(void 0);default:throw new TypeError(`Unknown symbol: ${H.toString()}`)}default:throw new TypeError(`Unknown type: ${typeof H}, ${typeof H.toString=="function"?H.toString():""}`)}}static pushArray(H,Z,fe){fe={indefinite:!1,...fe};const ee=Z.length;if(fe.indefinite){if(!H._pushUInt8(a.ARRAY<<5|s.INDEFINITE))return!1}else if(!H._pushInt(ee,a.ARRAY))return!1;for(let ae=0;ae<ee;ae++)if(!H.pushAny(Z[ae]))return!1;return!(fe.indefinite&&!H.push($))}removeLoopDetectors(){return this.detectLoops?(this.detectLoops=new WeakSet,!0):!1}static _pushDate(H,Z){switch(H.dateType){case"string":return H._pushTag(c.DATE_STRING)&&H._pushString(Z.toISOString());case"int":return H._pushTag(c.DATE_EPOCH)&&H._pushIntNum(Math.round(Z.getTime()/1e3));case"float":return H._pushTag(c.DATE_EPOCH)&&H._pushFloat(Z.getTime()/1e3);case"number":default:return H._pushTag(c.DATE_EPOCH)&&H.pushAny(Z.getTime()/1e3)}}static _pushBuffer(H,Z){return H._pushInt(Z.length,a.BYTE_STRING)&&H.push(Z)}static _pushNoFilter(H,Z){return _i._pushBuffer(H,Z.slice())}static _pushRegexp(H,Z){return H._pushTag(c.REGEXP)&&H.pushAny(Z.source)}static _pushSet(H,Z){if(!H._pushTag(c.SET)||!H._pushInt(Z.size,a.ARRAY))return!1;for(const fe of Z)if(!H.pushAny(fe))return!1;return!0}static _pushURL(H,Z){return H._pushTag(c.URI)&&H.pushAny(Z.toString())}static _pushBoxed(H,Z){return H.pushAny(Z.valueOf())}static _pushMap(H,Z,fe){fe={indefinite:!1,...fe};let ee=[...Z.entries()];if(H.omitUndefinedProperties&&(ee=ee.filter(([ae,M])=>M!==void 0)),fe.indefinite){if(!H._pushUInt8(a.MAP<<5|s.INDEFINITE))return!1}else if(!H._pushInt(ee.length,a.MAP))return!1;if(H.canonical){const ae=new _i({genTypes:H.semanticTypes,canonical:H.canonical,detectLoops:!!H.detectLoops,dateType:H.dateType,disallowUndefinedKeys:H.disallowUndefinedKeys,collapseBigIntegers:H.collapseBigIntegers}),M=new n({highWaterMark:H.readableHighWaterMark});ae.pipe(M),ee.sort(([B],[K])=>{ae.pushAny(B);const O=M.read();ae.pushAny(K);const N=M.read();return O.compare(N)});for(const[B,K]of ee){if(H.disallowUndefinedKeys&&typeof B>"u")throw new Error("Invalid Map key: undefined");if(!(H.pushAny(B)&&H.pushAny(K)))return!1}}else for(const[ae,M]of ee){if(H.disallowUndefinedKeys&&typeof ae>"u")throw new Error("Invalid Map key: undefined");if(!(H.pushAny(ae)&&H.pushAny(M)))return!1}return!(fe.indefinite&&!H.push($))}static _pushTypedArray(H,Z){let fe=64,ee=Z.BYTES_PER_ELEMENT;const{name:ae}=Z.constructor;return ae.startsWith("Float")?(fe|=16,ee/=2):ae.includes("U")||(fe|=8),(ae.includes("Clamped")||ee!==1&&!i.isBigEndian())&&(fe|=4),fe|={1:0,2:1,4:2,8:3}[ee],H._pushTag(fe)?_i._pushBuffer(H,m.from(Z.buffer,Z.byteOffset,Z.byteLength)):!1}static _pushArrayBuffer(H,Z){return _i._pushBuffer(H,m.from(Z))}static encodeIndefinite(H,Z,fe={}){if(Z==null){if(this==null)throw new Error("No object to encode");Z=this}const{chunkSize:ee=4096}=fe;let ae=!0;const M=typeof Z;let B=null;if(M==="string"){ae=ae&&H._pushUInt8(a.UTF8_STRING<<5|s.INDEFINITE);let K=0;for(;K<Z.length;){const O=K+ee;ae=ae&&H._pushString(Z.slice(K,O)),K=O}ae=ae&&H.push($)}else if(B=i.bufferishToBuffer(Z)){ae=ae&&H._pushUInt8(a.BYTE_STRING<<5|s.INDEFINITE);let K=0;for(;K<B.length;){const O=K+ee;ae=ae&&_i._pushBuffer(H,B.slice(K,O)),K=O}ae=ae&&H.push($)}else if(Array.isArray(Z))ae=ae&&_i.pushArray(H,Z,{indefinite:!0});else if(Z instanceof Map)ae=ae&&_i._pushMap(H,Z,{indefinite:!0});else{if(M!=="object")throw new Error("Invalid indefinite encoding");ae=ae&&H._pushObject(Z,{indefinite:!0,skipTypes:!0})}return ae}static encode(...H){return new _i()._encodeAll(H)}static encodeCanonical(...H){return new _i({canonical:!0})._encodeAll(H)}static encodeOne(H,Z){return new _i(Z)._encodeAll([H])}static encodeAsync(H,Z){return new Promise((fe,ee)=>{const ae=[],M=new _i(Z);M.on("data",B=>ae.push(B)),M.on("error",ee),M.on("finish",()=>fe(m.concat(ae))),M.pushAny(H),M.end()})}static get SEMANTIC_TYPES(){return j}static set SEMANTIC_TYPES(H){j=H}static reset(){_i.SEMANTIC_TYPES={...P}}};Object.assign(P,{Array:V.pushArray,Date:V._pushDate,Buffer:V._pushBuffer,[m.name]:V._pushBuffer,Map:V._pushMap,NoFilter:V._pushNoFilter,[n.name]:V._pushNoFilter,RegExp:V._pushRegexp,Set:V._pushSet,ArrayBuffer:V._pushArrayBuffer,Uint8ClampedArray:V._pushTypedArray,Uint8Array:V._pushTypedArray,Uint16Array:V._pushTypedArray,Uint32Array:V._pushTypedArray,Int8Array:V._pushTypedArray,Int16Array:V._pushTypedArray,Int32Array:V._pushTypedArray,Float32Array:V._pushTypedArray,Float64Array:V._pushTypedArray,URL:V._pushURL,Boolean:V._pushBoxed,Number:V._pushBoxed,String:V._pushBoxed}),typeof BigUint64Array<"u"&&(P[BigUint64Array.name]=V._pushTypedArray),typeof BigInt64Array<"u"&&(P[BigInt64Array.name]=V._pushTypedArray),V.reset(),t.exports=V}}),Jee=Pe({"../../node_modules/cbor/lib/map.js"(e,t){Te();var{Buffer:r}=(ic(),Pr(nc)),n=Y6(),i=tE(),{MT:o}=lc(),a=class wu extends Map{constructor(l){super(l)}static _encode(l){return n.encodeCanonical(l).toString("base64")}static _decode(l){return i.decodeFirstSync(l,"base64")}get(l){return super.get(wu._encode(l))}set(l,u){return super.set(wu._encode(l),u)}delete(l){return super.delete(wu._encode(l))}has(l){return super.has(wu._encode(l))}*keys(){for(const l of super.keys())yield wu._decode(l)}*entries(){for(const l of super.entries())yield[wu._decode(l[0]),l[1]]}[Symbol.iterator](){return this.entries()}forEach(l,u){if(typeof l!="function")throw new TypeError("Must be function");for(const f of super.entries())l.call(this,f[1],wu._decode(f[0]),this)}encodeCBOR(l){if(!l._pushInt(this.size,o.MAP))return!1;if(l.canonical){const u=Array.from(super.entries()).map(f=>[r.from(f[0],"base64"),f[1]]);u.sort((f,c)=>f[0].compare(c[0]));for(const f of u)if(!(l.push(f[0])&&l.pushAny(f[1])))return!1}else for(const u of super.entries())if(!(l.push(r.from(u[0],"base64"))&&l.pushAny(u[1])))return!1;return!0}};t.exports=a}}),Yee=Pe({"../../node_modules/cbor/lib/cbor.js"(e){Te(),e.Commented=Gee(),e.Diagnose=Kee(),e.Decoder=tE(),e.Encoder=Y6(),e.Simple=K6(),e.Tagged=G6(),e.Map=Jee(),e.comment=e.Commented.comment,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.decodeAllSync=e.Decoder.decodeAllSync,e.decodeFirstSync=e.Decoder.decodeFirstSync,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.encodeCanonical=e.Encoder.encodeCanonical,e.encodeOne=e.Encoder.encodeOne,e.encodeAsync=e.Encoder.encodeAsync,e.decode=e.Decoder.decodeFirstSync,e.leveldb={decode:e.Decoder.decodeFirstSync,encode:e.Encoder.encode,buffer:!0,name:"cbor"},e.reset=function(){e.Encoder.reset(),e.Tagged.reset()}}}),X6=Pe({"../core/dist/codecs/cbor-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=No(),r=Yee(),{debug:n}=(0,t.createLoggers)("core","cbor-codec"),i=class{constructor(o){this.subMediaType=o??"application/cbor"}getMediaType(){return this.subMediaType}bytesToValue(o,a,s){n(`CborCodec parsing '${o.toString()}'`);try{return(0,r.decode)(o)}catch(l){if(o.byteLength===0)return null;throw l}}valueToBytes(o,a,s){return n("CborCodec serializing",o),o===void 0?Yr.alloc(0):(0,r.encode)(o)}};e.default=i}}),Q6=Pe({"../core/dist/codecs/json-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=rl(),r=No(),{debug:n}=(0,r.createLoggers)("core","json-codec"),i=class{constructor(o){this.subMediaType=o??t.ContentSerdes.DEFAULT}getMediaType(){return this.subMediaType}bytesToValue(o,a,s){n(`JsonCodec parsing '${o.toString()}'`);let l;try{l=JSON.parse(o.toString())}catch(u){if(u instanceof SyntaxError)o.byteLength===0?l=void 0:l=o.toString();else throw u}return l}valueToBytes(o,a,s){n("JsonCodec serializing",o);let l="";return o!==void 0&&(l=JSON.stringify(o)),Yr.from(l)}};e.default=i}}),Z6=Pe({"../core/dist/codecs/text-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=No(),{debug:r}=(0,t.createLoggers)("core","text-codec"),n=class{constructor(i){this.subMediaType=i??"text/plain"}getMediaType(){return this.subMediaType}bytesToValue(i,o,a){return r(`TextCodec parsing '${i.toString()}'`),i.toString(a==null?void 0:a.charset)}valueToBytes(i,o,a){r(`TextCodec serializing '${i}'`);let s="";i!==void 0&&(typeof i=="string"?s=i:s=JSON.stringify(i));let l;if(a&&a.charset)switch(a.charset){case"ascii":l="ascii";break;case"utf8":l="utf8";break;case"utf-8":l="utf-8";break;case"utf16le":l="utf16le";break;case"ucs2":l="ucs2";break;case"ucs-2":l="ucs-2";break;case"base64":l="base64";break;case"latin1":l="latin1";break;case"binary":l="binary";break;case"hex":l="hex";break}const u=Yr.alloc(s.length);return u.write(s,l),u}};e.default=n}}),eq=Pe({"../core/dist/codecs/base64-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(r){this.subMediaType=r}getMediaType(){return this.subMediaType}bytesToValue(r,n,i){return r.toString("ascii")}valueToBytes(r,n,i){let o="";return r!==void 0&&(o=JSON.stringify(r)),Yr.from(o,"base64")}};e.default=t}}),rE=Pe({"../../node_modules/@petamoriken/float16/lib/_util/messages.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t="This is not an object";e.THIS_IS_NOT_AN_OBJECT=t;var r="This is not a Float16Array object";e.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT=r;var n="This constructor is not a subclass of Float16Array";e.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY=n;var i="The constructor property value is not an object";e.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT=i;var o="Species constructor didn't return TypedArray object";e.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT=o;var a="Derived constructor created TypedArray object which was too small length";e.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH=a;var s="Attempting to access detached ArrayBuffer";e.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER=s;var l="Cannot convert undefined or null to object";e.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT=l;var u="Cannot mix BigInt and other types, use explicit conversions";e.CANNOT_MIX_BIGINT_AND_OTHER_TYPES=u;var f="@@iterator property is not callable";e.ITERATOR_PROPERTY_IS_NOT_CALLABLE=f;var c="Reduce of empty array with no initial value";e.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE=c;var p="The comparison function must be either a function or undefined";e.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED=p;var m="Offset is out of bounds";e.OFFSET_IS_OUT_OF_BOUNDS=m}}),Ff=Pe({"../../node_modules/@petamoriken/float16/lib/_util/primordials.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=rE();function r(qt){return(he,...le)=>i(qt,he,le)}function n(qt,he){return r(l(qt,he).get)}var{apply:i,construct:o,defineProperty:a,get:s,getOwnPropertyDescriptor:l,getPrototypeOf:u,has:f,ownKeys:c,set:p,setPrototypeOf:m}=Reflect;e.ReflectSetPrototypeOf=m,e.ReflectSet=p,e.ReflectOwnKeys=c,e.ReflectHas=f,e.ReflectGetPrototypeOf=u,e.ReflectGetOwnPropertyDescriptor=l,e.ReflectGet=s,e.ReflectDefineProperty=a,e.ReflectConstruct=o,e.ReflectApply=i;var g=Proxy;e.NativeProxy=g;var{EPSILON:_,MAX_SAFE_INTEGER:v,isFinite:h,isNaN:E}=Number;e.NumberIsNaN=E,e.NumberIsFinite=h,e.MAX_SAFE_INTEGER=v,e.EPSILON=_;var{iterator:y,species:S,toStringTag:$,for:T}=Symbol;e.SymbolFor=T,e.SymbolToStringTag=$,e.SymbolSpecies=S,e.SymbolIterator=y;var d=Object;e.NativeObject=d;var{create:A,defineProperty:x,freeze:P,is:j}=d;e.ObjectIs=j,e.ObjectFreeze=P,e.ObjectDefineProperty=x,e.ObjectCreate=A;var F=d.prototype,V=F.__lookupGetter__?r(F.__lookupGetter__):(qt,he)=>{if(qt==null)throw mr(t.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);let le=d(qt);do{const we=l(le,he);if(we!==void 0)return X(we,"get")?we.get:void 0}while((le=u(le))!==null)};e.ObjectPrototype__lookupGetter__=V;var X=d.hasOwn||r(F.hasOwnProperty);e.ObjectHasOwn=X;var H=Array,Z=H.isArray;e.ArrayIsArray=Z;var fe=H.prototype,ee=r(fe.join);e.ArrayPrototypeJoin=ee;var ae=r(fe.push);e.ArrayPrototypePush=ae;var M=r(fe.toLocaleString);e.ArrayPrototypeToLocaleString=M;var B=fe[y];e.NativeArrayPrototypeSymbolIterator=B;var K=r(B);e.ArrayPrototypeSymbolIterator=K;var{abs:O,trunc:N}=Math;e.MathTrunc=N,e.MathAbs=O;var q=ArrayBuffer;e.NativeArrayBuffer=q;var ne=q.isView;e.ArrayBufferIsView=ne;var J=q.prototype,Y=r(J.slice);e.ArrayBufferPrototypeSlice=Y;var oe=n(J,"byteLength");e.ArrayBufferPrototypeGetByteLength=oe;var be=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;e.NativeSharedArrayBuffer=be;var Oe=be&&n(be.prototype,"byteLength");e.SharedArrayBufferPrototypeGetByteLength=Oe;var R=u(Uint8Array);e.TypedArray=R;var C=R.from,D=R.prototype;e.TypedArrayPrototype=D;var G=D[y];e.NativeTypedArrayPrototypeSymbolIterator=G;var ie=r(D.keys);e.TypedArrayPrototypeKeys=ie;var ue=r(D.values);e.TypedArrayPrototypeValues=ue;var de=r(D.entries);e.TypedArrayPrototypeEntries=de;var ve=r(D.set);e.TypedArrayPrototypeSet=ve;var Ne=r(D.reverse);e.TypedArrayPrototypeReverse=Ne;var Be=r(D.fill);e.TypedArrayPrototypeFill=Be;var je=r(D.copyWithin);e.TypedArrayPrototypeCopyWithin=je;var nt=r(D.sort);e.TypedArrayPrototypeSort=nt;var We=r(D.slice);e.TypedArrayPrototypeSlice=We;var Ue=r(D.subarray);e.TypedArrayPrototypeSubarray=Ue;var W=n(D,"buffer");e.TypedArrayPrototypeGetBuffer=W;var I=n(D,"byteOffset");e.TypedArrayPrototypeGetByteOffset=I;var L=n(D,"length");e.TypedArrayPrototypeGetLength=L;var re=n(D,$);e.TypedArrayPrototypeGetSymbolToStringTag=re;var ye=Uint8Array;e.NativeUint8Array=ye;var Ee=Uint16Array;e.NativeUint16Array=Ee;var Ce=(...qt)=>i(C,Ee,qt);e.Uint16ArrayFrom=Ce;var Re=Uint32Array;e.NativeUint32Array=Re;var Le=Float32Array;e.NativeFloat32Array=Le;var ft=u([][y]());e.ArrayIteratorPrototype=ft;var yt=r(ft.next);e.ArrayIteratorPrototypeNext=yt;var st=r(function*(){}().next);e.GeneratorPrototypeNext=st;var Ct=u(ft);e.IteratorPrototype=Ct;var Er=DataView.prototype,Or=r(Er.getUint16);e.DataViewPrototypeGetUint16=Or;var ir=r(Er.setUint16);e.DataViewPrototypeSetUint16=ir;var mr=TypeError;e.NativeTypeError=mr;var cn=RangeError;e.NativeRangeError=cn;var Vt=WeakSet;e.NativeWeakSet=Vt;var zt=Vt.prototype,At=r(zt.add);e.WeakSetPrototypeAdd=At;var Se=r(zt.has);e.WeakSetPrototypeHas=Se;var Ie=WeakMap;e.NativeWeakMap=Ie;var dt=Ie.prototype,Ye=r(dt.get);e.WeakMapPrototypeGet=Ye;var it=r(dt.has);e.WeakMapPrototypeHas=it;var Ot=r(dt.set);e.WeakMapPrototypeSet=Ot}}),tq=Pe({"../../node_modules/@petamoriken/float16/lib/_util/arrayIterator.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.safeIfNeeded=i,e.wrap=s;var t=Ff(),r=new t.NativeWeakMap,n=(0,t.ObjectCreate)(null,{next:{value:function(){const u=(0,t.WeakMapPrototypeGet)(r,this);return(0,t.ArrayIteratorPrototypeNext)(u)}},[t.SymbolIterator]:{value:function(){return this}}});function i(l){if(l[t.SymbolIterator]===t.NativeArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext)return l;const u=(0,t.ObjectCreate)(n);return(0,t.WeakMapPrototypeSet)(r,u,(0,t.ArrayPrototypeSymbolIterator)(l)),u}var o=new t.NativeWeakMap,a=(0,t.ObjectCreate)(t.IteratorPrototype,{next:{value:function(){const u=(0,t.WeakMapPrototypeGet)(o,this);return(0,t.GeneratorPrototypeNext)(u)},writable:!0,configurable:!0}});for(const l of(0,t.ReflectOwnKeys)(t.ArrayIteratorPrototype))l!=="next"&&(0,t.ObjectDefineProperty)(a,l,(0,t.ReflectGetOwnPropertyDescriptor)(t.ArrayIteratorPrototype,l));function s(l){const u=(0,t.ObjectCreate)(a);return(0,t.WeakMapPrototypeSet)(o,u,l),u}}}),nE=Pe({"../../node_modules/@petamoriken/float16/lib/_util/is.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.isAnyArrayBuffer=l,e.isCanonicalIntegerIndexString=c,e.isNativeBigIntTypedArray=o,e.isNativeTypedArray=i,e.isObject=r,e.isObjectLike=n,e.isOrdinaryArray=u,e.isOrdinaryNativeTypedArray=f,e.isSharedArrayBuffer=s;var t=Ff();function r(p){return p!==null&&typeof p=="object"||typeof p=="function"}function n(p){return p!==null&&typeof p=="object"}function i(p){return(0,t.TypedArrayPrototypeGetSymbolToStringTag)(p)!==void 0}function o(p){const m=(0,t.TypedArrayPrototypeGetSymbolToStringTag)(p);return m==="BigInt64Array"||m==="BigUint64Array"}function a(p){try{return(0,t.ArrayBufferPrototypeGetByteLength)(p),!0}catch{return!1}}function s(p){if(t.NativeSharedArrayBuffer===null)return!1;try{return(0,t.SharedArrayBufferPrototypeGetByteLength)(p),!0}catch{return!1}}function l(p){return a(p)||s(p)}function u(p){return(0,t.ArrayIsArray)(p)?p[t.SymbolIterator]===t.NativeArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext:!1}function f(p){return i(p)?p[t.SymbolIterator]===t.NativeTypedArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext:!1}function c(p){if(typeof p!="string")return!1;const m=+p;return p!==m+""||!(0,t.NumberIsFinite)(m)?!1:m===(0,t.MathTrunc)(m)}}}),Xee=Pe({"../../node_modules/@petamoriken/float16/lib/_util/brand.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.hasFloat16ArrayBrand=o;var t=nE(),r=rE(),n=Ff(),i=(0,n.SymbolFor)("__Float16Array__");e.brand=i;function o(a){if(!(0,t.isObjectLike)(a))return!1;const s=(0,n.ReflectGetPrototypeOf)(a);if(!(0,t.isObjectLike)(s))return!1;const l=s.constructor;if(l===void 0)return!1;if(!(0,t.isObject)(l))throw(0,n.NativeTypeError)(r.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);return(0,n.ReflectHas)(l,i)}}}),KR=Pe({"../../node_modules/@petamoriken/float16/lib/_util/converter.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.convertToNumber=y,e.roundToFloat16=u,e.roundToFloat16Bits=_;var t=Ff(),r=1/t.EPSILON;function n(S){return S+r-r}var i=6103515625e-14,o=65504,a=.0009765625,s=a*i,l=a*r;function u(S){const $=+S;if(!(0,t.NumberIsFinite)($)||$===0)return $;const T=$>0?1:-1,d=(0,t.MathAbs)($);if(d<i)return T*n(d/s)*s;const A=(1+l)*d,x=A-(A-d);return x>o||(0,t.NumberIsNaN)(x)?T*(1/0):T*x}var f=new t.NativeArrayBuffer(4),c=new t.NativeFloat32Array(f),p=new t.NativeUint32Array(f),m=new t.NativeUint16Array(512),g=new t.NativeUint8Array(512);for(let S=0;S<256;++S){const $=S-127;$<-27?(m[S]=0,m[S|256]=32768,g[S]=24,g[S|256]=24):$<-14?(m[S]=1024>>-$-14,m[S|256]=1024>>-$-14|32768,g[S]=-$-1,g[S|256]=-$-1):$<=15?(m[S]=$+15<<10,m[S|256]=$+15<<10|32768,g[S]=13,g[S|256]=13):$<128?(m[S]=31744,m[S|256]=64512,g[S]=24,g[S|256]=24):(m[S]=31744,m[S|256]=64512,g[S]=13,g[S|256]=13)}function _(S){c[0]=u(S);const $=p[0],T=$>>23&511;return m[T]+(($&8388607)>>g[T])}var v=new t.NativeUint32Array(2048);for(let S=1;S<1024;++S){let $=S<<13,T=0;for(;!($&8388608);)$<<=1,T-=8388608;$&=-8388609,T+=947912704,v[S]=$|T}for(let S=1024;S<2048;++S)v[S]=939524096+(S-1024<<13);var h=new t.NativeUint32Array(64);for(let S=1;S<31;++S)h[S]=S<<23;h[31]=1199570944,h[32]=2147483648;for(let S=33;S<63;++S)h[S]=2147483648+(S-32<<23);h[63]=3347054592;var E=new t.NativeUint16Array(64);for(let S=1;S<64;++S)S!==32&&(E[S]=1024);function y(S){const $=S>>10;return p[0]=v[E[$]+(S&1023)]+h[$],c[0]}}}),Qee=Pe({"../../node_modules/@petamoriken/float16/lib/_util/spec.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.IsDetachedBuffer=s,e.SpeciesConstructor=a,e.ToIntegerOrInfinity=i,e.ToLength=o,e.defaultCompare=l;var t=nE(),r=rE(),n=Ff();function i(u){const f=+u;return(0,n.NumberIsNaN)(f)||f===0?0:(0,n.MathTrunc)(f)}function o(u){const f=i(u);return f<0?0:f<n.MAX_SAFE_INTEGER?f:n.MAX_SAFE_INTEGER}function a(u,f){if(!(0,t.isObject)(u))throw(0,n.NativeTypeError)(r.THIS_IS_NOT_AN_OBJECT);const c=u.constructor;if(c===void 0)return f;if(!(0,t.isObject)(c))throw(0,n.NativeTypeError)(r.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);const p=c[n.SymbolSpecies];return p??f}function s(u){if((0,t.isSharedArrayBuffer)(u))return!1;try{return(0,n.ArrayBufferPrototypeSlice)(u,0,0),!1}catch{}return!0}function l(u,f){const c=(0,n.NumberIsNaN)(u),p=(0,n.NumberIsNaN)(f);if(c&&p)return 0;if(c)return 1;if(p||u<f)return-1;if(u>f)return 1;if(u===0&&f===0){const m=(0,n.ObjectIs)(u,0),g=(0,n.ObjectIs)(f,0);if(!m&&g)return-1;if(m&&!g)return 1}return 0}}}),rq=Pe({"../../node_modules/@petamoriken/float16/lib/Float16Array.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.isFloat16Array=f;var t=tq(),r=Xee(),n=KR(),i=nE(),o=rE(),a=Ff(),s=Qee(),l=2,u=new a.NativeWeakMap;function f(y){return(0,a.WeakMapPrototypeHas)(u,y)||!(0,a.ArrayBufferIsView)(y)&&(0,r.hasFloat16ArrayBrand)(y)}function c(y){if(!f(y))throw(0,a.NativeTypeError)(o.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT)}function p(y,S){const $=f(y),T=(0,i.isNativeTypedArray)(y);if(!$&&!T)throw(0,a.NativeTypeError)(o.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);if(typeof S=="number"){let d;if($){const A=m(y);d=(0,a.TypedArrayPrototypeGetLength)(A)}else d=(0,a.TypedArrayPrototypeGetLength)(y);if(d<S)throw(0,a.NativeTypeError)(o.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH)}if((0,i.isNativeBigIntTypedArray)(y))throw(0,a.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES)}function m(y){const S=(0,a.WeakMapPrototypeGet)(u,y);if(S!==void 0){const d=(0,a.TypedArrayPrototypeGetBuffer)(S);if((0,s.IsDetachedBuffer)(d))throw(0,a.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);return S}const $=y.buffer;if((0,s.IsDetachedBuffer)($))throw(0,a.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);const T=(0,a.ReflectConstruct)(h,[$,y.byteOffset,y.length],y.constructor);return(0,a.WeakMapPrototypeGet)(u,T)}function g(y){const S=(0,a.TypedArrayPrototypeGetLength)(y),$=[];for(let T=0;T<S;++T)$[T]=(0,n.convertToNumber)(y[T]);return $}var _=new a.NativeWeakSet;for(const y of(0,a.ReflectOwnKeys)(a.TypedArrayPrototype)){if(y===a.SymbolToStringTag)continue;const S=(0,a.ReflectGetOwnPropertyDescriptor)(a.TypedArrayPrototype,y);(0,a.ObjectHasOwn)(S,"get")&&typeof S.get=="function"&&(0,a.WeakSetPrototypeAdd)(_,S.get)}var v=(0,a.ObjectFreeze)({get(y,S,$){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,a.ObjectHasOwn)(y,S)?(0,n.convertToNumber)((0,a.ReflectGet)(y,S)):(0,a.WeakSetPrototypeHas)(_,(0,a.ObjectPrototype__lookupGetter__)(y,S))?(0,a.ReflectGet)(y,S):(0,a.ReflectGet)(y,S,$)},set(y,S,$,T){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,a.ObjectHasOwn)(y,S)?(0,a.ReflectSet)(y,S,(0,n.roundToFloat16Bits)($)):(0,a.ReflectSet)(y,S,$,T)},getOwnPropertyDescriptor(y,S){if((0,i.isCanonicalIntegerIndexString)(S)&&(0,a.ObjectHasOwn)(y,S)){const $=(0,a.ReflectGetOwnPropertyDescriptor)(y,S);return $.value=(0,n.convertToNumber)($.value),$}return(0,a.ReflectGetOwnPropertyDescriptor)(y,S)},defineProperty(y,S,$){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,a.ObjectHasOwn)(y,S)&&(0,a.ObjectHasOwn)($,"value")&&($.value=(0,n.roundToFloat16Bits)($.value)),(0,a.ReflectDefineProperty)(y,S,$)}}),h=class si{constructor(S,$,T){let d;if(f(S))d=(0,a.ReflectConstruct)(a.NativeUint16Array,[m(S)],new.target);else if((0,i.isObject)(S)&&!(0,i.isAnyArrayBuffer)(S)){let x,P;if((0,i.isNativeTypedArray)(S)){x=S,P=(0,a.TypedArrayPrototypeGetLength)(S);const j=(0,a.TypedArrayPrototypeGetBuffer)(S);if((0,s.IsDetachedBuffer)(j))throw(0,a.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);if((0,i.isNativeBigIntTypedArray)(S))throw(0,a.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);const F=new a.NativeArrayBuffer(P*l);d=(0,a.ReflectConstruct)(a.NativeUint16Array,[F],new.target)}else{const j=S[a.SymbolIterator];if(j!=null&&typeof j!="function")throw(0,a.NativeTypeError)(o.ITERATOR_PROPERTY_IS_NOT_CALLABLE);j!=null?(0,i.isOrdinaryArray)(S)?(x=S,P=S.length):(x=[...S],P=x.length):(x=S,P=(0,s.ToLength)(x.length)),d=(0,a.ReflectConstruct)(a.NativeUint16Array,[P],new.target)}for(let j=0;j<P;++j)d[j]=(0,n.roundToFloat16Bits)(x[j])}else d=(0,a.ReflectConstruct)(a.NativeUint16Array,arguments,new.target);const A=new a.NativeProxy(d,v);return(0,a.WeakMapPrototypeSet)(u,A,d),A}static from(S,...$){const T=this;if(!(0,a.ReflectHas)(T,r.brand))throw(0,a.NativeTypeError)(o.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);if(T===si){if(f(S)&&$.length===0){const V=m(S),X=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)(V),(0,a.TypedArrayPrototypeGetByteOffset)(V),(0,a.TypedArrayPrototypeGetLength)(V));return new si((0,a.TypedArrayPrototypeGetBuffer)((0,a.TypedArrayPrototypeSlice)(X)))}if($.length===0)return new si((0,a.TypedArrayPrototypeGetBuffer)((0,a.Uint16ArrayFrom)(S,n.roundToFloat16Bits)));const j=$[0],F=$[1];return new si((0,a.TypedArrayPrototypeGetBuffer)((0,a.Uint16ArrayFrom)(S,function(V,...X){return(0,n.roundToFloat16Bits)((0,a.ReflectApply)(j,this,[V,...(0,t.safeIfNeeded)(X)]))},F)))}let d,A;const x=S[a.SymbolIterator];if(x!=null&&typeof x!="function")throw(0,a.NativeTypeError)(o.ITERATOR_PROPERTY_IS_NOT_CALLABLE);if(x!=null)(0,i.isOrdinaryArray)(S)?(d=S,A=S.length):(0,i.isOrdinaryNativeTypedArray)(S)?(d=S,A=(0,a.TypedArrayPrototypeGetLength)(S)):(d=[...S],A=d.length);else{if(S==null)throw(0,a.NativeTypeError)(o.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);d=(0,a.NativeObject)(S),A=(0,s.ToLength)(d.length)}const P=new T(A);if($.length===0)for(let j=0;j<A;++j)P[j]=d[j];else{const j=$[0],F=$[1];for(let V=0;V<A;++V)P[V]=(0,a.ReflectApply)(j,F,[d[V],V])}return P}static of(...S){const $=this;if(!(0,a.ReflectHas)($,r.brand))throw(0,a.NativeTypeError)(o.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);const T=S.length;if($===si){const A=new si(T),x=m(A);for(let P=0;P<T;++P)x[P]=(0,n.roundToFloat16Bits)(S[P]);return A}const d=new $(T);for(let A=0;A<T;++A)d[A]=S[A];return d}keys(){c(this);const S=m(this);return(0,a.TypedArrayPrototypeKeys)(S)}values(){c(this);const S=m(this);return(0,t.wrap)(function*(){for(const $ of(0,a.TypedArrayPrototypeValues)(S))yield(0,n.convertToNumber)($)}())}entries(){c(this);const S=m(this);return(0,t.wrap)(function*(){for(const[$,T]of(0,a.TypedArrayPrototypeEntries)(S))yield[$,(0,n.convertToNumber)(T)]}())}at(S){c(this);const $=m(this),T=(0,a.TypedArrayPrototypeGetLength)($),d=(0,s.ToIntegerOrInfinity)(S),A=d>=0?d:T+d;if(!(A<0||A>=T))return(0,n.convertToNumber)($[A])}with(S,$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=(0,s.ToIntegerOrInfinity)(S),x=A>=0?A:d+A,P=+$;if(x<0||x>=d)throw(0,a.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);const j=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)(T),(0,a.TypedArrayPrototypeGetByteOffset)(T),(0,a.TypedArrayPrototypeGetLength)(T)),F=new si((0,a.TypedArrayPrototypeGetBuffer)((0,a.TypedArrayPrototypeSlice)(j))),V=m(F);return V[x]=(0,n.roundToFloat16Bits)(P),F}map(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0],x=(0,s.SpeciesConstructor)(T,si);if(x===si){const j=new si(d),F=m(j);for(let V=0;V<d;++V){const X=(0,n.convertToNumber)(T[V]);F[V]=(0,n.roundToFloat16Bits)((0,a.ReflectApply)(S,A,[X,V,this]))}return j}const P=new x(d);p(P,d);for(let j=0;j<d;++j){const F=(0,n.convertToNumber)(T[j]);P[j]=(0,a.ReflectApply)(S,A,[F,j,this])}return P}filter(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0],x=[];for(let F=0;F<d;++F){const V=(0,n.convertToNumber)(T[F]);(0,a.ReflectApply)(S,A,[V,F,this])&&(0,a.ArrayPrototypePush)(x,V)}const P=(0,s.SpeciesConstructor)(T,si),j=new P(x);return p(j),j}reduce(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T);if(d===0&&$.length===0)throw(0,a.NativeTypeError)(o.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let A,x;$.length===0?(A=(0,n.convertToNumber)(T[0]),x=1):(A=$[0],x=0);for(let P=x;P<d;++P)A=S(A,(0,n.convertToNumber)(T[P]),P,this);return A}reduceRight(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T);if(d===0&&$.length===0)throw(0,a.NativeTypeError)(o.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let A,x;$.length===0?(A=(0,n.convertToNumber)(T[d-1]),x=d-2):(A=$[0],x=d-1);for(let P=x;P>=0;--P)A=S(A,(0,n.convertToNumber)(T[P]),P,this);return A}forEach(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=0;x<d;++x)(0,a.ReflectApply)(S,A,[(0,n.convertToNumber)(T[x]),x,this])}find(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=0;x<d;++x){const P=(0,n.convertToNumber)(T[x]);if((0,a.ReflectApply)(S,A,[P,x,this]))return P}}findIndex(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=0;x<d;++x){const P=(0,n.convertToNumber)(T[x]);if((0,a.ReflectApply)(S,A,[P,x,this]))return x}return-1}findLast(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=d-1;x>=0;--x){const P=(0,n.convertToNumber)(T[x]);if((0,a.ReflectApply)(S,A,[P,x,this]))return P}}findLastIndex(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=d-1;x>=0;--x){const P=(0,n.convertToNumber)(T[x]);if((0,a.ReflectApply)(S,A,[P,x,this]))return x}return-1}every(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=0;x<d;++x)if(!(0,a.ReflectApply)(S,A,[(0,n.convertToNumber)(T[x]),x,this]))return!1;return!0}some(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=0;x<d;++x)if((0,a.ReflectApply)(S,A,[(0,n.convertToNumber)(T[x]),x,this]))return!0;return!1}set(S,...$){c(this);const T=m(this),d=(0,s.ToIntegerOrInfinity)($[0]);if(d<0)throw(0,a.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);if(S==null)throw(0,a.NativeTypeError)(o.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);if((0,i.isNativeBigIntTypedArray)(S))throw(0,a.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);if(f(S))return(0,a.TypedArrayPrototypeSet)(m(this),m(S),d);if((0,i.isNativeTypedArray)(S)){const j=(0,a.TypedArrayPrototypeGetBuffer)(S);if((0,s.IsDetachedBuffer)(j))throw(0,a.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER)}const A=(0,a.TypedArrayPrototypeGetLength)(T),x=(0,a.NativeObject)(S),P=(0,s.ToLength)(x.length);if(d===1/0||P+d>A)throw(0,a.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);for(let j=0;j<P;++j)T[j+d]=(0,n.roundToFloat16Bits)(x[j])}reverse(){c(this);const S=m(this);return(0,a.TypedArrayPrototypeReverse)(S),this}toReversed(){c(this);const S=m(this),$=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)(S),(0,a.TypedArrayPrototypeGetByteOffset)(S),(0,a.TypedArrayPrototypeGetLength)(S)),T=new si((0,a.TypedArrayPrototypeGetBuffer)((0,a.TypedArrayPrototypeSlice)($))),d=m(T);return(0,a.TypedArrayPrototypeReverse)(d),T}fill(S,...$){c(this);const T=m(this);return(0,a.TypedArrayPrototypeFill)(T,(0,n.roundToFloat16Bits)(S),...(0,t.safeIfNeeded)($)),this}copyWithin(S,$,...T){c(this);const d=m(this);return(0,a.TypedArrayPrototypeCopyWithin)(d,S,$,...(0,t.safeIfNeeded)(T)),this}sort(S){c(this);const $=m(this),T=S!==void 0?S:s.defaultCompare;return(0,a.TypedArrayPrototypeSort)($,(d,A)=>T((0,n.convertToNumber)(d),(0,n.convertToNumber)(A))),this}toSorted(S){c(this);const $=m(this);if(S!==void 0&&typeof S!="function")throw new a.NativeTypeError(o.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED);const T=S!==void 0?S:s.defaultCompare,d=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)($),(0,a.TypedArrayPrototypeGetByteOffset)($),(0,a.TypedArrayPrototypeGetLength)($)),A=new si((0,a.TypedArrayPrototypeGetBuffer)((0,a.TypedArrayPrototypeSlice)(d))),x=m(A);return(0,a.TypedArrayPrototypeSort)(x,(P,j)=>T((0,n.convertToNumber)(P),(0,n.convertToNumber)(j))),A}slice(S,$){c(this);const T=m(this),d=(0,s.SpeciesConstructor)(T,si);if(d===si){const fe=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)(T),(0,a.TypedArrayPrototypeGetByteOffset)(T),(0,a.TypedArrayPrototypeGetLength)(T));return new si((0,a.TypedArrayPrototypeGetBuffer)((0,a.TypedArrayPrototypeSlice)(fe,S,$)))}const A=(0,a.TypedArrayPrototypeGetLength)(T),x=(0,s.ToIntegerOrInfinity)(S),P=$===void 0?A:(0,s.ToIntegerOrInfinity)($);let j;x===-1/0?j=0:x<0?j=A+x>0?A+x:0:j=A<x?A:x;let F;P===-1/0?F=0:P<0?F=A+P>0?A+P:0:F=A<P?A:P;const V=F-j>0?F-j:0,X=new d(V);if(p(X,V),V===0)return X;const H=(0,a.TypedArrayPrototypeGetBuffer)(T);if((0,s.IsDetachedBuffer)(H))throw(0,a.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);let Z=0;for(;j<F;)X[Z]=(0,n.convertToNumber)(T[j]),++j,++Z;return X}subarray(S,$){c(this);const T=m(this),d=(0,s.SpeciesConstructor)(T,si),A=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)(T),(0,a.TypedArrayPrototypeGetByteOffset)(T),(0,a.TypedArrayPrototypeGetLength)(T)),x=(0,a.TypedArrayPrototypeSubarray)(A,S,$),P=new d((0,a.TypedArrayPrototypeGetBuffer)(x),(0,a.TypedArrayPrototypeGetByteOffset)(x),(0,a.TypedArrayPrototypeGetLength)(x));return p(P),P}indexOf(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T);let A=(0,s.ToIntegerOrInfinity)($[0]);if(A===1/0)return-1;A<0&&(A+=d,A<0&&(A=0));for(let x=A;x<d;++x)if((0,a.ObjectHasOwn)(T,x)&&(0,n.convertToNumber)(T[x])===S)return x;return-1}lastIndexOf(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T);let A=$.length>=1?(0,s.ToIntegerOrInfinity)($[0]):d-1;if(A===-1/0)return-1;A>=0?A=A<d-1?A:d-1:A+=d;for(let x=A;x>=0;--x)if((0,a.ObjectHasOwn)(T,x)&&(0,n.convertToNumber)(T[x])===S)return x;return-1}includes(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T);let A=(0,s.ToIntegerOrInfinity)($[0]);if(A===1/0)return!1;A<0&&(A+=d,A<0&&(A=0));const x=(0,a.NumberIsNaN)(S);for(let P=A;P<d;++P){const j=(0,n.convertToNumber)(T[P]);if(x&&(0,a.NumberIsNaN)(j)||j===S)return!0}return!1}join(S){c(this);const $=m(this),T=g($);return(0,a.ArrayPrototypeJoin)(T,S)}toLocaleString(...S){c(this);const $=m(this),T=g($);return(0,a.ArrayPrototypeToLocaleString)(T,...(0,t.safeIfNeeded)(S))}get[a.SymbolToStringTag](){if(f(this))return"Float16Array"}};e.Float16Array=h,(0,a.ObjectDefineProperty)(h,"BYTES_PER_ELEMENT",{value:l}),(0,a.ObjectDefineProperty)(h,r.brand,{}),(0,a.ReflectSetPrototypeOf)(h,a.TypedArray);var E=h.prototype;(0,a.ObjectDefineProperty)(E,"BYTES_PER_ELEMENT",{value:l}),(0,a.ObjectDefineProperty)(E,a.SymbolIterator,{value:E.values,writable:!0,configurable:!0}),(0,a.ReflectSetPrototypeOf)(E,a.TypedArrayPrototype)}}),Zee=Pe({"../../node_modules/@petamoriken/float16/lib/isTypedArray.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.isTypedArray=n;var t=rq(),r=nE();function n(i){return(0,r.isNativeTypedArray)(i)||(0,t.isFloat16Array)(i)}}}),ete=Pe({"../../node_modules/@petamoriken/float16/lib/DataView.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getFloat16=i,e.setFloat16=o;var t=tq(),r=KR(),n=Ff();function i(a,s,...l){return(0,r.convertToNumber)((0,n.DataViewPrototypeGetUint16)(a,s,...(0,t.safeIfNeeded)(l)))}function o(a,s,l,...u){return(0,n.DataViewPrototypeSetUint16)(a,s,(0,r.roundToFloat16Bits)(l),...(0,t.safeIfNeeded)(u))}}}),tte=Pe({"../../node_modules/@petamoriken/float16/lib/f16round.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.f16round=r;var t=KR();function r(n){return(0,t.roundToFloat16)(n)}}}),rte=Pe({"../../node_modules/@petamoriken/float16/lib/index.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=rq();e.Float16Array=t.Float16Array,e.isFloat16Array=t.isFloat16Array;var r=Zee();e.isTypedArray=r.isTypedArray;var n=ete();e.getFloat16=n.getFloat16,e.setFloat16=n.setFloat16;var i=tte();e.f16round=i.f16round,e.hfround=i.f16round}}),nq=Pe({"../core/dist/protocol-interfaces.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.Endianness=void 0;var t;(function(r){r.BIG_ENDIAN="BIG_ENDIAN",r.LITTLE_ENDIAN="LITTLE_ENDIAN",r.BIG_ENDIAN_BYTE_SWAP="BIG_ENDIAN_BYTE_SWAP",r.LITTLE_ENDIAN_BYTE_SWAP="LITTLE_ENDIAN_BYTE_SWAP"})(t||(e.Endianness=t={}))}}),iq=Pe({"../core/dist/codecs/octetstream-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=rte(),r=No(),n=nq(),{debug:i,warn:o}=(0,r.createLoggers)("core","octetstream-codec"),a=class{getMediaType(){return"application/octet-stream"}bytesToValue(s,l,u={}){var v,h;i("OctetstreamCodec parsing",s),i("Parameters",u);const f=u.length!=null?parseInt(u.length):(o("Missing 'length' parameter necessary for write. I'll do my best"),void 0);if(f!==void 0){if(isNaN(f)||f<0)throw new Error("'length' parameter must be a non-negative number");if(f!==s.length)throw new Error(`Lengths do not match, required: ${f} provided: ${s.length}`)}let c=!0;if(u.signed!==void 0){if(u.signed!=="true"&&u.signed!=="false")throw new Error("'signed' parameter must be 'true' or 'false'");c=u.signed==="true"}let p=(l==null?void 0:l["ex:bitLength"])!==void 0?parseInt(l["ex:bitLength"]):s.length*8;if(isNaN(p)||p<0)throw new Error("'ex:bitLength' must be a non-negative number");const m=(l==null?void 0:l["ex:bitOffset"])!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(m)||m<0)throw new Error("'ex:bitOffset' must be a non-negative number");const g=((v=u.byteSeq)==null?void 0:v.includes(n.Endianness.LITTLE_ENDIAN))!==!0;let _=l==null?void 0:l.type;if(!_)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(_.toLowerCase())){const E=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(_.toLowerCase());if(E){if(E[1]==="u"){if((u==null?void 0:u.signed)==="true")throw new Error("Type is unsigned but 'signed' is true");c=!1}if(_=E[2],parseInt(E[3])!==p)throw new Error(`Type is '${(E[1]??"")+E[2]+E[3]}' but 'ex:bitLength' is `+p)}}if(p>s.length*8-m)throw new Error(`'ex:bitLength' is ${p}, but buffer length at offset ${m} is ${s.length*8-m}`);switch(((h=u==null?void 0:u.byteSeq)==null?void 0:h.includes("BYTE_SWAP"))===!0&&s.length>1&&s.swap16(),m!==void 0&&p<s.length*8&&(s=this.readBits(s,m,p),p=s.length*8),_){case"boolean":return!s.every(E=>E===0);case"byte":case"short":case"int":case"integer":return this.integerToValue(s,{dataLength:p,bigEndian:g,signed:c});case"float":case"double":case"number":return this.numberToValue(s,{dataLength:p,bigEndian:g});case"string":return s.toString(u.charset);case"object":if(l===void 0||l.properties===void 0)throw new Error("Missing schema for object");return this.objectToValue(s,l,u);case"null":return null;case"array":default:throw new Error("Unable to handle dataType "+_)}}integerToValue(s,l){const{dataLength:u,bigEndian:f,signed:c}=l;switch(u){case 8:return c?s.readInt8(0):s.readUInt8(0);case 16:return f?c?s.readInt16BE(0):s.readUInt16BE(0):c?s.readInt16LE(0):s.readUInt16LE(0);case 32:return f?c?s.readInt32BE(0):s.readUInt32BE(0):c?s.readInt32LE(0):s.readUInt32LE(0);default:{const p=f?c?s.readIntBE(0,u/8):s.readUIntBE(0,u/8):c?s.readIntLE(0,u/8):s.readUIntLE(0,u/8);return Number.isSafeInteger(p)||o("Result is not a safe integer"),p}}}numberToValue(s,l){const{dataLength:u,bigEndian:f}=l;switch(u){case 16:return(0,t.getFloat16)(new DataView(s.buffer),s.byteOffset,!f);case 32:return f?s.readFloatBE(0):s.readFloatLE(0);case 64:return f?s.readDoubleBE(0):s.readDoubleLE(0);default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+u)}}objectToValue(s,l,u={}){if((l==null?void 0:l.type)!=="object")throw new Error("Schema must be of type 'object'");const f={},c=Object.getOwnPropertyNames(l.properties);for(const p of c){const m=l.properties[p],g=s.length.toString();f[p]=this.bytesToValue(s,m,{...u,length:g})}return f}valueToBytes(s,l,u={}){var v;i(`OctetstreamCodec serializing '${s}'`);const f=((v=u.byteSeq)==null?void 0:v.includes(n.Endianness.LITTLE_ENDIAN))!==!0;let c=!0;if(u.signed!==void 0){if(u.signed!=="true"&&u.signed!=="false")throw new Error("'signed' parameter must be 'true' or 'false'");c=u.signed==="true"}let p=u.length!=null?parseInt(u.length):(o("Missing 'length' parameter necessary for write. I'll do my best"),void 0);if(p!==void 0&&(isNaN(p)||p<0))throw new Error("'length' parameter must be a non-negative number");let m=(l==null?void 0:l["ex:bitLength"])!==void 0?parseInt(l["ex:bitLength"]):void 0;if(m!==void 0&&(isNaN(m)||m<0))throw new Error("'ex:bitLength' must be a non-negative number");const g=(l==null?void 0:l["ex:bitOffset"])!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(g)||g<0)throw new Error("'ex:bitOffset' must be a non-negative number");let _=(l==null?void 0:l.type)??void 0;if(s===void 0)throw new Error("Undefined value");if(_===void 0)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(_.toLowerCase())){const h=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(_.toLowerCase());if(h){if(h[1]==="u"){if((u==null?void 0:u.signed)==="true")throw new Error("Type is unsigned but 'signed' is true");c=!1}if(_=h[2],m!==void 0){if(parseInt(h[3])!==m)throw new Error(`Type is '${(h[1]??"")+h[2]+h[3]}' but 'ex:bitLength' is `+m)}else m=+h[3]}}if(p===void 0)m!==void 0&&(p=Math.ceil((g+m)/8)),o("Missing 'length' parameter necessary for write. I'll do my best");else if(m===void 0)m=p*8;else if(p*8<m+g)throw new Error("Length is too short for 'ex:bitLength' and 'ex:bitOffset'");switch(_){case"boolean":if(s===!0){const h=Yr.alloc(p??1,0);for(let E=g;E<g+(m??h.length*8);++E)h[Math.floor(E/8)]|=1<<7-E%8;return h}else return Yr.alloc(p??1,0);case"byte":case"short":case"int":case"integer":return this.valueToInteger(s,{bitLength:m,byteLength:p,bigEndian:f,offset:g,signed:c,byteSeq:u.byteSeq??""});case"float":case"number":return this.valueToNumber(s,{bitLength:m,byteLength:p,bigEndian:f,offset:g,byteSeq:u.byteSeq??""});case"string":return this.valueToString(s,{bitLength:m,byteLength:p,offset:g,charset:u.charset??"utf8"});case"object":if(l===void 0||l.properties===void 0)throw new Error("Missing schema for object");return s===null?Yr.alloc(0):this.valueToObject(s,l,u);case"array":case"undefined":throw new Error("Unable to handle dataType "+_);case"null":return Yr.alloc(0);default:throw new Error("Unable to handle dataType "+_)}}valueToInteger(s,l){const u=l.bitLength??32,f=l.offset??0,c=l.byteLength??Math.ceil((f+u)/8),{bigEndian:p,signed:m,byteSeq:g}=l;if(typeof s!="number")throw new Error("Value is not a number");Number.isSafeInteger(s)||o("Value is not a safe integer",s);const _=Math.pow(2,m?u-1:u)-1;if(m){if(s<-_-1||s>_)throw new Error("Integer overflow when representing "+s+" as a signed integer using "+u+" bit(s)")}else if(s<0||s>_)throw new Error("Integer overflow when representing "+s+" as an unsigned integer using "+u+" bit(s)");const v=Yr.alloc(c);if(f!==0)return this.writeBits(v,s,f,u,p),v;switch(g!=null&&g.includes("BYTE_SwAP")&&c>1&&v.swap16(),c){case 1:m?v.writeInt8(s,0):v.writeUInt8(s,0);break;case 2:p?m?v.writeInt16BE(s,0):v.writeUInt16BE(s,0):m?v.writeInt16LE(s,0):v.writeUInt16LE(s,0);break;case 4:p?m?v.writeInt32BE(s,0):v.writeUInt32BE(s,0):m?v.writeInt32LE(s,0):v.writeUInt32LE(s,0);break;default:m&&s<0&&(s+=1<<8*u);for(let h=0;h<c;++h){const E=s%256;s/=256,v.writeInt8(E,p?c-h-1:h)}}return v}valueToNumber(s,l){if(typeof s!="number")throw new Error("Value is not a number");const u=l.bitLength??(l.byteLength!==void 0?l.byteLength*8:32),f=l.offset??0,{bigEndian:c,byteSeq:p}=l,m=l.byteLength??Math.ceil((f+u)/8),g=Math.floor(f/8),_=Yr.alloc(m);if(f%8!==0)throw new Error("Offset must be a multiple of 8");switch(p&&m>1&&_.swap16(),u){case 16:(0,t.setFloat16)(new DataView(_.buffer),g,s,!c);break;case 32:c?_.writeFloatBE(s,g):_.writeFloatLE(s,0);break;case 64:c?_.writeDoubleBE(s,g):_.writeDoubleLE(s,0);break;default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+u)}return _}valueToString(s,l){if(typeof s!="string")throw new Error("Value is not a string");const u=l.offset??0,{charset:f}=l,c=String(s);if(!Yr.isEncoding(f))throw new Error("Invalid charset "+f);const p=Yr.from(c,f),m=l.bitLength??p.length*8;if(p.length>m)throw new Error(`String is ${p.length*8} bits long, but 'ex:bitLength' is ${m}`);const g=l.byteLength??Math.ceil((u+m)/8);if(u%8===0)return Yr.concat([Yr.alloc(g-m/8),p]);{const _=Yr.alloc(g);return this.copyBits(p,0,_,u,m),_}}valueToObject(s,l,u={},f){if(typeof s!="object"||s===null)throw new Error("Value is not an object");if(u.length===void 0)throw new Error("Missing 'length' parameter necessary for write");const c=parseInt(u.length),p=l["ex:bitOffset"]!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(p)||p<0)throw new Error("'ex:bitOffset' must be a non-negative number");if(p>c*8)throw new Error(`'ex:bitOffset' ${p} exceeds 'length' ${c}`);f=f??Yr.alloc(c);for(const[m,g]of Object.entries(l.properties)){if(Object.hasOwnProperty.call(s,m)===!1)throw new Error(`Missing property '${m}'`);const _=s[m],v=parseInt(g["ex:bitOffset"]),h=parseInt(g["ex:bitLength"]);let E;g.type==="object"?E=this.valueToObject(_,g,u,f):E=this.valueToBytes(_,g,u),this.copyBits(E,v,f,p+v,h)}return f}readBits(s,l,u){if(l<0)throw new Error("bitOffset must be >= 0");if(u<0)throw new Error("bitLength must be >= 0");if(l+u>s.length*8)throw new Error("bitOffset + bitLength must be <= buffer.length * 8");const f=Yr.alloc(Math.ceil(u/8));let c=Math.floor(l/8),p=l%8,m=s[c],g=0,_=0;for(let v=0;v<u;v++){const h=m>>7-p&1;g=g<<1|h,p++,p>7&&(c++,p=0,m=s[c]),(v+1===u%8||(v+1)%8===u%8||v===u-1)&&(f[_]=g,g=0,_++)}return f}writeBits(s,l,u,f,c){let p=Math.floor(u/8),m=u%8;for(let g=0;g<f;g++){const _=c?l>>f-1-g&1:l>>g&1;s[p]|=_<<(c?7-m:m),m++,m===8&&(m=0,p++)}}copyBits(s,l,u,f,c){if(l%8===0&&f%8===0&&c%8===0)s.copy(u,f/8,l/8,l+c/8);else{const p=this.readBits(s,l,c);if(p.length<=6)this.writeBits(u,p.readUIntBE(0,p.length),f,c,!0);else for(let m=0;m<p.length;m++){const g=p.readUInt8(m);this.writeBits(u,g,f+m*8,8,!0)}}}};e.default=a}}),rl=Pe({"../core/dist/content-serdes.js"(e){Te();var t=e&&e.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContentSerdes=void 0;var r=W6(),n=t(X6()),i=t(Q6()),o=t(Z6()),a=t(eq()),s=t(iq()),l=(ja(),Pr(ea)),u=Co(),f=WR(),c=No(),{debug:p,warn:m}=(0,c.createLoggers)("core","content-serdes"),g=class Uo{constructor(){this.codecs=new Map,this.offered=new Set}static get(){return this.instance==null&&(this.instance=new Uo,this.instance.addCodec(new i.default,!0),this.instance.addCodec(new i.default("application/senml+json")),this.instance.addCodec(new i.default("application/td+json")),this.instance.addCodec(new i.default("application/ld+json")),this.instance.addCodec(new n.default,!0),this.instance.addCodec(new o.default),this.instance.addCodec(new o.default("text/html")),this.instance.addCodec(new o.default("text/css")),this.instance.addCodec(new o.default("application/xml")),this.instance.addCodec(new o.default("application/xhtml+xml")),this.instance.addCodec(new o.default("image/svg+xml")),this.instance.addCodec(new a.default("image/png")),this.instance.addCodec(new a.default("image/gif")),this.instance.addCodec(new a.default("image/jpeg")),this.instance.addCodec(new s.default)),this.instance}static getMediaType(v){return v.split(";")[0].trim()}static getMediaTypeParameters(v){const h=v.split(";").slice(1),E={};return h.forEach(y=>{const S=y.indexOf("=");S>=0?E[y.substr(0,S).trim()]=y.substr(S+1).trim():E[y.trim()]=void 0}),E}addCodec(v,h=!1){Uo.get().codecs.set(v.getMediaType(),v),h&&Uo.get().offered.add(v.getMediaType())}getSupportedMediaTypes(){return Array.from(Uo.get().codecs.keys())}getOfferedMediaTypes(){return Array.from(Uo.get().offered)}isSupported(v){const h=Uo.getMediaType(v);return this.codecs.has(h)}contentToValue(v,h){if(v.type===void 0)if(v.body.byteLength>0)v.type=Uo.DEFAULT;else return;const E=Uo.getMediaType(v.type),y=Uo.getMediaTypeParameters(v.type);return this.codecs.has(E)?(p(`ContentSerdes deserializing from ${v.type}`),this.codecs.get(E).bytesToValue(v.body,h,y)):(m(`ContentSerdes passthrough due to unsupported media type '${E}'`),v.body.toString())}valueToContent(v,h,E=Uo.DEFAULT){if(v===void 0&&m("ContentSerdes valueToContent got no value"),v instanceof f.ReadableStream)return new r.Content(E,u.ProtocolHelpers.toNodeStream(v));let y;const S=Uo.getMediaType(E),$=Uo.getMediaTypeParameters(E),T=this.codecs.get(S);return T?(p(`ContentSerdes serializing to ${E}`),y=T.valueToBytes(v,h,$)):(m(`ContentSerdes passthrough due to unsupported serialization format '${E}'`),y=Yr.from(v===null?"":v.toString())),new r.Content(E,l.Readable.from([y]))}};e.ContentSerdes=g,g.DEFAULT="application/json",g.TD="application/td+json",g.JSON_LD="application/ld+json",e.default=g.get()}}),Mb=Pe({"../core/node_modules/ajv/dist/compile/codegen/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(h){if(super(),!e.IDENTIFIER.test(h))throw new Error("CodeGen: name must be a valid identifier");this.str=h}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(h){super(),this._items=typeof h=="string"?[h]:h}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const h=this._items[0];return h===""||h==='""'}get str(){var h;return(h=this._str)!==null&&h!==void 0?h:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var h;return(h=this._names)!==null&&h!==void 0?h:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(h,...E){const y=[h[0]];let S=0;for(;S<E.length;)s(y,E[S]),y.push(h[++S]);return new n(y)}e._=i;var o=new n("+");function a(h,...E){const y=[m(h[0])];let S=0;for(;S<E.length;)y.push(o),s(y,E[S]),y.push(o,m(h[++S]));return l(y),new n(y)}e.str=a;function s(h,E){E instanceof n?h.push(...E._items):E instanceof r?h.push(E):h.push(c(E))}e.addCodeArg=s;function l(h){let E=1;for(;E<h.length-1;){if(h[E]===o){const y=u(h[E-1],h[E+1]);if(y!==void 0){h.splice(E-1,3,y);continue}h[E++]="+"}E++}}function u(h,E){if(E==='""')return h;if(h==='""')return E;if(typeof h=="string")return E instanceof r||h[h.length-1]!=='"'?void 0:typeof E!="string"?`${h.slice(0,-1)}${E}"`:E[0]==='"'?h.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(h instanceof r))return`"${h}${E.slice(1)}`}function f(h,E){return E.emptyStr()?h:h.emptyStr()?E:a`${h}${E}`}e.strConcat=f;function c(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:m(Array.isArray(h)?h.join(","):h)}function p(h){return new n(m(h))}e.stringify=p;function m(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):i`[${h}]`}e.getProperty=g;function _(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(h){return new n(h.toString())}e.regexpCode=v}}),_D=Pe({"../core/node_modules/ajv/dist/compile/codegen/scope.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=Mb(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var a=(0,t._)`\n`,s=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?a:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:p}=c,m=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[p];if(g){const h=g.get(m);if(h)return h}else g=this._values[p]=new Map;g.set(m,c);const _=this._scope[p]||(this._scope[p]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:p,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let p=t.nil;for(const m in l){const g=l[m];if(!g)continue;const _=f[m]=f[m]||new Map;g.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let h=u(v);if(h){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${E} ${v} = ${h};${this.opts._n}`}else if(h=c==null?void 0:c(v))p=(0,t._)`${p}${h}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return p}};e.ValueScope=s}}),br=Pe({"../core/node_modules/ajv/dist/compile/codegen/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=Mb(),r=_D(),n=Mb();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=_D();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(O,N){return this}},a=class extends o{constructor(O,N,q){super(),this.varKind=O,this.name=N,this.rhs=q}render({es5:O,_n:N}){const q=O?r.varKinds.var:this.varKind,ne=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${ne};`+N}optimizeNames(O,N){if(O[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,O,N)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},s=class extends o{constructor(O,N,q){super(),this.lhs=O,this.rhs=N,this.sideEffects=q}render({_n:O}){return`${this.lhs} = ${this.rhs};`+O}optimizeNames(O,N){if(!(this.lhs instanceof t.Name&&!O[this.lhs.str]&&!this.sideEffects))return this.rhs=X(this.rhs,O,N),this}get names(){const O=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(O,this.rhs)}},l=class extends s{constructor(O,N,q,ne){super(O,q,ne),this.op=N}render({_n:O}){return`${this.lhs} ${this.op}= ${this.rhs};`+O}},u=class extends o{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`${this.label}:`+O}},f=class extends o{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`break${this.label?` ${this.label}`:""};`+O}},c=class extends o{constructor(O){super(),this.error=O}render({_n:O}){return`throw ${this.error};`+O}get names(){return this.error.names}},p=class extends o{constructor(O){super(),this.code=O}render({_n:O}){return`${this.code};`+O}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(O,N){return this.code=X(this.code,O,N),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},m=class extends o{constructor(O=[]){super(),this.nodes=O}render(O){return this.nodes.reduce((N,q)=>N+q.render(O),"")}optimizeNodes(){const{nodes:O}=this;let N=O.length;for(;N--;){const q=O[N].optimizeNodes();Array.isArray(q)?O.splice(N,1,...q):q?O[N]=q:O.splice(N,1)}return O.length>0?this:void 0}optimizeNames(O,N){const{nodes:q}=this;let ne=q.length;for(;ne--;){const J=q[ne];J.optimizeNames(O,N)||(H(O,J.names),q.splice(ne,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((O,N)=>F(O,N.names),{})}},g=class extends m{render(O){return"{"+O._n+super.render(O)+"}"+O._n}},_=class extends m{},v=class extends g{};v.kind="else";var h=class yw extends g{constructor(N,q){super(q),this.condition=N}render(N){let q=`if(${this.condition})`+super.render(N);return this.else&&(q+="else "+this.else.render(N)),q}optimizeNodes(){super.optimizeNodes();const N=this.condition;if(N===!0)return this.nodes;let q=this.else;if(q){const ne=q.optimizeNodes();q=this.else=Array.isArray(ne)?new v(ne):ne}if(q)return N===!1?q instanceof yw?q:q.nodes:this.nodes.length?this:new yw(Z(N),q instanceof yw?[q]:q.nodes);if(!(N===!1||!this.nodes.length))return this}optimizeNames(N,q){var ne;if(this.else=(ne=this.else)===null||ne===void 0?void 0:ne.optimizeNames(N,q),!!(super.optimizeNames(N,q)||this.else))return this.condition=X(this.condition,N,q),this}get names(){const N=super.names;return V(N,this.condition),this.else&&F(N,this.else.names),N}};h.kind="if";var E=class extends g{};E.kind="for";var y=class extends E{constructor(O){super(),this.iteration=O}render(O){return`for(${this.iteration})`+super.render(O)}optimizeNames(O,N){if(super.optimizeNames(O,N))return this.iteration=X(this.iteration,O,N),this}get names(){return F(super.names,this.iteration.names)}},S=class extends E{constructor(O,N,q,ne){super(),this.varKind=O,this.name=N,this.from=q,this.to=ne}render(O){const N=O.es5?r.varKinds.var:this.varKind,{name:q,from:ne,to:J}=this;return`for(${N} ${q}=${ne}; ${q}<${J}; ${q}++)`+super.render(O)}get names(){const O=V(super.names,this.from);return V(O,this.to)}},$=class extends E{constructor(O,N,q,ne){super(),this.loop=O,this.varKind=N,this.name=q,this.iterable=ne}render(O){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(O)}optimizeNames(O,N){if(super.optimizeNames(O,N))return this.iterable=X(this.iterable,O,N),this}get names(){return F(super.names,this.iterable.names)}},T=class extends g{constructor(O,N,q){super(),this.name=O,this.args=N,this.async=q}render(O){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(O)}};T.kind="func";var d=class extends m{render(O){return"return "+super.render(O)}};d.kind="return";var A=class extends g{render(O){let N="try"+super.render(O);return this.catch&&(N+=this.catch.render(O)),this.finally&&(N+=this.finally.render(O)),N}optimizeNodes(){var O,N;return super.optimizeNodes(),(O=this.catch)===null||O===void 0||O.optimizeNodes(),(N=this.finally)===null||N===void 0||N.optimizeNodes(),this}optimizeNames(O,N){var q,ne;return super.optimizeNames(O,N),(q=this.catch)===null||q===void 0||q.optimizeNames(O,N),(ne=this.finally)===null||ne===void 0||ne.optimizeNames(O,N),this}get names(){const O=super.names;return this.catch&&F(O,this.catch.names),this.finally&&F(O,this.finally.names),O}},x=class extends g{constructor(O){super(),this.error=O}render(O){return`catch(${this.error})`+super.render(O)}};x.kind="catch";var P=class extends g{render(O){return"finally"+super.render(O)}};P.kind="finally";var j=class{constructor(O,N={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...N,_n:N.lines?`
`:""},this._extScope=O,this._scope=new r.Scope({parent:O}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(O){return this._scope.name(O)}scopeName(O){return this._extScope.name(O)}scopeValue(O,N){const q=this._extScope.value(O,N);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(O,N){return this._extScope.getValue(O,N)}scopeRefs(O){return this._extScope.scopeRefs(O,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(O,N,q,ne){const J=this._scope.toName(N);return q!==void 0&&ne&&(this._constants[J.str]=q),this._leafNode(new a(O,J,q)),J}const(O,N,q){return this._def(r.varKinds.const,O,N,q)}let(O,N,q){return this._def(r.varKinds.let,O,N,q)}var(O,N,q){return this._def(r.varKinds.var,O,N,q)}assign(O,N,q){return this._leafNode(new s(O,N,q))}add(O,N){return this._leafNode(new l(O,e.operators.ADD,N))}code(O){return typeof O=="function"?O():O!==t.nil&&this._leafNode(new p(O)),this}object(...O){const N=["{"];for(const[q,ne]of O)N.length>1&&N.push(","),N.push(q),(q!==ne||this.opts.es5)&&(N.push(":"),(0,t.addCodeArg)(N,ne));return N.push("}"),new t._Code(N)}if(O,N,q){if(this._blockNode(new h(O)),N&&q)this.code(N).else().code(q).endIf();else if(N)this.code(N).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(O){return this._elseNode(new h(O))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(h,v)}_for(O,N){return this._blockNode(O),N&&this.code(N).endFor(),this}for(O,N){return this._for(new y(O),N)}forRange(O,N,q,ne,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(O);return this._for(new S(J,Y,N,q),()=>ne(Y))}forOf(O,N,q,ne=r.varKinds.const){const J=this._scope.toName(O);if(this.opts.es5){const Y=N instanceof t.Name?N:this.var("_arr",N);return this.forRange("_i",0,(0,t._)`${Y}.length`,oe=>{this.var(J,(0,t._)`${Y}[${oe}]`),q(J)})}return this._for(new $("of",ne,J,N),()=>q(J))}forIn(O,N,q,ne=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(O,(0,t._)`Object.keys(${N})`,q);const J=this._scope.toName(O);return this._for(new $("in",ne,J,N),()=>q(J))}endFor(){return this._endBlockNode(E)}label(O){return this._leafNode(new u(O))}break(O){return this._leafNode(new f(O))}return(O){const N=new d;if(this._blockNode(N),this.code(O),N.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(O,N,q){if(!N&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const ne=new A;if(this._blockNode(ne),this.code(O),N){const J=this.name("e");this._currNode=ne.catch=new x(J),N(J)}return q&&(this._currNode=ne.finally=new P,this.code(q)),this._endBlockNode(x,P)}throw(O){return this._leafNode(new c(O))}block(O,N){return this._blockStarts.push(this._nodes.length),O&&this.code(O).endBlock(N),this}endBlock(O){const N=this._blockStarts.pop();if(N===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-N;if(q<0||O!==void 0&&q!==O)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${O} expected`);return this._nodes.length=N,this}func(O,N=t.nil,q,ne){return this._blockNode(new T(O,N,q)),ne&&this.code(ne).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(O=1){for(;O-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(O){return this._currNode.nodes.push(O),this}_blockNode(O){this._currNode.nodes.push(O),this._nodes.push(O)}_endBlockNode(O,N){const q=this._currNode;if(q instanceof O||N&&q instanceof N)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${N?`${O.kind}/${N.kind}`:O.kind}"`)}_elseNode(O){const N=this._currNode;if(!(N instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=N.else=O,this}get _root(){return this._nodes[0]}get _currNode(){const O=this._nodes;return O[O.length-1]}set _currNode(O){const N=this._nodes;N[N.length-1]=O}};e.CodeGen=j;function F(O,N){for(const q in N)O[q]=(O[q]||0)+(N[q]||0);return O}function V(O,N){return N instanceof t._CodeOrName?F(O,N.names):O}function X(O,N,q){if(O instanceof t.Name)return ne(O);if(!J(O))return O;return new t._Code(O._items.reduce((Y,oe)=>(oe instanceof t.Name&&(oe=ne(oe)),oe instanceof t._Code?Y.push(...oe._items):Y.push(oe),Y),[]));function ne(Y){const oe=q[Y.str];return oe===void 0||N[Y.str]!==1?Y:(delete N[Y.str],oe)}function J(Y){return Y instanceof t._Code&&Y._items.some(oe=>oe instanceof t.Name&&N[oe.str]===1&&q[oe.str]!==void 0)}}function H(O,N){for(const q in N)O[q]=(O[q]||0)-(N[q]||0)}function Z(O){return typeof O=="boolean"||typeof O=="number"||O===null?!O:(0,t._)`!${K(O)}`}e.not=Z;var fe=B(e.operators.AND);function ee(...O){return O.reduce(fe)}e.and=ee;var ae=B(e.operators.OR);function M(...O){return O.reduce(ae)}e.or=M;function B(O){return(N,q)=>N===t.nil?q:q===t.nil?N:(0,t._)`${K(N)} ${O} ${K(q)}`}function K(O){return O instanceof t.Name?O:(0,t._)`(${O})`}}}),Ur=Pe({"../core/node_modules/ajv/dist/compile/util.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=br(),r=Mb();function n(T){const d={};for(const A of T)d[A]=!0;return d}e.toHash=n;function i(T,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(T,d),!a(d,T.self.RULES.all))}e.alwaysValidSchema=i;function o(T,d=T.schema){const{opts:A,self:x}=T;if(!A.strictSchema||typeof d=="boolean")return;const P=x.RULES.keywords;for(const j in d)P[j]||$(T,`unknown keyword: "${j}"`)}e.checkUnknownRules=o;function a(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(d[A])return!0;return!1}e.schemaHasRules=a;function s(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(A!=="$ref"&&d.all[A])return!0;return!1}e.schemaHasRulesButRef=s;function l({topSchemaRef:T,schemaPath:d},A,x,P){if(!P){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${T}${d}${(0,t.getProperty)(x)}`}e.schemaRefOrVal=l;function u(T){return p(decodeURIComponent(T))}e.unescapeFragment=u;function f(T){return encodeURIComponent(c(T))}e.escapeFragment=f;function c(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function p(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=p;function m(T,d){if(Array.isArray(T))for(const A of T)d(A);else d(T)}e.eachItem=m;function g({mergeNames:T,mergeToName:d,mergeValues:A,resultToName:x}){return(P,j,F,V)=>{const X=F===void 0?j:F instanceof t.Name?(j instanceof t.Name?T(P,j,F):d(P,j,F),F):j instanceof t.Name?(d(P,F,j),j):A(j,F);return V===t.Name&&!(X instanceof t.Name)?x(P,X):X}}e.mergeEvaluated={props:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>{T.if((0,t._)`${d} === true`,()=>T.assign(A,!0),()=>T.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${d})`))}),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>{d===!0?T.assign(A,!0):(T.assign(A,(0,t._)`${A} || {}`),v(T,A,d))}),mergeValues:(T,d)=>T===!0?!0:{...T,...d},resultToName:_}),items:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>T.assign(A,(0,t._)`${d} === true ? true : ${A} > ${d} ? ${A} : ${d}`)),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>T.assign(A,d===!0?!0:(0,t._)`${A} > ${d} ? ${A} : ${d}`)),mergeValues:(T,d)=>T===!0?!0:Math.max(T,d),resultToName:(T,d)=>T.var("items",d)})};function _(T,d){if(d===!0)return T.var("props",!0);const A=T.var("props",(0,t._)`{}`);return d!==void 0&&v(T,A,d),A}e.evaluatedPropsToName=_;function v(T,d,A){Object.keys(A).forEach(x=>T.assign((0,t._)`${d}${(0,t.getProperty)(x)}`,!0))}e.setEvaluated=v;var h={};function E(T,d){return T.scopeValue("func",{ref:d,code:h[d.code]||(h[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(y=e.Type||(e.Type={}));function S(T,d,A){if(T instanceof t.Name){const x=d===y.Num;return A?x?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:x?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(T).toString():"/"+c(T)}e.getErrorPath=S;function $(T,d,A=T.opts.strictSchema){if(A){if(d=`strict mode: ${d}`,A===!0)throw new Error(d);T.self.logger.warn(d)}}e.checkStrictMode=$}}),uc=Pe({"../core/node_modules/ajv/dist/compile/names.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),iE=Pe({"../core/node_modules/ajv/dist/compile/errors.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=br(),r=Ur(),n=uc();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:h})=>h?(0,t.str)`"${v}" keyword must be ${h} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,h=e.keywordError,E,y){const{it:S}=v,{gen:$,compositeRule:T,allErrors:d}=S,A=c(v,h,E);y??(T||d)?l($,A):u(S,(0,t._)`[${A}]`)}e.reportError=i;function o(v,h=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:$,allErrors:T}=y,d=c(v,h,E);l(S,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function a(v,h){v.assign(n.default.errors,h),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(h,()=>v.assign((0,t._)`${n.default.vErrors}.length`,h),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:v,keyword:h,schemaValue:E,data:y,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${h}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,E),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=s;function l(v,h){const E=v.const("err",h);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,h){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${h})`):(E.assign((0,t._)`${y}.errors`,h),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,h,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:p(v,h,E)}function p(v,h,E={}){const{gen:y,it:S}=v,$=[m(S,E),g(v,E)];return _(v,h,$),y.object(...$)}function m({errorPath:v},{instancePath:h}){const E=h?(0,t.str)`${v}${(0,r.getErrorPath)(h,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:h}},{schemaPath:E,parentSchema:y}){let S=y?h:(0,t.str)`${h}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:h,message:E},y){const{keyword:S,data:$,schemaValue:T,it:d}=v,{opts:A,propertyName:x,topSchemaRef:P,schemaPath:j}=d;y.push([f.keyword,S],[f.params,typeof h=="function"?h(v):h||(0,t._)`{}`]),A.messages&&y.push([f.message,typeof E=="function"?E(v):E]),A.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${P}${j}`],[n.default.data,$]),x&&y.push([f.propertyName,x])}}}),nte=Pe({"../core/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=iE(),r=br(),n=uc(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?s(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function a(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),s(l)):f.var(u,!0)}e.boolOrEmptySchema=a;function s(l,u){const{gen:f,data:c}=l,p={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(p,i,void 0,u)}}}),oq=Pe({"../core/node_modules/ajv/dist/compile/rules.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),aq=Pe({"../core/node_modules/ajv/dist/compile/validate/applicability.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},a){const s=o.RULES.types[a];return s&&s!==!0&&r(i,s)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(a=>n(i,a))}e.shouldUseGroup=r;function n(i,o){var a;return i[o.keyword]!==void 0||((a=o.definition.implements)===null||a===void 0?void 0:a.some(s=>i[s]!==void 0))}e.shouldUseRule=n}}),Lb=Pe({"../core/node_modules/ajv/dist/compile/validate/dataType.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=oq(),r=aq(),n=iE(),i=br(),o=Ur(),a;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(a=e.DataType||(e.DataType={}));function s(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=s;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:$,data:T,opts:d}=y,A=c(S,d.coerceTypes),x=S.length>0&&!(A.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(x){const P=_(S,T,d.strictNumbers,a.Wrong);$.if(P,()=>{A.length?p(y,S,A):h(y)})}return x}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter($=>f.has($)||S==="array"&&$==="array"):[]}function p(y,S,$){const{gen:T,data:d,opts:A}=y,x=T.let("dataType",(0,i._)`typeof ${d}`),P=T.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&T.if((0,i._)`${x} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>T.assign(d,(0,i._)`${d}[0]`).assign(x,(0,i._)`typeof ${d}`).if(_(S,d,A.strictNumbers),()=>T.assign(P,d))),T.if((0,i._)`${P} !== undefined`);for(const F of $)(f.has(F)||F==="array"&&A.coerceTypes==="array")&&j(F);T.else(),h(y),T.endIf(),T.if((0,i._)`${P} !== undefined`,()=>{T.assign(d,P),m(y,P)});function j(F){switch(F){case"string":T.elseIf((0,i._)`${x} == "number" || ${x} == "boolean"`).assign(P,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(P,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${x} == "boolean" || ${d} === null
              || (${x} == "string" && ${d} && ${d} == +${d})`).assign(P,(0,i._)`+${d}`);return;case"integer":T.elseIf((0,i._)`${x} === "boolean" || ${d} === null
              || (${x} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(P,(0,i._)`+${d}`);return;case"boolean":T.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(P,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(P,!0);return;case"null":T.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),T.assign(P,null);return;case"array":T.elseIf((0,i._)`${x} === "string" || ${x} === "number"
              || ${x} === "boolean" || ${d} === null`).assign(P,(0,i._)`[${d}]`)}}}function m({gen:y,parentData:S,parentDataProperty:$},T){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${$}]`,T))}function g(y,S,$,T=a.Correct){const d=T===a.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":A=(0,i._)`Array.isArray(${S})`;break;case"object":A=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":A=x((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":A=x();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return T===a.Correct?A:(0,i.not)(A);function x(P=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,P,$?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=g;function _(y,S,$,T){if(y.length===1)return g(y[0],S,$,T);let d;const A=(0,o.toHash)(y);if(A.array&&A.object){const x=(0,i._)`typeof ${S} != "object"`;d=A.null?x:(0,i._)`!${S} || ${x}`,delete A.null,delete A.array,delete A.object}else d=i.nil;A.number&&delete A.integer;for(const x in A)d=(0,i.and)(d,g(x,S,$,T));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function h(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=h;function E(y){const{gen:S,data:$,schema:T}=y,d=(0,o.schemaRefOrVal)(y,T,"type");return{gen:S,keyword:"type",data:$,schema:T.type,schemaCode:d,schemaValue:d,parentSchema:T,params:{},it:y}}}}),ite=Pe({"../core/node_modules/ajv/dist/compile/validate/defaults.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=br(),r=Ur();function n(o,a){const{properties:s,items:l}=o.schema;if(a==="object"&&s)for(const u in s)i(o,u,s[u].default);else a==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,a,s){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(s===void 0)return;const p=(0,t._)`${f}${(0,t.getProperty)(a)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${p}`);return}let m=(0,t._)`${p} === undefined`;c.useDefaults==="empty"&&(m=(0,t._)`${m} || ${p} === null || ${p} === ""`),l.if(m,(0,t._)`${p} = ${(0,t.stringify)(s)}`)}}}),ms=Pe({"../core/node_modules/ajv/dist/vocabularies/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=br(),r=Ur(),n=uc(),i=Ur();function o(y,S){const{gen:$,data:T,it:d}=y;$.if(c($,T,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function a({gen:y,data:S,it:{opts:$}},T,d){return(0,t.or)(...T.map(A=>(0,t.and)(c(y,S,A,$.ownProperties),(0,t._)`${d} = ${A}`)))}e.checkMissingProp=a;function s(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=s;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,$){return(0,t._)`${l(y)}.call(${S}, ${$})`}e.isOwnProperty=u;function f(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} !== undefined`;return T?(0,t._)`${d} && ${u(y,S,$)}`:d}e.propertyInData=f;function c(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} === undefined`;return T?(0,t.or)(d,(0,t.not)(u(y,S,$))):d}e.noPropertyInData=c;function p(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=p;function m(y,S){return p(S).filter($=>!(0,r.alwaysValidSchema)(y,S[$]))}e.schemaProperties=m;function g({schemaCode:y,data:S,it:{gen:$,topSchemaRef:T,schemaPath:d,errorPath:A},it:x},P,j,F){const V=F?(0,t._)`${y}, ${S}, ${T}${d}`:S,X=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,A)],[n.default.parentData,x.parentData],[n.default.parentDataProperty,x.parentDataProperty],[n.default.rootData,n.default.rootData]];x.opts.dynamicRef&&X.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const H=(0,t._)`${V}, ${$.object(...X)}`;return j!==t.nil?(0,t._)`${P}.call(${j}, ${H})`:(0,t._)`${P}(${H})`}e.callValidateCode=g;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},$){const T=S.unicodeRegExp?"u":"",{regExp:d}=S.code,A=d($,T);return y.scopeValue("pattern",{key:A.toString(),ref:A,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${$}, ${T})`})}e.usePattern=v;function h(y){const{gen:S,data:$,keyword:T,it:d}=y,A=S.name("valid");if(d.allErrors){const P=S.let("valid",!0);return x(()=>S.assign(P,!1)),P}return S.var(A,!0),x(()=>S.break()),A;function x(P){const j=S.const("len",(0,t._)`${$}.length`);S.forRange("i",0,j,F=>{y.subschema({keyword:T,dataProp:F,dataPropType:r.Type.Num},A),S.if((0,t.not)(A),P)})}}e.validateArray=h;function E(y){const{gen:S,schema:$,keyword:T,it:d}=y;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(j=>(0,r.alwaysValidSchema)(d,j))&&!d.opts.unevaluated)return;const x=S.let("valid",!1),P=S.name("_valid");S.block(()=>$.forEach((j,F)=>{const V=y.subschema({keyword:T,schemaProp:F,compositeRule:!0},P);S.assign(x,(0,t._)`${x} || ${P}`),y.mergeValidEvaluated(V,P)||S.if((0,t.not)(x))})),y.result(x,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),ote=Pe({"../core/node_modules/ajv/dist/compile/validate/keyword.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=br(),r=uc(),n=ms(),i=iE();function o(m,g){const{gen:_,keyword:v,schema:h,parentSchema:E,it:y}=m,S=g.macro.call(y.self,h,E,y),$=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const T=_.name("valid");m.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:$,compositeRule:!0},T),m.pass(T,()=>m.error(!0))}e.macroKeywordCode=o;function a(m,g){var _;const{gen:v,keyword:h,schema:E,parentSchema:y,$data:S,it:$}=m;u($,g);const T=!S&&g.compile?g.compile.call($.self,E,y,$):g.validate,d=f(v,h,T),A=v.let("valid");m.block$data(A,x),m.ok((_=g.valid)!==null&&_!==void 0?_:A);function x(){if(g.errors===!1)F(),g.modifying&&s(m),V(()=>m.error());else{const X=g.async?P():j();g.modifying&&s(m),V(()=>l(m,X))}}function P(){const X=v.let("ruleErrs",null);return v.try(()=>F((0,t._)`await `),H=>v.assign(A,!1).if((0,t._)`${H} instanceof ${$.ValidationError}`,()=>v.assign(X,(0,t._)`${H}.errors`),()=>v.throw(H))),X}function j(){const X=(0,t._)`${d}.errors`;return v.assign(X,null),F(t.nil),X}function F(X=g.async?(0,t._)`await `:t.nil){const H=$.opts.passContext?r.default.this:r.default.self,Z=!("compile"in g&&!S||g.schema===!1);v.assign(A,(0,t._)`${X}${(0,n.callValidateCode)(m,d,H,Z)}`,g.modifying)}function V(X){var H;v.if((0,t.not)((H=g.valid)!==null&&H!==void 0?H:A),X)}}e.funcKeywordCode=a;function s(m){const{gen:g,data:_,it:v}=m;g.if(v.parentData,()=>g.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(m,g){const{gen:_}=m;_.if((0,t._)`Array.isArray(${g})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${g} : ${r.default.vErrors}.concat(${g})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(m)},()=>m.error())}function u({schemaEnv:m},g){if(g.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,g,_){if(_===void 0)throw new Error(`keyword "${g}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(m,g,_=!1){return!g.length||g.some(v=>v==="array"?Array.isArray(m):v==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==v||_&&typeof m>"u")}e.validSchemaType=c;function p({schema:m,opts:g,self:_,errSchemaPath:v},h,E){if(Array.isArray(h.keyword)?!h.keyword.includes(E):h.keyword!==E)throw new Error("ajv implementation error");const y=h.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(m,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(h.validateSchema&&!h.validateSchema(m[E])){const $=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(h.validateSchema.errors);if(g.validateSchema==="log")_.logger.error($);else throw new Error($)}}e.validateKeywordUsage=p}}),ate=Pe({"../core/node_modules/ajv/dist/compile/validate/subschema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=br(),r=Ur();function n(a,{keyword:s,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:p}){if(s!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const m=a.schema[s];return l===void 0?{schema:m,schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${s}`}:{schema:m[l],schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(l)}`,errSchemaPath:`${a.errSchemaPath}/${s}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:p,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(a,s,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:p}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=s;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:h}=s,E=m.let("data",(0,t._)`${s.data}${(0,t.getProperty)(l)}`,!0);g(E),a.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,h.jsPropertySyntax)}`,a.parentDataProperty=(0,t._)`${l}`,a.dataPathArr=[...v,a.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);g(_),p!==void 0&&(a.propertyName=p)}c&&(a.dataTypes=c);function g(_){a.data=_,a.dataLevel=s.dataLevel+1,a.dataTypes=[],s.definedProperties=new Set,a.parentData=s.data,a.dataNames=[...s.dataNames,_]}}e.extendSubschemaData=i;function o(a,{jtdDiscriminator:s,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(a.compositeRule=u),f!==void 0&&(a.createErrors=f),c!==void 0&&(a.allErrors=c),a.jtdDiscriminator=s,a.jtdMetadata=l}e.extendSubschemaMode=o}}),ste=Pe({"../core/node_modules/json-schema-traverse/index.js"(e,t){Te();var r=t.exports=function(o,a,s){typeof a=="function"&&(s=a,a={}),s=a.cb||s;var l=typeof s=="function"?s:s.pre||function(){},u=s.post||function(){};n(a,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,a,s,l,u,f,c,p,m,g){if(l&&typeof l=="object"&&!Array.isArray(l)){a(l,u,f,c,p,m,g);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var h=0;h<v.length;h++)n(o,a,s,v[h],u+"/"+_+"/"+h,f,u,_,l,h)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,a,s,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,a,s,v,u+"/"+_,f,u,_,l)}s(l,u,f,c,p,m,g)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),oE=Pe({"../core/node_modules/ajv/dist/compile/resolve.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=Ur(),r=Mh(),n=ste(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,h=!0){return typeof v=="boolean"?!0:h===!0?!s(v):h?l(v)<=h:!1}e.inlineRef=o;var a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(v){for(const h in v){if(a.has(h))return!0;const E=v[h];if(Array.isArray(E)&&E.some(s)||typeof E=="object"&&s(E))return!0}return!1}function l(v){let h=0;for(const E in v){if(E==="$ref")return 1/0;if(h++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>h+=l(y)),h===1/0))return 1/0}return h}function u(v,h="",E){E!==!1&&(h=p(h));const y=v.parse(h);return f(v,y)}e.getFullPath=u;function f(v,h){return v.serialize(h).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function p(v){return v?v.replace(c,""):""}e.normalizeId=p;function m(v,h,E){return E=p(E),v.resolve(h,E)}e.resolveUrl=m;var g=/^[a-z_][-a-z0-9._]*$/i;function _(v,h){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=p(v[E]||h),$={"":S},T=u(y,S,!1),d={},A=new Set;return n(v,{allKeys:!0},(j,F,V,X)=>{if(X===void 0)return;const H=T+F;let Z=$[X];typeof j[E]=="string"&&(Z=fe.call(this,j[E])),ee.call(this,j.$anchor),ee.call(this,j.$dynamicAnchor),$[F]=Z;function fe(ae){const M=this.opts.uriResolver.resolve;if(ae=p(Z?M(Z,ae):ae),A.has(ae))throw P(ae);A.add(ae);let B=this.refs[ae];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?x(j,B.schema,ae):ae!==p(H)&&(ae[0]==="#"?(x(j,d[ae],ae),d[ae]=j):this.refs[ae]=H),ae}function ee(ae){if(typeof ae=="string"){if(!g.test(ae))throw new Error(`invalid anchor "${ae}"`);fe.call(this,`#${ae}`)}}}),d;function x(j,F,V){if(F!==void 0&&!r(j,F))throw P(V)}function P(j){return new Error(`reference "${j}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),aE=Pe({"../core/node_modules/ajv/dist/compile/validate/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=nte(),r=Lb(),n=aq(),i=Lb(),o=ite(),a=ote(),s=ate(),l=br(),u=uc(),f=oE(),c=Ur(),p=iE();function m(R){if(T(R)&&(A(R),$(R))){h(R);return}g(R,()=>(0,t.topBoolOrEmptySchema)(R))}e.validateFunctionCode=m;function g({gen:R,validateName:C,schema:D,schemaEnv:G,opts:ie},ue){ie.code.es5?R.func(C,(0,l._)`${u.default.data}, ${u.default.valCxt}`,G.$async,()=>{R.code((0,l._)`"use strict"; ${y(D,ie)}`),v(R,ie),R.code(ue)}):R.func(C,(0,l._)`${u.default.data}, ${_(ie)}`,G.$async,()=>R.code(y(D,ie)).code(ue))}function _(R){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${R.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(R,C){R.if(u.default.valCxt,()=>{R.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),R.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),R.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),R.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),C.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{R.var(u.default.instancePath,(0,l._)`""`),R.var(u.default.parentData,(0,l._)`undefined`),R.var(u.default.parentDataProperty,(0,l._)`undefined`),R.var(u.default.rootData,u.default.data),C.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function h(R){const{schema:C,opts:D,gen:G}=R;g(R,()=>{D.$comment&&C.$comment&&X(R),j(R),G.let(u.default.vErrors,null),G.let(u.default.errors,0),D.unevaluated&&E(R),x(R),H(R)})}function E(R){const{gen:C,validateName:D}=R;R.evaluated=C.const("evaluated",(0,l._)`${D}.evaluated`),C.if((0,l._)`${R.evaluated}.dynamicProps`,()=>C.assign((0,l._)`${R.evaluated}.props`,(0,l._)`undefined`)),C.if((0,l._)`${R.evaluated}.dynamicItems`,()=>C.assign((0,l._)`${R.evaluated}.items`,(0,l._)`undefined`))}function y(R,C){const D=typeof R=="object"&&R[C.schemaId];return D&&(C.code.source||C.code.process)?(0,l._)`/*# sourceURL=${D} */`:l.nil}function S(R,C){if(T(R)&&(A(R),$(R))){d(R,C);return}(0,t.boolOrEmptySchema)(R,C)}function $({schema:R,self:C}){if(typeof R=="boolean")return!R;for(const D in R)if(C.RULES.all[D])return!0;return!1}function T(R){return typeof R.schema!="boolean"}function d(R,C){const{schema:D,gen:G,opts:ie}=R;ie.$comment&&D.$comment&&X(R),F(R),V(R);const ue=G.const("_errs",u.default.errors);x(R,ue),G.var(C,(0,l._)`${ue} === ${u.default.errors}`)}function A(R){(0,c.checkUnknownRules)(R),P(R)}function x(R,C){if(R.opts.jtd)return fe(R,[],!1,C);const D=(0,r.getSchemaTypes)(R.schema),G=(0,r.coerceAndCheckDataType)(R,D);fe(R,D,!G,C)}function P(R){const{schema:C,errSchemaPath:D,opts:G,self:ie}=R;C.$ref&&G.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(C,ie.RULES)&&ie.logger.warn(`$ref: keywords ignored in schema at path "${D}"`)}function j(R){const{schema:C,opts:D}=R;C.default!==void 0&&D.useDefaults&&D.strictSchema&&(0,c.checkStrictMode)(R,"default is ignored in the schema root")}function F(R){const C=R.schema[R.opts.schemaId];C&&(R.baseId=(0,f.resolveUrl)(R.opts.uriResolver,R.baseId,C))}function V(R){if(R.schema.$async&&!R.schemaEnv.$async)throw new Error("async schema in sync schema")}function X({gen:R,schemaEnv:C,schema:D,errSchemaPath:G,opts:ie}){const ue=D.$comment;if(ie.$comment===!0)R.code((0,l._)`${u.default.self}.logger.log(${ue})`);else if(typeof ie.$comment=="function"){const de=(0,l.str)`${G}/$comment`,ve=R.scopeValue("root",{ref:C.root});R.code((0,l._)`${u.default.self}.opts.$comment(${ue}, ${de}, ${ve}.schema)`)}}function H(R){const{gen:C,schemaEnv:D,validateName:G,ValidationError:ie,opts:ue}=R;D.$async?C.if((0,l._)`${u.default.errors} === 0`,()=>C.return(u.default.data),()=>C.throw((0,l._)`new ${ie}(${u.default.vErrors})`)):(C.assign((0,l._)`${G}.errors`,u.default.vErrors),ue.unevaluated&&Z(R),C.return((0,l._)`${u.default.errors} === 0`))}function Z({gen:R,evaluated:C,props:D,items:G}){D instanceof l.Name&&R.assign((0,l._)`${C}.props`,D),G instanceof l.Name&&R.assign((0,l._)`${C}.items`,G)}function fe(R,C,D,G){const{gen:ie,schema:ue,data:de,allErrors:ve,opts:Ne,self:Be}=R,{RULES:je}=Be;if(ue.$ref&&(Ne.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(ue,je))){ie.block(()=>Y(R,"$ref",je.all.$ref.definition));return}Ne.jtd||ae(R,C),ie.block(()=>{for(const We of je.rules)nt(We);nt(je.post)});function nt(We){(0,n.shouldUseGroup)(ue,We)&&(We.type?(ie.if((0,i.checkDataType)(We.type,de,Ne.strictNumbers)),ee(R,We),C.length===1&&C[0]===We.type&&D&&(ie.else(),(0,i.reportTypeError)(R)),ie.endIf()):ee(R,We),ve||ie.if((0,l._)`${u.default.errors} === ${G||0}`))}}function ee(R,C){const{gen:D,schema:G,opts:{useDefaults:ie}}=R;ie&&(0,o.assignDefaults)(R,C.type),D.block(()=>{for(const ue of C.rules)(0,n.shouldUseRule)(G,ue)&&Y(R,ue.keyword,ue.definition,C.type)})}function ae(R,C){R.schemaEnv.meta||!R.opts.strictTypes||(M(R,C),R.opts.allowUnionTypes||B(R,C),K(R,R.dataTypes))}function M(R,C){if(C.length){if(!R.dataTypes.length){R.dataTypes=C;return}C.forEach(D=>{N(R.dataTypes,D)||ne(R,`type "${D}" not allowed by context "${R.dataTypes.join(",")}"`)}),q(R,C)}}function B(R,C){C.length>1&&!(C.length===2&&C.includes("null"))&&ne(R,"use allowUnionTypes to allow union type keyword")}function K(R,C){const D=R.self.RULES.all;for(const G in D){const ie=D[G];if(typeof ie=="object"&&(0,n.shouldUseRule)(R.schema,ie)){const{type:ue}=ie.definition;ue.length&&!ue.some(de=>O(C,de))&&ne(R,`missing type "${ue.join(",")}" for keyword "${G}"`)}}}function O(R,C){return R.includes(C)||C==="number"&&R.includes("integer")}function N(R,C){return R.includes(C)||C==="integer"&&R.includes("number")}function q(R,C){const D=[];for(const G of R.dataTypes)N(C,G)?D.push(G):C.includes("integer")&&G==="number"&&D.push("integer");R.dataTypes=D}function ne(R,C){const D=R.schemaEnv.baseId+R.errSchemaPath;C+=` at "${D}" (strictTypes)`,(0,c.checkStrictMode)(R,C,R.opts.strictTypes)}var J=class{constructor(R,C,D){if((0,a.validateKeywordUsage)(R,C,D),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=D,this.data=R.data,this.schema=R.schema[D],this.$data=C.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(R,this.schema,D,this.$data),this.schemaType=C.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=C,this.$data)this.schemaCode=R.gen.const("vSchema",Oe(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,C.schemaType,C.allowUndefined))throw new Error(`${D} value must be ${JSON.stringify(C.schemaType)}`);("code"in C?C.trackErrors:C.errors!==!1)&&(this.errsCount=R.gen.const("_errs",u.default.errors))}result(R,C,D){this.failResult((0,l.not)(R),C,D)}failResult(R,C,D){this.gen.if(R),D?D():this.error(),C?(this.gen.else(),C(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,C){this.failResult((0,l.not)(R),void 0,C)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:C}=this;this.fail((0,l._)`${C} !== undefined && (${(0,l.or)(this.invalid$data(),R)})`)}error(R,C,D){if(C){this.setParams(C),this._error(R,D),this.setParams({});return}this._error(R,D)}_error(R,C){(R?p.reportExtraError:p.reportError)(this,this.def.error,C)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,C){C?Object.assign(this.params,R):this.params=R}block$data(R,C,D=l.nil){this.gen.block(()=>{this.check$data(R,D),C()})}check$data(R=l.nil,C=l.nil){if(!this.$data)return;const{gen:D,schemaCode:G,schemaType:ie,def:ue}=this;D.if((0,l.or)((0,l._)`${G} === undefined`,C)),R!==l.nil&&D.assign(R,!0),(ie.length||ue.validateSchema)&&(D.elseIf(this.invalid$data()),this.$dataError(),R!==l.nil&&D.assign(R,!1)),D.else()}invalid$data(){const{gen:R,schemaCode:C,schemaType:D,def:G,it:ie}=this;return(0,l.or)(ue(),de());function ue(){if(D.length){if(!(C instanceof l.Name))throw new Error("ajv implementation error");const ve=Array.isArray(D)?D:[D];return(0,l._)`${(0,i.checkDataTypes)(ve,C,ie.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function de(){if(G.validateSchema){const ve=R.scopeValue("validate$data",{ref:G.validateSchema});return(0,l._)`!${ve}(${C})`}return l.nil}}subschema(R,C){const D=(0,s.getSubschema)(this.it,R);(0,s.extendSubschemaData)(D,this.it,R),(0,s.extendSubschemaMode)(D,R);const G={...this.it,...D,items:void 0,props:void 0};return S(G,C),G}mergeEvaluated(R,C){const{it:D,gen:G}=this;D.opts.unevaluated&&(D.props!==!0&&R.props!==void 0&&(D.props=c.mergeEvaluated.props(G,R.props,D.props,C)),D.items!==!0&&R.items!==void 0&&(D.items=c.mergeEvaluated.items(G,R.items,D.items,C)))}mergeValidEvaluated(R,C){const{it:D,gen:G}=this;if(D.opts.unevaluated&&(D.props!==!0||D.items!==!0))return G.if(C,()=>this.mergeEvaluated(R,l.Name)),!0}};e.KeywordCxt=J;function Y(R,C,D,G){const ie=new J(R,D,C);"code"in D?D.code(ie,G):ie.$data&&D.validate?(0,a.funcKeywordCode)(ie,D):"macro"in D?(0,a.macroKeywordCode)(ie,D):(D.compile||D.validate)&&(0,a.funcKeywordCode)(ie,D)}var oe=/^\/(?:[^~]|~0|~1)*$/,be=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Oe(R,{dataLevel:C,dataNames:D,dataPathArr:G}){let ie,ue;if(R==="")return u.default.rootData;if(R[0]==="/"){if(!oe.test(R))throw new Error(`Invalid JSON-pointer: ${R}`);ie=R,ue=u.default.rootData}else{const Be=be.exec(R);if(!Be)throw new Error(`Invalid JSON-pointer: ${R}`);const je=+Be[1];if(ie=Be[2],ie==="#"){if(je>=C)throw new Error(Ne("property/index",je));return G[C-je]}if(je>C)throw new Error(Ne("data",je));if(ue=D[C-je],!ie)return ue}let de=ue;const ve=ie.split("/");for(const Be of ve)Be&&(ue=(0,l._)`${ue}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Be))}`,de=(0,l._)`${de} && ${ue}`);return de;function Ne(Be,je){return`Cannot access ${Be} ${je} levels up, current level is ${C}`}}e.getData=Oe}}),JR=Pe({"../core/node_modules/ajv/dist/runtime/validation_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),YR=Pe({"../core/node_modules/ajv/dist/compile/ref_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=oE(),r=class extends Error{constructor(n,i,o,a){super(a||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),XR=Pe({"../core/node_modules/ajv/dist/compile/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=br(),r=JR(),n=uc(),i=oE(),o=Ur(),a=aE(),s=class{constructor(h){var E;this.refs={},this.dynamicAnchors={};let y;typeof h.schema=="object"&&(y=h.schema),this.schema=h.schema,this.schemaId=h.schemaId,this.root=h.root||this,this.baseId=(E=h.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[h.schemaId||"$id"]),this.schemaPath=h.schemaPath,this.localRefs=h.localRefs,this.meta=h.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=s;function l(h){const E=c.call(this,h);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,h.root.baseId),{es5:S,lines:$}=this.opts.code,{ownProperties:T}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:$,ownProperties:T});let A;h.$async&&(A=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const x=d.scopeName("validate");h.validateName=x;const P={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:h.schema,code:(0,t.stringify)(h.schema)}:{ref:h.schema}),validateName:x,ValidationError:A,schema:h.schema,schemaEnv:h,rootId:y,baseId:h.baseId||y,schemaPath:t.nil,errSchemaPath:h.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let j;try{this._compilations.add(h),(0,a.validateFunctionCode)(P),d.optimize(this.opts.code.optimize);const F=d.toString();j=`${d.scopeRefs(n.default.scope)}return ${F}`,this.opts.code.process&&(j=this.opts.code.process(j,h));const X=new Function(`${n.default.self}`,`${n.default.scope}`,j)(this,this.scope.get());if(this.scope.value(x,{ref:X}),X.errors=null,X.schema=h.schema,X.schemaEnv=h,h.$async&&(X.$async=!0),this.opts.code.source===!0&&(X.source={validateName:x,validateCode:F,scopeValues:d._values}),this.opts.unevaluated){const{props:H,items:Z}=P;X.evaluated={props:H instanceof t.Name?void 0:H,items:Z instanceof t.Name?void 0:Z,dynamicProps:H instanceof t.Name,dynamicItems:Z instanceof t.Name},X.source&&(X.source.evaluated=(0,t.stringify)(X.evaluated))}return h.validate=X,h}catch(F){throw delete h.validate,delete h.validateName,j&&this.logger.error("Error compiling schema, function code:",j),F}finally{this._compilations.delete(h)}}e.compileSchema=l;function u(h,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const $=h.refs[y];if($)return $;let T=m.call(this,h,y);if(T===void 0){const d=(S=h.localRefs)===null||S===void 0?void 0:S[y],{schemaId:A}=this.opts;d&&(T=new s({schema:d,schemaId:A,root:h,baseId:E}))}if(T!==void 0)return h.refs[y]=f.call(this,T)}e.resolveRef=u;function f(h){return(0,i.inlineRef)(h.schema,this.opts.inlineRefs)?h.schema:h.validate?h:l.call(this,h)}function c(h){for(const E of this._compilations)if(p(E,h))return E}e.getCompilingSchema=c;function p(h,E){return h.schema===E.schema&&h.root===E.root&&h.baseId===E.baseId}function m(h,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||g.call(this,h,E)}function g(h,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let $=(0,i.getFullPath)(this.opts.uriResolver,h.baseId,void 0);if(Object.keys(h.schema).length>0&&S===$)return v.call(this,y,h);const T=(0,i.normalizeId)(S),d=this.refs[T]||this.schemas[T];if(typeof d=="string"){const A=g.call(this,h,d);return typeof(A==null?void 0:A.schema)!="object"?void 0:v.call(this,y,A)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),T===(0,i.normalizeId)(E)){const{schema:A}=d,{schemaId:x}=this.opts,P=A[x];return P&&($=(0,i.resolveUrl)(this.opts.uriResolver,$,P)),new s({schema:A,schemaId:x,root:h,baseId:$})}return v.call(this,y,d)}}e.resolveSchema=g;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(h,{baseId:E,schema:y,root:S}){var $;if((($=h.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const A of h.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const x=y[(0,o.unescapeFragment)(A)];if(x===void 0)return;y=x;const P=typeof y=="object"&&y[this.opts.schemaId];!_.has(A)&&P&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,P))}let T;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const A=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);T=g.call(this,S,A)}const{schemaId:d}=this.opts;if(T=T||new s({schema:y,schemaId:d,root:S,baseId:E}),T.schema!==T.root.schema)return T}}}),lte=Pe({"../core/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),sq=Pe({"../../node_modules/uri-js/dist/es5/uri.all.js"(e,t){Te(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n(r.URI=r.URI||{})}(e,function(r){function n(){for(var he=arguments.length,le=Array(he),we=0;we<he;we++)le[we]=arguments[we];if(le.length>1){le[0]=le[0].slice(0,-1);for(var xe=le.length-1,Ae=1;Ae<xe;++Ae)le[Ae]=le[Ae].slice(1,-1);return le[xe]=le[xe].slice(1),le.join("")}else return le[0]}function i(he){return"(?:"+he+")"}function o(he){return he===void 0?"undefined":he===null?"null":Object.prototype.toString.call(he).split(" ").pop().split("]").shift().toLowerCase()}function a(he){return he.toUpperCase()}function s(he){return he!=null?he instanceof Array?he:typeof he.length!="number"||he.split||he.setInterval||he.call?[he]:Array.prototype.slice.call(he):[]}function l(he,le){var we=he;if(le)for(var xe in le)we[xe]=le[xe];return we}function u(he){var le="[A-Za-z]",we="[0-9]",xe=n(we,"[A-Fa-f]"),Ae=i(i("%[EFef]"+xe+"%"+xe+xe+"%"+xe+xe)+"|"+i("%[89A-Fa-f]"+xe+"%"+xe+xe)+"|"+i("%"+xe+xe)),et="[\\:\\/\\?\\#\\[\\]\\@]",ot="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",xt=n(et,ot),Nt=he?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",jt=he?"[\\uE000-\\uF8FF]":"[]",$t=n(le,we,"[\\-\\.\\_\\~]",Nt);i(le+n(le,we,"[\\+\\-\\.]")+"*"),i(i(Ae+"|"+n($t,ot,"[\\:]"))+"*");var Rt=i(i("25[0-5]")+"|"+i("2[0-4]"+we)+"|"+i("1"+we+we)+"|"+i("0?[1-9]"+we)+"|0?0?"+we),Gt=i(Rt+"\\."+Rt+"\\."+Rt+"\\."+Rt),wt=i(xe+"{1,4}"),Tt=i(i(wt+"\\:"+wt)+"|"+Gt),Dt=i(i(wt+"\\:")+"{6}"+Tt),Ft=i("\\:\\:"+i(wt+"\\:")+"{5}"+Tt),Kr=i(i(wt)+"?\\:\\:"+i(wt+"\\:")+"{4}"+Tt),Qr=i(i(i(wt+"\\:")+"{0,1}"+wt)+"?\\:\\:"+i(wt+"\\:")+"{3}"+Tt),kr=i(i(i(wt+"\\:")+"{0,2}"+wt)+"?\\:\\:"+i(wt+"\\:")+"{2}"+Tt),Fn=i(i(i(wt+"\\:")+"{0,3}"+wt)+"?\\:\\:"+wt+"\\:"+Tt),Hn=i(i(i(wt+"\\:")+"{0,4}"+wt)+"?\\:\\:"+Tt),Cr=i(i(i(wt+"\\:")+"{0,5}"+wt)+"?\\:\\:"+wt),Zr=i(i(i(wt+"\\:")+"{0,6}"+wt)+"?\\:\\:"),Qn=i([Dt,Ft,Kr,Qr,kr,Fn,Hn,Cr,Zr].join("|")),pn=i(i($t+"|"+Ae)+"+");i("[vV]"+xe+"+\\."+n($t,ot,"[\\:]")+"+"),i(i(Ae+"|"+n($t,ot))+"*");var hi=i(Ae+"|"+n($t,ot,"[\\:\\@]"));return i(i(Ae+"|"+n($t,ot,"[\\@]"))+"+"),i(i(hi+"|"+n("[\\/\\?]",jt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",le,we,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",$t,ot),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",$t,ot),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",$t,ot),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",$t,ot),"g"),NOT_QUERY:new RegExp(n("[^\\%]",$t,ot,"[\\:\\@\\/\\?]",jt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",$t,ot,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",$t,ot),"g"),UNRESERVED:new RegExp($t,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",$t,xt),"g"),PCT_ENCODED:new RegExp(Ae,"g"),IPV4ADDRESS:new RegExp("^("+Gt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Qn+")"+i(i("\\%25|\\%(?!"+xe+"{2})")+"("+pn+")")+"?\\]?$")}}var f=u(!1),c=u(!0),p=function(){function he(le,we){var xe=[],Ae=!0,et=!1,ot=void 0;try{for(var xt=le[Symbol.iterator](),Nt;!(Ae=(Nt=xt.next()).done)&&(xe.push(Nt.value),!(we&&xe.length===we));Ae=!0);}catch(jt){et=!0,ot=jt}finally{try{!Ae&&xt.return&&xt.return()}finally{if(et)throw ot}}return xe}return function(le,we){if(Array.isArray(le))return le;if(Symbol.iterator in Object(le))return he(le,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(he){if(Array.isArray(he)){for(var le=0,we=Array(he.length);le<he.length;le++)we[le]=he[le];return we}else return Array.from(he)},g=2147483647,_=36,v=1,h=26,E=38,y=700,S=72,$=128,T="-",d=/^xn--/,A=/[^\0-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=_-v,F=Math.floor,V=String.fromCharCode;function X(he){throw new RangeError(P[he])}function H(he,le){for(var we=[],xe=he.length;xe--;)we[xe]=le(he[xe]);return we}function Z(he,le){var we=he.split("@"),xe="";we.length>1&&(xe=we[0]+"@",he=we[1]),he=he.replace(x,".");var Ae=he.split("."),et=H(Ae,le).join(".");return xe+et}function fe(he){for(var le=[],we=0,xe=he.length;we<xe;){var Ae=he.charCodeAt(we++);if(Ae>=55296&&Ae<=56319&&we<xe){var et=he.charCodeAt(we++);(et&64512)==56320?le.push(((Ae&1023)<<10)+(et&1023)+65536):(le.push(Ae),we--)}else le.push(Ae)}return le}var ee=function(le){return String.fromCodePoint.apply(String,m(le))},ae=function(le){return le-48<10?le-22:le-65<26?le-65:le-97<26?le-97:_},M=function(le,we){return le+22+75*(le<26)-((we!=0)<<5)},B=function(le,we,xe){var Ae=0;for(le=xe?F(le/y):le>>1,le+=F(le/we);le>j*h>>1;Ae+=_)le=F(le/j);return F(Ae+(j+1)*le/(le+E))},K=function(le){var we=[],xe=le.length,Ae=0,et=$,ot=S,xt=le.lastIndexOf(T);xt<0&&(xt=0);for(var Nt=0;Nt<xt;++Nt)le.charCodeAt(Nt)>=128&&X("not-basic"),we.push(le.charCodeAt(Nt));for(var jt=xt>0?xt+1:0;jt<xe;){for(var $t=Ae,Rt=1,Gt=_;;Gt+=_){jt>=xe&&X("invalid-input");var wt=ae(le.charCodeAt(jt++));(wt>=_||wt>F((g-Ae)/Rt))&&X("overflow"),Ae+=wt*Rt;var Tt=Gt<=ot?v:Gt>=ot+h?h:Gt-ot;if(wt<Tt)break;var Dt=_-Tt;Rt>F(g/Dt)&&X("overflow"),Rt*=Dt}var Ft=we.length+1;ot=B(Ae-$t,Ft,$t==0),F(Ae/Ft)>g-et&&X("overflow"),et+=F(Ae/Ft),Ae%=Ft,we.splice(Ae++,0,et)}return String.fromCodePoint.apply(String,we)},O=function(le){var we=[];le=fe(le);var xe=le.length,Ae=$,et=0,ot=S,xt=!0,Nt=!1,jt=void 0;try{for(var $t=le[Symbol.iterator](),Rt;!(xt=(Rt=$t.next()).done);xt=!0){var Gt=Rt.value;Gt<128&&we.push(V(Gt))}}catch(Bn){Nt=!0,jt=Bn}finally{try{!xt&&$t.return&&$t.return()}finally{if(Nt)throw jt}}var wt=we.length,Tt=wt;for(wt&&we.push(T);Tt<xe;){var Dt=g,Ft=!0,Kr=!1,Qr=void 0;try{for(var kr=le[Symbol.iterator](),Fn;!(Ft=(Fn=kr.next()).done);Ft=!0){var Hn=Fn.value;Hn>=Ae&&Hn<Dt&&(Dt=Hn)}}catch(Bn){Kr=!0,Qr=Bn}finally{try{!Ft&&kr.return&&kr.return()}finally{if(Kr)throw Qr}}var Cr=Tt+1;Dt-Ae>F((g-et)/Cr)&&X("overflow"),et+=(Dt-Ae)*Cr,Ae=Dt;var Zr=!0,Qn=!1,pn=void 0;try{for(var hi=le[Symbol.iterator](),na;!(Zr=(na=hi.next()).done);Zr=!0){var ia=na.value;if(ia<Ae&&++et>g&&X("overflow"),ia==Ae){for(var jr=et,_n=_;;_n+=_){var pi=_n<=ot?v:_n>=ot+h?h:_n-ot;if(jr<pi)break;var vs=jr-pi,oa=_-pi;we.push(V(M(pi+vs%oa,0))),jr=F(vs/oa)}we.push(V(M(jr,0))),ot=B(et,Cr,Tt==wt),et=0,++Tt}}}catch(Bn){Qn=!0,pn=Bn}finally{try{!Zr&&hi.return&&hi.return()}finally{if(Qn)throw pn}}++et,++Ae}return we.join("")},N=function(le){return Z(le,function(we){return d.test(we)?K(we.slice(4).toLowerCase()):we})},q=function(le){return Z(le,function(we){return A.test(we)?"xn--"+O(we):we})},ne={version:"2.1.0",ucs2:{decode:fe,encode:ee},decode:K,encode:O,toASCII:q,toUnicode:N},J={};function Y(he){var le=he.charCodeAt(0),we=void 0;return le<16?we="%0"+le.toString(16).toUpperCase():le<128?we="%"+le.toString(16).toUpperCase():le<2048?we="%"+(le>>6|192).toString(16).toUpperCase()+"%"+(le&63|128).toString(16).toUpperCase():we="%"+(le>>12|224).toString(16).toUpperCase()+"%"+(le>>6&63|128).toString(16).toUpperCase()+"%"+(le&63|128).toString(16).toUpperCase(),we}function oe(he){for(var le="",we=0,xe=he.length;we<xe;){var Ae=parseInt(he.substr(we+1,2),16);if(Ae<128)le+=String.fromCharCode(Ae),we+=3;else if(Ae>=194&&Ae<224){if(xe-we>=6){var et=parseInt(he.substr(we+4,2),16);le+=String.fromCharCode((Ae&31)<<6|et&63)}else le+=he.substr(we,6);we+=6}else if(Ae>=224){if(xe-we>=9){var ot=parseInt(he.substr(we+4,2),16),xt=parseInt(he.substr(we+7,2),16);le+=String.fromCharCode((Ae&15)<<12|(ot&63)<<6|xt&63)}else le+=he.substr(we,9);we+=9}else le+=he.substr(we,3),we+=3}return le}function be(he,le){function we(xe){var Ae=oe(xe);return Ae.match(le.UNRESERVED)?Ae:xe}return he.scheme&&(he.scheme=String(he.scheme).replace(le.PCT_ENCODED,we).toLowerCase().replace(le.NOT_SCHEME,"")),he.userinfo!==void 0&&(he.userinfo=String(he.userinfo).replace(le.PCT_ENCODED,we).replace(le.NOT_USERINFO,Y).replace(le.PCT_ENCODED,a)),he.host!==void 0&&(he.host=String(he.host).replace(le.PCT_ENCODED,we).toLowerCase().replace(le.NOT_HOST,Y).replace(le.PCT_ENCODED,a)),he.path!==void 0&&(he.path=String(he.path).replace(le.PCT_ENCODED,we).replace(he.scheme?le.NOT_PATH:le.NOT_PATH_NOSCHEME,Y).replace(le.PCT_ENCODED,a)),he.query!==void 0&&(he.query=String(he.query).replace(le.PCT_ENCODED,we).replace(le.NOT_QUERY,Y).replace(le.PCT_ENCODED,a)),he.fragment!==void 0&&(he.fragment=String(he.fragment).replace(le.PCT_ENCODED,we).replace(le.NOT_FRAGMENT,Y).replace(le.PCT_ENCODED,a)),he}function Oe(he){return he.replace(/^0*(.*)/,"$1")||"0"}function R(he,le){var we=he.match(le.IPV4ADDRESS)||[],xe=p(we,2),Ae=xe[1];return Ae?Ae.split(".").map(Oe).join("."):he}function C(he,le){var we=he.match(le.IPV6ADDRESS)||[],xe=p(we,3),Ae=xe[1],et=xe[2];if(Ae){for(var ot=Ae.toLowerCase().split("::").reverse(),xt=p(ot,2),Nt=xt[0],jt=xt[1],$t=jt?jt.split(":").map(Oe):[],Rt=Nt.split(":").map(Oe),Gt=le.IPV4ADDRESS.test(Rt[Rt.length-1]),wt=Gt?7:8,Tt=Rt.length-wt,Dt=Array(wt),Ft=0;Ft<wt;++Ft)Dt[Ft]=$t[Ft]||Rt[Tt+Ft]||"";Gt&&(Dt[wt-1]=R(Dt[wt-1],le));var Kr=Dt.reduce(function(Cr,Zr,Qn){if(!Zr||Zr==="0"){var pn=Cr[Cr.length-1];pn&&pn.index+pn.length===Qn?pn.length++:Cr.push({index:Qn,length:1})}return Cr},[]),Qr=Kr.sort(function(Cr,Zr){return Zr.length-Cr.length})[0],kr=void 0;if(Qr&&Qr.length>1){var Fn=Dt.slice(0,Qr.index),Hn=Dt.slice(Qr.index+Qr.length);kr=Fn.join(":")+"::"+Hn.join(":")}else kr=Dt.join(":");return et&&(kr+="%"+et),kr}else return he}var D=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,G="".match(/(){0}/)[1]===void 0;function ie(he){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we={},xe=le.iri!==!1?c:f;le.reference==="suffix"&&(he=(le.scheme?le.scheme+":":"")+"//"+he);var Ae=he.match(D);if(Ae){G?(we.scheme=Ae[1],we.userinfo=Ae[3],we.host=Ae[4],we.port=parseInt(Ae[5],10),we.path=Ae[6]||"",we.query=Ae[7],we.fragment=Ae[8],isNaN(we.port)&&(we.port=Ae[5])):(we.scheme=Ae[1]||void 0,we.userinfo=he.indexOf("@")!==-1?Ae[3]:void 0,we.host=he.indexOf("//")!==-1?Ae[4]:void 0,we.port=parseInt(Ae[5],10),we.path=Ae[6]||"",we.query=he.indexOf("?")!==-1?Ae[7]:void 0,we.fragment=he.indexOf("#")!==-1?Ae[8]:void 0,isNaN(we.port)&&(we.port=he.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Ae[4]:void 0)),we.host&&(we.host=C(R(we.host,xe),xe)),we.scheme===void 0&&we.userinfo===void 0&&we.host===void 0&&we.port===void 0&&!we.path&&we.query===void 0?we.reference="same-document":we.scheme===void 0?we.reference="relative":we.fragment===void 0?we.reference="absolute":we.reference="uri",le.reference&&le.reference!=="suffix"&&le.reference!==we.reference&&(we.error=we.error||"URI is not a "+le.reference+" reference.");var et=J[(le.scheme||we.scheme||"").toLowerCase()];if(!le.unicodeSupport&&(!et||!et.unicodeSupport)){if(we.host&&(le.domainHost||et&&et.domainHost))try{we.host=ne.toASCII(we.host.replace(xe.PCT_ENCODED,oe).toLowerCase())}catch(ot){we.error=we.error||"Host's domain name can not be converted to ASCII via punycode: "+ot}be(we,f)}else be(we,xe);et&&et.parse&&et.parse(we,le)}else we.error=we.error||"URI can not be parsed.";return we}function ue(he,le){var we=le.iri!==!1?c:f,xe=[];return he.userinfo!==void 0&&(xe.push(he.userinfo),xe.push("@")),he.host!==void 0&&xe.push(C(R(String(he.host),we),we).replace(we.IPV6ADDRESS,function(Ae,et,ot){return"["+et+(ot?"%25"+ot:"")+"]"})),(typeof he.port=="number"||typeof he.port=="string")&&(xe.push(":"),xe.push(String(he.port))),xe.length?xe.join(""):void 0}var de=/^\.\.?\//,ve=/^\/\.(\/|$)/,Ne=/^\/\.\.(\/|$)/,Be=/^\/?(?:.|\n)*?(?=\/|$)/;function je(he){for(var le=[];he.length;)if(he.match(de))he=he.replace(de,"");else if(he.match(ve))he=he.replace(ve,"/");else if(he.match(Ne))he=he.replace(Ne,"/"),le.pop();else if(he==="."||he==="..")he="";else{var we=he.match(Be);if(we){var xe=we[0];he=he.slice(xe.length),le.push(xe)}else throw new Error("Unexpected dot segment condition")}return le.join("")}function nt(he){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=le.iri?c:f,xe=[],Ae=J[(le.scheme||he.scheme||"").toLowerCase()];if(Ae&&Ae.serialize&&Ae.serialize(he,le),he.host&&!we.IPV6ADDRESS.test(he.host)){if(le.domainHost||Ae&&Ae.domainHost)try{he.host=le.iri?ne.toUnicode(he.host):ne.toASCII(he.host.replace(we.PCT_ENCODED,oe).toLowerCase())}catch(xt){he.error=he.error||"Host's domain name can not be converted to "+(le.iri?"Unicode":"ASCII")+" via punycode: "+xt}}be(he,we),le.reference!=="suffix"&&he.scheme&&(xe.push(he.scheme),xe.push(":"));var et=ue(he,le);if(et!==void 0&&(le.reference!=="suffix"&&xe.push("//"),xe.push(et),he.path&&he.path.charAt(0)!=="/"&&xe.push("/")),he.path!==void 0){var ot=he.path;!le.absolutePath&&(!Ae||!Ae.absolutePath)&&(ot=je(ot)),et===void 0&&(ot=ot.replace(/^\/\//,"/%2F")),xe.push(ot)}return he.query!==void 0&&(xe.push("?"),xe.push(he.query)),he.fragment!==void 0&&(xe.push("#"),xe.push(he.fragment)),xe.join("")}function We(he,le){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},xe=arguments[3],Ae={};return xe||(he=ie(nt(he,we),we),le=ie(nt(le,we),we)),we=we||{},!we.tolerant&&le.scheme?(Ae.scheme=le.scheme,Ae.userinfo=le.userinfo,Ae.host=le.host,Ae.port=le.port,Ae.path=je(le.path||""),Ae.query=le.query):(le.userinfo!==void 0||le.host!==void 0||le.port!==void 0?(Ae.userinfo=le.userinfo,Ae.host=le.host,Ae.port=le.port,Ae.path=je(le.path||""),Ae.query=le.query):(le.path?(le.path.charAt(0)==="/"?Ae.path=je(le.path):((he.userinfo!==void 0||he.host!==void 0||he.port!==void 0)&&!he.path?Ae.path="/"+le.path:he.path?Ae.path=he.path.slice(0,he.path.lastIndexOf("/")+1)+le.path:Ae.path=le.path,Ae.path=je(Ae.path)),Ae.query=le.query):(Ae.path=he.path,le.query!==void 0?Ae.query=le.query:Ae.query=he.query),Ae.userinfo=he.userinfo,Ae.host=he.host,Ae.port=he.port),Ae.scheme=he.scheme),Ae.fragment=le.fragment,Ae}function Ue(he,le,we){var xe=l({scheme:"null"},we);return nt(We(ie(he,xe),ie(le,xe),xe,!0),xe)}function W(he,le){return typeof he=="string"?he=nt(ie(he,le),le):o(he)==="object"&&(he=ie(nt(he,le),le)),he}function I(he,le,we){return typeof he=="string"?he=nt(ie(he,we),we):o(he)==="object"&&(he=nt(he,we)),typeof le=="string"?le=nt(ie(le,we),we):o(le)==="object"&&(le=nt(le,we)),he===le}function L(he,le){return he&&he.toString().replace(!le||!le.iri?f.ESCAPE:c.ESCAPE,Y)}function re(he,le){return he&&he.toString().replace(!le||!le.iri?f.PCT_ENCODED:c.PCT_ENCODED,oe)}var ye={scheme:"http",domainHost:!0,parse:function(le,we){return le.host||(le.error=le.error||"HTTP URIs must have a host."),le},serialize:function(le,we){var xe=String(le.scheme).toLowerCase()==="https";return(le.port===(xe?443:80)||le.port==="")&&(le.port=void 0),le.path||(le.path="/"),le}},Ee={scheme:"https",domainHost:ye.domainHost,parse:ye.parse,serialize:ye.serialize};function Ce(he){return typeof he.secure=="boolean"?he.secure:String(he.scheme).toLowerCase()==="wss"}var Re={scheme:"ws",domainHost:!0,parse:function(le,we){var xe=le;return xe.secure=Ce(xe),xe.resourceName=(xe.path||"/")+(xe.query?"?"+xe.query:""),xe.path=void 0,xe.query=void 0,xe},serialize:function(le,we){if((le.port===(Ce(le)?443:80)||le.port==="")&&(le.port=void 0),typeof le.secure=="boolean"&&(le.scheme=le.secure?"wss":"ws",le.secure=void 0),le.resourceName){var xe=le.resourceName.split("?"),Ae=p(xe,2),et=Ae[0],ot=Ae[1];le.path=et&&et!=="/"?et:void 0,le.query=ot,le.resourceName=void 0}return le.fragment=void 0,le}},Le={scheme:"wss",domainHost:Re.domainHost,parse:Re.parse,serialize:Re.serialize},ft={},yt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",st="[0-9A-Fa-f]",Ct=i(i("%[EFef]"+st+"%"+st+st+"%"+st+st)+"|"+i("%[89A-Fa-f]"+st+"%"+st+st)+"|"+i("%"+st+st)),Er="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Or="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ir=n(Or,'[\\"\\\\]'),mr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",cn=new RegExp(yt,"g"),Vt=new RegExp(Ct,"g"),zt=new RegExp(n("[^]",Er,"[\\.]",'[\\"]',ir),"g"),At=new RegExp(n("[^]",yt,mr),"g"),Se=At;function Ie(he){var le=oe(he);return le.match(cn)?le:he}var dt={scheme:"mailto",parse:function(le,we){var xe=le,Ae=xe.to=xe.path?xe.path.split(","):[];if(xe.path=void 0,xe.query){for(var et=!1,ot={},xt=xe.query.split("&"),Nt=0,jt=xt.length;Nt<jt;++Nt){var $t=xt[Nt].split("=");switch($t[0]){case"to":for(var Rt=$t[1].split(","),Gt=0,wt=Rt.length;Gt<wt;++Gt)Ae.push(Rt[Gt]);break;case"subject":xe.subject=re($t[1],we);break;case"body":xe.body=re($t[1],we);break;default:et=!0,ot[re($t[0],we)]=re($t[1],we);break}}et&&(xe.headers=ot)}xe.query=void 0;for(var Tt=0,Dt=Ae.length;Tt<Dt;++Tt){var Ft=Ae[Tt].split("@");if(Ft[0]=re(Ft[0]),we.unicodeSupport)Ft[1]=re(Ft[1],we).toLowerCase();else try{Ft[1]=ne.toASCII(re(Ft[1],we).toLowerCase())}catch(Kr){xe.error=xe.error||"Email address's domain name can not be converted to ASCII via punycode: "+Kr}Ae[Tt]=Ft.join("@")}return xe},serialize:function(le,we){var xe=le,Ae=s(le.to);if(Ae){for(var et=0,ot=Ae.length;et<ot;++et){var xt=String(Ae[et]),Nt=xt.lastIndexOf("@"),jt=xt.slice(0,Nt).replace(Vt,Ie).replace(Vt,a).replace(zt,Y),$t=xt.slice(Nt+1);try{$t=we.iri?ne.toUnicode($t):ne.toASCII(re($t,we).toLowerCase())}catch(Tt){xe.error=xe.error||"Email address's domain name can not be converted to "+(we.iri?"Unicode":"ASCII")+" via punycode: "+Tt}Ae[et]=jt+"@"+$t}xe.path=Ae.join(",")}var Rt=le.headers=le.headers||{};le.subject&&(Rt.subject=le.subject),le.body&&(Rt.body=le.body);var Gt=[];for(var wt in Rt)Rt[wt]!==ft[wt]&&Gt.push(wt.replace(Vt,Ie).replace(Vt,a).replace(At,Y)+"="+Rt[wt].replace(Vt,Ie).replace(Vt,a).replace(Se,Y));return Gt.length&&(xe.query=Gt.join("&")),xe}},Ye=/^([^\:]+)\:(.*)/,it={scheme:"urn",parse:function(le,we){var xe=le.path&&le.path.match(Ye),Ae=le;if(xe){var et=we.scheme||Ae.scheme||"urn",ot=xe[1].toLowerCase(),xt=xe[2],Nt=et+":"+(we.nid||ot),jt=J[Nt];Ae.nid=ot,Ae.nss=xt,Ae.path=void 0,jt&&(Ae=jt.parse(Ae,we))}else Ae.error=Ae.error||"URN can not be parsed.";return Ae},serialize:function(le,we){var xe=we.scheme||le.scheme||"urn",Ae=le.nid,et=xe+":"+(we.nid||Ae),ot=J[et];ot&&(le=ot.serialize(le,we));var xt=le,Nt=le.nss;return xt.path=(Ae||we.nid)+":"+Nt,xt}},Ot=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,qt={scheme:"urn:uuid",parse:function(le,we){var xe=le;return xe.uuid=xe.nss,xe.nss=void 0,!we.tolerant&&(!xe.uuid||!xe.uuid.match(Ot))&&(xe.error=xe.error||"UUID is not valid."),xe},serialize:function(le,we){var xe=le;return xe.nss=(le.uuid||"").toLowerCase(),xe}};J[ye.scheme]=ye,J[Ee.scheme]=Ee,J[Re.scheme]=Re,J[Le.scheme]=Le,J[dt.scheme]=dt,J[it.scheme]=it,J[qt.scheme]=qt,r.SCHEMES=J,r.pctEncChar=Y,r.pctDecChars=oe,r.parse=ie,r.removeDotSegments=je,r.serialize=nt,r.resolveComponents=We,r.resolve=Ue,r.normalize=W,r.equal=I,r.escapeComponent=L,r.unescapeComponent=re,Object.defineProperty(r,"__esModule",{value:!0})})}}),ute=Pe({"../core/node_modules/ajv/dist/runtime/uri.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=sq();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),cte=Pe({"../core/node_modules/ajv/dist/core.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=aE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=br();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=JR(),i=YR(),o=oq(),a=XR(),s=br(),l=oE(),u=Lb(),f=Ur(),c=lte(),p=ute(),m=(M,B)=>new RegExp(M,B);m.code="new RegExp";var g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(M){var B,K,O,N,q,ne,J,Y,oe,be,Oe,R,C,D,G,ie,ue,de,ve,Ne,Be,je,nt,We,Ue;const W=M.strict,I=(B=M.code)===null||B===void 0?void 0:B.optimize,L=I===!0||I===void 0?1:I||0,re=(O=(K=M.code)===null||K===void 0?void 0:K.regExp)!==null&&O!==void 0?O:m,ye=(N=M.uriResolver)!==null&&N!==void 0?N:p.default;return{strictSchema:(ne=(q=M.strictSchema)!==null&&q!==void 0?q:W)!==null&&ne!==void 0?ne:!0,strictNumbers:(Y=(J=M.strictNumbers)!==null&&J!==void 0?J:W)!==null&&Y!==void 0?Y:!0,strictTypes:(be=(oe=M.strictTypes)!==null&&oe!==void 0?oe:W)!==null&&be!==void 0?be:"log",strictTuples:(R=(Oe=M.strictTuples)!==null&&Oe!==void 0?Oe:W)!==null&&R!==void 0?R:"log",strictRequired:(D=(C=M.strictRequired)!==null&&C!==void 0?C:W)!==null&&D!==void 0?D:!1,code:M.code?{...M.code,optimize:L,regExp:re}:{optimize:L,regExp:re},loopRequired:(G=M.loopRequired)!==null&&G!==void 0?G:E,loopEnum:(ie=M.loopEnum)!==null&&ie!==void 0?ie:E,meta:(ue=M.meta)!==null&&ue!==void 0?ue:!0,messages:(de=M.messages)!==null&&de!==void 0?de:!0,inlineRefs:(ve=M.inlineRefs)!==null&&ve!==void 0?ve:!0,schemaId:(Ne=M.schemaId)!==null&&Ne!==void 0?Ne:"$id",addUsedSchema:(Be=M.addUsedSchema)!==null&&Be!==void 0?Be:!0,validateSchema:(je=M.validateSchema)!==null&&je!==void 0?je:!0,validateFormats:(nt=M.validateFormats)!==null&&nt!==void 0?nt:!0,unicodeRegExp:(We=M.unicodeRegExp)!==null&&We!==void 0?We:!0,int32range:(Ue=M.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:ye}}var S=class{constructor(M={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,M=this.opts={...M,...y(M)};const{es5:B,lines:K}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:B,lines:K}),this.logger=F(M.logger);const O=M.validateFormats;M.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,M,"NOT SUPPORTED"),$.call(this,h,M,"DEPRECATED","warn"),this._metaOpts=P.call(this),M.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),M.keywords&&x.call(this,M.keywords),typeof M.meta=="object"&&this.addMetaSchema(M.meta),d.call(this),M.validateFormats=O}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:M,meta:B,schemaId:K}=this.opts;let O=c;K==="id"&&(O={...c},O.id=O.$id,delete O.$id),B&&M&&this.addMetaSchema(O,O[K],!1)}defaultMeta(){const{meta:M,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof M=="object"?M[B]||M:void 0}validate(M,B){let K;if(typeof M=="string"){if(K=this.getSchema(M),!K)throw new Error(`no schema with key or ref "${M}"`)}else K=this.compile(M);const O=K(B);return"$async"in K||(this.errors=K.errors),O}compile(M,B){const K=this._addSchema(M,B);return K.validate||this._compileSchemaEnv(K)}compileAsync(M,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return O.call(this,M,B);async function O(oe,be){await N.call(this,oe.$schema);const Oe=this._addSchema(oe,be);return Oe.validate||q.call(this,Oe)}async function N(oe){oe&&!this.getSchema(oe)&&await O.call(this,{$ref:oe},!0)}async function q(oe){try{return this._compileSchemaEnv(oe)}catch(be){if(!(be instanceof i.default))throw be;return ne.call(this,be),await J.call(this,be.missingSchema),q.call(this,oe)}}function ne({missingSchema:oe,missingRef:be}){if(this.refs[oe])throw new Error(`AnySchema ${oe} is loaded but ${be} cannot be resolved`)}async function J(oe){const be=await Y.call(this,oe);this.refs[oe]||await N.call(this,be.$schema),this.refs[oe]||this.addSchema(be,oe,B)}async function Y(oe){const be=this._loading[oe];if(be)return be;try{return await(this._loading[oe]=K(oe))}finally{delete this._loading[oe]}}}addSchema(M,B,K,O=this.opts.validateSchema){if(Array.isArray(M)){for(const q of M)this.addSchema(q,void 0,K,O);return this}let N;if(typeof M=="object"){const{schemaId:q}=this.opts;if(N=M[q],N!==void 0&&typeof N!="string")throw new Error(`schema ${q} must be string`)}return B=(0,l.normalizeId)(B||N),this._checkUnique(B),this.schemas[B]=this._addSchema(M,K,B,O,!0),this}addMetaSchema(M,B,K=this.opts.validateSchema){return this.addSchema(M,B,!0,K),this}validateSchema(M,B){if(typeof M=="boolean")return!0;let K;if(K=M.$schema,K!==void 0&&typeof K!="string")throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const O=this.validate(K,M);if(!O&&B){const N="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(N);else throw new Error(N)}return O}getSchema(M){let B;for(;typeof(B=T.call(this,M))=="string";)M=B;if(B===void 0){const{schemaId:K}=this.opts,O=new a.SchemaEnv({schema:{},schemaId:K});if(B=a.resolveSchema.call(this,O,M),!B)return;this.refs[M]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(M){if(M instanceof RegExp)return this._removeAllSchemas(this.schemas,M),this._removeAllSchemas(this.refs,M),this;switch(typeof M){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=T.call(this,M);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[M],delete this.refs[M],this}case"object":{const B=M;this._cache.delete(B);let K=M[this.opts.schemaId];return K&&(K=(0,l.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(M){for(const B of M)this.addKeyword(B);return this}addKeyword(M,B){let K;if(typeof M=="string")K=M,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=K);else if(typeof M=="object"&&B===void 0){if(B=M,K=B.keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(X.call(this,K,B),!B)return(0,f.eachItem)(K,N=>H.call(this,N)),this;fe.call(this,B);const O={...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)};return(0,f.eachItem)(K,O.type.length===0?N=>H.call(this,N,O):N=>O.type.forEach(q=>H.call(this,N,O,q))),this}getKeyword(M){const B=this.RULES.all[M];return typeof B=="object"?B.definition:!!B}removeKeyword(M){const{RULES:B}=this;delete B.keywords[M],delete B.all[M];for(const K of B.rules){const O=K.rules.findIndex(N=>N.keyword===M);O>=0&&K.rules.splice(O,1)}return this}addFormat(M,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[M]=B,this}errorsText(M=this.errors,{separator:B=", ",dataVar:K="data"}={}){return!M||M.length===0?"No errors":M.map(O=>`${K}${O.instancePath} ${O.message}`).reduce((O,N)=>O+B+N)}$dataMetaSchema(M,B){const K=this.RULES.all;M=JSON.parse(JSON.stringify(M));for(const O of B){const N=O.split("/").slice(1);let q=M;for(const ne of N)q=q[ne];for(const ne in K){const J=K[ne];if(typeof J!="object")continue;const{$data:Y}=J.definition,oe=q[ne];Y&&oe&&(q[ne]=ae(oe))}}return M}_removeAllSchemas(M,B){for(const K in M){const O=M[K];(!B||B.test(K))&&(typeof O=="string"?delete M[K]:O&&!O.meta&&(this._cache.delete(O.schema),delete M[K]))}}_addSchema(M,B,K,O=this.opts.validateSchema,N=this.opts.addUsedSchema){let q;const{schemaId:ne}=this.opts;if(typeof M=="object")q=M[ne];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof M!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(M);if(J!==void 0)return J;K=(0,l.normalizeId)(q||K);const Y=l.getSchemaRefs.call(this,M,K);return J=new a.SchemaEnv({schema:M,schemaId:ne,meta:B,baseId:K,localRefs:Y}),this._cache.set(J.schema,J),N&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=J),O&&this.validateSchema(M,!0),J}_checkUnique(M){if(this.schemas[M]||this.refs[M])throw new Error(`schema with key or id "${M}" already exists`)}_compileSchemaEnv(M){if(M.meta?this._compileMetaSchema(M):a.compileSchema.call(this,M),!M.validate)throw new Error("ajv implementation error");return M.validate}_compileMetaSchema(M){const B=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,M)}finally{this.opts=B}}};e.default=S,S.ValidationError=n.default,S.MissingRefError=i.default;function $(M,B,K,O="error"){for(const N in M){const q=N;q in B&&this.logger[O](`${K}: option ${N}. ${M[q]}`)}}function T(M){return M=(0,l.normalizeId)(M),this.schemas[M]||this.refs[M]}function d(){const M=this.opts.schemas;if(M)if(Array.isArray(M))this.addSchema(M);else for(const B in M)this.addSchema(M[B],B)}function A(){for(const M in this.opts.formats){const B=this.opts.formats[M];B&&this.addFormat(M,B)}}function x(M){if(Array.isArray(M)){this.addVocabulary(M);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in M){const K=M[B];K.keyword||(K.keyword=B),this.addKeyword(K)}}function P(){const M={...this.opts};for(const B of g)delete M[B];return M}var j={log(){},warn(){},error(){}};function F(M){if(M===!1)return j;if(M===void 0)return console;if(M.log&&M.warn&&M.error)return M;throw new Error("logger must implement log, warn and error methods")}var V=/^[a-z_$][a-z0-9_$:-]*$/i;function X(M,B){const{RULES:K}=this;if((0,f.eachItem)(M,O=>{if(K.keywords[O])throw new Error(`Keyword ${O} is already defined`);if(!V.test(O))throw new Error(`Keyword ${O} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function H(M,B,K){var O;const N=B==null?void 0:B.post;if(K&&N)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let ne=N?q.post:q.rules.find(({type:Y})=>Y===K);if(ne||(ne={type:K,rules:[]},q.rules.push(ne)),q.keywords[M]=!0,!B)return;const J={keyword:M,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?Z.call(this,ne,J,B.before):ne.rules.push(J),q.all[M]=J,(O=B.implements)===null||O===void 0||O.forEach(Y=>this.addKeyword(Y))}function Z(M,B,K){const O=M.rules.findIndex(N=>N.keyword===K);O>=0?M.rules.splice(O,0,B):(M.rules.push(B),this.logger.warn(`rule ${K} is not defined`))}function fe(M){let{metaSchema:B}=M;B!==void 0&&(M.$data&&this.opts.$data&&(B=ae(B)),M.validateSchema=this.compile(B,!0))}var ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ae(M){return{anyOf:[M,ee]}}}}),fte=Pe({"../core/node_modules/ajv/dist/vocabularies/core/id.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),dte=Pe({"../core/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=YR(),r=ms(),n=br(),i=uc(),o=XR(),a=Ur(),s={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:p,it:m}=f,{baseId:g,schemaEnv:_,validateName:v,opts:h,self:E}=m,{root:y}=_;if((p==="#"||p==="#/")&&g===y.baseId)return $();const S=o.resolveRef.call(E,y,g,p);if(S===void 0)throw new t.default(m.opts.uriResolver,g,p);if(S instanceof o.SchemaEnv)return T(S);return d(S);function $(){if(_===y)return u(f,v,_,_.$async);const A=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${A}.validate`,y,y.$async)}function T(A){const x=l(f,A);u(f,x,A,A.$async)}function d(A){const x=c.scopeValue("schema",h.code.source===!0?{ref:A,code:(0,n.stringify)(A)}:{ref:A}),P=c.name("valid"),j=f.subschema({schema:A,dataTypes:[],schemaPath:n.nil,topSchemaRef:x,errSchemaPath:p},P);f.mergeEvaluated(j),f.ok(P)}}};function l(f,c){const{gen:p}=f;return c.validate?p.scopeValue("validate",{ref:c.validate}):(0,n._)`${p.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,p,m){const{gen:g,it:_}=f,{allErrors:v,schemaEnv:h,opts:E}=_,y=E.passContext?i.default.this:n.nil;m?S():$();function S(){if(!h.$async)throw new Error("async schema referenced by sync schema");const A=g.let("valid");g.try(()=>{g.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||g.assign(A,!0)},x=>{g.if((0,n._)`!(${x} instanceof ${_.ValidationError})`,()=>g.throw(x)),T(x),v||g.assign(A,!1)}),f.ok(A)}function $(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>T(c))}function T(A){const x=(0,n._)`${A}.errors`;g.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${x} : ${i.default.vErrors}.concat(${x})`),g.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(A){var x;if(!_.opts.unevaluated)return;const P=(x=p==null?void 0:p.validate)===null||x===void 0?void 0:x.evaluated;if(_.props!==!0)if(P&&!P.dynamicProps)P.props!==void 0&&(_.props=a.mergeEvaluated.props(g,P.props,_.props));else{const j=g.var("props",(0,n._)`${A}.evaluated.props`);_.props=a.mergeEvaluated.props(g,j,_.props,n.Name)}if(_.items!==!0)if(P&&!P.dynamicItems)P.items!==void 0&&(_.items=a.mergeEvaluated.items(g,P.items,_.items));else{const j=g.var("items",(0,n._)`${A}.evaluated.items`);_.items=a.mergeEvaluated.items(g,j,_.items,n.Name)}}}e.callRef=u,e.default=s}}),hte=Pe({"../core/node_modules/ajv/dist/vocabularies/core/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=fte(),r=dte(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),pte=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:a,schemaCode:s})=>(0,t.str)`must be ${n[a].okStr} ${s}`,params:({keyword:a,schemaCode:s})=>(0,t._)`{comparison: ${n[a].okStr}, limit: ${s}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u}=a;a.fail$data((0,t._)`${l} ${n[s].fail} ${u} || isNaN(${l})`)}};e.default=o}}),mte=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:a,schemaCode:s,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${s} === 0 || (${f} = ${a}/${s}, ${c}))`)}};e.default=n}}),gte=Pe({"../core/node_modules/ajv/dist/runtime/ucs2length.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,a;for(;o<n;)i++,a=r.charCodeAt(o++),a>=55296&&a<=56319&&o<n&&(a=r.charCodeAt(o),(a&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),vte=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n=gte(),i={message({keyword:a,schemaCode:s}){const l=a==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${s} characters`},params:({schemaCode:a})=>(0,t._)`{limit: ${a}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u,it:f}=a,c=s==="maxLength"?t.operators.GT:t.operators.LT,p=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(a.gen,n.default)}(${l})`;a.fail$data((0,t._)`${p} ${c} ${u}`)}};e.default=o}}),yte=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ms(),r=br(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:a,$data:s,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",p=s?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${p}.test(${a})`)}};e.default=i}}),wte=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={message({keyword:i,schemaCode:o}){const a=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${a}).length ${l} ${s}`)}};e.default=n}}),bte=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ms(),r=br(),n=Ur(),i={message:({params:{missingProperty:a}})=>(0,r.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,r._)`{missingProperty: ${a}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,schema:l,schemaCode:u,data:f,$data:c,it:p}=a,{opts:m}=p;if(!c&&l.length===0)return;const g=l.length>=m.loopRequired;if(p.allErrors?_():v(),m.strictRequired){const y=a.parentSchema.properties,{definedProperties:S}=a.it;for(const $ of l)if((y==null?void 0:y[$])===void 0&&!S.has($)){const T=p.schemaEnv.baseId+p.errSchemaPath,d=`required property "${$}" is not defined at "${T}" (strictRequired)`;(0,n.checkStrictMode)(p,d,p.opts.strictRequired)}}function _(){if(g||c)a.block$data(r.nil,h);else for(const y of l)(0,t.checkReportMissingProp)(a,y)}function v(){const y=s.let("missing");if(g||c){const S=s.let("valid",!0);a.block$data(S,()=>E(y,S)),a.ok(S)}else s.if((0,t.checkMissingProp)(a,l,y)),(0,t.reportMissingProp)(a,y),s.else()}function h(){s.forOf("prop",u,y=>{a.setParams({missingProperty:y}),s.if((0,t.noPropertyInData)(s,f,y,m.ownProperties),()=>a.error())})}function E(y,S){a.setParams({missingProperty:y}),s.forOf(y,u,()=>{s.assign(S,(0,t.propertyInData)(s,f,y,m.ownProperties)),s.if((0,r.not)(S),()=>{a.error(),s.break()})},r.nil)}}};e.default=o}}),_te=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={message({keyword:i,schemaCode:o}){const a=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${a}.length ${l} ${s}`)}};e.default=n}}),QR=Pe({"../core/node_modules/ajv/dist/runtime/equal.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Mh();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),Ete=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Lb(),r=br(),n=Ur(),i=QR(),o={message:({params:{i:s,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${s} are identical)`,params:({params:{i:s,j:l}})=>(0,r._)`{i: ${s}, j: ${l}}`},a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(s){const{gen:l,data:u,$data:f,schema:c,parentSchema:p,schemaCode:m,it:g}=s;if(!f&&!c)return;const _=l.let("valid"),v=p.items?(0,t.getSchemaTypes)(p.items):[];s.block$data(_,h,(0,r._)`${m} === false`),s.ok(_);function h(){const $=l.let("i",(0,r._)`${u}.length`),T=l.let("j");s.setParams({i:$,j:T}),l.assign(_,!0),l.if((0,r._)`${$} > 1`,()=>(E()?y:S)($,T))}function E(){return v.length>0&&!v.some($=>$==="object"||$==="array")}function y($,T){const d=l.name("item"),A=(0,t.checkDataTypes)(v,d,g.opts.strictNumbers,t.DataType.Wrong),x=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${$}--;`,()=>{l.let(d,(0,r._)`${u}[${$}]`),l.if(A,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${x}[${d}] == "number"`,()=>{l.assign(T,(0,r._)`${x}[${d}]`),s.error(),l.assign(_,!1).break()}).code((0,r._)`${x}[${d}] = ${$}`)})}function S($,T){const d=(0,n.useFunc)(l,i.default),A=l.name("outer");l.label(A).for((0,r._)`;${$}--;`,()=>l.for((0,r._)`${T} = ${$}; ${T}--;`,()=>l.if((0,r._)`${d}(${u}[${$}], ${u}[${T}])`,()=>{s.error(),l.assign(_,!1).break(A)})))}}};e.default=a}}),Ste=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n=QR(),i={message:"must be equal to constant",params:({schemaCode:a})=>(0,t._)`{allowedValue: ${a}}`},o={keyword:"const",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schemaCode:f,schema:c}=a;u||c&&typeof c=="object"?a.fail$data((0,t._)`!${(0,r.useFunc)(s,n.default)}(${l}, ${f})`):a.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),$te=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n=QR(),i={message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,t._)`{allowedValues: ${a}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schema:f,schemaCode:c,it:p}=a;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=p.opts.loopEnum;let g;const _=()=>g??(g=(0,r.useFunc)(s,n.default));let v;if(m||u)v=s.let("valid"),a.block$data(v,h);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=s.const("vSchema",c);v=(0,t.or)(...f.map((S,$)=>E(y,$)))}a.pass(v);function h(){s.assign(v,!1),s.forOf("v",c,y=>s.if((0,t._)`${_()}(${l}, ${y})`,()=>s.assign(v,!0).break()))}function E(y,S){const $=f[S];return typeof $=="object"&&$!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${$}`}}};e.default=o}}),Tte=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pte(),r=mte(),n=vte(),i=yte(),o=wte(),a=bte(),s=_te(),l=Ete(),u=Ste(),f=$te(),c=[t.default,r.default,n.default,i.default,o.default,a.default,s.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),lq=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=br(),r=Ur(),n={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(a){const{parentSchema:s,it:l}=a,{items:u}=s;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(a,u)}};function o(a,s){const{gen:l,schema:u,data:f,keyword:c,it:p}=a;p.items=!0;const m=l.const("len",(0,t._)`${f}.length`);if(u===!1)a.setParams({len:s.length}),a.pass((0,t._)`${m} <= ${s.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(p,u)){const _=l.var("valid",(0,t._)`${m} <= ${s.length}`);l.if((0,t.not)(_),()=>g(_)),a.ok(_)}function g(_){l.forRange("i",s.length,m,v=>{a.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),p.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),uq=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=br(),r=Ur(),n=ms(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:s,it:l}=a;if(Array.isArray(s))return o(a,"additionalItems",s);l.items=!0,!(0,r.alwaysValidSchema)(l,s)&&a.ok((0,n.validateArray)(a))}};function o(a,s,l=a.schema){const{gen:u,parentSchema:f,data:c,keyword:p,it:m}=a;v(f),m.opts.unevaluated&&l.length&&m.items!==!0&&(m.items=r.mergeEvaluated.items(u,l.length,m.items));const g=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((h,E)=>{(0,r.alwaysValidSchema)(m,h)||(u.if((0,t._)`${_} > ${E}`,()=>a.subschema({keyword:p,schemaProp:E,dataProp:E},g)),a.ok(g))});function v(h){const{opts:E,errSchemaPath:y}=m,S=l.length,$=S===h.minItems&&(S===h.maxItems||h[s]===!1);if(E.strictTuples&&!$){const T=`"${p}" is ${S}-tuple, but minItems or maxItems/${s} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(m,T,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),Ate=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=uq(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),xte=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n=ms(),i=lq(),o={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(s){const{schema:l,parentSchema:u,it:f}=s,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(s,c):s.ok((0,n.validateArray)(s)))}};e.default=a}}),Pte=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n={message:({params:{min:o,max:a}})=>a===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${a} valid item(s)`,params:({params:{min:o,max:a}})=>a===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${a}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,data:u,it:f}=o;let c,p;const{minContains:m,maxContains:g}=l;f.opts.next?(c=m===void 0?1:m,p=g):c=1;const _=a.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:p}),p===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&c>p){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,s)){let S=(0,t._)`${_} >= ${c}`;p!==void 0&&(S=(0,t._)`${S} && ${_} <= ${p}`),o.pass(S);return}f.items=!0;const v=a.name("valid");p===void 0&&c===1?E(v,()=>a.if(v,()=>a.break())):c===0?(a.let(v,!0),p!==void 0&&a.if((0,t._)`${u}.length > 0`,h)):(a.let(v,!1),h()),o.result(v,()=>o.reset());function h(){const S=a.name("_valid"),$=a.let("count",0);E(S,()=>a.if(S,()=>y($)))}function E(S,$){a.forRange("i",0,_,T=>{o.subschema({keyword:"contains",dataProp:T,dataPropType:r.Type.Num,compositeRule:!0},S),$()})}function y(S){a.code((0,t._)`${S}++`),p===void 0?a.if((0,t._)`${S} >= ${c}`,()=>a.assign(v,!0).break()):(a.if((0,t._)`${S} > ${p}`,()=>a.assign(v,!1).break()),c===1?a.assign(v,!0):a.if((0,t._)`${S} >= ${c}`,()=>a.assign(v,!0)))}}};e.default=i}}),Ote=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=br(),r=Ur(),n=ms();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);a(l,u),s(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const p=Array.isArray(l[c])?u:f;p[c]=l[c]}return[u,f]}function a(l,u=l.schema){const{gen:f,data:c,it:p}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,p.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),p.allErrors?f.if(v,()=>{for(const h of _)(0,n.checkReportMissingProp)(l,h)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=a;function s(l,u=l.schema){const{gen:f,data:c,keyword:p,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:p,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=s,e.default=i}}),Rte=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:a,schema:s,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,s))return;const f=a.name("valid");a.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),a.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||a.break()})}),o.ok(f)}};e.default=i}}),cq=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ms(),r=br(),n=uc(),i=Ur(),o={message:"must NOT have additional properties",params:({params:s})=>(0,r._)`{additionalProperty: ${s.additionalProperty}}`},a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(s){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:p,it:m}=s;if(!p)throw new Error("ajv implementation error");const{allErrors:g,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(m,u))return;const v=(0,t.allSchemaProperties)(f.properties),h=(0,t.allSchemaProperties)(f.patternProperties);E(),s.ok((0,r._)`${p} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!h.length?$(d):l.if(y(d),()=>$(d))})}function y(d){let A;if(v.length>8){const x=(0,i.schemaRefOrVal)(m,f.properties,"properties");A=(0,t.isOwnProperty)(l,x,d)}else v.length?A=(0,r.or)(...v.map(x=>(0,r._)`${d} === ${x}`)):A=r.nil;return h.length&&(A=(0,r.or)(A,...h.map(x=>(0,r._)`${(0,t.usePattern)(s,x)}.test(${d})`))),(0,r.not)(A)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function $(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){s.setParams({additionalProperty:d}),s.error(),g||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(m,u)){const A=l.name("valid");_.removeAdditional==="failing"?(T(d,A,!1),l.if((0,r.not)(A),()=>{s.reset(),S(d)})):(T(d,A),g||l.if((0,r.not)(A),()=>l.break()))}}function T(d,A,x){const P={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};x===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(P,A)}}};e.default=a}}),Ite=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=aE(),r=ms(),n=Ur(),i=cq(),o={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,parentSchema:u,data:f,it:c}=a;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const p=(0,r.allSchemaProperties)(l);for(const h of p)c.definedProperties.add(h);c.opts.unevaluated&&p.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(s,(0,n.toHash)(p),c.props));const m=p.filter(h=>!(0,n.alwaysValidSchema)(c,l[h]));if(m.length===0)return;const g=s.name("valid");for(const h of m)_(h)?v(h):(s.if((0,r.propertyInData)(s,f,h,c.opts.ownProperties)),v(h),c.allErrors||s.else().var(g,!0),s.endIf()),a.it.definedProperties.add(h),a.ok(g);function _(h){return c.opts.useDefaults&&!c.compositeRule&&l[h].default!==void 0}function v(h){a.subschema({keyword:"properties",schemaProp:h,dataProp:h},g)}}};e.default=o}}),Nte=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ms(),r=br(),n=Ur(),i=Ur(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,data:u,parentSchema:f,it:c}=a,{opts:p}=c,m=(0,t.allSchemaProperties)(l),g=m.filter($=>(0,n.alwaysValidSchema)(c,l[$]));if(m.length===0||g.length===m.length&&(!c.opts.unevaluated||c.props===!0))return;const _=p.strictSchema&&!p.allowMatchingProperties&&f.properties,v=s.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(s,c.props));const{props:h}=c;E();function E(){for(const $ of m)_&&y($),c.allErrors?S($):(s.var(v,!0),S($),s.if(v))}function y($){for(const T in _)new RegExp($).test(T)&&(0,n.checkStrictMode)(c,`property ${T} matches pattern ${$} (use allowMatchingProperties)`)}function S($){s.forIn("key",u,T=>{s.if((0,r._)`${(0,t.usePattern)(a,$)}.test(${T})`,()=>{const d=g.includes($);d||a.subschema({keyword:"patternProperties",schemaProp:$,dataProp:T,dataPropType:i.Type.Str},v),c.opts.unevaluated&&h!==!0?s.assign((0,r._)`${h}[${T}]`,!0):!d&&!c.allErrors&&s.if((0,r.not)(v),()=>s.break())})})}}};e.default=o}}),kte=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ur(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:a}=n;if((0,t.alwaysValidSchema)(a,o)){n.fail();return}const s=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),Cte=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ms(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),jte=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,it:u}=o;if(!Array.isArray(s))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=s,c=a.let("valid",!1),p=a.let("passing",null),m=a.name("_valid");o.setParams({passing:p}),a.block(g),o.result(c,()=>o.reset(),()=>o.error(!0));function g(){f.forEach((_,v)=>{let h;(0,r.alwaysValidSchema)(u,_)?a.var(m,!0):h=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},m),v>0&&a.if((0,t._)`${m} && ${c}`).assign(c,!1).assign(p,(0,t._)`[${p}, ${v}]`).else(),a.if(m,()=>{a.assign(c,!0),a.assign(p,v),h&&o.mergeEvaluated(h,t.Name)})})}}};e.default=i}}),Dte=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ur(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:a}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const s=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(a,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},s);n.ok(s),n.mergeEvaluated(f)})}};e.default=r}}),Mte=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n={message:({params:a})=>(0,t.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,t._)`{failingKeyword: ${a.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(a){const{gen:s,parentSchema:l,it:u}=a;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const p=s.let("valid",!0),m=s.name("_valid");if(g(),a.reset(),f&&c){const v=s.let("ifClause");a.setParams({ifClause:v}),s.if(m,_("then",v),_("else",v))}else f?s.if(m,_("then")):s.if((0,t.not)(m),_("else"));a.pass(p,()=>a.error(!0));function g(){const v=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);a.mergeEvaluated(v)}function _(v,h){return()=>{const E=a.subschema({keyword:v},m);s.assign(p,m),a.mergeValidEvaluated(E,p),h?s.assign(h,(0,t._)`${v}`):a.setParams({ifClause:v})}}}};function o(a,s){const l=a.schema[s];return l!==void 0&&!(0,r.alwaysValidSchema)(a,l)}e.default=i}}),Lte=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ur(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),Fte=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=lq(),r=Ate(),n=uq(),i=xte(),o=Pte(),a=Ote(),s=Rte(),l=cq(),u=Ite(),f=Nte(),c=kte(),p=Cte(),m=jte(),g=Dte(),_=Mte(),v=Lte();function h(E=!1){const y=[c.default,p.default,m.default,g.default,_.default,v.default,s.default,l.default,a.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=h}}),Bte=Pe({"../core/node_modules/ajv/dist/vocabularies/format/format.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:a,data:s,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:p,errSchemaPath:m,schemaEnv:g,self:_}=c;if(!p.validateFormats)return;l?v():h();function v(){const E=a.scopeValue("formats",{ref:_.formats,code:p.code.formats}),y=a.const("fDef",(0,t._)`${E}[${f}]`),S=a.let("fType"),$=a.let("format");a.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>a.assign(S,(0,t._)`${y}.type || "string"`).assign($,(0,t._)`${y}.validate`),()=>a.assign(S,(0,t._)`"string"`).assign($,y)),i.fail$data((0,t.or)(T(),d()));function T(){return p.strictSchema===!1?t.nil:(0,t._)`${f} && !${$}`}function d(){const A=g.$async?(0,t._)`(${y}.async ? await ${$}(${s}) : ${$}(${s}))`:(0,t._)`${$}(${s})`,x=(0,t._)`(typeof ${$} == "function" ? ${A} : ${$}.test(${s}))`;return(0,t._)`${$} && ${$} !== true && ${S} === ${o} && !${x}`}}function h(){const E=_.formats[u];if(!E){T();return}if(E===!0)return;const[y,S,$]=d(E);y===o&&i.pass(A());function T(){if(p.strictSchema===!1){_.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function d(x){const P=x instanceof RegExp?(0,t.regexpCode)(x):p.code.formats?(0,t._)`${p.code.formats}${(0,t.getProperty)(u)}`:void 0,j=a.scopeValue("formats",{key:u,ref:x,code:P});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,t._)`${j}.validate`]:["string",x,j]}function A(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!g.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${s})`}return typeof S=="function"?(0,t._)`${$}(${s})`:(0,t._)`${$}.test(${s})`}}}};e.default=n}}),Ute=Pe({"../core/node_modules/ajv/dist/vocabularies/format/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Bte(),r=[t.default];e.default=r}}),zte=Pe({"../core/node_modules/ajv/dist/vocabularies/metadata.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),qte=Pe({"../core/node_modules/ajv/dist/vocabularies/draft7.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hte(),r=Tte(),n=Fte(),i=Ute(),o=zte(),a=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=a}}),Vte=Pe({"../core/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))}}),Hte=Pe({"../core/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Vte(),n=XR(),i=Ur(),o={message:({params:{discrError:s,tagName:l}})=>s===r.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:s,tag:l,tagName:u}})=>(0,t._)`{error: ${s}, tag: ${u}, tagValue: ${l}}`},a={keyword:"discriminator",type:"object",schemaType:"object",error:o,code(s){const{gen:l,data:u,schema:f,parentSchema:c,it:p}=s,{oneOf:m}=c;if(!p.opts.discriminator)throw new Error("discriminator: requires discriminator option");const g=f.propertyName;if(typeof g!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const _=l.let("valid",!1),v=l.const("tag",(0,t._)`${u}${(0,t.getProperty)(g)}`);l.if((0,t._)`typeof ${v} == "string"`,()=>h(),()=>s.error(!1,{discrError:r.DiscrError.Tag,tag:v,tagName:g})),s.ok(_);function h(){const S=y();l.if(!1);for(const $ in S)l.elseIf((0,t._)`${v} === ${$}`),l.assign(_,E(S[$]));l.else(),s.error(!1,{discrError:r.DiscrError.Mapping,tag:v,tagName:g}),l.endIf()}function E(S){const $=l.name("valid"),T=s.subschema({keyword:"oneOf",schemaProp:S},$);return s.mergeEvaluated(T,t.Name),$}function y(){var S;const $={},T=A(c);let d=!0;for(let j=0;j<m.length;j++){let F=m[j];F!=null&&F.$ref&&!(0,i.schemaHasRulesButRef)(F,p.self.RULES)&&(F=n.resolveRef.call(p.self,p.schemaEnv.root,p.baseId,F==null?void 0:F.$ref),F instanceof n.SchemaEnv&&(F=F.schema));const V=(S=F==null?void 0:F.properties)===null||S===void 0?void 0:S[g];if(typeof V!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${g}"`);d=d&&(T||A(F)),x(V,j)}if(!d)throw new Error(`discriminator: "${g}" must be required`);return $;function A({required:j}){return Array.isArray(j)&&j.includes(g)}function x(j,F){if(j.const)P(j.const,F);else if(j.enum)for(const V of j.enum)P(V,F);else throw new Error(`discriminator: "properties/${g}" must have "const" or "enum"`)}function P(j,F){if(typeof j!="string"||j in $)throw new Error(`discriminator: "${g}" values must be unique strings`);$[j]=F}}}};e.default=a}}),Wte=Pe({"../core/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),fq=Pe({"../core/node_modules/ajv/dist/ajv.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=cte(),n=qte(),i=Hte(),o=Wte(),a=["/properties"],s="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(m,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}};t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=aE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=br();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=JR();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var p=YR();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return p.default}})}}),Gte=Pe({"../../node_modules/ajv-formats/dist/formats.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(x,P){return{validate:x,compare:P}}e.fullFormats={date:t(o,a),time:t(l,u),"date-time":t(c,p),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:A,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:h,int32:{type:"number",validate:S},int64:{type:"number",validate:$},float:{type:"number",validate:T},double:{type:"number",validate:T},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,p),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(x){return x%4===0&&(x%100!==0||x%400===0)}var n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(x){const P=n.exec(x);if(!P)return!1;const j=+P[1],F=+P[2],V=+P[3];return F>=1&&F<=12&&V>=1&&V<=(F===2&&r(j)?29:i[F])}function a(x,P){if(x&&P)return x>P?1:x<P?-1:0}var s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(x,P){const j=s.exec(x);if(!j)return!1;const F=+j[1],V=+j[2],X=+j[3],H=j[5];return(F<=23&&V<=59&&X<=59||F===23&&V===59&&X===60)&&(!P||H!=="")}function u(x,P){if(!(x&&P))return;const j=s.exec(x),F=s.exec(P);if(j&&F)return x=j[1]+j[2]+j[3]+(j[4]||""),P=F[1]+F[2]+F[3]+(F[4]||""),x>P?1:x<P?-1:0}var f=/t|\s/i;function c(x){const P=x.split(f);return P.length===2&&o(P[0])&&l(P[1],!0)}function p(x,P){if(!(x&&P))return;const[j,F]=x.split(f),[V,X]=P.split(f),H=a(j,V);if(H!==void 0)return H||u(F,X)}var m=/\/|:/,g=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function _(x){return m.test(x)&&g.test(x)}var v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function h(x){return v.lastIndex=0,v.test(x)}var E=-2147483648,y=2**31-1;function S(x){return Number.isInteger(x)&&x<=y&&x>=E}function $(x){return Number.isInteger(x)}function T(){return!0}var d=/[^\\]\\Z/;function A(x){if(d.test(x))return!1;try{return new RegExp(x),!0}catch{return!1}}}}),Fb=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(h){if(super(),!e.IDENTIFIER.test(h))throw new Error("CodeGen: name must be a valid identifier");this.str=h}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(h){super(),this._items=typeof h=="string"?[h]:h}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const h=this._items[0];return h===""||h==='""'}get str(){var h;return(h=this._str)!==null&&h!==void 0?h:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var h;return(h=this._names)!==null&&h!==void 0?h:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(h,...E){const y=[h[0]];let S=0;for(;S<E.length;)s(y,E[S]),y.push(h[++S]);return new n(y)}e._=i;var o=new n("+");function a(h,...E){const y=[m(h[0])];let S=0;for(;S<E.length;)y.push(o),s(y,E[S]),y.push(o,m(h[++S]));return l(y),new n(y)}e.str=a;function s(h,E){E instanceof n?h.push(...E._items):E instanceof r?h.push(E):h.push(c(E))}e.addCodeArg=s;function l(h){let E=1;for(;E<h.length-1;){if(h[E]===o){const y=u(h[E-1],h[E+1]);if(y!==void 0){h.splice(E-1,3,y);continue}h[E++]="+"}E++}}function u(h,E){if(E==='""')return h;if(h==='""')return E;if(typeof h=="string")return E instanceof r||h[h.length-1]!=='"'?void 0:typeof E!="string"?`${h.slice(0,-1)}${E}"`:E[0]==='"'?h.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(h instanceof r))return`"${h}${E.slice(1)}`}function f(h,E){return E.emptyStr()?h:h.emptyStr()?E:a`${h}${E}`}e.strConcat=f;function c(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:m(Array.isArray(h)?h.join(","):h)}function p(h){return new n(m(h))}e.stringify=p;function m(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):i`[${h}]`}e.getProperty=g;function _(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(h){return new n(h.toString())}e.regexpCode=v}}),ED=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/scope.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=Fb(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var a=(0,t._)`\n`,s=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?a:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:p}=c,m=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[p];if(g){const h=g.get(m);if(h)return h}else g=this._values[p]=new Map;g.set(m,c);const _=this._scope[p]||(this._scope[p]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:p,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let p=t.nil;for(const m in l){const g=l[m];if(!g)continue;const _=f[m]=f[m]||new Map;g.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let h=u(v);if(h){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${E} ${v} = ${h};${this.opts._n}`}else if(h=c==null?void 0:c(v))p=(0,t._)`${p}${h}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return p}};e.ValueScope=s}}),pr=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=Fb(),r=ED(),n=Fb();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=ED();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(O,N){return this}},a=class extends o{constructor(O,N,q){super(),this.varKind=O,this.name=N,this.rhs=q}render({es5:O,_n:N}){const q=O?r.varKinds.var:this.varKind,ne=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${ne};`+N}optimizeNames(O,N){if(O[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,O,N)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},s=class extends o{constructor(O,N,q){super(),this.lhs=O,this.rhs=N,this.sideEffects=q}render({_n:O}){return`${this.lhs} = ${this.rhs};`+O}optimizeNames(O,N){if(!(this.lhs instanceof t.Name&&!O[this.lhs.str]&&!this.sideEffects))return this.rhs=X(this.rhs,O,N),this}get names(){const O=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(O,this.rhs)}},l=class extends s{constructor(O,N,q,ne){super(O,q,ne),this.op=N}render({_n:O}){return`${this.lhs} ${this.op}= ${this.rhs};`+O}},u=class extends o{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`${this.label}:`+O}},f=class extends o{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`break${this.label?` ${this.label}`:""};`+O}},c=class extends o{constructor(O){super(),this.error=O}render({_n:O}){return`throw ${this.error};`+O}get names(){return this.error.names}},p=class extends o{constructor(O){super(),this.code=O}render({_n:O}){return`${this.code};`+O}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(O,N){return this.code=X(this.code,O,N),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},m=class extends o{constructor(O=[]){super(),this.nodes=O}render(O){return this.nodes.reduce((N,q)=>N+q.render(O),"")}optimizeNodes(){const{nodes:O}=this;let N=O.length;for(;N--;){const q=O[N].optimizeNodes();Array.isArray(q)?O.splice(N,1,...q):q?O[N]=q:O.splice(N,1)}return O.length>0?this:void 0}optimizeNames(O,N){const{nodes:q}=this;let ne=q.length;for(;ne--;){const J=q[ne];J.optimizeNames(O,N)||(H(O,J.names),q.splice(ne,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((O,N)=>F(O,N.names),{})}},g=class extends m{render(O){return"{"+O._n+super.render(O)+"}"+O._n}},_=class extends m{},v=class extends g{};v.kind="else";var h=class ww extends g{constructor(N,q){super(q),this.condition=N}render(N){let q=`if(${this.condition})`+super.render(N);return this.else&&(q+="else "+this.else.render(N)),q}optimizeNodes(){super.optimizeNodes();const N=this.condition;if(N===!0)return this.nodes;let q=this.else;if(q){const ne=q.optimizeNodes();q=this.else=Array.isArray(ne)?new v(ne):ne}if(q)return N===!1?q instanceof ww?q:q.nodes:this.nodes.length?this:new ww(Z(N),q instanceof ww?[q]:q.nodes);if(!(N===!1||!this.nodes.length))return this}optimizeNames(N,q){var ne;if(this.else=(ne=this.else)===null||ne===void 0?void 0:ne.optimizeNames(N,q),!!(super.optimizeNames(N,q)||this.else))return this.condition=X(this.condition,N,q),this}get names(){const N=super.names;return V(N,this.condition),this.else&&F(N,this.else.names),N}};h.kind="if";var E=class extends g{};E.kind="for";var y=class extends E{constructor(O){super(),this.iteration=O}render(O){return`for(${this.iteration})`+super.render(O)}optimizeNames(O,N){if(super.optimizeNames(O,N))return this.iteration=X(this.iteration,O,N),this}get names(){return F(super.names,this.iteration.names)}},S=class extends E{constructor(O,N,q,ne){super(),this.varKind=O,this.name=N,this.from=q,this.to=ne}render(O){const N=O.es5?r.varKinds.var:this.varKind,{name:q,from:ne,to:J}=this;return`for(${N} ${q}=${ne}; ${q}<${J}; ${q}++)`+super.render(O)}get names(){const O=V(super.names,this.from);return V(O,this.to)}},$=class extends E{constructor(O,N,q,ne){super(),this.loop=O,this.varKind=N,this.name=q,this.iterable=ne}render(O){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(O)}optimizeNames(O,N){if(super.optimizeNames(O,N))return this.iterable=X(this.iterable,O,N),this}get names(){return F(super.names,this.iterable.names)}},T=class extends g{constructor(O,N,q){super(),this.name=O,this.args=N,this.async=q}render(O){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(O)}};T.kind="func";var d=class extends m{render(O){return"return "+super.render(O)}};d.kind="return";var A=class extends g{render(O){let N="try"+super.render(O);return this.catch&&(N+=this.catch.render(O)),this.finally&&(N+=this.finally.render(O)),N}optimizeNodes(){var O,N;return super.optimizeNodes(),(O=this.catch)===null||O===void 0||O.optimizeNodes(),(N=this.finally)===null||N===void 0||N.optimizeNodes(),this}optimizeNames(O,N){var q,ne;return super.optimizeNames(O,N),(q=this.catch)===null||q===void 0||q.optimizeNames(O,N),(ne=this.finally)===null||ne===void 0||ne.optimizeNames(O,N),this}get names(){const O=super.names;return this.catch&&F(O,this.catch.names),this.finally&&F(O,this.finally.names),O}},x=class extends g{constructor(O){super(),this.error=O}render(O){return`catch(${this.error})`+super.render(O)}};x.kind="catch";var P=class extends g{render(O){return"finally"+super.render(O)}};P.kind="finally";var j=class{constructor(O,N={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...N,_n:N.lines?`
`:""},this._extScope=O,this._scope=new r.Scope({parent:O}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(O){return this._scope.name(O)}scopeName(O){return this._extScope.name(O)}scopeValue(O,N){const q=this._extScope.value(O,N);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(O,N){return this._extScope.getValue(O,N)}scopeRefs(O){return this._extScope.scopeRefs(O,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(O,N,q,ne){const J=this._scope.toName(N);return q!==void 0&&ne&&(this._constants[J.str]=q),this._leafNode(new a(O,J,q)),J}const(O,N,q){return this._def(r.varKinds.const,O,N,q)}let(O,N,q){return this._def(r.varKinds.let,O,N,q)}var(O,N,q){return this._def(r.varKinds.var,O,N,q)}assign(O,N,q){return this._leafNode(new s(O,N,q))}add(O,N){return this._leafNode(new l(O,e.operators.ADD,N))}code(O){return typeof O=="function"?O():O!==t.nil&&this._leafNode(new p(O)),this}object(...O){const N=["{"];for(const[q,ne]of O)N.length>1&&N.push(","),N.push(q),(q!==ne||this.opts.es5)&&(N.push(":"),(0,t.addCodeArg)(N,ne));return N.push("}"),new t._Code(N)}if(O,N,q){if(this._blockNode(new h(O)),N&&q)this.code(N).else().code(q).endIf();else if(N)this.code(N).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(O){return this._elseNode(new h(O))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(h,v)}_for(O,N){return this._blockNode(O),N&&this.code(N).endFor(),this}for(O,N){return this._for(new y(O),N)}forRange(O,N,q,ne,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(O);return this._for(new S(J,Y,N,q),()=>ne(Y))}forOf(O,N,q,ne=r.varKinds.const){const J=this._scope.toName(O);if(this.opts.es5){const Y=N instanceof t.Name?N:this.var("_arr",N);return this.forRange("_i",0,(0,t._)`${Y}.length`,oe=>{this.var(J,(0,t._)`${Y}[${oe}]`),q(J)})}return this._for(new $("of",ne,J,N),()=>q(J))}forIn(O,N,q,ne=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(O,(0,t._)`Object.keys(${N})`,q);const J=this._scope.toName(O);return this._for(new $("in",ne,J,N),()=>q(J))}endFor(){return this._endBlockNode(E)}label(O){return this._leafNode(new u(O))}break(O){return this._leafNode(new f(O))}return(O){const N=new d;if(this._blockNode(N),this.code(O),N.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(O,N,q){if(!N&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const ne=new A;if(this._blockNode(ne),this.code(O),N){const J=this.name("e");this._currNode=ne.catch=new x(J),N(J)}return q&&(this._currNode=ne.finally=new P,this.code(q)),this._endBlockNode(x,P)}throw(O){return this._leafNode(new c(O))}block(O,N){return this._blockStarts.push(this._nodes.length),O&&this.code(O).endBlock(N),this}endBlock(O){const N=this._blockStarts.pop();if(N===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-N;if(q<0||O!==void 0&&q!==O)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${O} expected`);return this._nodes.length=N,this}func(O,N=t.nil,q,ne){return this._blockNode(new T(O,N,q)),ne&&this.code(ne).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(O=1){for(;O-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(O){return this._currNode.nodes.push(O),this}_blockNode(O){this._currNode.nodes.push(O),this._nodes.push(O)}_endBlockNode(O,N){const q=this._currNode;if(q instanceof O||N&&q instanceof N)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${N?`${O.kind}/${N.kind}`:O.kind}"`)}_elseNode(O){const N=this._currNode;if(!(N instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=N.else=O,this}get _root(){return this._nodes[0]}get _currNode(){const O=this._nodes;return O[O.length-1]}set _currNode(O){const N=this._nodes;N[N.length-1]=O}};e.CodeGen=j;function F(O,N){for(const q in N)O[q]=(O[q]||0)+(N[q]||0);return O}function V(O,N){return N instanceof t._CodeOrName?F(O,N.names):O}function X(O,N,q){if(O instanceof t.Name)return ne(O);if(!J(O))return O;return new t._Code(O._items.reduce((Y,oe)=>(oe instanceof t.Name&&(oe=ne(oe)),oe instanceof t._Code?Y.push(...oe._items):Y.push(oe),Y),[]));function ne(Y){const oe=q[Y.str];return oe===void 0||N[Y.str]!==1?Y:(delete N[Y.str],oe)}function J(Y){return Y instanceof t._Code&&Y._items.some(oe=>oe instanceof t.Name&&N[oe.str]===1&&q[oe.str]!==void 0)}}function H(O,N){for(const q in N)O[q]=(O[q]||0)-(N[q]||0)}function Z(O){return typeof O=="boolean"||typeof O=="number"||O===null?!O:(0,t._)`!${K(O)}`}e.not=Z;var fe=B(e.operators.AND);function ee(...O){return O.reduce(fe)}e.and=ee;var ae=B(e.operators.OR);function M(...O){return O.reduce(ae)}e.or=M;function B(O){return(N,q)=>N===t.nil?q:q===t.nil?N:(0,t._)`${K(N)} ${O} ${K(q)}`}function K(O){return O instanceof t.Name?O:(0,t._)`(${O})`}}}),zr=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/util.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=pr(),r=Fb();function n(T){const d={};for(const A of T)d[A]=!0;return d}e.toHash=n;function i(T,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(T,d),!a(d,T.self.RULES.all))}e.alwaysValidSchema=i;function o(T,d=T.schema){const{opts:A,self:x}=T;if(!A.strictSchema||typeof d=="boolean")return;const P=x.RULES.keywords;for(const j in d)P[j]||$(T,`unknown keyword: "${j}"`)}e.checkUnknownRules=o;function a(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(d[A])return!0;return!1}e.schemaHasRules=a;function s(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(A!=="$ref"&&d.all[A])return!0;return!1}e.schemaHasRulesButRef=s;function l({topSchemaRef:T,schemaPath:d},A,x,P){if(!P){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${T}${d}${(0,t.getProperty)(x)}`}e.schemaRefOrVal=l;function u(T){return p(decodeURIComponent(T))}e.unescapeFragment=u;function f(T){return encodeURIComponent(c(T))}e.escapeFragment=f;function c(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function p(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=p;function m(T,d){if(Array.isArray(T))for(const A of T)d(A);else d(T)}e.eachItem=m;function g({mergeNames:T,mergeToName:d,mergeValues:A,resultToName:x}){return(P,j,F,V)=>{const X=F===void 0?j:F instanceof t.Name?(j instanceof t.Name?T(P,j,F):d(P,j,F),F):j instanceof t.Name?(d(P,F,j),j):A(j,F);return V===t.Name&&!(X instanceof t.Name)?x(P,X):X}}e.mergeEvaluated={props:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>{T.if((0,t._)`${d} === true`,()=>T.assign(A,!0),()=>T.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${d})`))}),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>{d===!0?T.assign(A,!0):(T.assign(A,(0,t._)`${A} || {}`),v(T,A,d))}),mergeValues:(T,d)=>T===!0?!0:{...T,...d},resultToName:_}),items:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>T.assign(A,(0,t._)`${d} === true ? true : ${A} > ${d} ? ${A} : ${d}`)),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>T.assign(A,d===!0?!0:(0,t._)`${A} > ${d} ? ${A} : ${d}`)),mergeValues:(T,d)=>T===!0?!0:Math.max(T,d),resultToName:(T,d)=>T.var("items",d)})};function _(T,d){if(d===!0)return T.var("props",!0);const A=T.var("props",(0,t._)`{}`);return d!==void 0&&v(T,A,d),A}e.evaluatedPropsToName=_;function v(T,d,A){Object.keys(A).forEach(x=>T.assign((0,t._)`${d}${(0,t.getProperty)(x)}`,!0))}e.setEvaluated=v;var h={};function E(T,d){return T.scopeValue("func",{ref:d,code:h[d.code]||(h[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(y=e.Type||(e.Type={}));function S(T,d,A){if(T instanceof t.Name){const x=d===y.Num;return A?x?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:x?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(T).toString():"/"+c(T)}e.getErrorPath=S;function $(T,d,A=T.opts.strictSchema){if(A){if(d=`strict mode: ${d}`,A===!0)throw new Error(d);T.self.logger.warn(d)}}e.checkStrictMode=$}}),cc=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/names.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),sE=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/errors.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=pr(),r=zr(),n=cc();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:h})=>h?(0,t.str)`"${v}" keyword must be ${h} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,h=e.keywordError,E,y){const{it:S}=v,{gen:$,compositeRule:T,allErrors:d}=S,A=c(v,h,E);y??(T||d)?l($,A):u(S,(0,t._)`[${A}]`)}e.reportError=i;function o(v,h=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:$,allErrors:T}=y,d=c(v,h,E);l(S,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function a(v,h){v.assign(n.default.errors,h),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(h,()=>v.assign((0,t._)`${n.default.vErrors}.length`,h),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:v,keyword:h,schemaValue:E,data:y,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${h}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,E),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=s;function l(v,h){const E=v.const("err",h);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,h){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${h})`):(E.assign((0,t._)`${y}.errors`,h),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,h,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:p(v,h,E)}function p(v,h,E={}){const{gen:y,it:S}=v,$=[m(S,E),g(v,E)];return _(v,h,$),y.object(...$)}function m({errorPath:v},{instancePath:h}){const E=h?(0,t.str)`${v}${(0,r.getErrorPath)(h,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:h}},{schemaPath:E,parentSchema:y}){let S=y?h:(0,t.str)`${h}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:h,message:E},y){const{keyword:S,data:$,schemaValue:T,it:d}=v,{opts:A,propertyName:x,topSchemaRef:P,schemaPath:j}=d;y.push([f.keyword,S],[f.params,typeof h=="function"?h(v):h||(0,t._)`{}`]),A.messages&&y.push([f.message,typeof E=="function"?E(v):E]),A.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${P}${j}`],[n.default.data,$]),x&&y.push([f.propertyName,x])}}}),Kte=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=sE(),r=pr(),n=cc(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?s(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function a(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),s(l)):f.var(u,!0)}e.boolOrEmptySchema=a;function s(l,u){const{gen:f,data:c}=l,p={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(p,i,void 0,u)}}}),dq=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/rules.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),hq=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/applicability.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},a){const s=o.RULES.types[a];return s&&s!==!0&&r(i,s)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(a=>n(i,a))}e.shouldUseGroup=r;function n(i,o){var a;return i[o.keyword]!==void 0||((a=o.definition.implements)===null||a===void 0?void 0:a.some(s=>i[s]!==void 0))}e.shouldUseRule=n}}),Bb=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/dataType.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=dq(),r=hq(),n=sE(),i=pr(),o=zr(),a;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(a=e.DataType||(e.DataType={}));function s(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=s;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:$,data:T,opts:d}=y,A=c(S,d.coerceTypes),x=S.length>0&&!(A.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(x){const P=_(S,T,d.strictNumbers,a.Wrong);$.if(P,()=>{A.length?p(y,S,A):h(y)})}return x}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter($=>f.has($)||S==="array"&&$==="array"):[]}function p(y,S,$){const{gen:T,data:d,opts:A}=y,x=T.let("dataType",(0,i._)`typeof ${d}`),P=T.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&T.if((0,i._)`${x} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>T.assign(d,(0,i._)`${d}[0]`).assign(x,(0,i._)`typeof ${d}`).if(_(S,d,A.strictNumbers),()=>T.assign(P,d))),T.if((0,i._)`${P} !== undefined`);for(const F of $)(f.has(F)||F==="array"&&A.coerceTypes==="array")&&j(F);T.else(),h(y),T.endIf(),T.if((0,i._)`${P} !== undefined`,()=>{T.assign(d,P),m(y,P)});function j(F){switch(F){case"string":T.elseIf((0,i._)`${x} == "number" || ${x} == "boolean"`).assign(P,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(P,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${x} == "boolean" || ${d} === null
              || (${x} == "string" && ${d} && ${d} == +${d})`).assign(P,(0,i._)`+${d}`);return;case"integer":T.elseIf((0,i._)`${x} === "boolean" || ${d} === null
              || (${x} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(P,(0,i._)`+${d}`);return;case"boolean":T.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(P,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(P,!0);return;case"null":T.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),T.assign(P,null);return;case"array":T.elseIf((0,i._)`${x} === "string" || ${x} === "number"
              || ${x} === "boolean" || ${d} === null`).assign(P,(0,i._)`[${d}]`)}}}function m({gen:y,parentData:S,parentDataProperty:$},T){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${$}]`,T))}function g(y,S,$,T=a.Correct){const d=T===a.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":A=(0,i._)`Array.isArray(${S})`;break;case"object":A=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":A=x((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":A=x();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return T===a.Correct?A:(0,i.not)(A);function x(P=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,P,$?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=g;function _(y,S,$,T){if(y.length===1)return g(y[0],S,$,T);let d;const A=(0,o.toHash)(y);if(A.array&&A.object){const x=(0,i._)`typeof ${S} != "object"`;d=A.null?x:(0,i._)`!${S} || ${x}`,delete A.null,delete A.array,delete A.object}else d=i.nil;A.number&&delete A.integer;for(const x in A)d=(0,i.and)(d,g(x,S,$,T));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function h(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=h;function E(y){const{gen:S,data:$,schema:T}=y,d=(0,o.schemaRefOrVal)(y,T,"type");return{gen:S,keyword:"type",data:$,schema:T.type,schemaCode:d,schemaValue:d,parentSchema:T,params:{},it:y}}}}),Jte=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/defaults.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=pr(),r=zr();function n(o,a){const{properties:s,items:l}=o.schema;if(a==="object"&&s)for(const u in s)i(o,u,s[u].default);else a==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,a,s){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(s===void 0)return;const p=(0,t._)`${f}${(0,t.getProperty)(a)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${p}`);return}let m=(0,t._)`${p} === undefined`;c.useDefaults==="empty"&&(m=(0,t._)`${m} || ${p} === null || ${p} === ""`),l.if(m,(0,t._)`${p} = ${(0,t.stringify)(s)}`)}}}),gs=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=pr(),r=zr(),n=cc(),i=zr();function o(y,S){const{gen:$,data:T,it:d}=y;$.if(c($,T,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function a({gen:y,data:S,it:{opts:$}},T,d){return(0,t.or)(...T.map(A=>(0,t.and)(c(y,S,A,$.ownProperties),(0,t._)`${d} = ${A}`)))}e.checkMissingProp=a;function s(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=s;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,$){return(0,t._)`${l(y)}.call(${S}, ${$})`}e.isOwnProperty=u;function f(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} !== undefined`;return T?(0,t._)`${d} && ${u(y,S,$)}`:d}e.propertyInData=f;function c(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} === undefined`;return T?(0,t.or)(d,(0,t.not)(u(y,S,$))):d}e.noPropertyInData=c;function p(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=p;function m(y,S){return p(S).filter($=>!(0,r.alwaysValidSchema)(y,S[$]))}e.schemaProperties=m;function g({schemaCode:y,data:S,it:{gen:$,topSchemaRef:T,schemaPath:d,errorPath:A},it:x},P,j,F){const V=F?(0,t._)`${y}, ${S}, ${T}${d}`:S,X=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,A)],[n.default.parentData,x.parentData],[n.default.parentDataProperty,x.parentDataProperty],[n.default.rootData,n.default.rootData]];x.opts.dynamicRef&&X.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const H=(0,t._)`${V}, ${$.object(...X)}`;return j!==t.nil?(0,t._)`${P}.call(${j}, ${H})`:(0,t._)`${P}(${H})`}e.callValidateCode=g;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},$){const T=S.unicodeRegExp?"u":"",{regExp:d}=S.code,A=d($,T);return y.scopeValue("pattern",{key:A.toString(),ref:A,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${$}, ${T})`})}e.usePattern=v;function h(y){const{gen:S,data:$,keyword:T,it:d}=y,A=S.name("valid");if(d.allErrors){const P=S.let("valid",!0);return x(()=>S.assign(P,!1)),P}return S.var(A,!0),x(()=>S.break()),A;function x(P){const j=S.const("len",(0,t._)`${$}.length`);S.forRange("i",0,j,F=>{y.subschema({keyword:T,dataProp:F,dataPropType:r.Type.Num},A),S.if((0,t.not)(A),P)})}}e.validateArray=h;function E(y){const{gen:S,schema:$,keyword:T,it:d}=y;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(j=>(0,r.alwaysValidSchema)(d,j))&&!d.opts.unevaluated)return;const x=S.let("valid",!1),P=S.name("_valid");S.block(()=>$.forEach((j,F)=>{const V=y.subschema({keyword:T,schemaProp:F,compositeRule:!0},P);S.assign(x,(0,t._)`${x} || ${P}`),y.mergeValidEvaluated(V,P)||S.if((0,t.not)(x))})),y.result(x,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),Yte=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/keyword.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=pr(),r=cc(),n=gs(),i=sE();function o(m,g){const{gen:_,keyword:v,schema:h,parentSchema:E,it:y}=m,S=g.macro.call(y.self,h,E,y),$=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const T=_.name("valid");m.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:$,compositeRule:!0},T),m.pass(T,()=>m.error(!0))}e.macroKeywordCode=o;function a(m,g){var _;const{gen:v,keyword:h,schema:E,parentSchema:y,$data:S,it:$}=m;u($,g);const T=!S&&g.compile?g.compile.call($.self,E,y,$):g.validate,d=f(v,h,T),A=v.let("valid");m.block$data(A,x),m.ok((_=g.valid)!==null&&_!==void 0?_:A);function x(){if(g.errors===!1)F(),g.modifying&&s(m),V(()=>m.error());else{const X=g.async?P():j();g.modifying&&s(m),V(()=>l(m,X))}}function P(){const X=v.let("ruleErrs",null);return v.try(()=>F((0,t._)`await `),H=>v.assign(A,!1).if((0,t._)`${H} instanceof ${$.ValidationError}`,()=>v.assign(X,(0,t._)`${H}.errors`),()=>v.throw(H))),X}function j(){const X=(0,t._)`${d}.errors`;return v.assign(X,null),F(t.nil),X}function F(X=g.async?(0,t._)`await `:t.nil){const H=$.opts.passContext?r.default.this:r.default.self,Z=!("compile"in g&&!S||g.schema===!1);v.assign(A,(0,t._)`${X}${(0,n.callValidateCode)(m,d,H,Z)}`,g.modifying)}function V(X){var H;v.if((0,t.not)((H=g.valid)!==null&&H!==void 0?H:A),X)}}e.funcKeywordCode=a;function s(m){const{gen:g,data:_,it:v}=m;g.if(v.parentData,()=>g.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(m,g){const{gen:_}=m;_.if((0,t._)`Array.isArray(${g})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${g} : ${r.default.vErrors}.concat(${g})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(m)},()=>m.error())}function u({schemaEnv:m},g){if(g.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,g,_){if(_===void 0)throw new Error(`keyword "${g}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(m,g,_=!1){return!g.length||g.some(v=>v==="array"?Array.isArray(m):v==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==v||_&&typeof m>"u")}e.validSchemaType=c;function p({schema:m,opts:g,self:_,errSchemaPath:v},h,E){if(Array.isArray(h.keyword)?!h.keyword.includes(E):h.keyword!==E)throw new Error("ajv implementation error");const y=h.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(m,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(h.validateSchema&&!h.validateSchema(m[E])){const $=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(h.validateSchema.errors);if(g.validateSchema==="log")_.logger.error($);else throw new Error($)}}e.validateKeywordUsage=p}}),Xte=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/subschema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=pr(),r=zr();function n(a,{keyword:s,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:p}){if(s!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const m=a.schema[s];return l===void 0?{schema:m,schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${s}`}:{schema:m[l],schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(l)}`,errSchemaPath:`${a.errSchemaPath}/${s}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:p,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(a,s,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:p}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=s;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:h}=s,E=m.let("data",(0,t._)`${s.data}${(0,t.getProperty)(l)}`,!0);g(E),a.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,h.jsPropertySyntax)}`,a.parentDataProperty=(0,t._)`${l}`,a.dataPathArr=[...v,a.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);g(_),p!==void 0&&(a.propertyName=p)}c&&(a.dataTypes=c);function g(_){a.data=_,a.dataLevel=s.dataLevel+1,a.dataTypes=[],s.definedProperties=new Set,a.parentData=s.data,a.dataNames=[...s.dataNames,_]}}e.extendSubschemaData=i;function o(a,{jtdDiscriminator:s,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(a.compositeRule=u),f!==void 0&&(a.createErrors=f),c!==void 0&&(a.allErrors=c),a.jtdDiscriminator=s,a.jtdMetadata=l}e.extendSubschemaMode=o}}),Qte=Pe({"../../node_modules/ajv-formats/node_modules/json-schema-traverse/index.js"(e,t){Te();var r=t.exports=function(o,a,s){typeof a=="function"&&(s=a,a={}),s=a.cb||s;var l=typeof s=="function"?s:s.pre||function(){},u=s.post||function(){};n(a,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,a,s,l,u,f,c,p,m,g){if(l&&typeof l=="object"&&!Array.isArray(l)){a(l,u,f,c,p,m,g);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var h=0;h<v.length;h++)n(o,a,s,v[h],u+"/"+_+"/"+h,f,u,_,l,h)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,a,s,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,a,s,v,u+"/"+_,f,u,_,l)}s(l,u,f,c,p,m,g)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),lE=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/resolve.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=zr(),r=Mh(),n=Qte(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,h=!0){return typeof v=="boolean"?!0:h===!0?!s(v):h?l(v)<=h:!1}e.inlineRef=o;var a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(v){for(const h in v){if(a.has(h))return!0;const E=v[h];if(Array.isArray(E)&&E.some(s)||typeof E=="object"&&s(E))return!0}return!1}function l(v){let h=0;for(const E in v){if(E==="$ref")return 1/0;if(h++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>h+=l(y)),h===1/0))return 1/0}return h}function u(v,h="",E){E!==!1&&(h=p(h));const y=v.parse(h);return f(v,y)}e.getFullPath=u;function f(v,h){return v.serialize(h).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function p(v){return v?v.replace(c,""):""}e.normalizeId=p;function m(v,h,E){return E=p(E),v.resolve(h,E)}e.resolveUrl=m;var g=/^[a-z_][-a-z0-9._]*$/i;function _(v,h){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=p(v[E]||h),$={"":S},T=u(y,S,!1),d={},A=new Set;return n(v,{allKeys:!0},(j,F,V,X)=>{if(X===void 0)return;const H=T+F;let Z=$[X];typeof j[E]=="string"&&(Z=fe.call(this,j[E])),ee.call(this,j.$anchor),ee.call(this,j.$dynamicAnchor),$[F]=Z;function fe(ae){const M=this.opts.uriResolver.resolve;if(ae=p(Z?M(Z,ae):ae),A.has(ae))throw P(ae);A.add(ae);let B=this.refs[ae];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?x(j,B.schema,ae):ae!==p(H)&&(ae[0]==="#"?(x(j,d[ae],ae),d[ae]=j):this.refs[ae]=H),ae}function ee(ae){if(typeof ae=="string"){if(!g.test(ae))throw new Error(`invalid anchor "${ae}"`);fe.call(this,`#${ae}`)}}}),d;function x(j,F,V){if(F!==void 0&&!r(j,F))throw P(V)}function P(j){return new Error(`reference "${j}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),uE=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=Kte(),r=Bb(),n=hq(),i=Bb(),o=Jte(),a=Yte(),s=Xte(),l=pr(),u=cc(),f=lE(),c=zr(),p=sE();function m(R){if(T(R)&&(A(R),$(R))){h(R);return}g(R,()=>(0,t.topBoolOrEmptySchema)(R))}e.validateFunctionCode=m;function g({gen:R,validateName:C,schema:D,schemaEnv:G,opts:ie},ue){ie.code.es5?R.func(C,(0,l._)`${u.default.data}, ${u.default.valCxt}`,G.$async,()=>{R.code((0,l._)`"use strict"; ${y(D,ie)}`),v(R,ie),R.code(ue)}):R.func(C,(0,l._)`${u.default.data}, ${_(ie)}`,G.$async,()=>R.code(y(D,ie)).code(ue))}function _(R){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${R.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(R,C){R.if(u.default.valCxt,()=>{R.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),R.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),R.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),R.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),C.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{R.var(u.default.instancePath,(0,l._)`""`),R.var(u.default.parentData,(0,l._)`undefined`),R.var(u.default.parentDataProperty,(0,l._)`undefined`),R.var(u.default.rootData,u.default.data),C.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function h(R){const{schema:C,opts:D,gen:G}=R;g(R,()=>{D.$comment&&C.$comment&&X(R),j(R),G.let(u.default.vErrors,null),G.let(u.default.errors,0),D.unevaluated&&E(R),x(R),H(R)})}function E(R){const{gen:C,validateName:D}=R;R.evaluated=C.const("evaluated",(0,l._)`${D}.evaluated`),C.if((0,l._)`${R.evaluated}.dynamicProps`,()=>C.assign((0,l._)`${R.evaluated}.props`,(0,l._)`undefined`)),C.if((0,l._)`${R.evaluated}.dynamicItems`,()=>C.assign((0,l._)`${R.evaluated}.items`,(0,l._)`undefined`))}function y(R,C){const D=typeof R=="object"&&R[C.schemaId];return D&&(C.code.source||C.code.process)?(0,l._)`/*# sourceURL=${D} */`:l.nil}function S(R,C){if(T(R)&&(A(R),$(R))){d(R,C);return}(0,t.boolOrEmptySchema)(R,C)}function $({schema:R,self:C}){if(typeof R=="boolean")return!R;for(const D in R)if(C.RULES.all[D])return!0;return!1}function T(R){return typeof R.schema!="boolean"}function d(R,C){const{schema:D,gen:G,opts:ie}=R;ie.$comment&&D.$comment&&X(R),F(R),V(R);const ue=G.const("_errs",u.default.errors);x(R,ue),G.var(C,(0,l._)`${ue} === ${u.default.errors}`)}function A(R){(0,c.checkUnknownRules)(R),P(R)}function x(R,C){if(R.opts.jtd)return fe(R,[],!1,C);const D=(0,r.getSchemaTypes)(R.schema),G=(0,r.coerceAndCheckDataType)(R,D);fe(R,D,!G,C)}function P(R){const{schema:C,errSchemaPath:D,opts:G,self:ie}=R;C.$ref&&G.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(C,ie.RULES)&&ie.logger.warn(`$ref: keywords ignored in schema at path "${D}"`)}function j(R){const{schema:C,opts:D}=R;C.default!==void 0&&D.useDefaults&&D.strictSchema&&(0,c.checkStrictMode)(R,"default is ignored in the schema root")}function F(R){const C=R.schema[R.opts.schemaId];C&&(R.baseId=(0,f.resolveUrl)(R.opts.uriResolver,R.baseId,C))}function V(R){if(R.schema.$async&&!R.schemaEnv.$async)throw new Error("async schema in sync schema")}function X({gen:R,schemaEnv:C,schema:D,errSchemaPath:G,opts:ie}){const ue=D.$comment;if(ie.$comment===!0)R.code((0,l._)`${u.default.self}.logger.log(${ue})`);else if(typeof ie.$comment=="function"){const de=(0,l.str)`${G}/$comment`,ve=R.scopeValue("root",{ref:C.root});R.code((0,l._)`${u.default.self}.opts.$comment(${ue}, ${de}, ${ve}.schema)`)}}function H(R){const{gen:C,schemaEnv:D,validateName:G,ValidationError:ie,opts:ue}=R;D.$async?C.if((0,l._)`${u.default.errors} === 0`,()=>C.return(u.default.data),()=>C.throw((0,l._)`new ${ie}(${u.default.vErrors})`)):(C.assign((0,l._)`${G}.errors`,u.default.vErrors),ue.unevaluated&&Z(R),C.return((0,l._)`${u.default.errors} === 0`))}function Z({gen:R,evaluated:C,props:D,items:G}){D instanceof l.Name&&R.assign((0,l._)`${C}.props`,D),G instanceof l.Name&&R.assign((0,l._)`${C}.items`,G)}function fe(R,C,D,G){const{gen:ie,schema:ue,data:de,allErrors:ve,opts:Ne,self:Be}=R,{RULES:je}=Be;if(ue.$ref&&(Ne.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(ue,je))){ie.block(()=>Y(R,"$ref",je.all.$ref.definition));return}Ne.jtd||ae(R,C),ie.block(()=>{for(const We of je.rules)nt(We);nt(je.post)});function nt(We){(0,n.shouldUseGroup)(ue,We)&&(We.type?(ie.if((0,i.checkDataType)(We.type,de,Ne.strictNumbers)),ee(R,We),C.length===1&&C[0]===We.type&&D&&(ie.else(),(0,i.reportTypeError)(R)),ie.endIf()):ee(R,We),ve||ie.if((0,l._)`${u.default.errors} === ${G||0}`))}}function ee(R,C){const{gen:D,schema:G,opts:{useDefaults:ie}}=R;ie&&(0,o.assignDefaults)(R,C.type),D.block(()=>{for(const ue of C.rules)(0,n.shouldUseRule)(G,ue)&&Y(R,ue.keyword,ue.definition,C.type)})}function ae(R,C){R.schemaEnv.meta||!R.opts.strictTypes||(M(R,C),R.opts.allowUnionTypes||B(R,C),K(R,R.dataTypes))}function M(R,C){if(C.length){if(!R.dataTypes.length){R.dataTypes=C;return}C.forEach(D=>{N(R.dataTypes,D)||ne(R,`type "${D}" not allowed by context "${R.dataTypes.join(",")}"`)}),q(R,C)}}function B(R,C){C.length>1&&!(C.length===2&&C.includes("null"))&&ne(R,"use allowUnionTypes to allow union type keyword")}function K(R,C){const D=R.self.RULES.all;for(const G in D){const ie=D[G];if(typeof ie=="object"&&(0,n.shouldUseRule)(R.schema,ie)){const{type:ue}=ie.definition;ue.length&&!ue.some(de=>O(C,de))&&ne(R,`missing type "${ue.join(",")}" for keyword "${G}"`)}}}function O(R,C){return R.includes(C)||C==="number"&&R.includes("integer")}function N(R,C){return R.includes(C)||C==="integer"&&R.includes("number")}function q(R,C){const D=[];for(const G of R.dataTypes)N(C,G)?D.push(G):C.includes("integer")&&G==="number"&&D.push("integer");R.dataTypes=D}function ne(R,C){const D=R.schemaEnv.baseId+R.errSchemaPath;C+=` at "${D}" (strictTypes)`,(0,c.checkStrictMode)(R,C,R.opts.strictTypes)}var J=class{constructor(R,C,D){if((0,a.validateKeywordUsage)(R,C,D),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=D,this.data=R.data,this.schema=R.schema[D],this.$data=C.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(R,this.schema,D,this.$data),this.schemaType=C.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=C,this.$data)this.schemaCode=R.gen.const("vSchema",Oe(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,C.schemaType,C.allowUndefined))throw new Error(`${D} value must be ${JSON.stringify(C.schemaType)}`);("code"in C?C.trackErrors:C.errors!==!1)&&(this.errsCount=R.gen.const("_errs",u.default.errors))}result(R,C,D){this.failResult((0,l.not)(R),C,D)}failResult(R,C,D){this.gen.if(R),D?D():this.error(),C?(this.gen.else(),C(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,C){this.failResult((0,l.not)(R),void 0,C)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:C}=this;this.fail((0,l._)`${C} !== undefined && (${(0,l.or)(this.invalid$data(),R)})`)}error(R,C,D){if(C){this.setParams(C),this._error(R,D),this.setParams({});return}this._error(R,D)}_error(R,C){(R?p.reportExtraError:p.reportError)(this,this.def.error,C)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,C){C?Object.assign(this.params,R):this.params=R}block$data(R,C,D=l.nil){this.gen.block(()=>{this.check$data(R,D),C()})}check$data(R=l.nil,C=l.nil){if(!this.$data)return;const{gen:D,schemaCode:G,schemaType:ie,def:ue}=this;D.if((0,l.or)((0,l._)`${G} === undefined`,C)),R!==l.nil&&D.assign(R,!0),(ie.length||ue.validateSchema)&&(D.elseIf(this.invalid$data()),this.$dataError(),R!==l.nil&&D.assign(R,!1)),D.else()}invalid$data(){const{gen:R,schemaCode:C,schemaType:D,def:G,it:ie}=this;return(0,l.or)(ue(),de());function ue(){if(D.length){if(!(C instanceof l.Name))throw new Error("ajv implementation error");const ve=Array.isArray(D)?D:[D];return(0,l._)`${(0,i.checkDataTypes)(ve,C,ie.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function de(){if(G.validateSchema){const ve=R.scopeValue("validate$data",{ref:G.validateSchema});return(0,l._)`!${ve}(${C})`}return l.nil}}subschema(R,C){const D=(0,s.getSubschema)(this.it,R);(0,s.extendSubschemaData)(D,this.it,R),(0,s.extendSubschemaMode)(D,R);const G={...this.it,...D,items:void 0,props:void 0};return S(G,C),G}mergeEvaluated(R,C){const{it:D,gen:G}=this;D.opts.unevaluated&&(D.props!==!0&&R.props!==void 0&&(D.props=c.mergeEvaluated.props(G,R.props,D.props,C)),D.items!==!0&&R.items!==void 0&&(D.items=c.mergeEvaluated.items(G,R.items,D.items,C)))}mergeValidEvaluated(R,C){const{it:D,gen:G}=this;if(D.opts.unevaluated&&(D.props!==!0||D.items!==!0))return G.if(C,()=>this.mergeEvaluated(R,l.Name)),!0}};e.KeywordCxt=J;function Y(R,C,D,G){const ie=new J(R,D,C);"code"in D?D.code(ie,G):ie.$data&&D.validate?(0,a.funcKeywordCode)(ie,D):"macro"in D?(0,a.macroKeywordCode)(ie,D):(D.compile||D.validate)&&(0,a.funcKeywordCode)(ie,D)}var oe=/^\/(?:[^~]|~0|~1)*$/,be=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Oe(R,{dataLevel:C,dataNames:D,dataPathArr:G}){let ie,ue;if(R==="")return u.default.rootData;if(R[0]==="/"){if(!oe.test(R))throw new Error(`Invalid JSON-pointer: ${R}`);ie=R,ue=u.default.rootData}else{const Be=be.exec(R);if(!Be)throw new Error(`Invalid JSON-pointer: ${R}`);const je=+Be[1];if(ie=Be[2],ie==="#"){if(je>=C)throw new Error(Ne("property/index",je));return G[C-je]}if(je>C)throw new Error(Ne("data",je));if(ue=D[C-je],!ie)return ue}let de=ue;const ve=ie.split("/");for(const Be of ve)Be&&(ue=(0,l._)`${ue}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Be))}`,de=(0,l._)`${de} && ${ue}`);return de;function Ne(Be,je){return`Cannot access ${Be} ${je} levels up, current level is ${C}`}}e.getData=Oe}}),ZR=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/validation_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),eI=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/ref_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=lE(),r=class extends Error{constructor(n,i,o,a){super(a||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),tI=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=pr(),r=ZR(),n=cc(),i=lE(),o=zr(),a=uE(),s=class{constructor(h){var E;this.refs={},this.dynamicAnchors={};let y;typeof h.schema=="object"&&(y=h.schema),this.schema=h.schema,this.schemaId=h.schemaId,this.root=h.root||this,this.baseId=(E=h.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[h.schemaId||"$id"]),this.schemaPath=h.schemaPath,this.localRefs=h.localRefs,this.meta=h.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=s;function l(h){const E=c.call(this,h);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,h.root.baseId),{es5:S,lines:$}=this.opts.code,{ownProperties:T}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:$,ownProperties:T});let A;h.$async&&(A=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const x=d.scopeName("validate");h.validateName=x;const P={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:h.schema,code:(0,t.stringify)(h.schema)}:{ref:h.schema}),validateName:x,ValidationError:A,schema:h.schema,schemaEnv:h,rootId:y,baseId:h.baseId||y,schemaPath:t.nil,errSchemaPath:h.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let j;try{this._compilations.add(h),(0,a.validateFunctionCode)(P),d.optimize(this.opts.code.optimize);const F=d.toString();j=`${d.scopeRefs(n.default.scope)}return ${F}`,this.opts.code.process&&(j=this.opts.code.process(j,h));const X=new Function(`${n.default.self}`,`${n.default.scope}`,j)(this,this.scope.get());if(this.scope.value(x,{ref:X}),X.errors=null,X.schema=h.schema,X.schemaEnv=h,h.$async&&(X.$async=!0),this.opts.code.source===!0&&(X.source={validateName:x,validateCode:F,scopeValues:d._values}),this.opts.unevaluated){const{props:H,items:Z}=P;X.evaluated={props:H instanceof t.Name?void 0:H,items:Z instanceof t.Name?void 0:Z,dynamicProps:H instanceof t.Name,dynamicItems:Z instanceof t.Name},X.source&&(X.source.evaluated=(0,t.stringify)(X.evaluated))}return h.validate=X,h}catch(F){throw delete h.validate,delete h.validateName,j&&this.logger.error("Error compiling schema, function code:",j),F}finally{this._compilations.delete(h)}}e.compileSchema=l;function u(h,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const $=h.refs[y];if($)return $;let T=m.call(this,h,y);if(T===void 0){const d=(S=h.localRefs)===null||S===void 0?void 0:S[y],{schemaId:A}=this.opts;d&&(T=new s({schema:d,schemaId:A,root:h,baseId:E}))}if(T!==void 0)return h.refs[y]=f.call(this,T)}e.resolveRef=u;function f(h){return(0,i.inlineRef)(h.schema,this.opts.inlineRefs)?h.schema:h.validate?h:l.call(this,h)}function c(h){for(const E of this._compilations)if(p(E,h))return E}e.getCompilingSchema=c;function p(h,E){return h.schema===E.schema&&h.root===E.root&&h.baseId===E.baseId}function m(h,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||g.call(this,h,E)}function g(h,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let $=(0,i.getFullPath)(this.opts.uriResolver,h.baseId,void 0);if(Object.keys(h.schema).length>0&&S===$)return v.call(this,y,h);const T=(0,i.normalizeId)(S),d=this.refs[T]||this.schemas[T];if(typeof d=="string"){const A=g.call(this,h,d);return typeof(A==null?void 0:A.schema)!="object"?void 0:v.call(this,y,A)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),T===(0,i.normalizeId)(E)){const{schema:A}=d,{schemaId:x}=this.opts,P=A[x];return P&&($=(0,i.resolveUrl)(this.opts.uriResolver,$,P)),new s({schema:A,schemaId:x,root:h,baseId:$})}return v.call(this,y,d)}}e.resolveSchema=g;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(h,{baseId:E,schema:y,root:S}){var $;if((($=h.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const A of h.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const x=y[(0,o.unescapeFragment)(A)];if(x===void 0)return;y=x;const P=typeof y=="object"&&y[this.opts.schemaId];!_.has(A)&&P&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,P))}let T;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const A=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);T=g.call(this,S,A)}const{schemaId:d}=this.opts;if(T=T||new s({schema:y,schemaId:d,root:S,baseId:E}),T.schema!==T.root.schema)return T}}}),Zte=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),ere=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/uri.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=sq();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),tre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/core.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=uE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=pr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=ZR(),i=eI(),o=dq(),a=tI(),s=pr(),l=lE(),u=Bb(),f=zr(),c=Zte(),p=ere(),m=(M,B)=>new RegExp(M,B);m.code="new RegExp";var g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(M){var B,K,O,N,q,ne,J,Y,oe,be,Oe,R,C,D,G,ie,ue,de,ve,Ne,Be,je,nt,We,Ue;const W=M.strict,I=(B=M.code)===null||B===void 0?void 0:B.optimize,L=I===!0||I===void 0?1:I||0,re=(O=(K=M.code)===null||K===void 0?void 0:K.regExp)!==null&&O!==void 0?O:m,ye=(N=M.uriResolver)!==null&&N!==void 0?N:p.default;return{strictSchema:(ne=(q=M.strictSchema)!==null&&q!==void 0?q:W)!==null&&ne!==void 0?ne:!0,strictNumbers:(Y=(J=M.strictNumbers)!==null&&J!==void 0?J:W)!==null&&Y!==void 0?Y:!0,strictTypes:(be=(oe=M.strictTypes)!==null&&oe!==void 0?oe:W)!==null&&be!==void 0?be:"log",strictTuples:(R=(Oe=M.strictTuples)!==null&&Oe!==void 0?Oe:W)!==null&&R!==void 0?R:"log",strictRequired:(D=(C=M.strictRequired)!==null&&C!==void 0?C:W)!==null&&D!==void 0?D:!1,code:M.code?{...M.code,optimize:L,regExp:re}:{optimize:L,regExp:re},loopRequired:(G=M.loopRequired)!==null&&G!==void 0?G:E,loopEnum:(ie=M.loopEnum)!==null&&ie!==void 0?ie:E,meta:(ue=M.meta)!==null&&ue!==void 0?ue:!0,messages:(de=M.messages)!==null&&de!==void 0?de:!0,inlineRefs:(ve=M.inlineRefs)!==null&&ve!==void 0?ve:!0,schemaId:(Ne=M.schemaId)!==null&&Ne!==void 0?Ne:"$id",addUsedSchema:(Be=M.addUsedSchema)!==null&&Be!==void 0?Be:!0,validateSchema:(je=M.validateSchema)!==null&&je!==void 0?je:!0,validateFormats:(nt=M.validateFormats)!==null&&nt!==void 0?nt:!0,unicodeRegExp:(We=M.unicodeRegExp)!==null&&We!==void 0?We:!0,int32range:(Ue=M.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:ye}}var S=class{constructor(M={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,M=this.opts={...M,...y(M)};const{es5:B,lines:K}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:B,lines:K}),this.logger=F(M.logger);const O=M.validateFormats;M.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,M,"NOT SUPPORTED"),$.call(this,h,M,"DEPRECATED","warn"),this._metaOpts=P.call(this),M.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),M.keywords&&x.call(this,M.keywords),typeof M.meta=="object"&&this.addMetaSchema(M.meta),d.call(this),M.validateFormats=O}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:M,meta:B,schemaId:K}=this.opts;let O=c;K==="id"&&(O={...c},O.id=O.$id,delete O.$id),B&&M&&this.addMetaSchema(O,O[K],!1)}defaultMeta(){const{meta:M,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof M=="object"?M[B]||M:void 0}validate(M,B){let K;if(typeof M=="string"){if(K=this.getSchema(M),!K)throw new Error(`no schema with key or ref "${M}"`)}else K=this.compile(M);const O=K(B);return"$async"in K||(this.errors=K.errors),O}compile(M,B){const K=this._addSchema(M,B);return K.validate||this._compileSchemaEnv(K)}compileAsync(M,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return O.call(this,M,B);async function O(oe,be){await N.call(this,oe.$schema);const Oe=this._addSchema(oe,be);return Oe.validate||q.call(this,Oe)}async function N(oe){oe&&!this.getSchema(oe)&&await O.call(this,{$ref:oe},!0)}async function q(oe){try{return this._compileSchemaEnv(oe)}catch(be){if(!(be instanceof i.default))throw be;return ne.call(this,be),await J.call(this,be.missingSchema),q.call(this,oe)}}function ne({missingSchema:oe,missingRef:be}){if(this.refs[oe])throw new Error(`AnySchema ${oe} is loaded but ${be} cannot be resolved`)}async function J(oe){const be=await Y.call(this,oe);this.refs[oe]||await N.call(this,be.$schema),this.refs[oe]||this.addSchema(be,oe,B)}async function Y(oe){const be=this._loading[oe];if(be)return be;try{return await(this._loading[oe]=K(oe))}finally{delete this._loading[oe]}}}addSchema(M,B,K,O=this.opts.validateSchema){if(Array.isArray(M)){for(const q of M)this.addSchema(q,void 0,K,O);return this}let N;if(typeof M=="object"){const{schemaId:q}=this.opts;if(N=M[q],N!==void 0&&typeof N!="string")throw new Error(`schema ${q} must be string`)}return B=(0,l.normalizeId)(B||N),this._checkUnique(B),this.schemas[B]=this._addSchema(M,K,B,O,!0),this}addMetaSchema(M,B,K=this.opts.validateSchema){return this.addSchema(M,B,!0,K),this}validateSchema(M,B){if(typeof M=="boolean")return!0;let K;if(K=M.$schema,K!==void 0&&typeof K!="string")throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const O=this.validate(K,M);if(!O&&B){const N="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(N);else throw new Error(N)}return O}getSchema(M){let B;for(;typeof(B=T.call(this,M))=="string";)M=B;if(B===void 0){const{schemaId:K}=this.opts,O=new a.SchemaEnv({schema:{},schemaId:K});if(B=a.resolveSchema.call(this,O,M),!B)return;this.refs[M]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(M){if(M instanceof RegExp)return this._removeAllSchemas(this.schemas,M),this._removeAllSchemas(this.refs,M),this;switch(typeof M){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=T.call(this,M);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[M],delete this.refs[M],this}case"object":{const B=M;this._cache.delete(B);let K=M[this.opts.schemaId];return K&&(K=(0,l.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(M){for(const B of M)this.addKeyword(B);return this}addKeyword(M,B){let K;if(typeof M=="string")K=M,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=K);else if(typeof M=="object"&&B===void 0){if(B=M,K=B.keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(X.call(this,K,B),!B)return(0,f.eachItem)(K,N=>H.call(this,N)),this;fe.call(this,B);const O={...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)};return(0,f.eachItem)(K,O.type.length===0?N=>H.call(this,N,O):N=>O.type.forEach(q=>H.call(this,N,O,q))),this}getKeyword(M){const B=this.RULES.all[M];return typeof B=="object"?B.definition:!!B}removeKeyword(M){const{RULES:B}=this;delete B.keywords[M],delete B.all[M];for(const K of B.rules){const O=K.rules.findIndex(N=>N.keyword===M);O>=0&&K.rules.splice(O,1)}return this}addFormat(M,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[M]=B,this}errorsText(M=this.errors,{separator:B=", ",dataVar:K="data"}={}){return!M||M.length===0?"No errors":M.map(O=>`${K}${O.instancePath} ${O.message}`).reduce((O,N)=>O+B+N)}$dataMetaSchema(M,B){const K=this.RULES.all;M=JSON.parse(JSON.stringify(M));for(const O of B){const N=O.split("/").slice(1);let q=M;for(const ne of N)q=q[ne];for(const ne in K){const J=K[ne];if(typeof J!="object")continue;const{$data:Y}=J.definition,oe=q[ne];Y&&oe&&(q[ne]=ae(oe))}}return M}_removeAllSchemas(M,B){for(const K in M){const O=M[K];(!B||B.test(K))&&(typeof O=="string"?delete M[K]:O&&!O.meta&&(this._cache.delete(O.schema),delete M[K]))}}_addSchema(M,B,K,O=this.opts.validateSchema,N=this.opts.addUsedSchema){let q;const{schemaId:ne}=this.opts;if(typeof M=="object")q=M[ne];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof M!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(M);if(J!==void 0)return J;K=(0,l.normalizeId)(q||K);const Y=l.getSchemaRefs.call(this,M,K);return J=new a.SchemaEnv({schema:M,schemaId:ne,meta:B,baseId:K,localRefs:Y}),this._cache.set(J.schema,J),N&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=J),O&&this.validateSchema(M,!0),J}_checkUnique(M){if(this.schemas[M]||this.refs[M])throw new Error(`schema with key or id "${M}" already exists`)}_compileSchemaEnv(M){if(M.meta?this._compileMetaSchema(M):a.compileSchema.call(this,M),!M.validate)throw new Error("ajv implementation error");return M.validate}_compileMetaSchema(M){const B=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,M)}finally{this.opts=B}}};e.default=S,S.ValidationError=n.default,S.MissingRefError=i.default;function $(M,B,K,O="error"){for(const N in M){const q=N;q in B&&this.logger[O](`${K}: option ${N}. ${M[q]}`)}}function T(M){return M=(0,l.normalizeId)(M),this.schemas[M]||this.refs[M]}function d(){const M=this.opts.schemas;if(M)if(Array.isArray(M))this.addSchema(M);else for(const B in M)this.addSchema(M[B],B)}function A(){for(const M in this.opts.formats){const B=this.opts.formats[M];B&&this.addFormat(M,B)}}function x(M){if(Array.isArray(M)){this.addVocabulary(M);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in M){const K=M[B];K.keyword||(K.keyword=B),this.addKeyword(K)}}function P(){const M={...this.opts};for(const B of g)delete M[B];return M}var j={log(){},warn(){},error(){}};function F(M){if(M===!1)return j;if(M===void 0)return console;if(M.log&&M.warn&&M.error)return M;throw new Error("logger must implement log, warn and error methods")}var V=/^[a-z_$][a-z0-9_$:-]*$/i;function X(M,B){const{RULES:K}=this;if((0,f.eachItem)(M,O=>{if(K.keywords[O])throw new Error(`Keyword ${O} is already defined`);if(!V.test(O))throw new Error(`Keyword ${O} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function H(M,B,K){var O;const N=B==null?void 0:B.post;if(K&&N)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let ne=N?q.post:q.rules.find(({type:Y})=>Y===K);if(ne||(ne={type:K,rules:[]},q.rules.push(ne)),q.keywords[M]=!0,!B)return;const J={keyword:M,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?Z.call(this,ne,J,B.before):ne.rules.push(J),q.all[M]=J,(O=B.implements)===null||O===void 0||O.forEach(Y=>this.addKeyword(Y))}function Z(M,B,K){const O=M.rules.findIndex(N=>N.keyword===K);O>=0?M.rules.splice(O,0,B):(M.rules.push(B),this.logger.warn(`rule ${K} is not defined`))}function fe(M){let{metaSchema:B}=M;B!==void 0&&(M.$data&&this.opts.$data&&(B=ae(B)),M.validateSchema=this.compile(B,!0))}var ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ae(M){return{anyOf:[M,ee]}}}}),rre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/id.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),nre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=eI(),r=gs(),n=pr(),i=cc(),o=tI(),a=zr(),s={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:p,it:m}=f,{baseId:g,schemaEnv:_,validateName:v,opts:h,self:E}=m,{root:y}=_;if((p==="#"||p==="#/")&&g===y.baseId)return $();const S=o.resolveRef.call(E,y,g,p);if(S===void 0)throw new t.default(m.opts.uriResolver,g,p);if(S instanceof o.SchemaEnv)return T(S);return d(S);function $(){if(_===y)return u(f,v,_,_.$async);const A=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${A}.validate`,y,y.$async)}function T(A){const x=l(f,A);u(f,x,A,A.$async)}function d(A){const x=c.scopeValue("schema",h.code.source===!0?{ref:A,code:(0,n.stringify)(A)}:{ref:A}),P=c.name("valid"),j=f.subschema({schema:A,dataTypes:[],schemaPath:n.nil,topSchemaRef:x,errSchemaPath:p},P);f.mergeEvaluated(j),f.ok(P)}}};function l(f,c){const{gen:p}=f;return c.validate?p.scopeValue("validate",{ref:c.validate}):(0,n._)`${p.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,p,m){const{gen:g,it:_}=f,{allErrors:v,schemaEnv:h,opts:E}=_,y=E.passContext?i.default.this:n.nil;m?S():$();function S(){if(!h.$async)throw new Error("async schema referenced by sync schema");const A=g.let("valid");g.try(()=>{g.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||g.assign(A,!0)},x=>{g.if((0,n._)`!(${x} instanceof ${_.ValidationError})`,()=>g.throw(x)),T(x),v||g.assign(A,!1)}),f.ok(A)}function $(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>T(c))}function T(A){const x=(0,n._)`${A}.errors`;g.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${x} : ${i.default.vErrors}.concat(${x})`),g.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(A){var x;if(!_.opts.unevaluated)return;const P=(x=p==null?void 0:p.validate)===null||x===void 0?void 0:x.evaluated;if(_.props!==!0)if(P&&!P.dynamicProps)P.props!==void 0&&(_.props=a.mergeEvaluated.props(g,P.props,_.props));else{const j=g.var("props",(0,n._)`${A}.evaluated.props`);_.props=a.mergeEvaluated.props(g,j,_.props,n.Name)}if(_.items!==!0)if(P&&!P.dynamicItems)P.items!==void 0&&(_.items=a.mergeEvaluated.items(g,P.items,_.items));else{const j=g.var("items",(0,n._)`${A}.evaluated.items`);_.items=a.mergeEvaluated.items(g,j,_.items,n.Name)}}}e.callRef=u,e.default=s}}),ire=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=rre(),r=nre(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),ore=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:a,schemaCode:s})=>(0,t.str)`must be ${n[a].okStr} ${s}`,params:({keyword:a,schemaCode:s})=>(0,t._)`{comparison: ${n[a].okStr}, limit: ${s}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u}=a;a.fail$data((0,t._)`${l} ${n[s].fail} ${u} || isNaN(${l})`)}};e.default=o}}),are=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:a,schemaCode:s,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${s} === 0 || (${f} = ${a}/${s}, ${c}))`)}};e.default=n}}),sre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/ucs2length.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,a;for(;o<n;)i++,a=r.charCodeAt(o++),a>=55296&&a<=56319&&o<n&&(a=r.charCodeAt(o),(a&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),lre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=zr(),n=sre(),i={message({keyword:a,schemaCode:s}){const l=a==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${s} characters`},params:({schemaCode:a})=>(0,t._)`{limit: ${a}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u,it:f}=a,c=s==="maxLength"?t.operators.GT:t.operators.LT,p=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(a.gen,n.default)}(${l})`;a.fail$data((0,t._)`${p} ${c} ${u}`)}};e.default=o}}),ure=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=gs(),r=pr(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:a,$data:s,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",p=s?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${p}.test(${a})`)}};e.default=i}}),cre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={message({keyword:i,schemaCode:o}){const a=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${a}).length ${l} ${s}`)}};e.default=n}}),fre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=gs(),r=pr(),n=zr(),i={message:({params:{missingProperty:a}})=>(0,r.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,r._)`{missingProperty: ${a}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,schema:l,schemaCode:u,data:f,$data:c,it:p}=a,{opts:m}=p;if(!c&&l.length===0)return;const g=l.length>=m.loopRequired;if(p.allErrors?_():v(),m.strictRequired){const y=a.parentSchema.properties,{definedProperties:S}=a.it;for(const $ of l)if((y==null?void 0:y[$])===void 0&&!S.has($)){const T=p.schemaEnv.baseId+p.errSchemaPath,d=`required property "${$}" is not defined at "${T}" (strictRequired)`;(0,n.checkStrictMode)(p,d,p.opts.strictRequired)}}function _(){if(g||c)a.block$data(r.nil,h);else for(const y of l)(0,t.checkReportMissingProp)(a,y)}function v(){const y=s.let("missing");if(g||c){const S=s.let("valid",!0);a.block$data(S,()=>E(y,S)),a.ok(S)}else s.if((0,t.checkMissingProp)(a,l,y)),(0,t.reportMissingProp)(a,y),s.else()}function h(){s.forOf("prop",u,y=>{a.setParams({missingProperty:y}),s.if((0,t.noPropertyInData)(s,f,y,m.ownProperties),()=>a.error())})}function E(y,S){a.setParams({missingProperty:y}),s.forOf(y,u,()=>{s.assign(S,(0,t.propertyInData)(s,f,y,m.ownProperties)),s.if((0,r.not)(S),()=>{a.error(),s.break()})},r.nil)}}};e.default=o}}),dre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={message({keyword:i,schemaCode:o}){const a=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${a}.length ${l} ${s}`)}};e.default=n}}),rI=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/equal.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Mh();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),hre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Bb(),r=pr(),n=zr(),i=rI(),o={message:({params:{i:s,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${s} are identical)`,params:({params:{i:s,j:l}})=>(0,r._)`{i: ${s}, j: ${l}}`},a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(s){const{gen:l,data:u,$data:f,schema:c,parentSchema:p,schemaCode:m,it:g}=s;if(!f&&!c)return;const _=l.let("valid"),v=p.items?(0,t.getSchemaTypes)(p.items):[];s.block$data(_,h,(0,r._)`${m} === false`),s.ok(_);function h(){const $=l.let("i",(0,r._)`${u}.length`),T=l.let("j");s.setParams({i:$,j:T}),l.assign(_,!0),l.if((0,r._)`${$} > 1`,()=>(E()?y:S)($,T))}function E(){return v.length>0&&!v.some($=>$==="object"||$==="array")}function y($,T){const d=l.name("item"),A=(0,t.checkDataTypes)(v,d,g.opts.strictNumbers,t.DataType.Wrong),x=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${$}--;`,()=>{l.let(d,(0,r._)`${u}[${$}]`),l.if(A,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${x}[${d}] == "number"`,()=>{l.assign(T,(0,r._)`${x}[${d}]`),s.error(),l.assign(_,!1).break()}).code((0,r._)`${x}[${d}] = ${$}`)})}function S($,T){const d=(0,n.useFunc)(l,i.default),A=l.name("outer");l.label(A).for((0,r._)`;${$}--;`,()=>l.for((0,r._)`${T} = ${$}; ${T}--;`,()=>l.if((0,r._)`${d}(${u}[${$}], ${u}[${T}])`,()=>{s.error(),l.assign(_,!1).break(A)})))}}};e.default=a}}),pre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=zr(),n=rI(),i={message:"must be equal to constant",params:({schemaCode:a})=>(0,t._)`{allowedValue: ${a}}`},o={keyword:"const",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schemaCode:f,schema:c}=a;u||c&&typeof c=="object"?a.fail$data((0,t._)`!${(0,r.useFunc)(s,n.default)}(${l}, ${f})`):a.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),mre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=zr(),n=rI(),i={message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,t._)`{allowedValues: ${a}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schema:f,schemaCode:c,it:p}=a;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=p.opts.loopEnum;let g;const _=()=>g??(g=(0,r.useFunc)(s,n.default));let v;if(m||u)v=s.let("valid"),a.block$data(v,h);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=s.const("vSchema",c);v=(0,t.or)(...f.map((S,$)=>E(y,$)))}a.pass(v);function h(){s.assign(v,!1),s.forOf("v",c,y=>s.if((0,t._)`${_()}(${l}, ${y})`,()=>s.assign(v,!0).break()))}function E(y,S){const $=f[S];return typeof $=="object"&&$!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${$}`}}};e.default=o}}),gre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ore(),r=are(),n=lre(),i=ure(),o=cre(),a=fre(),s=dre(),l=hre(),u=pre(),f=mre(),c=[t.default,r.default,n.default,i.default,o.default,a.default,s.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),pq=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=pr(),r=zr(),n={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(a){const{parentSchema:s,it:l}=a,{items:u}=s;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(a,u)}};function o(a,s){const{gen:l,schema:u,data:f,keyword:c,it:p}=a;p.items=!0;const m=l.const("len",(0,t._)`${f}.length`);if(u===!1)a.setParams({len:s.length}),a.pass((0,t._)`${m} <= ${s.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(p,u)){const _=l.var("valid",(0,t._)`${m} <= ${s.length}`);l.if((0,t.not)(_),()=>g(_)),a.ok(_)}function g(_){l.forRange("i",s.length,m,v=>{a.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),p.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),mq=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=pr(),r=zr(),n=gs(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:s,it:l}=a;if(Array.isArray(s))return o(a,"additionalItems",s);l.items=!0,!(0,r.alwaysValidSchema)(l,s)&&a.ok((0,n.validateArray)(a))}};function o(a,s,l=a.schema){const{gen:u,parentSchema:f,data:c,keyword:p,it:m}=a;v(f),m.opts.unevaluated&&l.length&&m.items!==!0&&(m.items=r.mergeEvaluated.items(u,l.length,m.items));const g=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((h,E)=>{(0,r.alwaysValidSchema)(m,h)||(u.if((0,t._)`${_} > ${E}`,()=>a.subschema({keyword:p,schemaProp:E,dataProp:E},g)),a.ok(g))});function v(h){const{opts:E,errSchemaPath:y}=m,S=l.length,$=S===h.minItems&&(S===h.maxItems||h[s]===!1);if(E.strictTuples&&!$){const T=`"${p}" is ${S}-tuple, but minItems or maxItems/${s} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(m,T,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),vre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mq(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),yre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=zr(),n=gs(),i=pq(),o={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(s){const{schema:l,parentSchema:u,it:f}=s,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(s,c):s.ok((0,n.validateArray)(s)))}};e.default=a}}),wre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=zr(),n={message:({params:{min:o,max:a}})=>a===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${a} valid item(s)`,params:({params:{min:o,max:a}})=>a===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${a}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,data:u,it:f}=o;let c,p;const{minContains:m,maxContains:g}=l;f.opts.next?(c=m===void 0?1:m,p=g):c=1;const _=a.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:p}),p===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&c>p){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,s)){let S=(0,t._)`${_} >= ${c}`;p!==void 0&&(S=(0,t._)`${S} && ${_} <= ${p}`),o.pass(S);return}f.items=!0;const v=a.name("valid");p===void 0&&c===1?E(v,()=>a.if(v,()=>a.break())):c===0?(a.let(v,!0),p!==void 0&&a.if((0,t._)`${u}.length > 0`,h)):(a.let(v,!1),h()),o.result(v,()=>o.reset());function h(){const S=a.name("_valid"),$=a.let("count",0);E(S,()=>a.if(S,()=>y($)))}function E(S,$){a.forRange("i",0,_,T=>{o.subschema({keyword:"contains",dataProp:T,dataPropType:r.Type.Num,compositeRule:!0},S),$()})}function y(S){a.code((0,t._)`${S}++`),p===void 0?a.if((0,t._)`${S} >= ${c}`,()=>a.assign(v,!0).break()):(a.if((0,t._)`${S} > ${p}`,()=>a.assign(v,!1).break()),c===1?a.assign(v,!0):a.if((0,t._)`${S} >= ${c}`,()=>a.assign(v,!0)))}}};e.default=i}}),bre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=pr(),r=zr(),n=gs();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);a(l,u),s(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const p=Array.isArray(l[c])?u:f;p[c]=l[c]}return[u,f]}function a(l,u=l.schema){const{gen:f,data:c,it:p}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,p.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),p.allErrors?f.if(v,()=>{for(const h of _)(0,n.checkReportMissingProp)(l,h)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=a;function s(l,u=l.schema){const{gen:f,data:c,keyword:p,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:p,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=s,e.default=i}}),_re=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=zr(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:a,schema:s,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,s))return;const f=a.name("valid");a.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),a.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||a.break()})}),o.ok(f)}};e.default=i}}),gq=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=gs(),r=pr(),n=cc(),i=zr(),o={message:"must NOT have additional properties",params:({params:s})=>(0,r._)`{additionalProperty: ${s.additionalProperty}}`},a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(s){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:p,it:m}=s;if(!p)throw new Error("ajv implementation error");const{allErrors:g,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(m,u))return;const v=(0,t.allSchemaProperties)(f.properties),h=(0,t.allSchemaProperties)(f.patternProperties);E(),s.ok((0,r._)`${p} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!h.length?$(d):l.if(y(d),()=>$(d))})}function y(d){let A;if(v.length>8){const x=(0,i.schemaRefOrVal)(m,f.properties,"properties");A=(0,t.isOwnProperty)(l,x,d)}else v.length?A=(0,r.or)(...v.map(x=>(0,r._)`${d} === ${x}`)):A=r.nil;return h.length&&(A=(0,r.or)(A,...h.map(x=>(0,r._)`${(0,t.usePattern)(s,x)}.test(${d})`))),(0,r.not)(A)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function $(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){s.setParams({additionalProperty:d}),s.error(),g||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(m,u)){const A=l.name("valid");_.removeAdditional==="failing"?(T(d,A,!1),l.if((0,r.not)(A),()=>{s.reset(),S(d)})):(T(d,A),g||l.if((0,r.not)(A),()=>l.break()))}}function T(d,A,x){const P={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};x===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(P,A)}}};e.default=a}}),Ere=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=uE(),r=gs(),n=zr(),i=gq(),o={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,parentSchema:u,data:f,it:c}=a;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const p=(0,r.allSchemaProperties)(l);for(const h of p)c.definedProperties.add(h);c.opts.unevaluated&&p.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(s,(0,n.toHash)(p),c.props));const m=p.filter(h=>!(0,n.alwaysValidSchema)(c,l[h]));if(m.length===0)return;const g=s.name("valid");for(const h of m)_(h)?v(h):(s.if((0,r.propertyInData)(s,f,h,c.opts.ownProperties)),v(h),c.allErrors||s.else().var(g,!0),s.endIf()),a.it.definedProperties.add(h),a.ok(g);function _(h){return c.opts.useDefaults&&!c.compositeRule&&l[h].default!==void 0}function v(h){a.subschema({keyword:"properties",schemaProp:h,dataProp:h},g)}}};e.default=o}}),Sre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=gs(),r=pr(),n=zr(),i=zr(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,data:u,parentSchema:f,it:c}=a,{opts:p}=c,m=(0,t.allSchemaProperties)(l),g=m.filter($=>(0,n.alwaysValidSchema)(c,l[$]));if(m.length===0||g.length===m.length&&(!c.opts.unevaluated||c.props===!0))return;const _=p.strictSchema&&!p.allowMatchingProperties&&f.properties,v=s.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(s,c.props));const{props:h}=c;E();function E(){for(const $ of m)_&&y($),c.allErrors?S($):(s.var(v,!0),S($),s.if(v))}function y($){for(const T in _)new RegExp($).test(T)&&(0,n.checkStrictMode)(c,`property ${T} matches pattern ${$} (use allowMatchingProperties)`)}function S($){s.forIn("key",u,T=>{s.if((0,r._)`${(0,t.usePattern)(a,$)}.test(${T})`,()=>{const d=g.includes($);d||a.subschema({keyword:"patternProperties",schemaProp:$,dataProp:T,dataPropType:i.Type.Str},v),c.opts.unevaluated&&h!==!0?s.assign((0,r._)`${h}[${T}]`,!0):!d&&!c.allErrors&&s.if((0,r.not)(v),()=>s.break())})})}}};e.default=o}}),$re=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=zr(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:a}=n;if((0,t.alwaysValidSchema)(a,o)){n.fail();return}const s=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),Tre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=gs(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),Are=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=zr(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,it:u}=o;if(!Array.isArray(s))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=s,c=a.let("valid",!1),p=a.let("passing",null),m=a.name("_valid");o.setParams({passing:p}),a.block(g),o.result(c,()=>o.reset(),()=>o.error(!0));function g(){f.forEach((_,v)=>{let h;(0,r.alwaysValidSchema)(u,_)?a.var(m,!0):h=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},m),v>0&&a.if((0,t._)`${m} && ${c}`).assign(c,!1).assign(p,(0,t._)`[${p}, ${v}]`).else(),a.if(m,()=>{a.assign(c,!0),a.assign(p,v),h&&o.mergeEvaluated(h,t.Name)})})}}};e.default=i}}),xre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=zr(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:a}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const s=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(a,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},s);n.ok(s),n.mergeEvaluated(f)})}};e.default=r}}),Pre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=zr(),n={message:({params:a})=>(0,t.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,t._)`{failingKeyword: ${a.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(a){const{gen:s,parentSchema:l,it:u}=a;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const p=s.let("valid",!0),m=s.name("_valid");if(g(),a.reset(),f&&c){const v=s.let("ifClause");a.setParams({ifClause:v}),s.if(m,_("then",v),_("else",v))}else f?s.if(m,_("then")):s.if((0,t.not)(m),_("else"));a.pass(p,()=>a.error(!0));function g(){const v=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);a.mergeEvaluated(v)}function _(v,h){return()=>{const E=a.subschema({keyword:v},m);s.assign(p,m),a.mergeValidEvaluated(E,p),h?s.assign(h,(0,t._)`${v}`):a.setParams({ifClause:v})}}}};function o(a,s){const l=a.schema[s];return l!==void 0&&!(0,r.alwaysValidSchema)(a,l)}e.default=i}}),Ore=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=zr(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),Rre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pq(),r=vre(),n=mq(),i=yre(),o=wre(),a=bre(),s=_re(),l=gq(),u=Ere(),f=Sre(),c=$re(),p=Tre(),m=Are(),g=xre(),_=Pre(),v=Ore();function h(E=!1){const y=[c.default,p.default,m.default,g.default,_.default,v.default,s.default,l.default,a.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=h}}),Ire=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/format/format.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:a,data:s,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:p,errSchemaPath:m,schemaEnv:g,self:_}=c;if(!p.validateFormats)return;l?v():h();function v(){const E=a.scopeValue("formats",{ref:_.formats,code:p.code.formats}),y=a.const("fDef",(0,t._)`${E}[${f}]`),S=a.let("fType"),$=a.let("format");a.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>a.assign(S,(0,t._)`${y}.type || "string"`).assign($,(0,t._)`${y}.validate`),()=>a.assign(S,(0,t._)`"string"`).assign($,y)),i.fail$data((0,t.or)(T(),d()));function T(){return p.strictSchema===!1?t.nil:(0,t._)`${f} && !${$}`}function d(){const A=g.$async?(0,t._)`(${y}.async ? await ${$}(${s}) : ${$}(${s}))`:(0,t._)`${$}(${s})`,x=(0,t._)`(typeof ${$} == "function" ? ${A} : ${$}.test(${s}))`;return(0,t._)`${$} && ${$} !== true && ${S} === ${o} && !${x}`}}function h(){const E=_.formats[u];if(!E){T();return}if(E===!0)return;const[y,S,$]=d(E);y===o&&i.pass(A());function T(){if(p.strictSchema===!1){_.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function d(x){const P=x instanceof RegExp?(0,t.regexpCode)(x):p.code.formats?(0,t._)`${p.code.formats}${(0,t.getProperty)(u)}`:void 0,j=a.scopeValue("formats",{key:u,ref:x,code:P});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,t._)`${j}.validate`]:["string",x,j]}function A(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!g.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${s})`}return typeof S=="function"?(0,t._)`${$}(${s})`:(0,t._)`${$}.test(${s})`}}}};e.default=n}}),Nre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/format/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ire(),r=[t.default];e.default=r}}),kre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/metadata.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),Cre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/draft7.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ire(),r=gre(),n=Rre(),i=Nre(),o=kre(),a=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=a}}),jre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))}}),Dre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=jre(),n=tI(),i=zr(),o={message:({params:{discrError:s,tagName:l}})=>s===r.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:s,tag:l,tagName:u}})=>(0,t._)`{error: ${s}, tag: ${u}, tagValue: ${l}}`},a={keyword:"discriminator",type:"object",schemaType:"object",error:o,code(s){const{gen:l,data:u,schema:f,parentSchema:c,it:p}=s,{oneOf:m}=c;if(!p.opts.discriminator)throw new Error("discriminator: requires discriminator option");const g=f.propertyName;if(typeof g!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const _=l.let("valid",!1),v=l.const("tag",(0,t._)`${u}${(0,t.getProperty)(g)}`);l.if((0,t._)`typeof ${v} == "string"`,()=>h(),()=>s.error(!1,{discrError:r.DiscrError.Tag,tag:v,tagName:g})),s.ok(_);function h(){const S=y();l.if(!1);for(const $ in S)l.elseIf((0,t._)`${v} === ${$}`),l.assign(_,E(S[$]));l.else(),s.error(!1,{discrError:r.DiscrError.Mapping,tag:v,tagName:g}),l.endIf()}function E(S){const $=l.name("valid"),T=s.subschema({keyword:"oneOf",schemaProp:S},$);return s.mergeEvaluated(T,t.Name),$}function y(){var S;const $={},T=A(c);let d=!0;for(let j=0;j<m.length;j++){let F=m[j];F!=null&&F.$ref&&!(0,i.schemaHasRulesButRef)(F,p.self.RULES)&&(F=n.resolveRef.call(p.self,p.schemaEnv.root,p.baseId,F==null?void 0:F.$ref),F instanceof n.SchemaEnv&&(F=F.schema));const V=(S=F==null?void 0:F.properties)===null||S===void 0?void 0:S[g];if(typeof V!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${g}"`);d=d&&(T||A(F)),x(V,j)}if(!d)throw new Error(`discriminator: "${g}" must be required`);return $;function A({required:j}){return Array.isArray(j)&&j.includes(g)}function x(j,F){if(j.const)P(j.const,F);else if(j.enum)for(const V of j.enum)P(V,F);else throw new Error(`discriminator: "properties/${g}" must have "const" or "enum"`)}function P(j,F){if(typeof j!="string"||j in $)throw new Error(`discriminator: "${g}" values must be unique strings`);$[j]=F}}}};e.default=a}}),Mre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),Lre=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/ajv.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=tre(),n=Cre(),i=Dre(),o=Mre(),a=["/properties"],s="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(m,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}};t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=uE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=pr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=ZR();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var p=eI();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return p.default}})}}),Fre=Pe({"../../node_modules/ajv-formats/dist/limit.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;var t=Lre(),r=pr(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:s,schemaCode:l})=>r.str`should be ${i[s].okStr} ${l}`,params:({keyword:s,schemaCode:l})=>r._`{comparison: ${i[s].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(s){const{gen:l,data:u,schemaCode:f,keyword:c,it:p}=s,{opts:m,self:g}=p;if(!m.validateFormats)return;const _=new t.KeywordCxt(p,g.RULES.all.format.definition,"format");_.$data?v():h();function v(){const y=l.scopeValue("formats",{ref:g.formats,code:m.code.formats}),S=l.const("fmt",r._`${y}[${_.schemaCode}]`);s.fail$data(r.or(r._`typeof ${S} != "object"`,r._`${S} instanceof RegExp`,r._`typeof ${S}.compare != "function"`,E(S)))}function h(){const y=_.schema,S=g.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const $=l.scopeValue("formats",{key:y,ref:S,code:m.code.formats?r._`${m.code.formats}${r.getProperty(y)}`:void 0});s.fail$data(E($))}function E(y){return r._`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};var a=s=>(s.addKeyword(e.formatLimitDefinition),s);e.default=a}}),vq=Pe({"../../node_modules/ajv-formats/dist/index.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0});var r=Gte(),n=Fre(),i=pr(),o=new i.Name("fullFormats"),a=new i.Name("fastFormats"),s=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,p]=f.mode==="fast"?[r.fastFormats,a]:[r.fullFormats,o],m=f.formats||r.formatNames;return l(u,m,c,p),f.keywords&&n.default(u),u};s.get=(u,f="full")=>{const p=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!p)throw new Error(`Unknown format "${u}"`);return p};function l(u,f,c,p){var m,g;(m=(g=u.opts.code).formats)!==null&&m!==void 0||(g.formats=i._`require("ajv-formats/dist/formats").${p}`);for(const _ of f)u.addFormat(_,c[_])}t.exports=e=s,Object.defineProperty(e,"__esModule",{value:!0}),e.default=s}}),Bre=Pe({"../../node_modules/wot-thing-description-types/schema/td-json-schema-validation.json"(e,t){t.exports={title:"Thing Description",version:"1.1-09-November-2023",description:"JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values",$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json",definitions:{anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"}},security:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the old context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string",not:{const:"tm:ThingModel"}},{type:"array",items:{type:"string",not:{const:"tm:ThingModel"}}}]},"dataSchema-type":{type:"string",enum:["boolean","integer","number","string","object","array","null"]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{type:["integer","number"],exclusiveMinimum:0},expectedResponse:{type:"object",properties:{contentType:{type:"string"}},required:["contentType"]},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},required:["href"],additionalProperties:!0},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{type:"array",items:{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},minItems:1}]}},additionalProperties:!0},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["invokeaction","queryaction","cancelaction"]},{type:"array",items:{type:"string",enum:["invokeaction","queryaction","cancelaction"]},minItems:1}]}},additionalProperties:!0},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["subscribeevent","unsubscribeevent"]},{type:"array",items:{type:"string",enum:["subscribeevent","unsubscribeevent"]},minItems:1}]}},additionalProperties:!0},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{type:"array",items:{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},minItems:1}]}},additionalProperties:!0,required:["op"]},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},observable:{type:"boolean"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}},required:["forms"],additionalProperties:!0},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{type:"boolean"},idempotent:{type:"boolean"},synchronous:{type:"boolean"}},required:["forms"],additionalProperties:!0},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"}},required:["forms"],additionalProperties:!0},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]}},required:["href"],additionalProperties:!0},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon or tm:extends",properties:{rel:{enum:["icon","tm:extends"]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},required:["scheme"],additionalProperties:!0},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["nosec"]}},required:["scheme"],additionalProperties:!0},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["auto"]}},not:{required:["name"]},required:["scheme"],additionalProperties:!0},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},oneOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","oneOf"],additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},allOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","allOf"],additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["basic"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["digest"]},qop:{type:"string",enum:["auth","auth-int"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["apikey"]},in:{type:"string",enum:["header","query","body","cookie","uri","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["bearer"]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["psk"]},identity:{type:"string"}},required:["scheme"],additionalProperties:!0},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["oauth2"]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",enum:["code","client"]}]}},required:["scheme"],additionalProperties:!0},securityScheme:{oneOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]}},type:"object",properties:{id:{type:"string",format:"uri"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{type:"object",properties:{instance:{type:"string"}},required:["instance"]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"}},support:{$ref:"#/definitions/anyUri"},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},"@type":{$ref:"#/definitions/type_declaration"},"@context":{$ref:"#/definitions/thing-context"}},required:["title","security","securityDefinitions","@context"],additionalProperties:!0}}}),Tg=Pe({"../core/dist/helpers.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(y,S,$,T){T===void 0&&(T=$);var d=Object.getOwnPropertyDescriptor(S,$);(!d||("get"in d?!S.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return S[$]}}),Object.defineProperty(y,T,d)}:function(y,S,$,T){T===void 0&&(T=$),y[T]=S[$]}),r=e&&e.__setModuleDefault||(Object.create?function(y,S){Object.defineProperty(y,"default",{enumerable:!0,value:S})}:function(y,S){y.default=S}),n=e&&e.__importStar||function(){var y=function(S){return y=Object.getOwnPropertyNames||function($){var T=[];for(var d in $)Object.prototype.hasOwnProperty.call($,d)&&(T[T.length]=d);return T},y(S)};return function(S){if(S&&S.__esModule)return S;var $={};if(S!=null)for(var T=y(S),d=0;d<T.length;d++)T[d]!=="default"&&t($,S,T[d]);return r($,S),$}}(),i=e&&e.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var o=n((GQ(),Pr(RB))),a=yee(),s=vg(),l=rl(),u=i(fq()),f=i(vq()),c=i(Bre()),p=No(),{debug:m,error:g,warn:_}=(0,p.createLoggers)("core","helpers"),v=c.default,h=new u.default({strict:!1});(0,f.default)(h);var E=class hl{constructor(S){this.srv=S}static extractScheme(S){const $=new URL(S);if(m($),$.protocol===null)throw new Error(`Protocol in url "${S}" must be valid`);const T=$.protocol.slice(0,-1);return m(`Helpers found scheme '${T}'`),T}static setStaticAddress(S){hl.staticAddress=S}static getAddresses(){const S=[];if(hl.staticAddress!==void 0)return S.push(hl.staticAddress),m(`AddressHelper uses static ${S}`),S;{const $=o.networkInterfaces();for(const T of Object.values($))T==null||T.forEach(d=>{m(`AddressHelper found ${d.address}`),d.internal===!1&&(d.family==="IPv4"?S.push(d.address):d.scopeid===0&&S.push(hl.toUriLiteral(d.address)))});return S.length===0&&S.push("localhost"),m(`AddressHelper identified ${S}`),S}}static toUriLiteral(S){return S==null?(g(`AddressHelper received invalid address '${S}'`),"{invalid address - undefined}"):(S.indexOf(":")!==-1&&(S=`[${S}]`),S)}static generateUniqueName(S){const $=S.match(/.+_([0-9]+)$/);return $!==null?S.slice(0,-$[1].length)+(1+parseInt($[1])):S+"_2"}static toStringArray(S){return S!=null?typeof S=="string"?[S]:S:[]}static structuredClone(S){return JSON.parse(JSON.stringify(S))}fetch(S){return new Promise(($,T)=>{const d=this.srv.getClientFor(hl.extractScheme(S));m(`WoTImpl fetching TD from '${S}' with ${d}`),d.readResource(new s.Form(S,l.ContentSerdes.TD)).then(async A=>{A.type!==l.ContentSerdes.TD&&A.type!==l.ContentSerdes.JSON_LD&&_(`WoTImpl received TD with media type '${A.type}' from ${S}`);const x=(await A.toBuffer()).toString("utf-8");try{const P=JSON.parse(x);$(P)}catch(P){T(new Error(`WoTImpl fetched invalid JSON from '${S}': ${P instanceof Error?P.message:P}`))}}).then(async A=>(await d.stop(),A)).catch(A=>{T(A)})})}static extend(S,$){const T={};for(const[d,A]of Object.entries(S))T[d]=A;for(const[d,A]of Object.entries($))Object.prototype.hasOwnProperty.call(T,d)||(T[d]=A);return T}static async parseInteractionOutput(S){try{return await S.value()}catch{throw g("parseInteractionOutput low-level stream not implemented"),new Error("parseInteractionOutput low-level stream not implemented")}}static createExposeThingInitSchema(S){const $=hl.structuredClone(S);if($.required!==void 0){const T=["title","@context","instance","forms","security","href","securityDefinitions"];if(Array.isArray($.required)){const d=$.required;$.required=d.filter(A=>!T.includes(A))}else typeof $.required=="string"&&T.indexOf($.required)!==-1&&delete $.required}if($.definitions!=null)for(const[T,d]of Object.entries($.definitions)??[])$.definitions[T]=this.createExposeThingInitSchema(d);return $}static validateExposedThingInit(S){var d;if(S["@type"]==="tm:ThingModel"||a.ThingModelHelpers.isThingModel(S)===!0)return{valid:!1,errors:"ThingModel declaration is not supported"};const $=hl.tsSchemaValidator(S);let T;return $||(T=(d=hl.tsSchemaValidator.errors)==null?void 0:d.map(A=>A.message).join(`
`)),{valid:$,errors:T}}static parseInteractionOptions(S,$,T){if(!this.validateInteractionOptions(S,$,T))throw new Error(`CoreHelpers one or more uriVariables were not found under neither '${$.title}' Thing Interaction nor '${S.title}' Thing`);const d=$.uriVariables??{},A=S.uriVariables??{},x={};T!=null&&T.uriVariables?Object.entries(T.uriVariables).forEach(j=>{(j[0]in d||j[0]in A)&&(x[j[0]]=j[1])}):T={uriVariables:{}};for(const[P,j]of Object.entries(A))!(P in x)&&"default"in j&&(x[P]=j.default);return T.uriVariables=x,T}static validateInteractionOptions(S,$,T){const d=$.uriVariables??{},A=S.uriVariables??{};if(T!=null&&T.uriVariables){const x=Object.entries(T.uriVariables);for(let P=0;P<x.length;P++){const j=x[P];if(!(j[0]in d)&&!(j[0]in A))return!1}}return!0}static parseUrlParameters(S,$={},T={}){const d={};if(S==null||T==null&&$==null)return d;const A=S.split("?")[1];return A==null||(A.indexOf("&")!==-1?A.split("&"):[A]).forEach(P=>{const j=P.split("="),F=decodeURIComponent(j[0]),V=decodeURIComponent(j.length>1?j[1]:"");T!=null&&T[F]!=null?T[F].type==="integer"||T[F].type==="number"?d[F]=+V:d[F]=V:$!=null&&$[F]!=null&&($[F].type==="integer"||$[F].type==="number"?d[F]=+V:d[F]=V)}),d}static updateInteractionNameWithUriVariablePattern(S,$={},T={}){const d=encodeURIComponent(S),A=[...Object.keys($),...Object.keys(T)];if(A.length===0)return d;const x=A.map(encodeURIComponent).join(",");return d+"{?"+x+"}"}};E.tsSchemaValidator=h.compile(E.createExposeThingInitSchema(v)),E.staticAddress=void 0,e.default=E}}),Ure=Pe({"../core/dist/errors.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.DataSchemaError=e.NotSupportedError=e.NotReadableError=void 0;var t=class yq extends Error{constructor(o){super(o),Object.setPrototypeOf(this,yq.prototype)}};e.NotReadableError=t;var r=class wq extends Error{constructor(o){super(o),Object.setPrototypeOf(this,wq.prototype)}};e.NotSupportedError=r;var n=class extends Error{constructor(i,o){super(i),this.value=o,Object.setPrototypeOf(this,r.prototype)}};e.DataSchemaError=n}}),bq=Pe({"../core/dist/interaction-output.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(T,d,A,x){x===void 0&&(x=A);var P=Object.getOwnPropertyDescriptor(d,A);(!P||("get"in P?!d.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return d[A]}}),Object.defineProperty(T,x,P)}:function(T,d,A,x){x===void 0&&(x=A),T[x]=d[A]}),r=e&&e.__setModuleDefault||(Object.create?function(T,d){Object.defineProperty(T,"default",{enumerable:!0,value:d})}:function(T,d){T.default=d}),n=e&&e.__importStar||function(){var T=function(d){return T=Object.getOwnPropertyNames||function(A){var x=[];for(var P in A)Object.prototype.hasOwnProperty.call(A,P)&&(x[x.length]=P);return x},T(d)};return function(d){if(d&&d.__esModule)return d;var A={};if(d!=null)for(var x=T(d),P=0;P<x.length;P++)x[P]!=="default"&&t(A,d,x[P]);return r(A,d),A}}(),i=e&&e.__classPrivateFieldGet||function(T,d,A,x){if(A==="a"&&!x)throw new TypeError("Private accessor was defined without a getter");if(typeof d=="function"?T!==d||!x:!d.has(T))throw new TypeError("Cannot read private member from an object whose class did not declare it");return A==="m"?x:A==="a"?x.call(T):x?x.value:d.get(T)},o=e&&e.__classPrivateFieldSet||function(T,d,A,x,P){if(x==="m")throw new TypeError("Private method is not writable");if(x==="a"&&!P)throw new TypeError("Private accessor was defined without a setter");if(typeof d=="function"?T!==d||!P:!d.has(T))throw new TypeError("Cannot write private member to an object whose class did not declare it");return x==="a"?P.call(T,A):P?P.value=A:d.set(T,A),A},a=e&&e.__importDefault||function(T){return T&&T.__esModule?T:{default:T}},s,l,u,f;Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionOutput=void 0;var c=n((X_(),Pr(Y_))),p=rl(),m=Co(),g=Ure(),_=a(fq()),v=a(vq()),h=No(),{debug:E,warn:y}=(0,h.createLoggers)("core","interaction-output"),S=new _.default({strict:!1,addUsedSchema:!1});(0,v.default)(S);var $=class{get data(){if(i(this,f,"f"))return i(this,f,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");return this.dataUsed=!0,o(this,f,m.ProtocolHelpers.toWoTStream(i(this,s,"f").body),"f")}constructor(T,d,A,x={ignoreValidation:!1}){s.set(this,void 0),l.set(this,void 0),u.set(this,void 0),f.set(this,void 0),o(this,s,T,"f"),this.form=d,this.schema=A,this.ignoreValidation=x.ignoreValidation??!1,this.dataUsed=!1}async arrayBuffer(){if(i(this,u,"f"))return i(this,u,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");const T=await i(this,s,"f").toBuffer();return this.dataUsed=!0,o(this,u,T,"f"),T}async value(){if(this.schema==null){y("No schema defined. Hence undefined is reported for value() function. If you are invoking an action with no output that is on purpose, otherwise consider using arrayBuffer().");return}if(i(this,l,"f")!==void 0)return i(this,l,"f");if(this.dataUsed)throw new g.NotReadableError("Can't read the stream once it has been already used");if(this.form==null)throw new g.NotReadableError("No form defined");if(this.schema.const==null&&this.schema.enum==null&&this.schema.oneOf==null&&this.schema.type==null)throw new g.NotReadableError("No schema type defined");if(!p.ContentSerdes.get().isSupported(i(this,s,"f").type)){const x=`Content type ${i(this,s,"f").type} not supported`;throw new g.NotSupportedError(x)}const T=await i(this,s,"f").toBuffer();this.dataUsed=!0,o(this,u,T,"f");const d=p.ContentSerdes.get().contentToValue({type:i(this,s,"f").type,body:T},this.schema),A=S.compile(this.schema);if(!this.ignoreValidation&&!A(d))throw E(`schema = ${c.inspect(this.schema,{depth:10,colors:!0})}`),E(`value: ${d}`),E(`Error: ${A.errors}`),new g.DataSchemaError("Invalid value according to DataSchema",d);return o(this,l,d,"f"),d}};e.InteractionOutput=$,s=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap}}),zre=Pe({"../core/dist/protocol-listener-registry.js"(e){Te();var t=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(rl()),n=class _q{constructor(){this.listeners=new Map}register(o,a,s){if(o.forms[a]==null)throw new Error("Can't register the listener for affordance with formIndex. The affordance does not contain the form");let l=this.listeners.get(o);l||(l=new Map,this.listeners.set(o,l));let u=l.get(a);u||(u=[],l.set(a,u)),u.push(s)}unregister(o,a,s){const l=this.listeners.get(o);if(!l)throw new Error("Not found");const u=l.get(a);if(!u)throw new Error("Form not found");const f=u.indexOf(s);if(f<0)throw new Error("Form not found");u.splice(f,1)}unregisterAll(){this.listeners.clear()}notify(o,a,s,l){const u=this.listeners.get(o)??_q.EMPTY_MAP;if(l!==void 0){const f=u.get(l);if(f){const c=o.forms[l].contentType,p=r.default.valueToContent(a,s,c);f.forEach(m=>m(p));return}}for(const[f,c]of u){const p=o.forms[f].contentType,m=r.default.valueToContent(a,s,p);c.forEach(g=>g(m))}}};n.EMPTY_MAP=new Map,e.default=n}}),Eq=Pe({"../core/dist/exposed-thing.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(P,j,F,V){V===void 0&&(V=F);var X=Object.getOwnPropertyDescriptor(j,F);(!X||("get"in X?!j.__esModule:X.writable||X.configurable))&&(X={enumerable:!0,get:function(){return j[F]}}),Object.defineProperty(P,V,X)}:function(P,j,F,V){V===void 0&&(V=F),P[V]=j[F]}),r=e&&e.__setModuleDefault||(Object.create?function(P,j){Object.defineProperty(P,"default",{enumerable:!0,value:j})}:function(P,j){P.default=j}),n=e&&e.__importStar||function(){var P=function(j){return P=Object.getOwnPropertyNames||function(F){var V=[];for(var X in F)Object.prototype.hasOwnProperty.call(F,X)&&(V[V.length]=X);return V},P(j)};return function(j){if(j&&j.__esModule)return j;var F={};if(j!=null)for(var V=P(j),X=0;X<V.length;X++)V[X]!=="default"&&t(F,j,V[X]);return r(F,j),F}}(),i=e&&e.__classPrivateFieldSet||function(P,j,F,V,X){if(V==="m")throw new TypeError("Private method is not writable");if(V==="a"&&!X)throw new TypeError("Private accessor was defined without a setter");if(typeof j=="function"?P!==j||!X:!j.has(P))throw new TypeError("Cannot write private member to an object whose class did not declare it");return V==="a"?X.call(P,F):X?X.value=F:j.set(P,F),F},o=e&&e.__classPrivateFieldGet||function(P,j,F,V){if(F==="a"&&!V)throw new TypeError("Private accessor was defined without a getter");if(typeof j=="function"?P!==j||!V:!j.has(P))throw new TypeError("Cannot read private member from an object whose class did not declare it");return F==="m"?V:F==="a"?V.call(P):V?V.value:j.get(P)},a=e&&e.__importDefault||function(P){return P&&P.__esModule?P:{default:P}},s,l,u,f,c,p;Object.defineProperty(e,"__esModule",{value:!0});var m=n(vg()),g=SR(),_=a(Tg()),v=bq(),h=(ja(),Pr(ea)),E=a(GR()),y=WR(),S=Co(),$=a(rl()),T=a(zre()),d=No(),{debug:A}=(0,d.createLoggers)("core","exposed-thing"),x=class extends m.Thing{constructor(P,j={}){super(),s.set(this,new Map),l.set(this,new Map),u.set(this,new Map),f.set(this,new T.default),c.set(this,new T.default),p.set(this,void 0),i(this,p,P,"f"),this.id=j.id??"",this.title=j.title??"",this.security="",this.securityDefinitions={},this.properties={},this.actions={},this.events={};const F=_.default.structuredClone(j);Object.assign(this,F),(0,g.setContextLanguage)(this,m.DEFAULT_CONTEXT_LANGUAGE,!1)}getThingDescription(){return JSON.parse((0,g.serializeTD)(this))}emitEvent(P,j){if(this.events[P]!=null){const F=this.events[P];o(this,c,"f").notify(F,j,F.data)}else throw new Error("NotFoundError for event '"+P+"'")}async emitPropertyChange(P){var j;if(this.properties[P]!=null){const F=this.properties[P],V=(j=o(this,s,"f").get(P))==null?void 0:j.readHandler;if(!V)throw new Error("Can't read property readHandler is not defined. Did you forget to register a readHandler?");const X=await V();o(this,f,"f").notify(F,X,F)}else throw new Error("NotFoundError for property '"+P+"'")}expose(){return A(`ExposedThing '${this.title}' exposing all Interactions and TD`),new Promise((P,j)=>{o(this,p,"f").expose(this).then(()=>{P()}).catch(F=>j(F))})}async destroy(){A(`ExposedThing '${this.title}' destroying the thing and its interactions`),await o(this,p,"f").destroyThing(this.id),o(this,c,"f").unregisterAll(),o(this,f,"f").unregisterAll(),o(this,u,"f").clear(),o(this,s,"f").clear(),o(this,u,"f").clear()}setPropertyReadHandler(P,j){if(A(`ExposedThing '${this.title}' setting read handler for '${P}'`),this.properties[P]!=null){if(this.properties[P].writeOnly===!0)throw new Error(`ExposedThing '${this.title}' cannot set read handler for property '${P}' due to writeOnly flag`);{let F=o(this,s,"f").get(P);F?F.readHandler=j:F={readHandler:j},o(this,s,"f").set(P,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${P}'`);return this}setPropertyWriteHandler(P,j){if(A(`ExposedThing '${this.title}' setting write handler for '${P}'`),this.properties[P]!=null){if(this.properties[P].readOnly===!0)throw new Error(`ExposedThing '${this.title}' cannot set write handler for property '${P}' due to readOnly flag`);{let F=o(this,s,"f").get(P);F?F.writeHandler=j:F={writeHandler:j},o(this,s,"f").set(P,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${P}'`);return this}setPropertyObserveHandler(P,j){if(A(`ExposedThing '${this.title}' setting property observe handler for '${P}'`),this.properties[P]!=null){if(this.properties[P].observable!==!0)throw new Error(`ExposedThing '${this.title}' cannot set observe handler for property '${P}' since the observable flag is set to false`);{let F=o(this,s,"f").get(P);F?F.observeHandler=j:F={observeHandler:j},o(this,s,"f").set(P,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${P}'`);return this}setPropertyUnobserveHandler(P,j){if(A(`ExposedThing '${this.title}' setting property unobserve handler for '${P}'`),this.properties[P]!=null){if(this.properties[P].observable!==!0)throw new Error(`ExposedThing '${this.title}' cannot set unobserve handler for property '${P}' due to missing observable flag`);{let F=o(this,s,"f").get(P);F?F.unobserveHandler=j:F={unobserveHandler:j},o(this,s,"f").set(P,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${P}'`);return this}setActionHandler(P,j){if(A(`ExposedThing '${this.title}' setting action handler for '${P}'`),this.actions[P]!=null)o(this,l,"f").set(P,j);else throw new Error(`ExposedThing '${this.title}' has no Action '${P}'`);return this}setEventSubscribeHandler(P,j){if(A(`ExposedThing '${this.title}' setting event subscribe handler for '${P}'`),this.events[P]!=null){let F=o(this,u,"f").get(P);F?F.subscribe=j:F={subscribe:j},o(this,u,"f").set(P,F)}else throw new Error(`ExposedThing '${this.title}' has no Event '${P}'`);return this}setEventUnsubscribeHandler(P,j){if(A(`ExposedThing '${this.title}' setting event unsubscribe handler for '${P}'`),this.events[P]!=null){let F=o(this,u,"f").get(P);F?F.unsubscribe=j:F={unsubscribe:j},o(this,u,"f").set(P,F)}else throw new Error(`ExposedThing '${this.title}' has no Event '${P}'`);return this}async handleInvokeAction(P,j,F){if(this.actions[P]!=null){A(`ExposedThing '${this.title}' has Action state of '${P}'`);const V=o(this,l,"f").get(P);if(V!=null){A(`ExposedThing '${this.title}' calls registered handler for Action '${P}'`),_.default.validateInteractionOptions(this,this.actions[P],F);const X=this.actions[P].forms[F.formIndex]??{contentType:"application/json"},H=await V(new v.InteractionOutput(j,X,this.actions[P].input),F);if(H!==void 0)return $.default.valueToContent(H,this.actions[P].output,X.contentType)}else throw new Error(`ExposedThing '${this.title}' has no handler for Action '${P}'`)}else throw new Error(`ExposedThing '${this.title}', no action found for '${P}'`)}async handleReadProperty(P,j){var F,V;if(this.properties[P]!=null){A(`ExposedThing '${this.title}' has Action state of '${P}'`);const X=(F=o(this,s,"f").get(P))==null?void 0:F.readHandler;if(X!=null){A(`ExposedThing '${this.title}' calls registered readHandler for Property '${P}'`),_.default.validateInteractionOptions(this,this.properties[P],j);const H=await X(j),Z=((V=this.properties[P])==null?void 0:V.forms[j.formIndex])??{contentType:"application/json"};return $.default.valueToContent(H,this.properties[P],(Z==null?void 0:Z.contentType)??"application/json")}else throw new Error(`ExposedThing '${this.title}' has no readHandler for Property '${P}'`)}else throw new Error(`ExposedThing '${this.title}', no property found for '${P}'`)}async _handleReadProperties(P,j){try{const F=new Map;for(const V of P){if(!this.properties[V].forms.find(Z=>Z.contentType===S.ContentSerdes.DEFAULT||Z.contentType==null))continue;const H=await this.handleReadProperty(V,j);F.set(V,H)}return F}catch(F){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${P}.
 Error: ${F}`)}}async handleReadAllProperties(P){const j=Object.keys(this.properties);return await this._handleReadProperties(j,P)}async handleReadMultipleProperties(P,j){return await this._handleReadProperties(P,j)}async handleWriteProperty(P,j,F){var V,X;if(this.properties[P]!=null){if(this.properties[P].readOnly===!0)throw new Error(`ExposedThing '${this.title}', property '${P}' is readOnly`);_.default.validateInteractionOptions(this,this.properties[P],F);const H=(V=o(this,s,"f").get(P))==null?void 0:V.writeHandler,Z=((X=this.properties[P])==null?void 0:X.forms[F.formIndex])??{};if(H!=null)await H(new v.InteractionOutput(j,Z,this.properties[P]),F);else throw new Error(`ExposedThing '${this.title}' has no writeHandler for Property '${P}'`)}else throw new Error(`ExposedThing '${this.title}', no property found for '${P}'`)}async handleWriteMultipleProperties(P,j){const F=[];for(const[V,X]of Object.entries(P))this.properties[V].forms.find(Z=>Z.contentType==="application/json"||Z.contentType==null)!=null&&F.push(this.handleWriteProperty(V,X,j));try{await Promise.all(F)}catch(V){throw new Error(`ExposedThing '${this.title}', failed to write multiple properties. ${V.message}`)}}async handleSubscribeEvent(P,j,F){var V;if(this.events[P]!=null){_.default.validateInteractionOptions(this,this.events[P],F);const X=E.default.getFormIndexForOperation(this.events[P],"event","subscribeevent",F.formIndex);if(X!==-1)o(this,c,"f").register(this.events[P],X,j),A(`ExposedThing '${this.title}' subscribes to event '${P}'`);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${P}' with form index '${F.formIndex}'`);const H=(V=o(this,u,"f").get(P))==null?void 0:V.subscribe;H&&await H(F),A(`ExposedThing '${this.title}' subscribes to event '${P}'`)}else throw new Error(`ExposedThing '${this.title}', no event found for '${P}'`)}handleUnsubscribeEvent(P,j,F){var V;if(this.events[P]!=null){_.default.validateInteractionOptions(this,this.events[P],F);const X=E.default.getFormIndexForOperation(this.events[P],"event","unsubscribeevent",F.formIndex);if(X!==-1)o(this,c,"f").unregister(this.events[P],X,j);else throw new Error(`ExposedThing '${this.title}', no event listener from found for '${P}' with form index '${F.formIndex}'`);const H=(V=o(this,u,"f").get(P))==null?void 0:V.unsubscribe;H&&H(F),A(`ExposedThing '${this.title}' unsubscribes from event '${P}'`)}else throw new Error(`ExposedThing '${this.title}', no event found for '${P}'`)}async handleObserveProperty(P,j,F){var V;if(this.properties[P]!=null){_.default.validateInteractionOptions(this,this.properties[P],F);const X=E.default.getFormIndexForOperation(this.properties[P],"property","observeproperty",F.formIndex);if(X!==-1)o(this,f,"f").register(this.properties[P],X,j),A(`ExposedThing '${this.title}' subscribes to property '${P}'`);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${P}' with form index '${F.formIndex}'`);const H=(V=o(this,s,"f").get(P))==null?void 0:V.observeHandler;H&&await H(F)}else throw new Error(`ExposedThing '${this.title}', no property found for '${P}'`)}handleUnobserveProperty(P,j,F){var V;if(this.properties[P]!=null){_.default.validateInteractionOptions(this,this.properties[P],F);const X=E.default.getFormIndexForOperation(this.properties[P],"property","unobserveproperty",F.formIndex);if(X!==-1)o(this,f,"f").unregister(this.properties[P],X,j);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${P}' with form index '${F.formIndex}'`);const H=(V=o(this,s,"f").get(P))==null?void 0:V.unobserveHandler;H&&H(F)}else throw new Error(`ExposedThing '${this.title}', no property found for '${P}'`)}static interactionInputToReadable(P){let j;return typeof ReadableStream<"u"&&P instanceof ReadableStream||P instanceof y.ReadableStream?j=E.default.toNodeStream(P):Array.isArray(P)||typeof P=="object"?j=h.Readable.from(Yr.from(JSON.stringify(P),"utf-8")):j=h.Readable.from(Yr.from(P.toString(),"utf-8")),j}};s=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,c=new WeakMap,p=new WeakMap,e.default=x}}),qre=Pe({"../../node_modules/content-type/index.js"(e){Te();var t=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,r=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,n=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,i=/\\([\u000b\u0020-\u00ff])/g,o=/([\\"])/g,a=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;e.format=s,e.parse=l;function s(p){if(!p||typeof p!="object")throw new TypeError("argument obj is required");var m=p.parameters,g=p.type;if(!g||!a.test(g))throw new TypeError("invalid type");var _=g;if(m&&typeof m=="object")for(var v,h=Object.keys(m).sort(),E=0;E<h.length;E++){if(v=h[E],!n.test(v))throw new TypeError("invalid parameter name");_+="; "+v+"="+f(m[v])}return _}function l(p){if(!p)throw new TypeError("argument string is required");var m=typeof p=="object"?u(p):p;if(typeof m!="string")throw new TypeError("argument string is required to be a string");var g=m.indexOf(";"),_=g!==-1?m.slice(0,g).trim():m.trim();if(!a.test(_))throw new TypeError("invalid media type");var v=new c(_.toLowerCase());if(g!==-1){var h,E,y;for(t.lastIndex=g;E=t.exec(m);){if(E.index!==g)throw new TypeError("invalid parameter format");g+=E[0].length,h=E[1].toLowerCase(),y=E[2],y.charCodeAt(0)===34&&(y=y.slice(1,-1),y.indexOf("\\")!==-1&&(y=y.replace(i,"$1"))),v.parameters[h]=y}if(g!==m.length)throw new TypeError("invalid parameter format")}return v}function u(p){var m;if(typeof p.getHeader=="function"?m=p.getHeader("content-type"):typeof p.headers=="object"&&(m=p.headers&&p.headers["content-type"]),typeof m!="string")throw new TypeError("content-type header is missing from object");return m}function f(p){var m=String(p);if(n.test(m))return m;if(m.length>0&&!r.test(m))throw new TypeError("invalid parameter value");return'"'+m.replace(o,"\\$1")+'"'}function c(p){this.parameters=Object.create(null),this.type=p}}}),Vre=Pe({"../../node_modules/uritemplate/bin/uritemplate.js"(e,t){Te(),function(r){var n=function(){function _(v){this.options=v}return _.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},_}(),i=function(){function _(A){return Object.prototype.toString.apply(A)==="[object Array]"}function v(A){return Object.prototype.toString.apply(A)==="[object String]"}function h(A){return Object.prototype.toString.apply(A)==="[object Number]"}function E(A){return Object.prototype.toString.apply(A)==="[object Boolean]"}function y(A,x){var P="",j=!0,F;for(F=0;F<A.length;F+=1)j?j=!1:P+=x,P+=A[F];return P}function S(A,x){for(var P=[],j=0;j<A.length;j+=1)P.push(x(A[j]));return P}function $(A,x){for(var P=[],j=0;j<A.length;j+=1)x(A[j])&&P.push(A[j]);return P}function T(A){if(typeof A!="object"||A===null)return A;Object.freeze(A);var x,P;for(P in A)A.hasOwnProperty(P)&&(x=A[P],typeof x=="object"&&d(x));return A}function d(A){return typeof Object.freeze=="function"?T(A):A}return{isArray:_,isString:v,isNumber:h,isBoolean:E,join:y,map:S,filter:$,deepFreeze:d}}(),o=function(){function _(E){return E>="a"&&E<="z"||E>="A"&&E<="Z"}function v(E){return E>="0"&&E<="9"}function h(E){return v(E)||E>="a"&&E<="f"||E>="A"&&E<="F"}return{isAlpha:_,isDigit:v,isHexDigit:h}}(),a=function(){var _={encode:function($){return unescape(encodeURIComponent($))},numBytes:function($){return $<=127?1:194<=$&&$<=223?2:224<=$&&$<=239?3:240<=$&&$<=244?4:0},isValidFollowingCharCode:function($){return 128<=$&&$<=191}};function v($){var T="",d=_.encode($),A,x;for(x=0;x<d.length;x+=1)A=d.charCodeAt(x),T+="%"+(A<16?"0":"")+A.toString(16).toUpperCase();return T}function h($,T){return $.charAt(T)==="%"&&o.isHexDigit($.charAt(T+1))&&o.isHexDigit($.charAt(T+2))}function E($,T){return parseInt($.substr(T,2),16)}function y($){if(!h($,0))return!1;var T=E($,1),d=_.numBytes(T);if(d===0)return!1;for(var A=1;A<d;A+=1)if(!h($,3*A)||!_.isValidFollowingCharCode(E($,3*A+1)))return!1;return!0}function S($,T){var d=$.charAt(T);if(!h($,T))return d;var A=E($,T+1),x=_.numBytes(A);if(x===0)return d;for(var P=1;P<x;P+=1)if(!h($,T+3*P)||!_.isValidFollowingCharCode(E($,T+3*P+1)))return d;return $.substr(T,3*x)}return{encodeCharacter:v,isPctEncoded:y,pctCharAt:S}}(),s=function(){function _(E){return o.isAlpha(E)||o.isDigit(E)||E==="_"||a.isPctEncoded(E)}function v(E){return o.isAlpha(E)||o.isDigit(E)||E==="-"||E==="."||E==="_"||E==="~"}function h(E){return E===":"||E==="/"||E==="?"||E==="#"||E==="["||E==="]"||E==="@"||E==="!"||E==="$"||E==="&"||E==="("||E===")"||E==="*"||E==="+"||E===","||E===";"||E==="="||E==="'"}return{isVarchar:_,isUnreserved:v,isReserved:h}}(),l=function(){function _(y,S){var $="",T,d="";for((typeof y=="number"||typeof y=="boolean")&&(y=y.toString()),T=0;T<y.length;T+=d.length)d=y.charAt(T),$+=s.isUnreserved(d)||S&&s.isReserved(d)?d:a.encodeCharacter(d);return $}function v(y){return _(y,!0)}function h(y,S){var $=a.pctCharAt(y,S);return $.length>1||s.isReserved($)||s.isUnreserved($)?$:a.encodeCharacter($)}function E(y){var S="",$,T="";for($=0;$<y.length;$+=T.length)T=a.pctCharAt(y,$),T.length>1?S+=T:S+=s.isReserved(T)||s.isUnreserved(T)?T:a.encodeCharacter(T);return S}return{encode:_,encodePassReserved:v,encodeLiteral:E,encodeLiteralCharacter:h}}(),u=function(){var _={};function v(h){_[h]={symbol:h,separator:h==="?"?"&":h===""||h==="+"||h==="#"?",":h,named:h===";"||h==="&"||h==="?",ifEmpty:h==="&"||h==="?"?"=":"",first:h==="+"?"":h,encode:h==="+"||h==="#"?l.encodePassReserved:l.encode,toString:function(){return this.symbol}}}return v(""),v("+"),v("#"),v("."),v("/"),v(";"),v("?"),v("&"),{valueOf:function(h){return _[h]?_[h]:"=,!@|".indexOf(h)>=0?null:_[""]}}}();function f(_){var v;if(_==null)return!1;if(i.isArray(_))return _.length>0;if(typeof _=="string"||typeof _=="number"||typeof _=="boolean")return!0;for(v in _)if(_.hasOwnProperty(v)&&f(_[v]))return!0;return!1}var c=function(){function _(v){this.literal=l.encodeLiteral(v)}return _.prototype.expand=function(){return this.literal},_.prototype.toString=_.prototype.expand,_}(),p=function(){function _(h){var E,y=[],S=null,$=null,T=null,d,A="";function x(){var j=h.substring($,d);if(j.length===0)throw new n({expressionText:h,message:"a varname must be specified",position:d});S={varname:j,exploded:!1,maxLength:null},$=null}function P(){if(T===d)throw new n({expressionText:h,message:"after a ':' you have to specify the length",position:d});S.maxLength=parseInt(h.substring(T,d),10),T=null}for(E=function(j){var F=u.valueOf(j);if(F===null)throw new n({expressionText:h,message:"illegal use of reserved operator",position:d,operator:j});return F}(h.charAt(0)),d=E.symbol.length,$=d;d<h.length;d+=A.length){if(A=a.pctCharAt(h,d),$!==null){if(A==="."){if($===d)throw new n({expressionText:h,message:"a varname MUST NOT start with a dot",position:d});continue}if(s.isVarchar(A))continue;x()}if(T!==null){if(d===T&&A==="0")throw new n({expressionText:h,message:"A :prefix must not start with digit 0",position:d});if(o.isDigit(A)){if(d-T>=4)throw new n({expressionText:h,message:"A :prefix must have max 4 digits",position:d});continue}P()}if(A===":"){if(S.maxLength!==null)throw new n({expressionText:h,message:"only one :maxLength is allowed per varspec",position:d});if(S.exploded)throw new n({expressionText:h,message:"an exploeded varspec MUST NOT be varspeced",position:d});T=d+1;continue}if(A==="*"){if(S===null)throw new n({expressionText:h,message:"exploded without varspec",position:d});if(S.exploded)throw new n({expressionText:h,message:"exploded twice",position:d});if(S.maxLength)throw new n({expressionText:h,message:"an explode (*) MUST NOT follow to a prefix",position:d});S.exploded=!0;continue}if(A===","){y.push(S),S=null,$=d+1;continue}throw new n({expressionText:h,message:"illegal character",character:A,position:d})}return $!==null&&x(),T!==null&&P(),y.push(S),new m(h,E,y)}function v(h){var E,y,S=[],$=null,T=0;for(E=0;E<h.length;E+=1){if(y=h.charAt(E),T!==null){if(y==="}")throw new n({templateText:h,message:"unopened brace closed",position:E});y==="{"&&(T<E&&S.push(new c(h.substring(T,E))),T=null,$=E);continue}if($!==null){if(y==="{")throw new n({templateText:h,message:"brace already opened",position:E});if(y==="}"){if($+1===E)throw new n({templateText:h,message:"empty braces",position:$});try{S.push(_(h.substring($+1,E)))}catch(d){throw d.prototype===n.prototype?new n({templateText:h,message:d.options.message,position:$+d.options.position,details:d.options}):d}$=null,T=E+1}continue}throw new Error("reached unreachable code")}if($!==null)throw new n({templateText:h,message:"unclosed brace",position:$});return T<h.length&&S.push(new c(h.substr(T))),new g(h,S)}return v}(),m=function(){function _(A){return JSON&&JSON.stringify?JSON.stringify(A):A}function v(A){if(!f(A))return!0;if(i.isString(A))return A==="";if(i.isNumber(A)||i.isBoolean(A))return!1;if(i.isArray(A))return A.length===0;for(var x in A)if(A.hasOwnProperty(x))return!1;return!0}function h(A){var x=[],P;for(P in A)A.hasOwnProperty(P)&&x.push({name:P,value:A[P]});return x}function E(A,x,P){this.templateText=A,this.operator=x,this.varspecs=P}E.prototype.toString=function(){return this.templateText};function y(A,x,P){var j="";if(P=P.toString(),x.named){if(j+=l.encodeLiteral(A.varname),P==="")return j+=x.ifEmpty,j;j+="="}return A.maxLength!==null&&(P=P.substr(0,A.maxLength)),j+=x.encode(P),j}function S(A){return f(A.value)}function $(A,x,P){var j=[],F="";if(x.named){if(F+=l.encodeLiteral(A.varname),v(P))return F+=x.ifEmpty,F;F+="="}return i.isArray(P)?(j=P,j=i.filter(j,f),j=i.map(j,x.encode),F+=i.join(j,",")):(j=h(P),j=i.filter(j,S),j=i.map(j,function(V){return x.encode(V.name)+","+x.encode(V.value)}),F+=i.join(j,",")),F}function T(A,x,P){var j=i.isArray(P),F=[];return j?(F=P,F=i.filter(F,f),F=i.map(F,function(V){var X=l.encodeLiteral(A.varname);return v(V)?X+=x.ifEmpty:X+="="+x.encode(V),X})):(F=h(P),F=i.filter(F,S),F=i.map(F,function(V){var X=l.encodeLiteral(V.name);return v(V.value)?X+=x.ifEmpty:X+="="+x.encode(V.value),X})),i.join(F,x.separator)}function d(A,x){var P=[],j="";return i.isArray(x)?(P=x,P=i.filter(P,f),P=i.map(P,A.encode),j+=i.join(P,A.separator)):(P=h(x),P=i.filter(P,function(F){return f(F.value)}),P=i.map(P,function(F){return A.encode(F.name)+"="+A.encode(F.value)}),j+=i.join(P,A.separator)),j}return E.prototype.expand=function(A){var x=[],P,j,F,V=this.operator;for(P=0;P<this.varspecs.length;P+=1)if(j=this.varspecs[P],F=A[j.varname],F!=null)if(j.exploded,i.isArray(F),typeof F=="string"||typeof F=="number"||typeof F=="boolean")x.push(y(j,V,F));else{if(j.maxLength&&f(F))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+_(F));j.exploded?f(F)&&(V.named?x.push(T(j,V,F)):x.push(d(V,F))):(V.named||!v(F))&&x.push($(j,V,F))}return x.length===0?"":V.first+i.join(x,V.separator)},E}(),g=function(){function _(v,h){this.templateText=v,this.expressions=h,i.deepFreeze(this)}return _.prototype.toString=function(){return this.templateText},_.prototype.expand=function(v){var h,E="";for(h=0;h<this.expressions.length;h+=1)E+=this.expressions[h].expand(v);return E},_.parse=p,_.UriTemplateError=n,_}();r(g)}(function(r){typeof t<"u"?t.exports=r:typeof define=="function"?define([],function(){return r}):typeof window<"u"?window.UriTemplate=r:global.UriTemplate=r})}}),Sq=Pe({"../core/dist/consumed-thing.js"(e){Te();var t=e&&e.__classPrivateFieldSet||function(H,Z,fe,ee,ae){if(ee==="m")throw new TypeError("Private method is not writable");if(ee==="a"&&!ae)throw new TypeError("Private accessor was defined without a setter");if(typeof Z=="function"?H!==Z||!ae:!Z.has(H))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ee==="a"?ae.call(H,fe):ae?ae.value=fe:Z.set(H,fe),fe},r=e&&e.__classPrivateFieldGet||function(H,Z,fe,ee){if(fe==="a"&&!ee)throw new TypeError("Private accessor was defined without a getter");if(typeof Z=="function"?H!==Z||!ee:!Z.has(H))throw new TypeError("Cannot read private member from an object whose class did not declare it");return fe==="m"?ee:fe==="a"?ee.call(H):ee?ee.value:Z.get(H)},n=e&&e.__importDefault||function(H){return H&&H.__esModule?H:{default:H}},i,o,a,s,l,u,f,c;Object.defineProperty(e,"__esModule",{value:!0});var p=vg(),m=n(Tg()),g=n(qre()),_=n(rl()),v=Vre(),h=bq(),E=No(),{debug:y,warn:S}=(0,E.createLoggers)("core","consumed-thing"),$;(function(H){H[H.PropertyAffordance=0]="PropertyAffordance",H[H.ActionAffordance=1]="ActionAffordance",H[H.EventAffordance=2]="EventAffordance"})($||($={}));var T=class extends p.ThingProperty{constructor(H,Z){super(),i.set(this,void 0),o.set(this,void 0),t(this,i,H,"f"),t(this,o,Z,"f")}};i=new WeakMap,o=new WeakMap;var d=class extends p.ThingAction{constructor(H,Z){super(),a.set(this,void 0),s.set(this,void 0),t(this,a,H,"f"),t(this,s,Z,"f")}};a=new WeakMap,s=new WeakMap;var A=class extends p.ThingEvent{constructor(H,Z){super(),l.set(this,void 0),u.set(this,void 0),t(this,l,H,"f"),t(this,u,Z,"f")}};l=new WeakMap,u=new WeakMap;var x=class{constructor(H,Z,fe){this.thing=H,this.name=Z,this.client=fe,this.active=!0}};function P(H,Z,fe,ee){const ae=v.parse(fe.href),M=m.default.parseInteractionOptions(H,Z,ee).uriVariables,B=ae.expand(M??{});if(B!==fe.href){const K={...fe};K.href=B,fe=K,y(`ConsumedThing '${H.title}' update form URI to ${fe.href}`)}return fe}var j=class extends x{constructor(H,Z,fe,ee){var M;super(H,Z,fe),this.form=ee,this.active=!1;const ae=(M=this.thing.properties)==null?void 0:M[Z].forms.indexOf(ee);if(ae===void 0||ae<0)throw new Error(`Could not find form ${ee.href} in property ${Z}`);this.formIndex=ae}async stop(H){await this.unobserveProperty(H),this.thing.observedProperties.delete(this.name)}async unobserveProperty(H={}){const Z=this.thing.properties[this.name];if(Z==null)throw new Error(`ConsumedThing '${this.thing.title}' does not have property ${this.name}`);H.formIndex??(H.formIndex=this.matchingUnsubscribeForm());const{form:fe}=this.thing.getClientFor(Z.forms,"unobserveproperty",$.PropertyAffordance,H);if(fe==null)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const ee=P(this.thing,Z,fe,H);y(`ConsumedThing '${this.thing.title}' unobserving to ${fe.href}`),await this.client.unlinkResource(ee),this.active=!1}matchingUnsubscribeForm(){const H=this.thing.properties[this.name].forms[this.formIndex];if(Array.isArray(H.op)&&H.op.includes("unobserveproperty"))return this.formIndex;const Z=this.findFormIndexWithScoring(this.formIndex,this.thing.properties[this.name].forms,"unobserveproperty");if(Z===-1)throw new Error("Could not find matching form for unsubscribe");return Z}findFormIndexWithScoring(H,Z,fe){var B;const ee=Z[H];let ae=0,M=-1;for(let K=0;K<Z.length;K++){let O=0;const N=Z[K];(N.op===fe||((B=N==null?void 0:N.op)==null?void 0:B.includes(fe))===!0&&Array.isArray(N.op)===!0)&&(O+=1),new URL(N.href).origin===new URL(ee.href).origin&&(O+=1),N.contentType===ee.contentType&&(O+=1),O>ae&&(ae=O,M=K)}return M}};function F(H,Z,fe){var B;const ee=Z[H];let ae=0,M=-1;for(let K=0;K<Z.length;K++){let O=0;const N=Z[K];(N.op===fe||((B=N==null?void 0:N.op)==null?void 0:B.includes(fe))===!0&&Array.isArray(N.op)===!0)&&(O+=1),new URL(N.href).origin===new URL(ee.href).origin&&(O+=1),N.contentType===ee.contentType&&(O+=1),O>ae&&(ae=O,M=K)}return M}var V=class extends x{constructor(H,Z,fe,ee){var M;super(H,Z,fe),this.form=ee;const ae=(M=this.thing.events)==null?void 0:M[Z].forms.indexOf(ee);if(ae===void 0||ae<0)throw new Error(`Could not find form ${ee.href} in event ${Z}`);this.formIndex=ae}async stop(H){await this.unsubscribeEvent(H),this.thing.subscribedEvents.delete(this.name)}async unsubscribeEvent(H={}){const Z=this.thing.events[this.name];if(Z==null)throw new Error(`ConsumedThing '${this.thing.title}' does not have event ${this.name}`);H.formIndex??(H.formIndex=this.matchingUnsubscribeForm());const{form:fe}=this.thing.getClientFor(Z.forms,"unsubscribeevent",$.EventAffordance,H);if(fe==null)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const ee=P(this.thing,Z,fe,H);y(`ConsumedThing '${this.thing.title}' unsubscribing to ${fe.href}`),this.client.unlinkResource(ee),this.active=!1}matchingUnsubscribeForm(){const H=this.thing.events[this.name].forms[this.formIndex];if(H.op==null||Array.isArray(H.op)&&H.op.includes("unsubscribeevent"))return this.formIndex;const Z=F(this.formIndex,this.thing.events[this.name].forms,"unsubscribeevent");if(Z===-1)throw new Error("Could not find matching form for unsubscribe");return Z}},X=class extends p.Thing{constructor(H,Z){super(),f.set(this,void 0),c.set(this,void 0),this.subscribedEvents=new Map,this.observedProperties=new Map,t(this,f,H,"f"),t(this,c,new Map,"f"),this.properties={},this.actions={},this.events={};const fe=m.default.structuredClone(Z??{});Object.assign(this,fe),this.extendInteractions()}getThingDescription(){return JSON.parse(JSON.stringify(this))}emitEvent(H,Z){S("not implemented")}extendInteractions(){for(const[H,Z]of Object.entries(this.properties)){const fe=m.default.extend(Z,new T(H,this));this.properties[H]=fe}for(const[H,Z]of Object.entries(this.actions)){const fe=m.default.extend(Z,new d(H,this));this.actions[H]=fe}for(const[H,Z]of Object.entries(this.events)){const fe=m.default.extend(Z,new A(H,this));this.events[H]=fe}}findForm(H,Z,fe,ee,ae){let M;for(const B of H){let K="";if(B.op!==void 0)K=B.op;else switch(fe){case $.PropertyAffordance:K=["readproperty","writeproperty"];break;case $.ActionAffordance:K="invokeaction";break;case $.EventAffordance:K="subscribeevent";break}if(K.indexOf(Z)!==-1&&B.href.indexOf(ee[ae]+":")!==-1){M=B;break}}return M}getSecuritySchemes(H){const Z=[];for(const fe of H){const ee=this.securityDefinitions[fe+""];ee!=null&&Z.push(ee)}return Z}ensureClientSecurity(H,Z){if(this.securityDefinitions!=null){const fe=()=>y(`ConsumedThing '${this.title}' setting credentials for ${H} based on thing security`);Z!=null&&Array.isArray(Z.security)&&Z.security.length>0?(fe(),H.setSecurity(this.getSecuritySchemes(Z.security),r(this,f,"f").retrieveCredentials(this.id))):Array.isArray(this.security)&&this.security.length>0&&(fe(),H.setSecurity(this.getSecuritySchemes(this.security),r(this,f,"f").getCredentials(this.id)))}}getClientFor(H,Z,fe,ee){if(H.length===0)throw new Error(`ConsumedThing '${this.title}' has no links for this interaction`);let ae,M;if((ee==null?void 0:ee.formIndex)!==void 0)if(y(`ConsumedThing '${this.title}' asked to use formIndex '${ee.formIndex}'`),ee.formIndex>=0&&ee.formIndex<H.length){ae=H[ee.formIndex];const B=m.default.extractScheme(ae.href);if(r(this,f,"f").hasClientFor(B))y(`ConsumedThing '${this.title}' got client for '${B}'`),M=r(this,f,"f").getClientFor(B),r(this,c,"f").get(B)||(this.ensureClientSecurity(M,ae),r(this,c,"f").set(B,M));else throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${B}'`)}else throw new Error(`ConsumedThing '${this.title}' missing formIndex '${ee.formIndex}'`);else{const B=H.map(O=>m.default.extractScheme(O.href)),K=B.findIndex(O=>r(this,c,"f").has(O));if(K!==-1)y(`ConsumedThing '${this.title}' chose cached client for '${B[K]}'`),M=r(this,c,"f").get(B[K]),ae=this.findForm(H,Z,fe,B,K);else{y(`ConsumedThing '${this.title}' has no client in cache (${K})`);const O=B.findIndex(N=>r(this,f,"f").hasClientFor(N));if(O===-1)throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${B}'`);M=r(this,f,"f").getClientFor(B[O]),y(`ConsumedThing '${this.title}' got new client for '${B[O]}'`),r(this,c,"f").set(B[O],M),ae=this.findForm(H,Z,fe,B,O),this.ensureClientSecurity(M,ae)}}return{client:M,form:ae}}async readProperty(H,Z){const fe=this.properties[H];if(fe==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${H}`);let{client:ee,form:ae}=this.getClientFor(fe.forms,"readproperty",$.PropertyAffordance,Z);if(ae==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(ee==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${ae.href}`);y(`ConsumedThing '${this.title}' reading ${ae.href}`),ae=this.handleUriVariables(fe,ae,Z);const M=await ee.readResource(ae);try{return this.handleInteractionOutput(M,ae,fe,!1)}catch(B){const K=B instanceof Error?B:new Error(JSON.stringify(B));throw new Error(`Error while processing property for ${fe.title}. ${K.message}`)}}handleInteractionOutput(H,Z,fe,ee){if(H.type??(H.type=Z.contentType??"application/json"),Z.response!=null){const ae=g.default.parse(H.type),M=g.default.parse(Z.response.contentType);if(ae.type!==M.type)throw new Error(`Unexpected type '${H.type}' in response. Should be '${Z.response.contentType}'`)}return new h.InteractionOutput(H,Z,fe,{ignoreValidation:ee})}async _readProperties(H){const Z=[];for(const ee of H)Z.push(this.readProperty(ee));const fe=new Map;try{const ee=await Promise.all(Z);let ae=0;for(const M of H)fe.set(M,ee[ae]),ae++;return fe}catch(ee){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${H}.
 Error: ${ee}`)}}readAllProperties(H){const Z=[];for(const[fe,ee]of Object.entries(this.properties)){const{form:ae}=this.getClientFor(ee.forms,"readproperty",$.PropertyAffordance,H);ae!=null&&Z.push(fe)}return this._readProperties(Z)}readMultipleProperties(H,Z){return this._readProperties(H)}async writeProperty(H,Z,fe){const ee=this.properties[H];if(ee==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${H}`);let{client:ae,form:M}=this.getClientFor(ee.forms,"writeproperty",$.PropertyAffordance,fe);if(M==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(ae==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${M.href}`);y(`ConsumedThing '${this.title}' writing ${M.href} with '${Z}'`);const B=_.default.valueToContent(Z,ee,M.contentType);M=this.handleUriVariables(ee,M,fe),await ae.writeResource(M,B)}async writeMultipleProperties(H,Z){const fe=[];for(const[ee,ae]of H.entries())fe.push(this.writeProperty(ee,ae));try{await Promise.all(fe)}catch(ee){throw new Error(`ConsumedThing '${this.title}', failed to write multiple properties: ${H}
 Error: ${ee}`)}}async invokeAction(H,Z,fe){const ee=this.actions[H];if(ee==null)throw new Error(`ConsumedThing '${this.title}' does not have action ${H}`);let{client:ae,form:M}=this.getClientFor(ee.forms,"invokeaction",$.ActionAffordance,fe);if(M==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(ae==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${M.href}`);y(`ConsumedThing '${this.title}' invoking ${M.href}${Z!==void 0?" with '"+Z+"'":""}`);let B;Z!==void 0&&(B=_.default.valueToContent(Z,ee.input,M.contentType)),M=this.handleUriVariables(ee,M,fe);const K=await ae.invokeResource(M,B);try{const O=ee.synchronous===void 0?!0:!ee.synchronous;return this.handleInteractionOutput(K,M,ee.output,O)}catch(O){const N=O instanceof Error?O:new Error(JSON.stringify(O));throw new Error(`Error while processing action for ${ee.title}. ${N.message}`)}}async observeProperty(H,Z,fe,ee){const ae=this.properties[H];if(ae==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${H}`);const{client:M,form:B}=this.getClientFor(ae.forms,"observeproperty",$.PropertyAffordance,ee);if(B==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(M==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${B.href}`);if(this.observedProperties.has(H))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${H}. You can only observe once`);y(`ConsumedThing '${this.title}' observing to ${B.href}`);const K=this.handleUriVariables(ae,B,ee);await M.subscribeResource(K,N=>{try{Z(this.handleInteractionOutput(N,B,ae,!1))}catch(q){const ne=q instanceof Error?q:new Error(JSON.stringify(q));S(`Error while processing observe property for ${ae.title}. ${ne.message}`),S(q)}},N=>{fe==null||fe(N)},()=>{});const O=new j(this,H,M,B);return this.observedProperties.set(H,O),O}async subscribeEvent(H,Z,fe,ee){const ae=this.events[H];if(ae==null)throw new Error(`ConsumedThing '${this.title}' does not have event ${H}`);const{client:M,form:B}=this.getClientFor(ae.forms,"subscribeevent",$.EventAffordance,ee);if(B==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(M==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${B.href}`);if(this.subscribedEvents.has(H))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${H}. You can only subscribe once`);y(`ConsumedThing '${this.title}' subscribing to ${B.href}`);const K=this.handleUriVariables(ae,B,ee);await M.subscribeResource(K,N=>{try{Z(this.handleInteractionOutput(N,B,ae.data,!1))}catch(q){const ne=q instanceof Error?q:new Error(JSON.stringify(q));S(`Error while processing event for ${ae.title}. ${ne.message}`),S(q)}},N=>{fe==null||fe(N)},()=>{});const O=new V(this,H,M,B);return this.subscribedEvents.set(H,O),O}handleUriVariables(H,Z,fe){return P(this,H,Z,fe)}};f=new WeakMap,c=new WeakMap,e.default=X}}),Hre=Pe({"../core/dist/validation.js"(e){Te();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.isThingDescription=n,e.getLastValidationErrors=i;var r=t(Tg());function n(o){return r.default.tsSchemaValidator(o)}function i(){var a;const o=(a=r.default.tsSchemaValidator.errors)==null?void 0:a.map(s=>s.message).join(`
`);return new Error(o)}}}),Wre=Pe({"../core/dist/wot-impl.js"(e){Te();var t=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataType=void 0;var r=SR(),n=t(Eq()),i=t(Sq()),o=t(Tg()),a=No(),s=t(rl()),l=Hre(),u=(X_(),Pr(Y_)),{debug:f}=(0,a.createLoggers)("core","wot-impl"),c=class{constructor(g,_){this.directory=g,this.filter=_,this.filter=_,this.done=!1}async stop(){this.done=!0}async*[Symbol.asyncIterator](){let g;try{g=await(await this.directory.readProperty("things")).value()}catch(_){this.error=_ instanceof Error?_:new Error((0,u.inspect)(_)),this.done=!0;return}for(const _ of g){if(this.done)return;if(!(0,l.isThingDescription)(_)){this.error=(0,l.getLastValidationErrors)();continue}yield _}this.done=!0}},p=class{constructor(g){this.srv=g}async discover(g){throw new Error("not implemented")}async exploreDirectory(g,_){const v=await this.requestThingDescription(g),h=await this.consume(v);return new c(h,_)}async requestThingDescription(g){const _=o.default.extractScheme(g),h=await this.srv.getClientFor(_).requestThingDescription(g),E=s.default.contentToValue({type:h.type,body:await h.toBuffer()},{});if((0,l.isThingDescription)(E))return E;throw(0,l.getLastValidationErrors)()}async consume(g){try{const _=(0,r.parseTD)(JSON.stringify(g),!0),v=new i.default(this.srv,_);return f(`WoTImpl consuming TD ${v.id!=null?`'${v.id}'`:"without id"} to instantiate ConsumedThing '${v.title}'`),v}catch(_){throw new Error(`Cannot consume TD because ${_ instanceof Error?_.message:_}`)}}produce(g){return new Promise((_,v)=>{try{const h=o.default.validateExposedThingInit(g);if(!h.valid)throw new Error(`Thing Description JSON schema validation failed:
`+h.errors);const E=new n.default(this.srv,g);if(f(`WoTImpl producing new ExposedThing '${E.title}'`),this.srv.addThing(E))_(E);else throw new Error("Thing already exists: "+E.title)}catch(h){v(new Error(`Cannot produce ExposedThing because " + ${h instanceof Error?h.message:h}`))}})}};e.default=p;var m;(function(g){g.boolean="boolean",g.number="number",g.integer="integer",g.string="string",g.object="object",g.array="array",g.null="null"})(m||(e.DataType=m={}))}}),$q=Pe({"../../node_modules/uuid/dist/rng-browser.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),n=new Uint8Array(16);function i(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)}t.exports=e.default}}),nI=Pe({"../../node_modules/uuid/dist/bytesToUuid.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=[];for(n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);var n;function i(a,s){var l=s||0,u=r;return[u[a[l++]],u[a[l++]],u[a[l++]],u[a[l++]],"-",u[a[l++]],u[a[l++]],"-",u[a[l++]],u[a[l++]],"-",u[a[l++]],u[a[l++]],"-",u[a[l++]],u[a[l++]],u[a[l++]],u[a[l++]],u[a[l++]],u[a[l++]]].join("")}var o=i;e.default=o,t.exports=e.default}}),Gre=Pe({"../../node_modules/uuid/dist/v1.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i($q()),n=i(nI());function i(c){return c&&c.__esModule?c:{default:c}}var o,a,s=0,l=0;function u(c,p,m){var g=p&&m||0,_=p||[];c=c||{};var v=c.node||o,h=c.clockseq!==void 0?c.clockseq:a;if(v==null||h==null){var E=c.random||(c.rng||r.default)();v==null&&(v=o=[E[0]|1,E[1],E[2],E[3],E[4],E[5]]),h==null&&(h=a=(E[6]<<8|E[7])&16383)}var y=c.msecs!==void 0?c.msecs:new Date().getTime(),S=c.nsecs!==void 0?c.nsecs:l+1,$=y-s+(S-l)/1e4;if($<0&&c.clockseq===void 0&&(h=h+1&16383),($<0||y>s)&&c.nsecs===void 0&&(S=0),S>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=y,l=S,a=h,y+=122192928e5;var T=((y&268435455)*1e4+S)%4294967296;_[g++]=T>>>24&255,_[g++]=T>>>16&255,_[g++]=T>>>8&255,_[g++]=T&255;var d=y/4294967296*1e4&268435455;_[g++]=d>>>8&255,_[g++]=d&255,_[g++]=d>>>24&15|16,_[g++]=d>>>16&255,_[g++]=h>>>8|128,_[g++]=h&255;for(var A=0;A<6;++A)_[g+A]=v[A];return p||(0,n.default)(_)}var f=u;e.default=f,t.exports=e.default}}),Tq=Pe({"../../node_modules/uuid/dist/v35.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=s,e.URL=e.DNS=void 0;var t=r(nI());function r(l){return l&&l.__esModule?l:{default:l}}function n(l){var u=[];return l.replace(/[a-fA-F0-9]{2}/g,function(f){u.push(parseInt(f,16))}),u}function i(l){l=unescape(encodeURIComponent(l));for(var u=new Array(l.length),f=0;f<l.length;f++)u[f]=l.charCodeAt(f);return u}var o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";e.DNS=o;var a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";e.URL=a;function s(l,u,f){var c=function(p,m,g,_){var v=g&&_||0;if(typeof p=="string"&&(p=i(p)),typeof m=="string"&&(m=n(m)),!Array.isArray(p))throw TypeError("value must be an array of bytes");if(!Array.isArray(m)||m.length!==16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var h=f(m.concat(p));if(h[6]=h[6]&15|u,h[8]=h[8]&63|128,g)for(var E=0;E<16;++E)g[v+E]=h[E];return g||(0,t.default)(h)};try{c.name=l}catch{}return c.DNS=o,c.URL=a,c}}}),Kre=Pe({"../../node_modules/uuid/dist/md5-browser.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(g){if(typeof g=="string"){var _=unescape(encodeURIComponent(g));g=new Array(_.length);for(var v=0;v<_.length;v++)g[v]=_.charCodeAt(v)}return n(i(o(g),g.length*8))}function n(g){var _,v,h=[],E=g.length*32,y="0123456789abcdef",S;for(_=0;_<E;_+=8)v=g[_>>5]>>>_%32&255,S=parseInt(y.charAt(v>>>4&15)+y.charAt(v&15),16),h.push(S);return h}function i(g,_){g[_>>5]|=128<<_%32,g[(_+64>>>9<<4)+14]=_;var v,h,E,y,S,$=1732584193,T=-271733879,d=-1732584194,A=271733878;for(v=0;v<g.length;v+=16)h=$,E=T,y=d,S=A,$=u($,T,d,A,g[v],7,-680876936),A=u(A,$,T,d,g[v+1],12,-389564586),d=u(d,A,$,T,g[v+2],17,606105819),T=u(T,d,A,$,g[v+3],22,-1044525330),$=u($,T,d,A,g[v+4],7,-176418897),A=u(A,$,T,d,g[v+5],12,1200080426),d=u(d,A,$,T,g[v+6],17,-1473231341),T=u(T,d,A,$,g[v+7],22,-45705983),$=u($,T,d,A,g[v+8],7,1770035416),A=u(A,$,T,d,g[v+9],12,-1958414417),d=u(d,A,$,T,g[v+10],17,-42063),T=u(T,d,A,$,g[v+11],22,-1990404162),$=u($,T,d,A,g[v+12],7,1804603682),A=u(A,$,T,d,g[v+13],12,-40341101),d=u(d,A,$,T,g[v+14],17,-1502002290),T=u(T,d,A,$,g[v+15],22,1236535329),$=f($,T,d,A,g[v+1],5,-165796510),A=f(A,$,T,d,g[v+6],9,-1069501632),d=f(d,A,$,T,g[v+11],14,643717713),T=f(T,d,A,$,g[v],20,-373897302),$=f($,T,d,A,g[v+5],5,-701558691),A=f(A,$,T,d,g[v+10],9,38016083),d=f(d,A,$,T,g[v+15],14,-660478335),T=f(T,d,A,$,g[v+4],20,-405537848),$=f($,T,d,A,g[v+9],5,568446438),A=f(A,$,T,d,g[v+14],9,-1019803690),d=f(d,A,$,T,g[v+3],14,-187363961),T=f(T,d,A,$,g[v+8],20,1163531501),$=f($,T,d,A,g[v+13],5,-1444681467),A=f(A,$,T,d,g[v+2],9,-51403784),d=f(d,A,$,T,g[v+7],14,1735328473),T=f(T,d,A,$,g[v+12],20,-1926607734),$=c($,T,d,A,g[v+5],4,-378558),A=c(A,$,T,d,g[v+8],11,-2022574463),d=c(d,A,$,T,g[v+11],16,1839030562),T=c(T,d,A,$,g[v+14],23,-35309556),$=c($,T,d,A,g[v+1],4,-1530992060),A=c(A,$,T,d,g[v+4],11,1272893353),d=c(d,A,$,T,g[v+7],16,-155497632),T=c(T,d,A,$,g[v+10],23,-1094730640),$=c($,T,d,A,g[v+13],4,681279174),A=c(A,$,T,d,g[v],11,-358537222),d=c(d,A,$,T,g[v+3],16,-722521979),T=c(T,d,A,$,g[v+6],23,76029189),$=c($,T,d,A,g[v+9],4,-640364487),A=c(A,$,T,d,g[v+12],11,-421815835),d=c(d,A,$,T,g[v+15],16,530742520),T=c(T,d,A,$,g[v+2],23,-995338651),$=p($,T,d,A,g[v],6,-198630844),A=p(A,$,T,d,g[v+7],10,1126891415),d=p(d,A,$,T,g[v+14],15,-1416354905),T=p(T,d,A,$,g[v+5],21,-57434055),$=p($,T,d,A,g[v+12],6,1700485571),A=p(A,$,T,d,g[v+3],10,-1894986606),d=p(d,A,$,T,g[v+10],15,-1051523),T=p(T,d,A,$,g[v+1],21,-2054922799),$=p($,T,d,A,g[v+8],6,1873313359),A=p(A,$,T,d,g[v+15],10,-30611744),d=p(d,A,$,T,g[v+6],15,-1560198380),T=p(T,d,A,$,g[v+13],21,1309151649),$=p($,T,d,A,g[v+4],6,-145523070),A=p(A,$,T,d,g[v+11],10,-1120210379),d=p(d,A,$,T,g[v+2],15,718787259),T=p(T,d,A,$,g[v+9],21,-343485551),$=a($,h),T=a(T,E),d=a(d,y),A=a(A,S);return[$,T,d,A]}function o(g){var _,v=[];for(v[(g.length>>2)-1]=void 0,_=0;_<v.length;_+=1)v[_]=0;var h=g.length*8;for(_=0;_<h;_+=8)v[_>>5]|=(g[_/8]&255)<<_%32;return v}function a(g,_){var v=(g&65535)+(_&65535),h=(g>>16)+(_>>16)+(v>>16);return h<<16|v&65535}function s(g,_){return g<<_|g>>>32-_}function l(g,_,v,h,E,y){return a(s(a(a(_,g),a(h,y)),E),v)}function u(g,_,v,h,E,y,S){return l(_&v|~_&h,g,_,E,y,S)}function f(g,_,v,h,E,y,S){return l(_&h|v&~h,g,_,E,y,S)}function c(g,_,v,h,E,y,S){return l(_^v^h,g,_,E,y,S)}function p(g,_,v,h,E,y,S){return l(v^(_|~h),g,_,E,y,S)}var m=r;e.default=m,t.exports=e.default}}),Jre=Pe({"../../node_modules/uuid/dist/v3.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(Tq()),n=i(Kre());function i(s){return s&&s.__esModule?s:{default:s}}var o=(0,r.default)("v3",48,n.default),a=o;e.default=a,t.exports=e.default}}),Yre=Pe({"../../node_modules/uuid/dist/v4.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i($q()),n=i(nI());function i(s){return s&&s.__esModule?s:{default:s}}function o(s,l,u){var f=l&&u||0;typeof s=="string"&&(l=s==="binary"?new Array(16):null,s=null),s=s||{};var c=s.random||(s.rng||r.default)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,l)for(var p=0;p<16;++p)l[f+p]=c[p];return l||(0,n.default)(c)}var a=o;e.default=a,t.exports=e.default}}),Xre=Pe({"../../node_modules/uuid/dist/sha1-browser.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(a,s,l,u){switch(a){case 0:return s&l^~s&u;case 1:return s^l^u;case 2:return s&l^s&u^l&u;case 3:return s^l^u}}function n(a,s){return a<<s|a>>>32-s}function i(a){var s=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){var u=unescape(encodeURIComponent(a));a=new Array(u.length);for(var f=0;f<u.length;f++)a[f]=u.charCodeAt(f)}a.push(128);for(var c=a.length/4+2,p=Math.ceil(c/16),m=new Array(p),f=0;f<p;f++){m[f]=new Array(16);for(var g=0;g<16;g++)m[f][g]=a[f*64+g*4]<<24|a[f*64+g*4+1]<<16|a[f*64+g*4+2]<<8|a[f*64+g*4+3]}m[p-1][14]=(a.length-1)*8/Math.pow(2,32),m[p-1][14]=Math.floor(m[p-1][14]),m[p-1][15]=(a.length-1)*8&4294967295;for(var f=0;f<p;f++){for(var _=new Array(80),v=0;v<16;v++)_[v]=m[f][v];for(var v=16;v<80;v++)_[v]=n(_[v-3]^_[v-8]^_[v-14]^_[v-16],1);for(var h=l[0],E=l[1],y=l[2],S=l[3],$=l[4],v=0;v<80;v++){var T=Math.floor(v/20),d=n(h,5)+r(T,E,y,S)+$+s[T]+_[v]>>>0;$=S,S=y,y=n(E,30)>>>0,E=h,h=d}l[0]=l[0]+h>>>0,l[1]=l[1]+E>>>0,l[2]=l[2]+y>>>0,l[3]=l[3]+S>>>0,l[4]=l[4]+$>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,l[0]&255,l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,l[1]&255,l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,l[2]&255,l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,l[3]&255,l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,l[4]&255]}var o=i;e.default=o,t.exports=e.default}}),Qre=Pe({"../../node_modules/uuid/dist/v5.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(Tq()),n=i(Xre());function i(s){return s&&s.__esModule?s:{default:s}}var o=(0,r.default)("v5",80,n.default),a=o;e.default=a,t.exports=e.default}}),Zre=Pe({"../../node_modules/uuid/dist/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return i.default}});var t=o(Gre()),r=o(Jre()),n=o(Yre()),i=o(Qre());function o(a){return a&&a.__esModule?a:{default:a}}}}),ene=Pe({"../core/dist/servient.js"(e){Te();var t=e&&e.__classPrivateFieldGet||function(g,_,v,h){if(v==="a"&&!h)throw new TypeError("Private accessor was defined without a getter");if(typeof _=="function"?g!==_||!h:!_.has(g))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?h:v==="a"?h.call(g):h?h.value:_.get(g)},r=e&&e.__classPrivateFieldSet||function(g,_,v,h,E){if(h==="m")throw new TypeError("Private method is not writable");if(h==="a"&&!E)throw new TypeError("Private accessor was defined without a setter");if(typeof _=="function"?g!==_||!E:!_.has(g))throw new TypeError("Cannot write private member to an object whose class did not declare it");return h==="a"?E.call(g,v):E?E.value=v:_.set(g,v),v},n=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}},i,o;Object.defineProperty(e,"__esModule",{value:!0});var a=n(Wre()),s=n(rl()),l=Zre(),u=No(),f=Co(),{debug:c,warn:p}=(0,u.createLoggers)("core","servient"),m=class{constructor(){this.servers=[],this.clientFactories=new Map,this.things=new Map,this.credentialStore=new Map,i.set(this,void 0),o.set(this,!1)}addMediaType(g,_=!1){s.default.addCodec(g,_)}expose(g){if(this.servers.length===0)return p("Servient has no servers to expose Things"),new Promise(h=>{h()});c(`Servient exposing '${g.title}'`);const _=f.Helpers.structuredClone(g);g.forms=[];for(const h of Object.values(g.properties))h.forms=[];for(const h of Object.values(g.actions))h.forms=[];for(const h of Object.values(g.events))h.forms=[];const v=[];return this.servers.forEach(h=>{v.push(h.expose(g,_))}),new Promise((h,E)=>{Promise.all(v).then(()=>h()).catch(y=>E(y))})}addThing(g){return g.id||(g.id="urn:uuid:"+(0,l.v4)(),p(`Servient generating ID for '${g.title}': '${g.id}'`)),this.things.has(g.id)?!1:(this.things.set(g.id,g),c(`Servient reset ID '${g.id}' with '${g.title}'`),!0)}destroyThing(g){return new Promise((_,v)=>{if(this.things.has(g)){c(`Servient destroying thing with id '${g}'`),this.things.delete(g);const h=[];this.servers.forEach(E=>{h.push(E.destroy(g))}),Promise.all(h).then(()=>_(!0)).catch(E=>v(E))}else p(`Servient was asked to destroy thing but failed to find thing with id '${g}'`),_(!1)})}getThing(g){if(this.things.has(g))return this.things.get(g)}getThings(){c(`Servient getThings size == '${this.things.size}'`);const g={};return this.things.forEach((_,v)=>{g[v]=_.getThingDescription()}),g}addServer(g){return this.things.forEach((_,v)=>g.expose(_)),this.servers.push(g),!0}getServers(){return this.servers.slice(0)}addClientFactory(g){c(`Servient adding client factory for '${g.scheme}'`),this.clientFactories.set(g.scheme,g)}removeClientFactory(g){var _;return c(`Servient removing client factory for '${g}'`),(_=this.clientFactories.get(g))==null||_.destroy(),this.clientFactories.delete(g)}hasClientFor(g){return c(`Servient checking for '${g}' scheme in ${this.clientFactories.size} ClientFactories`),this.clientFactories.has(g)}getClientFor(g){const _=this.clientFactories.get(g);if(_)return c(`Servient creating client for scheme '${g}'`),_.getClient();throw new Error(`Servient has no ClientFactory for scheme '${g}'`)}getClientSchemes(){return Array.from(this.clientFactories.keys())}addCredentials(g){for(const[_,v]of Object.entries(g??{})){c(`Servient storing credentials for '${_}'`);const h=this.credentialStore.get(_)??[];h.length===0&&this.credentialStore.set(_,h),h.push(v)}}getCredentials(g){c(`Servient looking up credentials for '${g}' (@deprecated)`);const _=this.credentialStore.get(g);if(_&&_.length>0)return _[0]}retrieveCredentials(g){return c(`Servient looking up credentials for '${g}'`),this.credentialStore.get(g)}async start(){if(t(this,i,"f")!==void 0)return c("Servient started already -> nop -> returning previous WoT implementation"),t(this,i,"f");if(t(this,o,"f"))throw Error("Servient cannot be started (again) since it was already stopped");const g=[];return this.servers.forEach(_=>g.push(_.start(this))),this.clientFactories.forEach(_=>_.init()),await Promise.all(g),r(this,i,new a.default(this),"f")}async shutdown(){if(t(this,i,"f")===void 0)throw Error("Servient cannot be shutdown, wasn't even started");if(t(this,o,"f")){c("Servient shutdown already -> nop");return}this.clientFactories.forEach(_=>_.destroy());const g=this.servers.map(_=>_.stop());await Promise.all(g),r(this,o,!0,"f"),r(this,i,void 0,"f")}};i=new WeakMap,o=new WeakMap,e.default=m}}),Co=Pe({"../core/dist/core.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(v,h,E,y){y===void 0&&(y=E);var S=Object.getOwnPropertyDescriptor(h,E);(!S||("get"in S?!h.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return h[E]}}),Object.defineProperty(v,y,S)}:function(v,h,E,y){y===void 0&&(y=E),v[y]=h[E]}),r=e&&e.__exportStar||function(v,h){for(var E in v)E!=="default"&&!Object.prototype.hasOwnProperty.call(h,E)&&t(h,v,E)},n=e&&e.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.createWarnLogger=e.createInfoLogger=e.createErrorLogger=e.createDebugLogger=e.createLoggers=e.ProtocolHelpers=e.Helpers=e.ExposedThing=e.ConsumedThing=e.DefaultContent=e.Content=e.NetconfOctetstreamCodecCodec=e.Base64Codec=e.TextCodec=e.CborCodec=e.JsonCodec=e.Servient=void 0;var i=n(ene());e.Servient=i.default,e.default=i.default,r(vg(),e),r(SR(),e),r(rl(),e);var o=Q6();Object.defineProperty(e,"JsonCodec",{enumerable:!0,get:function(){return n(o).default}});var a=X6();Object.defineProperty(e,"CborCodec",{enumerable:!0,get:function(){return n(a).default}});var s=Z6();Object.defineProperty(e,"TextCodec",{enumerable:!0,get:function(){return n(s).default}});var l=eq();Object.defineProperty(e,"Base64Codec",{enumerable:!0,get:function(){return n(l).default}});var u=iq();Object.defineProperty(e,"NetconfOctetstreamCodecCodec",{enumerable:!0,get:function(){return n(u).default}}),r(nq(),e);var f=W6();Object.defineProperty(e,"Content",{enumerable:!0,get:function(){return f.Content}}),Object.defineProperty(e,"DefaultContent",{enumerable:!0,get:function(){return f.DefaultContent}});var c=Sq();Object.defineProperty(e,"ConsumedThing",{enumerable:!0,get:function(){return n(c).default}});var p=Eq();Object.defineProperty(e,"ExposedThing",{enumerable:!0,get:function(){return n(p).default}});var m=Tg();Object.defineProperty(e,"Helpers",{enumerable:!0,get:function(){return n(m).default}});var g=GR();Object.defineProperty(e,"ProtocolHelpers",{enumerable:!0,get:function(){return n(g).default}});var _=No();Object.defineProperty(e,"createLoggers",{enumerable:!0,get:function(){return _.createLoggers}}),Object.defineProperty(e,"createDebugLogger",{enumerable:!0,get:function(){return _.createDebugLogger}}),Object.defineProperty(e,"createErrorLogger",{enumerable:!0,get:function(){return _.createErrorLogger}}),Object.defineProperty(e,"createInfoLogger",{enumerable:!0,get:function(){return _.createInfoLogger}}),Object.defineProperty(e,"createWarnLogger",{enumerable:!0,get:function(){return _.createWarnLogger}})}});/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-B738Er4n.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

web-streams-polyfill/dist/ponyfill.js:
  (**
   * @license
   * web-streams-polyfill v4.1.0
   * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

content-type/index.js:
  (*!
   * content-type
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/var iI=Pe({"../../node_modules/node-fetch/browser.js"(e,t){Te();var r=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},n=r();t.exports=e=n.fetch,n.fetch&&(e.default=n.fetch.bind(n)),e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response}}),tne=Pe({"../../node_modules/rxjs/util/isArray.js"(e){Te(),e.isArray=Array.isArray||function(t){return t&&typeof t.length=="number"}}}),rne=Pe({"../../node_modules/rxjs/util/isObject.js"(e){Te();function t(r){return r!=null&&typeof r=="object"}e.isObject=t}}),nne=Pe({"../../node_modules/rxjs/util/isFunction.js"(e){Te();function t(r){return typeof r=="function"}e.isFunction=t}}),Aq=Pe({"../../node_modules/rxjs/util/errorObject.js"(e){Te(),e.errorObject={e:{}}}}),ine=Pe({"../../node_modules/rxjs/util/tryCatch.js"(e){Te();var t=Aq(),r;function n(){try{return r.apply(this,arguments)}catch(o){return t.errorObject.e=o,t.errorObject}}function i(o){return r=o,n}e.tryCatch=i}}),one=Pe({"../../node_modules/rxjs/util/UnsubscriptionError.js"(e){Te();var t=e&&e.__extends||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o]);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},r=function(n){t(i,n);function i(o){n.call(this),this.errors=o;var a=Error.call(this,o?o.length+` errors occurred during unsubscription:
  `+o.map(function(s,l){return l+1+") "+s.toString()}).join(`
  `):"");this.name=a.name="UnsubscriptionError",this.stack=a.stack,this.message=a.message}return i}(Error);e.UnsubscriptionError=r}}),ane=Pe({"../../node_modules/rxjs/Subscription.js"(e){Te();var t=tne(),r=rne(),n=nne(),i=ine(),o=Aq(),a=one(),s=function(){function u(f){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,f&&(this._unsubscribe=f)}return u.prototype.unsubscribe=function(){var f=!1,c;if(!this.closed){var p=this,m=p._parent,g=p._parents,_=p._unsubscribe,v=p._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,E=g?g.length:0;m;)m.remove(this),m=++h<E&&g[h]||null;if(n.isFunction(_)){var y=i.tryCatch(_).call(this);y===o.errorObject&&(f=!0,c=c||(o.errorObject.e instanceof a.UnsubscriptionError?l(o.errorObject.e.errors):[o.errorObject.e]))}if(t.isArray(v))for(h=-1,E=v.length;++h<E;){var S=v[h];if(r.isObject(S)){var y=i.tryCatch(S.unsubscribe).call(S);if(y===o.errorObject){f=!0,c=c||[];var $=o.errorObject.e;$ instanceof a.UnsubscriptionError?c=c.concat(l($.errors)):c.push($)}}}if(f)throw new a.UnsubscriptionError(c)}},u.prototype.add=function(f){if(!f||f===u.EMPTY)return u.EMPTY;if(f===this)return this;var c=f;switch(typeof f){case"function":c=new u(f);case"object":if(c.closed||typeof c.unsubscribe!="function")return c;if(this.closed)return c.unsubscribe(),c;if(typeof c._addParent!="function"){var p=c;c=new u,c._subscriptions=[p]}break;default:throw new Error("unrecognized teardown "+f+" added to Subscription.")}var m=this._subscriptions||(this._subscriptions=[]);return m.push(c),c._addParent(this),c},u.prototype.remove=function(f){var c=this._subscriptions;if(c){var p=c.indexOf(f);p!==-1&&c.splice(p,1)}},u.prototype._addParent=function(f){var c=this,p=c._parent,m=c._parents;!p||p===f?this._parent=f:m?m.indexOf(f)===-1&&m.push(f):this._parents=[f]},u.EMPTY=function(f){return f.closed=!0,f}(new u),u}();e.Subscription=s;function l(u){return u.reduce(function(f,c){return f.concat(c instanceof a.UnsubscriptionError?c.errors:c)},[])}}}),sne=Pe({"(disabled):../../node_modules/client-oauth2/node_modules/safe-buffer/index.js"(){Te()}}),xq={};tl(xq,{decode:()=>Pq,default:()=>Ns,encode:()=>Oq,parse:()=>Rq,stringify:()=>Iq});function lne(){if(Gx)return bw;Gx=!0;function e(t,r){return Object.prototype.hasOwnProperty.call(t,r)}return bw=function(t,r,n,i){r=r||"&",n=n||"=";var o={};if(typeof t!="string"||t.length===0)return o;var a=/\+/g;t=t.split(r);var s=1e3;i&&typeof i.maxKeys=="number"&&(s=i.maxKeys);var l=t.length;s>0&&l>s&&(l=s);for(var u=0;u<l;++u){var f=t[u].replace(a,"%20"),c=f.indexOf(n),p,m,g,_;c>=0?(p=f.substr(0,c),m=f.substr(c+1)):(p=f,m=""),g=decodeURIComponent(p),_=decodeURIComponent(m),e(o,g)?Array.isArray(o[g])?o[g].push(_):o[g]=[o[g],_]:o[g]=_}return o},bw}function une(){if(Kx)return _w;Kx=!0;var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};return _w=function(t,r,n,i){return r=r||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(o){var a=encodeURIComponent(e(o))+n;return Array.isArray(t[o])?t[o].map(function(s){return a+encodeURIComponent(e(s))}).join(r):a+encodeURIComponent(e(t[o]))}).filter(Boolean).join(r):i?encodeURIComponent(e(i))+n+encodeURIComponent(e(t)):""},_w}function cne(){return Jx||(Jx=!0,qc.decode=qc.parse=lne(),qc.encode=qc.stringify=une()),qc}var bw,Gx,_w,Kx,qc,Jx,Ns,Pq,Oq,Rq,Iq,fne=nn({"../../node_modules/@jspm/core/nodelibs/browser/querystring.js"(){Te(),bw={},Gx=!1,_w={},Kx=!1,qc={},Jx=!1,Ns=cne(),Ns.decode,Ns.parse,Ns.encode,Ns.stringify,Pq=Ns.decode,Oq=Ns.encode,Rq=Ns.parse,Iq=Ns.stringify}}),dne=Pe({"../../node_modules/client-oauth2/src/request/browser.js"(e,t){Te(),t.exports=function(n,i,o,a){return new Promise(function(s,l){var u=new window.XMLHttpRequest;u.open(n,i),u.onload=function(){return s({status:u.status,body:u.responseText})},u.onerror=u.onabort=function(){return l(new Error(u.statusText||"XHR aborted: "+i))},Object.keys(a).forEach(function(f){u.setRequestHeader(f,a[f])}),u.send(o)})}}}),hne=Pe({"../../node_modules/client-oauth2/src/client-oauth2.js"(e,t){Te();var r=sne().Buffer,n=(fne(),Pr(xq)),i=dne(),o="https://example.org/",a;typeof r=="function"?a=u:a=window.btoa.bind(window),t.exports=E;var s={Accept:"application/json, application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},l={invalid_request:["The request is missing a required parameter, includes an","invalid parameter value, includes a parameter more than","once, or is otherwise malformed."].join(" "),invalid_client:["Client authentication failed (e.g., unknown client, no","client authentication included, or unsupported","authentication method)."].join(" "),invalid_grant:["The provided authorization grant (e.g., authorization","code, resource owner credentials) or refresh token is","invalid, expired, revoked, does not match the redirection","URI used in the authorization request, or was issued to","another client."].join(" "),unauthorized_client:["The client is not authorized to request an authorization","code using this method."].join(" "),unsupported_grant_type:["The authorization grant type is not supported by the","authorization server."].join(" "),access_denied:["The resource owner or authorization server denied the request."].join(" "),unsupported_response_type:["The authorization server does not support obtaining","an authorization code using this method."].join(" "),invalid_scope:["The requested scope is invalid, unknown, or malformed."].join(" "),server_error:["The authorization server encountered an unexpected","condition that prevented it from fulfilling the request.","(This error code is needed because a 500 Internal Server","Error HTTP status code cannot be returned to the client","via an HTTP redirect.)"].join(" "),temporarily_unavailable:["The authorization server is currently unable to handle","the request due to a temporary overloading or maintenance","of the server."].join(" ")};function u(x){return r.from(x).toString("base64")}function f(x){for(var P=1;P<arguments.length;P++){var j=arguments[P];if(x[j]==null)throw new TypeError('Expected "'+j+'" to exist')}}function c(x){var P=l[x.error]||x.error_description||x.error;if(P){var j=new Error(P);return j.body=x,j.code="EAUTH",j}}function p(x){try{return JSON.parse(x)}catch{return n.parse(x)}}function m(x){return Array.isArray(x)?x.join(" "):v(x)}function g(x,P){f(x,"clientId","authorizationUri");const j={client_id:x.clientId,redirect_uri:x.redirectUri,response_type:P,state:x.state};x.scopes!==void 0&&(j.scope=m(x.scopes));const F=x.authorizationUri.includes("?")?"&":"?";return x.authorizationUri+F+n.stringify(Object.assign(j,x.query))}function _(x,P){return"Basic "+a(v(x)+":"+v(P))}function v(x){return x==null?"":String(x)}function h(x,P){return{url:x.url,method:x.method,body:Object.assign({},x.body,P.body),query:Object.assign({},x.query,P.query),headers:Object.assign({},x.headers,P.headers)}}function E(x,P){this.options=x,this.request=P||i,this.code=new d(this),this.token=new $(this),this.owner=new S(this),this.credentials=new T(this),this.jwt=new A(this)}E.Token=y,E.prototype.createToken=function(x,P,j,F){var V=Object.assign({},F,typeof x=="string"?{access_token:x}:x,typeof P=="string"?{refresh_token:P}:P,typeof j=="string"?{token_type:j}:j);return new E.Token(this,V)},E.prototype._request=function(x){var P=x.url,j=n.stringify(x.body),F=n.stringify(x.query);return F&&(P+=(P.indexOf("?")===-1?"?":"&")+F),this.request(x.method,P,j,x.headers).then(function(V){var X=p(V.body),H=c(X);if(H)return Promise.reject(H);if(V.status<200||V.status>=399){var Z=new Error("HTTP status "+V.status);return Z.status=V.status,Z.body=V.body,Z.code="ESTATUS",Promise.reject(Z)}return X})};function y(x,P){this.client=x,this.data=P,this.tokenType=P.token_type&&P.token_type.toLowerCase(),this.accessToken=P.access_token,this.refreshToken=P.refresh_token,this.expiresIn(Number(P.expires_in))}y.prototype.expiresIn=function(x){if(typeof x=="number")this.expires=new Date,this.expires.setSeconds(this.expires.getSeconds()+x);else if(x instanceof Date)this.expires=new Date(x.getTime());else throw new TypeError("Unknown duration: "+x);return this.expires},y.prototype.sign=function(x){if(!this.accessToken)throw new Error("Unable to sign without access token");if(x.headers=x.headers||{},this.tokenType==="bearer")x.headers.Authorization="Bearer "+this.accessToken;else{var P=x.url.split("#"),j="access_token="+this.accessToken,F=P[0].replace(/[?&]access_token=[^&#]/,""),V=P[1]?"#"+P[1]:"";x.url=F+(F.indexOf("?")>-1?"&":"?")+j+V,x.headers.Pragma="no-store",x.headers["Cache-Control"]="no-store"}return x},y.prototype.refresh=function(x){var P=this,j=Object.assign({},this.client.options,x);return this.refreshToken?this.client._request(h({url:j.accessTokenUri,method:"POST",headers:Object.assign({},s,{Authorization:_(j.clientId,j.clientSecret)}),body:{refresh_token:this.refreshToken,grant_type:"refresh_token"}},j)).then(function(F){return P.client.createToken(Object.assign({},P.data,F))}):Promise.reject(new Error("No refresh token"))},y.prototype.expired=function(){return Date.now()>this.expires.getTime()};function S(x){this.client=x}S.prototype.getToken=function(x,P,j){var F=this,V=Object.assign({},this.client.options,j);const X={username:x,password:P,grant_type:"password"};return V.scopes!==void 0&&(X.scope=m(V.scopes)),this.client._request(h({url:V.accessTokenUri,method:"POST",headers:Object.assign({},s,{Authorization:_(V.clientId,V.clientSecret)}),body:X},V)).then(function(H){return F.client.createToken(H)})};function $(x){this.client=x}$.prototype.getUri=function(x){var P=Object.assign({},this.client.options,x);return g(P,"token")},$.prototype.getToken=function(x,P){var j=Object.assign({},this.client.options,P),F=typeof x=="object"?x:new URL(x,o),V=new URL(j.redirectUri,o);if(typeof F.pathname=="string"&&F.pathname!==V.pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+F.pathname));if(!F.hash&&!F.search)return Promise.reject(new TypeError("Unable to process uri: "+x));var X=Object.assign({},typeof F.search=="string"?n.parse(F.search.substr(1)):F.search||{},typeof F.hash=="string"?n.parse(F.hash.substr(1)):F.hash||{}),H=c(X);return H?Promise.reject(H):j.state!=null&&X.state!==j.state?Promise.reject(new TypeError("Invalid state: "+X.state)):Promise.resolve(this.client.createToken(X))};function T(x){this.client=x}T.prototype.getToken=function(x){var P=this,j=Object.assign({},this.client.options,x);f(j,"clientId","clientSecret","accessTokenUri");const F={grant_type:"client_credentials"};return j.scopes!==void 0&&(F.scope=m(j.scopes)),this.client._request(h({url:j.accessTokenUri,method:"POST",headers:Object.assign({},s,{Authorization:_(j.clientId,j.clientSecret)}),body:F},j)).then(function(V){return P.client.createToken(V)})};function d(x){this.client=x}d.prototype.getUri=function(x){var P=Object.assign({},this.client.options,x);return g(P,"code")},d.prototype.getToken=function(x,P){var j=this,F=Object.assign({},this.client.options,P);f(F,"clientId","accessTokenUri");var V=typeof x=="object"?x:new URL(x,o);if(typeof F.redirectUri=="string"&&typeof V.pathname=="string"&&V.pathname!==new URL(F.redirectUri,o).pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+V.pathname));if(!V.search||!V.search.substr(1))return Promise.reject(new TypeError("Unable to process uri: "+x));var X=typeof V.search=="string"?n.parse(V.search.substr(1)):V.search||{},H=c(X);if(H)return Promise.reject(H);if(F.state!=null&&X.state!==F.state)return Promise.reject(new TypeError("Invalid state: "+X.state));if(!X.code)return Promise.reject(new TypeError("Missing code, unable to request token"));var Z=Object.assign({},s),fe={code:X.code,grant_type:"authorization_code",redirect_uri:F.redirectUri};return F.clientSecret?Z.Authorization=_(F.clientId,F.clientSecret):fe.client_id=F.clientId,this.client._request(h({url:F.accessTokenUri,method:"POST",headers:Z,body:fe},F)).then(function(ee){return j.client.createToken(ee)})};function A(x){this.client=x}A.prototype.getToken=function(x,P){var j=this,F=Object.assign({},this.client.options,P),V=Object.assign({},s);f(F,"accessTokenUri"),F.clientId&&(V.Authorization=_(F.clientId,F.clientSecret));const X={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:x};return F.scopes!==void 0&&(X.scope=m(F.scopes)),this.client._request(h({url:F.accessTokenUri,method:"POST",headers:V,body:X},F)).then(function(H){return j.client.createToken(H)})}}}),pne=Pe({"../../node_modules/strict-uri-encode/index.js"(e,t){Te(),t.exports=r=>encodeURIComponent(r).replace(/[!'()*]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`)}}),mne=Pe({"../../node_modules/decode-uri-component/index.js"(e,t){Te();var r="%[a-f0-9]{2}",n=new RegExp("("+r+")|([^%]+?)","gi"),i=new RegExp("("+r+")+","gi");function o(l,u){try{return[decodeURIComponent(l.join(""))]}catch{}if(l.length===1)return l;u=u||1;var f=l.slice(0,u),c=l.slice(u);return Array.prototype.concat.call([],o(f),o(c))}function a(l){try{return decodeURIComponent(l)}catch{for(var u=l.match(n)||[],f=1;f<u.length;f++)l=o(u,f).join(""),u=l.match(n)||[];return l}}function s(l){for(var u={"%FE%FF":"","%FF%FE":""},f=i.exec(l);f;){try{u[f[0]]=decodeURIComponent(f[0])}catch{var c=a(f[0]);c!==f[0]&&(u[f[0]]=c)}f=i.exec(l)}u["%C2"]="";for(var p=Object.keys(u),m=0;m<p.length;m++){var g=p[m];l=l.replace(new RegExp(g,"g"),u[g])}return l}t.exports=function(l){if(typeof l!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof l+"`");try{return l=l.replace(/\+/g," "),decodeURIComponent(l)}catch{return s(l)}}}}),gne=Pe({"../../node_modules/split-on-first/index.js"(e,t){Te(),t.exports=(r,n)=>{if(!(typeof r=="string"&&typeof n=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(n==="")return[r];const i=r.indexOf(n);return i===-1?[r]:[r.slice(0,i),r.slice(i+n.length)]}}}),vne=Pe({"../../node_modules/filter-obj/index.js"(e,t){Te(),t.exports=function(r,n){for(var i={},o=Object.keys(r),a=Array.isArray(n),s=0;s<o.length;s++){var l=o[s],u=r[l];(a?n.indexOf(l)!==-1:n(l,u,r))&&(i[l]=u)}return i}}}),yne=Pe({"../../node_modules/query-string/index.js"(e){Te();var t=pne(),r=mne(),n=gne(),i=vne(),o=E=>E==null,a=Symbol("encodeFragmentIdentifier");function s(E){switch(E.arrayFormat){case"index":return y=>(S,$)=>{const T=S.length;return $===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?S:$===null?[...S,[f(y,E),"[",T,"]"].join("")]:[...S,[f(y,E),"[",f(T,E),"]=",f($,E)].join("")]};case"bracket":return y=>(S,$)=>$===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?S:$===null?[...S,[f(y,E),"[]"].join("")]:[...S,[f(y,E),"[]=",f($,E)].join("")];case"colon-list-separator":return y=>(S,$)=>$===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?S:$===null?[...S,[f(y,E),":list="].join("")]:[...S,[f(y,E),":list=",f($,E)].join("")];case"comma":case"separator":case"bracket-separator":{const y=E.arrayFormat==="bracket-separator"?"[]=":"=";return S=>($,T)=>T===void 0||E.skipNull&&T===null||E.skipEmptyString&&T===""?$:(T=T===null?"":T,$.length===0?[[f(S,E),y,f(T,E)].join("")]:[[$,f(T,E)].join(E.arrayFormatSeparator)])}default:return y=>(S,$)=>$===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?S:$===null?[...S,f(y,E)]:[...S,[f(y,E),"=",f($,E)].join("")]}}function l(E){let y;switch(E.arrayFormat){case"index":return(S,$,T)=>{if(y=/\[(\d*)\]$/.exec(S),S=S.replace(/\[\d*\]$/,""),!y){T[S]=$;return}T[S]===void 0&&(T[S]={}),T[S][y[1]]=$};case"bracket":return(S,$,T)=>{if(y=/(\[\])$/.exec(S),S=S.replace(/\[\]$/,""),!y){T[S]=$;return}if(T[S]===void 0){T[S]=[$];return}T[S]=[].concat(T[S],$)};case"colon-list-separator":return(S,$,T)=>{if(y=/(:list)$/.exec(S),S=S.replace(/:list$/,""),!y){T[S]=$;return}if(T[S]===void 0){T[S]=[$];return}T[S]=[].concat(T[S],$)};case"comma":case"separator":return(S,$,T)=>{const d=typeof $=="string"&&$.includes(E.arrayFormatSeparator),A=typeof $=="string"&&!d&&c($,E).includes(E.arrayFormatSeparator);$=A?c($,E):$;const x=d||A?$.split(E.arrayFormatSeparator).map(P=>c(P,E)):$===null?$:c($,E);T[S]=x};case"bracket-separator":return(S,$,T)=>{const d=/(\[\])$/.test(S);if(S=S.replace(/\[\]$/,""),!d){T[S]=$&&c($,E);return}const A=$===null?[]:$.split(E.arrayFormatSeparator).map(x=>c(x,E));if(T[S]===void 0){T[S]=A;return}T[S]=[].concat(T[S],A)};default:return(S,$,T)=>{if(T[S]===void 0){T[S]=$;return}T[S]=[].concat(T[S],$)}}}function u(E){if(typeof E!="string"||E.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function f(E,y){return y.encode?y.strict?t(E):encodeURIComponent(E):E}function c(E,y){return y.decode?r(E):E}function p(E){return Array.isArray(E)?E.sort():typeof E=="object"?p(Object.keys(E)).sort((y,S)=>Number(y)-Number(S)).map(y=>E[y]):E}function m(E){const y=E.indexOf("#");return y!==-1&&(E=E.slice(0,y)),E}function g(E){let y="";const S=E.indexOf("#");return S!==-1&&(y=E.slice(S)),y}function _(E){E=m(E);const y=E.indexOf("?");return y===-1?"":E.slice(y+1)}function v(E,y){return y.parseNumbers&&!Number.isNaN(Number(E))&&typeof E=="string"&&E.trim()!==""?E=Number(E):y.parseBooleans&&E!==null&&(E.toLowerCase()==="true"||E.toLowerCase()==="false")&&(E=E.toLowerCase()==="true"),E}function h(E,y){y=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},y),u(y.arrayFormatSeparator);const S=l(y),$=Object.create(null);if(typeof E!="string"||(E=E.trim().replace(/^[?#&]/,""),!E))return $;for(const T of E.split("&")){if(T==="")continue;let[d,A]=n(y.decode?T.replace(/\+/g," "):T,"=");A=A===void 0?null:["comma","separator","bracket-separator"].includes(y.arrayFormat)?A:c(A,y),S(c(d,y),A,$)}for(const T of Object.keys($)){const d=$[T];if(typeof d=="object"&&d!==null)for(const A of Object.keys(d))d[A]=v(d[A],y);else $[T]=v(d,y)}return y.sort===!1?$:(y.sort===!0?Object.keys($).sort():Object.keys($).sort(y.sort)).reduce((T,d)=>{const A=$[d];return A&&typeof A=="object"&&!Array.isArray(A)?T[d]=p(A):T[d]=A,T},Object.create(null))}e.extract=_,e.parse=h,e.stringify=(E,y)=>{if(!E)return"";y=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},y),u(y.arrayFormatSeparator);const S=A=>y.skipNull&&o(E[A])||y.skipEmptyString&&E[A]==="",$=s(y),T={};for(const A of Object.keys(E))S(A)||(T[A]=E[A]);const d=Object.keys(T);return y.sort!==!1&&d.sort(y.sort),d.map(A=>{const x=E[A];return x===void 0?"":x===null?f(A,y):Array.isArray(x)?x.length===0&&y.arrayFormat==="bracket-separator"?f(A,y)+"[]":x.reduce($(A),[]).join("&"):f(A,y)+"="+f(x,y)}).filter(A=>A.length>0).join("&")},e.parseUrl=(E,y)=>{y=Object.assign({decode:!0},y);const[S,$]=n(E,"#");return Object.assign({url:S.split("?")[0]||"",query:h(_(E),y)},y&&y.parseFragmentIdentifier&&$?{fragmentIdentifier:c($,y)}:{})},e.stringifyUrl=(E,y)=>{y=Object.assign({encode:!0,strict:!0,[a]:!0},y);const S=m(E.url).split("?")[0]||"",$=e.extract(E.url),T=e.parse($,{sort:!1}),d=Object.assign(T,E.query);let A=e.stringify(d,y);A&&(A=`?${A}`);let x=g(E.url);return E.fragmentIdentifier&&(x=`#${y[a]?f(E.fragmentIdentifier,y):E.fragmentIdentifier}`),`${S}${A}${x}`},e.pick=(E,y,S)=>{S=Object.assign({parseFragmentIdentifier:!0,[a]:!1},S);const{url:$,query:T,fragmentIdentifier:d}=e.parseUrl(E,S);return e.stringifyUrl({url:$,query:i(T,y),fragmentIdentifier:d},S)},e.exclude=(E,y,S)=>{const $=Array.isArray(y)?T=>!y.includes(T):(T,d)=>!y(T,d);return e.pick(E,$,S)}}}),Nq=Pe({"../binding-http/dist/credential.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(m,g,_,v){v===void 0&&(v=_);var h=Object.getOwnPropertyDescriptor(g,_);(!h||("get"in h?!g.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return g[_]}}),Object.defineProperty(m,v,h)}:function(m,g,_,v){v===void 0&&(v=_),m[v]=g[_]}),r=e&&e.__setModuleDefault||(Object.create?function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}:function(m,g){m.default=g}),n=e&&e.__importStar||function(){var m=function(g){return m=Object.getOwnPropertyNames||function(_){var v=[];for(var h in _)Object.prototype.hasOwnProperty.call(_,h)&&(v[v.length]=h);return v},m(g)};return function(g){if(g&&g.__esModule)return g;var _={};if(g!=null)for(var v=m(g),h=0;h<v.length;h++)v[h]!=="default"&&t(_,g,v[h]);return r(_,g),_}}();Object.defineProperty(e,"__esModule",{value:!0}),e.TuyaCustomBearer=e.OAuthCredential=e.BasicKeyCredential=e.BearerCredential=e.BasicCredential=e.Credential=void 0;var i=n(iI()),o=n((Hz(),Pr(DR))),a=n(yne()),s=class{};e.Credential=s;var l=class extends s{constructor({username:m,password:g},_){if(super(),m===void 0||g===void 0||m===null||g===null)throw new Error("No Basic credentials for Thing");this.username=m,this.password=g,this.options=_}async sign(m){const g=m.clone();let _="authorization";return this.options!==void 0&&this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),g.headers.set(_,"Basic "+Yr.from(this.username+":"+this.password).toString("base64")),g}};e.BasicCredential=l;var u=class extends s{constructor({token:m},g){if(super(),m==null)throw new Error("No Bearer credentials for Thing");this.token=m,this.options=g}async sign(m){const g=m.clone();let _="authorization";return this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),g.headers.set(_,"Bearer "+this.token),g}};e.BearerCredential=u;var f=class extends s{constructor({apiKey:m},g){if(super(),m==null)throw new Error("No API key credentials for Thing");this.apiKey=m,this.options=g}async sign(m){const g=m.clone();let _="authorization";return this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),g.headers.append(_,this.apiKey),g}};e.BasicKeyCredential=f;var c=class kq extends s{constructor(g,_){super(),this.token=g,this.refresh=_,this.token=g}async sign(g){if(this.token instanceof Promise){const h=this.token;this.token=await h}let _={url:g.url,headers:{}};return _=this.token.sign(_),new i.Request(g,_)}async refreshToken(){if(this.token instanceof Promise)throw new Error("Uninitialized token. You have to call sing before refresh");let g;return this.refresh?g=await this.refresh():g=await this.token.refresh(),new kq(g,this.refresh)}};e.OAuthCredential=c;var p=class extends s{constructor(m,g){super(),this.key=m.key,this.secret=m.secret,this.baseUri=g.baseUri}async sign(m){var y;const g=this.isTokenExpired();(this.token===void 0||this.token===""||g)&&await this.requestAndRefreshToken(g);const _=m.url,v=(y=m.body)==null?void 0:y.read().toString(),h=m.method,E=this.getHeaders(!0,m.headers.raw(),v,_,h);return Object.assign(E,m.headers.raw()),new i.Request(_,{method:h,body:v!==""?v:void 0,headers:E})}async requestAndRefreshToken(m){var y,S,$;const _={headers:this.getHeaders(!1,{}),method:"GET"};let v=`${this.baseUri}/token?grant_type=1`;m&&(v=`${this.baseUri}/token/${this.refreshToken}`);const h=await(await(0,i.default)(v,_)).json();if(h.success??!1){this.token=(y=h.result)==null?void 0:y.access_token,this.refreshToken=(S=h.result)==null?void 0:S.refresh_token;const T=($=h.result)==null?void 0:$.expire_time;T!=null&&(this.expireTime=new Date(Date.now()+T*1e3))}else throw new Error("token fetch failed")}getHeaders(m,g,_,v,h){const E=Date.now().toString(),y=this.baseUri.replace("/v1.0",""),S=v==null?void 0:v.replace(y,""),$=this.requestSign(m,E,_,S,h);return{t:E,client_id:this.key,sign_method:"HMAC-SHA256",sign:$,access_token:this.token??""}}requestSign(m,g,_,v="",h){const E=o.createHash("sha256").update(_??"").digest("hex");let y="/v1.0/token?grant_type=1";const S="";let $="";const T=h??"GET";if(m){$=this.token??"";const x=a.parse(v.split("?")[1]);let P={};P=Object.assign(P,x);const j={};Object.keys(P).sort().forEach(V=>{j[V]=P[V]});const F=a.stringify(j);y=decodeURIComponent(F?`${v.split("?")[0]}?${F}`:v)}const d=[this.key,$,g,[T,E,S,y].join(`
`)].join("");return o.createHmac("sha256",this.secret).update(d).digest("hex").toUpperCase()}isTokenExpired(){return this.expireTime?Date.now()>this.expireTime.getTime():!1}};e.TuyaCustomBearer=p}}),Cq=Pe({"../binding-http/dist/oauth-manager.js"(e){Te();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=Co(),n=t(hne()),i=(J_(),Pr(_g)),o=Nq();function a(l){return(u,f,c,p)=>new Promise((m,g)=>{const _=new URL(f),v={method:u,host:_.hostname,port:parseInt(_.port),path:_.pathname+_.search,headers:p};v.rejectUnauthorized=l;const h=(0,i.request)(v);h.on("response",E=>{E.setEncoding("utf8");const y=[];E.on("data",S=>{y.push(S)}),E.on("end",()=>{m({status:E.statusCode??500,body:y.toString()})})}),h.on("error",E=>{g(E)}),h.write(c),h.end()})}var s=class{constructor(){this.tokenStore=new Map}handleClient(l,u){const f=new n.default({clientId:u.clientId,clientSecret:u.clientSecret,accessTokenUri:l.token,scopes:r.Helpers.toStringArray(l.scopes),body:{}},a(!1)),c=f.credentials.getToken();return new o.OAuthCredential(c,f.credentials.getToken.bind(f.credentials))}handleResourceOwnerCredential(l,u){const c=new n.default({clientId:u.clientId,clientSecret:u.clientSecret,accessTokenUri:l.token,scopes:r.Helpers.toStringArray(l.scopes)},a(!1)).owner.getToken(u.username,u.password);return new o.OAuthCredential(c)}};e.default=s}});function wne(){if(Yx)return Ew;Yx=!0;const e=2147483647,t=36,r=1,n=26,i=38,o=700,a=72,s=128,l="-",u=/^xn--/,f=/[^\0-\x7F]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=t-r,g=Math.floor,_=String.fromCharCode;function v(V){throw new RangeError(p[V])}function h(V,X){const H=[];let Z=V.length;for(;Z--;)H[Z]=X(V[Z]);return H}function E(V,X){const H=V.split("@");let Z="";H.length>1&&(Z=H[0]+"@",V=H[1]),V=V.replace(c,".");const fe=V.split("."),ee=h(fe,X).join(".");return Z+ee}function y(V){const X=[];let H=0;const Z=V.length;for(;H<Z;){const fe=V.charCodeAt(H++);if(fe>=55296&&fe<=56319&&H<Z){const ee=V.charCodeAt(H++);(ee&64512)==56320?X.push(((fe&1023)<<10)+(ee&1023)+65536):(X.push(fe),H--)}else X.push(fe)}return X}const S=V=>String.fromCodePoint(...V),$=function(V){return V>=48&&V<58?26+(V-48):V>=65&&V<91?V-65:V>=97&&V<123?V-97:t},T=function(V,X){return V+22+75*(V<26)-((X!=0)<<5)},d=function(V,X,H){let Z=0;for(V=H?g(V/o):V>>1,V+=g(V/X);V>m*n>>1;Z+=t)V=g(V/m);return g(Z+(m+1)*V/(V+i))},A=function(V){const X=[],H=V.length;let Z=0,fe=s,ee=a,ae=V.lastIndexOf(l);ae<0&&(ae=0);for(let M=0;M<ae;++M)V.charCodeAt(M)>=128&&v("not-basic"),X.push(V.charCodeAt(M));for(let M=ae>0?ae+1:0;M<H;){const B=Z;for(let O=1,N=t;;N+=t){M>=H&&v("invalid-input");const q=$(V.charCodeAt(M++));q>=t&&v("invalid-input"),q>g((e-Z)/O)&&v("overflow"),Z+=q*O;const ne=N<=ee?r:N>=ee+n?n:N-ee;if(q<ne)break;const J=t-ne;O>g(e/J)&&v("overflow"),O*=J}const K=X.length+1;ee=d(Z-B,K,B==0),g(Z/K)>e-fe&&v("overflow"),fe+=g(Z/K),Z%=K,X.splice(Z++,0,fe)}return String.fromCodePoint(...X)},x=function(V){const X=[];V=y(V);const H=V.length;let Z=s,fe=0,ee=a;for(const B of V)B<128&&X.push(_(B));const ae=X.length;let M=ae;for(ae&&X.push(l);M<H;){let B=e;for(const O of V)O>=Z&&O<B&&(B=O);const K=M+1;B-Z>g((e-fe)/K)&&v("overflow"),fe+=(B-Z)*K,Z=B;for(const O of V)if(O<Z&&++fe>e&&v("overflow"),O===Z){let N=fe;for(let q=t;;q+=t){const ne=q<=ee?r:q>=ee+n?n:q-ee;if(N<ne)break;const J=N-ne,Y=t-ne;X.push(_(T(ne+J%Y,0))),N=g(J/Y)}X.push(_(T(N,0))),ee=d(fe,K,M===ae),fe=0,++M}++fe,++Z}return X.join("")};return Ew={version:"2.3.1",ucs2:{decode:y,encode:S},decode:A,encode:x,toASCII:function(V){return E(V,function(X){return f.test(X)?"xn--"+x(X):X})},toUnicode:function(V){return E(V,function(X){return u.test(X)?A(X.slice(4).toLowerCase()):X})}},Ew}var Ew,Yx,bu,bne=nn({"../../node_modules/@jspm/core/nodelibs/browser/punycode.js"(){Te(),Ew={},Yx=!1,bu=wne(),bu.decode,bu.encode,bu.toASCII,bu.toUnicode,bu.ucs2,bu.version}});function _ne(){if(Xx)return Sw;Xx=!0;var e=di;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,a){for(var s="",l=0,u=-1,f=0,c,p=0;p<=o.length;++p){if(p<o.length)c=o.charCodeAt(p);else{if(c===47)break;c=47}if(c===47){if(!(u===p-1||f===1))if(u!==p-1&&f===2){if(s.length<2||l!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){var m=s.lastIndexOf("/");if(m!==s.length-1){m===-1?(s="",l=0):(s=s.slice(0,m),l=s.length-1-s.lastIndexOf("/")),u=p,f=0;continue}}else if(s.length===2||s.length===1){s="",l=0,u=p,f=0;continue}}a&&(s.length>0?s+="/..":s="..",l=2)}else s.length>0?s+="/"+o.slice(u+1,p):s=o.slice(u+1,p),l=p-u-1;u=p,f=0}else c===46&&f!==-1?++f:f=-1}return s}function n(o,a){var s=a.dir||a.root,l=a.base||(a.name||"")+(a.ext||"");return s?s===a.root?s+l:s+o+l:l}var i={resolve:function(){for(var a="",s=!1,l,u=arguments.length-1;u>=-1&&!s;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(a=f+"/"+a,s=f.charCodeAt(0)===47)}return a=r(a,!s),s?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(t(a),a.length===0)return".";var s=a.charCodeAt(0)===47,l=a.charCodeAt(a.length-1)===47;return a=r(a,!s),a.length===0&&!s&&(a="."),a.length>0&&l&&(a+="/"),s?"/"+a:a},isAbsolute:function(a){return t(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,s=0;s<arguments.length;++s){var l=arguments[s];t(l),l.length>0&&(a===void 0?a=l:a+="/"+l)}return a===void 0?".":i.normalize(a)},relative:function(a,s){if(t(a),t(s),a===s||(a=i.resolve(a),s=i.resolve(s),a===s))return"";for(var l=1;l<a.length&&a.charCodeAt(l)===47;++l);for(var u=a.length,f=u-l,c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var p=s.length,m=p-c,g=f<m?f:m,_=-1,v=0;v<=g;++v){if(v===g){if(m>g){if(s.charCodeAt(c+v)===47)return s.slice(c+v+1);if(v===0)return s.slice(c+v)}else f>g&&(a.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var h=a.charCodeAt(l+v),E=s.charCodeAt(c+v);if(h!==E)break;h===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||a.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+s.slice(c+_):(c+=_,s.charCodeAt(c)===47&&++c,s.slice(c))},_makeLong:function(a){return a},dirname:function(a){if(t(a),a.length===0)return".";for(var s=a.charCodeAt(0),l=s===47,u=-1,f=!0,c=a.length-1;c>=1;--c)if(s=a.charCodeAt(c),s===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":a.slice(0,u)},basename:function(a,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');t(a);var l=0,u=-1,f=!0,c;if(s!==void 0&&s.length>0&&s.length<=a.length){if(s.length===a.length&&s===a)return"";var p=s.length-1,m=-1;for(c=a.length-1;c>=0;--c){var g=a.charCodeAt(c);if(g===47){if(!f){l=c+1;break}}else m===-1&&(f=!1,m=c+1),p>=0&&(g===s.charCodeAt(p)?--p===-1&&(u=c):(p=-1,u=m))}return l===u?u=m:u===-1&&(u=a.length),a.slice(l,u)}else{for(c=a.length-1;c>=0;--c)if(a.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":a.slice(l,u)}},extname:function(a){t(a);for(var s=-1,l=0,u=-1,f=!0,c=0,p=a.length-1;p>=0;--p){var m=a.charCodeAt(p);if(m===47){if(!f){l=p+1;break}continue}u===-1&&(f=!1,u=p+1),m===46?s===-1?s=p:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||u===-1||c===0||c===1&&s===u-1&&s===l+1?"":a.slice(s,u)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return n("/",a)},parse:function(a){t(a);var s={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return s;var l=a.charCodeAt(0),u=l===47,f;u?(s.root="/",f=1):f=0;for(var c=-1,p=0,m=-1,g=!0,_=a.length-1,v=0;_>=f;--_){if(l=a.charCodeAt(_),l===47){if(!g){p=_+1;break}continue}m===-1&&(g=!1,m=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||m===-1||v===0||v===1&&c===m-1&&c===p+1?m!==-1&&(p===0&&u?s.base=s.name=a.slice(1,m):s.base=s.name=a.slice(p,m)):(p===0&&u?(s.name=a.slice(1,c),s.base=a.slice(1,m)):(s.name=a.slice(p,c),s.base=a.slice(p,m)),s.ext=a.slice(c,m)),p>0?s.dir=a.slice(0,p-1):u&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Sw=i,Sw}var Sw,Xx,Qx,Ene=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-BlJi4mNy.js"(){Te(),bg(),Sw={},Xx=!1,Qx=_ne()}}),jq={};tl(jq,{URL:()=>Hq,Url:()=>Bq,default:()=>ji,fileURLToPath:()=>Mq,format:()=>Uq,parse:()=>Vq,pathToFileURL:()=>Lq,resolve:()=>zq,resolveObject:()=>qq});function Sne(){if(Zx)return $w;Zx=!0;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=e&&t&&typeof t.get=="function"?t.get:null,n=e&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,a=i&&o&&typeof o.get=="function"?o.get:null,s=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,f=typeof WeakSet=="function"&&WeakSet.prototype,c=f?WeakSet.prototype.has:null,p=typeof WeakRef=="function"&&WeakRef.prototype,m=p?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,_=Object.prototype.toString,v=Function.prototype.toString,h=String.prototype.match,E=String.prototype.slice,y=String.prototype.replace,S=String.prototype.toUpperCase,$=String.prototype.toLowerCase,T=RegExp.prototype.test,d=Array.prototype.concat,A=Array.prototype.join,x=Array.prototype.slice,P=Math.floor,j=typeof BigInt=="function"?BigInt.prototype.valueOf:null,F=Object.getOwnPropertySymbols,V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,X=typeof Symbol=="function"&&typeof Symbol.iterator=="object",H=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===X||!0)?Symbol.toStringTag:null,Z=Object.prototype.propertyIsEnumerable,fe=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Re){return Re.__proto__}:null);function ee(Re,Le){if(Re===1/0||Re===-1/0||Re!==Re||Re&&Re>-1e3&&Re<1e3||T.call(/e/,Le))return Le;var ft=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Re=="number"){var yt=Re<0?-P(-Re):P(Re);if(yt!==Re){var st=String(yt),Ct=E.call(Le,st.length+1);return y.call(st,ft,"$&_")+"."+y.call(y.call(Ct,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(Le,ft,"$&_")}var ae=Fq,M=ae.custom,B=Oe(M)?M:null;$w=function Re(Le,ft,yt,st){var Ct=ft||{};if(D(Ct,"quoteStyle")&&Ct.quoteStyle!=="single"&&Ct.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(D(Ct,"maxStringLength")&&(typeof Ct.maxStringLength=="number"?Ct.maxStringLength<0&&Ct.maxStringLength!==1/0:Ct.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Er=D(Ct,"customInspect")?Ct.customInspect:!0;if(typeof Er!="boolean"&&Er!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(D(Ct,"indent")&&Ct.indent!==null&&Ct.indent!=="	"&&!(parseInt(Ct.indent,10)===Ct.indent&&Ct.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(D(Ct,"numericSeparator")&&typeof Ct.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Or=Ct.numericSeparator;if(typeof Le>"u")return"undefined";if(Le===null)return"null";if(typeof Le=="boolean")return Le?"true":"false";if(typeof Le=="string")return We(Le,Ct);if(typeof Le=="number"){if(Le===0)return 1/0/Le>0?"0":"-0";var ir=String(Le);return Or?ee(Le,ir):ir}if(typeof Le=="bigint"){var mr=String(Le)+"n";return Or?ee(Le,mr):mr}var cn=typeof Ct.depth>"u"?5:Ct.depth;if(typeof yt>"u"&&(yt=0),yt>=cn&&cn>0&&typeof Le=="object")return N(Le)?"[Array]":"[Object]";var Vt=ye(Ct,yt);if(typeof st>"u")st=[];else if(ue(st,Le)>=0)return"[Circular]";function zt(Nt,jt,$t){if(jt&&(st=x.call(st),st.push(jt)),$t){var Rt={depth:Ct.depth};return D(Ct,"quoteStyle")&&(Rt.quoteStyle=Ct.quoteStyle),Re(Nt,Rt,yt+1,st)}return Re(Nt,Ct,yt+1,st)}if(typeof Le=="function"&&!ne(Le)){var At=ie(Le),Se=Ce(Le,zt);return"[Function"+(At?": "+At:" (anonymous)")+"]"+(Se.length>0?" { "+A.call(Se,", ")+" }":"")}if(Oe(Le)){var Ie=X?y.call(String(Le),/^(Symbol\(.*\))_[^)]*$/,"$1"):V.call(Le);return typeof Le=="object"&&!X?W(Ie):Ie}if(nt(Le)){for(var dt="<"+$.call(String(Le.nodeName)),Ye=Le.attributes||[],it=0;it<Ye.length;it++)dt+=" "+Ye[it].name+"="+K(O(Ye[it].value),"double",Ct);return dt+=">",Le.childNodes&&Le.childNodes.length&&(dt+="..."),dt+="</"+$.call(String(Le.nodeName))+">",dt}if(N(Le)){if(Le.length===0)return"[]";var Ot=Ce(Le,zt);return Vt&&!re(Ot)?"["+Ee(Ot,Vt)+"]":"[ "+A.call(Ot,", ")+" ]"}if(J(Le)){var qt=Ce(Le,zt);return!("cause"in Error.prototype)&&"cause"in Le&&!Z.call(Le,"cause")?"{ ["+String(Le)+"] "+A.call(d.call("[cause]: "+zt(Le.cause),qt),", ")+" }":qt.length===0?"["+String(Le)+"]":"{ ["+String(Le)+"] "+A.call(qt,", ")+" }"}if(typeof Le=="object"&&Er){if(B&&typeof Le[B]=="function"&&ae)return ae(Le,{depth:cn-yt});if(Er!=="symbol"&&typeof Le.inspect=="function")return Le.inspect()}if(de(Le)){var he=[];return n&&n.call(Le,function(Nt,jt){he.push(zt(jt,Le,!0)+" => "+zt(Nt,Le))}),L("Map",r.call(Le),he,Vt)}if(Be(Le)){var le=[];return s&&s.call(Le,function(Nt){le.push(zt(Nt,Le))}),L("Set",a.call(Le),le,Vt)}if(ve(Le))return I("WeakMap");if(je(Le))return I("WeakSet");if(Ne(Le))return I("WeakRef");if(oe(Le))return W(zt(Number(Le)));if(R(Le))return W(zt(j.call(Le)));if(be(Le))return W(g.call(Le));if(Y(Le))return W(zt(String(Le)));if(typeof window<"u"&&Le===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Le===globalThis||typeof Tw<"u"&&Le===Tw)return"{ [object globalThis] }";if(!q(Le)&&!ne(Le)){var we=Ce(Le,zt),xe=fe?fe(Le)===Object.prototype:Le instanceof Object||Le.constructor===Object,Ae=Le instanceof Object?"":"null prototype",et=!xe&&H&&Object(Le)===Le&&H in Le?E.call(G(Le),8,-1):Ae?"Object":"",ot=xe||typeof Le.constructor!="function"?"":Le.constructor.name?Le.constructor.name+" ":"",xt=ot+(et||Ae?"["+A.call(d.call([],et||[],Ae||[]),": ")+"] ":"");return we.length===0?xt+"{}":Vt?xt+"{"+Ee(we,Vt)+"}":xt+"{ "+A.call(we,", ")+" }"}return String(Le)};function K(Re,Le,ft){var yt=(ft.quoteStyle||Le)==="double"?'"':"'";return yt+Re+yt}function O(Re){return y.call(String(Re),/"/g,"&quot;")}function N(Re){return G(Re)==="[object Array]"&&(!H||!(typeof Re=="object"&&H in Re))}function q(Re){return G(Re)==="[object Date]"&&(!H||!(typeof Re=="object"&&H in Re))}function ne(Re){return G(Re)==="[object RegExp]"&&(!H||!(typeof Re=="object"&&H in Re))}function J(Re){return G(Re)==="[object Error]"&&(!H||!(typeof Re=="object"&&H in Re))}function Y(Re){return G(Re)==="[object String]"&&(!H||!(typeof Re=="object"&&H in Re))}function oe(Re){return G(Re)==="[object Number]"&&(!H||!(typeof Re=="object"&&H in Re))}function be(Re){return G(Re)==="[object Boolean]"&&(!H||!(typeof Re=="object"&&H in Re))}function Oe(Re){if(X)return Re&&typeof Re=="object"&&Re instanceof Symbol;if(typeof Re=="symbol")return!0;if(!Re||typeof Re!="object"||!V)return!1;try{return V.call(Re),!0}catch{}return!1}function R(Re){if(!Re||typeof Re!="object"||!j)return!1;try{return j.call(Re),!0}catch{}return!1}var C=Object.prototype.hasOwnProperty||function(Re){return Re in(this||Tw)};function D(Re,Le){return C.call(Re,Le)}function G(Re){return _.call(Re)}function ie(Re){if(Re.name)return Re.name;var Le=h.call(v.call(Re),/^function\s*([\w$]+)/);return Le?Le[1]:null}function ue(Re,Le){if(Re.indexOf)return Re.indexOf(Le);for(var ft=0,yt=Re.length;ft<yt;ft++)if(Re[ft]===Le)return ft;return-1}function de(Re){if(!r||!Re||typeof Re!="object")return!1;try{r.call(Re);try{a.call(Re)}catch{return!0}return Re instanceof Map}catch{}return!1}function ve(Re){if(!u||!Re||typeof Re!="object")return!1;try{u.call(Re,u);try{c.call(Re,c)}catch{return!0}return Re instanceof WeakMap}catch{}return!1}function Ne(Re){if(!m||!Re||typeof Re!="object")return!1;try{return m.call(Re),!0}catch{}return!1}function Be(Re){if(!a||!Re||typeof Re!="object")return!1;try{a.call(Re);try{r.call(Re)}catch{return!0}return Re instanceof Set}catch{}return!1}function je(Re){if(!c||!Re||typeof Re!="object")return!1;try{c.call(Re,c);try{u.call(Re,u)}catch{return!0}return Re instanceof WeakSet}catch{}return!1}function nt(Re){return!Re||typeof Re!="object"?!1:typeof HTMLElement<"u"&&Re instanceof HTMLElement?!0:typeof Re.nodeName=="string"&&typeof Re.getAttribute=="function"}function We(Re,Le){if(Re.length>Le.maxStringLength){var ft=Re.length-Le.maxStringLength,yt="... "+ft+" more character"+(ft>1?"s":"");return We(E.call(Re,0,Le.maxStringLength),Le)+yt}var st=y.call(y.call(Re,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ue);return K(st,"single",Le)}function Ue(Re){var Le=Re.charCodeAt(0),ft={8:"b",9:"t",10:"n",12:"f",13:"r"}[Le];return ft?"\\"+ft:"\\x"+(Le<16?"0":"")+S.call(Le.toString(16))}function W(Re){return"Object("+Re+")"}function I(Re){return Re+" { ? }"}function L(Re,Le,ft,yt){var st=yt?Ee(ft,yt):A.call(ft,", ");return Re+" ("+Le+") {"+st+"}"}function re(Re){for(var Le=0;Le<Re.length;Le++)if(ue(Re[Le],`
`)>=0)return!1;return!0}function ye(Re,Le){var ft;if(Re.indent==="	")ft="	";else if(typeof Re.indent=="number"&&Re.indent>0)ft=A.call(Array(Re.indent+1)," ");else return null;return{base:ft,prev:A.call(Array(Le+1),ft)}}function Ee(Re,Le){if(Re.length===0)return"";var ft=`
`+Le.prev+Le.base;return ft+A.call(Re,","+ft)+`
`+Le.prev}function Ce(Re,Le){var ft=N(Re),yt=[];if(ft){yt.length=Re.length;for(var st=0;st<Re.length;st++)yt[st]=D(Re,st)?Le(Re[st],Re):""}var Ct=typeof F=="function"?F(Re):[],Er;if(X){Er={};for(var Or=0;Or<Ct.length;Or++)Er["$"+Ct[Or]]=Ct[Or]}for(var ir in Re)D(Re,ir)&&(ft&&String(Number(ir))===ir&&ir<Re.length||X&&Er["$"+ir]instanceof Symbol||(T.call(/[^\w$]/,ir)?yt.push(Le(ir,Re)+": "+Le(Re[ir],Re)):yt.push(ir+": "+Le(Re[ir],Re))));if(typeof F=="function")for(var mr=0;mr<Ct.length;mr++)Z.call(Re,Ct[mr])&&yt.push("["+Le(Ct[mr])+"]: "+Le(Re[Ct[mr]],Re));return yt}return $w}function $ne(){if(eP)return Aw;eP=!0;var e=Bh(),t=BR(),r=Sne(),n=Eg(),i=e("%WeakMap%",!0),o=e("%Map%",!0),a=t("WeakMap.prototype.get",!0),s=t("WeakMap.prototype.set",!0),l=t("WeakMap.prototype.has",!0),u=t("Map.prototype.get",!0),f=t("Map.prototype.set",!0),c=t("Map.prototype.has",!0),p=function(v,h){for(var E=v,y;(y=E.next)!==null;E=y)if(y.key===h)return E.next=y.next,y.next=v.next,v.next=y,y},m=function(v,h){var E=p(v,h);return E&&E.value},g=function(v,h,E){var y=p(v,h);y?y.value=E:v.next={key:h,next:v.next,value:E}},_=function(v,h){return!!p(v,h)};return Aw=function(){var h,E,y,S={assert:function($){if(!S.has($))throw new n("Side channel does not contain "+r($))},get:function($){if(i&&$&&(typeof $=="object"||typeof $=="function")){if(h)return a(h,$)}else if(o){if(E)return u(E,$)}else if(y)return m(y,$)},has:function($){if(i&&$&&(typeof $=="object"||typeof $=="function")){if(h)return l(h,$)}else if(o){if(E)return c(E,$)}else if(y)return _(y,$);return!1},set:function($,T){i&&$&&(typeof $=="object"||typeof $=="function")?(h||(h=new i),s(h,$,T)):o?(E||(E=new o),f(E,$,T)):(y||(y={key:{},next:null}),g(y,$,T))}};return S},Aw}function oI(){if(tP)return xw;tP=!0;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return xw={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},xw}function Dq(){if(rP)return Pw;rP=!0;var e=oI(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var v=[],h=0;h<256;++h)v.push("%"+((h<16?"0":"")+h.toString(16)).toUpperCase());return v}(),i=function(h){for(;h.length>1;){var E=h.pop(),y=E.obj[E.prop];if(r(y)){for(var S=[],$=0;$<y.length;++$)typeof y[$]<"u"&&S.push(y[$]);E.obj[E.prop]=S}}},o=function(h,E){for(var y=E&&E.plainObjects?Object.create(null):{},S=0;S<h.length;++S)typeof h[S]<"u"&&(y[S]=h[S]);return y},a=function v(h,E,y){if(!E)return h;if(typeof E!="object"){if(r(h))h.push(E);else if(h&&typeof h=="object")(y&&(y.plainObjects||y.allowPrototypes)||!t.call(Object.prototype,E))&&(h[E]=!0);else return[h,E];return h}if(!h||typeof h!="object")return[h].concat(E);var S=h;return r(h)&&!r(E)&&(S=o(h,y)),r(h)&&r(E)?(E.forEach(function($,T){if(t.call(h,T)){var d=h[T];d&&typeof d=="object"&&$&&typeof $=="object"?h[T]=v(d,$,y):h.push($)}else h[T]=$}),h):Object.keys(E).reduce(function($,T){var d=E[T];return t.call($,T)?$[T]=v($[T],d,y):$[T]=d,$},S)},s=function(h,E){return Object.keys(E).reduce(function(y,S){return y[S]=E[S],y},h)},l=function(v,h,E){var y=v.replace(/\+/g," ");if(E==="iso-8859-1")return y.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(y)}catch{return y}},u=1024,f=function(h,E,y,S,$){if(h.length===0)return h;var T=h;if(typeof h=="symbol"?T=Symbol.prototype.toString.call(h):typeof h!="string"&&(T=String(h)),y==="iso-8859-1")return escape(T).replace(/%u[0-9a-f]{4}/gi,function(V){return"%26%23"+parseInt(V.slice(2),16)+"%3B"});for(var d="",A=0;A<T.length;A+=u){for(var x=T.length>=u?T.slice(A,A+u):T,P=[],j=0;j<x.length;++j){var F=x.charCodeAt(j);if(F===45||F===46||F===95||F===126||F>=48&&F<=57||F>=65&&F<=90||F>=97&&F<=122||$===e.RFC1738&&(F===40||F===41)){P[P.length]=x.charAt(j);continue}if(F<128){P[P.length]=n[F];continue}if(F<2048){P[P.length]=n[192|F>>6]+n[128|F&63];continue}if(F<55296||F>=57344){P[P.length]=n[224|F>>12]+n[128|F>>6&63]+n[128|F&63];continue}j+=1,F=65536+((F&1023)<<10|x.charCodeAt(j)&1023),P[P.length]=n[240|F>>18]+n[128|F>>12&63]+n[128|F>>6&63]+n[128|F&63]}d+=P.join("")}return d},c=function(h){for(var E=[{obj:{o:h},prop:"o"}],y=[],S=0;S<E.length;++S)for(var $=E[S],T=$.obj[$.prop],d=Object.keys(T),A=0;A<d.length;++A){var x=d[A],P=T[x];typeof P=="object"&&P!==null&&y.indexOf(P)===-1&&(E.push({obj:T,prop:x}),y.push(P))}return i(E),h},p=function(h){return Object.prototype.toString.call(h)==="[object RegExp]"},m=function(h){return!h||typeof h!="object"?!1:!!(h.constructor&&h.constructor.isBuffer&&h.constructor.isBuffer(h))},g=function(h,E){return[].concat(h,E)},_=function(h,E){if(r(h)){for(var y=[],S=0;S<h.length;S+=1)y.push(E(h[S]));return y}return E(h)};return Pw={arrayToObject:o,assign:s,combine:g,compact:c,decode:l,encode:f,isBuffer:m,isRegExp:p,maybeMap:_,merge:a},Pw}function Tne(){if(nP)return Ow;nP=!0;var e=$ne(),t=Dq(),r=oI(),n=Object.prototype.hasOwnProperty,i={brackets:function(v){return v+"[]"},comma:"comma",indices:function(v,h){return v+"["+h+"]"},repeat:function(v){return v}},o=Array.isArray,a=Array.prototype.push,s=function(_,v){a.apply(_,o(v)?v:[v])},l=Date.prototype.toISOString,u=r.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,format:u,formatter:r.formatters[u],indices:!1,serializeDate:function(v){return l.call(v)},skipNulls:!1,strictNullHandling:!1},c=function(v){return typeof v=="string"||typeof v=="number"||typeof v=="boolean"||typeof v=="symbol"||typeof v=="bigint"},p={},m=function _(v,h,E,y,S,$,T,d,A,x,P,j,F,V,X,H,Z,fe){for(var ee=v,ae=fe,M=0,B=!1;(ae=ae.get(p))!==void 0&&!B;){var K=ae.get(v);if(M+=1,typeof K<"u"){if(K===M)throw new RangeError("Cyclic object value");B=!0}typeof ae.get(p)>"u"&&(M=0)}if(typeof x=="function"?ee=x(h,ee):ee instanceof Date?ee=F(ee):E==="comma"&&o(ee)&&(ee=t.maybeMap(ee,function(G){return G instanceof Date?F(G):G})),ee===null){if($)return A&&!H?A(h,f.encoder,Z,"key",V):h;ee=""}if(c(ee)||t.isBuffer(ee)){if(A){var O=H?h:A(h,f.encoder,Z,"key",V);return[X(O)+"="+X(A(ee,f.encoder,Z,"value",V))]}return[X(h)+"="+X(String(ee))]}var N=[];if(typeof ee>"u")return N;var q;if(E==="comma"&&o(ee))H&&A&&(ee=t.maybeMap(ee,A)),q=[{value:ee.length>0?ee.join(",")||null:void 0}];else if(o(x))q=x;else{var ne=Object.keys(ee);q=P?ne.sort(P):ne}var J=d?h.replace(/\./g,"%2E"):h,Y=y&&o(ee)&&ee.length===1?J+"[]":J;if(S&&o(ee)&&ee.length===0)return Y+"[]";for(var oe=0;oe<q.length;++oe){var be=q[oe],Oe=typeof be=="object"&&typeof be.value<"u"?be.value:ee[be];if(!(T&&Oe===null)){var R=j&&d?be.replace(/\./g,"%2E"):be,C=o(ee)?typeof E=="function"?E(Y,R):Y:Y+(j?"."+R:"["+R+"]");fe.set(v,M);var D=e();D.set(p,fe),s(N,_(Oe,C,E,y,S,$,T,d,E==="comma"&&H&&o(ee)?null:A,x,P,j,F,V,X,H,Z,D))}}return N},g=function(v){if(!v)return f;if(typeof v.allowEmptyArrays<"u"&&typeof v.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof v.encodeDotInKeys<"u"&&typeof v.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(v.encoder!==null&&typeof v.encoder<"u"&&typeof v.encoder!="function")throw new TypeError("Encoder has to be a function.");var h=v.charset||f.charset;if(typeof v.charset<"u"&&v.charset!=="utf-8"&&v.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var E=r.default;if(typeof v.format<"u"){if(!n.call(r.formatters,v.format))throw new TypeError("Unknown format option provided.");E=v.format}var y=r.formatters[E],S=f.filter;(typeof v.filter=="function"||o(v.filter))&&(S=v.filter);var $;if(v.arrayFormat in i?$=v.arrayFormat:"indices"in v?$=v.indices?"indices":"repeat":$=f.arrayFormat,"commaRoundTrip"in v&&typeof v.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var T=typeof v.allowDots>"u"?v.encodeDotInKeys===!0?!0:f.allowDots:!!v.allowDots;return{addQueryPrefix:typeof v.addQueryPrefix=="boolean"?v.addQueryPrefix:f.addQueryPrefix,allowDots:T,allowEmptyArrays:typeof v.allowEmptyArrays=="boolean"?!!v.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:$,charset:h,charsetSentinel:typeof v.charsetSentinel=="boolean"?v.charsetSentinel:f.charsetSentinel,commaRoundTrip:v.commaRoundTrip,delimiter:typeof v.delimiter>"u"?f.delimiter:v.delimiter,encode:typeof v.encode=="boolean"?v.encode:f.encode,encodeDotInKeys:typeof v.encodeDotInKeys=="boolean"?v.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof v.encoder=="function"?v.encoder:f.encoder,encodeValuesOnly:typeof v.encodeValuesOnly=="boolean"?v.encodeValuesOnly:f.encodeValuesOnly,filter:S,format:E,formatter:y,serializeDate:typeof v.serializeDate=="function"?v.serializeDate:f.serializeDate,skipNulls:typeof v.skipNulls=="boolean"?v.skipNulls:f.skipNulls,sort:typeof v.sort=="function"?v.sort:null,strictNullHandling:typeof v.strictNullHandling=="boolean"?v.strictNullHandling:f.strictNullHandling}};return Ow=function(_,v){var h=_,E=g(v),y,S;typeof E.filter=="function"?(S=E.filter,h=S("",h)):o(E.filter)&&(S=E.filter,y=S);var $=[];if(typeof h!="object"||h===null)return"";var T=i[E.arrayFormat],d=T==="comma"&&E.commaRoundTrip;y||(y=Object.keys(h)),E.sort&&y.sort(E.sort);for(var A=e(),x=0;x<y.length;++x){var P=y[x];E.skipNulls&&h[P]===null||s($,m(h[P],P,T,d,E.allowEmptyArrays,E.strictNullHandling,E.skipNulls,E.encodeDotInKeys,E.encode?E.encoder:null,E.filter,E.sort,E.allowDots,E.serializeDate,E.format,E.formatter,E.encodeValuesOnly,E.charset,A))}var j=$.join(E.delimiter),F=E.addQueryPrefix===!0?"?":"";return E.charsetSentinel&&(E.charset==="iso-8859-1"?F+="utf8=%26%2310003%3B&":F+="utf8=%E2%9C%93&"),j.length>0?F+j:""},Ow}function Ane(){if(iP)return Rw;iP=!0;var e=Dq(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(p){return p.replace(/&#(\d+);/g,function(m,g){return String.fromCharCode(parseInt(g,10))})},o=function(p,m){return p&&typeof p=="string"&&m.comma&&p.indexOf(",")>-1?p.split(","):p},a="utf8=%26%2310003%3B",s="utf8=%E2%9C%93",l=function(m,g){var _={__proto__:null},v=g.ignoreQueryPrefix?m.replace(/^\?/,""):m;v=v.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var h=g.parameterLimit===1/0?void 0:g.parameterLimit,E=v.split(g.delimiter,h),y=-1,S,$=g.charset;if(g.charsetSentinel)for(S=0;S<E.length;++S)E[S].indexOf("utf8=")===0&&(E[S]===s?$="utf-8":E[S]===a&&($="iso-8859-1"),y=S,S=E.length);for(S=0;S<E.length;++S)if(S!==y){var T=E[S],d=T.indexOf("]="),A=d===-1?T.indexOf("="):d+1,x,P;A===-1?(x=g.decoder(T,n.decoder,$,"key"),P=g.strictNullHandling?null:""):(x=g.decoder(T.slice(0,A),n.decoder,$,"key"),P=e.maybeMap(o(T.slice(A+1),g),function(F){return g.decoder(F,n.decoder,$,"value")})),P&&g.interpretNumericEntities&&$==="iso-8859-1"&&(P=i(P)),T.indexOf("[]=")>-1&&(P=r(P)?[P]:P);var j=t.call(_,x);j&&g.duplicates==="combine"?_[x]=e.combine(_[x],P):(!j||g.duplicates==="last")&&(_[x]=P)}return _},u=function(p,m,g,_){for(var v=_?m:o(m,g),h=p.length-1;h>=0;--h){var E,y=p[h];if(y==="[]"&&g.parseArrays)E=g.allowEmptyArrays&&(v===""||g.strictNullHandling&&v===null)?[]:[].concat(v);else{E=g.plainObjects?Object.create(null):{};var S=y.charAt(0)==="["&&y.charAt(y.length-1)==="]"?y.slice(1,-1):y,$=g.decodeDotInKeys?S.replace(/%2E/g,"."):S,T=parseInt($,10);!g.parseArrays&&$===""?E={0:v}:!isNaN(T)&&y!==$&&String(T)===$&&T>=0&&g.parseArrays&&T<=g.arrayLimit?(E=[],E[T]=v):$!=="__proto__"&&(E[$]=v)}v=E}return v},f=function(m,g,_,v){if(m){var h=_.allowDots?m.replace(/\.([^.[]+)/g,"[$1]"):m,E=/(\[[^[\]]*])/,y=/(\[[^[\]]*])/g,S=_.depth>0&&E.exec(h),$=S?h.slice(0,S.index):h,T=[];if($){if(!_.plainObjects&&t.call(Object.prototype,$)&&!_.allowPrototypes)return;T.push($)}for(var d=0;_.depth>0&&(S=y.exec(h))!==null&&d<_.depth;){if(d+=1,!_.plainObjects&&t.call(Object.prototype,S[1].slice(1,-1))&&!_.allowPrototypes)return;T.push(S[1])}if(S){if(_.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+_.depth+" and strictDepth is true");T.push("["+h.slice(S.index)+"]")}return u(T,g,_,v)}},c=function(m){if(!m)return n;if(typeof m.allowEmptyArrays<"u"&&typeof m.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof m.decodeDotInKeys<"u"&&typeof m.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(m.decoder!==null&&typeof m.decoder<"u"&&typeof m.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof m.charset<"u"&&m.charset!=="utf-8"&&m.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var g=typeof m.charset>"u"?n.charset:m.charset,_=typeof m.duplicates>"u"?n.duplicates:m.duplicates;if(_!=="combine"&&_!=="first"&&_!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var v=typeof m.allowDots>"u"?m.decodeDotInKeys===!0?!0:n.allowDots:!!m.allowDots;return{allowDots:v,allowEmptyArrays:typeof m.allowEmptyArrays=="boolean"?!!m.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof m.allowPrototypes=="boolean"?m.allowPrototypes:n.allowPrototypes,allowSparse:typeof m.allowSparse=="boolean"?m.allowSparse:n.allowSparse,arrayLimit:typeof m.arrayLimit=="number"?m.arrayLimit:n.arrayLimit,charset:g,charsetSentinel:typeof m.charsetSentinel=="boolean"?m.charsetSentinel:n.charsetSentinel,comma:typeof m.comma=="boolean"?m.comma:n.comma,decodeDotInKeys:typeof m.decodeDotInKeys=="boolean"?m.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof m.decoder=="function"?m.decoder:n.decoder,delimiter:typeof m.delimiter=="string"||e.isRegExp(m.delimiter)?m.delimiter:n.delimiter,depth:typeof m.depth=="number"||m.depth===!1?+m.depth:n.depth,duplicates:_,ignoreQueryPrefix:m.ignoreQueryPrefix===!0,interpretNumericEntities:typeof m.interpretNumericEntities=="boolean"?m.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof m.parameterLimit=="number"?m.parameterLimit:n.parameterLimit,parseArrays:m.parseArrays!==!1,plainObjects:typeof m.plainObjects=="boolean"?m.plainObjects:n.plainObjects,strictDepth:typeof m.strictDepth=="boolean"?!!m.strictDepth:n.strictDepth,strictNullHandling:typeof m.strictNullHandling=="boolean"?m.strictNullHandling:n.strictNullHandling}};return Rw=function(p,m){var g=c(m);if(p===""||p===null||typeof p>"u")return g.plainObjects?Object.create(null):{};for(var _=typeof p=="string"?l(p,g):p,v=g.plainObjects?Object.create(null):{},h=Object.keys(_),E=0;E<h.length;++E){var y=h[E],S=f(y,_[y],g,typeof p=="string");v=e.merge(v,S,g)}return g.allowSparse===!0?v:e.compact(v)},Rw}function xne(){if(oP)return Iw;oP=!0;var e=Tne(),t=Ane(),r=oI();return Iw={formats:r,parse:t,stringify:e},Iw}function Pne(){if(aP)return _u;aP=!0;var e=bu;function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],a=["{","}","|","\\","^","`"].concat(o),s=["'"].concat(a),l=["%","/","?",";","#"].concat(s),u=["/","?","#"],f=255,c=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=xne();function h($,T,d){if($&&typeof $=="object"&&$ instanceof t)return $;var A=new t;return A.parse($,T,d),A}t.prototype.parse=function($,T,d){if(typeof $!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof $);var A=$.indexOf("?"),x=A!==-1&&A<$.indexOf("#")?"?":"#",P=$.split(x),j=/\\/g;P[0]=P[0].replace(j,"/"),$=P.join(x);var F=$;if(F=F.trim(),!d&&$.split("#").length===1){var V=i.exec(F);if(V)return this.path=F,this.href=F,this.pathname=V[1],V[2]?(this.search=V[2],T?this.query=v.parse(this.search.substr(1)):this.query=this.search.substr(1)):T&&(this.search="",this.query={}),this}var X=r.exec(F);if(X){X=X[0];var H=X.toLowerCase();this.protocol=H,F=F.substr(X.length)}if(d||X||F.match(/^\/\/[^@/]+@[^@/]+/)){var Z=F.substr(0,2)==="//";Z&&!(X&&g[X])&&(F=F.substr(2),this.slashes=!0)}if(!g[X]&&(Z||X&&!_[X])){for(var fe=-1,ee=0;ee<u.length;ee++){var ae=F.indexOf(u[ee]);ae!==-1&&(fe===-1||ae<fe)&&(fe=ae)}var M,B;fe===-1?B=F.lastIndexOf("@"):B=F.lastIndexOf("@",fe),B!==-1&&(M=F.slice(0,B),F=F.slice(B+1),this.auth=decodeURIComponent(M)),fe=-1;for(var ee=0;ee<l.length;ee++){var ae=F.indexOf(l[ee]);ae!==-1&&(fe===-1||ae<fe)&&(fe=ae)}fe===-1&&(fe=F.length),this.host=F.slice(0,fe),F=F.slice(fe),this.parseHost(),this.hostname=this.hostname||"";var K=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!K)for(var O=this.hostname.split(/\./),ee=0,N=O.length;ee<N;ee++){var q=O[ee];if(q&&!q.match(c)){for(var ne="",J=0,Y=q.length;J<Y;J++)q.charCodeAt(J)>127?ne+="x":ne+=q[J];if(!ne.match(c)){var oe=O.slice(0,ee),be=O.slice(ee+1),Oe=q.match(p);Oe&&(oe.push(Oe[1]),be.unshift(Oe[2])),be.length&&(F="/"+be.join(".")+F),this.hostname=oe.join(".");break}}}this.hostname.length>f?this.hostname="":this.hostname=this.hostname.toLowerCase(),K||(this.hostname=e.toASCII(this.hostname));var R=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+R,this.href+=this.host,K&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),F[0]!=="/"&&(F="/"+F))}if(!m[H])for(var ee=0,N=s.length;ee<N;ee++){var D=s[ee];if(F.indexOf(D)!==-1){var G=encodeURIComponent(D);G===D&&(G=escape(D)),F=F.split(D).join(G)}}var ie=F.indexOf("#");ie!==-1&&(this.hash=F.substr(ie),F=F.slice(0,ie));var ue=F.indexOf("?");if(ue!==-1?(this.search=F.substr(ue),this.query=F.substr(ue+1),T&&(this.query=v.parse(this.query)),F=F.slice(0,ue)):T&&(this.search="",this.query={}),F&&(this.pathname=F),_[H]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var R=this.pathname||"",de=this.search||"";this.path=R+de}return this.href=this.format(),this};function E($){return typeof $=="string"&&($=h($)),$ instanceof t?$.format():t.prototype.format.call($)}t.prototype.format=function(){var $=this.auth||"";$&&($=encodeURIComponent($),$=$.replace(/%3A/i,":"),$+="@");var T=this.protocol||"",d=this.pathname||"",A=this.hash||"",x=!1,P="";this.host?x=$+this.host:this.hostname&&(x=$+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(x+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(P=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var j=this.search||P&&"?"+P||"";return T&&T.substr(-1)!==":"&&(T+=":"),this.slashes||(!T||_[T])&&x!==!1?(x="//"+(x||""),d&&d.charAt(0)!=="/"&&(d="/"+d)):x||(x=""),A&&A.charAt(0)!=="#"&&(A="#"+A),j&&j.charAt(0)!=="?"&&(j="?"+j),d=d.replace(/[?#]/g,function(F){return encodeURIComponent(F)}),j=j.replace("#","%23"),T+x+d+j+A};function y($,T){return h($,!1,!0).resolve(T)}t.prototype.resolve=function($){return this.resolveObject(h($,!1,!0)).format()};function S($,T){return $?h($,!1,!0).resolveObject(T):T}return t.prototype.resolveObject=function($){if(typeof $=="string"){var T=new t;T.parse($,!1,!0),$=T}for(var d=new t,A=Object.keys(this),x=0;x<A.length;x++){var P=A[x];d[P]=this[P]}if(d.hash=$.hash,$.href==="")return d.href=d.format(),d;if($.slashes&&!$.protocol){for(var j=Object.keys($),F=0;F<j.length;F++){var V=j[F];V!=="protocol"&&(d[V]=$[V])}return _[d.protocol]&&d.hostname&&!d.pathname&&(d.pathname="/",d.path=d.pathname),d.href=d.format(),d}if($.protocol&&$.protocol!==d.protocol){if(!_[$.protocol]){for(var X=Object.keys($),H=0;H<X.length;H++){var Z=X[H];d[Z]=$[Z]}return d.href=d.format(),d}if(d.protocol=$.protocol,!$.host&&!g[$.protocol]){for(var N=($.pathname||"").split("/");N.length&&!($.host=N.shift()););$.host||($.host=""),$.hostname||($.hostname=""),N[0]!==""&&N.unshift(""),N.length<2&&N.unshift(""),d.pathname=N.join("/")}else d.pathname=$.pathname;if(d.search=$.search,d.query=$.query,d.host=$.host||"",d.auth=$.auth,d.hostname=$.hostname||$.host,d.port=$.port,d.pathname||d.search){var fe=d.pathname||"",ee=d.search||"";d.path=fe+ee}return d.slashes=d.slashes||$.slashes,d.href=d.format(),d}var ae=d.pathname&&d.pathname.charAt(0)==="/",M=$.host||$.pathname&&$.pathname.charAt(0)==="/",B=M||ae||d.host&&$.pathname,K=B,O=d.pathname&&d.pathname.split("/")||[],N=$.pathname&&$.pathname.split("/")||[],q=d.protocol&&!_[d.protocol];if(q&&(d.hostname="",d.port=null,d.host&&(O[0]===""?O[0]=d.host:O.unshift(d.host)),d.host="",$.protocol&&($.hostname=null,$.port=null,$.host&&(N[0]===""?N[0]=$.host:N.unshift($.host)),$.host=null),B=B&&(N[0]===""||O[0]==="")),M)d.host=$.host||$.host===""?$.host:d.host,d.hostname=$.hostname||$.hostname===""?$.hostname:d.hostname,d.search=$.search,d.query=$.query,O=N;else if(N.length)O||(O=[]),O.pop(),O=O.concat(N),d.search=$.search,d.query=$.query;else if($.search!=null){if(q){d.host=O.shift(),d.hostname=d.host;var ne=d.host&&d.host.indexOf("@")>0?d.host.split("@"):!1;ne&&(d.auth=ne.shift(),d.hostname=ne.shift(),d.host=d.hostname)}return d.search=$.search,d.query=$.query,(d.pathname!==null||d.search!==null)&&(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"")),d.href=d.format(),d}if(!O.length)return d.pathname=null,d.search?d.path="/"+d.search:d.path=null,d.href=d.format(),d;for(var J=O.slice(-1)[0],Y=(d.host||$.host||O.length>1)&&(J==="."||J==="..")||J==="",oe=0,be=O.length;be>=0;be--)J=O[be],J==="."?O.splice(be,1):J===".."?(O.splice(be,1),oe++):oe&&(O.splice(be,1),oe--);if(!B&&!K)for(;oe--;oe)O.unshift("..");B&&O[0]!==""&&(!O[0]||O[0].charAt(0)!=="/")&&O.unshift(""),Y&&O.join("/").substr(-1)!=="/"&&O.push("");var Oe=O[0]===""||O[0]&&O[0].charAt(0)==="/";if(q){d.hostname=Oe?"":O.length?O.shift():"",d.host=d.hostname;var ne=d.host&&d.host.indexOf("@")>0?d.host.split("@"):!1;ne&&(d.auth=ne.shift(),d.hostname=ne.shift(),d.host=d.hostname)}return B=B||d.host&&O.length,B&&!Oe&&O.unshift(""),O.length>0?d.pathname=O.join("/"):(d.pathname=null,d.path=null),(d.pathname!==null||d.search!==null)&&(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"")),d.auth=$.auth||d.auth,d.slashes=d.slashes||$.slashes,d.href=d.format(),d},t.prototype.parseHost=function(){var $=this.host,T=n.exec($);T&&(T=T[0],T!==":"&&(this.port=T.substr(1)),$=$.substr(0,$.length-T.length)),$&&(this.hostname=$)},_u.parse=h,_u.resolve=y,_u.resolveObject=S,_u.format=E,_u.Url=t,_u}function Mq(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Ub?One(e):Rne(e)}function One(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(Yq,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<Kq||n>Jq||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function Rne(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function Lq(e){let t=Qx.resolve(e);const r=e.charCodeAt(e.length-1);(r===Gq||Ub&&r===Wq)&&t[t.length-1]!==Qx.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(Xq,"%25")),!Ub&&t.includes("\\")&&(t=t.replace(Qq,"%5C")),t.includes(`
`)&&(t=t.replace(Zq,"%0A")),t.includes("\r")&&(t=t.replace(eV,"%0D")),t.includes("	")&&(t=t.replace(tV,"%09")),n.pathname=t,n}var Fq,$w,Zx,Tw,Aw,eP,xw,tP,Pw,rP,Ow,nP,Rw,iP,Iw,oP,_u,aP,ji,SD,Bq,Uq,zq,qq,Vq,Hq,Wq,Gq,Kq,Jq,Ub,Yq,Xq,Qq,Zq,eV,tV,Ine=nn({"../../node_modules/@jspm/core/nodelibs/browser/url.js"(){Te(),bne(),UR(),Ene(),bg(),Fq=Object.freeze(Object.create(null)),$w={},Zx=!1,Tw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Aw={},eP=!1,xw={},tP=!1,Pw={},rP=!1,Ow={},nP=!1,Rw={},iP=!1,Iw={},oP=!1,_u={},aP=!1,ji=Pne(),ji.parse,ji.resolve,ji.resolveObject,ji.format,ji.Url,SD=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,ji.URL=typeof URL<"u"?URL:null,ji.pathToFileURL=Lq,ji.fileURLToPath=Mq,Bq=ji.Url,Uq=ji.format,zq=ji.resolve,qq=ji.resolveObject,Vq=ji.parse,Hq=ji.URL,Wq=92,Gq=47,Kq=97,Jq=122,Ub=SD==="win32",Yq=/\//g,Xq=/%/g,Qq=/\\/g,Zq=/\n/g,eV=/\r/g,tV=/\t/g}}),Nne=Pe({"../../node_modules/eventsource/lib/eventsource.js"(e,t){Te();var r=(Ine(),Pr(jq)).parse,n=(Zz(),Pr(Wz)),i=(J_(),Pr(_g)),o=(NR(),Pr(G_)),a=(X_(),Pr(Y_)),s=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],l=[239,187,191],u=58,f=32,c=10,p=13,m=1024*256,g=/^(cookie|authorization)$/i;function _(S){return l.every(function($,T){return S[T]===$})}function v(S,$){var T=v.CONNECTING,d=$&&$.headers,A=!1;Object.defineProperty(this,"readyState",{get:function(){return T}}),Object.defineProperty(this,"url",{get:function(){return S}});var x=this;x.reconnectInterval=1e3,x.connectionInProgress=!1;function P(M){T!==v.CLOSED&&(T=v.CONNECTING,ee("error",new h("error",{message:M})),Z&&(S=Z,Z=null,A=!1),setTimeout(function(){T!==v.CONNECTING||x.connectionInProgress||(x.connectionInProgress=!0,fe())},x.reconnectInterval))}var j,F="";d&&d["Last-Event-ID"]&&(F=d["Last-Event-ID"],delete d["Last-Event-ID"]);var V=!1,X="",H="",Z=null;function fe(){var M=r(S),B=M.protocol==="https:";if(M.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},F&&(M.headers["Last-Event-ID"]=F),d){var K=A?y(d):d;for(var O in K){var N=K[O];N&&(M.headers[O]=N)}}M.rejectUnauthorized=!($&&!$.rejectUnauthorized),$&&$.createConnection!==void 0&&(M.createConnection=$.createConnection);var q=$&&$.proxy;if(q){var ne=r($.proxy);B=ne.protocol==="https:",M.protocol=B?"https:":"http:",M.path=S,M.headers.Host=M.host,M.hostname=ne.hostname,M.host=ne.host,M.port=ne.port}if($&&$.https){for(var J in $.https)if(s.indexOf(J)!==-1){var Y=$.https[J];Y!==void 0&&(M[J]=Y)}}$&&$.withCredentials!==void 0&&(M.withCredentials=$.withCredentials),j=(B?i:o).request(M,function(oe){if(x.connectionInProgress=!1,oe.statusCode===500||oe.statusCode===502||oe.statusCode===503||oe.statusCode===504){ee("error",new h("error",{status:oe.statusCode,message:oe.statusMessage})),P();return}if(oe.statusCode===301||oe.statusCode===302||oe.statusCode===307){var be=oe.headers.location;if(!be){ee("error",new h("error",{status:oe.statusCode,message:oe.statusMessage}));return}var Oe=new URL(S).origin,R=new URL(be).origin;A=Oe!==R,oe.statusCode===307&&(Z=S),S=be,process.nextTick(fe);return}if(oe.statusCode!==200)return ee("error",new h("error",{status:oe.statusCode,message:oe.statusMessage})),x.close();T=v.OPEN,oe.on("close",function(){oe.removeAllListeners("close"),oe.removeAllListeners("end"),P()}),oe.on("end",function(){oe.removeAllListeners("close"),oe.removeAllListeners("end"),P()}),ee("open",new h("open"));var C,D,G=0,ie=-1,ue=0,de=0;oe.on("data",function(ve){C?(ve.length>C.length-de&&(ue=C.length*2+ve.length,ue>m&&(ue=C.length+ve.length+m),D=Yr.alloc(ue),C.copy(D,0,0,de),C=D),ve.copy(C,de),de+=ve.length):(C=ve,_(C)&&(C=C.slice(l.length)),de=C.length);for(var Ne=0,Be=de;Ne<Be;){V&&(C[Ne]===c&&++Ne,V=!1);for(var je=-1,nt=ie,We,Ue=G;je<0&&Ue<Be;++Ue)We=C[Ue],We===u?nt<0&&(nt=Ue-Ne):We===p?(V=!0,je=Ue-Ne):We===c&&(je=Ue-Ne);if(je<0){G=Be-Ne,ie=nt;break}else G=0,ie=-1;ae(C,Ne,nt,je),Ne+=je+1}Ne===Be?(C=void 0,de=0):Ne>0&&(C=C.slice(Ne,de),de=C.length)})}),j.on("error",function(oe){x.connectionInProgress=!1,P(oe.message)}),j.setNoDelay&&j.setNoDelay(!0),j.end()}fe();function ee(){x.listeners(arguments[0]).length>0&&x.emit.apply(x,arguments)}this._close=function(){T!==v.CLOSED&&(T=v.CLOSED,j.abort&&j.abort(),j.xhr&&j.xhr.abort&&j.xhr.abort())};function ae(M,B,K,O){if(O===0){if(X.length>0){var N=H||"message";ee(N,new E(N,{data:X.slice(0,-1),lastEventId:F,origin:new URL(S).origin})),X=""}H=void 0}else if(K>0){var q=K<0,ne=0,J=M.slice(B,B+(q?O:K)).toString();q?ne=O:M[B+K+1]!==f?ne=K+1:ne=K+2,B+=ne;var Y=O-ne,oe=M.slice(B,B+Y).toString();if(J==="data")X+=oe+`
`;else if(J==="event")H=oe;else if(J==="id")F=oe;else if(J==="retry"){var be=parseInt(oe,10);Number.isNaN(be)||(x.reconnectInterval=be)}}}}t.exports=v,a.inherits(v,n.EventEmitter),v.prototype.constructor=v,["open","error","message"].forEach(function(S){Object.defineProperty(v.prototype,"on"+S,{get:function(){var T=this.listeners(S)[0];return T?T._listener?T._listener:T:void 0},set:function(T){this.removeAllListeners(S),this.addEventListener(S,T)}})}),Object.defineProperty(v,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(v,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(v,"CLOSED",{enumerable:!0,value:2}),v.prototype.CONNECTING=0,v.prototype.OPEN=1,v.prototype.CLOSED=2,v.prototype.close=function(){this._close()},v.prototype.addEventListener=function($,T){typeof T=="function"&&(T._listener=T,this.on($,T))},v.prototype.dispatchEvent=function($){if(!$.type)throw new Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit($.type,$.detail)},v.prototype.removeEventListener=function($,T){typeof T=="function"&&(T._listener=void 0,this.removeListener($,T))};function h(S,$){if(Object.defineProperty(this,"type",{writable:!1,value:S,enumerable:!0}),$)for(var T in $)$.hasOwnProperty(T)&&Object.defineProperty(this,T,{writable:!1,value:$[T],enumerable:!0})}function E(S,$){Object.defineProperty(this,"type",{writable:!1,value:S,enumerable:!0});for(var T in $)$.hasOwnProperty(T)&&Object.defineProperty(this,T,{writable:!1,value:$[T],enumerable:!0})}function y(S){var $={};for(var T in S)g.test(T)||($[T]=S[T]);return $}}}),kne=Pe({"../binding-http/dist/subscription-protocols.js"(e){Te();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.SSESubscription=e.LongPollingSubscription=void 0;var r=t(Nne()),n=Co(),i=(ja(),Pr(ea)),{debug:o}=(0,n.createLoggers)("binding-http","subscription-protocols"),a=class{constructor(l,u){this.form=l,this.client=u,this.closed=!1,this.abortController=new AbortController}open(l,u,f){return new Promise((c,p)=>{const m=async g=>{try{if(g){const h=await this.client.generateFetchRequest(this.form,"HEAD",{timeout:1e3,signal:this.abortController.signal});(await this.client.fetch(h)).ok&&c()}const _=await this.client.generateFetchRequest(this.form,"GET",{timeout:60*60*1e3,signal:this.abortController.signal});o(`HttpClient (subscribeResource) sending ${_.method} to ${_.url}`);const v=await this.client.fetch(_);if(this.client.checkFetchResponse(v),o(`HttpClient received ${v.status} from ${_.url}`),o(`HttpClient received headers: ${JSON.stringify(v.headers.raw())}`),o(`HttpClient received Content-Type: ${v.headers.get("content-type")}`),!this.closed){const h=n.ProtocolHelpers.toNodeStream(v.body);l(new n.Content(v.headers.get("content-type")??n.ContentSerdes.DEFAULT,h)),m(!1)}f&&f()}catch(_){const v=_ instanceof Error?_:new Error(JSON.stringify(_));u&&u(v),f&&f(),p(_)}};m(!0)})}close(){this.abortController.abort(),this.closed=!0}};e.LongPollingSubscription=a;var s=class{constructor(l){this.form=l,this.closed=!1}open(l,u,f){return new Promise((c,p)=>{this.eventSource=new r.default(this.form.href),this.eventSource.onopen=m=>{o(`HttpClient (subscribeResource) Server-Sent Event connection is opened to ${this.form.href}`),c()},this.eventSource.onmessage=m=>{o(`HttpClient received ${JSON.stringify(m)} from ${this.form.href}`);const g=new n.Content(this.form.contentType??n.ContentSerdes.DEFAULT,i.Readable.from(m.data));l(g)},this.eventSource.onerror=function(m){u==null||u(new Error(m.toString())),f&&f(),p(m.toString())}})}close(){var l;(l=this.eventSource)==null||l.close()}};e.SSESubscription=s}}),Cne=Pe({"../binding-http/dist/http-client-impl.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(E,y,S,$){$===void 0&&($=S);var T=Object.getOwnPropertyDescriptor(y,S);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[S]}}),Object.defineProperty(E,$,T)}:function(E,y,S,$){$===void 0&&($=S),E[$]=y[S]}),r=e&&e.__setModuleDefault||(Object.create?function(E,y){Object.defineProperty(E,"default",{enumerable:!0,value:y})}:function(E,y){E.default=y}),n=e&&e.__importStar||function(){var E=function(y){return E=Object.getOwnPropertyNames||function(S){var $=[];for(var T in S)Object.prototype.hasOwnProperty.call(S,T)&&($[$.length]=T);return $},E(y)};return function(y){if(y&&y.__esModule)return y;var S={};if(y!=null)for(var $=E(y),T=0;T<$.length;T++)$[T]!=="default"&&t(S,y,$[T]);return r(S,y),S}}(),i=e&&e.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0});var o=n((NR(),Pr(G_))),a=n((J_(),Pr(_g))),s=ane(),l=Co(),u=n(iI()),f=(ic(),Pr(nc)),c=i(Cq()),p=Nq(),m=kne(),{debug:g,warn:_,error:v}=(0,l.createLoggers)("binding-http","http-client-impl"),h=class zp{constructor(y=null,S=!1,$=new c.default){this.proxyRequest=null,this.allowSelfSigned=!1,this.credential=null,this.activeSubscriptions=new Map,y!==null&&y.proxy&&y.proxy.href&&(this.proxyRequest=new u.Request(zp.fixLocalhostName(y.proxy.href)),y.proxy.scheme==="basic"?((!Object.prototype.hasOwnProperty.call(y.proxy,"username")||!Object.prototype.hasOwnProperty.call(y.proxy,"password"))&&_("HttpClient client configured for basic proxy auth, but no username/password given"),this.proxyRequest.headers.set("proxy-authorization","Basic "+f.Buffer.from(y.proxy.username+":"+y.proxy.password).toString("base64"))):y.proxy.scheme==="bearer"&&(Object.prototype.hasOwnProperty.call(y.proxy,"token")||_("HttpClient client configured for bearer proxy auth, but no token given"),this.proxyRequest.headers.set("proxy-authorization","Bearer "+y.proxy.token)),this.proxyRequest.protocol==="https"&&(S=!0),g(`HttpClient using ${S?"secure ":""}proxy ${this.proxyRequest.hostname}:${this.proxyRequest.port}`)),y!==null&&y.allowSelfSigned!==void 0&&(this.allowSelfSigned=y.allowSelfSigned,_("HttpClient allowing self-signed/untrusted certificates -- USE FOR TESTING ONLY")),this.agent=S?new a.Agent({rejectUnauthorized:!this.allowSelfSigned}):new o.Agent,this.provider=S?"https":"http",this.oauth=$}toString(){return"[HttpClient]"}async readResource(y){const S=y.contentType!=null?[["accept",y.contentType]]:[["accept",l.ContentSerdes.DEFAULT]],$=await this.generateFetchRequest(y,"GET",{headers:S});g(`HttpClient (readResource) sending ${$.method} to ${$.url}`);const T=await this.fetch($);this.checkFetchResponse(T),g(`HttpClient received headers: ${JSON.stringify(T.headers.raw())}`),g(`HttpClient received Content-Type: ${T.headers.get("content-type")}`);const d=l.ProtocolHelpers.toNodeStream(T.body);return new l.Content(T.headers.get("content-type")??l.ContentSerdes.DEFAULT,d)}async writeResource(y,S){const $=await this.generateFetchRequest(y,"PUT",{headers:[["content-type",S.type]],body:S.body});g(`HttpClient (writeResource) sending ${$.method} with '${$.headers.get("Content-Type")}' to ${$.url}`);const T=await this.fetch($);g(`HttpClient received ${T.status} from ${T.url}`),this.checkFetchResponse(T),g(`HttpClient received headers: ${JSON.stringify(T.headers.raw())}`)}async subscribeResource(y,S,$,T){const d="longpoll";let A=y.subprotocol;A==null&&(_(`Subscribing to ${y.href} using long polling for form without subprotocol`),A=d);let x;if(A===d)x=new m.LongPollingSubscription(y,this);else if(y.subprotocol==="sse")x=new m.SSESubscription(y);else throw new Error(`HttpClient does not support subprotocol ${y.subprotocol}`);return await x.open(S,$,T),this.activeSubscriptions.set(y.href,x),new s.Subscription(()=>{x.close()})}async invokeResource(y,S){var x,P;const $=S!=null?[["content-type",S.type]]:[];((x=y.response)==null?void 0:x.contentType)!=null?$.push(["accept",(P=y.response)==null?void 0:P.contentType]):y.contentType!=null?$.push(["accept",y.contentType]):$.push(["accept",l.ContentSerdes.DEFAULT]);const T=await this.generateFetchRequest(y,"POST",{headers:$,body:S==null?void 0:S.body});g(`HttpClient (invokeResource) sending ${T.method} ${S!=null?`with '"${T.headers.get("Content-Type")}"`:""} to ${T.url}`);const d=await this.fetch(T);g(`HttpClient received ${d.status} from ${T.url}`),g(`HttpClient received Content-Type: ${d.headers.get("content-type")}`),this.checkFetchResponse(d);const A=l.ProtocolHelpers.toNodeStream(d.body);return new l.Content(d.headers.get("content-type")??l.ContentSerdes.DEFAULT,A)}async unlinkResource(y){g(`HttpClient (unlinkResource) ${y.href}`);const S=this.activeSubscriptions.get(y.href);S?S.close():_(`HttpClient cannot unlink ${y.href} no subscription found`)}async requestThingDescription(y){const S={Accept:"application/td+json"},$=await this.generateFetchRequest({href:y},"GET",S),T=await this.fetch($),d=l.ProtocolHelpers.toNodeStream(T.body);return new l.Content(T.headers.get("content-type")??"application/td+json",d)}async start(){}async stop(){var y,S;(S=(y=this.agent)==null?void 0:y.destroy)==null||S.call(y)}setSecurity(y,S){if(y===void 0||!Array.isArray(y)||y.length===0)return _("HttpClient without security"),!1;const $=y[0];switch($.scheme){case"basic":{const T=$;this.credential=new p.BasicCredential(S,T);break}case"bearer":{const T=$;this.credential=new p.BearerCredential(S,T);break}case"apikey":{const T=$;this.credential=new p.BasicKeyCredential(S,T);break}case"oauth2":{const T=$;T.flow==="client"?(T.flow="client_credentials",this.credential=this.oauth.handleClient(T,S)):T.flow==="password"&&(this.credential=this.oauth.handleResourceOwnerCredential(T,S));break}case"TuyaCustomBearer":{this.credential=new p.TuyaCustomBearer(S,$);break}case"nosec":break;default:return v(`HttpClient cannot set security scheme '${$.scheme}'. ${y}`),!1}if($.proxy!=null){if(this.proxyRequest!==null&&g(`HttpClient overriding client-side proxy with security proxy '${$.proxy}`),this.proxyRequest=new u.Request(zp.fixLocalhostName($.proxy)),$.scheme==="basic"){const T=S;if(T===void 0||T.username===void 0||T.password===void 0)throw new Error("No Basic credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Basic "+f.Buffer.from(T.username+":"+T.password).toString("base64"))}else if($.scheme==="bearer"){const T=S;if(S===void 0||T.token===void 0)throw new Error("No Bearer credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Bearer "+T.token)}}return g(`HttpClient using security scheme '${$.scheme}'`),!0}async generateFetchRequest(y,S,$={}){const T=$,d=zp.fixLocalhostName(y.href);if(T.method=y["htv:methodName"]?y["htv:methodName"]:S,T.headers=T.headers??[],T.headers=T.headers,Array.isArray(y["htv:headers"])){g(`HttpClient got Form 'headers' ${y["htv:headers"]}`);const x=y["htv:headers"];for(const P of x)T.headers=T.headers.filter(j=>j[0].toLowerCase()!==P["htv:fieldName"].toLowerCase()),T.headers.push([P["htv:fieldName"],P["htv:fieldValue"]])}else if(typeof y["htv:headers"]=="object"){g(`HttpClient got Form SINGLE-ENTRY 'headers' ${y["htv:headers"]}`);const x=y["htv:headers"];T.headers=T.headers.filter(P=>P[0].toLowerCase()!==x["htv:fieldName"].toLowerCase()),T.headers.push([x["htv:fieldName"],x["htv:fieldValue"]])}T.agent=this.agent;let A=this.proxyRequest?new u.Request(this.proxyRequest,T):new u.Request(d,T);if(this.credential&&(A=await this.credential.sign(A)),this.proxyRequest){const x=new URL(d);A.url=A.url+x.pathname,g(`HttpClient proxy request URL: ${A.url}`),A.headers.set("host",x.hostname)}return A}async fetch(y,S){const $=await(0,u.default)(y,{body:S==null?void 0:S.body});return zp.isOAuthTokenExpired($,this.credential)?(this.credential=await this.credential.refreshToken(),await(0,u.default)(await this.credential.sign(y))):$}checkFetchResponse(y){const S=y.status;if(S<200)throw new Error(`HttpClient received ${S} and cannot continue (not implemented, open GitHub Issue)`);if(!(S<300))throw S<400?new Error(`HttpClient received ${S} and cannot continue (not implemented, open GitHub Issue)`):S<500?new Error(`Client error: ${y.statusText}`):new Error(`Server error: ${y.statusText}`)}static isOAuthTokenExpired(y,S){return y.status===401&&S instanceof p.OAuthCredential}static fixLocalhostName(y){const S=/^(https?:)?(\/\/)?(?:[^@\n]+@)?(www\.)?(localhost)/gm;return S.test(y)?(_("LOCALHOST FIX"),y.replace(S,"$1$2127.0.0.1")):y}};e.default=h}}),zb=Pe({"../binding-http/dist/http-client-browser.js"(e){Te();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var r=Co(),n=(ja(),Pr(ea)),i=t(Cne()),o=class extends i.default{async generateFetchRequest(a,s,l){if((l==null?void 0:l.body)instanceof n.Readable){const u=await r.ProtocolHelpers.readStreamFully(l.body);l.body=u}return super.generateFetchRequest(a,s,l)}};e.default=o}}),$D=Pe({"../binding-http/dist/http-client-factory.js"(e){Te();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=Co(),n=t(zb()),i=t(Cq()),{debug:o,warn:a}=(0,r.createLoggers)("binding-http","http-client-factory"),s=class{constructor(l=null){this.scheme="http",this.config=null,this.oAuthManager=new i.default,this.config=l}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("https:")?(a("HttpClientFactory creating client for 'https' due to secure proxy configuration"),new n.default(this.config,!0,this.oAuthManager)):(o(`HttpClientFactory creating client for '${this.scheme}'`),new n.default(this.config))}init(){return!0}destroy(){return!0}};e.default=s}}),TD=Pe({"../binding-http/dist/https-client-factory.js"(e){Te();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var r=Co(),n=t(zb()),{debug:i,warn:o}=(0,r.createLoggers)("binding-http","https-client-factory"),a=class{constructor(s=null){this.scheme="https",this.config=null,this.config=s}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("http:")?(o("HttpsClientFactory creating client for 'http' due to insecure proxy configuration"),new n.default(this.config)):(i(`HttpsClientFactory creating client for '${this.scheme}'`),new n.default(this.config,!0))}init(){return!0}destroy(){return!0}};e.default=a}}),jne=Pe({"../binding-http/dist/http-browser.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(c,p,m,g){g===void 0&&(g=m);var _=Object.getOwnPropertyDescriptor(p,m);(!_||("get"in _?!p.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return p[m]}}),Object.defineProperty(c,g,_)}:function(c,p,m,g){g===void 0&&(g=m),c[g]=p[m]}),r=e&&e.__exportStar||function(c,p){for(var m in c)m!=="default"&&!Object.prototype.hasOwnProperty.call(p,m)&&t(p,c,m)},n=e&&e.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.HttpForm=e.HttpHeader=e.HttpsClientFactory=e.HttpClientFactory=e.HttpClient=void 0;var i=Co(),o=iI(),a=zb();Object.defineProperty(e,"HttpClient",{enumerable:!0,get:function(){return n(a).default}});var s=$D();Object.defineProperty(e,"HttpClientFactory",{enumerable:!0,get:function(){return n(s).default}});var l=TD();Object.defineProperty(e,"HttpsClientFactory",{enumerable:!0,get:function(){return n(l).default}}),r(zb(),e),r($D(),e),r(TD(),e);var u=class{};e.HttpHeader=u;var f=class extends i.Form{};e.HttpForm=f,o.Headers.prototype.raw=function(){const c={};for(const[p,m]of this.entries())c[p]=m.split(",");return c},o.Response.prototype.buffer=async function(){return Yr.from(await this.arrayBuffer())}}}),sP=Pe({"../binding-websockets/dist/ws-client.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Co(),{debug:r,warn:n}=(0,t.createLoggers)("binding-websockets","ws-client"),i=class{constructor(){}toString(){return"[WebSocketClient]"}readResource(o){return new Promise((a,s)=>{})}writeResource(o,a){return new Promise((s,l)=>{})}invokeResource(o,a){return new Promise((s,l)=>{})}unlinkResource(o){return new Promise((a,s)=>{})}subscribeResource(o,a,s,l){throw new Error("Websocket client does not implement subscribeResource")}async requestThingDescription(o){throw new Error("Method not implemented")}async start(){}async stop(){}setSecurity(o,a){if(o===void 0||!Array.isArray(o)||o.length===0)return n("WebSocketClient received empty security metadata"),!1;const s=o[0];return r(`WebSocketClient using security scheme '${s.scheme}'`),!0}};e.default=i}}),AD=Pe({"../binding-websockets/dist/ws-client-factory.js"(e){Te();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var r=Co(),n=t(sP()),{debug:i}=(0,r.createLoggers)("binding-websockets","ws-client-factory"),o=class{constructor(a=null){this.scheme="ws",this.clientSideProxy=null,this.clientSideProxy=a}getClient(){return i(`HttpClientFactory creating client for '${this.scheme}'`),new n.default}init(){return!0}destroy(){return!0}};e.default=o}}),xD=Pe({"../binding-websockets/dist/wss-client-factory.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(){this.scheme="wss"}getClient(){throw new Error("WssClientFactory for 'wss' is not implemented")}init(){return!0}destroy(){return!0}};e.default=t}}),Dne=Pe({"../binding-websockets/dist/ws-browser.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(s,l,u,f){f===void 0&&(f=u);var c=Object.getOwnPropertyDescriptor(l,u);(!c||("get"in c?!l.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(s,f,c)}:function(s,l,u,f){f===void 0&&(f=u),s[f]=l[u]}),r=e&&e.__exportStar||function(s,l){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&t(l,s,u)},n=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketSecureClientFactory=e.WebSocketClientFactory=e.WebSocketClient=void 0;var i=sP();Object.defineProperty(e,"WebSocketClient",{enumerable:!0,get:function(){return n(i).default}});var o=AD();Object.defineProperty(e,"WebSocketClientFactory",{enumerable:!0,get:function(){return n(o).default}});var a=xD();Object.defineProperty(e,"WebSocketSecureClientFactory",{enumerable:!0,get:function(){return n(a).default}}),r(sP(),e),r(AD(),e),r(xD(),e)}});Te();var Mne=ER(Co()),Lne=ER(jne());ER(Dne());const aI=new Mne.Servient;aI.addClientFactory(new Lne.HttpClientFactory);console.log("init servient");const rV={readproperty:{color:"Green",title:"Read",level:"properties",callback:Bne},writeproperty:{color:"Blue",title:"Write",level:"properties",callback:Une},observeproperty:{color:"Orange",title:"Observe",level:"properties",callback:null},unobserveproperty:{color:"Red",title:"Unobserve",level:"properties",callback:null},invokeaction:{color:"Orange",title:"Invoke",level:"actions",callback:null},subscribeevent:{color:"Orange",title:"Subscribe",level:"events",callback:null},unsubscribeevent:{color:"Red",title:"Unsubscribe",level:"events",callback:null},readmultipleproperties:{color:"Green",title:"Read Multiple",level:"thing",callback:null},readallproperties:{color:"Green",title:"Read All",level:"thing",callback:null},writemultipleproperties:{color:"Blue",title:"Write Multiple",level:"thing",callback:null},writeallproperties:{color:"Blue",title:"Write All",level:"thing",callback:null},observeallproperties:{color:"Orange",title:"Observe All",level:"thing",callback:null},unobserveallproperties:{color:"Red",title:"Unobserve All",level:"thing",callback:null}};function dd(e){return e.replace(/^"|"$/g,"")}const Fne=(e,t)=>{try{switch(e){case"boolean":return dd(t).toLowerCase()==="true";case"integer":const r=parseInt(dd(t),10);if(isNaN(r))throw new Error(`Error on convert "${t}" to an integer.`);return r;case"number":const n=parseFloat(dd(t));if(isNaN(n))throw new Error(`Error on convert "${t}" to a number.`);return n;case"string":return dd(t);case"array":let i=dd(t);if(Array.isArray(i))return i;try{const o=JSON.parse(i);if(Array.isArray(o))return o}catch{throw new Error(`Error on convert "${t}" to an array.`)}case"object":try{return JSON.parse(dd(t))}catch{throw new Error(`Error on convert "${t}" to an object.`)}default:throw new Error(`Unsupported type: "${e}".`)}}catch(r){console.error(`Failed to parse content for ${e}:`,r)}};async function Bne(e,t,r){try{const o=await(await(await aI.start()).consume(e)).readProperty(t);o.ignoreValidation=!0;const a=await o.value();return{result:JSON.stringify(a,null,2),err:null}}catch(n){return console.debug(n),{result:"",err:n}}}async function Une(e,t,r){try{const n=e.properties[t].type,i=Fne(n,r);return await(await(await aI.start()).consume(e)).writeProperty(t,i),{result:`Successfully wrote ${JSON.stringify(i).length>50?JSON.stringify(i).slice(0,50)+"...":JSON.stringify(i)} to '${t}'.`,err:null}}catch(n){return console.debug(n),{result:"",err:n}}}function cE(e){e.form.propName=e.propName;const t=rV[e.form.op];return t?qne(e.form.op,e.form,t.callback):ce.jsx(Vne,{level:zne(e.interactionType),form:e.form})}const zne=e=>({action:"actions",property:"properties",event:"events",thing:"thing"})[e];function qne(e,t,r){const n=De.useContext(bn),[i,o]=De.useState(""),[a,s]=De.useState(!1),[l,u]=De.useState(null),[f,c]=De.useState(null),p=rV[e];if(!p)return ce.jsx(ce.Fragment,{});const m=ce.jsx("div",{className:"flex h-8 min-w-20 justify-center place-self-center rounded-md bg-white",children:ce.jsx("div",{className:`text-form${p.color} place-self-center px-4 text-center`,children:p.title})}),g=async()=>{if(!r)return;s(!0);const _=await r(n.parsedTD,t.propName,i);_.err!==null?(c(_.err.message),u(null)):(c(null),u(_.result)),s(!1),o("")};return ce.jsxs(ce.Fragment,{children:[ce.jsxs("div",{className:`flex min-h-12 w-full items-stretch bg-opacity-75 bg-form${p.color} mt-2 ${a||l!==null||f!=null||t.op==="writeproperty"?"rounded-t-md":"rounded-md"} border-2 pl-4 border-form${p.color}`,children:[r&&ce.jsx("button",{onClick:g,children:m}),!r&&ce.jsx("div",{className:"flex",children:m}),ce.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-base text-white",children:t.href}),(f!==null||l!==null)&&ce.jsx("button",{className:`flex min-w-10 items-center justify-center border-r-2 border-form${p.color} bg-form${p.color}`,onClick:()=>{c(null),u(null)},children:ce.jsx(QO,{size:16,color:"white"})}),ce.jsx("button",{className:`flex min-w-10 items-center justify-center bg-form${p.color}`,onClick:()=>n.removeForm(p.level,t.propName,t,t.actualIndex),children:ce.jsx(tc,{size:16,color:"white"})})]}),t.op==="writeproperty"&&ce.jsx("form",{onSubmit:_=>{_.preventDefault(),g()},children:ce.jsx("input",{type:"text",placeholder:"Input a value and hit write...",value:i,onChange:_=>o(_.target.value),className:`flex w-full overflow-auto bg-white px-4 py-2 ${l!==null||f!=null?"border-b-2 border-gray-300":"rounded-b-md"}`})}),a!==!1&&ce.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:ce.jsx("div",{className:"p-4 text-black",children:"Waiting for a response..."})}),f!==null&&ce.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:ce.jsxs("div",{className:"text-formRed p-4",children:["Error: ",f]})}),l!==null&&ce.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:ce.jsx("div",{className:"p-4 text-black",children:l})})]})}function sI(e){return ce.jsx("button",{className:"border-formBlue bg-formBlue flex min-h-10 w-full items-stretch rounded-md border-2 bg-opacity-75 pl-4",onClick:e.onClick,children:ce.jsxs("div",{className:"flex items-center justify-center",children:[ce.jsx(oR,{color:"white",size:"20"}),ce.jsx("div",{className:"pl-2 text-center text-white",children:"Click to add Form..."})]})})}function Vne(e){const t=De.useContext(bn);return ce.jsxs("div",{className:"flex min-h-10 w-full items-stretch rounded-md border-2 border-gray-300 bg-gray-300 bg-opacity-75 pl-4",children:[ce.jsx("div",{className:"flex h-6 min-w-20 justify-center place-self-center rounded-md bg-white",children:ce.jsx("div",{className:"place-self-center px-4 text-center text-xs text-black",children:"Undefined"})}),ce.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-white",children:e.form.href}),ce.jsx("button",{className:"flex w-10 items-center justify-center bg-gray-300",onClick:()=>t.removeForm(e.level,e.form.propName,e.form,e.form.actualIndex),children:ce.jsx(tc,{size:16,color:"black"})})]})}const lI=e=>ce.jsxs("div",{className:"py-1",children:[ce.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),ce.jsx("input",{name:e.id,id:e.id,className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:e.placeholder,type:e.type??"text",autoFocus:e.autoFocus??!1,onChange:e.onChange?()=>e.onChange():null}),ce.jsx("span",{id:`${e.id}-helper-text`,className:"pl-2 text-xs text-red-400"})]},e.id),uI=e=>ce.jsxs(ce.Fragment,{children:[ce.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),ce.jsx("textarea",{id:e.id,rows:"5",className:"w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:e.placeholder})]}),Hne=e=>ce.jsxs(ce.Fragment,{children:[ce.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),ce.jsxs("div",{className:"relative",children:[ce.jsx("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:e.id,children:e.options.map(t=>ce.jsx("option",{children:t},t))}),ce.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:ce.jsx(cf,{color:"#cacaca"})})]})]}),PD=e=>ce.jsxs("div",{className:"form-checkbox pl-2",children:[e.readOnly??!0?ce.jsx("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label}):ce.jsx("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label,readOnly:e.readOnly,checked:!0}),ce.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:e.id,children:e.label})]},e.id),Wne=De.forwardRef((e,t)=>{const r=De.useContext(bn),[n,i]=tt.useState(()=>!1),o="action",a="actions",s=o[0].toUpperCase()+o.slice(1);De.useEffect(()=>{},[n,r]),De.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=ce.jsxs(ce.Fragment,{children:[ce.jsx(lI,{id:`${o}-title`,label:"Title",placeholder:`${s} Title`,autoFocus:!0,onChange:()=>m()}),ce.jsx(uI,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${s}...`})]}),c=()=>{if(!r.isValidJSON){p("Can't add Action. TD is malformed.");return}let g={};g.title=document.getElementById(`${o}-title`).value;const _=document.getElementById(`${o}-description`).value;_!==""&&(g.description=_),g.forms=[];const v=r.parsedTD;v[a]&&v[a][g.title]?p(`An ${s} with this title already exists...`):(v[a]={...v[a],[g.title]:g},r.updateOfflineTD(JSON.stringify(v,null,2)),u())},p=g=>{document.getElementById(`${o}-title-helper-text`).textContent=g,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?zl.createPortal(ce.jsx(ql,{onCancel:u,onSubmit:()=>{c()},submitText:`Add ${s}`,children:f,title:`Add New ${s}`,description:`Tell us a little something about the ${s} you want to add.`}),document.getElementById("modal-root")):null}),Gne=De.forwardRef((e,t)=>{const r=De.useContext(bn),[n,i]=tt.useState(()=>!1),o="event",a="events",s=o[0].toUpperCase()+o.slice(1);De.useEffect(()=>{},[n,r]),De.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=ce.jsxs(ce.Fragment,{children:[ce.jsx(lI,{id:`${o}-title`,label:"Title",placeholder:`${s} Title`,autoFocus:!0,onChange:()=>m()}),ce.jsx(uI,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${s}...`})]}),c=()=>{let g={};g.title=document.getElementById(`${o}-title`).value;const _=document.getElementById(`${o}-description`).value;if(_!==""&&(g.description=_),g.forms=[],!r.isValidJSON){p("Can't add Event. TD is malformed.");return}const v=r.parsedTD;v[a]&&v[a][g.title]?p(`An ${s} with this title already exists...`):(v[a]={...v[a],[g.title]:g},r.updateOfflineTD(JSON.stringify(v,null,2)),u())},p=g=>{document.getElementById(`${o}-title-helper-text`).textContent=g,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?zl.createPortal(ce.jsx(ql,{onCancel:u,onSubmit:()=>{c()},submitText:`Add ${s}`,children:f,title:`Add New ${s}`,description:`Tell us a little something about the ${s} you want to add.`}),document.getElementById("modal-root")):null}),OD="undefined",Kne=De.forwardRef((e,t)=>{const r=De.useContext(bn),[n,i]=tt.useState(()=>!1),o="property",a="properties",s=o[0].toUpperCase()+o.slice(1);De.useEffect(()=>{},[n,r]),De.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=ce.jsxs(ce.Fragment,{children:[ce.jsx(lI,{id:`${o}-title`,label:"Title",placeholder:`${s} Title`,autoFocus:!0,onChange:()=>m()}),ce.jsx(uI,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${s}...`}),ce.jsx(Hne,{id:`${o}-type`,label:"Type",options:[OD,"number","integer","boolean","string","object","array"]}),ce.jsx("div",{className:"h-2"}),ce.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Additional:"}),ce.jsxs("div",{id:"additional",className:"rounded-md bg-gray-600 p-1",children:[ce.jsx(PD,{id:`${o}-readOnly`,label:"Read Only"}),ce.jsx(PD,{id:`${o}-observable`,label:"Observable"})]})]}),c=()=>{if(!r.isValidJSON){p("Can't add Action. TD is malformed.");return}let g={};g.title=document.getElementById(`${o}-title`).value,g.observable=document.getElementById(`${o}-observable`).checked,g.readOnly=document.getElementById(`${o}-readOnly`).checked;const _=document.getElementById(`${o}-description`).value;_!==""&&(g.description=_);const v=document.getElementById(`${o}-type`).value;v!==OD&&(g.type=v),v==="array"?g.items={}:v==="object"&&(g.properties={}),g.forms=[];const h=r.parsedTD;h[a]&&h[a][g.title]?p(`A ${s} with this title already exists...`):(h[a]={...h[a],[g.title]:g},r.updateOfflineTD(JSON.stringify(h,null,2)),u())},p=g=>{document.getElementById(`${o}-title-helper-text`).textContent=g,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?zl.createPortal(ce.jsx(ql,{onCancel:u,onSubmit:()=>{c()},submitText:`Add ${s}`,children:f,title:`Add New ${s}`,description:`Tell us a little something about the ${s} you want to add.`}),document.getElementById("modal-root")):null}),Jne=["title","forms","description"];function Yne(e){const t=De.useContext(bn),[r,n]=De.useState(!1),i=tt.useRef(),o=()=>{i.current.openModal()};if(Object.keys(e.action).length===0&&e.action.constructor!==Object)return ce.jsx("div",{className:"text-3xl text-white",children:"Action could not be rendered because mandatory fields are missing."});const a=e.action,s=k_(e.action.forms),l=N_({name:e.actionName},e.action,Jne),u=Object.keys(l).map(c=>ce.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("actions",e.actionName)};return ce.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[ce.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[ce.jsx("h3",{className:"flex-grow px-2",children:a.title??e.actionName}),r&&ce.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:ce.jsx(tc,{size:16,color:"white"})})]}),ce.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[a.description&&ce.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:a.description}),ce.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),ce.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:ce.jsx(Rl,{className:"flex-grow",tooltip:gg(),id:"actions",children:ce.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),ce.jsx(sI,{onClick:o}),ce.jsx(C_,{type:"action",interaction:a,interactionName:e.actionName,ref:i}),s.map((c,p)=>ce.jsx(cE,{form:c,propName:e.actionName,interactionType:"action"},`${p}-${c.href}`))]})]})}const Xne=["title","forms","description"];function Qne(e){const t=De.useContext(bn),[r,n]=De.useState(!1),i=tt.useRef(),o=()=>{i.current.openModal()};if(Object.keys(e.event).length===0&&e.event.constructor!==Object)return ce.jsx("div",{className:"text-3xl text-white",children:"Event could not be rendered because mandatory fields are missing."});const a=e.event,s=k_(e.event.forms),l=N_({name:e.eventName},e.event,Xne),u=Object.keys(l).map(c=>ce.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("events",e.eventName)};return ce.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[ce.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[ce.jsx("div",{className:"flex-grow px-2",children:a.title??e.eventName}),r&&ce.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:ce.jsx(tc,{size:16,color:"white"})})]}),ce.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[a.description&&ce.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:a.description}),ce.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),ce.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:ce.jsx(Rl,{className:"flex-grow",tooltip:gg(),id:"events",children:ce.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),ce.jsx(sI,{onClick:o}),ce.jsx(C_,{type:"event",interaction:a,interactionName:e.eventName,ref:i}),s.map((c,p)=>ce.jsx(cE,{form:c,propName:e.eventName,interactionType:"event"},`${p}-${c.href}`))]})]})}const Zne=["title","forms","description"];function eie(e){const t=De.useContext(bn),[r,n]=De.useState(!1),i=tt.useRef(e),o=()=>{i.current.openModal()};if(Object.keys(e.prop).length===0&&e.prop.constructor!==Object)return ce.jsx("div",{className:"text-3xl text-white",children:"Property could not be rendered because mandatory fields are missing."});const a=e.prop,s=k_(e.prop.forms),l=N_({name:e.propName},e.prop,Zne),u=Object.keys(l).map(c=>ce.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("properties",e.propName)};return ce.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[ce.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[ce.jsx("h3",{className:"flex-grow px-2",children:a.title??e.propName}),r&&ce.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:ce.jsx(tc,{size:16,color:"white"})})]}),ce.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[a.description&&ce.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:a.description}),ce.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),ce.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:ce.jsx(Rl,{className:"flex-grow",tooltip:gg(),id:"properties",children:ce.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),ce.jsx(sI,{onClick:o}),ce.jsx(C_,{type:"property",interaction:a,interactionName:e.propName,ref:i}),s.map((c,p)=>ce.jsx(cE,{propName:e.propName,form:c,interactionType:"property"},`${p}-${c.href}`))]})]})}const tie=e=>ce.jsxs("div",{className:"relative text-gray-600",children:[ce.jsx("input",{type:"search",autoComplete:"on",className:"caret-gray h-9 place-self-center rounded-lg bg-gray-600 px-5 pr-10 text-sm text-white focus:outline-none",onKeyUp:e.onKeyUp,placeholder:e.placeholder,"aria-label":e.ariaLabel}),ce.jsx("div",{disabled:!0,type:"submit",className:"absolute right-0 top-0 mr-4 mt-1 cursor-default",children:ce.jsx(dR,{color:"#2c2c2e"})})]}),QS=({value:e,description:t,onClick:r})=>ce.jsxs("div",{className:"grid h-full w-full grid-cols-12 pb-1 pt-1",children:[t?ce.jsx("div",{className:"col-span-6 flex h-full w-full items-center justify-center font-bold text-white",children:t}):ce.jsx("div",{className:"col-span-0"}),ce.jsx("div",{className:`${t?"col-span-4":"col-span-8"} flex h-full w-full items-center justify-center rounded-l-lg bg-gray-600 font-bold text-white`,children:ce.jsx("h1",{children:e.toString()})}),ce.jsx("div",{className:"col-span-2 h-full w-full pr-1",children:ce.jsx("button",{className:"flex h-full w-full cursor-pointer items-center justify-center rounded-r-lg bg-gray-600",onClick:r,children:ce.jsx(sR,{size:16,color:"white"})})})]}),rie=({value:e,onUpdate:t})=>{const r=()=>{const i=e<255?e+1:0;t(i)},n=()=>{const i=e>0?e-1:255;t(i)};return ce.jsx(ce.Fragment,{children:ce.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[ce.jsx("div",{className:"col-span-0"}),ce.jsx("div",{className:"col-span-6 flex h-full w-full items-center justify-center rounded-l-lg bg-gray-600 font-bold text-white",children:ce.jsx("h1",{children:e.toString()})}),ce.jsxs("div",{className:"col-span-4 flex h-full w-full",children:[ce.jsx("button",{className:"justify-centers flex h-full w-full cursor-pointer items-center bg-gray-600",onClick:r,children:ce.jsx(aR,{size:18,color:"white"})}),ce.jsx("button",{className:"flex h-full w-full cursor-pointer items-center justify-center rounded-r-lg bg-gray-600",onClick:n,children:ce.jsx(iR,{size:18,color:"white"})})]})]})})},nie=e=>{const t=De.useContext(bn),r=t.parsedTD,[n,i]=De.useState(0),[o,a]=De.useState(!0),[s,l]=De.useState({wordSwap:!1,byteSwap:!1}),u=(h,E,y)=>{r.properties&&(Object.entries(r.properties).forEach(([S,$])=>{$.forms&&$.forms.forEach(T=>{if(!T.href){alert(`Form href is empty on property: ${S}`);return}(e.isBaseModbus||T.href.startsWith("modbus://")||T.href.startsWith("modbus+tcp://"))&&(y==="endianness"?h==="wordSwap"?T["modbus:mostSignificantWord"]=E:h==="byteSwap"&&(T["modbus:mostSignificantByte"]=E):T[h]=E)})}),t.updateOfflineTD(JSON.stringify(r,null,2)))},f=h=>{i(h),u("modbus:unitID",h)},c=h=>{a(h),u("modbus:zeroBasedAddressing",h)},p=(h,E)=>{l(y=>({...y,[E]:h})),u(E,h,"endianness")},m=tt.useMemo(()=>{const h={unitID:!0,zeroBasedAddressing:!0,mostSignificantWord:!0,mostSignificantByte:!0};if(!r.properties)return h;const E={},y={unitID:!1,zeroBasedAddressing:!1,mostSignificantWord:!1,mostSignificantByte:!1};for(const[S,$]of Object.entries(r.properties))if($.forms){for(const T of $.forms)if(T.href&&(e.isBaseModbus||T.href.startsWith("modbus://")||T.href.startsWith("modbus+tcp://"))){const d=T["modbus:unitID"];d!==void 0&&(y.unitID?d!==E.unitID&&(h.unitID=!1):(E.unitID=d,y.unitID=!0,n!==d&&i(d)));const A=T["modbus:zeroBasedAddressing"];A!==void 0&&(y.zeroBasedAddressing?A!==E.zeroBasedAddressing&&(h.zeroBasedAddressing=!1):(E.zeroBasedAddressing=A,y.zeroBasedAddressing=!0,o!==A&&a(A)));const x=T["modbus:mostSignificantWord"];x!==void 0&&(y.mostSignificantWord?x!==E.mostSignificantWord&&(h.mostSignificantWord=!1):(E.mostSignificantWord=x,y.mostSignificantWord=!0,s.wordSwap!==x&&l(j=>({...j,wordSwap:x}))));const P=T["modbus:mostSignificantByte"];P!==void 0&&(y.mostSignificantByte?P!==E.mostSignificantByte&&(h.mostSignificantByte=!1):(E.mostSignificantByte=P,y.mostSignificantByte=!0,s.byteSwap!==P&&l(j=>({...j,byteSwap:P}))))}}return h},[r.properties,e.isBaseModbus,n,o,s]),g=ce.jsx(ce.Fragment,{children:ce.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[ce.jsx("div",{className:"col-span-6 flex items-center justify-center rounded-l-md bg-blue-500",children:ce.jsx(Rl,{tooltip:SB(),id:"addressOffset",children:ce.jsx("h1",{className:"p-2 font-bold text-white",children:"Address Offset"})})}),ce.jsx("div",{className:"col-span-6 rounded-r-md bg-blue-500",children:ce.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[ce.jsx("div",{className:"col-span-12"}),ce.jsx("div",{className:"col-span-12",children:ce.jsx("div",{className:"grid h-full w-full grid-cols-12",children:ce.jsx("div",{id:"firstRow",className:"col-span-12 bg-blue-500",children:ce.jsx(QS,{description:"",value:o,onClick:()=>c(!o)})})})}),ce.jsx("div",{className:"col-span-12"})]})})]})}),_=ce.jsx(ce.Fragment,{children:ce.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[ce.jsx("div",{className:"col-span-4 flex items-center justify-center rounded-l-md bg-blue-500",children:ce.jsx(Rl,{tooltip:$B(),id:"endianness",children:ce.jsx("h1",{className:"p-2 font-bold text-white",children:"Endianness"})})}),ce.jsx("div",{className:"col-span-8 rounded-r-md",children:ce.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[ce.jsx("div",{id:"firstRow",className:"col-span-12 rounded-tr-md bg-blue-500",children:ce.jsx(QS,{description:"wordswap",value:s.wordSwap,onClick:()=>p(!s.wordSwap,"wordSwap")})}),ce.jsx("div",{id:"secondRow",className:"col-span-12 rounded-br-md bg-blue-500",children:ce.jsx(QS,{description:"byteswap",value:s.byteSwap,onClick:()=>p(!s.byteSwap,"byteSwap")})})]})})]})}),v=ce.jsx(ce.Fragment,{children:ce.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[ce.jsx("div",{className:"col-span-6 flex items-center justify-center rounded-l-md bg-blue-500",children:ce.jsx(Rl,{tooltip:EB(),id:"unitId",children:ce.jsx("h1",{className:"p-2 font-bold text-white",children:"Unit ID"})})}),ce.jsx("div",{className:"col-span-6 rounded-r-md bg-blue-500",children:ce.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[ce.jsx("div",{className:"col-span-12"}),ce.jsx("div",{className:"col-span-12",children:ce.jsx("div",{className:"grid h-full w-full grid-cols-12",children:ce.jsx("div",{id:"firstRow",className:"col-span-12 bg-blue-500",children:ce.jsx(rie,{value:n,onUpdate:f})})})}),ce.jsx("div",{className:"col-span-12"})]})})]})});return ce.jsx(ce.Fragment,{children:ce.jsxs("div",{className:"grid grid-cols-12 gap-1 rounded-t-md bg-gray-600 px-2",children:[ce.jsx("div",{className:"col-span-12 rounded-md bg-gray-600 px-2",children:e.isBaseModbus?ce.jsx("h1",{className:"py-1 text-xl text-white",children:"Edit in bulk"}):ce.jsx("div",{})}),ce.jsx("div",{id:"unitId",className:`col-span-4 px-2 ${m.unitID?"h-16":"h-full"}`,children:m.unitID?v:ce.jsx(ce.Fragment,{children:ce.jsxs("div",{className:"flex h-full flex-col",children:[ce.jsx("div",{className:"flex-grow",children:v}),ce.jsx("div",{className:"rounded-md p-1 text-center",children:ce.jsx("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:"Different unit id is detected on different affordances. Clicking + or - will set all to the same value"})})]})})}),ce.jsx("div",{id:"addressOffset",className:`col-span-4 px-2 ${m.zeroBasedAddressing?"h-16":"h-full"}`,children:m.zeroBasedAddressing?g:ce.jsx(ce.Fragment,{children:ce.jsxs("div",{className:"flex h-full flex-col",children:[ce.jsx("div",{className:"flex-grow",children:g}),ce.jsx("div",{className:"rounded-md p-1 text-center",children:ce.jsx("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:"Different address offset is detected on different affordances. Clicking to swap and set all to the same value"})})]})})}),ce.jsx("div",{id:"endianness",className:`col-span-4 px-2 ${m.mostSignificantByte&&m.mostSignificantWord?"h-16":"h-full"}`,children:m.mostSignificantByte&&m.mostSignificantWord?_:ce.jsxs(ce.Fragment,{children:[ce.jsx("div",{className:"col-span-12",children:_}),ce.jsx("div",{className:"col-span-12 p-1",children:ce.jsx("div",{className:"rounded-md text-center",children:ce.jsxs("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:["Different endianness (",[!m.mostSignificantWord&&"wordSwap",!m.mostSignificantByte&&"byteSwap"].filter(Boolean).join(" and "),") is detected on different affordances. Clicking to swap and set all to the same value"]})})})]})})]})})},Cv="asc",iie="desc",ZS=e=>{var E,y;const t=De.useContext(bn),r=t.isValidJSON?JSON.parse(t.offlineTD):{},[n,i]=De.useState(""),[o,a]=De.useState(Cv),s=e.interaction.toLowerCase(),l=S=>i(S.target.value),u=!!((E=r.base)!=null&&E.includes("modbus://"))||!!((y=r.base)!=null&&y.includes("modbus+tcp")),f=S=>{if(!S.properties||Object.keys(S.properties).length===0)return!1;const $=T=>T.href.includes("modbus://")||T.href.includes("modbus+tcp://");return u||Object.values(S.properties).some(T=>{var d;return(d=T.forms)==null?void 0:d.some(A=>$(A))})},c=()=>{if(!r[s])return{};const S={};return Object.keys(r[s]).filter($=>$.toLowerCase().indexOf(n.toLowerCase())>-1).forEach($=>{S[$]=r[s][$]}),S},p=S=>{if(!r[S])return;const $={},T=Object.keys(r[S]).map(d=>({key:d,title:r[S][d].title}));o===Cv?(T.sort((d,A)=>{const x=d.title?d.title:d.key,P=A.title?A.title:A.key;return x.localeCompare(P)}).forEach(function(d){$[d.key]=r[S][d.key]}),a(iie)):(T.sort((d,A)=>{const x=d.title?d.title:d.key,P=A.title?A.title:A.key;return x.localeCompare(P)}).reverse().forEach(function(d){$[d.key]=r[S][d.key]}),a(Cv)),r[S]=$,t.updateOfflineTD(JSON.stringify(r,null,2))},m=()=>o===Cv?ce.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:ce.jsx("path",{d:"M11 5h10M11 9h7M11 13h4M3 17l3 3 3-3M6 18V4"})}):ce.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:ce.jsx("path",{d:"M11 5h4M11 9h7M11 13h10M3 17l3 3 3-3M6 18V4"})}),g=()=>{const S=c();if(r.properties&&s==="properties")return Object.keys(S).map(($,T)=>ce.jsx(eie,{prop:S[$],propName:$},T));if(r.actions&&s==="actions")return Object.keys(S).map(($,T)=>ce.jsx(Yne,{action:S[$],actionName:$},T));if(r.events&&s==="events")return Object.keys(S).map(($,T)=>ce.jsx(Qne,{event:S[$],eventName:$},T))},_=tt.useRef(null),v=()=>{_.current&&_.current.openModal()};let h;switch(s){case"properties":h=ce.jsx(Kne,{ref:_});break;case"actions":h=ce.jsx(Wne,{ref:_});break;case"events":h=ce.jsx(Gne,{ref:_});break}return ce.jsxs(ce.Fragment,{children:[ce.jsxs("div",{className:"flex items-end justify-start pb-4 pt-8",children:[ce.jsx("div",{className:"flex flex-grow",children:ce.jsx(Rl,{tooltip:kQ[s],id:s,children:ce.jsx("h2",{className:"flex-grow pr-1 text-2xl text-white",children:e.interaction})})}),ce.jsx(tie,{onKeyUp:S=>l(S),placeholder:`Search ${e.interaction}`,ariaLabel:`Search through all ${e.interaction}`}),ce.jsx("div",{className:"w-2"}),ce.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-white",onClick:()=>p(s),children:m()}),ce.jsx("div",{className:"w-2"}),ce.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",onClick:v,children:"Add"}),h]}),s==="properties"&&f(r)&&ce.jsx(nie,{isBaseModbus:f(r)}),g()&&ce.jsx("div",{className:"rounded-lg bg-gray-600 px-4 pb-4 pt-4",children:g()}),!g()&&ce.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4"})]})};function oie(e){return e===null?!1:typeof e=="function"||typeof e=="object"}const nV=e=>{const t=De.useContext(bn),[r,n]=De.useState(new Array(Object.entries(e).length)),i=De.useCallback(o=>{let a=r,s=r[o];a[o]=s===null?!0:!s,n([...a])},[r,n]);return ce.jsx(ce.Fragment,{children:Object.entries(e).map(([o,a],s)=>{if(oie(a)){let u=ce.jsx("button",{className:"flex align-top",onClick:()=>i(s),children:ce.jsxs("div",{className:"flex rounded-md bg-gray-600 px-2 py-1 align-middle font-bold text-white",children:[ce.jsx("h4",{children:o}),r[s]===!0?ce.jsx(cf,{className:"pl-1"}):ce.jsx(XO,{className:"pl-1"})]})}),f=ce.jsxs("div",{className:"flex",children:[ce.jsx("div",{className:"my-1 ml-2 flex w-1 rounded-lg bg-gray-400"}),ce.jsx("div",{className:"mt-1 pl-8",children:r[s]===!0&&(Object.entries(a)??[]).map(([c,p],m)=>{let g={};return g[c]=p,De.createElement(nV,{...g,key:m})})})]});return ce.jsxs("div",{className:"mb-1",children:[u,r[s]===!0&&f]},s)}const l=J$(e,o,t.linkedTd[Object.keys(t.linkedTd)[0]]["@context"]);return ce.jsxs("div",{className:"mb-1 flex",children:[ce.jsx("h4",{className:"rounded-md bg-gray-600 px-2 py-1 font-bold text-white",children:o}),ce.jsx("div",{className:"px-2 py-1 text-gray-400",children:l})]},s)})})};var iV={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},RD=tt.createContext&&tt.createContext(iV),aie=["attr","size","title"];function sie(e,t){if(e==null)return{};var r=lie(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qb.apply(this,arguments)}function ID(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(r),!0).forEach(function(n){uie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uie(e,t,r){return t=cie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cie(e){var t=fie(e,"string");return typeof t=="symbol"?t:t+""}function fie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oV(e){return e&&e.map((t,r)=>tt.createElement(t.tag,Vb({key:r},t.attr),oV(t.child)))}function aV(e){return t=>tt.createElement(die,qb({attr:Vb({},e.attr)},t),oV(e.child))}function die(e){var t=r=>{var{attr:n,size:i,title:o}=e,a=sie(e,aie),s=i||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),tt.createElement("svg",qb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:l,style:Vb(Vb({color:e.color||r.color},r.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&tt.createElement("title",null,o),e.children)};return RD!==void 0?tt.createElement(RD.Consumer,null,r=>t(r)):t(iV)}function ND(e){return aV({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"},child:[]}]})(e)}function kD(e){return aV({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 2l-7.5 7.5-3.5-3.5-2.5 2.5 6 6 10-10z"},child:[]}]})(e)}const hie=({onUndo:e,onRedo:t})=>{const r=De.useContext(bn),[n,i]=De.useState(void 0),[o,a]=De.useState(void 0),[s,l]=De.useState(void 0),[u,f]=De.useState(void 0);return De.useEffect(()=>{const c=r.validationMessage;if(c){if(c.report&&(i(c.report.json),l(c.report.schema)),!c.validationErrors){a(void 0),f(void 0);return}c.validationErrors&&(a(c.validationErrors.json),f(c.validationErrors.schema),console.debug("JSON validation error",c.validationErrors.json),console.debug("JSON Schema validation error",c.validationErrors.schema))}},[r,o,u]),ce.jsxs(ce.Fragment,{children:[ce.jsxs("div",{className:"col-span-4 mb-4 flex justify-end gap-2",children:[ce.jsxs("button",{className:"flex h-8 w-40 items-center justify-center rounded-md bg-blue-500 px-3 py-1 text-white hover:bg-blue-600",onClick:e,children:[ce.jsx(uR,{size:16,strokeWidth:3,className:"mr-2"}),ce.jsx("span",{className:"font-bold",children:"Undo"})]}),ce.jsxs("button",{className:"flex h-8 w-40 items-center justify-center rounded-md bg-blue-500 px-3 py-1 text-white hover:bg-blue-600",onClick:t,children:[ce.jsx("span",{className:"mr-2 font-bold",children:"Redo"}),ce.jsx(cR,{size:16,strokeWidth:3})]})]}),ce.jsxs("div",{className:"mb-4 w-full rounded-md bg-gray-600 p-4 text-white",children:[ce.jsxs("div",{className:"flex items-center",children:[ce.jsx("h2",{className:"mr-2",children:"JSON Validation"}),n==="passed"&&ce.jsx(kD,{}),n==="failed"&&ce.jsx(ND,{})]}),o&&ce.jsxs("div",{className:"bg-formRed border-formRed mb-4 mt-2 flex min-h-[2.5rem] w-full rounded-md border-2 bg-opacity-75 px-4",children:[ce.jsx("div",{className:"flex h-6 w-16 justify-center self-center rounded-md bg-white",children:ce.jsx("div",{className:"text-formRed place-self-center px-4 text-center text-xs",children:"Error"})}),ce.jsx("div",{className:"place-self-center overflow-hidden pl-3 text-base",children:o})]}),ce.jsxs("div",{className:"flex items-center",children:[ce.jsx("h2",{className:"mr-2",children:"JSON Schema Validation "}),s==="passed"&&ce.jsx(kD,{}),s==="failed"&&ce.jsx(ND,{})]}),u&&ce.jsxs("div",{className:"bg-formRed border-formRed mt-2 flex min-h-[2.5rem] w-full rounded-md border-2 bg-opacity-75 px-4",children:[ce.jsx("div",{className:"flex h-6 w-16 justify-center self-center rounded-md bg-white",children:ce.jsx("div",{className:"text-formRed place-self-center px-4 text-center text-xs",children:"Error"})}),ce.jsx("div",{className:"place-self-center overflow-hidden pl-3 text-base",children:u})]})]})]})},vl={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},pie=Object.keys(vl).map(e=>vl[e]).join(""),e1="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",mie=/\s/g,CD=new RegExp(`^(${e1}\\*)?([${pie}])(/${e1})?([-+]{1,2}${e1})?$`,"g");function sV(e){throw new Error(`Invalid calc() expression: ${e}`)}function gie(e,t){const r=CD.exec(e.replace(mie,""));r||sV(e),CD.lastIndex=0;const[,n,i,o,a]=r,{x:s,y:l,width:u,height:f}=t;let c=0;switch(i){case vl.width:{c=u;break}case vl.height:{c=f;break}case vl.x:{c=s;break}case vl.y:{c=l;break}case vl.minimum:{c=Math.min(f,u);break}case vl.maximum:{c=Math.max(f,u);break}case vl.diagonal:{c=Math.sqrt(f*f+u*u);break}}return n&&(c*=parseFloat(n)),o&&(c/=parseFloat(o.slice(1))),a&&(c+=vie(a)),c}function vie(e){if(!e)return 0;const[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}function Sa(e){return typeof e=="string"&&e.includes("calc")}const lV="calc(",jD=lV.length;function $a(e,t){let r=e,n=0;do{let i=r.indexOf(lV,n);if(i===-1)return r;let o=i+jD,a=1;e:do{switch(r[o]){case"(":{a++;break}case")":{if(a--,a===0)break e;break}case void 0:sV(r)}o++}while(!0);let s=r.slice(i+jD,o);Sa(s)&&(s=$a(s,t));const l=String(gie(s,t));r=r.slice(0,i)+l+r.slice(o+1),n=i+l.length}while(!0)}const{round:yie,floor:wie,PI:uV}=Math,bie={linear:function(e,t,r){var n=e[1]-e[0],i=t[1]-t[0];return(r-e[0])/n*i+t[0]||0}},fs=function(e){return e%360+(e<0?360:0)},Pf=function(e,t){return t*yie(e/t)},fE=function(e){return 180*e/uV%360},xo=function(e,t){return t=t||!1,e=t?e:e%360,e*uV/180},lP=function(e,t){if(t===void 0)t=e===void 0?1:e,e=0;else if(t<e){const r=e;e=t,t=r}return wie(Math.random()*(t-e+1)+e)},{cos:jv,sin:t1,atan2:_ie}=Math,cV=function(e,t){var r=xo(e.y),n=xo(t.y),i=e.x,o=t.x,a=xo(o-i),s=t1(a)*jv(n),l=jv(r)*t1(n)-t1(r)*jv(n)*jv(a),u=fE(_ie(s,l)),f=["NE","E","SE","S","SW","W","NW","N"],c=u-22.5;return c<0&&(c+=360),c=parseInt(c/45),f[c]},cI=function(e,t){var r=e.x,n=e.y,i=t.x,o=t.y;return(r-=i)*r+(n-=o)*n},fV=function(e,t){return Math.sqrt(cI(e,t))},or={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:Hb,cos:uP,sin:cP,sqrt:DD,min:MD,max:LD,atan2:Eie,round:FD,pow:Sie,PI:BD}=Math,ze=function(e,t){if(!(this instanceof ze))return new ze(e,t);if(typeof e=="string"){var r=e.split(e.indexOf("@")===-1?" ":"@");e=parseFloat(r[0]),t=parseFloat(r[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=e===void 0?0:e,this.y=t===void 0?0:t};ze.fromPolar=function(e,t,r){r=new ze(r);var n=Hb(e*uP(t)),i=Hb(e*cP(t)),o=fs(fE(t));return o<90?i=-i:o<180?(n=-n,i=-i):o<270&&(n=-n),new ze(r.x+n,r.y+i)};ze.random=function(e,t,r,n){return new ze(lP(e,t),lP(r,n))};ze.prototype={type:or.Point,chooseClosest:function(e){var t=e.length;if(t===1)return new ze(e[0]);for(var r=null,n=1/0,i=0;i<t;i++){var o=new ze(e[i]),a=this.squaredDistance(o);a<n&&(r=o,n=a)}return r},adhereToRect:function(e){return e.containsPoint(this)?this:(this.x=MD(LD(this.x,e.x),e.x+e.width),this.y=MD(LD(this.y,e.y),e.y+e.height),this)},angleBetween:function(e,t){var r=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return r<0&&(r+=360),r},bearing:function(e){return cV(this,e)},changeInAngle:function(e,t,r){return this.clone().offset(-e,-t).theta(r)-this.theta(r)},clone:function(){return new ze(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new ze(this.x-(e||0),this.y-(t||0))},distance:function(e){return fV(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){var r=this.x,n=this.y;return new ze((1-t)*r+t*e.x,(1-t)*n+t*e.y)},magnitude:function(){return DD(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return Hb(e.x-this.x)+Hb(e.y-this.y)},move:function(e,t){var r=xo(new ze(e).theta(this)),n=this.offset(uP(r)*t,-cP(r)*t);return n},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new ze(e).move(this,this.distance(e))},rotate:function(e,t){if(t===0)return this;e=e||new ze(0,0),t=xo(fs(-t));var r=uP(t),n=cP(t),i=r*(this.x-e.x)-n*(this.y-e.y)+e.x,o=n*(this.x-e.x)+r*(this.y-e.y)+e.y;return this.x=i,this.y=o,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Sie(10,e);break}return this.x=FD(this.x*t)/t,this.y=FD(this.y*t)/t,this},scale:function(e,t,r){return r=r&&new ze(r)||new ze(0,0),this.x=r.x+e*(this.x-r.x),this.y=r.y+t*(this.y-r.y),this},snapToGrid:function(e,t){return this.x=Pf(this.x,e),this.y=Pf(this.y,t||e),this},squaredDistance:function(e){return cI(this,e)},theta:function(e){e=new ze(e);var t=-(e.y-this.y),r=e.x-this.x,n=Eie(t,r);return n<0&&(n=2*BD+n),180*n/BD},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new ze(e)||new ze(0,0);var t=this.x,r=this.y;return this.x=DD((t-e.x)*(t-e.x)+(r-e.y)*(r-e.y)),this.y=xo(e.theta(new ze(t,r))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){var t=new ze(0,0);return t.angleBetween(this,e)}};ze.prototype.translate=ze.prototype.offset;const Wb=ze,{max:r1,min:n1}=Math,It=function(e,t){if(!(this instanceof It))return new It(e,t);if(e instanceof It)return new It(e.start,e.end);this.start=new ze(e),this.end=new ze(t)};It.prototype={type:or.Line,angle:function(){var e=new ze(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=n1(this.start.x,this.end.x),t=n1(this.start.y,this.end.y),r=r1(this.start.x,this.end.x),n=r1(this.start.y,this.end.y);return new Pt(e,t,r-e,n-t)},bearing:function(){return cV(this.start,this.end)},clone:function(){return new It(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new It(this.start,e).vector()),r=n1(1,r1(0,t/this.squaredLength()));return r!==r?0:r},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,r=this.end;if(t.cross(e,r)!==0)return!1;var n=this.length();return!(new It(t,e).length()>n||new It(e,r).length()>n)},divideAt:function(e){var t=this.pointAt(e);return[new It(this.start,t),new It(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new It(this.start,t),new It(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var r=e.intersectionWithLine(this,t);return r&&e instanceof It&&(r=r[0]),r}return null},intersectionWithLine:function(e){var t=new ze(this.end.x-this.start.x,this.end.y-this.start.y),r=new ze(e.end.x-e.start.x,e.end.y-e.start.y),n=t.x*r.y-t.y*r.x,i=new ze(e.start.x-this.start.x,e.start.y-this.start.y),o=i.x*r.y-i.y*r.x,a=i.x*t.y-i.y*t.x;if(n===0||o*n<0||a*n<0)return null;if(n>0){if(o>n||a>n)return null}else if(o<n||a<n)return null;return[new ze(this.start.x+o*t.x/n,this.start.y+o*t.y/n)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return fV(this.start,this.end)},midpoint:function(){return new ze((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){const t=this.clone();if(!this.isDifferentiable())return t;const{start:r,end:n}=t,i=r.clone().rotate(n,270),o=n.clone().rotate(r,90);return r.move(o,e),n.move(i,e),t},pointAt:function(e){var t=this.start,r=this.end;return e<=0?t.clone():e>=1?r.clone():t.lerp(r,e)},pointAtLength:function(e){var t=this.start,r=this.end,n=!0;e<0&&(n=!1,e=-e);var i=this.length();return e>=i?n?r.clone():t.clone():this.pointAt((n?e:i-e)/i)},pointOffset:function(e){e=new ze(e);var t=this.start,r=this.end,n=(r.x-t.x)*(e.y-t.y)-(r.y-t.y)*(e.x-t.x);return n/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.end.scale(e,t,r),this},setLength:function(e){var t=this.length();if(!t)return this;var r=e/t;return this.scale(r,r,this.start)},squaredLength:function(){return cI(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,n=this.pointAt(e),i=new It(t,r);return i.translate(n.x-t.x,n.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,n=this.pointAtLength(e),i=new It(t,r);return i.translate(n.x-t.x,n.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new ze(this.end.x-this.start.x,this.end.y-this.start.y)}};It.prototype.intersection=It.prototype.intersect;const vf=It,{sqrt:UD,round:Dv,pow:$ie}=Math,eo=function(e,t,r){if(!(this instanceof eo))return new eo(e,t,r);if(e instanceof eo)return new eo(new ze(e.x,e.y),e.a,e.b);e=new ze(e),this.x=e.x,this.y=e.y,this.a=t,this.b=r};eo.fromRect=function(e){return e=new Pt(e),new eo(e.center(),e.width/2,e.height/2)};eo.prototype={type:or.Ellipse,bbox:function(){return new Pt(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new ze(this.x,this.y)},clone:function(){return new eo(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],r=e.start,n=e.end,i=this.a,o=this.b,a=e.vector(),s=r.difference(new ze(this)),l=new ze(a.x/(i*i),a.y/(o*o)),u=new ze(s.x/(i*i),s.y/(o*o)),f=a.dot(l),c=a.dot(u),p=s.dot(u)-1,m=c*c-f*p;if(m<0)return null;if(m>0){var g=UD(m),_=(-c-g)/f,v=(-c+g)/f;if((_<0||1<_)&&(v<0||1<v))return null;0<=_&&_<=1&&t.push(r.lerp(n,_)),0<=v&&v<=1&&t.push(r.lerp(n,v))}else{var h=-c/f;if(0<=h&&h<=1)t.push(r.lerp(n,h));else return null}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new ze(e),t&&e.rotate(new ze(this.x,this.y),t);var r=e.x-this.x,n=e.y-this.y,i;if(r===0)return i=this.bbox().pointNearestToPoint(e),t?i.rotate(new ze(this.x,this.y),-t):i;var o=n/r,a=o*o,s=this.a*this.a,l=this.b*this.b,u=UD(1/(1/s+a/l));u=r<0?-u:u;var f=o*u;return i=new ze(this.x+u,this.y+f),t?i.rotate(new ze(this.x,this.y),-t):i},normalizedDistance:function(e){var t=e.x,r=e.y,n=this.a,i=this.b,o=this.x,a=this.y;return(t-o)*(t-o)/(n*n)+(r-a)*(r-a)/(i*i)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=$ie(10,e);break}return this.x=Dv(this.x*t)/t,this.y=Dv(this.y*t)/t,this.a=Dv(this.a*t)/t,this.b=Dv(this.b*t)/t,this},tangentTheta:function(e){var t=30,r=e.x,n=e.y,i=this.a,o=this.b,a=this.bbox().center(),s=a.x,l=a.y,u=r>a.x+i/2,f=r<a.x-i/2,c,p;return u||f?(c=r>a.x?n-t:n+t,p=i*i/(r-s)-i*i*(n-l)*(c-l)/(o*o*(r-s))+s):(p=n>a.y?r+t:r-t,c=o*o/(n-l)-o*o*(r-s)*(p-s)/(i*i*(n-l))+l),new ze(p,c).theta(e)},toString:function(){return new ze(this.x,this.y).toString()+" "+this.a+" "+this.b}};const Tie=eo,{abs:zD,cos:Aie,sin:xie,min:gp,max:qD,round:Mv,pow:Pie}=Math,Pt=function(e,t,r,n){if(!(this instanceof Pt))return new Pt(e,t,r,n);Object(e)===e&&(t=e.y,r=e.width,n=e.height,e=e.x),this.x=e===void 0?0:e,this.y=t===void 0?0:t,this.width=r===void 0?0:r,this.height=n===void 0?0:n};Pt.fromEllipse=function(e){return e=new eo(e),new Pt(e.x-e.a,e.y-e.b,2*e.a,2*e.b)};Pt.fromPointUnion=function(...e){if(e.length===0)return null;const t=new ze;let r,n,i,o;r=n=1/0,i=o=-1/0;for(let a=0;a<e.length;a++){t.update(e[a]);const s=t.x,l=t.y;s<r&&(r=s),s>i&&(i=s),l<n&&(n=l),l>o&&(o=l)}return new Pt(r,n,i-r,o-n)};Pt.fromRectUnion=function(...e){if(e.length===0)return null;const t=new Pt;let r,n,i,o;r=n=1/0,i=o=-1/0;for(let a=0;a<e.length;a++){t.update(e[a]);const s=t.x,l=t.y,u=s+t.width,f=l+t.height;s<r&&(r=s),u>i&&(i=u),l<n&&(n=l),f>o&&(o=f)}return new Pt(r,n,i-r,o-n)};Pt.prototype={type:or.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;const{width:t,height:r}=this,n=xo(e),i=zD(xie(n)),o=zD(Aie(n)),a=t*o+r*i,s=t*i+r*o;return this.x+=(t-a)/2,this.y+=(r-s)/2,this.width=a,this.height=s,this},bottomLeft:function(){return new ze(this.x,this.y+this.height)},bottomLine:function(){return new It(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new ze(this.x+this.width/2,this.y+this.height)},center:function(){return new ze(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new Pt(this)},containsPoint:function(e){return e instanceof ze||(e=new ze(e)),e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new Pt(this).normalize(),r=new Pt(e).normalize(),n=t.width,i=t.height,o=r.width,a=r.height;if(!n||!i||!o||!a)return!1;var s=t.x,l=t.y,u=r.x,f=r.y;return o+=u,n+=s,a+=f,i+=l,s<=u&&o<=n&&l<=f&&a<=i},corner:function(){return new ze(this.x+this.width,this.y+this.height)},equals:function(e){var t=new Pt(this).normalize(),r=new Pt(e).normalize();return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),r=this.corner(),n=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||n.x>=r.x||n.y>=r.y)return null;var o=qD(t.x,n.x),a=qD(t.y,n.y);return new Pt(o,a,gp(r.x,i.x)-o,gp(r.y,i.y)-a)},intersectionWithLine:function(e){var t=this,r=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],n=[],i=[],o,a,s=r.length;for(a=0;a<s;a++)o=e.intersect(r[a]),o!==null&&i.indexOf(o.toString())<0&&(n.push(o),i.push(o.toString()));return n.length>0?n:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new ze(e);var r=new ze(this.x+this.width/2,this.y+this.height/2),n;t&&e.rotate(r,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new It(r,e),a=i.length-1;a>=0;--a){var s=i[a].intersection(o);if(s!==null){n=s;break}}return n&&t&&n.rotate(r,-t),n},leftLine:function(){return new It(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new ze(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new Pt(e),t||(t=e.center());var r,n,i,o,a,s,l,u,f=t.x,c=t.y;r=n=i=o=a=s=l=u=1/0;var p=e.topLeft();p.x<f&&(r=(this.x-f)/(p.x-f)),p.y<c&&(a=(this.y-c)/(p.y-c));var m=e.bottomRight();m.x>f&&(n=(this.x+this.width-f)/(m.x-f)),m.y>c&&(s=(this.y+this.height-c)/(m.y-c));var g=e.topRight();g.x>f&&(i=(this.x+this.width-f)/(g.x-f)),g.y<c&&(l=(this.y-c)/(g.y-c));var _=e.bottomLeft();return _.x<f&&(o=(this.x-f)/(_.x-f)),_.y>c&&(u=(this.y+this.height-c)/(_.y-c)),{sx:gp(r,n,i,o),sy:gp(a,s,l,u)}},maxRectUniformScaleToFit:function(e,t){var r=this.maxRectScaleToFit(e,t);return gp(r.sx,r.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,r=this.width,n=this.height;return this.width<0&&(e=this.x+this.width,r=-this.width),this.height<0&&(t=this.y+this.height,n=-this.height),this.x=e,this.y=t,this.width=r,this.height=n,this},offset:function(e,t){return ze.prototype.offset.call(this,e,t)},origin:function(){return new ze(this.x,this.y)},pointNearestToPoint:function(e){if(e=new ze(e),this.containsPoint(e)){var t=this.sideNearestToPoint(e);switch(t){case"right":return new ze(this.x+this.width,e.y);case"left":return new ze(this.x,e.y);case"bottom":return new ze(e.x,this.y+this.height);case"top":return new ze(e.x,this.y)}}return e.adhereToRect(this)},rightLine:function(){return new It(this.topRight(),this.bottomRight())},rightMiddle:function(){return new ze(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Pie(10,e);break}return this.x=Mv(this.x*t)/t,this.y=Mv(this.y*t)/t,this.width=Mv(this.width*t)/t,this.height=Mv(this.height*t)/t,this},scale:function(e,t,r){return r=this.origin().scale(e,t,r),this.x=r.x,this.y=r.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new ze(e);var t=e.x-this.x,r=this.x+this.width-e.x,n=e.y-this.y,i=this.y+this.height-e.y,o=t,a="left";return r<o&&(o=r,a="right"),n<o&&(o=n,a="top"),i<o&&(a="bottom"),a},snapToGrid:function(e,t){var r=this.origin().snapToGrid(e,t),n=this.corner().snapToGrid(e,t);return this.x=r.x,this.y=r.y,this.width=n.x-r.x,this.height=n.y-r.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new It(this.topLeft(),this.topRight())},topMiddle:function(){return new ze(this.x+this.width/2,this.y)},topRight:function(){return new ze(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return Pt.fromRectUnion(this,e)},update:function(e,t,r,n){return Object(e)===e&&(t=e.y,r=e.width,n=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=r||0,this.height=n||0,this}};Pt.prototype.bottomRight=Pt.prototype.corner;Pt.prototype.topLeft=Pt.prototype.origin;Pt.prototype.translate=Pt.prototype.offset;const Oie=Pt;function dV(e){const t=e.trim();if(t==="")return[];const r=[],n=t.split(/\b\s*,\s*|,\s*|\s+/),i=n.length;for(let o=0;o<i;o+=2)r.push({x:+n[o],y:+n[o+1]});return r}function hV(e){const t=e.length;if(t===0)return[];const r=[];for(let n=0;n<t;n++){const i=e[n].clone();r.push(i)}return r}function pV(e){const{abs:t}=Math;var r,n,i=e.length;if(i===0)return[];var o;for(r=0;r<i;r++)(o===void 0||e[r].y<o.y||e[r].y===o.y&&e[r].x>o.x)&&(o=e[r]);var a=[];for(r=0;r<i;r++){var s=o.theta(e[r]);s===0&&(s=360);var l=[e[r],r,s];a.push(l)}if(a.sort(function(V,X){var H=V[2]-X[2];return H===0&&(H=X[1]-V[1]),H}),a.length>2){var u=a[a.length-1];a.unshift(u)}for(var f={},c=[],p,m,g,_,v,h;a.length!==0;)if(p=a.pop(),m=p[0],!f.hasOwnProperty(p[0]+"@@"+p[1]))for(var E=!1;!E;)if(c.length<2)c.push(p),E=!0;else{g=c.pop(),_=g[0],v=c.pop(),h=v[0];var y=h.cross(_,m);if(y<0)c.push(v),c.push(g),c.push(p),E=!0;else if(y===0){var S=1e-10,$=_.angleBetween(h,m);t($-180)<S||_.equals(m)||h.equals(_)?(f[g[0]+"@@"+g[1]]=_,c.push(v)):t(($+1)%360-1)<S&&(c.push(v),a.push(g))}else f[g[0]+"@@"+g[1]]=_,c.push(v)}c.length>2&&c.pop();var T,d=-1;for(n=c.length,r=0;r<n;r++){var A=c[r][1];(T===void 0||A<T)&&(T=A,d=r)}var x=[];if(d>0){var P=c.slice(d),j=c.slice(0,d);x=P.concat(j)}else x=c;var F=[];for(n=x.length,r=0;r<n;r++)F.push(x[r][0]);return F}const un=function(e){if(!(this instanceof un))return new un(e);if(typeof e=="string")return new un.parse(e);this.points=Array.isArray(e)?e.map(ze):[]};un.parse=function(e){return new un(dV(e))};un.fromRect=function(e){return new un([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])};un.prototype={type:or.Polyline,bbox:function(){var e=1/0,t=-1/0,r=1/0,n=-1/0,i=this.points,o=i.length;if(o===0)return null;for(var a=0;a<o;a++){var s=i[a],l=s.x,u=s.y;l<e&&(e=l),l>t&&(t=l),u<r&&(r=u),u>n&&(n=u)}return new Pt(e,r,t-e,n-r)},clone:function(){return new un(hV(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return 0;for(var n,i=1/0,o=0,a=r-1,s=0;s<a;s++){var l=new It(t[s],t[s+1]),u=l.length(),f=l.closestPointNormalizedLength(e),c=l.pointAt(f),p=c.squaredDistance(e);p<i&&(i=p,n=o+f*u),o+=u}return n},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(t===0)return 0;var r=this.length();return r===0?0:t/r},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,r=t.length;if(r===0)return!1;for(var n=e.x,i=e.y,o=r-1,a=0,s=0,l=new It,u=new It,f=new ze;a<r;a++){var c=t[o],p=t[a];if(e.equals(c)||(l.start=c,l.end=p,l.containsPoint(e)))return!0;if(i<=c.y&&i>p.y||i>c.y&&i<=p.y){var m=c.x-n>p.x-n?c.x-n:p.x-n;m>=0&&(f.x=n+m,f.y=i,u.start=e,u.end=f,l.intersect(u)&&s++)}o=a}return s%2===1},close:function(){const{start:e,end:t,points:r}=this;return e&&t&&!e.equals(t)&&r.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new un(pV(this.points))},equals:function(e){if(!e)return!1;var t=this.points,r=e.points,n=t.length;if(r.length!==n)return!1;for(var i=0;i<n;i++){var o=t[i],a=e.points[i];if(!o.equals(a))return!1}return!0},intersectionWithLine:function(e){for(var t=new It(e),r=[],n=this.lengthPoints(),i=new It,o=0,a=n.length-1;o<a;o++){i.start=n[o],i.end=n[o+1];var s=t.intersectionWithLine(i);s&&r.push(s[0])}return r.length>0?r:null},isDifferentiable:function(){var e=this.points,t=e.length;if(t===0)return!1;for(var r=new It,n=t-1,i=0;i<n;i++)if(r.start=e[i],r.end=e[i+1],r.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(t===0)return 0;for(var r=0,n=t-1,i=0;i<n;i++)r+=e[i].distance(e[i+1]);return r},pointAt:function(e){var t=this.lengthPoints(),r=t.length;if(r===0)return null;if(r===1||e<=0)return t[0].clone();if(e>=1)return t[r-1].clone();var n=this.length(),i=n*e;return this.pointAtLength(i)},pointAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0)return null;if(r===1)return t[0].clone();var n=!0;e<0&&(n=!1,e=-e);for(var i=0,o=r-1,a=0;a<o;a++){var s=n?a:o-1-a,l=t[s],u=t[s+1],f=new It(l,u),c=l.distance(u);if(e<=i+c)return f.pointAtLength((n?1:-1)*(e-i));i+=c}var p=n?t[r-1]:t[0];return p.clone()},round:function(e){for(var t=this.points,r=t.length,n=0;n<r;n++)t[n].round(e);return this},scale:function(e,t,r){for(var n=this.points,i=n.length,o=0;o<i;o++)n[o].scale(e,t,r);return this},simplify:function(e={}){const t=this.points;if(t.length<3)return this;const r=e.threshold||1e-10;let n=0;for(;t[n+2];){const i=n,o=n+1,a=n+2,s=t[i],l=t[o],u=t[a];new It(s,u).closestPoint(l).distance(l)<=r?t.splice(o,1):n+=1}return this},tangentAt:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return null;e<0&&(e=0),e>1&&(e=1);var n=this.length(),i=n*e;return this.tangentAtLength(i)},tangentAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return null;var n=!0;e<0&&(n=!1,e=-e);for(var i,o=0,a=r-1,s=0;s<a;s++){var l=n?s:a-1-s,u=t[l],f=t[l+1],c=new It(u,f),p=u.distance(f);if(c.isDifferentiable()){if(e<=o+p)return c.tangentAtLength((n?1:-1)*(e-o));i=c}o+=p}if(i){var m=n?1:0;return i.tangentAt(m)}return null},toString:function(){return this.points+""},translate:function(e,t){for(var r=this.points,n=r.length,i=0;i<n;i++)r[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(t===0)return"";for(var r="",n=0;n<t;n++){var i=e[n];r+=i.x+","+i.y+" "}return r.trim()}};Object.defineProperty(un.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[0]}});Object.defineProperty(un.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[t-1]}});const{abs:Lv,sqrt:Rie,min:VD,max:HD,pow:i1}=Math,Fr=function(e,t,r,n){if(!(this instanceof Fr))return new Fr(e,t,r,n);if(e instanceof Fr)return new Fr(e.start,e.controlPoint1,e.controlPoint2,e.end);this.start=new ze(e),this.controlPoint1=new ze(t),this.controlPoint2=new ze(r),this.end=new ze(n)};Fr.throughPoints=function(){function e(r){var n=[],i=[],o=r.length-1,a;if(o==1)return n[0]=new ze((2*r[0].x+r[1].x)/3,(2*r[0].y+r[1].y)/3),i[0]=new ze(2*n[0].x-r[0].x,2*n[0].y-r[0].y),[n,i];var s=[];for(a=1;a<o-1;a++)s[a]=4*r[a].x+2*r[a+1].x;s[0]=r[0].x+2*r[1].x,s[o-1]=(8*r[o-1].x+r[o].x)/2;var l=t(s);for(a=1;a<o-1;++a)s[a]=4*r[a].y+2*r[a+1].y;s[0]=r[0].y+2*r[1].y,s[o-1]=(8*r[o-1].y+r[o].y)/2;var u=t(s);for(a=0;a<o;a++)n.push(new ze(l[a],u[a])),a<o-1?i.push(new ze(2*r[a+1].x-l[a+1],2*r[a+1].y-u[a+1])):i.push(new ze((r[o].x+l[o-1])/2,(r[o].y+u[o-1])/2));return[n,i]}function t(r){var n=r.length,i=[],o=[],a=2;i[0]=r[0]/a;for(var s=1;s<n;s++)o[s]=1/a,a=(s<n-1?4:3.5)-o[s],i[s]=(r[s]-i[s-1])/a;for(s=1;s<n;s++)i[n-s-1]-=o[n-s]*i[n-s];return i}return function(r){if(!r||Array.isArray(r)&&r.length<2)throw new Error("At least 2 points are required");for(var n=e(r),i=[],o=n[0].length,a=0;a<o;a++){var s=new ze(n[0][a].x,n[0][a].y),l=new ze(n[1][a].x,n[1][a].y);i.push(new Fr(r[a],s,l,r[a+1]))}return i}}();Fr.prototype={type:or.Curve,bbox:function(){for(var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end,i=e.x,o=e.y,a=t.x,s=t.y,l=r.x,u=r.y,f=n.x,c=n.y,p=new Array,m=new Array,g=[new Array,new Array],_,v,h,E,y,S,$,T,d=0;d<2;++d){if(d===0?(v=6*i-12*a+6*l,_=-3*i+9*a-9*l+3*f,h=3*a-3*i):(v=6*o-12*s+6*u,_=-3*o+9*s-9*u+3*c,h=3*s-3*o),Lv(_)<1e-12){if(Lv(v)<1e-12)continue;E=-h/v,0<E&&E<1&&m.push(E);continue}$=v*v-4*h*_,T=Rie($),!($<0)&&(y=(-v+T)/(2*_),0<y&&y<1&&m.push(y),S=(-v-T)/(2*_),0<S&&S<1&&m.push(S))}for(var A=m.length,x=A,P,j,F;A--;)E=m[A],P=1-E,j=P*P*P*i+3*P*P*E*a+3*P*E*E*l+E*E*E*f,g[0][A]=j,F=P*P*P*o+3*P*P*E*s+3*P*E*E*u+E*E*E*c,g[1][A]=F,p[A]={X:j,Y:F};m[x]=0,m[x+1]=1,p[x]={X:i,Y:o},p[x+1]={X:f,Y:c},g[0][x]=i,g[1][x]=o,g[0][x+1]=f,g[1][x+1]=c,m.length=x+2,g[0].length=x+2,g[1].length=x+2,p.length=x+2;var V=VD.apply(null,g[0]),X=VD.apply(null,g[1]),H=HD.apply(null,g[0]),Z=HD.apply(null,g[1]);return new Pt(V,X,H-V,Z-X)},clone:function(){return new Fr(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n};return this.lengthAtT(this.closestPointT(e,i),i)},closestPointNormalizedLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n},o=this.closestPointLength(e,i);if(!o)return 0;var a=this.length(i);return a===0?0:o/a},closestPointT:function(e,t){t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i,o,a,s,l,u,f,c=n.length,p=c?1/c:0,m=0;m<c;m++){var g=n[m],_=g.start.distance(e),v=g.end.distance(e),h=_+v;(!f||h<f)&&(i=g,o=m*p,a=(m+1)*p,s=_,l=v,u=g.start.distance(g.end),f=h)}for(var E=i1(10,-r);;){var y=s?Lv(s-l)/s:0,S=l?Lv(s-l)/l:0,$=y<E||S<E,T=s?s<u*E:!0,d=l?l<u*E:!0,A=T||d;if($||A)return s<=l?o:a;var x=i.divide(.5);p/=2;var P=x[0].start.distance(e),j=x[0].end.distance(e),F=P+j,V=x[1].start.distance(e),X=x[1].end.distance(e),H=V+X;F<=H?(i=x[0],a-=p,s=P,l=j):(i=x[1],o+=p,s=V,l=X)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){var r=this.toPolyline(t);return r.containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var r=this.tAt(e,t);return this.divideAtT(r)},divideAtLength:function(e,t){var r=this.tAtLength(e,t);return this.divideAtT(r)},divideAtT:function(e){var t=this.start,r=this.controlPoint1,n=this.controlPoint2,i=this.end;if(e<=0)return[new Fr(t,t,t,t),new Fr(t,r,n,i)];if(e>=1)return[new Fr(t,r,n,i),new Fr(i,i,i,i)];var o=this.getSkeletonPoints(e),a=o.startControlPoint1,s=o.startControlPoint2,l=o.divider,u=o.dividerControlPoint1,f=o.dividerControlPoint2;return[new Fr(t,a,s,l),new Fr(l,u,f,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,r=this.controlPoint1,n=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:n.clone()};if(e>=1)return{startControlPoint1:r.clone(),startControlPoint2:n.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var o=new It(t,r).pointAt(e),a=new It(r,n).pointAt(e),s=new It(n,i).pointAt(e),l=new It(o,a).pointAt(e),u=new It(a,s).pointAt(e),f=new It(l,u).pointAt(e),c={startControlPoint1:o,startControlPoint2:l,divider:f,dividerControlPoint1:u,dividerControlPoint2:s};return c},getSubdivisions:function(e){e=e||{};var t=e.precision===void 0?this.PRECISION:e.precision,r=this.start,n=this.controlPoint1,i=this.controlPoint2,o=this.end,a=[new Fr(r,n,i,o)];if(t===0)return a;var s=!this.isDifferentiable();if(s)return a;var l=this.endpointDistance(),u=i1(10,-t),f=2,c=n.cross(r,o)===0&&i.cross(r,o)===0;c&&(f=2*t);for(var p=0;;){p+=1;for(var m=[],g=a.length,_=0;_<g;_++){var v=a[_],h=v.divide(.5);m.push(h[0],h[1])}for(var E=0,y=m.length,S=0;S<y;S++){var $=m[S];E+=$.endpointDistance()}if(p>=f){var T=E!==0?(E-l)/E:0;if(T<u)return m}a=m,l=E}},isDifferentiable:function(){var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(n))},length:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,n=0,i=r.length,o=0;o<i;o++){var a=r[o];n+=a.endpointDistance()}return n},lengthAtT:function(e,t){if(e<=0)return 0;t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=this.divide(e)[0],i=n.length({precision:r});return i},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var r=this.tAt(e,t);return this.pointAtT(r)},pointAtLength:function(e,t){var r=this.tAtLength(e,t);return this.pointAtT(r)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var r=this.tAt(e,t);return this.tangentAtT(r)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var r=this.tAtLength(e,t);return this.tangentAtT(r)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),r=t.startControlPoint2,n=t.dividerControlPoint1,i=t.divider,o=new It(r,n);return o.translate(i.x-r.x,i.y-r.y),o},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n},o=this.length(i),a=o*e;return this.tAtLength(a,i)},tAtLength:function(e,t){var r=!0;e<0&&(r=!1,e=-e),t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,o={precision:n,subdivisions:i},a,s,l,u,f,c=0,p=i.length,m=1/p,g=0;g<p;g++){var _=r?g:p-1-g,v=i[g],h=v.endpointDistance();if(e<=c+h){a=v,s=_*m,l=(_+1)*m,u=r?e-c:h+c-e,f=r?h+c-e:e-c;break}c+=h}if(!a)return r?1:0;for(var E=this.length(o),y=i1(10,-n);;){var S;if(S=E!==0?u/E:0,S<y)return s;if(S=E!==0?f/E:0,S<y)return l;var $,T,d=a.divide(.5);m/=2;var A=d[0].endpointDistance(),x=d[1].endpointDistance();u<=A?(a=d[0],l-=m,$=u,T=A-$):(a=d[1],s+=m,$=u-A,T=x-$),u=$,f=T}},toPoints:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,n=[r[0].start.clone()],i=r.length,o=0;o<i;o++){var a=r[o];n.push(a.end.clone())}return n},toPolyline:function(e){return new un(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Fr.prototype.divide=Fr.prototype.divideAtT;function Ag(e){var t,r,n=[];for(r=arguments.length,t=1;t<r;t++)n.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var i=Object.create(e);for(r=n.length,t=0;t<r;t++){var o=n[t],a,s;for(s in o)o.hasOwnProperty(s)&&(delete i[s],a=Object.getOwnPropertyDescriptor(o,s),Object.defineProperty(i,s,a))}return i}const Bt=function(e){if(!(this instanceof Bt))return new Bt(e);if(typeof e=="string")return new Bt.parse(e);this.segments=[];var t,r;if(e)if(Array.isArray(e)&&e.length!==0)if(e=e.reduce(function(s,l){return s.concat(l)},[]),r=e.length,e[0].isSegment)for(t=0;t<r;t++){var n=e[t];this.appendSegment(n)}else{var i=null;for(t=0;t<r;t++){var o=e[t];if(!(o instanceof It||o instanceof Fr))throw new Error("Cannot construct a path segment from the provided object.");t===0&&this.appendSegment(Bt.createSegment("M",o.start)),i&&!i.end.equals(o.start)&&this.appendSegment(Bt.createSegment("M",o.start)),o instanceof It?this.appendSegment(Bt.createSegment("L",o.end)):o instanceof Fr&&this.appendSegment(Bt.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),i=o}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof It)this.appendSegment(Bt.createSegment("M",e.start)),this.appendSegment(Bt.createSegment("L",e.end));else if(e instanceof Fr)this.appendSegment(Bt.createSegment("M",e.start)),this.appendSegment(Bt.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else if(e instanceof un){if(!(e.points&&e.points.length!==0))return;for(r=e.points.length,t=0;t<r;t++){var a=e.points[t];t===0?this.appendSegment(Bt.createSegment("M",a)):this.appendSegment(Bt.createSegment("L",a))}}else throw new Error("Cannot construct a path from the provided object.")};Bt.parse=function(e){if(!e)return new Bt;for(var t=new Bt,r=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,n=e.match(r),i=n.length,o=0;o<i;o++){var a=n[o],s=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,l=a.match(s),u=Bt.createSegment.apply(this,l);t.appendSegment(u)}return t};Bt.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=Bt.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var r=[],n=arguments.length,i=1;i<n;i++)r.push(arguments[i]);return Xs(t,r)};Bt.prototype={type:or.Path,appendSegment:function(e){var t=this.segments,r=t.length,n,i=r!==0?t[r-1]:null,o=null;if(Array.isArray(e)){if(e=e.reduce(function(u,f){return u.concat(f)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var a=e.length,s=0;s<a;s++){var l=e[s];n=this.prepareSegment(l,i,o),t.push(n),i=n}}else{if(!e||!e.isSegment)throw new Error("Segment required.");n=this.prepareSegment(e,i,o),t.push(n)}},bbox:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r,n=0;n<t;n++){var i=e[n];if(i.isVisible){var o=i.bbox();r=r?r.union(o):o}}if(r)return r;var a=e[t-1];return new Pt(a.end.x,a.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,r=new Bt,n=0;n<t;n++){var i=e[n].clone();r.appendSegment(i)}return r},closestPoint:function(e,t){var r=this.closestPointT(e,t);return r?this.pointAtT(r):null},closestPointLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,i={precision:r,segmentSubdivisions:n},o=this.closestPointT(e,i);return o?this.lengthAtT(o,i):0},closestPointNormalizedLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,i={precision:r,segmentSubdivisions:n},o=this.closestPointLength(e,i);if(o===0)return 0;var a=this.length(i);return a===0?0:o/a},closestPointT:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a,s=1/0,l=0;l<n;l++){var u=r[l],f=o[l];if(u.isVisible){var c=u.closestPointT(e,{precision:i,subdivisions:f}),p=u.pointAtT(c),m=new It(p,e).squaredLength();m<s&&(a={segmentIndex:l,value:c},s=m)}}return a||{segmentIndex:n-1,value:1}},closestPointTangent:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a,s=1/0,l=0;l<n;l++){var u=r[l],f=o[l];if(u.isDifferentiable()){var c=u.closestPointT(e,{precision:i,subdivisions:f}),p=u.pointAtT(c),m=new It(p,e).squaredLength();m<s&&(a=u.tangentAtT(c),s=m)}}return a||null},containsPoint:function(e,t){var r=this.toPolylines(t);if(!r)return!1;for(var n=r.length,i=0,o=0;o<n;o++){var a=r[o];a.containsPoint(e)&&i++}return i%2===1},divideAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a={precision:i,segmentSubdivisions:o},s=this.length(a),l=s*e;return this.divideAtLength(l,a)},divideAtLength:function(e,t){var r=this.segments.length;if(r===0)return null;var n=!0;e<0&&(n=!1,e=-e),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a,s,l=0,u,f,c,p,m;for(a=0;a<r;a++){var g=n?a:r-1-a;s=this.getSegment(g);var _=o[g],v=s.length({precision:i,subdivisions:_});if(s.isDifferentiable()&&(c=s,p=g,e<=l+v)){f=g,u=s.divideAtLength((n?1:-1)*(e-l),{precision:i,subdivisions:_});break}l+=v}if(!c)return null;u||(f=p,m=n?1:0,u=c.divideAtT(m));var h=this.clone();h.replaceSegment(f,u);var E=f,y=f+1,S=f+2;u[0].isDifferentiable()||(h.removeSegment(E),y-=1,S-=1);var $=h.getSegment(y).start;h.insertSegment(y,Bt.createSegment("M",$)),S+=1,u[1].isDifferentiable()||(h.removeSegment(S-1),S-=1);var T=S-E-1;for(a=S;a<h.segments.length;a++){var d=this.getSegment(a-T);if(s=h.getSegment(a),s.type==="Z"&&!d.subpathStartSegment.end.equals(s.subpathStartSegment.end)){var A=Bt.createSegment("L",d.end);h.replaceSegment(a,A)}}var x=new Bt(h.segments.slice(0,y)),P=new Bt(h.segments.slice(y));return[x,P]},equals:function(e){if(!e)return!1;var t=this.segments,r=e.segments,n=t.length;if(r.length!==n)return!1;for(var i=0;i<n;i++){var o=t[i],a=r[i];if(o.type!==a.type||!o.equals(a))return!1}return!0},getSegment:function(e){var t=this.segments,r=t.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){var t=this.segments,r=t.length;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=[],o=0;o<r;o++){var a=t[o],s=a.getSubdivisions({precision:n});i.push(s)}return i},getSubpaths:function(){const t=this.clone().validate().segments,r=t.length,n=[];for(let i=0;i<r;i++){const o=t[i];o.isSubpathStart?n.push(new Bt(o)):n[n.length-1].appendSegment(o)}return n},insertSegment:function(e,t){var r=this.segments,n=r.length;if(e<0&&(e=n+e+1),e>n||e<0)throw new Error("Index out of range.");var i,o=null,a=null;if(n!==0&&(e>=1?(o=r[e-1],a=o.nextSegment):a=r[0]),Array.isArray(t)){if(t=t.reduce(function(f,c){return f.concat(c)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var s=t.length,l=0;l<s;l++){var u=t[l];i=this.prepareSegment(u,o,a),r.splice(e+l,0,i),o=i}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,o,a),r.splice(e,0,i)}},intersectionWithLine:function(e,t){var r=null,n=this.toPolylines(t);if(!n)return null;for(var i=0,o=n.length;i<o;i++){var a=n[i],s=e.intersect(a);s&&(r||(r=[]),Array.isArray(s)?Array.prototype.push.apply(r,s):r.push(s))}return r},isDifferentiable:function(){for(var e=this.segments,t=e.length,r=0;r<t;r++){var n=e[r];if(n.isDifferentiable())return!0}return!1},isValid:function(){var e=this.segments,t=e.length===0||e[0].type==="M";return t},length:function(e){var t=this.segments,r=t.length;if(r===0)return 0;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,o=0,a=0;a<r;a++){var s=t[a],l=i[a];o+=s.length({subdivisions:l})}return o},lengthAtT:function(e,t){var r=this.segments,n=r.length;if(n===0)return 0;var i=e.segmentIndex;if(i<0)return 0;var o=e.value;i>=n?(i=n-1,o=1):o<0?o=0:o>1&&(o=1),t=t||{};for(var a=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:a}):t.segmentSubdivisions,l,u=0,f=0;f<i;f++){var c=r[f];l=s[f],u+=c.length({precisison:a,subdivisions:l})}return c=r[i],l=s[i],u+=c.lengthAtT(o,{precisison:a,subdivisions:l}),u},pointAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a={precision:i,segmentSubdivisions:o},s=this.length(a),l=s*e;return this.pointAtLength(l,a)},pointAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;if(e===0)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,s,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],p=a[f],m=c.length({precision:o,subdivisions:p});if(c.isVisible){if(e<=l+m)return c.pointAtLength((i?1:-1)*(e-l),{precision:o,subdivisions:p});s=c}l+=m}if(s)return i?s.end:s.start;var g=r[n-1];return g.end.clone()},pointAtT:function(e){var t=this.segments,r=t.length;if(r===0)return null;var n=e.segmentIndex;if(n<0)return t[0].pointAtT(0);if(n>=r)return t[r-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[n].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,r){e.previousSegment=t,e.nextSegment=r,t&&(t.nextSegment=e),r&&(r.previousSegment=e);var n=e;return e.isSubpathStart&&(e.subpathStartSegment=e,n=r),n&&this.updateSubpathStartSegment(n),e},removeSegment:function(e){var t=this.segments,r=t.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var n=t.splice(e,1)[0],i=n.previousSegment,o=n.nextSegment;i&&(i.nextSegment=o),o&&(o.previousSegment=i),n.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(e,t){var r=this.segments,n=r.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var i,o=r[e],a=o.previousSegment,s=o.nextSegment,l=o.isSubpathStart;if(Array.isArray(t)){if(t=t.reduce(function(p,m){return p.concat(m)},[]),!t[0].isSegment)throw new Error("Segments required.");r.splice(e,1);for(var u=t.length,f=0;f<u;f++){var c=t[f];i=this.prepareSegment(c,a,s),r.splice(e+f,0,i),a=i,l&&i.isSubpathStart&&(l=!1)}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,a,s),r.splice(e,1,i),l&&i.isSubpathStart&&(l=!1)}l&&s&&this.updateSubpathStartSegment(s)},round:function(e){for(var t=this.segments,r=t.length,n=0;n<r;n++){var i=t[n];i.round(e)}return this},scale:function(e,t,r){for(var n=this.segments,i=n.length,o=0;o<i;o++){var a=n[o];a.scale(e,t,r)}return this},segmentAt:function(e,t){var r=this.segmentIndexAt(e,t);return r?this.getSegment(r):null},segmentAtLength:function(e,t){var r=this.segmentIndexAtLength(e,t);return r?this.getSegment(r):null},segmentIndexAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a={precision:i,segmentSubdivisions:o},s=this.length(a),l=s*e;return this.segmentIndexAtLength(l,a)},segmentIndexAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,s=null,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],p=a[f],m=c.length({precision:o,subdivisions:p});if(c.isVisible){if(e<=l+m)return f;s=f}l+=m}return s},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a={precision:i,segmentSubdivisions:o},s=this.length(a),l=s*e;return this.tangentAtLength(l,a)},tangentAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,s,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],p=a[f],m=c.length({precision:o,subdivisions:p});if(c.isDifferentiable()){if(e<=l+m)return c.tangentAtLength((i?1:-1)*(e-l),{precision:o,subdivisions:p});s=c}l+=m}if(s){var g=i?1:0;return s.tangentAtT(g)}return null},tangentAtT:function(e){var t=this.segments,r=t.length;if(r===0)return null;var n=e.segmentIndex;if(n<0)return t[0].tangentAtT(0);if(n>=r)return t[r-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[n].tangentAtT(i)},toPoints:function(e){var t=this.segments,r=t.length;if(r===0)return null;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,o=[],a=[],s=0;s<r;s++){var l=t[s];if(l.isVisible){var u=i[s];if(u.length>0){var f=u.map(function(c){return c.start});Array.prototype.push.apply(a,f)}else a.push(l.start)}else a.length>0&&(a.push(t[s-1].end),o.push(a),a=[])}return a.length>0&&(a.push(this.end),o.push(a)),o},toPolylines:function(e){var t=[],r=this.toPoints(e);if(!r)return null;for(var n=0,i=r.length;n<i;n++)t.push(new un(r[n]));return t},toString:function(){for(var e=this.segments,t=e.length,r="",n=0;n<t;n++){var i=e[n];r+=i.serialize()+" "}return r.trim()},translate:function(e,t){for(var r=this.segments,n=r.length,i=0;i<n;i++){var o=r[i];o.translate(e,t)}return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)t?e.subpathStartSegment=t.subpathStartSegment:e.subpathStartSegment=null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,Bt.createSegment("M",0,0)),this}};Object.defineProperty(Bt.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r=0;r<t;r++){var n=e[r];if(n.isVisible)return n.start}return e[t-1].end}});Object.defineProperty(Bt.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r=t-1;r>=0;r--){var n=e[r];if(n.isVisible)return n.end}return e[t-1].end}});function Xs(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}var Bf={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Bf,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Bf,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(Bf,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var Ti=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Ti))return Xs(Ti,e);if(t===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var n;if(e[0]instanceof It){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new ze(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=2)i=e.slice(r,r+2),n.push(Xs(Ti,i));return n}else{if(t===1)return this.end=new ze(e[0]),this;var o;for(n=[],r=0;r<t;r+=1)o=e[r],n.push(new Ti(o));return n}},mV={clone:function(){return new Ti(this.end)},divideAt:function(e){var t=new It(this.start,this.end),r=t.divideAt(e);return[new Ti(r[0]),new Ti(r[1])]},divideAtLength:function(e){var t=new It(this.start,this.end),r=t.divideAtLength(e);return[new Ti(r[0]),new Ti(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(mV,"type",{configurable:!0,enumerable:!0,value:"L"});Ti.prototype=Ag(Bf,It.prototype,mV);var Ho=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Ho))return Xs(Ho,e);if(t===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var n;if(e[0]instanceof Fr){if(t===1)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===6)return this.controlPoint1=new ze(+e[0],+e[1]),this.controlPoint2=new ze(+e[2],+e[3]),this.end=new ze(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=6)i=e.slice(r,r+6),n.push(Xs(Ho,i));return n}else{if(t===3)return this.controlPoint1=new ze(e[0]),this.controlPoint2=new ze(e[1]),this.end=new ze(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");var o;for(n=[],r=0;r<t;r+=3)o=e.slice(r,r+3),n.push(Xs(Ho,o));return n}},gV={clone:function(){return new Ho(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var r=new Fr(this.start,this.controlPoint1,this.controlPoint2,this.end),n=r.divideAt(e,t);return[new Ho(n[0]),new Ho(n[1])]},divideAtLength:function(e,t){var r=new Fr(this.start,this.controlPoint1,this.controlPoint2,this.end),n=r.divideAtLength(e,t);return[new Ho(n[0]),new Ho(n[1])]},divideAtT:function(e){var t=new Fr(this.start,this.controlPoint1,this.controlPoint2,this.end),r=t.divideAtT(e);return[new Ho(r[0]),new Ho(r[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(n))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,r=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+r.x+" "+r.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(gV,"type",{configurable:!0,enumerable:!0,value:"C"});Ho.prototype=Ag(Bf,Fr.prototype,gV);var of=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof of))return Xs(of,e);if(t===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var n;if(e[0]instanceof It){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(e[0]instanceof Fr){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new ze(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=2)i=e.slice(r,r+2),r===0?n.push(Xs(of,i)):n.push(Xs(Ti,i));return n}else{if(t===1)return this.end=new ze(e[0]),this;var o;for(n=[],r=0;r<t;r+=1)o=e[r],r===0?n.push(new of(o)):n.push(new Ti(o));return n}},fI={bbox:function(){return null},clone:function(){return new of(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(fI,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(fI,"type",{configurable:!0,enumerable:!0,value:"M"});of.prototype=Ag(Bf,fI);var Ah=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Ah))return Xs(Ah,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},dI={clone:function(){return new Ah},divideAt:function(e){var t=new It(this.start,this.end),r=t.divideAt(e);return[r[1].isDifferentiable()?new Ti(r[0]):this.clone(),new Ti(r[1])]},divideAtLength:function(e){var t=new It(this.start,this.end),r=t.divideAtLength(e);return[r[1].isDifferentiable()?new Ti(r[0]):this.clone(),new Ti(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(dI,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(dI,"type",{configurable:!0,enumerable:!0,value:"Z"});Ah.prototype=Ag(Bf,It.prototype,dI);var Iie=Bt.segmentTypes={L:Ti,C:Ho,M:of,Z:Ah,z:Ah};Bt.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(Iie).join("")+",.]*$");Bt.isDataSupported=function(e){return typeof e!="string"?!1:this.regexSupportedData.test(e)};const Nie={curveThroughPoints:function(e){return console.warn("deprecated"),new Bt(Fr.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var t=[],r=[],n=e.length-1,i;if(n==1)return t[0]=new ze((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),r[0]=new ze(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,r];var o=[];for(i=1;i<n-1;i++)o[i]=4*e[i].x+2*e[i+1].x;o[0]=e[0].x+2*e[1].x,o[n-1]=(8*e[n-1].x+e[n].x)/2;var a=this.getFirstControlPoints(o);for(i=1;i<n-1;++i)o[i]=4*e[i].y+2*e[i+1].y;o[0]=e[0].y+2*e[1].y,o[n-1]=(8*e[n-1].y+e[n].y)/2;var s=this.getFirstControlPoints(o);for(i=0;i<n;i++)t.push(new ze(a[i],s[i])),i<n-1?r.push(new ze(2*e[i+1].x-a[i+1],2*e[i+1].y-s[i+1])):r.push(new ze((e[n].x+a[n-1])/2,(e[n].y+s[n-1])/2));return[t,r]},getCurveDivider:function(e,t,r,n){console.warn("deprecated");var i=new Fr(e,t,r,n);return function(a){var s=i.divide(a);return[{p0:s[0].start,p1:s[0].controlPoint1,p2:s[0].controlPoint2,p3:s[0].end},{p0:s[1].start,p1:s[1].controlPoint1,p2:s[1].controlPoint2,p3:s[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,r=[],n=[],i=2;r[0]=e[0]/i;for(var o=1;o<t;o++)n[o]=1/i,i=(o<t-1?4:3.5)-n[o],r[o]=(e[o]-r[o-1])/i;for(o=1;o<t;o++)r[t-o-1]-=n[t-o]*r[t-o];return r},getInversionSolver:function(e,t,r,n){console.warn("deprecated");var i=new Fr(e,t,r,n);return function(a){return i.closestPointT(a)}}},Po=function(e){if(!(this instanceof Po))return new Po(e);if(typeof e=="string")return new Po.parse(e);this.points=Array.isArray(e)?e.map(ze):[]};Po.parse=function(e){return new Po(dV(e))};Po.fromRect=function(e){return new Po([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])};Po.prototype=Ag(un.prototype,{type:or.Polygon,clone:function(){return new Po(hV(this.points))},convexHull:function(){return new Po(pV(this.points))},lengthPoints:function(){const{start:e,end:t,points:r}=this;return r.length<=1||e.equals(t)?r:[...r,e.clone()]}});function vV(e,t,r,n){switch(e.type){case or.Line:{switch(t.type){case or.Line:return af(e,t)}break}case or.Ellipse:{switch(t.type){case or.Line:return hI(e,t);case or.Ellipse:return yV(e,t)}break}case or.Rect:{switch(t.type){case or.Line:return wV(e,t);case or.Ellipse:return bV(e,t);case or.Rect:return pI(e,t)}break}case or.Polyline:{switch(t.type){case or.Line:return dE(e,t);case or.Ellipse:return mI(e,t);case or.Rect:return _V(e,t);case or.Polyline:return EV(e,t)}break}case or.Polygon:{switch(t.type){case or.Line:return gI(e,t);case or.Ellipse:return hE(e,t);case or.Rect:return SV(e,t);case or.Polyline:return $V(e,t);case or.Polygon:return TV(e,t)}break}case or.Path:{switch(t.type){case or.Line:return AV(e,t,r);case or.Ellipse:return xV(e,t,r);case or.Rect:return PV(e,t,r);case or.Polyline:return vI(e,t,r);case or.Polygon:return pE(e,t,r);case or.Path:return OV(e,t,r,n)}break}}switch(t.type){case or.Ellipse:case or.Rect:case or.Polyline:case or.Polygon:case or.Path:return vV(t,e,n,r);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function af(e,t){const r=e.start.x,n=e.start.y,i=e.end.x,o=e.end.y,a=t.start.x,s=t.start.y,l=t.end.x,u=t.end.y,f=i-r,c=o-n,p=l-a,m=u-s,g=r-a,_=n-s,v=f*m-p*c,h=(f*_-c*g)/v,E=(p*_-m*g)/v;return h>=0&&h<=1&&E>=0&&E<=1}function hI(e,t){const r=e.a,n=e.b,i=e.x,o=e.y,a=t.start.x-i,s=t.end.x-i,l=t.start.y-o,u=t.end.y-o,f=r*r,c=n*n,p=s-a,m=u-l,g=p*p/f+m*m/c,_=2*a*p/f+2*l*m/c,v=a*a/f+l*l/c-1,h=_*_-4*g*v;if(h===0){const E=-_/2/g;return E>=0&&E<=1}else if(h>0){const E=Math.sqrt(h),y=(-_+E)/2/g,S=(-_-E)/2/g;return y>=0&&y<=1||S>=0&&S<=1}return!1}function yV(e,t){return kie(e,0,t,0)}function wV(e,t){const{start:r,end:n}=t,{x:i,y:o,width:a,height:s}=e;return r.x>i+a&&n.x>i+a||r.x<i&&n.x<i||r.y>o+s&&n.y>o+s||r.y<o&&n.y<o?!1:e.containsPoint(t.start)||e.containsPoint(t.end)?!0:af(e.topLine(),t)||af(e.rightLine(),t)||af(e.bottomLine(),t)||af(e.leftLine(),t)}function bV(e,t){return pI(e,Pt.fromEllipse(t))?hE(Po.fromRect(e),t):!1}function pI(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function dE(e,t){return RV(e,t,{interior:!1})}function mI(e,t){return IV(e,t,{interior:!1})}function _V(e,t){return NV(e,t,{interior:!1})}function EV(e,t){return mE(e,t,{interior:!1})}function gI(e,t){return RV(e,t,{interior:!0})}function hE(e,t){return IV(e,t,{interior:!0})}function SV(e,t){return NV(e,t,{interior:!0})}function $V(e,t){return mE(e,t,{interior:!0})}function TV(e,t){return yI(e,t,{interior:!0})}function AV(e,t,r){return e.getSubpaths().some(n=>{const[i]=n.toPolylines(r),{type:o}=n.getSegment(-1);return o==="Z"?gI(i,t):dE(i,t)})}function xV(e,t,r){return e.getSubpaths().some(n=>{const[i]=n.toPolylines(r),{type:o}=n.getSegment(-1);return o==="Z"?hE(i,t):mI(i,t)})}function PV(e,t,r){return pE(e,Po.fromRect(t),r)}function vI(e,t,r){return kV(e,t,r,{interior:!1})}function pE(e,t,r){return kV(e,t,r,{interior:!0})}function OV(e,t,r,n){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(r),{type:a}=i.getSegment(-1);return a==="Z"?pE(t,o,n):vI(t,o,n)})}function RV(e,t,r={}){const{interior:n=!1}=r;let i;if(n){if(e.containsPoint(t.start))return!0;const{start:s,end:l,points:u}=e;i=l.equals(s)?u:[...u,s]}else i=e.points;const{length:o}=i,a=new It;for(let s=0;s<o-1;s++)if(a.start=i[s],a.end=i[s+1],af(t,a))return!0;return!1}function IV(e,t,r={}){const{start:n,end:i,points:o}=e;if(t.containsPoint(n))return!0;let a;const{interior:s=!1}=r;if(s){if(e.containsPoint(t.center()))return!0;a=i.equals(n)?o:[...o,n]}else a=o;const{length:l}=a,u=new It;for(let f=0;f<l-1;f++)if(u.start=a[f],u.end=a[f+1],hI(t,u))return!0;return!1}function NV(e,t,r){const n=Po.fromRect(t);return yI(e,n,r)}function kV(e,t,r,n){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(r),{type:a}=i.getSegment(-1);return a==="Z"?yI(t,o,n):mE(t,o,n)})}function mE(e,t,r={}){const{interior:n=!1}=r;let i;if(n){const{start:l}=t;if(e.containsPoint(l))return!0;i=e.clone().close()}else i=e;const o=t.points,{length:a}=o,s=new It;for(let l=0;l<a-1;l++)if(s.start=o[l],s.end=o[l+1],dE(i,s))return!0;return!1}function yI(e,t,r){return t.containsPoint(e.start)||mE(e,t.clone().close(),r)}function kie(e,t,r,n){const{cos:i,sin:o}=Math,a=o(t),s=i(t),l=o(n),u=i(n),f=a*a,c=s*s,p=a*s,m=l*l,g=u*u,_=l*u,v=e.a*e.a,h=e.b*e.b,E=r.a*r.a,y=r.b*r.b,S=v*f+h*c,$=E*m+y*g,T=v*c+h*f,d=E*g+y*m;let A=2*(h-v)*p,x=2*(y-E)*_,P=-2*S*e.x-A*e.y,j=-2*$*r.x-x*r.y,F=-A*e.x-2*T*e.y,V=-x*r.x-2*d*r.y;const X=S*e.x*e.x+T*e.y*e.y+A*e.x*e.y-v*h,H=$*r.x*r.x+d*r.y*r.y+x*r.x*r.y-E*y;A=A/2,x=x/2,P=P/2,j=j/2,F=F/2,V=V/2;const Z=lu([[S,A,P],[A,T,F],[P,F,X]]),fe=lu([[$,x,j],[x,d,V],[j,V,H]]),ee=.33333333*(lu([[$,A,P],[x,T,F],[j,F,X]])+lu([[S,x,P],[A,d,F],[P,V,X]])+lu([[S,A,j],[A,T,V],[P,F,H]])),ae=.33333333*(lu([[S,x,j],[A,d,V],[P,V,H]])+lu([[$,A,j],[x,T,V],[j,F,H]])+lu([[$,x,P],[x,d,F],[j,V,X]])),M=Fv([[Z,ee],[ee,ae]]),B=Fv([[Z,ae],[ee,fe]]),K=Fv([[ee,ae],[ae,fe]]);return!(Fv([[2*M,B],[B,2*K]])>0&&(ae>0||ee>0))}function Fv(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function lu(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}const Cie=Object.freeze(Object.defineProperty({__proto__:null,ellipseWithEllipse:yV,ellipseWithLine:hI,exists:vV,lineWithLine:af,pathWithEllipse:xV,pathWithLine:AV,pathWithPath:OV,pathWithPolygon:pE,pathWithPolyline:vI,pathWithRect:PV,polygonWithEllipse:hE,polygonWithLine:gI,polygonWithPolygon:TV,polygonWithPolyline:$V,polygonWithRect:SV,polylineWithEllipse:mI,polylineWithLine:dE,polylineWithPolyline:EV,polylineWithRect:_V,rectWithEllipse:bV,rectWithLine:wV,rectWithRect:pI},Symbol.toStringTag,{value:"Module"})),jie=Cie,Die=Object.freeze(Object.defineProperty({__proto__:null,Curve:Fr,Ellipse:eo,Line:It,Path:Bt,Point:ze,Polygon:Po,Polyline:un,Rect:Pt,bezier:Nie,ellipse:Tie,intersection:jie,line:vf,normalizeAngle:fs,point:Wb,random:lP,rect:Oie,scale:bie,snapToGrid:Pf,toDeg:fE,toRad:xo,types:or},Symbol.toStringTag,{value:"Module"}));var CV={},wI="1.13.7",WD=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},gE=Array.prototype,bI=Object.prototype,GD=typeof Symbol<"u"?Symbol.prototype:null,Mie=gE.push,xg=gE.slice,qm=bI.toString,Lie=bI.hasOwnProperty,jV=typeof ArrayBuffer<"u",Fie=typeof DataView<"u",Bie=Array.isArray,KD=Object.keys,JD=Object.create,YD=jV&&ArrayBuffer.isView,Uie=isNaN,zie=isFinite,DV=!{toString:null}.propertyIsEnumerable("toString"),XD=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],qie=Math.pow(2,53)-1;function oo(e,t){return t=t==null?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=n,e.apply(this,o)}}function fc(e){var t=typeof e;return t==="function"||t==="object"&&!!e}function MV(e){return e===null}function _I(e){return e===void 0}function EI(e){return e===!0||e===!1||qm.call(e)==="[object Boolean]"}function LV(e){return!!(e&&e.nodeType===1)}function Vi(e){var t="[object "+e+"]";return function(r){return qm.call(r)===t}}const vE=Vi("String"),SI=Vi("Number"),FV=Vi("Date"),BV=Vi("RegExp"),UV=Vi("Error"),$I=Vi("Symbol"),TI=Vi("ArrayBuffer");var zV=Vi("Function"),Vie=WD.document&&WD.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof Vie!="function"&&(zV=function(e){return typeof e=="function"||!1});const qi=zV,qV=Vi("Object");var VV=Fie&&(!/\[native code\]/.test(String(DataView))||qV(new DataView(new ArrayBuffer(8)))),AI=typeof Map<"u"&&qV(new Map),Hie=Vi("DataView");function Wie(e){return e!=null&&qi(e.getInt8)&&TI(e.buffer)}const Vm=VV?Wie:Hie,dc=Bie||Vi("Array");function hc(e,t){return e!=null&&Lie.call(e,t)}var fP=Vi("Arguments");(function(){fP(arguments)||(fP=function(e){return hc(e,"callee")})})();const yE=fP;function HV(e){return!$I(e)&&zie(e)&&!isNaN(parseFloat(e))}function xI(e){return SI(e)&&Uie(e)}function PI(e){return function(){return e}}function WV(e){return function(t){var r=e(t);return typeof r=="number"&&r>=0&&r<=qie}}function GV(e){return function(t){return t==null?void 0:t[e]}}const Gb=GV("byteLength"),Gie=WV(Gb);var Kie=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function Jie(e){return YD?YD(e)&&!Vm(e):Gie(e)&&Kie.test(qm.call(e))}const OI=jV?Jie:PI(!1),Ro=GV("length");function Yie(e){for(var t={},r=e.length,n=0;n<r;++n)t[e[n]]=!0;return{contains:function(i){return t[i]===!0},push:function(i){return t[i]=!0,e.push(i)}}}function KV(e,t){t=Yie(t);var r=XD.length,n=e.constructor,i=qi(n)&&n.prototype||bI,o="constructor";for(hc(e,o)&&!t.contains(o)&&t.push(o);r--;)o=XD[r],o in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function oi(e){if(!fc(e))return[];if(KD)return KD(e);var t=[];for(var r in e)hc(e,r)&&t.push(r);return DV&&KV(e,t),t}function JV(e){if(e==null)return!0;var t=Ro(e);return typeof t=="number"&&(dc(e)||vE(e)||yE(e))?t===0:Ro(oi(e))===0}function RI(e,t){var r=oi(t),n=r.length;if(e==null)return!n;for(var i=Object(e),o=0;o<n;o++){var a=r[o];if(t[a]!==i[a]||!(a in i))return!1}return!0}function Xr(e){if(e instanceof Xr)return e;if(!(this instanceof Xr))return new Xr(e);this._wrapped=e}Xr.VERSION=wI;Xr.prototype.value=function(){return this._wrapped};Xr.prototype.valueOf=Xr.prototype.toJSON=Xr.prototype.value;Xr.prototype.toString=function(){return String(this._wrapped)};function QD(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Gb(e))}var ZD="[object DataView]";function dP(e,t,r,n){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:YV(e,t,r,n)}function YV(e,t,r,n){e instanceof Xr&&(e=e._wrapped),t instanceof Xr&&(t=t._wrapped);var i=qm.call(e);if(i!==qm.call(t))return!1;if(VV&&i=="[object Object]"&&Vm(e)){if(!Vm(t))return!1;i=ZD}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return GD.valueOf.call(e)===GD.valueOf.call(t);case"[object ArrayBuffer]":case ZD:return YV(QD(e),QD(t),r,n)}var o=i==="[object Array]";if(!o&&OI(e)){var a=Gb(e);if(a!==Gb(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if(typeof e!="object"||typeof t!="object")return!1;var s=e.constructor,l=t.constructor;if(s!==l&&!(qi(s)&&s instanceof s&&qi(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!dP(e[u],t[u],r,n))return!1}else{var f=oi(e),c;if(u=f.length,oi(t).length!==u)return!1;for(;u--;)if(c=f[u],!(hc(t,c)&&dP(e[c],t[c],r,n)))return!1}return r.pop(),n.pop(),!0}function XV(e,t){return dP(e,t)}function qh(e){if(!fc(e))return[];var t=[];for(var r in e)t.push(r);return DV&&KV(e,t),t}function II(e){var t=Ro(e);return function(r){if(r==null)return!1;var n=qh(r);if(Ro(n))return!1;for(var i=0;i<t;i++)if(!qi(r[e[i]]))return!1;return e!==e8||!qi(r[NI])}}var NI="forEach",QV="has",kI=["clear","delete"],ZV=["get",QV,"set"],Xie=kI.concat(NI,ZV),e8=kI.concat(ZV),Qie=["add"].concat(kI,NI,QV);const t8=AI?II(Xie):Vi("Map"),r8=AI?II(e8):Vi("WeakMap"),n8=AI?II(Qie):Vi("Set"),i8=Vi("WeakSet");function Uf(e){for(var t=oi(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n}function o8(e){for(var t=oi(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n}function CI(e){for(var t={},r=oi(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t}function Hm(e){var t=[];for(var r in e)qi(e[r])&&t.push(r);return t.sort()}function jI(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||r==null)return r;for(var i=1;i<n;i++)for(var o=arguments[i],a=e(o),s=a.length,l=0;l<s;l++){var u=a[l];(!t||r[u]===void 0)&&(r[u]=o[u])}return r}}const DI=jI(qh),xh=jI(oi),MI=jI(qh,!0);function Zie(){return function(){}}function a8(e){if(!fc(e))return{};if(JD)return JD(e);var t=Zie();t.prototype=e;var r=new t;return t.prototype=null,r}function s8(e,t){var r=a8(e);return t&&xh(r,t),r}function l8(e){return fc(e)?dc(e)?e.slice():DI({},e):e}function u8(e,t){return t(e),e}function LI(e){return dc(e)?e:[e]}Xr.toPath=LI;function Pg(e){return Xr.toPath(e)}function FI(e,t){for(var r=t.length,n=0;n<r;n++){if(e==null)return;e=e[t[n]]}return r?e:void 0}function BI(e,t,r){var n=FI(e,Pg(t));return _I(n)?r:n}function c8(e,t){t=Pg(t);for(var r=t.length,n=0;n<r;n++){var i=t[n];if(!hc(e,i))return!1;e=e[i]}return!!r}function wE(e){return e}function Of(e){return e=xh({},e),function(t){return RI(t,e)}}function bE(e){return e=Pg(e),function(t){return FI(t,e)}}function Og(e,t,r){if(t===void 0)return e;switch(r??3){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,a){return e.call(t,n,i,o,a)}}return function(){return e.apply(t,arguments)}}function f8(e,t,r){return e==null?wE:qi(e)?Og(e,t,r):fc(e)&&!dc(e)?Of(e):bE(e)}function _E(e,t){return f8(e,t,1/0)}Xr.iteratee=_E;function jo(e,t,r){return Xr.iteratee!==_E?Xr.iteratee(e,t):f8(e,t,r)}function d8(e,t,r){t=jo(t,r);for(var n=oi(e),i=n.length,o={},a=0;a<i;a++){var s=n[a];o[s]=t(e[s],s,e)}return o}function UI(){}function h8(e){return e==null?UI:function(t){return BI(e,t)}}function p8(e,t,r){var n=Array(Math.max(0,e));t=Og(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n}function Kb(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}const Ph=Date.now||function(){return new Date().getTime()};function m8(e){var t=function(o){return e[o]},r="(?:"+oi(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(o){return o=o==null?"":""+o,n.test(o)?o.replace(i,t):o}}const g8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},v8=m8(g8),eoe=CI(g8),y8=m8(eoe),w8=Xr.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var o1=/(.)^/,toe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},roe=/\\|'|\r|\n|\u2028|\u2029/g;function noe(e){return"\\"+toe[e]}var ioe=/^\s*(\w|\$)+\s*$/;function b8(e,t,r){!t&&r&&(t=r),t=MI({},t,Xr.templateSettings);var n=RegExp([(t.escape||o1).source,(t.interpolate||o1).source,(t.evaluate||o1).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(n,function(u,f,c,p,m){return o+=e.slice(i,m).replace(roe,noe),i=m+u.length,f?o+=`'+
((__t=(`+f+`))==null?'':_.escape(__t))+
'`:c?o+=`'+
((__t=(`+c+`))==null?'':__t)+
'`:p&&(o+=`';
`+p+`
__p+='`),u}),o+=`';
`;var a=t.variable;if(a){if(!ioe.test(a))throw new Error("variable is not a bare identifier: "+a)}else o=`with(obj||{}){
`+o+`}
`,a="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var s;try{s=new Function(a,"_",o)}catch(u){throw u.source=o,u}var l=function(u){return s.call(this,u,Xr)};return l.source="function("+a+`){
`+o+"}",l}function _8(e,t,r){t=Pg(t);var n=t.length;if(!n)return qi(r)?r.call(e):r;for(var i=0;i<n;i++){var o=e==null?void 0:e[t[i]];o===void 0&&(o=r,i=n),e=qi(o)?o.call(e):o}return e}var ooe=0;function E8(e){var t=++ooe+"";return e?e+t:t}function S8(e){var t=Xr(e);return t._chain=!0,t}function $8(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var o=a8(e.prototype),a=e.apply(o,i);return fc(a)?a:o}var zf=oo(function(e,t){var r=zf.placeholder,n=function(){for(var i=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===r?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return $8(e,n,this,this,a)};return n});zf.placeholder=Xr;const zI=oo(function(e,t,r){if(!qi(e))throw new TypeError("Bind must be called on a function");var n=oo(function(i){return $8(e,n,t,this,r.concat(i))});return n}),ta=WV(Ro);function qf(e,t,r,n){if(n=n||[],!t&&t!==0)t=1/0;else if(t<=0)return n.concat(e);for(var i=n.length,o=0,a=Ro(e);o<a;o++){var s=e[o];if(ta(s)&&(dc(s)||yE(s)))if(t>1)qf(s,t-1,r,n),i=n.length;else for(var l=0,u=s.length;l<u;)n[i++]=s[l++];else r||(n[i++]=s)}return n}const T8=oo(function(e,t){t=qf(t,!1,!1);var r=t.length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=zI(e[n],e)}return e});function A8(e,t){var r=function(n){var i=r.cache,o=""+(t?t.apply(this,arguments):n);return hc(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return r.cache={},r}const qI=oo(function(e,t,r){return setTimeout(function(){return e.apply(null,r)},t)}),x8=zf(qI,Xr,1);function P8(e,t,r){var n,i,o,a,s=0;r||(r={});var l=function(){s=r.leading===!1?0:Ph(),n=null,a=e.apply(i,o),n||(i=o=null)},u=function(){var f=Ph();!s&&r.leading===!1&&(s=f);var c=t-(f-s);return i=this,o=arguments,c<=0||c>t?(n&&(clearTimeout(n),n=null),s=f,a=e.apply(i,o),n||(i=o=null)):!n&&r.trailing!==!1&&(n=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(n),s=0,n=i=o=null},u}function O8(e,t,r){var n,i,o,a,s,l=function(){var f=Ph()-i;t>f?n=setTimeout(l,t-f):(n=null,r||(a=e.apply(s,o)),n||(o=s=null))},u=oo(function(f){return s=this,o=f,i=Ph(),n||(n=setTimeout(l,t),r&&(a=e.apply(s,o))),a});return u.cancel=function(){clearTimeout(n),n=o=s=null},u}function R8(e,t){return zf(t,e)}function EE(e){return function(){return!e.apply(this,arguments)}}function I8(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function N8(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function VI(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}const k8=zf(VI,2);function HI(e,t,r){t=jo(t,r);for(var n=oi(e),i,o=0,a=n.length;o<a;o++)if(i=n[o],t(e[i],i,e))return i}function C8(e){return function(t,r,n){r=jo(r,n);for(var i=Ro(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(r(t[o],o,t))return o;return-1}}const SE=C8(1),WI=C8(-1);function GI(e,t,r,n){r=jo(r,n,1);for(var i=r(t),o=0,a=Ro(e);o<a;){var s=Math.floor((o+a)/2);r(e[s])<i?o=s+1:a=s}return o}function j8(e,t,r){return function(n,i,o){var a=0,s=Ro(n);if(typeof o=="number")e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(r&&o&&s)return o=r(n,i),n[o]===i?o:-1;if(i!==i)return o=t(xg.call(n,a,s),xI),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(n[o]===i)return o;return-1}}const KI=j8(1,SE,GI),D8=j8(-1,WI);function Wm(e,t,r){var n=ta(e)?SE:HI,i=n(e,t,r);if(i!==void 0&&i!==-1)return e[i]}function M8(e,t){return Wm(e,Of(t))}function ds(e,t,r){t=Og(t,r);var n,i;if(ta(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var o=oi(e);for(n=0,i=o.length;n<i;n++)t(e[o[n]],o[n],e)}return e}function Ll(e,t,r){t=jo(t,r);for(var n=!ta(e)&&oi(e),i=(n||e).length,o=Array(i),a=0;a<i;a++){var s=n?n[a]:a;o[a]=t(e[s],s,e)}return o}function L8(e){var t=function(r,n,i,o){var a=!ta(r)&&oi(r),s=(a||r).length,l=e>0?0:s-1;for(o||(i=r[a?a[l]:l],l+=e);l>=0&&l<s;l+=e){var u=a?a[l]:l;i=n(i,r[u],u,r)}return i};return function(r,n,i,o){var a=arguments.length>=3;return t(r,Og(n,o,4),i,a)}}const oh=L8(1),Jb=L8(-1);function Xu(e,t,r){var n=[];return t=jo(t,r),ds(e,function(i,o,a){t(i,o,a)&&n.push(i)}),n}function F8(e,t,r){return Xu(e,EE(jo(t)),r)}function Yb(e,t,r){t=jo(t,r);for(var n=!ta(e)&&oi(e),i=(n||e).length,o=0;o<i;o++){var a=n?n[o]:o;if(!t(e[a],a,e))return!1}return!0}function Xb(e,t,r){t=jo(t,r);for(var n=!ta(e)&&oi(e),i=(n||e).length,o=0;o<i;o++){var a=n?n[o]:o;if(t(e[a],a,e))return!0}return!1}function Ra(e,t,r,n){return ta(e)||(e=Uf(e)),(typeof r!="number"||n)&&(r=0),KI(e,t,r)>=0}const B8=oo(function(e,t,r){var n,i;return qi(t)?i=t:(t=Pg(t),n=t.slice(0,-1),t=t[t.length-1]),Ll(e,function(o){var a=i;if(!a){if(n&&n.length&&(o=FI(o,n)),o==null)return;a=o[t]}return a==null?a:a.apply(o,r)})});function $E(e,t){return Ll(e,bE(t))}function U8(e,t){return Xu(e,Of(t))}function JI(e,t,r){var n=-1/0,i=-1/0,o,a;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=ta(e)?e:Uf(e);for(var s=0,l=e.length;s<l;s++)o=e[s],o!=null&&o>n&&(n=o)}else t=jo(t,r),ds(e,function(u,f,c){a=t(u,f,c),(a>i||a===-1/0&&n===-1/0)&&(n=u,i=a)});return n}function z8(e,t,r){var n=1/0,i=1/0,o,a;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=ta(e)?e:Uf(e);for(var s=0,l=e.length;s<l;s++)o=e[s],o!=null&&o<n&&(n=o)}else t=jo(t,r),ds(e,function(u,f,c){a=t(u,f,c),(a<i||a===1/0&&n===1/0)&&(n=u,i=a)});return n}var aoe=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function YI(e){return e?dc(e)?xg.call(e):vE(e)?e.match(aoe):ta(e)?Ll(e,wE):Uf(e):[]}function XI(e,t,r){if(t==null||r)return ta(e)||(e=Uf(e)),e[Kb(e.length-1)];var n=YI(e),i=Ro(n);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var s=Kb(a,o),l=n[a];n[a]=n[s],n[s]=l}return n.slice(0,t)}function q8(e){return XI(e,1/0)}function V8(e,t,r){var n=0;return t=jo(t,r),$E(Ll(e,function(i,o,a){return{value:i,index:n++,criteria:t(i,o,a)}}).sort(function(i,o){var a=i.criteria,s=o.criteria;if(a!==s){if(a>s||a===void 0)return 1;if(a<s||s===void 0)return-1}return i.index-o.index}),"value")}function TE(e,t){return function(r,n,i){var o=t?[[],[]]:{};return n=jo(n,i),ds(r,function(a,s){var l=n(a,s,r);e(o,a,l)}),o}}const H8=TE(function(e,t,r){hc(e,r)?e[r].push(t):e[r]=[t]}),W8=TE(function(e,t,r){e[r]=t}),G8=TE(function(e,t,r){hc(e,r)?e[r]++:e[r]=1}),K8=TE(function(e,t,r){e[r?0:1].push(t)},!0);function J8(e){return e==null?0:ta(e)?e.length:oi(e).length}function soe(e,t,r){return t in r}const QI=oo(function(e,t){var r={},n=t[0];if(e==null)return r;qi(n)?(t.length>1&&(n=Og(n,t[1])),t=qh(e)):(n=soe,t=qf(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var a=t[i],s=e[a];n(s,a,e)&&(r[a]=s)}return r}),Y8=oo(function(e,t){var r=t[0],n;return qi(r)?(r=EE(r),t.length>1&&(n=t[1])):(t=Ll(qf(t,!1,!1),String),r=function(i,o){return!Ra(t,o)}),QI(e,r,n)});function ZI(e,t,r){return xg.call(e,0,Math.max(0,e.length-(t==null||r?1:t)))}function ah(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[0]:ZI(e,e.length-t)}function yf(e,t,r){return xg.call(e,t==null||r?1:t)}function X8(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[e.length-1]:yf(e,Math.max(0,e.length-t))}function Q8(e){return Xu(e,Boolean)}function Z8(e,t){return qf(e,t,!1)}const eN=oo(function(e,t){return t=qf(t,!0,!0),Xu(e,function(r){return!Ra(t,r)})}),e9=oo(function(e,t){return eN(e,t)});function Gm(e,t,r,n){EI(t)||(n=r,r=t,t=!1),r!=null&&(r=jo(r,n));for(var i=[],o=[],a=0,s=Ro(e);a<s;a++){var l=e[a],u=r?r(l,a,e):l;t&&!r?((!a||o!==u)&&i.push(l),o=u):r?Ra(o,u)||(o.push(u),i.push(l)):Ra(i,l)||i.push(l)}return i}const t9=oo(function(e){return Gm(qf(e,!0,!0))});function r9(e){for(var t=[],r=arguments.length,n=0,i=Ro(e);n<i;n++){var o=e[n];if(!Ra(t,o)){var a;for(a=1;a<r&&Ra(arguments[a],o);a++);a===r&&t.push(o)}}return t}function Km(e){for(var t=e&&JI(e,Ro).length||0,r=Array(t),n=0;n<t;n++)r[n]=$E(e,n);return r}const n9=oo(Km);function i9(e,t){for(var r={},n=0,i=Ro(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r}function o9(e,t,r){t==null&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),o=0;o<n;o++,e+=r)i[o]=e;return i}function a9(e,t){if(t==null||t<1)return[];for(var r=[],n=0,i=e.length;n<i;)r.push(xg.call(e,n,n+=t));return r}function tN(e,t){return e._chain?Xr(t).chain():t}function rN(e){return ds(Hm(e),function(t){var r=Xr[t]=e[t];Xr.prototype[t]=function(){var n=[this._wrapped];return Mie.apply(n,arguments),tN(this,r.apply(Xr,n))}}),Xr}ds(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=gE[e];Xr.prototype[e]=function(){var r=this._wrapped;return r!=null&&(t.apply(r,arguments),(e==="shift"||e==="splice")&&r.length===0&&delete r[0]),tN(this,r)}});ds(["concat","join","slice"],function(e){var t=gE[e];Xr.prototype[e]=function(){var r=this._wrapped;return r!=null&&(r=t.apply(r,arguments)),tN(this,r)}});const loe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:wI,after:N8,all:Yb,allKeys:qh,any:Xb,assign:xh,before:VI,bind:zI,bindAll:T8,chain:S8,chunk:a9,clone:l8,collect:Ll,compact:Q8,compose:I8,constant:PI,contains:Ra,countBy:G8,create:s8,debounce:O8,default:Xr,defaults:MI,defer:x8,delay:qI,detect:Wm,difference:eN,drop:yf,each:ds,escape:v8,every:Yb,extend:DI,extendOwn:xh,filter:Xu,find:Wm,findIndex:SE,findKey:HI,findLastIndex:WI,findWhere:M8,first:ah,flatten:Z8,foldl:oh,foldr:Jb,forEach:ds,functions:Hm,get:BI,groupBy:H8,has:c8,head:ah,identity:wE,include:Ra,includes:Ra,indexBy:W8,indexOf:KI,initial:ZI,inject:oh,intersection:r9,invert:CI,invoke:B8,isArguments:yE,isArray:dc,isArrayBuffer:TI,isBoolean:EI,isDataView:Vm,isDate:FV,isElement:LV,isEmpty:JV,isEqual:XV,isError:UV,isFinite:HV,isFunction:qi,isMap:t8,isMatch:RI,isNaN:xI,isNull:MV,isNumber:SI,isObject:fc,isRegExp:BV,isSet:n8,isString:vE,isSymbol:$I,isTypedArray:OI,isUndefined:_I,isWeakMap:r8,isWeakSet:i8,iteratee:_E,keys:oi,last:X8,lastIndexOf:D8,map:Ll,mapObject:d8,matcher:Of,matches:Of,max:JI,memoize:A8,methods:Hm,min:z8,mixin:rN,negate:EE,noop:UI,now:Ph,object:i9,omit:Y8,once:k8,pairs:o8,partial:zf,partition:K8,pick:QI,pluck:$E,property:bE,propertyOf:h8,random:Kb,range:o9,reduce:oh,reduceRight:Jb,reject:F8,rest:yf,restArguments:oo,result:_8,sample:XI,select:Xu,shuffle:q8,size:J8,some:Xb,sortBy:V8,sortedIndex:GI,tail:yf,take:ah,tap:u8,template:b8,templateSettings:w8,throttle:P8,times:p8,toArray:YI,toPath:LI,transpose:Km,unescape:y8,union:t9,uniq:Gm,unique:Gm,uniqueId:E8,unzip:Km,values:Uf,where:U8,without:e9,wrap:R8,zip:n9},Symbol.toStringTag,{value:"Module"}));var hP=rN(loe);hP._=hP;const uoe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:wI,after:N8,all:Yb,allKeys:qh,any:Xb,assign:xh,before:VI,bind:zI,bindAll:T8,chain:S8,chunk:a9,clone:l8,collect:Ll,compact:Q8,compose:I8,constant:PI,contains:Ra,countBy:G8,create:s8,debounce:O8,default:hP,defaults:MI,defer:x8,delay:qI,detect:Wm,difference:eN,drop:yf,each:ds,escape:v8,every:Yb,extend:DI,extendOwn:xh,filter:Xu,find:Wm,findIndex:SE,findKey:HI,findLastIndex:WI,findWhere:M8,first:ah,flatten:Z8,foldl:oh,foldr:Jb,forEach:ds,functions:Hm,get:BI,groupBy:H8,has:c8,head:ah,identity:wE,include:Ra,includes:Ra,indexBy:W8,indexOf:KI,initial:ZI,inject:oh,intersection:r9,invert:CI,invoke:B8,isArguments:yE,isArray:dc,isArrayBuffer:TI,isBoolean:EI,isDataView:Vm,isDate:FV,isElement:LV,isEmpty:JV,isEqual:XV,isError:UV,isFinite:HV,isFunction:qi,isMap:t8,isMatch:RI,isNaN:xI,isNull:MV,isNumber:SI,isObject:fc,isRegExp:BV,isSet:n8,isString:vE,isSymbol:$I,isTypedArray:OI,isUndefined:_I,isWeakMap:r8,isWeakSet:i8,iteratee:_E,keys:oi,last:X8,lastIndexOf:D8,map:Ll,mapObject:d8,matcher:Of,matches:Of,max:JI,memoize:A8,methods:Hm,min:z8,mixin:rN,negate:EE,noop:UI,now:Ph,object:i9,omit:Y8,once:k8,pairs:o8,partial:zf,partition:K8,pick:QI,pluck:$E,property:bE,propertyOf:h8,random:Kb,range:o9,reduce:oh,reduceRight:Jb,reject:F8,rest:yf,restArguments:oo,result:_8,sample:XI,select:Xu,shuffle:q8,size:J8,some:Xb,sortBy:V8,sortedIndex:GI,tail:yf,take:ah,tap:u8,template:b8,templateSettings:w8,throttle:P8,times:p8,toArray:YI,toPath:LI,transpose:Km,unescape:y8,union:t9,uniq:Gm,unique:Gm,uniqueId:E8,unzip:Km,values:Uf,where:U8,without:e9,wrap:R8,zip:n9},Symbol.toStringTag,{value:"Module"})),coe=tO(uoe);var a1={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var eM;function s9(){return eM||(eM=1,function(e){(function(t,r){e.exports=t.document?r(t,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:xa,function(t,r){var n=[],i=Object.getPrototypeOf,o=n.slice,a=n.flat?function(k){return n.flat.call(k)}:function(k){return n.concat.apply([],k)},s=n.push,l=n.indexOf,u={},f=u.toString,c=u.hasOwnProperty,p=c.toString,m=p.call(Object),g={},_=function(U){return typeof U=="function"&&typeof U.nodeType!="number"&&typeof U.item!="function"},v=function(U){return U!=null&&U===U.window},h=t.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function y(k,U,te){te=te||h;var se,pe,ge=te.createElement("script");if(ge.text=k,U)for(se in E)pe=U[se]||U.getAttribute&&U.getAttribute(se),pe&&ge.setAttribute(se,pe);te.head.appendChild(ge).parentNode.removeChild(ge)}function S(k){return k==null?k+"":typeof k=="object"||typeof k=="function"?u[f.call(k)]||"object":typeof k}var $="3.7.1",T=/HTML$/i,d=function(k,U){return new d.fn.init(k,U)};d.fn=d.prototype={jquery:$,constructor:d,length:0,toArray:function(){return o.call(this)},get:function(k){return k==null?o.call(this):k<0?this[k+this.length]:this[k]},pushStack:function(k){var U=d.merge(this.constructor(),k);return U.prevObject=this,U},each:function(k){return d.each(this,k)},map:function(k){return this.pushStack(d.map(this,function(U,te){return k.call(U,te,U)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(k,U){return(U+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(k,U){return U%2}))},eq:function(k){var U=this.length,te=+k+(k<0?U:0);return this.pushStack(te>=0&&te<U?[this[te]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},d.extend=d.fn.extend=function(){var k,U,te,se,pe,ge,_e=arguments[0]||{},Fe=1,Me=arguments.length,Ke=!1;for(typeof _e=="boolean"&&(Ke=_e,_e=arguments[Fe]||{},Fe++),typeof _e!="object"&&!_(_e)&&(_e={}),Fe===Me&&(_e=this,Fe--);Fe<Me;Fe++)if((k=arguments[Fe])!=null)for(U in k)se=k[U],!(U==="__proto__"||_e===se)&&(Ke&&se&&(d.isPlainObject(se)||(pe=Array.isArray(se)))?(te=_e[U],pe&&!Array.isArray(te)?ge=[]:!pe&&!d.isPlainObject(te)?ge={}:ge=te,pe=!1,_e[U]=d.extend(Ke,ge,se)):se!==void 0&&(_e[U]=se));return _e},d.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(k){throw new Error(k)},noop:function(){},isPlainObject:function(k){var U,te;return!k||f.call(k)!=="[object Object]"?!1:(U=i(k),U?(te=c.call(U,"constructor")&&U.constructor,typeof te=="function"&&p.call(te)===m):!0)},isEmptyObject:function(k){var U;for(U in k)return!1;return!0},globalEval:function(k,U,te){y(k,{nonce:U&&U.nonce},te)},each:function(k,U){var te,se=0;if(A(k))for(te=k.length;se<te&&U.call(k[se],se,k[se])!==!1;se++);else for(se in k)if(U.call(k[se],se,k[se])===!1)break;return k},text:function(k){var U,te="",se=0,pe=k.nodeType;if(!pe)for(;U=k[se++];)te+=d.text(U);return pe===1||pe===11?k.textContent:pe===9?k.documentElement.textContent:pe===3||pe===4?k.nodeValue:te},makeArray:function(k,U){var te=U||[];return k!=null&&(A(Object(k))?d.merge(te,typeof k=="string"?[k]:k):s.call(te,k)),te},inArray:function(k,U,te){return U==null?-1:l.call(U,k,te)},isXMLDoc:function(k){var U=k&&k.namespaceURI,te=k&&(k.ownerDocument||k).documentElement;return!T.test(U||te&&te.nodeName||"HTML")},merge:function(k,U){for(var te=+U.length,se=0,pe=k.length;se<te;se++)k[pe++]=U[se];return k.length=pe,k},grep:function(k,U,te){for(var se,pe=[],ge=0,_e=k.length,Fe=!te;ge<_e;ge++)se=!U(k[ge],ge),se!==Fe&&pe.push(k[ge]);return pe},map:function(k,U,te){var se,pe,ge=0,_e=[];if(A(k))for(se=k.length;ge<se;ge++)pe=U(k[ge],ge,te),pe!=null&&_e.push(pe);else for(ge in k)pe=U(k[ge],ge,te),pe!=null&&_e.push(pe);return a(_e)},guid:1,support:g}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=n[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(k,U){u["[object "+U+"]"]=U.toLowerCase()});function A(k){var U=!!k&&"length"in k&&k.length,te=S(k);return _(k)||v(k)?!1:te==="array"||U===0||typeof U=="number"&&U>0&&U-1 in k}function x(k,U){return k.nodeName&&k.nodeName.toLowerCase()===U.toLowerCase()}var P=n.pop,j=n.sort,F=n.splice,V="[\\x20\\t\\r\\n\\f]",X=new RegExp("^"+V+"+|((?:^|[^\\\\])(?:\\\\.)*)"+V+"+$","g");d.contains=function(k,U){var te=U&&U.parentNode;return k===te||!!(te&&te.nodeType===1&&(k.contains?k.contains(te):k.compareDocumentPosition&&k.compareDocumentPosition(te)&16))};var H=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Z(k,U){return U?k==="\0"?"":k.slice(0,-1)+"\\"+k.charCodeAt(k.length-1).toString(16)+" ":"\\"+k}d.escapeSelector=function(k){return(k+"").replace(H,Z)};var fe=h,ee=s;(function(){var k,U,te,se,pe,ge=ee,_e,Fe,Me,Ke,rt,lt=d.expando,Qe=0,bt=0,Ht=wc(),gr=wc(),Xt=wc(),Wn=wc(),En=function(ke,He){return ke===He&&(pe=!0),0},aa="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",sa="(?:\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",vr="\\["+V+"*("+sa+")(?:"+V+"*([*^$|!~]?=)"+V+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+sa+"))|)"+V+"*\\]",sl=":("+sa+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+vr+")*)|.*)\\)|)",Ar=new RegExp(V+"+","g"),Sn=new RegExp("^"+V+"*,"+V+"*"),Zl=new RegExp("^"+V+"*([>+~]|"+V+")"+V+"*"),Gn=new RegExp(V+"|>"),Oi=new RegExp(sl),eu=new RegExp("^"+sa+"$"),co={ID:new RegExp("^#("+sa+")"),CLASS:new RegExp("^\\.("+sa+")"),TAG:new RegExp("^("+sa+"|[*])"),ATTR:new RegExp("^"+vr),PSEUDO:new RegExp("^"+sl),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+V+"*(even|odd|(([+-]|)(\\d*)n|)"+V+"*(?:([+-]|)"+V+"*(\\d+)|))"+V+"*\\)|)","i"),bool:new RegExp("^(?:"+aa+")$","i"),needsContext:new RegExp("^"+V+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+V+"*((?:-\\d)?\\d*)"+V+"*\\)|)(?=[^-]|$)","i")},mi=/^(?:input|select|textarea|button)$/i,gi=/^h\d$/i,$n=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ll=/[+~]/,la=new RegExp("\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\([^\\r\\n\\f])","g"),vi=function(ke,He){var Ze="0x"+ke.slice(1)-65536;return He||(Ze<0?String.fromCharCode(Ze+65536):String.fromCharCode(Ze>>10|55296,Ze&1023|56320))},Xg=function(){_s()},Qg=ru(function(ke){return ke.disabled===!0&&x(ke,"fieldset")},{dir:"parentNode",next:"legend"});function od(){try{return _e.activeElement}catch{}}try{ge.apply(n=o.call(fe.childNodes),fe.childNodes),n[fe.childNodes.length].nodeType}catch{ge={apply:function(He,Ze){ee.apply(He,o.call(Ze))},call:function(He){ee.apply(He,o.call(arguments,1))}}}function Mr(ke,He,Ze,z){var Q,me,$e,Ve,qe,Je,Ge,Xe=He&&He.ownerDocument,pt=He?He.nodeType:9;if(Ze=Ze||[],typeof ke!="string"||!ke||pt!==1&&pt!==9&&pt!==11)return Ze;if(!z&&(_s(He),He=He||_e,Me)){if(pt!==11&&(qe=$n.exec(ke)))if(Q=qe[1]){if(pt===9)if($e=He.getElementById(Q)){if($e.id===Q)return ge.call(Ze,$e),Ze}else return Ze;else if(Xe&&($e=Xe.getElementById(Q))&&Mr.contains(He,$e)&&$e.id===Q)return ge.call(Ze,$e),Ze}else{if(qe[2])return ge.apply(Ze,He.getElementsByTagName(ke)),Ze;if((Q=qe[3])&&He.getElementsByClassName)return ge.apply(Ze,He.getElementsByClassName(Q)),Ze}if(!Wn[ke+" "]&&(!Ke||!Ke.test(ke))){if(Ge=ke,Xe=He,pt===1&&(Gn.test(ke)||Zl.test(ke))){for(Xe=ll.test(ke)&&tp(He.parentNode)||He,(Xe!=He||!g.scope)&&((Ve=He.getAttribute("id"))?Ve=d.escapeSelector(Ve):He.setAttribute("id",Ve=lt)),Je=tu(ke),me=Je.length;me--;)Je[me]=(Ve?"#"+Ve:":scope")+" "+_c(Je[me]);Ge=Je.join(",")}try{return ge.apply(Ze,Xe.querySelectorAll(Ge)),Ze}catch{Wn(ke,!0)}finally{Ve===lt&&He.removeAttribute("id")}}}return Sc(ke.replace(X,"$1"),He,Ze,z)}function wc(){var ke=[];function He(Ze,z){return ke.push(Ze+" ")>U.cacheLength&&delete He[ke.shift()],He[Ze+" "]=z}return He}function fo(ke){return ke[lt]=!0,ke}function Ua(ke){var He=_e.createElement("fieldset");try{return!!ke(He)}catch{return!1}finally{He.parentNode&&He.parentNode.removeChild(He),He=null}}function Zg(ke){return function(He){return x(He,"input")&&He.type===ke}}function ev(ke){return function(He){return(x(He,"input")||x(He,"button"))&&He.type===ke}}function tv(ke){return function(He){return"form"in He?He.parentNode&&He.disabled===!1?"label"in He?"label"in He.parentNode?He.parentNode.disabled===ke:He.disabled===ke:He.isDisabled===ke||He.isDisabled!==!ke&&Qg(He)===ke:He.disabled===ke:"label"in He?He.disabled===ke:!1}}function ul(ke){return fo(function(He){return He=+He,fo(function(Ze,z){for(var Q,me=ke([],Ze.length,He),$e=me.length;$e--;)Ze[Q=me[$e]]&&(Ze[Q]=!(z[Q]=Ze[Q]))})})}function tp(ke){return ke&&typeof ke.getElementsByTagName<"u"&&ke}function _s(ke){var He,Ze=ke?ke.ownerDocument||ke:fe;return Ze==_e||Ze.nodeType!==9||!Ze.documentElement||(_e=Ze,Fe=_e.documentElement,Me=!d.isXMLDoc(_e),rt=Fe.matches||Fe.webkitMatchesSelector||Fe.msMatchesSelector,Fe.msMatchesSelector&&fe!=_e&&(He=_e.defaultView)&&He.top!==He&&He.addEventListener("unload",Xg),g.getById=Ua(function(z){return Fe.appendChild(z).id=d.expando,!_e.getElementsByName||!_e.getElementsByName(d.expando).length}),g.disconnectedMatch=Ua(function(z){return rt.call(z,"*")}),g.scope=Ua(function(){return _e.querySelectorAll(":scope")}),g.cssHas=Ua(function(){try{return _e.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),g.getById?(U.filter.ID=function(z){var Q=z.replace(la,vi);return function(me){return me.getAttribute("id")===Q}},U.find.ID=function(z,Q){if(typeof Q.getElementById<"u"&&Me){var me=Q.getElementById(z);return me?[me]:[]}}):(U.filter.ID=function(z){var Q=z.replace(la,vi);return function(me){var $e=typeof me.getAttributeNode<"u"&&me.getAttributeNode("id");return $e&&$e.value===Q}},U.find.ID=function(z,Q){if(typeof Q.getElementById<"u"&&Me){var me,$e,Ve,qe=Q.getElementById(z);if(qe){if(me=qe.getAttributeNode("id"),me&&me.value===z)return[qe];for(Ve=Q.getElementsByName(z),$e=0;qe=Ve[$e++];)if(me=qe.getAttributeNode("id"),me&&me.value===z)return[qe]}return[]}}),U.find.TAG=function(z,Q){return typeof Q.getElementsByTagName<"u"?Q.getElementsByTagName(z):Q.querySelectorAll(z)},U.find.CLASS=function(z,Q){if(typeof Q.getElementsByClassName<"u"&&Me)return Q.getElementsByClassName(z)},Ke=[],Ua(function(z){var Q;Fe.appendChild(z).innerHTML="<a id='"+lt+"' href='' disabled='disabled'></a><select id='"+lt+"-\r\\' disabled='disabled'><option selected=''></option></select>",z.querySelectorAll("[selected]").length||Ke.push("\\["+V+"*(?:value|"+aa+")"),z.querySelectorAll("[id~="+lt+"-]").length||Ke.push("~="),z.querySelectorAll("a#"+lt+"+*").length||Ke.push(".#.+[+~]"),z.querySelectorAll(":checked").length||Ke.push(":checked"),Q=_e.createElement("input"),Q.setAttribute("type","hidden"),z.appendChild(Q).setAttribute("name","D"),Fe.appendChild(z).disabled=!0,z.querySelectorAll(":disabled").length!==2&&Ke.push(":enabled",":disabled"),Q=_e.createElement("input"),Q.setAttribute("name",""),z.appendChild(Q),z.querySelectorAll("[name='']").length||Ke.push("\\["+V+"*name"+V+"*="+V+`*(?:''|"")`)}),g.cssHas||Ke.push(":has"),Ke=Ke.length&&new RegExp(Ke.join("|")),En=function(z,Q){if(z===Q)return pe=!0,0;var me=!z.compareDocumentPosition-!Q.compareDocumentPosition;return me||(me=(z.ownerDocument||z)==(Q.ownerDocument||Q)?z.compareDocumentPosition(Q):1,me&1||!g.sortDetached&&Q.compareDocumentPosition(z)===me?z===_e||z.ownerDocument==fe&&Mr.contains(fe,z)?-1:Q===_e||Q.ownerDocument==fe&&Mr.contains(fe,Q)?1:se?l.call(se,z)-l.call(se,Q):0:me&4?-1:1)}),_e}Mr.matches=function(ke,He){return Mr(ke,null,null,He)},Mr.matchesSelector=function(ke,He){if(_s(ke),Me&&!Wn[He+" "]&&(!Ke||!Ke.test(He)))try{var Ze=rt.call(ke,He);if(Ze||g.disconnectedMatch||ke.document&&ke.document.nodeType!==11)return Ze}catch{Wn(He,!0)}return Mr(He,_e,null,[ke]).length>0},Mr.contains=function(ke,He){return(ke.ownerDocument||ke)!=_e&&_s(ke),d.contains(ke,He)},Mr.attr=function(ke,He){(ke.ownerDocument||ke)!=_e&&_s(ke);var Ze=U.attrHandle[He.toLowerCase()],z=Ze&&c.call(U.attrHandle,He.toLowerCase())?Ze(ke,He,!Me):void 0;return z!==void 0?z:ke.getAttribute(He)},Mr.error=function(ke){throw new Error("Syntax error, unrecognized expression: "+ke)},d.uniqueSort=function(ke){var He,Ze=[],z=0,Q=0;if(pe=!g.sortStable,se=!g.sortStable&&o.call(ke,0),j.call(ke,En),pe){for(;He=ke[Q++];)He===ke[Q]&&(z=Ze.push(Q));for(;z--;)F.call(ke,Ze[z],1)}return se=null,ke},d.fn.uniqueSort=function(){return this.pushStack(d.uniqueSort(o.apply(this)))},U=d.expr={cacheLength:50,createPseudo:fo,match:co,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ke){return ke[1]=ke[1].replace(la,vi),ke[3]=(ke[3]||ke[4]||ke[5]||"").replace(la,vi),ke[2]==="~="&&(ke[3]=" "+ke[3]+" "),ke.slice(0,4)},CHILD:function(ke){return ke[1]=ke[1].toLowerCase(),ke[1].slice(0,3)==="nth"?(ke[3]||Mr.error(ke[0]),ke[4]=+(ke[4]?ke[5]+(ke[6]||1):2*(ke[3]==="even"||ke[3]==="odd")),ke[5]=+(ke[7]+ke[8]||ke[3]==="odd")):ke[3]&&Mr.error(ke[0]),ke},PSEUDO:function(ke){var He,Ze=!ke[6]&&ke[2];return co.CHILD.test(ke[0])?null:(ke[3]?ke[2]=ke[4]||ke[5]||"":Ze&&Oi.test(Ze)&&(He=tu(Ze,!0))&&(He=Ze.indexOf(")",Ze.length-He)-Ze.length)&&(ke[0]=ke[0].slice(0,He),ke[2]=Ze.slice(0,He)),ke.slice(0,3))}},filter:{TAG:function(ke){var He=ke.replace(la,vi).toLowerCase();return ke==="*"?function(){return!0}:function(Ze){return x(Ze,He)}},CLASS:function(ke){var He=Ht[ke+" "];return He||(He=new RegExp("(^|"+V+")"+ke+"("+V+"|$)"))&&Ht(ke,function(Ze){return He.test(typeof Ze.className=="string"&&Ze.className||typeof Ze.getAttribute<"u"&&Ze.getAttribute("class")||"")})},ATTR:function(ke,He,Ze){return function(z){var Q=Mr.attr(z,ke);return Q==null?He==="!=":He?(Q+="",He==="="?Q===Ze:He==="!="?Q!==Ze:He==="^="?Ze&&Q.indexOf(Ze)===0:He==="*="?Ze&&Q.indexOf(Ze)>-1:He==="$="?Ze&&Q.slice(-Ze.length)===Ze:He==="~="?(" "+Q.replace(Ar," ")+" ").indexOf(Ze)>-1:He==="|="?Q===Ze||Q.slice(0,Ze.length+1)===Ze+"-":!1):!0}},CHILD:function(ke,He,Ze,z,Q){var me=ke.slice(0,3)!=="nth",$e=ke.slice(-4)!=="last",Ve=He==="of-type";return z===1&&Q===0?function(qe){return!!qe.parentNode}:function(qe,Je,Ge){var Xe,pt,gt,Lt,_t,Ut=me!==$e?"nextSibling":"previousSibling",Sr=qe.parentNode,Rr=Ve&&qe.nodeName.toLowerCase(),Cn=!Ge&&!Ve,Vr=!1;if(Sr){if(me){for(;Ut;){for(gt=qe;gt=gt[Ut];)if(Ve?x(gt,Rr):gt.nodeType===1)return!1;_t=Ut=ke==="only"&&!_t&&"nextSibling"}return!0}if(_t=[$e?Sr.firstChild:Sr.lastChild],$e&&Cn){for(pt=Sr[lt]||(Sr[lt]={}),Xe=pt[ke]||[],Lt=Xe[0]===Qe&&Xe[1],Vr=Lt&&Xe[2],gt=Lt&&Sr.childNodes[Lt];gt=++Lt&&gt&&gt[Ut]||(Vr=Lt=0)||_t.pop();)if(gt.nodeType===1&&++Vr&&gt===qe){pt[ke]=[Qe,Lt,Vr];break}}else if(Cn&&(pt=qe[lt]||(qe[lt]={}),Xe=pt[ke]||[],Lt=Xe[0]===Qe&&Xe[1],Vr=Lt),Vr===!1)for(;(gt=++Lt&&gt&&gt[Ut]||(Vr=Lt=0)||_t.pop())&&!((Ve?x(gt,Rr):gt.nodeType===1)&&++Vr&&(Cn&&(pt=gt[lt]||(gt[lt]={}),pt[ke]=[Qe,Vr]),gt===qe)););return Vr-=Q,Vr===z||Vr%z===0&&Vr/z>=0}}},PSEUDO:function(ke,He){var Ze,z=U.pseudos[ke]||U.setFilters[ke.toLowerCase()]||Mr.error("unsupported pseudo: "+ke);return z[lt]?z(He):z.length>1?(Ze=[ke,ke,"",He],U.setFilters.hasOwnProperty(ke.toLowerCase())?fo(function(Q,me){for(var $e,Ve=z(Q,He),qe=Ve.length;qe--;)$e=l.call(Q,Ve[qe]),Q[$e]=!(me[$e]=Ve[qe])}):function(Q){return z(Q,0,Ze)}):z}},pseudos:{not:fo(function(ke){var He=[],Ze=[],z=sd(ke.replace(X,"$1"));return z[lt]?fo(function(Q,me,$e,Ve){for(var qe,Je=z(Q,null,Ve,[]),Ge=Q.length;Ge--;)(qe=Je[Ge])&&(Q[Ge]=!(me[Ge]=qe))}):function(Q,me,$e){return He[0]=Q,z(He,null,$e,Ze),He[0]=null,!Ze.pop()}}),has:fo(function(ke){return function(He){return Mr(ke,He).length>0}}),contains:fo(function(ke){return ke=ke.replace(la,vi),function(He){return(He.textContent||d.text(He)).indexOf(ke)>-1}}),lang:fo(function(ke){return eu.test(ke||"")||Mr.error("unsupported lang: "+ke),ke=ke.replace(la,vi).toLowerCase(),function(He){var Ze;do if(Ze=Me?He.lang:He.getAttribute("xml:lang")||He.getAttribute("lang"))return Ze=Ze.toLowerCase(),Ze===ke||Ze.indexOf(ke+"-")===0;while((He=He.parentNode)&&He.nodeType===1);return!1}}),target:function(ke){var He=t.location&&t.location.hash;return He&&He.slice(1)===ke.id},root:function(ke){return ke===Fe},focus:function(ke){return ke===od()&&_e.hasFocus()&&!!(ke.type||ke.href||~ke.tabIndex)},enabled:tv(!1),disabled:tv(!0),checked:function(ke){return x(ke,"input")&&!!ke.checked||x(ke,"option")&&!!ke.selected},selected:function(ke){return ke.parentNode&&ke.parentNode.selectedIndex,ke.selected===!0},empty:function(ke){for(ke=ke.firstChild;ke;ke=ke.nextSibling)if(ke.nodeType<6)return!1;return!0},parent:function(ke){return!U.pseudos.empty(ke)},header:function(ke){return gi.test(ke.nodeName)},input:function(ke){return mi.test(ke.nodeName)},button:function(ke){return x(ke,"input")&&ke.type==="button"||x(ke,"button")},text:function(ke){var He;return x(ke,"input")&&ke.type==="text"&&((He=ke.getAttribute("type"))==null||He.toLowerCase()==="text")},first:ul(function(){return[0]}),last:ul(function(ke,He){return[He-1]}),eq:ul(function(ke,He,Ze){return[Ze<0?Ze+He:Ze]}),even:ul(function(ke,He){for(var Ze=0;Ze<He;Ze+=2)ke.push(Ze);return ke}),odd:ul(function(ke,He){for(var Ze=1;Ze<He;Ze+=2)ke.push(Ze);return ke}),lt:ul(function(ke,He,Ze){var z;for(Ze<0?z=Ze+He:Ze>He?z=He:z=Ze;--z>=0;)ke.push(z);return ke}),gt:ul(function(ke,He,Ze){for(var z=Ze<0?Ze+He:Ze;++z<He;)ke.push(z);return ke})}},U.pseudos.nth=U.pseudos.eq;for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})U.pseudos[k]=Zg(k);for(k in{submit:!0,reset:!0})U.pseudos[k]=ev(k);function bc(){}bc.prototype=U.filters=U.pseudos,U.setFilters=new bc;function tu(ke,He){var Ze,z,Q,me,$e,Ve,qe,Je=gr[ke+" "];if(Je)return He?0:Je.slice(0);for($e=ke,Ve=[],qe=U.preFilter;$e;){(!Ze||(z=Sn.exec($e)))&&(z&&($e=$e.slice(z[0].length)||$e),Ve.push(Q=[])),Ze=!1,(z=Zl.exec($e))&&(Ze=z.shift(),Q.push({value:Ze,type:z[0].replace(X," ")}),$e=$e.slice(Ze.length));for(me in U.filter)(z=co[me].exec($e))&&(!qe[me]||(z=qe[me](z)))&&(Ze=z.shift(),Q.push({value:Ze,type:me,matches:z}),$e=$e.slice(Ze.length));if(!Ze)break}return He?$e.length:$e?Mr.error(ke):gr(ke,Ve).slice(0)}function _c(ke){for(var He=0,Ze=ke.length,z="";He<Ze;He++)z+=ke[He].value;return z}function ru(ke,He,Ze){var z=He.dir,Q=He.next,me=Q||z,$e=Ze&&me==="parentNode",Ve=bt++;return He.first?function(qe,Je,Ge){for(;qe=qe[z];)if(qe.nodeType===1||$e)return ke(qe,Je,Ge);return!1}:function(qe,Je,Ge){var Xe,pt,gt=[Qe,Ve];if(Ge){for(;qe=qe[z];)if((qe.nodeType===1||$e)&&ke(qe,Je,Ge))return!0}else for(;qe=qe[z];)if(qe.nodeType===1||$e)if(pt=qe[lt]||(qe[lt]={}),Q&&x(qe,Q))qe=qe[z]||qe;else{if((Xe=pt[me])&&Xe[0]===Qe&&Xe[1]===Ve)return gt[2]=Xe[2];if(pt[me]=gt,gt[2]=ke(qe,Je,Ge))return!0}return!1}}function Ec(ke){return ke.length>1?function(He,Ze,z){for(var Q=ke.length;Q--;)if(!ke[Q](He,Ze,z))return!1;return!0}:ke[0]}function ad(ke,He,Ze){for(var z=0,Q=He.length;z<Q;z++)Mr(ke,He[z],Ze);return Ze}function Lo(ke,He,Ze,z,Q){for(var me,$e=[],Ve=0,qe=ke.length,Je=He!=null;Ve<qe;Ve++)(me=ke[Ve])&&(!Ze||Ze(me,z,Q))&&($e.push(me),Je&&He.push(Ve));return $e}function nu(ke,He,Ze,z,Q,me){return z&&!z[lt]&&(z=nu(z)),Q&&!Q[lt]&&(Q=nu(Q,me)),fo(function($e,Ve,qe,Je){var Ge,Xe,pt,gt,Lt=[],_t=[],Ut=Ve.length,Sr=$e||ad(He||"*",qe.nodeType?[qe]:qe,[]),Rr=ke&&($e||!He)?Lo(Sr,Lt,ke,qe,Je):Sr;if(Ze?(gt=Q||($e?ke:Ut||z)?[]:Ve,Ze(Rr,gt,qe,Je)):gt=Rr,z)for(Ge=Lo(gt,_t),z(Ge,[],qe,Je),Xe=Ge.length;Xe--;)(pt=Ge[Xe])&&(gt[_t[Xe]]=!(Rr[_t[Xe]]=pt));if($e){if(Q||ke){if(Q){for(Ge=[],Xe=gt.length;Xe--;)(pt=gt[Xe])&&Ge.push(Rr[Xe]=pt);Q(null,gt=[],Ge,Je)}for(Xe=gt.length;Xe--;)(pt=gt[Xe])&&(Ge=Q?l.call($e,pt):Lt[Xe])>-1&&($e[Ge]=!(Ve[Ge]=pt))}}else gt=Lo(gt===Ve?gt.splice(Ut,gt.length):gt),Q?Q(null,Ve,gt,Je):ge.apply(Ve,gt)})}function iu(ke){for(var He,Ze,z,Q=ke.length,me=U.relative[ke[0].type],$e=me||U.relative[" "],Ve=me?1:0,qe=ru(function(Xe){return Xe===He},$e,!0),Je=ru(function(Xe){return l.call(He,Xe)>-1},$e,!0),Ge=[function(Xe,pt,gt){var Lt=!me&&(gt||pt!=te)||((He=pt).nodeType?qe(Xe,pt,gt):Je(Xe,pt,gt));return He=null,Lt}];Ve<Q;Ve++)if(Ze=U.relative[ke[Ve].type])Ge=[ru(Ec(Ge),Ze)];else{if(Ze=U.filter[ke[Ve].type].apply(null,ke[Ve].matches),Ze[lt]){for(z=++Ve;z<Q&&!U.relative[ke[z].type];z++);return nu(Ve>1&&Ec(Ge),Ve>1&&_c(ke.slice(0,Ve-1).concat({value:ke[Ve-2].type===" "?"*":""})).replace(X,"$1"),Ze,Ve<z&&iu(ke.slice(Ve,z)),z<Q&&iu(ke=ke.slice(z)),z<Q&&_c(ke))}Ge.push(Ze)}return Ec(Ge)}function rv(ke,He){var Ze=He.length>0,z=ke.length>0,Q=function(me,$e,Ve,qe,Je){var Ge,Xe,pt,gt=0,Lt="0",_t=me&&[],Ut=[],Sr=te,Rr=me||z&&U.find.TAG("*",Je),Cn=Qe+=Sr==null?1:Math.random()||.1,Vr=Rr.length;for(Je&&(te=$e==_e||$e||Je);Lt!==Vr&&(Ge=Rr[Lt])!=null;Lt++){if(z&&Ge){for(Xe=0,!$e&&Ge.ownerDocument!=_e&&(_s(Ge),Ve=!Me);pt=ke[Xe++];)if(pt(Ge,$e||_e,Ve)){ge.call(qe,Ge);break}Je&&(Qe=Cn)}Ze&&((Ge=!pt&&Ge)&&gt--,me&&_t.push(Ge))}if(gt+=Lt,Ze&&Lt!==gt){for(Xe=0;pt=He[Xe++];)pt(_t,Ut,$e,Ve);if(me){if(gt>0)for(;Lt--;)_t[Lt]||Ut[Lt]||(Ut[Lt]=P.call(qe));Ut=Lo(Ut)}ge.apply(qe,Ut),Je&&!me&&Ut.length>0&&gt+He.length>1&&d.uniqueSort(qe)}return Je&&(Qe=Cn,te=Sr),_t};return Ze?fo(Q):Q}function sd(ke,He){var Ze,z=[],Q=[],me=Xt[ke+" "];if(!me){for(He||(He=tu(ke)),Ze=He.length;Ze--;)me=iu(He[Ze]),me[lt]?z.push(me):Q.push(me);me=Xt(ke,rv(Q,z)),me.selector=ke}return me}function Sc(ke,He,Ze,z){var Q,me,$e,Ve,qe,Je=typeof ke=="function"&&ke,Ge=!z&&tu(ke=Je.selector||ke);if(Ze=Ze||[],Ge.length===1){if(me=Ge[0]=Ge[0].slice(0),me.length>2&&($e=me[0]).type==="ID"&&He.nodeType===9&&Me&&U.relative[me[1].type]){if(He=(U.find.ID($e.matches[0].replace(la,vi),He)||[])[0],He)Je&&(He=He.parentNode);else return Ze;ke=ke.slice(me.shift().value.length)}for(Q=co.needsContext.test(ke)?0:me.length;Q--&&($e=me[Q],!U.relative[Ve=$e.type]);)if((qe=U.find[Ve])&&(z=qe($e.matches[0].replace(la,vi),ll.test(me[0].type)&&tp(He.parentNode)||He))){if(me.splice(Q,1),ke=z.length&&_c(me),!ke)return ge.apply(Ze,z),Ze;break}}return(Je||sd(ke,Ge))(z,He,!Me,Ze,!He||ll.test(ke)&&tp(He.parentNode)||He),Ze}g.sortStable=lt.split("").sort(En).join("")===lt,_s(),g.sortDetached=Ua(function(ke){return ke.compareDocumentPosition(_e.createElement("fieldset"))&1}),d.find=Mr,d.expr[":"]=d.expr.pseudos,d.unique=d.uniqueSort,Mr.compile=sd,Mr.select=Sc,Mr.setDocument=_s,Mr.tokenize=tu,Mr.escape=d.escapeSelector,Mr.getText=d.text,Mr.isXML=d.isXMLDoc,Mr.selectors=d.expr,Mr.support=d.support,Mr.uniqueSort=d.uniqueSort})();var ae=function(k,U,te){for(var se=[],pe=te!==void 0;(k=k[U])&&k.nodeType!==9;)if(k.nodeType===1){if(pe&&d(k).is(te))break;se.push(k)}return se},M=function(k,U){for(var te=[];k;k=k.nextSibling)k.nodeType===1&&k!==U&&te.push(k);return te},B=d.expr.match.needsContext,K=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(k,U,te){return _(U)?d.grep(k,function(se,pe){return!!U.call(se,pe,se)!==te}):U.nodeType?d.grep(k,function(se){return se===U!==te}):typeof U!="string"?d.grep(k,function(se){return l.call(U,se)>-1!==te}):d.filter(U,k,te)}d.filter=function(k,U,te){var se=U[0];return te&&(k=":not("+k+")"),U.length===1&&se.nodeType===1?d.find.matchesSelector(se,k)?[se]:[]:d.find.matches(k,d.grep(U,function(pe){return pe.nodeType===1}))},d.fn.extend({find:function(k){var U,te,se=this.length,pe=this;if(typeof k!="string")return this.pushStack(d(k).filter(function(){for(U=0;U<se;U++)if(d.contains(pe[U],this))return!0}));for(te=this.pushStack([]),U=0;U<se;U++)d.find(k,pe[U],te);return se>1?d.uniqueSort(te):te},filter:function(k){return this.pushStack(O(this,k||[],!1))},not:function(k){return this.pushStack(O(this,k||[],!0))},is:function(k){return!!O(this,typeof k=="string"&&B.test(k)?d(k):k||[],!1).length}});var N,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ne=d.fn.init=function(k,U,te){var se,pe;if(!k)return this;if(te=te||N,typeof k=="string")if(k[0]==="<"&&k[k.length-1]===">"&&k.length>=3?se=[null,k,null]:se=q.exec(k),se&&(se[1]||!U))if(se[1]){if(U=U instanceof d?U[0]:U,d.merge(this,d.parseHTML(se[1],U&&U.nodeType?U.ownerDocument||U:h,!0)),K.test(se[1])&&d.isPlainObject(U))for(se in U)_(this[se])?this[se](U[se]):this.attr(se,U[se]);return this}else return pe=h.getElementById(se[2]),pe&&(this[0]=pe,this.length=1),this;else return!U||U.jquery?(U||te).find(k):this.constructor(U).find(k);else{if(k.nodeType)return this[0]=k,this.length=1,this;if(_(k))return te.ready!==void 0?te.ready(k):k(d)}return d.makeArray(k,this)};ne.prototype=d.fn,N=d(h);var J=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(k){var U=d(k,this),te=U.length;return this.filter(function(){for(var se=0;se<te;se++)if(d.contains(this,U[se]))return!0})},closest:function(k,U){var te,se=0,pe=this.length,ge=[],_e=typeof k!="string"&&d(k);if(!B.test(k)){for(;se<pe;se++)for(te=this[se];te&&te!==U;te=te.parentNode)if(te.nodeType<11&&(_e?_e.index(te)>-1:te.nodeType===1&&d.find.matchesSelector(te,k))){ge.push(te);break}}return this.pushStack(ge.length>1?d.uniqueSort(ge):ge)},index:function(k){return k?typeof k=="string"?l.call(d(k),this[0]):l.call(this,k.jquery?k[0]:k):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(k,U){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(k,U))))},addBack:function(k){return this.add(k==null?this.prevObject:this.prevObject.filter(k))}});function oe(k,U){for(;(k=k[U])&&k.nodeType!==1;);return k}d.each({parent:function(k){var U=k.parentNode;return U&&U.nodeType!==11?U:null},parents:function(k){return ae(k,"parentNode")},parentsUntil:function(k,U,te){return ae(k,"parentNode",te)},next:function(k){return oe(k,"nextSibling")},prev:function(k){return oe(k,"previousSibling")},nextAll:function(k){return ae(k,"nextSibling")},prevAll:function(k){return ae(k,"previousSibling")},nextUntil:function(k,U,te){return ae(k,"nextSibling",te)},prevUntil:function(k,U,te){return ae(k,"previousSibling",te)},siblings:function(k){return M((k.parentNode||{}).firstChild,k)},children:function(k){return M(k.firstChild)},contents:function(k){return k.contentDocument!=null&&i(k.contentDocument)?k.contentDocument:(x(k,"template")&&(k=k.content||k),d.merge([],k.childNodes))}},function(k,U){d.fn[k]=function(te,se){var pe=d.map(this,U,te);return k.slice(-5)!=="Until"&&(se=te),se&&typeof se=="string"&&(pe=d.filter(se,pe)),this.length>1&&(Y[k]||d.uniqueSort(pe),J.test(k)&&pe.reverse()),this.pushStack(pe)}});var be=/[^\x20\t\r\n\f]+/g;function Oe(k){var U={};return d.each(k.match(be)||[],function(te,se){U[se]=!0}),U}d.Callbacks=function(k){k=typeof k=="string"?Oe(k):d.extend({},k);var U,te,se,pe,ge=[],_e=[],Fe=-1,Me=function(){for(pe=pe||k.once,se=U=!0;_e.length;Fe=-1)for(te=_e.shift();++Fe<ge.length;)ge[Fe].apply(te[0],te[1])===!1&&k.stopOnFalse&&(Fe=ge.length,te=!1);k.memory||(te=!1),U=!1,pe&&(te?ge=[]:ge="")},Ke={add:function(){return ge&&(te&&!U&&(Fe=ge.length-1,_e.push(te)),function rt(lt){d.each(lt,function(Qe,bt){_(bt)?(!k.unique||!Ke.has(bt))&&ge.push(bt):bt&&bt.length&&S(bt)!=="string"&&rt(bt)})}(arguments),te&&!U&&Me()),this},remove:function(){return d.each(arguments,function(rt,lt){for(var Qe;(Qe=d.inArray(lt,ge,Qe))>-1;)ge.splice(Qe,1),Qe<=Fe&&Fe--}),this},has:function(rt){return rt?d.inArray(rt,ge)>-1:ge.length>0},empty:function(){return ge&&(ge=[]),this},disable:function(){return pe=_e=[],ge=te="",this},disabled:function(){return!ge},lock:function(){return pe=_e=[],!te&&!U&&(ge=te=""),this},locked:function(){return!!pe},fireWith:function(rt,lt){return pe||(lt=lt||[],lt=[rt,lt.slice?lt.slice():lt],_e.push(lt),U||Me()),this},fire:function(){return Ke.fireWith(this,arguments),this},fired:function(){return!!se}};return Ke};function R(k){return k}function C(k){throw k}function D(k,U,te,se){var pe;try{k&&_(pe=k.promise)?pe.call(k).done(U).fail(te):k&&_(pe=k.then)?pe.call(k,U,te):U.apply(void 0,[k].slice(se))}catch(ge){te.apply(void 0,[ge])}}d.extend({Deferred:function(k){var U=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],te="pending",se={state:function(){return te},always:function(){return pe.done(arguments).fail(arguments),this},catch:function(ge){return se.then(null,ge)},pipe:function(){var ge=arguments;return d.Deferred(function(_e){d.each(U,function(Fe,Me){var Ke=_(ge[Me[4]])&&ge[Me[4]];pe[Me[1]](function(){var rt=Ke&&Ke.apply(this,arguments);rt&&_(rt.promise)?rt.promise().progress(_e.notify).done(_e.resolve).fail(_e.reject):_e[Me[0]+"With"](this,Ke?[rt]:arguments)})}),ge=null}).promise()},then:function(ge,_e,Fe){var Me=0;function Ke(rt,lt,Qe,bt){return function(){var Ht=this,gr=arguments,Xt=function(){var En,aa;if(!(rt<Me)){if(En=Qe.apply(Ht,gr),En===lt.promise())throw new TypeError("Thenable self-resolution");aa=En&&(typeof En=="object"||typeof En=="function")&&En.then,_(aa)?bt?aa.call(En,Ke(Me,lt,R,bt),Ke(Me,lt,C,bt)):(Me++,aa.call(En,Ke(Me,lt,R,bt),Ke(Me,lt,C,bt),Ke(Me,lt,R,lt.notifyWith))):(Qe!==R&&(Ht=void 0,gr=[En]),(bt||lt.resolveWith)(Ht,gr))}},Wn=bt?Xt:function(){try{Xt()}catch(En){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(En,Wn.error),rt+1>=Me&&(Qe!==C&&(Ht=void 0,gr=[En]),lt.rejectWith(Ht,gr))}};rt?Wn():(d.Deferred.getErrorHook?Wn.error=d.Deferred.getErrorHook():d.Deferred.getStackHook&&(Wn.error=d.Deferred.getStackHook()),t.setTimeout(Wn))}}return d.Deferred(function(rt){U[0][3].add(Ke(0,rt,_(Fe)?Fe:R,rt.notifyWith)),U[1][3].add(Ke(0,rt,_(ge)?ge:R)),U[2][3].add(Ke(0,rt,_(_e)?_e:C))}).promise()},promise:function(ge){return ge!=null?d.extend(ge,se):se}},pe={};return d.each(U,function(ge,_e){var Fe=_e[2],Me=_e[5];se[_e[1]]=Fe.add,Me&&Fe.add(function(){te=Me},U[3-ge][2].disable,U[3-ge][3].disable,U[0][2].lock,U[0][3].lock),Fe.add(_e[3].fire),pe[_e[0]]=function(){return pe[_e[0]+"With"](this===pe?void 0:this,arguments),this},pe[_e[0]+"With"]=Fe.fireWith}),se.promise(pe),k&&k.call(pe,pe),pe},when:function(k){var U=arguments.length,te=U,se=Array(te),pe=o.call(arguments),ge=d.Deferred(),_e=function(Fe){return function(Me){se[Fe]=this,pe[Fe]=arguments.length>1?o.call(arguments):Me,--U||ge.resolveWith(se,pe)}};if(U<=1&&(D(k,ge.done(_e(te)).resolve,ge.reject,!U),ge.state()==="pending"||_(pe[te]&&pe[te].then)))return ge.then();for(;te--;)D(pe[te],_e(te),ge.reject);return ge.promise()}});var G=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(k,U){t.console&&t.console.warn&&k&&G.test(k.name)&&t.console.warn("jQuery.Deferred exception: "+k.message,k.stack,U)},d.readyException=function(k){t.setTimeout(function(){throw k})};var ie=d.Deferred();d.fn.ready=function(k){return ie.then(k).catch(function(U){d.readyException(U)}),this},d.extend({isReady:!1,readyWait:1,ready:function(k){(k===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(k!==!0&&--d.readyWait>0)&&ie.resolveWith(h,[d]))}}),d.ready.then=ie.then;function ue(){h.removeEventListener("DOMContentLoaded",ue),t.removeEventListener("load",ue),d.ready()}h.readyState==="complete"||h.readyState!=="loading"&&!h.documentElement.doScroll?t.setTimeout(d.ready):(h.addEventListener("DOMContentLoaded",ue),t.addEventListener("load",ue));var de=function(k,U,te,se,pe,ge,_e){var Fe=0,Me=k.length,Ke=te==null;if(S(te)==="object"){pe=!0;for(Fe in te)de(k,U,Fe,te[Fe],!0,ge,_e)}else if(se!==void 0&&(pe=!0,_(se)||(_e=!0),Ke&&(_e?(U.call(k,se),U=null):(Ke=U,U=function(rt,lt,Qe){return Ke.call(d(rt),Qe)})),U))for(;Fe<Me;Fe++)U(k[Fe],te,_e?se:se.call(k[Fe],Fe,U(k[Fe],te)));return pe?k:Ke?U.call(k):Me?U(k[0],te):ge},ve=/^-ms-/,Ne=/-([a-z])/g;function Be(k,U){return U.toUpperCase()}function je(k){return k.replace(ve,"ms-").replace(Ne,Be)}var nt=function(k){return k.nodeType===1||k.nodeType===9||!+k.nodeType};function We(){this.expando=d.expando+We.uid++}We.uid=1,We.prototype={cache:function(k){var U=k[this.expando];return U||(U={},nt(k)&&(k.nodeType?k[this.expando]=U:Object.defineProperty(k,this.expando,{value:U,configurable:!0}))),U},set:function(k,U,te){var se,pe=this.cache(k);if(typeof U=="string")pe[je(U)]=te;else for(se in U)pe[je(se)]=U[se];return pe},get:function(k,U){return U===void 0?this.cache(k):k[this.expando]&&k[this.expando][je(U)]},access:function(k,U,te){return U===void 0||U&&typeof U=="string"&&te===void 0?this.get(k,U):(this.set(k,U,te),te!==void 0?te:U)},remove:function(k,U){var te,se=k[this.expando];if(se!==void 0){if(U!==void 0)for(Array.isArray(U)?U=U.map(je):(U=je(U),U=U in se?[U]:U.match(be)||[]),te=U.length;te--;)delete se[U[te]];(U===void 0||d.isEmptyObject(se))&&(k.nodeType?k[this.expando]=void 0:delete k[this.expando])}},hasData:function(k){var U=k[this.expando];return U!==void 0&&!d.isEmptyObject(U)}};var Ue=new We,W=new We,I=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,L=/[A-Z]/g;function re(k){return k==="true"?!0:k==="false"?!1:k==="null"?null:k===+k+""?+k:I.test(k)?JSON.parse(k):k}function ye(k,U,te){var se;if(te===void 0&&k.nodeType===1)if(se="data-"+U.replace(L,"-$&").toLowerCase(),te=k.getAttribute(se),typeof te=="string"){try{te=re(te)}catch{}W.set(k,U,te)}else te=void 0;return te}d.extend({hasData:function(k){return W.hasData(k)||Ue.hasData(k)},data:function(k,U,te){return W.access(k,U,te)},removeData:function(k,U){W.remove(k,U)},_data:function(k,U,te){return Ue.access(k,U,te)},_removeData:function(k,U){Ue.remove(k,U)}}),d.fn.extend({data:function(k,U){var te,se,pe,ge=this[0],_e=ge&&ge.attributes;if(k===void 0){if(this.length&&(pe=W.get(ge),ge.nodeType===1&&!Ue.get(ge,"hasDataAttrs"))){for(te=_e.length;te--;)_e[te]&&(se=_e[te].name,se.indexOf("data-")===0&&(se=je(se.slice(5)),ye(ge,se,pe[se])));Ue.set(ge,"hasDataAttrs",!0)}return pe}return typeof k=="object"?this.each(function(){W.set(this,k)}):de(this,function(Fe){var Me;if(ge&&Fe===void 0)return Me=W.get(ge,k),Me!==void 0||(Me=ye(ge,k),Me!==void 0)?Me:void 0;this.each(function(){W.set(this,k,Fe)})},null,U,arguments.length>1,null,!0)},removeData:function(k){return this.each(function(){W.remove(this,k)})}}),d.extend({queue:function(k,U,te){var se;if(k)return U=(U||"fx")+"queue",se=Ue.get(k,U),te&&(!se||Array.isArray(te)?se=Ue.access(k,U,d.makeArray(te)):se.push(te)),se||[]},dequeue:function(k,U){U=U||"fx";var te=d.queue(k,U),se=te.length,pe=te.shift(),ge=d._queueHooks(k,U),_e=function(){d.dequeue(k,U)};pe==="inprogress"&&(pe=te.shift(),se--),pe&&(U==="fx"&&te.unshift("inprogress"),delete ge.stop,pe.call(k,_e,ge)),!se&&ge&&ge.empty.fire()},_queueHooks:function(k,U){var te=U+"queueHooks";return Ue.get(k,te)||Ue.access(k,te,{empty:d.Callbacks("once memory").add(function(){Ue.remove(k,[U+"queue",te])})})}}),d.fn.extend({queue:function(k,U){var te=2;return typeof k!="string"&&(U=k,k="fx",te--),arguments.length<te?d.queue(this[0],k):U===void 0?this:this.each(function(){var se=d.queue(this,k,U);d._queueHooks(this,k),k==="fx"&&se[0]!=="inprogress"&&d.dequeue(this,k)})},dequeue:function(k){return this.each(function(){d.dequeue(this,k)})},clearQueue:function(k){return this.queue(k||"fx",[])},promise:function(k,U){var te,se=1,pe=d.Deferred(),ge=this,_e=this.length,Fe=function(){--se||pe.resolveWith(ge,[ge])};for(typeof k!="string"&&(U=k,k=void 0),k=k||"fx";_e--;)te=Ue.get(ge[_e],k+"queueHooks"),te&&te.empty&&(se++,te.empty.add(Fe));return Fe(),pe.promise(U)}});var Ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ce=new RegExp("^(?:([+-])=|)("+Ee+")([a-z%]*)$","i"),Re=["Top","Right","Bottom","Left"],Le=h.documentElement,ft=function(k){return d.contains(k.ownerDocument,k)},yt={composed:!0};Le.getRootNode&&(ft=function(k){return d.contains(k.ownerDocument,k)||k.getRootNode(yt)===k.ownerDocument});var st=function(k,U){return k=U||k,k.style.display==="none"||k.style.display===""&&ft(k)&&d.css(k,"display")==="none"};function Ct(k,U,te,se){var pe,ge,_e=20,Fe=se?function(){return se.cur()}:function(){return d.css(k,U,"")},Me=Fe(),Ke=te&&te[3]||(d.cssNumber[U]?"":"px"),rt=k.nodeType&&(d.cssNumber[U]||Ke!=="px"&&+Me)&&Ce.exec(d.css(k,U));if(rt&&rt[3]!==Ke){for(Me=Me/2,Ke=Ke||rt[3],rt=+Me||1;_e--;)d.style(k,U,rt+Ke),(1-ge)*(1-(ge=Fe()/Me||.5))<=0&&(_e=0),rt=rt/ge;rt=rt*2,d.style(k,U,rt+Ke),te=te||[]}return te&&(rt=+rt||+Me||0,pe=te[1]?rt+(te[1]+1)*te[2]:+te[2],se&&(se.unit=Ke,se.start=rt,se.end=pe)),pe}var Er={};function Or(k){var U,te=k.ownerDocument,se=k.nodeName,pe=Er[se];return pe||(U=te.body.appendChild(te.createElement(se)),pe=d.css(U,"display"),U.parentNode.removeChild(U),pe==="none"&&(pe="block"),Er[se]=pe,pe)}function ir(k,U){for(var te,se,pe=[],ge=0,_e=k.length;ge<_e;ge++)se=k[ge],se.style&&(te=se.style.display,U?(te==="none"&&(pe[ge]=Ue.get(se,"display")||null,pe[ge]||(se.style.display="")),se.style.display===""&&st(se)&&(pe[ge]=Or(se))):te!=="none"&&(pe[ge]="none",Ue.set(se,"display",te)));for(ge=0;ge<_e;ge++)pe[ge]!=null&&(k[ge].style.display=pe[ge]);return k}d.fn.extend({show:function(){return ir(this,!0)},hide:function(){return ir(this)},toggle:function(k){return typeof k=="boolean"?k?this.show():this.hide():this.each(function(){st(this)?d(this).show():d(this).hide()})}});var mr=/^(?:checkbox|radio)$/i,cn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Vt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var k=h.createDocumentFragment(),U=k.appendChild(h.createElement("div")),te=h.createElement("input");te.setAttribute("type","radio"),te.setAttribute("checked","checked"),te.setAttribute("name","t"),U.appendChild(te),g.checkClone=U.cloneNode(!0).cloneNode(!0).lastChild.checked,U.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!U.cloneNode(!0).lastChild.defaultValue,U.innerHTML="<option></option>",g.option=!!U.lastChild})();var zt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};zt.tbody=zt.tfoot=zt.colgroup=zt.caption=zt.thead,zt.th=zt.td,g.option||(zt.optgroup=zt.option=[1,"<select multiple='multiple'>","</select>"]);function At(k,U){var te;return typeof k.getElementsByTagName<"u"?te=k.getElementsByTagName(U||"*"):typeof k.querySelectorAll<"u"?te=k.querySelectorAll(U||"*"):te=[],U===void 0||U&&x(k,U)?d.merge([k],te):te}function Se(k,U){for(var te=0,se=k.length;te<se;te++)Ue.set(k[te],"globalEval",!U||Ue.get(U[te],"globalEval"))}var Ie=/<|&#?\w+;/;function dt(k,U,te,se,pe){for(var ge,_e,Fe,Me,Ke,rt,lt=U.createDocumentFragment(),Qe=[],bt=0,Ht=k.length;bt<Ht;bt++)if(ge=k[bt],ge||ge===0)if(S(ge)==="object")d.merge(Qe,ge.nodeType?[ge]:ge);else if(!Ie.test(ge))Qe.push(U.createTextNode(ge));else{for(_e=_e||lt.appendChild(U.createElement("div")),Fe=(cn.exec(ge)||["",""])[1].toLowerCase(),Me=zt[Fe]||zt._default,_e.innerHTML=Me[1]+d.htmlPrefilter(ge)+Me[2],rt=Me[0];rt--;)_e=_e.lastChild;d.merge(Qe,_e.childNodes),_e=lt.firstChild,_e.textContent=""}for(lt.textContent="",bt=0;ge=Qe[bt++];){if(se&&d.inArray(ge,se)>-1){pe&&pe.push(ge);continue}if(Ke=ft(ge),_e=At(lt.appendChild(ge),"script"),Ke&&Se(_e),te)for(rt=0;ge=_e[rt++];)Vt.test(ge.type||"")&&te.push(ge)}return lt}var Ye=/^([^.]*)(?:\.(.+)|)/;function it(){return!0}function Ot(){return!1}function qt(k,U,te,se,pe,ge){var _e,Fe;if(typeof U=="object"){typeof te!="string"&&(se=se||te,te=void 0);for(Fe in U)qt(k,Fe,te,se,U[Fe],ge);return k}if(se==null&&pe==null?(pe=te,se=te=void 0):pe==null&&(typeof te=="string"?(pe=se,se=void 0):(pe=se,se=te,te=void 0)),pe===!1)pe=Ot;else if(!pe)return k;return ge===1&&(_e=pe,pe=function(Me){return d().off(Me),_e.apply(this,arguments)},pe.guid=_e.guid||(_e.guid=d.guid++)),k.each(function(){d.event.add(this,U,pe,se,te)})}d.event={global:{},add:function(k,U,te,se,pe){var ge,_e,Fe,Me,Ke,rt,lt,Qe,bt,Ht,gr,Xt=Ue.get(k);if(nt(k))for(te.handler&&(ge=te,te=ge.handler,pe=ge.selector),pe&&d.find.matchesSelector(Le,pe),te.guid||(te.guid=d.guid++),(Me=Xt.events)||(Me=Xt.events=Object.create(null)),(_e=Xt.handle)||(_e=Xt.handle=function(Wn){return typeof d<"u"&&d.event.triggered!==Wn.type?d.event.dispatch.apply(k,arguments):void 0}),U=(U||"").match(be)||[""],Ke=U.length;Ke--;)Fe=Ye.exec(U[Ke])||[],bt=gr=Fe[1],Ht=(Fe[2]||"").split(".").sort(),bt&&(lt=d.event.special[bt]||{},bt=(pe?lt.delegateType:lt.bindType)||bt,lt=d.event.special[bt]||{},rt=d.extend({type:bt,origType:gr,data:se,handler:te,guid:te.guid,selector:pe,needsContext:pe&&d.expr.match.needsContext.test(pe),namespace:Ht.join(".")},ge),(Qe=Me[bt])||(Qe=Me[bt]=[],Qe.delegateCount=0,(!lt.setup||lt.setup.call(k,se,Ht,_e)===!1)&&k.addEventListener&&k.addEventListener(bt,_e)),lt.add&&(lt.add.call(k,rt),rt.handler.guid||(rt.handler.guid=te.guid)),pe?Qe.splice(Qe.delegateCount++,0,rt):Qe.push(rt),d.event.global[bt]=!0)},remove:function(k,U,te,se,pe){var ge,_e,Fe,Me,Ke,rt,lt,Qe,bt,Ht,gr,Xt=Ue.hasData(k)&&Ue.get(k);if(!(!Xt||!(Me=Xt.events))){for(U=(U||"").match(be)||[""],Ke=U.length;Ke--;){if(Fe=Ye.exec(U[Ke])||[],bt=gr=Fe[1],Ht=(Fe[2]||"").split(".").sort(),!bt){for(bt in Me)d.event.remove(k,bt+U[Ke],te,se,!0);continue}for(lt=d.event.special[bt]||{},bt=(se?lt.delegateType:lt.bindType)||bt,Qe=Me[bt]||[],Fe=Fe[2]&&new RegExp("(^|\\.)"+Ht.join("\\.(?:.*\\.|)")+"(\\.|$)"),_e=ge=Qe.length;ge--;)rt=Qe[ge],(pe||gr===rt.origType)&&(!te||te.guid===rt.guid)&&(!Fe||Fe.test(rt.namespace))&&(!se||se===rt.selector||se==="**"&&rt.selector)&&(Qe.splice(ge,1),rt.selector&&Qe.delegateCount--,lt.remove&&lt.remove.call(k,rt));_e&&!Qe.length&&((!lt.teardown||lt.teardown.call(k,Ht,Xt.handle)===!1)&&d.removeEvent(k,bt,Xt.handle),delete Me[bt])}d.isEmptyObject(Me)&&Ue.remove(k,"handle events")}},dispatch:function(k){var U,te,se,pe,ge,_e,Fe=new Array(arguments.length),Me=d.event.fix(k),Ke=(Ue.get(this,"events")||Object.create(null))[Me.type]||[],rt=d.event.special[Me.type]||{};for(Fe[0]=Me,U=1;U<arguments.length;U++)Fe[U]=arguments[U];if(Me.delegateTarget=this,!(rt.preDispatch&&rt.preDispatch.call(this,Me)===!1)){for(_e=d.event.handlers.call(this,Me,Ke),U=0;(pe=_e[U++])&&!Me.isPropagationStopped();)for(Me.currentTarget=pe.elem,te=0;(ge=pe.handlers[te++])&&!Me.isImmediatePropagationStopped();)(!Me.rnamespace||ge.namespace===!1||Me.rnamespace.test(ge.namespace))&&(Me.handleObj=ge,Me.data=ge.data,se=((d.event.special[ge.origType]||{}).handle||ge.handler).apply(pe.elem,Fe),se!==void 0&&(Me.result=se)===!1&&(Me.preventDefault(),Me.stopPropagation()));return rt.postDispatch&&rt.postDispatch.call(this,Me),Me.result}},handlers:function(k,U){var te,se,pe,ge,_e,Fe=[],Me=U.delegateCount,Ke=k.target;if(Me&&Ke.nodeType&&!(k.type==="click"&&k.button>=1)){for(;Ke!==this;Ke=Ke.parentNode||this)if(Ke.nodeType===1&&!(k.type==="click"&&Ke.disabled===!0)){for(ge=[],_e={},te=0;te<Me;te++)se=U[te],pe=se.selector+" ",_e[pe]===void 0&&(_e[pe]=se.needsContext?d(pe,this).index(Ke)>-1:d.find(pe,this,null,[Ke]).length),_e[pe]&&ge.push(se);ge.length&&Fe.push({elem:Ke,handlers:ge})}}return Ke=this,Me<U.length&&Fe.push({elem:Ke,handlers:U.slice(Me)}),Fe},addProp:function(k,U){Object.defineProperty(d.Event.prototype,k,{enumerable:!0,configurable:!0,get:_(U)?function(){if(this.originalEvent)return U(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[k]},set:function(te){Object.defineProperty(this,k,{enumerable:!0,configurable:!0,writable:!0,value:te})}})},fix:function(k){return k[d.expando]?k:new d.Event(k)},special:{load:{noBubble:!0},click:{setup:function(k){var U=this||k;return mr.test(U.type)&&U.click&&x(U,"input")&&he(U,"click",!0),!1},trigger:function(k){var U=this||k;return mr.test(U.type)&&U.click&&x(U,"input")&&he(U,"click"),!0},_default:function(k){var U=k.target;return mr.test(U.type)&&U.click&&x(U,"input")&&Ue.get(U,"click")||x(U,"a")}},beforeunload:{postDispatch:function(k){k.result!==void 0&&k.originalEvent&&(k.originalEvent.returnValue=k.result)}}}};function he(k,U,te){if(!te){Ue.get(k,U)===void 0&&d.event.add(k,U,it);return}Ue.set(k,U,!1),d.event.add(k,U,{namespace:!1,handler:function(se){var pe,ge=Ue.get(this,U);if(se.isTrigger&1&&this[U]){if(ge)(d.event.special[U]||{}).delegateType&&se.stopPropagation();else if(ge=o.call(arguments),Ue.set(this,U,ge),this[U](),pe=Ue.get(this,U),Ue.set(this,U,!1),ge!==pe)return se.stopImmediatePropagation(),se.preventDefault(),pe}else ge&&(Ue.set(this,U,d.event.trigger(ge[0],ge.slice(1),this)),se.stopPropagation(),se.isImmediatePropagationStopped=it)}})}d.removeEvent=function(k,U,te){k.removeEventListener&&k.removeEventListener(U,te)},d.Event=function(k,U){if(!(this instanceof d.Event))return new d.Event(k,U);k&&k.type?(this.originalEvent=k,this.type=k.type,this.isDefaultPrevented=k.defaultPrevented||k.defaultPrevented===void 0&&k.returnValue===!1?it:Ot,this.target=k.target&&k.target.nodeType===3?k.target.parentNode:k.target,this.currentTarget=k.currentTarget,this.relatedTarget=k.relatedTarget):this.type=k,U&&d.extend(this,U),this.timeStamp=k&&k.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:Ot,isPropagationStopped:Ot,isImmediatePropagationStopped:Ot,isSimulated:!1,preventDefault:function(){var k=this.originalEvent;this.isDefaultPrevented=it,k&&!this.isSimulated&&k.preventDefault()},stopPropagation:function(){var k=this.originalEvent;this.isPropagationStopped=it,k&&!this.isSimulated&&k.stopPropagation()},stopImmediatePropagation:function(){var k=this.originalEvent;this.isImmediatePropagationStopped=it,k&&!this.isSimulated&&k.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(k,U){function te(se){if(h.documentMode){var pe=Ue.get(this,"handle"),ge=d.event.fix(se);ge.type=se.type==="focusin"?"focus":"blur",ge.isSimulated=!0,pe(se),ge.target===ge.currentTarget&&pe(ge)}else d.event.simulate(U,se.target,d.event.fix(se))}d.event.special[k]={setup:function(){var se;if(he(this,k,!0),h.documentMode)se=Ue.get(this,U),se||this.addEventListener(U,te),Ue.set(this,U,(se||0)+1);else return!1},trigger:function(){return he(this,k),!0},teardown:function(){var se;if(h.documentMode)se=Ue.get(this,U)-1,se?Ue.set(this,U,se):(this.removeEventListener(U,te),Ue.remove(this,U));else return!1},_default:function(se){return Ue.get(se.target,k)},delegateType:U},d.event.special[U]={setup:function(){var se=this.ownerDocument||this.document||this,pe=h.documentMode?this:se,ge=Ue.get(pe,U);ge||(h.documentMode?this.addEventListener(U,te):se.addEventListener(k,te,!0)),Ue.set(pe,U,(ge||0)+1)},teardown:function(){var se=this.ownerDocument||this.document||this,pe=h.documentMode?this:se,ge=Ue.get(pe,U)-1;ge?Ue.set(pe,U,ge):(h.documentMode?this.removeEventListener(U,te):se.removeEventListener(k,te,!0),Ue.remove(pe,U))}}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(k,U){d.event.special[k]={delegateType:U,bindType:U,handle:function(te){var se,pe=this,ge=te.relatedTarget,_e=te.handleObj;return(!ge||ge!==pe&&!d.contains(pe,ge))&&(te.type=_e.origType,se=_e.handler.apply(this,arguments),te.type=U),se}}}),d.fn.extend({on:function(k,U,te,se){return qt(this,k,U,te,se)},one:function(k,U,te,se){return qt(this,k,U,te,se,1)},off:function(k,U,te){var se,pe;if(k&&k.preventDefault&&k.handleObj)return se=k.handleObj,d(k.delegateTarget).off(se.namespace?se.origType+"."+se.namespace:se.origType,se.selector,se.handler),this;if(typeof k=="object"){for(pe in k)this.off(pe,U,k[pe]);return this}return(U===!1||typeof U=="function")&&(te=U,U=void 0),te===!1&&(te=Ot),this.each(function(){d.event.remove(this,k,te,U)})}});var le=/<script|<style|<link/i,we=/checked\s*(?:[^=]|=\s*.checked.)/i,xe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ae(k,U){return x(k,"table")&&x(U.nodeType!==11?U:U.firstChild,"tr")&&d(k).children("tbody")[0]||k}function et(k){return k.type=(k.getAttribute("type")!==null)+"/"+k.type,k}function ot(k){return(k.type||"").slice(0,5)==="true/"?k.type=k.type.slice(5):k.removeAttribute("type"),k}function xt(k,U){var te,se,pe,ge,_e,Fe,Me;if(U.nodeType===1){if(Ue.hasData(k)&&(ge=Ue.get(k),Me=ge.events,Me)){Ue.remove(U,"handle events");for(pe in Me)for(te=0,se=Me[pe].length;te<se;te++)d.event.add(U,pe,Me[pe][te])}W.hasData(k)&&(_e=W.access(k),Fe=d.extend({},_e),W.set(U,Fe))}}function Nt(k,U){var te=U.nodeName.toLowerCase();te==="input"&&mr.test(k.type)?U.checked=k.checked:(te==="input"||te==="textarea")&&(U.defaultValue=k.defaultValue)}function jt(k,U,te,se){U=a(U);var pe,ge,_e,Fe,Me,Ke,rt=0,lt=k.length,Qe=lt-1,bt=U[0],Ht=_(bt);if(Ht||lt>1&&typeof bt=="string"&&!g.checkClone&&we.test(bt))return k.each(function(gr){var Xt=k.eq(gr);Ht&&(U[0]=bt.call(this,gr,Xt.html())),jt(Xt,U,te,se)});if(lt&&(pe=dt(U,k[0].ownerDocument,!1,k,se),ge=pe.firstChild,pe.childNodes.length===1&&(pe=ge),ge||se)){for(_e=d.map(At(pe,"script"),et),Fe=_e.length;rt<lt;rt++)Me=pe,rt!==Qe&&(Me=d.clone(Me,!0,!0),Fe&&d.merge(_e,At(Me,"script"))),te.call(k[rt],Me,rt);if(Fe)for(Ke=_e[_e.length-1].ownerDocument,d.map(_e,ot),rt=0;rt<Fe;rt++)Me=_e[rt],Vt.test(Me.type||"")&&!Ue.access(Me,"globalEval")&&d.contains(Ke,Me)&&(Me.src&&(Me.type||"").toLowerCase()!=="module"?d._evalUrl&&!Me.noModule&&d._evalUrl(Me.src,{nonce:Me.nonce||Me.getAttribute("nonce")},Ke):y(Me.textContent.replace(xe,""),Me,Ke))}return k}function $t(k,U,te){for(var se,pe=U?d.filter(U,k):k,ge=0;(se=pe[ge])!=null;ge++)!te&&se.nodeType===1&&d.cleanData(At(se)),se.parentNode&&(te&&ft(se)&&Se(At(se,"script")),se.parentNode.removeChild(se));return k}d.extend({htmlPrefilter:function(k){return k},clone:function(k,U,te){var se,pe,ge,_e,Fe=k.cloneNode(!0),Me=ft(k);if(!g.noCloneChecked&&(k.nodeType===1||k.nodeType===11)&&!d.isXMLDoc(k))for(_e=At(Fe),ge=At(k),se=0,pe=ge.length;se<pe;se++)Nt(ge[se],_e[se]);if(U)if(te)for(ge=ge||At(k),_e=_e||At(Fe),se=0,pe=ge.length;se<pe;se++)xt(ge[se],_e[se]);else xt(k,Fe);return _e=At(Fe,"script"),_e.length>0&&Se(_e,!Me&&At(k,"script")),Fe},cleanData:function(k){for(var U,te,se,pe=d.event.special,ge=0;(te=k[ge])!==void 0;ge++)if(nt(te)){if(U=te[Ue.expando]){if(U.events)for(se in U.events)pe[se]?d.event.remove(te,se):d.removeEvent(te,se,U.handle);te[Ue.expando]=void 0}te[W.expando]&&(te[W.expando]=void 0)}}}),d.fn.extend({detach:function(k){return $t(this,k,!0)},remove:function(k){return $t(this,k)},text:function(k){return de(this,function(U){return U===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=U)})},null,k,arguments.length)},append:function(){return jt(this,arguments,function(k){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var U=Ae(this,k);U.appendChild(k)}})},prepend:function(){return jt(this,arguments,function(k){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var U=Ae(this,k);U.insertBefore(k,U.firstChild)}})},before:function(){return jt(this,arguments,function(k){this.parentNode&&this.parentNode.insertBefore(k,this)})},after:function(){return jt(this,arguments,function(k){this.parentNode&&this.parentNode.insertBefore(k,this.nextSibling)})},empty:function(){for(var k,U=0;(k=this[U])!=null;U++)k.nodeType===1&&(d.cleanData(At(k,!1)),k.textContent="");return this},clone:function(k,U){return k=k??!1,U=U??k,this.map(function(){return d.clone(this,k,U)})},html:function(k){return de(this,function(U){var te=this[0]||{},se=0,pe=this.length;if(U===void 0&&te.nodeType===1)return te.innerHTML;if(typeof U=="string"&&!le.test(U)&&!zt[(cn.exec(U)||["",""])[1].toLowerCase()]){U=d.htmlPrefilter(U);try{for(;se<pe;se++)te=this[se]||{},te.nodeType===1&&(d.cleanData(At(te,!1)),te.innerHTML=U);te=0}catch{}}te&&this.empty().append(U)},null,k,arguments.length)},replaceWith:function(){var k=[];return jt(this,arguments,function(U){var te=this.parentNode;d.inArray(this,k)<0&&(d.cleanData(At(this)),te&&te.replaceChild(U,this))},k)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(k,U){d.fn[k]=function(te){for(var se,pe=[],ge=d(te),_e=ge.length-1,Fe=0;Fe<=_e;Fe++)se=Fe===_e?this:this.clone(!0),d(ge[Fe])[U](se),s.apply(pe,se.get());return this.pushStack(pe)}});var Rt=new RegExp("^("+Ee+")(?!px)[a-z%]+$","i"),Gt=/^--/,wt=function(k){var U=k.ownerDocument.defaultView;return(!U||!U.opener)&&(U=t),U.getComputedStyle(k)},Tt=function(k,U,te){var se,pe,ge={};for(pe in U)ge[pe]=k.style[pe],k.style[pe]=U[pe];se=te.call(k);for(pe in U)k.style[pe]=ge[pe];return se},Dt=new RegExp(Re.join("|"),"i");(function(){function k(){if(Ke){Me.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ke.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Le.appendChild(Me).appendChild(Ke);var rt=t.getComputedStyle(Ke);te=rt.top!=="1%",Fe=U(rt.marginLeft)===12,Ke.style.right="60%",ge=U(rt.right)===36,se=U(rt.width)===36,Ke.style.position="absolute",pe=U(Ke.offsetWidth/3)===12,Le.removeChild(Me),Ke=null}}function U(rt){return Math.round(parseFloat(rt))}var te,se,pe,ge,_e,Fe,Me=h.createElement("div"),Ke=h.createElement("div");Ke.style&&(Ke.style.backgroundClip="content-box",Ke.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle=Ke.style.backgroundClip==="content-box",d.extend(g,{boxSizingReliable:function(){return k(),se},pixelBoxStyles:function(){return k(),ge},pixelPosition:function(){return k(),te},reliableMarginLeft:function(){return k(),Fe},scrollboxSize:function(){return k(),pe},reliableTrDimensions:function(){var rt,lt,Qe,bt;return _e==null&&(rt=h.createElement("table"),lt=h.createElement("tr"),Qe=h.createElement("div"),rt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",lt.style.cssText="box-sizing:content-box;border:1px solid",lt.style.height="1px",Qe.style.height="9px",Qe.style.display="block",Le.appendChild(rt).appendChild(lt).appendChild(Qe),bt=t.getComputedStyle(lt),_e=parseInt(bt.height,10)+parseInt(bt.borderTopWidth,10)+parseInt(bt.borderBottomWidth,10)===lt.offsetHeight,Le.removeChild(rt)),_e}}))})();function Ft(k,U,te){var se,pe,ge,_e,Fe=Gt.test(U),Me=k.style;return te=te||wt(k),te&&(_e=te.getPropertyValue(U)||te[U],Fe&&_e&&(_e=_e.replace(X,"$1")||void 0),_e===""&&!ft(k)&&(_e=d.style(k,U)),!g.pixelBoxStyles()&&Rt.test(_e)&&Dt.test(U)&&(se=Me.width,pe=Me.minWidth,ge=Me.maxWidth,Me.minWidth=Me.maxWidth=Me.width=_e,_e=te.width,Me.width=se,Me.minWidth=pe,Me.maxWidth=ge)),_e!==void 0?_e+"":_e}function Kr(k,U){return{get:function(){if(k()){delete this.get;return}return(this.get=U).apply(this,arguments)}}}var Qr=["Webkit","Moz","ms"],kr=h.createElement("div").style,Fn={};function Hn(k){for(var U=k[0].toUpperCase()+k.slice(1),te=Qr.length;te--;)if(k=Qr[te]+U,k in kr)return k}function Cr(k){var U=d.cssProps[k]||Fn[k];return U||(k in kr?k:Fn[k]=Hn(k)||k)}var Zr=/^(none|table(?!-c[ea]).+)/,Qn={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:"0",fontWeight:"400"};function hi(k,U,te){var se=Ce.exec(U);return se?Math.max(0,se[2]-(te||0))+(se[3]||"px"):U}function na(k,U,te,se,pe,ge){var _e=U==="width"?1:0,Fe=0,Me=0,Ke=0;if(te===(se?"border":"content"))return 0;for(;_e<4;_e+=2)te==="margin"&&(Ke+=d.css(k,te+Re[_e],!0,pe)),se?(te==="content"&&(Me-=d.css(k,"padding"+Re[_e],!0,pe)),te!=="margin"&&(Me-=d.css(k,"border"+Re[_e]+"Width",!0,pe))):(Me+=d.css(k,"padding"+Re[_e],!0,pe),te!=="padding"?Me+=d.css(k,"border"+Re[_e]+"Width",!0,pe):Fe+=d.css(k,"border"+Re[_e]+"Width",!0,pe));return!se&&ge>=0&&(Me+=Math.max(0,Math.ceil(k["offset"+U[0].toUpperCase()+U.slice(1)]-ge-Me-Fe-.5))||0),Me+Ke}function ia(k,U,te){var se=wt(k),pe=!g.boxSizingReliable()||te,ge=pe&&d.css(k,"boxSizing",!1,se)==="border-box",_e=ge,Fe=Ft(k,U,se),Me="offset"+U[0].toUpperCase()+U.slice(1);if(Rt.test(Fe)){if(!te)return Fe;Fe="auto"}return(!g.boxSizingReliable()&&ge||!g.reliableTrDimensions()&&x(k,"tr")||Fe==="auto"||!parseFloat(Fe)&&d.css(k,"display",!1,se)==="inline")&&k.getClientRects().length&&(ge=d.css(k,"boxSizing",!1,se)==="border-box",_e=Me in k,_e&&(Fe=k[Me])),Fe=parseFloat(Fe)||0,Fe+na(k,U,te||(ge?"border":"content"),_e,se,Fe)+"px"}d.extend({cssHooks:{opacity:{get:function(k,U){if(U){var te=Ft(k,"opacity");return te===""?"1":te}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(k,U,te,se){if(!(!k||k.nodeType===3||k.nodeType===8||!k.style)){var pe,ge,_e,Fe=je(U),Me=Gt.test(U),Ke=k.style;if(Me||(U=Cr(Fe)),_e=d.cssHooks[U]||d.cssHooks[Fe],te!==void 0){if(ge=typeof te,ge==="string"&&(pe=Ce.exec(te))&&pe[1]&&(te=Ct(k,U,pe),ge="number"),te==null||te!==te)return;ge==="number"&&!Me&&(te+=pe&&pe[3]||(d.cssNumber[Fe]?"":"px")),!g.clearCloneStyle&&te===""&&U.indexOf("background")===0&&(Ke[U]="inherit"),(!_e||!("set"in _e)||(te=_e.set(k,te,se))!==void 0)&&(Me?Ke.setProperty(U,te):Ke[U]=te)}else return _e&&"get"in _e&&(pe=_e.get(k,!1,se))!==void 0?pe:Ke[U]}},css:function(k,U,te,se){var pe,ge,_e,Fe=je(U),Me=Gt.test(U);return Me||(U=Cr(Fe)),_e=d.cssHooks[U]||d.cssHooks[Fe],_e&&"get"in _e&&(pe=_e.get(k,!0,te)),pe===void 0&&(pe=Ft(k,U,se)),pe==="normal"&&U in pn&&(pe=pn[U]),te===""||te?(ge=parseFloat(pe),te===!0||isFinite(ge)?ge||0:pe):pe}}),d.each(["height","width"],function(k,U){d.cssHooks[U]={get:function(te,se,pe){if(se)return Zr.test(d.css(te,"display"))&&(!te.getClientRects().length||!te.getBoundingClientRect().width)?Tt(te,Qn,function(){return ia(te,U,pe)}):ia(te,U,pe)},set:function(te,se,pe){var ge,_e=wt(te),Fe=!g.scrollboxSize()&&_e.position==="absolute",Me=Fe||pe,Ke=Me&&d.css(te,"boxSizing",!1,_e)==="border-box",rt=pe?na(te,U,pe,Ke,_e):0;return Ke&&Fe&&(rt-=Math.ceil(te["offset"+U[0].toUpperCase()+U.slice(1)]-parseFloat(_e[U])-na(te,U,"border",!1,_e)-.5)),rt&&(ge=Ce.exec(se))&&(ge[3]||"px")!=="px"&&(te.style[U]=se,se=d.css(te,U)),hi(te,se,rt)}}}),d.cssHooks.marginLeft=Kr(g.reliableMarginLeft,function(k,U){if(U)return(parseFloat(Ft(k,"marginLeft"))||k.getBoundingClientRect().left-Tt(k,{marginLeft:0},function(){return k.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(k,U){d.cssHooks[k+U]={expand:function(te){for(var se=0,pe={},ge=typeof te=="string"?te.split(" "):[te];se<4;se++)pe[k+Re[se]+U]=ge[se]||ge[se-2]||ge[0];return pe}},k!=="margin"&&(d.cssHooks[k+U].set=hi)}),d.fn.extend({css:function(k,U){return de(this,function(te,se,pe){var ge,_e,Fe={},Me=0;if(Array.isArray(se)){for(ge=wt(te),_e=se.length;Me<_e;Me++)Fe[se[Me]]=d.css(te,se[Me],!1,ge);return Fe}return pe!==void 0?d.style(te,se,pe):d.css(te,se)},k,U,arguments.length>1)}});function jr(k,U,te,se,pe){return new jr.prototype.init(k,U,te,se,pe)}d.Tween=jr,jr.prototype={constructor:jr,init:function(k,U,te,se,pe,ge){this.elem=k,this.prop=te,this.easing=pe||d.easing._default,this.options=U,this.start=this.now=this.cur(),this.end=se,this.unit=ge||(d.cssNumber[te]?"":"px")},cur:function(){var k=jr.propHooks[this.prop];return k&&k.get?k.get(this):jr.propHooks._default.get(this)},run:function(k){var U,te=jr.propHooks[this.prop];return this.options.duration?this.pos=U=d.easing[this.easing](k,this.options.duration*k,0,1,this.options.duration):this.pos=U=k,this.now=(this.end-this.start)*U+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),te&&te.set?te.set(this):jr.propHooks._default.set(this),this}},jr.prototype.init.prototype=jr.prototype,jr.propHooks={_default:{get:function(k){var U;return k.elem.nodeType!==1||k.elem[k.prop]!=null&&k.elem.style[k.prop]==null?k.elem[k.prop]:(U=d.css(k.elem,k.prop,""),!U||U==="auto"?0:U)},set:function(k){d.fx.step[k.prop]?d.fx.step[k.prop](k):k.elem.nodeType===1&&(d.cssHooks[k.prop]||k.elem.style[Cr(k.prop)]!=null)?d.style(k.elem,k.prop,k.now+k.unit):k.elem[k.prop]=k.now}}},jr.propHooks.scrollTop=jr.propHooks.scrollLeft={set:function(k){k.elem.nodeType&&k.elem.parentNode&&(k.elem[k.prop]=k.now)}},d.easing={linear:function(k){return k},swing:function(k){return .5-Math.cos(k*Math.PI)/2},_default:"swing"},d.fx=jr.prototype.init,d.fx.step={};var _n,pi,vs=/^(?:toggle|show|hide)$/,oa=/queueHooks$/;function Bn(){pi&&(h.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Bn):t.setTimeout(Bn,d.fx.interval),d.fx.tick())}function gc(){return t.setTimeout(function(){_n=void 0}),_n=Date.now()}function il(k,U){var te,se=0,pe={height:k};for(U=U?1:0;se<4;se+=2-U)te=Re[se],pe["margin"+te]=pe["padding"+te]=k;return U&&(pe.opacity=pe.width=k),pe}function qg(k,U,te){for(var se,pe=(Do.tweeners[U]||[]).concat(Do.tweeners["*"]),ge=0,_e=pe.length;ge<_e;ge++)if(se=pe[ge].call(te,U,k))return se}function WE(k,U,te){var se,pe,ge,_e,Fe,Me,Ke,rt,lt="width"in U||"height"in U,Qe=this,bt={},Ht=k.style,gr=k.nodeType&&st(k),Xt=Ue.get(k,"fxshow");te.queue||(_e=d._queueHooks(k,"fx"),_e.unqueued==null&&(_e.unqueued=0,Fe=_e.empty.fire,_e.empty.fire=function(){_e.unqueued||Fe()}),_e.unqueued++,Qe.always(function(){Qe.always(function(){_e.unqueued--,d.queue(k,"fx").length||_e.empty.fire()})}));for(se in U)if(pe=U[se],vs.test(pe)){if(delete U[se],ge=ge||pe==="toggle",pe===(gr?"hide":"show"))if(pe==="show"&&Xt&&Xt[se]!==void 0)gr=!0;else continue;bt[se]=Xt&&Xt[se]||d.style(k,se)}if(Me=!d.isEmptyObject(U),!(!Me&&d.isEmptyObject(bt))){lt&&k.nodeType===1&&(te.overflow=[Ht.overflow,Ht.overflowX,Ht.overflowY],Ke=Xt&&Xt.display,Ke==null&&(Ke=Ue.get(k,"display")),rt=d.css(k,"display"),rt==="none"&&(Ke?rt=Ke:(ir([k],!0),Ke=k.style.display||Ke,rt=d.css(k,"display"),ir([k]))),(rt==="inline"||rt==="inline-block"&&Ke!=null)&&d.css(k,"float")==="none"&&(Me||(Qe.done(function(){Ht.display=Ke}),Ke==null&&(rt=Ht.display,Ke=rt==="none"?"":rt)),Ht.display="inline-block")),te.overflow&&(Ht.overflow="hidden",Qe.always(function(){Ht.overflow=te.overflow[0],Ht.overflowX=te.overflow[1],Ht.overflowY=te.overflow[2]})),Me=!1;for(se in bt)Me||(Xt?"hidden"in Xt&&(gr=Xt.hidden):Xt=Ue.access(k,"fxshow",{display:Ke}),ge&&(Xt.hidden=!gr),gr&&ir([k],!0),Qe.done(function(){gr||ir([k]),Ue.remove(k,"fxshow");for(se in bt)d.style(k,se,bt[se])})),Me=qg(gr?Xt[se]:0,se,Qe),se in Xt||(Xt[se]=Me.start,gr&&(Me.end=Me.start,Me.start=0))}}function GE(k,U){var te,se,pe,ge,_e;for(te in k)if(se=je(te),pe=U[se],ge=k[te],Array.isArray(ge)&&(pe=ge[1],ge=k[te]=ge[0]),te!==se&&(k[se]=ge,delete k[te]),_e=d.cssHooks[se],_e&&"expand"in _e){ge=_e.expand(ge),delete k[se];for(te in ge)te in k||(k[te]=ge[te],U[te]=pe)}else U[se]=pe}function Do(k,U,te){var se,pe,ge=0,_e=Do.prefilters.length,Fe=d.Deferred().always(function(){delete Me.elem}),Me=function(){if(pe)return!1;for(var lt=_n||gc(),Qe=Math.max(0,Ke.startTime+Ke.duration-lt),bt=Qe/Ke.duration||0,Ht=1-bt,gr=0,Xt=Ke.tweens.length;gr<Xt;gr++)Ke.tweens[gr].run(Ht);return Fe.notifyWith(k,[Ke,Ht,Qe]),Ht<1&&Xt?Qe:(Xt||Fe.notifyWith(k,[Ke,1,0]),Fe.resolveWith(k,[Ke]),!1)},Ke=Fe.promise({elem:k,props:d.extend({},U),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},te),originalProperties:U,originalOptions:te,startTime:_n||gc(),duration:te.duration,tweens:[],createTween:function(lt,Qe){var bt=d.Tween(k,Ke.opts,lt,Qe,Ke.opts.specialEasing[lt]||Ke.opts.easing);return Ke.tweens.push(bt),bt},stop:function(lt){var Qe=0,bt=lt?Ke.tweens.length:0;if(pe)return this;for(pe=!0;Qe<bt;Qe++)Ke.tweens[Qe].run(1);return lt?(Fe.notifyWith(k,[Ke,1,0]),Fe.resolveWith(k,[Ke,lt])):Fe.rejectWith(k,[Ke,lt]),this}}),rt=Ke.props;for(GE(rt,Ke.opts.specialEasing);ge<_e;ge++)if(se=Do.prefilters[ge].call(Ke,k,rt,Ke.opts),se)return _(se.stop)&&(d._queueHooks(Ke.elem,Ke.opts.queue).stop=se.stop.bind(se)),se;return d.map(rt,qg,Ke),_(Ke.opts.start)&&Ke.opts.start.call(k,Ke),Ke.progress(Ke.opts.progress).done(Ke.opts.done,Ke.opts.complete).fail(Ke.opts.fail).always(Ke.opts.always),d.fx.timer(d.extend(Me,{elem:k,anim:Ke,queue:Ke.opts.queue})),Ke}d.Animation=d.extend(Do,{tweeners:{"*":[function(k,U){var te=this.createTween(k,U);return Ct(te.elem,k,Ce.exec(U),te),te}]},tweener:function(k,U){_(k)?(U=k,k=["*"]):k=k.match(be);for(var te,se=0,pe=k.length;se<pe;se++)te=k[se],Do.tweeners[te]=Do.tweeners[te]||[],Do.tweeners[te].unshift(U)},prefilters:[WE],prefilter:function(k,U){U?Do.prefilters.unshift(k):Do.prefilters.push(k)}}),d.speed=function(k,U,te){var se=k&&typeof k=="object"?d.extend({},k):{complete:te||!te&&U||_(k)&&k,duration:k,easing:te&&U||U&&!_(U)&&U};return d.fx.off?se.duration=0:typeof se.duration!="number"&&(se.duration in d.fx.speeds?se.duration=d.fx.speeds[se.duration]:se.duration=d.fx.speeds._default),(se.queue==null||se.queue===!0)&&(se.queue="fx"),se.old=se.complete,se.complete=function(){_(se.old)&&se.old.call(this),se.queue&&d.dequeue(this,se.queue)},se},d.fn.extend({fadeTo:function(k,U,te,se){return this.filter(st).css("opacity",0).show().end().animate({opacity:U},k,te,se)},animate:function(k,U,te,se){var pe=d.isEmptyObject(k),ge=d.speed(U,te,se),_e=function(){var Fe=Do(this,d.extend({},k),ge);(pe||Ue.get(this,"finish"))&&Fe.stop(!0)};return _e.finish=_e,pe||ge.queue===!1?this.each(_e):this.queue(ge.queue,_e)},stop:function(k,U,te){var se=function(pe){var ge=pe.stop;delete pe.stop,ge(te)};return typeof k!="string"&&(te=U,U=k,k=void 0),U&&this.queue(k||"fx",[]),this.each(function(){var pe=!0,ge=k!=null&&k+"queueHooks",_e=d.timers,Fe=Ue.get(this);if(ge)Fe[ge]&&Fe[ge].stop&&se(Fe[ge]);else for(ge in Fe)Fe[ge]&&Fe[ge].stop&&oa.test(ge)&&se(Fe[ge]);for(ge=_e.length;ge--;)_e[ge].elem===this&&(k==null||_e[ge].queue===k)&&(_e[ge].anim.stop(te),pe=!1,_e.splice(ge,1));(pe||!te)&&d.dequeue(this,k)})},finish:function(k){return k!==!1&&(k=k||"fx"),this.each(function(){var U,te=Ue.get(this),se=te[k+"queue"],pe=te[k+"queueHooks"],ge=d.timers,_e=se?se.length:0;for(te.finish=!0,d.queue(this,k,[]),pe&&pe.stop&&pe.stop.call(this,!0),U=ge.length;U--;)ge[U].elem===this&&ge[U].queue===k&&(ge[U].anim.stop(!0),ge.splice(U,1));for(U=0;U<_e;U++)se[U]&&se[U].finish&&se[U].finish.call(this);delete te.finish})}}),d.each(["toggle","show","hide"],function(k,U){var te=d.fn[U];d.fn[U]=function(se,pe,ge){return se==null||typeof se=="boolean"?te.apply(this,arguments):this.animate(il(U,!0),se,pe,ge)}}),d.each({slideDown:il("show"),slideUp:il("hide"),slideToggle:il("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(k,U){d.fn[k]=function(te,se,pe){return this.animate(U,te,se,pe)}}),d.timers=[],d.fx.tick=function(){var k,U=0,te=d.timers;for(_n=Date.now();U<te.length;U++)k=te[U],!k()&&te[U]===k&&te.splice(U--,1);te.length||d.fx.stop(),_n=void 0},d.fx.timer=function(k){d.timers.push(k),d.fx.start()},d.fx.interval=13,d.fx.start=function(){pi||(pi=!0,Bn())},d.fx.stop=function(){pi=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(k,U){return k=d.fx&&d.fx.speeds[k]||k,U=U||"fx",this.queue(U,function(te,se){var pe=t.setTimeout(te,k);se.stop=function(){t.clearTimeout(pe)}})},function(){var k=h.createElement("input"),U=h.createElement("select"),te=U.appendChild(h.createElement("option"));k.type="checkbox",g.checkOn=k.value!=="",g.optSelected=te.selected,k=h.createElement("input"),k.value="t",k.type="radio",g.radioValue=k.value==="t"}();var Vg,Gl=d.expr.attrHandle;d.fn.extend({attr:function(k,U){return de(this,d.attr,k,U,arguments.length>1)},removeAttr:function(k){return this.each(function(){d.removeAttr(this,k)})}}),d.extend({attr:function(k,U,te){var se,pe,ge=k.nodeType;if(!(ge===3||ge===8||ge===2)){if(typeof k.getAttribute>"u")return d.prop(k,U,te);if((ge!==1||!d.isXMLDoc(k))&&(pe=d.attrHooks[U.toLowerCase()]||(d.expr.match.bool.test(U)?Vg:void 0)),te!==void 0){if(te===null){d.removeAttr(k,U);return}return pe&&"set"in pe&&(se=pe.set(k,te,U))!==void 0?se:(k.setAttribute(U,te+""),te)}return pe&&"get"in pe&&(se=pe.get(k,U))!==null?se:(se=d.find.attr(k,U),se??void 0)}},attrHooks:{type:{set:function(k,U){if(!g.radioValue&&U==="radio"&&x(k,"input")){var te=k.value;return k.setAttribute("type",U),te&&(k.value=te),U}}}},removeAttr:function(k,U){var te,se=0,pe=U&&U.match(be);if(pe&&k.nodeType===1)for(;te=pe[se++];)k.removeAttribute(te)}}),Vg={set:function(k,U,te){return U===!1?d.removeAttr(k,te):k.setAttribute(te,te),te}},d.each(d.expr.match.bool.source.match(/\w+/g),function(k,U){var te=Gl[U]||d.find.attr;Gl[U]=function(se,pe,ge){var _e,Fe,Me=pe.toLowerCase();return ge||(Fe=Gl[Me],Gl[Me]=_e,_e=te(se,pe,ge)!=null?Me:null,Gl[Me]=Fe),_e}});var ys=/^(?:input|select|textarea|button)$/i,Hg=/^(?:a|area)$/i;d.fn.extend({prop:function(k,U){return de(this,d.prop,k,U,arguments.length>1)},removeProp:function(k){return this.each(function(){delete this[d.propFix[k]||k]})}}),d.extend({prop:function(k,U,te){var se,pe,ge=k.nodeType;if(!(ge===3||ge===8||ge===2))return(ge!==1||!d.isXMLDoc(k))&&(U=d.propFix[U]||U,pe=d.propHooks[U]),te!==void 0?pe&&"set"in pe&&(se=pe.set(k,te,U))!==void 0?se:k[U]=te:pe&&"get"in pe&&(se=pe.get(k,U))!==null?se:k[U]},propHooks:{tabIndex:{get:function(k){var U=d.find.attr(k,"tabindex");return U?parseInt(U,10):ys.test(k.nodeName)||Hg.test(k.nodeName)&&k.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(d.propHooks.selected={get:function(k){var U=k.parentNode;return U&&U.parentNode&&U.parentNode.selectedIndex,null},set:function(k){var U=k.parentNode;U&&(U.selectedIndex,U.parentNode&&U.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function ws(k){var U=k.match(be)||[];return U.join(" ")}function uo(k){return k.getAttribute&&k.getAttribute("class")||""}function bs(k){return Array.isArray(k)?k:typeof k=="string"?k.match(be)||[]:[]}d.fn.extend({addClass:function(k){var U,te,se,pe,ge,_e;return _(k)?this.each(function(Fe){d(this).addClass(k.call(this,Fe,uo(this)))}):(U=bs(k),U.length?this.each(function(){if(se=uo(this),te=this.nodeType===1&&" "+ws(se)+" ",te){for(ge=0;ge<U.length;ge++)pe=U[ge],te.indexOf(" "+pe+" ")<0&&(te+=pe+" ");_e=ws(te),se!==_e&&this.setAttribute("class",_e)}}):this)},removeClass:function(k){var U,te,se,pe,ge,_e;return _(k)?this.each(function(Fe){d(this).removeClass(k.call(this,Fe,uo(this)))}):arguments.length?(U=bs(k),U.length?this.each(function(){if(se=uo(this),te=this.nodeType===1&&" "+ws(se)+" ",te){for(ge=0;ge<U.length;ge++)for(pe=U[ge];te.indexOf(" "+pe+" ")>-1;)te=te.replace(" "+pe+" "," ");_e=ws(te),se!==_e&&this.setAttribute("class",_e)}}):this):this.attr("class","")},toggleClass:function(k,U){var te,se,pe,ge,_e=typeof k,Fe=_e==="string"||Array.isArray(k);return _(k)?this.each(function(Me){d(this).toggleClass(k.call(this,Me,uo(this),U),U)}):typeof U=="boolean"&&Fe?U?this.addClass(k):this.removeClass(k):(te=bs(k),this.each(function(){if(Fe)for(ge=d(this),pe=0;pe<te.length;pe++)se=te[pe],ge.hasClass(se)?ge.removeClass(se):ge.addClass(se);else(k===void 0||_e==="boolean")&&(se=uo(this),se&&Ue.set(this,"__className__",se),this.setAttribute&&this.setAttribute("class",se||k===!1?"":Ue.get(this,"__className__")||""))}))},hasClass:function(k){var U,te,se=0;for(U=" "+k+" ";te=this[se++];)if(te.nodeType===1&&(" "+ws(uo(te))+" ").indexOf(U)>-1)return!0;return!1}});var Kf=/\r/g;d.fn.extend({val:function(k){var U,te,se,pe=this[0];return arguments.length?(se=_(k),this.each(function(ge){var _e;this.nodeType===1&&(se?_e=k.call(this,ge,d(this).val()):_e=k,_e==null?_e="":typeof _e=="number"?_e+="":Array.isArray(_e)&&(_e=d.map(_e,function(Fe){return Fe==null?"":Fe+""})),U=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!U||!("set"in U)||U.set(this,_e,"value")===void 0)&&(this.value=_e))})):pe?(U=d.valHooks[pe.type]||d.valHooks[pe.nodeName.toLowerCase()],U&&"get"in U&&(te=U.get(pe,"value"))!==void 0?te:(te=pe.value,typeof te=="string"?te.replace(Kf,""):te??"")):void 0}}),d.extend({valHooks:{option:{get:function(k){var U=d.find.attr(k,"value");return U??ws(d.text(k))}},select:{get:function(k){var U,te,se,pe=k.options,ge=k.selectedIndex,_e=k.type==="select-one",Fe=_e?null:[],Me=_e?ge+1:pe.length;for(ge<0?se=Me:se=_e?ge:0;se<Me;se++)if(te=pe[se],(te.selected||se===ge)&&!te.disabled&&(!te.parentNode.disabled||!x(te.parentNode,"optgroup"))){if(U=d(te).val(),_e)return U;Fe.push(U)}return Fe},set:function(k,U){for(var te,se,pe=k.options,ge=d.makeArray(U),_e=pe.length;_e--;)se=pe[_e],(se.selected=d.inArray(d.valHooks.option.get(se),ge)>-1)&&(te=!0);return te||(k.selectedIndex=-1),ge}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(k,U){if(Array.isArray(U))return k.checked=d.inArray(d(k).val(),U)>-1}},g.checkOn||(d.valHooks[this].get=function(k){return k.getAttribute("value")===null?"on":k.value})});var Kl=t.location,Jf={guid:Date.now()},vc=/\?/;d.parseXML=function(k){var U,te;if(!k||typeof k!="string")return null;try{U=new t.DOMParser().parseFromString(k,"text/xml")}catch{}return te=U&&U.getElementsByTagName("parsererror")[0],(!U||te)&&d.error("Invalid XML: "+(te?d.map(te.childNodes,function(se){return se.textContent}).join(`
`):k)),U};var Yf=/^(?:focusinfocus|focusoutblur)$/,Mo=function(k){k.stopPropagation()};d.extend(d.event,{trigger:function(k,U,te,se){var pe,ge,_e,Fe,Me,Ke,rt,lt,Qe=[te||h],bt=c.call(k,"type")?k.type:k,Ht=c.call(k,"namespace")?k.namespace.split("."):[];if(ge=lt=_e=te=te||h,!(te.nodeType===3||te.nodeType===8)&&!Yf.test(bt+d.event.triggered)&&(bt.indexOf(".")>-1&&(Ht=bt.split("."),bt=Ht.shift(),Ht.sort()),Me=bt.indexOf(":")<0&&"on"+bt,k=k[d.expando]?k:new d.Event(bt,typeof k=="object"&&k),k.isTrigger=se?2:3,k.namespace=Ht.join("."),k.rnamespace=k.namespace?new RegExp("(^|\\.)"+Ht.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,k.result=void 0,k.target||(k.target=te),U=U==null?[k]:d.makeArray(U,[k]),rt=d.event.special[bt]||{},!(!se&&rt.trigger&&rt.trigger.apply(te,U)===!1))){if(!se&&!rt.noBubble&&!v(te)){for(Fe=rt.delegateType||bt,Yf.test(Fe+bt)||(ge=ge.parentNode);ge;ge=ge.parentNode)Qe.push(ge),_e=ge;_e===(te.ownerDocument||h)&&Qe.push(_e.defaultView||_e.parentWindow||t)}for(pe=0;(ge=Qe[pe++])&&!k.isPropagationStopped();)lt=ge,k.type=pe>1?Fe:rt.bindType||bt,Ke=(Ue.get(ge,"events")||Object.create(null))[k.type]&&Ue.get(ge,"handle"),Ke&&Ke.apply(ge,U),Ke=Me&&ge[Me],Ke&&Ke.apply&&nt(ge)&&(k.result=Ke.apply(ge,U),k.result===!1&&k.preventDefault());return k.type=bt,!se&&!k.isDefaultPrevented()&&(!rt._default||rt._default.apply(Qe.pop(),U)===!1)&&nt(te)&&Me&&_(te[bt])&&!v(te)&&(_e=te[Me],_e&&(te[Me]=null),d.event.triggered=bt,k.isPropagationStopped()&&lt.addEventListener(bt,Mo),te[bt](),k.isPropagationStopped()&&lt.removeEventListener(bt,Mo),d.event.triggered=void 0,_e&&(te[Me]=_e)),k.result}},simulate:function(k,U,te){var se=d.extend(new d.Event,te,{type:k,isSimulated:!0});d.event.trigger(se,null,U)}}),d.fn.extend({trigger:function(k,U){return this.each(function(){d.event.trigger(k,U,this)})},triggerHandler:function(k,U){var te=this[0];if(te)return d.event.trigger(k,U,te,!0)}});var Xf=/\[\]$/,Qf=/\r?\n/g,Fa=/^(?:submit|button|image|reset|file)$/i,ol=/^(?:input|select|textarea|keygen)/i;function Zf(k,U,te,se){var pe;if(Array.isArray(U))d.each(U,function(ge,_e){te||Xf.test(k)?se(k,_e):Zf(k+"["+(typeof _e=="object"&&_e!=null?ge:"")+"]",_e,te,se)});else if(!te&&S(U)==="object")for(pe in U)Zf(k+"["+pe+"]",U[pe],te,se);else se(k,U)}d.param=function(k,U){var te,se=[],pe=function(ge,_e){var Fe=_(_e)?_e():_e;se[se.length]=encodeURIComponent(ge)+"="+encodeURIComponent(Fe??"")};if(k==null)return"";if(Array.isArray(k)||k.jquery&&!d.isPlainObject(k))d.each(k,function(){pe(this.name,this.value)});else for(te in k)Zf(te,k[te],U,pe);return se.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var k=d.prop(this,"elements");return k?d.makeArray(k):this}).filter(function(){var k=this.type;return this.name&&!d(this).is(":disabled")&&ol.test(this.nodeName)&&!Fa.test(k)&&(this.checked||!mr.test(k))}).map(function(k,U){var te=d(this).val();return te==null?null:Array.isArray(te)?d.map(te,function(se){return{name:U.name,value:se.replace(Qf,`\r
`)}}):{name:U.name,value:te.replace(Qf,`\r
`)}}).get()}});var KE=/%20/g,Wg=/#.*$/,Gg=/([?&])_=[^&]*/,Kg=/^(.*?):[ \t]*([^\r\n]*)$/mg,Jg=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Jl=/^(?:GET|HEAD)$/,Yh=/^\/\//,Xh={},Yl={},Qh="*/".concat("*"),Xl=h.createElement("a");Xl.href=Kl.href;function Ql(k){return function(U,te){typeof U!="string"&&(te=U,U="*");var se,pe=0,ge=U.toLowerCase().match(be)||[];if(_(te))for(;se=ge[pe++];)se[0]==="+"?(se=se.slice(1)||"*",(k[se]=k[se]||[]).unshift(te)):(k[se]=k[se]||[]).push(te)}}function ed(k,U,te,se){var pe={},ge=k===Yl;function _e(Fe){var Me;return pe[Fe]=!0,d.each(k[Fe]||[],function(Ke,rt){var lt=rt(U,te,se);if(typeof lt=="string"&&!ge&&!pe[lt])return U.dataTypes.unshift(lt),_e(lt),!1;if(ge)return!(Me=lt)}),Me}return _e(U.dataTypes[0])||!pe["*"]&&_e("*")}function td(k,U){var te,se,pe=d.ajaxSettings.flatOptions||{};for(te in U)U[te]!==void 0&&((pe[te]?k:se||(se={}))[te]=U[te]);return se&&d.extend(!0,k,se),k}function rd(k,U,te){for(var se,pe,ge,_e,Fe=k.contents,Me=k.dataTypes;Me[0]==="*";)Me.shift(),se===void 0&&(se=k.mimeType||U.getResponseHeader("Content-Type"));if(se){for(pe in Fe)if(Fe[pe]&&Fe[pe].test(se)){Me.unshift(pe);break}}if(Me[0]in te)ge=Me[0];else{for(pe in te){if(!Me[0]||k.converters[pe+" "+Me[0]]){ge=pe;break}_e||(_e=pe)}ge=ge||_e}if(ge)return ge!==Me[0]&&Me.unshift(ge),te[ge]}function Zh(k,U,te,se){var pe,ge,_e,Fe,Me,Ke={},rt=k.dataTypes.slice();if(rt[1])for(_e in k.converters)Ke[_e.toLowerCase()]=k.converters[_e];for(ge=rt.shift();ge;)if(k.responseFields[ge]&&(te[k.responseFields[ge]]=U),!Me&&se&&k.dataFilter&&(U=k.dataFilter(U,k.dataType)),Me=ge,ge=rt.shift(),ge){if(ge==="*")ge=Me;else if(Me!=="*"&&Me!==ge){if(_e=Ke[Me+" "+ge]||Ke["* "+ge],!_e){for(pe in Ke)if(Fe=pe.split(" "),Fe[1]===ge&&(_e=Ke[Me+" "+Fe[0]]||Ke["* "+Fe[0]],_e)){_e===!0?_e=Ke[pe]:Ke[pe]!==!0&&(ge=Fe[0],rt.unshift(Fe[1]));break}}if(_e!==!0)if(_e&&k.throws)U=_e(U);else try{U=_e(U)}catch(lt){return{state:"parsererror",error:_e?lt:"No conversion from "+Me+" to "+ge}}}}return{state:"success",data:U}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Kl.href,type:"GET",isLocal:Jg.test(Kl.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qh,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(k,U){return U?td(td(k,d.ajaxSettings),U):td(d.ajaxSettings,k)},ajaxPrefilter:Ql(Xh),ajaxTransport:Ql(Yl),ajax:function(k,U){typeof k=="object"&&(U=k,k=void 0),U=U||{};var te,se,pe,ge,_e,Fe,Me,Ke,rt,lt,Qe=d.ajaxSetup({},U),bt=Qe.context||Qe,Ht=Qe.context&&(bt.nodeType||bt.jquery)?d(bt):d.event,gr=d.Deferred(),Xt=d.Callbacks("once memory"),Wn=Qe.statusCode||{},En={},aa={},sa="canceled",vr={readyState:0,getResponseHeader:function(Ar){var Sn;if(Me){if(!ge)for(ge={};Sn=Kg.exec(pe);)ge[Sn[1].toLowerCase()+" "]=(ge[Sn[1].toLowerCase()+" "]||[]).concat(Sn[2]);Sn=ge[Ar.toLowerCase()+" "]}return Sn==null?null:Sn.join(", ")},getAllResponseHeaders:function(){return Me?pe:null},setRequestHeader:function(Ar,Sn){return Me==null&&(Ar=aa[Ar.toLowerCase()]=aa[Ar.toLowerCase()]||Ar,En[Ar]=Sn),this},overrideMimeType:function(Ar){return Me==null&&(Qe.mimeType=Ar),this},statusCode:function(Ar){var Sn;if(Ar)if(Me)vr.always(Ar[vr.status]);else for(Sn in Ar)Wn[Sn]=[Wn[Sn],Ar[Sn]];return this},abort:function(Ar){var Sn=Ar||sa;return te&&te.abort(Sn),sl(0,Sn),this}};if(gr.promise(vr),Qe.url=((k||Qe.url||Kl.href)+"").replace(Yh,Kl.protocol+"//"),Qe.type=U.method||U.type||Qe.method||Qe.type,Qe.dataTypes=(Qe.dataType||"*").toLowerCase().match(be)||[""],Qe.crossDomain==null){Fe=h.createElement("a");try{Fe.href=Qe.url,Fe.href=Fe.href,Qe.crossDomain=Xl.protocol+"//"+Xl.host!=Fe.protocol+"//"+Fe.host}catch{Qe.crossDomain=!0}}if(Qe.data&&Qe.processData&&typeof Qe.data!="string"&&(Qe.data=d.param(Qe.data,Qe.traditional)),ed(Xh,Qe,U,vr),Me)return vr;Ke=d.event&&Qe.global,Ke&&d.active++===0&&d.event.trigger("ajaxStart"),Qe.type=Qe.type.toUpperCase(),Qe.hasContent=!Jl.test(Qe.type),se=Qe.url.replace(Wg,""),Qe.hasContent?Qe.data&&Qe.processData&&(Qe.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Qe.data=Qe.data.replace(KE,"+")):(lt=Qe.url.slice(se.length),Qe.data&&(Qe.processData||typeof Qe.data=="string")&&(se+=(vc.test(se)?"&":"?")+Qe.data,delete Qe.data),Qe.cache===!1&&(se=se.replace(Gg,"$1"),lt=(vc.test(se)?"&":"?")+"_="+Jf.guid+++lt),Qe.url=se+lt),Qe.ifModified&&(d.lastModified[se]&&vr.setRequestHeader("If-Modified-Since",d.lastModified[se]),d.etag[se]&&vr.setRequestHeader("If-None-Match",d.etag[se])),(Qe.data&&Qe.hasContent&&Qe.contentType!==!1||U.contentType)&&vr.setRequestHeader("Content-Type",Qe.contentType),vr.setRequestHeader("Accept",Qe.dataTypes[0]&&Qe.accepts[Qe.dataTypes[0]]?Qe.accepts[Qe.dataTypes[0]]+(Qe.dataTypes[0]!=="*"?", "+Qh+"; q=0.01":""):Qe.accepts["*"]);for(rt in Qe.headers)vr.setRequestHeader(rt,Qe.headers[rt]);if(Qe.beforeSend&&(Qe.beforeSend.call(bt,vr,Qe)===!1||Me))return vr.abort();if(sa="abort",Xt.add(Qe.complete),vr.done(Qe.success),vr.fail(Qe.error),te=ed(Yl,Qe,U,vr),!te)sl(-1,"No Transport");else{if(vr.readyState=1,Ke&&Ht.trigger("ajaxSend",[vr,Qe]),Me)return vr;Qe.async&&Qe.timeout>0&&(_e=t.setTimeout(function(){vr.abort("timeout")},Qe.timeout));try{Me=!1,te.send(En,sl)}catch(Ar){if(Me)throw Ar;sl(-1,Ar)}}function sl(Ar,Sn,Zl,Gn){var Oi,eu,co,mi,gi,$n=Sn;Me||(Me=!0,_e&&t.clearTimeout(_e),te=void 0,pe=Gn||"",vr.readyState=Ar>0?4:0,Oi=Ar>=200&&Ar<300||Ar===304,Zl&&(mi=rd(Qe,vr,Zl)),!Oi&&d.inArray("script",Qe.dataTypes)>-1&&d.inArray("json",Qe.dataTypes)<0&&(Qe.converters["text script"]=function(){}),mi=Zh(Qe,mi,vr,Oi),Oi?(Qe.ifModified&&(gi=vr.getResponseHeader("Last-Modified"),gi&&(d.lastModified[se]=gi),gi=vr.getResponseHeader("etag"),gi&&(d.etag[se]=gi)),Ar===204||Qe.type==="HEAD"?$n="nocontent":Ar===304?$n="notmodified":($n=mi.state,eu=mi.data,co=mi.error,Oi=!co)):(co=$n,(Ar||!$n)&&($n="error",Ar<0&&(Ar=0))),vr.status=Ar,vr.statusText=(Sn||$n)+"",Oi?gr.resolveWith(bt,[eu,$n,vr]):gr.rejectWith(bt,[vr,$n,co]),vr.statusCode(Wn),Wn=void 0,Ke&&Ht.trigger(Oi?"ajaxSuccess":"ajaxError",[vr,Qe,Oi?eu:co]),Xt.fireWith(bt,[vr,$n]),Ke&&(Ht.trigger("ajaxComplete",[vr,Qe]),--d.active||d.event.trigger("ajaxStop")))}return vr},getJSON:function(k,U,te){return d.get(k,U,te,"json")},getScript:function(k,U){return d.get(k,void 0,U,"script")}}),d.each(["get","post"],function(k,U){d[U]=function(te,se,pe,ge){return _(se)&&(ge=ge||pe,pe=se,se=void 0),d.ajax(d.extend({url:te,type:U,dataType:ge,data:se,success:pe},d.isPlainObject(te)&&te))}}),d.ajaxPrefilter(function(k){var U;for(U in k.headers)U.toLowerCase()==="content-type"&&(k.contentType=k.headers[U]||"")}),d._evalUrl=function(k,U,te){return d.ajax({url:k,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(se){d.globalEval(se,U,te)}})},d.fn.extend({wrapAll:function(k){var U;return this[0]&&(_(k)&&(k=k.call(this[0])),U=d(k,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&U.insertBefore(this[0]),U.map(function(){for(var te=this;te.firstElementChild;)te=te.firstElementChild;return te}).append(this)),this},wrapInner:function(k){return _(k)?this.each(function(U){d(this).wrapInner(k.call(this,U))}):this.each(function(){var U=d(this),te=U.contents();te.length?te.wrapAll(k):U.append(k)})},wrap:function(k){var U=_(k);return this.each(function(te){d(this).wrapAll(U?k.call(this,te):k)})},unwrap:function(k){return this.parent(k).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(k){return!d.expr.pseudos.visible(k)},d.expr.pseudos.visible=function(k){return!!(k.offsetWidth||k.offsetHeight||k.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var al={0:200,1223:204},Ba=d.ajaxSettings.xhr();g.cors=!!Ba&&"withCredentials"in Ba,g.ajax=Ba=!!Ba,d.ajaxTransport(function(k){var U,te;if(g.cors||Ba&&!k.crossDomain)return{send:function(se,pe){var ge,_e=k.xhr();if(_e.open(k.type,k.url,k.async,k.username,k.password),k.xhrFields)for(ge in k.xhrFields)_e[ge]=k.xhrFields[ge];k.mimeType&&_e.overrideMimeType&&_e.overrideMimeType(k.mimeType),!k.crossDomain&&!se["X-Requested-With"]&&(se["X-Requested-With"]="XMLHttpRequest");for(ge in se)_e.setRequestHeader(ge,se[ge]);U=function(Fe){return function(){U&&(U=te=_e.onload=_e.onerror=_e.onabort=_e.ontimeout=_e.onreadystatechange=null,Fe==="abort"?_e.abort():Fe==="error"?typeof _e.status!="number"?pe(0,"error"):pe(_e.status,_e.statusText):pe(al[_e.status]||_e.status,_e.statusText,(_e.responseType||"text")!=="text"||typeof _e.responseText!="string"?{binary:_e.response}:{text:_e.responseText},_e.getAllResponseHeaders()))}},_e.onload=U(),te=_e.onerror=_e.ontimeout=U("error"),_e.onabort!==void 0?_e.onabort=te:_e.onreadystatechange=function(){_e.readyState===4&&t.setTimeout(function(){U&&te()})},U=U("abort");try{_e.send(k.hasContent&&k.data||null)}catch(Fe){if(U)throw Fe}},abort:function(){U&&U()}}}),d.ajaxPrefilter(function(k){k.crossDomain&&(k.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(k){return d.globalEval(k),k}}}),d.ajaxPrefilter("script",function(k){k.cache===void 0&&(k.cache=!1),k.crossDomain&&(k.type="GET")}),d.ajaxTransport("script",function(k){if(k.crossDomain||k.scriptAttrs){var U,te;return{send:function(se,pe){U=d("<script>").attr(k.scriptAttrs||{}).prop({charset:k.scriptCharset,src:k.url}).on("load error",te=function(ge){U.remove(),te=null,ge&&pe(ge.type==="error"?404:200,ge.type)}),h.head.appendChild(U[0])},abort:function(){te&&te()}}}});var yc=[],nd=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var k=yc.pop()||d.expando+"_"+Jf.guid++;return this[k]=!0,k}}),d.ajaxPrefilter("json jsonp",function(k,U,te){var se,pe,ge,_e=k.jsonp!==!1&&(nd.test(k.url)?"url":typeof k.data=="string"&&(k.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&nd.test(k.data)&&"data");if(_e||k.dataTypes[0]==="jsonp")return se=k.jsonpCallback=_(k.jsonpCallback)?k.jsonpCallback():k.jsonpCallback,_e?k[_e]=k[_e].replace(nd,"$1"+se):k.jsonp!==!1&&(k.url+=(vc.test(k.url)?"&":"?")+k.jsonp+"="+se),k.converters["script json"]=function(){return ge||d.error(se+" was not called"),ge[0]},k.dataTypes[0]="json",pe=t[se],t[se]=function(){ge=arguments},te.always(function(){pe===void 0?d(t).removeProp(se):t[se]=pe,k[se]&&(k.jsonpCallback=U.jsonpCallback,yc.push(se)),ge&&_(pe)&&pe(ge[0]),ge=pe=void 0}),"script"}),g.createHTMLDocument=function(){var k=h.implementation.createHTMLDocument("").body;return k.innerHTML="<form></form><form></form>",k.childNodes.length===2}(),d.parseHTML=function(k,U,te){if(typeof k!="string")return[];typeof U=="boolean"&&(te=U,U=!1);var se,pe,ge;return U||(g.createHTMLDocument?(U=h.implementation.createHTMLDocument(""),se=U.createElement("base"),se.href=h.location.href,U.head.appendChild(se)):U=h),pe=K.exec(k),ge=!te&&[],pe?[U.createElement(pe[1])]:(pe=dt([k],U,ge),ge&&ge.length&&d(ge).remove(),d.merge([],pe.childNodes))},d.fn.load=function(k,U,te){var se,pe,ge,_e=this,Fe=k.indexOf(" ");return Fe>-1&&(se=ws(k.slice(Fe)),k=k.slice(0,Fe)),_(U)?(te=U,U=void 0):U&&typeof U=="object"&&(pe="POST"),_e.length>0&&d.ajax({url:k,type:pe||"GET",dataType:"html",data:U}).done(function(Me){ge=arguments,_e.html(se?d("<div>").append(d.parseHTML(Me)).find(se):Me)}).always(te&&function(Me,Ke){_e.each(function(){te.apply(this,ge||[Me.responseText,Ke,Me])})}),this},d.expr.pseudos.animated=function(k){return d.grep(d.timers,function(U){return k===U.elem}).length},d.offset={setOffset:function(k,U,te){var se,pe,ge,_e,Fe,Me,Ke,rt=d.css(k,"position"),lt=d(k),Qe={};rt==="static"&&(k.style.position="relative"),Fe=lt.offset(),ge=d.css(k,"top"),Me=d.css(k,"left"),Ke=(rt==="absolute"||rt==="fixed")&&(ge+Me).indexOf("auto")>-1,Ke?(se=lt.position(),_e=se.top,pe=se.left):(_e=parseFloat(ge)||0,pe=parseFloat(Me)||0),_(U)&&(U=U.call(k,te,d.extend({},Fe))),U.top!=null&&(Qe.top=U.top-Fe.top+_e),U.left!=null&&(Qe.left=U.left-Fe.left+pe),"using"in U?U.using.call(k,Qe):lt.css(Qe)}},d.fn.extend({offset:function(k){if(arguments.length)return k===void 0?this:this.each(function(pe){d.offset.setOffset(this,k,pe)});var U,te,se=this[0];if(se)return se.getClientRects().length?(U=se.getBoundingClientRect(),te=se.ownerDocument.defaultView,{top:U.top+te.pageYOffset,left:U.left+te.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var k,U,te,se=this[0],pe={top:0,left:0};if(d.css(se,"position")==="fixed")U=se.getBoundingClientRect();else{for(U=this.offset(),te=se.ownerDocument,k=se.offsetParent||te.documentElement;k&&(k===te.body||k===te.documentElement)&&d.css(k,"position")==="static";)k=k.parentNode;k&&k!==se&&k.nodeType===1&&(pe=d(k).offset(),pe.top+=d.css(k,"borderTopWidth",!0),pe.left+=d.css(k,"borderLeftWidth",!0))}return{top:U.top-pe.top-d.css(se,"marginTop",!0),left:U.left-pe.left-d.css(se,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var k=this.offsetParent;k&&d.css(k,"position")==="static";)k=k.offsetParent;return k||Le})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(k,U){var te=U==="pageYOffset";d.fn[k]=function(se){return de(this,function(pe,ge,_e){var Fe;if(v(pe)?Fe=pe:pe.nodeType===9&&(Fe=pe.defaultView),_e===void 0)return Fe?Fe[U]:pe[ge];Fe?Fe.scrollTo(te?Fe.pageXOffset:_e,te?_e:Fe.pageYOffset):pe[ge]=_e},k,se,arguments.length)}}),d.each(["top","left"],function(k,U){d.cssHooks[U]=Kr(g.pixelPosition,function(te,se){if(se)return se=Ft(te,U),Rt.test(se)?d(te).position()[U]+"px":se})}),d.each({Height:"height",Width:"width"},function(k,U){d.each({padding:"inner"+k,content:U,"":"outer"+k},function(te,se){d.fn[se]=function(pe,ge){var _e=arguments.length&&(te||typeof pe!="boolean"),Fe=te||(pe===!0||ge===!0?"margin":"border");return de(this,function(Me,Ke,rt){var lt;return v(Me)?se.indexOf("outer")===0?Me["inner"+k]:Me.document.documentElement["client"+k]:Me.nodeType===9?(lt=Me.documentElement,Math.max(Me.body["scroll"+k],lt["scroll"+k],Me.body["offset"+k],lt["offset"+k],lt["client"+k])):rt===void 0?d.css(Me,Ke,Fe):d.style(Me,Ke,rt,Fe)},U,_e?pe:void 0,_e)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(k,U){d.fn[U]=function(te){return this.on(U,te)}}),d.fn.extend({bind:function(k,U,te){return this.on(k,null,U,te)},unbind:function(k,U){return this.off(k,null,U)},delegate:function(k,U,te,se){return this.on(U,k,te,se)},undelegate:function(k,U,te){return arguments.length===1?this.off(k,"**"):this.off(U,k||"**",te)},hover:function(k,U){return this.on("mouseenter",k).on("mouseleave",U||k)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(k,U){d.fn[U]=function(te,se){return arguments.length>0?this.on(U,null,te,se):this.trigger(U)}});var ep=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(k,U){var te,se,pe;if(typeof U=="string"&&(te=k[U],U=k,k=te),!!_(k))return se=o.call(arguments,2),pe=function(){return k.apply(U||this,se.concat(o.call(arguments)))},pe.guid=k.guid=k.guid||d.guid++,pe},d.holdReady=function(k){k?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=x,d.isFunction=_,d.isWindow=v,d.camelCase=je,d.type=S,d.now=Date.now,d.isNumeric=function(k){var U=d.type(k);return(U==="number"||U==="string")&&!isNaN(k-parseFloat(k))},d.trim=function(k){return k==null?"":(k+"").replace(ep,"$1")};var Yg=t.jQuery,id=t.$;return d.noConflict=function(k){return t.$===d&&(t.$=id),k&&t.jQuery===d&&(t.jQuery=Yg),d},typeof r>"u"&&(t.jQuery=t.$=d),d})}(a1)),a1.exports}(function(e){(function(t){var r=typeof self=="object"&&self.self===self&&self||typeof xa=="object"&&xa.global===xa&&xa;{var n=coe,i;try{i=s9()}catch{}t(r,e,n,i)}})(function(t,r,n,i){var o=t.Backbone,a=Array.prototype.slice;r.VERSION="1.4.1",r.$=i,r.noConflict=function(){return t.Backbone=o,this},r.emulateHTTP=!1,r.emulateJSON=!1;var s=r.Events={},l=/\s+/,u,f=function(D,G,ie,ue,de){var ve=0,Ne;if(ie&&typeof ie=="object")for(ue!==void 0&&("context"in de)&&de.context===void 0&&(de.context=ue),Ne=n.keys(ie);ve<Ne.length;ve++)G=f(D,G,Ne[ve],ie[Ne[ve]],de);else if(ie&&l.test(ie))for(Ne=ie.split(l);ve<Ne.length;ve++)G=D(G,Ne[ve],ue,de);else G=D(G,ie,ue,de);return G};s.on=function(D,G,ie){if(this._events=f(c,this._events||{},D,G,{context:ie,ctx:this,listening:u}),u){var ue=this._listeners||(this._listeners={});ue[u.id]=u,u.interop=!1}return this},s.listenTo=function(D,G,ie){if(!D)return this;var ue=D._listenId||(D._listenId=n.uniqueId("l")),de=this._listeningTo||(this._listeningTo={}),ve=u=de[ue];ve||(this._listenId||(this._listenId=n.uniqueId("l")),ve=u=de[ue]=new h(this,D));var Ne=p(D,G,ie,this);if(u=void 0,Ne)throw Ne;return ve.interop&&ve.on(G,ie),this};var c=function(D,G,ie,ue){if(ie){var de=D[G]||(D[G]=[]),ve=ue.context,Ne=ue.ctx,Be=ue.listening;Be&&Be.count++,de.push({callback:ie,context:ve,ctx:ve||Ne,listening:Be})}return D},p=function(D,G,ie,ue){try{D.on(G,ie,ue)}catch(de){return de}};s.off=function(D,G,ie){return this._events?(this._events=f(m,this._events,D,G,{context:ie,listeners:this._listeners}),this):this},s.stopListening=function(D,G,ie){var ue=this._listeningTo;if(!ue)return this;for(var de=D?[D._listenId]:n.keys(ue),ve=0;ve<de.length;ve++){var Ne=ue[de[ve]];if(!Ne)break;Ne.obj.off(G,ie,this),Ne.interop&&Ne.off(G,ie)}return n.isEmpty(ue)&&(this._listeningTo=void 0),this};var m=function(D,G,ie,ue){if(D){var de=ue.context,ve=ue.listeners,Ne=0,Be;if(!G&&!de&&!ie){for(Be=n.keys(ve);Ne<Be.length;Ne++)ve[Be[Ne]].cleanup();return}for(Be=G?[G]:n.keys(D);Ne<Be.length;Ne++){G=Be[Ne];var je=D[G];if(!je)break;for(var nt=[],We=0;We<je.length;We++){var Ue=je[We];if(ie&&ie!==Ue.callback&&ie!==Ue.callback._callback||de&&de!==Ue.context)nt.push(Ue);else{var W=Ue.listening;W&&W.off(G,ie)}}nt.length?D[G]=nt:delete D[G]}return D}};s.once=function(D,G,ie){var ue=f(g,{},D,G,this.off.bind(this));return typeof D=="string"&&ie==null&&(G=void 0),this.on(ue,G,ie)},s.listenToOnce=function(D,G,ie){var ue=f(g,{},G,ie,this.stopListening.bind(this,D));return this.listenTo(D,ue)};var g=function(D,G,ie,ue){if(ie){var de=D[G]=n.once(function(){ue(G,de),ie.apply(this,arguments)});de._callback=ie}return D};s.trigger=function(D){if(!this._events)return this;for(var G=Math.max(0,arguments.length-1),ie=Array(G),ue=0;ue<G;ue++)ie[ue]=arguments[ue+1];return f(_,this._events,D,void 0,ie),this};var _=function(D,G,ie,ue){if(D){var de=D[G],ve=D.all;de&&ve&&(ve=ve.slice()),de&&v(de,ue),ve&&v(ve,[G].concat(ue))}return D},v=function(D,G){var ie,ue=-1,de=D.length,ve=G[0],Ne=G[1],Be=G[2];switch(G.length){case 0:for(;++ue<de;)(ie=D[ue]).callback.call(ie.ctx);return;case 1:for(;++ue<de;)(ie=D[ue]).callback.call(ie.ctx,ve);return;case 2:for(;++ue<de;)(ie=D[ue]).callback.call(ie.ctx,ve,Ne);return;case 3:for(;++ue<de;)(ie=D[ue]).callback.call(ie.ctx,ve,Ne,Be);return;default:for(;++ue<de;)(ie=D[ue]).callback.apply(ie.ctx,G);return}},h=function(D,G){this.id=D._listenId,this.listener=D,this.obj=G,this.interop=!0,this.count=0,this._events=void 0};h.prototype.on=s.on,h.prototype.off=function(D,G){var ie;this.interop?(this._events=f(m,this._events,D,G,{context:void 0,listeners:void 0}),ie=!this._events):(this.count--,ie=this.count===0),ie&&this.cleanup()},h.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,n.extend(r,s);var E=r.Model=function(D,G){var ie=D||{};G||(G={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},G.collection&&(this.collection=G.collection),G.parse&&(ie=this.parse(ie,G)||{});var ue=n.result(this,"defaults");ie=n.defaults(n.extend({},ue,ie),ue),this.set(ie,G),this.changed={},this.initialize.apply(this,arguments)};n.extend(E.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(D){return n.clone(this.attributes)},sync:function(){return r.sync.apply(this,arguments)},get:function(D){return this.attributes[D]},escape:function(D){return n.escape(this.get(D))},has:function(D){return this.get(D)!=null},matches:function(D){return!!n.iteratee(D,this)(this.attributes)},set:function(D,G,ie){if(D==null)return this;var ue;if(typeof D=="object"?(ue=D,ie=G):(ue={})[D]=G,ie||(ie={}),!this._validate(ue,ie))return!1;var de=ie.unset,ve=ie.silent,Ne=[],Be=this._changing;this._changing=!0,Be||(this._previousAttributes=n.clone(this.attributes),this.changed={});var je=this.attributes,nt=this.changed,We=this._previousAttributes;for(var Ue in ue)G=ue[Ue],n.isEqual(je[Ue],G)||Ne.push(Ue),n.isEqual(We[Ue],G)?delete nt[Ue]:nt[Ue]=G,de?delete je[Ue]:je[Ue]=G;if(this.idAttribute in ue){var W=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,W,ie)}if(!ve){Ne.length&&(this._pending=ie);for(var I=0;I<Ne.length;I++)this.trigger("change:"+Ne[I],this,je[Ne[I]],ie)}if(Be)return this;if(!ve)for(;this._pending;)ie=this._pending,this._pending=!1,this.trigger("change",this,ie);return this._pending=!1,this._changing=!1,this},unset:function(D,G){return this.set(D,void 0,n.extend({},G,{unset:!0}))},clear:function(D){var G={};for(var ie in this.attributes)G[ie]=void 0;return this.set(G,n.extend({},D,{unset:!0}))},hasChanged:function(D){return D==null?!n.isEmpty(this.changed):n.has(this.changed,D)},changedAttributes:function(D){if(!D)return this.hasChanged()?n.clone(this.changed):!1;var G=this._changing?this._previousAttributes:this.attributes,ie={},ue;for(var de in D){var ve=D[de];n.isEqual(G[de],ve)||(ie[de]=ve,ue=!0)}return ue?ie:!1},previous:function(D){return D==null||!this._previousAttributes?null:this._previousAttributes[D]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(D){D=n.extend({parse:!0},D);var G=this,ie=D.success;return D.success=function(ue){var de=D.parse?G.parse(ue,D):ue;if(!G.set(de,D))return!1;ie&&ie.call(D.context,G,ue,D),G.trigger("sync",G,ue,D)},C(this,D),this.sync("read",this,D)},save:function(D,G,ie){var ue;D==null||typeof D=="object"?(ue=D,ie=G):(ue={})[D]=G,ie=n.extend({validate:!0,parse:!0},ie);var de=ie.wait;if(ue&&!de){if(!this.set(ue,ie))return!1}else if(!this._validate(ue,ie))return!1;var ve=this,Ne=ie.success,Be=this.attributes;ie.success=function(We){ve.attributes=Be;var Ue=ie.parse?ve.parse(We,ie):We;if(de&&(Ue=n.extend({},ue,Ue)),Ue&&!ve.set(Ue,ie))return!1;Ne&&Ne.call(ie.context,ve,We,ie),ve.trigger("sync",ve,We,ie)},C(this,ie),ue&&de&&(this.attributes=n.extend({},Be,ue));var je=this.isNew()?"create":ie.patch?"patch":"update";je==="patch"&&!ie.attrs&&(ie.attrs=ue);var nt=this.sync(je,this,ie);return this.attributes=Be,nt},destroy:function(D){D=D?n.clone(D):{};var G=this,ie=D.success,ue=D.wait,de=function(){G.stopListening(),G.trigger("destroy",G,G.collection,D)};D.success=function(Ne){ue&&de(),ie&&ie.call(D.context,G,Ne,D),G.isNew()||G.trigger("sync",G,Ne,D)};var ve=!1;return this.isNew()?n.defer(D.success):(C(this,D),ve=this.sync("delete",this,D)),ue||de(),ve},url:function(){var D=n.result(this,"urlRoot")||n.result(this.collection,"url")||R();if(this.isNew())return D;var G=this.get(this.idAttribute);return D.replace(/[^\/]$/,"$&/")+encodeURIComponent(G)},parse:function(D,G){return D},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(D){return this._validate({},n.extend({},D,{validate:!0}))},_validate:function(D,G){if(!G.validate||!this.validate)return!0;D=n.extend({},this.attributes,D);var ie=this.validationError=this.validate(D,G)||null;return ie?(this.trigger("invalid",this,ie,n.extend(G,{validationError:ie})),!1):!0}});var y=r.Collection=function(D,G){G||(G={}),this.preinitialize.apply(this,arguments),G.model&&(this.model=G.model),G.comparator!==void 0&&(this.comparator=G.comparator),this._reset(),this.initialize.apply(this,arguments),D&&this.reset(D,n.extend({silent:!0},G))},S={add:!0,remove:!0,merge:!0},$={add:!0,remove:!1},T=function(D,G,ie){ie=Math.min(Math.max(ie,0),D.length);var ue=Array(D.length-ie),de=G.length,ve;for(ve=0;ve<ue.length;ve++)ue[ve]=D[ve+ie];for(ve=0;ve<de;ve++)D[ve+ie]=G[ve];for(ve=0;ve<ue.length;ve++)D[ve+de+ie]=ue[ve]};n.extend(y.prototype,s,{model:E,preinitialize:function(){},initialize:function(){},toJSON:function(D){return this.map(function(G){return G.toJSON(D)})},sync:function(){return r.sync.apply(this,arguments)},add:function(D,G){return this.set(D,n.extend({merge:!1},G,$))},remove:function(D,G){G=n.extend({},G);var ie=!n.isArray(D);D=ie?[D]:D.slice();var ue=this._removeModels(D,G);return!G.silent&&ue.length&&(G.changes={added:[],merged:[],removed:ue},this.trigger("update",this,G)),ie?ue[0]:ue},set:function(D,G){if(D!=null){G=n.extend({},S,G),G.parse&&!this._isModel(D)&&(D=this.parse(D,G)||[]);var ie=!n.isArray(D);D=ie?[D]:D.slice();var ue=G.at;ue!=null&&(ue=+ue),ue>this.length&&(ue=this.length),ue<0&&(ue+=this.length+1);var de=[],ve=[],Ne=[],Be=[],je={},nt=G.add,We=G.merge,Ue=G.remove,W=!1,I=this.comparator&&ue==null&&G.sort!==!1,L=n.isString(this.comparator)?this.comparator:null,re,ye;for(ye=0;ye<D.length;ye++){re=D[ye];var Ee=this.get(re);if(Ee){if(We&&re!==Ee){var Ce=this._isModel(re)?re.attributes:re;G.parse&&(Ce=Ee.parse(Ce,G)),Ee.set(Ce,G),Ne.push(Ee),I&&!W&&(W=Ee.hasChanged(L))}je[Ee.cid]||(je[Ee.cid]=!0,de.push(Ee)),D[ye]=Ee}else nt&&(re=D[ye]=this._prepareModel(re,G),re&&(ve.push(re),this._addReference(re,G),je[re.cid]=!0,de.push(re)))}if(Ue){for(ye=0;ye<this.length;ye++)re=this.models[ye],je[re.cid]||Be.push(re);Be.length&&this._removeModels(Be,G)}var Re=!1,Le=!I&&nt&&Ue;if(de.length&&Le?(Re=this.length!==de.length||n.some(this.models,function(ft,yt){return ft!==de[yt]}),this.models.length=0,T(this.models,de,0),this.length=this.models.length):ve.length&&(I&&(W=!0),T(this.models,ve,ue??this.length),this.length=this.models.length),W&&this.sort({silent:!0}),!G.silent){for(ye=0;ye<ve.length;ye++)ue!=null&&(G.index=ue+ye),re=ve[ye],re.trigger("add",re,this,G);(W||Re)&&this.trigger("sort",this,G),(ve.length||Be.length||Ne.length)&&(G.changes={added:ve,removed:Be,merged:Ne},this.trigger("update",this,G))}return ie?D[0]:D}},reset:function(D,G){G=G?n.clone(G):{};for(var ie=0;ie<this.models.length;ie++)this._removeReference(this.models[ie],G);return G.previousModels=this.models,this._reset(),D=this.add(D,n.extend({silent:!0},G)),G.silent||this.trigger("reset",this,G),D},push:function(D,G){return this.add(D,n.extend({at:this.length},G))},pop:function(D){var G=this.at(this.length-1);return this.remove(G,D)},unshift:function(D,G){return this.add(D,n.extend({at:0},G))},shift:function(D){var G=this.at(0);return this.remove(G,D)},slice:function(){return a.apply(this.models,arguments)},get:function(D){if(D!=null)return this._byId[D]||this._byId[this.modelId(this._isModel(D)?D.attributes:D,D.idAttribute)]||D.cid&&this._byId[D.cid]},has:function(D){return this.get(D)!=null},at:function(D){return D<0&&(D+=this.length),this.models[D]},where:function(D,G){return this[G?"find":"filter"](D)},findWhere:function(D){return this.where(D,!0)},sort:function(D){var G=this.comparator;if(!G)throw new Error("Cannot sort a set without a comparator");D||(D={});var ie=G.length;return n.isFunction(G)&&(G=G.bind(this)),ie===1||n.isString(G)?this.models=this.sortBy(G):this.models.sort(G),D.silent||this.trigger("sort",this,D),this},pluck:function(D){return this.map(D+"")},fetch:function(D){D=n.extend({parse:!0},D);var G=D.success,ie=this;return D.success=function(ue){var de=D.reset?"reset":"set";ie[de](ue,D),G&&G.call(D.context,ie,ue,D),ie.trigger("sync",ie,ue,D)},C(this,D),this.sync("read",this,D)},create:function(D,G){G=G?n.clone(G):{};var ie=G.wait;if(D=this._prepareModel(D,G),!D)return!1;ie||this.add(D,G);var ue=this,de=G.success;return G.success=function(ve,Ne,Be){ie&&ue.add(ve,Be),de&&de.call(Be.context,ve,Ne,Be)},D.save(null,G),D},parse:function(D,G){return D},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(D,G){return D[G||this.model.prototype.idAttribute||"id"]},values:function(){return new A(this,x)},keys:function(){return new A(this,P)},entries:function(){return new A(this,j)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(D,G){if(this._isModel(D))return D.collection||(D.collection=this),D;G=G?n.clone(G):{},G.collection=this;var ie;return this.model.prototype?ie=new this.model(D,G):ie=this.model(D,G),ie.validationError?(this.trigger("invalid",this,ie.validationError,G),!1):ie},_removeModels:function(D,G){for(var ie=[],ue=0;ue<D.length;ue++){var de=this.get(D[ue]);if(de){var ve=this.indexOf(de);this.models.splice(ve,1),this.length--,delete this._byId[de.cid];var Ne=this.modelId(de.attributes,de.idAttribute);Ne!=null&&delete this._byId[Ne],G.silent||(G.index=ve,de.trigger("remove",de,this,G)),ie.push(de),this._removeReference(de,G)}}return ie},_isModel:function(D){return D instanceof E},_addReference:function(D,G){this._byId[D.cid]=D;var ie=this.modelId(D.attributes,D.idAttribute);ie!=null&&(this._byId[ie]=D),D.on("all",this._onModelEvent,this)},_removeReference:function(D,G){delete this._byId[D.cid];var ie=this.modelId(D.attributes,D.idAttribute);ie!=null&&delete this._byId[ie],this===D.collection&&delete D.collection,D.off("all",this._onModelEvent,this)},_onModelEvent:function(D,G,ie,ue){if(G){if((D==="add"||D==="remove")&&ie!==this)return;if(D==="destroy"&&this.remove(G,ue),D==="changeId"){var de=this.modelId(G.previousAttributes(),G.idAttribute),ve=this.modelId(G.attributes,G.idAttribute);de!=null&&delete this._byId[de],ve!=null&&(this._byId[ve]=G)}}this.trigger.apply(this,arguments)}});var d=typeof Symbol=="function"&&Symbol.iterator;d&&(y.prototype[d]=y.prototype.values);var A=function(D,G){this._collection=D,this._kind=G,this._index=0},x=1,P=2,j=3;d&&(A.prototype[d]=function(){return this}),A.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var D=this._collection.at(this._index);this._index++;var G;if(this._kind===x)G=D;else{var ie=this._collection.modelId(D.attributes,D.idAttribute);this._kind===P?G=ie:G=[ie,D]}return{value:G,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var F=r.View=function(D){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(D,X)),this._ensureElement(),this.initialize.apply(this,arguments)},V=/^(\S+)\s*(.*)$/,X=["model","collection","el","id","attributes","className","tagName","events"];n.extend(F.prototype,s,{tagName:"div",$:function(D){return this.$el.find(D)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(D){return this.undelegateEvents(),this._setElement(D),this.delegateEvents(),this},_setElement:function(D){this.$el=D instanceof r.$?D:r.$(D),this.el=this.$el[0]},delegateEvents:function(D){if(D||(D=n.result(this,"events")),!D)return this;this.undelegateEvents();for(var G in D){var ie=D[G];if(n.isFunction(ie)||(ie=this[ie]),!!ie){var ue=G.match(V);this.delegate(ue[1],ue[2],ie.bind(this))}}return this},delegate:function(D,G,ie){return this.$el.on(D+".delegateEvents"+this.cid,G,ie),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(D,G,ie){return this.$el.off(D+".delegateEvents"+this.cid,G,ie),this},_createElement:function(D){return document.createElement(D)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var D=n.extend({},n.result(this,"attributes"));this.id&&(D.id=n.result(this,"id")),this.className&&(D.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(D)}},_setAttributes:function(D){this.$el.attr(D)}});var H=function(D,G,ie,ue){switch(G){case 1:return function(){return D[ie](this[ue])};case 2:return function(de){return D[ie](this[ue],de)};case 3:return function(de,ve){return D[ie](this[ue],fe(de,this),ve)};case 4:return function(de,ve,Ne){return D[ie](this[ue],fe(de,this),ve,Ne)};default:return function(){var de=a.call(arguments);return de.unshift(this[ue]),D[ie].apply(D,de)}}},Z=function(D,G,ie,ue){n.each(ie,function(de,ve){G[ve]&&(D.prototype[ve]=H(G,de,ve,ue))})},fe=function(D,G){return n.isFunction(D)?D:n.isObject(D)&&!G._isModel(D)?ee(D):n.isString(D)?function(ie){return ie.get(D)}:D},ee=function(D){var G=n.matches(D);return function(ie){return G(ie.attributes)}},ae={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},M={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[y,ae,"models"],[E,M,"attributes"]],function(D){var G=D[0],ie=D[1],ue=D[2];G.mixin=function(de){var ve=n.reduce(n.functions(de),function(Ne,Be){return Ne[Be]=0,Ne},{});Z(G,de,ve,ue)},Z(G,n,ie,ue)}),r.sync=function(D,G,ie){var ue=B[D];n.defaults(ie||(ie={}),{emulateHTTP:r.emulateHTTP,emulateJSON:r.emulateJSON});var de={type:ue,dataType:"json"};if(ie.url||(de.url=n.result(G,"url")||R()),ie.data==null&&G&&(D==="create"||D==="update"||D==="patch")&&(de.contentType="application/json",de.data=JSON.stringify(ie.attrs||G.toJSON(ie))),ie.emulateJSON&&(de.contentType="application/x-www-form-urlencoded",de.data=de.data?{model:de.data}:{}),ie.emulateHTTP&&(ue==="PUT"||ue==="DELETE"||ue==="PATCH")){de.type="POST",ie.emulateJSON&&(de.data._method=ue);var ve=ie.beforeSend;ie.beforeSend=function(je){if(je.setRequestHeader("X-HTTP-Method-Override",ue),ve)return ve.apply(this,arguments)}}de.type!=="GET"&&!ie.emulateJSON&&(de.processData=!1);var Ne=ie.error;ie.error=function(je,nt,We){ie.textStatus=nt,ie.errorThrown=We,Ne&&Ne.call(ie.context,je,nt,We)};var Be=ie.xhr=r.ajax(n.extend(de,ie));return G.trigger("request",G,Be,ie),Be};var B={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};r.ajax=function(){return r.$.ajax.apply(r.$,arguments)};var K=r.Router=function(D){D||(D={}),this.preinitialize.apply(this,arguments),D.routes&&(this.routes=D.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,q=/\*\w+/g,ne=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(K.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(D,G,ie){n.isRegExp(D)||(D=this._routeToRegExp(D)),n.isFunction(G)&&(ie=G,G=""),ie||(ie=this[G]);var ue=this;return r.history.route(D,function(de){var ve=ue._extractParameters(D,de);ue.execute(ie,ve,G)!==!1&&(ue.trigger.apply(ue,["route:"+G].concat(ve)),ue.trigger("route",G,ve),r.history.trigger("route",ue,G,ve))}),this},execute:function(D,G,ie){D&&D.apply(this,G)},navigate:function(D,G){return r.history.navigate(D,G),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var D,G=n.keys(this.routes);(D=G.pop())!=null;)this.route(D,this.routes[D])}},_routeToRegExp:function(D){return D=D.replace(ne,"\\$&").replace(O,"(?:$1)?").replace(N,function(G,ie){return ie?G:"([^/?]+)"}).replace(q,"([^?]*?)"),new RegExp("^"+D+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(D,G){var ie=D.exec(G).slice(1);return n.map(ie,function(ue,de){return de===ie.length-1?ue||null:ue?decodeURIComponent(ue):null})}});var J=r.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Y=/^[#\/]|\s+$/g,oe=/^\/+|\/+$/g,be=/#.*$/;J.started=!1,n.extend(J.prototype,s,{interval:50,atRoot:function(){var D=this.location.pathname.replace(/[^\/]$/,"$&/");return D===this.root&&!this.getSearch()},matchRoot:function(){var D=this.decodeFragment(this.location.pathname),G=D.slice(0,this.root.length-1)+"/";return G===this.root},decodeFragment:function(D){return decodeURI(D.replace(/%25/g,"%2525"))},getSearch:function(){var D=this.location.href.replace(/#.*/,"").match(/\?.+/);return D?D[0]:""},getHash:function(D){var G=(D||this).location.href.match(/#(.*)$/);return G?G[1]:""},getPath:function(){var D=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return D.charAt(0)==="/"?D.slice(1):D},getFragment:function(D){return D==null&&(this._usePushState||!this._wantsHashChange?D=this.getPath():D=this.getHash()),D.replace(Y,"")},start:function(D){if(J.started)throw new Error("Backbone.history has already been started");if(J.started=!0,this.options=n.extend({root:"/"},this.options,D),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(oe,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var G=this.root.slice(0,-1)||"/";return this.location.replace(G+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var ie=document.body,ue=ie.insertBefore(this.iframe,ie.firstChild).contentWindow;ue.document.open(),ue.document.close(),ue.location.hash="#"+this.fragment}var de=window.addEventListener||function(ve,Ne){return attachEvent("on"+ve,Ne)};if(this._usePushState?de("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?de("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var D=window.removeEventListener||function(G,ie){return detachEvent("on"+G,ie)};this._usePushState?D("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&D("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),J.started=!1},route:function(D,G){this.handlers.unshift({route:D,callback:G})},checkUrl:function(D){var G=this.getFragment();if(G===this.fragment&&this.iframe&&(G=this.getHash(this.iframe.contentWindow)),G===this.fragment)return!1;this.iframe&&this.navigate(G),this.loadUrl()},loadUrl:function(D){return this.matchRoot()?(D=this.fragment=this.getFragment(D),n.some(this.handlers,function(G){if(G.route.test(D))return G.callback(D),!0})):!1},navigate:function(D,G){if(!J.started)return!1;(!G||G===!0)&&(G={trigger:!!G}),D=this.getFragment(D||"");var ie=this.root;(D===""||D.charAt(0)==="?")&&(ie=ie.slice(0,-1)||"/");var ue=ie+D;D=D.replace(be,"");var de=this.decodeFragment(D);if(this.fragment!==de){if(this.fragment=de,this._usePushState)this.history[G.replace?"replaceState":"pushState"]({},document.title,ue);else if(this._wantsHashChange){if(this._updateHash(this.location,D,G.replace),this.iframe&&D!==this.getHash(this.iframe.contentWindow)){var ve=this.iframe.contentWindow;G.replace||(ve.document.open(),ve.document.close()),this._updateHash(ve.location,D,G.replace)}}else return this.location.assign(ue);if(G.trigger)return this.loadUrl(D)}},_updateHash:function(D,G,ie){if(ie){var ue=D.href.replace(/(javascript:|#).*$/,"");D.replace(ue+"#"+G)}else D.hash="#"+G}}),r.history=new J;var Oe=function(D,G){var ie=this,ue;return D&&n.has(D,"constructor")?ue=D.constructor:ue=function(){return ie.apply(this,arguments)},n.extend(ue,ie,G),ue.prototype=n.create(ie.prototype,D),ue.prototype.constructor=ue,ue.__super__=ie.prototype,ue};E.extend=y.extend=K.extend=F.extend=J.extend=Oe;var R=function(){throw new Error('A "url" property or function must be specified')},C=function(D,G){var ie=G.error;G.error=function(ue){ie&&ie.call(G.context,D,ue,G),D.trigger("error",D,ue,G)}};return r})})(CV);const Li=jf(CV);var foe=s9();const Lr=jf(foe),at=function(){var e=typeof window=="object"&&!!window.SVGAngle;if(!e)return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},r="1.1",n=Math,i=n.PI,o=n.atan2,a=n.sqrt,s=n.min,l=n.max,u=n.cos,f=n.sin,c=function(d,A,x){if(!(this instanceof c))return c.apply(Object.create(c.prototype),arguments);if(d){if(c.isV(d)&&(d=d.node),A=A||{},c.isString(d)){if(d=d.trim(),d.toLowerCase()==="svg")d=c.createSvgDocument();else if(d[0]==="<"){var P=c.createSvgDocument(d);if(P.childNodes.length>1){var j=[],F,V;for(F=0,V=P.childNodes.length;F<V;F++){var X=P.childNodes[F];j.push(new c(document.importNode(X,!0)))}return j}d=document.importNode(P.firstChild,!0)}else d=document.createElementNS(t.svg,d);c.ensureId(d)}return this.node=d,this.setAttributes(A),x&&this.append(x),this}},p=c.prototype;Object.defineProperty(p,"id",{enumerable:!0,get:function(){return this.node.id},set:function(d){this.node.id=d}}),p.getTransformToElement=function(d){var A=this.node;if(c.isSVGGraphicsElement(d)&&c.isSVGGraphicsElement(A)){var x=c.toNode(d).getScreenCTM(),P=A.getScreenCTM();if(x&&P)return x.inverse().multiply(P)}return c.createSVGMatrix()},p.transform=function(d,A){var x=this.node;if(c.isUndefined(d))return c.transformStringToMatrix(this.attr("transform"));if(A&&A.absolute)return this.attr("transform",c.matrixToTransformString(d));var P=c.createSVGTransform(d);return x.transform.baseVal.appendItem(P),this},p.translate=function(d,A,x){x=x||{},A=A||0;var P=this.attr("transform")||"",j=c.parseTransformString(P);if(P=j.value,c.isUndefined(d))return j.translate;P=P.replace(/translate\([^)]*\)/g,"").trim();var F=x.absolute?d:j.translate.tx+d,V=x.absolute?A:j.translate.ty+A,X="translate("+F+","+V+")";return this.attr("transform",(X+" "+P).trim()),this},p.rotate=function(d,A,x,P){P=P||{};var j=this.attr("transform")||"",F=c.parseTransformString(j);if(j=F.value,c.isUndefined(d))return F.rotate;j=j.replace(/rotate\([^)]*\)/g,"").trim(),d%=360;var V=P.absolute?d:F.rotate.angle+d,X=A!==void 0&&x!==void 0?","+A+","+x:"",H="rotate("+V+X+")";return this.attr("transform",(j+" "+H).trim()),this},p.scale=function(d,A){A=c.isUndefined(A)?d:A;var x=this.attr("transform")||"",P=c.parseTransformString(x);if(x=P.value,c.isUndefined(d))return P.scale;x=x.replace(/scale\([^)]*\)/g,"").trim();var j="scale("+d+","+A+")";return this.attr("transform",(x+" "+j).trim()),this},p.bbox=function(d,A){var x,P=this.node,j=P.ownerSVGElement;if(!j)return new Pt(0,0,0,0);try{x=P.getBBox()}catch{x={x:P.clientLeft,y:P.clientTop,width:P.clientWidth,height:P.clientHeight}}if(d)return new Pt(x);var F=this.getTransformToElement(A||j);return c.transformRect(x,F)},p.getBBox=function(d){var A={},x,P=this.node,j=P.ownerSVGElement;if(!j||!c.isSVGGraphicsElement(P))return new Pt(0,0,0,0);if(d&&(d.target&&(A.target=c.toNode(d.target)),d.recursive&&(A.recursive=d.recursive)),A.recursive){var V=this.children(),X=V.length;if(X===0)return this.getBBox({target:A.target,recursive:!1});A.target||(A.target=this);for(var H=0;H<X;H++){var Z=V[H],fe;Z.children().length===0?fe=Z.getBBox({target:A.target,recursive:!1}):fe=Z.getBBox({target:A.target,recursive:!0}),x?x=x.union(fe):x=fe}return x}else{try{x=P.getBBox()}catch{x={x:P.clientLeft,y:P.clientTop,width:P.clientWidth,height:P.clientHeight}}if(A.target){var F=this.getTransformToElement(A.target);return c.transformRect(x,F)}else return new Pt(x)}};function m(d,A){d||(d={});var x=c("textPath"),P=d.d;if(P&&d["xlink:href"]===void 0){var j=c("path").attr("d",P).appendTo(A.defs());x.attr("xlink:href","#"+j.id)}return c.isObject(d)&&x.attr(d),x.node}function g(d,A,x){x||(x={});for(var P=x.includeAnnotationIndices,j=x.eol,F=x.lineHeight,V=x.baseSize,X=0,H={},Z=A.length-1,fe=0;fe<=Z;fe++){var ee=A[fe],ae=null;if(c.isObject(ee)){var M=ee.attrs,B=c("tspan",M),K=B.node,O=ee.t;j&&fe===Z&&(O+=j),K.textContent=O;var N=M.class;N&&B.addClass(N),P&&B.attr("annotations",ee.annotations),ae=parseFloat(M["font-size"]),isFinite(ae)||(ae=V),ae&&ae>X&&(X=ae)}else j&&fe===Z&&(ee+=j),K=document.createTextNode(ee||" "),V&&V>X&&(X=V);d.appendChild(K)}return X&&(H.maxFontSize=X),F?H.lineHeight=F:X&&(H.lineHeight=X*1.2),H}var _=/em$/;function v(d,A){var x=parseFloat(d);return _.test(d)?x*A:x}function h(d,A,x,P){if(!Array.isArray(A))return 0;var j=A.length;if(!j)return 0;for(var F=A[0],V=v(F.maxFontSize,x)||x,X=0,H=v(P,x),Z=1;Z<j;Z++){F=A[Z];var fe=v(F.lineHeight,x)||H;X+=fe}var ee=v(F.maxFontSize,x)||x,ae;switch(d){case"middle":ae=V/2-.15*ee-X/2;break;case"bottom":ae=-(.25*ee)-X;break;default:case"top":ae=.8*V;break}return ae}p.text=function(d,A){if(d&&typeof d!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");d=c.sanitizeText(d),A||(A={});var x=A.displayEmpty,P=A.eol,j=A.textPath,F=A.textVerticalAnchor,V=F==="middle"||F==="bottom"||F==="top",X=A.x;X===void 0&&(X=this.attr("x")||0);var H=A.includeAnnotationIndices,Z=A.annotations;Z&&!c.isArray(Z)&&(Z=[Z]);var fe=A.lineHeight,ee=fe==="auto",ae=ee?"1.5em":fe||"1em";this.empty(),this.attr({"xml:space":"preserve",display:d||x?null:"none"});var M=parseFloat(this.attr("font-size"));M||(M=16,(V||Z)&&this.attr("font-size",M));var B=document,K;j?(typeof j=="string"&&(j={d:j}),K=m(j,this)):K=B.createDocumentFragment();for(var O=0,N=d.split(`
`),q=[],ne,J=0,Y=N.length-1;J<=Y;J++){var oe=ae,be="v-line",Oe=B.createElementNS(t.svg,"tspan"),R=N[J],C;if(R)if(Z){var D=c.annotateString(R,Z,{offset:-O,includeAnnotationIndices:H});C=g(Oe,D,{includeAnnotationIndices:H,eol:J!==Y&&P,lineHeight:ee?null:ae,baseSize:M});var G=C.lineHeight;G&&ee&&J!==0&&(oe=G),J===0&&(ne=C.maxFontSize*.8)}else P&&J!==Y&&(R+=P),Oe.textContent=R;else{Oe.textContent="-",be+=" v-empty-line";var ie=Oe.style;if(ie.fillOpacity=0,ie.strokeOpacity=0,Z){C={},D=c.findAnnotationsAtIndex(Z,O);let de=M;for(let ve=D.length;ve>0;ve--){const Ne=D[ve-1].attrs;if(!Ne||!("font-size"in Ne))continue;const Be=parseFloat(Ne["font-size"]);if(isFinite(Be)){de=Be;break}}ee&&(J>0?oe=de*1.2:ne=de*.8),Oe.setAttribute("font-size",de),C.maxFontSize=de}}C&&q.push(C),J>0&&Oe.setAttribute("dy",oe),(J>0||j)&&Oe.setAttribute("x",X),Oe.className.baseVal=be,K.appendChild(Oe),O+=R.length+1}if(V)if(Z)oe=h(F,q,M,ae);else if(F==="top")oe="0.8em";else{var ue;switch(Y>0?(ue=parseFloat(ae)||1,ue*=Y,_.test(ae)||(ue/=M)):ue=0,F){case"middle":oe=.3-ue/2+"em";break;case"bottom":oe=-ue-.3+"em";break}}else F===0?oe="0em":F?oe=F:(oe=0,this.attr("y")===null&&this.attr("y",ne||"0.8em"));return K.firstChild.setAttribute("dy",oe),this.append(K),this},p.removeAttr=function(d){const A=$[d],{ns:x,local:P}=c.qualifyAttr(A),j=this.node;return x?j.hasAttributeNS(x,P)&&j.removeAttributeNS(x,P):j.hasAttribute(A)&&j.removeAttribute(A),this},p.attr=function(d,A){if(c.isUndefined(d)){for(var x=this.node.attributes,P={},j=0;j<x.length;j++)P[x[j].name]=x[j].value;return P}if(c.isString(d)&&c.isUndefined(A))return this.node.getAttribute($[d]);if(typeof d=="object")for(var F in d)d.hasOwnProperty(F)&&this.setAttribute(F,d[F]);else this.setAttribute(d,A);return this},p.normalizePath=function(){var d=this.tagName();return d==="PATH"&&this.attr("d",c.normalizePathData(this.attr("d"))),this},p.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},p.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},p.setAttributes=function(d){for(var A in d)d.hasOwnProperty(A)&&this.setAttribute(A,d[A]);return this},p.append=function(d){c.isArray(d)||(d=[d]);for(var A=0,x=d.length;A<x;A++)this.node.appendChild(c.toNode(d[A]));return this},p.prepend=function(d){var A=this.node.firstChild;return A?c(A).before(d):this.append(d)},p.before=function(d){var A=this.node,x=A.parentNode;if(x){c.isArray(d)||(d=[d]);for(var P=0,j=d.length;P<j;P++)x.insertBefore(c.toNode(d[P]),A)}return this},p.appendTo=function(d){return c.toNode(d).appendChild(this.node),this},p.svg=function(){return this.node instanceof window.SVGSVGElement?this:c(this.node.ownerSVGElement)},p.tagName=function(){return this.node.tagName.toUpperCase()},p.defs=function(){var d=this.svg()||this,A=d.node.getElementsByTagName("defs")[0];return A?c(A):c("defs").appendTo(d)},p.clone=function(){var d=c(this.node.cloneNode(!0));return d.node.id=c.uniqueId(),d},p.findOne=function(d){var A=this.node.querySelector(d);return A?c(A):void 0},p.find=function(d){var A=[],x=this.node.querySelectorAll(d);if(x)for(var P=0;P<x.length;P++)A.push(c(x[P]));return A},p.children=function(){for(var d=this.node.childNodes,A=[],x=0;x<d.length;x++){var P=d[x];P.nodeType===1&&A.push(c(d[x]))}return A},p.parent=function(){return c(this.node.parentNode)||null},p.index=function(){for(var d=0,A=this.node.previousSibling;A;)A.nodeType===1&&d++,A=A.previousSibling;return d},p.findParentByClass=function(d,A){for(var x=this.node.ownerSVGElement,P=this.node.parentNode;P&&P!==A&&P!==x;){var j=c(P);if(j.hasClass(d))return j;P=P.parentNode}return null},p.contains=function(d){var A=this.node,x=c.toNode(d),P=x&&x.parentNode;return A===P||!!(P&&P.nodeType===1&&A.compareDocumentPosition(P)&16)},p.toLocalPoint=function(d,A){var x=this.svg().node,P=x.createSVGPoint();P.x=d,P.y=A;try{var j=P.matrixTransform(x.getScreenCTM().inverse()),F=this.getTransformToElement(x).inverse()}catch{return P}return j.matrixTransform(F)},p.translateCenterToPoint=function(d){var A=this.getBBox({target:this.svg()}),x=A.center();return this.translate(d.x-x.x,d.y-x.y),this},p.translateAndAutoOrient=function(d,A,x){d=new ze(d),A=new ze(A),x||(x=this.svg());var P=this.scale();this.attr("transform","");var j=this.getBBox({target:x}).scale(P.sx,P.sy),F=c.createSVGTransform();F.setTranslate(-j.x-j.width/2,-j.y-j.height/2);var V=c.createSVGTransform(),X=d.angleBetween(A,d.clone().offset(1,0));X&&V.setRotate(X,0,0);var H=c.createSVGTransform(),Z=d.clone().move(A,j.width/2);H.setTranslate(2*d.x-Z.x,2*d.y-Z.y);var fe=this.getTransformToElement(x),ee=c.createSVGTransform();return ee.setMatrix(H.matrix.multiply(V.matrix.multiply(F.matrix.multiply(fe.scale(P.sx,P.sy))))),this.attr("transform",c.matrixToTransformString(ee.matrix)),this},p.animateAlongPath=function(d,A){A=c.toNode(A);var x=c.ensureId(A),P=c("animateMotion",d),j=c("mpath",{"xlink:href":"#"+x});P.append(j),this.append(P);try{P.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var F=P.node;F.animators=[];var V=F.getAttribute("id");V&&(id2anim[V]=F);for(var X=getTargets(F),H=0,Z=X.length;H<Z;H++){var fe=X[H],ee=new Animator(F,fe,H);animators.push(ee),F.animators[H]=ee,ee.register()}}}return this};const E=/[^\x20\t\r\n\f]+/g;function y(d){return c.isString(d)?d.trim().match(E)||[]:[]}p.hasClass=function(d){return c.isString(d)?this.node.classList.contains(d.trim()):!1},p.addClass=function(d){return this.node.classList.add(...y(d)),this},p.removeClass=function(d){return this.node.classList.remove(...y(d)),this},p.toggleClass=function(d,A){const x=y(d);for(let P=0;P<x.length;P++)this.node.classList.toggle(x[P],A);return this},p.sample=function(d){d=d||1;for(var A=this.node,x=A.getTotalLength(),P=[],j=0,F;j<x;)F=A.getPointAtLength(j),P.push({x:F.x,y:F.y,distance:j}),j+=d;return P},p.convertToPath=function(){var d=c("path");d.attr(this.attr());var A=this.convertToPathData();return A&&d.attr("d",A),d},p.convertToPathData=function(){var d=this.tagName();switch(d){case"PATH":return this.attr("d");case"LINE":return c.convertLineToPathData(this.node);case"POLYGON":return c.convertPolygonToPathData(this.node);case"POLYLINE":return c.convertPolylineToPathData(this.node);case"ELLIPSE":return c.convertEllipseToPathData(this.node);case"CIRCLE":return c.convertCircleToPathData(this.node);case"RECT":return c.convertRectToPathData(this.node)}throw new Error(d+" cannot be converted to PATH.")},c.prototype.toGeometryShape=function(){var d,A,x,P,j,F,V,X,H,Z,fe,ee,ae,M,B;switch(this.tagName()){case"RECT":return d=parseFloat(this.attr("x"))||0,A=parseFloat(this.attr("y"))||0,x=parseFloat(this.attr("width"))||0,P=parseFloat(this.attr("height"))||0,new Pt(d,A,x,P);case"CIRCLE":return j=parseFloat(this.attr("cx"))||0,F=parseFloat(this.attr("cy"))||0,V=parseFloat(this.attr("r"))||0,new eo({x:j,y:F},V,V);case"ELLIPSE":return j=parseFloat(this.attr("cx"))||0,F=parseFloat(this.attr("cy"))||0,X=parseFloat(this.attr("rx"))||0,H=parseFloat(this.attr("ry"))||0,new eo({x:j,y:F},X,H);case"POLYLINE":return Z=c.getPointsFromSvgNode(this),new un(Z);case"POLYGON":return Z=c.getPointsFromSvgNode(this),Z.length>1&&Z.push(Z[0]),new un(Z);case"PATH":return fe=this.attr("d"),Bt.isDataSupported(fe)||(fe=c.normalizePathData(fe)),new Bt(fe);case"LINE":return ee=parseFloat(this.attr("x1"))||0,M=parseFloat(this.attr("y1"))||0,ae=parseFloat(this.attr("x2"))||0,B=parseFloat(this.attr("y2"))||0,new It({x:ee,y:M},{x:ae,y:B})}return this.getBBox()},p.findIntersection=function(d,A){var x=this.svg().node;A=A||x;var P=this.getBBox({target:A}),j=P.center();if(P.intersectionWithLineFromCenterToPoint(d)){var F,V=this.tagName();if(V==="RECT"){var X=new Pt(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),H=this.getTransformToElement(A),Z=c.decomposeMatrix(H),fe=x.createSVGTransform();fe.setRotate(-Z.rotation,j.x,j.y);var ee=c.transformRect(X,fe.matrix.multiply(H));F=new Pt(ee).intersectionWithLineFromCenterToPoint(d,Z.rotation)}else if(V==="PATH"||V==="POLYGON"||V==="POLYLINE"||V==="CIRCLE"||V==="ELLIPSE"){var ae=V==="PATH"?this:this.convertToPath(),M=ae.sample(),B=1/0,K=[],O,N,q,ne,J,Y;for(O=0;O<M.length;O++)N=M[O],q=c.createSVGPoint(N.x,N.y),q=q.matrixTransform(this.getTransformToElement(A)),N=new ze(q),ne=N.distance(j),J=N.distance(d)*1.1,Y=ne+J,Y<B?(B=Y,K=[{sample:N,refDistance:J}]):Y<B+1&&K.push({sample:N,refDistance:J});K.sort(function(oe,be){return oe.refDistance-be.refDistance}),K[0]&&(F=K[0].sample)}return F}},p.setAttribute=function(d,A){const x=this.node;if(A===null)return this.removeAttr(d),this;const P=$[d],{ns:j}=c.qualifyAttr(P);return j?x.setAttributeNS(j,P,A):P==="id"?x.id=A:x.setAttribute(P,A),this},c.createSvgDocument=function(d){if(d){const x=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="${r}">${d}</svg>`,{documentElement:P}=c.parseXML(x,{async:!1});return P}const A=document.createElementNS(t.svg,"svg");return A.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),A.setAttribute("version",r),A},c.createSVGStyle=function(d){const{node:A}=c("style",{type:"text/css"},[c.createCDATASection(d)]);return A},c.createCDATASection=function(d=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(d)},c.idCounter=0,c.uniqueId=function(){return"v-"+ ++c.idCounter},c.toNode=function(d){return c.isV(d)?d.node:d.nodeName&&d||d[0]},c.ensureId=function(d){return d=c.toNode(d),d.id||(d.id=c.uniqueId())},c.sanitizeText=function(d){return(d||"").replace(/ /g,"")},c.isUndefined=function(d){return typeof d>"u"},c.isString=function(d){return typeof d=="string"},c.isObject=function(d){return d&&typeof d=="object"},c.isArray=Array.isArray,c.parseXML=function(d,A){A=A||{};var x;try{var P=new DOMParser;c.isUndefined(A.async)||(P.async=A.async),x=P.parseFromString(d,"text/xml")}catch{x=void 0}if(!x||x.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+d);return x};const S=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(d=>S[d]=d);const $=new Proxy(S,{get(d,A){return c.supportCamelCaseAttributes?A in d?d[A]:d[A]=A.replace(/[A-Z]/g,"-$&").toLowerCase():A}});Object.defineProperty(c,"attributeNames",{value:$,writable:!1}),Object.defineProperty(c,"supportCamelCaseAttributes",{value:!1,writable:!0}),c.qualifyAttr=function(d){if(d.indexOf(":")!==-1){var A=d.split(":");return{ns:t[A[0]],local:A[1]}}return{ns:null,local:d}},c.transformSeparatorRegex=/[ ,]+/,c.transformRegex=/\b\w+\([^()]+\)/g,c.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,c.transformTranslateRegex=/\btranslate\(([^()]+)\)/,c.transformRotateRegex=/\brotate\(([^()]+)\)/,c.transformScaleRegex=/\bscale\(([^()]+)\)/,c.transformStringToMatrix=function(d){let A=c.createSVGMatrix();const x=d&&d.match(c.transformRegex);if(!x)return A;const P=x.length;for(let j=0;j<P;j++){const V=x[j].match(c.transformFunctionRegex);if(V){let X,H,Z,fe,ee,ae=c.createSVGMatrix();const M=V[1].toLowerCase(),B=V[2].split(c.transformSeparatorRegex);switch(M){case"scale":X=parseFloat(B[0]),H=B[1]===void 0?X:parseFloat(B[1]),ae=ae.scaleNonUniform(X,H);break;case"translate":Z=parseFloat(B[0]),fe=parseFloat(B[1]),ae=ae.translate(Z,fe);break;case"rotate":ee=parseFloat(B[0]),Z=parseFloat(B[1])||0,fe=parseFloat(B[2])||0,Z!==0||fe!==0?ae=ae.translate(Z,fe).rotate(ee).translate(-Z,-fe):ae=ae.rotate(ee);break;case"skewx":ee=parseFloat(B[0]),ae=ae.skewX(ee);break;case"skewy":ee=parseFloat(B[0]),ae=ae.skewY(ee);break;case"matrix":ae.a=parseFloat(B[0]),ae.b=parseFloat(B[1]),ae.c=parseFloat(B[2]),ae.d=parseFloat(B[3]),ae.e=parseFloat(B[4]),ae.f=parseFloat(B[5]);break;default:continue}A=A.multiply(ae)}}return A},c.matrixToTransformString=function(d){return d||(d=!0),"matrix("+(d.a!==void 0?d.a:1)+","+(d.b!==void 0?d.b:0)+","+(d.c!==void 0?d.c:0)+","+(d.d!==void 0?d.d:1)+","+(d.e!==void 0?d.e:0)+","+(d.f!==void 0?d.f:0)+")"},c.parseTransformString=function(d){var A,x,P;if(d){var j=c.transformSeparatorRegex;if(d.trim().indexOf("matrix")>=0){var F=c.transformStringToMatrix(d),V=c.decomposeMatrix(F);A=[V.translateX,V.translateY],P=[V.scaleX,V.scaleY],x=[V.rotation];var X=[];(A[0]!==0||A[1]!==0)&&X.push("translate("+A+")"),(P[0]!==1||P[1]!==1)&&X.push("scale("+P+")"),x[0]!==0&&X.push("rotate("+x+")"),d=X.join(" ")}else{const Z=d.match(c.transformTranslateRegex);Z&&(A=Z[1].split(j));const fe=d.match(c.transformRotateRegex);fe&&(x=fe[1].split(j));const ee=d.match(c.transformScaleRegex);ee&&(P=ee[1].split(j))}}var H=P&&P[0]?parseFloat(P[0]):1;return{value:d,translate:{tx:A&&A[0]?parseInt(A[0],10):0,ty:A&&A[1]?parseInt(A[1],10):0},rotate:{angle:x&&x[0]?parseInt(x[0],10):0,cx:x&&x[1]?parseInt(x[1],10):void 0,cy:x&&x[2]?parseInt(x[2],10):void 0},scale:{sx:H,sy:P&&P[1]?parseFloat(P[1]):H}}},c.deltaTransformPoint=function(d,A){var x=A.x*d.a+A.y*d.c+0,P=A.x*d.b+A.y*d.d+0;return{x,y:P}},c.decomposeMatrix=function(d){var A=c.deltaTransformPoint(d,{x:0,y:1}),x=c.deltaTransformPoint(d,{x:1,y:0}),P=180/i*o(A.y,A.x)-90,j=180/i*o(x.y,x.x);return{translateX:d.e,translateY:d.f,scaleX:a(d.a*d.a+d.b*d.b),scaleY:a(d.c*d.c+d.d*d.d),skewX:P,skewY:j,rotation:P}},c.matrixToScale=function(d){var A,x,P,j;return d?(A=c.isUndefined(d.a)?1:d.a,j=c.isUndefined(d.d)?1:d.d,x=d.b,P=d.c):A=j=1,{sx:x?a(A*A+x*x):A,sy:P?a(P*P+j*j):j}},c.matrixToRotate=function(d){var A={x:0,y:1};return d&&(A=c.deltaTransformPoint(d,A)),{angle:fs(fE(o(A.y,A.x))-90)}},c.matrixToTranslate=function(d){return{tx:d&&d.e||0,ty:d&&d.f||0}},c.isV=function(d){return d instanceof c},c.isVElement=c.isV,c.isSVGGraphicsElement=function(d){return d?(d=c.toNode(d),d instanceof SVGElement&&typeof d.getScreenCTM=="function"):!1};var T=c("svg").node;return c.createSVGMatrix=function(d){var A=T.createSVGMatrix();for(var x in d)A[x]=d[x];return A},c.createSVGTransform=function(d){return c.isUndefined(d)?T.createSVGTransform():(d instanceof SVGMatrix||(d=c.createSVGMatrix(d)),T.createSVGTransformFromMatrix(d))},c.createSVGPoint=function(d,A){var x=T.createSVGPoint();return x.x=d,x.y=A,x},c.transformRect=function(d,A){var x=T.createSVGPoint();x.x=d.x,x.y=d.y;var P=x.matrixTransform(A);x.x=d.x+d.width,x.y=d.y;var j=x.matrixTransform(A);x.x=d.x+d.width,x.y=d.y+d.height;var F=x.matrixTransform(A);x.x=d.x,x.y=d.y+d.height;var V=x.matrixTransform(A),X=s(P.x,j.x,F.x,V.x),H=l(P.x,j.x,F.x,V.x),Z=s(P.y,j.y,F.y,V.y),fe=l(P.y,j.y,F.y,V.y);return new Pt(X,Z,H-X,fe-Z)},c.transformPoint=function(d,A){return new ze(c.createSVGPoint(d.x,d.y).matrixTransform(A))},c.transformLine=function(d,A){return new It(c.transformPoint(d.start,A),c.transformPoint(d.end,A))},c.transformPolyline=function(d,A){var x=d instanceof un?d.points:d;c.isArray(x)||(x=[]);for(var P=[],j=0,F=x.length;j<F;j++)P[j]=c.transformPoint(x[j],A);return new un(P)},c.styleToObject=function(d){for(var A={},x=d.split(";"),P=0;P<x.length;P++){var j=x[P],F=j.split("=");A[F[0].trim()]=F[1].trim()}return A},c.createSlicePathData=function(d,A,x,P){var j=2*i-1e-6,F=d,V=A,X=x,H=P,Z=(H<X&&(Z=X,X=H,H=Z),H-X),fe=Z<i?"0":"1",ee=u(X),ae=f(X),M=u(H),B=f(H);return Z>=j?F?"M0,"+V+"A"+V+","+V+" 0 1,1 0,"+-V+"A"+V+","+V+" 0 1,1 0,"+V+"M0,"+F+"A"+F+","+F+" 0 1,0 0,"+-F+"A"+F+","+F+" 0 1,0 0,"+F+"Z":"M0,"+V+"A"+V+","+V+" 0 1,1 0,"+-V+"A"+V+","+V+" 0 1,1 0,"+V+"Z":F?"M"+V*ee+","+V*ae+"A"+V+","+V+" 0 "+fe+",1 "+V*M+","+V*B+"L"+F*M+","+F*B+"A"+F+","+F+" 0 "+fe+",0 "+F*ee+","+F*ae+"Z":"M"+V*ee+","+V*ae+"A"+V+","+V+" 0 "+fe+",1 "+V*M+","+V*B+"L0,0Z"},c.mergeAttrs=function(d,A){for(var x in A)x==="class"?d[x]=d[x]?d[x]+" "+A[x]:A[x]:x==="style"?c.isObject(d[x])&&c.isObject(A[x])?d[x]=c.mergeAttrs(d[x],A[x]):c.isObject(d[x])?d[x]=c.mergeAttrs(d[x],c.styleToObject(A[x])):c.isObject(A[x])?d[x]=c.mergeAttrs(c.styleToObject(d[x]),A[x]):d[x]=c.mergeAttrs(c.styleToObject(d[x]),c.styleToObject(A[x])):d[x]=A[x];return d},c.annotateString=function(d,A,x){A=A||[],x=x||{};for(var P=x.offset||0,j=[],F,V=[],X,H,Z=0;Z<d.length;Z++){X=V[Z]=d[Z];for(var fe=0;fe<A.length;fe++){var ee=A[fe],ae=ee.start+P,M=ee.end+P;Z>=ae&&Z<M&&(c.isObject(X)?X.attrs=c.mergeAttrs(c.mergeAttrs({},X.attrs),ee.attrs):X=V[Z]={t:d[Z],attrs:ee.attrs},x.includeAnnotationIndices&&(X.annotations||(X.annotations=[])).push(fe))}H=V[Z-1],H?c.isObject(X)&&c.isObject(H)?JSON.stringify(X.attrs)===JSON.stringify(H.attrs)?F.t+=X.t:(j.push(F),F=X):c.isObject(X)||c.isObject(H)?(j.push(F),F=X):F=(F||"")+X:F=X}return F&&j.push(F),j},c.findAnnotationsAtIndex=function(d,A){var x=[];return d&&d.forEach(function(P){P.start<A&&A<=P.end&&x.push(P)}),x},c.findAnnotationsBetweenIndexes=function(d,A,x){var P=[];return d&&d.forEach(function(j){(A>=j.start&&A<j.end||x>j.start&&x<=j.end||j.start>=A&&j.end<x)&&P.push(j)}),P},c.shiftAnnotations=function(d,A,x){return d&&d.forEach(function(P){P.start<A&&P.end>=A?P.end+=x:P.start>=A&&(P.start+=x,P.end+=x)}),d},c.convertLineToPathData=function(d){d=c(d);var A=["M",d.attr("x1"),d.attr("y1"),"L",d.attr("x2"),d.attr("y2")].join(" ");return A},c.convertPolygonToPathData=function(d){var A=c.getPointsFromSvgNode(d);return A.length===0?null:c.svgPointsToPath(A)+" Z"},c.convertPolylineToPathData=function(d){var A=c.getPointsFromSvgNode(d);return A.length===0?null:c.svgPointsToPath(A)},c.svgPointsToPath=function(d){for(var A=0,x=d.length;A<x;A++)d[A]=d[A].x+" "+d[A].y;return"M "+d.join(" L")},c.getPointsFromSvgNode=function(d){d=c.toNode(d);var A=[],x=d.points;if(x)for(var P=0,j=x.numberOfItems;P<j;P++)A.push(x.getItem(P));return A},c.KAPPA=.551784,c.convertCircleToPathData=function(d){d=c(d);var A=parseFloat(d.attr("cx"))||0,x=parseFloat(d.attr("cy"))||0,P=parseFloat(d.attr("r")),j=P*c.KAPPA,F=["M",A,x-P,"C",A+j,x-P,A+P,x-j,A+P,x,"C",A+P,x+j,A+j,x+P,A,x+P,"C",A-j,x+P,A-P,x+j,A-P,x,"C",A-P,x-j,A-j,x-P,A,x-P,"Z"].join(" ");return F},c.convertEllipseToPathData=function(d){d=c(d);var A=parseFloat(d.attr("cx"))||0,x=parseFloat(d.attr("cy"))||0,P=parseFloat(d.attr("rx")),j=parseFloat(d.attr("ry"))||P,F=P*c.KAPPA,V=j*c.KAPPA,X=["M",A,x-j,"C",A+F,x-j,A+P,x-V,A+P,x,"C",A+P,x+V,A+F,x+j,A,x+j,"C",A-F,x+j,A-P,x+V,A-P,x,"C",A-P,x-V,A-F,x-j,A,x-j,"Z"].join(" ");return X},c.convertRectToPathData=function(d){return d=c(d),c.rectToPath({x:parseFloat(d.attr("x"))||0,y:parseFloat(d.attr("y"))||0,width:parseFloat(d.attr("width"))||0,height:parseFloat(d.attr("height"))||0,rx:parseFloat(d.attr("rx"))||0,ry:parseFloat(d.attr("ry"))||0})},c.rectToPath=function(d){var A,x=d.x,P=d.y,j=d.width,F=d.height,V=s(d.rx||d["top-rx"]||0,j/2),X=s(d.rx||d["bottom-rx"]||0,j/2),H=s(d.ry||d["top-ry"]||0,F/2),Z=s(d.ry||d["bottom-ry"]||0,F/2);return V||X||H||Z?A=["M",x,P+H,"v",F-H-Z,"a",X,Z,0,0,0,X,Z,"h",j-2*X,"a",X,Z,0,0,0,X,-Z,"v",-(F-Z-H),"a",V,H,0,0,0,-V,-H,"h",-(j-2*V),"a",V,H,0,0,0,-V,H,"Z"]:A=["M",x,P,"H",x+j,"V",P+F,"H",x,"V",P,"Z"],A.join(" ")},c.normalizePathData=function(){var d=`	
\v\f\r \u2028\u2029`,A=new RegExp("([a-z])["+d+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+d+"]*,?["+d+"]*)+)","ig"),x=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+d+"]*,?["+d+"]*","ig"),P=Math,j=P.PI,F=P.sin,V=P.cos,X=P.tan,H=P.asin,Z=P.sqrt,fe=P.abs;function ee(N,q,ne,J,Y,oe){var be=.3333333333333333,Oe=2/3;return[be*N+Oe*ne,be*q+Oe*J,be*Y+Oe*ne,be*oe+Oe*J,Y,oe]}function ae(N,q,ne){var J=N*V(ne)-q*F(ne),Y=N*F(ne)+q*V(ne);return{x:J,y:Y}}function M(N,q,ne,J,Y,oe,be,Oe,R,C){var D=j*120/180,G=j/180*(+Y||0),ie=[],ue;if(C)W=C[0],I=C[1],We=C[2],Ue=C[3];else{ue=ae(N,q,-G),N=ue.x,q=ue.y,ue=ae(Oe,R,-G),Oe=ue.x,R=ue.y;var de=(N-Oe)/2,ve=(q-R)/2,Ne=de*de/(ne*ne)+ve*ve/(J*J);Ne>1&&(Ne=Z(Ne),ne=Ne*ne,J=Ne*J);var Be=ne*ne,je=J*J,nt=(oe==be?-1:1)*Z(fe((Be*je-Be*ve*ve-je*de*de)/(Be*ve*ve+je*de*de))),We=nt*ne*ve/J+(N+Oe)/2,Ue=nt*-J*de/ne+(q+R)/2,W=H(((q-Ue)/J).toFixed(9)),I=H(((R-Ue)/J).toFixed(9));W=N<We?j-W:W,I=Oe<We?j-I:I,W<0&&(W=j*2+W),I<0&&(I=j*2+I),be&&W>I&&(W=W-j*2),!be&&I>W&&(I=I-j*2)}var L=I-W;if(fe(L)>D){var re=I,ye=Oe,Ee=R;I=W+D*(be&&I>W?1:-1),Oe=We+ne*V(I),R=Ue+J*F(I),ie=M(Oe,R,ne,J,Y,0,be,ye,Ee,[I,re,We,Ue])}L=I-W;var Ce=V(W),Re=F(W),Le=V(I),ft=F(I),yt=X(L/4),st=4/3*(ne*yt),Ct=4/3*(J*yt),Er=[N,q],Or=[N+st*Re,q-Ct*Ce],ir=[Oe+st*ft,R-Ct*Le],mr=[Oe,R];if(Or[0]=2*Er[0]-Or[0],Or[1]=2*Er[1]-Or[1],C)return[Or,ir,mr].concat(ie);ie=[Or,ir,mr].concat(ie).join().split(",");for(var cn=[],Vt=ie.length,zt=0;zt<Vt;zt++)cn[zt]=zt%2?ae(ie[zt-1],ie[zt],G).y:ae(ie[zt],ie[zt+1],G).x;return cn}function B(N){if(!N)return null;var q={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},ne=[];return String(N).replace(A,function(J,Y,oe){var be=[],Oe=Y.toLowerCase();for(oe.replace(x,function(R,C){C&&be.push(+C)}),Oe==="m"&&be.length>2&&(ne.push([Y].concat(be.splice(0,2))),Oe="l",Y=Y==="m"?"l":"L");be.length>=q[Oe]&&(ne.push([Y].concat(be.splice(0,q[Oe]))),!!q[Oe]););}),ne}function K(N){if((!Array.isArray(N)||!Array.isArray(N&&N[0]))&&(N=B(N)),!N||!N.length)return[["M",0,0]];for(var q=[],ne=0,J=0,Y=0,oe=0,be=0,Oe,R=N.length,C=be;C<R;C++){var D=[];q.push(D);var G=N[C];if(Oe=G[0],Oe!=Oe.toUpperCase()){D[0]=Oe.toUpperCase();var ie,ue;switch(D[0]){case"A":D[1]=G[1],D[2]=G[2],D[3]=G[3],D[4]=G[4],D[5]=G[5],D[6]=+G[6]+ne,D[7]=+G[7]+J;break;case"V":D[1]=+G[1]+J;break;case"H":D[1]=+G[1]+ne;break;case"M":for(Y=+G[1]+ne,oe=+G[2]+J,ie=G.length,ue=1;ue<ie;ue++)D[ue]=+G[ue]+(ue%2?ne:J);break;default:for(ie=G.length,ue=1;ue<ie;ue++)D[ue]=+G[ue]+(ue%2?ne:J);break}}else for(var de=G.length,ve=0;ve<de;ve++)D[ve]=G[ve];switch(D[0]){case"Z":ne=+Y,J=+oe;break;case"H":ne=D[1];break;case"V":J=D[1];break;case"M":Y=D[D.length-2],oe=D[D.length-1],ne=D[D.length-2],J=D[D.length-1];break;default:ne=D[D.length-2],J=D[D.length-1];break}}return q}function O(N){var q=K(N),ne={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function J(ie,ue,de){var ve,Ne;if(!ie)return["C",ue.x,ue.y,ue.x,ue.y,ue.x,ue.y];switch(ie[0]in{T:1,Q:1}||(ue.qx=null,ue.qy=null),ie[0]){case"M":ue.X=ie[1],ue.Y=ie[2];break;case"A":parseFloat(ie[1])===0||parseFloat(ie[2])===0?ie=["L",ie[6],ie[7]]:ie=["C"].concat(M.apply(0,[ue.x,ue.y].concat(ie.slice(1))));break;case"S":de==="C"||de==="S"?(ve=ue.x*2-ue.bx,Ne=ue.y*2-ue.by):(ve=ue.x,Ne=ue.y),ie=["C",ve,Ne].concat(ie.slice(1));break;case"T":de==="Q"||de==="T"?(ue.qx=ue.x*2-ue.qx,ue.qy=ue.y*2-ue.qy):(ue.qx=ue.x,ue.qy=ue.y),ie=["C"].concat(ee(ue.x,ue.y,ue.qx,ue.qy,ie[1],ie[2]));break;case"Q":ue.qx=ie[1],ue.qy=ie[2],ie=["C"].concat(ee(ue.x,ue.y,ie[1],ie[2],ie[3],ie[4]));break;case"H":ie=["L"].concat(ie[1],ue.y);break;case"V":ie=["L"].concat(ue.x,ie[1]);break}return ie}function Y(ie,ue){if(ie[ue].length>7){ie[ue].shift();for(var de=ie[ue];de.length;)oe[ue]="A",ie.splice(ue++,0,["C"].concat(de.splice(0,6)));ie.splice(ue,1),R=q.length}}for(var oe=[],be="",Oe="",R=q.length,C=0;C<R;C++){q[C]&&(be=q[C][0]),be!=="C"&&(oe[C]=be,C>0&&(Oe=oe[C-1])),q[C]=J(q[C],ne,Oe),oe[C]!=="A"&&be==="C"&&(oe[C]="C"),Y(q,C);var D=q[C],G=D.length;ne.x=D[G-2],ne.y=D[G-1],ne.bx=parseFloat(D[G-4])||ne.x,ne.by=parseFloat(D[G-3])||ne.y}return(!q[0][0]||q[0][0]!=="M")&&q.unshift(["M",0,0]),q}return function(N){return O(N).join(",").split(",").join(" ")}}(),c.namespace=t,c.g=Die,c}(),Hu={classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},Jm="[object Arguments]",pP="[object Array]",AE="[object Boolean]",nN="[object Date]",l9="[object Error]",doe="[object Function]",Rg="[object Map]",xE="[object Number]",hoe="[object Null]",Hd="[object Object]",iN="[object RegExp]",Ig="[object Set]",PE="[object String]",OE="[object Symbol]",poe="[object Undefined]",moe="[object WeakMap]",oN="[object ArrayBuffer]",aN="[object DataView]",u9="[object Float32Array]",c9="[object Float64Array]",f9="[object Int8Array]",d9="[object Int16Array]",h9="[object Int32Array]",p9="[object Uint8Array]",m9="[object Uint8ClampedArray]",g9="[object Uint16Array]",v9="[object Uint32Array]",goe={[Jm]:!0,[pP]:!0,[oN]:!0,[aN]:!0,[AE]:!0,[nN]:!0,[u9]:!0,[c9]:!0,[f9]:!0,[d9]:!0,[h9]:!0,[Rg]:!0,[xE]:!0,[Hd]:!0,[iN]:!0,[Ig]:!0,[PE]:!0,[OE]:!0,[p9]:!0,[m9]:!0,[g9]:!0,[v9]:!0,[l9]:!1,[doe]:!1,[moe]:!1},sN="\\ud800-\\udfff",voe="\\u0300-\\u036f",yoe="\\ufe20-\\ufe2f",woe="\\u20d0-\\u20ff",boe="\\u1ab0-\\u1aff",_oe="\\u1dc0-\\u1dff",Eoe=voe+yoe+woe+boe+_oe,y9="\\u2700-\\u27bf",w9="a-z\\xdf-\\xf6\\xf8-\\xff",Soe="\\xac\\xb1\\xd7\\xf7",$oe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Toe="\\u2000-\\u206f",Aoe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",b9="A-Z\\xc0-\\xd6\\xd8-\\xde",xoe="\\ufe0e\\ufe0f",_9=Soe+$oe+Toe+Aoe,E9="[']",tM=`[${_9}]`,lN=`[${Eoe}]`,S9="\\d",Poe=`[${y9}]`,$9=`[${w9}]`,T9=`[^${sN}${_9+S9+y9+w9+b9}]`,mP="\\ud83c[\\udffb-\\udfff]",Ooe=`(?:${lN}|${mP})`,A9=`[^${sN}]`,uN="(?:\\ud83c[\\udde6-\\uddff]){2}",cN="[\\ud800-\\udbff][\\udc00-\\udfff]",Od=`[${b9}]`,Roe="\\u200d",rM=`(?:${$9}|${T9})`,Ioe=`(?:${Od}|${T9})`,nM=`(?:${E9}(?:d|ll|m|re|s|t|ve))?`,iM=`(?:${E9}(?:D|LL|M|RE|S|T|VE))?`,x9=`${Ooe}?`,P9=`[${xoe}]?`,Noe=`(?:${Roe}(?:${[A9,uN,cN].join("|")})${P9+x9})*`,koe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Coe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",O9=P9+x9+Noe,joe=`(?:${[Poe,uN,cN].join("|")})${O9}`,Doe=RegExp([`${Od}?${$9}+${nM}(?=${[tM,Od,"$"].join("|")})`,`${Ioe}+${iM}(?=${[tM,Od+rM,"$"].join("|")})`,`${Od}?${rM}+${nM}`,`${Od}+${iM}`,Coe,koe,`${S9}+`,joe].join("|"),"g"),fN=200,gP="__hash_undefined__",Moe=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,Loe=`[${sN}]`,Foe=`${A9}${lN}?`,Boe=`(?:${[Foe,lN,uN,cN,Loe].join("|")})`,R9=RegExp(`${mP}(?=${mP})|${Boe+O9}`,"g"),Uoe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zoe=/^\w*$/,qoe=46,Voe=/\\(\\)?/g,Hoe=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),Woe=/^(?:0|[1-9]\d*)$/,Goe=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),Koe=4294967294,Joe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,I9=e=>R9.test(e),Yoe=e=>e.match(R9)||[],Xoe=e=>e.split(""),N9=e=>I9(e)?Yoe(e):Xoe(e),Qoe=e=>e==null?[]:Ng(e).map(t=>e[t]),Ng=e=>Da(e)?k9(e):Object.keys(Object(e)),Zoe=e=>{if(!RE(e))return Object.keys(e);var t=[];for(var r in Object(e))hasOwnProperty.call(e,r)&&r!="constructor"&&t.push(r);return t},k9=(e,t)=>{const r=Array.isArray(e),n=!r&&hs(e)&&ka(e)===Jm,i=!r&&!n&&jg(e),o=r||n||i,a=e.length,s=new Array(o?a:0);let l=o?-1:a;for(;++l<a;)s[l]=`${l}`;for(const u in e)(t||hasOwnProperty.call(e,u))&&!(o&&(u==="length"||z9(u,a)))&&s.push(u);return s},Bv=(e,t)=>{let{length:r}=e;for(;r--;)if(Vh(e[r][0],t))return r;return-1},Vh=(e,t)=>e===t||e!==e&&t!==t,hs=e=>e!=null&&typeof e=="object",Qb=(e,t,r)=>{if(!Wr(r))return!1;const n=typeof t;return(n=="number"?Da(r)&&t>-1&&t<r.length:n=="string"&&t in r)?Vh(r[t],e):!1},eae=e=>hs(e)&&ka(e)==Ig,tae=e=>hs(e)&&ka(e)==Rg,RE=e=>{const t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Object.prototype;return e===r},kg=(e,t,r)=>{const n=e[t];(!(hasOwnProperty.call(e,t)&&Vh(n,r))||r===void 0&&!(t in e))&&(e[t]=r)},Cg=(e,t,r)=>{let n=-1;const i=t.length;for(;++n<i;){const o=t[n];kg(r,o,e[o])}return r},Da=e=>e!=null&&typeof e!="function"&&typeof e.length=="number"&&e.length>-1&&e.length%1===0,Oh=e=>typeof e=="symbol"||hs(e)&&ka(e)===OE,rae=e=>{const t=e.length;let r=new e.constructor(t);return t&&typeof e[0]=="string"&&hasOwnProperty.call(e,"index")&&(r.index=e.index,r.input=e.input),r},dN=(e,t)=>{let r=-1;const n=e.length;for(t||(t=new Array(n));++r<n;)t[r]=e[r];return t},ka=e=>e==null?e===void 0?poe:hoe:Object.prototype.toString.call(e),hN=e=>{const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},C9=(e,t)=>{const r=t?hN(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},nae=e=>{const t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t},j9=e=>typeof e.constructor=="function"&&!RE(e)?Object.create(Object.getPrototypeOf(e)):{},pN=e=>e==null?[]:(e=Object(e),Object.getOwnPropertySymbols(e).filter(r=>propertyIsEnumerable.call(e,r))),iae=(e,t)=>Cg(e,pN(e),t);function oae(e,t){const r=t?hN(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}const aae=(e,t,r)=>{const n=e.constructor;switch(t){case oN:return hN(e);case AE:case nN:return new n(+e);case aN:return oae(e,r);case u9:case c9:case f9:case d9:case h9:case p9:case m9:case g9:case v9:return C9(e,r);case Rg:return new n(e);case xE:case PE:return new n(e);case iN:return nae(e);case Ig:return new n;case OE:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}},jg=e=>hs(e)&&Moe.test(ka(e)),vP=e=>{const t=Object.keys(e);return!Array.isArray(e)&&e!=null&&t.push(...pN(Object(e))),t},D9=e=>{const t=[];for(;e;)t.push(...pN(e)),e=Object.getPrototypeOf(Object(e));return t},M9=e=>{const t=[];for(const r in e)t.push(r);return Array.isArray(e)||t.push(...D9(e)),t},Uv=({__data__:e},t)=>{const r=e;return vae(t)?r[typeof t=="string"?"string":"hash"]:r.map},sae=(e,t,r,n)=>{const i=vP(e),o=i.length,s=vP(t).length;if(o!=s)return!1;let l,u=o;for(;u--;)if(l=i[u],!hasOwnProperty.call(t,l))return!1;const f=n.get(e),c=n.get(t);if(f&&c)return f==t&&c==e;let p=!0;n.set(e,t),n.set(t,e);let m;for(;++u<o;){l=i[u];const g=e[l],_=t[l];if(!(g===_||r(g,_,n))){p=!1;break}m||(m=l=="constructor")}if(p&&!m){const g=e.constructor,_=t.constructor;g!=_&&"constructor"in e&&"constructor"in t&&!(typeof g=="function"&&g instanceof g&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return n.delete(e),n.delete(t),p},IE=(e,t,r)=>e===t?!0:e==null||t==null||!hs(e)&&!hs(t)?e!==e&&t!==t:lae(e,t,IE,r),lae=(e,t,r,n)=>{let i=Array.isArray(e);const o=Array.isArray(t);let a=i?pP:ka(e),s=o?pP:ka(t);a=a==Jm?Hd:a,s=s==Jm?Hd:s;let l=a==Hd;const u=s==Hd,f=a==s;if(f&&!l)return n||(n=new lh),i||jg(e)?L9(e,t,!1,r,n):fae(e,t,a,r,n);const c=l&&hasOwnProperty.call(e,"__wrapped__"),p=u&&hasOwnProperty.call(t,"__wrapped__");if(c||p){const m=c?e.value():e,g=p?t.value():t;return n||(n=new lh),r(m,g,n)}return f?(n||(n=new lh),sae(e,t,r,n)):!1},L9=(e,t,r,n,i)=>{const o=e.length,a=t.length;if(o!=a)return!1;const s=i.get(e),l=i.get(t);if(s&&l)return s==t&&l==e;let u=-1,f=!0;const c=r?new Xm:void 0;for(i.set(e,t),i.set(t,e);++u<o;){const p=e[u],m=t[u];if(c){if(!uae(t,(g,_)=>{if(!cae(c,_)&&(p===g||n(p,g,i)))return c.push(_)})){f=!1;break}}else if(!(p===m||n(p,m,i))){f=!1;break}}return i.delete(e),i.delete(t),f},uae=(e,t)=>{let r=-1;const n=e==null?0:e.length;for(;++r<n;)if(t(e[r],r,e))return!0;return!1},cae=(e,t)=>e.has(t),oM=(e,t,r,n)=>!(e.byteLength!=t.byteLength||!r(new Uint8Array(e),new Uint8Array(t),n)),fae=(e,t,r,n,i)=>{switch(r){case aN:return e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset?!1:(e=e.buffer,t=t.buffer,oM(e,t,n,i));case oN:return oM(e,t,n,i);case AE:case nN:case xE:return Vh(+e,+t);case l9:return e.name==t.name&&e.message==t.message;case iN:case PE:return e==`${t}`;case Rg:let o=F9;case Ig:if(o||(o=NE),e.size!=t.size)return!1;const a=i.get(e);if(a)return a==t;i.set(e,t);const s=L9(o(e),o(t),!0,n,i);return i.delete(e),s;case OE:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},F9=e=>{let t=-1,r=Array(e.size);return e.forEach((n,i)=>{r[++t]=[i,n]}),r},NE=e=>{let t=-1;const r=new Array(e.size);return e.forEach(n=>{r[++t]=n}),r},mN=(e,t)=>{if(Array.isArray(e))return!1;const r=typeof e;return r==="number"||r==="boolean"||e==null||Oh(e)?!0:zoe.test(e)||!Uoe.test(e)||t!=null&&e in Object(t)},dae=e=>{const t=[];return e.charCodeAt(0)===qoe&&t.push(""),e.replace(Hoe,(r,n,i,o)=>{let a=r;i?a=o.replace(Voe,"$1"):n&&(a=n.trim()),t.push(a)}),t},Hh=(e,t)=>Array.isArray(e)?e:mN(e,t)?[e]:dae(`${e}`),kE=(e,t)=>{t=Hh(t,e);let r=0;const n=t.length;for(;e!=null&&r<n;)e=e[Vf(t[r])],r++;return r&&r==n?e:void 0};function hae(e,t){if(e!==t){const r=e!==void 0,n=e===null,i=e===e,o=Oh(e),a=t!==void 0,s=t===null,l=t===t,u=Oh(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||n&&a&&l||!r&&l||!i)return 1;if(!n&&!o&&!u&&e<t||u&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!l)return-1}return 0}function pae(e,t,r){let n=-1;const i=e.criteria,o=t.criteria,a=i.length,s=r.length;for(;++n<a;){const l=n<s?r[n]:null,f=(l&&typeof l=="function"?l:hae)(i[n],o[n]);if(f)return l&&typeof l!="function"?f*(l=="desc"?-1:1):f}return e.index-t.index}const B9=(e,t)=>{let r=(a,s)=>!!(a==null?0:a.length)&&a.indexOf(s)>-1,n=!0;const i=[],o=t.length;if(!e.length)return i;t.length>=fN&&(r=(a,s)=>a.has(s),n=!1,t=new Xm(t));e:for(let a in e){let s=e[a];const l=s;if(s=s!==0?s:0,n&&l===l){let u=o;for(;u--;)if(t[u]===l)continue e;i.push(s)}else r(t,l)||i.push(s)}return i},Vf=e=>{if(typeof e=="string"||Oh(e))return e;const t=`${e}`;return t=="0"&&1/e==-1/0?"-0":t},sh=(e,t=!1,r=!1,n=!0,i,o,a,s)=>{let l;if(i&&(l=a?i(e,o,a,s):i(e)),l!==void 0)return l;if(!Wr(e))return e;const u=Array.isArray(e),f=ka(e);if(u){if(l=rae(e),!t)return dN(e,l)}else{const g=typeof e=="function";if(f===Hd||f===Jm||g&&!a){if(l=r||g?{}:j9(e),!t)return r?mae(e,Cg(e,Object.keys(e),l)):iae(e,Object.assign(l,e))}else{if(g||!goe[f])return a?e:{};l=aae(e,f,t)}}s||(s=new lh);const c=s.get(e);if(c)return c;if(s.set(e,l),tae(e))return e.forEach((g,_)=>{l.set(_,sh(g,t,r,n,i,_,e,s))}),l;if(eae(e))return e.forEach(g=>{l.add(sh(g,t,r,n,i,g,e,s))}),l;if(jg(e))return l;const m=u?void 0:(n?r?M9:vP:r?q9:Ng)(e);return(m||e).forEach((g,_)=>{m&&(_=g,g=e[_]),kg(l,_,sh(g,t,r,n,i,_,e,s))}),l},mae=(e,t)=>Cg(e,D9(e),t),U9=(e,t)=>t.length<2?e:kE(e,t.slice(0,-1)),z9=(e,t)=>{const r=typeof e;return t=t??Number.MAX_SAFE_INTEGER,!!t&&(r==="number"||r!=="symbol"&&Woe.test(e))&&e>-1&&e%1==0&&e<t},gae=(e,t)=>{t=Hh(t,e),e=U9(e,t);const r=t[t.length-1];return e==null||delete e[Vf(r)]},vae=e=>{const t=typeof e;return t==="string"||t==="number"||t==="symbol"||t==="boolean"?e!=="__proto__":e===null},q9=e=>{const t=[];for(const r in e)t.push(r);return t},yae=e=>{e=Object(e);const t={};for(const r in e)t[r]=e[r];return t},aM=(e,t)=>{if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]};function V9(e,t=!1){return(r,...n)=>{let i=-1,o=n.length,a=o>1?n[o-1]:void 0;const s=o>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):t?(l,u)=>{if(Array.isArray(l)&&!Array.isArray(u))return u}:void 0,s&&Qb(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),r=Object(r);++i<o;){const l=n[i];l&&e(r,l,i,a)}return r}}const gN=(e,t,r,n,i)=>{e!==t&&wa(t,(o,a)=>{if(Wr(o))i||(i=new lh),wae(e,t,a,r,gN,n,i);else{let s=n?n(e[a],o,`${a}`,e,t,i):void 0;s===void 0&&(s=o),yP(e,a,s)}})},wae=(e,t,r,n,i,o,a)=>{const s=aM(e,r),l=aM(t,r),u=a.get(l);if(u){yP(e,r,u);return}let f=o?o(s,l,`${r}`,e,t,a):void 0,c=f===void 0;if(c){const p=Array.isArray(l),m=!p&&jg(l);f=l,p||m?Array.isArray(s)?f=s:hs(s)&&Da(s)?f=dN(s):m?(c=!1,f=C9(l,!0)):f=[]:zn(l)||Ym(l)?(f=s,Ym(s)?f=yae(s):(typeof s=="function"||!Wr(s))&&(f=j9(l))):c=!1}c&&(a.set(l,f),i(f,l,n,o,a),a.delete(l)),yP(e,r,f)},yP=(e,t,r)=>{(r!==void 0&&!Vh(e[t],r)||r===void 0&&!(t in e))&&kg(e,t,r)};function bae(e,t,r){const n=Object(e),i=r(e);let{length:o}=i,a=-1;for(;o--;){const s=i[++a];if(t(n[s],s,n)===!1)break}return e}const _ae=(e,t)=>e&&bae(e,t,Ng),vN=(e,t)=>{if(e==null)return e;if(!Da(e))return _ae(e,t);const r=e.length,n=Object(e);let i=-1;for(;++i<r&&t(n[i],i,n)!==!1;);return e};function Eae(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}const Sae=Set&&1/NE(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function H9(e,t,r,n,i,o){return Wr(e)&&Wr(t)&&(o.set(t,e),gN(e,t,void 0,H9,o),o.delete(t)),e}function $ae(e,t,r){t.length?t=t.map(a=>Array.isArray(a)?s=>kE(s,a.length===1?a[0]:a):a):t=[a=>a];let n=-1,i=-1;const o=Da(e)?new Array(e.length):[];return vN(e,a=>{const s=t.map(l=>l(a));o[++i]={criteria:s,index:++n,value:a}}),Tae(o,(a,s)=>pae(a,s,r))}function Tae(e,t){let{length:r}=e;for(e.sort(t);r--;)e[r]=e[r].value;return e}function W9(e){return e===e&&!Wr(e)}function G9(e,t){return r=>r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}function Aae(e,t){return e!=null&&Uae(e,t,Bae)}function xae(e,t){return mN(e)&&W9(t)?G9(Vf(e),t):r=>{const n=kE(r,e);return n===void 0&&n===t?Aae(r,e):IE(t,n)}}function Pae(e){const t=Oae(e);return t.length===1&&t[0][2]?G9(t[0][0],t[0][1]):r=>r===e||Rae(r,e,t)}function Oae(e){const t=Ng(e);let r=t.length;for(;r--;){const n=t[r],i=e[n];t[r]=[n,i,W9(i)]}return t}function Rae(e,t,r,n){let i=r.length;const o=i;if(e==null)return!o;let a;for(e=Object(e);i--;)if(a=r[i],a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1;for(;++i<o;){a=r[i];const s=a[0],l=e[s],u=a[1];if(a[2]){if(l===void 0&&!(s in e))return!1}else{const f=new lh;if(!IE(u,l,f))return!1}}return!0}function Iae(e){return mN(e)?Nae(Vf(e)):kae(e)}function Nae(e){return t=>t==null?void 0:t[e]}function kae(e){return t=>kE(t,e)}function Cae(e){return typeof e=="function"?e:e==null?t=>t:typeof e=="object"?Array.isArray(e)?xae(e[0],e[1]):Pae(e):Iae(e)}function CE(){const e=Cae;return arguments.length?e(arguments[0]):e}const jae=(e,t,r,n)=>{let i=-1;const o=e==null?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r},Dae=(e,t,r,n,i)=>(i(e,(o,a,s)=>{r=n?(n=!1,o):t(r,o,a,s)}),r);function Mae(e,t,r){const n=Array.isArray(e)?jae:Dae,i=arguments.length<3;return n(e,t,r,i,vN)}const Lae=e=>Array.isArray(e)||Ym(e)||!!(e&&e[Symbol.isConcatSpreadable]);function K9(e,t,r,n,i){let o=-1;const a=e.length;for(r||(r=Lae),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?K9(s,t-1,r,n,i):i.push(...s):i[i.length]=s}return i}const Ym=e=>hs(e)&&ka(e)=="[object Arguments]",Fae=e=>typeof e=="number"&&e>-1&&e%1==0&&e<=Number.MAX_SAFE_INTEGER,Bae=(e,t)=>e!=null&&t in Object(e),Uae=(e,t,r)=>{t=Hh(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var a=Vf(t[n]);if(!(o=e!=null&&r(e,a)))break;e=e[a]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&Fae(i)&&z9(a,i)&&(Array.isArray(e)||Ym(e)))},zae=e=>e.match(Joe),qae=e=>e.match(Doe),Vae=(e,t)=>(Goe(e)?qae(e):zae(e))||[],Hae=(e,t,r)=>{const{length:n}=e;return r=r===void 0?n:r,e.slice(t,r)},Wae=Gae("toUpperCase");function Gae(e){return t=>{if(!t)return"";const r=I9(t)?N9(t):void 0,n=r?r[0]:t[0],i=r?Hae(r,1).join(""):t.slice(1);return n[e]()+i}}class lh{constructor(t){const r=this.__data__=new s1(t);this.size=r.size}clear(){this.__data__=new s1,this.size=0}delete(t){const r=this.__data__,n=r.delete(t);return this.size=r.size,n}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,r){let n=this.__data__;if(n instanceof s1){const i=n.__data__;if(i.length<fN-1)return i.push([t,r]),this.size=++n.size,this;n=this.__data__=new J9(i)}return n.set(t,r),this.size=n.size,this}}class s1{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(t){const r=this.__data__,n=Bv(r,t);if(n<0)return!1;const i=r.length-1;return n==i?r.pop():r.splice(n,1),--this.size,!0}get(t){const r=this.__data__,n=Bv(r,t);return n<0?void 0:r[n][1]}has(t){return Bv(this.__data__,t)>-1}set(t,r){const n=this.__data__,i=Bv(n,t);return i<0?(++this.size,n.push([t,r])):n[i][1]=r,this}}class J9{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new sM,map:new Map,string:new sM}}delete(t){const r=Uv(this,t).delete(t);return this.size-=r?1:0,r}get(t){return Uv(this,t).get(t)}has(t){return Uv(this,t).has(t)}set(t,r){const n=Uv(this,t),i=n.size;return n.set(t,r),this.size+=n.size==i?0:1,this}}class sM{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){const r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}get(t){const n=this.__data__[t];return n===gP?void 0:n}has(t){return this.__data__[t]!==void 0}set(t,r){const n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r===void 0?gP:r,this}}class Xm{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.__data__=new J9;++r<n;)this.add(t[r])}add(t){return this.__data__.set(t,gP),this}has(t){return this.__data__.has(t)}}Xm.prototype.push=Xm.prototype.add;const Kae=function(e){var t=Object.prototype.toString;return e===!0||e===!1||!!e&&typeof e=="object"&&t.call(e)===AE},Wr=function(e){return!!e&&(typeof e=="object"||typeof e=="function")},wo=function(e){var t=Object.prototype.toString;return typeof e=="number"||!!e&&typeof e=="object"&&t.call(e)===xE},Ui=function(e){var t=Object.prototype.toString;return typeof e=="string"||!!e&&typeof e=="object"&&t.call(e)===PE},Jt=V9((e,t)=>{if(RE(t)||Da(t)){Cg(t,Ng(t),e);return}for(var r in t)hasOwnProperty.call(t,r)&&kg(e,r,t[r])}),Jae=(e,...t)=>{let r=-1,n=t.length;const i=n>2?t[2]:void 0;for(i&&Qb(t[0],t[1],i)&&(n=1);++r<n;){const o=t[r];if(o==null)continue;const a=Object.keys(o),s=a.length;let l=-1;for(;++l<s;){const u=a[l],f=e[u];(f===void 0||Vh(f,Object.prototype[u])&&!hasOwnProperty.call(e,u))&&(e[u]=o[u])}}return e},va=Jae,Yae=function(...t){return t.push(void 0,H9),ri.apply(void 0,t)},yN=Yae,zs=(e,t,...r)=>{let n=-1;const i=typeof t=="function",o=Da(e)?new Array(e.length):[];return vN(e,a=>{o[++n]=i?t.apply(a,r):Xae(a,t,...r)}),o},Xae=(e,t,...r)=>{t=Hh(t,e),e=U9(e,t);const n=e==null?e:e[Vf(Eae(t))];return n==null?void 0:n.apply(e,r)},Y9=(e,t,r)=>{let n=0,i=e==null?0:e.length;if(i==0)return 0;r=CE(r,2),t=r(t);const o=t!==t,a=t===null,s=Oh(t),l=t===void 0;for(;n<i;){let u;const f=Math.floor((n+i)/2),c=r(e[f]),p=c!==void 0,m=c===null,g=c===c,_=Oh(c);o?u=g:l?u=g&&p:a?u=g&&p&&!m:s?u=g&&p&&!m&&!_:m||_?u=!1:u=c<t,u?n=f+1:i=f}return Math.min(i,Koe)},Dg=(e,t)=>{let r=-1,n=(l,u)=>!!(l==null?0:l.length)&&l.indexOf(u)>-1;t=CE(t,2);let i=!0;const{length:o}=e,a=[];let s=a;if(o>=fN){const l=t?null:Sae(e);if(l)return NE(l);i=!1,n=(u,f)=>u.has(f),s=new Xm}else s=t?[]:a;e:for(;++r<o;){let l=e[r];const u=t?t(l):l;if(l=l!==0?l:0,i&&u===u){let f=s.length;for(;f--;)if(s[f]===u)continue e;t&&s.push(u),a.push(l)}else n(s,u)||(s!==a&&s.push(u),a.push(l))}return a},js=e=>sh(e),ya=e=>sh(e,!0),Pl=e=>{if(e==null)return!0;if(Da(e)&&(Array.isArray(e)||typeof e=="string"||typeof e.splice=="function"||jg(e)||Ym(e)))return!e.length;const t=ka(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(RE(e))return!Zoe(e).length;for(const r in e)if(hasOwnProperty.call(e,r))return!1;return!0},Wd=(e,t)=>IE(e,t),dn=e=>typeof e=="function",zn=e=>{if(!hs(e)||ka(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},Tr=e=>{if(!e)return[];if(Da(e))return Ui(e)?N9(e):dN(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){const n=e[Symbol.iterator]();let i;const o=[];for(;!(i=n.next()).done;)o.push(i.value);return o}const t=ka(e);return(t==Rg?F9:t==Ig?NE:Qoe)(e)};function Qae(e,t,r){if(typeof e!="function")throw new TypeError("Expected a function");let n,i,o,a,s,l,u=0,f=!1,c=!1,p=!0;const m=!t&&t!==0&&window&&typeof window.requestAnimationFrame=="function";t=+t||0,Wr(r)&&(f=!!r.leading,c="maxWait"in r,o=c?Math.max(20,t):o,p="trailing"in r?!!r.trailing:p);function g(d){const A=n,x=i;return n=i=void 0,u=d,a=e.apply(x,A),a}function _(d,A){return m?(window.cancelAnimationFrame(s),window.requestAnimationFrame(d)):setTimeout(d,A)}function v(d){if(m)return window.cancelAnimationFrame(d);clearTimeout(d)}function h(d){return u=d,s=_(S,t),f?g(d):a}function E(d){const A=d-l,x=d-u,P=t-A;return c?Math.min(P,o-x):P}function y(d){const A=d-l,x=d-u;return l===void 0||A>=t||A<0||c&&x>=o}function S(){const d=Date.now();if(y(d))return $(d);s=_(S,E(d))}function $(d){return s=void 0,p&&n?g(d):(n=i=void 0,a)}function T(...d){const A=Date.now(),x=y(A);if(n=d,i=this,l=A,x){if(s===void 0)return h(l);if(c)return s=_(S,t),g(l)}return s===void 0&&(s=_(S,t)),a}return T.cancel=()=>{s!==void 0&&v(s),u=0,n=l=i=s=void 0},T.flush=()=>s===void 0?a:$(Date.now()),T.pending=()=>s!==void 0,T}const Zae=(e,t)=>(t=CE(t,2),Mae(e,(r,n,i)=>(i=t(n),hasOwnProperty.call(r,i)?r[i].push(n):kg(r,i,[n]),r),{})),l1=(e,t=[])=>{if(e==null)return[];const r=t.length;return r>1&&Qb(e,t[0],t[1])?t=[]:r>2&&Qb(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[CE(t,2)]),$ae(e,t.flat(1),[])},ese=e=>(e==null?0:e.length)?K9(e,1/0):[],lM=(e,...t)=>Da(e)?B9(e,t):[],tse=(e,...t)=>hs(e)&&Da(e)?B9(e,t.flat(1)):[],wP=(...e)=>{const t=e.flat(1);return Dg(t)},Nu=(e,t)=>{if(e==null)return!1;typeof t=="string"&&(t=t.split("."));let r=-1,n=e;for(;++r<t.length;){if(!n||!hasOwnProperty.call(n,t[r]))return!1;n=n[t[r]]}return!0},qn=(e,t,r)=>{t=Hh(t,e);let n=-1,i=t.length;for(i||(i=1,e=void 0);++n<i;){let o=e==null?void 0:e[Vf(t[n])];o===void 0&&(n=i,o=r),e=typeof o=="function"?o.call(e):o}return e},Qm=(e,...t)=>{let r={};if(e==null)return r;let n=!1;t=t.flat(1).map(o=>(o=Hh(o,e),n||(n=o.length>1),o)),Cg(e,M9(e),r),n&&(r=sh(r,!0,!0,!0,o=>zn(o)?void 0:o));let i=t.length;for(;i--;)gae(r,t[i]);return r},wa=(e,t=r=>r)=>{let r=-1;const n=Object(e),i=Da(e)?k9(e,!0):q9(e);let o=i.length;for(;o--;){const a=i[++r];if(t(n[a],a,n)===!1)break}},rse=(e="")=>Vae(`${e}`.replace(/['\u2019]/g,"")).reduce((t,r,n)=>(r=r.toLowerCase(),t+(n?Wae(r):r)),"");let nse=0;const ise=(e="")=>{const t=++nse;return`${e}`+t},ri=V9((e,t,r,n)=>{gN(e,t,r,n)},!0),rs=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Hu.classNamePrefix.length)!==Hu.classNamePrefix&&(t=Hu.classNamePrefix+t),t}).join(" ")},ose=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Hu.classNamePrefix.length)===Hu.classNamePrefix&&(t=t.substr(Hu.classNamePrefix.length)),t}).join(" ")},Zb=function(e,t){const r={},n={},i=at.namespace.svg,o=t||i,a=document.createDocumentFragment(),s=function(l,u,f){for(let c=0;c<l.length;c++){const p=l[c];if(typeof p=="string"){const S=document.createTextNode(p);u.appendChild(S);continue}if(!p.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const m=p.tagName;let g;p.hasOwnProperty("namespaceURI")&&(f=p.namespaceURI),g=document.createElementNS(f,m);const _=f===i,v=_?at:Lr,h=p.attributes;h&&v(g).attr(h);const E=p.style;if(E&&Lr(g).css(E),p.hasOwnProperty("className")){const S=p.className;_?g.className.baseVal=S:g.className=S}if(p.hasOwnProperty("textContent")&&(g.textContent=p.textContent),p.hasOwnProperty("selector")){const S=p.selector;if(r[S])throw new Error("json-dom-parser: selector must be unique");r[S]=g,v(g).attr("joint-selector",S)}if(p.hasOwnProperty("groupSelector")){let S=p.groupSelector;Array.isArray(S)||(S=[S]);for(let $=0;$<S.length;$++){const T=S[$];let d=n[T];d||(d=n[T]=[]),d.push(g)}}u.appendChild(g);const y=p.children;Array.isArray(y)&&s(y,g,f)}};return s(e,a,o),{fragment:a,selectors:r,groupSelectors:n}},zv=function(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return t},Zm=function(e,t,r){for(var n=Array.isArray(t)?t:t.split(r||"/"),i,o=0,a=n.length;o<a;)if(i=n[o++],Object(e)===e&&i in e)e=e[i];else return;return e},X9=function(e,t){return typeof t!="string"&&typeof t!="number"&&(t=String(t)),!(t==="constructor"&&typeof e[t]=="function"||t==="__proto__")},uM=function(e,t,r,n){const i=Array.isArray(t)?t:t.split(n||"/"),o=i.length-1;let a=e,s=0;for(;s<o;s++){const l=i[s];if(!X9(a,l))return e;a=a[l]||(a[l]={})}return a[i[o]]=r,e},cM=function(e,t,r){const n=Array.isArray(t)?t:t.split(r),i=n.length-1;let o=e,a=0;for(;a<i;a++){const s=n[a];if(!X9(o,s))return e;const l=o[s];if(!l)return e;o=l}return delete o[n[i]],e},ase=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})},Gd=function(e){return Gd.id=Gd.id||1,e===void 0?"j_"+Gd.id++:(e.id=e.id===void 0?"j_"+Gd.id++:e.id,e.id)},sse=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},wi=function(e){if(e.normalized)return e;const{originalEvent:t,target:r}=e,n=t&&t.changedTouches&&t.changedTouches[0];if(n)for(let i in n)e[i]===void 0&&(e[i]=n[i]);if(r){const i=r.correspondingUseElement;i&&(e.target=i)}return e.normalized=!0,e},lse=function(e){let i=0,o=0,a=0,s=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(i=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(i=o,o=0),a="deltaX"in e?e.deltaX:i*10,s="deltaY"in e?e.deltaY:o*10,(a||s)&&e.deltaMode&&(e.deltaMode==1?(a*=40,s*=40):(a*=800,s*=800)),e.deltaX===0&&e.deltaY!==0&&e.shiftKey&&(a=s,s=0,i=o,o=0),a&&!i&&(i=a<1?-1:1),s&&!o&&(o=s<1?-1:1),{spinX:i,spinY:o,deltaX:a,deltaY:s}},use=function(e,t){return e>t?t:e<-50?-50:e},bP=function(){var e;if(typeof window<"u"&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(r){var n=new Date().getTime(),i=Math.max(0,16-(n-t)),o=setTimeout(function(){r(n+i)},i);return t=n+i,o}}return function(r,n,...i){return e(n!==void 0?r.bind(n,...i):r)}}(),_P=function(){var e,t=typeof window<"u";return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e}(),xi=function(e){return Ui(e)&&e.slice(-1)==="%"},cse=function(e,t){function r(s){var l=new RegExp("(?:\\d+(?:\\.\\d+)*)("+s+")$").exec(e);return l?l[1]:null}var n=parseFloat(e);if(Number.isNaN(n))return null;var i={};i.value=n;var o;if(t==null)o="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;o=t.join("|")}else Ui(t)&&(o=t);var a=r(o);return a===null?null:(i.unit=a,i)},cm=0;function fse(e,t){const r=e.split(t);let n=1;for(let i=0,o=r.length-1;i<o;i++){const a=[];(i>0||r[0]!=="")&&a.push(cm),a.push(t),(i<o-1||r[o]!=="")&&a.push(cm),r.splice(n,0,...a),n+=a.length+1}return r.filter(i=>i!=="")}function fM(e,t){if(e===null)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}const dse=function(e,t,r={},n={}){var i=t.width,o=t.height,a=n.svgDocument||at("svg").node,s=at("tspan").node,l=at("text").attr(r).append(s).node,u=document.createTextNode("");l.style.opacity=0,l.style.display="block",s.style.display="block",s.appendChild(u),a.appendChild(l),n.svgDocument||document.body.appendChild(a);const f=n.preserveSpaces,c=" ",p=n.separator||n.separator===""?n.separator:c,m=typeof p=="string"?p:c;var g=n.eol||`
`,_=n.hyphen?new RegExp(n.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,v=n.maxLineCount;wo(v)||(v=1/0);var h=e.split(p),E=[],y=[],S,$,T;f&&at(s).attr("xml:space","preserve");for(var d=0,A=0,x=h.length;d<x;d++){var P=h[d];if(!(!P&&!f)&&typeof P=="string"){var j=!1;if(P.indexOf(g)>=0)if(P.length>1){const M=fse(h[d],g);h.splice(d,1,...M),d--,x=h.length;continue}else{if(f&&typeof h[d-1]=="string"){h.splice(d,cm,"",cm),x+=2,d--;continue}y[++A]=!f||typeof h[d+1]=="string"?"":void 0,j=!0}if(!j){let M;if(f?M=y[A]!==void 0?y[A]+m+P:P:M=y[A]?y[A]+m+P:P,u.data=M,s.getComputedTextLength()<=i)y[A]=M,(S||$)&&(E[A++]=!0,S=0,$=0);else{if(!y[A]||S){var F=!!S;if(S=P.length-1,F||!S){if(!S){if(!y[A]){y=[];break}h.splice(d,2,P+h[d+1]),x--,E[A++]=!0,d--;continue}h[d]=P.substring(0,S);const B=h[d+1];h[d+1]=P.substring(S)+(B===void 0||B===cm?"":B)}else{if($)h.splice(d,2,h[d]+h[d+1]),$=0;else{var V=P.search(_);V>-1&&V!==P.length-1&&V!==0&&($=V+1,S=0),h.splice(d,1,P.substring(0,$||S),P.substring($||S)),x++}A&&!E[A-1]&&A--}(!f||y[A]!=="")&&d--;continue}A++,d--}}var X=null;if(y.length>v)X=v-1;else if(o!==void 0){if(T===void 0&&u.data!=="")if(r.lineHeight==="auto")T=fM({value:1.5,unit:"em"},l);else{const M=cse(r.lineHeight,["em","px",""]);T=fM(M,l)}T*y.length>o&&(X=Math.floor(o/T)-1)}if(X!==null){y.splice(X+1);var H=n.ellipsis;if(!H||X<0)break;typeof H!="string"&&(H="");var Z=y[X];if(!Z&&!j)break;var fe=Z.length,ee,ae;do{if(ae=Z[fe],ee=Z.substring(0,fe),ae?ae.match(p)&&(ee+=ae):ee+=m,ee+=H,u.data=ee,s.getComputedTextLength()<=i){y[X]=ee;break}fe--}while(fe>=0);break}}}return n.svgDocument?a.removeChild(l):document.body.removeChild(a),y.join(g)},hse=function(e,t){var r=Lr(e),n=r.map(function(){var i=this,o=i.parentNode,a=o.insertBefore(document.createTextNode(""),i.nextSibling);return function(){if(o===this)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(this,a),o.removeChild(a)}});return Array.prototype.sort.call(r,t).each(function(i){n[i].call(this)})},Rf=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var r,n,i,o;return r=n=i=o=0,isFinite(e.vertical)&&(r=i=+e.vertical),isFinite(e.horizontal)&&(n=o=+e.horizontal),isFinite(e.top)&&(r=+e.top),isFinite(e.right)&&(n=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(o=+e.left),{top:r,right:n,bottom:i,left:o}},pse={linear:function(e){return e}},Q9={number:function(e,t){var r=t-e;return function(n){return e+r*n}},object:function(e,t){var r=Object.keys(e);return function(n){var i,o,a={};for(i=r.length-1;i!=-1;i--)o=r[i],a[o]=e[o]+(t[o]-e[o])*n;return a}}},mse={outline:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',r=Number.isFinite(e.margin)?e.margin:2,n=Number.isFinite(e.width)?e.width:1;return Gi(t)({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:r+n,innerRadius:r})},highlight:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return Gi(t)({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return Gi('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return Gi(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Gi('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Gi('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Gi('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return Gi('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Gi('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return Gi('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Gi('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},Gi=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(r){return r=r||{},e.replace(t,function(n){for(var i=Array.from(arguments),o=i.slice(1,4).find(function(l){return!!l}),a=o.split("."),s=r[a.shift()];s!==void 0&&a.length;)s=s[a.shift()];return s!==void 0?s:""})}};function Z9(e){e=Dg(e);const t=Tr(e).reduce(function(r,n){return r[n.id]=n.clone(),r},{});return Tr(e).forEach(function(r){const n=t[r.id];if(n.isLink()){const a=n.source(),s=n.target();a.id&&t[a.id]&&n.prop("source/id",t[a.id].id),s.id&&t[s.id]&&n.prop("target/id",t[s.id].id)}const i=r.get("parent");i&&t[i]&&n.set("parent",t[i].id);const o=Tr(r.get("embeds")).reduce(function(a,s){return t[s]&&a.push(t[s].id),a},[]);Pl(o)||n.set("embeds",o)}),t}const gse=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],vse=gse.reduce((e,t)=>(e[t]=!0,e),{}),yse={qualify:function(e){return zn(e)},set:function(e,t,r){Object.keys(e).forEach(function(n){if(vse[n]&&n in r){const i=e[n];r.tagName==="SELECT"&&Array.isArray(i)?Array.from(r.options).forEach(function(o,a){o.selected=i.includes(o.value)}):r[n]=i}})}};function uu(e,t){return function(r,n){var i=xi(r);r=parseFloat(r),i&&(r/=100);var o={};if(isFinite(r)){var a=i||r>=0&&r<=1?r*n[t]:Math.max(r+n[t],0);o[e]=a}return o}}function qv(e,t,r){return function(n,i){var o=xi(n);n=parseFloat(n),o&&(n/=100);var a;if(isFinite(n)){var s=i[r]();o||n>0&&n<1?a=s[e]+i[t]*n:a=s[e]+n}var l=ze();return l[e]=a||0,l}}function dM(e,t,r){return function(n,i){var o;n==="middle"?o=i[t]/2:n===r?o=i[t]:isFinite(n)?o=n>-1&&n<1?-i[t]*n:-n:xi(n)?o=i[t]*parseFloat(n)/100:o=0;var a=ze();return a[e]=-(i[e]+o),a}}function eH(e,t){var r="joint-shape",n=t&&t.resetOffset;return function(i,o,a){var s=Lr(a),l=s.data(r);if(!l||l.value!==i){var u=e(i);l={value:i,shape:u,shapeBBox:u.bbox()},s.data(r,l)}var f=l.shape.clone(),c=l.shapeBBox.clone(),p=c.origin(),m=o.origin();c.x=m.x,c.y=m.y;var g=o.maxRectScaleToFit(c,m),_=c.width===0||o.width===0?1:g.sx,v=c.height===0||o.height===0?1:g.sy;return f.scale(_,v,p),n&&f.translate(-p.x,-p.y),f}}function hM(e){function t(n){return new Bt(at.normalizePathData(n))}var r=eH(t,e);return function(n,i,o){var a=r(n,i,o);return{d:a.serialize()}}}function pM(e){var t=eH(un,e);return function(r,n,i){var o=t(r,n,i);return{points:o.serialize()}}}function Vv(e,t){var r=new ze(1,0);return function(n){var i,o,a=this[e](n);return a?(o=t.rotate?a.vector().vectorAngle(r):0,i=a.start):(i=this.path.start,o=0),o===0?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+o+")"}}}function mM(e){return function(r,n,i){const o=at(i);o.attr(e)!==r&&o.attr(e,r)}}function hd(e,t,r){return r.text!==void 0}function vp(){return this.model.isLink()}function u1(e){var t={},r=e.stroke;typeof r=="string"&&(t.stroke=r,t.fill=r);var n=e.strokeOpacity;return n===void 0&&(n=e["stroke-opacity"]),n===void 0&&(n=e.opacity),n!==void 0&&(t["stroke-opacity"]=n,t["fill-opacity"]=n),t}function gM(e){const{paper:t}=this;return`url(#${e.type==="pattern"?t.definePattern(e):t.defineGradient(e)})`}const nr={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:mM("href")},xlinkHref:{set:mM("xlink:href")},filter:{qualify:zn,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:zn,set:gM},stroke:{qualify:zn,set:gM},sourceMarker:{qualify:zn,set:function(e,t,r,n){return e=Jt(u1(n),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:zn,set:function(e,t,r,n){return e=Jt(u1(n),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:zn,set:function(e,t,r,n){return e=Jt(u1(n),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,r){return!r.textWrap||!zn(r.textWrap)},set:function(e,t,r,n){const i=Lr(r),o="joint-text",a=i.data(o),{lineHeight:s,annotations:l,textVerticalAnchor:u,eol:f,displayEmpty:c}=n;let p=n.textPath,m=n.x;Sa(m)&&(m=$a(m,t));let g=n["font-size"]||n.fontSize;Sa(g)&&(g=$a(g,t));const _=JSON.stringify([e,s,l,u,f,c,p,m,g]);if(a===void 0||a!==_){if(g&&r.setAttribute("font-size",g),Wr(p)){const v=p.selector;if(typeof v=="string"){const[h]=this.findBySelector(v);h instanceof SVGPathElement&&(p=Jt({"xlink:href":"#"+h.id},p))}}at(r).text(""+e,{lineHeight:s,annotations:l,textPath:p,x:m,textVerticalAnchor:u,eol:f,displayEmpty:c}),i.data(o,_)}}},textWrap:{qualify:zn,set:function(e,t,r,n){var i={},o=e.width||0;xi(o)?i.width=t.width*parseFloat(o)/100:Sa(o)?i.width=Number($a(o,t)):e.width===null?i.width=1/0:o<=0?i.width=t.width+o:i.width=o;var a=e.height||0;xi(a)?i.height=t.height*parseFloat(a)/100:Sa(a)?i.height=Number($a(a,t)):e.height===null||(a<=0?i.height=t.height+a:i.height=a);var s,l=e.text;if(l===void 0&&(l=n.text),l!==void 0){const u=e.breakText||dse,f=n["font-size"]||n.fontSize;s=u(""+l,i,{"font-weight":n["font-weight"]||n.fontWeight,"font-size":Sa(f)?$a(f,t):f,"font-family":n["font-family"]||n.fontFamily,lineHeight:n.lineHeight,"letter-spacing":"letter-spacing"in n?n["letter-spacing"]:n.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else s="";nr.text.set.call(this,s,t,r,n)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,r){var n=Lr(r),i="joint-title",o=n.data(i);if(o===void 0||o!==e){if(n.data(i,e),r.tagName==="title"){r.textContent=e;return}var a=r.firstElementChild;if(a&&a.tagName==="title")a.textContent=e;else{var s=document.createElementNS(r.namespaceURI,"title");s.textContent=e,r.insertBefore(s,a)}}}},lineHeight:{qualify:hd},textVerticalAnchor:{qualify:hd},textPath:{qualify:hd},annotations:{qualify:hd},eol:{qualify:hd},displayEmpty:{qualify:hd},port:{set:function(e){return e===null||e.id===void 0?e:e.id}},style:{qualify:zn,set:function(e,t,r){Lr(r).css(e)}},html:{set:function(e,t,r){Lr(r).html(e+"")}},props:yse,ref:{},refX:{position:qv("x","width","origin")},refY:{position:qv("y","height","origin")},refDx:{position:qv("x","width","corner")},refDy:{position:qv("y","height","corner")},refWidth:{set:uu("width","width")},refHeight:{set:uu("height","height")},refRx:{set:uu("rx","width")},refRy:{set:uu("ry","height")},refRInscribed:{set:function(e){var t=uu(e,"width"),r=uu(e,"height");return function(n,i){var o=i.height>i.width?t:r;return o(n,i)}}("r")},refRCircumscribed:{set:function(e,t){var r=xi(e);e=parseFloat(e),r&&(e/=100);var n=Math.sqrt(t.height*t.height+t.width*t.width),i;return isFinite(e)&&(r||e>=0&&e<=1?i=e*n:i=Math.max(e+n,0)),{r:i}}},refCx:{set:uu("cx","width")},refCy:{set:uu("cy","height")},xAlignment:{offset:dM("x","width","right")},yAlignment:{offset:dM("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:hM({resetOffset:!0})},refDKeepOffset:{set:hM({resetOffset:!1})},refPointsResetOffset:{set:pM({resetOffset:!0})},refPointsKeepOffset:{set:pM({resetOffset:!1})},connection:{qualify:vp,set:function({stubs:e=0}){let t;if(isFinite(e)&&e!==0){let r;e<0?r=(this.getConnectionLength()+e)/2:r=e;const n=this.getConnection(),i=this.getConnectionSubdivisions(),o=n.divideAtLength(r,{segmentSubdivisions:i}),a=n.divideAtLength(-r,{segmentSubdivisions:i});o&&a&&(t=`${o[0].serialize()} ${a[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:vp,set:Vv("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:vp,set:Vv("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:vp,set:Vv("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:vp,set:Vv("getTangentAtRatio",{rotate:!1})}};nr["xlink:href"]=nr.xlinkHref;["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(e=>{nr[e]={qualify:Sa,set:function(r,n){return{[e]:$a(r,n)}}}});["width","height","r","rx","ry","font-size","stroke-width"].forEach(e=>{nr[e]={qualify:Sa,set:function(r,n){return{[e]:Math.max(0,$a(r,n))}}}});nr.refR=nr.refRInscribed;nr.refD=nr.refDResetOffset;nr.refPoints=nr.refPointsResetOffset;nr.atConnectionLength=nr.atConnectionLengthKeepGradient;nr.atConnectionRatio=nr.atConnectionRatioKeepGradient;nr.fontSize=nr["font-size"];nr.strokeWidth=nr["stroke-width"];nr.refX2=nr.refX;nr.refY2=nr.refY;nr.refWidth2=nr.refWidth;nr.refHeight2=nr.refHeight;nr["ref-x"]=nr.refX;nr["ref-y"]=nr.refY;nr["ref-dy"]=nr.refDy;nr["ref-dx"]=nr.refDx;nr["ref-width"]=nr.refWidth;nr["ref-height"]=nr.refHeight;nr["x-alignment"]=nr.xAlignment;nr["y-alignment"]=nr.yAlignment;const tH=nr,Qs=Li.Model.extend({constructor:function(e,t){var r,n=e||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=ise("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(n=this.parse(n,t)||{}),(r=qn(this,"defaults"))&&(n=ri({},r,n)),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,r){throw new Error("Must define a translate() method.")},toJSON:function(){const t=qn(this.constructor.prototype,"defaults").attrs||{},r=this.attributes.attrs,n={};wa(r,function(o,a){const s=t[a];wa(o,function(l,u){Wr(l)&&!Array.isArray(l)?wa(l,function(f,c){(!s||!s[u]||!Wd(s[u][c],f))&&(n[a]=n[a]||{},(n[a][u]||(n[a][u]={}))[c]=f)}):(!s||!Wd(s[u],l))&&(n[a]=n[a]||{},n[a][u]=l)})});const i=ya(Qm(this.attributes,"attrs"));return i.attrs=n,i},initialize:function(e){const t=this.getIdAttribute();(!e||e[t]===void 0)&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return ase()},processPorts:function(){var e=this.ports,t={};wa(this.get("attrs"),function(o,a){o&&o.port&&(o.port.id!==void 0?t[o.port.id]=o.port:t[o.port]={id:o.port})});var r={};if(wa(e,function(o,a){t[a]||(r[a]=!0)}),this.graph&&!Pl(r)){var n=this.graph.getConnectedLinks(this,{inbound:!0});n.forEach(function(o){r[o.get("target").port]&&o.remove()});var i=this.graph.getConnectedLinks(this,{outbound:!0});i.forEach(function(o){r[o.get("source").port]&&o.remove()})}this.ports=t},remove:function(e={}){const{graph:t,collection:r}=this;if(!t)return r&&r.remove(this,e),this;t.startBatch("remove");const n=this.getParentCell();n&&n.unembed(this,e);const i=this.getEmbeddedCells();for(let o=0,a=i.length;o<a;o++){const s=i[o];s&&s.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=va(e||{},{foregroundEmbeds:!0});let r;e.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),r.unshift(this)):r=[this];const n=e.foregroundEmbeds?r:l1(r,l=>l.z());let o=t.maxZIndex()-r.length+1;const a=t.get("cells");let s=a.indexOf(n[0])!==a.length-r.length;s||(s=n.some(function(l,u){return l.z()!==o+u})),s&&(this.startBatch("to-front"),o=o+r.length,n.forEach(function(l,u){l.set("z",o+u,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=va(e||{},{foregroundEmbeds:!0});let n;e.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];const i=e.foregroundEmbeds?n:l1(n,s=>s.z());let o=t.minZIndex();var r=t.get("cells");let a=r.indexOf(i[0])!==0;a||(a=i.some(function(s,l){return s.z()!==o+l})),a&&(this.startBatch("to-back"),o-=n.length,i.forEach(function(s,l){s.set("z",o+l,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return e===void 0?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){const r=Array.isArray(e)?e:[e];if(!this.canEmbed(r))throw new Error("Recursive embedding not allowed.");if(r.some(n=>n.isEmbedded()&&this.id!==n.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(r,t),this},unembed:function(e,t){const r=Array.isArray(e)?e:[e];return this._unembedCells(r,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every(r=>this!==r&&!this.isEmbeddedIn(r))},_embedCells:function(e,t){const r="embed";this.startBatch(r);const n=Jt([],this.get("embeds"));e.forEach(i=>{n[i.isLink()?"unshift":"push"](i.id),i.parent(this.id,t)}),this.set("embeds",Dg(n),t),this.stopBatch(r)},_unembedCells:function(e,t){const r="unembed";this.startBatch(r),e.forEach(n=>n.unset("parent",t)),this.set("embeds",lM(this.get("embeds"),...e.map(n=>n.id)),t),this.stopBatch(r)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},!this.graph)return[];if(e.deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);const t=this.get("embeds");if(Pl(t))return[];let r=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(r=l1(r,n=>n.z())),r},_getEmbeddedCellsBfs:function(e){const t=[],r=[];for(r.push(this);r.length>0;){const n=r.shift();t.push(n);const i=n.getEmbeddedCells({sortSiblings:e});r.push(...i)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){const t=[],r=[];for(r.push(this);r.length>0;){const n=r.pop();t.push(n);const i=n.getEmbeddedCells({sortSiblings:e});for(let o=i.length-1;o>=0;--o)r.push(i[o])}return t.shift(),t},isEmbeddedIn:function(e,t){var r=Ui(e)?e:e.id,n=this.parent();if(t=Jt({deep:!0},t),this.graph&&t.deep){for(;n;){if(n===r)return!0;n=this.graph.getCell(n).parent()}return!1}else return n===r},isEmbedded:function(){return!!this.parent()},clone:function(e){if(e=e||{},e.deep)return Tr(Z9([this].concat(this.getEmbeddedCells({deep:!0}))));var t=Li.Model.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,r){var n="/",i=Ui(e);if(i||Array.isArray(e))if(arguments.length>1){var o,a;i?(o=e,a=o.split("/")):(o=e.join(n),a=e.slice());var s=a[0],l=a.length;const y=r||{};y.propertyPath=o,y.propertyValue=t,y.propertyPathArray=a,"rewrite"in y||(y.rewrite=!1);for(var u={},f=u,c=s,p=1;p<l;p++){var m=a[p],g=Number.isFinite(i?Number(m):m);f=f[c]=g?[]:{},c=m}u=uM(u,a,t,"/");var _=ri({},this.attributes);y.rewrite&&cM(_,o,"/");var v=ri(_,u);return this.set(s,v[s],y)}else return Zm(this.attributes,e,n);const h=t||{};h.propertyPath=null,h.propertyValue=e,h.propertyPathArray=[],"rewrite"in h||(h.rewrite=!1);const E={};for(const y in e){const{changedValue:S}=ri({},{changedValue:this.attributes[y]},{changedValue:e[y]});E[y]=S}return this.set(E,h)},removeProp:function(e,t){t=t||{};var r=Array.isArray(e)?e:e.split("/"),n=r[0];if(n==="attrs"&&(t.dirty=!0),r.length===1)return this.unset(e,t);var i=r.slice(1),o=this.get(n);return o==null?this:(o=ya(o),cM(o,i,"/"),this.set(n,o,t))},attr:function(e,t,r){var n=Array.from(arguments);return n.length===0?this.get("attrs"):(Array.isArray(e)?n[0]=["attrs"].concat(e):Ui(e)?n[0]="attrs/"+e:n[0]={attrs:e},this.prop.apply(this,n))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,r,n){n=n||"/";var i={duration:100,delay:10,timingFunction:pse.linear,valueFunction:Q9.number};r=Jt(i,r);var o=0,a,s=(function(c){var p,m,g;o=o||c,c-=o,m=c/r.duration,m<1?this._transitionIds[e]=p=bP(s):(m=1,delete this._transitionIds[e]),g=a(r.timingFunction(m)),r.transitionId=p,this.prop(e,g,r),p||this.trigger("transition:end",this,e)}).bind(this);const{_scheduledTransitionIds:l}=this;let u;var f=c=>{l[e]&&(l[e]=lM(l[e],u),l[e].length===0&&delete l[e]),this.stopPendingTransitions(e,n),a=r.valueFunction(Zm(this.attributes,e,n),t),this._transitionIds[e]=bP(c),this.trigger("transition:start",this,e)};return u=setTimeout(f,r.delay,s),l[e]||(l[e]=[]),l[e].push(u),u},getTransitions:function(){return wP(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t="/"){const{_scheduledTransitionIds:r={}}=this;let n=Object.keys(r);if(e){const i=e.split(t);n=n.filter(o=>Wd(i,o.split(t).slice(0,i.length)))}return n.forEach(i=>{r[i].forEach(a=>clearTimeout(a)),delete r[i]}),this},stopPendingTransitions(e,t="/"){const{_transitionIds:r={}}=this;let n=Object.keys(r);if(e){const i=e.split(t);n=n.filter(o=>Wd(i,o.split(t).slice(0,i.length)))}n.forEach(i=>{const o=r[i];_P(o),delete r[i],this.trigger("transition:end",this,i)})},stopTransitions:function(e,t="/"){return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,Jt({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,Jt({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var r in e)!e.hasOwnProperty(r)||!this.hasChanged(r)||(t|=e[r]);return t},angle:function(){return 0},position:function(){return new ze(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new ze},getBBox:function(){return new Pt(0,0,0,0)},getPointRotatedAroundCenter(e,t,r){const n=new ze(t,r);return e&&n.rotate(this.getBBox().center(),e),n},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes,r=tH;return t&&t[e]||r[e]},define:function(e,t,r,n){r=Jt({defaults:yN({type:e},t,this.prototype.defaults)},r);var i=this.extend(r,n);return typeof joint<"u"&&Nu(joint,"shapes")&&uM(joint.shapes,e,i,"."),i}}),wse=function(e,t,r){if(Ui(r)){if(!EP[r])throw new Error('Unknown wrapper: "'+r+'"');r=EP[r]}if(!dn(r))throw new Error("Wrapper must be a function.");Tr(t).forEach(function(n){e[n]=r(e[n])})},EP={cells:function(e){return function(){var t=Array.from(arguments),r=t.length,n=r>0&&t[0]||[],i=r>1&&t[r-1]||{};return Array.isArray(n)||(i instanceof Qs?n=t:n instanceof Qs&&(t.length>1&&t.pop(),n=t)),i instanceof Qs&&(i={}),e.call(this,n,i)}}},Dn={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function rH(e,t){const r=new Pt(e);switch(t){case void 0:throw new Error("Position required");case Dn.LEFT:case"leftMiddle":return r.leftMiddle();case Dn.RIGHT:case"rightMiddle":return r.rightMiddle();case Dn.TOP:case"topMiddle":return r.topMiddle();case Dn.BOTTOM:case"bottomMiddle":return r.bottomMiddle();case Dn.TOP_LEFT:case"topLeft":case"origin":return r.topLeft();case Dn.TOP_RIGHT:case"topRight":return r.topRight();case Dn.BOTTOM_LEFT:case"bottomLeft":return r.bottomLeft();case Dn.BOTTOM_RIGHT:case"bottomRight":case"corner":return r.bottomRight();case Dn.CENTER:return r.center();default:throw new Error(`Unknown position: ${t}`)}}function nH(e,t,r){var n=e.toJSON();return n.angle=t||0,va({},r,n)}function Mg(e,t,r,n){return e.map(function(i,o,a){var s=this.pointAt((o+.5)/a.length);return(i.dx||i.dy)&&s.offset(i.dx||0,i.dy||0),nH(s.round(),0,wN(n,i))},vf(t,r))}function iH(e,t,r,n){var i=t.center(),o=t.width/t.height,a=t.topMiddle(),s=eo.fromRect(t);return e.map(function(l,u,f){var c=r+n(u,f.length),p=a.clone().rotate(i,-c).scale(o,1,i),m=l.compensateRotation?-s.tangentTheta(p):0;return(l.dx||l.dy)&&p.offset(l.dx||0,l.dy||0),l.dr&&p.move(i,l.dr),nH(p.round(),m,wN(t,l))})}function wN(e,t){let{x:r,y:n,angle:i}=t;return xi(r)?r=parseFloat(r)/100*e.width:Sa(r)&&(r=Number($a(r,e))),xi(n)?n=parseFloat(n)/100*e.height:Sa(n)&&(n=Number($a(n,e))),{x:r,y:n,angle:i}}function SP(e,t){const{x:r,y:n}=wN(e,t);return new ze(r||0,n||0)}const bse=function(e,t){return e.map(r=>{const n=SP(t,r).round().toJSON();return n.angle=r.angle||0,n})},_se=function(e,t,r){return r.fn(e,t,r)},Ese=function(e,t,r){var n=SP(t,r.start||t.origin()),i=SP(t,r.end||t.corner());return Mg(e,n,i,t)},Sse=function(e,t,r){return Mg(e,t.origin(),t.bottomLeft(),t)},$se=function(e,t,r){return Mg(e,t.topRight(),t.corner(),t)},Tse=function(e,t,r){return Mg(e,t.origin(),t.topRight(),t)},Ase=function(e,t,r){return Mg(e,t.bottomLeft(),t.corner(),t)},xse=function(e,t,r){var n=r.startAngle||0,i=r.step||360/e.length;return iH(e,t,n,function(o){return o*i})},Pse=function(e,t,r){var n=r.startAngle||0,i=r.step||20;return iH(e,t,n,function(o,a){return(o+.5-a/2)*i})},Ose=Object.freeze(Object.defineProperty({__proto__:null,absolute:bse,bottom:Ase,ellipse:Pse,ellipseSpread:xse,fn:_se,left:Sse,line:Ese,right:$se,top:Tse},Symbol.toStringTag,{value:"Module"}));function pc(e,t){return yN({},e,t,{x:0,y:0,angle:0,attrs:{}})}function oH(e){var t=e.center(),r=t.theta(e.origin()),n=t.theta(e.bottomLeft()),i=t.theta(e.corner()),o=t.theta(e.topRight());return[r,o,i,n]}function aH(e,t,r,n){n=va({},n,{offset:15});var i=t.center().theta(e),o,a,s,l,u=n.offset,f=0;const[c,p,m,g]=oH(t);i<p||i>m?(s=".3em",o=u,a=0,l="start"):i<c?(o=0,a=-u,r?(f=-90,l="start",s=".3em"):(l="middle",s="0")):i<g?(s=".3em",o=-u,a=0,l="end"):(o=0,a=u,r?(f=90,l="start",s=".3em"):(l="middle",s=".6em"));var _=Math.round;return pc(n,{x:_(o),y:_(a),angle:f,attrs:{labelText:{y:s,textAnchor:l}}})}function sH(e,t,r,n){n=va({},n,{offset:15});var i=t.center().theta(e),o,a,s,l,u=n.offset,f=0;const[c,p,m,g]=oH(t);i<p||i>m?(s=".3em",o=-u,a=0,l="end"):i<c?(o=0,a=u,r?(f=90,l="start",s=".3em"):(l="middle",s=".6em")):i<g?(s=".3em",o=u,a=0,l="start"):(o=0,a=-u,r?(f=-90,l="start",s=".3em"):(l="middle",s="0"));var _=Math.round;return pc(n,{x:_(o),y:_(a),angle:f,attrs:{labelText:{y:s,textAnchor:l}}})}function lH(e,t,r){r=va({},r,{offset:20});var n=Wb(0,0),i=-e.theta(n),o=i,a=e.clone().move(n,r.offset).difference(e).round(),s=".3em",l;(i+90)%180===0?(l=t?"end":"middle",!t&&i===-270&&(s="0em")):i>-270&&i<-90?(l="start",o=i-180):l="end";var u=Math.round;return pc(r,{x:u(a.x),y:u(a.y),angle:t?o:0,attrs:{labelText:{y:s,textAnchor:l}}})}const Rse=function(e,t,r){return pc(r)},Ise=function(e,t,r){return pc(r,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},Nse=function(e,t,r){return pc(r,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},kse=function(e,t,r){return pc(r,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},Cse=function(e,t,r){return pc(r,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},jse=function(e,t,r){return aH(e,t,!0,r)},Dse=function(e,t,r){return aH(e,t,!1,r)},Mse=function(e,t,r){return sH(e,t,!0,r)},Lse=function(e,t,r){return sH(e,t,!1,r)},Fse=function(e,t,r){return lH(e.difference(t.center()),!1,r)},Bse=function(e,t,r){return lH(e.difference(t.center()),!0,r)},Use=Object.freeze(Object.defineProperty({__proto__:null,bottom:Cse,inside:Lse,insideOriented:Mse,left:Ise,manual:Rse,outside:Dse,outsideOriented:jse,radial:Fse,radialOriented:Bse,right:Nse,top:kse},Symbol.toStringTag,{value:"Module"})),Wh=Qs.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,r){if(e===void 0)return js(this.get("source"));var n,i,o=e instanceof Qs;if(o)return n=js(t)||{},n.id=e.id,i=r,this.set("source",n,i);var a=!zn(e);return a?(n=js(t)||{},n.x=e.x,n.y=e.y,i=r,this.set("source",n,i)):(n=e,i=t,this.set("source",n,i))},target:function(e,t,r){if(e===void 0)return js(this.get("target"));var n,i,o=e instanceof Qs;if(o)return n=js(t)||{},n.id=e.id,i=r,this.set("target",n,i);var a=!zn(e);return a?(n=js(t)||{},n.x=e.x,n.y=e.y,i=r,this.set("target",n,i)):(n=e,i=t,this.set("target",n,i))},router:function(e,t,r){if(e===void 0){var n=this.get("router");return n?typeof n=="object"?js(n):n:this.get("manhattan")?{name:"orthogonal"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},a=i?t:r;return this.set("router",o,a)},connector:function(e,t,r){if(e===void 0){var n=this.get("connector");return n?typeof n=="object"?js(n):n:this.get("smooth")?{name:"smooth"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},a=i?t:r;return this.set("connector",o,a)},label:function(e,t,r){var n=this.labels();return e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=n.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,r)},labels:function(e,t){return arguments.length===0?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){const{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,r){if(!t)throw new Error("dia.Link: no label provided");var n=this.labels(),i=n.length;return e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1),n.splice(e,0,t),this.labels(n,r)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var r=this.labels();return e=isFinite(e)&&e!==null?e|0:-1,r.splice(e,1),this.labels(r,t)},vertex:function(e,t,r){var n=this.vertices();if(e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=n.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,r)},vertices:function(e,t){if(arguments.length===0)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var r=[],n=0;n<e.length;n++){var i=e[n],o=this._normalizeVertex(i);r.push(o)}return this.set("vertices",r,t)},insertVertex:function(e,t,r){if(!t)throw new Error("dia.Link: no vertex provided");var n=this.vertices(),i=n.length;e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1);var o=this._normalizeVertex(t);return n.splice(e,0,o),this.vertices(n,r)},removeVertex:function(e,t){var r=this.vertices();return e=isFinite(e)&&e!==null?e|0:-1,r.splice(e,1),this.vertices(r,t)},_normalizeVertex:function(e){var t=!zn(e);return t?{x:e.x,y:e.y}:e},translate:function(e,t,r){return r=r||{},r.translateBy=r.translateBy||this.id,r.tx=e,r.ty=t,this.applyToPoints(function(n){return{x:(n.x||0)+e,y:(n.y||0)+t}},r)},scale:function(e,t,r,n){return this.applyToPoints(function(i){return ze(i).scale(e,t,r).toJSON()},n)},applyToPoints:function(e,t){if(!dn(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var r={},{source:n,target:i}=this.attributes;n.id||(r.source=e(n)),i.id||(r.target=e(i));var o=this.vertices();return o.length>0&&(r.vertices=o.map(e)),this.set(r,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new ze(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new ze(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const e=[this.getSourcePoint(),...this.vertices().map(ze),this.getTargetPoint()];return new un(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var r=this.getSourceElement(),n=this.getTargetElement(),i=this.getParentCell();r&&n&&(r===n||r.isEmbeddedIn(n)?t=n:n.isEmbeddedIn(r)?t=r:t=this.graph.getCommonAncestor(r,n)),i&&(!t||t.id!==i.id)&&i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:r}=this.attributes,n=t.id,i=r.id;if(!n||!i)return!1;var o=n===i;if(!o&&e.deep&&this.graph){var a=this.getSourceCell(),s=this.getTargetCell();o=a.isEmbeddedIn(s)||s.isEmbeddedIn(a)}return o},getSourceCell:function(){const{graph:e,attributes:t}=this;var r=t.source;return r&&r.id&&e&&e.getCell(r.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){const{graph:e,attributes:t}=this;var r=t.target;return r&&r.id&&e&&e.getCell(r.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(r){return!!r});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=Ui(e)||wo(e)?e:e.id,r=this.getRelationshipAncestor();return!!r&&(r.id===t||r.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){var r=e.port===t.port||!e.port&&!t.port;return e.id===t.id&&r}});var uH=function(e){var t=ya(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=Ose,this.portLabelLayoutNamespace=Use,this._init(t)};uH.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var r=this.getGroup(e),n=this.getPortsByGroup(e),i=r.position||{},o=i.name,a=this.portLayoutNamespace;a[o]||(o="left");var s=i.args||{},l=n.map(function(c){return c&&c.position&&c.position.args}),u=a[o](l,t,s),f={ports:n,result:[]};return Tr(u).reduce((function(c,p,m){var g=c.ports[m];return c.result.push({portId:g.id,portTransformation:p,labelTransformation:this._getPortLabelLayout(g,ze(p),t),portAttrs:g.attrs,portSize:g.size,labelSize:g.label.size}),c}).bind(this),f),f.result},_getPortLabelLayout:function(e,t,r){var n=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return n[i]?n[i](t,r,e.label.position.args):null},_init:function(e){if(Wr(e.groups))for(var t=Object.keys(e.groups),r=0,n=t.length;r<n;r++){var i=t[r];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var o=Tr(e.items),a=0,s=o.length;a<s;a++)this.ports.push(this._evaluatePort(o[a]))},_evaluateGroup:function(e){return ri(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=Jt({},e),r=this.getGroup(e.group);return t.markup=t.markup||r.markup,t.attrs=ri({},r.attrs,t.attrs),t.position=this._createPositionNode(r,t),t.label=ri({},r.label,this._getLabel(t)),t.z=this._getZIndex(r,t),t.size=Jt({},r.size,t.size),t},_getZIndex:function(e,t){return wo(t.z)?t.z:wo(e.z)||e.z==="auto"?e.z:"auto"},_createPositionNode:function(e,t){return ri({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var r={},n;dn(e)?(n="fn",r.fn=e):Ui(e)?n=e:e===void 0?n=t?"left":null:Array.isArray(e)?(n="absolute",r.x=e[0],r.y=e[1]):Wr(e)&&(n=e.name,Jt(r,e.args));var i={args:r};return n&&(i.name=n),i},_getLabel:function(e,t){var r=e.label||{},n=r;return n.position=this._getPosition(r.position,t),n}};const zse={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};Tr(e.items).forEach(function(s){t[s.id]=!0});var r=this.previous("ports")||{},n={};Tr(r.items).forEach(function(s){t[s.id]||(n[s.id]=!0)});var i=this.graph;if(i&&!Pl(n)){var o=i.getConnectedLinks(this,{inbound:!0});o.forEach(function(s){n[s.get("target").port]&&s.remove()});var a=i.getConnectedLinks(this,{outbound:!0});a.forEach(function(s){n[s.get("source").port]&&s.remove()})}},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return this.getPortIndex(e)!==-1},getPorts:function(){return ya(this.prop("ports/items"))||[]},getGroupPorts:function(e){const t=Tr(this.prop(["ports","items"])).filter(r=>r.group===e);return ya(t)},getPort:function(e){return ya(Tr(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){var t=this._portSettingsData.getGroupPortsMetrics(e,Pt(this.size()));return t.reduce(function(r,n){var i=n.portTransformation;return r[n.portId]={x:i.x,y:i.y,angle:i.angle},r},{})},getPortIndex:function(e){var t=Wr(e)?e.id:e;return this._isValidPortId(t)?Tr(this.prop("ports/items")).findIndex(function(r){return r.id===t}):-1},addPort:function(e,t){if(!Wr(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var r=Jt([],this.prop("ports/items"));return r.push(e),this.prop("ports/items",r,t),this},insertPort:function(e,t,r){const n=typeof e=="number"?e:this.getPortIndex(e);if(!Wr(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");const i=Jt([],this.prop("ports/items"));return i.splice(n,0,t),this.prop("ports/items",i,r),this},portProp:function(e,t,r,n){var i=this.getPortIndex(e);if(i===-1)throw new Error("Element: unable to find port with id "+e);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?o[0]=["ports","items",i].concat(t):Ui(t)?o[0]=["ports/items/",i,"/",t].join(""):(o=["ports/items/"+i],zn(t)&&(o.push(t),o.push(r))),this.prop.apply(this,o)},_validatePorts:function(){var e=this.get("ports")||{},t=[];e=e||{};var r=Tr(e.items);return r.forEach(function(n){typeof n!="object"&&t.push("Element: invalid port ",n),this._isValidPortId(n.id)||(n.id=this.generatePortId())},this),Dg(r,"id").length!==r.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return e!=null&&!Wr(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",Jt([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){const r=t||{},n=this.getPortIndex(e);if(n!==-1){const i=Jt([],this.prop(["ports","items"]));i.splice(n,1),r.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,r),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let r,n;if(Array.isArray(e)){if(r=t||{},e.length===0)return this.this;n=Jt([],this.prop(["ports","items"])).filter(function(o){return!e.some(function(a){const s=Wr(a)?a.id:a;return o.id===s})})}else r=e||{},n=[];return this.startBatch("port-remove"),r.rewrite=!0,this.prop(["ports","items"],n,r),this.stopBatch("port-remove"),this},_createPortData:function(){var e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));var t;this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new uH(this.get("ports"));var r=this._portSettingsData.getPorts();if(t){var n=r.filter(function(o){if(!t.find(function(a){return a.id===o.id}))return o}),i=t.filter(function(o){if(!r.find(function(a){return a.id===o.id}))return o});i.length>0&&this.trigger("ports:remove",this,i),n.length>0&&this.trigger("ports:add",this,n)}}},qse={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),r=0,n=t.node.childNodes.length;r<n;r++)e.push(t.node.childNodes[r]);var i=Zae(this.model._portSettingsData.getPorts(),"z"),o="auto";Tr(i[o]).forEach(function(f){var c=this._getPortElement(f);t.append(c),e.push(c)},this);for(var a=Object.keys(i),s=0;s<a.length;s++){var l=a[s];if(l!==o){var u=parseInt(l,10);this._appendPorts(i[l],u,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,r){var n=this._getContainerElement(),i=Tr(e).map(this._getPortElement,this);r[t]||t<0?at(r[Math.max(t,0)]).before(i):n.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){const r=this._portElementsCache[e];if(!r)return null;if(!t)return r.portContentElement.node;const n=r.portElement.node,i=r.portSelectors,[o=null]=this.findBySelector(t,n,i);return o},_updatePorts:function(){this._updatePortGroup(void 0);var e=Object.keys(this.model._portSettingsData.groups);e.forEach(this._updatePortGroup,this)},_removePorts:function(){zs(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,r,n,i;var o=at(this.portContainerMarkup).addClass("joint-port"),a=this._getPortMarkup(e);if(Array.isArray(a)){var s=this.parseDOMJSON(a,o.node),l=s.fragment;l.childNodes.length>1?t=at("g").append(l):t=at(l.firstChild),i=s.selectors}else t=at(a),Array.isArray(t)&&(t=at("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});const u=this._getPortLabelMarkup(e.label);if(Array.isArray(u)){const{fragment:_,selectors:v}=this.parseDOMJSON(u,o.node),h=_.childNodes.length;h>0&&(n=v,r=h===1?at(_.firstChild):at("g").append(_))}else r=at(u),Array.isArray(r)&&(r=at("g").append(r));var f;if(i&&n){for(var c in n)if(i[c]&&c!==this.selector)throw new Error("ElementView: selectors within port must be unique.");f=Jt({},i,n)}else f=i||n||{};const p="portRoot",m="labelRoot",g="labelText";if(p in f||(f[p]=t.node),r){const _=r.node;if(m in f||(f[m]=_),!(g in f)){const v=r.tagName()==="TEXT"?_:Array.from(_.querySelectorAll("text"));f[g]=v,n||(n={}),n[g]=v}}return o.append(t.addClass("joint-port-body")),r&&o.append(r.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:o,portLabelElement:r,portSelectors:f,portLabelSelectors:n,portContentElement:t,portContentSelectors:i},o},_updatePortGroup:function(e){for(var t=Pt(this.model.size()),r=this.model._portSettingsData.getGroupPortsMetrics(e,t),n=0,i=r.length;n<i;n++){var o=r[n],a=o.portId,s=this._portElementsCache[a]||{},l=o.portTransformation,u=o.labelTransformation;u&&s.portLabelElement&&(this.updateDOMSubtreeAttributes(s.portLabelElement.node,u.attrs,{rootBBox:new Pt(o.labelSize),selectors:s.portLabelSelectors}),this.applyPortTransform(s.portLabelElement,u,-l.angle||0)),this.updateDOMSubtreeAttributes(s.portElement.node,o.portAttrs,{rootBBox:new Pt(o.portSize),selectors:s.portSelectors}),this.applyPortTransform(s.portElement,l)}},applyPortTransform:function(e,t,r){var n=at.createSVGMatrix().rotate(r||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(n,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},lo=Qs.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Qs.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,r){const n=wo(t);r=(n?r:e)||{};const{parentRelative:i,deep:o,restrictedArea:a}=r;let s;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");const l=this.getParentCell();l&&!l.isLink()&&(s=l.get("position"))}if(n){if(s&&(e+=s.x,t+=s.y),o||a){const{x:l,y:u}=this.get("position");this.translate(e-l,t-u,r)}else this.set("position",{x:e,y:t},r);return this}else{const l=ze(this.get("position"));return i?l.difference(s):l}},translate:function(e,t,r){if(e=e||0,t=t||0,e===0&&t===0)return this;r=r||{},r.translateBy=r.translateBy||this.id;var n=this.get("position")||{x:0,y:0},i=r.restrictedArea;if(i&&r.translateBy===this.id)if(typeof i=="function"){var o=i.call(this,n.x+e,n.y+t,r);e=o.x-n.x,t=o.y-n.y}else{var a=this.getBBox({deep:!0}),s=n.x-a.x,l=n.y-a.y,u=Math.max(i.x+s,Math.min(i.x+i.width+s-a.width,n.x+e)),f=Math.max(i.y+l,Math.min(i.y+i.height+l-a.height,n.y+t));e=u-n.x,t=f-n.y}var c={x:n.x+e,y:n.y+t};return r.tx=e,r.ty=t,r.transition?(Wr(r.transition)||(r.transition={}),this.transition("position",c,Jt({},r.transition,{valueFunction:Q9.object})),zs(this.getEmbeddedCells(),"translate",e,t,r)):(this.startBatch("translate",r),this.set("position",c,r),zs(this.getEmbeddedCells(),"translate",e,t,r),this.stopBatch("translate",r)),this},size:function(e,t,r){var n=this.get("size");return e===void 0?{width:n.width,height:n.height}:(Wr(e)&&(r=t,t=wo(e.height)?e.height:n.height,e=wo(e.width)?e.width:n.width),this.resize(e,t,r))},resize:function(e,t,r){if(r=r||{},this.startBatch("resize",r),r.direction){var n=this.get("size");switch(r.direction){case"left":case"right":t=n.height;break;case"top":case"bottom":e=n.width;break}var i=fs(this.get("angle")||0),o=this.getBBox(),a;if(i){var s={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[r.direction];r.absolute&&(s+=Math.floor((i+45)/90),s%=4);var l=o[["bottomLeft","corner","topRight","origin"][s]](),u=ze(l).rotate(o.center(),-i),f=Math.sqrt(e*e+t*t)/2,c=s*Math.PI/2;c+=Math.atan(s%2==0?t/e:e/t),c-=xo(i);var p=ze.fromPolar(f,c,u);a=ze(p).offset(e/-2,t/-2)}else switch(a=o.topLeft(),r.direction){case"top":case"top-right":a.offset(0,o.height-t);break;case"left":case"bottom-left":a.offset(o.width-e,0);break;case"top-left":a.offset(o.width-e,o.height-t);break}this.set("size",{width:e,height:t},r),this.position(a.x,a.y,r)}else this.set("size",{width:e,height:t},r);return this.stopBatch("resize",r),this},scale:function(e,t,r,n){var i=this.getBBox().scale(e,t,r);return this.startBatch("scale",n),this.position(i.x,i.y,n),this.resize(i.width,i.height,n),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");const r=this.getEmbeddedCells().filter(n=>n.isElement());return r.length===0?this:(this.startBatch("fit-embeds",e),e.deep&&zs(r,"fitToChildren",e),this._fitToElements(Object.assign({elements:r},e)),this.stopBatch("fit-embeds"),this)},fitParent:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;const r=this.getParentCell();if(!r||!r.isElement())return this;const n=r.getEmbeddedCells().filter(i=>i.isElement());return n.length===0?this:(this.startBatch("fit-parent",e),r._fitToElements(Object.assign({elements:n},e)),e.deep&&r.fitParent(e),this.stopBatch("fit-parent"),this)},_fitToElements:function(e={}){const t=this.graph.getCellsBBox(e.elements);if(!t)return;const{expandOnly:r,shrinkOnly:n}=e;if(r&&n)return;let{x:i,y:o,width:a,height:s}=t;const{left:l,right:u,top:f,bottom:c}=Rf(e.padding);i-=l,o-=f,a+=l+u,s+=c+f;let p=new Pt(i,o,a,s);if(r)p=this.getBBox().union(p);else if(n){const m=this.getBBox().intersect(p);if(!m)return;p=m}this.set({position:{x:p.x,y:p.y},size:{width:p.width,height:p.height}},e)},rotate:function(e,t,r,n){if(r){var i=this.getBBox().center(),o=this.get("size"),a=this.get("position");i.rotate(r,this.get("angle")-e);var s=i.x-o.width/2-a.x,l=i.y-o.height/2-a.y;this.startBatch("rotate",{angle:e,absolute:t,origin:r}),this.position(a.x+s,a.y+l,n),this.rotate(e,t,null,n),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,n);return this},angle:function(){return fs(this.get("angle")||0)},getBBox:function(e={}){const{graph:t,attributes:r}=this,{deep:n,rotate:i}=e;if(n&&t){const c=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return c.push(this),t.getCellsBBox(c,e)}const{angle:o=0,position:{x:a,y:s},size:{width:l,height:u}}=r,f=new Pt(a,s,l,u);return i&&f.rotateAroundCenter(o),f},getPointFromConnectedLink:function(e,t){var r=this.getBBox(),n=r.center(),i=e.get(t);if(!i)return n;var o=i.port;if(!o||!this.hasPort(o))return n;var a=this.portProp(o,["group"]),s=this.getPortsPositions(a),l=new ze(s[o]).offset(r.origin()),u=this.angle();return u&&l.rotate(n,-u),l}});Jt(lo.prototype,zse);const Vse=Li.Collection.extend({initialize:function(e,t){t.cellNamespace?this.cellNamespace=t.cellNamespace:this.cellNamespace=typeof joint<"u"&&Nu(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var r=t.collection,n=r.cellNamespace,i=e.type==="link"?Wh:Zm(n,e.type,".")||lo,o=new i(e,t);return t.dry||(o.graph=r.graph),o},comparator:function(e){return e.get("z")||0}}),bN=Li.Model.extend({initialize:function(e,t){t=t||{};var r=new Vse([],{model:t.cellModel,cellNamespace:t.cellNamespace,graph:this});Li.Model.prototype.set.call(this,"cells",r),r.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},r.on("add",this._restructureOnAdd,this),r.on("remove",this._restructureOnRemove,this),r.on("reset",this._restructureOnReset,this),r.on("change:source",this._restructureOnChangeSource,this),r.on("change:target",this._restructureOnChangeTarget,this),r.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:r}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:r}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],r.id&&this._in[r.id]&&this._in[r.id][e.id]&&delete this._in[r.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var r=e.attributes.source;r.id&&((this._out[r.id]||(this._out[r.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var r=e.get("target");r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=Li.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,r){var n;return typeof e=="object"?(n=e,r=t):(n={})[e]=t,n.hasOwnProperty("cells")&&(this.resetCells(n.cells,r),n=Qm(n,"cells")),Li.Model.prototype.set.call(this,n,r)},clear:function(e){e=Jt({},e,{clear:!0});var t=this.get("cells");if(t.length===0)return this;this.startBatch("clear",e);var r=t.sortBy(function(n){return n.isLink()?1:2});do r.shift().remove(e);while(r.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var r;if(e instanceof Li.Model?(r=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):r=e,!Ui(r.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof Li.Model?e.has("z")||e.set("z",this.maxZIndex()+1):e.z===void 0&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return e.length===0?this:(e=ese(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(r){this.addCell(r,t),t.position--},this),this.stopBatch("add",t),this)},resetCells:function(e,t){var r=Tr(e).map(function(n){return this._prepareCell(n,t)},this);return this.get("cells").reset(r,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),zs(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,r){r=r||{},r.clear||(r.disconnectLinks?this.disconnectLinks(e,r):this.removeLinks(e,r)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(e=>e.isElement())},getLinks:function(){return this.get("cells").filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){t=t||{};var r=t.indirect,n=t.inbound,i=t.outbound;n===void 0&&i===void 0&&(n=i=!0);var o=[],a={};i&&s(this,e),n&&l(this,e);function s(c,p){if(wa(c.getOutboundEdges(p.id),(function(g,_){if(!a[_]){var v=c.getCell(_);o.push(v),a[_]=!0,r&&(n&&l(c,v),i&&s(c,v))}}).bind(c)),r&&p.isLink()){var m=p.getTargetCell();m&&m.isLink()&&(a[m.id]||(o.push(m),s(c,m)))}}function l(c,p){if(wa(c.getInboundEdges(p.id),(function(g,_){if(!a[_]){var v=c.getCell(_);o.push(v),a[_]=!0,r&&(n&&l(c,v),i&&s(c,v))}}).bind(c)),r&&p.isLink()){var m=p.getSourceCell();m&&m.isLink()&&(a[m.id]||(o.push(m),l(c,m)))}}if(t.deep){var u=e.getEmbeddedCells({deep:!0}),f={};u.forEach(function(c){c.isElement()&&(f[c.id]=!0)}),u.forEach(function(c){c.isLink()||(i&&wa(this.getOutboundEdges(c.id),(function(p,m){if(!a[m]){var g=this.getCell(m),{source:_,target:v}=g.attributes,h=_.id,E=v.id;if(!t.includeEnclosed&&h&&f[h]&&E&&f[E])return;o.push(this.getCell(m)),a[m]=!0}}).bind(this)),n&&wa(this.getInboundEdges(c.id),(function(p,m){if(!a[m]){var g=this.getCell(m),{source:_,target:v}=g.attributes,h=_.id,E=v.id;if(!t.includeEnclosed&&h&&f[h]&&E&&f[E])return;o.push(this.getCell(m)),a[m]=!0}}).bind(this)))},this)}return o},getNeighbors:function(e,t){t||(t={});var r=t.inbound,n=t.outbound;r===void 0&&n===void 0&&(r=n=!0);var i=this.getConnectedLinks(e,t).reduce((function(s,l){var{source:u,target:f}=l.attributes,c=l.hasLoop(t);if(r&&Nu(u,"id")&&!s[u.id]){var p=this.getCell(u.id);p.isElement()&&(c||p&&p!==e&&(!t.deep||!p.isEmbeddedIn(e)))&&(s[u.id]=p)}if(n&&Nu(f,"id")&&!s[f.id]){var m=this.getCell(f.id);m.isElement()&&(c||m&&m!==e&&(!t.deep||!m.isEmbeddedIn(e)))&&(s[f.id]=m)}return s}).bind(this),{});if(e.isLink()){if(r){var o=e.getSourceCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}if(n){var a=e.getTargetCell();a&&a.isElement()&&!i[a.id]&&(i[a.id]=a)}}return Tr(i)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(r){for(var n=[],i=r.get("parent");i;)n.push(i),i=this.getCell(i).get("parent");return n},this);e=e.sort(function(r,n){return r.length-n.length});var t=Tr(e.shift()).find(function(r){return e.every(function(n){return n.includes(r)})});return this.getCell(t)},getSuccessors:function(e,t){t=t||{};var r=[];return this.search(e,function(n){n!==e&&r.push(n)},Jt({},t,{outbound:!0})),r},cloneCells:Z9,cloneSubgraph:function(e,t){var r=this.getSubgraph(e,t);return this.cloneCells(r)},getSubgraph:function(e,t){t=t||{};var r=[],n={},i=[],o=[];return Tr(e).forEach(function(a){if(n[a.id]||(r.push(a),n[a.id]=a,a.isLink()?o.push(a):i.push(a)),t.deep){var s=a.getEmbeddedCells({deep:!0});s.forEach(function(l){n[l.id]||(r.push(l),n[l.id]=l,l.isLink()?o.push(l):i.push(l))})}}),o.forEach(function(a){var{source:s,target:l}=a.attributes;if(s.id&&!n[s.id]){var u=this.getCell(s.id);r.push(u),n[u.id]=u,i.push(u)}if(l.id&&!n[l.id]){var f=this.getCell(l.id);r.push(this.getCell(l.id)),n[f.id]=f,i.push(f)}},this),i.forEach(function(a){var s=this.getConnectedLinks(a,t);s.forEach(function(l){var{source:u,target:f}=l.attributes;!n[l.id]&&u.id&&n[u.id]&&f.id&&n[f.id]&&(r.push(l),n[l.id]=l)})},this),r},getPredecessors:function(e,t){t=t||{};var r=[];return this.search(e,function(n){n!==e&&r.push(n)},Jt({},t,{inbound:!0})),r},search:function(e,t,r){r=r||{},r.breadthFirst?this.bfs(e,t,r):this.dfs(e,t,r)},bfs:function(e,t,r={}){const n={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){var a=o.shift();if(n[a.id]||(n[a.id]=!0,t.call(this,a,i[a.id])===!1))continue;const s=this.getNeighbors(a,r);for(let l=0,u=s.length;l<u;l++){const f=s[l];i[f.id]=i[a.id]+1,o.push(f)}}},dfs:function(e,t,r={}){const n={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){const a=o.pop();if(n[a.id]||(n[a.id]=!0,t.call(this,a,i[a.id])===!1))continue;const s=this.getNeighbors(a,r),l=o.length;for(let u=0,f=s.length;u<f;u++){const c=s[u];i[c.id]=i[a.id]+1,o.splice(l,0,c)}}},getSources:function(){var e=[];return wa(this._nodes,(function(t,r){(!this._in[r]||Pl(this._in[r]))&&e.push(this.getCell(r))}).bind(this)),e},getSinks:function(){var e=[];return wa(this._nodes,(function(t,r){(!this._out[r]||Pl(this._out[r]))&&e.push(this.getCell(r))}).bind(this)),e},isSource:function(e){return!this._in[e.id]||Pl(this._in[e.id])},isSink:function(e){return!this._out[e.id]||Pl(this._out[e.id])},isSuccessor:function(e,t){var r=!1;return this.search(e,function(n){if(n===t&&n!==e)return r=!0,!1},{outbound:!0}),r},isPredecessor:function(e,t){var r=!1;return this.search(e,function(n){if(n===t&&n!==e)return r=!0,!1},{inbound:!0}),r},isNeighbor:function(e,t,r){r=r||{};var n=r.inbound,i=r.outbound;n===void 0&&i===void 0&&(n=i=!0);var o=!1;return this.getConnectedLinks(e,r).forEach(function(a){var{source:s,target:l}=a.attributes;if(n&&Nu(s,"id")&&s.id===t.id||i&&Nu(l,"id")&&l.id===t.id)return o=!0,!1}),o},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(r){r.set(r.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){zs(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(t=>t.getBBox({rotate:!0}).containsPoint(e))},findModelsInArea:function(e,t={}){const r=new Pt(e),{strict:n=!1}=t,i=n?"containsRect":"intersect";return this.getElements().filter(o=>r[i](o.getBBox({rotate:!0})))},findModelsUnderElement:function(e,t={}){const{searchBy:r="bbox"}=t,n=e.getBBox().rotateAroundCenter(e.angle());return(r==="bbox"?this.findModelsInArea(n):this.findModelsFromPoint(rH(n,r))).filter(o=>e.id!==o.id&&!o.isEmbeddedIn(e))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t={}){const{rotate:r=!0}=t;return Tr(e).reduce(function(n,i){const o=i.getBBox({rotate:r});return o?n?n.union(o):o:n},null)},translate:function(e,t,r){var n=this.getCells().filter(function(i){return!i.isEmbedded()});return zs(n,"translate",e,t,r),this},resize:function(e,t,r){return this.resizeCells(e,t,this.getCells(),r)},resizeCells:function(e,t,r,n){var i=this.getCellsBBox(r);if(i){var o=Math.max(e/i.width,0),a=Math.max(t/i.height,0);zs(r,"scale",o,a,i.origin(),n)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",Jt({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",Jt({},t,{batchName:e}))},hasActiveBatch:function(e){const t=this._batches;let r;return arguments.length===0?r=Object.keys(t):Array.isArray(e)?r=e:r=[e],r.some(n=>t[n]>0)}},{validations:{multiLinks:function(e,t){var{source:r,target:n}=t.attributes;if(r.id&&n.id){var i=t.getSourceCell();if(i){var o=e.getConnectedLinks(i,{outbound:!0}),a=o.filter(function(s){var{source:l,target:u}=s.attributes;return l&&l.id===r.id&&(!l.port||l.port===r.port)&&u&&u.id===n.id&&(!u.port||u.port===n.port)});if(a.length>1)return!1}}return!0},linkPinning:function(e,t){var{source:r,target:n}=t.attributes;return r.id&&n.id}}});wse(bN.prototype,["resetCells","addCells","removeCells"],EP.cells);const Wc={},Wu=Li.View.extend({options:{},theme:null,themeClassNamePrefix:rs("theme-"),requireSetThemeOverride:!1,defaultTheme:Hu.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=Jt({},this.options,e),Li.View.call(this,e)},initialize:function(){Wc[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(e){if(e||(e=qn(this,"children")),e){var t=this.svgElement,r=at.namespace[t?"svg":"xhtml"],n=Zb(e,r);(t?this.vel:this.$el).empty().append(n.fragment),this.childNodes=n.selectors}return this},findAttribute:function(e,t){for(var r=t;r&&r.nodeType===1;){var n=r.getAttribute(e);if(n)return n;if(r===this.el)return null;r=r.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(qn(this,"el"));else{var e=qn(this,"tagName"),t=Jt({},qn(this,"attributes")),r=Jt({},qn(this,"style"));this.id&&(t.id=qn(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(r)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(at.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof Li.$?e:Li.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=at(this.el))},_ensureElClassName:function(){var e=qn(this,"className");if(e){var t=rs(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override?this:(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e,this)},addThemeClassName:function(e){if(e=e||this.theme,!e)return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){e=e||this.theme;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Wc[this.cid]=null,Li.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,r){if(!t)return this;r||(r={});var n=this.getEventNamespace();for(var i in t){var o=t[i];typeof o!="function"&&(o=this[o]),o&&Lr(e).on(i+n,r,o.bind(this))}return this},undelegateElementEvents:function(e){return Lr(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=qn(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var r=e.data,n="__"+this.cid+"__";return t===void 0?r?r[n]||{}:{}:(r||(r=e.data={}),r[n]||(r[n]={}),Jt(r[n],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&Jt({},e[0])||{},r=e[1]&&Jt({},e[1])||{},n=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return typeof n=="function"&&n.apply(this,arguments),this.render.__render__===n&&this.onRender(),this},t.render.__render__=n,Li.View.extend.call(this,t,r)}}),vM="dbltap";if(Lr.event&&!(vM in Lr.event.special)){const e=Hu.doubleTapInterval,t=30;Lr.event.special[vM]={bindType:"touchend",delegateType:"touchend",handle:function(r,...n){const{handleObj:i,target:o}=r,a=Lr.data(o),s=new Date().getTime(),l="lastTouch"in a?s-a.lastTouch:0;l<e&&l>t?(a.lastTouch=null,r.type=i.origType,i.handler.call(this,r,...n)):a.lastTouch=s}}}const ba={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},Hse=Wu.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return rs(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){const{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){const{el:t,pivotNodes:r}=this;e=+e,e||(e=0);let n=r[e];if(n)return n;n=r[e]=document.createComment("z-index:"+(e+1));let i=-1/0;for(let o in r)o=+o,o<e&&o>i&&(i=o,e-1);if(i!==-1/0){const o=r[i];t.insertBefore(n,o.nextSibling)}else t.insertBefore(n,t.firstChild);return n},removePivots:function(){const{el:e,pivotNodes:t}=this;for(let r in t)e.removeChild(t[r]);this.pivotNodes={}}});function yp(e){return e?Array.isArray(e)?e:[e]:[]}const ns=Wu.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){const{paper:r}=e;this.cellView=e,this.nodeSelector=t,r&&(this.updateRequested=!0,r.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(e,t=null){let r;if(typeof t=="string")[r]=e.findBySelector(t);else if(zn(t)){const n=e.model.isLink(),{label:i=null,port:o,selector:a}=t;n&&i!==null?r=e.findLabelNode(i,a):!n&&o?r=e.findPortNode(o,a):[r]=e.findBySelector(a)}else t&&(r=at.toNode(t),r instanceof SVGElement||(r=null));return r||null},getNodeMatrix(e,t){const{options:r}=this,{layer:n}=r,{rotatableNode:i}=e,o=e.getNodeMatrix(t);return i?n?i.contains(t)?o:e.getRootRotateMatrix().inverse().multiply(o):e.getNodeRotateMatrix(t).multiply(o):o},mount(){const{MOUNTABLE:e,cellView:t,el:r,options:n,transformGroup:i,detachedTransformGroup:o,postponedUpdate:a,nodeSelector:s}=this;if(!e||i)return;if(a){this.update(t,s),this.transform();return}const{vel:l,paper:u}=t,{layer:f}=n;if(f){let c;o?(c=o,this.detachedTransformGroup=null):c=at("g").addClass("highlight-transform").append(r),this.transformGroup=c,u.getLayerView(f).insertSortedNode(c.node,n.z)}else(!r.parentNode||r.nextSibling)&&l.append(r)},unmount(){const{MOUNTABLE:e,transformGroup:t,vel:r}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):r.remove())},transform(){const{transformGroup:e,cellView:t,updateRequested:r}=this;if(!e||t.model.isLink()||r)return;const n=t.getRootTranslateMatrix(),i=t.getRootRotateMatrix(),o=n.multiply(i);e.attr("transform",at.matrixToTransformString(o))},update(){const{node:e,cellView:t,nodeSelector:r,updateRequested:n,id:i}=this;if(n)return;this.postponedUpdate=!1;const o=this.node=this.findNode(t,r);e&&this.unhighlight(t,e),o?(this.highlight(t,o),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",i,this))},onRemove(){const{node:e,cellView:t,id:r,constructor:n}=this;e&&this.unhighlight(t,e),this.unmount(),n._removeRef(t,r)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){const t=qn(this,"UPDATE_ATTRIBUTES");!Array.isArray(t)||t.length===0||this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:e}=this;if(!e)return;const{model:t,paper:r}=e;qn(this,"UPDATE_ATTRIBUTES").some(i=>t.hasChanged(i))&&r.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,r){const n=this.uniqueId(t,r);this.add(e,t,n,r)},unhighlight:function(e,t,r){const n=this.uniqueId(t,r);this.remove(e,n)},get(e,t=null){const{cid:r}=e,{_views:n}=this,i=n[r];if(t===null){const o=[];if(!i)return o;for(let a in i){const s=i[a];s instanceof this&&o.push(s)}return o}else{if(!i)return null;if(t in i){const o=i[t];if(o instanceof this)return o}return null}},add(e,t,r,n={}){if(!r)throw new Error("dia.HighlighterView: An ID required.");const i=ns.get(e,r);i&&i.remove();const o=new this(n);return o.id=r,this._addRef(e,r,o),o.requestUpdate(e,t),o.listenToUpdateAttributes(e),o},_addRef(e,t,r){const{cid:n}=e,{_views:i}=this;let o=i[n];o||(o=i[n]={}),o[t]=r},_removeRef(e,t){const{cid:r}=e,{_views:n}=this,i=n[r];if(i){t&&delete i[t];for(let o in i)return;delete n[r]}},remove(e,t=null){yp(this.get(e,t)).forEach(r=>{r.remove()})},removeAll(e,t=null){const{_views:r}=this;for(let n in r)for(let i in r[n]){const o=r[n][i];o.cellView.paper===e&&o instanceof this&&(t===null||i===t)&&o.remove()}},update(e,t=null,r=!1){yp(this.get(e,t)).forEach(n=>{(r||n.UPDATABLE)&&n.update()})},transform(e,t=null){yp(this.get(e,t)).forEach(r=>{r.UPDATABLE&&r.transform()})},unmount(e,t=null){yp(this.get(e,t)).forEach(r=>r.unmount())},mount(e,t=null){yp(this.get(e,t)).forEach(r=>r.mount())},uniqueId(e,t=""){return at.ensureId(e)+JSON.stringify(t)}}),pd={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},Wse={TOOLS:"TOOLS"},dr=Wu.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(r,n,i){e.push("type-"+i.slice(0,n+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var e={},t={},r=0,n,i,o,a=qn(this,"presentationAttributes");for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];for(Array.isArray(l)||(l=[l]),n=0,i=l.length;n<i;n++){o=l[n];var u=e[o];u||(u=e[o]=1<<r++),t[s]|=u}}var f=qn(this,"initFlag");for(Array.isArray(f)||(f=[f]),n=0,i=f.length;n<i;n++)o=f[n],e[o]||(e[o]=1<<r++);if(r>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var r=0;if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)r|=t[e[n]];else r|=t[e];return r},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||Gd(this),Wu.call(this,e)},initialize:function(){this.setFlags(),Wu.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var r=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!r||(t.dirty&&this.hasFlag(r,"UPDATE")&&(r|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(r,t))},requestUpdate:function(e,t){const{paper:r}=this;r&&e>0&&r.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var r=Zb(e),n=r.selectors,i=r.groupSelectors;for(var o in i){if(n[o])throw new Error("dia.CellView: ambiguous group selector");n[o]=i[o]}if(t){var a=this.selector;if(n[a])throw new Error("dia.CellView: ambiguous root selector.");n[a]=t}return{fragment:r.fragment,selectors:n}},can:function(e){var t=dn(this.options.interactive)?this.options.interactive(this):this.options.interactive;return Wr(t)&&t[e]!==!1||Kae(t)&&t!==!1},findBySelector:function(e,t,r){if(t||(t=this.el),r||(r=this.selectors),!e||e===".")return[t];if(r){var n=r[e];if(n)return Array.isArray(n)?n:[n]}return Lr(t).find(e).toArray()},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var r=this.model;t=r.getBBox().bbox(r.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){const t=this.getNodeBoundingRect(e),r=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),n=this.getNodeMatrix(e);return at.transformRect(t,r.multiply(n))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():at.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),r=this.getNodeMatrix(e),n=this.getRootTranslateMatrix();return at.transformRect(t,n.multiply(r))},getRootTranslateMatrix:function(){var e=this.model,t=e.position(),r=at.createSVGMatrix().translate(t.x,t.y);return r},getRootRotateMatrix:function(){var e=at.createSVGMatrix(),t=this.model,r=t.angle();if(r){var n=t.getBBox(),i=n.width/2,o=n.height/2;e=e.translate(i,o).rotate(r).translate(-i,-o)}return e},_notifyHighlight:function(e,t,r={}){const{el:n}=this;let i;if(typeof t=="string"?[i=n]=this.findBySelector(t):[i=n]=this.$(t),r.partial=i!==n,r.type===void 0){let o;switch(!0){case r.embedding:o=pd.EMBEDDING;break;case r.connecting:o=pd.CONNECTING;break;case r.magnetAvailability:o=pd.MAGNET_AVAILABILITY;break;case r.elementAvailability:o=pd.ELEMENT_AVAILABILITY;break;default:o=pd.DEFAULT;break}r.type=o}return this.notify(e,i,r),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){const t=this.el;let r=this.$(e)[0];r||(r=t);do{const n=r.getAttribute("magnet"),i=r===t;if((n||i)&&n!=="false")return r;if(i)return;r=r.parentNode}while(r)},findProxyNode:function(e,t){e||(e=this.el);const r=e.getAttribute(`${t}-selector`);if(r){const[n]=this.findBySelector(r);if(n)return n}return e},getSelector:function(e,t){var r;if(e===this.el)return typeof t=="string"&&(r="> "+t),r;if(e){var n=at(e).index()+1;r=e.tagName+":nth-child("+n+")",t&&(r+=" > "+t),r=this.getSelector(e.parentNode,r)}return r},addLinkFromMagnet:function(e,t,r){var n=this.paper,i=n.model,o=n.getDefaultLink(this,e);return o.set({source:this.getLinkEnd(e,t,r,o,"source"),target:{x:t,y:r}}).addTo(i,{async:!1,ui:!0}),o.findView(n)},getLinkEnd:function(e,...t){var r=this.model,n=r.id,i=this.findAttribute("port",e),o=e.getAttribute("joint-selector"),a={id:n};return o!=null&&(a.magnet=o),i!=null?(a.port=i,!r.hasPort(i)&&!o&&(a.selector=this.getSelector(e))):o==null&&this.el!==e&&(a.selector=this.getSelector(e)),this.customizeLinkEnd(a,e,...t)},customizeLinkEnd:function(e,t,r,n,i,o){const{paper:a}=this,{connectionStrategy:s}=a.options;if(typeof s=="function"){var l=s.call(a,e,this,t,new ze(r,n),i,o,a);if(l)return l}return e},getMagnetFromLinkEnd:function(e){var t=this.el,r=e.port,n=e.magnet,i=this.model,o;return r!=null&&i.isElement()&&i.hasPort(r)?o=this.findPortNode(r,n)||t:(n||(n=e.selector),!n&&r!=null&&(n='[port="'+r+'"]'),o=this.findBySelector(n,t,this.selectors)[0]),this.findProxyNode(o,"magnet")},dragLinkStart:function(e,t,r,n){this.model.startBatch("add-link");const i=this.addLinkFromMagnet(t,r,n);i.notifyPointerdown(e,r,n),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},dragLink:function(e,t,r){var n=this.eventData(e),i=n.linkView;if(i)i.pointermove(e,t,r);else{var o=this.paper,a=o.options.magnetThreshold,s=this.getEventTarget(e),l=n.targetMagnet;if(a==="onleave"){if(l===s||at(l).contains(s))return}else if(o.eventData(e).mousemoved<=a)return;this.dragLinkStart(e,l,t,r)}},dragLinkEnd:function(e,t,r){var n=this.eventData(e),i=n.linkView;i&&(i.pointerup(e,t,r),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){Pl(t)||(e instanceof SVGElement?at(e).attr(t):Lr(e).attr(t))},processNodeAttributes:function(e,t){var r,n,i,o,a,s,l,u,f,c=[];for(r in t)t.hasOwnProperty(r)&&(n=t[r],i=this.getAttributeDefinition(r),i&&(!dn(i.qualify)||i.qualify.call(this,n,e,t,this))?(Ui(i.set)&&(s||(s={}),s[i.set]=n),n!==null&&c.push(r,i)):(s||(s={}),s[sse(r)]=n));for(o=0,a=c.length;o<a;o+=2)r=c[o],i=c[o+1],n=t[r],dn(i.set)&&(l||(l={}),l[r]=n),dn(i.position)&&(u||(u={}),u[r]=n),dn(i.offset)&&(f||(f={}),f[r]=n);return{raw:t,normal:s,set:l,position:u,offset:f}},updateRelativeAttributes:function(e,t,r,n){n||(n={});var i,o,a,s=t.raw||{},l=t.normal||{},u=t.set,f=t.position,c=t.offset;for(i in u){o=u[i],a=this.getAttributeDefinition(i);var p=a.set.call(this,o,r.clone(),e,s,this);Wr(p)?Jt(l,p):p!==void 0&&(l[i]=p)}if(e instanceof HTMLElement){this.setNodeAttributes(e,l);return}var m=l.transform,g=at.transformStringToMatrix(m),_=ze(g.e,g.f);m&&(l=Qm(l,"transform"),g.e=g.f=0);var v,h,E;if(f||c){var y=this.getNodeScale(e,n.scalableNode);v=y.sx,h=y.sy}var S=!1;for(i in f)o=f[i],a=this.getAttributeDefinition(i),E=a.position.call(this,o,r.clone(),e,s,this),E&&(_.offset(ze(E).scale(v,h)),S||(S=!0));this.setNodeAttributes(e,l);var $=!1;if(c){var T=this.getNodeBoundingRect(e);if(T.width>0&&T.height>0){var d=at.transformRect(T,g).scale(1/v,1/h);for(i in c)o=c[i],a=this.getAttributeDefinition(i),E=a.offset.call(this,o,d,e,s,this),E&&(_.offset(ze(E).scale(v,h)),$||($=!0))}}(m!==void 0||S||$)&&(_.round(1),g.e=_.x,g.f=_.y,e.setAttribute("transform",at.matrixToTransformString(g)))},getNodeScale:function(e,t){var r,n;if(t&&t.contains(e)){var i=t.scale();r=1/i.sx,n=1/i.sy}else r=1,n=1;return{sx:r,sy:n}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var r=at.ensureId(e),n=t[r];return n||(n=t[r]={}),n},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return t.boundingRect===void 0&&(t.boundingRect=at(e).getBBox()),new Pt(t.boundingRect)},getNodeMatrix:function(e){const t=this.nodeCache(e);if(t.magnetMatrix===void 0){const{rotatableNode:r,el:n}=this;let i;r&&r.contains(e)?i=r:i=n,t.magnetMatrix=at(e).getTransformToElement(i)}return at.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return t.geometryShape===void 0&&(t.geometryShape=at(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,r,n){var i,o,a,s,l={},u=[];for(var f in e)if(e.hasOwnProperty(f)&&(a=e[f],!!zn(a))){var c=r[f]=this.findBySelector(f,t,n);for(i=0,o=c.length;i<o;i++){var p=c[i];s=at.ensureId(p);var m=n&&n[f]===p,g=l[s];if(g){g.array||(u.push(s),g.array=!0,g.attributes=[g.attributes],g.selectedLength=[g.selectedLength]);var _=g.attributes,v=g.selectedLength;if(m)_.unshift(a),v.unshift(-1);else{var h=Y9(v,o);_.splice(h,0,a),v.splice(h,0,o)}}else l[s]={attributes:a,selectedLength:m?-1:o,node:p,array:!1}}}for(i=0,o=u.length;i<o;i++)s=u[i],a=l[s],a.attributes=ri({},...a.attributes.reverse());return l},getEventTarget:function(e,t={}){const{target:r,type:n,clientX:i=0,clientY:o=0}=e;return t.fromPoint||n==="touchmove"||n==="touchend"||"pointerId"in e&&r.hasPointerCapture(e.pointerId)?document.elementFromPoint(i,o):r},updateDOMSubtreeAttributes:function(e,t,r){r||(r={}),r.rootBBox||(r.rootBBox=Pt()),r.selectors||(r.selectors=this.selectors);var n={},i={},o=[],a=[],s,l,u,f,c,p=r.roAttributes,m=this.findNodesAttributes(p||t,e,n,r.selectors),g=p?this.findNodesAttributes(t,e,n,r.selectors):m;for(var _ in m)if(f=m[_],u=f.attributes,l=f.node,c=this.processNodeAttributes(l,u),!c.set&&!c.position&&!c.offset)this.setNodeAttributes(l,c.normal);else{var v=g[_]&&g[_].attributes,h=v&&u.ref===void 0?v.ref:u.ref,E;if(h){if(E=(n[h]||this.findBySelector(h,e,r.selectors))[0],!E)throw new Error('dia.CellView: "'+h+'" reference does not exist.')}else E=null;if(s={node:l,refNode:E,processedAttributes:c,allAttributes:v},E){var y=a.findIndex(function(S){return S.refNode===l});y>-1?a.splice(y,0,s):a.push(s)}else o.push(s)}o.push(...a);for(let S=0,$=o.length;S<$;S++){s=o[S],l=s.node,E=s.refNode;const T=E?at.ensureId(E):"";let d=i[T];d||(d=i[T]=E?at(E).getBBox({target:Gse(l,E)}):r.rootBBox),p?(c=this.processNodeAttributes(l,s.allAttributes),this.mergeProcessedAttributes(c,s.processedAttributes)):c=s.processedAttributes,this.updateRelativeAttributes(l,c,d,r)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),Jt(e.set,t.set),Jt(e.position,t.position),Jt(e.offset,t.offset);var r=e.normal&&e.normal.transform;r!==void 0&&t.normal&&(t.normal.transform=r),e.normal=t.normal},onMount(e){e||(this.mountTools(),ns.mount(this))},onDetach(){this.unmountTools(),ns.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return t?e?t.getName()===e:!0:!1},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const e=this._toolsView;return e&&e.unmount(),this},mountTools(){const e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){ns.remove(this)},updateHighlighters:function(e=!1){ns.update(this,null,e)},transformHighlighters:function(){ns.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){const{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,r){this.notify("cell:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){this.notify("cell:pointerclick",e,t,r)},contextmenu:function(e,t,r){this.notify("cell:contextmenu",e,t,r)},pointerdown:function(e,t,r){const{model:n}=this,{graph:i}=n;i&&(n.startBatch("pointer"),this.eventData(e,{graph:i})),this.notify("cell:pointerdown",e,t,r)},pointermove:function(e,t,r){this.notify("cell:pointermove",e,t,r)},pointerup:function(e,t,r){const{graph:n}=this.eventData(e);this.notify("cell:pointerup",e,t,r),n&&n.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,r,n){this.notify("cell:mousewheel",e,t,r,n)},onevent:function(e,t,r,n){this.notify(t,e,r,n)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){const{paper:t,model:r}=this;if(t.isAsync()){if(r.isLink()){const o=r.getSourceElement();if(o){const s=t.findViewByModel(o);s&&(t.dumpView(s),t.checkViewVisibility(s))}const a=r.getTargetElement();if(a){const s=t.findViewByModel(a);s&&(t.dumpView(s),t.checkViewVisibility(s))}}t.dumpView(this),t.checkViewVisibility(this)}const n=this.getEventTarget(e,{fromPoint:!0}),i=t.findView(n);i!==this&&(this.mouseleave(e),i&&i.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Flags:Wse,Highlighting:pd,addPresentationAttributes:function(e){return ri({},qn(this.prototype,"presentationAttributes"),e,function(t,r){if(!(!t||!r)&&(typeof t=="string"&&(t=[t]),typeof r=="string"&&(r=[r]),Array.isArray(t)&&Array.isArray(r)))return Dg(t.concat(r))})}});function Gse(e,t){let r=e;do{if(r.contains(t))return r;r=r.parentNode}while(r);return null}const $r={TOOLS:dr.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},md={MOVE:"move",MAGNET:"magnet"},Nw=dr.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=dr.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){dr.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[$r.UPDATE],position:[$r.TRANSLATE,$r.TOOLS],size:[$r.RESIZE,$r.PORTS,$r.TOOLS],angle:[$r.ROTATE,$r.TOOLS],markup:[$r.RENDER],ports:[$r.PORTS]},initFlag:[$r.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){this.hasFlag(e,$r.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,$r.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[$r.RENDER,$r.UPDATE,$r.RESIZE,$r.TRANSLATE,$r.ROTATE,$r.PORTS,$r.TOOLS]);else{let n=!1;this.hasFlag(e,$r.RESIZE)&&(this.resize(t),n=!0,e=this.removeFlag(e,[$r.RESIZE,$r.UPDATE]),e=this.removeFlag(e,$r.PORTS)),this.hasFlag(e,$r.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,$r.UPDATE),n=!0,e=this.removeFlag(e,$r.PORTS)),this.hasFlag(e,$r.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,$r.TRANSLATE),r=!0),this.hasFlag(e,$r.ROTATE)&&(this.rotate(),e=this.removeFlag(e,$r.ROTATE),r=!0),this.hasFlag(e,$r.PORTS)&&(this._renderPorts(),n=!0,e=this.removeFlag(e,$r.PORTS)),n&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,$r.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,$r.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache(),this._removePorts();var r=this.model,n=r.attr();this.updateDOMSubtreeAttributes(this.el,n,{rootBBox:new Pt(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===n?null:t}),this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),r=this.selectors=t.selectors;this.rotatableNode=at(r[this.rotatableSelector])||null,this.scalableNode=at(r[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(at(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable");var r=this.selectors={};r[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var r=e.size;return"rotate("+t+","+r.width/2+","+r.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,r=t.angle(),n=t.size(),i=this.scalableNode,o=!1;i.node.getElementsByTagName("path").length>0&&(o=!0);var a=i.getBBox({recursive:o}),s=n.width/(a.width||1),l=n.height/(a.height||1);i.attr("transform","scale("+s+","+l+")");var u=this.rotatableNode,f=u&&u.attr("transform");if(f){u.attr("transform",f+" rotate("+-r+","+n.width/2+","+n.height/2+")");var c=i.getBBox({target:this.paper.cells});t.set("position",{x:c.x,y:c.y},Jt({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){const t=e.model||this.model,n=(e.paper||this.paper).model,i=e.initialZIndices={},o=t.getEmbeddedCells({deep:!0}),a=n.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...o,...a].forEach(u=>i[u.id]=u.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});const s=n.getElements().reduce((u,f)=>Math.max(u,f.attributes.z||0),0);a.forEach(u=>{u.attributes.z<=s&&u.set("z",s+1,{ui:!0})}),t.stopBatch("to-front");const l=t.parent();l?(n.getCell(l).unembed(t,{ui:!0}),e.initialParentId=l):e.initialParentId=null},processEmbedding:function(e={},t,r,n){const i=e.model||this.model,o=e.paper||this.paper,a=o.model,{findParentBy:s,frontParentOnly:l,validateEmbedding:u}=o.options;let f;dn(s)?f=Tr(s.call(a,this,t,r,n)):s==="pointer"?f=Tr(a.findModelsFromPoint({x:r,y:n})):f=a.findModelsUnderElement(i,{searchBy:s}),f=f.filter(m=>m instanceof Qs&&i.id!==m.id&&!m.isEmbeddedIn(i)),l&&(f=f.slice(-1));let c=null;const p=e.candidateEmbedView;for(let m=f.length-1;m>=0;m--){const g=f[m];if(p&&p.model.id==g.id){c=p;break}else{const _=g.findView(o);if(!dn(u)||u.call(o,this,_)){c=_;break}}}c&&c!=p&&(this.clearEmbedding(e),e.candidateEmbedView=c.highlight(c.findProxyNode(null,"container"),{embedding:!0})),!c&&p&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){const t=e.candidateEmbedView,r=e.model||this.model,n=e.paper||this.paper;if(t)t.model.embed(r,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{const{validateUnembedding:i}=n.options,{initialParentId:o}=e;if(o&&typeof i=="function"&&!i.call(n,this)){this._disallowUnembed(e);return}}n.model.getConnectedLinks(r,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(e){const{model:t,whenNotAllowed:r="revert"}=e,n=t||this.model,o=(e.paper||this.paper).model;switch(r){case"remove":{n.remove({ui:!0});break}case"revert":{const{initialParentId:a,initialPosition:s,initialZIndices:l}=e;if(s){const{x:f,y:c}=s;n.position(f,c,{deep:!0,ui:!0})}l&&Object.keys(l).forEach(f=>{const c=o.getCell(f);c&&c.set("z",l[f],{ui:!0})});const u=o.getCell(a);u&&u.embed(n,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,r=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=r.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);const r=e.getAttribute(`${t}-selector`);if(r){const n=this.findAttribute("port",e);if(n){const i=this.findPortNode(n,r);if(i)return i}else{const[i]=this.findBySelector(r);if(i)return i}}return e},notifyPointerdown(e,t,r){dr.prototype.pointerdown.call(this,e,t,r),this.notify("element:pointerdown",e,t,r)},notifyPointermove(e,t,r){dr.prototype.pointermove.call(this,e,t,r),this.notify("element:pointermove",e,t,r)},notifyPointerup(e,t,r){this.notify("element:pointerup",e,t,r),dr.prototype.pointerup.call(this,e,t,r)},pointerdblclick:function(e,t,r){dr.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){dr.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,r)},contextmenu:function(e,t,r){dr.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragStart(e,t,r)},pointermove:function(e,t,r){const n=this.eventData(e),{targetMagnet:i,action:o,delegatedView:a}=n;switch(i&&this.magnetpointermove(e,i,t,r),o){case md.MAGNET:this.dragMagnet(e,t,r);break;case md.MOVE:(a||this).drag(e,t,r);default:if(n.preventPointerEvents)break;this.notifyPointermove(e,t,r);break}this.eventData(e,n)},pointerup:function(e,t,r){const n=this.eventData(e),{targetMagnet:i,action:o,delegatedView:a}=n;switch(i&&this.magnetpointerup(e,i,t,r),o){case md.MAGNET:this.dragMagnetEnd(e,t,r);break;case md.MOVE:(a||this).dragEnd(e,t,r);default:if(n.preventPointerEvents)break;this.notifyPointerup(e,t,r)}i&&this.magnetpointerclick(e,i,t,r),this.checkMouseleave(e)},mouseover:function(e){dr.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){dr.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){dr.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){dr.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,r,n){dr.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,r,n)},onmagnet:function(e,t,r){const{currentTarget:n}=e;this.magnetpointerdown(e,n,t,r),this.eventData(e,{targetMagnet:n}),this.dragMagnetStart(e,t,r)},magnetpointerdown:function(e,t,r,n){this.notify("element:magnet:pointerdown",e,t,r,n)},magnetpointermove:function(e,t,r,n){this.notify("element:magnet:pointermove",e,t,r,n)},magnetpointerup:function(e,t,r,n){this.notify("element:magnet:pointerup",e,t,r,n)},magnetpointerdblclick:function(e,t,r,n){this.notify("element:magnet:pointerdblclick",e,t,r,n)},magnetcontextmenu:function(e,t,r,n){this.notify("element:magnet:contextmenu",e,t,r,n)},dragStart:function(e,t,r){if(this.isDefaultInteractionPrevented(e))return;var n=this.getDelegatedView();if(!n||!n.can("elementMove"))return;this.eventData(e,{action:md.MOVE,delegatedView:n});const i=n.model.position();n.eventData(e,{initialPosition:i,pointerOffset:i.difference(t,r),restrictedArea:this.paper.getRestrictedArea(n,t,r)})},dragMagnetStart:function(e,t,r){const{paper:n}=this,i=e.isPropagationStopped();if(i&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:o=e.currentTarget}=this.eventData(e);if(e.stopPropagation(),!n.options.validateMagnet.call(n,this,o,e)){i?this.dragStart(e,t,r):this.pointerdown(e,t,r);return}n.options.magnetThreshold<=0&&this.dragLinkStart(e,o,t,r),this.eventData(e,{action:md.MAGNET})},drag:function(e,t,r){var n=this.paper,i=n.options.gridSize,o=this.model,a=this.eventData(e),{pointerOffset:s,restrictedArea:l,embedding:u}=a,f=Pf(t+s.x,i),c=Pf(r+s.y,i);o.position(f,c,{restrictedArea:l,deep:!0,ui:!0}),n.options.embeddingMode&&(u||(this.prepareEmbedding(a),u=!0),this.processEmbedding(a,e,t,r)),this.eventData(e,{embedding:u})},dragMagnet:function(e,t,r){this.dragLink(e,t,r)},dragEnd:function(e,t,r){var n=this.eventData(e);n.embedding&&this.finalizeEmbedding(n)},dragMagnetEnd:function(e,t,r){this.dragLinkEnd(e,t,r)},magnetpointerclick:function(e,t,r,n){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,r,n)}},{Flags:$r});Jt(Nw.prototype,qse);const Kse=function(e,t,r){return e},Jse=function(e,t,r){var n=t.side||"bottom",i=Rf(t.padding||40),o=r.sourceBBox,a=r.targetBBox,s=o.center(),l=a.center(),u,f,c;switch(n){case"bottom":c=1,u="y",f="height";break;case"top":c=-1,u="y",f="height";break;case"left":c=-1,u="x",f="width";break;case"right":c=1,u="x",f="width";break;default:throw new Error("Router: invalid side")}return s[u]+=c*(o[f]/2+i[n]),l[u]+=c*(a[f]/2+i[n]),c*(s[u]-l[u])>0?l[u]=s[u]:s[u]=l[u],[s].concat(e,l)};var Yse={N:"S",S:"N",E:"W",W:"E"},Xse={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function e_(e,t,r){var n=new ze(e.x,t.y);return r.containsPoint(n)&&(n=new ze(t.x,e.y)),n}function $P(e,t){return e[t==="W"||t==="E"?"width":"height"]}function to(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function Hv(e){return new Pt(e.x,e.y,0,0)}function t_(e){var t=Rf(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function cH(e,t){return e.sourceBBox.clone().moveAndExpand(t_(t))}function fH(e,t){return e.targetBBox.clone().moveAndExpand(t_(t))}function Qse(e,t){if(e.sourceAnchor)return e.sourceAnchor;var r=cH(e,t);return r.center()}function Zse(e,t){if(e.targetAnchor)return e.targetAnchor;var r=fH(e,t);return r.center()}function dH(e,t,r){var n=new ze(e.x,t.y),i=new ze(t.x,e.y),o=to(e,n),a=to(e,i),s=Yse[r],l=o===r||o!==s&&(a===s||a!==r)?n:i;return{points:[l],direction:to(l,t)}}function kw(e,t,r){var n=e_(e,t,r);return{points:[n],direction:to(n,t)}}function ele(e,t,r,n){var i={},o=[new ze(e.x,t.y),new ze(t.x,e.y)],a=o.filter(function(c){return!r.containsPoint(c)}),s=a.filter(function(c){return to(c,e)!==n}),l;if(s.length>0)l=s.filter(function(c){return to(e,c)===n}).pop(),l=l||s[0],i.points=[l],i.direction=to(l,t);else{l=tse(o,a)[0];var u=new ze(t).move(l,-$P(r,n)/2),f=e_(u,e,r);i.points=[f,u],i.direction=to(u,t)}return i}function tle(e,t,r,n){var i=kw(t,e,n),o=i.points[0];if(r.containsPoint(o)){i=kw(e,t,r);var a=i.points[0];if(n.containsPoint(a)){var s=new ze(e).move(a,-$P(r,to(e,a))/2),l=new ze(t).move(o,-$P(n,to(t,o))/2),u=new It(s,l).midpoint(),f=kw(e,u,r),c=dH(u,t,f.direction);i.points=[f.points[0],c.points[0]],i.direction=c.direction}}return i}function c1(e,t,r,n,i){var o={},a=r.union(n).inflate(1),s=a.center().distance(t)>a.center().distance(e),l=s?t:e,u=s?e:t,f,c,p;return i?(f=ze.fromPolar(a.width+a.height,Xse[i],l),f=a.pointNearestToPoint(f).move(f,-1)):f=a.pointNearestToPoint(l).move(l,1),c=e_(f,u,a),f.round().equals(c.round())?(c=ze.fromPolar(a.width+a.height,xo(f.theta(l))+Math.PI/2,u),c=a.pointNearestToPoint(c).move(u,1).round(),p=e_(f,c,a),o.points=s?[c,p,f]:[f,p,c]):o.points=s?[c,f]:[f,c],o.direction=to(s?f:c,t),o}function TP(e,t,r){var n=cH(r,t),i=fH(r,t),o=Qse(r,t),a=Zse(r,t);n=n.union(Hv(o)),i=i.union(Hv(a)),e=Tr(e).map(ze),e.unshift(o),e.push(a);for(var s,l=[],u=0,f=e.length-1;u<f;u++){var c=null,p=e[u],m=e[u+1],g=!!to(p,m);if(u===0)u+1===f?n.intersect(i.clone().inflate(1))?c=c1(p,m,n,i):g||(c=tle(p,m,n,i)):n.containsPoint(m)?c=c1(p,m,n,Hv(m).moveAndExpand(t_(t))):g||(c=kw(p,m,n));else if(u+1===f){var _=g&&to(m,p)===s;i.containsPoint(p)||_?c=c1(p,m,Hv(p).moveAndExpand(t_(t)),i,s):g||(c=ele(p,m,i,s))}else g||(c=dH(p,m,s));c?(Array.prototype.push.apply(l,c.points),s=c.direction):s=to(p,m),u+1<f&&l.push(m)}return l}var hH={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,r){if(!dn(TP))throw new Error("Manhattan requires the orthogonal router as default fallback.");return TP(e,Jt({},hH,t),r)},fallbackRoute:function(e,t,r){return null},draggingRoute:null};function _N(e){this.map={},this.options=e,this.mapGridSize=100}_N.prototype.build=function(e,t){var r=this.options,n=Tr(r.excludeEnds).reduce(function(l,u){var f=t.get(u);if(f){var c=e.getCell(f.id);c&&l.push(c)}return l},[]),i=[],o=e.getCell(t.get("source").id);o&&(i=wP(i,o.getAncestors().map(function(l){return l.id})));var a=e.getCell(t.get("target").id);a&&(i=wP(i,a.getAncestors().map(function(l){return l.id})));var s=this.mapGridSize;return e.getElements().reduce(function(l,u){var f=Tr(r.excludeTypes).includes(u.get("type")),c=n.find(function(S){return S.id===u.id}),p=i.includes(u.id),m=f||c||p;if(!m)for(var g=u.getBBox().moveAndExpand(r.paddingBox),_=g.origin().snapToGrid(s),v=g.corner().snapToGrid(s),h=_.x;h<=v.x;h+=s)for(var E=_.y;E<=v.y;E+=s){var y=h+"@"+E;l[y]=l[y]||[],l[y].push(g)}return l},this.map),this};_N.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return Tr(this.map[t]).every(function(r){return!r.containsPoint(e)})};function Hf(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}Hf.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var r=Y9(this.items,e,(function(n){return this.values[n]}).bind(this));this.items.splice(r,0,e)};Hf.prototype.remove=function(e){this.hash[e]=this.CLOSE};Hf.prototype.isOpen=function(e){return this.hash[e]===this.OPEN};Hf.prototype.isClose=function(e){return this.hash[e]===this.CLOSE};Hf.prototype.isEmpty=function(){return this.items.length===0};Hf.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};function pH(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function mH(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function gH(e,t){if(e.sourceAnchor)return e.sourceAnchor;var r=pH(e,t);return r.center()}function rle(e,t){if(e.targetAnchor)return e.targetAnchor;var r=mH(e,t);return r.center()}function f1(e,t,r,n,i){var o=360/r,a=e.theta(nle(e,t,n,i)),s=fs(a+o/2);return o*Math.floor(s/o)}function nle(e,t,r,n){var i=n.step,o=t.x-e.x,a=t.y-e.y,s=o/r.x,l=a/r.y,u=s*i,f=l*i;return new ze(e.x+u,e.y+f)}function yM(e,t){var r=Math.abs(e-t);return r>180?360-r:r}function ile(e,t,r){var n=r.step;Tr(r.directions).forEach(function(i){i.gridOffsetX=i.offsetX/n*t.x,i.gridOffsetY=i.offsetY/n*t.y})}function ole(e,t,r){return{source:t.clone(),x:wM(r.x-t.x,e),y:wM(r.y-t.y,e)}}function wM(e,t){if(!e)return t;var r=Math.abs(e),n=Math.round(r/t);if(!n)return r;var i=n*t,o=r-i,a=o/n;return t+a}function ale(e,t){var r=t.source,n=Pf(e.x-r.x,t.x)+r.x,i=Pf(e.y-r.y,t.y)+r.y;return new ze(n,i)}function qp(e,t){return e.round(t)}function Cw(e,t,r){return qp(ale(e.clone(),t),r)}function fm(e){return e.clone().toString()}function d1(e){return new ze(e.x===0?0:Math.abs(e.x)/e.x,e.y===0?0:Math.abs(e.y)/e.y)}function sle(e,t,r,n,i,o,a){for(var s=[],l=d1(i.difference(r)),u=fm(r),f=e[u],c;f;){c=t[u];var p=d1(c.difference(f));p.equals(l)||(s.unshift(c),l=p),u=fm(f),f=e[u]}var m=t[u],g=d1(m.difference(n));return g.equals(l)||s.unshift(m),s}function bM(e,t){for(var r=1/0,n=0,i=t.length;n<i;n++){var o=e.manhattanDistance(t[n]);o<r&&(r=o)}return r}function _M(e,t,r,n,i){var o=i.precision,a=i.directionMap,s=e.difference(t.center()),l=Wr(a)?Object.keys(a):[],u=Tr(r),f=l.reduce(function(c,p){if(u.includes(p)){for(var m=a[p],g=new ze(e.x+m.x*(Math.abs(s.x)+t.width),e.y+m.y*(Math.abs(s.y)+t.height)),_=new It(e,g),v=_.intersect(t)||[],h=v.length,E,y=null,S=0;S<h;S++){var $=v[S],T=e.squaredDistance($);(E===void 0||T>E)&&(E=T,y=$)}if(y){var d=Cw(y,n,o);t.containsPoint(d)&&(d=Cw(d.offset(m.x*n.x,m.y*n.y),n,o)),c.push(d)}}return c},[]);return t.containsPoint(e)||f.push(Cw(e,n,o)),f}function lle(e,t,r,n){var i=n.precision,o,a;e instanceof Pt?o=qp(gH(this,n).clone(),i):o=qp(e.clone(),i),t instanceof Pt?a=qp(rle(this,n).clone(),i):a=qp(t.clone(),i);var s=ole(n.step,o,a),l,u,f,c;if(e instanceof Pt?(l=o,f=_M(l,e,n.startDirections,s,n)):(l=o,f=[l]),t instanceof Pt?(u=a,c=_M(a,t,n.endDirections,s,n)):(u=a,c=[u]),f=f.filter(Oe=>!r(Oe)),c=c.filter(Oe=>!r(Oe)),f.length>0&&c.length>0){for(var p=new Hf,m={},g={},_={},v=0,h=f.length;v<h;v++){var E=f[v],y=fm(E);p.add(y,bM(E,c)),m[y]=E,_[y]=0}var S=n.previousDirectionAngle,$=S===void 0,T,d,A=n.directions;ile(A,s,n);for(var x=A.length,P=Tr(c).reduce(function(Oe,R){var C=fm(R);return Oe.push(C),Oe},[]),j=n.maximumLoops;!p.isEmpty()&&j>0;){var F=p.pop(),V=m[F],X=g[F],H=_[F],Z=X===void 0,fe=V.equals(l),ee;Z?$?fe?ee=null:ee=f1(l,V,x,s,n):ee=S:ee=f1(X,V,x,s,n);var ae=f.length===c.length;if(ae){for(var M=0;M<f.length;M++)if(!f[M].equals(c[M])){ae=!1;break}}var B=Z&&ae;if(!B&&P.indexOf(F)>=0)return n.previousDirectionAngle=ee,sle(g,m,V,l,u);for(v=0;v<x;v++){T=A[v];var K=T.angle;if(d=yM(ee,K),!(!($&&fe)&&d>n.maxAllowedDirectionChange)){var O=Cw(V.clone().offset(T.gridOffsetX,T.gridOffsetY),s,i),N=fm(O);if(!(p.isClose(N)||r(O))){if(P.indexOf(N)>=0){var q=O.equals(u);if(!q){var ne=f1(O,u,x,s,n),J=yM(K,ne);if(J>n.maxAllowedDirectionChange)continue}}var Y=T.cost,oe=fe?0:n.penalties[d],be=H+Y+oe;(!p.isOpen(N)||be<_[N])&&(m[N]=O,g[N]=V,_[N]=be,p.add(N,be+bM(O,c)))}}}j--}}return n.fallbackRoute.call(this,l,u,n)}function ule(e){if(e.directions=qn(e,"directions"),e.penalties=qn(e,"penalties"),e.paddingBox=qn(e,"paddingBox"),e.padding=qn(e,"padding"),e.padding){var t=Rf(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}Tr(e.directions).forEach(function(r){var n=new ze(0,0),i=new ze(r.offsetX,r.offsetY);r.angle=fs(n.theta(i))})}function cle(e,t,r){ule(t),r.options.perpendicular=!!t.perpendicular;var n=pH(r,t),i=mH(r,t),o=gH(r,t);let a;if(typeof t.isPointObstacle=="function")a=t.isPointObstacle;else{const y=new _N(t);y.build(r.paper.model,r.model),a=S=>!y.isPointAccessible(S)}for(var s=Tr(e).map(ze),l=[],u=o,f,c,p=0,m=s.length;p<=m;p++){var g=null;if(c=f||n,f=s[p],!f){f=i;var _=!r.model.get("source").id||!r.model.get("target").id;if(_&&dn(t.draggingRoute)){var v=c===n?o:c,h=f.origin();g=t.draggingRoute.call(r,v,h,t)}}if(g=g||lle.call(r,c,f,a,t),g===null)return t.fallbackRouter(e,t,r);var E=g[0];E&&E.equals(u)&&g.shift(),u=g[g.length-1]||u,Array.prototype.push.apply(l,g)}return l}const AP=function(e,t,r){return cle(e,Jt({},hH,t),r)};var fle={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),r=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:r},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:r},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:r},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:r}]},fallbackRoute:function(e,t,r){var n=e.theta(t),i=[],o={x:t.x,y:e.y},a={x:e.x,y:t.y};if(n%180>90){var s=o;o=a,a=s}var l=n%90<45?o:a,u=new It(e,l),f=90*Math.ceil(n/90),c=ze.fromPolar(u.squaredLength(),xo(f+135),l),p=new It(t,c),m=u.intersection(p),g=m||t,_=m?g:e,v=360/r.directions.length,h=_.theta(t),E=fs(h+v/2),y=v*Math.floor(E/v);return r.previousDirectionAngle=y,g&&i.push(g.round()),i.push(t),i}};const dle=function(e,t,r){if(!dn(AP))throw new Error("Metro requires the manhattan router.");return AP(e,Jt({},fle,t),r)},mt={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},EM=[mt.LEFT,mt.RIGHT,mt.TOP,mt.BOTTOM],Kd={[mt.LEFT]:mt.RIGHT,[mt.RIGHT]:mt.LEFT,[mt.TOP]:mt.BOTTOM,[mt.BOTTOM]:mt.TOP},hle=[mt.TOP,mt.BOTTOM],Wv={0:mt.RIGHT,180:mt.LEFT,270:mt.TOP,90:mt.BOTTOM};function Vp(e){return e.angle()}function Gv(e){return new un(e).simplify({threshold:1}).points}function r_(e,t){const{point:r,x0:n,y0:i,view:o,bbox:a,direction:s}=e,{point:l,x0:u,y0:f,view:c,bbox:p,direction:m}=t;let g;if(o)o.model.isLink()?g=SM(l,r,o):s===mt.ANCHOR_SIDE?g=a.sideNearestToPoint(r):s===mt.MAGNET_SIDE?g=o.model.getBBox().sideNearestToPoint(r):g=s;else{const v=new Pt(n,i,0,0);g=EM.includes(s)?s:v.sideNearestToPoint(l)}let _;if(c)c.model.isLink()?_=SM(r,l,c):m===mt.ANCHOR_SIDE?_=p.sideNearestToPoint(l):m===mt.MAGNET_SIDE?_=c.model.getBBox().sideNearestToPoint(l):_=m;else{const v=new Pt(u,f,0,0);_=EM.includes(m)?m:v.sideNearestToPoint(r)}return[g,_]}function ple(e,t,r){const{x0:n,y0:i,width:o,height:a,point:s,margin:l}=e,u=n+o,f=i+a,c=n-l,p=u+l,m=i-l,{x:g}=s,{x0:_,y0:v}=t;return _===g&&v<i?mt.BOTTOM:_<g&&v<m?mt.RIGHT:_>g&&v<m?mt.LEFT:_<c&&v>=i||_>p&&v>=i?mt.TOP:_>=c&&_<=g&&v>f||_<=p&&_>=g&&v>f?r.point.x<_?mt.RIGHT:mt.LEFT:mt.TOP}function mle(e,t,r){const{x0:n,y0:i,width:o,height:a,point:s,margin:l}=e,u=n+o,f=i+a,c=n-l,p=u+l,m=f+l,{x:g}=s,{x0:_,y0:v}=t;return _===g&&v>f?mt.TOP:_<g&&v>m?mt.RIGHT:_>g&&v>m?mt.LEFT:_<c&&v<=f||_>p&&v<=f?mt.BOTTOM:_>=c&&_<=g&&v<i||_<=p&&_>=g&&v<i?r.point.x<_?mt.RIGHT:mt.LEFT:mt.BOTTOM}function gle(e,t,r){const{y0:n,x0:i,width:o,height:a,point:s,margin:l}=e,u=i+o,f=n+a,c=i-l,p=n-l,m=f+l,{x:g,y:_}=s,{x0:v,y0:h}=t;return v<g&&h===_?mt.RIGHT:v<=c&&h<_?mt.BOTTOM:v<=c&&h>_?mt.TOP:v>=i&&h<=p||v>=i&&h>=m?mt.LEFT:v>u&&h>=p&&h<=_||v>u&&h<=m&&h>=_?r.point.y<h?mt.BOTTOM:mt.TOP:mt.LEFT}function vle(e,t,r){const{y0:n,x0:i,width:o,height:a,point:s,margin:l}=e,u=i+o,f=n+a,c=u+l,p=n-l,m=f+l,{x:g,y:_}=s,{x0:v,y0:h}=t;return v>g&&h===_?mt.LEFT:v>=c&&h<_?mt.BOTTOM:v>=c&&h>_?mt.TOP:v<=u&&h<=p||v<=u&&h>=m?mt.RIGHT:v<i&&h>=p&&h<=_||v<i&&h<=m&&h>=_?r.point.y<h?mt.BOTTOM:mt.TOP:mt.RIGHT}function yle(e,t,r){const[n]=r_(e,t);switch(n){case mt.TOP:return ple(e,t,r);case mt.RIGHT:return vle(e,t,r);case mt.BOTTOM:return mle(e,t,r);case mt.LEFT:return gle(e,t,r)}}function SM(e,t,r){const n=r.getTangentAtLength(r.getClosestPointLength(t)),i=Math.round(Vp(n)/90)*90;if(i%180===0&&e.y===t.y)return e.x<t.x?mt.LEFT:mt.RIGHT;if(e.x===t.x)return e.y<t.y?mt.TOP:mt.BOTTOM;switch(i){case 0:case 180:case 360:return e.y<t.y?mt.TOP:mt.BOTTOM;case 90:case 270:return e.x<t.x?mt.LEFT:mt.RIGHT}}function $M(e,t,r,n,i,o,a){n===mt.AUTO&&(n=i?mt.MAGNET_SIDE:mt.ANCHOR_SIDE);const s=e&&e.model.isElement(),{x:l,y:u,width:f=0,height:c=0}=s?Pt.fromRectUnion(r,e.model.getBBox()):o;return{point:t,x0:l,y0:u,view:e,bbox:r,width:f,height:c,direction:n,margin:s?a:0}}function h1({x:e,y:t}){const r=new ze(e,t);return{point:r,x0:r.x,y0:r.y,view:null,bbox:new Pt(e,t,0,0),width:0,height:0,direction:null,margin:0}}function TM(e,t,r){const n=t.point.clone(),{x0:i,y0:o,width:a,height:s}=t;switch(e){case"left":n.x=i-r;break;case"right":n.x=i+a+r;break;case"top":n.y=o-r;break;case"bottom":n.y=o+s+r;break}return n}function cu(e,t){const{point:r,x0:n,y0:i,view:o,width:a,height:s,margin:l}=e,{point:u,x0:f,y0:c,width:p,height:m,margin:g}=t,_=f+p,v=c+m,h=n+a,E=i+s,y=o&&o.model.isElement(),S=n-l,$=h+l,T=i-l,d=E+l,A=f-g,x=_+g,P=c-g,j=v+g,[F,V]=r_(e,t),X=TM(F,{point:r,x0:n,y0:i,width:a,height:s},l),H=TM(V,{point:u,x0:f,y0:c,width:p,height:m},g),{x:Z,y:fe}=X,{x:ee,y:ae}=H,M=(f+_)/2,B=(c+v)/2,K=(n+h)/2,O=(i+E)/2,N=(K<M?h+f:_+n)/2,q=(O<B?E+c:v+i)/2;if(F==="left"&&V==="right"){if(S<=x){let J=q;return h<=f&&(v>=T&&ae<fe?J=Math.min(P,T):c<=d&&ae>=fe&&(J=Math.max(j,d))),[{x:Z,y:fe},{x:Z,y:J},{x:ee,y:J},{x:ee,y:ae}]}const ne=(Z+ee)/2;return[{x:ne,y:fe},{x:ne,y:ae}]}else if(F==="right"&&V==="left"){if($>=A){let J=q;return Z>_&&(v>=T&&ae<fe?J=Math.min(P,T):c<=d&&ae>=fe&&(J=Math.max(j,d))),[{x:Z,y:fe},{x:Z,y:J},{x:ee,y:J},{x:ee,y:ae}]}const ne=(Z+ee)/2;return[{x:ne,y:fe},{x:ne,y:ae}]}else if(F==="top"&&V==="bottom"){if(fe<ae){let J=N,Y=fe;return fe<c&&(_>=S&&ee<Z?J=Math.min(A,S):f<=$&&ee>=Z&&(J=Math.max(x,$))),[{x:Z,y:Y},{x:J,y:Y},{x:J,y:ae},{x:ee,y:ae}]}const ne=(fe+ae)/2;return[{x:Z,y:ne},{x:ee,y:ne}]}else if(F==="bottom"&&V==="top"){if(fe-l>ae){let J=N,Y=fe;return fe>v&&(_>=S&&ee<Z?J=Math.min(A,S):f<=$&&ee>=Z&&(J=Math.max(x,$))),[{x:Z,y:Y},{x:J,y:Y},{x:J,y:ae},{x:ee,y:ae}]}const ne=(fe+ae)/2;return[{x:Z,y:ne},{x:ee,y:ne}]}else if(F==="top"&&V==="top"){let ne,J=Math.min((E+c)/2,ae),Y=Math.min((i+v)/2,fe);if(ae<fe){if(Z>=x||Z<=A)return[{x:Z,y:Math.min(fe,ae)},{x:ee,y:Math.min(fe,ae)}];ee>Z?ne=Math.min(Z,A):ne=Math.max(Z,x)}else{if(ee>=$||ee<=S)return[{x:Z,y:Math.min(fe,ae)},{x:ee,y:Math.min(fe,ae)}];ee>=Z?ne=Math.max(ee,$):ne=Math.min(ee,S)}return[{x:Z,y:Y},{x:ne,y:Y},{x:ne,y:J},{x:ee,y:J}]}else if(F==="bottom"&&V==="bottom"){let ne,J=Math.max((i+v)/2,ae),Y=Math.max((E+c)/2,fe);if(ae>fe){if(Z>=x||Z<=A)return[{x:Z,y:Math.max(fe,ae)},{x:ee,y:Math.max(fe,ae)}];ee>Z?ne=Math.min(Z,A):ne=Math.max(Z,x)}else{if(ee>=$||ee<=S)return[{x:Z,y:Math.max(fe,ae)},{x:ee,y:Math.max(fe,ae)}];ee>=Z?ne=Math.max(ee,$):ne=Math.min(ee,S)}return[{x:Z,y:Y},{x:ne,y:Y},{x:ne,y:J},{x:ee,y:J}]}else if(F==="left"&&V==="left"){let ne,J=Math.min((h+f)/2,ee),Y=Math.min((n+_)/2,Z);return ee>Z?ae<=fe?ne=Math.min(T,ae):ne=Math.max(d,ae):ae>=fe?ne=Math.min(P,fe):ne=Math.max(j,fe),[{x:Y,y:fe},{x:Y,y:ne},{x:J,y:ne},{x:J,y:ae}]}else if(F==="right"&&V==="right"){let ne,J=Math.max((n+_)/2,ee),Y=Math.max((h+f)/2,Z);return ee<Z?ae<=fe?ne=Math.min(T,ae):ne=Math.max(d,ae):ae>=fe?ne=Math.min(P,fe):ne=Math.max(j,fe),[{x:Y,y:fe},{x:Y,y:ne},{x:J,y:ne},{x:J,y:ae}]}else if(F==="top"&&V==="right"){if(fe>ae){if(Z<ee){let J=q;return(J>B||!y)&&J<j&&Z<f&&(J=P),[{x:Z,y:J},{x:ee,y:J},{x:ee,y:ae}]}return[{x:Z,y:ae}]}const ne=Math.max(N,x);if(ee<Z&&ae>i&&ae<E)return[{x:Z,y:fe},{x:ne,y:fe},{x:ne,y:ae}];if(ne>S&&ae>i||f>h){const J=Math.min(i-l,c-g),Y=Math.max(h+l,_+g);return[{x:Z,y:J},{x:Y,y:J},{x:Y,y:ae}]}return[{x:Z,y:fe},{x:Math.max(ne,ee),y:fe},{x:Math.max(ne,ee),y:ae}]}else if(F==="top"&&V==="left"){if(fe>ae){if(Z>ee){let J=q;return(J>B||!y)&&J<j&&Z>_&&(J=P),[{x:Z,y:J},{x:ee,y:J},{x:ee,y:ae}]}return[{x:Z,y:ae}]}const ne=Math.min(A,N);if(Z<ee&&E>=ae)return[{x:Z,y:fe},{x:ne,y:fe},{x:ne,y:ae}];if(ne<$&&fe<v){const J=Math.min(T,P),Y=Math.min(S,A);return[{x:Z,y:J},{x:Y,y:J},{x:Y,y:ae}]}return[{x:Z,y:fe},{x:ne,y:fe},{x:ne,y:ae}]}else if(F==="bottom"&&V==="right"){if(fe<ae){if(Z<ee){let J=q;return(J<B||!y)&&J>P&&Z<f&&(J=j),[{x:Z,y:J},{x:ee,y:J},{x:ee,y:ae}]}return[{x:Z,y:ae}]}else if(n<ee){const J=Math.max(d,j),Y=Math.max($,x);return[{x:Z,y:J},{x:Y,y:J},{x:Y,y:ae}]}const ne=N;return[{x:Z,y:fe},{x:ne,y:fe},{x:ne,y:ae}]}else if(F==="bottom"&&V==="left"){if(fe<ae){if(Z>ee){let J=q;return(J<B||!y)&&J>P&&Z>_&&(J=j),[{x:Z,y:J},{x:ee,y:J},{x:ee,y:ae}]}return[{x:Z,y:ae}]}else if(h>ee){const J=Math.max(d,j),Y=Math.min(S,A);return[{x:Z,y:J},{x:Y,y:J},{x:Y,y:ae}]}const ne=N;return[{x:Z,y:fe},{x:ne,y:fe},{x:ne,y:ae}]}else if(F==="left"&&V==="bottom"){if(Z>=ee&&fe>=j)return[{x:ee,y:fe}];if(Z>=_&&fe<ae){const Y=N;return[{x:Y,y:fe},{x:Y,y:ae},{x:ee,y:ae}]}if(ee<h&&v<=i){const Y=q;return[{x:Z,y:fe},{x:Z,y:Y},{x:ee,y:Y}]}const ne=Math.min(A,Z),J=Math.max(d,j);return[{x:ne,y:fe},{x:ne,y:J},{x:ee,y:J}]}else if(F==="left"&&V==="top"){if(Z>ee&&fe<P)return[{x:ee,y:fe}];if(Z>=_&&fe>ae){const Y=N;return[{x:Y,y:fe},{x:Y,y:ae},{x:ee,y:ae}]}if(ee<=h&&ae>fe){const Y=q;return[{x:Z,y:fe},{x:Z,y:Y},{x:ee,y:Y}]}const ne=ae<fe?Math.min(S,A):S,J=Math.min(T,P);return[{x:ne,y:fe},{x:ne,y:J},{x:ee,y:J}]}else if(F==="right"&&V==="top"){if(Z<=ee&&fe<P)return[{x:ee,y:fe}];if(h<f&&fe>ae){let Y=N;return[{x:Y,y:fe},{x:Y,y:ae},{x:ee,y:ae}]}if(ee<Z&&c>E){const Y=q;return[{x:Z,y:fe},{x:Z,y:Y},{x:ee,y:Y}]}const ne=Math.max($,x),J=Math.min(T,P);return[{x:ne,y:fe},{x:ne,y:J},{x:ee,y:J}]}else if(F==="right"&&V==="bottom"){if(Z<=ee&&fe>=j)return[{x:ee,y:fe}];if(Z<=A&&fe<ae){const Y=N;return[{x:Y,y:fe},{x:Y,y:ae},{x:ee,y:ae}]}if(ee>n&&v<i){const Y=q;return[{x:Z,y:fe},{x:Z,y:Y},{x:ee,y:Y}]}const ne=Math.max(x,Z),J=Math.max(d,j);return[{x:ne,y:fe},{x:ne,y:J},{x:ee,y:J}]}}function vH(e,t,r){const{sourceDirection:n=mt.AUTO,targetDirection:i=mt.AUTO}=t,o=t.margin||20,a=t.useVertices||!1,s=!!r.model.source().port,l=$M(r.sourceView,r.sourceAnchor,r.sourceBBox,n,s,r.sourceAnchor,o),u=!!r.model.target().port,f=$M(r.targetView,r.targetAnchor,r.targetBBox,i,u,r.targetAnchor,o);let c=[];if(!a||e.length===0)return Gv(cu(l,f));const p=e.map(_=>h1(_)),[m]=p;if(l.view&&l.view.model.isElement()&&l.view.model.getBBox().inflate(o).containsPoint(m.point)){const[_]=r_(l,m),v=_,h=h1(l.point);h.margin=o,h.direction=_,m.direction=v,c.push(...cu(h,m),m.point)}else{const _=p[1]||f,v=yle(l,m,_);m.direction=v,c.push(...cu(l,m),m.point)}for(let _=0;_<p.length-1;_++){const v=p[_],h=p[_+1],E=new It(v.point,h.point),y=Vp(E);if(y%90===0){const T=Wv[y],d=Kd[T];if(T!==v.direction)c.push(v.point,h.point),h.direction=d;else{const A=fs(y-90);let x=0,P=0;A===90?P=-o:A===180?x=-o:A===270?P=o:A===0&&(x=o);const j={x:v.point.x+x,y:v.point.y+P},F={x:h.point.x+x,y:h.point.y+P},V=new It(h.point,F);h.direction=Wv[Vp(V)],c.push(v.point,j,F,h.point)}continue}const[S,$]=p1(v,h);v.direction=S,h.direction=$,c.push(...cu(v,h),h.point)}const g=p[p.length-1];if(f.view&&f.view.model.isElement())if(f.view.model.getBBox().inflate(o).containsPoint(g.point)){const[_]=p1(g,f),v=h1(f.point),[,h]=r_(g,f);v.margin=o,v.direction=h,g.direction=_,c.push(...cu(g,v))}else{const _=Gv(c),v=new It(_[_.length-2],g.point),h=Wv[Math.round(Vp(v))];g.direction=h;let E=cu(g,f);const[y,S]=Gv([...E,f.point]),$=new It(y,S),T=Math.round(Vp($)),d=Wv[T];d!==h&&h===Kd[d]&&(g.margin=o,E=cu(g,f)),c.push(...E)}else{const[_]=p1(g,f);g.direction=_,c.push(...cu(g,f))}return Gv(c)}function p1(e,t){const r=e.direction,n=hle.includes(r);let i=e.direction,o=t.direction;if(n){const a=e.point.y>t.point.y,s=t.point.x-e.point.x;r===mt.BOTTOM?(i=a?Kd[r]:s>=0?mt.RIGHT:mt.LEFT,s>0?o=a?mt.LEFT:mt.TOP:s<0&&(o=a?mt.RIGHT:mt.TOP)):(i=a?s>=0?mt.RIGHT:mt.LEFT:Kd[r],s>0?o=a?mt.BOTTOM:mt.LEFT:s<0&&(o=a?mt.BOTTOM:mt.RIGHT))}else{const a=e.point.x>t.point.x,s=t.point.y-e.point.y;r===mt.RIGHT?(i=a?Kd[r]:s>=0?mt.BOTTOM:mt.TOP,s>0?o=a?mt.TOP:mt.LEFT:s<0&&(o=a?mt.BOTTOM:mt.LEFT)):(i=a?s>=0?mt.BOTTOM:mt.TOP:Kd[r],s>0?o=a?mt.RIGHT:mt.TOP:s<0&&(o=a?mt.RIGHT:mt.BOTTOM))}return[i,o]}vH.Directions=mt;const wle=vH,ble=Object.freeze(Object.defineProperty({__proto__:null,manhattan:AP,metro:dle,normal:Kse,oneSide:Jse,orthogonal:TP,rightAngle:wle},Symbol.toStringTag,{value:"Module"})),Rd={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},_le=Object.values(Rd),Ele=10,Sle=1,EN=function(e,t,r=[],n={}){const{cornerType:i=Rd.POINT,cornerRadius:o=Ele,cornerPreserveAspectRatio:a=!1,precision:s=Sle,raw:l=!1}=n;if(_le.indexOf(i)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let u;if(i===Rd.POINT||!o){const f=[e].concat(r).concat([t]),c=new un(f);u=new Bt(c)}else{u=new Bt,u.appendSegment(Bt.createSegment("M",e));let f;const c=r.length;for(let p=0;p<c;p++){const m=new ze(r[p]),g=r[p-1]||e,_=r[p+1]||t,v=f||m.distance(g)/2;f=m.distance(_)/2;let h,E;a?h=E=-Math.min(o,v,f):(h=-Math.min(o,v),E=-Math.min(o,f));const y=m.clone().move(g,h).round(s),S=m.clone().move(_,E).round(s);switch(u.appendSegment(Bt.createSegment("L",y)),i){case Rd.CUBIC:{const $=.3333333333333333,T=2/3,d=new ze($*y.x+T*m.x,T*m.y+$*y.y),A=new ze($*S.x+T*m.x,T*m.y+$*S.y);u.appendSegment(Bt.createSegment("C",d,A,S));break}case Rd.LINE:{u.appendSegment(Bt.createSegment("L",S));break}case Rd.GAP:{u.appendSegment(Bt.createSegment("M",S));break}}}u.appendSegment(Bt.createSegment("L",t))}return l?u:u.serialize()};var $le=5,AM=["arc","gap","cubic"],Tle=0,xM=1,Ale=["smooth"],Kv=1/3,Jv=2/3;function PM(e,t){let{x:r,y:n}=e,{x:i,y:o}=t;if(r>i){let a=r;r=i,i=a,a=n,n=o,o=a}if(n>o){let a=r;r=i,i=a,a=n,n=o,o=a}return[new ze(r,n),new ze(i,o)]}function xle(e,t){const[{x:r,y:n},{x:i,y:o}]=PM(e.start,e.end),[{x:a,y:s},{x:l,y:u}]=PM(t.start,t.end),f=r<=l&&a<=i,c=n<=u&&s<=o;return f&&c}function m1(e,t,r){var n=[].concat(e,r,t);return n.reduce(function(i,o,a){var s=n[a+1];return s!=null&&(i[a]=vf(o,s)),i},[])}function Ple(e){var t=e.paper,r=t._jumpOverUpdateList;if(r==null){r=t._jumpOverUpdateList=[];var n=t.model;n.on("batch:stop",function(){this.hasActiveBatch()||Ole(t)}),n.on("reset",function(){r=t._jumpOverUpdateList=[]})}r.indexOf(e)<0&&(r.push(e),e.listenToOnce(e.model,"change:connector remove",function(){r.splice(r.indexOf(e),1)}))}function Ole(e){for(var t=e._jumpOverUpdateList,r=0;r<t.length;r++){const n=t[r],i=n.getFlag(n.constructor.Flags.CONNECTOR);n.requestUpdate(i)}}function Rle(e,t){return Tr(t).reduce(function(r,n){var i=e.intersection(n);return i&&r.push(i),r},[])}function OM(e,t){return vf(e,t).squaredLength()}function Ile(e,t,r){return t.reduce(function(n,i,o){if(i.skip===!0)return n;var a=n.pop()||e,s=Wb(i).move(a.start,-r),l=Wb(i).move(a.start,+r),u=t[o+1];if(u!=null){var f=l.distance(u);f<=r&&(l=u.move(a.start,f),u.skip=!0)}else{var c=s.distance(a.end);if(c<r*2+xM)return n.push(a),n}var p=l.distance(a.start);if(p<r*2+xM)return n.push(a),n;var m=vf(s,l);return m.isJump=!0,n.push(vf(a.start,s),m,vf(l,a.end)),n},[])}function RM(e,t,r,n){var i=new Bt,o;return o=Bt.createSegment("M",e[0].start),i.appendSegment(o),Tr(e).forEach(function(a,s){if(a.isJump){var l,u,f,c;if(r==="arc"){l=-90,u=a.start.difference(a.end);var p=+(u.x<0||u.x===0&&u.y<0);p&&(l+=180);var m=a.midpoint(),g=new It(m,a.end).rotate(m,l),_;_=new It(a.start,m),f=_.pointAt(2/3).rotate(a.start,l),c=g.pointAt(1/3).rotate(g.end,-l),o=Bt.createSegment("C",f,c,g.end),i.appendSegment(o),_=new It(m,a.end),f=g.pointAt(1/3).rotate(g.end,l),c=_.pointAt(1/3).rotate(a.end,-l),o=Bt.createSegment("C",f,c,a.end),i.appendSegment(o)}else if(r==="gap")o=Bt.createSegment("M",a.end),i.appendSegment(o);else if(r==="cubic"){l=a.start.theta(a.end);var v=t*.6,h=t*1.35;u=a.start.difference(a.end),p=+(u.x<0||u.x===0&&u.y<0),p&&(h*=-1),f=ze(a.start.x+v,a.start.y+h).rotate(a.start,l),c=ze(a.end.x-v,a.end.y+h).rotate(a.end,l),o=Bt.createSegment("C",f,c,a.end),i.appendSegment(o)}}else{var E=e[s+1];n==0||!E||E.isJump?(o=Bt.createSegment("L",a.end),i.appendSegment(o)):Nle(n,i,a.end,a.start,E.end)}}),i}function Nle(e,t,r,n,i){var o=r.distance(n)/2,a=r.distance(i)/2,s=-Math.min(e,o),l=-Math.min(e,a),u=r.clone().move(n,s).round(),f=r.clone().move(i,l).round(),c=new ze(Kv*u.x+Jv*r.x,Jv*r.y+Kv*u.y),p=new ze(Kv*f.x+Jv*r.x,Jv*r.y+Kv*f.y),m;m=Bt.createSegment("L",u),t.appendSegment(m),m=Bt.createSegment("C",c,p,f),t.appendSegment(m)}const kle=function(e,t,r,n){Ple(this);var i=n.raw,o=n.size||$le,a=n.jump&&(""+n.jump).toLowerCase(),s=n.radius||Tle,l=n.ignoreConnectors||Ale;AM.indexOf(a)===-1&&(a=AM[0]);var u=this.paper,f=u.model,c=f.getLinks();if(c.length===1)return RM(m1(e,t,r),o,a,s);var p=this.model,m=c.indexOf(p),g=u.options.defaultConnector||{},_=c.filter(function($,T){var d=$.get("connector")||g;return Tr(l).includes(d.name)?!1:T>m?d.name!=="jumpover":!0}),v=_.map(function($){return u.findViewByModel($)}),h=m1(e,t,r),E=v.map(function($){return $==null?[]:$===this?h:m1($.sourcePoint,$.targetPoint,$.route)},this),y=h.reduce(function($,T){var d=_.reduce(function(A,x,P){if(x!==p){const j=E[P].slice(),F=j.findIndex(X=>xle(T,X));F>-1&&T.containsPoint(j[F].end)&&j.splice(F+1,1);const V=Rle(T,j);A.push.apply(A,V)}return A},[]).sort(function(A,x){return OM(T.start,A)-OM(T.start,x)});return d.length>0?$.push.apply($,Ile(T,d,o)):$.push(T),$},[]),S=RM(y,o,a,s);return i?S:S.serialize()},Cle=function(e,t,r=[],n={}){const{raw:i}=n;return EN(e,t,r,{cornerType:"point",raw:i})},jle=10,Dle=0,Mle=function(e,t,r=[],n={}){const{radius:i=jle,raw:o}=n;return EN(e,t,r,{cornerType:"cubic",cornerRadius:i,precision:Dle,raw:o})},Lle=function(e,t,r,n){var i=n&&n.raw,o;if(r&&r.length!==0){var a=[e].concat(r).concat([t]),s=Fr.throughPoints(a);o=new Bt(s)}else{o=new Bt;var l;if(l=Bt.createSegment("M",e),o.appendSegment(l),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var u=(e.x+t.x)/2;l=Bt.createSegment("C",u,e.y,u,t.y,t.x,t.y),o.appendSegment(l)}else{var f=(e.y+t.y)/2;l=Bt.createSegment("C",e.x,f,t.x,f,t.x,t.y),o.appendSegment(l)}}return i?o:o.serialize()},Ta={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},Zi={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},SN=function(e,t,r=[],n={},i){const o=!!n.raw,{direction:a=Ta.AUTO,precision:s=3}=n,l={coeff:n.distanceCoefficient||.6,angleTangentCoefficient:n.angleTangentCoefficient||80,tau:n.tension||.5,sourceTangent:n.sourceTangent?new ze(n.sourceTangent):null,targetTangent:n.targetTangent?new ze(n.targetTangent):null,rotate:!!n.rotate};typeof n.sourceDirection=="string"?l.sourceDirection=n.sourceDirection:typeof n.sourceDirection=="number"?l.sourceDirection=new ze(1,0).rotate(null,n.sourceDirection):l.sourceDirection=n.sourceDirection?new ze(n.sourceDirection).normalize():null,typeof n.targetDirection=="string"?l.targetDirection=n.targetDirection:typeof n.targetDirection=="number"?l.targetDirection=new ze(1,0).rotate(null,n.targetDirection):l.targetDirection=n.targetDirection?new ze(n.targetDirection).normalize():null;const u=[e,...r,t].map(_=>new ze(_));let f;if(l.sourceTangent)f=l.sourceTangent;else{const _=qle(i,u,a,l),v=u[0].distance(u[1])*l.coeff,h=u[1].difference(u[0]).normalize(),E=xP(_,h);if(E>Math.PI/4){const y=v+(E-Math.PI/4)*l.angleTangentCoefficient;f=_.clone().scale(y,y)}else f=_.clone().scale(v,v)}let c;if(l.targetTangent)c=l.targetTangent;else{const _=Vle(i,u,a,l),v=u.length-1,h=u[v-1].distance(u[v])*l.coeff,E=u[v-1].difference(u[v]).normalize(),y=xP(_,E);if(y>Math.PI/4){const S=h+(y-Math.PI/4)*l.angleTangentCoefficient;c=_.clone().scale(S,S)}else c=_.clone().scale(h,h)}const m=Wle(u,f,c,l).map(_=>Gle(_,l)),g=new Bt(m).round(s);return o?g:g.serialize()};SN.Directions=Ta;SN.TangentDirections=Zi;function Fle(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)n.x>t[1].x?i="right":i="left";else if(o=e.sourceView.model.angle(),r.rotate&&o){const s=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let a;switch(i){case"left":a=new ze(-1,0);break;case"right":default:a=new ze(1,0);break}return r.rotate&&o&&a.rotate(null,-o),a}function Ble(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)n.x>t[t.length-2].x?i="left":i="right";else if(o=e.targetView.model.angle(),r.rotate&&o){const s=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let a;switch(i){case"left":a=new ze(-1,0);break;case"right":default:a=new ze(1,0);break}return r.rotate&&o&&a.rotate(null,-o),a}function Ule(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)n.y>t[1].y?i="bottom":i="top";else if(o=e.sourceView.model.angle(),r.rotate&&o){const s=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let a;switch(i){case"top":a=new ze(0,-1);break;case"bottom":default:a=new ze(0,1);break}return r.rotate&&o&&a.rotate(null,-o),a}function zle(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)n.y>t[t.length-2].y?i="top":i="bottom";else if(o=e.targetView.model.angle(),r.rotate&&o){const s=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let a;switch(i){case"top":a=new ze(0,-1);break;case"bottom":default:a=new ze(0,1);break}return r.rotate&&o&&a.rotate(null,-o),a}function IM(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)i=n.sideNearestToPoint(t[1]);else if(o=e.sourceView.model.angle(),r.rotate&&o){const s=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let a;switch(i){case"top":a=new ze(0,-1);break;case"bottom":a=new ze(0,1);break;case"right":a=new ze(1,0);break;case"left":a=new ze(-1,0);break}return r.rotate&&o&&a.rotate(null,-o),a}function NM(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)i=n.sideNearestToPoint(t[t.length-2]);else if(o=e.targetView.model.angle(),r.rotate&&o){const s=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let a;switch(i){case"top":a=new ze(0,-1);break;case"bottom":a=new ze(0,1);break;case"right":a=new ze(1,0);break;case"left":a=new ze(-1,0);break}return r.rotate&&o&&a.rotate(null,-o),a}function kM(e,t,r){return t[1].difference(t[0]).normalize()}function CM(e,t,r){const n=t.length-1;return t[n-1].difference(t[n]).normalize()}function jM(e,t,r){const{sourceBBox:n}=e,i=n.center();return t[0].difference(i).normalize()}function DM(e,t,r){const{targetBBox:n}=e,i=n.center();return t[t.length-1].difference(i).normalize()}function qle(e,t,r,n){if(n.sourceDirection)switch(n.sourceDirection){case Zi.UP:return new ze(0,-1);case Zi.DOWN:return new ze(0,1);case Zi.LEFT:return new ze(-1,0);case Zi.RIGHT:return new ze(1,0);case Zi.AUTO:return IM(e,t,n);case Zi.CLOSEST_POINT:return kM(e,t);case Zi.OUTWARDS:return jM(e,t);default:return n.sourceDirection}switch(r){case Ta.HORIZONTAL:return Fle(e,t,n);case Ta.VERTICAL:return Ule(e,t,n);case Ta.CLOSEST_POINT:return kM(e,t);case Ta.OUTWARDS:return jM(e,t);case Ta.AUTO:default:return IM(e,t,n)}}function Vle(e,t,r,n){if(n.targetDirection)switch(n.targetDirection){case Zi.UP:return new ze(0,-1);case Zi.DOWN:return new ze(0,1);case Zi.LEFT:return new ze(-1,0);case Zi.RIGHT:return new ze(1,0);case Zi.AUTO:return NM(e,t,n);case Zi.CLOSEST_POINT:return CM(e,t);case Zi.OUTWARDS:return DM(e,t);default:return n.targetDirection}switch(r){case Ta.HORIZONTAL:return Ble(e,t,n);case Ta.VERTICAL:return zle(e,t,n);case Ta.CLOSEST_POINT:return CM(e,t);case Ta.OUTWARDS:return DM(e,t);case Ta.AUTO:default:return NM(e,t,n)}}function Hle(e,t){const r=Math.cos(t),n=Math.sin(t),i=r*e.x-n*e.y,o=n*e.x+r*e.y;e.x=i,e.y=o}function xP(e,t){let r=e.dot(t)/(e.magnitude()*t.magnitude());return r<-1&&(r=-1),r>1&&(r=1),Math.acos(r)}function MM(e,t){return e.x*t.y-e.y*t.x}function Wle(e,t,r,n){const{tau:i,coeff:o}=n,a=[],s=[],l=[],u=e.length-1;for(let f=0;f<u;f++)a[f]=e[f].distance(e[f+1]);s[0]=t,s[u]=r;for(let f=1;f<u;f++){let c,p;f===1?c=e[f-1].clone().offset(s[f-1].x,s[f-1].y):c=e[f-1].clone(),f===u-1?p=e[f+1].clone().offset(s[f+1].x,s[f+1].y):p=e[f+1].clone();const m=c.difference(e[f]).normalize(),g=p.difference(e[f]).normalize(),_=xP(m,g);let v=(Math.PI-_)/2,h;const E=MM(m,g);let y;y=MM(e[f].difference(e[f+1]),e[f].difference(e[f-1])),E<0&&(v=-v),_<Math.PI/2&&(v<0&&y<0||v>0&&y>0)&&(v=v-Math.PI),h=g.clone(),Hle(h,v);const S=h.clone(),$=h.clone(),T=a[f-1]*o,d=a[f]*o;S.scale(T,T),$.scale(d,d),s[f]=[S,$]}for(let f=0;f<u;f++){let c,p;f===0?c=e[f+1].difference(s[f].x/i,s[f].y/i):c=e[f+1].difference(s[f][1].x/i,s[f][1].y/i),f===u-1?p=e[f].clone().offset(s[f+1].x/i,s[f+1].y/i):p=e[f].difference(s[f+1][0].x/i,s[f+1][0].y/i),l[f]=[c,e[f],e[f+1],p]}return l}function Gle(e,t){const{tau:r}=t,n=new ze;n.x=e[1].x+(e[2].x-e[0].x)/(6*r),n.y=e[1].y+(e[2].y-e[0].y)/(6*r);const i=new ze;return i.x=e[2].x+(e[3].x-e[1].x)/(6*r),i.y=e[2].y+(e[3].y-e[1].y)/(6*r),new Fr(e[1],n,i,e[2])}const Kle=Object.freeze(Object.defineProperty({__proto__:null,curve:SN,jumpover:kle,normal:Cle,rounded:Mle,smooth:Lle,straight:EN},Symbol.toStringTag,{value:"Module"})),Qt={TOOLS:dr.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},dm=dr.extend({className:function(){var e=dr.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){dr.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[Qt.RENDER],attrs:[Qt.UPDATE],router:[Qt.UPDATE],connector:[Qt.CONNECTOR],smooth:[Qt.UPDATE],manhattan:[Qt.UPDATE],toolMarkup:[Qt.LEGACY_TOOLS],labels:[Qt.LABELS],labelMarkup:[Qt.LABELS],vertices:[Qt.VERTICES,Qt.UPDATE],vertexMarkup:[Qt.VERTICES],source:[Qt.SOURCE,Qt.UPDATE],target:[Qt.TARGET,Qt.UPDATE]},initFlag:[Qt.RENDER,Qt.SOURCE,Qt.TARGET,Qt.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,Qt.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,Qt.SOURCE)}if(this.hasFlag(e,Qt.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,Qt.TARGET)}const{paper:r,sourceView:n,targetView:i}=this;if(r&&(n&&!r.isViewMounted(n)||i&&!r.isViewMounted(i)))return e;if(this.hasFlag(e,Qt.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),e=this.removeFlag(e,[Qt.RENDER,Qt.UPDATE,Qt.VERTICES,Qt.LABELS,Qt.TOOLS,Qt.LEGACY_TOOLS,Qt.CONNECTOR]),e;let o=!1;this.hasFlag(e,Qt.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,Qt.VERTICES));const{model:a}=this,{attributes:s}=a;let l=this.hasFlag(e,Qt.LABELS),u=this.hasFlag(e,Qt.LEGACY_TOOLS);l&&(this.onLabelsChange(a,s.labels,t),e=this.removeFlag(e,Qt.LABELS),o=!0),u&&(this.renderTools(),e=this.removeFlag(e,Qt.LEGACY_TOOLS));const f=this.hasFlag(e,Qt.UPDATE),c=this.hasFlag(e,Qt.CONNECTOR);return(f||c)&&(f?t.translateBy&&a.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[Qt.UPDATE,Qt.TOOLS,Qt.CONNECTOR]),l=!1,u=!1,o=!0),l&&this.updateLabelPositions(),u&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(e,Qt.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Qt.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(Qt.UPDATE),e)},isLabelsRenderRequired:function(e={}){const t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var r=e.propertyPathArray||[],n=r.length;if(n>1){var i=!!t[r[1]];if(i){if(n===2)return"markup"in Object(e.propertyValue);if(r[2]!=="markup")return!1}}}return!0},onLabelsChange:function(e,t,r){this.isLabelsRenderRequired(r)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=at(e);Array.isArray(t)||(t=[t]);for(var r=this._V,n=0,i=t.length;n<i;n++){var o=t[n],a=o.attr("class");a&&(a=ose(a),r[Lr.camelCase(a)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if(typeof e=="string")return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=at(e),r=document.createDocumentFragment();if(!Array.isArray(t))r.appendChild(t.node);else for(var n=0,i=t.length;n<i;n++){var o=t[n].node;r.appendChild(o)}return{fragment:r,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment)||!e.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var r,n=t.childNodes;return n.length>1||n[0].nodeName.toUpperCase()!=="G"?r=at("g").append(t):r=at(n[0]),r.addClass("label"),{node:r.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,r=this._labelCache={},n=this._labelSelectors={},i=this.model,o=i.attributes.labels||[],a=o.length;if(a===0)return t&&t.remove(),this;t?t.empty():(t=e.labels=at("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(rs(qn(this,"className"))),t.attr("model-id",i.id)));for(var s=0;s<a;s++){var l=o[s],u=this._normalizeLabelMarkup(this._getLabelMarkup(l.markup)),f,c;if(u)f=u.node,c=u.selectors;else{var p=i._builtins.defaultLabel,m=this._normalizeLabelMarkup(this._getLabelMarkup(p.markup)),g=i._getDefaultLabel(),_=this._normalizeLabelMarkup(this._getLabelMarkup(g.markup)),v=_||m;f=v.node,c=v.selectors}f.setAttribute("label-idx",s),t.append(f),r[s]=f;var h=this.selector;if(c[h])throw new Error("dia.LinkView: ambiguous label root selector.");c[h]=f,n[s]=c}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:e,paper:t,model:r,_V:n,options:i}=this,{labels:o}=n;if(!o||!r.hasLabels())return;const{node:a}=o;i.labelsLayer?t.getLayerView(i.labelsLayer).insertSortedNode(a,r.get("z")):a.parentNode!==e&&e.appendChild(a)},unmountLabels:function(){const{options:e,_V:t}=this;if(!t)return;const{labels:r}=t;r&&e.labelsLayer&&r.remove()},findLabelNode:function(e,t){const r=this._labelCache[e];if(!r)return null;const n=this._labelSelectors[e],[i=null]=this.findBySelector(t,r,n);return i},_mergeLabelAttrs:function(e,t,r,n){return t===null?null:t===void 0?r===null?null:r===void 0?e?void 0:n:e?r:ri({},n,r):e?ri({},r,t):ri({},n,r,t)},_mergeLabelSize:function(e,t){return e===null?null:e===void 0?t===null?null:t===void 0?void 0:t:ri({},t,e)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],r=this.can("labelMove"),n=e._builtins.defaultLabel,i=n.attrs,o=e._getDefaultLabel(),a=o.markup,s=o.attrs,l=o.size,u=0,f=t.length;u<f;u++){var c=this._labelCache[u];c.setAttribute("cursor",r?"move":"default");var p=this._labelSelectors[u],m=t[u],g=m.markup,_=m.attrs,v=m.size,h=this._mergeLabelAttrs(g||a,_,s,i),E=this._mergeLabelSize(v,l);this.updateDOMSubtreeAttributes(c,h,{rootBBox:new Pt(E),selectors:p})}return this},renderTools:function(){if(!this._V.linkTools)return this;var e=Lr(this._V.linkTools.node).empty(),t=Gi(this.model.get("toolMarkup")||this.model.toolMarkup),r=at(t());if(e.append(r.node),this._toolCache=r,this.options.doubleLinkTools){var n;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=Gi(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),n=at(t())):n=r.clone(),e.append(n.node),this._tool2Cache=n}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=Lr(this._V.markerVertices.node).empty(),t=Gi(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(r,n){e.append(at(t(Jt({idx:n},r))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=Lr(this._V.markerArrowheads.node);e.empty();var t=Gi(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=at(t({end:"source"})),this._V.targetArrowhead=at(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){const r=this.model,n=r.vertices(),i=[this.sourceAnchor,...n,this.targetAnchor],o=i.length,a=new un(i);a.simplify({threshold:.001});const s=a.points.map(u=>u.toJSON()),l=s.length;return o===l?0:(r.vertices(s.slice(1,l-1),e),o-l)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new ze(this.sourceAnchor);case"target":return new ze(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new ze(this.sourcePoint);case"target":return new ze(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var r=this.targetView;if(!r)break;return this.targetMagnet||r.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){const{route:r,path:n}=this;if(!r||!n)return;const i=new un(r);i.translate(e,t),this.route=i.points,this._translateConnectionPoints(e,t),n.translate(e,t),this.updateDOM()},updateDOM(){const{el:e,model:t,selectors:r}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:r}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:e}=this,t=e.vertices(),r=this.findAnchors(t),n=this.sourceAnchor=r.source,i=this.targetAnchor=r.target,o=this.findRoute(t);this.route=o;var a=this.findConnectionPoints(o,n,i);this.sourcePoint=a.source,this.targetPoint=a.target},updatePath:function(){const{route:e,sourcePoint:t,targetPoint:r}=this,n=this.findMarkerPoints(e,t,r),i=this.findPath(e,n.source||t,n.target||r);this.path=i},findMarkerPoints:function(e,t,r){var n=e[0],i=e[e.length-1],o=this._markerCache,a,s;return this._V.markerSource&&(o.sourceBBox=o.sourceBBox||this._V.markerSource.getBBox(),a=ze(t).move(n||r,o.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(o.targetBBox=o.targetBBox||this._V.markerTarget.getBBox(),s=ze(r).move(i||t,o.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),o.sourcePoint=a||t.clone(),o.targetPoint=s||r.clone(),{source:a,target:s}},findAnchorsOrdered:function(e,t,r,n){var i,o,a,s,l=this.model,u=l.get(e),f=l.get(r),c=this.getEndView(e),p=this.getEndView(r),m=this.getEndMagnet(e),g=this.getEndMagnet(r);c?(t?a=new ze(t):p?a=g:a=new ze(f),i=this.getAnchor(u.anchor,c,m,a,e)):i=new ze(u),p?(s=new ze(n||i),o=this.getAnchor(f.anchor,p,g,s,r)):o=new ze(f);var _={};return _[e]=i,_[r]=o,_},findAnchors:function(e){var t=this.model,r=e[0],n=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",n,"source",r):this.findAnchorsOrdered("source",r,"target",n)},findConnectionPoints:function(e,t,r){var n=e[0],i=e[e.length-1],o=this.model,a=o.get("source"),s=o.get("target"),l=this.sourceView,u=this.targetView,f=this.paper.options,c,p,m;if(l&&!l.isNodeConnection(this.sourceMagnet)){c=this.sourceMagnet||l.el;var g=a.connectionPoint||f.defaultConnectionPoint,_=n||r,v=new It(_,t);m=this.getConnectionPoint(g,l,c,v,"source")}else m=t;var h;if(u&&!u.isNodeConnection(this.targetMagnet)){p=this.targetMagnet||u.el;var E=s.connectionPoint||f.defaultConnectionPoint,y=i||t,S=new It(y,r);h=this.getConnectionPoint(E,u,p,S,"target")}else h=r;return{source:m,target:h}},getAnchor:function(e,t,r,n,i){var o=t.isNodeConnection(r),a=this.paper.options;if(e||(o?e=a.defaultLinkAnchor:a.perpendicularLinks||this.options.perpendicular?e={name:"perpendicular"}:e=a.defaultAnchor),!e)throw new Error("Anchor required.");var s;if(typeof e=="function")s=e;else{var l=e.name,u=o?"linkAnchorNamespace":"anchorNamespace";if(s=a[u][l],typeof s!="function")throw new Error("Unknown anchor: "+l)}var f=s.call(this,t,r,n,e.args||{},i,this);return f?f.round(this.decimalsRounding):new ze},getConnectionPoint:function(e,t,r,n,i){var o,a=n.end,s=this.paper.options;if(typeof s.linkConnectionPoint=="function"){var l=r===t.el?void 0:r;if(o=s.linkConnectionPoint(this,t,l,n.start,i),o)return o}if(!e)return a;var u;if(typeof e=="function")u=e;else{var f=e.name;if(u=s.connectionPointNamespace[f],typeof u!="function")throw new Error("Unknown connection point: "+f)}return o=u.call(this,n,t,r,e.args||{},i,this),o?o.round(this.decimalsRounding):a},_translateConnectionPoints:function(e,t){var r=this._markerCache;r.sourcePoint.offset(e,t),r.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_getDefaultLabelPositionProperty:function(){var e=this.model,t=e._builtins.defaultLabel,r=t.position,n=e._getDefaultLabel(),i=this._normalizeLabelPosition(n.position);return ri({},r,i)},_normalizeLabelPosition:function(e){return typeof e=="number"?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return e===null?null:e===void 0?t===null?null:t:ri({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var e=this.path;if(!e)return this;var t=this.model,r=t.get("labels")||[];if(!r.length)return this;for(var n=this._getDefaultLabelPositionProperty(),i=0,o=r.length;i<o;i++){var a=this._labelCache[i];if(a){var s=r[i],l=this._normalizeLabelPosition(s.position),u=this._mergeLabelPositionProperty(l,n),f=this._getLabelTransformationMatrix(u);a.setAttribute("transform",at.matrixToTransformString(f)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(e){const{metrics:t,_labelSelectors:r}=this,n=r[e];if(n)for(let i in n){const{id:o}=n[i];o&&o in t&&delete t[o].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,r=this.getConnectionLength();if(!Number.isNaN(r)){r<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var n=this.getPointAtLength(t);if(this._toolCache.attr("transform","translate("+n.x+", "+n.y+") "+e),this.options.doubleLinkTools&&r>=this.options.longLinkLength){var i=this.options.doubleLinkToolsOffset||t;n=this.getPointAtLength(r-i),this._tool2Cache.attr("transform","translate("+n.x+", "+n.y+") "+e),this._tool2Cache.attr("display","inline")}else this.options.doubleLinkTools&&this._tool2Cache.attr("display","none")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(Lr.css(this._V.markerArrowheads.node,"display")==="none")return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){const{model:t,paper:r}=this,n=`${e}View`,i=t.get(e),o=i&&i.id;if(!o)return this[n]=null,this.updateEndMagnet(e),!0;const a=r.getModelById(o);if(!a)throw new Error("LinkView: invalid "+e+" cell.");const s=a.findView(r);return s?(this[n]=s,this.updateEndMagnet(e),!0):!1},updateEndMagnet:function(e){const t=`${e}Magnet`,r=this.getEndView(e);if(r){let n=r.getMagnetFromLinkEnd(this.model.get(e));n===r.el&&(n=null),this[t]=n}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var r=Tr(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,r[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,r[r.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){var t=this._getLabelPositionProperty(e);return t.angle||0},_getLabelPositionArgs:function(e){var t=this._getLabelPositionProperty(e);return t.args},_getDefaultLabelPositionArgs:function(){var e=this.model._getDefaultLabel(),t=e.position||{};return t.args},_mergeLabelPositionArgs:function(e,t){return e===null?null:e===void 0?t===null?null:t:ri({},t,e)},addLabel:function(e,t,r,n){var i,o,a=0,s;typeof e!="number"?(i=e.x,o=e.y,typeof t=="number"?(a=t,s=r):s=t):(i=e,o=t,typeof r=="number"?(a=r,s=n):s=r);var l=this._getDefaultLabelPositionArgs(),u=s,f=this._mergeLabelPositionArgs(u,l),c={position:this.getLabelPosition(i,o,a,f)},p=-1;return this.model.insertLabel(p,c,s),p},addVertex:function(e,t,r){var n=typeof e!="number",i=n?e.x:e,o=n?e.y:t,a=n?t:r,s={x:i,y:o},l=this.getVertexIndex(i,o);return this.model.insertVertex(l,s,a),l},sendToken:function(e,t,r){function n(c,p){return function(){c.remove(),typeof p=="function"&&p()}}var i,o,a;Wr(t)?(i=t.duration,o=t.direction==="reverse",a=t.connection):(i=t,o=!1,a=null),i=i||1e3;var s={dur:i+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};o&&(s.keyPoints="1;0",s.keyTimes="0;1");var l=at(e),u;if(typeof a=="string")u=this.findBySelector(a,this.el,this.selectors)[0];else{var f=this._V;u=f.connection?f.connection.node:this.el.querySelector("path")}if(!(u instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(s,u),setTimeout(n(l,r),i)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||ble,r=this.model.router(),n=this.paper.options.defaultRouter;if(!r)if(n)r=n;else return e.map(ze);var i=dn(r)?r:t[r.name];if(!dn(i))throw new Error('dia.LinkView: unknown router: "'+r.name+'".');var o=r.args||{},a=i.call(this,e,o,this);return a||e.map(ze)},findPath:function(e,t,r){var n=this.paper.options.connectorNamespace||Kle,i=this.model.connector(),o=this.paper.options.defaultConnector;i||(i=o||{});var a=dn(i)?i:n[i.name];if(!dn(a))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var s=js(i.args||{});s.raw=!0;var l=a.call(this,t,r,e,s,this);return typeof l=="string"&&(l=new Bt(at.normalizePathData(l))),l},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var r=e.serialize();return t.data=r,r},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var r=e.getSegmentSubdivisions();return t.segmentSubdivisions=r,r},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var r=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=r,r},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(xi(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,r,n){var i={},o=0,a;typeof r=="number"?(o=r,a=n):a=r,a&&(i.args=a);var s=!(a&&a.absoluteDistance),l=a&&a.absoluteDistance&&a.reverseDistance,u=a&&a.absoluteOffset,f=this.path,c={segmentSubdivisions:this.getConnectionSubdivisions()},p=new ze(e,t),m=f.closestPointT(p,c),g=f.lengthAtT(m,c);s&&(g=g/this.getConnectionLength()||0),l&&(g=-1*(this.getConnectionLength()-g)||1),i.distance=g;var _;u||(_=f.tangentAtT(m));var v;if(_)v=_.pointOffset(p);else{var h=f.pointAtT(m),E=p.difference(h);v={x:E.x,y:E.y}}return i.offset=v,i.angle=o,i},_getLabelTransformationMatrix:function(e){var t,r=0,n={};if(typeof e=="number")t=e;else if(typeof e.distance=="number")n=e.args||{},t=e.distance,r=e.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var i=t>0&&t<=1,o=0,a={x:0,y:0};if(e.offset){var s=e.offset;typeof s=="number"&&(o=s),s.x&&(a.x=s.x),s.y&&(a.y=s.y)}var l=a.x!==0||a.y!==0||o===0,u=n.keepGradient,f=n.ensureLegibility,c=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},m=i?t*this.getConnectionLength():t,g=c.tangentAtLength(m,p),_,v=r;if(g){if(l)_=g.start.clone(),_.offset(a);else{var h=g.clone();h.rotate(g.start,-90),h.setLength(o),_=h.end}u&&(v=g.angle()+r,f&&(v=fs((v+90)%180-90)))}else _=c.start.clone(),l&&_.offset(a);return at.createSVGMatrix().translate(_.x,_.y).rotate(v)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new ze(t.e,t.f)},getVertexIndex:function(e,t){for(var r=this.model,n=r.vertices(),i=this.getClosestPointLength(new ze(e,t)),o=0,a=n.length;o<a;o++){var s=n[o],l=this.getClosestPointLength(s);if(i<l)break}return o},notifyPointerdown(e,t,r){dr.prototype.pointerdown.call(this,e,t,r),this.notify("link:pointerdown",e,t,r)},notifyPointermove(e,t,r){dr.prototype.pointermove.call(this,e,t,r),this.notify("link:pointermove",e,t,r)},notifyPointerup(e,t,r){this.notify("link:pointerup",e,t,r),dr.prototype.pointerup.call(this,e,t,r)},pointerdblclick:function(e,t,r){dr.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){dr.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,r)},contextmenu:function(e,t,r){dr.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.notifyPointerdown(e,t,r);var n=e.target.getAttribute("class");switch(n){case"marker-vertex":this.dragVertexStart(e,t,r);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(e,t,r);return;case"marker-arrowhead":this.dragArrowheadStart(e,t,r);return;case"connection":case"connection-wrap":this.dragConnectionStart(e,t,r);return;case"marker-source":case"marker-target":return}this.dragStart(e,t,r)},pointermove:function(e,t,r){var n=this._dragData;n&&this.eventData(e,n);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertex(e,t,r);break;case"label-move":this.dragLabel(e,t,r);break;case"arrowhead-move":this.dragArrowhead(e,t,r);break;case"move":this.drag(e,t,r);break}n&&Jt(n,this.eventData(e)),this.notifyPointermove(e,t,r)},pointerup:function(e,t,r){var n=this._dragData;n&&(this.eventData(e,n),this._dragData=null);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertexEnd(e,t,r);break;case"label-move":this.dragLabelEnd(e,t,r);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,r);break;case"move":this.dragEnd(e,t,r)}this.notifyPointerup(e,t,r),this.checkMouseleave(e)},mouseover:function(e){dr.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){dr.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){dr.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){dr.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,r,n){dr.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,r,n)},onevent:function(e,t,r,n){var i=at(e.target).findParentByClass("link-tool",this.el);if(i){if(e.stopPropagation(),this.can("useLinkTools"))if(t==="remove"){this.model.remove({ui:!0});return}else this.notify(t,e,r,n);this.notifyPointerdown(e,r,n),this.paper.delegateDragEvents(this,e.data)}else dr.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragLabelStart(e,t,r);var n=this.eventData(e).stopPropagation;n&&e.stopPropagation()},dragConnectionStart:function(e,t,r){if(this.can("vertexAdd")){var n=this.addVertex({x:t,y:r},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:n})}},dragLabelStart:function(e,t,r){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var n=e.currentTarget,i=parseInt(n.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),a=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),s=this._mergeLabelPositionProperty(a,o),l=this.getLabelCoordinates(s),u=l.x-t,f=l.y-r,c=this._getLabelPositionAngle(i),p=this._getLabelPositionArgs(i),m=this._getDefaultLabelPositionArgs(),g=this._mergeLabelPositionArgs(p,m);this.eventData(e,{action:"label-move",labelIdx:i,dx:u,dy:f,positionAngle:c,positionArgs:g,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,r){if(this.can("vertexMove")){var n=e.target,i=parseInt(n.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(e,t,r){if(this.can("vertexRemove")){var n=e.target,i=parseInt(n.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(e,t,r){if(this.can("arrowheadMove")){var n=e.target,i=n.getAttribute("end"),o=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(e,o)}},dragStart:function(e,t,r){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:r})},dragLabel:function(e,t,r){var n=this.eventData(e),i={position:this.getLabelPosition(t+n.dx,r+n.dy,n.positionAngle,n.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;const o={ui:!0};this.paper.isAsync()&&e.type==="touchmove"&&(o.async=!1),this.model.label(n.labelIdx,i,o)},dragVertex:function(e,t,r){var n=this.eventData(e);this.model.vertex(n.vertexIdx,{x:t,y:r},{ui:!0})},dragArrowhead:function(e,t,r){this.paper.options.snapLinks?!this._snapArrowhead(e,t,r)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,r):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,r):this._connectArrowhead(this.getEventTarget(e),t,r,this.eventData(e))},drag:function(e,t,r){var n=this.eventData(e);this.model.translate(t-n.dx,r-n.dy,{ui:!0}),this.eventData(e,{dx:t,dy:r})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,r){var n=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(n):this._connectArrowheadEnd(n,t,r),i.linkAllowed(this)?(this._finishEmbedding(n),this._notifyConnectEvent(n,e)):this._disallow(n),this._afterArrowheadMove(n)},dragEnd:function(){},_disallow:function(e){switch(e.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(e.arrowhead,e.initialEnd,{ui:!0});break}},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var r=e.arrowhead,n=e.initialEnd,i=this.model.prop(r),o=i&&!Wh.endsEqual(n,i);if(o){var a=this.paper;n.id&&this.notify("link:disconnect",t,a.findViewByModel(n.id),e.initialMagnet,r),i.id&&this.notify("link:connect",t,a.findViewByModel(i.id),e.magnetUnderPointer,r)}},_snapToPoints:function(e,t,r){let n=null,i=1/0,o=null,a=1/0,s=e.x,l=e.y;for(let u=0;u<t.length;u++){const f=Math.abs(t[u].x-e.x);f<i&&(i=f,n=t[u]);const c=Math.abs(t[u].y-e.y);c<a&&(a=c,o=t[u])}return i<r&&(s=n.x),a<r&&(l=o.y),{x:s,y:l}},_snapArrowheadSelf:function(e,t,r){const{paper:n,model:i}=this,{snapLinksSelf:o}=n.options,a=this.eventData(e),s=o.radius||20,l=this.getEndAnchor(a.arrowhead==="source"?"target":"source"),u=i.vertices(),f=[l,...u],c=this._snapToPoints({x:t,y:r},f,s),p=n.localToClientPoint(c);this._connectArrowhead(document.elementFromPoint(p.x,p.y),c.x,c.y,this.eventData(e))},_snapArrowhead:function(e,t,r){const{paper:n}=this,{snapLinks:i,connectionStrategy:o}=n.options,a=this.eventData(e);let s=!1;var l=i.radius||50,u=n.findViewsInArea({x:t-l,y:r-l,width:2*l,height:2*l}),f=a.closestView||null,c=a.closestMagnet||null,p=a.magnetProxy||null;a.closestView=a.closestMagnet=a.magnetProxy=null;var m=Number.MAX_VALUE,g=new ze(t,r);u.forEach(function($){const T=[];$.el.getAttribute("magnet")!=="false"&&T.push({bbox:$.model.getBBox(),magnet:$.el}),$.$("[magnet]").toArray().forEach(d=>{T.push({bbox:$.getNodeBBox(d),magnet:d})}),T.forEach(d=>{const{magnet:A,bbox:x}=d,P=x.center().squaredDistance(g);P<m&&(c===A||n.options.validateConnection.apply(n,a.validateConnectionArgs($,$.el===A?null:A)))&&(m=P,a.closestView=$,a.closestMagnet=A)})},this);var _,v=null,h=a.closestView,E=a.closestMagnet;E&&(v=a.magnetProxy=h.findProxyNode(E,"highlighter"));var y=a.arrowhead,S=c!==E;if(f&&S&&f.unhighlight(p,{connecting:!0,snapping:!0}),h){const{prevEnd:$,prevX:T,prevY:d}=a;if(a.prevX=t,a.prevY=r,s=!0,!S&&(typeof o!="function"||T===t&&d===r)||(_=h.getLinkEnd(E,t,r,this.model,y),!S&&Wd($,_)))return s;a.prevEnd=_,S&&h.highlight(v,{connecting:!0,snapping:!0})}else _={x:t,y:r};return this.model.set(y,_||{x:t,y:r},{ui:!0}),f&&this.notify("link:snap:disconnect",e,f,c,y),h&&this.notify("link:snap:connect",e,h,E,y),s},_snapArrowheadEnd:function(e){var t=e.closestView,r=e.closestMagnet;t&&r&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(r)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,r,n){const{paper:i,model:o}=this;if(n.eventTarget!==e){n.magnetProxy&&n.viewUnderPointer.unhighlight(n.magnetProxy,{connecting:!0});const a=n.viewUnderPointer=i.findView(e);if(a){const s=n.magnetUnderPointer=a.findMagnet(e),l=n.magnetProxy=a.findProxyNode(s,"highlighter");s&&this.paper.options.validateConnection.apply(i,n.validateConnectionArgs(a,s))?l&&a.highlight(l,{connecting:!0}):(n.magnetUnderPointer=null,n.magnetProxy=null)}else n.magnetUnderPointer=null,n.magnetProxy=null}n.eventTarget=e,o.set(n.arrowhead,{x:t,y:r},{ui:!0})},_connectArrowheadEnd:function(e={},t,r){const{model:n}=this,{viewUnderPointer:i,magnetUnderPointer:o,magnetProxy:a,arrowhead:s}=e;if(!o||!a||!i)return;i.unhighlight(a,{connecting:!0});const l=i.getLinkEnd(o,t,r,n,s);n.set(s,l,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){e.z!==null&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var r,n=0,i=0;e==="source"?(n=2,r="target"):(i=2,r="source");var o=this.model.get(r);if(o.id){var a=t[n]=this.paper.findViewByModel(o.id),s=a.getMagnetFromLinkEnd(o);s===a.el&&(s=void 0),t[n+1]=s}function l(u,f){return t[i]=u,t[i+1]=u.el===f?void 0:f,t}return l},_markAvailableMagnets:function(e){function t(c,p){var m=c.paper,g=m.options.validateConnection;return g.apply(m,this.validateConnectionArgs(c,p))}var r=this.paper,n=r.model.getCells();e.marked={};for(var i=0,o=n.length;i<o;i++){var a=n[i].findView(r);if(a){var s=Array.prototype.slice.call(a.el.querySelectorAll("[magnet]"));a.el.getAttribute("magnet")!=="false"&&s.push(a.el);var l=s.filter(t.bind(e,a));if(l.length>0){for(var u=0,f=l.length;u<f;u++)a.highlight(l[u],{magnetAvailability:!0});a.highlight(null,{elementAvailability:!0}),e.marked[a.model.id]=l}}}},_unmarkAvailableMagnets:function(e){for(var t=Object.keys(e.marked),r,n,i=0,o=t.length;i<o;i++){r=t[i],n=e.marked[r];var a=this.paper.findViewByModel(r);if(a){for(var s=0,l=n.length;s<l;s++)a.unhighlight(n[s],{magnetAvailability:!0});a.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var r={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:js(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(r),t.ignoreBackwardsCompatibility!==!0&&(this._dragData=r),r},onMount:function(){dr.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){dr.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){dr.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:Qt});Object.defineProperty(dm.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new Pt(t.x,t.y)}var r=this.sourceMagnet;return e.isNodeConnection(r)?new Pt(this.sourceAnchor):e.getNodeBBox(r||e.el)}});Object.defineProperty(dm.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new Pt(t.x,t.y)}var r=this.targetMagnet;return e.isNodeConnection(r)?new Pt(this.targetAnchor):e.getNodeBBox(r||e.el)}});const Jle=ns.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){const{options:r}=this,{useFirstSubpath:n}=r;let i;try{const o=at(t);if(i=o.convertToPathData().trim(),o.tagName()==="PATH"&&n){const a=i.search(/.M/i)+1;a>0&&(i=i.substr(0,a))}}catch{const a=e.getNodeBoundingRect(t);i=at.rectToPath(Jt({},r,a.toJSON()))}return i},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){const{vel:r,options:n}=this,{padding:i,layer:o}=n;let a=this.getNodeMatrix(e,t);if(i){!o&&t===e.el&&r.remove();let s=e.getNodeBoundingRect(t);const l=s.x+s.width/2,u=s.y+s.height/2;s=at.transformRect(s,a);const f=Math.max(s.width,1),c=Math.max(s.height,1),p=(f+i)/f,m=(c+i)/c,g=at.createSVGMatrix({a:p,b:0,c:0,d:m,e:l-p*l,f:u-m*u});a=a.multiply(g)}r.attr({d:this.getPathData(e,t),transform:at.matrixToTransformString(a)})},highlight(e,t){const{vel:r,options:n}=this;r.attr(n.attrs),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}}),LM=20;function Yle(e,t){const r=e.children();for(;r.length>0;){const n=r.shift();t(n)&&r.push(...n.children())}}const Xle=ns.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:LM,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:r,MASK_REPLACE_TAGS:n,MASK_REMOVE_TAGS:i}=this,o=t.tagName();if(!at.isSVGGraphicsElement(t)||i.includes(o))return t.remove(),!1;if(n.includes(o)){const a=e.vel.findOne(`#${t.id}`);if(a){const{node:s}=a;let l=e.getNodeBoundingRect(s);e.model.isElement()&&(l=at.transformRect(l,e.getNodeMatrix(s)));const u=at("rect",l.toJSON()),{x:f,y:c}=l.center(),{angle:p,cx:m=f,cy:g=c}=a.rotate();p&&u.rotate(p,m,g),t.parent().append(u)}return t.remove(),!1}return r.forEach(a=>{a==="fill"&&t.attr("fill")==="none"||t.removeAttr(a)}),!0},transformMaskRoot(e,t){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:r}=this;r.forEach(n=>{t.removeAttr(n)})},getMaskShape(e,t){const{options:r,MASK_REPLACE_TAGS:n}=this,{deep:i}=r,o=t.tagName();let a;if(o==="G"){if(!i)return null;a=t.clone(),Yle(a,s=>this.transformMaskChild(e,s))}else{if(n.includes(o))return null;a=t.clone()}return this.transformMaskRoot(e,a),a},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){const{VISIBLE:r,INVISIBLE:n,options:i}=this,{padding:o,attrs:a}=i,s="stroke-width"in a?a["stroke-width"]:1,l=t.attr("fill")!=="none";let u=parseFloat(t.attr("stroke-width"));isNaN(u)&&(u=1);const f=u+o*2,c=f+s*2;let p=this.getMaskShape(e,t);if(!p){const m=e.getNodeBoundingRect(t.node);m.inflate(m.width?0:.5,m.height?0:.5),p=at("rect",m.toJSON())}return p.attr(a),at("mask",{id:this.getMaskId()}).append([p.clone().attr({fill:l?r:"none",stroke:r,"stroke-width":c}),p.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":f})])},removeMask(e){const t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){const{options:r,vel:n}=this,{padding:i,attrs:o,maskClip:a=LM,layer:s}=r,l="stroke"in o?o.stroke:"#000000";!s&&t===e.el&&n.remove();const u=e.getNodeBoundingRect(t).inflate(i+a),f=this.getNodeMatrix(e,t),c=this.getMask(e,at(t));this.addMask(e.paper,c),n.attr(u.toJSON()),n.attr({transform:at.matrixToTransformString(f),mask:`url(#${c.id})`,fill:l})},unhighlight(e){this.removeMask(e.paper)}}),Qle=ns.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:rs("highlight-opacity"),highlight:function(e,t){at(t).addClass(this.opacityClassName)},unhighlight:function(e,t){at(t).removeClass(this.opacityClassName)}}),FM=rs("highlighted"),Zle=ns.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:FM},highlight:function(e,t){at(t).addClass(this.options.className)},unhighlight:function(e,t){at(t).removeClass(this.options.className)}},{className:FM}),g1={ROW:"row",COLUMN:"column"},eue=ns.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){const r=e.model,{attribute:n,size:i=20,gap:o=5,direction:a=g1.ROW}=this.options;if(!n)throw new Error("List: attribute is required");const s=typeof i=="number"?{width:i,height:i}:i,l=a===g1.ROW,u=l?s.width:s.height;let f=r.get(n);Array.isArray(f)||(f=[]);const c=this._prevItems||[],p=f.map((v,h)=>Wd(c[h],f[h]));if(c.length!==f.length||p.some(v=>!v)){const v=this.vel.children(),h=f.map((E,y)=>{const S=y in v?v[y].node:null;if(p[y])return S;const $=this.createListItem(E,s,S);if(!$)return null;if(!($ instanceof SVGElement))throw new Error("List: item must be an SVGElement");$.dataset.index=y,$.dataset.attribute=n;const T=y*(u+o);return $.setAttribute("transform",l?`translate(${T}, 0)`:`translate(0, ${T})`),$});this.vel.empty().append(h),this._prevItems=f}const m=f.length,g=m===0?0:m*u+(m-1)*o,_=l?{width:g,height:s.height}:{width:s.width,height:g};this.position(r,_)},position(e,t){const{vel:r,options:n}=this,{margin:i=5,position:o="top-left"}=n,{width:a,height:s}=e.size(),{left:l,right:u,top:f,bottom:c}=Rf(i),p=new Pt(l,f,a-(l+u),s-(f+c));let{x:m,y:g}=rH(p,o);switch(o){case Dn.CENTER:case Dn.TOP:case Dn.BOTTOM:{m-=t.width/2;break}case Dn.RIGHT:case Dn.BOTTOM_RIGHT:case Dn.TOP_RIGHT:{m-=t.width;break}}switch(o){case Dn.CENTER:case Dn.RIGHT:case Dn.LEFT:{g-=t.height/2;break}case Dn.BOTTOM:case Dn.BOTTOM_RIGHT:case Dn.BOTTOM_LEFT:{g-=t.height;break}}r.attr("transform",`translate(${m}, ${g})`)}},{Directions:g1,Positions:Dn}),tue=Object.freeze(Object.defineProperty({__proto__:null,addClass:Zle,list:eue,mask:Xle,opacity:Qle,stroke:Jle},Symbol.toStringTag,{value:"Module"}));function rue(e,t,r,n){var i="ratio"in n?n.ratio:.5;return e.getPointAtRatio(i)}function nue(e,t,r,n){var i="length"in n?n.length:20;return e.getPointAtLength(i)}function iue(e,t,r,n){var i=1e6,o=e.getConnection(),a=e.getConnectionSubdivisions(),s=new It(r.clone().offset(0,i),r.clone().offset(0,-1e6)),l=new It(r.clone().offset(i,0),r.clone().offset(-1e6,0)),u=s.intersect(o,{segmentSubdivisions:a}),f=l.intersect(o,{segmentSubdivisions:a}),c=[];return u&&Array.prototype.push.apply(c,u),f&&Array.prototype.push.apply(c,f),c.length>0?r.chooseClosest(c):"fallbackAt"in n?yH(e,n.fallbackAt):wH(e,t,r,n)}function oue(e,t,r,n){var i=e.getClosestPoint(r);return i||new ze}function Lg(e){return function(t,r,n,i){if(n instanceof Element){var o=this.paper.findView(n),a;if(o)if(o.isNodeConnection(n)){var s="fixedAt"in i?i.fixedAt:"50%";a=yH(o,s)}else a=o.getNodeBBox(n).center();else a=new ze;return e.call(this,t,r,a,i)}return e.apply(this,arguments)}}function yH(e,t){var r=parseFloat(t);return xi(t)?e.getPointAtRatio(r/100):e.getPointAtLength(r)}const aue=Lg(iue),wH=Lg(oue),sue=Object.freeze(Object.defineProperty({__proto__:null,connectionClosest:wH,connectionLength:nue,connectionPerpendicular:aue,connectionRatio:rue,resolveRef:Lg},Symbol.toStringTag,{value:"Module"}));function jE(e,t,r){if(zn(r)){const{x:i,y:o}=r;if(isFinite(o)){const a=new It(t,e),{start:s,end:l}=a.parallel(o);t=s,e=l}r=i}if(!isFinite(r))return e;var n=e.distance(t);return r===0&&n>0?e:e.move(t,-Math.min(r,n-1))}function $N(e){var t=e.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function lue(e,t,r=0){let n,i,o,a;const{start:s,end:l}=e;switch(t){case"left":n="x",i=l,o=s,a=-1;break;case"right":n="x",i=s,o=l,a=1;break;case"top":n="y",i=l,o=s,a=-1;break;case"bottom":n="y",i=s,o=l,a=1;break;default:return}s[n]<l[n]?i[n]=o[n]:o[n]=i[n],isFinite(r)&&(i[n]+=a*r,o[n]+=a*r)}function uue(e,t,r,n){let{offset:i,alignOffset:o,align:a}=n;return a&&lue(e,a,o),jE(e.end,e.start,i)}function bH(e,t,r,n){var i=t.getNodeBBox(r);n.stroke&&i.inflate($N(r)/2);var o=e.intersect(i),a=o?e.start.chooseClosest(o):e.end;return jE(a,e.start,n.offset)}function cue(e,t,r,n){var i=t.model.angle();if(i===0)return bH(e,t,r,n);var o=t.getNodeUnrotatedBBox(r);n.stroke&&o.inflate($N(r)/2);var a=o.center(),s=e.clone().rotate(a,i),l=s.setLength(1e6).intersect(o),u=l?s.start.chooseClosest(l).rotate(a,-i):e.end;return jE(u,e.start,n.offset)}function fue(e){if(!e)return null;var t=e;do{var r=t.tagName;if(typeof r!="string")return null;if(r=r.toUpperCase(),r==="G")t=t.firstElementChild;else if(r==="TITLE")t=t.nextElementSibling;else break}while(t);return t}var v1="segmentSubdivisons",y1="shapeBBox";function due(e,t,r,n){var i,o,a=n.selector,s=e.end;if(typeof a=="string"?i=t.findBySelector(a)[0]:a===!1?i=r:Array.isArray(a)?i=Zm(r,a):i=fue(r),!at.isSVGGraphicsElement(i)){if(i===r||!at.isSVGGraphicsElement(r))return s;i=r}var l=t.getNodeShape(i),u=t.getNodeMatrix(i),f=t.getRootTranslateMatrix(),c=t.getRootRotateMatrix(),p=f.multiply(c).multiply(u),m=p.inverse(),g=at.transformLine(e,m),_=g.start.clone(),v=t.getNodeData(i);if(n.insideout===!1){v[y1]||(v[y1]=l.bbox());var h=v[y1];if(h.containsPoint(_))return s}var E;if(l instanceof Bt){var y=n.precision||2;v[v1]||(v[v1]=l.getSegmentSubdivisions({precision:y})),E={precision:y,segmentSubdivisions:v[v1]}}n.extrapolate===!0&&g.setLength(1e6),o=g.intersect(l,E),o?at.isArray(o)&&(o=_.chooseClosest(o)):n.sticky===!0&&(l instanceof Pt?o=l.pointNearestToPoint(_):l instanceof eo?o=l.intersectionWithLineFromCenterToPoint(_):o=l.closestPoint(_,E));var S=o?at.transformPoint(o,p):s,$=n.offset||0;return n.stroke&&($+=$N(i)/2),jE(S,e.start,$)}const hue=uue,pue=bH,mue=cue,gue=due,vue=Object.freeze(Object.defineProperty({__proto__:null,anchor:hue,bbox:pue,boundary:gue,rectangle:mue},Symbol.toStringTag,{value:"Module"}));function Hl(e){return function(t,r,n,i){var o=!!i.rotate,a=o?t.getNodeUnrotatedBBox(r):t.getNodeBBox(r),s=a[e](),l=i.dx;if(l){var u=xi(l);l=parseFloat(l),isFinite(l)&&(u&&(l/=100,l*=a.width),s.x+=l)}var f=i.dy;if(f){var c=xi(f);f=parseFloat(f),isFinite(f)&&(c&&(f/=100,f*=a.height),s.y+=f)}return o?s.rotate(t.model.getBBox().center(),-t.model.angle()):s}}function yue(e,t,r,n){var i=e.model.angle(),o=e.getNodeBBox(t),a=o.center(),s=o.origin(),l=o.corner(),u=n.padding;if(isFinite(u)||(u=0),s.y+u<=r.y&&r.y<=l.y-u){var f=r.y-a.y;a.x+=i===0||i===180?0:f*1/Math.tan(xo(i)),a.y+=f}else if(s.x+u<=r.x&&r.x<=l.x-u){var c=r.x-a.x;a.y+=i===90||i===270?0:c*Math.tan(xo(i)),a.x+=c}return a}function wue(e,t,r,n){var i=!!n.rotate,o,a,s;i?(o=e.getNodeUnrotatedBBox(t),s=e.model.getBBox().center(),a=e.model.angle()):o=e.getNodeBBox(t);var l=n.padding;isFinite(l)&&o.inflate(l),i&&r.rotate(s,a);var u=o.sideNearestToPoint(r),f;switch(u){case"left":f=o.leftMiddle();break;case"right":f=o.rightMiddle();break;case"top":f=o.topMiddle();break;case"bottom":f=o.bottomMiddle();break}return i?f.rotate(s,-a):f}function bue(e,t,r,n,i){return e.model.getPointFromConnectedLink(this.model,i).offset(n.dx,n.dy)}const _ue=Hl("center"),Eue=Hl("topMiddle"),Sue=Hl("bottomMiddle"),$ue=Hl("leftMiddle"),Tue=Hl("rightMiddle"),Aue=Hl("origin"),xue=Hl("topRight"),Pue=Hl("bottomLeft"),Oue=Hl("corner"),Rue=Lg(yue),Iue=Lg(wue),Nue=bue,kue=Object.freeze(Object.defineProperty({__proto__:null,bottom:Sue,bottomLeft:Pue,bottomRight:Oue,center:_ue,left:$ue,midSide:Iue,modelCenter:Nue,perpendicular:Rue,right:Tue,top:Eue,topLeft:Aue,topRight:xue},Symbol.toStringTag,{value:"Module"})),gd={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},Cue=50,BM=20,UM=1e3,jue=1/0,Yv=9007199254740991,w1=dr.Highlighting,zM={[w1.DEFAULT]:{name:"stroke",options:{padding:3}},[w1.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[w1.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},Due=[{name:ba.BACK},{name:ba.CELLS},{name:ba.LABELS},{name:ba.FRONT},{name:ba.TOOLS}],Mue=Wu.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:Nw,linkView:dm,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:zM,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new Wh,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,r){return t.getAttribute("magnet")!=="passive"},validateConnection:function(e,t,r,n,i,o){return(i==="target"?r:e)instanceof Nw},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:gd.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,r,n,i){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||n.mounting||n.isolate||i.requestConnectedLinksUpdate(e,r,n)},onViewPostponed:function(e,t,r){return r.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:tue,anchorNamespace:kue,linkAnchorNamespace:sue,connectionPointNamespace:vue,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:e,el:t}=this;e.cellViewNamespace||(e.cellViewNamespace=typeof joint<"u"&&Nu(joint,"shapes")?joint.shapes:null);const r=this.model=e.model||new bN;this._layers={},this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=Lr(t.ownerDocument),this.resetViews(r.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,r){var n=r.position;this.isAsync()||!wo(n)?this.renderView(e,r):(r.maxPosition===n&&this.freeze({key:"addCells"}),this.renderView(e,r),n===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,r){const n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_REMOVE,n.UPDATE_PRIORITY,r)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===gd.APPROX){const r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_INSERT,r.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,r=this.model;if(!this.isAsync()){var n=this.UPDATE_DELAYING_BATCHES;n.includes(t)&&!r.hasActiveBatch(n)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!r.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){const{options:e}=this,{defaultConnector:t,defaultRouter:r,defaultConnectionPoint:n,defaultAnchor:i,defaultLinkAnchor:o,origin:a,highlighting:s,cellViewNamespace:l,interactive:u}=e;!l&&typeof joint<"u"&&Nu(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),dn(t)||(e.defaultConnector=ya(t)),dn(r)||(e.defaultRouter=ya(r)),dn(n)||(e.defaultConnectionPoint=ya(n)),dn(i)||(e.defaultAnchor=ya(i)),dn(o)||(e.defaultLinkAnchor=ya(o)),zn(u)&&(e.interactive=Jt({},u)),zn(s)&&(e.highlighting=yN({},s,zM)),e.origin=Jt({},a)},children:function(){var e=at.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:rs("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:rs("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:rs("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){const{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();const{childNodes:e,options:t}=this,{svg:r,defs:n,layers:i,background:o,grid:a}=e;return r.style.overflow=t.overflow?"visible":"hidden",this.svg=r,this.defs=n,this.layers=i,this.$background=Lr(o),this.$grid=Lr(a),this.renderLayers(),at.ensureId(r),t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},renderLayers:function(e=Due){this.removeLayers(),e.forEach(({name:i,sorted:o})=>{const a=new Hse({name:i});this.layers.appendChild(a.el),this._layers[i]=a});const t=this.getLayerView(ba.CELLS),r=this.getLayerView(ba.TOOLS),n=this.getLayerView(ba.LABELS);this.tools=r.el,this.cells=this.viewport=t.el,t.vel.addClass(rs("viewport")),n.vel.addClass(rs("viewport"))},removeLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].remove(),delete e[t]})},resetLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(e===void 0){var r=t.getAttribute("transform");return(this._viewportTransformString||null)===r?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=r),at.createSVGMatrix(e)}e=at.createSVGMatrix(e);var n=at.matrixToTransformString(e);return t.setAttribute("transform",n),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return at.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,r){if(e instanceof dr)for(var n=e.model,i=this.model.getConnectedLinks(n),o=0,a=i.length;o<a;o++){var s=i[o],l=this.findViewByModel(s);if(l){var u=["UPDATE"];s.getTargetCell()===n&&u.push("TARGET"),s.getSourceCell()===n&&u.push("SOURCE");var f=Math.max(t+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(u),f,r)}}},forcePostponedViewUpdate:function(e,t){if(!e||!(e instanceof dr))return!1;var r=e.model;if(r.isElement())return!1;if(!(t&e.getFlag(["SOURCE","TARGET"]))){var n={silent:!0},i=0,o=this.findViewByModel(r.getSourceCell());o&&!this.isViewMounted(o)&&(i=this.dumpView(o,n),e.updateEndMagnet("source"));var a=0,s=this.findViewByModel(r.getTargetCell());if(s&&!this.isViewMounted(s)&&(a=this.dumpView(s,n),e.updateEndMagnet("target")),i===0&&a===0)return!this.dumpView(e,n)}return!1},requestViewUpdate:function(e,t,r,n){n||(n={}),this.scheduleViewUpdate(e,t,r,n);var i=this.isAsync();if(!(this.isFrozen()||i&&n.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var o=this.updateViews(n);i&&this.notifyAfterRender(o,n)}},scheduleViewUpdate:function(e,t,r,n){const{_updates:i,options:o}=this;i.idle&&o.autoFreeze&&(i.idle=!1,this.unfreeze());const{FLAG_REMOVE:a,FLAG_INSERT:s,UPDATE_PRIORITY:l,cid:u}=e;let f=i.priorities[r];if(f||(f=i.priorities[r]={}),r>l)for(let m=r-1;m>=l;m--){const g=i.priorities[m];!g||!(u in g)||(f[u]|=g[u],delete g[u])}let c=f[u]||0;if((c&t)===t)return;c||i.count++,t&a&&c&s?f[u]^=s:t&s&&c&a&&(f[u]^=a),f[u]|=t;const p=o.onViewUpdate;typeof p=="function"&&p.call(this,e,t,r,n||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var t=this._updates,r=e.cid,n=t.priorities[e.UPDATE_PRIORITY],i=this.registerMountedView(e)|n[r];return delete n[r],i},dumpView:function(e,t={}){const r=this.dumpViewUpdate(e);if(!r)return 0;const n=!t.silent;n&&this.notifyBeforeRender(t);const i=this.updateView(e,r,t);if(n){const o={updated:1,priority:e.UPDATE_PRIORITY};this.notifyAfterRender(o,t)}return i},updateView:function(e,t,r){if(!e)return 0;const{FLAG_REMOVE:n,FLAG_INSERT:i,FLAG_INIT:o,model:a}=e;if(e instanceof dr){if(t&n)return this.removeView(a),0;if(t&i){const s=!!(t&o);s&&(t^=o),this.insertView(e,s),t^=i}}return t?e.confirmUpdate(t,r||{}):0},requireView:function(e,t){var r=this.findViewByModel(e);return r?(this.dumpView(r,t),r):null},registerUnmountedView:function(e){var t=e.cid,r=this._updates;if(t in r.unmounted)return 0;var n=r.unmounted[t]|=e.FLAG_INSERT;return r.unmountedCids.push(t),delete r.mounted[t],n},registerMountedView:function(e){var t=e.cid,r=this._updates;if(t in r.mounted)return 0;r.mounted[t]=!0,r.mountedCids.push(t);var n=r.unmounted[t]||0;return delete r.unmounted[t],n},isViewMounted:function(e){if(!e)return!1;var t=e.cid,r=this._updates;return t in r.mounted},dumpViews:function(e){var t=va({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,r=0,n=0,i=Yv;do n++,t=this.updateViewsBatch(e),r+=t.updated,i=Math.min(t.priority,i);while(!t.empty);const o={updated:r,batches:n,priority:i};return this.notifyAfterRender(o,e),o},hasScheduledUpdates:function(){const e=this._updates.priorities,t=Object.keys(e);let r=t.length;for(;r>0&&r--;)for(let n in e[t[r]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:Yv});const{_updates:r,options:n}=this,i=r.id;if(i){_P(i),t.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);const o=this.updateViewsBatch(e),a=va({},e,{mountBatchSize:UM-o.mounted,unmountBatchSize:UM-o.unmounted}),s=this.checkViewport(a),l=s.unmounted,u=s.mounted;let f=t.processed;const c=r.count;o.updated>0?(f+=o.updated+o.unmounted,o.processed=f,t.priority=Math.min(o.priority,t.priority),o.empty&&u===0?(o.unmounted+=l,o.mounted+=u,o.priority=t.priority,this.notifyAfterRender(o,e),t.processed=0,t.priority=Yv,r.count=0):t.processed=f):r.idle||n.autoFreeze&&(this.freeze(),r.idle=!0,this.trigger("render:idle",e));const p=e.progress;if(c&&typeof p=="function"&&p.call(this,o.empty,f,c,o,this),r.id!==i)return}if(r.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");r.id=bP(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;typeof t!="function"&&(t=this.options.beforeRender,typeof t!="function")||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let r=t.afterRender;typeof r!="function"&&(r=this.options.afterRender),typeof r=="function"&&r.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||jue,r=this._updates,n=0,i=0,o=0,a=0,s=Yv,l=!0,u=this.options,f=r.priorities,c="viewport"in e?e.viewport:u.viewport;typeof c!="function"&&(c=null);var p=u.onViewPostponed;typeof p!="function"&&(p=null);var m=Object.keys(f);e:for(var g=0,_=m.length;g<_;g++){var v=+m[g],h=f[v];for(var E in h){if(n>=t){l=!1;break e}var y=Wc[E];if(!y){delete h[E];continue}var S=h[E];if(!(S&y.FLAG_REMOVE)){var $=E in r.unmounted;if(y.DETACHABLE&&c&&!c.call(this,y,!$,this)){$||(this.registerUnmountedView(y),this.detachView(y)),r.unmounted[E]|=S,delete h[E],o++;continue}$&&(S|=y.FLAG_INSERT,a++),S|=this.registerMountedView(y)}var T=this.updateView(y,S,e);if(T>0&&(h[E]=T,!p||!p.call(this,y,T,this)||h[E])){i++,l=!1;continue}s>v&&(s=v),n++,delete h[E]}}return{priority:s,updated:n,postponed:i,unmounted:o,mounted:a,empty:l}},getUnmountedViews:function(){const e=this._updates,t=Object.keys(e.unmounted),r=t.length,n=new Array(r);for(var i=0;i<r;i++)n[i]=Wc[t[i]];return n},getMountedViews:function(){const e=this._updates,t=Object.keys(e.mounted),r=t.length,n=new Array(r);for(var i=0;i<r;i++)n[i]=Wc[t[i]];return n},checkUnmountedViews:function(e,t){t||(t={});var r=0;typeof e!="function"&&(e=null);for(var n=("mountBatchSize"in t)?t.mountBatchSize:1/0,i=this._updates,o=i.unmountedCids,a=i.unmounted,s=0,l=Math.min(o.length,n);s<l;s++){var u=o[s];if(u in a){var f=Wc[u];if(f){if(f.DETACHABLE&&e&&!e.call(this,f,!1,this)){o.push(u);continue}r++;var c=this.registerMountedView(f);c&&this.scheduleViewUpdate(f,c,f.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,s),r},checkMountedViews:function(e,t){t||(t={});var r=0;if(typeof e!="function")return r;for(var n=("unmountBatchSize"in t)?t.unmountBatchSize:1/0,i=this._updates,o=i.mountedCids,a=i.mounted,s=0,l=Math.min(o.length,n);s<l;s++){var u=o[s];if(u in a){var f=Wc[u];if(f){if(!f.DETACHABLE||e.call(this,f,!0,this)){o.push(u);continue}r++;var c=this.registerUnmountedView(f);c&&this.detachView(f)}}}return o.splice(0,s),r},checkViewVisibility:function(e,t={}){let r="viewport"in t?t.viewport:this.options.viewport;typeof r!="function"&&(r=null);const n=this._updates,{mounted:i,unmounted:o}=n,a=!e.DETACHABLE||!r||r.call(this,e,!1,this);let s=!1,l=!1;if(e.cid in i&&!a){this.registerUnmountedView(e)&&this.detachView(e);const c=n.mountedCids.indexOf(e.cid);n.mountedCids.splice(c,1),s=!0}if(!s&&e.cid in o&&a){const f=n.unmountedCids.indexOf(e.cid);n.unmountedCids.splice(f,1);var u=this.registerMountedView(e);u&&this.scheduleViewUpdate(e,u,e.UPDATE_PRIORITY,{mounting:!0}),l=!0}return{mounted:l?1:0,unmounted:s?1:0}},checkViewport:function(e){var t=va({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),r="viewport"in t?t.viewport:this.options.viewport,n=this.checkMountedViews(r,t);if(n>0){var i=this._updates.unmountedCids;t.mountBatchSize=Math.min(i.length-n,t.mountBatchSize)}var o=this.checkUnmountedViews(r,t);return{mounted:o,unmounted:n}},freeze:function(e){e||(e={});var t=this._updates,r=e.key,n=this.options.frozen,i=t.freezeKey;if(r&&r!==i){if(n&&i)return;t.freezeKey=r,t.keyFrozen=n}this.options.frozen=!0;var o=t.id;t.id=null,this.isAsync()&&o&&_P(o)},unfreeze:function(e){e||(e={});var t=this._updates,r=e.key,n=t.freezeKey;r&&n&&r!==n||(t.freezeKey=null,!(r&&r===n&&t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===gd.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,r=e.height;return wo(t)||(t=this.el.clientWidth),wo(r)||(r=this.el.clientHeight),{width:t,height:r}},setDimensions:function(e,t){const{options:r}=this,{width:n,height:i}=r;let o=e===void 0?n:e,a=t===void 0?i:t;if(n===o&&i===a)return;r.width=o,r.height=a,this._setDimensions();const s=this.getComputedSize();this.trigger("resize",s.width,s.height)},_setDimensions:function(){const{options:e}=this;let t=e.width,r=e.height;wo(t)&&(t=Math.round(t)),wo(r)&&(r=Math.round(r)),this.$el.css({width:t===null?"":t,height:r===null?"":r})},setOrigin:function(e,t){return this.translate(e||0,t||0)},fitToContent:function(e,t,r,n){Wr(e)?n=e:n=Jt({gridWidth:e,gridHeight:t,padding:r},n);const{x:i,y:o,width:a,height:s}=this.getFitToContentArea(n),{sx:l,sy:u}=this.scale();return this.setOrigin(-i*l,-o*u),this.setDimensions(a*l,s*u),new Pt(i,o,a,s)},getFitToContentArea:function(e={}){const t=e.gridWidth||1,r=e.gridHeight||1,n=Rf(e.padding||0),i=Math.max(e.minWidth||0,t),o=Math.max(e.minHeight||0,r),a=e.maxWidth||Number.MAX_VALUE,s=e.maxHeight||Number.MAX_VALUE,l=e.allowNewOrigin,u="contentArea"in e?new Pt(e.contentArea):this.getContentArea(e),{sx:f,sy:c}=this.scale();u.x*=f,u.y*=c,u.width*=f,u.height*=c;let p=Math.ceil((u.width+u.x)/t),m=Math.ceil((u.height+u.y)/r);e.allowNegativeBottomRight||(p=Math.max(p,1),m=Math.max(m,1)),p*=t,m*=r;let g=0;(l==="negative"&&u.x<0||l==="positive"&&u.x>=0||l==="any")&&(g=Math.ceil(-u.x/t)*t,g+=n.left,p+=g);let _=0;return(l==="negative"&&u.y<0||l==="positive"&&u.y>=0||l==="any")&&(_=Math.ceil(-u.y/r)*r,_+=n.top,m+=_),p+=n.right,m+=n.bottom,p=Math.max(p,i),m=Math.max(m,o),p=Math.min(p,a),m=Math.min(m,s),new Pt(-g/f,-_/c,p/f,m/c)},transformToFitContent:function(e){e||(e={});let t,r;if("contentArea"in e){const v=e.contentArea;t=this.localToPaperRect(v),r=new ze(v)}else t=this.getContentBBox(e),r=this.paperToLocalPoint(t);if(!t.width||!t.height)return;va(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const n=Rf(e.padding),i=e.minScaleX||e.minScale,o=e.maxScaleX||e.maxScale,a=e.minScaleY||e.minScale,s=e.maxScaleY||e.maxScale;let l;if(e.fittingBBox)l=e.fittingBBox;else{const v=this.translate(),h=this.getComputedSize();l={x:v.tx,y:v.ty,width:h.width,height:h.height}}l=new Pt(l).moveAndExpand({x:n.left,y:n.top,width:-n.left-n.right,height:-n.top-n.bottom});const u=this.scale();let f=l.width/t.width*u.sx,c=l.height/t.height*u.sy;if(e.preserveAspectRatio&&(f=c=Math.min(f,c)),e.scaleGrid){const v=e.scaleGrid;f=v*Math.floor(f/v),c=v*Math.floor(c/v)}f=Math.min(o,Math.max(i,f)),c=Math.min(s,Math.max(a,c));const p={x:f/u.sx,y:c/u.sy},m=this.options.origin;let g=l.x-r.x*f-m.x,_=l.y-r.y*c-m.y;switch(e.verticalAlign){case"middle":_=_+(l.height-t.height*p.y)/2;break;case"bottom":_=_+(l.height-t.height*p.y);break}switch(e.horizontalAlign){case"middle":g=g+(l.width-t.width*p.x)/2;break;case"right":g=g+(l.width-t.width*p.x);break}this.scale(f,c),this.translate(g,_)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new Pt:at(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){const{restrictTranslate:t}=this.options;let r;return dn(t)?r=t.apply(this,e):t===!0?r=this.getArea():t?r=new Pt(t):r=null,r},createViewForModel:function(e){const{options:t}=this;var r,n,i=t.cellViewNamespace,o=e.get("type")+"View",a=Zm(i,o,".");e.isLink()?(r=t.linkView,n=dm):(r=t.elementView,n=Nw);var s=r.prototype instanceof Li.View?a||r:r.call(this,e)||a||n;return new s({model:e,interactive:t.interactive,labelsLayer:t.labelsLayer===!0?ba.LABELS:t.labelsLayer})},removeView:function(e){const{id:t}=e,{_views:r,_updates:n}=this,i=r[t];if(i){var{cid:o}=i;const{mounted:a,unmounted:s}=n;i.remove(),delete r[t],delete a[o],delete s[o]}return i},renderView:function(e,t){const{id:r}=e,n=this._views;let i,o,a=!0;return r in n&&(i=n[r],i.model===e?(o=i.FLAG_INSERT,a=!1):this.removeView(e)),a&&(i=n[r]=this.createViewForModel(e),i.paper=this,o=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(qn(i,"initFlag"))),this.requestViewUpdate(i,o,i.UPDATE_PRIORITY,t),i},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();const r=this.options.autoFreeze?null:"reset";this.freeze({key:r});for(var n=0,i=e.length;n<i;n++)this.renderView(e[n],t);this.unfreeze({key:r}),this.sortViews()},removeViews:function(){zs(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var e=Lr(this.cells).children("[model-id]"),t=this.model.get("cells");hse(e,function(r,n){var i=t.get(r.getAttribute("model-id")),o=t.get(n.getAttribute("model-id")),a=i.attributes.z||0,s=o.attributes.z||0;return a===s?0:a<s?-1:1})},insertView:function(e,t){const r=this.getLayerView(ba.CELLS),{el:n,model:i}=e;switch(this.options.sorting){case gd.APPROX:r.insertSortedNode(n,i.get("z"));break;case gd.EXACT:default:r.insertNode(n);break}e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},scale:function(e,t,r,n){if(e===void 0)return at.matrixToScale(this.matrix());t===void 0&&(t=e),r===void 0&&(r=0,n=0);var i=this.translate();if(r||n||i.tx||i.ty){var o=i.tx-r*(e-1),a=i.ty-n*(t-1);this.translate(o,a)}e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var s=this.matrix();return s.a=e,s.d=t,this.matrix(s),this.trigger("scale",e,t,r,n),this},rotate:function(e,t,r){if(e===void 0)return at.matrixToRotate(this.matrix());if(t===void 0){var n=this.cells.getBBox();t=n.width/2,r=n.height/2}var i=this.matrix().translate(t,r).rotate(e).translate(-t,-r);return this.matrix(i),this},translate:function(e,t){if(e===void 0)return at.matrixToTranslate(this.matrix());const{options:r}=this,{origin:n,drawGrid:i}=r;e||(e=0),t||(t=0);const o=this.matrix();if(o.e===e&&o.f===t)return this;o.e=e,o.f=t,this.matrix(o);const{tx:a,ty:s}=this.translate();return n.x=a,n.y=s,this.trigger("translate",a,s),i&&this.drawGrid(),this},findView:function(e){var t=Ui(e)?this.cells.querySelector(e):e instanceof Lr?e[0]:e,r=this.findAttribute("model-id",t);if(r)return this._views[r]},findViewByModel:function(e){var t=Ui(e)||wo(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){e=new ze(e);var t=this.model.getElements().map(this.findViewByModel,this);return t.filter(function(r){return r&&r.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=va(t||{},{strict:!1}),e=new Pt(e);var r=this.model.getElements().map(this.findViewByModel,this),n=t.strict?"containsRect":"intersect";return r.filter(function(i){return i&&e[n](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){typeof e=="string"&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var r=new ze(e,t),n=at.transformPoint(r,this.matrix());return n},localToPaperRect:function(e,t,r,n){var i=new Pt(e,t,r,n),o=at.transformRect(i,this.matrix());return o},paperToLocalPoint:function(e,t){var r=new ze(e,t),n=at.transformPoint(r,this.matrix().inverse());return n},paperToLocalRect:function(e,t,r,n){var i=new Pt(e,t,r,n),o=at.transformRect(i,this.matrix().inverse());return o},localToClientPoint:function(e,t){var r=new ze(e,t),n=at.transformPoint(r,this.clientMatrix());return n},localToClientRect:function(e,t,r,n){var i=new Pt(e,t,r,n),o=at.transformRect(i,this.clientMatrix());return o},clientToLocalPoint:function(e,t){var r=new ze(e,t),n=at.transformPoint(r,this.clientMatrix().inverse());return n},clientToLocalRect:function(e,t,r,n){var i=new Pt(e,t,r,n),o=at.transformRect(i,this.clientMatrix().inverse());return o},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,r,n){return this.localToPaperRect(e,t,r,n).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var r=new ze(e,t),n=r.difference(this.pageOffset());return this.paperToLocalPoint(n)},pageToLocalRect:function(e,t,r,n){var i=this.pageOffset(),o=new Pt(e,t,r,n);return o.x-=i.x,o.y-=i.y,this.paperToLocalRect(o)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new ze(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof dm))throw new Error("Must provide a linkView.");var t=e.model,r=this.options,n=this.model,i=n.constructor.validations;return!(!r.multiLinks&&!i.multiLinks.call(this,n,t)||!r.linkPinning&&!i.linkPinning.call(this,n,t)||typeof r.allowLink=="function"&&!r.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return dn(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:r}=e;const{highlighting:n,highlighterNamespace:i}=this.options;if(t===void 0){if(!n||r&&(t=n[r],t===!1))return!1;t||(t=n.default)}if(!t)return!1;Ui(t)&&(t={name:t});const o=t.name,a=i[o];if(!a)throw new Error('Unknown highlighter ("'+o+'")');if(typeof a.highlight!="function")throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if(typeof a.unhighlight!="function")throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:a,options:t.options||{},name:o}},onCellHighlight:function(e,t,r){const n=this.resolveHighlighter(r);if(!n)return;const{highlighter:i,options:o}=n;i.highlight(e,t,o)},onCellUnhighlight:function(e,t,r){const n=this.resolveHighlighter(r);if(!n)return;const{highlighter:i,options:o}=n;i.unhighlight(e,t,o)},pointerdblclick:function(e){e.preventDefault(),e=wi(e);var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,r.x,r.y):this.trigger("blank:pointerdblclick",e,r.x,r.y)}},pointerclick:function(e){var t=this.eventData(e);if(t.mousemoved<=this.options.clickThreshold){e=wi(e);var r=this.findView(e.target);if(this.guard(e,r))return;var n=this.snapToGrid(e.clientX,e.clientY);r?r.pointerclick(e,n.x,n.y):this.trigger("blank:pointerclick",e,n.x,n.y)}},contextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}e=wi(e),this.contextMenuTrigger(e)},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,r.x,r.y):this.trigger("blank:contextmenu",e,r.x,r.y)}},pointerdown:function(e){e=wi(e);const{target:t,button:r}=e,n=this.findView(t),i=r===2;if(n){if(!i&&this.guard(e,n))return;const o=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!o&&e.preventDefault(),o&&n.preventDefaultInteraction(e);const a=this.customEventTrigger(e,n);if(a){if(a.isPropagationStopped())return;e.data=a.data}const s=t.closest("[magnet]");if(s&&n.el!==s&&n.el.contains(s)){const l=wi(Lr.Event(e.originalEvent,{data:e.data,currentTarget:s}));if(this.onmagnet(l),l.isDefaultPrevented()&&e.preventDefault(),l.isPropagationStopped()){if(i)return;this.delegateDragEvents(n,l.data);return}e.data=l.data}}if(i){this.contextMenuFired=!0;const o=Lr.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(o)}else{const o=this.snapToGrid(e.clientX,e.clientY);n?n.pointerdown(e,o.x,o.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,o.x,o.y)),this.delegateDragEvents(n,e.data)}},pointermove:function(e){var t=this.eventData(e);t.mousemoved||(t.mousemoved=0,this.undelegateEvents());var r=++t.mousemoved;if(!(r<=this.options.moveThreshold)){e=wi(e);var n=this.snapToGrid(e.clientX,e.clientY),i=t.sourceView;i?i.pointermove(e,n.x,n.y):this.trigger("blank:pointermove",e,n.x,n.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=wi(e),r=this.snapToGrid(t.clientX,t.clientY),n=this.eventData(e).sourceView;n?n.pointerup(t,r.x,r.y):this.trigger("blank:pointerup",t,r.x,r.y),t.isPropagationStopped()||this.pointerclick(Lr.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=wi(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=wi(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=wi(e);const{target:t,relatedTarget:r,currentTarget:n}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(r);i&&(o===i||(i.mouseenter(e),this.el.contains(r)))||o||n===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=wi(e);const{target:t,relatedTarget:r,currentTarget:n}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(r);i&&(o===i||(i.mouseleave(e),this.el.contains(r)))||o||n===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:Qae(function(){const{event:e,deltas:t}=this._mw_evt_buffer,r=t.reduce((a,s)=>a+use(s,Cue),0),n=Math.pow(.995,r),{x:i,y:o}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,i,o,n),this._mw_evt_buffer={event:null,deltas:[]}},BM,{maxWait:BM}),mousewheel:function(e){e=wi(e);const t=this.findView(e.target);if(this.guard(e,t))return;const r=e.originalEvent,n=this.snapToGrid(r.clientX,r.clientY),{deltaX:i,deltaY:o}=lse(r),a=this._events["paper:pinch"];if(e.ctrlKey&&a&&a.length>0)r.preventDefault(),this._mw_evt_buffer.event=r,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{const s=Math.max(-1,Math.min(1,r.wheelDelta));t?t.mousewheel(e,n.x,n.y,s):this.trigger("blank:mousewheel",e,n.x,n.y,s),this.trigger("paper:pan",e,i,o)}},onevent:function(e){var t=e.currentTarget,r=t.getAttribute("event");if(r){var n=this.findView(t);if(n){if(e=wi(e),this.guard(e,n))return;var i=this.snapToGrid(e.clientX,e.clientY);n.onevent(e,r,i.x,i.y)}}},magnetEvent:function(e,t){var r=e.currentTarget,n=r.getAttribute("magnet");if(n){var i=this.findView(r);if(i){if(e=wi(e),this.guard(e,i))return;var o=this.snapToGrid(e.clientX,e.clientY);t.call(this,i,e,r,o.x,o.y)}}},onmagnet:function(e){if(e.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const t=Lr.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,function(t,r,n,i,o){t.onmagnet(r,i,o)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,r,n,i,o){t.magnetpointerdblclick(r,n,i,o)})},magnetcontextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,function(t,r,n,i,o){t.magnetcontextmenu(r,n,i,o)})},onlabel:function(e){var t=e.currentTarget,r=this.findView(t);if(!r||(e=wi(e),this.guard(e,r)))return;const n=this.customEventTrigger(e,r,t);if(n){if(n.isPropagationStopped())return;e.data=n.data}var i=this.snapToGrid(e.clientX,e.clientY);r.onlabel(e,i.x,i.y)},getPointerArgs(e){const t=wi(e),{x:r,y:n}=this.snapToGrid(t.clientX,t.clientY);return[t,r,n]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if(e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&e.data.guarded!==void 0)return e.data.guarded;const{target:r}=e;return this.GUARDED_TAG_NAMES.includes(r.tagName)?!0:!(t&&t.model&&t.model instanceof Qs||this.svg===r||this.el===r||Lr.contains(this.svg,r))},setGridSize:function(e){const{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:at("svg",{width:"100%",height:"100%"},at("defs")),patterns:{},add:function(e,t){at(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(at("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return this.patterns[e]!==void 0}}),this._gridCache},setGrid:function(e){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var t=Array.isArray(e)?e:[e||{}];return t.forEach(function(r){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(r))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(Ui(e)&&Array.isArray(t[e]))return t[e].map(function(l){return Jt({},l)});var r=e||{args:[{}]},n=Array.isArray(r),i=r.name;if(!n&&!i&&!r.markup&&(i="dot"),i&&Array.isArray(t[i])){var o=t[i].map(function(l){return Jt({},l)}),a=Array.isArray(r.args)?r.args:[r.args||{}];va(a[0],Qm(e,"args"));for(var s=0;s<a.length;s++)o[s]&&Jt(o[s],a[s]);return o}return n?r:[r]},drawGrid:function(e){const t=this.options.drawGridSize||this.options.gridSize;if(t<=1)return this.clearGrid();var r=Array.isArray(e)?e:[e],n=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(a,s){var l="pattern_"+s,u=ri(a,r[s],{sx:n.a||1,sy:n.d||1,ox:n.e||0,oy:n.f||0});u.width=t*(n.a||1)*(u.scaleFactor||1),u.height=t*(n.d||1)*(u.scaleFactor||1),i.exist(l)||i.add(l,at("pattern",{id:l,patternUnits:"userSpaceOnUse"},at(u.markup)));var f=i.get(l);dn(u.update)&&u.update(f.node.childNodes[0],u);var c=u.ox%u.width;c<0&&(c+=u.width);var p=u.oy%u.height;p<0&&(p+=u.height),f.attr({x:c,y:p,width:u.width,height:u.height})});var o=new XMLSerializer().serializeToString(i.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(e){e=e||{};var t=e.position||"center",r=e.size||"auto auto",n=this.scale(),i=this.translate();if(Wr(t)){var o=i.tx+n.sx*(t.x||0),a=i.ty+n.sy*(t.y||0);t=o+"px "+a+"px"}Wr(r)&&(r=new Pt(r).scale(n.sx,n.sy),r=r.width+"px "+r.height+"px"),this.$background.css({backgroundSize:r,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(!(e instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==t.id)){t=t||{};var r,n=t.size,i=t.repeat||"no-repeat",o=t.opacity||1,a=Math.abs(t.quality)||1,s=this.constructor.backgroundPatterns[rse(i)];if(dn(s)){e.width*=a,e.height*=a;var l=s(e,t);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");r=l.toDataURL("image/png"),i="repeat",Wr(n)?(n.width*=l.width/e.width,n.height*=l.height/e.height):n===void 0&&(t.size={width:l.width/a,height:l.height/a})}else r=e.src,n===void 0&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:o,backgroundRepeat:i,backgroundImage:"url("+r+")"}),this.updateBackgroundImage(t)}},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(e=e||{},this.updateBackgroundColor(e.color),e.image){e=this._background=ya(e),Gd(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,zs(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!Wr(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,r=e.name;if(t||(t=r+this.svg.id+zv(JSON.stringify(e))),!this.isDefined(t)){var n=mse,i=n[r]&&n[r](e.args||{});if(!i)throw new Error("Non-existing filter "+r);var o=Jt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});at(i,o).appendTo(this.defs)}return t},defineGradient:function(e){if(!Wr(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:t,defs:r}=this,{type:n,id:i=n+t.id+zv(JSON.stringify(e)),stops:o,attrs:a={}}=e;if(this.isDefined(i))return i;const s=Tr(o).map(({offset:u,color:f,opacity:c})=>at("stop").attr({offset:u,"stop-color":f,"stop-opacity":Number.isFinite(c)?c:1})),l=at(n,a,s);return l.id=i,l.appendTo(r),i},definePattern:function(e){if(!Wr(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:t,defs:r}=this,{id:n=t.id+zv(JSON.stringify(e)),markup:i,attrs:o={}}=e;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(n))return n;const a=at("pattern",{patternUnits:"userSpaceOnUse"});if(a.id=n,a.attr(o),typeof i=="string")a.append(at(i));else{const{fragment:s}=Zb(i);a.append(s)}return a.appendTo(r),n},defineMarker:function(e){if(!Wr(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:t,defs:r}=this,{id:n=t.id+zv(JSON.stringify(e)),markup:i,attrs:o={},markerUnits:a="userSpaceOnUse"}=e;if(this.isDefined(n))return n;const s=at("marker",{orient:"auto",overflow:"visible",markerUnits:a});s.id=n,s.attr(o);let l;if(i){let c;if(typeof i=="string")c=at(i),c=Array.isArray(c)?c:[c];else{const{fragment:p}=Zb(i);c=at(p).children()}c.length>1?l=at("g").append(c):l=c[0]}else{const{type:c="path"}=e;l=at(c)}const u=Qm(e,"type","id","markup","attrs","markerUnits");return Object.keys(u).forEach(c=>{const p=u[c],m=l.attr(c);if(m==null)l.attr(c,p);else switch(c){case"transform":l.attr(c,p+" "+m);break}}),l.appendTo(s),s.appendTo(r),n},customEventTrigger:function(e,t,r=t.el){const n=e.target.closest("[event]");if(n&&r!==n&&t.el.contains(n)){const i=wi(Lr.Event(e.originalEvent,{data:e.data,currentTarget:n}));return this.onevent(i),i.isDefaultPrevented()&&e.preventDefault(),i}return null}},{sorting:gd,Layers:ba,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=2*r,t.height=2*n;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,r,n),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,r,n),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,r,n),t},flipX:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=r*2,t.height=n;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.translate(2*r,0),i.scale(-1,1),i.drawImage(e,0,0,r,n),t},flipY:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=r,t.height=n*2;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.translate(0,2*n),i.scale(1,-1),i.drawImage(e,0,0,r,n),t},watermark:function(e,t){t=t||{};var r=e.width,n=e.height,i=document.createElement("canvas");i.width=r*3,i.height=n*3;for(var o=i.getContext("2d"),a=wo(t.watermarkAngle)?-t.watermarkAngle:-20,s=xo(a),l=i.width/4,u=i.height/4,f=0;f<4;f++)for(var c=0;c<4;c++)(f+c)%2>0&&(o.setTransform(1,0,0,1,(2*f-1)*l,(2*c-1)*u),o.rotate(s),o.drawImage(e,-r/2,-n/2,r,n));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){at(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var r=t.sx<=1?t.thickness*t.sx:t.thickness;at(e).attr({width:r,height:r,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",at(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",at(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",at(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}]}}),_H=Wu.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){const{paper:t,relatedView:r}=this;return!t||!r?!0:t.guard(e,r)}}),qM=Wu.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){e=Jt(this.options,e);var t=e.tools;if(!Array.isArray(t))return this;var r=e.relatedView;if(!(r instanceof dr))return this;for(var n=this.tools=[],i=0,o=t.length;i<o;i++){var a=t[i];a instanceof _H&&(a.configure(r,this),this.vel.append(a.el),n.push(a))}return this.isRendered=!1,r.requestUpdate(r.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var r=this.isRendered,n=0,i=t.length;n<i;n++){var o=t[n];r?e.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return this.isMounted()||this.mount(),r||(this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,n=t.length;r<n;r++){var i=t[r];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,n=t.length;r<n;r++){var i=t[r];i!==e&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,r=e.length;t<r;t++)e[t].remove();this.tools=null},mount:function(){const{options:e,el:t}=this,{relatedView:r,layer:n=ba.TOOLS,z:i}=e;return r&&(n?r.paper.getLayerView(n).insertSortedNode(t,i):r.el.appendChild(t)),this}}),Lue={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var r=this._results[e];if(typeof r<"u")return r;try{r=t()}catch{r=!1}return this._results[e]=r,r}},VM=lo.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]});lo.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]});lo.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]});lo.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]});lo.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]});lo.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]});lo.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]});lo.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]});lo.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]});lo.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]});lo.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var b1=10;lo.define("standard.Cylinder",{attrs:{body:{lateralArea:b1,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:b1,refRx:"50%",ry:b1,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(e===void 0)return this.attr("body/lateralArea");var r=xi(e),n={lateralArea:e},i=r?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e};return this.attr({body:n,top:i},t)}},{attributes:{lateralArea:{set:function(e,t){var r=xi(e);r&&(e=parseFloat(e)/100);var n=t.x,i=t.y,o=t.width,a=t.height,s=o/2,l=r?a*e:e,u=at.KAPPA,f=u*s,c=u*(r?a*e:e),p=n,m=n+o/2,g=n+o,_=i+l,v=_-l,h=i+a-l,E=i+a,y=["M",p,_,"L",p,h,"C",n,h+c,m-f,E,m,E,"C",m+f,E,g,h+c,g,h,"L",g,_,"C",g,_-c,m+f,v,m,v,"C",m-f,v,p,_-c,p,_,"Z"];return{d:y.join(" ")}}}}});var Fue={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},Bue={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},Uue=Lue.test("svgforeignobject")?Fue:Bue;lo.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},Uue]},{attributes:{text:{set:function(e,t,r,n){if(r instanceof HTMLElement)r.textContent=e;else{var i=n.style||{},o={text:e,width:-5,height:"100%"},a=Jt({textVerticalAnchor:"middle"},i);return tH.textWrap.set.call(this,o,t,r,a),{fill:i.color||null}}},position:function(e,t,r){if(r instanceof SVGElement)return t.center()}}}});const zue=Wh.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]});Wh.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]});Wh.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]});function que(e,t){const{model:r}=e;return t?r.getBBox():r.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}const EH=_H.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{vel:e}=this;e.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){const{relatedView:e,options:t}=this;let{x:r=0,y:n=0,offset:i={},useModelGeometry:o,rotate:a,scale:s}=t,l=que(e,o);const u=e.model.angle();a||(l=l.bbox(u));const{x:f=0,y:c=0}=i;xi(r)?r=parseFloat(r)/100*l.width:Sa(r)&&(r=Number($a(r,l))),xi(n)?n=parseFloat(n)/100*l.height:Sa(n)&&(n=Number($a(n,l)));let p=at.createSVGMatrix().translate(l.x+l.width/2,l.y+l.height/2);return a&&(p=p.rotate(u)),p=p.translate(r+f-l.width/2,n+c-l.height/2),s&&(p=p.scale(s)),p},getLinkMatrix(){const{relatedView:e,options:t}=this,{offset:r=0,distance:n=0,rotate:i,scale:o}=t;let a,s,l;xi(n)?a=e.getTangentAtRatio(parseFloat(n)/100):a=e.getTangentAtLength(n),a?(s=a.start,l=a.vector().vectorAngle(new ze(1,0))||0):(s=e.getConnection().start,l=0);let u=at.createSVGMatrix().translate(s.x,s.y).rotate(l).translate(0,r);return i||(u=u.rotate(-l)),o&&(u=u.scale(o)),u},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;typeof t=="function"&&t.call(this.relatedView,e,this.relatedView,this)}}}),Vue=EH.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,r){t.model.remove({ui:!0,tool:r.cid})}}}),SH=()=>"chooseFileSystemEntries"in window||"showOpenFilePicker"in window,$H=async()=>{if(!SH()){const n=await Hue();if(!n)throw new Error("failed to get file through HTML5");return{td:await Wue(n),fileName:n.name}}const e=await Jue(),t=await e.getFile();return{td:await t.text(),fileName:t.name,fileHandle:e}},Hue=async()=>new Promise((e,t)=>{const r=document.getElementById("fileInput");r.onchange=n=>{const i=r.files[0];return i?e(i):t(new Error("AbortError"))},r.click()}),Wue=async e=>new Promise(t=>{const r=new FileReader;r.addEventListener("loadend",n=>{const i=n.srcElement.result;return t(i)}),r.readAsText(e)}),HM=async(e,t,r)=>{if(!SH())return Kue(e,r),e;if(!t)try{t=await Yue()}catch(n){console.error(n);return}return await Gue(t,r),t},Gue=async(e,t)=>{if(e.createWriter){const n=await e.createWriter();await n.write(0,t),await n.close();return}const r=await e.createWritable();await r.write(t),await r.close()},Kue=(e,t)=>{const r=JSON.parse(t);let n=r.id||r.title;if(!n)throw Error("the TD has to have either an id or a title to be saved");n=n.replace(/\s/g,"")+".jsonld",e=e||n;const i={type:"application/ld+json"},o=new File([t],"",i),a=document.getElementById("aDownload");a.href=window.URL.createObjectURL(o),a.setAttribute("download",e),a.click()},Jue=()=>{const e={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]};return"showOpenFilePicker"in window?window.showOpenFilePicker(e).then(t=>t[0]):window.chooseFileSystemEntries()},Yue=async()=>{if("showSaveFilePicker"in window){const t={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]};return await window.showSaveFilePicker(t)}const e={type:"save-file",accepts:[{description:"Thing Description",extensions:[".jsonld",".json"],mimeTypes:["application/ld+json"]}]};return await window.chooseFileSystemEntries(e)},Xue=De.forwardRef((e,t)=>{const r=De.useContext(bn),[n,i]=tt.useState(()=>!1),[o,a]=tt.useState(()=>"url"),[s,l]=tt.useState(()=>({})),u=e.interaction??{},f=r.parsedTD;De.useImperativeHandle(t,()=>({openModal:()=>c(),close:()=>p()}));const c=()=>{i(!0)},p=()=>{i(!1)},m=y=>u.links?DX(y,u):!1,g=y=>{f.links=[...f.links?f.links:[],y],r.updateOfflineTD(JSON.stringify(f,null,2))},_=y=>{a(y),s&&y==="url"&&l({})},v=De.useCallback(async()=>{try{const y=await $H();document.getElementById("link-href").value=`./${y.fileName}`,l(y.fileHandle?y.fileHandle:JSON.parse(y.td))}catch(y){const S="We ran into an error trying to open your TD.";console.error(S,y),alert(S)}},[]),h=()=>{const y=["icon","service-doc","alternate","type","tm:extends","proxy-to","collection","item","predecessor-version","controlledBy"];let S=0;return y.map(T=>(S++,ce.jsx("option",{value:T},S)))},E=ce.jsxs(ce.Fragment,{children:[ce.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Thing Description:"}),ce.jsx("div",{className:"p-1",children:f.title}),ce.jsxs("div",{className:"p-1 pt-2",children:[ce.jsx("label",{htmlFor:"rel",className:"pl-2 text-sm font-medium text-gray-400",children:"Relation:(select one of the proposed relations or type your custom relation)"}),ce.jsx("input",{list:"relationType",type:"text",name:"rel",id:"rel",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"relation name"}),ce.jsx("datalist",{id:"relationType",children:ce.jsx(h,{})}),ce.jsx("span",{id:"link-rel-info",className:"pl-2 text-xs text-red-400"})]}),ce.jsxs("div",{className:"p-1 pt-2",children:[ce.jsx("label",{htmlFor:"link-href",className:"pl-2 pr-2 text-sm font-medium text-gray-400",children:"Target ressource:"}),ce.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",disabled:o==="upload",onClick:()=>{_("upload")},children:"From local machine"}),ce.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",style:{marginLeft:"2%"},disabled:o==="url",onClick:()=>{_("url")},children:"Ressource url"}),ce.jsxs("div",{className:"p-1 pt-4",children:[ce.jsx("input",{type:"text",name:"link-href",id:"link-href",className:"rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"The target ressource",onChange:()=>{Que()},disabled:o!=="url"}),o==="upload"&&ce.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-white",onClick:v,disabled:o!=="upload",children:"Open TD"})]}),ce.jsx("span",{id:"link-href-info",className:"pl-2 text-xs text-red-400"}),ce.jsxs("div",{children:[ce.jsx("label",{htmlFor:"type",className:"pl-2 text-sm font-medium text-gray-400",children:"Type:(select one of the proposed types or tape your custom type)"}),ce.jsx("input",{list:"mediaType",type:"text",name:"type",id:"type",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"media type"}),ce.jsxs("datalist",{id:"mediaType",children:[ce.jsx("option",{value:"application/td+json"}),ce.jsx("option",{value:"image/jpeg"}),ce.jsx("option",{value:"text/csv"}),ce.jsx("option",{value:"video/mp4"})]})]})]})]});return n?zl.createPortal(ce.jsx(ql,{onCancel:p,onSubmit:()=>{if(!r.isValidJSON){_1("Can't add link. TD is malformed");return}let y={},S={};const $=document.getElementById("rel").value,T=document.getElementById("link-href").value,d=document.getElementById("type").value;y.href=T!==""?T.trim():"/";let A=!0;try{var x=new URL(T)}catch{A=!1}if(o==="url"&&A&&(x.protocol==="http:"||x.protocol==="https:"))try{var P=new XMLHttpRequest;if(P.open("GET",T,!1),P.send(),P.getResponseHeader("content-type").includes("application/td+json")){const j=P.response;let F=JSON.parse(j);S[T]=F}}catch(j){console.error("We ran into an error trying to fetch your TD.",j),S[T]=s}else S[T]=s;$!==""&&(y.rel=$.trim()),d!==""&&(y.type=d.trim()),T===""?_1("The href field is mandatory ..."):m(y)?_1("A Link with the target Thing Description already exists ..."):(g(y),r.addLinkedTd(S),l({}),p())},submitText:"Add",children:E,title:"Add Link ",description:`Tell us how this ${f.title} can interact with other ressources`}),document.getElementById("modal-root")):null}),_1=e=>{document.getElementById("link-href-info").textContent=e,document.getElementById("link-href").classList.remove("border-gray-600"),document.getElementById("link-href").classList.add("border-red-400")},Que=()=>{document.getElementById("link-href").classList.add("border-gray-600"),document.getElementById("link-href").classList.remove("border-red-400")};function Zue(e){const t=De.useContext(bn),r=i=>{let o=t.linkedTd;o[i.link.href]&&(delete o[i.link.href],t.updateLinkedTd(o)),t.removeLink(i.propName),t.updateIsModified(!0)},n=async i=>{let o=i.link.href;YO(t,o)};return ce.jsxs("div",{className:"bg-formBlue border-formBlue mt-2 flex min-h-12 w-full items-stretch rounded-md border-2 bg-opacity-75 pl-4",children:[ce.jsx("div",{className:"flex h-8 min-w-20 justify-center place-self-center rounded-md bg-white",children:ce.jsx("div",{className:"text-formBlue place-self-center px-4 text-center",children:e.link.rel??"-"})}),ce.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-base text-white",children:e.link.href}),t.linkedTd&&t.linkedTd[e.link.href]&&(Object.keys(t.linkedTd[e.link.href]).length||t.linkedTd[e.link.href].kind==="file")&&ce.jsx("button",{className:"bg-formBlue border-formBlue flex w-10 items-center justify-center border-r-2",onClick:()=>n(e),children:ce.jsx(j_,{size:16,color:"black"})}),ce.jsx("button",{className:"bg-formBlue flex w-10 items-center justify-center",onClick:()=>r(e),children:ce.jsx(tc,{size:16,color:"black"})})]})}function ece(e){const t=De.useContext(bn),r=De.useRef(),n=()=>{r.current.openModal()},i=t.parsedTD,[o,a]=De.useState(0),[s,l]=De.useState("list"),[u,f]=De.useState(!1);if(De.useEffect(()=>{if(document.getElementsByTagName("details")[1]&&document.getElementsByTagName("details")[1].addEventListener("toggle",function($){document.getElementsByTagName("details")[1].attributes.open?f(!0):f(!1)},!1),i===void 0||!i.links||!Array.isArray(i.links))return;let p=100,m=30,g=new bN,_=new Mue({el:document.getElementById("tdGraph"),model:g,height:270+o,width:850,gridSize:10,drawGrid:!0,restrictTranslate:!0});if(!(i===void 0||!i.links||!Array.isArray(i.links))){var v=new VM;v.position(100,10),v.resize(140,40),v.attr({body:{fill:"#005A9C"},label:{text:i.title,fill:"white"}}),v.set("td",{}),v.resize(v.attributes.attrs.label.text.length*12,40),g.addCell(v);for(const[$,T]of i.links.entries()){if(Object.prototype.toString.call(T)!=="[object Object]")continue;p=p+70,m=m+60;const d=T.href??"no href provided",A=T.rel??"",x=new VM;x.position(p,m),x.attr({body:{fill:"#005A9C"},label:{text:d,fill:"white"}}),x.resize(x.attributes.attrs.label.text.length*12,40),g.addCell(x),x.set("href",d);var h=new Vue({useModelGeometry:!0,y:"0%",x:"100%",action:async function(j,F,V){if(t.linkedTd){let X=t.linkedTd;X[F.model.get("href")]&&(delete X[F.model.get("href")],t.updateLinkedTd(X))}for(let X=0;X<i.links.length;X++)if(d===F.model.get("href")){t.removeLink(X),t.updateIsModified(!0);break}}}),E=new qM({tools:[h]}),y=x.findView(_);if(y.addTools(E),t.linkedTd&&t.linkedTd[d]&&(t.linkedTd[d].kind==="file"||Object.keys(t.linkedTd[d]).length)){x.set("td",t.linkedTd[d]);var S=new EH({markup:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#008FF5",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],x:"0%",y:"0%",rotate:!0,action:async function(F,V,X){let H=V.model.get("href");YO(t,H)}});let j=new qM({tools:[h,S]});y.addTools(j)}let P=new zue({attrs:{line:{stroke:"#005A9C"}},labels:[{position:.6,attrs:{text:{text:A,fill:"grey"}}}]});P.source(v),P.target(x),P.addTo(g)}a(m+30)}},[o,s,t,t.linkedTd,t.removeLink,t.updateLinkedTd,t.updateIsModified,i]),i===void 0)return ce.jsx(ce.Fragment,{});let c=[];if(i.links&&Array.isArray(i.links))for(const[p,m]of i.links.entries())Object.prototype.toString.call(m)==="[object Object]"&&c.push(ce.jsx(Zue,{link:m},p));return ce.jsxs("details",{className:"pt-8",children:[ce.jsxs("summary",{className:"flex cursor-pointer items-center justify-start",children:[ce.jsxs("div",{className:"flex flex-grow",children:[ce.jsx(Rl,{tooltip:_B(),id:"links",children:ce.jsx("h2",{className:"flex-grow p-1 text-2xl text-white",children:"Links"})}),u&&ce.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",disabled:s==="list",onClick:()=>l("list"),children:"List"}),u&&ce.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",style:{marginLeft:"10px"},disabled:s==="graph",onClick:()=>l("graph"),children:"Graph"})]}),ce.jsx("button",{className:"cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",onClick:n,children:"Add Top Level Link"}),ce.jsx(Xue,{type:"link",interaction:i,ref:r})]}),c&&s==="graph"&&ce.jsx("div",{className:"pt-4",children:ce.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",id:"tdGraph"})}),c&&s==="list"&&ce.jsx("div",{className:"pt-4",children:ce.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",children:c})})]})}function Wf(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(c){a(c)}}function l(f){try{u(n.throw(f))}catch(c){a(c)}}function u(f){f.done?o(f.value):i(f.value).then(s,l)}u((n=n.apply(e,t||[])).next())})}const tce=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Rh(e,t,r){const n=rce(e),{webkitRelativePath:i}=e,o=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof n.path!="string"&&WM(n,"path",o),WM(n,"relativePath",o),n}function rce(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const n=t.split(".").pop().toLowerCase(),i=tce.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function WM(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}const nce=[".DS_Store","Thumbs.db"];function ice(e){return Wf(this,void 0,void 0,function*(){return n_(e)&&oce(e.dataTransfer)?uce(e.dataTransfer,e.type):ace(e)?sce(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?lce(e):[]})}function oce(e){return n_(e)}function ace(e){return n_(e)&&n_(e.target)}function n_(e){return typeof e=="object"&&e!==null}function sce(e){return PP(e.target.files).map(t=>Rh(t))}function lce(e){return Wf(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>Rh(r))})}function uce(e,t){return Wf(this,void 0,void 0,function*(){if(e.items){const r=PP(e.items).filter(i=>i.kind==="file");if(t!=="drop")return r;const n=yield Promise.all(r.map(cce));return GM(TH(n))}return GM(PP(e.files).map(r=>Rh(r)))})}function GM(e){return e.filter(t=>nce.indexOf(t.name)===-1)}function PP(e){if(e===null)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];t.push(n)}return t}function cce(e){if(typeof e.webkitGetAsEntry!="function")return KM(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?AH(t):KM(e,t)}function TH(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?TH(r):[r]],[])}function KM(e,t){return Wf(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const a=yield o.getFile();return a.handle=o,Rh(a)}}const n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return Rh(n,(r=t==null?void 0:t.fullPath)!==null&&r!==void 0?r:void 0)})}function fce(e){return Wf(this,void 0,void 0,function*(){return e.isDirectory?AH(e):dce(e)})}function AH(e){const t=e.createReader();return new Promise((r,n)=>{const i=[];function o(){t.readEntries(a=>Wf(this,void 0,void 0,function*(){if(a.length){const s=Promise.all(a.map(fce));i.push(s),o()}else try{const s=yield Promise.all(i);r(s)}catch(s){n(s)}}),a=>{n(a)})}o()})}function dce(e){return Wf(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(n=>{const i=Rh(n,e.fullPath);t(i)},n=>{r(n)})})})}var E1=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return r.some(function(a){var s=a.trim().toLowerCase();return s.charAt(0)==="."?n.toLowerCase().endsWith(s):s.endsWith("/*")?o===s.replace(/\/.*$/,""):i===s})}return!0};function JM(e){return mce(e)||pce(e)||PH(e)||hce()}function hce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mce(e){if(Array.isArray(e))return OP(e)}function YM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(r),!0).forEach(function(n){xH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xH(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eg(e,t){return yce(e)||vce(e,t)||PH(e,t)||gce()}function gce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PH(e,t){if(e){if(typeof e=="string")return OP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OP(e,t)}}function OP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function yce(e){if(Array.isArray(e))return e}var wce=typeof E1=="function"?E1:E1.default,bce="file-invalid-type",_ce="file-too-large",Ece="file-too-small",Sce="too-many-files",$ce=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:bce,message:"File type must be ".concat(n)}},QM=function(t){return{code:_ce,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},ZM=function(t){return{code:Ece,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Tce={code:Sce,message:"Too many files"};function OH(e,t){var r=e.type==="application/x-moz-file"||wce(e,t);return[r,r?null:$ce(t)]}function RH(e,t,r){if(Gc(e.size))if(Gc(t)&&Gc(r)){if(e.size>r)return[!1,QM(r)];if(e.size<t)return[!1,ZM(t)]}else{if(Gc(t)&&e.size<t)return[!1,ZM(t)];if(Gc(r)&&e.size>r)return[!1,QM(r)]}return[!0,null]}function Gc(e){return e!=null}function Ace(e){var t=e.files,r=e.accept,n=e.minSize,i=e.maxSize,o=e.multiple,a=e.maxFiles,s=e.validator;return!o&&t.length>1||o&&a>=1&&t.length>a?!1:t.every(function(l){var u=OH(l,r),f=eg(u,1),c=f[0],p=RH(l,n,i),m=eg(p,1),g=m[0],_=s?s(l):null;return c&&g&&!_})}function i_(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Xv(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function eL(e){e.preventDefault()}function xce(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Pce(e){return e.indexOf("Edge/")!==-1}function Oce(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return xce(e)||Pce(e)}function Ts(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return t.some(function(s){return!i_(n)&&s&&s.apply(void 0,[n].concat(o)),i_(n)})}}function Rce(){return"showOpenFilePicker"in window}function Ice(e){if(Gc(e)){var t=Object.entries(e).filter(function(r){var n=eg(r,2),i=n[0],o=n[1],a=!0;return IH(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(o)||!o.every(NH))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(r,n){var i=eg(n,2),o=i[0],a=i[1];return XM(XM({},r),{},xH({},o,a))},{});return[{description:"Files",accept:t}]}return e}function Nce(e){if(Gc(e))return Object.entries(e).reduce(function(t,r){var n=eg(r,2),i=n[0],o=n[1];return[].concat(JM(t),[i],JM(o))},[]).filter(function(t){return IH(t)||NH(t)}).join(",")}function kce(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Cce(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function IH(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function NH(e){return/^.*\.[\w]+$/.test(e)}var jce=["children"],Dce=["open"],Mce=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Lce=["refKey","onChange","onClick"];function Fce(e){return zce(e)||Uce(e)||kH(e)||Bce()}function Bce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zce(e){if(Array.isArray(e))return RP(e)}function S1(e,t){return Hce(e)||Vce(e,t)||kH(e,t)||qce()}function qce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kH(e,t){if(e){if(typeof e=="string")return RP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RP(e,t)}}function RP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function Hce(e){if(Array.isArray(e))return e}function tL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tL(Object(r),!0).forEach(function(n){IP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o_(e,t){if(e==null)return{};var r=Wce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var TN=De.forwardRef(function(e,t){var r=e.children,n=o_(e,jce),i=jH(n),o=i.open,a=o_(i,Dce);return De.useImperativeHandle(t,function(){return{open:o}},[o]),tt.createElement(De.Fragment,null,r(Rn(Rn({},a),{},{open:o})))});TN.displayName="Dropzone";var CH={disabled:!1,getFilesFromEvent:ice,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};TN.defaultProps=CH;TN.propTypes={children:ht.func,accept:ht.objectOf(ht.arrayOf(ht.string)),multiple:ht.bool,preventDropOnDocument:ht.bool,noClick:ht.bool,noKeyboard:ht.bool,noDrag:ht.bool,noDragEventsBubbling:ht.bool,minSize:ht.number,maxSize:ht.number,maxFiles:ht.number,disabled:ht.bool,getFilesFromEvent:ht.func,onFileDialogCancel:ht.func,onFileDialogOpen:ht.func,useFsAccessApi:ht.bool,autoFocus:ht.bool,onDragEnter:ht.func,onDragLeave:ht.func,onDragOver:ht.func,onDrop:ht.func,onDropAccepted:ht.func,onDropRejected:ht.func,onError:ht.func,validator:ht.func};var NP={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function jH(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Rn(Rn({},CH),e),r=t.accept,n=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,a=t.minSize,s=t.multiple,l=t.maxFiles,u=t.onDragEnter,f=t.onDragLeave,c=t.onDragOver,p=t.onDrop,m=t.onDropAccepted,g=t.onDropRejected,_=t.onFileDialogCancel,v=t.onFileDialogOpen,h=t.useFsAccessApi,E=t.autoFocus,y=t.preventDropOnDocument,S=t.noClick,$=t.noKeyboard,T=t.noDrag,d=t.noDragEventsBubbling,A=t.onError,x=t.validator,P=De.useMemo(function(){return Nce(r)},[r]),j=De.useMemo(function(){return Ice(r)},[r]),F=De.useMemo(function(){return typeof v=="function"?v:rL},[v]),V=De.useMemo(function(){return typeof _=="function"?_:rL},[_]),X=De.useRef(null),H=De.useRef(null),Z=De.useReducer(Gce,NP),fe=S1(Z,2),ee=fe[0],ae=fe[1],M=ee.isFocused,B=ee.isFileDialogActive,K=De.useRef(typeof window<"u"&&window.isSecureContext&&h&&Rce()),O=function(){!K.current&&B&&setTimeout(function(){if(H.current){var Ue=H.current.files;Ue.length||(ae({type:"closeDialog"}),V())}},300)};De.useEffect(function(){return window.addEventListener("focus",O,!1),function(){window.removeEventListener("focus",O,!1)}},[H,B,V,K]);var N=De.useRef([]),q=function(Ue){X.current&&X.current.contains(Ue.target)||(Ue.preventDefault(),N.current=[])};De.useEffect(function(){return y&&(document.addEventListener("dragover",eL,!1),document.addEventListener("drop",q,!1)),function(){y&&(document.removeEventListener("dragover",eL),document.removeEventListener("drop",q))}},[X,y]),De.useEffect(function(){return!n&&E&&X.current&&X.current.focus(),function(){}},[X,E,n]);var ne=De.useCallback(function(We){A?A(We):console.error(We)},[A]),J=De.useCallback(function(We){We.preventDefault(),We.persist(),Ne(We),N.current=[].concat(Fce(N.current),[We.target]),Xv(We)&&Promise.resolve(i(We)).then(function(Ue){if(!(i_(We)&&!d)){var W=Ue.length,I=W>0&&Ace({files:Ue,accept:P,minSize:a,maxSize:o,multiple:s,maxFiles:l,validator:x}),L=W>0&&!I;ae({isDragAccept:I,isDragReject:L,isDragActive:!0,type:"setDraggedFiles"}),u&&u(We)}}).catch(function(Ue){return ne(Ue)})},[i,u,ne,d,P,a,o,s,l,x]),Y=De.useCallback(function(We){We.preventDefault(),We.persist(),Ne(We);var Ue=Xv(We);if(Ue&&We.dataTransfer)try{We.dataTransfer.dropEffect="copy"}catch{}return Ue&&c&&c(We),!1},[c,d]),oe=De.useCallback(function(We){We.preventDefault(),We.persist(),Ne(We);var Ue=N.current.filter(function(I){return X.current&&X.current.contains(I)}),W=Ue.indexOf(We.target);W!==-1&&Ue.splice(W,1),N.current=Ue,!(Ue.length>0)&&(ae({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Xv(We)&&f&&f(We))},[X,f,d]),be=De.useCallback(function(We,Ue){var W=[],I=[];We.forEach(function(L){var re=OH(L,P),ye=S1(re,2),Ee=ye[0],Ce=ye[1],Re=RH(L,a,o),Le=S1(Re,2),ft=Le[0],yt=Le[1],st=x?x(L):null;if(Ee&&ft&&!st)W.push(L);else{var Ct=[Ce,yt];st&&(Ct=Ct.concat(st)),I.push({file:L,errors:Ct.filter(function(Er){return Er})})}}),(!s&&W.length>1||s&&l>=1&&W.length>l)&&(W.forEach(function(L){I.push({file:L,errors:[Tce]})}),W.splice(0)),ae({acceptedFiles:W,fileRejections:I,isDragReject:I.length>0,type:"setFiles"}),p&&p(W,I,Ue),I.length>0&&g&&g(I,Ue),W.length>0&&m&&m(W,Ue)},[ae,s,P,a,o,l,p,m,g,x]),Oe=De.useCallback(function(We){We.preventDefault(),We.persist(),Ne(We),N.current=[],Xv(We)&&Promise.resolve(i(We)).then(function(Ue){i_(We)&&!d||be(Ue,We)}).catch(function(Ue){return ne(Ue)}),ae({type:"reset"})},[i,be,ne,d]),R=De.useCallback(function(){if(K.current){ae({type:"openDialog"}),F();var We={multiple:s,types:j};window.showOpenFilePicker(We).then(function(Ue){return i(Ue)}).then(function(Ue){be(Ue,null),ae({type:"closeDialog"})}).catch(function(Ue){kce(Ue)?(V(Ue),ae({type:"closeDialog"})):Cce(Ue)?(K.current=!1,H.current?(H.current.value=null,H.current.click()):ne(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ne(Ue)});return}H.current&&(ae({type:"openDialog"}),F(),H.current.value=null,H.current.click())},[ae,F,V,h,be,ne,j,s]),C=De.useCallback(function(We){!X.current||!X.current.isEqualNode(We.target)||(We.key===" "||We.key==="Enter"||We.keyCode===32||We.keyCode===13)&&(We.preventDefault(),R())},[X,R]),D=De.useCallback(function(){ae({type:"focus"})},[]),G=De.useCallback(function(){ae({type:"blur"})},[]),ie=De.useCallback(function(){S||(Oce()?setTimeout(R,0):R())},[S,R]),ue=function(Ue){return n?null:Ue},de=function(Ue){return $?null:ue(Ue)},ve=function(Ue){return T?null:ue(Ue)},Ne=function(Ue){d&&Ue.stopPropagation()},Be=De.useMemo(function(){return function(){var We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ue=We.refKey,W=Ue===void 0?"ref":Ue,I=We.role,L=We.onKeyDown,re=We.onFocus,ye=We.onBlur,Ee=We.onClick,Ce=We.onDragEnter,Re=We.onDragOver,Le=We.onDragLeave,ft=We.onDrop,yt=o_(We,Mce);return Rn(Rn(IP({onKeyDown:de(Ts(L,C)),onFocus:de(Ts(re,D)),onBlur:de(Ts(ye,G)),onClick:ue(Ts(Ee,ie)),onDragEnter:ve(Ts(Ce,J)),onDragOver:ve(Ts(Re,Y)),onDragLeave:ve(Ts(Le,oe)),onDrop:ve(Ts(ft,Oe)),role:typeof I=="string"&&I!==""?I:"presentation"},W,X),!n&&!$?{tabIndex:0}:{}),yt)}},[X,C,D,G,ie,J,Y,oe,Oe,$,T,n]),je=De.useCallback(function(We){We.stopPropagation()},[]),nt=De.useMemo(function(){return function(){var We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ue=We.refKey,W=Ue===void 0?"ref":Ue,I=We.onChange,L=We.onClick,re=o_(We,Lce),ye=IP({accept:P,multiple:s,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ue(Ts(I,Oe)),onClick:ue(Ts(L,je)),tabIndex:-1},W,H);return Rn(Rn({},ye),re)}},[H,r,s,Oe,n]);return Rn(Rn({},ee),{},{isFocused:M&&!n,getRootProps:Be,getInputProps:nt,rootRef:X,inputRef:H,open:ue(R)})}function Gce(e,t){switch(t.type){case"focus":return Rn(Rn({},e),{},{isFocused:!0});case"blur":return Rn(Rn({},e),{},{isFocused:!1});case"openDialog":return Rn(Rn({},NP),{},{isFileDialogActive:!0});case"closeDialog":return Rn(Rn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Rn(Rn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Rn(Rn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Rn({},NP);default:return e}}function rL(){}const nL=({onUndo:e,onRedo:t})=>{const r=De.useContext(bn),n=r.parsedTD,i=["id","properties","actions","events","forms","description","title","links"],o=tt.useRef(),a=()=>{var m;(m=o.current)==null||m.openModal()},s=De.useCallback(m=>{const g=m[0],_=new FileReader;_.onabort=()=>console.error("File reading  - aborted"),_.onerror=()=>console.error("File reading - failed"),_.onload=()=>{const v={td:_.result,fileName:g.name,fileHandle:g};try{let h={};h[v.fileName]=v.fileHandle,r.updateOfflineTD(v.td),r.updateIsModified(!1),r.setFileHandle(v.fileName),r.updateLinkedTd(void 0),r.addLinkedTd(h)}catch(h){console.error("File processing:",h)}},_.readAsText(g)},[r]),{getRootProps:l,getInputProps:u,isDragActive:f}=jH({onDrop:s,accept:{"application/json":[".json"],"application/ld+json":[".jsonld"]},noClick:!0,maxFiles:1,maxSize:10*1024*1024});if(!r.offlineTD)return ce.jsxs("div",{...l(),className:"align-center flex h-full w-full justify-center justify-items-center bg-gray-500 text-center",children:[ce.jsx("input",{...u()}),f?ce.jsx("div",{className:"place-self-center text-4xl text-white",children:ce.jsx("p",{children:"Drop the files here ..."})}):ce.jsxs("div",{className:"place-self-center text-4xl text-white",children:['Start writing a new TD by clicking "Create"',ce.jsx("p",{children:"or drag and drop .json file here"}),ce.jsx("div",{className:"pt-4",children:ce.jsx("p",{className:"text-xl text-gray-600",children:"For linux operating systems, it is necessary to give the necessary file permissions. Run sudo xdg-open /path/to/the/folder"})})]})]});let c;n.forms&&(c=k_(n.forms).map((g,_)=>ce.jsx(cE,{form:g,propName:_},_)));const p=N_(n.id?{id:n.id}:{},n,i);return ce.jsxs("div",{className:"h-full w-full overflow-auto bg-gray-500 p-6",children:[ce.jsx(hie,{onUndo:e,onRedo:t}),n!==void 0&&Object.keys(n).length>0&&ce.jsxs("div",{children:[ce.jsx("div",{className:"text-3xl text-white",children:n.title?J$(n,"title",n["@context"]):ce.jsx(ce.Fragment,{})}),n.description?ce.jsx("div",{className:"pt-4 text-xl text-white",children:J$(n,"description",n["@context"])}):ce.jsx(ce.Fragment,{}),ce.jsx("div",{className:"pt-4",children:ce.jsx(nV,{...p})})]}),ce.jsxs("details",{className:"pt-8",children:[ce.jsxs("summary",{className:"flex cursor-pointer items-center justify-start",children:[ce.jsx("div",{className:"flex flex-grow",children:ce.jsx(Rl,{tooltip:gg(),id:"forms",children:ce.jsx("h2",{className:"flex-grow p-1 text-2xl text-white",children:"Forms"})})}),ce.jsx("button",{className:"cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",onClick:a,children:"Add Top Level Form"}),ce.jsx(C_,{type:"thing",interaction:n,ref:o})]}),c&&ce.jsx("div",{className:"pt-4",children:ce.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",children:c})})]}),ce.jsx(ece,{}),ce.jsx(ZS,{interaction:"Properties"}),ce.jsx(ZS,{interaction:"Actions"}),ce.jsx(ZS,{interaction:"Events"}),ce.jsx("div",{className:"h-10"})]})},Kce=e=>{const t=De.useContext(bn),r=Jce(t.offlineTD.length);let n=0,i=0,o=0;if(Object.keys(t.parsedTD).length!==0){const a=t.parsedTD;n=a.properties?Object.keys(a.properties).length:0,i=a.actions?Object.keys(a.actions).length:0,o=a.events?Object.keys(a.events).length:0}return ce.jsx(ce.Fragment,{children:ce.jsx("footer",{className:"flex h-10 flex-col justify-center bg-blue-500 text-white",children:ce.jsxs("div",{className:"flex items-center px-2",children:[ce.jsxs("div",{className:"hidden grow items-center gap-2 md:flex",children:[ce.jsxs("div",{children:["Properties: ",n]}),ce.jsxs("div",{children:["| Actions: ",i]}),ce.jsxs("div",{children:["| Events: ",o]}),ce.jsxs("div",{children:["| Size: ",r]})]}),ce.jsxs("div",{className:"flex grow gap-2 md:hidden",children:[ce.jsxs("div",{children:["P: ",n]}),ce.jsxs("div",{children:["| A: ",i]}),ce.jsxs("div",{children:["| E: ",o]}),ce.jsxs("div",{className:"flex",children:[ce.jsxs("div",{children:["| ",r]}),t.isModified&&ce.jsx("div",{className:"md:hidden",children:"*"})]})]}),ce.jsxs("div",{className:"flex items-center gap-2",children:[t.isModified&&ce.jsx("div",{className:"hidden md:block",children:"You have unsaved changes - "}),ce.jsxs("div",{children:["v","0.7.0"]}),ce.jsx("a",{className:"rounded-full bg-black p-2",href:"https://github.com/eclipse/editdor",target:"_blank",rel:"noopener noreferrer",children:ce.jsx(nR,{size:16})})]})]})})})};function Jce(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(3)+" KiB":e<1073741824?(e/1048576).toFixed(3)+" MiB":(e/1073741824).toFixed(3)+" GiB"}const Yce=""+new URL("editdor-Cn4ts1-9.png",import.meta.url).href,DH="target-url",MH=()=>{const e=localStorage.getItem(DH);return e===null?"":e},Xce=e=>{e!=""&&!e.endsWith("/")&&(e=e+"/"),localStorage.setItem(DH,e)},Qce=async(e,t)=>{const r=encodeURIComponent(e.id),n=await fetch(`${t}things/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(n.status===400||n.status===500){const i=await n.json();throw Error(i.error)}return n.status},Zce=async(e,t)=>{const r=await fetch(`${t}things`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.status===400||r.status===500){const n=await r.json();throw Error(n.error)}return r.status},efe=async(e,t)=>{const r=encodeURIComponent(e),n=await fetch(`${t}things/${r}`,{method:"GET",headers:{"Content-Type":"application/json"}}),i=await n.json();if(n.status===404||n.status===500)throw Error(i.error);return i},tfe=De.forwardRef((e,t)=>{const r=De.useContext(bn),[n,i]=tt.useState([]),[o,a]=tt.useState(()=>!1);De.useEffect(()=>{i(rfe(r.offlineTD))},[r]),De.useImperativeHandle(t,()=>({openModal:()=>s(),close:()=>l()}));const s=()=>{a(!0)},l=()=>{a(!1)};return o?zl.createPortal(ce.jsx(ql,{onCancel:l,onSubmit:()=>nfe(r.offlineTD,n),submitText:"Generate TD",children:n,title:"Generate TD From TM",description:"Please provide values to switch the placeholders with."}),document.getElementById("modal-root")):null}),rfe=e=>{try{let t=/{{/gi,r,n=[];for(;r=t.exec(e);)n.push(r.index);t=/}}/gi;let i=[];for(;r=t.exec(e);)i.push(r.index);let o=[];for(let c=0;c<n.length;c++)o.push(e.slice(n[c]+2,i[c]));o=[...new Set(o)];const a=o.map(c=>ce.jsxs("div",{className:"py-1",children:[ce.jsxs("label",{htmlFor:c,className:"pl-2 text-sm font-medium text-gray-400",children:[c,":"]}),ce.jsx("input",{type:"text",name:c,id:c,className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"Enter a value..."})]},c));let s=[],l=[],u=[];try{let c=function(h,E){return E.map(y=>{const S=v[h].includes(y);return ce.jsxs("div",{className:"form-checkbox py-1 pl-2",children:[ce.jsx("input",{id:`${h}/${y}`,className:"form-checkbox-input",type:"checkbox",value:`#${h}/${y}`,disabled:S,defaultChecked:!0,title:S?"This field is required by the TM.":"","data-interaction":h}),ce.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:`${h}/${y}`,children:`#${h}/${y}`})]},`${h}/${y}`)})};const p=JSON.parse(e),m=Object.keys(p.properties?p.properties:{}),g=Object.keys(p.actions?p.actions:{}),_=Object.keys(p.events?p.events:{}),v={properties:[],actions:[],events:[]};if(p["tm:required"])for(const h of p["tm:required"])h.startsWith("#properties/")?v.properties.push(h.split("/")[1]):h.startsWith("#actions/")?v.actions.push(h.split("/")[1]):h.startsWith("#events/")&&v.events.push(h.split("/")[1]);s=c("properties",m),l=c("actions",g),u=c("events",_)}catch{}const f=ce.jsx("h2",{className:"pb-2 pt-4 text-gray-400",children:"Also, select/unselect the interaction affordances you would like to see in the new TD."},"modalDividerText");return[...a,f,...s,...l,...u]}catch(t){return console.log(t),[]}},nfe=(e,t)=>{let r={};const n=[],i=[],o=[];for(const s of t)s.props.className.indexOf("form-checkbox")>-1&&document.getElementById(s.props.children[0].props.id).checked&&(s.props.children[0].props["data-interaction"]==="properties"?n.push(s.key.split("/")[1]):s.props.children[0].props["data-interaction"]==="actions"?i.push(s.key.split("/")[1]):s.props.children[0].props["data-interaction"]==="events"&&o.push(s.key.split("/")[1]));t=t.filter(s=>s.props.className.indexOf("form-checkbox")===-1&&s.key!=="modalDividerText"),t.forEach(s=>{const l=document.getElementById(s.key);return r[s.key]=l.value,l.value}),Object.keys(r).forEach(s=>{if(isNaN(Number(r[s])))e=e.split(`{{${s}}}`).join(r[s]);else{let l=e.split(`"{{${s}}}"`);l.length===1&&(l=e.split(`{{${s}}}`)),e=l.join(r[s])}});const a=JSON.parse(e);if(a.properties){const s=Object.keys(a.properties).filter(l=>n.includes(l)).reduce((l,u)=>(l[u]=a.properties[u],l),{});a.properties=s}if(a.actions){const s=Object.keys(a.actions).filter(l=>i.includes(l)).reduce((l,u)=>(l[u]=a.actions[u],l),{});a.actions=s}if(a.events){const s=Object.keys(a.events).filter(l=>o.includes(l)).reduce((l,u)=>(l[u]=a.events[u],l),{});a.events=s}delete a["@type"],delete a["tm:required"],localStorage.setItem("td",JSON.stringify(a,null,2)),window.open(`${window.location.origin+window.location.pathname}?localstorage`,"_blank")},ife=(e,t=!0,r)=>{const n=e.split(`
`).map(i=>i.trim()).filter(i=>i.length>0);if(t){const i=n[0].split(r).map(o=>o.trim());return n.slice(1).map(o=>{const a=o.split(r).map(s=>s.trim());return i.reduce((s,l,u)=>(s[l]=a[u],s),{})})}else throw new Error("CSV parsing without headers is not supported")},ofe=e=>({...e.type?{type:e.type}:{},readOnly:!0,...e.title?{title:e.title}:{},...e.description?{description:e.description}:{},...e.minimum?{minimum:Number(e.minimum)}:{},...e.maximum?{maximum:Number(e.maximum)}:{},...e.unit?{unit:e.unit}:{},forms:[{op:"readproperty",href:e.href??"/","modbus:unitID":Number(e["modbus:unitID"])??1,"modbus:address":Number(e["modbus:address"]),"modbus:quantity":Number(e["modbus:quantity"])??1,...e["modbus:type"]?{"modbus:type":e["modbus:type"]}:{},"modbus:zeroBasedAddressing":!!e["modbus:zeroBasedAddressing"],"modbus:entity":e["modbus:entity"],...e["modbus:pollingTime"]?{"modbus:pollingTime":e["modbus:pollingTime"]}:{},...e["modbus:function"]?{"modbus:function":e["modbus:function"]}:{},"modbus:mostSignificantByte":!!e["modbus:mostSignificantByte"],"modbus:mostSignificantWord":!!e["modbus:mostSignificantWord"],...e["modbus:timeout"]?{"modbus:timeout":e["modbus:timeout"]}:{}}]}),afe=e=>e.reduce((t,r)=>{if(!r.name||r.name.trim()==="")throw new Error("Error on CSV file: Row name is required");if(!r["modbus:address"]||r["modbus:address"].trim()==="")throw new Error(`Error on CSV file: "modbus:address" value is required for row: "${r.name}"`);if(!r["modbus:entity"]||r["modbus:entity"].trim()==="")throw new Error(`Error on CSV file: "modbus:entity" value is required for row: "${r.name}"`);return t[r.name]=ofe(r),t},{}),sfe=De.forwardRef((e,t)=>{const r=De.useContext(bn),[n,i]=tt.useState(()=>!1),[o,a]=tt.useState("TD"),[s,l]=tt.useState({}),[u,f]=tt.useState(""),[c,p]=tt.useState("Modbus TCP"),m=tt.useRef(null);De.useImperativeHandle(t,()=>({openModal:()=>g(),close:()=>_()}));const g=()=>{i(!0)},_=()=>{f(""),p("Modbus TCP"),l({}),i(!1)},h=lfe(E=>{a(E.target.value)},o,c,p,u,f,m,l);return n?zl.createPortal(ce.jsx(ql,{onCancel:_,onSubmit:()=>{let E=ufe(o,s),y={};y[E.title]=E,r.updateLinkedTd(void 0),r.addLinkedTd(y),r.updateOfflineTD(JSON.stringify(E,null,2)),_()},children:h,submitText:o==="TD"?"Create TD":"Create TM",title:"Create a New TD/TM",description:"To quickly create a basis for your new Thing Description/Thing Model just fill out this little template and we'll get you going."}),document.getElementById("modal-root")):null}),lfe=(e,t,r,n,i,o,a,s)=>{const l=c=>{const p=c.target.files[0];if(p){o(p.name);const m=new FileReader;m.onload=g=>{const _=g.target.result,v=ife(_,!0,",");let h={};try{if(h=afe(v),Object.keys(h).length===0)throw new Error("No valid properties found in the CSV file.")}catch(E){alert(E.message)}s(h)},m.onerror=g=>{alert("Reading file:",g.target.error)},m.readAsText(p)}},u=()=>{a.current&&a.current.click()},f=()=>{const c="name,title,description,type,minimum,maximum,unit,href,modbus:unitID,modbus:address,modbus:quantity,modbus:type,modbus:zeroBasedAddressing,modbus:entity,modbus:pollingTime,modbus:function,modbus:mostSignificantByte,modbus:mostSignificantWord,modbus:timeout",p=new Blob([c],{type:"text/csv;charset=utf-8;"}),m=URL.createObjectURL(p),g=document.createElement("a");g.href=m,g.setAttribute("download","modbus_tcp_properties_template.csv"),document.body.appendChild(g),g.click(),document.body.removeChild(g)};return ce.jsxs(ce.Fragment,{children:[ce.jsx("label",{htmlFor:"type",className:"pl-2 text-sm font-medium text-gray-400",children:"Type:"}),ce.jsxs("div",{className:"relative",children:[ce.jsxs("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:"type",onChange:e,value:t,children:[ce.jsx("option",{value:"TD",children:"Thing Description"}),ce.jsx("option",{value:"TM",children:"Thing Model"})]}),ce.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:ce.jsx(cf,{color:"#cacaca"})})]}),$1("ID","urn:thing-id","thing-id","url","autoFocus"),$1("Title","Thing Title","thing-title","text"),$1("Base","http://www.example.com/thing-path","thing-base","url"),ce.jsx("label",{htmlFor:"thing-description",className:"pl-2 text-sm font-medium text-gray-400",children:"Description:"}),ce.jsx("textarea",{id:"thing-description",rows:"5",className:"w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"A short description about this new Thing..."}),ce.jsx("label",{htmlFor:"thing-security",className:"pl-2 text-sm font-medium text-gray-400",children:"Security:"}),ce.jsxs("div",{className:"relative mb-8",children:[ce.jsxs("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:"thing-security",children:[ce.jsx("option",{children:"nosec"}),ce.jsx("option",{children:"basic"}),ce.jsx("option",{children:"digest"}),ce.jsx("option",{children:"bearer"}),ce.jsx("option",{children:"psk"}),ce.jsx("option",{children:"oauth2"}),ce.jsx("option",{children:"apikey"})]}),ce.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:ce.jsx(cf,{color:"#cacaca"})})]}),ce.jsx("div",{className:"pt-2",children:ce.jsx("label",{htmlFor:"submit-csv",className:"pl-2 text-sm font-medium text-gray-400",children:"Add properties in CSV format:"})}),ce.jsxs("div",{className:"flex justify-between rounded border-2 border-gray-600",children:[ce.jsxs("div",{className:"flex justify-between",children:[ce.jsxs("div",{className:"flex items-center p-2",children:[ce.jsx("label",{htmlFor:"protocol-option",className:"pl-2 pr-2 text-lg text-gray-400",children:"Protocol:"}),ce.jsxs("div",{className:"relative",children:[ce.jsxs("select",{id:"protocol-option",className:"block appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-2 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",value:r,onChange:c=>n(c.target.value),children:[ce.jsx("option",{children:"Modbus TCP"}),ce.jsx("option",{disabled:!0,children:"More protocols will be supported in the future"})]}),ce.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:ce.jsx(cf,{color:"#cacaca"})})]})]}),ce.jsx("div",{className:"flex items-center",children:ce.jsx("button",{id:"download-template",className:"rounded border-2 border-gray-600 bg-blue-500 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none",onClick:f,children:"Download CSV Template"})})]}),ce.jsxs("div",{className:"ml-2 mr-2 flex items-center",children:[ce.jsx("input",{type:"file",accept:".csv",ref:a,onChange:l,style:{display:"none"}}),ce.jsx("button",{id:"submit-csv",className:"rounded border-2 border-gray-600 bg-blue-500 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none",onClick:u,children:"Load a CSV File"}),ce.jsx("div",{className:"",children:ce.jsx("p",{className:"pl-2",children:i||"No file selected"})})]})]})]})},$1=(e,t,r,n,i)=>ce.jsxs("div",{className:"py-1",children:[ce.jsxs("label",{htmlFor:r,className:"pl-2 text-sm font-medium text-gray-400",children:[e,":"]}),ce.jsx("input",{name:r,id:r,className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:t,type:n,autoFocus:i==="autoFocus"})]},r),ufe=(e,t)=>{let r=document.getElementById("thing-id").value,n=document.getElementById("thing-title").value,i=document.getElementById("thing-base").value,o=document.getElementById("thing-description").value,a=document.getElementById("thing-security").value;var s={};s["@context"]="https://www.w3.org/2019/wot/td/v1",s.title=n!==""?n:"ediTDor Thing",e==="TM"&&(s["@type"]="tm:ThingModel"),r!==""&&(s.id=r!==""?r:"urn:editdor-thing-id"),i!==""&&(s.base=i!==""?i:"/"),o!==""&&(s.description=o);let l={};return l[`${a}_sc`]={scheme:a},s.securityDefinitions=l,s.security=`${a}_sc`,s.properties=t,s.actions={},s.events={},s},cfe=De.forwardRef((e,t)=>{const[r,n]=tt.useState(!1),[i,o]=tt.useState("");De.useImperativeHandle(t,()=>({openModal:()=>a(),close:()=>s()}));const a=()=>{n(!0),o(MH())},s=()=>{n(!1)};let l=ce.jsxs(ce.Fragment,{children:[ce.jsx("label",{className:"pl-2 text-sm font-medium text-gray-400",children:"Target URL:"}),ce.jsx("input",{type:"text",name:"settings-target-url-field",id:"settings-target-url-field",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",value:i,onChange:u=>o(u.target.value),placeholder:"http://localhost:8080/"}),ce.jsx("p",{className:"pl-2 text-sm text-gray-400",children:"The target url should point to a server that implements the Discovery Specifications's Things API. If a valid target url is provided, the ediTDor automatically uses it to save your changes. Empty this field to simply save files to disk."})]});return r?zl.createPortal(ce.jsx(ql,{hasSubmit:!0,onCancel:s,cancelText:"Cancel",submitText:"Save Changes",onSubmit:()=>{Xce(i),s()},children:l,title:"Settings",description:"Change the ediTDors configuration to your needs. More configuration options are yet to come..."}),document.getElementById("modal-root")):null});var LH={},AN=class FH{constructor(t,r=new Map,n=0){this.prefix=t,this._existing=r,this.counter=n}clone(){const{prefix:t,_existing:r,counter:n}=this;return new FH(t,new Map(r),n)}getId(t){const r=t&&this._existing.get(t);if(r)return r;const n=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,n),n}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}};(function(e,t){if(e.setImmediate)return;var r=1,n={},i=!1,o=e.document,a;function s(E){typeof E!="function"&&(E=new Function(""+E));for(var y=new Array(arguments.length-1),S=0;S<y.length;S++)y[S]=arguments[S+1];var $={callback:E,args:y};return n[r]=$,a(r),r++}function l(E){delete n[E]}function u(E){var y=E.callback,S=E.args;switch(S.length){case 0:y();break;case 1:y(S[0]);break;case 2:y(S[0],S[1]);break;case 3:y(S[0],S[1],S[2]);break;default:y.apply(t,S);break}}function f(E){if(i)setTimeout(f,0,E);else{var y=n[E];if(y){i=!0;try{u(y)}finally{l(E),i=!1}}}}function c(){a=function(E){process.nextTick(function(){f(E)})}}function p(){if(e.postMessage&&!e.importScripts){var E=!0,y=e.onmessage;return e.onmessage=function(){E=!1},e.postMessage("","*"),e.onmessage=y,E}}function m(){var E="setImmediate$"+Math.random()+"$",y=function(S){S.source===e&&typeof S.data=="string"&&S.data.indexOf(E)===0&&f(+S.data.slice(E.length))};e.addEventListener?e.addEventListener("message",y,!1):e.attachEvent("onmessage",y),a=function(S){e.postMessage(E+S,"*")}}function g(){var E=new MessageChannel;E.port1.onmessage=function(y){var S=y.data;f(S)},a=function(y){E.port2.postMessage(y)}}function _(){var E=o.documentElement;a=function(y){var S=o.createElement("script");S.onreadystatechange=function(){f(y),S.onreadystatechange=null,E.removeChild(S),S=null},E.appendChild(S)}}function v(){a=function(E){setTimeout(f,0,E)}}var h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,{}.toString.call(e.process)==="[object process]"?c():p()?m():e.MessageChannel?g():o&&"onreadystatechange"in o.createElement("script")?_():v(),h.setImmediate=s,h.clearImmediate=l})(typeof self>"u"?xa:self);/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const T1=self.crypto||self.msCrypto;var DE=class{constructor(t){if(!(T1&&T1.subtle))throw new Error("crypto.subtle not found.");if(t==="sha256")this.algorithm={name:"SHA-256"};else if(t==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${t}".`);this._content=""}update(t){this._content+=t}async digest(){const t=new TextEncoder().encode(this._content),r=new Uint8Array(await T1.subtle.digest(this.algorithm,t));let n="";for(let i=0;i<r.length;++i)n+=r[i].toString(16).padStart(2,"0");return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var BH=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let r=0;r<t.length;++r)this.dir.set(t[r],!0)}hasNext(){return!this.done}next(){const{current:t,dir:r}=this,n=t.slice();let i=null,o=0;const a=t.length;for(let s=0;s<a;++s){const l=t[s],u=r.get(l);(i===null||l>i)&&(u&&s>0&&l>t[s-1]||!u&&s<a-1&&l>t[s+1])&&(i=l,o=s)}if(i===null)this.done=!0;else{const s=r.get(i)?o-1:o+1;t[o]=t[s],t[s]=i;for(const l of t)l>i&&r.set(l,!r.get(l))}return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const ffe="http://www.w3.org/1999/02/22-rdf-syntax-ns#",A1=ffe+"langString",x1="http://www.w3.org/2001/XMLSchema#string",Ha="NamedNode",Nc="BlankNode",jw="Literal",iL="DefaultGraph",uh={};(()=>{const e="(?:<([^:]+:[^>]*)>)",r="A-Za-z-----------"+"_",n=r+"0-9---",o="(_:(?:["+r+"0-9])(?:(?:["+n+".])*(?:["+n+"]))?)",a='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',s="(?:\\^\\^"+e+")",u="(?:"+a+"(?:"+s+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",f="[ \\t]+",c="[ \\t]*",p="(?:"+e+"|"+o+")"+f,m=e+f,g="(?:"+e+"|"+o+"|"+u+")"+c,_="(?:\\.|(?:(?:"+e+"|"+o+")"+c+"\\.))";uh.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,uh.empty=new RegExp("^"+c+"$"),uh.quad=new RegExp("^"+c+p+m+g+_+c+"$")})();var xN=class Dw{static parse(t){const r=[],n={},i=t.split(uh.eoln);let o=0;for(const a of i){if(o++,uh.empty.test(a))continue;const s=a.match(uh.quad);if(s===null)throw new Error("N-Quads parse error on line "+o+".");const l={subject:null,predicate:null,object:null,graph:null};if(s[1]!==void 0?l.subject={termType:Ha,value:s[1]}:l.subject={termType:Nc,value:s[2]},l.predicate={termType:Ha,value:s[3]},s[4]!==void 0?l.object={termType:Ha,value:s[4]}:s[5]!==void 0?l.object={termType:Nc,value:s[5]}:(l.object={termType:jw,value:void 0,datatype:{termType:Ha}},s[7]!==void 0?l.object.datatype.value=s[7]:s[8]!==void 0?(l.object.datatype.value=A1,l.object.language=s[8]):l.object.datatype.value=x1,l.object.value=gfe(s[6])),s[9]!==void 0?l.graph={termType:Ha,value:s[9]}:s[10]!==void 0?l.graph={termType:Nc,value:s[10]}:l.graph={termType:iL,value:""},!(l.graph.value in n))n[l.graph.value]=[l],r.push(l);else{let u=!0;const f=n[l.graph.value];for(const c of f)if(dfe(c,l)){u=!1;break}u&&(f.push(l),r.push(l))}}return r}static serialize(t){Array.isArray(t)||(t=Dw.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(Dw.serializeQuad(n));return r.sort().join("")}static serializeQuadComponents(t,r,n,i){let o="";return t.termType===Ha?o+=`<${t.value}>`:o+=`${t.value}`,o+=` <${r.value}> `,n.termType===Ha?o+=`<${n.value}>`:n.termType===Nc?o+=n.value:(o+=`"${pfe(n.value)}"`,n.datatype.value===A1?n.language&&(o+=`@${n.language}`):n.datatype.value!==x1&&(o+=`^^<${n.datatype.value}>`)),i.termType===Ha?o+=` <${i.value}>`:i.termType===Nc&&(o+=` ${i.value}`),o+=` .
`,o}static serializeQuad(t){return Dw.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(t){const r=[],n={"blank node":Nc,IRI:Ha,literal:jw};for(const i in t)t[i].forEach(a=>{const s={};for(const l in a){const u=a[l],f={termType:n[u.type],value:u.value};f.termType===jw&&(f.datatype={termType:Ha},"datatype"in u&&(f.datatype.value=u.datatype),"language"in u?("datatype"in u||(f.datatype.value=A1),f.language=u.language):"datatype"in u||(f.datatype.value=x1)),s[l]=f}i==="@default"?s.graph={termType:iL,value:""}:s.graph={termType:i.startsWith("_:")?Nc:Ha,value:i},r.push(s)});return r}};function dfe(e,t){return!(e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType)||!(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value)?!1:e.object.termType!==jw?!0:e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value}const hfe=/["\\\n\r]/g;function pfe(e){return e.replace(hfe,function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const mfe=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function gfe(e){return e.replace(mfe,function(t,r,n,i){if(r)switch(r){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(i)throw new Error("Unsupported U escape")})}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const oL=AN,vfe=DE,yfe=BH,aL=xN;var UH=class{constructor({createMessageDigest:t=()=>new vfe("sha256"),canonicalIdMap:r=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new oL("_:c14n",r),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}async main(t){this.deepIterations=new Map,this.quads=t;for(const l of t)this._addBlankNodeQuadInfo({quad:l,component:l.subject}),this._addBlankNodeQuadInfo({quad:l,component:l.object}),this._addBlankNodeQuadInfo({quad:l,component:l.graph});const r=new Map,n=[...this.blankNodeInfo.keys()];let i=0;for(const l of n)++i%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:l,hashToBlankNodes:r});const o=[...r.keys()].sort(),a=[];for(const l of o){const u=r.get(l);if(u.length>1){a.push(u);continue}const f=u[0];this.canonicalIssuer.getId(f)}for(const l of a){const u=[];for(const f of l){if(this.canonicalIssuer.hasId(f))continue;const c=new oL("_:b");c.getId(f);const p=await this.hashNDegreeQuads(f,c);u.push(p)}u.sort(wfe);for(const f of u){const c=f.issuer.getOldIds();for(const p of c)this.canonicalIssuer.getId(p)}}const s=[];for(const l of this.quads){const u=aL.serializeQuadComponents(this._componentWithCanonicalId(l.subject),l.predicate,this._componentWithCanonicalId(l.object),this._componentWithCanonicalId(l.graph));s.push(u)}return s.sort(),s.join("")}async hashFirstDegreeQuads(t){const r=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const a of i){const s={subject:null,predicate:a.predicate,object:null,graph:null};s.subject=this.modifyFirstDegreeComponent(t,a.subject,"subject"),s.object=this.modifyFirstDegreeComponent(t,a.object,"object"),s.graph=this.modifyFirstDegreeComponent(t,a.graph,"graph"),r.push(aL.serializeQuad(s))}r.sort();const o=this.createMessageDigest();for(const a of r)o.update(a);return n.hash=await o.digest(),n.hash}async hashRelatedBlankNode(t,r,n,i){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):n.hasId(t)?o=n.getId(t):o=this.blankNodeInfo.get(t).hash;const a=this.createMessageDigest();return a.update(i),i!=="g"&&a.update(this.getRelatedPredicate(r)),a.update(o),a.digest()}async hashNDegreeQuads(t,r){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const i=this.createMessageDigest(),o=await this.createHashToRelated(t,r),a=[...o.keys()].sort();for(const s of a){i.update(s);let l="",u;const f=new yfe(o.get(s));let c=0;for(;f.hasNext();){const p=f.next();++c%3===0&&await this._yield();let m=r.clone(),g="";const _=[];let v=!1;for(const h of p)if(this.canonicalIssuer.hasId(h)?g+=this.canonicalIssuer.getId(h):(m.hasId(h)||_.push(h),g+=m.getId(h)),l.length!==0&&g>l){v=!0;break}if(!v){for(const h of _){const E=await this.hashNDegreeQuads(h,m);if(g+=m.getId(h),g+=`<${E.hash}>`,m=E.issuer,l.length!==0&&g>l){v=!0;break}}v||(l.length===0||g<l)&&(l=g,u=m)}}i.update(l),r=u}return{hash:await i.digest(),issuer:r}}modifyFirstDegreeComponent(t,r){return r.termType!=="BlankNode"?r:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}async createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;let o=0;for(const a of i)++o%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:a,component:a.subject,position:"s",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:a,component:a.object,position:"o",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:a,component:a.graph,position:"g",id:t,issuer:r,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:t,hashToBlankNodes:r}){const n=await this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:r}){if(r.termType!=="BlankNode")return;const n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash({quad:t,component:r,position:n,id:i,issuer:o,hashToRelated:a}){if(!(r.termType==="BlankNode"&&r.value!==i))return;const s=r.value,l=await this.hashRelatedBlankNode(s,t,o,n),u=a.get(l);u?u.push(s):a.set(l,[s])}_componentWithCanonicalId(t){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}async _yield(){return new Promise(t=>setImmediate(t))}};function wfe(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const bfe=DE,_fe=UH;var Efe=class extends _fe{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new bfe("sha1")}modifyFirstDegreeComponent(t,r,n){return r.termType!=="BlankNode"?r:n==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}async createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;let o=0;for(const a of i){let s,l;if(a.subject.termType==="BlankNode"&&a.subject.value!==t)l=a.subject.value,s="p";else if(a.object.termType==="BlankNode"&&a.object.value!==t)l=a.object.value,s="r";else continue;++o%100===0&&await this._yield();const u=await this.hashRelatedBlankNode(l,a,r,s),f=n.get(u);f?f.push(l):n.set(u,[l])}return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const sL=AN,Sfe=DE,$fe=BH,lL=xN;var zH=class{constructor({createMessageDigest:t=()=>new Sfe("sha256"),canonicalIdMap:r=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new sL("_:c14n",r),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(const s of t)this._addBlankNodeQuadInfo({quad:s,component:s.subject}),this._addBlankNodeQuadInfo({quad:s,component:s.object}),this._addBlankNodeQuadInfo({quad:s,component:s.graph});const r=new Map,n=[...this.blankNodeInfo.keys()];for(const s of n)this._hashAndTrackBlankNode({id:s,hashToBlankNodes:r});const i=[...r.keys()].sort(),o=[];for(const s of i){const l=r.get(s);if(l.length>1){o.push(l);continue}const u=l[0];this.canonicalIssuer.getId(u)}for(const s of o){const l=[];for(const u of s){if(this.canonicalIssuer.hasId(u))continue;const f=new sL("_:b");f.getId(u);const c=this.hashNDegreeQuads(u,f);l.push(c)}l.sort(Tfe);for(const u of l){const f=u.issuer.getOldIds();for(const c of f)this.canonicalIssuer.getId(c)}}const a=[];for(const s of this.quads){const l=lL.serializeQuadComponents(this._componentWithCanonicalId({component:s.subject}),s.predicate,this._componentWithCanonicalId({component:s.object}),this._componentWithCanonicalId({component:s.graph}));a.push(l)}return a.sort(),a.join("")}hashFirstDegreeQuads(t){const r=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const a of i){const s={subject:null,predicate:a.predicate,object:null,graph:null};s.subject=this.modifyFirstDegreeComponent(t,a.subject,"subject"),s.object=this.modifyFirstDegreeComponent(t,a.object,"object"),s.graph=this.modifyFirstDegreeComponent(t,a.graph,"graph"),r.push(lL.serializeQuad(s))}r.sort();const o=this.createMessageDigest();for(const a of r)o.update(a);return n.hash=o.digest(),n.hash}hashRelatedBlankNode(t,r,n,i){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):n.hasId(t)?o=n.getId(t):o=this.blankNodeInfo.get(t).hash;const a=this.createMessageDigest();return a.update(i),i!=="g"&&a.update(this.getRelatedPredicate(r)),a.update(o),a.digest()}hashNDegreeQuads(t,r){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const i=this.createMessageDigest(),o=this.createHashToRelated(t,r),a=[...o.keys()].sort();for(const s of a){i.update(s);let l="",u;const f=new $fe(o.get(s));for(;f.hasNext();){const c=f.next();let p=r.clone(),m="";const g=[];let _=!1;for(const v of c)if(this.canonicalIssuer.hasId(v)?m+=this.canonicalIssuer.getId(v):(p.hasId(v)||g.push(v),m+=p.getId(v)),l.length!==0&&m>l){_=!0;break}if(!_){for(const v of g){const h=this.hashNDegreeQuads(v,p);if(m+=p.getId(v),m+=`<${h.hash}>`,p=h.issuer,l.length!==0&&m>l){_=!0;break}}_||(l.length===0||m<l)&&(l=m,u=p)}}i.update(l),r=u}return{hash:i.digest(),issuer:r}}modifyFirstDegreeComponent(t,r){return r.termType!=="BlankNode"?r:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const o of i)this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:t,issuer:r,hashToRelated:n});return n}_hashAndTrackBlankNode({id:t,hashToBlankNodes:r}){const n=this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:r}){if(r.termType!=="BlankNode")return;const n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:r,position:n,id:i,issuer:o,hashToRelated:a}){if(!(r.termType==="BlankNode"&&r.value!==i))return;const s=r.value,l=this.hashRelatedBlankNode(s,t,o,n),u=a.get(l);u?u.push(s):a.set(l,[s])}_componentWithCanonicalId({component:t}){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}};function Tfe(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const Afe=DE,xfe=zH;var Pfe=class extends xfe{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new Afe("sha1")}modifyFirstDegreeComponent(t,r,n){return r.termType!=="BlankNode"?r:n==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const o of i){let a,s;if(o.subject.termType==="BlankNode"&&o.subject.value!==t)s=o.subject.value,a="p";else if(o.object.termType==="BlankNode"&&o.object.value!==t)s=o.object.value,a="r";else continue;const l=this.hashRelatedBlankNode(s,o,r,a),u=n.get(l);u?u.push(s):n.set(l,[s])}return n}};const Ofe={},Rfe=Object.freeze(Object.defineProperty({__proto__:null,default:Ofe},Symbol.toStringTag,{value:"Module"})),Ife=tO(Rfe);(function(e){const t=UH,r=Efe,n=zH,i=Pfe;let o;try{o=Ife}catch{}function a(s){return Array.isArray(s)?s:e.NQuads.legacyDatasetToQuads(s)}e.NQuads=xN,e.IdentifierIssuer=AN,e._rdfCanonizeNative=function(s){return s&&(o=s),o},e.canonize=async function(s,l){const u=a(s);if(l.useNative){if(!o)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((f,c)=>o.canonize(u,l,(p,m)=>p?c(p):f(m)))}if(l.algorithm==="URDNA2015")return new t(l).main(u);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new r(l).main(u)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},e._canonizeSync=function(s,l){const u=a(s);if(l.useNative){if(!o)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return o.canonizeSync(u,l)}if(l.algorithm==="URDNA2015")return new n(l).main(u);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new i(l).main(u)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(LH);var PN=LH;const Ca={};var ra=Ca;Ca.isArray=Array.isArray;Ca.isBoolean=e=>typeof e=="boolean"||Object.prototype.toString.call(e)==="[object Boolean]";Ca.isDouble=e=>Ca.isNumber(e)&&(String(e).indexOf(".")!==-1||Math.abs(e)>=1e21);Ca.isEmptyObject=e=>Ca.isObject(e)&&Object.keys(e).length===0;Ca.isNumber=e=>typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]";Ca.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e);Ca.isObject=e=>Object.prototype.toString.call(e)==="[object Object]";Ca.isString=e=>typeof e=="string"||Object.prototype.toString.call(e)==="[object String]";Ca.isUndefined=e=>typeof e>"u";const If=ra,Fl={};var Wl=Fl;Fl.isSubject=e=>If.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)?Object.keys(e).length>1||!("@id"in e):!1;Fl.isSubjectReference=e=>If.isObject(e)&&Object.keys(e).length===1&&"@id"in e;Fl.isValue=e=>If.isObject(e)&&"@value"in e;Fl.isList=e=>If.isObject(e)&&"@list"in e;Fl.isGraph=e=>If.isObject(e)&&"@graph"in e&&Object.keys(e).filter(t=>t!=="@id"&&t!=="@index").length===1;Fl.isSimpleGraph=e=>Fl.isGraph(e)&&!("@id"in e);Fl.isBlankNode=e=>{if(If.isObject(e)){if("@id"in e){const t=e["@id"];return!If.isString(t)||t.indexOf("_:")===0}return Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}return!1};var Ma=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",r="jsonld.Error",n={}){super(t),this.name=r,this.message=t,this.details=n}};const tg=Wl,Fi=ra,qH=PN.IdentifierIssuer,Nfe=Ma,kfe=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,Cfe=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,jfe=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,Dfe=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,Mfe=/^@[a-zA-Z]+$/,uL={headers:{accept:"application/ld+json, application/json"}},Gr={};var La=Gr;Gr.IdentifierIssuer=qH;Gr.REGEX_BCP47=kfe;Gr.REGEX_KEYWORD=Mfe;Gr.clone=function(e){if(e&&typeof e=="object"){let t;if(Fi.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=Gr.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,Gr.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(Gr.clone(r))}else if(Fi.isObject(e)){t={};for(const r in e)t[r]=Gr.clone(e[r])}else t=e.toString();return t}return e};Gr.asArray=function(e){return Array.isArray(e)?e:[e]};Gr.buildHeaders=(e={})=>{if(Object.keys(e).some(r=>r.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+uL.headers.accept+'" is supported.');return Object.assign({Accept:uL.headers.accept},e)};Gr.parseLinkHeader=e=>{const t={},r=e.match(Cfe);for(let n=0;n<r.length;++n){let i=r[n].match(jfe);if(!i)continue;const o={target:i[1]},a=i[2];for(;i=Dfe.exec(a);)o[i[1]]=i[2]===void 0?i[3]:i[2];const s=o.rel||"";Array.isArray(t[s])?t[s].push(o):t.hasOwnProperty(s)?t[s]=[t[s],o]:t[s]=o}return t};Gr.validateTypeValue=(e,t)=>{if(!Fi.isString(e)&&!(Fi.isArray(e)&&e.every(r=>Fi.isString(r)))){if(t&&Fi.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&Gr.asArray(e["@default"]).every(r=>Fi.isString(r)))return}throw new Nfe('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}};Gr.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!Fi.isArray(r)||r.length>0}return!1};Gr.hasValue=(e,t,r)=>{if(Gr.hasProperty(e,t)){let n=e[t];const i=tg.isList(n);if(Fi.isArray(n)||i){i&&(n=n["@list"]);for(let o=0;o<n.length;++o)if(Gr.compareValues(r,n[o]))return!0}else if(!Fi.isArray(r))return Gr.compareValues(r,n)}return!1};Gr.addValue=(e,t,r,n)=>{if(n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(Fi.isArray(r)){r.length===0&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(let i=0;i<r.length;++i)Gr.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){const i=!n.allowDuplicate&&Gr.hasValue(e,t,r);!Fi.isArray(e[t])&&(!i||n.propertyIsArray)&&(e[t]=[e[t]]),i||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r};Gr.getValues=(e,t)=>[].concat(e[t]||[]);Gr.removeProperty=(e,t)=>{delete e[t]};Gr.removeValue=(e,t,r,n)=>{n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1);const i=Gr.getValues(e,t).filter(o=>!Gr.compareValues(o,r));i.length===0?Gr.removeProperty(e,t):i.length===1&&!n.propertyIsArray?e[t]=i[0]:e[t]=i};Gr.relabelBlankNodes=(e,t)=>{t=t||{};const r=t.issuer||new qH("_:b");return Mw(r,e)};Gr.compareValues=(e,t)=>e===t||tg.isValue(e)&&tg.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]?!0:Fi.isObject(e)&&"@id"in e&&Fi.isObject(t)&&"@id"in t?e["@id"]===t["@id"]:!1;Gr.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1;function Mw(e,t){if(Fi.isArray(t))for(let r=0;r<t.length;++r)t[r]=Mw(e,t[r]);else if(tg.isList(t))t["@list"]=Mw(e,t["@list"]);else if(Fi.isObject(t)){tg.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const r=Object.keys(t).sort();for(let n=0;n<r.length;++n){const i=r[n];i!=="@id"&&(t[i]=Mw(e,t[i]))}}return t}const kc="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Qv="http://www.w3.org/2001/XMLSchema#";var ON={LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF_LIST:kc+"List",RDF_FIRST:kc+"first",RDF_REST:kc+"rest",RDF_NIL:kc+"nil",RDF_TYPE:kc+"type",RDF_JSON_LITERAL:kc+"JSON",RDF_LANGSTRING:kc+"langString",XSD_BOOLEAN:Qv+"boolean",XSD_DOUBLE:Qv+"double",XSD_INTEGER:Qv+"integer",XSD_STRING:Qv+"string"},P1,cL;function VH(){return cL||(cL=1,P1=class{constructor(){this._requests={}}wrapLoader(t){const r=this;return r._loader=t,function(){return r.add.apply(r,arguments)}}async add(t){let r=this._requests[t];if(r)return Promise.resolve(r);r=this._requests[t]=this._loader(t);try{return await r}finally{delete this._requests[t]}}}),P1}const ME=ra,Bi={};var mc=Bi;Bi.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};Bi.parse=(e,t)=>{const r={},n=Bi.parsers[t||"full"],i=n.regex.exec(e);let o=n.keys.length;for(;o--;)r[n.keys[o]]=i[o]===void 0?null:i[o];return(r.scheme==="https"&&r.port==="443"||r.scheme==="http"&&r.port==="80")&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=Bi.removeDotSegments(r.path),r};Bi.prependBase=(e,t)=>{if(e===null||Bi.isAbsolute(t))return t;(!e||ME.isString(e))&&(e=Bi.parse(e||""));const r=Bi.parse(t),n={protocol:e.protocol||""};if(r.authority!==null)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,r.path==="")n.path=e.path,r.query!==null?n.query=r.query:n.query=e.query;else{if(r.path.indexOf("/")===0)n.path=r.path;else{let o=e.path;o=o.substr(0,o.lastIndexOf("/")+1),(o.length>0||e.authority)&&o.substr(-1)!=="/"&&(o+="/"),o+=r.path,n.path=o}n.query=r.query}r.path!==""&&(n.path=Bi.removeDotSegments(n.path));let i=n.protocol;return n.authority!==null&&(i+="//"+n.authority),i+=n.path,n.query!==null&&(i+="?"+n.query),r.fragment!==null&&(i+="#"+r.fragment),i===""&&(i="./"),i};Bi.removeBase=(e,t)=>{if(e===null)return t;(!e||ME.isString(e))&&(e=Bi.parse(e||""));let r="";if(e.href!==""?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),t.indexOf(r)!==0)return t;const n=Bi.parse(t.substr(r.length)),i=e.normalizedPath.split("/"),o=n.normalizedPath.split("/"),a=n.fragment||n.query?0:1;for(;i.length>0&&o.length>a&&i[0]===o[0];)i.shift(),o.shift();let s="";if(i.length>0){i.pop();for(let l=0;l<i.length;++l)s+="../"}return s+=o.join("/"),n.query!==null&&(s+="?"+n.query),n.fragment!==null&&(s+="#"+n.fragment),s===""&&(s="./"),s};Bi.removeDotSegments=e=>{if(e.length===0)return"";const t=e.split("/"),r=[];for(;t.length>0;){const n=t.shift(),i=t.length===0;if(n==="."){i&&r.push("");continue}if(n===".."){r.pop(),i&&r.push("");continue}r.push(n)}return e[0]==="/"&&r.length>0&&r[0]!==""&&r.unshift(""),r.length===1&&r[0]===""?"/":r.join("/")};const Lfe=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;Bi.isAbsolute=e=>ME.isString(e)&&Lfe.test(e);Bi.isRelative=e=>ME.isString(e);const{parseLinkHeader:Ffe,buildHeaders:Bfe}=La,{LINK_HEADER_CONTEXT:Ufe}=ON,wp=Ma,zfe=VH(),{prependBase:qfe}=mc,Vfe=/(^|(\r\n))link:/i;var Hfe=({secure:e,headers:t={},xhr:r}={headers:{}})=>{return t=Bfe(t),new zfe().wrapLoader(i);async function i(o){if(o.indexOf("http:")!==0&&o.indexOf("https:")!==0)throw new wp('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:o});if(e&&o.indexOf("https")!==0)throw new wp(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:o});let a;try{a=await Wfe(r,o,t)}catch(c){throw new wp("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:o,cause:c})}if(a.status>=400)throw new wp("URL could not be dereferenced: "+a.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:o,httpStatusCode:a.status});let s={contextUrl:null,documentUrl:o,document:a.response},l=null;const u=a.getResponseHeader("Content-Type");let f;if(Vfe.test(a.getAllResponseHeaders())&&(f=a.getResponseHeader("Link")),f&&u!=="application/ld+json"){const c=Ffe(f),p=c[Ufe];if(Array.isArray(p))throw new wp("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:o});p&&(s.contextUrl=p.target),l=c.alternate,l&&l.type=="application/ld+json"&&!(u||"").match(/^application\/(\w*\+)?json$/)&&(s=await i(qfe(o,l.target)))}return s}};function Wfe(e,t,r){e=e||XMLHttpRequest;const n=new e;return new Promise((i,o)=>{n.onload=()=>i(n),n.onerror=a=>o(a),n.open("GET",t,!0);for(const a in r)n.setRequestHeader(a,r[a]);n.send()})}const Gfe=Hfe,RN={};var Kfe=RN;RN.setupDocumentLoaders=function(e){typeof XMLHttpRequest<"u"&&(e.documentLoaders.xhr=Gfe,e.useDocumentLoader("xhr"))};RN.setupGlobals=function(e){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})};var O1,fL;function Jfe(){return fL||(fL=1,O1=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),O1}var Yfe=qr;qr.Node=Nf;qr.create=qr;function qr(e){var t=this;if(t instanceof qr||(t=new qr),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}qr.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};qr.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};qr.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};qr.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Qfe(this,arguments[e]);return this.length};qr.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Zfe(this,arguments[e]);return this.length};qr.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};qr.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};qr.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};qr.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};qr.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};qr.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};qr.prototype.map=function(e,t){t=t||this;for(var r=new qr,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};qr.prototype.mapReverse=function(e,t){t=t||this;for(var r=new qr,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};qr.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};qr.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};qr.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};qr.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};qr.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new qr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};qr.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new qr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};qr.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var o=[],n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Xfe(this,i,r[n]);return o};qr.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function Xfe(e,t,r){var n=t===e.head?new Nf(r,null,t,e):new Nf(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function Qfe(e,t){e.tail=new Nf(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Zfe(e,t){e.head=new Nf(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Nf(e,t,r,n){if(!(this instanceof Nf))return new Nf(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Jfe()(qr)}catch{}const ede=Yfe,Kc=Symbol("max"),_l=Symbol("length"),vd=Symbol("lengthCalculator"),hm=Symbol("allowStale"),sf=Symbol("maxAge"),yl=Symbol("dispose"),dL=Symbol("noDisposeOnSet"),li=Symbol("lruList"),Xa=Symbol("cache"),HH=Symbol("updateAgeOnGet"),R1=()=>1;class tde{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Kc]=t.max||1/0;const r=t.length||R1;if(this[vd]=typeof r!="function"?R1:r,this[hm]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[sf]=t.maxAge||0,this[yl]=t.dispose,this[dL]=t.noDisposeOnSet||!1,this[HH]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Kc]=t||1/0,bp(this)}get max(){return this[Kc]}set allowStale(t){this[hm]=!!t}get allowStale(){return this[hm]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[sf]=t,bp(this)}get maxAge(){return this[sf]}set lengthCalculator(t){typeof t!="function"&&(t=R1),t!==this[vd]&&(this[vd]=t,this[_l]=0,this[li].forEach(r=>{r.length=this[vd](r.value,r.key),this[_l]+=r.length})),bp(this)}get lengthCalculator(){return this[vd]}get length(){return this[_l]}get itemCount(){return this[li].length}rforEach(t,r){r=r||this;for(let n=this[li].tail;n!==null;){const i=n.prev;hL(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[li].head;n!==null;){const i=n.next;hL(this,t,n,r),n=i}}keys(){return this[li].toArray().map(t=>t.key)}values(){return this[li].toArray().map(t=>t.value)}reset(){this[yl]&&this[li]&&this[li].length&&this[li].forEach(t=>this[yl](t.key,t.value)),this[Xa]=new Map,this[li]=new ede,this[_l]=0}dump(){return this[li].map(t=>a_(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[li]}set(t,r,n){if(n=n||this[sf],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,o=this[vd](r,t);if(this[Xa].has(t)){if(o>this[Kc])return ch(this,this[Xa].get(t)),!1;const l=this[Xa].get(t).value;return this[yl]&&(this[dL]||this[yl](t,l.value)),l.now=i,l.maxAge=n,l.value=r,this[_l]+=o-l.length,l.length=o,this.get(t),bp(this),!0}const a=new rde(t,r,o,i,n);return a.length>this[Kc]?(this[yl]&&this[yl](t,r),!1):(this[_l]+=a.length,this[li].unshift(a),this[Xa].set(t,this[li].head),bp(this),!0)}has(t){if(!this[Xa].has(t))return!1;const r=this[Xa].get(t).value;return!a_(this,r)}get(t){return I1(this,t,!0)}peek(t){return I1(this,t,!1)}pop(){const t=this[li].tail;return t?(ch(this,t),t.value):null}del(t){ch(this,this[Xa].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const a=o-r;a>0&&this.set(i.k,i.v,a)}}}prune(){this[Xa].forEach((t,r)=>I1(this,r,!1))}}const I1=(e,t,r)=>{const n=e[Xa].get(t);if(n){const i=n.value;if(a_(e,i)){if(ch(e,n),!e[hm])return}else r&&(e[HH]&&(n.value.now=Date.now()),e[li].unshiftNode(n));return i.value}},a_=(e,t)=>{if(!t||!t.maxAge&&!e[sf])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[sf]&&r>e[sf]},bp=e=>{if(e[_l]>e[Kc])for(let t=e[li].tail;e[_l]>e[Kc]&&t!==null;){const r=t.prev;ch(e,t),t=r}},ch=(e,t)=>{if(t){const r=t.value;e[yl]&&e[yl](r.key,r.value),e[_l]-=r.length,e[Xa].delete(r.key),e[li].removeNode(t)}};class rde{constructor(t,r,n,i,o){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}}const hL=(e,t,r,n)=>{let i=r.value;a_(e,i)&&(ch(e,r),e[hm]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var WH=tde;const nde=WH,ide=10;var ode=class{constructor({document:t}){this.document=t,this.cache=new nde({max:ide})}getProcessed(t){return this.cache.get(t)}setProcessed(t,r){this.cache.set(t,r)}};const{isArray:kP,isObject:pm,isString:s_}=ra,{asArray:ade}=La,{prependBase:CP}=mc,Hp=Ma,pL=ode,mL=10;var sde=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}async resolve({activeCtx:t,context:r,documentLoader:n,base:i,cycles:o=new Set}){r&&pm(r)&&r["@context"]&&(r=r["@context"]),r=ade(r);const a=[];for(const s of r){if(s_(s)){let f=this._get(s);f||(f=await this._resolveRemoteContext({activeCtx:t,url:s,documentLoader:n,base:i,cycles:o})),kP(f)?a.push(...f):a.push(f);continue}if(s===null){a.push(new pL({document:null}));continue}pm(s)||lde(r);const l=JSON.stringify(s);let u=this._get(l);u||(u=new pL({document:s}),this._cacheResolvedContext({key:l,resolved:u,tag:"static"})),a.push(u)}return a}_get(t){let r=this.perOpCache.get(t);if(!r){const n=this.sharedCache.get(t);n&&(r=n.get("static"),r&&this.perOpCache.set(t,r))}return r}_cacheResolvedContext({key:t,resolved:r,tag:n}){if(this.perOpCache.set(t,r),n!==void 0){let i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(n,r)}return r}async _resolveRemoteContext({activeCtx:t,url:r,documentLoader:n,base:i,cycles:o}){r=CP(i,r);const{context:a,remoteDoc:s}=await this._fetchContext({activeCtx:t,url:r,documentLoader:n,cycles:o});i=s.documentUrl||r,jP({context:a,base:i});const l=await this.resolve({activeCtx:t,context:a,documentLoader:n,base:i,cycles:o});return this._cacheResolvedContext({key:r,resolved:l,tag:s.tag}),l}async _fetchContext({activeCtx:t,url:r,documentLoader:n,cycles:i}){if(i.size>mL)throw new Hp("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:mL});if(i.has(r))throw new Hp("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:r});i.add(r);let o,a;try{a=await n(r),o=a.document||null,s_(o)&&(o=JSON.parse(o))}catch(s){throw new Hp(`Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. URL: "${r}".`,"jsonld.InvalidUrl",{code:"loading remote context failed",url:r,cause:s})}if(!pm(o))throw new Hp(`Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. URL: "${r}".`,"jsonld.InvalidUrl",{code:"invalid remote context",url:r});return"@context"in o?o={"@context":o["@context"]}:o={"@context":{}},a.contextUrl&&(kP(o["@context"])||(o["@context"]=[o["@context"]]),o["@context"].push(a.contextUrl)),{context:o,remoteDoc:a}}};function lde(e){throw new Hp("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function jP({context:e,base:t}){if(!e)return;const r=e["@context"];if(s_(r)){e["@context"]=CP(t,r);return}if(kP(r)){for(let n=0;n<r.length;++n){const i=r[n];if(s_(i)){r[n]=CP(t,i);continue}pm(i)&&jP({context:{"@context":i},base:t})}return}if(pm(r))for(const n in r)jP({context:r[n],base:t})}var ude=PN.NQuads;const IN=Ma,{isArray:cde}=ra,{asArray:GH}=La,Ko={};var Fg=Ko;Ko.defaultEventHandler=null;Ko.setupEventHandler=({options:e={}})=>{const t=[].concat(e.safe?Ko.safeEventHandler:[],e.eventHandler?GH(e.eventHandler):[],Ko.defaultEventHandler?Ko.defaultEventHandler:[]);return t.length===0?null:t};Ko.handleEvent=({event:e,options:t})=>{KH({event:e,handlers:t.eventHandler})};function KH({event:e,handlers:t}){let r=!0;for(let n=0;r&&n<t.length;++n){r=!1;const i=t[n];if(cde(i))r=KH({event:e,handlers:i});else if(typeof i=="function")i({event:e,next:()=>{r=!0}});else if(typeof i=="object")e.code in i?i[e.code]({event:e,next:()=>{r=!0}}):r=!0;else throw new IN("Invalid event handler.","jsonld.InvalidEventHandler",{event:e})}return r}const fde=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);Ko.safeEventHandler=function({event:t,next:r}){if(t.level==="warning"&&fde.has(t.code))throw new IN("Safe mode validation error.","jsonld.ValidationError",{event:t});r()};Ko.logEventHandler=function({event:t,next:r}){console.log(`EVENT: ${t.message}`,{event:t}),r()};Ko.logWarningEventHandler=function({event:t,next:r}){t.level==="warning"&&console.warn(`WARNING: ${t.message}`,{event:t}),r()};Ko.unhandledEventHandler=function({event:t}){throw new IN("No handler for event.","jsonld.UnhandledEvent",{event:t})};Ko.setDefaultEventHandler=function({eventHandler:e}={}){Ko.defaultEventHandler=e?GH(e):null};const gL=La,Yt=Ma,{isArray:JH,isObject:Ou,isString:yo,isUndefined:dde}=ra,{isAbsolute:wf,isRelative:hde,prependBase:mm}=mc,{handleEvent:fh}=Fg,{REGEX_BCP47:pde,REGEX_KEYWORD:Lw,asArray:YH,compareShortestLeast:mde}=La,Zv=new Map,gde=1e4,vn={};var Gf=vn;vn.process=async({activeCtx:e,localCtx:t,options:r,propagate:n=!0,overrideProtected:i=!1,cycles:o=new Set})=>{if(Ou(t)&&"@context"in t&&JH(t["@context"])&&(t=t["@context"]),YH(t).length===0)return e;const s=[],l=[({event:p,next:m})=>{s.push(p),m()}];r.eventHandler&&l.push(r.eventHandler);const u=r;r={...r,eventHandler:l};const f=await r.contextResolver.resolve({activeCtx:e,context:t,documentLoader:r.documentLoader,base:r.base});Ou(f[0].document)&&typeof f[0].document["@propagate"]=="boolean"&&(n=f[0].document["@propagate"]);let c=e;!n&&!c.previousContext&&(c=c.clone(),c.previousContext=e);for(const p of f){let{document:m}=p;if(e=c,m===null){if(!i&&Object.keys(e.protected).length!==0)throw new Yt("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});c=e=vn.getInitialContext(r).clone();continue}const g=p.getProcessed(e);if(g){if(u.eventHandler)for(const v of g.events)fh({event:v,options:u});c=e=g.context;continue}if(Ou(m)&&"@context"in m&&(m=m["@context"]),!Ou(m))throw new Yt("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:m});c=c.clone();const _=new Map;if("@version"in m){if(m["@version"]!==1.1)throw new Yt("Unsupported JSON-LD version: "+m["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:m});if(e.processingMode&&e.processingMode==="json-ld-1.0")throw new Yt("@version: "+m["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:m});c.processingMode="json-ld-1.1",c["@version"]=m["@version"],_.set("@version",!0)}if(c.processingMode=c.processingMode||e.processingMode,"@base"in m){let v=m["@base"];if(!(v===null||wf(v)))if(hde(v))v=mm(c["@base"],v);else throw new Yt('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:m});c["@base"]=v,_.set("@base",!0)}if("@vocab"in m){const v=m["@vocab"];if(v===null)delete c["@vocab"];else if(yo(v)){if(!wf(v)&&vn.processingMode(c,1))throw new Yt('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:m});{const h=Jd(c,v,{vocab:!0,base:!0},void 0,void 0,r);wf(h)||r.eventHandler&&fh({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:h}},options:r}),c["@vocab"]=h}}else throw new Yt('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:m});_.set("@vocab",!0)}if("@language"in m){const v=m["@language"];if(v===null)delete c["@language"];else if(yo(v))v.match(pde)||r.eventHandler&&fh({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:v}},options:r}),c["@language"]=v.toLowerCase();else throw new Yt('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:m});_.set("@language",!0)}if("@direction"in m){const v=m["@direction"];if(e.processingMode==="json-ld-1.0")throw new Yt("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:m});if(v===null)delete c["@direction"];else{if(v!=="ltr"&&v!=="rtl")throw new Yt('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:m});c["@direction"]=v}_.set("@direction",!0)}if("@propagate"in m){const v=m["@propagate"];if(e.processingMode==="json-ld-1.0")throw new Yt("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:m});if(typeof v!="boolean")throw new Yt("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});_.set("@propagate",!0)}if("@import"in m){const v=m["@import"];if(e.processingMode==="json-ld-1.0")throw new Yt("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:m});if(!yo(v))throw new Yt("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const h=await r.contextResolver.resolve({activeCtx:e,context:v,documentLoader:r.documentLoader,base:r.base});if(h.length!==1)throw new Yt("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const E=h[0].getProcessed(e);if(E)m=E;else{const y=h[0].document;if("@import"in y)throw new Yt("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const S in y)m.hasOwnProperty(S)||(m[S]=y[S]);h[0].setProcessed(e,m)}_.set("@import",!0)}_.set("@protected",m["@protected"]||!1);for(const v in m)if(vn.createTermDefinition({activeCtx:c,localCtx:m,term:v,defined:_,options:r,overrideProtected:i}),Ou(m[v])&&"@context"in m[v]){const h=m[v]["@context"];let E=!0;if(yo(h)){const y=mm(r.base,h);o.has(y)?E=!1:o.add(y)}if(E)try{await vn.process({activeCtx:c.clone(),localCtx:m[v]["@context"],overrideProtected:!0,options:r,cycles:o})}catch{throw new Yt("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:m[v]["@context"],term:v})}}p.setProcessed(e,{context:c,events:s})}return c};vn.createTermDefinition=({activeCtx:e,localCtx:t,term:r,defined:n,options:i,overrideProtected:o=!1})=>{if(n.has(r)){if(n.get(r))return;throw new Yt("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}n.set(r,!1);let a;if(t.hasOwnProperty(r)&&(a=t[r]),r==="@type"&&Ou(a)&&(a["@container"]||"@set")==="@set"&&vn.processingMode(e,1.1)){const m=["@container","@id","@protected"],g=Object.keys(a);if(g.length===0||g.some(_=>!m.includes(_)))throw new Yt("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}else{if(vn.isKeyword(r))throw new Yt("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(r.match(Lw)){i.eventHandler&&fh({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:r}},options:i});return}else if(r==="")throw new Yt("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const s=e.mappings.get(r);e.mappings.has(r)&&e.mappings.delete(r);let l=!1;if((yo(a)||a===null)&&(l=!0,a={"@id":a}),!Ou(a))throw new Yt("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const u={};e.mappings.set(r,u),u.reverse=!1;const f=["@container","@id","@language","@reverse","@type"];vn.processingMode(e,1.1)&&f.push("@context","@direction","@index","@nest","@prefix","@protected");for(const m in a)if(!f.includes(m))throw new Yt("Invalid JSON-LD syntax; a term definition must not contain "+m,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const c=r.indexOf(":");if(u._termHasColon=c>0,"@reverse"in a){if("@id"in a)throw new Yt("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in a)throw new Yt("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const m=a["@reverse"];if(!yo(m))throw new Yt("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(m.match(Lw)){i.eventHandler&&fh({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:m}},options:i}),s?e.mappings.set(r,s):e.mappings.delete(r);return}const g=Jd(e,m,{vocab:!0,base:!1},t,n,i);if(!wf(g))throw new Yt("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});u["@id"]=g,u.reverse=!0}else if("@id"in a){let m=a["@id"];if(m&&!yo(m))throw new Yt("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(m===null)u["@id"]=null;else if(!vn.isKeyword(m)&&m.match(Lw)){i.eventHandler&&fh({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:m}},options:i}),s?e.mappings.set(r,s):e.mappings.delete(r);return}else if(m!==r){if(m=Jd(e,m,{vocab:!0,base:!1},t,n,i),!wf(m)&&!vn.isKeyword(m))throw new Yt("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(r.match(/(?::[^:])|\//)){const g=new Map(n).set(r,!0);if(Jd(e,r,{vocab:!0,base:!1},t,g,i)!==m)throw new Yt("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}u["@id"]=m,u._prefix=l&&!u._termHasColon&&m.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in u))if(u._termHasColon){const m=r.substr(0,c);if(t.hasOwnProperty(m)&&vn.createTermDefinition({activeCtx:e,localCtx:t,term:m,defined:n,options:i}),e.mappings.has(m)){const g=r.substr(c+1);u["@id"]=e.mappings.get(m)["@id"]+g}else u["@id"]=r}else if(r==="@type")u["@id"]=r;else{if(!("@vocab"in e))throw new Yt("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});u["@id"]=e["@vocab"]+r}if((a["@protected"]===!0||n.get("@protected")===!0&&a["@protected"]!==!1)&&(e.protected[r]=!0,u.protected=!0),n.set(r,!0),"@type"in a){let m=a["@type"];if(!yo(m))throw new Yt("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(m==="@json"||m==="@none"){if(vn.processingMode(e,1))throw new Yt(`Invalid JSON-LD syntax; an @context @type value must not be "${m}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if(m!=="@id"&&m!=="@vocab"){if(m=Jd(e,m,{vocab:!0,base:!1},t,n,i),!wf(m))throw new Yt("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(m.indexOf("_:")===0)throw new Yt("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}u["@type"]=m}if("@container"in a){const m=yo(a["@container"])?[a["@container"]]:a["@container"]||[],g=["@list","@set","@index","@language"];let _=!0;const v=m.includes("@set");if(vn.processingMode(e,1.1)){if(g.push("@graph","@id","@type"),m.includes("@list")){if(m.length!==1)throw new Yt("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(m.includes("@graph")){if(m.some(h=>h!=="@graph"&&h!=="@id"&&h!=="@index"&&h!=="@set"))throw new Yt("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else _&=m.length<=(v?2:1);if(m.includes("@type")&&(u["@type"]=u["@type"]||"@id",!["@id","@vocab"].includes(u["@type"])))throw new Yt("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else _&=!JH(a["@container"]),_&=m.length<=1;if(_&=m.every(h=>g.includes(h)),_&=!(v&&m.includes("@list")),!_)throw new Yt("Invalid JSON-LD syntax; @context @container value must be one of the following: "+g.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(u.reverse&&!m.every(h=>["@index","@set"].includes(h)))throw new Yt("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});u["@container"]=m}if("@index"in a){if(!("@container"in a)||!u["@container"].includes("@index"))throw new Yt(`Invalid JSON-LD syntax; @index without @index in @container: "${a["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!yo(a["@index"])||a["@index"].indexOf("@")===0)throw new Yt(`Invalid JSON-LD syntax; @index must expand to an IRI: "${a["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});u["@index"]=a["@index"]}if("@context"in a&&(u["@context"]=a["@context"]),"@language"in a&&!("@type"in a)){let m=a["@language"];if(m!==null&&!yo(m))throw new Yt("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});m!==null&&(m=m.toLowerCase()),u["@language"]=m}if("@prefix"in a){if(r.match(/:|\//))throw new Yt("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(vn.isKeyword(u["@id"]))throw new Yt("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(typeof a["@prefix"]=="boolean")u._prefix=a["@prefix"]===!0;else throw new Yt("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in a){const m=a["@direction"];if(m!==null&&m!=="ltr"&&m!=="rtl")throw new Yt('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});u["@direction"]=m}if("@nest"in a){const m=a["@nest"];if(!yo(m)||m!=="@nest"&&m.indexOf("@")===0)throw new Yt("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});u["@nest"]=m}// disallow aliasing @context and @preserve
const p=u["@id"];if(p==="@context"||p==="@preserve")throw new Yt("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(s&&s.protected&&!o&&(e.protected[r]=!0,u.protected=!0,!DP(s,u)))throw new Yt("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r})};vn.expandIri=(e,t,r,n)=>Jd(e,t,r,void 0,void 0,n);function Jd(e,t,r,n,i,o){if(t===null||!yo(t)||vn.isKeyword(t))return t;if(t.match(Lw))return null;if(n&&n.hasOwnProperty(t)&&i.get(t)!==!0&&vn.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:o}),r=r||{},r.vocab){const s=e.mappings.get(t);if(s===null)return null;if(Ou(s)&&"@id"in s)return s["@id"]}const a=t.indexOf(":");if(a>0){const s=t.substr(0,a),l=t.substr(a+1);if(s==="_"||l.indexOf("//")===0)return t;n&&n.hasOwnProperty(s)&&vn.createTermDefinition({activeCtx:e,localCtx:n,term:s,defined:i,options:o});const u=e.mappings.get(s);if(u&&u._prefix)return u["@id"]+l;if(wf(t))return t}if(r.vocab&&"@vocab"in e)t=e["@vocab"]+t;else if(r.base){let s,l;"@base"in e?e["@base"]?(l=mm(o.base,e["@base"]),s=mm(l,t)):(l=e["@base"],s=t):(l=o.base,s=mm(o.base,t)),t=s}return t}vn.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),r=Zv.get(t);if(r)return r;const n={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:i,clone:s,revertToPreviousContext:l,protected:{}};return Zv.size===gde&&Zv.clear(),Zv.set(t,n),n;function i(){const u=this;if(u.inverse)return u.inverse;const f=u.inverse={},c=u.fastCurieMap={},p={},m=(u["@language"]||"@none").toLowerCase(),g=u["@direction"],_=u.mappings,v=[..._.keys()].sort(mde);for(const h of v){const E=_.get(h);if(E===null)continue;let y=E["@container"]||"@none";if(y=[].concat(y).sort().join(""),E["@id"]===null)continue;const S=YH(E["@id"]);for(const $ of S){let T=f[$];const d=vn.isKeyword($);if(T)!d&&!E._termHasColon&&p[$].push(h);else if(f[$]=T={},!d&&!E._termHasColon){p[$]=[h];const A={iri:$,terms:p[$]};$[0]in c?c[$[0]].push(A):c[$[0]]=[A]}if(T[y]||(T[y]={"@language":{},"@type":{},"@any":{}}),T=T[y],a(h,T["@any"],"@none"),E.reverse)a(h,T["@type"],"@reverse");else if(E["@type"]==="@none")a(h,T["@any"],"@none"),a(h,T["@language"],"@none"),a(h,T["@type"],"@none");else if("@type"in E)a(h,T["@type"],E["@type"]);else if("@language"in E&&"@direction"in E){const A=E["@language"],x=E["@direction"];A&&x?a(h,T["@language"],`${A}_${x}`.toLowerCase()):A?a(h,T["@language"],A.toLowerCase()):x?a(h,T["@language"],`_${x}`):a(h,T["@language"],"@null")}else"@language"in E?a(h,T["@language"],(E["@language"]||"@null").toLowerCase()):"@direction"in E?E["@direction"]?a(h,T["@language"],`_${E["@direction"]}`):a(h,T["@language"],"@none"):g?(a(h,T["@language"],`_${g}`),a(h,T["@language"],"@none"),a(h,T["@type"],"@none")):(a(h,T["@language"],m),a(h,T["@language"],"@none"),a(h,T["@type"],"@none"))}}for(const h in c)o(c,h,1);return f}function o(u,f,c){const p=u[f],m=u[f]={};let g,_;for(const v of p)g=v.iri,c>=g.length?_="":_=g[c],_ in m?m[_].push(v):m[_]=[v];for(const v in m)v!==""&&o(m,v,c+1)}function a(u,f,c){f.hasOwnProperty(c)||(f[c]=u)}function s(){const u={};return u.mappings=gL.clone(this.mappings),u.clone=this.clone,u.inverse=null,u.getInverse=this.getInverse,u.protected=gL.clone(this.protected),this.previousContext&&(u.previousContext=this.previousContext.clone()),u.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(u["@base"]=this["@base"]),"@language"in this&&(u["@language"]=this["@language"]),"@vocab"in this&&(u["@vocab"]=this["@vocab"]),u}function l(){return this.previousContext?this.previousContext.clone():this}};vn.getContextValue=(e,t,r)=>{if(t===null)return r==="@context"?void 0:null;if(e.mappings.has(t)){const n=e.mappings.get(t);if(dde(r))return n;if(n.hasOwnProperty(r))return n[r]}if(r==="@language"&&r in e||r==="@direction"&&r in e)return e[r];if(r!=="@context")return null};vn.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():e.processingMode==="json-ld-1.0";vn.isKeyword=e=>{if(!yo(e)||e[0]!=="@")return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function DP(e,t){if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;++o)if(!DP(e[o],t[o]))return!1;return!0}const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const o in e){let a=e[o],s=t[o];if(o==="@container"&&Array.isArray(a)&&Array.isArray(s)&&(a=a.slice().sort(),s=s.slice().sort()),!DP(a,s))return!1}return!0}const An=Ma,{isArray:Aa,isObject:da,isEmptyObject:MP,isString:Di,isUndefined:l_}=ra,{isList:N1,isValue:LP,isGraph:vde,isSubject:yde}=Wl,{expandIri:Yn,getContextValue:Wo,isKeyword:FP,process:gm,processingMode:Fw}=Gf,{isAbsolute:Bw}=mc,{REGEX_BCP47:XH,REGEX_KEYWORD:wde,addValue:zo,asArray:Ja,getValues:bde,validateTypeValue:_de}=La,{handleEvent:_a}=Fg,ku={};var Ede=ku;ku.expand=async({activeCtx:e,activeProperty:t=null,element:r,options:n={},insideList:i=!1,insideIndex:o=!1,typeScopedContext:a=null})=>{if(r==null)return null;if(t==="@default"&&(n=Object.assign({},n,{isFrame:!1})),!Aa(r)&&!da(r))return!i&&(t===null||Yn(e,t,{vocab:!0},n)==="@graph")?(n.eventHandler&&_a({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:r}},options:n}),null):eW({activeCtx:e,activeProperty:t,value:r,options:n});if(Aa(r)){let g=[];const _=Wo(e,t,"@container")||[];i=i||_.includes("@list");for(let v=0;v<r.length;++v){let h=await ku.expand({activeCtx:e,activeProperty:t,element:r[v],options:n,insideIndex:o,typeScopedContext:a});i&&Aa(h)&&(h={"@list":h}),h!==null&&(Aa(h)?g=g.concat(h):g.push(h))}return g}const s=Yn(e,t,{vocab:!0},n),l=Wo(e,t,"@context");a=a||(e.previousContext?e:null);let u=Object.keys(r).sort(),f=!o;if(f&&a&&u.length<=2&&!u.includes("@context"))for(const g of u){const _=Yn(a,g,{vocab:!0},n);if(_==="@value"){f=!1,e=a;break}if(_==="@id"&&u.length===1){f=!1;break}}f&&(e=e.revertToPreviousContext()),l_(l)||(e=await gm({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:n})),"@context"in r&&(e=await gm({activeCtx:e,localCtx:r["@context"],options:n})),a=e;let c=null;for(const g of u)if(Yn(e,g,{vocab:!0},n)==="@type"){c=c||g;const v=r[g],h=Array.isArray(v)?v.length>1?v.slice().sort():v:[v];for(const E of h){const y=Wo(a,E,"@context");l_(y)||(e=await gm({activeCtx:e,localCtx:y,options:n,propagate:!1}))}}let p={};await ZH({activeCtx:e,activeProperty:t,expandedActiveProperty:s,element:r,expandedParent:p,options:n,insideList:i,typeKey:c,typeScopedContext:a}),u=Object.keys(p);let m=u.length;if("@value"in p){if("@type"in p&&("@language"in p||"@direction"in p))throw new An('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:p});let g=m-1;if("@type"in p&&(g-=1),"@index"in p&&(g-=1),"@language"in p&&(g-=1),"@direction"in p&&(g-=1),g!==0)throw new An('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:p});const _=p["@value"]===null?[]:Ja(p["@value"]),v=bde(p,"@type");if(!(Fw(e,1.1)&&v.includes("@json")&&v.length===1))if(_.length===0)n.eventHandler&&_a({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:p}},options:n}),p=null;else{if(!_.every(h=>Di(h)||MP(h))&&"@language"in p)throw new An("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:p});if(!v.every(h=>Bw(h)&&!(Di(h)&&h.indexOf("_:")===0)||MP(h)))throw new An('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:p})}}else if("@type"in p&&!Aa(p["@type"]))p["@type"]=[p["@type"]];else if("@set"in p||"@list"in p){if(m>1&&!(m===2&&"@index"in p))throw new An('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:p});"@set"in p&&(p=p["@set"],u=Object.keys(p),m=u.length)}else m===1&&"@language"in p&&(n.eventHandler&&_a({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:p}},options:n}),p=null);return da(p)&&!n.keepFreeFloatingNodes&&!i&&(t===null||s==="@graph"||(Wo(e,t,"@container")||[]).includes("@graph"))&&(p=QH({value:p,count:m,options:n})),p};function QH({value:e,count:t,options:r}){if(t===0||"@value"in e||"@list"in e||t===1&&"@id"in e){if(r.eventHandler){let n,i;t===0?(n="empty object",i="Dropping empty object."):"@value"in e?(n="object with only @value",i="Dropping object with only @value."):"@list"in e?(n="object with only @list",i="Dropping object with only @list."):t===1&&"@id"in e&&(n="object with only @id",i="Dropping object with only @id."),_a({event:{type:["JsonLdEvent"],code:n,level:"warning",message:i,details:{value:e}},options:r})}return null}return e}async function ZH({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:n,expandedParent:i,options:o={},insideList:a,typeKey:s,typeScopedContext:l}){const u=Object.keys(n).sort(),f=[];let c;const p=n[s]&&Yn(e,Aa(n[s])?n[s][0]:n[s],{vocab:!0},{...o,typeExpansion:!0})==="@json";for(const m of u){let g=n[m],_;if(m==="@context")continue;const v=Yn(e,m,{vocab:!0},o);if(v===null||!(Bw(v)||FP(v))){o.eventHandler&&_a({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:m,expandedProperty:v}},options:o});continue}if(FP(v)){if(r==="@reverse")throw new An("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:g});if(v in i&&v!=="@included"&&v!=="@type")throw new An("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:v})}if(v==="@id"){if(!Di(g)){if(!o.isFrame)throw new An('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:g});if(da(g)){if(!MP(g))throw new An('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}else if(Aa(g)){if(!g.every(S=>Di(S)))throw new An('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}else throw new An('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}zo(i,"@id",Ja(g).map(S=>{if(Di(S)){const $=Yn(e,S,{base:!0},o);return o.eventHandler&&($===null?_a(S===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:S}},options:o}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:S}},options:o}):Bw($)||_a({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:S,expandedId:$}},options:o})),$}return S}),{propertyIsArray:o.isFrame});continue}if(v==="@type"){da(g)&&(g=Object.fromEntries(Object.entries(g).map(([S,$])=>[Yn(l,S,{vocab:!0}),Ja($).map(T=>Yn(l,T,{base:!0,vocab:!0},{...o,typeExpansion:!0}))]))),_de(g,o.isFrame),zo(i,"@type",Ja(g).map(S=>{if(Di(S)){const $=Yn(l,S,{base:!0,vocab:!0},{...o,typeExpansion:!0});return $!=="@json"&&!Bw($)&&o.eventHandler&&_a({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:S}},options:o}),$}return S}),{propertyIsArray:!!o.isFrame});continue}if(v==="@included"&&Fw(e,1.1)){const S=Ja(await ku.expand({activeCtx:e,activeProperty:t,element:g,options:o}));if(!S.every($=>yde($)))throw new An("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:g});zo(i,"@included",S,{propertyIsArray:!0});continue}if(v==="@graph"&&!(da(g)||Aa(g)))throw new An('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:g});if(v==="@value"){c=g,p&&Fw(e,1.1)?i["@value"]=g:zo(i,"@value",g,{propertyIsArray:o.isFrame});continue}if(v==="@language"){if(g===null)continue;if(!Di(g)&&!o.isFrame)throw new An('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:g});g=Ja(g).map(S=>Di(S)?S.toLowerCase():S);for(const S of g)Di(S)&&!S.match(XH)&&o.eventHandler&&_a({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:S}},options:o});zo(i,"@language",g,{propertyIsArray:o.isFrame});continue}if(v==="@direction"){if(!Di(g)&&!o.isFrame)throw new An('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:g});g=Ja(g);for(const S of g)if(Di(S)&&S!=="ltr"&&S!=="rtl")throw new An('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:g});zo(i,"@direction",g,{propertyIsArray:o.isFrame});continue}if(v==="@index"){if(!Di(g))throw new An('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:g});zo(i,"@index",g);continue}if(v==="@reverse"){if(!da(g))throw new An('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:g});if(_=await ku.expand({activeCtx:e,activeProperty:"@reverse",element:g,options:o}),"@reverse"in _)for(const $ in _["@reverse"])zo(i,$,_["@reverse"][$],{propertyIsArray:!0});let S=i["@reverse"]||null;for(const $ in _){if($==="@reverse")continue;S===null&&(S=i["@reverse"]={}),zo(S,$,[],{propertyIsArray:!0});const T=_[$];for(let d=0;d<T.length;++d){const A=T[d];if(LP(A)||N1(A))throw new An('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:_});zo(S,$,A,{propertyIsArray:!0})}}continue}if(v==="@nest"){f.push(m);continue}let h=e;const E=Wo(e,m,"@context");l_(E)||(h=await gm({activeCtx:e,localCtx:E,propagate:!0,overrideProtected:!0,options:o}));const y=Wo(e,m,"@container")||[];if(y.includes("@language")&&da(g)){const S=Wo(h,m,"@direction");_=Sde(h,g,S,o)}else if(y.includes("@index")&&da(g)){const S=y.includes("@graph"),$=Wo(h,m,"@index")||"@index",T=$!=="@index"&&Yn(e,$,{vocab:!0},o);_=await k1({activeCtx:h,options:o,activeProperty:m,value:g,asGraph:S,indexKey:$,propertyIndex:T})}else if(y.includes("@id")&&da(g)){const S=y.includes("@graph");_=await k1({activeCtx:h,options:o,activeProperty:m,value:g,asGraph:S,indexKey:"@id"})}else if(y.includes("@type")&&da(g))_=await k1({activeCtx:h.revertToPreviousContext(),options:o,activeProperty:m,value:g,asGraph:!1,indexKey:"@type"});else{const S=v==="@list";if(S||v==="@set"){let $=t;S&&r==="@graph"&&($=null),_=await ku.expand({activeCtx:h,activeProperty:$,element:g,options:o,insideList:S})}else Wo(e,m,"@type")==="@json"?_={"@type":"@json","@value":g}:_=await ku.expand({activeCtx:h,activeProperty:m,element:g,options:o,insideList:!1})}if(!(_===null&&v!=="@value")){if(v!=="@list"&&!N1(_)&&y.includes("@list")&&(_={"@list":Ja(_)}),y.includes("@graph")&&!y.some(S=>S==="@id"||S==="@index")){if(_=Ja(_),o.isFrame||(_=_.filter(S=>{const $=Object.keys(S).length;return QH({value:S,count:$,options:o})!==null})),_.length===0)continue;_=_.map(S=>({"@graph":Ja(S)}))}if(h.mappings.has(m)&&h.mappings.get(m).reverse){const S=i["@reverse"]=i["@reverse"]||{};_=Ja(_);for(let $=0;$<_.length;++$){const T=_[$];if(LP(T)||N1(T))throw new An('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:_});zo(S,v,T,{propertyIsArray:!0})}continue}zo(i,v,_,{propertyIsArray:!0})}}if("@value"in i&&!(i["@type"]==="@json"&&Fw(e,1.1))){if((da(c)||Aa(c))&&!o.isFrame)throw new An('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:c})}for(const m of f){const g=Aa(n[m])?n[m]:[n[m]];for(const _ of g){if(!da(_)||Object.keys(_).some(v=>Yn(e,v,{vocab:!0},o)==="@value"))throw new An("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:_});await ZH({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:_,expandedParent:i,options:o,insideList:a,typeScopedContext:l,typeKey:s})}}}function eW({activeCtx:e,activeProperty:t,value:r,options:n}){if(r==null)return null;const i=Yn(e,t,{vocab:!0},n);if(i==="@id")return Yn(e,r,{base:!0},n);if(i==="@type")return Yn(e,r,{vocab:!0,base:!0},{...n,typeExpansion:!0});const o=Wo(e,t,"@type");if((o==="@id"||i==="@graph")&&Di(r)){const s=Yn(e,r,{base:!0},n);return s===null&&r.match(wde)&&n.eventHandler&&_a({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:n}),{"@id":s}}if(o==="@vocab"&&Di(r))return{"@id":Yn(e,r,{vocab:!0,base:!0},n)};if(FP(i))return r;const a={};if(o&&!["@id","@vocab","@none"].includes(o))a["@type"]=o;else if(Di(r)){const s=Wo(e,t,"@language");s!==null&&(a["@language"]=s);const l=Wo(e,t,"@direction");l!==null&&(a["@direction"]=l)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),a["@value"]=r,a}function Sde(e,t,r,n){const i=[],o=Object.keys(t).sort();for(const a of o){const s=Yn(e,a,{vocab:!0},n);let l=t[a];Aa(l)||(l=[l]);for(const u of l){if(u===null)continue;if(!Di(u))throw new An("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const f={"@value":u};s!=="@none"&&(a.match(XH)||n.eventHandler&&_a({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:a}},options:n}),f["@language"]=a.toLowerCase()),r&&(f["@direction"]=r),i.push(f)}}return i}async function k1({activeCtx:e,options:t,activeProperty:r,value:n,asGraph:i,indexKey:o,propertyIndex:a}){const s=[],l=Object.keys(n).sort(),u=o==="@type";for(let f of l){if(u){const m=Wo(e,f,"@context");l_(m)||(e=await gm({activeCtx:e,localCtx:m,propagate:!1,options:t}))}let c=n[f];Aa(c)||(c=[c]),c=await ku.expand({activeCtx:e,activeProperty:r,element:c,options:t,insideList:!1,insideIndex:!0});let p;a?f==="@none"?p="@none":p=eW({activeCtx:e,activeProperty:o,value:f,options:t}):p=Yn(e,f,{vocab:!0},t),o==="@id"?f=Yn(e,f,{base:!0},t):u&&(f=p);for(let m of c){if(i&&!vde(m)&&(m={"@graph":[m]}),o==="@type")p==="@none"||(m["@type"]?m["@type"]=[f].concat(m["@type"]):m["@type"]=[f]);else{if(LP(m)&&!["@language","@type","@index"].includes(o))throw new An(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${o}".`,"jsonld.SyntaxError",{code:"invalid value object",value:m});a?p!=="@none"&&zo(m,a,p,{propertyIsArray:!0,prependValue:!0}):p!=="@none"&&!(o in m)&&(m[o]=f)}s.push(m)}}return s}const{isKeyword:tW}=Gf,ks=Wl,C1=ra,Ds=La,$de=Ma,Xi={};var LE=Xi;Xi.createMergedNodeMap=(e,t)=>{t=t||{};const r=t.issuer||new Ds.IdentifierIssuer("_:b"),n={"@default":{}};return Xi.createNodeMap(e,n,"@default",r),Xi.mergeNodeMaps(n)};Xi.createNodeMap=(e,t,r,n,i,o)=>{if(C1.isArray(e)){for(const u of e)Xi.createNodeMap(u,t,r,n,void 0,o);return}if(!C1.isObject(e)){o&&o.push(e);return}if(ks.isValue(e)){if("@type"in e){let u=e["@type"];u.indexOf("_:")===0&&(e["@type"]=u=n.getId(u))}o&&o.push(e);return}else if(o&&ks.isList(e)){const u=[];Xi.createNodeMap(e["@list"],t,r,n,i,u),o.push({"@list":u});return}if("@type"in e){const u=e["@type"];for(const f of u)f.indexOf("_:")===0&&n.getId(f)}C1.isUndefined(i)&&(i=ks.isBlankNode(e)?n.getId(e["@id"]):e["@id"]),o&&o.push({"@id":i});const a=t[r],s=a[i]=a[i]||{};s["@id"]=i;const l=Object.keys(e).sort();for(let u of l){if(u==="@id")continue;if(u==="@reverse"){const c={"@id":i},p=e["@reverse"];for(const m in p){const g=p[m];for(const _ of g){let v=_["@id"];ks.isBlankNode(_)&&(v=n.getId(v)),Xi.createNodeMap(_,t,r,n,v),Ds.addValue(a[v],m,c,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(u==="@graph"){i in t||(t[i]={}),Xi.createNodeMap(e[u],t,i,n);continue}if(u==="@included"){Xi.createNodeMap(e[u],t,r,n);continue}if(u!=="@type"&&tW(u)){if(u==="@index"&&u in s&&(e[u]!==s[u]||e[u]["@id"]!==s[u]["@id"]))throw new $de("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:s});s[u]=e[u];continue}const f=e[u];if(u.indexOf("_:")===0&&(u=n.getId(u)),f.length===0){Ds.addValue(s,u,[],{propertyIsArray:!0});continue}for(let c of f)if(u==="@type"&&(c=c.indexOf("_:")===0?n.getId(c):c),ks.isSubject(c)||ks.isSubjectReference(c)){if("@id"in c&&!c["@id"])continue;const p=ks.isBlankNode(c)?n.getId(c["@id"]):c["@id"];Ds.addValue(s,u,{"@id":p},{propertyIsArray:!0,allowDuplicate:!1}),Xi.createNodeMap(c,t,r,n,p)}else if(ks.isValue(c))Ds.addValue(s,u,c,{propertyIsArray:!0,allowDuplicate:!1});else if(ks.isList(c)){const p=[];Xi.createNodeMap(c["@list"],t,r,n,i,p),c={"@list":p},Ds.addValue(s,u,c,{propertyIsArray:!0,allowDuplicate:!1})}else Xi.createNodeMap(c,t,r,n,i),Ds.addValue(s,u,c,{propertyIsArray:!0,allowDuplicate:!1})}};Xi.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const n of Object.keys(e[r]).sort()){const i=e[r][n];n in t||(t[n]={"@id":n});const o=t[n];for(const a of Object.keys(i).sort())if(tW(a)&&a!=="@type")o[a]=Ds.clone(i[a]);else for(const s of i[a])Ds.addValue(o,a,Ds.clone(s),{propertyIsArray:!0,allowDuplicate:!1})}return t};Xi.mergeNodeMaps=e=>{const t=e["@default"],r=Object.keys(e).sort();for(const n of r){if(n==="@default")continue;const i=e[n];let o=t[n];o?"@graph"in o||(o["@graph"]=[]):t[n]=o={"@id":n,"@graph":[]};const a=o["@graph"];for(const s of Object.keys(i).sort()){const l=i[s];ks.isSubjectReference(l)||a.push(l)}}return t};const{isSubjectReference:Tde}=Wl,{createMergedNodeMap:Ade}=LE,rW={};var xde=rW;rW.flatten=e=>{const t=Ade(e),r=[],n=Object.keys(t).sort();for(let i=0;i<n.length;++i){const o=t[n[i]];Tde(o)||r.push(o)}return r};const BP=Ma,j1=Wl,Wp=ra,{REGEX_BCP47:vL,addValue:yL}=La,{handleEvent:wL}=Fg,{RDF_LIST:Pde,RDF_FIRST:D1,RDF_REST:M1,RDF_NIL:L1,RDF_TYPE:Ode,RDF_JSON_LITERAL:Rde,XSD_BOOLEAN:bL,XSD_DOUBLE:_L,XSD_INTEGER:EL,XSD_STRING:F1}=ON,nW={};var Ide=nW;nW.fromRDF=async(e,t)=>{const{useRdfType:r=!1,useNativeTypes:n=!1,rdfDirection:i=null}=t,o={},a={"@default":o},s={};if(i){if(i==="compound-literal")throw new BP("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if(i!=="i18n-datatype")throw new BP("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i})}for(const f of e){const c=f.graph.termType==="DefaultGraph"?"@default":f.graph.value;c in a||(a[c]={}),c!=="@default"&&!(c in o)&&(o[c]={"@id":c});const p=a[c],m=f.subject.value,g=f.predicate.value,_=f.object;m in p||(p[m]={"@id":m});const v=p[m],h=_.termType.endsWith("Node");if(h&&!(_.value in p)&&(p[_.value]={"@id":_.value}),g===Ode&&!r&&h){yL(v,"@type",_.value,{propertyIsArray:!0});continue}const E=Nde(_,n,i,t);if(yL(v,g,E,{propertyIsArray:!0}),h)if(_.value===L1){const y=p[_.value];"usages"in y||(y.usages=[]),y.usages.push({node:v,property:g,value:E})}else _.value in s?s[_.value]=!1:s[_.value]={node:v,property:g,value:E}}for(const f in a){const c=a[f];if(!(L1 in c))continue;const p=c[L1];if(p.usages){for(let m of p.usages){let g=m.node,_=m.property,v=m.value;const h=[],E=[];let y=Object.keys(g).length;for(;_===M1&&Wp.isObject(s[g["@id"]])&&Wp.isArray(g[D1])&&g[D1].length===1&&Wp.isArray(g[M1])&&g[M1].length===1&&(y===3||y===4&&Wp.isArray(g["@type"])&&g["@type"].length===1&&g["@type"][0]===Pde)&&(h.push(g[D1][0]),E.push(g["@id"]),m=s[g["@id"]],g=m.node,_=m.property,v=m.value,y=Object.keys(g).length,!!j1.isBlankNode(g)););delete v["@id"],v["@list"]=h.reverse();for(const S of E)delete c[S]}delete p.usages}}const l=[],u=Object.keys(o).sort();for(const f of u){const c=o[f];if(f in a){const p=c["@graph"]=[],m=a[f],g=Object.keys(m).sort();for(const _ of g){const v=m[_];j1.isSubjectReference(v)||p.push(v)}}j1.isSubjectReference(c)||l.push(c)}return l};function Nde(e,t,r,n){if(e.termType.endsWith("Node"))return{"@id":e.value};const i={"@value":e.value};if(e.language)e.language.match(vL)||n.eventHandler&&wL({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:n}),i["@language"]=e.language;else{let o=e.datatype.value;if(o||(o=F1),o===Rde){o="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(a){throw new BP("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:a})}}if(t){if(o===bL)i["@value"]==="true"?i["@value"]=!0:i["@value"]==="false"&&(i["@value"]=!1);else if(Wp.isNumeric(i["@value"]))if(o===EL){const a=parseInt(i["@value"],10);a.toFixed(0)===i["@value"]&&(i["@value"]=a)}else o===_L&&(i["@value"]=parseFloat(i["@value"]));[bL,EL,_L,F1].includes(o)||(i["@type"]=o)}else if(r==="i18n-datatype"&&o.startsWith("https://www.w3.org/ns/i18n#")){const[,a,s]=o.split(/[#_]/);a.length>0&&(i["@language"]=a,a.match(vL)||n.eventHandler&&wL({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:a}},options:n})),i["@direction"]=s}else o!==F1&&(i["@type"]=o)}return i}var kde=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((r,n,i)=>{const o=i===0?"":",",a=n===void 0||typeof n=="symbol"?null:n;return r+o+e(a)},"")+"]":"{"+Object.keys(t).sort().reduce((r,n,i)=>{if(t[n]===void 0||typeof t[n]=="symbol")return r;const o=r.length===0?"":",";return r+o+e(n)+":"+e(t[n])},"")+"}"};const{createNodeMap:Cde}=LE,{isKeyword:jde}=Gf,SL=Wl,Dde=kde,$L=Ma,_p=ra,Mde=La,{handleEvent:bf}=Fg,{RDF_FIRST:Lde,RDF_REST:Fde,RDF_NIL:Bde,RDF_TYPE:Ude,RDF_JSON_LITERAL:zde,RDF_LANGSTRING:qde,XSD_BOOLEAN:Vde,XSD_DOUBLE:TL,XSD_INTEGER:Hde,XSD_STRING:Wde}=ON,{isAbsolute:u_}=mc,iW={};var Gde=iW;iW.toRDF=(e,t)=>{const r=new Mde.IdentifierIssuer("_:b"),n={"@default":{}};Cde(e,n,"@default",r);const i=[],o=Object.keys(n).sort();for(const a of o){let s;if(a==="@default")s={termType:"DefaultGraph",value:""};else if(u_(a))a.startsWith("_:")?s={termType:"BlankNode"}:s={termType:"NamedNode"},s.value=a;else{t.eventHandler&&bf({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:a}},options:t});continue}Kde(i,n[a],s,r,t)}return i};function Kde(e,t,r,n,i){const o=Object.keys(t).sort();for(const a of o){const s=t[a],l=Object.keys(s).sort();for(let u of l){const f=s[u];if(u==="@type")u=Ude;else if(jde(u))continue;for(const c of f){const p={termType:a.startsWith("_:")?"BlankNode":"NamedNode",value:a};if(!u_(a)){i.eventHandler&&bf({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:a}},options:i});continue}const m={termType:u.startsWith("_:")?"BlankNode":"NamedNode",value:u};if(!u_(u)){i.eventHandler&&bf({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:u}},options:i});continue}if(m.termType==="BlankNode"&&!i.produceGeneralizedRdf){i.eventHandler&&bf({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:n.getOldIds().find(_=>n.getId(_)===u)}},options:i});continue}const g=UP(c,n,e,r,i.rdfDirection,i);g&&e.push({subject:p,predicate:m,object:g,graph:r})}}}}function Jde(e,t,r,n,i,o){const a={termType:"NamedNode",value:Lde},s={termType:"NamedNode",value:Fde},l={termType:"NamedNode",value:Bde},u=e.pop(),f=u?{termType:"BlankNode",value:t.getId()}:l;let c=f;for(const p of e){const m=UP(p,t,r,n,i,o),g={termType:"BlankNode",value:t.getId()};r.push({subject:c,predicate:a,object:m,graph:n}),r.push({subject:c,predicate:s,object:g,graph:n}),c=g}if(u){const p=UP(u,t,r,n,i,o);r.push({subject:c,predicate:a,object:p,graph:n}),r.push({subject:c,predicate:s,object:l,graph:n})}return f}function UP(e,t,r,n,i,o){const a={};if(SL.isValue(e)){a.termType="Literal",a.value=void 0,a.datatype={termType:"NamedNode"};let s=e["@value"];const l=e["@type"]||null;if(l==="@json")a.value=Dde(s),a.datatype.value=zde;else if(_p.isBoolean(s))a.value=s.toString(),a.datatype.value=l||Vde;else if(_p.isDouble(s)||l===TL)_p.isDouble(s)||(s=parseFloat(s)),a.value=s.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),a.datatype.value=l||TL;else if(_p.isNumber(s))a.value=s.toFixed(0),a.datatype.value=l||Hde;else if("@direction"in e&&i==="i18n-datatype"){const u=(e["@language"]||"").toLowerCase(),f=e["@direction"],c=`https://www.w3.org/ns/i18n#${u}_${f}`;a.datatype.value=c,a.value=s}else{if("@direction"in e&&i==="compound-literal")throw new $L("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if("@direction"in e&&i)throw new $L("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});"@language"in e?("@direction"in e&&!i&&o.eventHandler&&bf({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:a.value}},options:o}),a.value=s,a.datatype.value=l||qde,a.language=e["@language"]):("@direction"in e&&!i&&o.eventHandler&&bf({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:a.value}},options:o}),a.value=s,a.datatype.value=l||Wde)}}else if(SL.isList(e)){const s=Jde(e["@list"],t,r,n,i,o);a.termType=s.termType,a.value=s.value}else{const s=_p.isObject(e)?e["@id"]:e;a.termType=s.startsWith("_:")?"BlankNode":"NamedNode",a.value=s}return a.termType==="NamedNode"&&!u_(a.value)?(o.eventHandler&&bf({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:a.value}},options:o}),null):a}const{isKeyword:zP}=Gf,pa=Wl,ln=ra,ci=La,AL=mc,vm=Ma,{createNodeMap:Yde,mergeNodeMapGraphs:Xde}=LE,Ea={};var Qde=Ea;Ea.frameMergedOrDefault=(e,t,r)=>{const n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new ci.IdentifierIssuer("_:b");Yde(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=Xde(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const o=[];Ea.frame(n,Object.keys(n.subjects).sort(),t,o),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter(a=>n.bnodeMap[a].length===1));// remove @preserve from results
return r.link={},Uw(o,r)};Ea.frame=(e,t,r,n,i=null)=>{oW(r),r=r[0];const o=e.options,a={embed:ey(r,o,"embed"),explicit:ey(r,o,"explicit"),requireAll:ey(r,o,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const s=e.link[e.graph],l=ehe(e,t,r,a),u=Object.keys(l).sort();for(const f of u){const c=l[f];if(i===null?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},a.embed==="@link"&&f in s){Cc(n,i,s[f]);continue}const p={"@id":f};if(f.indexOf("_:")===0&&ci.addValue(e.bnodeMap,f,p,{propertyIsArray:!0}),s[f]=p,(a.embed==="@first"||a.embed==="@last")&&e.is11)throw new vm("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(f))){if(e.embedded&&(a.embed==="@never"||Zde(c,e.graph,e.subjectStack))){Cc(n,i,p);continue}if(e.embedded&&(a.embed=="@first"||a.embed=="@once")&&e.uniqueEmbeds[e.graph].hasOwnProperty(f)){Cc(n,i,p);continue}if(a.embed==="@last"&&f in e.uniqueEmbeds[e.graph]&&the(e,f),e.uniqueEmbeds[e.graph][f]={parent:n,property:i},e.subjectStack.push({subject:c,graph:e.graph}),f in e.graphMap){let m=!1,g=null;"@graph"in r?(g=r["@graph"][0],m=!(f==="@merged"||f==="@default"),ln.isObject(g)||(g={})):(m=e.graph!=="@merged",g={}),m&&Ea.frame({...e,graph:f,embedded:!1},Object.keys(e.graphMap[f]).sort(),[g],p,"@graph")}"@included"in r&&Ea.frame({...e,embedded:!1},t,r["@included"],p,"@included");for(const m of Object.keys(c).sort()){if(zP(m)){if(p[m]=ci.clone(c[m]),m==="@type")for(const g of c["@type"])g.indexOf("_:")===0&&ci.addValue(e.bnodeMap,g,p,{propertyIsArray:!0});continue}if(!(a.explicit&&!(m in r)))for(const g of c[m]){const _=m in r?r[m]:xL(a);if(pa.isList(g)){const v=r[m]&&r[m][0]&&r[m][0]["@list"]?r[m][0]["@list"]:xL(a),h={"@list":[]};Cc(p,m,h);const E=g["@list"];for(const y of E)pa.isSubjectReference(y)?Ea.frame({...e,embedded:!0},[y["@id"]],v,h,"@list"):Cc(h,"@list",ci.clone(y))}else pa.isSubjectReference(g)?Ea.frame({...e,embedded:!0},[g["@id"]],_,p,m):qP(_[0],g)&&Cc(p,m,ci.clone(g))}}for(const m of Object.keys(r).sort()){if(m==="@type"){if(!ln.isObject(r[m][0])||!("@default"in r[m][0]))continue}else if(zP(m))continue;const g=r[m][0]||{};if(!ey(g,o,"omitDefault")&&!(m in p)){let v="@null";"@default"in g&&(v=ci.clone(g["@default"])),ln.isArray(v)||(v=[v]),p[m]=[{"@preserve":v}]}}for(const m of Object.keys(r["@reverse"]||{}).sort()){const g=r["@reverse"][m];for(const _ of Object.keys(e.subjects))ci.getValues(e.subjects[_],m).some(h=>h["@id"]===f)&&(p["@reverse"]=p["@reverse"]||{},ci.addValue(p["@reverse"],m,[],{propertyIsArray:!0}),Ea.frame({...e,embedded:!0},[_],g,p["@reverse"][m],i))}Cc(n,i,p),e.subjectStack.pop()}}};Ea.cleanupNull=(e,t)=>{if(ln.isArray(e))return e.map(n=>Ea.cleanupNull(n,t)).filter(n=>n);if(e==="@null")return null;if(ln.isObject(e)){if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(n!==-1)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)e[r]=Ea.cleanupNull(e[r],t)}return e};function xL(e){const t={};for(const r in e)e[r]!==void 0&&(t["@"+r]=[e[r]]);return[t]}function Zde(e,t,r){for(let n=r.length-1;n>=0;--n){const i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function ey(e,t,r){const n="@"+r;let i=n in e?e[n][0]:t[r];if(r==="embed"){if(i===!0)i="@once";else if(i===!1)i="@never";else if(i!=="@always"&&i!=="@never"&&i!=="@link"&&i!=="@first"&&i!=="@last"&&i!=="@once")throw new vm("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return i}function oW(e){if(!ln.isArray(e)||e.length!==1||!ln.isObject(e[0]))throw new vm("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(const t of ci.asArray(e[0]["@id"]))if(!(ln.isObject(t)||AL.isAbsolute(t))||ln.isString(t)&&t.indexOf("_:")===0)throw new vm("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(const t of ci.asArray(e[0]["@type"]))if(!(ln.isObject(t)||AL.isAbsolute(t)||t==="@json")||ln.isString(t)&&t.indexOf("_:")===0)throw new vm("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function ehe(e,t,r,n){const i={};for(const o of t){const a=e.graphMap[e.graph][o];aW(e,a,r,n)&&(i[o]=a)}return i}function aW(e,t,r,n){let i=!0,o=!1;for(const a in r){let s=!1;const l=ci.getValues(t,a),u=ci.getValues(r,a).length===0;if(a==="@id"){if(ln.isEmptyObject(r["@id"][0]||{})?s=!0:r["@id"].length>=0&&(s=r["@id"].includes(l[0])),!n.requireAll)return s}else if(a==="@type"){if(i=!1,u){if(l.length>0)return!1;s=!0}else if(r["@type"].length===1&&ln.isEmptyObject(r["@type"][0]))s=l.length>0;else for(const f of r["@type"])ln.isObject(f)&&"@default"in f?s=!0:s=s||l.some(c=>c===f);if(!n.requireAll)return s}else{if(zP(a))continue;{const f=ci.getValues(r,a)[0];let c=!1;if(f&&(oW([f]),c="@default"in f),i=!1,l.length===0&&c)continue;if(l.length>0&&u)return!1;if(f===void 0){if(l.length>0)return!1;s=!0}else if(pa.isList(f)){const p=f["@list"][0];if(pa.isList(l[0])){const m=l[0]["@list"];pa.isValue(p)?s=m.some(g=>qP(p,g)):(pa.isSubject(p)||pa.isSubjectReference(p))&&(s=m.some(g=>PL(e,p,g,n)))}}else pa.isValue(f)?s=l.some(p=>qP(f,p)):pa.isSubjectReference(f)?s=l.some(p=>PL(e,f,p,n)):ln.isObject(f)?s=l.length>0:s=!1}}if(!s&&n.requireAll)return!1;o=o||s}return i||o}function the(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,o=n.property,a={"@id":t};if(ln.isArray(i)){for(let l=0;l<i.length;++l)if(ci.compareValues(i[l],a)){i[l]=a;break}}else{const l=ln.isArray(i[o]);ci.removeValue(i,o,a,{propertyIsArray:l}),ci.addValue(i,o,a,{propertyIsArray:l})}const s=l=>{const u=Object.keys(r);for(const f of u)f in r&&ln.isObject(r[f].parent)&&r[f].parent["@id"]===l&&(delete r[f],s(f))};s(t)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function Uw(e,t){if(ln.isArray(e))return e.map(r=>Uw(r,t));if(ln.isObject(e)){// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(pa.isValue(e))return e;if(pa.isList(e))return e["@list"]=Uw(e["@list"],t),e;if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(n!==-1)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e){if(r==="@id"&&t.bnodesToClear.includes(e[r])){delete e["@id"];continue}e[r]=Uw(e[r],t)}}return e}function Cc(e,t,r){ln.isObject(e)?ci.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function PL(e,t,r,n){if(!("@id"in r))return!1;const i=e.subjects[r["@id"]];return i&&aW(e,i,t,n)}function qP(e,t){const r=t["@value"],n=t["@type"],i=t["@language"],o=e["@value"]?ln.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],a=e["@type"]?ln.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],s=e["@language"]?ln.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return o.length===0&&a.length===0&&s.length===0?!0:!(!(o.includes(r)||ln.isEmptyObject(o[0]))||!(!n&&a.length===0||a.includes(n)||n&&ln.isEmptyObject(a[0]))||!(!i&&s.length===0||s.includes(i)||i&&ln.isEmptyObject(s[0])))}const NN=Ma,{isArray:fu,isObject:Cu,isString:sW,isUndefined:B1}=ra,{isList:VP,isValue:El,isGraph:lW,isSimpleGraph:OL,isSubjectReference:U1}=Wl,{expandIri:uW,getContextValue:Ki,isKeyword:cW,process:z1,processingMode:rhe}=Gf,{removeBase:RL,prependBase:nhe}=mc,{REGEX_KEYWORD:ihe,addValue:Bo,asArray:ty,compareShortestLeast:ohe}=La,sr={};var ahe=sr;sr.compact=async({activeCtx:e,activeProperty:t=null,element:r,options:n={}})=>{if(fu(r)){let o=[];for(let a=0;a<r.length;++a){const s=await sr.compact({activeCtx:e,activeProperty:t,element:r[a],options:n});s!==null&&o.push(s)}return n.compactArrays&&o.length===1&&(Ki(e,t,"@container")||[]).length===0&&(o=o[0]),o}const i=Ki(e,t,"@context");if(B1(i)||(e=await z1({activeCtx:e,localCtx:i,propagate:!0,overrideProtected:!0,options:n})),Cu(r)){if(n.link&&"@id"in r&&n.link.hasOwnProperty(r["@id"])){const p=n.link[r["@id"]];for(let m=0;m<p.length;++m)if(p[m].expanded===r)return p[m].compacted}if(El(r)||U1(r)){const p=sr.compactValue({activeCtx:e,activeProperty:t,value:r,options:n});return n.link&&U1(r)&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:p})),p}if(VP(r)&&(Ki(e,t,"@container")||[]).includes("@list"))return sr.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:n});const o=t==="@reverse",a={},s=e;!El(r)&&!U1(r)&&(e=e.revertToPreviousContext());const l=Ki(s,t,"@context");B1(l)||(e=await z1({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:n})),n.link&&"@id"in r&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:a}));let u=r["@type"]||[];u.length>1&&(u=Array.from(u).sort());const f=e;for(const p of u){const m=sr.compactIri({activeCtx:f,iri:p,relativeTo:{vocab:!0}}),g=Ki(s,m,"@context");B1(g)||(e=await z1({activeCtx:e,localCtx:g,options:n,propagate:!1}))}const c=Object.keys(r).sort();for(const p of c){const m=r[p];if(p==="@id"){let g=ty(m).map(v=>sr.compactIri({activeCtx:e,iri:v,relativeTo:{vocab:!1},base:n.base}));g.length===1&&(g=g[0]);const _=sr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});a[_]=g;continue}if(p==="@type"){let g=ty(m).map(y=>sr.compactIri({activeCtx:s,iri:y,relativeTo:{vocab:!0}}));g.length===1&&(g=g[0]);const _=sr.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),E=(Ki(e,_,"@container")||[]).includes("@set")&&rhe(e,1.1)||fu(g)&&m.length===0;Bo(a,_,g,{propertyIsArray:E});continue}if(p==="@reverse"){const g=await sr.compact({activeCtx:e,activeProperty:"@reverse",element:m,options:n});for(const _ in g)if(e.mappings.has(_)&&e.mappings.get(_).reverse){const v=g[_],E=(Ki(e,_,"@container")||[]).includes("@set")||!n.compactArrays;Bo(a,_,v,{propertyIsArray:E}),delete g[_]}if(Object.keys(g).length>0){const _=sr.compactIri({activeCtx:e,iri:p,relativeTo:{vocab:!0}});Bo(a,_,g)}continue}if(p==="@preserve"){const g=await sr.compact({activeCtx:e,activeProperty:t,element:m,options:n});fu(g)&&g.length===0||Bo(a,p,g);continue}if(p==="@index"){if((Ki(e,t,"@container")||[]).includes("@index"))continue;const _=sr.compactIri({activeCtx:e,iri:p,relativeTo:{vocab:!0}});Bo(a,_,m);continue}if(p!=="@graph"&&p!=="@list"&&p!=="@included"&&cW(p)){const g=sr.compactIri({activeCtx:e,iri:p,relativeTo:{vocab:!0}});Bo(a,g,m);continue}if(!fu(m))throw new NN("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(m.length===0){const g=sr.compactIri({activeCtx:e,iri:p,value:m,relativeTo:{vocab:!0},reverse:o}),_=e.mappings.has(g)?e.mappings.get(g)["@nest"]:null;let v=a;_&&(IL(e,_,n),Cu(a[_])||(a[_]={}),v=a[_]),Bo(v,g,m,{propertyIsArray:!0})}for(const g of m){const _=sr.compactIri({activeCtx:e,iri:p,value:g,relativeTo:{vocab:!0},reverse:o}),v=e.mappings.has(_)?e.mappings.get(_)["@nest"]:null;let h=a;v&&(IL(e,v,n),Cu(a[v])||(a[v]={}),h=a[v]);const E=Ki(e,_,"@container")||[],y=lW(g),S=VP(g);let $;S?$=g["@list"]:y&&($=g["@graph"]);let T=await sr.compact({activeCtx:e,activeProperty:_,element:S||y?$:g,options:n});if(S)if(fu(T)||(T=[T]),!E.includes("@list"))T={[sr.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:T},"@index"in g&&(T[sr.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=g["@index"]);else{Bo(h,_,T,{valueIsArray:!0,allowDuplicate:!0});continue}if(y)if(E.includes("@graph")&&(E.includes("@id")||E.includes("@index")&&OL(g))){let d;h.hasOwnProperty(_)?d=h[_]:h[_]=d={};const A=(E.includes("@id")?g["@id"]:g["@index"])||sr.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});Bo(d,A,T,{propertyIsArray:!n.compactArrays||E.includes("@set")})}else E.includes("@graph")&&OL(g)?(fu(T)&&T.length>1&&(T={"@included":T}),Bo(h,_,T,{propertyIsArray:!n.compactArrays||E.includes("@set")})):(fu(T)&&T.length===1&&n.compactArrays&&(T=T[0]),T={[sr.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:T},"@id"in g&&(T[sr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=g["@id"]),"@index"in g&&(T[sr.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=g["@index"]),Bo(h,_,T,{propertyIsArray:!n.compactArrays||E.includes("@set")}));else if(E.includes("@language")||E.includes("@index")||E.includes("@id")||E.includes("@type")){let d;h.hasOwnProperty(_)?d=h[_]:h[_]=d={};let A;if(E.includes("@language"))El(T)&&(T=T["@value"]),A=g["@language"];else if(E.includes("@index")){const x=Ki(e,_,"@index")||"@index",P=sr.compactIri({activeCtx:e,iri:x,relativeTo:{vocab:!0}});if(x==="@index")A=g["@index"],delete T[P];else{let j;if([A,...j]=ty(T[x]||[]),!sW(A))A=null;else switch(j.length){case 0:delete T[x];break;case 1:T[x]=j[0];break;default:T[x]=j;break}}}else if(E.includes("@id")){const x=sr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});A=T[x],delete T[x]}else if(E.includes("@type")){const x=sr.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let P;switch([A,...P]=ty(T[x]||[]),P.length){case 0:delete T[x];break;case 1:T[x]=P[0];break;default:T[x]=P;break}Object.keys(T).length===1&&"@id"in g&&(T=await sr.compact({activeCtx:e,activeProperty:_,element:{"@id":g["@id"]},options:n}))}A||(A=sr.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),Bo(d,A,T,{propertyIsArray:E.includes("@set")})}else{const d=!n.compactArrays||E.includes("@set")||E.includes("@list")||fu(T)&&T.length===0||p==="@list"||p==="@graph";Bo(h,_,T,{propertyIsArray:d})}}}return a}return r};sr.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:n={vocab:!1},reverse:i=!1,base:o=null})=>{if(t===null)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const a=e.getInverse();if(cW(t)&&t in a&&"@none"in a[t]&&"@type"in a[t]["@none"]&&"@none"in a[t]["@none"]["@type"])return a[t]["@none"]["@type"]["@none"];if(n.vocab&&t in a){const c=e["@language"]||"@none",p=[];Cu(r)&&"@index"in r&&!("@graph"in r)&&p.push("@index","@index@set"),Cu(r)&&"@preserve"in r&&(r=r["@preserve"][0]),lW(r)?("@index"in r&&p.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&p.push("@graph@id","@graph@id@set"),p.push("@graph","@graph@set","@set"),"@index"in r||p.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||p.push("@graph@id","@graph@id@set")):Cu(r)&&!El(r)&&p.push("@id","@id@set","@type","@set@type");let m="@language",g="@null";if(i)m="@type",g="@reverse",p.push("@set");else if(VP(r)){"@index"in r||p.push("@list");const v=r["@list"];if(v.length===0)m="@any",g="@none";else{let h=v.length===0?c:null,E=null;for(let y=0;y<v.length;++y){const S=v[y];let $="@none",T="@none";if(El(S))if("@direction"in S){const d=(S["@language"]||"").toLowerCase(),A=S["@direction"];$=`${d}_${A}`}else"@language"in S?$=S["@language"].toLowerCase():"@type"in S?T=S["@type"]:$="@null";else T="@id";if(h===null?h=$:$!==h&&El(S)&&(h="@none"),E===null?E=T:T!==E&&(E="@none"),h==="@none"&&E==="@none")break}h=h||"@none",E=E||"@none",E!=="@none"?(m="@type",g=E):g=h}}else{if(El(r))if("@language"in r&&!("@index"in r)){p.push("@language","@language@set"),g=r["@language"];const v=r["@direction"];v&&(g=`${g}_${v}`)}else"@direction"in r&&!("@index"in r)?g=`_${r["@direction"]}`:"@type"in r&&(m="@type",g=r["@type"]);else m="@type",g="@id";p.push("@set")}p.push("@none"),Cu(r)&&!("@index"in r)&&p.push("@index","@index@set"),El(r)&&Object.keys(r).length===1&&p.push("@language","@language@set");const _=she(e,t,r,p,m,g);if(_!==null)return _}if(n.vocab&&"@vocab"in e){const c=e["@vocab"];if(t.indexOf(c)===0&&t!==c){const p=t.substr(c.length);if(!e.mappings.has(p))return p}}let s=null;const l=[];let u=e.fastCurieMap;const f=t.length-1;for(let c=0;c<f&&t[c]in u;++c)u=u[t[c]],""in u&&l.push(u[""][0]);for(let c=l.length-1;c>=0;--c){const p=l[c],m=p.terms;for(const g of m){const _=g+":"+t.substr(p.iri.length);e.mappings.get(g)._prefix&&(!e.mappings.has(_)||r===null&&e.mappings.get(_)["@id"]===t)&&(s===null||ohe(_,s)<0)&&(s=_)}}if(s!==null)return s;for(const[c,p]of e.mappings)if(p&&p._prefix&&t.startsWith(c+":"))throw new NN(`Absolute IRI "${t}" confused with prefix "${c}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!n.vocab)if("@base"in e)if(e["@base"]){const c=RL(nhe(o,e["@base"]),t);return ihe.test(c)?`./${c}`:c}else return t;else return RL(o,t);return t};sr.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(El(r)){const s=Ki(e,t,"@type"),l=Ki(e,t,"@language"),u=Ki(e,t,"@direction"),f=Ki(e,t,"@container")||[],c="@index"in r&&!f.includes("@index");if(!c&&s!=="@none"&&(r["@type"]===s||"@language"in r&&r["@language"]===l&&"@direction"in r&&r["@direction"]===u||"@language"in r&&r["@language"]===l||"@direction"in r&&r["@direction"]===u))return r["@value"];const p=Object.keys(r).length,m=p===1||p===2&&"@index"in r&&!c,g="@language"in e,_=sW(r["@value"]),v=e.mappings.has(t)&&e.mappings.get(t)["@language"]===null;if(m&&s!=="@none"&&(!g||!_||v))return r["@value"];const h={};return c&&(h[sr.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?h[sr.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=sr.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(h[sr.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(h[sr.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),h[sr.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],h}const i=uW(e,t,{vocab:!0},n),o=Ki(e,t,"@type"),a=sr.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:o==="@vocab"},base:n.base});return o==="@id"||o==="@vocab"||i==="@graph"?a:{[sr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:a}};function she(e,t,r,n,i,o){o===null&&(o="@null");const a=[];if((o==="@id"||o==="@reverse")&&Cu(r)&&"@id"in r){o==="@reverse"&&a.push("@reverse");const l=sr.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(l)&&e.mappings.get(l)&&e.mappings.get(l)["@id"]===r["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}else{a.push(o);const l=a.find(u=>u.includes("_"));l&&a.push(l.replace(/^[^_]+_/,"_"))}a.push("@none");const s=e.inverse[t];for(const l of n){if(!(l in s))continue;const u=s[l][i];for(const f of a)if(f in u)return u[f]}return null}function IL(e,t,r){if(uW(e,t,{vocab:!0},r)!=="@nest")throw new NN("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var q1,NL;function lhe(){return NL||(NL=1,q1=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(r,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(r,n)},t.expand=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(r)},t.flatten=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(r)},t}),q1}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const kL=PN,CL=Kfe,Eu=La,fl=sde,V1=Eu.IdentifierIssuer,As=Ma,uhe=WH,ry=ude,{expand:che}=Ede,{flatten:fhe}=xde,{fromRDF:dhe}=Ide,{toRDF:hhe}=Gde,{frameMergedOrDefault:phe,cleanupNull:mhe}=Qde,{isArray:yd,isObject:jc,isString:xs}=ra,{isSubjectReference:ghe}=Wl,{expandIri:vhe,getInitialContext:ny,process:jL,processingMode:H1}=Gf,{compact:yhe,compactIri:whe}=ahe,{createNodeMap:bhe,createMergedNodeMap:_he,mergeNodeMaps:Ehe}=LE,{logEventHandler:She,logWarningEventHandler:$he,safeEventHandler:The,setDefaultEventHandler:Ahe,setupEventHandler:xhe,strictEventHandler:Phe,unhandledEventHandler:Ohe}=Fg,fW=function(e){const t={},n=new uhe({max:100});e.compact=async function(o,a,s){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(a===null)throw new As("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(o===null)return null;s=i(s,{base:xs(o)?o:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new V1("_:b"),contextResolver:new fl({sharedCache:n})}),s.link&&(s.skipExpansion=!0),s.compactToRelative||delete s.base;let l;s.skipExpansion?l=o:l=await e.expand(o,s);const u=await e.processContext(ny(s),a,s);let f=await yhe({activeCtx:u,element:l,options:s});s.compactArrays&&!s.graph&&yd(f)?f.length===1?f=f[0]:f.length===0&&(f={}):s.graph&&jc(f)&&(f=[f]),jc(a)&&"@context"in a&&(a=a["@context"]),a=Eu.clone(a),yd(a)||(a=[a]);const c=a;a=[];for(let m=0;m<c.length;++m)(!jc(c[m])||Object.keys(c[m]).length>0)&&a.push(c[m]);const p=a.length>0;if(a.length===1&&(a=a[0]),yd(f)){const m=whe({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}}),g=f;f={},p&&(f["@context"]=a),f[m]=g}else if(jc(f)&&p){const m=f;f={"@context":a};for(const g in m)f[g]=m[g]}return f},e.expand=async function(o,a){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");a=i(a,{keepFreeFloatingNodes:!1,contextResolver:new fl({sharedCache:n})});const s={},l=[];if("expandContext"in a){const p=Eu.clone(a.expandContext);jc(p)&&"@context"in p?s.expandContext=p:s.expandContext={"@context":p},l.push(s.expandContext)}let u;if(!xs(o))s.input=Eu.clone(o);else{const p=await e.get(o,a);u=p.documentUrl,s.input=p.document,p.contextUrl&&(s.remoteContext={"@context":p.contextUrl},l.push(s.remoteContext))}"base"in a||(a.base=u||"");let f=ny(a);for(const p of l)f=await jL({activeCtx:f,localCtx:p,options:a});let c=await che({activeCtx:f,element:s.input,options:a});return jc(c)&&"@graph"in c&&Object.keys(c).length===1?c=c["@graph"]:c===null&&(c=[]),yd(c)||(c=[c]),c},e.flatten=async function(o,a,s){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof a=="function"?a=null:a=a||null,s=i(s,{base:xs(o)?o:"",contextResolver:new fl({sharedCache:n})});const l=await e.expand(o,s),u=fhe(l);return a===null?u:(s.graph=!0,s.skipExpansion=!0,await e.compact(u,a,s))},e.frame=async function(o,a,s){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(s=i(s,{base:xs(o)?o:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new fl({sharedCache:n})}),xs(a)){const v=await e.get(a,s);if(a=v.document,v.contextUrl){let h=a["@context"];h?yd(h)?h.push(v.contextUrl):h=[h,v.contextUrl]:h=v.contextUrl,a["@context"]=h}}const l=a?a["@context"]||{}:{},u=await e.processContext(ny(s),l,s);s.hasOwnProperty("omitGraph")||(s.omitGraph=H1(u,1.1)),s.hasOwnProperty("pruneBlankNodeIdentifiers")||(s.pruneBlankNodeIdentifiers=H1(u,1.1));const f=await e.expand(o,s),c={...s};c.isFrame=!0,c.keepFreeFloatingNodes=!0;const p=await e.expand(a,c),m=Object.keys(a).map(v=>vhe(u,v,{vocab:!0}));c.merged=!m.includes("@graph"),c.is11=H1(u,1.1);const g=phe(f,p,c);c.graph=!s.omitGraph,c.skipExpansion=!0,c.link={},c.framing=!0;let _=await e.compact(g,l,c);return c.link={},_=mhe(_,c),_},e.link=async function(o,a,s){const l={};return a&&(l["@context"]=a),l["@embed"]="@link",e.frame(o,l,s)},e.normalize=e.canonize=async function(o,a){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(a=i(a,{base:xs(o)?o:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new fl({sharedCache:n})}),"inputFormat"in a){if(a.inputFormat!=="application/n-quads"&&a.inputFormat!=="application/nquads")throw new As("Unknown canonicalization input format.","jsonld.CanonizeError");const u=ry.parse(o);return kL.canonize(u,a)}const s={...a};delete s.format,s.produceGeneralizedRdf=!1;const l=await e.toRDF(o,s);return kL.canonize(l,a)},e.fromRDF=async function(o,a){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");a=i(a,{format:xs(o)?"application/n-quads":void 0});const{format:s}=a;let{rdfParser:l}=a;if(s){if(l=l||t[s],!l)throw new As("Unknown input format.","jsonld.UnknownFormat",{format:s})}else l=()=>o;const u=await l(o);return dhe(u,a)},e.toRDF=async function(o,a){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");a=i(a,{base:xs(o)?o:"",skipExpansion:!1,contextResolver:new fl({sharedCache:n})});let s;a.skipExpansion?s=o:s=await e.expand(o,a);const l=hhe(s,a);if(a.format){if(a.format==="application/n-quads"||a.format==="application/nquads")return ry.serialize(l);throw new As("Unknown output format.","jsonld.UnknownFormat",{format:a.format})}return l},e.createNodeMap=async function(o,a){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");a=i(a,{base:xs(o)?o:"",contextResolver:new fl({sharedCache:n})});const s=await e.expand(o,a);return _he(s,a)},e.merge=async function(o,a,s){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!yd(o))throw new TypeError('Could not merge, "docs" must be an array.');typeof a=="function"?a=null:a=a||null,s=i(s,{contextResolver:new fl({sharedCache:n})});const l=await Promise.all(o.map(v=>{const h={...s};return e.expand(v,h)}));let u=!0;"mergeNodes"in s&&(u=s.mergeNodes);const f=s.issuer||new V1("_:b"),c={"@default":{}};for(let v=0;v<l.length;++v){const h=Eu.relabelBlankNodes(l[v],{issuer:new V1("_:b"+v+"-")}),E=u||v===0?c:{"@default":{}};if(bhe(h,E,"@default",f),E!==c)for(const y in E){const S=E[y];if(!(y in c)){c[y]=S;continue}const $=c[y];for(const T in S)T in $||($[T]=S[T])}}const p=Ehe(c),m=[],g=Object.keys(p).sort();for(let v=0;v<g.length;++v){const h=p[g[v]];ghe(h)||m.push(h)}return a===null?m:(s.graph=!0,s.skipExpansion=!0,await e.compact(m,a,s))},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:o=>e._documentLoader=o}),e.documentLoader=async o=>{throw new As("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:o})},e.get=async function(o,a){let s;typeof a.documentLoader=="function"?s=a.documentLoader:s=e.documentLoader;const l=await s(o);try{if(!l.document)throw new As("No remote document found at the given URL.","jsonld.NullRemoteDocument");xs(l.document)&&(l.document=JSON.parse(l.document))}catch(u){throw new As("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:u,remoteDoc:l})}return l},e.processContext=async function(o,a,s){return s=i(s,{base:"",contextResolver:new fl({sharedCache:n})}),a===null?ny(s):(a=Eu.clone(a),jc(a)&&"@context"in a||(a={"@context":a}),jL({activeCtx:o,localCtx:a,options:s}))},e.getContextValue=Gf.getContextValue,e.documentLoaders={},e.useDocumentLoader=function(o){if(!(o in e.documentLoaders))throw new As('Unknown document loader type: "'+o+'"',"jsonld.UnknownDocumentLoader",{type:o});e.documentLoader=e.documentLoaders[o].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(o,a){t[o]=a},e.unregisterRDFParser=function(o){delete t[o]},e.registerRDFParser("application/n-quads",ry.parse),e.registerRDFParser("application/nquads",ry.parse),e.url=mc,e.logEventHandler=She,e.logWarningEventHandler=$he,e.safeEventHandler=The,e.setDefaultEventHandler=Ahe,e.strictEventHandler=Phe,e.unhandledEventHandler=Ohe,e.util=Eu,Object.assign(e,Eu),e.promises=e,e.RequestQueue=VH(),e.JsonLdProcessor=lhe()(e),CL.setupGlobals(e),CL.setupDocumentLoaders(e);function i(o,{documentLoader:a=e.documentLoader,...s}){if(o&&"compactionMap"in o)throw new As('"compactionMap" not supported.',"jsonld.OptionsError");if(o&&"expansionMap"in o)throw new As('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:a},s,o,{eventHandler:xhe({options:o})})}return e},dW=function(){return fW(function(){return dW()})};fW(dW);var HP={exports:{}},hW={},ss={},Ih={},Bg={},lr={},rg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){if(super(),!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((y,S)=>`${y}${S}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((y,S)=>(S instanceof r&&(y[S.str]=(y[S.str]||0)+1),y),{})}}e._Code=n,e.nil=new n("");function i(h,...E){const y=[h[0]];let S=0;for(;S<E.length;)s(y,E[S]),y.push(h[++S]);return new n(y)}e._=i;const o=new n("+");function a(h,...E){const y=[m(h[0])];let S=0;for(;S<E.length;)y.push(o),s(y,E[S]),y.push(o,m(h[++S]));return l(y),new n(y)}e.str=a;function s(h,E){E instanceof n?h.push(...E._items):E instanceof r?h.push(E):h.push(c(E))}e.addCodeArg=s;function l(h){let E=1;for(;E<h.length-1;){if(h[E]===o){const y=u(h[E-1],h[E+1]);if(y!==void 0){h.splice(E-1,3,y);continue}h[E++]="+"}E++}}function u(h,E){if(E==='""')return h;if(h==='""')return E;if(typeof h=="string")return E instanceof r||h[h.length-1]!=='"'?void 0:typeof E!="string"?`${h.slice(0,-1)}${E}"`:E[0]==='"'?h.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(h instanceof r))return`"${h}${E.slice(1)}`}function f(h,E){return E.emptyStr()?h:h.emptyStr()?E:a`${h}${E}`}e.strConcat=f;function c(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:m(Array.isArray(h)?h.join(","):h)}function p(h){return new n(m(h))}e.stringify=p;function m(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):i`[${h}]`}e.getProperty=g;function _(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(h){return new n(h.toString())}e.regexpCode=v})(rg);var WP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=rg;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:f}={}){this._names={},this._prefixes=u,this._parent=f}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const f=this._names[u]||this._nameGroup(u);return`${u}${f.index++}`}_nameGroup(u){var f,c;if(!((c=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||c===void 0)&&c.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class o extends t.Name{constructor(u,f){super(f),this.prefix=u}setValue(u,{property:f,itemIndex:c}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(f)}[${c}]`}}e.ValueScopeName=o;const a=(0,t._)`\n`;class s extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?a:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,f){var c;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const p=this.toName(u),{prefix:m}=p,g=(c=f.key)!==null&&c!==void 0?c:f.ref;let _=this._values[m];if(_){const E=_.get(g);if(E)return E}else _=this._values[m]=new Map;_.set(g,p);const v=this._scope[m]||(this._scope[m]=[]),h=v.length;return v[h]=f.ref,p.setValue(f,{property:m,itemIndex:h}),p}getValue(u,f){const c=this._values[u];if(c)return c.get(f)}scopeRefs(u,f=this._values){return this._reduceValues(f,c=>{if(c.scopePath===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return(0,t._)`${u}${c.scopePath}`})}scopeCode(u=this._values,f,c){return this._reduceValues(u,p=>{if(p.value===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return p.value.code},f,c)}_reduceValues(u,f,c={},p){let m=t.nil;for(const g in u){const _=u[g];if(!_)continue;const v=c[g]=c[g]||new Map;_.forEach(h=>{if(v.has(h))return;v.set(h,n.Started);let E=f(h);if(E){const y=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${y} ${h} = ${E};${this.opts._n}`}else if(E=p==null?void 0:p(h))m=(0,t._)`${m}${E}${this.opts._n}`;else throw new r(h);v.set(h,n.Completed)})}return m}}e.ValueScope=s})(WP);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=rg,r=WP;var n=rg;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=WP;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(N,q){return this}}class a extends o{constructor(N,q,ne){super(),this.varKind=N,this.name=q,this.rhs=ne}render({es5:N,_n:q}){const ne=N?r.varKinds.var:this.varKind,J=this.rhs===void 0?"":` = ${this.rhs}`;return`${ne} ${this.name}${J};`+q}optimizeNames(N,q){if(N[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,N,q)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class s extends o{constructor(N,q,ne){super(),this.lhs=N,this.rhs=q,this.sideEffects=ne}render({_n:N}){return`${this.lhs} = ${this.rhs};`+N}optimizeNames(N,q){if(!(this.lhs instanceof t.Name&&!N[this.lhs.str]&&!this.sideEffects))return this.rhs=X(this.rhs,N,q),this}get names(){const N=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(N,this.rhs)}}class l extends s{constructor(N,q,ne,J){super(N,ne,J),this.op=q}render({_n:N}){return`${this.lhs} ${this.op}= ${this.rhs};`+N}}class u extends o{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`${this.label}:`+N}}class f extends o{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`break${this.label?` ${this.label}`:""};`+N}}class c extends o{constructor(N){super(),this.error=N}render({_n:N}){return`throw ${this.error};`+N}get names(){return this.error.names}}class p extends o{constructor(N){super(),this.code=N}render({_n:N}){return`${this.code};`+N}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(N,q){return this.code=X(this.code,N,q),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends o{constructor(N=[]){super(),this.nodes=N}render(N){return this.nodes.reduce((q,ne)=>q+ne.render(N),"")}optimizeNodes(){const{nodes:N}=this;let q=N.length;for(;q--;){const ne=N[q].optimizeNodes();Array.isArray(ne)?N.splice(q,1,...ne):ne?N[q]=ne:N.splice(q,1)}return N.length>0?this:void 0}optimizeNames(N,q){const{nodes:ne}=this;let J=ne.length;for(;J--;){const Y=ne[J];Y.optimizeNames(N,q)||(H(N,Y.names),ne.splice(J,1))}return ne.length>0?this:void 0}get names(){return this.nodes.reduce((N,q)=>F(N,q.names),{})}}class g extends m{render(N){return"{"+N._n+super.render(N)+"}"+N._n}}class _ extends m{}class v extends g{}v.kind="else";class h extends g{constructor(N,q){super(q),this.condition=N}render(N){let q=`if(${this.condition})`+super.render(N);return this.else&&(q+="else "+this.else.render(N)),q}optimizeNodes(){super.optimizeNodes();const N=this.condition;if(N===!0)return this.nodes;let q=this.else;if(q){const ne=q.optimizeNodes();q=this.else=Array.isArray(ne)?new v(ne):ne}if(q)return N===!1?q instanceof h?q:q.nodes:this.nodes.length?this:new h(Z(N),q instanceof h?[q]:q.nodes);if(!(N===!1||!this.nodes.length))return this}optimizeNames(N,q){var ne;if(this.else=(ne=this.else)===null||ne===void 0?void 0:ne.optimizeNames(N,q),!!(super.optimizeNames(N,q)||this.else))return this.condition=X(this.condition,N,q),this}get names(){const N=super.names;return V(N,this.condition),this.else&&F(N,this.else.names),N}}h.kind="if";class E extends g{}E.kind="for";class y extends E{constructor(N){super(),this.iteration=N}render(N){return`for(${this.iteration})`+super.render(N)}optimizeNames(N,q){if(super.optimizeNames(N,q))return this.iteration=X(this.iteration,N,q),this}get names(){return F(super.names,this.iteration.names)}}class S extends E{constructor(N,q,ne,J){super(),this.varKind=N,this.name=q,this.from=ne,this.to=J}render(N){const q=N.es5?r.varKinds.var:this.varKind,{name:ne,from:J,to:Y}=this;return`for(${q} ${ne}=${J}; ${ne}<${Y}; ${ne}++)`+super.render(N)}get names(){const N=V(super.names,this.from);return V(N,this.to)}}class $ extends E{constructor(N,q,ne,J){super(),this.loop=N,this.varKind=q,this.name=ne,this.iterable=J}render(N){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(N)}optimizeNames(N,q){if(super.optimizeNames(N,q))return this.iterable=X(this.iterable,N,q),this}get names(){return F(super.names,this.iterable.names)}}class T extends g{constructor(N,q,ne){super(),this.name=N,this.args=q,this.async=ne}render(N){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(N)}}T.kind="func";class d extends m{render(N){return"return "+super.render(N)}}d.kind="return";class A extends g{render(N){let q="try"+super.render(N);return this.catch&&(q+=this.catch.render(N)),this.finally&&(q+=this.finally.render(N)),q}optimizeNodes(){var N,q;return super.optimizeNodes(),(N=this.catch)===null||N===void 0||N.optimizeNodes(),(q=this.finally)===null||q===void 0||q.optimizeNodes(),this}optimizeNames(N,q){var ne,J;return super.optimizeNames(N,q),(ne=this.catch)===null||ne===void 0||ne.optimizeNames(N,q),(J=this.finally)===null||J===void 0||J.optimizeNames(N,q),this}get names(){const N=super.names;return this.catch&&F(N,this.catch.names),this.finally&&F(N,this.finally.names),N}}class x extends g{constructor(N){super(),this.error=N}render(N){return`catch(${this.error})`+super.render(N)}}x.kind="catch";class P extends g{render(N){return"finally"+super.render(N)}}P.kind="finally";class j{constructor(N,q={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...q,_n:q.lines?`
`:""},this._extScope=N,this._scope=new r.Scope({parent:N}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(N){return this._scope.name(N)}scopeName(N){return this._extScope.name(N)}scopeValue(N,q){const ne=this._extScope.value(N,q);return(this._values[ne.prefix]||(this._values[ne.prefix]=new Set)).add(ne),ne}getScopeValue(N,q){return this._extScope.getValue(N,q)}scopeRefs(N){return this._extScope.scopeRefs(N,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(N,q,ne,J){const Y=this._scope.toName(q);return ne!==void 0&&J&&(this._constants[Y.str]=ne),this._leafNode(new a(N,Y,ne)),Y}const(N,q,ne){return this._def(r.varKinds.const,N,q,ne)}let(N,q,ne){return this._def(r.varKinds.let,N,q,ne)}var(N,q,ne){return this._def(r.varKinds.var,N,q,ne)}assign(N,q,ne){return this._leafNode(new s(N,q,ne))}add(N,q){return this._leafNode(new l(N,e.operators.ADD,q))}code(N){return typeof N=="function"?N():N!==t.nil&&this._leafNode(new p(N)),this}object(...N){const q=["{"];for(const[ne,J]of N)q.length>1&&q.push(","),q.push(ne),(ne!==J||this.opts.es5)&&(q.push(":"),(0,t.addCodeArg)(q,J));return q.push("}"),new t._Code(q)}if(N,q,ne){if(this._blockNode(new h(N)),q&&ne)this.code(q).else().code(ne).endIf();else if(q)this.code(q).endIf();else if(ne)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(N){return this._elseNode(new h(N))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(h,v)}_for(N,q){return this._blockNode(N),q&&this.code(q).endFor(),this}for(N,q){return this._for(new y(N),q)}forRange(N,q,ne,J,Y=this.opts.es5?r.varKinds.var:r.varKinds.let){const oe=this._scope.toName(N);return this._for(new S(Y,oe,q,ne),()=>J(oe))}forOf(N,q,ne,J=r.varKinds.const){const Y=this._scope.toName(N);if(this.opts.es5){const oe=q instanceof t.Name?q:this.var("_arr",q);return this.forRange("_i",0,(0,t._)`${oe}.length`,be=>{this.var(Y,(0,t._)`${oe}[${be}]`),ne(Y)})}return this._for(new $("of",J,Y,q),()=>ne(Y))}forIn(N,q,ne,J=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(N,(0,t._)`Object.keys(${q})`,ne);const Y=this._scope.toName(N);return this._for(new $("in",J,Y,q),()=>ne(Y))}endFor(){return this._endBlockNode(E)}label(N){return this._leafNode(new u(N))}break(N){return this._leafNode(new f(N))}return(N){const q=new d;if(this._blockNode(q),this.code(N),q.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(N,q,ne){if(!q&&!ne)throw new Error('CodeGen: "try" without "catch" and "finally"');const J=new A;if(this._blockNode(J),this.code(N),q){const Y=this.name("e");this._currNode=J.catch=new x(Y),q(Y)}return ne&&(this._currNode=J.finally=new P,this.code(ne)),this._endBlockNode(x,P)}throw(N){return this._leafNode(new c(N))}block(N,q){return this._blockStarts.push(this._nodes.length),N&&this.code(N).endBlock(q),this}endBlock(N){const q=this._blockStarts.pop();if(q===void 0)throw new Error("CodeGen: not in self-balancing block");const ne=this._nodes.length-q;if(ne<0||N!==void 0&&ne!==N)throw new Error(`CodeGen: wrong number of nodes: ${ne} vs ${N} expected`);return this._nodes.length=q,this}func(N,q=t.nil,ne,J){return this._blockNode(new T(N,q,ne)),J&&this.code(J).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(N=1){for(;N-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(N){return this._currNode.nodes.push(N),this}_blockNode(N){this._currNode.nodes.push(N),this._nodes.push(N)}_endBlockNode(N,q){const ne=this._currNode;if(ne instanceof N||q&&ne instanceof q)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${q?`${N.kind}/${q.kind}`:N.kind}"`)}_elseNode(N){const q=this._currNode;if(!(q instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=q.else=N,this}get _root(){return this._nodes[0]}get _currNode(){const N=this._nodes;return N[N.length-1]}set _currNode(N){const q=this._nodes;q[q.length-1]=N}}e.CodeGen=j;function F(O,N){for(const q in N)O[q]=(O[q]||0)+(N[q]||0);return O}function V(O,N){return N instanceof t._CodeOrName?F(O,N.names):O}function X(O,N,q){if(O instanceof t.Name)return ne(O);if(!J(O))return O;return new t._Code(O._items.reduce((Y,oe)=>(oe instanceof t.Name&&(oe=ne(oe)),oe instanceof t._Code?Y.push(...oe._items):Y.push(oe),Y),[]));function ne(Y){const oe=q[Y.str];return oe===void 0||N[Y.str]!==1?Y:(delete N[Y.str],oe)}function J(Y){return Y instanceof t._Code&&Y._items.some(oe=>oe instanceof t.Name&&N[oe.str]===1&&q[oe.str]!==void 0)}}function H(O,N){for(const q in N)O[q]=(O[q]||0)-(N[q]||0)}function Z(O){return typeof O=="boolean"||typeof O=="number"||O===null?!O:(0,t._)`!${K(O)}`}e.not=Z;const fe=B(e.operators.AND);function ee(...O){return O.reduce(fe)}e.and=ee;const ae=B(e.operators.OR);function M(...O){return O.reduce(ae)}e.or=M;function B(O){return(N,q)=>N===t.nil?q:q===t.nil?N:(0,t._)`${K(N)} ${O} ${K(q)}`}function K(O){return O instanceof t.Name?O:(0,t._)`(${O})`}})(lr);var kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.checkStrictMode=kt.getErrorPath=kt.Type=kt.useFunc=kt.setEvaluated=kt.evaluatedPropsToName=kt.mergeEvaluated=kt.eachItem=kt.unescapeJsonPointer=kt.escapeJsonPointer=kt.escapeFragment=kt.unescapeFragment=kt.schemaRefOrVal=kt.schemaHasRulesButRef=kt.schemaHasRules=kt.checkUnknownRules=kt.alwaysValidSchema=kt.toHash=void 0;const sn=lr,Rhe=rg;function Ihe(e){const t={};for(const r of e)t[r]=!0;return t}kt.toHash=Ihe;function Nhe(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(pW(e,t),!mW(t,e.self.RULES.all))}kt.alwaysValidSchema=Nhe;function pW(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const i=n.RULES.keywords;for(const o in t)i[o]||yW(e,`unknown keyword: "${o}"`)}kt.checkUnknownRules=pW;function mW(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}kt.schemaHasRules=mW;function khe(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}kt.schemaHasRulesButRef=khe;function Che({topSchemaRef:e,schemaPath:t},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,sn._)`${r}`}return(0,sn._)`${e}${t}${(0,sn.getProperty)(n)}`}kt.schemaRefOrVal=Che;function jhe(e){return gW(decodeURIComponent(e))}kt.unescapeFragment=jhe;function Dhe(e){return encodeURIComponent(kN(e))}kt.escapeFragment=Dhe;function kN(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}kt.escapeJsonPointer=kN;function gW(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}kt.unescapeJsonPointer=gW;function Mhe(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}kt.eachItem=Mhe;function DL({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(i,o,a,s)=>{const l=a===void 0?o:a instanceof sn.Name?(o instanceof sn.Name?e(i,o,a):t(i,o,a),a):o instanceof sn.Name?(t(i,a,o),o):r(o,a);return s===sn.Name&&!(l instanceof sn.Name)?n(i,l):l}}kt.mergeEvaluated={props:DL({mergeNames:(e,t,r)=>e.if((0,sn._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,sn._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,sn._)`${r} || {}`).code((0,sn._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,sn._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,sn._)`${r} || {}`),CN(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:vW}),items:DL({mergeNames:(e,t,r)=>e.if((0,sn._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,sn._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,sn._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,sn._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function vW(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,sn._)`{}`);return t!==void 0&&CN(e,r,t),r}kt.evaluatedPropsToName=vW;function CN(e,t,r){Object.keys(r).forEach(n=>e.assign((0,sn._)`${t}${(0,sn.getProperty)(n)}`,!0))}kt.setEvaluated=CN;const ML={};function Lhe(e,t){return e.scopeValue("func",{ref:t,code:ML[t.code]||(ML[t.code]=new Rhe._Code(t.code))})}kt.useFunc=Lhe;var GP;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(GP||(kt.Type=GP={}));function Fhe(e,t,r){if(e instanceof sn.Name){const n=t===GP.Num;return r?n?(0,sn._)`"[" + ${e} + "]"`:(0,sn._)`"['" + ${e} + "']"`:n?(0,sn._)`"/" + ${e}`:(0,sn._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,sn.getProperty)(e).toString():"/"+kN(e)}kt.getErrorPath=Fhe;function yW(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}kt.checkStrictMode=yW;var nl={};Object.defineProperty(nl,"__esModule",{value:!0});const Ci=lr,Bhe={data:new Ci.Name("data"),valCxt:new Ci.Name("valCxt"),instancePath:new Ci.Name("instancePath"),parentData:new Ci.Name("parentData"),parentDataProperty:new Ci.Name("parentDataProperty"),rootData:new Ci.Name("rootData"),dynamicAnchors:new Ci.Name("dynamicAnchors"),vErrors:new Ci.Name("vErrors"),errors:new Ci.Name("errors"),this:new Ci.Name("this"),self:new Ci.Name("self"),scope:new Ci.Name("scope"),json:new Ci.Name("json"),jsonPos:new Ci.Name("jsonPos"),jsonLen:new Ci.Name("jsonLen"),jsonPart:new Ci.Name("jsonPart")};nl.default=Bhe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=lr,r=kt,n=nl;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:h})=>h?(0,t.str)`"${v}" keyword must be ${h} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,h=e.keywordError,E,y){const{it:S}=v,{gen:$,compositeRule:T,allErrors:d}=S,A=c(v,h,E);y??(T||d)?l($,A):u(S,(0,t._)`[${A}]`)}e.reportError=i;function o(v,h=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:$,allErrors:T}=y,d=c(v,h,E);l(S,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function a(v,h){v.assign(n.default.errors,h),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(h,()=>v.assign((0,t._)`${n.default.vErrors}.length`,h),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:v,keyword:h,schemaValue:E,data:y,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${h}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,E),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=s;function l(v,h){const E=v.const("err",h);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,h){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${h})`):(E.assign((0,t._)`${y}.errors`,h),E.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,h,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:p(v,h,E)}function p(v,h,E={}){const{gen:y,it:S}=v,$=[m(S,E),g(v,E)];return _(v,h,$),y.object(...$)}function m({errorPath:v},{instancePath:h}){const E=h?(0,t.str)`${v}${(0,r.getErrorPath)(h,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:h}},{schemaPath:E,parentSchema:y}){let S=y?h:(0,t.str)`${h}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:h,message:E},y){const{keyword:S,data:$,schemaValue:T,it:d}=v,{opts:A,propertyName:x,topSchemaRef:P,schemaPath:j}=d;y.push([f.keyword,S],[f.params,typeof h=="function"?h(v):h||(0,t._)`{}`]),A.messages&&y.push([f.message,typeof E=="function"?E(v):E]),A.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${P}${j}`],[n.default.data,$]),x&&y.push([f.propertyName,x])}})(Bg);Object.defineProperty(Ih,"__esModule",{value:!0});Ih.boolOrEmptySchema=Ih.topBoolOrEmptySchema=void 0;const Uhe=Bg,zhe=lr,qhe=nl,Vhe={message:"boolean schema is false"};function Hhe(e){const{gen:t,schema:r,validateName:n}=e;r===!1?wW(e,!1):typeof r=="object"&&r.$async===!0?t.return(qhe.default.data):(t.assign((0,zhe._)`${n}.errors`,null),t.return(!0))}Ih.topBoolOrEmptySchema=Hhe;function Whe(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),wW(e)):r.var(t,!0)}Ih.boolOrEmptySchema=Whe;function wW(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Uhe.reportError)(i,Vhe,void 0,t)}var ni={},kf={};Object.defineProperty(kf,"__esModule",{value:!0});kf.getRules=kf.isJSONType=void 0;const Ghe=["string","number","integer","boolean","null","object","array"],Khe=new Set(Ghe);function Jhe(e){return typeof e=="string"&&Khe.has(e)}kf.isJSONType=Jhe;function Yhe(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}kf.getRules=Yhe;var Il={};Object.defineProperty(Il,"__esModule",{value:!0});Il.shouldUseRule=Il.shouldUseGroup=Il.schemaHasRulesForType=void 0;function Xhe({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&bW(e,n)}Il.schemaHasRulesForType=Xhe;function bW(e,t){return t.rules.some(r=>_W(e,r))}Il.shouldUseGroup=bW;function _W(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Il.shouldUseRule=_W;Object.defineProperty(ni,"__esModule",{value:!0});ni.reportTypeError=ni.checkDataTypes=ni.checkDataType=ni.coerceAndCheckDataType=ni.getJSONTypes=ni.getSchemaTypes=ni.DataType=void 0;const Qhe=kf,Zhe=Il,epe=Bg,ar=lr,EW=kt;var dh;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(dh||(ni.DataType=dh={}));function tpe(e){const t=SW(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}ni.getSchemaTypes=tpe;function SW(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(Qhe.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}ni.getJSONTypes=SW;function rpe(e,t){const{gen:r,data:n,opts:i}=e,o=npe(t,i.coerceTypes),a=t.length>0&&!(o.length===0&&t.length===1&&(0,Zhe.schemaHasRulesForType)(e,t[0]));if(a){const s=jN(t,n,i.strictNumbers,dh.Wrong);r.if(s,()=>{o.length?ipe(e,t,o):DN(e)})}return a}ni.coerceAndCheckDataType=rpe;const $W=new Set(["string","number","integer","boolean","null"]);function npe(e,t){return t?e.filter(r=>$W.has(r)||t==="array"&&r==="array"):[]}function ipe(e,t,r){const{gen:n,data:i,opts:o}=e,a=n.let("dataType",(0,ar._)`typeof ${i}`),s=n.let("coerced",(0,ar._)`undefined`);o.coerceTypes==="array"&&n.if((0,ar._)`${a} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,ar._)`${i}[0]`).assign(a,(0,ar._)`typeof ${i}`).if(jN(t,i,o.strictNumbers),()=>n.assign(s,i))),n.if((0,ar._)`${s} !== undefined`);for(const u of r)($W.has(u)||u==="array"&&o.coerceTypes==="array")&&l(u);n.else(),DN(e),n.endIf(),n.if((0,ar._)`${s} !== undefined`,()=>{n.assign(i,s),ope(e,s)});function l(u){switch(u){case"string":n.elseIf((0,ar._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,ar._)`"" + ${i}`).elseIf((0,ar._)`${i} === null`).assign(s,(0,ar._)`""`);return;case"number":n.elseIf((0,ar._)`${a} == "boolean" || ${i} === null
              || (${a} == "string" && ${i} && ${i} == +${i})`).assign(s,(0,ar._)`+${i}`);return;case"integer":n.elseIf((0,ar._)`${a} === "boolean" || ${i} === null
              || (${a} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(s,(0,ar._)`+${i}`);return;case"boolean":n.elseIf((0,ar._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(s,!1).elseIf((0,ar._)`${i} === "true" || ${i} === 1`).assign(s,!0);return;case"null":n.elseIf((0,ar._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(s,null);return;case"array":n.elseIf((0,ar._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${i} === null`).assign(s,(0,ar._)`[${i}]`)}}}function ope({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,ar._)`${t} !== undefined`,()=>e.assign((0,ar._)`${t}[${r}]`,n))}function KP(e,t,r,n=dh.Correct){const i=n===dh.Correct?ar.operators.EQ:ar.operators.NEQ;let o;switch(e){case"null":return(0,ar._)`${t} ${i} null`;case"array":o=(0,ar._)`Array.isArray(${t})`;break;case"object":o=(0,ar._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=a((0,ar._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=a();break;default:return(0,ar._)`typeof ${t} ${i} ${e}`}return n===dh.Correct?o:(0,ar.not)(o);function a(s=ar.nil){return(0,ar.and)((0,ar._)`typeof ${t} == "number"`,s,r?(0,ar._)`isFinite(${t})`:ar.nil)}}ni.checkDataType=KP;function jN(e,t,r,n){if(e.length===1)return KP(e[0],t,r,n);let i;const o=(0,EW.toHash)(e);if(o.array&&o.object){const a=(0,ar._)`typeof ${t} != "object"`;i=o.null?a:(0,ar._)`!${t} || ${a}`,delete o.null,delete o.array,delete o.object}else i=ar.nil;o.number&&delete o.integer;for(const a in o)i=(0,ar.and)(i,KP(a,t,r,n));return i}ni.checkDataTypes=jN;const ape={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,ar._)`{type: ${e}}`:(0,ar._)`{type: ${t}}`};function DN(e){const t=spe(e);(0,epe.reportError)(t,ape)}ni.reportTypeError=DN;function spe(e){const{gen:t,data:r,schema:n}=e,i=(0,EW.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}var FE={};Object.defineProperty(FE,"__esModule",{value:!0});FE.assignDefaults=void 0;const wd=lr,lpe=kt;function upe(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)LL(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,o)=>LL(e,o,i.default))}FE.assignDefaults=upe;function LL(e,t,r){const{gen:n,compositeRule:i,data:o,opts:a}=e;if(r===void 0)return;const s=(0,wd._)`${o}${(0,wd.getProperty)(t)}`;if(i){(0,lpe.checkStrictMode)(e,`default is ignored for: ${s}`);return}let l=(0,wd._)`${s} === undefined`;a.useDefaults==="empty"&&(l=(0,wd._)`${l} || ${s} === null || ${s} === ""`),n.if(l,(0,wd._)`${s} = ${(0,wd.stringify)(r)}`)}var qs={},wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.validateUnion=wr.validateArray=wr.usePattern=wr.callValidateCode=wr.schemaProperties=wr.allSchemaProperties=wr.noPropertyInData=wr.propertyInData=wr.isOwnProperty=wr.hasPropFunc=wr.reportMissingProp=wr.checkMissingProp=wr.checkReportMissingProp=void 0;const yn=lr,MN=kt,du=nl,cpe=kt;function fpe(e,t){const{gen:r,data:n,it:i}=e;r.if(FN(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,yn._)`${t}`},!0),e.error()})}wr.checkReportMissingProp=fpe;function dpe({gen:e,data:t,it:{opts:r}},n,i){return(0,yn.or)(...n.map(o=>(0,yn.and)(FN(e,t,o,r.ownProperties),(0,yn._)`${i} = ${o}`)))}wr.checkMissingProp=dpe;function hpe(e,t){e.setParams({missingProperty:t},!0),e.error()}wr.reportMissingProp=hpe;function TW(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,yn._)`Object.prototype.hasOwnProperty`})}wr.hasPropFunc=TW;function LN(e,t,r){return(0,yn._)`${TW(e)}.call(${t}, ${r})`}wr.isOwnProperty=LN;function ppe(e,t,r,n){const i=(0,yn._)`${t}${(0,yn.getProperty)(r)} !== undefined`;return n?(0,yn._)`${i} && ${LN(e,t,r)}`:i}wr.propertyInData=ppe;function FN(e,t,r,n){const i=(0,yn._)`${t}${(0,yn.getProperty)(r)} === undefined`;return n?(0,yn.or)(i,(0,yn.not)(LN(e,t,r))):i}wr.noPropertyInData=FN;function AW(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}wr.allSchemaProperties=AW;function mpe(e,t){return AW(t).filter(r=>!(0,MN.alwaysValidSchema)(e,t[r]))}wr.schemaProperties=mpe;function gpe({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:o},it:a},s,l,u){const f=u?(0,yn._)`${e}, ${t}, ${n}${i}`:t,c=[[du.default.instancePath,(0,yn.strConcat)(du.default.instancePath,o)],[du.default.parentData,a.parentData],[du.default.parentDataProperty,a.parentDataProperty],[du.default.rootData,du.default.rootData]];a.opts.dynamicRef&&c.push([du.default.dynamicAnchors,du.default.dynamicAnchors]);const p=(0,yn._)`${f}, ${r.object(...c)}`;return l!==yn.nil?(0,yn._)`${s}.call(${l}, ${p})`:(0,yn._)`${s}(${p})`}wr.callValidateCode=gpe;const vpe=(0,yn._)`new RegExp`;function ype({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,o=i(r,n);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,yn._)`${i.code==="new RegExp"?vpe:(0,cpe.useFunc)(e,i)}(${r}, ${n})`})}wr.usePattern=ype;function wpe(e){const{gen:t,data:r,keyword:n,it:i}=e,o=t.name("valid");if(i.allErrors){const s=t.let("valid",!0);return a(()=>t.assign(s,!1)),s}return t.var(o,!0),a(()=>t.break()),o;function a(s){const l=t.const("len",(0,yn._)`${r}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:MN.Type.Num},o),t.if((0,yn.not)(o),s)})}}wr.validateArray=wpe;function bpe(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,MN.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const a=t.let("valid",!1),s=t.name("_valid");t.block(()=>r.forEach((l,u)=>{const f=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},s);t.assign(a,(0,yn._)`${a} || ${s}`),e.mergeValidEvaluated(f,s)||t.if((0,yn.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}wr.validateUnion=bpe;Object.defineProperty(qs,"__esModule",{value:!0});qs.validateKeywordUsage=qs.validSchemaType=qs.funcKeywordCode=qs.macroKeywordCode=void 0;const Qi=lr,Jc=nl,_pe=wr,Epe=Bg;function Spe(e,t){const{gen:r,keyword:n,schema:i,parentSchema:o,it:a}=e,s=t.macro.call(a.self,i,o,a),l=xW(r,n,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);const u=r.name("valid");e.subschema({schema:s,schemaPath:Qi.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}qs.macroKeywordCode=Spe;function $pe(e,t){var r;const{gen:n,keyword:i,schema:o,parentSchema:a,$data:s,it:l}=e;Ape(l,t);const u=!s&&t.compile?t.compile.call(l.self,o,a,l):t.validate,f=xW(n,i,u),c=n.let("valid");e.block$data(c,p),e.ok((r=t.valid)!==null&&r!==void 0?r:c);function p(){if(t.errors===!1)_(),t.modifying&&FL(e),v(()=>e.error());else{const h=t.async?m():g();t.modifying&&FL(e),v(()=>Tpe(e,h))}}function m(){const h=n.let("ruleErrs",null);return n.try(()=>_((0,Qi._)`await `),E=>n.assign(c,!1).if((0,Qi._)`${E} instanceof ${l.ValidationError}`,()=>n.assign(h,(0,Qi._)`${E}.errors`),()=>n.throw(E))),h}function g(){const h=(0,Qi._)`${f}.errors`;return n.assign(h,null),_(Qi.nil),h}function _(h=t.async?(0,Qi._)`await `:Qi.nil){const E=l.opts.passContext?Jc.default.this:Jc.default.self,y=!("compile"in t&&!s||t.schema===!1);n.assign(c,(0,Qi._)`${h}${(0,_pe.callValidateCode)(e,f,E,y)}`,t.modifying)}function v(h){var E;n.if((0,Qi.not)((E=t.valid)!==null&&E!==void 0?E:c),h)}}qs.funcKeywordCode=$pe;function FL(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Qi._)`${n.parentData}[${n.parentDataProperty}]`))}function Tpe(e,t){const{gen:r}=e;r.if((0,Qi._)`Array.isArray(${t})`,()=>{r.assign(Jc.default.vErrors,(0,Qi._)`${Jc.default.vErrors} === null ? ${t} : ${Jc.default.vErrors}.concat(${t})`).assign(Jc.default.errors,(0,Qi._)`${Jc.default.vErrors}.length`),(0,Epe.extendErrors)(e)},()=>e.error())}function Ape({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function xW(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Qi.stringify)(r)})}function xpe(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}qs.validSchemaType=xpe;function Ppe({schema:e,opts:t,self:r,errSchemaPath:n},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const a=i.dependencies;if(a!=null&&a.some(s=>!Object.prototype.hasOwnProperty.call(e,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[o])){const l=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}qs.validateKeywordUsage=Ppe;var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.extendSubschemaMode=Gu.extendSubschemaData=Gu.getSubschema=void 0;const Fs=lr,PW=kt;function Ope(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:o,topSchemaRef:a}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const s=e.schema[t];return r===void 0?{schema:s,schemaPath:(0,Fs._)`${e.schemaPath}${(0,Fs.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:s[r],schemaPath:(0,Fs._)`${e.schemaPath}${(0,Fs.getProperty)(t)}${(0,Fs.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,PW.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Gu.getSubschema=Ope;function Rpe(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:o,propertyName:a}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:s}=t;if(r!==void 0){const{errorPath:u,dataPathArr:f,opts:c}=t,p=s.let("data",(0,Fs._)`${t.data}${(0,Fs.getProperty)(r)}`,!0);l(p),e.errorPath=(0,Fs.str)`${u}${(0,PW.getErrorPath)(r,n,c.jsPropertySyntax)}`,e.parentDataProperty=(0,Fs._)`${r}`,e.dataPathArr=[...f,e.parentDataProperty]}if(i!==void 0){const u=i instanceof Fs.Name?i:s.let("data",i,!0);l(u),a!==void 0&&(e.propertyName=a)}o&&(e.dataTypes=o);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}Gu.extendSubschemaData=Rpe;function Ipe(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:o}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),o!==void 0&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}Gu.extendSubschemaMode=Ipe;var $i={},OW=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r},RW={exports:{}},ju=RW.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};zw(t,n,i,e,"",e)};ju.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};ju.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ju.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ju.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function zw(e,t,r,n,i,o,a,s,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,o,a,s,l,u);for(var f in n){var c=n[f];if(Array.isArray(c)){if(f in ju.arrayKeywords)for(var p=0;p<c.length;p++)zw(e,t,r,c[p],i+"/"+f+"/"+p,o,i,f,n,p)}else if(f in ju.propsKeywords){if(c&&typeof c=="object")for(var m in c)zw(e,t,r,c[m],i+"/"+f+"/"+Npe(m),o,i,f,n,m)}else(f in ju.keywords||e.allKeys&&!(f in ju.skipKeywords))&&zw(e,t,r,c,i+"/"+f,o,i,f,n)}r(n,i,o,a,s,l,u)}}function Npe(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var kpe=RW.exports;Object.defineProperty($i,"__esModule",{value:!0});$i.getSchemaRefs=$i.resolveUrl=$i.normalizeId=$i._getFullPath=$i.getFullPath=$i.inlineRef=void 0;const Cpe=kt,jpe=OW,Dpe=kpe,Mpe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Lpe(e,t=!0){return typeof e=="boolean"?!0:t===!0?!JP(e):t?IW(e)<=t:!1}$i.inlineRef=Lpe;const Fpe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function JP(e){for(const t in e){if(Fpe.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(JP)||typeof r=="object"&&JP(r))return!0}return!1}function IW(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Mpe.has(r)&&(typeof e[r]=="object"&&(0,Cpe.eachItem)(e[r],n=>t+=IW(n)),t===1/0))return 1/0}return t}function NW(e,t="",r){r!==!1&&(t=hh(t));const n=e.parse(t);return kW(e,n)}$i.getFullPath=NW;function kW(e,t){return e.serialize(t).split("#")[0]+"#"}$i._getFullPath=kW;const Bpe=/#\/?$/;function hh(e){return e?e.replace(Bpe,""):""}$i.normalizeId=hh;function Upe(e,t,r){return r=hh(r),e.resolve(t,r)}$i.resolveUrl=Upe;const zpe=/^[a-z_][-a-z0-9._]*$/i;function qpe(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=hh(e[r]||t),o={"":i},a=NW(n,i,!1),s={},l=new Set;return Dpe(e,{allKeys:!0},(c,p,m,g)=>{if(g===void 0)return;const _=a+p;let v=o[g];typeof c[r]=="string"&&(v=h.call(this,c[r])),E.call(this,c.$anchor),E.call(this,c.$dynamicAnchor),o[p]=v;function h(y){const S=this.opts.uriResolver.resolve;if(y=hh(v?S(v,y):y),l.has(y))throw f(y);l.add(y);let $=this.refs[y];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?u(c,$.schema,y):y!==hh(_)&&(y[0]==="#"?(u(c,s[y],y),s[y]=c):this.refs[y]=_),y}function E(y){if(typeof y=="string"){if(!zpe.test(y))throw new Error(`invalid anchor "${y}"`);h.call(this,`#${y}`)}}}),s;function u(c,p,m){if(p!==void 0&&!jpe(c,p))throw f(m)}function f(c){return new Error(`reference "${c}" resolves to more than one schema`)}}$i.getSchemaRefs=qpe;Object.defineProperty(ss,"__esModule",{value:!0});ss.getData=ss.KeywordCxt=ss.validateFunctionCode=void 0;const CW=Ih,BL=ni,BN=Il,c_=ni,Vpe=FE,ym=qs,W1=Gu,Wt=lr,Zt=nl,Hpe=$i,Nl=kt,Ep=Bg;function Wpe(e){if(MW(e)&&(LW(e),DW(e))){Jpe(e);return}jW(e,()=>(0,CW.topBoolOrEmptySchema)(e))}ss.validateFunctionCode=Wpe;function jW({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},o){i.code.es5?e.func(t,(0,Wt._)`${Zt.default.data}, ${Zt.default.valCxt}`,n.$async,()=>{e.code((0,Wt._)`"use strict"; ${UL(r,i)}`),Kpe(e,i),e.code(o)}):e.func(t,(0,Wt._)`${Zt.default.data}, ${Gpe(i)}`,n.$async,()=>e.code(UL(r,i)).code(o))}function Gpe(e){return(0,Wt._)`{${Zt.default.instancePath}="", ${Zt.default.parentData}, ${Zt.default.parentDataProperty}, ${Zt.default.rootData}=${Zt.default.data}${e.dynamicRef?(0,Wt._)`, ${Zt.default.dynamicAnchors}={}`:Wt.nil}}={}`}function Kpe(e,t){e.if(Zt.default.valCxt,()=>{e.var(Zt.default.instancePath,(0,Wt._)`${Zt.default.valCxt}.${Zt.default.instancePath}`),e.var(Zt.default.parentData,(0,Wt._)`${Zt.default.valCxt}.${Zt.default.parentData}`),e.var(Zt.default.parentDataProperty,(0,Wt._)`${Zt.default.valCxt}.${Zt.default.parentDataProperty}`),e.var(Zt.default.rootData,(0,Wt._)`${Zt.default.valCxt}.${Zt.default.rootData}`),t.dynamicRef&&e.var(Zt.default.dynamicAnchors,(0,Wt._)`${Zt.default.valCxt}.${Zt.default.dynamicAnchors}`)},()=>{e.var(Zt.default.instancePath,(0,Wt._)`""`),e.var(Zt.default.parentData,(0,Wt._)`undefined`),e.var(Zt.default.parentDataProperty,(0,Wt._)`undefined`),e.var(Zt.default.rootData,Zt.default.data),t.dynamicRef&&e.var(Zt.default.dynamicAnchors,(0,Wt._)`{}`)})}function Jpe(e){const{schema:t,opts:r,gen:n}=e;jW(e,()=>{r.$comment&&t.$comment&&BW(e),eme(e),n.let(Zt.default.vErrors,null),n.let(Zt.default.errors,0),r.unevaluated&&Ype(e),FW(e),nme(e)})}function Ype(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Wt._)`${r}.evaluated`),t.if((0,Wt._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Wt._)`${e.evaluated}.props`,(0,Wt._)`undefined`)),t.if((0,Wt._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Wt._)`${e.evaluated}.items`,(0,Wt._)`undefined`))}function UL(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Wt._)`/*# sourceURL=${r} */`:Wt.nil}function Xpe(e,t){if(MW(e)&&(LW(e),DW(e))){Qpe(e,t);return}(0,CW.boolOrEmptySchema)(e,t)}function DW({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function MW(e){return typeof e.schema!="boolean"}function Qpe(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&BW(e),tme(e),rme(e);const o=n.const("_errs",Zt.default.errors);FW(e,o),n.var(t,(0,Wt._)`${o} === ${Zt.default.errors}`)}function LW(e){(0,Nl.checkUnknownRules)(e),Zpe(e)}function FW(e,t){if(e.opts.jtd)return zL(e,[],!1,t);const r=(0,BL.getSchemaTypes)(e.schema),n=(0,BL.coerceAndCheckDataType)(e,r);zL(e,r,!n,t)}function Zpe(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Nl.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function eme(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Nl.checkStrictMode)(e,"default is ignored in the schema root")}function tme(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Hpe.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function rme(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function BW({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const o=r.$comment;if(i.$comment===!0)e.code((0,Wt._)`${Zt.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){const a=(0,Wt.str)`${n}/$comment`,s=e.scopeValue("root",{ref:t.root});e.code((0,Wt._)`${Zt.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function nme(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:o}=e;r.$async?t.if((0,Wt._)`${Zt.default.errors} === 0`,()=>t.return(Zt.default.data),()=>t.throw((0,Wt._)`new ${i}(${Zt.default.vErrors})`)):(t.assign((0,Wt._)`${n}.errors`,Zt.default.vErrors),o.unevaluated&&ime(e),t.return((0,Wt._)`${Zt.default.errors} === 0`))}function ime({gen:e,evaluated:t,props:r,items:n}){r instanceof Wt.Name&&e.assign((0,Wt._)`${t}.props`,r),n instanceof Wt.Name&&e.assign((0,Wt._)`${t}.items`,n)}function zL(e,t,r,n){const{gen:i,schema:o,data:a,allErrors:s,opts:l,self:u}=e,{RULES:f}=u;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,Nl.schemaHasRulesButRef)(o,f))){i.block(()=>qW(e,"$ref",f.all.$ref.definition));return}l.jtd||ome(e,t),i.block(()=>{for(const p of f.rules)c(p);c(f.post)});function c(p){(0,BN.shouldUseGroup)(o,p)&&(p.type?(i.if((0,c_.checkDataType)(p.type,a,l.strictNumbers)),qL(e,p),t.length===1&&t[0]===p.type&&r&&(i.else(),(0,c_.reportTypeError)(e)),i.endIf()):qL(e,p),s||i.if((0,Wt._)`${Zt.default.errors} === ${n||0}`))}}function qL(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,Vpe.assignDefaults)(e,t.type),r.block(()=>{for(const o of t.rules)(0,BN.shouldUseRule)(n,o)&&qW(e,o.keyword,o.definition,t.type)})}function ome(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(ame(e,t),e.opts.allowUnionTypes||sme(e,t),lme(e,e.dataTypes))}function ame(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{UW(e.dataTypes,r)||UN(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),cme(e,t)}}function sme(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&UN(e,"use allowUnionTypes to allow union type keyword")}function lme(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,BN.shouldUseRule)(e.schema,i)){const{type:o}=i.definition;o.length&&!o.some(a=>ume(t,a))&&UN(e,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function ume(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function UW(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function cme(e,t){const r=[];for(const n of e.dataTypes)UW(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function UN(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Nl.checkStrictMode)(e,t,e.opts.strictTypes)}class zW{constructor(t,r,n){if((0,ym.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Nl.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",VW(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,ym.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Zt.default.errors))}result(t,r,n){this.failResult((0,Wt.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Wt.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,Wt._)`${r} !== undefined && (${(0,Wt.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Ep.reportExtraError:Ep.reportError)(this,this.def.error,r)}$dataError(){(0,Ep.reportError)(this,this.def.$dataError||Ep.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ep.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Wt.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Wt.nil,r=Wt.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:o,def:a}=this;n.if((0,Wt.or)((0,Wt._)`${i} === undefined`,r)),t!==Wt.nil&&n.assign(t,!0),(o.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Wt.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:o}=this;return(0,Wt.or)(a(),s());function a(){if(n.length){if(!(r instanceof Wt.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,Wt._)`${(0,c_.checkDataTypes)(l,r,o.opts.strictNumbers,c_.DataType.Wrong)}`}return Wt.nil}function s(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,Wt._)`!${l}(${r})`}return Wt.nil}}subschema(t,r){const n=(0,W1.getSubschema)(this.it,t);(0,W1.extendSubschemaData)(n,this.it,t),(0,W1.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return Xpe(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Nl.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Nl.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,Wt.Name)),!0}}ss.KeywordCxt=zW;function qW(e,t,r,n){const i=new zW(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,ym.funcKeywordCode)(i,r):"macro"in r?(0,ym.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,ym.funcKeywordCode)(i,r)}const fme=/^\/(?:[^~]|~0|~1)*$/,dme=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function VW(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,o;if(e==="")return Zt.default.rootData;if(e[0]==="/"){if(!fme.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,o=Zt.default.rootData}else{const u=dme.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const f=+u[1];if(i=u[2],i==="#"){if(f>=t)throw new Error(l("property/index",f));return n[t-f]}if(f>t)throw new Error(l("data",f));if(o=r[t-f],!i)return o}let a=o;const s=i.split("/");for(const u of s)u&&(o=(0,Wt._)`${o}${(0,Wt.getProperty)((0,Nl.unescapeJsonPointer)(u))}`,a=(0,Wt._)`${a} && ${o}`);return a;function l(u,f){return`Cannot access ${u} ${f} levels up, current level is ${t}`}}ss.getData=VW;var Ug={};Object.defineProperty(Ug,"__esModule",{value:!0});class hme extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Ug.default=hme;var Gh={};Object.defineProperty(Gh,"__esModule",{value:!0});const G1=$i;class pme extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,G1.resolveUrl)(t,r,n),this.missingSchema=(0,G1.normalizeId)((0,G1.getFullPath)(t,this.missingRef))}}Gh.default=pme;var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.resolveSchema=_o.getCompilingSchema=_o.resolveRef=_o.compileSchema=_o.SchemaEnv=void 0;const Wa=lr,mme=Ug,Dc=nl,is=$i,VL=kt,gme=ss;class BE{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,is.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}_o.SchemaEnv=BE;function zN(e){const t=HW.call(this,e);if(t)return t;const r=(0,is.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:o}=this.opts,a=new Wa.CodeGen(this.scope,{es5:n,lines:i,ownProperties:o});let s;e.$async&&(s=a.scopeValue("Error",{ref:mme.default,code:(0,Wa._)`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");e.validateName=l;const u={gen:a,allErrors:this.opts.allErrors,data:Dc.default.data,parentData:Dc.default.parentData,parentDataProperty:Dc.default.parentDataProperty,dataNames:[Dc.default.data],dataPathArr:[Wa.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Wa.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:s,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Wa.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Wa._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,gme.validateFunctionCode)(u),a.optimize(this.opts.code.optimize);const c=a.toString();f=`${a.scopeRefs(Dc.default.scope)}return ${c}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const m=new Function(`${Dc.default.self}`,`${Dc.default.scope}`,f)(this,this.scope.get());if(this.scope.value(l,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:l,validateCode:c,scopeValues:a._values}),this.opts.unevaluated){const{props:g,items:_}=u;m.evaluated={props:g instanceof Wa.Name?void 0:g,items:_ instanceof Wa.Name?void 0:_,dynamicProps:g instanceof Wa.Name,dynamicItems:_ instanceof Wa.Name},m.source&&(m.source.evaluated=(0,Wa.stringify)(m.evaluated))}return e.validate=m,e}catch(c){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),c}finally{this._compilations.delete(e)}}_o.compileSchema=zN;function vme(e,t,r){var n;r=(0,is.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let o=bme.call(this,e,r);if(o===void 0){const a=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:s}=this.opts;a&&(o=new BE({schema:a,schemaId:s,root:e,baseId:t}))}if(o!==void 0)return e.refs[r]=yme.call(this,o)}_o.resolveRef=vme;function yme(e){return(0,is.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:zN.call(this,e)}function HW(e){for(const t of this._compilations)if(wme(t,e))return t}_o.getCompilingSchema=HW;function wme(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function bme(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||UE.call(this,e,t)}function UE(e,t){const r=this.opts.uriResolver.parse(t),n=(0,is._getFullPath)(this.opts.uriResolver,r);let i=(0,is.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return K1.call(this,r,e);const o=(0,is.normalizeId)(n),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){const s=UE.call(this,e,a);return typeof(s==null?void 0:s.schema)!="object"?void 0:K1.call(this,r,s)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||zN.call(this,a),o===(0,is.normalizeId)(t)){const{schema:s}=a,{schemaId:l}=this.opts,u=s[l];return u&&(i=(0,is.resolveUrl)(this.opts.uriResolver,i,u)),new BE({schema:s,schemaId:l,root:e,baseId:i})}return K1.call(this,r,a)}}_o.resolveSchema=UE;const _me=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function K1(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const s of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,VL.unescapeFragment)(s)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!_me.has(s)&&u&&(t=(0,is.resolveUrl)(this.opts.uriResolver,t,u))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,VL.schemaHasRulesButRef)(r,this.RULES)){const s=(0,is.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=UE.call(this,n,s)}const{schemaId:a}=this.opts;if(o=o||new BE({schema:r,schemaId:a,root:n,baseId:t}),o.schema!==o.root.schema)return o}const Eme="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Sme="Meta-schema for $data reference (JSON AnySchema extension proposal)",$me="object",Tme=["$data"],Ame={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},xme=!1,Pme={$id:Eme,description:Sme,type:$me,required:Tme,properties:Ame,additionalProperties:xme};var qN={},zE={exports:{}};const Ome={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var Rme={HEX:Ome};const{HEX:Ime}=Rme,Nme=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function WW(e){if(KW(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(Nme)||[],[r]=t;return r?{host:Cme(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function HL(e,t=!1){let r="",n=!0;for(const i of e){if(Ime[i]===void 0)return;i!=="0"&&n===!0&&(n=!1),n||(r+=i)}return t&&r.length===0&&(r="0"),r}function kme(e){let t=0;const r={error:!1,address:"",zone:""},n=[],i=[];let o=!1,a=!1,s=!1;function l(){if(i.length){if(o===!1){const u=HL(i);if(u!==void 0)n.push(u);else return r.error=!0,!1}i.length=0}return!0}for(let u=0;u<e.length;u++){const f=e[u];if(!(f==="["||f==="]"))if(f===":"){if(a===!0&&(s=!0),!l())break;if(t++,n.push(":"),t>7){r.error=!0;break}u-1>=0&&e[u-1]===":"&&(a=!0);continue}else if(f==="%"){if(!l())break;o=!0}else{i.push(f);continue}}return i.length&&(o?r.zone=i.join(""):s?n.push(i.join("")):n.push(HL(i))),r.address=n.join(""),r}function GW(e){if(KW(e,":")<2)return{host:e,isIPV6:!1};const t=kme(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,escapedHost:n,isIPV6:!0}}}function Cme(e,t){let r="",n=!0;const i=e.length;for(let o=0;o<i;o++){const a=e[o];a==="0"&&n?(o+1<=i&&e[o+1]===t||o+1===i)&&(r+=a,n=!1):(a===t?n=!0:n=!1,r+=a)}return r}function KW(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}const WL=/^\.\.?\//u,GL=/^\/\.(?:\/|$)/u,KL=/^\/\.\.(?:\/|$)/u,jme=/^\/?(?:.|\n)*?(?=\/|$)/u;function Dme(e){const t=[];for(;e.length;)if(e.match(WL))e=e.replace(WL,"");else if(e.match(GL))e=e.replace(GL,"/");else if(e.match(KL))e=e.replace(KL,"/"),t.pop();else if(e==="."||e==="..")e="";else{const r=e.match(jme);if(r){const n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function Mme(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Lme(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);const n=WW(r);if(n.isIPV4)r=n.host;else{const i=GW(n.host);i.isIPV6===!0?r=`[${i.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var Fme={recomposeAuthority:Lme,normalizeComponentEncoding:Mme,removeDotSegments:Dme,normalizeIPv4:WW,normalizeIPv6:GW};const Bme=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,Ume=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function JW(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function YW(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function XW(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function zme(e){return e.secure=JW(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function qme(e){if((e.port===(JW(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function Vme(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(Ume);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const i=`${n}:${t.nid||e.nid}`,o=VN[i];e.path=void 0,o&&(e=o.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Hme(e,t){const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),i=`${r}:${t.nid||n}`,o=VN[i];o&&(e=o.serialize(e,t));const a=e,s=e.nss;return a.path=`${n||t.nid}:${s}`,t.skipEscape=!0,a}function Wme(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Bme.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Gme(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const QW={scheme:"http",domainHost:!0,parse:YW,serialize:XW},Kme={scheme:"https",domainHost:QW.domainHost,parse:YW,serialize:XW},qw={scheme:"ws",domainHost:!0,parse:zme,serialize:qme},Jme={scheme:"wss",domainHost:qw.domainHost,parse:qw.parse,serialize:qw.serialize},Yme={scheme:"urn",parse:Vme,serialize:Hme,skipNormalize:!0},Xme={scheme:"urn:uuid",parse:Wme,serialize:Gme,skipNormalize:!0},VN={http:QW,https:Kme,ws:qw,wss:Jme,urn:Yme,"urn:uuid":Xme};var Qme=VN;const{normalizeIPv6:Zme,normalizeIPv4:ege,removeDotSegments:Gp,recomposeAuthority:tge,normalizeComponentEncoding:iy}=Fme,HN=Qme;function rge(e,t){return typeof e=="string"?e=Vs(Bl(e,t),t):typeof e=="object"&&(e=Bl(Vs(e,t),t)),e}function nge(e,t,r){const n=Object.assign({scheme:"null"},r),i=ZW(Bl(e,n),Bl(t,n),n,!0);return Vs(i,{...n,skipEscape:!0})}function ZW(e,t,r,n){const i={};return n||(e=Bl(Vs(e,r),r),t=Bl(Vs(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=Gp(t.path||""),i.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=Gp(t.path||""),i.query=t.query):(t.path?(t.path.charAt(0)==="/"?i.path=Gp(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?i.path="/"+t.path:e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path,i.path=Gp(i.path)),i.query=t.query):(i.path=e.path,t.query!==void 0?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function ige(e,t,r){return typeof e=="string"?(e=unescape(e),e=Vs(iy(Bl(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Vs(iy(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Vs(iy(Bl(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Vs(iy(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Vs(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),i=[],o=HN[(n.scheme||r.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&i.push(r.scheme,":");const a=tge(r);if(a!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(a),r.path&&r.path.charAt(0)!=="/"&&i.push("/")),r.path!==void 0){let s=r.path;!n.absolutePath&&(!o||!o.absolutePath)&&(s=Gp(s)),a===void 0&&(s=s.replace(/^\/\//u,"/%2F")),i.push(s)}return r.query!==void 0&&i.push("?",r.query),r.fragment!==void 0&&i.push("#",r.fragment),i.join("")}const oge=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function age(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||oge[t])return!0;return!1}const sge=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Bl(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=e.indexOf("%")!==-1;let o=!1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);const a=e.match(sge);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host){const l=ege(n.host);if(l.isIPV4===!1){const u=Zme(l.host);n.host=u.host.toLowerCase(),o=u.isIPV6}else n.host=l.host,o=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const s=HN[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!s||!s.unicodeSupport)&&n.host&&(r.domainHost||s&&s.domainHost)&&o===!1&&age(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(l){n.error=n.error||"Host's domain name can not be converted to ASCII: "+l}(!s||s&&!s.skipNormalize)&&(i&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),i&&n.host!==void 0&&(n.host=unescape(n.host)),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),s&&s.parse&&s.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const WN={SCHEMES:HN,normalize:rge,resolve:nge,resolveComponents:ZW,equal:ige,serialize:Vs,parse:Bl};zE.exports=WN;zE.exports.default=WN;zE.exports.fastUri=WN;var lge=zE.exports;Object.defineProperty(qN,"__esModule",{value:!0});const eG=lge;eG.code='require("ajv/dist/runtime/uri").default';qN.default=eG;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=ss;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=lr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Ug,i=Gh,o=kf,a=_o,s=lr,l=$i,u=ni,f=kt,c=Pme,p=qN,m=(M,B)=>new RegExp(M,B);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(M){var B,K,O,N,q,ne,J,Y,oe,be,Oe,R,C,D,G,ie,ue,de,ve,Ne,Be,je,nt,We,Ue;const W=M.strict,I=(B=M.code)===null||B===void 0?void 0:B.optimize,L=I===!0||I===void 0?1:I||0,re=(O=(K=M.code)===null||K===void 0?void 0:K.regExp)!==null&&O!==void 0?O:m,ye=(N=M.uriResolver)!==null&&N!==void 0?N:p.default;return{strictSchema:(ne=(q=M.strictSchema)!==null&&q!==void 0?q:W)!==null&&ne!==void 0?ne:!0,strictNumbers:(Y=(J=M.strictNumbers)!==null&&J!==void 0?J:W)!==null&&Y!==void 0?Y:!0,strictTypes:(be=(oe=M.strictTypes)!==null&&oe!==void 0?oe:W)!==null&&be!==void 0?be:"log",strictTuples:(R=(Oe=M.strictTuples)!==null&&Oe!==void 0?Oe:W)!==null&&R!==void 0?R:"log",strictRequired:(D=(C=M.strictRequired)!==null&&C!==void 0?C:W)!==null&&D!==void 0?D:!1,code:M.code?{...M.code,optimize:L,regExp:re}:{optimize:L,regExp:re},loopRequired:(G=M.loopRequired)!==null&&G!==void 0?G:E,loopEnum:(ie=M.loopEnum)!==null&&ie!==void 0?ie:E,meta:(ue=M.meta)!==null&&ue!==void 0?ue:!0,messages:(de=M.messages)!==null&&de!==void 0?de:!0,inlineRefs:(ve=M.inlineRefs)!==null&&ve!==void 0?ve:!0,schemaId:(Ne=M.schemaId)!==null&&Ne!==void 0?Ne:"$id",addUsedSchema:(Be=M.addUsedSchema)!==null&&Be!==void 0?Be:!0,validateSchema:(je=M.validateSchema)!==null&&je!==void 0?je:!0,validateFormats:(nt=M.validateFormats)!==null&&nt!==void 0?nt:!0,unicodeRegExp:(We=M.unicodeRegExp)!==null&&We!==void 0?We:!0,int32range:(Ue=M.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:ye}}class S{constructor(B={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,B=this.opts={...B,...y(B)};const{es5:K,lines:O}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:K,lines:O}),this.logger=F(B.logger);const N=B.validateFormats;B.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,B,"NOT SUPPORTED"),$.call(this,h,B,"DEPRECATED","warn"),this._metaOpts=P.call(this),B.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),B.keywords&&x.call(this,B.keywords),typeof B.meta=="object"&&this.addMetaSchema(B.meta),d.call(this),B.validateFormats=N}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:B,meta:K,schemaId:O}=this.opts;let N=c;O==="id"&&(N={...c},N.id=N.$id,delete N.$id),K&&B&&this.addMetaSchema(N,N[O],!1)}defaultMeta(){const{meta:B,schemaId:K}=this.opts;return this.opts.defaultMeta=typeof B=="object"?B[K]||B:void 0}validate(B,K){let O;if(typeof B=="string"){if(O=this.getSchema(B),!O)throw new Error(`no schema with key or ref "${B}"`)}else O=this.compile(B);const N=O(K);return"$async"in O||(this.errors=O.errors),N}compile(B,K){const O=this._addSchema(B,K);return O.validate||this._compileSchemaEnv(O)}compileAsync(B,K){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:O}=this.opts;return N.call(this,B,K);async function N(be,Oe){await q.call(this,be.$schema);const R=this._addSchema(be,Oe);return R.validate||ne.call(this,R)}async function q(be){be&&!this.getSchema(be)&&await N.call(this,{$ref:be},!0)}async function ne(be){try{return this._compileSchemaEnv(be)}catch(Oe){if(!(Oe instanceof i.default))throw Oe;return J.call(this,Oe),await Y.call(this,Oe.missingSchema),ne.call(this,be)}}function J({missingSchema:be,missingRef:Oe}){if(this.refs[be])throw new Error(`AnySchema ${be} is loaded but ${Oe} cannot be resolved`)}async function Y(be){const Oe=await oe.call(this,be);this.refs[be]||await q.call(this,Oe.$schema),this.refs[be]||this.addSchema(Oe,be,K)}async function oe(be){const Oe=this._loading[be];if(Oe)return Oe;try{return await(this._loading[be]=O(be))}finally{delete this._loading[be]}}}addSchema(B,K,O,N=this.opts.validateSchema){if(Array.isArray(B)){for(const ne of B)this.addSchema(ne,void 0,O,N);return this}let q;if(typeof B=="object"){const{schemaId:ne}=this.opts;if(q=B[ne],q!==void 0&&typeof q!="string")throw new Error(`schema ${ne} must be string`)}return K=(0,l.normalizeId)(K||q),this._checkUnique(K),this.schemas[K]=this._addSchema(B,O,K,N,!0),this}addMetaSchema(B,K,O=this.opts.validateSchema){return this.addSchema(B,K,!0,O),this}validateSchema(B,K){if(typeof B=="boolean")return!0;let O;if(O=B.$schema,O!==void 0&&typeof O!="string")throw new Error("$schema must be a string");if(O=O||this.opts.defaultMeta||this.defaultMeta(),!O)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const N=this.validate(O,B);if(!N&&K){const q="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(q);else throw new Error(q)}return N}getSchema(B){let K;for(;typeof(K=T.call(this,B))=="string";)B=K;if(K===void 0){const{schemaId:O}=this.opts,N=new a.SchemaEnv({schema:{},schemaId:O});if(K=a.resolveSchema.call(this,N,B),!K)return;this.refs[B]=K}return K.validate||this._compileSchemaEnv(K)}removeSchema(B){if(B instanceof RegExp)return this._removeAllSchemas(this.schemas,B),this._removeAllSchemas(this.refs,B),this;switch(typeof B){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const K=T.call(this,B);return typeof K=="object"&&this._cache.delete(K.schema),delete this.schemas[B],delete this.refs[B],this}case"object":{const K=B;this._cache.delete(K);let O=B[this.opts.schemaId];return O&&(O=(0,l.normalizeId)(O),delete this.schemas[O],delete this.refs[O]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(B){for(const K of B)this.addKeyword(K);return this}addKeyword(B,K){let O;if(typeof B=="string")O=B,typeof K=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),K.keyword=O);else if(typeof B=="object"&&K===void 0){if(K=B,O=K.keyword,Array.isArray(O)&&!O.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(X.call(this,O,K),!K)return(0,f.eachItem)(O,q=>H.call(this,q)),this;fe.call(this,K);const N={...K,type:(0,u.getJSONTypes)(K.type),schemaType:(0,u.getJSONTypes)(K.schemaType)};return(0,f.eachItem)(O,N.type.length===0?q=>H.call(this,q,N):q=>N.type.forEach(ne=>H.call(this,q,N,ne))),this}getKeyword(B){const K=this.RULES.all[B];return typeof K=="object"?K.definition:!!K}removeKeyword(B){const{RULES:K}=this;delete K.keywords[B],delete K.all[B];for(const O of K.rules){const N=O.rules.findIndex(q=>q.keyword===B);N>=0&&O.rules.splice(N,1)}return this}addFormat(B,K){return typeof K=="string"&&(K=new RegExp(K)),this.formats[B]=K,this}errorsText(B=this.errors,{separator:K=", ",dataVar:O="data"}={}){return!B||B.length===0?"No errors":B.map(N=>`${O}${N.instancePath} ${N.message}`).reduce((N,q)=>N+K+q)}$dataMetaSchema(B,K){const O=this.RULES.all;B=JSON.parse(JSON.stringify(B));for(const N of K){const q=N.split("/").slice(1);let ne=B;for(const J of q)ne=ne[J];for(const J in O){const Y=O[J];if(typeof Y!="object")continue;const{$data:oe}=Y.definition,be=ne[J];oe&&be&&(ne[J]=ae(be))}}return B}_removeAllSchemas(B,K){for(const O in B){const N=B[O];(!K||K.test(O))&&(typeof N=="string"?delete B[O]:N&&!N.meta&&(this._cache.delete(N.schema),delete B[O]))}}_addSchema(B,K,O,N=this.opts.validateSchema,q=this.opts.addUsedSchema){let ne;const{schemaId:J}=this.opts;if(typeof B=="object")ne=B[J];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof B!="boolean")throw new Error("schema must be object or boolean")}let Y=this._cache.get(B);if(Y!==void 0)return Y;O=(0,l.normalizeId)(ne||O);const oe=l.getSchemaRefs.call(this,B,O);return Y=new a.SchemaEnv({schema:B,schemaId:J,meta:K,baseId:O,localRefs:oe}),this._cache.set(Y.schema,Y),q&&!O.startsWith("#")&&(O&&this._checkUnique(O),this.refs[O]=Y),N&&this.validateSchema(B,!0),Y}_checkUnique(B){if(this.schemas[B]||this.refs[B])throw new Error(`schema with key or id "${B}" already exists`)}_compileSchemaEnv(B){if(B.meta?this._compileMetaSchema(B):a.compileSchema.call(this,B),!B.validate)throw new Error("ajv implementation error");return B.validate}_compileMetaSchema(B){const K=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,B)}finally{this.opts=K}}}S.ValidationError=n.default,S.MissingRefError=i.default,e.default=S;function $(M,B,K,O="error"){for(const N in M){const q=N;q in B&&this.logger[O](`${K}: option ${N}. ${M[q]}`)}}function T(M){return M=(0,l.normalizeId)(M),this.schemas[M]||this.refs[M]}function d(){const M=this.opts.schemas;if(M)if(Array.isArray(M))this.addSchema(M);else for(const B in M)this.addSchema(M[B],B)}function A(){for(const M in this.opts.formats){const B=this.opts.formats[M];B&&this.addFormat(M,B)}}function x(M){if(Array.isArray(M)){this.addVocabulary(M);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in M){const K=M[B];K.keyword||(K.keyword=B),this.addKeyword(K)}}function P(){const M={...this.opts};for(const B of g)delete M[B];return M}const j={log(){},warn(){},error(){}};function F(M){if(M===!1)return j;if(M===void 0)return console;if(M.log&&M.warn&&M.error)return M;throw new Error("logger must implement log, warn and error methods")}const V=/^[a-z_$][a-z0-9_$:-]*$/i;function X(M,B){const{RULES:K}=this;if((0,f.eachItem)(M,O=>{if(K.keywords[O])throw new Error(`Keyword ${O} is already defined`);if(!V.test(O))throw new Error(`Keyword ${O} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function H(M,B,K){var O;const N=B==null?void 0:B.post;if(K&&N)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let ne=N?q.post:q.rules.find(({type:Y})=>Y===K);if(ne||(ne={type:K,rules:[]},q.rules.push(ne)),q.keywords[M]=!0,!B)return;const J={keyword:M,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?Z.call(this,ne,J,B.before):ne.rules.push(J),q.all[M]=J,(O=B.implements)===null||O===void 0||O.forEach(Y=>this.addKeyword(Y))}function Z(M,B,K){const O=M.rules.findIndex(N=>N.keyword===K);O>=0?M.rules.splice(O,0,B):(M.rules.push(B),this.logger.warn(`rule ${K} is not defined`))}function fe(M){let{metaSchema:B}=M;B!==void 0&&(M.$data&&this.opts.$data&&(B=ae(B)),M.validateSchema=this.compile(B,!0))}const ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ae(M){return{anyOf:[M,ee]}}})(hW);var GN={},KN={},JN={};Object.defineProperty(JN,"__esModule",{value:!0});const uge={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};JN.default=uge;var Cf={};Object.defineProperty(Cf,"__esModule",{value:!0});Cf.callRef=Cf.getValidate=void 0;const cge=Gh,JL=wr,vo=lr,bd=nl,YL=_o,oy=kt,fge={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:o,validateName:a,opts:s,self:l}=n,{root:u}=o;if((r==="#"||r==="#/")&&i===u.baseId)return c();const f=YL.resolveRef.call(l,u,i,r);if(f===void 0)throw new cge.default(n.opts.uriResolver,i,r);if(f instanceof YL.SchemaEnv)return p(f);return m(f);function c(){if(o===u)return Vw(e,a,o,o.$async);const g=t.scopeValue("root",{ref:u});return Vw(e,(0,vo._)`${g}.validate`,u,u.$async)}function p(g){const _=tG(e,g);Vw(e,_,g,g.$async)}function m(g){const _=t.scopeValue("schema",s.code.source===!0?{ref:g,code:(0,vo.stringify)(g)}:{ref:g}),v=t.name("valid"),h=e.subschema({schema:g,dataTypes:[],schemaPath:vo.nil,topSchemaRef:_,errSchemaPath:r},v);e.mergeEvaluated(h),e.ok(v)}}};function tG(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,vo._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Cf.getValidate=tG;function Vw(e,t,r,n){const{gen:i,it:o}=e,{allErrors:a,schemaEnv:s,opts:l}=o,u=l.passContext?bd.default.this:vo.nil;n?f():c();function f(){if(!s.$async)throw new Error("async schema referenced by sync schema");const g=i.let("valid");i.try(()=>{i.code((0,vo._)`await ${(0,JL.callValidateCode)(e,t,u)}`),m(t),a||i.assign(g,!0)},_=>{i.if((0,vo._)`!(${_} instanceof ${o.ValidationError})`,()=>i.throw(_)),p(_),a||i.assign(g,!1)}),e.ok(g)}function c(){e.result((0,JL.callValidateCode)(e,t,u),()=>m(t),()=>p(t))}function p(g){const _=(0,vo._)`${g}.errors`;i.assign(bd.default.vErrors,(0,vo._)`${bd.default.vErrors} === null ? ${_} : ${bd.default.vErrors}.concat(${_})`),i.assign(bd.default.errors,(0,vo._)`${bd.default.vErrors}.length`)}function m(g){var _;if(!o.opts.unevaluated)return;const v=(_=r==null?void 0:r.validate)===null||_===void 0?void 0:_.evaluated;if(o.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(o.props=oy.mergeEvaluated.props(i,v.props,o.props));else{const h=i.var("props",(0,vo._)`${g}.evaluated.props`);o.props=oy.mergeEvaluated.props(i,h,o.props,vo.Name)}if(o.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(o.items=oy.mergeEvaluated.items(i,v.items,o.items));else{const h=i.var("items",(0,vo._)`${g}.evaluated.items`);o.items=oy.mergeEvaluated.items(i,h,o.items,vo.Name)}}}Cf.callRef=Vw;Cf.default=fge;Object.defineProperty(KN,"__esModule",{value:!0});const dge=JN,hge=Cf,pge=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",dge.default,hge.default];KN.default=pge;var YN={},XN={};Object.defineProperty(XN,"__esModule",{value:!0});const f_=lr,hu=f_.operators,d_={maximum:{okStr:"<=",ok:hu.LTE,fail:hu.GT},minimum:{okStr:">=",ok:hu.GTE,fail:hu.LT},exclusiveMaximum:{okStr:"<",ok:hu.LT,fail:hu.GTE},exclusiveMinimum:{okStr:">",ok:hu.GT,fail:hu.LTE}},mge={message:({keyword:e,schemaCode:t})=>(0,f_.str)`must be ${d_[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,f_._)`{comparison: ${d_[e].okStr}, limit: ${t}}`},gge={keyword:Object.keys(d_),type:"number",schemaType:"number",$data:!0,error:mge,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,f_._)`${r} ${d_[t].fail} ${n} || isNaN(${r})`)}};XN.default=gge;var QN={};Object.defineProperty(QN,"__esModule",{value:!0});const wm=lr,vge={message:({schemaCode:e})=>(0,wm.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,wm._)`{multipleOf: ${e}}`},yge={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:vge,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,o=i.opts.multipleOfPrecision,a=t.let("res"),s=o?(0,wm._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,wm._)`${a} !== parseInt(${a})`;e.fail$data((0,wm._)`(${n} === 0 || (${a} = ${r}/${n}, ${s}))`)}};QN.default=yge;var ZN={},ek={};Object.defineProperty(ek,"__esModule",{value:!0});function rG(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}ek.default=rG;rG.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ZN,"__esModule",{value:!0});const Yc=lr,wge=kt,bge=ek,_ge={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Yc.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Yc._)`{limit: ${e}}`},Ege={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:_ge,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,o=t==="maxLength"?Yc.operators.GT:Yc.operators.LT,a=i.opts.unicode===!1?(0,Yc._)`${r}.length`:(0,Yc._)`${(0,wge.useFunc)(e.gen,bge.default)}(${r})`;e.fail$data((0,Yc._)`${a} ${o} ${n}`)}};ZN.default=Ege;var tk={};Object.defineProperty(tk,"__esModule",{value:!0});const Sge=wr,h_=lr,$ge={message:({schemaCode:e})=>(0,h_.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,h_._)`{pattern: ${e}}`},Tge={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:$ge,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:o}=e,a=o.opts.unicodeRegExp?"u":"",s=r?(0,h_._)`(new RegExp(${i}, ${a}))`:(0,Sge.usePattern)(e,n);e.fail$data((0,h_._)`!${s}.test(${t})`)}};tk.default=Tge;var rk={};Object.defineProperty(rk,"__esModule",{value:!0});const bm=lr,Age={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,bm.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,bm._)`{limit: ${e}}`},xge={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Age,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?bm.operators.GT:bm.operators.LT;e.fail$data((0,bm._)`Object.keys(${r}).length ${i} ${n}`)}};rk.default=xge;var nk={};Object.defineProperty(nk,"__esModule",{value:!0});const Sp=wr,_m=lr,Pge=kt,Oge={message:({params:{missingProperty:e}})=>(0,_m.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,_m._)`{missingProperty: ${e}}`},Rge={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Oge,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:o,it:a}=e,{opts:s}=a;if(!o&&r.length===0)return;const l=r.length>=s.loopRequired;if(a.allErrors?u():f(),s.strictRequired){const m=e.parentSchema.properties,{definedProperties:g}=e.it;for(const _ of r)if((m==null?void 0:m[_])===void 0&&!g.has(_)){const v=a.schemaEnv.baseId+a.errSchemaPath,h=`required property "${_}" is not defined at "${v}" (strictRequired)`;(0,Pge.checkStrictMode)(a,h,a.opts.strictRequired)}}function u(){if(l||o)e.block$data(_m.nil,c);else for(const m of r)(0,Sp.checkReportMissingProp)(e,m)}function f(){const m=t.let("missing");if(l||o){const g=t.let("valid",!0);e.block$data(g,()=>p(m,g)),e.ok(g)}else t.if((0,Sp.checkMissingProp)(e,r,m)),(0,Sp.reportMissingProp)(e,m),t.else()}function c(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,Sp.noPropertyInData)(t,i,m,s.ownProperties),()=>e.error())})}function p(m,g){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(g,(0,Sp.propertyInData)(t,i,m,s.ownProperties)),t.if((0,_m.not)(g),()=>{e.error(),t.break()})},_m.nil)}}};nk.default=Rge;var ik={};Object.defineProperty(ik,"__esModule",{value:!0});const Em=lr,Ige={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Em.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Em._)`{limit: ${e}}`},Nge={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Ige,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?Em.operators.GT:Em.operators.LT;e.fail$data((0,Em._)`${r}.length ${i} ${n}`)}};ik.default=Nge;var ok={},zg={};Object.defineProperty(zg,"__esModule",{value:!0});const nG=OW;nG.code='require("ajv/dist/runtime/equal").default';zg.default=nG;Object.defineProperty(ok,"__esModule",{value:!0});const J1=ni,Ei=lr,kge=kt,Cge=zg,jge={message:({params:{i:e,j:t}})=>(0,Ei.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ei._)`{i: ${e}, j: ${t}}`},Dge={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:jge,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:o,schemaCode:a,it:s}=e;if(!n&&!i)return;const l=t.let("valid"),u=o.items?(0,J1.getSchemaTypes)(o.items):[];e.block$data(l,f,(0,Ei._)`${a} === false`),e.ok(l);function f(){const g=t.let("i",(0,Ei._)`${r}.length`),_=t.let("j");e.setParams({i:g,j:_}),t.assign(l,!0),t.if((0,Ei._)`${g} > 1`,()=>(c()?p:m)(g,_))}function c(){return u.length>0&&!u.some(g=>g==="object"||g==="array")}function p(g,_){const v=t.name("item"),h=(0,J1.checkDataTypes)(u,v,s.opts.strictNumbers,J1.DataType.Wrong),E=t.const("indices",(0,Ei._)`{}`);t.for((0,Ei._)`;${g}--;`,()=>{t.let(v,(0,Ei._)`${r}[${g}]`),t.if(h,(0,Ei._)`continue`),u.length>1&&t.if((0,Ei._)`typeof ${v} == "string"`,(0,Ei._)`${v} += "_"`),t.if((0,Ei._)`typeof ${E}[${v}] == "number"`,()=>{t.assign(_,(0,Ei._)`${E}[${v}]`),e.error(),t.assign(l,!1).break()}).code((0,Ei._)`${E}[${v}] = ${g}`)})}function m(g,_){const v=(0,kge.useFunc)(t,Cge.default),h=t.name("outer");t.label(h).for((0,Ei._)`;${g}--;`,()=>t.for((0,Ei._)`${_} = ${g}; ${_}--;`,()=>t.if((0,Ei._)`${v}(${r}[${g}], ${r}[${_}])`,()=>{e.error(),t.assign(l,!1).break(h)})))}}};ok.default=Dge;var ak={};Object.defineProperty(ak,"__esModule",{value:!0});const YP=lr,Mge=kt,Lge=zg,Fge={message:"must be equal to constant",params:({schemaCode:e})=>(0,YP._)`{allowedValue: ${e}}`},Bge={keyword:"const",$data:!0,error:Fge,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:o}=e;n||o&&typeof o=="object"?e.fail$data((0,YP._)`!${(0,Mge.useFunc)(t,Lge.default)}(${r}, ${i})`):e.fail((0,YP._)`${o} !== ${r}`)}};ak.default=Bge;var sk={};Object.defineProperty(sk,"__esModule",{value:!0});const Kp=lr,Uge=kt,zge=zg,qge={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Kp._)`{allowedValues: ${e}}`},Vge={keyword:"enum",schemaType:"array",$data:!0,error:qge,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:o,it:a}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const s=i.length>=a.opts.loopEnum;let l;const u=()=>l??(l=(0,Uge.useFunc)(t,zge.default));let f;if(s||n)f=t.let("valid"),e.block$data(f,c);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const m=t.const("vSchema",o);f=(0,Kp.or)(...i.map((g,_)=>p(m,_)))}e.pass(f);function c(){t.assign(f,!1),t.forOf("v",o,m=>t.if((0,Kp._)`${u()}(${r}, ${m})`,()=>t.assign(f,!0).break()))}function p(m,g){const _=i[g];return typeof _=="object"&&_!==null?(0,Kp._)`${u()}(${r}, ${m}[${g}])`:(0,Kp._)`${r} === ${_}`}}};sk.default=Vge;Object.defineProperty(YN,"__esModule",{value:!0});const Hge=XN,Wge=QN,Gge=ZN,Kge=tk,Jge=rk,Yge=nk,Xge=ik,Qge=ok,Zge=ak,eve=sk,tve=[Hge.default,Wge.default,Gge.default,Kge.default,Jge.default,Yge.default,Xge.default,Qge.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Zge.default,eve.default];YN.default=tve;var lk={},Kh={};Object.defineProperty(Kh,"__esModule",{value:!0});Kh.validateAdditionalItems=void 0;const Xc=lr,XP=kt,rve={message:({params:{len:e}})=>(0,Xc.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Xc._)`{limit: ${e}}`},nve={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:rve,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,XP.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}iG(e,n)}};function iG(e,t){const{gen:r,schema:n,data:i,keyword:o,it:a}=e;a.items=!0;const s=r.const("len",(0,Xc._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Xc._)`${s} <= ${t.length}`);else if(typeof n=="object"&&!(0,XP.alwaysValidSchema)(a,n)){const u=r.var("valid",(0,Xc._)`${s} <= ${t.length}`);r.if((0,Xc.not)(u),()=>l(u)),e.ok(u)}function l(u){r.forRange("i",t.length,s,f=>{e.subschema({keyword:o,dataProp:f,dataPropType:XP.Type.Num},u),a.allErrors||r.if((0,Xc.not)(u),()=>r.break())})}}Kh.validateAdditionalItems=iG;Kh.default=nve;var uk={},Jh={};Object.defineProperty(Jh,"__esModule",{value:!0});Jh.validateTuple=void 0;const XL=lr,Hw=kt,ive=wr,ove={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return oG(e,"additionalItems",t);r.items=!0,!(0,Hw.alwaysValidSchema)(r,t)&&e.ok((0,ive.validateArray)(e))}};function oG(e,t,r=e.schema){const{gen:n,parentSchema:i,data:o,keyword:a,it:s}=e;f(i),s.opts.unevaluated&&r.length&&s.items!==!0&&(s.items=Hw.mergeEvaluated.items(n,r.length,s.items));const l=n.name("valid"),u=n.const("len",(0,XL._)`${o}.length`);r.forEach((c,p)=>{(0,Hw.alwaysValidSchema)(s,c)||(n.if((0,XL._)`${u} > ${p}`,()=>e.subschema({keyword:a,schemaProp:p,dataProp:p},l)),e.ok(l))});function f(c){const{opts:p,errSchemaPath:m}=s,g=r.length,_=g===c.minItems&&(g===c.maxItems||c[t]===!1);if(p.strictTuples&&!_){const v=`"${a}" is ${g}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,Hw.checkStrictMode)(s,v,p.strictTuples)}}}Jh.validateTuple=oG;Jh.default=ove;Object.defineProperty(uk,"__esModule",{value:!0});const ave=Jh,sve={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,ave.validateTuple)(e,"items")};uk.default=sve;var ck={};Object.defineProperty(ck,"__esModule",{value:!0});const QL=lr,lve=kt,uve=wr,cve=Kh,fve={message:({params:{len:e}})=>(0,QL.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,QL._)`{limit: ${e}}`},dve={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:fve,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,lve.alwaysValidSchema)(n,t)&&(i?(0,cve.validateAdditionalItems)(e,i):e.ok((0,uve.validateArray)(e)))}};ck.default=dve;var fk={};Object.defineProperty(fk,"__esModule",{value:!0});const ha=lr,ay=kt,hve={message:({params:{min:e,max:t}})=>t===void 0?(0,ha.str)`must contain at least ${e} valid item(s)`:(0,ha.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ha._)`{minContains: ${e}}`:(0,ha._)`{minContains: ${e}, maxContains: ${t}}`},pve={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:hve,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:o}=e;let a,s;const{minContains:l,maxContains:u}=n;o.opts.next?(a=l===void 0?1:l,s=u):a=1;const f=t.const("len",(0,ha._)`${i}.length`);if(e.setParams({min:a,max:s}),s===void 0&&a===0){(0,ay.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,ay.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,ay.alwaysValidSchema)(o,r)){let _=(0,ha._)`${f} >= ${a}`;s!==void 0&&(_=(0,ha._)`${_} && ${f} <= ${s}`),e.pass(_);return}o.items=!0;const c=t.name("valid");s===void 0&&a===1?m(c,()=>t.if(c,()=>t.break())):a===0?(t.let(c,!0),s!==void 0&&t.if((0,ha._)`${i}.length > 0`,p)):(t.let(c,!1),p()),e.result(c,()=>e.reset());function p(){const _=t.name("_valid"),v=t.let("count",0);m(_,()=>t.if(_,()=>g(v)))}function m(_,v){t.forRange("i",0,f,h=>{e.subschema({keyword:"contains",dataProp:h,dataPropType:ay.Type.Num,compositeRule:!0},_),v()})}function g(_){t.code((0,ha._)`${_}++`),s===void 0?t.if((0,ha._)`${_} >= ${a}`,()=>t.assign(c,!0).break()):(t.if((0,ha._)`${_} > ${s}`,()=>t.assign(c,!1).break()),a===1?t.assign(c,!0):t.if((0,ha._)`${_} >= ${a}`,()=>t.assign(c,!0)))}}};fk.default=pve;var aG={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=lr,r=kt,n=wr;e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);a(l,u),s(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const p=Array.isArray(l[c])?u:f;p[c]=l[c]}return[u,f]}function a(l,u=l.schema){const{gen:f,data:c,it:p}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,p.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),p.allErrors?f.if(v,()=>{for(const h of _)(0,n.checkReportMissingProp)(l,h)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=a;function s(l,u=l.schema){const{gen:f,data:c,keyword:p,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:p,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=s,e.default=i})(aG);var dk={};Object.defineProperty(dk,"__esModule",{value:!0});const sG=lr,mve=kt,gve={message:"property name must be valid",params:({params:e})=>(0,sG._)`{propertyName: ${e.propertyName}}`},vve={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:gve,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,mve.alwaysValidSchema)(i,r))return;const o=t.name("valid");t.forIn("key",n,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),t.if((0,sG.not)(o),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(o)}};dk.default=vve;var qE={};Object.defineProperty(qE,"__esModule",{value:!0});const sy=wr,Ya=lr,yve=nl,ly=kt,wve={message:"must NOT have additional properties",params:({params:e})=>(0,Ya._)`{additionalProperty: ${e.additionalProperty}}`},bve={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:wve,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:o,it:a}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:s,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,ly.alwaysValidSchema)(a,r))return;const u=(0,sy.allSchemaProperties)(n.properties),f=(0,sy.allSchemaProperties)(n.patternProperties);c(),e.ok((0,Ya._)`${o} === ${yve.default.errors}`);function c(){t.forIn("key",i,v=>{!u.length&&!f.length?g(v):t.if(p(v),()=>g(v))})}function p(v){let h;if(u.length>8){const E=(0,ly.schemaRefOrVal)(a,n.properties,"properties");h=(0,sy.isOwnProperty)(t,E,v)}else u.length?h=(0,Ya.or)(...u.map(E=>(0,Ya._)`${v} === ${E}`)):h=Ya.nil;return f.length&&(h=(0,Ya.or)(h,...f.map(E=>(0,Ya._)`${(0,sy.usePattern)(e,E)}.test(${v})`))),(0,Ya.not)(h)}function m(v){t.code((0,Ya._)`delete ${i}[${v}]`)}function g(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),s||t.break();return}if(typeof r=="object"&&!(0,ly.alwaysValidSchema)(a,r)){const h=t.name("valid");l.removeAdditional==="failing"?(_(v,h,!1),t.if((0,Ya.not)(h),()=>{e.reset(),m(v)})):(_(v,h),s||t.if((0,Ya.not)(h),()=>t.break()))}}function _(v,h,E){const y={keyword:"additionalProperties",dataProp:v,dataPropType:ly.Type.Str};E===!1&&Object.assign(y,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(y,h)}}};qE.default=bve;var hk={};Object.defineProperty(hk,"__esModule",{value:!0});const _ve=ss,ZL=wr,Y1=kt,eF=qE,Eve={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:o}=e;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&eF.default.code(new _ve.KeywordCxt(o,eF.default,"additionalProperties"));const a=(0,ZL.allSchemaProperties)(r);for(const c of a)o.definedProperties.add(c);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=Y1.mergeEvaluated.props(t,(0,Y1.toHash)(a),o.props));const s=a.filter(c=>!(0,Y1.alwaysValidSchema)(o,r[c]));if(s.length===0)return;const l=t.name("valid");for(const c of s)u(c)?f(c):(t.if((0,ZL.propertyInData)(t,i,c,o.opts.ownProperties)),f(c),o.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(c),e.ok(l);function u(c){return o.opts.useDefaults&&!o.compositeRule&&r[c].default!==void 0}function f(c){e.subschema({keyword:"properties",schemaProp:c,dataProp:c},l)}}};hk.default=Eve;var pk={};Object.defineProperty(pk,"__esModule",{value:!0});const tF=wr,uy=lr,rF=kt,nF=kt,Sve={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:o}=e,{opts:a}=o,s=(0,tF.allSchemaProperties)(r),l=s.filter(_=>(0,rF.alwaysValidSchema)(o,r[_]));if(s.length===0||l.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;const u=a.strictSchema&&!a.allowMatchingProperties&&i.properties,f=t.name("valid");o.props!==!0&&!(o.props instanceof uy.Name)&&(o.props=(0,nF.evaluatedPropsToName)(t,o.props));const{props:c}=o;p();function p(){for(const _ of s)u&&m(_),o.allErrors?g(_):(t.var(f,!0),g(_),t.if(f))}function m(_){for(const v in u)new RegExp(_).test(v)&&(0,rF.checkStrictMode)(o,`property ${v} matches pattern ${_} (use allowMatchingProperties)`)}function g(_){t.forIn("key",n,v=>{t.if((0,uy._)`${(0,tF.usePattern)(e,_)}.test(${v})`,()=>{const h=l.includes(_);h||e.subschema({keyword:"patternProperties",schemaProp:_,dataProp:v,dataPropType:nF.Type.Str},f),o.opts.unevaluated&&c!==!0?t.assign((0,uy._)`${c}[${v}]`,!0):!h&&!o.allErrors&&t.if((0,uy.not)(f),()=>t.break())})})}}};pk.default=Sve;var mk={};Object.defineProperty(mk,"__esModule",{value:!0});const $ve=kt,Tve={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,$ve.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};mk.default=Tve;var gk={};Object.defineProperty(gk,"__esModule",{value:!0});const Ave=wr,xve={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ave.validateUnion,error:{message:"must match a schema in anyOf"}};gk.default=xve;var vk={};Object.defineProperty(vk,"__esModule",{value:!0});const Ww=lr,Pve=kt,Ove={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Ww._)`{passingSchemas: ${e.passing}}`},Rve={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ove,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const o=r,a=t.let("valid",!1),s=t.let("passing",null),l=t.name("_valid");e.setParams({passing:s}),t.block(u),e.result(a,()=>e.reset(),()=>e.error(!0));function u(){o.forEach((f,c)=>{let p;(0,Pve.alwaysValidSchema)(i,f)?t.var(l,!0):p=e.subschema({keyword:"oneOf",schemaProp:c,compositeRule:!0},l),c>0&&t.if((0,Ww._)`${l} && ${a}`).assign(a,!1).assign(s,(0,Ww._)`[${s}, ${c}]`).else(),t.if(l,()=>{t.assign(a,!0),t.assign(s,c),p&&e.mergeEvaluated(p,Ww.Name)})})}}};vk.default=Rve;var yk={};Object.defineProperty(yk,"__esModule",{value:!0});const Ive=kt,Nve={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((o,a)=>{if((0,Ive.alwaysValidSchema)(n,o))return;const s=e.subschema({keyword:"allOf",schemaProp:a},i);e.ok(i),e.mergeEvaluated(s)})}};yk.default=Nve;var wk={};Object.defineProperty(wk,"__esModule",{value:!0});const p_=lr,lG=kt,kve={message:({params:e})=>(0,p_.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,p_._)`{failingKeyword: ${e.ifClause}}`},Cve={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:kve,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,lG.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=iF(n,"then"),o=iF(n,"else");if(!i&&!o)return;const a=t.let("valid",!0),s=t.name("_valid");if(l(),e.reset(),i&&o){const f=t.let("ifClause");e.setParams({ifClause:f}),t.if(s,u("then",f),u("else",f))}else i?t.if(s,u("then")):t.if((0,p_.not)(s),u("else"));e.pass(a,()=>e.error(!0));function l(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);e.mergeEvaluated(f)}function u(f,c){return()=>{const p=e.subschema({keyword:f},s);t.assign(a,s),e.mergeValidEvaluated(p,a),c?t.assign(c,(0,p_._)`${f}`):e.setParams({ifClause:f})}}}};function iF(e,t){const r=e.schema[t];return r!==void 0&&!(0,lG.alwaysValidSchema)(e,r)}wk.default=Cve;var bk={};Object.defineProperty(bk,"__esModule",{value:!0});const jve=kt,Dve={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,jve.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};bk.default=Dve;Object.defineProperty(lk,"__esModule",{value:!0});const Mve=Kh,Lve=uk,Fve=Jh,Bve=ck,Uve=fk,zve=aG,qve=dk,Vve=qE,Hve=hk,Wve=pk,Gve=mk,Kve=gk,Jve=vk,Yve=yk,Xve=wk,Qve=bk;function Zve(e=!1){const t=[Gve.default,Kve.default,Jve.default,Yve.default,Xve.default,Qve.default,qve.default,Vve.default,zve.default,Hve.default,Wve.default];return e?t.push(Lve.default,Bve.default):t.push(Mve.default,Fve.default),t.push(Uve.default),t}lk.default=Zve;var _k={},Ek={};Object.defineProperty(Ek,"__esModule",{value:!0});const Un=lr,eye={message:({schemaCode:e})=>(0,Un.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Un._)`{format: ${e}}`},tye={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:eye,code(e,t){const{gen:r,data:n,$data:i,schema:o,schemaCode:a,it:s}=e,{opts:l,errSchemaPath:u,schemaEnv:f,self:c}=s;if(!l.validateFormats)return;i?p():m();function p(){const g=r.scopeValue("formats",{ref:c.formats,code:l.code.formats}),_=r.const("fDef",(0,Un._)`${g}[${a}]`),v=r.let("fType"),h=r.let("format");r.if((0,Un._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>r.assign(v,(0,Un._)`${_}.type || "string"`).assign(h,(0,Un._)`${_}.validate`),()=>r.assign(v,(0,Un._)`"string"`).assign(h,_)),e.fail$data((0,Un.or)(E(),y()));function E(){return l.strictSchema===!1?Un.nil:(0,Un._)`${a} && !${h}`}function y(){const S=f.$async?(0,Un._)`(${_}.async ? await ${h}(${n}) : ${h}(${n}))`:(0,Un._)`${h}(${n})`,$=(0,Un._)`(typeof ${h} == "function" ? ${S} : ${h}.test(${n}))`;return(0,Un._)`${h} && ${h} !== true && ${v} === ${t} && !${$}`}}function m(){const g=c.formats[o];if(!g){E();return}if(g===!0)return;const[_,v,h]=y(g);_===t&&e.pass(S());function E(){if(l.strictSchema===!1){c.logger.warn($());return}throw new Error($());function $(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function y($){const T=$ instanceof RegExp?(0,Un.regexpCode)($):l.code.formats?(0,Un._)`${l.code.formats}${(0,Un.getProperty)(o)}`:void 0,d=r.scopeValue("formats",{key:o,ref:$,code:T});return typeof $=="object"&&!($ instanceof RegExp)?[$.type||"string",$.validate,(0,Un._)`${d}.validate`]:["string",$,d]}function S(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!f.$async)throw new Error("async format in sync schema");return(0,Un._)`await ${h}(${n})`}return typeof v=="function"?(0,Un._)`${h}(${n})`:(0,Un._)`${h}.test(${n})`}}}};Ek.default=tye;Object.defineProperty(_k,"__esModule",{value:!0});const rye=Ek,nye=[rye.default];_k.default=nye;var Nh={};Object.defineProperty(Nh,"__esModule",{value:!0});Nh.contentVocabulary=Nh.metadataVocabulary=void 0;Nh.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Nh.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(GN,"__esModule",{value:!0});const iye=KN,oye=YN,aye=lk,sye=_k,oF=Nh,lye=[iye.default,oye.default,(0,aye.default)(),sye.default,oF.metadataVocabulary,oF.contentVocabulary];GN.default=lye;var Sk={},VE={};Object.defineProperty(VE,"__esModule",{value:!0});VE.DiscrError=void 0;var aF;(function(e){e.Tag="tag",e.Mapping="mapping"})(aF||(VE.DiscrError=aF={}));Object.defineProperty(Sk,"__esModule",{value:!0});const Id=lr,QP=VE,sF=_o,uye=Gh,cye=kt,fye={message:({params:{discrError:e,tagName:t}})=>e===QP.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Id._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},dye={keyword:"discriminator",type:"object",schemaType:"object",error:fye,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:o}=e,{oneOf:a}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const s=n.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,Id._)`${r}${(0,Id.getProperty)(s)}`);t.if((0,Id._)`typeof ${u} == "string"`,()=>f(),()=>e.error(!1,{discrError:QP.DiscrError.Tag,tag:u,tagName:s})),e.ok(l);function f(){const m=p();t.if(!1);for(const g in m)t.elseIf((0,Id._)`${u} === ${g}`),t.assign(l,c(m[g]));t.else(),e.error(!1,{discrError:QP.DiscrError.Mapping,tag:u,tagName:s}),t.endIf()}function c(m){const g=t.name("valid"),_=e.subschema({keyword:"oneOf",schemaProp:m},g);return e.mergeEvaluated(_,Id.Name),g}function p(){var m;const g={},_=h(i);let v=!0;for(let S=0;S<a.length;S++){let $=a[S];if($!=null&&$.$ref&&!(0,cye.schemaHasRulesButRef)($,o.self.RULES)){const d=$.$ref;if($=sF.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,d),$ instanceof sF.SchemaEnv&&($=$.schema),$===void 0)throw new uye.default(o.opts.uriResolver,o.baseId,d)}const T=(m=$==null?void 0:$.properties)===null||m===void 0?void 0:m[s];if(typeof T!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);v=v&&(_||h($)),E(T,S)}if(!v)throw new Error(`discriminator: "${s}" must be required`);return g;function h({required:S}){return Array.isArray(S)&&S.includes(s)}function E(S,$){if(S.const)y(S.const,$);else if(S.enum)for(const T of S.enum)y(T,$);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function y(S,$){if(typeof S!="string"||S in g)throw new Error(`discriminator: "${s}" values must be unique strings`);g[S]=$}}}};Sk.default=dye;const hye="http://json-schema.org/draft-07/schema#",pye="http://json-schema.org/draft-07/schema#",mye="Core schema meta-schema",gye={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},vye=["object","boolean"],yye={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},wye={$schema:hye,$id:pye,title:mye,definitions:gye,type:vye,properties:yye,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=hW,n=GN,i=Sk,o=wye,a=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(g,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=ss;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=lr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=Ug;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return c.default}});var p=Gh;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return p.default}})})(HP,HP.exports);var bye=HP.exports,lF={exports:{}},uG={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(j,F){return{validate:j,compare:F}}e.fullFormats={date:t(o,a),time:t(l(!0),u),"date-time":t(p(!0),m),"iso-time":t(l(),f),"iso-date-time":t(p(),g),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:h,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:P,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:T},int64:{type:"number",validate:d},float:{type:"number",validate:A},double:{type:"number",validate:A},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,g),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(j){return j%4===0&&(j%100!==0||j%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(j){const F=n.exec(j);if(!F)return!1;const V=+F[1],X=+F[2],H=+F[3];return X>=1&&X<=12&&H>=1&&H<=(X===2&&r(V)?29:i[X])}function a(j,F){if(j&&F)return j>F?1:j<F?-1:0}const s=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(j){return function(V){const X=s.exec(V);if(!X)return!1;const H=+X[1],Z=+X[2],fe=+X[3],ee=X[4],ae=X[5]==="-"?-1:1,M=+(X[6]||0),B=+(X[7]||0);if(M>23||B>59||j&&!ee)return!1;if(H<=23&&Z<=59&&fe<60)return!0;const K=Z-B*ae,O=H-M*ae-(K<0?1:0);return(O===23||O===-1)&&(K===59||K===-1)&&fe<61}}function u(j,F){if(!(j&&F))return;const V=new Date("2020-01-01T"+j).valueOf(),X=new Date("2020-01-01T"+F).valueOf();if(V&&X)return V-X}function f(j,F){if(!(j&&F))return;const V=s.exec(j),X=s.exec(F);if(V&&X)return j=V[1]+V[2]+V[3],F=X[1]+X[2]+X[3],j>F?1:j<F?-1:0}const c=/t|\s/i;function p(j){const F=l(j);return function(X){const H=X.split(c);return H.length===2&&o(H[0])&&F(H[1])}}function m(j,F){if(!(j&&F))return;const V=new Date(j).valueOf(),X=new Date(F).valueOf();if(V&&X)return V-X}function g(j,F){if(!(j&&F))return;const[V,X]=j.split(c),[H,Z]=F.split(c),fe=a(V,H);if(fe!==void 0)return fe||u(X,Z)}const _=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function h(j){return _.test(j)&&v.test(j)}const E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(j){return E.lastIndex=0,E.test(j)}const S=-2147483648,$=2**31-1;function T(j){return Number.isInteger(j)&&j<=$&&j>=S}function d(j){return Number.isInteger(j)}function A(){return!0}const x=/[^\\]\\Z/;function P(j){if(x.test(j))return!1;try{return new RegExp(j),!0}catch{return!1}}})(uG);var cG={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=bye,r=lr,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:s,schemaCode:l})=>(0,r.str)`should be ${i[s].okStr} ${l}`,params:({keyword:s,schemaCode:l})=>(0,r._)`{comparison: ${i[s].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(s){const{gen:l,data:u,schemaCode:f,keyword:c,it:p}=s,{opts:m,self:g}=p;if(!m.validateFormats)return;const _=new t.KeywordCxt(p,g.RULES.all.format.definition,"format");_.$data?v():h();function v(){const y=l.scopeValue("formats",{ref:g.formats,code:m.code.formats}),S=l.const("fmt",(0,r._)`${y}[${_.schemaCode}]`);s.fail$data((0,r.or)((0,r._)`typeof ${S} != "object"`,(0,r._)`${S} instanceof RegExp`,(0,r._)`typeof ${S}.compare != "function"`,E(S)))}function h(){const y=_.schema,S=g.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const $=l.scopeValue("formats",{key:y,ref:S,code:m.code.formats?(0,r._)`${m.code.formats}${(0,r.getProperty)(y)}`:void 0});s.fail$data(E($))}function E(y){return(0,r._)`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};const a=s=>(s.addKeyword(e.formatLimitDefinition),s);e.default=a})(cG);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=uG,n=cG,i=lr,o=new i.Name("fullFormats"),a=new i.Name("fastFormats"),s=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,p]=f.mode==="fast"?[r.fastFormats,a]:[r.fullFormats,o],m=f.formats||r.formatNames;return l(u,m,c,p),f.keywords&&(0,n.default)(u),u};s.get=(u,f="full")=>{const p=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!p)throw new Error(`Unknown format "${u}"`);return p};function l(u,f,c,p){var m,g;(m=(g=u.opts.code).formats)!==null&&m!==void 0||(g.formats=(0,i._)`require("ajv-formats/dist/formats").${p}`);for(const _ of f)u.addFormat(_,c[_])}e.exports=t=s,Object.defineProperty(t,"__esModule",{value:!0}),t.default=s})(lF,lF.exports);var _ye={exports:{}},ZP={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(xa,function(r){function n(){for(var he=arguments.length,le=Array(he),we=0;we<he;we++)le[we]=arguments[we];if(le.length>1){le[0]=le[0].slice(0,-1);for(var xe=le.length-1,Ae=1;Ae<xe;++Ae)le[Ae]=le[Ae].slice(1,-1);return le[xe]=le[xe].slice(1),le.join("")}else return le[0]}function i(he){return"(?:"+he+")"}function o(he){return he===void 0?"undefined":he===null?"null":Object.prototype.toString.call(he).split(" ").pop().split("]").shift().toLowerCase()}function a(he){return he.toUpperCase()}function s(he){return he!=null?he instanceof Array?he:typeof he.length!="number"||he.split||he.setInterval||he.call?[he]:Array.prototype.slice.call(he):[]}function l(he,le){var we=he;if(le)for(var xe in le)we[xe]=le[xe];return we}function u(he){var le="[A-Za-z]",we="[0-9]",xe=n(we,"[A-Fa-f]"),Ae=i(i("%[EFef]"+xe+"%"+xe+xe+"%"+xe+xe)+"|"+i("%[89A-Fa-f]"+xe+"%"+xe+xe)+"|"+i("%"+xe+xe)),et="[\\:\\/\\?\\#\\[\\]\\@]",ot="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",xt=n(et,ot),Nt=he?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",jt=he?"[\\uE000-\\uF8FF]":"[]",$t=n(le,we,"[\\-\\.\\_\\~]",Nt);i(le+n(le,we,"[\\+\\-\\.]")+"*"),i(i(Ae+"|"+n($t,ot,"[\\:]"))+"*");var Rt=i(i("25[0-5]")+"|"+i("2[0-4]"+we)+"|"+i("1"+we+we)+"|"+i("0?[1-9]"+we)+"|0?0?"+we),Gt=i(Rt+"\\."+Rt+"\\."+Rt+"\\."+Rt),wt=i(xe+"{1,4}"),Tt=i(i(wt+"\\:"+wt)+"|"+Gt),Dt=i(i(wt+"\\:")+"{6}"+Tt),Ft=i("\\:\\:"+i(wt+"\\:")+"{5}"+Tt),Kr=i(i(wt)+"?\\:\\:"+i(wt+"\\:")+"{4}"+Tt),Qr=i(i(i(wt+"\\:")+"{0,1}"+wt)+"?\\:\\:"+i(wt+"\\:")+"{3}"+Tt),kr=i(i(i(wt+"\\:")+"{0,2}"+wt)+"?\\:\\:"+i(wt+"\\:")+"{2}"+Tt),Fn=i(i(i(wt+"\\:")+"{0,3}"+wt)+"?\\:\\:"+wt+"\\:"+Tt),Hn=i(i(i(wt+"\\:")+"{0,4}"+wt)+"?\\:\\:"+Tt),Cr=i(i(i(wt+"\\:")+"{0,5}"+wt)+"?\\:\\:"+wt),Zr=i(i(i(wt+"\\:")+"{0,6}"+wt)+"?\\:\\:"),Qn=i([Dt,Ft,Kr,Qr,kr,Fn,Hn,Cr,Zr].join("|")),pn=i(i($t+"|"+Ae)+"+");i("[vV]"+xe+"+\\."+n($t,ot,"[\\:]")+"+"),i(i(Ae+"|"+n($t,ot))+"*");var hi=i(Ae+"|"+n($t,ot,"[\\:\\@]"));return i(i(Ae+"|"+n($t,ot,"[\\@]"))+"+"),i(i(hi+"|"+n("[\\/\\?]",jt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",le,we,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",$t,ot),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",$t,ot),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",$t,ot),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",$t,ot),"g"),NOT_QUERY:new RegExp(n("[^\\%]",$t,ot,"[\\:\\@\\/\\?]",jt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",$t,ot,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",$t,ot),"g"),UNRESERVED:new RegExp($t,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",$t,xt),"g"),PCT_ENCODED:new RegExp(Ae,"g"),IPV4ADDRESS:new RegExp("^("+Gt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Qn+")"+i(i("\\%25|\\%(?!"+xe+"{2})")+"("+pn+")")+"?\\]?$")}}var f=u(!1),c=u(!0),p=function(){function he(le,we){var xe=[],Ae=!0,et=!1,ot=void 0;try{for(var xt=le[Symbol.iterator](),Nt;!(Ae=(Nt=xt.next()).done)&&(xe.push(Nt.value),!(we&&xe.length===we));Ae=!0);}catch(jt){et=!0,ot=jt}finally{try{!Ae&&xt.return&&xt.return()}finally{if(et)throw ot}}return xe}return function(le,we){if(Array.isArray(le))return le;if(Symbol.iterator in Object(le))return he(le,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(he){if(Array.isArray(he)){for(var le=0,we=Array(he.length);le<he.length;le++)we[le]=he[le];return we}else return Array.from(he)},g=2147483647,_=36,v=1,h=26,E=38,y=700,S=72,$=128,T="-",d=/^xn--/,A=/[^\0-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=_-v,F=Math.floor,V=String.fromCharCode;function X(he){throw new RangeError(P[he])}function H(he,le){for(var we=[],xe=he.length;xe--;)we[xe]=le(he[xe]);return we}function Z(he,le){var we=he.split("@"),xe="";we.length>1&&(xe=we[0]+"@",he=we[1]),he=he.replace(x,".");var Ae=he.split("."),et=H(Ae,le).join(".");return xe+et}function fe(he){for(var le=[],we=0,xe=he.length;we<xe;){var Ae=he.charCodeAt(we++);if(Ae>=55296&&Ae<=56319&&we<xe){var et=he.charCodeAt(we++);(et&64512)==56320?le.push(((Ae&1023)<<10)+(et&1023)+65536):(le.push(Ae),we--)}else le.push(Ae)}return le}var ee=function(le){return String.fromCodePoint.apply(String,m(le))},ae=function(le){return le-48<10?le-22:le-65<26?le-65:le-97<26?le-97:_},M=function(le,we){return le+22+75*(le<26)-((we!=0)<<5)},B=function(le,we,xe){var Ae=0;for(le=xe?F(le/y):le>>1,le+=F(le/we);le>j*h>>1;Ae+=_)le=F(le/j);return F(Ae+(j+1)*le/(le+E))},K=function(le){var we=[],xe=le.length,Ae=0,et=$,ot=S,xt=le.lastIndexOf(T);xt<0&&(xt=0);for(var Nt=0;Nt<xt;++Nt)le.charCodeAt(Nt)>=128&&X("not-basic"),we.push(le.charCodeAt(Nt));for(var jt=xt>0?xt+1:0;jt<xe;){for(var $t=Ae,Rt=1,Gt=_;;Gt+=_){jt>=xe&&X("invalid-input");var wt=ae(le.charCodeAt(jt++));(wt>=_||wt>F((g-Ae)/Rt))&&X("overflow"),Ae+=wt*Rt;var Tt=Gt<=ot?v:Gt>=ot+h?h:Gt-ot;if(wt<Tt)break;var Dt=_-Tt;Rt>F(g/Dt)&&X("overflow"),Rt*=Dt}var Ft=we.length+1;ot=B(Ae-$t,Ft,$t==0),F(Ae/Ft)>g-et&&X("overflow"),et+=F(Ae/Ft),Ae%=Ft,we.splice(Ae++,0,et)}return String.fromCodePoint.apply(String,we)},O=function(le){var we=[];le=fe(le);var xe=le.length,Ae=$,et=0,ot=S,xt=!0,Nt=!1,jt=void 0;try{for(var $t=le[Symbol.iterator](),Rt;!(xt=(Rt=$t.next()).done);xt=!0){var Gt=Rt.value;Gt<128&&we.push(V(Gt))}}catch(Bn){Nt=!0,jt=Bn}finally{try{!xt&&$t.return&&$t.return()}finally{if(Nt)throw jt}}var wt=we.length,Tt=wt;for(wt&&we.push(T);Tt<xe;){var Dt=g,Ft=!0,Kr=!1,Qr=void 0;try{for(var kr=le[Symbol.iterator](),Fn;!(Ft=(Fn=kr.next()).done);Ft=!0){var Hn=Fn.value;Hn>=Ae&&Hn<Dt&&(Dt=Hn)}}catch(Bn){Kr=!0,Qr=Bn}finally{try{!Ft&&kr.return&&kr.return()}finally{if(Kr)throw Qr}}var Cr=Tt+1;Dt-Ae>F((g-et)/Cr)&&X("overflow"),et+=(Dt-Ae)*Cr,Ae=Dt;var Zr=!0,Qn=!1,pn=void 0;try{for(var hi=le[Symbol.iterator](),na;!(Zr=(na=hi.next()).done);Zr=!0){var ia=na.value;if(ia<Ae&&++et>g&&X("overflow"),ia==Ae){for(var jr=et,_n=_;;_n+=_){var pi=_n<=ot?v:_n>=ot+h?h:_n-ot;if(jr<pi)break;var vs=jr-pi,oa=_-pi;we.push(V(M(pi+vs%oa,0))),jr=F(vs/oa)}we.push(V(M(jr,0))),ot=B(et,Cr,Tt==wt),et=0,++Tt}}}catch(Bn){Qn=!0,pn=Bn}finally{try{!Zr&&hi.return&&hi.return()}finally{if(Qn)throw pn}}++et,++Ae}return we.join("")},N=function(le){return Z(le,function(we){return d.test(we)?K(we.slice(4).toLowerCase()):we})},q=function(le){return Z(le,function(we){return A.test(we)?"xn--"+O(we):we})},ne={version:"2.1.0",ucs2:{decode:fe,encode:ee},decode:K,encode:O,toASCII:q,toUnicode:N},J={};function Y(he){var le=he.charCodeAt(0),we=void 0;return le<16?we="%0"+le.toString(16).toUpperCase():le<128?we="%"+le.toString(16).toUpperCase():le<2048?we="%"+(le>>6|192).toString(16).toUpperCase()+"%"+(le&63|128).toString(16).toUpperCase():we="%"+(le>>12|224).toString(16).toUpperCase()+"%"+(le>>6&63|128).toString(16).toUpperCase()+"%"+(le&63|128).toString(16).toUpperCase(),we}function oe(he){for(var le="",we=0,xe=he.length;we<xe;){var Ae=parseInt(he.substr(we+1,2),16);if(Ae<128)le+=String.fromCharCode(Ae),we+=3;else if(Ae>=194&&Ae<224){if(xe-we>=6){var et=parseInt(he.substr(we+4,2),16);le+=String.fromCharCode((Ae&31)<<6|et&63)}else le+=he.substr(we,6);we+=6}else if(Ae>=224){if(xe-we>=9){var ot=parseInt(he.substr(we+4,2),16),xt=parseInt(he.substr(we+7,2),16);le+=String.fromCharCode((Ae&15)<<12|(ot&63)<<6|xt&63)}else le+=he.substr(we,9);we+=9}else le+=he.substr(we,3),we+=3}return le}function be(he,le){function we(xe){var Ae=oe(xe);return Ae.match(le.UNRESERVED)?Ae:xe}return he.scheme&&(he.scheme=String(he.scheme).replace(le.PCT_ENCODED,we).toLowerCase().replace(le.NOT_SCHEME,"")),he.userinfo!==void 0&&(he.userinfo=String(he.userinfo).replace(le.PCT_ENCODED,we).replace(le.NOT_USERINFO,Y).replace(le.PCT_ENCODED,a)),he.host!==void 0&&(he.host=String(he.host).replace(le.PCT_ENCODED,we).toLowerCase().replace(le.NOT_HOST,Y).replace(le.PCT_ENCODED,a)),he.path!==void 0&&(he.path=String(he.path).replace(le.PCT_ENCODED,we).replace(he.scheme?le.NOT_PATH:le.NOT_PATH_NOSCHEME,Y).replace(le.PCT_ENCODED,a)),he.query!==void 0&&(he.query=String(he.query).replace(le.PCT_ENCODED,we).replace(le.NOT_QUERY,Y).replace(le.PCT_ENCODED,a)),he.fragment!==void 0&&(he.fragment=String(he.fragment).replace(le.PCT_ENCODED,we).replace(le.NOT_FRAGMENT,Y).replace(le.PCT_ENCODED,a)),he}function Oe(he){return he.replace(/^0*(.*)/,"$1")||"0"}function R(he,le){var we=he.match(le.IPV4ADDRESS)||[],xe=p(we,2),Ae=xe[1];return Ae?Ae.split(".").map(Oe).join("."):he}function C(he,le){var we=he.match(le.IPV6ADDRESS)||[],xe=p(we,3),Ae=xe[1],et=xe[2];if(Ae){for(var ot=Ae.toLowerCase().split("::").reverse(),xt=p(ot,2),Nt=xt[0],jt=xt[1],$t=jt?jt.split(":").map(Oe):[],Rt=Nt.split(":").map(Oe),Gt=le.IPV4ADDRESS.test(Rt[Rt.length-1]),wt=Gt?7:8,Tt=Rt.length-wt,Dt=Array(wt),Ft=0;Ft<wt;++Ft)Dt[Ft]=$t[Ft]||Rt[Tt+Ft]||"";Gt&&(Dt[wt-1]=R(Dt[wt-1],le));var Kr=Dt.reduce(function(Cr,Zr,Qn){if(!Zr||Zr==="0"){var pn=Cr[Cr.length-1];pn&&pn.index+pn.length===Qn?pn.length++:Cr.push({index:Qn,length:1})}return Cr},[]),Qr=Kr.sort(function(Cr,Zr){return Zr.length-Cr.length})[0],kr=void 0;if(Qr&&Qr.length>1){var Fn=Dt.slice(0,Qr.index),Hn=Dt.slice(Qr.index+Qr.length);kr=Fn.join(":")+"::"+Hn.join(":")}else kr=Dt.join(":");return et&&(kr+="%"+et),kr}else return he}var D=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,G="".match(/(){0}/)[1]===void 0;function ie(he){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we={},xe=le.iri!==!1?c:f;le.reference==="suffix"&&(he=(le.scheme?le.scheme+":":"")+"//"+he);var Ae=he.match(D);if(Ae){G?(we.scheme=Ae[1],we.userinfo=Ae[3],we.host=Ae[4],we.port=parseInt(Ae[5],10),we.path=Ae[6]||"",we.query=Ae[7],we.fragment=Ae[8],isNaN(we.port)&&(we.port=Ae[5])):(we.scheme=Ae[1]||void 0,we.userinfo=he.indexOf("@")!==-1?Ae[3]:void 0,we.host=he.indexOf("//")!==-1?Ae[4]:void 0,we.port=parseInt(Ae[5],10),we.path=Ae[6]||"",we.query=he.indexOf("?")!==-1?Ae[7]:void 0,we.fragment=he.indexOf("#")!==-1?Ae[8]:void 0,isNaN(we.port)&&(we.port=he.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Ae[4]:void 0)),we.host&&(we.host=C(R(we.host,xe),xe)),we.scheme===void 0&&we.userinfo===void 0&&we.host===void 0&&we.port===void 0&&!we.path&&we.query===void 0?we.reference="same-document":we.scheme===void 0?we.reference="relative":we.fragment===void 0?we.reference="absolute":we.reference="uri",le.reference&&le.reference!=="suffix"&&le.reference!==we.reference&&(we.error=we.error||"URI is not a "+le.reference+" reference.");var et=J[(le.scheme||we.scheme||"").toLowerCase()];if(!le.unicodeSupport&&(!et||!et.unicodeSupport)){if(we.host&&(le.domainHost||et&&et.domainHost))try{we.host=ne.toASCII(we.host.replace(xe.PCT_ENCODED,oe).toLowerCase())}catch(ot){we.error=we.error||"Host's domain name can not be converted to ASCII via punycode: "+ot}be(we,f)}else be(we,xe);et&&et.parse&&et.parse(we,le)}else we.error=we.error||"URI can not be parsed.";return we}function ue(he,le){var we=le.iri!==!1?c:f,xe=[];return he.userinfo!==void 0&&(xe.push(he.userinfo),xe.push("@")),he.host!==void 0&&xe.push(C(R(String(he.host),we),we).replace(we.IPV6ADDRESS,function(Ae,et,ot){return"["+et+(ot?"%25"+ot:"")+"]"})),(typeof he.port=="number"||typeof he.port=="string")&&(xe.push(":"),xe.push(String(he.port))),xe.length?xe.join(""):void 0}var de=/^\.\.?\//,ve=/^\/\.(\/|$)/,Ne=/^\/\.\.(\/|$)/,Be=/^\/?(?:.|\n)*?(?=\/|$)/;function je(he){for(var le=[];he.length;)if(he.match(de))he=he.replace(de,"");else if(he.match(ve))he=he.replace(ve,"/");else if(he.match(Ne))he=he.replace(Ne,"/"),le.pop();else if(he==="."||he==="..")he="";else{var we=he.match(Be);if(we){var xe=we[0];he=he.slice(xe.length),le.push(xe)}else throw new Error("Unexpected dot segment condition")}return le.join("")}function nt(he){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=le.iri?c:f,xe=[],Ae=J[(le.scheme||he.scheme||"").toLowerCase()];if(Ae&&Ae.serialize&&Ae.serialize(he,le),he.host&&!we.IPV6ADDRESS.test(he.host)){if(le.domainHost||Ae&&Ae.domainHost)try{he.host=le.iri?ne.toUnicode(he.host):ne.toASCII(he.host.replace(we.PCT_ENCODED,oe).toLowerCase())}catch(xt){he.error=he.error||"Host's domain name can not be converted to "+(le.iri?"Unicode":"ASCII")+" via punycode: "+xt}}be(he,we),le.reference!=="suffix"&&he.scheme&&(xe.push(he.scheme),xe.push(":"));var et=ue(he,le);if(et!==void 0&&(le.reference!=="suffix"&&xe.push("//"),xe.push(et),he.path&&he.path.charAt(0)!=="/"&&xe.push("/")),he.path!==void 0){var ot=he.path;!le.absolutePath&&(!Ae||!Ae.absolutePath)&&(ot=je(ot)),et===void 0&&(ot=ot.replace(/^\/\//,"/%2F")),xe.push(ot)}return he.query!==void 0&&(xe.push("?"),xe.push(he.query)),he.fragment!==void 0&&(xe.push("#"),xe.push(he.fragment)),xe.join("")}function We(he,le){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},xe=arguments[3],Ae={};return xe||(he=ie(nt(he,we),we),le=ie(nt(le,we),we)),we=we||{},!we.tolerant&&le.scheme?(Ae.scheme=le.scheme,Ae.userinfo=le.userinfo,Ae.host=le.host,Ae.port=le.port,Ae.path=je(le.path||""),Ae.query=le.query):(le.userinfo!==void 0||le.host!==void 0||le.port!==void 0?(Ae.userinfo=le.userinfo,Ae.host=le.host,Ae.port=le.port,Ae.path=je(le.path||""),Ae.query=le.query):(le.path?(le.path.charAt(0)==="/"?Ae.path=je(le.path):((he.userinfo!==void 0||he.host!==void 0||he.port!==void 0)&&!he.path?Ae.path="/"+le.path:he.path?Ae.path=he.path.slice(0,he.path.lastIndexOf("/")+1)+le.path:Ae.path=le.path,Ae.path=je(Ae.path)),Ae.query=le.query):(Ae.path=he.path,le.query!==void 0?Ae.query=le.query:Ae.query=he.query),Ae.userinfo=he.userinfo,Ae.host=he.host,Ae.port=he.port),Ae.scheme=he.scheme),Ae.fragment=le.fragment,Ae}function Ue(he,le,we){var xe=l({scheme:"null"},we);return nt(We(ie(he,xe),ie(le,xe),xe,!0),xe)}function W(he,le){return typeof he=="string"?he=nt(ie(he,le),le):o(he)==="object"&&(he=ie(nt(he,le),le)),he}function I(he,le,we){return typeof he=="string"?he=nt(ie(he,we),we):o(he)==="object"&&(he=nt(he,we)),typeof le=="string"?le=nt(ie(le,we),we):o(le)==="object"&&(le=nt(le,we)),he===le}function L(he,le){return he&&he.toString().replace(!le||!le.iri?f.ESCAPE:c.ESCAPE,Y)}function re(he,le){return he&&he.toString().replace(!le||!le.iri?f.PCT_ENCODED:c.PCT_ENCODED,oe)}var ye={scheme:"http",domainHost:!0,parse:function(le,we){return le.host||(le.error=le.error||"HTTP URIs must have a host."),le},serialize:function(le,we){var xe=String(le.scheme).toLowerCase()==="https";return(le.port===(xe?443:80)||le.port==="")&&(le.port=void 0),le.path||(le.path="/"),le}},Ee={scheme:"https",domainHost:ye.domainHost,parse:ye.parse,serialize:ye.serialize};function Ce(he){return typeof he.secure=="boolean"?he.secure:String(he.scheme).toLowerCase()==="wss"}var Re={scheme:"ws",domainHost:!0,parse:function(le,we){var xe=le;return xe.secure=Ce(xe),xe.resourceName=(xe.path||"/")+(xe.query?"?"+xe.query:""),xe.path=void 0,xe.query=void 0,xe},serialize:function(le,we){if((le.port===(Ce(le)?443:80)||le.port==="")&&(le.port=void 0),typeof le.secure=="boolean"&&(le.scheme=le.secure?"wss":"ws",le.secure=void 0),le.resourceName){var xe=le.resourceName.split("?"),Ae=p(xe,2),et=Ae[0],ot=Ae[1];le.path=et&&et!=="/"?et:void 0,le.query=ot,le.resourceName=void 0}return le.fragment=void 0,le}},Le={scheme:"wss",domainHost:Re.domainHost,parse:Re.parse,serialize:Re.serialize},ft={},yt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",st="[0-9A-Fa-f]",Ct=i(i("%[EFef]"+st+"%"+st+st+"%"+st+st)+"|"+i("%[89A-Fa-f]"+st+"%"+st+st)+"|"+i("%"+st+st)),Er="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Or="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ir=n(Or,'[\\"\\\\]'),mr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",cn=new RegExp(yt,"g"),Vt=new RegExp(Ct,"g"),zt=new RegExp(n("[^]",Er,"[\\.]",'[\\"]',ir),"g"),At=new RegExp(n("[^]",yt,mr),"g"),Se=At;function Ie(he){var le=oe(he);return le.match(cn)?le:he}var dt={scheme:"mailto",parse:function(le,we){var xe=le,Ae=xe.to=xe.path?xe.path.split(","):[];if(xe.path=void 0,xe.query){for(var et=!1,ot={},xt=xe.query.split("&"),Nt=0,jt=xt.length;Nt<jt;++Nt){var $t=xt[Nt].split("=");switch($t[0]){case"to":for(var Rt=$t[1].split(","),Gt=0,wt=Rt.length;Gt<wt;++Gt)Ae.push(Rt[Gt]);break;case"subject":xe.subject=re($t[1],we);break;case"body":xe.body=re($t[1],we);break;default:et=!0,ot[re($t[0],we)]=re($t[1],we);break}}et&&(xe.headers=ot)}xe.query=void 0;for(var Tt=0,Dt=Ae.length;Tt<Dt;++Tt){var Ft=Ae[Tt].split("@");if(Ft[0]=re(Ft[0]),we.unicodeSupport)Ft[1]=re(Ft[1],we).toLowerCase();else try{Ft[1]=ne.toASCII(re(Ft[1],we).toLowerCase())}catch(Kr){xe.error=xe.error||"Email address's domain name can not be converted to ASCII via punycode: "+Kr}Ae[Tt]=Ft.join("@")}return xe},serialize:function(le,we){var xe=le,Ae=s(le.to);if(Ae){for(var et=0,ot=Ae.length;et<ot;++et){var xt=String(Ae[et]),Nt=xt.lastIndexOf("@"),jt=xt.slice(0,Nt).replace(Vt,Ie).replace(Vt,a).replace(zt,Y),$t=xt.slice(Nt+1);try{$t=we.iri?ne.toUnicode($t):ne.toASCII(re($t,we).toLowerCase())}catch(Tt){xe.error=xe.error||"Email address's domain name can not be converted to "+(we.iri?"Unicode":"ASCII")+" via punycode: "+Tt}Ae[et]=jt+"@"+$t}xe.path=Ae.join(",")}var Rt=le.headers=le.headers||{};le.subject&&(Rt.subject=le.subject),le.body&&(Rt.body=le.body);var Gt=[];for(var wt in Rt)Rt[wt]!==ft[wt]&&Gt.push(wt.replace(Vt,Ie).replace(Vt,a).replace(At,Y)+"="+Rt[wt].replace(Vt,Ie).replace(Vt,a).replace(Se,Y));return Gt.length&&(xe.query=Gt.join("&")),xe}},Ye=/^([^\:]+)\:(.*)/,it={scheme:"urn",parse:function(le,we){var xe=le.path&&le.path.match(Ye),Ae=le;if(xe){var et=we.scheme||Ae.scheme||"urn",ot=xe[1].toLowerCase(),xt=xe[2],Nt=et+":"+(we.nid||ot),jt=J[Nt];Ae.nid=ot,Ae.nss=xt,Ae.path=void 0,jt&&(Ae=jt.parse(Ae,we))}else Ae.error=Ae.error||"URN can not be parsed.";return Ae},serialize:function(le,we){var xe=we.scheme||le.scheme||"urn",Ae=le.nid,et=xe+":"+(we.nid||Ae),ot=J[et];ot&&(le=ot.serialize(le,we));var xt=le,Nt=le.nss;return xt.path=(Ae||we.nid)+":"+Nt,xt}},Ot=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,qt={scheme:"urn:uuid",parse:function(le,we){var xe=le;return xe.uuid=xe.nss,xe.nss=void 0,!we.tolerant&&(!xe.uuid||!xe.uuid.match(Ot))&&(xe.error=xe.error||"UUID is not valid."),xe},serialize:function(le,we){var xe=le;return xe.nss=(le.uuid||"").toLowerCase(),xe}};J[ye.scheme]=ye,J[Ee.scheme]=Ee,J[Re.scheme]=Re,J[Le.scheme]=Le,J[dt.scheme]=dt,J[it.scheme]=it,J[qt.scheme]=qt,r.SCHEMES=J,r.pctEncChar=Y,r.pctDecChars=oe,r.parse=ie,r.removeDotSegments=je,r.serialize=nt,r.resolveComponents=We,r.resolve=Ue,r.normalize=W,r.equal=I,r.escapeComponent=L,r.unescapeComponent=re,Object.defineProperty(r,"__esModule",{value:!0})})})(ZP,ZP.exports);var fG=ZP.exports,Eo={},dG={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.nearley=r()})(xa,function(){function t(u,f,c){return this.id=++t.highestId,this.name=u,this.symbols=f,this.postprocess=c,this}t.highestId=0,t.prototype.toString=function(u){var f=typeof u>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,u).map(l).join(" ")+"  "+this.symbols.slice(u).map(l).join(" ");return this.name+"  "+f};function r(u,f,c,p){this.rule=u,this.dot=f,this.reference=c,this.data=[],this.wantedBy=p,this.isComplete=this.dot===u.symbols.length}r.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},r.prototype.nextState=function(u){var f=new r(this.rule,this.dot+1,this.reference,this.wantedBy);return f.left=this,f.right=u,f.isComplete&&(f.data=f.build(),f.right=void 0),f},r.prototype.build=function(){var u=[],f=this;do u.push(f.right.data),f=f.left;while(f.left);return u.reverse(),u},r.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,a.fail))};function n(u,f){this.grammar=u,this.index=f,this.states=[],this.wants={},this.scannable=[],this.completed={}}n.prototype.process=function(u){for(var f=this.states,c=this.wants,p=this.completed,m=0;m<f.length;m++){var g=f[m];if(g.isComplete){if(g.finish(),g.data!==a.fail){for(var _=g.wantedBy,v=_.length;v--;){var h=_[v];this.complete(h,g)}if(g.reference===this.index){var E=g.rule.name;(this.completed[E]=this.completed[E]||[]).push(g)}}}else{var E=g.rule.symbols[g.dot];if(typeof E!="string"){this.scannable.push(g);continue}if(c[E]){if(c[E].push(g),p.hasOwnProperty(E))for(var y=p[E],v=0;v<y.length;v++){var S=y[v];this.complete(g,S)}}else c[E]=[g],this.predict(E)}}},n.prototype.predict=function(u){for(var f=this.grammar.byName[u]||[],c=0;c<f.length;c++){var p=f[c],m=this.wants[u],g=new r(p,0,this.index,m);this.states.push(g)}},n.prototype.complete=function(u,f){var c=u.nextState(f);this.states.push(c)};function i(u,f){this.rules=u,this.start=f||this.rules[0].name;var c=this.byName={};this.rules.forEach(function(p){c.hasOwnProperty(p.name)||(c[p.name]=[]),c[p.name].push(p)})}i.fromCompiled=function(p,f){var c=p.Lexer;p.ParserStart&&(f=p.ParserStart,p=p.ParserRules);var p=p.map(function(g){return new t(g.name,g.symbols,g.postprocess)}),m=new i(p,f);return m.lexer=c,m};function o(){this.reset("")}o.prototype.reset=function(u,f){this.buffer=u,this.index=0,this.line=f?f.line:1,this.lastLineBreak=f?-f.col:0},o.prototype.next=function(){if(this.index<this.buffer.length){var u=this.buffer[this.index++];return u===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:u}}},o.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},o.prototype.formatError=function(u,f){var c=this.buffer;if(typeof c=="string"){var p=c.split(`
`).slice(Math.max(0,this.line-5),this.line),m=c.indexOf(`
`,this.index);m===-1&&(m=c.length);var g=this.index-this.lastLineBreak,_=String(this.line).length;return f+=" at line "+this.line+" col "+g+`:

`,f+=p.map(function(h,E){return v(this.line-p.length+E+1,_)+" "+h},this).join(`
`),f+=`
`+v("",_+g)+`^
`,f}else return f+" at index "+(this.index-1);function v(h,E){var y=String(h);return Array(E-y.length+1).join(" ")+y}};function a(u,f,c){if(u instanceof i)var p=u,c=f;else var p=i.fromCompiled(u,f);this.grammar=p,this.options={keepHistory:!1,lexer:p.lexer||new o};for(var m in c||{})this.options[m]=c[m];this.lexer=this.options.lexer,this.lexerState=void 0;var g=new n(p,0);this.table=[g],g.wants[p.start]=[],g.predict(p.start),g.process(),this.current=0}a.fail={},a.prototype.feed=function(u){var f=this.lexer;f.reset(u,this.lexerState);for(var c;;){try{if(c=f.next(),!c)break}catch(d){var _=new n(this.grammar,this.current+1);this.table.push(_);var p=new Error(this.reportLexerError(d));throw p.offset=this.current,p.token=d.token,p}var m=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var g=this.current+1,_=new n(this.grammar,g);this.table.push(_);for(var v=c.text!==void 0?c.text:c.value,h=f.constructor===o?c.value:c,E=m.scannable,y=E.length;y--;){var S=E[y],$=S.rule.symbols[S.dot];if($.test?$.test(h):$.type?$.type===c.type:$.literal===v){var T=S.nextState({data:h,token:c,isToken:!0,reference:g-1});_.states.push(T)}}if(_.process(),_.states.length===0){var p=new Error(this.reportError(c));throw p.offset=this.current,p.token=c,p}this.options.keepHistory&&(m.lexerState=f.save()),this.current++}return m&&(this.lexerState=f.save()),this.results=this.finish(),this},a.prototype.reportLexerError=function(u){var f,c,p=u.token;return p?(f="input "+JSON.stringify(p.text[0])+" (lexer error)",c=this.lexer.formatError(p,"Syntax error")):(f="input (lexer error)",c=u.message),this.reportErrorCommon(c,f)},a.prototype.reportError=function(u){var f=(u.type?u.type+" token: ":"")+JSON.stringify(u.value!==void 0?u.value:u),c=this.lexer.formatError(u,"Syntax error");return this.reportErrorCommon(c,f)},a.prototype.reportErrorCommon=function(u,f){var c=[];c.push(u);var p=this.table.length-2,m=this.table[p],g=m.states.filter(function(v){var h=v.rule.symbols[v.dot];return h&&typeof h!="string"});if(g.length===0)c.push("Unexpected "+f+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(m.states,c);else{c.push("Unexpected "+f+`. Instead, I was expecting to see one of the following:
`);var _=g.map(function(v){return this.buildFirstStateStack(v,[])||[v]},this);_.forEach(function(v){var h=v[0],E=h.rule.symbols[h.dot],y=this.getSymbolDisplay(E);c.push("A "+y+" based on:"),this.displayStateStack(v,c)},this)}return c.push(""),c.join(`
`)},a.prototype.displayStateStack=function(u,f){for(var c,p=0,m=0;m<u.length;m++){var g=u[m],_=g.rule.toString(g.dot);_===c?p++:(p>0&&f.push("    ^ "+p+" more lines identical to this"),p=0,f.push("    "+_)),c=_}},a.prototype.getSymbolDisplay=function(u){return s(u)},a.prototype.buildFirstStateStack=function(u,f){if(f.indexOf(u)!==-1)return null;if(u.wantedBy.length===0)return[u];var c=u.wantedBy[0],p=[u].concat(f),m=this.buildFirstStateStack(c,p);return m===null?null:[u].concat(m)},a.prototype.save=function(){var u=this.table[this.current];return u.lexerState=this.lexerState,u},a.prototype.restore=function(u){var f=u.index;this.current=f,this.table[f]=u,this.table.splice(f+1),this.lexerState=u.lexerState,this.results=this.finish()},a.prototype.rewind=function(u){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[u])},a.prototype.finish=function(){var u=[],f=this.grammar.start,c=this.table[this.table.length-1];return c.states.forEach(function(p){p.rule.name===f&&p.dot===p.rule.symbols.length&&p.reference===0&&p.data!==a.fail&&u.push(p)}),u.map(function(p){return p.data})};function s(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return"character matching "+u;if(u.type)return u.type+" token";if(u.test)return"token matching "+String(u.test);throw new Error("Unknown symbol type: "+u)}}function l(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return u.toString();if(u.type)return"%"+u.type;if(u.test)return"<"+String(u.test)+">";throw new Error("Unknown symbol type: "+u)}}return{Parser:a,Grammar:i,Rule:t}})})(dG);var Eye=dG.exports,$k={};Object.defineProperty($k,"__esModule",{value:!0});function bi(e){return e[0]}const hG=e=>[].concat(...e.map(t=>Array.isArray(t)?hG(t):t));function _d(e){return e?Array.isArray(e)?hG(e).join(""):e:""}const Sye={Lexer:void 0,ParserRules:[{name:"Reverse_path",symbols:["Path"]},{name:"Reverse_path$string$1",symbols:[{literal:"<"},{literal:">"}],postprocess:e=>e.join("")},{name:"Reverse_path",symbols:["Reverse_path$string$1"]},{name:"Forward_path$subexpression$1$subexpression$1",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:"@"}],postprocess:function(e){return e.join("")}},{name:"Forward_path$subexpression$1",symbols:["Forward_path$subexpression$1$subexpression$1","Domain",{literal:">"}]},{name:"Forward_path",symbols:["Forward_path$subexpression$1"]},{name:"Forward_path$subexpression$2",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:">"}],postprocess:function(e){return e.join("")}},{name:"Forward_path",symbols:["Forward_path$subexpression$2"]},{name:"Forward_path",symbols:["Path"]},{name:"Path$ebnf$1$subexpression$1",symbols:["A_d_l",{literal:":"}]},{name:"Path$ebnf$1",symbols:["Path$ebnf$1$subexpression$1"],postprocess:bi},{name:"Path$ebnf$1",symbols:[],postprocess:()=>null},{name:"Path",symbols:[{literal:"<"},"Path$ebnf$1","Mailbox",{literal:">"}]},{name:"A_d_l$ebnf$1",symbols:[]},{name:"A_d_l$ebnf$1$subexpression$1",symbols:[{literal:","},"At_domain"]},{name:"A_d_l$ebnf$1",symbols:["A_d_l$ebnf$1","A_d_l$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"A_d_l",symbols:["At_domain","A_d_l$ebnf$1"]},{name:"At_domain",symbols:[{literal:"@"},"Domain"]},{name:"Domain$ebnf$1",symbols:[]},{name:"Domain$ebnf$1$subexpression$1",symbols:[{literal:"."},"sub_domain"]},{name:"Domain$ebnf$1",symbols:["Domain$ebnf$1","Domain$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Domain",symbols:["sub_domain","Domain$ebnf$1"]},{name:"sub_domain",symbols:["U_label"]},{name:"Let_dig",symbols:["ALPHA_DIGIT"],postprocess:bi},{name:"Ldh_str$ebnf$1",symbols:[]},{name:"Ldh_str$ebnf$1",symbols:["Ldh_str$ebnf$1","ALPHA_DIG_DASH"],postprocess:e=>e[0].concat([e[1]])},{name:"Ldh_str",symbols:["Ldh_str$ebnf$1","Let_dig"]},{name:"U_Let_dig",symbols:["ALPHA_DIGIT_U"],postprocess:bi},{name:"U_Ldh_str$ebnf$1",symbols:[]},{name:"U_Ldh_str$ebnf$1",symbols:["U_Ldh_str$ebnf$1","ALPHA_DIG_DASH_U"],postprocess:e=>e[0].concat([e[1]])},{name:"U_Ldh_str",symbols:["U_Ldh_str$ebnf$1","U_Let_dig"]},{name:"U_label$ebnf$1$subexpression$1",symbols:["U_Ldh_str"]},{name:"U_label$ebnf$1",symbols:["U_label$ebnf$1$subexpression$1"],postprocess:bi},{name:"U_label$ebnf$1",symbols:[],postprocess:()=>null},{name:"U_label",symbols:["U_Let_dig","U_label$ebnf$1"]},{name:"address_literal$subexpression$1",symbols:["IPv4_address_literal"]},{name:"address_literal$subexpression$1",symbols:["IPv6_address_literal"]},{name:"address_literal$subexpression$1",symbols:["General_address_literal"]},{name:"address_literal",symbols:[{literal:"["},"address_literal$subexpression$1",{literal:"]"}]},{name:"non_local_part",symbols:["Domain"],postprocess:function(e){return{DomainName:_d(e[0])}}},{name:"non_local_part",symbols:["address_literal"],postprocess:function(e){return{AddressLiteral:_d(e[0])}}},{name:"Mailbox",symbols:["Local_part",{literal:"@"},"non_local_part"],postprocess:function(e){return{localPart:_d(e[0]),domainPart:_d(e[2])}}},{name:"Local_part",symbols:["Dot_string"],postprocess:function(e){return{DotString:_d(e[0])}}},{name:"Local_part",symbols:["Quoted_string"],postprocess:function(e){return{QuotedString:_d(e[0])}}},{name:"Dot_string$ebnf$1",symbols:[]},{name:"Dot_string$ebnf$1$subexpression$1",symbols:[{literal:"."},"Atom"]},{name:"Dot_string$ebnf$1",symbols:["Dot_string$ebnf$1","Dot_string$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Dot_string",symbols:["Atom","Dot_string$ebnf$1"]},{name:"Atom$ebnf$1",symbols:[/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/]},{name:"Atom$ebnf$1",symbols:["Atom$ebnf$1",/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/],postprocess:e=>e[0].concat([e[1]])},{name:"Atom",symbols:["Atom$ebnf$1"]},{name:"Quoted_string$ebnf$1",symbols:[]},{name:"Quoted_string$ebnf$1",symbols:["Quoted_string$ebnf$1","QcontentSMTP"],postprocess:e=>e[0].concat([e[1]])},{name:"Quoted_string",symbols:["DQUOTE","Quoted_string$ebnf$1","DQUOTE"]},{name:"QcontentSMTP",symbols:["qtextSMTP"]},{name:"QcontentSMTP",symbols:["quoted_pairSMTP"]},{name:"quoted_pairSMTP",symbols:[{literal:"\\"},/[\x20-\x7e]/]},{name:"qtextSMTP",symbols:[/[\x20-\x21\x23-\x5b\x5d-\x7e\u0080-\uFFFF]/],postprocess:bi},{name:"IPv4_address_literal$macrocall$2",symbols:[{literal:"."},"Snum"]},{name:"IPv4_address_literal$macrocall$1",symbols:["IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2"]},{name:"IPv4_address_literal",symbols:["Snum","IPv4_address_literal$macrocall$1"]},{name:"IPv6_address_literal$subexpression$1",symbols:[/[iI]/,/[pP]/,/[vV]/,{literal:"6"},{literal:":"}],postprocess:function(e){return e.join("")}},{name:"IPv6_address_literal",symbols:["IPv6_address_literal$subexpression$1","IPv6_addr"]},{name:"General_address_literal$ebnf$1",symbols:["dcontent"]},{name:"General_address_literal$ebnf$1",symbols:["General_address_literal$ebnf$1","dcontent"],postprocess:e=>e[0].concat([e[1]])},{name:"General_address_literal",symbols:["Standardized_tag",{literal:":"},"General_address_literal$ebnf$1"]},{name:"Standardized_tag",symbols:["Ldh_str"]},{name:"dcontent",symbols:[/[\x21-\x5a\x5e-\x7e]/],postprocess:bi},{name:"Snum",symbols:["DIGIT"]},{name:"Snum$subexpression$1",symbols:[/[1-9]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$1"]},{name:"Snum$subexpression$2",symbols:[{literal:"1"},"DIGIT","DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$2"]},{name:"Snum$subexpression$3",symbols:[{literal:"2"},/[0-4]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$3"]},{name:"Snum$subexpression$4",symbols:[{literal:"2"},{literal:"5"},/[0-5]/]},{name:"Snum",symbols:["Snum$subexpression$4"]},{name:"IPv6_addr",symbols:["IPv6_full"]},{name:"IPv6_addr",symbols:["IPv6_comp"]},{name:"IPv6_addr",symbols:["IPv6v4_full"]},{name:"IPv6_addr",symbols:["IPv6v4_comp"]},{name:"IPv6_hex",symbols:["HEXDIG"]},{name:"IPv6_hex$subexpression$1",symbols:["HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$1"]},{name:"IPv6_hex$subexpression$2",symbols:["HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$2"]},{name:"IPv6_hex$subexpression$3",symbols:["HEXDIG","HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$3"]},{name:"IPv6_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_full$macrocall$1",symbols:["IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2"]},{name:"IPv6_full",symbols:["IPv6_hex","IPv6_full$macrocall$1"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$1",symbols:["IPv6_comp$ebnf$1$subexpression$1"],postprocess:bi},{name:"IPv6_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$2$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$2",symbols:["IPv6_comp$ebnf$2$subexpression$1"],postprocess:bi},{name:"IPv6_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6_comp",symbols:["IPv6_comp$ebnf$1","IPv6_comp$string$1","IPv6_comp$ebnf$2"]},{name:"IPv6v4_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_full$macrocall$1",symbols:["IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2"]},{name:"IPv6v4_full",symbols:["IPv6_hex","IPv6v4_full$macrocall$1",{literal:":"},"IPv4_address_literal"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6v4_comp$ebnf$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1"],postprocess:bi},{name:"IPv6v4_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",{literal:":"}]},{name:"IPv6v4_comp$ebnf$2",symbols:["IPv6v4_comp$ebnf$2$subexpression$1"],postprocess:bi},{name:"IPv6v4_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp",symbols:["IPv6v4_comp$ebnf$1","IPv6v4_comp$string$1","IPv6v4_comp$ebnf$2","IPv4_address_literal"]},{name:"DIGIT",symbols:[/[0-9]/],postprocess:bi},{name:"ALPHA_DIGIT_U",symbols:[/[0-9A-Za-z\u0080-\uFFFF]/],postprocess:bi},{name:"ALPHA_DIGIT",symbols:[/[0-9A-Za-z]/],postprocess:bi},{name:"ALPHA_DIG_DASH",symbols:[/[-0-9A-Za-z]/],postprocess:bi},{name:"ALPHA_DIG_DASH_U",symbols:[/[-0-9A-Za-z\u0080-\uFFFF]/],postprocess:bi},{name:"HEXDIG",symbols:[/[0-9A-Fa-f]/],postprocess:bi},{name:"DQUOTE",symbols:[{literal:'"'}],postprocess:bi}],ParserStart:"Reverse_path"};$k.default=Sye;var $ye=xa&&xa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.canonicalize=Eo.canonicalize_quoted_string=Eo.normalize=Eo.normalize_dot_string=Eo.parse=void 0;const pG=Eye,mG=$ye($k);mG.default.ParserStart="Mailbox";const Tye=pG.Grammar.fromCompiled(mG.default);function Tk(e){if(e.length>986)throw new Error("address too long");const r=new pG.Parser(Tye);if(r.feed(e),r.results.length!==1)throw new Error("address parsing failed: ambiguous grammar");const n=e.lastIndexOf("@"),i=e.substring(n+1);if(i[0]!=="["){if(i.length>253)throw new Error("domain too long");const o=i.split(".");if(o.length<2)throw new Error("domain not fully qualified");if(o[o.length-1].length<2)throw new Error("top level domain label too short");if(o.sort(function(a,s){return s.length-a.length}),o[0].length>63)throw new Error("domain label too long")}return r.results[0]}Eo.parse=Tk;function gG(e){return function(){const n=e.indexOf("+");return n===-1?e:e.substr(0,n)}().replace(/\./g,"").toLowerCase()}Eo.normalize_dot_string=gG;function Aye(e){var t,r;const n=Tk(e),i=(t=n.domainPart.AddressLiteral)!==null&&t!==void 0?t:n.domainPart.DomainName.toLowerCase();return`${(r=n.localPart.QuotedString)!==null&&r!==void 0?r:gG(n.localPart.DotString)}@${i}`}Eo.normalize=Aye;function vG(e){return`"${e.substr(1).substr(0,e.length-2).replace(/(?:\\(.))/g,"$1").replace(/(?:(["\\]))/g,"\\$1")}"`}Eo.canonicalize_quoted_string=vG;function xye(e){var t;const r=Tk(e),n=(t=r.domainPart.AddressLiteral)!==null&&t!==void 0?t:r.domainPart.DomainName.toLowerCase();return`${r.localPart.QuotedString?vG(r.localPart.QuotedString):r.localPart.DotString}@${n}`}Eo.canonicalize=xye;var Gw=Object.prototype.hasOwnProperty,yG=Object.prototype.toString,uF=Object.defineProperty,cF=Object.getOwnPropertyDescriptor,fF=function(t){return typeof Array.isArray=="function"?Array.isArray(t):yG.call(t)==="[object Array]"},dF=function(t){if(!t||yG.call(t)!=="[object Object]")return!1;var r=Gw.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&Gw.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||Gw.call(t,i)},hF=function(t,r){uF&&r.name==="__proto__"?uF(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},pF=function(t,r){if(r==="__proto__")if(Gw.call(t,r)){if(cF)return cF(t,r).value}else return;return t[r]},Pye=function e(){var t,r,n,i,o,a,s=arguments[0],l=1,u=arguments.length,f=!1;for(typeof s=="boolean"&&(f=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(r in t)n=pF(s,r),i=pF(t,r),s!==i&&(f&&i&&(dF(i)||(o=fF(i)))?(o?(o=!1,a=n&&fF(n)?n:[]):a=n&&dF(n)?n:{},hF(s,{name:r,newValue:e(f,a,i)})):typeof i<"u"&&hF(s,{name:r,newValue:i}));return s};const Oye=[{scheme:"aaa",description:"Diameter Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6733"}]},{scheme:"aaas",description:"Diameter Protocol with Secure Transport",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6733"}]},{scheme:"about",description:"about",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6694"}]},{scheme:"acap",description:"application configuration access protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2244"}]},{scheme:"acct",description:"acct",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7565"}]},{scheme:"cap",description:"Calendar Access Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4324"}]},{scheme:"cid",description:"content identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2392"}]},{scheme:"coap",description:"coap",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7252"}]},{scheme:"coaps",description:"coaps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7252"}]},{scheme:"crid",description:"TV-Anytime Content Reference Identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4078"}]},{scheme:"data",description:"data",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2397"}]},{scheme:"dav",description:"dav",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4918"}]},{scheme:"dict",description:"dictionary service protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2229"}]},{scheme:"dns",description:"Domain Name System",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4501"}]},{scheme:"example",description:"example",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7595"}]},{scheme:"file",description:"Host-specific file names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"ftp",description:"File Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"geo",description:"Geographic Locations",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5870"}]},{scheme:"go",description:"go",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3368"}]},{scheme:"gopher",description:"The Gopher Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4266"}]},{scheme:"h323",description:"H.323",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3508"}]},{scheme:"http",description:"Hypertext Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7230"}]},{scheme:"https",description:"Hypertext Transfer Protocol Secure",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7230"}]},{scheme:"iax",description:"Inter-Asterisk eXchange Version 2",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5456"}]},{scheme:"icap",description:"Internet Content Adaptation Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3507"}]},{scheme:"im",description:"Instant Messaging",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3860"}]},{scheme:"imap",description:"internet message access protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5092"}]},{scheme:"info",description:`Information Assets with Identifiers in Public Namespaces. 
       (section 3) defines an "info" registry 
        of public namespaces, which is maintained by NISO and can be accessed 
        from .`,reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4452"}]},{scheme:"ipp",description:"Internet Printing Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3510"}]},{scheme:"ipps",description:"Internet Printing Protocol over HTTPS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7472"}]},{scheme:"iris",description:"Internet Registry Information Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3981"}]},{scheme:"iris.beep",description:"iris.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3983"}]},{scheme:"iris.lwz",description:"iris.lwz",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4993"}]},{scheme:"iris.xpc",description:"iris.xpc",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4992"}]},{scheme:"iris.xpcs",description:"iris.xpcs",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4992"}]},{scheme:"jabber",description:"jabber",reference:[],template:"http://www.iana.org/assignments/uri-schemes/perm/jabber"},{scheme:"ldap",description:"Lightweight Directory Access Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4516"}]},{scheme:"mailto",description:"Electronic mail address",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6068"}]},{scheme:"mid",description:"message identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2392"}]},{scheme:"msrp",description:"Message Session Relay Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4975"}]},{scheme:"msrps",description:"Message Session Relay Protocol Secure",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4975"}]},{scheme:"mtqp",description:"Message Tracking Query Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3887"}]},{scheme:"mupdate",description:"Mailbox Update (MUPDATE) Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3656"}]},{scheme:"news",description:"USENET news",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"nfs",description:"network file system protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2224"}]},{scheme:"ni",description:"ni",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6920"}]},{scheme:"nih",description:"nih",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6920"}]},{scheme:"nntp",description:"USENET news using NNTP access",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"opaquelocktoken",description:"opaquelocktokent",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4918"}]},{scheme:"pkcs11",description:"PKCS#11",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7512"}]},{scheme:"pop",description:"Post Office Protocol v3",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2384"}]},{scheme:"pres",description:"Presence",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3859"}]},{scheme:"reload",description:"reload",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6940"}]},{scheme:"rtsp",description:"Real-time Streaming Protocol (RTSP)",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"},{type:"draft",href:"http://www.iana.org/go/RFC-ietf-mmusic-rfc2326bis-40"}]},{scheme:"rtsps",description:"Real-time Streaming Protocol (RTSP) over TLS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"},{type:"draft",href:"http://www.iana.org/go/RFC-ietf-mmusic-rfc2326bis-40"}]},{scheme:"rtspu",description:"Real-time Streaming Protocol (RTSP) over unreliable datagram transport",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"}]},{scheme:"service",description:"service location",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2609"}]},{scheme:"session",description:"session",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6787"}]},{scheme:"shttp",description:"Secure Hypertext Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2660"}]},{scheme:"sieve",description:"ManageSieve Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5804"}]},{scheme:"sip",description:"session initiation protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3261"}]},{scheme:"sips",description:"secure session initiation protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3261"}]},{scheme:"sms",description:"Short Message Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5724"}]},{scheme:"snmp",description:"Simple Network Management Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4088"}]},{scheme:"soap.beep",description:"soap.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4227"}]},{scheme:"soap.beeps",description:"soap.beeps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4227"}]},{scheme:"stun",description:"stun",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7064"}]},{scheme:"stuns",description:"stuns",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7064"}]},{scheme:"tag",description:"tag",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4151"}]},{scheme:"tel",description:"telephone",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"telnet",description:"Reference to interactive sessions",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4248"}]},{scheme:"tftp",description:"Trivial File Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3617"}]},{scheme:"thismessage",description:"multipart/related relative reference resolution",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2557"}],template:"http://www.iana.org/assignments/uri-schemes/perm/thismessage"},{scheme:"tip",description:"Transaction Internet Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2371"}]},{scheme:"tn3270",description:"Interactive 3270 emulation sessions",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6270"}]},{scheme:"turn",description:"turn",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7065"}]},{scheme:"turns",description:"turns",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7065"}]},{scheme:"tv",description:"TV Broadcasts",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2838"}]},{scheme:"urn",description:"Uniform Resource Names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2141"},{type:"registry",href:"http://www.iana.org/assignments/urn-namespaces"}]},{scheme:"vemmi",description:"versatile multimedia interface",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2122"}]},{scheme:"vnc",description:"Remote Framebuffer Protocol",reference:[{type:"draft",href:"http://www.iana.org/go/RFC-warden-appsawg-vnc-scheme-10"}]},{scheme:"ws",description:"WebSocket connections",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6455"}]},{scheme:"wss",description:"Encrypted WebSocket connections",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6455"}]},{scheme:"xcon",description:"xcon",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6501"}]},{scheme:"xcon-userid",description:"xcon-userid",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6501"}]},{scheme:"xmlrpc.beep",description:"xmlrpc.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3529"}]},{scheme:"xmlrpc.beeps",description:"xmlrpc.beeps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3529"}]},{scheme:"xmpp",description:"Extensible Messaging and Presence Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5122"}]},{scheme:"z39.50r",description:"Z39.50 Retrieval",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]},{scheme:"z39.50s",description:"Z39.50 Session",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]}],Rye=[{scheme:"acr",description:"acr",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/acr"},{scheme:"adiumxtra",description:"adiumxtra",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/adiumxtra"},{scheme:"afp",description:"afp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/afp"},{scheme:"afs",description:"Andrew File System global file names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"aim",description:"aim",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/aim"},{scheme:"appdata",description:"appdata",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/appdata"},{scheme:"apt",description:"apt",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/apt"},{scheme:"attachment",description:"attachment",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/attachment"},{scheme:"aw",description:"aw",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/aw"},{scheme:"barion",description:"barion",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/barion"},{scheme:"beshare",description:"beshare",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/beshare"},{scheme:"bitcoin",description:"bitcoin",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/bitcoin"},{scheme:"blob",description:"blob",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/blob"},{scheme:"bolo",description:"bolo",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/bolo"},{scheme:"callto",description:"callto",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/callto"},{scheme:"chrome",description:"chrome",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/chrome"},{scheme:"chrome-extension",description:"chrome-extension",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/chrome-extension"},{scheme:"com-eventbrite-attendee",description:"com-eventbrite-attendee",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/com-eventbrite-attendee"},{scheme:"content",description:"content",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/content"},{scheme:"cvs",description:"cvs",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/cvs"},{scheme:"dis",description:"dis",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dis"},{scheme:"dlna-playcontainer",description:"dlna-playcontainer",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dlna-playcontainer"},{scheme:"dlna-playsingle",description:"dlna-playsingle",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dlna-playsingle"},{scheme:"dntp",description:"dntp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dntp"},{scheme:"dtn",description:"DTNRG research and development",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5050"}]},{scheme:"dvb",description:"dvb",reference:[{type:"draft",href:"http://www.iana.org/go/draft-mcroberts-uri-dvb"}]},{scheme:"ed2k",description:"ed2k",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ed2k"},{scheme:"facetime",description:"facetime",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/facetime"},{scheme:"feed",description:"feed",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/feed"},{scheme:"feedready",description:"feedready",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/feedready"},{scheme:"finger",description:"finger",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/finger"},{scheme:"fish",description:"fish",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/fish"},{scheme:"gg",description:"gg",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gg"},{scheme:"git",description:"git",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/git"},{scheme:"gizmoproject",description:"gizmoproject",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gizmoproject"},{scheme:"gtalk",description:"gtalk",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gtalk"},{scheme:"ham",description:"ham",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7046"}]},{scheme:"hcp",description:"hcp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/hcp"},{scheme:"icon",description:"icon",reference:[{type:"draft",href:"http://www.iana.org/go/draft-lafayette-icon-uri-scheme"}]},{scheme:"iotdisco",description:"iotdisco",reference:[{type:"uri",href:"http://www.iana.org/assignments/uri-schemes/prov/iotdisco.pdf"}],template:"http://www.iana.org/assignments/uri-schemes/prov/iotdisco"},{scheme:"ipn",description:"ipn",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6260"}]},{scheme:"irc",description:"irc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/irc"},{scheme:"irc6",description:"irc6",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/irc6"},{scheme:"ircs",description:"ircs",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ircs"},{scheme:"isostore",description:"isostore",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/isostore"},{scheme:"itms",description:"itms",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/itms"},{scheme:"jar",description:"jar",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/jar"},{scheme:"jms",description:"Java Message Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6167"}]},{scheme:"keyparc",description:"keyparc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/keyparc"},{scheme:"lastfm",description:"lastfm",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/lastfm"},{scheme:"ldaps",description:"ldaps",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ldaps"},{scheme:"magnet",description:"magnet",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/magnet"},{scheme:"maps",description:"maps",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/maps"},{scheme:"market",description:"market",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/market"},{scheme:"message",description:"message",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/message"},{scheme:"mms",description:"mms",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mms"},{scheme:"ms-access",description:"ms-access",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-access"},{scheme:"ms-drive-to",description:"ms-drive-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-drive-to"},{scheme:"ms-enrollment",description:"ms-enrollment",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-enrollment"},{scheme:"ms-excel",description:"ms-excel",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-excel"},{scheme:"ms-getoffice",description:"ms-getoffice",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-getoffice"},{scheme:"ms-help",description:"ms-help",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-help"},{scheme:"ms-infopath",description:"ms-infopath",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-infopath"},{scheme:"ms-media-stream-id",description:"ms-media-stream-id",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-media-stream-id"},{scheme:"ms-powerpoint",description:"ms-powerpoint",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-powerpoint"},{scheme:"ms-project",description:"ms-project",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-project"},{scheme:"ms-publisher",description:"ms-publisher",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-publisher"},{scheme:"ms-search-repair",description:"ms-search-repair",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-search-repair"},{scheme:"ms-secondary-screen-controller",description:"ms-secondary-screen-controller",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-secondary-screen-controller"},{scheme:"ms-secondary-screen-setup",description:"ms-secondary-screen-setup",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-secondary-screen-setup"},{scheme:"ms-settings",description:"ms-settings",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings"},{scheme:"ms-settings-airplanemode",description:"ms-settings-airplanemode",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-airplanemode"},{scheme:"ms-settings-bluetooth",description:"ms-settings-bluetooth",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-bluetooth"},{scheme:"ms-settings-camera",description:"ms-settings-camera",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-camera"},{scheme:"ms-settings-cellular",description:"ms-settings-cellular",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-cellular"},{scheme:"ms-settings-cloudstorage",description:"ms-settings-cloudstorage",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-cloudstorage"},{scheme:"ms-settings-connectabledevices",description:"ms-settings-connectabledevices",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-connectabledevices"},{scheme:"ms-settings-displays-topology",description:"ms-settings-displays-topology",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-displays-topology"},{scheme:"ms-settings-emailandaccounts",description:"ms-settings-emailandaccounts",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-emailandaccounts"},{scheme:"ms-settings-language",description:"ms-settings-language",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-language"},{scheme:"ms-settings-location",description:"ms-settings-location",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-location"},{scheme:"ms-settings-lock",description:"ms-settings-lock",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-lock"},{scheme:"ms-settings-nfctransactions",description:"ms-settings-nfctransactions",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-nfctransactions"},{scheme:"ms-settings-notifications",description:"ms-settings-notifications",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-notifications"},{scheme:"ms-settings-power",description:"ms-settings-power",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-power"},{scheme:"ms-settings-privacy",description:"ms-settings-privacy",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-privacy"},{scheme:"ms-settings-proximity",description:"ms-settings-proximity",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-proximity"},{scheme:"ms-settings-screenrotation",description:"ms-settings-screenrotation",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-screenrotation"},{scheme:"ms-settings-wifi",description:"ms-settings-wifi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-wifi"},{scheme:"ms-settings-workplace",description:"ms-settings-workplace",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-workplace"},{scheme:"ms-spd",description:"ms-spd",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-spd"},{scheme:"ms-transit-to",description:"ms-transit-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-transit-to"},{scheme:"ms-visio",description:"ms-visio",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-visio"},{scheme:"ms-walk-to",description:"ms-walk-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-walk-to"},{scheme:"ms-word",description:"ms-word",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-word"},{scheme:"msnim",description:"msnim",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/msnim"},{scheme:"mumble",description:"mumble",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mumble"},{scheme:"mvn",description:"mvn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mvn"},{scheme:"notes",description:"notes",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/notes"},{scheme:"oid",description:"oid",reference:[{type:"draft",href:"http://www.iana.org/go/draft-larmouth-oid-iri"}],template:"http://www.iana.org/assignments/uri-schemes/prov/oid"},{scheme:"palm",description:"palm",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/palm"},{scheme:"paparazzi",description:"paparazzi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/paparazzi"},{scheme:"platform",description:"platform",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/platform"},{scheme:"proxy",description:"proxy",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/proxy"},{scheme:"psyc",description:"psyc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/psyc"},{scheme:"query",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/query"},{scheme:"redis",description:"redis",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/redis"},{scheme:"rediss",description:"rediss",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rediss"},{scheme:"res",description:"res",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/res"},{scheme:"resource",description:"resource",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/resource"},{scheme:"rmi",description:"rmi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rmi"},{scheme:"rsync",description:"rsync",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5781"}]},{scheme:"rtmfp",description:"rtmfp",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7425"}],template:"http://www.iana.org/assignments/uri-schemes/prov/rtmfp"},{scheme:"rtmp",description:"rtmp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rtmp"},{scheme:"secondlife",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/secondlife"},{scheme:"sftp",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/sftp"},{scheme:"sgn",description:"sgn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/sgn"},{scheme:"skype",description:"skype",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/skype"},{scheme:"smb",description:"smb",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/smb"},{scheme:"smtp",description:"smtp",reference:[{type:"draft",href:"http://www.iana.org/go/draft-melnikov-smime-msa-to-mda"}],template:"http://www.iana.org/assignments/uri-schemes/prov/smtp"},{scheme:"soldat",description:"soldat",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/soldat"},{scheme:"spotify",description:"spotify",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/spotify"},{scheme:"ssh",description:"ssh",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ssh"},{scheme:"steam",description:"steam",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/steam"},{scheme:"submit",description:"submit",reference:[{type:"draft",href:"http://www.iana.org/go/draft-melnikov-smime-msa-to-mda"}],template:"http://www.iana.org/assignments/uri-schemes/prov/submit"},{scheme:"svn",description:"svn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/svn"},{scheme:"teamspeak",description:"teamspeak",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/teamspeak"},{scheme:"teliaeid",description:"teliaeid",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/teliaeid"},{scheme:"things",description:"things",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/things"},{scheme:"tool",description:"tool",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/tool"},{scheme:"udp",description:"udp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/udp"},{scheme:"unreal",description:"unreal",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/unreal"},{scheme:"ut2004",description:"ut2004",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ut2004"},{scheme:"v-event",description:"v-event",reference:[{type:"draft",href:"http://www.iana.org/go/draft-menderico-v-event-uri"}],template:"http://www.iana.org/assignments/uri-schemes/prov/v-event"},{scheme:"ventrilo",description:"ventrilo",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ventrilo"},{scheme:"view-source",description:"view-source",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/view-source"},{scheme:"webcal",description:"webcal",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/webcal"},{scheme:"wpid",description:"wpid",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wpid"},{scheme:"wtai",description:"wtai",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wtai"},{scheme:"wyciwyg",description:"wyciwyg",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wyciwyg"},{scheme:"xfire",description:"xfire",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/xfire"},{scheme:"xri",description:"xri",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/xri"},{scheme:"ymsgr",description:"ymsgr",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ymsgr"}],Iye=[{scheme:"fax",description:"fax",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2806"},{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"filesystem",description:"filesystem",reference:[],template:"http://www.iana.org/assignments/uri-schemes/historic/filesystem"},{scheme:"mailserver",description:"Access to data available from mail servers",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6196"}]},{scheme:"modem",description:"modem",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2806"},{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"pack",description:"pack",reference:[{type:"draft",href:"http://www.iana.org/go/draft-shur-pack-uri-scheme"}],template:"http://www.iana.org/assignments/uri-schemes/historic/pack"},{scheme:"prospero",description:"Prospero Directory Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4157"}]},{scheme:"snews",description:"NNTP over SSL/TLS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"videotex",description:"videotex",reference:[{type:"draft",href:"http://www.iana.org/go/draft-mavrakis-videotex-url-spec"},{type:"rfc",href:"http://www.iana.org/go/rfc2122"},{type:"rfc",href:"http://www.iana.org/go/rfc3986"}],template:"http://www.iana.org/assignments/uri-schemes/historic/videotex"},{scheme:"wais",description:"Wide Area Information Servers",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4156"}]},{scheme:"z39.50",description:"Z39.50 information access",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"},{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]}],Nye=[{scheme:"android-app"},{scheme:"webpack"},{scheme:"s3",description:"Amazon Web Services S3 bucket"},{scheme:"gs",description:"Google Cloud Storage"},{scheme:"mqtt",description:"Message Queuing Telemetry Transport Protocol"},{scheme:"modbus+tcp",description:"Modbus over TCP"}];var Ak=Pye,ng={permanent:Oye,provosional:Rye,historical:Iye},HE={};Object.keys(ng).forEach(function(e){ng[e].forEach(function(t){HE[t.scheme]=Ak(t,{type:e})})});ng.unofficial=Nye.filter(function(e){return!HE[e.scheme]});ng.unofficial.forEach(function(e){HE[e.scheme]=Ak(e,{type:"unofficial"})});var wG=Ak(ng,{allByName:HE});const{parse:kye}=fG,{addressParser:Cye}=Eo,jye=wG;function Dye(e){try{return Cye(e),!0}catch{return!1}}var Mye=e=>{const t=kye(e);return!!(t.scheme==="mailto"&&t.to.every(Dye)||t.reference==="absolute"&&jye.allByName[t.scheme])},Lye=/^P(?!$)(\d+(?:\.\d+)?Y)?(\d+(?:\.\d+)?M)?(\d+(?:\.\d+)?W)?(\d+(?:\.\d+)?D)?(T(?=\d)(\d+(?:\.\d+)?H)?(\d+(?:\.\d+)?M)?(\d+(?:\.\d+)?S)?)?$/;const{parse:Fye}=Eo;var Bye=e=>{try{return Fye(e),!0}catch{return!1}};const ph=2147483647,Hs=36,xk=1,ig=26,Uye=38,zye=700,bG=72,_G=128,EG="-",qye=/^xn--/,Vye=/[^\0-\x7F]/,Hye=/[\x2E\u3002\uFF0E\uFF61]/g,Wye={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},X1=Hs-xk,Ws=Math.floor,Q1=String.fromCharCode;function Tu(e){throw new RangeError(Wye[e])}function Gye(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function SG(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(Hye,".");const i=e.split("."),o=Gye(i,t).join(".");return n+o}function Pk(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=e.charCodeAt(r++);(o&64512)==56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}const $G=e=>String.fromCodePoint(...e),Kye=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:Hs},mF=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},TG=function(e,t,r){let n=0;for(e=r?Ws(e/zye):e>>1,e+=Ws(e/t);e>X1*ig>>1;n+=Hs)e=Ws(e/X1);return Ws(n+(X1+1)*e/(e+Uye))},Ok=function(e){const t=[],r=e.length;let n=0,i=_G,o=bG,a=e.lastIndexOf(EG);a<0&&(a=0);for(let s=0;s<a;++s)e.charCodeAt(s)>=128&&Tu("not-basic"),t.push(e.charCodeAt(s));for(let s=a>0?a+1:0;s<r;){const l=n;for(let f=1,c=Hs;;c+=Hs){s>=r&&Tu("invalid-input");const p=Kye(e.charCodeAt(s++));p>=Hs&&Tu("invalid-input"),p>Ws((ph-n)/f)&&Tu("overflow"),n+=p*f;const m=c<=o?xk:c>=o+ig?ig:c-o;if(p<m)break;const g=Hs-m;f>Ws(ph/g)&&Tu("overflow"),f*=g}const u=t.length+1;o=TG(n-l,u,l==0),Ws(n/u)>ph-i&&Tu("overflow"),i+=Ws(n/u),n%=u,t.splice(n++,0,i)}return String.fromCodePoint(...t)},Rk=function(e){const t=[];e=Pk(e);const r=e.length;let n=_G,i=0,o=bG;for(const l of e)l<128&&t.push(Q1(l));const a=t.length;let s=a;for(a&&t.push(EG);s<r;){let l=ph;for(const f of e)f>=n&&f<l&&(l=f);const u=s+1;l-n>Ws((ph-i)/u)&&Tu("overflow"),i+=(l-n)*u,n=l;for(const f of e)if(f<n&&++i>ph&&Tu("overflow"),f===n){let c=i;for(let p=Hs;;p+=Hs){const m=p<=o?xk:p>=o+ig?ig:p-o;if(c<m)break;const g=c-m,_=Hs-m;t.push(Q1(mF(m+g%_,0))),c=Ws(g/_)}t.push(Q1(mF(c,0))),o=TG(i,u,s===a),i=0,++s}++i,++n}return t.join("")},AG=function(e){return SG(e,function(t){return qye.test(t)?Ok(t.slice(4).toLowerCase()):t})},xG=function(e){return SG(e,function(t){return Vye.test(t)?"xn--"+Rk(t):t})},Jye={version:"2.3.1",ucs2:{decode:Pk,encode:$G},decode:Ok,encode:Rk,toASCII:xG,toUnicode:AG},Yye=Object.freeze(Object.defineProperty({__proto__:null,decode:Ok,default:Jye,encode:Rk,toASCII:xG,toUnicode:AG,ucs2decode:Pk,ucs2encode:$G},Symbol.toStringTag,{value:"Module"})),PG=tO(Yye),{toASCII:Xye}=PG,Qye=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i;var Zye=e=>{const t=Xye(e);return t.replace(/\.$/,"").length<=253&&Qye.test(t)};const{parse:e0e}=fG,{addressParser:t0e}=Eo,gF=wG;function r0e(e){try{return t0e(e),!0}catch{return!1}}var n0e=e=>{const t=e0e(e);return t.scheme==="mailto"&&t.to.every(r0e)||t.reference==="absolute"&&t.path!==void 0&&gF.allByName[t.scheme]?!0:t.scheme&&!gF.allByName[t.scheme]?!1:t.path!==void 0&&(t.reference==="relative"||t.reference==="same-document"||t.reference==="uri")};(function(e){e.exports.iri=Mye,e.exports.duration=Lye,e.exports["idn-email"]=Bye,e.exports["idn-hostname"]=Zye,e.exports["iri-reference"]=n0e})(_ye);var OG={exports:{}};(function(e){var t=function(){var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function a(l,u){if(!o[l]){o[l]={};for(var f=0;f<l.length;f++)o[l][l.charAt(f)]=f}return o[l][u]}var s={compressToBase64:function(l){if(l==null)return"";var u=s._compress(l,6,function(f){return n.charAt(f)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:s._decompress(l.length,32,function(u){return a(n,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":s._compress(l,15,function(u){return r(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:s._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=s.compress(l),f=new Uint8Array(u.length*2),c=0,p=u.length;c<p;c++){var m=u.charCodeAt(c);f[c*2]=m>>>8,f[c*2+1]=m%256}return f},decompressFromUint8Array:function(l){if(l==null)return s.decompress(l);for(var u=new Array(l.length/2),f=0,c=u.length;f<c;f++)u[f]=l[f*2]*256+l[f*2+1];var p=[];return u.forEach(function(m){p.push(r(m))}),s.decompress(p.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":s._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),s._decompress(l.length,32,function(u){return a(i,l.charAt(u))}))},compress:function(l){return s._compress(l,16,function(u){return r(u)})},_compress:function(l,u,f){if(l==null)return"";var c,p,m={},g={},_="",v="",h="",E=2,y=3,S=2,$=[],T=0,d=0,A;for(A=0;A<l.length;A+=1)if(_=l.charAt(A),Object.prototype.hasOwnProperty.call(m,_)||(m[_]=y++,g[_]=!0),v=h+_,Object.prototype.hasOwnProperty.call(m,v))h=v;else{if(Object.prototype.hasOwnProperty.call(g,h)){if(h.charCodeAt(0)<256){for(c=0;c<S;c++)T=T<<1,d==u-1?(d=0,$.push(f(T)),T=0):d++;for(p=h.charCodeAt(0),c=0;c<8;c++)T=T<<1|p&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=p>>1}else{for(p=1,c=0;c<S;c++)T=T<<1|p,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=0;for(p=h.charCodeAt(0),c=0;c<16;c++)T=T<<1|p&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=p>>1}E--,E==0&&(E=Math.pow(2,S),S++),delete g[h]}else for(p=m[h],c=0;c<S;c++)T=T<<1|p&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=p>>1;E--,E==0&&(E=Math.pow(2,S),S++),m[v]=y++,h=String(_)}if(h!==""){if(Object.prototype.hasOwnProperty.call(g,h)){if(h.charCodeAt(0)<256){for(c=0;c<S;c++)T=T<<1,d==u-1?(d=0,$.push(f(T)),T=0):d++;for(p=h.charCodeAt(0),c=0;c<8;c++)T=T<<1|p&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=p>>1}else{for(p=1,c=0;c<S;c++)T=T<<1|p,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=0;for(p=h.charCodeAt(0),c=0;c<16;c++)T=T<<1|p&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=p>>1}E--,E==0&&(E=Math.pow(2,S),S++),delete g[h]}else for(p=m[h],c=0;c<S;c++)T=T<<1|p&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=p>>1;E--,E==0&&(E=Math.pow(2,S),S++)}for(p=2,c=0;c<S;c++)T=T<<1|p&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,p=p>>1;for(;;)if(T=T<<1,d==u-1){$.push(f(T));break}else d++;return $.join("")},decompress:function(l){return l==null?"":l==""?null:s._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,f){var c=[],p=4,m=4,g=3,_="",v=[],h,E,y,S,$,T,d,A={val:f(0),position:u,index:1};for(h=0;h<3;h+=1)c[h]=h;for(y=0,$=Math.pow(2,2),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;switch(y){case 0:for(y=0,$=Math.pow(2,8),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;d=r(y);break;case 1:for(y=0,$=Math.pow(2,16),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;d=r(y);break;case 2:return""}for(c[3]=d,E=d,v.push(d);;){if(A.index>l)return"";for(y=0,$=Math.pow(2,g),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;switch(d=y){case 0:for(y=0,$=Math.pow(2,8),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;c[m++]=r(y),d=m-1,p--;break;case 1:for(y=0,$=Math.pow(2,16),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;c[m++]=r(y),d=m-1,p--;break;case 2:return v.join("")}if(p==0&&(p=Math.pow(2,g),g++),c[d])_=c[d];else if(d===m)_=E+E.charAt(0);else return null;v.push(_),c[m++]=E+_.charAt(0),p--,E=_,p==0&&(p=Math.pow(2,g),g++)}}};return s}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(OG);var i0e=OG.exports;const RG=jf(i0e);var IG={exports:{}},NG=PG;function o0e(e,t){this.__proto__=new Error(t),this.__proto__.name="BackslashError",this.offset=e}function Z1(e){return e>="0"&&e<="7"}function a0e(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"}function vF(e){return e=parseInt(e,16),NG.ucs2.encode([e])}function kG(e,t,r){var n=!1,i=[];function o(l){var u=e[l];if(!a0e(u))throw new o0e(l,"Unexpected token ILLEGAL");return u}for(;t<e.length;){var a=e[t];if(t++,n){switch(n=!1,a){case"n":i.push(`
`);continue;case"r":i.push("\r");continue;case"f":i.push("\f");continue;case"b":i.push("\b");continue;case"t":i.push("	");continue;case"v":i.push("\v");continue;case"\\":i.push("\\");continue}if(a==="x"){i.push(vF(o(t)+o(t+1))),t+=2;continue}if(a==="u"){i.push(vF(o(t)+o(t+1)+o(t+2)+o(t+3))),t+=4;continue}if(Z1(a)){var s;Z1(s=e[t])&&(t++,a+=s,Z1(s=e[t])&&a[0]<="3"&&(t++,a+=s)),i.push(NG.ucs2.encode([parseInt(a,8)]));continue}i.push(a)}else if(a==="\\")n=!0;else if(a===r){t--;break}else i.push(a)}return arguments.length===3?{end:t,value:i.join("")}:i.join("")}IG.exports=function(t){return kG(t,0)};IG.exports.parseUntil=function(t,r,n){return kG(t,r,n)};const s0e="Thing Description",l0e="1.1-05-September-2022",u0e="JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values",c0e="http://json-schema.org/draft-07/schema#",f0e="https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json",d0e={anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"}},security:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string",not:{const:"tm:ThingModel"}},{type:"array",items:{type:"string",not:{const:"tm:ThingModel"}}}]},"dataSchema-type":{type:"string",enum:["boolean","integer","number","string","object","array","null"]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{type:["integer","number"],exclusiveMinimum:0},expectedResponse:{type:"object",properties:{contentType:{type:"string"}}},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},required:["href"],additionalProperties:!0},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{type:"array",items:{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]}}]}},additionalProperties:!0},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["invokeaction","queryaction","cancelaction"]},{type:"array",items:{type:"string",enum:["invokeaction","queryaction","cancelaction"]}}]}},additionalProperties:!0},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["subscribeevent","unsubscribeevent"]},{type:"array",items:{type:"string",enum:["subscribeevent","unsubscribeevent"]}}]}},additionalProperties:!0},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{type:"array",items:{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]}}]}},additionalProperties:!0,required:["op"]},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},observable:{type:"boolean"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}},required:["forms"],additionalProperties:!0},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{type:"boolean"},idempotent:{type:"boolean"},synchronous:{type:"boolean"}},required:["forms"],additionalProperties:!0},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"}},required:["forms"],additionalProperties:!0},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]}},required:["href"],additionalProperties:!0},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon or tm:extends",properties:{rel:{enum:["icon","tm:extends"]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},required:["scheme"],additionalProperties:!0},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["nosec"]}},required:["scheme"],additionalProperties:!0},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["auto"]}},not:{required:["name"]},required:["scheme"],additionalProperties:!0},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},oneOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","oneOf"],additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},allOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","allOf"],additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["basic"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["digest"]},qop:{type:"string",enum:["auth","auth-int"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["apikey"]},in:{type:"string",enum:["header","query","body","cookie","uri","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["bearer"]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["psk"]},identity:{type:"string"}},required:["scheme"],additionalProperties:!0},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["oauth2"]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",enum:["code","client","device"]}]}},required:["scheme"],additionalProperties:!0},securityScheme:{oneOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]}},h0e="object",p0e={id:{type:"string",format:"uri"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{type:"object",properties:{instance:{type:"string"}},required:["instance"]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"}},support:{$ref:"#/definitions/anyUri"},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},"@type":{$ref:"#/definitions/type_declaration"},"@context":{$ref:"#/definitions/thing-context"}},m0e=["title","security","securityDefinitions","@context"],g0e=!0,Jp={title:s0e,version:l0e,description:u0e,$schema:c0e,$id:f0e,definitions:d0e,type:h0e,properties:p0e,required:m0e,additionalProperties:g0e};function v0e(e){return RG.compressToEncodedURIComponent(e)}function y0e(e){return RG.decompressFromEncodedURIComponent(e)}const Mc="$ref",w0e="properties",b0e="additional_properties",pu="dataSchema",_0e="#/";E0e(Jp);function E0e(e){const t=new Map,r=new Map;return Vc(t,e,_0e),t.forEach((n,i)=>{if(n.size>0){const o=(i.match(/\//ig)||[]).length;let a=r.get(o);a?(a.set(i.replace(/^r/g,""),n),r.set(o,a)):(a=new Map,a.set(i.replace(/^r/g,""),n),r.set(o,a))}}),r}function Vc(e,t,r){const n=new Set;if(t[Mc]){if(r[0]==="r"&&t[Mc].includes(pu))return;t[Mc].includes(pu)&&(r="r"+r),Vc(cy(Jp,t[Mc]),r);return}if(t.type==="object"){const i=t[w0e];for(const a in i)if(i.hasOwnProperty(a))if(a===Mc){if(r[0]==="r"&&i[a].includes(pu))continue;i[a].includes(pu)&&(r="r"+r),Vc(cy(Jp,i[a]),r);return}else Vc(i[a],`${r}${a}/`),n.add(a);const o=t[b0e];for(const a in o)if(o.hasOwnProperty(a)&&a===Mc){if(r[0]==="r"&&o[a].includes(pu))continue;o[a].includes(pu)&&(r="r"+r),Vc(cy(Jp,o[a]),`${r}*/`);return}yF(e,r,n)}if(t.type==="array"){const i=t.items;for(const o in i)if(i.hasOwnProperty(o)&&o===Mc){if(r[0]==="r"&&i[o].includes(pu))continue;i[o].includes(pu)&&(r="r"+r),Vc(cy(Jp,i[o]),r);return}yF(e,r,n)}for(const i in t)t.hasOwnProperty(i)&&["allOf","oneOf","anyOf"].includes(i)&&Array.isArray(t[i])&&t[i].forEach(o=>{Vc(o,r)})}function yF(e,t,r){let n=e.get(t);if(n){const i=new Set(n);r.forEach(o=>{i.add(o)}),e.set(t,i)}else e.set(t,r)}function cy(e,t){const r=t.split("/");if(r[0]!=="#"){console.log("Parsing not implemented for between files");return}let n=e;for(let i=1;i<r.length;i++)n=n[r[i]];return n}const S0e="tdjson",$0e="tmjson",T0e=e=>{let t;try{t=JSON.parse(e)}catch(i){console.debug(i);return}let r=S0e;return nB(t)&&(r=$0e),v0e(r.concat(e))},A0e=e=>{let t=y0e(e);if(!(t==null||t==="")){t=t.substring(6);try{return JSON.parse(t)}catch(r){console.debug(r)}}},x0e=De.forwardRef((e,t)=>{const r=De.useContext(bn),[n,i]=tt.useState(!1),[o,a]=tt.useState(""),[s,l]=tt.useState("");De.useImperativeHandle(t,()=>({openModal:()=>u(),close:()=>f()}));const u=()=>{i(!0);const p=T0e(r.offlineTD);l(p);const m=`${window.location.origin+window.location.pathname}?td=${p}`;a(m),P0e(m),O0e()},f=()=>{i(!1)};let c=ce.jsx("input",{type:"text",name:"share-td-field",id:"share-td-field",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",defaultValue:o});return n?zl.createPortal(ce.jsx(ql,{hasSubmit:!0,onCancel:f,cancelText:"Okay",submitText:"Open in Playground",onSubmit:()=>{window.open(`https://playground.thingweb.io//#${s}`),f()},children:c,title:"Share This TD",description:"A link to this TD was copied to your clipboard."}),document.getElementById("modal-root")):null}),P0e=e=>{document.hasFocus()&&navigator.clipboard.writeText(e).then(function(){console.log("Async: Copied TD link to clipboard!")},function(t){console.error("Async: Could not copy TD to clipboard: ",t)})},O0e=()=>{setTimeout(()=>{try{document.getElementById("share-td-field").select()}catch{}},250)};function R0e(){const e=De.useContext(bn),[t,r]=tt.useState(!1),n=De.useCallback(()=>e.isModified?window.confirm("Discard changes? All changes you made to your TD will be lost."):!0,[e.isModified]),i=De.useCallback(async()=>{if(n())try{const v=await $H(),h=`./${v.fileName}`;let E={};E[h]=v.fileHandle?v.fileHandle:JSON.parse(v.td),e.updateOfflineTD(v.td),e.updateIsModified(!1),e.setFileHandle(v.fileHandle||v.fileNname),e.updateLinkedTd(void 0),e.addLinkedTd(E)}catch(v){const h="Opening a new TD was canceled or an error occured.";console.error(h,v),alert(h)}},[e,n]),o=De.useCallback(async()=>{const v=e.parsedTD;if(!e.isValidJSON)return alert("Didn't save TD. The given TD can't even be parsed into a JSON object.");r(!0);const h=MH();if(h===""){const E=await HM(e.name,e.fileHandle,e.offlineTD);e.setFileHandle(E??e.fileHandle)}else try{v.id?Qce(v,h):Zce(v,h)}catch(E){console.debug(E),alert("Didn't save TD. Please check if the provided target URL is correct and the intermediary / thing directory is working as intended.");return}e.updateIsModified(!1),r(!1)},[e]),a=De.useCallback(async()=>{try{const v=await HM(e.name,void 0,e.offlineTD);e.setFileHandle(v??e.fileHandle),e.updateIsModified(!1)}catch(v){console.debug(v),alert("Didn't save TD. The action was either canceled or ran into an error.")}},[e]),s=v=>async()=>{r(!0);const h=await v();return r(!1),console.log(h),h};De.useEffect(()=>{const v=h=>{(window.navigator.platform.match("Mac")?h.metaKey:h.ctrlKey)&&h.key==="s"&&(h.preventDefault(),h.stopPropagation(),s(o)()),(window.navigator.platform.match("Mac")?h.metaKey:h.ctrlKey)&&h.key==="o"&&(h.preventDefault(),h.stopPropagation(),s(i)()),(window.navigator.platform.match("Mac")?h.metaKey:h.ctrlKey)&&h.key==="n"&&(h.preventDefault(),h.stopPropagation(),m())};return document.addEventListener("keydown",v,!1),window.onbeforeunload=function(h){var E="Important: Please click on 'Save' button to leave this page.";return typeof h>"u"&&(h=window.event),h&&(h.returnValue=E),E},()=>{document.removeEventListener("keydown",v,!1)}},[i,o]);const l=tt.useRef(),u=()=>{l.current.openModal()},f=tt.useRef(),c=()=>{f.current.openModal()},p=tt.useRef(),m=()=>{p.current.openModal()},g=tt.useRef(),_=()=>{g.current.openModal()};return ce.jsxs(ce.Fragment,{children:[ce.jsxs("header",{className:"flex h-14 items-center justify-between bg-blue-500",children:[ce.jsx("div",{className:"flex items-center",children:ce.jsx("button",{className:"ml-4",onClick:()=>window.open("https://eclipse.github.io/editdor/","_blank"),children:ce.jsx("img",{className:"min-w-36 max-w-36",src:Yce,alt:"LOGO"})})}),ce.jsxs("div",{className:"flex items-center gap-4 pr-2",children:[t&&ce.jsx("div",{className:"app-header-spinner hidden md:block"}),ce.jsxs(Lc,{onClick:c,children:[ce.jsx(pR,{}),ce.jsx("div",{className:"text-xs",children:"Share"})]}),ce.jsx("div",{className:"hidden md:block",children:ce.jsxs(Lc,{onClick:s(o),children:[ce.jsx(fR,{}),ce.jsx("div",{className:"text-xs",children:"Save"})]})}),ce.jsx("div",{className:"hidden md:block",children:ce.jsxs(Lc,{onClick:s(i),children:[ce.jsx(rR,{}),ce.jsx("div",{className:"text-xs",children:"Open"})]})}),ce.jsxs(Lc,{onClick:m,children:[ce.jsx(eR,{}),ce.jsx("div",{className:"text-xs",children:"Create"})]}),nB(e.parsedTD)&&ce.jsxs(Lc,{onClick:u,children:[ce.jsx(tR,{}),ce.jsx("div",{className:"text-xs",children:"To TD"})]}),ce.jsxs(Lc,{onClick:s(a),children:[ce.jsx(ZO,{}),ce.jsx("div",{className:"text-xs",children:"Download"})]}),ce.jsxs(Lc,{onClick:_,children:[ce.jsx(hR,{}),ce.jsx("div",{className:"text-xs",children:"Settings"})]})]})]}),ce.jsx(tfe,{ref:l}),ce.jsx(x0e,{ref:f}),ce.jsx(sfe,{ref:p}),ce.jsx(cfe,{ref:g}),ce.jsx("input",{className:"h-0",type:"file",id:"fileInput",style:{display:"none"}}),ce.jsx("a",{className:"h-0",id:"aDownload",href:"/",style:{display:"none"}})]})}function Lc(e){return ce.jsx("button",{className:"min-w-8 text-white hover:opacity-50",onClick:e.onClick,children:ce.jsx("div",{className:"flex flex-col items-center justify-center gap-0.5",children:e.children})})}var CG=(e=>(e.BAR="BAR",e.SECTION="SECTION",e))(CG||{}),I0e=(e=>(e.ACTIVATE="activate",e.MOVE="move",e.DEACTIVATE="deactivate",e))(I0e||{}),jG={x:0,y:0};function N0e(e,t){return t?{x:e.x-t.x,y:e.y-t.y}:jG}function DG(){let e=[],t=0,r=0;return{collect(n){e.push(n),n.disableResponsive||(t+=1,r+=n.currentSize)},getResult(){return{sizeInfoArray:e,flexGrowRatio:t/r}}}}function Gs(e){return Number.isFinite(e)&&e>0}function MG(e,t,r,n){let{collect:i,getResult:o}=DG(),a=n?1:-1,s=fy(e,t,a,r),l=fy(e,-t,-a,r),u=t-s.remainingOffset,f=-t-l.remainingOffset;function c(p,m){p.forEach(i),i(r[e]),m.forEach(i)}if(u===-f)c(s.sizeInfoArray,l.sizeInfoArray);else if(Math.abs(u)<Math.abs(f)){let p=fy(e,-u,-a,r);c(s.sizeInfoArray,p.sizeInfoArray)}else{let p=fy(e,-f,a,r);c(p.sizeInfoArray,l.sizeInfoArray)}return o()}function fy(e,t,r,n){let i=[],o=t;for(let l=e+r;s(l);l+=r)if(o){let{sizeInfo:u,remainingOffset:f}=k0e(o,n[l]);o=f,a(u)}else a(n[l]);function a(l){r===-1?i.unshift(l):i.push(l)}function s(l){return r===-1?l>=0:l<=n.length-1}return{sizeInfoArray:i,remainingOffset:o}}function k0e(e,t){if(t.isSolid)return{remainingOffset:e,sizeInfo:t};let{nextSize:r,remainingOffset:n}=C0e(t.currentSize+e,t);return{sizeInfo:{...t,currentSize:r},remainingOffset:n}}function C0e(e,{maxSize:t,minSize:r=0}){return e<r?{nextSize:r,remainingOffset:e-r}:Gs(t)&&e>t?{nextSize:t,remainingOffset:e-t}:{nextSize:e,remainingOffset:0}}var e$={barIndex:-1,offset:0,type:"deactivate",originalCoordinate:jG,defaultSizeInfoArray:[],sizeInfoArray:[],discard:!0,flexGrowRatio:0};function j0e(e){let t=e$,r=new Set;return{dispatch(n){t=(()=>{let i={barIndex:n.barIndex,type:n.type};switch(n.type){case"activate":let{sizeInfoArray:o,flexGrowRatio:a}=e.getSizeRelatedInfo();return{...e$,...i,originalCoordinate:n.coordinate,defaultSizeInfoArray:o,sizeInfoArray:o,flexGrowRatio:a};case"move":let s=e.calculateOffset(n.coordinate,t.originalCoordinate);return{...i,...MG(n.barIndex,s,t.defaultSizeInfoArray,e.flipResizeMoveDirection),offset:s,originalCoordinate:t.originalCoordinate,defaultSizeInfoArray:t.defaultSizeInfoArray,discard:!1};case"deactivate":return e$}})(),r.forEach(i=>i(t))},subscribe(n){return r.add(n),()=>r.delete(n)},unsubscribeAll(){r.clear()}}}function og(e,t,r){e==null||e.dispatchEvent(new CustomEvent(t,{detail:r}))}var D0e=class{constructor(){Kn(this,"disposeFnSet",new Set);Kn(this,"watchResizerEvent",(t,r,n)=>{t==null||t.addEventListener(r,n);let i=()=>t==null?void 0:t.removeEventListener(r,n);return this.disposeFnSet.add(i),i});Kn(this,"reset",()=>{this.disposeFnSet.forEach(t=>t()),this.disposeFnSet.clear()})}},M0e=class{constructor(){Kn(this,"infoMap",new Map);Kn(this,"items",[])}update(t){this.infoMap.clear(),this.items.forEach(r=>r.destroy()),this.items=t,t.forEach((r,n)=>{this.infoMap.set(r.elm,{item:r,index:n})})}reset(){this.update([])}getItems(){return this.items}getItem(t){var r;return((r=this.infoMap.get(t))==null?void 0:r.item)??null}getItemIndex(t){var r;return((r=this.infoMap.get(t))==null?void 0:r.index)??null}},eO=!0;try{window.addEventListener("test",null,{get passive(){return eO={passive:!1},!0}})}catch{}function LG({size:e}){return Gs(e)}function L0e(e){let{disableResponsive:t}=e;return LG(e)&&t===void 0?!0:!!t}function F0e(e){return!!e&&e in CG}function wF(e){return t=>({"data-item-type":e,"data-item-config":JSON.stringify(t)})}function B0e(e){return Array.from(e.childNodes).map(t=>{if(!(t instanceof HTMLElement))return null;let r=t.getAttribute("data-item-type");return F0e(r)?{type:r,elm:t}:null}).filter(t=>!!t)}function FG({elm:e}){try{let t=JSON.parse(e.getAttribute("data-item-config")??"");return t&&typeof t=="object"?t:{}}catch{return{}}}function bF(e){return e*2+1}function t$(e){return e*2}var _F=class{constructor(e){Kn(this,"isDiscarded",!1);this.resizeResult=e}resizeSection(e,t){if(this.isDiscarded)return;let r=t$(e),n=this.getSize(r);if(n>=0&&t.toSize>=0){let i=t.toSize-n;r===this.resizeResult.sizeInfoArray.length-1||t.preferMoveLeftBar?this.moveBar(e-1,{withOffset:-i}):this.moveBar(e,{withOffset:i})}}moveBar(e,t){this.isDiscarded||(this.resizeResult=MG(bF(e),t.withOffset,this.resizeResult.sizeInfoArray,void 0))}discard(){this.isDiscarded=!0}isSectionResized(e){let t=t$(e);return"defaultSizeInfoArray"in this.resizeResult?this.getSize(t)!==this.resizeResult.defaultSizeInfoArray[t].currentSize:!1}isBarActivated(e){return"barIndex"in this.resizeResult?this.resizeResult.barIndex===bF(e):!1}getSectionSize(e){return this.getSize(t$(e))}getResult(){return{...this.resizeResult,discard:this.isDiscarded}}getTotalSize(){return this.resizeResult.sizeInfoArray.filter((e,t)=>e&&t%2===0).reduce((e,{currentSize:t})=>e+t,0)}getSize(e){let t=this.resizeResult.sizeInfoArray[e];return t?t.currentSize:-1}},BG=class{constructor(e,t,r){Kn(this,"_config");Kn(this,"_observer");this.type=e,this.elm=t,this.getConfig=r,this._config=this.getConfig(),this._observer=new MutationObserver(()=>this._config=this.getConfig()),this._observer.observe(t,{attributes:!0,attributeFilter:["data-item-config"]})}get config(){return this._config}destroy(){this._observer.disconnect()}},dy=class extends BG{constructor(t,r){super("BAR",t.elm,()=>U0e(t));Kn(this,"isActive",!1);Kn(this,"isValidClick",!0);this.dispatchBarAction=r;let n=[this.attachListener(this.elm,"mousedown","activate"),this.attachListener(document,"mousemove","move"),this.attachListener(document,"mouseup","deactivate"),this.attachListener(this.elm,"touchstart","activate",eO),this.attachListener(document,"touchmove","move",eO),this.attachListener(document,"touchend","deactivate"),this.attachListener(document,"touchcancel","deactivate")];this.destroy=()=>{super.destroy(),n.forEach(i=>i())}}static getStyle({size:t}){return{flex:`0 0 ${t}px`}}attachListener(t,r,n,i){let o=a=>{this.disableUserSelectIfResizing(a,n);let{clientX:s,clientY:l}=("touches"in a?a.touches[0]:a)||{clientX:0,clientY:0};this.triggerAction(this.elm,n,{x:s,y:l})};return t.addEventListener(r,o,i),()=>t.removeEventListener(r,o,i)}disableUserSelectIfResizing(t,r){(this.isActive||r==="activate")&&t.preventDefault()}triggerAction(t,r,n){(this.isActive||r==="activate")&&this.dispatchBarAction(t,{type:r,coordinate:n}),this.isActive&&this.isValidClick&&r==="deactivate"&&(this.isValidClick=!1,og(t,"bar:click",null)),this.updateStatusIfNeed(t,r),this.updateClickStatus(r)}updateStatusIfNeed(t,r){let n=i=>{this.isActive!==i&&(this.isActive=i,og(t,"bar:status-change",{isActive:i}))};r==="activate"?n(!0):r==="deactivate"&&n(!1)}updateClickStatus(t){this.isActive&&(t==="activate"?this.isValidClick=!0:t==="move"&&(this.isValidClick=!1))}};function U0e(e){let{size:t}=FG(e);return{size:Gs(t)?t:10}}var $p=class extends BG{constructor(t){super("SECTION",t.elm,()=>z0e(t));Kn(this,"sizeInfo",null);Kn(this,"flexGrowRatio",0);this.updateStyle()}static getStyle({maxSize:t,minSize:r},n){let i=o=>Gs(o)?`${o}px`:void 0;return{overflow:"hidden",[n?"maxHeight":"maxWidth"]:i(t),[n?"minHeight":"minWidth"]:i(r)}}update({sizeInfo:t,flexGrowRatio:r}){this.sizeInfo=t,this.flexGrowRatio=r,this.updateStyle(),og(this.elm,"section:size-change",{size:t.currentSize})}updateStyle(){let{flexGrow:t,flexShrink:r,flexBasis:n}=this.getStyle();this.elm.style.flexGrow=`${t}`,this.elm.style.flexShrink=`${r}`,this.elm.style.flexBasis=`${n}px`}getStyle(){let t=Gs(this.config.size)?0:this.config.disableResponsive?1:0;if(this.sizeInfo){let{disableResponsive:r,currentSize:n}=this.sizeInfo;return{flexShrink:t,flexGrow:r?0:this.flexGrowRatio*n,flexBasis:r?n:0}}else{let r=this.config.size||this.config.defaultSize;return Gs(r)?{flexShrink:t,flexGrow:0,flexBasis:r}:{flexShrink:t,flexGrow:1,flexBasis:0}}}};function z0e(e){let{size:t,defaultSize:r,maxSize:n,minSize:i,disableResponsive:o}=FG(e);return{size:Gs(t)?t:void 0,defaultSize:Gs(r)?r:void 0,maxSize:Gs(n)?n:void 0,minSize:Gs(i)?i:void 0,disableResponsive:!!o}}var q0e=class{constructor(e){Kn(this,"styles",{container:e=>({...e,display:"flex",flexDirection:this.direction}),section:(e,t)=>({...t,...$p.getStyle(e,this.config.vertical)}),bar:(e,t)=>({...t,...dy.getStyle(e)})});Kn(this,"attributes",{bar:wF("BAR"),section:wF("SECTION")});Kn(this,"itemsCache",new M0e);Kn(this,"eventHub",new D0e);Kn(this,"container",null);Kn(this,"barStore");Kn(this,"dispatchBarAction",(e,t)=>{let r=this.itemsCache.getItemIndex(e);r&&this.barStore.dispatch({...t,barIndex:r})});this.config=e,this.barStore=j0e({calculateOffset:(t,r)=>N0e(t,r)[this.axis],getSizeRelatedInfo:()=>this.makeSizeInfos(),flipResizeMoveDirection:e.rtl&&!e.vertical})}get axis(){return this.config.vertical?"y":"x"}get dimension(){return this.config.vertical?"height":"width"}get direction(){return this.config.vertical?"column":"row"}get on(){return this.eventHub.watchResizerEvent}init(e){this.dispose(),this.container=e,e&&(this.itemsCache.update(B0e(e).map(t=>{switch(t.type){case"BAR":return new dy(t,this.dispatchBarAction);case"SECTION":return new $p(t)}})),this.initStyles(e,this.itemsCache.getItems()),this.sizeRelatedInfoChange(this.makeSizeInfos()),this.barStore.subscribe(t=>{this.monitorBarStatusChanges(t),this.sizeRelatedInfoChange(t)}))}dispose(){this.container=null,this.itemsCache.reset(),this.barStore.unsubscribeAll(),this.eventHub.reset()}getResizer(){return new _F(this.makeSizeInfos())}applyResizer(e){this.sizeRelatedInfoChange(e.getResult())}sizeRelatedInfoChange(e){e.discard||(e=(()=>{if(typeof this.config.beforeApplyResizer=="function"){let t=new _F(e);return this.config.beforeApplyResizer(t),t.getResult()}else return e})(),!e.discard&&e.sizeInfoArray.forEach(t=>{let r=this.itemsCache.getItem(t.elm);r instanceof $p&&r.update({sizeInfo:t,flexGrowRatio:e.flexGrowRatio})}))}monitorBarStatusChanges({type:e}){switch(e){case"activate":return og(this.container,"column:activate",null);case"deactivate":return og(this.container,"column:after-resizing",null);default:return}}makeSizeInfos(){let{collect:e,getResult:t}=DG();return this.itemsCache.getItems().forEach(r=>{r instanceof dy&&e({elm:r.elm,disableResponsive:!0,isSolid:!0,currentSize:r.elm.getBoundingClientRect()[this.dimension]}),r instanceof $p&&e({elm:r.elm,maxSize:r.config.maxSize,minSize:r.config.minSize,disableResponsive:L0e(r.config),isSolid:LG(r.config),currentSize:r.elm.getBoundingClientRect()[this.dimension]})}),t()}initStyles(e,t){Object.assign(e.style,this.styles.container()),t.forEach(r=>{r instanceof dy&&Object.assign(r.elm.style,this.styles.bar(r.config)),r instanceof $p&&Object.assign(r.elm.style,this.styles.section(r.config))})}},UG=De.createContext(null),V0e=typeof window=="object"?tt.useLayoutEffect:tt.useEffect;function H0e({vertical:e,rtl:t,beforeApplyResizer:r}){let n=zG(r);return tt.useMemo(()=>new q0e({vertical:e,beforeApplyResizer:n,rtl:t}),[e,n,t])}function Ik(){return tt.useContext(UG)}function ag(e,t,r){let n=Ik(),i=zG(r);tt.useEffect(()=>n.on(e.current,t,o=>i(o)),[n,t,e,i])}function Nk(e,t){let r=tt.useRef(e);return tt.useImperativeHandle(t,()=>r.current),r}function zG(e){let t=tt.useRef(e);return t.current=e,tt.useCallback((...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[t])}function W0e({hooks:e,params:t,children:r}){let n=e(...t);return tt.createElement(tt.Fragment,null,r(n))}function G0e(e,{onActivate:t,afterResizing:r}){ag(e,"column:activate",t),ag(e,"column:after-resizing",r)}var K0e=De.forwardRef(({vertical:e=!1,rtl:t=!1,onActivate:r,beforeApplyResizer:n,afterResizing:i,columnResizerRef:o,style:a,...s},l)=>{let u=Nk(null,l),f=H0e({vertical:e,rtl:t,beforeApplyResizer:n});return V0e(()=>(f.init(u.current),()=>f.dispose()),[f]),De.useImperativeHandle(o,()=>f,[f]),De.createElement(UG.Provider,{value:f},De.createElement(W0e,{hooks:G0e,params:[u,{onActivate:r,afterResizing:i}]},()=>De.createElement("div",{ref:u,...s,style:f.styles.container(a)})))}),EF=De.forwardRef(({defaultSize:e,size:t,disableResponsive:r,minSize:n,maxSize:i,onSizeChanged:o,style:a,...s},l)=>{let u=Nk(null,l),f=Ik(),c={defaultSize:e,size:t,disableResponsive:r,minSize:n,maxSize:i};return ag(u,"section:size-change",p=>o==null?void 0:o(p.detail.size)),De.createElement("div",{ref:u,...s,style:f.styles.section(c,a),...f.attributes.section(c)})}),J0e=De.forwardRef(({top:e=0,right:t=0,bottom:r=0,left:n=0,vertical:i,style:o,...a},s)=>{let l=De.useMemo(()=>({position:"absolute",top:-e,left:-n,right:-t,bottom:-r,WebkitTapHighlightColor:"transparent",userSelect:"none",...o}),[o,e,n,t,r,i]);return De.createElement("div",{...a,style:l,ref:s})}),Y0e=De.forwardRef(({children:e,onClick:t,expandInteractiveArea:r,onStatusChanged:n,style:i,size:o=10,...a},s)=>{let l=Ik(),u=Nk(null,s),f={size:o};return ag(u,"bar:click",()=>t==null?void 0:t()),ag(u,"bar:status-change",c=>n==null?void 0:n(c.detail.isActive)),De.createElement("div",{ref:u,...a,style:l.styles.bar(f,{...i,position:"relative"}),...l.attributes.bar(f)},e,De.createElement(J0e,{...r,vertical:l.config.vertical}))});const X0e=()=>ce.jsx(xY,{children:ce.jsx(Q0e,{})});let SF=!1;const Q0e=()=>{const e=De.useContext(bn),t=De.useRef(null),[r,n]=De.useState(!1),i=()=>{t.current&&t.current.trigger("keyboard","undo",null)},o=()=>{t.current&&t.current.trigger("keyboard","redo",null)};return De.useEffect(()=>{if(SF||window.location.search.indexOf("td")<=-1&&window.location.search.indexOf("proxyEndpoint")<=-1&&window.location.search.indexOf("localstorage")<=-1&&window.location.search.indexOf("southboundTdId")<=-1)return;SF=!0;const a=new URL(window.location.href),s=a.searchParams.get("td");if(s!==null){const f=A0e(s);if(f===void 0){alert("The lz compressed TD found in the URL couldn't be reconstructed.");return}e.updateOfflineTD(JSON.stringify(f,null,2))}const l=a.searchParams.get("proxyEndpoint"),u=a.searchParams.get("southboundTdId");if(u!==null&&efe(u,l).then(f=>{if(!f===void 0){alert(`No Thing Description with id '${u} could be fetched from the proxy.`);return}e.updateOfflineTD(JSON.stringify(f,null,2))}).catch(()=>{alert(`Error unable to fetch TD from proxy: ${l}`)}),a.searchParams.has("localstorage")){let f=localStorage.getItem("td");if(!f){alert("Request to read TD from local storage failed.");return}try{f=JSON.parse(f),e.updateOfflineTD(JSON.stringify(f,null,2))}catch(c){e.updateOfflineTD(f),alert(`Tried to JSON parse the TD from local storage, but failed: ${c}`)}}},[e]),ce.jsxs("main",{className:"flex max-h-screen w-screen flex-col",children:[ce.jsx(R0e,{}),ce.jsx("div",{className:"hidden md:block",children:ce.jsxs(K0e,{className:"height-adjust flex",children:[ce.jsx(EF,{minSize:550,className:"w-7/12 min-w-16",children:ce.jsx(nL,{onUndo:i,onRedo:o})}),ce.jsx(Y0e,{size:7.5,className:"cursor-col-resize bg-gray-300 hover:bg-blue-500"}),ce.jsx(EF,{className:"w-5/12",children:ce.jsx(YC,{editorRef:t})})]})}),ce.jsxs("div",{className:"height-adjust md:hidden",children:[r&&ce.jsx(YC,{editorRef:t}),!r&&ce.jsx(nL,{onUndo:i,onRedo:o}),ce.jsx("button",{className:"absolute bottom-12 right-2 z-10 rounded-full bg-blue-500 p-4",onClick:()=>n(!r),children:ce.jsx(lR,{color:"white"})})]}),ce.jsx("div",{className:"fixed bottom-0 w-screen",children:ce.jsx(Kce,{})}),ce.jsx("div",{id:"modal-root"})]})},Z0e=r$.createRoot(document.getElementById("root"));Z0e.render(ce.jsx(tt.StrictMode,{children:ce.jsx(X0e,{})}));
