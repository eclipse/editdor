var tW=Object.defineProperty;var rW=(e,t,r)=>t in e?tW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Gn=(e,t,r)=>rW(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var $a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Lx(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var QL={exports:{}},a_={},ZL={exports:{}},wr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm=Symbol.for("react.element"),nW=Symbol.for("react.portal"),iW=Symbol.for("react.fragment"),oW=Symbol.for("react.strict_mode"),aW=Symbol.for("react.profiler"),sW=Symbol.for("react.provider"),lW=Symbol.for("react.context"),uW=Symbol.for("react.forward_ref"),cW=Symbol.for("react.suspense"),fW=Symbol.for("react.memo"),dW=Symbol.for("react.lazy"),uC=Symbol.iterator;function hW(e){return e===null||typeof e!="object"?null:(e=uC&&e[uC]||e["@@iterator"],typeof e=="function"?e:null)}var eF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tF=Object.assign,rF={};function $h(e,t,r){this.props=e,this.context=t,this.refs=rF,this.updater=r||eF}$h.prototype.isReactComponent={};$h.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$h.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nF(){}nF.prototype=$h.prototype;function Fx(e,t,r){this.props=e,this.context=t,this.refs=rF,this.updater=r||eF}var Bx=Fx.prototype=new nF;Bx.constructor=Fx;tF(Bx,$h.prototype);Bx.isPureReactComponent=!0;var cC=Array.isArray,iF=Object.prototype.hasOwnProperty,Ux={current:null},oF={key:!0,ref:!0,__self:!0,__source:!0};function aF(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)iF.call(t,n)&&!oF.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Qm,type:e,key:o,ref:a,props:i,_owner:Ux.current}}function pW(e,t){return{$$typeof:Qm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qm}function mW(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var fC=/\/+/g;function UE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mW(""+e.key):t.toString(36)}function oy(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Qm:case nW:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+UE(a,0):n,cC(i)?(r="",e!=null&&(r=e.replace(fC,"$&/")+"/"),oy(i,t,r,"",function(u){return u})):i!=null&&(zx(i)&&(i=pW(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(fC,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",cC(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+UE(o,s);a+=oy(o,t,r,l,i)}else if(l=hW(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+UE(o,s++),a+=oy(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Jg(e,t,r){if(e==null)return e;var n=[],i=0;return oy(e,n,"","",function(o){return t.call(r,o,i++)}),n}function gW(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var no={current:null},ay={transition:null},vW={ReactCurrentDispatcher:no,ReactCurrentBatchConfig:ay,ReactCurrentOwner:Ux};function sF(){throw Error("act(...) is not supported in production builds of React.")}wr.Children={map:Jg,forEach:function(e,t,r){Jg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Jg(e,function(){t++}),t},toArray:function(e){return Jg(e,function(t){return t})||[]},only:function(e){if(!zx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};wr.Component=$h;wr.Fragment=iW;wr.Profiler=aW;wr.PureComponent=Fx;wr.StrictMode=oW;wr.Suspense=cW;wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vW;wr.act=sF;wr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=tF({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Ux.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)iF.call(t,l)&&!oF.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Qm,type:e.type,key:i,ref:o,props:n,_owner:a}};wr.createContext=function(e){return e={$$typeof:lW,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sW,_context:e},e.Consumer=e};wr.createElement=aF;wr.createFactory=function(e){var t=aF.bind(null,e);return t.type=e,t};wr.createRef=function(){return{current:null}};wr.forwardRef=function(e){return{$$typeof:uW,render:e}};wr.isValidElement=zx;wr.lazy=function(e){return{$$typeof:dW,_payload:{_status:-1,_result:e},_init:gW}};wr.memo=function(e,t){return{$$typeof:fW,type:e,compare:t===void 0?null:t}};wr.startTransition=function(e){var t=ay.transition;ay.transition={};try{e()}finally{ay.transition=t}};wr.unstable_act=sF;wr.useCallback=function(e,t){return no.current.useCallback(e,t)};wr.useContext=function(e){return no.current.useContext(e)};wr.useDebugValue=function(){};wr.useDeferredValue=function(e){return no.current.useDeferredValue(e)};wr.useEffect=function(e,t){return no.current.useEffect(e,t)};wr.useId=function(){return no.current.useId()};wr.useImperativeHandle=function(e,t,r){return no.current.useImperativeHandle(e,t,r)};wr.useInsertionEffect=function(e,t){return no.current.useInsertionEffect(e,t)};wr.useLayoutEffect=function(e,t){return no.current.useLayoutEffect(e,t)};wr.useMemo=function(e,t){return no.current.useMemo(e,t)};wr.useReducer=function(e,t,r){return no.current.useReducer(e,t,r)};wr.useRef=function(e){return no.current.useRef(e)};wr.useState=function(e){return no.current.useState(e)};wr.useSyncExternalStore=function(e,t,r){return no.current.useSyncExternalStore(e,t,r)};wr.useTransition=function(){return no.current.useTransition()};wr.version="18.3.1";ZL.exports=wr;var Me=ZL.exports;const lt=Pf(Me);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yW=Me,wW=Symbol.for("react.element"),bW=Symbol.for("react.fragment"),_W=Object.prototype.hasOwnProperty,EW=yW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SW={key:!0,ref:!0,__self:!0,__source:!0};function lF(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)_W.call(t,n)&&!SW.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:wW,type:e,key:o,ref:a,props:i,_owner:EW.current}}a_.Fragment=bW;a_.jsx=lF;a_.jsxs=lF;QL.exports=a_;var pe=QL.exports,V1={},uF={exports:{}},Jo={},cF={exports:{}},fF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ee,ae){var M=ee.length;ee.push(ae);e:for(;0<M;){var B=M-1>>>1,K=ee[B];if(0<i(K,ae))ee[B]=ae,ee[M]=K,M=B;else break e}}function r(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var ae=ee[0],M=ee.pop();if(M!==ae){ee[0]=M;e:for(var B=0,K=ee.length,O=K>>>1;B<O;){var k=2*(B+1)-1,q=ee[k],ie=k+1,J=ee[ie];if(0>i(q,M))ie<K&&0>i(J,q)?(ee[B]=J,ee[ie]=M,B=ie):(ee[B]=q,ee[k]=M,B=k);else if(ie<K&&0>i(J,M))ee[B]=J,ee[ie]=M,B=ie;else break e}}return ae}function i(ee,ae){var M=ee.sortIndex-ae.sortIndex;return M!==0?M:ee.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],f=1,c=null,h=3,m=!1,g=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(ee){for(var ae=r(u);ae!==null;){if(ae.callback===null)n(u);else if(ae.startTime<=ee)n(u),ae.sortIndex=ae.expirationTime,t(l,ae);else break;ae=r(u)}}function S(ee){if(_=!1,y(ee),!g)if(r(l)!==null)g=!0,Q($);else{var ae=r(u);ae!==null&&ce(S,ae.startTime-ee)}}function $(ee,ae){g=!1,_&&(_=!1,p(A),A=-1),m=!0;var M=h;try{for(y(ae),c=r(l);c!==null&&(!(c.expirationTime>ae)||ee&&!D());){var B=c.callback;if(typeof B=="function"){c.callback=null,h=c.priorityLevel;var K=B(c.expirationTime<=ae);ae=e.unstable_now(),typeof K=="function"?c.callback=K:c===r(l)&&n(l),y(ae)}else n(l);c=r(l)}if(c!==null)var O=!0;else{var k=r(u);k!==null&&ce(S,k.startTime-ae),O=!1}return O}finally{c=null,h=M,m=!1}}var T=!1,d=null,A=-1,P=5,x=-1;function D(){return!(e.unstable_now()-x<P)}function F(){if(d!==null){var ee=e.unstable_now();x=ee;var ae=!0;try{ae=d(!0,ee)}finally{ae?V():(T=!1,d=null)}}else T=!1}var V;if(typeof E=="function")V=function(){E(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,G=X.port2;X.port1.onmessage=F,V=function(){G.postMessage(null)}}else V=function(){v(F,0)};function Q(ee){d=ee,T||(T=!0,V())}function ce(ee,ae){A=v(function(){ee(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,Q($))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(ee){switch(h){case 1:case 2:case 3:var ae=3;break;default:ae=h}var M=h;h=ae;try{return ee()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,ae){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var M=h;h=ee;try{return ae()}finally{h=M}},e.unstable_scheduleCallback=function(ee,ae,M){var B=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?B+M:B):M=B,ee){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=M+K,ee={id:f++,callback:ae,priorityLevel:ee,startTime:M,expirationTime:K,sortIndex:-1},M>B?(ee.sortIndex=M,t(u,ee),r(l)===null&&ee===r(u)&&(_?(p(A),A=-1):_=!0,ce(S,M-B))):(ee.sortIndex=K,t(l,ee),g||m||(g=!0,Q($))),ee},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(ee){var ae=h;return function(){var M=h;h=ae;try{return ee.apply(this,arguments)}finally{h=M}}}})(fF);cF.exports=fF;var $W=cF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TW=Me,Ko=$W;function Et(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dF=new Set,pm={};function xf(e,t){ah(e,t),ah(e+"Capture",t)}function ah(e,t){for(pm[e]=t,e=0;e<t.length;e++)dF.add(t[e])}var xl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),H1=Object.prototype.hasOwnProperty,AW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dC={},hC={};function PW(e){return H1.call(hC,e)?!0:H1.call(dC,e)?!1:AW.test(e)?hC[e]=!0:(dC[e]=!0,!1)}function xW(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OW(e,t,r,n){if(t===null||typeof t>"u"||xW(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function io(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Ai={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ai[e]=new io(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ai[t]=new io(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ai[e]=new io(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ai[e]=new io(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ai[e]=new io(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ai[e]=new io(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ai[e]=new io(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ai[e]=new io(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ai[e]=new io(e,5,!1,e.toLowerCase(),null,!1,!1)});var qx=/[\-:]([a-z])/g;function Vx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qx,Vx);Ai[t]=new io(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qx,Vx);Ai[t]=new io(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qx,Vx);Ai[t]=new io(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ai[e]=new io(e,1,!1,e.toLowerCase(),null,!1,!1)});Ai.xlinkHref=new io("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ai[e]=new io(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hx(e,t,r,n){var i=Ai.hasOwnProperty(t)?Ai[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OW(t,r,i,n)&&(r=null),n||i===null?PW(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Dl=TW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yg=Symbol.for("react.element"),Sd=Symbol.for("react.portal"),$d=Symbol.for("react.fragment"),Gx=Symbol.for("react.strict_mode"),G1=Symbol.for("react.profiler"),hF=Symbol.for("react.provider"),pF=Symbol.for("react.context"),Wx=Symbol.for("react.forward_ref"),W1=Symbol.for("react.suspense"),K1=Symbol.for("react.suspense_list"),Kx=Symbol.for("react.memo"),yu=Symbol.for("react.lazy"),mF=Symbol.for("react.offscreen"),pC=Symbol.iterator;function Kh(e){return e===null||typeof e!="object"?null:(e=pC&&e[pC]||e["@@iterator"],typeof e=="function"?e:null)}var In=Object.assign,zE;function vp(e){if(zE===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);zE=t&&t[1]||""}return`
`+zE+e}var qE=!1;function VE(e,t){if(!e||qE)return"";qE=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{qE=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?vp(e):""}function RW(e){switch(e.tag){case 5:return vp(e.type);case 16:return vp("Lazy");case 13:return vp("Suspense");case 19:return vp("SuspenseList");case 0:case 2:case 15:return e=VE(e.type,!1),e;case 11:return e=VE(e.type.render,!1),e;case 1:return e=VE(e.type,!0),e;default:return""}}function J1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $d:return"Fragment";case Sd:return"Portal";case G1:return"Profiler";case Gx:return"StrictMode";case W1:return"Suspense";case K1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pF:return(e.displayName||"Context")+".Consumer";case hF:return(e._context.displayName||"Context")+".Provider";case Wx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kx:return t=e.displayName||null,t!==null?t:J1(e.type)||"Memo";case yu:t=e._payload,e=e._init;try{return J1(e(t))}catch{}}return null}function IW(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J1(t);case 8:return t===Gx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NW(e){var t=gF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xg(e){e._valueTracker||(e._valueTracker=NW(e))}function vF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=gF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Bw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Y1(e,t){var r=t.checked;return In({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function mC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=zu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yF(e,t){t=t.checked,t!=null&&Hx(e,"checked",t,!1)}function X1(e,t){yF(e,t);var r=zu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Q1(e,t.type,r):t.hasOwnProperty("defaultValue")&&Q1(e,t.type,zu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Q1(e,t,r){(t!=="number"||Bw(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yp=Array.isArray;function Ud(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+zu(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Z1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Et(91));return In({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Et(92));if(yp(r)){if(1<r.length)throw Error(Et(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:zu(r)}}function wF(e,t){var r=zu(t.value),n=zu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function yC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e$(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qg,_F=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qg=Qg||document.createElement("div"),Qg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var zp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CW=["Webkit","ms","Moz","O"];Object.keys(zp).forEach(function(e){CW.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zp[t]=zp[e]})});function EF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||zp.hasOwnProperty(e)&&zp[e]?(""+t).trim():t+"px"}function SF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=EF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var kW=In({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t$(e,t){if(t){if(kW[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Et(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Et(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Et(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Et(62))}}function r$(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n$=null;function Jx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var i$=null,zd=null,qd=null;function wC(e){if(e=tg(e)){if(typeof i$!="function")throw Error(Et(280));var t=e.stateNode;t&&(t=f_(t),i$(e.stateNode,e.type,t))}}function $F(e){zd?qd?qd.push(e):qd=[e]:zd=e}function TF(){if(zd){var e=zd,t=qd;if(qd=zd=null,wC(e),t)for(e=0;e<t.length;e++)wC(t[e])}}function AF(e,t){return e(t)}function PF(){}var HE=!1;function xF(e,t,r){if(HE)return e(t,r);HE=!0;try{return AF(e,t,r)}finally{HE=!1,(zd!==null||qd!==null)&&(PF(),TF())}}function gm(e,t){var r=e.stateNode;if(r===null)return null;var n=f_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Et(231,t,typeof r));return r}var o$=!1;if(xl)try{var Jh={};Object.defineProperty(Jh,"passive",{get:function(){o$=!0}}),window.addEventListener("test",Jh,Jh),window.removeEventListener("test",Jh,Jh)}catch{o$=!1}function jW(e,t,r,n,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var qp=!1,Uw=null,zw=!1,a$=null,DW={onError:function(e){qp=!0,Uw=e}};function MW(e,t,r,n,i,o,a,s,l){qp=!1,Uw=null,jW.apply(DW,arguments)}function LW(e,t,r,n,i,o,a,s,l){if(MW.apply(this,arguments),qp){if(qp){var u=Uw;qp=!1,Uw=null}else throw Error(Et(198));zw||(zw=!0,a$=u)}}function Of(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function OF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bC(e){if(Of(e)!==e)throw Error(Et(188))}function FW(e){var t=e.alternate;if(!t){if(t=Of(e),t===null)throw Error(Et(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return bC(i),e;if(o===n)return bC(i),t;o=o.sibling}throw Error(Et(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(Et(189))}}if(r.alternate!==n)throw Error(Et(190))}if(r.tag!==3)throw Error(Et(188));return r.stateNode.current===r?e:t}function RF(e){return e=FW(e),e!==null?IF(e):null}function IF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=IF(e);if(t!==null)return t;e=e.sibling}return null}var NF=Ko.unstable_scheduleCallback,_C=Ko.unstable_cancelCallback,BW=Ko.unstable_shouldYield,UW=Ko.unstable_requestPaint,zn=Ko.unstable_now,zW=Ko.unstable_getCurrentPriorityLevel,Yx=Ko.unstable_ImmediatePriority,CF=Ko.unstable_UserBlockingPriority,qw=Ko.unstable_NormalPriority,qW=Ko.unstable_LowPriority,kF=Ko.unstable_IdlePriority,s_=null,qs=null;function VW(e){if(qs&&typeof qs.onCommitFiberRoot=="function")try{qs.onCommitFiberRoot(s_,e,void 0,(e.current.flags&128)===128)}catch{}}var ns=Math.clz32?Math.clz32:WW,HW=Math.log,GW=Math.LN2;function WW(e){return e>>>=0,e===0?32:31-(HW(e)/GW|0)|0}var Zg=64,ev=4194304;function wp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vw(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=wp(s):(o&=a,o!==0&&(n=wp(o)))}else a=r&~i,a!==0?n=wp(a):o!==0&&(n=wp(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ns(t),i=1<<r,n|=e[r],t&=~i;return n}function KW(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JW(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ns(o),s=1<<a,l=i[a];l===-1?(!(s&r)||s&n)&&(i[a]=KW(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function s$(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jF(){var e=Zg;return Zg<<=1,!(Zg&4194240)&&(Zg=64),e}function GE(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ns(t),e[t]=r}function YW(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ns(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function Xx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ns(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Qr=0;function DF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var MF,Qx,LF,FF,BF,l$=!1,tv=[],Iu=null,Nu=null,Cu=null,vm=new Map,ym=new Map,_u=[],XW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function EC(e,t){switch(e){case"focusin":case"focusout":Iu=null;break;case"dragenter":case"dragleave":Nu=null;break;case"mouseover":case"mouseout":Cu=null;break;case"pointerover":case"pointerout":vm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ym.delete(t.pointerId)}}function Yh(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=tg(t),t!==null&&Qx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function QW(e,t,r,n,i){switch(t){case"focusin":return Iu=Yh(Iu,e,t,r,n,i),!0;case"dragenter":return Nu=Yh(Nu,e,t,r,n,i),!0;case"mouseover":return Cu=Yh(Cu,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return vm.set(o,Yh(vm.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,ym.set(o,Yh(ym.get(o)||null,e,t,r,n,i)),!0}return!1}function UF(e){var t=Hc(e.target);if(t!==null){var r=Of(t);if(r!==null){if(t=r.tag,t===13){if(t=OF(r),t!==null){e.blockedOn=t,BF(e.priority,function(){LF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=u$(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);n$=n,r.target.dispatchEvent(n),n$=null}else return t=tg(r),t!==null&&Qx(t),e.blockedOn=r,!1;t.shift()}return!0}function SC(e,t,r){sy(e)&&r.delete(t)}function ZW(){l$=!1,Iu!==null&&sy(Iu)&&(Iu=null),Nu!==null&&sy(Nu)&&(Nu=null),Cu!==null&&sy(Cu)&&(Cu=null),vm.forEach(SC),ym.forEach(SC)}function Xh(e,t){e.blockedOn===t&&(e.blockedOn=null,l$||(l$=!0,Ko.unstable_scheduleCallback(Ko.unstable_NormalPriority,ZW)))}function wm(e){function t(i){return Xh(i,e)}if(0<tv.length){Xh(tv[0],e);for(var r=1;r<tv.length;r++){var n=tv[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Iu!==null&&Xh(Iu,e),Nu!==null&&Xh(Nu,e),Cu!==null&&Xh(Cu,e),vm.forEach(t),ym.forEach(t),r=0;r<_u.length;r++)n=_u[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<_u.length&&(r=_u[0],r.blockedOn===null);)UF(r),r.blockedOn===null&&_u.shift()}var Vd=Dl.ReactCurrentBatchConfig,Hw=!0;function eK(e,t,r,n){var i=Qr,o=Vd.transition;Vd.transition=null;try{Qr=1,Zx(e,t,r,n)}finally{Qr=i,Vd.transition=o}}function tK(e,t,r,n){var i=Qr,o=Vd.transition;Vd.transition=null;try{Qr=4,Zx(e,t,r,n)}finally{Qr=i,Vd.transition=o}}function Zx(e,t,r,n){if(Hw){var i=u$(e,t,r,n);if(i===null)rS(e,t,n,Gw,r),EC(e,n);else if(QW(i,e,t,r,n))n.stopPropagation();else if(EC(e,n),t&4&&-1<XW.indexOf(e)){for(;i!==null;){var o=tg(i);if(o!==null&&MF(o),o=u$(e,t,r,n),o===null&&rS(e,t,n,Gw,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else rS(e,t,n,null,r)}}var Gw=null;function u$(e,t,r,n){if(Gw=null,e=Jx(n),e=Hc(e),e!==null)if(t=Of(e),t===null)e=null;else if(r=t.tag,r===13){if(e=OF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gw=e,null}function zF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zW()){case Yx:return 1;case CF:return 4;case qw:case qW:return 16;case kF:return 536870912;default:return 16}default:return 16}}var Tu=null,eO=null,ly=null;function qF(){if(ly)return ly;var e,t=eO,r=t.length,n,i="value"in Tu?Tu.value:Tu.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return ly=i.slice(e,1<n?1-n:void 0)}function uy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rv(){return!0}function $C(){return!1}function Yo(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?rv:$C,this.isPropagationStopped=$C,this}return In(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rv)},persist:function(){},isPersistent:rv}),t}var Th={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tO=Yo(Th),eg=In({},Th,{view:0,detail:0}),rK=Yo(eg),WE,KE,Qh,l_=In({},eg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rO,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qh&&(Qh&&e.type==="mousemove"?(WE=e.screenX-Qh.screenX,KE=e.screenY-Qh.screenY):KE=WE=0,Qh=e),WE)},movementY:function(e){return"movementY"in e?e.movementY:KE}}),TC=Yo(l_),nK=In({},l_,{dataTransfer:0}),iK=Yo(nK),oK=In({},eg,{relatedTarget:0}),JE=Yo(oK),aK=In({},Th,{animationName:0,elapsedTime:0,pseudoElement:0}),sK=Yo(aK),lK=In({},Th,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uK=Yo(lK),cK=In({},Th,{data:0}),AC=Yo(cK),fK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pK(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hK[e])?!!t[e]:!1}function rO(){return pK}var mK=In({},eg,{key:function(e){if(e.key){var t=fK[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=uy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dK[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rO,charCode:function(e){return e.type==="keypress"?uy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?uy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gK=Yo(mK),vK=In({},l_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PC=Yo(vK),yK=In({},eg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rO}),wK=Yo(yK),bK=In({},Th,{propertyName:0,elapsedTime:0,pseudoElement:0}),_K=Yo(bK),EK=In({},l_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),SK=Yo(EK),$K=[9,13,27,32],nO=xl&&"CompositionEvent"in window,Vp=null;xl&&"documentMode"in document&&(Vp=document.documentMode);var TK=xl&&"TextEvent"in window&&!Vp,VF=xl&&(!nO||Vp&&8<Vp&&11>=Vp),xC=" ",OC=!1;function HF(e,t){switch(e){case"keyup":return $K.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Td=!1;function AK(e,t){switch(e){case"compositionend":return GF(t);case"keypress":return t.which!==32?null:(OC=!0,xC);case"textInput":return e=t.data,e===xC&&OC?null:e;default:return null}}function PK(e,t){if(Td)return e==="compositionend"||!nO&&HF(e,t)?(e=qF(),ly=eO=Tu=null,Td=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return VF&&t.locale!=="ko"?null:t.data;default:return null}}var xK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xK[e.type]:t==="textarea"}function WF(e,t,r,n){$F(n),t=Ww(t,"onChange"),0<t.length&&(r=new tO("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hp=null,bm=null;function OK(e){i3(e,0)}function u_(e){var t=xd(e);if(vF(t))return e}function RK(e,t){if(e==="change")return t}var KF=!1;if(xl){var YE;if(xl){var XE="oninput"in document;if(!XE){var IC=document.createElement("div");IC.setAttribute("oninput","return;"),XE=typeof IC.oninput=="function"}YE=XE}else YE=!1;KF=YE&&(!document.documentMode||9<document.documentMode)}function NC(){Hp&&(Hp.detachEvent("onpropertychange",JF),bm=Hp=null)}function JF(e){if(e.propertyName==="value"&&u_(bm)){var t=[];WF(t,bm,e,Jx(e)),xF(OK,t)}}function IK(e,t,r){e==="focusin"?(NC(),Hp=t,bm=r,Hp.attachEvent("onpropertychange",JF)):e==="focusout"&&NC()}function NK(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return u_(bm)}function CK(e,t){if(e==="click")return u_(t)}function kK(e,t){if(e==="input"||e==="change")return u_(t)}function jK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var os=typeof Object.is=="function"?Object.is:jK;function _m(e,t){if(os(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!H1.call(t,i)||!os(e[i],t[i]))return!1}return!0}function CC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kC(e,t){var r=CC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=CC(r)}}function YF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?YF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function XF(){for(var e=window,t=Bw();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Bw(e.document)}return t}function iO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function DK(e){var t=XF(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&YF(r.ownerDocument.documentElement,r)){if(n!==null&&iO(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=kC(r,o);var a=kC(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var MK=xl&&"documentMode"in document&&11>=document.documentMode,Ad=null,c$=null,Gp=null,f$=!1;function jC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;f$||Ad==null||Ad!==Bw(n)||(n=Ad,"selectionStart"in n&&iO(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gp&&_m(Gp,n)||(Gp=n,n=Ww(c$,"onSelect"),0<n.length&&(t=new tO("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ad)))}function nv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pd={animationend:nv("Animation","AnimationEnd"),animationiteration:nv("Animation","AnimationIteration"),animationstart:nv("Animation","AnimationStart"),transitionend:nv("Transition","TransitionEnd")},QE={},QF={};xl&&(QF=document.createElement("div").style,"AnimationEvent"in window||(delete Pd.animationend.animation,delete Pd.animationiteration.animation,delete Pd.animationstart.animation),"TransitionEvent"in window||delete Pd.transitionend.transition);function c_(e){if(QE[e])return QE[e];if(!Pd[e])return e;var t=Pd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in QF)return QE[e]=t[r];return e}var ZF=c_("animationend"),e3=c_("animationiteration"),t3=c_("animationstart"),r3=c_("transitionend"),n3=new Map,DC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gu(e,t){n3.set(e,t),xf(t,[e])}for(var ZE=0;ZE<DC.length;ZE++){var eS=DC[ZE],LK=eS.toLowerCase(),FK=eS[0].toUpperCase()+eS.slice(1);Gu(LK,"on"+FK)}Gu(ZF,"onAnimationEnd");Gu(e3,"onAnimationIteration");Gu(t3,"onAnimationStart");Gu("dblclick","onDoubleClick");Gu("focusin","onFocus");Gu("focusout","onBlur");Gu(r3,"onTransitionEnd");ah("onMouseEnter",["mouseout","mouseover"]);ah("onMouseLeave",["mouseout","mouseover"]);ah("onPointerEnter",["pointerout","pointerover"]);ah("onPointerLeave",["pointerout","pointerover"]);xf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xf("onBeforeInput",["compositionend","keypress","textInput","paste"]);xf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BK=new Set("cancel close invalid load scroll toggle".split(" ").concat(bp));function MC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,LW(n,t,void 0,e),e.currentTarget=null}function i3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;MC(i,s,u),o=l}else for(a=0;a<n.length;a++){if(s=n[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;MC(i,s,u),o=l}}}if(zw)throw e=a$,zw=!1,a$=null,e}function pn(e,t){var r=t[g$];r===void 0&&(r=t[g$]=new Set);var n=e+"__bubble";r.has(n)||(o3(t,e,2,!1),r.add(n))}function tS(e,t,r){var n=0;t&&(n|=4),o3(r,e,n,t)}var iv="_reactListening"+Math.random().toString(36).slice(2);function Em(e){if(!e[iv]){e[iv]=!0,dF.forEach(function(r){r!=="selectionchange"&&(BK.has(r)||tS(r,!1,e),tS(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[iv]||(t[iv]=!0,tS("selectionchange",!1,t))}}function o3(e,t,r,n){switch(zF(t)){case 1:var i=eK;break;case 4:i=tK;break;default:i=Zx}r=i.bind(null,t,r,e),i=void 0,!o$||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function rS(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Hc(s),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}s=s.parentNode}}n=n.return}xF(function(){var u=o,f=Jx(r),c=[];e:{var h=n3.get(e);if(h!==void 0){var m=tO,g=e;switch(e){case"keypress":if(uy(r)===0)break e;case"keydown":case"keyup":m=gK;break;case"focusin":g="focus",m=JE;break;case"focusout":g="blur",m=JE;break;case"beforeblur":case"afterblur":m=JE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=TC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=iK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=wK;break;case ZF:case e3:case t3:m=sK;break;case r3:m=_K;break;case"scroll":m=rK;break;case"wheel":m=SK;break;case"copy":case"cut":case"paste":m=uK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=PC}var _=(t&4)!==0,v=!_&&e==="scroll",p=_?h!==null?h+"Capture":null:h;_=[];for(var E=u,y;E!==null;){y=E;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,p!==null&&(S=gm(E,p),S!=null&&_.push(Sm(E,S,y)))),v)break;E=E.return}0<_.length&&(h=new m(h,g,null,r,f),c.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==n$&&(g=r.relatedTarget||r.fromElement)&&(Hc(g)||g[Ol]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Hc(g):null,g!==null&&(v=Of(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(_=TC,S="onMouseLeave",p="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(_=PC,S="onPointerLeave",p="onPointerEnter",E="pointer"),v=m==null?h:xd(m),y=g==null?h:xd(g),h=new _(S,E+"leave",m,r,f),h.target=v,h.relatedTarget=y,S=null,Hc(f)===u&&(_=new _(p,E+"enter",g,r,f),_.target=y,_.relatedTarget=v,S=_),v=S,m&&g)t:{for(_=m,p=g,E=0,y=_;y;y=ed(y))E++;for(y=0,S=p;S;S=ed(S))y++;for(;0<E-y;)_=ed(_),E--;for(;0<y-E;)p=ed(p),y--;for(;E--;){if(_===p||p!==null&&_===p.alternate)break t;_=ed(_),p=ed(p)}_=null}else _=null;m!==null&&LC(c,h,m,_,!1),g!==null&&v!==null&&LC(c,v,g,_,!0)}}e:{if(h=u?xd(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var $=RK;else if(RC(h))if(KF)$=kK;else{$=NK;var T=IK}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&($=CK);if($&&($=$(e,u))){WF(c,$,r,f);break e}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Q1(h,"number",h.value)}switch(T=u?xd(u):window,e){case"focusin":(RC(T)||T.contentEditable==="true")&&(Ad=T,c$=u,Gp=null);break;case"focusout":Gp=c$=Ad=null;break;case"mousedown":f$=!0;break;case"contextmenu":case"mouseup":case"dragend":f$=!1,jC(c,r,f);break;case"selectionchange":if(MK)break;case"keydown":case"keyup":jC(c,r,f)}var d;if(nO)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Td?HF(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(VF&&r.locale!=="ko"&&(Td||A!=="onCompositionStart"?A==="onCompositionEnd"&&Td&&(d=qF()):(Tu=f,eO="value"in Tu?Tu.value:Tu.textContent,Td=!0)),T=Ww(u,A),0<T.length&&(A=new AC(A,e,null,r,f),c.push({event:A,listeners:T}),d?A.data=d:(d=GF(r),d!==null&&(A.data=d)))),(d=TK?AK(e,r):PK(e,r))&&(u=Ww(u,"onBeforeInput"),0<u.length&&(f=new AC("onBeforeInput","beforeinput",null,r,f),c.push({event:f,listeners:u}),f.data=d))}i3(c,t)})}function Sm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ww(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=gm(e,r),o!=null&&n.unshift(Sm(e,o,i)),o=gm(e,t),o!=null&&n.push(Sm(e,o,i))),e=e.return}return n}function ed(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function LC(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=gm(r,o),l!=null&&a.unshift(Sm(r,l,s))):i||(l=gm(r,o),l!=null&&a.push(Sm(r,l,s)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var UK=/\r\n?/g,zK=/\u0000|\uFFFD/g;function FC(e){return(typeof e=="string"?e:""+e).replace(UK,`
`).replace(zK,"")}function ov(e,t,r){if(t=FC(t),FC(e)!==t&&r)throw Error(Et(425))}function Kw(){}var d$=null,h$=null;function p$(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var m$=typeof setTimeout=="function"?setTimeout:void 0,qK=typeof clearTimeout=="function"?clearTimeout:void 0,BC=typeof Promise=="function"?Promise:void 0,VK=typeof queueMicrotask=="function"?queueMicrotask:typeof BC<"u"?function(e){return BC.resolve(null).then(e).catch(HK)}:m$;function HK(e){setTimeout(function(){throw e})}function nS(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),wm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);wm(t)}function ku(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function UC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ah=Math.random().toString(36).slice(2),ks="__reactFiber$"+Ah,$m="__reactProps$"+Ah,Ol="__reactContainer$"+Ah,g$="__reactEvents$"+Ah,GK="__reactListeners$"+Ah,WK="__reactHandles$"+Ah;function Hc(e){var t=e[ks];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ol]||r[ks]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=UC(e);e!==null;){if(r=e[ks])return r;e=UC(e)}return t}e=r,r=e.parentNode}return null}function tg(e){return e=e[ks]||e[Ol],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Et(33))}function f_(e){return e[$m]||null}var v$=[],Od=-1;function Wu(e){return{current:e}}function vn(e){0>Od||(e.current=v$[Od],v$[Od]=null,Od--)}function fn(e,t){Od++,v$[Od]=e.current,e.current=t}var qu={},Bi=Wu(qu),_o=Wu(!1),hf=qu;function sh(e,t){var r=e.type.contextTypes;if(!r)return qu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Eo(e){return e=e.childContextTypes,e!=null}function Jw(){vn(_o),vn(Bi)}function zC(e,t,r){if(Bi.current!==qu)throw Error(Et(168));fn(Bi,t),fn(_o,r)}function a3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Et(108,IW(e)||"Unknown",i));return In({},r,n)}function Yw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qu,hf=Bi.current,fn(Bi,e),fn(_o,_o.current),!0}function qC(e,t,r){var n=e.stateNode;if(!n)throw Error(Et(169));r?(e=a3(e,t,hf),n.__reactInternalMemoizedMergedChildContext=e,vn(_o),vn(Bi),fn(Bi,e)):vn(_o),fn(_o,r)}var gl=null,d_=!1,iS=!1;function s3(e){gl===null?gl=[e]:gl.push(e)}function KK(e){d_=!0,s3(e)}function Ku(){if(!iS&&gl!==null){iS=!0;var e=0,t=Qr;try{var r=gl;for(Qr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gl=null,d_=!1}catch(i){throw gl!==null&&(gl=gl.slice(e+1)),NF(Yx,Ku),i}finally{Qr=t,iS=!1}}return null}var Rd=[],Id=0,Xw=null,Qw=0,da=[],ha=0,pf=null,bl=1,_l="";function Cc(e,t){Rd[Id++]=Qw,Rd[Id++]=Xw,Xw=e,Qw=t}function l3(e,t,r){da[ha++]=bl,da[ha++]=_l,da[ha++]=pf,pf=e;var n=bl;e=_l;var i=32-ns(n)-1;n&=~(1<<i),r+=1;var o=32-ns(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,bl=1<<32-ns(t)+i|r<<i|n,_l=o+e}else bl=1<<o|r<<i|n,_l=e}function oO(e){e.return!==null&&(Cc(e,1),l3(e,1,0))}function aO(e){for(;e===Xw;)Xw=Rd[--Id],Rd[Id]=null,Qw=Rd[--Id],Rd[Id]=null;for(;e===pf;)pf=da[--ha],da[ha]=null,_l=da[--ha],da[ha]=null,bl=da[--ha],da[ha]=null}var Go=null,Vo=null,$n=!1,Za=null;function u3(e,t){var r=Ta(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function VC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Go=e,Vo=ku(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Go=e,Vo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pf!==null?{id:bl,overflow:_l}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ta(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Go=e,Vo=null,!0):!1;default:return!1}}function y$(e){return(e.mode&1)!==0&&(e.flags&128)===0}function w$(e){if($n){var t=Vo;if(t){var r=t;if(!VC(e,t)){if(y$(e))throw Error(Et(418));t=ku(r.nextSibling);var n=Go;t&&VC(e,t)?u3(n,r):(e.flags=e.flags&-4097|2,$n=!1,Go=e)}}else{if(y$(e))throw Error(Et(418));e.flags=e.flags&-4097|2,$n=!1,Go=e}}}function HC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Go=e}function av(e){if(e!==Go)return!1;if(!$n)return HC(e),$n=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!p$(e.type,e.memoizedProps)),t&&(t=Vo)){if(y$(e))throw c3(),Error(Et(418));for(;t;)u3(e,t),t=ku(t.nextSibling)}if(HC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Et(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Vo=ku(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Vo=null}}else Vo=Go?ku(e.stateNode.nextSibling):null;return!0}function c3(){for(var e=Vo;e;)e=ku(e.nextSibling)}function lh(){Vo=Go=null,$n=!1}function sO(e){Za===null?Za=[e]:Za.push(e)}var JK=Dl.ReactCurrentBatchConfig;function Zh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Et(309));var n=r.stateNode}if(!n)throw Error(Et(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(Et(284));if(!r._owner)throw Error(Et(290,e))}return e}function sv(e,t){throw e=Object.prototype.toString.call(t),Error(Et(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function GC(e){var t=e._init;return t(e._payload)}function f3(e){function t(p,E){if(e){var y=p.deletions;y===null?(p.deletions=[E],p.flags|=16):y.push(E)}}function r(p,E){if(!e)return null;for(;E!==null;)t(p,E),E=E.sibling;return null}function n(p,E){for(p=new Map;E!==null;)E.key!==null?p.set(E.key,E):p.set(E.index,E),E=E.sibling;return p}function i(p,E){return p=Lu(p,E),p.index=0,p.sibling=null,p}function o(p,E,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<E?(p.flags|=2,E):y):(p.flags|=2,E)):(p.flags|=1048576,E)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function s(p,E,y,S){return E===null||E.tag!==6?(E=fS(y,p.mode,S),E.return=p,E):(E=i(E,y),E.return=p,E)}function l(p,E,y,S){var $=y.type;return $===$d?f(p,E,y.props.children,S,y.key):E!==null&&(E.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===yu&&GC($)===E.type)?(S=i(E,y.props),S.ref=Zh(p,E,y),S.return=p,S):(S=gy(y.type,y.key,y.props,null,p.mode,S),S.ref=Zh(p,E,y),S.return=p,S)}function u(p,E,y,S){return E===null||E.tag!==4||E.stateNode.containerInfo!==y.containerInfo||E.stateNode.implementation!==y.implementation?(E=dS(y,p.mode,S),E.return=p,E):(E=i(E,y.children||[]),E.return=p,E)}function f(p,E,y,S,$){return E===null||E.tag!==7?(E=tf(y,p.mode,S,$),E.return=p,E):(E=i(E,y),E.return=p,E)}function c(p,E,y){if(typeof E=="string"&&E!==""||typeof E=="number")return E=fS(""+E,p.mode,y),E.return=p,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Yg:return y=gy(E.type,E.key,E.props,null,p.mode,y),y.ref=Zh(p,null,E),y.return=p,y;case Sd:return E=dS(E,p.mode,y),E.return=p,E;case yu:var S=E._init;return c(p,S(E._payload),y)}if(yp(E)||Kh(E))return E=tf(E,p.mode,y,null),E.return=p,E;sv(p,E)}return null}function h(p,E,y,S){var $=E!==null?E.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return $!==null?null:s(p,E,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yg:return y.key===$?l(p,E,y,S):null;case Sd:return y.key===$?u(p,E,y,S):null;case yu:return $=y._init,h(p,E,$(y._payload),S)}if(yp(y)||Kh(y))return $!==null?null:f(p,E,y,S,null);sv(p,y)}return null}function m(p,E,y,S,$){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(y)||null,s(E,p,""+S,$);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yg:return p=p.get(S.key===null?y:S.key)||null,l(E,p,S,$);case Sd:return p=p.get(S.key===null?y:S.key)||null,u(E,p,S,$);case yu:var T=S._init;return m(p,E,y,T(S._payload),$)}if(yp(S)||Kh(S))return p=p.get(y)||null,f(E,p,S,$,null);sv(E,S)}return null}function g(p,E,y,S){for(var $=null,T=null,d=E,A=E=0,P=null;d!==null&&A<y.length;A++){d.index>A?(P=d,d=null):P=d.sibling;var x=h(p,d,y[A],S);if(x===null){d===null&&(d=P);break}e&&d&&x.alternate===null&&t(p,d),E=o(x,E,A),T===null?$=x:T.sibling=x,T=x,d=P}if(A===y.length)return r(p,d),$n&&Cc(p,A),$;if(d===null){for(;A<y.length;A++)d=c(p,y[A],S),d!==null&&(E=o(d,E,A),T===null?$=d:T.sibling=d,T=d);return $n&&Cc(p,A),$}for(d=n(p,d);A<y.length;A++)P=m(d,p,A,y[A],S),P!==null&&(e&&P.alternate!==null&&d.delete(P.key===null?A:P.key),E=o(P,E,A),T===null?$=P:T.sibling=P,T=P);return e&&d.forEach(function(D){return t(p,D)}),$n&&Cc(p,A),$}function _(p,E,y,S){var $=Kh(y);if(typeof $!="function")throw Error(Et(150));if(y=$.call(y),y==null)throw Error(Et(151));for(var T=$=null,d=E,A=E=0,P=null,x=y.next();d!==null&&!x.done;A++,x=y.next()){d.index>A?(P=d,d=null):P=d.sibling;var D=h(p,d,x.value,S);if(D===null){d===null&&(d=P);break}e&&d&&D.alternate===null&&t(p,d),E=o(D,E,A),T===null?$=D:T.sibling=D,T=D,d=P}if(x.done)return r(p,d),$n&&Cc(p,A),$;if(d===null){for(;!x.done;A++,x=y.next())x=c(p,x.value,S),x!==null&&(E=o(x,E,A),T===null?$=x:T.sibling=x,T=x);return $n&&Cc(p,A),$}for(d=n(p,d);!x.done;A++,x=y.next())x=m(d,p,A,x.value,S),x!==null&&(e&&x.alternate!==null&&d.delete(x.key===null?A:x.key),E=o(x,E,A),T===null?$=x:T.sibling=x,T=x);return e&&d.forEach(function(F){return t(p,F)}),$n&&Cc(p,A),$}function v(p,E,y,S){if(typeof y=="object"&&y!==null&&y.type===$d&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Yg:e:{for(var $=y.key,T=E;T!==null;){if(T.key===$){if($=y.type,$===$d){if(T.tag===7){r(p,T.sibling),E=i(T,y.props.children),E.return=p,p=E;break e}}else if(T.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===yu&&GC($)===T.type){r(p,T.sibling),E=i(T,y.props),E.ref=Zh(p,T,y),E.return=p,p=E;break e}r(p,T);break}else t(p,T);T=T.sibling}y.type===$d?(E=tf(y.props.children,p.mode,S,y.key),E.return=p,p=E):(S=gy(y.type,y.key,y.props,null,p.mode,S),S.ref=Zh(p,E,y),S.return=p,p=S)}return a(p);case Sd:e:{for(T=y.key;E!==null;){if(E.key===T)if(E.tag===4&&E.stateNode.containerInfo===y.containerInfo&&E.stateNode.implementation===y.implementation){r(p,E.sibling),E=i(E,y.children||[]),E.return=p,p=E;break e}else{r(p,E);break}else t(p,E);E=E.sibling}E=dS(y,p.mode,S),E.return=p,p=E}return a(p);case yu:return T=y._init,v(p,E,T(y._payload),S)}if(yp(y))return g(p,E,y,S);if(Kh(y))return _(p,E,y,S);sv(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,E!==null&&E.tag===6?(r(p,E.sibling),E=i(E,y),E.return=p,p=E):(r(p,E),E=fS(y,p.mode,S),E.return=p,p=E),a(p)):r(p,E)}return v}var uh=f3(!0),d3=f3(!1),Zw=Wu(null),eb=null,Nd=null,lO=null;function uO(){lO=Nd=eb=null}function cO(e){var t=Zw.current;vn(Zw),e._currentValue=t}function b$(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hd(e,t){eb=e,lO=Nd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bo=!0),e.firstContext=null)}function xa(e){var t=e._currentValue;if(lO!==e)if(e={context:e,memoizedValue:t,next:null},Nd===null){if(eb===null)throw Error(Et(308));Nd=e,eb.dependencies={lanes:0,firstContext:e}}else Nd=Nd.next=e;return t}var Gc=null;function fO(e){Gc===null?Gc=[e]:Gc.push(e)}function h3(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,fO(t)):(r.next=i.next,i.next=r),t.interleaved=r,Rl(e,n)}function Rl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wu=!1;function dO(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Al(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ju(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,kr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Rl(e,r)}return i=n.interleaved,i===null?(t.next=t,fO(n)):(t.next=i.next,i.next=t),n.interleaved=t,Rl(e,r)}function cy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xx(e,r)}}function WC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function tb(e,t,r,n){var i=e.updateQueue;wu=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==a&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;a=0,f=u=l=null,s=o;do{var h=s.lane,m=s.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,_=s;switch(h=t,m=r,_.tag){case 1:if(g=_.payload,typeof g=="function"){c=g.call(m,c,h);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,h=typeof g=="function"?g.call(m,c,h):g,h==null)break e;c=In({},c,h);break e;case 2:wu=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=m,l=c):f=f.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);gf|=a,e.lanes=a,e.memoizedState=c}}function KC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Et(191,i));i.call(n)}}}var rg={},Vs=Wu(rg),Tm=Wu(rg),Am=Wu(rg);function Wc(e){if(e===rg)throw Error(Et(174));return e}function hO(e,t){switch(fn(Am,t),fn(Tm,e),fn(Vs,rg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:e$(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=e$(t,e)}vn(Vs),fn(Vs,t)}function ch(){vn(Vs),vn(Tm),vn(Am)}function m3(e){Wc(Am.current);var t=Wc(Vs.current),r=e$(t,e.type);t!==r&&(fn(Tm,e),fn(Vs,r))}function pO(e){Tm.current===e&&(vn(Vs),vn(Tm))}var On=Wu(0);function rb(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oS=[];function mO(){for(var e=0;e<oS.length;e++)oS[e]._workInProgressVersionPrimary=null;oS.length=0}var fy=Dl.ReactCurrentDispatcher,aS=Dl.ReactCurrentBatchConfig,mf=0,Rn=null,Zn=null,si=null,nb=!1,Wp=!1,Pm=0,YK=0;function Oi(){throw Error(Et(321))}function gO(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!os(e[r],t[r]))return!1;return!0}function vO(e,t,r,n,i,o){if(mf=o,Rn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fy.current=e===null||e.memoizedState===null?eJ:tJ,e=r(n,i),Wp){o=0;do{if(Wp=!1,Pm=0,25<=o)throw Error(Et(301));o+=1,si=Zn=null,t.updateQueue=null,fy.current=rJ,e=r(n,i)}while(Wp)}if(fy.current=ib,t=Zn!==null&&Zn.next!==null,mf=0,si=Zn=Rn=null,nb=!1,t)throw Error(Et(300));return e}function yO(){var e=Pm!==0;return Pm=0,e}function Is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?Rn.memoizedState=si=e:si=si.next=e,si}function Oa(){if(Zn===null){var e=Rn.alternate;e=e!==null?e.memoizedState:null}else e=Zn.next;var t=si===null?Rn.memoizedState:si.next;if(t!==null)si=t,Zn=e;else{if(e===null)throw Error(Et(310));Zn=e,e={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},si===null?Rn.memoizedState=si=e:si=si.next=e}return si}function xm(e,t){return typeof t=="function"?t(e):t}function sS(e){var t=Oa(),r=t.queue;if(r===null)throw Error(Et(311));r.lastRenderedReducer=e;var n=Zn,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,l=null,u=o;do{var f=u.lane;if((mf&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=c,a=n):l=l.next=c,Rn.lanes|=f,gf|=f}u=u.next}while(u!==null&&u!==o);l===null?a=n:l.next=s,os(n,t.memoizedState)||(bo=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,Rn.lanes|=o,gf|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function lS(e){var t=Oa(),r=t.queue;if(r===null)throw Error(Et(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);os(o,t.memoizedState)||(bo=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function g3(){}function v3(e,t){var r=Rn,n=Oa(),i=t(),o=!os(n.memoizedState,i);if(o&&(n.memoizedState=i,bo=!0),n=n.queue,wO(b3.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||si!==null&&si.memoizedState.tag&1){if(r.flags|=2048,Om(9,w3.bind(null,r,n,i,t),void 0,null),ui===null)throw Error(Et(349));mf&30||y3(r,t,i)}return i}function y3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Rn.updateQueue,t===null?(t={lastEffect:null,stores:null},Rn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function w3(e,t,r,n){t.value=r,t.getSnapshot=n,_3(t)&&E3(e)}function b3(e,t,r){return r(function(){_3(t)&&E3(e)})}function _3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!os(e,r)}catch{return!0}}function E3(e){var t=Rl(e,1);t!==null&&is(t,e,1,-1)}function JC(e){var t=Is();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xm,lastRenderedState:e},t.queue=e,e=e.dispatch=ZK.bind(null,Rn,e),[t.memoizedState,e]}function Om(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Rn.updateQueue,t===null?(t={lastEffect:null,stores:null},Rn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function S3(){return Oa().memoizedState}function dy(e,t,r,n){var i=Is();Rn.flags|=e,i.memoizedState=Om(1|t,r,void 0,n===void 0?null:n)}function h_(e,t,r,n){var i=Oa();n=n===void 0?null:n;var o=void 0;if(Zn!==null){var a=Zn.memoizedState;if(o=a.destroy,n!==null&&gO(n,a.deps)){i.memoizedState=Om(t,r,o,n);return}}Rn.flags|=e,i.memoizedState=Om(1|t,r,o,n)}function YC(e,t){return dy(8390656,8,e,t)}function wO(e,t){return h_(2048,8,e,t)}function $3(e,t){return h_(4,2,e,t)}function T3(e,t){return h_(4,4,e,t)}function A3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function P3(e,t,r){return r=r!=null?r.concat([e]):null,h_(4,4,A3.bind(null,t,e),r)}function bO(){}function x3(e,t){var r=Oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gO(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function O3(e,t){var r=Oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gO(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function R3(e,t,r){return mf&21?(os(r,t)||(r=jF(),Rn.lanes|=r,gf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=r)}function XK(e,t){var r=Qr;Qr=r!==0&&4>r?r:4,e(!0);var n=aS.transition;aS.transition={};try{e(!1),t()}finally{Qr=r,aS.transition=n}}function I3(){return Oa().memoizedState}function QK(e,t,r){var n=Mu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},N3(e))C3(t,r);else if(r=h3(e,t,r,n),r!==null){var i=Zi();is(r,e,n,i),k3(r,t,n)}}function ZK(e,t,r){var n=Mu(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(N3(e))C3(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,os(s,a)){var l=t.interleaved;l===null?(i.next=i,fO(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=h3(e,t,i,n),r!==null&&(i=Zi(),is(r,e,n,i),k3(r,t,n))}}function N3(e){var t=e.alternate;return e===Rn||t!==null&&t===Rn}function C3(e,t){Wp=nb=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function k3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xx(e,r)}}var ib={readContext:xa,useCallback:Oi,useContext:Oi,useEffect:Oi,useImperativeHandle:Oi,useInsertionEffect:Oi,useLayoutEffect:Oi,useMemo:Oi,useReducer:Oi,useRef:Oi,useState:Oi,useDebugValue:Oi,useDeferredValue:Oi,useTransition:Oi,useMutableSource:Oi,useSyncExternalStore:Oi,useId:Oi,unstable_isNewReconciler:!1},eJ={readContext:xa,useCallback:function(e,t){return Is().memoizedState=[e,t===void 0?null:t],e},useContext:xa,useEffect:YC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,dy(4194308,4,A3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return dy(4194308,4,e,t)},useInsertionEffect:function(e,t){return dy(4,2,e,t)},useMemo:function(e,t){var r=Is();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Is();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=QK.bind(null,Rn,e),[n.memoizedState,e]},useRef:function(e){var t=Is();return e={current:e},t.memoizedState=e},useState:JC,useDebugValue:bO,useDeferredValue:function(e){return Is().memoizedState=e},useTransition:function(){var e=JC(!1),t=e[0];return e=XK.bind(null,e[1]),Is().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Rn,i=Is();if($n){if(r===void 0)throw Error(Et(407));r=r()}else{if(r=t(),ui===null)throw Error(Et(349));mf&30||y3(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,YC(b3.bind(null,n,o,e),[e]),n.flags|=2048,Om(9,w3.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Is(),t=ui.identifierPrefix;if($n){var r=_l,n=bl;r=(n&~(1<<32-ns(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Pm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=YK++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tJ={readContext:xa,useCallback:x3,useContext:xa,useEffect:wO,useImperativeHandle:P3,useInsertionEffect:$3,useLayoutEffect:T3,useMemo:O3,useReducer:sS,useRef:S3,useState:function(){return sS(xm)},useDebugValue:bO,useDeferredValue:function(e){var t=Oa();return R3(t,Zn.memoizedState,e)},useTransition:function(){var e=sS(xm)[0],t=Oa().memoizedState;return[e,t]},useMutableSource:g3,useSyncExternalStore:v3,useId:I3,unstable_isNewReconciler:!1},rJ={readContext:xa,useCallback:x3,useContext:xa,useEffect:wO,useImperativeHandle:P3,useInsertionEffect:$3,useLayoutEffect:T3,useMemo:O3,useReducer:lS,useRef:S3,useState:function(){return lS(xm)},useDebugValue:bO,useDeferredValue:function(e){var t=Oa();return Zn===null?t.memoizedState=e:R3(t,Zn.memoizedState,e)},useTransition:function(){var e=lS(xm)[0],t=Oa().memoizedState;return[e,t]},useMutableSource:g3,useSyncExternalStore:v3,useId:I3,unstable_isNewReconciler:!1};function Ya(e,t){if(e&&e.defaultProps){t=In({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _$(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:In({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var p_={isMounted:function(e){return(e=e._reactInternals)?Of(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Zi(),i=Mu(e),o=Al(n,i);o.payload=t,r!=null&&(o.callback=r),t=ju(e,o,i),t!==null&&(is(t,e,i,n),cy(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Zi(),i=Mu(e),o=Al(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=ju(e,o,i),t!==null&&(is(t,e,i,n),cy(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zi(),n=Mu(e),i=Al(r,n);i.tag=2,t!=null&&(i.callback=t),t=ju(e,i,n),t!==null&&(is(t,e,n,r),cy(t,e,n))}};function XC(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!_m(r,n)||!_m(i,o):!0}function j3(e,t,r){var n=!1,i=qu,o=t.contextType;return typeof o=="object"&&o!==null?o=xa(o):(i=Eo(t)?hf:Bi.current,n=t.contextTypes,o=(n=n!=null)?sh(e,i):qu),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=p_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function QC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&p_.enqueueReplaceState(t,t.state,null)}function E$(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},dO(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=xa(o):(o=Eo(t)?hf:Bi.current,i.context=sh(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(_$(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&p_.enqueueReplaceState(i,i.state,null),tb(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function fh(e,t){try{var r="",n=t;do r+=RW(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function uS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function S$(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var nJ=typeof WeakMap=="function"?WeakMap:Map;function D3(e,t,r){r=Al(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ab||(ab=!0,C$=n),S$(e,t)},r}function M3(e,t,r){r=Al(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){S$(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){S$(e,t),typeof n!="function"&&(Du===null?Du=new Set([this]):Du.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function ZC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new nJ;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=vJ.bind(null,e,t,r),t.then(e,e))}function ek(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tk(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Al(-1,1),t.tag=2,ju(r,t,1))),r.lanes|=1),e)}var iJ=Dl.ReactCurrentOwner,bo=!1;function Wi(e,t,r,n){t.child=e===null?d3(t,null,r,n):uh(t,e.child,r,n)}function rk(e,t,r,n,i){r=r.render;var o=t.ref;return Hd(t,i),n=vO(e,t,r,n,o,i),r=yO(),e!==null&&!bo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Il(e,t,i)):($n&&r&&oO(t),t.flags|=1,Wi(e,t,n,i),t.child)}function nk(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!xO(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,L3(e,t,o,n,i)):(e=gy(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:_m,r(a,n)&&e.ref===t.ref)return Il(e,t,i)}return t.flags|=1,e=Lu(o,n),e.ref=t.ref,e.return=t,t.child=e}function L3(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(_m(o,n)&&e.ref===t.ref)if(bo=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(bo=!0);else return t.lanes=e.lanes,Il(e,t,i)}return $$(e,t,r,n,i)}function F3(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fn(kd,Bo),Bo|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fn(kd,Bo),Bo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,fn(kd,Bo),Bo|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,fn(kd,Bo),Bo|=n;return Wi(e,t,i,r),t.child}function B3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function $$(e,t,r,n,i){var o=Eo(r)?hf:Bi.current;return o=sh(t,o),Hd(t,i),r=vO(e,t,r,n,o,i),n=yO(),e!==null&&!bo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Il(e,t,i)):($n&&n&&oO(t),t.flags|=1,Wi(e,t,r,i),t.child)}function ik(e,t,r,n,i){if(Eo(r)){var o=!0;Yw(t)}else o=!1;if(Hd(t,i),t.stateNode===null)hy(e,t),j3(t,r,n),E$(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=xa(u):(u=Eo(r)?hf:Bi.current,u=sh(t,u));var f=r.getDerivedStateFromProps,c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==u)&&QC(t,a,n,u),wu=!1;var h=t.memoizedState;a.state=h,tb(t,n,a,i),l=t.memoizedState,s!==n||h!==l||_o.current||wu?(typeof f=="function"&&(_$(t,r,f,n),l=t.memoizedState),(s=wu||XC(t,r,s,n,h,l,u))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,p3(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Ya(t.type,s),a.props=u,c=t.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=xa(l):(l=Eo(r)?hf:Bi.current,l=sh(t,l));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==c||h!==l)&&QC(t,a,n,l),wu=!1,h=t.memoizedState,a.state=h,tb(t,n,a,i);var g=t.memoizedState;s!==c||h!==g||_o.current||wu?(typeof m=="function"&&(_$(t,r,m,n),g=t.memoizedState),(u=wu||XC(t,r,u,n,h,g,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return T$(e,t,r,n,o,i)}function T$(e,t,r,n,i,o){B3(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&qC(t,r,!1),Il(e,t,o);n=t.stateNode,iJ.current=t;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=uh(t,e.child,null,o),t.child=uh(t,null,s,o)):Wi(e,t,s,o),t.memoizedState=n.state,i&&qC(t,r,!0),t.child}function U3(e){var t=e.stateNode;t.pendingContext?zC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zC(e,t.context,!1),hO(e,t.containerInfo)}function ok(e,t,r,n,i){return lh(),sO(i),t.flags|=256,Wi(e,t,r,n),t.child}var A$={dehydrated:null,treeContext:null,retryLane:0};function P$(e){return{baseLanes:e,cachePool:null,transitions:null}}function z3(e,t,r){var n=t.pendingProps,i=On.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),fn(On,i&1),e===null)return w$(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=v_(a,n,0,null),e=tf(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=P$(r),t.memoizedState=A$,e):_O(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return oJ(e,t,a,n,s,i,r);if(o){o=n.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Lu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Lu(s,o):(o=tf(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?P$(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=A$,n}return o=e.child,e=o.sibling,n=Lu(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function _O(e,t){return t=v_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lv(e,t,r,n){return n!==null&&sO(n),uh(t,e.child,null,r),e=_O(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oJ(e,t,r,n,i,o,a){if(r)return t.flags&256?(t.flags&=-257,n=uS(Error(Et(422))),lv(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=v_({mode:"visible",children:n.children},i,0,null),o=tf(o,i,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&uh(t,e.child,null,a),t.child.memoizedState=P$(a),t.memoizedState=A$,o);if(!(t.mode&1))return lv(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(Et(419)),n=uS(o,n,void 0),lv(e,t,a,n)}if(s=(a&e.childLanes)!==0,bo||s){if(n=ui,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Rl(e,i),is(n,e,i,-1))}return PO(),n=uS(Error(Et(421))),lv(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=yJ.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Vo=ku(i.nextSibling),Go=t,$n=!0,Za=null,e!==null&&(da[ha++]=bl,da[ha++]=_l,da[ha++]=pf,bl=e.id,_l=e.overflow,pf=t),t=_O(t,n.children),t.flags|=4096,t)}function ak(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),b$(e.return,t,r)}function cS(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function q3(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Wi(e,t,n.children,r),n=On.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ak(e,r,t);else if(e.tag===19)ak(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fn(On,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&rb(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),cS(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&rb(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}cS(t,!0,r,null,o);break;case"together":cS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Il(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),gf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Et(153));if(t.child!==null){for(e=t.child,r=Lu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Lu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function aJ(e,t,r){switch(t.tag){case 3:U3(t),lh();break;case 5:m3(t);break;case 1:Eo(t.type)&&Yw(t);break;case 4:hO(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;fn(Zw,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(fn(On,On.current&1),t.flags|=128,null):r&t.child.childLanes?z3(e,t,r):(fn(On,On.current&1),e=Il(e,t,r),e!==null?e.sibling:null);fn(On,On.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return q3(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fn(On,On.current),n)break;return null;case 22:case 23:return t.lanes=0,F3(e,t,r)}return Il(e,t,r)}var V3,x$,H3,G3;V3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};x$=function(){};H3=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Wc(Vs.current);var o=null;switch(r){case"input":i=Y1(e,i),n=Y1(e,n),o=[];break;case"select":i=In({},i,{value:void 0}),n=In({},n,{value:void 0}),o=[];break;case"textarea":i=Z1(e,i),n=Z1(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Kw)}t$(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pm.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pn("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};G3=function(e,t,r,n){r!==n&&(t.flags|=4)};function ep(e,t){if(!$n)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ri(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function sJ(e,t,r){var n=t.pendingProps;switch(aO(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ri(t),null;case 1:return Eo(t.type)&&Jw(),Ri(t),null;case 3:return n=t.stateNode,ch(),vn(_o),vn(Bi),mO(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(av(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Za!==null&&(D$(Za),Za=null))),x$(e,t),Ri(t),null;case 5:pO(t);var i=Wc(Am.current);if(r=t.type,e!==null&&t.stateNode!=null)H3(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Et(166));return Ri(t),null}if(e=Wc(Vs.current),av(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ks]=t,n[$m]=o,e=(t.mode&1)!==0,r){case"dialog":pn("cancel",n),pn("close",n);break;case"iframe":case"object":case"embed":pn("load",n);break;case"video":case"audio":for(i=0;i<bp.length;i++)pn(bp[i],n);break;case"source":pn("error",n);break;case"img":case"image":case"link":pn("error",n),pn("load",n);break;case"details":pn("toggle",n);break;case"input":mC(n,o),pn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},pn("invalid",n);break;case"textarea":vC(n,o),pn("invalid",n)}t$(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&ov(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&ov(n.textContent,s,e),i=["children",""+s]):pm.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&pn("scroll",n)}switch(r){case"input":Xg(n),gC(n,o,!0);break;case"textarea":Xg(n),yC(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Kw)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[ks]=t,e[$m]=n,V3(e,t,!1,!1),t.stateNode=e;e:{switch(a=r$(r,n),r){case"dialog":pn("cancel",e),pn("close",e),i=n;break;case"iframe":case"object":case"embed":pn("load",e),i=n;break;case"video":case"audio":for(i=0;i<bp.length;i++)pn(bp[i],e);i=n;break;case"source":pn("error",e),i=n;break;case"img":case"image":case"link":pn("error",e),pn("load",e),i=n;break;case"details":pn("toggle",e),i=n;break;case"input":mC(e,n),i=Y1(e,n),pn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=In({},n,{value:void 0}),pn("invalid",e);break;case"textarea":vC(e,n),i=Z1(e,n),pn("invalid",e);break;default:i=n}t$(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?SF(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_F(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&mm(e,l):typeof l=="number"&&mm(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(pm.hasOwnProperty(o)?l!=null&&o==="onScroll"&&pn("scroll",e):l!=null&&Hx(e,o,l,a))}switch(r){case"input":Xg(e),gC(e,n,!1);break;case"textarea":Xg(e),yC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+zu(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Ud(e,!!n.multiple,o,!1):n.defaultValue!=null&&Ud(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Kw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ri(t),null;case 6:if(e&&t.stateNode!=null)G3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Et(166));if(r=Wc(Am.current),Wc(Vs.current),av(t)){if(n=t.stateNode,r=t.memoizedProps,n[ks]=t,(o=n.nodeValue!==r)&&(e=Go,e!==null))switch(e.tag){case 3:ov(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ov(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ks]=t,t.stateNode=n}return Ri(t),null;case 13:if(vn(On),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($n&&Vo!==null&&t.mode&1&&!(t.flags&128))c3(),lh(),t.flags|=98560,o=!1;else if(o=av(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(Et(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Et(317));o[ks]=t}else lh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ri(t),o=!1}else Za!==null&&(D$(Za),Za=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||On.current&1?ri===0&&(ri=3):PO())),t.updateQueue!==null&&(t.flags|=4),Ri(t),null);case 4:return ch(),x$(e,t),e===null&&Em(t.stateNode.containerInfo),Ri(t),null;case 10:return cO(t.type._context),Ri(t),null;case 17:return Eo(t.type)&&Jw(),Ri(t),null;case 19:if(vn(On),o=t.memoizedState,o===null)return Ri(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)ep(o,!1);else{if(ri!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=rb(e),a!==null){for(t.flags|=128,ep(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fn(On,On.current&1|2),t.child}e=e.sibling}o.tail!==null&&zn()>dh&&(t.flags|=128,n=!0,ep(o,!1),t.lanes=4194304)}else{if(!n)if(e=rb(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ep(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!$n)return Ri(t),null}else 2*zn()-o.renderingStartTime>dh&&r!==1073741824&&(t.flags|=128,n=!0,ep(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=zn(),t.sibling=null,r=On.current,fn(On,n?r&1|2:r&1),t):(Ri(t),null);case 22:case 23:return AO(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Bo&1073741824&&(Ri(t),t.subtreeFlags&6&&(t.flags|=8192)):Ri(t),null;case 24:return null;case 25:return null}throw Error(Et(156,t.tag))}function lJ(e,t){switch(aO(t),t.tag){case 1:return Eo(t.type)&&Jw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ch(),vn(_o),vn(Bi),mO(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pO(t),null;case 13:if(vn(On),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Et(340));lh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return vn(On),null;case 4:return ch(),null;case 10:return cO(t.type._context),null;case 22:case 23:return AO(),null;case 24:return null;default:return null}}var uv=!1,ji=!1,uJ=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Cd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){jn(e,t,n)}else r.current=null}function O$(e,t,r){try{r()}catch(n){jn(e,t,n)}}var sk=!1;function cJ(e,t){if(d$=Hw,e=XF(),iO(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,l=-1,u=0,f=0,c=e,h=null;t:for(;;){for(var m;c!==r||i!==0&&c.nodeType!==3||(s=a+i),c!==o||n!==0&&c.nodeType!==3||(l=a+n),c.nodeType===3&&(a+=c.nodeValue.length),(m=c.firstChild)!==null;)h=c,c=m;for(;;){if(c===e)break t;if(h===r&&++u===i&&(s=a),h===o&&++f===n&&(l=a),(m=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=m}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(h$={focusedElem:e,selectionRange:r},Hw=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){t=Mt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,v=g.memoizedState,p=t.stateNode,E=p.getSnapshotBeforeUpdate(t.elementType===t.type?_:Ya(t.type,_),v);p.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Et(163))}}catch(S){jn(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}return g=sk,sk=!1,g}function Kp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&O$(t,r,o)}i=i.next}while(i!==n)}}function m_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function R$(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function W3(e){var t=e.alternate;t!==null&&(e.alternate=null,W3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ks],delete t[$m],delete t[g$],delete t[GK],delete t[WK])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function K3(e){return e.tag===5||e.tag===3||e.tag===4}function lk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||K3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function I$(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Kw));else if(n!==4&&(e=e.child,e!==null))for(I$(e,t,r),e=e.sibling;e!==null;)I$(e,t,r),e=e.sibling}function N$(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(N$(e,t,r),e=e.sibling;e!==null;)N$(e,t,r),e=e.sibling}var _i=null,Xa=!1;function eu(e,t,r){for(r=r.child;r!==null;)J3(e,t,r),r=r.sibling}function J3(e,t,r){if(qs&&typeof qs.onCommitFiberUnmount=="function")try{qs.onCommitFiberUnmount(s_,r)}catch{}switch(r.tag){case 5:ji||Cd(r,t);case 6:var n=_i,i=Xa;_i=null,eu(e,t,r),_i=n,Xa=i,_i!==null&&(Xa?(e=_i,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_i.removeChild(r.stateNode));break;case 18:_i!==null&&(Xa?(e=_i,r=r.stateNode,e.nodeType===8?nS(e.parentNode,r):e.nodeType===1&&nS(e,r),wm(e)):nS(_i,r.stateNode));break;case 4:n=_i,i=Xa,_i=r.stateNode.containerInfo,Xa=!0,eu(e,t,r),_i=n,Xa=i;break;case 0:case 11:case 14:case 15:if(!ji&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&O$(r,t,a),i=i.next}while(i!==n)}eu(e,t,r);break;case 1:if(!ji&&(Cd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){jn(r,t,s)}eu(e,t,r);break;case 21:eu(e,t,r);break;case 22:r.mode&1?(ji=(n=ji)||r.memoizedState!==null,eu(e,t,r),ji=n):eu(e,t,r);break;default:eu(e,t,r)}}function uk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new uJ),t.forEach(function(n){var i=wJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Fa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:_i=s.stateNode,Xa=!1;break e;case 3:_i=s.stateNode.containerInfo,Xa=!0;break e;case 4:_i=s.stateNode.containerInfo,Xa=!0;break e}s=s.return}if(_i===null)throw Error(Et(160));J3(o,a,i),_i=null,Xa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){jn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Y3(t,e),t=t.sibling}function Y3(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fa(t,e),ws(e),n&4){try{Kp(3,e,e.return),m_(3,e)}catch(_){jn(e,e.return,_)}try{Kp(5,e,e.return)}catch(_){jn(e,e.return,_)}}break;case 1:Fa(t,e),ws(e),n&512&&r!==null&&Cd(r,r.return);break;case 5:if(Fa(t,e),ws(e),n&512&&r!==null&&Cd(r,r.return),e.flags&32){var i=e.stateNode;try{mm(i,"")}catch(_){jn(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&yF(i,o),r$(s,a);var u=r$(s,o);for(a=0;a<l.length;a+=2){var f=l[a],c=l[a+1];f==="style"?SF(i,c):f==="dangerouslySetInnerHTML"?_F(i,c):f==="children"?mm(i,c):Hx(i,f,c,u)}switch(s){case"input":X1(i,o);break;case"textarea":wF(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ud(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ud(i,!!o.multiple,o.defaultValue,!0):Ud(i,!!o.multiple,o.multiple?[]:"",!1))}i[$m]=o}catch(_){jn(e,e.return,_)}}break;case 6:if(Fa(t,e),ws(e),n&4){if(e.stateNode===null)throw Error(Et(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){jn(e,e.return,_)}}break;case 3:if(Fa(t,e),ws(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{wm(t.containerInfo)}catch(_){jn(e,e.return,_)}break;case 4:Fa(t,e),ws(e);break;case 13:Fa(t,e),ws(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||($O=zn())),n&4&&uk(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(ji=(u=ji)||f,Fa(t,e),ji=u):Fa(t,e),ws(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Mt=e,f=e.child;f!==null;){for(c=Mt=f;Mt!==null;){switch(h=Mt,m=h.child,h.tag){case 0:case 11:case 14:case 15:Kp(4,h,h.return);break;case 1:Cd(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(_){jn(n,r,_)}}break;case 5:Cd(h,h.return);break;case 22:if(h.memoizedState!==null){fk(c);continue}}m!==null?(m.return=h,Mt=m):fk(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=c.stateNode,l=c.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=EF("display",a))}catch(_){jn(e,e.return,_)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(_){jn(e,e.return,_)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Fa(t,e),ws(e),n&4&&uk(e);break;case 21:break;default:Fa(t,e),ws(e)}}function ws(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(K3(r)){var n=r;break e}r=r.return}throw Error(Et(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(mm(i,""),n.flags&=-33);var o=lk(e);N$(e,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=lk(e);I$(e,s,a);break;default:throw Error(Et(161))}}catch(l){jn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fJ(e,t,r){Mt=e,X3(e)}function X3(e,t,r){for(var n=(e.mode&1)!==0;Mt!==null;){var i=Mt,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||uv;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||ji;s=uv;var u=ji;if(uv=a,(ji=l)&&!u)for(Mt=i;Mt!==null;)a=Mt,l=a.child,a.tag===22&&a.memoizedState!==null?dk(i):l!==null?(l.return=a,Mt=l):dk(i);for(;o!==null;)Mt=o,X3(o),o=o.sibling;Mt=i,uv=s,ji=u}ck(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Mt=o):ck(e)}}function ck(e){for(;Mt!==null;){var t=Mt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ji||m_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ji)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Ya(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&KC(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}KC(t,a,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&wm(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Et(163))}ji||t.flags&512&&R$(t)}catch(h){jn(t,t.return,h)}}if(t===e){Mt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function fk(e){for(;Mt!==null;){var t=Mt;if(t===e){Mt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function dk(e){for(;Mt!==null;){var t=Mt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{m_(4,t)}catch(l){jn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){jn(t,i,l)}}var o=t.return;try{R$(t)}catch(l){jn(t,o,l)}break;case 5:var a=t.return;try{R$(t)}catch(l){jn(t,a,l)}}}catch(l){jn(t,t.return,l)}if(t===e){Mt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Mt=s;break}Mt=t.return}}var dJ=Math.ceil,ob=Dl.ReactCurrentDispatcher,EO=Dl.ReactCurrentOwner,Aa=Dl.ReactCurrentBatchConfig,kr=0,ui=null,Jn=null,$i=0,Bo=0,kd=Wu(0),ri=0,Rm=null,gf=0,g_=0,SO=0,Jp=null,vo=null,$O=0,dh=1/0,fl=null,ab=!1,C$=null,Du=null,cv=!1,Au=null,sb=0,Yp=0,k$=null,py=-1,my=0;function Zi(){return kr&6?zn():py!==-1?py:py=zn()}function Mu(e){return e.mode&1?kr&2&&$i!==0?$i&-$i:JK.transition!==null?(my===0&&(my=jF()),my):(e=Qr,e!==0||(e=window.event,e=e===void 0?16:zF(e.type)),e):1}function is(e,t,r,n){if(50<Yp)throw Yp=0,k$=null,Error(Et(185));Zm(e,r,n),(!(kr&2)||e!==ui)&&(e===ui&&(!(kr&2)&&(g_|=r),ri===4&&Eu(e,$i)),So(e,n),r===1&&kr===0&&!(t.mode&1)&&(dh=zn()+500,d_&&Ku()))}function So(e,t){var r=e.callbackNode;JW(e,t);var n=Vw(e,e===ui?$i:0);if(n===0)r!==null&&_C(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&_C(r),t===1)e.tag===0?KK(hk.bind(null,e)):s3(hk.bind(null,e)),VK(function(){!(kr&6)&&Ku()}),r=null;else{switch(DF(n)){case 1:r=Yx;break;case 4:r=CF;break;case 16:r=qw;break;case 536870912:r=kF;break;default:r=qw}r=o4(r,Q3.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Q3(e,t){if(py=-1,my=0,kr&6)throw Error(Et(327));var r=e.callbackNode;if(Gd()&&e.callbackNode!==r)return null;var n=Vw(e,e===ui?$i:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=lb(e,n);else{t=n;var i=kr;kr|=2;var o=e4();(ui!==e||$i!==t)&&(fl=null,dh=zn()+500,ef(e,t));do try{mJ();break}catch(s){Z3(e,s)}while(!0);uO(),ob.current=o,kr=i,Jn!==null?t=0:(ui=null,$i=0,t=ri)}if(t!==0){if(t===2&&(i=s$(e),i!==0&&(n=i,t=j$(e,i))),t===1)throw r=Rm,ef(e,0),Eu(e,n),So(e,zn()),r;if(t===6)Eu(e,n);else{if(i=e.current.alternate,!(n&30)&&!hJ(i)&&(t=lb(e,n),t===2&&(o=s$(e),o!==0&&(n=o,t=j$(e,o))),t===1))throw r=Rm,ef(e,0),Eu(e,n),So(e,zn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Et(345));case 2:kc(e,vo,fl);break;case 3:if(Eu(e,n),(n&130023424)===n&&(t=$O+500-zn(),10<t)){if(Vw(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Zi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=m$(kc.bind(null,e,vo,fl),t);break}kc(e,vo,fl);break;case 4:if(Eu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-ns(n);o=1<<a,a=t[a],a>i&&(i=a),n&=~o}if(n=i,n=zn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*dJ(n/1960))-n,10<n){e.timeoutHandle=m$(kc.bind(null,e,vo,fl),n);break}kc(e,vo,fl);break;case 5:kc(e,vo,fl);break;default:throw Error(Et(329))}}}return So(e,zn()),e.callbackNode===r?Q3.bind(null,e):null}function j$(e,t){var r=Jp;return e.current.memoizedState.isDehydrated&&(ef(e,t).flags|=256),e=lb(e,t),e!==2&&(t=vo,vo=r,t!==null&&D$(t)),e}function D$(e){vo===null?vo=e:vo.push.apply(vo,e)}function hJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!os(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Eu(e,t){for(t&=~SO,t&=~g_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ns(t),n=1<<r;e[r]=-1,t&=~n}}function hk(e){if(kr&6)throw Error(Et(327));Gd();var t=Vw(e,0);if(!(t&1))return So(e,zn()),null;var r=lb(e,t);if(e.tag!==0&&r===2){var n=s$(e);n!==0&&(t=n,r=j$(e,n))}if(r===1)throw r=Rm,ef(e,0),Eu(e,t),So(e,zn()),r;if(r===6)throw Error(Et(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,vo,fl),So(e,zn()),null}function TO(e,t){var r=kr;kr|=1;try{return e(t)}finally{kr=r,kr===0&&(dh=zn()+500,d_&&Ku())}}function vf(e){Au!==null&&Au.tag===0&&!(kr&6)&&Gd();var t=kr;kr|=1;var r=Aa.transition,n=Qr;try{if(Aa.transition=null,Qr=1,e)return e()}finally{Qr=n,Aa.transition=r,kr=t,!(kr&6)&&Ku()}}function AO(){Bo=kd.current,vn(kd)}function ef(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,qK(r)),Jn!==null)for(r=Jn.return;r!==null;){var n=r;switch(aO(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Jw();break;case 3:ch(),vn(_o),vn(Bi),mO();break;case 5:pO(n);break;case 4:ch();break;case 13:vn(On);break;case 19:vn(On);break;case 10:cO(n.type._context);break;case 22:case 23:AO()}r=r.return}if(ui=e,Jn=e=Lu(e.current,null),$i=Bo=t,ri=0,Rm=null,SO=g_=gf=0,vo=Jp=null,Gc!==null){for(t=0;t<Gc.length;t++)if(r=Gc[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}Gc=null}return e}function Z3(e,t){do{var r=Jn;try{if(uO(),fy.current=ib,nb){for(var n=Rn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}nb=!1}if(mf=0,si=Zn=Rn=null,Wp=!1,Pm=0,EO.current=null,r===null||r.return===null){ri=1,Rm=t,Jn=null;break}e:{var o=e,a=r.return,s=r,l=t;if(t=$i,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=s,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=ek(a);if(m!==null){m.flags&=-257,tk(m,a,s,o,t),m.mode&1&&ZC(o,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var _=new Set;_.add(l),t.updateQueue=_}else g.add(l);break e}else{if(!(t&1)){ZC(o,u,t),PO();break e}l=Error(Et(426))}}else if($n&&s.mode&1){var v=ek(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),tk(v,a,s,o,t),sO(fh(l,s));break e}}o=l=fh(l,s),ri!==4&&(ri=2),Jp===null?Jp=[o]:Jp.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=D3(o,l,t);WC(o,p);break e;case 1:s=l;var E=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Du===null||!Du.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=M3(o,s,t);WC(o,S);break e}}o=o.return}while(o!==null)}r4(r)}catch($){t=$,Jn===r&&r!==null&&(Jn=r=r.return);continue}break}while(!0)}function e4(){var e=ob.current;return ob.current=ib,e===null?ib:e}function PO(){(ri===0||ri===3||ri===2)&&(ri=4),ui===null||!(gf&268435455)&&!(g_&268435455)||Eu(ui,$i)}function lb(e,t){var r=kr;kr|=2;var n=e4();(ui!==e||$i!==t)&&(fl=null,ef(e,t));do try{pJ();break}catch(i){Z3(e,i)}while(!0);if(uO(),kr=r,ob.current=n,Jn!==null)throw Error(Et(261));return ui=null,$i=0,ri}function pJ(){for(;Jn!==null;)t4(Jn)}function mJ(){for(;Jn!==null&&!BW();)t4(Jn)}function t4(e){var t=i4(e.alternate,e,Bo);e.memoizedProps=e.pendingProps,t===null?r4(e):Jn=t,EO.current=null}function r4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=lJ(r,t),r!==null){r.flags&=32767,Jn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ri=6,Jn=null;return}}else if(r=sJ(r,t,Bo),r!==null){Jn=r;return}if(t=t.sibling,t!==null){Jn=t;return}Jn=t=e}while(t!==null);ri===0&&(ri=5)}function kc(e,t,r){var n=Qr,i=Aa.transition;try{Aa.transition=null,Qr=1,gJ(e,t,r,n)}finally{Aa.transition=i,Qr=n}return null}function gJ(e,t,r,n){do Gd();while(Au!==null);if(kr&6)throw Error(Et(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Et(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(YW(e,o),e===ui&&(Jn=ui=null,$i=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||cv||(cv=!0,o4(qw,function(){return Gd(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Aa.transition,Aa.transition=null;var a=Qr;Qr=1;var s=kr;kr|=4,EO.current=null,cJ(e,r),Y3(r,e),DK(h$),Hw=!!d$,h$=d$=null,e.current=r,fJ(r),UW(),kr=s,Qr=a,Aa.transition=o}else e.current=r;if(cv&&(cv=!1,Au=e,sb=i),o=e.pendingLanes,o===0&&(Du=null),VW(r.stateNode),So(e,zn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ab)throw ab=!1,e=C$,C$=null,e;return sb&1&&e.tag!==0&&Gd(),o=e.pendingLanes,o&1?e===k$?Yp++:(Yp=0,k$=e):Yp=0,Ku(),null}function Gd(){if(Au!==null){var e=DF(sb),t=Aa.transition,r=Qr;try{if(Aa.transition=null,Qr=16>e?16:e,Au===null)var n=!1;else{if(e=Au,Au=null,sb=0,kr&6)throw Error(Et(331));var i=kr;for(kr|=4,Mt=e.current;Mt!==null;){var o=Mt,a=o.child;if(Mt.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Mt=u;Mt!==null;){var f=Mt;switch(f.tag){case 0:case 11:case 15:Kp(8,f,o)}var c=f.child;if(c!==null)c.return=f,Mt=c;else for(;Mt!==null;){f=Mt;var h=f.sibling,m=f.return;if(W3(f),f===u){Mt=null;break}if(h!==null){h.return=m,Mt=h;break}Mt=m}}}var g=o.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}Mt=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Mt=a;else e:for(;Mt!==null;){if(o=Mt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Kp(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,Mt=p;break e}Mt=o.return}}var E=e.current;for(Mt=E;Mt!==null;){a=Mt;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,Mt=y;else e:for(a=E;Mt!==null;){if(s=Mt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:m_(9,s)}}catch($){jn(s,s.return,$)}if(s===a){Mt=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Mt=S;break e}Mt=s.return}}if(kr=i,Ku(),qs&&typeof qs.onPostCommitFiberRoot=="function")try{qs.onPostCommitFiberRoot(s_,e)}catch{}n=!0}return n}finally{Qr=r,Aa.transition=t}}return!1}function pk(e,t,r){t=fh(r,t),t=D3(e,t,1),e=ju(e,t,1),t=Zi(),e!==null&&(Zm(e,1,t),So(e,t))}function jn(e,t,r){if(e.tag===3)pk(e,e,r);else for(;t!==null;){if(t.tag===3){pk(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Du===null||!Du.has(n))){e=fh(r,e),e=M3(t,e,1),t=ju(t,e,1),e=Zi(),t!==null&&(Zm(t,1,e),So(t,e));break}}t=t.return}}function vJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Zi(),e.pingedLanes|=e.suspendedLanes&r,ui===e&&($i&r)===r&&(ri===4||ri===3&&($i&130023424)===$i&&500>zn()-$O?ef(e,0):SO|=r),So(e,t)}function n4(e,t){t===0&&(e.mode&1?(t=ev,ev<<=1,!(ev&130023424)&&(ev=4194304)):t=1);var r=Zi();e=Rl(e,t),e!==null&&(Zm(e,t,r),So(e,r))}function yJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),n4(e,r)}function wJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Et(314))}n!==null&&n.delete(t),n4(e,r)}var i4;i4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_o.current)bo=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return bo=!1,aJ(e,t,r);bo=!!(e.flags&131072)}else bo=!1,$n&&t.flags&1048576&&l3(t,Qw,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;hy(e,t),e=t.pendingProps;var i=sh(t,Bi.current);Hd(t,r),i=vO(null,t,n,e,i,r);var o=yO();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Eo(n)?(o=!0,Yw(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dO(t),i.updater=p_,t.stateNode=i,i._reactInternals=t,E$(t,n,e,r),t=T$(null,t,n,!0,o,r)):(t.tag=0,$n&&o&&oO(t),Wi(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(hy(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=_J(n),e=Ya(n,e),i){case 0:t=$$(null,t,n,e,r);break e;case 1:t=ik(null,t,n,e,r);break e;case 11:t=rk(null,t,n,e,r);break e;case 14:t=nk(null,t,n,Ya(n.type,e),r);break e}throw Error(Et(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ya(n,i),$$(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ya(n,i),ik(e,t,n,i,r);case 3:e:{if(U3(t),e===null)throw Error(Et(387));n=t.pendingProps,o=t.memoizedState,i=o.element,p3(e,t),tb(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=fh(Error(Et(423)),t),t=ok(e,t,n,r,i);break e}else if(n!==i){i=fh(Error(Et(424)),t),t=ok(e,t,n,r,i);break e}else for(Vo=ku(t.stateNode.containerInfo.firstChild),Go=t,$n=!0,Za=null,r=d3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(lh(),n===i){t=Il(e,t,r);break e}Wi(e,t,n,r)}t=t.child}return t;case 5:return m3(t),e===null&&w$(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,p$(n,i)?a=null:o!==null&&p$(n,o)&&(t.flags|=32),B3(e,t),Wi(e,t,a,r),t.child;case 6:return e===null&&w$(t),null;case 13:return z3(e,t,r);case 4:return hO(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=uh(t,null,n,r):Wi(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ya(n,i),rk(e,t,n,i,r);case 7:return Wi(e,t,t.pendingProps,r),t.child;case 8:return Wi(e,t,t.pendingProps.children,r),t.child;case 12:return Wi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,fn(Zw,n._currentValue),n._currentValue=a,o!==null)if(os(o.value,a)){if(o.children===i.children&&!_o.current){t=Il(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Al(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),b$(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Et(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),b$(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Wi(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Hd(t,r),i=xa(i),n=n(i),t.flags|=1,Wi(e,t,n,r),t.child;case 14:return n=t.type,i=Ya(n,t.pendingProps),i=Ya(n.type,i),nk(e,t,n,i,r);case 15:return L3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ya(n,i),hy(e,t),t.tag=1,Eo(n)?(e=!0,Yw(t)):e=!1,Hd(t,r),j3(t,n,i),E$(t,n,i,r),T$(null,t,n,!0,e,r);case 19:return q3(e,t,r);case 22:return F3(e,t,r)}throw Error(Et(156,t.tag))};function o4(e,t){return NF(e,t)}function bJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ta(e,t,r,n){return new bJ(e,t,r,n)}function xO(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _J(e){if(typeof e=="function")return xO(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wx)return 11;if(e===Kx)return 14}return 2}function Lu(e,t){var r=e.alternate;return r===null?(r=Ta(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gy(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")xO(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case $d:return tf(r.children,i,o,t);case Gx:a=8,i|=8;break;case G1:return e=Ta(12,r,t,i|2),e.elementType=G1,e.lanes=o,e;case W1:return e=Ta(13,r,t,i),e.elementType=W1,e.lanes=o,e;case K1:return e=Ta(19,r,t,i),e.elementType=K1,e.lanes=o,e;case mF:return v_(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hF:a=10;break e;case pF:a=9;break e;case Wx:a=11;break e;case Kx:a=14;break e;case yu:a=16,n=null;break e}throw Error(Et(130,e==null?e:typeof e,""))}return t=Ta(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function tf(e,t,r,n){return e=Ta(7,e,n,t),e.lanes=r,e}function v_(e,t,r,n){return e=Ta(22,e,n,t),e.elementType=mF,e.lanes=r,e.stateNode={isHidden:!1},e}function fS(e,t,r){return e=Ta(6,e,null,t),e.lanes=r,e}function dS(e,t,r){return t=Ta(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function EJ(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=GE(0),this.expirationTimes=GE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=GE(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function OO(e,t,r,n,i,o,a,s,l){return e=new EJ(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ta(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dO(o),e}function SJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function a4(e){if(!e)return qu;e=e._reactInternals;e:{if(Of(e)!==e||e.tag!==1)throw Error(Et(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Eo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Et(171))}if(e.tag===1){var r=e.type;if(Eo(r))return a3(e,r,t)}return t}function s4(e,t,r,n,i,o,a,s,l){return e=OO(r,n,!0,e,i,o,a,s,l),e.context=a4(null),r=e.current,n=Zi(),i=Mu(r),o=Al(n,i),o.callback=t??null,ju(r,o,i),e.current.lanes=i,Zm(e,i,n),So(e,n),e}function y_(e,t,r,n){var i=t.current,o=Zi(),a=Mu(i);return r=a4(r),t.context===null?t.context=r:t.pendingContext=r,t=Al(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ju(i,t,a),e!==null&&(is(e,i,a,o),cy(e,i,a)),a}function ub(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function RO(e,t){mk(e,t),(e=e.alternate)&&mk(e,t)}function $J(){return null}var l4=typeof reportError=="function"?reportError:function(e){console.error(e)};function IO(e){this._internalRoot=e}w_.prototype.render=IO.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Et(409));y_(e,t,null,null)};w_.prototype.unmount=IO.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vf(function(){y_(null,e,null,null)}),t[Ol]=null}};function w_(e){this._internalRoot=e}w_.prototype.unstable_scheduleHydration=function(e){if(e){var t=FF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<_u.length&&t!==0&&t<_u[r].priority;r++);_u.splice(r,0,e),r===0&&UF(e)}};function NO(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function b_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gk(){}function TJ(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=ub(a);o.call(u)}}var a=s4(t,n,e,0,null,!1,!1,"",gk);return e._reactRootContainer=a,e[Ol]=a.current,Em(e.nodeType===8?e.parentNode:e),vf(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=ub(l);s.call(u)}}var l=OO(e,0,!1,null,null,!1,!1,"",gk);return e._reactRootContainer=l,e[Ol]=l.current,Em(e.nodeType===8?e.parentNode:e),vf(function(){y_(t,l,r,n)}),l}function __(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=ub(a);s.call(l)}}y_(t,a,e,i)}else a=TJ(r,t,e,i,n);return ub(a)}MF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=wp(t.pendingLanes);r!==0&&(Xx(t,r|1),So(t,zn()),!(kr&6)&&(dh=zn()+500,Ku()))}break;case 13:vf(function(){var n=Rl(e,1);if(n!==null){var i=Zi();is(n,e,1,i)}}),RO(e,1)}};Qx=function(e){if(e.tag===13){var t=Rl(e,134217728);if(t!==null){var r=Zi();is(t,e,134217728,r)}RO(e,134217728)}};LF=function(e){if(e.tag===13){var t=Mu(e),r=Rl(e,t);if(r!==null){var n=Zi();is(r,e,t,n)}RO(e,t)}};FF=function(){return Qr};BF=function(e,t){var r=Qr;try{return Qr=e,t()}finally{Qr=r}};i$=function(e,t,r){switch(t){case"input":if(X1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=f_(n);if(!i)throw Error(Et(90));vF(n),X1(n,i)}}}break;case"textarea":wF(e,r);break;case"select":t=r.value,t!=null&&Ud(e,!!r.multiple,t,!1)}};AF=TO;PF=vf;var AJ={usingClientEntryPoint:!1,Events:[tg,xd,f_,$F,TF,TO]},tp={findFiberByHostInstance:Hc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PJ={bundleType:tp.bundleType,version:tp.version,rendererPackageName:tp.rendererPackageName,rendererConfig:tp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=RF(e),e===null?null:e.stateNode},findFiberByHostInstance:tp.findFiberByHostInstance||$J,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fv.isDisabled&&fv.supportsFiber)try{s_=fv.inject(PJ),qs=fv}catch{}}Jo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AJ;Jo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!NO(t))throw Error(Et(200));return SJ(e,t,null,r)};Jo.createRoot=function(e,t){if(!NO(e))throw Error(Et(299));var r=!1,n="",i=l4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=OO(e,1,!1,null,null,r,!1,n,i),e[Ol]=t.current,Em(e.nodeType===8?e.parentNode:e),new IO(t)};Jo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Et(188)):(e=Object.keys(e).join(","),Error(Et(268,e)));return e=RF(t),e=e===null?null:e.stateNode,e};Jo.flushSync=function(e){return vf(e)};Jo.hydrate=function(e,t,r){if(!b_(t))throw Error(Et(200));return __(null,e,t,!0,r)};Jo.hydrateRoot=function(e,t,r){if(!NO(e))throw Error(Et(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=l4;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=s4(t,null,e,1,r??null,i,!1,o,a),e[Ol]=t.current,Em(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new w_(t)};Jo.render=function(e,t,r){if(!b_(t))throw Error(Et(200));return __(null,e,t,!1,r)};Jo.unmountComponentAtNode=function(e){if(!b_(e))throw Error(Et(40));return e._reactRootContainer?(vf(function(){__(null,null,e,!1,function(){e._reactRootContainer=null,e[Ol]=null})}),!0):!1};Jo.unstable_batchedUpdates=TO;Jo.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!b_(r))throw Error(Et(200));if(e==null||e._reactInternals===void 0)throw Error(Et(38));return __(e,t,r,!1,n)};Jo.version="18.3.1-next-f1338f8080-20240426";function u4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u4)}catch(e){console.error(e)}}u4(),uF.exports=Jo;var c4=uF.exports;const Ml=Pf(c4);var vk=c4;V1.createRoot=vk.createRoot,V1.hydrateRoot=vk.hydrateRoot;const An=lt.createContext({offlineTD:"",isValidJSON:!0,parsedTD:{},isModified:!1,name:"",fileHandle:"",linkedTd:{},validationMessage:void 0,updateOfflineTD:e=>{},updateIsModified:e=>{},setFileHandle:e=>{},removeForm:(e,t,r)=>{},addForm:(e,t,r)=>{},removeLink:e=>{},removeOneOfAKindReducer:(e,t)=>{},addLinkedTd:e=>{},updateLinkedTd:e=>{},updateValidationMessage:e=>{}}),f4="UPDATE_OFFLINE_TD",d4="UPDATE_IS_MODFIED",h4="SET_FILE_HANDLE",p4="REMOVE_FORM_FROM_TD",m4="REMOVE_LINK_FROM_TD",g4="ADD_FORM_TO_TD",v4="REMOVE_ONE_OF_A_KIND_FROM_TD",y4="ADD_LINKED_TD",w4="UPDATE_LINKED_TD",b4="UPDATE_VALIDATION_MESSAGE",xJ=(e,t)=>{switch(t.type){case f4:return OJ(t.offlineTD,e);case d4:return DJ(t.isModified,e);case h4:return MJ(t.fileHandle,e);case p4:return RJ(t.level,t.interactionName,t.toBeDeletedForm,t.index,e);case m4:return IJ(t.link,e);case v4:return NJ(t.kind,t.oneOfAKindName,e);case g4:return CJ(t.level,t.interactionName,t.form,e);case y4:return kJ(t.linkedTd,e);case w4:return jJ(t.linkedTd,e);case b4:return LJ(t.validationMessage,e);default:return e}},OJ=(e,t)=>{if(e==t.offlineTD)return t;if(e==="")return{...t,offlineTD:"",isModified:!0,isValidJSON:!0,parsedTD:{}};let r;try{r=JSON.parse(e)}catch(i){return console.error(i.message),{...t,offlineTD:e,isModified:!0,isValidJSON:!1,parsedTD:t.parsedTD}}let n=t.linkedTd;if(!n)n={[r.title||"ediTDor Thing"]:r};else if(n&&typeof t.fileHandle!="object"&&document.getElementById("linkedTd")){const i=document.getElementById("linkedTd").value;i===""?n[r.title||"ediTDor Thing"]=r:n[i]=r}return{...t,offlineTD:e,isModified:!0,isValidJSON:!0,linkedTd:n,parsedTD:r}},RJ=(e,t,r,n,i)=>{var s,l;if(!i.isValidJSON)return i;let o=structuredClone(i.parsedTD),a;if(e==="thing"){if(!o.forms||!Array.isArray(o.forms))return i;a=o.forms}else{if(!o[e]||!o[e][t]||!o[e][t].forms||!Array.isArray(o[e][t].forms))return i;a=o[e][t].forms}if(!a||n>a.length-1)return i;if((s=a[n])!=null&&s.op&&Array.isArray(a[n].op)){const u=a[n].op.indexOf(r.op);if(u===-1)return i;a[n].op.splice(u,1),a[n].op.length==0&&a.splice(n,1)}else((l=a[n])==null?void 0:l.op)===r.op&&a.splice(n,1);return{...i,offlineTD:JSON.stringify(o,null,2),parsedTD:o}},IJ=(e,t)=>{if(!t.isValidJSON)return t;let r=structuredClone(t.parsedTD);try{r.links.splice(e,1)}catch{alert("Sorry we were unable to delete the Link.")}let n=t.linkedTd;if(n&&typeof t.fileHandle!="object"&&document.getElementById("linkedTd")){let i=document.getElementById("linkedTd").value;i===""?n[r.title||"ediTDor Thing"]=r:n[i]=r}return{...t,offlineTD:JSON.stringify(r,null,2),linkedTd:n,parsedTD:r}},NJ=(e,t,r)=>{if(!r.isValidJSON)return r;let n=structuredClone(r.parsedTD);try{delete n[e][t]}catch{alert("Sorry we were unable to delete the Form.")}return{...r,offlineTD:JSON.stringify(n,null,2),parsedTD:n}},CJ=(e,t,r,n)=>{if(!n.isValidJSON)return n;let i=structuredClone(n.parsedTD);if(e=="thing")return i.forms&&!Array.isArray(i.forms)?n:(i.forms||(i.forms=[]),i.forms.push(r),{...n,offlineTD:JSON.stringify(i,null,2),parsedTD:i});if(!i[e]||!i[e][t])return n;const o=i[e][t];return o.forms||(o.forms=[]),o.forms.push(r),{...n,offlineTD:JSON.stringify(i,null,2),parsedTD:i}},kJ=(e,t)=>{let r=structuredClone(t.linkedTd),n={};return r===void 0?n=e:n=Object.assign(r,e),{...t,linkedTd:n}},jJ=(e,t)=>({...t,linkedTd:e}),DJ=(e,t)=>({...t,isModified:e}),MJ=(e,t)=>({...t,fileHandle:e}),LJ=(e,t)=>({...t,validationMessage:e}),FJ=e=>{const[t,r]=Me.useReducer(xJ,{offlineTD:"",validationMessage:"",parsedTD:{},isValidJSON:!0}),n=m=>{r({type:f4,offlineTD:m})},i=m=>{r({type:d4,isModified:m})},o=m=>{r({type:h4,fileHandle:m})},a=m=>{r({type:m4,link:m})},s=(m,g,_)=>{r({type:g4,level:m,interactionName:g,form:_})},l=(m,g,_,v)=>{r({type:p4,level:m,interactionName:g,toBeDeletedForm:_,index:v})},u=(m,g)=>{r({type:v4,kind:m,oneOfAKindName:g})},f=m=>{r({type:y4,linkedTd:m})},c=m=>{r({type:w4,linkedTd:m})},h=m=>{r({type:b4,validationMessage:m})};return pe.jsx(An.Provider,{value:{offlineTD:t.offlineTD,isModified:t.isModified,isValidJSON:t.isValidJSON,parsedTD:t.parsedTD,name:t.name,fileHandle:t.fileHandle,linkedTd:t.linkedTd,validationMessage:t.validationMessage,updateOfflineTD:n,updateIsModified:i,setFileHandle:o,removeLink:a,addForm:s,removeForm:l,removeOneOfAKindReducer:u,addLinkedTd:f,updateLinkedTd:c,updateValidationMessage:h},children:e.children})};function BJ(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(r),!0).forEach(function(n){BJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UJ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function zJ(e,t){if(e==null)return{};var r=UJ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qJ(e,t){return VJ(e)||HJ(e,t)||GJ(e,t)||WJ()}function VJ(e){if(Array.isArray(e))return e}function HJ(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(n=(s=a.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw o}}return r}}function GJ(e,t){if(e){if(typeof e=="string")return bk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bk(e,t)}}function bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KJ(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ek(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(r),!0).forEach(function(n){KJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JJ(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(i,o){return o(i)},n)}}function _p(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(r,[].concat(i,s))}}}function cb(e){return{}.toString.call(e).includes("Object")}function YJ(e){return!Object.keys(e).length}function Im(e){return typeof e=="function"}function XJ(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function QJ(e,t){return cb(t)||Fu("changeType"),Object.keys(t).some(function(r){return!XJ(e,r)})&&Fu("changeField"),t}function ZJ(e){Im(e)||Fu("selectorType")}function eY(e){Im(e)||cb(e)||Fu("handlerType"),cb(e)&&Object.values(e).some(function(t){return!Im(t)})&&Fu("handlersType")}function tY(e){e||Fu("initialIsRequired"),cb(e)||Fu("initialType"),YJ(e)&&Fu("initialContent")}function rY(e,t){throw new Error(e[t]||e.default)}var nY={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Fu=_p(rY)(nY),dv={changes:QJ,selector:ZJ,handler:eY,initial:tY};function iY(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};dv.initial(e),dv.handler(t);var r={current:e},n=_p(sY)(r,t),i=_p(aY)(r),o=_p(dv.changes)(e),a=_p(oY)(r);function s(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return dv.selector(u),u(r.current)}function l(u){JJ(n,i,o,a)(u)}return[s,l]}function oY(e,t){return Im(t)?t(e.current):t}function aY(e,t){return e.current=Ek(Ek({},e.current),t),t}function sY(e,t,r){return Im(t)?t(e.current):Object.keys(r).forEach(function(n){var i;return(i=t[n])===null||i===void 0?void 0:i.call(t,e.current[n])}),r}var lY={create:iY},uY={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function cY(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(r,[].concat(i,s))}}}function fY(e){return{}.toString.call(e).includes("Object")}function dY(e){return e||Sk("configIsRequired"),fY(e)||Sk("configType"),e.urls?(hY(),{paths:{vs:e.urls.monacoBase}}):e}function hY(){console.warn(_4.deprecation)}function pY(e,t){throw new Error(e[t]||e.default)}var _4={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Sk=cY(pY)(_4),mY={config:dY},gY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(i){return r.reduceRight(function(o,a){return a(o)},i)}};function E4(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],E4(e[r],t[r]))}),wk(wk({},e),t)}var vY={type:"cancelation",msg:"operation is manually canceled"};function hS(e){var t=!1,r=new Promise(function(n,i){e.then(function(o){return t?i(vY):n(o)}),e.catch(i)});return r.cancel=function(){return t=!0},r}var yY=lY.create({config:uY,isInitialized:!1,resolve:null,reject:null,monaco:null}),S4=qJ(yY,2),ng=S4[0],E_=S4[1];function wY(e){var t=mY.config(e),r=t.monaco,n=zJ(t,["monaco"]);E_(function(i){return{config:E4(i.config,n),monaco:r}})}function bY(){var e=ng(function(t){var r=t.monaco,n=t.isInitialized,i=t.resolve;return{monaco:r,isInitialized:n,resolve:i}});if(!e.isInitialized){if(E_({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),hS(pS);if(window.monaco&&window.monaco.editor)return $4(window.monaco),e.resolve(window.monaco),hS(pS);gY(_Y,SY)($Y)}return hS(pS)}function _Y(e){return document.body.appendChild(e)}function EY(e){var t=document.createElement("script");return e&&(t.src=e),t}function SY(e){var t=ng(function(n){var i=n.config,o=n.reject;return{config:i,reject:o}}),r=EY("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function $Y(){var e=ng(function(r){var n=r.config,i=r.resolve,o=r.reject;return{config:n,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){$4(r),e.resolve(r)},function(r){e.reject(r)})}function $4(e){ng().monaco||E_({monaco:e})}function TY(){return ng(function(e){var t=e.monaco;return t})}var pS=new Promise(function(e,t){return E_({resolve:e,reject:t})}),T4={config:wY,init:bY,__getMonacoInstance:TY},AY={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},mS=AY,PY={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},xY=PY;function OY({children:e}){return lt.createElement("div",{style:xY.container},e)}var RY=OY,IY=RY;function NY({width:e,height:t,isEditorReady:r,loading:n,_ref:i,className:o,wrapperProps:a}){return lt.createElement("section",{style:{...mS.wrapper,width:e,height:t},...a},!r&&lt.createElement(IY,null,n),lt.createElement("div",{ref:i,style:{...mS.fullWidth,...!r&&mS.hide},className:o}))}var CY=NY,A4=Me.memo(CY);function kY(e){Me.useEffect(e,[])}var P4=kY;function jY(e,t,r=!0){let n=Me.useRef(!0);Me.useEffect(n.current||!r?()=>{n.current=!1}:e,t)}var Uo=jY;function Xp(){}function jd(e,t,r,n){return DY(e,n)||MY(e,t,r,n)}function DY(e,t){return e.editor.getModel(x4(e,t))}function MY(e,t,r,n){return e.editor.createModel(t,r,n?x4(e,n):void 0)}function x4(e,t){return e.Uri.parse(t)}function LY({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:a,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:f="Loading...",options:c={},height:h="100%",width:m="100%",className:g,wrapperProps:_={},beforeMount:v=Xp,onMount:p=Xp}){let[E,y]=Me.useState(!1),[S,$]=Me.useState(!0),T=Me.useRef(null),d=Me.useRef(null),A=Me.useRef(null),P=Me.useRef(p),x=Me.useRef(v),D=Me.useRef(!1);P4(()=>{let G=T4.init();return G.then(Q=>(d.current=Q)&&$(!1)).catch(Q=>(Q==null?void 0:Q.type)!=="cancelation"&&console.error("Monaco initialization: error:",Q)),()=>T.current?X():G.cancel()}),Uo(()=>{if(T.current&&d.current){let G=T.current.getOriginalEditor(),Q=jd(d.current,e||"",n||r||"text",o||"");Q!==G.getModel()&&G.setModel(Q)}},[o],E),Uo(()=>{if(T.current&&d.current){let G=T.current.getModifiedEditor(),Q=jd(d.current,t||"",i||r||"text",a||"");Q!==G.getModel()&&G.setModel(Q)}},[a],E),Uo(()=>{let G=T.current.getModifiedEditor();G.getOption(d.current.editor.EditorOption.readOnly)?G.setValue(t||""):t!==G.getValue()&&(G.executeEdits("",[{range:G.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),G.pushUndoStop())},[t],E),Uo(()=>{var G,Q;(Q=(G=T.current)==null?void 0:G.getModel())==null||Q.original.setValue(e||"")},[e],E),Uo(()=>{let{original:G,modified:Q}=T.current.getModel();d.current.editor.setModelLanguage(G,n||r||"text"),d.current.editor.setModelLanguage(Q,i||r||"text")},[r,n,i],E),Uo(()=>{var G;(G=d.current)==null||G.editor.setTheme(u)},[u],E),Uo(()=>{var G;(G=T.current)==null||G.updateOptions(c)},[c],E);let F=Me.useCallback(()=>{var ce;if(!d.current)return;x.current(d.current);let G=jd(d.current,e||"",n||r||"text",o||""),Q=jd(d.current,t||"",i||r||"text",a||"");(ce=T.current)==null||ce.setModel({original:G,modified:Q})},[r,t,i,e,n,o,a]),V=Me.useCallback(()=>{var G;!D.current&&A.current&&(T.current=d.current.editor.createDiffEditor(A.current,{automaticLayout:!0,...c}),F(),(G=d.current)==null||G.editor.setTheme(u),y(!0),D.current=!0)},[c,u,F]);Me.useEffect(()=>{E&&P.current(T.current,d.current)},[E]),Me.useEffect(()=>{!S&&!E&&V()},[S,E,V]);function X(){var Q,ce,ee,ae;let G=(Q=T.current)==null?void 0:Q.getModel();s||((ce=G==null?void 0:G.original)==null||ce.dispose()),l||((ee=G==null?void 0:G.modified)==null||ee.dispose()),(ae=T.current)==null||ae.dispose()}return lt.createElement(A4,{width:m,height:h,isEditorReady:E,loading:f,_ref:A,className:g,wrapperProps:_})}var FY=LY;Me.memo(FY);function BY(e){let t=Me.useRef();return Me.useEffect(()=>{t.current=e},[e]),t.current}var UY=BY,hv=new Map;function zY({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:i,path:o,theme:a="light",line:s,loading:l="Loading...",options:u={},overrideServices:f={},saveViewState:c=!0,keepCurrentModel:h=!1,width:m="100%",height:g="100%",className:_,wrapperProps:v={},beforeMount:p=Xp,onMount:E=Xp,onChange:y,onValidate:S=Xp}){let[$,T]=Me.useState(!1),[d,A]=Me.useState(!0),P=Me.useRef(null),x=Me.useRef(null),D=Me.useRef(null),F=Me.useRef(E),V=Me.useRef(p),X=Me.useRef(),G=Me.useRef(n),Q=UY(o),ce=Me.useRef(!1),ee=Me.useRef(!1);P4(()=>{let B=T4.init();return B.then(K=>(P.current=K)&&A(!1)).catch(K=>(K==null?void 0:K.type)!=="cancelation"&&console.error("Monaco initialization: error:",K)),()=>x.current?M():B.cancel()}),Uo(()=>{var K,O,k,q;let B=jd(P.current,e||n||"",t||i||"",o||r||"");B!==((K=x.current)==null?void 0:K.getModel())&&(c&&hv.set(Q,(O=x.current)==null?void 0:O.saveViewState()),(k=x.current)==null||k.setModel(B),c&&((q=x.current)==null||q.restoreViewState(hv.get(o))))},[o],$),Uo(()=>{var B;(B=x.current)==null||B.updateOptions(u)},[u],$),Uo(()=>{!x.current||n===void 0||(x.current.getOption(P.current.editor.EditorOption.readOnly)?x.current.setValue(n):n!==x.current.getValue()&&(ee.current=!0,x.current.executeEdits("",[{range:x.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),x.current.pushUndoStop(),ee.current=!1))},[n],$),Uo(()=>{var K,O;let B=(K=x.current)==null?void 0:K.getModel();B&&i&&((O=P.current)==null||O.editor.setModelLanguage(B,i))},[i],$),Uo(()=>{var B;s!==void 0&&((B=x.current)==null||B.revealLine(s))},[s],$),Uo(()=>{var B;(B=P.current)==null||B.editor.setTheme(a)},[a],$);let ae=Me.useCallback(()=>{var B;if(!(!D.current||!P.current)&&!ce.current){V.current(P.current);let K=o||r,O=jd(P.current,n||e||"",t||i||"",K||"");x.current=(B=P.current)==null?void 0:B.editor.create(D.current,{model:O,automaticLayout:!0,...u},f),c&&x.current.restoreViewState(hv.get(K)),P.current.editor.setTheme(a),s!==void 0&&x.current.revealLine(s),T(!0),ce.current=!0}},[e,t,r,n,i,o,u,f,c,a,s]);Me.useEffect(()=>{$&&F.current(x.current,P.current)},[$]),Me.useEffect(()=>{!d&&!$&&ae()},[d,$,ae]),G.current=n,Me.useEffect(()=>{var B,K;$&&y&&((B=X.current)==null||B.dispose(),X.current=(K=x.current)==null?void 0:K.onDidChangeModelContent(O=>{ee.current||y(x.current.getValue(),O)}))},[$,y]),Me.useEffect(()=>{if($){let B=P.current.editor.onDidChangeMarkers(K=>{var k;let O=(k=x.current.getModel())==null?void 0:k.uri;if(O&&K.find(q=>q.path===O.path)){let q=P.current.editor.getModelMarkers({resource:O});S==null||S(q)}});return()=>{B==null||B.dispose()}}return()=>{}},[$,S]);function M(){var B,K;(B=X.current)==null||B.dispose(),h?c&&hv.set(o,x.current.saveViewState()):(K=x.current.getModel())==null||K.dispose(),x.current.dispose()}return lt.createElement(A4,{width:m,height:g,isEditorReady:$,loading:l,_ref:D,className:_,wrapperProps:v})}var qY=zY,VY=Me.memo(qY),HY=VY;const O4="---",R4="A-Za-z--------",GY=new RegExp("^[^"+R4+"]*["+O4+"]"),WY=new RegExp("^[^"+O4+"]*["+R4+"]");function $k(e){const t=String(e||"");return GY.test(t)?"rtl":WY.test(t)?"ltr":"neutral"}const I4=e=>!(typeof e=="object"&&!Array.isArray(e)&&e!==null)||!e.hasOwnProperty("@type")?!1:e["@type"].indexOf("tm:ThingModel")>-1,S_=(e,t,r)=>{let n={...e};for(const[i,o]of Object.entries(t))r.includes(i)||(n[i]=o);return n},$_=e=>{if(e===void 0&&!e)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];if(!Array.isArray(n.op)){n.actualIndex=r,t.push(n);continue}for(let i=0;i<n.op.length;i++){const o={...n};o.op=n.op[i],o.actualIndex=r,t.push(o)}}return t},KY=(e,t)=>{for(const r of t.links)if(r.href===e.href)return!0;return!1},JY=(e,t)=>{for(const r of t.forms){if(typeof e.op=="string")return YY(e,r);for(const n of e.op)if(typeof r.op=="string"){if(r.op===n)return!0}else if(r.op.includes(n)){let i=!0;for(const o in e)o!=="op"&&r[o]!==e[o]&&(i=!1);if(i)return!0}}return!1},YY=(e,t)=>{if(typeof t.op=="string"){if(t.op===e.op)return!0}else if(t.op.includes(e.op)){let r=!0;for(const n in e)n!=="op"&&t[n]!==e[n]&&(r=!1);if(r)return!0}},CO=async(e,t)=>{var r;if(e.linkedTd[t].kind==="file"){try{e.isModified&&e.fileHandle&&(r=await e.fileHandle.createWritable(),await r.write(e.offlineTD),await r.close())}catch(s){console.error(s.message)}let n=e.linkedTd[t];const i=await n.getFile(),o=JSON.parse(await i.text());let a=JSON.stringify(o,null,2);e.setFileHandle(n),e.updateOfflineTD(a),e.updateIsModified(!1),document.getElementById("linkedTd").value=t}else if(Object.keys(e.linkedTd[t]).length){try{e.isModified&&e.fileHandle&&(r=await e.fileHandle.createWritable(),await r.write(e.offlineTD),await r.close())}catch(o){console.error(o.message)}e.setFileHandle(void 0);const n=e.linkedTd[t];let i=JSON.stringify(n,null,2);e.updateOfflineTD(i),e.updateIsModified(!1),document.getElementById("linkedTd").value=t}},M$=(e,t,r)=>{if(!e[t])return"";const n="",i="",o={ar:"rtl",fa:"rtl",ps:"rtl",ur:"rtl",hy:"ltr",as:"ltr",bn:"ltr",zb:"ltr",ab:"ltr",be:"ltr",bg:"ltr",kk:"ltr",mk:"ltr",ru:"ltr",uk:"ltr",hi:"ltr",mr:"ltr",ne:"ltr",ko:"ltr",ma:"ltr",am:"ltr",ti:"ltr",ka:"ltr",el:"ltr",gu:"ltr",pa:"ltr",he:"rtl",iw:"rtl",yi:"rtl",ja:"ltr",km:"ltr",kn:"ltr",lo:"ltr",af:"ltr",ay:"ltr",bs:"ltr",ca:"ltr",ch:"ltr",cs:"ltr",cy:"ltr",da:"ltr",de:"ltr",en:"ltr",eo:"ltr",es:"ltr",et:"ltr",eu:"ltr",fi:"ltr",fj:"ltr",fo:"ltr",fr:"ltr",fy:"ltr",ga:"ltr",gl:"ltr",gn:"ltr",gv:"ltr",hr:"ltr",ht:"ltr",hu:"ltr",id:"ltr",in:"ltr",is:"ltr",it:"ltr",kl:"ltr",la:"ltr",lb:"ltr",ln:"ltr",lt:"ltr",lv:"ltr",mg:"ltr",mh:"ltr",mo:"ltr",ms:"ltr",mt:"ltr",na:"ltr",nb:"ltr",nd:"ltr",nl:"ltr",nn:"ltr",no:"ltr",nr:"ltr",ny:"ltr",om:"ltr",pl:"ltr",pt:"ltr",qu:"ltr",rm:"ltr",rn:"ltr",ro:"ltr",rw:"ltr",sg:"ltr",sk:"ltr",sl:"ltr",sm:"ltr",so:"ltr",sq:"ltr",ss:"ltr",st:"ltr",sv:"ltr",sw:"ltr",tl:"ltr",tn:"ltr",to:"ltr",tr:"ltr",ts:"ltr",ve:"ltr",vi:"ltr",xh:"ltr",zu:"ltr",ds:"ltr",gs:"ltr",hs:"ltr",me:"ltr",ni:"ltr",ns:"ltr",te:"ltr",tk:"ltr",tm:"ltr",tp:"ltr",tv:"ltr",ml:"ltr",my:"ltr",nq:"ltr",or:"ltr",si:"ltr",ta:"ltr",dv:"rtl",th:"ltr",dz:"ltr"},a=u=>u==="ltr"?n:i;if(!["title","description"].includes(t)&&!/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t))return a($k(e[t].toString()))+e[t];if(/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t)){const u=t.includes("-")?t.split("-")[0]:t.toLowerCase(),f=o[u];return f?a(f)+e[t]:a("ltr")+e[t]}let s,l;if(Array.isArray(r)||(r=[r]),r.forEach(u=>{typeof u=="object"&&(u["@direction"]&&(s=u["@direction"]),u["@language"]&&(l=u["@language"]))}),t==="title"||t==="description"){if(s)return a(s)+e[t];if(l){const u=l.includes("-")?l.split("-")[0]:l.toLowerCase(),f=o[u];return f?a(f)+e[t]:a("ltr")+e[t]}}return a($k(e[t].toString()))+e[t]},XY={selectOnLineNumbers:!0,automaticLayout:!0,lineDecorationsWidth:20};let Tk=0;const QY=(e,t,r)=>{clearTimeout(Tk),Tk=setTimeout(()=>e(t),r)},Ak=e=>{const t=Me.useContext(An),[r]=Me.useState([]),[n,i]=Me.useState(void 0),o=Me.useRef(null),[a,s]=Me.useState([]),[l,u]=Me.useState(""),[f,c]=Me.useState(""),h=lt.useMemo(()=>new Worker(new URL(""+new URL("validationWorker-fRgmX0S3.js",import.meta.url).href,import.meta.url),{type:"module"}),[]),m=lt.useMemo(()=>new Worker(new URL(""+new URL("schemaWorker-BsNUkMIg.js",import.meta.url).href,import.meta.url),{type:"module"}),[]),g=Me.useCallback(y=>{m.postMessage(y),h.postMessage(y)},[m,h]);Me.useEffect(()=>{const y=S=>{n.splice(0,n.length),S.forEach(function($,T){console.debug(`using schema: ${T}`),n.push({schemaUri:T,schema:$})})};m.onmessage=S=>{console.debug("received message from schema worker"),y(S.data)},h.onmessage=S=>{console.debug("received message from validation worker");const $=S.data;t.updateValidationMessage($)}},[m,h,n,t]),Me.useEffect(()=>{t.offlineTD!==f&&(u(t.offlineTD),g(t.offlineTD))},[t.offlineTD,g,f]);const _=y=>{},v=(y,S)=>{if(S.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:[]}),!("Proxy"in window)){console.warn("dynamic fetching of schemas is disabled as your browser doesn't support proxies.");return}let $=new Proxy(r,{set:function(T,d,A,P){T[d]=A;let x=[];for(let D=0;D<T.length;D++)x.push({fileMatch:["*/*"],uri:T[D].schemaUri,schema:T[D].schema});return S.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:x}),!0}});o.current=y,i($)},p=async(y,S)=>{t.updateOfflineTD(y),t.updateValidationMessage(void 0),c(y),QY(g,y,500)};Me.useEffect(()=>{if(t.linkedTd)try{let y=[],S=0;for(let $ in t.linkedTd)(t.linkedTd[$].kind==="file"||Object.keys(t.linkedTd[$]).length)&&(y.push(pe.jsx("option",{value:$,children:$},S)),S++);s(y)}catch(y){console.debug(y)}},[t.linkedTd,t.offlineTD]);const E=async()=>{let y=document.getElementById("linkedTd").value;CO(t,y)};return pe.jsxs(pe.Fragment,{children:[pe.jsx("div",{className:"h-[5%] bg-[#1e1e1e]",children:t.offlineTD&&t.linkedTd&&pe.jsx("select",{name:"linkedTd",id:"linkedTd",className:"w-[50%] bg-[#1e1e1e] text-white",onChange:()=>E(),children:a})}),pe.jsx("div",{className:"h-[95%] w-full",children:pe.jsx(HY,{options:XY,theme:"vs-dark",language:"json",value:l,beforeMount:_,onMount:v,onChange:async y=>{await p(y)}})})]})},Ll=e=>{const t=e.title??"Default Title",r=e.description??"Default description, please override.",n=e.children??pe.jsx(pe.Fragment,{}),i=e.cancelText??"Cancel",o=e.onCancel??(()=>{}),a=e.submitText??"Submit",s=e.onSubmit??(()=>{}),l=e.hasSubmit??!0;let u={};return window.onkeydown=function(f){u[f.key]=!0,u.Control&&u.Enter?document.getElementById("submitButton").click():u.Escape&&document.getElementById("cancelButton").click()},window.onkeyup=function(f){u[f.key]=!1},pe.jsx(pe.Fragment,{children:pe.jsx("div",{className:"absolute left-0 top-0 z-10 flex h-full w-full items-center justify-center bg-black bg-opacity-80 text-white",children:pe.jsxs("div",{className:"flex max-h-[95%] w-[80%] flex-col justify-start rounded-xl bg-gray-500 p-4 shadow-xl lg:w-[40%]",children:[pe.jsx("div",{className:"flex flex-row items-center justify-start",children:pe.jsx("h1",{className:"flex-grow pl-2 text-xl font-bold",children:t})}),pe.jsx("h2",{className:"py-2 pl-2 text-gray-400",children:r}),pe.jsx("div",{className:"overflow-auto p-2",children:n}),pe.jsxs("div",{className:"flex justify-end p-2 pt-4",children:[pe.jsx("button",{id:"cancelButton",className:"mr-1 rounded-md bg-gray-500 p-2 text-white",onClick:()=>{o()},children:i}),l&&pe.jsx("button",{id:"submitButton",className:"flex rounded-md bg-blue-500 p-2 text-white",onClick:()=>s(),children:a})]})]})})})},T_=Me.forwardRef((e,t)=>{const r=Me.useContext(An),[n,i]=lt.useState(()=>!1),o=e.type??"",a=o&&o[0].toUpperCase()+o.slice(1),s=e.interaction??{},l=e.interactionName??"";Me.useEffect(()=>{},[n,r]),Me.useImperativeHandle(t,()=>({openModal:()=>u(),close:()=>f()}));const u=()=>{i(!0)},f=()=>{i(!1)},c=_=>s.forms?JY(_,s):!1,h=_=>({action:"actions",property:"properties",event:"events",thing:"thing"})[_],m=eX(o),g=pe.jsxs(pe.Fragment,{children:[pe.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Operations:"}),pe.jsx("div",{className:"p-1",children:m}),pe.jsxs("div",{className:"p-1 pt-2",children:[pe.jsx("label",{htmlFor:"form-href",className:"pl-2 text-sm font-medium text-gray-400",children:"Href:"}),pe.jsx("input",{type:"text",name:"form-href",id:"form-href",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"http://example.com/href",onChange:()=>{ZY()}}),pe.jsx("span",{id:"form-href-info",className:"pl-2 text-xs text-red-400"})]})]});return n?Ml.createPortal(pe.jsx(Ll,{onCancel:f,onSubmit:()=>{let _={};_.op=N4(o).map(p=>document.getElementById("form-"+p).checked?document.getElementById("form-"+p).value:void 0).filter(p=>p!==void 0);const v=document.getElementById("form-href").value;_.href=v!==""?v.trim():"/",_.op.length===0?Pk("You have to select at least one operation ..."):c(_)?Pk("A Form for one of the selected operations already exists ..."):(r.addForm(h(o),l,_),f())},submitText:"Add",children:g,title:`Add ${a} Form`,description:`Tell us how this ${a} can be interfaced by selecting operations below and providing an href.`}),document.getElementById("modal-root")):null}),Pk=e=>{document.getElementById("form-href-info").textContent=e,document.getElementById("form-href").classList.remove("border-gray-600"),document.getElementById("form-href").classList.add("border-red-400")},ZY=()=>{document.getElementById("form-href").classList.add("border-gray-600"),document.getElementById("form-href").classList.remove("border-red-400")},N4=e=>{switch(e){case"property":return["writeproperty","readproperty","observeproperty","unobserveproperty"];case"event":return["subscribeevent","unsubscribeevent"];case"action":return["invokeaction"];case"thing":return["writeallproperties","readallproperties","writemultipleproperties","readmultipleproperties","observeallproperties","unobserveallproperties"];default:return[]}},eX=e=>pe.jsx("div",{className:"rounded-md bg-gray-600 p-1",children:N4(e).map(t=>tX(t))}),tX=e=>{const t=`form-${e}`;return pe.jsxs("div",{className:"form-checkbox pl-2",children:[e!=="invokeaction"?pe.jsx("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e}):pe.jsx("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e,readOnly:e==="invokeaction",checked:e==="invokeaction"}),pe.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:t,children:e})]},t)};var C4={exports:{}},rX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nX=rX,iX=nX;function k4(){}function j4(){}j4.resetWarningCache=k4;var oX=function(){function e(n,i,o,a,s,l){if(l!==iX){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:j4,resetWarningCache:k4};return r.PropTypes=r,r};C4.exports=oX();var aX=C4.exports;const $t=Pf(aX);function L$(){return L$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L$.apply(this,arguments)}function sX(e,t){if(e==null)return{};var r=lX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var rf=Me.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=sX(e,["color","size"]);return lt.createElement("svg",L$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),lt.createElement("polyline",{points:"6 9 12 15 18 9"}))});rf.propTypes={color:$t.string,size:$t.oneOfType([$t.string,$t.number])};rf.displayName="ChevronDown";function F$(){return F$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F$.apply(this,arguments)}function uX(e,t){if(e==null)return{};var r=cX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var kO=Me.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=uX(e,["color","size"]);return lt.createElement("svg",F$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),lt.createElement("polyline",{points:"9 18 15 12 9 6"}))});kO.propTypes={color:$t.string,size:$t.oneOfType([$t.string,$t.number])};kO.displayName="ChevronRight";function B$(){return B$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B$.apply(this,arguments)}function fX(e,t){if(e==null)return{};var r=dX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var jO=Me.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=fX(e,["color","size"]);return lt.createElement("svg",B$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),lt.createElement("polyline",{points:"18 15 12 9 6 15"}))});jO.propTypes={color:$t.string,size:$t.oneOfType([$t.string,$t.number])};jO.displayName="ChevronUp";function U$(){return U$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U$.apply(this,arguments)}function hX(e,t){if(e==null)return{};var r=pX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var DO=Me.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=hX(e,["color","size"]);return lt.createElement("svg",U$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),lt.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),lt.createElement("polyline",{points:"7 10 12 15 17 10"}),lt.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});DO.propTypes={color:$t.string,size:$t.oneOfType([$t.string,$t.number])};DO.displayName="Download";function z$(){return z$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z$.apply(this,arguments)}function mX(e,t){if(e==null)return{};var r=gX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var MO=Me.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=mX(e,["color","size"]);return lt.createElement("svg",z$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),lt.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),lt.createElement("polyline",{points:"14 2 14 8 20 8"}),lt.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),lt.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}))});MO.propTypes={color:$t.string,size:$t.oneOfType([$t.string,$t.number])};MO.displayName="FilePlus";function q$(){return q$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q$.apply(this,arguments)}function vX(e,t){if(e==null)return{};var r=yX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var LO=Me.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=vX(e,["color","size"]);return lt.createElement("svg",q$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),lt.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),lt.createElement("polyline",{points:"14 2 14 8 20 8"}),lt.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),lt.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),lt.createElement("polyline",{points:"10 9 9 9 8 9"}))});LO.propTypes={color:$t.string,size:$t.oneOfType([$t.string,$t.number])};LO.displayName="FileText";function V$(){return V$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V$.apply(this,arguments)}function wX(e,t){if(e==null)return{};var r=bX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var FO=Me.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=wX(e,["color","size"]);return lt.createElement("svg",V$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),lt.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),lt.createElement("polyline",{points:"13 2 13 9 20 9"}))});FO.propTypes={color:$t.string,size:$t.oneOfType([$t.string,$t.number])};FO.displayName="File";function H$(){return H$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H$.apply(this,arguments)}function _X(e,t){if(e==null)return{};var r=EX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var BO=Me.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=_X(e,["color","size"]);return lt.createElement("svg",H$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),lt.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))});BO.propTypes={color:$t.string,size:$t.oneOfType([$t.string,$t.number])};BO.displayName="GitHub";function G$(){return G$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G$.apply(this,arguments)}function SX(e,t){if(e==null)return{};var r=$X(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $X(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var A_=Me.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=SX(e,["color","size"]);return lt.createElement("svg",G$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),lt.createElement("circle",{cx:"12",cy:"12",r:"10"}),lt.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),lt.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))});A_.propTypes={color:$t.string,size:$t.oneOfType([$t.string,$t.number])};A_.displayName="Info";function W$(){return W$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W$.apply(this,arguments)}function TX(e,t){if(e==null)return{};var r=AX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var UO=Me.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=TX(e,["color","size"]);return lt.createElement("svg",W$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),lt.createElement("circle",{cx:"12",cy:"12",r:"10"}),lt.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),lt.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});UO.propTypes={color:$t.string,size:$t.oneOfType([$t.string,$t.number])};UO.displayName="PlusCircle";function K$(){return K$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K$.apply(this,arguments)}function PX(e,t){if(e==null)return{};var r=xX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var zO=Me.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=PX(e,["color","size"]);return lt.createElement("svg",K$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),lt.createElement("polyline",{points:"23 4 23 10 17 10"}),lt.createElement("polyline",{points:"1 20 1 14 7 14"}),lt.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}))});zO.propTypes={color:$t.string,size:$t.oneOfType([$t.string,$t.number])};zO.displayName="RefreshCw";function J$(){return J$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J$.apply(this,arguments)}function OX(e,t){if(e==null)return{};var r=RX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var qO=Me.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=OX(e,["color","size"]);return lt.createElement("svg",J$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),lt.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),lt.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),lt.createElement("polyline",{points:"7 3 7 8 15 8"}))});qO.propTypes={color:$t.string,size:$t.oneOfType([$t.string,$t.number])};qO.displayName="Save";function Y$(){return Y$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y$.apply(this,arguments)}function IX(e,t){if(e==null)return{};var r=NX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var VO=Me.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=IX(e,["color","size"]);return lt.createElement("svg",Y$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),lt.createElement("circle",{cx:"11",cy:"11",r:"8"}),lt.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});VO.propTypes={color:$t.string,size:$t.oneOfType([$t.string,$t.number])};VO.displayName="Search";function X$(){return X$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X$.apply(this,arguments)}function CX(e,t){if(e==null)return{};var r=kX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var HO=Me.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=CX(e,["color","size"]);return lt.createElement("svg",X$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),lt.createElement("circle",{cx:"12",cy:"12",r:"3"}),lt.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))});HO.propTypes={color:$t.string,size:$t.oneOfType([$t.string,$t.number])};HO.displayName="Settings";function Q$(){return Q$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q$.apply(this,arguments)}function jX(e,t){if(e==null)return{};var r=DX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var GO=Me.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=jX(e,["color","size"]);return lt.createElement("svg",Q$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),lt.createElement("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),lt.createElement("polyline",{points:"16 6 12 2 8 6"}),lt.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"15"}))});GO.propTypes={color:$t.string,size:$t.oneOfType([$t.string,$t.number])};GO.displayName="Share";function Z$(){return Z$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z$.apply(this,arguments)}function MX(e,t){if(e==null)return{};var r=LX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Ju=Me.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=MX(e,["color","size"]);return lt.createElement("svg",Z$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),lt.createElement("polyline",{points:"3 6 5 6 21 6"}),lt.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),lt.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),lt.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});Ju.propTypes={color:$t.string,size:$t.oneOfType([$t.string,$t.number])};Ju.displayName="Trash2";const hh=Math.min,nf=Math.max,fb=Math.round,pv=Math.floor,Hs=e=>({x:e,y:e}),FX={left:"right",right:"left",bottom:"top",top:"bottom"},BX={start:"end",end:"start"};function eT(e,t,r){return nf(e,hh(t,r))}function ig(e,t){return typeof e=="function"?e(t):e}function yf(e){return e.split("-")[0]}function og(e){return e.split("-")[1]}function D4(e){return e==="x"?"y":"x"}function WO(e){return e==="y"?"height":"width"}function ph(e){return["top","bottom"].includes(yf(e))?"y":"x"}function KO(e){return D4(ph(e))}function UX(e,t,r){r===void 0&&(r=!1);const n=og(e),i=KO(e),o=WO(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=db(a)),[a,db(a)]}function zX(e){const t=db(e);return[tT(e),t,tT(t)]}function tT(e){return e.replace(/start|end/g,t=>BX[t])}function qX(e,t,r){const n=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?o:a;default:return[]}}function VX(e,t,r,n){const i=og(e);let o=qX(yf(e),r==="start",n);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(tT)))),o}function db(e){return e.replace(/left|right|bottom|top/g,t=>FX[t])}function HX(e){return{top:0,right:0,bottom:0,left:0,...e}}function M4(e){return typeof e!="number"?HX(e):{top:e,right:e,bottom:e,left:e}}function hb(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function xk(e,t,r){let{reference:n,floating:i}=e;const o=ph(t),a=KO(t),s=WO(a),l=yf(t),u=o==="y",f=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2,h=n[s]/2-i[s]/2;let m;switch(l){case"top":m={x:f,y:n.y-i.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:c};break;case"left":m={x:n.x-i.width,y:c};break;default:m={x:n.x,y:n.y}}switch(og(t)){case"start":m[a]-=h*(r&&u?-1:1);break;case"end":m[a]+=h*(r&&u?-1:1);break}return m}const GX=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:c}=xk(u,n,l),h=n,m={},g=0;for(let _=0;_<s.length;_++){const{name:v,fn:p}=s[_],{x:E,y,data:S,reset:$}=await p({x:f,y:c,initialPlacement:n,placement:h,strategy:i,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});f=E??f,c=y??c,m={...m,[v]:{...m[v],...S}},$&&g<=50&&(g++,typeof $=="object"&&($.placement&&(h=$.placement),$.rects&&(u=$.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):$.rects),{x:f,y:c}=xk(u,h,l)),_=-1)}return{x:f,y:c,placement:h,strategy:i,middlewareData:m}};async function L4(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:h=!1,padding:m=0}=ig(t,e),g=M4(m),v=s[h?c==="floating"?"reference":"floating":c],p=hb(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:f,strategy:l})),E=c==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),S=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},$=hb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:E,offsetParent:y,strategy:l}):E);return{top:(p.top-$.top+g.top)/S.y,bottom:($.bottom-p.bottom+g.bottom)/S.y,left:(p.left-$.left+g.left)/S.x,right:($.right-p.right+g.right)/S.x}}const WX=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:u,padding:f=0}=ig(e,t)||{};if(u==null)return{};const c=M4(f),h={x:r,y:n},m=KO(i),g=WO(m),_=await a.getDimensions(u),v=m==="y",p=v?"top":"left",E=v?"bottom":"right",y=v?"clientHeight":"clientWidth",S=o.reference[g]+o.reference[m]-h[m]-o.floating[g],$=h[m]-o.reference[m],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let d=T?T[y]:0;(!d||!await(a.isElement==null?void 0:a.isElement(T)))&&(d=s.floating[y]||o.floating[g]);const A=S/2-$/2,P=d/2-_[g]/2-1,x=hh(c[p],P),D=hh(c[E],P),F=x,V=d-_[g]-D,X=d/2-_[g]/2+A,G=eT(F,X,V),Q=!l.arrow&&og(i)!=null&&X!==G&&o.reference[g]/2-(X<F?x:D)-_[g]/2<0,ce=Q?X<F?X-F:X-V:0;return{[m]:h[m]+ce,data:{[m]:G,centerOffset:X-G-ce,...Q&&{alignmentOffset:ce}},reset:Q}}}),KX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:_=!0,...v}=ig(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const p=yf(i),E=ph(s),y=yf(s)===s,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),$=h||(y||!_?[db(s)]:zX(s)),T=g!=="none";!h&&T&&$.push(...VX(s,_,g,S));const d=[s,...$],A=await L4(t,v),P=[];let x=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&P.push(A[p]),c){const X=UX(i,a,S);P.push(A[X[0]],A[X[1]])}if(x=[...x,{placement:i,overflows:P}],!P.every(X=>X<=0)){var D,F;const X=(((D=o.flip)==null?void 0:D.index)||0)+1,G=d[X];if(G)return{data:{index:X,overflows:x},reset:{placement:G}};let Q=(F=x.filter(ce=>ce.overflows[0]<=0).sort((ce,ee)=>ce.overflows[1]-ee.overflows[1])[0])==null?void 0:F.placement;if(!Q)switch(m){case"bestFit":{var V;const ce=(V=x.filter(ee=>{if(T){const ae=ph(ee.placement);return ae===E||ae==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(ae=>ae>0).reduce((ae,M)=>ae+M,0)]).sort((ee,ae)=>ee[1]-ae[1])[0])==null?void 0:V[0];ce&&(Q=ce);break}case"initialPlacement":Q=s;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};async function JX(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=yf(r),s=og(r),l=ph(r)==="y",u=["left","top"].includes(a)?-1:1,f=o&&l?-1:1,c=ig(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return s&&typeof g=="number"&&(m=s==="end"?g*-1:g),l?{x:m*f,y:h*u}:{x:h*u,y:m*f}}const YX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await JX(t,e);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},XX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:p,y:E}=v;return{x:p,y:E}}},...l}=ig(e,t),u={x:r,y:n},f=await L4(t,l),c=ph(yf(i)),h=D4(c);let m=u[h],g=u[c];if(o){const v=h==="y"?"top":"left",p=h==="y"?"bottom":"right",E=m+f[v],y=m-f[p];m=eT(E,m,y)}if(a){const v=c==="y"?"top":"left",p=c==="y"?"bottom":"right",E=g+f[v],y=g-f[p];g=eT(E,g,y)}const _=s.fn({...t,[h]:m,[c]:g});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[h]:o,[c]:a}}}}}};function P_(){return typeof window<"u"}function Ph(e){return F4(e)?(e.nodeName||"").toLowerCase():"#document"}function Wo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Js(e){var t;return(t=(F4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function F4(e){return P_()?e instanceof Node||e instanceof Wo(e).Node:!1}function as(e){return P_()?e instanceof Element||e instanceof Wo(e).Element:!1}function Ks(e){return P_()?e instanceof HTMLElement||e instanceof Wo(e).HTMLElement:!1}function Ok(e){return!P_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Wo(e).ShadowRoot}function ag(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=ss(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function QX(e){return["table","td","th"].includes(Ph(e))}function x_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function JO(e){const t=YO(),r=as(e)?ss(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function ZX(e){let t=Vu(e);for(;Ks(t)&&!mh(t);){if(JO(t))return t;if(x_(t))return null;t=Vu(t)}return null}function YO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mh(e){return["html","body","#document"].includes(Ph(e))}function ss(e){return Wo(e).getComputedStyle(e)}function O_(e){return as(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vu(e){if(Ph(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ok(e)&&e.host||Js(e);return Ok(t)?t.host:t}function B4(e){const t=Vu(e);return mh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ks(t)&&ag(t)?t:B4(t)}function Nm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=B4(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),a=Wo(i);if(o){const s=rT(a);return t.concat(a,a.visualViewport||[],ag(i)?i:[],s&&r?Nm(s):[])}return t.concat(i,Nm(i,[],r))}function rT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function U4(e){const t=ss(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Ks(e),o=i?e.offsetWidth:r,a=i?e.offsetHeight:n,s=fb(r)!==o||fb(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function XO(e){return as(e)?e:e.contextElement}function Wd(e){const t=XO(e);if(!Ks(t))return Hs(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=U4(t);let a=(o?fb(r.width):r.width)/n,s=(o?fb(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const e5=Hs(0);function z4(e){const t=Wo(e);return!YO()||!t.visualViewport?e5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function t5(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Wo(e)?!1:t}function wf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=XO(e);let a=Hs(1);t&&(n?as(n)&&(a=Wd(n)):a=Wd(e));const s=t5(o,r,n)?z4(o):Hs(0);let l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,f=i.width/a.x,c=i.height/a.y;if(o){const h=Wo(o),m=n&&as(n)?Wo(n):n;let g=h,_=rT(g);for(;_&&n&&m!==g;){const v=Wd(_),p=_.getBoundingClientRect(),E=ss(_),y=p.left+(_.clientLeft+parseFloat(E.paddingLeft))*v.x,S=p.top+(_.clientTop+parseFloat(E.paddingTop))*v.y;l*=v.x,u*=v.y,f*=v.x,c*=v.y,l+=y,u+=S,g=Wo(_),_=rT(g)}}return hb({width:f,height:c,x:l,y:u})}function QO(e,t){const r=O_(e).scrollLeft;return t?t.left+r:wf(Js(e)).left+r}function q4(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:QO(e,n)),o=n.top+t.scrollTop;return{x:i,y:o}}function r5(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",a=Js(n),s=t?x_(t.floating):!1;if(n===a||s&&o)return r;let l={scrollLeft:0,scrollTop:0},u=Hs(1);const f=Hs(0),c=Ks(n);if((c||!c&&!o)&&((Ph(n)!=="body"||ag(a))&&(l=O_(n)),Ks(n))){const m=wf(n);u=Wd(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}const h=a&&!c&&!o?q4(a,l,!0):Hs(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+f.x+h.x,y:r.y*u.y-l.scrollTop*u.y+f.y+h.y}}function n5(e){return Array.from(e.getClientRects())}function i5(e){const t=Js(e),r=O_(e),n=e.ownerDocument.body,i=nf(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=nf(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+QO(e);const s=-r.scrollTop;return ss(n).direction==="rtl"&&(a+=nf(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:s}}function o5(e,t){const r=Wo(e),n=Js(e),i=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=YO();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function a5(e,t){const r=wf(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=Ks(e)?Wd(e):Hs(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,u=n*o.y;return{width:a,height:s,x:l,y:u}}function Rk(e,t,r){let n;if(t==="viewport")n=o5(e,r);else if(t==="document")n=i5(Js(e));else if(as(t))n=a5(t,r);else{const i=z4(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return hb(n)}function V4(e,t){const r=Vu(e);return r===t||!as(r)||mh(r)?!1:ss(r).position==="fixed"||V4(r,t)}function s5(e,t){const r=t.get(e);if(r)return r;let n=Nm(e,[],!1).filter(s=>as(s)&&Ph(s)!=="body"),i=null;const o=ss(e).position==="fixed";let a=o?Vu(e):e;for(;as(a)&&!mh(a);){const s=ss(a),l=JO(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ag(a)&&!l&&V4(e,a))?n=n.filter(f=>f!==a):i=s,a=Vu(a)}return t.set(e,n),n}function l5(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=[...r==="clippingAncestors"?x_(t)?[]:s5(t,this._c):[].concat(r),n],s=a[0],l=a.reduce((u,f)=>{const c=Rk(t,f,i);return u.top=nf(c.top,u.top),u.right=hh(c.right,u.right),u.bottom=hh(c.bottom,u.bottom),u.left=nf(c.left,u.left),u},Rk(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function u5(e){const{width:t,height:r}=U4(e);return{width:t,height:r}}function c5(e,t,r){const n=Ks(t),i=Js(t),o=r==="fixed",a=wf(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=Hs(0);if(n||!n&&!o)if((Ph(t)!=="body"||ag(i))&&(s=O_(t)),n){const h=wf(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=QO(i));const u=i&&!n&&!o?q4(i,s):Hs(0),f=a.left+s.scrollLeft-l.x-u.x,c=a.top+s.scrollTop-l.y-u.y;return{x:f,y:c,width:a.width,height:a.height}}function gS(e){return ss(e).position==="static"}function Ik(e,t){if(!Ks(e)||ss(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Js(e)===r&&(r=r.ownerDocument.body),r}function H4(e,t){const r=Wo(e);if(x_(e))return r;if(!Ks(e)){let i=Vu(e);for(;i&&!mh(i);){if(as(i)&&!gS(i))return i;i=Vu(i)}return r}let n=Ik(e,t);for(;n&&QX(n)&&gS(n);)n=Ik(n,t);return n&&mh(n)&&gS(n)&&!JO(n)?r:n||ZX(e)||r}const f5=async function(e){const t=this.getOffsetParent||H4,r=this.getDimensions,n=await r(e.floating);return{reference:c5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function d5(e){return ss(e).direction==="rtl"}const h5={convertOffsetParentRelativeRectToViewportRelativeRect:r5,getDocumentElement:Js,getClippingRect:l5,getOffsetParent:H4,getElementRects:f5,getClientRects:n5,getDimensions:u5,getScale:Wd,isElement:as,isRTL:d5};function G4(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function p5(e,t){let r=null,n;const i=Js(e);function o(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:f,top:c,width:h,height:m}=u;if(s||t(),!h||!m)return;const g=pv(c),_=pv(i.clientWidth-(f+h)),v=pv(i.clientHeight-(c+m)),p=pv(f),y={rootMargin:-g+"px "+-_+"px "+-v+"px "+-p+"px",threshold:nf(0,hh(1,l))||1};let S=!0;function $(T){const d=T[0].intersectionRatio;if(d!==l){if(!S)return a();d?a(!1,d):n=setTimeout(()=>{a(!1,1e-7)},1e3)}d===1&&!G4(u,e.getBoundingClientRect())&&a(),S=!1}try{r=new IntersectionObserver($,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver($,y)}r.observe(e)}return a(!0),o}function m5(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=XO(e),f=i||o?[...u?Nm(u):[],...Nm(t)]:[];f.forEach(p=>{i&&p.addEventListener("scroll",r,{passive:!0}),o&&p.addEventListener("resize",r)});const c=u&&s?p5(u,r):null;let h=-1,m=null;a&&(m=new ResizeObserver(p=>{let[E]=p;E&&E.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),r()}),u&&!l&&m.observe(u),m.observe(t));let g,_=l?wf(e):null;l&&v();function v(){const p=wf(e);_&&!G4(_,p)&&r(),_=p,g=requestAnimationFrame(v)}return r(),()=>{var p;f.forEach(E=>{i&&E.removeEventListener("scroll",r),o&&E.removeEventListener("resize",r)}),c==null||c(),(p=m)==null||p.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const g5=YX,v5=XX,y5=KX,w5=WX,Nk=(e,t,r)=>{const n=new Map,i={platform:h5,...r},o={...i.platform,_c:n};return GX(e,t,{...i,platform:o})};var W4={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,n(s)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)t.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(W4);var b5=W4.exports;const nT=Pf(b5);var Ck={GENERATE_SOURCEMAP:"false",GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_cb5bb4dc-8e97-4b89-b206-f9e7ccbaa45e",npm_package_devDependencies__types_node:"^22.13.15",npm_package_dependencies_react_dropzone:"^14.3.8",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_version_commit_hooks:"true",npm_config_user_agent:"yarn/1.22.22 npm/? node/v20.19.0 linux x64",CI:"true",npm_config_bin_links:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_cb5bb4dc-8e97-4b89-b206-f9e7ccbaa45e",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/20.19.0/x64/bin/node",npm_package_devDependencies_vite:"^5.2.0",npm_package_dependencies_direction:"^2.0.1",npm_config_init_version:"1.0.0",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",npm_package_dependencies_jsonld:"^8.3.2",HOME:"/home/runner",npm_package_browserslist_production_0:">0.2%",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_browserslist_production_1:"not dead",npm_package_dependencies_jointjs:"^3.7.7",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"eclipse",npm_package_browserslist_production_2:"not op_mini all",npm_package_dependencies__monaco_editor_react:"^4.7.0",npm_config_init_license:"MIT",GRADLE_HOME:"/usr/share/gradle-8.13",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/28.0.13004108",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",YARN_WRAP_OUTPUT:"false",npm_config_version_tag_prefix:"v",GITHUB_REPOSITORY_OWNER_ID:"56974",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_package_dependencies_react_icons:"^5.2.1",npm_package_dependencies_react_feather:"^2.0.10",SYSTEMD_EXEC_PID:"836",npm_package_devDependencies_eslint_plugin_react_hooks:"^4.6.0",npm_package_dependencies_ajv_errors:"^3.0.0",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",npm_package_description:"The goal of this project is the easy creation of W3C Thing Description instances and Thing Models by providing a platform-independent ediTDor tool. The following features are addressed in this project",npm_package_devDependencies_typescript:"^5.0.0",npm_package_devDependencies_tailwindcss:"^3.4.7",NVM_DIR:"/home/runner/.nvm",npm_package_readmeFilename:"README.md",npm_package_devDependencies__types_react_dom:"^18.2.22",npm_package_homepage:"https://eclipse.github.io/editdor/",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20250413.1.0",npm_package_devDependencies_prettier:"^3.5.3",npm_package_scripts_dev:"cross-env REACT_APP_TARGET_URL=http://localhost:8080 vite",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",npm_package_devDependencies__vitejs_plugin_react:"^4.2.1",npm_package_dependencies_react_tooltip:"^5.26.4",npm_package_type:"module",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.8/x64",JOURNAL_STREAM:"8:5998",GITHUB_WORKFLOW:"publish-to-github-pages",_:"/usr/local/bin/yarn",npm_package_devDependencies_autoprefixer:"^10.4.19",npm_package_private:"true",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",npm_package_scripts_lint:"eslint . --ext js,jsx --report-unused-disable-directives --max-warnings 0",npm_config_registry:"https://registry.yarnpkg.com",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"false",GITHUB_RUN_ID:"14591622056",STATS_VMFE:"true",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"2ebd9eb195a6314284a5e7c4f11627b8704fa105",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",npm_package_devDependencies_eslint_plugin_react_refresh:"^0.4.6",npm_config_ignore_scripts:"",GITHUB_WORKFLOW_REF:"eclipse/editdor/.github/workflows/publish-to-gh-pages.yml@refs/heads/master",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_package_browserslist_development_0:"last 1 chrome version",npm_package_devDependencies_prettier_plugin_tailwindcss:"^0.6.11",npm_package_author_email:"editdor-dev@eclipse.org",PATH:"/tmp/yarn--1745314697075-0.8327829185158608:/home/runner/work/editdor/editdor/node_modules/.bin:/home/runner/.config/yarn/link/node_modules/.bin:/opt/hostedtoolcache/node/20.19.0/x64/libexec/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.0/x64/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.0/x64/bin/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",NODE:"/opt/hostedtoolcache/node/20.19.0/x64/bin/node",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_b379a330-7ae5-4fcd-a9bd-ea2eb782456d",INVOCATION_ID:"56d54c6266364119a6a5dd0a7af955fb",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",npm_package_browserslist_development_1:"last 1 firefox version",npm_package_repository_type:"git",npm_package_name:"editdor",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"52",GITHUB_TRIGGERING_ACTOR:"spf00",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",npm_package_browserslist_development_2:"last 1 safari version",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",npm_package_devDependencies_eslint:"^8.57.0",npm_package_dependencies_react_dom:"^18.2.0",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 256",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"master",GITHUB_REPOSITORY:"eclipse/editdor",STATS_D_D:"false",npm_lifecycle_script:"vite build",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",npm_config_version_git_message:"v%s",GITHUB_REPOSITORY_ID:"285060286",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_lifecycle_event:"build",npm_package_devDependencies__types_react:"^18.2.66",npm_package_dependencies_ajv:"^8.0.0",npm_package_repository_url:"git+https://github.com/eclipse/editdor.git",npm_package_version:"0.7.0",GITHUB_REF_PROTECTED:"false",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_dependencies_ajv_formats:"^3.0.1",npm_package_scripts_build:"vite build",GITHUB_WORKSPACE:"/home/runner/work/editdor/editdor",ACCEPT_EULA:"Y",GITHUB_JOB:"publish-to-gh-pages",RUNNER_PERFLOG:"/home/runner/perflog",npm_package_dependencies_json_dup_key_validator:"^1.0.3",GITHUB_SHA:"2ebd9eb195a6314284a5e7c4f11627b8704fa105",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",npm_config_version_git_tag:"true",npm_config_version_git_sign:"",GITHUB_REF:"refs/heads/master",GITHUB_ACTOR:"spf00",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_package_devDependencies_eslint_plugin_react:"^7.34.1",npm_package_dependencies_lz_string:"^1.5.0",npm_package_license:"EPL-2.0 OR W3C-20150513",npm_config_strict_ssl:"true",npm_package_dependencies_monaco_editor:"^0.52.2",npm_package_scripts_format:"prettier --write .",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_cb5bb4dc-8e97-4b89-b206-f9e7ccbaa45e",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/editdor/editdor",GITHUB_ACTOR_ID:"73104134",RUNNER_WORKSPACE:"/home/runner/work/editdor",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",npm_package_dependencies__column_resizer_react:"^1.3.0",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_cb5bb4dc-8e97-4b89-b206-f9e7ccbaa45e",npm_package_author_name:"Eclipse ediTDor",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_package_devDependencies_postcss:"^8.4.40",npm_package_devDependencies_cross_env:"^7.0.3",npm_config_save_prefix:"^",npm_config_ignore_optional:"",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",npm_package_scripts_preview:"vite preview",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",npm_package_dependencies_ajv_formats_draft2019:"1.6.1",npm_package_dependencies__node_wot_browser_bundle:"0.9.0",INIT_CWD:"/home/runner/work/editdor/editdor",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_cb5bb4dc-8e97-4b89-b206-f9e7ccbaa45e",npm_package_dependencies_react:"^18.2.0",NODE_ENV:"production"};const _5="react-tooltip-core-styles",E5="react-tooltip-base-styles",kk={core:!1,base:!1};function jk({css:e,id:t=E5,type:r="base",ref:n}){var i,o;if(!e||typeof document>"u"||kk[r]||r==="core"&&typeof process<"u"&&(!((i=process==null?void 0:Ck)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||r!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:Ck)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;r==="core"&&(t=_5),n||(n={});const{insertAt:a}=n;if(document.getElementById(t))return;const s=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",a==="top"&&s.firstChild?s.insertBefore(l,s.firstChild):s.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),kk[r]=!0}const Dk=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:r=null,place:n="top",offset:i=10,strategy:o="absolute",middlewares:a=[g5(Number(i)),y5({fallbackAxisSideDirection:"start"}),v5({padding:5})],border:s})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};const l=a;return r?(l.push(w5({element:r,padding:5})),Nk(e,t,{placement:n,strategy:o,middleware:l}).then(({x:u,y:f,placement:c,middlewareData:h})=>{var m,g;const _={left:`${u}px`,top:`${f}px`,border:s},{x:v,y:p}=(m=h.arrow)!==null&&m!==void 0?m:{x:0,y:0},E=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[c.split("-")[0]])!==null&&g!==void 0?g:"bottom",y=s&&{borderBottom:s,borderRight:s};let S=0;if(s){const $=`${s}`.match(/(\d+)px/);S=$!=null&&$[1]?Number($[1]):1}return{tooltipStyles:_,tooltipArrowStyles:{left:v!=null?`${v}px`:"",top:p!=null?`${p}px`:"",right:"",bottom:"",...y,[E]:`-${4+S}px`},place:c}})):Nk(e,t,{placement:"bottom",strategy:o,middleware:l}).then(({x:u,y:f,placement:c})=>({tooltipStyles:{left:`${u}px`,top:`${f}px`},tooltipArrowStyles:{},place:c}))},Mk=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),Lk=(e,t,r)=>{let n=null;const i=function(...o){const a=()=>{n=null};!n&&(e.apply(this,o),n=setTimeout(a,t))};return i.cancel=()=>{n&&(clearTimeout(n),n=null)},i},Fk=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",iT=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,o)=>iT(i,t[o]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!Fk(e)||!Fk(t))return e===t;const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(i=>iT(e[i],t[i]))},S5=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(r=>{const n=t.getPropertyValue(r);return n==="auto"||n==="scroll"})},Bk=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(S5(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},$5=typeof window<"u"?Me.useLayoutEffect:Me.useEffect,aa=e=>{e.current&&(clearTimeout(e.current),e.current=null)},T5="DEFAULT_TOOLTIP_ID",A5={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},P5=Me.createContext({getTooltipData:()=>A5});function K4(e=T5){return Me.useContext(P5).getTooltipData(e)}var td={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},vS={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const x5=({forwardRef:e,id:t,className:r,classNameArrow:n,variant:i="dark",anchorId:o,anchorSelect:a,place:s="top",offset:l=10,events:u=["hover"],openOnClick:f=!1,positionStrategy:c="absolute",middlewares:h,wrapper:m,delayShow:g=0,delayHide:_=0,float:v=!1,hidden:p=!1,noArrow:E=!1,clickable:y=!1,closeOnEsc:S=!1,closeOnScroll:$=!1,closeOnResize:T=!1,openEvents:d,closeEvents:A,globalCloseEvents:P,imperativeModeOnly:x,style:D,position:F,afterShow:V,afterHide:X,disableTooltip:G,content:Q,contentWrapperRef:ce,isOpen:ee,defaultIsOpen:ae=!1,setIsOpen:M,activeAnchor:B,setActiveAnchor:K,border:O,opacity:k,arrowColor:q,role:ie="tooltip"})=>{var J;const Y=Me.useRef(null),oe=Me.useRef(null),_e=Me.useRef(null),ye=Me.useRef(null),R=Me.useRef(null),[I,N]=Me.useState({tooltipStyles:{},tooltipArrowStyles:{},place:s}),[H,re]=Me.useState(!1),[le,fe]=Me.useState(!1),[me,Re]=Me.useState(null),Le=Me.useRef(!1),je=Me.useRef(null),{anchorRefs:tt,setActiveAnchor:Ge}=K4(t),Ue=Me.useRef(!1),[W,C]=Me.useState([]),L=Me.useRef(!1),ne=f||u.includes("click"),we=ne||(d==null?void 0:d.click)||(d==null?void 0:d.dblclick)||(d==null?void 0:d.mousedown),Se=d?{...d}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!d&&ne&&Object.assign(Se,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const ke=A?{...A}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!A&&ne&&Object.assign(ke,{mouseleave:!1,blur:!1,mouseout:!1});const Ie=P?{...P}:{escape:S||!1,scroll:$||!1,resize:T||!1,clickOutsideAnchor:we||!1};x&&(Object.assign(Se,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(ke,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Ie,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),$5(()=>(L.current=!0,()=>{L.current=!1}),[]);const Fe=Ye=>{L.current&&(Ye&&fe(!0),setTimeout(()=>{L.current&&(M==null||M(Ye),ee===void 0&&re(Ye))},10))};Me.useEffect(()=>{if(ee===void 0)return()=>null;ee&&fe(!0);const Ye=setTimeout(()=>{re(ee)},10);return()=>{clearTimeout(Ye)}},[ee]),Me.useEffect(()=>{if(H!==Le.current)if(aa(R),Le.current=H,H)V==null||V();else{const Ye=(nt=>{const Ot=nt.match(/^([\d.]+)(ms|s)$/);if(!Ot)return 0;const[,qt,de]=Ot;return Number(qt)*(de==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));R.current=setTimeout(()=>{fe(!1),Re(null),X==null||X()},Ye+25)}},[H]);const ft=Ye=>{N(nt=>iT(nt,Ye)?nt:Ye)},vt=(Ye=g)=>{aa(_e),le?Fe(!0):_e.current=setTimeout(()=>{Fe(!0)},Ye)},at=(Ye=_)=>{aa(ye),ye.current=setTimeout(()=>{Ue.current||Fe(!1)},Ye)},kt=Ye=>{var nt;if(!Ye)return;const Ot=(nt=Ye.currentTarget)!==null&&nt!==void 0?nt:Ye.target;if(!(Ot!=null&&Ot.isConnected))return K(null),void Ge({current:null});g?vt():Fe(!0),K(Ot),Ge({current:Ot}),aa(ye)},br=()=>{y?at(_||100):_?at():Fe(!1),aa(_e)},Pr=({x:Ye,y:nt})=>{var Ot;const qt={getBoundingClientRect:()=>({x:Ye,y:nt,width:0,height:0,top:nt,left:Ye,right:Ye,bottom:nt})};Dk({place:(Ot=me==null?void 0:me.place)!==null&&Ot!==void 0?Ot:s,offset:l,elementReference:qt,tooltipReference:Y.current,tooltipArrowReference:oe.current,strategy:c,middlewares:h,border:O}).then(de=>{ft(de)})},rr=Ye=>{if(!Ye)return;const nt=Ye,Ot={x:nt.clientX,y:nt.clientY};Pr(Ot),je.current=Ot},hr=Ye=>{var nt;if(!H)return;const Ot=Ye.target;Ot.isConnected&&(!((nt=Y.current)===null||nt===void 0)&&nt.contains(Ot)||[document.querySelector(`[id='${o}']`),...W].some(qt=>qt==null?void 0:qt.contains(Ot))||(Fe(!1),aa(_e)))},ln=Lk(kt,50),Vt=Lk(br,50),zt=Ye=>{Vt.cancel(),ln(Ye)},At=()=>{ln.cancel(),Vt()},$e=Me.useCallback(()=>{var Ye,nt;const Ot=(Ye=me==null?void 0:me.position)!==null&&Ye!==void 0?Ye:F;Ot?Pr(Ot):v?je.current&&Pr(je.current):B!=null&&B.isConnected&&Dk({place:(nt=me==null?void 0:me.place)!==null&&nt!==void 0?nt:s,offset:l,elementReference:B,tooltipReference:Y.current,tooltipArrowReference:oe.current,strategy:c,middlewares:h,border:O}).then(qt=>{L.current&&ft(qt)})},[H,B,Q,D,s,me==null?void 0:me.place,l,c,F,me==null?void 0:me.position,v]);Me.useEffect(()=>{var Ye,nt;const Ot=new Set(tt);W.forEach(Tt=>{G!=null&&G(Tt)||Ot.add({current:Tt})});const qt=document.querySelector(`[id='${o}']`);qt&&!(G!=null&&G(qt))&&Ot.add({current:qt});const de=()=>{Fe(!1)},ue=Bk(B),be=Bk(Y.current);Ie.scroll&&(window.addEventListener("scroll",de),ue==null||ue.addEventListener("scroll",de),be==null||be.addEventListener("scroll",de));let xe=null;Ie.resize?window.addEventListener("resize",de):B&&Y.current&&(xe=m5(B,Y.current,$e,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Pe=Tt=>{Tt.key==="Escape"&&Fe(!1)};Ie.escape&&window.addEventListener("keydown",Pe),Ie.clickOutsideAnchor&&window.addEventListener("click",hr);const et=[],it=Tt=>!!(Tt!=null&&Tt.target&&(B!=null&&B.contains(Tt.target))),Pt=Tt=>{H&&it(Tt)||kt(Tt)},Nt=Tt=>{H&&it(Tt)&&br()},jt=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],St=["click","dblclick","mousedown","mouseup"];Object.entries(Se).forEach(([Tt,Dt])=>{Dt&&(jt.includes(Tt)?et.push({event:Tt,listener:zt}):St.includes(Tt)&&et.push({event:Tt,listener:Pt}))}),Object.entries(ke).forEach(([Tt,Dt])=>{Dt&&(jt.includes(Tt)?et.push({event:Tt,listener:At}):St.includes(Tt)&&et.push({event:Tt,listener:Nt}))}),v&&et.push({event:"pointermove",listener:rr});const Rt=()=>{Ue.current=!0},Gt=()=>{Ue.current=!1,br()},yt=y&&(ke.mouseout||ke.mouseleave);return yt&&((Ye=Y.current)===null||Ye===void 0||Ye.addEventListener("mouseover",Rt),(nt=Y.current)===null||nt===void 0||nt.addEventListener("mouseout",Gt)),et.forEach(({event:Tt,listener:Dt})=>{Ot.forEach(Ft=>{var Gr;(Gr=Ft.current)===null||Gr===void 0||Gr.addEventListener(Tt,Dt)})}),()=>{var Tt,Dt;Ie.scroll&&(window.removeEventListener("scroll",de),ue==null||ue.removeEventListener("scroll",de),be==null||be.removeEventListener("scroll",de)),Ie.resize?window.removeEventListener("resize",de):xe==null||xe(),Ie.clickOutsideAnchor&&window.removeEventListener("click",hr),Ie.escape&&window.removeEventListener("keydown",Pe),yt&&((Tt=Y.current)===null||Tt===void 0||Tt.removeEventListener("mouseover",Rt),(Dt=Y.current)===null||Dt===void 0||Dt.removeEventListener("mouseout",Gt)),et.forEach(({event:Ft,listener:Gr})=>{Ot.forEach(Yr=>{var Ir;(Ir=Yr.current)===null||Ir===void 0||Ir.removeEventListener(Ft,Gr)})})}},[B,$e,le,tt,W,d,A,P,ne,g,_]),Me.useEffect(()=>{var Ye,nt;let Ot=(nt=(Ye=me==null?void 0:me.anchorSelect)!==null&&Ye!==void 0?Ye:a)!==null&&nt!==void 0?nt:"";!Ot&&t&&(Ot=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const qt=new MutationObserver(de=>{const ue=[],be=[];de.forEach(xe=>{if(xe.type==="attributes"&&xe.attributeName==="data-tooltip-id"&&(xe.target.getAttribute("data-tooltip-id")===t?ue.push(xe.target):xe.oldValue===t&&be.push(xe.target)),xe.type==="childList"){if(B){const Pe=[...xe.removedNodes].filter(et=>et.nodeType===1);if(Ot)try{be.push(...Pe.filter(et=>et.matches(Ot))),be.push(...Pe.flatMap(et=>[...et.querySelectorAll(Ot)]))}catch{}Pe.some(et=>{var it;return!!(!((it=et==null?void 0:et.contains)===null||it===void 0)&&it.call(et,B))&&(fe(!1),Fe(!1),K(null),aa(_e),aa(ye),!0)})}if(Ot)try{const Pe=[...xe.addedNodes].filter(et=>et.nodeType===1);ue.push(...Pe.filter(et=>et.matches(Ot))),ue.push(...Pe.flatMap(et=>[...et.querySelectorAll(Ot)]))}catch{}}}),(ue.length||be.length)&&C(xe=>[...xe.filter(Pe=>!be.includes(Pe)),...ue])});return qt.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{qt.disconnect()}},[t,a,me==null?void 0:me.anchorSelect,B]),Me.useEffect(()=>{$e()},[$e]),Me.useEffect(()=>{if(!(ce!=null&&ce.current))return()=>null;const Ye=new ResizeObserver(()=>{setTimeout(()=>$e())});return Ye.observe(ce.current),()=>{Ye.disconnect()}},[Q,ce==null?void 0:ce.current]),Me.useEffect(()=>{var Ye;const nt=document.querySelector(`[id='${o}']`),Ot=[...W,nt];B&&Ot.includes(B)||K((Ye=W[0])!==null&&Ye!==void 0?Ye:nt)},[o,W,B]),Me.useEffect(()=>(ae&&Fe(!0),()=>{aa(_e),aa(ye)}),[]),Me.useEffect(()=>{var Ye;let nt=(Ye=me==null?void 0:me.anchorSelect)!==null&&Ye!==void 0?Ye:a;if(!nt&&t&&(nt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),nt)try{const Ot=Array.from(document.querySelectorAll(nt));C(Ot)}catch{C([])}},[t,a,me==null?void 0:me.anchorSelect]),Me.useEffect(()=>{_e.current&&(aa(_e),vt(g))},[g]);const Ne=(J=me==null?void 0:me.content)!==null&&J!==void 0?J:Q,dt=H&&Object.keys(I.tooltipStyles).length>0;return Me.useImperativeHandle(e,()=>({open:Ye=>{if(Ye!=null&&Ye.anchorSelect)try{document.querySelector(Ye.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Ye.anchorSelect}" is not a valid CSS selector`)}Re(Ye??null),Ye!=null&&Ye.delay?vt(Ye.delay):Fe(!0)},close:Ye=>{Ye!=null&&Ye.delay?at(Ye.delay):Fe(!1)},activeAnchor:B,place:I.place,isOpen:!!(le&&!p&&Ne&&dt)})),le&&!p&&Ne?lt.createElement(m,{id:t,role:ie,className:nT("react-tooltip",td.tooltip,vS.tooltip,vS[i],r,`react-tooltip__place-${I.place}`,td[dt?"show":"closing"],dt?"react-tooltip__show":"react-tooltip__closing",c==="fixed"&&td.fixed,y&&td.clickable),onTransitionEnd:Ye=>{aa(R),H||Ye.propertyName!=="opacity"||(fe(!1),Re(null),X==null||X())},style:{...D,...I.tooltipStyles,opacity:k!==void 0&&dt?k:void 0},ref:Y},Ne,lt.createElement(m,{className:nT("react-tooltip-arrow",td.arrow,vS.arrow,n,E&&td.noArrow),style:{...I.tooltipArrowStyles,background:q?`linear-gradient(to right bottom, transparent 50%, ${q} 50%)`:void 0},ref:oe})):null},O5=({content:e})=>lt.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),R5=lt.forwardRef(({id:e,anchorId:t,anchorSelect:r,content:n,html:i,render:o,className:a,classNameArrow:s,variant:l="dark",place:u="top",offset:f=10,wrapper:c="div",children:h=null,events:m=["hover"],openOnClick:g=!1,positionStrategy:_="absolute",middlewares:v,delayShow:p=0,delayHide:E=0,float:y=!1,hidden:S=!1,noArrow:$=!1,clickable:T=!1,closeOnEsc:d=!1,closeOnScroll:A=!1,closeOnResize:P=!1,openEvents:x,closeEvents:D,globalCloseEvents:F,imperativeModeOnly:V=!1,style:X,position:G,isOpen:Q,defaultIsOpen:ce=!1,disableStyleInjection:ee=!1,border:ae,opacity:M,arrowColor:B,setIsOpen:K,afterShow:O,afterHide:k,disableTooltip:q,role:ie="tooltip"},J)=>{const[Y,oe]=Me.useState(n),[_e,ye]=Me.useState(i),[R,I]=Me.useState(u),[N,H]=Me.useState(l),[re,le]=Me.useState(f),[fe,me]=Me.useState(p),[Re,Le]=Me.useState(E),[je,tt]=Me.useState(y),[Ge,Ue]=Me.useState(S),[W,C]=Me.useState(c),[L,ne]=Me.useState(m),[we,Se]=Me.useState(_),[ke,Ie]=Me.useState(null),[Fe,ft]=Me.useState(null),vt=Me.useRef(ee),{anchorRefs:at,activeAnchor:kt}=K4(e),br=Vt=>Vt==null?void 0:Vt.getAttributeNames().reduce((zt,At)=>{var $e;return At.startsWith("data-tooltip-")&&(zt[At.replace(/^data-tooltip-/,"")]=($e=Vt==null?void 0:Vt.getAttribute(At))!==null&&$e!==void 0?$e:null),zt},{}),Pr=Vt=>{const zt={place:At=>{var $e;I(($e=At)!==null&&$e!==void 0?$e:u)},content:At=>{oe(At??n)},html:At=>{ye(At??i)},variant:At=>{var $e;H(($e=At)!==null&&$e!==void 0?$e:l)},offset:At=>{le(At===null?f:Number(At))},wrapper:At=>{var $e;C(($e=At)!==null&&$e!==void 0?$e:c)},events:At=>{const $e=At==null?void 0:At.split(" ");ne($e??m)},"position-strategy":At=>{var $e;Se(($e=At)!==null&&$e!==void 0?$e:_)},"delay-show":At=>{me(At===null?p:Number(At))},"delay-hide":At=>{Le(At===null?E:Number(At))},float:At=>{tt(At===null?y:At==="true")},hidden:At=>{Ue(At===null?S:At==="true")},"class-name":At=>{Ie(At)}};Object.values(zt).forEach(At=>At(null)),Object.entries(Vt).forEach(([At,$e])=>{var Ne;(Ne=zt[At])===null||Ne===void 0||Ne.call(zt,$e)})};Me.useEffect(()=>{oe(n)},[n]),Me.useEffect(()=>{ye(i)},[i]),Me.useEffect(()=>{I(u)},[u]),Me.useEffect(()=>{H(l)},[l]),Me.useEffect(()=>{le(f)},[f]),Me.useEffect(()=>{me(p)},[p]),Me.useEffect(()=>{Le(E)},[E]),Me.useEffect(()=>{tt(y)},[y]),Me.useEffect(()=>{Ue(S)},[S]),Me.useEffect(()=>{Se(_)},[_]),Me.useEffect(()=>{vt.current!==ee&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[ee]),Me.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:ee==="core",disableBase:ee}}))},[]),Me.useEffect(()=>{var Vt;const zt=new Set(at);let At=r;if(!At&&e&&(At=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),At)try{document.querySelectorAll(At).forEach(nt=>{zt.add({current:nt})})}catch{console.warn(`[react-tooltip] "${At}" is not a valid CSS selector`)}const $e=document.querySelector(`[id='${t}']`);if($e&&zt.add({current:$e}),!zt.size)return()=>null;const Ne=(Vt=Fe??$e)!==null&&Vt!==void 0?Vt:kt.current,dt=new MutationObserver(nt=>{nt.forEach(Ot=>{var qt;if(!Ne||Ot.type!=="attributes"||!(!((qt=Ot.attributeName)===null||qt===void 0)&&qt.startsWith("data-tooltip-")))return;const de=br(Ne);Pr(de)})}),Ye={attributes:!0,childList:!1,subtree:!1};if(Ne){const nt=br(Ne);Pr(nt),dt.observe(Ne,Ye)}return()=>{dt.disconnect()}},[at,kt,Fe,t,r]),Me.useEffect(()=>{X!=null&&X.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),ae&&!Mk("border",`${ae}`)&&console.warn(`[react-tooltip] "${ae}" is not a valid \`border\`.`),X!=null&&X.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),M&&!Mk("opacity",`${M}`)&&console.warn(`[react-tooltip] "${M}" is not a valid \`opacity\`.`)},[]);let rr=h;const hr=Me.useRef(null);if(o){const Vt=o({content:(Fe==null?void 0:Fe.getAttribute("data-tooltip-content"))||Y||null,activeAnchor:Fe});rr=Vt?lt.createElement("div",{ref:hr,className:"react-tooltip-content-wrapper"},Vt):null}else Y&&(rr=Y);_e&&(rr=lt.createElement(O5,{content:_e}));const ln={forwardRef:J,id:e,anchorId:t,anchorSelect:r,className:nT(a,ke),classNameArrow:s,content:rr,contentWrapperRef:hr,place:R,variant:N,offset:re,wrapper:W,events:L,openOnClick:g,positionStrategy:we,middlewares:v,delayShow:fe,delayHide:Re,float:je,hidden:Ge,noArrow:$,clickable:T,closeOnEsc:d,closeOnScroll:A,closeOnResize:P,openEvents:x,closeEvents:D,globalCloseEvents:F,imperativeModeOnly:V,style:X,position:G,isOpen:Q,defaultIsOpen:ce,border:ae,opacity:M,arrowColor:B,setIsOpen:K,afterShow:O,afterHide:k,disableTooltip:q,activeAnchor:Fe,setActiveAnchor:Vt=>ft(Vt),role:ie};return lt.createElement(x5,{...ln})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||jk({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||jk({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const xh=e=>pe.jsxs("div",{className:"flex justify-center",children:[pe.jsx("div",{className:"pr-0.5",children:e.children}),pe.jsx("button",{onClick:()=>window.open(e.tooltip.href,"_blank"),children:pe.jsx(I5,{html:e.tooltip.html})}),pe.jsx("div",{className:"p-1"})]}),I5=e=>pe.jsxs(pe.Fragment,{children:[pe.jsx(A_,{color:"grey",size:"14","data-html":!0,"data-type":"info","data-tip":e.html,"data-background-color":"#2c2c2e"}),pe.jsx(R5,{html:!0,type:"info"})]});class sg{constructor(t,r){this.html=t,this.href=r}}const N5=()=>{const e=`<h2 class='text-lg'>Web of Things Properties</h2>
                    <p>A Property is a simple attribute of a device. The value of a Property can be readable.</p>
                    <p>writable or observable. E.g. a Property for a lamp could indicate if it is on or off.</p>
                    <br />
                    <p>Click to get more information about Properties.</p> 
                `,t="https://www.w3.org/TR/wot-thing-description/#propertyaffordance";return new sg(e,t)},C5=()=>{const e=`<h2 class='text-lg'>Web of Things Actions</h2>
                    <p>An Action is some kind of procedure that can be triggered on a device. An Action can</p>
                    <p>be started or cancelled. E.g. an Action for a lamp could be turning it on or off.</p>
                    <br />
                    <p>Click to get more information about Actions.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#actionaffordance";return new sg(e,t)},k5=()=>{const e=`<h2 class='text-lg'>Web of Things Events</h2>
                <p>An Event is an asynchronously happening information flow. An Event is observable.</p>
                <p>E.g. an Event for a lamp could fire if it gets turned on or off.</p>
                <br />
                <p>Click to get more information about Events.</p>
            `,t="https://www.w3.org/TR/wot-thing-description/#eventaffordance";return new sg(e,t)},lg=()=>{const e=`<h2 class='text-lg'>Web of Things Forms</h2>
                    <p>A Form contains all information needed to make a request to a device.</p>
                    <p>It can accompany a Property, Action, Event or a Thing itself.</p>
                    <br />
                    <p>Click to get more information about Forms.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#form";return new sg(e,t)},J4=()=>{const e=`<h2 class='text-lg'>Web of Things Link</h2>
                    <p>A link can be viewed as a statement of the form link context has a relation type resource at link target</p>
                    <p>Used to link Thing Description with other ressources.</p>
                    <br />
                    <p>Click to get more information about Links.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#link";return new sg(e,t)},j5={properties:N5(),actions:C5(),events:k5(),forms:lg(),links:J4()};var D5={},M5=Object.create,R_=Object.defineProperty,L5=Object.getOwnPropertyDescriptor,ZO=Object.getOwnPropertyNames,F5=Object.getPrototypeOf,B5=Object.prototype.hasOwnProperty,tn=(e,t)=>function(){return e&&(t=(0,e[ZO(e)[0]])(e=0)),t},Oe=(e,t)=>function(){return t||(0,e[ZO(e)[0]])((t={exports:{}}).exports,t),t.exports},Ys=(e,t)=>{for(var r in t)R_(e,r,{get:t[r],enumerable:!0})},Y4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ZO(t))!B5.call(e,i)&&i!==r&&R_(e,i,{get:()=>t[i],enumerable:!(n=L5(t,i))||n.enumerable});return e},eR=(e,t,r)=>(r=e!=null?M5(F5(e)):{},Y4(!e||!e.__esModule?R_(r,"default",{value:e,enumerable:!0}):r,e)),Ar=e=>Y4(R_({},"__esModule",{value:!0}),e);function U5(){if(oT)return hd;oT=!0,hd.byteLength=s,hd.toByteArray=u,hd.fromByteArray=h;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function a(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=m.indexOf("=");_===-1&&(_=g);var v=_===g?0:4-_%4;return[_,v]}function s(m){var g=a(m),_=g[0],v=g[1];return(_+v)*3/4-v}function l(m,g,_){return(g+_)*3/4-_}function u(m){var g,_=a(m),v=_[0],p=_[1],E=new r(l(m,v,p)),y=0,S=p>0?v-4:v,$;for($=0;$<S;$+=4)g=t[m.charCodeAt($)]<<18|t[m.charCodeAt($+1)]<<12|t[m.charCodeAt($+2)]<<6|t[m.charCodeAt($+3)],E[y++]=g>>16&255,E[y++]=g>>8&255,E[y++]=g&255;return p===2&&(g=t[m.charCodeAt($)]<<2|t[m.charCodeAt($+1)]>>4,E[y++]=g&255),p===1&&(g=t[m.charCodeAt($)]<<10|t[m.charCodeAt($+1)]<<4|t[m.charCodeAt($+2)]>>2,E[y++]=g>>8&255,E[y++]=g&255),E}function f(m){return e[m>>18&63]+e[m>>12&63]+e[m>>6&63]+e[m&63]}function c(m,g,_){for(var v,p=[],E=g;E<_;E+=3)v=(m[E]<<16&16711680)+(m[E+1]<<8&65280)+(m[E+2]&255),p.push(f(v));return p.join("")}function h(m){for(var g,_=m.length,v=_%3,p=[],E=16383,y=0,S=_-v;y<S;y+=E)p.push(c(m,y,y+E>S?S:y+E));return v===1?(g=m[_-1],p.push(e[g>>2]+e[g<<4&63]+"==")):v===2&&(g=(m[_-2]<<8)+m[_-1],p.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),p.join("")}return hd}function z5(){return aT||(aT=!0,Ep.read=function(e,t,r,n,i){var o,a,s=i*8-n-1,l=(1<<s)-1,u=l>>1,f=-7,c=r?i-1:0,h=r?-1:1,m=e[t+c];for(c+=h,o=m&(1<<-f)-1,m>>=-f,f+=s;f>0;o=o*256+e[t+c],c+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=a*256+e[t+c],c+=h,f-=8);if(o===0)o=1-u;else{if(o===l)return a?NaN:(m?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-u}return(m?-1:1)*a*Math.pow(2,o-n)},Ep.write=function(e,t,r,n,i,o){var a,s,l,u=o*8-i-1,f=(1<<u)-1,c=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+c>=1?t+=h/l:t+=h*Math.pow(2,1-c),t*l>=2&&(a++,l/=2),a+c>=f?(s=0,a=f):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a=a+c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+m]=s&255,m+=g,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+m]=a&255,m+=g,a/=256,u-=8);e[r+m-g]|=_*128}),Ep}function xo(){if(sT)return cu;sT=!0;const e=U5(),t=z5(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;cu.Buffer=a,cu.SlowBuffer=p,cu.INSPECT_MAX_BYTES=50;const n=2147483647;cu.kMaxLength=n,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const W=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(W,C),W.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(W){if(W>n)throw new RangeError('The value "'+W+'" is invalid for option "size"');const C=new Uint8Array(W);return Object.setPrototypeOf(C,a.prototype),C}function a(W,C,L){if(typeof W=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(W)}return s(W,C,L)}a.poolSize=8192;function s(W,C,L){if(typeof W=="string")return c(W,C);if(ArrayBuffer.isView(W))return m(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(Le(W,ArrayBuffer)||W&&Le(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(W,SharedArrayBuffer)||W&&Le(W.buffer,SharedArrayBuffer)))return g(W,C,L);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=W.valueOf&&W.valueOf();if(ne!=null&&ne!==W)return a.from(ne,C,L);const we=_(W);if(we)return we;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return a.from(W[Symbol.toPrimitive]("string"),C,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}a.from=function(W,C,L){return s(W,C,L)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function u(W,C,L){return l(W),W<=0?o(W):C!==void 0?typeof L=="string"?o(W).fill(C,L):o(W).fill(C):o(W)}a.alloc=function(W,C,L){return u(W,C,L)};function f(W){return l(W),o(W<0?0:v(W)|0)}a.allocUnsafe=function(W){return f(W)},a.allocUnsafeSlow=function(W){return f(W)};function c(W,C){if((typeof C!="string"||C==="")&&(C="utf8"),!a.isEncoding(C))throw new TypeError("Unknown encoding: "+C);const L=E(W,C)|0;let ne=o(L);const we=ne.write(W,C);return we!==L&&(ne=ne.slice(0,we)),ne}function h(W){const C=W.length<0?0:v(W.length)|0,L=o(C);for(let ne=0;ne<C;ne+=1)L[ne]=W[ne]&255;return L}function m(W){if(Le(W,Uint8Array)){const C=new Uint8Array(W);return g(C.buffer,C.byteOffset,C.byteLength)}return h(W)}function g(W,C,L){if(C<0||W.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<C+(L||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return C===void 0&&L===void 0?ne=new Uint8Array(W):L===void 0?ne=new Uint8Array(W,C):ne=new Uint8Array(W,C,L),Object.setPrototypeOf(ne,a.prototype),ne}function _(W){if(a.isBuffer(W)){const C=v(W.length)|0,L=o(C);return L.length===0||W.copy(L,0,0,C),L}if(W.length!==void 0)return typeof W.length!="number"||je(W.length)?o(0):h(W);if(W.type==="Buffer"&&Array.isArray(W.data))return h(W.data)}function v(W){if(W>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return W|0}function p(W){return+W!=W&&(W=0),a.alloc(+W)}a.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==a.prototype},a.compare=function(C,L){if(Le(C,Uint8Array)&&(C=a.from(C,C.offset,C.byteLength)),Le(L,Uint8Array)&&(L=a.from(L,L.offset,L.byteLength)),!a.isBuffer(C)||!a.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===L)return 0;let ne=C.length,we=L.length;for(let Se=0,ke=Math.min(ne,we);Se<ke;++Se)if(C[Se]!==L[Se]){ne=C[Se],we=L[Se];break}return ne<we?-1:we<ne?1:0},a.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(C,L){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return a.alloc(0);let ne;if(L===void 0)for(L=0,ne=0;ne<C.length;++ne)L+=C[ne].length;const we=a.allocUnsafe(L);let Se=0;for(ne=0;ne<C.length;++ne){let ke=C[ne];if(Le(ke,Uint8Array))Se+ke.length>we.length?(a.isBuffer(ke)||(ke=a.from(ke)),ke.copy(we,Se)):Uint8Array.prototype.set.call(we,ke,Se);else if(a.isBuffer(ke))ke.copy(we,Se);else throw new TypeError('"list" argument must be an Array of Buffers');Se+=ke.length}return we};function E(W,C){if(a.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||Le(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const L=W.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&L===0)return 0;let we=!1;for(;;)switch(C){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return re(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return me(W).length;default:if(we)return ne?-1:re(W).length;C=(""+C).toLowerCase(),we=!0}}a.byteLength=E;function y(W,C,L){let ne=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,C>>>=0,L<=C))return"";for(W||(W="utf8");;)switch(W){case"hex":return ee(this,C,L);case"utf8":case"utf-8":return V(this,C,L);case"ascii":return Q(this,C,L);case"latin1":case"binary":return ce(this,C,L);case"base64":return F(this,C,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,C,L);default:if(ne)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),ne=!0}}a.prototype._isBuffer=!0;function S(W,C,L){const ne=W[C];W[C]=W[L],W[L]=ne}a.prototype.swap16=function(){const C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<C;L+=2)S(this,L,L+1);return this},a.prototype.swap32=function(){const C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<C;L+=4)S(this,L,L+3),S(this,L+1,L+2);return this},a.prototype.swap64=function(){const C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<C;L+=8)S(this,L,L+7),S(this,L+1,L+6),S(this,L+2,L+5),S(this,L+3,L+4);return this},a.prototype.toString=function(){const C=this.length;return C===0?"":arguments.length===0?V(this,0,C):y.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(C){if(!a.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:a.compare(this,C)===0},a.prototype.inspect=function(){let C="";const L=cu.INSPECT_MAX_BYTES;return C=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(C+=" ... "),"<Buffer "+C+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(C,L,ne,we,Se){if(Le(C,Uint8Array)&&(C=a.from(C,C.offset,C.byteLength)),!a.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(L===void 0&&(L=0),ne===void 0&&(ne=C?C.length:0),we===void 0&&(we=0),Se===void 0&&(Se=this.length),L<0||ne>C.length||we<0||Se>this.length)throw new RangeError("out of range index");if(we>=Se&&L>=ne)return 0;if(we>=Se)return-1;if(L>=ne)return 1;if(L>>>=0,ne>>>=0,we>>>=0,Se>>>=0,this===C)return 0;let ke=Se-we,Ie=ne-L;const Fe=Math.min(ke,Ie),ft=this.slice(we,Se),vt=C.slice(L,ne);for(let at=0;at<Fe;++at)if(ft[at]!==vt[at]){ke=ft[at],Ie=vt[at];break}return ke<Ie?-1:Ie<ke?1:0};function $(W,C,L,ne,we){if(W.length===0)return-1;if(typeof L=="string"?(ne=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,je(L)&&(L=we?0:W.length-1),L<0&&(L=W.length+L),L>=W.length){if(we)return-1;L=W.length-1}else if(L<0)if(we)L=0;else return-1;if(typeof C=="string"&&(C=a.from(C,ne)),a.isBuffer(C))return C.length===0?-1:T(W,C,L,ne,we);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?we?Uint8Array.prototype.indexOf.call(W,C,L):Uint8Array.prototype.lastIndexOf.call(W,C,L):T(W,[C],L,ne,we);throw new TypeError("val must be string, number or Buffer")}function T(W,C,L,ne,we){let Se=1,ke=W.length,Ie=C.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(W.length<2||C.length<2)return-1;Se=2,ke/=2,Ie/=2,L/=2}function Fe(vt,at){return Se===1?vt[at]:vt.readUInt16BE(at*Se)}let ft;if(we){let vt=-1;for(ft=L;ft<ke;ft++)if(Fe(W,ft)===Fe(C,vt===-1?0:ft-vt)){if(vt===-1&&(vt=ft),ft-vt+1===Ie)return vt*Se}else vt!==-1&&(ft-=ft-vt),vt=-1}else for(L+Ie>ke&&(L=ke-Ie),ft=L;ft>=0;ft--){let vt=!0;for(let at=0;at<Ie;at++)if(Fe(W,ft+at)!==Fe(C,at)){vt=!1;break}if(vt)return ft}return-1}a.prototype.includes=function(C,L,ne){return this.indexOf(C,L,ne)!==-1},a.prototype.indexOf=function(C,L,ne){return $(this,C,L,ne,!0)},a.prototype.lastIndexOf=function(C,L,ne){return $(this,C,L,ne,!1)};function d(W,C,L,ne){L=Number(L)||0;const we=W.length-L;ne?(ne=Number(ne),ne>we&&(ne=we)):ne=we;const Se=C.length;ne>Se/2&&(ne=Se/2);let ke;for(ke=0;ke<ne;++ke){const Ie=parseInt(C.substr(ke*2,2),16);if(je(Ie))return ke;W[L+ke]=Ie}return ke}function A(W,C,L,ne){return Re(re(C,W.length-L),W,L,ne)}function P(W,C,L,ne){return Re(le(C),W,L,ne)}function x(W,C,L,ne){return Re(me(C),W,L,ne)}function D(W,C,L,ne){return Re(fe(C,W.length-L),W,L,ne)}a.prototype.write=function(C,L,ne,we){if(L===void 0)we="utf8",ne=this.length,L=0;else if(ne===void 0&&typeof L=="string")we=L,ne=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(ne)?(ne=ne>>>0,we===void 0&&(we="utf8")):(we=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Se=this.length-L;if((ne===void 0||ne>Se)&&(ne=Se),C.length>0&&(ne<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");we||(we="utf8");let ke=!1;for(;;)switch(we){case"hex":return d(this,C,L,ne);case"utf8":case"utf-8":return A(this,C,L,ne);case"ascii":case"latin1":case"binary":return P(this,C,L,ne);case"base64":return x(this,C,L,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,C,L,ne);default:if(ke)throw new TypeError("Unknown encoding: "+we);we=(""+we).toLowerCase(),ke=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(W,C,L){return C===0&&L===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(C,L))}function V(W,C,L){L=Math.min(W.length,L);const ne=[];let we=C;for(;we<L;){const Se=W[we];let ke=null,Ie=Se>239?4:Se>223?3:Se>191?2:1;if(we+Ie<=L){let Fe,ft,vt,at;switch(Ie){case 1:Se<128&&(ke=Se);break;case 2:Fe=W[we+1],(Fe&192)===128&&(at=(Se&31)<<6|Fe&63,at>127&&(ke=at));break;case 3:Fe=W[we+1],ft=W[we+2],(Fe&192)===128&&(ft&192)===128&&(at=(Se&15)<<12|(Fe&63)<<6|ft&63,at>2047&&(at<55296||at>57343)&&(ke=at));break;case 4:Fe=W[we+1],ft=W[we+2],vt=W[we+3],(Fe&192)===128&&(ft&192)===128&&(vt&192)===128&&(at=(Se&15)<<18|(Fe&63)<<12|(ft&63)<<6|vt&63,at>65535&&at<1114112&&(ke=at))}}ke===null?(ke=65533,Ie=1):ke>65535&&(ke-=65536,ne.push(ke>>>10&1023|55296),ke=56320|ke&1023),ne.push(ke),we+=Ie}return G(ne)}const X=4096;function G(W){const C=W.length;if(C<=X)return String.fromCharCode.apply(String,W);let L="",ne=0;for(;ne<C;)L+=String.fromCharCode.apply(String,W.slice(ne,ne+=X));return L}function Q(W,C,L){let ne="";L=Math.min(W.length,L);for(let we=C;we<L;++we)ne+=String.fromCharCode(W[we]&127);return ne}function ce(W,C,L){let ne="";L=Math.min(W.length,L);for(let we=C;we<L;++we)ne+=String.fromCharCode(W[we]);return ne}function ee(W,C,L){const ne=W.length;(!C||C<0)&&(C=0),(!L||L<0||L>ne)&&(L=ne);let we="";for(let Se=C;Se<L;++Se)we+=tt[W[Se]];return we}function ae(W,C,L){const ne=W.slice(C,L);let we="";for(let Se=0;Se<ne.length-1;Se+=2)we+=String.fromCharCode(ne[Se]+ne[Se+1]*256);return we}a.prototype.slice=function(C,L){const ne=this.length;C=~~C,L=L===void 0?ne:~~L,C<0?(C+=ne,C<0&&(C=0)):C>ne&&(C=ne),L<0?(L+=ne,L<0&&(L=0)):L>ne&&(L=ne),L<C&&(L=C);const we=this.subarray(C,L);return Object.setPrototypeOf(we,a.prototype),we};function M(W,C,L){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+C>L)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(C,L,ne){C=C>>>0,L=L>>>0,ne||M(C,L,this.length);let we=this[C],Se=1,ke=0;for(;++ke<L&&(Se*=256);)we+=this[C+ke]*Se;return we},a.prototype.readUintBE=a.prototype.readUIntBE=function(C,L,ne){C=C>>>0,L=L>>>0,ne||M(C,L,this.length);let we=this[C+--L],Se=1;for(;L>0&&(Se*=256);)we+=this[C+--L]*Se;return we},a.prototype.readUint8=a.prototype.readUInt8=function(C,L){return C=C>>>0,L||M(C,1,this.length),this[C]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(C,L){return C=C>>>0,L||M(C,2,this.length),this[C]|this[C+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(C,L){return C=C>>>0,L||M(C,2,this.length),this[C]<<8|this[C+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(C,L){return C=C>>>0,L||M(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(C,L){return C=C>>>0,L||M(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},a.prototype.readBigUInt64LE=Ge(function(C){C=C>>>0,R(C,"offset");const L=this[C],ne=this[C+7];(L===void 0||ne===void 0)&&I(C,this.length-8);const we=L+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24,Se=this[++C]+this[++C]*2**8+this[++C]*2**16+ne*2**24;return BigInt(we)+(BigInt(Se)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ge(function(C){C=C>>>0,R(C,"offset");const L=this[C],ne=this[C+7];(L===void 0||ne===void 0)&&I(C,this.length-8);const we=L*2**24+this[++C]*2**16+this[++C]*2**8+this[++C],Se=this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+ne;return(BigInt(we)<<BigInt(32))+BigInt(Se)}),a.prototype.readIntLE=function(C,L,ne){C=C>>>0,L=L>>>0,ne||M(C,L,this.length);let we=this[C],Se=1,ke=0;for(;++ke<L&&(Se*=256);)we+=this[C+ke]*Se;return Se*=128,we>=Se&&(we-=Math.pow(2,8*L)),we},a.prototype.readIntBE=function(C,L,ne){C=C>>>0,L=L>>>0,ne||M(C,L,this.length);let we=L,Se=1,ke=this[C+--we];for(;we>0&&(Se*=256);)ke+=this[C+--we]*Se;return Se*=128,ke>=Se&&(ke-=Math.pow(2,8*L)),ke},a.prototype.readInt8=function(C,L){return C=C>>>0,L||M(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},a.prototype.readInt16LE=function(C,L){C=C>>>0,L||M(C,2,this.length);const ne=this[C]|this[C+1]<<8;return ne&32768?ne|4294901760:ne},a.prototype.readInt16BE=function(C,L){C=C>>>0,L||M(C,2,this.length);const ne=this[C+1]|this[C]<<8;return ne&32768?ne|4294901760:ne},a.prototype.readInt32LE=function(C,L){return C=C>>>0,L||M(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},a.prototype.readInt32BE=function(C,L){return C=C>>>0,L||M(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},a.prototype.readBigInt64LE=Ge(function(C){C=C>>>0,R(C,"offset");const L=this[C],ne=this[C+7];(L===void 0||ne===void 0)&&I(C,this.length-8);const we=this[C+4]+this[C+5]*2**8+this[C+6]*2**16+(ne<<24);return(BigInt(we)<<BigInt(32))+BigInt(L+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24)}),a.prototype.readBigInt64BE=Ge(function(C){C=C>>>0,R(C,"offset");const L=this[C],ne=this[C+7];(L===void 0||ne===void 0)&&I(C,this.length-8);const we=(L<<24)+this[++C]*2**16+this[++C]*2**8+this[++C];return(BigInt(we)<<BigInt(32))+BigInt(this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+ne)}),a.prototype.readFloatLE=function(C,L){return C=C>>>0,L||M(C,4,this.length),t.read(this,C,!0,23,4)},a.prototype.readFloatBE=function(C,L){return C=C>>>0,L||M(C,4,this.length),t.read(this,C,!1,23,4)},a.prototype.readDoubleLE=function(C,L){return C=C>>>0,L||M(C,8,this.length),t.read(this,C,!0,52,8)},a.prototype.readDoubleBE=function(C,L){return C=C>>>0,L||M(C,8,this.length),t.read(this,C,!1,52,8)};function B(W,C,L,ne,we,Se){if(!a.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>we||C<Se)throw new RangeError('"value" argument is out of bounds');if(L+ne>W.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(C,L,ne,we){if(C=+C,L=L>>>0,ne=ne>>>0,!we){const Ie=Math.pow(2,8*ne)-1;B(this,C,L,ne,Ie,0)}let Se=1,ke=0;for(this[L]=C&255;++ke<ne&&(Se*=256);)this[L+ke]=C/Se&255;return L+ne},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(C,L,ne,we){if(C=+C,L=L>>>0,ne=ne>>>0,!we){const Ie=Math.pow(2,8*ne)-1;B(this,C,L,ne,Ie,0)}let Se=ne-1,ke=1;for(this[L+Se]=C&255;--Se>=0&&(ke*=256);)this[L+Se]=C/ke&255;return L+ne},a.prototype.writeUint8=a.prototype.writeUInt8=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,1,255,0),this[L]=C&255,L+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,2,65535,0),this[L]=C&255,this[L+1]=C>>>8,L+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,2,65535,0),this[L]=C>>>8,this[L+1]=C&255,L+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,4,4294967295,0),this[L+3]=C>>>24,this[L+2]=C>>>16,this[L+1]=C>>>8,this[L]=C&255,L+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,4,4294967295,0),this[L]=C>>>24,this[L+1]=C>>>16,this[L+2]=C>>>8,this[L+3]=C&255,L+4};function K(W,C,L,ne,we){ye(C,ne,we,W,L,7);let Se=Number(C&BigInt(4294967295));W[L++]=Se,Se=Se>>8,W[L++]=Se,Se=Se>>8,W[L++]=Se,Se=Se>>8,W[L++]=Se;let ke=Number(C>>BigInt(32)&BigInt(4294967295));return W[L++]=ke,ke=ke>>8,W[L++]=ke,ke=ke>>8,W[L++]=ke,ke=ke>>8,W[L++]=ke,L}function O(W,C,L,ne,we){ye(C,ne,we,W,L,7);let Se=Number(C&BigInt(4294967295));W[L+7]=Se,Se=Se>>8,W[L+6]=Se,Se=Se>>8,W[L+5]=Se,Se=Se>>8,W[L+4]=Se;let ke=Number(C>>BigInt(32)&BigInt(4294967295));return W[L+3]=ke,ke=ke>>8,W[L+2]=ke,ke=ke>>8,W[L+1]=ke,ke=ke>>8,W[L]=ke,L+8}a.prototype.writeBigUInt64LE=Ge(function(C,L=0){return K(this,C,L,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ge(function(C,L=0){return O(this,C,L,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(C,L,ne,we){if(C=+C,L=L>>>0,!we){const Fe=Math.pow(2,8*ne-1);B(this,C,L,ne,Fe-1,-Fe)}let Se=0,ke=1,Ie=0;for(this[L]=C&255;++Se<ne&&(ke*=256);)C<0&&Ie===0&&this[L+Se-1]!==0&&(Ie=1),this[L+Se]=(C/ke>>0)-Ie&255;return L+ne},a.prototype.writeIntBE=function(C,L,ne,we){if(C=+C,L=L>>>0,!we){const Fe=Math.pow(2,8*ne-1);B(this,C,L,ne,Fe-1,-Fe)}let Se=ne-1,ke=1,Ie=0;for(this[L+Se]=C&255;--Se>=0&&(ke*=256);)C<0&&Ie===0&&this[L+Se+1]!==0&&(Ie=1),this[L+Se]=(C/ke>>0)-Ie&255;return L+ne},a.prototype.writeInt8=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,1,127,-128),C<0&&(C=255+C+1),this[L]=C&255,L+1},a.prototype.writeInt16LE=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,2,32767,-32768),this[L]=C&255,this[L+1]=C>>>8,L+2},a.prototype.writeInt16BE=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,2,32767,-32768),this[L]=C>>>8,this[L+1]=C&255,L+2},a.prototype.writeInt32LE=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,4,2147483647,-2147483648),this[L]=C&255,this[L+1]=C>>>8,this[L+2]=C>>>16,this[L+3]=C>>>24,L+4},a.prototype.writeInt32BE=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[L]=C>>>24,this[L+1]=C>>>16,this[L+2]=C>>>8,this[L+3]=C&255,L+4},a.prototype.writeBigInt64LE=Ge(function(C,L=0){return K(this,C,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ge(function(C,L=0){return O(this,C,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function k(W,C,L,ne,we,Se){if(L+ne>W.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function q(W,C,L,ne,we){return C=+C,L=L>>>0,we||k(W,C,L,4),t.write(W,C,L,ne,23,4),L+4}a.prototype.writeFloatLE=function(C,L,ne){return q(this,C,L,!0,ne)},a.prototype.writeFloatBE=function(C,L,ne){return q(this,C,L,!1,ne)};function ie(W,C,L,ne,we){return C=+C,L=L>>>0,we||k(W,C,L,8),t.write(W,C,L,ne,52,8),L+8}a.prototype.writeDoubleLE=function(C,L,ne){return ie(this,C,L,!0,ne)},a.prototype.writeDoubleBE=function(C,L,ne){return ie(this,C,L,!1,ne)},a.prototype.copy=function(C,L,ne,we){if(!a.isBuffer(C))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!we&&we!==0&&(we=this.length),L>=C.length&&(L=C.length),L||(L=0),we>0&&we<ne&&(we=ne),we===ne||C.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("sourceEnd out of bounds");we>this.length&&(we=this.length),C.length-L<we-ne&&(we=C.length-L+ne);const Se=we-ne;return this===C&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,ne,we):Uint8Array.prototype.set.call(C,this.subarray(ne,we),L),Se},a.prototype.fill=function(C,L,ne,we){if(typeof C=="string"){if(typeof L=="string"?(we=L,L=0,ne=this.length):typeof ne=="string"&&(we=ne,ne=this.length),we!==void 0&&typeof we!="string")throw new TypeError("encoding must be a string");if(typeof we=="string"&&!a.isEncoding(we))throw new TypeError("Unknown encoding: "+we);if(C.length===1){const ke=C.charCodeAt(0);(we==="utf8"&&ke<128||we==="latin1")&&(C=ke)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(L<0||this.length<L||this.length<ne)throw new RangeError("Out of range index");if(ne<=L)return this;L=L>>>0,ne=ne===void 0?this.length:ne>>>0,C||(C=0);let Se;if(typeof C=="number")for(Se=L;Se<ne;++Se)this[Se]=C;else{const ke=a.isBuffer(C)?C:a.from(C,we),Ie=ke.length;if(Ie===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(Se=0;Se<ne-L;++Se)this[Se+L]=ke[Se%Ie]}return this};const J={};function Y(W,C,L){J[W]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:C.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(we){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:we,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(W,C){return`The "${W}" argument must be of type number. Received type ${typeof C}`},TypeError),Y("ERR_OUT_OF_RANGE",function(W,C,L){let ne=`The value of "${W}" is out of range.`,we=L;return Number.isInteger(L)&&Math.abs(L)>2**32?we=oe(String(L)):typeof L=="bigint"&&(we=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(we=oe(we)),we+="n"),ne+=` It must be ${C}. Received ${we}`,ne},RangeError);function oe(W){let C="",L=W.length;const ne=W[0]==="-"?1:0;for(;L>=ne+4;L-=3)C=`_${W.slice(L-3,L)}${C}`;return`${W.slice(0,L)}${C}`}function _e(W,C,L){R(C,"offset"),(W[C]===void 0||W[C+L]===void 0)&&I(C,W.length-(L+1))}function ye(W,C,L,ne,we,Se){if(W>L||W<C){const ke=typeof C=="bigint"?"n":"";let Ie;throw C===0||C===BigInt(0)?Ie=`>= 0${ke} and < 2${ke} ** ${(Se+1)*8}${ke}`:Ie=`>= -(2${ke} ** ${(Se+1)*8-1}${ke}) and < 2 ** ${(Se+1)*8-1}${ke}`,new J.ERR_OUT_OF_RANGE("value",Ie,W)}_e(ne,we,Se)}function R(W,C){if(typeof W!="number")throw new J.ERR_INVALID_ARG_TYPE(C,"number",W)}function I(W,C,L){throw Math.floor(W)!==W?(R(W,L),new J.ERR_OUT_OF_RANGE("offset","an integer",W)):C<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${C}`,W)}const N=/[^+/0-9A-Za-z-_]/g;function H(W){if(W=W.split("=")[0],W=W.trim().replace(N,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function re(W,C){C=C||1/0;let L;const ne=W.length;let we=null;const Se=[];for(let ke=0;ke<ne;++ke){if(L=W.charCodeAt(ke),L>55295&&L<57344){if(!we){if(L>56319){(C-=3)>-1&&Se.push(239,191,189);continue}else if(ke+1===ne){(C-=3)>-1&&Se.push(239,191,189);continue}we=L;continue}if(L<56320){(C-=3)>-1&&Se.push(239,191,189),we=L;continue}L=(we-55296<<10|L-56320)+65536}else we&&(C-=3)>-1&&Se.push(239,191,189);if(we=null,L<128){if((C-=1)<0)break;Se.push(L)}else if(L<2048){if((C-=2)<0)break;Se.push(L>>6|192,L&63|128)}else if(L<65536){if((C-=3)<0)break;Se.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((C-=4)<0)break;Se.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return Se}function le(W){const C=[];for(let L=0;L<W.length;++L)C.push(W.charCodeAt(L)&255);return C}function fe(W,C){let L,ne,we;const Se=[];for(let ke=0;ke<W.length&&!((C-=2)<0);++ke)L=W.charCodeAt(ke),ne=L>>8,we=L%256,Se.push(we),Se.push(ne);return Se}function me(W){return e.toByteArray(H(W))}function Re(W,C,L,ne){let we;for(we=0;we<ne&&!(we+L>=C.length||we>=W.length);++we)C[we+L]=W[we];return we}function Le(W,C){return W instanceof C||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===C.name}function je(W){return W!==W}const tt=function(){const W="0123456789abcdef",C=new Array(256);for(let L=0;L<16;++L){const ne=L*16;for(let we=0;we<16;++we)C[ne+we]=W[L]+W[we]}return C}();function Ge(W){return typeof BigInt>"u"?Ue:W}function Ue(){throw new Error("BigInt not supported")}return cu}var hd,oT,Ep,aT,cu,sT,I_=tn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtuTasat.js"(){Ae(),hd={},oT=!1,Ep={},aT=!1,cu={},sT=!1}}),Yu={};Ys(Yu,{Buffer:()=>Kr,INSPECT_MAX_BYTES:()=>X4,default:()=>ul,kMaxLength:()=>Q4});var ul,Kr,X4,Q4,Xu=tn({"../../node_modules/@jspm/core/nodelibs/browser/buffer.js"(){Ae(),I_(),ul=xo(),ul.Buffer,ul.SlowBuffer,ul.INSPECT_MAX_BYTES,ul.kMaxLength,Kr=ul.Buffer,X4=ul.INSPECT_MAX_BYTES,Q4=ul.kMaxLength}}),Ae=tn({"../../node_modules/esbuild-plugin-polyfill-node/polyfills/buffer.js"(){Xu()}}),ug=Oe({"../core/dist/thing-description.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.ThingEvent=e.ThingAction=e.ThingProperty=e.BaseSchema=e.Form=e.Thing=e.DEFAULT_THING_TYPE=e.DEFAULT_CONTEXT_LANGUAGE=e.DEFAULT_CONTEXT_V11=e.DEFAULT_CONTEXT_V1=void 0,e.DEFAULT_CONTEXT_V1="https://www.w3.org/2019/wot/td/v1",e.DEFAULT_CONTEXT_V11="https://www.w3.org/2022/wot/td/v1.1",e.DEFAULT_CONTEXT_LANGUAGE="en",e.DEFAULT_THING_TYPE="Thing";var t=class{constructor(){this["@context"]=[e.DEFAULT_CONTEXT_V1,e.DEFAULT_CONTEXT_V11],this["@type"]=e.DEFAULT_THING_TYPE,this.title="",this.securityDefinitions={},this.security="",this.properties={},this.actions={},this.events={},this.links=[]}};e.Thing=t;var r=class{constructor(s,l){this.href=s,l!=null&&(this.contentType=l)}};e.Form=r;var n=class{};e.BaseSchema=n;var i=class extends n{};e.ThingProperty=i;var o=class{};e.ThingAction=o;var a=class{};e.ThingEvent=a}}),q5=Oe({"../../node_modules/ms/index.js"(e,t){Ae();var r=1e3,n=r*60,i=n*60,o=i*24,a=o*7,s=o*365.25;t.exports=function(h,m){m=m||{};var g=typeof h;if(g==="string"&&h.length>0)return l(h);if(g==="number"&&isFinite(h))return m.long?f(h):u(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function l(h){if(h=String(h),!(h.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(m){var g=parseFloat(m[1]),_=(m[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return g*s;case"weeks":case"week":case"w":return g*a;case"days":case"day":case"d":return g*o;case"hours":case"hour":case"hrs":case"hr":case"h":return g*i;case"minutes":case"minute":case"mins":case"min":case"m":return g*n;case"seconds":case"second":case"secs":case"sec":case"s":return g*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function u(h){var m=Math.abs(h);return m>=o?Math.round(h/o)+"d":m>=i?Math.round(h/i)+"h":m>=n?Math.round(h/n)+"m":m>=r?Math.round(h/r)+"s":h+"ms"}function f(h){var m=Math.abs(h);return m>=o?c(h,m,o,"day"):m>=i?c(h,m,i,"hour"):m>=n?c(h,m,n,"minute"):m>=r?c(h,m,r,"second"):h+" ms"}function c(h,m,g,_){var v=m>=g*1.5;return Math.round(h/g)+" "+_+(v?"s":"")}}}),V5=Oe({"../../node_modules/debug/src/common.js"(e,t){Ae();function r(n){o.debug=o,o.default=o,o.coerce=c,o.disable=l,o.enable=s,o.enabled=u,o.humanize=q5(),o.destroy=h,Object.keys(n).forEach(m=>{o[m]=n[m]}),o.names=[],o.skips=[],o.formatters={};function i(m){let g=0;for(let _=0;_<m.length;_++)g=(g<<5)-g+m.charCodeAt(_),g|=0;return o.colors[Math.abs(g)%o.colors.length]}o.selectColor=i;function o(m){let g,_=null,v,p;function E(...y){if(!E.enabled)return;const S=E,$=Number(new Date),T=$-(g||$);S.diff=T,S.prev=g,S.curr=$,g=$,y[0]=o.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let d=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(P,x)=>{if(P==="%%")return"%";d++;const D=o.formatters[x];if(typeof D=="function"){const F=y[d];P=D.call(S,F),y.splice(d,1),d--}return P}),o.formatArgs.call(S,y),(S.log||o.log).apply(S,y)}return E.namespace=m,E.useColors=o.useColors(),E.color=o.selectColor(m),E.extend=a,E.destroy=o.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(v!==o.namespaces&&(v=o.namespaces,p=o.enabled(m)),p),set:y=>{_=y}}),typeof o.init=="function"&&o.init(E),E}function a(m,g){const _=o(this.namespace+(typeof g>"u"?":":g)+m);return _.log=this.log,_}function s(m){o.save(m),o.namespaces=m,o.names=[],o.skips=[];let g;const _=(typeof m=="string"?m:"").split(/[\s,]+/),v=_.length;for(g=0;g<v;g++)_[g]&&(m=_[g].replace(/\*/g,".*?"),m[0]==="-"?o.skips.push(new RegExp("^"+m.slice(1)+"$")):o.names.push(new RegExp("^"+m+"$")))}function l(){const m=[...o.names.map(f),...o.skips.map(f).map(g=>"-"+g)].join(",");return o.enable(""),m}function u(m){if(m[m.length-1]==="*")return!0;let g,_;for(g=0,_=o.skips.length;g<_;g++)if(o.skips[g].test(m))return!1;for(g=0,_=o.names.length;g<_;g++)if(o.names[g].test(m))return!0;return!1}function f(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function c(m){return m instanceof Error?m.stack||m.message:m}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}t.exports=r}}),Z4=Oe({"../../node_modules/debug/src/browser.js"(e,t){Ae(),e.formatArgs=n,e.save=i,e.load=o,e.useColors=r,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let f=0,c=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(f++,h==="%c"&&(c=f))}),l.splice(c,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=D5.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=V5()(e);var{formatters:s}=t.exports;s.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}}),Oo=Oe({"../core/dist/logger.js"(e){Ae();var t=e&&e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.createInfoLogger=o,e.createDebugLogger=a,e.createWarnLogger=s,e.createErrorLogger=l,e.createLoggers=u;var r=t(Z4()),n;(function(f){f[f.info=0]="info",f[f.debug=1]="debug",f[f.warn=2]="warn",f[f.error=3]="error"})(n||(n={}));function i(f,c){const h=["node-wot",...f,n[c]].join(":");return(0,r.default)(h)}function o(...f){return i(f,n.info)}function a(...f){return i(f,n.debug)}function s(...f){return i(f,n.warn)}function l(...f){return i(f,n.error)}function u(...f){return{info:o(...f),debug:a(...f),warn:s(...f),error:l(...f)}}}}),H5=Oe({"../../node_modules/is-absolute-url/index.js"(e,t){Ae(),t.exports=r=>{if(typeof r!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof r}\``);return/^[a-zA-Z]:\\/.test(r)?!1:/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(r)}}}),G5=Oe({"../../node_modules/url-toolkit/src/url-toolkit.js"(e,t){Ae(),function(r){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(l,u,f){if(f=f||{},l=l.trim(),u=u.trim(),!u){if(!f.alwaysNormalize)return l;var c=s.parseURL(l);if(!c)throw new Error("Error trying to parse base URL.");return c.path=s.normalizePath(c.path),s.buildURLFromParts(c)}var h=s.parseURL(u);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return f.alwaysNormalize?(h.path=s.normalizePath(h.path),s.buildURLFromParts(h)):u;var m=s.parseURL(l);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var g=i.exec(m.path);m.netLoc=g[1],m.path=g[2]}m.netLoc&&!m.path&&(m.path="/");var _={scheme:m.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(_.netLoc=m.netLoc,h.path[0]!=="/"))if(!h.path)_.path=m.path,h.params||(_.params=m.params,h.query||(_.query=m.query));else{var v=m.path,p=v.substring(0,v.lastIndexOf("/")+1)+h.path;_.path=s.normalizePath(p)}return _.path===null&&(_.path=f.alwaysNormalize?s.normalizePath(h.path):h.path),s.buildURLFromParts(_)},parseURL:function(l){var u=n.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(o,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};typeof e=="object"&&typeof t=="object"?t.exports=s:typeof define=="function"&&define.amd?define([],function(){return s}):typeof e=="object"?e.URLToolkit=s:r.URLToolkit=s}(e)}}),tR=Oe({"../core/dist/serdes.js"(e){Ae();var t=e&&e.__createBinding||(Object.create?function(_,v,p,E){E===void 0&&(E=p);var y=Object.getOwnPropertyDescriptor(v,p);(!y||("get"in y?!v.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return v[p]}}),Object.defineProperty(_,E,y)}:function(_,v,p,E){E===void 0&&(E=p),_[E]=v[p]}),r=e&&e.__setModuleDefault||(Object.create?function(_,v){Object.defineProperty(_,"default",{enumerable:!0,value:v})}:function(_,v){_.default=v}),n=e&&e.__importStar||function(){var _=function(v){return _=Object.getOwnPropertyNames||function(p){var E=[];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(E[E.length]=y);return E},_(v)};return function(v){if(v&&v.__esModule)return v;var p={};if(v!=null)for(var E=_(v),y=0;y<E.length;y++)E[y]!=="default"&&t(p,v,E[y]);return r(p,v),p}}();Object.defineProperty(e,"__esModule",{value:!0}),e.setContextLanguage=h,e.parseTD=m,e.serializeTD=g;var i=n(ug()),o=Oo(),a=H5(),s=G5(),{debug:l,warn:u}=(0,o.createLoggers)("core","serdes");function f(_,v){const p=_[v];(typeof p!="object"||p==null)&&(_[v]={})}function c(_,v){const p=_[v];(p===void 0||typeof p!="boolean")&&(_[v]=!1)}function h(_,v,p){if(Array.isArray(_["@context"])){const E=_["@context"];let y=!1;for(const S of E)typeof S=="object"&&S["@language"]!==void 0&&(p&&(S["@language"]=v),y=!0);y||E.push({"@language":v})}}function m(_,v){l(`parseTD() parsing
\`\`\`
${_}
\`\`\``);const p=JSON.parse(_.replace(/^\uFEFF/,""));if(p["@context"]===void 0)p["@context"]=[i.DEFAULT_CONTEXT_V1,i.DEFAULT_CONTEXT_V11];else if(Array.isArray(p["@context"])){let y=p["@context"];const S=y.indexOf(i.DEFAULT_CONTEXT_V1),$=y.indexOf(i.DEFAULT_CONTEXT_V11);S===-1&&$===-1?(y.unshift(i.DEFAULT_CONTEXT_V11),y.unshift(i.DEFAULT_CONTEXT_V1)):(S!==-1&&$!==-1?(y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V1}),y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V11}),y.unshift(i.DEFAULT_CONTEXT_V11),y.unshift(i.DEFAULT_CONTEXT_V1)):(S!==-1&&S!==0&&(y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V1}),y.unshift(i.DEFAULT_CONTEXT_V1)),$!==-1&&$!==0&&(y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V11}),y.unshift(i.DEFAULT_CONTEXT_V11))),p["@context"]=y)}else if(p["@context"]!==i.DEFAULT_CONTEXT_V1&&p["@context"]!==i.DEFAULT_CONTEXT_V11){const y=p["@context"];p["@context"]=[i.DEFAULT_CONTEXT_V1,i.DEFAULT_CONTEXT_V11,y]}if(h(p,i.DEFAULT_CONTEXT_LANGUAGE,!1),p["@type"]===void 0)p["@type"]=i.DEFAULT_THING_TYPE;else if(Array.isArray(p["@type"])){const y=p["@type"];y.indexOf(i.DEFAULT_THING_TYPE)===-1&&y.unshift(i.DEFAULT_THING_TYPE)}else if(p["@type"]!==i.DEFAULT_THING_TYPE){const y=p["@type"];p["@type"]=[i.DEFAULT_THING_TYPE,y]}for(const y of Object.values(p.properties??{}))for(const S of["readOnly","writeOnly","observable"])c(y,S);for(const y of Object.values(p.actions??{}))for(const S of["safe","idempotent"])c(y,S);for(const y of["properties","actions","events"])f(p,y);p.security===void 0&&u("parseTD() found no security metadata"),typeof p.security=="string"&&(p.security=[p.security]);const E=[];for(const[y,S]of Object.entries(p.properties??{})){if(S.forms==null)throw new Error(`Property '${y}' has no forms field`);for(const $ of S.forms){if(!$.href)throw new Error(`Form of Property '${y}' has no href field`);if(!a($.href)&&p.base==null)throw new Error(`Form of Property '${y}' has relative URI while TD has no base field`);E.push($)}}for(const[y,S]of Object.entries(p.actions??{})){if(S.forms==null)throw new Error(`Action '${y}' has no forms field`);for(const $ of S.forms){if(!$.href)throw new Error(`Form of Action '${y}' has no href field`);if(!a($.href)&&p.base==null)throw new Error(`Form of Action '${y}' has relative URI while TD has no base field`);E.push($)}}for(const[y,S]of Object.entries(p.events??{})){if(S.forms==null)throw new Error(`Event '${y}' has no forms field`);for(const $ of S.forms){if(!$.href)throw new Error(`Form of Event '${y}' has no href field`);if(!a($.href)&&p.base==null)throw new Error(`Form of Event '${y}' has relative URI while TD has no base field`);E.push($)}}if(Object.prototype.hasOwnProperty.call(p,"base")&&(v===void 0||v===!0)){l("parseTD() normalizing 'base' into 'forms'");for(const y of E)y.href.match(/^([a-z0-9+-.]+:).+/i)||(l(`parseTDString() applying base '${p.base}' to '${y.href}'`),y.href=s.buildAbsoluteURL(p.base,y.href))}return p}function g(_){var E;const v=JSON.parse(JSON.stringify(_));if((v.security==null||v.security.length===0)&&(v.securityDefinitions={nosec_sc:{scheme:"nosec"}},v.security=["nosec_sc"]),((E=v.forms)==null?void 0:E.length)===0&&delete v.forms,v.properties!=null&&Object.keys(v.properties).length===0)delete v.properties;else if(v.properties!=null)for(const y of Object.values(v.properties))for(const S of["readOnly","writeOnly","observable"])c(y,S);if(v.actions!=null&&Object.keys(v.actions).length===0)delete v.actions;else if(v.actions!=null)for(const y of Object.values(v.actions))for(const S of["safe","idempotent"])c(y,S);return v.events!=null&&Object.keys(v.events).length===0&&delete v.events,(v==null?void 0:v.links.length)===0&&delete v.links,JSON.stringify(v)}}});function eB(){return jc.now()/1e3}var jc,lf,W5=tn({"../../node_modules/@jspm/core/nodelibs/browser/process.js"(){Ae(),jc={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},jc.now===void 0&&(lf=Date.now(),jc.timing&&jc.timing.navigationStart&&(lf=jc.timing.navigationStart),jc.now=()=>Date.now()-lf)}}),tB={};Ys(tB,{EOL:()=>iB,arch:()=>oB,constants:()=>nB,cpus:()=>aB,default:()=>Qt,endianness:()=>sB,freemem:()=>lB,getNetworkInterfaces:()=>uB,homedir:()=>cB,hostname:()=>fB,loadavg:()=>dB,networkInterfaces:()=>hB,platform:()=>pB,release:()=>mB,tmpDir:()=>gB,tmpdir:()=>vB,totalmem:()=>yB,type:()=>wB,uptime:()=>eB,version:()=>rB});function K5(){return lT||(lT=!0,Wn.endianness=function(){return"LE"},Wn.hostname=function(){return typeof location<"u"?location.hostname:""},Wn.loadavg=function(){return[]},Wn.uptime=function(){return 0},Wn.freemem=function(){return Number.MAX_VALUE},Wn.totalmem=function(){return Number.MAX_VALUE},Wn.cpus=function(){return[]},Wn.type=function(){return"Browser"},Wn.release=function(){return typeof navigator<"u"?navigator.appVersion:""},Wn.networkInterfaces=Wn.getNetworkInterfaces=function(){return{}},Wn.arch=function(){return"javascript"},Wn.platform=function(){return"browser"},Wn.tmpdir=Wn.tmpDir=function(){return"/tmp"},Wn.EOL=`
`,Wn.homedir=function(){return"/"}),Wn}var Wn,lT,Qt,Uk,rB,nB,iB,oB,aB,sB,lB,uB,cB,fB,dB,hB,pB,mB,gB,vB,yB,wB,J5=tn({"../../node_modules/@jspm/core/nodelibs/browser/os.js"(){Ae(),W5(),Wn={},lT=!1,Qt=K5(),Qt.endianness,Qt.hostname,Qt.loadavg,Qt.uptime,Qt.freemem,Qt.totalmem,Qt.cpus,Qt.type,Qt.release,Qt.networkInterfaces,Qt.getNetworkInterfaces,Qt.arch,Qt.platform,Qt.tmpdir,Qt.tmpDir,Qt.EOL,Qt.homedir,Uk=new Uint8Array(new Uint16Array([1]).buffer)[0]===1?"LE":"BE",Qt.endianness=function(){return Uk},Qt.homedir=function(){return"/home"},Qt.version=function(){return""},Qt.arch=function(){return"x64"},Qt.totalmem=function(){return navigator.deviceMemory!==void 0?navigator.deviceMemory*(1<<30):2*(1<<30)},Qt.cpus=function(){return Array(navigator.hardwareConcurrency||0).fill({model:"",times:{}})},Qt.uptime=eB,Qt.constants={},rB=Qt.version,nB=Qt.constants,iB=Qt.EOL,oB=Qt.arch,aB=Qt.cpus,sB=Qt.endianness,lB=Qt.freemem,uB=Qt.getNetworkInterfaces,cB=Qt.homedir,fB=Qt.hostname,dB=Qt.loadavg,hB=Qt.networkInterfaces,pB=Qt.platform,mB=Qt.release,gB=Qt.tmpDir,vB=Qt.tmpdir,yB=Qt.totalmem,wB=Qt.type}}),pb=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/code.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(p,...E){const y=[p[0]];let S=0;for(;S<E.length;)s(y,E[S]),y.push(p[++S]);return new n(y)}e._=i;var o=new n("+");function a(p,...E){const y=[m(p[0])];let S=0;for(;S<E.length;)y.push(o),s(y,E[S]),y.push(o,m(p[++S]));return l(y),new n(y)}e.str=a;function s(p,E){E instanceof n?p.push(...E._items):E instanceof r?p.push(E):p.push(c(E))}e.addCodeArg=s;function l(p){let E=1;for(;E<p.length-1;){if(p[E]===o){const y=u(p[E-1],p[E+1]);if(y!==void 0){p.splice(E-1,3,y);continue}p[E++]="+"}E++}}function u(p,E){if(E==='""')return p;if(p==='""')return E;if(typeof p=="string")return E instanceof r||p[p.length-1]!=='"'?void 0:typeof E!="string"?`${p.slice(0,-1)}${E}"`:E[0]==='"'?p.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(p instanceof r))return`"${p}${E.slice(1)}`}function f(p,E){return E.emptyStr()?p:p.emptyStr()?E:a`${p}${E}`}e.strConcat=f;function c(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:m(Array.isArray(p)?p.join(","):p)}function h(p){return new n(m(p))}e.stringify=h;function m(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):i`[${p}]`}e.getProperty=g;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(p){return new n(p.toString())}e.regexpCode=v}}),zk=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/scope.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=pb(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var a=(0,t._)`\n`,s=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?a:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:h}=c,m=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[h];if(g){const p=g.get(m);if(p)return p}else g=this._values[h]=new Map;g.set(m,c);const _=this._scope[h]||(this._scope[h]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:h,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let h=t.nil;for(const m in l){const g=l[m];if(!g)continue;const _=f[m]=f[m]||new Map;g.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let p=u(v);if(p){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${E} ${v} = ${p};${this.opts._n}`}else if(p=c==null?void 0:c(v))h=(0,t._)`${h}${p}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return h}};e.ValueScope=s}}),fr=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=pb(),r=zk(),n=pb();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=zk();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(O,k){return this}},a=class extends o{constructor(O,k,q){super(),this.varKind=O,this.name=k,this.rhs=q}render({es5:O,_n:k}){const q=O?r.varKinds.var:this.varKind,ie=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${ie};`+k}optimizeNames(O,k){if(O[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,O,k)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},s=class extends o{constructor(O,k,q){super(),this.lhs=O,this.rhs=k,this.sideEffects=q}render({_n:O}){return`${this.lhs} = ${this.rhs};`+O}optimizeNames(O,k){if(!(this.lhs instanceof t.Name&&!O[this.lhs.str]&&!this.sideEffects))return this.rhs=X(this.rhs,O,k),this}get names(){const O=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(O,this.rhs)}},l=class extends s{constructor(O,k,q,ie){super(O,q,ie),this.op=k}render({_n:O}){return`${this.lhs} ${this.op}= ${this.rhs};`+O}},u=class extends o{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`${this.label}:`+O}},f=class extends o{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`break${this.label?` ${this.label}`:""};`+O}},c=class extends o{constructor(O){super(),this.error=O}render({_n:O}){return`throw ${this.error};`+O}get names(){return this.error.names}},h=class extends o{constructor(O){super(),this.code=O}render({_n:O}){return`${this.code};`+O}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(O,k){return this.code=X(this.code,O,k),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},m=class extends o{constructor(O=[]){super(),this.nodes=O}render(O){return this.nodes.reduce((k,q)=>k+q.render(O),"")}optimizeNodes(){const{nodes:O}=this;let k=O.length;for(;k--;){const q=O[k].optimizeNodes();Array.isArray(q)?O.splice(k,1,...q):q?O[k]=q:O.splice(k,1)}return O.length>0?this:void 0}optimizeNames(O,k){const{nodes:q}=this;let ie=q.length;for(;ie--;){const J=q[ie];J.optimizeNames(O,k)||(G(O,J.names),q.splice(ie,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((O,k)=>F(O,k.names),{})}},g=class extends m{render(O){return"{"+O._n+super.render(O)+"}"+O._n}},_=class extends m{},v=class extends g{};v.kind="else";var p=class vy extends g{constructor(k,q){super(q),this.condition=k}render(k){let q=`if(${this.condition})`+super.render(k);return this.else&&(q+="else "+this.else.render(k)),q}optimizeNodes(){super.optimizeNodes();const k=this.condition;if(k===!0)return this.nodes;let q=this.else;if(q){const ie=q.optimizeNodes();q=this.else=Array.isArray(ie)?new v(ie):ie}if(q)return k===!1?q instanceof vy?q:q.nodes:this.nodes.length?this:new vy(Q(k),q instanceof vy?[q]:q.nodes);if(!(k===!1||!this.nodes.length))return this}optimizeNames(k,q){var ie;if(this.else=(ie=this.else)===null||ie===void 0?void 0:ie.optimizeNames(k,q),!!(super.optimizeNames(k,q)||this.else))return this.condition=X(this.condition,k,q),this}get names(){const k=super.names;return V(k,this.condition),this.else&&F(k,this.else.names),k}};p.kind="if";var E=class extends g{};E.kind="for";var y=class extends E{constructor(O){super(),this.iteration=O}render(O){return`for(${this.iteration})`+super.render(O)}optimizeNames(O,k){if(super.optimizeNames(O,k))return this.iteration=X(this.iteration,O,k),this}get names(){return F(super.names,this.iteration.names)}},S=class extends E{constructor(O,k,q,ie){super(),this.varKind=O,this.name=k,this.from=q,this.to=ie}render(O){const k=O.es5?r.varKinds.var:this.varKind,{name:q,from:ie,to:J}=this;return`for(${k} ${q}=${ie}; ${q}<${J}; ${q}++)`+super.render(O)}get names(){const O=V(super.names,this.from);return V(O,this.to)}},$=class extends E{constructor(O,k,q,ie){super(),this.loop=O,this.varKind=k,this.name=q,this.iterable=ie}render(O){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(O)}optimizeNames(O,k){if(super.optimizeNames(O,k))return this.iterable=X(this.iterable,O,k),this}get names(){return F(super.names,this.iterable.names)}},T=class extends g{constructor(O,k,q){super(),this.name=O,this.args=k,this.async=q}render(O){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(O)}};T.kind="func";var d=class extends m{render(O){return"return "+super.render(O)}};d.kind="return";var A=class extends g{render(O){let k="try"+super.render(O);return this.catch&&(k+=this.catch.render(O)),this.finally&&(k+=this.finally.render(O)),k}optimizeNodes(){var O,k;return super.optimizeNodes(),(O=this.catch)===null||O===void 0||O.optimizeNodes(),(k=this.finally)===null||k===void 0||k.optimizeNodes(),this}optimizeNames(O,k){var q,ie;return super.optimizeNames(O,k),(q=this.catch)===null||q===void 0||q.optimizeNames(O,k),(ie=this.finally)===null||ie===void 0||ie.optimizeNames(O,k),this}get names(){const O=super.names;return this.catch&&F(O,this.catch.names),this.finally&&F(O,this.finally.names),O}},P=class extends g{constructor(O){super(),this.error=O}render(O){return`catch(${this.error})`+super.render(O)}};P.kind="catch";var x=class extends g{render(O){return"finally"+super.render(O)}};x.kind="finally";var D=class{constructor(O,k={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...k,_n:k.lines?`
`:""},this._extScope=O,this._scope=new r.Scope({parent:O}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(O){return this._scope.name(O)}scopeName(O){return this._extScope.name(O)}scopeValue(O,k){const q=this._extScope.value(O,k);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(O,k){return this._extScope.getValue(O,k)}scopeRefs(O){return this._extScope.scopeRefs(O,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(O,k,q,ie){const J=this._scope.toName(k);return q!==void 0&&ie&&(this._constants[J.str]=q),this._leafNode(new a(O,J,q)),J}const(O,k,q){return this._def(r.varKinds.const,O,k,q)}let(O,k,q){return this._def(r.varKinds.let,O,k,q)}var(O,k,q){return this._def(r.varKinds.var,O,k,q)}assign(O,k,q){return this._leafNode(new s(O,k,q))}add(O,k){return this._leafNode(new l(O,e.operators.ADD,k))}code(O){return typeof O=="function"?O():O!==t.nil&&this._leafNode(new h(O)),this}object(...O){const k=["{"];for(const[q,ie]of O)k.length>1&&k.push(","),k.push(q),(q!==ie||this.opts.es5)&&(k.push(":"),(0,t.addCodeArg)(k,ie));return k.push("}"),new t._Code(k)}if(O,k,q){if(this._blockNode(new p(O)),k&&q)this.code(k).else().code(q).endIf();else if(k)this.code(k).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(O){return this._elseNode(new p(O))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(O,k){return this._blockNode(O),k&&this.code(k).endFor(),this}for(O,k){return this._for(new y(O),k)}forRange(O,k,q,ie,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(O);return this._for(new S(J,Y,k,q),()=>ie(Y))}forOf(O,k,q,ie=r.varKinds.const){const J=this._scope.toName(O);if(this.opts.es5){const Y=k instanceof t.Name?k:this.var("_arr",k);return this.forRange("_i",0,(0,t._)`${Y}.length`,oe=>{this.var(J,(0,t._)`${Y}[${oe}]`),q(J)})}return this._for(new $("of",ie,J,k),()=>q(J))}forIn(O,k,q,ie=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(O,(0,t._)`Object.keys(${k})`,q);const J=this._scope.toName(O);return this._for(new $("in",ie,J,k),()=>q(J))}endFor(){return this._endBlockNode(E)}label(O){return this._leafNode(new u(O))}break(O){return this._leafNode(new f(O))}return(O){const k=new d;if(this._blockNode(k),this.code(O),k.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(O,k,q){if(!k&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const ie=new A;if(this._blockNode(ie),this.code(O),k){const J=this.name("e");this._currNode=ie.catch=new P(J),k(J)}return q&&(this._currNode=ie.finally=new x,this.code(q)),this._endBlockNode(P,x)}throw(O){return this._leafNode(new c(O))}block(O,k){return this._blockStarts.push(this._nodes.length),O&&this.code(O).endBlock(k),this}endBlock(O){const k=this._blockStarts.pop();if(k===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-k;if(q<0||O!==void 0&&q!==O)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${O} expected`);return this._nodes.length=k,this}func(O,k=t.nil,q,ie){return this._blockNode(new T(O,k,q)),ie&&this.code(ie).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(O=1){for(;O-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(O){return this._currNode.nodes.push(O),this}_blockNode(O){this._currNode.nodes.push(O),this._nodes.push(O)}_endBlockNode(O,k){const q=this._currNode;if(q instanceof O||k&&q instanceof k)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${k?`${O.kind}/${k.kind}`:O.kind}"`)}_elseNode(O){const k=this._currNode;if(!(k instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=k.else=O,this}get _root(){return this._nodes[0]}get _currNode(){const O=this._nodes;return O[O.length-1]}set _currNode(O){const k=this._nodes;k[k.length-1]=O}};e.CodeGen=D;function F(O,k){for(const q in k)O[q]=(O[q]||0)+(k[q]||0);return O}function V(O,k){return k instanceof t._CodeOrName?F(O,k.names):O}function X(O,k,q){if(O instanceof t.Name)return ie(O);if(!J(O))return O;return new t._Code(O._items.reduce((Y,oe)=>(oe instanceof t.Name&&(oe=ie(oe)),oe instanceof t._Code?Y.push(...oe._items):Y.push(oe),Y),[]));function ie(Y){const oe=q[Y.str];return oe===void 0||k[Y.str]!==1?Y:(delete k[Y.str],oe)}function J(Y){return Y instanceof t._Code&&Y._items.some(oe=>oe instanceof t.Name&&k[oe.str]===1&&q[oe.str]!==void 0)}}function G(O,k){for(const q in k)O[q]=(O[q]||0)-(k[q]||0)}function Q(O){return typeof O=="boolean"||typeof O=="number"||O===null?!O:(0,t._)`!${K(O)}`}e.not=Q;var ce=B(e.operators.AND);function ee(...O){return O.reduce(ce)}e.and=ee;var ae=B(e.operators.OR);function M(...O){return O.reduce(ae)}e.or=M;function B(O){return(k,q)=>k===t.nil?q:q===t.nil?k:(0,t._)`${K(k)} ${O} ${K(q)}`}function K(O){return O instanceof t.Name?O:(0,t._)`(${O})`}}}),Lr=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/util.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=fr(),r=pb();function n(T){const d={};for(const A of T)d[A]=!0;return d}e.toHash=n;function i(T,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(T,d),!a(d,T.self.RULES.all))}e.alwaysValidSchema=i;function o(T,d=T.schema){const{opts:A,self:P}=T;if(!A.strictSchema||typeof d=="boolean")return;const x=P.RULES.keywords;for(const D in d)x[D]||$(T,`unknown keyword: "${D}"`)}e.checkUnknownRules=o;function a(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(d[A])return!0;return!1}e.schemaHasRules=a;function s(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(A!=="$ref"&&d.all[A])return!0;return!1}e.schemaHasRulesButRef=s;function l({topSchemaRef:T,schemaPath:d},A,P,x){if(!x){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${T}${d}${(0,t.getProperty)(P)}`}e.schemaRefOrVal=l;function u(T){return h(decodeURIComponent(T))}e.unescapeFragment=u;function f(T){return encodeURIComponent(c(T))}e.escapeFragment=f;function c(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function h(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function m(T,d){if(Array.isArray(T))for(const A of T)d(A);else d(T)}e.eachItem=m;function g({mergeNames:T,mergeToName:d,mergeValues:A,resultToName:P}){return(x,D,F,V)=>{const X=F===void 0?D:F instanceof t.Name?(D instanceof t.Name?T(x,D,F):d(x,D,F),F):D instanceof t.Name?(d(x,F,D),D):A(D,F);return V===t.Name&&!(X instanceof t.Name)?P(x,X):X}}e.mergeEvaluated={props:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>{T.if((0,t._)`${d} === true`,()=>T.assign(A,!0),()=>T.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${d})`))}),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>{d===!0?T.assign(A,!0):(T.assign(A,(0,t._)`${A} || {}`),v(T,A,d))}),mergeValues:(T,d)=>T===!0?!0:{...T,...d},resultToName:_}),items:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>T.assign(A,(0,t._)`${d} === true ? true : ${A} > ${d} ? ${A} : ${d}`)),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>T.assign(A,d===!0?!0:(0,t._)`${A} > ${d} ? ${A} : ${d}`)),mergeValues:(T,d)=>T===!0?!0:Math.max(T,d),resultToName:(T,d)=>T.var("items",d)})};function _(T,d){if(d===!0)return T.var("props",!0);const A=T.var("props",(0,t._)`{}`);return d!==void 0&&v(T,A,d),A}e.evaluatedPropsToName=_;function v(T,d,A){Object.keys(A).forEach(P=>T.assign((0,t._)`${d}${(0,t.getProperty)(P)}`,!0))}e.setEvaluated=v;var p={};function E(T,d){return T.scopeValue("func",{ref:d,code:p[d.code]||(p[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(y||(e.Type=y={}));function S(T,d,A){if(T instanceof t.Name){const P=d===y.Num;return A?P?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:P?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(T).toString():"/"+c(T)}e.getErrorPath=S;function $(T,d,A=T.opts.strictSchema){if(A){if(d=`strict mode: ${d}`,A===!0)throw new Error(d);T.self.logger.warn(d)}}e.checkStrictMode=$}}),Qu=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/names.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fr(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),N_=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/errors.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=fr(),r=Lr(),n=Qu();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,t.str)`"${v}" keyword must be ${p} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,p=e.keywordError,E,y){const{it:S}=v,{gen:$,compositeRule:T,allErrors:d}=S,A=c(v,p,E);y??(T||d)?l($,A):u(S,(0,t._)`[${A}]`)}e.reportError=i;function o(v,p=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:$,allErrors:T}=y,d=c(v,p,E);l(S,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function a(v,p){v.assign(n.default.errors,p),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,t._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:v,keyword:p,schemaValue:E,data:y,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${p}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,E),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=s;function l(v,p){const E=v.const("err",p);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,p){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${p})`):(E.assign((0,t._)`${y}.errors`,p),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,p,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:h(v,p,E)}function h(v,p,E={}){const{gen:y,it:S}=v,$=[m(S,E),g(v,E)];return _(v,p,$),y.object(...$)}function m({errorPath:v},{instancePath:p}){const E=p?(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:p}},{schemaPath:E,parentSchema:y}){let S=y?p:(0,t.str)`${p}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:p,message:E},y){const{keyword:S,data:$,schemaValue:T,it:d}=v,{opts:A,propertyName:P,topSchemaRef:x,schemaPath:D}=d;y.push([f.keyword,S],[f.params,typeof p=="function"?p(v):p||(0,t._)`{}`]),A.messages&&y.push([f.message,typeof E=="function"?E(v):E]),A.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${x}${D}`],[n.default.data,$]),P&&y.push([f.propertyName,P])}}}),Y5=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=N_(),r=fr(),n=Qu(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?s(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function a(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),s(l)):f.var(u,!0)}e.boolOrEmptySchema=a;function s(l,u){const{gen:f,data:c}=l,h={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(h,i,void 0,u)}}}),bB=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/rules.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),_B=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/applicability.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},a){const s=o.RULES.types[a];return s&&s!==!0&&r(i,s)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(a=>n(i,a))}e.shouldUseGroup=r;function n(i,o){var a;return i[o.keyword]!==void 0||((a=o.definition.implements)===null||a===void 0?void 0:a.some(s=>i[s]!==void 0))}e.shouldUseRule=n}}),mb=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/dataType.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=bB(),r=_B(),n=N_(),i=fr(),o=Lr(),a;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(a||(e.DataType=a={}));function s(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=s;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:$,data:T,opts:d}=y,A=c(S,d.coerceTypes),P=S.length>0&&!(A.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(P){const x=_(S,T,d.strictNumbers,a.Wrong);$.if(x,()=>{A.length?h(y,S,A):p(y)})}return P}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter($=>f.has($)||S==="array"&&$==="array"):[]}function h(y,S,$){const{gen:T,data:d,opts:A}=y,P=T.let("dataType",(0,i._)`typeof ${d}`),x=T.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&T.if((0,i._)`${P} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>T.assign(d,(0,i._)`${d}[0]`).assign(P,(0,i._)`typeof ${d}`).if(_(S,d,A.strictNumbers),()=>T.assign(x,d))),T.if((0,i._)`${x} !== undefined`);for(const F of $)(f.has(F)||F==="array"&&A.coerceTypes==="array")&&D(F);T.else(),p(y),T.endIf(),T.if((0,i._)`${x} !== undefined`,()=>{T.assign(d,x),m(y,x)});function D(F){switch(F){case"string":T.elseIf((0,i._)`${P} == "number" || ${P} == "boolean"`).assign(x,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(x,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${P} == "boolean" || ${d} === null
              || (${P} == "string" && ${d} && ${d} == +${d})`).assign(x,(0,i._)`+${d}`);return;case"integer":T.elseIf((0,i._)`${P} === "boolean" || ${d} === null
              || (${P} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(x,(0,i._)`+${d}`);return;case"boolean":T.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(x,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(x,!0);return;case"null":T.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),T.assign(x,null);return;case"array":T.elseIf((0,i._)`${P} === "string" || ${P} === "number"
              || ${P} === "boolean" || ${d} === null`).assign(x,(0,i._)`[${d}]`)}}}function m({gen:y,parentData:S,parentDataProperty:$},T){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${$}]`,T))}function g(y,S,$,T=a.Correct){const d=T===a.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":A=(0,i._)`Array.isArray(${S})`;break;case"object":A=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":A=P((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":A=P();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return T===a.Correct?A:(0,i.not)(A);function P(x=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,x,$?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=g;function _(y,S,$,T){if(y.length===1)return g(y[0],S,$,T);let d;const A=(0,o.toHash)(y);if(A.array&&A.object){const P=(0,i._)`typeof ${S} != "object"`;d=A.null?P:(0,i._)`!${S} || ${P}`,delete A.null,delete A.array,delete A.object}else d=i.nil;A.number&&delete A.integer;for(const P in A)d=(0,i.and)(d,g(P,S,$,T));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function p(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=p;function E(y){const{gen:S,data:$,schema:T}=y,d=(0,o.schemaRefOrVal)(y,T,"type");return{gen:S,keyword:"type",data:$,schema:T.type,schemaCode:d,schemaValue:d,parentSchema:T,params:{},it:y}}}}),X5=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/defaults.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=fr(),r=Lr();function n(o,a){const{properties:s,items:l}=o.schema;if(a==="object"&&s)for(const u in s)i(o,u,s[u].default);else a==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,a,s){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(s===void 0)return;const h=(0,t._)`${f}${(0,t.getProperty)(a)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${h}`);return}let m=(0,t._)`${h} === undefined`;c.useDefaults==="empty"&&(m=(0,t._)`${m} || ${h} === null || ${h} === ""`),l.if(m,(0,t._)`${h} = ${(0,t.stringify)(s)}`)}}}),fs=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/code.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=fr(),r=Lr(),n=Qu(),i=Lr();function o(y,S){const{gen:$,data:T,it:d}=y;$.if(c($,T,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function a({gen:y,data:S,it:{opts:$}},T,d){return(0,t.or)(...T.map(A=>(0,t.and)(c(y,S,A,$.ownProperties),(0,t._)`${d} = ${A}`)))}e.checkMissingProp=a;function s(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=s;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,$){return(0,t._)`${l(y)}.call(${S}, ${$})`}e.isOwnProperty=u;function f(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} !== undefined`;return T?(0,t._)`${d} && ${u(y,S,$)}`:d}e.propertyInData=f;function c(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} === undefined`;return T?(0,t.or)(d,(0,t.not)(u(y,S,$))):d}e.noPropertyInData=c;function h(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=h;function m(y,S){return h(S).filter($=>!(0,r.alwaysValidSchema)(y,S[$]))}e.schemaProperties=m;function g({schemaCode:y,data:S,it:{gen:$,topSchemaRef:T,schemaPath:d,errorPath:A},it:P},x,D,F){const V=F?(0,t._)`${y}, ${S}, ${T}${d}`:S,X=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,A)],[n.default.parentData,P.parentData],[n.default.parentDataProperty,P.parentDataProperty],[n.default.rootData,n.default.rootData]];P.opts.dynamicRef&&X.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const G=(0,t._)`${V}, ${$.object(...X)}`;return D!==t.nil?(0,t._)`${x}.call(${D}, ${G})`:(0,t._)`${x}(${G})`}e.callValidateCode=g;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},$){const T=S.unicodeRegExp?"u":"",{regExp:d}=S.code,A=d($,T);return y.scopeValue("pattern",{key:A.toString(),ref:A,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${$}, ${T})`})}e.usePattern=v;function p(y){const{gen:S,data:$,keyword:T,it:d}=y,A=S.name("valid");if(d.allErrors){const x=S.let("valid",!0);return P(()=>S.assign(x,!1)),x}return S.var(A,!0),P(()=>S.break()),A;function P(x){const D=S.const("len",(0,t._)`${$}.length`);S.forRange("i",0,D,F=>{y.subschema({keyword:T,dataProp:F,dataPropType:r.Type.Num},A),S.if((0,t.not)(A),x)})}}e.validateArray=p;function E(y){const{gen:S,schema:$,keyword:T,it:d}=y;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(D=>(0,r.alwaysValidSchema)(d,D))&&!d.opts.unevaluated)return;const P=S.let("valid",!1),x=S.name("_valid");S.block(()=>$.forEach((D,F)=>{const V=y.subschema({keyword:T,schemaProp:F,compositeRule:!0},x);S.assign(P,(0,t._)`${P} || ${x}`),y.mergeValidEvaluated(V,x)||S.if((0,t.not)(P))})),y.result(P,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),Q5=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/keyword.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=fr(),r=Qu(),n=fs(),i=N_();function o(m,g){const{gen:_,keyword:v,schema:p,parentSchema:E,it:y}=m,S=g.macro.call(y.self,p,E,y),$=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const T=_.name("valid");m.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:$,compositeRule:!0},T),m.pass(T,()=>m.error(!0))}e.macroKeywordCode=o;function a(m,g){var _;const{gen:v,keyword:p,schema:E,parentSchema:y,$data:S,it:$}=m;u($,g);const T=!S&&g.compile?g.compile.call($.self,E,y,$):g.validate,d=f(v,p,T),A=v.let("valid");m.block$data(A,P),m.ok((_=g.valid)!==null&&_!==void 0?_:A);function P(){if(g.errors===!1)F(),g.modifying&&s(m),V(()=>m.error());else{const X=g.async?x():D();g.modifying&&s(m),V(()=>l(m,X))}}function x(){const X=v.let("ruleErrs",null);return v.try(()=>F((0,t._)`await `),G=>v.assign(A,!1).if((0,t._)`${G} instanceof ${$.ValidationError}`,()=>v.assign(X,(0,t._)`${G}.errors`),()=>v.throw(G))),X}function D(){const X=(0,t._)`${d}.errors`;return v.assign(X,null),F(t.nil),X}function F(X=g.async?(0,t._)`await `:t.nil){const G=$.opts.passContext?r.default.this:r.default.self,Q=!("compile"in g&&!S||g.schema===!1);v.assign(A,(0,t._)`${X}${(0,n.callValidateCode)(m,d,G,Q)}`,g.modifying)}function V(X){var G;v.if((0,t.not)((G=g.valid)!==null&&G!==void 0?G:A),X)}}e.funcKeywordCode=a;function s(m){const{gen:g,data:_,it:v}=m;g.if(v.parentData,()=>g.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(m,g){const{gen:_}=m;_.if((0,t._)`Array.isArray(${g})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${g} : ${r.default.vErrors}.concat(${g})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(m)},()=>m.error())}function u({schemaEnv:m},g){if(g.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,g,_){if(_===void 0)throw new Error(`keyword "${g}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(m,g,_=!1){return!g.length||g.some(v=>v==="array"?Array.isArray(m):v==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==v||_&&typeof m>"u")}e.validSchemaType=c;function h({schema:m,opts:g,self:_,errSchemaPath:v},p,E){if(Array.isArray(p.keyword)?!p.keyword.includes(E):p.keyword!==E)throw new Error("ajv implementation error");const y=p.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(m,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(p.validateSchema&&!p.validateSchema(m[E])){const $=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(p.validateSchema.errors);if(g.validateSchema==="log")_.logger.error($);else throw new Error($)}}e.validateKeywordUsage=h}}),Z5=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/subschema.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=fr(),r=Lr();function n(a,{keyword:s,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:h}){if(s!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const m=a.schema[s];return l===void 0?{schema:m,schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${s}`}:{schema:m[l],schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(l)}`,errSchemaPath:`${a.errSchemaPath}/${s}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:h,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(a,s,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:h}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=s;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:p}=s,E=m.let("data",(0,t._)`${s.data}${(0,t.getProperty)(l)}`,!0);g(E),a.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,p.jsPropertySyntax)}`,a.parentDataProperty=(0,t._)`${l}`,a.dataPathArr=[...v,a.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);g(_),h!==void 0&&(a.propertyName=h)}c&&(a.dataTypes=c);function g(_){a.data=_,a.dataLevel=s.dataLevel+1,a.dataTypes=[],s.definedProperties=new Set,a.parentData=s.data,a.dataNames=[...s.dataNames,_]}}e.extendSubschemaData=i;function o(a,{jtdDiscriminator:s,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(a.compositeRule=u),f!==void 0&&(a.createErrors=f),c!==void 0&&(a.allErrors=c),a.jtdDiscriminator=s,a.jtdMetadata=l}e.extendSubschemaMode=o}}),Oh=Oe({"../../node_modules/fast-deep-equal/index.js"(e,t){Ae(),t.exports=function r(n,i){if(n===i)return!0;if(n&&i&&typeof n=="object"&&typeof i=="object"){if(n.constructor!==i.constructor)return!1;var o,a,s;if(Array.isArray(n)){if(o=n.length,o!=i.length)return!1;for(a=o;a--!==0;)if(!r(n[a],i[a]))return!1;return!0}if(n.constructor===RegExp)return n.source===i.source&&n.flags===i.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===i.toString();if(s=Object.keys(n),o=s.length,o!==Object.keys(i).length)return!1;for(a=o;a--!==0;)if(!Object.prototype.hasOwnProperty.call(i,s[a]))return!1;for(a=o;a--!==0;){var l=s[a];if(!r(n[l],i[l]))return!1}return!0}return n!==n&&i!==i}}}),eQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/json-schema-traverse/index.js"(e,t){Ae();var r=t.exports=function(o,a,s){typeof a=="function"&&(s=a,a={}),s=a.cb||s;var l=typeof s=="function"?s:s.pre||function(){},u=s.post||function(){};n(a,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,a,s,l,u,f,c,h,m,g){if(l&&typeof l=="object"&&!Array.isArray(l)){a(l,u,f,c,h,m,g);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var p=0;p<v.length;p++)n(o,a,s,v[p],u+"/"+_+"/"+p,f,u,_,l,p)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,a,s,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,a,s,v,u+"/"+_,f,u,_,l)}s(l,u,f,c,h,m,g)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),C_=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/resolve.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=Lr(),r=Oh(),n=eQ(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,p=!0){return typeof v=="boolean"?!0:p===!0?!s(v):p?l(v)<=p:!1}e.inlineRef=o;var a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(v){for(const p in v){if(a.has(p))return!0;const E=v[p];if(Array.isArray(E)&&E.some(s)||typeof E=="object"&&s(E))return!0}return!1}function l(v){let p=0;for(const E in v){if(E==="$ref")return 1/0;if(p++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>p+=l(y)),p===1/0))return 1/0}return p}function u(v,p="",E){E!==!1&&(p=h(p));const y=v.parse(p);return f(v,y)}e.getFullPath=u;function f(v,p){return v.serialize(p).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function h(v){return v?v.replace(c,""):""}e.normalizeId=h;function m(v,p,E){return E=h(E),v.resolve(p,E)}e.resolveUrl=m;var g=/^[a-z_][-a-z0-9._]*$/i;function _(v,p){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=h(v[E]||p),$={"":S},T=u(y,S,!1),d={},A=new Set;return n(v,{allKeys:!0},(D,F,V,X)=>{if(X===void 0)return;const G=T+F;let Q=$[X];typeof D[E]=="string"&&(Q=ce.call(this,D[E])),ee.call(this,D.$anchor),ee.call(this,D.$dynamicAnchor),$[F]=Q;function ce(ae){const M=this.opts.uriResolver.resolve;if(ae=h(Q?M(Q,ae):ae),A.has(ae))throw x(ae);A.add(ae);let B=this.refs[ae];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?P(D,B.schema,ae):ae!==h(G)&&(ae[0]==="#"?(P(D,d[ae],ae),d[ae]=D):this.refs[ae]=G),ae}function ee(ae){if(typeof ae=="string"){if(!g.test(ae))throw new Error(`invalid anchor "${ae}"`);ce.call(this,`#${ae}`)}}}),d;function P(D,F,V){if(F!==void 0&&!r(D,F))throw x(V)}function x(D){return new Error(`reference "${D}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),k_=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=Y5(),r=mb(),n=_B(),i=mb(),o=X5(),a=Q5(),s=Z5(),l=fr(),u=Qu(),f=C_(),c=Lr(),h=N_();function m(R){if(T(R)&&(A(R),$(R))){p(R);return}g(R,()=>(0,t.topBoolOrEmptySchema)(R))}e.validateFunctionCode=m;function g({gen:R,validateName:I,schema:N,schemaEnv:H,opts:re},le){re.code.es5?R.func(I,(0,l._)`${u.default.data}, ${u.default.valCxt}`,H.$async,()=>{R.code((0,l._)`"use strict"; ${y(N,re)}`),v(R,re),R.code(le)}):R.func(I,(0,l._)`${u.default.data}, ${_(re)}`,H.$async,()=>R.code(y(N,re)).code(le))}function _(R){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${R.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(R,I){R.if(u.default.valCxt,()=>{R.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),R.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),R.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),R.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),I.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{R.var(u.default.instancePath,(0,l._)`""`),R.var(u.default.parentData,(0,l._)`undefined`),R.var(u.default.parentDataProperty,(0,l._)`undefined`),R.var(u.default.rootData,u.default.data),I.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function p(R){const{schema:I,opts:N,gen:H}=R;g(R,()=>{N.$comment&&I.$comment&&X(R),D(R),H.let(u.default.vErrors,null),H.let(u.default.errors,0),N.unevaluated&&E(R),P(R),G(R)})}function E(R){const{gen:I,validateName:N}=R;R.evaluated=I.const("evaluated",(0,l._)`${N}.evaluated`),I.if((0,l._)`${R.evaluated}.dynamicProps`,()=>I.assign((0,l._)`${R.evaluated}.props`,(0,l._)`undefined`)),I.if((0,l._)`${R.evaluated}.dynamicItems`,()=>I.assign((0,l._)`${R.evaluated}.items`,(0,l._)`undefined`))}function y(R,I){const N=typeof R=="object"&&R[I.schemaId];return N&&(I.code.source||I.code.process)?(0,l._)`/*# sourceURL=${N} */`:l.nil}function S(R,I){if(T(R)&&(A(R),$(R))){d(R,I);return}(0,t.boolOrEmptySchema)(R,I)}function $({schema:R,self:I}){if(typeof R=="boolean")return!R;for(const N in R)if(I.RULES.all[N])return!0;return!1}function T(R){return typeof R.schema!="boolean"}function d(R,I){const{schema:N,gen:H,opts:re}=R;re.$comment&&N.$comment&&X(R),F(R),V(R);const le=H.const("_errs",u.default.errors);P(R,le),H.var(I,(0,l._)`${le} === ${u.default.errors}`)}function A(R){(0,c.checkUnknownRules)(R),x(R)}function P(R,I){if(R.opts.jtd)return ce(R,[],!1,I);const N=(0,r.getSchemaTypes)(R.schema),H=(0,r.coerceAndCheckDataType)(R,N);ce(R,N,!H,I)}function x(R){const{schema:I,errSchemaPath:N,opts:H,self:re}=R;I.$ref&&H.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(I,re.RULES)&&re.logger.warn(`$ref: keywords ignored in schema at path "${N}"`)}function D(R){const{schema:I,opts:N}=R;I.default!==void 0&&N.useDefaults&&N.strictSchema&&(0,c.checkStrictMode)(R,"default is ignored in the schema root")}function F(R){const I=R.schema[R.opts.schemaId];I&&(R.baseId=(0,f.resolveUrl)(R.opts.uriResolver,R.baseId,I))}function V(R){if(R.schema.$async&&!R.schemaEnv.$async)throw new Error("async schema in sync schema")}function X({gen:R,schemaEnv:I,schema:N,errSchemaPath:H,opts:re}){const le=N.$comment;if(re.$comment===!0)R.code((0,l._)`${u.default.self}.logger.log(${le})`);else if(typeof re.$comment=="function"){const fe=(0,l.str)`${H}/$comment`,me=R.scopeValue("root",{ref:I.root});R.code((0,l._)`${u.default.self}.opts.$comment(${le}, ${fe}, ${me}.schema)`)}}function G(R){const{gen:I,schemaEnv:N,validateName:H,ValidationError:re,opts:le}=R;N.$async?I.if((0,l._)`${u.default.errors} === 0`,()=>I.return(u.default.data),()=>I.throw((0,l._)`new ${re}(${u.default.vErrors})`)):(I.assign((0,l._)`${H}.errors`,u.default.vErrors),le.unevaluated&&Q(R),I.return((0,l._)`${u.default.errors} === 0`))}function Q({gen:R,evaluated:I,props:N,items:H}){N instanceof l.Name&&R.assign((0,l._)`${I}.props`,N),H instanceof l.Name&&R.assign((0,l._)`${I}.items`,H)}function ce(R,I,N,H){const{gen:re,schema:le,data:fe,allErrors:me,opts:Re,self:Le}=R,{RULES:je}=Le;if(le.$ref&&(Re.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(le,je))){re.block(()=>Y(R,"$ref",je.all.$ref.definition));return}Re.jtd||ae(R,I),re.block(()=>{for(const Ge of je.rules)tt(Ge);tt(je.post)});function tt(Ge){(0,n.shouldUseGroup)(le,Ge)&&(Ge.type?(re.if((0,i.checkDataType)(Ge.type,fe,Re.strictNumbers)),ee(R,Ge),I.length===1&&I[0]===Ge.type&&N&&(re.else(),(0,i.reportTypeError)(R)),re.endIf()):ee(R,Ge),me||re.if((0,l._)`${u.default.errors} === ${H||0}`))}}function ee(R,I){const{gen:N,schema:H,opts:{useDefaults:re}}=R;re&&(0,o.assignDefaults)(R,I.type),N.block(()=>{for(const le of I.rules)(0,n.shouldUseRule)(H,le)&&Y(R,le.keyword,le.definition,I.type)})}function ae(R,I){R.schemaEnv.meta||!R.opts.strictTypes||(M(R,I),R.opts.allowUnionTypes||B(R,I),K(R,R.dataTypes))}function M(R,I){if(I.length){if(!R.dataTypes.length){R.dataTypes=I;return}I.forEach(N=>{k(R.dataTypes,N)||ie(R,`type "${N}" not allowed by context "${R.dataTypes.join(",")}"`)}),q(R,I)}}function B(R,I){I.length>1&&!(I.length===2&&I.includes("null"))&&ie(R,"use allowUnionTypes to allow union type keyword")}function K(R,I){const N=R.self.RULES.all;for(const H in N){const re=N[H];if(typeof re=="object"&&(0,n.shouldUseRule)(R.schema,re)){const{type:le}=re.definition;le.length&&!le.some(fe=>O(I,fe))&&ie(R,`missing type "${le.join(",")}" for keyword "${H}"`)}}}function O(R,I){return R.includes(I)||I==="number"&&R.includes("integer")}function k(R,I){return R.includes(I)||I==="integer"&&R.includes("number")}function q(R,I){const N=[];for(const H of R.dataTypes)k(I,H)?N.push(H):I.includes("integer")&&H==="number"&&N.push("integer");R.dataTypes=N}function ie(R,I){const N=R.schemaEnv.baseId+R.errSchemaPath;I+=` at "${N}" (strictTypes)`,(0,c.checkStrictMode)(R,I,R.opts.strictTypes)}var J=class{constructor(R,I,N){if((0,a.validateKeywordUsage)(R,I,N),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=N,this.data=R.data,this.schema=R.schema[N],this.$data=I.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(R,this.schema,N,this.$data),this.schemaType=I.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=I,this.$data)this.schemaCode=R.gen.const("vSchema",ye(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,I.schemaType,I.allowUndefined))throw new Error(`${N} value must be ${JSON.stringify(I.schemaType)}`);("code"in I?I.trackErrors:I.errors!==!1)&&(this.errsCount=R.gen.const("_errs",u.default.errors))}result(R,I,N){this.failResult((0,l.not)(R),I,N)}failResult(R,I,N){this.gen.if(R),N?N():this.error(),I?(this.gen.else(),I(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,I){this.failResult((0,l.not)(R),void 0,I)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:I}=this;this.fail((0,l._)`${I} !== undefined && (${(0,l.or)(this.invalid$data(),R)})`)}error(R,I,N){if(I){this.setParams(I),this._error(R,N),this.setParams({});return}this._error(R,N)}_error(R,I){(R?h.reportExtraError:h.reportError)(this,this.def.error,I)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,I){I?Object.assign(this.params,R):this.params=R}block$data(R,I,N=l.nil){this.gen.block(()=>{this.check$data(R,N),I()})}check$data(R=l.nil,I=l.nil){if(!this.$data)return;const{gen:N,schemaCode:H,schemaType:re,def:le}=this;N.if((0,l.or)((0,l._)`${H} === undefined`,I)),R!==l.nil&&N.assign(R,!0),(re.length||le.validateSchema)&&(N.elseIf(this.invalid$data()),this.$dataError(),R!==l.nil&&N.assign(R,!1)),N.else()}invalid$data(){const{gen:R,schemaCode:I,schemaType:N,def:H,it:re}=this;return(0,l.or)(le(),fe());function le(){if(N.length){if(!(I instanceof l.Name))throw new Error("ajv implementation error");const me=Array.isArray(N)?N:[N];return(0,l._)`${(0,i.checkDataTypes)(me,I,re.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function fe(){if(H.validateSchema){const me=R.scopeValue("validate$data",{ref:H.validateSchema});return(0,l._)`!${me}(${I})`}return l.nil}}subschema(R,I){const N=(0,s.getSubschema)(this.it,R);(0,s.extendSubschemaData)(N,this.it,R),(0,s.extendSubschemaMode)(N,R);const H={...this.it,...N,items:void 0,props:void 0};return S(H,I),H}mergeEvaluated(R,I){const{it:N,gen:H}=this;N.opts.unevaluated&&(N.props!==!0&&R.props!==void 0&&(N.props=c.mergeEvaluated.props(H,R.props,N.props,I)),N.items!==!0&&R.items!==void 0&&(N.items=c.mergeEvaluated.items(H,R.items,N.items,I)))}mergeValidEvaluated(R,I){const{it:N,gen:H}=this;if(N.opts.unevaluated&&(N.props!==!0||N.items!==!0))return H.if(I,()=>this.mergeEvaluated(R,l.Name)),!0}};e.KeywordCxt=J;function Y(R,I,N,H){const re=new J(R,N,I);"code"in N?N.code(re,H):re.$data&&N.validate?(0,a.funcKeywordCode)(re,N):"macro"in N?(0,a.macroKeywordCode)(re,N):(N.compile||N.validate)&&(0,a.funcKeywordCode)(re,N)}var oe=/^\/(?:[^~]|~0|~1)*$/,_e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ye(R,{dataLevel:I,dataNames:N,dataPathArr:H}){let re,le;if(R==="")return u.default.rootData;if(R[0]==="/"){if(!oe.test(R))throw new Error(`Invalid JSON-pointer: ${R}`);re=R,le=u.default.rootData}else{const Le=_e.exec(R);if(!Le)throw new Error(`Invalid JSON-pointer: ${R}`);const je=+Le[1];if(re=Le[2],re==="#"){if(je>=I)throw new Error(Re("property/index",je));return H[I-je]}if(je>I)throw new Error(Re("data",je));if(le=N[I-je],!re)return le}let fe=le;const me=re.split("/");for(const Le of me)Le&&(le=(0,l._)`${le}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Le))}`,fe=(0,l._)`${fe} && ${le}`);return fe;function Re(Le,je){return`Cannot access ${Le} ${je} levels up, current level is ${I}`}}e.getData=ye}}),rR=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/validation_error.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),j_=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/ref_error.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=C_(),r=class extends Error{constructor(n,i,o,a){super(a||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),nR=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=fr(),r=rR(),n=Qu(),i=C_(),o=Lr(),a=k_(),s=class{constructor(p){var E;this.refs={},this.dynamicAnchors={};let y;typeof p.schema=="object"&&(y=p.schema),this.schema=p.schema,this.schemaId=p.schemaId,this.root=p.root||this,this.baseId=(E=p.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[p.schemaId||"$id"]),this.schemaPath=p.schemaPath,this.localRefs=p.localRefs,this.meta=p.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=s;function l(p){const E=c.call(this,p);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:S,lines:$}=this.opts.code,{ownProperties:T}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:$,ownProperties:T});let A;p.$async&&(A=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const P=d.scopeName("validate");p.validateName=P;const x={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,t.stringify)(p.schema)}:{ref:p.schema}),validateName:P,ValidationError:A,schema:p.schema,schemaEnv:p,rootId:y,baseId:p.baseId||y,schemaPath:t.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(p),(0,a.validateFunctionCode)(x),d.optimize(this.opts.code.optimize);const F=d.toString();D=`${d.scopeRefs(n.default.scope)}return ${F}`,this.opts.code.process&&(D=this.opts.code.process(D,p));const X=new Function(`${n.default.self}`,`${n.default.scope}`,D)(this,this.scope.get());if(this.scope.value(P,{ref:X}),X.errors=null,X.schema=p.schema,X.schemaEnv=p,p.$async&&(X.$async=!0),this.opts.code.source===!0&&(X.source={validateName:P,validateCode:F,scopeValues:d._values}),this.opts.unevaluated){const{props:G,items:Q}=x;X.evaluated={props:G instanceof t.Name?void 0:G,items:Q instanceof t.Name?void 0:Q,dynamicProps:G instanceof t.Name,dynamicItems:Q instanceof t.Name},X.source&&(X.source.evaluated=(0,t.stringify)(X.evaluated))}return p.validate=X,p}catch(F){throw delete p.validate,delete p.validateName,D&&this.logger.error("Error compiling schema, function code:",D),F}finally{this._compilations.delete(p)}}e.compileSchema=l;function u(p,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const $=p.refs[y];if($)return $;let T=m.call(this,p,y);if(T===void 0){const d=(S=p.localRefs)===null||S===void 0?void 0:S[y],{schemaId:A}=this.opts;d&&(T=new s({schema:d,schemaId:A,root:p,baseId:E}))}if(T!==void 0)return p.refs[y]=f.call(this,T)}e.resolveRef=u;function f(p){return(0,i.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:l.call(this,p)}function c(p){for(const E of this._compilations)if(h(E,p))return E}e.getCompilingSchema=c;function h(p,E){return p.schema===E.schema&&p.root===E.root&&p.baseId===E.baseId}function m(p,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||g.call(this,p,E)}function g(p,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let $=(0,i.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&S===$)return v.call(this,y,p);const T=(0,i.normalizeId)(S),d=this.refs[T]||this.schemas[T];if(typeof d=="string"){const A=g.call(this,p,d);return typeof(A==null?void 0:A.schema)!="object"?void 0:v.call(this,y,A)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),T===(0,i.normalizeId)(E)){const{schema:A}=d,{schemaId:P}=this.opts,x=A[P];return x&&($=(0,i.resolveUrl)(this.opts.uriResolver,$,x)),new s({schema:A,schemaId:P,root:p,baseId:$})}return v.call(this,y,d)}}e.resolveSchema=g;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(p,{baseId:E,schema:y,root:S}){var $;if((($=p.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const A of p.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const P=y[(0,o.unescapeFragment)(A)];if(P===void 0)return;y=P;const x=typeof y=="object"&&y[this.opts.schemaId];!_.has(A)&&x&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,x))}let T;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const A=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);T=g.call(this,S,A)}const{schemaId:d}=this.opts;if(T=T||new s({schema:y,schemaId:d,root:S,baseId:E}),T.schema!==T.root.schema)return T}}}),tQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),rQ=Oe({"../../node_modules/fast-uri/lib/scopedChars.js"(e,t){Ae();var r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};t.exports={HEX:r}}}),nQ=Oe({"../../node_modules/fast-uri/lib/utils.js"(e,t){Ae();var{HEX:r}=rQ(),n=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function i(p){if(u(p,".")<3)return{host:p,isIPV4:!1};const E=p.match(n)||[],[y]=E;return y?{host:l(y,"."),isIPV4:!0}:{host:p,isIPV4:!1}}function o(p,E=!1){let y="",S=!0;for(const $ of p){if(r[$]===void 0)return;$!=="0"&&S===!0&&(S=!1),S||(y+=$)}return E&&y.length===0&&(y="0"),y}function a(p){let E=0;const y={error:!1,address:"",zone:""},S=[],$=[];let T=!1,d=!1,A=!1;function P(){if($.length){if(T===!1){const x=o($);if(x!==void 0)S.push(x);else return y.error=!0,!1}$.length=0}return!0}for(let x=0;x<p.length;x++){const D=p[x];if(!(D==="["||D==="]"))if(D===":"){if(d===!0&&(A=!0),!P())break;if(E++,S.push(":"),E>7){y.error=!0;break}x-1>=0&&p[x-1]===":"&&(d=!0);continue}else if(D==="%"){if(!P())break;T=!0}else{$.push(D);continue}}return $.length&&(T?y.zone=$.join(""):A?S.push($.join("")):S.push(o($))),y.address=S.join(""),y}function s(p){if(u(p,":")<2)return{host:p,isIPV6:!1};const E=a(p);if(E.error)return{host:p,isIPV6:!1};{let y=E.address,S=E.address;return E.zone&&(y+="%"+E.zone,S+="%25"+E.zone),{host:y,escapedHost:S,isIPV6:!0}}}function l(p,E){let y="",S=!0;const $=p.length;for(let T=0;T<$;T++){const d=p[T];d==="0"&&S?(T+1<=$&&p[T+1]===E||T+1===$)&&(y+=d,S=!1):(d===E?S=!0:S=!1,y+=d)}return y}function u(p,E){let y=0;for(let S=0;S<p.length;S++)p[S]===E&&y++;return y}var f=/^\.\.?\//u,c=/^\/\.(?:\/|$)/u,h=/^\/\.\.(?:\/|$)/u,m=/^\/?(?:.|\n)*?(?=\/|$)/u;function g(p){const E=[];for(;p.length;)if(p.match(f))p=p.replace(f,"");else if(p.match(c))p=p.replace(c,"/");else if(p.match(h))p=p.replace(h,"/"),E.pop();else if(p==="."||p==="..")p="";else{const y=p.match(m);if(y){const S=y[0];p=p.slice(S.length),E.push(S)}else throw new Error("Unexpected dot segment condition")}return E.join("")}function _(p,E){const y=E!==!0?escape:unescape;return p.scheme!==void 0&&(p.scheme=y(p.scheme)),p.userinfo!==void 0&&(p.userinfo=y(p.userinfo)),p.host!==void 0&&(p.host=y(p.host)),p.path!==void 0&&(p.path=y(p.path)),p.query!==void 0&&(p.query=y(p.query)),p.fragment!==void 0&&(p.fragment=y(p.fragment)),p}function v(p){const E=[];if(p.userinfo!==void 0&&(E.push(p.userinfo),E.push("@")),p.host!==void 0){let y=unescape(p.host);const S=i(y);if(S.isIPV4)y=S.host;else{const $=s(S.host);$.isIPV6===!0?y=`[${$.escapedHost}]`:y=p.host}E.push(y)}return(typeof p.port=="number"||typeof p.port=="string")&&(E.push(":"),E.push(String(p.port))),E.length?E.join(""):void 0}t.exports={recomposeAuthority:v,normalizeComponentEncoding:_,removeDotSegments:g,normalizeIPv4:i,normalizeIPv6:s,stringArrayToHexStripped:o}}}),iQ=Oe({"../../node_modules/fast-uri/lib/schemes.js"(e,t){Ae();var r=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,n=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function i(S){return typeof S.secure=="boolean"?S.secure:String(S.scheme).toLowerCase()==="wss"}function o(S){return S.host||(S.error=S.error||"HTTP URIs must have a host."),S}function a(S){const $=String(S.scheme).toLowerCase()==="https";return(S.port===($?443:80)||S.port==="")&&(S.port=void 0),S.path||(S.path="/"),S}function s(S){return S.secure=i(S),S.resourceName=(S.path||"/")+(S.query?"?"+S.query:""),S.path=void 0,S.query=void 0,S}function l(S){if((S.port===(i(S)?443:80)||S.port==="")&&(S.port=void 0),typeof S.secure=="boolean"&&(S.scheme=S.secure?"wss":"ws",S.secure=void 0),S.resourceName){const[$,T]=S.resourceName.split("?");S.path=$&&$!=="/"?$:void 0,S.query=T,S.resourceName=void 0}return S.fragment=void 0,S}function u(S,$){if(!S.path)return S.error="URN can not be parsed",S;const T=S.path.match(n);if(T){const d=$.scheme||S.scheme||"urn";S.nid=T[1].toLowerCase(),S.nss=T[2];const A=`${d}:${$.nid||S.nid}`,P=y[A];S.path=void 0,P&&(S=P.parse(S,$))}else S.error=S.error||"URN can not be parsed.";return S}function f(S,$){const T=$.scheme||S.scheme||"urn",d=S.nid.toLowerCase(),A=`${T}:${$.nid||d}`,P=y[A];P&&(S=P.serialize(S,$));const x=S,D=S.nss;return x.path=`${d||$.nid}:${D}`,$.skipEscape=!0,x}function c(S,$){const T=S;return T.uuid=T.nss,T.nss=void 0,!$.tolerant&&(!T.uuid||!r.test(T.uuid))&&(T.error=T.error||"UUID is not valid."),T}function h(S){const $=S;return $.nss=(S.uuid||"").toLowerCase(),$}var m={scheme:"http",domainHost:!0,parse:o,serialize:a},g={scheme:"https",domainHost:m.domainHost,parse:o,serialize:a},_={scheme:"ws",domainHost:!0,parse:s,serialize:l},v={scheme:"wss",domainHost:_.domainHost,parse:_.parse,serialize:_.serialize},p={scheme:"urn",parse:u,serialize:f,skipNormalize:!0},E={scheme:"urn:uuid",parse:c,serialize:h,skipNormalize:!0},y={http:m,https:g,ws:_,wss:v,urn:p,"urn:uuid":E};t.exports=y}}),oQ=Oe({"../../node_modules/fast-uri/index.js"(e,t){Ae();var{normalizeIPv6:r,normalizeIPv4:n,removeDotSegments:i,recomposeAuthority:o,normalizeComponentEncoding:a}=nQ(),s=iQ();function l(E,y){return typeof E=="string"?E=h(v(E,y),y):typeof E=="object"&&(E=v(h(E,y),y)),E}function u(E,y,S){const $=Object.assign({scheme:"null"},S),T=f(v(E,$),v(y,$),$,!0);return h(T,{...$,skipEscape:!0})}function f(E,y,S,$){const T={};return $||(E=v(h(E,S),S),y=v(h(y,S),S)),S=S||{},!S.tolerant&&y.scheme?(T.scheme=y.scheme,T.userinfo=y.userinfo,T.host=y.host,T.port=y.port,T.path=i(y.path||""),T.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(T.userinfo=y.userinfo,T.host=y.host,T.port=y.port,T.path=i(y.path||""),T.query=y.query):(y.path?(y.path.charAt(0)==="/"?T.path=i(y.path):((E.userinfo!==void 0||E.host!==void 0||E.port!==void 0)&&!E.path?T.path="/"+y.path:E.path?T.path=E.path.slice(0,E.path.lastIndexOf("/")+1)+y.path:T.path=y.path,T.path=i(T.path)),T.query=y.query):(T.path=E.path,y.query!==void 0?T.query=y.query:T.query=E.query),T.userinfo=E.userinfo,T.host=E.host,T.port=E.port),T.scheme=E.scheme),T.fragment=y.fragment,T}function c(E,y,S){return typeof E=="string"?(E=unescape(E),E=h(a(v(E,S),!0),{...S,skipEscape:!0})):typeof E=="object"&&(E=h(a(E,!0),{...S,skipEscape:!0})),typeof y=="string"?(y=unescape(y),y=h(a(v(y,S),!0),{...S,skipEscape:!0})):typeof y=="object"&&(y=h(a(y,!0),{...S,skipEscape:!0})),E.toLowerCase()===y.toLowerCase()}function h(E,y){const S={host:E.host,scheme:E.scheme,userinfo:E.userinfo,port:E.port,path:E.path,query:E.query,nid:E.nid,nss:E.nss,uuid:E.uuid,fragment:E.fragment,reference:E.reference,resourceName:E.resourceName,secure:E.secure,error:""},$=Object.assign({},y),T=[],d=s[($.scheme||S.scheme||"").toLowerCase()];d&&d.serialize&&d.serialize(S,$),S.path!==void 0&&($.skipEscape?S.path=unescape(S.path):(S.path=escape(S.path),S.scheme!==void 0&&(S.path=S.path.split("%3A").join(":")))),$.reference!=="suffix"&&S.scheme&&T.push(S.scheme,":");const A=o(S);if(A!==void 0&&($.reference!=="suffix"&&T.push("//"),T.push(A),S.path&&S.path.charAt(0)!=="/"&&T.push("/")),S.path!==void 0){let P=S.path;!$.absolutePath&&(!d||!d.absolutePath)&&(P=i(P)),A===void 0&&(P=P.replace(/^\/\//u,"/%2F")),T.push(P)}return S.query!==void 0&&T.push("?",S.query),S.fragment!==void 0&&T.push("#",S.fragment),T.join("")}var m=Array.from({length:127},(E,y)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(y)));function g(E){let y=0;for(let S=0,$=E.length;S<$;++S)if(y=E.charCodeAt(S),y>126||m[y])return!0;return!1}var _=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function v(E,y){const S=Object.assign({},y),$={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},T=E.indexOf("%")!==-1;let d=!1;S.reference==="suffix"&&(E=(S.scheme?S.scheme+":":"")+"//"+E);const A=E.match(_);if(A){if($.scheme=A[1],$.userinfo=A[3],$.host=A[4],$.port=parseInt(A[5],10),$.path=A[6]||"",$.query=A[7],$.fragment=A[8],isNaN($.port)&&($.port=A[5]),$.host){const x=n($.host);if(x.isIPV4===!1){const D=r(x.host);$.host=D.host.toLowerCase(),d=D.isIPV6}else $.host=x.host,d=!0}$.scheme===void 0&&$.userinfo===void 0&&$.host===void 0&&$.port===void 0&&$.query===void 0&&!$.path?$.reference="same-document":$.scheme===void 0?$.reference="relative":$.fragment===void 0?$.reference="absolute":$.reference="uri",S.reference&&S.reference!=="suffix"&&S.reference!==$.reference&&($.error=$.error||"URI is not a "+S.reference+" reference.");const P=s[(S.scheme||$.scheme||"").toLowerCase()];if(!S.unicodeSupport&&(!P||!P.unicodeSupport)&&$.host&&(S.domainHost||P&&P.domainHost)&&d===!1&&g($.host))try{$.host=URL.domainToASCII($.host.toLowerCase())}catch(x){$.error=$.error||"Host's domain name can not be converted to ASCII: "+x}(!P||P&&!P.skipNormalize)&&(T&&$.scheme!==void 0&&($.scheme=unescape($.scheme)),T&&$.host!==void 0&&($.host=unescape($.host)),$.path&&($.path=escape(unescape($.path))),$.fragment&&($.fragment=encodeURI(decodeURIComponent($.fragment)))),P&&P.parse&&P.parse($,S)}else $.error=$.error||"URI can not be parsed.";return $}var p={SCHEMES:s,normalize:l,resolve:u,resolveComponents:f,equal:c,serialize:h,parse:v};t.exports=p,t.exports.default=p,t.exports.fastUri=p}}),aQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/uri.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=oQ();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),sQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/core.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=k_();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=fr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=rR(),i=j_(),o=bB(),a=nR(),s=fr(),l=C_(),u=mb(),f=Lr(),c=tQ(),h=aQ(),m=(M,B)=>new RegExp(M,B);m.code="new RegExp";var g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(M){var B,K,O,k,q,ie,J,Y,oe,_e,ye,R,I,N,H,re,le,fe,me,Re,Le,je,tt,Ge,Ue;const W=M.strict,C=(B=M.code)===null||B===void 0?void 0:B.optimize,L=C===!0||C===void 0?1:C||0,ne=(O=(K=M.code)===null||K===void 0?void 0:K.regExp)!==null&&O!==void 0?O:m,we=(k=M.uriResolver)!==null&&k!==void 0?k:h.default;return{strictSchema:(ie=(q=M.strictSchema)!==null&&q!==void 0?q:W)!==null&&ie!==void 0?ie:!0,strictNumbers:(Y=(J=M.strictNumbers)!==null&&J!==void 0?J:W)!==null&&Y!==void 0?Y:!0,strictTypes:(_e=(oe=M.strictTypes)!==null&&oe!==void 0?oe:W)!==null&&_e!==void 0?_e:"log",strictTuples:(R=(ye=M.strictTuples)!==null&&ye!==void 0?ye:W)!==null&&R!==void 0?R:"log",strictRequired:(N=(I=M.strictRequired)!==null&&I!==void 0?I:W)!==null&&N!==void 0?N:!1,code:M.code?{...M.code,optimize:L,regExp:ne}:{optimize:L,regExp:ne},loopRequired:(H=M.loopRequired)!==null&&H!==void 0?H:E,loopEnum:(re=M.loopEnum)!==null&&re!==void 0?re:E,meta:(le=M.meta)!==null&&le!==void 0?le:!0,messages:(fe=M.messages)!==null&&fe!==void 0?fe:!0,inlineRefs:(me=M.inlineRefs)!==null&&me!==void 0?me:!0,schemaId:(Re=M.schemaId)!==null&&Re!==void 0?Re:"$id",addUsedSchema:(Le=M.addUsedSchema)!==null&&Le!==void 0?Le:!0,validateSchema:(je=M.validateSchema)!==null&&je!==void 0?je:!0,validateFormats:(tt=M.validateFormats)!==null&&tt!==void 0?tt:!0,unicodeRegExp:(Ge=M.unicodeRegExp)!==null&&Ge!==void 0?Ge:!0,int32range:(Ue=M.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:we}}var S=class{constructor(M={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,M=this.opts={...M,...y(M)};const{es5:B,lines:K}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:B,lines:K}),this.logger=F(M.logger);const O=M.validateFormats;M.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,M,"NOT SUPPORTED"),$.call(this,p,M,"DEPRECATED","warn"),this._metaOpts=x.call(this),M.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),M.keywords&&P.call(this,M.keywords),typeof M.meta=="object"&&this.addMetaSchema(M.meta),d.call(this),M.validateFormats=O}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:M,meta:B,schemaId:K}=this.opts;let O=c;K==="id"&&(O={...c},O.id=O.$id,delete O.$id),B&&M&&this.addMetaSchema(O,O[K],!1)}defaultMeta(){const{meta:M,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof M=="object"?M[B]||M:void 0}validate(M,B){let K;if(typeof M=="string"){if(K=this.getSchema(M),!K)throw new Error(`no schema with key or ref "${M}"`)}else K=this.compile(M);const O=K(B);return"$async"in K||(this.errors=K.errors),O}compile(M,B){const K=this._addSchema(M,B);return K.validate||this._compileSchemaEnv(K)}compileAsync(M,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return O.call(this,M,B);async function O(oe,_e){await k.call(this,oe.$schema);const ye=this._addSchema(oe,_e);return ye.validate||q.call(this,ye)}async function k(oe){oe&&!this.getSchema(oe)&&await O.call(this,{$ref:oe},!0)}async function q(oe){try{return this._compileSchemaEnv(oe)}catch(_e){if(!(_e instanceof i.default))throw _e;return ie.call(this,_e),await J.call(this,_e.missingSchema),q.call(this,oe)}}function ie({missingSchema:oe,missingRef:_e}){if(this.refs[oe])throw new Error(`AnySchema ${oe} is loaded but ${_e} cannot be resolved`)}async function J(oe){const _e=await Y.call(this,oe);this.refs[oe]||await k.call(this,_e.$schema),this.refs[oe]||this.addSchema(_e,oe,B)}async function Y(oe){const _e=this._loading[oe];if(_e)return _e;try{return await(this._loading[oe]=K(oe))}finally{delete this._loading[oe]}}}addSchema(M,B,K,O=this.opts.validateSchema){if(Array.isArray(M)){for(const q of M)this.addSchema(q,void 0,K,O);return this}let k;if(typeof M=="object"){const{schemaId:q}=this.opts;if(k=M[q],k!==void 0&&typeof k!="string")throw new Error(`schema ${q} must be string`)}return B=(0,l.normalizeId)(B||k),this._checkUnique(B),this.schemas[B]=this._addSchema(M,K,B,O,!0),this}addMetaSchema(M,B,K=this.opts.validateSchema){return this.addSchema(M,B,!0,K),this}validateSchema(M,B){if(typeof M=="boolean")return!0;let K;if(K=M.$schema,K!==void 0&&typeof K!="string")throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const O=this.validate(K,M);if(!O&&B){const k="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(k);else throw new Error(k)}return O}getSchema(M){let B;for(;typeof(B=T.call(this,M))=="string";)M=B;if(B===void 0){const{schemaId:K}=this.opts,O=new a.SchemaEnv({schema:{},schemaId:K});if(B=a.resolveSchema.call(this,O,M),!B)return;this.refs[M]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(M){if(M instanceof RegExp)return this._removeAllSchemas(this.schemas,M),this._removeAllSchemas(this.refs,M),this;switch(typeof M){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=T.call(this,M);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[M],delete this.refs[M],this}case"object":{const B=M;this._cache.delete(B);let K=M[this.opts.schemaId];return K&&(K=(0,l.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(M){for(const B of M)this.addKeyword(B);return this}addKeyword(M,B){let K;if(typeof M=="string")K=M,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=K);else if(typeof M=="object"&&B===void 0){if(B=M,K=B.keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(X.call(this,K,B),!B)return(0,f.eachItem)(K,k=>G.call(this,k)),this;ce.call(this,B);const O={...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)};return(0,f.eachItem)(K,O.type.length===0?k=>G.call(this,k,O):k=>O.type.forEach(q=>G.call(this,k,O,q))),this}getKeyword(M){const B=this.RULES.all[M];return typeof B=="object"?B.definition:!!B}removeKeyword(M){const{RULES:B}=this;delete B.keywords[M],delete B.all[M];for(const K of B.rules){const O=K.rules.findIndex(k=>k.keyword===M);O>=0&&K.rules.splice(O,1)}return this}addFormat(M,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[M]=B,this}errorsText(M=this.errors,{separator:B=", ",dataVar:K="data"}={}){return!M||M.length===0?"No errors":M.map(O=>`${K}${O.instancePath} ${O.message}`).reduce((O,k)=>O+B+k)}$dataMetaSchema(M,B){const K=this.RULES.all;M=JSON.parse(JSON.stringify(M));for(const O of B){const k=O.split("/").slice(1);let q=M;for(const ie of k)q=q[ie];for(const ie in K){const J=K[ie];if(typeof J!="object")continue;const{$data:Y}=J.definition,oe=q[ie];Y&&oe&&(q[ie]=ae(oe))}}return M}_removeAllSchemas(M,B){for(const K in M){const O=M[K];(!B||B.test(K))&&(typeof O=="string"?delete M[K]:O&&!O.meta&&(this._cache.delete(O.schema),delete M[K]))}}_addSchema(M,B,K,O=this.opts.validateSchema,k=this.opts.addUsedSchema){let q;const{schemaId:ie}=this.opts;if(typeof M=="object")q=M[ie];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof M!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(M);if(J!==void 0)return J;K=(0,l.normalizeId)(q||K);const Y=l.getSchemaRefs.call(this,M,K);return J=new a.SchemaEnv({schema:M,schemaId:ie,meta:B,baseId:K,localRefs:Y}),this._cache.set(J.schema,J),k&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=J),O&&this.validateSchema(M,!0),J}_checkUnique(M){if(this.schemas[M]||this.refs[M])throw new Error(`schema with key or id "${M}" already exists`)}_compileSchemaEnv(M){if(M.meta?this._compileMetaSchema(M):a.compileSchema.call(this,M),!M.validate)throw new Error("ajv implementation error");return M.validate}_compileMetaSchema(M){const B=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,M)}finally{this.opts=B}}};S.ValidationError=n.default,S.MissingRefError=i.default,e.default=S;function $(M,B,K,O="error"){for(const k in M){const q=k;q in B&&this.logger[O](`${K}: option ${k}. ${M[q]}`)}}function T(M){return M=(0,l.normalizeId)(M),this.schemas[M]||this.refs[M]}function d(){const M=this.opts.schemas;if(M)if(Array.isArray(M))this.addSchema(M);else for(const B in M)this.addSchema(M[B],B)}function A(){for(const M in this.opts.formats){const B=this.opts.formats[M];B&&this.addFormat(M,B)}}function P(M){if(Array.isArray(M)){this.addVocabulary(M);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in M){const K=M[B];K.keyword||(K.keyword=B),this.addKeyword(K)}}function x(){const M={...this.opts};for(const B of g)delete M[B];return M}var D={log(){},warn(){},error(){}};function F(M){if(M===!1)return D;if(M===void 0)return console;if(M.log&&M.warn&&M.error)return M;throw new Error("logger must implement log, warn and error methods")}var V=/^[a-z_$][a-z0-9_$:-]*$/i;function X(M,B){const{RULES:K}=this;if((0,f.eachItem)(M,O=>{if(K.keywords[O])throw new Error(`Keyword ${O} is already defined`);if(!V.test(O))throw new Error(`Keyword ${O} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function G(M,B,K){var O;const k=B==null?void 0:B.post;if(K&&k)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let ie=k?q.post:q.rules.find(({type:Y})=>Y===K);if(ie||(ie={type:K,rules:[]},q.rules.push(ie)),q.keywords[M]=!0,!B)return;const J={keyword:M,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?Q.call(this,ie,J,B.before):ie.rules.push(J),q.all[M]=J,(O=B.implements)===null||O===void 0||O.forEach(Y=>this.addKeyword(Y))}function Q(M,B,K){const O=M.rules.findIndex(k=>k.keyword===K);O>=0?M.rules.splice(O,0,B):(M.rules.push(B),this.logger.warn(`rule ${K} is not defined`))}function ce(M){let{metaSchema:B}=M;B!==void 0&&(M.$data&&this.opts.$data&&(B=ae(B)),M.validateSchema=this.compile(B,!0))}var ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ae(M){return{anyOf:[M,ee]}}}}),lQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/id.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),uQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=j_(),r=fs(),n=fr(),i=Qu(),o=nR(),a=Lr(),s={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:h,it:m}=f,{baseId:g,schemaEnv:_,validateName:v,opts:p,self:E}=m,{root:y}=_;if((h==="#"||h==="#/")&&g===y.baseId)return $();const S=o.resolveRef.call(E,y,g,h);if(S===void 0)throw new t.default(m.opts.uriResolver,g,h);if(S instanceof o.SchemaEnv)return T(S);return d(S);function $(){if(_===y)return u(f,v,_,_.$async);const A=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${A}.validate`,y,y.$async)}function T(A){const P=l(f,A);u(f,P,A,A.$async)}function d(A){const P=c.scopeValue("schema",p.code.source===!0?{ref:A,code:(0,n.stringify)(A)}:{ref:A}),x=c.name("valid"),D=f.subschema({schema:A,dataTypes:[],schemaPath:n.nil,topSchemaRef:P,errSchemaPath:h},x);f.mergeEvaluated(D),f.ok(x)}}};function l(f,c){const{gen:h}=f;return c.validate?h.scopeValue("validate",{ref:c.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,h,m){const{gen:g,it:_}=f,{allErrors:v,schemaEnv:p,opts:E}=_,y=E.passContext?i.default.this:n.nil;m?S():$();function S(){if(!p.$async)throw new Error("async schema referenced by sync schema");const A=g.let("valid");g.try(()=>{g.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||g.assign(A,!0)},P=>{g.if((0,n._)`!(${P} instanceof ${_.ValidationError})`,()=>g.throw(P)),T(P),v||g.assign(A,!1)}),f.ok(A)}function $(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>T(c))}function T(A){const P=(0,n._)`${A}.errors`;g.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${P} : ${i.default.vErrors}.concat(${P})`),g.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(A){var P;if(!_.opts.unevaluated)return;const x=(P=h==null?void 0:h.validate)===null||P===void 0?void 0:P.evaluated;if(_.props!==!0)if(x&&!x.dynamicProps)x.props!==void 0&&(_.props=a.mergeEvaluated.props(g,x.props,_.props));else{const D=g.var("props",(0,n._)`${A}.evaluated.props`);_.props=a.mergeEvaluated.props(g,D,_.props,n.Name)}if(_.items!==!0)if(x&&!x.dynamicItems)x.items!==void 0&&(_.items=a.mergeEvaluated.items(g,x.items,_.items));else{const D=g.var("items",(0,n._)`${A}.evaluated.items`);_.items=a.mergeEvaluated.items(g,D,_.items,n.Name)}}}e.callRef=u,e.default=s}}),cQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=lQ(),r=uQ(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),fQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fr(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:a,schemaCode:s})=>(0,t.str)`must be ${n[a].okStr} ${s}`,params:({keyword:a,schemaCode:s})=>(0,t._)`{comparison: ${n[a].okStr}, limit: ${s}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u}=a;a.fail$data((0,t._)`${l} ${n[s].fail} ${u} || isNaN(${l})`)}};e.default=o}}),dQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fr(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:a,schemaCode:s,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${s} === 0 || (${f} = ${a}/${s}, ${c}))`)}};e.default=n}}),hQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/ucs2length.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,a;for(;o<n;)i++,a=r.charCodeAt(o++),a>=55296&&a<=56319&&o<n&&(a=r.charCodeAt(o),(a&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),pQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fr(),r=Lr(),n=hQ(),i={message({keyword:a,schemaCode:s}){const l=a==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${s} characters`},params:({schemaCode:a})=>(0,t._)`{limit: ${a}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u,it:f}=a,c=s==="maxLength"?t.operators.GT:t.operators.LT,h=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(a.gen,n.default)}(${l})`;a.fail$data((0,t._)`${h} ${c} ${u}`)}};e.default=o}}),mQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fs(),r=fr(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:a,$data:s,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",h=s?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${h}.test(${a})`)}};e.default=i}}),gQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fr(),r={message({keyword:i,schemaCode:o}){const a=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${a}).length ${l} ${s}`)}};e.default=n}}),vQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fs(),r=fr(),n=Lr(),i={message:({params:{missingProperty:a}})=>(0,r.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,r._)`{missingProperty: ${a}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,schema:l,schemaCode:u,data:f,$data:c,it:h}=a,{opts:m}=h;if(!c&&l.length===0)return;const g=l.length>=m.loopRequired;if(h.allErrors?_():v(),m.strictRequired){const y=a.parentSchema.properties,{definedProperties:S}=a.it;for(const $ of l)if((y==null?void 0:y[$])===void 0&&!S.has($)){const T=h.schemaEnv.baseId+h.errSchemaPath,d=`required property "${$}" is not defined at "${T}" (strictRequired)`;(0,n.checkStrictMode)(h,d,h.opts.strictRequired)}}function _(){if(g||c)a.block$data(r.nil,p);else for(const y of l)(0,t.checkReportMissingProp)(a,y)}function v(){const y=s.let("missing");if(g||c){const S=s.let("valid",!0);a.block$data(S,()=>E(y,S)),a.ok(S)}else s.if((0,t.checkMissingProp)(a,l,y)),(0,t.reportMissingProp)(a,y),s.else()}function p(){s.forOf("prop",u,y=>{a.setParams({missingProperty:y}),s.if((0,t.noPropertyInData)(s,f,y,m.ownProperties),()=>a.error())})}function E(y,S){a.setParams({missingProperty:y}),s.forOf(y,u,()=>{s.assign(S,(0,t.propertyInData)(s,f,y,m.ownProperties)),s.if((0,r.not)(S),()=>{a.error(),s.break()})},r.nil)}}};e.default=o}}),yQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fr(),r={message({keyword:i,schemaCode:o}){const a=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${a}.length ${l} ${s}`)}};e.default=n}}),iR=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/equal.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Oh();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),wQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=mb(),r=fr(),n=Lr(),i=iR(),o={message:({params:{i:s,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${s} are identical)`,params:({params:{i:s,j:l}})=>(0,r._)`{i: ${s}, j: ${l}}`},a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(s){const{gen:l,data:u,$data:f,schema:c,parentSchema:h,schemaCode:m,it:g}=s;if(!f&&!c)return;const _=l.let("valid"),v=h.items?(0,t.getSchemaTypes)(h.items):[];s.block$data(_,p,(0,r._)`${m} === false`),s.ok(_);function p(){const $=l.let("i",(0,r._)`${u}.length`),T=l.let("j");s.setParams({i:$,j:T}),l.assign(_,!0),l.if((0,r._)`${$} > 1`,()=>(E()?y:S)($,T))}function E(){return v.length>0&&!v.some($=>$==="object"||$==="array")}function y($,T){const d=l.name("item"),A=(0,t.checkDataTypes)(v,d,g.opts.strictNumbers,t.DataType.Wrong),P=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${$}--;`,()=>{l.let(d,(0,r._)`${u}[${$}]`),l.if(A,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${P}[${d}] == "number"`,()=>{l.assign(T,(0,r._)`${P}[${d}]`),s.error(),l.assign(_,!1).break()}).code((0,r._)`${P}[${d}] = ${$}`)})}function S($,T){const d=(0,n.useFunc)(l,i.default),A=l.name("outer");l.label(A).for((0,r._)`;${$}--;`,()=>l.for((0,r._)`${T} = ${$}; ${T}--;`,()=>l.if((0,r._)`${d}(${u}[${$}], ${u}[${T}])`,()=>{s.error(),l.assign(_,!1).break(A)})))}}};e.default=a}}),bQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fr(),r=Lr(),n=iR(),i={message:"must be equal to constant",params:({schemaCode:a})=>(0,t._)`{allowedValue: ${a}}`},o={keyword:"const",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schemaCode:f,schema:c}=a;u||c&&typeof c=="object"?a.fail$data((0,t._)`!${(0,r.useFunc)(s,n.default)}(${l}, ${f})`):a.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),_Q=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fr(),r=Lr(),n=iR(),i={message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,t._)`{allowedValues: ${a}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schema:f,schemaCode:c,it:h}=a;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=h.opts.loopEnum;let g;const _=()=>g??(g=(0,r.useFunc)(s,n.default));let v;if(m||u)v=s.let("valid"),a.block$data(v,p);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=s.const("vSchema",c);v=(0,t.or)(...f.map((S,$)=>E(y,$)))}a.pass(v);function p(){s.assign(v,!1),s.forOf("v",c,y=>s.if((0,t._)`${_()}(${l}, ${y})`,()=>s.assign(v,!0).break()))}function E(y,S){const $=f[S];return typeof $=="object"&&$!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${$}`}}};e.default=o}}),EQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fQ(),r=dQ(),n=pQ(),i=mQ(),o=gQ(),a=vQ(),s=yQ(),l=wQ(),u=bQ(),f=_Q(),c=[t.default,r.default,n.default,i.default,o.default,a.default,s.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),EB=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=fr(),r=Lr(),n={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(a){const{parentSchema:s,it:l}=a,{items:u}=s;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(a,u)}};function o(a,s){const{gen:l,schema:u,data:f,keyword:c,it:h}=a;h.items=!0;const m=l.const("len",(0,t._)`${f}.length`);if(u===!1)a.setParams({len:s.length}),a.pass((0,t._)`${m} <= ${s.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(h,u)){const _=l.var("valid",(0,t._)`${m} <= ${s.length}`);l.if((0,t.not)(_),()=>g(_)),a.ok(_)}function g(_){l.forRange("i",s.length,m,v=>{a.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),h.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),SB=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=fr(),r=Lr(),n=fs(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:s,it:l}=a;if(Array.isArray(s))return o(a,"additionalItems",s);l.items=!0,!(0,r.alwaysValidSchema)(l,s)&&a.ok((0,n.validateArray)(a))}};function o(a,s,l=a.schema){const{gen:u,parentSchema:f,data:c,keyword:h,it:m}=a;v(f),m.opts.unevaluated&&l.length&&m.items!==!0&&(m.items=r.mergeEvaluated.items(u,l.length,m.items));const g=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((p,E)=>{(0,r.alwaysValidSchema)(m,p)||(u.if((0,t._)`${_} > ${E}`,()=>a.subschema({keyword:h,schemaProp:E,dataProp:E},g)),a.ok(g))});function v(p){const{opts:E,errSchemaPath:y}=m,S=l.length,$=S===p.minItems&&(S===p.maxItems||p[s]===!1);if(E.strictTuples&&!$){const T=`"${h}" is ${S}-tuple, but minItems or maxItems/${s} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(m,T,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),SQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=SB(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),$Q=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fr(),r=Lr(),n=fs(),i=EB(),o={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(s){const{schema:l,parentSchema:u,it:f}=s,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(s,c):s.ok((0,n.validateArray)(s)))}};e.default=a}}),TQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fr(),r=Lr(),n={message:({params:{min:o,max:a}})=>a===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${a} valid item(s)`,params:({params:{min:o,max:a}})=>a===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${a}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,data:u,it:f}=o;let c,h;const{minContains:m,maxContains:g}=l;f.opts.next?(c=m===void 0?1:m,h=g):c=1;const _=a.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:h}),h===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&c>h){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,s)){let S=(0,t._)`${_} >= ${c}`;h!==void 0&&(S=(0,t._)`${S} && ${_} <= ${h}`),o.pass(S);return}f.items=!0;const v=a.name("valid");h===void 0&&c===1?E(v,()=>a.if(v,()=>a.break())):c===0?(a.let(v,!0),h!==void 0&&a.if((0,t._)`${u}.length > 0`,p)):(a.let(v,!1),p()),o.result(v,()=>o.reset());function p(){const S=a.name("_valid"),$=a.let("count",0);E(S,()=>a.if(S,()=>y($)))}function E(S,$){a.forRange("i",0,_,T=>{o.subschema({keyword:"contains",dataProp:T,dataPropType:r.Type.Num,compositeRule:!0},S),$()})}function y(S){a.code((0,t._)`${S}++`),h===void 0?a.if((0,t._)`${S} >= ${c}`,()=>a.assign(v,!0).break()):(a.if((0,t._)`${S} > ${h}`,()=>a.assign(v,!1).break()),c===1?a.assign(v,!0):a.if((0,t._)`${S} >= ${c}`,()=>a.assign(v,!0)))}}};e.default=i}}),AQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=fr(),r=Lr(),n=fs();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);a(l,u),s(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?u:f;h[c]=l[c]}return[u,f]}function a(l,u=l.schema){const{gen:f,data:c,it:h}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,h.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(v,()=>{for(const p of _)(0,n.checkReportMissingProp)(l,p)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=a;function s(l,u=l.schema){const{gen:f,data:c,keyword:h,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=s,e.default=i}}),PQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fr(),r=Lr(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:a,schema:s,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,s))return;const f=a.name("valid");a.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),a.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||a.break()})}),o.ok(f)}};e.default=i}}),$B=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fs(),r=fr(),n=Qu(),i=Lr(),o={message:"must NOT have additional properties",params:({params:s})=>(0,r._)`{additionalProperty: ${s.additionalProperty}}`},a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(s){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:h,it:m}=s;if(!h)throw new Error("ajv implementation error");const{allErrors:g,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(m,u))return;const v=(0,t.allSchemaProperties)(f.properties),p=(0,t.allSchemaProperties)(f.patternProperties);E(),s.ok((0,r._)`${h} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!p.length?$(d):l.if(y(d),()=>$(d))})}function y(d){let A;if(v.length>8){const P=(0,i.schemaRefOrVal)(m,f.properties,"properties");A=(0,t.isOwnProperty)(l,P,d)}else v.length?A=(0,r.or)(...v.map(P=>(0,r._)`${d} === ${P}`)):A=r.nil;return p.length&&(A=(0,r.or)(A,...p.map(P=>(0,r._)`${(0,t.usePattern)(s,P)}.test(${d})`))),(0,r.not)(A)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function $(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){s.setParams({additionalProperty:d}),s.error(),g||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(m,u)){const A=l.name("valid");_.removeAdditional==="failing"?(T(d,A,!1),l.if((0,r.not)(A),()=>{s.reset(),S(d)})):(T(d,A),g||l.if((0,r.not)(A),()=>l.break()))}}function T(d,A,P){const x={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};P===!1&&Object.assign(x,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(x,A)}}};e.default=a}}),xQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=k_(),r=fs(),n=Lr(),i=$B(),o={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,parentSchema:u,data:f,it:c}=a;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const h=(0,r.allSchemaProperties)(l);for(const p of h)c.definedProperties.add(p);c.opts.unevaluated&&h.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(s,(0,n.toHash)(h),c.props));const m=h.filter(p=>!(0,n.alwaysValidSchema)(c,l[p]));if(m.length===0)return;const g=s.name("valid");for(const p of m)_(p)?v(p):(s.if((0,r.propertyInData)(s,f,p,c.opts.ownProperties)),v(p),c.allErrors||s.else().var(g,!0),s.endIf()),a.it.definedProperties.add(p),a.ok(g);function _(p){return c.opts.useDefaults&&!c.compositeRule&&l[p].default!==void 0}function v(p){a.subschema({keyword:"properties",schemaProp:p,dataProp:p},g)}}};e.default=o}}),OQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fs(),r=fr(),n=Lr(),i=Lr(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,data:u,parentSchema:f,it:c}=a,{opts:h}=c,m=(0,t.allSchemaProperties)(l),g=m.filter($=>(0,n.alwaysValidSchema)(c,l[$]));if(m.length===0||g.length===m.length&&(!c.opts.unevaluated||c.props===!0))return;const _=h.strictSchema&&!h.allowMatchingProperties&&f.properties,v=s.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(s,c.props));const{props:p}=c;E();function E(){for(const $ of m)_&&y($),c.allErrors?S($):(s.var(v,!0),S($),s.if(v))}function y($){for(const T in _)new RegExp($).test(T)&&(0,n.checkStrictMode)(c,`property ${T} matches pattern ${$} (use allowMatchingProperties)`)}function S($){s.forIn("key",u,T=>{s.if((0,r._)`${(0,t.usePattern)(a,$)}.test(${T})`,()=>{const d=g.includes($);d||a.subschema({keyword:"patternProperties",schemaProp:$,dataProp:T,dataPropType:i.Type.Str},v),c.opts.unevaluated&&p!==!0?s.assign((0,r._)`${p}[${T}]`,!0):!d&&!c.allErrors&&s.if((0,r.not)(v),()=>s.break())})})}}};e.default=o}}),RQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Lr(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:a}=n;if((0,t.alwaysValidSchema)(a,o)){n.fail();return}const s=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),IQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fs(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),NQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fr(),r=Lr(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,it:u}=o;if(!Array.isArray(s))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=s,c=a.let("valid",!1),h=a.let("passing",null),m=a.name("_valid");o.setParams({passing:h}),a.block(g),o.result(c,()=>o.reset(),()=>o.error(!0));function g(){f.forEach((_,v)=>{let p;(0,r.alwaysValidSchema)(u,_)?a.var(m,!0):p=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},m),v>0&&a.if((0,t._)`${m} && ${c}`).assign(c,!1).assign(h,(0,t._)`[${h}, ${v}]`).else(),a.if(m,()=>{a.assign(c,!0),a.assign(h,v),p&&o.mergeEvaluated(p,t.Name)})})}}};e.default=i}}),CQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Lr(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:a}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const s=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(a,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},s);n.ok(s),n.mergeEvaluated(f)})}};e.default=r}}),kQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fr(),r=Lr(),n={message:({params:a})=>(0,t.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,t._)`{failingKeyword: ${a.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(a){const{gen:s,parentSchema:l,it:u}=a;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const h=s.let("valid",!0),m=s.name("_valid");if(g(),a.reset(),f&&c){const v=s.let("ifClause");a.setParams({ifClause:v}),s.if(m,_("then",v),_("else",v))}else f?s.if(m,_("then")):s.if((0,t.not)(m),_("else"));a.pass(h,()=>a.error(!0));function g(){const v=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);a.mergeEvaluated(v)}function _(v,p){return()=>{const E=a.subschema({keyword:v},m);s.assign(h,m),a.mergeValidEvaluated(E,h),p?s.assign(p,(0,t._)`${v}`):a.setParams({ifClause:v})}}}};function o(a,s){const l=a.schema[s];return l!==void 0&&!(0,r.alwaysValidSchema)(a,l)}e.default=i}}),jQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Lr(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),DQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=EB(),r=SQ(),n=SB(),i=$Q(),o=TQ(),a=AQ(),s=PQ(),l=$B(),u=xQ(),f=OQ(),c=RQ(),h=IQ(),m=NQ(),g=CQ(),_=kQ(),v=jQ();function p(E=!1){const y=[c.default,h.default,m.default,g.default,_.default,v.default,s.default,l.default,a.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=p}}),MQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/format/format.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fr(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:a,data:s,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:h,errSchemaPath:m,schemaEnv:g,self:_}=c;if(!h.validateFormats)return;l?v():p();function v(){const E=a.scopeValue("formats",{ref:_.formats,code:h.code.formats}),y=a.const("fDef",(0,t._)`${E}[${f}]`),S=a.let("fType"),$=a.let("format");a.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>a.assign(S,(0,t._)`${y}.type || "string"`).assign($,(0,t._)`${y}.validate`),()=>a.assign(S,(0,t._)`"string"`).assign($,y)),i.fail$data((0,t.or)(T(),d()));function T(){return h.strictSchema===!1?t.nil:(0,t._)`${f} && !${$}`}function d(){const A=g.$async?(0,t._)`(${y}.async ? await ${$}(${s}) : ${$}(${s}))`:(0,t._)`${$}(${s})`,P=(0,t._)`(typeof ${$} == "function" ? ${A} : ${$}.test(${s}))`;return(0,t._)`${$} && ${$} !== true && ${S} === ${o} && !${P}`}}function p(){const E=_.formats[u];if(!E){T();return}if(E===!0)return;const[y,S,$]=d(E);y===o&&i.pass(A());function T(){if(h.strictSchema===!1){_.logger.warn(P());return}throw new Error(P());function P(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function d(P){const x=P instanceof RegExp?(0,t.regexpCode)(P):h.code.formats?(0,t._)`${h.code.formats}${(0,t.getProperty)(u)}`:void 0,D=a.scopeValue("formats",{key:u,ref:P,code:x});return typeof P=="object"&&!(P instanceof RegExp)?[P.type||"string",P.validate,(0,t._)`${D}.validate`]:["string",P,D]}function A(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!g.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${s})`}return typeof S=="function"?(0,t._)`${$}(${s})`:(0,t._)`${$}.test(${s})`}}}};e.default=n}}),LQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/format/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=MQ(),r=[t.default];e.default=r}}),FQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/metadata.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),BQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/draft7.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=cQ(),r=EQ(),n=DQ(),i=LQ(),o=FQ(),a=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=a}}),UQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0;var t;(function(r){r.Tag="tag",r.Mapping="mapping"})(t||(e.DiscrError=t={}))}}),zQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=fr(),r=UQ(),n=nR(),i=j_(),o=Lr(),a={message:({params:{discrError:l,tagName:u}})=>l===r.DiscrError.Tag?`tag "${u}" must be string`:`value of tag "${u}" must be in oneOf`,params:({params:{discrError:l,tag:u,tagName:f}})=>(0,t._)`{error: ${l}, tag: ${f}, tagValue: ${u}}`},s={keyword:"discriminator",type:"object",schemaType:"object",error:a,code(l){const{gen:u,data:f,schema:c,parentSchema:h,it:m}=l,{oneOf:g}=h;if(!m.opts.discriminator)throw new Error("discriminator: requires discriminator option");const _=c.propertyName;if(typeof _!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");const v=u.let("valid",!1),p=u.const("tag",(0,t._)`${f}${(0,t.getProperty)(_)}`);u.if((0,t._)`typeof ${p} == "string"`,()=>E(),()=>l.error(!1,{discrError:r.DiscrError.Tag,tag:p,tagName:_})),l.ok(v);function E(){const $=S();u.if(!1);for(const T in $)u.elseIf((0,t._)`${p} === ${T}`),u.assign(v,y($[T]));u.else(),l.error(!1,{discrError:r.DiscrError.Mapping,tag:p,tagName:_}),u.endIf()}function y($){const T=u.name("valid"),d=l.subschema({keyword:"oneOf",schemaProp:$},T);return l.mergeEvaluated(d,t.Name),T}function S(){var $;const T={},d=P(h);let A=!0;for(let F=0;F<g.length;F++){let V=g[F];if(V!=null&&V.$ref&&!(0,o.schemaHasRulesButRef)(V,m.self.RULES)){const G=V.$ref;if(V=n.resolveRef.call(m.self,m.schemaEnv.root,m.baseId,G),V instanceof n.SchemaEnv&&(V=V.schema),V===void 0)throw new i.default(m.opts.uriResolver,m.baseId,G)}const X=($=V==null?void 0:V.properties)===null||$===void 0?void 0:$[_];if(typeof X!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${_}"`);A=A&&(d||P(V)),x(X,F)}if(!A)throw new Error(`discriminator: "${_}" must be required`);return T;function P({required:F}){return Array.isArray(F)&&F.includes(_)}function x(F,V){if(F.const)D(F.const,V);else if(F.enum)for(const X of F.enum)D(X,V);else throw new Error(`discriminator: "properties/${_}" must have "const" or "enum"`)}function D(F,V){if(typeof F!="string"||F in T)throw new Error(`discriminator: "${_}" values must be unique strings`);T[F]=V}}}};e.default=s}}),qQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),TB=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/ajv.js"(e,t){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;var r=sQ(),n=BQ(),i=zQ(),o=qQ(),a=["/properties"],s="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(m,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}};e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=k_();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=fr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=rR();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=j_();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}}),VQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/formats.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(D,F){return{validate:D,compare:F}}e.fullFormats={date:t(o,a),time:t(l(!0),u),"date-time":t(h(!0),m),"iso-time":t(l(),f),"iso-date-time":t(h(),g),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:p,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:x,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:T},int64:{type:"number",validate:d},float:{type:"number",validate:A},double:{type:"number",validate:A},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,g),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(D){return D%4===0&&(D%100!==0||D%400===0)}var n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(D){const F=n.exec(D);if(!F)return!1;const V=+F[1],X=+F[2],G=+F[3];return X>=1&&X<=12&&G>=1&&G<=(X===2&&r(V)?29:i[X])}function a(D,F){if(D&&F)return D>F?1:D<F?-1:0}var s=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(D){return function(V){const X=s.exec(V);if(!X)return!1;const G=+X[1],Q=+X[2],ce=+X[3],ee=X[4],ae=X[5]==="-"?-1:1,M=+(X[6]||0),B=+(X[7]||0);if(M>23||B>59||D&&!ee)return!1;if(G<=23&&Q<=59&&ce<60)return!0;const K=Q-B*ae,O=G-M*ae-(K<0?1:0);return(O===23||O===-1)&&(K===59||K===-1)&&ce<61}}function u(D,F){if(!(D&&F))return;const V=new Date("2020-01-01T"+D).valueOf(),X=new Date("2020-01-01T"+F).valueOf();if(V&&X)return V-X}function f(D,F){if(!(D&&F))return;const V=s.exec(D),X=s.exec(F);if(V&&X)return D=V[1]+V[2]+V[3],F=X[1]+X[2]+X[3],D>F?1:D<F?-1:0}var c=/t|\s/i;function h(D){const F=l(D);return function(X){const G=X.split(c);return G.length===2&&o(G[0])&&F(G[1])}}function m(D,F){if(!(D&&F))return;const V=new Date(D).valueOf(),X=new Date(F).valueOf();if(V&&X)return V-X}function g(D,F){if(!(D&&F))return;const[V,X]=D.split(c),[G,Q]=F.split(c),ce=a(V,G);if(ce!==void 0)return ce||u(X,Q)}var _=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function p(D){return _.test(D)&&v.test(D)}var E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(D){return E.lastIndex=0,E.test(D)}var S=-2147483648,$=2**31-1;function T(D){return Number.isInteger(D)&&D<=$&&D>=S}function d(D){return Number.isInteger(D)}function A(){return!0}var P=/[^\\]\\Z/;function x(D){if(P.test(D))return!1;try{return new RegExp(D),!0}catch{return!1}}}}),HQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/limit.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;var t=TB(),r=fr(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:s,schemaCode:l})=>(0,r.str)`should be ${i[s].okStr} ${l}`,params:({keyword:s,schemaCode:l})=>(0,r._)`{comparison: ${i[s].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(s){const{gen:l,data:u,schemaCode:f,keyword:c,it:h}=s,{opts:m,self:g}=h;if(!m.validateFormats)return;const _=new t.KeywordCxt(h,g.RULES.all.format.definition,"format");_.$data?v():p();function v(){const y=l.scopeValue("formats",{ref:g.formats,code:m.code.formats}),S=l.const("fmt",(0,r._)`${y}[${_.schemaCode}]`);s.fail$data((0,r.or)((0,r._)`typeof ${S} != "object"`,(0,r._)`${S} instanceof RegExp`,(0,r._)`typeof ${S}.compare != "function"`,E(S)))}function p(){const y=_.schema,S=g.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const $=l.scopeValue("formats",{key:y,ref:S,code:m.code.formats?(0,r._)`${m.code.formats}${(0,r.getProperty)(y)}`:void 0});s.fail$data(E($))}function E(y){return(0,r._)`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};var a=s=>(s.addKeyword(e.formatLimitDefinition),s);e.default=a}}),GQ=Oe({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/index.js"(e,t){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var r=VQ(),n=HQ(),i=fr(),o=new i.Name("fullFormats"),a=new i.Name("fastFormats"),s=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,h]=f.mode==="fast"?[r.fastFormats,a]:[r.fullFormats,o],m=f.formats||r.formatNames;return l(u,m,c,h),f.keywords&&(0,n.default)(u),u};s.get=(u,f="full")=>{const h=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!h)throw new Error(`Unknown format "${u}"`);return h};function l(u,f,c,h){var m,g;(m=(g=u.opts.code).formats)!==null&&m!==void 0||(g.formats=(0,i._)`require("ajv-formats/dist/formats").${h}`);for(const _ of f)u.addFormat(_,c[_])}t.exports=e=s,Object.defineProperty(e,"__esModule",{value:!0}),e.default=s}});function Zu(){return uT||(uT=!0,typeof Object.create=="function"?Sp=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Sp=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),Sp}var Sp,uT,oR=tn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CkFCi-G1.js"(){Ae(),Sp={},uT=!1}});function en(){en.init.call(this)}function yy(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function AB(e){return e._maxListeners===void 0?en.defaultMaxListeners:e._maxListeners}function qk(e,t,r,n){var i,o,a,s;if(yy(r),(o=e._events)===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),a===void 0)a=o[t]=r,++e._eventsCount;else if(typeof a=="function"?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=AB(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function WQ(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Vk(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=WQ.bind(n);return i.listener=r,n.wrapFn=i,i}function Hk(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?function(o){for(var a=new Array(o.length),s=0;s<a.length;++s)a[s]=o[s].listener||o[s];return a}(i):PB(i,i.length)}function Gk(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function PB(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}var Wk,Kk,vc,yS,wS,bS,Ki,D_=tn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-tHuMsdT0.js"(){Ae(),vc=typeof Reflect=="object"?Reflect:null,yS=vc&&typeof vc.apply=="function"?vc.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},Kk=vc&&typeof vc.ownKeys=="function"?vc.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},wS=Number.isNaN||function(e){return e!=e},Wk=en,en.EventEmitter=en,en.prototype._events=void 0,en.prototype._eventsCount=0,en.prototype._maxListeners=void 0,bS=10,Object.defineProperty(en,"defaultMaxListeners",{enumerable:!0,get:function(){return bS},set:function(e){if(typeof e!="number"||e<0||wS(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");bS=e}}),en.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},en.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||wS(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},en.prototype.getMaxListeners=function(){return AB(this)},en.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(s===void 0)return!1;if(typeof s=="function")yS(s,this,t);else{var l=s.length,u=PB(s,l);for(r=0;r<l;++r)yS(u[r],this,t)}return!0},en.prototype.addListener=function(e,t){return qk(this,e,t,!1)},en.prototype.on=en.prototype.addListener,en.prototype.prependListener=function(e,t){return qk(this,e,t,!0)},en.prototype.once=function(e,t){return yy(t),this.on(e,Vk(this,e,t)),this},en.prototype.prependOnceListener=function(e,t){return yy(t),this.prependListener(e,Vk(this,e,t)),this},en.prototype.removeListener=function(e,t){var r,n,i,o,a;if(yy(t),(n=this._events)===void 0)return this;if((r=n[e])===void 0)return this;if(r===t||r.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():function(s,l){for(;l+1<s.length;l++)s[l]=s[l+1];s.pop()}(r,i),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this},en.prototype.off=en.prototype.removeListener,en.prototype.removeAllListeners=function(e){var t,r,n;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i,o=Object.keys(r);for(n=0;n<o.length;++n)(i=o[n])!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=r[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},en.prototype.listeners=function(e){return Hk(this,e,!0)},en.prototype.rawListeners=function(e){return Hk(this,e,!1)},en.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Gk.call(e,t)},en.prototype.listenerCount=Gk,en.prototype.eventNames=function(){return this._eventsCount>0?Kk(this._events):[]},Ki=Wk,Ki.EventEmitter,Ki.defaultMaxListeners,Ki.init,Ki.listenerCount,Ki.EventEmitter,Ki.defaultMaxListeners,Ki.init,Ki.listenerCount}}),KQ=tn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtDiafJB.js"(){Ae(),D_(),Ki.once=function(e,t){return new Promise((r,n)=>{function i(...a){o!==void 0&&e.removeListener("error",o),r(a)}let o;t!=="error"&&(o=a=>{e.removeListener(name,i),n(a)},e.once("error",o)),e.once(t,i)})},Ki.on=function(e,t){const r=[],n=[];let i=null,o=!1;const a={async next(){const u=r.shift();if(u)return createIterResult(u,!1);if(i){const f=Promise.reject(i);return i=null,f}return o?createIterResult(void 0,!0):new Promise((f,c)=>n.push({resolve:f,reject:c}))},async return(){e.removeListener(t,s),e.removeListener("error",l),o=!0;for(const u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,e.removeListener(t,s),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,s),e.on("error",l),a;function s(...u){const f=n.shift();f?f.resolve(createIterResult(u,!1)):r.push(u)}function l(u){o=!0;const f=n.shift();f?f.reject(u):i=u,a.return()}}}});function cT(){throw new Error("setTimeout has not been defined")}function fT(){throw new Error("clearTimeout has not been defined")}function xB(e){if(dl===setTimeout)return setTimeout(e,0);if((dl===cT||!dl)&&setTimeout)return dl=setTimeout,setTimeout(e,0);try{return dl(e,0)}catch{try{return dl.call(null,e,0)}catch{return dl.call(this||of,e,0)}}}function JQ(){af&&Jc&&(af=!1,Jc.length?Ds=Jc.concat(Ds):em=-1,Ds.length&&OB())}function OB(){if(!af){var e=xB(JQ);af=!0;for(var t=Ds.length;t;){for(Jc=Ds,Ds=[];++em<t;)Jc&&Jc[em].run();em=-1,t=Ds.length}Jc=null,af=!1,function(r){if(hl===clearTimeout)return clearTimeout(r);if((hl===fT||!hl)&&clearTimeout)return hl=clearTimeout,clearTimeout(r);try{hl(r)}catch{try{return hl.call(null,r)}catch{return hl.call(this||of,r)}}}(e)}}function Jk(e,t){(this||of).fun=e,(this||of).array=t}function ol(){}function yc(e){return e.call.bind(e)}function cg(e,t){if(typeof e!="object")return!1;try{return t(e),!0}catch{return!1}}function Yk(e){return eo&&Ao?b(e)!==void 0:RB(e)||IB(e)||NB(e)||CB(e)||kB(e)||jB(e)||DB(e)||MB(e)||LB(e)||FB(e)||BB(e)}function RB(e){return eo&&Ao?b(e)==="Uint8Array":Tn(e)==="[object Uint8Array]"||VB(e)&&e.buffer!==void 0}function IB(e){return eo&&Ao?b(e)==="Uint8ClampedArray":Tn(e)==="[object Uint8ClampedArray]"}function NB(e){return eo&&Ao?b(e)==="Uint16Array":Tn(e)==="[object Uint16Array]"}function CB(e){return eo&&Ao?b(e)==="Uint32Array":Tn(e)==="[object Uint32Array]"}function kB(e){return eo&&Ao?b(e)==="Int8Array":Tn(e)==="[object Int8Array]"}function jB(e){return eo&&Ao?b(e)==="Int16Array":Tn(e)==="[object Int16Array]"}function DB(e){return eo&&Ao?b(e)==="Int32Array":Tn(e)==="[object Int32Array]"}function MB(e){return eo&&Ao?b(e)==="Float32Array":Tn(e)==="[object Float32Array]"}function LB(e){return eo&&Ao?b(e)==="Float64Array":Tn(e)==="[object Float64Array]"}function FB(e){return eo&&Ao?b(e)==="BigInt64Array":Tn(e)==="[object BigInt64Array]"}function BB(e){return eo&&Ao?b(e)==="BigUint64Array":Tn(e)==="[object BigUint64Array]"}function mv(e){return Tn(e)==="[object Map]"}function gv(e){return Tn(e)==="[object Set]"}function vv(e){return Tn(e)==="[object WeakMap]"}function _S(e){return Tn(e)==="[object WeakSet]"}function gb(e){return Tn(e)==="[object ArrayBuffer]"}function Xk(e){return typeof ArrayBuffer<"u"&&(gb.working?gb(e):e instanceof ArrayBuffer)}function vb(e){return Tn(e)==="[object DataView]"}function Qk(e){return typeof DataView<"u"&&(vb.working?vb(e):e instanceof DataView)}function yb(e){return Tn(e)==="[object SharedArrayBuffer]"}function Zk(e){return typeof SharedArrayBuffer<"u"&&(yb.working?yb(e):e instanceof SharedArrayBuffer)}function e2(e){return cg(e,HB)}function t2(e){return cg(e,GB)}function r2(e){return cg(e,WB)}function n2(e){return dT&&cg(e,w)}function i2(e){return by&&cg(e,v2)}function Su(e,t){var r={seen:[],stylize:XQ};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),aR(t)?r.showHidden=t:t&&ct._extend(r,t),Kc(r.showHidden)&&(r.showHidden=!1),Kc(r.depth)&&(r.depth=2),Kc(r.colors)&&(r.colors=!1),Kc(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=YQ),wb(r,e,r.depth)}function YQ(e,t){var r=Su.styles[t];return r?"\x1B["+Su.colors[r][0]+"m"+e+"\x1B["+Su.colors[r][1]+"m":e}function XQ(e,t){return e}function wb(e,t,r){if(e.customInspect&&t&&wy(t.inspect)&&t.inspect!==ct.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return _b(n)||(n=wb(e,n,r)),n}var i=function(h,m){if(Kc(m))return h.stylize("undefined","undefined");if(_b(m)){var g="'"+JSON.stringify(m).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return h.stylize(g,"string")}if(zB(m))return h.stylize(""+m,"number");if(aR(m))return h.stylize(""+m,"boolean");if(bb(m))return h.stylize("null","null")}(e,t);if(i)return i;var o=Object.keys(t),a=function(h){var m={};return h.forEach(function(g,_){m[g]=!0}),m}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),Zp(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return ES(t);if(o.length===0){if(wy(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(Qp(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Eb(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Zp(t))return ES(t)}var l,u="",f=!1,c=["{","}"];return UB(t)&&(f=!0,c=["[","]"]),wy(t)&&(u=" [Function"+(t.name?": "+t.name:"")+"]"),Qp(t)&&(u=" "+RegExp.prototype.toString.call(t)),Eb(t)&&(u=" "+Date.prototype.toUTCString.call(t)),Zp(t)&&(u=" "+ES(t)),o.length!==0||f&&t.length!=0?r<0?Qp(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=f?function(h,m,g,_,v){for(var p=[],E=0,y=m.length;E<y;++E)qB(m,String(E))?p.push(SS(h,m,g,_,String(E),!0)):p.push("");return v.forEach(function(S){S.match(/^\d+$/)||p.push(SS(h,m,g,_,S,!0))}),p}(e,t,r,a,o):o.map(function(h){return SS(e,t,r,a,h,f)}),e.seen.pop(),function(h,m,g){var _=0;return h.reduce(function(v,p){return _++,p.indexOf(`
`)>=0&&_++,v+p.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?g[0]+(m===""?"":m+`
 `)+" "+h.join(`,
  `)+" "+g[1]:g[0]+m+" "+h.join(", ")+" "+g[1]}(l,u,c)):c[0]+u+c[1]}function ES(e){return"["+Error.prototype.toString.call(e)+"]"}function SS(e,t,r,n,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),qB(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=bb(r)?wb(e,l.value,null):wb(e,l.value,r-1)).indexOf(`
`)>-1&&(s=o?s.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):`
`+s.split(`
`).map(function(u){return"   "+u}).join(`
`)):s=e.stylize("[Circular]","special")),Kc(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function UB(e){return Array.isArray(e)}function aR(e){return typeof e=="boolean"}function bb(e){return e===null}function zB(e){return typeof e=="number"}function _b(e){return typeof e=="string"}function Kc(e){return e===void 0}function Qp(e){return Kd(e)&&sR(e)==="[object RegExp]"}function Kd(e){return typeof e=="object"&&e!==null}function Eb(e){return Kd(e)&&sR(e)==="[object Date]"}function Zp(e){return Kd(e)&&(sR(e)==="[object Error]"||e instanceof Error)}function wy(e){return typeof e=="function"}function sR(e){return Object.prototype.toString.call(e)}function $S(e){return e<10?"0"+e.toString(10):e.toString(10)}function QQ(){var e=new Date,t=[$S(e.getHours()),$S(e.getMinutes()),$S(e.getSeconds())].join(":");return[e.getDate(),KB[e.getMonth()],t].join(" ")}function qB(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ZQ(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}var o2,dl,hl,of,Cn,Jc,Ds,af,em,En,a2,yv,rp,TS,s2,l2,u2,c2,f2,AS,PS,xS,d2,h2,p2,OS,gr,VB,m2,g2,dT,by,Ao,eo,y2,Tn,HB,GB,WB,rd,ct,Ba,RS,w2,np,IS,wv,KB,tu,fg=tn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-D3uu3VYh.js"(){if(Ae(),of=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Cn=o2={},function(){try{dl=typeof setTimeout=="function"?setTimeout:cT}catch{dl=cT}try{hl=typeof clearTimeout=="function"?clearTimeout:fT}catch{hl=fT}}(),Ds=[],af=!1,em=-1,Cn.nextTick=function(i){var o=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)o[a-1]=arguments[a];Ds.push(new Jk(i,o)),Ds.length!==1||af||xB(OB)},Jk.prototype.run=function(){(this||of).fun.apply(null,(this||of).array)},Cn.title="browser",Cn.browser=!0,Cn.env={},Cn.argv=[],Cn.version="",Cn.versions={},Cn.on=ol,Cn.addListener=ol,Cn.once=ol,Cn.off=ol,Cn.removeListener=ol,Cn.removeAllListeners=ol,Cn.emit=ol,Cn.prependListener=ol,Cn.prependOnceListener=ol,Cn.listeners=function(i){return[]},Cn.binding=function(i){throw new Error("process.binding is not supported")},Cn.cwd=function(){return"/"},Cn.chdir=function(i){throw new Error("process.chdir is not supported")},Cn.umask=function(){return 0},En=o2,En.addListener,En.argv,En.binding,En.browser,En.chdir,En.cwd,En.emit,En.env,En.listeners,En.nextTick,En.off,En.on,En.once,En.prependListener,En.prependOnceListener,En.removeAllListeners,En.removeListener,En.title,En.umask,En.version,En.versions,a2=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",yv=Object.prototype.toString,rp=function(i){return!(a2&&i&&typeof i=="object"&&Symbol.toStringTag in i)&&yv.call(i)==="[object Arguments]"},TS=function(i){return!!rp(i)||i!==null&&typeof i=="object"&&typeof i.length=="number"&&i.length>=0&&yv.call(i)!=="[object Array]"&&yv.call(i.callee)==="[object Function]"},s2=function(){return rp(arguments)}(),rp.isLegacyArguments=TS,l2=s2?rp:TS,u2=Object.prototype.toString,c2=Function.prototype.toString,f2=/^\s*(?:function)?\*/,AS=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",PS=Object.getPrototypeOf,xS=function(){if(!AS)return!1;try{return Function("return function*() {}")()}catch{}}(),d2=xS?PS(xS):{},h2=function(i){return typeof i=="function"&&(!!f2.test(c2.call(i))||(AS?PS(i)===d2:u2.call(i)==="[object GeneratorFunction]"))},p2=typeof Object.create=="function"?function(i,o){o&&(i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:function(i,o){if(o){i.super_=o;var a=function(){};a.prototype=o.prototype,i.prototype=new a,i.prototype.constructor=i}},OS=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"},gr={},VB=OS,m2=l2,g2=h2,dT=typeof BigInt<"u",by=typeof Symbol<"u",Ao=by&&Symbol.toStringTag!==void 0,eo=typeof Uint8Array<"u",y2=typeof ArrayBuffer<"u",eo&&Ao)var e=Object.getPrototypeOf(Uint8Array.prototype),t=yc(Object.getOwnPropertyDescriptor(e,Symbol.toStringTag).get);if(Tn=yc(Object.prototype.toString),HB=yc(Number.prototype.valueOf),GB=yc(String.prototype.valueOf),WB=yc(Boolean.prototype.valueOf),dT)var r=yc(BigInt.prototype.valueOf);if(by)var n=yc(Symbol.prototype.valueOf);gr.isArgumentsObject=m2,gr.isGeneratorFunction=g2,gr.isPromise=function(i){return typeof Promise<"u"&&i instanceof Promise||i!==null&&typeof i=="object"&&typeof i.then=="function"&&typeof i.catch=="function"},gr.isArrayBufferView=function(i){return y2&&ArrayBuffer.isView?ArrayBuffer.isView(i):Yk(i)||Qk(i)},gr.isTypedArray=Yk,gr.isUint8Array=RB,gr.isUint8ClampedArray=IB,gr.isUint16Array=NB,gr.isUint32Array=CB,gr.isInt8Array=kB,gr.isInt16Array=jB,gr.isInt32Array=DB,gr.isFloat32Array=MB,gr.isFloat64Array=LB,gr.isBigInt64Array=FB,gr.isBigUint64Array=BB,mv.working=typeof Map<"u"&&mv(new Map),gr.isMap=function(i){return typeof Map<"u"&&(mv.working?mv(i):i instanceof Map)},gv.working=typeof Set<"u"&&gv(new Set),gr.isSet=function(i){return typeof Set<"u"&&(gv.working?gv(i):i instanceof Set)},vv.working=typeof WeakMap<"u"&&vv(new WeakMap),gr.isWeakMap=function(i){return typeof WeakMap<"u"&&(vv.working?vv(i):i instanceof WeakMap)},_S.working=typeof WeakSet<"u"&&_S(new WeakSet),gr.isWeakSet=function(i){return _S(i)},gb.working=typeof ArrayBuffer<"u"&&gb(new ArrayBuffer),gr.isArrayBuffer=Xk,vb.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&vb(new DataView(new ArrayBuffer(1),0,1)),gr.isDataView=Qk,yb.working=typeof SharedArrayBuffer<"u"&&yb(new SharedArrayBuffer),gr.isSharedArrayBuffer=Zk,gr.isAsyncFunction=function(i){return Tn(i)==="[object AsyncFunction]"},gr.isMapIterator=function(i){return Tn(i)==="[object Map Iterator]"},gr.isSetIterator=function(i){return Tn(i)==="[object Set Iterator]"},gr.isGeneratorObject=function(i){return Tn(i)==="[object Generator]"},gr.isWebAssemblyCompiledModule=function(i){return Tn(i)==="[object WebAssembly.Module]"},gr.isNumberObject=e2,gr.isStringObject=t2,gr.isBooleanObject=r2,gr.isBigIntObject=n2,gr.isSymbolObject=i2,gr.isBoxedPrimitive=function(i){return e2(i)||t2(i)||r2(i)||n2(i)||i2(i)},gr.isAnyArrayBuffer=function(i){return eo&&(Xk(i)||Zk(i))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(i){Object.defineProperty(gr,i,{enumerable:!1,value:function(){throw new Error(i+" is not supported in userland")}})}),rd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ct={},Ba=En,RS=Object.getOwnPropertyDescriptors||function(i){for(var o=Object.keys(i),a={},s=0;s<o.length;s++)a[o[s]]=Object.getOwnPropertyDescriptor(i,o[s]);return a},w2=/%[sdj%]/g,ct.format=function(i){if(!_b(i)){for(var o=[],a=0;a<arguments.length;a++)o.push(Su(arguments[a]));return o.join(" ")}a=1;for(var s=arguments,l=s.length,u=String(i).replace(w2,function(c){if(c==="%%")return"%";if(a>=l)return c;switch(c){case"%s":return String(s[a++]);case"%d":return Number(s[a++]);case"%j":try{return JSON.stringify(s[a++])}catch{return"[Circular]"}default:return c}}),f=s[a];a<l;f=s[++a])bb(f)||!Kd(f)?u+=" "+f:u+=" "+Su(f);return u},ct.deprecate=function(i,o){if(Ba!==void 0&&Ba.noDeprecation===!0)return i;if(Ba===void 0)return function(){return ct.deprecate(i,o).apply(this||rd,arguments)};var a=!1;return function(){if(!a){if(Ba.throwDeprecation)throw new Error(o);Ba.traceDeprecation?console.trace(o):console.error(o),a=!0}return i.apply(this||rd,arguments)}},np={},IS=/^$/,Ba.env.NODE_DEBUG&&(wv=Ba.env.NODE_DEBUG,wv=wv.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),IS=new RegExp("^"+wv+"$","i")),ct.debuglog=function(i){if(i=i.toUpperCase(),!np[i])if(IS.test(i)){var o=Ba.pid;np[i]=function(){var a=ct.format.apply(ct,arguments);console.error("%s %d: %s",i,o,a)}}else np[i]=function(){};return np[i]},ct.inspect=Su,Su.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Su.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},ct.types=gr,ct.isArray=UB,ct.isBoolean=aR,ct.isNull=bb,ct.isNullOrUndefined=function(i){return i==null},ct.isNumber=zB,ct.isString=_b,ct.isSymbol=function(i){return typeof i=="symbol"},ct.isUndefined=Kc,ct.isRegExp=Qp,ct.types.isRegExp=Qp,ct.isObject=Kd,ct.isDate=Eb,ct.types.isDate=Eb,ct.isError=Zp,ct.types.isNativeError=Zp,ct.isFunction=wy,ct.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},ct.isBuffer=OS,KB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ct.log=function(){console.log("%s - %s",QQ(),ct.format.apply(ct,arguments))},ct.inherits=p2,ct._extend=function(i,o){if(!o||!Kd(o))return i;for(var a=Object.keys(o),s=a.length;s--;)i[a[s]]=o[a[s]];return i},tu=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0,ct.promisify=function(i){if(typeof i!="function")throw new TypeError('The "original" argument must be of type Function');if(tu&&i[tu]){var o;if(typeof(o=i[tu])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(o,tu,{value:o,enumerable:!1,writable:!1,configurable:!0}),o}function o(){for(var a,s,l=new Promise(function(c,h){a=c,s=h}),u=[],f=0;f<arguments.length;f++)u.push(arguments[f]);u.push(function(c,h){c?s(c):a(h)});try{i.apply(this||rd,u)}catch(c){s(c)}return l}return Object.setPrototypeOf(o,Object.getPrototypeOf(i)),tu&&Object.defineProperty(o,tu,{value:o,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(o,RS(i))},ct.promisify.custom=tu,ct.callbackify=function(i){if(typeof i!="function")throw new TypeError('The "original" argument must be of type Function');function o(){for(var a=[],s=0;s<arguments.length;s++)a.push(arguments[s]);var l=a.pop();if(typeof l!="function")throw new TypeError("The last argument must be of type Function");var u=this||rd,f=function(){return l.apply(u,arguments)};i.apply(this||rd,a).then(function(c){Ba.nextTick(f.bind(null,null,c))},function(c){Ba.nextTick(ZQ.bind(null,c,f))})}return Object.setPrototypeOf(o,Object.getPrototypeOf(i)),Object.defineProperties(o,RS(i)),o},ct._extend,ct.callbackify,ct.debuglog,ct.deprecate,ct.format,ct.inherits,ct.inspect,ct.isArray,ct.isBoolean,ct.isBuffer,ct.isDate,ct.isError,ct.isFunction,ct.isNull,ct.isNullOrUndefined,ct.isNumber,ct.isObject,ct.isPrimitive,ct.isRegExp,ct.isString,ct.isSymbol,ct.isUndefined,ct.log,ct.promisify,ct._extend,ct.callbackify,ct.debuglog,ct.deprecate,ct.format,ct.inherits,ct.inspect,ct.isArray,ct.isBoolean,ct.isBuffer,ct.isDate,ct.isError,ct.isFunction,ct.isNull,ct.isNullOrUndefined,ct.isNumber,ct.isObject,ct.isPrimitive,ct.isRegExp,ct.isString,ct.isSymbol,ct.isUndefined,ct.log,ct.promisify,ct.types}}),eZ=tn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CbQqNoLO.js"(){Ae(),fg(),ct._extend,ct.callbackify,ct.debuglog,ct.deprecate,ct.format,ct.inherits,ct.inspect,ct.isArray,ct.isBoolean,ct.isBuffer,ct.isDate,ct.isError,ct.isFunction,ct.isNull,ct.isNullOrUndefined,ct.isNumber,ct.isObject,ct.isPrimitive,ct.isRegExp,ct.isString,ct.isSymbol,ct.isUndefined,ct.log,ct.promisify,ct.types,ct.TextEncoder=globalThis.TextEncoder,ct.TextDecoder=globalThis.TextDecoder}});function lR(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function tZ(){!sf||!Yc||(sf=!1,Yc.length?Ms=Yc.concat(Ms):tm=-1,Ms.length&&JB())}function JB(){if(!sf){var e=setTimeout(tZ,0);sf=!0;for(var t=Ms.length;t;){for(Yc=Ms,Ms=[];++tm<t;)Yc&&Yc[tm].run();tm=-1,t=Ms.length}Yc=null,sf=!1,clearTimeout(e)}}function rZ(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Ms.push(new YB(e,t)),Ms.length===1&&!sf&&setTimeout(JB,0)}function YB(e,t){this.fun=e,this.array=t}function Ii(){}function nZ(e){lR("_linkedBinding")}function iZ(e){lR("dlopen")}function oZ(){return[]}function aZ(){return[]}function sZ(e,t){if(!e)throw new Error(t||"assertion error")}function lZ(){return!1}function uZ(){return vl.now()/1e3}function NS(e){var t=Math.floor((Date.now()-vl.now())*.001),r=vl.now()*.001,n=Math.floor(r)+t,i=Math.floor(r%1*1e9);return e&&(n=n-e[0],i=i-e[1],i<0&&(n--,i+=_y)),[n,i]}function ru(){return ci}function cZ(e){return[]}var Ms,sf,Yc,tm,b2,_2,E2,S2,$2,T2,A2,P2,x2,O2,R2,I2,N2,C2,k2,j2,D2,M2,L2,F2,B2,bv,U2,z2,q2,V2,H2,G2,W2,K2,J2,Y2,X2,Q2,Z2,ej,tj,rj,nj,ij,oj,aj,sj,lj,uj,cj,fj,vl,lf,_y,dj,hj,pj,mj,gj,vj,yj,wj,bj,_j,Ej,ci,dg=tn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DEMDiNwt.js"(){Ae(),Ms=[],sf=!1,tm=-1,YB.prototype.run=function(){this.fun.apply(null,this.array)},b2="browser",_2="x64",E2="browser",S2={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},$2=["/usr/bin/node"],T2=[],A2="v16.8.0",P2={},x2=function(e,t){console.warn((t?t+": ":"")+e)},O2=function(e){lR("binding")},R2=function(e){return 0},I2=function(){return"/"},N2=function(e){},C2={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},k2=Ii,j2=[],D2={},M2=!1,L2={},F2=Ii,B2=Ii,bv=function(){return{}},U2=bv,z2=bv,q2=Ii,V2=Ii,H2=Ii,G2={},W2={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},K2=Ii,J2=Ii,Y2=Ii,X2=Ii,Q2=Ii,Z2=Ii,ej=Ii,tj=void 0,rj=void 0,nj=void 0,ij=Ii,oj=2,aj=1,sj="/bin/usr/node",lj=9229,uj="node",cj=[],fj=Ii,vl={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},vl.now===void 0&&(lf=Date.now(),vl.timing&&vl.timing.navigationStart&&(lf=vl.timing.navigationStart),vl.now=()=>Date.now()-lf),_y=1e9,NS.bigint=function(e){var t=NS(e);return typeof BigInt>"u"?t[0]*_y+t[1]:BigInt(t[0]*_y)+BigInt(t[1])},dj=10,hj={},pj=0,mj=ru,gj=ru,vj=ru,yj=ru,wj=ru,bj=Ii,_j=ru,Ej=ru,ci={version:A2,versions:P2,arch:_2,platform:E2,release:C2,_rawDebug:k2,moduleLoadList:j2,binding:O2,_linkedBinding:nZ,_events:hj,_eventsCount:pj,_maxListeners:dj,on:ru,addListener:mj,once:gj,off:vj,removeListener:yj,removeAllListeners:wj,emit:bj,prependListener:_j,prependOnceListener:Ej,listeners:cZ,domain:D2,_exiting:M2,config:L2,dlopen:iZ,uptime:uZ,_getActiveRequests:oZ,_getActiveHandles:aZ,reallyExit:F2,_kill:B2,cpuUsage:bv,resourceUsage:U2,memoryUsage:z2,kill:q2,exit:V2,openStdin:H2,allowedNodeEnvironmentFlags:G2,assert:sZ,features:W2,_fatalExceptions:K2,setUncaughtExceptionCaptureCallback:J2,hasUncaughtExceptionCaptureCallback:lZ,emitWarning:x2,nextTick:rZ,_tickCallback:Y2,_debugProcess:X2,_debugEnd:Q2,_startProfilerIdleNotifier:Z2,_stopProfilerIdleNotifier:ej,stdout:tj,stdin:nj,stderr:rj,abort:ij,umask:R2,chdir:N2,cwd:I2,env:S2,title:b2,argv:$2,execArgv:T2,pid:oj,ppid:aj,execPath:sj,debugPort:lj,hrtime:NS,argv0:uj,_preload_modules:cj,setSourceMapsEnabled:fj}}});function fZ(){if(hT)return Ey;hT=!0,Ey=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function o(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this||Sy,arguments)}return o}function t(r){try{if(!Sy.localStorage)return!1}catch{return!1}var n=Sy.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Ey}var Ey,hT,Sy,dZ=tn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-BsRZ0PEC.js"(){Ae(),Ey={},hT=!1,Sy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global}});function hZ(){if(pT)return pd;pT=!0;var e=xo(),t=e.Buffer;function r(i,o){for(var a in i)o[a]=i[a]}t.from&&t.alloc&&t.allocUnsafe&&t.allocUnsafeSlow?pd=e:(r(e,pd),pd.Buffer=n);function n(i,o,a){return t(i,o,a)}return n.prototype=Object.create(t.prototype),r(t,n),n.from=function(i,o,a){if(typeof i=="number")throw new TypeError("Argument must not be a number");return t(i,o,a)},n.alloc=function(i,o,a){if(typeof i!="number")throw new TypeError("Argument must be a number");var s=t(i);return o!==void 0?typeof a=="string"?s.fill(o,a):s.fill(o):s.fill(0),s},n.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return t(i)},n.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(i)},pd}function pZ(){if(mT)return $y;mT=!0;var e=hZ().Buffer,t=e.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(p){if(!p)return"utf8";for(var E;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(E)return;p=(""+p).toLowerCase(),E=!0}}function n(p){var E=r(p);if(typeof E!="string"&&(e.isEncoding===t||!t(p)))throw new Error("Unknown encoding: "+p);return E||p}$y.StringDecoder=i;function i(p){this.encoding=n(p);var E;switch(this.encoding){case"utf16le":this.text=c,this.end=h,E=4;break;case"utf8":this.fillLast=l,E=4;break;case"base64":this.text=m,this.end=g,E=3;break;default:this.write=_,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(E)}i.prototype.write=function(p){if(p.length===0)return"";var E,y;if(this.lastNeed){if(E=this.fillLast(p),E===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<p.length?E?E+this.text(p,y):this.text(p,y):E||""},i.prototype.end=f,i.prototype.text=u,i.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function o(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:p>>6===2?-1:-2}function a(p,E,y){var S=E.length-1;if(S<y)return 0;var $=o(E[S]);return $>=0?($>0&&(p.lastNeed=$-1),$):--S<y||$===-2?0:($=o(E[S]),$>=0?($>0&&(p.lastNeed=$-2),$):--S<y||$===-2?0:($=o(E[S]),$>=0?($>0&&($===2?$=0:p.lastNeed=$-3),$):0))}function s(p,E,y){if((E[0]&192)!==128)return p.lastNeed=0,"";if(p.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return p.lastNeed=1,"";if(p.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return p.lastNeed=2,""}}function l(p){var E=this.lastTotal-this.lastNeed,y=s(this,p);if(y!==void 0)return y;if(this.lastNeed<=p.length)return p.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,E,0,p.length),this.lastNeed-=p.length}function u(p,E){var y=a(this,p,E);if(!this.lastNeed)return p.toString("utf8",E);this.lastTotal=y;var S=p.length-(y-this.lastNeed);return p.copy(this.lastChar,0,S),p.toString("utf8",E,S)}function f(p){var E=p&&p.length?this.write(p):"";return this.lastNeed?E+"":E}function c(p,E){if((p.length-E)%2===0){var y=p.toString("utf16le",E);if(y){var S=y.charCodeAt(y.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",E,p.length-1)}function h(p){var E=p&&p.length?this.write(p):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,y)}return E}function m(p,E){var y=(p.length-E)%3;return y===0?p.toString("base64",E):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",E,p.length-y))}function g(p){var E=p&&p.length?this.write(p):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function _(p){return p.toString(this.encoding)}function v(p){return p&&p.length?this.write(p):""}return $y}var pd,pT,$y,mT,Jd,XB=tn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js"(){Ae(),I_(),pd={},pT=!1,$y={},mT=!1,Jd=pZ(),Jd.StringDecoder,Jd.StringDecoder}});function mZ(){if(gT)return Ty;gT=!0;var e=Ty={},t,r;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=i}catch{r=i}})();function o(_){if(t===setTimeout)return setTimeout(_,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(_,0);try{return t(_,0)}catch{try{return t.call(null,_,0)}catch{return t.call(this||Dc,_,0)}}}function a(_){if(r===clearTimeout)return clearTimeout(_);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(_);try{return r(_)}catch{try{return r.call(null,_)}catch{return r.call(this||Dc,_)}}}var s=[],l=!1,u,f=-1;function c(){!l||!u||(l=!1,u.length?s=u.concat(s):f=-1,s.length&&h())}function h(){if(!l){var _=o(c);l=!0;for(var v=s.length;v;){for(u=s,s=[];++f<v;)u&&u[f].run();f=-1,v=s.length}u=null,l=!1,a(_)}}e.nextTick=function(_){var v=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)v[p-1]=arguments[p];s.push(new m(_,v)),s.length===1&&!l&&o(h)};function m(_,v){(this||Dc).fun=_,(this||Dc).array=v}m.prototype.run=function(){(this||Dc).fun.apply(null,(this||Dc).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function g(){}return e.on=g,e.addListener=g,e.once=g,e.off=g,e.removeListener=g,e.removeAllListeners=g,e.emit=g,e.prependListener=g,e.prependOnceListener=g,e.listeners=function(_){return[]},e.binding=function(_){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(_){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},Ty}var Ty,gT,Dc,qr,M_=tn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-b0rmRow7.js"(){Ae(),Ty={},gT=!1,Dc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,qr=mZ(),qr.platform="browser",qr.addListener,qr.argv,qr.binding,qr.browser,qr.chdir,qr.cwd,qr.emit,qr.env,qr.listeners,qr.nextTick,qr.off,qr.on,qr.once,qr.prependListener,qr.prependOnceListener,qr.removeAllListeners,qr.removeListener,qr.title,qr.umask,qr.version,qr.versions}});function gZ(){if(vT)return Ay;vT=!0;var e=qr;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,a){for(var s="",l=0,u=-1,f=0,c,h=0;h<=o.length;++h){if(h<o.length)c=o.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(u===h-1||f===1))if(u!==h-1&&f===2){if(s.length<2||l!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){var m=s.lastIndexOf("/");if(m!==s.length-1){m===-1?(s="",l=0):(s=s.slice(0,m),l=s.length-1-s.lastIndexOf("/")),u=h,f=0;continue}}else if(s.length===2||s.length===1){s="",l=0,u=h,f=0;continue}}a&&(s.length>0?s+="/..":s="..",l=2)}else s.length>0?s+="/"+o.slice(u+1,h):s=o.slice(u+1,h),l=h-u-1;u=h,f=0}else c===46&&f!==-1?++f:f=-1}return s}function n(o,a){var s=a.dir||a.root,l=a.base||(a.name||"")+(a.ext||"");return s?s===a.root?s+l:s+o+l:l}var i={resolve:function(){for(var a="",s=!1,l,u=arguments.length-1;u>=-1&&!s;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(a=f+"/"+a,s=f.charCodeAt(0)===47)}return a=r(a,!s),s?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(t(a),a.length===0)return".";var s=a.charCodeAt(0)===47,l=a.charCodeAt(a.length-1)===47;return a=r(a,!s),a.length===0&&!s&&(a="."),a.length>0&&l&&(a+="/"),s?"/"+a:a},isAbsolute:function(a){return t(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,s=0;s<arguments.length;++s){var l=arguments[s];t(l),l.length>0&&(a===void 0?a=l:a+="/"+l)}return a===void 0?".":i.normalize(a)},relative:function(a,s){if(t(a),t(s),a===s||(a=i.resolve(a),s=i.resolve(s),a===s))return"";for(var l=1;l<a.length&&a.charCodeAt(l)===47;++l);for(var u=a.length,f=u-l,c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var h=s.length,m=h-c,g=f<m?f:m,_=-1,v=0;v<=g;++v){if(v===g){if(m>g){if(s.charCodeAt(c+v)===47)return s.slice(c+v+1);if(v===0)return s.slice(c+v)}else f>g&&(a.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var p=a.charCodeAt(l+v),E=s.charCodeAt(c+v);if(p!==E)break;p===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||a.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+s.slice(c+_):(c+=_,s.charCodeAt(c)===47&&++c,s.slice(c))},_makeLong:function(a){return a},dirname:function(a){if(t(a),a.length===0)return".";for(var s=a.charCodeAt(0),l=s===47,u=-1,f=!0,c=a.length-1;c>=1;--c)if(s=a.charCodeAt(c),s===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":a.slice(0,u)},basename:function(a,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');t(a);var l=0,u=-1,f=!0,c;if(s!==void 0&&s.length>0&&s.length<=a.length){if(s.length===a.length&&s===a)return"";var h=s.length-1,m=-1;for(c=a.length-1;c>=0;--c){var g=a.charCodeAt(c);if(g===47){if(!f){l=c+1;break}}else m===-1&&(f=!1,m=c+1),h>=0&&(g===s.charCodeAt(h)?--h===-1&&(u=c):(h=-1,u=m))}return l===u?u=m:u===-1&&(u=a.length),a.slice(l,u)}else{for(c=a.length-1;c>=0;--c)if(a.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":a.slice(l,u)}},extname:function(a){t(a);for(var s=-1,l=0,u=-1,f=!0,c=0,h=a.length-1;h>=0;--h){var m=a.charCodeAt(h);if(m===47){if(!f){l=h+1;break}continue}u===-1&&(f=!1,u=h+1),m===46?s===-1?s=h:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||u===-1||c===0||c===1&&s===u-1&&s===l+1?"":a.slice(s,u)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return n("/",a)},parse:function(a){t(a);var s={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return s;var l=a.charCodeAt(0),u=l===47,f;u?(s.root="/",f=1):f=0;for(var c=-1,h=0,m=-1,g=!0,_=a.length-1,v=0;_>=f;--_){if(l=a.charCodeAt(_),l===47){if(!g){h=_+1;break}continue}m===-1&&(g=!1,m=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||m===-1||v===0||v===1&&c===m-1&&c===h+1?m!==-1&&(h===0&&u?s.base=s.name=a.slice(1,m):s.base=s.name=a.slice(h,m)):(h===0&&u?(s.name=a.slice(1,c),s.base=a.slice(1,m)):(s.name=a.slice(h,c),s.base=a.slice(h,m)),s.ext=a.slice(c,m)),h>0?s.dir=a.slice(0,h-1):u&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Ay=i,Ay}function wc(e){throw new RangeError(ZB[e])}function Sj(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]);const i=function(o,a){const s=[];let l=o.length;for(;l--;)s[l]=a(o[l]);return s}((e=e.replace(QB,".")).split("."),t).join(".");return n+i}function $j(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=e.charCodeAt(r++);(64512&o)==56320?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}function vZ(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function la(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function ip(e,t,r){if(e&&Ha.isObject(e)&&e instanceof la)return e;var n=new la;return n.parse(e,t,r),n}function yZ(){if(wT)return Py;wT=!0;var e=En;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,a){for(var s="",l=0,u=-1,f=0,c,h=0;h<=o.length;++h){if(h<o.length)c=o.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(u===h-1||f===1))if(u!==h-1&&f===2){if(s.length<2||l!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){var m=s.lastIndexOf("/");if(m!==s.length-1){m===-1?(s="",l=0):(s=s.slice(0,m),l=s.length-1-s.lastIndexOf("/")),u=h,f=0;continue}}else if(s.length===2||s.length===1){s="",l=0,u=h,f=0;continue}}a&&(s.length>0?s+="/..":s="..",l=2)}else s.length>0?s+="/"+o.slice(u+1,h):s=o.slice(u+1,h),l=h-u-1;u=h,f=0}else c===46&&f!==-1?++f:f=-1}return s}function n(o,a){var s=a.dir||a.root,l=a.base||(a.name||"")+(a.ext||"");return s?s===a.root?s+l:s+o+l:l}var i={resolve:function(){for(var a="",s=!1,l,u=arguments.length-1;u>=-1&&!s;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(a=f+"/"+a,s=f.charCodeAt(0)===47)}return a=r(a,!s),s?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(t(a),a.length===0)return".";var s=a.charCodeAt(0)===47,l=a.charCodeAt(a.length-1)===47;return a=r(a,!s),a.length===0&&!s&&(a="."),a.length>0&&l&&(a+="/"),s?"/"+a:a},isAbsolute:function(a){return t(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,s=0;s<arguments.length;++s){var l=arguments[s];t(l),l.length>0&&(a===void 0?a=l:a+="/"+l)}return a===void 0?".":i.normalize(a)},relative:function(a,s){if(t(a),t(s),a===s||(a=i.resolve(a),s=i.resolve(s),a===s))return"";for(var l=1;l<a.length&&a.charCodeAt(l)===47;++l);for(var u=a.length,f=u-l,c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var h=s.length,m=h-c,g=f<m?f:m,_=-1,v=0;v<=g;++v){if(v===g){if(m>g){if(s.charCodeAt(c+v)===47)return s.slice(c+v+1);if(v===0)return s.slice(c+v)}else f>g&&(a.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var p=a.charCodeAt(l+v),E=s.charCodeAt(c+v);if(p!==E)break;p===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||a.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+s.slice(c+_):(c+=_,s.charCodeAt(c)===47&&++c,s.slice(c))},_makeLong:function(a){return a},dirname:function(a){if(t(a),a.length===0)return".";for(var s=a.charCodeAt(0),l=s===47,u=-1,f=!0,c=a.length-1;c>=1;--c)if(s=a.charCodeAt(c),s===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":a.slice(0,u)},basename:function(a,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');t(a);var l=0,u=-1,f=!0,c;if(s!==void 0&&s.length>0&&s.length<=a.length){if(s.length===a.length&&s===a)return"";var h=s.length-1,m=-1;for(c=a.length-1;c>=0;--c){var g=a.charCodeAt(c);if(g===47){if(!f){l=c+1;break}}else m===-1&&(f=!1,m=c+1),h>=0&&(g===s.charCodeAt(h)?--h===-1&&(u=c):(h=-1,u=m))}return l===u?u=m:u===-1&&(u=a.length),a.slice(l,u)}else{for(c=a.length-1;c>=0;--c)if(a.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":a.slice(l,u)}},extname:function(a){t(a);for(var s=-1,l=0,u=-1,f=!0,c=0,h=a.length-1;h>=0;--h){var m=a.charCodeAt(h);if(m===47){if(!f){l=h+1;break}continue}u===-1&&(f=!1,u=h+1),m===46?s===-1?s=h:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||u===-1||c===0||c===1&&s===u-1&&s===l+1?"":a.slice(s,u)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return n("/",a)},parse:function(a){t(a);var s={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return s;var l=a.charCodeAt(0),u=l===47,f;u?(s.root="/",f=1):f=0;for(var c=-1,h=0,m=-1,g=!0,_=a.length-1,v=0;_>=f;--_){if(l=a.charCodeAt(_),l===47){if(!g){h=_+1;break}continue}m===-1&&(g=!1,m=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||m===-1||v===0||v===1&&c===m-1&&c===h+1?m!==-1&&(h===0&&u?s.base=s.name=a.slice(1,m):s.base=s.name=a.slice(h,m)):(h===0&&u?(s.name=a.slice(1,c),s.base=a.slice(1,m)):(s.name=a.slice(h,c),s.base=a.slice(h,m)),s.ext=a.slice(c,m)),h>0?s.dir=a.slice(0,h-1):u&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Py=i,Py}function wZ(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Sb?bZ(e):_Z(e)}function bZ(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(iU,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<rU||n>nU||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function _Z(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function EZ(e){let t=bT.resolve(e);const r=e.charCodeAt(e.length-1);(r===tU||Sb&&r===eU)&&t[t.length-1]!==bT.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(oU,"%25")),!Sb&&t.includes("\\")&&(t=t.replace(aU,"%5C")),t.includes(`
`)&&(t=t.replace(sU,"%0A")),t.includes("\r")&&(t=t.replace(lU,"%0D")),t.includes("	")&&(t=t.replace(uU,"%09")),n.pathname=t,n}function SZ(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return $b?$Z(e):TZ(e)}function $Z(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(pU,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<dU||n>hU||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function TZ(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function AZ(e){let t=yT.resolve(e);const r=e.charCodeAt(e.length-1);(r===fU||$b&&r===cU)&&t[t.length-1]!==yT.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(mU,"%25")),!$b&&t.includes("\\")&&(t=t.replace(gU,"%5C")),t.includes(`
`)&&(t=t.replace(vU,"%0A")),t.includes("\r")&&(t=t.replace(yU,"%0D")),t.includes("	")&&(t=t.replace(wU,"%09")),n.pathname=t,n}var Ay,vT,yT,bc,Tj,Aj,QB,ZB,Ua,_v,CS,kS,jS,DS,Pj,xj,nd,Oj,bs,Wr,Rj,Ha,Ij,Nj,Cj,kj,Ev,MS,LS,FS,jj,Dj,Sv,_c,$v,Py,wT,bT,Mj,eU,tU,rU,nU,Sb,iU,oU,aU,sU,lU,uU,Lj,cU,fU,dU,hU,$b,pU,mU,gU,vU,yU,wU,bU=tn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DHWh-hmB.js"(){Ae(),fg(),M_(),Ay={},vT=!1,yT=gZ(),bc=2147483647,Tj=/^xn--/,Aj=/[^\0-\x7E]/,QB=/[\x2E\u3002\uFF0E\uFF61]/g,ZB={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ua=Math.floor,_v=String.fromCharCode,CS=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},kS=function(e,t,r){let n=0;for(e=r?Ua(e/700):e>>1,e+=Ua(e/t);e>455;n+=36)e=Ua(e/35);return Ua(n+36*e/(e+38))},jS=function(e){const t=[],r=e.length;let n=0,i=128,o=72,a=e.lastIndexOf("-");a<0&&(a=0);for(let l=0;l<a;++l)e.charCodeAt(l)>=128&&wc("not-basic"),t.push(e.charCodeAt(l));for(let l=a>0?a+1:0;l<r;){let u=n;for(let c=1,h=36;;h+=36){l>=r&&wc("invalid-input");const m=(s=e.charCodeAt(l++))-48<10?s-22:s-65<26?s-65:s-97<26?s-97:36;(m>=36||m>Ua((bc-n)/c))&&wc("overflow"),n+=m*c;const g=h<=o?1:h>=o+26?26:h-o;if(m<g)break;const _=36-g;c>Ua(bc/_)&&wc("overflow"),c*=_}const f=t.length+1;o=kS(n-u,f,u==0),Ua(n/f)>bc-i&&wc("overflow"),i+=Ua(n/f),n%=f,t.splice(n++,0,i)}var s;return String.fromCodePoint(...t)},DS=function(e){const t=[];let r=(e=$j(e)).length,n=128,i=0,o=72;for(const l of e)l<128&&t.push(_v(l));let a=t.length,s=a;for(a&&t.push("-");s<r;){let l=bc;for(const f of e)f>=n&&f<l&&(l=f);const u=s+1;l-n>Ua((bc-i)/u)&&wc("overflow"),i+=(l-n)*u,n=l;for(const f of e)if(f<n&&++i>bc&&wc("overflow"),f==n){let c=i;for(let h=36;;h+=36){const m=h<=o?1:h>=o+26?26:h-o;if(c<m)break;const g=c-m,_=36-m;t.push(_v(CS(m+g%_,0))),c=Ua(g/_)}t.push(_v(CS(c,0))),o=kS(i,u,s==a),i=0,++s}++i,++n}return t.join("")},Pj={version:"2.1.0",ucs2:{decode:$j,encode:e=>String.fromCodePoint(...e)},decode:jS,encode:DS,toASCII:function(e){return Sj(e,function(t){return Aj.test(t)?"xn--"+DS(t):t})},toUnicode:function(e){return Sj(e,function(t){return Tj.test(t)?jS(t.slice(4).toLowerCase()):t})}},xj=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var a=1e3;n&&typeof n.maxKeys=="number"&&(a=n.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var l=0;l<s;++l){var u,f,c,h,m=e[l].replace(o,"%20"),g=m.indexOf(r);g>=0?(u=m.substr(0,g),f=m.substr(g+1)):(u=m,f=""),c=decodeURIComponent(u),h=decodeURIComponent(f),vZ(i,c)?Array.isArray(i[c])?i[c].push(h):i[c]=[i[c],h]:i[c]=h}return i},nd=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Oj=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(nd(i))+r;return Array.isArray(e[i])?e[i].map(function(a){return o+encodeURIComponent(nd(a))}).join(t):o+encodeURIComponent(nd(e[i]))}).join(t):n?encodeURIComponent(nd(n))+r+encodeURIComponent(nd(e)):""},bs={},bs.decode=bs.parse=xj,bs.encode=bs.stringify=Oj,bs.decode,bs.encode,bs.parse,bs.stringify,Wr={},Rj=Pj,Ha={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Wr.parse=ip,Wr.resolve=function(e,t){return ip(e,!1,!0).resolve(t)},Wr.resolveObject=function(e,t){return e?ip(e,!1,!0).resolveObject(t):t},Wr.format=function(e){return Ha.isString(e)&&(e=ip(e)),e instanceof la?e.format():la.prototype.format.call(e)},Wr.Url=la,Ij=/^([a-z0-9.+-]+:)/i,Nj=/:[0-9]*$/,Cj=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,kj=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Ev=["'"].concat(kj),MS=["%","/","?",";","#"].concat(Ev),LS=["/","?","#"],FS=/^[+a-z0-9A-Z_-]{0,63}$/,jj=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Dj={javascript:!0,"javascript:":!0},Sv={javascript:!0,"javascript:":!0},_c={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},$v=bs,la.prototype.parse=function(e,t,r){if(!Ha.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var a=e=o.join(i);if(a=a.trim(),!r&&e.split("#").length===1){var s=Cj.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?$v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=Ij.exec(a);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,a=a.substr(l.length)}if(r||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=a.substr(0,2)==="//";!f||l&&Sv[l]||(a=a.substr(2),this.slashes=!0)}if(!Sv[l]&&(f||l&&!_c[l])){for(var c,h,m=-1,g=0;g<LS.length;g++)(_=a.indexOf(LS[g]))!==-1&&(m===-1||_<m)&&(m=_);for((h=m===-1?a.lastIndexOf("@"):a.lastIndexOf("@",m))!==-1&&(c=a.slice(0,h),a=a.slice(h+1),this.auth=decodeURIComponent(c)),m=-1,g=0;g<MS.length;g++){var _;(_=a.indexOf(MS[g]))!==-1&&(m===-1||_<m)&&(m=_)}m===-1&&(m=a.length),this.host=a.slice(0,m),a=a.slice(m),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var p=this.hostname.split(/\./),E=(g=0,p.length);g<E;g++){var y=p[g];if(y&&!y.match(FS)){for(var S="",$=0,T=y.length;$<T;$++)y.charCodeAt($)>127?S+="x":S+=y[$];if(!S.match(FS)){var d=p.slice(0,g),A=p.slice(g+1),P=y.match(jj);P&&(d.push(P[1]),A.unshift(P[2])),A.length&&(a="/"+A.join(".")+a),this.hostname=d.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=Rj.toASCII(this.hostname));var x=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+x,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Dj[u])for(g=0,E=Ev.length;g<E;g++){var F=Ev[g];if(a.indexOf(F)!==-1){var V=encodeURIComponent(F);V===F&&(V=escape(F)),a=a.split(F).join(V)}}var X=a.indexOf("#");X!==-1&&(this.hash=a.substr(X),a=a.slice(0,X));var G=a.indexOf("?");if(G!==-1?(this.search=a.substr(G),this.query=a.substr(G+1),t&&(this.query=$v.parse(this.query)),a=a.slice(0,G)):t&&(this.search="",this.query={}),a&&(this.pathname=a),_c[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){x=this.pathname||"";var Q=this.search||"";this.path=x+Q}return this.href=this.format(),this},la.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Ha.isObject(this.query)&&Object.keys(this.query).length&&(o=$v.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||_c[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),t+i+(r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}))+(a=a.replace("#","%23"))+n},la.prototype.resolve=function(e){return this.resolveObject(ip(e,!1,!0)).format()},la.prototype.resolveObject=function(e){if(Ha.isString(e)){var t=new la;t.parse(e,!1,!0),e=t}for(var r=new la,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var l=a[s];l!=="protocol"&&(r[l]=e[l])}return _c[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!_c[e.protocol]){for(var u=Object.keys(e),f=0;f<u.length;f++){var c=u[f];r[c]=e[c]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||Sv[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),h[0]!==""&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",v=e.host||e.pathname&&e.pathname.charAt(0)==="/",p=v||_||r.host&&e.pathname,E=p,y=r.pathname&&r.pathname.split("/")||[],S=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!_c[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(h[0]===""?h[0]=e.host:h.unshift(e.host)),e.host=null),p=p&&(h[0]===""||y[0]==="")),v)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,y=h;else if(h.length)y||(y=[]),y.pop(),y=y.concat(h),r.search=e.search,r.query=e.query;else if(!Ha.isNullOrUndefined(e.search))return S&&(r.hostname=r.host=y.shift(),(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift())),r.search=e.search,r.query=e.query,Ha.isNull(r.pathname)&&Ha.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var $=y.slice(-1)[0],T=(r.host||e.host||y.length>1)&&($==="."||$==="..")||$==="",d=0,A=y.length;A>=0;A--)($=y[A])==="."?y.splice(A,1):$===".."?(y.splice(A,1),d++):d&&(y.splice(A,1),d--);if(!p&&!E)for(;d--;d)y.unshift("..");!p||y[0]===""||y[0]&&y[0].charAt(0)==="/"||y.unshift(""),T&&y.join("/").substr(-1)!=="/"&&y.push("");var P,x=y[0]===""||y[0]&&y[0].charAt(0)==="/";return S&&(r.hostname=r.host=x?"":y.length?y.shift():"",(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift())),(p=p||r.host&&y.length)&&!x&&y.unshift(""),y.length?r.pathname=y.join("/"):(r.pathname=null,r.path=null),Ha.isNull(r.pathname)&&Ha.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},la.prototype.parseHost=function(){var e=this.host,t=Nj.exec(e);t&&((t=t[0])!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},Wr.Url,Wr.format,Wr.resolve,Wr.resolveObject,Py={},wT=!1,bT=yZ(),Mj=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Wr.URL=typeof URL<"u"?URL:null,Wr.pathToFileURL=EZ,Wr.fileURLToPath=wZ,Wr.Url,Wr.format,Wr.resolve,Wr.resolveObject,Wr.URL,eU=92,tU=47,rU=97,nU=122,Sb=Mj==="win32",iU=/\//g,oU=/%/g,aU=/\\/g,sU=/\n/g,lU=/\r/g,uU=/\t/g,Lj=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Wr.URL=typeof URL<"u"?URL:null,Wr.pathToFileURL=AZ,Wr.fileURLToPath=SZ,Wr.Url,Wr.format,Wr.resolve,Wr.resolveObject,Wr.parse,Wr.URL,cU=92,fU=47,dU=97,hU=122,$b=Lj==="win32",pU=/\//g,mU=/%/g,gU=/\\/g,vU=/\n/g,yU=/\r/g,wU=/\t/g}}),L_={};Ys(L_,{Agent:()=>IU,ClientRequest:()=>NU,IncomingMessage:()=>CU,METHODS:()=>kU,STATUS_CODES:()=>jU,default:()=>Ts,get:()=>DU,globalAgent:()=>MU,request:()=>LU});function _U(){if(_T)return fo;_T=!0,fo.fetch=n(fu.fetch)&&n(fu.ReadableStream),fo.writableStream=n(fu.WritableStream),fo.abortController=n(fu.AbortController);var e;function t(){if(e!==void 0)return e;if(fu.XMLHttpRequest){e=new fu.XMLHttpRequest;try{e.open("GET",fu.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function r(i){var o=t();if(!o)return!1;try{return o.responseType=i,o.responseType===i}catch{}return!1}fo.arraybuffer=fo.fetch||r("arraybuffer"),fo.msstream=!fo.fetch&&r("ms-stream"),fo.mozchunkedarraybuffer=!fo.fetch&&r("moz-chunked-arraybuffer"),fo.overrideMimeType=fo.fetch||(t()?n(t().overrideMimeType):!1);function n(i){return typeof i=="function"}return e=null,fo}function EU(){return ET||(ET=!0,xy=Ki.EventEmitter),xy}function PZ(){if(ST)return Oy;ST=!0;function e(g,_){var v=Object.keys(g);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(g);_&&(p=p.filter(function(E){return Object.getOwnPropertyDescriptor(g,E).enumerable})),v.push.apply(v,p)}return v}function t(g){for(var _=1;_<arguments.length;_++){var v=arguments[_]!=null?arguments[_]:{};_%2?e(Object(v),!0).forEach(function(p){r(g,p,v[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):e(Object(v)).forEach(function(p){Object.defineProperty(g,p,Object.getOwnPropertyDescriptor(v,p))})}return g}function r(g,_,v){return _=a(_),_ in g?Object.defineProperty(g,_,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[_]=v,g}function n(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function i(g,_){for(var v=0;v<_.length;v++){var p=_[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(g,a(p.key),p)}}function o(g,_,v){return _&&i(g.prototype,_),Object.defineProperty(g,"prototype",{writable:!1}),g}function a(g){var _=s(g,"string");return typeof _=="symbol"?_:String(_)}function s(g,_){if(typeof g!="object"||g===null)return g;var v=g[Symbol.toPrimitive];if(v!==void 0){var p=v.call(g,_);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}var l=xo(),u=l.Buffer,f=ct,c=f.inspect,h=c&&c.custom||"inspect";function m(g,_,v){u.prototype.copy.call(g,_,v)}return Oy=function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return o(g,[{key:"push",value:function(v){var p={data:v,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length}},{key:"unshift",value:function(v){var p={data:v,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var p=this.head,E=""+p.data;p=p.next;)E+=v+p.data;return E}},{key:"concat",value:function(v){if(this.length===0)return u.alloc(0);for(var p=u.allocUnsafe(v>>>0),E=this.head,y=0;E;)m(E.data,p,y),y+=E.data.length,E=E.next;return p}},{key:"consume",value:function(v,p){var E;return v<this.head.data.length?(E=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?E=this.shift():E=p?this._getString(v):this._getBuffer(v),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var p=this.head,E=1,y=p.data;for(v-=y.length;p=p.next;){var S=p.data,$=v>S.length?S.length:v;if($===S.length?y+=S:y+=S.slice(0,v),v-=$,v===0){$===S.length?(++E,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=S.slice($));break}++E}return this.length-=E,y}},{key:"_getBuffer",value:function(v){var p=u.allocUnsafe(v),E=this.head,y=1;for(E.data.copy(p),v-=E.data.length;E=E.next;){var S=E.data,$=v>S.length?S.length:v;if(S.copy(p,p.length-v,0,$),v-=$,v===0){$===S.length?(++y,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=S.slice($));break}++y}return this.length-=y,p}},{key:h,value:function(v,p){return c(this,t(t({},p),{},{depth:0,customInspect:!1}))}}]),g}(),Oy}function SU(){if($T)return Ry;$T=!0;var e=ci;function t(s,l){var u=this,f=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return f||c?(l?l(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,s)):e.nextTick(o,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(h){!l&&h?u._writableState?u._writableState.errorEmitted?e.nextTick(n,u):(u._writableState.errorEmitted=!0,e.nextTick(r,u,h)):e.nextTick(r,u,h):l?(e.nextTick(n,u),l(h)):e.nextTick(n,u)}),this)}function r(s,l){o(s,l),n(s)}function n(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(s,l){s.emit("error",l)}function a(s,l){var u=s._readableState,f=s._writableState;u&&u.autoDestroy||f&&f.autoDestroy?s.destroy(l):s.emit("error",l)}return Ry={destroy:t,undestroy:i,errorOrDestroy:a},Ry}function Rh(){if(TT)return Iy;TT=!0;const e={};function t(a,s,l){l||(l=Error);function u(c,h,m){return typeof s=="string"?s:s(c,h,m)}class f extends l{constructor(h,m,g){super(u(h,m,g))}}f.prototype.name=l.name,f.prototype.code=a,e[a]=f}function r(a,s){if(Array.isArray(a)){const l=a.length;return a=a.map(u=>String(u)),l>2?`one of ${s} ${a.slice(0,l-1).join(", ")}, or `+a[l-1]:l===2?`one of ${s} ${a[0]} or ${a[1]}`:`of ${s} ${a[0]}`}else return`of ${s} ${String(a)}`}function n(a,s,l){return a.substr(0,s.length)===s}function i(a,s,l){return(l===void 0||l>a.length)&&(l=a.length),a.substring(l-s.length,l)===s}function o(a,s,l){return typeof l!="number"&&(l=0),l+s.length>a.length?!1:a.indexOf(s,l)!==-1}return t("ERR_INVALID_OPT_VALUE",function(a,s){return'The value "'+s+'" is invalid for option "'+a+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(a,s,l){let u;typeof s=="string"&&n(s,"not ")?(u="must not be",s=s.replace(/^not /,"")):u="must be";let f;if(i(a," argument"))f=`The ${a} ${u} ${r(s,"type")}`;else{const c=o(a,".")?"property":"argument";f=`The "${a}" ${c} ${u} ${r(s,"type")}`}return f+=`. Received type ${typeof l}`,f},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Iy.codes=e,Iy}function $U(){if(AT)return Ny;AT=!0;var e=Rh().codes.ERR_INVALID_OPT_VALUE;function t(n,i,o){return n.highWaterMark!=null?n.highWaterMark:i?n[o]:null}function r(n,i,o,a){var s=t(i,a,o);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var l=a?o:"highWaterMark";throw new e(l,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return Ny={getHighWaterMark:r},Ny}function TU(){if(PT)return Cy;PT=!0;var e=ci;Cy=P;function t(J){var Y=this;this.next=null,this.entry=null,this.finish=function(){ie(Y,J)}}var r;P.WritableState=d;var n={deprecate:fZ()},i=EU(),o=xo().Buffer,a=(typeof xT<"u"?xT:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(J){return o.from(J)}function l(J){return o.isBuffer(J)||J instanceof a}var u=SU(),f=$U(),c=f.getHighWaterMark,h=Rh().codes,m=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,_=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,p=h.ERR_STREAM_DESTROYED,E=h.ERR_STREAM_NULL_VALUES,y=h.ERR_STREAM_WRITE_AFTER_END,S=h.ERR_UNKNOWN_ENCODING,$=u.errorOrDestroy;Zu()(P,i);function T(){}function d(J,Y,oe){r=r||gh(),J=J||{},typeof oe!="boolean"&&(oe=Y instanceof r),this.objectMode=!!J.objectMode,oe&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=c(this,J,"writableHighWaterMark",oe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var _e=J.decodeStrings===!1;this.decodeStrings=!_e,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ye){ce(Y,ye)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}d.prototype.getBuffer=function(){for(var Y=this.bufferedRequest,oe=[];Y;)oe.push(Y),Y=Y.next;return oe},function(){try{Object.defineProperty(d.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var A;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(Y){return A.call(this,Y)?!0:this!==P?!1:Y&&Y._writableState instanceof d}})):A=function(Y){return Y instanceof this};function P(J){r=r||gh();var Y=this instanceof r;if(!Y&&!A.call(P,this))return new P(J);this._writableState=new d(J,this,Y),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),i.call(this)}P.prototype.pipe=function(){$(this,new v)};function x(J,Y){var oe=new y;$(J,oe),e.nextTick(Y,oe)}function D(J,Y,oe,_e){var ye;return oe===null?ye=new E:typeof oe!="string"&&!Y.objectMode&&(ye=new m("chunk",["string","Buffer"],oe)),ye?($(J,ye),e.nextTick(_e,ye),!1):!0}P.prototype.write=function(J,Y,oe){var _e=this._writableState,ye=!1,R=!_e.objectMode&&l(J);return R&&!o.isBuffer(J)&&(J=s(J)),typeof Y=="function"&&(oe=Y,Y=null),R?Y="buffer":Y||(Y=_e.defaultEncoding),typeof oe!="function"&&(oe=T),_e.ending?x(this,oe):(R||D(this,_e,J,oe))&&(_e.pendingcb++,ye=V(this,_e,R,J,Y,oe)),ye},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&M(this,J))},P.prototype.setDefaultEncoding=function(Y){if(typeof Y=="string"&&(Y=Y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Y+"").toLowerCase())>-1))throw new S(Y);return this._writableState.defaultEncoding=Y,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function F(J,Y,oe){return!J.objectMode&&J.decodeStrings!==!1&&typeof Y=="string"&&(Y=o.from(Y,oe)),Y}Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function V(J,Y,oe,_e,ye,R){if(!oe){var I=F(Y,_e,ye);_e!==I&&(oe=!0,ye="buffer",_e=I)}var N=Y.objectMode?1:_e.length;Y.length+=N;var H=Y.length<Y.highWaterMark;if(H||(Y.needDrain=!0),Y.writing||Y.corked){var re=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:_e,encoding:ye,isBuf:oe,callback:R,next:null},re?re.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else X(J,Y,!1,N,_e,ye,R);return H}function X(J,Y,oe,_e,ye,R,I){Y.writelen=_e,Y.writecb=I,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new p("write")):oe?J._writev(ye,Y.onwrite):J._write(ye,R,Y.onwrite),Y.sync=!1}function G(J,Y,oe,_e,ye){--Y.pendingcb,oe?(e.nextTick(ye,_e),e.nextTick(k,J,Y),J._writableState.errorEmitted=!0,$(J,_e)):(ye(_e),J._writableState.errorEmitted=!0,$(J,_e),k(J,Y))}function Q(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function ce(J,Y){var oe=J._writableState,_e=oe.sync,ye=oe.writecb;if(typeof ye!="function")throw new _;if(Q(oe),Y)G(J,oe,_e,Y,ye);else{var R=B(oe)||J.destroyed;!R&&!oe.corked&&!oe.bufferProcessing&&oe.bufferedRequest&&M(J,oe),_e?e.nextTick(ee,J,oe,R,ye):ee(J,oe,R,ye)}}function ee(J,Y,oe,_e){oe||ae(J,Y),Y.pendingcb--,_e(),k(J,Y)}function ae(J,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,J.emit("drain"))}function M(J,Y){Y.bufferProcessing=!0;var oe=Y.bufferedRequest;if(J._writev&&oe&&oe.next){var _e=Y.bufferedRequestCount,ye=new Array(_e),R=Y.corkedRequestsFree;R.entry=oe;for(var I=0,N=!0;oe;)ye[I]=oe,oe.isBuf||(N=!1),oe=oe.next,I+=1;ye.allBuffers=N,X(J,Y,!0,Y.length,ye,"",R.finish),Y.pendingcb++,Y.lastBufferedRequest=null,R.next?(Y.corkedRequestsFree=R.next,R.next=null):Y.corkedRequestsFree=new t(Y),Y.bufferedRequestCount=0}else{for(;oe;){var H=oe.chunk,re=oe.encoding,le=oe.callback,fe=Y.objectMode?1:H.length;if(X(J,Y,!1,fe,H,re,le),oe=oe.next,Y.bufferedRequestCount--,Y.writing)break}oe===null&&(Y.lastBufferedRequest=null)}Y.bufferedRequest=oe,Y.bufferProcessing=!1}P.prototype._write=function(J,Y,oe){oe(new g("_write()"))},P.prototype._writev=null,P.prototype.end=function(J,Y,oe){var _e=this._writableState;return typeof J=="function"?(oe=J,J=null,Y=null):typeof Y=="function"&&(oe=Y,Y=null),J!=null&&this.write(J,Y),_e.corked&&(_e.corked=1,this.uncork()),_e.ending||q(this,_e,oe),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function K(J,Y){J._final(function(oe){Y.pendingcb--,oe&&$(J,oe),Y.prefinished=!0,J.emit("prefinish"),k(J,Y)})}function O(J,Y){!Y.prefinished&&!Y.finalCalled&&(typeof J._final=="function"&&!Y.destroyed?(Y.pendingcb++,Y.finalCalled=!0,e.nextTick(K,J,Y)):(Y.prefinished=!0,J.emit("prefinish")))}function k(J,Y){var oe=B(Y);if(oe&&(O(J,Y),Y.pendingcb===0&&(Y.finished=!0,J.emit("finish"),Y.autoDestroy))){var _e=J._readableState;(!_e||_e.autoDestroy&&_e.endEmitted)&&J.destroy()}return oe}function q(J,Y,oe){Y.ending=!0,k(J,Y),oe&&(Y.finished?e.nextTick(oe):J.once("finish",oe)),Y.ended=!0,J.writable=!1}function ie(J,Y,oe){var _e=J.entry;for(J.entry=null;_e;){var ye=_e.callback;Y.pendingcb--,ye(oe),_e=_e.next}Y.corkedRequestsFree.next=J}return Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Y){this._writableState&&(this._writableState.destroyed=Y)}}),P.prototype.destroy=u.destroy,P.prototype._undestroy=u.undestroy,P.prototype._destroy=function(J,Y){Y(J)},Cy}function gh(){if(OT)return ky;OT=!0;var e=ci,t=Object.keys||function(f){var c=[];for(var h in f)c.push(h);return c};ky=s;var r=AU(),n=TU();Zu()(s,r);for(var i=t(n.prototype),o=0;o<i.length;o++){var a=i[o];s.prototype[a]||(s.prototype[a]=n.prototype[a])}function s(f){if(!(this instanceof s))return new s(f);r.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||e.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),ky}function uR(){if(RT)return jy;RT=!0;var e=Rh().codes.ERR_STREAM_PREMATURE_CLOSE;function t(o){var a=!1;return function(){if(!a){a=!0;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];o.apply(this,l)}}}function r(){}function n(o){return o.setHeader&&typeof o.abort=="function"}function i(o,a,s){if(typeof a=="function")return i(o,null,a);a||(a={}),s=t(s||r);var l=a.readable||a.readable!==!1&&o.readable,u=a.writable||a.writable!==!1&&o.writable,f=function(){o.writable||h()},c=o._writableState&&o._writableState.finished,h=function(){u=!1,c=!0,l||s.call(o)},m=o._readableState&&o._readableState.endEmitted,g=function(){l=!1,m=!0,u||s.call(o)},_=function(y){s.call(o,y)},v=function(){var y;if(l&&!m)return(!o._readableState||!o._readableState.ended)&&(y=new e),s.call(o,y);if(u&&!c)return(!o._writableState||!o._writableState.ended)&&(y=new e),s.call(o,y)},p=function(){o.req.on("finish",h)};return n(o)?(o.on("complete",h),o.on("abort",v),o.req?p():o.on("request",p)):u&&!o._writableState&&(o.on("end",f),o.on("close",f)),o.on("end",g),o.on("finish",h),a.error!==!1&&o.on("error",_),o.on("close",v),function(){o.removeListener("complete",h),o.removeListener("abort",v),o.removeListener("request",p),o.req&&o.req.removeListener("finish",h),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",h),o.removeListener("end",g),o.removeListener("error",_),o.removeListener("close",v)}}return jy=i,jy}function xZ(){if(IT)return Dy;IT=!0;var e=ci,t;function r(S,$,T){return $=n($),$ in S?Object.defineProperty(S,$,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[$]=T,S}function n(S){var $=i(S,"string");return typeof $=="symbol"?$:String($)}function i(S,$){if(typeof S!="object"||S===null)return S;var T=S[Symbol.toPrimitive];if(T!==void 0){var d=T.call(S,$);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(S)}var o=uR(),a=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),f=Symbol("lastPromise"),c=Symbol("handlePromise"),h=Symbol("stream");function m(S,$){return{value:S,done:$}}function g(S){var $=S[a];if($!==null){var T=S[h].read();T!==null&&(S[f]=null,S[a]=null,S[s]=null,$(m(T,!1)))}}function _(S){e.nextTick(g,S)}function v(S,$){return function(T,d){S.then(function(){if($[u]){T(m(void 0,!0));return}$[c](T,d)},d)}}var p=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((t={get stream(){return this[h]},next:function(){var $=this,T=this[l];if(T!==null)return Promise.reject(T);if(this[u])return Promise.resolve(m(void 0,!0));if(this[h].destroyed)return new Promise(function(x,D){e.nextTick(function(){$[l]?D($[l]):x(m(void 0,!0))})});var d=this[f],A;if(d)A=new Promise(v(d,this));else{var P=this[h].read();if(P!==null)return Promise.resolve(m(P,!1));A=new Promise(this[c])}return this[f]=A,A}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var $=this;return new Promise(function(T,d){$[h].destroy(null,function(A){if(A){d(A);return}T(m(void 0,!0))})})}),t),p),y=function($){var T,d=Object.create(E,(T={},r(T,h,{value:$,writable:!0}),r(T,a,{value:null,writable:!0}),r(T,s,{value:null,writable:!0}),r(T,l,{value:null,writable:!0}),r(T,u,{value:$._readableState.endEmitted,writable:!0}),r(T,c,{value:function(P,x){var D=d[h].read();D?(d[f]=null,d[a]=null,d[s]=null,P(m(D,!1))):(d[a]=P,d[s]=x)},writable:!0}),T));return d[f]=null,o($,function(A){if(A&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"){var P=d[s];P!==null&&(d[f]=null,d[a]=null,d[s]=null,P(A)),d[l]=A;return}var x=d[a];x!==null&&(d[f]=null,d[a]=null,d[s]=null,x(m(void 0,!0))),d[u]=!0}),$.on("readable",_.bind(null,d)),d};return Dy=y,Dy}function OZ(){return NT||(NT=!0,My=function(){throw new Error("Readable.from is not available in the browser")}),My}function AU(){if(CT)return Ly;CT=!0;var e=ci;Ly=x;var t;x.ReadableState=P,Ki.EventEmitter;var r=function(I,N){return I.listeners(N).length},n=EU(),i=xo().Buffer,o=(typeof kT<"u"?kT:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(R){return i.from(R)}function s(R){return i.isBuffer(R)||R instanceof o}var l=ct,u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var f=PZ(),c=SU(),h=$U(),m=h.getHighWaterMark,g=Rh().codes,_=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,p=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,S,$;Zu()(x,n);var T=c.errorOrDestroy,d=["error","close","destroy","pause","resume"];function A(R,I,N){if(typeof R.prependListener=="function")return R.prependListener(I,N);!R._events||!R._events[I]?R.on(I,N):Array.isArray(R._events[I])?R._events[I].unshift(N):R._events[I]=[N,R._events[I]]}function P(R,I,N){t=t||gh(),R=R||{},typeof N!="boolean"&&(N=I instanceof t),this.objectMode=!!R.objectMode,N&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=m(this,R,"readableHighWaterMark",N),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(y||(y=Jd.StringDecoder),this.decoder=new y(R.encoding),this.encoding=R.encoding)}function x(R){if(t=t||gh(),!(this instanceof x))return new x(R);var I=this instanceof t;this._readableState=new P(R,this,I),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),n.call(this)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),x.prototype.destroy=c.destroy,x.prototype._undestroy=c.undestroy,x.prototype._destroy=function(R,I){I(R)},x.prototype.push=function(R,I){var N=this._readableState,H;return N.objectMode?H=!0:typeof R=="string"&&(I=I||N.defaultEncoding,I!==N.encoding&&(R=i.from(R,I),I=""),H=!0),D(this,R,I,!1,H)},x.prototype.unshift=function(R){return D(this,R,null,!0,!1)};function D(R,I,N,H,re){u("readableAddChunk",I);var le=R._readableState;if(I===null)le.reading=!1,ce(R,le);else{var fe;if(re||(fe=V(le,I)),fe)T(R,fe);else if(le.objectMode||I&&I.length>0)if(typeof I!="string"&&!le.objectMode&&Object.getPrototypeOf(I)!==i.prototype&&(I=a(I)),H)le.endEmitted?T(R,new E):F(R,le,I,!0);else if(le.ended)T(R,new v);else{if(le.destroyed)return!1;le.reading=!1,le.decoder&&!N?(I=le.decoder.write(I),le.objectMode||I.length!==0?F(R,le,I,!1):M(R,le)):F(R,le,I,!1)}else H||(le.reading=!1,M(R,le))}return!le.ended&&(le.length<le.highWaterMark||le.length===0)}function F(R,I,N,H){I.flowing&&I.length===0&&!I.sync?(I.awaitDrain=0,R.emit("data",N)):(I.length+=I.objectMode?1:N.length,H?I.buffer.unshift(N):I.buffer.push(N),I.needReadable&&ee(R)),M(R,I)}function V(R,I){var N;return!s(I)&&typeof I!="string"&&I!==void 0&&!R.objectMode&&(N=new _("chunk",["string","Buffer","Uint8Array"],I)),N}x.prototype.isPaused=function(){return this._readableState.flowing===!1},x.prototype.setEncoding=function(R){y||(y=Jd.StringDecoder);var I=new y(R);this._readableState.decoder=I,this._readableState.encoding=this._readableState.decoder.encoding;for(var N=this._readableState.buffer.head,H="";N!==null;)H+=I.write(N.data),N=N.next;return this._readableState.buffer.clear(),H!==""&&this._readableState.buffer.push(H),this._readableState.length=H.length,this};var X=1073741824;function G(R){return R>=X?R=X:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function Q(R,I){return R<=0||I.length===0&&I.ended?0:I.objectMode?1:R!==R?I.flowing&&I.length?I.buffer.head.data.length:I.length:(R>I.highWaterMark&&(I.highWaterMark=G(R)),R<=I.length?R:I.ended?I.length:(I.needReadable=!0,0))}x.prototype.read=function(R){u("read",R),R=parseInt(R,10);var I=this._readableState,N=R;if(R!==0&&(I.emittedReadable=!1),R===0&&I.needReadable&&((I.highWaterMark!==0?I.length>=I.highWaterMark:I.length>0)||I.ended))return u("read: emitReadable",I.length,I.ended),I.length===0&&I.ended?oe(this):ee(this),null;if(R=Q(R,I),R===0&&I.ended)return I.length===0&&oe(this),null;var H=I.needReadable;u("need readable",H),(I.length===0||I.length-R<I.highWaterMark)&&(H=!0,u("length less than watermark",H)),I.ended||I.reading?(H=!1,u("reading or ended",H)):H&&(u("do read"),I.reading=!0,I.sync=!0,I.length===0&&(I.needReadable=!0),this._read(I.highWaterMark),I.sync=!1,I.reading||(R=Q(N,I)));var re;return R>0?re=Y(R,I):re=null,re===null?(I.needReadable=I.length<=I.highWaterMark,R=0):(I.length-=R,I.awaitDrain=0),I.length===0&&(I.ended||(I.needReadable=!0),N!==R&&I.ended&&oe(this)),re!==null&&this.emit("data",re),re};function ce(R,I){if(u("onEofChunk"),!I.ended){if(I.decoder){var N=I.decoder.end();N&&N.length&&(I.buffer.push(N),I.length+=I.objectMode?1:N.length)}I.ended=!0,I.sync?ee(R):(I.needReadable=!1,I.emittedReadable||(I.emittedReadable=!0,ae(R)))}}function ee(R){var I=R._readableState;u("emitReadable",I.needReadable,I.emittedReadable),I.needReadable=!1,I.emittedReadable||(u("emitReadable",I.flowing),I.emittedReadable=!0,e.nextTick(ae,R))}function ae(R){var I=R._readableState;u("emitReadable_",I.destroyed,I.length,I.ended),!I.destroyed&&(I.length||I.ended)&&(R.emit("readable"),I.emittedReadable=!1),I.needReadable=!I.flowing&&!I.ended&&I.length<=I.highWaterMark,J(R)}function M(R,I){I.readingMore||(I.readingMore=!0,e.nextTick(B,R,I))}function B(R,I){for(;!I.reading&&!I.ended&&(I.length<I.highWaterMark||I.flowing&&I.length===0);){var N=I.length;if(u("maybeReadMore read 0"),R.read(0),N===I.length)break}I.readingMore=!1}x.prototype._read=function(R){T(this,new p("_read()"))},x.prototype.pipe=function(R,I){var N=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=R;break;case 1:H.pipes=[H.pipes,R];break;default:H.pipes.push(R);break}H.pipesCount+=1,u("pipe count=%d opts=%j",H.pipesCount,I);var re=(!I||I.end!==!1)&&R!==e.stdout&&R!==e.stderr,le=re?me:C;H.endEmitted?e.nextTick(le):N.once("end",le),R.on("unpipe",fe);function fe(L,ne){u("onunpipe"),L===N&&ne&&ne.hasUnpiped===!1&&(ne.hasUnpiped=!0,je())}function me(){u("onend"),R.end()}var Re=K(N);R.on("drain",Re);var Le=!1;function je(){u("cleanup"),R.removeListener("close",Ue),R.removeListener("finish",W),R.removeListener("drain",Re),R.removeListener("error",Ge),R.removeListener("unpipe",fe),N.removeListener("end",me),N.removeListener("end",C),N.removeListener("data",tt),Le=!0,H.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&Re()}N.on("data",tt);function tt(L){u("ondata");var ne=R.write(L);u("dest.write",ne),ne===!1&&((H.pipesCount===1&&H.pipes===R||H.pipesCount>1&&ye(H.pipes,R)!==-1)&&!Le&&(u("false write response, pause",H.awaitDrain),H.awaitDrain++),N.pause())}function Ge(L){u("onerror",L),C(),R.removeListener("error",Ge),r(R,"error")===0&&T(R,L)}A(R,"error",Ge);function Ue(){R.removeListener("finish",W),C()}R.once("close",Ue);function W(){u("onfinish"),R.removeListener("close",Ue),C()}R.once("finish",W);function C(){u("unpipe"),N.unpipe(R)}return R.emit("pipe",N),H.flowing||(u("pipe resume"),N.resume()),R};function K(R){return function(){var N=R._readableState;u("pipeOnDrain",N.awaitDrain),N.awaitDrain&&N.awaitDrain--,N.awaitDrain===0&&r(R,"data")&&(N.flowing=!0,J(R))}}x.prototype.unpipe=function(R){var I=this._readableState,N={hasUnpiped:!1};if(I.pipesCount===0)return this;if(I.pipesCount===1)return R&&R!==I.pipes?this:(R||(R=I.pipes),I.pipes=null,I.pipesCount=0,I.flowing=!1,R&&R.emit("unpipe",this,N),this);if(!R){var H=I.pipes,re=I.pipesCount;I.pipes=null,I.pipesCount=0,I.flowing=!1;for(var le=0;le<re;le++)H[le].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=ye(I.pipes,R);return fe===-1?this:(I.pipes.splice(fe,1),I.pipesCount-=1,I.pipesCount===1&&(I.pipes=I.pipes[0]),R.emit("unpipe",this,N),this)},x.prototype.on=function(R,I){var N=n.prototype.on.call(this,R,I),H=this._readableState;return R==="data"?(H.readableListening=this.listenerCount("readable")>0,H.flowing!==!1&&this.resume()):R==="readable"&&!H.endEmitted&&!H.readableListening&&(H.readableListening=H.needReadable=!0,H.flowing=!1,H.emittedReadable=!1,u("on readable",H.length,H.reading),H.length?ee(this):H.reading||e.nextTick(k,this)),N},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(R,I){var N=n.prototype.removeListener.call(this,R,I);return R==="readable"&&e.nextTick(O,this),N},x.prototype.removeAllListeners=function(R){var I=n.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&e.nextTick(O,this),I};function O(R){var I=R._readableState;I.readableListening=R.listenerCount("readable")>0,I.resumeScheduled&&!I.paused?I.flowing=!0:R.listenerCount("data")>0&&R.resume()}function k(R){u("readable nexttick read 0"),R.read(0)}x.prototype.resume=function(){var R=this._readableState;return R.flowing||(u("resume"),R.flowing=!R.readableListening,q(this,R)),R.paused=!1,this};function q(R,I){I.resumeScheduled||(I.resumeScheduled=!0,e.nextTick(ie,R,I))}function ie(R,I){u("resume",I.reading),I.reading||R.read(0),I.resumeScheduled=!1,R.emit("resume"),J(R),I.flowing&&!I.reading&&R.read(0)}x.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(R){var I=R._readableState;for(u("flow",I.flowing);I.flowing&&R.read()!==null;);}x.prototype.wrap=function(R){var I=this,N=this._readableState,H=!1;R.on("end",function(){if(u("wrapped end"),N.decoder&&!N.ended){var fe=N.decoder.end();fe&&fe.length&&I.push(fe)}I.push(null)}),R.on("data",function(fe){if(u("wrapped data"),N.decoder&&(fe=N.decoder.write(fe)),!(N.objectMode&&fe==null)&&!(!N.objectMode&&(!fe||!fe.length))){var me=I.push(fe);me||(H=!0,R.pause())}});for(var re in R)this[re]===void 0&&typeof R[re]=="function"&&(this[re]=function(me){return function(){return R[me].apply(R,arguments)}}(re));for(var le=0;le<d.length;le++)R.on(d[le],this.emit.bind(this,d[le]));return this._read=function(fe){u("wrapped _read",fe),H&&(H=!1,R.resume())},this},typeof Symbol=="function"&&(x.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=xZ()),S(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){this._readableState&&(this._readableState.flowing=I)}}),x._fromList=Y,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Y(R,I){if(I.length===0)return null;var N;return I.objectMode?N=I.buffer.shift():!R||R>=I.length?(I.decoder?N=I.buffer.join(""):I.buffer.length===1?N=I.buffer.first():N=I.buffer.concat(I.length),I.buffer.clear()):N=I.buffer.consume(R,I.decoder),N}function oe(R){var I=R._readableState;u("endReadable",I.endEmitted),I.endEmitted||(I.ended=!0,e.nextTick(_e,I,R))}function _e(R,I){if(u("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,I.readable=!1,I.emit("end"),R.autoDestroy)){var N=I._writableState;(!N||N.autoDestroy&&N.finished)&&I.destroy()}}typeof Symbol=="function"&&(x.from=function(R,I){return $===void 0&&($=OZ()),$(x,R,I)});function ye(R,I){for(var N=0,H=R.length;N<H;N++)if(R[N]===I)return N;return-1}return Ly}function PU(){if(jT)return Fy;jT=!0,Fy=s;var e=Rh().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=gh();Zu()(s,o);function a(f,c){var h=this._transformState;h.transforming=!1;var m=h.writecb;if(m===null)return this.emit("error",new r);h.writechunk=null,h.writecb=null,c!=null&&this.push(c),m(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function s(f){if(!(this instanceof s))return new s(f);o.call(this,f),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,h){u(f,c,h)}):u(this,null,null)}s.prototype.push=function(f,c){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,c)},s.prototype._transform=function(f,c,h){h(new t("_transform()"))},s.prototype._write=function(f,c,h){var m=this._transformState;if(m.writecb=h,m.writechunk=f,m.writeencoding=c,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},s.prototype._read=function(f){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},s.prototype._destroy=function(f,c){o.prototype._destroy.call(this,f,function(h){c(h)})};function u(f,c,h){if(c)return f.emit("error",c);if(h!=null&&f.push(h),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return Fy}function RZ(){if(DT)return By;DT=!0,By=t;var e=PU();Zu()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},By}function IZ(){if(MT)return Uy;MT=!0;var e;function t(h){var m=!1;return function(){m||(m=!0,h.apply(void 0,arguments))}}var r=Rh().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function o(h){if(h)throw h}function a(h){return h.setHeader&&typeof h.abort=="function"}function s(h,m,g,_){_=t(_);var v=!1;h.on("close",function(){v=!0}),e===void 0&&(e=uR()),e(h,{readable:m,writable:g},function(E){if(E)return _(E);v=!0,_()});var p=!1;return function(E){if(!v&&!p){if(p=!0,a(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();_(E||new i("pipe"))}}}function l(h){h()}function u(h,m){return h.pipe(m)}function f(h){return!h.length||typeof h[h.length-1]!="function"?o:h.pop()}function c(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];var _=f(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new n("streams");var v,p=m.map(function(E,y){var S=y<m.length-1,$=y>0;return s(E,S,$,function(T){v||(v=T),T&&p.forEach(l),!S&&(p.forEach(l),_(v))})});return m.reduce(u)}return Uy=c,Uy}function xU(){return LT||(LT=!0,qi=qi=AU(),qi.Stream=qi,qi.Readable=qi,qi.Writable=TU(),qi.Duplex=gh(),qi.Transform=PU(),qi.PassThrough=RZ(),qi.finished=uR(),qi.pipeline=IZ()),qi}function OU(){if(FT)return $p;FT=!0;var e=xo().Buffer,t=ci,r=_U(),n=Zu(),i=xU(),o=$p.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},a=$p.IncomingMessage=function(s,l,u,f){var c=this||Tp;if(i.Readable.call(c),c._mode=u,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),u==="fetch"){let p=function(){m.read().then(function(E){if(!c._destroyed){if(f(E.done),E.done){c.push(null);return}c.push(e.from(E.value)),p()}}).catch(function(E){f(!0),c._destroyed||c.emit("error",E)})};if(c._fetchResponse=l,c.url=l.url,c.statusCode=l.status,c.statusMessage=l.statusText,l.headers.forEach(function(E,y){c.headers[y.toLowerCase()]=E,c.rawHeaders.push(y,E)}),r.writableStream){var h=new WritableStream({write:function(E){return f(!1),new Promise(function(y,S){c._destroyed?S():c.push(e.from(E))?y():c._resumeFetch=y})},close:function(){f(!0),c._destroyed||c.push(null)},abort:function(E){f(!0),c._destroyed||c.emit("error",E)}});try{l.body.pipeTo(h).catch(function(E){f(!0),c._destroyed||c.emit("error",E)});return}catch{}}var m=l.body.getReader();p()}else{c._xhr=s,c._pos=0,c.url=s.responseURL,c.statusCode=s.status,c.statusMessage=s.statusText;var g=s.getAllResponseHeaders().split(/\r?\n/);if(g.forEach(function(p){var E=p.match(/^([^:]+):\s*(.*)/);if(E){var y=E[1].toLowerCase();y==="set-cookie"?(c.headers[y]===void 0&&(c.headers[y]=[]),c.headers[y].push(E[2])):c.headers[y]!==void 0?c.headers[y]+=", "+E[2]:c.headers[y]=E[2],c.rawHeaders.push(E[1],E[2])}}),c._charset="x-user-defined",!r.overrideMimeType){var _=c.rawHeaders["mime-type"];if(_){var v=_.match(/;\s*charset=([^;])(;|$)/);v&&(c._charset=v[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};return n(a,i.Readable),a.prototype._read=function(){var s=this||Tp,l=s._resumeFetch;l&&(s._resumeFetch=null,l())},a.prototype._onXHRProgress=function(s){var l=this||Tp,u=l._xhr,f=null;switch(l._mode){case"text":if(f=u.responseText,f.length>l._pos){var c=f.substr(l._pos);if(l._charset==="x-user-defined"){for(var h=e.alloc(c.length),m=0;m<c.length;m++)h[m]=c.charCodeAt(m)&255;l.push(h)}else l.push(c,l._charset);l._pos=f.length}break;case"arraybuffer":if(u.readyState!==o.DONE||!u.response)break;f=u.response,l.push(e.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=u.response,u.readyState!==o.LOADING||!f)break;l.push(e.from(new Uint8Array(f)));break;case"ms-stream":if(f=u.response,u.readyState!==o.LOADING)break;var g=new Tp.MSStreamReader;g.onprogress=function(){g.result.byteLength>l._pos&&(l.push(e.from(new Uint8Array(g.result.slice(l._pos)))),l._pos=g.result.byteLength)},g.onload=function(){s(!0),l.push(null)},g.readAsArrayBuffer(f);break}l._xhr.readyState===o.DONE&&l._mode!=="ms-stream"&&(s(!0),l.push(null))},$p}function NZ(){if(BT)return zy;BT=!0;var e=xo().Buffer,t=ci,r=_U(),n=Zu(),i=OU(),o=xU(),a=i.IncomingMessage,s=i.readyStates;function l(h,m){return r.fetch&&m?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&h?"arraybuffer":"text"}var u=zy=function(h){var m=this||Xn;o.Writable.call(m),m._opts=h,m._body=[],m._headers={},h.auth&&m.setHeader("Authorization","Basic "+e.from(h.auth).toString("base64")),Object.keys(h.headers).forEach(function(v){m.setHeader(v,h.headers[v])});var g,_=!0;if(h.mode==="disable-fetch"||"requestTimeout"in h&&!r.abortController)_=!1,g=!0;else if(h.mode==="prefer-streaming")g=!1;else if(h.mode==="allow-wrong-content-type")g=!r.overrideMimeType;else if(!h.mode||h.mode==="default"||h.mode==="prefer-fast")g=!0;else throw new Error("Invalid value for opts.mode");m._mode=l(g,_),m._fetchTimer=null,m._socketTimeout=null,m._socketTimer=null,m.on("finish",function(){m._onFinish()})};n(u,o.Writable),u.prototype.setHeader=function(h,m){var g=this||Xn,_=h.toLowerCase();c.indexOf(_)===-1&&(g._headers[_]={name:h,value:m})},u.prototype.getHeader=function(h){var m=(this||Xn)._headers[h.toLowerCase()];return m?m.value:null},u.prototype.removeHeader=function(h){var m=this||Xn;delete m._headers[h.toLowerCase()]},u.prototype._onFinish=function(){var h=this||Xn;if(!h._destroyed){var m=h._opts;"timeout"in m&&m.timeout!==0&&h.setTimeout(m.timeout);var g=h._headers,_=null;m.method!=="GET"&&m.method!=="HEAD"&&(_=new Blob(h._body,{type:(g["content-type"]||{}).value||""}));var v=[];if(Object.keys(g).forEach(function(S){var $=g[S].name,T=g[S].value;Array.isArray(T)?T.forEach(function(d){v.push([$,d])}):v.push([$,T])}),h._mode==="fetch"){var p=null;if(r.abortController){var E=new AbortController;p=E.signal,h._fetchAbortController=E,"requestTimeout"in m&&m.requestTimeout!==0&&(h._fetchTimer=Xn.setTimeout(function(){h.emit("requestTimeout"),h._fetchAbortController&&h._fetchAbortController.abort()},m.requestTimeout))}Xn.fetch(h._opts.url,{method:h._opts.method,headers:v,body:_||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:p}).then(function(S){h._fetchResponse=S,h._resetTimers(!1),h._connect()},function(S){h._resetTimers(!0),h._destroyed||h.emit("error",S)})}else{var y=h._xhr=new Xn.XMLHttpRequest;try{y.open(h._opts.method,h._opts.url,!0)}catch(S){t.nextTick(function(){h.emit("error",S)});return}"responseType"in y&&(y.responseType=h._mode),"withCredentials"in y&&(y.withCredentials=!!m.withCredentials),h._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(y.timeout=m.requestTimeout,y.ontimeout=function(){h.emit("requestTimeout")}),v.forEach(function(S){y.setRequestHeader(S[0],S[1])}),h._response=null,y.onreadystatechange=function(){switch(y.readyState){case s.LOADING:case s.DONE:h._onXHRProgress();break}},h._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){h._onXHRProgress()}),y.onerror=function(){h._destroyed||(h._resetTimers(!0),h.emit("error",new Error("XHR error")))};try{y.send(_)}catch(S){t.nextTick(function(){h.emit("error",S)});return}}}};function f(h){try{var m=h.status;return m!==null&&m!==0}catch{return!1}}u.prototype._onXHRProgress=function(){var h=this||Xn;h._resetTimers(!1),!(!f(h._xhr)||h._destroyed)&&(h._response||h._connect(),h._response._onXHRProgress(h._resetTimers.bind(h)))},u.prototype._connect=function(){var h=this||Xn;h._destroyed||(h._response=new a(h._xhr,h._fetchResponse,h._mode,h._resetTimers.bind(h)),h._response.on("error",function(m){h.emit("error",m)}),h.emit("response",h._response))},u.prototype._write=function(h,m,g){var _=this||Xn;_._body.push(h),g()},u.prototype._resetTimers=function(h){var m=this||Xn;Xn.clearTimeout(m._socketTimer),m._socketTimer=null,h?(Xn.clearTimeout(m._fetchTimer),m._fetchTimer=null):m._socketTimeout&&(m._socketTimer=Xn.setTimeout(function(){m.emit("timeout")},m._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(h){var m=this||Xn;m._destroyed=!0,m._resetTimers(!0),m._response&&(m._response._destroyed=!0),m._xhr?m._xhr.abort():m._fetchAbortController&&m._fetchAbortController.abort(),h&&m.emit("error",h)},u.prototype.end=function(h,m,g){var _=this||Xn;typeof h=="function"&&(g=h,h=void 0),o.Writable.prototype.end.call(_,h,m,g)},u.prototype.setTimeout=function(h,m){var g=this||Xn;m&&g.once("timeout",m),g._socketTimeout=h,g._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return zy}function CZ(){if(UT)return qy;UT=!0,qy=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var o in i)e.call(i,o)&&(r[o]=i[o])}return r}return qy}function kZ(){return zT||(zT=!0,Vy={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),Vy}function jZ(){if(qT)return Hy;qT=!0;var e=NZ(),t=OU(),r=CZ(),n=kZ(),i=Wr,o=Hy;return o.request=function(a,s){typeof a=="string"?a=i.parse(a):a=r(a);var l=RU.location.protocol.search(/^https?:$/)===-1?"http:":"",u=a.protocol||l,f=a.hostname||a.host,c=a.port,h=a.path||"/";f&&f.indexOf(":")!==-1&&(f="["+f+"]"),a.url=(f?u+"//"+f:"")+(c?":"+c:"")+h,a.method=(a.method||"GET").toUpperCase(),a.headers=a.headers||{};var m=new e(a);return s&&m.on("response",s),m},o.get=function(s,l){var u=o.request(s,l);return u.end(),u},o.ClientRequest=e,o.IncomingMessage=t.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=n,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],Hy}var fo,_T,fu,xy,ET,Oy,ST,Ry,$T,Iy,TT,Ny,AT,Cy,PT,xT,ky,OT,jy,RT,Dy,IT,My,NT,Ly,CT,kT,Fy,jT,By,DT,Uy,MT,qi,LT,$p,FT,Tp,zy,BT,Xn,qy,UT,Vy,zT,Hy,qT,RU,Ts,IU,NU,CU,kU,jU,DU,MU,LU,cR=tn({"../../node_modules/@jspm/core/nodelibs/browser/http.js"(){Ae(),oR(),KQ(),D_(),I_(),eZ(),fg(),dg(),dZ(),XB(),bU(),M_(),fo={},_T=!1,fu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,xy={},ET=!1,Oy={},ST=!1,Ry={},$T=!1,Iy={},TT=!1,Ny={},AT=!1,Cy={},PT=!1,xT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ky={},OT=!1,jy={},RT=!1,Dy={},IT=!1,My={},NT=!1,Ly={},CT=!1,kT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Fy={},jT=!1,By={},DT=!1,Uy={},MT=!1,qi={},LT=!1,$p={},FT=!1,Tp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,zy={},BT=!1,Xn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,qy={},UT=!1,Vy={},zT=!1,Hy={},qT=!1,RU=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ts=jZ(),IU=Ts.Agent,NU=Ts.ClientRequest,CU=Ts.IncomingMessage,kU=Ts.METHODS,jU=Ts.STATUS_CODES,DU=Ts.get,MU=Ts.globalAgent,LU=Ts.request}});function Fj(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return r===-1&&(r=t),[r,r===t?0:4-r%4]}function DZ(e,t,r){for(var n,i,o=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(Qa[(i=n)>>18&63]+Qa[i>>12&63]+Qa[i>>6&63]+Qa[63&i]);return o.join("")}function El(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,gt.prototype),t}function gt(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return VT(e)}return FU(e,t,r)}function FU(e,t,r){if(typeof e=="string")return function(o,a){if(typeof a=="string"&&a!==""||(a="utf8"),!gt.isEncoding(a))throw new TypeError("Unknown encoding: "+a);var s=0|UU(o,a),l=El(s),u=l.write(o,a);return u!==s&&(l=l.slice(0,u)),l}(e,t);if(ArrayBuffer.isView(e))return BS(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Sl(e,ArrayBuffer)||e&&Sl(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Sl(e,SharedArrayBuffer)||e&&Sl(e.buffer,SharedArrayBuffer)))return Bj(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return gt.from(n,t,r);var i=function(o){if(gt.isBuffer(o)){var a=0|fR(o.length),s=El(a);return s.length===0||o.copy(s,0,0,a),s}if(o.length!==void 0)return typeof o.length!="number"||dR(o.length)?El(0):BS(o);if(o.type==="Buffer"&&Array.isArray(o.data))return BS(o.data)}(e);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return gt.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function BU(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function VT(e){return BU(e),El(e<0?0:0|fR(e))}function BS(e){for(var t=e.length<0?0:0|fR(e.length),r=El(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function Bj(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=t===void 0&&r===void 0?new Uint8Array(e):r===void 0?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,gt.prototype),n}function fR(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function UU(e,t){if(gt.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Sl(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return HT(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return HU(e).length;default:if(i)return n?-1:HT(e).length;t=(""+t).toLowerCase(),i=!0}}function MZ(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return GZ(this,t,r);case"utf8":case"utf-8":return qU(this,t,r);case"ascii":return VZ(this,t,r);case"latin1":case"binary":return HZ(this,t,r);case"base64":return qZ(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return WZ(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function Ec(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Uj(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),dR(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if(typeof t=="string"&&(t=gt.from(t,n)),gt.isBuffer(t))return t.length===0?-1:zj(e,t,r,n,i);if(typeof t=="number")return t&=255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):zj(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function zj(e,t,r,n,i){var o,a=1,s=e.length,l=t.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function u(m,g){return a===1?m[g]:m.readUInt16BE(g*a)}if(i){var f=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,f===-1?0:o-f)){if(f===-1&&(f=o),o-f+1===l)return f*a}else f!==-1&&(o-=o-f),f=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){for(var c=!0,h=0;h<l;h++)if(u(e,o+h)!==u(t,h)){c=!1;break}if(c)return o}return-1}function LZ(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(dR(s))return a;e[r+a]=s}return a}function FZ(e,t,r,n){return F_(HT(t,e.length-r),e,r,n)}function zU(e,t,r,n){return F_(function(i){for(var o=[],a=0;a<i.length;++a)o.push(255&i.charCodeAt(a));return o}(t),e,r,n)}function BZ(e,t,r,n){return zU(e,t,r,n)}function UZ(e,t,r,n){return F_(HU(t),e,r,n)}function zZ(e,t,r,n){return F_(function(i,o){for(var a,s,l,u=[],f=0;f<i.length&&!((o-=2)<0);++f)a=i.charCodeAt(f),s=a>>8,l=a%256,u.push(l),u.push(s);return u}(t,e.length-r),e,r,n)}function qZ(e,t,r){return t===0&&r===e.length?Tb.fromByteArray(e):Tb.fromByteArray(e.slice(t,r))}function qU(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,l,u=e[i],f=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=r)switch(c){case 1:u<128&&(f=u);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&u)<<6|63&o)>127&&(f=l);break;case 3:o=e[i+1],a=e[i+2],(192&o)==128&&(192&a)==128&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(f=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(f=l)}f===null?(f=65533,c=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=c}return function(h){var m=h.length;if(m<=4096)return String.fromCharCode.apply(String,h);for(var g="",_=0;_<m;)g+=String.fromCharCode.apply(String,h.slice(_,_+=4096));return g}(n)}function VZ(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function HZ(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function GZ(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=ZU[e[o]];return i}function WZ(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function ii(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function co(e,t,r,n,i,o){if(!gt.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function VU(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function qj(e,t,r,n,i){return t=+t,r>>>=0,i||VU(e,0,r,4),Fc.write(e,t,r,n,23,4),r+4}function Vj(e,t,r,n,i){return t=+t,r>>>=0,i||VU(e,0,r,8),Fc.write(e,t,r,n,52,8),r+8}function HT(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function HU(e){return Tb.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(QU,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(e))}function F_(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Sl(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function dR(e){return e!=e}function Hj(e,t){for(var r in e)t[r]=e[r]}function Sc(e,t,r){return Ga(e,t,r)}function op(e){var t;switch(this.encoding=function(r){var n=function(i){if(!i)return"utf8";for(var o;;)switch(i){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return i;default:if(o)return;i=(""+i).toLowerCase(),o=!0}}(r);if(typeof n!="string"&&(Pb.isEncoding===GT||!GT(r)))throw new Error("Unknown encoding: "+r);return n||r}(e),this.encoding){case"utf16le":this.text=JZ,this.end=YZ,t=4;break;case"utf8":this.fillLast=KZ,t=4;break;case"base64":this.text=XZ,this.end=QZ,t=3;break;default:return this.write=ZZ,this.end=e7,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=Pb.allocUnsafe(t)}function US(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function KZ(e){var t=this.lastTotal-this.lastNeed,r=function(n,i,o){if((192&i[0])!=128)return n.lastNeed=0,"";if(n.lastNeed>1&&i.length>1){if((192&i[1])!=128)return n.lastNeed=1,"";if(n.lastNeed>2&&i.length>2&&(192&i[2])!=128)return n.lastNeed=2,""}}(this,e);return r!==void 0?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length,void 0)}function JZ(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function YZ(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function XZ(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function QZ(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function ZZ(e){return e.toString(this.encoding)}function e7(e){return e&&e.length?this.write(e):""}function t7(){if(WT)return md;WT=!0,md.byteLength=s,md.toByteArray=u,md.fromByteArray=h;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function a(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=m.indexOf("=");_===-1&&(_=g);var v=_===g?0:4-_%4;return[_,v]}function s(m){var g=a(m),_=g[0],v=g[1];return(_+v)*3/4-v}function l(m,g,_){return(g+_)*3/4-_}function u(m){var g,_=a(m),v=_[0],p=_[1],E=new r(l(m,v,p)),y=0,S=p>0?v-4:v,$;for($=0;$<S;$+=4)g=t[m.charCodeAt($)]<<18|t[m.charCodeAt($+1)]<<12|t[m.charCodeAt($+2)]<<6|t[m.charCodeAt($+3)],E[y++]=g>>16&255,E[y++]=g>>8&255,E[y++]=g&255;return p===2&&(g=t[m.charCodeAt($)]<<2|t[m.charCodeAt($+1)]>>4,E[y++]=g&255),p===1&&(g=t[m.charCodeAt($)]<<10|t[m.charCodeAt($+1)]<<4|t[m.charCodeAt($+2)]>>2,E[y++]=g>>8&255,E[y++]=g&255),E}function f(m){return e[m>>18&63]+e[m>>12&63]+e[m>>6&63]+e[m&63]}function c(m,g,_){for(var v,p=[],E=g;E<_;E+=3)v=(m[E]<<16&16711680)+(m[E+1]<<8&65280)+(m[E+2]&255),p.push(f(v));return p.join("")}function h(m){for(var g,_=m.length,v=_%3,p=[],E=16383,y=0,S=_-v;y<S;y+=E)p.push(c(m,y,y+E>S?S:y+E));return v===1?(g=m[_-1],p.push(e[g>>2]+e[g<<4&63]+"==")):v===2&&(g=(m[_-2]<<8)+m[_-1],p.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),p.join("")}return md}function r7(){return KT||(KT=!0,Ap.read=function(e,t,r,n,i){var o,a,s=i*8-n-1,l=(1<<s)-1,u=l>>1,f=-7,c=r?i-1:0,h=r?-1:1,m=e[t+c];for(c+=h,o=m&(1<<-f)-1,m>>=-f,f+=s;f>0;o=o*256+e[t+c],c+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=a*256+e[t+c],c+=h,f-=8);if(o===0)o=1-u;else{if(o===l)return a?NaN:(m?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-u}return(m?-1:1)*a*Math.pow(2,o-n)},Ap.write=function(e,t,r,n,i,o){var a,s,l,u=o*8-i-1,f=(1<<u)-1,c=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+c>=1?t+=h/l:t+=h*Math.pow(2,1-c),t*l>=2&&(a++,l/=2),a+c>=f?(s=0,a=f):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a=a+c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+m]=s&255,m+=g,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+m]=a&255,m+=g,a/=256,u-=8);e[r+m-g]|=_*128}),Ap}function n7(){if(JT)return du;JT=!0;const e=t7(),t=r7(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;du.Buffer=a,du.SlowBuffer=p,du.INSPECT_MAX_BYTES=50;const n=2147483647;du.kMaxLength=n,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const W=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(W,C),W.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(W){if(W>n)throw new RangeError('The value "'+W+'" is invalid for option "size"');const C=new Uint8Array(W);return Object.setPrototypeOf(C,a.prototype),C}function a(W,C,L){if(typeof W=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(W)}return s(W,C,L)}a.poolSize=8192;function s(W,C,L){if(typeof W=="string")return c(W,C);if(ArrayBuffer.isView(W))return m(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(Le(W,ArrayBuffer)||W&&Le(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(W,SharedArrayBuffer)||W&&Le(W.buffer,SharedArrayBuffer)))return g(W,C,L);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=W.valueOf&&W.valueOf();if(ne!=null&&ne!==W)return a.from(ne,C,L);const we=_(W);if(we)return we;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return a.from(W[Symbol.toPrimitive]("string"),C,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}a.from=function(W,C,L){return s(W,C,L)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function u(W,C,L){return l(W),W<=0?o(W):C!==void 0?typeof L=="string"?o(W).fill(C,L):o(W).fill(C):o(W)}a.alloc=function(W,C,L){return u(W,C,L)};function f(W){return l(W),o(W<0?0:v(W)|0)}a.allocUnsafe=function(W){return f(W)},a.allocUnsafeSlow=function(W){return f(W)};function c(W,C){if((typeof C!="string"||C==="")&&(C="utf8"),!a.isEncoding(C))throw new TypeError("Unknown encoding: "+C);const L=E(W,C)|0;let ne=o(L);const we=ne.write(W,C);return we!==L&&(ne=ne.slice(0,we)),ne}function h(W){const C=W.length<0?0:v(W.length)|0,L=o(C);for(let ne=0;ne<C;ne+=1)L[ne]=W[ne]&255;return L}function m(W){if(Le(W,Uint8Array)){const C=new Uint8Array(W);return g(C.buffer,C.byteOffset,C.byteLength)}return h(W)}function g(W,C,L){if(C<0||W.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<C+(L||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return C===void 0&&L===void 0?ne=new Uint8Array(W):L===void 0?ne=new Uint8Array(W,C):ne=new Uint8Array(W,C,L),Object.setPrototypeOf(ne,a.prototype),ne}function _(W){if(a.isBuffer(W)){const C=v(W.length)|0,L=o(C);return L.length===0||W.copy(L,0,0,C),L}if(W.length!==void 0)return typeof W.length!="number"||je(W.length)?o(0):h(W);if(W.type==="Buffer"&&Array.isArray(W.data))return h(W.data)}function v(W){if(W>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return W|0}function p(W){return+W!=W&&(W=0),a.alloc(+W)}a.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==a.prototype},a.compare=function(C,L){if(Le(C,Uint8Array)&&(C=a.from(C,C.offset,C.byteLength)),Le(L,Uint8Array)&&(L=a.from(L,L.offset,L.byteLength)),!a.isBuffer(C)||!a.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===L)return 0;let ne=C.length,we=L.length;for(let Se=0,ke=Math.min(ne,we);Se<ke;++Se)if(C[Se]!==L[Se]){ne=C[Se],we=L[Se];break}return ne<we?-1:we<ne?1:0},a.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(C,L){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return a.alloc(0);let ne;if(L===void 0)for(L=0,ne=0;ne<C.length;++ne)L+=C[ne].length;const we=a.allocUnsafe(L);let Se=0;for(ne=0;ne<C.length;++ne){let ke=C[ne];if(Le(ke,Uint8Array))Se+ke.length>we.length?(a.isBuffer(ke)||(ke=a.from(ke)),ke.copy(we,Se)):Uint8Array.prototype.set.call(we,ke,Se);else if(a.isBuffer(ke))ke.copy(we,Se);else throw new TypeError('"list" argument must be an Array of Buffers');Se+=ke.length}return we};function E(W,C){if(a.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||Le(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const L=W.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&L===0)return 0;let we=!1;for(;;)switch(C){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return re(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return me(W).length;default:if(we)return ne?-1:re(W).length;C=(""+C).toLowerCase(),we=!0}}a.byteLength=E;function y(W,C,L){let ne=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,C>>>=0,L<=C))return"";for(W||(W="utf8");;)switch(W){case"hex":return ee(this,C,L);case"utf8":case"utf-8":return V(this,C,L);case"ascii":return Q(this,C,L);case"latin1":case"binary":return ce(this,C,L);case"base64":return F(this,C,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,C,L);default:if(ne)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),ne=!0}}a.prototype._isBuffer=!0;function S(W,C,L){const ne=W[C];W[C]=W[L],W[L]=ne}a.prototype.swap16=function(){const C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<C;L+=2)S(this,L,L+1);return this},a.prototype.swap32=function(){const C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<C;L+=4)S(this,L,L+3),S(this,L+1,L+2);return this},a.prototype.swap64=function(){const C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<C;L+=8)S(this,L,L+7),S(this,L+1,L+6),S(this,L+2,L+5),S(this,L+3,L+4);return this},a.prototype.toString=function(){const C=this.length;return C===0?"":arguments.length===0?V(this,0,C):y.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(C){if(!a.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:a.compare(this,C)===0},a.prototype.inspect=function(){let C="";const L=du.INSPECT_MAX_BYTES;return C=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(C+=" ... "),"<Buffer "+C+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(C,L,ne,we,Se){if(Le(C,Uint8Array)&&(C=a.from(C,C.offset,C.byteLength)),!a.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(L===void 0&&(L=0),ne===void 0&&(ne=C?C.length:0),we===void 0&&(we=0),Se===void 0&&(Se=this.length),L<0||ne>C.length||we<0||Se>this.length)throw new RangeError("out of range index");if(we>=Se&&L>=ne)return 0;if(we>=Se)return-1;if(L>=ne)return 1;if(L>>>=0,ne>>>=0,we>>>=0,Se>>>=0,this===C)return 0;let ke=Se-we,Ie=ne-L;const Fe=Math.min(ke,Ie),ft=this.slice(we,Se),vt=C.slice(L,ne);for(let at=0;at<Fe;++at)if(ft[at]!==vt[at]){ke=ft[at],Ie=vt[at];break}return ke<Ie?-1:Ie<ke?1:0};function $(W,C,L,ne,we){if(W.length===0)return-1;if(typeof L=="string"?(ne=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,je(L)&&(L=we?0:W.length-1),L<0&&(L=W.length+L),L>=W.length){if(we)return-1;L=W.length-1}else if(L<0)if(we)L=0;else return-1;if(typeof C=="string"&&(C=a.from(C,ne)),a.isBuffer(C))return C.length===0?-1:T(W,C,L,ne,we);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?we?Uint8Array.prototype.indexOf.call(W,C,L):Uint8Array.prototype.lastIndexOf.call(W,C,L):T(W,[C],L,ne,we);throw new TypeError("val must be string, number or Buffer")}function T(W,C,L,ne,we){let Se=1,ke=W.length,Ie=C.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(W.length<2||C.length<2)return-1;Se=2,ke/=2,Ie/=2,L/=2}function Fe(vt,at){return Se===1?vt[at]:vt.readUInt16BE(at*Se)}let ft;if(we){let vt=-1;for(ft=L;ft<ke;ft++)if(Fe(W,ft)===Fe(C,vt===-1?0:ft-vt)){if(vt===-1&&(vt=ft),ft-vt+1===Ie)return vt*Se}else vt!==-1&&(ft-=ft-vt),vt=-1}else for(L+Ie>ke&&(L=ke-Ie),ft=L;ft>=0;ft--){let vt=!0;for(let at=0;at<Ie;at++)if(Fe(W,ft+at)!==Fe(C,at)){vt=!1;break}if(vt)return ft}return-1}a.prototype.includes=function(C,L,ne){return this.indexOf(C,L,ne)!==-1},a.prototype.indexOf=function(C,L,ne){return $(this,C,L,ne,!0)},a.prototype.lastIndexOf=function(C,L,ne){return $(this,C,L,ne,!1)};function d(W,C,L,ne){L=Number(L)||0;const we=W.length-L;ne?(ne=Number(ne),ne>we&&(ne=we)):ne=we;const Se=C.length;ne>Se/2&&(ne=Se/2);let ke;for(ke=0;ke<ne;++ke){const Ie=parseInt(C.substr(ke*2,2),16);if(je(Ie))return ke;W[L+ke]=Ie}return ke}function A(W,C,L,ne){return Re(re(C,W.length-L),W,L,ne)}function P(W,C,L,ne){return Re(le(C),W,L,ne)}function x(W,C,L,ne){return Re(me(C),W,L,ne)}function D(W,C,L,ne){return Re(fe(C,W.length-L),W,L,ne)}a.prototype.write=function(C,L,ne,we){if(L===void 0)we="utf8",ne=this.length,L=0;else if(ne===void 0&&typeof L=="string")we=L,ne=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(ne)?(ne=ne>>>0,we===void 0&&(we="utf8")):(we=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Se=this.length-L;if((ne===void 0||ne>Se)&&(ne=Se),C.length>0&&(ne<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");we||(we="utf8");let ke=!1;for(;;)switch(we){case"hex":return d(this,C,L,ne);case"utf8":case"utf-8":return A(this,C,L,ne);case"ascii":case"latin1":case"binary":return P(this,C,L,ne);case"base64":return x(this,C,L,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,C,L,ne);default:if(ke)throw new TypeError("Unknown encoding: "+we);we=(""+we).toLowerCase(),ke=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(W,C,L){return C===0&&L===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(C,L))}function V(W,C,L){L=Math.min(W.length,L);const ne=[];let we=C;for(;we<L;){const Se=W[we];let ke=null,Ie=Se>239?4:Se>223?3:Se>191?2:1;if(we+Ie<=L){let Fe,ft,vt,at;switch(Ie){case 1:Se<128&&(ke=Se);break;case 2:Fe=W[we+1],(Fe&192)===128&&(at=(Se&31)<<6|Fe&63,at>127&&(ke=at));break;case 3:Fe=W[we+1],ft=W[we+2],(Fe&192)===128&&(ft&192)===128&&(at=(Se&15)<<12|(Fe&63)<<6|ft&63,at>2047&&(at<55296||at>57343)&&(ke=at));break;case 4:Fe=W[we+1],ft=W[we+2],vt=W[we+3],(Fe&192)===128&&(ft&192)===128&&(vt&192)===128&&(at=(Se&15)<<18|(Fe&63)<<12|(ft&63)<<6|vt&63,at>65535&&at<1114112&&(ke=at))}}ke===null?(ke=65533,Ie=1):ke>65535&&(ke-=65536,ne.push(ke>>>10&1023|55296),ke=56320|ke&1023),ne.push(ke),we+=Ie}return G(ne)}const X=4096;function G(W){const C=W.length;if(C<=X)return String.fromCharCode.apply(String,W);let L="",ne=0;for(;ne<C;)L+=String.fromCharCode.apply(String,W.slice(ne,ne+=X));return L}function Q(W,C,L){let ne="";L=Math.min(W.length,L);for(let we=C;we<L;++we)ne+=String.fromCharCode(W[we]&127);return ne}function ce(W,C,L){let ne="";L=Math.min(W.length,L);for(let we=C;we<L;++we)ne+=String.fromCharCode(W[we]);return ne}function ee(W,C,L){const ne=W.length;(!C||C<0)&&(C=0),(!L||L<0||L>ne)&&(L=ne);let we="";for(let Se=C;Se<L;++Se)we+=tt[W[Se]];return we}function ae(W,C,L){const ne=W.slice(C,L);let we="";for(let Se=0;Se<ne.length-1;Se+=2)we+=String.fromCharCode(ne[Se]+ne[Se+1]*256);return we}a.prototype.slice=function(C,L){const ne=this.length;C=~~C,L=L===void 0?ne:~~L,C<0?(C+=ne,C<0&&(C=0)):C>ne&&(C=ne),L<0?(L+=ne,L<0&&(L=0)):L>ne&&(L=ne),L<C&&(L=C);const we=this.subarray(C,L);return Object.setPrototypeOf(we,a.prototype),we};function M(W,C,L){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+C>L)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(C,L,ne){C=C>>>0,L=L>>>0,ne||M(C,L,this.length);let we=this[C],Se=1,ke=0;for(;++ke<L&&(Se*=256);)we+=this[C+ke]*Se;return we},a.prototype.readUintBE=a.prototype.readUIntBE=function(C,L,ne){C=C>>>0,L=L>>>0,ne||M(C,L,this.length);let we=this[C+--L],Se=1;for(;L>0&&(Se*=256);)we+=this[C+--L]*Se;return we},a.prototype.readUint8=a.prototype.readUInt8=function(C,L){return C=C>>>0,L||M(C,1,this.length),this[C]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(C,L){return C=C>>>0,L||M(C,2,this.length),this[C]|this[C+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(C,L){return C=C>>>0,L||M(C,2,this.length),this[C]<<8|this[C+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(C,L){return C=C>>>0,L||M(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(C,L){return C=C>>>0,L||M(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},a.prototype.readBigUInt64LE=Ge(function(C){C=C>>>0,R(C,"offset");const L=this[C],ne=this[C+7];(L===void 0||ne===void 0)&&I(C,this.length-8);const we=L+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24,Se=this[++C]+this[++C]*2**8+this[++C]*2**16+ne*2**24;return BigInt(we)+(BigInt(Se)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ge(function(C){C=C>>>0,R(C,"offset");const L=this[C],ne=this[C+7];(L===void 0||ne===void 0)&&I(C,this.length-8);const we=L*2**24+this[++C]*2**16+this[++C]*2**8+this[++C],Se=this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+ne;return(BigInt(we)<<BigInt(32))+BigInt(Se)}),a.prototype.readIntLE=function(C,L,ne){C=C>>>0,L=L>>>0,ne||M(C,L,this.length);let we=this[C],Se=1,ke=0;for(;++ke<L&&(Se*=256);)we+=this[C+ke]*Se;return Se*=128,we>=Se&&(we-=Math.pow(2,8*L)),we},a.prototype.readIntBE=function(C,L,ne){C=C>>>0,L=L>>>0,ne||M(C,L,this.length);let we=L,Se=1,ke=this[C+--we];for(;we>0&&(Se*=256);)ke+=this[C+--we]*Se;return Se*=128,ke>=Se&&(ke-=Math.pow(2,8*L)),ke},a.prototype.readInt8=function(C,L){return C=C>>>0,L||M(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},a.prototype.readInt16LE=function(C,L){C=C>>>0,L||M(C,2,this.length);const ne=this[C]|this[C+1]<<8;return ne&32768?ne|4294901760:ne},a.prototype.readInt16BE=function(C,L){C=C>>>0,L||M(C,2,this.length);const ne=this[C+1]|this[C]<<8;return ne&32768?ne|4294901760:ne},a.prototype.readInt32LE=function(C,L){return C=C>>>0,L||M(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},a.prototype.readInt32BE=function(C,L){return C=C>>>0,L||M(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},a.prototype.readBigInt64LE=Ge(function(C){C=C>>>0,R(C,"offset");const L=this[C],ne=this[C+7];(L===void 0||ne===void 0)&&I(C,this.length-8);const we=this[C+4]+this[C+5]*2**8+this[C+6]*2**16+(ne<<24);return(BigInt(we)<<BigInt(32))+BigInt(L+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24)}),a.prototype.readBigInt64BE=Ge(function(C){C=C>>>0,R(C,"offset");const L=this[C],ne=this[C+7];(L===void 0||ne===void 0)&&I(C,this.length-8);const we=(L<<24)+this[++C]*2**16+this[++C]*2**8+this[++C];return(BigInt(we)<<BigInt(32))+BigInt(this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+ne)}),a.prototype.readFloatLE=function(C,L){return C=C>>>0,L||M(C,4,this.length),t.read(this,C,!0,23,4)},a.prototype.readFloatBE=function(C,L){return C=C>>>0,L||M(C,4,this.length),t.read(this,C,!1,23,4)},a.prototype.readDoubleLE=function(C,L){return C=C>>>0,L||M(C,8,this.length),t.read(this,C,!0,52,8)},a.prototype.readDoubleBE=function(C,L){return C=C>>>0,L||M(C,8,this.length),t.read(this,C,!1,52,8)};function B(W,C,L,ne,we,Se){if(!a.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>we||C<Se)throw new RangeError('"value" argument is out of bounds');if(L+ne>W.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(C,L,ne,we){if(C=+C,L=L>>>0,ne=ne>>>0,!we){const Ie=Math.pow(2,8*ne)-1;B(this,C,L,ne,Ie,0)}let Se=1,ke=0;for(this[L]=C&255;++ke<ne&&(Se*=256);)this[L+ke]=C/Se&255;return L+ne},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(C,L,ne,we){if(C=+C,L=L>>>0,ne=ne>>>0,!we){const Ie=Math.pow(2,8*ne)-1;B(this,C,L,ne,Ie,0)}let Se=ne-1,ke=1;for(this[L+Se]=C&255;--Se>=0&&(ke*=256);)this[L+Se]=C/ke&255;return L+ne},a.prototype.writeUint8=a.prototype.writeUInt8=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,1,255,0),this[L]=C&255,L+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,2,65535,0),this[L]=C&255,this[L+1]=C>>>8,L+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,2,65535,0),this[L]=C>>>8,this[L+1]=C&255,L+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,4,4294967295,0),this[L+3]=C>>>24,this[L+2]=C>>>16,this[L+1]=C>>>8,this[L]=C&255,L+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,4,4294967295,0),this[L]=C>>>24,this[L+1]=C>>>16,this[L+2]=C>>>8,this[L+3]=C&255,L+4};function K(W,C,L,ne,we){ye(C,ne,we,W,L,7);let Se=Number(C&BigInt(4294967295));W[L++]=Se,Se=Se>>8,W[L++]=Se,Se=Se>>8,W[L++]=Se,Se=Se>>8,W[L++]=Se;let ke=Number(C>>BigInt(32)&BigInt(4294967295));return W[L++]=ke,ke=ke>>8,W[L++]=ke,ke=ke>>8,W[L++]=ke,ke=ke>>8,W[L++]=ke,L}function O(W,C,L,ne,we){ye(C,ne,we,W,L,7);let Se=Number(C&BigInt(4294967295));W[L+7]=Se,Se=Se>>8,W[L+6]=Se,Se=Se>>8,W[L+5]=Se,Se=Se>>8,W[L+4]=Se;let ke=Number(C>>BigInt(32)&BigInt(4294967295));return W[L+3]=ke,ke=ke>>8,W[L+2]=ke,ke=ke>>8,W[L+1]=ke,ke=ke>>8,W[L]=ke,L+8}a.prototype.writeBigUInt64LE=Ge(function(C,L=0){return K(this,C,L,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ge(function(C,L=0){return O(this,C,L,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(C,L,ne,we){if(C=+C,L=L>>>0,!we){const Fe=Math.pow(2,8*ne-1);B(this,C,L,ne,Fe-1,-Fe)}let Se=0,ke=1,Ie=0;for(this[L]=C&255;++Se<ne&&(ke*=256);)C<0&&Ie===0&&this[L+Se-1]!==0&&(Ie=1),this[L+Se]=(C/ke>>0)-Ie&255;return L+ne},a.prototype.writeIntBE=function(C,L,ne,we){if(C=+C,L=L>>>0,!we){const Fe=Math.pow(2,8*ne-1);B(this,C,L,ne,Fe-1,-Fe)}let Se=ne-1,ke=1,Ie=0;for(this[L+Se]=C&255;--Se>=0&&(ke*=256);)C<0&&Ie===0&&this[L+Se+1]!==0&&(Ie=1),this[L+Se]=(C/ke>>0)-Ie&255;return L+ne},a.prototype.writeInt8=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,1,127,-128),C<0&&(C=255+C+1),this[L]=C&255,L+1},a.prototype.writeInt16LE=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,2,32767,-32768),this[L]=C&255,this[L+1]=C>>>8,L+2},a.prototype.writeInt16BE=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,2,32767,-32768),this[L]=C>>>8,this[L+1]=C&255,L+2},a.prototype.writeInt32LE=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,4,2147483647,-2147483648),this[L]=C&255,this[L+1]=C>>>8,this[L+2]=C>>>16,this[L+3]=C>>>24,L+4},a.prototype.writeInt32BE=function(C,L,ne){return C=+C,L=L>>>0,ne||B(this,C,L,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[L]=C>>>24,this[L+1]=C>>>16,this[L+2]=C>>>8,this[L+3]=C&255,L+4},a.prototype.writeBigInt64LE=Ge(function(C,L=0){return K(this,C,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ge(function(C,L=0){return O(this,C,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function k(W,C,L,ne,we,Se){if(L+ne>W.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function q(W,C,L,ne,we){return C=+C,L=L>>>0,we||k(W,C,L,4),t.write(W,C,L,ne,23,4),L+4}a.prototype.writeFloatLE=function(C,L,ne){return q(this,C,L,!0,ne)},a.prototype.writeFloatBE=function(C,L,ne){return q(this,C,L,!1,ne)};function ie(W,C,L,ne,we){return C=+C,L=L>>>0,we||k(W,C,L,8),t.write(W,C,L,ne,52,8),L+8}a.prototype.writeDoubleLE=function(C,L,ne){return ie(this,C,L,!0,ne)},a.prototype.writeDoubleBE=function(C,L,ne){return ie(this,C,L,!1,ne)},a.prototype.copy=function(C,L,ne,we){if(!a.isBuffer(C))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!we&&we!==0&&(we=this.length),L>=C.length&&(L=C.length),L||(L=0),we>0&&we<ne&&(we=ne),we===ne||C.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("sourceEnd out of bounds");we>this.length&&(we=this.length),C.length-L<we-ne&&(we=C.length-L+ne);const Se=we-ne;return this===C&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,ne,we):Uint8Array.prototype.set.call(C,this.subarray(ne,we),L),Se},a.prototype.fill=function(C,L,ne,we){if(typeof C=="string"){if(typeof L=="string"?(we=L,L=0,ne=this.length):typeof ne=="string"&&(we=ne,ne=this.length),we!==void 0&&typeof we!="string")throw new TypeError("encoding must be a string");if(typeof we=="string"&&!a.isEncoding(we))throw new TypeError("Unknown encoding: "+we);if(C.length===1){const ke=C.charCodeAt(0);(we==="utf8"&&ke<128||we==="latin1")&&(C=ke)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(L<0||this.length<L||this.length<ne)throw new RangeError("Out of range index");if(ne<=L)return this;L=L>>>0,ne=ne===void 0?this.length:ne>>>0,C||(C=0);let Se;if(typeof C=="number")for(Se=L;Se<ne;++Se)this[Se]=C;else{const ke=a.isBuffer(C)?C:a.from(C,we),Ie=ke.length;if(Ie===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(Se=0;Se<ne-L;++Se)this[Se+L]=ke[Se%Ie]}return this};const J={};function Y(W,C,L){J[W]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:C.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(we){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:we,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(W,C){return`The "${W}" argument must be of type number. Received type ${typeof C}`},TypeError),Y("ERR_OUT_OF_RANGE",function(W,C,L){let ne=`The value of "${W}" is out of range.`,we=L;return Number.isInteger(L)&&Math.abs(L)>2**32?we=oe(String(L)):typeof L=="bigint"&&(we=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(we=oe(we)),we+="n"),ne+=` It must be ${C}. Received ${we}`,ne},RangeError);function oe(W){let C="",L=W.length;const ne=W[0]==="-"?1:0;for(;L>=ne+4;L-=3)C=`_${W.slice(L-3,L)}${C}`;return`${W.slice(0,L)}${C}`}function _e(W,C,L){R(C,"offset"),(W[C]===void 0||W[C+L]===void 0)&&I(C,W.length-(L+1))}function ye(W,C,L,ne,we,Se){if(W>L||W<C){const ke=typeof C=="bigint"?"n":"";let Ie;throw C===0||C===BigInt(0)?Ie=`>= 0${ke} and < 2${ke} ** ${(Se+1)*8}${ke}`:Ie=`>= -(2${ke} ** ${(Se+1)*8-1}${ke}) and < 2 ** ${(Se+1)*8-1}${ke}`,new J.ERR_OUT_OF_RANGE("value",Ie,W)}_e(ne,we,Se)}function R(W,C){if(typeof W!="number")throw new J.ERR_INVALID_ARG_TYPE(C,"number",W)}function I(W,C,L){throw Math.floor(W)!==W?(R(W,L),new J.ERR_OUT_OF_RANGE("offset","an integer",W)):C<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${C}`,W)}const N=/[^+/0-9A-Za-z-_]/g;function H(W){if(W=W.split("=")[0],W=W.trim().replace(N,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function re(W,C){C=C||1/0;let L;const ne=W.length;let we=null;const Se=[];for(let ke=0;ke<ne;++ke){if(L=W.charCodeAt(ke),L>55295&&L<57344){if(!we){if(L>56319){(C-=3)>-1&&Se.push(239,191,189);continue}else if(ke+1===ne){(C-=3)>-1&&Se.push(239,191,189);continue}we=L;continue}if(L<56320){(C-=3)>-1&&Se.push(239,191,189),we=L;continue}L=(we-55296<<10|L-56320)+65536}else we&&(C-=3)>-1&&Se.push(239,191,189);if(we=null,L<128){if((C-=1)<0)break;Se.push(L)}else if(L<2048){if((C-=2)<0)break;Se.push(L>>6|192,L&63|128)}else if(L<65536){if((C-=3)<0)break;Se.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((C-=4)<0)break;Se.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return Se}function le(W){const C=[];for(let L=0;L<W.length;++L)C.push(W.charCodeAt(L)&255);return C}function fe(W,C){let L,ne,we;const Se=[];for(let ke=0;ke<W.length&&!((C-=2)<0);++ke)L=W.charCodeAt(ke),ne=L>>8,we=L%256,Se.push(we),Se.push(ne);return Se}function me(W){return e.toByteArray(H(W))}function Re(W,C,L,ne){let we;for(we=0;we<ne&&!(we+L>=C.length||we>=W.length);++we)C[we+L]=W[we];return we}function Le(W,C){return W instanceof C||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===C.name}function je(W){return W!==W}const tt=function(){const W="0123456789abcdef",C=new Array(256);for(let L=0;L<16;++L){const ne=L*16;for(let we=0;we<16;++we)C[ne+we]=W[L]+W[we]}return C}();function Ge(W){return typeof BigInt>"u"?Ue:W}function Ue(){throw new Error("BigInt not supported")}return du}function Rf(){return YT||(YT=!0,typeof Object.create=="function"?Pp=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Pp=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),Pp}function GU(){return XT||(XT=!0,Gy=Ki.EventEmitter),Gy}function i7(){if(QT)return Wy;QT=!0;function e(h,m){var g=Object.keys(h);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(h);m&&(_=_.filter(function(v){return Object.getOwnPropertyDescriptor(h,v).enumerable})),g.push.apply(g,_)}return g}function t(h){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?e(Object(g),!0).forEach(function(_){r(h,_,g[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(g)):e(Object(g)).forEach(function(_){Object.defineProperty(h,_,Object.getOwnPropertyDescriptor(g,_))})}return h}function r(h,m,g){return m in h?Object.defineProperty(h,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[m]=g,h}function n(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function i(h,m){for(var g=0;g<m.length;g++){var _=m[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}function o(h,m,g){return m&&i(h.prototype,m),h}var a=$l,s=a.Buffer,l=ct,u=l.inspect,f=u&&u.custom||"inspect";function c(h,m,g){s.prototype.copy.call(h,m,g)}return Wy=function(){function h(){n(this,h),this.head=null,this.tail=null,this.length=0}return o(h,[{key:"push",value:function(g){var _={data:g,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(g){var _={data:g,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var _=this.head,v=""+_.data;_=_.next;)v+=g+_.data;return v}},{key:"concat",value:function(g){if(this.length===0)return s.alloc(0);for(var _=s.allocUnsafe(g>>>0),v=this.head,p=0;v;)c(v.data,_,p),p+=v.data.length,v=v.next;return _}},{key:"consume",value:function(g,_){var v;return g<this.head.data.length?(v=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?v=this.shift():v=_?this._getString(g):this._getBuffer(g),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var _=this.head,v=1,p=_.data;for(g-=p.length;_=_.next;){var E=_.data,y=g>E.length?E.length:g;if(y===E.length?p+=E:p+=E.slice(0,g),g-=y,g===0){y===E.length?(++v,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=E.slice(y));break}++v}return this.length-=v,p}},{key:"_getBuffer",value:function(g){var _=s.allocUnsafe(g),v=this.head,p=1;for(v.data.copy(_),g-=v.data.length;v=v.next;){var E=v.data,y=g>E.length?E.length:g;if(E.copy(_,_.length-g,0,y),g-=y,g===0){y===E.length?(++p,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=E.slice(y));break}++p}return this.length-=p,_}},{key:f,value:function(g,_){return u(this,t({},_,{depth:0,customInspect:!1}))}}]),h}(),Wy}function WU(){if(ZT)return Ky;ZT=!0;var e=qr;function t(s,l){var u=this,f=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return f||c?(l?l(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,s)):e.nextTick(o,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(h){!l&&h?u._writableState?u._writableState.errorEmitted?e.nextTick(n,u):(u._writableState.errorEmitted=!0,e.nextTick(r,u,h)):e.nextTick(r,u,h):l?(e.nextTick(n,u),l(h)):e.nextTick(n,u)}),this)}function r(s,l){o(s,l),n(s)}function n(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(s,l){s.emit("error",l)}function a(s,l){var u=s._readableState,f=s._writableState;u&&u.autoDestroy||f&&f.autoDestroy?s.destroy(l):s.emit("error",l)}return Ky={destroy:t,undestroy:i,errorOrDestroy:a},Ky}function Ih(){if(eA)return Jy;eA=!0;const e={};function t(a,s,l){l||(l=Error);function u(c,h,m){return typeof s=="string"?s:s(c,h,m)}class f extends l{constructor(h,m,g){super(u(h,m,g))}}f.prototype.name=l.name,f.prototype.code=a,e[a]=f}function r(a,s){if(Array.isArray(a)){const l=a.length;return a=a.map(u=>String(u)),l>2?`one of ${s} ${a.slice(0,l-1).join(", ")}, or `+a[l-1]:l===2?`one of ${s} ${a[0]} or ${a[1]}`:`of ${s} ${a[0]}`}else return`of ${s} ${String(a)}`}function n(a,s,l){return a.substr(0,s.length)===s}function i(a,s,l){return(l===void 0||l>a.length)&&(l=a.length),a.substring(l-s.length,l)===s}function o(a,s,l){return typeof l!="number"&&(l=0),l+s.length>a.length?!1:a.indexOf(s,l)!==-1}return t("ERR_INVALID_OPT_VALUE",function(a,s){return'The value "'+s+'" is invalid for option "'+a+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(a,s,l){let u;typeof s=="string"&&n(s,"not ")?(u="must not be",s=s.replace(/^not /,"")):u="must be";let f;if(i(a," argument"))f=`The ${a} ${u} ${r(s,"type")}`;else{const c=o(a,".")?"property":"argument";f=`The "${a}" ${c} ${u} ${r(s,"type")}`}return f+=`. Received type ${typeof l}`,f},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Jy.codes=e,Jy}function KU(){if(tA)return Yy;tA=!0;var e=Ih().codes.ERR_INVALID_OPT_VALUE;function t(n,i,o){return n.highWaterMark!=null?n.highWaterMark:i?n[o]:null}function r(n,i,o,a){var s=t(i,a,o);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var l=a?o:"highWaterMark";throw new e(l,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return Yy={getHighWaterMark:r},Yy}function o7(){if(rA)return Xy;rA=!0,Xy=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function o(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this||Qy,arguments)}return o}function t(r){try{if(!Qy.localStorage)return!1}catch{return!1}var n=Qy.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Xy}function JU(){if(nA)return Zy;nA=!0;var e=qr;Zy=P;function t(J){var Y=this;this.next=null,this.entry=null,this.finish=function(){ie(Y,J)}}var r;P.WritableState=d;var n={deprecate:o7()},i=GU(),o=$l.Buffer,a=ez.Uint8Array||function(){};function s(J){return o.from(J)}function l(J){return o.isBuffer(J)||J instanceof a}var u=WU(),f=KU(),c=f.getHighWaterMark,h=Ih().codes,m=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,_=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,p=h.ERR_STREAM_DESTROYED,E=h.ERR_STREAM_NULL_VALUES,y=h.ERR_STREAM_WRITE_AFTER_END,S=h.ERR_UNKNOWN_ENCODING,$=u.errorOrDestroy;Rf()(P,i);function T(){}function d(J,Y,oe){r=r||vh(),J=J||{},typeof oe!="boolean"&&(oe=Y instanceof r),this.objectMode=!!J.objectMode,oe&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=c(this,J,"writableHighWaterMark",oe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var _e=J.decodeStrings===!1;this.decodeStrings=!_e,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ye){ce(Y,ye)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}d.prototype.getBuffer=function(){for(var Y=this.bufferedRequest,oe=[];Y;)oe.push(Y),Y=Y.next;return oe},function(){try{Object.defineProperty(d.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var A;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(Y){return A.call(this,Y)?!0:this!==P?!1:Y&&Y._writableState instanceof d}})):A=function(Y){return Y instanceof this};function P(J){r=r||vh();var Y=this instanceof r;if(!Y&&!A.call(P,this))return new P(J);this._writableState=new d(J,this,Y),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),i.call(this)}P.prototype.pipe=function(){$(this,new v)};function x(J,Y){var oe=new y;$(J,oe),e.nextTick(Y,oe)}function D(J,Y,oe,_e){var ye;return oe===null?ye=new E:typeof oe!="string"&&!Y.objectMode&&(ye=new m("chunk",["string","Buffer"],oe)),ye?($(J,ye),e.nextTick(_e,ye),!1):!0}P.prototype.write=function(J,Y,oe){var _e=this._writableState,ye=!1,R=!_e.objectMode&&l(J);return R&&!o.isBuffer(J)&&(J=s(J)),typeof Y=="function"&&(oe=Y,Y=null),R?Y="buffer":Y||(Y=_e.defaultEncoding),typeof oe!="function"&&(oe=T),_e.ending?x(this,oe):(R||D(this,_e,J,oe))&&(_e.pendingcb++,ye=V(this,_e,R,J,Y,oe)),ye},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&M(this,J))},P.prototype.setDefaultEncoding=function(Y){if(typeof Y=="string"&&(Y=Y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Y+"").toLowerCase())>-1))throw new S(Y);return this._writableState.defaultEncoding=Y,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function F(J,Y,oe){return!J.objectMode&&J.decodeStrings!==!1&&typeof Y=="string"&&(Y=o.from(Y,oe)),Y}Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function V(J,Y,oe,_e,ye,R){if(!oe){var I=F(Y,_e,ye);_e!==I&&(oe=!0,ye="buffer",_e=I)}var N=Y.objectMode?1:_e.length;Y.length+=N;var H=Y.length<Y.highWaterMark;if(H||(Y.needDrain=!0),Y.writing||Y.corked){var re=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:_e,encoding:ye,isBuf:oe,callback:R,next:null},re?re.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else X(J,Y,!1,N,_e,ye,R);return H}function X(J,Y,oe,_e,ye,R,I){Y.writelen=_e,Y.writecb=I,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new p("write")):oe?J._writev(ye,Y.onwrite):J._write(ye,R,Y.onwrite),Y.sync=!1}function G(J,Y,oe,_e,ye){--Y.pendingcb,oe?(e.nextTick(ye,_e),e.nextTick(k,J,Y),J._writableState.errorEmitted=!0,$(J,_e)):(ye(_e),J._writableState.errorEmitted=!0,$(J,_e),k(J,Y))}function Q(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function ce(J,Y){var oe=J._writableState,_e=oe.sync,ye=oe.writecb;if(typeof ye!="function")throw new _;if(Q(oe),Y)G(J,oe,_e,Y,ye);else{var R=B(oe)||J.destroyed;!R&&!oe.corked&&!oe.bufferProcessing&&oe.bufferedRequest&&M(J,oe),_e?e.nextTick(ee,J,oe,R,ye):ee(J,oe,R,ye)}}function ee(J,Y,oe,_e){oe||ae(J,Y),Y.pendingcb--,_e(),k(J,Y)}function ae(J,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,J.emit("drain"))}function M(J,Y){Y.bufferProcessing=!0;var oe=Y.bufferedRequest;if(J._writev&&oe&&oe.next){var _e=Y.bufferedRequestCount,ye=new Array(_e),R=Y.corkedRequestsFree;R.entry=oe;for(var I=0,N=!0;oe;)ye[I]=oe,oe.isBuf||(N=!1),oe=oe.next,I+=1;ye.allBuffers=N,X(J,Y,!0,Y.length,ye,"",R.finish),Y.pendingcb++,Y.lastBufferedRequest=null,R.next?(Y.corkedRequestsFree=R.next,R.next=null):Y.corkedRequestsFree=new t(Y),Y.bufferedRequestCount=0}else{for(;oe;){var H=oe.chunk,re=oe.encoding,le=oe.callback,fe=Y.objectMode?1:H.length;if(X(J,Y,!1,fe,H,re,le),oe=oe.next,Y.bufferedRequestCount--,Y.writing)break}oe===null&&(Y.lastBufferedRequest=null)}Y.bufferedRequest=oe,Y.bufferProcessing=!1}P.prototype._write=function(J,Y,oe){oe(new g("_write()"))},P.prototype._writev=null,P.prototype.end=function(J,Y,oe){var _e=this._writableState;return typeof J=="function"?(oe=J,J=null,Y=null):typeof Y=="function"&&(oe=Y,Y=null),J!=null&&this.write(J,Y),_e.corked&&(_e.corked=1,this.uncork()),_e.ending||q(this,_e,oe),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function K(J,Y){J._final(function(oe){Y.pendingcb--,oe&&$(J,oe),Y.prefinished=!0,J.emit("prefinish"),k(J,Y)})}function O(J,Y){!Y.prefinished&&!Y.finalCalled&&(typeof J._final=="function"&&!Y.destroyed?(Y.pendingcb++,Y.finalCalled=!0,e.nextTick(K,J,Y)):(Y.prefinished=!0,J.emit("prefinish")))}function k(J,Y){var oe=B(Y);if(oe&&(O(J,Y),Y.pendingcb===0&&(Y.finished=!0,J.emit("finish"),Y.autoDestroy))){var _e=J._readableState;(!_e||_e.autoDestroy&&_e.endEmitted)&&J.destroy()}return oe}function q(J,Y,oe){Y.ending=!0,k(J,Y),oe&&(Y.finished?e.nextTick(oe):J.once("finish",oe)),Y.ended=!0,J.writable=!1}function ie(J,Y,oe){var _e=J.entry;for(J.entry=null;_e;){var ye=_e.callback;Y.pendingcb--,ye(oe),_e=_e.next}Y.corkedRequestsFree.next=J}return Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Y){this._writableState&&(this._writableState.destroyed=Y)}}),P.prototype.destroy=u.destroy,P.prototype._undestroy=u.undestroy,P.prototype._destroy=function(J,Y){Y(J)},Zy}function vh(){if(iA)return e0;iA=!0;var e=qr,t=Object.keys||function(f){var c=[];for(var h in f)c.push(h);return c};e0=s;var r=YU(),n=JU();Rf()(s,r);for(var i=t(n.prototype),o=0;o<i.length;o++){var a=i[o];s.prototype[a]||(s.prototype[a]=n.prototype[a])}function s(f){if(!(this instanceof s))return new s(f);r.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||e.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),e0}function hR(){if(oA)return t0;oA=!0;var e=Ih().codes.ERR_STREAM_PREMATURE_CLOSE;function t(o){var a=!1;return function(){if(!a){a=!0;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];o.apply(this,l)}}}function r(){}function n(o){return o.setHeader&&typeof o.abort=="function"}function i(o,a,s){if(typeof a=="function")return i(o,null,a);a||(a={}),s=t(s||r);var l=a.readable||a.readable!==!1&&o.readable,u=a.writable||a.writable!==!1&&o.writable,f=function(){o.writable||h()},c=o._writableState&&o._writableState.finished,h=function(){u=!1,c=!0,l||s.call(o)},m=o._readableState&&o._readableState.endEmitted,g=function(){l=!1,m=!0,u||s.call(o)},_=function(y){s.call(o,y)},v=function(){var y;if(l&&!m)return(!o._readableState||!o._readableState.ended)&&(y=new e),s.call(o,y);if(u&&!c)return(!o._writableState||!o._writableState.ended)&&(y=new e),s.call(o,y)},p=function(){o.req.on("finish",h)};return n(o)?(o.on("complete",h),o.on("abort",v),o.req?p():o.on("request",p)):u&&!o._writableState&&(o.on("end",f),o.on("close",f)),o.on("end",g),o.on("finish",h),a.error!==!1&&o.on("error",_),o.on("close",v),function(){o.removeListener("complete",h),o.removeListener("abort",v),o.removeListener("request",p),o.req&&o.req.removeListener("finish",h),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",h),o.removeListener("end",g),o.removeListener("error",_),o.removeListener("close",v)}}return t0=i,t0}function a7(){if(aA)return r0;aA=!0;var e=qr,t;function r(E,y,S){return y in E?Object.defineProperty(E,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[y]=S,E}var n=hR(),i=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),s=Symbol("ended"),l=Symbol("lastPromise"),u=Symbol("handlePromise"),f=Symbol("stream");function c(E,y){return{value:E,done:y}}function h(E){var y=E[i];if(y!==null){var S=E[f].read();S!==null&&(E[l]=null,E[i]=null,E[o]=null,y(c(S,!1)))}}function m(E){e.nextTick(h,E)}function g(E,y){return function(S,$){E.then(function(){if(y[s]){S(c(void 0,!0));return}y[u](S,$)},$)}}var _=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var y=this,S=this[a];if(S!==null)return Promise.reject(S);if(this[s])return Promise.resolve(c(void 0,!0));if(this[f].destroyed)return new Promise(function(A,P){e.nextTick(function(){y[a]?P(y[a]):A(c(void 0,!0))})});var $=this[l],T;if($)T=new Promise(g($,this));else{var d=this[f].read();if(d!==null)return Promise.resolve(c(d,!1));T=new Promise(this[u])}return this[l]=T,T}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var y=this;return new Promise(function(S,$){y[f].destroy(null,function(T){if(T){$(T);return}S(c(void 0,!0))})})}),t),_),p=function(y){var S,$=Object.create(v,(S={},r(S,f,{value:y,writable:!0}),r(S,i,{value:null,writable:!0}),r(S,o,{value:null,writable:!0}),r(S,a,{value:null,writable:!0}),r(S,s,{value:y._readableState.endEmitted,writable:!0}),r(S,u,{value:function(d,A){var P=$[f].read();P?($[l]=null,$[i]=null,$[o]=null,d(c(P,!1))):($[i]=d,$[o]=A)},writable:!0}),S));return $[l]=null,n(y,function(T){if(T&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"){var d=$[o];d!==null&&($[l]=null,$[i]=null,$[o]=null,d(T)),$[a]=T;return}var A=$[i];A!==null&&($[l]=null,$[i]=null,$[o]=null,A(c(void 0,!0))),$[s]=!0}),y.on("readable",m.bind(null,$)),$};return r0=p,r0}function s7(){return sA||(sA=!0,n0=function(){throw new Error("Readable.from is not available in the browser")}),n0}function YU(){if(lA)return i0;lA=!0;var e=qr;i0=x;var t;x.ReadableState=P,Ki.EventEmitter;var r=function(I,N){return I.listeners(N).length},n=GU(),i=$l.Buffer,o=tz.Uint8Array||function(){};function a(R){return i.from(R)}function s(R){return i.isBuffer(R)||R instanceof o}var l=ct,u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var f=i7(),c=WU(),h=KU(),m=h.getHighWaterMark,g=Ih().codes,_=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,p=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,S,$;Rf()(x,n);var T=c.errorOrDestroy,d=["error","close","destroy","pause","resume"];function A(R,I,N){if(typeof R.prependListener=="function")return R.prependListener(I,N);!R._events||!R._events[I]?R.on(I,N):Array.isArray(R._events[I])?R._events[I].unshift(N):R._events[I]=[N,R._events[I]]}function P(R,I,N){t=t||vh(),R=R||{},typeof N!="boolean"&&(N=I instanceof t),this.objectMode=!!R.objectMode,N&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=m(this,R,"readableHighWaterMark",N),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(y||(y=Ab.StringDecoder),this.decoder=new y(R.encoding),this.encoding=R.encoding)}function x(R){if(t=t||vh(),!(this instanceof x))return new x(R);var I=this instanceof t;this._readableState=new P(R,this,I),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),n.call(this)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),x.prototype.destroy=c.destroy,x.prototype._undestroy=c.undestroy,x.prototype._destroy=function(R,I){I(R)},x.prototype.push=function(R,I){var N=this._readableState,H;return N.objectMode?H=!0:typeof R=="string"&&(I=I||N.defaultEncoding,I!==N.encoding&&(R=i.from(R,I),I=""),H=!0),D(this,R,I,!1,H)},x.prototype.unshift=function(R){return D(this,R,null,!0,!1)};function D(R,I,N,H,re){u("readableAddChunk",I);var le=R._readableState;if(I===null)le.reading=!1,ce(R,le);else{var fe;if(re||(fe=V(le,I)),fe)T(R,fe);else if(le.objectMode||I&&I.length>0)if(typeof I!="string"&&!le.objectMode&&Object.getPrototypeOf(I)!==i.prototype&&(I=a(I)),H)le.endEmitted?T(R,new E):F(R,le,I,!0);else if(le.ended)T(R,new v);else{if(le.destroyed)return!1;le.reading=!1,le.decoder&&!N?(I=le.decoder.write(I),le.objectMode||I.length!==0?F(R,le,I,!1):M(R,le)):F(R,le,I,!1)}else H||(le.reading=!1,M(R,le))}return!le.ended&&(le.length<le.highWaterMark||le.length===0)}function F(R,I,N,H){I.flowing&&I.length===0&&!I.sync?(I.awaitDrain=0,R.emit("data",N)):(I.length+=I.objectMode?1:N.length,H?I.buffer.unshift(N):I.buffer.push(N),I.needReadable&&ee(R)),M(R,I)}function V(R,I){var N;return!s(I)&&typeof I!="string"&&I!==void 0&&!R.objectMode&&(N=new _("chunk",["string","Buffer","Uint8Array"],I)),N}x.prototype.isPaused=function(){return this._readableState.flowing===!1},x.prototype.setEncoding=function(R){y||(y=Ab.StringDecoder);var I=new y(R);this._readableState.decoder=I,this._readableState.encoding=this._readableState.decoder.encoding;for(var N=this._readableState.buffer.head,H="";N!==null;)H+=I.write(N.data),N=N.next;return this._readableState.buffer.clear(),H!==""&&this._readableState.buffer.push(H),this._readableState.length=H.length,this};var X=1073741824;function G(R){return R>=X?R=X:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function Q(R,I){return R<=0||I.length===0&&I.ended?0:I.objectMode?1:R!==R?I.flowing&&I.length?I.buffer.head.data.length:I.length:(R>I.highWaterMark&&(I.highWaterMark=G(R)),R<=I.length?R:I.ended?I.length:(I.needReadable=!0,0))}x.prototype.read=function(R){u("read",R),R=parseInt(R,10);var I=this._readableState,N=R;if(R!==0&&(I.emittedReadable=!1),R===0&&I.needReadable&&((I.highWaterMark!==0?I.length>=I.highWaterMark:I.length>0)||I.ended))return u("read: emitReadable",I.length,I.ended),I.length===0&&I.ended?oe(this):ee(this),null;if(R=Q(R,I),R===0&&I.ended)return I.length===0&&oe(this),null;var H=I.needReadable;u("need readable",H),(I.length===0||I.length-R<I.highWaterMark)&&(H=!0,u("length less than watermark",H)),I.ended||I.reading?(H=!1,u("reading or ended",H)):H&&(u("do read"),I.reading=!0,I.sync=!0,I.length===0&&(I.needReadable=!0),this._read(I.highWaterMark),I.sync=!1,I.reading||(R=Q(N,I)));var re;return R>0?re=Y(R,I):re=null,re===null?(I.needReadable=I.length<=I.highWaterMark,R=0):(I.length-=R,I.awaitDrain=0),I.length===0&&(I.ended||(I.needReadable=!0),N!==R&&I.ended&&oe(this)),re!==null&&this.emit("data",re),re};function ce(R,I){if(u("onEofChunk"),!I.ended){if(I.decoder){var N=I.decoder.end();N&&N.length&&(I.buffer.push(N),I.length+=I.objectMode?1:N.length)}I.ended=!0,I.sync?ee(R):(I.needReadable=!1,I.emittedReadable||(I.emittedReadable=!0,ae(R)))}}function ee(R){var I=R._readableState;u("emitReadable",I.needReadable,I.emittedReadable),I.needReadable=!1,I.emittedReadable||(u("emitReadable",I.flowing),I.emittedReadable=!0,e.nextTick(ae,R))}function ae(R){var I=R._readableState;u("emitReadable_",I.destroyed,I.length,I.ended),!I.destroyed&&(I.length||I.ended)&&(R.emit("readable"),I.emittedReadable=!1),I.needReadable=!I.flowing&&!I.ended&&I.length<=I.highWaterMark,J(R)}function M(R,I){I.readingMore||(I.readingMore=!0,e.nextTick(B,R,I))}function B(R,I){for(;!I.reading&&!I.ended&&(I.length<I.highWaterMark||I.flowing&&I.length===0);){var N=I.length;if(u("maybeReadMore read 0"),R.read(0),N===I.length)break}I.readingMore=!1}x.prototype._read=function(R){T(this,new p("_read()"))},x.prototype.pipe=function(R,I){var N=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=R;break;case 1:H.pipes=[H.pipes,R];break;default:H.pipes.push(R);break}H.pipesCount+=1,u("pipe count=%d opts=%j",H.pipesCount,I);var re=(!I||I.end!==!1)&&R!==e.stdout&&R!==e.stderr,le=re?me:C;H.endEmitted?e.nextTick(le):N.once("end",le),R.on("unpipe",fe);function fe(L,ne){u("onunpipe"),L===N&&ne&&ne.hasUnpiped===!1&&(ne.hasUnpiped=!0,je())}function me(){u("onend"),R.end()}var Re=K(N);R.on("drain",Re);var Le=!1;function je(){u("cleanup"),R.removeListener("close",Ue),R.removeListener("finish",W),R.removeListener("drain",Re),R.removeListener("error",Ge),R.removeListener("unpipe",fe),N.removeListener("end",me),N.removeListener("end",C),N.removeListener("data",tt),Le=!0,H.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&Re()}N.on("data",tt);function tt(L){u("ondata");var ne=R.write(L);u("dest.write",ne),ne===!1&&((H.pipesCount===1&&H.pipes===R||H.pipesCount>1&&ye(H.pipes,R)!==-1)&&!Le&&(u("false write response, pause",H.awaitDrain),H.awaitDrain++),N.pause())}function Ge(L){u("onerror",L),C(),R.removeListener("error",Ge),r(R,"error")===0&&T(R,L)}A(R,"error",Ge);function Ue(){R.removeListener("finish",W),C()}R.once("close",Ue);function W(){u("onfinish"),R.removeListener("close",Ue),C()}R.once("finish",W);function C(){u("unpipe"),N.unpipe(R)}return R.emit("pipe",N),H.flowing||(u("pipe resume"),N.resume()),R};function K(R){return function(){var N=R._readableState;u("pipeOnDrain",N.awaitDrain),N.awaitDrain&&N.awaitDrain--,N.awaitDrain===0&&r(R,"data")&&(N.flowing=!0,J(R))}}x.prototype.unpipe=function(R){var I=this._readableState,N={hasUnpiped:!1};if(I.pipesCount===0)return this;if(I.pipesCount===1)return R&&R!==I.pipes?this:(R||(R=I.pipes),I.pipes=null,I.pipesCount=0,I.flowing=!1,R&&R.emit("unpipe",this,N),this);if(!R){var H=I.pipes,re=I.pipesCount;I.pipes=null,I.pipesCount=0,I.flowing=!1;for(var le=0;le<re;le++)H[le].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=ye(I.pipes,R);return fe===-1?this:(I.pipes.splice(fe,1),I.pipesCount-=1,I.pipesCount===1&&(I.pipes=I.pipes[0]),R.emit("unpipe",this,N),this)},x.prototype.on=function(R,I){var N=n.prototype.on.call(this,R,I),H=this._readableState;return R==="data"?(H.readableListening=this.listenerCount("readable")>0,H.flowing!==!1&&this.resume()):R==="readable"&&!H.endEmitted&&!H.readableListening&&(H.readableListening=H.needReadable=!0,H.flowing=!1,H.emittedReadable=!1,u("on readable",H.length,H.reading),H.length?ee(this):H.reading||e.nextTick(k,this)),N},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(R,I){var N=n.prototype.removeListener.call(this,R,I);return R==="readable"&&e.nextTick(O,this),N},x.prototype.removeAllListeners=function(R){var I=n.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&e.nextTick(O,this),I};function O(R){var I=R._readableState;I.readableListening=R.listenerCount("readable")>0,I.resumeScheduled&&!I.paused?I.flowing=!0:R.listenerCount("data")>0&&R.resume()}function k(R){u("readable nexttick read 0"),R.read(0)}x.prototype.resume=function(){var R=this._readableState;return R.flowing||(u("resume"),R.flowing=!R.readableListening,q(this,R)),R.paused=!1,this};function q(R,I){I.resumeScheduled||(I.resumeScheduled=!0,e.nextTick(ie,R,I))}function ie(R,I){u("resume",I.reading),I.reading||R.read(0),I.resumeScheduled=!1,R.emit("resume"),J(R),I.flowing&&!I.reading&&R.read(0)}x.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(R){var I=R._readableState;for(u("flow",I.flowing);I.flowing&&R.read()!==null;);}x.prototype.wrap=function(R){var I=this,N=this._readableState,H=!1;R.on("end",function(){if(u("wrapped end"),N.decoder&&!N.ended){var fe=N.decoder.end();fe&&fe.length&&I.push(fe)}I.push(null)}),R.on("data",function(fe){if(u("wrapped data"),N.decoder&&(fe=N.decoder.write(fe)),!(N.objectMode&&fe==null)&&!(!N.objectMode&&(!fe||!fe.length))){var me=I.push(fe);me||(H=!0,R.pause())}});for(var re in R)this[re]===void 0&&typeof R[re]=="function"&&(this[re]=function(me){return function(){return R[me].apply(R,arguments)}}(re));for(var le=0;le<d.length;le++)R.on(d[le],this.emit.bind(this,d[le]));return this._read=function(fe){u("wrapped _read",fe),H&&(H=!1,R.resume())},this},typeof Symbol=="function"&&(x.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=a7()),S(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){this._readableState&&(this._readableState.flowing=I)}}),x._fromList=Y,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Y(R,I){if(I.length===0)return null;var N;return I.objectMode?N=I.buffer.shift():!R||R>=I.length?(I.decoder?N=I.buffer.join(""):I.buffer.length===1?N=I.buffer.first():N=I.buffer.concat(I.length),I.buffer.clear()):N=I.buffer.consume(R,I.decoder),N}function oe(R){var I=R._readableState;u("endReadable",I.endEmitted),I.endEmitted||(I.ended=!0,e.nextTick(_e,I,R))}function _e(R,I){if(u("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,I.readable=!1,I.emit("end"),R.autoDestroy)){var N=I._writableState;(!N||N.autoDestroy&&N.finished)&&I.destroy()}}typeof Symbol=="function"&&(x.from=function(R,I){return $===void 0&&($=s7()),$(x,R,I)});function ye(R,I){for(var N=0,H=R.length;N<H;N++)if(R[N]===I)return N;return-1}return i0}function XU(){if(uA)return o0;uA=!0,o0=s;var e=Ih().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=vh();Rf()(s,o);function a(f,c){var h=this._transformState;h.transforming=!1;var m=h.writecb;if(m===null)return this.emit("error",new r);h.writechunk=null,h.writecb=null,c!=null&&this.push(c),m(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function s(f){if(!(this instanceof s))return new s(f);o.call(this,f),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,h){u(f,c,h)}):u(this,null,null)}s.prototype.push=function(f,c){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,c)},s.prototype._transform=function(f,c,h){h(new t("_transform()"))},s.prototype._write=function(f,c,h){var m=this._transformState;if(m.writecb=h,m.writechunk=f,m.writeencoding=c,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},s.prototype._read=function(f){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},s.prototype._destroy=function(f,c){o.prototype._destroy.call(this,f,function(h){c(h)})};function u(f,c,h){if(c)return f.emit("error",c);if(h!=null&&f.push(h),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return o0}function l7(){if(cA)return a0;cA=!0,a0=t;var e=XU();Rf()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},a0}function u7(){if(fA)return s0;fA=!0;var e;function t(h){var m=!1;return function(){m||(m=!0,h.apply(void 0,arguments))}}var r=Ih().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function o(h){if(h)throw h}function a(h){return h.setHeader&&typeof h.abort=="function"}function s(h,m,g,_){_=t(_);var v=!1;h.on("close",function(){v=!0}),e===void 0&&(e=hR()),e(h,{readable:m,writable:g},function(E){if(E)return _(E);v=!0,_()});var p=!1;return function(E){if(!v&&!p){if(p=!0,a(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();_(E||new i("pipe"))}}}function l(h){h()}function u(h,m){return h.pipe(m)}function f(h){return!h.length||typeof h[h.length-1]!="function"?o:h.pop()}function c(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];var _=f(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new n("streams");var v,p=m.map(function(E,y){var S=y<m.length-1,$=y>0;return s(E,S,$,function(T){v||(v=T),T&&p.forEach(l),!S&&(p.forEach(l),_(v))})});return m.reduce(u)}return s0=c,s0}var Gj,Qa,Do,Wj,Tv,$c,Kj,Jj,_s,Tb,Fc,zS,QU,ZU,ap,sp,Ga,Yj,Ab,Pb,GT,md,WT,Ap,KT,du,JT,$l,Pp,YT,Gy,XT,Wy,QT,Ky,ZT,Jy,eA,Yy,tA,Xy,rA,Qy,Zy,nA,ez,e0,iA,t0,oA,r0,aA,n0,sA,i0,lA,tz,o0,uA,a0,cA,s0,fA,rz=tn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-B738Er4n.js"(){for(Ae(),D_(),fg(),M_(),Gj={byteLength:function(e){var t=Fj(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=Fj(e),i=n[0],o=n[1],a=new Wj(function(u,f,c){return 3*(f+c)/4-c}(0,i,o)),s=0,l=o>0?i-4:i;for(r=0;r<l;r+=4)t=Do[e.charCodeAt(r)]<<18|Do[e.charCodeAt(r+1)]<<12|Do[e.charCodeAt(r+2)]<<6|Do[e.charCodeAt(r+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return o===2&&(t=Do[e.charCodeAt(r)]<<2|Do[e.charCodeAt(r+1)]>>4,a[s++]=255&t),o===1&&(t=Do[e.charCodeAt(r)]<<10|Do[e.charCodeAt(r+1)]<<4|Do[e.charCodeAt(r+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a},fromByteArray:function(e){for(var t,r=e.length,n=r%3,i=[],o=0,a=r-n;o<a;o+=16383)i.push(DZ(e,o,o+16383>a?a:o+16383));return n===1?(t=e[r-1],i.push(Qa[t>>2]+Qa[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Qa[t>>10]+Qa[t>>4&63]+Qa[t<<2&63]+"=")),i.join("")}},Qa=[],Do=[],Wj=typeof Uint8Array<"u"?Uint8Array:Array,Tv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$c=0,Kj=Tv.length;$c<Kj;++$c)Qa[$c]=Tv[$c],Do[Tv.charCodeAt($c)]=$c;Do[45]=62,Do[95]=63,Jj={read:function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,f=-7,c=r?i-1:0,h=r?-1:1,m=e[t+c];for(c+=h,o=m&(1<<-f)-1,m>>=-f,f+=s;f>0;o=256*o+e[t+c],c+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+e[t+c],c+=h,f-=8);if(o===0)o=1-u;else{if(o===l)return a?NaN:1/0*(m?-1:1);a+=Math.pow(2,n),o-=u}return(m?-1:1)*a*Math.pow(2,o-n)},write:function(e,t,r,n,i,o){var a,s,l,u=8*o-i-1,f=(1<<u)-1,c=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+c>=1?h/l:h*Math.pow(2,1-c))*l>=2&&(a++,l/=2),a+c>=f?(s=0,a=f):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+m]=255&s,m+=g,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+m]=255&a,m+=g,a/=256,u-=8);e[r+m-g]|=128*_}},_s={},Tb=Gj,Fc=Jj,zS=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,_s.Buffer=gt,_s.SlowBuffer=function(e){return+e!=e&&(e=0),gt.alloc(+e)},_s.INSPECT_MAX_BYTES=50,_s.kMaxLength=2147483647,gt.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}(),gt.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(gt.prototype,"parent",{enumerable:!0,get:function(){if(gt.isBuffer(this))return this.buffer}}),Object.defineProperty(gt.prototype,"offset",{enumerable:!0,get:function(){if(gt.isBuffer(this))return this.byteOffset}}),gt.poolSize=8192,gt.from=function(e,t,r){return FU(e,t,r)},Object.setPrototypeOf(gt.prototype,Uint8Array.prototype),Object.setPrototypeOf(gt,Uint8Array),gt.alloc=function(e,t,r){return function(n,i,o){return BU(n),n<=0?El(n):i!==void 0?typeof o=="string"?El(n).fill(i,o):El(n).fill(i):El(n)}(e,t,r)},gt.allocUnsafe=function(e){return VT(e)},gt.allocUnsafeSlow=function(e){return VT(e)},gt.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==gt.prototype},gt.compare=function(e,t){if(Sl(e,Uint8Array)&&(e=gt.from(e,e.offset,e.byteLength)),Sl(t,Uint8Array)&&(t=gt.from(t,t.offset,t.byteLength)),!gt.isBuffer(e)||!gt.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},gt.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},gt.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return gt.alloc(0);var r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=gt.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(Sl(o,Uint8Array)&&(o=gt.from(o)),!gt.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},gt.byteLength=UU,gt.prototype._isBuffer=!0,gt.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Ec(this,t,t+1);return this},gt.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Ec(this,t,t+3),Ec(this,t+1,t+2);return this},gt.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Ec(this,t,t+7),Ec(this,t+1,t+6),Ec(this,t+2,t+5),Ec(this,t+3,t+4);return this},gt.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?qU(this,0,e):MZ.apply(this,arguments)},gt.prototype.toLocaleString=gt.prototype.toString,gt.prototype.equals=function(e){if(!gt.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||gt.compare(this,e)===0},gt.prototype.inspect=function(){var e="",t=_s.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},zS&&(gt.prototype[zS]=gt.prototype.inspect),gt.prototype.compare=function(e,t,r,n,i){if(Sl(e,Uint8Array)&&(e=gt.from(e,e.offset,e.byteLength)),!gt.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(n,i),u=e.slice(t,r),f=0;f<s;++f)if(l[f]!==u[f]){o=l[f],a=u[f];break}return o<a?-1:a<o?1:0},gt.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},gt.prototype.indexOf=function(e,t,r){return Uj(this,e,t,r,!0)},gt.prototype.lastIndexOf=function(e,t,r){return Uj(this,e,t,r,!1)},gt.prototype.write=function(e,t,r,n){if(t===void 0)n="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,n===void 0&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((r===void 0||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return LZ(this,e,t,r);case"utf8":case"utf-8":return FZ(this,e,t,r);case"ascii":return zU(this,e,t,r);case"latin1":case"binary":return BZ(this,e,t,r);case"base64":return UZ(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zZ(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},gt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},gt.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=t===void 0?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,gt.prototype),n},gt.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||ii(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},gt.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||ii(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},gt.prototype.readUInt8=function(e,t){return e>>>=0,t||ii(e,1,this.length),this[e]},gt.prototype.readUInt16LE=function(e,t){return e>>>=0,t||ii(e,2,this.length),this[e]|this[e+1]<<8},gt.prototype.readUInt16BE=function(e,t){return e>>>=0,t||ii(e,2,this.length),this[e]<<8|this[e+1]},gt.prototype.readUInt32LE=function(e,t){return e>>>=0,t||ii(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},gt.prototype.readUInt32BE=function(e,t){return e>>>=0,t||ii(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},gt.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||ii(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},gt.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||ii(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},gt.prototype.readInt8=function(e,t){return e>>>=0,t||ii(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},gt.prototype.readInt16LE=function(e,t){e>>>=0,t||ii(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},gt.prototype.readInt16BE=function(e,t){e>>>=0,t||ii(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},gt.prototype.readInt32LE=function(e,t){return e>>>=0,t||ii(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},gt.prototype.readInt32BE=function(e,t){return e>>>=0,t||ii(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},gt.prototype.readFloatLE=function(e,t){return e>>>=0,t||ii(e,4,this.length),Fc.read(this,e,!0,23,4)},gt.prototype.readFloatBE=function(e,t){return e>>>=0,t||ii(e,4,this.length),Fc.read(this,e,!1,23,4)},gt.prototype.readDoubleLE=function(e,t){return e>>>=0,t||ii(e,8,this.length),Fc.read(this,e,!0,52,8)},gt.prototype.readDoubleBE=function(e,t){return e>>>=0,t||ii(e,8,this.length),Fc.read(this,e,!1,52,8)},gt.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||co(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},gt.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||co(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},gt.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||co(this,e,t,1,255,0),this[t]=255&e,t+1},gt.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||co(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},gt.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||co(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},gt.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||co(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},gt.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||co(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},gt.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);co(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&s===0&&this[t+o-1]!==0&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},gt.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);co(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&s===0&&this[t+o+1]!==0&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},gt.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||co(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},gt.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||co(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},gt.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||co(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},gt.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||co(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},gt.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||co(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},gt.prototype.writeFloatLE=function(e,t,r){return qj(this,e,t,!0,r)},gt.prototype.writeFloatBE=function(e,t,r){return qj(this,e,t,!1,r)},gt.prototype.writeDoubleLE=function(e,t,r){return Vj(this,e,t,!0,r)},gt.prototype.writeDoubleBE=function(e,t,r){return Vj(this,e,t,!1,r)},gt.prototype.copy=function(e,t,r,n){if(!gt.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||n===0||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},gt.prototype.fill=function(e,t,r,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!gt.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var i=e.charCodeAt(0);(n==="utf8"&&i<128||n==="latin1")&&(e=i)}}else typeof e=="number"?e&=255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=r===void 0?this.length:r>>>0,e||(e=0),typeof e=="number")for(o=t;o<r;++o)this[o]=e;else{var a=gt.isBuffer(e)?e:gt.from(e,n),s=a.length;if(s===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this},QU=/[^+/0-9A-Za-z-_]/g,ZU=function(){for(var e=new Array(256),t=0;t<16;++t)for(var r=16*t,n=0;n<16;++n)e[r+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];return e}(),_s.Buffer,_s.INSPECT_MAX_BYTES,_s.kMaxLength,ap={},sp=_s,Ga=sp.Buffer,Ga.from&&Ga.alloc&&Ga.allocUnsafe&&Ga.allocUnsafeSlow?ap=sp:(Hj(sp,ap),ap.Buffer=Sc),Sc.prototype=Object.create(Ga.prototype),Hj(Ga,Sc),Sc.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Ga(e,t,r)},Sc.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Ga(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n},Sc.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ga(e)},Sc.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return sp.SlowBuffer(e)},Yj=ap,Ab={},Pb=Yj.Buffer,GT=Pb.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Ab.StringDecoder=op,op.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if((t=this.fillLast(e))===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},op.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},op.prototype.text=function(e,t){var r=function(i,o,a){var s=o.length-1;if(s<a)return 0;var l=US(o[s]);return l>=0?(l>0&&(i.lastNeed=l-1),l):--s<a||l===-2?0:(l=US(o[s]))>=0?(l>0&&(i.lastNeed=l-2),l):--s<a||l===-2?0:(l=US(o[s]))>=0?(l>0&&(l===2?l=0:i.lastNeed=l-3),l):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},op.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},md={},WT=!1,Ap={},KT=!1,du={},JT=!1,$l=n7(),$l.Buffer,$l.INSPECT_MAX_BYTES,$l.kMaxLength,Pp={},YT=!1,Gy={},XT=!1,Wy={},QT=!1,Ky={},ZT=!1,Jy={},eA=!1,Yy={},tA=!1,Xy={},rA=!1,Qy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Zy={},nA=!1,ez=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,e0={},iA=!1,t0={},oA=!1,r0={},aA=!1,n0={},sA=!1,i0={},lA=!1,tz=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,o0={},uA=!1,a0={},cA=!1,s0={},fA=!1}});function nz(){return dA||(dA=!0,Vi=Vi=YU(),Vi.Stream=Vi,Vi.Readable=Vi,Vi.Writable=JU(),Vi.Duplex=vh(),Vi.Transform=XU(),Vi.PassThrough=l7(),Vi.finished=hR(),Vi.pipeline=u7()),Vi}var Vi,dA,c7=tn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-C4rKjYLo.js"(){Ae(),rz(),Vi={},dA=!1}}),hg={};Ys(hg,{Agent:()=>sz,ClientRequest:()=>lz,IncomingMessage:()=>uz,METHODS:()=>cz,STATUS_CODES:()=>fz,default:()=>Ps,get:()=>dz,globalAgent:()=>hz,request:()=>pz});function iz(){if(hA)return ho;hA=!0,ho.fetch=n(hu.fetch)&&n(hu.ReadableStream),ho.writableStream=n(hu.WritableStream),ho.abortController=n(hu.AbortController);var e;function t(){if(e!==void 0)return e;if(hu.XMLHttpRequest){e=new hu.XMLHttpRequest;try{e.open("GET",hu.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function r(i){var o=t();if(!o)return!1;try{return o.responseType=i,o.responseType===i}catch{}return!1}ho.arraybuffer=ho.fetch||r("arraybuffer"),ho.msstream=!ho.fetch&&r("ms-stream"),ho.mozchunkedarraybuffer=!ho.fetch&&r("moz-chunked-arraybuffer"),ho.overrideMimeType=ho.fetch||(t()?n(t().overrideMimeType):!1);function n(i){return typeof i=="function"}return e=null,ho}function oz(){if(pA)return xp;pA=!0;var e=$l.Buffer,t=qr,r=iz(),n=Rf(),i=nz(),o=xp.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},a=xp.IncomingMessage=function(s,l,u,f){var c=this||Op;if(i.Readable.call(c),c._mode=u,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),u==="fetch"){let p=function(){m.read().then(function(E){if(!c._destroyed){if(f(E.done),E.done){c.push(null);return}c.push(e.from(E.value)),p()}}).catch(function(E){f(!0),c._destroyed||c.emit("error",E)})};if(c._fetchResponse=l,c.url=l.url,c.statusCode=l.status,c.statusMessage=l.statusText,l.headers.forEach(function(E,y){c.headers[y.toLowerCase()]=E,c.rawHeaders.push(y,E)}),r.writableStream){var h=new WritableStream({write:function(E){return f(!1),new Promise(function(y,S){c._destroyed?S():c.push(e.from(E))?y():c._resumeFetch=y})},close:function(){f(!0),c._destroyed||c.push(null)},abort:function(E){f(!0),c._destroyed||c.emit("error",E)}});try{l.body.pipeTo(h).catch(function(E){f(!0),c._destroyed||c.emit("error",E)});return}catch{}}var m=l.body.getReader();p()}else{c._xhr=s,c._pos=0,c.url=s.responseURL,c.statusCode=s.status,c.statusMessage=s.statusText;var g=s.getAllResponseHeaders().split(/\r?\n/);if(g.forEach(function(p){var E=p.match(/^([^:]+):\s*(.*)/);if(E){var y=E[1].toLowerCase();y==="set-cookie"?(c.headers[y]===void 0&&(c.headers[y]=[]),c.headers[y].push(E[2])):c.headers[y]!==void 0?c.headers[y]+=", "+E[2]:c.headers[y]=E[2],c.rawHeaders.push(E[1],E[2])}}),c._charset="x-user-defined",!r.overrideMimeType){var _=c.rawHeaders["mime-type"];if(_){var v=_.match(/;\s*charset=([^;])(;|$)/);v&&(c._charset=v[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};return n(a,i.Readable),a.prototype._read=function(){var s=this||Op,l=s._resumeFetch;l&&(s._resumeFetch=null,l())},a.prototype._onXHRProgress=function(s){var l=this||Op,u=l._xhr,f=null;switch(l._mode){case"text":if(f=u.responseText,f.length>l._pos){var c=f.substr(l._pos);if(l._charset==="x-user-defined"){for(var h=e.alloc(c.length),m=0;m<c.length;m++)h[m]=c.charCodeAt(m)&255;l.push(h)}else l.push(c,l._charset);l._pos=f.length}break;case"arraybuffer":if(u.readyState!==o.DONE||!u.response)break;f=u.response,l.push(e.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=u.response,u.readyState!==o.LOADING||!f)break;l.push(e.from(new Uint8Array(f)));break;case"ms-stream":if(f=u.response,u.readyState!==o.LOADING)break;var g=new Op.MSStreamReader;g.onprogress=function(){g.result.byteLength>l._pos&&(l.push(e.from(new Uint8Array(g.result.slice(l._pos)))),l._pos=g.result.byteLength)},g.onload=function(){s(!0),l.push(null)},g.readAsArrayBuffer(f);break}l._xhr.readyState===o.DONE&&l._mode!=="ms-stream"&&(s(!0),l.push(null))},xp}function f7(){if(mA)return l0;mA=!0;var e=$l.Buffer,t=qr,r=iz(),n=Rf(),i=oz(),o=nz(),a=i.IncomingMessage,s=i.readyStates;function l(h,m){return r.fetch&&m?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&h?"arraybuffer":"text"}var u=l0=function(h){var m=this||Qn;o.Writable.call(m),m._opts=h,m._body=[],m._headers={},h.auth&&m.setHeader("Authorization","Basic "+e.from(h.auth).toString("base64")),Object.keys(h.headers).forEach(function(v){m.setHeader(v,h.headers[v])});var g,_=!0;if(h.mode==="disable-fetch"||"requestTimeout"in h&&!r.abortController)_=!1,g=!0;else if(h.mode==="prefer-streaming")g=!1;else if(h.mode==="allow-wrong-content-type")g=!r.overrideMimeType;else if(!h.mode||h.mode==="default"||h.mode==="prefer-fast")g=!0;else throw new Error("Invalid value for opts.mode");m._mode=l(g,_),m._fetchTimer=null,m._socketTimeout=null,m._socketTimer=null,m.on("finish",function(){m._onFinish()})};n(u,o.Writable),u.prototype.setHeader=function(h,m){var g=this||Qn,_=h.toLowerCase();c.indexOf(_)===-1&&(g._headers[_]={name:h,value:m})},u.prototype.getHeader=function(h){var m=(this||Qn)._headers[h.toLowerCase()];return m?m.value:null},u.prototype.removeHeader=function(h){var m=this||Qn;delete m._headers[h.toLowerCase()]},u.prototype._onFinish=function(){var h=this||Qn;if(!h._destroyed){var m=h._opts;"timeout"in m&&m.timeout!==0&&h.setTimeout(m.timeout);var g=h._headers,_=null;m.method!=="GET"&&m.method!=="HEAD"&&(_=new Blob(h._body,{type:(g["content-type"]||{}).value||""}));var v=[];if(Object.keys(g).forEach(function(S){var $=g[S].name,T=g[S].value;Array.isArray(T)?T.forEach(function(d){v.push([$,d])}):v.push([$,T])}),h._mode==="fetch"){var p=null;if(r.abortController){var E=new AbortController;p=E.signal,h._fetchAbortController=E,"requestTimeout"in m&&m.requestTimeout!==0&&(h._fetchTimer=Qn.setTimeout(function(){h.emit("requestTimeout"),h._fetchAbortController&&h._fetchAbortController.abort()},m.requestTimeout))}Qn.fetch(h._opts.url,{method:h._opts.method,headers:v,body:_||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:p}).then(function(S){h._fetchResponse=S,h._resetTimers(!1),h._connect()},function(S){h._resetTimers(!0),h._destroyed||h.emit("error",S)})}else{var y=h._xhr=new Qn.XMLHttpRequest;try{y.open(h._opts.method,h._opts.url,!0)}catch(S){t.nextTick(function(){h.emit("error",S)});return}"responseType"in y&&(y.responseType=h._mode),"withCredentials"in y&&(y.withCredentials=!!m.withCredentials),h._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(y.timeout=m.requestTimeout,y.ontimeout=function(){h.emit("requestTimeout")}),v.forEach(function(S){y.setRequestHeader(S[0],S[1])}),h._response=null,y.onreadystatechange=function(){switch(y.readyState){case s.LOADING:case s.DONE:h._onXHRProgress();break}},h._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){h._onXHRProgress()}),y.onerror=function(){h._destroyed||(h._resetTimers(!0),h.emit("error",new Error("XHR error")))};try{y.send(_)}catch(S){t.nextTick(function(){h.emit("error",S)});return}}}};function f(h){try{var m=h.status;return m!==null&&m!==0}catch{return!1}}u.prototype._onXHRProgress=function(){var h=this||Qn;h._resetTimers(!1),!(!f(h._xhr)||h._destroyed)&&(h._response||h._connect(),h._response._onXHRProgress(h._resetTimers.bind(h)))},u.prototype._connect=function(){var h=this||Qn;h._destroyed||(h._response=new a(h._xhr,h._fetchResponse,h._mode,h._resetTimers.bind(h)),h._response.on("error",function(m){h.emit("error",m)}),h.emit("response",h._response))},u.prototype._write=function(h,m,g){var _=this||Qn;_._body.push(h),g()},u.prototype._resetTimers=function(h){var m=this||Qn;Qn.clearTimeout(m._socketTimer),m._socketTimer=null,h?(Qn.clearTimeout(m._fetchTimer),m._fetchTimer=null):m._socketTimeout&&(m._socketTimer=Qn.setTimeout(function(){m.emit("timeout")},m._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(h){var m=this||Qn;m._destroyed=!0,m._resetTimers(!0),m._response&&(m._response._destroyed=!0),m._xhr?m._xhr.abort():m._fetchAbortController&&m._fetchAbortController.abort(),h&&m.emit("error",h)},u.prototype.end=function(h,m,g){var _=this||Qn;typeof h=="function"&&(g=h,h=void 0),o.Writable.prototype.end.call(_,h,m,g)},u.prototype.setTimeout=function(h,m){var g=this||Qn;m&&g.once("timeout",m),g._socketTimeout=h,g._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return l0}function d7(){if(gA)return u0;gA=!0,u0=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var o in i)e.call(i,o)&&(r[o]=i[o])}return r}return u0}function h7(){return vA||(vA=!0,c0={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),c0}function p7(){if(yA)return f0;yA=!0;var e=f7(),t=oz(),r=d7(),n=h7(),i=Wr,o=f0;return o.request=function(a,s){typeof a=="string"?a=i.parse(a):a=r(a);var l=az.location.protocol.search(/^https?:$/)===-1?"http:":"",u=a.protocol||l,f=a.hostname||a.host,c=a.port,h=a.path||"/";f&&f.indexOf(":")!==-1&&(f="["+f+"]"),a.url=(f?u+"//"+f:"")+(c?":"+c:"")+h,a.method=(a.method||"GET").toUpperCase(),a.headers=a.headers||{};var m=new e(a);return s&&m.on("response",s),m},o.get=function(s,l){var u=o.request(s,l);return u.end(),u},o.ClientRequest=e,o.IncomingMessage=t.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=n,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],f0}function m7(){if(wA)return d0;wA=!0;var e=As,t=Wr,r=d0;for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);r.request=function(o,a){return o=i(o),e.request.call(this||bA,o,a)},r.get=function(o,a){return o=i(o),e.get.call(this||bA,o,a)};function i(o){if(typeof o=="string"&&(o=t.parse(o)),o.protocol||(o.protocol="https:"),o.protocol!=="https:")throw new Error('Protocol "'+o.protocol+'" not supported. Expected "https:"');return o}return d0}var ho,hA,hu,xp,pA,Op,l0,mA,Qn,u0,gA,c0,vA,f0,yA,az,As,d0,wA,bA,Ps,sz,lz,uz,cz,fz,dz,hz,pz,B_=tn({"../../node_modules/@jspm/core/nodelibs/browser/https.js"(){Ae(),rz(),c7(),M_(),bU(),D_(),fg(),ho={},hA=!1,hu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,xp={},pA=!1,Op=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,l0={},mA=!1,Qn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,u0={},gA=!1,c0={},vA=!1,f0={},yA=!1,az=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,As=p7(),As.Agent,As.ClientRequest,As.IncomingMessage,As.METHODS,As.STATUS_CODES,As.get,As.globalAgent,As.request,d0={},wA=!1,bA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ps=m7(),sz=Ps.Agent,lz=Ps.ClientRequest,uz=Ps.IncomingMessage,cz=Ps.METHODS,fz=Ps.STATUS_CODES,dz=Ps.get,hz=Ps.globalAgent,pz=Ps.request}}),pR={};Ys(pR,{default:()=>mz});var mz,gz=tn({"../../node_modules/esbuild-plugin-polyfill-node/polyfills/empty.js"(){Ae(),mz={}}}),g7=Oe({"../../node_modules/@thingweb/thing-model/node_modules/json-placeholder-replacer/dist/library.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.JsonPlaceholderReplacer=void 0;var t=[{begin:"{{",end:"}}"},{begin:"<<",end:">>"}],r=":",n=[],i=class{constructor(o){this.variablesMap=[],this.configuration=this.initializeOptions(o);const a=l=>l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");this.configuration.delimiterTags=this.configuration.delimiterTags.map(l=>Object.assign(Object.assign({},l),{escapedBeginning:a(l.begin),escapedEnding:a(l.end)}));const s=this.configuration.delimiterTags.map(l=>`^${l.begin}[^${l.end}]+${l.end}$`).join("|");this.delimiterTagsRegex=new RegExp(s)}addVariableMap(o){return typeof o=="string"?this.variablesMap.push(JSON.parse(o)):this.variablesMap.push(o),this}setVariableMap(...o){return this.variablesMap.length=0,o.forEach(a=>this.addVariableMap(a)),this}replace(o){return this.replaceChildren(o,this.variablesMap)}replaceWith(o,...a){return this.replaceChildren(o,a)}initializeOptions(o){var a;let s=t,l=r,u=n;return o!==void 0&&(o.delimiterTags!==void 0&&o.delimiterTags.length>0&&(s=o.delimiterTags),o.defaultValueSeparator!==void 0&&(l=o.defaultValueSeparator),!((a=o.nullishValues)===null||a===void 0)&&a.length&&(u=o.nullishValues.map(f=>JSON.stringify(f)))),{defaultValueSeparator:l,delimiterTags:s,nullishValues:u}}replaceChildren(o,a){for(const s in o){const l=o[s];typeof l=="object"?o[s]=this.replaceChildren(l,a):l!==void 0&&(o[s]=this.replaceValue(l,a))}return o}replaceValue(o,a){const s=o.toString(),l=!this.delimiterTagsRegex.test(o),u=this.configuration.delimiterTags.reduce((f,c)=>{const h=new RegExp(`(${c.escapedBeginning}[^${c.escapedEnding}]+${c.escapedEnding})`,"g");return f.replace(h,this.replacer(l,a)(c))},s);try{return u===s?o:JSON.parse(u)}catch{return u}}replacer(o,a){return s=>l=>{const{tag:u,defaultValue:f}=this.parseTag(l,s),c=this.checkInEveryMap(u,a);if(c===void 0)return f!==void 0?f:l;if(!o)return c;const h=JSON.parse(c);return typeof h=="object"?JSON.stringify(h):h}}parseTag(o,a){const s=o.substring(a.begin.length,o.length-a.begin.length);let l=s,u;const f=s.indexOf(this.configuration.defaultValueSeparator);return f>0&&(l=s.substring(0,f),u=s.substring(f+this.configuration.defaultValueSeparator.length)),{tag:l,defaultValue:u}}checkInEveryMap(o,a){const{nullishValues:s}=this.configuration;let l;return a.forEach(u=>{let f=this.navigateThroughMap(u,o);f!==void 0&&s.includes(f)&&(f=void 0),l=f||l}),l}navigateThroughMap(o,a){if(o===void 0)return;const s=o[a];if(s!==void 0)return JSON.stringify(s);const l=a.split("."),u=l[0];return l.shift(),this.navigateThroughMap(o[u],l.join("."))}};e.JsonPlaceholderReplacer=i}}),v7=Oe({"../../node_modules/wot-thing-model-types/schema/tm-json-schema-validation.json"(e,t){t.exports={title:"Thing Model",version:"1.1-09-November-2023",description:"JSON Schema for validating Thing Models. This is automatically generated from the WoT TD Schema.",$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/tm-json-schema-validation.json",definitions:{anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},security:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the old context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},"dataSchema-type":{type:"string",anyOf:[{enum:["boolean","integer","number","string","object","array","null"]},{$ref:"#/definitions/placeholder-pattern"}]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},readOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/placeholder-pattern"}]},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},maxLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{anyOf:[{type:"array",items:{type:"string"}},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{anyOf:[{type:["integer","number"],exclusiveMinimum:0},{$ref:"#/definitions/placeholder-pattern"}]},expectedResponse:{type:"object",properties:{contentType:{type:"string"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["invokeaction","queryaction","cancelaction"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["invokeaction","queryaction","cancelaction"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["subscribeevent","unsubscribeevent"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["subscribeevent","unsubscribeevent"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},observable:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},writeOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},readOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/placeholder-pattern"}]},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},maxLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{anyOf:[{type:"array",items:{type:"string"}},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},idempotent:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},synchronous:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]},instanceName:{type:"string"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon",properties:{rel:{anyOf:[{enum:["icon"]},{$ref:"#/definitions/placeholder-pattern"}]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["nosec"]},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["auto"]},{$ref:"#/definitions/placeholder-pattern"}]}},not:{required:["name"]},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["combo"]},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",minItems:2,items:{type:"string"}},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["combo"]},{$ref:"#/definitions/placeholder-pattern"}]},allOf:{type:"array",minItems:2,items:{type:"string"}},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["basic"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["digest"]},{$ref:"#/definitions/placeholder-pattern"}]},qop:{type:"string",anyOf:[{enum:["auth","auth-int"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["apikey"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","uri","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["bearer"]},{$ref:"#/definitions/placeholder-pattern"}]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["psk"]},{$ref:"#/definitions/placeholder-pattern"}]},identity:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["oauth2"]},{$ref:"#/definitions/placeholder-pattern"}]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",anyOf:[{enum:["code","client"]},{$ref:"#/definitions/placeholder-pattern"}]}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},securityScheme:{anyOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]},tm_type_declaration:{oneOf:[{type:"string",const:"tm:ThingModel"},{type:"array",items:{type:"string"},contains:{const:"tm:ThingModel"}}]},"placeholder-pattern":{type:"string",pattern:"^.*[{]{2}[ -~]+[}]{2}.*$"},tm_optional:{type:"array",items:{$comment:"this first checks for the general structure of /properties/myProp and then prohibits using / 3 times",allOf:[{type:"string",pattern:"^((/properties/)|(/actions/)|(/events/))(([^/]))",$comment:"regex tests available at https://regex101.com/r/UgOzrJ/1"},{not:{type:"string",pattern:"(/)(.*/){2}",$comment:"regex tests available at https://regex101.com/r/r7vB0r/2"}}]}},tm_ref:{type:"string",format:"uri-reference"}},type:"object",properties:{id:{type:"string"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{anyOf:[{type:"object",properties:{model:{type:"string"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}},not:{type:"object",properties:{instance:{type:"string"}},required:["instance"]}},{$ref:"#/definitions/placeholder-pattern"}]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},support:{$ref:"#/definitions/anyUri"},created:{type:"string"},modified:{type:"string"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},"@type":{$ref:"#/definitions/tm_type_declaration"},"@context":{$ref:"#/definitions/thing-context"},"tm:optional":{$ref:"#/definitions/tm_optional"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}},required:["@context","@type"]}}}),y7=Oe({"../../node_modules/@thingweb/thing-model/dist/src/tm-helpers.js"(e){Ae();var t=e&&e.__createBinding||(Object.create?function(S,$,T,d){d===void 0&&(d=T);var A=Object.getOwnPropertyDescriptor($,T);(!A||("get"in A?!$.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return $[T]}}),Object.defineProperty(S,d,A)}:function(S,$,T,d){d===void 0&&(d=T),S[d]=$[T]}),r=e&&e.__setModuleDefault||(Object.create?function(S,$){Object.defineProperty(S,"default",{enumerable:!0,value:$})}:function(S,$){S.default=$}),n=e&&e.__importStar||function(S){if(S&&S.__esModule)return S;var $={};if(S!=null)for(var T in S)T!=="default"&&Object.prototype.hasOwnProperty.call(S,T)&&t($,S,T);return r($,S),$},i=e&&e.__awaiter||function(S,$,T,d){function A(P){return P instanceof T?P:new T(function(x){x(P)})}return new(T||(T=Promise))(function(P,x){function D(X){try{V(d.next(X))}catch(G){x(G)}}function F(X){try{V(d.throw(X))}catch(G){x(G)}}function V(X){X.done?P(X.value):A(X.value).then(D,F)}V((d=d.apply(S,$||[])).next())})},o=e&&e.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0}),e.ThingModelHelpers=void 0;var a=o(TB()),s=o(GQ()),l=n((cR(),Ar(L_))),u=n((B_(),Ar(hg))),f=n((gz(),Ar(pR))),c=g7(),h=o(v7()),m=o(Z4()),g="node-wot:td-tools:thing-model-helpers",_=(0,m.default)(`${g}:debug`),v=(0,m.default)(`${g}:error`),p=h.default,E=new a.default({strict:!1});(0,s.default)(E);var y=class sa{constructor($){this.deps=[],this.resolver=void 0,$&&(this.resolver=$)}static isThingModel($){if($==null||typeof $!="object"||Array.isArray($))return!1;const T=$;if(Array.isArray(T["@type"])){if(T["@type"].filter(A=>A==="tm:ThingModel").length>0)return!0}else if(T["@type"]==="tm:ThingModel")return!0;return!!(Object.keys(this.getThingModelRef(T)).length>0||"links"in T&&Array.isArray(T.links)&&T.links.find(A=>A.rel==="tm:extends")!=null||T.properties!==void 0&&this.isThingModel(T.properties)||T.actions!==void 0&&this.isThingModel(T.actions)||T.events!==void 0&&this.isThingModel(T.events))}static getModelVersion($){var T;return typeof($==null?void 0:$.version)=="object"&&typeof((T=$==null?void 0:$.version)===null||T===void 0?void 0:T.model)=="string"?$.version.model:void 0}static validateThingModel($){var T;const d=sa.tsSchemaValidator($);let A;return d||(A=(T=sa.tsSchemaValidator.errors)===null||T===void 0?void 0:T.map(P=>P.message).join(`
`)),{valid:d,errors:A}}getPartialTDs($,T){return i(this,void 0,void 0,function*(){return(yield this._getPartialTDs($,T)).map(P=>{const x=P;return x["@type"]instanceof Array?x["@type"]=x["@type"].map(D=>D==="tm:ThingModel"?"Thing":D):x["@type"]="Thing",x})})}fetchModel($){return i(this,void 0,void 0,function*(){this.addDependency($);let T;if(this.resolver?T=yield this.resolver.fetch($):T=yield this.localFetch($),!sa.isThingModel(T))throw new Error(`Data at ${$} is not a Thing Model`);return T})}localFetch($){switch($.split("://")[0]){case"file":{const d=$.split("://")[1];return new Promise((A,P)=>{f.readFile(d,{encoding:"utf-8"},function(x,D){x?P(x):A(JSON.parse(D))})})}case"http":return new Promise((d,A)=>{l.get($,P=>{(P.statusCode==null||P.statusCode!==200)&&A(new Error(`http status code not 200 but ${P.statusCode} for ${$}`)),P.setEncoding("utf8");let x="";P.on("data",D=>{x+=D}),P.on("end",()=>{try{const D=JSON.parse(x);_(`https fetched: ${D}`),d(D)}catch(D){v(D)}})}).on("error",P=>{A(P)})});case"https":return new Promise((d,A)=>{u.get($,P=>{(P.statusCode==null||P.statusCode!==200)&&A(new Error(`https status code not 200 but ${P.statusCode} for ${$}`)),P.setEncoding("utf8");let x="";P.on("data",D=>{x+=D}),P.on("end",()=>{try{const D=JSON.parse(x);_(`https fetched: ${D}`),d(D)}catch(D){v(D)}})}).on("error",P=>{A(P)})})}return null}_getPartialTDs($,T){return i(this,void 0,void 0,function*(){if(!sa.isThingModel($))throw new Error(`${$} is not a Thing Model`);let d=sa.validateThingModel($);if(d.valid===!1||d.errors!==void 0)throw new Error(d.errors);if(d=this.checkPlaceholderMap($,T==null?void 0:T.map),d.valid===!1||d.errors!==void 0)throw new Error(d.errors);const A=yield this.fetchAffordances($);return yield this.composeModel($,A,T)})}fetchAffordances($){var T;return i(this,void 0,void 0,function*(){const d={},A=sa.getThingModelLinks($,"tm:extends");if(A.length>0){d.extends=[];for(const D of A){let F=yield this.fetchModel(D.href);[F]=yield this._getPartialTDs(F),d.extends.push(F)}}const P=["properties","actions","events"];d.imports=[];for(const D of P){const F=sa.getThingModelRef($[D]);if(Object.keys(F).length>0)for(const V in F){const X=F[V],G=this.parseTmRef(X);if(G.uri==null)throw new Error(`Missing remote path in ${X}`);let Q=yield this.fetchModel(G.uri);[Q]=yield this._getPartialTDs(Q),delete $[D][V]["tm:ref"];const ce=(T=this.getRefAffordance(G,Q))!==null&&T!==void 0?T:{};G.name=V,d.imports.push(Object.assign({affordance:ce},G))}}const x=sa.getThingModelLinks($,"tm:submodel");if(x.length>0){d.submodel={};for(const D of x){const F=yield this.fetchModel(D.href);d.submodel[D.href]=F}}return d})}composeModel($,T,d){var A,P,x,D,F;return i(this,void 0,void 0,function*(){let V=[];const X=((A=$.title)!==null&&A!==void 0?A:"").replace(/ /g,"");d||(d={}),d.baseUrl==null&&(d.baseUrl=".");const G=this.returnNewTMHref(d.baseUrl,X),Q=this.returnNewTDHref(d.baseUrl,X);if("extends"in T){const ce=(P=T.extends)!==null&&P!==void 0?P:[];for(const ee of ce)$=sa.extendThingModel(ee,$);$.links=(x=$.links)===null||x===void 0?void 0:x.filter(ee=>ee.rel!=="tm:extends")}if("imports"in T){const ce=(D=T.imports)!==null&&D!==void 0?D:[];for(const ee of ce)$=sa.importAffordance(ee.type,ee.name,ee.affordance,$)}if("submodel"in T){const ce=T.submodel;for(const ee in ce){const ae=ce[ee];if(d.selfComposition===!0){if(!$.links)throw new Error("You used self composition but links are missing; they are needed to extract the instance name");const M=$.links.findIndex(q=>q.href===ee),K=$.links[M].instanceName;if(K==null)throw new Error("Self composition is not possible without instance names");const[O]=yield this._getPartialTDs(ae,d),k=["properties","actions","events"];for(const q of k)for(const ie in O[q]){const J=`${K}_${ie}`;q in $||($[q]={}),$[q][J]=O[q][ie]}}else{const M=((F=ae.title)!==null&&F!==void 0?F:"").replace(/ /g,""),B=this.returnNewTDHref(d.baseUrl,M);ae.links||(ae.links=[]),ae.links.push({rel:"collection",href:Q,type:"application/td+json"});const K=yield this._getPartialTDs(ae,d);V.push(...K),$=sa.formatSubmodelLink($,ee,B)}}}return(!$.links||d.selfComposition===!0)&&($.links=[]),$.links.push({rel:"type",href:G,type:"application/tm+json"}),"version"in $&&delete $.version,d.map&&($=this.fillPlaceholder($,d.map)),V.unshift($),V=V.map(ce=>this.fillPlaceholder(ce,d==null?void 0:d.map)),this.deps.length>0&&this.removeDependency(),V})}static getThingModelRef($){const T={};if($==null)return T;for(const d in $)for(const A in $[d])A==="tm:ref"&&(T[d]=$[d]["tm:ref"]);return T}static getThingModelLinks($,T){let d=[];return"links"in $&&Array.isArray($.links)&&(d=$.links),d.filter(A=>A.rel===T)}static extendThingModel($,T){let d={};const A=$.properties,P=$.actions,x=$.events;if(d=Object.assign(Object.assign({},$),T),A){d.properties||(d.properties={});for(const D in A)T.properties&&T.properties[D]!=null?d.properties[D]=Object.assign(Object.assign({},A[D]),T.properties[D]):d.properties[D]=A[D]}if(P){d.actions||(d.actions={});for(const D in P)T.actions&&D in T.actions?d.actions[D]=Object.assign(Object.assign({},P[D]),T.actions[D]):d.actions[D]=P[D]}if(x){d.events||(d.events={});for(const D in x)T.events&&D in T.events?d.events[D]=Object.assign(Object.assign({},x[D]),T.events[D]):d.events[D]=x[D]}return d}static importAffordance($,T,d,A){A[$]||(A[$]={});const P=A[$][T];A[$][T]=Object.assign(Object.assign({},d),P);for(const x in A[$][T])A[$][T][x]===void 0&&delete A[$][T][x];return A}static formatSubmodelLink($,T,d){if(!$.links)throw new Error("Links are missing");const A=$.links.findIndex(x=>x.href===T);if(A===-1)throw new Error("Link not found");const P=$.links[A];return"instanceName"in P&&delete P.instanceName,$.links[A]=Object.assign(Object.assign({},P),{href:d,type:"application/td+json",rel:"item"}),$}parseTmRef($){const T=$.split("#")[0],d=$.split("#")[1],A=d.split("/")[1],P=d.split("/")[2];return{uri:T,type:A,name:P}}getRefAffordance($,T){const d=$.type,A=$.name;if(!(d in T))return;const P=T[d];if(A in P)return P[A]}fillPlaceholder($,T={}){const d=new c.JsonPlaceholderReplacer;return d.addVariableMap(T),d.replace($)}checkPlaceholderMap($,T={}){var d;const A="{{.*?}}";let x=(d=JSON.stringify($).match(new RegExp(A,"g")))!==null&&d!==void 0?d:[];x=x.map(V=>V.replace("{{","").replace("}}",""));let D=!0,F;return(x==null?void 0:x.length)>0&&T==null?(D=!1,F=`No map provided for model ${$.title}`):x.length>0&&x.every(V=>V in T?!0:(F=`Missing required fields in map for model ${$.title}`,D=!1,!1)),{valid:D,errors:F}}returnNewTMHref($,T){return`${$}/${T}.tm.jsonld`}returnNewTDHref($,T){return`${$}/${T}.td.jsonld`}addDependency($){if(this.deps.indexOf($)>-1)throw new Error(`Circular dependency found for ${$}`);this.deps.push($)}removeDependency($){$!=null?this.deps=this.deps.filter(T=>T!==$):this.deps.pop()}};e.ThingModelHelpers=y,y.tsSchemaValidator=E.compile(p)}}),w7=Oe({"../../node_modules/@thingweb/thing-model/dist/src/resolver-interface.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0})}}),b7=Oe({"../../node_modules/@thingweb/thing-model/dist/src/thing-model.js"(e){Ae();var t=e&&e.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o);var s=Object.getOwnPropertyDescriptor(i,o);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,a,s)}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(y7(),e),r(w7(),e)}}),vz={};Ys(vz,{EventEmitter:()=>yz,default:()=>js,defaultMaxListeners:()=>wz,init:()=>bz,listenerCount:()=>_z,on:()=>Ez,once:()=>Sz});function _7(){if(_A)return Rp;_A=!0;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function($,T,d){return Function.prototype.apply.call($,T,d)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function($){return Object.getOwnPropertyNames($).concat(Object.getOwnPropertySymbols($))}:r=function($){return Object.getOwnPropertyNames($)};function n(S){console&&console.warn&&console.warn(S)}var i=Number.isNaN||function($){return $!==$};function o(){o.init.call(this)}Rp=o,Rp.once=p,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");a=S}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function($){if(typeof $!="number"||$<0||i($))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+$+".");return this._maxListeners=$,this};function l(S){return S._maxListeners===void 0?o.defaultMaxListeners:S._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function($){for(var T=[],d=1;d<arguments.length;d++)T.push(arguments[d]);var A=$==="error",P=this._events;if(P!==void 0)A=A&&P.error===void 0;else if(!A)return!1;if(A){var x;if(T.length>0&&(x=T[0]),x instanceof Error)throw x;var D=new Error("Unhandled error."+(x?" ("+x.message+")":""));throw D.context=x,D}var F=P[$];if(F===void 0)return!1;if(typeof F=="function")t(F,this,T);else for(var V=F.length,X=g(F,V),d=0;d<V;++d)t(X[d],this,T);return!0};function u(S,$,T,d){var A,P,x;if(s(T),P=S._events,P===void 0?(P=S._events=Object.create(null),S._eventsCount=0):(P.newListener!==void 0&&(S.emit("newListener",$,T.listener?T.listener:T),P=S._events),x=P[$]),x===void 0)x=P[$]=T,++S._eventsCount;else if(typeof x=="function"?x=P[$]=d?[T,x]:[x,T]:d?x.unshift(T):x.push(T),A=l(S),A>0&&x.length>A&&!x.warned){x.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+x.length+" "+String($)+" listeners added. Use emitter.setMaxListeners() to increase limit");D.name="MaxListenersExceededWarning",D.emitter=S,D.type=$,D.count=x.length,n(D)}return S}o.prototype.addListener=function($,T){return u(this,$,T,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function($,T){return u(this,$,T,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(S,$,T){var d={fired:!1,wrapFn:void 0,target:S,type:$,listener:T},A=f.bind(d);return A.listener=T,d.wrapFn=A,A}o.prototype.once=function($,T){return s(T),this.on($,c(this,$,T)),this},o.prototype.prependOnceListener=function($,T){return s(T),this.prependListener($,c(this,$,T)),this},o.prototype.removeListener=function($,T){var d,A,P,x,D;if(s(T),A=this._events,A===void 0)return this;if(d=A[$],d===void 0)return this;if(d===T||d.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete A[$],A.removeListener&&this.emit("removeListener",$,d.listener||T));else if(typeof d!="function"){for(P=-1,x=d.length-1;x>=0;x--)if(d[x]===T||d[x].listener===T){D=d[x].listener,P=x;break}if(P<0)return this;P===0?d.shift():_(d,P),d.length===1&&(A[$]=d[0]),A.removeListener!==void 0&&this.emit("removeListener",$,D||T)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function($){var T,d,A;if(d=this._events,d===void 0)return this;if(d.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):d[$]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete d[$]),this;if(arguments.length===0){var P=Object.keys(d),x;for(A=0;A<P.length;++A)x=P[A],x!=="removeListener"&&this.removeAllListeners(x);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=d[$],typeof T=="function")this.removeListener($,T);else if(T!==void 0)for(A=T.length-1;A>=0;A--)this.removeListener($,T[A]);return this};function h(S,$,T){var d=S._events;if(d===void 0)return[];var A=d[$];return A===void 0?[]:typeof A=="function"?T?[A.listener||A]:[A]:T?v(A):g(A,A.length)}o.prototype.listeners=function($){return h(this,$,!0)},o.prototype.rawListeners=function($){return h(this,$,!1)},o.listenerCount=function(S,$){return typeof S.listenerCount=="function"?S.listenerCount($):m.call(S,$)},o.prototype.listenerCount=m;function m(S){var $=this._events;if($!==void 0){var T=$[S];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function g(S,$){for(var T=new Array($),d=0;d<$;++d)T[d]=S[d];return T}function _(S,$){for(;$+1<S.length;$++)S[$]=S[$+1];S.pop()}function v(S){for(var $=new Array(S.length),T=0;T<$.length;++T)$[T]=S[T].listener||S[T];return $}function p(S,$){return new Promise(function(T,d){function A(x){S.removeListener($,P),d(x)}function P(){typeof S.removeListener=="function"&&S.removeListener("error",A),T([].slice.call(arguments))}y(S,$,P,{once:!0}),$!=="error"&&E(S,A,{once:!0})})}function E(S,$,T){typeof S.on=="function"&&y(S,"error",$,T)}function y(S,$,T,d){if(typeof S.on=="function")d.once?S.once($,T):S.on($,T);else if(typeof S.addEventListener=="function")S.addEventListener($,function A(P){d.once&&S.removeEventListener($,A),T(P)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return Rp}var Rp,_A,js,yz,wz,bz,_z,Ez,Sz,$z=tn({"../../node_modules/@jspm/core/nodelibs/browser/events.js"(){Ae(),Rp={},_A=!1,js=_7(),js.once,js.once=function(e,t){return new Promise((r,n)=>{function i(...a){o!==void 0&&e.removeListener("error",o),r(a)}let o;t!=="error"&&(o=a=>{e.removeListener(name,i),n(a)},e.once("error",o)),e.once(t,i)})},js.on=function(e,t){const r=[],n=[];let i=null,o=!1;const a={async next(){const u=r.shift();if(u)return createIterResult(u,!1);if(i){const f=Promise.reject(i);return i=null,f}return o?createIterResult(void 0,!0):new Promise((f,c)=>n.push({resolve:f,reject:c}))},async return(){e.removeListener(t,s),e.removeListener("error",l),o=!0;for(const u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,e.removeListener(t,s),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,s),e.on("error",l),a;function s(...u){const f=n.shift();f?f.resolve(createIterResult(u,!1)):r.push(u)}function l(u){o=!0;const f=n.shift();f?f.reject(u):i=u,a.return()}},{EventEmitter:yz,defaultMaxListeners:wz,init:bz,listenerCount:_z,on:Ez,once:Sz}=js}});function Tz(){return EA||(EA=!0,h0=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),h0}function E7(){return SA||(SA=!0,p0=Error),p0}function S7(){return $A||($A=!0,m0=EvalError),m0}function $7(){return TA||(TA=!0,g0=RangeError),g0}function T7(){return AA||(AA=!0,v0=ReferenceError),v0}function Az(){return PA||(PA=!0,y0=SyntaxError),y0}function pg(){return xA||(xA=!0,w0=TypeError),w0}function A7(){return OA||(OA=!0,b0=URIError),b0}function P7(){if(RA)return _0;RA=!0;var e=typeof Symbol<"u"&&Symbol,t=Tz();return _0=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},_0}function x7(){if(IA)return E0;IA=!0;var e={__proto__:null,foo:{}},t=Object;return E0=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof t)},E0}function O7(){if(NA)return S0;NA=!0;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var f=[],c=0;c<l.length;c+=1)f[c]=l[c];for(var h=0;h<u.length;h+=1)f[h+l.length]=u[h];return f},o=function(l,u){for(var f=[],c=u,h=0;c<l.length;c+=1,h+=1)f[h]=l[c];return f},a=function(s,l){for(var u="",f=0;f<s.length;f+=1)u+=s[f],f+1<s.length&&(u+=l);return u};return S0=function(l){var u=this;if(typeof u!="function"||t.apply(u)!==n)throw new TypeError(e+u);for(var f=o(arguments,1),c,h=function(){if(this instanceof c){var p=u.apply(this,i(f,arguments));return Object(p)===p?p:this}return u.apply(l,i(f,arguments))},m=r(0,u.length-f.length),g=[],_=0;_<m;_++)g[_]="$"+_;if(c=Function("binder","return function ("+a(g,",")+"){ return binder.apply(this,arguments); }")(h),u.prototype){var v=function(){};v.prototype=u.prototype,c.prototype=new v,v.prototype=null}return c},S0}function mR(){if(CA)return $0;CA=!0;var e=O7();return $0=Function.prototype.bind||e,$0}function R7(){if(kA)return T0;kA=!0;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=mR();return T0=r.call(e,t),T0}function Nh(){if(jA)return A0;jA=!0;var e,t=E7(),r=S7(),n=$7(),i=T7(),o=Az(),a=pg(),s=A7(),l=Function,u=function(ce){try{return l('"use strict"; return ('+ce+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var c=function(){throw new a},h=f?function(){try{return arguments.callee,c}catch{try{return f(arguments,"callee").get}catch{return c}}}():c,m=P7()(),g=x7()(),_=Object.getPrototypeOf||(g?function(ce){return ce.__proto__}:null),v={},p=typeof Uint8Array>"u"||!_?e:_(Uint8Array),E={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":m&&_?_([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":v,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&_?_(_([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!m||!_?e:_(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!m||!_?e:_(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&_?_(""[Symbol.iterator]()):e,"%Symbol%":m?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":h,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":s,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};if(_)try{null.error}catch(ce){var y=_(_(ce));E["%Error.prototype%"]=y}var S=function ce(ee){var ae;if(ee==="%AsyncFunction%")ae=u("async function () {}");else if(ee==="%GeneratorFunction%")ae=u("function* () {}");else if(ee==="%AsyncGeneratorFunction%")ae=u("async function* () {}");else if(ee==="%AsyncGenerator%"){var M=ce("%AsyncGeneratorFunction%");M&&(ae=M.prototype)}else if(ee==="%AsyncIteratorPrototype%"){var B=ce("%AsyncGenerator%");B&&_&&(ae=_(B.prototype))}return E[ee]=ae,ae},$={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=mR(),d=R7(),A=T.call(Function.call,Array.prototype.concat),P=T.call(Function.apply,Array.prototype.splice),x=T.call(Function.call,String.prototype.replace),D=T.call(Function.call,String.prototype.slice),F=T.call(Function.call,RegExp.prototype.exec),V=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,X=/\\(\\)?/g,G=function(ee){var ae=D(ee,0,1),M=D(ee,-1);if(ae==="%"&&M!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(M==="%"&&ae!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var B=[];return x(ee,V,function(K,O,k,q){B[B.length]=k?x(q,X,"$1"):O||K}),B},Q=function(ee,ae){var M=ee,B;if(d($,M)&&(B=$[M],M="%"+B[0]+"%"),d(E,M)){var K=E[M];if(K===v&&(K=S(M)),typeof K>"u"&&!ae)throw new a("intrinsic "+ee+" exists, but is not available. Please file an issue!");return{alias:B,name:M,value:K}}throw new o("intrinsic "+ee+" does not exist!")};return A0=function(ee,ae){if(typeof ee!="string"||ee.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ae!="boolean")throw new a('"allowMissing" argument must be a boolean');if(F(/^%?[^%]*%?$/,ee)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var M=G(ee),B=M.length>0?M[0]:"",K=Q("%"+B+"%",ae),O=K.name,k=K.value,q=!1,ie=K.alias;ie&&(B=ie[0],P(M,A([0,1],ie)));for(var J=1,Y=!0;J<M.length;J+=1){var oe=M[J],_e=D(oe,0,1),ye=D(oe,-1);if((_e==='"'||_e==="'"||_e==="`"||ye==='"'||ye==="'"||ye==="`")&&_e!==ye)throw new o("property names with quotes must have matching quotes");if((oe==="constructor"||!Y)&&(q=!0),B+="."+oe,O="%"+B+"%",d(E,O))k=E[O];else if(k!=null){if(!(oe in k)){if(!ae)throw new a("base intrinsic for "+ee+" exists, but the property is not available.");return}if(f&&J+1>=M.length){var R=f(k,oe);Y=!!R,Y&&"get"in R&&!("originalValue"in R.get)?k=R.get:k=k[oe]}else Y=d(k,oe),k=k[oe];Y&&!q&&(E[O]=k)}}return k},A0}function gR(){if(DA)return P0;DA=!0;var e=Nh(),t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return P0=t,P0}function vR(){if(MA)return x0;MA=!0;var e=Nh(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return x0=t,x0}function I7(){if(LA)return O0;LA=!0;var e=gR(),t=Az(),r=pg(),n=vR();return O0=function(o,a,s){if(!o||typeof o!="object"&&typeof o!="function")throw new r("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,h=!!n&&n(o,a);if(e)e(o,a,{configurable:f===null&&h?h.configurable:!f,enumerable:l===null&&h?h.enumerable:!l,value:s,writable:u===null&&h?h.writable:!u});else if(c||!l&&!u&&!f)o[a]=s;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},O0}function N7(){if(FA)return R0;FA=!0;var e=gR(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},R0=t,R0}function C7(){if(BA)return I0;BA=!0;var e=Nh(),t=I7(),r=N7()(),n=vR(),i=pg(),o=e("%Math.floor%");return I0=function(s,l){if(typeof s!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||o(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],f=!0,c=!0;if("length"in s&&n){var h=n(s,"length");h&&!h.configurable&&(f=!1),h&&!h.writable&&(c=!1)}return(f||c||!u)&&(r?t(s,"length",l,!0,!0):t(s,"length",l)),s},I0}function Pz(){if(UA)return gd;UA=!0;var e=mR(),t=Nh(),r=C7(),n=pg(),i=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),a=t("%Reflect.apply%",!0)||e.call(o,i),s=gR(),l=t("%Math.max%");gd=function(c){if(typeof c!="function")throw new n("a function is required");var h=a(e,o,arguments);return r(h,1+l(0,c.length-(arguments.length-1)),!0)};var u=function(){return a(e,i,arguments)};return s?s(gd,"apply",{value:u}):gd.apply=u,gd}function yR(){if(zA)return N0;zA=!0;var e=Nh(),t=Pz(),r=t(e("String.prototype.indexOf"));return N0=function(i,o){var a=e(i,!!o);return typeof a=="function"&&r(i,".prototype.")>-1?t(a):a},N0}var h0,EA,p0,SA,m0,$A,g0,TA,v0,AA,y0,PA,w0,xA,b0,OA,_0,RA,E0,IA,S0,NA,$0,CA,T0,kA,A0,jA,P0,DA,x0,MA,O0,LA,R0,FA,I0,BA,gd,UA,N0,zA,wR=tn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtcTpLWz.js"(){Ae(),h0={},EA=!1,p0={},SA=!1,m0={},$A=!1,g0={},TA=!1,v0={},AA=!1,y0={},PA=!1,w0={},xA=!1,b0={},OA=!1,_0={},RA=!1,E0={},IA=!1,S0={},NA=!1,$0={},CA=!1,T0={},kA=!1,A0={},jA=!1,P0={},DA=!1,x0={},MA=!1,O0={},LA=!1,R0={},FA=!1,I0={},BA=!1,gd={},UA=!1,N0={},zA=!1}}),U_={};Ys(U_,{TextDecoder:()=>r6,TextEncoder:()=>t6,_extend:()=>Iz,callbackify:()=>Nz,debuglog:()=>Cz,default:()=>Wt,deprecate:()=>kz,format:()=>jz,inherits:()=>Dz,inspect:()=>Mz,isArray:()=>Lz,isBoolean:()=>Fz,isBuffer:()=>Bz,isDate:()=>Uz,isError:()=>zz,isFunction:()=>qz,isNull:()=>Vz,isNullOrUndefined:()=>Hz,isNumber:()=>Gz,isObject:()=>Wz,isPrimitive:()=>Kz,isRegExp:()=>Jz,isString:()=>Yz,isSymbol:()=>Xz,isUndefined:()=>Qz,log:()=>Zz,promisify:()=>xb,types:()=>e6});function bR(){if(qA)return C0;qA=!0;var e=Tz();return C0=function(){return e()&&!!Symbol.toStringTag},C0}function k7(){if(VA)return k0;VA=!0;var e=bR()(),t=yR(),r=t("Object.prototype.toString"),n=function(s){return e&&s&&typeof s=="object"&&Symbol.toStringTag in s?!1:r(s)==="[object Arguments]"},i=function(s){return n(s)?!0:s!==null&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&r(s)!=="[object Array]"&&r(s.callee)==="[object Function]"},o=function(){return n(arguments)}();return n.isLegacyArguments=i,k0=o?n:i,k0}function j7(){if(HA)return j0;HA=!0;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=bR()(),i=Object.getPrototypeOf,o=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},a;return j0=function(l){if(typeof l!="function")return!1;if(r.test(t.call(l)))return!0;if(!n){var u=e.call(l);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var f=o();a=f?i(f):!1}return i(l)===a},j0}function D7(){if(GA)return D0;GA=!0;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(E){E!==n&&(t=null)}else t=null;var i=/^\s*class\b/,o=function(y){try{var S=e.call(y);return i.test(S)}catch{return!1}},a=function(y){try{return o(y)?!1:(e.call(y),!0)}catch{return!1}},s=Object.prototype.toString,l="[object Object]",u="[object Function]",f="[object GeneratorFunction]",c="[object HTMLAllCollection]",h="[object HTML document.all class]",m="[object HTMLCollection]",g=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),v=function(){return!1};if(typeof document=="object"){var p=document.all;s.call(p)===s.call(document.all)&&(v=function(y){if((_||!y)&&(typeof y>"u"||typeof y=="object"))try{var S=s.call(y);return(S===c||S===h||S===m||S===l)&&y("")==null}catch{}return!1})}return D0=t?function(y){if(v(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;try{t(y,null,r)}catch(S){if(S!==n)return!1}return!o(y)&&a(y)}:function(y){if(v(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;if(g)return a(y);if(o(y))return!1;var S=s.call(y);return S!==u&&S!==f&&!/^\[object HTML/.test(S)?!1:a(y)},D0}function M7(){if(WA)return M0;WA=!0;var e=D7(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,u,f){for(var c=0,h=l.length;c<h;c++)r.call(l,c)&&(f==null?u(l[c],c,l):u.call(f,l[c],c,l))},i=function(l,u,f){for(var c=0,h=l.length;c<h;c++)f==null?u(l.charAt(c),c,l):u.call(f,l.charAt(c),c,l)},o=function(l,u,f){for(var c in l)r.call(l,c)&&(f==null?u(l[c],c,l):u.call(f,l[c],c,l))},a=function(l,u,f){if(!e(u))throw new TypeError("iterator must be a function");var c;arguments.length>=3&&(c=f),t.call(l)==="[object Array]"?n(l,u,c):typeof l=="string"?i(l,u,c):o(l,u,c)};return M0=a,M0}function L7(){return KA||(KA=!0,L0=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),L0}function F7(){if(JA)return F0;JA=!0;var e=L7(),t=typeof globalThis>"u"?Oz:globalThis;return F0=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},F0}function xz(){if(YA)return B0;YA=!0;var e=M7(),t=F7(),r=Pz(),n=yR(),i=vR(),o=n("Object.prototype.toString"),a=bR()(),s=typeof globalThis>"u"?Rz:globalThis,l=t(),u=n("String.prototype.slice"),f=Object.getPrototypeOf,c=n("Array.prototype.indexOf",!0)||function(v,p){for(var E=0;E<v.length;E+=1)if(v[E]===p)return E;return-1},h={__proto__:null};a&&i&&f?e(l,function(_){var v=new s[_];if(Symbol.toStringTag in v){var p=f(v),E=i(p,Symbol.toStringTag);if(!E){var y=f(p);E=i(y,Symbol.toStringTag)}h["$"+_]=r(E.get)}}):e(l,function(_){var v=new s[_],p=v.slice||v.set;p&&(h["$"+_]=r(p))});var m=function(v){var p=!1;return e(h,function(E,y){if(!p)try{"$"+E(v)===y&&(p=u(y,1))}catch{}}),p},g=function(v){var p=!1;return e(h,function(E,y){if(!p)try{E(v),p=u(y,1)}catch{}}),p};return B0=function(v){if(!v||typeof v!="object")return!1;if(!a){var p=u(o(v),8,-1);return c(l,p)>-1?p:p!=="Object"?!1:g(v)}return i?m(v):null},B0}function B7(){if(XA)return U0;XA=!0;var e=xz();return U0=function(r){return!!e(r)},U0}function U7(){if(QA)return lr;QA=!0;var e=k7(),t=j7(),r=xz(),n=B7();function i(fe){return fe.call.bind(fe)}var o=typeof BigInt<"u",a=typeof Symbol<"u",s=i(Object.prototype.toString),l=i(Number.prototype.valueOf),u=i(String.prototype.valueOf),f=i(Boolean.prototype.valueOf);if(o)var c=i(BigInt.prototype.valueOf);if(a)var h=i(Symbol.prototype.valueOf);function m(fe,me){if(typeof fe!="object")return!1;try{return me(fe),!0}catch{return!1}}lr.isArgumentsObject=e,lr.isGeneratorFunction=t,lr.isTypedArray=n;function g(fe){return typeof Promise<"u"&&fe instanceof Promise||fe!==null&&typeof fe=="object"&&typeof fe.then=="function"&&typeof fe.catch=="function"}lr.isPromise=g;function _(fe){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(fe):n(fe)||K(fe)}lr.isArrayBufferView=_;function v(fe){return r(fe)==="Uint8Array"}lr.isUint8Array=v;function p(fe){return r(fe)==="Uint8ClampedArray"}lr.isUint8ClampedArray=p;function E(fe){return r(fe)==="Uint16Array"}lr.isUint16Array=E;function y(fe){return r(fe)==="Uint32Array"}lr.isUint32Array=y;function S(fe){return r(fe)==="Int8Array"}lr.isInt8Array=S;function $(fe){return r(fe)==="Int16Array"}lr.isInt16Array=$;function T(fe){return r(fe)==="Int32Array"}lr.isInt32Array=T;function d(fe){return r(fe)==="Float32Array"}lr.isFloat32Array=d;function A(fe){return r(fe)==="Float64Array"}lr.isFloat64Array=A;function P(fe){return r(fe)==="BigInt64Array"}lr.isBigInt64Array=P;function x(fe){return r(fe)==="BigUint64Array"}lr.isBigUint64Array=x;function D(fe){return s(fe)==="[object Map]"}D.working=typeof Map<"u"&&D(new Map);function F(fe){return typeof Map>"u"?!1:D.working?D(fe):fe instanceof Map}lr.isMap=F;function V(fe){return s(fe)==="[object Set]"}V.working=typeof Set<"u"&&V(new Set);function X(fe){return typeof Set>"u"?!1:V.working?V(fe):fe instanceof Set}lr.isSet=X;function G(fe){return s(fe)==="[object WeakMap]"}G.working=typeof WeakMap<"u"&&G(new WeakMap);function Q(fe){return typeof WeakMap>"u"?!1:G.working?G(fe):fe instanceof WeakMap}lr.isWeakMap=Q;function ce(fe){return s(fe)==="[object WeakSet]"}ce.working=typeof WeakSet<"u"&&ce(new WeakSet);function ee(fe){return ce(fe)}lr.isWeakSet=ee;function ae(fe){return s(fe)==="[object ArrayBuffer]"}ae.working=typeof ArrayBuffer<"u"&&ae(new ArrayBuffer);function M(fe){return typeof ArrayBuffer>"u"?!1:ae.working?ae(fe):fe instanceof ArrayBuffer}lr.isArrayBuffer=M;function B(fe){return s(fe)==="[object DataView]"}B.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&B(new DataView(new ArrayBuffer(1),0,1));function K(fe){return typeof DataView>"u"?!1:B.working?B(fe):fe instanceof DataView}lr.isDataView=K;var O=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function k(fe){return s(fe)==="[object SharedArrayBuffer]"}function q(fe){return typeof O>"u"?!1:(typeof k.working>"u"&&(k.working=k(new O)),k.working?k(fe):fe instanceof O)}lr.isSharedArrayBuffer=q;function ie(fe){return s(fe)==="[object AsyncFunction]"}lr.isAsyncFunction=ie;function J(fe){return s(fe)==="[object Map Iterator]"}lr.isMapIterator=J;function Y(fe){return s(fe)==="[object Set Iterator]"}lr.isSetIterator=Y;function oe(fe){return s(fe)==="[object Generator]"}lr.isGeneratorObject=oe;function _e(fe){return s(fe)==="[object WebAssembly.Module]"}lr.isWebAssemblyCompiledModule=_e;function ye(fe){return m(fe,l)}lr.isNumberObject=ye;function R(fe){return m(fe,u)}lr.isStringObject=R;function I(fe){return m(fe,f)}lr.isBooleanObject=I;function N(fe){return o&&m(fe,c)}lr.isBigIntObject=N;function H(fe){return a&&m(fe,h)}lr.isSymbolObject=H;function re(fe){return ye(fe)||R(fe)||I(fe)||N(fe)||H(fe)}lr.isBoxedPrimitive=re;function le(fe){return typeof Uint8Array<"u"&&(M(fe)||q(fe))}return lr.isAnyArrayBuffer=le,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(fe){Object.defineProperty(lr,fe,{enumerable:!1,value:function(){throw new Error(fe+" is not supported in userland")}})}),lr}function z7(){return ZA||(ZA=!0,z0=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),z0}function q7(){if(eP)return ur;eP=!0;var e=ci,t=Object.getOwnPropertyDescriptors||function(O){for(var k=Object.keys(O),q={},ie=0;ie<k.length;ie++)q[k[ie]]=Object.getOwnPropertyDescriptor(O,k[ie]);return q},r=/%[sdj%]/g;ur.format=function(K){if(!$(K)){for(var O=[],k=0;k<arguments.length;k++)O.push(a(arguments[k]));return O.join(" ")}for(var k=1,q=arguments,ie=q.length,J=String(K).replace(r,function(oe){if(oe==="%%")return"%";if(k>=ie)return oe;switch(oe){case"%s":return String(q[k++]);case"%d":return Number(q[k++]);case"%j":try{return JSON.stringify(q[k++])}catch{return"[Circular]"}default:return oe}}),Y=q[k];k<ie;Y=q[++k])E(Y)||!P(Y)?J+=" "+Y:J+=" "+a(Y);return J},ur.deprecate=function(K,O){if(typeof e<"u"&&e.noDeprecation===!0)return K;if(typeof e>"u")return function(){return ur.deprecate(K,O).apply(this||vd,arguments)};var k=!1;function q(){if(!k){if(e.throwDeprecation)throw new Error(O);e.traceDeprecation?console.trace(O):console.error(O),k=!0}return K.apply(this||vd,arguments)}return q};var n={},i=/^$/;if(e.env.NODE_DEBUG){var o=e.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}ur.debuglog=function(K){if(K=K.toUpperCase(),!n[K])if(i.test(K)){var O=e.pid;n[K]=function(){var k=ur.format.apply(ur,arguments);console.error("%s %d: %s",K,O,k)}}else n[K]=function(){};return n[K]};function a(K,O){var k={seen:[],stylize:l};return arguments.length>=3&&(k.depth=arguments[2]),arguments.length>=4&&(k.colors=arguments[3]),p(O)?k.showHidden=O:O&&ur._extend(k,O),d(k.showHidden)&&(k.showHidden=!1),d(k.depth)&&(k.depth=2),d(k.colors)&&(k.colors=!1),d(k.customInspect)&&(k.customInspect=!0),k.colors&&(k.stylize=s),f(k,K,k.depth)}ur.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s(K,O){var k=a.styles[O];return k?"\x1B["+a.colors[k][0]+"m"+K+"\x1B["+a.colors[k][1]+"m":K}function l(K,O){return K}function u(K){var O={};return K.forEach(function(k,q){O[k]=!0}),O}function f(K,O,k){if(K.customInspect&&O&&F(O.inspect)&&O.inspect!==ur.inspect&&!(O.constructor&&O.constructor.prototype===O)){var q=O.inspect(k,K);return $(q)||(q=f(K,q,k)),q}var ie=c(K,O);if(ie)return ie;var J=Object.keys(O),Y=u(J);if(K.showHidden&&(J=Object.getOwnPropertyNames(O)),D(O)&&(J.indexOf("message")>=0||J.indexOf("description")>=0))return h(O);if(J.length===0){if(F(O)){var oe=O.name?": "+O.name:"";return K.stylize("[Function"+oe+"]","special")}if(A(O))return K.stylize(RegExp.prototype.toString.call(O),"regexp");if(x(O))return K.stylize(Date.prototype.toString.call(O),"date");if(D(O))return h(O)}var _e="",ye=!1,R=["{","}"];if(v(O)&&(ye=!0,R=["[","]"]),F(O)){var I=O.name?": "+O.name:"";_e=" [Function"+I+"]"}if(A(O)&&(_e=" "+RegExp.prototype.toString.call(O)),x(O)&&(_e=" "+Date.prototype.toUTCString.call(O)),D(O)&&(_e=" "+h(O)),J.length===0&&(!ye||O.length==0))return R[0]+_e+R[1];if(k<0)return A(O)?K.stylize(RegExp.prototype.toString.call(O),"regexp"):K.stylize("[Object]","special");K.seen.push(O);var N;return ye?N=m(K,O,k,Y,J):N=J.map(function(H){return g(K,O,k,Y,H,ye)}),K.seen.pop(),_(N,_e,R)}function c(K,O){if(d(O))return K.stylize("undefined","undefined");if($(O)){var k="'"+JSON.stringify(O).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return K.stylize(k,"string")}if(S(O))return K.stylize(""+O,"number");if(p(O))return K.stylize(""+O,"boolean");if(E(O))return K.stylize("null","null")}function h(K){return"["+Error.prototype.toString.call(K)+"]"}function m(K,O,k,q,ie){for(var J=[],Y=0,oe=O.length;Y<oe;++Y)ee(O,String(Y))?J.push(g(K,O,k,q,String(Y),!0)):J.push("");return ie.forEach(function(_e){_e.match(/^\d+$/)||J.push(g(K,O,k,q,_e,!0))}),J}function g(K,O,k,q,ie,J){var Y,oe,_e;if(_e=Object.getOwnPropertyDescriptor(O,ie)||{value:O[ie]},_e.get?_e.set?oe=K.stylize("[Getter/Setter]","special"):oe=K.stylize("[Getter]","special"):_e.set&&(oe=K.stylize("[Setter]","special")),ee(q,ie)||(Y="["+ie+"]"),oe||(K.seen.indexOf(_e.value)<0?(E(k)?oe=f(K,_e.value,null):oe=f(K,_e.value,k-1),oe.indexOf(`
`)>-1&&(J?oe=oe.split(`
`).map(function(ye){return"  "+ye}).join(`
`).slice(2):oe=`
`+oe.split(`
`).map(function(ye){return"   "+ye}).join(`
`))):oe=K.stylize("[Circular]","special")),d(Y)){if(J&&ie.match(/^\d+$/))return oe;Y=JSON.stringify(""+ie),Y.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Y=Y.slice(1,-1),Y=K.stylize(Y,"name")):(Y=Y.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Y=K.stylize(Y,"string"))}return Y+": "+oe}function _(K,O,k){var q=K.reduce(function(ie,J){return J.indexOf(`
`)>=0,ie+J.replace(/\u001b\[\d\d?m/g,"").length+1},0);return q>60?k[0]+(O===""?"":O+`
 `)+" "+K.join(`,
  `)+" "+k[1]:k[0]+O+" "+K.join(", ")+" "+k[1]}ur.types=U7();function v(K){return Array.isArray(K)}ur.isArray=v;function p(K){return typeof K=="boolean"}ur.isBoolean=p;function E(K){return K===null}ur.isNull=E;function y(K){return K==null}ur.isNullOrUndefined=y;function S(K){return typeof K=="number"}ur.isNumber=S;function $(K){return typeof K=="string"}ur.isString=$;function T(K){return typeof K=="symbol"}ur.isSymbol=T;function d(K){return K===void 0}ur.isUndefined=d;function A(K){return P(K)&&X(K)==="[object RegExp]"}ur.isRegExp=A,ur.types.isRegExp=A;function P(K){return typeof K=="object"&&K!==null}ur.isObject=P;function x(K){return P(K)&&X(K)==="[object Date]"}ur.isDate=x,ur.types.isDate=x;function D(K){return P(K)&&(X(K)==="[object Error]"||K instanceof Error)}ur.isError=D,ur.types.isNativeError=D;function F(K){return typeof K=="function"}ur.isFunction=F;function V(K){return K===null||typeof K=="boolean"||typeof K=="number"||typeof K=="string"||typeof K=="symbol"||typeof K>"u"}ur.isPrimitive=V,ur.isBuffer=z7();function X(K){return Object.prototype.toString.call(K)}function G(K){return K<10?"0"+K.toString(10):K.toString(10)}var Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ce(){var K=new Date,O=[G(K.getHours()),G(K.getMinutes()),G(K.getSeconds())].join(":");return[K.getDate(),Q[K.getMonth()],O].join(" ")}ur.log=function(){console.log("%s - %s",ce(),ur.format.apply(ur,arguments))},ur.inherits=Zu(),ur._extend=function(K,O){if(!O||!P(O))return K;for(var k=Object.keys(O),q=k.length;q--;)K[k[q]]=O[k[q]];return K};function ee(K,O){return Object.prototype.hasOwnProperty.call(K,O)}var ae=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;ur.promisify=function(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');if(ae&&O[ae]){if(k=O[ae],typeof k!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(k,ae,{value:k,enumerable:!1,writable:!1,configurable:!0}),k}function k(){for(var q,ie,J=new Promise(function(_e,ye){q=_e,ie=ye}),Y=[],oe=0;oe<arguments.length;oe++)Y.push(arguments[oe]);Y.push(function(_e,ye){_e?ie(_e):q(ye)});try{O.apply(this||vd,Y)}catch(_e){ie(_e)}return J}return Object.setPrototypeOf(k,Object.getPrototypeOf(O)),ae&&Object.defineProperty(k,ae,{value:k,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(k,t(O))},ur.promisify.custom=ae;function M(K,O){if(!K){var k=new Error("Promise was rejected with a falsy value");k.reason=K,K=k}return O(K)}function B(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');function O(){for(var k=[],q=0;q<arguments.length;q++)k.push(arguments[q]);var ie=k.pop();if(typeof ie!="function")throw new TypeError("The last argument must be of type Function");var J=this||vd,Y=function(){return ie.apply(J,arguments)};K.apply(this||vd,k).then(function(oe){e.nextTick(Y.bind(null,null,oe))},function(oe){e.nextTick(M.bind(null,oe,Y))})}return Object.setPrototypeOf(O,Object.getPrototypeOf(K)),Object.defineProperties(O,t(K)),O}return ur.callbackify=B,ur}var C0,qA,k0,VA,j0,HA,D0,GA,M0,WA,L0,KA,F0,JA,Oz,B0,YA,Rz,U0,XA,lr,QA,z0,ZA,ur,eP,vd,Wt,Iz,Nz,Cz,kz,jz,Dz,Mz,Lz,Fz,Bz,Uz,zz,qz,Vz,Hz,Gz,Wz,Kz,Jz,Yz,Xz,Qz,Zz,xb,e6,t6,r6,z_=tn({"../../node_modules/@jspm/core/nodelibs/browser/util.js"(){Ae(),wR(),oR(),dg(),C0={},qA=!1,k0={},VA=!1,j0={},HA=!1,D0={},GA=!1,M0={},WA=!1,L0={},KA=!1,F0={},JA=!1,Oz=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,B0={},YA=!1,Rz=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,U0={},XA=!1,lr={},QA=!1,z0={},ZA=!1,ur={},eP=!1,vd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Wt=q7(),Wt.format,Wt.deprecate,Wt.debuglog,Wt.inspect,Wt.types,Wt.isArray,Wt.isBoolean,Wt.isNull,Wt.isNullOrUndefined,Wt.isNumber,Wt.isString,Wt.isSymbol,Wt.isUndefined,Wt.isRegExp,Wt.isObject,Wt.isDate,Wt.isError,Wt.isFunction,Wt.isPrimitive,Wt.isBuffer,Wt.log,Wt.inherits,Wt._extend,Wt.promisify,Wt.callbackify,Iz=Wt._extend,Nz=Wt.callbackify,Cz=Wt.debuglog,kz=Wt.deprecate,jz=Wt.format,Dz=Wt.inherits,Mz=Wt.inspect,Lz=Wt.isArray,Fz=Wt.isBoolean,Bz=Wt.isBuffer,Uz=Wt.isDate,zz=Wt.isError,qz=Wt.isFunction,Vz=Wt.isNull,Hz=Wt.isNullOrUndefined,Gz=Wt.isNumber,Wz=Wt.isObject,Kz=Wt.isPrimitive,Jz=Wt.isRegExp,Yz=Wt.isString,Xz=Wt.isSymbol,Qz=Wt.isUndefined,Zz=Wt.log,xb=Wt.promisify,e6=Wt.types,t6=Wt.TextEncoder=globalThis.TextEncoder,r6=Wt.TextDecoder=globalThis.TextDecoder}}),Xo={};Ys(Xo,{Duplex:()=>c6,PassThrough:()=>d6,Readable:()=>lw,Stream:()=>m6,Transform:()=>f6,Writable:()=>u6,default:()=>Zr,finished:()=>h6,pipeline:()=>p6,promises:()=>g6});function Dn(){return tP||(tP=!0,q0={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array}),q0}function Cm(){if(rP)return yd;rP=!0;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return yd=e,yd.AbortSignal=t,yd.default=e,yd}function to(){if(nP)return Ip;nP=!0;const e=xo(),{kResistStopPropagation:t,SymbolDispose:r}=Dn(),n=globalThis.AbortSignal||Cm().AbortSignal,i=globalThis.AbortController||Cm().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,a=globalThis.Blob||e.Blob,s=typeof a<"u"?function(h){return h instanceof a}:function(h){return!1},l=(c,h)=>{if(c!==void 0&&(c===null||typeof c!="object"||!("aborted"in c)))throw new ERR_INVALID_ARG_TYPE(h,"AbortSignal",c)},u=(c,h)=>{if(typeof c!="function")throw new ERR_INVALID_ARG_TYPE(h,"Function",c)};class f extends Error{constructor(h){if(!Array.isArray(h))throw new TypeError(`Expected input to be an Array, got ${typeof h}`);let m="";for(let g=0;g<h.length;g++)m+=`    ${h[g].stack}
`;super(m),this.name="AggregateError",this.errors=h}}return Ip={AggregateError:f,kEmptyObject:Object.freeze({}),once(c){let h=!1;return function(...m){h||(h=!0,c.apply(this,m))}},createDeferredPromise:function(){let c,h;return{promise:new Promise((g,_)=>{c=g,h=_}),resolve:c,reject:h}},promisify(c){return new Promise((h,m)=>{c((g,..._)=>g?m(g):h(..._))})},debuglog(){return function(){}},format(c,...h){return c.replace(/%([sdifj])/g,function(...[m,g]){const _=h.shift();return g==="f"?_.toFixed(6):g==="j"?JSON.stringify(_):g==="s"&&typeof _=="object"?`${_.constructor!==Object?_.constructor.name:""} {}`.trim():_.toString()})},inspect(c){switch(typeof c){case"string":if(c.includes("'"))if(c.includes('"')){if(!c.includes("`")&&!c.includes("${"))return`\`${c}\``}else return`"${c}"`;return`'${c}'`;case"number":return isNaN(c)?"NaN":Object.is(c,-0)?String(c):c;case"bigint":return`${String(c)}n`;case"boolean":case"undefined":return String(c);case"object":return"{}"}},types:{isAsyncFunction(c){return c instanceof o},isArrayBufferView(c){return ArrayBuffer.isView(c)}},isBlob:s,deprecate(c,h){return c},addAbortListener:js.addAbortListener||function(h,m){if(h===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",h);l(h,"signal"),u(m,"listener");let g;return h.aborted?queueMicrotask(()=>m()):(h.addEventListener("abort",m,{__proto__:null,once:!0,[t]:!0}),g=()=>{h.removeEventListener("abort",m)}),{__proto__:null,[r](){var _;(_=g)===null||_===void 0||_()}}},AbortSignalAny:n.any||function(h){if(h.length===1)return h[0];const m=new i,g=()=>m.abort();return h.forEach(_=>{l(_,"signals"),_.addEventListener("abort",g,{once:!0})}),m.signal.addEventListener("abort",()=>{h.forEach(_=>_.removeEventListener("abort",g))},{once:!0}),m.signal}},Ip.promisify.custom=Symbol.for("nodejs.util.promisify.custom"),Ip}function Ro(){if(iP)return V0;iP=!0;const{format:e,inspect:t,AggregateError:r}=to(),n=globalThis.AggregateError||r,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],a=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",l={};function u(v,p){if(!v)throw new l.ERR_INTERNAL_ASSERTION(p)}function f(v){let p="",E=v.length;const y=v[0]==="-"?1:0;for(;E>=y+4;E-=3)p=`_${v.slice(E-3,E)}${p}`;return`${v.slice(0,E)}${p}`}function c(v,p,E){if(typeof p=="function")return u(p.length<=E.length,`Code: ${v}; The provided arguments length (${E.length}) does not match the required ones (${p.length}).`),p(...E);const y=(p.match(/%[dfijoOs]/g)||[]).length;return u(y===E.length,`Code: ${v}; The provided arguments length (${E.length}) does not match the required ones (${y}).`),E.length===0?p:e(p,...E)}function h(v,p,E){E||(E=Error);class y extends E{constructor(...$){super(c(v,p,$))}toString(){return`${this.name} [${v}]: ${this.message}`}}Object.defineProperties(y.prototype,{name:{value:E.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${v}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),y.prototype.code=v,y.prototype[i]=!0,l[v]=y}function m(v){const p=s+v.name;return Object.defineProperty(v,"name",{value:p}),v}function g(v,p){if(v&&p&&v!==p){if(Array.isArray(p.errors))return p.errors.push(v),p;const E=new n([p,v],p.message);return E.code=p.code,E}return v||p}class _ extends Error{constructor(p="The operation was aborted",E=void 0){if(E!==void 0&&typeof E!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",E);super(p,E),this.code="ABORT_ERR",this.name="AbortError"}}return h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",(v,p,E)=>{u(typeof v=="string","'name' must be a string"),Array.isArray(p)||(p=[p]);let y="The ";v.endsWith(" argument")?y+=`${v} `:y+=`"${v}" ${v.includes(".")?"property":"argument"} `,y+="must be ";const S=[],$=[],T=[];for(const A of p)u(typeof A=="string","All expected entries have to be of type string"),o.includes(A)?S.push(A.toLowerCase()):a.test(A)?$.push(A):(u(A!=="object",'The value "object" should be written as "Object"'),T.push(A));if($.length>0){const A=S.indexOf("object");A!==-1&&(S.splice(S,A,1),$.push("Object"))}if(S.length>0){switch(S.length){case 1:y+=`of type ${S[0]}`;break;case 2:y+=`one of type ${S[0]} or ${S[1]}`;break;default:{const A=S.pop();y+=`one of type ${S.join(", ")}, or ${A}`}}($.length>0||T.length>0)&&(y+=" or ")}if($.length>0){switch($.length){case 1:y+=`an instance of ${$[0]}`;break;case 2:y+=`an instance of ${$[0]} or ${$[1]}`;break;default:{const A=$.pop();y+=`an instance of ${$.join(", ")}, or ${A}`}}T.length>0&&(y+=" or ")}switch(T.length){case 0:break;case 1:T[0].toLowerCase()!==T[0]&&(y+="an "),y+=`${T[0]}`;break;case 2:y+=`one of ${T[0]} or ${T[1]}`;break;default:{const A=T.pop();y+=`one of ${T.join(", ")}, or ${A}`}}if(E==null)y+=`. Received ${E}`;else if(typeof E=="function"&&E.name)y+=`. Received function ${E.name}`;else if(typeof E=="object"){var d;if((d=E.constructor)!==null&&d!==void 0&&d.name)y+=`. Received an instance of ${E.constructor.name}`;else{const A=t(E,{depth:-1});y+=`. Received ${A}`}}else{let A=t(E,{colors:!1});A.length>25&&(A=`${A.slice(0,25)}...`),y+=`. Received type ${typeof E} (${A})`}return y},TypeError),h("ERR_INVALID_ARG_VALUE",(v,p,E="is invalid")=>{let y=t(p);return y.length>128&&(y=y.slice(0,128)+"..."),`The ${v.includes(".")?"property":"argument"} '${v}' ${E}. Received ${y}`},TypeError),h("ERR_INVALID_RETURN_VALUE",(v,p,E)=>{var y;const S=E!=null&&(y=E.constructor)!==null&&y!==void 0&&y.name?`instance of ${E.constructor.name}`:`type ${typeof E}`;return`Expected ${v} to be returned from the "${p}" function but got ${S}.`},TypeError),h("ERR_MISSING_ARGS",(...v)=>{u(v.length>0,"At least one arg needs to be specified");let p;const E=v.length;switch(v=(Array.isArray(v)?v:[v]).map(y=>`"${y}"`).join(" or "),E){case 1:p+=`The ${v[0]} argument`;break;case 2:p+=`The ${v[0]} and ${v[1]} arguments`;break;default:{const y=v.pop();p+=`The ${v.join(", ")}, and ${y} arguments`}break}return`${p} must be specified`},TypeError),h("ERR_OUT_OF_RANGE",(v,p,E)=>{u(p,'Missing "range" argument');let y;return Number.isInteger(E)&&Math.abs(E)>2**32?y=f(String(E)):typeof E=="bigint"?(y=String(E),(E>2n**32n||E<-(2n**32n))&&(y=f(y)),y+="n"):y=t(E),`The value of "${v}" is out of range. It must be ${p}. Received ${y}`},RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),V0={AbortError:_,aggregateTwoErrors:m(g),hideStackFrames:m,codes:l},V0}function mg(){if(oP)return H0;oP=!0;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:a,NumberMIN_SAFE_INTEGER:s,NumberParseInt:l,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:f,String:c,StringPrototypeToUpperCase:h,StringPrototypeTrim:m}=Dn(),{hideStackFrames:g,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:p,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:y}}=Ro(),{normalizeEncoding:S}=to(),{isAsyncFunction:$,isArrayBufferView:T}=to().types,d={};function A(me){return me===(me|0)}function P(me){return me===me>>>0}const x=/^[0-7]+$/,D="must be a 32-bit unsigned integer or an octal string";function F(me,Re,Le){if(typeof me>"u"&&(me=Le),typeof me=="string"){if(f(x,me)===null)throw new p(Re,me,D);me=l(me,8)}return G(me,Re),me}const V=g((me,Re,Le=s,je=a)=>{if(typeof me!="number")throw new v(Re,"number",me);if(!i(me))throw new E(Re,"an integer",me);if(me<Le||me>je)throw new E(Re,`>= ${Le} && <= ${je}`,me)}),X=g((me,Re,Le=-2147483648,je=2147483647)=>{if(typeof me!="number")throw new v(Re,"number",me);if(!i(me))throw new E(Re,"an integer",me);if(me<Le||me>je)throw new E(Re,`>= ${Le} && <= ${je}`,me)}),G=g((me,Re,Le=!1)=>{if(typeof me!="number")throw new v(Re,"number",me);if(!i(me))throw new E(Re,"an integer",me);const je=Le?1:0,tt=4294967295;if(me<je||me>tt)throw new E(Re,`>= ${je} && <= ${tt}`,me)});function Q(me,Re){if(typeof me!="string")throw new v(Re,"string",me)}function ce(me,Re,Le=void 0,je){if(typeof me!="number")throw new v(Re,"number",me);if(Le!=null&&me<Le||je!=null&&me>je||(Le!=null||je!=null)&&o(me))throw new E(Re,`${Le!=null?`>= ${Le}`:""}${Le!=null&&je!=null?" && ":""}${je!=null?`<= ${je}`:""}`,me)}const ee=g((me,Re,Le)=>{if(!t(Le,me)){const tt="must be one of: "+r(n(Le,Ge=>typeof Ge=="string"?`'${Ge}'`:c(Ge)),", ");throw new p(Re,me,tt)}});function ae(me,Re){if(typeof me!="boolean")throw new v(Re,"boolean",me)}function M(me,Re,Le){return me==null||!u(me,Re)?Le:me[Re]}const B=g((me,Re,Le=null)=>{const je=M(Le,"allowArray",!1),tt=M(Le,"allowFunction",!1);if(!M(Le,"nullable",!1)&&me===null||!je&&e(me)||typeof me!="object"&&(!tt||typeof me!="function"))throw new v(Re,"Object",me)}),K=g((me,Re)=>{if(me!=null&&typeof me!="object"&&typeof me!="function")throw new v(Re,"a dictionary",me)}),O=g((me,Re,Le=0)=>{if(!e(me))throw new v(Re,"Array",me);if(me.length<Le){const je=`must be longer than ${Le}`;throw new p(Re,me,je)}});function k(me,Re){O(me,Re);for(let Le=0;Le<me.length;Le++)Q(me[Le],`${Re}[${Le}]`)}function q(me,Re){O(me,Re);for(let Le=0;Le<me.length;Le++)ae(me[Le],`${Re}[${Le}]`)}function ie(me,Re){O(me,Re);for(let Le=0;Le<me.length;Le++){const je=me[Le],tt=`${Re}[${Le}]`;if(je==null)throw new v(tt,"AbortSignal",je);ye(je,tt)}}function J(me,Re="signal"){if(Q(me,Re),d[me]===void 0)throw d[h(me)]!==void 0?new y(me+" (signals must use all capital letters)"):new y(me)}const Y=g((me,Re="buffer")=>{if(!T(me))throw new v(Re,["Buffer","TypedArray","DataView"],me)});function oe(me,Re){const Le=S(Re),je=me.length;if(Le==="hex"&&je%2!==0)throw new p("encoding",Re,`is invalid for data of length ${je}`)}function _e(me,Re="Port",Le=!0){if(typeof me!="number"&&typeof me!="string"||typeof me=="string"&&m(me).length===0||+me!==+me>>>0||me>65535||me===0&&!Le)throw new _(Re,me,Le);return me|0}const ye=g((me,Re)=>{if(me!==void 0&&(me===null||typeof me!="object"||!("aborted"in me)))throw new v(Re,"AbortSignal",me)}),R=g((me,Re)=>{if(typeof me!="function")throw new v(Re,"Function",me)}),I=g((me,Re)=>{if(typeof me!="function"||$(me))throw new v(Re,"Function",me)}),N=g((me,Re)=>{if(me!==void 0)throw new v(Re,"undefined",me)});function H(me,Re,Le){if(!t(Le,me))throw new v(Re,`('${r(Le,"|")}')`,me)}const re=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function le(me,Re){if(typeof me>"u"||!f(re,me))throw new p(Re,me,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function fe(me){if(typeof me=="string")return le(me,"hints"),me;if(e(me)){const Re=me.length;let Le="";if(Re===0)return Le;for(let je=0;je<Re;je++){const tt=me[je];le(tt,"hints"),Le+=tt,je!==Re-1&&(Le+=", ")}return Le}throw new p("hints",me,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return H0={isInt32:A,isUint32:P,parseFileMode:F,validateArray:O,validateStringArray:k,validateBooleanArray:q,validateAbortSignalArray:ie,validateBoolean:ae,validateBuffer:Y,validateDictionary:K,validateEncoding:oe,validateFunction:R,validateInt32:X,validateInteger:V,validateNumber:ce,validateObject:B,validateOneOf:ee,validatePlainFunction:I,validatePort:_e,validateSignalName:J,validateString:Q,validateUint32:G,validateUndefined:N,validateUnion:H,validateAbortSignal:ye,validateLinkHeaderValue:fe},H0}function Fl(){if(aP)return G0;aP=!0;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:r}=Dn(),n=r("nodejs.stream.destroyed"),i=r("nodejs.stream.errored"),o=r("nodejs.stream.readable"),a=r("nodejs.stream.writable"),s=r("nodejs.stream.disturbed"),l=r("nodejs.webstream.isClosedPromise"),u=r("nodejs.webstream.controllerErrorFunction");function f(M,B=!1){var K;return!!(M&&typeof M.pipe=="function"&&typeof M.on=="function"&&(!B||typeof M.pause=="function"&&typeof M.resume=="function")&&(!M._writableState||((K=M._readableState)===null||K===void 0?void 0:K.readable)!==!1)&&(!M._writableState||M._readableState))}function c(M){var B;return!!(M&&typeof M.write=="function"&&typeof M.on=="function"&&(!M._readableState||((B=M._writableState)===null||B===void 0?void 0:B.writable)!==!1))}function h(M){return!!(M&&typeof M.pipe=="function"&&M._readableState&&typeof M.on=="function"&&typeof M.write=="function")}function m(M){return M&&(M._readableState||M._writableState||typeof M.write=="function"&&typeof M.on=="function"||typeof M.pipe=="function"&&typeof M.on=="function")}function g(M){return!!(M&&!m(M)&&typeof M.pipeThrough=="function"&&typeof M.getReader=="function"&&typeof M.cancel=="function")}function _(M){return!!(M&&!m(M)&&typeof M.getWriter=="function"&&typeof M.abort=="function")}function v(M){return!!(M&&!m(M)&&typeof M.readable=="object"&&typeof M.writable=="object")}function p(M){return g(M)||_(M)||v(M)}function E(M,B){return M==null?!1:B===!0?typeof M[e]=="function":B===!1?typeof M[t]=="function":typeof M[e]=="function"||typeof M[t]=="function"}function y(M){if(!m(M))return null;const B=M._writableState,K=M._readableState,O=B||K;return!!(M.destroyed||M[n]||O!=null&&O.destroyed)}function S(M){if(!c(M))return null;if(M.writableEnded===!0)return!0;const B=M._writableState;return B!=null&&B.errored?!1:typeof(B==null?void 0:B.ended)!="boolean"?null:B.ended}function $(M,B){if(!c(M))return null;if(M.writableFinished===!0)return!0;const K=M._writableState;return K!=null&&K.errored?!1:typeof(K==null?void 0:K.finished)!="boolean"?null:!!(K.finished||B===!1&&K.ended===!0&&K.length===0)}function T(M){if(!f(M))return null;if(M.readableEnded===!0)return!0;const B=M._readableState;return!B||B.errored?!1:typeof(B==null?void 0:B.ended)!="boolean"?null:B.ended}function d(M,B){if(!f(M))return null;const K=M._readableState;return K!=null&&K.errored?!1:typeof(K==null?void 0:K.endEmitted)!="boolean"?null:!!(K.endEmitted||B===!1&&K.ended===!0&&K.length===0)}function A(M){return M&&M[o]!=null?M[o]:typeof(M==null?void 0:M.readable)!="boolean"?null:y(M)?!1:f(M)&&M.readable&&!d(M)}function P(M){return M&&M[a]!=null?M[a]:typeof(M==null?void 0:M.writable)!="boolean"?null:y(M)?!1:c(M)&&M.writable&&!S(M)}function x(M,B){return m(M)?y(M)?!0:!((B==null?void 0:B.readable)!==!1&&A(M)||(B==null?void 0:B.writable)!==!1&&P(M)):null}function D(M){var B,K;return m(M)?M.writableErrored?M.writableErrored:(B=(K=M._writableState)===null||K===void 0?void 0:K.errored)!==null&&B!==void 0?B:null:null}function F(M){var B,K;return m(M)?M.readableErrored?M.readableErrored:(B=(K=M._readableState)===null||K===void 0?void 0:K.errored)!==null&&B!==void 0?B:null:null}function V(M){if(!m(M))return null;if(typeof M.closed=="boolean")return M.closed;const B=M._writableState,K=M._readableState;return typeof(B==null?void 0:B.closed)=="boolean"||typeof(K==null?void 0:K.closed)=="boolean"?(B==null?void 0:B.closed)||(K==null?void 0:K.closed):typeof M._closed=="boolean"&&X(M)?M._closed:null}function X(M){return typeof M._closed=="boolean"&&typeof M._defaultKeepAlive=="boolean"&&typeof M._removedConnection=="boolean"&&typeof M._removedContLen=="boolean"}function G(M){return typeof M._sent100=="boolean"&&X(M)}function Q(M){var B;return typeof M._consuming=="boolean"&&typeof M._dumped=="boolean"&&((B=M.req)===null||B===void 0?void 0:B.upgradeOrConnect)===void 0}function ce(M){if(!m(M))return null;const B=M._writableState,K=M._readableState,O=B||K;return!O&&G(M)||!!(O&&O.autoDestroy&&O.emitClose&&O.closed===!1)}function ee(M){var B;return!!(M&&((B=M[s])!==null&&B!==void 0?B:M.readableDidRead||M.readableAborted))}function ae(M){var B,K,O,k,q,ie,J,Y,oe,_e;return!!(M&&((B=(K=(O=(k=(q=(ie=M[i])!==null&&ie!==void 0?ie:M.readableErrored)!==null&&q!==void 0?q:M.writableErrored)!==null&&k!==void 0?k:(J=M._readableState)===null||J===void 0?void 0:J.errorEmitted)!==null&&O!==void 0?O:(Y=M._writableState)===null||Y===void 0?void 0:Y.errorEmitted)!==null&&K!==void 0?K:(oe=M._readableState)===null||oe===void 0?void 0:oe.errored)!==null&&B!==void 0?B:!((_e=M._writableState)===null||_e===void 0)&&_e.errored))}return G0={isDestroyed:y,kIsDestroyed:n,isDisturbed:ee,kIsDisturbed:s,isErrored:ae,kIsErrored:i,isReadable:A,kIsReadable:o,kIsClosedPromise:l,kControllerErrorFunction:u,kIsWritable:a,isClosed:V,isDuplexNodeStream:h,isFinished:x,isIterable:E,isReadableNodeStream:f,isReadableStream:g,isReadableEnded:T,isReadableFinished:d,isReadableErrored:F,isNodeStream:m,isWebStream:p,isWritable:P,isWritableNodeStream:c,isWritableStream:_,isWritableEnded:S,isWritableFinished:$,isWritableErrored:D,isServerRequest:Q,isServerResponse:G,willEmitClose:ce,isTransformStream:v},G0}function ec(){if(sP)return Np;sP=!0;const e=ci,{AbortError:t,codes:r}=Ro(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=r,{kEmptyObject:o,once:a}=to(),{validateAbortSignal:s,validateFunction:l,validateObject:u,validateBoolean:f}=mg(),{Promise:c,PromisePrototypeThen:h,SymbolDispose:m}=Dn(),{isClosed:g,isReadable:_,isReadableNodeStream:v,isReadableStream:p,isReadableFinished:E,isReadableErrored:y,isWritable:S,isWritableNodeStream:$,isWritableStream:T,isWritableFinished:d,isWritableErrored:A,isNodeStream:P,willEmitClose:x,kIsClosedPromise:D}=Fl();let F;function V(ee){return ee.setHeader&&typeof ee.abort=="function"}const X=()=>{};function G(ee,ae,M){var B,K;if(arguments.length===2?(M=ae,ae=o):ae==null?ae=o:u(ae,"options"),l(M,"callback"),s(ae.signal,"options.signal"),M=a(M),p(ee)||T(ee))return Q(ee,ae,M);if(!P(ee))throw new n("stream",["ReadableStream","WritableStream","Stream"],ee);const O=(B=ae.readable)!==null&&B!==void 0?B:v(ee),k=(K=ae.writable)!==null&&K!==void 0?K:$(ee),q=ee._writableState,ie=ee._readableState,J=()=>{ee.writable||_e()};let Y=x(ee)&&v(ee)===O&&$(ee)===k,oe=d(ee,!1);const _e=()=>{oe=!0,ee.destroyed&&(Y=!1),!(Y&&(!ee.readable||O))&&(!O||ye)&&M.call(ee)};let ye=E(ee,!1);const R=()=>{ye=!0,ee.destroyed&&(Y=!1),!(Y&&(!ee.writable||k))&&(!k||oe)&&M.call(ee)},I=me=>{M.call(ee,me)};let N=g(ee);const H=()=>{N=!0;const me=A(ee)||y(ee);if(me&&typeof me!="boolean")return M.call(ee,me);if(O&&!ye&&v(ee,!0)&&!E(ee,!1))return M.call(ee,new i);if(k&&!oe&&!d(ee,!1))return M.call(ee,new i);M.call(ee)},re=()=>{N=!0;const me=A(ee)||y(ee);if(me&&typeof me!="boolean")return M.call(ee,me);M.call(ee)},le=()=>{ee.req.on("finish",_e)};V(ee)?(ee.on("complete",_e),Y||ee.on("abort",H),ee.req?le():ee.on("request",le)):k&&!q&&(ee.on("end",J),ee.on("close",J)),!Y&&typeof ee.aborted=="boolean"&&ee.on("aborted",H),ee.on("end",R),ee.on("finish",_e),ae.error!==!1&&ee.on("error",I),ee.on("close",H),N?e.nextTick(H):q!=null&&q.errorEmitted||ie!=null&&ie.errorEmitted?Y||e.nextTick(re):(!O&&(!Y||_(ee))&&(oe||S(ee)===!1)||!k&&(!Y||S(ee))&&(ye||_(ee)===!1)||ie&&ee.req&&ee.aborted)&&e.nextTick(re);const fe=()=>{M=X,ee.removeListener("aborted",H),ee.removeListener("complete",_e),ee.removeListener("abort",H),ee.removeListener("request",le),ee.req&&ee.req.removeListener("finish",_e),ee.removeListener("end",J),ee.removeListener("close",J),ee.removeListener("finish",_e),ee.removeListener("end",R),ee.removeListener("error",I),ee.removeListener("close",H)};if(ae.signal&&!N){const me=()=>{const Re=M;fe(),Re.call(ee,new t(void 0,{cause:ae.signal.reason}))};if(ae.signal.aborted)e.nextTick(me);else{F=F||to().addAbortListener;const Re=F(ae.signal,me),Le=M;M=a((...je)=>{Re[m](),Le.apply(ee,je)})}}return fe}function Q(ee,ae,M){let B=!1,K=X;if(ae.signal)if(K=()=>{B=!0,M.call(ee,new t(void 0,{cause:ae.signal.reason}))},ae.signal.aborted)e.nextTick(K);else{F=F||to().addAbortListener;const k=F(ae.signal,K),q=M;M=a((...ie)=>{k[m](),q.apply(ee,ie)})}const O=(...k)=>{B||e.nextTick(()=>M.apply(ee,k))};return h(ee[D].promise,O,O),X}function ce(ee,ae){var M;let B=!1;return ae===null&&(ae=o),(M=ae)!==null&&M!==void 0&&M.cleanup&&(f(ae.cleanup,"cleanup"),B=ae.cleanup),new c((K,O)=>{const k=G(ee,ae,q=>{B&&k(),q?O(q):K()})})}return Np=G,Np.finished=ce,Np}function Ch(){if(lP)return W0;lP=!0;const e=ci,{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=Ro(),{Symbol:i}=Dn(),{kIsDestroyed:o,isDestroyed:a,isFinished:s,isServerRequest:l}=Fl(),u=i("kDestroy"),f=i("kConstruct");function c(x,D,F){x&&(x.stack,D&&!D.errored&&(D.errored=x),F&&!F.errored&&(F.errored=x))}function h(x,D){const F=this._readableState,V=this._writableState,X=V||F;return V!=null&&V.destroyed||F!=null&&F.destroyed?(typeof D=="function"&&D(),this):(c(x,V,F),V&&(V.destroyed=!0),F&&(F.destroyed=!0),X.constructed?m(this,x,D):this.once(u,function(G){m(this,t(G,x),D)}),this)}function m(x,D,F){let V=!1;function X(G){if(V)return;V=!0;const Q=x._readableState,ce=x._writableState;c(G,ce,Q),ce&&(ce.closed=!0),Q&&(Q.closed=!0),typeof F=="function"&&F(G),G?e.nextTick(g,x,G):e.nextTick(_,x)}try{x._destroy(D||null,X)}catch(G){X(G)}}function g(x,D){v(x,D),_(x)}function _(x){const D=x._readableState,F=x._writableState;F&&(F.closeEmitted=!0),D&&(D.closeEmitted=!0),(F!=null&&F.emitClose||D!=null&&D.emitClose)&&x.emit("close")}function v(x,D){const F=x._readableState,V=x._writableState;V!=null&&V.errorEmitted||F!=null&&F.errorEmitted||(V&&(V.errorEmitted=!0),F&&(F.errorEmitted=!0),x.emit("error",D))}function p(){const x=this._readableState,D=this._writableState;x&&(x.constructed=!0,x.closed=!1,x.closeEmitted=!1,x.destroyed=!1,x.errored=null,x.errorEmitted=!1,x.reading=!1,x.ended=x.readable===!1,x.endEmitted=x.readable===!1),D&&(D.constructed=!0,D.destroyed=!1,D.closed=!1,D.closeEmitted=!1,D.errored=null,D.errorEmitted=!1,D.finalCalled=!1,D.prefinished=!1,D.ended=D.writable===!1,D.ending=D.writable===!1,D.finished=D.writable===!1)}function E(x,D,F){const V=x._readableState,X=x._writableState;if(X!=null&&X.destroyed||V!=null&&V.destroyed)return this;V!=null&&V.autoDestroy||X!=null&&X.autoDestroy?x.destroy(D):D&&(D.stack,X&&!X.errored&&(X.errored=D),V&&!V.errored&&(V.errored=D),F?e.nextTick(v,x,D):v(x,D))}function y(x,D){if(typeof x._construct!="function")return;const F=x._readableState,V=x._writableState;F&&(F.constructed=!1),V&&(V.constructed=!1),x.once(f,D),!(x.listenerCount(f)>1)&&e.nextTick(S,x)}function S(x){let D=!1;function F(V){if(D){E(x,V??new r);return}D=!0;const X=x._readableState,G=x._writableState,Q=G||X;X&&(X.constructed=!0),G&&(G.constructed=!0),Q.destroyed?x.emit(u,V):V?E(x,V,!0):e.nextTick($,x)}try{x._construct(V=>{e.nextTick(F,V)})}catch(V){e.nextTick(F,V)}}function $(x){x.emit(f)}function T(x){return(x==null?void 0:x.setHeader)&&typeof x.abort=="function"}function d(x){x.emit("close")}function A(x,D){x.emit("error",D),e.nextTick(d,x)}function P(x,D){!x||a(x)||(!D&&!s(x)&&(D=new n),l(x)?(x.socket=null,x.destroy(D)):T(x)?x.abort():T(x.req)?x.req.abort():typeof x.destroy=="function"?x.destroy(D):typeof x.close=="function"?x.close():D?e.nextTick(A,x,D):e.nextTick(d,x),x.destroyed||(x[o]=!0))}return W0={construct:y,destroyer:P,destroy:h,undestroy:p,errorOrDestroy:E},W0}function _R(){if(uP)return K0;uP=!0;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Dn(),{EventEmitter:r}=js;function n(o){r.call(this,o)}t(n.prototype,r.prototype),t(n,r),n.prototype.pipe=function(o,a){const s=this;function l(_){o.writable&&o.write(_)===!1&&s.pause&&s.pause()}s.on("data",l);function u(){s.readable&&s.resume&&s.resume()}o.on("drain",u),!o._isStdio&&(!a||a.end!==!1)&&(s.on("end",c),s.on("close",h));let f=!1;function c(){f||(f=!0,o.end())}function h(){f||(f=!0,typeof o.destroy=="function"&&o.destroy())}function m(_){g(),r.listenerCount(this,"error")===0&&this.emit("error",_)}i(s,"error",m),i(o,"error",m);function g(){s.removeListener("data",l),o.removeListener("drain",u),s.removeListener("end",c),s.removeListener("close",h),s.removeListener("error",m),o.removeListener("error",m),s.removeListener("end",g),s.removeListener("close",g),o.removeListener("close",g)}return s.on("end",g),s.on("close",g),o.on("close",g),o.emit("pipe",s),o};function i(o,a,s){if(typeof o.prependListener=="function")return o.prependListener(a,s);!o._events||!o._events[a]?o.on(a,s):e(o._events[a])?o._events[a].unshift(s):o._events[a]=[s,o._events[a]]}return K0={Stream:n,prependListener:i},K0}function q_(){if(cP)return wd;cP=!0;const{SymbolDispose:e}=Dn(),{AbortError:t,codes:r}=Ro(),{isNodeStream:n,isWebStream:i,kControllerErrorFunction:o}=Fl(),a=ec(),{ERR_INVALID_ARG_TYPE:s}=r;let l;const u=(f,c)=>{if(typeof f!="object"||!("aborted"in f))throw new s(c,"AbortSignal",f)};return wd.addAbortSignal=function(c,h){if(u(c,"signal"),!n(h)&&!i(h))throw new s("stream",["ReadableStream","WritableStream","Stream"],h);return wd.addAbortSignalNoValidate(c,h)},wd.addAbortSignalNoValidate=function(f,c){if(typeof f!="object"||!("aborted"in f))return c;const h=n(c)?()=>{c.destroy(new t(void 0,{cause:f.reason}))}:()=>{c[o](new t(void 0,{cause:f.reason}))};if(f.aborted)h();else{l=l||to().addAbortListener;const m=l(f,h);a(c,m[e])}return c},wd}function V7(){if(fP)return J0;fP=!0;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:r,Uint8Array:n}=Dn(),{Buffer:i}=xo(),{inspect:o}=to();return J0=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const l={data:s,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(s){const l={data:s,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let l=this.head,u=""+l.data;for(;(l=l.next)!==null;)u+=s+l.data;return u}concat(s){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(s>>>0);let u=this.head,f=0;for(;u;)r(l,u.data,f),f+=u.data.length,u=u.next;return l}consume(s,l){const u=this.head.data;if(s<u.length){const f=u.slice(0,s);return this.head.data=u.slice(s),f}return s===u.length?this.shift():l?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[t](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let l="",u=this.head,f=0;do{const c=u.data;if(s>c.length)l+=c,s-=c.length;else{s===c.length?(l+=c,++f,u.next?this.head=u.next:this.head=this.tail=null):(l+=e(c,0,s),this.head=u,u.data=e(c,s));break}++f}while((u=u.next)!==null);return this.length-=f,l}_getBuffer(s){const l=i.allocUnsafe(s),u=s;let f=this.head,c=0;do{const h=f.data;if(s>h.length)r(l,h,u-s),s-=h.length;else{s===h.length?(r(l,h,u-s),++c,f.next?this.head=f.next:this.head=this.tail=null):(r(l,new n(h.buffer,h.byteOffset,s),u-s),this.head=f,f.data=h.slice(s));break}++c}while((f=f.next)!==null);return this.length-=c,l}[Symbol.for("nodejs.util.inspect.custom")](s,l){return o(this,{...l,depth:0,customInspect:!1})}},J0}function V_(){if(dP)return Y0;dP=!0;const{MathFloor:e,NumberIsInteger:t}=Dn(),{validateInteger:r}=mg(),{ERR_INVALID_ARG_VALUE:n}=Ro().codes;let i=16*1024,o=16;function a(f,c,h){return f.highWaterMark!=null?f.highWaterMark:c?f[h]:null}function s(f){return f?o:i}function l(f,c){r(c,"value",0),f?o=c:i=c}function u(f,c,h,m){const g=a(c,m,h);if(g!=null){if(!t(g)||g<0){const _=m?`options.${h}`:"options.highWaterMark";throw new n(_,g)}return e(g)}return s(f.objectMode)}return Y0={getHighWaterMark:u,getDefaultHighWaterMark:s,setDefaultHighWaterMark:l},Y0}function n6(){if(hP)return X0;hP=!0;const e=ci,{PromisePrototypeThen:t,SymbolAsyncIterator:r,SymbolIterator:n}=Dn(),{Buffer:i}=xo(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:a}=Ro().codes;function s(l,u,f){let c;if(typeof u=="string"||u instanceof i)return new l({objectMode:!0,...f,read(){this.push(u),this.push(null)}});let h;if(u&&u[r])h=!0,c=u[r]();else if(u&&u[n])h=!1,c=u[n]();else throw new o("iterable",["Iterable"],u);const m=new l({objectMode:!0,highWaterMark:1,...f});let g=!1;m._read=function(){g||(g=!0,v())},m._destroy=function(p,E){t(_(p),()=>e.nextTick(E,p),y=>e.nextTick(E,y||p))};async function _(p){const E=p!=null,y=typeof c.throw=="function";if(E&&y){const{value:S,done:$}=await c.throw(p);if(await S,$)return}if(typeof c.return=="function"){const{value:S}=await c.return();await S}}async function v(){for(;;){try{const{value:p,done:E}=h?await c.next():c.next();if(E)m.push(null);else{const y=p&&typeof p.then=="function"?await p:p;if(y===null)throw g=!1,new a;if(m.push(y))continue;g=!1}}catch(p){m.destroy(p)}break}}return m}return X0=s,X0}function H_(){if(pP)return Q0;pP=!0;const e=ci,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:a,ObjectSetPrototypeOf:s,Promise:l,SafeSet:u,SymbolAsyncDispose:f,SymbolAsyncIterator:c,Symbol:h}=Dn();Q0=je,je.ReadableState=Le;const{EventEmitter:m}=js,{Stream:g,prependListener:_}=_R(),{Buffer:v}=xo(),{addAbortSignal:p}=q_(),E=ec();let y=to().debuglog("stream",$e=>{y=$e});const S=V7(),$=Ch(),{getHighWaterMark:T,getDefaultHighWaterMark:d}=V_(),{aggregateTwoErrors:A,codes:{ERR_INVALID_ARG_TYPE:P,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_OUT_OF_RANGE:D,ERR_STREAM_PUSH_AFTER_EOF:F,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:V},AbortError:X}=Ro(),{validateObject:G}=mg(),Q=h("kPaused"),{StringDecoder:ce}=Jd,ee=n6();s(je.prototype,g.prototype),s(je,g);const ae=()=>{},{errorOrDestroy:M}=$,B=1,K=2,O=4,k=8,q=16,ie=32,J=64,Y=128,oe=256,_e=512,ye=1024,R=2048,I=4096,N=8192,H=16384,re=32768,le=65536,fe=1<<17,me=1<<18;function Re($e){return{enumerable:!1,get(){return((this||ut).state&$e)!==0},set(Ne){Ne?(this||ut).state|=$e:(this||ut).state&=~$e}}}o(Le.prototype,{objectMode:Re(B),ended:Re(K),endEmitted:Re(O),reading:Re(k),constructed:Re(q),sync:Re(ie),needReadable:Re(J),emittedReadable:Re(Y),readableListening:Re(oe),resumeScheduled:Re(_e),errorEmitted:Re(ye),emitClose:Re(R),autoDestroy:Re(I),destroyed:Re(N),closed:Re(H),closeEmitted:Re(re),multiAwaitDrain:Re(le),readingMore:Re(fe),dataEmitted:Re(me)});function Le($e,Ne,dt){typeof dt!="boolean"&&(dt=Ne instanceof Nl()),(this||ut).state=R|I|q|ie,$e&&$e.objectMode&&((this||ut).state|=B),dt&&$e&&$e.readableObjectMode&&((this||ut).state|=B),(this||ut).highWaterMark=$e?T(this||ut,$e,"readableHighWaterMark",dt):d(!1),(this||ut).buffer=new S,(this||ut).length=0,(this||ut).pipes=[],(this||ut).flowing=null,(this||ut)[Q]=null,$e&&$e.emitClose===!1&&((this||ut).state&=-2049),$e&&$e.autoDestroy===!1&&((this||ut).state&=-4097),(this||ut).errored=null,(this||ut).defaultEncoding=$e&&$e.defaultEncoding||"utf8",(this||ut).awaitDrainWriters=null,(this||ut).decoder=null,(this||ut).encoding=null,$e&&$e.encoding&&((this||ut).decoder=new ce($e.encoding),(this||ut).encoding=$e.encoding)}function je($e){if(!((this||ut)instanceof je))return new je($e);const Ne=(this||ut)instanceof Nl();(this||ut)._readableState=new Le($e,this||ut,Ne),$e&&(typeof $e.read=="function"&&((this||ut)._read=$e.read),typeof $e.destroy=="function"&&((this||ut)._destroy=$e.destroy),typeof $e.construct=="function"&&((this||ut)._construct=$e.construct),$e.signal&&!Ne&&p($e.signal,this||ut)),g.call(this||ut,$e),$.construct(this||ut,()=>{(this||ut)._readableState.needReadable&&Se(this||ut,(this||ut)._readableState)})}je.prototype.destroy=$.destroy,je.prototype._undestroy=$.undestroy,je.prototype._destroy=function($e,Ne){Ne($e)},je.prototype[m.captureRejectionSymbol]=function($e){this.destroy($e)},je.prototype[f]=function(){let $e;return(this||ut).destroyed||($e=(this||ut).readableEnded?null:new X,this.destroy($e)),new l((Ne,dt)=>E(this||ut,Ye=>Ye&&Ye!==$e?dt(Ye):Ne(null)))},je.prototype.push=function($e,Ne){return tt(this||ut,$e,Ne,!1)},je.prototype.unshift=function($e,Ne){return tt(this||ut,$e,Ne,!0)};function tt($e,Ne,dt,Ye){y("readableAddChunk",Ne);const nt=$e._readableState;let Ot;if(nt.state&B||(typeof Ne=="string"?(dt=dt||nt.defaultEncoding,nt.encoding!==dt&&(Ye&&nt.encoding?Ne=v.from(Ne,dt).toString(nt.encoding):(Ne=v.from(Ne,dt),dt=""))):Ne instanceof v?dt="":g._isUint8Array(Ne)?(Ne=g._uint8ArrayToBuffer(Ne),dt=""):Ne!=null&&(Ot=new P("chunk",["string","Buffer","Uint8Array"],Ne))),Ot)M($e,Ot);else if(Ne===null)nt.state&=-9,L($e,nt);else if(nt.state&B||Ne&&Ne.length>0)if(Ye)if(nt.state&O)M($e,new V);else{if(nt.destroyed||nt.errored)return!1;Ge($e,nt,Ne,!0)}else if(nt.ended)M($e,new F);else{if(nt.destroyed||nt.errored)return!1;nt.state&=-9,nt.decoder&&!dt?(Ne=nt.decoder.write(Ne),nt.objectMode||Ne.length!==0?Ge($e,nt,Ne,!1):Se($e,nt)):Ge($e,nt,Ne,!1)}else Ye||(nt.state&=-9,Se($e,nt));return!nt.ended&&(nt.length<nt.highWaterMark||nt.length===0)}function Ge($e,Ne,dt,Ye){Ne.flowing&&Ne.length===0&&!Ne.sync&&$e.listenerCount("data")>0?(Ne.state&le?Ne.awaitDrainWriters.clear():Ne.awaitDrainWriters=null,Ne.dataEmitted=!0,$e.emit("data",dt)):(Ne.length+=Ne.objectMode?1:dt.length,Ye?Ne.buffer.unshift(dt):Ne.buffer.push(dt),Ne.state&J&&ne($e)),Se($e,Ne)}je.prototype.isPaused=function(){const $e=(this||ut)._readableState;return $e[Q]===!0||$e.flowing===!1},je.prototype.setEncoding=function($e){const Ne=new ce($e);(this||ut)._readableState.decoder=Ne,(this||ut)._readableState.encoding=(this||ut)._readableState.decoder.encoding;const dt=(this||ut)._readableState.buffer;let Ye="";for(const nt of dt)Ye+=Ne.write(nt);return dt.clear(),Ye!==""&&dt.push(Ye),(this||ut)._readableState.length=Ye.length,this||ut};const Ue=1073741824;function W($e){if($e>Ue)throw new D("size","<= 1GiB",$e);return $e--,$e|=$e>>>1,$e|=$e>>>2,$e|=$e>>>4,$e|=$e>>>8,$e|=$e>>>16,$e++,$e}function C($e,Ne){return $e<=0||Ne.length===0&&Ne.ended?0:Ne.state&B?1:n($e)?Ne.flowing&&Ne.length?Ne.buffer.first().length:Ne.length:$e<=Ne.length?$e:Ne.ended?Ne.length:0}je.prototype.read=function($e){y("read",$e),$e===void 0?$e=NaN:r($e)||($e=i($e,10));const Ne=(this||ut)._readableState,dt=$e;if($e>Ne.highWaterMark&&(Ne.highWaterMark=W($e)),$e!==0&&(Ne.state&=-129),$e===0&&Ne.needReadable&&((Ne.highWaterMark!==0?Ne.length>=Ne.highWaterMark:Ne.length>0)||Ne.ended))return y("read: emitReadable",Ne.length,Ne.ended),Ne.length===0&&Ne.ended?hr(this||ut):ne(this||ut),null;if($e=C($e,Ne),$e===0&&Ne.ended)return Ne.length===0&&hr(this||ut),null;let Ye=(Ne.state&J)!==0;if(y("need readable",Ye),(Ne.length===0||Ne.length-$e<Ne.highWaterMark)&&(Ye=!0,y("length less than watermark",Ye)),Ne.ended||Ne.reading||Ne.destroyed||Ne.errored||!Ne.constructed)Ye=!1,y("reading, ended or constructing",Ye);else if(Ye){y("do read"),Ne.state|=k|ie,Ne.length===0&&(Ne.state|=J);try{this._read(Ne.highWaterMark)}catch(Ot){M(this||ut,Ot)}Ne.state&=-33,Ne.reading||($e=C(dt,Ne))}let nt;return $e>0?nt=rr($e,Ne):nt=null,nt===null?(Ne.needReadable=Ne.length<=Ne.highWaterMark,$e=0):(Ne.length-=$e,Ne.multiAwaitDrain?Ne.awaitDrainWriters.clear():Ne.awaitDrainWriters=null),Ne.length===0&&(Ne.ended||(Ne.needReadable=!0),dt!==$e&&Ne.ended&&hr(this||ut)),nt!==null&&!Ne.errorEmitted&&!Ne.closeEmitted&&(Ne.dataEmitted=!0,this.emit("data",nt)),nt};function L($e,Ne){if(y("onEofChunk"),!Ne.ended){if(Ne.decoder){const dt=Ne.decoder.end();dt&&dt.length&&(Ne.buffer.push(dt),Ne.length+=Ne.objectMode?1:dt.length)}Ne.ended=!0,Ne.sync?ne($e):(Ne.needReadable=!1,Ne.emittedReadable=!0,we($e))}}function ne($e){const Ne=$e._readableState;y("emitReadable",Ne.needReadable,Ne.emittedReadable),Ne.needReadable=!1,Ne.emittedReadable||(y("emitReadable",Ne.flowing),Ne.emittedReadable=!0,e.nextTick(we,$e))}function we($e){const Ne=$e._readableState;y("emitReadable_",Ne.destroyed,Ne.length,Ne.ended),!Ne.destroyed&&!Ne.errored&&(Ne.length||Ne.ended)&&($e.emit("readable"),Ne.emittedReadable=!1),Ne.needReadable=!Ne.flowing&&!Ne.ended&&Ne.length<=Ne.highWaterMark,kt($e)}function Se($e,Ne){!Ne.readingMore&&Ne.constructed&&(Ne.readingMore=!0,e.nextTick(ke,$e,Ne))}function ke($e,Ne){for(;!Ne.reading&&!Ne.ended&&(Ne.length<Ne.highWaterMark||Ne.flowing&&Ne.length===0);){const dt=Ne.length;if(y("maybeReadMore read 0"),$e.read(0),dt===Ne.length)break}Ne.readingMore=!1}je.prototype._read=function($e){throw new x("_read()")},je.prototype.pipe=function($e,Ne){const dt=this||ut,Ye=(this||ut)._readableState;Ye.pipes.length===1&&(Ye.multiAwaitDrain||(Ye.multiAwaitDrain=!0,Ye.awaitDrainWriters=new u(Ye.awaitDrainWriters?[Ye.awaitDrainWriters]:[]))),Ye.pipes.push($e),y("pipe count=%d opts=%j",Ye.pipes.length,Ne);const Ot=(!Ne||Ne.end!==!1)&&$e!==e.stdout&&$e!==e.stderr?de:jt;Ye.endEmitted?e.nextTick(Ot):dt.once("end",Ot),$e.on("unpipe",qt);function qt(St,Rt){y("onunpipe"),St===dt&&Rt&&Rt.hasUnpiped===!1&&(Rt.hasUnpiped=!0,xe())}function de(){y("onend"),$e.end()}let ue,be=!1;function xe(){y("cleanup"),$e.removeListener("close",Pt),$e.removeListener("finish",Nt),ue&&$e.removeListener("drain",ue),$e.removeListener("error",it),$e.removeListener("unpipe",qt),dt.removeListener("end",de),dt.removeListener("end",jt),dt.removeListener("data",et),be=!0,ue&&Ye.awaitDrainWriters&&(!$e._writableState||$e._writableState.needDrain)&&ue()}function Pe(){be||(Ye.pipes.length===1&&Ye.pipes[0]===$e?(y("false write response, pause",0),Ye.awaitDrainWriters=$e,Ye.multiAwaitDrain=!1):Ye.pipes.length>1&&Ye.pipes.includes($e)&&(y("false write response, pause",Ye.awaitDrainWriters.size),Ye.awaitDrainWriters.add($e)),dt.pause()),ue||(ue=Ie(dt,$e),$e.on("drain",ue))}dt.on("data",et);function et(St){y("ondata");const Rt=$e.write(St);y("dest.write",Rt),Rt===!1&&Pe()}function it(St){if(y("onerror",St),jt(),$e.removeListener("error",it),$e.listenerCount("error")===0){const Rt=$e._writableState||$e._readableState;Rt&&!Rt.errorEmitted?M($e,St):$e.emit("error",St)}}_($e,"error",it);function Pt(){$e.removeListener("finish",Nt),jt()}$e.once("close",Pt);function Nt(){y("onfinish"),$e.removeListener("close",Pt),jt()}$e.once("finish",Nt);function jt(){y("unpipe"),dt.unpipe($e)}return $e.emit("pipe",dt),$e.writableNeedDrain===!0?Pe():Ye.flowing||(y("pipe resume"),dt.resume()),$e};function Ie($e,Ne){return function(){const Ye=$e._readableState;Ye.awaitDrainWriters===Ne?(y("pipeOnDrain",1),Ye.awaitDrainWriters=null):Ye.multiAwaitDrain&&(y("pipeOnDrain",Ye.awaitDrainWriters.size),Ye.awaitDrainWriters.delete(Ne)),(!Ye.awaitDrainWriters||Ye.awaitDrainWriters.size===0)&&$e.listenerCount("data")&&$e.resume()}}je.prototype.unpipe=function($e){const Ne=(this||ut)._readableState,dt={hasUnpiped:!1};if(Ne.pipes.length===0)return this||ut;if(!$e){const nt=Ne.pipes;Ne.pipes=[],this.pause();for(let Ot=0;Ot<nt.length;Ot++)nt[Ot].emit("unpipe",this||ut,{hasUnpiped:!1});return this||ut}const Ye=t(Ne.pipes,$e);return Ye===-1?this||ut:(Ne.pipes.splice(Ye,1),Ne.pipes.length===0&&this.pause(),$e.emit("unpipe",this||ut,dt),this||ut)},je.prototype.on=function($e,Ne){const dt=g.prototype.on.call(this||ut,$e,Ne),Ye=(this||ut)._readableState;return $e==="data"?(Ye.readableListening=this.listenerCount("readable")>0,Ye.flowing!==!1&&this.resume()):$e==="readable"&&!Ye.endEmitted&&!Ye.readableListening&&(Ye.readableListening=Ye.needReadable=!0,Ye.flowing=!1,Ye.emittedReadable=!1,y("on readable",Ye.length,Ye.reading),Ye.length?ne(this||ut):Ye.reading||e.nextTick(ft,this||ut)),dt},je.prototype.addListener=je.prototype.on,je.prototype.removeListener=function($e,Ne){const dt=g.prototype.removeListener.call(this||ut,$e,Ne);return $e==="readable"&&e.nextTick(Fe,this||ut),dt},je.prototype.off=je.prototype.removeListener,je.prototype.removeAllListeners=function($e){const Ne=g.prototype.removeAllListeners.apply(this||ut,arguments);return($e==="readable"||$e===void 0)&&e.nextTick(Fe,this||ut),Ne};function Fe($e){const Ne=$e._readableState;Ne.readableListening=$e.listenerCount("readable")>0,Ne.resumeScheduled&&Ne[Q]===!1?Ne.flowing=!0:$e.listenerCount("data")>0?$e.resume():Ne.readableListening||(Ne.flowing=null)}function ft($e){y("readable nexttick read 0"),$e.read(0)}je.prototype.resume=function(){const $e=(this||ut)._readableState;return $e.flowing||(y("resume"),$e.flowing=!$e.readableListening,vt(this||ut,$e)),$e[Q]=!1,this||ut};function vt($e,Ne){Ne.resumeScheduled||(Ne.resumeScheduled=!0,e.nextTick(at,$e,Ne))}function at($e,Ne){y("resume",Ne.reading),Ne.reading||$e.read(0),Ne.resumeScheduled=!1,$e.emit("resume"),kt($e),Ne.flowing&&!Ne.reading&&$e.read(0)}je.prototype.pause=function(){return y("call pause flowing=%j",(this||ut)._readableState.flowing),(this||ut)._readableState.flowing!==!1&&(y("pause"),(this||ut)._readableState.flowing=!1,this.emit("pause")),(this||ut)._readableState[Q]=!0,this||ut};function kt($e){const Ne=$e._readableState;for(y("flow",Ne.flowing);Ne.flowing&&$e.read()!==null;);}je.prototype.wrap=function($e){let Ne=!1;$e.on("data",Ye=>{!this.push(Ye)&&$e.pause&&(Ne=!0,$e.pause())}),$e.on("end",()=>{this.push(null)}),$e.on("error",Ye=>{M(this||ut,Ye)}),$e.on("close",()=>{this.destroy()}),$e.on("destroy",()=>{this.destroy()}),(this||ut)._read=()=>{Ne&&$e.resume&&(Ne=!1,$e.resume())};const dt=a($e);for(let Ye=1;Ye<dt.length;Ye++){const nt=dt[Ye];(this||ut)[nt]===void 0&&typeof $e[nt]=="function"&&((this||ut)[nt]=$e[nt].bind($e))}return this||ut},je.prototype[c]=function(){return br(this||ut)},je.prototype.iterator=function($e){return $e!==void 0&&G($e,"options"),br(this||ut,$e)};function br($e,Ne){typeof $e.read!="function"&&($e=je.wrap($e,{objectMode:!0}));const dt=Pr($e,Ne);return dt.stream=$e,dt}async function*Pr($e,Ne){let dt=ae;function Ye(qt){(this||ut)===$e?(dt(),dt=ae):dt=qt}$e.on("readable",Ye);let nt;const Ot=E($e,{writable:!1},qt=>{nt=qt?A(nt,qt):null,dt(),dt=ae});try{for(;;){const qt=$e.destroyed?null:$e.read();if(qt!==null)yield qt;else{if(nt)throw nt;if(nt===null)return;await new l(Ye)}}}catch(qt){throw nt=A(nt,qt),nt}finally{(nt||(Ne==null?void 0:Ne.destroyOnReturn)!==!1)&&(nt===void 0||$e._readableState.autoDestroy)?$.destroyer($e,null):($e.off("readable",Ye),Ot())}}o(je.prototype,{readable:{__proto__:null,get(){const $e=(this||ut)._readableState;return!!$e&&$e.readable!==!1&&!$e.destroyed&&!$e.errorEmitted&&!$e.endEmitted},set($e){(this||ut)._readableState&&((this||ut)._readableState.readable=!!$e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return(this||ut)._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||ut)._readableState.readable!==!1&&((this||ut)._readableState.destroyed||(this||ut)._readableState.errored)&&!(this||ut)._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return(this||ut)._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return(this||ut)._readableState&&(this||ut)._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return(this||ut)._readableState.flowing},set:function($e){(this||ut)._readableState&&((this||ut)._readableState.flowing=$e)}},readableLength:{__proto__:null,enumerable:!1,get(){return(this||ut)._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return(this||ut)._readableState?(this||ut)._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return(this||ut)._readableState?(this||ut)._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return(this||ut)._readableState?(this||ut)._readableState.errored:null}},closed:{__proto__:null,get(){return(this||ut)._readableState?(this||ut)._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return(this||ut)._readableState?(this||ut)._readableState.destroyed:!1},set($e){(this||ut)._readableState&&((this||ut)._readableState.destroyed=$e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return(this||ut)._readableState?(this||ut)._readableState.endEmitted:!1}}}),o(Le.prototype,{pipesCount:{__proto__:null,get(){return(this||ut).pipes.length}},paused:{__proto__:null,get(){return(this||ut)[Q]!==!1},set($e){(this||ut)[Q]=!!$e}}}),je._fromList=rr;function rr($e,Ne){if(Ne.length===0)return null;let dt;return Ne.objectMode?dt=Ne.buffer.shift():!$e||$e>=Ne.length?(Ne.decoder?dt=Ne.buffer.join(""):Ne.buffer.length===1?dt=Ne.buffer.first():dt=Ne.buffer.concat(Ne.length),Ne.buffer.clear()):dt=Ne.buffer.consume($e,Ne.decoder),dt}function hr($e){const Ne=$e._readableState;y("endReadable",Ne.endEmitted),Ne.endEmitted||(Ne.ended=!0,e.nextTick(ln,Ne,$e))}function ln($e,Ne){if(y("endReadableNT",$e.endEmitted,$e.length),!$e.errored&&!$e.closeEmitted&&!$e.endEmitted&&$e.length===0){if($e.endEmitted=!0,Ne.emit("end"),Ne.writable&&Ne.allowHalfOpen===!1)e.nextTick(Vt,Ne);else if($e.autoDestroy){const dt=Ne._writableState;(!dt||dt.autoDestroy&&(dt.finished||dt.writable===!1))&&Ne.destroy()}}}function Vt($e){$e.writable&&!$e.writableEnded&&!$e.destroyed&&$e.end()}je.from=function($e,Ne){return ee(je,$e,Ne)};let zt;function At(){return zt===void 0&&(zt={}),zt}return je.fromWeb=function($e,Ne){return At().newStreamReadableFromReadableStream($e,Ne)},je.toWeb=function($e,Ne){return At().newReadableStreamFromStreamReadable($e,Ne)},je.wrap=function($e,Ne){var dt,Ye;return new je({objectMode:(dt=(Ye=$e.readableObjectMode)!==null&&Ye!==void 0?Ye:$e.objectMode)!==null&&dt!==void 0?dt:!0,...Ne,destroy(nt,Ot){$.destroyer($e,nt),Ot(nt)}}).wrap($e)},Q0}function ER(){if(mP)return Z0;mP=!0;const e=ci,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:s,Symbol:l,SymbolHasInstance:u}=Dn();Z0=G,G.WritableState=V;const{EventEmitter:f}=js,c=_R().Stream,{Buffer:h}=xo(),m=Ch(),{addAbortSignal:g}=q_(),{getHighWaterMark:_,getDefaultHighWaterMark:v}=V_(),{ERR_INVALID_ARG_TYPE:p,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:y,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:d,ERR_STREAM_WRITE_AFTER_END:A,ERR_UNKNOWN_ENCODING:P}=Ro().codes,{errorOrDestroy:x}=m;a(G.prototype,c.prototype),a(G,c);function D(){}const F=l("kOnFinished");function V(I,N,H){typeof H!="boolean"&&(H=N instanceof Nl()),(this||_t).objectMode=!!(I&&I.objectMode),H&&((this||_t).objectMode=(this||_t).objectMode||!!(I&&I.writableObjectMode)),(this||_t).highWaterMark=I?_(this||_t,I,"writableHighWaterMark",H):v(!1),(this||_t).finalCalled=!1,(this||_t).needDrain=!1,(this||_t).ending=!1,(this||_t).ended=!1,(this||_t).finished=!1,(this||_t).destroyed=!1;const re=!!(I&&I.decodeStrings===!1);(this||_t).decodeStrings=!re,(this||_t).defaultEncoding=I&&I.defaultEncoding||"utf8",(this||_t).length=0,(this||_t).writing=!1,(this||_t).corked=0,(this||_t).sync=!0,(this||_t).bufferProcessing=!1,(this||_t).onwrite=M.bind(void 0,N),(this||_t).writecb=null,(this||_t).writelen=0,(this||_t).afterWriteTickInfo=null,X(this||_t),(this||_t).pendingcb=0,(this||_t).constructed=!0,(this||_t).prefinished=!1,(this||_t).errorEmitted=!1,(this||_t).emitClose=!I||I.emitClose!==!1,(this||_t).autoDestroy=!I||I.autoDestroy!==!1,(this||_t).errored=null,(this||_t).closed=!1,(this||_t).closeEmitted=!1,(this||_t)[F]=[]}function X(I){I.buffered=[],I.bufferedIndex=0,I.allBuffers=!0,I.allNoop=!0}V.prototype.getBuffer=function(){return t((this||_t).buffered,(this||_t).bufferedIndex)},i(V.prototype,"bufferedRequestCount",{__proto__:null,get(){return(this||_t).buffered.length-(this||_t).bufferedIndex}});function G(I){const N=(this||_t)instanceof Nl();if(!N&&!n(G,this||_t))return new G(I);(this||_t)._writableState=new V(I,this||_t,N),I&&(typeof I.write=="function"&&((this||_t)._write=I.write),typeof I.writev=="function"&&((this||_t)._writev=I.writev),typeof I.destroy=="function"&&((this||_t)._destroy=I.destroy),typeof I.final=="function"&&((this||_t)._final=I.final),typeof I.construct=="function"&&((this||_t)._construct=I.construct),I.signal&&g(I.signal,this||_t)),c.call(this||_t,I),m.construct(this||_t,()=>{const H=(this||_t)._writableState;H.writing||k(this||_t,H),Y(this||_t,H)})}i(G,u,{__proto__:null,value:function(I){return n(this||_t,I)?!0:(this||_t)!==G?!1:I&&I._writableState instanceof V}}),G.prototype.pipe=function(){x(this||_t,new S)};function Q(I,N,H,re){const le=I._writableState;if(typeof H=="function")re=H,H=le.defaultEncoding;else{if(!H)H=le.defaultEncoding;else if(H!=="buffer"&&!h.isEncoding(H))throw new P(H);typeof re!="function"&&(re=D)}if(N===null)throw new d;if(!le.objectMode)if(typeof N=="string")le.decodeStrings!==!1&&(N=h.from(N,H),H="buffer");else if(N instanceof h)H="buffer";else if(c._isUint8Array(N))N=c._uint8ArrayToBuffer(N),H="buffer";else throw new p("chunk",["string","Buffer","Uint8Array"],N);let fe;return le.ending?fe=new A:le.destroyed&&(fe=new $("write")),fe?(e.nextTick(re,fe),x(I,fe,!0),fe):(le.pendingcb++,ce(I,le,N,H,re))}G.prototype.write=function(I,N,H){return Q(this||_t,I,N,H)===!0},G.prototype.cork=function(){(this||_t)._writableState.corked++},G.prototype.uncork=function(){const I=(this||_t)._writableState;I.corked&&(I.corked--,I.writing||k(this||_t,I))},G.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=s(N)),!h.isEncoding(N))throw new P(N);return(this||_t)._writableState.defaultEncoding=N,this||_t};function ce(I,N,H,re,le){const fe=N.objectMode?1:H.length;N.length+=fe;const me=N.length<N.highWaterMark;return me||(N.needDrain=!0),N.writing||N.corked||N.errored||!N.constructed?(N.buffered.push({chunk:H,encoding:re,callback:le}),N.allBuffers&&re!=="buffer"&&(N.allBuffers=!1),N.allNoop&&le!==D&&(N.allNoop=!1)):(N.writelen=fe,N.writecb=le,N.writing=!0,N.sync=!0,I._write(H,re,N.onwrite),N.sync=!1),me&&!N.errored&&!N.destroyed}function ee(I,N,H,re,le,fe,me){N.writelen=re,N.writecb=me,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new $("write")):H?I._writev(le,N.onwrite):I._write(le,fe,N.onwrite),N.sync=!1}function ae(I,N,H,re){--N.pendingcb,re(H),O(N),x(I,H)}function M(I,N){const H=I._writableState,re=H.sync,le=H.writecb;if(typeof le!="function"){x(I,new y);return}H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0,N?(N.stack,H.errored||(H.errored=N),I._readableState&&!I._readableState.errored&&(I._readableState.errored=N),re?e.nextTick(ae,I,H,N,le):ae(I,H,N,le)):(H.buffered.length>H.bufferedIndex&&k(I,H),re?H.afterWriteTickInfo!==null&&H.afterWriteTickInfo.cb===le?H.afterWriteTickInfo.count++:(H.afterWriteTickInfo={count:1,cb:le,stream:I,state:H},e.nextTick(B,H.afterWriteTickInfo)):K(I,H,1,le))}function B({stream:I,state:N,count:H,cb:re}){return N.afterWriteTickInfo=null,K(I,N,H,re)}function K(I,N,H,re){for(!N.ending&&!I.destroyed&&N.length===0&&N.needDrain&&(N.needDrain=!1,I.emit("drain"));H-- >0;)N.pendingcb--,re();N.destroyed&&O(N),Y(I,N)}function O(I){if(I.writing)return;for(let le=I.bufferedIndex;le<I.buffered.length;++le){var N;const{chunk:fe,callback:me}=I.buffered[le],Re=I.objectMode?1:fe.length;I.length-=Re,me((N=I.errored)!==null&&N!==void 0?N:new $("write"))}const H=I[F].splice(0);for(let le=0;le<H.length;le++){var re;H[le]((re=I.errored)!==null&&re!==void 0?re:new $("end"))}X(I)}function k(I,N){if(N.corked||N.bufferProcessing||N.destroyed||!N.constructed)return;const{buffered:H,bufferedIndex:re,objectMode:le}=N,fe=H.length-re;if(!fe)return;let me=re;if(N.bufferProcessing=!0,fe>1&&I._writev){N.pendingcb-=fe-1;const Re=N.allNoop?D:je=>{for(let tt=me;tt<H.length;++tt)H[tt].callback(je)},Le=N.allNoop&&me===0?H:t(H,me);Le.allBuffers=N.allBuffers,ee(I,N,!0,N.length,Le,"",Re),X(N)}else{do{const{chunk:Re,encoding:Le,callback:je}=H[me];H[me++]=null;const tt=le?1:Re.length;ee(I,N,!1,tt,Re,Le,je)}while(me<H.length&&!N.writing);me===H.length?X(N):me>256?(H.splice(0,me),N.bufferedIndex=0):N.bufferedIndex=me}N.bufferProcessing=!1}G.prototype._write=function(I,N,H){if((this||_t)._writev)this._writev([{chunk:I,encoding:N}],H);else throw new E("_write()")},G.prototype._writev=null,G.prototype.end=function(I,N,H){const re=(this||_t)._writableState;typeof I=="function"?(H=I,I=null,N=null):typeof N=="function"&&(H=N,N=null);let le;if(I!=null){const fe=Q(this||_t,I,N);fe instanceof r&&(le=fe)}return re.corked&&(re.corked=1,this.uncork()),le||(!re.errored&&!re.ending?(re.ending=!0,Y(this||_t,re,!0),re.ended=!0):re.finished?le=new T("end"):re.destroyed&&(le=new $("end"))),typeof H=="function"&&(le||re.finished?e.nextTick(H,le):re[F].push(H)),this||_t};function q(I){return I.ending&&!I.destroyed&&I.constructed&&I.length===0&&!I.errored&&I.buffered.length===0&&!I.finished&&!I.writing&&!I.errorEmitted&&!I.closeEmitted}function ie(I,N){let H=!1;function re(le){if(H){x(I,le??y());return}if(H=!0,N.pendingcb--,le){const fe=N[F].splice(0);for(let me=0;me<fe.length;me++)fe[me](le);x(I,le,N.sync)}else q(N)&&(N.prefinished=!0,I.emit("prefinish"),N.pendingcb++,e.nextTick(oe,I,N))}N.sync=!0,N.pendingcb++;try{I._final(re)}catch(le){re(le)}N.sync=!1}function J(I,N){!N.prefinished&&!N.finalCalled&&(typeof I._final=="function"&&!N.destroyed?(N.finalCalled=!0,ie(I,N)):(N.prefinished=!0,I.emit("prefinish")))}function Y(I,N,H){q(N)&&(J(I,N),N.pendingcb===0&&(H?(N.pendingcb++,e.nextTick((re,le)=>{q(le)?oe(re,le):le.pendingcb--},I,N)):q(N)&&(N.pendingcb++,oe(I,N))))}function oe(I,N){N.pendingcb--,N.finished=!0;const H=N[F].splice(0);for(let re=0;re<H.length;re++)H[re]();if(I.emit("finish"),N.autoDestroy){const re=I._readableState;(!re||re.autoDestroy&&(re.endEmitted||re.readable===!1))&&I.destroy()}}o(G.prototype,{closed:{__proto__:null,get(){return(this||_t)._writableState?(this||_t)._writableState.closed:!1}},destroyed:{__proto__:null,get(){return(this||_t)._writableState?(this||_t)._writableState.destroyed:!1},set(I){(this||_t)._writableState&&((this||_t)._writableState.destroyed=I)}},writable:{__proto__:null,get(){const I=(this||_t)._writableState;return!!I&&I.writable!==!1&&!I.destroyed&&!I.errored&&!I.ending&&!I.ended},set(I){(this||_t)._writableState&&((this||_t)._writableState.writable=!!I)}},writableFinished:{__proto__:null,get(){return(this||_t)._writableState?(this||_t)._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return(this||_t)._writableState?(this||_t)._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return(this||_t)._writableState&&(this||_t)._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return(this||_t)._writableState?(this||_t)._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const I=(this||_t)._writableState;return I?!I.destroyed&&!I.ending&&I.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return(this||_t)._writableState&&(this||_t)._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return(this||_t)._writableState?(this||_t)._writableState.corked:0}},writableLength:{__proto__:null,get(){return(this||_t)._writableState&&(this||_t)._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return(this||_t)._writableState?(this||_t)._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||_t)._writableState.writable!==!1&&((this||_t)._writableState.destroyed||(this||_t)._writableState.errored)&&!(this||_t)._writableState.finished)}}});const _e=m.destroy;G.prototype.destroy=function(I,N){const H=(this||_t)._writableState;return!H.destroyed&&(H.bufferedIndex<H.buffered.length||H[F].length)&&e.nextTick(O,H),_e.call(this||_t,I,N),this||_t},G.prototype._undestroy=m.undestroy,G.prototype._destroy=function(I,N){N(I)},G.prototype[f.captureRejectionSymbol]=function(I){this.destroy(I)};let ye;function R(){return ye===void 0&&(ye={}),ye}return G.fromWeb=function(I,N){return R().newStreamWritableFromWritableStream(I,N)},G.toWeb=function(I){return R().newWritableStreamFromStreamWritable(I)},Z0}function H7(){if(gP)return ew;gP=!0;const e=ci,t=xo(),{isReadable:r,isWritable:n,isIterable:i,isNodeStream:o,isReadableNodeStream:a,isWritableNodeStream:s,isDuplexNodeStream:l,isReadableStream:u,isWritableStream:f}=Fl(),c=ec(),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:g}}=Ro(),{destroyer:_}=Ch(),v=Nl(),p=H_(),E=ER(),{createDeferredPromise:y}=to(),S=n6(),$=globalThis.Blob||t.Blob,T=typeof $<"u"?function(V){return V instanceof $}:function(V){return!1},d=globalThis.AbortController||Cm().AbortController,{FunctionPrototypeCall:A}=Dn();class P extends v{constructor(V){super(V),(V==null?void 0:V.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(V==null?void 0:V.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}ew=function F(V,X){if(l(V))return V;if(a(V))return D({readable:V});if(s(V))return D({writable:V});if(o(V))return D({writable:!1,readable:!1});if(u(V))return D({readable:p.fromWeb(V)});if(f(V))return D({writable:E.fromWeb(V)});if(typeof V=="function"){const{value:Q,write:ce,final:ee,destroy:ae}=x(V);if(i(Q))return S(P,Q,{objectMode:!0,write:ce,final:ee,destroy:ae});const M=Q==null?void 0:Q.then;if(typeof M=="function"){let B;const K=A(M,Q,O=>{if(O!=null)throw new g("nully","body",O)},O=>{_(B,O)});return B=new P({objectMode:!0,readable:!1,write:ce,final(O){ee(async()=>{try{await K,e.nextTick(O,null)}catch(k){e.nextTick(O,k)}})},destroy:ae})}throw new g("Iterable, AsyncIterable or AsyncFunction",X,Q)}if(T(V))return F(V.arrayBuffer());if(i(V))return S(P,V,{objectMode:!0,writable:!1});if(u(V==null?void 0:V.readable)&&f(V==null?void 0:V.writable))return P.fromWeb(V);if(typeof(V==null?void 0:V.writable)=="object"||typeof(V==null?void 0:V.readable)=="object"){const Q=V!=null&&V.readable?a(V==null?void 0:V.readable)?V==null?void 0:V.readable:F(V.readable):void 0,ce=V!=null&&V.writable?s(V==null?void 0:V.writable)?V==null?void 0:V.writable:F(V.writable):void 0;return D({readable:Q,writable:ce})}const G=V==null?void 0:V.then;if(typeof G=="function"){let Q;return A(G,V,ce=>{ce!=null&&Q.push(ce),Q.push(null)},ce=>{_(Q,ce)}),Q=new P({objectMode:!0,writable:!1,read(){}})}throw new m(X,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],V)};function x(F){let{promise:V,resolve:X}=y();const G=new d,Q=G.signal;return{value:F(async function*(){for(;;){const ee=V;V=null;const{chunk:ae,done:M,cb:B}=await ee;if(e.nextTick(B),M)return;if(Q.aborted)throw new h(void 0,{cause:Q.reason});({promise:V,resolve:X}=y()),yield ae}}(),{signal:Q}),write(ee,ae,M){const B=X;X=null,B({chunk:ee,done:!1,cb:M})},final(ee){const ae=X;X=null,ae({done:!0,cb:ee})},destroy(ee,ae){G.abort(),ae(ee)}}}function D(F){const V=F.readable&&typeof F.readable.read!="function"?p.wrap(F.readable):F.readable,X=F.writable;let G=!!r(V),Q=!!n(X),ce,ee,ae,M,B;function K(O){const k=M;M=null,k?k(O):O&&B.destroy(O)}return B=new P({readableObjectMode:!!(V!=null&&V.readableObjectMode),writableObjectMode:!!(X!=null&&X.writableObjectMode),readable:G,writable:Q}),Q&&(c(X,O=>{Q=!1,O&&_(V,O),K(O)}),B._write=function(O,k,q){X.write(O,k)?q():ce=q},B._final=function(O){X.end(),ee=O},X.on("drain",function(){if(ce){const O=ce;ce=null,O()}}),X.on("finish",function(){if(ee){const O=ee;ee=null,O()}})),G&&(c(V,O=>{G=!1,O&&_(V,O),K(O)}),V.on("readable",function(){if(ae){const O=ae;ae=null,O()}}),V.on("end",function(){B.push(null)}),B._read=function(){for(;;){const O=V.read();if(O===null){ae=B._read;return}if(!B.push(O))return}}),B._destroy=function(O,k){!O&&M!==null&&(O=new h),ae=null,ce=null,ee=null,M===null?k(O):(M=k,_(X,O),_(V,O))},B}return ew}function Nl(){if(vP)return tw;vP=!0;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Dn();tw=a;const i=H_(),o=ER();n(a.prototype,i.prototype),n(a,i);{const f=r(o.prototype);for(let c=0;c<f.length;c++){const h=f[c];a.prototype[h]||(a.prototype[h]=o.prototype[h])}}function a(f){if(!(this instanceof a))return new a(f);i.call(this,f),o.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(o.prototype,"writableLength")},writableFinished:{__proto__:null,...t(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});let s;function l(){return s===void 0&&(s={}),s}a.fromWeb=function(f,c){return l().newStreamDuplexFromReadableWritablePair(f,c)},a.toWeb=function(f){return l().newReadableWritablePairFromDuplex(f)};let u;return a.from=function(f){return u||(u=H7()),u(f,"body")},tw}function i6(){if(yP)return rw;yP=!0;const{ObjectSetPrototypeOf:e,Symbol:t}=Dn();rw=a;const{ERR_METHOD_NOT_IMPLEMENTED:r}=Ro().codes,n=Nl(),{getHighWaterMark:i}=V_();e(a.prototype,n.prototype),e(a,n);const o=t("kCallback");function a(u){if(!(this instanceof a))return new a(u);const f=u?i(this,u,"readableHighWaterMark",!0):null;f===0&&(u={...u,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:u.writableHighWaterMark||0}),n.call(this,u),this._readableState.sync=!1,this[o]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function s(u){typeof this._flush=="function"&&!this.destroyed?this._flush((f,c)=>{if(f){u?u(f):this.destroy(f);return}c!=null&&this.push(c),this.push(null),u&&u()}):(this.push(null),u&&u())}function l(){this._final!==s&&s.call(this)}return a.prototype._final=s,a.prototype._transform=function(u,f,c){throw new r("_transform()")},a.prototype._write=function(u,f,c){const h=this._readableState,m=this._writableState,g=h.length;this._transform(u,f,(_,v)=>{if(_){c(_);return}v!=null&&this.push(v),m.ended||g===h.length||h.length<h.highWaterMark?c():this[o]=c})},a.prototype._read=function(){if(this[o]){const u=this[o];this[o]=null,u()}},rw}function o6(){if(wP)return nw;wP=!0;const{ObjectSetPrototypeOf:e}=Dn();nw=r;const t=i6();e(r.prototype,t.prototype),e(r,t);function r(n){if(!(this instanceof r))return new r(n);t.call(this,n)}return r.prototype._transform=function(n,i,o){o(null,n)},nw}function SR(){if(bP)return iw;bP=!0;const e=ci,{ArrayIsArray:t,Promise:r,SymbolAsyncIterator:n,SymbolDispose:i}=Dn(),o=ec(),{once:a}=to(),s=Ch(),l=Nl(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:c,ERR_MISSING_ARGS:h,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:g},AbortError:_}=Ro(),{validateFunction:v,validateAbortSignal:p}=mg(),{isIterable:E,isReadable:y,isReadableNodeStream:S,isNodeStream:$,isTransformStream:T,isWebStream:d,isReadableStream:A,isReadableFinished:P}=Fl(),x=globalThis.AbortController||Cm().AbortController;let D,F,V;function X(O,k,q){let ie=!1;O.on("close",()=>{ie=!0});const J=o(O,{readable:k,writable:q},Y=>{ie=!Y});return{destroy:Y=>{ie||(ie=!0,s.destroyer(O,Y||new m("pipe")))},cleanup:J}}function G(O){return v(O[O.length-1],"streams[stream.length - 1]"),O.pop()}function Q(O){if(E(O))return O;if(S(O))return ce(O);throw new f("val",["Readable","Iterable","AsyncIterable"],O)}async function*ce(O){F||(F=H_()),yield*F.prototype[n].call(O)}async function ee(O,k,q,{end:ie}){let J,Y=null;const oe=R=>{if(R&&(J=R),Y){const I=Y;Y=null,I()}},_e=()=>new r((R,I)=>{J?I(J):Y=()=>{J?I(J):R()}});k.on("drain",oe);const ye=o(k,{readable:!1},oe);try{k.writableNeedDrain&&await _e();for await(const R of O)k.write(R)||await _e();ie&&(k.end(),await _e()),q()}catch(R){q(J!==R?u(J,R):R)}finally{ye(),k.off("drain",oe)}}async function ae(O,k,q,{end:ie}){T(k)&&(k=k.writable);const J=k.getWriter();try{for await(const Y of O)await J.ready,J.write(Y).catch(()=>{});await J.ready,ie&&await J.close(),q()}catch(Y){try{await J.abort(Y),q(Y)}catch(oe){q(oe)}}}function M(...O){return B(O,a(G(O)))}function B(O,k,q){if(O.length===1&&t(O[0])&&(O=O[0]),O.length<2)throw new h("streams");const ie=new x,J=ie.signal,Y=q==null?void 0:q.signal,oe=[];p(Y,"options.signal");function _e(){le(new _)}V=V||to().addAbortListener;let ye;Y&&(ye=V(Y,_e));let R,I;const N=[];let H=0;function re(Le){le(Le,--H===0)}function le(Le,je){var tt;if(Le&&(!R||R.code==="ERR_STREAM_PREMATURE_CLOSE")&&(R=Le),!(!R&&!je)){for(;N.length;)N.shift()(R);(tt=ye)===null||tt===void 0||tt[i](),ie.abort(),je&&(R||oe.forEach(Ge=>Ge()),e.nextTick(k,R,I))}}let fe;for(let Le=0;Le<O.length;Le++){const je=O[Le],tt=Le<O.length-1,Ge=Le>0,Ue=tt||(q==null?void 0:q.end)!==!1,W=Le===O.length-1;if($(je)){let C=function(L){L&&L.name!=="AbortError"&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"&&re(L)};if(Ue){const{destroy:L,cleanup:ne}=X(je,tt,Ge);N.push(L),y(je)&&W&&oe.push(ne)}je.on("error",C),y(je)&&W&&oe.push(()=>{je.removeListener("error",C)})}if(Le===0)if(typeof je=="function"){if(fe=je({signal:J}),!E(fe))throw new c("Iterable, AsyncIterable or Stream","source",fe)}else E(je)||S(je)||T(je)?fe=je:fe=l.from(je);else if(typeof je=="function"){if(T(fe)){var me;fe=Q((me=fe)===null||me===void 0?void 0:me.readable)}else fe=Q(fe);if(fe=je(fe,{signal:J}),tt){if(!E(fe,!0))throw new c("AsyncIterable",`transform[${Le-1}]`,fe)}else{var Re;D||(D=o6());const C=new D({objectMode:!0}),L=(Re=fe)===null||Re===void 0?void 0:Re.then;if(typeof L=="function")H++,L.call(fe,Se=>{I=Se,Se!=null&&C.write(Se),Ue&&C.end(),e.nextTick(re)},Se=>{C.destroy(Se),e.nextTick(re,Se)});else if(E(fe,!0))H++,ee(fe,C,re,{end:Ue});else if(A(fe)||T(fe)){const Se=fe.readable||fe;H++,ee(Se,C,re,{end:Ue})}else throw new c("AsyncIterable or Promise","destination",fe);fe=C;const{destroy:ne,cleanup:we}=X(fe,!1,!0);N.push(ne),W&&oe.push(we)}}else if($(je)){if(S(fe)){H+=2;const C=K(fe,je,re,{end:Ue});y(je)&&W&&oe.push(C)}else if(T(fe)||A(fe)){const C=fe.readable||fe;H++,ee(C,je,re,{end:Ue})}else if(E(fe))H++,ee(fe,je,re,{end:Ue});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],fe);fe=je}else if(d(je)){if(S(fe))H++,ae(Q(fe),je,re,{end:Ue});else if(A(fe)||E(fe))H++,ae(fe,je,re,{end:Ue});else if(T(fe))H++,ae(fe.readable,je,re,{end:Ue});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],fe);fe=je}else fe=l.from(je)}return(J!=null&&J.aborted||Y!=null&&Y.aborted)&&e.nextTick(_e),fe}function K(O,k,q,{end:ie}){let J=!1;if(k.on("close",()=>{J||q(new g)}),O.pipe(k,{end:!1}),ie){let Y=function(){J=!0,k.end()};P(O)?e.nextTick(Y):O.once("end",Y)}else q();return o(O,{readable:!0,writable:!1},Y=>{const oe=O._readableState;Y&&Y.code==="ERR_STREAM_PREMATURE_CLOSE"&&oe&&oe.ended&&!oe.errored&&!oe.errorEmitted?O.once("end",q).once("error",q):q(Y)}),o(k,{readable:!1,writable:!0},q)}return iw={pipelineImpl:B,pipeline:M},iw}function a6(){if(_P)return ow;_P=!0;const{pipeline:e}=SR(),t=Nl(),{destroyer:r}=Ch(),{isNodeStream:n,isReadable:i,isWritable:o,isWebStream:a,isTransformStream:s,isWritableStream:l,isReadableStream:u}=Fl(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:c,ERR_MISSING_ARGS:h}}=Ro(),m=ec();return ow=function(..._){if(_.length===0)throw new h("streams");if(_.length===1)return t.from(_[0]);const v=[..._];if(typeof _[0]=="function"&&(_[0]=t.from(_[0])),typeof _[_.length-1]=="function"){const D=_.length-1;_[D]=t.from(_[D])}for(let D=0;D<_.length;++D)if(!(!n(_[D])&&!a(_[D]))){if(D<_.length-1&&!(i(_[D])||u(_[D])||s(_[D])))throw new c(`streams[${D}]`,v[D],"must be readable");if(D>0&&!(o(_[D])||l(_[D])||s(_[D])))throw new c(`streams[${D}]`,v[D],"must be writable")}let p,E,y,S,$;function T(D){const F=S;S=null,F?F(D):D?$.destroy(D):!x&&!P&&$.destroy()}const d=_[0],A=e(_,T),P=!!(o(d)||l(d)||s(d)),x=!!(i(A)||u(A)||s(A));if($=new t({writableObjectMode:!!(d!=null&&d.writableObjectMode),readableObjectMode:!!(A!=null&&A.readableObjectMode),writable:P,readable:x}),P){if(n(d))$._write=function(F,V,X){d.write(F,V)?X():p=X},$._final=function(F){d.end(),E=F},d.on("drain",function(){if(p){const F=p;p=null,F()}});else if(a(d)){const V=(s(d)?d.writable:d).getWriter();$._write=async function(X,G,Q){try{await V.ready,V.write(X).catch(()=>{}),Q()}catch(ce){Q(ce)}},$._final=async function(X){try{await V.ready,V.close().catch(()=>{}),E=X}catch(G){X(G)}}}const D=s(A)?A.readable:A;m(D,()=>{if(E){const F=E;E=null,F()}})}if(x){if(n(A))A.on("readable",function(){if(y){const D=y;y=null,D()}}),A.on("end",function(){$.push(null)}),$._read=function(){for(;;){const D=A.read();if(D===null){y=$._read;return}if(!$.push(D))return}};else if(a(A)){const F=(s(A)?A.readable:A).getReader();$._read=async function(){for(;;)try{const{value:V,done:X}=await F.read();if(!$.push(V))return;if(X){$.push(null);return}}catch{return}}}}return $._destroy=function(D,F){!D&&S!==null&&(D=new f),y=null,p=null,E=null,S===null?F(D):(S=F,n(A)&&r(A,D))},$},ow}function G7(){if(EP)return Cp;EP=!0;const e=globalThis.AbortController||Cm().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:o}=Ro(),{validateAbortSignal:a,validateInteger:s,validateObject:l}=mg(),u=Dn().Symbol("kWeak"),f=Dn().Symbol("kResistStopPropagation"),{finished:c}=ec(),h=a6(),{addAbortSignalNoValidate:m}=q_(),{isWritable:g,isNodeStream:_}=Fl(),{deprecate:v}=to(),{ArrayPrototypePush:p,Boolean:E,MathFloor:y,Number:S,NumberIsNaN:$,Promise:T,PromiseReject:d,PromiseResolve:A,PromisePrototypeThen:P,Symbol:x}=Dn(),D=x("kEmpty"),F=x("kEof");function V(Y,oe){if(oe!=null&&l(oe,"options"),(oe==null?void 0:oe.signal)!=null&&a(oe.signal,"options.signal"),_(Y)&&!g(Y))throw new t("stream",Y,"must be writable");const _e=h(this,Y);return oe!=null&&oe.signal&&m(oe.signal,_e),_e}function X(Y,oe){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);oe!=null&&l(oe,"options"),(oe==null?void 0:oe.signal)!=null&&a(oe.signal,"options.signal");let _e=1;(oe==null?void 0:oe.concurrency)!=null&&(_e=y(oe.concurrency));let ye=_e-1;return(oe==null?void 0:oe.highWaterMark)!=null&&(ye=y(oe.highWaterMark)),s(_e,"options.concurrency",1),s(ye,"options.highWaterMark",0),ye+=_e,(async function*(){const I=to().AbortSignalAny([oe==null?void 0:oe.signal].filter(E)),N=this,H=[],re={signal:I};let le,fe,me=!1,Re=0;function Le(){me=!0,je()}function je(){Re-=1,tt()}function tt(){fe&&!me&&Re<_e&&H.length<ye&&(fe(),fe=null)}async function Ge(){try{for await(let Ue of N){if(me)return;if(I.aborted)throw new o;try{if(Ue=Y(Ue,re),Ue===D)continue;Ue=A(Ue)}catch(W){Ue=d(W)}Re+=1,P(Ue,je,Le),H.push(Ue),le&&(le(),le=null),!me&&(H.length>=ye||Re>=_e)&&await new T(W=>{fe=W})}H.push(F)}catch(Ue){const W=d(Ue);P(W,je,Le),H.push(W)}finally{me=!0,le&&(le(),le=null)}}Ge();try{for(;;){for(;H.length>0;){const Ue=await H[0];if(Ue===F)return;if(I.aborted)throw new o;Ue!==D&&(yield Ue),H.shift(),tt()}await new T(Ue=>{le=Ue})}}finally{me=!0,fe&&(fe(),fe=null)}}).call(this)}function G(Y=void 0){return Y!=null&&l(Y,"options"),(Y==null?void 0:Y.signal)!=null&&a(Y.signal,"options.signal"),(async function*(){let _e=0;for await(const R of this){var ye;if(Y!=null&&(ye=Y.signal)!==null&&ye!==void 0&&ye.aborted)throw new o({cause:Y.signal.reason});yield[_e++,R]}}).call(this)}async function Q(Y,oe=void 0){for await(const _e of M.call(this,Y,oe))return!0;return!1}async function ce(Y,oe=void 0){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);return!await Q.call(this,async(..._e)=>!await Y(..._e),oe)}async function ee(Y,oe){for await(const _e of M.call(this,Y,oe))return _e}async function ae(Y,oe){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);async function _e(ye,R){return await Y(ye,R),D}for await(const ye of X.call(this,_e,oe));}function M(Y,oe){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);async function _e(ye,R){return await Y(ye,R)?ye:D}return X.call(this,_e,oe)}class B extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function K(Y,oe,_e){var ye;if(typeof Y!="function")throw new r("reducer",["Function","AsyncFunction"],Y);_e!=null&&l(_e,"options"),(_e==null?void 0:_e.signal)!=null&&a(_e.signal,"options.signal");let R=arguments.length>1;if(_e!=null&&(ye=_e.signal)!==null&&ye!==void 0&&ye.aborted){const le=new o(void 0,{cause:_e.signal.reason});throw this.once("error",()=>{}),await c(this.destroy(le)),le}const I=new e,N=I.signal;if(_e!=null&&_e.signal){const le={once:!0,[u]:this,[f]:!0};_e.signal.addEventListener("abort",()=>I.abort(),le)}let H=!1;try{for await(const le of this){var re;if(H=!0,_e!=null&&(re=_e.signal)!==null&&re!==void 0&&re.aborted)throw new o;R?oe=await Y(oe,le,{signal:N}):(oe=le,R=!0)}if(!H&&!R)throw new B}finally{I.abort()}return oe}async function O(Y){Y!=null&&l(Y,"options"),(Y==null?void 0:Y.signal)!=null&&a(Y.signal,"options.signal");const oe=[];for await(const ye of this){var _e;if(Y!=null&&(_e=Y.signal)!==null&&_e!==void 0&&_e.aborted)throw new o(void 0,{cause:Y.signal.reason});p(oe,ye)}return oe}function k(Y,oe){const _e=X.call(this,Y,oe);return(async function*(){for await(const R of _e)yield*R}).call(this)}function q(Y){if(Y=S(Y),$(Y))return 0;if(Y<0)throw new i("number",">= 0",Y);return Y}function ie(Y,oe=void 0){return oe!=null&&l(oe,"options"),(oe==null?void 0:oe.signal)!=null&&a(oe.signal,"options.signal"),Y=q(Y),(async function*(){var ye;if(oe!=null&&(ye=oe.signal)!==null&&ye!==void 0&&ye.aborted)throw new o;for await(const I of this){var R;if(oe!=null&&(R=oe.signal)!==null&&R!==void 0&&R.aborted)throw new o;Y--<=0&&(yield I)}}).call(this)}function J(Y,oe=void 0){return oe!=null&&l(oe,"options"),(oe==null?void 0:oe.signal)!=null&&a(oe.signal,"options.signal"),Y=q(Y),(async function*(){var ye;if(oe!=null&&(ye=oe.signal)!==null&&ye!==void 0&&ye.aborted)throw new o;for await(const I of this){var R;if(oe!=null&&(R=oe.signal)!==null&&R!==void 0&&R.aborted)throw new o;if(Y-- >0&&(yield I),Y<=0)return}}).call(this)}return Cp.streamReturningOperators={asIndexedPairs:v(G,"readable.asIndexedPairs will be removed in a future version."),drop:ie,filter:M,flatMap:k,map:X,take:J,compose:V},Cp.promiseReturningOperators={every:ce,forEach:ae,reduce:K,toArray:O,some:Q,find:ee},Cp}function s6(){if(SP)return aw;SP=!0;const{ArrayPrototypePop:e,Promise:t}=Dn(),{isIterable:r,isNodeStream:n,isWebStream:i}=Fl(),{pipelineImpl:o}=SR(),{finished:a}=ec();l6();function s(...l){return new t((u,f)=>{let c,h;const m=l[l.length-1];if(m&&typeof m=="object"&&!n(m)&&!r(m)&&!i(m)){const g=e(l);c=g.signal,h=g.end}o(l,(g,_)=>{g?f(g):u(_)},{signal:c,end:h})})}return aw={finished:a,pipeline:s},aw}function l6(){if($P)return sw;$P=!0;const{Buffer:e}=xo(),{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Dn(),{promisify:{custom:i}}=to(),{streamReturningOperators:o,promiseReturningOperators:a}=G7(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=Ro(),l=a6(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:f}=V_(),{pipeline:c}=SR(),{destroyer:h}=Ch(),m=ec(),g=s6(),_=Fl(),v=sw=_R().Stream;v.isDestroyed=_.isDestroyed,v.isDisturbed=_.isDisturbed,v.isErrored=_.isErrored,v.isReadable=_.isReadable,v.isWritable=_.isWritable,v.Readable=H_();for(const E of r(o)){let y=function(...$){if(new.target)throw s();return v.Readable.from(n(S,this||TP,$))};const S=o[E];t(y,"name",{__proto__:null,value:S.name}),t(y,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,E,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}for(const E of r(a)){let y=function(...$){if(new.target)throw s();return n(S,this||TP,$)};const S=a[E];t(y,"name",{__proto__:null,value:S.name}),t(y,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,E,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}v.Writable=ER(),v.Duplex=Nl(),v.Transform=i6(),v.PassThrough=o6(),v.pipeline=c;const{addAbortSignal:p}=q_();return v.addAbortSignal=p,v.finished=m,v.destroy=h,v.compose=l,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=f,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return g}}),t(c,i,{__proto__:null,enumerable:!0,get(){return g.pipeline}}),t(m,i,{__proto__:null,enumerable:!0,get(){return g.finished}}),v.Stream=v,v._isUint8Array=function(y){return y instanceof Uint8Array},v._uint8ArrayToBuffer=function(y){return e.from(y.buffer,y.byteOffset,y.byteLength)},sw}function W7(){if(AP)return Pn;AP=!0;const e=l6(),t=s6(),r=e.Readable.destroy;return Pn=e.Readable,Pn._uint8ArrayToBuffer=e._uint8ArrayToBuffer,Pn._isUint8Array=e._isUint8Array,Pn.isDisturbed=e.isDisturbed,Pn.isErrored=e.isErrored,Pn.isReadable=e.isReadable,Pn.Readable=e.Readable,Pn.Writable=e.Writable,Pn.Duplex=e.Duplex,Pn.Transform=e.Transform,Pn.PassThrough=e.PassThrough,Pn.addAbortSignal=e.addAbortSignal,Pn.finished=e.finished,Pn.destroy=e.destroy,Pn.destroy=r,Pn.pipeline=e.pipeline,Pn.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Pn.Stream=e.Stream,Pn.default=Pn,Pn}var q0,tP,yd,rP,Ip,nP,V0,iP,H0,oP,G0,aP,Np,sP,W0,lP,K0,uP,wd,cP,J0,fP,Y0,dP,X0,hP,Q0,pP,ut,Z0,mP,_t,ew,gP,tw,vP,rw,yP,nw,wP,iw,bP,ow,_P,Cp,EP,aw,SP,sw,$P,TP,Pn,AP,Zr,lw,u6,c6,f6,d6,h6,p6,m6,g6,Na=tn({"../../node_modules/@jspm/core/nodelibs/browser/stream.js"(){Ae(),I_(),$z(),dg(),XB(),z_(),wR(),oR(),q0={},tP=!1,yd={},rP=!1,Ip={},nP=!1,V0={},iP=!1,H0={},oP=!1,G0={},aP=!1,Np={},sP=!1,W0={},lP=!1,K0={},uP=!1,wd={},cP=!1,J0={},fP=!1,Y0={},dP=!1,X0={},hP=!1,Q0={},pP=!1,ut=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Z0={},mP=!1,_t=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ew={},gP=!1,tw={},vP=!1,rw={},yP=!1,nw={},wP=!1,iw={},bP=!1,ow={},_P=!1,Cp={},EP=!1,aw={},SP=!1,sw={},$P=!1,TP=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Pn={},AP=!1,Zr=W7(),Zr._uint8ArrayToBuffer,Zr._isUint8Array,Zr.isDisturbed,Zr.isErrored,Zr.isReadable,Zr.Readable,Zr.Writable,Zr.Duplex,Zr.Transform,Zr.PassThrough,Zr.addAbortSignal,Zr.finished,Zr.destroy,Zr.pipeline,Zr.compose,Zr.Stream,lw=Zr.Readable,lw.wrap=function(e,t){return t=Object.assign({objectMode:e.readableObjectMode!=null||e.objectMode!=null||!0},t),t.destroy=function(r,n){e.destroy(r),n(r)},new lw(t).wrap(e)},u6=Zr.Writable,c6=Zr.Duplex,f6=Zr.Transform,d6=Zr.PassThrough,h6=Zr.finished,p6=Zr.pipeline,m6=Zr.Stream,g6={finished:xb(Zr.finished),pipeline:xb(Zr.pipeline)}}}),$R=Oe({"../../node_modules/web-streams-polyfill/dist/ponyfill.js"(e,t){Ae(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n((r=typeof globalThis<"u"?globalThis:r||self).WebStreamsPolyfill={})}(e,function(r){function n(){}function i(z){return typeof z=="object"&&z!==null||typeof z=="function"}const o=n;function a(z,Z){try{Object.defineProperty(z,"name",{value:Z,configurable:!0})}catch{}}const s=Promise,l=Promise.resolve.bind(s),u=Promise.prototype.then,f=Promise.reject.bind(s),c=l;function h(z){return new s(z)}function m(z){return h(Z=>Z(z))}function g(z){return f(z)}function _(z,Z,ge){return u.call(z,Z,ge)}function v(z,Z,ge){_(_(z,Z,ge),void 0,o)}function p(z,Z){v(z,Z)}function E(z,Z){v(z,void 0,Z)}function y(z,Z,ge){return _(z,Z,ge)}function S(z){_(z,void 0,o)}let $=z=>{if(typeof queueMicrotask=="function")$=queueMicrotask;else{const Z=m(void 0);$=ge=>_(Z,ge)}return $(z)};function T(z,Z,ge){if(typeof z!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(z,Z,ge)}function d(z,Z,ge){try{return m(T(z,Z,ge))}catch(Te){return g(Te)}}class A{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(Z){const ge=this._back;let Te=ge;ge._elements.length===16383&&(Te={_elements:[],_next:void 0}),ge._elements.push(Z),Te!==ge&&(this._back=Te,ge._next=Te),++this._size}shift(){const Z=this._front;let ge=Z;const Te=this._cursor;let Ve=Te+1;const qe=Z._elements,Je=qe[Te];return Ve===16384&&(ge=Z._next,Ve=0),--this._size,this._cursor=Ve,Z!==ge&&(this._front=ge),qe[Te]=void 0,Je}forEach(Z){let ge=this._cursor,Te=this._front,Ve=Te._elements;for(;!(ge===Ve.length&&Te._next===void 0||ge===Ve.length&&(Te=Te._next,Ve=Te._elements,ge=0,Ve.length===0));)Z(Ve[ge]),++ge}peek(){const Z=this._front,ge=this._cursor;return Z._elements[ge]}}const P=Symbol("[[AbortSteps]]"),x=Symbol("[[ErrorSteps]]"),D=Symbol("[[CancelSteps]]"),F=Symbol("[[PullSteps]]"),V=Symbol("[[ReleaseSteps]]");function X(z,Z){z._ownerReadableStream=Z,Z._reader=z,Z._state==="readable"?ee(z):Z._state==="closed"?function(ge){ee(ge),B(ge)}(z):ae(z,Z._storedError)}function G(z,Z){return _n(z._ownerReadableStream,Z)}function Q(z){const Z=z._ownerReadableStream;Z._state==="readable"?M(z,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(ge,Te){ae(ge,Te)}(z,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),Z._readableStreamController[V](),Z._reader=void 0,z._ownerReadableStream=void 0}function ce(z){return new TypeError("Cannot "+z+" a stream using a released reader")}function ee(z){z._closedPromise=h((Z,ge)=>{z._closedPromise_resolve=Z,z._closedPromise_reject=ge})}function ae(z,Z){ee(z),M(z,Z)}function M(z,Z){z._closedPromise_reject!==void 0&&(S(z._closedPromise),z._closedPromise_reject(Z),z._closedPromise_resolve=void 0,z._closedPromise_reject=void 0)}function B(z){z._closedPromise_resolve!==void 0&&(z._closedPromise_resolve(void 0),z._closedPromise_resolve=void 0,z._closedPromise_reject=void 0)}const K=Number.isFinite||function(z){return typeof z=="number"&&isFinite(z)},O=Math.trunc||function(z){return z<0?Math.ceil(z):Math.floor(z)};function k(z,Z){if(z!==void 0&&typeof(ge=z)!="object"&&typeof ge!="function")throw new TypeError(`${Z} is not an object.`);var ge}function q(z,Z){if(typeof z!="function")throw new TypeError(`${Z} is not a function.`)}function ie(z,Z){if(!function(ge){return typeof ge=="object"&&ge!==null||typeof ge=="function"}(z))throw new TypeError(`${Z} is not an object.`)}function J(z,Z,ge){if(z===void 0)throw new TypeError(`Parameter ${Z} is required in '${ge}'.`)}function Y(z,Z,ge){if(z===void 0)throw new TypeError(`${Z} is required in '${ge}'.`)}function oe(z){return Number(z)}function _e(z){return z===0?0:z}function ye(z,Z){const ge=Number.MAX_SAFE_INTEGER;let Te=Number(z);if(Te=_e(Te),!K(Te))throw new TypeError(`${Z} is not a finite number`);if(Te=function(Ve){return _e(O(Ve))}(Te),Te<0||Te>ge)throw new TypeError(`${Z} is outside the accepted range of 0 to ${ge}, inclusive`);return K(Te)&&Te!==0?Te:0}function R(z,Z){if(!hi(z))throw new TypeError(`${Z} is not a ReadableStream.`)}function I(z){return new fe(z)}function N(z,Z){z._reader._readRequests.push(Z)}function H(z,Z,ge){const Te=z._reader._readRequests.shift();ge?Te._closeSteps():Te._chunkSteps(Z)}function re(z){return z._reader._readRequests.length}function le(z){const Z=z._reader;return Z!==void 0&&!!me(Z)}class fe{constructor(Z){if(J(Z,1,"ReadableStreamDefaultReader"),R(Z,"First parameter"),pi(Z))throw new TypeError("This stream has already been locked for exclusive reading by another reader");X(this,Z),this._readRequests=new A}get closed(){return me(this)?this._closedPromise:g(je("closed"))}cancel(Z=void 0){return me(this)?this._ownerReadableStream===void 0?g(ce("cancel")):G(this,Z):g(je("cancel"))}read(){if(!me(this))return g(je("read"));if(this._ownerReadableStream===void 0)return g(ce("read from"));let Z,ge;const Te=h((Ve,qe)=>{Z=Ve,ge=qe});return Re(this,{_chunkSteps:Ve=>Z({value:Ve,done:!1}),_closeSteps:()=>Z({value:void 0,done:!0}),_errorSteps:Ve=>ge(Ve)}),Te}releaseLock(){if(!me(this))throw je("releaseLock");this._ownerReadableStream!==void 0&&function(Z){Q(Z);const ge=new TypeError("Reader was released");Le(Z,ge)}(this)}}function me(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_readRequests")&&z instanceof fe}function Re(z,Z){const ge=z._ownerReadableStream;ge._disturbed=!0,ge._state==="closed"?Z._closeSteps():ge._state==="errored"?Z._errorSteps(ge._storedError):ge._readableStreamController[F](Z)}function Le(z,Z){const ge=z._readRequests;z._readRequests=new A,ge.forEach(Te=>{Te._errorSteps(Z)})}function je(z){return new TypeError(`ReadableStreamDefaultReader.prototype.${z} can only be used on a ReadableStreamDefaultReader`)}var tt,Ge,Ue;function W(z){return z.slice()}function C(z,Z,ge,Te,Ve){new Uint8Array(z).set(new Uint8Array(ge,Te,Ve),Z)}Object.defineProperties(fe.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),a(fe.prototype.cancel,"cancel"),a(fe.prototype.read,"read"),a(fe.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(fe.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let L=z=>(L=typeof z.transfer=="function"?Z=>Z.transfer():typeof structuredClone=="function"?Z=>structuredClone(Z,{transfer:[Z]}):Z=>Z,L(z)),ne=z=>(ne=typeof z.detached=="boolean"?Z=>Z.detached:Z=>Z.byteLength===0,ne(z));function we(z,Z,ge){if(z.slice)return z.slice(Z,ge);const Te=ge-Z,Ve=new ArrayBuffer(Te);return C(Ve,0,z,Z,Te),Ve}function Se(z,Z){const ge=z[Z];if(ge!=null){if(typeof ge!="function")throw new TypeError(`${String(Z)} is not a function`);return ge}}function ke(z){try{const Z=z.done,ge=z.value;return _(c(ge),Te=>({done:Z,value:Te}))}catch(Z){return g(Z)}}const Ie=(Ue=(tt=Symbol.asyncIterator)!==null&&tt!==void 0?tt:(Ge=Symbol.for)===null||Ge===void 0?void 0:Ge.call(Symbol,"Symbol.asyncIterator"))!==null&&Ue!==void 0?Ue:"@@asyncIterator";function Fe(z,Z="sync",ge){if(ge===void 0)if(Z==="async"){if((ge=Se(z,Ie))===void 0)return function(Ve){const qe={next(){let Je;try{Je=ft(Ve)}catch(We){return g(We)}return ke(Je)},return(Je){let We;try{const Xe=Se(Ve.iterator,"return");if(Xe===void 0)return m({done:!0,value:Je});We=T(Xe,Ve.iterator,[Je])}catch(Xe){return g(Xe)}return i(We)?ke(We):g(new TypeError("The iterator.return() method must return an object"))}};return{iterator:qe,nextMethod:qe.next,done:!1}}(Fe(z,"sync",Se(z,Symbol.iterator)))}else ge=Se(z,Symbol.iterator);if(ge===void 0)throw new TypeError("The object is not iterable");const Te=T(ge,z,[]);if(!i(Te))throw new TypeError("The iterator method must return an object");return{iterator:Te,nextMethod:Te.next,done:!1}}function ft(z){const Z=T(z.nextMethod,z.iterator,[]);if(!i(Z))throw new TypeError("The iterator.next() method must return an object");return Z}class vt{constructor(Z,ge){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=Z,this._preventCancel=ge}next(){const Z=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?y(this._ongoingPromise,Z,Z):Z(),this._ongoingPromise}return(Z){const ge=()=>this._returnSteps(Z);return this._ongoingPromise=this._ongoingPromise?y(this._ongoingPromise,ge,ge):ge(),this._ongoingPromise}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const Z=this._reader;let ge,Te;const Ve=h((qe,Je)=>{ge=qe,Te=Je});return Re(Z,{_chunkSteps:qe=>{this._ongoingPromise=void 0,$(()=>ge({value:qe,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,Q(Z),ge({value:void 0,done:!0})},_errorSteps:qe=>{this._ongoingPromise=void 0,this._isFinished=!0,Q(Z),Te(qe)}}),Ve}_returnSteps(Z){if(this._isFinished)return Promise.resolve({value:Z,done:!0});this._isFinished=!0;const ge=this._reader;if(!this._preventCancel){const Te=G(ge,Z);return Q(ge),y(Te,()=>({value:Z,done:!0}))}return Q(ge),m({value:Z,done:!0})}}const at={next(){return kt(this)?this._asyncIteratorImpl.next():g(br("next"))},return(z){return kt(this)?this._asyncIteratorImpl.return(z):g(br("return"))},[Ie](){return this}};function kt(z){if(!i(z)||!Object.prototype.hasOwnProperty.call(z,"_asyncIteratorImpl"))return!1;try{return z._asyncIteratorImpl instanceof vt}catch{return!1}}function br(z){return new TypeError(`ReadableStreamAsyncIterator.${z} can only be used on a ReadableSteamAsyncIterator`)}Object.defineProperty(at,Ie,{enumerable:!1});const Pr=Number.isNaN||function(z){return z!=z};function rr(z){const Z=we(z.buffer,z.byteOffset,z.byteOffset+z.byteLength);return new Uint8Array(Z)}function hr(z){const Z=z._queue.shift();return z._queueTotalSize-=Z.size,z._queueTotalSize<0&&(z._queueTotalSize=0),Z.value}function ln(z,Z,ge){if(typeof(Te=ge)!="number"||Pr(Te)||Te<0||ge===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var Te;z._queue.push({value:Z,size:ge}),z._queueTotalSize+=ge}function Vt(z){z._queue=new A,z._queueTotalSize=0}function zt(z){return z===DataView}class At{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!dt(this))throw Nr("view");return this._view}respond(Z){if(!dt(this))throw Nr("respond");if(J(Z,1,"respond"),Z=ye(Z,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(ne(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Ir(this._associatedReadableByteStreamController,Z)}respondWithNewView(Z){if(!dt(this))throw Nr("respondWithNewView");if(J(Z,1,"respondWithNewView"),!ArrayBuffer.isView(Z))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(ne(Z.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Mn(this._associatedReadableByteStreamController,Z)}}Object.defineProperties(At.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),a(At.prototype.respond,"respond"),a(At.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(At.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class $e{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ne(this))throw Xr("byobRequest");return Gr(this)}get desiredSize(){if(!Ne(this))throw Xr("desiredSize");return Yr(this)}close(){if(!Ne(this))throw Xr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const Z=this._controlledReadableByteStream._state;if(Z!=="readable")throw new TypeError(`The stream (in ${Z} state) is not in the readable state and cannot be closed`);yt(this)}enqueue(Z){if(!Ne(this))throw Xr("enqueue");if(J(Z,1,"enqueue"),!ArrayBuffer.isView(Z))throw new TypeError("chunk must be an array buffer view");if(Z.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(Z.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const ge=this._controlledReadableByteStream._state;if(ge!=="readable")throw new TypeError(`The stream (in ${ge} state) is not in the readable state and cannot be enqueued to`);Tt(this,Z)}error(Z=void 0){if(!Ne(this))throw Xr("error");Dt(this,Z)}[D](Z){nt(this),Vt(this);const ge=this._cancelAlgorithm(Z);return Gt(this),ge}[F](Z){const ge=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void Ft(this,Z);const Te=this._autoAllocateChunkSize;if(Te!==void 0){let Ve;try{Ve=new ArrayBuffer(Te)}catch(Je){return void Z._errorSteps(Je)}const qe={buffer:Ve,bufferByteLength:Te,byteOffset:0,byteLength:Te,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(qe)}N(ge,Z),Ye(this)}[V](){if(this._pendingPullIntos.length>0){const Z=this._pendingPullIntos.peek();Z.readerType="none",this._pendingPullIntos=new A,this._pendingPullIntos.push(Z)}}}function Ne(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledReadableByteStream")&&z instanceof $e}function dt(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_associatedReadableByteStreamController")&&z instanceof At}function Ye(z){if(function(ge){const Te=ge._controlledReadableByteStream;return Te._state!=="readable"||ge._closeRequested||!ge._started?!1:!!(le(Te)&&re(Te)>0||ta(Te)&&ea(Te)>0||Yr(ge)>0)}(z)){if(z._pulling)return void(z._pullAgain=!0);z._pulling=!0,v(z._pullAlgorithm(),()=>(z._pulling=!1,z._pullAgain&&(z._pullAgain=!1,Ye(z)),null),ge=>(Dt(z,ge),null))}}function nt(z){Pt(z),z._pendingPullIntos=new A}function Ot(z,Z){let ge=!1;z._state==="closed"&&(ge=!0);const Te=de(Z);Z.readerType==="default"?H(z,Te,ge):function(Ve,qe,Je){const We=Ve._reader,Xe=We._readIntoRequests.shift();Je?Xe._closeSteps(qe):Xe._chunkSteps(qe)}(z,Te,ge)}function qt(z,Z){for(let ge=0;ge<Z.length;++ge)Ot(z,Z[ge])}function de(z){const Z=z.bytesFilled,ge=z.elementSize;return new z.viewConstructor(z.buffer,z.byteOffset,Z/ge)}function ue(z,Z,ge,Te){z._queue.push({buffer:Z,byteOffset:ge,byteLength:Te}),z._queueTotalSize+=Te}function be(z,Z,ge,Te){let Ve;try{Ve=we(Z,ge,ge+Te)}catch(qe){throw Dt(z,qe),qe}ue(z,Ve,0,Te)}function xe(z,Z){Z.bytesFilled>0&&be(z,Z.buffer,Z.byteOffset,Z.bytesFilled),Rt(z)}function Pe(z,Z){const ge=Math.min(z._queueTotalSize,Z.byteLength-Z.bytesFilled),Te=Z.bytesFilled+ge;let Ve=ge,qe=!1;const Je=Te-Te%Z.elementSize;Je>=Z.minimumFill&&(Ve=Je-Z.bytesFilled,qe=!0);const We=z._queue;for(;Ve>0;){const Xe=We.peek(),ht=Math.min(Ve,Xe.byteLength),mt=Z.byteOffset+Z.bytesFilled;C(Z.buffer,mt,Xe.buffer,Xe.byteOffset,ht),Xe.byteLength===ht?We.shift():(Xe.byteOffset+=ht,Xe.byteLength-=ht),z._queueTotalSize-=ht,et(z,ht,Z),Ve-=ht}return qe}function et(z,Z,ge){ge.bytesFilled+=Z}function it(z){z._queueTotalSize===0&&z._closeRequested?(Gt(z),nl(z._controlledReadableByteStream)):Ye(z)}function Pt(z){z._byobRequest!==null&&(z._byobRequest._associatedReadableByteStreamController=void 0,z._byobRequest._view=null,z._byobRequest=null)}function Nt(z){const Z=[];for(;z._pendingPullIntos.length>0&&z._queueTotalSize!==0;){const ge=z._pendingPullIntos.peek();Pe(z,ge)&&(Rt(z),Z.push(ge))}return Z}function jt(z,Z,ge,Te){const Ve=z._controlledReadableByteStream,qe=Z.constructor,Je=function(bt){return zt(bt)?1:bt.BYTES_PER_ELEMENT}(qe),{byteOffset:We,byteLength:Xe}=Z,ht=ge*Je;let mt;try{mt=L(Z.buffer)}catch(bt){return void Te._errorSteps(bt)}const Lt={buffer:mt,bufferByteLength:mt.byteLength,byteOffset:We,byteLength:Xe,bytesFilled:0,minimumFill:ht,elementSize:Je,viewConstructor:qe,readerType:"byob"};if(z._pendingPullIntos.length>0)return z._pendingPullIntos.push(Lt),void fi(Ve,Te);if(Ve._state!=="closed"){if(z._queueTotalSize>0){if(Pe(z,Lt)){const bt=de(Lt);return it(z),void Te._chunkSteps(bt)}if(z._closeRequested){const bt=new TypeError("Insufficient bytes to fill elements in the given buffer");return Dt(z,bt),void Te._errorSteps(bt)}}z._pendingPullIntos.push(Lt),fi(Ve,Te),Ye(z)}else{const bt=new qe(Lt.buffer,Lt.byteOffset,0);Te._closeSteps(bt)}}function St(z,Z){const ge=z._pendingPullIntos.peek();Pt(z),z._controlledReadableByteStream._state==="closed"?function(Te,Ve){Ve.readerType==="none"&&Rt(Te);const qe=Te._controlledReadableByteStream;if(ta(qe)){const Je=[];for(let We=0;We<ea(qe);++We)Je.push(Rt(Te));qt(qe,Je)}}(z,ge):function(Te,Ve,qe){if(et(0,Ve,qe),qe.readerType==="none"){xe(Te,qe);const Xe=Nt(Te);return void qt(Te._controlledReadableByteStream,Xe)}if(qe.bytesFilled<qe.minimumFill)return;Rt(Te);const Je=qe.bytesFilled%qe.elementSize;if(Je>0){const Xe=qe.byteOffset+qe.bytesFilled;be(Te,qe.buffer,Xe-Je,Je)}qe.bytesFilled-=Je;const We=Nt(Te);Ot(Te._controlledReadableByteStream,qe),qt(Te._controlledReadableByteStream,We)}(z,Z,ge),Ye(z)}function Rt(z){return z._pendingPullIntos.shift()}function Gt(z){z._pullAlgorithm=void 0,z._cancelAlgorithm=void 0}function yt(z){const Z=z._controlledReadableByteStream;if(!z._closeRequested&&Z._state==="readable")if(z._queueTotalSize>0)z._closeRequested=!0;else{if(z._pendingPullIntos.length>0){const ge=z._pendingPullIntos.peek();if(ge.bytesFilled%ge.elementSize!=0){const Te=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Dt(z,Te),Te}}Gt(z),nl(Z)}}function Tt(z,Z){const ge=z._controlledReadableByteStream;if(z._closeRequested||ge._state!=="readable")return;const{buffer:Te,byteOffset:Ve,byteLength:qe}=Z;if(ne(Te))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const Je=L(Te);if(z._pendingPullIntos.length>0){const We=z._pendingPullIntos.peek();if(ne(We.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Pt(z),We.buffer=L(We.buffer),We.readerType==="none"&&xe(z,We)}if(le(ge))(function(We){const Xe=We._controlledReadableByteStream._reader;for(;Xe._readRequests.length>0;){if(We._queueTotalSize===0)return;Ft(We,Xe._readRequests.shift())}})(z),re(ge)===0?ue(z,Je,Ve,qe):(z._pendingPullIntos.length>0&&Rt(z),H(ge,new Uint8Array(Je,Ve,qe),!1));else if(ta(ge)){ue(z,Je,Ve,qe);const We=Nt(z);qt(z._controlledReadableByteStream,We)}else ue(z,Je,Ve,qe);Ye(z)}function Dt(z,Z){const ge=z._controlledReadableByteStream;ge._state==="readable"&&(nt(z),Vt(z),Gt(z),oa(ge,Z))}function Ft(z,Z){const ge=z._queue.shift();z._queueTotalSize-=ge.byteLength,it(z);const Te=new Uint8Array(ge.buffer,ge.byteOffset,ge.byteLength);Z._chunkSteps(Te)}function Gr(z){if(z._byobRequest===null&&z._pendingPullIntos.length>0){const Z=z._pendingPullIntos.peek(),ge=new Uint8Array(Z.buffer,Z.byteOffset+Z.bytesFilled,Z.byteLength-Z.bytesFilled),Te=Object.create(At.prototype);(function(Ve,qe,Je){Ve._associatedReadableByteStreamController=qe,Ve._view=Je})(Te,z,ge),z._byobRequest=Te}return z._byobRequest}function Yr(z){const Z=z._controlledReadableByteStream._state;return Z==="errored"?null:Z==="closed"?0:z._strategyHWM-z._queueTotalSize}function Ir(z,Z){const ge=z._pendingPullIntos.peek();if(z._controlledReadableByteStream._state==="closed"){if(Z!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(Z===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(ge.bytesFilled+Z>ge.byteLength)throw new RangeError("bytesWritten out of range")}ge.buffer=L(ge.buffer),St(z,Z)}function Mn(z,Z){const ge=z._pendingPullIntos.peek();if(z._controlledReadableByteStream._state==="closed"){if(Z.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(Z.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(ge.byteOffset+ge.bytesFilled!==Z.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(ge.bufferByteLength!==Z.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(ge.bytesFilled+Z.byteLength>ge.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const Te=Z.byteLength;ge.buffer=L(Z.buffer),St(z,Te)}function qn(z,Z,ge,Te,Ve,qe,Je){Z._controlledReadableByteStream=z,Z._pullAgain=!1,Z._pulling=!1,Z._byobRequest=null,Z._queue=Z._queueTotalSize=void 0,Vt(Z),Z._closeRequested=!1,Z._started=!1,Z._strategyHWM=qe,Z._pullAlgorithm=Te,Z._cancelAlgorithm=Ve,Z._autoAllocateChunkSize=Je,Z._pendingPullIntos=new A,z._readableStreamController=Z,v(m(ge()),()=>(Z._started=!0,Ye(Z),null),We=>(Dt(Z,We),null))}function Nr(z){return new TypeError(`ReadableStreamBYOBRequest.prototype.${z} can only be used on a ReadableStreamBYOBRequest`)}function Xr(z){return new TypeError(`ReadableByteStreamController.prototype.${z} can only be used on a ReadableByteStreamController`)}function Yn(z,Z){if((z=`${z}`)!="byob")throw new TypeError(`${Z} '${z}' is not a valid enumeration value for ReadableStreamReaderMode`);return z}function dn(z){return new Cr(z)}function fi(z,Z){z._reader._readIntoRequests.push(Z)}function ea(z){return z._reader._readIntoRequests.length}function ta(z){const Z=z._reader;return Z!==void 0&&!!yn(Z)}Object.defineProperties($e.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),a($e.prototype.close,"close"),a($e.prototype.enqueue,"enqueue"),a($e.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty($e.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class Cr{constructor(Z){if(J(Z,1,"ReadableStreamBYOBReader"),R(Z,"First parameter"),pi(Z))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ne(Z._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");X(this,Z),this._readIntoRequests=new A}get closed(){return yn(this)?this._closedPromise:g(ra("closed"))}cancel(Z=void 0){return yn(this)?this._ownerReadableStream===void 0?g(ce("cancel")):G(this,Z):g(ra("cancel"))}read(Z,ge={}){if(!yn(this))return g(ra("read"));if(!ArrayBuffer.isView(Z))return g(new TypeError("view must be an array buffer view"));if(Z.byteLength===0)return g(new TypeError("view must have non-zero byteLength"));if(Z.buffer.byteLength===0)return g(new TypeError("view's buffer must have non-zero byteLength"));if(ne(Z.buffer))return g(new TypeError("view's buffer has been detached"));let Te;try{Te=function(Xe,ht){var mt;return k(Xe,ht),{min:ye((mt=Xe==null?void 0:Xe.min)!==null&&mt!==void 0?mt:1,`${ht} has member 'min' that`)}}(ge,"options")}catch(Xe){return g(Xe)}const Ve=Te.min;if(Ve===0)return g(new TypeError("options.min must be greater than 0"));if(function(Xe){return zt(Xe.constructor)}(Z)){if(Ve>Z.byteLength)return g(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(Ve>Z.length)return g(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return g(ce("read from"));let qe,Je;const We=h((Xe,ht)=>{qe=Xe,Je=ht});return di(this,Z,Ve,{_chunkSteps:Xe=>qe({value:Xe,done:!1}),_closeSteps:Xe=>qe({value:Xe,done:!0}),_errorSteps:Xe=>Je(Xe)}),We}releaseLock(){if(!yn(this))throw ra("releaseLock");this._ownerReadableStream!==void 0&&function(Z){Q(Z);const ge=new TypeError("Reader was released");ps(Z,ge)}(this)}}function yn(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_readIntoRequests")&&z instanceof Cr}function di(z,Z,ge,Te){const Ve=z._ownerReadableStream;Ve._disturbed=!0,Ve._state==="errored"?Te._errorSteps(Ve._storedError):jt(Ve._readableStreamController,Z,ge,Te)}function ps(z,Z){const ge=z._readIntoRequests;z._readIntoRequests=new A,ge.forEach(Te=>{Te._errorSteps(Z)})}function ra(z){return new TypeError(`ReadableStreamBYOBReader.prototype.${z} can only be used on a ReadableStreamBYOBReader`)}function Ln(z,Z){const{highWaterMark:ge}=z;if(ge===void 0)return Z;if(Pr(ge)||ge<0)throw new RangeError("Invalid highWaterMark");return ge}function uc(z){const{size:Z}=z;return Z||(()=>1)}function Zs(z,Z){k(z,Z);const ge=z==null?void 0:z.highWaterMark,Te=z==null?void 0:z.size;return{highWaterMark:ge===void 0?void 0:oe(ge),size:Te===void 0?void 0:jg(Te,`${Z} has member 'size' that`)}}function jg(z,Z){return q(z,Z),ge=>oe(z(ge))}function ME(z,Z,ge){return q(z,ge),Te=>d(z,Z,[Te])}function LE(z,Z,ge){return q(z,ge),()=>d(z,Z,[])}function Co(z,Z,ge){return q(z,ge),Te=>T(z,Z,[Te])}function Dg(z,Z,ge){return q(z,ge),(Te,Ve)=>d(z,Z,[Te,Ve])}function zl(z,Z){if(!ao(z))throw new TypeError(`${Z} is not a WritableStream.`)}Object.defineProperties(Cr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),a(Cr.prototype.cancel,"cancel"),a(Cr.prototype.read,"read"),a(Cr.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Cr.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class ms{constructor(Z={},ge={}){Z===void 0?Z=null:ie(Z,"First parameter");const Te=Zs(ge,"Second parameter"),Ve=function(Je,We){k(Je,We);const Xe=Je==null?void 0:Je.abort,ht=Je==null?void 0:Je.close,mt=Je==null?void 0:Je.start,Lt=Je==null?void 0:Je.type,bt=Je==null?void 0:Je.write;return{abort:Xe===void 0?void 0:ME(Xe,Je,`${We} has member 'abort' that`),close:ht===void 0?void 0:LE(ht,Je,`${We} has member 'close' that`),start:mt===void 0?void 0:Co(mt,Je,`${We} has member 'start' that`),write:bt===void 0?void 0:Dg(bt,Je,`${We} has member 'write' that`),type:Lt}}(Z,"First parameter");if(gs(this),Ve.type!==void 0)throw new RangeError("Invalid type is specified");const qe=uc(Te);(function(Je,We,Xe,ht){const mt=Object.create(Vl.prototype);let Lt,bt,Ut,_r;Lt=We.start!==void 0?()=>We.start(mt):()=>{},bt=We.write!==void 0?xr=>We.write(xr,mt):()=>m(void 0),Ut=We.close!==void 0?()=>We.close():()=>m(void 0),_r=We.abort!==void 0?xr=>We.abort(xr):()=>m(void 0),qh(Je,mt,Lt,bt,Ut,_r,Xe,ht)})(this,Ve,Ln(Te,1),qe)}get locked(){if(!ao(this))throw Kf("locked");return vs(this)}abort(Z=void 0){return ao(this)?vs(this)?g(new TypeError("Cannot abort a stream that already has a writer")):Bf(this,Z):g(Kf("abort"))}close(){return ao(this)?vs(this)?g(new TypeError("Cannot close a stream that already has a writer")):ko(this)?g(new TypeError("Cannot close an already-closing stream")):ql(this):g(Kf("close"))}getWriter(){if(!ao(this))throw Kf("getWriter");return Mg(this)}}function Mg(z){return new Da(z)}function gs(z){z._state="writable",z._storedError=void 0,z._writer=void 0,z._writableStreamController=void 0,z._writeRequests=new A,z._inFlightWriteRequest=void 0,z._closeRequest=void 0,z._inFlightCloseRequest=void 0,z._pendingAbortRequest=void 0,z._backpressure=!1}function ao(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_writableStreamController")&&z instanceof ms}function vs(z){return z._writer!==void 0}function Bf(z,Z){var ge;if(z._state==="closed"||z._state==="errored")return m(void 0);z._writableStreamController._abortReason=Z,(ge=z._writableStreamController._abortController)===null||ge===void 0||ge.abort(Z);const Te=z._state;if(Te==="closed"||Te==="errored")return m(void 0);if(z._pendingAbortRequest!==void 0)return z._pendingAbortRequest._promise;let Ve=!1;Te==="erroring"&&(Ve=!0,Z=void 0);const qe=h((Je,We)=>{z._pendingAbortRequest={_promise:void 0,_resolve:Je,_reject:We,_reason:Z,_wasAlreadyErroring:Ve}});return z._pendingAbortRequest._promise=qe,Ve||cc(z,Z),qe}function ql(z){const Z=z._state;if(Z==="closed"||Z==="errored")return g(new TypeError(`The stream (in ${Z} state) is not in the writable state and cannot be closed`));const ge=h((qe,Je)=>{const We={_resolve:qe,_reject:Je};z._closeRequest=We}),Te=z._writer;var Ve;return Te!==void 0&&z._backpressure&&Z==="writable"&&se(Te),ln(Ve=z._writableStreamController,Ug,0),Gl(Ve),ge}function Uf(z,Z){z._state!=="writable"?zf(z):cc(z,Z)}function cc(z,Z){const ge=z._writableStreamController;z._state="erroring",z._storedError=Z;const Te=z._writer;Te!==void 0&&Lg(Te,Z),!function(Ve){return!(Ve._inFlightWriteRequest===void 0&&Ve._inFlightCloseRequest===void 0)}(z)&&ge._started&&zf(z)}function zf(z){z._state="errored",z._writableStreamController[x]();const Z=z._storedError;if(z._writeRequests.forEach(Te=>{Te._reject(Z)}),z._writeRequests=new A,z._pendingAbortRequest===void 0)return void qf(z);const ge=z._pendingAbortRequest;if(z._pendingAbortRequest=void 0,ge._wasAlreadyErroring)return ge._reject(Z),void qf(z);v(z._writableStreamController[P](ge._reason),()=>(ge._resolve(),qf(z),null),Te=>(ge._reject(Te),qf(z),null))}function ko(z){return z._closeRequest!==void 0||z._inFlightCloseRequest!==void 0}function qf(z){z._closeRequest!==void 0&&(z._closeRequest._reject(z._storedError),z._closeRequest=void 0);const Z=z._writer;Z!==void 0&&Gh(Z,z._storedError)}function Vf(z,Z){const ge=z._writer;ge!==void 0&&Z!==z._backpressure&&(Z?function(Te){Yf(Te)}(ge):se(ge)),z._backpressure=Z}Object.defineProperties(ms.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),a(ms.prototype.abort,"abort"),a(ms.prototype.close,"close"),a(ms.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ms.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class Da{constructor(Z){if(J(Z,1,"WritableStreamDefaultWriter"),zl(Z,"First parameter"),vs(Z))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=Z,Z._writer=this;const ge=Z._state;if(ge==="writable")!ko(Z)&&Z._backpressure?Yf(this):U(this),fc(this);else if(ge==="erroring")j(this,Z._storedError),fc(this);else if(ge==="closed")U(this),fc(Te=this),zg(Te);else{const Ve=Z._storedError;j(this,Ve),Jf(this,Ve)}var Te}get closed(){return el(this)?this._closedPromise:g(tl("closed"))}get desiredSize(){if(!el(this))throw tl("desiredSize");if(this._ownerWritableStream===void 0)throw Ma("desiredSize");return function(Z){const ge=Z._ownerWritableStream,Te=ge._state;return Te==="errored"||Te==="erroring"?null:Te==="closed"?0:Vh(ge._writableStreamController)}(this)}get ready(){return el(this)?this._readyPromise:g(tl("ready"))}abort(Z=void 0){return el(this)?this._ownerWritableStream===void 0?g(Ma("abort")):function(ge,Te){return Bf(ge._ownerWritableStream,Te)}(this,Z):g(tl("abort"))}close(){if(!el(this))return g(tl("close"));const Z=this._ownerWritableStream;return Z===void 0?g(Ma("close")):ko(Z)?g(new TypeError("Cannot close an already-closing stream")):Hf(this)}releaseLock(){if(!el(this))throw tl("releaseLock");this._ownerWritableStream!==void 0&&Fg(this)}write(Z=void 0){return el(this)?this._ownerWritableStream===void 0?g(Ma("write to")):Bg(this,Z):g(tl("write"))}}function el(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_ownerWritableStream")&&z instanceof Da}function Hf(z){return ql(z._ownerWritableStream)}function FE(z,Z){z._closedPromiseState==="pending"?Gh(z,Z):function(ge,Te){Jf(ge,Te)}(z,Z)}function Lg(z,Z){z._readyPromiseState==="pending"?te(z,Z):function(ge,Te){j(ge,Te)}(z,Z)}function Fg(z){const Z=z._ownerWritableStream,ge=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Lg(z,ge),FE(z,ge),Z._writer=void 0,z._ownerWritableStream=void 0}function Bg(z,Z){const ge=z._ownerWritableStream,Te=ge._writableStreamController,Ve=function(We,Xe){if(We._strategySizeAlgorithm===void 0)return 1;try{return We._strategySizeAlgorithm(Xe)}catch(ht){return Wl(We,ht),1}}(Te,Z);if(ge!==z._ownerWritableStream)return g(Ma("write to"));const qe=ge._state;if(qe==="errored")return g(ge._storedError);if(ko(ge)||qe==="closed")return g(new TypeError("The stream is closing or closed and cannot be written to"));if(qe==="erroring")return g(ge._storedError);const Je=function(We){return h((Xe,ht)=>{const mt={_resolve:Xe,_reject:ht};We._writeRequests.push(mt)})}(ge);return function(We,Xe,ht){try{ln(We,Xe,ht)}catch(Lt){return void Wl(We,Lt)}const mt=We._controlledWritableStream;!ko(mt)&&mt._state==="writable"&&Vf(mt,Gf(We)),Gl(We)}(Te,Z,Ve),Je}Object.defineProperties(Da.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),a(Da.prototype.abort,"abort"),a(Da.prototype.close,"close"),a(Da.prototype.releaseLock,"releaseLock"),a(Da.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Da.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Ug={};class Vl{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!zh(this))throw Hh("abortReason");return this._abortReason}get signal(){if(!zh(this))throw Hh("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(Z=void 0){if(!zh(this))throw Hh("error");this._controlledWritableStream._state==="writable"&&Wf(this,Z)}[P](Z){const ge=this._abortAlgorithm(Z);return Hl(this),ge}[x](){Vt(this)}}function zh(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledWritableStream")&&z instanceof Vl}function qh(z,Z,ge,Te,Ve,qe,Je,We){Z._controlledWritableStream=z,z._writableStreamController=Z,Z._queue=void 0,Z._queueTotalSize=void 0,Vt(Z),Z._abortReason=void 0,Z._abortController=function(){if(typeof AbortController=="function")return new AbortController}(),Z._started=!1,Z._strategySizeAlgorithm=We,Z._strategyHWM=Je,Z._writeAlgorithm=Te,Z._closeAlgorithm=Ve,Z._abortAlgorithm=qe;const Xe=Gf(Z);Vf(z,Xe),v(m(ge()),()=>(Z._started=!0,Gl(Z),null),ht=>(Z._started=!0,Uf(z,ht),null))}function Hl(z){z._writeAlgorithm=void 0,z._closeAlgorithm=void 0,z._abortAlgorithm=void 0,z._strategySizeAlgorithm=void 0}function Vh(z){return z._strategyHWM-z._queueTotalSize}function Gl(z){const Z=z._controlledWritableStream;if(!z._started||Z._inFlightWriteRequest!==void 0)return;if(Z._state==="erroring")return void zf(Z);if(z._queue.length===0)return;const ge=z._queue.peek().value;ge===Ug?function(Te){const Ve=Te._controlledWritableStream;(function(Je){Je._inFlightCloseRequest=Je._closeRequest,Je._closeRequest=void 0})(Ve),hr(Te);const qe=Te._closeAlgorithm();Hl(Te),v(qe,()=>(function(Je){Je._inFlightCloseRequest._resolve(void 0),Je._inFlightCloseRequest=void 0,Je._state==="erroring"&&(Je._storedError=void 0,Je._pendingAbortRequest!==void 0&&(Je._pendingAbortRequest._resolve(),Je._pendingAbortRequest=void 0)),Je._state="closed";const We=Je._writer;We!==void 0&&zg(We)}(Ve),null),Je=>(function(We,Xe){We._inFlightCloseRequest._reject(Xe),We._inFlightCloseRequest=void 0,We._pendingAbortRequest!==void 0&&(We._pendingAbortRequest._reject(Xe),We._pendingAbortRequest=void 0),Uf(We,Xe)}(Ve,Je),null))}(z):function(Te,Ve){const qe=Te._controlledWritableStream;(function(We){We._inFlightWriteRequest=We._writeRequests.shift()})(qe);const Je=Te._writeAlgorithm(Ve);v(Je,()=>{(function(Xe){Xe._inFlightWriteRequest._resolve(void 0),Xe._inFlightWriteRequest=void 0})(qe);const We=qe._state;if(hr(Te),!ko(qe)&&We==="writable"){const Xe=Gf(Te);Vf(qe,Xe)}return Gl(Te),null},We=>(qe._state==="writable"&&Hl(Te),function(Xe,ht){Xe._inFlightWriteRequest._reject(ht),Xe._inFlightWriteRequest=void 0,Uf(Xe,ht)}(qe,We),null))}(z,ge)}function Wl(z,Z){z._controlledWritableStream._state==="writable"&&Wf(z,Z)}function Gf(z){return Vh(z)<=0}function Wf(z,Z){const ge=z._controlledWritableStream;Hl(z),cc(ge,Z)}function Kf(z){return new TypeError(`WritableStream.prototype.${z} can only be used on a WritableStream`)}function Hh(z){return new TypeError(`WritableStreamDefaultController.prototype.${z} can only be used on a WritableStreamDefaultController`)}function tl(z){return new TypeError(`WritableStreamDefaultWriter.prototype.${z} can only be used on a WritableStreamDefaultWriter`)}function Ma(z){return new TypeError("Cannot "+z+" a stream using a released writer")}function fc(z){z._closedPromise=h((Z,ge)=>{z._closedPromise_resolve=Z,z._closedPromise_reject=ge,z._closedPromiseState="pending"})}function Jf(z,Z){fc(z),Gh(z,Z)}function Gh(z,Z){z._closedPromise_reject!==void 0&&(S(z._closedPromise),z._closedPromise_reject(Z),z._closedPromise_resolve=void 0,z._closedPromise_reject=void 0,z._closedPromiseState="rejected")}function zg(z){z._closedPromise_resolve!==void 0&&(z._closedPromise_resolve(void 0),z._closedPromise_resolve=void 0,z._closedPromise_reject=void 0,z._closedPromiseState="resolved")}function Yf(z){z._readyPromise=h((Z,ge)=>{z._readyPromise_resolve=Z,z._readyPromise_reject=ge}),z._readyPromiseState="pending"}function j(z,Z){Yf(z),te(z,Z)}function U(z){Yf(z),se(z)}function te(z,Z){z._readyPromise_reject!==void 0&&(S(z._readyPromise),z._readyPromise_reject(Z),z._readyPromise_resolve=void 0,z._readyPromise_reject=void 0,z._readyPromiseState="rejected")}function se(z){z._readyPromise_resolve!==void 0&&(z._readyPromise_resolve(void 0),z._readyPromise_resolve=void 0,z._readyPromise_reject=void 0,z._readyPromiseState="fulfilled")}Object.defineProperties(Vl.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Vl.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const he=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0,ve=function(){const z=he==null?void 0:he.DOMException;return function(Z){if(typeof Z!="function"&&typeof Z!="object"||Z.name!=="DOMException")return!1;try{return new Z,!0}catch{return!1}}(z)?z:void 0}()||function(){const z=function(Z,ge){this.message=Z||"",this.name=ge||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return a(z,"DOMException"),z.prototype=Object.create(Error.prototype),Object.defineProperty(z.prototype,"constructor",{value:z,writable:!0,configurable:!0}),z}();function Ee(z,Z,ge,Te,Ve,qe){const Je=I(z),We=Mg(Z);z._disturbed=!0;let Xe=!1,ht=m(void 0);return h((mt,Lt)=>{let bt;if(qe!==void 0){if(bt=()=>{const Zt=qe.reason!==void 0?qe.reason:new ve("Aborted","AbortError"),hn=[];Te||hn.push(()=>Z._state==="writable"?Bf(Z,Zt):m(void 0)),Ve||hn.push(()=>z._state==="readable"?_n(z,Zt):m(void 0)),rn(()=>Promise.all(hn.map(Or=>Or())),!0,Zt)},qe.aborted)return void bt();qe.addEventListener("abort",bt)}var Ut,_r,xr;if(zr(z,Je._closedPromise,Zt=>(Te?Tr(!0,Zt):rn(()=>Bf(Z,Zt),!0,Zt),null)),zr(Z,We._closedPromise,Zt=>(Ve?Tr(!0,Zt):rn(()=>_n(z,Zt),!0,Zt),null)),Ut=z,_r=Je._closedPromise,xr=()=>(ge?Tr():rn(()=>function(Zt){const hn=Zt._ownerWritableStream,Or=hn._state;return ko(hn)||Or==="closed"?m(void 0):Or==="errored"?g(hn._storedError):Hf(Zt)}(We)),null),Ut._state==="closed"?xr():p(_r,xr),ko(Z)||Z._state==="closed"){const Zt=new TypeError("the destination writable stream closed before all data could be piped to it");Ve?Tr(!0,Zt):rn(()=>_n(z,Zt),!0,Zt)}function Nn(){const Zt=ht;return _(ht,()=>Zt!==ht?Nn():void 0)}function zr(Zt,hn,Or){Zt._state==="errored"?Or(Zt._storedError):E(hn,Or)}function rn(Zt,hn,Or){function Rr(){return v(Zt(),()=>xi(hn,Or),er=>xi(!0,er)),null}Xe||(Xe=!0,Z._state!=="writable"||ko(Z)?Rr():p(Nn(),Rr))}function Tr(Zt,hn){Xe||(Xe=!0,Z._state!=="writable"||ko(Z)?xi(Zt,hn):p(Nn(),()=>xi(Zt,hn)))}function xi(Zt,hn){return Fg(We),Q(Je),qe!==void 0&&qe.removeEventListener("abort",bt),Zt?Lt(hn):mt(void 0),null}S(h((Zt,hn)=>{(function Or(Rr){Rr?Zt():_(Xe?m(!0):_(We._readyPromise,()=>h((er,nn)=>{Re(Je,{_chunkSteps:sr=>{ht=_(Bg(We,sr),void 0,n),er(!1)},_closeSteps:()=>er(!0),_errorSteps:nn})})),Or,hn)})(!1)}))})}class Be{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!De(this))throw wn("desiredSize");return pr(this)}close(){if(!De(this))throw wn("close");if(!Yt(this))throw new TypeError("The stream is not in a state that permits close");Qe(this)}enqueue(Z=void 0){if(!De(this))throw wn("enqueue");if(!Yt(this))throw new TypeError("The stream is not in a state that permits enqueue");return wt(this,Z)}error(Z=void 0){if(!De(this))throw wn("error");Ht(this,Z)}[D](Z){Vt(this);const ge=this._cancelAlgorithm(Z);return st(this),ge}[F](Z){const ge=this._controlledReadableStream;if(this._queue.length>0){const Te=hr(this);this._closeRequested&&this._queue.length===0?(st(this),nl(ge)):Ke(this),Z._chunkSteps(Te)}else N(ge,Z),Ke(this)}[V](){}}function De(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledReadableStream")&&z instanceof Be}function Ke(z){if(rt(z)){if(z._pulling)return void(z._pullAgain=!0);z._pulling=!0,v(z._pullAlgorithm(),()=>(z._pulling=!1,z._pullAgain&&(z._pullAgain=!1,Ke(z)),null),Z=>(Ht(z,Z),null))}}function rt(z){const Z=z._controlledReadableStream;return!Yt(z)||!z._started?!1:pi(Z)&&re(Z)>0?!0:pr(z)>0}function st(z){z._pullAlgorithm=void 0,z._cancelAlgorithm=void 0,z._strategySizeAlgorithm=void 0}function Qe(z){if(!Yt(z))return;const Z=z._controlledReadableStream;z._closeRequested=!0,z._queue.length===0&&(st(z),nl(Z))}function wt(z,Z){if(!Yt(z))return;const ge=z._controlledReadableStream;if(pi(ge)&&re(ge)>0)H(ge,Z,!1);else{let Te;try{Te=z._strategySizeAlgorithm(Z)}catch(Ve){throw Ht(z,Ve),Ve}try{ln(z,Z,Te)}catch(Ve){throw Ht(z,Ve),Ve}}Ke(z)}function Ht(z,Z){const ge=z._controlledReadableStream;ge._state==="readable"&&(Vt(z),st(z),oa(ge,Z))}function pr(z){const Z=z._controlledReadableStream._state;return Z==="errored"?null:Z==="closed"?0:z._strategyHWM-z._queueTotalSize}function Yt(z){const Z=z._controlledReadableStream._state;return!z._closeRequested&&Z==="readable"}function Vn(z,Z,ge,Te,Ve,qe,Je){Z._controlledReadableStream=z,Z._queue=void 0,Z._queueTotalSize=void 0,Vt(Z),Z._started=!1,Z._closeRequested=!1,Z._pullAgain=!1,Z._pulling=!1,Z._strategySizeAlgorithm=Je,Z._strategyHWM=qe,Z._pullAlgorithm=Te,Z._cancelAlgorithm=Ve,z._readableStreamController=Z,v(m(ge()),()=>(Z._started=!0,Ke(Z),null),We=>(Ht(Z,We),null))}function wn(z){return new TypeError(`ReadableStreamDefaultController.prototype.${z} can only be used on a ReadableStreamDefaultController`)}function na(z,Z){return Ne(z._readableStreamController)?function(ge){let Te,Ve,qe,Je,We,Xe=I(ge),ht=!1,mt=!1,Lt=!1,bt=!1,Ut=!1;const _r=h(Or=>{We=Or});function xr(Or){E(Or._closedPromise,Rr=>(Or!==Xe||(Dt(qe._readableStreamController,Rr),Dt(Je._readableStreamController,Rr),bt&&Ut||We(void 0)),null))}function Nn(){yn(Xe)&&(Q(Xe),Xe=I(ge),xr(Xe)),Re(Xe,{_chunkSteps:Or=>{$(()=>{mt=!1,Lt=!1;const Rr=Or;let er=Or;if(!bt&&!Ut)try{er=rr(Or)}catch(nn){return Dt(qe._readableStreamController,nn),Dt(Je._readableStreamController,nn),void We(_n(ge,nn))}bt||Tt(qe._readableStreamController,Rr),Ut||Tt(Je._readableStreamController,er),ht=!1,mt?rn():Lt&&Tr()})},_closeSteps:()=>{ht=!1,bt||yt(qe._readableStreamController),Ut||yt(Je._readableStreamController),qe._readableStreamController._pendingPullIntos.length>0&&Ir(qe._readableStreamController,0),Je._readableStreamController._pendingPullIntos.length>0&&Ir(Je._readableStreamController,0),bt&&Ut||We(void 0)},_errorSteps:()=>{ht=!1}})}function zr(Or,Rr){me(Xe)&&(Q(Xe),Xe=dn(ge),xr(Xe));const er=Rr?Je:qe,nn=Rr?qe:Je;di(Xe,Or,1,{_chunkSteps:sr=>{$(()=>{mt=!1,Lt=!1;const un=Rr?Ut:bt;if(Rr?bt:Ut)un||Mn(er._readableStreamController,sr);else{let uo;try{uo=rr(sr)}catch(gi){return Dt(er._readableStreamController,gi),Dt(nn._readableStreamController,gi),void We(_n(ge,gi))}un||Mn(er._readableStreamController,sr),Tt(nn._readableStreamController,uo)}ht=!1,mt?rn():Lt&&Tr()})},_closeSteps:sr=>{ht=!1;const un=Rr?Ut:bt,uo=Rr?bt:Ut;un||yt(er._readableStreamController),uo||yt(nn._readableStreamController),sr!==void 0&&(un||Mn(er._readableStreamController,sr),!uo&&nn._readableStreamController._pendingPullIntos.length>0&&Ir(nn._readableStreamController,0)),un&&uo||We(void 0)},_errorSteps:()=>{ht=!1}})}function rn(){if(ht)return mt=!0,m(void 0);ht=!0;const Or=Gr(qe._readableStreamController);return Or===null?Nn():zr(Or._view,!1),m(void 0)}function Tr(){if(ht)return Lt=!0,m(void 0);ht=!0;const Or=Gr(Je._readableStreamController);return Or===null?Nn():zr(Or._view,!0),m(void 0)}function xi(Or){if(bt=!0,Te=Or,Ut){const Rr=W([Te,Ve]),er=_n(ge,Rr);We(er)}return _r}function Zt(Or){if(Ut=!0,Ve=Or,bt){const Rr=W([Te,Ve]),er=_n(ge,Rr);We(er)}return _r}function hn(){}return qe=Jl(hn,rn,xi),Je=Jl(hn,Tr,Zt),xr(Xe),[qe,Je]}(z):function(ge,Te){const Ve=I(ge);let qe,Je,We,Xe,ht,mt=!1,Lt=!1,bt=!1,Ut=!1;const _r=h(Tr=>{ht=Tr});function xr(){return mt?(Lt=!0,m(void 0)):(mt=!0,Re(Ve,{_chunkSteps:Tr=>{$(()=>{Lt=!1;const xi=Tr,Zt=Tr;bt||wt(We._readableStreamController,xi),Ut||wt(Xe._readableStreamController,Zt),mt=!1,Lt&&xr()})},_closeSteps:()=>{mt=!1,bt||Qe(We._readableStreamController),Ut||Qe(Xe._readableStreamController),bt&&Ut||ht(void 0)},_errorSteps:()=>{mt=!1}}),m(void 0))}function Nn(Tr){if(bt=!0,qe=Tr,Ut){const xi=W([qe,Je]),Zt=_n(ge,xi);ht(Zt)}return _r}function zr(Tr){if(Ut=!0,Je=Tr,bt){const xi=W([qe,Je]),Zt=_n(ge,xi);ht(Zt)}return _r}function rn(){}return We=Pi(rn,xr,Nn),Xe=Pi(rn,xr,zr),E(Ve._closedPromise,Tr=>(Ht(We._readableStreamController,Tr),Ht(Xe._readableStreamController,Tr),bt&&Ut||ht(void 0),null)),[We,Xe]}(z)}function ia(z){return i(Z=z)&&Z.getReader!==void 0?function(ge){let Te;function Ve(){let Je;try{Je=ge.read()}catch(We){return g(We)}return y(Je,We=>{if(!i(We))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(We.done)Qe(Te._readableStreamController);else{const Xe=We.value;wt(Te._readableStreamController,Xe)}})}function qe(Je){try{return m(ge.cancel(Je))}catch(We){return g(We)}}return Te=Pi(n,Ve,qe,0),Te}(z.getReader()):function(ge){let Te;const Ve=Fe(ge,"async");function qe(){let We;try{We=ft(Ve)}catch(Xe){return g(Xe)}return y(m(We),Xe=>{if(!i(Xe))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(Xe.done)Qe(Te._readableStreamController);else{const ht=Xe.value;wt(Te._readableStreamController,ht)}})}function Je(We){const Xe=Ve.iterator;let ht;try{ht=Se(Xe,"return")}catch(mt){return g(mt)}return ht===void 0?m(void 0):y(d(ht,Xe,[We]),mt=>{if(!i(mt))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return Te=Pi(n,qe,Je,0),Te}(z);var Z}function mr(z,Z,ge){return q(z,ge),Te=>d(z,Z,[Te])}function rl(z,Z,ge){return q(z,ge),Te=>d(z,Z,[Te])}function $r(z,Z,ge){return q(z,ge),Te=>T(z,Z,[Te])}function bn(z,Z){if((z=`${z}`)!="bytes")throw new TypeError(`${Z} '${z}' is not a valid enumeration value for ReadableStreamType`);return z}function Kl(z,Z){k(z,Z);const ge=z==null?void 0:z.preventAbort,Te=z==null?void 0:z.preventCancel,Ve=z==null?void 0:z.preventClose,qe=z==null?void 0:z.signal;return qe!==void 0&&function(Je,We){if(!function(Xe){if(typeof Xe!="object"||Xe===null)return!1;try{return typeof Xe.aborted=="boolean"}catch{return!1}}(Je))throw new TypeError(`${We} is not an AbortSignal.`)}(qe,`${Z} has member 'signal' that`),{preventAbort:!!ge,preventCancel:!!Te,preventClose:!!Ve,signal:qe}}Object.defineProperties(Be.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),a(Be.prototype.close,"close"),a(Be.prototype.enqueue,"enqueue"),a(Be.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Be.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class Hn{constructor(Z={},ge={}){Z===void 0?Z=null:ie(Z,"First parameter");const Te=Zs(ge,"Second parameter"),Ve=function(qe,Je){k(qe,Je);const We=qe,Xe=We==null?void 0:We.autoAllocateChunkSize,ht=We==null?void 0:We.cancel,mt=We==null?void 0:We.pull,Lt=We==null?void 0:We.start,bt=We==null?void 0:We.type;return{autoAllocateChunkSize:Xe===void 0?void 0:ye(Xe,`${Je} has member 'autoAllocateChunkSize' that`),cancel:ht===void 0?void 0:mr(ht,We,`${Je} has member 'cancel' that`),pull:mt===void 0?void 0:rl(mt,We,`${Je} has member 'pull' that`),start:Lt===void 0?void 0:$r(Lt,We,`${Je} has member 'start' that`),type:bt===void 0?void 0:bn(bt,`${Je} has member 'type' that`)}}(Z,"First parameter");if(so(this),Ve.type==="bytes"){if(Te.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");(function(qe,Je,We){const Xe=Object.create($e.prototype);let ht,mt,Lt;ht=Je.start!==void 0?()=>Je.start(Xe):()=>{},mt=Je.pull!==void 0?()=>Je.pull(Xe):()=>m(void 0),Lt=Je.cancel!==void 0?Ut=>Je.cancel(Ut):()=>m(void 0);const bt=Je.autoAllocateChunkSize;if(bt===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");qn(qe,Xe,ht,mt,Lt,We,bt)})(this,Ve,Ln(Te,0))}else{const qe=uc(Te);(function(Je,We,Xe,ht){const mt=Object.create(Be.prototype);let Lt,bt,Ut;Lt=We.start!==void 0?()=>We.start(mt):()=>{},bt=We.pull!==void 0?()=>We.pull(mt):()=>m(void 0),Ut=We.cancel!==void 0?_r=>We.cancel(_r):()=>m(void 0),Vn(Je,mt,Lt,bt,Ut,Xe,ht)})(this,Ve,Ln(Te,1),qe)}}get locked(){if(!hi(this))throw mi("locked");return pi(this)}cancel(Z=void 0){return hi(this)?pi(this)?g(new TypeError("Cannot cancel a stream that already has a reader")):_n(this,Z):g(mi("cancel"))}getReader(Z=void 0){if(!hi(this))throw mi("getReader");return function(ge,Te){k(ge,Te);const Ve=ge==null?void 0:ge.mode;return{mode:Ve===void 0?void 0:Yn(Ve,`${Te} has member 'mode' that`)}}(Z,"First parameter").mode===void 0?I(this):dn(this)}pipeThrough(Z,ge={}){if(!hi(this))throw mi("pipeThrough");J(Z,1,"pipeThrough");const Te=function(qe,Je){k(qe,Je);const We=qe==null?void 0:qe.readable;Y(We,"readable","ReadableWritablePair"),R(We,`${Je} has member 'readable' that`);const Xe=qe==null?void 0:qe.writable;return Y(Xe,"writable","ReadableWritablePair"),zl(Xe,`${Je} has member 'writable' that`),{readable:We,writable:Xe}}(Z,"First parameter"),Ve=Kl(ge,"Second parameter");if(pi(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(vs(Te.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return S(Ee(this,Te.writable,Ve.preventClose,Ve.preventAbort,Ve.preventCancel,Ve.signal)),Te.readable}pipeTo(Z,ge={}){if(!hi(this))return g(mi("pipeTo"));if(Z===void 0)return g("Parameter 1 is required in 'pipeTo'.");if(!ao(Z))return g(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let Te;try{Te=Kl(ge,"Second parameter")}catch(Ve){return g(Ve)}return pi(this)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):vs(Z)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Ee(this,Z,Te.preventClose,Te.preventAbort,Te.preventCancel,Te.signal)}tee(){if(!hi(this))throw mi("tee");return W(na(this))}values(Z=void 0){if(!hi(this))throw mi("values");return function(ge,Te){const Ve=I(ge),qe=new vt(Ve,Te),Je=Object.create(at);return Je._asyncIteratorImpl=qe,Je}(this,function(ge,Te){return k(ge,Te),{preventCancel:!!(ge==null?void 0:ge.preventCancel)}}(Z,"First parameter").preventCancel)}[Ie](Z){return this.values(Z)}static from(Z){return ia(Z)}}function Pi(z,Z,ge,Te=1,Ve=()=>1){const qe=Object.create(Hn.prototype);return so(qe),Vn(qe,Object.create(Be.prototype),z,Z,ge,Te,Ve),qe}function Jl(z,Z,ge){const Te=Object.create(Hn.prototype);return so(Te),qn(Te,Object.create($e.prototype),z,Z,ge,0,void 0),Te}function so(z){z._state="readable",z._reader=void 0,z._storedError=void 0,z._disturbed=!1}function hi(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_readableStreamController")&&z instanceof Hn}function pi(z){return z._reader!==void 0}function _n(z,Z){if(z._disturbed=!0,z._state==="closed")return m(void 0);if(z._state==="errored")return g(z._storedError);nl(z);const ge=z._reader;if(ge!==void 0&&yn(ge)){const Te=ge._readIntoRequests;ge._readIntoRequests=new A,Te.forEach(Ve=>{Ve._closeSteps(void 0)})}return y(z._readableStreamController[D](Z),n)}function nl(z){z._state="closed";const Z=z._reader;if(Z!==void 0&&(B(Z),me(Z))){const ge=Z._readRequests;Z._readRequests=new A,ge.forEach(Te=>{Te._closeSteps()})}}function oa(z,Z){z._state="errored",z._storedError=Z;const ge=z._reader;ge!==void 0&&(M(ge,Z),me(ge)?Le(ge,Z):ps(ge,Z))}function mi(z){return new TypeError(`ReadableStream.prototype.${z} can only be used on a ReadableStream`)}function qg(z,Z){k(z,Z);const ge=z==null?void 0:z.highWaterMark;return Y(ge,"highWaterMark","QueuingStrategyInit"),{highWaterMark:oe(ge)}}Object.defineProperties(Hn,{from:{enumerable:!0}}),Object.defineProperties(Hn.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),a(Hn.from,"from"),a(Hn.prototype.cancel,"cancel"),a(Hn.prototype.getReader,"getReader"),a(Hn.prototype.pipeThrough,"pipeThrough"),a(Hn.prototype.pipeTo,"pipeTo"),a(Hn.prototype.tee,"tee"),a(Hn.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Hn.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(Hn.prototype,Ie,{value:Hn.prototype.values,writable:!0,configurable:!0});const Vg=z=>z.byteLength;a(Vg,"size");class Xf{constructor(Z){J(Z,1,"ByteLengthQueuingStrategy"),Z=qg(Z,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=Z.highWaterMark}get highWaterMark(){if(!dc(this))throw jr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!dc(this))throw jr("size");return Vg}}function jr(z){return new TypeError(`ByteLengthQueuingStrategy.prototype.${z} can only be used on a ByteLengthQueuingStrategy`)}function dc(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_byteLengthQueuingStrategyHighWaterMark")&&z instanceof Xf}Object.defineProperties(Xf.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Xf.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const lo=()=>1;a(lo,"size");class La{constructor(Z){J(Z,1,"CountQueuingStrategy"),Z=qg(Z,"First parameter"),this._countQueuingStrategyHighWaterMark=Z.highWaterMark}get highWaterMark(){if(!Gg(this))throw Hg("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Gg(this))throw Hg("size");return lo}}function Hg(z){return new TypeError(`CountQueuingStrategy.prototype.${z} can only be used on a CountQueuingStrategy`)}function Gg(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_countQueuingStrategyHighWaterMark")&&z instanceof La}function Wg(z,Z,ge){return q(z,ge),Te=>d(z,Z,[Te])}function il(z,Z,ge){return q(z,ge),Te=>T(z,Z,[Te])}function Wh(z,Z,ge){return q(z,ge),(Te,Ve)=>d(z,Z,[Te,Ve])}function ys(z,Z,ge){return q(z,ge),Te=>d(z,Z,[Te])}Object.defineProperties(La.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(La.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class hc{constructor(Z={},ge={},Te={}){Z===void 0&&(Z=null);const Ve=Zs(ge,"Second parameter"),qe=Zs(Te,"Third parameter"),Je=function(bt,Ut){k(bt,Ut);const _r=bt==null?void 0:bt.cancel,xr=bt==null?void 0:bt.flush,Nn=bt==null?void 0:bt.readableType,zr=bt==null?void 0:bt.start,rn=bt==null?void 0:bt.transform,Tr=bt==null?void 0:bt.writableType;return{cancel:_r===void 0?void 0:ys(_r,bt,`${Ut} has member 'cancel' that`),flush:xr===void 0?void 0:Wg(xr,bt,`${Ut} has member 'flush' that`),readableType:Nn,start:zr===void 0?void 0:il(zr,bt,`${Ut} has member 'start' that`),transform:rn===void 0?void 0:Wh(rn,bt,`${Ut} has member 'transform' that`),writableType:Tr}}(Z,"First parameter");if(Je.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Je.writableType!==void 0)throw new RangeError("Invalid writableType specified");const We=Ln(qe,0),Xe=uc(qe),ht=Ln(Ve,1),mt=uc(Ve);let Lt;(function(bt,Ut,_r,xr,Nn,zr){function rn(){return Ut}function Tr(Rr){return function(er,nn){const sr=er._transformStreamController;return er._backpressure?y(er._backpressureChangePromise,()=>{const un=er._writable;if(un._state==="erroring")throw un._storedError;return Zf(sr,nn)}):Zf(sr,nn)}(bt,Rr)}function xi(Rr){return function(er,nn){const sr=er._transformStreamController;if(sr._finishPromise!==void 0)return sr._finishPromise;const un=er._readable;sr._finishPromise=h((gi,BE)=>{sr._finishPromise_resolve=gi,sr._finishPromise_reject=BE});const uo=sr._cancelAlgorithm(nn);return Zl(sr),v(uo,()=>(un._state==="errored"?He(sr,un._storedError):(Ht(un._readableStreamController,nn),Ce(sr)),null),gi=>(Ht(un._readableStreamController,gi),He(sr,gi),null)),sr._finishPromise}(bt,Rr)}function Zt(){return function(Rr){const er=Rr._transformStreamController;if(er._finishPromise!==void 0)return er._finishPromise;const nn=Rr._readable;er._finishPromise=h((un,uo)=>{er._finishPromise_resolve=un,er._finishPromise_reject=uo});const sr=er._flushAlgorithm();return Zl(er),v(sr,()=>(nn._state==="errored"?He(er,nn._storedError):(Qe(nn._readableStreamController),Ce(er)),null),un=>(Ht(nn._readableStreamController,un),He(er,un),null)),er._finishPromise}(bt)}function hn(){return function(Rr){return Qf(Rr,!1),Rr._backpressureChangePromise}(bt)}function Or(Rr){return function(er,nn){const sr=er._transformStreamController;if(sr._finishPromise!==void 0)return sr._finishPromise;const un=er._writable;sr._finishPromise=h((gi,BE)=>{sr._finishPromise_resolve=gi,sr._finishPromise_reject=BE});const uo=sr._cancelAlgorithm(nn);return Zl(sr),v(uo,()=>(un._state==="errored"?He(sr,un._storedError):(Wl(un._writableStreamController,nn),mc(er),Ce(sr)),null),gi=>(Wl(un._writableStreamController,gi),mc(er),He(sr,gi),null)),sr._finishPromise}(bt,Rr)}bt._writable=function(Rr,er,nn,sr,un=1,uo=()=>1){const gi=Object.create(ms.prototype);return gs(gi),qh(gi,Object.create(Vl.prototype),Rr,er,nn,sr,un,uo),gi}(rn,Tr,Zt,xi,_r,xr),bt._readable=Pi(rn,hn,Or,Nn,zr),bt._backpressure=void 0,bt._backpressureChangePromise=void 0,bt._backpressureChangePromise_resolve=void 0,Qf(bt,!0),bt._transformStreamController=void 0})(this,h(bt=>{Lt=bt}),ht,mt,We,Xe),function(bt,Ut){const _r=Object.create(jo.prototype);let xr,Nn,zr;xr=Ut.transform!==void 0?rn=>Ut.transform(rn,_r):rn=>{try{return Kg(_r,rn),m(void 0)}catch(Tr){return g(Tr)}},Nn=Ut.flush!==void 0?()=>Ut.flush(_r):()=>m(void 0),zr=Ut.cancel!==void 0?rn=>Ut.cancel(rn):()=>m(void 0),function(rn,Tr,xi,Zt,hn){Tr._controlledTransformStream=rn,rn._transformStreamController=Tr,Tr._transformAlgorithm=xi,Tr._flushAlgorithm=Zt,Tr._cancelAlgorithm=hn,Tr._finishPromise=void 0,Tr._finishPromise_resolve=void 0,Tr._finishPromise_reject=void 0}(bt,_r,xr,Nn,zr)}(this,Je),Je.start!==void 0?Lt(Je.start(this._transformStreamController)):Lt(void 0)}get readable(){if(!Yl(this))throw Ze("readable");return this._readable}get writable(){if(!Yl(this))throw Ze("writable");return this._writable}}function Yl(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_transformStreamController")&&z instanceof hc}function pc(z,Z){Ht(z._readable._readableStreamController,Z),Xl(z,Z)}function Xl(z,Z){Zl(z._transformStreamController),Wl(z._writable._writableStreamController,Z),mc(z)}function mc(z){z._backpressure&&Qf(z,!1)}function Qf(z,Z){z._backpressureChangePromise!==void 0&&z._backpressureChangePromise_resolve(),z._backpressureChangePromise=h(ge=>{z._backpressureChangePromise_resolve=ge}),z._backpressure=Z}Object.defineProperties(hc.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(hc.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class jo{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ql(this))throw gc("desiredSize");return pr(this._controlledTransformStream._readable._readableStreamController)}enqueue(Z=void 0){if(!Ql(this))throw gc("enqueue");Kg(this,Z)}error(Z=void 0){if(!Ql(this))throw gc("error");var ge;ge=Z,pc(this._controlledTransformStream,ge)}terminate(){if(!Ql(this))throw gc("terminate");(function(Z){const ge=Z._controlledTransformStream;Qe(ge._readable._readableStreamController);const Te=new TypeError("TransformStream terminated");Xl(ge,Te)})(this)}}function Ql(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledTransformStream")&&z instanceof jo}function Zl(z){z._transformAlgorithm=void 0,z._flushAlgorithm=void 0,z._cancelAlgorithm=void 0}function Kg(z,Z){const ge=z._controlledTransformStream,Te=ge._readable._readableStreamController;if(!Yt(Te))throw new TypeError("Readable side is not in a state that permits enqueue");try{wt(Te,Z)}catch(qe){throw Xl(ge,qe),ge._readable._storedError}(function(qe){return!rt(qe)})(Te)!==ge._backpressure&&Qf(ge,!0)}function Zf(z,Z){return y(z._transformAlgorithm(Z),void 0,ge=>{throw pc(z._controlledTransformStream,ge),ge})}function gc(z){return new TypeError(`TransformStreamDefaultController.prototype.${z} can only be used on a TransformStreamDefaultController`)}function Ce(z){z._finishPromise_resolve!==void 0&&(z._finishPromise_resolve(),z._finishPromise_resolve=void 0,z._finishPromise_reject=void 0)}function He(z,Z){z._finishPromise_reject!==void 0&&(S(z._finishPromise),z._finishPromise_reject(Z),z._finishPromise_resolve=void 0,z._finishPromise_reject=void 0)}function Ze(z){return new TypeError(`TransformStream.prototype.${z} can only be used on a TransformStream`)}Object.defineProperties(jo.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),a(jo.prototype.enqueue,"enqueue"),a(jo.prototype.error,"error"),a(jo.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(jo.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),r.ByteLengthQueuingStrategy=Xf,r.CountQueuingStrategy=La,r.ReadableByteStreamController=$e,r.ReadableStream=Hn,r.ReadableStreamBYOBReader=Cr,r.ReadableStreamBYOBRequest=At,r.ReadableStreamDefaultController=Be,r.ReadableStreamDefaultReader=fe,r.TransformStream=hc,r.TransformStreamDefaultController=jo,r.WritableStream=ms,r.WritableStreamDefaultController=Vl,r.WritableStreamDefaultWriter=Da})}}),TR=Oe({"../core/dist/protocol-helpers.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=(Na(),Ar(Xo)),r=$R(),n=Oo(),{debug:i,warn:o}=(0,n.createLoggers)("core","protocol-helpers");function a(c){return class extends c{set nodeStream(h){this._nodeStream=h}get nodeStream(){if(!this._nodeStream)throw new Error("ManagedStream not correctly initialized nodeStream is undefined");return this._nodeStream}set wotStream(h){this._wotStream=h}get wotStream(){if(!this._wotStream)throw new Error("ManagedStream not correctly initialized wotStream is undefined");return this._wotStream}}}var s=a(t.Readable),l=a(r.ReadableStream);function u(c){return c instanceof l||c instanceof s}var f=class{static updatePropertyFormWithTemplate(c,h){for(const m of h.forms??[])if(m.href,m.contentType!=null){c.contentType=m.contentType;return}}static updateActionFormWithTemplate(c,h){for(const m of h.forms??[])if(m.href,m.contentType!=null){c.contentType=m.contentType;return}}static updateEventFormWithTemplate(c,h){for(const m of h.forms??[])if(m.href,m.contentType!=null){c.contentType=m.contentType;return}}static getPropertyContentType(c,h,m){var g;if(h!=null&&m!=null&&(c==null?void 0:c.properties)!=null&&c.properties[h]!=null&&c.properties[h].forms!=null&&Array.isArray(c.properties[h].forms)){for(const _ of c.properties[h].forms)if((g=_.href)!=null&&g.startsWith(m)&&_.contentType!=null)return _.contentType}}static getActionContentType(c,h,m){var g;if(h!=null&&m!=null&&(c!=null&&c.actions)&&c.actions!=null&&Array.isArray((g=c.actions[h])==null?void 0:g.forms)){for(const _ of c.actions[h].forms)if(_.href&&_.href.startsWith(m)&&_.contentType!=null)return _.contentType}}static getEventContentType(c,h,m){var g;if(h!=null&&m!=null&&(c!=null&&c.events)&&((g=c==null?void 0:c.events[h])==null?void 0:g.forms)!=null&&Array.isArray(c.events[h].forms)){for(const _ of c.events[h].forms)if(_.href&&_.href.startsWith(m)&&_.contentType!=null)return _.contentType}}static toWoTStream(c){if(u(c))return c.wotStream;const h=new l({start:m=>{c.on("data",g=>m.enqueue(g)),c.on("error",g=>m.error(g)),c.on("end",()=>m.close())},cancel:m=>{c instanceof t.Readable&&c.destroy(m)}});return c instanceof t.Readable?h.nodeStream=c:h.nodeStream=new t.Readable(c),h}static toNodeStream(c){if(u(c))return c.nodeStream;if(c instanceof t.Readable)return c;const h=c.getReader(),m=new s({read:g=>{h.read().then(_=>{m.push(_.value),_.done&&m.push(null)})},destroy:(g,_)=>{h.releaseLock(),c.cancel(g).then(()=>_(g))}});return m.wotStream=c,m.nodeStream=m,m}static readStreamFully(c){return new Promise((h,m)=>{if(c!=null){const g=[];c.on("data",_=>g.push(_)),c.on("error",m),c.on("end",()=>{g[0]!=null&&(g[0]instanceof Array||g[0]instanceof Kr||g[0]instanceof Uint8Array)?h(Kr.concat(g)):g[0]!=null&&typeof g[0]=="string"?h(Kr.from(g.join())):h(Kr.from(g))})}else i("Protocol-Helper returns empty buffer for readStreamFully due to undefined stream"),h(Kr.alloc(0))})}static findRequestMatchingFormIndex(c,h,m,g){if(c===void 0)return 0;let _=c.filter(v=>{const p=new URL(v.href.replace(/(\{[\S]*\})/,"")),E=m!==void 0?m.indexOf("?")!==-1?m.split("?")[0]:m:void 0;return p.protocol===h+":"&&(E===void 0||p.pathname===E)});if(g!=null){const v=_.filter(p=>p.contentType===g);v.length>0&&(_=v)}return _.length>0?c.indexOf(_[0]):0}static getFormIndexForOperation(c,h,m,g){var p;let _=-1,v=[];switch(h){case"property":if(c.readOnly===!0&&m==="writeproperty"||c.writeOnly===!0&&m==="readproperty")return _;c.readOnly!==!0&&v.push("writeproperty"),c.writeOnly!==!0&&v.push("readproperty");break;case"action":v=["invokeaction"];break;case"event":v=["subscribeevent","unsubscribeevent"];break}if(v.indexOf(m)!==-1&&(m=void 0),c.forms!==void 0&&g!==void 0&&c.forms.length>g){const E=c.forms[g];E!=null&&(m==null||((p=E.op)==null?void 0:p.includes(m))===!0)&&(_=g)}return c.forms!==void 0&&_===-1&&(m!==void 0?c.forms.every(E=>{var y;return((y=E.op)==null?void 0:y.includes(m))===!0&&(_=c.forms.indexOf(E)),_===-1}):c.forms.every(E=>(_=c.forms.indexOf(E),!1))),_}static getPropertyOpValues(c){const h=[];return c.readOnly!==!0&&h.push("writeproperty"),c.writeOnly!==!0&&h.push("readproperty"),h.length===0&&o("Property was declared both as readOnly and writeOnly."),c.observable===!0&&(h.push("observeproperty"),h.push("unobserveproperty")),h}};e.default=f}}),v6=Oe({"../core/dist/content.js"(e){Ae();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultContent=e.Content=void 0;var r=Xs(),n=t(TR()),i=class{constructor(a,s){this.type=a,this.body=s}toBuffer(){return n.default.readStreamFully(this.body)}};e.Content=i;var o=class extends i{constructor(a){super(r.ContentSerdes.DEFAULT,a)}};e.DefaultContent=o}}),kh=Oe({"../../node_modules/nofilter/lib/index.js"(e,t){Ae();var r=(Na(),Ar(Xo)),{Buffer:n}=(Xu(),Ar(Yu)),i=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}),o=class uw extends r.Transform{constructor(s,l,u={}){let f=null,c=null;switch(typeof s){case"object":n.isBuffer(s)?f=s:s&&(u=s);break;case"string":f=s;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof l){case"object":l&&(u=l);break;case"string":c=l;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!u||typeof u!="object")throw new TypeError("Invalid options");f==null&&(f=u.input),c==null&&(c=u.inputEncoding),delete u.input,delete u.inputEncoding;const h=u.watchPipe==null?!0:u.watchPipe;delete u.watchPipe;const m=!!u.readError;delete u.readError,super(u),this.readError=m,h&&this.on("pipe",g=>{const _=g._readableState.objectMode;if(this.length>0&&_!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=_,this._writableState.objectMode=_}),f!=null&&this.end(f,c)}static isNoFilter(s){return s instanceof this}static compare(s,l){if(!(s instanceof this))throw new TypeError("Arguments must be NoFilters");return s===l?0:s.compare(l)}static concat(s,l){if(!Array.isArray(s))throw new TypeError("list argument must be an Array of NoFilters");if(s.length===0||l===0)return n.alloc(0);l==null&&(l=s.reduce((h,m)=>{if(!(m instanceof uw))throw new TypeError("list argument must be an Array of NoFilters");return h+m.length},0));let u=!0,f=!0;const c=s.map(h=>{if(!(h instanceof uw))throw new TypeError("list argument must be an Array of NoFilters");const m=h.slice();return n.isBuffer(m)?f=!1:u=!1,m});if(u)return n.concat(c,l);if(f)return[].concat(...c).slice(0,l);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(s,l,u){!this._readableState.objectMode&&!n.isBuffer(s)&&(s=n.from(s,l)),this.push(s),u()}_bufArray(){let s=this._readableState.buffer;if(!Array.isArray(s)){let l=s.head;for(s=[];l!=null;)s.push(l.data),l=l.next}return s}read(s){const l=super.read(s);if(l!=null){if(this.emit("read",l),this.readError&&l.length<s)throw new Error(`Read ${l.length}, wanted ${s}`)}else if(this.readError)throw new Error(`No data available, wanted ${s}`);return l}readFull(s){let l=null,u=null,f=null;return new Promise((c,h)=>{if(this.length>=s){c(this.read(s));return}if(this.writableFinished){h(new Error(`Stream finished before ${s} bytes were available`));return}l=m=>{this.length>=s&&c(this.read(s))},u=()=>{h(new Error(`Stream finished before ${s} bytes were available`))},f=h,this.on("readable",l),this.on("error",f),this.on("finish",u)}).finally(()=>{l&&(this.removeListener("readable",l),this.removeListener("error",f),this.removeListener("finish",u))})}promise(s){let l=!1;return new Promise((u,f)=>{this.on("finish",()=>{const c=this.read();s!=null&&!l&&(l=!0,s(null,c)),u(c)}),this.on("error",c=>{s!=null&&!l&&(l=!0,s(c)),f(c)})})}compare(s){if(!(s instanceof uw))throw new TypeError("Arguments must be NoFilters");if(this===s)return 0;const l=this.slice(),u=s.slice();if(n.isBuffer(l)&&n.isBuffer(u))return l.compare(u);throw new Error("Cannot compare streams in object mode")}equals(s){return this.compare(s)===0}slice(s,l){if(this._readableState.objectMode)return this._bufArray().slice(s,l);const u=this._bufArray();switch(u.length){case 0:return n.alloc(0);case 1:return u[0].slice(s,l);default:return n.concat(u).slice(s,l)}}get(s){return this.slice()[s]}toJSON(){const s=this.slice();return n.isBuffer(s)?s.toJSON():s}toString(s,l,u){const f=this.slice(l,u);return n.isBuffer(f)?!s||s==="utf8"?i.decode(f):f.toString(s):JSON.stringify(f)}[Symbol.for("nodejs.util.inspect.custom")](s,l){const f=this._bufArray().map(c=>n.isBuffer(c)?l.stylize(c.toString("hex"),"string"):JSON.stringify(c)).join(", ");return`${this.constructor.name} [${f}]`}get length(){return this._readableState.length}writeBigInt(s){let l=s.toString(16);if(s<0){const u=BigInt(Math.floor(l.length/2));s=(BigInt(1)<<u*BigInt(8))+s,l=s.toString(16)}return l.length%2&&(l=`0${l}`),this.push(n.from(l,"hex"))}readUBigInt(s){const l=this.read(s);return n.isBuffer(l)?BigInt(`0x${l.toString("hex")}`):null}readBigInt(s){const l=this.read(s);if(!n.isBuffer(l))return null;let u=BigInt(`0x${l.toString("hex")}`);if(l[0]&128){const f=BigInt(1)<<BigInt(l.length)*BigInt(8);u-=f}return u}writeUInt8(s){const l=n.from([s]);return this.push(l)}writeUInt16LE(s){const l=n.alloc(2);return l.writeUInt16LE(s),this.push(l)}writeUInt16BE(s){const l=n.alloc(2);return l.writeUInt16BE(s),this.push(l)}writeUInt32LE(s){const l=n.alloc(4);return l.writeUInt32LE(s),this.push(l)}writeUInt32BE(s){const l=n.alloc(4);return l.writeUInt32BE(s),this.push(l)}writeInt8(s){const l=n.from([s]);return this.push(l)}writeInt16LE(s){const l=n.alloc(2);return l.writeUInt16LE(s),this.push(l)}writeInt16BE(s){const l=n.alloc(2);return l.writeUInt16BE(s),this.push(l)}writeInt32LE(s){const l=n.alloc(4);return l.writeUInt32LE(s),this.push(l)}writeInt32BE(s){const l=n.alloc(4);return l.writeUInt32BE(s),this.push(l)}writeFloatLE(s){const l=n.alloc(4);return l.writeFloatLE(s),this.push(l)}writeFloatBE(s){const l=n.alloc(4);return l.writeFloatBE(s),this.push(l)}writeDoubleLE(s){const l=n.alloc(8);return l.writeDoubleLE(s),this.push(l)}writeDoubleBE(s){const l=n.alloc(8);return l.writeDoubleBE(s),this.push(l)}writeBigInt64LE(s){const l=n.alloc(8);return l.writeBigInt64LE(s),this.push(l)}writeBigInt64BE(s){const l=n.alloc(8);return l.writeBigInt64BE(s),this.push(l)}writeBigUInt64LE(s){const l=n.alloc(8);return l.writeBigUInt64LE(s),this.push(l)}writeBigUInt64BE(s){const l=n.alloc(8);return l.writeBigUInt64BE(s),this.push(l)}readUInt8(){const s=this.read(1);return n.isBuffer(s)?s.readUInt8():null}readUInt16LE(){const s=this.read(2);return n.isBuffer(s)?s.readUInt16LE():null}readUInt16BE(){const s=this.read(2);return n.isBuffer(s)?s.readUInt16BE():null}readUInt32LE(){const s=this.read(4);return n.isBuffer(s)?s.readUInt32LE():null}readUInt32BE(){const s=this.read(4);return n.isBuffer(s)?s.readUInt32BE():null}readInt8(){const s=this.read(1);return n.isBuffer(s)?s.readInt8():null}readInt16LE(){const s=this.read(2);return n.isBuffer(s)?s.readInt16LE():null}readInt16BE(){const s=this.read(2);return n.isBuffer(s)?s.readInt16BE():null}readInt32LE(){const s=this.read(4);return n.isBuffer(s)?s.readInt32LE():null}readInt32BE(){const s=this.read(4);return n.isBuffer(s)?s.readInt32BE():null}readFloatLE(){const s=this.read(4);return n.isBuffer(s)?s.readFloatLE():null}readFloatBE(){const s=this.read(4);return n.isBuffer(s)?s.readFloatBE():null}readDoubleLE(){const s=this.read(8);return n.isBuffer(s)?s.readDoubleLE():null}readDoubleBE(){const s=this.read(8);return n.isBuffer(s)?s.readDoubleBE():null}readBigInt64LE(){const s=this.read(8);return n.isBuffer(s)?s.readBigInt64LE():null}readBigInt64BE(){const s=this.read(8);return n.isBuffer(s)?s.readBigInt64BE():null}readBigUInt64LE(){const s=this.read(8);return n.isBuffer(s)?s.readBigUInt64LE():null}readBigUInt64BE(){const s=this.read(8);return n.isBuffer(s)?s.readBigUInt64BE():null}};t.exports=o}}),tc=Oe({"../../node_modules/cbor/lib/constants.js"(e){Ae(),e.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},e.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258},e.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},e.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},e.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")},e.SHIFT32=4294967296,e.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(e.SHIFT32)}}}),gg=Oe({"../../node_modules/cbor/lib/utils.js"(e){Ae();var{Buffer:t}=(Xu(),Ar(Yu)),r=kh(),n=(Na(),Ar(Xo)),i=tc(),{NUMBYTES:o,SHIFT32:a,BI:s,SYMS:l}=i,u=2097151,f=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});e.utf8=m=>f.decode(m),e.utf8.checksUTF8=!0;function c(m){return m instanceof n.Readable?!0:["read","on","pipe"].every(g=>typeof m[g]=="function")}e.isBufferish=function(g){return g&&typeof g=="object"&&(t.isBuffer(g)||g instanceof Uint8Array||g instanceof Uint8ClampedArray||g instanceof ArrayBuffer||g instanceof DataView)},e.bufferishToBuffer=function(g){return t.isBuffer(g)?g:ArrayBuffer.isView(g)?t.from(g.buffer,g.byteOffset,g.byteLength):g instanceof ArrayBuffer?t.from(g):null},e.parseCBORint=function(g,_){switch(g){case o.ONE:return _.readUInt8(0);case o.TWO:return _.readUInt16BE(0);case o.FOUR:return _.readUInt32BE(0);case o.EIGHT:{const v=_.readUInt32BE(0),p=_.readUInt32BE(4);return v>u?BigInt(v)*s.SHIFT32+BigInt(p):v*a+p}default:throw new Error(`Invalid additional info for int: ${g}`)}},e.writeHalf=function(g,_){const v=t.allocUnsafe(4);v.writeFloatBE(_,0);const p=v.readUInt32BE(0);if(p&8191)return!1;let E=p>>16&32768;const y=p>>23&255,S=p&8388607;if(y>=113&&y<=142)E+=(y-112<<10)+(S>>13);else if(y>=103&&y<113){if(S&(1<<126-y)-1)return!1;E+=S+8388608>>126-y}else return!1;return g.writeUInt16BE(E),!0},e.parseHalf=function(g){const _=g[0]&128?-1:1,v=(g[0]&124)>>2,p=(g[0]&3)<<8|g[1];if(v){if(v===31)return _*(p?NaN:1/0)}else return _*5960464477539063e-23*p;return _*2**(v-25)*(1024+p)},e.parseCBORfloat=function(g){switch(g.length){case 2:return e.parseHalf(g);case 4:return g.readFloatBE(0);case 8:return g.readDoubleBE(0);default:throw new Error(`Invalid float size: ${g.length}`)}},e.hex=function(g){return t.from(g.replace(/^0x/,""),"hex")},e.bin=function(g){g=g.replace(/\s/g,"");let _=0,v=g.length%8||8;const p=[];for(;v<=g.length;)p.push(parseInt(g.slice(_,v),2)),_=v,v+=8;return t.from(p)},e.arrayEqual=function(g,_){return g==null&&_==null?!0:g==null||_==null?!1:g.length===_.length&&g.every((v,p)=>v===_[p])},e.bufferToBigInt=function(g){return BigInt(`0x${g.toString("hex")}`)},e.cborValueToString=function(g,_=-1){switch(typeof g){case"symbol":{switch(g){case l.NULL:return"null";case l.UNDEFINED:return"undefined";case l.BREAK:return"BREAK"}if(g.description)return g.description;const p=g.toString().match(/^Symbol\((?<name>.*)\)/);return p&&p.groups.name?p.groups.name:"Symbol"}case"string":return JSON.stringify(g);case"bigint":return g.toString();case"number":{const v=Object.is(g,-0)?"-0":String(g);return _>0?`${v}_${_}`:v}case"object":{const v=e.bufferishToBuffer(g);if(v){const p=v.toString("hex");return _===-1/0?p:`h'${p}'`}return typeof g[Symbol.for("nodejs.util.inspect.custom")]=="function"?g[Symbol.for("nodejs.util.inspect.custom")]():Array.isArray(g)?"[]":"{}"}}return String(g)},e.guessEncoding=function(g,_){if(typeof g=="string")return new r(g,_??"hex");const v=e.bufferishToBuffer(g);if(v)return new r(v);if(c(g))return g;throw new Error("Unknown input type")};var h={"=":"","+":"-","/":"_"};e.base64url=function(g){return e.bufferishToBuffer(g).toString("base64").replace(/[=+/]/g,_=>h[_])},e.base64=function(g){return e.bufferishToBuffer(g).toString("base64")},e.isBigEndian=function(){const g=new Uint8Array(4),_=new Uint32Array(g.buffer);return!((_[0]=1)&g[0])}}}),K7=Oe({"../../node_modules/cbor/vendor/binary-parse-stream/index.js"(e,t){Ae();var r=(Na(),Ar(Xo)),n=kh(),i=class extends r.Transform{constructor(o){super(o),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new n,this.__restart()}_transform(o,a,s){for(this.bs.write(o);this.bs.length>=this.__needed;){let l=null;const u=this.__needed===null?void 0:this.bs.read(this.__needed);try{l=this.__parser.next(u)}catch(f){return s(f)}this.__needed&&(this.__fresh=!1),l.done?(this.push(l.value),this.__restart()):this.__needed=l.value||1/0}return s()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(o){o(this.__fresh?null:new Error("unexpected end of input"))}};t.exports=i}}),y6=Oe({"../../node_modules/cbor/lib/tagged.js"(e,t){Ae();var r=tc(),n=gg(),i=Symbol("INTERNAL_JSON");function o(_,v){if(n.isBufferish(_))_.toJSON=v;else if(Array.isArray(_))for(const p of _)o(p,v);else if(_&&typeof _=="object"&&(!(_ instanceof g)||_.tag<21||_.tag>23))for(const p of Object.values(_))o(p,v)}function a(){return n.base64(this)}function s(){return n.base64url(this)}function l(){return this.toString("hex")}function u(_,v,p,E){const y=new DataView(_),[S,$]={2:[y.getUint16,y.setUint16],4:[y.getUint32,y.setUint32],8:[y.getBigUint64,y.setBigUint64]}[v],T=p+E;for(let d=p;d<T;d+=v)$.call(y,d,S.call(y,d,!0))}var f={0:_=>new Date(_),1:_=>new Date(_*1e3),2:_=>n.bufferToBigInt(_),3:_=>r.BI.MINUS_ONE-n.bufferToBigInt(_),21:(_,v)=>(n.isBufferish(_)?v[i]=s:o(_,s),v),22:(_,v)=>(n.isBufferish(_)?v[i]=a:o(_,a),v),23:(_,v)=>(n.isBufferish(_)?v[i]=l:o(_,l),v),32:_=>new URL(_),33:(_,v)=>{if(!_.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");const p=_.length%4;if(p===1)throw new Error("Invalid base64url length");if(p===2){if("AQgw".indexOf(_[_.length-1])===-1)throw new Error("Invalid base64 padding")}else if(p===3&&"AEIMQUYcgkosw048".indexOf(_[_.length-1])===-1)throw new Error("Invalid base64 padding");return v},34:(_,v)=>{const p=_.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!p)throw new Error("Invalid base64 characters");if(_.length%4!==0)throw new Error("Invalid base64 length");if(p.groups.padding==="="){if("AQgw".indexOf(_[_.length-2])===-1)throw new Error("Invalid base64 padding")}else if(p.groups.padding==="=="&&"AEIMQUYcgkosw048".indexOf(_[_.length-3])===-1)throw new Error("Invalid base64 padding");return v},35:_=>new RegExp(_),258:_=>new Set(_)},c={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};typeof BigUint64Array<"u"&&(c[67]=BigUint64Array,c[71]=BigUint64Array),typeof BigInt64Array<"u"&&(c[75]=BigInt64Array,c[79]=BigInt64Array);function h(_,v){if(!n.isBufferish(_))throw new TypeError("val not a buffer");const{tag:p}=v,E=c[p];if(!E)throw new Error(`Invalid typed array tag: ${p}`);const y=p&4,$=2**(((p&16)>>4)+(p&3));!y!==n.isBigEndian()&&$>1&&u(_.buffer,$,_.byteOffset,_.byteLength);const T=_.buffer.slice(_.byteOffset,_.byteOffset+_.byteLength);return new E(T)}for(const _ of Object.keys(c))f[_]=h;var m={},g=class PP{constructor(v,p,E){if(this.tag=v,this.value=p,this.err=E,typeof this.tag!="number")throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(this.tag|0)!==this.tag)throw new Error(`Tag must be a positive integer: ${this.tag}`)}toJSON(){if(this[i])return this[i].call(this.value);const v={tag:this.tag,value:this.value};return this.err&&(v.err=this.err),v}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(v){return v._pushTag(this.tag),v.pushAny(this.value)}convert(v){let p=v==null?void 0:v[this.tag];if(typeof p!="function"&&(p=PP.TAGS[this.tag],typeof p!="function"))return this;try{return p.call(this,this.value,this)}catch(E){return E&&E.message&&E.message.length>0?this.err=E.message:this.err=E,this}}static get TAGS(){return m}static set TAGS(v){m=v}static reset(){PP.TAGS={...f}}};g.INTERNAL_JSON=i,g.reset(),t.exports=g}}),w6=Oe({"../../node_modules/cbor/lib/simple.js"(e,t){Ae();var{MT:r,SIMPLE:n,SYMS:i}=tc(),o=class xP{constructor(s){if(typeof s!="number")throw new Error(`Invalid Simple type: ${typeof s}`);if(s<0||s>255||(s|0)!==s)throw new Error(`value must be a small positive integer: ${s}`);this.value=s}toString(){return`simple(${this.value})`}[Symbol.for("nodejs.util.inspect.custom")](s,l){return`simple(${this.value})`}encodeCBOR(s){return s._pushInt(this.value,r.SIMPLE_FLOAT)}static isSimple(s){return s instanceof xP}static decode(s,l=!0,u=!1){switch(s){case n.FALSE:return!1;case n.TRUE:return!0;case n.NULL:return l?null:i.NULL;case n.UNDEFINED:return l?void 0:i.UNDEFINED;case-1:if(!l||!u)throw new Error("Invalid BREAK");return i.BREAK;default:return new xP(s)}}};t.exports=o}}),G_=Oe({"../../node_modules/cbor/lib/decoder.js"(e,t){Ae();var r=K7(),n=y6(),i=w6(),o=gg(),a=kh();Na(),Ar(Xo);var s=tc(),{MT:l,NUMBYTES:u,SYMS:f,BI:c}=s,{Buffer:h}=(Xu(),Ar(Yu)),m=Symbol("count"),g=Symbol("major type"),_=Symbol("error"),v=Symbol("not found");function p(T,d,A){const P=[];return P[m]=A,P[f.PARENT]=T,P[g]=d,P}function E(T,d){const A=new a;return A[m]=-1,A[f.PARENT]=T,A[g]=d,A}var y=class extends Error{constructor(T,d){super(`Unexpected data: 0x${T.toString(16)}`),this.name="UnexpectedDataError",this.byte=T,this.value=d}};function S(T,d){switch(typeof T){case"function":return{options:{},cb:T};case"string":return{options:{encoding:T},cb:d};case"object":return{options:T||{},cb:d};default:throw new TypeError("Unknown option type")}}var $=class xs extends r{constructor(d={}){const{tags:A={},max_depth:P=-1,preferWeb:x=!1,required:D=!1,encoding:F="hex",extendedResults:V=!1,preventDuplicateKeys:X=!1,...G}=d;super({defaultEncoding:F,...G}),this.running=!0,this.max_depth=P,this.tags=A,this.preferWeb=x,this.extendedResults=V,this.required=D,this.preventDuplicateKeys=X,V&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new a)}static nullcheck(d){switch(d){case f.NULL:return null;case f.UNDEFINED:return;case v:throw new Error("Value not found");default:return d}}static decodeFirstSync(d,A={}){if(d==null)throw new TypeError("input required");({options:A}=S(A));const{encoding:P="hex",...x}=A,D=new xs(x),F=o.guessEncoding(d,P),V=D._parse();let X=V.next();for(;!X.done;){const Q=F.read(X.value);if(Q==null||Q.length!==X.value)throw new Error("Insufficient data");D.extendedResults&&D.valueBytes.write(Q),X=V.next(Q)}let G=null;if(D.extendedResults)G=X.value,G.unused=F.read();else if(G=xs.nullcheck(X.value),F.length>0){const Q=F.read(1);throw F.unshift(Q),new y(Q[0],G)}return G}static decodeAllSync(d,A={}){if(d==null)throw new TypeError("input required");({options:A}=S(A));const{encoding:P="hex",...x}=A,D=new xs(x),F=o.guessEncoding(d,P),V=[];for(;F.length>0;){const X=D._parse();let G=X.next();for(;!G.done;){const Q=F.read(G.value);if(Q==null||Q.length!==G.value)throw new Error("Insufficient data");D.extendedResults&&D.valueBytes.write(Q),G=X.next(Q)}V.push(xs.nullcheck(G.value))}return V}static decodeFirst(d,A={},P=null){if(d==null)throw new TypeError("input required");({options:A,cb:P}=S(A,P));const{encoding:x="hex",required:D=!1,...F}=A,V=new xs(F);let X=v;const G=o.guessEncoding(d,x),Q=new Promise((ce,ee)=>{V.on("data",ae=>{X=xs.nullcheck(ae),V.close()}),V.once("error",ae=>V.extendedResults&&ae instanceof y?(X.unused=V.bs.slice(),ce(X)):(X!==v&&(ae.value=X),X=_,V.close(),ee(ae))),V.once("end",()=>{switch(X){case v:return D?ee(new Error("No CBOR found")):ce(X);case _:return;default:return ce(X)}})});return typeof P=="function"&&Q.then(ce=>P(null,ce),P),G.pipe(V),Q}static decodeAll(d,A={},P=null){if(d==null)throw new TypeError("input required");({options:A,cb:P}=S(A,P));const{encoding:x="hex",...D}=A,F=new xs(D),V=[];F.on("data",G=>V.push(xs.nullcheck(G)));const X=new Promise((G,Q)=>{F.on("error",Q),F.on("end",()=>G(V))});return typeof P=="function"&&X.then(G=>P(void 0,G),G=>P(G,void 0)),o.guessEncoding(d,x).pipe(F),X}close(){this.running=!1,this.__fresh=!0}_onRead(d){this.valueBytes.write(d)}*_parse(){let d=null,A=0,P=null;for(;;){if(this.max_depth>=0&&A>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);const[x]=yield 1;if(!this.running)throw this.bs.unshift(h.from([x])),new y(x);const D=x>>5,F=x&31,V=d==null?void 0:d[g],X=d==null?void 0:d.length;switch(F){case u.ONE:this.emit("more-bytes",D,1,V,X),[P]=yield 1;break;case u.TWO:case u.FOUR:case u.EIGHT:{const Q=1<<F-24;this.emit("more-bytes",D,Q,V,X);const ce=yield Q;P=D===l.SIMPLE_FLOAT?ce:o.parseCBORint(F,ce);break}case 28:case 29:case 30:throw this.running=!1,new Error(`Additional info not implemented: ${F}`);case u.INDEFINITE:switch(D){case l.POS_INT:case l.NEG_INT:case l.TAG:throw new Error(`Invalid indefinite encoding for MT ${D}`)}P=-1;break;default:P=F}switch(D){case l.POS_INT:break;case l.NEG_INT:P===Number.MAX_SAFE_INTEGER?P=c.NEG_MAX:P=typeof P=="bigint"?c.MINUS_ONE-P:-1-P;break;case l.BYTE_STRING:case l.UTF8_STRING:switch(P){case 0:this.emit("start-string",D,P,V,X),D===l.UTF8_STRING?P="":P=this.preferWeb?new Uint8Array(0):h.allocUnsafe(0);break;case-1:this.emit("start",D,f.STREAM,V,X),d=E(d,D),A++;continue;default:this.emit("start-string",D,P,V,X),P=yield P,D===l.UTF8_STRING?P=o.utf8(P):this.preferWeb&&(P=new Uint8Array(P.buffer,P.byteOffset,P.length))}break;case l.ARRAY:case l.MAP:switch(P){case 0:P=D===l.MAP?{}:[];break;case-1:this.emit("start",D,f.STREAM,V,X),d=p(d,D,-1),A++;continue;default:this.emit("start",D,P,V,X),d=p(d,D,P*(D-3)),A++;continue}break;case l.TAG:this.emit("start",D,P,V,X),d=p(d,D,1),d.push(P),A++;continue;case l.SIMPLE_FLOAT:if(typeof P=="number"){if(F===u.ONE&&P<32)throw new Error(`Invalid two-byte encoding of simple value ${P}`);const Q=d!=null;P=i.decode(P,Q,Q&&d[m]<0)}else P=o.parseCBORfloat(P)}this.emit("value",P,V,X,F);let G=!1;for(;d!=null;){if(P===f.BREAK)d[m]=1;else if(Array.isArray(d))d.push(P);else{const ce=d[g];if(ce!=null&&ce!==D)throw this.running=!1,new Error("Invalid major type in indefinite encoding");d.write(P)}if(--d[m]!==0){G=!0;break}if(--A,delete d[m],Array.isArray(d))switch(d[g]){case l.ARRAY:P=d;break;case l.MAP:{let ce=!0;if(d.length%2!==0)throw new Error(`Invalid map length: ${d.length}`);for(let ee=0,ae=d.length;ee<ae;ee+=2)if(typeof d[ee]!="string"||d[ee]==="__proto__"){ce=!1;break}if(ce){P={};for(let ee=0,ae=d.length;ee<ae;ee+=2){if(this.preventDuplicateKeys&&Object.prototype.hasOwnProperty.call(P,d[ee]))throw new Error("Duplicate keys in a map");P[d[ee]]=d[ee+1]}}else{P=new Map;for(let ee=0,ae=d.length;ee<ae;ee+=2){if(this.preventDuplicateKeys&&P.has(d[ee]))throw new Error("Duplicate keys in a map");P.set(d[ee],d[ee+1])}}break}case l.TAG:{P=new n(d[0],d[1]).convert(this.tags);break}}else if(d instanceof a)switch(d[g]){case l.BYTE_STRING:P=d.slice(),this.preferWeb&&(P=new Uint8Array(P.buffer,P.byteOffset,P.length));break;case l.UTF8_STRING:P=d.toString("utf-8");break}this.emit("stop",d[g]);const Q=d;d=d[f.PARENT],delete Q[f.PARENT],delete Q[g]}if(!G){if(this.extendedResults){const Q=this.valueBytes.slice(),ce={value:xs.nullcheck(P),bytes:Q,length:Q.length};return this.valueBytes=new a,ce}return P}}}};$.NOT_FOUND=v,t.exports=$}}),J7=Oe({"../../node_modules/cbor/lib/commented.js"(e,t){Ae();var r=(Na(),Ar(Xo)),n=gg(),i=G_(),o=kh(),{MT:a,NUMBYTES:s,SYMS:l}=tc(),{Buffer:u}=(Xu(),Ar(Yu));function f(m){return m>1?"s":""}function c(m,g){switch(typeof m){case"function":return{options:{},cb:m};case"string":return{options:{encoding:m},cb:g};case"number":return{options:{max_depth:m},cb:g};case"object":return{options:m||{},cb:g};default:throw new TypeError("Unknown option type")}}var h=class OP extends r.Transform{constructor(g={}){const{depth:_=1,max_depth:v=10,no_summary:p=!1,tags:E={},preferWeb:y,encoding:S,...$}=g;super({...$,readableObjectMode:!1,writableObjectMode:!1}),this.depth=_,this.max_depth=v,this.all=new o,E[24]||(E[24]=this._tag_24.bind(this)),this.parser=new i({tags:E,max_depth:v,preferWeb:y,encoding:S}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),p||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(g){const _=new OP({depth:this.depth+1,no_summary:!0});_.on("data",v=>this.push(v)),_.on("error",v=>this.emit("error",v)),_.end(g)}_transform(g,_,v){this.parser.write(g,_,v)}_flush(g){return this.parser._flush(g)}static comment(g,_={},v=null){if(g==null)throw new Error("input required");({options:_,cb:v}=c(_,v));const p=new o,{encoding:E="hex",...y}=_,S=new OP(y);let $=null;return typeof v=="function"?(S.on("end",()=>{v(null,p.toString("utf8"))}),S.on("error",v)):$=new Promise((T,d)=>{S.on("end",()=>{T(p.toString("utf8"))}),S.on("error",d)}),S.pipe(p),n.guessEncoding(g,E).pipe(S),$}_on_error(g){this.push("ERROR: "),this.push(g.toString()),this.push(`
`)}_on_read(g){this.all.write(g);const _=g.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(_);let v=(this.max_depth-this.depth)*2-_.length;v<1&&(v=1),this.push(new Array(v+1).join(" ")),this.push("-- ")}_on_more(g,_,v,p){let E="";switch(this.depth++,g){case a.POS_INT:E="Positive number,";break;case a.NEG_INT:E="Negative number,";break;case a.ARRAY:E="Array, length";break;case a.MAP:E="Map, count";break;case a.BYTE_STRING:E="Bytes, length";break;case a.UTF8_STRING:E="String, length";break;case a.SIMPLE_FLOAT:_===1?E="Simple value,":E="Float,";break}this.push(`${E} next ${_} byte${f(_)}
`)}_on_start_string(g,_,v,p){let E="";switch(this.depth++,g){case a.BYTE_STRING:E=`Bytes, length: ${_}`;break;case a.UTF8_STRING:E=`String, length: ${_.toString()}`;break}this.push(`${E}
`)}_on_start(g,_,v,p){switch(this.depth++,v){case a.ARRAY:this.push(`[${p}], `);break;case a.MAP:p%2?this.push(`{Val:${Math.floor(p/2)}}, `):this.push(`{Key:${Math.floor(p/2)}}, `);break}switch(g){case a.TAG:this.push(`Tag #${_}`),_===24&&this.push(" Encoded CBOR data item");break;case a.ARRAY:_===l.STREAM?this.push("Array (streaming)"):this.push(`Array, ${_} item${f(_)}`);break;case a.MAP:_===l.STREAM?this.push("Map (streaming)"):this.push(`Map, ${_} pair${f(_)}`);break;case a.BYTE_STRING:this.push("Bytes (streaming)");break;case a.UTF8_STRING:this.push("String (streaming)");break}this.push(`
`)}_on_stop(g){this.depth--}_on_value(g,_,v,p){if(g!==l.BREAK)switch(_){case a.ARRAY:this.push(`[${v}], `);break;case a.MAP:v%2?this.push(`{Val:${Math.floor(v/2)}}, `):this.push(`{Key:${Math.floor(v/2)}}, `);break}const E=n.cborValueToString(g,-1/0);switch(typeof g=="string"||u.isBuffer(g)?(g.length>0&&(this.push(E),this.push(`
`)),this.depth--):(this.push(E),this.push(`
`)),p){case s.ONE:case s.TWO:case s.FOUR:case s.EIGHT:this.depth--}}_on_data(){this.push("0x"),this.push(this.all.read().toString("hex")),this.push(`
`)}};t.exports=h}}),Y7=Oe({"../../node_modules/cbor/lib/diagnose.js"(e,t){Ae();var r=(Na(),Ar(Xo)),n=G_(),i=gg(),o=kh(),{MT:a,SYMS:s}=tc();function l(f,c){switch(typeof f){case"function":return{options:{},cb:f};case"string":return{options:{encoding:f},cb:c};case"object":return{options:f||{},cb:c};default:throw new TypeError("Unknown option type")}}var u=class b6 extends r.Transform{constructor(c={}){const{separator:h=`
`,stream_errors:m=!1,tags:g,max_depth:_,preferWeb:v,encoding:p,...E}=c;super({...E,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=h,this.stream_errors=m,this.parser=new n({tags:g,max_depth:_,preferWeb:v,encoding:p}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(c,h,m){return this.parser.write(c,h,m)}_flush(c){return this.parser._flush(h=>this.stream_errors?(h&&this._on_error(h),c()):c(h))}static diagnose(c,h={},m=null){if(c==null)throw new TypeError("input required");({options:h,cb:m}=l(h,m));const{encoding:g="hex",..._}=h,v=new o,p=new b6(_);let E=null;return typeof m=="function"?(p.on("end",()=>m(null,v.toString("utf8"))),p.on("error",m)):E=new Promise((y,S)=>{p.on("end",()=>y(v.toString("utf8"))),p.on("error",S)}),p.pipe(v),i.guessEncoding(c,g).pipe(p),E}_on_error(c){this.stream_errors?this.push(c.toString()):this.emit("error",c)}_on_more(c,h,m,g){c===a.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[h])}_fore(c,h){switch(c){case a.BYTE_STRING:case a.UTF8_STRING:case a.ARRAY:h>0&&this.push(", ");break;case a.MAP:h>0&&(h%2?this.push(": "):this.push(", "))}}_on_value(c,h,m){if(c===s.BREAK)return;this._fore(h,m);const g=this.float_bytes;this.float_bytes=-1,this.push(i.cborValueToString(c,g))}_on_start(c,h,m,g){switch(this._fore(m,g),c){case a.TAG:this.push(`${h}(`);break;case a.ARRAY:this.push("[");break;case a.MAP:this.push("{");break;case a.BYTE_STRING:case a.UTF8_STRING:this.push("(");break}h===s.STREAM&&this.push("_ ")}_on_stop(c){switch(c){case a.TAG:this.push(")");break;case a.ARRAY:this.push("]");break;case a.MAP:this.push("}");break;case a.BYTE_STRING:case a.UTF8_STRING:this.push(")");break}}_on_data(){this.push(this.separator)}};t.exports=u}}),_6=Oe({"../../node_modules/cbor/lib/encoder.js"(e,t){Ae();var r=(Na(),Ar(Xo)),n=kh(),i=gg(),o=tc(),{MT:a,NUMBYTES:s,SHIFT32:l,SIMPLE:u,SYMS:f,TAG:c,BI:h}=o,{Buffer:m}=(Xu(),Ar(Yu)),g=a.SIMPLE_FLOAT<<5|s.TWO,_=a.SIMPLE_FLOAT<<5|s.FOUR,v=a.SIMPLE_FLOAT<<5|s.EIGHT,p=a.SIMPLE_FLOAT<<5|u.TRUE,E=a.SIMPLE_FLOAT<<5|u.FALSE,y=a.SIMPLE_FLOAT<<5|u.UNDEFINED,S=a.SIMPLE_FLOAT<<5|u.NULL,$=m.from([255]),T=m.from("f97e00","hex"),d=m.from("f9fc00","hex"),A=m.from("f97c00","hex"),P=m.from("f98000","hex"),x={},D={};function F(X){if(!X)return"number";switch(X.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${X}"`)}var V=class wi extends r.Transform{constructor(G={}){const{canonical:Q=!1,encodeUndefined:ce,disallowUndefinedKeys:ee=!1,dateType:ae="number",collapseBigIntegers:M=!1,detectLoops:B=!1,omitUndefinedProperties:K=!1,genTypes:O=[],...k}=G;if(super({...k,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=Q,this.encodeUndefined=ce,this.disallowUndefinedKeys=ee,this.dateType=F(ae),this.collapseBigIntegers=this.canonical?!0:M,this.detectLoops=void 0,typeof B=="boolean")B&&(this.detectLoops=new WeakSet);else if(B instanceof WeakSet)this.detectLoops=B;else throw new TypeError("detectLoops must be boolean or WeakSet");if(this.omitUndefinedProperties=K,this.semanticTypes={...wi.SEMANTIC_TYPES},Array.isArray(O))for(let q=0,ie=O.length;q<ie;q+=2)this.addSemanticType(O[q],O[q+1]);else for(const[q,ie]of Object.entries(O))this.addSemanticType(q,ie)}_transform(G,Q,ce){const ee=this.pushAny(G);return ce(ee===!1?new Error("Push Error"):void 0)}_flush(G){return G()}_pushUInt8(G){const Q=m.allocUnsafe(1);return Q.writeUInt8(G,0),this.push(Q)}_pushUInt16BE(G){const Q=m.allocUnsafe(2);return Q.writeUInt16BE(G,0),this.push(Q)}_pushUInt32BE(G){const Q=m.allocUnsafe(4);return Q.writeUInt32BE(G,0),this.push(Q)}_pushFloatBE(G){const Q=m.allocUnsafe(4);return Q.writeFloatBE(G,0),this.push(Q)}_pushDoubleBE(G){const Q=m.allocUnsafe(8);return Q.writeDoubleBE(G,0),this.push(Q)}_pushNaN(){return this.push(T)}_pushInfinity(G){const Q=G<0?d:A;return this.push(Q)}_pushFloat(G){if(this.canonical){const Q=m.allocUnsafe(2);if(i.writeHalf(Q,G))return this._pushUInt8(g)&&this.push(Q)}return Math.fround(G)===G?this._pushUInt8(_)&&this._pushFloatBE(G):this._pushUInt8(v)&&this._pushDoubleBE(G)}_pushInt(G,Q,ce){const ee=Q<<5;if(G<24)return this._pushUInt8(ee|G);if(G<=255)return this._pushUInt8(ee|s.ONE)&&this._pushUInt8(G);if(G<=65535)return this._pushUInt8(ee|s.TWO)&&this._pushUInt16BE(G);if(G<=4294967295)return this._pushUInt8(ee|s.FOUR)&&this._pushUInt32BE(G);let ae=Number.MAX_SAFE_INTEGER;return Q===a.NEG_INT&&ae--,G<=ae?this._pushUInt8(ee|s.EIGHT)&&this._pushUInt32BE(Math.floor(G/l))&&this._pushUInt32BE(G%l):Q===a.NEG_INT?this._pushFloat(ce):this._pushFloat(G)}_pushIntNum(G){return Object.is(G,-0)?this.push(P):G<0?this._pushInt(-G-1,a.NEG_INT,G):this._pushInt(G,a.POS_INT)}_pushNumber(G){return isNaN(G)?this._pushNaN():isFinite(G)?Math.round(G)===G?this._pushIntNum(G):this._pushFloat(G):this._pushInfinity(G)}_pushString(G){const Q=m.byteLength(G,"utf8");return this._pushInt(Q,a.UTF8_STRING)&&this.push(G,"utf8")}_pushBoolean(G){return this._pushUInt8(G?p:E)}_pushUndefined(G){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(y);case"function":return this.pushAny(this.encodeUndefined(G));case"object":{const Q=i.bufferishToBuffer(this.encodeUndefined);if(Q)return this.push(Q)}}return this.pushAny(this.encodeUndefined)}_pushNull(G){return this._pushUInt8(S)}_pushTag(G){return this._pushInt(G,a.TAG)}_pushJSBigint(G){let Q=a.POS_INT,ce=c.POS_BIGINT;if(G<0&&(G=-G+h.MINUS_ONE,Q=a.NEG_INT,ce=c.NEG_BIGINT),this.collapseBigIntegers&&G<=h.MAXINT64)return G<=4294967295?this._pushInt(Number(G),Q):this._pushUInt8(Q<<5|s.EIGHT)&&this._pushUInt32BE(Number(G/h.SHIFT32))&&this._pushUInt32BE(Number(G%h.SHIFT32));let ee=G.toString(16);ee.length%2&&(ee=`0${ee}`);const ae=m.from(ee,"hex");return this._pushTag(ce)&&wi._pushBuffer(this,ae)}_pushObject(G,Q){if(!G)return this._pushNull(G);if(Q={indefinite:!1,skipTypes:!1,...Q},!Q.indefinite&&this.detectLoops){if(this.detectLoops.has(G))throw new Error(`Loop detected while CBOR encoding.
Call removeLoopDetectors before resuming.`);this.detectLoops.add(G)}if(!Q.skipTypes){const M=G.encodeCBOR;if(typeof M=="function")return M.call(G,this);const B=this.semanticTypes[G.constructor.name];if(B)return B.call(G,this,G)}const ce=Object.keys(G).filter(M=>{const B=typeof G[M];return B!=="function"&&(!this.omitUndefinedProperties||B!=="undefined")}),ee={};if(this.canonical&&ce.sort((M,B)=>{const K=ee[M]||(ee[M]=wi.encode(M)),O=ee[B]||(ee[B]=wi.encode(B));return K.compare(O)}),Q.indefinite){if(!this._pushUInt8(a.MAP<<5|s.INDEFINITE))return!1}else if(!this._pushInt(ce.length,a.MAP))return!1;let ae=null;for(let M=0,B=ce.length;M<B;M++){const K=ce[M];if(this.canonical&&(ae=ee[K])){if(!this.push(ae))return!1}else if(!this._pushString(K))return!1;if(!this.pushAny(G[K]))return!1}if(Q.indefinite){if(!this.push($))return!1}else this.detectLoops&&this.detectLoops.delete(G);return!0}_encodeAll(G){const Q=new n({highWaterMark:this.readableHighWaterMark});this.pipe(Q);for(const ce of G)this.pushAny(ce);return this.end(),Q.read()}addSemanticType(G,Q){const ce=typeof G=="string"?G:G.name,ee=this.semanticTypes[ce];if(Q){if(typeof Q!="function")throw new TypeError("fun must be of type function");this.semanticTypes[ce]=Q}else ee&&delete this.semanticTypes[ce];return ee}pushAny(G){switch(typeof G){case"number":return this._pushNumber(G);case"bigint":return this._pushJSBigint(G);case"string":return this._pushString(G);case"boolean":return this._pushBoolean(G);case"undefined":return this._pushUndefined(G);case"object":return this._pushObject(G);case"symbol":switch(G){case f.NULL:return this._pushNull(null);case f.UNDEFINED:return this._pushUndefined(void 0);default:throw new TypeError(`Unknown symbol: ${G.toString()}`)}default:throw new TypeError(`Unknown type: ${typeof G}, ${typeof G.toString=="function"?G.toString():""}`)}}static pushArray(G,Q,ce){ce={indefinite:!1,...ce};const ee=Q.length;if(ce.indefinite){if(!G._pushUInt8(a.ARRAY<<5|s.INDEFINITE))return!1}else if(!G._pushInt(ee,a.ARRAY))return!1;for(let ae=0;ae<ee;ae++)if(!G.pushAny(Q[ae]))return!1;return!(ce.indefinite&&!G.push($))}removeLoopDetectors(){return this.detectLoops?(this.detectLoops=new WeakSet,!0):!1}static _pushDate(G,Q){switch(G.dateType){case"string":return G._pushTag(c.DATE_STRING)&&G._pushString(Q.toISOString());case"int":return G._pushTag(c.DATE_EPOCH)&&G._pushIntNum(Math.round(Q.getTime()/1e3));case"float":return G._pushTag(c.DATE_EPOCH)&&G._pushFloat(Q.getTime()/1e3);case"number":default:return G._pushTag(c.DATE_EPOCH)&&G.pushAny(Q.getTime()/1e3)}}static _pushBuffer(G,Q){return G._pushInt(Q.length,a.BYTE_STRING)&&G.push(Q)}static _pushNoFilter(G,Q){return wi._pushBuffer(G,Q.slice())}static _pushRegexp(G,Q){return G._pushTag(c.REGEXP)&&G.pushAny(Q.source)}static _pushSet(G,Q){if(!G._pushTag(c.SET)||!G._pushInt(Q.size,a.ARRAY))return!1;for(const ce of Q)if(!G.pushAny(ce))return!1;return!0}static _pushURL(G,Q){return G._pushTag(c.URI)&&G.pushAny(Q.toString())}static _pushBoxed(G,Q){return G.pushAny(Q.valueOf())}static _pushMap(G,Q,ce){ce={indefinite:!1,...ce};let ee=[...Q.entries()];if(G.omitUndefinedProperties&&(ee=ee.filter(([ae,M])=>M!==void 0)),ce.indefinite){if(!G._pushUInt8(a.MAP<<5|s.INDEFINITE))return!1}else if(!G._pushInt(ee.length,a.MAP))return!1;if(G.canonical){const ae=new wi({genTypes:G.semanticTypes,canonical:G.canonical,detectLoops:!!G.detectLoops,dateType:G.dateType,disallowUndefinedKeys:G.disallowUndefinedKeys,collapseBigIntegers:G.collapseBigIntegers}),M=new n({highWaterMark:G.readableHighWaterMark});ae.pipe(M),ee.sort(([B],[K])=>{ae.pushAny(B);const O=M.read();ae.pushAny(K);const k=M.read();return O.compare(k)});for(const[B,K]of ee){if(G.disallowUndefinedKeys&&typeof B>"u")throw new Error("Invalid Map key: undefined");if(!(G.pushAny(B)&&G.pushAny(K)))return!1}}else for(const[ae,M]of ee){if(G.disallowUndefinedKeys&&typeof ae>"u")throw new Error("Invalid Map key: undefined");if(!(G.pushAny(ae)&&G.pushAny(M)))return!1}return!(ce.indefinite&&!G.push($))}static _pushTypedArray(G,Q){let ce=64,ee=Q.BYTES_PER_ELEMENT;const{name:ae}=Q.constructor;return ae.startsWith("Float")?(ce|=16,ee/=2):ae.includes("U")||(ce|=8),(ae.includes("Clamped")||ee!==1&&!i.isBigEndian())&&(ce|=4),ce|={1:0,2:1,4:2,8:3}[ee],G._pushTag(ce)?wi._pushBuffer(G,m.from(Q.buffer,Q.byteOffset,Q.byteLength)):!1}static _pushArrayBuffer(G,Q){return wi._pushBuffer(G,m.from(Q))}static encodeIndefinite(G,Q,ce={}){if(Q==null){if(this==null)throw new Error("No object to encode");Q=this}const{chunkSize:ee=4096}=ce;let ae=!0;const M=typeof Q;let B=null;if(M==="string"){ae=ae&&G._pushUInt8(a.UTF8_STRING<<5|s.INDEFINITE);let K=0;for(;K<Q.length;){const O=K+ee;ae=ae&&G._pushString(Q.slice(K,O)),K=O}ae=ae&&G.push($)}else if(B=i.bufferishToBuffer(Q)){ae=ae&&G._pushUInt8(a.BYTE_STRING<<5|s.INDEFINITE);let K=0;for(;K<B.length;){const O=K+ee;ae=ae&&wi._pushBuffer(G,B.slice(K,O)),K=O}ae=ae&&G.push($)}else if(Array.isArray(Q))ae=ae&&wi.pushArray(G,Q,{indefinite:!0});else if(Q instanceof Map)ae=ae&&wi._pushMap(G,Q,{indefinite:!0});else{if(M!=="object")throw new Error("Invalid indefinite encoding");ae=ae&&G._pushObject(Q,{indefinite:!0,skipTypes:!0})}return ae}static encode(...G){return new wi()._encodeAll(G)}static encodeCanonical(...G){return new wi({canonical:!0})._encodeAll(G)}static encodeOne(G,Q){return new wi(Q)._encodeAll([G])}static encodeAsync(G,Q){return new Promise((ce,ee)=>{const ae=[],M=new wi(Q);M.on("data",B=>ae.push(B)),M.on("error",ee),M.on("finish",()=>ce(m.concat(ae))),M.pushAny(G),M.end()})}static get SEMANTIC_TYPES(){return D}static set SEMANTIC_TYPES(G){D=G}static reset(){wi.SEMANTIC_TYPES={...x}}};Object.assign(x,{Array:V.pushArray,Date:V._pushDate,Buffer:V._pushBuffer,[m.name]:V._pushBuffer,Map:V._pushMap,NoFilter:V._pushNoFilter,[n.name]:V._pushNoFilter,RegExp:V._pushRegexp,Set:V._pushSet,ArrayBuffer:V._pushArrayBuffer,Uint8ClampedArray:V._pushTypedArray,Uint8Array:V._pushTypedArray,Uint16Array:V._pushTypedArray,Uint32Array:V._pushTypedArray,Int8Array:V._pushTypedArray,Int16Array:V._pushTypedArray,Int32Array:V._pushTypedArray,Float32Array:V._pushTypedArray,Float64Array:V._pushTypedArray,URL:V._pushURL,Boolean:V._pushBoxed,Number:V._pushBoxed,String:V._pushBoxed}),typeof BigUint64Array<"u"&&(x[BigUint64Array.name]=V._pushTypedArray),typeof BigInt64Array<"u"&&(x[BigInt64Array.name]=V._pushTypedArray),V.reset(),t.exports=V}}),X7=Oe({"../../node_modules/cbor/lib/map.js"(e,t){Ae();var{Buffer:r}=(Xu(),Ar(Yu)),n=_6(),i=G_(),{MT:o}=tc(),a=class pu extends Map{constructor(l){super(l)}static _encode(l){return n.encodeCanonical(l).toString("base64")}static _decode(l){return i.decodeFirstSync(l,"base64")}get(l){return super.get(pu._encode(l))}set(l,u){return super.set(pu._encode(l),u)}delete(l){return super.delete(pu._encode(l))}has(l){return super.has(pu._encode(l))}*keys(){for(const l of super.keys())yield pu._decode(l)}*entries(){for(const l of super.entries())yield[pu._decode(l[0]),l[1]]}[Symbol.iterator](){return this.entries()}forEach(l,u){if(typeof l!="function")throw new TypeError("Must be function");for(const f of super.entries())l.call(this,f[1],pu._decode(f[0]),this)}encodeCBOR(l){if(!l._pushInt(this.size,o.MAP))return!1;if(l.canonical){const u=Array.from(super.entries()).map(f=>[r.from(f[0],"base64"),f[1]]);u.sort((f,c)=>f[0].compare(c[0]));for(const f of u)if(!(l.push(f[0])&&l.pushAny(f[1])))return!1}else for(const u of super.entries())if(!(l.push(r.from(u[0],"base64"))&&l.pushAny(u[1])))return!1;return!0}};t.exports=a}}),Q7=Oe({"../../node_modules/cbor/lib/cbor.js"(e){Ae(),e.Commented=J7(),e.Diagnose=Y7(),e.Decoder=G_(),e.Encoder=_6(),e.Simple=w6(),e.Tagged=y6(),e.Map=X7(),e.comment=e.Commented.comment,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.decodeAllSync=e.Decoder.decodeAllSync,e.decodeFirstSync=e.Decoder.decodeFirstSync,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.encodeCanonical=e.Encoder.encodeCanonical,e.encodeOne=e.Encoder.encodeOne,e.encodeAsync=e.Encoder.encodeAsync,e.decode=e.Decoder.decodeFirstSync,e.leveldb={decode:e.Decoder.decodeFirstSync,encode:e.Encoder.encode,buffer:!0,name:"cbor"},e.reset=function(){e.Encoder.reset(),e.Tagged.reset()}}}),E6=Oe({"../core/dist/codecs/cbor-codec.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Oo(),r=Q7(),{debug:n}=(0,t.createLoggers)("core","cbor-codec"),i=class{constructor(o){this.subMediaType=o??"application/cbor"}getMediaType(){return this.subMediaType}bytesToValue(o,a,s){n(`CborCodec parsing '${o.toString()}'`);try{return(0,r.decode)(o)}catch(l){if(o.byteLength===0)return null;throw l}}valueToBytes(o,a,s){return n("CborCodec serializing",o),o===void 0?Kr.alloc(0):(0,r.encode)(o)}};e.default=i}}),S6=Oe({"../core/dist/codecs/json-codec.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Xs(),r=Oo(),{debug:n}=(0,r.createLoggers)("core","json-codec"),i=class{constructor(o){this.subMediaType=o??t.ContentSerdes.DEFAULT}getMediaType(){return this.subMediaType}bytesToValue(o,a,s){n(`JsonCodec parsing '${o.toString()}'`);let l;try{l=JSON.parse(o.toString())}catch(u){if(u instanceof SyntaxError)o.byteLength===0?l=void 0:l=o.toString();else throw u}return l}valueToBytes(o,a,s){n("JsonCodec serializing",o);let l="";return o!==void 0&&(l=JSON.stringify(o)),Kr.from(l)}};e.default=i}}),$6=Oe({"../core/dist/codecs/text-codec.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Oo(),{debug:r}=(0,t.createLoggers)("core","text-codec"),n=class{constructor(i){this.subMediaType=i??"text/plain"}getMediaType(){return this.subMediaType}bytesToValue(i,o,a){return r(`TextCodec parsing '${i.toString()}'`),i.toString(a==null?void 0:a.charset)}valueToBytes(i,o,a){r(`TextCodec serializing '${i}'`);let s="";i!==void 0&&(typeof i=="string"?s=i:s=JSON.stringify(i));let l;if(a&&a.charset)switch(a.charset){case"ascii":l="ascii";break;case"utf8":l="utf8";break;case"utf-8":l="utf-8";break;case"utf16le":l="utf16le";break;case"ucs2":l="ucs2";break;case"ucs-2":l="ucs-2";break;case"base64":l="base64";break;case"latin1":l="latin1";break;case"binary":l="binary";break;case"hex":l="hex";break}const u=Kr.alloc(s.length);return u.write(s,l),u}};e.default=n}}),T6=Oe({"../core/dist/codecs/base64-codec.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(r){this.subMediaType=r}getMediaType(){return this.subMediaType}bytesToValue(r,n,i){return r.toString("ascii")}valueToBytes(r,n,i){let o="";return r!==void 0&&(o=JSON.stringify(r)),Kr.from(o,"base64")}};e.default=t}}),W_=Oe({"../../node_modules/@petamoriken/float16/lib/_util/messages.cjs"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t="This is not an object";e.THIS_IS_NOT_AN_OBJECT=t;var r="This is not a Float16Array object";e.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT=r;var n="This constructor is not a subclass of Float16Array";e.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY=n;var i="The constructor property value is not an object";e.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT=i;var o="Species constructor didn't return TypedArray object";e.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT=o;var a="Derived constructor created TypedArray object which was too small length";e.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH=a;var s="Attempting to access detached ArrayBuffer";e.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER=s;var l="Cannot convert undefined or null to object";e.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT=l;var u="Cannot mix BigInt and other types, use explicit conversions";e.CANNOT_MIX_BIGINT_AND_OTHER_TYPES=u;var f="@@iterator property is not callable";e.ITERATOR_PROPERTY_IS_NOT_CALLABLE=f;var c="Reduce of empty array with no initial value";e.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE=c;var h="The comparison function must be either a function or undefined";e.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED=h;var m="Offset is out of bounds";e.OFFSET_IS_OUT_OF_BOUNDS=m}}),If=Oe({"../../node_modules/@petamoriken/float16/lib/_util/primordials.cjs"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=W_();function r(qt){return(de,...ue)=>i(qt,de,ue)}function n(qt,de){return r(l(qt,de).get)}var{apply:i,construct:o,defineProperty:a,get:s,getOwnPropertyDescriptor:l,getPrototypeOf:u,has:f,ownKeys:c,set:h,setPrototypeOf:m}=Reflect;e.ReflectSetPrototypeOf=m,e.ReflectSet=h,e.ReflectOwnKeys=c,e.ReflectHas=f,e.ReflectGetPrototypeOf=u,e.ReflectGetOwnPropertyDescriptor=l,e.ReflectGet=s,e.ReflectDefineProperty=a,e.ReflectConstruct=o,e.ReflectApply=i;var g=Proxy;e.NativeProxy=g;var{EPSILON:_,MAX_SAFE_INTEGER:v,isFinite:p,isNaN:E}=Number;e.NumberIsNaN=E,e.NumberIsFinite=p,e.MAX_SAFE_INTEGER=v,e.EPSILON=_;var{iterator:y,species:S,toStringTag:$,for:T}=Symbol;e.SymbolFor=T,e.SymbolToStringTag=$,e.SymbolSpecies=S,e.SymbolIterator=y;var d=Object;e.NativeObject=d;var{create:A,defineProperty:P,freeze:x,is:D}=d;e.ObjectIs=D,e.ObjectFreeze=x,e.ObjectDefineProperty=P,e.ObjectCreate=A;var F=d.prototype,V=F.__lookupGetter__?r(F.__lookupGetter__):(qt,de)=>{if(qt==null)throw hr(t.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);let ue=d(qt);do{const be=l(ue,de);if(be!==void 0)return X(be,"get")?be.get:void 0}while((ue=u(ue))!==null)};e.ObjectPrototype__lookupGetter__=V;var X=d.hasOwn||r(F.hasOwnProperty);e.ObjectHasOwn=X;var G=Array,Q=G.isArray;e.ArrayIsArray=Q;var ce=G.prototype,ee=r(ce.join);e.ArrayPrototypeJoin=ee;var ae=r(ce.push);e.ArrayPrototypePush=ae;var M=r(ce.toLocaleString);e.ArrayPrototypeToLocaleString=M;var B=ce[y];e.NativeArrayPrototypeSymbolIterator=B;var K=r(B);e.ArrayPrototypeSymbolIterator=K;var{abs:O,trunc:k}=Math;e.MathTrunc=k,e.MathAbs=O;var q=ArrayBuffer;e.NativeArrayBuffer=q;var ie=q.isView;e.ArrayBufferIsView=ie;var J=q.prototype,Y=r(J.slice);e.ArrayBufferPrototypeSlice=Y;var oe=n(J,"byteLength");e.ArrayBufferPrototypeGetByteLength=oe;var _e=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;e.NativeSharedArrayBuffer=_e;var ye=_e&&n(_e.prototype,"byteLength");e.SharedArrayBufferPrototypeGetByteLength=ye;var R=u(Uint8Array);e.TypedArray=R;var I=R.from,N=R.prototype;e.TypedArrayPrototype=N;var H=N[y];e.NativeTypedArrayPrototypeSymbolIterator=H;var re=r(N.keys);e.TypedArrayPrototypeKeys=re;var le=r(N.values);e.TypedArrayPrototypeValues=le;var fe=r(N.entries);e.TypedArrayPrototypeEntries=fe;var me=r(N.set);e.TypedArrayPrototypeSet=me;var Re=r(N.reverse);e.TypedArrayPrototypeReverse=Re;var Le=r(N.fill);e.TypedArrayPrototypeFill=Le;var je=r(N.copyWithin);e.TypedArrayPrototypeCopyWithin=je;var tt=r(N.sort);e.TypedArrayPrototypeSort=tt;var Ge=r(N.slice);e.TypedArrayPrototypeSlice=Ge;var Ue=r(N.subarray);e.TypedArrayPrototypeSubarray=Ue;var W=n(N,"buffer");e.TypedArrayPrototypeGetBuffer=W;var C=n(N,"byteOffset");e.TypedArrayPrototypeGetByteOffset=C;var L=n(N,"length");e.TypedArrayPrototypeGetLength=L;var ne=n(N,$);e.TypedArrayPrototypeGetSymbolToStringTag=ne;var we=Uint8Array;e.NativeUint8Array=we;var Se=Uint16Array;e.NativeUint16Array=Se;var ke=(...qt)=>i(I,Se,qt);e.Uint16ArrayFrom=ke;var Ie=Uint32Array;e.NativeUint32Array=Ie;var Fe=Float32Array;e.NativeFloat32Array=Fe;var ft=u([][y]());e.ArrayIteratorPrototype=ft;var vt=r(ft.next);e.ArrayIteratorPrototypeNext=vt;var at=r(function*(){}().next);e.GeneratorPrototypeNext=at;var kt=u(ft);e.IteratorPrototype=kt;var br=DataView.prototype,Pr=r(br.getUint16);e.DataViewPrototypeGetUint16=Pr;var rr=r(br.setUint16);e.DataViewPrototypeSetUint16=rr;var hr=TypeError;e.NativeTypeError=hr;var ln=RangeError;e.NativeRangeError=ln;var Vt=WeakSet;e.NativeWeakSet=Vt;var zt=Vt.prototype,At=r(zt.add);e.WeakSetPrototypeAdd=At;var $e=r(zt.has);e.WeakSetPrototypeHas=$e;var Ne=WeakMap;e.NativeWeakMap=Ne;var dt=Ne.prototype,Ye=r(dt.get);e.WeakMapPrototypeGet=Ye;var nt=r(dt.has);e.WeakMapPrototypeHas=nt;var Ot=r(dt.set);e.WeakMapPrototypeSet=Ot}}),A6=Oe({"../../node_modules/@petamoriken/float16/lib/_util/arrayIterator.cjs"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.safeIfNeeded=i,e.wrap=s;var t=If(),r=new t.NativeWeakMap,n=(0,t.ObjectCreate)(null,{next:{value:function(){const u=(0,t.WeakMapPrototypeGet)(r,this);return(0,t.ArrayIteratorPrototypeNext)(u)}},[t.SymbolIterator]:{value:function(){return this}}});function i(l){if(l[t.SymbolIterator]===t.NativeArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext)return l;const u=(0,t.ObjectCreate)(n);return(0,t.WeakMapPrototypeSet)(r,u,(0,t.ArrayPrototypeSymbolIterator)(l)),u}var o=new t.NativeWeakMap,a=(0,t.ObjectCreate)(t.IteratorPrototype,{next:{value:function(){const u=(0,t.WeakMapPrototypeGet)(o,this);return(0,t.GeneratorPrototypeNext)(u)},writable:!0,configurable:!0}});for(const l of(0,t.ReflectOwnKeys)(t.ArrayIteratorPrototype))l!=="next"&&(0,t.ObjectDefineProperty)(a,l,(0,t.ReflectGetOwnPropertyDescriptor)(t.ArrayIteratorPrototype,l));function s(l){const u=(0,t.ObjectCreate)(a);return(0,t.WeakMapPrototypeSet)(o,u,l),u}}}),K_=Oe({"../../node_modules/@petamoriken/float16/lib/_util/is.cjs"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.isAnyArrayBuffer=l,e.isCanonicalIntegerIndexString=c,e.isNativeBigIntTypedArray=o,e.isNativeTypedArray=i,e.isObject=r,e.isObjectLike=n,e.isOrdinaryArray=u,e.isOrdinaryNativeTypedArray=f,e.isSharedArrayBuffer=s;var t=If();function r(h){return h!==null&&typeof h=="object"||typeof h=="function"}function n(h){return h!==null&&typeof h=="object"}function i(h){return(0,t.TypedArrayPrototypeGetSymbolToStringTag)(h)!==void 0}function o(h){const m=(0,t.TypedArrayPrototypeGetSymbolToStringTag)(h);return m==="BigInt64Array"||m==="BigUint64Array"}function a(h){try{return(0,t.ArrayBufferPrototypeGetByteLength)(h),!0}catch{return!1}}function s(h){if(t.NativeSharedArrayBuffer===null)return!1;try{return(0,t.SharedArrayBufferPrototypeGetByteLength)(h),!0}catch{return!1}}function l(h){return a(h)||s(h)}function u(h){return(0,t.ArrayIsArray)(h)?h[t.SymbolIterator]===t.NativeArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext:!1}function f(h){return i(h)?h[t.SymbolIterator]===t.NativeTypedArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext:!1}function c(h){if(typeof h!="string")return!1;const m=+h;return h!==m+""||!(0,t.NumberIsFinite)(m)?!1:m===(0,t.MathTrunc)(m)}}}),Z7=Oe({"../../node_modules/@petamoriken/float16/lib/_util/brand.cjs"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.hasFloat16ArrayBrand=o;var t=K_(),r=W_(),n=If(),i=(0,n.SymbolFor)("__Float16Array__");e.brand=i;function o(a){if(!(0,t.isObjectLike)(a))return!1;const s=(0,n.ReflectGetPrototypeOf)(a);if(!(0,t.isObjectLike)(s))return!1;const l=s.constructor;if(l===void 0)return!1;if(!(0,t.isObject)(l))throw(0,n.NativeTypeError)(r.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);return(0,n.ReflectHas)(l,i)}}}),AR=Oe({"../../node_modules/@petamoriken/float16/lib/_util/converter.cjs"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.convertToNumber=y,e.roundToFloat16=u,e.roundToFloat16Bits=_;var t=If(),r=1/t.EPSILON;function n(S){return S+r-r}var i=6103515625e-14,o=65504,a=.0009765625,s=a*i,l=a*r;function u(S){const $=+S;if(!(0,t.NumberIsFinite)($)||$===0)return $;const T=$>0?1:-1,d=(0,t.MathAbs)($);if(d<i)return T*n(d/s)*s;const A=(1+l)*d,P=A-(A-d);return P>o||(0,t.NumberIsNaN)(P)?T*(1/0):T*P}var f=new t.NativeArrayBuffer(4),c=new t.NativeFloat32Array(f),h=new t.NativeUint32Array(f),m=new t.NativeUint16Array(512),g=new t.NativeUint8Array(512);for(let S=0;S<256;++S){const $=S-127;$<-27?(m[S]=0,m[S|256]=32768,g[S]=24,g[S|256]=24):$<-14?(m[S]=1024>>-$-14,m[S|256]=1024>>-$-14|32768,g[S]=-$-1,g[S|256]=-$-1):$<=15?(m[S]=$+15<<10,m[S|256]=$+15<<10|32768,g[S]=13,g[S|256]=13):$<128?(m[S]=31744,m[S|256]=64512,g[S]=24,g[S|256]=24):(m[S]=31744,m[S|256]=64512,g[S]=13,g[S|256]=13)}function _(S){c[0]=u(S);const $=h[0],T=$>>23&511;return m[T]+(($&8388607)>>g[T])}var v=new t.NativeUint32Array(2048);for(let S=1;S<1024;++S){let $=S<<13,T=0;for(;!($&8388608);)$<<=1,T-=8388608;$&=-8388609,T+=947912704,v[S]=$|T}for(let S=1024;S<2048;++S)v[S]=939524096+(S-1024<<13);var p=new t.NativeUint32Array(64);for(let S=1;S<31;++S)p[S]=S<<23;p[31]=1199570944,p[32]=2147483648;for(let S=33;S<63;++S)p[S]=2147483648+(S-32<<23);p[63]=3347054592;var E=new t.NativeUint16Array(64);for(let S=1;S<64;++S)S!==32&&(E[S]=1024);function y(S){const $=S>>10;return h[0]=v[E[$]+(S&1023)]+p[$],c[0]}}}),eee=Oe({"../../node_modules/@petamoriken/float16/lib/_util/spec.cjs"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.IsDetachedBuffer=s,e.SpeciesConstructor=a,e.ToIntegerOrInfinity=i,e.ToLength=o,e.defaultCompare=l;var t=K_(),r=W_(),n=If();function i(u){const f=+u;return(0,n.NumberIsNaN)(f)||f===0?0:(0,n.MathTrunc)(f)}function o(u){const f=i(u);return f<0?0:f<n.MAX_SAFE_INTEGER?f:n.MAX_SAFE_INTEGER}function a(u,f){if(!(0,t.isObject)(u))throw(0,n.NativeTypeError)(r.THIS_IS_NOT_AN_OBJECT);const c=u.constructor;if(c===void 0)return f;if(!(0,t.isObject)(c))throw(0,n.NativeTypeError)(r.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);const h=c[n.SymbolSpecies];return h??f}function s(u){if((0,t.isSharedArrayBuffer)(u))return!1;try{return(0,n.ArrayBufferPrototypeSlice)(u,0,0),!1}catch{}return!0}function l(u,f){const c=(0,n.NumberIsNaN)(u),h=(0,n.NumberIsNaN)(f);if(c&&h)return 0;if(c)return 1;if(h||u<f)return-1;if(u>f)return 1;if(u===0&&f===0){const m=(0,n.ObjectIs)(u,0),g=(0,n.ObjectIs)(f,0);if(!m&&g)return-1;if(m&&!g)return 1}return 0}}}),P6=Oe({"../../node_modules/@petamoriken/float16/lib/Float16Array.cjs"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.isFloat16Array=f;var t=A6(),r=Z7(),n=AR(),i=K_(),o=W_(),a=If(),s=eee(),l=2,u=new a.NativeWeakMap;function f(y){return(0,a.WeakMapPrototypeHas)(u,y)||!(0,a.ArrayBufferIsView)(y)&&(0,r.hasFloat16ArrayBrand)(y)}function c(y){if(!f(y))throw(0,a.NativeTypeError)(o.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT)}function h(y,S){const $=f(y),T=(0,i.isNativeTypedArray)(y);if(!$&&!T)throw(0,a.NativeTypeError)(o.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);if(typeof S=="number"){let d;if($){const A=m(y);d=(0,a.TypedArrayPrototypeGetLength)(A)}else d=(0,a.TypedArrayPrototypeGetLength)(y);if(d<S)throw(0,a.NativeTypeError)(o.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH)}if((0,i.isNativeBigIntTypedArray)(y))throw(0,a.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES)}function m(y){const S=(0,a.WeakMapPrototypeGet)(u,y);if(S!==void 0){const d=(0,a.TypedArrayPrototypeGetBuffer)(S);if((0,s.IsDetachedBuffer)(d))throw(0,a.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);return S}const $=y.buffer;if((0,s.IsDetachedBuffer)($))throw(0,a.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);const T=(0,a.ReflectConstruct)(p,[$,y.byteOffset,y.length],y.constructor);return(0,a.WeakMapPrototypeGet)(u,T)}function g(y){const S=(0,a.TypedArrayPrototypeGetLength)(y),$=[];for(let T=0;T<S;++T)$[T]=(0,n.convertToNumber)(y[T]);return $}var _=new a.NativeWeakSet;for(const y of(0,a.ReflectOwnKeys)(a.TypedArrayPrototype)){if(y===a.SymbolToStringTag)continue;const S=(0,a.ReflectGetOwnPropertyDescriptor)(a.TypedArrayPrototype,y);(0,a.ObjectHasOwn)(S,"get")&&typeof S.get=="function"&&(0,a.WeakSetPrototypeAdd)(_,S.get)}var v=(0,a.ObjectFreeze)({get(y,S,$){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,a.ObjectHasOwn)(y,S)?(0,n.convertToNumber)((0,a.ReflectGet)(y,S)):(0,a.WeakSetPrototypeHas)(_,(0,a.ObjectPrototype__lookupGetter__)(y,S))?(0,a.ReflectGet)(y,S):(0,a.ReflectGet)(y,S,$)},set(y,S,$,T){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,a.ObjectHasOwn)(y,S)?(0,a.ReflectSet)(y,S,(0,n.roundToFloat16Bits)($)):(0,a.ReflectSet)(y,S,$,T)},getOwnPropertyDescriptor(y,S){if((0,i.isCanonicalIntegerIndexString)(S)&&(0,a.ObjectHasOwn)(y,S)){const $=(0,a.ReflectGetOwnPropertyDescriptor)(y,S);return $.value=(0,n.convertToNumber)($.value),$}return(0,a.ReflectGetOwnPropertyDescriptor)(y,S)},defineProperty(y,S,$){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,a.ObjectHasOwn)(y,S)&&(0,a.ObjectHasOwn)($,"value")&&($.value=(0,n.roundToFloat16Bits)($.value)),(0,a.ReflectDefineProperty)(y,S,$)}}),p=class oi{constructor(S,$,T){let d;if(f(S))d=(0,a.ReflectConstruct)(a.NativeUint16Array,[m(S)],new.target);else if((0,i.isObject)(S)&&!(0,i.isAnyArrayBuffer)(S)){let P,x;if((0,i.isNativeTypedArray)(S)){P=S,x=(0,a.TypedArrayPrototypeGetLength)(S);const D=(0,a.TypedArrayPrototypeGetBuffer)(S);if((0,s.IsDetachedBuffer)(D))throw(0,a.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);if((0,i.isNativeBigIntTypedArray)(S))throw(0,a.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);const F=new a.NativeArrayBuffer(x*l);d=(0,a.ReflectConstruct)(a.NativeUint16Array,[F],new.target)}else{const D=S[a.SymbolIterator];if(D!=null&&typeof D!="function")throw(0,a.NativeTypeError)(o.ITERATOR_PROPERTY_IS_NOT_CALLABLE);D!=null?(0,i.isOrdinaryArray)(S)?(P=S,x=S.length):(P=[...S],x=P.length):(P=S,x=(0,s.ToLength)(P.length)),d=(0,a.ReflectConstruct)(a.NativeUint16Array,[x],new.target)}for(let D=0;D<x;++D)d[D]=(0,n.roundToFloat16Bits)(P[D])}else d=(0,a.ReflectConstruct)(a.NativeUint16Array,arguments,new.target);const A=new a.NativeProxy(d,v);return(0,a.WeakMapPrototypeSet)(u,A,d),A}static from(S,...$){const T=this;if(!(0,a.ReflectHas)(T,r.brand))throw(0,a.NativeTypeError)(o.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);if(T===oi){if(f(S)&&$.length===0){const V=m(S),X=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)(V),(0,a.TypedArrayPrototypeGetByteOffset)(V),(0,a.TypedArrayPrototypeGetLength)(V));return new oi((0,a.TypedArrayPrototypeGetBuffer)((0,a.TypedArrayPrototypeSlice)(X)))}if($.length===0)return new oi((0,a.TypedArrayPrototypeGetBuffer)((0,a.Uint16ArrayFrom)(S,n.roundToFloat16Bits)));const D=$[0],F=$[1];return new oi((0,a.TypedArrayPrototypeGetBuffer)((0,a.Uint16ArrayFrom)(S,function(V,...X){return(0,n.roundToFloat16Bits)((0,a.ReflectApply)(D,this,[V,...(0,t.safeIfNeeded)(X)]))},F)))}let d,A;const P=S[a.SymbolIterator];if(P!=null&&typeof P!="function")throw(0,a.NativeTypeError)(o.ITERATOR_PROPERTY_IS_NOT_CALLABLE);if(P!=null)(0,i.isOrdinaryArray)(S)?(d=S,A=S.length):(0,i.isOrdinaryNativeTypedArray)(S)?(d=S,A=(0,a.TypedArrayPrototypeGetLength)(S)):(d=[...S],A=d.length);else{if(S==null)throw(0,a.NativeTypeError)(o.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);d=(0,a.NativeObject)(S),A=(0,s.ToLength)(d.length)}const x=new T(A);if($.length===0)for(let D=0;D<A;++D)x[D]=d[D];else{const D=$[0],F=$[1];for(let V=0;V<A;++V)x[V]=(0,a.ReflectApply)(D,F,[d[V],V])}return x}static of(...S){const $=this;if(!(0,a.ReflectHas)($,r.brand))throw(0,a.NativeTypeError)(o.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);const T=S.length;if($===oi){const A=new oi(T),P=m(A);for(let x=0;x<T;++x)P[x]=(0,n.roundToFloat16Bits)(S[x]);return A}const d=new $(T);for(let A=0;A<T;++A)d[A]=S[A];return d}keys(){c(this);const S=m(this);return(0,a.TypedArrayPrototypeKeys)(S)}values(){c(this);const S=m(this);return(0,t.wrap)(function*(){for(const $ of(0,a.TypedArrayPrototypeValues)(S))yield(0,n.convertToNumber)($)}())}entries(){c(this);const S=m(this);return(0,t.wrap)(function*(){for(const[$,T]of(0,a.TypedArrayPrototypeEntries)(S))yield[$,(0,n.convertToNumber)(T)]}())}at(S){c(this);const $=m(this),T=(0,a.TypedArrayPrototypeGetLength)($),d=(0,s.ToIntegerOrInfinity)(S),A=d>=0?d:T+d;if(!(A<0||A>=T))return(0,n.convertToNumber)($[A])}with(S,$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=(0,s.ToIntegerOrInfinity)(S),P=A>=0?A:d+A,x=+$;if(P<0||P>=d)throw(0,a.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);const D=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)(T),(0,a.TypedArrayPrototypeGetByteOffset)(T),(0,a.TypedArrayPrototypeGetLength)(T)),F=new oi((0,a.TypedArrayPrototypeGetBuffer)((0,a.TypedArrayPrototypeSlice)(D))),V=m(F);return V[P]=(0,n.roundToFloat16Bits)(x),F}map(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0],P=(0,s.SpeciesConstructor)(T,oi);if(P===oi){const D=new oi(d),F=m(D);for(let V=0;V<d;++V){const X=(0,n.convertToNumber)(T[V]);F[V]=(0,n.roundToFloat16Bits)((0,a.ReflectApply)(S,A,[X,V,this]))}return D}const x=new P(d);h(x,d);for(let D=0;D<d;++D){const F=(0,n.convertToNumber)(T[D]);x[D]=(0,a.ReflectApply)(S,A,[F,D,this])}return x}filter(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0],P=[];for(let F=0;F<d;++F){const V=(0,n.convertToNumber)(T[F]);(0,a.ReflectApply)(S,A,[V,F,this])&&(0,a.ArrayPrototypePush)(P,V)}const x=(0,s.SpeciesConstructor)(T,oi),D=new x(P);return h(D),D}reduce(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T);if(d===0&&$.length===0)throw(0,a.NativeTypeError)(o.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let A,P;$.length===0?(A=(0,n.convertToNumber)(T[0]),P=1):(A=$[0],P=0);for(let x=P;x<d;++x)A=S(A,(0,n.convertToNumber)(T[x]),x,this);return A}reduceRight(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T);if(d===0&&$.length===0)throw(0,a.NativeTypeError)(o.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let A,P;$.length===0?(A=(0,n.convertToNumber)(T[d-1]),P=d-2):(A=$[0],P=d-1);for(let x=P;x>=0;--x)A=S(A,(0,n.convertToNumber)(T[x]),x,this);return A}forEach(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let P=0;P<d;++P)(0,a.ReflectApply)(S,A,[(0,n.convertToNumber)(T[P]),P,this])}find(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let P=0;P<d;++P){const x=(0,n.convertToNumber)(T[P]);if((0,a.ReflectApply)(S,A,[x,P,this]))return x}}findIndex(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let P=0;P<d;++P){const x=(0,n.convertToNumber)(T[P]);if((0,a.ReflectApply)(S,A,[x,P,this]))return P}return-1}findLast(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let P=d-1;P>=0;--P){const x=(0,n.convertToNumber)(T[P]);if((0,a.ReflectApply)(S,A,[x,P,this]))return x}}findLastIndex(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let P=d-1;P>=0;--P){const x=(0,n.convertToNumber)(T[P]);if((0,a.ReflectApply)(S,A,[x,P,this]))return P}return-1}every(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let P=0;P<d;++P)if(!(0,a.ReflectApply)(S,A,[(0,n.convertToNumber)(T[P]),P,this]))return!1;return!0}some(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let P=0;P<d;++P)if((0,a.ReflectApply)(S,A,[(0,n.convertToNumber)(T[P]),P,this]))return!0;return!1}set(S,...$){c(this);const T=m(this),d=(0,s.ToIntegerOrInfinity)($[0]);if(d<0)throw(0,a.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);if(S==null)throw(0,a.NativeTypeError)(o.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);if((0,i.isNativeBigIntTypedArray)(S))throw(0,a.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);if(f(S))return(0,a.TypedArrayPrototypeSet)(m(this),m(S),d);if((0,i.isNativeTypedArray)(S)){const D=(0,a.TypedArrayPrototypeGetBuffer)(S);if((0,s.IsDetachedBuffer)(D))throw(0,a.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER)}const A=(0,a.TypedArrayPrototypeGetLength)(T),P=(0,a.NativeObject)(S),x=(0,s.ToLength)(P.length);if(d===1/0||x+d>A)throw(0,a.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);for(let D=0;D<x;++D)T[D+d]=(0,n.roundToFloat16Bits)(P[D])}reverse(){c(this);const S=m(this);return(0,a.TypedArrayPrototypeReverse)(S),this}toReversed(){c(this);const S=m(this),$=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)(S),(0,a.TypedArrayPrototypeGetByteOffset)(S),(0,a.TypedArrayPrototypeGetLength)(S)),T=new oi((0,a.TypedArrayPrototypeGetBuffer)((0,a.TypedArrayPrototypeSlice)($))),d=m(T);return(0,a.TypedArrayPrototypeReverse)(d),T}fill(S,...$){c(this);const T=m(this);return(0,a.TypedArrayPrototypeFill)(T,(0,n.roundToFloat16Bits)(S),...(0,t.safeIfNeeded)($)),this}copyWithin(S,$,...T){c(this);const d=m(this);return(0,a.TypedArrayPrototypeCopyWithin)(d,S,$,...(0,t.safeIfNeeded)(T)),this}sort(S){c(this);const $=m(this),T=S!==void 0?S:s.defaultCompare;return(0,a.TypedArrayPrototypeSort)($,(d,A)=>T((0,n.convertToNumber)(d),(0,n.convertToNumber)(A))),this}toSorted(S){c(this);const $=m(this);if(S!==void 0&&typeof S!="function")throw new a.NativeTypeError(o.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED);const T=S!==void 0?S:s.defaultCompare,d=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)($),(0,a.TypedArrayPrototypeGetByteOffset)($),(0,a.TypedArrayPrototypeGetLength)($)),A=new oi((0,a.TypedArrayPrototypeGetBuffer)((0,a.TypedArrayPrototypeSlice)(d))),P=m(A);return(0,a.TypedArrayPrototypeSort)(P,(x,D)=>T((0,n.convertToNumber)(x),(0,n.convertToNumber)(D))),A}slice(S,$){c(this);const T=m(this),d=(0,s.SpeciesConstructor)(T,oi);if(d===oi){const ce=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)(T),(0,a.TypedArrayPrototypeGetByteOffset)(T),(0,a.TypedArrayPrototypeGetLength)(T));return new oi((0,a.TypedArrayPrototypeGetBuffer)((0,a.TypedArrayPrototypeSlice)(ce,S,$)))}const A=(0,a.TypedArrayPrototypeGetLength)(T),P=(0,s.ToIntegerOrInfinity)(S),x=$===void 0?A:(0,s.ToIntegerOrInfinity)($);let D;P===-1/0?D=0:P<0?D=A+P>0?A+P:0:D=A<P?A:P;let F;x===-1/0?F=0:x<0?F=A+x>0?A+x:0:F=A<x?A:x;const V=F-D>0?F-D:0,X=new d(V);if(h(X,V),V===0)return X;const G=(0,a.TypedArrayPrototypeGetBuffer)(T);if((0,s.IsDetachedBuffer)(G))throw(0,a.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);let Q=0;for(;D<F;)X[Q]=(0,n.convertToNumber)(T[D]),++D,++Q;return X}subarray(S,$){c(this);const T=m(this),d=(0,s.SpeciesConstructor)(T,oi),A=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)(T),(0,a.TypedArrayPrototypeGetByteOffset)(T),(0,a.TypedArrayPrototypeGetLength)(T)),P=(0,a.TypedArrayPrototypeSubarray)(A,S,$),x=new d((0,a.TypedArrayPrototypeGetBuffer)(P),(0,a.TypedArrayPrototypeGetByteOffset)(P),(0,a.TypedArrayPrototypeGetLength)(P));return h(x),x}indexOf(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T);let A=(0,s.ToIntegerOrInfinity)($[0]);if(A===1/0)return-1;A<0&&(A+=d,A<0&&(A=0));for(let P=A;P<d;++P)if((0,a.ObjectHasOwn)(T,P)&&(0,n.convertToNumber)(T[P])===S)return P;return-1}lastIndexOf(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T);let A=$.length>=1?(0,s.ToIntegerOrInfinity)($[0]):d-1;if(A===-1/0)return-1;A>=0?A=A<d-1?A:d-1:A+=d;for(let P=A;P>=0;--P)if((0,a.ObjectHasOwn)(T,P)&&(0,n.convertToNumber)(T[P])===S)return P;return-1}includes(S,...$){c(this);const T=m(this),d=(0,a.TypedArrayPrototypeGetLength)(T);let A=(0,s.ToIntegerOrInfinity)($[0]);if(A===1/0)return!1;A<0&&(A+=d,A<0&&(A=0));const P=(0,a.NumberIsNaN)(S);for(let x=A;x<d;++x){const D=(0,n.convertToNumber)(T[x]);if(P&&(0,a.NumberIsNaN)(D)||D===S)return!0}return!1}join(S){c(this);const $=m(this),T=g($);return(0,a.ArrayPrototypeJoin)(T,S)}toLocaleString(...S){c(this);const $=m(this),T=g($);return(0,a.ArrayPrototypeToLocaleString)(T,...(0,t.safeIfNeeded)(S))}get[a.SymbolToStringTag](){if(f(this))return"Float16Array"}};e.Float16Array=p,(0,a.ObjectDefineProperty)(p,"BYTES_PER_ELEMENT",{value:l}),(0,a.ObjectDefineProperty)(p,r.brand,{}),(0,a.ReflectSetPrototypeOf)(p,a.TypedArray);var E=p.prototype;(0,a.ObjectDefineProperty)(E,"BYTES_PER_ELEMENT",{value:l}),(0,a.ObjectDefineProperty)(E,a.SymbolIterator,{value:E.values,writable:!0,configurable:!0}),(0,a.ReflectSetPrototypeOf)(E,a.TypedArrayPrototype)}}),tee=Oe({"../../node_modules/@petamoriken/float16/lib/isTypedArray.cjs"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.isTypedArray=n;var t=P6(),r=K_();function n(i){return(0,r.isNativeTypedArray)(i)||(0,t.isFloat16Array)(i)}}}),ree=Oe({"../../node_modules/@petamoriken/float16/lib/DataView.cjs"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.getFloat16=i,e.setFloat16=o;var t=A6(),r=AR(),n=If();function i(a,s,...l){return(0,r.convertToNumber)((0,n.DataViewPrototypeGetUint16)(a,s,...(0,t.safeIfNeeded)(l)))}function o(a,s,l,...u){return(0,n.DataViewPrototypeSetUint16)(a,s,(0,r.roundToFloat16Bits)(l),...(0,t.safeIfNeeded)(u))}}}),nee=Oe({"../../node_modules/@petamoriken/float16/lib/f16round.cjs"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.f16round=r;var t=AR();function r(n){return(0,t.roundToFloat16)(n)}}}),iee=Oe({"../../node_modules/@petamoriken/float16/lib/index.cjs"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=P6();e.Float16Array=t.Float16Array,e.isFloat16Array=t.isFloat16Array;var r=tee();e.isTypedArray=r.isTypedArray;var n=ree();e.getFloat16=n.getFloat16,e.setFloat16=n.setFloat16;var i=nee();e.f16round=i.f16round,e.hfround=i.f16round}}),x6=Oe({"../core/dist/protocol-interfaces.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.Endianness=void 0;var t;(function(r){r.BIG_ENDIAN="BIG_ENDIAN",r.LITTLE_ENDIAN="LITTLE_ENDIAN",r.BIG_ENDIAN_BYTE_SWAP="BIG_ENDIAN_BYTE_SWAP",r.LITTLE_ENDIAN_BYTE_SWAP="LITTLE_ENDIAN_BYTE_SWAP"})(t||(e.Endianness=t={}))}}),O6=Oe({"../core/dist/codecs/octetstream-codec.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=iee(),r=Oo(),n=x6(),{debug:i,warn:o}=(0,r.createLoggers)("core","octetstream-codec"),a=class{getMediaType(){return"application/octet-stream"}bytesToValue(s,l,u={}){var v,p;i("OctetstreamCodec parsing",s),i("Parameters",u);const f=u.length!=null?parseInt(u.length):(o("Missing 'length' parameter necessary for write. I'll do my best"),void 0);if(f!==void 0){if(isNaN(f)||f<0)throw new Error("'length' parameter must be a non-negative number");if(f!==s.length)throw new Error(`Lengths do not match, required: ${f} provided: ${s.length}`)}let c=!0;if(u.signed!==void 0){if(u.signed!=="true"&&u.signed!=="false")throw new Error("'signed' parameter must be 'true' or 'false'");c=u.signed==="true"}let h=(l==null?void 0:l["ex:bitLength"])!==void 0?parseInt(l["ex:bitLength"]):s.length*8;if(isNaN(h)||h<0)throw new Error("'ex:bitLength' must be a non-negative number");const m=(l==null?void 0:l["ex:bitOffset"])!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(m)||m<0)throw new Error("'ex:bitOffset' must be a non-negative number");const g=((v=u.byteSeq)==null?void 0:v.includes(n.Endianness.LITTLE_ENDIAN))!==!0;let _=l==null?void 0:l.type;if(!_)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(_.toLowerCase())){const E=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(_.toLowerCase());if(E){if(E[1]==="u"){if((u==null?void 0:u.signed)==="true")throw new Error("Type is unsigned but 'signed' is true");c=!1}if(_=E[2],parseInt(E[3])!==h)throw new Error(`Type is '${(E[1]??"")+E[2]+E[3]}' but 'ex:bitLength' is `+h)}}if(h>s.length*8-m)throw new Error(`'ex:bitLength' is ${h}, but buffer length at offset ${m} is ${s.length*8-m}`);switch(((p=u==null?void 0:u.byteSeq)==null?void 0:p.includes("BYTE_SWAP"))===!0&&s.length>1&&s.swap16(),m!==void 0&&h<s.length*8&&(s=this.readBits(s,m,h),h=s.length*8),_){case"boolean":return!s.every(E=>E===0);case"byte":case"short":case"int":case"integer":return this.integerToValue(s,{dataLength:h,bigEndian:g,signed:c});case"float":case"double":case"number":return this.numberToValue(s,{dataLength:h,bigEndian:g});case"string":return s.toString(u.charset);case"object":if(l===void 0||l.properties===void 0)throw new Error("Missing schema for object");return this.objectToValue(s,l,u);case"null":return null;case"array":default:throw new Error("Unable to handle dataType "+_)}}integerToValue(s,l){const{dataLength:u,bigEndian:f,signed:c}=l;switch(u){case 8:return c?s.readInt8(0):s.readUInt8(0);case 16:return f?c?s.readInt16BE(0):s.readUInt16BE(0):c?s.readInt16LE(0):s.readUInt16LE(0);case 32:return f?c?s.readInt32BE(0):s.readUInt32BE(0):c?s.readInt32LE(0):s.readUInt32LE(0);default:{const h=f?c?s.readIntBE(0,u/8):s.readUIntBE(0,u/8):c?s.readIntLE(0,u/8):s.readUIntLE(0,u/8);return Number.isSafeInteger(h)||o("Result is not a safe integer"),h}}}numberToValue(s,l){const{dataLength:u,bigEndian:f}=l;switch(u){case 16:return(0,t.getFloat16)(new DataView(s.buffer),s.byteOffset,!f);case 32:return f?s.readFloatBE(0):s.readFloatLE(0);case 64:return f?s.readDoubleBE(0):s.readDoubleLE(0);default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+u)}}objectToValue(s,l,u={}){if((l==null?void 0:l.type)!=="object")throw new Error("Schema must be of type 'object'");const f={},c=Object.getOwnPropertyNames(l.properties);for(const h of c){const m=l.properties[h],g=s.length.toString();f[h]=this.bytesToValue(s,m,{...u,length:g})}return f}valueToBytes(s,l,u={}){var v;i(`OctetstreamCodec serializing '${s}'`);const f=((v=u.byteSeq)==null?void 0:v.includes(n.Endianness.LITTLE_ENDIAN))!==!0;let c=!0;if(u.signed!==void 0){if(u.signed!=="true"&&u.signed!=="false")throw new Error("'signed' parameter must be 'true' or 'false'");c=u.signed==="true"}let h=u.length!=null?parseInt(u.length):(o("Missing 'length' parameter necessary for write. I'll do my best"),void 0);if(h!==void 0&&(isNaN(h)||h<0))throw new Error("'length' parameter must be a non-negative number");let m=(l==null?void 0:l["ex:bitLength"])!==void 0?parseInt(l["ex:bitLength"]):void 0;if(m!==void 0&&(isNaN(m)||m<0))throw new Error("'ex:bitLength' must be a non-negative number");const g=(l==null?void 0:l["ex:bitOffset"])!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(g)||g<0)throw new Error("'ex:bitOffset' must be a non-negative number");let _=(l==null?void 0:l.type)??void 0;if(s===void 0)throw new Error("Undefined value");if(_===void 0)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(_.toLowerCase())){const p=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(_.toLowerCase());if(p){if(p[1]==="u"){if((u==null?void 0:u.signed)==="true")throw new Error("Type is unsigned but 'signed' is true");c=!1}if(_=p[2],m!==void 0){if(parseInt(p[3])!==m)throw new Error(`Type is '${(p[1]??"")+p[2]+p[3]}' but 'ex:bitLength' is `+m)}else m=+p[3]}}if(h===void 0)m!==void 0&&(h=Math.ceil((g+m)/8)),o("Missing 'length' parameter necessary for write. I'll do my best");else if(m===void 0)m=h*8;else if(h*8<m+g)throw new Error("Length is too short for 'ex:bitLength' and 'ex:bitOffset'");switch(_){case"boolean":if(s===!0){const p=Kr.alloc(h??1,0);for(let E=g;E<g+(m??p.length*8);++E)p[Math.floor(E/8)]|=1<<7-E%8;return p}else return Kr.alloc(h??1,0);case"byte":case"short":case"int":case"integer":return this.valueToInteger(s,{bitLength:m,byteLength:h,bigEndian:f,offset:g,signed:c,byteSeq:u.byteSeq??""});case"float":case"number":return this.valueToNumber(s,{bitLength:m,byteLength:h,bigEndian:f,offset:g,byteSeq:u.byteSeq??""});case"string":return this.valueToString(s,{bitLength:m,byteLength:h,offset:g,charset:u.charset??"utf8"});case"object":if(l===void 0||l.properties===void 0)throw new Error("Missing schema for object");return s===null?Kr.alloc(0):this.valueToObject(s,l,u);case"array":case"undefined":throw new Error("Unable to handle dataType "+_);case"null":return Kr.alloc(0);default:throw new Error("Unable to handle dataType "+_)}}valueToInteger(s,l){const u=l.bitLength??32,f=l.offset??0,c=l.byteLength??Math.ceil((f+u)/8),{bigEndian:h,signed:m,byteSeq:g}=l;if(typeof s!="number")throw new Error("Value is not a number");Number.isSafeInteger(s)||o("Value is not a safe integer",s);const _=Math.pow(2,m?u-1:u)-1;if(m){if(s<-_-1||s>_)throw new Error("Integer overflow when representing "+s+" as a signed integer using "+u+" bit(s)")}else if(s<0||s>_)throw new Error("Integer overflow when representing "+s+" as an unsigned integer using "+u+" bit(s)");const v=Kr.alloc(c);if(f!==0)return this.writeBits(v,s,f,u,h),v;switch(g!=null&&g.includes("BYTE_SwAP")&&c>1&&v.swap16(),c){case 1:m?v.writeInt8(s,0):v.writeUInt8(s,0);break;case 2:h?m?v.writeInt16BE(s,0):v.writeUInt16BE(s,0):m?v.writeInt16LE(s,0):v.writeUInt16LE(s,0);break;case 4:h?m?v.writeInt32BE(s,0):v.writeUInt32BE(s,0):m?v.writeInt32LE(s,0):v.writeUInt32LE(s,0);break;default:m&&s<0&&(s+=1<<8*u);for(let p=0;p<c;++p){const E=s%256;s/=256,v.writeInt8(E,h?c-p-1:p)}}return v}valueToNumber(s,l){if(typeof s!="number")throw new Error("Value is not a number");const u=l.bitLength??(l.byteLength!==void 0?l.byteLength*8:32),f=l.offset??0,{bigEndian:c,byteSeq:h}=l,m=l.byteLength??Math.ceil((f+u)/8),g=Math.floor(f/8),_=Kr.alloc(m);if(f%8!==0)throw new Error("Offset must be a multiple of 8");switch(h&&m>1&&_.swap16(),u){case 16:(0,t.setFloat16)(new DataView(_.buffer),g,s,!c);break;case 32:c?_.writeFloatBE(s,g):_.writeFloatLE(s,0);break;case 64:c?_.writeDoubleBE(s,g):_.writeDoubleLE(s,0);break;default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+u)}return _}valueToString(s,l){if(typeof s!="string")throw new Error("Value is not a string");const u=l.offset??0,{charset:f}=l,c=String(s);if(!Kr.isEncoding(f))throw new Error("Invalid charset "+f);const h=Kr.from(c,f),m=l.bitLength??h.length*8;if(h.length>m)throw new Error(`String is ${h.length*8} bits long, but 'ex:bitLength' is ${m}`);const g=l.byteLength??Math.ceil((u+m)/8);if(u%8===0)return Kr.concat([Kr.alloc(g-m/8),h]);{const _=Kr.alloc(g);return this.copyBits(h,0,_,u,m),_}}valueToObject(s,l,u={},f){if(typeof s!="object"||s===null)throw new Error("Value is not an object");if(u.length===void 0)throw new Error("Missing 'length' parameter necessary for write");const c=parseInt(u.length),h=l["ex:bitOffset"]!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(h)||h<0)throw new Error("'ex:bitOffset' must be a non-negative number");if(h>c*8)throw new Error(`'ex:bitOffset' ${h} exceeds 'length' ${c}`);f=f??Kr.alloc(c);for(const[m,g]of Object.entries(l.properties)){if(Object.hasOwnProperty.call(s,m)===!1)throw new Error(`Missing property '${m}'`);const _=s[m],v=parseInt(g["ex:bitOffset"]),p=parseInt(g["ex:bitLength"]);let E;g.type==="object"?E=this.valueToObject(_,g,u,f):E=this.valueToBytes(_,g,u),this.copyBits(E,v,f,h+v,p)}return f}readBits(s,l,u){if(l<0)throw new Error("bitOffset must be >= 0");if(u<0)throw new Error("bitLength must be >= 0");if(l+u>s.length*8)throw new Error("bitOffset + bitLength must be <= buffer.length * 8");const f=Kr.alloc(Math.ceil(u/8));let c=Math.floor(l/8),h=l%8,m=s[c],g=0,_=0;for(let v=0;v<u;v++){const p=m>>7-h&1;g=g<<1|p,h++,h>7&&(c++,h=0,m=s[c]),(v+1===u%8||(v+1)%8===u%8||v===u-1)&&(f[_]=g,g=0,_++)}return f}writeBits(s,l,u,f,c){let h=Math.floor(u/8),m=u%8;for(let g=0;g<f;g++){const _=c?l>>f-1-g&1:l>>g&1;s[h]|=_<<(c?7-m:m),m++,m===8&&(m=0,h++)}}copyBits(s,l,u,f,c){if(l%8===0&&f%8===0&&c%8===0)s.copy(u,f/8,l/8,l+c/8);else{const h=this.readBits(s,l,c);if(h.length<=6)this.writeBits(u,h.readUIntBE(0,h.length),f,c,!0);else for(let m=0;m<h.length;m++){const g=h.readUInt8(m);this.writeBits(u,g,f+m*8,8,!0)}}}};e.default=a}}),Xs=Oe({"../core/dist/content-serdes.js"(e){Ae();var t=e&&e.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContentSerdes=void 0;var r=v6(),n=t(E6()),i=t(S6()),o=t($6()),a=t(T6()),s=t(O6()),l=(Na(),Ar(Xo)),u=Io(),f=$R(),c=Oo(),{debug:h,warn:m}=(0,c.createLoggers)("core","content-serdes"),g=class Lo{constructor(){this.codecs=new Map,this.offered=new Set}static get(){return this.instance==null&&(this.instance=new Lo,this.instance.addCodec(new i.default,!0),this.instance.addCodec(new i.default("application/senml+json")),this.instance.addCodec(new i.default("application/td+json")),this.instance.addCodec(new i.default("application/ld+json")),this.instance.addCodec(new n.default,!0),this.instance.addCodec(new o.default),this.instance.addCodec(new o.default("text/html")),this.instance.addCodec(new o.default("text/css")),this.instance.addCodec(new o.default("application/xml")),this.instance.addCodec(new o.default("application/xhtml+xml")),this.instance.addCodec(new o.default("image/svg+xml")),this.instance.addCodec(new a.default("image/png")),this.instance.addCodec(new a.default("image/gif")),this.instance.addCodec(new a.default("image/jpeg")),this.instance.addCodec(new s.default)),this.instance}static getMediaType(v){return v.split(";")[0].trim()}static getMediaTypeParameters(v){const p=v.split(";").slice(1),E={};return p.forEach(y=>{const S=y.indexOf("=");S>=0?E[y.substr(0,S).trim()]=y.substr(S+1).trim():E[y.trim()]=void 0}),E}addCodec(v,p=!1){Lo.get().codecs.set(v.getMediaType(),v),p&&Lo.get().offered.add(v.getMediaType())}getSupportedMediaTypes(){return Array.from(Lo.get().codecs.keys())}getOfferedMediaTypes(){return Array.from(Lo.get().offered)}isSupported(v){const p=Lo.getMediaType(v);return this.codecs.has(p)}contentToValue(v,p){if(v.type===void 0)if(v.body.byteLength>0)v.type=Lo.DEFAULT;else return;const E=Lo.getMediaType(v.type),y=Lo.getMediaTypeParameters(v.type);return this.codecs.has(E)?(h(`ContentSerdes deserializing from ${v.type}`),this.codecs.get(E).bytesToValue(v.body,p,y)):(m(`ContentSerdes passthrough due to unsupported media type '${E}'`),v.body.toString())}valueToContent(v,p,E=Lo.DEFAULT){if(v===void 0&&m("ContentSerdes valueToContent got no value"),v instanceof f.ReadableStream)return new r.Content(E,u.ProtocolHelpers.toNodeStream(v));let y;const S=Lo.getMediaType(E),$=Lo.getMediaTypeParameters(E),T=this.codecs.get(S);return T?(h(`ContentSerdes serializing to ${E}`),y=T.valueToBytes(v,p,$)):(m(`ContentSerdes passthrough due to unsupported serialization format '${E}'`),y=Kr.from(v===null?"":v.toString())),new r.Content(E,l.Readable.from([y]))}};e.ContentSerdes=g,g.DEFAULT="application/json",g.TD="application/td+json",g.JSON_LD="application/ld+json",e.default=g.get()}}),Ob=Oe({"../core/node_modules/ajv/dist/compile/codegen/code.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(p,...E){const y=[p[0]];let S=0;for(;S<E.length;)s(y,E[S]),y.push(p[++S]);return new n(y)}e._=i;var o=new n("+");function a(p,...E){const y=[m(p[0])];let S=0;for(;S<E.length;)y.push(o),s(y,E[S]),y.push(o,m(p[++S]));return l(y),new n(y)}e.str=a;function s(p,E){E instanceof n?p.push(...E._items):E instanceof r?p.push(E):p.push(c(E))}e.addCodeArg=s;function l(p){let E=1;for(;E<p.length-1;){if(p[E]===o){const y=u(p[E-1],p[E+1]);if(y!==void 0){p.splice(E-1,3,y);continue}p[E++]="+"}E++}}function u(p,E){if(E==='""')return p;if(p==='""')return E;if(typeof p=="string")return E instanceof r||p[p.length-1]!=='"'?void 0:typeof E!="string"?`${p.slice(0,-1)}${E}"`:E[0]==='"'?p.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(p instanceof r))return`"${p}${E.slice(1)}`}function f(p,E){return E.emptyStr()?p:p.emptyStr()?E:a`${p}${E}`}e.strConcat=f;function c(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:m(Array.isArray(p)?p.join(","):p)}function h(p){return new n(m(p))}e.stringify=h;function m(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):i`[${p}]`}e.getProperty=g;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(p){return new n(p.toString())}e.regexpCode=v}}),Xj=Oe({"../core/node_modules/ajv/dist/compile/codegen/scope.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=Ob(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var a=(0,t._)`\n`,s=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?a:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:h}=c,m=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[h];if(g){const p=g.get(m);if(p)return p}else g=this._values[h]=new Map;g.set(m,c);const _=this._scope[h]||(this._scope[h]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:h,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let h=t.nil;for(const m in l){const g=l[m];if(!g)continue;const _=f[m]=f[m]||new Map;g.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let p=u(v);if(p){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${E} ${v} = ${p};${this.opts._n}`}else if(p=c==null?void 0:c(v))h=(0,t._)`${h}${p}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return h}};e.ValueScope=s}}),yr=Oe({"../core/node_modules/ajv/dist/compile/codegen/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=Ob(),r=Xj(),n=Ob();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=Xj();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(O,k){return this}},a=class extends o{constructor(O,k,q){super(),this.varKind=O,this.name=k,this.rhs=q}render({es5:O,_n:k}){const q=O?r.varKinds.var:this.varKind,ie=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${ie};`+k}optimizeNames(O,k){if(O[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,O,k)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},s=class extends o{constructor(O,k,q){super(),this.lhs=O,this.rhs=k,this.sideEffects=q}render({_n:O}){return`${this.lhs} = ${this.rhs};`+O}optimizeNames(O,k){if(!(this.lhs instanceof t.Name&&!O[this.lhs.str]&&!this.sideEffects))return this.rhs=X(this.rhs,O,k),this}get names(){const O=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(O,this.rhs)}},l=class extends s{constructor(O,k,q,ie){super(O,q,ie),this.op=k}render({_n:O}){return`${this.lhs} ${this.op}= ${this.rhs};`+O}},u=class extends o{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`${this.label}:`+O}},f=class extends o{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`break${this.label?` ${this.label}`:""};`+O}},c=class extends o{constructor(O){super(),this.error=O}render({_n:O}){return`throw ${this.error};`+O}get names(){return this.error.names}},h=class extends o{constructor(O){super(),this.code=O}render({_n:O}){return`${this.code};`+O}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(O,k){return this.code=X(this.code,O,k),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},m=class extends o{constructor(O=[]){super(),this.nodes=O}render(O){return this.nodes.reduce((k,q)=>k+q.render(O),"")}optimizeNodes(){const{nodes:O}=this;let k=O.length;for(;k--;){const q=O[k].optimizeNodes();Array.isArray(q)?O.splice(k,1,...q):q?O[k]=q:O.splice(k,1)}return O.length>0?this:void 0}optimizeNames(O,k){const{nodes:q}=this;let ie=q.length;for(;ie--;){const J=q[ie];J.optimizeNames(O,k)||(G(O,J.names),q.splice(ie,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((O,k)=>F(O,k.names),{})}},g=class extends m{render(O){return"{"+O._n+super.render(O)+"}"+O._n}},_=class extends m{},v=class extends g{};v.kind="else";var p=class cw extends g{constructor(k,q){super(q),this.condition=k}render(k){let q=`if(${this.condition})`+super.render(k);return this.else&&(q+="else "+this.else.render(k)),q}optimizeNodes(){super.optimizeNodes();const k=this.condition;if(k===!0)return this.nodes;let q=this.else;if(q){const ie=q.optimizeNodes();q=this.else=Array.isArray(ie)?new v(ie):ie}if(q)return k===!1?q instanceof cw?q:q.nodes:this.nodes.length?this:new cw(Q(k),q instanceof cw?[q]:q.nodes);if(!(k===!1||!this.nodes.length))return this}optimizeNames(k,q){var ie;if(this.else=(ie=this.else)===null||ie===void 0?void 0:ie.optimizeNames(k,q),!!(super.optimizeNames(k,q)||this.else))return this.condition=X(this.condition,k,q),this}get names(){const k=super.names;return V(k,this.condition),this.else&&F(k,this.else.names),k}};p.kind="if";var E=class extends g{};E.kind="for";var y=class extends E{constructor(O){super(),this.iteration=O}render(O){return`for(${this.iteration})`+super.render(O)}optimizeNames(O,k){if(super.optimizeNames(O,k))return this.iteration=X(this.iteration,O,k),this}get names(){return F(super.names,this.iteration.names)}},S=class extends E{constructor(O,k,q,ie){super(),this.varKind=O,this.name=k,this.from=q,this.to=ie}render(O){const k=O.es5?r.varKinds.var:this.varKind,{name:q,from:ie,to:J}=this;return`for(${k} ${q}=${ie}; ${q}<${J}; ${q}++)`+super.render(O)}get names(){const O=V(super.names,this.from);return V(O,this.to)}},$=class extends E{constructor(O,k,q,ie){super(),this.loop=O,this.varKind=k,this.name=q,this.iterable=ie}render(O){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(O)}optimizeNames(O,k){if(super.optimizeNames(O,k))return this.iterable=X(this.iterable,O,k),this}get names(){return F(super.names,this.iterable.names)}},T=class extends g{constructor(O,k,q){super(),this.name=O,this.args=k,this.async=q}render(O){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(O)}};T.kind="func";var d=class extends m{render(O){return"return "+super.render(O)}};d.kind="return";var A=class extends g{render(O){let k="try"+super.render(O);return this.catch&&(k+=this.catch.render(O)),this.finally&&(k+=this.finally.render(O)),k}optimizeNodes(){var O,k;return super.optimizeNodes(),(O=this.catch)===null||O===void 0||O.optimizeNodes(),(k=this.finally)===null||k===void 0||k.optimizeNodes(),this}optimizeNames(O,k){var q,ie;return super.optimizeNames(O,k),(q=this.catch)===null||q===void 0||q.optimizeNames(O,k),(ie=this.finally)===null||ie===void 0||ie.optimizeNames(O,k),this}get names(){const O=super.names;return this.catch&&F(O,this.catch.names),this.finally&&F(O,this.finally.names),O}},P=class extends g{constructor(O){super(),this.error=O}render(O){return`catch(${this.error})`+super.render(O)}};P.kind="catch";var x=class extends g{render(O){return"finally"+super.render(O)}};x.kind="finally";var D=class{constructor(O,k={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...k,_n:k.lines?`
`:""},this._extScope=O,this._scope=new r.Scope({parent:O}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(O){return this._scope.name(O)}scopeName(O){return this._extScope.name(O)}scopeValue(O,k){const q=this._extScope.value(O,k);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(O,k){return this._extScope.getValue(O,k)}scopeRefs(O){return this._extScope.scopeRefs(O,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(O,k,q,ie){const J=this._scope.toName(k);return q!==void 0&&ie&&(this._constants[J.str]=q),this._leafNode(new a(O,J,q)),J}const(O,k,q){return this._def(r.varKinds.const,O,k,q)}let(O,k,q){return this._def(r.varKinds.let,O,k,q)}var(O,k,q){return this._def(r.varKinds.var,O,k,q)}assign(O,k,q){return this._leafNode(new s(O,k,q))}add(O,k){return this._leafNode(new l(O,e.operators.ADD,k))}code(O){return typeof O=="function"?O():O!==t.nil&&this._leafNode(new h(O)),this}object(...O){const k=["{"];for(const[q,ie]of O)k.length>1&&k.push(","),k.push(q),(q!==ie||this.opts.es5)&&(k.push(":"),(0,t.addCodeArg)(k,ie));return k.push("}"),new t._Code(k)}if(O,k,q){if(this._blockNode(new p(O)),k&&q)this.code(k).else().code(q).endIf();else if(k)this.code(k).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(O){return this._elseNode(new p(O))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(O,k){return this._blockNode(O),k&&this.code(k).endFor(),this}for(O,k){return this._for(new y(O),k)}forRange(O,k,q,ie,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(O);return this._for(new S(J,Y,k,q),()=>ie(Y))}forOf(O,k,q,ie=r.varKinds.const){const J=this._scope.toName(O);if(this.opts.es5){const Y=k instanceof t.Name?k:this.var("_arr",k);return this.forRange("_i",0,(0,t._)`${Y}.length`,oe=>{this.var(J,(0,t._)`${Y}[${oe}]`),q(J)})}return this._for(new $("of",ie,J,k),()=>q(J))}forIn(O,k,q,ie=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(O,(0,t._)`Object.keys(${k})`,q);const J=this._scope.toName(O);return this._for(new $("in",ie,J,k),()=>q(J))}endFor(){return this._endBlockNode(E)}label(O){return this._leafNode(new u(O))}break(O){return this._leafNode(new f(O))}return(O){const k=new d;if(this._blockNode(k),this.code(O),k.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(O,k,q){if(!k&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const ie=new A;if(this._blockNode(ie),this.code(O),k){const J=this.name("e");this._currNode=ie.catch=new P(J),k(J)}return q&&(this._currNode=ie.finally=new x,this.code(q)),this._endBlockNode(P,x)}throw(O){return this._leafNode(new c(O))}block(O,k){return this._blockStarts.push(this._nodes.length),O&&this.code(O).endBlock(k),this}endBlock(O){const k=this._blockStarts.pop();if(k===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-k;if(q<0||O!==void 0&&q!==O)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${O} expected`);return this._nodes.length=k,this}func(O,k=t.nil,q,ie){return this._blockNode(new T(O,k,q)),ie&&this.code(ie).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(O=1){for(;O-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(O){return this._currNode.nodes.push(O),this}_blockNode(O){this._currNode.nodes.push(O),this._nodes.push(O)}_endBlockNode(O,k){const q=this._currNode;if(q instanceof O||k&&q instanceof k)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${k?`${O.kind}/${k.kind}`:O.kind}"`)}_elseNode(O){const k=this._currNode;if(!(k instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=k.else=O,this}get _root(){return this._nodes[0]}get _currNode(){const O=this._nodes;return O[O.length-1]}set _currNode(O){const k=this._nodes;k[k.length-1]=O}};e.CodeGen=D;function F(O,k){for(const q in k)O[q]=(O[q]||0)+(k[q]||0);return O}function V(O,k){return k instanceof t._CodeOrName?F(O,k.names):O}function X(O,k,q){if(O instanceof t.Name)return ie(O);if(!J(O))return O;return new t._Code(O._items.reduce((Y,oe)=>(oe instanceof t.Name&&(oe=ie(oe)),oe instanceof t._Code?Y.push(...oe._items):Y.push(oe),Y),[]));function ie(Y){const oe=q[Y.str];return oe===void 0||k[Y.str]!==1?Y:(delete k[Y.str],oe)}function J(Y){return Y instanceof t._Code&&Y._items.some(oe=>oe instanceof t.Name&&k[oe.str]===1&&q[oe.str]!==void 0)}}function G(O,k){for(const q in k)O[q]=(O[q]||0)-(k[q]||0)}function Q(O){return typeof O=="boolean"||typeof O=="number"||O===null?!O:(0,t._)`!${K(O)}`}e.not=Q;var ce=B(e.operators.AND);function ee(...O){return O.reduce(ce)}e.and=ee;var ae=B(e.operators.OR);function M(...O){return O.reduce(ae)}e.or=M;function B(O){return(k,q)=>k===t.nil?q:q===t.nil?k:(0,t._)`${K(k)} ${O} ${K(q)}`}function K(O){return O instanceof t.Name?O:(0,t._)`(${O})`}}}),Fr=Oe({"../core/node_modules/ajv/dist/compile/util.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=yr(),r=Ob();function n(T){const d={};for(const A of T)d[A]=!0;return d}e.toHash=n;function i(T,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(T,d),!a(d,T.self.RULES.all))}e.alwaysValidSchema=i;function o(T,d=T.schema){const{opts:A,self:P}=T;if(!A.strictSchema||typeof d=="boolean")return;const x=P.RULES.keywords;for(const D in d)x[D]||$(T,`unknown keyword: "${D}"`)}e.checkUnknownRules=o;function a(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(d[A])return!0;return!1}e.schemaHasRules=a;function s(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(A!=="$ref"&&d.all[A])return!0;return!1}e.schemaHasRulesButRef=s;function l({topSchemaRef:T,schemaPath:d},A,P,x){if(!x){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${T}${d}${(0,t.getProperty)(P)}`}e.schemaRefOrVal=l;function u(T){return h(decodeURIComponent(T))}e.unescapeFragment=u;function f(T){return encodeURIComponent(c(T))}e.escapeFragment=f;function c(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function h(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function m(T,d){if(Array.isArray(T))for(const A of T)d(A);else d(T)}e.eachItem=m;function g({mergeNames:T,mergeToName:d,mergeValues:A,resultToName:P}){return(x,D,F,V)=>{const X=F===void 0?D:F instanceof t.Name?(D instanceof t.Name?T(x,D,F):d(x,D,F),F):D instanceof t.Name?(d(x,F,D),D):A(D,F);return V===t.Name&&!(X instanceof t.Name)?P(x,X):X}}e.mergeEvaluated={props:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>{T.if((0,t._)`${d} === true`,()=>T.assign(A,!0),()=>T.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${d})`))}),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>{d===!0?T.assign(A,!0):(T.assign(A,(0,t._)`${A} || {}`),v(T,A,d))}),mergeValues:(T,d)=>T===!0?!0:{...T,...d},resultToName:_}),items:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>T.assign(A,(0,t._)`${d} === true ? true : ${A} > ${d} ? ${A} : ${d}`)),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>T.assign(A,d===!0?!0:(0,t._)`${A} > ${d} ? ${A} : ${d}`)),mergeValues:(T,d)=>T===!0?!0:Math.max(T,d),resultToName:(T,d)=>T.var("items",d)})};function _(T,d){if(d===!0)return T.var("props",!0);const A=T.var("props",(0,t._)`{}`);return d!==void 0&&v(T,A,d),A}e.evaluatedPropsToName=_;function v(T,d,A){Object.keys(A).forEach(P=>T.assign((0,t._)`${d}${(0,t.getProperty)(P)}`,!0))}e.setEvaluated=v;var p={};function E(T,d){return T.scopeValue("func",{ref:d,code:p[d.code]||(p[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(y=e.Type||(e.Type={}));function S(T,d,A){if(T instanceof t.Name){const P=d===y.Num;return A?P?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:P?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(T).toString():"/"+c(T)}e.getErrorPath=S;function $(T,d,A=T.opts.strictSchema){if(A){if(d=`strict mode: ${d}`,A===!0)throw new Error(d);T.self.logger.warn(d)}}e.checkStrictMode=$}}),rc=Oe({"../core/node_modules/ajv/dist/compile/names.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=yr(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),J_=Oe({"../core/node_modules/ajv/dist/compile/errors.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=yr(),r=Fr(),n=rc();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,t.str)`"${v}" keyword must be ${p} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,p=e.keywordError,E,y){const{it:S}=v,{gen:$,compositeRule:T,allErrors:d}=S,A=c(v,p,E);y??(T||d)?l($,A):u(S,(0,t._)`[${A}]`)}e.reportError=i;function o(v,p=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:$,allErrors:T}=y,d=c(v,p,E);l(S,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function a(v,p){v.assign(n.default.errors,p),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,t._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:v,keyword:p,schemaValue:E,data:y,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${p}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,E),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=s;function l(v,p){const E=v.const("err",p);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,p){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${p})`):(E.assign((0,t._)`${y}.errors`,p),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,p,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:h(v,p,E)}function h(v,p,E={}){const{gen:y,it:S}=v,$=[m(S,E),g(v,E)];return _(v,p,$),y.object(...$)}function m({errorPath:v},{instancePath:p}){const E=p?(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:p}},{schemaPath:E,parentSchema:y}){let S=y?p:(0,t.str)`${p}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:p,message:E},y){const{keyword:S,data:$,schemaValue:T,it:d}=v,{opts:A,propertyName:P,topSchemaRef:x,schemaPath:D}=d;y.push([f.keyword,S],[f.params,typeof p=="function"?p(v):p||(0,t._)`{}`]),A.messages&&y.push([f.message,typeof E=="function"?E(v):E]),A.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${x}${D}`],[n.default.data,$]),P&&y.push([f.propertyName,P])}}}),oee=Oe({"../core/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=J_(),r=yr(),n=rc(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?s(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function a(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),s(l)):f.var(u,!0)}e.boolOrEmptySchema=a;function s(l,u){const{gen:f,data:c}=l,h={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(h,i,void 0,u)}}}),R6=Oe({"../core/node_modules/ajv/dist/compile/rules.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),I6=Oe({"../core/node_modules/ajv/dist/compile/validate/applicability.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},a){const s=o.RULES.types[a];return s&&s!==!0&&r(i,s)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(a=>n(i,a))}e.shouldUseGroup=r;function n(i,o){var a;return i[o.keyword]!==void 0||((a=o.definition.implements)===null||a===void 0?void 0:a.some(s=>i[s]!==void 0))}e.shouldUseRule=n}}),Rb=Oe({"../core/node_modules/ajv/dist/compile/validate/dataType.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=R6(),r=I6(),n=J_(),i=yr(),o=Fr(),a;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(a=e.DataType||(e.DataType={}));function s(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=s;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:$,data:T,opts:d}=y,A=c(S,d.coerceTypes),P=S.length>0&&!(A.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(P){const x=_(S,T,d.strictNumbers,a.Wrong);$.if(x,()=>{A.length?h(y,S,A):p(y)})}return P}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter($=>f.has($)||S==="array"&&$==="array"):[]}function h(y,S,$){const{gen:T,data:d,opts:A}=y,P=T.let("dataType",(0,i._)`typeof ${d}`),x=T.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&T.if((0,i._)`${P} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>T.assign(d,(0,i._)`${d}[0]`).assign(P,(0,i._)`typeof ${d}`).if(_(S,d,A.strictNumbers),()=>T.assign(x,d))),T.if((0,i._)`${x} !== undefined`);for(const F of $)(f.has(F)||F==="array"&&A.coerceTypes==="array")&&D(F);T.else(),p(y),T.endIf(),T.if((0,i._)`${x} !== undefined`,()=>{T.assign(d,x),m(y,x)});function D(F){switch(F){case"string":T.elseIf((0,i._)`${P} == "number" || ${P} == "boolean"`).assign(x,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(x,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${P} == "boolean" || ${d} === null
              || (${P} == "string" && ${d} && ${d} == +${d})`).assign(x,(0,i._)`+${d}`);return;case"integer":T.elseIf((0,i._)`${P} === "boolean" || ${d} === null
              || (${P} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(x,(0,i._)`+${d}`);return;case"boolean":T.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(x,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(x,!0);return;case"null":T.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),T.assign(x,null);return;case"array":T.elseIf((0,i._)`${P} === "string" || ${P} === "number"
              || ${P} === "boolean" || ${d} === null`).assign(x,(0,i._)`[${d}]`)}}}function m({gen:y,parentData:S,parentDataProperty:$},T){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${$}]`,T))}function g(y,S,$,T=a.Correct){const d=T===a.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":A=(0,i._)`Array.isArray(${S})`;break;case"object":A=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":A=P((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":A=P();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return T===a.Correct?A:(0,i.not)(A);function P(x=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,x,$?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=g;function _(y,S,$,T){if(y.length===1)return g(y[0],S,$,T);let d;const A=(0,o.toHash)(y);if(A.array&&A.object){const P=(0,i._)`typeof ${S} != "object"`;d=A.null?P:(0,i._)`!${S} || ${P}`,delete A.null,delete A.array,delete A.object}else d=i.nil;A.number&&delete A.integer;for(const P in A)d=(0,i.and)(d,g(P,S,$,T));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function p(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=p;function E(y){const{gen:S,data:$,schema:T}=y,d=(0,o.schemaRefOrVal)(y,T,"type");return{gen:S,keyword:"type",data:$,schema:T.type,schemaCode:d,schemaValue:d,parentSchema:T,params:{},it:y}}}}),aee=Oe({"../core/node_modules/ajv/dist/compile/validate/defaults.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=yr(),r=Fr();function n(o,a){const{properties:s,items:l}=o.schema;if(a==="object"&&s)for(const u in s)i(o,u,s[u].default);else a==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,a,s){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(s===void 0)return;const h=(0,t._)`${f}${(0,t.getProperty)(a)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${h}`);return}let m=(0,t._)`${h} === undefined`;c.useDefaults==="empty"&&(m=(0,t._)`${m} || ${h} === null || ${h} === ""`),l.if(m,(0,t._)`${h} = ${(0,t.stringify)(s)}`)}}}),ds=Oe({"../core/node_modules/ajv/dist/vocabularies/code.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=yr(),r=Fr(),n=rc(),i=Fr();function o(y,S){const{gen:$,data:T,it:d}=y;$.if(c($,T,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function a({gen:y,data:S,it:{opts:$}},T,d){return(0,t.or)(...T.map(A=>(0,t.and)(c(y,S,A,$.ownProperties),(0,t._)`${d} = ${A}`)))}e.checkMissingProp=a;function s(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=s;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,$){return(0,t._)`${l(y)}.call(${S}, ${$})`}e.isOwnProperty=u;function f(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} !== undefined`;return T?(0,t._)`${d} && ${u(y,S,$)}`:d}e.propertyInData=f;function c(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} === undefined`;return T?(0,t.or)(d,(0,t.not)(u(y,S,$))):d}e.noPropertyInData=c;function h(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=h;function m(y,S){return h(S).filter($=>!(0,r.alwaysValidSchema)(y,S[$]))}e.schemaProperties=m;function g({schemaCode:y,data:S,it:{gen:$,topSchemaRef:T,schemaPath:d,errorPath:A},it:P},x,D,F){const V=F?(0,t._)`${y}, ${S}, ${T}${d}`:S,X=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,A)],[n.default.parentData,P.parentData],[n.default.parentDataProperty,P.parentDataProperty],[n.default.rootData,n.default.rootData]];P.opts.dynamicRef&&X.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const G=(0,t._)`${V}, ${$.object(...X)}`;return D!==t.nil?(0,t._)`${x}.call(${D}, ${G})`:(0,t._)`${x}(${G})`}e.callValidateCode=g;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},$){const T=S.unicodeRegExp?"u":"",{regExp:d}=S.code,A=d($,T);return y.scopeValue("pattern",{key:A.toString(),ref:A,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${$}, ${T})`})}e.usePattern=v;function p(y){const{gen:S,data:$,keyword:T,it:d}=y,A=S.name("valid");if(d.allErrors){const x=S.let("valid",!0);return P(()=>S.assign(x,!1)),x}return S.var(A,!0),P(()=>S.break()),A;function P(x){const D=S.const("len",(0,t._)`${$}.length`);S.forRange("i",0,D,F=>{y.subschema({keyword:T,dataProp:F,dataPropType:r.Type.Num},A),S.if((0,t.not)(A),x)})}}e.validateArray=p;function E(y){const{gen:S,schema:$,keyword:T,it:d}=y;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(D=>(0,r.alwaysValidSchema)(d,D))&&!d.opts.unevaluated)return;const P=S.let("valid",!1),x=S.name("_valid");S.block(()=>$.forEach((D,F)=>{const V=y.subschema({keyword:T,schemaProp:F,compositeRule:!0},x);S.assign(P,(0,t._)`${P} || ${x}`),y.mergeValidEvaluated(V,x)||S.if((0,t.not)(P))})),y.result(P,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),see=Oe({"../core/node_modules/ajv/dist/compile/validate/keyword.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=yr(),r=rc(),n=ds(),i=J_();function o(m,g){const{gen:_,keyword:v,schema:p,parentSchema:E,it:y}=m,S=g.macro.call(y.self,p,E,y),$=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const T=_.name("valid");m.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:$,compositeRule:!0},T),m.pass(T,()=>m.error(!0))}e.macroKeywordCode=o;function a(m,g){var _;const{gen:v,keyword:p,schema:E,parentSchema:y,$data:S,it:$}=m;u($,g);const T=!S&&g.compile?g.compile.call($.self,E,y,$):g.validate,d=f(v,p,T),A=v.let("valid");m.block$data(A,P),m.ok((_=g.valid)!==null&&_!==void 0?_:A);function P(){if(g.errors===!1)F(),g.modifying&&s(m),V(()=>m.error());else{const X=g.async?x():D();g.modifying&&s(m),V(()=>l(m,X))}}function x(){const X=v.let("ruleErrs",null);return v.try(()=>F((0,t._)`await `),G=>v.assign(A,!1).if((0,t._)`${G} instanceof ${$.ValidationError}`,()=>v.assign(X,(0,t._)`${G}.errors`),()=>v.throw(G))),X}function D(){const X=(0,t._)`${d}.errors`;return v.assign(X,null),F(t.nil),X}function F(X=g.async?(0,t._)`await `:t.nil){const G=$.opts.passContext?r.default.this:r.default.self,Q=!("compile"in g&&!S||g.schema===!1);v.assign(A,(0,t._)`${X}${(0,n.callValidateCode)(m,d,G,Q)}`,g.modifying)}function V(X){var G;v.if((0,t.not)((G=g.valid)!==null&&G!==void 0?G:A),X)}}e.funcKeywordCode=a;function s(m){const{gen:g,data:_,it:v}=m;g.if(v.parentData,()=>g.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(m,g){const{gen:_}=m;_.if((0,t._)`Array.isArray(${g})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${g} : ${r.default.vErrors}.concat(${g})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(m)},()=>m.error())}function u({schemaEnv:m},g){if(g.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,g,_){if(_===void 0)throw new Error(`keyword "${g}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(m,g,_=!1){return!g.length||g.some(v=>v==="array"?Array.isArray(m):v==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==v||_&&typeof m>"u")}e.validSchemaType=c;function h({schema:m,opts:g,self:_,errSchemaPath:v},p,E){if(Array.isArray(p.keyword)?!p.keyword.includes(E):p.keyword!==E)throw new Error("ajv implementation error");const y=p.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(m,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(p.validateSchema&&!p.validateSchema(m[E])){const $=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(p.validateSchema.errors);if(g.validateSchema==="log")_.logger.error($);else throw new Error($)}}e.validateKeywordUsage=h}}),lee=Oe({"../core/node_modules/ajv/dist/compile/validate/subschema.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=yr(),r=Fr();function n(a,{keyword:s,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:h}){if(s!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const m=a.schema[s];return l===void 0?{schema:m,schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${s}`}:{schema:m[l],schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(l)}`,errSchemaPath:`${a.errSchemaPath}/${s}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:h,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(a,s,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:h}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=s;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:p}=s,E=m.let("data",(0,t._)`${s.data}${(0,t.getProperty)(l)}`,!0);g(E),a.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,p.jsPropertySyntax)}`,a.parentDataProperty=(0,t._)`${l}`,a.dataPathArr=[...v,a.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);g(_),h!==void 0&&(a.propertyName=h)}c&&(a.dataTypes=c);function g(_){a.data=_,a.dataLevel=s.dataLevel+1,a.dataTypes=[],s.definedProperties=new Set,a.parentData=s.data,a.dataNames=[...s.dataNames,_]}}e.extendSubschemaData=i;function o(a,{jtdDiscriminator:s,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(a.compositeRule=u),f!==void 0&&(a.createErrors=f),c!==void 0&&(a.allErrors=c),a.jtdDiscriminator=s,a.jtdMetadata=l}e.extendSubschemaMode=o}}),uee=Oe({"../core/node_modules/json-schema-traverse/index.js"(e,t){Ae();var r=t.exports=function(o,a,s){typeof a=="function"&&(s=a,a={}),s=a.cb||s;var l=typeof s=="function"?s:s.pre||function(){},u=s.post||function(){};n(a,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,a,s,l,u,f,c,h,m,g){if(l&&typeof l=="object"&&!Array.isArray(l)){a(l,u,f,c,h,m,g);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var p=0;p<v.length;p++)n(o,a,s,v[p],u+"/"+_+"/"+p,f,u,_,l,p)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,a,s,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,a,s,v,u+"/"+_,f,u,_,l)}s(l,u,f,c,h,m,g)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),Y_=Oe({"../core/node_modules/ajv/dist/compile/resolve.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=Fr(),r=Oh(),n=uee(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,p=!0){return typeof v=="boolean"?!0:p===!0?!s(v):p?l(v)<=p:!1}e.inlineRef=o;var a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(v){for(const p in v){if(a.has(p))return!0;const E=v[p];if(Array.isArray(E)&&E.some(s)||typeof E=="object"&&s(E))return!0}return!1}function l(v){let p=0;for(const E in v){if(E==="$ref")return 1/0;if(p++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>p+=l(y)),p===1/0))return 1/0}return p}function u(v,p="",E){E!==!1&&(p=h(p));const y=v.parse(p);return f(v,y)}e.getFullPath=u;function f(v,p){return v.serialize(p).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function h(v){return v?v.replace(c,""):""}e.normalizeId=h;function m(v,p,E){return E=h(E),v.resolve(p,E)}e.resolveUrl=m;var g=/^[a-z_][-a-z0-9._]*$/i;function _(v,p){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=h(v[E]||p),$={"":S},T=u(y,S,!1),d={},A=new Set;return n(v,{allKeys:!0},(D,F,V,X)=>{if(X===void 0)return;const G=T+F;let Q=$[X];typeof D[E]=="string"&&(Q=ce.call(this,D[E])),ee.call(this,D.$anchor),ee.call(this,D.$dynamicAnchor),$[F]=Q;function ce(ae){const M=this.opts.uriResolver.resolve;if(ae=h(Q?M(Q,ae):ae),A.has(ae))throw x(ae);A.add(ae);let B=this.refs[ae];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?P(D,B.schema,ae):ae!==h(G)&&(ae[0]==="#"?(P(D,d[ae],ae),d[ae]=D):this.refs[ae]=G),ae}function ee(ae){if(typeof ae=="string"){if(!g.test(ae))throw new Error(`invalid anchor "${ae}"`);ce.call(this,`#${ae}`)}}}),d;function P(D,F,V){if(F!==void 0&&!r(D,F))throw x(V)}function x(D){return new Error(`reference "${D}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),X_=Oe({"../core/node_modules/ajv/dist/compile/validate/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=oee(),r=Rb(),n=I6(),i=Rb(),o=aee(),a=see(),s=lee(),l=yr(),u=rc(),f=Y_(),c=Fr(),h=J_();function m(R){if(T(R)&&(A(R),$(R))){p(R);return}g(R,()=>(0,t.topBoolOrEmptySchema)(R))}e.validateFunctionCode=m;function g({gen:R,validateName:I,schema:N,schemaEnv:H,opts:re},le){re.code.es5?R.func(I,(0,l._)`${u.default.data}, ${u.default.valCxt}`,H.$async,()=>{R.code((0,l._)`"use strict"; ${y(N,re)}`),v(R,re),R.code(le)}):R.func(I,(0,l._)`${u.default.data}, ${_(re)}`,H.$async,()=>R.code(y(N,re)).code(le))}function _(R){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${R.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(R,I){R.if(u.default.valCxt,()=>{R.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),R.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),R.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),R.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),I.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{R.var(u.default.instancePath,(0,l._)`""`),R.var(u.default.parentData,(0,l._)`undefined`),R.var(u.default.parentDataProperty,(0,l._)`undefined`),R.var(u.default.rootData,u.default.data),I.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function p(R){const{schema:I,opts:N,gen:H}=R;g(R,()=>{N.$comment&&I.$comment&&X(R),D(R),H.let(u.default.vErrors,null),H.let(u.default.errors,0),N.unevaluated&&E(R),P(R),G(R)})}function E(R){const{gen:I,validateName:N}=R;R.evaluated=I.const("evaluated",(0,l._)`${N}.evaluated`),I.if((0,l._)`${R.evaluated}.dynamicProps`,()=>I.assign((0,l._)`${R.evaluated}.props`,(0,l._)`undefined`)),I.if((0,l._)`${R.evaluated}.dynamicItems`,()=>I.assign((0,l._)`${R.evaluated}.items`,(0,l._)`undefined`))}function y(R,I){const N=typeof R=="object"&&R[I.schemaId];return N&&(I.code.source||I.code.process)?(0,l._)`/*# sourceURL=${N} */`:l.nil}function S(R,I){if(T(R)&&(A(R),$(R))){d(R,I);return}(0,t.boolOrEmptySchema)(R,I)}function $({schema:R,self:I}){if(typeof R=="boolean")return!R;for(const N in R)if(I.RULES.all[N])return!0;return!1}function T(R){return typeof R.schema!="boolean"}function d(R,I){const{schema:N,gen:H,opts:re}=R;re.$comment&&N.$comment&&X(R),F(R),V(R);const le=H.const("_errs",u.default.errors);P(R,le),H.var(I,(0,l._)`${le} === ${u.default.errors}`)}function A(R){(0,c.checkUnknownRules)(R),x(R)}function P(R,I){if(R.opts.jtd)return ce(R,[],!1,I);const N=(0,r.getSchemaTypes)(R.schema),H=(0,r.coerceAndCheckDataType)(R,N);ce(R,N,!H,I)}function x(R){const{schema:I,errSchemaPath:N,opts:H,self:re}=R;I.$ref&&H.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(I,re.RULES)&&re.logger.warn(`$ref: keywords ignored in schema at path "${N}"`)}function D(R){const{schema:I,opts:N}=R;I.default!==void 0&&N.useDefaults&&N.strictSchema&&(0,c.checkStrictMode)(R,"default is ignored in the schema root")}function F(R){const I=R.schema[R.opts.schemaId];I&&(R.baseId=(0,f.resolveUrl)(R.opts.uriResolver,R.baseId,I))}function V(R){if(R.schema.$async&&!R.schemaEnv.$async)throw new Error("async schema in sync schema")}function X({gen:R,schemaEnv:I,schema:N,errSchemaPath:H,opts:re}){const le=N.$comment;if(re.$comment===!0)R.code((0,l._)`${u.default.self}.logger.log(${le})`);else if(typeof re.$comment=="function"){const fe=(0,l.str)`${H}/$comment`,me=R.scopeValue("root",{ref:I.root});R.code((0,l._)`${u.default.self}.opts.$comment(${le}, ${fe}, ${me}.schema)`)}}function G(R){const{gen:I,schemaEnv:N,validateName:H,ValidationError:re,opts:le}=R;N.$async?I.if((0,l._)`${u.default.errors} === 0`,()=>I.return(u.default.data),()=>I.throw((0,l._)`new ${re}(${u.default.vErrors})`)):(I.assign((0,l._)`${H}.errors`,u.default.vErrors),le.unevaluated&&Q(R),I.return((0,l._)`${u.default.errors} === 0`))}function Q({gen:R,evaluated:I,props:N,items:H}){N instanceof l.Name&&R.assign((0,l._)`${I}.props`,N),H instanceof l.Name&&R.assign((0,l._)`${I}.items`,H)}function ce(R,I,N,H){const{gen:re,schema:le,data:fe,allErrors:me,opts:Re,self:Le}=R,{RULES:je}=Le;if(le.$ref&&(Re.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(le,je))){re.block(()=>Y(R,"$ref",je.all.$ref.definition));return}Re.jtd||ae(R,I),re.block(()=>{for(const Ge of je.rules)tt(Ge);tt(je.post)});function tt(Ge){(0,n.shouldUseGroup)(le,Ge)&&(Ge.type?(re.if((0,i.checkDataType)(Ge.type,fe,Re.strictNumbers)),ee(R,Ge),I.length===1&&I[0]===Ge.type&&N&&(re.else(),(0,i.reportTypeError)(R)),re.endIf()):ee(R,Ge),me||re.if((0,l._)`${u.default.errors} === ${H||0}`))}}function ee(R,I){const{gen:N,schema:H,opts:{useDefaults:re}}=R;re&&(0,o.assignDefaults)(R,I.type),N.block(()=>{for(const le of I.rules)(0,n.shouldUseRule)(H,le)&&Y(R,le.keyword,le.definition,I.type)})}function ae(R,I){R.schemaEnv.meta||!R.opts.strictTypes||(M(R,I),R.opts.allowUnionTypes||B(R,I),K(R,R.dataTypes))}function M(R,I){if(I.length){if(!R.dataTypes.length){R.dataTypes=I;return}I.forEach(N=>{k(R.dataTypes,N)||ie(R,`type "${N}" not allowed by context "${R.dataTypes.join(",")}"`)}),q(R,I)}}function B(R,I){I.length>1&&!(I.length===2&&I.includes("null"))&&ie(R,"use allowUnionTypes to allow union type keyword")}function K(R,I){const N=R.self.RULES.all;for(const H in N){const re=N[H];if(typeof re=="object"&&(0,n.shouldUseRule)(R.schema,re)){const{type:le}=re.definition;le.length&&!le.some(fe=>O(I,fe))&&ie(R,`missing type "${le.join(",")}" for keyword "${H}"`)}}}function O(R,I){return R.includes(I)||I==="number"&&R.includes("integer")}function k(R,I){return R.includes(I)||I==="integer"&&R.includes("number")}function q(R,I){const N=[];for(const H of R.dataTypes)k(I,H)?N.push(H):I.includes("integer")&&H==="number"&&N.push("integer");R.dataTypes=N}function ie(R,I){const N=R.schemaEnv.baseId+R.errSchemaPath;I+=` at "${N}" (strictTypes)`,(0,c.checkStrictMode)(R,I,R.opts.strictTypes)}var J=class{constructor(R,I,N){if((0,a.validateKeywordUsage)(R,I,N),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=N,this.data=R.data,this.schema=R.schema[N],this.$data=I.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(R,this.schema,N,this.$data),this.schemaType=I.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=I,this.$data)this.schemaCode=R.gen.const("vSchema",ye(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,I.schemaType,I.allowUndefined))throw new Error(`${N} value must be ${JSON.stringify(I.schemaType)}`);("code"in I?I.trackErrors:I.errors!==!1)&&(this.errsCount=R.gen.const("_errs",u.default.errors))}result(R,I,N){this.failResult((0,l.not)(R),I,N)}failResult(R,I,N){this.gen.if(R),N?N():this.error(),I?(this.gen.else(),I(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,I){this.failResult((0,l.not)(R),void 0,I)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:I}=this;this.fail((0,l._)`${I} !== undefined && (${(0,l.or)(this.invalid$data(),R)})`)}error(R,I,N){if(I){this.setParams(I),this._error(R,N),this.setParams({});return}this._error(R,N)}_error(R,I){(R?h.reportExtraError:h.reportError)(this,this.def.error,I)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,I){I?Object.assign(this.params,R):this.params=R}block$data(R,I,N=l.nil){this.gen.block(()=>{this.check$data(R,N),I()})}check$data(R=l.nil,I=l.nil){if(!this.$data)return;const{gen:N,schemaCode:H,schemaType:re,def:le}=this;N.if((0,l.or)((0,l._)`${H} === undefined`,I)),R!==l.nil&&N.assign(R,!0),(re.length||le.validateSchema)&&(N.elseIf(this.invalid$data()),this.$dataError(),R!==l.nil&&N.assign(R,!1)),N.else()}invalid$data(){const{gen:R,schemaCode:I,schemaType:N,def:H,it:re}=this;return(0,l.or)(le(),fe());function le(){if(N.length){if(!(I instanceof l.Name))throw new Error("ajv implementation error");const me=Array.isArray(N)?N:[N];return(0,l._)`${(0,i.checkDataTypes)(me,I,re.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function fe(){if(H.validateSchema){const me=R.scopeValue("validate$data",{ref:H.validateSchema});return(0,l._)`!${me}(${I})`}return l.nil}}subschema(R,I){const N=(0,s.getSubschema)(this.it,R);(0,s.extendSubschemaData)(N,this.it,R),(0,s.extendSubschemaMode)(N,R);const H={...this.it,...N,items:void 0,props:void 0};return S(H,I),H}mergeEvaluated(R,I){const{it:N,gen:H}=this;N.opts.unevaluated&&(N.props!==!0&&R.props!==void 0&&(N.props=c.mergeEvaluated.props(H,R.props,N.props,I)),N.items!==!0&&R.items!==void 0&&(N.items=c.mergeEvaluated.items(H,R.items,N.items,I)))}mergeValidEvaluated(R,I){const{it:N,gen:H}=this;if(N.opts.unevaluated&&(N.props!==!0||N.items!==!0))return H.if(I,()=>this.mergeEvaluated(R,l.Name)),!0}};e.KeywordCxt=J;function Y(R,I,N,H){const re=new J(R,N,I);"code"in N?N.code(re,H):re.$data&&N.validate?(0,a.funcKeywordCode)(re,N):"macro"in N?(0,a.macroKeywordCode)(re,N):(N.compile||N.validate)&&(0,a.funcKeywordCode)(re,N)}var oe=/^\/(?:[^~]|~0|~1)*$/,_e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ye(R,{dataLevel:I,dataNames:N,dataPathArr:H}){let re,le;if(R==="")return u.default.rootData;if(R[0]==="/"){if(!oe.test(R))throw new Error(`Invalid JSON-pointer: ${R}`);re=R,le=u.default.rootData}else{const Le=_e.exec(R);if(!Le)throw new Error(`Invalid JSON-pointer: ${R}`);const je=+Le[1];if(re=Le[2],re==="#"){if(je>=I)throw new Error(Re("property/index",je));return H[I-je]}if(je>I)throw new Error(Re("data",je));if(le=N[I-je],!re)return le}let fe=le;const me=re.split("/");for(const Le of me)Le&&(le=(0,l._)`${le}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Le))}`,fe=(0,l._)`${fe} && ${le}`);return fe;function Re(Le,je){return`Cannot access ${Le} ${je} levels up, current level is ${I}`}}e.getData=ye}}),PR=Oe({"../core/node_modules/ajv/dist/runtime/validation_error.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),xR=Oe({"../core/node_modules/ajv/dist/compile/ref_error.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Y_(),r=class extends Error{constructor(n,i,o,a){super(a||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),OR=Oe({"../core/node_modules/ajv/dist/compile/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=yr(),r=PR(),n=rc(),i=Y_(),o=Fr(),a=X_(),s=class{constructor(p){var E;this.refs={},this.dynamicAnchors={};let y;typeof p.schema=="object"&&(y=p.schema),this.schema=p.schema,this.schemaId=p.schemaId,this.root=p.root||this,this.baseId=(E=p.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[p.schemaId||"$id"]),this.schemaPath=p.schemaPath,this.localRefs=p.localRefs,this.meta=p.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=s;function l(p){const E=c.call(this,p);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:S,lines:$}=this.opts.code,{ownProperties:T}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:$,ownProperties:T});let A;p.$async&&(A=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const P=d.scopeName("validate");p.validateName=P;const x={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,t.stringify)(p.schema)}:{ref:p.schema}),validateName:P,ValidationError:A,schema:p.schema,schemaEnv:p,rootId:y,baseId:p.baseId||y,schemaPath:t.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(p),(0,a.validateFunctionCode)(x),d.optimize(this.opts.code.optimize);const F=d.toString();D=`${d.scopeRefs(n.default.scope)}return ${F}`,this.opts.code.process&&(D=this.opts.code.process(D,p));const X=new Function(`${n.default.self}`,`${n.default.scope}`,D)(this,this.scope.get());if(this.scope.value(P,{ref:X}),X.errors=null,X.schema=p.schema,X.schemaEnv=p,p.$async&&(X.$async=!0),this.opts.code.source===!0&&(X.source={validateName:P,validateCode:F,scopeValues:d._values}),this.opts.unevaluated){const{props:G,items:Q}=x;X.evaluated={props:G instanceof t.Name?void 0:G,items:Q instanceof t.Name?void 0:Q,dynamicProps:G instanceof t.Name,dynamicItems:Q instanceof t.Name},X.source&&(X.source.evaluated=(0,t.stringify)(X.evaluated))}return p.validate=X,p}catch(F){throw delete p.validate,delete p.validateName,D&&this.logger.error("Error compiling schema, function code:",D),F}finally{this._compilations.delete(p)}}e.compileSchema=l;function u(p,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const $=p.refs[y];if($)return $;let T=m.call(this,p,y);if(T===void 0){const d=(S=p.localRefs)===null||S===void 0?void 0:S[y],{schemaId:A}=this.opts;d&&(T=new s({schema:d,schemaId:A,root:p,baseId:E}))}if(T!==void 0)return p.refs[y]=f.call(this,T)}e.resolveRef=u;function f(p){return(0,i.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:l.call(this,p)}function c(p){for(const E of this._compilations)if(h(E,p))return E}e.getCompilingSchema=c;function h(p,E){return p.schema===E.schema&&p.root===E.root&&p.baseId===E.baseId}function m(p,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||g.call(this,p,E)}function g(p,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let $=(0,i.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&S===$)return v.call(this,y,p);const T=(0,i.normalizeId)(S),d=this.refs[T]||this.schemas[T];if(typeof d=="string"){const A=g.call(this,p,d);return typeof(A==null?void 0:A.schema)!="object"?void 0:v.call(this,y,A)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),T===(0,i.normalizeId)(E)){const{schema:A}=d,{schemaId:P}=this.opts,x=A[P];return x&&($=(0,i.resolveUrl)(this.opts.uriResolver,$,x)),new s({schema:A,schemaId:P,root:p,baseId:$})}return v.call(this,y,d)}}e.resolveSchema=g;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(p,{baseId:E,schema:y,root:S}){var $;if((($=p.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const A of p.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const P=y[(0,o.unescapeFragment)(A)];if(P===void 0)return;y=P;const x=typeof y=="object"&&y[this.opts.schemaId];!_.has(A)&&x&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,x))}let T;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const A=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);T=g.call(this,S,A)}const{schemaId:d}=this.opts;if(T=T||new s({schema:y,schemaId:d,root:S,baseId:E}),T.schema!==T.root.schema)return T}}}),cee=Oe({"../core/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),N6=Oe({"../../node_modules/uri-js/dist/es5/uri.all.js"(e,t){Ae(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n(r.URI=r.URI||{})}(e,function(r){function n(){for(var de=arguments.length,ue=Array(de),be=0;be<de;be++)ue[be]=arguments[be];if(ue.length>1){ue[0]=ue[0].slice(0,-1);for(var xe=ue.length-1,Pe=1;Pe<xe;++Pe)ue[Pe]=ue[Pe].slice(1,-1);return ue[xe]=ue[xe].slice(1),ue.join("")}else return ue[0]}function i(de){return"(?:"+de+")"}function o(de){return de===void 0?"undefined":de===null?"null":Object.prototype.toString.call(de).split(" ").pop().split("]").shift().toLowerCase()}function a(de){return de.toUpperCase()}function s(de){return de!=null?de instanceof Array?de:typeof de.length!="number"||de.split||de.setInterval||de.call?[de]:Array.prototype.slice.call(de):[]}function l(de,ue){var be=de;if(ue)for(var xe in ue)be[xe]=ue[xe];return be}function u(de){var ue="[A-Za-z]",be="[0-9]",xe=n(be,"[A-Fa-f]"),Pe=i(i("%[EFef]"+xe+"%"+xe+xe+"%"+xe+xe)+"|"+i("%[89A-Fa-f]"+xe+"%"+xe+xe)+"|"+i("%"+xe+xe)),et="[\\:\\/\\?\\#\\[\\]\\@]",it="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Pt=n(et,it),Nt=de?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",jt=de?"[\\uE000-\\uF8FF]":"[]",St=n(ue,be,"[\\-\\.\\_\\~]",Nt);i(ue+n(ue,be,"[\\+\\-\\.]")+"*"),i(i(Pe+"|"+n(St,it,"[\\:]"))+"*");var Rt=i(i("25[0-5]")+"|"+i("2[0-4]"+be)+"|"+i("1"+be+be)+"|"+i("0?[1-9]"+be)+"|0?0?"+be),Gt=i(Rt+"\\."+Rt+"\\."+Rt+"\\."+Rt),yt=i(xe+"{1,4}"),Tt=i(i(yt+"\\:"+yt)+"|"+Gt),Dt=i(i(yt+"\\:")+"{6}"+Tt),Ft=i("\\:\\:"+i(yt+"\\:")+"{5}"+Tt),Gr=i(i(yt)+"?\\:\\:"+i(yt+"\\:")+"{4}"+Tt),Yr=i(i(i(yt+"\\:")+"{0,1}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{3}"+Tt),Ir=i(i(i(yt+"\\:")+"{0,2}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{2}"+Tt),Mn=i(i(i(yt+"\\:")+"{0,3}"+yt)+"?\\:\\:"+yt+"\\:"+Tt),qn=i(i(i(yt+"\\:")+"{0,4}"+yt)+"?\\:\\:"+Tt),Nr=i(i(i(yt+"\\:")+"{0,5}"+yt)+"?\\:\\:"+yt),Xr=i(i(i(yt+"\\:")+"{0,6}"+yt)+"?\\:\\:"),Yn=i([Dt,Ft,Gr,Yr,Ir,Mn,qn,Nr,Xr].join("|")),dn=i(i(St+"|"+Pe)+"+");i("[vV]"+xe+"+\\."+n(St,it,"[\\:]")+"+"),i(i(Pe+"|"+n(St,it))+"*");var fi=i(Pe+"|"+n(St,it,"[\\:\\@]"));return i(i(Pe+"|"+n(St,it,"[\\@]"))+"+"),i(i(fi+"|"+n("[\\/\\?]",jt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",ue,be,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",St,it),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",St,it),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",St,it),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",St,it),"g"),NOT_QUERY:new RegExp(n("[^\\%]",St,it,"[\\:\\@\\/\\?]",jt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",St,it,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",St,it),"g"),UNRESERVED:new RegExp(St,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",St,Pt),"g"),PCT_ENCODED:new RegExp(Pe,"g"),IPV4ADDRESS:new RegExp("^("+Gt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Yn+")"+i(i("\\%25|\\%(?!"+xe+"{2})")+"("+dn+")")+"?\\]?$")}}var f=u(!1),c=u(!0),h=function(){function de(ue,be){var xe=[],Pe=!0,et=!1,it=void 0;try{for(var Pt=ue[Symbol.iterator](),Nt;!(Pe=(Nt=Pt.next()).done)&&(xe.push(Nt.value),!(be&&xe.length===be));Pe=!0);}catch(jt){et=!0,it=jt}finally{try{!Pe&&Pt.return&&Pt.return()}finally{if(et)throw it}}return xe}return function(ue,be){if(Array.isArray(ue))return ue;if(Symbol.iterator in Object(ue))return de(ue,be);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(de){if(Array.isArray(de)){for(var ue=0,be=Array(de.length);ue<de.length;ue++)be[ue]=de[ue];return be}else return Array.from(de)},g=2147483647,_=36,v=1,p=26,E=38,y=700,S=72,$=128,T="-",d=/^xn--/,A=/[^\0-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=_-v,F=Math.floor,V=String.fromCharCode;function X(de){throw new RangeError(x[de])}function G(de,ue){for(var be=[],xe=de.length;xe--;)be[xe]=ue(de[xe]);return be}function Q(de,ue){var be=de.split("@"),xe="";be.length>1&&(xe=be[0]+"@",de=be[1]),de=de.replace(P,".");var Pe=de.split("."),et=G(Pe,ue).join(".");return xe+et}function ce(de){for(var ue=[],be=0,xe=de.length;be<xe;){var Pe=de.charCodeAt(be++);if(Pe>=55296&&Pe<=56319&&be<xe){var et=de.charCodeAt(be++);(et&64512)==56320?ue.push(((Pe&1023)<<10)+(et&1023)+65536):(ue.push(Pe),be--)}else ue.push(Pe)}return ue}var ee=function(ue){return String.fromCodePoint.apply(String,m(ue))},ae=function(ue){return ue-48<10?ue-22:ue-65<26?ue-65:ue-97<26?ue-97:_},M=function(ue,be){return ue+22+75*(ue<26)-((be!=0)<<5)},B=function(ue,be,xe){var Pe=0;for(ue=xe?F(ue/y):ue>>1,ue+=F(ue/be);ue>D*p>>1;Pe+=_)ue=F(ue/D);return F(Pe+(D+1)*ue/(ue+E))},K=function(ue){var be=[],xe=ue.length,Pe=0,et=$,it=S,Pt=ue.lastIndexOf(T);Pt<0&&(Pt=0);for(var Nt=0;Nt<Pt;++Nt)ue.charCodeAt(Nt)>=128&&X("not-basic"),be.push(ue.charCodeAt(Nt));for(var jt=Pt>0?Pt+1:0;jt<xe;){for(var St=Pe,Rt=1,Gt=_;;Gt+=_){jt>=xe&&X("invalid-input");var yt=ae(ue.charCodeAt(jt++));(yt>=_||yt>F((g-Pe)/Rt))&&X("overflow"),Pe+=yt*Rt;var Tt=Gt<=it?v:Gt>=it+p?p:Gt-it;if(yt<Tt)break;var Dt=_-Tt;Rt>F(g/Dt)&&X("overflow"),Rt*=Dt}var Ft=be.length+1;it=B(Pe-St,Ft,St==0),F(Pe/Ft)>g-et&&X("overflow"),et+=F(Pe/Ft),Pe%=Ft,be.splice(Pe++,0,et)}return String.fromCodePoint.apply(String,be)},O=function(ue){var be=[];ue=ce(ue);var xe=ue.length,Pe=$,et=0,it=S,Pt=!0,Nt=!1,jt=void 0;try{for(var St=ue[Symbol.iterator](),Rt;!(Pt=(Rt=St.next()).done);Pt=!0){var Gt=Rt.value;Gt<128&&be.push(V(Gt))}}catch(Ln){Nt=!0,jt=Ln}finally{try{!Pt&&St.return&&St.return()}finally{if(Nt)throw jt}}var yt=be.length,Tt=yt;for(yt&&be.push(T);Tt<xe;){var Dt=g,Ft=!0,Gr=!1,Yr=void 0;try{for(var Ir=ue[Symbol.iterator](),Mn;!(Ft=(Mn=Ir.next()).done);Ft=!0){var qn=Mn.value;qn>=Pe&&qn<Dt&&(Dt=qn)}}catch(Ln){Gr=!0,Yr=Ln}finally{try{!Ft&&Ir.return&&Ir.return()}finally{if(Gr)throw Yr}}var Nr=Tt+1;Dt-Pe>F((g-et)/Nr)&&X("overflow"),et+=(Dt-Pe)*Nr,Pe=Dt;var Xr=!0,Yn=!1,dn=void 0;try{for(var fi=ue[Symbol.iterator](),ea;!(Xr=(ea=fi.next()).done);Xr=!0){var ta=ea.value;if(ta<Pe&&++et>g&&X("overflow"),ta==Pe){for(var Cr=et,yn=_;;yn+=_){var di=yn<=it?v:yn>=it+p?p:yn-it;if(Cr<di)break;var ps=Cr-di,ra=_-di;be.push(V(M(di+ps%ra,0))),Cr=F(ps/ra)}be.push(V(M(Cr,0))),it=B(et,Nr,Tt==yt),et=0,++Tt}}}catch(Ln){Yn=!0,dn=Ln}finally{try{!Xr&&fi.return&&fi.return()}finally{if(Yn)throw dn}}++et,++Pe}return be.join("")},k=function(ue){return Q(ue,function(be){return d.test(be)?K(be.slice(4).toLowerCase()):be})},q=function(ue){return Q(ue,function(be){return A.test(be)?"xn--"+O(be):be})},ie={version:"2.1.0",ucs2:{decode:ce,encode:ee},decode:K,encode:O,toASCII:q,toUnicode:k},J={};function Y(de){var ue=de.charCodeAt(0),be=void 0;return ue<16?be="%0"+ue.toString(16).toUpperCase():ue<128?be="%"+ue.toString(16).toUpperCase():ue<2048?be="%"+(ue>>6|192).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase():be="%"+(ue>>12|224).toString(16).toUpperCase()+"%"+(ue>>6&63|128).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase(),be}function oe(de){for(var ue="",be=0,xe=de.length;be<xe;){var Pe=parseInt(de.substr(be+1,2),16);if(Pe<128)ue+=String.fromCharCode(Pe),be+=3;else if(Pe>=194&&Pe<224){if(xe-be>=6){var et=parseInt(de.substr(be+4,2),16);ue+=String.fromCharCode((Pe&31)<<6|et&63)}else ue+=de.substr(be,6);be+=6}else if(Pe>=224){if(xe-be>=9){var it=parseInt(de.substr(be+4,2),16),Pt=parseInt(de.substr(be+7,2),16);ue+=String.fromCharCode((Pe&15)<<12|(it&63)<<6|Pt&63)}else ue+=de.substr(be,9);be+=9}else ue+=de.substr(be,3),be+=3}return ue}function _e(de,ue){function be(xe){var Pe=oe(xe);return Pe.match(ue.UNRESERVED)?Pe:xe}return de.scheme&&(de.scheme=String(de.scheme).replace(ue.PCT_ENCODED,be).toLowerCase().replace(ue.NOT_SCHEME,"")),de.userinfo!==void 0&&(de.userinfo=String(de.userinfo).replace(ue.PCT_ENCODED,be).replace(ue.NOT_USERINFO,Y).replace(ue.PCT_ENCODED,a)),de.host!==void 0&&(de.host=String(de.host).replace(ue.PCT_ENCODED,be).toLowerCase().replace(ue.NOT_HOST,Y).replace(ue.PCT_ENCODED,a)),de.path!==void 0&&(de.path=String(de.path).replace(ue.PCT_ENCODED,be).replace(de.scheme?ue.NOT_PATH:ue.NOT_PATH_NOSCHEME,Y).replace(ue.PCT_ENCODED,a)),de.query!==void 0&&(de.query=String(de.query).replace(ue.PCT_ENCODED,be).replace(ue.NOT_QUERY,Y).replace(ue.PCT_ENCODED,a)),de.fragment!==void 0&&(de.fragment=String(de.fragment).replace(ue.PCT_ENCODED,be).replace(ue.NOT_FRAGMENT,Y).replace(ue.PCT_ENCODED,a)),de}function ye(de){return de.replace(/^0*(.*)/,"$1")||"0"}function R(de,ue){var be=de.match(ue.IPV4ADDRESS)||[],xe=h(be,2),Pe=xe[1];return Pe?Pe.split(".").map(ye).join("."):de}function I(de,ue){var be=de.match(ue.IPV6ADDRESS)||[],xe=h(be,3),Pe=xe[1],et=xe[2];if(Pe){for(var it=Pe.toLowerCase().split("::").reverse(),Pt=h(it,2),Nt=Pt[0],jt=Pt[1],St=jt?jt.split(":").map(ye):[],Rt=Nt.split(":").map(ye),Gt=ue.IPV4ADDRESS.test(Rt[Rt.length-1]),yt=Gt?7:8,Tt=Rt.length-yt,Dt=Array(yt),Ft=0;Ft<yt;++Ft)Dt[Ft]=St[Ft]||Rt[Tt+Ft]||"";Gt&&(Dt[yt-1]=R(Dt[yt-1],ue));var Gr=Dt.reduce(function(Nr,Xr,Yn){if(!Xr||Xr==="0"){var dn=Nr[Nr.length-1];dn&&dn.index+dn.length===Yn?dn.length++:Nr.push({index:Yn,length:1})}return Nr},[]),Yr=Gr.sort(function(Nr,Xr){return Xr.length-Nr.length})[0],Ir=void 0;if(Yr&&Yr.length>1){var Mn=Dt.slice(0,Yr.index),qn=Dt.slice(Yr.index+Yr.length);Ir=Mn.join(":")+"::"+qn.join(":")}else Ir=Dt.join(":");return et&&(Ir+="%"+et),Ir}else return de}var N=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,H="".match(/(){0}/)[1]===void 0;function re(de){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},be={},xe=ue.iri!==!1?c:f;ue.reference==="suffix"&&(de=(ue.scheme?ue.scheme+":":"")+"//"+de);var Pe=de.match(N);if(Pe){H?(be.scheme=Pe[1],be.userinfo=Pe[3],be.host=Pe[4],be.port=parseInt(Pe[5],10),be.path=Pe[6]||"",be.query=Pe[7],be.fragment=Pe[8],isNaN(be.port)&&(be.port=Pe[5])):(be.scheme=Pe[1]||void 0,be.userinfo=de.indexOf("@")!==-1?Pe[3]:void 0,be.host=de.indexOf("//")!==-1?Pe[4]:void 0,be.port=parseInt(Pe[5],10),be.path=Pe[6]||"",be.query=de.indexOf("?")!==-1?Pe[7]:void 0,be.fragment=de.indexOf("#")!==-1?Pe[8]:void 0,isNaN(be.port)&&(be.port=de.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Pe[4]:void 0)),be.host&&(be.host=I(R(be.host,xe),xe)),be.scheme===void 0&&be.userinfo===void 0&&be.host===void 0&&be.port===void 0&&!be.path&&be.query===void 0?be.reference="same-document":be.scheme===void 0?be.reference="relative":be.fragment===void 0?be.reference="absolute":be.reference="uri",ue.reference&&ue.reference!=="suffix"&&ue.reference!==be.reference&&(be.error=be.error||"URI is not a "+ue.reference+" reference.");var et=J[(ue.scheme||be.scheme||"").toLowerCase()];if(!ue.unicodeSupport&&(!et||!et.unicodeSupport)){if(be.host&&(ue.domainHost||et&&et.domainHost))try{be.host=ie.toASCII(be.host.replace(xe.PCT_ENCODED,oe).toLowerCase())}catch(it){be.error=be.error||"Host's domain name can not be converted to ASCII via punycode: "+it}_e(be,f)}else _e(be,xe);et&&et.parse&&et.parse(be,ue)}else be.error=be.error||"URI can not be parsed.";return be}function le(de,ue){var be=ue.iri!==!1?c:f,xe=[];return de.userinfo!==void 0&&(xe.push(de.userinfo),xe.push("@")),de.host!==void 0&&xe.push(I(R(String(de.host),be),be).replace(be.IPV6ADDRESS,function(Pe,et,it){return"["+et+(it?"%25"+it:"")+"]"})),(typeof de.port=="number"||typeof de.port=="string")&&(xe.push(":"),xe.push(String(de.port))),xe.length?xe.join(""):void 0}var fe=/^\.\.?\//,me=/^\/\.(\/|$)/,Re=/^\/\.\.(\/|$)/,Le=/^\/?(?:.|\n)*?(?=\/|$)/;function je(de){for(var ue=[];de.length;)if(de.match(fe))de=de.replace(fe,"");else if(de.match(me))de=de.replace(me,"/");else if(de.match(Re))de=de.replace(Re,"/"),ue.pop();else if(de==="."||de==="..")de="";else{var be=de.match(Le);if(be){var xe=be[0];de=de.slice(xe.length),ue.push(xe)}else throw new Error("Unexpected dot segment condition")}return ue.join("")}function tt(de){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},be=ue.iri?c:f,xe=[],Pe=J[(ue.scheme||de.scheme||"").toLowerCase()];if(Pe&&Pe.serialize&&Pe.serialize(de,ue),de.host&&!be.IPV6ADDRESS.test(de.host)){if(ue.domainHost||Pe&&Pe.domainHost)try{de.host=ue.iri?ie.toUnicode(de.host):ie.toASCII(de.host.replace(be.PCT_ENCODED,oe).toLowerCase())}catch(Pt){de.error=de.error||"Host's domain name can not be converted to "+(ue.iri?"Unicode":"ASCII")+" via punycode: "+Pt}}_e(de,be),ue.reference!=="suffix"&&de.scheme&&(xe.push(de.scheme),xe.push(":"));var et=le(de,ue);if(et!==void 0&&(ue.reference!=="suffix"&&xe.push("//"),xe.push(et),de.path&&de.path.charAt(0)!=="/"&&xe.push("/")),de.path!==void 0){var it=de.path;!ue.absolutePath&&(!Pe||!Pe.absolutePath)&&(it=je(it)),et===void 0&&(it=it.replace(/^\/\//,"/%2F")),xe.push(it)}return de.query!==void 0&&(xe.push("?"),xe.push(de.query)),de.fragment!==void 0&&(xe.push("#"),xe.push(de.fragment)),xe.join("")}function Ge(de,ue){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},xe=arguments[3],Pe={};return xe||(de=re(tt(de,be),be),ue=re(tt(ue,be),be)),be=be||{},!be.tolerant&&ue.scheme?(Pe.scheme=ue.scheme,Pe.userinfo=ue.userinfo,Pe.host=ue.host,Pe.port=ue.port,Pe.path=je(ue.path||""),Pe.query=ue.query):(ue.userinfo!==void 0||ue.host!==void 0||ue.port!==void 0?(Pe.userinfo=ue.userinfo,Pe.host=ue.host,Pe.port=ue.port,Pe.path=je(ue.path||""),Pe.query=ue.query):(ue.path?(ue.path.charAt(0)==="/"?Pe.path=je(ue.path):((de.userinfo!==void 0||de.host!==void 0||de.port!==void 0)&&!de.path?Pe.path="/"+ue.path:de.path?Pe.path=de.path.slice(0,de.path.lastIndexOf("/")+1)+ue.path:Pe.path=ue.path,Pe.path=je(Pe.path)),Pe.query=ue.query):(Pe.path=de.path,ue.query!==void 0?Pe.query=ue.query:Pe.query=de.query),Pe.userinfo=de.userinfo,Pe.host=de.host,Pe.port=de.port),Pe.scheme=de.scheme),Pe.fragment=ue.fragment,Pe}function Ue(de,ue,be){var xe=l({scheme:"null"},be);return tt(Ge(re(de,xe),re(ue,xe),xe,!0),xe)}function W(de,ue){return typeof de=="string"?de=tt(re(de,ue),ue):o(de)==="object"&&(de=re(tt(de,ue),ue)),de}function C(de,ue,be){return typeof de=="string"?de=tt(re(de,be),be):o(de)==="object"&&(de=tt(de,be)),typeof ue=="string"?ue=tt(re(ue,be),be):o(ue)==="object"&&(ue=tt(ue,be)),de===ue}function L(de,ue){return de&&de.toString().replace(!ue||!ue.iri?f.ESCAPE:c.ESCAPE,Y)}function ne(de,ue){return de&&de.toString().replace(!ue||!ue.iri?f.PCT_ENCODED:c.PCT_ENCODED,oe)}var we={scheme:"http",domainHost:!0,parse:function(ue,be){return ue.host||(ue.error=ue.error||"HTTP URIs must have a host."),ue},serialize:function(ue,be){var xe=String(ue.scheme).toLowerCase()==="https";return(ue.port===(xe?443:80)||ue.port==="")&&(ue.port=void 0),ue.path||(ue.path="/"),ue}},Se={scheme:"https",domainHost:we.domainHost,parse:we.parse,serialize:we.serialize};function ke(de){return typeof de.secure=="boolean"?de.secure:String(de.scheme).toLowerCase()==="wss"}var Ie={scheme:"ws",domainHost:!0,parse:function(ue,be){var xe=ue;return xe.secure=ke(xe),xe.resourceName=(xe.path||"/")+(xe.query?"?"+xe.query:""),xe.path=void 0,xe.query=void 0,xe},serialize:function(ue,be){if((ue.port===(ke(ue)?443:80)||ue.port==="")&&(ue.port=void 0),typeof ue.secure=="boolean"&&(ue.scheme=ue.secure?"wss":"ws",ue.secure=void 0),ue.resourceName){var xe=ue.resourceName.split("?"),Pe=h(xe,2),et=Pe[0],it=Pe[1];ue.path=et&&et!=="/"?et:void 0,ue.query=it,ue.resourceName=void 0}return ue.fragment=void 0,ue}},Fe={scheme:"wss",domainHost:Ie.domainHost,parse:Ie.parse,serialize:Ie.serialize},ft={},vt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",at="[0-9A-Fa-f]",kt=i(i("%[EFef]"+at+"%"+at+at+"%"+at+at)+"|"+i("%[89A-Fa-f]"+at+"%"+at+at)+"|"+i("%"+at+at)),br="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Pr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",rr=n(Pr,'[\\"\\\\]'),hr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ln=new RegExp(vt,"g"),Vt=new RegExp(kt,"g"),zt=new RegExp(n("[^]",br,"[\\.]",'[\\"]',rr),"g"),At=new RegExp(n("[^]",vt,hr),"g"),$e=At;function Ne(de){var ue=oe(de);return ue.match(ln)?ue:de}var dt={scheme:"mailto",parse:function(ue,be){var xe=ue,Pe=xe.to=xe.path?xe.path.split(","):[];if(xe.path=void 0,xe.query){for(var et=!1,it={},Pt=xe.query.split("&"),Nt=0,jt=Pt.length;Nt<jt;++Nt){var St=Pt[Nt].split("=");switch(St[0]){case"to":for(var Rt=St[1].split(","),Gt=0,yt=Rt.length;Gt<yt;++Gt)Pe.push(Rt[Gt]);break;case"subject":xe.subject=ne(St[1],be);break;case"body":xe.body=ne(St[1],be);break;default:et=!0,it[ne(St[0],be)]=ne(St[1],be);break}}et&&(xe.headers=it)}xe.query=void 0;for(var Tt=0,Dt=Pe.length;Tt<Dt;++Tt){var Ft=Pe[Tt].split("@");if(Ft[0]=ne(Ft[0]),be.unicodeSupport)Ft[1]=ne(Ft[1],be).toLowerCase();else try{Ft[1]=ie.toASCII(ne(Ft[1],be).toLowerCase())}catch(Gr){xe.error=xe.error||"Email address's domain name can not be converted to ASCII via punycode: "+Gr}Pe[Tt]=Ft.join("@")}return xe},serialize:function(ue,be){var xe=ue,Pe=s(ue.to);if(Pe){for(var et=0,it=Pe.length;et<it;++et){var Pt=String(Pe[et]),Nt=Pt.lastIndexOf("@"),jt=Pt.slice(0,Nt).replace(Vt,Ne).replace(Vt,a).replace(zt,Y),St=Pt.slice(Nt+1);try{St=be.iri?ie.toUnicode(St):ie.toASCII(ne(St,be).toLowerCase())}catch(Tt){xe.error=xe.error||"Email address's domain name can not be converted to "+(be.iri?"Unicode":"ASCII")+" via punycode: "+Tt}Pe[et]=jt+"@"+St}xe.path=Pe.join(",")}var Rt=ue.headers=ue.headers||{};ue.subject&&(Rt.subject=ue.subject),ue.body&&(Rt.body=ue.body);var Gt=[];for(var yt in Rt)Rt[yt]!==ft[yt]&&Gt.push(yt.replace(Vt,Ne).replace(Vt,a).replace(At,Y)+"="+Rt[yt].replace(Vt,Ne).replace(Vt,a).replace($e,Y));return Gt.length&&(xe.query=Gt.join("&")),xe}},Ye=/^([^\:]+)\:(.*)/,nt={scheme:"urn",parse:function(ue,be){var xe=ue.path&&ue.path.match(Ye),Pe=ue;if(xe){var et=be.scheme||Pe.scheme||"urn",it=xe[1].toLowerCase(),Pt=xe[2],Nt=et+":"+(be.nid||it),jt=J[Nt];Pe.nid=it,Pe.nss=Pt,Pe.path=void 0,jt&&(Pe=jt.parse(Pe,be))}else Pe.error=Pe.error||"URN can not be parsed.";return Pe},serialize:function(ue,be){var xe=be.scheme||ue.scheme||"urn",Pe=ue.nid,et=xe+":"+(be.nid||Pe),it=J[et];it&&(ue=it.serialize(ue,be));var Pt=ue,Nt=ue.nss;return Pt.path=(Pe||be.nid)+":"+Nt,Pt}},Ot=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,qt={scheme:"urn:uuid",parse:function(ue,be){var xe=ue;return xe.uuid=xe.nss,xe.nss=void 0,!be.tolerant&&(!xe.uuid||!xe.uuid.match(Ot))&&(xe.error=xe.error||"UUID is not valid."),xe},serialize:function(ue,be){var xe=ue;return xe.nss=(ue.uuid||"").toLowerCase(),xe}};J[we.scheme]=we,J[Se.scheme]=Se,J[Ie.scheme]=Ie,J[Fe.scheme]=Fe,J[dt.scheme]=dt,J[nt.scheme]=nt,J[qt.scheme]=qt,r.SCHEMES=J,r.pctEncChar=Y,r.pctDecChars=oe,r.parse=re,r.removeDotSegments=je,r.serialize=tt,r.resolveComponents=Ge,r.resolve=Ue,r.normalize=W,r.equal=C,r.escapeComponent=L,r.unescapeComponent=ne,Object.defineProperty(r,"__esModule",{value:!0})})}}),fee=Oe({"../core/node_modules/ajv/dist/runtime/uri.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=N6();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),dee=Oe({"../core/node_modules/ajv/dist/core.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=X_();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=yr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=PR(),i=xR(),o=R6(),a=OR(),s=yr(),l=Y_(),u=Rb(),f=Fr(),c=cee(),h=fee(),m=(M,B)=>new RegExp(M,B);m.code="new RegExp";var g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(M){var B,K,O,k,q,ie,J,Y,oe,_e,ye,R,I,N,H,re,le,fe,me,Re,Le,je,tt,Ge,Ue;const W=M.strict,C=(B=M.code)===null||B===void 0?void 0:B.optimize,L=C===!0||C===void 0?1:C||0,ne=(O=(K=M.code)===null||K===void 0?void 0:K.regExp)!==null&&O!==void 0?O:m,we=(k=M.uriResolver)!==null&&k!==void 0?k:h.default;return{strictSchema:(ie=(q=M.strictSchema)!==null&&q!==void 0?q:W)!==null&&ie!==void 0?ie:!0,strictNumbers:(Y=(J=M.strictNumbers)!==null&&J!==void 0?J:W)!==null&&Y!==void 0?Y:!0,strictTypes:(_e=(oe=M.strictTypes)!==null&&oe!==void 0?oe:W)!==null&&_e!==void 0?_e:"log",strictTuples:(R=(ye=M.strictTuples)!==null&&ye!==void 0?ye:W)!==null&&R!==void 0?R:"log",strictRequired:(N=(I=M.strictRequired)!==null&&I!==void 0?I:W)!==null&&N!==void 0?N:!1,code:M.code?{...M.code,optimize:L,regExp:ne}:{optimize:L,regExp:ne},loopRequired:(H=M.loopRequired)!==null&&H!==void 0?H:E,loopEnum:(re=M.loopEnum)!==null&&re!==void 0?re:E,meta:(le=M.meta)!==null&&le!==void 0?le:!0,messages:(fe=M.messages)!==null&&fe!==void 0?fe:!0,inlineRefs:(me=M.inlineRefs)!==null&&me!==void 0?me:!0,schemaId:(Re=M.schemaId)!==null&&Re!==void 0?Re:"$id",addUsedSchema:(Le=M.addUsedSchema)!==null&&Le!==void 0?Le:!0,validateSchema:(je=M.validateSchema)!==null&&je!==void 0?je:!0,validateFormats:(tt=M.validateFormats)!==null&&tt!==void 0?tt:!0,unicodeRegExp:(Ge=M.unicodeRegExp)!==null&&Ge!==void 0?Ge:!0,int32range:(Ue=M.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:we}}var S=class{constructor(M={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,M=this.opts={...M,...y(M)};const{es5:B,lines:K}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:B,lines:K}),this.logger=F(M.logger);const O=M.validateFormats;M.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,M,"NOT SUPPORTED"),$.call(this,p,M,"DEPRECATED","warn"),this._metaOpts=x.call(this),M.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),M.keywords&&P.call(this,M.keywords),typeof M.meta=="object"&&this.addMetaSchema(M.meta),d.call(this),M.validateFormats=O}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:M,meta:B,schemaId:K}=this.opts;let O=c;K==="id"&&(O={...c},O.id=O.$id,delete O.$id),B&&M&&this.addMetaSchema(O,O[K],!1)}defaultMeta(){const{meta:M,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof M=="object"?M[B]||M:void 0}validate(M,B){let K;if(typeof M=="string"){if(K=this.getSchema(M),!K)throw new Error(`no schema with key or ref "${M}"`)}else K=this.compile(M);const O=K(B);return"$async"in K||(this.errors=K.errors),O}compile(M,B){const K=this._addSchema(M,B);return K.validate||this._compileSchemaEnv(K)}compileAsync(M,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return O.call(this,M,B);async function O(oe,_e){await k.call(this,oe.$schema);const ye=this._addSchema(oe,_e);return ye.validate||q.call(this,ye)}async function k(oe){oe&&!this.getSchema(oe)&&await O.call(this,{$ref:oe},!0)}async function q(oe){try{return this._compileSchemaEnv(oe)}catch(_e){if(!(_e instanceof i.default))throw _e;return ie.call(this,_e),await J.call(this,_e.missingSchema),q.call(this,oe)}}function ie({missingSchema:oe,missingRef:_e}){if(this.refs[oe])throw new Error(`AnySchema ${oe} is loaded but ${_e} cannot be resolved`)}async function J(oe){const _e=await Y.call(this,oe);this.refs[oe]||await k.call(this,_e.$schema),this.refs[oe]||this.addSchema(_e,oe,B)}async function Y(oe){const _e=this._loading[oe];if(_e)return _e;try{return await(this._loading[oe]=K(oe))}finally{delete this._loading[oe]}}}addSchema(M,B,K,O=this.opts.validateSchema){if(Array.isArray(M)){for(const q of M)this.addSchema(q,void 0,K,O);return this}let k;if(typeof M=="object"){const{schemaId:q}=this.opts;if(k=M[q],k!==void 0&&typeof k!="string")throw new Error(`schema ${q} must be string`)}return B=(0,l.normalizeId)(B||k),this._checkUnique(B),this.schemas[B]=this._addSchema(M,K,B,O,!0),this}addMetaSchema(M,B,K=this.opts.validateSchema){return this.addSchema(M,B,!0,K),this}validateSchema(M,B){if(typeof M=="boolean")return!0;let K;if(K=M.$schema,K!==void 0&&typeof K!="string")throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const O=this.validate(K,M);if(!O&&B){const k="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(k);else throw new Error(k)}return O}getSchema(M){let B;for(;typeof(B=T.call(this,M))=="string";)M=B;if(B===void 0){const{schemaId:K}=this.opts,O=new a.SchemaEnv({schema:{},schemaId:K});if(B=a.resolveSchema.call(this,O,M),!B)return;this.refs[M]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(M){if(M instanceof RegExp)return this._removeAllSchemas(this.schemas,M),this._removeAllSchemas(this.refs,M),this;switch(typeof M){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=T.call(this,M);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[M],delete this.refs[M],this}case"object":{const B=M;this._cache.delete(B);let K=M[this.opts.schemaId];return K&&(K=(0,l.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(M){for(const B of M)this.addKeyword(B);return this}addKeyword(M,B){let K;if(typeof M=="string")K=M,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=K);else if(typeof M=="object"&&B===void 0){if(B=M,K=B.keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(X.call(this,K,B),!B)return(0,f.eachItem)(K,k=>G.call(this,k)),this;ce.call(this,B);const O={...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)};return(0,f.eachItem)(K,O.type.length===0?k=>G.call(this,k,O):k=>O.type.forEach(q=>G.call(this,k,O,q))),this}getKeyword(M){const B=this.RULES.all[M];return typeof B=="object"?B.definition:!!B}removeKeyword(M){const{RULES:B}=this;delete B.keywords[M],delete B.all[M];for(const K of B.rules){const O=K.rules.findIndex(k=>k.keyword===M);O>=0&&K.rules.splice(O,1)}return this}addFormat(M,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[M]=B,this}errorsText(M=this.errors,{separator:B=", ",dataVar:K="data"}={}){return!M||M.length===0?"No errors":M.map(O=>`${K}${O.instancePath} ${O.message}`).reduce((O,k)=>O+B+k)}$dataMetaSchema(M,B){const K=this.RULES.all;M=JSON.parse(JSON.stringify(M));for(const O of B){const k=O.split("/").slice(1);let q=M;for(const ie of k)q=q[ie];for(const ie in K){const J=K[ie];if(typeof J!="object")continue;const{$data:Y}=J.definition,oe=q[ie];Y&&oe&&(q[ie]=ae(oe))}}return M}_removeAllSchemas(M,B){for(const K in M){const O=M[K];(!B||B.test(K))&&(typeof O=="string"?delete M[K]:O&&!O.meta&&(this._cache.delete(O.schema),delete M[K]))}}_addSchema(M,B,K,O=this.opts.validateSchema,k=this.opts.addUsedSchema){let q;const{schemaId:ie}=this.opts;if(typeof M=="object")q=M[ie];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof M!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(M);if(J!==void 0)return J;K=(0,l.normalizeId)(q||K);const Y=l.getSchemaRefs.call(this,M,K);return J=new a.SchemaEnv({schema:M,schemaId:ie,meta:B,baseId:K,localRefs:Y}),this._cache.set(J.schema,J),k&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=J),O&&this.validateSchema(M,!0),J}_checkUnique(M){if(this.schemas[M]||this.refs[M])throw new Error(`schema with key or id "${M}" already exists`)}_compileSchemaEnv(M){if(M.meta?this._compileMetaSchema(M):a.compileSchema.call(this,M),!M.validate)throw new Error("ajv implementation error");return M.validate}_compileMetaSchema(M){const B=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,M)}finally{this.opts=B}}};e.default=S,S.ValidationError=n.default,S.MissingRefError=i.default;function $(M,B,K,O="error"){for(const k in M){const q=k;q in B&&this.logger[O](`${K}: option ${k}. ${M[q]}`)}}function T(M){return M=(0,l.normalizeId)(M),this.schemas[M]||this.refs[M]}function d(){const M=this.opts.schemas;if(M)if(Array.isArray(M))this.addSchema(M);else for(const B in M)this.addSchema(M[B],B)}function A(){for(const M in this.opts.formats){const B=this.opts.formats[M];B&&this.addFormat(M,B)}}function P(M){if(Array.isArray(M)){this.addVocabulary(M);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in M){const K=M[B];K.keyword||(K.keyword=B),this.addKeyword(K)}}function x(){const M={...this.opts};for(const B of g)delete M[B];return M}var D={log(){},warn(){},error(){}};function F(M){if(M===!1)return D;if(M===void 0)return console;if(M.log&&M.warn&&M.error)return M;throw new Error("logger must implement log, warn and error methods")}var V=/^[a-z_$][a-z0-9_$:-]*$/i;function X(M,B){const{RULES:K}=this;if((0,f.eachItem)(M,O=>{if(K.keywords[O])throw new Error(`Keyword ${O} is already defined`);if(!V.test(O))throw new Error(`Keyword ${O} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function G(M,B,K){var O;const k=B==null?void 0:B.post;if(K&&k)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let ie=k?q.post:q.rules.find(({type:Y})=>Y===K);if(ie||(ie={type:K,rules:[]},q.rules.push(ie)),q.keywords[M]=!0,!B)return;const J={keyword:M,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?Q.call(this,ie,J,B.before):ie.rules.push(J),q.all[M]=J,(O=B.implements)===null||O===void 0||O.forEach(Y=>this.addKeyword(Y))}function Q(M,B,K){const O=M.rules.findIndex(k=>k.keyword===K);O>=0?M.rules.splice(O,0,B):(M.rules.push(B),this.logger.warn(`rule ${K} is not defined`))}function ce(M){let{metaSchema:B}=M;B!==void 0&&(M.$data&&this.opts.$data&&(B=ae(B)),M.validateSchema=this.compile(B,!0))}var ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ae(M){return{anyOf:[M,ee]}}}}),hee=Oe({"../core/node_modules/ajv/dist/vocabularies/core/id.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),pee=Oe({"../core/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=xR(),r=ds(),n=yr(),i=rc(),o=OR(),a=Fr(),s={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:h,it:m}=f,{baseId:g,schemaEnv:_,validateName:v,opts:p,self:E}=m,{root:y}=_;if((h==="#"||h==="#/")&&g===y.baseId)return $();const S=o.resolveRef.call(E,y,g,h);if(S===void 0)throw new t.default(m.opts.uriResolver,g,h);if(S instanceof o.SchemaEnv)return T(S);return d(S);function $(){if(_===y)return u(f,v,_,_.$async);const A=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${A}.validate`,y,y.$async)}function T(A){const P=l(f,A);u(f,P,A,A.$async)}function d(A){const P=c.scopeValue("schema",p.code.source===!0?{ref:A,code:(0,n.stringify)(A)}:{ref:A}),x=c.name("valid"),D=f.subschema({schema:A,dataTypes:[],schemaPath:n.nil,topSchemaRef:P,errSchemaPath:h},x);f.mergeEvaluated(D),f.ok(x)}}};function l(f,c){const{gen:h}=f;return c.validate?h.scopeValue("validate",{ref:c.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,h,m){const{gen:g,it:_}=f,{allErrors:v,schemaEnv:p,opts:E}=_,y=E.passContext?i.default.this:n.nil;m?S():$();function S(){if(!p.$async)throw new Error("async schema referenced by sync schema");const A=g.let("valid");g.try(()=>{g.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||g.assign(A,!0)},P=>{g.if((0,n._)`!(${P} instanceof ${_.ValidationError})`,()=>g.throw(P)),T(P),v||g.assign(A,!1)}),f.ok(A)}function $(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>T(c))}function T(A){const P=(0,n._)`${A}.errors`;g.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${P} : ${i.default.vErrors}.concat(${P})`),g.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(A){var P;if(!_.opts.unevaluated)return;const x=(P=h==null?void 0:h.validate)===null||P===void 0?void 0:P.evaluated;if(_.props!==!0)if(x&&!x.dynamicProps)x.props!==void 0&&(_.props=a.mergeEvaluated.props(g,x.props,_.props));else{const D=g.var("props",(0,n._)`${A}.evaluated.props`);_.props=a.mergeEvaluated.props(g,D,_.props,n.Name)}if(_.items!==!0)if(x&&!x.dynamicItems)x.items!==void 0&&(_.items=a.mergeEvaluated.items(g,x.items,_.items));else{const D=g.var("items",(0,n._)`${A}.evaluated.items`);_.items=a.mergeEvaluated.items(g,D,_.items,n.Name)}}}e.callRef=u,e.default=s}}),mee=Oe({"../core/node_modules/ajv/dist/vocabularies/core/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=hee(),r=pee(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),gee=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=yr(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:a,schemaCode:s})=>(0,t.str)`must be ${n[a].okStr} ${s}`,params:({keyword:a,schemaCode:s})=>(0,t._)`{comparison: ${n[a].okStr}, limit: ${s}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u}=a;a.fail$data((0,t._)`${l} ${n[s].fail} ${u} || isNaN(${l})`)}};e.default=o}}),vee=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=yr(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:a,schemaCode:s,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${s} === 0 || (${f} = ${a}/${s}, ${c}))`)}};e.default=n}}),yee=Oe({"../core/node_modules/ajv/dist/runtime/ucs2length.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,a;for(;o<n;)i++,a=r.charCodeAt(o++),a>=55296&&a<=56319&&o<n&&(a=r.charCodeAt(o),(a&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),wee=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=yr(),r=Fr(),n=yee(),i={message({keyword:a,schemaCode:s}){const l=a==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${s} characters`},params:({schemaCode:a})=>(0,t._)`{limit: ${a}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u,it:f}=a,c=s==="maxLength"?t.operators.GT:t.operators.LT,h=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(a.gen,n.default)}(${l})`;a.fail$data((0,t._)`${h} ${c} ${u}`)}};e.default=o}}),bee=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=ds(),r=yr(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:a,$data:s,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",h=s?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${h}.test(${a})`)}};e.default=i}}),_ee=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=yr(),r={message({keyword:i,schemaCode:o}){const a=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${a}).length ${l} ${s}`)}};e.default=n}}),Eee=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=ds(),r=yr(),n=Fr(),i={message:({params:{missingProperty:a}})=>(0,r.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,r._)`{missingProperty: ${a}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,schema:l,schemaCode:u,data:f,$data:c,it:h}=a,{opts:m}=h;if(!c&&l.length===0)return;const g=l.length>=m.loopRequired;if(h.allErrors?_():v(),m.strictRequired){const y=a.parentSchema.properties,{definedProperties:S}=a.it;for(const $ of l)if((y==null?void 0:y[$])===void 0&&!S.has($)){const T=h.schemaEnv.baseId+h.errSchemaPath,d=`required property "${$}" is not defined at "${T}" (strictRequired)`;(0,n.checkStrictMode)(h,d,h.opts.strictRequired)}}function _(){if(g||c)a.block$data(r.nil,p);else for(const y of l)(0,t.checkReportMissingProp)(a,y)}function v(){const y=s.let("missing");if(g||c){const S=s.let("valid",!0);a.block$data(S,()=>E(y,S)),a.ok(S)}else s.if((0,t.checkMissingProp)(a,l,y)),(0,t.reportMissingProp)(a,y),s.else()}function p(){s.forOf("prop",u,y=>{a.setParams({missingProperty:y}),s.if((0,t.noPropertyInData)(s,f,y,m.ownProperties),()=>a.error())})}function E(y,S){a.setParams({missingProperty:y}),s.forOf(y,u,()=>{s.assign(S,(0,t.propertyInData)(s,f,y,m.ownProperties)),s.if((0,r.not)(S),()=>{a.error(),s.break()})},r.nil)}}};e.default=o}}),See=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=yr(),r={message({keyword:i,schemaCode:o}){const a=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${a}.length ${l} ${s}`)}};e.default=n}}),RR=Oe({"../core/node_modules/ajv/dist/runtime/equal.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Oh();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),$ee=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Rb(),r=yr(),n=Fr(),i=RR(),o={message:({params:{i:s,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${s} are identical)`,params:({params:{i:s,j:l}})=>(0,r._)`{i: ${s}, j: ${l}}`},a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(s){const{gen:l,data:u,$data:f,schema:c,parentSchema:h,schemaCode:m,it:g}=s;if(!f&&!c)return;const _=l.let("valid"),v=h.items?(0,t.getSchemaTypes)(h.items):[];s.block$data(_,p,(0,r._)`${m} === false`),s.ok(_);function p(){const $=l.let("i",(0,r._)`${u}.length`),T=l.let("j");s.setParams({i:$,j:T}),l.assign(_,!0),l.if((0,r._)`${$} > 1`,()=>(E()?y:S)($,T))}function E(){return v.length>0&&!v.some($=>$==="object"||$==="array")}function y($,T){const d=l.name("item"),A=(0,t.checkDataTypes)(v,d,g.opts.strictNumbers,t.DataType.Wrong),P=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${$}--;`,()=>{l.let(d,(0,r._)`${u}[${$}]`),l.if(A,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${P}[${d}] == "number"`,()=>{l.assign(T,(0,r._)`${P}[${d}]`),s.error(),l.assign(_,!1).break()}).code((0,r._)`${P}[${d}] = ${$}`)})}function S($,T){const d=(0,n.useFunc)(l,i.default),A=l.name("outer");l.label(A).for((0,r._)`;${$}--;`,()=>l.for((0,r._)`${T} = ${$}; ${T}--;`,()=>l.if((0,r._)`${d}(${u}[${$}], ${u}[${T}])`,()=>{s.error(),l.assign(_,!1).break(A)})))}}};e.default=a}}),Tee=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=yr(),r=Fr(),n=RR(),i={message:"must be equal to constant",params:({schemaCode:a})=>(0,t._)`{allowedValue: ${a}}`},o={keyword:"const",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schemaCode:f,schema:c}=a;u||c&&typeof c=="object"?a.fail$data((0,t._)`!${(0,r.useFunc)(s,n.default)}(${l}, ${f})`):a.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),Aee=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=yr(),r=Fr(),n=RR(),i={message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,t._)`{allowedValues: ${a}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schema:f,schemaCode:c,it:h}=a;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=h.opts.loopEnum;let g;const _=()=>g??(g=(0,r.useFunc)(s,n.default));let v;if(m||u)v=s.let("valid"),a.block$data(v,p);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=s.const("vSchema",c);v=(0,t.or)(...f.map((S,$)=>E(y,$)))}a.pass(v);function p(){s.assign(v,!1),s.forOf("v",c,y=>s.if((0,t._)`${_()}(${l}, ${y})`,()=>s.assign(v,!0).break()))}function E(y,S){const $=f[S];return typeof $=="object"&&$!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${$}`}}};e.default=o}}),Pee=Oe({"../core/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=gee(),r=vee(),n=wee(),i=bee(),o=_ee(),a=Eee(),s=See(),l=$ee(),u=Tee(),f=Aee(),c=[t.default,r.default,n.default,i.default,o.default,a.default,s.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),C6=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=yr(),r=Fr(),n={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(a){const{parentSchema:s,it:l}=a,{items:u}=s;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(a,u)}};function o(a,s){const{gen:l,schema:u,data:f,keyword:c,it:h}=a;h.items=!0;const m=l.const("len",(0,t._)`${f}.length`);if(u===!1)a.setParams({len:s.length}),a.pass((0,t._)`${m} <= ${s.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(h,u)){const _=l.var("valid",(0,t._)`${m} <= ${s.length}`);l.if((0,t.not)(_),()=>g(_)),a.ok(_)}function g(_){l.forRange("i",s.length,m,v=>{a.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),h.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),k6=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=yr(),r=Fr(),n=ds(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:s,it:l}=a;if(Array.isArray(s))return o(a,"additionalItems",s);l.items=!0,!(0,r.alwaysValidSchema)(l,s)&&a.ok((0,n.validateArray)(a))}};function o(a,s,l=a.schema){const{gen:u,parentSchema:f,data:c,keyword:h,it:m}=a;v(f),m.opts.unevaluated&&l.length&&m.items!==!0&&(m.items=r.mergeEvaluated.items(u,l.length,m.items));const g=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((p,E)=>{(0,r.alwaysValidSchema)(m,p)||(u.if((0,t._)`${_} > ${E}`,()=>a.subschema({keyword:h,schemaProp:E,dataProp:E},g)),a.ok(g))});function v(p){const{opts:E,errSchemaPath:y}=m,S=l.length,$=S===p.minItems&&(S===p.maxItems||p[s]===!1);if(E.strictTuples&&!$){const T=`"${h}" is ${S}-tuple, but minItems or maxItems/${s} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(m,T,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),xee=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=k6(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),Oee=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=yr(),r=Fr(),n=ds(),i=C6(),o={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(s){const{schema:l,parentSchema:u,it:f}=s,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(s,c):s.ok((0,n.validateArray)(s)))}};e.default=a}}),Ree=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=yr(),r=Fr(),n={message:({params:{min:o,max:a}})=>a===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${a} valid item(s)`,params:({params:{min:o,max:a}})=>a===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${a}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,data:u,it:f}=o;let c,h;const{minContains:m,maxContains:g}=l;f.opts.next?(c=m===void 0?1:m,h=g):c=1;const _=a.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:h}),h===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&c>h){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,s)){let S=(0,t._)`${_} >= ${c}`;h!==void 0&&(S=(0,t._)`${S} && ${_} <= ${h}`),o.pass(S);return}f.items=!0;const v=a.name("valid");h===void 0&&c===1?E(v,()=>a.if(v,()=>a.break())):c===0?(a.let(v,!0),h!==void 0&&a.if((0,t._)`${u}.length > 0`,p)):(a.let(v,!1),p()),o.result(v,()=>o.reset());function p(){const S=a.name("_valid"),$=a.let("count",0);E(S,()=>a.if(S,()=>y($)))}function E(S,$){a.forRange("i",0,_,T=>{o.subschema({keyword:"contains",dataProp:T,dataPropType:r.Type.Num,compositeRule:!0},S),$()})}function y(S){a.code((0,t._)`${S}++`),h===void 0?a.if((0,t._)`${S} >= ${c}`,()=>a.assign(v,!0).break()):(a.if((0,t._)`${S} > ${h}`,()=>a.assign(v,!1).break()),c===1?a.assign(v,!0):a.if((0,t._)`${S} >= ${c}`,()=>a.assign(v,!0)))}}};e.default=i}}),Iee=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=yr(),r=Fr(),n=ds();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);a(l,u),s(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?u:f;h[c]=l[c]}return[u,f]}function a(l,u=l.schema){const{gen:f,data:c,it:h}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,h.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(v,()=>{for(const p of _)(0,n.checkReportMissingProp)(l,p)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=a;function s(l,u=l.schema){const{gen:f,data:c,keyword:h,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=s,e.default=i}}),Nee=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=yr(),r=Fr(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:a,schema:s,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,s))return;const f=a.name("valid");a.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),a.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||a.break()})}),o.ok(f)}};e.default=i}}),j6=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=ds(),r=yr(),n=rc(),i=Fr(),o={message:"must NOT have additional properties",params:({params:s})=>(0,r._)`{additionalProperty: ${s.additionalProperty}}`},a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(s){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:h,it:m}=s;if(!h)throw new Error("ajv implementation error");const{allErrors:g,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(m,u))return;const v=(0,t.allSchemaProperties)(f.properties),p=(0,t.allSchemaProperties)(f.patternProperties);E(),s.ok((0,r._)`${h} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!p.length?$(d):l.if(y(d),()=>$(d))})}function y(d){let A;if(v.length>8){const P=(0,i.schemaRefOrVal)(m,f.properties,"properties");A=(0,t.isOwnProperty)(l,P,d)}else v.length?A=(0,r.or)(...v.map(P=>(0,r._)`${d} === ${P}`)):A=r.nil;return p.length&&(A=(0,r.or)(A,...p.map(P=>(0,r._)`${(0,t.usePattern)(s,P)}.test(${d})`))),(0,r.not)(A)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function $(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){s.setParams({additionalProperty:d}),s.error(),g||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(m,u)){const A=l.name("valid");_.removeAdditional==="failing"?(T(d,A,!1),l.if((0,r.not)(A),()=>{s.reset(),S(d)})):(T(d,A),g||l.if((0,r.not)(A),()=>l.break()))}}function T(d,A,P){const x={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};P===!1&&Object.assign(x,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(x,A)}}};e.default=a}}),Cee=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=X_(),r=ds(),n=Fr(),i=j6(),o={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,parentSchema:u,data:f,it:c}=a;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const h=(0,r.allSchemaProperties)(l);for(const p of h)c.definedProperties.add(p);c.opts.unevaluated&&h.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(s,(0,n.toHash)(h),c.props));const m=h.filter(p=>!(0,n.alwaysValidSchema)(c,l[p]));if(m.length===0)return;const g=s.name("valid");for(const p of m)_(p)?v(p):(s.if((0,r.propertyInData)(s,f,p,c.opts.ownProperties)),v(p),c.allErrors||s.else().var(g,!0),s.endIf()),a.it.definedProperties.add(p),a.ok(g);function _(p){return c.opts.useDefaults&&!c.compositeRule&&l[p].default!==void 0}function v(p){a.subschema({keyword:"properties",schemaProp:p,dataProp:p},g)}}};e.default=o}}),kee=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=ds(),r=yr(),n=Fr(),i=Fr(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,data:u,parentSchema:f,it:c}=a,{opts:h}=c,m=(0,t.allSchemaProperties)(l),g=m.filter($=>(0,n.alwaysValidSchema)(c,l[$]));if(m.length===0||g.length===m.length&&(!c.opts.unevaluated||c.props===!0))return;const _=h.strictSchema&&!h.allowMatchingProperties&&f.properties,v=s.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(s,c.props));const{props:p}=c;E();function E(){for(const $ of m)_&&y($),c.allErrors?S($):(s.var(v,!0),S($),s.if(v))}function y($){for(const T in _)new RegExp($).test(T)&&(0,n.checkStrictMode)(c,`property ${T} matches pattern ${$} (use allowMatchingProperties)`)}function S($){s.forIn("key",u,T=>{s.if((0,r._)`${(0,t.usePattern)(a,$)}.test(${T})`,()=>{const d=g.includes($);d||a.subschema({keyword:"patternProperties",schemaProp:$,dataProp:T,dataPropType:i.Type.Str},v),c.opts.unevaluated&&p!==!0?s.assign((0,r._)`${p}[${T}]`,!0):!d&&!c.allErrors&&s.if((0,r.not)(v),()=>s.break())})})}}};e.default=o}}),jee=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Fr(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:a}=n;if((0,t.alwaysValidSchema)(a,o)){n.fail();return}const s=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),Dee=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=ds(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),Mee=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=yr(),r=Fr(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,it:u}=o;if(!Array.isArray(s))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=s,c=a.let("valid",!1),h=a.let("passing",null),m=a.name("_valid");o.setParams({passing:h}),a.block(g),o.result(c,()=>o.reset(),()=>o.error(!0));function g(){f.forEach((_,v)=>{let p;(0,r.alwaysValidSchema)(u,_)?a.var(m,!0):p=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},m),v>0&&a.if((0,t._)`${m} && ${c}`).assign(c,!1).assign(h,(0,t._)`[${h}, ${v}]`).else(),a.if(m,()=>{a.assign(c,!0),a.assign(h,v),p&&o.mergeEvaluated(p,t.Name)})})}}};e.default=i}}),Lee=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Fr(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:a}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const s=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(a,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},s);n.ok(s),n.mergeEvaluated(f)})}};e.default=r}}),Fee=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=yr(),r=Fr(),n={message:({params:a})=>(0,t.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,t._)`{failingKeyword: ${a.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(a){const{gen:s,parentSchema:l,it:u}=a;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const h=s.let("valid",!0),m=s.name("_valid");if(g(),a.reset(),f&&c){const v=s.let("ifClause");a.setParams({ifClause:v}),s.if(m,_("then",v),_("else",v))}else f?s.if(m,_("then")):s.if((0,t.not)(m),_("else"));a.pass(h,()=>a.error(!0));function g(){const v=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);a.mergeEvaluated(v)}function _(v,p){return()=>{const E=a.subschema({keyword:v},m);s.assign(h,m),a.mergeValidEvaluated(E,h),p?s.assign(p,(0,t._)`${v}`):a.setParams({ifClause:v})}}}};function o(a,s){const l=a.schema[s];return l!==void 0&&!(0,r.alwaysValidSchema)(a,l)}e.default=i}}),Bee=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Fr(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),Uee=Oe({"../core/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=C6(),r=xee(),n=k6(),i=Oee(),o=Ree(),a=Iee(),s=Nee(),l=j6(),u=Cee(),f=kee(),c=jee(),h=Dee(),m=Mee(),g=Lee(),_=Fee(),v=Bee();function p(E=!1){const y=[c.default,h.default,m.default,g.default,_.default,v.default,s.default,l.default,a.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=p}}),zee=Oe({"../core/node_modules/ajv/dist/vocabularies/format/format.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=yr(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:a,data:s,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:h,errSchemaPath:m,schemaEnv:g,self:_}=c;if(!h.validateFormats)return;l?v():p();function v(){const E=a.scopeValue("formats",{ref:_.formats,code:h.code.formats}),y=a.const("fDef",(0,t._)`${E}[${f}]`),S=a.let("fType"),$=a.let("format");a.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>a.assign(S,(0,t._)`${y}.type || "string"`).assign($,(0,t._)`${y}.validate`),()=>a.assign(S,(0,t._)`"string"`).assign($,y)),i.fail$data((0,t.or)(T(),d()));function T(){return h.strictSchema===!1?t.nil:(0,t._)`${f} && !${$}`}function d(){const A=g.$async?(0,t._)`(${y}.async ? await ${$}(${s}) : ${$}(${s}))`:(0,t._)`${$}(${s})`,P=(0,t._)`(typeof ${$} == "function" ? ${A} : ${$}.test(${s}))`;return(0,t._)`${$} && ${$} !== true && ${S} === ${o} && !${P}`}}function p(){const E=_.formats[u];if(!E){T();return}if(E===!0)return;const[y,S,$]=d(E);y===o&&i.pass(A());function T(){if(h.strictSchema===!1){_.logger.warn(P());return}throw new Error(P());function P(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function d(P){const x=P instanceof RegExp?(0,t.regexpCode)(P):h.code.formats?(0,t._)`${h.code.formats}${(0,t.getProperty)(u)}`:void 0,D=a.scopeValue("formats",{key:u,ref:P,code:x});return typeof P=="object"&&!(P instanceof RegExp)?[P.type||"string",P.validate,(0,t._)`${D}.validate`]:["string",P,D]}function A(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!g.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${s})`}return typeof S=="function"?(0,t._)`${$}(${s})`:(0,t._)`${$}.test(${s})`}}}};e.default=n}}),qee=Oe({"../core/node_modules/ajv/dist/vocabularies/format/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=zee(),r=[t.default];e.default=r}}),Vee=Oe({"../core/node_modules/ajv/dist/vocabularies/metadata.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),Hee=Oe({"../core/node_modules/ajv/dist/vocabularies/draft7.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=mee(),r=Pee(),n=Uee(),i=qee(),o=Vee(),a=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=a}}),Gee=Oe({"../core/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))}}),Wee=Oe({"../core/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=yr(),r=Gee(),n=OR(),i=Fr(),o={message:({params:{discrError:s,tagName:l}})=>s===r.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:s,tag:l,tagName:u}})=>(0,t._)`{error: ${s}, tag: ${u}, tagValue: ${l}}`},a={keyword:"discriminator",type:"object",schemaType:"object",error:o,code(s){const{gen:l,data:u,schema:f,parentSchema:c,it:h}=s,{oneOf:m}=c;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");const g=f.propertyName;if(typeof g!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const _=l.let("valid",!1),v=l.const("tag",(0,t._)`${u}${(0,t.getProperty)(g)}`);l.if((0,t._)`typeof ${v} == "string"`,()=>p(),()=>s.error(!1,{discrError:r.DiscrError.Tag,tag:v,tagName:g})),s.ok(_);function p(){const S=y();l.if(!1);for(const $ in S)l.elseIf((0,t._)`${v} === ${$}`),l.assign(_,E(S[$]));l.else(),s.error(!1,{discrError:r.DiscrError.Mapping,tag:v,tagName:g}),l.endIf()}function E(S){const $=l.name("valid"),T=s.subschema({keyword:"oneOf",schemaProp:S},$);return s.mergeEvaluated(T,t.Name),$}function y(){var S;const $={},T=A(c);let d=!0;for(let D=0;D<m.length;D++){let F=m[D];F!=null&&F.$ref&&!(0,i.schemaHasRulesButRef)(F,h.self.RULES)&&(F=n.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,F==null?void 0:F.$ref),F instanceof n.SchemaEnv&&(F=F.schema));const V=(S=F==null?void 0:F.properties)===null||S===void 0?void 0:S[g];if(typeof V!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${g}"`);d=d&&(T||A(F)),P(V,D)}if(!d)throw new Error(`discriminator: "${g}" must be required`);return $;function A({required:D}){return Array.isArray(D)&&D.includes(g)}function P(D,F){if(D.const)x(D.const,F);else if(D.enum)for(const V of D.enum)x(V,F);else throw new Error(`discriminator: "properties/${g}" must have "const" or "enum"`)}function x(D,F){if(typeof D!="string"||D in $)throw new Error(`discriminator: "${g}" values must be unique strings`);$[D]=F}}}};e.default=a}}),Kee=Oe({"../core/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),D6=Oe({"../core/node_modules/ajv/dist/ajv.js"(e,t){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=dee(),n=Hee(),i=Wee(),o=Kee(),a=["/properties"],s="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(m,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}};t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=X_();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=yr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=PR();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=xR();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}}),Jee=Oe({"../../node_modules/ajv-formats/dist/formats.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(P,x){return{validate:P,compare:x}}e.fullFormats={date:t(o,a),time:t(l,u),"date-time":t(c,h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:A,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:p,int32:{type:"number",validate:S},int64:{type:"number",validate:$},float:{type:"number",validate:T},double:{type:"number",validate:T},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(P){return P%4===0&&(P%100!==0||P%400===0)}var n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(P){const x=n.exec(P);if(!x)return!1;const D=+x[1],F=+x[2],V=+x[3];return F>=1&&F<=12&&V>=1&&V<=(F===2&&r(D)?29:i[F])}function a(P,x){if(P&&x)return P>x?1:P<x?-1:0}var s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(P,x){const D=s.exec(P);if(!D)return!1;const F=+D[1],V=+D[2],X=+D[3],G=D[5];return(F<=23&&V<=59&&X<=59||F===23&&V===59&&X===60)&&(!x||G!=="")}function u(P,x){if(!(P&&x))return;const D=s.exec(P),F=s.exec(x);if(D&&F)return P=D[1]+D[2]+D[3]+(D[4]||""),x=F[1]+F[2]+F[3]+(F[4]||""),P>x?1:P<x?-1:0}var f=/t|\s/i;function c(P){const x=P.split(f);return x.length===2&&o(x[0])&&l(x[1],!0)}function h(P,x){if(!(P&&x))return;const[D,F]=P.split(f),[V,X]=x.split(f),G=a(D,V);if(G!==void 0)return G||u(F,X)}var m=/\/|:/,g=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function _(P){return m.test(P)&&g.test(P)}var v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function p(P){return v.lastIndex=0,v.test(P)}var E=-2147483648,y=2**31-1;function S(P){return Number.isInteger(P)&&P<=y&&P>=E}function $(P){return Number.isInteger(P)}function T(){return!0}var d=/[^\\]\\Z/;function A(P){if(d.test(P))return!1;try{return new RegExp(P),!0}catch{return!1}}}}),Ib=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/code.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(p,...E){const y=[p[0]];let S=0;for(;S<E.length;)s(y,E[S]),y.push(p[++S]);return new n(y)}e._=i;var o=new n("+");function a(p,...E){const y=[m(p[0])];let S=0;for(;S<E.length;)y.push(o),s(y,E[S]),y.push(o,m(p[++S]));return l(y),new n(y)}e.str=a;function s(p,E){E instanceof n?p.push(...E._items):E instanceof r?p.push(E):p.push(c(E))}e.addCodeArg=s;function l(p){let E=1;for(;E<p.length-1;){if(p[E]===o){const y=u(p[E-1],p[E+1]);if(y!==void 0){p.splice(E-1,3,y);continue}p[E++]="+"}E++}}function u(p,E){if(E==='""')return p;if(p==='""')return E;if(typeof p=="string")return E instanceof r||p[p.length-1]!=='"'?void 0:typeof E!="string"?`${p.slice(0,-1)}${E}"`:E[0]==='"'?p.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(p instanceof r))return`"${p}${E.slice(1)}`}function f(p,E){return E.emptyStr()?p:p.emptyStr()?E:a`${p}${E}`}e.strConcat=f;function c(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:m(Array.isArray(p)?p.join(","):p)}function h(p){return new n(m(p))}e.stringify=h;function m(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):i`[${p}]`}e.getProperty=g;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(p){return new n(p.toString())}e.regexpCode=v}}),Qj=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/scope.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=Ib(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var a=(0,t._)`\n`,s=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?a:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:h}=c,m=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[h];if(g){const p=g.get(m);if(p)return p}else g=this._values[h]=new Map;g.set(m,c);const _=this._scope[h]||(this._scope[h]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:h,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let h=t.nil;for(const m in l){const g=l[m];if(!g)continue;const _=f[m]=f[m]||new Map;g.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let p=u(v);if(p){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${E} ${v} = ${p};${this.opts._n}`}else if(p=c==null?void 0:c(v))h=(0,t._)`${h}${p}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return h}};e.ValueScope=s}}),dr=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=Ib(),r=Qj(),n=Ib();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=Qj();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(O,k){return this}},a=class extends o{constructor(O,k,q){super(),this.varKind=O,this.name=k,this.rhs=q}render({es5:O,_n:k}){const q=O?r.varKinds.var:this.varKind,ie=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${ie};`+k}optimizeNames(O,k){if(O[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,O,k)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},s=class extends o{constructor(O,k,q){super(),this.lhs=O,this.rhs=k,this.sideEffects=q}render({_n:O}){return`${this.lhs} = ${this.rhs};`+O}optimizeNames(O,k){if(!(this.lhs instanceof t.Name&&!O[this.lhs.str]&&!this.sideEffects))return this.rhs=X(this.rhs,O,k),this}get names(){const O=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(O,this.rhs)}},l=class extends s{constructor(O,k,q,ie){super(O,q,ie),this.op=k}render({_n:O}){return`${this.lhs} ${this.op}= ${this.rhs};`+O}},u=class extends o{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`${this.label}:`+O}},f=class extends o{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`break${this.label?` ${this.label}`:""};`+O}},c=class extends o{constructor(O){super(),this.error=O}render({_n:O}){return`throw ${this.error};`+O}get names(){return this.error.names}},h=class extends o{constructor(O){super(),this.code=O}render({_n:O}){return`${this.code};`+O}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(O,k){return this.code=X(this.code,O,k),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},m=class extends o{constructor(O=[]){super(),this.nodes=O}render(O){return this.nodes.reduce((k,q)=>k+q.render(O),"")}optimizeNodes(){const{nodes:O}=this;let k=O.length;for(;k--;){const q=O[k].optimizeNodes();Array.isArray(q)?O.splice(k,1,...q):q?O[k]=q:O.splice(k,1)}return O.length>0?this:void 0}optimizeNames(O,k){const{nodes:q}=this;let ie=q.length;for(;ie--;){const J=q[ie];J.optimizeNames(O,k)||(G(O,J.names),q.splice(ie,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((O,k)=>F(O,k.names),{})}},g=class extends m{render(O){return"{"+O._n+super.render(O)+"}"+O._n}},_=class extends m{},v=class extends g{};v.kind="else";var p=class fw extends g{constructor(k,q){super(q),this.condition=k}render(k){let q=`if(${this.condition})`+super.render(k);return this.else&&(q+="else "+this.else.render(k)),q}optimizeNodes(){super.optimizeNodes();const k=this.condition;if(k===!0)return this.nodes;let q=this.else;if(q){const ie=q.optimizeNodes();q=this.else=Array.isArray(ie)?new v(ie):ie}if(q)return k===!1?q instanceof fw?q:q.nodes:this.nodes.length?this:new fw(Q(k),q instanceof fw?[q]:q.nodes);if(!(k===!1||!this.nodes.length))return this}optimizeNames(k,q){var ie;if(this.else=(ie=this.else)===null||ie===void 0?void 0:ie.optimizeNames(k,q),!!(super.optimizeNames(k,q)||this.else))return this.condition=X(this.condition,k,q),this}get names(){const k=super.names;return V(k,this.condition),this.else&&F(k,this.else.names),k}};p.kind="if";var E=class extends g{};E.kind="for";var y=class extends E{constructor(O){super(),this.iteration=O}render(O){return`for(${this.iteration})`+super.render(O)}optimizeNames(O,k){if(super.optimizeNames(O,k))return this.iteration=X(this.iteration,O,k),this}get names(){return F(super.names,this.iteration.names)}},S=class extends E{constructor(O,k,q,ie){super(),this.varKind=O,this.name=k,this.from=q,this.to=ie}render(O){const k=O.es5?r.varKinds.var:this.varKind,{name:q,from:ie,to:J}=this;return`for(${k} ${q}=${ie}; ${q}<${J}; ${q}++)`+super.render(O)}get names(){const O=V(super.names,this.from);return V(O,this.to)}},$=class extends E{constructor(O,k,q,ie){super(),this.loop=O,this.varKind=k,this.name=q,this.iterable=ie}render(O){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(O)}optimizeNames(O,k){if(super.optimizeNames(O,k))return this.iterable=X(this.iterable,O,k),this}get names(){return F(super.names,this.iterable.names)}},T=class extends g{constructor(O,k,q){super(),this.name=O,this.args=k,this.async=q}render(O){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(O)}};T.kind="func";var d=class extends m{render(O){return"return "+super.render(O)}};d.kind="return";var A=class extends g{render(O){let k="try"+super.render(O);return this.catch&&(k+=this.catch.render(O)),this.finally&&(k+=this.finally.render(O)),k}optimizeNodes(){var O,k;return super.optimizeNodes(),(O=this.catch)===null||O===void 0||O.optimizeNodes(),(k=this.finally)===null||k===void 0||k.optimizeNodes(),this}optimizeNames(O,k){var q,ie;return super.optimizeNames(O,k),(q=this.catch)===null||q===void 0||q.optimizeNames(O,k),(ie=this.finally)===null||ie===void 0||ie.optimizeNames(O,k),this}get names(){const O=super.names;return this.catch&&F(O,this.catch.names),this.finally&&F(O,this.finally.names),O}},P=class extends g{constructor(O){super(),this.error=O}render(O){return`catch(${this.error})`+super.render(O)}};P.kind="catch";var x=class extends g{render(O){return"finally"+super.render(O)}};x.kind="finally";var D=class{constructor(O,k={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...k,_n:k.lines?`
`:""},this._extScope=O,this._scope=new r.Scope({parent:O}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(O){return this._scope.name(O)}scopeName(O){return this._extScope.name(O)}scopeValue(O,k){const q=this._extScope.value(O,k);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(O,k){return this._extScope.getValue(O,k)}scopeRefs(O){return this._extScope.scopeRefs(O,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(O,k,q,ie){const J=this._scope.toName(k);return q!==void 0&&ie&&(this._constants[J.str]=q),this._leafNode(new a(O,J,q)),J}const(O,k,q){return this._def(r.varKinds.const,O,k,q)}let(O,k,q){return this._def(r.varKinds.let,O,k,q)}var(O,k,q){return this._def(r.varKinds.var,O,k,q)}assign(O,k,q){return this._leafNode(new s(O,k,q))}add(O,k){return this._leafNode(new l(O,e.operators.ADD,k))}code(O){return typeof O=="function"?O():O!==t.nil&&this._leafNode(new h(O)),this}object(...O){const k=["{"];for(const[q,ie]of O)k.length>1&&k.push(","),k.push(q),(q!==ie||this.opts.es5)&&(k.push(":"),(0,t.addCodeArg)(k,ie));return k.push("}"),new t._Code(k)}if(O,k,q){if(this._blockNode(new p(O)),k&&q)this.code(k).else().code(q).endIf();else if(k)this.code(k).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(O){return this._elseNode(new p(O))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(O,k){return this._blockNode(O),k&&this.code(k).endFor(),this}for(O,k){return this._for(new y(O),k)}forRange(O,k,q,ie,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(O);return this._for(new S(J,Y,k,q),()=>ie(Y))}forOf(O,k,q,ie=r.varKinds.const){const J=this._scope.toName(O);if(this.opts.es5){const Y=k instanceof t.Name?k:this.var("_arr",k);return this.forRange("_i",0,(0,t._)`${Y}.length`,oe=>{this.var(J,(0,t._)`${Y}[${oe}]`),q(J)})}return this._for(new $("of",ie,J,k),()=>q(J))}forIn(O,k,q,ie=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(O,(0,t._)`Object.keys(${k})`,q);const J=this._scope.toName(O);return this._for(new $("in",ie,J,k),()=>q(J))}endFor(){return this._endBlockNode(E)}label(O){return this._leafNode(new u(O))}break(O){return this._leafNode(new f(O))}return(O){const k=new d;if(this._blockNode(k),this.code(O),k.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(O,k,q){if(!k&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const ie=new A;if(this._blockNode(ie),this.code(O),k){const J=this.name("e");this._currNode=ie.catch=new P(J),k(J)}return q&&(this._currNode=ie.finally=new x,this.code(q)),this._endBlockNode(P,x)}throw(O){return this._leafNode(new c(O))}block(O,k){return this._blockStarts.push(this._nodes.length),O&&this.code(O).endBlock(k),this}endBlock(O){const k=this._blockStarts.pop();if(k===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-k;if(q<0||O!==void 0&&q!==O)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${O} expected`);return this._nodes.length=k,this}func(O,k=t.nil,q,ie){return this._blockNode(new T(O,k,q)),ie&&this.code(ie).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(O=1){for(;O-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(O){return this._currNode.nodes.push(O),this}_blockNode(O){this._currNode.nodes.push(O),this._nodes.push(O)}_endBlockNode(O,k){const q=this._currNode;if(q instanceof O||k&&q instanceof k)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${k?`${O.kind}/${k.kind}`:O.kind}"`)}_elseNode(O){const k=this._currNode;if(!(k instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=k.else=O,this}get _root(){return this._nodes[0]}get _currNode(){const O=this._nodes;return O[O.length-1]}set _currNode(O){const k=this._nodes;k[k.length-1]=O}};e.CodeGen=D;function F(O,k){for(const q in k)O[q]=(O[q]||0)+(k[q]||0);return O}function V(O,k){return k instanceof t._CodeOrName?F(O,k.names):O}function X(O,k,q){if(O instanceof t.Name)return ie(O);if(!J(O))return O;return new t._Code(O._items.reduce((Y,oe)=>(oe instanceof t.Name&&(oe=ie(oe)),oe instanceof t._Code?Y.push(...oe._items):Y.push(oe),Y),[]));function ie(Y){const oe=q[Y.str];return oe===void 0||k[Y.str]!==1?Y:(delete k[Y.str],oe)}function J(Y){return Y instanceof t._Code&&Y._items.some(oe=>oe instanceof t.Name&&k[oe.str]===1&&q[oe.str]!==void 0)}}function G(O,k){for(const q in k)O[q]=(O[q]||0)-(k[q]||0)}function Q(O){return typeof O=="boolean"||typeof O=="number"||O===null?!O:(0,t._)`!${K(O)}`}e.not=Q;var ce=B(e.operators.AND);function ee(...O){return O.reduce(ce)}e.and=ee;var ae=B(e.operators.OR);function M(...O){return O.reduce(ae)}e.or=M;function B(O){return(k,q)=>k===t.nil?q:q===t.nil?k:(0,t._)`${K(k)} ${O} ${K(q)}`}function K(O){return O instanceof t.Name?O:(0,t._)`(${O})`}}}),Br=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/util.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=dr(),r=Ib();function n(T){const d={};for(const A of T)d[A]=!0;return d}e.toHash=n;function i(T,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(T,d),!a(d,T.self.RULES.all))}e.alwaysValidSchema=i;function o(T,d=T.schema){const{opts:A,self:P}=T;if(!A.strictSchema||typeof d=="boolean")return;const x=P.RULES.keywords;for(const D in d)x[D]||$(T,`unknown keyword: "${D}"`)}e.checkUnknownRules=o;function a(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(d[A])return!0;return!1}e.schemaHasRules=a;function s(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(A!=="$ref"&&d.all[A])return!0;return!1}e.schemaHasRulesButRef=s;function l({topSchemaRef:T,schemaPath:d},A,P,x){if(!x){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${T}${d}${(0,t.getProperty)(P)}`}e.schemaRefOrVal=l;function u(T){return h(decodeURIComponent(T))}e.unescapeFragment=u;function f(T){return encodeURIComponent(c(T))}e.escapeFragment=f;function c(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function h(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function m(T,d){if(Array.isArray(T))for(const A of T)d(A);else d(T)}e.eachItem=m;function g({mergeNames:T,mergeToName:d,mergeValues:A,resultToName:P}){return(x,D,F,V)=>{const X=F===void 0?D:F instanceof t.Name?(D instanceof t.Name?T(x,D,F):d(x,D,F),F):D instanceof t.Name?(d(x,F,D),D):A(D,F);return V===t.Name&&!(X instanceof t.Name)?P(x,X):X}}e.mergeEvaluated={props:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>{T.if((0,t._)`${d} === true`,()=>T.assign(A,!0),()=>T.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${d})`))}),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>{d===!0?T.assign(A,!0):(T.assign(A,(0,t._)`${A} || {}`),v(T,A,d))}),mergeValues:(T,d)=>T===!0?!0:{...T,...d},resultToName:_}),items:g({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>T.assign(A,(0,t._)`${d} === true ? true : ${A} > ${d} ? ${A} : ${d}`)),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>T.assign(A,d===!0?!0:(0,t._)`${A} > ${d} ? ${A} : ${d}`)),mergeValues:(T,d)=>T===!0?!0:Math.max(T,d),resultToName:(T,d)=>T.var("items",d)})};function _(T,d){if(d===!0)return T.var("props",!0);const A=T.var("props",(0,t._)`{}`);return d!==void 0&&v(T,A,d),A}e.evaluatedPropsToName=_;function v(T,d,A){Object.keys(A).forEach(P=>T.assign((0,t._)`${d}${(0,t.getProperty)(P)}`,!0))}e.setEvaluated=v;var p={};function E(T,d){return T.scopeValue("func",{ref:d,code:p[d.code]||(p[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(y=e.Type||(e.Type={}));function S(T,d,A){if(T instanceof t.Name){const P=d===y.Num;return A?P?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:P?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(T).toString():"/"+c(T)}e.getErrorPath=S;function $(T,d,A=T.opts.strictSchema){if(A){if(d=`strict mode: ${d}`,A===!0)throw new Error(d);T.self.logger.warn(d)}}e.checkStrictMode=$}}),nc=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/names.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),Q_=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/errors.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=dr(),r=Br(),n=nc();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,t.str)`"${v}" keyword must be ${p} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,p=e.keywordError,E,y){const{it:S}=v,{gen:$,compositeRule:T,allErrors:d}=S,A=c(v,p,E);y??(T||d)?l($,A):u(S,(0,t._)`[${A}]`)}e.reportError=i;function o(v,p=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:$,allErrors:T}=y,d=c(v,p,E);l(S,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function a(v,p){v.assign(n.default.errors,p),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,t._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:v,keyword:p,schemaValue:E,data:y,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${p}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,E),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=s;function l(v,p){const E=v.const("err",p);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,p){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${p})`):(E.assign((0,t._)`${y}.errors`,p),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,p,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:h(v,p,E)}function h(v,p,E={}){const{gen:y,it:S}=v,$=[m(S,E),g(v,E)];return _(v,p,$),y.object(...$)}function m({errorPath:v},{instancePath:p}){const E=p?(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:p}},{schemaPath:E,parentSchema:y}){let S=y?p:(0,t.str)`${p}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:p,message:E},y){const{keyword:S,data:$,schemaValue:T,it:d}=v,{opts:A,propertyName:P,topSchemaRef:x,schemaPath:D}=d;y.push([f.keyword,S],[f.params,typeof p=="function"?p(v):p||(0,t._)`{}`]),A.messages&&y.push([f.message,typeof E=="function"?E(v):E]),A.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${x}${D}`],[n.default.data,$]),P&&y.push([f.propertyName,P])}}}),Yee=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=Q_(),r=dr(),n=nc(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?s(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function a(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),s(l)):f.var(u,!0)}e.boolOrEmptySchema=a;function s(l,u){const{gen:f,data:c}=l,h={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(h,i,void 0,u)}}}),M6=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/rules.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),L6=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/applicability.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},a){const s=o.RULES.types[a];return s&&s!==!0&&r(i,s)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(a=>n(i,a))}e.shouldUseGroup=r;function n(i,o){var a;return i[o.keyword]!==void 0||((a=o.definition.implements)===null||a===void 0?void 0:a.some(s=>i[s]!==void 0))}e.shouldUseRule=n}}),Nb=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/dataType.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=M6(),r=L6(),n=Q_(),i=dr(),o=Br(),a;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(a=e.DataType||(e.DataType={}));function s(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=s;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:$,data:T,opts:d}=y,A=c(S,d.coerceTypes),P=S.length>0&&!(A.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(P){const x=_(S,T,d.strictNumbers,a.Wrong);$.if(x,()=>{A.length?h(y,S,A):p(y)})}return P}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter($=>f.has($)||S==="array"&&$==="array"):[]}function h(y,S,$){const{gen:T,data:d,opts:A}=y,P=T.let("dataType",(0,i._)`typeof ${d}`),x=T.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&T.if((0,i._)`${P} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>T.assign(d,(0,i._)`${d}[0]`).assign(P,(0,i._)`typeof ${d}`).if(_(S,d,A.strictNumbers),()=>T.assign(x,d))),T.if((0,i._)`${x} !== undefined`);for(const F of $)(f.has(F)||F==="array"&&A.coerceTypes==="array")&&D(F);T.else(),p(y),T.endIf(),T.if((0,i._)`${x} !== undefined`,()=>{T.assign(d,x),m(y,x)});function D(F){switch(F){case"string":T.elseIf((0,i._)`${P} == "number" || ${P} == "boolean"`).assign(x,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(x,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${P} == "boolean" || ${d} === null
              || (${P} == "string" && ${d} && ${d} == +${d})`).assign(x,(0,i._)`+${d}`);return;case"integer":T.elseIf((0,i._)`${P} === "boolean" || ${d} === null
              || (${P} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(x,(0,i._)`+${d}`);return;case"boolean":T.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(x,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(x,!0);return;case"null":T.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),T.assign(x,null);return;case"array":T.elseIf((0,i._)`${P} === "string" || ${P} === "number"
              || ${P} === "boolean" || ${d} === null`).assign(x,(0,i._)`[${d}]`)}}}function m({gen:y,parentData:S,parentDataProperty:$},T){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${$}]`,T))}function g(y,S,$,T=a.Correct){const d=T===a.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":A=(0,i._)`Array.isArray(${S})`;break;case"object":A=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":A=P((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":A=P();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return T===a.Correct?A:(0,i.not)(A);function P(x=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,x,$?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=g;function _(y,S,$,T){if(y.length===1)return g(y[0],S,$,T);let d;const A=(0,o.toHash)(y);if(A.array&&A.object){const P=(0,i._)`typeof ${S} != "object"`;d=A.null?P:(0,i._)`!${S} || ${P}`,delete A.null,delete A.array,delete A.object}else d=i.nil;A.number&&delete A.integer;for(const P in A)d=(0,i.and)(d,g(P,S,$,T));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function p(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=p;function E(y){const{gen:S,data:$,schema:T}=y,d=(0,o.schemaRefOrVal)(y,T,"type");return{gen:S,keyword:"type",data:$,schema:T.type,schemaCode:d,schemaValue:d,parentSchema:T,params:{},it:y}}}}),Xee=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/defaults.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=dr(),r=Br();function n(o,a){const{properties:s,items:l}=o.schema;if(a==="object"&&s)for(const u in s)i(o,u,s[u].default);else a==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,a,s){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(s===void 0)return;const h=(0,t._)`${f}${(0,t.getProperty)(a)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${h}`);return}let m=(0,t._)`${h} === undefined`;c.useDefaults==="empty"&&(m=(0,t._)`${m} || ${h} === null || ${h} === ""`),l.if(m,(0,t._)`${h} = ${(0,t.stringify)(s)}`)}}}),hs=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/code.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=dr(),r=Br(),n=nc(),i=Br();function o(y,S){const{gen:$,data:T,it:d}=y;$.if(c($,T,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function a({gen:y,data:S,it:{opts:$}},T,d){return(0,t.or)(...T.map(A=>(0,t.and)(c(y,S,A,$.ownProperties),(0,t._)`${d} = ${A}`)))}e.checkMissingProp=a;function s(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=s;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,$){return(0,t._)`${l(y)}.call(${S}, ${$})`}e.isOwnProperty=u;function f(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} !== undefined`;return T?(0,t._)`${d} && ${u(y,S,$)}`:d}e.propertyInData=f;function c(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} === undefined`;return T?(0,t.or)(d,(0,t.not)(u(y,S,$))):d}e.noPropertyInData=c;function h(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=h;function m(y,S){return h(S).filter($=>!(0,r.alwaysValidSchema)(y,S[$]))}e.schemaProperties=m;function g({schemaCode:y,data:S,it:{gen:$,topSchemaRef:T,schemaPath:d,errorPath:A},it:P},x,D,F){const V=F?(0,t._)`${y}, ${S}, ${T}${d}`:S,X=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,A)],[n.default.parentData,P.parentData],[n.default.parentDataProperty,P.parentDataProperty],[n.default.rootData,n.default.rootData]];P.opts.dynamicRef&&X.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const G=(0,t._)`${V}, ${$.object(...X)}`;return D!==t.nil?(0,t._)`${x}.call(${D}, ${G})`:(0,t._)`${x}(${G})`}e.callValidateCode=g;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},$){const T=S.unicodeRegExp?"u":"",{regExp:d}=S.code,A=d($,T);return y.scopeValue("pattern",{key:A.toString(),ref:A,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${$}, ${T})`})}e.usePattern=v;function p(y){const{gen:S,data:$,keyword:T,it:d}=y,A=S.name("valid");if(d.allErrors){const x=S.let("valid",!0);return P(()=>S.assign(x,!1)),x}return S.var(A,!0),P(()=>S.break()),A;function P(x){const D=S.const("len",(0,t._)`${$}.length`);S.forRange("i",0,D,F=>{y.subschema({keyword:T,dataProp:F,dataPropType:r.Type.Num},A),S.if((0,t.not)(A),x)})}}e.validateArray=p;function E(y){const{gen:S,schema:$,keyword:T,it:d}=y;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(D=>(0,r.alwaysValidSchema)(d,D))&&!d.opts.unevaluated)return;const P=S.let("valid",!1),x=S.name("_valid");S.block(()=>$.forEach((D,F)=>{const V=y.subschema({keyword:T,schemaProp:F,compositeRule:!0},x);S.assign(P,(0,t._)`${P} || ${x}`),y.mergeValidEvaluated(V,x)||S.if((0,t.not)(P))})),y.result(P,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),Qee=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/keyword.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=dr(),r=nc(),n=hs(),i=Q_();function o(m,g){const{gen:_,keyword:v,schema:p,parentSchema:E,it:y}=m,S=g.macro.call(y.self,p,E,y),$=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const T=_.name("valid");m.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:$,compositeRule:!0},T),m.pass(T,()=>m.error(!0))}e.macroKeywordCode=o;function a(m,g){var _;const{gen:v,keyword:p,schema:E,parentSchema:y,$data:S,it:$}=m;u($,g);const T=!S&&g.compile?g.compile.call($.self,E,y,$):g.validate,d=f(v,p,T),A=v.let("valid");m.block$data(A,P),m.ok((_=g.valid)!==null&&_!==void 0?_:A);function P(){if(g.errors===!1)F(),g.modifying&&s(m),V(()=>m.error());else{const X=g.async?x():D();g.modifying&&s(m),V(()=>l(m,X))}}function x(){const X=v.let("ruleErrs",null);return v.try(()=>F((0,t._)`await `),G=>v.assign(A,!1).if((0,t._)`${G} instanceof ${$.ValidationError}`,()=>v.assign(X,(0,t._)`${G}.errors`),()=>v.throw(G))),X}function D(){const X=(0,t._)`${d}.errors`;return v.assign(X,null),F(t.nil),X}function F(X=g.async?(0,t._)`await `:t.nil){const G=$.opts.passContext?r.default.this:r.default.self,Q=!("compile"in g&&!S||g.schema===!1);v.assign(A,(0,t._)`${X}${(0,n.callValidateCode)(m,d,G,Q)}`,g.modifying)}function V(X){var G;v.if((0,t.not)((G=g.valid)!==null&&G!==void 0?G:A),X)}}e.funcKeywordCode=a;function s(m){const{gen:g,data:_,it:v}=m;g.if(v.parentData,()=>g.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(m,g){const{gen:_}=m;_.if((0,t._)`Array.isArray(${g})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${g} : ${r.default.vErrors}.concat(${g})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(m)},()=>m.error())}function u({schemaEnv:m},g){if(g.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,g,_){if(_===void 0)throw new Error(`keyword "${g}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(m,g,_=!1){return!g.length||g.some(v=>v==="array"?Array.isArray(m):v==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==v||_&&typeof m>"u")}e.validSchemaType=c;function h({schema:m,opts:g,self:_,errSchemaPath:v},p,E){if(Array.isArray(p.keyword)?!p.keyword.includes(E):p.keyword!==E)throw new Error("ajv implementation error");const y=p.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(m,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(p.validateSchema&&!p.validateSchema(m[E])){const $=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(p.validateSchema.errors);if(g.validateSchema==="log")_.logger.error($);else throw new Error($)}}e.validateKeywordUsage=h}}),Zee=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/subschema.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=dr(),r=Br();function n(a,{keyword:s,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:h}){if(s!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const m=a.schema[s];return l===void 0?{schema:m,schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${s}`}:{schema:m[l],schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(l)}`,errSchemaPath:`${a.errSchemaPath}/${s}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:h,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(a,s,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:h}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=s;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:p}=s,E=m.let("data",(0,t._)`${s.data}${(0,t.getProperty)(l)}`,!0);g(E),a.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,p.jsPropertySyntax)}`,a.parentDataProperty=(0,t._)`${l}`,a.dataPathArr=[...v,a.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);g(_),h!==void 0&&(a.propertyName=h)}c&&(a.dataTypes=c);function g(_){a.data=_,a.dataLevel=s.dataLevel+1,a.dataTypes=[],s.definedProperties=new Set,a.parentData=s.data,a.dataNames=[...s.dataNames,_]}}e.extendSubschemaData=i;function o(a,{jtdDiscriminator:s,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(a.compositeRule=u),f!==void 0&&(a.createErrors=f),c!==void 0&&(a.allErrors=c),a.jtdDiscriminator=s,a.jtdMetadata=l}e.extendSubschemaMode=o}}),ete=Oe({"../../node_modules/ajv-formats/node_modules/json-schema-traverse/index.js"(e,t){Ae();var r=t.exports=function(o,a,s){typeof a=="function"&&(s=a,a={}),s=a.cb||s;var l=typeof s=="function"?s:s.pre||function(){},u=s.post||function(){};n(a,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,a,s,l,u,f,c,h,m,g){if(l&&typeof l=="object"&&!Array.isArray(l)){a(l,u,f,c,h,m,g);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var p=0;p<v.length;p++)n(o,a,s,v[p],u+"/"+_+"/"+p,f,u,_,l,p)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,a,s,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,a,s,v,u+"/"+_,f,u,_,l)}s(l,u,f,c,h,m,g)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),Z_=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/resolve.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=Br(),r=Oh(),n=ete(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,p=!0){return typeof v=="boolean"?!0:p===!0?!s(v):p?l(v)<=p:!1}e.inlineRef=o;var a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(v){for(const p in v){if(a.has(p))return!0;const E=v[p];if(Array.isArray(E)&&E.some(s)||typeof E=="object"&&s(E))return!0}return!1}function l(v){let p=0;for(const E in v){if(E==="$ref")return 1/0;if(p++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>p+=l(y)),p===1/0))return 1/0}return p}function u(v,p="",E){E!==!1&&(p=h(p));const y=v.parse(p);return f(v,y)}e.getFullPath=u;function f(v,p){return v.serialize(p).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function h(v){return v?v.replace(c,""):""}e.normalizeId=h;function m(v,p,E){return E=h(E),v.resolve(p,E)}e.resolveUrl=m;var g=/^[a-z_][-a-z0-9._]*$/i;function _(v,p){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=h(v[E]||p),$={"":S},T=u(y,S,!1),d={},A=new Set;return n(v,{allKeys:!0},(D,F,V,X)=>{if(X===void 0)return;const G=T+F;let Q=$[X];typeof D[E]=="string"&&(Q=ce.call(this,D[E])),ee.call(this,D.$anchor),ee.call(this,D.$dynamicAnchor),$[F]=Q;function ce(ae){const M=this.opts.uriResolver.resolve;if(ae=h(Q?M(Q,ae):ae),A.has(ae))throw x(ae);A.add(ae);let B=this.refs[ae];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?P(D,B.schema,ae):ae!==h(G)&&(ae[0]==="#"?(P(D,d[ae],ae),d[ae]=D):this.refs[ae]=G),ae}function ee(ae){if(typeof ae=="string"){if(!g.test(ae))throw new Error(`invalid anchor "${ae}"`);ce.call(this,`#${ae}`)}}}),d;function P(D,F,V){if(F!==void 0&&!r(D,F))throw x(V)}function x(D){return new Error(`reference "${D}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),eE=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=Yee(),r=Nb(),n=L6(),i=Nb(),o=Xee(),a=Qee(),s=Zee(),l=dr(),u=nc(),f=Z_(),c=Br(),h=Q_();function m(R){if(T(R)&&(A(R),$(R))){p(R);return}g(R,()=>(0,t.topBoolOrEmptySchema)(R))}e.validateFunctionCode=m;function g({gen:R,validateName:I,schema:N,schemaEnv:H,opts:re},le){re.code.es5?R.func(I,(0,l._)`${u.default.data}, ${u.default.valCxt}`,H.$async,()=>{R.code((0,l._)`"use strict"; ${y(N,re)}`),v(R,re),R.code(le)}):R.func(I,(0,l._)`${u.default.data}, ${_(re)}`,H.$async,()=>R.code(y(N,re)).code(le))}function _(R){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${R.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(R,I){R.if(u.default.valCxt,()=>{R.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),R.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),R.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),R.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),I.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{R.var(u.default.instancePath,(0,l._)`""`),R.var(u.default.parentData,(0,l._)`undefined`),R.var(u.default.parentDataProperty,(0,l._)`undefined`),R.var(u.default.rootData,u.default.data),I.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function p(R){const{schema:I,opts:N,gen:H}=R;g(R,()=>{N.$comment&&I.$comment&&X(R),D(R),H.let(u.default.vErrors,null),H.let(u.default.errors,0),N.unevaluated&&E(R),P(R),G(R)})}function E(R){const{gen:I,validateName:N}=R;R.evaluated=I.const("evaluated",(0,l._)`${N}.evaluated`),I.if((0,l._)`${R.evaluated}.dynamicProps`,()=>I.assign((0,l._)`${R.evaluated}.props`,(0,l._)`undefined`)),I.if((0,l._)`${R.evaluated}.dynamicItems`,()=>I.assign((0,l._)`${R.evaluated}.items`,(0,l._)`undefined`))}function y(R,I){const N=typeof R=="object"&&R[I.schemaId];return N&&(I.code.source||I.code.process)?(0,l._)`/*# sourceURL=${N} */`:l.nil}function S(R,I){if(T(R)&&(A(R),$(R))){d(R,I);return}(0,t.boolOrEmptySchema)(R,I)}function $({schema:R,self:I}){if(typeof R=="boolean")return!R;for(const N in R)if(I.RULES.all[N])return!0;return!1}function T(R){return typeof R.schema!="boolean"}function d(R,I){const{schema:N,gen:H,opts:re}=R;re.$comment&&N.$comment&&X(R),F(R),V(R);const le=H.const("_errs",u.default.errors);P(R,le),H.var(I,(0,l._)`${le} === ${u.default.errors}`)}function A(R){(0,c.checkUnknownRules)(R),x(R)}function P(R,I){if(R.opts.jtd)return ce(R,[],!1,I);const N=(0,r.getSchemaTypes)(R.schema),H=(0,r.coerceAndCheckDataType)(R,N);ce(R,N,!H,I)}function x(R){const{schema:I,errSchemaPath:N,opts:H,self:re}=R;I.$ref&&H.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(I,re.RULES)&&re.logger.warn(`$ref: keywords ignored in schema at path "${N}"`)}function D(R){const{schema:I,opts:N}=R;I.default!==void 0&&N.useDefaults&&N.strictSchema&&(0,c.checkStrictMode)(R,"default is ignored in the schema root")}function F(R){const I=R.schema[R.opts.schemaId];I&&(R.baseId=(0,f.resolveUrl)(R.opts.uriResolver,R.baseId,I))}function V(R){if(R.schema.$async&&!R.schemaEnv.$async)throw new Error("async schema in sync schema")}function X({gen:R,schemaEnv:I,schema:N,errSchemaPath:H,opts:re}){const le=N.$comment;if(re.$comment===!0)R.code((0,l._)`${u.default.self}.logger.log(${le})`);else if(typeof re.$comment=="function"){const fe=(0,l.str)`${H}/$comment`,me=R.scopeValue("root",{ref:I.root});R.code((0,l._)`${u.default.self}.opts.$comment(${le}, ${fe}, ${me}.schema)`)}}function G(R){const{gen:I,schemaEnv:N,validateName:H,ValidationError:re,opts:le}=R;N.$async?I.if((0,l._)`${u.default.errors} === 0`,()=>I.return(u.default.data),()=>I.throw((0,l._)`new ${re}(${u.default.vErrors})`)):(I.assign((0,l._)`${H}.errors`,u.default.vErrors),le.unevaluated&&Q(R),I.return((0,l._)`${u.default.errors} === 0`))}function Q({gen:R,evaluated:I,props:N,items:H}){N instanceof l.Name&&R.assign((0,l._)`${I}.props`,N),H instanceof l.Name&&R.assign((0,l._)`${I}.items`,H)}function ce(R,I,N,H){const{gen:re,schema:le,data:fe,allErrors:me,opts:Re,self:Le}=R,{RULES:je}=Le;if(le.$ref&&(Re.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(le,je))){re.block(()=>Y(R,"$ref",je.all.$ref.definition));return}Re.jtd||ae(R,I),re.block(()=>{for(const Ge of je.rules)tt(Ge);tt(je.post)});function tt(Ge){(0,n.shouldUseGroup)(le,Ge)&&(Ge.type?(re.if((0,i.checkDataType)(Ge.type,fe,Re.strictNumbers)),ee(R,Ge),I.length===1&&I[0]===Ge.type&&N&&(re.else(),(0,i.reportTypeError)(R)),re.endIf()):ee(R,Ge),me||re.if((0,l._)`${u.default.errors} === ${H||0}`))}}function ee(R,I){const{gen:N,schema:H,opts:{useDefaults:re}}=R;re&&(0,o.assignDefaults)(R,I.type),N.block(()=>{for(const le of I.rules)(0,n.shouldUseRule)(H,le)&&Y(R,le.keyword,le.definition,I.type)})}function ae(R,I){R.schemaEnv.meta||!R.opts.strictTypes||(M(R,I),R.opts.allowUnionTypes||B(R,I),K(R,R.dataTypes))}function M(R,I){if(I.length){if(!R.dataTypes.length){R.dataTypes=I;return}I.forEach(N=>{k(R.dataTypes,N)||ie(R,`type "${N}" not allowed by context "${R.dataTypes.join(",")}"`)}),q(R,I)}}function B(R,I){I.length>1&&!(I.length===2&&I.includes("null"))&&ie(R,"use allowUnionTypes to allow union type keyword")}function K(R,I){const N=R.self.RULES.all;for(const H in N){const re=N[H];if(typeof re=="object"&&(0,n.shouldUseRule)(R.schema,re)){const{type:le}=re.definition;le.length&&!le.some(fe=>O(I,fe))&&ie(R,`missing type "${le.join(",")}" for keyword "${H}"`)}}}function O(R,I){return R.includes(I)||I==="number"&&R.includes("integer")}function k(R,I){return R.includes(I)||I==="integer"&&R.includes("number")}function q(R,I){const N=[];for(const H of R.dataTypes)k(I,H)?N.push(H):I.includes("integer")&&H==="number"&&N.push("integer");R.dataTypes=N}function ie(R,I){const N=R.schemaEnv.baseId+R.errSchemaPath;I+=` at "${N}" (strictTypes)`,(0,c.checkStrictMode)(R,I,R.opts.strictTypes)}var J=class{constructor(R,I,N){if((0,a.validateKeywordUsage)(R,I,N),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=N,this.data=R.data,this.schema=R.schema[N],this.$data=I.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(R,this.schema,N,this.$data),this.schemaType=I.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=I,this.$data)this.schemaCode=R.gen.const("vSchema",ye(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,I.schemaType,I.allowUndefined))throw new Error(`${N} value must be ${JSON.stringify(I.schemaType)}`);("code"in I?I.trackErrors:I.errors!==!1)&&(this.errsCount=R.gen.const("_errs",u.default.errors))}result(R,I,N){this.failResult((0,l.not)(R),I,N)}failResult(R,I,N){this.gen.if(R),N?N():this.error(),I?(this.gen.else(),I(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,I){this.failResult((0,l.not)(R),void 0,I)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:I}=this;this.fail((0,l._)`${I} !== undefined && (${(0,l.or)(this.invalid$data(),R)})`)}error(R,I,N){if(I){this.setParams(I),this._error(R,N),this.setParams({});return}this._error(R,N)}_error(R,I){(R?h.reportExtraError:h.reportError)(this,this.def.error,I)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,I){I?Object.assign(this.params,R):this.params=R}block$data(R,I,N=l.nil){this.gen.block(()=>{this.check$data(R,N),I()})}check$data(R=l.nil,I=l.nil){if(!this.$data)return;const{gen:N,schemaCode:H,schemaType:re,def:le}=this;N.if((0,l.or)((0,l._)`${H} === undefined`,I)),R!==l.nil&&N.assign(R,!0),(re.length||le.validateSchema)&&(N.elseIf(this.invalid$data()),this.$dataError(),R!==l.nil&&N.assign(R,!1)),N.else()}invalid$data(){const{gen:R,schemaCode:I,schemaType:N,def:H,it:re}=this;return(0,l.or)(le(),fe());function le(){if(N.length){if(!(I instanceof l.Name))throw new Error("ajv implementation error");const me=Array.isArray(N)?N:[N];return(0,l._)`${(0,i.checkDataTypes)(me,I,re.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function fe(){if(H.validateSchema){const me=R.scopeValue("validate$data",{ref:H.validateSchema});return(0,l._)`!${me}(${I})`}return l.nil}}subschema(R,I){const N=(0,s.getSubschema)(this.it,R);(0,s.extendSubschemaData)(N,this.it,R),(0,s.extendSubschemaMode)(N,R);const H={...this.it,...N,items:void 0,props:void 0};return S(H,I),H}mergeEvaluated(R,I){const{it:N,gen:H}=this;N.opts.unevaluated&&(N.props!==!0&&R.props!==void 0&&(N.props=c.mergeEvaluated.props(H,R.props,N.props,I)),N.items!==!0&&R.items!==void 0&&(N.items=c.mergeEvaluated.items(H,R.items,N.items,I)))}mergeValidEvaluated(R,I){const{it:N,gen:H}=this;if(N.opts.unevaluated&&(N.props!==!0||N.items!==!0))return H.if(I,()=>this.mergeEvaluated(R,l.Name)),!0}};e.KeywordCxt=J;function Y(R,I,N,H){const re=new J(R,N,I);"code"in N?N.code(re,H):re.$data&&N.validate?(0,a.funcKeywordCode)(re,N):"macro"in N?(0,a.macroKeywordCode)(re,N):(N.compile||N.validate)&&(0,a.funcKeywordCode)(re,N)}var oe=/^\/(?:[^~]|~0|~1)*$/,_e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ye(R,{dataLevel:I,dataNames:N,dataPathArr:H}){let re,le;if(R==="")return u.default.rootData;if(R[0]==="/"){if(!oe.test(R))throw new Error(`Invalid JSON-pointer: ${R}`);re=R,le=u.default.rootData}else{const Le=_e.exec(R);if(!Le)throw new Error(`Invalid JSON-pointer: ${R}`);const je=+Le[1];if(re=Le[2],re==="#"){if(je>=I)throw new Error(Re("property/index",je));return H[I-je]}if(je>I)throw new Error(Re("data",je));if(le=N[I-je],!re)return le}let fe=le;const me=re.split("/");for(const Le of me)Le&&(le=(0,l._)`${le}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Le))}`,fe=(0,l._)`${fe} && ${le}`);return fe;function Re(Le,je){return`Cannot access ${Le} ${je} levels up, current level is ${I}`}}e.getData=ye}}),IR=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/validation_error.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),NR=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/ref_error.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Z_(),r=class extends Error{constructor(n,i,o,a){super(a||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),CR=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=dr(),r=IR(),n=nc(),i=Z_(),o=Br(),a=eE(),s=class{constructor(p){var E;this.refs={},this.dynamicAnchors={};let y;typeof p.schema=="object"&&(y=p.schema),this.schema=p.schema,this.schemaId=p.schemaId,this.root=p.root||this,this.baseId=(E=p.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[p.schemaId||"$id"]),this.schemaPath=p.schemaPath,this.localRefs=p.localRefs,this.meta=p.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=s;function l(p){const E=c.call(this,p);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:S,lines:$}=this.opts.code,{ownProperties:T}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:$,ownProperties:T});let A;p.$async&&(A=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const P=d.scopeName("validate");p.validateName=P;const x={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,t.stringify)(p.schema)}:{ref:p.schema}),validateName:P,ValidationError:A,schema:p.schema,schemaEnv:p,rootId:y,baseId:p.baseId||y,schemaPath:t.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(p),(0,a.validateFunctionCode)(x),d.optimize(this.opts.code.optimize);const F=d.toString();D=`${d.scopeRefs(n.default.scope)}return ${F}`,this.opts.code.process&&(D=this.opts.code.process(D,p));const X=new Function(`${n.default.self}`,`${n.default.scope}`,D)(this,this.scope.get());if(this.scope.value(P,{ref:X}),X.errors=null,X.schema=p.schema,X.schemaEnv=p,p.$async&&(X.$async=!0),this.opts.code.source===!0&&(X.source={validateName:P,validateCode:F,scopeValues:d._values}),this.opts.unevaluated){const{props:G,items:Q}=x;X.evaluated={props:G instanceof t.Name?void 0:G,items:Q instanceof t.Name?void 0:Q,dynamicProps:G instanceof t.Name,dynamicItems:Q instanceof t.Name},X.source&&(X.source.evaluated=(0,t.stringify)(X.evaluated))}return p.validate=X,p}catch(F){throw delete p.validate,delete p.validateName,D&&this.logger.error("Error compiling schema, function code:",D),F}finally{this._compilations.delete(p)}}e.compileSchema=l;function u(p,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const $=p.refs[y];if($)return $;let T=m.call(this,p,y);if(T===void 0){const d=(S=p.localRefs)===null||S===void 0?void 0:S[y],{schemaId:A}=this.opts;d&&(T=new s({schema:d,schemaId:A,root:p,baseId:E}))}if(T!==void 0)return p.refs[y]=f.call(this,T)}e.resolveRef=u;function f(p){return(0,i.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:l.call(this,p)}function c(p){for(const E of this._compilations)if(h(E,p))return E}e.getCompilingSchema=c;function h(p,E){return p.schema===E.schema&&p.root===E.root&&p.baseId===E.baseId}function m(p,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||g.call(this,p,E)}function g(p,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let $=(0,i.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&S===$)return v.call(this,y,p);const T=(0,i.normalizeId)(S),d=this.refs[T]||this.schemas[T];if(typeof d=="string"){const A=g.call(this,p,d);return typeof(A==null?void 0:A.schema)!="object"?void 0:v.call(this,y,A)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),T===(0,i.normalizeId)(E)){const{schema:A}=d,{schemaId:P}=this.opts,x=A[P];return x&&($=(0,i.resolveUrl)(this.opts.uriResolver,$,x)),new s({schema:A,schemaId:P,root:p,baseId:$})}return v.call(this,y,d)}}e.resolveSchema=g;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(p,{baseId:E,schema:y,root:S}){var $;if((($=p.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const A of p.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const P=y[(0,o.unescapeFragment)(A)];if(P===void 0)return;y=P;const x=typeof y=="object"&&y[this.opts.schemaId];!_.has(A)&&x&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,x))}let T;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const A=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);T=g.call(this,S,A)}const{schemaId:d}=this.opts;if(T=T||new s({schema:y,schemaId:d,root:S,baseId:E}),T.schema!==T.root.schema)return T}}}),tte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),rte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/uri.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=N6();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),nte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/core.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=eE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=dr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=IR(),i=NR(),o=M6(),a=CR(),s=dr(),l=Z_(),u=Nb(),f=Br(),c=tte(),h=rte(),m=(M,B)=>new RegExp(M,B);m.code="new RegExp";var g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(M){var B,K,O,k,q,ie,J,Y,oe,_e,ye,R,I,N,H,re,le,fe,me,Re,Le,je,tt,Ge,Ue;const W=M.strict,C=(B=M.code)===null||B===void 0?void 0:B.optimize,L=C===!0||C===void 0?1:C||0,ne=(O=(K=M.code)===null||K===void 0?void 0:K.regExp)!==null&&O!==void 0?O:m,we=(k=M.uriResolver)!==null&&k!==void 0?k:h.default;return{strictSchema:(ie=(q=M.strictSchema)!==null&&q!==void 0?q:W)!==null&&ie!==void 0?ie:!0,strictNumbers:(Y=(J=M.strictNumbers)!==null&&J!==void 0?J:W)!==null&&Y!==void 0?Y:!0,strictTypes:(_e=(oe=M.strictTypes)!==null&&oe!==void 0?oe:W)!==null&&_e!==void 0?_e:"log",strictTuples:(R=(ye=M.strictTuples)!==null&&ye!==void 0?ye:W)!==null&&R!==void 0?R:"log",strictRequired:(N=(I=M.strictRequired)!==null&&I!==void 0?I:W)!==null&&N!==void 0?N:!1,code:M.code?{...M.code,optimize:L,regExp:ne}:{optimize:L,regExp:ne},loopRequired:(H=M.loopRequired)!==null&&H!==void 0?H:E,loopEnum:(re=M.loopEnum)!==null&&re!==void 0?re:E,meta:(le=M.meta)!==null&&le!==void 0?le:!0,messages:(fe=M.messages)!==null&&fe!==void 0?fe:!0,inlineRefs:(me=M.inlineRefs)!==null&&me!==void 0?me:!0,schemaId:(Re=M.schemaId)!==null&&Re!==void 0?Re:"$id",addUsedSchema:(Le=M.addUsedSchema)!==null&&Le!==void 0?Le:!0,validateSchema:(je=M.validateSchema)!==null&&je!==void 0?je:!0,validateFormats:(tt=M.validateFormats)!==null&&tt!==void 0?tt:!0,unicodeRegExp:(Ge=M.unicodeRegExp)!==null&&Ge!==void 0?Ge:!0,int32range:(Ue=M.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:we}}var S=class{constructor(M={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,M=this.opts={...M,...y(M)};const{es5:B,lines:K}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:B,lines:K}),this.logger=F(M.logger);const O=M.validateFormats;M.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,M,"NOT SUPPORTED"),$.call(this,p,M,"DEPRECATED","warn"),this._metaOpts=x.call(this),M.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),M.keywords&&P.call(this,M.keywords),typeof M.meta=="object"&&this.addMetaSchema(M.meta),d.call(this),M.validateFormats=O}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:M,meta:B,schemaId:K}=this.opts;let O=c;K==="id"&&(O={...c},O.id=O.$id,delete O.$id),B&&M&&this.addMetaSchema(O,O[K],!1)}defaultMeta(){const{meta:M,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof M=="object"?M[B]||M:void 0}validate(M,B){let K;if(typeof M=="string"){if(K=this.getSchema(M),!K)throw new Error(`no schema with key or ref "${M}"`)}else K=this.compile(M);const O=K(B);return"$async"in K||(this.errors=K.errors),O}compile(M,B){const K=this._addSchema(M,B);return K.validate||this._compileSchemaEnv(K)}compileAsync(M,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return O.call(this,M,B);async function O(oe,_e){await k.call(this,oe.$schema);const ye=this._addSchema(oe,_e);return ye.validate||q.call(this,ye)}async function k(oe){oe&&!this.getSchema(oe)&&await O.call(this,{$ref:oe},!0)}async function q(oe){try{return this._compileSchemaEnv(oe)}catch(_e){if(!(_e instanceof i.default))throw _e;return ie.call(this,_e),await J.call(this,_e.missingSchema),q.call(this,oe)}}function ie({missingSchema:oe,missingRef:_e}){if(this.refs[oe])throw new Error(`AnySchema ${oe} is loaded but ${_e} cannot be resolved`)}async function J(oe){const _e=await Y.call(this,oe);this.refs[oe]||await k.call(this,_e.$schema),this.refs[oe]||this.addSchema(_e,oe,B)}async function Y(oe){const _e=this._loading[oe];if(_e)return _e;try{return await(this._loading[oe]=K(oe))}finally{delete this._loading[oe]}}}addSchema(M,B,K,O=this.opts.validateSchema){if(Array.isArray(M)){for(const q of M)this.addSchema(q,void 0,K,O);return this}let k;if(typeof M=="object"){const{schemaId:q}=this.opts;if(k=M[q],k!==void 0&&typeof k!="string")throw new Error(`schema ${q} must be string`)}return B=(0,l.normalizeId)(B||k),this._checkUnique(B),this.schemas[B]=this._addSchema(M,K,B,O,!0),this}addMetaSchema(M,B,K=this.opts.validateSchema){return this.addSchema(M,B,!0,K),this}validateSchema(M,B){if(typeof M=="boolean")return!0;let K;if(K=M.$schema,K!==void 0&&typeof K!="string")throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const O=this.validate(K,M);if(!O&&B){const k="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(k);else throw new Error(k)}return O}getSchema(M){let B;for(;typeof(B=T.call(this,M))=="string";)M=B;if(B===void 0){const{schemaId:K}=this.opts,O=new a.SchemaEnv({schema:{},schemaId:K});if(B=a.resolveSchema.call(this,O,M),!B)return;this.refs[M]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(M){if(M instanceof RegExp)return this._removeAllSchemas(this.schemas,M),this._removeAllSchemas(this.refs,M),this;switch(typeof M){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=T.call(this,M);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[M],delete this.refs[M],this}case"object":{const B=M;this._cache.delete(B);let K=M[this.opts.schemaId];return K&&(K=(0,l.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(M){for(const B of M)this.addKeyword(B);return this}addKeyword(M,B){let K;if(typeof M=="string")K=M,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=K);else if(typeof M=="object"&&B===void 0){if(B=M,K=B.keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(X.call(this,K,B),!B)return(0,f.eachItem)(K,k=>G.call(this,k)),this;ce.call(this,B);const O={...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)};return(0,f.eachItem)(K,O.type.length===0?k=>G.call(this,k,O):k=>O.type.forEach(q=>G.call(this,k,O,q))),this}getKeyword(M){const B=this.RULES.all[M];return typeof B=="object"?B.definition:!!B}removeKeyword(M){const{RULES:B}=this;delete B.keywords[M],delete B.all[M];for(const K of B.rules){const O=K.rules.findIndex(k=>k.keyword===M);O>=0&&K.rules.splice(O,1)}return this}addFormat(M,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[M]=B,this}errorsText(M=this.errors,{separator:B=", ",dataVar:K="data"}={}){return!M||M.length===0?"No errors":M.map(O=>`${K}${O.instancePath} ${O.message}`).reduce((O,k)=>O+B+k)}$dataMetaSchema(M,B){const K=this.RULES.all;M=JSON.parse(JSON.stringify(M));for(const O of B){const k=O.split("/").slice(1);let q=M;for(const ie of k)q=q[ie];for(const ie in K){const J=K[ie];if(typeof J!="object")continue;const{$data:Y}=J.definition,oe=q[ie];Y&&oe&&(q[ie]=ae(oe))}}return M}_removeAllSchemas(M,B){for(const K in M){const O=M[K];(!B||B.test(K))&&(typeof O=="string"?delete M[K]:O&&!O.meta&&(this._cache.delete(O.schema),delete M[K]))}}_addSchema(M,B,K,O=this.opts.validateSchema,k=this.opts.addUsedSchema){let q;const{schemaId:ie}=this.opts;if(typeof M=="object")q=M[ie];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof M!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(M);if(J!==void 0)return J;K=(0,l.normalizeId)(q||K);const Y=l.getSchemaRefs.call(this,M,K);return J=new a.SchemaEnv({schema:M,schemaId:ie,meta:B,baseId:K,localRefs:Y}),this._cache.set(J.schema,J),k&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=J),O&&this.validateSchema(M,!0),J}_checkUnique(M){if(this.schemas[M]||this.refs[M])throw new Error(`schema with key or id "${M}" already exists`)}_compileSchemaEnv(M){if(M.meta?this._compileMetaSchema(M):a.compileSchema.call(this,M),!M.validate)throw new Error("ajv implementation error");return M.validate}_compileMetaSchema(M){const B=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,M)}finally{this.opts=B}}};e.default=S,S.ValidationError=n.default,S.MissingRefError=i.default;function $(M,B,K,O="error"){for(const k in M){const q=k;q in B&&this.logger[O](`${K}: option ${k}. ${M[q]}`)}}function T(M){return M=(0,l.normalizeId)(M),this.schemas[M]||this.refs[M]}function d(){const M=this.opts.schemas;if(M)if(Array.isArray(M))this.addSchema(M);else for(const B in M)this.addSchema(M[B],B)}function A(){for(const M in this.opts.formats){const B=this.opts.formats[M];B&&this.addFormat(M,B)}}function P(M){if(Array.isArray(M)){this.addVocabulary(M);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in M){const K=M[B];K.keyword||(K.keyword=B),this.addKeyword(K)}}function x(){const M={...this.opts};for(const B of g)delete M[B];return M}var D={log(){},warn(){},error(){}};function F(M){if(M===!1)return D;if(M===void 0)return console;if(M.log&&M.warn&&M.error)return M;throw new Error("logger must implement log, warn and error methods")}var V=/^[a-z_$][a-z0-9_$:-]*$/i;function X(M,B){const{RULES:K}=this;if((0,f.eachItem)(M,O=>{if(K.keywords[O])throw new Error(`Keyword ${O} is already defined`);if(!V.test(O))throw new Error(`Keyword ${O} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function G(M,B,K){var O;const k=B==null?void 0:B.post;if(K&&k)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let ie=k?q.post:q.rules.find(({type:Y})=>Y===K);if(ie||(ie={type:K,rules:[]},q.rules.push(ie)),q.keywords[M]=!0,!B)return;const J={keyword:M,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?Q.call(this,ie,J,B.before):ie.rules.push(J),q.all[M]=J,(O=B.implements)===null||O===void 0||O.forEach(Y=>this.addKeyword(Y))}function Q(M,B,K){const O=M.rules.findIndex(k=>k.keyword===K);O>=0?M.rules.splice(O,0,B):(M.rules.push(B),this.logger.warn(`rule ${K} is not defined`))}function ce(M){let{metaSchema:B}=M;B!==void 0&&(M.$data&&this.opts.$data&&(B=ae(B)),M.validateSchema=this.compile(B,!0))}var ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ae(M){return{anyOf:[M,ee]}}}}),ite=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/id.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),ote=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=NR(),r=hs(),n=dr(),i=nc(),o=CR(),a=Br(),s={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:h,it:m}=f,{baseId:g,schemaEnv:_,validateName:v,opts:p,self:E}=m,{root:y}=_;if((h==="#"||h==="#/")&&g===y.baseId)return $();const S=o.resolveRef.call(E,y,g,h);if(S===void 0)throw new t.default(m.opts.uriResolver,g,h);if(S instanceof o.SchemaEnv)return T(S);return d(S);function $(){if(_===y)return u(f,v,_,_.$async);const A=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${A}.validate`,y,y.$async)}function T(A){const P=l(f,A);u(f,P,A,A.$async)}function d(A){const P=c.scopeValue("schema",p.code.source===!0?{ref:A,code:(0,n.stringify)(A)}:{ref:A}),x=c.name("valid"),D=f.subschema({schema:A,dataTypes:[],schemaPath:n.nil,topSchemaRef:P,errSchemaPath:h},x);f.mergeEvaluated(D),f.ok(x)}}};function l(f,c){const{gen:h}=f;return c.validate?h.scopeValue("validate",{ref:c.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,h,m){const{gen:g,it:_}=f,{allErrors:v,schemaEnv:p,opts:E}=_,y=E.passContext?i.default.this:n.nil;m?S():$();function S(){if(!p.$async)throw new Error("async schema referenced by sync schema");const A=g.let("valid");g.try(()=>{g.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||g.assign(A,!0)},P=>{g.if((0,n._)`!(${P} instanceof ${_.ValidationError})`,()=>g.throw(P)),T(P),v||g.assign(A,!1)}),f.ok(A)}function $(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>T(c))}function T(A){const P=(0,n._)`${A}.errors`;g.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${P} : ${i.default.vErrors}.concat(${P})`),g.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(A){var P;if(!_.opts.unevaluated)return;const x=(P=h==null?void 0:h.validate)===null||P===void 0?void 0:P.evaluated;if(_.props!==!0)if(x&&!x.dynamicProps)x.props!==void 0&&(_.props=a.mergeEvaluated.props(g,x.props,_.props));else{const D=g.var("props",(0,n._)`${A}.evaluated.props`);_.props=a.mergeEvaluated.props(g,D,_.props,n.Name)}if(_.items!==!0)if(x&&!x.dynamicItems)x.items!==void 0&&(_.items=a.mergeEvaluated.items(g,x.items,_.items));else{const D=g.var("items",(0,n._)`${A}.evaluated.items`);_.items=a.mergeEvaluated.items(g,D,_.items,n.Name)}}}e.callRef=u,e.default=s}}),ate=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=ite(),r=ote(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),ste=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:a,schemaCode:s})=>(0,t.str)`must be ${n[a].okStr} ${s}`,params:({keyword:a,schemaCode:s})=>(0,t._)`{comparison: ${n[a].okStr}, limit: ${s}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u}=a;a.fail$data((0,t._)`${l} ${n[s].fail} ${u} || isNaN(${l})`)}};e.default=o}}),lte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:a,schemaCode:s,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${s} === 0 || (${f} = ${a}/${s}, ${c}))`)}};e.default=n}}),ute=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/ucs2length.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,a;for(;o<n;)i++,a=r.charCodeAt(o++),a>=55296&&a<=56319&&o<n&&(a=r.charCodeAt(o),(a&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),cte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),r=Br(),n=ute(),i={message({keyword:a,schemaCode:s}){const l=a==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${s} characters`},params:({schemaCode:a})=>(0,t._)`{limit: ${a}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u,it:f}=a,c=s==="maxLength"?t.operators.GT:t.operators.LT,h=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(a.gen,n.default)}(${l})`;a.fail$data((0,t._)`${h} ${c} ${u}`)}};e.default=o}}),fte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=hs(),r=dr(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:a,$data:s,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",h=s?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${h}.test(${a})`)}};e.default=i}}),dte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),r={message({keyword:i,schemaCode:o}){const a=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${a}).length ${l} ${s}`)}};e.default=n}}),hte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=hs(),r=dr(),n=Br(),i={message:({params:{missingProperty:a}})=>(0,r.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,r._)`{missingProperty: ${a}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,schema:l,schemaCode:u,data:f,$data:c,it:h}=a,{opts:m}=h;if(!c&&l.length===0)return;const g=l.length>=m.loopRequired;if(h.allErrors?_():v(),m.strictRequired){const y=a.parentSchema.properties,{definedProperties:S}=a.it;for(const $ of l)if((y==null?void 0:y[$])===void 0&&!S.has($)){const T=h.schemaEnv.baseId+h.errSchemaPath,d=`required property "${$}" is not defined at "${T}" (strictRequired)`;(0,n.checkStrictMode)(h,d,h.opts.strictRequired)}}function _(){if(g||c)a.block$data(r.nil,p);else for(const y of l)(0,t.checkReportMissingProp)(a,y)}function v(){const y=s.let("missing");if(g||c){const S=s.let("valid",!0);a.block$data(S,()=>E(y,S)),a.ok(S)}else s.if((0,t.checkMissingProp)(a,l,y)),(0,t.reportMissingProp)(a,y),s.else()}function p(){s.forOf("prop",u,y=>{a.setParams({missingProperty:y}),s.if((0,t.noPropertyInData)(s,f,y,m.ownProperties),()=>a.error())})}function E(y,S){a.setParams({missingProperty:y}),s.forOf(y,u,()=>{s.assign(S,(0,t.propertyInData)(s,f,y,m.ownProperties)),s.if((0,r.not)(S),()=>{a.error(),s.break()})},r.nil)}}};e.default=o}}),pte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),r={message({keyword:i,schemaCode:o}){const a=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${a}.length ${l} ${s}`)}};e.default=n}}),kR=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/equal.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Oh();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),mte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Nb(),r=dr(),n=Br(),i=kR(),o={message:({params:{i:s,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${s} are identical)`,params:({params:{i:s,j:l}})=>(0,r._)`{i: ${s}, j: ${l}}`},a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(s){const{gen:l,data:u,$data:f,schema:c,parentSchema:h,schemaCode:m,it:g}=s;if(!f&&!c)return;const _=l.let("valid"),v=h.items?(0,t.getSchemaTypes)(h.items):[];s.block$data(_,p,(0,r._)`${m} === false`),s.ok(_);function p(){const $=l.let("i",(0,r._)`${u}.length`),T=l.let("j");s.setParams({i:$,j:T}),l.assign(_,!0),l.if((0,r._)`${$} > 1`,()=>(E()?y:S)($,T))}function E(){return v.length>0&&!v.some($=>$==="object"||$==="array")}function y($,T){const d=l.name("item"),A=(0,t.checkDataTypes)(v,d,g.opts.strictNumbers,t.DataType.Wrong),P=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${$}--;`,()=>{l.let(d,(0,r._)`${u}[${$}]`),l.if(A,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${P}[${d}] == "number"`,()=>{l.assign(T,(0,r._)`${P}[${d}]`),s.error(),l.assign(_,!1).break()}).code((0,r._)`${P}[${d}] = ${$}`)})}function S($,T){const d=(0,n.useFunc)(l,i.default),A=l.name("outer");l.label(A).for((0,r._)`;${$}--;`,()=>l.for((0,r._)`${T} = ${$}; ${T}--;`,()=>l.if((0,r._)`${d}(${u}[${$}], ${u}[${T}])`,()=>{s.error(),l.assign(_,!1).break(A)})))}}};e.default=a}}),gte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),r=Br(),n=kR(),i={message:"must be equal to constant",params:({schemaCode:a})=>(0,t._)`{allowedValue: ${a}}`},o={keyword:"const",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schemaCode:f,schema:c}=a;u||c&&typeof c=="object"?a.fail$data((0,t._)`!${(0,r.useFunc)(s,n.default)}(${l}, ${f})`):a.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),vte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),r=Br(),n=kR(),i={message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,t._)`{allowedValues: ${a}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schema:f,schemaCode:c,it:h}=a;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=h.opts.loopEnum;let g;const _=()=>g??(g=(0,r.useFunc)(s,n.default));let v;if(m||u)v=s.let("valid"),a.block$data(v,p);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=s.const("vSchema",c);v=(0,t.or)(...f.map((S,$)=>E(y,$)))}a.pass(v);function p(){s.assign(v,!1),s.forOf("v",c,y=>s.if((0,t._)`${_()}(${l}, ${y})`,()=>s.assign(v,!0).break()))}function E(y,S){const $=f[S];return typeof $=="object"&&$!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${$}`}}};e.default=o}}),yte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=ste(),r=lte(),n=cte(),i=fte(),o=dte(),a=hte(),s=pte(),l=mte(),u=gte(),f=vte(),c=[t.default,r.default,n.default,i.default,o.default,a.default,s.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),F6=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=dr(),r=Br(),n={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(a){const{parentSchema:s,it:l}=a,{items:u}=s;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(a,u)}};function o(a,s){const{gen:l,schema:u,data:f,keyword:c,it:h}=a;h.items=!0;const m=l.const("len",(0,t._)`${f}.length`);if(u===!1)a.setParams({len:s.length}),a.pass((0,t._)`${m} <= ${s.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(h,u)){const _=l.var("valid",(0,t._)`${m} <= ${s.length}`);l.if((0,t.not)(_),()=>g(_)),a.ok(_)}function g(_){l.forRange("i",s.length,m,v=>{a.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),h.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),B6=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=dr(),r=Br(),n=hs(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:s,it:l}=a;if(Array.isArray(s))return o(a,"additionalItems",s);l.items=!0,!(0,r.alwaysValidSchema)(l,s)&&a.ok((0,n.validateArray)(a))}};function o(a,s,l=a.schema){const{gen:u,parentSchema:f,data:c,keyword:h,it:m}=a;v(f),m.opts.unevaluated&&l.length&&m.items!==!0&&(m.items=r.mergeEvaluated.items(u,l.length,m.items));const g=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((p,E)=>{(0,r.alwaysValidSchema)(m,p)||(u.if((0,t._)`${_} > ${E}`,()=>a.subschema({keyword:h,schemaProp:E,dataProp:E},g)),a.ok(g))});function v(p){const{opts:E,errSchemaPath:y}=m,S=l.length,$=S===p.minItems&&(S===p.maxItems||p[s]===!1);if(E.strictTuples&&!$){const T=`"${h}" is ${S}-tuple, but minItems or maxItems/${s} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(m,T,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),wte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=B6(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),bte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),r=Br(),n=hs(),i=F6(),o={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(s){const{schema:l,parentSchema:u,it:f}=s,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(s,c):s.ok((0,n.validateArray)(s)))}};e.default=a}}),_te=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),r=Br(),n={message:({params:{min:o,max:a}})=>a===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${a} valid item(s)`,params:({params:{min:o,max:a}})=>a===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${a}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,data:u,it:f}=o;let c,h;const{minContains:m,maxContains:g}=l;f.opts.next?(c=m===void 0?1:m,h=g):c=1;const _=a.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:h}),h===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&c>h){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,s)){let S=(0,t._)`${_} >= ${c}`;h!==void 0&&(S=(0,t._)`${S} && ${_} <= ${h}`),o.pass(S);return}f.items=!0;const v=a.name("valid");h===void 0&&c===1?E(v,()=>a.if(v,()=>a.break())):c===0?(a.let(v,!0),h!==void 0&&a.if((0,t._)`${u}.length > 0`,p)):(a.let(v,!1),p()),o.result(v,()=>o.reset());function p(){const S=a.name("_valid"),$=a.let("count",0);E(S,()=>a.if(S,()=>y($)))}function E(S,$){a.forRange("i",0,_,T=>{o.subschema({keyword:"contains",dataProp:T,dataPropType:r.Type.Num,compositeRule:!0},S),$()})}function y(S){a.code((0,t._)`${S}++`),h===void 0?a.if((0,t._)`${S} >= ${c}`,()=>a.assign(v,!0).break()):(a.if((0,t._)`${S} > ${h}`,()=>a.assign(v,!1).break()),c===1?a.assign(v,!0):a.if((0,t._)`${S} >= ${c}`,()=>a.assign(v,!0)))}}};e.default=i}}),Ete=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=dr(),r=Br(),n=hs();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);a(l,u),s(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?u:f;h[c]=l[c]}return[u,f]}function a(l,u=l.schema){const{gen:f,data:c,it:h}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,h.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(v,()=>{for(const p of _)(0,n.checkReportMissingProp)(l,p)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=a;function s(l,u=l.schema){const{gen:f,data:c,keyword:h,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=s,e.default=i}}),Ste=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),r=Br(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:a,schema:s,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,s))return;const f=a.name("valid");a.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),a.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||a.break()})}),o.ok(f)}};e.default=i}}),U6=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=hs(),r=dr(),n=nc(),i=Br(),o={message:"must NOT have additional properties",params:({params:s})=>(0,r._)`{additionalProperty: ${s.additionalProperty}}`},a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(s){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:h,it:m}=s;if(!h)throw new Error("ajv implementation error");const{allErrors:g,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(m,u))return;const v=(0,t.allSchemaProperties)(f.properties),p=(0,t.allSchemaProperties)(f.patternProperties);E(),s.ok((0,r._)`${h} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!p.length?$(d):l.if(y(d),()=>$(d))})}function y(d){let A;if(v.length>8){const P=(0,i.schemaRefOrVal)(m,f.properties,"properties");A=(0,t.isOwnProperty)(l,P,d)}else v.length?A=(0,r.or)(...v.map(P=>(0,r._)`${d} === ${P}`)):A=r.nil;return p.length&&(A=(0,r.or)(A,...p.map(P=>(0,r._)`${(0,t.usePattern)(s,P)}.test(${d})`))),(0,r.not)(A)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function $(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){s.setParams({additionalProperty:d}),s.error(),g||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(m,u)){const A=l.name("valid");_.removeAdditional==="failing"?(T(d,A,!1),l.if((0,r.not)(A),()=>{s.reset(),S(d)})):(T(d,A),g||l.if((0,r.not)(A),()=>l.break()))}}function T(d,A,P){const x={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};P===!1&&Object.assign(x,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(x,A)}}};e.default=a}}),$te=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=eE(),r=hs(),n=Br(),i=U6(),o={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,parentSchema:u,data:f,it:c}=a;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const h=(0,r.allSchemaProperties)(l);for(const p of h)c.definedProperties.add(p);c.opts.unevaluated&&h.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(s,(0,n.toHash)(h),c.props));const m=h.filter(p=>!(0,n.alwaysValidSchema)(c,l[p]));if(m.length===0)return;const g=s.name("valid");for(const p of m)_(p)?v(p):(s.if((0,r.propertyInData)(s,f,p,c.opts.ownProperties)),v(p),c.allErrors||s.else().var(g,!0),s.endIf()),a.it.definedProperties.add(p),a.ok(g);function _(p){return c.opts.useDefaults&&!c.compositeRule&&l[p].default!==void 0}function v(p){a.subschema({keyword:"properties",schemaProp:p,dataProp:p},g)}}};e.default=o}}),Tte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=hs(),r=dr(),n=Br(),i=Br(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,data:u,parentSchema:f,it:c}=a,{opts:h}=c,m=(0,t.allSchemaProperties)(l),g=m.filter($=>(0,n.alwaysValidSchema)(c,l[$]));if(m.length===0||g.length===m.length&&(!c.opts.unevaluated||c.props===!0))return;const _=h.strictSchema&&!h.allowMatchingProperties&&f.properties,v=s.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(s,c.props));const{props:p}=c;E();function E(){for(const $ of m)_&&y($),c.allErrors?S($):(s.var(v,!0),S($),s.if(v))}function y($){for(const T in _)new RegExp($).test(T)&&(0,n.checkStrictMode)(c,`property ${T} matches pattern ${$} (use allowMatchingProperties)`)}function S($){s.forIn("key",u,T=>{s.if((0,r._)`${(0,t.usePattern)(a,$)}.test(${T})`,()=>{const d=g.includes($);d||a.subschema({keyword:"patternProperties",schemaProp:$,dataProp:T,dataPropType:i.Type.Str},v),c.opts.unevaluated&&p!==!0?s.assign((0,r._)`${p}[${T}]`,!0):!d&&!c.allErrors&&s.if((0,r.not)(v),()=>s.break())})})}}};e.default=o}}),Ate=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Br(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:a}=n;if((0,t.alwaysValidSchema)(a,o)){n.fail();return}const s=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),Pte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=hs(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),xte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),r=Br(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,it:u}=o;if(!Array.isArray(s))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=s,c=a.let("valid",!1),h=a.let("passing",null),m=a.name("_valid");o.setParams({passing:h}),a.block(g),o.result(c,()=>o.reset(),()=>o.error(!0));function g(){f.forEach((_,v)=>{let p;(0,r.alwaysValidSchema)(u,_)?a.var(m,!0):p=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},m),v>0&&a.if((0,t._)`${m} && ${c}`).assign(c,!1).assign(h,(0,t._)`[${h}, ${v}]`).else(),a.if(m,()=>{a.assign(c,!0),a.assign(h,v),p&&o.mergeEvaluated(p,t.Name)})})}}};e.default=i}}),Ote=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Br(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:a}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const s=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(a,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},s);n.ok(s),n.mergeEvaluated(f)})}};e.default=r}}),Rte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),r=Br(),n={message:({params:a})=>(0,t.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,t._)`{failingKeyword: ${a.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(a){const{gen:s,parentSchema:l,it:u}=a;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const h=s.let("valid",!0),m=s.name("_valid");if(g(),a.reset(),f&&c){const v=s.let("ifClause");a.setParams({ifClause:v}),s.if(m,_("then",v),_("else",v))}else f?s.if(m,_("then")):s.if((0,t.not)(m),_("else"));a.pass(h,()=>a.error(!0));function g(){const v=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);a.mergeEvaluated(v)}function _(v,p){return()=>{const E=a.subschema({keyword:v},m);s.assign(h,m),a.mergeValidEvaluated(E,h),p?s.assign(p,(0,t._)`${v}`):a.setParams({ifClause:v})}}}};function o(a,s){const l=a.schema[s];return l!==void 0&&!(0,r.alwaysValidSchema)(a,l)}e.default=i}}),Ite=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Br(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),Nte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=F6(),r=wte(),n=B6(),i=bte(),o=_te(),a=Ete(),s=Ste(),l=U6(),u=$te(),f=Tte(),c=Ate(),h=Pte(),m=xte(),g=Ote(),_=Rte(),v=Ite();function p(E=!1){const y=[c.default,h.default,m.default,g.default,_.default,v.default,s.default,l.default,a.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=p}}),Cte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/format/format.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:a,data:s,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:h,errSchemaPath:m,schemaEnv:g,self:_}=c;if(!h.validateFormats)return;l?v():p();function v(){const E=a.scopeValue("formats",{ref:_.formats,code:h.code.formats}),y=a.const("fDef",(0,t._)`${E}[${f}]`),S=a.let("fType"),$=a.let("format");a.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>a.assign(S,(0,t._)`${y}.type || "string"`).assign($,(0,t._)`${y}.validate`),()=>a.assign(S,(0,t._)`"string"`).assign($,y)),i.fail$data((0,t.or)(T(),d()));function T(){return h.strictSchema===!1?t.nil:(0,t._)`${f} && !${$}`}function d(){const A=g.$async?(0,t._)`(${y}.async ? await ${$}(${s}) : ${$}(${s}))`:(0,t._)`${$}(${s})`,P=(0,t._)`(typeof ${$} == "function" ? ${A} : ${$}.test(${s}))`;return(0,t._)`${$} && ${$} !== true && ${S} === ${o} && !${P}`}}function p(){const E=_.formats[u];if(!E){T();return}if(E===!0)return;const[y,S,$]=d(E);y===o&&i.pass(A());function T(){if(h.strictSchema===!1){_.logger.warn(P());return}throw new Error(P());function P(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function d(P){const x=P instanceof RegExp?(0,t.regexpCode)(P):h.code.formats?(0,t._)`${h.code.formats}${(0,t.getProperty)(u)}`:void 0,D=a.scopeValue("formats",{key:u,ref:P,code:x});return typeof P=="object"&&!(P instanceof RegExp)?[P.type||"string",P.validate,(0,t._)`${D}.validate`]:["string",P,D]}function A(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!g.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${s})`}return typeof S=="function"?(0,t._)`${$}(${s})`:(0,t._)`${$}.test(${s})`}}}};e.default=n}}),kte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/format/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Cte(),r=[t.default];e.default=r}}),jte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/metadata.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),Dte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/draft7.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=ate(),r=yte(),n=Nte(),i=kte(),o=jte(),a=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=a}}),Mte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))}}),Lte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),r=Mte(),n=CR(),i=Br(),o={message:({params:{discrError:s,tagName:l}})=>s===r.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:s,tag:l,tagName:u}})=>(0,t._)`{error: ${s}, tag: ${u}, tagValue: ${l}}`},a={keyword:"discriminator",type:"object",schemaType:"object",error:o,code(s){const{gen:l,data:u,schema:f,parentSchema:c,it:h}=s,{oneOf:m}=c;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");const g=f.propertyName;if(typeof g!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const _=l.let("valid",!1),v=l.const("tag",(0,t._)`${u}${(0,t.getProperty)(g)}`);l.if((0,t._)`typeof ${v} == "string"`,()=>p(),()=>s.error(!1,{discrError:r.DiscrError.Tag,tag:v,tagName:g})),s.ok(_);function p(){const S=y();l.if(!1);for(const $ in S)l.elseIf((0,t._)`${v} === ${$}`),l.assign(_,E(S[$]));l.else(),s.error(!1,{discrError:r.DiscrError.Mapping,tag:v,tagName:g}),l.endIf()}function E(S){const $=l.name("valid"),T=s.subschema({keyword:"oneOf",schemaProp:S},$);return s.mergeEvaluated(T,t.Name),$}function y(){var S;const $={},T=A(c);let d=!0;for(let D=0;D<m.length;D++){let F=m[D];F!=null&&F.$ref&&!(0,i.schemaHasRulesButRef)(F,h.self.RULES)&&(F=n.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,F==null?void 0:F.$ref),F instanceof n.SchemaEnv&&(F=F.schema));const V=(S=F==null?void 0:F.properties)===null||S===void 0?void 0:S[g];if(typeof V!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${g}"`);d=d&&(T||A(F)),P(V,D)}if(!d)throw new Error(`discriminator: "${g}" must be required`);return $;function A({required:D}){return Array.isArray(D)&&D.includes(g)}function P(D,F){if(D.const)x(D.const,F);else if(D.enum)for(const V of D.enum)x(V,F);else throw new Error(`discriminator: "properties/${g}" must have "const" or "enum"`)}function x(D,F){if(typeof D!="string"||D in $)throw new Error(`discriminator: "${g}" values must be unique strings`);$[D]=F}}}};e.default=a}}),Fte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),Bte=Oe({"../../node_modules/ajv-formats/node_modules/ajv/dist/ajv.js"(e,t){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=nte(),n=Dte(),i=Lte(),o=Fte(),a=["/properties"],s="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(m,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}};t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=eE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=dr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=IR();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=NR();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}}),Ute=Oe({"../../node_modules/ajv-formats/dist/limit.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;var t=Bte(),r=dr(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:s,schemaCode:l})=>r.str`should be ${i[s].okStr} ${l}`,params:({keyword:s,schemaCode:l})=>r._`{comparison: ${i[s].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(s){const{gen:l,data:u,schemaCode:f,keyword:c,it:h}=s,{opts:m,self:g}=h;if(!m.validateFormats)return;const _=new t.KeywordCxt(h,g.RULES.all.format.definition,"format");_.$data?v():p();function v(){const y=l.scopeValue("formats",{ref:g.formats,code:m.code.formats}),S=l.const("fmt",r._`${y}[${_.schemaCode}]`);s.fail$data(r.or(r._`typeof ${S} != "object"`,r._`${S} instanceof RegExp`,r._`typeof ${S}.compare != "function"`,E(S)))}function p(){const y=_.schema,S=g.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const $=l.scopeValue("formats",{key:y,ref:S,code:m.code.formats?r._`${m.code.formats}${r.getProperty(y)}`:void 0});s.fail$data(E($))}function E(y){return r._`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};var a=s=>(s.addKeyword(e.formatLimitDefinition),s);e.default=a}}),z6=Oe({"../../node_modules/ajv-formats/dist/index.js"(e,t){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var r=Jee(),n=Ute(),i=dr(),o=new i.Name("fullFormats"),a=new i.Name("fastFormats"),s=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,h]=f.mode==="fast"?[r.fastFormats,a]:[r.fullFormats,o],m=f.formats||r.formatNames;return l(u,m,c,h),f.keywords&&n.default(u),u};s.get=(u,f="full")=>{const h=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!h)throw new Error(`Unknown format "${u}"`);return h};function l(u,f,c,h){var m,g;(m=(g=u.opts.code).formats)!==null&&m!==void 0||(g.formats=i._`require("ajv-formats/dist/formats").${h}`);for(const _ of f)u.addFormat(_,c[_])}t.exports=e=s,Object.defineProperty(e,"__esModule",{value:!0}),e.default=s}}),zte=Oe({"../../node_modules/wot-thing-description-types/schema/td-json-schema-validation.json"(e,t){t.exports={title:"Thing Description",version:"1.1-09-November-2023",description:"JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values",$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json",definitions:{anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"}},security:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the old context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string",not:{const:"tm:ThingModel"}},{type:"array",items:{type:"string",not:{const:"tm:ThingModel"}}}]},"dataSchema-type":{type:"string",enum:["boolean","integer","number","string","object","array","null"]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{type:["integer","number"],exclusiveMinimum:0},expectedResponse:{type:"object",properties:{contentType:{type:"string"}},required:["contentType"]},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},required:["href"],additionalProperties:!0},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{type:"array",items:{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},minItems:1}]}},additionalProperties:!0},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["invokeaction","queryaction","cancelaction"]},{type:"array",items:{type:"string",enum:["invokeaction","queryaction","cancelaction"]},minItems:1}]}},additionalProperties:!0},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["subscribeevent","unsubscribeevent"]},{type:"array",items:{type:"string",enum:["subscribeevent","unsubscribeevent"]},minItems:1}]}},additionalProperties:!0},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{type:"array",items:{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},minItems:1}]}},additionalProperties:!0,required:["op"]},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},observable:{type:"boolean"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}},required:["forms"],additionalProperties:!0},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{type:"boolean"},idempotent:{type:"boolean"},synchronous:{type:"boolean"}},required:["forms"],additionalProperties:!0},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"}},required:["forms"],additionalProperties:!0},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]}},required:["href"],additionalProperties:!0},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon or tm:extends",properties:{rel:{enum:["icon","tm:extends"]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},required:["scheme"],additionalProperties:!0},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["nosec"]}},required:["scheme"],additionalProperties:!0},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["auto"]}},not:{required:["name"]},required:["scheme"],additionalProperties:!0},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},oneOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","oneOf"],additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},allOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","allOf"],additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["basic"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["digest"]},qop:{type:"string",enum:["auth","auth-int"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["apikey"]},in:{type:"string",enum:["header","query","body","cookie","uri","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["bearer"]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["psk"]},identity:{type:"string"}},required:["scheme"],additionalProperties:!0},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["oauth2"]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",enum:["code","client"]}]}},required:["scheme"],additionalProperties:!0},securityScheme:{oneOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]}},type:"object",properties:{id:{type:"string",format:"uri"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{type:"object",properties:{instance:{type:"string"}},required:["instance"]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"}},support:{$ref:"#/definitions/anyUri"},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},"@type":{$ref:"#/definitions/type_declaration"},"@context":{$ref:"#/definitions/thing-context"}},required:["title","security","securityDefinitions","@context"],additionalProperties:!0}}}),vg=Oe({"../core/dist/helpers.js"(e){Ae();var t=e&&e.__createBinding||(Object.create?function(y,S,$,T){T===void 0&&(T=$);var d=Object.getOwnPropertyDescriptor(S,$);(!d||("get"in d?!S.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return S[$]}}),Object.defineProperty(y,T,d)}:function(y,S,$,T){T===void 0&&(T=$),y[T]=S[$]}),r=e&&e.__setModuleDefault||(Object.create?function(y,S){Object.defineProperty(y,"default",{enumerable:!0,value:S})}:function(y,S){y.default=S}),n=e&&e.__importStar||function(){var y=function(S){return y=Object.getOwnPropertyNames||function($){var T=[];for(var d in $)Object.prototype.hasOwnProperty.call($,d)&&(T[T.length]=d);return T},y(S)};return function(S){if(S&&S.__esModule)return S;var $={};if(S!=null)for(var T=y(S),d=0;d<T.length;d++)T[d]!=="default"&&t($,S,T[d]);return r($,S),$}}(),i=e&&e.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var o=n((J5(),Ar(tB))),a=b7(),s=ug(),l=Xs(),u=i(D6()),f=i(z6()),c=i(zte()),h=Oo(),{debug:m,error:g,warn:_}=(0,h.createLoggers)("core","helpers"),v=c.default,p=new u.default({strict:!1});(0,f.default)(p);var E=class cl{constructor(S){this.srv=S}static extractScheme(S){const $=new URL(S);if(m($),$.protocol===null)throw new Error(`Protocol in url "${S}" must be valid`);const T=$.protocol.slice(0,-1);return m(`Helpers found scheme '${T}'`),T}static setStaticAddress(S){cl.staticAddress=S}static getAddresses(){const S=[];if(cl.staticAddress!==void 0)return S.push(cl.staticAddress),m(`AddressHelper uses static ${S}`),S;{const $=o.networkInterfaces();for(const T of Object.values($))T==null||T.forEach(d=>{m(`AddressHelper found ${d.address}`),d.internal===!1&&(d.family==="IPv4"?S.push(d.address):d.scopeid===0&&S.push(cl.toUriLiteral(d.address)))});return S.length===0&&S.push("localhost"),m(`AddressHelper identified ${S}`),S}}static toUriLiteral(S){return S==null?(g(`AddressHelper received invalid address '${S}'`),"{invalid address - undefined}"):(S.indexOf(":")!==-1&&(S=`[${S}]`),S)}static generateUniqueName(S){const $=S.match(/.+_([0-9]+)$/);return $!==null?S.slice(0,-$[1].length)+(1+parseInt($[1])):S+"_2"}static toStringArray(S){return S!=null?typeof S=="string"?[S]:S:[]}static structuredClone(S){return JSON.parse(JSON.stringify(S))}fetch(S){return new Promise(($,T)=>{const d=this.srv.getClientFor(cl.extractScheme(S));m(`WoTImpl fetching TD from '${S}' with ${d}`),d.readResource(new s.Form(S,l.ContentSerdes.TD)).then(async A=>{A.type!==l.ContentSerdes.TD&&A.type!==l.ContentSerdes.JSON_LD&&_(`WoTImpl received TD with media type '${A.type}' from ${S}`);const P=(await A.toBuffer()).toString("utf-8");try{const x=JSON.parse(P);$(x)}catch(x){T(new Error(`WoTImpl fetched invalid JSON from '${S}': ${x instanceof Error?x.message:x}`))}}).then(async A=>(await d.stop(),A)).catch(A=>{T(A)})})}static extend(S,$){const T={};for(const[d,A]of Object.entries(S))T[d]=A;for(const[d,A]of Object.entries($))Object.prototype.hasOwnProperty.call(T,d)||(T[d]=A);return T}static async parseInteractionOutput(S){try{return await S.value()}catch{throw g("parseInteractionOutput low-level stream not implemented"),new Error("parseInteractionOutput low-level stream not implemented")}}static createExposeThingInitSchema(S){const $=cl.structuredClone(S);if($.required!==void 0){const T=["title","@context","instance","forms","security","href","securityDefinitions"];if(Array.isArray($.required)){const d=$.required;$.required=d.filter(A=>!T.includes(A))}else typeof $.required=="string"&&T.indexOf($.required)!==-1&&delete $.required}if($.definitions!=null)for(const[T,d]of Object.entries($.definitions)??[])$.definitions[T]=this.createExposeThingInitSchema(d);return $}static validateExposedThingInit(S){var d;if(S["@type"]==="tm:ThingModel"||a.ThingModelHelpers.isThingModel(S)===!0)return{valid:!1,errors:"ThingModel declaration is not supported"};const $=cl.tsSchemaValidator(S);let T;return $||(T=(d=cl.tsSchemaValidator.errors)==null?void 0:d.map(A=>A.message).join(`
`)),{valid:$,errors:T}}static parseInteractionOptions(S,$,T){if(!this.validateInteractionOptions(S,$,T))throw new Error(`CoreHelpers one or more uriVariables were not found under neither '${$.title}' Thing Interaction nor '${S.title}' Thing`);const d=$.uriVariables??{},A=S.uriVariables??{},P={};T!=null&&T.uriVariables?Object.entries(T.uriVariables).forEach(D=>{(D[0]in d||D[0]in A)&&(P[D[0]]=D[1])}):T={uriVariables:{}};for(const[x,D]of Object.entries(A))!(x in P)&&"default"in D&&(P[x]=D.default);return T.uriVariables=P,T}static validateInteractionOptions(S,$,T){const d=$.uriVariables??{},A=S.uriVariables??{};if(T!=null&&T.uriVariables){const P=Object.entries(T.uriVariables);for(let x=0;x<P.length;x++){const D=P[x];if(!(D[0]in d)&&!(D[0]in A))return!1}}return!0}static parseUrlParameters(S,$={},T={}){const d={};if(S==null||T==null&&$==null)return d;const A=S.split("?")[1];return A==null||(A.indexOf("&")!==-1?A.split("&"):[A]).forEach(x=>{const D=x.split("="),F=decodeURIComponent(D[0]),V=decodeURIComponent(D.length>1?D[1]:"");T!=null&&T[F]!=null?T[F].type==="integer"||T[F].type==="number"?d[F]=+V:d[F]=V:$!=null&&$[F]!=null&&($[F].type==="integer"||$[F].type==="number"?d[F]=+V:d[F]=V)}),d}static updateInteractionNameWithUriVariablePattern(S,$={},T={}){const d=encodeURIComponent(S),A=[...Object.keys($),...Object.keys(T)];if(A.length===0)return d;const P=A.map(encodeURIComponent).join(",");return d+"{?"+P+"}"}};E.tsSchemaValidator=p.compile(E.createExposeThingInitSchema(v)),E.staticAddress=void 0,e.default=E}}),qte=Oe({"../core/dist/errors.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.DataSchemaError=e.NotSupportedError=e.NotReadableError=void 0;var t=class q6 extends Error{constructor(o){super(o),Object.setPrototypeOf(this,q6.prototype)}};e.NotReadableError=t;var r=class V6 extends Error{constructor(o){super(o),Object.setPrototypeOf(this,V6.prototype)}};e.NotSupportedError=r;var n=class extends Error{constructor(i,o){super(i),this.value=o,Object.setPrototypeOf(this,r.prototype)}};e.DataSchemaError=n}}),H6=Oe({"../core/dist/interaction-output.js"(e){Ae();var t=e&&e.__createBinding||(Object.create?function(T,d,A,P){P===void 0&&(P=A);var x=Object.getOwnPropertyDescriptor(d,A);(!x||("get"in x?!d.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return d[A]}}),Object.defineProperty(T,P,x)}:function(T,d,A,P){P===void 0&&(P=A),T[P]=d[A]}),r=e&&e.__setModuleDefault||(Object.create?function(T,d){Object.defineProperty(T,"default",{enumerable:!0,value:d})}:function(T,d){T.default=d}),n=e&&e.__importStar||function(){var T=function(d){return T=Object.getOwnPropertyNames||function(A){var P=[];for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(P[P.length]=x);return P},T(d)};return function(d){if(d&&d.__esModule)return d;var A={};if(d!=null)for(var P=T(d),x=0;x<P.length;x++)P[x]!=="default"&&t(A,d,P[x]);return r(A,d),A}}(),i=e&&e.__classPrivateFieldGet||function(T,d,A,P){if(A==="a"&&!P)throw new TypeError("Private accessor was defined without a getter");if(typeof d=="function"?T!==d||!P:!d.has(T))throw new TypeError("Cannot read private member from an object whose class did not declare it");return A==="m"?P:A==="a"?P.call(T):P?P.value:d.get(T)},o=e&&e.__classPrivateFieldSet||function(T,d,A,P,x){if(P==="m")throw new TypeError("Private method is not writable");if(P==="a"&&!x)throw new TypeError("Private accessor was defined without a setter");if(typeof d=="function"?T!==d||!x:!d.has(T))throw new TypeError("Cannot write private member to an object whose class did not declare it");return P==="a"?x.call(T,A):x?x.value=A:d.set(T,A),A},a=e&&e.__importDefault||function(T){return T&&T.__esModule?T:{default:T}},s,l,u,f;Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionOutput=void 0;var c=n((z_(),Ar(U_))),h=Xs(),m=Io(),g=qte(),_=a(D6()),v=a(z6()),p=Oo(),{debug:E,warn:y}=(0,p.createLoggers)("core","interaction-output"),S=new _.default({strict:!1,addUsedSchema:!1});(0,v.default)(S);var $=class{get data(){if(i(this,f,"f"))return i(this,f,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");return this.dataUsed=!0,o(this,f,m.ProtocolHelpers.toWoTStream(i(this,s,"f").body),"f")}constructor(T,d,A,P={ignoreValidation:!1}){s.set(this,void 0),l.set(this,void 0),u.set(this,void 0),f.set(this,void 0),o(this,s,T,"f"),this.form=d,this.schema=A,this.ignoreValidation=P.ignoreValidation??!1,this.dataUsed=!1}async arrayBuffer(){if(i(this,u,"f"))return i(this,u,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");const T=await i(this,s,"f").toBuffer();return this.dataUsed=!0,o(this,u,T,"f"),T}async value(){if(this.schema==null){y("No schema defined. Hence undefined is reported for value() function. If you are invoking an action with no output that is on purpose, otherwise consider using arrayBuffer().");return}if(i(this,l,"f")!==void 0)return i(this,l,"f");if(this.dataUsed)throw new g.NotReadableError("Can't read the stream once it has been already used");if(this.form==null)throw new g.NotReadableError("No form defined");if(this.schema.const==null&&this.schema.enum==null&&this.schema.oneOf==null&&this.schema.type==null)throw new g.NotReadableError("No schema type defined");if(!h.ContentSerdes.get().isSupported(i(this,s,"f").type)){const P=`Content type ${i(this,s,"f").type} not supported`;throw new g.NotSupportedError(P)}const T=await i(this,s,"f").toBuffer();this.dataUsed=!0,o(this,u,T,"f");const d=h.ContentSerdes.get().contentToValue({type:i(this,s,"f").type,body:T},this.schema),A=S.compile(this.schema);if(!this.ignoreValidation&&!A(d))throw E(`schema = ${c.inspect(this.schema,{depth:10,colors:!0})}`),E(`value: ${d}`),E(`Error: ${A.errors}`),new g.DataSchemaError("Invalid value according to DataSchema",d);return o(this,l,d,"f"),d}};e.InteractionOutput=$,s=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap}}),Vte=Oe({"../core/dist/protocol-listener-registry.js"(e){Ae();var t=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(Xs()),n=class G6{constructor(){this.listeners=new Map}register(o,a,s){if(o.forms[a]==null)throw new Error("Can't register the listener for affordance with formIndex. The affordance does not contain the form");let l=this.listeners.get(o);l||(l=new Map,this.listeners.set(o,l));let u=l.get(a);u||(u=[],l.set(a,u)),u.push(s)}unregister(o,a,s){const l=this.listeners.get(o);if(!l)throw new Error("Not found");const u=l.get(a);if(!u)throw new Error("Form not found");const f=u.indexOf(s);if(f<0)throw new Error("Form not found");u.splice(f,1)}unregisterAll(){this.listeners.clear()}notify(o,a,s,l){const u=this.listeners.get(o)??G6.EMPTY_MAP;if(l!==void 0){const f=u.get(l);if(f){const c=o.forms[l].contentType,h=r.default.valueToContent(a,s,c);f.forEach(m=>m(h));return}}for(const[f,c]of u){const h=o.forms[f].contentType,m=r.default.valueToContent(a,s,h);c.forEach(g=>g(m))}}};n.EMPTY_MAP=new Map,e.default=n}}),W6=Oe({"../core/dist/exposed-thing.js"(e){Ae();var t=e&&e.__createBinding||(Object.create?function(x,D,F,V){V===void 0&&(V=F);var X=Object.getOwnPropertyDescriptor(D,F);(!X||("get"in X?!D.__esModule:X.writable||X.configurable))&&(X={enumerable:!0,get:function(){return D[F]}}),Object.defineProperty(x,V,X)}:function(x,D,F,V){V===void 0&&(V=F),x[V]=D[F]}),r=e&&e.__setModuleDefault||(Object.create?function(x,D){Object.defineProperty(x,"default",{enumerable:!0,value:D})}:function(x,D){x.default=D}),n=e&&e.__importStar||function(){var x=function(D){return x=Object.getOwnPropertyNames||function(F){var V=[];for(var X in F)Object.prototype.hasOwnProperty.call(F,X)&&(V[V.length]=X);return V},x(D)};return function(D){if(D&&D.__esModule)return D;var F={};if(D!=null)for(var V=x(D),X=0;X<V.length;X++)V[X]!=="default"&&t(F,D,V[X]);return r(F,D),F}}(),i=e&&e.__classPrivateFieldSet||function(x,D,F,V,X){if(V==="m")throw new TypeError("Private method is not writable");if(V==="a"&&!X)throw new TypeError("Private accessor was defined without a setter");if(typeof D=="function"?x!==D||!X:!D.has(x))throw new TypeError("Cannot write private member to an object whose class did not declare it");return V==="a"?X.call(x,F):X?X.value=F:D.set(x,F),F},o=e&&e.__classPrivateFieldGet||function(x,D,F,V){if(F==="a"&&!V)throw new TypeError("Private accessor was defined without a getter");if(typeof D=="function"?x!==D||!V:!D.has(x))throw new TypeError("Cannot read private member from an object whose class did not declare it");return F==="m"?V:F==="a"?V.call(x):V?V.value:D.get(x)},a=e&&e.__importDefault||function(x){return x&&x.__esModule?x:{default:x}},s,l,u,f,c,h;Object.defineProperty(e,"__esModule",{value:!0});var m=n(ug()),g=tR(),_=a(vg()),v=H6(),p=(Na(),Ar(Xo)),E=a(TR()),y=$R(),S=Io(),$=a(Xs()),T=a(Vte()),d=Oo(),{debug:A}=(0,d.createLoggers)("core","exposed-thing"),P=class extends m.Thing{constructor(x,D={}){super(),s.set(this,new Map),l.set(this,new Map),u.set(this,new Map),f.set(this,new T.default),c.set(this,new T.default),h.set(this,void 0),i(this,h,x,"f"),this.id=D.id??"",this.title=D.title??"",this.security="",this.securityDefinitions={},this.properties={},this.actions={},this.events={};const F=_.default.structuredClone(D);Object.assign(this,F),(0,g.setContextLanguage)(this,m.DEFAULT_CONTEXT_LANGUAGE,!1)}getThingDescription(){return JSON.parse((0,g.serializeTD)(this))}emitEvent(x,D){if(this.events[x]!=null){const F=this.events[x];o(this,c,"f").notify(F,D,F.data)}else throw new Error("NotFoundError for event '"+x+"'")}async emitPropertyChange(x){var D;if(this.properties[x]!=null){const F=this.properties[x],V=(D=o(this,s,"f").get(x))==null?void 0:D.readHandler;if(!V)throw new Error("Can't read property readHandler is not defined. Did you forget to register a readHandler?");const X=await V();o(this,f,"f").notify(F,X,F)}else throw new Error("NotFoundError for property '"+x+"'")}expose(){return A(`ExposedThing '${this.title}' exposing all Interactions and TD`),new Promise((x,D)=>{o(this,h,"f").expose(this).then(()=>{x()}).catch(F=>D(F))})}async destroy(){A(`ExposedThing '${this.title}' destroying the thing and its interactions`),await o(this,h,"f").destroyThing(this.id),o(this,c,"f").unregisterAll(),o(this,f,"f").unregisterAll(),o(this,u,"f").clear(),o(this,s,"f").clear(),o(this,u,"f").clear()}setPropertyReadHandler(x,D){if(A(`ExposedThing '${this.title}' setting read handler for '${x}'`),this.properties[x]!=null){if(this.properties[x].writeOnly===!0)throw new Error(`ExposedThing '${this.title}' cannot set read handler for property '${x}' due to writeOnly flag`);{let F=o(this,s,"f").get(x);F?F.readHandler=D:F={readHandler:D},o(this,s,"f").set(x,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${x}'`);return this}setPropertyWriteHandler(x,D){if(A(`ExposedThing '${this.title}' setting write handler for '${x}'`),this.properties[x]!=null){if(this.properties[x].readOnly===!0)throw new Error(`ExposedThing '${this.title}' cannot set write handler for property '${x}' due to readOnly flag`);{let F=o(this,s,"f").get(x);F?F.writeHandler=D:F={writeHandler:D},o(this,s,"f").set(x,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${x}'`);return this}setPropertyObserveHandler(x,D){if(A(`ExposedThing '${this.title}' setting property observe handler for '${x}'`),this.properties[x]!=null){if(this.properties[x].observable!==!0)throw new Error(`ExposedThing '${this.title}' cannot set observe handler for property '${x}' since the observable flag is set to false`);{let F=o(this,s,"f").get(x);F?F.observeHandler=D:F={observeHandler:D},o(this,s,"f").set(x,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${x}'`);return this}setPropertyUnobserveHandler(x,D){if(A(`ExposedThing '${this.title}' setting property unobserve handler for '${x}'`),this.properties[x]!=null){if(this.properties[x].observable!==!0)throw new Error(`ExposedThing '${this.title}' cannot set unobserve handler for property '${x}' due to missing observable flag`);{let F=o(this,s,"f").get(x);F?F.unobserveHandler=D:F={unobserveHandler:D},o(this,s,"f").set(x,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${x}'`);return this}setActionHandler(x,D){if(A(`ExposedThing '${this.title}' setting action handler for '${x}'`),this.actions[x]!=null)o(this,l,"f").set(x,D);else throw new Error(`ExposedThing '${this.title}' has no Action '${x}'`);return this}setEventSubscribeHandler(x,D){if(A(`ExposedThing '${this.title}' setting event subscribe handler for '${x}'`),this.events[x]!=null){let F=o(this,u,"f").get(x);F?F.subscribe=D:F={subscribe:D},o(this,u,"f").set(x,F)}else throw new Error(`ExposedThing '${this.title}' has no Event '${x}'`);return this}setEventUnsubscribeHandler(x,D){if(A(`ExposedThing '${this.title}' setting event unsubscribe handler for '${x}'`),this.events[x]!=null){let F=o(this,u,"f").get(x);F?F.unsubscribe=D:F={unsubscribe:D},o(this,u,"f").set(x,F)}else throw new Error(`ExposedThing '${this.title}' has no Event '${x}'`);return this}async handleInvokeAction(x,D,F){if(this.actions[x]!=null){A(`ExposedThing '${this.title}' has Action state of '${x}'`);const V=o(this,l,"f").get(x);if(V!=null){A(`ExposedThing '${this.title}' calls registered handler for Action '${x}'`),_.default.validateInteractionOptions(this,this.actions[x],F);const X=this.actions[x].forms[F.formIndex]??{contentType:"application/json"},G=await V(new v.InteractionOutput(D,X,this.actions[x].input),F);if(G!==void 0)return $.default.valueToContent(G,this.actions[x].output,X.contentType)}else throw new Error(`ExposedThing '${this.title}' has no handler for Action '${x}'`)}else throw new Error(`ExposedThing '${this.title}', no action found for '${x}'`)}async handleReadProperty(x,D){var F,V;if(this.properties[x]!=null){A(`ExposedThing '${this.title}' has Action state of '${x}'`);const X=(F=o(this,s,"f").get(x))==null?void 0:F.readHandler;if(X!=null){A(`ExposedThing '${this.title}' calls registered readHandler for Property '${x}'`),_.default.validateInteractionOptions(this,this.properties[x],D);const G=await X(D),Q=((V=this.properties[x])==null?void 0:V.forms[D.formIndex])??{contentType:"application/json"};return $.default.valueToContent(G,this.properties[x],(Q==null?void 0:Q.contentType)??"application/json")}else throw new Error(`ExposedThing '${this.title}' has no readHandler for Property '${x}'`)}else throw new Error(`ExposedThing '${this.title}', no property found for '${x}'`)}async _handleReadProperties(x,D){try{const F=new Map;for(const V of x){if(!this.properties[V].forms.find(Q=>Q.contentType===S.ContentSerdes.DEFAULT||Q.contentType==null))continue;const G=await this.handleReadProperty(V,D);F.set(V,G)}return F}catch(F){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${x}.
 Error: ${F}`)}}async handleReadAllProperties(x){const D=Object.keys(this.properties);return await this._handleReadProperties(D,x)}async handleReadMultipleProperties(x,D){return await this._handleReadProperties(x,D)}async handleWriteProperty(x,D,F){var V,X;if(this.properties[x]!=null){if(this.properties[x].readOnly===!0)throw new Error(`ExposedThing '${this.title}', property '${x}' is readOnly`);_.default.validateInteractionOptions(this,this.properties[x],F);const G=(V=o(this,s,"f").get(x))==null?void 0:V.writeHandler,Q=((X=this.properties[x])==null?void 0:X.forms[F.formIndex])??{};if(G!=null)await G(new v.InteractionOutput(D,Q,this.properties[x]),F);else throw new Error(`ExposedThing '${this.title}' has no writeHandler for Property '${x}'`)}else throw new Error(`ExposedThing '${this.title}', no property found for '${x}'`)}async handleWriteMultipleProperties(x,D){const F=[];for(const[V,X]of Object.entries(x))this.properties[V].forms.find(Q=>Q.contentType==="application/json"||Q.contentType==null)!=null&&F.push(this.handleWriteProperty(V,X,D));try{await Promise.all(F)}catch(V){throw new Error(`ExposedThing '${this.title}', failed to write multiple properties. ${V.message}`)}}async handleSubscribeEvent(x,D,F){var V;if(this.events[x]!=null){_.default.validateInteractionOptions(this,this.events[x],F);const X=E.default.getFormIndexForOperation(this.events[x],"event","subscribeevent",F.formIndex);if(X!==-1)o(this,c,"f").register(this.events[x],X,D),A(`ExposedThing '${this.title}' subscribes to event '${x}'`);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${x}' with form index '${F.formIndex}'`);const G=(V=o(this,u,"f").get(x))==null?void 0:V.subscribe;G&&await G(F),A(`ExposedThing '${this.title}' subscribes to event '${x}'`)}else throw new Error(`ExposedThing '${this.title}', no event found for '${x}'`)}handleUnsubscribeEvent(x,D,F){var V;if(this.events[x]!=null){_.default.validateInteractionOptions(this,this.events[x],F);const X=E.default.getFormIndexForOperation(this.events[x],"event","unsubscribeevent",F.formIndex);if(X!==-1)o(this,c,"f").unregister(this.events[x],X,D);else throw new Error(`ExposedThing '${this.title}', no event listener from found for '${x}' with form index '${F.formIndex}'`);const G=(V=o(this,u,"f").get(x))==null?void 0:V.unsubscribe;G&&G(F),A(`ExposedThing '${this.title}' unsubscribes from event '${x}'`)}else throw new Error(`ExposedThing '${this.title}', no event found for '${x}'`)}async handleObserveProperty(x,D,F){var V;if(this.properties[x]!=null){_.default.validateInteractionOptions(this,this.properties[x],F);const X=E.default.getFormIndexForOperation(this.properties[x],"property","observeproperty",F.formIndex);if(X!==-1)o(this,f,"f").register(this.properties[x],X,D),A(`ExposedThing '${this.title}' subscribes to property '${x}'`);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${x}' with form index '${F.formIndex}'`);const G=(V=o(this,s,"f").get(x))==null?void 0:V.observeHandler;G&&await G(F)}else throw new Error(`ExposedThing '${this.title}', no property found for '${x}'`)}handleUnobserveProperty(x,D,F){var V;if(this.properties[x]!=null){_.default.validateInteractionOptions(this,this.properties[x],F);const X=E.default.getFormIndexForOperation(this.properties[x],"property","unobserveproperty",F.formIndex);if(X!==-1)o(this,f,"f").unregister(this.properties[x],X,D);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${x}' with form index '${F.formIndex}'`);const G=(V=o(this,s,"f").get(x))==null?void 0:V.unobserveHandler;G&&G(F)}else throw new Error(`ExposedThing '${this.title}', no property found for '${x}'`)}static interactionInputToReadable(x){let D;return typeof ReadableStream<"u"&&x instanceof ReadableStream||x instanceof y.ReadableStream?D=E.default.toNodeStream(x):Array.isArray(x)||typeof x=="object"?D=p.Readable.from(Kr.from(JSON.stringify(x),"utf-8")):D=p.Readable.from(Kr.from(x.toString(),"utf-8")),D}};s=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,c=new WeakMap,h=new WeakMap,e.default=P}}),Hte=Oe({"../../node_modules/content-type/index.js"(e){Ae();var t=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,r=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,n=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,i=/\\([\u000b\u0020-\u00ff])/g,o=/([\\"])/g,a=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;e.format=s,e.parse=l;function s(h){if(!h||typeof h!="object")throw new TypeError("argument obj is required");var m=h.parameters,g=h.type;if(!g||!a.test(g))throw new TypeError("invalid type");var _=g;if(m&&typeof m=="object")for(var v,p=Object.keys(m).sort(),E=0;E<p.length;E++){if(v=p[E],!n.test(v))throw new TypeError("invalid parameter name");_+="; "+v+"="+f(m[v])}return _}function l(h){if(!h)throw new TypeError("argument string is required");var m=typeof h=="object"?u(h):h;if(typeof m!="string")throw new TypeError("argument string is required to be a string");var g=m.indexOf(";"),_=g!==-1?m.slice(0,g).trim():m.trim();if(!a.test(_))throw new TypeError("invalid media type");var v=new c(_.toLowerCase());if(g!==-1){var p,E,y;for(t.lastIndex=g;E=t.exec(m);){if(E.index!==g)throw new TypeError("invalid parameter format");g+=E[0].length,p=E[1].toLowerCase(),y=E[2],y.charCodeAt(0)===34&&(y=y.slice(1,-1),y.indexOf("\\")!==-1&&(y=y.replace(i,"$1"))),v.parameters[p]=y}if(g!==m.length)throw new TypeError("invalid parameter format")}return v}function u(h){var m;if(typeof h.getHeader=="function"?m=h.getHeader("content-type"):typeof h.headers=="object"&&(m=h.headers&&h.headers["content-type"]),typeof m!="string")throw new TypeError("content-type header is missing from object");return m}function f(h){var m=String(h);if(n.test(m))return m;if(m.length>0&&!r.test(m))throw new TypeError("invalid parameter value");return'"'+m.replace(o,"\\$1")+'"'}function c(h){this.parameters=Object.create(null),this.type=h}}}),Gte=Oe({"../../node_modules/uritemplate/bin/uritemplate.js"(e,t){Ae(),function(r){var n=function(){function _(v){this.options=v}return _.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},_}(),i=function(){function _(A){return Object.prototype.toString.apply(A)==="[object Array]"}function v(A){return Object.prototype.toString.apply(A)==="[object String]"}function p(A){return Object.prototype.toString.apply(A)==="[object Number]"}function E(A){return Object.prototype.toString.apply(A)==="[object Boolean]"}function y(A,P){var x="",D=!0,F;for(F=0;F<A.length;F+=1)D?D=!1:x+=P,x+=A[F];return x}function S(A,P){for(var x=[],D=0;D<A.length;D+=1)x.push(P(A[D]));return x}function $(A,P){for(var x=[],D=0;D<A.length;D+=1)P(A[D])&&x.push(A[D]);return x}function T(A){if(typeof A!="object"||A===null)return A;Object.freeze(A);var P,x;for(x in A)A.hasOwnProperty(x)&&(P=A[x],typeof P=="object"&&d(P));return A}function d(A){return typeof Object.freeze=="function"?T(A):A}return{isArray:_,isString:v,isNumber:p,isBoolean:E,join:y,map:S,filter:$,deepFreeze:d}}(),o=function(){function _(E){return E>="a"&&E<="z"||E>="A"&&E<="Z"}function v(E){return E>="0"&&E<="9"}function p(E){return v(E)||E>="a"&&E<="f"||E>="A"&&E<="F"}return{isAlpha:_,isDigit:v,isHexDigit:p}}(),a=function(){var _={encode:function($){return unescape(encodeURIComponent($))},numBytes:function($){return $<=127?1:194<=$&&$<=223?2:224<=$&&$<=239?3:240<=$&&$<=244?4:0},isValidFollowingCharCode:function($){return 128<=$&&$<=191}};function v($){var T="",d=_.encode($),A,P;for(P=0;P<d.length;P+=1)A=d.charCodeAt(P),T+="%"+(A<16?"0":"")+A.toString(16).toUpperCase();return T}function p($,T){return $.charAt(T)==="%"&&o.isHexDigit($.charAt(T+1))&&o.isHexDigit($.charAt(T+2))}function E($,T){return parseInt($.substr(T,2),16)}function y($){if(!p($,0))return!1;var T=E($,1),d=_.numBytes(T);if(d===0)return!1;for(var A=1;A<d;A+=1)if(!p($,3*A)||!_.isValidFollowingCharCode(E($,3*A+1)))return!1;return!0}function S($,T){var d=$.charAt(T);if(!p($,T))return d;var A=E($,T+1),P=_.numBytes(A);if(P===0)return d;for(var x=1;x<P;x+=1)if(!p($,T+3*x)||!_.isValidFollowingCharCode(E($,T+3*x+1)))return d;return $.substr(T,3*P)}return{encodeCharacter:v,isPctEncoded:y,pctCharAt:S}}(),s=function(){function _(E){return o.isAlpha(E)||o.isDigit(E)||E==="_"||a.isPctEncoded(E)}function v(E){return o.isAlpha(E)||o.isDigit(E)||E==="-"||E==="."||E==="_"||E==="~"}function p(E){return E===":"||E==="/"||E==="?"||E==="#"||E==="["||E==="]"||E==="@"||E==="!"||E==="$"||E==="&"||E==="("||E===")"||E==="*"||E==="+"||E===","||E===";"||E==="="||E==="'"}return{isVarchar:_,isUnreserved:v,isReserved:p}}(),l=function(){function _(y,S){var $="",T,d="";for((typeof y=="number"||typeof y=="boolean")&&(y=y.toString()),T=0;T<y.length;T+=d.length)d=y.charAt(T),$+=s.isUnreserved(d)||S&&s.isReserved(d)?d:a.encodeCharacter(d);return $}function v(y){return _(y,!0)}function p(y,S){var $=a.pctCharAt(y,S);return $.length>1||s.isReserved($)||s.isUnreserved($)?$:a.encodeCharacter($)}function E(y){var S="",$,T="";for($=0;$<y.length;$+=T.length)T=a.pctCharAt(y,$),T.length>1?S+=T:S+=s.isReserved(T)||s.isUnreserved(T)?T:a.encodeCharacter(T);return S}return{encode:_,encodePassReserved:v,encodeLiteral:E,encodeLiteralCharacter:p}}(),u=function(){var _={};function v(p){_[p]={symbol:p,separator:p==="?"?"&":p===""||p==="+"||p==="#"?",":p,named:p===";"||p==="&"||p==="?",ifEmpty:p==="&"||p==="?"?"=":"",first:p==="+"?"":p,encode:p==="+"||p==="#"?l.encodePassReserved:l.encode,toString:function(){return this.symbol}}}return v(""),v("+"),v("#"),v("."),v("/"),v(";"),v("?"),v("&"),{valueOf:function(p){return _[p]?_[p]:"=,!@|".indexOf(p)>=0?null:_[""]}}}();function f(_){var v;if(_==null)return!1;if(i.isArray(_))return _.length>0;if(typeof _=="string"||typeof _=="number"||typeof _=="boolean")return!0;for(v in _)if(_.hasOwnProperty(v)&&f(_[v]))return!0;return!1}var c=function(){function _(v){this.literal=l.encodeLiteral(v)}return _.prototype.expand=function(){return this.literal},_.prototype.toString=_.prototype.expand,_}(),h=function(){function _(p){var E,y=[],S=null,$=null,T=null,d,A="";function P(){var D=p.substring($,d);if(D.length===0)throw new n({expressionText:p,message:"a varname must be specified",position:d});S={varname:D,exploded:!1,maxLength:null},$=null}function x(){if(T===d)throw new n({expressionText:p,message:"after a ':' you have to specify the length",position:d});S.maxLength=parseInt(p.substring(T,d),10),T=null}for(E=function(D){var F=u.valueOf(D);if(F===null)throw new n({expressionText:p,message:"illegal use of reserved operator",position:d,operator:D});return F}(p.charAt(0)),d=E.symbol.length,$=d;d<p.length;d+=A.length){if(A=a.pctCharAt(p,d),$!==null){if(A==="."){if($===d)throw new n({expressionText:p,message:"a varname MUST NOT start with a dot",position:d});continue}if(s.isVarchar(A))continue;P()}if(T!==null){if(d===T&&A==="0")throw new n({expressionText:p,message:"A :prefix must not start with digit 0",position:d});if(o.isDigit(A)){if(d-T>=4)throw new n({expressionText:p,message:"A :prefix must have max 4 digits",position:d});continue}x()}if(A===":"){if(S.maxLength!==null)throw new n({expressionText:p,message:"only one :maxLength is allowed per varspec",position:d});if(S.exploded)throw new n({expressionText:p,message:"an exploeded varspec MUST NOT be varspeced",position:d});T=d+1;continue}if(A==="*"){if(S===null)throw new n({expressionText:p,message:"exploded without varspec",position:d});if(S.exploded)throw new n({expressionText:p,message:"exploded twice",position:d});if(S.maxLength)throw new n({expressionText:p,message:"an explode (*) MUST NOT follow to a prefix",position:d});S.exploded=!0;continue}if(A===","){y.push(S),S=null,$=d+1;continue}throw new n({expressionText:p,message:"illegal character",character:A,position:d})}return $!==null&&P(),T!==null&&x(),y.push(S),new m(p,E,y)}function v(p){var E,y,S=[],$=null,T=0;for(E=0;E<p.length;E+=1){if(y=p.charAt(E),T!==null){if(y==="}")throw new n({templateText:p,message:"unopened brace closed",position:E});y==="{"&&(T<E&&S.push(new c(p.substring(T,E))),T=null,$=E);continue}if($!==null){if(y==="{")throw new n({templateText:p,message:"brace already opened",position:E});if(y==="}"){if($+1===E)throw new n({templateText:p,message:"empty braces",position:$});try{S.push(_(p.substring($+1,E)))}catch(d){throw d.prototype===n.prototype?new n({templateText:p,message:d.options.message,position:$+d.options.position,details:d.options}):d}$=null,T=E+1}continue}throw new Error("reached unreachable code")}if($!==null)throw new n({templateText:p,message:"unclosed brace",position:$});return T<p.length&&S.push(new c(p.substr(T))),new g(p,S)}return v}(),m=function(){function _(A){return JSON&&JSON.stringify?JSON.stringify(A):A}function v(A){if(!f(A))return!0;if(i.isString(A))return A==="";if(i.isNumber(A)||i.isBoolean(A))return!1;if(i.isArray(A))return A.length===0;for(var P in A)if(A.hasOwnProperty(P))return!1;return!0}function p(A){var P=[],x;for(x in A)A.hasOwnProperty(x)&&P.push({name:x,value:A[x]});return P}function E(A,P,x){this.templateText=A,this.operator=P,this.varspecs=x}E.prototype.toString=function(){return this.templateText};function y(A,P,x){var D="";if(x=x.toString(),P.named){if(D+=l.encodeLiteral(A.varname),x==="")return D+=P.ifEmpty,D;D+="="}return A.maxLength!==null&&(x=x.substr(0,A.maxLength)),D+=P.encode(x),D}function S(A){return f(A.value)}function $(A,P,x){var D=[],F="";if(P.named){if(F+=l.encodeLiteral(A.varname),v(x))return F+=P.ifEmpty,F;F+="="}return i.isArray(x)?(D=x,D=i.filter(D,f),D=i.map(D,P.encode),F+=i.join(D,",")):(D=p(x),D=i.filter(D,S),D=i.map(D,function(V){return P.encode(V.name)+","+P.encode(V.value)}),F+=i.join(D,",")),F}function T(A,P,x){var D=i.isArray(x),F=[];return D?(F=x,F=i.filter(F,f),F=i.map(F,function(V){var X=l.encodeLiteral(A.varname);return v(V)?X+=P.ifEmpty:X+="="+P.encode(V),X})):(F=p(x),F=i.filter(F,S),F=i.map(F,function(V){var X=l.encodeLiteral(V.name);return v(V.value)?X+=P.ifEmpty:X+="="+P.encode(V.value),X})),i.join(F,P.separator)}function d(A,P){var x=[],D="";return i.isArray(P)?(x=P,x=i.filter(x,f),x=i.map(x,A.encode),D+=i.join(x,A.separator)):(x=p(P),x=i.filter(x,function(F){return f(F.value)}),x=i.map(x,function(F){return A.encode(F.name)+"="+A.encode(F.value)}),D+=i.join(x,A.separator)),D}return E.prototype.expand=function(A){var P=[],x,D,F,V=this.operator;for(x=0;x<this.varspecs.length;x+=1)if(D=this.varspecs[x],F=A[D.varname],F!=null)if(D.exploded,i.isArray(F),typeof F=="string"||typeof F=="number"||typeof F=="boolean")P.push(y(D,V,F));else{if(D.maxLength&&f(F))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+_(F));D.exploded?f(F)&&(V.named?P.push(T(D,V,F)):P.push(d(V,F))):(V.named||!v(F))&&P.push($(D,V,F))}return P.length===0?"":V.first+i.join(P,V.separator)},E}(),g=function(){function _(v,p){this.templateText=v,this.expressions=p,i.deepFreeze(this)}return _.prototype.toString=function(){return this.templateText},_.prototype.expand=function(v){var p,E="";for(p=0;p<this.expressions.length;p+=1)E+=this.expressions[p].expand(v);return E},_.parse=h,_.UriTemplateError=n,_}();r(g)}(function(r){typeof t<"u"?t.exports=r:typeof define=="function"?define([],function(){return r}):typeof window<"u"?window.UriTemplate=r:global.UriTemplate=r})}}),K6=Oe({"../core/dist/consumed-thing.js"(e){Ae();var t=e&&e.__classPrivateFieldSet||function(G,Q,ce,ee,ae){if(ee==="m")throw new TypeError("Private method is not writable");if(ee==="a"&&!ae)throw new TypeError("Private accessor was defined without a setter");if(typeof Q=="function"?G!==Q||!ae:!Q.has(G))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ee==="a"?ae.call(G,ce):ae?ae.value=ce:Q.set(G,ce),ce},r=e&&e.__classPrivateFieldGet||function(G,Q,ce,ee){if(ce==="a"&&!ee)throw new TypeError("Private accessor was defined without a getter");if(typeof Q=="function"?G!==Q||!ee:!Q.has(G))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ce==="m"?ee:ce==="a"?ee.call(G):ee?ee.value:Q.get(G)},n=e&&e.__importDefault||function(G){return G&&G.__esModule?G:{default:G}},i,o,a,s,l,u,f,c;Object.defineProperty(e,"__esModule",{value:!0});var h=ug(),m=n(vg()),g=n(Hte()),_=n(Xs()),v=Gte(),p=H6(),E=Oo(),{debug:y,warn:S}=(0,E.createLoggers)("core","consumed-thing"),$;(function(G){G[G.PropertyAffordance=0]="PropertyAffordance",G[G.ActionAffordance=1]="ActionAffordance",G[G.EventAffordance=2]="EventAffordance"})($||($={}));var T=class extends h.ThingProperty{constructor(G,Q){super(),i.set(this,void 0),o.set(this,void 0),t(this,i,G,"f"),t(this,o,Q,"f")}};i=new WeakMap,o=new WeakMap;var d=class extends h.ThingAction{constructor(G,Q){super(),a.set(this,void 0),s.set(this,void 0),t(this,a,G,"f"),t(this,s,Q,"f")}};a=new WeakMap,s=new WeakMap;var A=class extends h.ThingEvent{constructor(G,Q){super(),l.set(this,void 0),u.set(this,void 0),t(this,l,G,"f"),t(this,u,Q,"f")}};l=new WeakMap,u=new WeakMap;var P=class{constructor(G,Q,ce){this.thing=G,this.name=Q,this.client=ce,this.active=!0}};function x(G,Q,ce,ee){const ae=v.parse(ce.href),M=m.default.parseInteractionOptions(G,Q,ee).uriVariables,B=ae.expand(M??{});if(B!==ce.href){const K={...ce};K.href=B,ce=K,y(`ConsumedThing '${G.title}' update form URI to ${ce.href}`)}return ce}var D=class extends P{constructor(G,Q,ce,ee){var M;super(G,Q,ce),this.form=ee,this.active=!1;const ae=(M=this.thing.properties)==null?void 0:M[Q].forms.indexOf(ee);if(ae===void 0||ae<0)throw new Error(`Could not find form ${ee.href} in property ${Q}`);this.formIndex=ae}async stop(G){await this.unobserveProperty(G),this.thing.observedProperties.delete(this.name)}async unobserveProperty(G={}){const Q=this.thing.properties[this.name];if(Q==null)throw new Error(`ConsumedThing '${this.thing.title}' does not have property ${this.name}`);G.formIndex??(G.formIndex=this.matchingUnsubscribeForm());const{form:ce}=this.thing.getClientFor(Q.forms,"unobserveproperty",$.PropertyAffordance,G);if(ce==null)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const ee=x(this.thing,Q,ce,G);y(`ConsumedThing '${this.thing.title}' unobserving to ${ce.href}`),await this.client.unlinkResource(ee),this.active=!1}matchingUnsubscribeForm(){const G=this.thing.properties[this.name].forms[this.formIndex];if(Array.isArray(G.op)&&G.op.includes("unobserveproperty"))return this.formIndex;const Q=this.findFormIndexWithScoring(this.formIndex,this.thing.properties[this.name].forms,"unobserveproperty");if(Q===-1)throw new Error("Could not find matching form for unsubscribe");return Q}findFormIndexWithScoring(G,Q,ce){var B;const ee=Q[G];let ae=0,M=-1;for(let K=0;K<Q.length;K++){let O=0;const k=Q[K];(k.op===ce||((B=k==null?void 0:k.op)==null?void 0:B.includes(ce))===!0&&Array.isArray(k.op)===!0)&&(O+=1),new URL(k.href).origin===new URL(ee.href).origin&&(O+=1),k.contentType===ee.contentType&&(O+=1),O>ae&&(ae=O,M=K)}return M}};function F(G,Q,ce){var B;const ee=Q[G];let ae=0,M=-1;for(let K=0;K<Q.length;K++){let O=0;const k=Q[K];(k.op===ce||((B=k==null?void 0:k.op)==null?void 0:B.includes(ce))===!0&&Array.isArray(k.op)===!0)&&(O+=1),new URL(k.href).origin===new URL(ee.href).origin&&(O+=1),k.contentType===ee.contentType&&(O+=1),O>ae&&(ae=O,M=K)}return M}var V=class extends P{constructor(G,Q,ce,ee){var M;super(G,Q,ce),this.form=ee;const ae=(M=this.thing.events)==null?void 0:M[Q].forms.indexOf(ee);if(ae===void 0||ae<0)throw new Error(`Could not find form ${ee.href} in event ${Q}`);this.formIndex=ae}async stop(G){await this.unsubscribeEvent(G),this.thing.subscribedEvents.delete(this.name)}async unsubscribeEvent(G={}){const Q=this.thing.events[this.name];if(Q==null)throw new Error(`ConsumedThing '${this.thing.title}' does not have event ${this.name}`);G.formIndex??(G.formIndex=this.matchingUnsubscribeForm());const{form:ce}=this.thing.getClientFor(Q.forms,"unsubscribeevent",$.EventAffordance,G);if(ce==null)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const ee=x(this.thing,Q,ce,G);y(`ConsumedThing '${this.thing.title}' unsubscribing to ${ce.href}`),this.client.unlinkResource(ee),this.active=!1}matchingUnsubscribeForm(){const G=this.thing.events[this.name].forms[this.formIndex];if(G.op==null||Array.isArray(G.op)&&G.op.includes("unsubscribeevent"))return this.formIndex;const Q=F(this.formIndex,this.thing.events[this.name].forms,"unsubscribeevent");if(Q===-1)throw new Error("Could not find matching form for unsubscribe");return Q}},X=class extends h.Thing{constructor(G,Q){super(),f.set(this,void 0),c.set(this,void 0),this.subscribedEvents=new Map,this.observedProperties=new Map,t(this,f,G,"f"),t(this,c,new Map,"f"),this.properties={},this.actions={},this.events={};const ce=m.default.structuredClone(Q??{});Object.assign(this,ce),this.extendInteractions()}getThingDescription(){return JSON.parse(JSON.stringify(this))}emitEvent(G,Q){S("not implemented")}extendInteractions(){for(const[G,Q]of Object.entries(this.properties)){const ce=m.default.extend(Q,new T(G,this));this.properties[G]=ce}for(const[G,Q]of Object.entries(this.actions)){const ce=m.default.extend(Q,new d(G,this));this.actions[G]=ce}for(const[G,Q]of Object.entries(this.events)){const ce=m.default.extend(Q,new A(G,this));this.events[G]=ce}}findForm(G,Q,ce,ee,ae){let M;for(const B of G){let K="";if(B.op!==void 0)K=B.op;else switch(ce){case $.PropertyAffordance:K=["readproperty","writeproperty"];break;case $.ActionAffordance:K="invokeaction";break;case $.EventAffordance:K="subscribeevent";break}if(K.indexOf(Q)!==-1&&B.href.indexOf(ee[ae]+":")!==-1){M=B;break}}return M}getSecuritySchemes(G){const Q=[];for(const ce of G){const ee=this.securityDefinitions[ce+""];ee!=null&&Q.push(ee)}return Q}ensureClientSecurity(G,Q){if(this.securityDefinitions!=null){const ce=()=>y(`ConsumedThing '${this.title}' setting credentials for ${G} based on thing security`);Q!=null&&Array.isArray(Q.security)&&Q.security.length>0?(ce(),G.setSecurity(this.getSecuritySchemes(Q.security),r(this,f,"f").retrieveCredentials(this.id))):Array.isArray(this.security)&&this.security.length>0&&(ce(),G.setSecurity(this.getSecuritySchemes(this.security),r(this,f,"f").getCredentials(this.id)))}}getClientFor(G,Q,ce,ee){if(G.length===0)throw new Error(`ConsumedThing '${this.title}' has no links for this interaction`);let ae,M;if((ee==null?void 0:ee.formIndex)!==void 0)if(y(`ConsumedThing '${this.title}' asked to use formIndex '${ee.formIndex}'`),ee.formIndex>=0&&ee.formIndex<G.length){ae=G[ee.formIndex];const B=m.default.extractScheme(ae.href);if(r(this,f,"f").hasClientFor(B))y(`ConsumedThing '${this.title}' got client for '${B}'`),M=r(this,f,"f").getClientFor(B),r(this,c,"f").get(B)||(this.ensureClientSecurity(M,ae),r(this,c,"f").set(B,M));else throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${B}'`)}else throw new Error(`ConsumedThing '${this.title}' missing formIndex '${ee.formIndex}'`);else{const B=G.map(O=>m.default.extractScheme(O.href)),K=B.findIndex(O=>r(this,c,"f").has(O));if(K!==-1)y(`ConsumedThing '${this.title}' chose cached client for '${B[K]}'`),M=r(this,c,"f").get(B[K]),ae=this.findForm(G,Q,ce,B,K);else{y(`ConsumedThing '${this.title}' has no client in cache (${K})`);const O=B.findIndex(k=>r(this,f,"f").hasClientFor(k));if(O===-1)throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${B}'`);M=r(this,f,"f").getClientFor(B[O]),y(`ConsumedThing '${this.title}' got new client for '${B[O]}'`),r(this,c,"f").set(B[O],M),ae=this.findForm(G,Q,ce,B,O),this.ensureClientSecurity(M,ae)}}return{client:M,form:ae}}async readProperty(G,Q){const ce=this.properties[G];if(ce==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${G}`);let{client:ee,form:ae}=this.getClientFor(ce.forms,"readproperty",$.PropertyAffordance,Q);if(ae==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(ee==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${ae.href}`);y(`ConsumedThing '${this.title}' reading ${ae.href}`),ae=this.handleUriVariables(ce,ae,Q);const M=await ee.readResource(ae);try{return this.handleInteractionOutput(M,ae,ce,!1)}catch(B){const K=B instanceof Error?B:new Error(JSON.stringify(B));throw new Error(`Error while processing property for ${ce.title}. ${K.message}`)}}handleInteractionOutput(G,Q,ce,ee){if(G.type??(G.type=Q.contentType??"application/json"),Q.response!=null){const ae=g.default.parse(G.type),M=g.default.parse(Q.response.contentType);if(ae.type!==M.type)throw new Error(`Unexpected type '${G.type}' in response. Should be '${Q.response.contentType}'`)}return new p.InteractionOutput(G,Q,ce,{ignoreValidation:ee})}async _readProperties(G){const Q=[];for(const ee of G)Q.push(this.readProperty(ee));const ce=new Map;try{const ee=await Promise.all(Q);let ae=0;for(const M of G)ce.set(M,ee[ae]),ae++;return ce}catch(ee){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${G}.
 Error: ${ee}`)}}readAllProperties(G){const Q=[];for(const[ce,ee]of Object.entries(this.properties)){const{form:ae}=this.getClientFor(ee.forms,"readproperty",$.PropertyAffordance,G);ae!=null&&Q.push(ce)}return this._readProperties(Q)}readMultipleProperties(G,Q){return this._readProperties(G)}async writeProperty(G,Q,ce){const ee=this.properties[G];if(ee==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${G}`);let{client:ae,form:M}=this.getClientFor(ee.forms,"writeproperty",$.PropertyAffordance,ce);if(M==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(ae==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${M.href}`);y(`ConsumedThing '${this.title}' writing ${M.href} with '${Q}'`);const B=_.default.valueToContent(Q,ee,M.contentType);M=this.handleUriVariables(ee,M,ce),await ae.writeResource(M,B)}async writeMultipleProperties(G,Q){const ce=[];for(const[ee,ae]of G.entries())ce.push(this.writeProperty(ee,ae));try{await Promise.all(ce)}catch(ee){throw new Error(`ConsumedThing '${this.title}', failed to write multiple properties: ${G}
 Error: ${ee}`)}}async invokeAction(G,Q,ce){const ee=this.actions[G];if(ee==null)throw new Error(`ConsumedThing '${this.title}' does not have action ${G}`);let{client:ae,form:M}=this.getClientFor(ee.forms,"invokeaction",$.ActionAffordance,ce);if(M==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(ae==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${M.href}`);y(`ConsumedThing '${this.title}' invoking ${M.href}${Q!==void 0?" with '"+Q+"'":""}`);let B;Q!==void 0&&(B=_.default.valueToContent(Q,ee.input,M.contentType)),M=this.handleUriVariables(ee,M,ce);const K=await ae.invokeResource(M,B);try{const O=ee.synchronous===void 0?!0:!ee.synchronous;return this.handleInteractionOutput(K,M,ee.output,O)}catch(O){const k=O instanceof Error?O:new Error(JSON.stringify(O));throw new Error(`Error while processing action for ${ee.title}. ${k.message}`)}}async observeProperty(G,Q,ce,ee){const ae=this.properties[G];if(ae==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${G}`);const{client:M,form:B}=this.getClientFor(ae.forms,"observeproperty",$.PropertyAffordance,ee);if(B==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(M==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${B.href}`);if(this.observedProperties.has(G))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${G}. You can only observe once`);y(`ConsumedThing '${this.title}' observing to ${B.href}`);const K=this.handleUriVariables(ae,B,ee);await M.subscribeResource(K,k=>{try{Q(this.handleInteractionOutput(k,B,ae,!1))}catch(q){const ie=q instanceof Error?q:new Error(JSON.stringify(q));S(`Error while processing observe property for ${ae.title}. ${ie.message}`),S(q)}},k=>{ce==null||ce(k)},()=>{});const O=new D(this,G,M,B);return this.observedProperties.set(G,O),O}async subscribeEvent(G,Q,ce,ee){const ae=this.events[G];if(ae==null)throw new Error(`ConsumedThing '${this.title}' does not have event ${G}`);const{client:M,form:B}=this.getClientFor(ae.forms,"subscribeevent",$.EventAffordance,ee);if(B==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(M==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${B.href}`);if(this.subscribedEvents.has(G))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${G}. You can only subscribe once`);y(`ConsumedThing '${this.title}' subscribing to ${B.href}`);const K=this.handleUriVariables(ae,B,ee);await M.subscribeResource(K,k=>{try{Q(this.handleInteractionOutput(k,B,ae.data,!1))}catch(q){const ie=q instanceof Error?q:new Error(JSON.stringify(q));S(`Error while processing event for ${ae.title}. ${ie.message}`),S(q)}},k=>{ce==null||ce(k)},()=>{});const O=new V(this,G,M,B);return this.subscribedEvents.set(G,O),O}handleUriVariables(G,Q,ce){return x(this,G,Q,ce)}};f=new WeakMap,c=new WeakMap,e.default=X}}),Wte=Oe({"../core/dist/validation.js"(e){Ae();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.isThingDescription=n,e.getLastValidationErrors=i;var r=t(vg());function n(o){return r.default.tsSchemaValidator(o)}function i(){var a;const o=(a=r.default.tsSchemaValidator.errors)==null?void 0:a.map(s=>s.message).join(`
`);return new Error(o)}}}),Kte=Oe({"../core/dist/wot-impl.js"(e){Ae();var t=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataType=void 0;var r=tR(),n=t(W6()),i=t(K6()),o=t(vg()),a=Oo(),s=t(Xs()),l=Wte(),u=(z_(),Ar(U_)),{debug:f}=(0,a.createLoggers)("core","wot-impl"),c=class{constructor(g,_){this.directory=g,this.filter=_,this.filter=_,this.done=!1}async stop(){this.done=!0}async*[Symbol.asyncIterator](){let g;try{g=await(await this.directory.readProperty("things")).value()}catch(_){this.error=_ instanceof Error?_:new Error((0,u.inspect)(_)),this.done=!0;return}for(const _ of g){if(this.done)return;if(!(0,l.isThingDescription)(_)){this.error=(0,l.getLastValidationErrors)();continue}yield _}this.done=!0}},h=class{constructor(g){this.srv=g}async discover(g){throw new Error("not implemented")}async exploreDirectory(g,_){const v=await this.requestThingDescription(g),p=await this.consume(v);return new c(p,_)}async requestThingDescription(g){const _=o.default.extractScheme(g),p=await this.srv.getClientFor(_).requestThingDescription(g),E=s.default.contentToValue({type:p.type,body:await p.toBuffer()},{});if((0,l.isThingDescription)(E))return E;throw(0,l.getLastValidationErrors)()}async consume(g){try{const _=(0,r.parseTD)(JSON.stringify(g),!0),v=new i.default(this.srv,_);return f(`WoTImpl consuming TD ${v.id!=null?`'${v.id}'`:"without id"} to instantiate ConsumedThing '${v.title}'`),v}catch(_){throw new Error(`Cannot consume TD because ${_ instanceof Error?_.message:_}`)}}produce(g){return new Promise((_,v)=>{try{const p=o.default.validateExposedThingInit(g);if(!p.valid)throw new Error(`Thing Description JSON schema validation failed:
`+p.errors);const E=new n.default(this.srv,g);if(f(`WoTImpl producing new ExposedThing '${E.title}'`),this.srv.addThing(E))_(E);else throw new Error("Thing already exists: "+E.title)}catch(p){v(new Error(`Cannot produce ExposedThing because " + ${p instanceof Error?p.message:p}`))}})}};e.default=h;var m;(function(g){g.boolean="boolean",g.number="number",g.integer="integer",g.string="string",g.object="object",g.array="array",g.null="null"})(m||(e.DataType=m={}))}}),J6=Oe({"../../node_modules/uuid/dist/rng-browser.js"(e,t){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),n=new Uint8Array(16);function i(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)}t.exports=e.default}}),jR=Oe({"../../node_modules/uuid/dist/bytesToUuid.js"(e,t){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=[];for(n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);var n;function i(a,s){var l=s||0,u=r;return[u[a[l++]],u[a[l++]],u[a[l++]],u[a[l++]],"-",u[a[l++]],u[a[l++]],"-",u[a[l++]],u[a[l++]],"-",u[a[l++]],u[a[l++]],"-",u[a[l++]],u[a[l++]],u[a[l++]],u[a[l++]],u[a[l++]],u[a[l++]]].join("")}var o=i;e.default=o,t.exports=e.default}}),Jte=Oe({"../../node_modules/uuid/dist/v1.js"(e,t){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(J6()),n=i(jR());function i(c){return c&&c.__esModule?c:{default:c}}var o,a,s=0,l=0;function u(c,h,m){var g=h&&m||0,_=h||[];c=c||{};var v=c.node||o,p=c.clockseq!==void 0?c.clockseq:a;if(v==null||p==null){var E=c.random||(c.rng||r.default)();v==null&&(v=o=[E[0]|1,E[1],E[2],E[3],E[4],E[5]]),p==null&&(p=a=(E[6]<<8|E[7])&16383)}var y=c.msecs!==void 0?c.msecs:new Date().getTime(),S=c.nsecs!==void 0?c.nsecs:l+1,$=y-s+(S-l)/1e4;if($<0&&c.clockseq===void 0&&(p=p+1&16383),($<0||y>s)&&c.nsecs===void 0&&(S=0),S>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=y,l=S,a=p,y+=122192928e5;var T=((y&268435455)*1e4+S)%4294967296;_[g++]=T>>>24&255,_[g++]=T>>>16&255,_[g++]=T>>>8&255,_[g++]=T&255;var d=y/4294967296*1e4&268435455;_[g++]=d>>>8&255,_[g++]=d&255,_[g++]=d>>>24&15|16,_[g++]=d>>>16&255,_[g++]=p>>>8|128,_[g++]=p&255;for(var A=0;A<6;++A)_[g+A]=v[A];return h||(0,n.default)(_)}var f=u;e.default=f,t.exports=e.default}}),Y6=Oe({"../../node_modules/uuid/dist/v35.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=s,e.URL=e.DNS=void 0;var t=r(jR());function r(l){return l&&l.__esModule?l:{default:l}}function n(l){var u=[];return l.replace(/[a-fA-F0-9]{2}/g,function(f){u.push(parseInt(f,16))}),u}function i(l){l=unescape(encodeURIComponent(l));for(var u=new Array(l.length),f=0;f<l.length;f++)u[f]=l.charCodeAt(f);return u}var o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";e.DNS=o;var a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";e.URL=a;function s(l,u,f){var c=function(h,m,g,_){var v=g&&_||0;if(typeof h=="string"&&(h=i(h)),typeof m=="string"&&(m=n(m)),!Array.isArray(h))throw TypeError("value must be an array of bytes");if(!Array.isArray(m)||m.length!==16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var p=f(m.concat(h));if(p[6]=p[6]&15|u,p[8]=p[8]&63|128,g)for(var E=0;E<16;++E)g[v+E]=p[E];return g||(0,t.default)(p)};try{c.name=l}catch{}return c.DNS=o,c.URL=a,c}}}),Yte=Oe({"../../node_modules/uuid/dist/md5-browser.js"(e,t){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(g){if(typeof g=="string"){var _=unescape(encodeURIComponent(g));g=new Array(_.length);for(var v=0;v<_.length;v++)g[v]=_.charCodeAt(v)}return n(i(o(g),g.length*8))}function n(g){var _,v,p=[],E=g.length*32,y="0123456789abcdef",S;for(_=0;_<E;_+=8)v=g[_>>5]>>>_%32&255,S=parseInt(y.charAt(v>>>4&15)+y.charAt(v&15),16),p.push(S);return p}function i(g,_){g[_>>5]|=128<<_%32,g[(_+64>>>9<<4)+14]=_;var v,p,E,y,S,$=1732584193,T=-271733879,d=-1732584194,A=271733878;for(v=0;v<g.length;v+=16)p=$,E=T,y=d,S=A,$=u($,T,d,A,g[v],7,-680876936),A=u(A,$,T,d,g[v+1],12,-389564586),d=u(d,A,$,T,g[v+2],17,606105819),T=u(T,d,A,$,g[v+3],22,-1044525330),$=u($,T,d,A,g[v+4],7,-176418897),A=u(A,$,T,d,g[v+5],12,1200080426),d=u(d,A,$,T,g[v+6],17,-1473231341),T=u(T,d,A,$,g[v+7],22,-45705983),$=u($,T,d,A,g[v+8],7,1770035416),A=u(A,$,T,d,g[v+9],12,-1958414417),d=u(d,A,$,T,g[v+10],17,-42063),T=u(T,d,A,$,g[v+11],22,-1990404162),$=u($,T,d,A,g[v+12],7,1804603682),A=u(A,$,T,d,g[v+13],12,-40341101),d=u(d,A,$,T,g[v+14],17,-1502002290),T=u(T,d,A,$,g[v+15],22,1236535329),$=f($,T,d,A,g[v+1],5,-165796510),A=f(A,$,T,d,g[v+6],9,-1069501632),d=f(d,A,$,T,g[v+11],14,643717713),T=f(T,d,A,$,g[v],20,-373897302),$=f($,T,d,A,g[v+5],5,-701558691),A=f(A,$,T,d,g[v+10],9,38016083),d=f(d,A,$,T,g[v+15],14,-660478335),T=f(T,d,A,$,g[v+4],20,-405537848),$=f($,T,d,A,g[v+9],5,568446438),A=f(A,$,T,d,g[v+14],9,-1019803690),d=f(d,A,$,T,g[v+3],14,-187363961),T=f(T,d,A,$,g[v+8],20,1163531501),$=f($,T,d,A,g[v+13],5,-1444681467),A=f(A,$,T,d,g[v+2],9,-51403784),d=f(d,A,$,T,g[v+7],14,1735328473),T=f(T,d,A,$,g[v+12],20,-1926607734),$=c($,T,d,A,g[v+5],4,-378558),A=c(A,$,T,d,g[v+8],11,-2022574463),d=c(d,A,$,T,g[v+11],16,1839030562),T=c(T,d,A,$,g[v+14],23,-35309556),$=c($,T,d,A,g[v+1],4,-1530992060),A=c(A,$,T,d,g[v+4],11,1272893353),d=c(d,A,$,T,g[v+7],16,-155497632),T=c(T,d,A,$,g[v+10],23,-1094730640),$=c($,T,d,A,g[v+13],4,681279174),A=c(A,$,T,d,g[v],11,-358537222),d=c(d,A,$,T,g[v+3],16,-722521979),T=c(T,d,A,$,g[v+6],23,76029189),$=c($,T,d,A,g[v+9],4,-640364487),A=c(A,$,T,d,g[v+12],11,-421815835),d=c(d,A,$,T,g[v+15],16,530742520),T=c(T,d,A,$,g[v+2],23,-995338651),$=h($,T,d,A,g[v],6,-198630844),A=h(A,$,T,d,g[v+7],10,1126891415),d=h(d,A,$,T,g[v+14],15,-1416354905),T=h(T,d,A,$,g[v+5],21,-57434055),$=h($,T,d,A,g[v+12],6,1700485571),A=h(A,$,T,d,g[v+3],10,-1894986606),d=h(d,A,$,T,g[v+10],15,-1051523),T=h(T,d,A,$,g[v+1],21,-2054922799),$=h($,T,d,A,g[v+8],6,1873313359),A=h(A,$,T,d,g[v+15],10,-30611744),d=h(d,A,$,T,g[v+6],15,-1560198380),T=h(T,d,A,$,g[v+13],21,1309151649),$=h($,T,d,A,g[v+4],6,-145523070),A=h(A,$,T,d,g[v+11],10,-1120210379),d=h(d,A,$,T,g[v+2],15,718787259),T=h(T,d,A,$,g[v+9],21,-343485551),$=a($,p),T=a(T,E),d=a(d,y),A=a(A,S);return[$,T,d,A]}function o(g){var _,v=[];for(v[(g.length>>2)-1]=void 0,_=0;_<v.length;_+=1)v[_]=0;var p=g.length*8;for(_=0;_<p;_+=8)v[_>>5]|=(g[_/8]&255)<<_%32;return v}function a(g,_){var v=(g&65535)+(_&65535),p=(g>>16)+(_>>16)+(v>>16);return p<<16|v&65535}function s(g,_){return g<<_|g>>>32-_}function l(g,_,v,p,E,y){return a(s(a(a(_,g),a(p,y)),E),v)}function u(g,_,v,p,E,y,S){return l(_&v|~_&p,g,_,E,y,S)}function f(g,_,v,p,E,y,S){return l(_&p|v&~p,g,_,E,y,S)}function c(g,_,v,p,E,y,S){return l(_^v^p,g,_,E,y,S)}function h(g,_,v,p,E,y,S){return l(v^(_|~p),g,_,E,y,S)}var m=r;e.default=m,t.exports=e.default}}),Xte=Oe({"../../node_modules/uuid/dist/v3.js"(e,t){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(Y6()),n=i(Yte());function i(s){return s&&s.__esModule?s:{default:s}}var o=(0,r.default)("v3",48,n.default),a=o;e.default=a,t.exports=e.default}}),Qte=Oe({"../../node_modules/uuid/dist/v4.js"(e,t){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(J6()),n=i(jR());function i(s){return s&&s.__esModule?s:{default:s}}function o(s,l,u){var f=l&&u||0;typeof s=="string"&&(l=s==="binary"?new Array(16):null,s=null),s=s||{};var c=s.random||(s.rng||r.default)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,l)for(var h=0;h<16;++h)l[f+h]=c[h];return l||(0,n.default)(c)}var a=o;e.default=a,t.exports=e.default}}),Zte=Oe({"../../node_modules/uuid/dist/sha1-browser.js"(e,t){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(a,s,l,u){switch(a){case 0:return s&l^~s&u;case 1:return s^l^u;case 2:return s&l^s&u^l&u;case 3:return s^l^u}}function n(a,s){return a<<s|a>>>32-s}function i(a){var s=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){var u=unescape(encodeURIComponent(a));a=new Array(u.length);for(var f=0;f<u.length;f++)a[f]=u.charCodeAt(f)}a.push(128);for(var c=a.length/4+2,h=Math.ceil(c/16),m=new Array(h),f=0;f<h;f++){m[f]=new Array(16);for(var g=0;g<16;g++)m[f][g]=a[f*64+g*4]<<24|a[f*64+g*4+1]<<16|a[f*64+g*4+2]<<8|a[f*64+g*4+3]}m[h-1][14]=(a.length-1)*8/Math.pow(2,32),m[h-1][14]=Math.floor(m[h-1][14]),m[h-1][15]=(a.length-1)*8&4294967295;for(var f=0;f<h;f++){for(var _=new Array(80),v=0;v<16;v++)_[v]=m[f][v];for(var v=16;v<80;v++)_[v]=n(_[v-3]^_[v-8]^_[v-14]^_[v-16],1);for(var p=l[0],E=l[1],y=l[2],S=l[3],$=l[4],v=0;v<80;v++){var T=Math.floor(v/20),d=n(p,5)+r(T,E,y,S)+$+s[T]+_[v]>>>0;$=S,S=y,y=n(E,30)>>>0,E=p,p=d}l[0]=l[0]+p>>>0,l[1]=l[1]+E>>>0,l[2]=l[2]+y>>>0,l[3]=l[3]+S>>>0,l[4]=l[4]+$>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,l[0]&255,l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,l[1]&255,l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,l[2]&255,l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,l[3]&255,l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,l[4]&255]}var o=i;e.default=o,t.exports=e.default}}),ere=Oe({"../../node_modules/uuid/dist/v5.js"(e,t){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(Y6()),n=i(Zte());function i(s){return s&&s.__esModule?s:{default:s}}var o=(0,r.default)("v5",80,n.default),a=o;e.default=a,t.exports=e.default}}),tre=Oe({"../../node_modules/uuid/dist/index.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return i.default}});var t=o(Jte()),r=o(Xte()),n=o(Qte()),i=o(ere());function o(a){return a&&a.__esModule?a:{default:a}}}}),rre=Oe({"../core/dist/servient.js"(e){Ae();var t=e&&e.__classPrivateFieldGet||function(g,_,v,p){if(v==="a"&&!p)throw new TypeError("Private accessor was defined without a getter");if(typeof _=="function"?g!==_||!p:!_.has(g))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?p:v==="a"?p.call(g):p?p.value:_.get(g)},r=e&&e.__classPrivateFieldSet||function(g,_,v,p,E){if(p==="m")throw new TypeError("Private method is not writable");if(p==="a"&&!E)throw new TypeError("Private accessor was defined without a setter");if(typeof _=="function"?g!==_||!E:!_.has(g))throw new TypeError("Cannot write private member to an object whose class did not declare it");return p==="a"?E.call(g,v):E?E.value=v:_.set(g,v),v},n=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}},i,o;Object.defineProperty(e,"__esModule",{value:!0});var a=n(Kte()),s=n(Xs()),l=tre(),u=Oo(),f=Io(),{debug:c,warn:h}=(0,u.createLoggers)("core","servient"),m=class{constructor(){this.servers=[],this.clientFactories=new Map,this.things=new Map,this.credentialStore=new Map,i.set(this,void 0),o.set(this,!1)}addMediaType(g,_=!1){s.default.addCodec(g,_)}expose(g){if(this.servers.length===0)return h("Servient has no servers to expose Things"),new Promise(p=>{p()});c(`Servient exposing '${g.title}'`);const _=f.Helpers.structuredClone(g);g.forms=[];for(const p of Object.values(g.properties))p.forms=[];for(const p of Object.values(g.actions))p.forms=[];for(const p of Object.values(g.events))p.forms=[];const v=[];return this.servers.forEach(p=>{v.push(p.expose(g,_))}),new Promise((p,E)=>{Promise.all(v).then(()=>p()).catch(y=>E(y))})}addThing(g){return g.id||(g.id="urn:uuid:"+(0,l.v4)(),h(`Servient generating ID for '${g.title}': '${g.id}'`)),this.things.has(g.id)?!1:(this.things.set(g.id,g),c(`Servient reset ID '${g.id}' with '${g.title}'`),!0)}destroyThing(g){return new Promise((_,v)=>{if(this.things.has(g)){c(`Servient destroying thing with id '${g}'`),this.things.delete(g);const p=[];this.servers.forEach(E=>{p.push(E.destroy(g))}),Promise.all(p).then(()=>_(!0)).catch(E=>v(E))}else h(`Servient was asked to destroy thing but failed to find thing with id '${g}'`),_(!1)})}getThing(g){if(this.things.has(g))return this.things.get(g)}getThings(){c(`Servient getThings size == '${this.things.size}'`);const g={};return this.things.forEach((_,v)=>{g[v]=_.getThingDescription()}),g}addServer(g){return this.things.forEach((_,v)=>g.expose(_)),this.servers.push(g),!0}getServers(){return this.servers.slice(0)}addClientFactory(g){c(`Servient adding client factory for '${g.scheme}'`),this.clientFactories.set(g.scheme,g)}removeClientFactory(g){var _;return c(`Servient removing client factory for '${g}'`),(_=this.clientFactories.get(g))==null||_.destroy(),this.clientFactories.delete(g)}hasClientFor(g){return c(`Servient checking for '${g}' scheme in ${this.clientFactories.size} ClientFactories`),this.clientFactories.has(g)}getClientFor(g){const _=this.clientFactories.get(g);if(_)return c(`Servient creating client for scheme '${g}'`),_.getClient();throw new Error(`Servient has no ClientFactory for scheme '${g}'`)}getClientSchemes(){return Array.from(this.clientFactories.keys())}addCredentials(g){for(const[_,v]of Object.entries(g??{})){c(`Servient storing credentials for '${_}'`);const p=this.credentialStore.get(_)??[];p.length===0&&this.credentialStore.set(_,p),p.push(v)}}getCredentials(g){c(`Servient looking up credentials for '${g}' (@deprecated)`);const _=this.credentialStore.get(g);if(_&&_.length>0)return _[0]}retrieveCredentials(g){return c(`Servient looking up credentials for '${g}'`),this.credentialStore.get(g)}async start(){if(t(this,i,"f")!==void 0)return c("Servient started already -> nop -> returning previous WoT implementation"),t(this,i,"f");if(t(this,o,"f"))throw Error("Servient cannot be started (again) since it was already stopped");const g=[];return this.servers.forEach(_=>g.push(_.start(this))),this.clientFactories.forEach(_=>_.init()),await Promise.all(g),r(this,i,new a.default(this),"f")}async shutdown(){if(t(this,i,"f")===void 0)throw Error("Servient cannot be shutdown, wasn't even started");if(t(this,o,"f")){c("Servient shutdown already -> nop");return}this.clientFactories.forEach(_=>_.destroy());const g=this.servers.map(_=>_.stop());await Promise.all(g),r(this,o,!0,"f"),r(this,i,void 0,"f")}};i=new WeakMap,o=new WeakMap,e.default=m}}),Io=Oe({"../core/dist/core.js"(e){Ae();var t=e&&e.__createBinding||(Object.create?function(v,p,E,y){y===void 0&&(y=E);var S=Object.getOwnPropertyDescriptor(p,E);(!S||("get"in S?!p.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return p[E]}}),Object.defineProperty(v,y,S)}:function(v,p,E,y){y===void 0&&(y=E),v[y]=p[E]}),r=e&&e.__exportStar||function(v,p){for(var E in v)E!=="default"&&!Object.prototype.hasOwnProperty.call(p,E)&&t(p,v,E)},n=e&&e.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.createWarnLogger=e.createInfoLogger=e.createErrorLogger=e.createDebugLogger=e.createLoggers=e.ProtocolHelpers=e.Helpers=e.ExposedThing=e.ConsumedThing=e.DefaultContent=e.Content=e.NetconfOctetstreamCodecCodec=e.Base64Codec=e.TextCodec=e.CborCodec=e.JsonCodec=e.Servient=void 0;var i=n(rre());e.Servient=i.default,e.default=i.default,r(ug(),e),r(tR(),e),r(Xs(),e);var o=S6();Object.defineProperty(e,"JsonCodec",{enumerable:!0,get:function(){return n(o).default}});var a=E6();Object.defineProperty(e,"CborCodec",{enumerable:!0,get:function(){return n(a).default}});var s=$6();Object.defineProperty(e,"TextCodec",{enumerable:!0,get:function(){return n(s).default}});var l=T6();Object.defineProperty(e,"Base64Codec",{enumerable:!0,get:function(){return n(l).default}});var u=O6();Object.defineProperty(e,"NetconfOctetstreamCodecCodec",{enumerable:!0,get:function(){return n(u).default}}),r(x6(),e);var f=v6();Object.defineProperty(e,"Content",{enumerable:!0,get:function(){return f.Content}}),Object.defineProperty(e,"DefaultContent",{enumerable:!0,get:function(){return f.DefaultContent}});var c=K6();Object.defineProperty(e,"ConsumedThing",{enumerable:!0,get:function(){return n(c).default}});var h=W6();Object.defineProperty(e,"ExposedThing",{enumerable:!0,get:function(){return n(h).default}});var m=vg();Object.defineProperty(e,"Helpers",{enumerable:!0,get:function(){return n(m).default}});var g=TR();Object.defineProperty(e,"ProtocolHelpers",{enumerable:!0,get:function(){return n(g).default}});var _=Oo();Object.defineProperty(e,"createLoggers",{enumerable:!0,get:function(){return _.createLoggers}}),Object.defineProperty(e,"createDebugLogger",{enumerable:!0,get:function(){return _.createDebugLogger}}),Object.defineProperty(e,"createErrorLogger",{enumerable:!0,get:function(){return _.createErrorLogger}}),Object.defineProperty(e,"createInfoLogger",{enumerable:!0,get:function(){return _.createInfoLogger}}),Object.defineProperty(e,"createWarnLogger",{enumerable:!0,get:function(){return _.createWarnLogger}})}});/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-B738Er4n.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

web-streams-polyfill/dist/ponyfill.js:
  (**
   * @license
   * web-streams-polyfill v4.1.0
   * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

content-type/index.js:
  (*!
   * content-type
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/var DR=Oe({"../../node_modules/node-fetch/browser.js"(e,t){Ae();var r=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},n=r();t.exports=e=n.fetch,n.fetch&&(e.default=n.fetch.bind(n)),e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response}}),nre=Oe({"../../node_modules/rxjs/util/isArray.js"(e){Ae(),e.isArray=Array.isArray||function(t){return t&&typeof t.length=="number"}}}),ire=Oe({"../../node_modules/rxjs/util/isObject.js"(e){Ae();function t(r){return r!=null&&typeof r=="object"}e.isObject=t}}),ore=Oe({"../../node_modules/rxjs/util/isFunction.js"(e){Ae();function t(r){return typeof r=="function"}e.isFunction=t}}),X6=Oe({"../../node_modules/rxjs/util/errorObject.js"(e){Ae(),e.errorObject={e:{}}}}),are=Oe({"../../node_modules/rxjs/util/tryCatch.js"(e){Ae();var t=X6(),r;function n(){try{return r.apply(this,arguments)}catch(o){return t.errorObject.e=o,t.errorObject}}function i(o){return r=o,n}e.tryCatch=i}}),sre=Oe({"../../node_modules/rxjs/util/UnsubscriptionError.js"(e){Ae();var t=e&&e.__extends||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o]);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},r=function(n){t(i,n);function i(o){n.call(this),this.errors=o;var a=Error.call(this,o?o.length+` errors occurred during unsubscription:
  `+o.map(function(s,l){return l+1+") "+s.toString()}).join(`
  `):"");this.name=a.name="UnsubscriptionError",this.stack=a.stack,this.message=a.message}return i}(Error);e.UnsubscriptionError=r}}),lre=Oe({"../../node_modules/rxjs/Subscription.js"(e){Ae();var t=nre(),r=ire(),n=ore(),i=are(),o=X6(),a=sre(),s=function(){function u(f){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,f&&(this._unsubscribe=f)}return u.prototype.unsubscribe=function(){var f=!1,c;if(!this.closed){var h=this,m=h._parent,g=h._parents,_=h._unsubscribe,v=h._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,E=g?g.length:0;m;)m.remove(this),m=++p<E&&g[p]||null;if(n.isFunction(_)){var y=i.tryCatch(_).call(this);y===o.errorObject&&(f=!0,c=c||(o.errorObject.e instanceof a.UnsubscriptionError?l(o.errorObject.e.errors):[o.errorObject.e]))}if(t.isArray(v))for(p=-1,E=v.length;++p<E;){var S=v[p];if(r.isObject(S)){var y=i.tryCatch(S.unsubscribe).call(S);if(y===o.errorObject){f=!0,c=c||[];var $=o.errorObject.e;$ instanceof a.UnsubscriptionError?c=c.concat(l($.errors)):c.push($)}}}if(f)throw new a.UnsubscriptionError(c)}},u.prototype.add=function(f){if(!f||f===u.EMPTY)return u.EMPTY;if(f===this)return this;var c=f;switch(typeof f){case"function":c=new u(f);case"object":if(c.closed||typeof c.unsubscribe!="function")return c;if(this.closed)return c.unsubscribe(),c;if(typeof c._addParent!="function"){var h=c;c=new u,c._subscriptions=[h]}break;default:throw new Error("unrecognized teardown "+f+" added to Subscription.")}var m=this._subscriptions||(this._subscriptions=[]);return m.push(c),c._addParent(this),c},u.prototype.remove=function(f){var c=this._subscriptions;if(c){var h=c.indexOf(f);h!==-1&&c.splice(h,1)}},u.prototype._addParent=function(f){var c=this,h=c._parent,m=c._parents;!h||h===f?this._parent=f:m?m.indexOf(f)===-1&&m.push(f):this._parents=[f]},u.EMPTY=function(f){return f.closed=!0,f}(new u),u}();e.Subscription=s;function l(u){return u.reduce(function(f,c){return f.concat(c instanceof a.UnsubscriptionError?c.errors:c)},[])}}}),ure=Oe({"(disabled):../../node_modules/client-oauth2/node_modules/safe-buffer/index.js"(){Ae()}}),Q6={};Ys(Q6,{decode:()=>Z6,default:()=>Os,encode:()=>eq,parse:()=>tq,stringify:()=>rq});function cre(){if(RP)return dw;RP=!0;function e(t,r){return Object.prototype.hasOwnProperty.call(t,r)}return dw=function(t,r,n,i){r=r||"&",n=n||"=";var o={};if(typeof t!="string"||t.length===0)return o;var a=/\+/g;t=t.split(r);var s=1e3;i&&typeof i.maxKeys=="number"&&(s=i.maxKeys);var l=t.length;s>0&&l>s&&(l=s);for(var u=0;u<l;++u){var f=t[u].replace(a,"%20"),c=f.indexOf(n),h,m,g,_;c>=0?(h=f.substr(0,c),m=f.substr(c+1)):(h=f,m=""),g=decodeURIComponent(h),_=decodeURIComponent(m),e(o,g)?Array.isArray(o[g])?o[g].push(_):o[g]=[o[g],_]:o[g]=_}return o},dw}function fre(){if(IP)return hw;IP=!0;var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};return hw=function(t,r,n,i){return r=r||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(o){var a=encodeURIComponent(e(o))+n;return Array.isArray(t[o])?t[o].map(function(s){return a+encodeURIComponent(e(s))}).join(r):a+encodeURIComponent(e(t[o]))}).filter(Boolean).join(r):i?encodeURIComponent(e(i))+n+encodeURIComponent(e(t)):""},hw}function dre(){return NP||(NP=!0,Mc.decode=Mc.parse=cre(),Mc.encode=Mc.stringify=fre()),Mc}var dw,RP,hw,IP,Mc,NP,Os,Z6,eq,tq,rq,hre=tn({"../../node_modules/@jspm/core/nodelibs/browser/querystring.js"(){Ae(),dw={},RP=!1,hw={},IP=!1,Mc={},NP=!1,Os=dre(),Os.decode,Os.parse,Os.encode,Os.stringify,Z6=Os.decode,eq=Os.encode,tq=Os.parse,rq=Os.stringify}}),pre=Oe({"../../node_modules/client-oauth2/src/request/browser.js"(e,t){Ae(),t.exports=function(n,i,o,a){return new Promise(function(s,l){var u=new window.XMLHttpRequest;u.open(n,i),u.onload=function(){return s({status:u.status,body:u.responseText})},u.onerror=u.onabort=function(){return l(new Error(u.statusText||"XHR aborted: "+i))},Object.keys(a).forEach(function(f){u.setRequestHeader(f,a[f])}),u.send(o)})}}}),mre=Oe({"../../node_modules/client-oauth2/src/client-oauth2.js"(e,t){Ae();var r=ure().Buffer,n=(hre(),Ar(Q6)),i=pre(),o="https://example.org/",a;typeof r=="function"?a=u:a=window.btoa.bind(window),t.exports=E;var s={Accept:"application/json, application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},l={invalid_request:["The request is missing a required parameter, includes an","invalid parameter value, includes a parameter more than","once, or is otherwise malformed."].join(" "),invalid_client:["Client authentication failed (e.g., unknown client, no","client authentication included, or unsupported","authentication method)."].join(" "),invalid_grant:["The provided authorization grant (e.g., authorization","code, resource owner credentials) or refresh token is","invalid, expired, revoked, does not match the redirection","URI used in the authorization request, or was issued to","another client."].join(" "),unauthorized_client:["The client is not authorized to request an authorization","code using this method."].join(" "),unsupported_grant_type:["The authorization grant type is not supported by the","authorization server."].join(" "),access_denied:["The resource owner or authorization server denied the request."].join(" "),unsupported_response_type:["The authorization server does not support obtaining","an authorization code using this method."].join(" "),invalid_scope:["The requested scope is invalid, unknown, or malformed."].join(" "),server_error:["The authorization server encountered an unexpected","condition that prevented it from fulfilling the request.","(This error code is needed because a 500 Internal Server","Error HTTP status code cannot be returned to the client","via an HTTP redirect.)"].join(" "),temporarily_unavailable:["The authorization server is currently unable to handle","the request due to a temporary overloading or maintenance","of the server."].join(" ")};function u(P){return r.from(P).toString("base64")}function f(P){for(var x=1;x<arguments.length;x++){var D=arguments[x];if(P[D]==null)throw new TypeError('Expected "'+D+'" to exist')}}function c(P){var x=l[P.error]||P.error_description||P.error;if(x){var D=new Error(x);return D.body=P,D.code="EAUTH",D}}function h(P){try{return JSON.parse(P)}catch{return n.parse(P)}}function m(P){return Array.isArray(P)?P.join(" "):v(P)}function g(P,x){f(P,"clientId","authorizationUri");const D={client_id:P.clientId,redirect_uri:P.redirectUri,response_type:x,state:P.state};P.scopes!==void 0&&(D.scope=m(P.scopes));const F=P.authorizationUri.includes("?")?"&":"?";return P.authorizationUri+F+n.stringify(Object.assign(D,P.query))}function _(P,x){return"Basic "+a(v(P)+":"+v(x))}function v(P){return P==null?"":String(P)}function p(P,x){return{url:P.url,method:P.method,body:Object.assign({},P.body,x.body),query:Object.assign({},P.query,x.query),headers:Object.assign({},P.headers,x.headers)}}function E(P,x){this.options=P,this.request=x||i,this.code=new d(this),this.token=new $(this),this.owner=new S(this),this.credentials=new T(this),this.jwt=new A(this)}E.Token=y,E.prototype.createToken=function(P,x,D,F){var V=Object.assign({},F,typeof P=="string"?{access_token:P}:P,typeof x=="string"?{refresh_token:x}:x,typeof D=="string"?{token_type:D}:D);return new E.Token(this,V)},E.prototype._request=function(P){var x=P.url,D=n.stringify(P.body),F=n.stringify(P.query);return F&&(x+=(x.indexOf("?")===-1?"?":"&")+F),this.request(P.method,x,D,P.headers).then(function(V){var X=h(V.body),G=c(X);if(G)return Promise.reject(G);if(V.status<200||V.status>=399){var Q=new Error("HTTP status "+V.status);return Q.status=V.status,Q.body=V.body,Q.code="ESTATUS",Promise.reject(Q)}return X})};function y(P,x){this.client=P,this.data=x,this.tokenType=x.token_type&&x.token_type.toLowerCase(),this.accessToken=x.access_token,this.refreshToken=x.refresh_token,this.expiresIn(Number(x.expires_in))}y.prototype.expiresIn=function(P){if(typeof P=="number")this.expires=new Date,this.expires.setSeconds(this.expires.getSeconds()+P);else if(P instanceof Date)this.expires=new Date(P.getTime());else throw new TypeError("Unknown duration: "+P);return this.expires},y.prototype.sign=function(P){if(!this.accessToken)throw new Error("Unable to sign without access token");if(P.headers=P.headers||{},this.tokenType==="bearer")P.headers.Authorization="Bearer "+this.accessToken;else{var x=P.url.split("#"),D="access_token="+this.accessToken,F=x[0].replace(/[?&]access_token=[^&#]/,""),V=x[1]?"#"+x[1]:"";P.url=F+(F.indexOf("?")>-1?"&":"?")+D+V,P.headers.Pragma="no-store",P.headers["Cache-Control"]="no-store"}return P},y.prototype.refresh=function(P){var x=this,D=Object.assign({},this.client.options,P);return this.refreshToken?this.client._request(p({url:D.accessTokenUri,method:"POST",headers:Object.assign({},s,{Authorization:_(D.clientId,D.clientSecret)}),body:{refresh_token:this.refreshToken,grant_type:"refresh_token"}},D)).then(function(F){return x.client.createToken(Object.assign({},x.data,F))}):Promise.reject(new Error("No refresh token"))},y.prototype.expired=function(){return Date.now()>this.expires.getTime()};function S(P){this.client=P}S.prototype.getToken=function(P,x,D){var F=this,V=Object.assign({},this.client.options,D);const X={username:P,password:x,grant_type:"password"};return V.scopes!==void 0&&(X.scope=m(V.scopes)),this.client._request(p({url:V.accessTokenUri,method:"POST",headers:Object.assign({},s,{Authorization:_(V.clientId,V.clientSecret)}),body:X},V)).then(function(G){return F.client.createToken(G)})};function $(P){this.client=P}$.prototype.getUri=function(P){var x=Object.assign({},this.client.options,P);return g(x,"token")},$.prototype.getToken=function(P,x){var D=Object.assign({},this.client.options,x),F=typeof P=="object"?P:new URL(P,o),V=new URL(D.redirectUri,o);if(typeof F.pathname=="string"&&F.pathname!==V.pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+F.pathname));if(!F.hash&&!F.search)return Promise.reject(new TypeError("Unable to process uri: "+P));var X=Object.assign({},typeof F.search=="string"?n.parse(F.search.substr(1)):F.search||{},typeof F.hash=="string"?n.parse(F.hash.substr(1)):F.hash||{}),G=c(X);return G?Promise.reject(G):D.state!=null&&X.state!==D.state?Promise.reject(new TypeError("Invalid state: "+X.state)):Promise.resolve(this.client.createToken(X))};function T(P){this.client=P}T.prototype.getToken=function(P){var x=this,D=Object.assign({},this.client.options,P);f(D,"clientId","clientSecret","accessTokenUri");const F={grant_type:"client_credentials"};return D.scopes!==void 0&&(F.scope=m(D.scopes)),this.client._request(p({url:D.accessTokenUri,method:"POST",headers:Object.assign({},s,{Authorization:_(D.clientId,D.clientSecret)}),body:F},D)).then(function(V){return x.client.createToken(V)})};function d(P){this.client=P}d.prototype.getUri=function(P){var x=Object.assign({},this.client.options,P);return g(x,"code")},d.prototype.getToken=function(P,x){var D=this,F=Object.assign({},this.client.options,x);f(F,"clientId","accessTokenUri");var V=typeof P=="object"?P:new URL(P,o);if(typeof F.redirectUri=="string"&&typeof V.pathname=="string"&&V.pathname!==new URL(F.redirectUri,o).pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+V.pathname));if(!V.search||!V.search.substr(1))return Promise.reject(new TypeError("Unable to process uri: "+P));var X=typeof V.search=="string"?n.parse(V.search.substr(1)):V.search||{},G=c(X);if(G)return Promise.reject(G);if(F.state!=null&&X.state!==F.state)return Promise.reject(new TypeError("Invalid state: "+X.state));if(!X.code)return Promise.reject(new TypeError("Missing code, unable to request token"));var Q=Object.assign({},s),ce={code:X.code,grant_type:"authorization_code",redirect_uri:F.redirectUri};return F.clientSecret?Q.Authorization=_(F.clientId,F.clientSecret):ce.client_id=F.clientId,this.client._request(p({url:F.accessTokenUri,method:"POST",headers:Q,body:ce},F)).then(function(ee){return D.client.createToken(ee)})};function A(P){this.client=P}A.prototype.getToken=function(P,x){var D=this,F=Object.assign({},this.client.options,x),V=Object.assign({},s);f(F,"accessTokenUri"),F.clientId&&(V.Authorization=_(F.clientId,F.clientSecret));const X={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:P};return F.scopes!==void 0&&(X.scope=m(F.scopes)),this.client._request(p({url:F.accessTokenUri,method:"POST",headers:V,body:X},F)).then(function(G){return D.client.createToken(G)})}}}),gre=Oe({"../../node_modules/strict-uri-encode/index.js"(e,t){Ae(),t.exports=r=>encodeURIComponent(r).replace(/[!'()*]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`)}}),vre=Oe({"../../node_modules/decode-uri-component/index.js"(e,t){Ae();var r="%[a-f0-9]{2}",n=new RegExp("("+r+")|([^%]+?)","gi"),i=new RegExp("("+r+")+","gi");function o(l,u){try{return[decodeURIComponent(l.join(""))]}catch{}if(l.length===1)return l;u=u||1;var f=l.slice(0,u),c=l.slice(u);return Array.prototype.concat.call([],o(f),o(c))}function a(l){try{return decodeURIComponent(l)}catch{for(var u=l.match(n)||[],f=1;f<u.length;f++)l=o(u,f).join(""),u=l.match(n)||[];return l}}function s(l){for(var u={"%FE%FF":"","%FF%FE":""},f=i.exec(l);f;){try{u[f[0]]=decodeURIComponent(f[0])}catch{var c=a(f[0]);c!==f[0]&&(u[f[0]]=c)}f=i.exec(l)}u["%C2"]="";for(var h=Object.keys(u),m=0;m<h.length;m++){var g=h[m];l=l.replace(new RegExp(g,"g"),u[g])}return l}t.exports=function(l){if(typeof l!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof l+"`");try{return l=l.replace(/\+/g," "),decodeURIComponent(l)}catch{return s(l)}}}}),yre=Oe({"../../node_modules/split-on-first/index.js"(e,t){Ae(),t.exports=(r,n)=>{if(!(typeof r=="string"&&typeof n=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(n==="")return[r];const i=r.indexOf(n);return i===-1?[r]:[r.slice(0,i),r.slice(i+n.length)]}}}),wre=Oe({"../../node_modules/filter-obj/index.js"(e,t){Ae(),t.exports=function(r,n){for(var i={},o=Object.keys(r),a=Array.isArray(n),s=0;s<o.length;s++){var l=o[s],u=r[l];(a?n.indexOf(l)!==-1:n(l,u,r))&&(i[l]=u)}return i}}}),bre=Oe({"../../node_modules/query-string/index.js"(e){Ae();var t=gre(),r=vre(),n=yre(),i=wre(),o=E=>E==null,a=Symbol("encodeFragmentIdentifier");function s(E){switch(E.arrayFormat){case"index":return y=>(S,$)=>{const T=S.length;return $===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?S:$===null?[...S,[f(y,E),"[",T,"]"].join("")]:[...S,[f(y,E),"[",f(T,E),"]=",f($,E)].join("")]};case"bracket":return y=>(S,$)=>$===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?S:$===null?[...S,[f(y,E),"[]"].join("")]:[...S,[f(y,E),"[]=",f($,E)].join("")];case"colon-list-separator":return y=>(S,$)=>$===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?S:$===null?[...S,[f(y,E),":list="].join("")]:[...S,[f(y,E),":list=",f($,E)].join("")];case"comma":case"separator":case"bracket-separator":{const y=E.arrayFormat==="bracket-separator"?"[]=":"=";return S=>($,T)=>T===void 0||E.skipNull&&T===null||E.skipEmptyString&&T===""?$:(T=T===null?"":T,$.length===0?[[f(S,E),y,f(T,E)].join("")]:[[$,f(T,E)].join(E.arrayFormatSeparator)])}default:return y=>(S,$)=>$===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?S:$===null?[...S,f(y,E)]:[...S,[f(y,E),"=",f($,E)].join("")]}}function l(E){let y;switch(E.arrayFormat){case"index":return(S,$,T)=>{if(y=/\[(\d*)\]$/.exec(S),S=S.replace(/\[\d*\]$/,""),!y){T[S]=$;return}T[S]===void 0&&(T[S]={}),T[S][y[1]]=$};case"bracket":return(S,$,T)=>{if(y=/(\[\])$/.exec(S),S=S.replace(/\[\]$/,""),!y){T[S]=$;return}if(T[S]===void 0){T[S]=[$];return}T[S]=[].concat(T[S],$)};case"colon-list-separator":return(S,$,T)=>{if(y=/(:list)$/.exec(S),S=S.replace(/:list$/,""),!y){T[S]=$;return}if(T[S]===void 0){T[S]=[$];return}T[S]=[].concat(T[S],$)};case"comma":case"separator":return(S,$,T)=>{const d=typeof $=="string"&&$.includes(E.arrayFormatSeparator),A=typeof $=="string"&&!d&&c($,E).includes(E.arrayFormatSeparator);$=A?c($,E):$;const P=d||A?$.split(E.arrayFormatSeparator).map(x=>c(x,E)):$===null?$:c($,E);T[S]=P};case"bracket-separator":return(S,$,T)=>{const d=/(\[\])$/.test(S);if(S=S.replace(/\[\]$/,""),!d){T[S]=$&&c($,E);return}const A=$===null?[]:$.split(E.arrayFormatSeparator).map(P=>c(P,E));if(T[S]===void 0){T[S]=A;return}T[S]=[].concat(T[S],A)};default:return(S,$,T)=>{if(T[S]===void 0){T[S]=$;return}T[S]=[].concat(T[S],$)}}}function u(E){if(typeof E!="string"||E.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function f(E,y){return y.encode?y.strict?t(E):encodeURIComponent(E):E}function c(E,y){return y.decode?r(E):E}function h(E){return Array.isArray(E)?E.sort():typeof E=="object"?h(Object.keys(E)).sort((y,S)=>Number(y)-Number(S)).map(y=>E[y]):E}function m(E){const y=E.indexOf("#");return y!==-1&&(E=E.slice(0,y)),E}function g(E){let y="";const S=E.indexOf("#");return S!==-1&&(y=E.slice(S)),y}function _(E){E=m(E);const y=E.indexOf("?");return y===-1?"":E.slice(y+1)}function v(E,y){return y.parseNumbers&&!Number.isNaN(Number(E))&&typeof E=="string"&&E.trim()!==""?E=Number(E):y.parseBooleans&&E!==null&&(E.toLowerCase()==="true"||E.toLowerCase()==="false")&&(E=E.toLowerCase()==="true"),E}function p(E,y){y=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},y),u(y.arrayFormatSeparator);const S=l(y),$=Object.create(null);if(typeof E!="string"||(E=E.trim().replace(/^[?#&]/,""),!E))return $;for(const T of E.split("&")){if(T==="")continue;let[d,A]=n(y.decode?T.replace(/\+/g," "):T,"=");A=A===void 0?null:["comma","separator","bracket-separator"].includes(y.arrayFormat)?A:c(A,y),S(c(d,y),A,$)}for(const T of Object.keys($)){const d=$[T];if(typeof d=="object"&&d!==null)for(const A of Object.keys(d))d[A]=v(d[A],y);else $[T]=v(d,y)}return y.sort===!1?$:(y.sort===!0?Object.keys($).sort():Object.keys($).sort(y.sort)).reduce((T,d)=>{const A=$[d];return A&&typeof A=="object"&&!Array.isArray(A)?T[d]=h(A):T[d]=A,T},Object.create(null))}e.extract=_,e.parse=p,e.stringify=(E,y)=>{if(!E)return"";y=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},y),u(y.arrayFormatSeparator);const S=A=>y.skipNull&&o(E[A])||y.skipEmptyString&&E[A]==="",$=s(y),T={};for(const A of Object.keys(E))S(A)||(T[A]=E[A]);const d=Object.keys(T);return y.sort!==!1&&d.sort(y.sort),d.map(A=>{const P=E[A];return P===void 0?"":P===null?f(A,y):Array.isArray(P)?P.length===0&&y.arrayFormat==="bracket-separator"?f(A,y)+"[]":P.reduce($(A),[]).join("&"):f(A,y)+"="+f(P,y)}).filter(A=>A.length>0).join("&")},e.parseUrl=(E,y)=>{y=Object.assign({decode:!0},y);const[S,$]=n(E,"#");return Object.assign({url:S.split("?")[0]||"",query:p(_(E),y)},y&&y.parseFragmentIdentifier&&$?{fragmentIdentifier:c($,y)}:{})},e.stringifyUrl=(E,y)=>{y=Object.assign({encode:!0,strict:!0,[a]:!0},y);const S=m(E.url).split("?")[0]||"",$=e.extract(E.url),T=e.parse($,{sort:!1}),d=Object.assign(T,E.query);let A=e.stringify(d,y);A&&(A=`?${A}`);let P=g(E.url);return E.fragmentIdentifier&&(P=`#${y[a]?f(E.fragmentIdentifier,y):E.fragmentIdentifier}`),`${S}${A}${P}`},e.pick=(E,y,S)=>{S=Object.assign({parseFragmentIdentifier:!0,[a]:!1},S);const{url:$,query:T,fragmentIdentifier:d}=e.parseUrl(E,S);return e.stringifyUrl({url:$,query:i(T,y),fragmentIdentifier:d},S)},e.exclude=(E,y,S)=>{const $=Array.isArray(y)?T=>!y.includes(T):(T,d)=>!y(T,d);return e.pick(E,$,S)}}}),nq=Oe({"../binding-http/dist/credential.js"(e){Ae();var t=e&&e.__createBinding||(Object.create?function(m,g,_,v){v===void 0&&(v=_);var p=Object.getOwnPropertyDescriptor(g,_);(!p||("get"in p?!g.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return g[_]}}),Object.defineProperty(m,v,p)}:function(m,g,_,v){v===void 0&&(v=_),m[v]=g[_]}),r=e&&e.__setModuleDefault||(Object.create?function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}:function(m,g){m.default=g}),n=e&&e.__importStar||function(){var m=function(g){return m=Object.getOwnPropertyNames||function(_){var v=[];for(var p in _)Object.prototype.hasOwnProperty.call(_,p)&&(v[v.length]=p);return v},m(g)};return function(g){if(g&&g.__esModule)return g;var _={};if(g!=null)for(var v=m(g),p=0;p<v.length;p++)v[p]!=="default"&&t(_,g,v[p]);return r(_,g),_}}();Object.defineProperty(e,"__esModule",{value:!0}),e.TuyaCustomBearer=e.OAuthCredential=e.BasicKeyCredential=e.BearerCredential=e.BasicCredential=e.Credential=void 0;var i=n(DR()),o=n((gz(),Ar(pR))),a=n(bre()),s=class{};e.Credential=s;var l=class extends s{constructor({username:m,password:g},_){if(super(),m===void 0||g===void 0||m===null||g===null)throw new Error("No Basic credentials for Thing");this.username=m,this.password=g,this.options=_}async sign(m){const g=m.clone();let _="authorization";return this.options!==void 0&&this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),g.headers.set(_,"Basic "+Kr.from(this.username+":"+this.password).toString("base64")),g}};e.BasicCredential=l;var u=class extends s{constructor({token:m},g){if(super(),m==null)throw new Error("No Bearer credentials for Thing");this.token=m,this.options=g}async sign(m){const g=m.clone();let _="authorization";return this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),g.headers.set(_,"Bearer "+this.token),g}};e.BearerCredential=u;var f=class extends s{constructor({apiKey:m},g){if(super(),m==null)throw new Error("No API key credentials for Thing");this.apiKey=m,this.options=g}async sign(m){const g=m.clone();let _="authorization";return this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),g.headers.append(_,this.apiKey),g}};e.BasicKeyCredential=f;var c=class iq extends s{constructor(g,_){super(),this.token=g,this.refresh=_,this.token=g}async sign(g){if(this.token instanceof Promise){const p=this.token;this.token=await p}let _={url:g.url,headers:{}};return _=this.token.sign(_),new i.Request(g,_)}async refreshToken(){if(this.token instanceof Promise)throw new Error("Uninitialized token. You have to call sing before refresh");let g;return this.refresh?g=await this.refresh():g=await this.token.refresh(),new iq(g,this.refresh)}};e.OAuthCredential=c;var h=class extends s{constructor(m,g){super(),this.key=m.key,this.secret=m.secret,this.baseUri=g.baseUri}async sign(m){var y;const g=this.isTokenExpired();(this.token===void 0||this.token===""||g)&&await this.requestAndRefreshToken(g);const _=m.url,v=(y=m.body)==null?void 0:y.read().toString(),p=m.method,E=this.getHeaders(!0,m.headers.raw(),v,_,p);return Object.assign(E,m.headers.raw()),new i.Request(_,{method:p,body:v!==""?v:void 0,headers:E})}async requestAndRefreshToken(m){var y,S,$;const _={headers:this.getHeaders(!1,{}),method:"GET"};let v=`${this.baseUri}/token?grant_type=1`;m&&(v=`${this.baseUri}/token/${this.refreshToken}`);const p=await(await(0,i.default)(v,_)).json();if(p.success??!1){this.token=(y=p.result)==null?void 0:y.access_token,this.refreshToken=(S=p.result)==null?void 0:S.refresh_token;const T=($=p.result)==null?void 0:$.expire_time;T!=null&&(this.expireTime=new Date(Date.now()+T*1e3))}else throw new Error("token fetch failed")}getHeaders(m,g,_,v,p){const E=Date.now().toString(),y=this.baseUri.replace("/v1.0",""),S=v==null?void 0:v.replace(y,""),$=this.requestSign(m,E,_,S,p);return{t:E,client_id:this.key,sign_method:"HMAC-SHA256",sign:$,access_token:this.token??""}}requestSign(m,g,_,v="",p){const E=o.createHash("sha256").update(_??"").digest("hex");let y="/v1.0/token?grant_type=1";const S="";let $="";const T=p??"GET";if(m){$=this.token??"";const P=a.parse(v.split("?")[1]);let x={};x=Object.assign(x,P);const D={};Object.keys(x).sort().forEach(V=>{D[V]=x[V]});const F=a.stringify(D);y=decodeURIComponent(F?`${v.split("?")[0]}?${F}`:v)}const d=[this.key,$,g,[T,E,S,y].join(`
`)].join("");return o.createHmac("sha256",this.secret).update(d).digest("hex").toUpperCase()}isTokenExpired(){return this.expireTime?Date.now()>this.expireTime.getTime():!1}};e.TuyaCustomBearer=h}}),oq=Oe({"../binding-http/dist/oauth-manager.js"(e){Ae();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=Io(),n=t(mre()),i=(B_(),Ar(hg)),o=nq();function a(l){return(u,f,c,h)=>new Promise((m,g)=>{const _=new URL(f),v={method:u,host:_.hostname,port:parseInt(_.port),path:_.pathname+_.search,headers:h};v.rejectUnauthorized=l;const p=(0,i.request)(v);p.on("response",E=>{E.setEncoding("utf8");const y=[];E.on("data",S=>{y.push(S)}),E.on("end",()=>{m({status:E.statusCode??500,body:y.toString()})})}),p.on("error",E=>{g(E)}),p.write(c),p.end()})}var s=class{constructor(){this.tokenStore=new Map}handleClient(l,u){const f=new n.default({clientId:u.clientId,clientSecret:u.clientSecret,accessTokenUri:l.token,scopes:r.Helpers.toStringArray(l.scopes),body:{}},a(!1)),c=f.credentials.getToken();return new o.OAuthCredential(c,f.credentials.getToken.bind(f.credentials))}handleResourceOwnerCredential(l,u){const c=new n.default({clientId:u.clientId,clientSecret:u.clientSecret,accessTokenUri:l.token,scopes:r.Helpers.toStringArray(l.scopes)},a(!1)).owner.getToken(u.username,u.password);return new o.OAuthCredential(c)}};e.default=s}});function _re(){if(CP)return pw;CP=!0;const e=2147483647,t=36,r=1,n=26,i=38,o=700,a=72,s=128,l="-",u=/^xn--/,f=/[^\0-\x7F]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=t-r,g=Math.floor,_=String.fromCharCode;function v(V){throw new RangeError(h[V])}function p(V,X){const G=[];let Q=V.length;for(;Q--;)G[Q]=X(V[Q]);return G}function E(V,X){const G=V.split("@");let Q="";G.length>1&&(Q=G[0]+"@",V=G[1]),V=V.replace(c,".");const ce=V.split("."),ee=p(ce,X).join(".");return Q+ee}function y(V){const X=[];let G=0;const Q=V.length;for(;G<Q;){const ce=V.charCodeAt(G++);if(ce>=55296&&ce<=56319&&G<Q){const ee=V.charCodeAt(G++);(ee&64512)==56320?X.push(((ce&1023)<<10)+(ee&1023)+65536):(X.push(ce),G--)}else X.push(ce)}return X}const S=V=>String.fromCodePoint(...V),$=function(V){return V>=48&&V<58?26+(V-48):V>=65&&V<91?V-65:V>=97&&V<123?V-97:t},T=function(V,X){return V+22+75*(V<26)-((X!=0)<<5)},d=function(V,X,G){let Q=0;for(V=G?g(V/o):V>>1,V+=g(V/X);V>m*n>>1;Q+=t)V=g(V/m);return g(Q+(m+1)*V/(V+i))},A=function(V){const X=[],G=V.length;let Q=0,ce=s,ee=a,ae=V.lastIndexOf(l);ae<0&&(ae=0);for(let M=0;M<ae;++M)V.charCodeAt(M)>=128&&v("not-basic"),X.push(V.charCodeAt(M));for(let M=ae>0?ae+1:0;M<G;){const B=Q;for(let O=1,k=t;;k+=t){M>=G&&v("invalid-input");const q=$(V.charCodeAt(M++));q>=t&&v("invalid-input"),q>g((e-Q)/O)&&v("overflow"),Q+=q*O;const ie=k<=ee?r:k>=ee+n?n:k-ee;if(q<ie)break;const J=t-ie;O>g(e/J)&&v("overflow"),O*=J}const K=X.length+1;ee=d(Q-B,K,B==0),g(Q/K)>e-ce&&v("overflow"),ce+=g(Q/K),Q%=K,X.splice(Q++,0,ce)}return String.fromCodePoint(...X)},P=function(V){const X=[];V=y(V);const G=V.length;let Q=s,ce=0,ee=a;for(const B of V)B<128&&X.push(_(B));const ae=X.length;let M=ae;for(ae&&X.push(l);M<G;){let B=e;for(const O of V)O>=Q&&O<B&&(B=O);const K=M+1;B-Q>g((e-ce)/K)&&v("overflow"),ce+=(B-Q)*K,Q=B;for(const O of V)if(O<Q&&++ce>e&&v("overflow"),O===Q){let k=ce;for(let q=t;;q+=t){const ie=q<=ee?r:q>=ee+n?n:q-ee;if(k<ie)break;const J=k-ie,Y=t-ie;X.push(_(T(ie+J%Y,0))),k=g(J/Y)}X.push(_(T(k,0))),ee=d(ce,K,M===ae),ce=0,++M}++ce,++Q}return X.join("")};return pw={version:"2.3.1",ucs2:{decode:y,encode:S},decode:A,encode:P,toASCII:function(V){return E(V,function(X){return f.test(X)?"xn--"+P(X):X})},toUnicode:function(V){return E(V,function(X){return u.test(X)?A(X.slice(4).toLowerCase()):X})}},pw}var pw,CP,mu,Ere=tn({"../../node_modules/@jspm/core/nodelibs/browser/punycode.js"(){Ae(),pw={},CP=!1,mu=_re(),mu.decode,mu.encode,mu.toASCII,mu.toUnicode,mu.ucs2,mu.version}});function Sre(){if(kP)return mw;kP=!0;var e=ci;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,a){for(var s="",l=0,u=-1,f=0,c,h=0;h<=o.length;++h){if(h<o.length)c=o.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(u===h-1||f===1))if(u!==h-1&&f===2){if(s.length<2||l!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){var m=s.lastIndexOf("/");if(m!==s.length-1){m===-1?(s="",l=0):(s=s.slice(0,m),l=s.length-1-s.lastIndexOf("/")),u=h,f=0;continue}}else if(s.length===2||s.length===1){s="",l=0,u=h,f=0;continue}}a&&(s.length>0?s+="/..":s="..",l=2)}else s.length>0?s+="/"+o.slice(u+1,h):s=o.slice(u+1,h),l=h-u-1;u=h,f=0}else c===46&&f!==-1?++f:f=-1}return s}function n(o,a){var s=a.dir||a.root,l=a.base||(a.name||"")+(a.ext||"");return s?s===a.root?s+l:s+o+l:l}var i={resolve:function(){for(var a="",s=!1,l,u=arguments.length-1;u>=-1&&!s;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(a=f+"/"+a,s=f.charCodeAt(0)===47)}return a=r(a,!s),s?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(t(a),a.length===0)return".";var s=a.charCodeAt(0)===47,l=a.charCodeAt(a.length-1)===47;return a=r(a,!s),a.length===0&&!s&&(a="."),a.length>0&&l&&(a+="/"),s?"/"+a:a},isAbsolute:function(a){return t(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,s=0;s<arguments.length;++s){var l=arguments[s];t(l),l.length>0&&(a===void 0?a=l:a+="/"+l)}return a===void 0?".":i.normalize(a)},relative:function(a,s){if(t(a),t(s),a===s||(a=i.resolve(a),s=i.resolve(s),a===s))return"";for(var l=1;l<a.length&&a.charCodeAt(l)===47;++l);for(var u=a.length,f=u-l,c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var h=s.length,m=h-c,g=f<m?f:m,_=-1,v=0;v<=g;++v){if(v===g){if(m>g){if(s.charCodeAt(c+v)===47)return s.slice(c+v+1);if(v===0)return s.slice(c+v)}else f>g&&(a.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var p=a.charCodeAt(l+v),E=s.charCodeAt(c+v);if(p!==E)break;p===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||a.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+s.slice(c+_):(c+=_,s.charCodeAt(c)===47&&++c,s.slice(c))},_makeLong:function(a){return a},dirname:function(a){if(t(a),a.length===0)return".";for(var s=a.charCodeAt(0),l=s===47,u=-1,f=!0,c=a.length-1;c>=1;--c)if(s=a.charCodeAt(c),s===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":a.slice(0,u)},basename:function(a,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');t(a);var l=0,u=-1,f=!0,c;if(s!==void 0&&s.length>0&&s.length<=a.length){if(s.length===a.length&&s===a)return"";var h=s.length-1,m=-1;for(c=a.length-1;c>=0;--c){var g=a.charCodeAt(c);if(g===47){if(!f){l=c+1;break}}else m===-1&&(f=!1,m=c+1),h>=0&&(g===s.charCodeAt(h)?--h===-1&&(u=c):(h=-1,u=m))}return l===u?u=m:u===-1&&(u=a.length),a.slice(l,u)}else{for(c=a.length-1;c>=0;--c)if(a.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":a.slice(l,u)}},extname:function(a){t(a);for(var s=-1,l=0,u=-1,f=!0,c=0,h=a.length-1;h>=0;--h){var m=a.charCodeAt(h);if(m===47){if(!f){l=h+1;break}continue}u===-1&&(f=!1,u=h+1),m===46?s===-1?s=h:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||u===-1||c===0||c===1&&s===u-1&&s===l+1?"":a.slice(s,u)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return n("/",a)},parse:function(a){t(a);var s={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return s;var l=a.charCodeAt(0),u=l===47,f;u?(s.root="/",f=1):f=0;for(var c=-1,h=0,m=-1,g=!0,_=a.length-1,v=0;_>=f;--_){if(l=a.charCodeAt(_),l===47){if(!g){h=_+1;break}continue}m===-1&&(g=!1,m=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||m===-1||v===0||v===1&&c===m-1&&c===h+1?m!==-1&&(h===0&&u?s.base=s.name=a.slice(1,m):s.base=s.name=a.slice(h,m)):(h===0&&u?(s.name=a.slice(1,c),s.base=a.slice(1,m)):(s.name=a.slice(h,c),s.base=a.slice(h,m)),s.ext=a.slice(c,m)),h>0?s.dir=a.slice(0,h-1):u&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,mw=i,mw}var mw,kP,jP,$re=tn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-BlJi4mNy.js"(){Ae(),dg(),mw={},kP=!1,jP=Sre()}}),aq={};Ys(aq,{URL:()=>gq,Url:()=>fq,default:()=>Ci,fileURLToPath:()=>lq,format:()=>dq,parse:()=>mq,pathToFileURL:()=>uq,resolve:()=>hq,resolveObject:()=>pq});function Tre(){if(DP)return gw;DP=!0;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=e&&t&&typeof t.get=="function"?t.get:null,n=e&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,a=i&&o&&typeof o.get=="function"?o.get:null,s=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,f=typeof WeakSet=="function"&&WeakSet.prototype,c=f?WeakSet.prototype.has:null,h=typeof WeakRef=="function"&&WeakRef.prototype,m=h?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,_=Object.prototype.toString,v=Function.prototype.toString,p=String.prototype.match,E=String.prototype.slice,y=String.prototype.replace,S=String.prototype.toUpperCase,$=String.prototype.toLowerCase,T=RegExp.prototype.test,d=Array.prototype.concat,A=Array.prototype.join,P=Array.prototype.slice,x=Math.floor,D=typeof BigInt=="function"?BigInt.prototype.valueOf:null,F=Object.getOwnPropertySymbols,V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,X=typeof Symbol=="function"&&typeof Symbol.iterator=="object",G=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===X||!0)?Symbol.toStringTag:null,Q=Object.prototype.propertyIsEnumerable,ce=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ie){return Ie.__proto__}:null);function ee(Ie,Fe){if(Ie===1/0||Ie===-1/0||Ie!==Ie||Ie&&Ie>-1e3&&Ie<1e3||T.call(/e/,Fe))return Fe;var ft=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Ie=="number"){var vt=Ie<0?-x(-Ie):x(Ie);if(vt!==Ie){var at=String(vt),kt=E.call(Fe,at.length+1);return y.call(at,ft,"$&_")+"."+y.call(y.call(kt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(Fe,ft,"$&_")}var ae=cq,M=ae.custom,B=ye(M)?M:null;gw=function Ie(Fe,ft,vt,at){var kt=ft||{};if(N(kt,"quoteStyle")&&kt.quoteStyle!=="single"&&kt.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(N(kt,"maxStringLength")&&(typeof kt.maxStringLength=="number"?kt.maxStringLength<0&&kt.maxStringLength!==1/0:kt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var br=N(kt,"customInspect")?kt.customInspect:!0;if(typeof br!="boolean"&&br!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(N(kt,"indent")&&kt.indent!==null&&kt.indent!=="	"&&!(parseInt(kt.indent,10)===kt.indent&&kt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(N(kt,"numericSeparator")&&typeof kt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Pr=kt.numericSeparator;if(typeof Fe>"u")return"undefined";if(Fe===null)return"null";if(typeof Fe=="boolean")return Fe?"true":"false";if(typeof Fe=="string")return Ge(Fe,kt);if(typeof Fe=="number"){if(Fe===0)return 1/0/Fe>0?"0":"-0";var rr=String(Fe);return Pr?ee(Fe,rr):rr}if(typeof Fe=="bigint"){var hr=String(Fe)+"n";return Pr?ee(Fe,hr):hr}var ln=typeof kt.depth>"u"?5:kt.depth;if(typeof vt>"u"&&(vt=0),vt>=ln&&ln>0&&typeof Fe=="object")return k(Fe)?"[Array]":"[Object]";var Vt=we(kt,vt);if(typeof at>"u")at=[];else if(le(at,Fe)>=0)return"[Circular]";function zt(Nt,jt,St){if(jt&&(at=P.call(at),at.push(jt)),St){var Rt={depth:kt.depth};return N(kt,"quoteStyle")&&(Rt.quoteStyle=kt.quoteStyle),Ie(Nt,Rt,vt+1,at)}return Ie(Nt,kt,vt+1,at)}if(typeof Fe=="function"&&!ie(Fe)){var At=re(Fe),$e=ke(Fe,zt);return"[Function"+(At?": "+At:" (anonymous)")+"]"+($e.length>0?" { "+A.call($e,", ")+" }":"")}if(ye(Fe)){var Ne=X?y.call(String(Fe),/^(Symbol\(.*\))_[^)]*$/,"$1"):V.call(Fe);return typeof Fe=="object"&&!X?W(Ne):Ne}if(tt(Fe)){for(var dt="<"+$.call(String(Fe.nodeName)),Ye=Fe.attributes||[],nt=0;nt<Ye.length;nt++)dt+=" "+Ye[nt].name+"="+K(O(Ye[nt].value),"double",kt);return dt+=">",Fe.childNodes&&Fe.childNodes.length&&(dt+="..."),dt+="</"+$.call(String(Fe.nodeName))+">",dt}if(k(Fe)){if(Fe.length===0)return"[]";var Ot=ke(Fe,zt);return Vt&&!ne(Ot)?"["+Se(Ot,Vt)+"]":"[ "+A.call(Ot,", ")+" ]"}if(J(Fe)){var qt=ke(Fe,zt);return!("cause"in Error.prototype)&&"cause"in Fe&&!Q.call(Fe,"cause")?"{ ["+String(Fe)+"] "+A.call(d.call("[cause]: "+zt(Fe.cause),qt),", ")+" }":qt.length===0?"["+String(Fe)+"]":"{ ["+String(Fe)+"] "+A.call(qt,", ")+" }"}if(typeof Fe=="object"&&br){if(B&&typeof Fe[B]=="function"&&ae)return ae(Fe,{depth:ln-vt});if(br!=="symbol"&&typeof Fe.inspect=="function")return Fe.inspect()}if(fe(Fe)){var de=[];return n&&n.call(Fe,function(Nt,jt){de.push(zt(jt,Fe,!0)+" => "+zt(Nt,Fe))}),L("Map",r.call(Fe),de,Vt)}if(Le(Fe)){var ue=[];return s&&s.call(Fe,function(Nt){ue.push(zt(Nt,Fe))}),L("Set",a.call(Fe),ue,Vt)}if(me(Fe))return C("WeakMap");if(je(Fe))return C("WeakSet");if(Re(Fe))return C("WeakRef");if(oe(Fe))return W(zt(Number(Fe)));if(R(Fe))return W(zt(D.call(Fe)));if(_e(Fe))return W(g.call(Fe));if(Y(Fe))return W(zt(String(Fe)));if(typeof window<"u"&&Fe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Fe===globalThis||typeof vw<"u"&&Fe===vw)return"{ [object globalThis] }";if(!q(Fe)&&!ie(Fe)){var be=ke(Fe,zt),xe=ce?ce(Fe)===Object.prototype:Fe instanceof Object||Fe.constructor===Object,Pe=Fe instanceof Object?"":"null prototype",et=!xe&&G&&Object(Fe)===Fe&&G in Fe?E.call(H(Fe),8,-1):Pe?"Object":"",it=xe||typeof Fe.constructor!="function"?"":Fe.constructor.name?Fe.constructor.name+" ":"",Pt=it+(et||Pe?"["+A.call(d.call([],et||[],Pe||[]),": ")+"] ":"");return be.length===0?Pt+"{}":Vt?Pt+"{"+Se(be,Vt)+"}":Pt+"{ "+A.call(be,", ")+" }"}return String(Fe)};function K(Ie,Fe,ft){var vt=(ft.quoteStyle||Fe)==="double"?'"':"'";return vt+Ie+vt}function O(Ie){return y.call(String(Ie),/"/g,"&quot;")}function k(Ie){return H(Ie)==="[object Array]"&&(!G||!(typeof Ie=="object"&&G in Ie))}function q(Ie){return H(Ie)==="[object Date]"&&(!G||!(typeof Ie=="object"&&G in Ie))}function ie(Ie){return H(Ie)==="[object RegExp]"&&(!G||!(typeof Ie=="object"&&G in Ie))}function J(Ie){return H(Ie)==="[object Error]"&&(!G||!(typeof Ie=="object"&&G in Ie))}function Y(Ie){return H(Ie)==="[object String]"&&(!G||!(typeof Ie=="object"&&G in Ie))}function oe(Ie){return H(Ie)==="[object Number]"&&(!G||!(typeof Ie=="object"&&G in Ie))}function _e(Ie){return H(Ie)==="[object Boolean]"&&(!G||!(typeof Ie=="object"&&G in Ie))}function ye(Ie){if(X)return Ie&&typeof Ie=="object"&&Ie instanceof Symbol;if(typeof Ie=="symbol")return!0;if(!Ie||typeof Ie!="object"||!V)return!1;try{return V.call(Ie),!0}catch{}return!1}function R(Ie){if(!Ie||typeof Ie!="object"||!D)return!1;try{return D.call(Ie),!0}catch{}return!1}var I=Object.prototype.hasOwnProperty||function(Ie){return Ie in(this||vw)};function N(Ie,Fe){return I.call(Ie,Fe)}function H(Ie){return _.call(Ie)}function re(Ie){if(Ie.name)return Ie.name;var Fe=p.call(v.call(Ie),/^function\s*([\w$]+)/);return Fe?Fe[1]:null}function le(Ie,Fe){if(Ie.indexOf)return Ie.indexOf(Fe);for(var ft=0,vt=Ie.length;ft<vt;ft++)if(Ie[ft]===Fe)return ft;return-1}function fe(Ie){if(!r||!Ie||typeof Ie!="object")return!1;try{r.call(Ie);try{a.call(Ie)}catch{return!0}return Ie instanceof Map}catch{}return!1}function me(Ie){if(!u||!Ie||typeof Ie!="object")return!1;try{u.call(Ie,u);try{c.call(Ie,c)}catch{return!0}return Ie instanceof WeakMap}catch{}return!1}function Re(Ie){if(!m||!Ie||typeof Ie!="object")return!1;try{return m.call(Ie),!0}catch{}return!1}function Le(Ie){if(!a||!Ie||typeof Ie!="object")return!1;try{a.call(Ie);try{r.call(Ie)}catch{return!0}return Ie instanceof Set}catch{}return!1}function je(Ie){if(!c||!Ie||typeof Ie!="object")return!1;try{c.call(Ie,c);try{u.call(Ie,u)}catch{return!0}return Ie instanceof WeakSet}catch{}return!1}function tt(Ie){return!Ie||typeof Ie!="object"?!1:typeof HTMLElement<"u"&&Ie instanceof HTMLElement?!0:typeof Ie.nodeName=="string"&&typeof Ie.getAttribute=="function"}function Ge(Ie,Fe){if(Ie.length>Fe.maxStringLength){var ft=Ie.length-Fe.maxStringLength,vt="... "+ft+" more character"+(ft>1?"s":"");return Ge(E.call(Ie,0,Fe.maxStringLength),Fe)+vt}var at=y.call(y.call(Ie,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ue);return K(at,"single",Fe)}function Ue(Ie){var Fe=Ie.charCodeAt(0),ft={8:"b",9:"t",10:"n",12:"f",13:"r"}[Fe];return ft?"\\"+ft:"\\x"+(Fe<16?"0":"")+S.call(Fe.toString(16))}function W(Ie){return"Object("+Ie+")"}function C(Ie){return Ie+" { ? }"}function L(Ie,Fe,ft,vt){var at=vt?Se(ft,vt):A.call(ft,", ");return Ie+" ("+Fe+") {"+at+"}"}function ne(Ie){for(var Fe=0;Fe<Ie.length;Fe++)if(le(Ie[Fe],`
`)>=0)return!1;return!0}function we(Ie,Fe){var ft;if(Ie.indent==="	")ft="	";else if(typeof Ie.indent=="number"&&Ie.indent>0)ft=A.call(Array(Ie.indent+1)," ");else return null;return{base:ft,prev:A.call(Array(Fe+1),ft)}}function Se(Ie,Fe){if(Ie.length===0)return"";var ft=`
`+Fe.prev+Fe.base;return ft+A.call(Ie,","+ft)+`
`+Fe.prev}function ke(Ie,Fe){var ft=k(Ie),vt=[];if(ft){vt.length=Ie.length;for(var at=0;at<Ie.length;at++)vt[at]=N(Ie,at)?Fe(Ie[at],Ie):""}var kt=typeof F=="function"?F(Ie):[],br;if(X){br={};for(var Pr=0;Pr<kt.length;Pr++)br["$"+kt[Pr]]=kt[Pr]}for(var rr in Ie)N(Ie,rr)&&(ft&&String(Number(rr))===rr&&rr<Ie.length||X&&br["$"+rr]instanceof Symbol||(T.call(/[^\w$]/,rr)?vt.push(Fe(rr,Ie)+": "+Fe(Ie[rr],Ie)):vt.push(rr+": "+Fe(Ie[rr],Ie))));if(typeof F=="function")for(var hr=0;hr<kt.length;hr++)Q.call(Ie,kt[hr])&&vt.push("["+Fe(kt[hr])+"]: "+Fe(Ie[kt[hr]],Ie));return vt}return gw}function Are(){if(MP)return yw;MP=!0;var e=Nh(),t=yR(),r=Tre(),n=pg(),i=e("%WeakMap%",!0),o=e("%Map%",!0),a=t("WeakMap.prototype.get",!0),s=t("WeakMap.prototype.set",!0),l=t("WeakMap.prototype.has",!0),u=t("Map.prototype.get",!0),f=t("Map.prototype.set",!0),c=t("Map.prototype.has",!0),h=function(v,p){for(var E=v,y;(y=E.next)!==null;E=y)if(y.key===p)return E.next=y.next,y.next=v.next,v.next=y,y},m=function(v,p){var E=h(v,p);return E&&E.value},g=function(v,p,E){var y=h(v,p);y?y.value=E:v.next={key:p,next:v.next,value:E}},_=function(v,p){return!!h(v,p)};return yw=function(){var p,E,y,S={assert:function($){if(!S.has($))throw new n("Side channel does not contain "+r($))},get:function($){if(i&&$&&(typeof $=="object"||typeof $=="function")){if(p)return a(p,$)}else if(o){if(E)return u(E,$)}else if(y)return m(y,$)},has:function($){if(i&&$&&(typeof $=="object"||typeof $=="function")){if(p)return l(p,$)}else if(o){if(E)return c(E,$)}else if(y)return _(y,$);return!1},set:function($,T){i&&$&&(typeof $=="object"||typeof $=="function")?(p||(p=new i),s(p,$,T)):o?(E||(E=new o),f(E,$,T)):(y||(y={key:{},next:null}),g(y,$,T))}};return S},yw}function MR(){if(LP)return ww;LP=!0;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return ww={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},ww}function sq(){if(FP)return bw;FP=!0;var e=MR(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var v=[],p=0;p<256;++p)v.push("%"+((p<16?"0":"")+p.toString(16)).toUpperCase());return v}(),i=function(p){for(;p.length>1;){var E=p.pop(),y=E.obj[E.prop];if(r(y)){for(var S=[],$=0;$<y.length;++$)typeof y[$]<"u"&&S.push(y[$]);E.obj[E.prop]=S}}},o=function(p,E){for(var y=E&&E.plainObjects?Object.create(null):{},S=0;S<p.length;++S)typeof p[S]<"u"&&(y[S]=p[S]);return y},a=function v(p,E,y){if(!E)return p;if(typeof E!="object"){if(r(p))p.push(E);else if(p&&typeof p=="object")(y&&(y.plainObjects||y.allowPrototypes)||!t.call(Object.prototype,E))&&(p[E]=!0);else return[p,E];return p}if(!p||typeof p!="object")return[p].concat(E);var S=p;return r(p)&&!r(E)&&(S=o(p,y)),r(p)&&r(E)?(E.forEach(function($,T){if(t.call(p,T)){var d=p[T];d&&typeof d=="object"&&$&&typeof $=="object"?p[T]=v(d,$,y):p.push($)}else p[T]=$}),p):Object.keys(E).reduce(function($,T){var d=E[T];return t.call($,T)?$[T]=v($[T],d,y):$[T]=d,$},S)},s=function(p,E){return Object.keys(E).reduce(function(y,S){return y[S]=E[S],y},p)},l=function(v,p,E){var y=v.replace(/\+/g," ");if(E==="iso-8859-1")return y.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(y)}catch{return y}},u=1024,f=function(p,E,y,S,$){if(p.length===0)return p;var T=p;if(typeof p=="symbol"?T=Symbol.prototype.toString.call(p):typeof p!="string"&&(T=String(p)),y==="iso-8859-1")return escape(T).replace(/%u[0-9a-f]{4}/gi,function(V){return"%26%23"+parseInt(V.slice(2),16)+"%3B"});for(var d="",A=0;A<T.length;A+=u){for(var P=T.length>=u?T.slice(A,A+u):T,x=[],D=0;D<P.length;++D){var F=P.charCodeAt(D);if(F===45||F===46||F===95||F===126||F>=48&&F<=57||F>=65&&F<=90||F>=97&&F<=122||$===e.RFC1738&&(F===40||F===41)){x[x.length]=P.charAt(D);continue}if(F<128){x[x.length]=n[F];continue}if(F<2048){x[x.length]=n[192|F>>6]+n[128|F&63];continue}if(F<55296||F>=57344){x[x.length]=n[224|F>>12]+n[128|F>>6&63]+n[128|F&63];continue}D+=1,F=65536+((F&1023)<<10|P.charCodeAt(D)&1023),x[x.length]=n[240|F>>18]+n[128|F>>12&63]+n[128|F>>6&63]+n[128|F&63]}d+=x.join("")}return d},c=function(p){for(var E=[{obj:{o:p},prop:"o"}],y=[],S=0;S<E.length;++S)for(var $=E[S],T=$.obj[$.prop],d=Object.keys(T),A=0;A<d.length;++A){var P=d[A],x=T[P];typeof x=="object"&&x!==null&&y.indexOf(x)===-1&&(E.push({obj:T,prop:P}),y.push(x))}return i(E),p},h=function(p){return Object.prototype.toString.call(p)==="[object RegExp]"},m=function(p){return!p||typeof p!="object"?!1:!!(p.constructor&&p.constructor.isBuffer&&p.constructor.isBuffer(p))},g=function(p,E){return[].concat(p,E)},_=function(p,E){if(r(p)){for(var y=[],S=0;S<p.length;S+=1)y.push(E(p[S]));return y}return E(p)};return bw={arrayToObject:o,assign:s,combine:g,compact:c,decode:l,encode:f,isBuffer:m,isRegExp:h,maybeMap:_,merge:a},bw}function Pre(){if(BP)return _w;BP=!0;var e=Are(),t=sq(),r=MR(),n=Object.prototype.hasOwnProperty,i={brackets:function(v){return v+"[]"},comma:"comma",indices:function(v,p){return v+"["+p+"]"},repeat:function(v){return v}},o=Array.isArray,a=Array.prototype.push,s=function(_,v){a.apply(_,o(v)?v:[v])},l=Date.prototype.toISOString,u=r.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,format:u,formatter:r.formatters[u],indices:!1,serializeDate:function(v){return l.call(v)},skipNulls:!1,strictNullHandling:!1},c=function(v){return typeof v=="string"||typeof v=="number"||typeof v=="boolean"||typeof v=="symbol"||typeof v=="bigint"},h={},m=function _(v,p,E,y,S,$,T,d,A,P,x,D,F,V,X,G,Q,ce){for(var ee=v,ae=ce,M=0,B=!1;(ae=ae.get(h))!==void 0&&!B;){var K=ae.get(v);if(M+=1,typeof K<"u"){if(K===M)throw new RangeError("Cyclic object value");B=!0}typeof ae.get(h)>"u"&&(M=0)}if(typeof P=="function"?ee=P(p,ee):ee instanceof Date?ee=F(ee):E==="comma"&&o(ee)&&(ee=t.maybeMap(ee,function(H){return H instanceof Date?F(H):H})),ee===null){if($)return A&&!G?A(p,f.encoder,Q,"key",V):p;ee=""}if(c(ee)||t.isBuffer(ee)){if(A){var O=G?p:A(p,f.encoder,Q,"key",V);return[X(O)+"="+X(A(ee,f.encoder,Q,"value",V))]}return[X(p)+"="+X(String(ee))]}var k=[];if(typeof ee>"u")return k;var q;if(E==="comma"&&o(ee))G&&A&&(ee=t.maybeMap(ee,A)),q=[{value:ee.length>0?ee.join(",")||null:void 0}];else if(o(P))q=P;else{var ie=Object.keys(ee);q=x?ie.sort(x):ie}var J=d?p.replace(/\./g,"%2E"):p,Y=y&&o(ee)&&ee.length===1?J+"[]":J;if(S&&o(ee)&&ee.length===0)return Y+"[]";for(var oe=0;oe<q.length;++oe){var _e=q[oe],ye=typeof _e=="object"&&typeof _e.value<"u"?_e.value:ee[_e];if(!(T&&ye===null)){var R=D&&d?_e.replace(/\./g,"%2E"):_e,I=o(ee)?typeof E=="function"?E(Y,R):Y:Y+(D?"."+R:"["+R+"]");ce.set(v,M);var N=e();N.set(h,ce),s(k,_(ye,I,E,y,S,$,T,d,E==="comma"&&G&&o(ee)?null:A,P,x,D,F,V,X,G,Q,N))}}return k},g=function(v){if(!v)return f;if(typeof v.allowEmptyArrays<"u"&&typeof v.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof v.encodeDotInKeys<"u"&&typeof v.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(v.encoder!==null&&typeof v.encoder<"u"&&typeof v.encoder!="function")throw new TypeError("Encoder has to be a function.");var p=v.charset||f.charset;if(typeof v.charset<"u"&&v.charset!=="utf-8"&&v.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var E=r.default;if(typeof v.format<"u"){if(!n.call(r.formatters,v.format))throw new TypeError("Unknown format option provided.");E=v.format}var y=r.formatters[E],S=f.filter;(typeof v.filter=="function"||o(v.filter))&&(S=v.filter);var $;if(v.arrayFormat in i?$=v.arrayFormat:"indices"in v?$=v.indices?"indices":"repeat":$=f.arrayFormat,"commaRoundTrip"in v&&typeof v.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var T=typeof v.allowDots>"u"?v.encodeDotInKeys===!0?!0:f.allowDots:!!v.allowDots;return{addQueryPrefix:typeof v.addQueryPrefix=="boolean"?v.addQueryPrefix:f.addQueryPrefix,allowDots:T,allowEmptyArrays:typeof v.allowEmptyArrays=="boolean"?!!v.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:$,charset:p,charsetSentinel:typeof v.charsetSentinel=="boolean"?v.charsetSentinel:f.charsetSentinel,commaRoundTrip:v.commaRoundTrip,delimiter:typeof v.delimiter>"u"?f.delimiter:v.delimiter,encode:typeof v.encode=="boolean"?v.encode:f.encode,encodeDotInKeys:typeof v.encodeDotInKeys=="boolean"?v.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof v.encoder=="function"?v.encoder:f.encoder,encodeValuesOnly:typeof v.encodeValuesOnly=="boolean"?v.encodeValuesOnly:f.encodeValuesOnly,filter:S,format:E,formatter:y,serializeDate:typeof v.serializeDate=="function"?v.serializeDate:f.serializeDate,skipNulls:typeof v.skipNulls=="boolean"?v.skipNulls:f.skipNulls,sort:typeof v.sort=="function"?v.sort:null,strictNullHandling:typeof v.strictNullHandling=="boolean"?v.strictNullHandling:f.strictNullHandling}};return _w=function(_,v){var p=_,E=g(v),y,S;typeof E.filter=="function"?(S=E.filter,p=S("",p)):o(E.filter)&&(S=E.filter,y=S);var $=[];if(typeof p!="object"||p===null)return"";var T=i[E.arrayFormat],d=T==="comma"&&E.commaRoundTrip;y||(y=Object.keys(p)),E.sort&&y.sort(E.sort);for(var A=e(),P=0;P<y.length;++P){var x=y[P];E.skipNulls&&p[x]===null||s($,m(p[x],x,T,d,E.allowEmptyArrays,E.strictNullHandling,E.skipNulls,E.encodeDotInKeys,E.encode?E.encoder:null,E.filter,E.sort,E.allowDots,E.serializeDate,E.format,E.formatter,E.encodeValuesOnly,E.charset,A))}var D=$.join(E.delimiter),F=E.addQueryPrefix===!0?"?":"";return E.charsetSentinel&&(E.charset==="iso-8859-1"?F+="utf8=%26%2310003%3B&":F+="utf8=%E2%9C%93&"),D.length>0?F+D:""},_w}function xre(){if(UP)return Ew;UP=!0;var e=sq(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(h){return h.replace(/&#(\d+);/g,function(m,g){return String.fromCharCode(parseInt(g,10))})},o=function(h,m){return h&&typeof h=="string"&&m.comma&&h.indexOf(",")>-1?h.split(","):h},a="utf8=%26%2310003%3B",s="utf8=%E2%9C%93",l=function(m,g){var _={__proto__:null},v=g.ignoreQueryPrefix?m.replace(/^\?/,""):m;v=v.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var p=g.parameterLimit===1/0?void 0:g.parameterLimit,E=v.split(g.delimiter,p),y=-1,S,$=g.charset;if(g.charsetSentinel)for(S=0;S<E.length;++S)E[S].indexOf("utf8=")===0&&(E[S]===s?$="utf-8":E[S]===a&&($="iso-8859-1"),y=S,S=E.length);for(S=0;S<E.length;++S)if(S!==y){var T=E[S],d=T.indexOf("]="),A=d===-1?T.indexOf("="):d+1,P,x;A===-1?(P=g.decoder(T,n.decoder,$,"key"),x=g.strictNullHandling?null:""):(P=g.decoder(T.slice(0,A),n.decoder,$,"key"),x=e.maybeMap(o(T.slice(A+1),g),function(F){return g.decoder(F,n.decoder,$,"value")})),x&&g.interpretNumericEntities&&$==="iso-8859-1"&&(x=i(x)),T.indexOf("[]=")>-1&&(x=r(x)?[x]:x);var D=t.call(_,P);D&&g.duplicates==="combine"?_[P]=e.combine(_[P],x):(!D||g.duplicates==="last")&&(_[P]=x)}return _},u=function(h,m,g,_){for(var v=_?m:o(m,g),p=h.length-1;p>=0;--p){var E,y=h[p];if(y==="[]"&&g.parseArrays)E=g.allowEmptyArrays&&(v===""||g.strictNullHandling&&v===null)?[]:[].concat(v);else{E=g.plainObjects?Object.create(null):{};var S=y.charAt(0)==="["&&y.charAt(y.length-1)==="]"?y.slice(1,-1):y,$=g.decodeDotInKeys?S.replace(/%2E/g,"."):S,T=parseInt($,10);!g.parseArrays&&$===""?E={0:v}:!isNaN(T)&&y!==$&&String(T)===$&&T>=0&&g.parseArrays&&T<=g.arrayLimit?(E=[],E[T]=v):$!=="__proto__"&&(E[$]=v)}v=E}return v},f=function(m,g,_,v){if(m){var p=_.allowDots?m.replace(/\.([^.[]+)/g,"[$1]"):m,E=/(\[[^[\]]*])/,y=/(\[[^[\]]*])/g,S=_.depth>0&&E.exec(p),$=S?p.slice(0,S.index):p,T=[];if($){if(!_.plainObjects&&t.call(Object.prototype,$)&&!_.allowPrototypes)return;T.push($)}for(var d=0;_.depth>0&&(S=y.exec(p))!==null&&d<_.depth;){if(d+=1,!_.plainObjects&&t.call(Object.prototype,S[1].slice(1,-1))&&!_.allowPrototypes)return;T.push(S[1])}if(S){if(_.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+_.depth+" and strictDepth is true");T.push("["+p.slice(S.index)+"]")}return u(T,g,_,v)}},c=function(m){if(!m)return n;if(typeof m.allowEmptyArrays<"u"&&typeof m.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof m.decodeDotInKeys<"u"&&typeof m.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(m.decoder!==null&&typeof m.decoder<"u"&&typeof m.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof m.charset<"u"&&m.charset!=="utf-8"&&m.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var g=typeof m.charset>"u"?n.charset:m.charset,_=typeof m.duplicates>"u"?n.duplicates:m.duplicates;if(_!=="combine"&&_!=="first"&&_!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var v=typeof m.allowDots>"u"?m.decodeDotInKeys===!0?!0:n.allowDots:!!m.allowDots;return{allowDots:v,allowEmptyArrays:typeof m.allowEmptyArrays=="boolean"?!!m.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof m.allowPrototypes=="boolean"?m.allowPrototypes:n.allowPrototypes,allowSparse:typeof m.allowSparse=="boolean"?m.allowSparse:n.allowSparse,arrayLimit:typeof m.arrayLimit=="number"?m.arrayLimit:n.arrayLimit,charset:g,charsetSentinel:typeof m.charsetSentinel=="boolean"?m.charsetSentinel:n.charsetSentinel,comma:typeof m.comma=="boolean"?m.comma:n.comma,decodeDotInKeys:typeof m.decodeDotInKeys=="boolean"?m.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof m.decoder=="function"?m.decoder:n.decoder,delimiter:typeof m.delimiter=="string"||e.isRegExp(m.delimiter)?m.delimiter:n.delimiter,depth:typeof m.depth=="number"||m.depth===!1?+m.depth:n.depth,duplicates:_,ignoreQueryPrefix:m.ignoreQueryPrefix===!0,interpretNumericEntities:typeof m.interpretNumericEntities=="boolean"?m.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof m.parameterLimit=="number"?m.parameterLimit:n.parameterLimit,parseArrays:m.parseArrays!==!1,plainObjects:typeof m.plainObjects=="boolean"?m.plainObjects:n.plainObjects,strictDepth:typeof m.strictDepth=="boolean"?!!m.strictDepth:n.strictDepth,strictNullHandling:typeof m.strictNullHandling=="boolean"?m.strictNullHandling:n.strictNullHandling}};return Ew=function(h,m){var g=c(m);if(h===""||h===null||typeof h>"u")return g.plainObjects?Object.create(null):{};for(var _=typeof h=="string"?l(h,g):h,v=g.plainObjects?Object.create(null):{},p=Object.keys(_),E=0;E<p.length;++E){var y=p[E],S=f(y,_[y],g,typeof h=="string");v=e.merge(v,S,g)}return g.allowSparse===!0?v:e.compact(v)},Ew}function Ore(){if(zP)return Sw;zP=!0;var e=Pre(),t=xre(),r=MR();return Sw={formats:r,parse:t,stringify:e},Sw}function Rre(){if(qP)return gu;qP=!0;var e=mu;function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],a=["{","}","|","\\","^","`"].concat(o),s=["'"].concat(a),l=["%","/","?",";","#"].concat(s),u=["/","?","#"],f=255,c=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=Ore();function p($,T,d){if($&&typeof $=="object"&&$ instanceof t)return $;var A=new t;return A.parse($,T,d),A}t.prototype.parse=function($,T,d){if(typeof $!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof $);var A=$.indexOf("?"),P=A!==-1&&A<$.indexOf("#")?"?":"#",x=$.split(P),D=/\\/g;x[0]=x[0].replace(D,"/"),$=x.join(P);var F=$;if(F=F.trim(),!d&&$.split("#").length===1){var V=i.exec(F);if(V)return this.path=F,this.href=F,this.pathname=V[1],V[2]?(this.search=V[2],T?this.query=v.parse(this.search.substr(1)):this.query=this.search.substr(1)):T&&(this.search="",this.query={}),this}var X=r.exec(F);if(X){X=X[0];var G=X.toLowerCase();this.protocol=G,F=F.substr(X.length)}if(d||X||F.match(/^\/\/[^@/]+@[^@/]+/)){var Q=F.substr(0,2)==="//";Q&&!(X&&g[X])&&(F=F.substr(2),this.slashes=!0)}if(!g[X]&&(Q||X&&!_[X])){for(var ce=-1,ee=0;ee<u.length;ee++){var ae=F.indexOf(u[ee]);ae!==-1&&(ce===-1||ae<ce)&&(ce=ae)}var M,B;ce===-1?B=F.lastIndexOf("@"):B=F.lastIndexOf("@",ce),B!==-1&&(M=F.slice(0,B),F=F.slice(B+1),this.auth=decodeURIComponent(M)),ce=-1;for(var ee=0;ee<l.length;ee++){var ae=F.indexOf(l[ee]);ae!==-1&&(ce===-1||ae<ce)&&(ce=ae)}ce===-1&&(ce=F.length),this.host=F.slice(0,ce),F=F.slice(ce),this.parseHost(),this.hostname=this.hostname||"";var K=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!K)for(var O=this.hostname.split(/\./),ee=0,k=O.length;ee<k;ee++){var q=O[ee];if(q&&!q.match(c)){for(var ie="",J=0,Y=q.length;J<Y;J++)q.charCodeAt(J)>127?ie+="x":ie+=q[J];if(!ie.match(c)){var oe=O.slice(0,ee),_e=O.slice(ee+1),ye=q.match(h);ye&&(oe.push(ye[1]),_e.unshift(ye[2])),_e.length&&(F="/"+_e.join(".")+F),this.hostname=oe.join(".");break}}}this.hostname.length>f?this.hostname="":this.hostname=this.hostname.toLowerCase(),K||(this.hostname=e.toASCII(this.hostname));var R=this.port?":"+this.port:"",I=this.hostname||"";this.host=I+R,this.href+=this.host,K&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),F[0]!=="/"&&(F="/"+F))}if(!m[G])for(var ee=0,k=s.length;ee<k;ee++){var N=s[ee];if(F.indexOf(N)!==-1){var H=encodeURIComponent(N);H===N&&(H=escape(N)),F=F.split(N).join(H)}}var re=F.indexOf("#");re!==-1&&(this.hash=F.substr(re),F=F.slice(0,re));var le=F.indexOf("?");if(le!==-1?(this.search=F.substr(le),this.query=F.substr(le+1),T&&(this.query=v.parse(this.query)),F=F.slice(0,le)):T&&(this.search="",this.query={}),F&&(this.pathname=F),_[G]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var R=this.pathname||"",fe=this.search||"";this.path=R+fe}return this.href=this.format(),this};function E($){return typeof $=="string"&&($=p($)),$ instanceof t?$.format():t.prototype.format.call($)}t.prototype.format=function(){var $=this.auth||"";$&&($=encodeURIComponent($),$=$.replace(/%3A/i,":"),$+="@");var T=this.protocol||"",d=this.pathname||"",A=this.hash||"",P=!1,x="";this.host?P=$+this.host:this.hostname&&(P=$+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(P+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(x=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var D=this.search||x&&"?"+x||"";return T&&T.substr(-1)!==":"&&(T+=":"),this.slashes||(!T||_[T])&&P!==!1?(P="//"+(P||""),d&&d.charAt(0)!=="/"&&(d="/"+d)):P||(P=""),A&&A.charAt(0)!=="#"&&(A="#"+A),D&&D.charAt(0)!=="?"&&(D="?"+D),d=d.replace(/[?#]/g,function(F){return encodeURIComponent(F)}),D=D.replace("#","%23"),T+P+d+D+A};function y($,T){return p($,!1,!0).resolve(T)}t.prototype.resolve=function($){return this.resolveObject(p($,!1,!0)).format()};function S($,T){return $?p($,!1,!0).resolveObject(T):T}return t.prototype.resolveObject=function($){if(typeof $=="string"){var T=new t;T.parse($,!1,!0),$=T}for(var d=new t,A=Object.keys(this),P=0;P<A.length;P++){var x=A[P];d[x]=this[x]}if(d.hash=$.hash,$.href==="")return d.href=d.format(),d;if($.slashes&&!$.protocol){for(var D=Object.keys($),F=0;F<D.length;F++){var V=D[F];V!=="protocol"&&(d[V]=$[V])}return _[d.protocol]&&d.hostname&&!d.pathname&&(d.pathname="/",d.path=d.pathname),d.href=d.format(),d}if($.protocol&&$.protocol!==d.protocol){if(!_[$.protocol]){for(var X=Object.keys($),G=0;G<X.length;G++){var Q=X[G];d[Q]=$[Q]}return d.href=d.format(),d}if(d.protocol=$.protocol,!$.host&&!g[$.protocol]){for(var k=($.pathname||"").split("/");k.length&&!($.host=k.shift()););$.host||($.host=""),$.hostname||($.hostname=""),k[0]!==""&&k.unshift(""),k.length<2&&k.unshift(""),d.pathname=k.join("/")}else d.pathname=$.pathname;if(d.search=$.search,d.query=$.query,d.host=$.host||"",d.auth=$.auth,d.hostname=$.hostname||$.host,d.port=$.port,d.pathname||d.search){var ce=d.pathname||"",ee=d.search||"";d.path=ce+ee}return d.slashes=d.slashes||$.slashes,d.href=d.format(),d}var ae=d.pathname&&d.pathname.charAt(0)==="/",M=$.host||$.pathname&&$.pathname.charAt(0)==="/",B=M||ae||d.host&&$.pathname,K=B,O=d.pathname&&d.pathname.split("/")||[],k=$.pathname&&$.pathname.split("/")||[],q=d.protocol&&!_[d.protocol];if(q&&(d.hostname="",d.port=null,d.host&&(O[0]===""?O[0]=d.host:O.unshift(d.host)),d.host="",$.protocol&&($.hostname=null,$.port=null,$.host&&(k[0]===""?k[0]=$.host:k.unshift($.host)),$.host=null),B=B&&(k[0]===""||O[0]==="")),M)d.host=$.host||$.host===""?$.host:d.host,d.hostname=$.hostname||$.hostname===""?$.hostname:d.hostname,d.search=$.search,d.query=$.query,O=k;else if(k.length)O||(O=[]),O.pop(),O=O.concat(k),d.search=$.search,d.query=$.query;else if($.search!=null){if(q){d.host=O.shift(),d.hostname=d.host;var ie=d.host&&d.host.indexOf("@")>0?d.host.split("@"):!1;ie&&(d.auth=ie.shift(),d.hostname=ie.shift(),d.host=d.hostname)}return d.search=$.search,d.query=$.query,(d.pathname!==null||d.search!==null)&&(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"")),d.href=d.format(),d}if(!O.length)return d.pathname=null,d.search?d.path="/"+d.search:d.path=null,d.href=d.format(),d;for(var J=O.slice(-1)[0],Y=(d.host||$.host||O.length>1)&&(J==="."||J==="..")||J==="",oe=0,_e=O.length;_e>=0;_e--)J=O[_e],J==="."?O.splice(_e,1):J===".."?(O.splice(_e,1),oe++):oe&&(O.splice(_e,1),oe--);if(!B&&!K)for(;oe--;oe)O.unshift("..");B&&O[0]!==""&&(!O[0]||O[0].charAt(0)!=="/")&&O.unshift(""),Y&&O.join("/").substr(-1)!=="/"&&O.push("");var ye=O[0]===""||O[0]&&O[0].charAt(0)==="/";if(q){d.hostname=ye?"":O.length?O.shift():"",d.host=d.hostname;var ie=d.host&&d.host.indexOf("@")>0?d.host.split("@"):!1;ie&&(d.auth=ie.shift(),d.hostname=ie.shift(),d.host=d.hostname)}return B=B||d.host&&O.length,B&&!ye&&O.unshift(""),O.length>0?d.pathname=O.join("/"):(d.pathname=null,d.path=null),(d.pathname!==null||d.search!==null)&&(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"")),d.auth=$.auth||d.auth,d.slashes=d.slashes||$.slashes,d.href=d.format(),d},t.prototype.parseHost=function(){var $=this.host,T=n.exec($);T&&(T=T[0],T!==":"&&(this.port=T.substr(1)),$=$.substr(0,$.length-T.length)),$&&(this.hostname=$)},gu.parse=p,gu.resolve=y,gu.resolveObject=S,gu.format=E,gu.Url=t,gu}function lq(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Cb?Ire(e):Nre(e)}function Ire(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(_q,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<wq||n>bq||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function Nre(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function uq(e){let t=jP.resolve(e);const r=e.charCodeAt(e.length-1);(r===yq||Cb&&r===vq)&&t[t.length-1]!==jP.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(Eq,"%25")),!Cb&&t.includes("\\")&&(t=t.replace(Sq,"%5C")),t.includes(`
`)&&(t=t.replace($q,"%0A")),t.includes("\r")&&(t=t.replace(Tq,"%0D")),t.includes("	")&&(t=t.replace(Aq,"%09")),n.pathname=t,n}var cq,gw,DP,vw,yw,MP,ww,LP,bw,FP,_w,BP,Ew,UP,Sw,zP,gu,qP,Ci,Zj,fq,dq,hq,pq,mq,gq,vq,yq,wq,bq,Cb,_q,Eq,Sq,$q,Tq,Aq,Cre=tn({"../../node_modules/@jspm/core/nodelibs/browser/url.js"(){Ae(),Ere(),wR(),$re(),dg(),cq=Object.freeze(Object.create(null)),gw={},DP=!1,vw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,yw={},MP=!1,ww={},LP=!1,bw={},FP=!1,_w={},BP=!1,Ew={},UP=!1,Sw={},zP=!1,gu={},qP=!1,Ci=Rre(),Ci.parse,Ci.resolve,Ci.resolveObject,Ci.format,Ci.Url,Zj=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Ci.URL=typeof URL<"u"?URL:null,Ci.pathToFileURL=uq,Ci.fileURLToPath=lq,fq=Ci.Url,dq=Ci.format,hq=Ci.resolve,pq=Ci.resolveObject,mq=Ci.parse,gq=Ci.URL,vq=92,yq=47,wq=97,bq=122,Cb=Zj==="win32",_q=/\//g,Eq=/%/g,Sq=/\\/g,$q=/\n/g,Tq=/\r/g,Aq=/\t/g}}),kre=Oe({"../../node_modules/eventsource/lib/eventsource.js"(e,t){Ae();var r=(Cre(),Ar(aq)).parse,n=($z(),Ar(vz)),i=(B_(),Ar(hg)),o=(cR(),Ar(L_)),a=(z_(),Ar(U_)),s=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],l=[239,187,191],u=58,f=32,c=10,h=13,m=1024*256,g=/^(cookie|authorization)$/i;function _(S){return l.every(function($,T){return S[T]===$})}function v(S,$){var T=v.CONNECTING,d=$&&$.headers,A=!1;Object.defineProperty(this,"readyState",{get:function(){return T}}),Object.defineProperty(this,"url",{get:function(){return S}});var P=this;P.reconnectInterval=1e3,P.connectionInProgress=!1;function x(M){T!==v.CLOSED&&(T=v.CONNECTING,ee("error",new p("error",{message:M})),Q&&(S=Q,Q=null,A=!1),setTimeout(function(){T!==v.CONNECTING||P.connectionInProgress||(P.connectionInProgress=!0,ce())},P.reconnectInterval))}var D,F="";d&&d["Last-Event-ID"]&&(F=d["Last-Event-ID"],delete d["Last-Event-ID"]);var V=!1,X="",G="",Q=null;function ce(){var M=r(S),B=M.protocol==="https:";if(M.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},F&&(M.headers["Last-Event-ID"]=F),d){var K=A?y(d):d;for(var O in K){var k=K[O];k&&(M.headers[O]=k)}}M.rejectUnauthorized=!($&&!$.rejectUnauthorized),$&&$.createConnection!==void 0&&(M.createConnection=$.createConnection);var q=$&&$.proxy;if(q){var ie=r($.proxy);B=ie.protocol==="https:",M.protocol=B?"https:":"http:",M.path=S,M.headers.Host=M.host,M.hostname=ie.hostname,M.host=ie.host,M.port=ie.port}if($&&$.https){for(var J in $.https)if(s.indexOf(J)!==-1){var Y=$.https[J];Y!==void 0&&(M[J]=Y)}}$&&$.withCredentials!==void 0&&(M.withCredentials=$.withCredentials),D=(B?i:o).request(M,function(oe){if(P.connectionInProgress=!1,oe.statusCode===500||oe.statusCode===502||oe.statusCode===503||oe.statusCode===504){ee("error",new p("error",{status:oe.statusCode,message:oe.statusMessage})),x();return}if(oe.statusCode===301||oe.statusCode===302||oe.statusCode===307){var _e=oe.headers.location;if(!_e){ee("error",new p("error",{status:oe.statusCode,message:oe.statusMessage}));return}var ye=new URL(S).origin,R=new URL(_e).origin;A=ye!==R,oe.statusCode===307&&(Q=S),S=_e,process.nextTick(ce);return}if(oe.statusCode!==200)return ee("error",new p("error",{status:oe.statusCode,message:oe.statusMessage})),P.close();T=v.OPEN,oe.on("close",function(){oe.removeAllListeners("close"),oe.removeAllListeners("end"),x()}),oe.on("end",function(){oe.removeAllListeners("close"),oe.removeAllListeners("end"),x()}),ee("open",new p("open"));var I,N,H=0,re=-1,le=0,fe=0;oe.on("data",function(me){I?(me.length>I.length-fe&&(le=I.length*2+me.length,le>m&&(le=I.length+me.length+m),N=Kr.alloc(le),I.copy(N,0,0,fe),I=N),me.copy(I,fe),fe+=me.length):(I=me,_(I)&&(I=I.slice(l.length)),fe=I.length);for(var Re=0,Le=fe;Re<Le;){V&&(I[Re]===c&&++Re,V=!1);for(var je=-1,tt=re,Ge,Ue=H;je<0&&Ue<Le;++Ue)Ge=I[Ue],Ge===u?tt<0&&(tt=Ue-Re):Ge===h?(V=!0,je=Ue-Re):Ge===c&&(je=Ue-Re);if(je<0){H=Le-Re,re=tt;break}else H=0,re=-1;ae(I,Re,tt,je),Re+=je+1}Re===Le?(I=void 0,fe=0):Re>0&&(I=I.slice(Re,fe),fe=I.length)})}),D.on("error",function(oe){P.connectionInProgress=!1,x(oe.message)}),D.setNoDelay&&D.setNoDelay(!0),D.end()}ce();function ee(){P.listeners(arguments[0]).length>0&&P.emit.apply(P,arguments)}this._close=function(){T!==v.CLOSED&&(T=v.CLOSED,D.abort&&D.abort(),D.xhr&&D.xhr.abort&&D.xhr.abort())};function ae(M,B,K,O){if(O===0){if(X.length>0){var k=G||"message";ee(k,new E(k,{data:X.slice(0,-1),lastEventId:F,origin:new URL(S).origin})),X=""}G=void 0}else if(K>0){var q=K<0,ie=0,J=M.slice(B,B+(q?O:K)).toString();q?ie=O:M[B+K+1]!==f?ie=K+1:ie=K+2,B+=ie;var Y=O-ie,oe=M.slice(B,B+Y).toString();if(J==="data")X+=oe+`
`;else if(J==="event")G=oe;else if(J==="id")F=oe;else if(J==="retry"){var _e=parseInt(oe,10);Number.isNaN(_e)||(P.reconnectInterval=_e)}}}}t.exports=v,a.inherits(v,n.EventEmitter),v.prototype.constructor=v,["open","error","message"].forEach(function(S){Object.defineProperty(v.prototype,"on"+S,{get:function(){var T=this.listeners(S)[0];return T?T._listener?T._listener:T:void 0},set:function(T){this.removeAllListeners(S),this.addEventListener(S,T)}})}),Object.defineProperty(v,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(v,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(v,"CLOSED",{enumerable:!0,value:2}),v.prototype.CONNECTING=0,v.prototype.OPEN=1,v.prototype.CLOSED=2,v.prototype.close=function(){this._close()},v.prototype.addEventListener=function($,T){typeof T=="function"&&(T._listener=T,this.on($,T))},v.prototype.dispatchEvent=function($){if(!$.type)throw new Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit($.type,$.detail)},v.prototype.removeEventListener=function($,T){typeof T=="function"&&(T._listener=void 0,this.removeListener($,T))};function p(S,$){if(Object.defineProperty(this,"type",{writable:!1,value:S,enumerable:!0}),$)for(var T in $)$.hasOwnProperty(T)&&Object.defineProperty(this,T,{writable:!1,value:$[T],enumerable:!0})}function E(S,$){Object.defineProperty(this,"type",{writable:!1,value:S,enumerable:!0});for(var T in $)$.hasOwnProperty(T)&&Object.defineProperty(this,T,{writable:!1,value:$[T],enumerable:!0})}function y(S){var $={};for(var T in S)g.test(T)||($[T]=S[T]);return $}}}),jre=Oe({"../binding-http/dist/subscription-protocols.js"(e){Ae();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.SSESubscription=e.LongPollingSubscription=void 0;var r=t(kre()),n=Io(),i=(Na(),Ar(Xo)),{debug:o}=(0,n.createLoggers)("binding-http","subscription-protocols"),a=class{constructor(l,u){this.form=l,this.client=u,this.closed=!1,this.abortController=new AbortController}open(l,u,f){return new Promise((c,h)=>{const m=async g=>{try{if(g){const p=await this.client.generateFetchRequest(this.form,"HEAD",{timeout:1e3,signal:this.abortController.signal});(await this.client.fetch(p)).ok&&c()}const _=await this.client.generateFetchRequest(this.form,"GET",{timeout:60*60*1e3,signal:this.abortController.signal});o(`HttpClient (subscribeResource) sending ${_.method} to ${_.url}`);const v=await this.client.fetch(_);if(this.client.checkFetchResponse(v),o(`HttpClient received ${v.status} from ${_.url}`),o(`HttpClient received headers: ${JSON.stringify(v.headers.raw())}`),o(`HttpClient received Content-Type: ${v.headers.get("content-type")}`),!this.closed){const p=n.ProtocolHelpers.toNodeStream(v.body);l(new n.Content(v.headers.get("content-type")??n.ContentSerdes.DEFAULT,p)),m(!1)}f&&f()}catch(_){const v=_ instanceof Error?_:new Error(JSON.stringify(_));u&&u(v),f&&f(),h(_)}};m(!0)})}close(){this.abortController.abort(),this.closed=!0}};e.LongPollingSubscription=a;var s=class{constructor(l){this.form=l,this.closed=!1}open(l,u,f){return new Promise((c,h)=>{this.eventSource=new r.default(this.form.href),this.eventSource.onopen=m=>{o(`HttpClient (subscribeResource) Server-Sent Event connection is opened to ${this.form.href}`),c()},this.eventSource.onmessage=m=>{o(`HttpClient received ${JSON.stringify(m)} from ${this.form.href}`);const g=new n.Content(this.form.contentType??n.ContentSerdes.DEFAULT,i.Readable.from(m.data));l(g)},this.eventSource.onerror=function(m){u==null||u(new Error(m.toString())),f&&f(),h(m.toString())}})}close(){var l;(l=this.eventSource)==null||l.close()}};e.SSESubscription=s}}),Dre=Oe({"../binding-http/dist/http-client-impl.js"(e){Ae();var t=e&&e.__createBinding||(Object.create?function(E,y,S,$){$===void 0&&($=S);var T=Object.getOwnPropertyDescriptor(y,S);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[S]}}),Object.defineProperty(E,$,T)}:function(E,y,S,$){$===void 0&&($=S),E[$]=y[S]}),r=e&&e.__setModuleDefault||(Object.create?function(E,y){Object.defineProperty(E,"default",{enumerable:!0,value:y})}:function(E,y){E.default=y}),n=e&&e.__importStar||function(){var E=function(y){return E=Object.getOwnPropertyNames||function(S){var $=[];for(var T in S)Object.prototype.hasOwnProperty.call(S,T)&&($[$.length]=T);return $},E(y)};return function(y){if(y&&y.__esModule)return y;var S={};if(y!=null)for(var $=E(y),T=0;T<$.length;T++)$[T]!=="default"&&t(S,y,$[T]);return r(S,y),S}}(),i=e&&e.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0});var o=n((cR(),Ar(L_))),a=n((B_(),Ar(hg))),s=lre(),l=Io(),u=n(DR()),f=(Xu(),Ar(Yu)),c=i(oq()),h=nq(),m=jre(),{debug:g,warn:_,error:v}=(0,l.createLoggers)("binding-http","http-client-impl"),p=class kp{constructor(y=null,S=!1,$=new c.default){this.proxyRequest=null,this.allowSelfSigned=!1,this.credential=null,this.activeSubscriptions=new Map,y!==null&&y.proxy&&y.proxy.href&&(this.proxyRequest=new u.Request(kp.fixLocalhostName(y.proxy.href)),y.proxy.scheme==="basic"?((!Object.prototype.hasOwnProperty.call(y.proxy,"username")||!Object.prototype.hasOwnProperty.call(y.proxy,"password"))&&_("HttpClient client configured for basic proxy auth, but no username/password given"),this.proxyRequest.headers.set("proxy-authorization","Basic "+f.Buffer.from(y.proxy.username+":"+y.proxy.password).toString("base64"))):y.proxy.scheme==="bearer"&&(Object.prototype.hasOwnProperty.call(y.proxy,"token")||_("HttpClient client configured for bearer proxy auth, but no token given"),this.proxyRequest.headers.set("proxy-authorization","Bearer "+y.proxy.token)),this.proxyRequest.protocol==="https"&&(S=!0),g(`HttpClient using ${S?"secure ":""}proxy ${this.proxyRequest.hostname}:${this.proxyRequest.port}`)),y!==null&&y.allowSelfSigned!==void 0&&(this.allowSelfSigned=y.allowSelfSigned,_("HttpClient allowing self-signed/untrusted certificates -- USE FOR TESTING ONLY")),this.agent=S?new a.Agent({rejectUnauthorized:!this.allowSelfSigned}):new o.Agent,this.provider=S?"https":"http",this.oauth=$}toString(){return"[HttpClient]"}async readResource(y){const S=y.contentType!=null?[["accept",y.contentType]]:[["accept",l.ContentSerdes.DEFAULT]],$=await this.generateFetchRequest(y,"GET",{headers:S});g(`HttpClient (readResource) sending ${$.method} to ${$.url}`);const T=await this.fetch($);this.checkFetchResponse(T),g(`HttpClient received headers: ${JSON.stringify(T.headers.raw())}`),g(`HttpClient received Content-Type: ${T.headers.get("content-type")}`);const d=l.ProtocolHelpers.toNodeStream(T.body);return new l.Content(T.headers.get("content-type")??l.ContentSerdes.DEFAULT,d)}async writeResource(y,S){const $=await this.generateFetchRequest(y,"PUT",{headers:[["content-type",S.type]],body:S.body});g(`HttpClient (writeResource) sending ${$.method} with '${$.headers.get("Content-Type")}' to ${$.url}`);const T=await this.fetch($);g(`HttpClient received ${T.status} from ${T.url}`),this.checkFetchResponse(T),g(`HttpClient received headers: ${JSON.stringify(T.headers.raw())}`)}async subscribeResource(y,S,$,T){const d="longpoll";let A=y.subprotocol;A==null&&(_(`Subscribing to ${y.href} using long polling for form without subprotocol`),A=d);let P;if(A===d)P=new m.LongPollingSubscription(y,this);else if(y.subprotocol==="sse")P=new m.SSESubscription(y);else throw new Error(`HttpClient does not support subprotocol ${y.subprotocol}`);return await P.open(S,$,T),this.activeSubscriptions.set(y.href,P),new s.Subscription(()=>{P.close()})}async invokeResource(y,S){var P,x;const $=S!=null?[["content-type",S.type]]:[];((P=y.response)==null?void 0:P.contentType)!=null?$.push(["accept",(x=y.response)==null?void 0:x.contentType]):y.contentType!=null?$.push(["accept",y.contentType]):$.push(["accept",l.ContentSerdes.DEFAULT]);const T=await this.generateFetchRequest(y,"POST",{headers:$,body:S==null?void 0:S.body});g(`HttpClient (invokeResource) sending ${T.method} ${S!=null?`with '"${T.headers.get("Content-Type")}"`:""} to ${T.url}`);const d=await this.fetch(T);g(`HttpClient received ${d.status} from ${T.url}`),g(`HttpClient received Content-Type: ${d.headers.get("content-type")}`),this.checkFetchResponse(d);const A=l.ProtocolHelpers.toNodeStream(d.body);return new l.Content(d.headers.get("content-type")??l.ContentSerdes.DEFAULT,A)}async unlinkResource(y){g(`HttpClient (unlinkResource) ${y.href}`);const S=this.activeSubscriptions.get(y.href);S?S.close():_(`HttpClient cannot unlink ${y.href} no subscription found`)}async requestThingDescription(y){const S={Accept:"application/td+json"},$=await this.generateFetchRequest({href:y},"GET",S),T=await this.fetch($),d=l.ProtocolHelpers.toNodeStream(T.body);return new l.Content(T.headers.get("content-type")??"application/td+json",d)}async start(){}async stop(){var y,S;(S=(y=this.agent)==null?void 0:y.destroy)==null||S.call(y)}setSecurity(y,S){if(y===void 0||!Array.isArray(y)||y.length===0)return _("HttpClient without security"),!1;const $=y[0];switch($.scheme){case"basic":{const T=$;this.credential=new h.BasicCredential(S,T);break}case"bearer":{const T=$;this.credential=new h.BearerCredential(S,T);break}case"apikey":{const T=$;this.credential=new h.BasicKeyCredential(S,T);break}case"oauth2":{const T=$;T.flow==="client"?(T.flow="client_credentials",this.credential=this.oauth.handleClient(T,S)):T.flow==="password"&&(this.credential=this.oauth.handleResourceOwnerCredential(T,S));break}case"TuyaCustomBearer":{this.credential=new h.TuyaCustomBearer(S,$);break}case"nosec":break;default:return v(`HttpClient cannot set security scheme '${$.scheme}'. ${y}`),!1}if($.proxy!=null){if(this.proxyRequest!==null&&g(`HttpClient overriding client-side proxy with security proxy '${$.proxy}`),this.proxyRequest=new u.Request(kp.fixLocalhostName($.proxy)),$.scheme==="basic"){const T=S;if(T===void 0||T.username===void 0||T.password===void 0)throw new Error("No Basic credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Basic "+f.Buffer.from(T.username+":"+T.password).toString("base64"))}else if($.scheme==="bearer"){const T=S;if(S===void 0||T.token===void 0)throw new Error("No Bearer credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Bearer "+T.token)}}return g(`HttpClient using security scheme '${$.scheme}'`),!0}async generateFetchRequest(y,S,$={}){const T=$,d=kp.fixLocalhostName(y.href);if(T.method=y["htv:methodName"]?y["htv:methodName"]:S,T.headers=T.headers??[],T.headers=T.headers,Array.isArray(y["htv:headers"])){g(`HttpClient got Form 'headers' ${y["htv:headers"]}`);const P=y["htv:headers"];for(const x of P)T.headers=T.headers.filter(D=>D[0].toLowerCase()!==x["htv:fieldName"].toLowerCase()),T.headers.push([x["htv:fieldName"],x["htv:fieldValue"]])}else if(typeof y["htv:headers"]=="object"){g(`HttpClient got Form SINGLE-ENTRY 'headers' ${y["htv:headers"]}`);const P=y["htv:headers"];T.headers=T.headers.filter(x=>x[0].toLowerCase()!==P["htv:fieldName"].toLowerCase()),T.headers.push([P["htv:fieldName"],P["htv:fieldValue"]])}T.agent=this.agent;let A=this.proxyRequest?new u.Request(this.proxyRequest,T):new u.Request(d,T);if(this.credential&&(A=await this.credential.sign(A)),this.proxyRequest){const P=new URL(d);A.url=A.url+P.pathname,g(`HttpClient proxy request URL: ${A.url}`),A.headers.set("host",P.hostname)}return A}async fetch(y,S){const $=await(0,u.default)(y,{body:S==null?void 0:S.body});return kp.isOAuthTokenExpired($,this.credential)?(this.credential=await this.credential.refreshToken(),await(0,u.default)(await this.credential.sign(y))):$}checkFetchResponse(y){const S=y.status;if(S<200)throw new Error(`HttpClient received ${S} and cannot continue (not implemented, open GitHub Issue)`);if(!(S<300))throw S<400?new Error(`HttpClient received ${S} and cannot continue (not implemented, open GitHub Issue)`):S<500?new Error(`Client error: ${y.statusText}`):new Error(`Server error: ${y.statusText}`)}static isOAuthTokenExpired(y,S){return y.status===401&&S instanceof h.OAuthCredential}static fixLocalhostName(y){const S=/^(https?:)?(\/\/)?(?:[^@\n]+@)?(www\.)?(localhost)/gm;return S.test(y)?(_("LOCALHOST FIX"),y.replace(S,"$1$2127.0.0.1")):y}};e.default=p}}),kb=Oe({"../binding-http/dist/http-client-browser.js"(e){Ae();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var r=Io(),n=(Na(),Ar(Xo)),i=t(Dre()),o=class extends i.default{async generateFetchRequest(a,s,l){if((l==null?void 0:l.body)instanceof n.Readable){const u=await r.ProtocolHelpers.readStreamFully(l.body);l.body=u}return super.generateFetchRequest(a,s,l)}};e.default=o}}),eD=Oe({"../binding-http/dist/http-client-factory.js"(e){Ae();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=Io(),n=t(kb()),i=t(oq()),{debug:o,warn:a}=(0,r.createLoggers)("binding-http","http-client-factory"),s=class{constructor(l=null){this.scheme="http",this.config=null,this.oAuthManager=new i.default,this.config=l}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("https:")?(a("HttpClientFactory creating client for 'https' due to secure proxy configuration"),new n.default(this.config,!0,this.oAuthManager)):(o(`HttpClientFactory creating client for '${this.scheme}'`),new n.default(this.config))}init(){return!0}destroy(){return!0}};e.default=s}}),tD=Oe({"../binding-http/dist/https-client-factory.js"(e){Ae();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var r=Io(),n=t(kb()),{debug:i,warn:o}=(0,r.createLoggers)("binding-http","https-client-factory"),a=class{constructor(s=null){this.scheme="https",this.config=null,this.config=s}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("http:")?(o("HttpsClientFactory creating client for 'http' due to insecure proxy configuration"),new n.default(this.config)):(i(`HttpsClientFactory creating client for '${this.scheme}'`),new n.default(this.config,!0))}init(){return!0}destroy(){return!0}};e.default=a}}),Mre=Oe({"../binding-http/dist/http-browser.js"(e){Ae();var t=e&&e.__createBinding||(Object.create?function(c,h,m,g){g===void 0&&(g=m);var _=Object.getOwnPropertyDescriptor(h,m);(!_||("get"in _?!h.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(c,g,_)}:function(c,h,m,g){g===void 0&&(g=m),c[g]=h[m]}),r=e&&e.__exportStar||function(c,h){for(var m in c)m!=="default"&&!Object.prototype.hasOwnProperty.call(h,m)&&t(h,c,m)},n=e&&e.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.HttpForm=e.HttpHeader=e.HttpsClientFactory=e.HttpClientFactory=e.HttpClient=void 0;var i=Io(),o=DR(),a=kb();Object.defineProperty(e,"HttpClient",{enumerable:!0,get:function(){return n(a).default}});var s=eD();Object.defineProperty(e,"HttpClientFactory",{enumerable:!0,get:function(){return n(s).default}});var l=tD();Object.defineProperty(e,"HttpsClientFactory",{enumerable:!0,get:function(){return n(l).default}}),r(kb(),e),r(eD(),e),r(tD(),e);var u=class{};e.HttpHeader=u;var f=class extends i.Form{};e.HttpForm=f,o.Headers.prototype.raw=function(){const c={};for(const[h,m]of this.entries())c[h]=m.split(",");return c},o.Response.prototype.buffer=async function(){return Kr.from(await this.arrayBuffer())}}}),VP=Oe({"../binding-websockets/dist/ws-client.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=Io(),{debug:r,warn:n}=(0,t.createLoggers)("binding-websockets","ws-client"),i=class{constructor(){}toString(){return"[WebSocketClient]"}readResource(o){return new Promise((a,s)=>{})}writeResource(o,a){return new Promise((s,l)=>{})}invokeResource(o,a){return new Promise((s,l)=>{})}unlinkResource(o){return new Promise((a,s)=>{})}subscribeResource(o,a,s,l){throw new Error("Websocket client does not implement subscribeResource")}async requestThingDescription(o){throw new Error("Method not implemented")}async start(){}async stop(){}setSecurity(o,a){if(o===void 0||!Array.isArray(o)||o.length===0)return n("WebSocketClient received empty security metadata"),!1;const s=o[0];return r(`WebSocketClient using security scheme '${s.scheme}'`),!0}};e.default=i}}),rD=Oe({"../binding-websockets/dist/ws-client-factory.js"(e){Ae();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var r=Io(),n=t(VP()),{debug:i}=(0,r.createLoggers)("binding-websockets","ws-client-factory"),o=class{constructor(a=null){this.scheme="ws",this.clientSideProxy=null,this.clientSideProxy=a}getClient(){return i(`HttpClientFactory creating client for '${this.scheme}'`),new n.default}init(){return!0}destroy(){return!0}};e.default=o}}),nD=Oe({"../binding-websockets/dist/wss-client-factory.js"(e){Ae(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(){this.scheme="wss"}getClient(){throw new Error("WssClientFactory for 'wss' is not implemented")}init(){return!0}destroy(){return!0}};e.default=t}}),Lre=Oe({"../binding-websockets/dist/ws-browser.js"(e){Ae();var t=e&&e.__createBinding||(Object.create?function(s,l,u,f){f===void 0&&(f=u);var c=Object.getOwnPropertyDescriptor(l,u);(!c||("get"in c?!l.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(s,f,c)}:function(s,l,u,f){f===void 0&&(f=u),s[f]=l[u]}),r=e&&e.__exportStar||function(s,l){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&t(l,s,u)},n=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketSecureClientFactory=e.WebSocketClientFactory=e.WebSocketClient=void 0;var i=VP();Object.defineProperty(e,"WebSocketClient",{enumerable:!0,get:function(){return n(i).default}});var o=rD();Object.defineProperty(e,"WebSocketClientFactory",{enumerable:!0,get:function(){return n(o).default}});var a=nD();Object.defineProperty(e,"WebSocketSecureClientFactory",{enumerable:!0,get:function(){return n(a).default}}),r(VP(),e),r(rD(),e),r(nD(),e)}});Ae();var Fre=eR(Io()),Bre=eR(Mre());eR(Lre());const LR=new Fre.Servient;LR.addClientFactory(new Bre.HttpClientFactory);console.log("init servient");const Pq={readproperty:{color:"Green",title:"Read",level:"properties",callback:zre},writeproperty:{color:"Blue",title:"Write",level:"properties",callback:qre},observeproperty:{color:"Orange",title:"Observe",level:"properties",callback:null},unobserveproperty:{color:"Red",title:"Unobserve",level:"properties",callback:null},invokeaction:{color:"Orange",title:"Invoke",level:"actions",callback:null},subscribeevent:{color:"Orange",title:"Subscribe",level:"events",callback:null},unsubscribeevent:{color:"Red",title:"Unsubscribe",level:"events",callback:null},readmultipleproperties:{color:"Green",title:"Read Multiple",level:"thing",callback:null},readallproperties:{color:"Green",title:"Read All",level:"thing",callback:null},writemultipleproperties:{color:"Blue",title:"Write Multiple",level:"thing",callback:null},writeallproperties:{color:"Blue",title:"Write All",level:"thing",callback:null},observeallproperties:{color:"Orange",title:"Observe All",level:"thing",callback:null},unobserveallproperties:{color:"Red",title:"Unobserve All",level:"thing",callback:null}};function id(e){return e.replace(/^"|"$/g,"")}const Ure=(e,t)=>{try{switch(e){case"boolean":return id(t).toLowerCase()==="true";case"integer":const r=parseInt(id(t),10);if(isNaN(r))throw new Error(`Error on convert "${t}" to an integer.`);return r;case"number":const n=parseFloat(id(t));if(isNaN(n))throw new Error(`Error on convert "${t}" to a number.`);return n;case"string":return id(t);case"array":let i=id(t);if(Array.isArray(i))return i;try{const o=JSON.parse(i);if(Array.isArray(o))return o}catch{throw new Error(`Error on convert "${t}" to an array.`)}case"object":try{return JSON.parse(id(t))}catch{throw new Error(`Error on convert "${t}" to an object.`)}default:throw new Error(`Unsupported type: "${e}".`)}}catch(r){console.error(`Failed to parse content for ${e}:`,r)}};async function zre(e,t,r){try{const o=await(await(await LR.start()).consume(e)).readProperty(t);o.ignoreValidation=!0;const a=await o.value();return{result:JSON.stringify(a,null,2),err:null}}catch(n){return console.debug(n),{result:"",err:n}}}async function qre(e,t,r){try{const n=e.properties[t].type,i=Ure(n,r);return await(await(await LR.start()).consume(e)).writeProperty(t,i),{result:`Successfully wrote ${JSON.stringify(i).length>50?JSON.stringify(i).slice(0,50)+"...":JSON.stringify(i)} to '${t}'.`,err:null}}catch(n){return console.debug(n),{result:"",err:n}}}function tE(e){e.form.propName=e.propName;const t=Pq[e.form.op];return t?Hre(e.form.op,e.form,t.callback):pe.jsx(Gre,{level:Vre(e.interactionType),form:e.form})}const Vre=e=>({action:"actions",property:"properties",event:"events",thing:"thing"})[e];function Hre(e,t,r){const n=Me.useContext(An),[i,o]=Me.useState(""),[a,s]=Me.useState(!1),[l,u]=Me.useState(null),[f,c]=Me.useState(null),h=Pq[e];if(!h)return pe.jsx(pe.Fragment,{});const m=pe.jsx("div",{className:"flex h-8 min-w-20 justify-center place-self-center rounded-md bg-white",children:pe.jsx("div",{className:`text-form${h.color} place-self-center px-4 text-center`,children:h.title})}),g=async()=>{if(!r)return;s(!0);const _=await r(n.parsedTD,t.propName,i);_.err!==null?(c(_.err.message),u(null)):(c(null),u(_.result)),s(!1),o("")};return pe.jsxs(pe.Fragment,{children:[pe.jsxs("div",{className:`flex min-h-12 w-full items-stretch bg-opacity-75 bg-form${h.color} mt-2 ${a||l!==null||f!=null||t.op==="writeproperty"?"rounded-t-md":"rounded-md"} border-2 pl-4 border-form${h.color}`,children:[r&&pe.jsx("button",{onClick:g,children:m}),!r&&pe.jsx("div",{className:"flex",children:m}),pe.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-base text-white",children:t.href}),(f!==null||l!==null)&&pe.jsx("button",{className:`flex min-w-10 items-center justify-center border-r-2 border-form${h.color} bg-form${h.color}`,onClick:()=>{c(null),u(null)},children:pe.jsx(jO,{size:16,color:"white"})}),pe.jsx("button",{className:`flex min-w-10 items-center justify-center bg-form${h.color}`,onClick:()=>n.removeForm(h.level,t.propName,t,t.actualIndex),children:pe.jsx(Ju,{size:16,color:"white"})})]}),t.op==="writeproperty"&&pe.jsx("form",{onSubmit:_=>{_.preventDefault(),g()},children:pe.jsx("input",{type:"text",placeholder:"Input a value and hit write...",value:i,onChange:_=>o(_.target.value),className:`flex w-full overflow-auto bg-white px-4 py-2 ${l!==null||f!=null?"border-b-2 border-gray-300":"rounded-b-md"}`})}),a!==!1&&pe.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:pe.jsx("div",{className:"p-4 text-black",children:"Waiting for a response..."})}),f!==null&&pe.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:pe.jsxs("div",{className:"text-formRed p-4",children:["Error: ",f]})}),l!==null&&pe.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:pe.jsx("div",{className:"p-4 text-black",children:l})})]})}function FR(e){return pe.jsx("button",{className:"border-formBlue bg-formBlue flex min-h-10 w-full items-stretch rounded-md border-2 bg-opacity-75 pl-4",onClick:e.onClick,children:pe.jsxs("div",{className:"flex items-center justify-center",children:[pe.jsx(UO,{color:"white",size:"20"}),pe.jsx("div",{className:"pl-2 text-center text-white",children:"Click to add Form..."})]})})}function Gre(e){const t=Me.useContext(An);return pe.jsxs("div",{className:"flex min-h-10 w-full items-stretch rounded-md border-2 border-gray-300 bg-gray-300 bg-opacity-75 pl-4",children:[pe.jsx("div",{className:"flex h-6 min-w-20 justify-center place-self-center rounded-md bg-white",children:pe.jsx("div",{className:"place-self-center px-4 text-center text-xs text-black",children:"Undefined"})}),pe.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-white",children:e.form.href}),pe.jsx("button",{className:"flex w-10 items-center justify-center bg-gray-300",onClick:()=>t.removeForm(e.level,e.form.propName,e.form,e.form.actualIndex),children:pe.jsx(Ju,{size:16,color:"black"})})]})}const BR=e=>pe.jsxs("div",{className:"py-1",children:[pe.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),pe.jsx("input",{name:e.id,id:e.id,className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:e.placeholder,type:e.type??"text",autoFocus:e.autoFocus??!1,onChange:e.onChange?()=>e.onChange():null}),pe.jsx("span",{id:`${e.id}-helper-text`,className:"pl-2 text-xs text-red-400"})]},e.id),UR=e=>pe.jsxs(pe.Fragment,{children:[pe.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),pe.jsx("textarea",{id:e.id,rows:"5",className:"w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:e.placeholder})]}),Wre=e=>pe.jsxs(pe.Fragment,{children:[pe.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),pe.jsxs("div",{className:"relative",children:[pe.jsx("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:e.id,children:e.options.map(t=>pe.jsx("option",{children:t},t))}),pe.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:pe.jsx(rf,{color:"#cacaca"})})]})]}),iD=e=>pe.jsxs("div",{className:"form-checkbox pl-2",children:[e.readOnly??!0?pe.jsx("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label}):pe.jsx("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label,readOnly:e.readOnly,checked:!0}),pe.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:e.id,children:e.label})]},e.id),Kre=Me.forwardRef((e,t)=>{const r=Me.useContext(An),[n,i]=lt.useState(()=>!1),o="action",a="actions",s=o[0].toUpperCase()+o.slice(1);Me.useEffect(()=>{},[n,r]),Me.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=pe.jsxs(pe.Fragment,{children:[pe.jsx(BR,{id:`${o}-title`,label:"Title",placeholder:`${s} Title`,autoFocus:!0,onChange:()=>m()}),pe.jsx(UR,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${s}...`})]}),c=()=>{if(!r.isValidJSON){h("Can't add Action. TD is malformed.");return}let g={};g.title=document.getElementById(`${o}-title`).value;const _=document.getElementById(`${o}-description`).value;_!==""&&(g.description=_),g.forms=[];const v=r.parsedTD;v[a]&&v[a][g.title]?h(`An ${s} with this title already exists...`):(v[a]={...v[a],[g.title]:g},r.updateOfflineTD(JSON.stringify(v,null,2)),u())},h=g=>{document.getElementById(`${o}-title-helper-text`).textContent=g,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?Ml.createPortal(pe.jsx(Ll,{onCancel:u,onSubmit:()=>{c()},submitText:`Add ${s}`,children:f,title:`Add New ${s}`,description:`Tell us a little something about the ${s} you want to add.`}),document.getElementById("modal-root")):null}),Jre=Me.forwardRef((e,t)=>{const r=Me.useContext(An),[n,i]=lt.useState(()=>!1),o="event",a="events",s=o[0].toUpperCase()+o.slice(1);Me.useEffect(()=>{},[n,r]),Me.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=pe.jsxs(pe.Fragment,{children:[pe.jsx(BR,{id:`${o}-title`,label:"Title",placeholder:`${s} Title`,autoFocus:!0,onChange:()=>m()}),pe.jsx(UR,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${s}...`})]}),c=()=>{let g={};g.title=document.getElementById(`${o}-title`).value;const _=document.getElementById(`${o}-description`).value;if(_!==""&&(g.description=_),g.forms=[],!r.isValidJSON){h("Can't add Event. TD is malformed.");return}const v=r.parsedTD;v[a]&&v[a][g.title]?h(`An ${s} with this title already exists...`):(v[a]={...v[a],[g.title]:g},r.updateOfflineTD(JSON.stringify(v,null,2)),u())},h=g=>{document.getElementById(`${o}-title-helper-text`).textContent=g,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?Ml.createPortal(pe.jsx(Ll,{onCancel:u,onSubmit:()=>{c()},submitText:`Add ${s}`,children:f,title:`Add New ${s}`,description:`Tell us a little something about the ${s} you want to add.`}),document.getElementById("modal-root")):null}),oD="undefined",Yre=Me.forwardRef((e,t)=>{const r=Me.useContext(An),[n,i]=lt.useState(()=>!1),o="property",a="properties",s=o[0].toUpperCase()+o.slice(1);Me.useEffect(()=>{},[n,r]),Me.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=pe.jsxs(pe.Fragment,{children:[pe.jsx(BR,{id:`${o}-title`,label:"Title",placeholder:`${s} Title`,autoFocus:!0,onChange:()=>m()}),pe.jsx(UR,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${s}...`}),pe.jsx(Wre,{id:`${o}-type`,label:"Type",options:[oD,"number","integer","boolean","string","object","array"]}),pe.jsx("div",{className:"h-2"}),pe.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Additional:"}),pe.jsxs("div",{id:"additional",className:"rounded-md bg-gray-600 p-1",children:[pe.jsx(iD,{id:`${o}-readOnly`,label:"Read Only"}),pe.jsx(iD,{id:`${o}-observable`,label:"Observable"})]})]}),c=()=>{if(!r.isValidJSON){h("Can't add Action. TD is malformed.");return}let g={};g.title=document.getElementById(`${o}-title`).value,g.observable=document.getElementById(`${o}-observable`).checked,g.readOnly=document.getElementById(`${o}-readOnly`).checked;const _=document.getElementById(`${o}-description`).value;_!==""&&(g.description=_);const v=document.getElementById(`${o}-type`).value;v!==oD&&(g.type=v),v==="array"?g.items={}:v==="object"&&(g.properties={}),g.forms=[];const p=r.parsedTD;p[a]&&p[a][g.title]?h(`A ${s} with this title already exists...`):(p[a]={...p[a],[g.title]:g},r.updateOfflineTD(JSON.stringify(p,null,2)),u())},h=g=>{document.getElementById(`${o}-title-helper-text`).textContent=g,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?Ml.createPortal(pe.jsx(Ll,{onCancel:u,onSubmit:()=>{c()},submitText:`Add ${s}`,children:f,title:`Add New ${s}`,description:`Tell us a little something about the ${s} you want to add.`}),document.getElementById("modal-root")):null}),Xre=["title","forms","description"];function Qre(e){const t=Me.useContext(An),[r,n]=Me.useState(!1),i=lt.useRef(),o=()=>{i.current.openModal()};if(Object.keys(e.action).length===0&&e.action.constructor!==Object)return pe.jsx("div",{className:"text-3xl text-white",children:"Action could not be rendered because mandatory fields are missing."});const a=e.action,s=$_(e.action.forms),l=S_({name:e.actionName},e.action,Xre),u=Object.keys(l).map(c=>pe.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("actions",e.actionName)};return pe.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[pe.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[pe.jsx("h3",{className:"flex-grow px-2",children:a.title??e.actionName}),r&&pe.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:pe.jsx(Ju,{size:16,color:"white"})})]}),pe.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[a.description&&pe.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:a.description}),pe.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),pe.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:pe.jsx(xh,{className:"flex-grow",tooltip:lg(),children:pe.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),pe.jsx(FR,{onClick:o}),pe.jsx(T_,{type:"action",interaction:a,interactionName:e.actionName,ref:i}),s.map((c,h)=>pe.jsx(tE,{form:c,propName:e.actionName,interactionType:"action"},`${h}-${c.href}`))]})]})}const Zre=["title","forms","description"];function ene(e){const t=Me.useContext(An),[r,n]=Me.useState(!1),i=lt.useRef(),o=()=>{i.current.openModal()};if(Object.keys(e.event).length===0&&e.event.constructor!==Object)return pe.jsx("div",{className:"text-3xl text-white",children:"Event could not be rendered because mandatory fields are missing."});const a=e.event,s=$_(e.event.forms),l=S_({name:e.eventName},e.event,Zre),u=Object.keys(l).map(c=>pe.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("events",e.eventName)};return pe.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[pe.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[pe.jsx("div",{className:"flex-grow px-2",children:a.title??e.eventName}),r&&pe.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:pe.jsx(Ju,{size:16,color:"white"})})]}),pe.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[a.description&&pe.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:a.description}),pe.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),pe.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:pe.jsx(xh,{className:"flex-grow",tooltip:lg(),children:pe.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),pe.jsx(FR,{onClick:o}),pe.jsx(T_,{type:"event",interaction:a,interactionName:e.eventName,ref:i}),s.map((c,h)=>pe.jsx(tE,{form:c,propName:e.eventName,interactionType:"event"},`${h}-${c.href}`))]})]})}const tne=["title","forms","description"];function rne(e){const t=Me.useContext(An),[r,n]=Me.useState(!1),i=lt.useRef(e),o=()=>{i.current.openModal()};if(Object.keys(e.prop).length===0&&e.prop.constructor!==Object)return pe.jsx("div",{className:"text-3xl text-white",children:"Property could not be rendered because mandatory fields are missing."});const a=e.prop,s=$_(e.prop.forms),l=S_({name:e.propName},e.prop,tne),u=Object.keys(l).map(c=>pe.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("properties",e.propName)};return pe.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[pe.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[pe.jsx("h3",{className:"flex-grow px-2",children:a.title??e.propName}),r&&pe.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:pe.jsx(Ju,{size:16,color:"white"})})]}),pe.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[a.description&&pe.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:a.description}),pe.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),pe.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:pe.jsx(xh,{className:"flex-grow",tooltip:lg(),children:pe.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),pe.jsx(FR,{onClick:o}),pe.jsx(T_,{type:"property",interaction:a,interactionName:e.propName,ref:i}),s.map((c,h)=>pe.jsx(tE,{propName:e.propName,form:c,interactionType:"property"},`${h}-${c.href}`))]})]})}const nne=e=>pe.jsxs("div",{className:"relative text-gray-600",children:[pe.jsx("input",{type:"search",autoComplete:"on",className:"caret-gray h-9 place-self-center rounded-lg bg-gray-600 px-5 pr-10 text-sm text-white focus:outline-none",onKeyUp:e.onKeyUp,placeholder:e.placeholder,"aria-label":e.ariaLabel}),pe.jsx("div",{disabled:!0,type:"submit",className:"absolute right-0 top-0 mr-4 mt-1 cursor-default",children:pe.jsx(VO,{color:"#2c2c2e"})})]}),Av="asc",ine="desc",qS=e=>{const t=Me.useContext(An),r=t.parsedTD,[n,i]=Me.useState(""),[o,a]=Me.useState(Av),s=e.interaction.toLowerCase(),l=v=>i(v.target.value),u=()=>{if(!r[s])return;const v={};return Object.keys(r[s]).filter(p=>p.toLowerCase().indexOf(n.toLowerCase())>-1).forEach(p=>{v[p]=r[s][p]}),v},f=v=>{if(!r[v])return;const p={},E=Object.keys(r[v]).map(y=>({key:y,title:r[v][y].title}));o===Av?(E.sort((y,S)=>{const $=y.title?y.title:y.key,T=S.title?S.title:S.key;return $.localeCompare(T)}).forEach(function(y){p[y.key]=r[v][y.key]}),a(ine)):(E.sort((y,S)=>{const $=y.title?y.title:y.key,T=S.title?S.title:S.key;return $.localeCompare(T)}).reverse().forEach(function(y){p[y.key]=r[v][y.key]}),a(Av)),r[v]=p,t.updateOfflineTD(JSON.stringify(r,null,2))},c=()=>o===Av?pe.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:pe.jsx("path",{d:"M11 5h10M11 9h7M11 13h4M3 17l3 3 3-3M6 18V4"})}):pe.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:pe.jsx("path",{d:"M11 5h4M11 9h7M11 13h10M3 17l3 3 3-3M6 18V4"})}),h=()=>{const v=u();if(r.properties&&s==="properties")return Object.keys(v).map((p,E)=>pe.jsx(rne,{prop:v[p],propName:p},E));if(r.actions&&s==="actions")return Object.keys(v).map((p,E)=>pe.jsx(Qre,{action:v[p],actionName:p},E));if(r.events&&s==="events")return Object.keys(v).map((p,E)=>pe.jsx(ene,{event:v[p],eventName:p},E))},m=lt.useRef(),g=()=>{m.current.openModal()};let _;switch(s){case"properties":_=pe.jsx(Yre,{ref:m});break;case"actions":_=pe.jsx(Kre,{ref:m});break;case"events":_=pe.jsx(Jre,{ref:m});break}return pe.jsxs(pe.Fragment,{children:[pe.jsxs("div",{className:"flex items-end justify-start pb-4 pt-8",children:[pe.jsx("div",{className:"flex flex-grow",children:pe.jsx(xh,{tooltip:j5[s],children:pe.jsx("h2",{className:"flex-grow pr-1 text-2xl text-white",children:e.interaction})})}),pe.jsx(nne,{onKeyUp:v=>l(v),placeholder:`Search ${e.interaction}`,ariaLabel:`Search through all ${e.interaction}`}),pe.jsx("div",{className:"w-2"}),pe.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-white",onClick:()=>f(s),children:c()}),pe.jsx("div",{className:"w-2"}),pe.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",onClick:g,children:"Add"}),_]}),h()&&pe.jsx("div",{className:"rounded-lg bg-gray-600 px-4 pb-4 pt-4",children:h()}),!h()&&pe.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4"})]})};function one(e){return e===null?!1:typeof e=="function"||typeof e=="object"}const xq=e=>{const t=Me.useContext(An),[r,n]=Me.useState(new Array(Object.entries(e).length)),i=Me.useCallback(o=>{let a=r,s=r[o];a[o]=s===null?!0:!s,n([...a])},[r,n]);return pe.jsx(pe.Fragment,{children:Object.entries(e).map(([o,a],s)=>{if(one(a)){let u=pe.jsx("button",{className:"flex align-top",onClick:()=>i(s),children:pe.jsxs("div",{className:"flex rounded-md bg-gray-600 px-2 py-1 align-middle font-bold text-white",children:[pe.jsx("h4",{children:o}),r[s]===!0?pe.jsx(rf,{className:"pl-1"}):pe.jsx(kO,{className:"pl-1"})]})}),f=pe.jsxs("div",{className:"flex",children:[pe.jsx("div",{className:"my-1 ml-2 flex w-1 rounded-lg bg-gray-400"}),pe.jsx("div",{className:"mt-1 pl-8",children:r[s]===!0&&(Object.entries(a)??[]).map(([c,h],m)=>{let g={};return g[c]=h,Me.createElement(xq,{...g,key:m})})})]});return pe.jsxs("div",{className:"mb-1",children:[u,r[s]===!0&&f]},s)}const l=M$(e,o,t.linkedTd[Object.keys(t.linkedTd)[0]]["@context"]);return pe.jsxs("div",{className:"mb-1 flex",children:[pe.jsx("h4",{className:"rounded-md bg-gray-600 px-2 py-1 font-bold text-white",children:o}),pe.jsx("div",{className:"px-2 py-1 text-gray-400",children:l})]},s)})})};var Oq={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aD=lt.createContext&&lt.createContext(Oq),ane=["attr","size","title"];function sne(e,t){if(e==null)return{};var r=lne(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jb.apply(this,arguments)}function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Db(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(n){une(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function une(e,t,r){return t=cne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cne(e){var t=fne(e,"string");return typeof t=="symbol"?t:t+""}function fne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rq(e){return e&&e.map((t,r)=>lt.createElement(t.tag,Db({key:r},t.attr),Rq(t.child)))}function Iq(e){return t=>lt.createElement(dne,jb({attr:Db({},e.attr)},t),Rq(e.child))}function dne(e){var t=r=>{var{attr:n,size:i,title:o}=e,a=sne(e,ane),s=i||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),lt.createElement("svg",jb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:l,style:Db(Db({color:e.color||r.color},r.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&lt.createElement("title",null,o),e.children)};return aD!==void 0?lt.createElement(aD.Consumer,null,r=>t(r)):t(Oq)}function lD(e){return Iq({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"},child:[]}]})(e)}function uD(e){return Iq({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 2l-7.5 7.5-3.5-3.5-2.5 2.5 6 6 10-10z"},child:[]}]})(e)}function hne(e){const t=Me.useContext(An),[r,n]=Me.useState(void 0),[i,o]=Me.useState(void 0),[a,s]=Me.useState(void 0),[l,u]=Me.useState(void 0);return Me.useEffect(()=>{const f=t.validationMessage;if(f){if(f.report&&(n(f.report.json),s(f.report.schema)),!f.validationErrors){o(void 0),u(void 0);return}f.validationErrors&&(o(f.validationErrors.json),u(f.validationErrors.schema),console.debug("JSON validation error",f.validationErrors.json),console.debug("JSON Schema validation error",f.validationErrors.schema))}},[t,i,l]),pe.jsxs("div",{className:"container mb-4 rounded-md bg-gray-600 p-4 text-white",children:[pe.jsxs("div",{className:"flex items-center",children:[pe.jsx("h2",{className:"mr-2",children:"JSON Validation"}),r==="passed"&&pe.jsx(uD,{}),r==="failed"&&pe.jsx(lD,{})]}),i&&pe.jsxs("div",{className:"bg-formRed border-formRed mb-4 mt-2 flex min-h-[2.5rem] w-full rounded-md border-2 bg-opacity-75 px-4",children:[pe.jsx("div",{className:"flex h-6 w-16 justify-center place-self-center rounded-md bg-white",children:pe.jsx("div",{className:"text-formRed place-self-center px-4 text-center text-xs",children:"Error"})}),pe.jsx("div",{className:"place-self-center overflow-hidden pl-3 text-base",children:i})]}),pe.jsxs("div",{className:"flex items-center",children:[pe.jsx("h2",{className:"mr-2",children:"JSON Schema Validation "}),a==="passed"&&pe.jsx(uD,{}),a==="failed"&&pe.jsx(lD,{})]}),l&&pe.jsxs("div",{className:"bg-formRed border-formRed mt-2 flex min-h-[2.5rem] w-full rounded-md border-2 bg-opacity-75 px-4",children:[pe.jsx("div",{className:"flex h-6 w-16 justify-center place-self-center rounded-md bg-white",children:pe.jsx("div",{className:"text-formRed place-self-center px-4 text-center text-xs",children:"Error"})}),pe.jsx("div",{className:"place-self-center overflow-hidden pl-3 text-base",children:l})]})]})}const pl={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},pne=Object.keys(pl).map(e=>pl[e]).join(""),VS="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",mne=/\s/g,cD=new RegExp(`^(${VS}\\*)?([${pne}])(/${VS})?([-+]{1,2}${VS})?$`,"g");function Nq(e){throw new Error(`Invalid calc() expression: ${e}`)}function gne(e,t){const r=cD.exec(e.replace(mne,""));r||Nq(e),cD.lastIndex=0;const[,n,i,o,a]=r,{x:s,y:l,width:u,height:f}=t;let c=0;switch(i){case pl.width:{c=u;break}case pl.height:{c=f;break}case pl.x:{c=s;break}case pl.y:{c=l;break}case pl.minimum:{c=Math.min(f,u);break}case pl.maximum:{c=Math.max(f,u);break}case pl.diagonal:{c=Math.sqrt(f*f+u*u);break}}return n&&(c*=parseFloat(n)),o&&(c/=parseFloat(o.slice(1))),a&&(c+=vne(a)),c}function vne(e){if(!e)return 0;const[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}function ba(e){return typeof e=="string"&&e.includes("calc")}const Cq="calc(",fD=Cq.length;function _a(e,t){let r=e,n=0;do{let i=r.indexOf(Cq,n);if(i===-1)return r;let o=i+fD,a=1;e:do{switch(r[o]){case"(":{a++;break}case")":{if(a--,a===0)break e;break}case void 0:Nq(r)}o++}while(!0);let s=r.slice(i+fD,o);ba(s)&&(s=_a(s,t));const l=String(gne(s,t));r=r.slice(0,i)+l+r.slice(o+1),n=i+l.length}while(!0)}const{round:yne,floor:wne,PI:kq}=Math,bne={linear:function(e,t,r){var n=e[1]-e[0],i=t[1]-t[0];return(r-e[0])/n*i+t[0]||0}},ls=function(e){return e%360+(e<0?360:0)},bf=function(e,t){return t*yne(e/t)},rE=function(e){return 180*e/kq%360},$o=function(e,t){return t=t||!1,e=t?e:e%360,e*kq/180},HP=function(e,t){if(t===void 0)t=e===void 0?1:e,e=0;else if(t<e){const r=e;e=t,t=r}return wne(Math.random()*(t-e+1)+e)},{cos:Pv,sin:HS,atan2:_ne}=Math,jq=function(e,t){var r=$o(e.y),n=$o(t.y),i=e.x,o=t.x,a=$o(o-i),s=HS(a)*Pv(n),l=Pv(r)*HS(n)-HS(r)*Pv(n)*Pv(a),u=rE(_ne(s,l)),f=["NE","E","SE","S","SW","W","NW","N"],c=u-22.5;return c<0&&(c+=360),c=parseInt(c/45),f[c]},zR=function(e,t){var r=e.x,n=e.y,i=t.x,o=t.y;return(r-=i)*r+(n-=o)*n},Dq=function(e,t){return Math.sqrt(zR(e,t))},nr={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:Mb,cos:GP,sin:WP,sqrt:dD,min:hD,max:pD,atan2:Ene,round:mD,pow:Sne,PI:gD}=Math,ze=function(e,t){if(!(this instanceof ze))return new ze(e,t);if(typeof e=="string"){var r=e.split(e.indexOf("@")===-1?" ":"@");e=parseFloat(r[0]),t=parseFloat(r[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=e===void 0?0:e,this.y=t===void 0?0:t};ze.fromPolar=function(e,t,r){r=new ze(r);var n=Mb(e*GP(t)),i=Mb(e*WP(t)),o=ls(rE(t));return o<90?i=-i:o<180?(n=-n,i=-i):o<270&&(n=-n),new ze(r.x+n,r.y+i)};ze.random=function(e,t,r,n){return new ze(HP(e,t),HP(r,n))};ze.prototype={type:nr.Point,chooseClosest:function(e){var t=e.length;if(t===1)return new ze(e[0]);for(var r=null,n=1/0,i=0;i<t;i++){var o=new ze(e[i]),a=this.squaredDistance(o);a<n&&(r=o,n=a)}return r},adhereToRect:function(e){return e.containsPoint(this)?this:(this.x=hD(pD(this.x,e.x),e.x+e.width),this.y=hD(pD(this.y,e.y),e.y+e.height),this)},angleBetween:function(e,t){var r=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return r<0&&(r+=360),r},bearing:function(e){return jq(this,e)},changeInAngle:function(e,t,r){return this.clone().offset(-e,-t).theta(r)-this.theta(r)},clone:function(){return new ze(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new ze(this.x-(e||0),this.y-(t||0))},distance:function(e){return Dq(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){var r=this.x,n=this.y;return new ze((1-t)*r+t*e.x,(1-t)*n+t*e.y)},magnitude:function(){return dD(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return Mb(e.x-this.x)+Mb(e.y-this.y)},move:function(e,t){var r=$o(new ze(e).theta(this)),n=this.offset(GP(r)*t,-WP(r)*t);return n},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new ze(e).move(this,this.distance(e))},rotate:function(e,t){if(t===0)return this;e=e||new ze(0,0),t=$o(ls(-t));var r=GP(t),n=WP(t),i=r*(this.x-e.x)-n*(this.y-e.y)+e.x,o=n*(this.x-e.x)+r*(this.y-e.y)+e.y;return this.x=i,this.y=o,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Sne(10,e);break}return this.x=mD(this.x*t)/t,this.y=mD(this.y*t)/t,this},scale:function(e,t,r){return r=r&&new ze(r)||new ze(0,0),this.x=r.x+e*(this.x-r.x),this.y=r.y+t*(this.y-r.y),this},snapToGrid:function(e,t){return this.x=bf(this.x,e),this.y=bf(this.y,t||e),this},squaredDistance:function(e){return zR(this,e)},theta:function(e){e=new ze(e);var t=-(e.y-this.y),r=e.x-this.x,n=Ene(t,r);return n<0&&(n=2*gD+n),180*n/gD},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new ze(e)||new ze(0,0);var t=this.x,r=this.y;return this.x=dD((t-e.x)*(t-e.x)+(r-e.y)*(r-e.y)),this.y=$o(e.theta(new ze(t,r))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){var t=new ze(0,0);return t.angleBetween(this,e)}};ze.prototype.translate=ze.prototype.offset;const Lb=ze,{max:GS,min:WS}=Math,It=function(e,t){if(!(this instanceof It))return new It(e,t);if(e instanceof It)return new It(e.start,e.end);this.start=new ze(e),this.end=new ze(t)};It.prototype={type:nr.Line,angle:function(){var e=new ze(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=WS(this.start.x,this.end.x),t=WS(this.start.y,this.end.y),r=GS(this.start.x,this.end.x),n=GS(this.start.y,this.end.y);return new xt(e,t,r-e,n-t)},bearing:function(){return jq(this.start,this.end)},clone:function(){return new It(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new It(this.start,e).vector()),r=WS(1,GS(0,t/this.squaredLength()));return r!==r?0:r},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,r=this.end;if(t.cross(e,r)!==0)return!1;var n=this.length();return!(new It(t,e).length()>n||new It(e,r).length()>n)},divideAt:function(e){var t=this.pointAt(e);return[new It(this.start,t),new It(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new It(this.start,t),new It(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var r=e.intersectionWithLine(this,t);return r&&e instanceof It&&(r=r[0]),r}return null},intersectionWithLine:function(e){var t=new ze(this.end.x-this.start.x,this.end.y-this.start.y),r=new ze(e.end.x-e.start.x,e.end.y-e.start.y),n=t.x*r.y-t.y*r.x,i=new ze(e.start.x-this.start.x,e.start.y-this.start.y),o=i.x*r.y-i.y*r.x,a=i.x*t.y-i.y*t.x;if(n===0||o*n<0||a*n<0)return null;if(n>0){if(o>n||a>n)return null}else if(o<n||a<n)return null;return[new ze(this.start.x+o*t.x/n,this.start.y+o*t.y/n)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return Dq(this.start,this.end)},midpoint:function(){return new ze((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){const t=this.clone();if(!this.isDifferentiable())return t;const{start:r,end:n}=t,i=r.clone().rotate(n,270),o=n.clone().rotate(r,90);return r.move(o,e),n.move(i,e),t},pointAt:function(e){var t=this.start,r=this.end;return e<=0?t.clone():e>=1?r.clone():t.lerp(r,e)},pointAtLength:function(e){var t=this.start,r=this.end,n=!0;e<0&&(n=!1,e=-e);var i=this.length();return e>=i?n?r.clone():t.clone():this.pointAt((n?e:i-e)/i)},pointOffset:function(e){e=new ze(e);var t=this.start,r=this.end,n=(r.x-t.x)*(e.y-t.y)-(r.y-t.y)*(e.x-t.x);return n/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.end.scale(e,t,r),this},setLength:function(e){var t=this.length();if(!t)return this;var r=e/t;return this.scale(r,r,this.start)},squaredLength:function(){return zR(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,n=this.pointAt(e),i=new It(t,r);return i.translate(n.x-t.x,n.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,n=this.pointAtLength(e),i=new It(t,r);return i.translate(n.x-t.x,n.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new ze(this.end.x-this.start.x,this.end.y-this.start.y)}};It.prototype.intersection=It.prototype.intersect;const uf=It,{sqrt:vD,round:xv,pow:$ne}=Math,Xi=function(e,t,r){if(!(this instanceof Xi))return new Xi(e,t,r);if(e instanceof Xi)return new Xi(new ze(e.x,e.y),e.a,e.b);e=new ze(e),this.x=e.x,this.y=e.y,this.a=t,this.b=r};Xi.fromRect=function(e){return e=new xt(e),new Xi(e.center(),e.width/2,e.height/2)};Xi.prototype={type:nr.Ellipse,bbox:function(){return new xt(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new ze(this.x,this.y)},clone:function(){return new Xi(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],r=e.start,n=e.end,i=this.a,o=this.b,a=e.vector(),s=r.difference(new ze(this)),l=new ze(a.x/(i*i),a.y/(o*o)),u=new ze(s.x/(i*i),s.y/(o*o)),f=a.dot(l),c=a.dot(u),h=s.dot(u)-1,m=c*c-f*h;if(m<0)return null;if(m>0){var g=vD(m),_=(-c-g)/f,v=(-c+g)/f;if((_<0||1<_)&&(v<0||1<v))return null;0<=_&&_<=1&&t.push(r.lerp(n,_)),0<=v&&v<=1&&t.push(r.lerp(n,v))}else{var p=-c/f;if(0<=p&&p<=1)t.push(r.lerp(n,p));else return null}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new ze(e),t&&e.rotate(new ze(this.x,this.y),t);var r=e.x-this.x,n=e.y-this.y,i;if(r===0)return i=this.bbox().pointNearestToPoint(e),t?i.rotate(new ze(this.x,this.y),-t):i;var o=n/r,a=o*o,s=this.a*this.a,l=this.b*this.b,u=vD(1/(1/s+a/l));u=r<0?-u:u;var f=o*u;return i=new ze(this.x+u,this.y+f),t?i.rotate(new ze(this.x,this.y),-t):i},normalizedDistance:function(e){var t=e.x,r=e.y,n=this.a,i=this.b,o=this.x,a=this.y;return(t-o)*(t-o)/(n*n)+(r-a)*(r-a)/(i*i)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=$ne(10,e);break}return this.x=xv(this.x*t)/t,this.y=xv(this.y*t)/t,this.a=xv(this.a*t)/t,this.b=xv(this.b*t)/t,this},tangentTheta:function(e){var t=30,r=e.x,n=e.y,i=this.a,o=this.b,a=this.bbox().center(),s=a.x,l=a.y,u=r>a.x+i/2,f=r<a.x-i/2,c,h;return u||f?(c=r>a.x?n-t:n+t,h=i*i/(r-s)-i*i*(n-l)*(c-l)/(o*o*(r-s))+s):(h=n>a.y?r+t:r-t,c=o*o/(n-l)-o*o*(r-s)*(h-s)/(i*i*(n-l))+l),new ze(h,c).theta(e)},toString:function(){return new ze(this.x,this.y).toString()+" "+this.a+" "+this.b}};const Tne=Xi,{abs:yD,cos:Ane,sin:Pne,min:lp,max:wD,round:Ov,pow:xne}=Math,xt=function(e,t,r,n){if(!(this instanceof xt))return new xt(e,t,r,n);Object(e)===e&&(t=e.y,r=e.width,n=e.height,e=e.x),this.x=e===void 0?0:e,this.y=t===void 0?0:t,this.width=r===void 0?0:r,this.height=n===void 0?0:n};xt.fromEllipse=function(e){return e=new Xi(e),new xt(e.x-e.a,e.y-e.b,2*e.a,2*e.b)};xt.fromPointUnion=function(...e){if(e.length===0)return null;const t=new ze;let r,n,i,o;r=n=1/0,i=o=-1/0;for(let a=0;a<e.length;a++){t.update(e[a]);const s=t.x,l=t.y;s<r&&(r=s),s>i&&(i=s),l<n&&(n=l),l>o&&(o=l)}return new xt(r,n,i-r,o-n)};xt.fromRectUnion=function(...e){if(e.length===0)return null;const t=new xt;let r,n,i,o;r=n=1/0,i=o=-1/0;for(let a=0;a<e.length;a++){t.update(e[a]);const s=t.x,l=t.y,u=s+t.width,f=l+t.height;s<r&&(r=s),u>i&&(i=u),l<n&&(n=l),f>o&&(o=f)}return new xt(r,n,i-r,o-n)};xt.prototype={type:nr.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;const{width:t,height:r}=this,n=$o(e),i=yD(Pne(n)),o=yD(Ane(n)),a=t*o+r*i,s=t*i+r*o;return this.x+=(t-a)/2,this.y+=(r-s)/2,this.width=a,this.height=s,this},bottomLeft:function(){return new ze(this.x,this.y+this.height)},bottomLine:function(){return new It(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new ze(this.x+this.width/2,this.y+this.height)},center:function(){return new ze(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new xt(this)},containsPoint:function(e){return e instanceof ze||(e=new ze(e)),e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new xt(this).normalize(),r=new xt(e).normalize(),n=t.width,i=t.height,o=r.width,a=r.height;if(!n||!i||!o||!a)return!1;var s=t.x,l=t.y,u=r.x,f=r.y;return o+=u,n+=s,a+=f,i+=l,s<=u&&o<=n&&l<=f&&a<=i},corner:function(){return new ze(this.x+this.width,this.y+this.height)},equals:function(e){var t=new xt(this).normalize(),r=new xt(e).normalize();return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),r=this.corner(),n=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||n.x>=r.x||n.y>=r.y)return null;var o=wD(t.x,n.x),a=wD(t.y,n.y);return new xt(o,a,lp(r.x,i.x)-o,lp(r.y,i.y)-a)},intersectionWithLine:function(e){var t=this,r=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],n=[],i=[],o,a,s=r.length;for(a=0;a<s;a++)o=e.intersect(r[a]),o!==null&&i.indexOf(o.toString())<0&&(n.push(o),i.push(o.toString()));return n.length>0?n:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new ze(e);var r=new ze(this.x+this.width/2,this.y+this.height/2),n;t&&e.rotate(r,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new It(r,e),a=i.length-1;a>=0;--a){var s=i[a].intersection(o);if(s!==null){n=s;break}}return n&&t&&n.rotate(r,-t),n},leftLine:function(){return new It(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new ze(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new xt(e),t||(t=e.center());var r,n,i,o,a,s,l,u,f=t.x,c=t.y;r=n=i=o=a=s=l=u=1/0;var h=e.topLeft();h.x<f&&(r=(this.x-f)/(h.x-f)),h.y<c&&(a=(this.y-c)/(h.y-c));var m=e.bottomRight();m.x>f&&(n=(this.x+this.width-f)/(m.x-f)),m.y>c&&(s=(this.y+this.height-c)/(m.y-c));var g=e.topRight();g.x>f&&(i=(this.x+this.width-f)/(g.x-f)),g.y<c&&(l=(this.y-c)/(g.y-c));var _=e.bottomLeft();return _.x<f&&(o=(this.x-f)/(_.x-f)),_.y>c&&(u=(this.y+this.height-c)/(_.y-c)),{sx:lp(r,n,i,o),sy:lp(a,s,l,u)}},maxRectUniformScaleToFit:function(e,t){var r=this.maxRectScaleToFit(e,t);return lp(r.sx,r.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,r=this.width,n=this.height;return this.width<0&&(e=this.x+this.width,r=-this.width),this.height<0&&(t=this.y+this.height,n=-this.height),this.x=e,this.y=t,this.width=r,this.height=n,this},offset:function(e,t){return ze.prototype.offset.call(this,e,t)},origin:function(){return new ze(this.x,this.y)},pointNearestToPoint:function(e){if(e=new ze(e),this.containsPoint(e)){var t=this.sideNearestToPoint(e);switch(t){case"right":return new ze(this.x+this.width,e.y);case"left":return new ze(this.x,e.y);case"bottom":return new ze(e.x,this.y+this.height);case"top":return new ze(e.x,this.y)}}return e.adhereToRect(this)},rightLine:function(){return new It(this.topRight(),this.bottomRight())},rightMiddle:function(){return new ze(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=xne(10,e);break}return this.x=Ov(this.x*t)/t,this.y=Ov(this.y*t)/t,this.width=Ov(this.width*t)/t,this.height=Ov(this.height*t)/t,this},scale:function(e,t,r){return r=this.origin().scale(e,t,r),this.x=r.x,this.y=r.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new ze(e);var t=e.x-this.x,r=this.x+this.width-e.x,n=e.y-this.y,i=this.y+this.height-e.y,o=t,a="left";return r<o&&(o=r,a="right"),n<o&&(o=n,a="top"),i<o&&(a="bottom"),a},snapToGrid:function(e,t){var r=this.origin().snapToGrid(e,t),n=this.corner().snapToGrid(e,t);return this.x=r.x,this.y=r.y,this.width=n.x-r.x,this.height=n.y-r.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new It(this.topLeft(),this.topRight())},topMiddle:function(){return new ze(this.x+this.width/2,this.y)},topRight:function(){return new ze(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return xt.fromRectUnion(this,e)},update:function(e,t,r,n){return Object(e)===e&&(t=e.y,r=e.width,n=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=r||0,this.height=n||0,this}};xt.prototype.bottomRight=xt.prototype.corner;xt.prototype.topLeft=xt.prototype.origin;xt.prototype.translate=xt.prototype.offset;const One=xt;function Mq(e){const t=e.trim();if(t==="")return[];const r=[],n=t.split(/\b\s*,\s*|,\s*|\s+/),i=n.length;for(let o=0;o<i;o+=2)r.push({x:+n[o],y:+n[o+1]});return r}function Lq(e){const t=e.length;if(t===0)return[];const r=[];for(let n=0;n<t;n++){const i=e[n].clone();r.push(i)}return r}function Fq(e){const{abs:t}=Math;var r,n,i=e.length;if(i===0)return[];var o;for(r=0;r<i;r++)(o===void 0||e[r].y<o.y||e[r].y===o.y&&e[r].x>o.x)&&(o=e[r]);var a=[];for(r=0;r<i;r++){var s=o.theta(e[r]);s===0&&(s=360);var l=[e[r],r,s];a.push(l)}if(a.sort(function(V,X){var G=V[2]-X[2];return G===0&&(G=X[1]-V[1]),G}),a.length>2){var u=a[a.length-1];a.unshift(u)}for(var f={},c=[],h,m,g,_,v,p;a.length!==0;)if(h=a.pop(),m=h[0],!f.hasOwnProperty(h[0]+"@@"+h[1]))for(var E=!1;!E;)if(c.length<2)c.push(h),E=!0;else{g=c.pop(),_=g[0],v=c.pop(),p=v[0];var y=p.cross(_,m);if(y<0)c.push(v),c.push(g),c.push(h),E=!0;else if(y===0){var S=1e-10,$=_.angleBetween(p,m);t($-180)<S||_.equals(m)||p.equals(_)?(f[g[0]+"@@"+g[1]]=_,c.push(v)):t(($+1)%360-1)<S&&(c.push(v),a.push(g))}else f[g[0]+"@@"+g[1]]=_,c.push(v)}c.length>2&&c.pop();var T,d=-1;for(n=c.length,r=0;r<n;r++){var A=c[r][1];(T===void 0||A<T)&&(T=A,d=r)}var P=[];if(d>0){var x=c.slice(d),D=c.slice(0,d);P=x.concat(D)}else P=c;var F=[];for(n=P.length,r=0;r<n;r++)F.push(P[r][0]);return F}const sn=function(e){if(!(this instanceof sn))return new sn(e);if(typeof e=="string")return new sn.parse(e);this.points=Array.isArray(e)?e.map(ze):[]};sn.parse=function(e){return new sn(Mq(e))};sn.fromRect=function(e){return new sn([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])};sn.prototype={type:nr.Polyline,bbox:function(){var e=1/0,t=-1/0,r=1/0,n=-1/0,i=this.points,o=i.length;if(o===0)return null;for(var a=0;a<o;a++){var s=i[a],l=s.x,u=s.y;l<e&&(e=l),l>t&&(t=l),u<r&&(r=u),u>n&&(n=u)}return new xt(e,r,t-e,n-r)},clone:function(){return new sn(Lq(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return 0;for(var n,i=1/0,o=0,a=r-1,s=0;s<a;s++){var l=new It(t[s],t[s+1]),u=l.length(),f=l.closestPointNormalizedLength(e),c=l.pointAt(f),h=c.squaredDistance(e);h<i&&(i=h,n=o+f*u),o+=u}return n},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(t===0)return 0;var r=this.length();return r===0?0:t/r},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,r=t.length;if(r===0)return!1;for(var n=e.x,i=e.y,o=r-1,a=0,s=0,l=new It,u=new It,f=new ze;a<r;a++){var c=t[o],h=t[a];if(e.equals(c)||(l.start=c,l.end=h,l.containsPoint(e)))return!0;if(i<=c.y&&i>h.y||i>c.y&&i<=h.y){var m=c.x-n>h.x-n?c.x-n:h.x-n;m>=0&&(f.x=n+m,f.y=i,u.start=e,u.end=f,l.intersect(u)&&s++)}o=a}return s%2===1},close:function(){const{start:e,end:t,points:r}=this;return e&&t&&!e.equals(t)&&r.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new sn(Fq(this.points))},equals:function(e){if(!e)return!1;var t=this.points,r=e.points,n=t.length;if(r.length!==n)return!1;for(var i=0;i<n;i++){var o=t[i],a=e.points[i];if(!o.equals(a))return!1}return!0},intersectionWithLine:function(e){for(var t=new It(e),r=[],n=this.lengthPoints(),i=new It,o=0,a=n.length-1;o<a;o++){i.start=n[o],i.end=n[o+1];var s=t.intersectionWithLine(i);s&&r.push(s[0])}return r.length>0?r:null},isDifferentiable:function(){var e=this.points,t=e.length;if(t===0)return!1;for(var r=new It,n=t-1,i=0;i<n;i++)if(r.start=e[i],r.end=e[i+1],r.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(t===0)return 0;for(var r=0,n=t-1,i=0;i<n;i++)r+=e[i].distance(e[i+1]);return r},pointAt:function(e){var t=this.lengthPoints(),r=t.length;if(r===0)return null;if(r===1||e<=0)return t[0].clone();if(e>=1)return t[r-1].clone();var n=this.length(),i=n*e;return this.pointAtLength(i)},pointAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0)return null;if(r===1)return t[0].clone();var n=!0;e<0&&(n=!1,e=-e);for(var i=0,o=r-1,a=0;a<o;a++){var s=n?a:o-1-a,l=t[s],u=t[s+1],f=new It(l,u),c=l.distance(u);if(e<=i+c)return f.pointAtLength((n?1:-1)*(e-i));i+=c}var h=n?t[r-1]:t[0];return h.clone()},round:function(e){for(var t=this.points,r=t.length,n=0;n<r;n++)t[n].round(e);return this},scale:function(e,t,r){for(var n=this.points,i=n.length,o=0;o<i;o++)n[o].scale(e,t,r);return this},simplify:function(e={}){const t=this.points;if(t.length<3)return this;const r=e.threshold||1e-10;let n=0;for(;t[n+2];){const i=n,o=n+1,a=n+2,s=t[i],l=t[o],u=t[a];new It(s,u).closestPoint(l).distance(l)<=r?t.splice(o,1):n+=1}return this},tangentAt:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return null;e<0&&(e=0),e>1&&(e=1);var n=this.length(),i=n*e;return this.tangentAtLength(i)},tangentAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return null;var n=!0;e<0&&(n=!1,e=-e);for(var i,o=0,a=r-1,s=0;s<a;s++){var l=n?s:a-1-s,u=t[l],f=t[l+1],c=new It(u,f),h=u.distance(f);if(c.isDifferentiable()){if(e<=o+h)return c.tangentAtLength((n?1:-1)*(e-o));i=c}o+=h}if(i){var m=n?1:0;return i.tangentAt(m)}return null},toString:function(){return this.points+""},translate:function(e,t){for(var r=this.points,n=r.length,i=0;i<n;i++)r[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(t===0)return"";for(var r="",n=0;n<t;n++){var i=e[n];r+=i.x+","+i.y+" "}return r.trim()}};Object.defineProperty(sn.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[0]}});Object.defineProperty(sn.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[t-1]}});const{abs:Rv,sqrt:Rne,min:bD,max:_D,pow:KS}=Math,Mr=function(e,t,r,n){if(!(this instanceof Mr))return new Mr(e,t,r,n);if(e instanceof Mr)return new Mr(e.start,e.controlPoint1,e.controlPoint2,e.end);this.start=new ze(e),this.controlPoint1=new ze(t),this.controlPoint2=new ze(r),this.end=new ze(n)};Mr.throughPoints=function(){function e(r){var n=[],i=[],o=r.length-1,a;if(o==1)return n[0]=new ze((2*r[0].x+r[1].x)/3,(2*r[0].y+r[1].y)/3),i[0]=new ze(2*n[0].x-r[0].x,2*n[0].y-r[0].y),[n,i];var s=[];for(a=1;a<o-1;a++)s[a]=4*r[a].x+2*r[a+1].x;s[0]=r[0].x+2*r[1].x,s[o-1]=(8*r[o-1].x+r[o].x)/2;var l=t(s);for(a=1;a<o-1;++a)s[a]=4*r[a].y+2*r[a+1].y;s[0]=r[0].y+2*r[1].y,s[o-1]=(8*r[o-1].y+r[o].y)/2;var u=t(s);for(a=0;a<o;a++)n.push(new ze(l[a],u[a])),a<o-1?i.push(new ze(2*r[a+1].x-l[a+1],2*r[a+1].y-u[a+1])):i.push(new ze((r[o].x+l[o-1])/2,(r[o].y+u[o-1])/2));return[n,i]}function t(r){var n=r.length,i=[],o=[],a=2;i[0]=r[0]/a;for(var s=1;s<n;s++)o[s]=1/a,a=(s<n-1?4:3.5)-o[s],i[s]=(r[s]-i[s-1])/a;for(s=1;s<n;s++)i[n-s-1]-=o[n-s]*i[n-s];return i}return function(r){if(!r||Array.isArray(r)&&r.length<2)throw new Error("At least 2 points are required");for(var n=e(r),i=[],o=n[0].length,a=0;a<o;a++){var s=new ze(n[0][a].x,n[0][a].y),l=new ze(n[1][a].x,n[1][a].y);i.push(new Mr(r[a],s,l,r[a+1]))}return i}}();Mr.prototype={type:nr.Curve,bbox:function(){for(var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end,i=e.x,o=e.y,a=t.x,s=t.y,l=r.x,u=r.y,f=n.x,c=n.y,h=new Array,m=new Array,g=[new Array,new Array],_,v,p,E,y,S,$,T,d=0;d<2;++d){if(d===0?(v=6*i-12*a+6*l,_=-3*i+9*a-9*l+3*f,p=3*a-3*i):(v=6*o-12*s+6*u,_=-3*o+9*s-9*u+3*c,p=3*s-3*o),Rv(_)<1e-12){if(Rv(v)<1e-12)continue;E=-p/v,0<E&&E<1&&m.push(E);continue}$=v*v-4*p*_,T=Rne($),!($<0)&&(y=(-v+T)/(2*_),0<y&&y<1&&m.push(y),S=(-v-T)/(2*_),0<S&&S<1&&m.push(S))}for(var A=m.length,P=A,x,D,F;A--;)E=m[A],x=1-E,D=x*x*x*i+3*x*x*E*a+3*x*E*E*l+E*E*E*f,g[0][A]=D,F=x*x*x*o+3*x*x*E*s+3*x*E*E*u+E*E*E*c,g[1][A]=F,h[A]={X:D,Y:F};m[P]=0,m[P+1]=1,h[P]={X:i,Y:o},h[P+1]={X:f,Y:c},g[0][P]=i,g[1][P]=o,g[0][P+1]=f,g[1][P+1]=c,m.length=P+2,g[0].length=P+2,g[1].length=P+2,h.length=P+2;var V=bD.apply(null,g[0]),X=bD.apply(null,g[1]),G=_D.apply(null,g[0]),Q=_D.apply(null,g[1]);return new xt(V,X,G-V,Q-X)},clone:function(){return new Mr(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n};return this.lengthAtT(this.closestPointT(e,i),i)},closestPointNormalizedLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n},o=this.closestPointLength(e,i);if(!o)return 0;var a=this.length(i);return a===0?0:o/a},closestPointT:function(e,t){t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i,o,a,s,l,u,f,c=n.length,h=c?1/c:0,m=0;m<c;m++){var g=n[m],_=g.start.distance(e),v=g.end.distance(e),p=_+v;(!f||p<f)&&(i=g,o=m*h,a=(m+1)*h,s=_,l=v,u=g.start.distance(g.end),f=p)}for(var E=KS(10,-r);;){var y=s?Rv(s-l)/s:0,S=l?Rv(s-l)/l:0,$=y<E||S<E,T=s?s<u*E:!0,d=l?l<u*E:!0,A=T||d;if($||A)return s<=l?o:a;var P=i.divide(.5);h/=2;var x=P[0].start.distance(e),D=P[0].end.distance(e),F=x+D,V=P[1].start.distance(e),X=P[1].end.distance(e),G=V+X;F<=G?(i=P[0],a-=h,s=x,l=D):(i=P[1],o+=h,s=V,l=X)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){var r=this.toPolyline(t);return r.containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var r=this.tAt(e,t);return this.divideAtT(r)},divideAtLength:function(e,t){var r=this.tAtLength(e,t);return this.divideAtT(r)},divideAtT:function(e){var t=this.start,r=this.controlPoint1,n=this.controlPoint2,i=this.end;if(e<=0)return[new Mr(t,t,t,t),new Mr(t,r,n,i)];if(e>=1)return[new Mr(t,r,n,i),new Mr(i,i,i,i)];var o=this.getSkeletonPoints(e),a=o.startControlPoint1,s=o.startControlPoint2,l=o.divider,u=o.dividerControlPoint1,f=o.dividerControlPoint2;return[new Mr(t,a,s,l),new Mr(l,u,f,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,r=this.controlPoint1,n=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:n.clone()};if(e>=1)return{startControlPoint1:r.clone(),startControlPoint2:n.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var o=new It(t,r).pointAt(e),a=new It(r,n).pointAt(e),s=new It(n,i).pointAt(e),l=new It(o,a).pointAt(e),u=new It(a,s).pointAt(e),f=new It(l,u).pointAt(e),c={startControlPoint1:o,startControlPoint2:l,divider:f,dividerControlPoint1:u,dividerControlPoint2:s};return c},getSubdivisions:function(e){e=e||{};var t=e.precision===void 0?this.PRECISION:e.precision,r=this.start,n=this.controlPoint1,i=this.controlPoint2,o=this.end,a=[new Mr(r,n,i,o)];if(t===0)return a;var s=!this.isDifferentiable();if(s)return a;var l=this.endpointDistance(),u=KS(10,-t),f=2,c=n.cross(r,o)===0&&i.cross(r,o)===0;c&&(f=2*t);for(var h=0;;){h+=1;for(var m=[],g=a.length,_=0;_<g;_++){var v=a[_],p=v.divide(.5);m.push(p[0],p[1])}for(var E=0,y=m.length,S=0;S<y;S++){var $=m[S];E+=$.endpointDistance()}if(h>=f){var T=E!==0?(E-l)/E:0;if(T<u)return m}a=m,l=E}},isDifferentiable:function(){var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(n))},length:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,n=0,i=r.length,o=0;o<i;o++){var a=r[o];n+=a.endpointDistance()}return n},lengthAtT:function(e,t){if(e<=0)return 0;t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=this.divide(e)[0],i=n.length({precision:r});return i},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var r=this.tAt(e,t);return this.pointAtT(r)},pointAtLength:function(e,t){var r=this.tAtLength(e,t);return this.pointAtT(r)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var r=this.tAt(e,t);return this.tangentAtT(r)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var r=this.tAtLength(e,t);return this.tangentAtT(r)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),r=t.startControlPoint2,n=t.dividerControlPoint1,i=t.divider,o=new It(r,n);return o.translate(i.x-r.x,i.y-r.y),o},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n},o=this.length(i),a=o*e;return this.tAtLength(a,i)},tAtLength:function(e,t){var r=!0;e<0&&(r=!1,e=-e),t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,o={precision:n,subdivisions:i},a,s,l,u,f,c=0,h=i.length,m=1/h,g=0;g<h;g++){var _=r?g:h-1-g,v=i[g],p=v.endpointDistance();if(e<=c+p){a=v,s=_*m,l=(_+1)*m,u=r?e-c:p+c-e,f=r?p+c-e:e-c;break}c+=p}if(!a)return r?1:0;for(var E=this.length(o),y=KS(10,-n);;){var S;if(S=E!==0?u/E:0,S<y)return s;if(S=E!==0?f/E:0,S<y)return l;var $,T,d=a.divide(.5);m/=2;var A=d[0].endpointDistance(),P=d[1].endpointDistance();u<=A?(a=d[0],l-=m,$=u,T=A-$):(a=d[1],s+=m,$=u-A,T=P-$),u=$,f=T}},toPoints:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,n=[r[0].start.clone()],i=r.length,o=0;o<i;o++){var a=r[o];n.push(a.end.clone())}return n},toPolyline:function(e){return new sn(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Mr.prototype.divide=Mr.prototype.divideAtT;function yg(e){var t,r,n=[];for(r=arguments.length,t=1;t<r;t++)n.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var i=Object.create(e);for(r=n.length,t=0;t<r;t++){var o=n[t],a,s;for(s in o)o.hasOwnProperty(s)&&(delete i[s],a=Object.getOwnPropertyDescriptor(o,s),Object.defineProperty(i,s,a))}return i}const Bt=function(e){if(!(this instanceof Bt))return new Bt(e);if(typeof e=="string")return new Bt.parse(e);this.segments=[];var t,r;if(e)if(Array.isArray(e)&&e.length!==0)if(e=e.reduce(function(s,l){return s.concat(l)},[]),r=e.length,e[0].isSegment)for(t=0;t<r;t++){var n=e[t];this.appendSegment(n)}else{var i=null;for(t=0;t<r;t++){var o=e[t];if(!(o instanceof It||o instanceof Mr))throw new Error("Cannot construct a path segment from the provided object.");t===0&&this.appendSegment(Bt.createSegment("M",o.start)),i&&!i.end.equals(o.start)&&this.appendSegment(Bt.createSegment("M",o.start)),o instanceof It?this.appendSegment(Bt.createSegment("L",o.end)):o instanceof Mr&&this.appendSegment(Bt.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),i=o}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof It)this.appendSegment(Bt.createSegment("M",e.start)),this.appendSegment(Bt.createSegment("L",e.end));else if(e instanceof Mr)this.appendSegment(Bt.createSegment("M",e.start)),this.appendSegment(Bt.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else if(e instanceof sn){if(!(e.points&&e.points.length!==0))return;for(r=e.points.length,t=0;t<r;t++){var a=e.points[t];t===0?this.appendSegment(Bt.createSegment("M",a)):this.appendSegment(Bt.createSegment("L",a))}}else throw new Error("Cannot construct a path from the provided object.")};Bt.parse=function(e){if(!e)return new Bt;for(var t=new Bt,r=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,n=e.match(r),i=n.length,o=0;o<i;o++){var a=n[o],s=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,l=a.match(s),u=Bt.createSegment.apply(this,l);t.appendSegment(u)}return t};Bt.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=Bt.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var r=[],n=arguments.length,i=1;i<n;i++)r.push(arguments[i]);return Gs(t,r)};Bt.prototype={type:nr.Path,appendSegment:function(e){var t=this.segments,r=t.length,n,i=r!==0?t[r-1]:null,o=null;if(Array.isArray(e)){if(e=e.reduce(function(u,f){return u.concat(f)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var a=e.length,s=0;s<a;s++){var l=e[s];n=this.prepareSegment(l,i,o),t.push(n),i=n}}else{if(!e||!e.isSegment)throw new Error("Segment required.");n=this.prepareSegment(e,i,o),t.push(n)}},bbox:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r,n=0;n<t;n++){var i=e[n];if(i.isVisible){var o=i.bbox();r=r?r.union(o):o}}if(r)return r;var a=e[t-1];return new xt(a.end.x,a.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,r=new Bt,n=0;n<t;n++){var i=e[n].clone();r.appendSegment(i)}return r},closestPoint:function(e,t){var r=this.closestPointT(e,t);return r?this.pointAtT(r):null},closestPointLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,i={precision:r,segmentSubdivisions:n},o=this.closestPointT(e,i);return o?this.lengthAtT(o,i):0},closestPointNormalizedLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,i={precision:r,segmentSubdivisions:n},o=this.closestPointLength(e,i);if(o===0)return 0;var a=this.length(i);return a===0?0:o/a},closestPointT:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a,s=1/0,l=0;l<n;l++){var u=r[l],f=o[l];if(u.isVisible){var c=u.closestPointT(e,{precision:i,subdivisions:f}),h=u.pointAtT(c),m=new It(h,e).squaredLength();m<s&&(a={segmentIndex:l,value:c},s=m)}}return a||{segmentIndex:n-1,value:1}},closestPointTangent:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a,s=1/0,l=0;l<n;l++){var u=r[l],f=o[l];if(u.isDifferentiable()){var c=u.closestPointT(e,{precision:i,subdivisions:f}),h=u.pointAtT(c),m=new It(h,e).squaredLength();m<s&&(a=u.tangentAtT(c),s=m)}}return a||null},containsPoint:function(e,t){var r=this.toPolylines(t);if(!r)return!1;for(var n=r.length,i=0,o=0;o<n;o++){var a=r[o];a.containsPoint(e)&&i++}return i%2===1},divideAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a={precision:i,segmentSubdivisions:o},s=this.length(a),l=s*e;return this.divideAtLength(l,a)},divideAtLength:function(e,t){var r=this.segments.length;if(r===0)return null;var n=!0;e<0&&(n=!1,e=-e),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a,s,l=0,u,f,c,h,m;for(a=0;a<r;a++){var g=n?a:r-1-a;s=this.getSegment(g);var _=o[g],v=s.length({precision:i,subdivisions:_});if(s.isDifferentiable()&&(c=s,h=g,e<=l+v)){f=g,u=s.divideAtLength((n?1:-1)*(e-l),{precision:i,subdivisions:_});break}l+=v}if(!c)return null;u||(f=h,m=n?1:0,u=c.divideAtT(m));var p=this.clone();p.replaceSegment(f,u);var E=f,y=f+1,S=f+2;u[0].isDifferentiable()||(p.removeSegment(E),y-=1,S-=1);var $=p.getSegment(y).start;p.insertSegment(y,Bt.createSegment("M",$)),S+=1,u[1].isDifferentiable()||(p.removeSegment(S-1),S-=1);var T=S-E-1;for(a=S;a<p.segments.length;a++){var d=this.getSegment(a-T);if(s=p.getSegment(a),s.type==="Z"&&!d.subpathStartSegment.end.equals(s.subpathStartSegment.end)){var A=Bt.createSegment("L",d.end);p.replaceSegment(a,A)}}var P=new Bt(p.segments.slice(0,y)),x=new Bt(p.segments.slice(y));return[P,x]},equals:function(e){if(!e)return!1;var t=this.segments,r=e.segments,n=t.length;if(r.length!==n)return!1;for(var i=0;i<n;i++){var o=t[i],a=r[i];if(o.type!==a.type||!o.equals(a))return!1}return!0},getSegment:function(e){var t=this.segments,r=t.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){var t=this.segments,r=t.length;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=[],o=0;o<r;o++){var a=t[o],s=a.getSubdivisions({precision:n});i.push(s)}return i},getSubpaths:function(){const t=this.clone().validate().segments,r=t.length,n=[];for(let i=0;i<r;i++){const o=t[i];o.isSubpathStart?n.push(new Bt(o)):n[n.length-1].appendSegment(o)}return n},insertSegment:function(e,t){var r=this.segments,n=r.length;if(e<0&&(e=n+e+1),e>n||e<0)throw new Error("Index out of range.");var i,o=null,a=null;if(n!==0&&(e>=1?(o=r[e-1],a=o.nextSegment):a=r[0]),Array.isArray(t)){if(t=t.reduce(function(f,c){return f.concat(c)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var s=t.length,l=0;l<s;l++){var u=t[l];i=this.prepareSegment(u,o,a),r.splice(e+l,0,i),o=i}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,o,a),r.splice(e,0,i)}},intersectionWithLine:function(e,t){var r=null,n=this.toPolylines(t);if(!n)return null;for(var i=0,o=n.length;i<o;i++){var a=n[i],s=e.intersect(a);s&&(r||(r=[]),Array.isArray(s)?Array.prototype.push.apply(r,s):r.push(s))}return r},isDifferentiable:function(){for(var e=this.segments,t=e.length,r=0;r<t;r++){var n=e[r];if(n.isDifferentiable())return!0}return!1},isValid:function(){var e=this.segments,t=e.length===0||e[0].type==="M";return t},length:function(e){var t=this.segments,r=t.length;if(r===0)return 0;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,o=0,a=0;a<r;a++){var s=t[a],l=i[a];o+=s.length({subdivisions:l})}return o},lengthAtT:function(e,t){var r=this.segments,n=r.length;if(n===0)return 0;var i=e.segmentIndex;if(i<0)return 0;var o=e.value;i>=n?(i=n-1,o=1):o<0?o=0:o>1&&(o=1),t=t||{};for(var a=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:a}):t.segmentSubdivisions,l,u=0,f=0;f<i;f++){var c=r[f];l=s[f],u+=c.length({precisison:a,subdivisions:l})}return c=r[i],l=s[i],u+=c.lengthAtT(o,{precisison:a,subdivisions:l}),u},pointAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a={precision:i,segmentSubdivisions:o},s=this.length(a),l=s*e;return this.pointAtLength(l,a)},pointAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;if(e===0)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,s,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],h=a[f],m=c.length({precision:o,subdivisions:h});if(c.isVisible){if(e<=l+m)return c.pointAtLength((i?1:-1)*(e-l),{precision:o,subdivisions:h});s=c}l+=m}if(s)return i?s.end:s.start;var g=r[n-1];return g.end.clone()},pointAtT:function(e){var t=this.segments,r=t.length;if(r===0)return null;var n=e.segmentIndex;if(n<0)return t[0].pointAtT(0);if(n>=r)return t[r-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[n].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,r){e.previousSegment=t,e.nextSegment=r,t&&(t.nextSegment=e),r&&(r.previousSegment=e);var n=e;return e.isSubpathStart&&(e.subpathStartSegment=e,n=r),n&&this.updateSubpathStartSegment(n),e},removeSegment:function(e){var t=this.segments,r=t.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var n=t.splice(e,1)[0],i=n.previousSegment,o=n.nextSegment;i&&(i.nextSegment=o),o&&(o.previousSegment=i),n.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(e,t){var r=this.segments,n=r.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var i,o=r[e],a=o.previousSegment,s=o.nextSegment,l=o.isSubpathStart;if(Array.isArray(t)){if(t=t.reduce(function(h,m){return h.concat(m)},[]),!t[0].isSegment)throw new Error("Segments required.");r.splice(e,1);for(var u=t.length,f=0;f<u;f++){var c=t[f];i=this.prepareSegment(c,a,s),r.splice(e+f,0,i),a=i,l&&i.isSubpathStart&&(l=!1)}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,a,s),r.splice(e,1,i),l&&i.isSubpathStart&&(l=!1)}l&&s&&this.updateSubpathStartSegment(s)},round:function(e){for(var t=this.segments,r=t.length,n=0;n<r;n++){var i=t[n];i.round(e)}return this},scale:function(e,t,r){for(var n=this.segments,i=n.length,o=0;o<i;o++){var a=n[o];a.scale(e,t,r)}return this},segmentAt:function(e,t){var r=this.segmentIndexAt(e,t);return r?this.getSegment(r):null},segmentAtLength:function(e,t){var r=this.segmentIndexAtLength(e,t);return r?this.getSegment(r):null},segmentIndexAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a={precision:i,segmentSubdivisions:o},s=this.length(a),l=s*e;return this.segmentIndexAtLength(l,a)},segmentIndexAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,s=null,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],h=a[f],m=c.length({precision:o,subdivisions:h});if(c.isVisible){if(e<=l+m)return f;s=f}l+=m}return s},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a={precision:i,segmentSubdivisions:o},s=this.length(a),l=s*e;return this.tangentAtLength(l,a)},tangentAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,s,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],h=a[f],m=c.length({precision:o,subdivisions:h});if(c.isDifferentiable()){if(e<=l+m)return c.tangentAtLength((i?1:-1)*(e-l),{precision:o,subdivisions:h});s=c}l+=m}if(s){var g=i?1:0;return s.tangentAtT(g)}return null},tangentAtT:function(e){var t=this.segments,r=t.length;if(r===0)return null;var n=e.segmentIndex;if(n<0)return t[0].tangentAtT(0);if(n>=r)return t[r-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[n].tangentAtT(i)},toPoints:function(e){var t=this.segments,r=t.length;if(r===0)return null;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,o=[],a=[],s=0;s<r;s++){var l=t[s];if(l.isVisible){var u=i[s];if(u.length>0){var f=u.map(function(c){return c.start});Array.prototype.push.apply(a,f)}else a.push(l.start)}else a.length>0&&(a.push(t[s-1].end),o.push(a),a=[])}return a.length>0&&(a.push(this.end),o.push(a)),o},toPolylines:function(e){var t=[],r=this.toPoints(e);if(!r)return null;for(var n=0,i=r.length;n<i;n++)t.push(new sn(r[n]));return t},toString:function(){for(var e=this.segments,t=e.length,r="",n=0;n<t;n++){var i=e[n];r+=i.serialize()+" "}return r.trim()},translate:function(e,t){for(var r=this.segments,n=r.length,i=0;i<n;i++){var o=r[i];o.translate(e,t)}return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)t?e.subpathStartSegment=t.subpathStartSegment:e.subpathStartSegment=null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,Bt.createSegment("M",0,0)),this}};Object.defineProperty(Bt.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r=0;r<t;r++){var n=e[r];if(n.isVisible)return n.start}return e[t-1].end}});Object.defineProperty(Bt.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r=t-1;r>=0;r--){var n=e[r];if(n.isVisible)return n.end}return e[t-1].end}});function Gs(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}var Nf={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Nf,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Nf,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(Nf,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var Si=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Si))return Gs(Si,e);if(t===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var n;if(e[0]instanceof It){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new ze(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=2)i=e.slice(r,r+2),n.push(Gs(Si,i));return n}else{if(t===1)return this.end=new ze(e[0]),this;var o;for(n=[],r=0;r<t;r+=1)o=e[r],n.push(new Si(o));return n}},Bq={clone:function(){return new Si(this.end)},divideAt:function(e){var t=new It(this.start,this.end),r=t.divideAt(e);return[new Si(r[0]),new Si(r[1])]},divideAtLength:function(e){var t=new It(this.start,this.end),r=t.divideAtLength(e);return[new Si(r[0]),new Si(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(Bq,"type",{configurable:!0,enumerable:!0,value:"L"});Si.prototype=yg(Nf,It.prototype,Bq);var zo=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof zo))return Gs(zo,e);if(t===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var n;if(e[0]instanceof Mr){if(t===1)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===6)return this.controlPoint1=new ze(+e[0],+e[1]),this.controlPoint2=new ze(+e[2],+e[3]),this.end=new ze(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=6)i=e.slice(r,r+6),n.push(Gs(zo,i));return n}else{if(t===3)return this.controlPoint1=new ze(e[0]),this.controlPoint2=new ze(e[1]),this.end=new ze(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");var o;for(n=[],r=0;r<t;r+=3)o=e.slice(r,r+3),n.push(Gs(zo,o));return n}},Uq={clone:function(){return new zo(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var r=new Mr(this.start,this.controlPoint1,this.controlPoint2,this.end),n=r.divideAt(e,t);return[new zo(n[0]),new zo(n[1])]},divideAtLength:function(e,t){var r=new Mr(this.start,this.controlPoint1,this.controlPoint2,this.end),n=r.divideAtLength(e,t);return[new zo(n[0]),new zo(n[1])]},divideAtT:function(e){var t=new Mr(this.start,this.controlPoint1,this.controlPoint2,this.end),r=t.divideAtT(e);return[new zo(r[0]),new zo(r[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(n))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,r=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+r.x+" "+r.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(Uq,"type",{configurable:!0,enumerable:!0,value:"C"});zo.prototype=yg(Nf,Mr.prototype,Uq);var Xc=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Xc))return Gs(Xc,e);if(t===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var n;if(e[0]instanceof It){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(e[0]instanceof Mr){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new ze(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=2)i=e.slice(r,r+2),r===0?n.push(Gs(Xc,i)):n.push(Gs(Si,i));return n}else{if(t===1)return this.end=new ze(e[0]),this;var o;for(n=[],r=0;r<t;r+=1)o=e[r],r===0?n.push(new Xc(o)):n.push(new Si(o));return n}},qR={bbox:function(){return null},clone:function(){return new Xc(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(qR,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(qR,"type",{configurable:!0,enumerable:!0,value:"M"});Xc.prototype=yg(Nf,qR);var yh=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof yh))return Gs(yh,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},VR={clone:function(){return new yh},divideAt:function(e){var t=new It(this.start,this.end),r=t.divideAt(e);return[r[1].isDifferentiable()?new Si(r[0]):this.clone(),new Si(r[1])]},divideAtLength:function(e){var t=new It(this.start,this.end),r=t.divideAtLength(e);return[r[1].isDifferentiable()?new Si(r[0]):this.clone(),new Si(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(VR,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(VR,"type",{configurable:!0,enumerable:!0,value:"Z"});yh.prototype=yg(Nf,It.prototype,VR);var Ine=Bt.segmentTypes={L:Si,C:zo,M:Xc,Z:yh,z:yh};Bt.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(Ine).join("")+",.]*$");Bt.isDataSupported=function(e){return typeof e!="string"?!1:this.regexSupportedData.test(e)};const Nne={curveThroughPoints:function(e){return console.warn("deprecated"),new Bt(Mr.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var t=[],r=[],n=e.length-1,i;if(n==1)return t[0]=new ze((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),r[0]=new ze(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,r];var o=[];for(i=1;i<n-1;i++)o[i]=4*e[i].x+2*e[i+1].x;o[0]=e[0].x+2*e[1].x,o[n-1]=(8*e[n-1].x+e[n].x)/2;var a=this.getFirstControlPoints(o);for(i=1;i<n-1;++i)o[i]=4*e[i].y+2*e[i+1].y;o[0]=e[0].y+2*e[1].y,o[n-1]=(8*e[n-1].y+e[n].y)/2;var s=this.getFirstControlPoints(o);for(i=0;i<n;i++)t.push(new ze(a[i],s[i])),i<n-1?r.push(new ze(2*e[i+1].x-a[i+1],2*e[i+1].y-s[i+1])):r.push(new ze((e[n].x+a[n-1])/2,(e[n].y+s[n-1])/2));return[t,r]},getCurveDivider:function(e,t,r,n){console.warn("deprecated");var i=new Mr(e,t,r,n);return function(a){var s=i.divide(a);return[{p0:s[0].start,p1:s[0].controlPoint1,p2:s[0].controlPoint2,p3:s[0].end},{p0:s[1].start,p1:s[1].controlPoint1,p2:s[1].controlPoint2,p3:s[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,r=[],n=[],i=2;r[0]=e[0]/i;for(var o=1;o<t;o++)n[o]=1/i,i=(o<t-1?4:3.5)-n[o],r[o]=(e[o]-r[o-1])/i;for(o=1;o<t;o++)r[t-o-1]-=n[t-o]*r[t-o];return r},getInversionSolver:function(e,t,r,n){console.warn("deprecated");var i=new Mr(e,t,r,n);return function(a){return i.closestPointT(a)}}},To=function(e){if(!(this instanceof To))return new To(e);if(typeof e=="string")return new To.parse(e);this.points=Array.isArray(e)?e.map(ze):[]};To.parse=function(e){return new To(Mq(e))};To.fromRect=function(e){return new To([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])};To.prototype=yg(sn.prototype,{type:nr.Polygon,clone:function(){return new To(Lq(this.points))},convexHull:function(){return new To(Fq(this.points))},lengthPoints:function(){const{start:e,end:t,points:r}=this;return r.length<=1||e.equals(t)?r:[...r,e.clone()]}});function zq(e,t,r,n){switch(e.type){case nr.Line:{switch(t.type){case nr.Line:return Qc(e,t)}break}case nr.Ellipse:{switch(t.type){case nr.Line:return HR(e,t);case nr.Ellipse:return qq(e,t)}break}case nr.Rect:{switch(t.type){case nr.Line:return Vq(e,t);case nr.Ellipse:return Hq(e,t);case nr.Rect:return GR(e,t)}break}case nr.Polyline:{switch(t.type){case nr.Line:return nE(e,t);case nr.Ellipse:return WR(e,t);case nr.Rect:return Gq(e,t);case nr.Polyline:return Wq(e,t)}break}case nr.Polygon:{switch(t.type){case nr.Line:return KR(e,t);case nr.Ellipse:return iE(e,t);case nr.Rect:return Kq(e,t);case nr.Polyline:return Jq(e,t);case nr.Polygon:return Yq(e,t)}break}case nr.Path:{switch(t.type){case nr.Line:return Xq(e,t,r);case nr.Ellipse:return Qq(e,t,r);case nr.Rect:return Zq(e,t,r);case nr.Polyline:return JR(e,t,r);case nr.Polygon:return oE(e,t,r);case nr.Path:return eV(e,t,r,n)}break}}switch(t.type){case nr.Ellipse:case nr.Rect:case nr.Polyline:case nr.Polygon:case nr.Path:return zq(t,e,n,r);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function Qc(e,t){const r=e.start.x,n=e.start.y,i=e.end.x,o=e.end.y,a=t.start.x,s=t.start.y,l=t.end.x,u=t.end.y,f=i-r,c=o-n,h=l-a,m=u-s,g=r-a,_=n-s,v=f*m-h*c,p=(f*_-c*g)/v,E=(h*_-m*g)/v;return p>=0&&p<=1&&E>=0&&E<=1}function HR(e,t){const r=e.a,n=e.b,i=e.x,o=e.y,a=t.start.x-i,s=t.end.x-i,l=t.start.y-o,u=t.end.y-o,f=r*r,c=n*n,h=s-a,m=u-l,g=h*h/f+m*m/c,_=2*a*h/f+2*l*m/c,v=a*a/f+l*l/c-1,p=_*_-4*g*v;if(p===0){const E=-_/2/g;return E>=0&&E<=1}else if(p>0){const E=Math.sqrt(p),y=(-_+E)/2/g,S=(-_-E)/2/g;return y>=0&&y<=1||S>=0&&S<=1}return!1}function qq(e,t){return Cne(e,0,t,0)}function Vq(e,t){const{start:r,end:n}=t,{x:i,y:o,width:a,height:s}=e;return r.x>i+a&&n.x>i+a||r.x<i&&n.x<i||r.y>o+s&&n.y>o+s||r.y<o&&n.y<o?!1:e.containsPoint(t.start)||e.containsPoint(t.end)?!0:Qc(e.topLine(),t)||Qc(e.rightLine(),t)||Qc(e.bottomLine(),t)||Qc(e.leftLine(),t)}function Hq(e,t){return GR(e,xt.fromEllipse(t))?iE(To.fromRect(e),t):!1}function GR(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function nE(e,t){return tV(e,t,{interior:!1})}function WR(e,t){return rV(e,t,{interior:!1})}function Gq(e,t){return nV(e,t,{interior:!1})}function Wq(e,t){return aE(e,t,{interior:!1})}function KR(e,t){return tV(e,t,{interior:!0})}function iE(e,t){return rV(e,t,{interior:!0})}function Kq(e,t){return nV(e,t,{interior:!0})}function Jq(e,t){return aE(e,t,{interior:!0})}function Yq(e,t){return YR(e,t,{interior:!0})}function Xq(e,t,r){return e.getSubpaths().some(n=>{const[i]=n.toPolylines(r),{type:o}=n.getSegment(-1);return o==="Z"?KR(i,t):nE(i,t)})}function Qq(e,t,r){return e.getSubpaths().some(n=>{const[i]=n.toPolylines(r),{type:o}=n.getSegment(-1);return o==="Z"?iE(i,t):WR(i,t)})}function Zq(e,t,r){return oE(e,To.fromRect(t),r)}function JR(e,t,r){return iV(e,t,r,{interior:!1})}function oE(e,t,r){return iV(e,t,r,{interior:!0})}function eV(e,t,r,n){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(r),{type:a}=i.getSegment(-1);return a==="Z"?oE(t,o,n):JR(t,o,n)})}function tV(e,t,r={}){const{interior:n=!1}=r;let i;if(n){if(e.containsPoint(t.start))return!0;const{start:s,end:l,points:u}=e;i=l.equals(s)?u:[...u,s]}else i=e.points;const{length:o}=i,a=new It;for(let s=0;s<o-1;s++)if(a.start=i[s],a.end=i[s+1],Qc(t,a))return!0;return!1}function rV(e,t,r={}){const{start:n,end:i,points:o}=e;if(t.containsPoint(n))return!0;let a;const{interior:s=!1}=r;if(s){if(e.containsPoint(t.center()))return!0;a=i.equals(n)?o:[...o,n]}else a=o;const{length:l}=a,u=new It;for(let f=0;f<l-1;f++)if(u.start=a[f],u.end=a[f+1],HR(t,u))return!0;return!1}function nV(e,t,r){const n=To.fromRect(t);return YR(e,n,r)}function iV(e,t,r,n){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(r),{type:a}=i.getSegment(-1);return a==="Z"?YR(t,o,n):aE(t,o,n)})}function aE(e,t,r={}){const{interior:n=!1}=r;let i;if(n){const{start:l}=t;if(e.containsPoint(l))return!0;i=e.clone().close()}else i=e;const o=t.points,{length:a}=o,s=new It;for(let l=0;l<a-1;l++)if(s.start=o[l],s.end=o[l+1],nE(i,s))return!0;return!1}function YR(e,t,r){return t.containsPoint(e.start)||aE(e,t.clone().close(),r)}function Cne(e,t,r,n){const{cos:i,sin:o}=Math,a=o(t),s=i(t),l=o(n),u=i(n),f=a*a,c=s*s,h=a*s,m=l*l,g=u*u,_=l*u,v=e.a*e.a,p=e.b*e.b,E=r.a*r.a,y=r.b*r.b,S=v*f+p*c,$=E*m+y*g,T=v*c+p*f,d=E*g+y*m;let A=2*(p-v)*h,P=2*(y-E)*_,x=-2*S*e.x-A*e.y,D=-2*$*r.x-P*r.y,F=-A*e.x-2*T*e.y,V=-P*r.x-2*d*r.y;const X=S*e.x*e.x+T*e.y*e.y+A*e.x*e.y-v*p,G=$*r.x*r.x+d*r.y*r.y+P*r.x*r.y-E*y;A=A/2,P=P/2,x=x/2,D=D/2,F=F/2,V=V/2;const Q=nu([[S,A,x],[A,T,F],[x,F,X]]),ce=nu([[$,P,D],[P,d,V],[D,V,G]]),ee=.33333333*(nu([[$,A,x],[P,T,F],[D,F,X]])+nu([[S,P,x],[A,d,F],[x,V,X]])+nu([[S,A,D],[A,T,V],[x,F,G]])),ae=.33333333*(nu([[S,P,D],[A,d,V],[x,V,G]])+nu([[$,A,D],[P,T,V],[D,F,G]])+nu([[$,P,x],[P,d,F],[D,V,X]])),M=Iv([[Q,ee],[ee,ae]]),B=Iv([[Q,ae],[ee,ce]]),K=Iv([[ee,ae],[ae,ce]]);return!(Iv([[2*M,B],[B,2*K]])>0&&(ae>0||ee>0))}function Iv(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function nu(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}const kne=Object.freeze(Object.defineProperty({__proto__:null,ellipseWithEllipse:qq,ellipseWithLine:HR,exists:zq,lineWithLine:Qc,pathWithEllipse:Qq,pathWithLine:Xq,pathWithPath:eV,pathWithPolygon:oE,pathWithPolyline:JR,pathWithRect:Zq,polygonWithEllipse:iE,polygonWithLine:KR,polygonWithPolygon:Yq,polygonWithPolyline:Jq,polygonWithRect:Kq,polylineWithEllipse:WR,polylineWithLine:nE,polylineWithPolyline:Wq,polylineWithRect:Gq,rectWithEllipse:Hq,rectWithLine:Vq,rectWithRect:GR},Symbol.toStringTag,{value:"Module"})),jne=kne,Dne=Object.freeze(Object.defineProperty({__proto__:null,Curve:Mr,Ellipse:Xi,Line:It,Path:Bt,Point:ze,Polygon:To,Polyline:sn,Rect:xt,bezier:Nne,ellipse:Tne,intersection:jne,line:uf,normalizeAngle:ls,point:Lb,random:HP,rect:One,scale:bne,snapToGrid:bf,toDeg:rE,toRad:$o,types:nr},Symbol.toStringTag,{value:"Module"}));var oV={},XR="1.13.7",ED=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},sE=Array.prototype,QR=Object.prototype,SD=typeof Symbol<"u"?Symbol.prototype:null,Mne=sE.push,wg=sE.slice,km=QR.toString,Lne=QR.hasOwnProperty,aV=typeof ArrayBuffer<"u",Fne=typeof DataView<"u",Bne=Array.isArray,$D=Object.keys,TD=Object.create,AD=aV&&ArrayBuffer.isView,Une=isNaN,zne=isFinite,sV=!{toString:null}.propertyIsEnumerable("toString"),PD=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],qne=Math.pow(2,53)-1;function ro(e,t){return t=t==null?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=n,e.apply(this,o)}}function ic(e){var t=typeof e;return t==="function"||t==="object"&&!!e}function lV(e){return e===null}function ZR(e){return e===void 0}function eI(e){return e===!0||e===!1||km.call(e)==="[object Boolean]"}function uV(e){return!!(e&&e.nodeType===1)}function zi(e){var t="[object "+e+"]";return function(r){return km.call(r)===t}}const lE=zi("String"),tI=zi("Number"),cV=zi("Date"),fV=zi("RegExp"),dV=zi("Error"),rI=zi("Symbol"),nI=zi("ArrayBuffer");var hV=zi("Function"),Vne=ED.document&&ED.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof Vne!="function"&&(hV=function(e){return typeof e=="function"||!1});const Ui=hV,pV=zi("Object");var mV=Fne&&(!/\[native code\]/.test(String(DataView))||pV(new DataView(new ArrayBuffer(8)))),iI=typeof Map<"u"&&pV(new Map),Hne=zi("DataView");function Gne(e){return e!=null&&Ui(e.getInt8)&&nI(e.buffer)}const jm=mV?Gne:Hne,oc=Bne||zi("Array");function ac(e,t){return e!=null&&Lne.call(e,t)}var KP=zi("Arguments");(function(){KP(arguments)||(KP=function(e){return ac(e,"callee")})})();const uE=KP;function gV(e){return!rI(e)&&zne(e)&&!isNaN(parseFloat(e))}function oI(e){return tI(e)&&Une(e)}function aI(e){return function(){return e}}function vV(e){return function(t){var r=e(t);return typeof r=="number"&&r>=0&&r<=qne}}function yV(e){return function(t){return t==null?void 0:t[e]}}const Fb=yV("byteLength"),Wne=vV(Fb);var Kne=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function Jne(e){return AD?AD(e)&&!jm(e):Wne(e)&&Kne.test(km.call(e))}const sI=aV?Jne:aI(!1),Po=yV("length");function Yne(e){for(var t={},r=e.length,n=0;n<r;++n)t[e[n]]=!0;return{contains:function(i){return t[i]===!0},push:function(i){return t[i]=!0,e.push(i)}}}function wV(e,t){t=Yne(t);var r=PD.length,n=e.constructor,i=Ui(n)&&n.prototype||QR,o="constructor";for(ac(e,o)&&!t.contains(o)&&t.push(o);r--;)o=PD[r],o in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function ni(e){if(!ic(e))return[];if($D)return $D(e);var t=[];for(var r in e)ac(e,r)&&t.push(r);return sV&&wV(e,t),t}function bV(e){if(e==null)return!0;var t=Po(e);return typeof t=="number"&&(oc(e)||lE(e)||uE(e))?t===0:Po(ni(e))===0}function lI(e,t){var r=ni(t),n=r.length;if(e==null)return!n;for(var i=Object(e),o=0;o<n;o++){var a=r[o];if(t[a]!==i[a]||!(a in i))return!1}return!0}function Jr(e){if(e instanceof Jr)return e;if(!(this instanceof Jr))return new Jr(e);this._wrapped=e}Jr.VERSION=XR;Jr.prototype.value=function(){return this._wrapped};Jr.prototype.valueOf=Jr.prototype.toJSON=Jr.prototype.value;Jr.prototype.toString=function(){return String(this._wrapped)};function xD(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Fb(e))}var OD="[object DataView]";function JP(e,t,r,n){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:_V(e,t,r,n)}function _V(e,t,r,n){e instanceof Jr&&(e=e._wrapped),t instanceof Jr&&(t=t._wrapped);var i=km.call(e);if(i!==km.call(t))return!1;if(mV&&i=="[object Object]"&&jm(e)){if(!jm(t))return!1;i=OD}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return SD.valueOf.call(e)===SD.valueOf.call(t);case"[object ArrayBuffer]":case OD:return _V(xD(e),xD(t),r,n)}var o=i==="[object Array]";if(!o&&sI(e)){var a=Fb(e);if(a!==Fb(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if(typeof e!="object"||typeof t!="object")return!1;var s=e.constructor,l=t.constructor;if(s!==l&&!(Ui(s)&&s instanceof s&&Ui(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!JP(e[u],t[u],r,n))return!1}else{var f=ni(e),c;if(u=f.length,ni(t).length!==u)return!1;for(;u--;)if(c=f[u],!(ac(t,c)&&JP(e[c],t[c],r,n)))return!1}return r.pop(),n.pop(),!0}function EV(e,t){return JP(e,t)}function jh(e){if(!ic(e))return[];var t=[];for(var r in e)t.push(r);return sV&&wV(e,t),t}function uI(e){var t=Po(e);return function(r){if(r==null)return!1;var n=jh(r);if(Po(n))return!1;for(var i=0;i<t;i++)if(!Ui(r[e[i]]))return!1;return e!==TV||!Ui(r[cI])}}var cI="forEach",SV="has",fI=["clear","delete"],$V=["get",SV,"set"],Xne=fI.concat(cI,$V),TV=fI.concat($V),Qne=["add"].concat(fI,cI,SV);const AV=iI?uI(Xne):zi("Map"),PV=iI?uI(TV):zi("WeakMap"),xV=iI?uI(Qne):zi("Set"),OV=zi("WeakSet");function Cf(e){for(var t=ni(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n}function RV(e){for(var t=ni(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n}function dI(e){for(var t={},r=ni(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t}function Dm(e){var t=[];for(var r in e)Ui(e[r])&&t.push(r);return t.sort()}function hI(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||r==null)return r;for(var i=1;i<n;i++)for(var o=arguments[i],a=e(o),s=a.length,l=0;l<s;l++){var u=a[l];(!t||r[u]===void 0)&&(r[u]=o[u])}return r}}const pI=hI(jh),wh=hI(ni),mI=hI(jh,!0);function Zne(){return function(){}}function IV(e){if(!ic(e))return{};if(TD)return TD(e);var t=Zne();t.prototype=e;var r=new t;return t.prototype=null,r}function NV(e,t){var r=IV(e);return t&&wh(r,t),r}function CV(e){return ic(e)?oc(e)?e.slice():pI({},e):e}function kV(e,t){return t(e),e}function gI(e){return oc(e)?e:[e]}Jr.toPath=gI;function bg(e){return Jr.toPath(e)}function vI(e,t){for(var r=t.length,n=0;n<r;n++){if(e==null)return;e=e[t[n]]}return r?e:void 0}function yI(e,t,r){var n=vI(e,bg(t));return ZR(n)?r:n}function jV(e,t){t=bg(t);for(var r=t.length,n=0;n<r;n++){var i=t[n];if(!ac(e,i))return!1;e=e[i]}return!!r}function cE(e){return e}function _f(e){return e=wh({},e),function(t){return lI(t,e)}}function fE(e){return e=bg(e),function(t){return vI(t,e)}}function _g(e,t,r){if(t===void 0)return e;switch(r??3){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,a){return e.call(t,n,i,o,a)}}return function(){return e.apply(t,arguments)}}function DV(e,t,r){return e==null?cE:Ui(e)?_g(e,t,r):ic(e)&&!oc(e)?_f(e):fE(e)}function dE(e,t){return DV(e,t,1/0)}Jr.iteratee=dE;function No(e,t,r){return Jr.iteratee!==dE?Jr.iteratee(e,t):DV(e,t,r)}function MV(e,t,r){t=No(t,r);for(var n=ni(e),i=n.length,o={},a=0;a<i;a++){var s=n[a];o[s]=t(e[s],s,e)}return o}function wI(){}function LV(e){return e==null?wI:function(t){return yI(e,t)}}function FV(e,t,r){var n=Array(Math.max(0,e));t=_g(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n}function Bb(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}const bh=Date.now||function(){return new Date().getTime()};function BV(e){var t=function(o){return e[o]},r="(?:"+ni(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(o){return o=o==null?"":""+o,n.test(o)?o.replace(i,t):o}}const UV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},zV=BV(UV),eie=dI(UV),qV=BV(eie),VV=Jr.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var JS=/(.)^/,tie={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},rie=/\\|'|\r|\n|\u2028|\u2029/g;function nie(e){return"\\"+tie[e]}var iie=/^\s*(\w|\$)+\s*$/;function HV(e,t,r){!t&&r&&(t=r),t=mI({},t,Jr.templateSettings);var n=RegExp([(t.escape||JS).source,(t.interpolate||JS).source,(t.evaluate||JS).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(n,function(u,f,c,h,m){return o+=e.slice(i,m).replace(rie,nie),i=m+u.length,f?o+=`'+
((__t=(`+f+`))==null?'':_.escape(__t))+
'`:c?o+=`'+
((__t=(`+c+`))==null?'':__t)+
'`:h&&(o+=`';
`+h+`
__p+='`),u}),o+=`';
`;var a=t.variable;if(a){if(!iie.test(a))throw new Error("variable is not a bare identifier: "+a)}else o=`with(obj||{}){
`+o+`}
`,a="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var s;try{s=new Function(a,"_",o)}catch(u){throw u.source=o,u}var l=function(u){return s.call(this,u,Jr)};return l.source="function("+a+`){
`+o+"}",l}function GV(e,t,r){t=bg(t);var n=t.length;if(!n)return Ui(r)?r.call(e):r;for(var i=0;i<n;i++){var o=e==null?void 0:e[t[i]];o===void 0&&(o=r,i=n),e=Ui(o)?o.call(e):o}return e}var oie=0;function WV(e){var t=++oie+"";return e?e+t:t}function KV(e){var t=Jr(e);return t._chain=!0,t}function JV(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var o=IV(e.prototype),a=e.apply(o,i);return ic(a)?a:o}var kf=ro(function(e,t){var r=kf.placeholder,n=function(){for(var i=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===r?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return JV(e,n,this,this,a)};return n});kf.placeholder=Jr;const bI=ro(function(e,t,r){if(!Ui(e))throw new TypeError("Bind must be called on a function");var n=ro(function(i){return JV(e,n,t,this,r.concat(i))});return n}),Qo=vV(Po);function jf(e,t,r,n){if(n=n||[],!t&&t!==0)t=1/0;else if(t<=0)return n.concat(e);for(var i=n.length,o=0,a=Po(e);o<a;o++){var s=e[o];if(Qo(s)&&(oc(s)||uE(s)))if(t>1)jf(s,t-1,r,n),i=n.length;else for(var l=0,u=s.length;l<u;)n[i++]=s[l++];else r||(n[i++]=s)}return n}const YV=ro(function(e,t){t=jf(t,!1,!1);var r=t.length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=bI(e[n],e)}return e});function XV(e,t){var r=function(n){var i=r.cache,o=""+(t?t.apply(this,arguments):n);return ac(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return r.cache={},r}const _I=ro(function(e,t,r){return setTimeout(function(){return e.apply(null,r)},t)}),QV=kf(_I,Jr,1);function ZV(e,t,r){var n,i,o,a,s=0;r||(r={});var l=function(){s=r.leading===!1?0:bh(),n=null,a=e.apply(i,o),n||(i=o=null)},u=function(){var f=bh();!s&&r.leading===!1&&(s=f);var c=t-(f-s);return i=this,o=arguments,c<=0||c>t?(n&&(clearTimeout(n),n=null),s=f,a=e.apply(i,o),n||(i=o=null)):!n&&r.trailing!==!1&&(n=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(n),s=0,n=i=o=null},u}function e8(e,t,r){var n,i,o,a,s,l=function(){var f=bh()-i;t>f?n=setTimeout(l,t-f):(n=null,r||(a=e.apply(s,o)),n||(o=s=null))},u=ro(function(f){return s=this,o=f,i=bh(),n||(n=setTimeout(l,t),r&&(a=e.apply(s,o))),a});return u.cancel=function(){clearTimeout(n),n=o=s=null},u}function t8(e,t){return kf(t,e)}function hE(e){return function(){return!e.apply(this,arguments)}}function r8(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function n8(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function EI(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}const i8=kf(EI,2);function SI(e,t,r){t=No(t,r);for(var n=ni(e),i,o=0,a=n.length;o<a;o++)if(i=n[o],t(e[i],i,e))return i}function o8(e){return function(t,r,n){r=No(r,n);for(var i=Po(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(r(t[o],o,t))return o;return-1}}const pE=o8(1),$I=o8(-1);function TI(e,t,r,n){r=No(r,n,1);for(var i=r(t),o=0,a=Po(e);o<a;){var s=Math.floor((o+a)/2);r(e[s])<i?o=s+1:a=s}return o}function a8(e,t,r){return function(n,i,o){var a=0,s=Po(n);if(typeof o=="number")e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(r&&o&&s)return o=r(n,i),n[o]===i?o:-1;if(i!==i)return o=t(wg.call(n,a,s),oI),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(n[o]===i)return o;return-1}}const AI=a8(1,pE,TI),s8=a8(-1,$I);function Mm(e,t,r){var n=Qo(e)?pE:SI,i=n(e,t,r);if(i!==void 0&&i!==-1)return e[i]}function l8(e,t){return Mm(e,_f(t))}function us(e,t,r){t=_g(t,r);var n,i;if(Qo(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var o=ni(e);for(n=0,i=o.length;n<i;n++)t(e[o[n]],o[n],e)}return e}function Cl(e,t,r){t=No(t,r);for(var n=!Qo(e)&&ni(e),i=(n||e).length,o=Array(i),a=0;a<i;a++){var s=n?n[a]:a;o[a]=t(e[s],s,e)}return o}function u8(e){var t=function(r,n,i,o){var a=!Qo(r)&&ni(r),s=(a||r).length,l=e>0?0:s-1;for(o||(i=r[a?a[l]:l],l+=e);l>=0&&l<s;l+=e){var u=a?a[l]:l;i=n(i,r[u],u,r)}return i};return function(r,n,i,o){var a=arguments.length>=3;return t(r,_g(n,o,4),i,a)}}const Yd=u8(1),Ub=u8(-1);function Hu(e,t,r){var n=[];return t=No(t,r),us(e,function(i,o,a){t(i,o,a)&&n.push(i)}),n}function c8(e,t,r){return Hu(e,hE(No(t)),r)}function zb(e,t,r){t=No(t,r);for(var n=!Qo(e)&&ni(e),i=(n||e).length,o=0;o<i;o++){var a=n?n[o]:o;if(!t(e[a],a,e))return!1}return!0}function qb(e,t,r){t=No(t,r);for(var n=!Qo(e)&&ni(e),i=(n||e).length,o=0;o<i;o++){var a=n?n[o]:o;if(t(e[a],a,e))return!0}return!1}function Pa(e,t,r,n){return Qo(e)||(e=Cf(e)),(typeof r!="number"||n)&&(r=0),AI(e,t,r)>=0}const f8=ro(function(e,t,r){var n,i;return Ui(t)?i=t:(t=bg(t),n=t.slice(0,-1),t=t[t.length-1]),Cl(e,function(o){var a=i;if(!a){if(n&&n.length&&(o=vI(o,n)),o==null)return;a=o[t]}return a==null?a:a.apply(o,r)})});function mE(e,t){return Cl(e,fE(t))}function d8(e,t){return Hu(e,_f(t))}function PI(e,t,r){var n=-1/0,i=-1/0,o,a;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=Qo(e)?e:Cf(e);for(var s=0,l=e.length;s<l;s++)o=e[s],o!=null&&o>n&&(n=o)}else t=No(t,r),us(e,function(u,f,c){a=t(u,f,c),(a>i||a===-1/0&&n===-1/0)&&(n=u,i=a)});return n}function h8(e,t,r){var n=1/0,i=1/0,o,a;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=Qo(e)?e:Cf(e);for(var s=0,l=e.length;s<l;s++)o=e[s],o!=null&&o<n&&(n=o)}else t=No(t,r),us(e,function(u,f,c){a=t(u,f,c),(a<i||a===1/0&&n===1/0)&&(n=u,i=a)});return n}var aie=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function xI(e){return e?oc(e)?wg.call(e):lE(e)?e.match(aie):Qo(e)?Cl(e,cE):Cf(e):[]}function OI(e,t,r){if(t==null||r)return Qo(e)||(e=Cf(e)),e[Bb(e.length-1)];var n=xI(e),i=Po(n);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var s=Bb(a,o),l=n[a];n[a]=n[s],n[s]=l}return n.slice(0,t)}function p8(e){return OI(e,1/0)}function m8(e,t,r){var n=0;return t=No(t,r),mE(Cl(e,function(i,o,a){return{value:i,index:n++,criteria:t(i,o,a)}}).sort(function(i,o){var a=i.criteria,s=o.criteria;if(a!==s){if(a>s||a===void 0)return 1;if(a<s||s===void 0)return-1}return i.index-o.index}),"value")}function gE(e,t){return function(r,n,i){var o=t?[[],[]]:{};return n=No(n,i),us(r,function(a,s){var l=n(a,s,r);e(o,a,l)}),o}}const g8=gE(function(e,t,r){ac(e,r)?e[r].push(t):e[r]=[t]}),v8=gE(function(e,t,r){e[r]=t}),y8=gE(function(e,t,r){ac(e,r)?e[r]++:e[r]=1}),w8=gE(function(e,t,r){e[r?0:1].push(t)},!0);function b8(e){return e==null?0:Qo(e)?e.length:ni(e).length}function sie(e,t,r){return t in r}const RI=ro(function(e,t){var r={},n=t[0];if(e==null)return r;Ui(n)?(t.length>1&&(n=_g(n,t[1])),t=jh(e)):(n=sie,t=jf(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var a=t[i],s=e[a];n(s,a,e)&&(r[a]=s)}return r}),_8=ro(function(e,t){var r=t[0],n;return Ui(r)?(r=hE(r),t.length>1&&(n=t[1])):(t=Cl(jf(t,!1,!1),String),r=function(i,o){return!Pa(t,o)}),RI(e,r,n)});function II(e,t,r){return wg.call(e,0,Math.max(0,e.length-(t==null||r?1:t)))}function Xd(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[0]:II(e,e.length-t)}function cf(e,t,r){return wg.call(e,t==null||r?1:t)}function E8(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[e.length-1]:cf(e,Math.max(0,e.length-t))}function S8(e){return Hu(e,Boolean)}function $8(e,t){return jf(e,t,!1)}const NI=ro(function(e,t){return t=jf(t,!0,!0),Hu(e,function(r){return!Pa(t,r)})}),T8=ro(function(e,t){return NI(e,t)});function Lm(e,t,r,n){eI(t)||(n=r,r=t,t=!1),r!=null&&(r=No(r,n));for(var i=[],o=[],a=0,s=Po(e);a<s;a++){var l=e[a],u=r?r(l,a,e):l;t&&!r?((!a||o!==u)&&i.push(l),o=u):r?Pa(o,u)||(o.push(u),i.push(l)):Pa(i,l)||i.push(l)}return i}const A8=ro(function(e){return Lm(jf(e,!0,!0))});function P8(e){for(var t=[],r=arguments.length,n=0,i=Po(e);n<i;n++){var o=e[n];if(!Pa(t,o)){var a;for(a=1;a<r&&Pa(arguments[a],o);a++);a===r&&t.push(o)}}return t}function Fm(e){for(var t=e&&PI(e,Po).length||0,r=Array(t),n=0;n<t;n++)r[n]=mE(e,n);return r}const x8=ro(Fm);function O8(e,t){for(var r={},n=0,i=Po(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r}function R8(e,t,r){t==null&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),o=0;o<n;o++,e+=r)i[o]=e;return i}function I8(e,t){if(t==null||t<1)return[];for(var r=[],n=0,i=e.length;n<i;)r.push(wg.call(e,n,n+=t));return r}function CI(e,t){return e._chain?Jr(t).chain():t}function kI(e){return us(Dm(e),function(t){var r=Jr[t]=e[t];Jr.prototype[t]=function(){var n=[this._wrapped];return Mne.apply(n,arguments),CI(this,r.apply(Jr,n))}}),Jr}us(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=sE[e];Jr.prototype[e]=function(){var r=this._wrapped;return r!=null&&(t.apply(r,arguments),(e==="shift"||e==="splice")&&r.length===0&&delete r[0]),CI(this,r)}});us(["concat","join","slice"],function(e){var t=sE[e];Jr.prototype[e]=function(){var r=this._wrapped;return r!=null&&(r=t.apply(r,arguments)),CI(this,r)}});const lie=Object.freeze(Object.defineProperty({__proto__:null,VERSION:XR,after:n8,all:zb,allKeys:jh,any:qb,assign:wh,before:EI,bind:bI,bindAll:YV,chain:KV,chunk:I8,clone:CV,collect:Cl,compact:S8,compose:r8,constant:aI,contains:Pa,countBy:y8,create:NV,debounce:e8,default:Jr,defaults:mI,defer:QV,delay:_I,detect:Mm,difference:NI,drop:cf,each:us,escape:zV,every:zb,extend:pI,extendOwn:wh,filter:Hu,find:Mm,findIndex:pE,findKey:SI,findLastIndex:$I,findWhere:l8,first:Xd,flatten:$8,foldl:Yd,foldr:Ub,forEach:us,functions:Dm,get:yI,groupBy:g8,has:jV,head:Xd,identity:cE,include:Pa,includes:Pa,indexBy:v8,indexOf:AI,initial:II,inject:Yd,intersection:P8,invert:dI,invoke:f8,isArguments:uE,isArray:oc,isArrayBuffer:nI,isBoolean:eI,isDataView:jm,isDate:cV,isElement:uV,isEmpty:bV,isEqual:EV,isError:dV,isFinite:gV,isFunction:Ui,isMap:AV,isMatch:lI,isNaN:oI,isNull:lV,isNumber:tI,isObject:ic,isRegExp:fV,isSet:xV,isString:lE,isSymbol:rI,isTypedArray:sI,isUndefined:ZR,isWeakMap:PV,isWeakSet:OV,iteratee:dE,keys:ni,last:E8,lastIndexOf:s8,map:Cl,mapObject:MV,matcher:_f,matches:_f,max:PI,memoize:XV,methods:Dm,min:h8,mixin:kI,negate:hE,noop:wI,now:bh,object:O8,omit:_8,once:i8,pairs:RV,partial:kf,partition:w8,pick:RI,pluck:mE,property:fE,propertyOf:LV,random:Bb,range:R8,reduce:Yd,reduceRight:Ub,reject:c8,rest:cf,restArguments:ro,result:GV,sample:OI,select:Hu,shuffle:p8,size:b8,some:qb,sortBy:m8,sortedIndex:TI,tail:cf,take:Xd,tap:kV,template:HV,templateSettings:VV,throttle:ZV,times:FV,toArray:xI,toPath:gI,transpose:Fm,unescape:qV,union:A8,uniq:Lm,unique:Lm,uniqueId:WV,unzip:Fm,values:Cf,where:d8,without:T8,wrap:t8,zip:x8},Symbol.toStringTag,{value:"Module"}));var YP=kI(lie);YP._=YP;const uie=Object.freeze(Object.defineProperty({__proto__:null,VERSION:XR,after:n8,all:zb,allKeys:jh,any:qb,assign:wh,before:EI,bind:bI,bindAll:YV,chain:KV,chunk:I8,clone:CV,collect:Cl,compact:S8,compose:r8,constant:aI,contains:Pa,countBy:y8,create:NV,debounce:e8,default:YP,defaults:mI,defer:QV,delay:_I,detect:Mm,difference:NI,drop:cf,each:us,escape:zV,every:zb,extend:pI,extendOwn:wh,filter:Hu,find:Mm,findIndex:pE,findKey:SI,findLastIndex:$I,findWhere:l8,first:Xd,flatten:$8,foldl:Yd,foldr:Ub,forEach:us,functions:Dm,get:yI,groupBy:g8,has:jV,head:Xd,identity:cE,include:Pa,includes:Pa,indexBy:v8,indexOf:AI,initial:II,inject:Yd,intersection:P8,invert:dI,invoke:f8,isArguments:uE,isArray:oc,isArrayBuffer:nI,isBoolean:eI,isDataView:jm,isDate:cV,isElement:uV,isEmpty:bV,isEqual:EV,isError:dV,isFinite:gV,isFunction:Ui,isMap:AV,isMatch:lI,isNaN:oI,isNull:lV,isNumber:tI,isObject:ic,isRegExp:fV,isSet:xV,isString:lE,isSymbol:rI,isTypedArray:sI,isUndefined:ZR,isWeakMap:PV,isWeakSet:OV,iteratee:dE,keys:ni,last:E8,lastIndexOf:s8,map:Cl,mapObject:MV,matcher:_f,matches:_f,max:PI,memoize:XV,methods:Dm,min:h8,mixin:kI,negate:hE,noop:wI,now:bh,object:O8,omit:_8,once:i8,pairs:RV,partial:kf,partition:w8,pick:RI,pluck:mE,property:fE,propertyOf:LV,random:Bb,range:R8,reduce:Yd,reduceRight:Ub,reject:c8,rest:cf,restArguments:ro,result:GV,sample:OI,select:Hu,shuffle:p8,size:b8,some:qb,sortBy:m8,sortedIndex:TI,tail:cf,take:Xd,tap:kV,template:HV,templateSettings:VV,throttle:ZV,times:FV,toArray:xI,toPath:gI,transpose:Fm,unescape:qV,union:A8,uniq:Lm,unique:Lm,uniqueId:WV,unzip:Fm,values:Cf,where:d8,without:T8,wrap:t8,zip:x8},Symbol.toStringTag,{value:"Module"})),cie=Lx(uie);var N8={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(e){(function(t,r){e.exports=t.document?r(t,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:$a,function(t,r){var n=[],i=Object.getPrototypeOf,o=n.slice,a=n.flat?function(j){return n.flat.call(j)}:function(j){return n.concat.apply([],j)},s=n.push,l=n.indexOf,u={},f=u.toString,c=u.hasOwnProperty,h=c.toString,m=h.call(Object),g={},_=function(U){return typeof U=="function"&&typeof U.nodeType!="number"&&typeof U.item!="function"},v=function(U){return U!=null&&U===U.window},p=t.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function y(j,U,te){te=te||p;var se,he,ve=te.createElement("script");if(ve.text=j,U)for(se in E)he=U[se]||U.getAttribute&&U.getAttribute(se),he&&ve.setAttribute(se,he);te.head.appendChild(ve).parentNode.removeChild(ve)}function S(j){return j==null?j+"":typeof j=="object"||typeof j=="function"?u[f.call(j)]||"object":typeof j}var $="3.7.1",T=/HTML$/i,d=function(j,U){return new d.fn.init(j,U)};d.fn=d.prototype={jquery:$,constructor:d,length:0,toArray:function(){return o.call(this)},get:function(j){return j==null?o.call(this):j<0?this[j+this.length]:this[j]},pushStack:function(j){var U=d.merge(this.constructor(),j);return U.prevObject=this,U},each:function(j){return d.each(this,j)},map:function(j){return this.pushStack(d.map(this,function(U,te){return j.call(U,te,U)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(j,U){return(U+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(j,U){return U%2}))},eq:function(j){var U=this.length,te=+j+(j<0?U:0);return this.pushStack(te>=0&&te<U?[this[te]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},d.extend=d.fn.extend=function(){var j,U,te,se,he,ve,Ee=arguments[0]||{},Be=1,De=arguments.length,Ke=!1;for(typeof Ee=="boolean"&&(Ke=Ee,Ee=arguments[Be]||{},Be++),typeof Ee!="object"&&!_(Ee)&&(Ee={}),Be===De&&(Ee=this,Be--);Be<De;Be++)if((j=arguments[Be])!=null)for(U in j)se=j[U],!(U==="__proto__"||Ee===se)&&(Ke&&se&&(d.isPlainObject(se)||(he=Array.isArray(se)))?(te=Ee[U],he&&!Array.isArray(te)?ve=[]:!he&&!d.isPlainObject(te)?ve={}:ve=te,he=!1,Ee[U]=d.extend(Ke,ve,se)):se!==void 0&&(Ee[U]=se));return Ee},d.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(j){throw new Error(j)},noop:function(){},isPlainObject:function(j){var U,te;return!j||f.call(j)!=="[object Object]"?!1:(U=i(j),U?(te=c.call(U,"constructor")&&U.constructor,typeof te=="function"&&h.call(te)===m):!0)},isEmptyObject:function(j){var U;for(U in j)return!1;return!0},globalEval:function(j,U,te){y(j,{nonce:U&&U.nonce},te)},each:function(j,U){var te,se=0;if(A(j))for(te=j.length;se<te&&U.call(j[se],se,j[se])!==!1;se++);else for(se in j)if(U.call(j[se],se,j[se])===!1)break;return j},text:function(j){var U,te="",se=0,he=j.nodeType;if(!he)for(;U=j[se++];)te+=d.text(U);return he===1||he===11?j.textContent:he===9?j.documentElement.textContent:he===3||he===4?j.nodeValue:te},makeArray:function(j,U){var te=U||[];return j!=null&&(A(Object(j))?d.merge(te,typeof j=="string"?[j]:j):s.call(te,j)),te},inArray:function(j,U,te){return U==null?-1:l.call(U,j,te)},isXMLDoc:function(j){var U=j&&j.namespaceURI,te=j&&(j.ownerDocument||j).documentElement;return!T.test(U||te&&te.nodeName||"HTML")},merge:function(j,U){for(var te=+U.length,se=0,he=j.length;se<te;se++)j[he++]=U[se];return j.length=he,j},grep:function(j,U,te){for(var se,he=[],ve=0,Ee=j.length,Be=!te;ve<Ee;ve++)se=!U(j[ve],ve),se!==Be&&he.push(j[ve]);return he},map:function(j,U,te){var se,he,ve=0,Ee=[];if(A(j))for(se=j.length;ve<se;ve++)he=U(j[ve],ve,te),he!=null&&Ee.push(he);else for(ve in j)he=U(j[ve],ve,te),he!=null&&Ee.push(he);return a(Ee)},guid:1,support:g}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=n[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(j,U){u["[object "+U+"]"]=U.toLowerCase()});function A(j){var U=!!j&&"length"in j&&j.length,te=S(j);return _(j)||v(j)?!1:te==="array"||U===0||typeof U=="number"&&U>0&&U-1 in j}function P(j,U){return j.nodeName&&j.nodeName.toLowerCase()===U.toLowerCase()}var x=n.pop,D=n.sort,F=n.splice,V="[\\x20\\t\\r\\n\\f]",X=new RegExp("^"+V+"+|((?:^|[^\\\\])(?:\\\\.)*)"+V+"+$","g");d.contains=function(j,U){var te=U&&U.parentNode;return j===te||!!(te&&te.nodeType===1&&(j.contains?j.contains(te):j.compareDocumentPosition&&j.compareDocumentPosition(te)&16))};var G=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Q(j,U){return U?j==="\0"?"":j.slice(0,-1)+"\\"+j.charCodeAt(j.length-1).toString(16)+" ":"\\"+j}d.escapeSelector=function(j){return(j+"").replace(G,Q)};var ce=p,ee=s;(function(){var j,U,te,se,he,ve=ee,Ee,Be,De,Ke,rt,st=d.expando,Qe=0,wt=0,Ht=dc(),pr=dc(),Yt=dc(),Vn=dc(),wn=function(Ce,He){return Ce===He&&(he=!0),0},na="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ia="(?:\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",mr="\\["+V+"*("+ia+")(?:"+V+"*([*^$|!~]?=)"+V+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ia+"))|)"+V+"*\\]",rl=":("+ia+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+mr+")*)|.*)\\)|)",$r=new RegExp(V+"+","g"),bn=new RegExp("^"+V+"*,"+V+"*"),Kl=new RegExp("^"+V+"*([>+~]|"+V+")"+V+"*"),Hn=new RegExp(V+"|>"),Pi=new RegExp(rl),Jl=new RegExp("^"+ia+"$"),so={ID:new RegExp("^#("+ia+")"),CLASS:new RegExp("^\\.("+ia+")"),TAG:new RegExp("^("+ia+"|[*])"),ATTR:new RegExp("^"+mr),PSEUDO:new RegExp("^"+rl),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+V+"*(even|odd|(([+-]|)(\\d*)n|)"+V+"*(?:([+-]|)"+V+"*(\\d+)|))"+V+"*\\)|)","i"),bool:new RegExp("^(?:"+na+")$","i"),needsContext:new RegExp("^"+V+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+V+"*((?:-\\d)?\\d*)"+V+"*\\)|)(?=[^-]|$)","i")},hi=/^(?:input|select|textarea|button)$/i,pi=/^h\d$/i,_n=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,nl=/[+~]/,oa=new RegExp("\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\([^\\r\\n\\f])","g"),mi=function(Ce,He){var Ze="0x"+Ce.slice(1)-65536;return He||(Ze<0?String.fromCharCode(Ze+65536):String.fromCharCode(Ze>>10|55296,Ze&1023|56320))},qg=function(){ys()},Vg=Xl(function(Ce){return Ce.disabled===!0&&P(Ce,"fieldset")},{dir:"parentNode",next:"legend"});function Xf(){try{return Ee.activeElement}catch{}}try{ve.apply(n=o.call(ce.childNodes),ce.childNodes),n[ce.childNodes.length].nodeType}catch{ve={apply:function(He,Ze){ee.apply(He,o.call(Ze))},call:function(He){ee.apply(He,o.call(arguments,1))}}}function jr(Ce,He,Ze,z){var Z,ge,Te,Ve,qe,Je,We,Xe=He&&He.ownerDocument,ht=He?He.nodeType:9;if(Ze=Ze||[],typeof Ce!="string"||!Ce||ht!==1&&ht!==9&&ht!==11)return Ze;if(!z&&(ys(He),He=He||Ee,De)){if(ht!==11&&(qe=_n.exec(Ce)))if(Z=qe[1]){if(ht===9)if(Te=He.getElementById(Z)){if(Te.id===Z)return ve.call(Ze,Te),Ze}else return Ze;else if(Xe&&(Te=Xe.getElementById(Z))&&jr.contains(He,Te)&&Te.id===Z)return ve.call(Ze,Te),Ze}else{if(qe[2])return ve.apply(Ze,He.getElementsByTagName(Ce)),Ze;if((Z=qe[3])&&He.getElementsByClassName)return ve.apply(Ze,He.getElementsByClassName(Z)),Ze}if(!Vn[Ce+" "]&&(!Ke||!Ke.test(Ce))){if(We=Ce,Xe=He,ht===1&&(Hn.test(Ce)||Kl.test(Ce))){for(Xe=nl.test(Ce)&&Wh(He.parentNode)||He,(Xe!=He||!g.scope)&&((Ve=He.getAttribute("id"))?Ve=d.escapeSelector(Ve):He.setAttribute("id",Ve=st)),Je=Yl(Ce),ge=Je.length;ge--;)Je[ge]=(Ve?"#"+Ve:":scope")+" "+pc(Je[ge]);We=Je.join(",")}try{return ve.apply(Ze,Xe.querySelectorAll(We)),Ze}catch{Vn(Ce,!0)}finally{Ve===st&&He.removeAttribute("id")}}}return gc(Ce.replace(X,"$1"),He,Ze,z)}function dc(){var Ce=[];function He(Ze,z){return Ce.push(Ze+" ")>U.cacheLength&&delete He[Ce.shift()],He[Ze+" "]=z}return He}function lo(Ce){return Ce[st]=!0,Ce}function La(Ce){var He=Ee.createElement("fieldset");try{return!!Ce(He)}catch{return!1}finally{He.parentNode&&He.parentNode.removeChild(He),He=null}}function Hg(Ce){return function(He){return P(He,"input")&&He.type===Ce}}function Gg(Ce){return function(He){return(P(He,"input")||P(He,"button"))&&He.type===Ce}}function Wg(Ce){return function(He){return"form"in He?He.parentNode&&He.disabled===!1?"label"in He?"label"in He.parentNode?He.parentNode.disabled===Ce:He.disabled===Ce:He.isDisabled===Ce||He.isDisabled!==!Ce&&Vg(He)===Ce:He.disabled===Ce:"label"in He?He.disabled===Ce:!1}}function il(Ce){return lo(function(He){return He=+He,lo(function(Ze,z){for(var Z,ge=Ce([],Ze.length,He),Te=ge.length;Te--;)Ze[Z=ge[Te]]&&(Ze[Z]=!(z[Z]=Ze[Z]))})})}function Wh(Ce){return Ce&&typeof Ce.getElementsByTagName<"u"&&Ce}function ys(Ce){var He,Ze=Ce?Ce.ownerDocument||Ce:ce;return Ze==Ee||Ze.nodeType!==9||!Ze.documentElement||(Ee=Ze,Be=Ee.documentElement,De=!d.isXMLDoc(Ee),rt=Be.matches||Be.webkitMatchesSelector||Be.msMatchesSelector,Be.msMatchesSelector&&ce!=Ee&&(He=Ee.defaultView)&&He.top!==He&&He.addEventListener("unload",qg),g.getById=La(function(z){return Be.appendChild(z).id=d.expando,!Ee.getElementsByName||!Ee.getElementsByName(d.expando).length}),g.disconnectedMatch=La(function(z){return rt.call(z,"*")}),g.scope=La(function(){return Ee.querySelectorAll(":scope")}),g.cssHas=La(function(){try{return Ee.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),g.getById?(U.filter.ID=function(z){var Z=z.replace(oa,mi);return function(ge){return ge.getAttribute("id")===Z}},U.find.ID=function(z,Z){if(typeof Z.getElementById<"u"&&De){var ge=Z.getElementById(z);return ge?[ge]:[]}}):(U.filter.ID=function(z){var Z=z.replace(oa,mi);return function(ge){var Te=typeof ge.getAttributeNode<"u"&&ge.getAttributeNode("id");return Te&&Te.value===Z}},U.find.ID=function(z,Z){if(typeof Z.getElementById<"u"&&De){var ge,Te,Ve,qe=Z.getElementById(z);if(qe){if(ge=qe.getAttributeNode("id"),ge&&ge.value===z)return[qe];for(Ve=Z.getElementsByName(z),Te=0;qe=Ve[Te++];)if(ge=qe.getAttributeNode("id"),ge&&ge.value===z)return[qe]}return[]}}),U.find.TAG=function(z,Z){return typeof Z.getElementsByTagName<"u"?Z.getElementsByTagName(z):Z.querySelectorAll(z)},U.find.CLASS=function(z,Z){if(typeof Z.getElementsByClassName<"u"&&De)return Z.getElementsByClassName(z)},Ke=[],La(function(z){var Z;Be.appendChild(z).innerHTML="<a id='"+st+"' href='' disabled='disabled'></a><select id='"+st+"-\r\\' disabled='disabled'><option selected=''></option></select>",z.querySelectorAll("[selected]").length||Ke.push("\\["+V+"*(?:value|"+na+")"),z.querySelectorAll("[id~="+st+"-]").length||Ke.push("~="),z.querySelectorAll("a#"+st+"+*").length||Ke.push(".#.+[+~]"),z.querySelectorAll(":checked").length||Ke.push(":checked"),Z=Ee.createElement("input"),Z.setAttribute("type","hidden"),z.appendChild(Z).setAttribute("name","D"),Be.appendChild(z).disabled=!0,z.querySelectorAll(":disabled").length!==2&&Ke.push(":enabled",":disabled"),Z=Ee.createElement("input"),Z.setAttribute("name",""),z.appendChild(Z),z.querySelectorAll("[name='']").length||Ke.push("\\["+V+"*name"+V+"*="+V+`*(?:''|"")`)}),g.cssHas||Ke.push(":has"),Ke=Ke.length&&new RegExp(Ke.join("|")),wn=function(z,Z){if(z===Z)return he=!0,0;var ge=!z.compareDocumentPosition-!Z.compareDocumentPosition;return ge||(ge=(z.ownerDocument||z)==(Z.ownerDocument||Z)?z.compareDocumentPosition(Z):1,ge&1||!g.sortDetached&&Z.compareDocumentPosition(z)===ge?z===Ee||z.ownerDocument==ce&&jr.contains(ce,z)?-1:Z===Ee||Z.ownerDocument==ce&&jr.contains(ce,Z)?1:se?l.call(se,z)-l.call(se,Z):0:ge&4?-1:1)}),Ee}jr.matches=function(Ce,He){return jr(Ce,null,null,He)},jr.matchesSelector=function(Ce,He){if(ys(Ce),De&&!Vn[He+" "]&&(!Ke||!Ke.test(He)))try{var Ze=rt.call(Ce,He);if(Ze||g.disconnectedMatch||Ce.document&&Ce.document.nodeType!==11)return Ze}catch{Vn(He,!0)}return jr(He,Ee,null,[Ce]).length>0},jr.contains=function(Ce,He){return(Ce.ownerDocument||Ce)!=Ee&&ys(Ce),d.contains(Ce,He)},jr.attr=function(Ce,He){(Ce.ownerDocument||Ce)!=Ee&&ys(Ce);var Ze=U.attrHandle[He.toLowerCase()],z=Ze&&c.call(U.attrHandle,He.toLowerCase())?Ze(Ce,He,!De):void 0;return z!==void 0?z:Ce.getAttribute(He)},jr.error=function(Ce){throw new Error("Syntax error, unrecognized expression: "+Ce)},d.uniqueSort=function(Ce){var He,Ze=[],z=0,Z=0;if(he=!g.sortStable,se=!g.sortStable&&o.call(Ce,0),D.call(Ce,wn),he){for(;He=Ce[Z++];)He===Ce[Z]&&(z=Ze.push(Z));for(;z--;)F.call(Ce,Ze[z],1)}return se=null,Ce},d.fn.uniqueSort=function(){return this.pushStack(d.uniqueSort(o.apply(this)))},U=d.expr={cacheLength:50,createPseudo:lo,match:so,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ce){return Ce[1]=Ce[1].replace(oa,mi),Ce[3]=(Ce[3]||Ce[4]||Ce[5]||"").replace(oa,mi),Ce[2]==="~="&&(Ce[3]=" "+Ce[3]+" "),Ce.slice(0,4)},CHILD:function(Ce){return Ce[1]=Ce[1].toLowerCase(),Ce[1].slice(0,3)==="nth"?(Ce[3]||jr.error(Ce[0]),Ce[4]=+(Ce[4]?Ce[5]+(Ce[6]||1):2*(Ce[3]==="even"||Ce[3]==="odd")),Ce[5]=+(Ce[7]+Ce[8]||Ce[3]==="odd")):Ce[3]&&jr.error(Ce[0]),Ce},PSEUDO:function(Ce){var He,Ze=!Ce[6]&&Ce[2];return so.CHILD.test(Ce[0])?null:(Ce[3]?Ce[2]=Ce[4]||Ce[5]||"":Ze&&Pi.test(Ze)&&(He=Yl(Ze,!0))&&(He=Ze.indexOf(")",Ze.length-He)-Ze.length)&&(Ce[0]=Ce[0].slice(0,He),Ce[2]=Ze.slice(0,He)),Ce.slice(0,3))}},filter:{TAG:function(Ce){var He=Ce.replace(oa,mi).toLowerCase();return Ce==="*"?function(){return!0}:function(Ze){return P(Ze,He)}},CLASS:function(Ce){var He=Ht[Ce+" "];return He||(He=new RegExp("(^|"+V+")"+Ce+"("+V+"|$)"))&&Ht(Ce,function(Ze){return He.test(typeof Ze.className=="string"&&Ze.className||typeof Ze.getAttribute<"u"&&Ze.getAttribute("class")||"")})},ATTR:function(Ce,He,Ze){return function(z){var Z=jr.attr(z,Ce);return Z==null?He==="!=":He?(Z+="",He==="="?Z===Ze:He==="!="?Z!==Ze:He==="^="?Ze&&Z.indexOf(Ze)===0:He==="*="?Ze&&Z.indexOf(Ze)>-1:He==="$="?Ze&&Z.slice(-Ze.length)===Ze:He==="~="?(" "+Z.replace($r," ")+" ").indexOf(Ze)>-1:He==="|="?Z===Ze||Z.slice(0,Ze.length+1)===Ze+"-":!1):!0}},CHILD:function(Ce,He,Ze,z,Z){var ge=Ce.slice(0,3)!=="nth",Te=Ce.slice(-4)!=="last",Ve=He==="of-type";return z===1&&Z===0?function(qe){return!!qe.parentNode}:function(qe,Je,We){var Xe,ht,mt,Lt,bt,Ut=ge!==Te?"nextSibling":"previousSibling",_r=qe.parentNode,xr=Ve&&qe.nodeName.toLowerCase(),Nn=!We&&!Ve,zr=!1;if(_r){if(ge){for(;Ut;){for(mt=qe;mt=mt[Ut];)if(Ve?P(mt,xr):mt.nodeType===1)return!1;bt=Ut=Ce==="only"&&!bt&&"nextSibling"}return!0}if(bt=[Te?_r.firstChild:_r.lastChild],Te&&Nn){for(ht=_r[st]||(_r[st]={}),Xe=ht[Ce]||[],Lt=Xe[0]===Qe&&Xe[1],zr=Lt&&Xe[2],mt=Lt&&_r.childNodes[Lt];mt=++Lt&&mt&&mt[Ut]||(zr=Lt=0)||bt.pop();)if(mt.nodeType===1&&++zr&&mt===qe){ht[Ce]=[Qe,Lt,zr];break}}else if(Nn&&(ht=qe[st]||(qe[st]={}),Xe=ht[Ce]||[],Lt=Xe[0]===Qe&&Xe[1],zr=Lt),zr===!1)for(;(mt=++Lt&&mt&&mt[Ut]||(zr=Lt=0)||bt.pop())&&!((Ve?P(mt,xr):mt.nodeType===1)&&++zr&&(Nn&&(ht=mt[st]||(mt[st]={}),ht[Ce]=[Qe,zr]),mt===qe)););return zr-=Z,zr===z||zr%z===0&&zr/z>=0}}},PSEUDO:function(Ce,He){var Ze,z=U.pseudos[Ce]||U.setFilters[Ce.toLowerCase()]||jr.error("unsupported pseudo: "+Ce);return z[st]?z(He):z.length>1?(Ze=[Ce,Ce,"",He],U.setFilters.hasOwnProperty(Ce.toLowerCase())?lo(function(Z,ge){for(var Te,Ve=z(Z,He),qe=Ve.length;qe--;)Te=l.call(Z,Ve[qe]),Z[Te]=!(ge[Te]=Ve[qe])}):function(Z){return z(Z,0,Ze)}):z}},pseudos:{not:lo(function(Ce){var He=[],Ze=[],z=Zf(Ce.replace(X,"$1"));return z[st]?lo(function(Z,ge,Te,Ve){for(var qe,Je=z(Z,null,Ve,[]),We=Z.length;We--;)(qe=Je[We])&&(Z[We]=!(ge[We]=qe))}):function(Z,ge,Te){return He[0]=Z,z(He,null,Te,Ze),He[0]=null,!Ze.pop()}}),has:lo(function(Ce){return function(He){return jr(Ce,He).length>0}}),contains:lo(function(Ce){return Ce=Ce.replace(oa,mi),function(He){return(He.textContent||d.text(He)).indexOf(Ce)>-1}}),lang:lo(function(Ce){return Jl.test(Ce||"")||jr.error("unsupported lang: "+Ce),Ce=Ce.replace(oa,mi).toLowerCase(),function(He){var Ze;do if(Ze=De?He.lang:He.getAttribute("xml:lang")||He.getAttribute("lang"))return Ze=Ze.toLowerCase(),Ze===Ce||Ze.indexOf(Ce+"-")===0;while((He=He.parentNode)&&He.nodeType===1);return!1}}),target:function(Ce){var He=t.location&&t.location.hash;return He&&He.slice(1)===Ce.id},root:function(Ce){return Ce===Be},focus:function(Ce){return Ce===Xf()&&Ee.hasFocus()&&!!(Ce.type||Ce.href||~Ce.tabIndex)},enabled:Wg(!1),disabled:Wg(!0),checked:function(Ce){return P(Ce,"input")&&!!Ce.checked||P(Ce,"option")&&!!Ce.selected},selected:function(Ce){return Ce.parentNode&&Ce.parentNode.selectedIndex,Ce.selected===!0},empty:function(Ce){for(Ce=Ce.firstChild;Ce;Ce=Ce.nextSibling)if(Ce.nodeType<6)return!1;return!0},parent:function(Ce){return!U.pseudos.empty(Ce)},header:function(Ce){return pi.test(Ce.nodeName)},input:function(Ce){return hi.test(Ce.nodeName)},button:function(Ce){return P(Ce,"input")&&Ce.type==="button"||P(Ce,"button")},text:function(Ce){var He;return P(Ce,"input")&&Ce.type==="text"&&((He=Ce.getAttribute("type"))==null||He.toLowerCase()==="text")},first:il(function(){return[0]}),last:il(function(Ce,He){return[He-1]}),eq:il(function(Ce,He,Ze){return[Ze<0?Ze+He:Ze]}),even:il(function(Ce,He){for(var Ze=0;Ze<He;Ze+=2)Ce.push(Ze);return Ce}),odd:il(function(Ce,He){for(var Ze=1;Ze<He;Ze+=2)Ce.push(Ze);return Ce}),lt:il(function(Ce,He,Ze){var z;for(Ze<0?z=Ze+He:Ze>He?z=He:z=Ze;--z>=0;)Ce.push(z);return Ce}),gt:il(function(Ce,He,Ze){for(var z=Ze<0?Ze+He:Ze;++z<He;)Ce.push(z);return Ce})}},U.pseudos.nth=U.pseudos.eq;for(j in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})U.pseudos[j]=Hg(j);for(j in{submit:!0,reset:!0})U.pseudos[j]=Gg(j);function hc(){}hc.prototype=U.filters=U.pseudos,U.setFilters=new hc;function Yl(Ce,He){var Ze,z,Z,ge,Te,Ve,qe,Je=pr[Ce+" "];if(Je)return He?0:Je.slice(0);for(Te=Ce,Ve=[],qe=U.preFilter;Te;){(!Ze||(z=bn.exec(Te)))&&(z&&(Te=Te.slice(z[0].length)||Te),Ve.push(Z=[])),Ze=!1,(z=Kl.exec(Te))&&(Ze=z.shift(),Z.push({value:Ze,type:z[0].replace(X," ")}),Te=Te.slice(Ze.length));for(ge in U.filter)(z=so[ge].exec(Te))&&(!qe[ge]||(z=qe[ge](z)))&&(Ze=z.shift(),Z.push({value:Ze,type:ge,matches:z}),Te=Te.slice(Ze.length));if(!Ze)break}return He?Te.length:Te?jr.error(Ce):pr(Ce,Ve).slice(0)}function pc(Ce){for(var He=0,Ze=Ce.length,z="";He<Ze;He++)z+=Ce[He].value;return z}function Xl(Ce,He,Ze){var z=He.dir,Z=He.next,ge=Z||z,Te=Ze&&ge==="parentNode",Ve=wt++;return He.first?function(qe,Je,We){for(;qe=qe[z];)if(qe.nodeType===1||Te)return Ce(qe,Je,We);return!1}:function(qe,Je,We){var Xe,ht,mt=[Qe,Ve];if(We){for(;qe=qe[z];)if((qe.nodeType===1||Te)&&Ce(qe,Je,We))return!0}else for(;qe=qe[z];)if(qe.nodeType===1||Te)if(ht=qe[st]||(qe[st]={}),Z&&P(qe,Z))qe=qe[z]||qe;else{if((Xe=ht[ge])&&Xe[0]===Qe&&Xe[1]===Ve)return mt[2]=Xe[2];if(ht[ge]=mt,mt[2]=Ce(qe,Je,We))return!0}return!1}}function mc(Ce){return Ce.length>1?function(He,Ze,z){for(var Z=Ce.length;Z--;)if(!Ce[Z](He,Ze,z))return!1;return!0}:Ce[0]}function Qf(Ce,He,Ze){for(var z=0,Z=He.length;z<Z;z++)jr(Ce,He[z],Ze);return Ze}function jo(Ce,He,Ze,z,Z){for(var ge,Te=[],Ve=0,qe=Ce.length,Je=He!=null;Ve<qe;Ve++)(ge=Ce[Ve])&&(!Ze||Ze(ge,z,Z))&&(Te.push(ge),Je&&He.push(Ve));return Te}function Ql(Ce,He,Ze,z,Z,ge){return z&&!z[st]&&(z=Ql(z)),Z&&!Z[st]&&(Z=Ql(Z,ge)),lo(function(Te,Ve,qe,Je){var We,Xe,ht,mt,Lt=[],bt=[],Ut=Ve.length,_r=Te||Qf(He||"*",qe.nodeType?[qe]:qe,[]),xr=Ce&&(Te||!He)?jo(_r,Lt,Ce,qe,Je):_r;if(Ze?(mt=Z||(Te?Ce:Ut||z)?[]:Ve,Ze(xr,mt,qe,Je)):mt=xr,z)for(We=jo(mt,bt),z(We,[],qe,Je),Xe=We.length;Xe--;)(ht=We[Xe])&&(mt[bt[Xe]]=!(xr[bt[Xe]]=ht));if(Te){if(Z||Ce){if(Z){for(We=[],Xe=mt.length;Xe--;)(ht=mt[Xe])&&We.push(xr[Xe]=ht);Z(null,mt=[],We,Je)}for(Xe=mt.length;Xe--;)(ht=mt[Xe])&&(We=Z?l.call(Te,ht):Lt[Xe])>-1&&(Te[We]=!(Ve[We]=ht))}}else mt=jo(mt===Ve?mt.splice(Ut,mt.length):mt),Z?Z(null,Ve,mt,Je):ve.apply(Ve,mt)})}function Zl(Ce){for(var He,Ze,z,Z=Ce.length,ge=U.relative[Ce[0].type],Te=ge||U.relative[" "],Ve=ge?1:0,qe=Xl(function(Xe){return Xe===He},Te,!0),Je=Xl(function(Xe){return l.call(He,Xe)>-1},Te,!0),We=[function(Xe,ht,mt){var Lt=!ge&&(mt||ht!=te)||((He=ht).nodeType?qe(Xe,ht,mt):Je(Xe,ht,mt));return He=null,Lt}];Ve<Z;Ve++)if(Ze=U.relative[Ce[Ve].type])We=[Xl(mc(We),Ze)];else{if(Ze=U.filter[Ce[Ve].type].apply(null,Ce[Ve].matches),Ze[st]){for(z=++Ve;z<Z&&!U.relative[Ce[z].type];z++);return Ql(Ve>1&&mc(We),Ve>1&&pc(Ce.slice(0,Ve-1).concat({value:Ce[Ve-2].type===" "?"*":""})).replace(X,"$1"),Ze,Ve<z&&Zl(Ce.slice(Ve,z)),z<Z&&Zl(Ce=Ce.slice(z)),z<Z&&pc(Ce))}We.push(Ze)}return mc(We)}function Kg(Ce,He){var Ze=He.length>0,z=Ce.length>0,Z=function(ge,Te,Ve,qe,Je){var We,Xe,ht,mt=0,Lt="0",bt=ge&&[],Ut=[],_r=te,xr=ge||z&&U.find.TAG("*",Je),Nn=Qe+=_r==null?1:Math.random()||.1,zr=xr.length;for(Je&&(te=Te==Ee||Te||Je);Lt!==zr&&(We=xr[Lt])!=null;Lt++){if(z&&We){for(Xe=0,!Te&&We.ownerDocument!=Ee&&(ys(We),Ve=!De);ht=Ce[Xe++];)if(ht(We,Te||Ee,Ve)){ve.call(qe,We);break}Je&&(Qe=Nn)}Ze&&((We=!ht&&We)&&mt--,ge&&bt.push(We))}if(mt+=Lt,Ze&&Lt!==mt){for(Xe=0;ht=He[Xe++];)ht(bt,Ut,Te,Ve);if(ge){if(mt>0)for(;Lt--;)bt[Lt]||Ut[Lt]||(Ut[Lt]=x.call(qe));Ut=jo(Ut)}ve.apply(qe,Ut),Je&&!ge&&Ut.length>0&&mt+He.length>1&&d.uniqueSort(qe)}return Je&&(Qe=Nn,te=_r),bt};return Ze?lo(Z):Z}function Zf(Ce,He){var Ze,z=[],Z=[],ge=Yt[Ce+" "];if(!ge){for(He||(He=Yl(Ce)),Ze=He.length;Ze--;)ge=Zl(He[Ze]),ge[st]?z.push(ge):Z.push(ge);ge=Yt(Ce,Kg(Z,z)),ge.selector=Ce}return ge}function gc(Ce,He,Ze,z){var Z,ge,Te,Ve,qe,Je=typeof Ce=="function"&&Ce,We=!z&&Yl(Ce=Je.selector||Ce);if(Ze=Ze||[],We.length===1){if(ge=We[0]=We[0].slice(0),ge.length>2&&(Te=ge[0]).type==="ID"&&He.nodeType===9&&De&&U.relative[ge[1].type]){if(He=(U.find.ID(Te.matches[0].replace(oa,mi),He)||[])[0],He)Je&&(He=He.parentNode);else return Ze;Ce=Ce.slice(ge.shift().value.length)}for(Z=so.needsContext.test(Ce)?0:ge.length;Z--&&(Te=ge[Z],!U.relative[Ve=Te.type]);)if((qe=U.find[Ve])&&(z=qe(Te.matches[0].replace(oa,mi),nl.test(ge[0].type)&&Wh(He.parentNode)||He))){if(ge.splice(Z,1),Ce=z.length&&pc(ge),!Ce)return ve.apply(Ze,z),Ze;break}}return(Je||Zf(Ce,We))(z,He,!De,Ze,!He||nl.test(Ce)&&Wh(He.parentNode)||He),Ze}g.sortStable=st.split("").sort(wn).join("")===st,ys(),g.sortDetached=La(function(Ce){return Ce.compareDocumentPosition(Ee.createElement("fieldset"))&1}),d.find=jr,d.expr[":"]=d.expr.pseudos,d.unique=d.uniqueSort,jr.compile=Zf,jr.select=gc,jr.setDocument=ys,jr.tokenize=Yl,jr.escape=d.escapeSelector,jr.getText=d.text,jr.isXML=d.isXMLDoc,jr.selectors=d.expr,jr.support=d.support,jr.uniqueSort=d.uniqueSort})();var ae=function(j,U,te){for(var se=[],he=te!==void 0;(j=j[U])&&j.nodeType!==9;)if(j.nodeType===1){if(he&&d(j).is(te))break;se.push(j)}return se},M=function(j,U){for(var te=[];j;j=j.nextSibling)j.nodeType===1&&j!==U&&te.push(j);return te},B=d.expr.match.needsContext,K=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(j,U,te){return _(U)?d.grep(j,function(se,he){return!!U.call(se,he,se)!==te}):U.nodeType?d.grep(j,function(se){return se===U!==te}):typeof U!="string"?d.grep(j,function(se){return l.call(U,se)>-1!==te}):d.filter(U,j,te)}d.filter=function(j,U,te){var se=U[0];return te&&(j=":not("+j+")"),U.length===1&&se.nodeType===1?d.find.matchesSelector(se,j)?[se]:[]:d.find.matches(j,d.grep(U,function(he){return he.nodeType===1}))},d.fn.extend({find:function(j){var U,te,se=this.length,he=this;if(typeof j!="string")return this.pushStack(d(j).filter(function(){for(U=0;U<se;U++)if(d.contains(he[U],this))return!0}));for(te=this.pushStack([]),U=0;U<se;U++)d.find(j,he[U],te);return se>1?d.uniqueSort(te):te},filter:function(j){return this.pushStack(O(this,j||[],!1))},not:function(j){return this.pushStack(O(this,j||[],!0))},is:function(j){return!!O(this,typeof j=="string"&&B.test(j)?d(j):j||[],!1).length}});var k,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ie=d.fn.init=function(j,U,te){var se,he;if(!j)return this;if(te=te||k,typeof j=="string")if(j[0]==="<"&&j[j.length-1]===">"&&j.length>=3?se=[null,j,null]:se=q.exec(j),se&&(se[1]||!U))if(se[1]){if(U=U instanceof d?U[0]:U,d.merge(this,d.parseHTML(se[1],U&&U.nodeType?U.ownerDocument||U:p,!0)),K.test(se[1])&&d.isPlainObject(U))for(se in U)_(this[se])?this[se](U[se]):this.attr(se,U[se]);return this}else return he=p.getElementById(se[2]),he&&(this[0]=he,this.length=1),this;else return!U||U.jquery?(U||te).find(j):this.constructor(U).find(j);else{if(j.nodeType)return this[0]=j,this.length=1,this;if(_(j))return te.ready!==void 0?te.ready(j):j(d)}return d.makeArray(j,this)};ie.prototype=d.fn,k=d(p);var J=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(j){var U=d(j,this),te=U.length;return this.filter(function(){for(var se=0;se<te;se++)if(d.contains(this,U[se]))return!0})},closest:function(j,U){var te,se=0,he=this.length,ve=[],Ee=typeof j!="string"&&d(j);if(!B.test(j)){for(;se<he;se++)for(te=this[se];te&&te!==U;te=te.parentNode)if(te.nodeType<11&&(Ee?Ee.index(te)>-1:te.nodeType===1&&d.find.matchesSelector(te,j))){ve.push(te);break}}return this.pushStack(ve.length>1?d.uniqueSort(ve):ve)},index:function(j){return j?typeof j=="string"?l.call(d(j),this[0]):l.call(this,j.jquery?j[0]:j):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(j,U){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(j,U))))},addBack:function(j){return this.add(j==null?this.prevObject:this.prevObject.filter(j))}});function oe(j,U){for(;(j=j[U])&&j.nodeType!==1;);return j}d.each({parent:function(j){var U=j.parentNode;return U&&U.nodeType!==11?U:null},parents:function(j){return ae(j,"parentNode")},parentsUntil:function(j,U,te){return ae(j,"parentNode",te)},next:function(j){return oe(j,"nextSibling")},prev:function(j){return oe(j,"previousSibling")},nextAll:function(j){return ae(j,"nextSibling")},prevAll:function(j){return ae(j,"previousSibling")},nextUntil:function(j,U,te){return ae(j,"nextSibling",te)},prevUntil:function(j,U,te){return ae(j,"previousSibling",te)},siblings:function(j){return M((j.parentNode||{}).firstChild,j)},children:function(j){return M(j.firstChild)},contents:function(j){return j.contentDocument!=null&&i(j.contentDocument)?j.contentDocument:(P(j,"template")&&(j=j.content||j),d.merge([],j.childNodes))}},function(j,U){d.fn[j]=function(te,se){var he=d.map(this,U,te);return j.slice(-5)!=="Until"&&(se=te),se&&typeof se=="string"&&(he=d.filter(se,he)),this.length>1&&(Y[j]||d.uniqueSort(he),J.test(j)&&he.reverse()),this.pushStack(he)}});var _e=/[^\x20\t\r\n\f]+/g;function ye(j){var U={};return d.each(j.match(_e)||[],function(te,se){U[se]=!0}),U}d.Callbacks=function(j){j=typeof j=="string"?ye(j):d.extend({},j);var U,te,se,he,ve=[],Ee=[],Be=-1,De=function(){for(he=he||j.once,se=U=!0;Ee.length;Be=-1)for(te=Ee.shift();++Be<ve.length;)ve[Be].apply(te[0],te[1])===!1&&j.stopOnFalse&&(Be=ve.length,te=!1);j.memory||(te=!1),U=!1,he&&(te?ve=[]:ve="")},Ke={add:function(){return ve&&(te&&!U&&(Be=ve.length-1,Ee.push(te)),function rt(st){d.each(st,function(Qe,wt){_(wt)?(!j.unique||!Ke.has(wt))&&ve.push(wt):wt&&wt.length&&S(wt)!=="string"&&rt(wt)})}(arguments),te&&!U&&De()),this},remove:function(){return d.each(arguments,function(rt,st){for(var Qe;(Qe=d.inArray(st,ve,Qe))>-1;)ve.splice(Qe,1),Qe<=Be&&Be--}),this},has:function(rt){return rt?d.inArray(rt,ve)>-1:ve.length>0},empty:function(){return ve&&(ve=[]),this},disable:function(){return he=Ee=[],ve=te="",this},disabled:function(){return!ve},lock:function(){return he=Ee=[],!te&&!U&&(ve=te=""),this},locked:function(){return!!he},fireWith:function(rt,st){return he||(st=st||[],st=[rt,st.slice?st.slice():st],Ee.push(st),U||De()),this},fire:function(){return Ke.fireWith(this,arguments),this},fired:function(){return!!se}};return Ke};function R(j){return j}function I(j){throw j}function N(j,U,te,se){var he;try{j&&_(he=j.promise)?he.call(j).done(U).fail(te):j&&_(he=j.then)?he.call(j,U,te):U.apply(void 0,[j].slice(se))}catch(ve){te.apply(void 0,[ve])}}d.extend({Deferred:function(j){var U=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],te="pending",se={state:function(){return te},always:function(){return he.done(arguments).fail(arguments),this},catch:function(ve){return se.then(null,ve)},pipe:function(){var ve=arguments;return d.Deferred(function(Ee){d.each(U,function(Be,De){var Ke=_(ve[De[4]])&&ve[De[4]];he[De[1]](function(){var rt=Ke&&Ke.apply(this,arguments);rt&&_(rt.promise)?rt.promise().progress(Ee.notify).done(Ee.resolve).fail(Ee.reject):Ee[De[0]+"With"](this,Ke?[rt]:arguments)})}),ve=null}).promise()},then:function(ve,Ee,Be){var De=0;function Ke(rt,st,Qe,wt){return function(){var Ht=this,pr=arguments,Yt=function(){var wn,na;if(!(rt<De)){if(wn=Qe.apply(Ht,pr),wn===st.promise())throw new TypeError("Thenable self-resolution");na=wn&&(typeof wn=="object"||typeof wn=="function")&&wn.then,_(na)?wt?na.call(wn,Ke(De,st,R,wt),Ke(De,st,I,wt)):(De++,na.call(wn,Ke(De,st,R,wt),Ke(De,st,I,wt),Ke(De,st,R,st.notifyWith))):(Qe!==R&&(Ht=void 0,pr=[wn]),(wt||st.resolveWith)(Ht,pr))}},Vn=wt?Yt:function(){try{Yt()}catch(wn){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(wn,Vn.error),rt+1>=De&&(Qe!==I&&(Ht=void 0,pr=[wn]),st.rejectWith(Ht,pr))}};rt?Vn():(d.Deferred.getErrorHook?Vn.error=d.Deferred.getErrorHook():d.Deferred.getStackHook&&(Vn.error=d.Deferred.getStackHook()),t.setTimeout(Vn))}}return d.Deferred(function(rt){U[0][3].add(Ke(0,rt,_(Be)?Be:R,rt.notifyWith)),U[1][3].add(Ke(0,rt,_(ve)?ve:R)),U[2][3].add(Ke(0,rt,_(Ee)?Ee:I))}).promise()},promise:function(ve){return ve!=null?d.extend(ve,se):se}},he={};return d.each(U,function(ve,Ee){var Be=Ee[2],De=Ee[5];se[Ee[1]]=Be.add,De&&Be.add(function(){te=De},U[3-ve][2].disable,U[3-ve][3].disable,U[0][2].lock,U[0][3].lock),Be.add(Ee[3].fire),he[Ee[0]]=function(){return he[Ee[0]+"With"](this===he?void 0:this,arguments),this},he[Ee[0]+"With"]=Be.fireWith}),se.promise(he),j&&j.call(he,he),he},when:function(j){var U=arguments.length,te=U,se=Array(te),he=o.call(arguments),ve=d.Deferred(),Ee=function(Be){return function(De){se[Be]=this,he[Be]=arguments.length>1?o.call(arguments):De,--U||ve.resolveWith(se,he)}};if(U<=1&&(N(j,ve.done(Ee(te)).resolve,ve.reject,!U),ve.state()==="pending"||_(he[te]&&he[te].then)))return ve.then();for(;te--;)N(he[te],Ee(te),ve.reject);return ve.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(j,U){t.console&&t.console.warn&&j&&H.test(j.name)&&t.console.warn("jQuery.Deferred exception: "+j.message,j.stack,U)},d.readyException=function(j){t.setTimeout(function(){throw j})};var re=d.Deferred();d.fn.ready=function(j){return re.then(j).catch(function(U){d.readyException(U)}),this},d.extend({isReady:!1,readyWait:1,ready:function(j){(j===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(j!==!0&&--d.readyWait>0)&&re.resolveWith(p,[d]))}}),d.ready.then=re.then;function le(){p.removeEventListener("DOMContentLoaded",le),t.removeEventListener("load",le),d.ready()}p.readyState==="complete"||p.readyState!=="loading"&&!p.documentElement.doScroll?t.setTimeout(d.ready):(p.addEventListener("DOMContentLoaded",le),t.addEventListener("load",le));var fe=function(j,U,te,se,he,ve,Ee){var Be=0,De=j.length,Ke=te==null;if(S(te)==="object"){he=!0;for(Be in te)fe(j,U,Be,te[Be],!0,ve,Ee)}else if(se!==void 0&&(he=!0,_(se)||(Ee=!0),Ke&&(Ee?(U.call(j,se),U=null):(Ke=U,U=function(rt,st,Qe){return Ke.call(d(rt),Qe)})),U))for(;Be<De;Be++)U(j[Be],te,Ee?se:se.call(j[Be],Be,U(j[Be],te)));return he?j:Ke?U.call(j):De?U(j[0],te):ve},me=/^-ms-/,Re=/-([a-z])/g;function Le(j,U){return U.toUpperCase()}function je(j){return j.replace(me,"ms-").replace(Re,Le)}var tt=function(j){return j.nodeType===1||j.nodeType===9||!+j.nodeType};function Ge(){this.expando=d.expando+Ge.uid++}Ge.uid=1,Ge.prototype={cache:function(j){var U=j[this.expando];return U||(U={},tt(j)&&(j.nodeType?j[this.expando]=U:Object.defineProperty(j,this.expando,{value:U,configurable:!0}))),U},set:function(j,U,te){var se,he=this.cache(j);if(typeof U=="string")he[je(U)]=te;else for(se in U)he[je(se)]=U[se];return he},get:function(j,U){return U===void 0?this.cache(j):j[this.expando]&&j[this.expando][je(U)]},access:function(j,U,te){return U===void 0||U&&typeof U=="string"&&te===void 0?this.get(j,U):(this.set(j,U,te),te!==void 0?te:U)},remove:function(j,U){var te,se=j[this.expando];if(se!==void 0){if(U!==void 0)for(Array.isArray(U)?U=U.map(je):(U=je(U),U=U in se?[U]:U.match(_e)||[]),te=U.length;te--;)delete se[U[te]];(U===void 0||d.isEmptyObject(se))&&(j.nodeType?j[this.expando]=void 0:delete j[this.expando])}},hasData:function(j){var U=j[this.expando];return U!==void 0&&!d.isEmptyObject(U)}};var Ue=new Ge,W=new Ge,C=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,L=/[A-Z]/g;function ne(j){return j==="true"?!0:j==="false"?!1:j==="null"?null:j===+j+""?+j:C.test(j)?JSON.parse(j):j}function we(j,U,te){var se;if(te===void 0&&j.nodeType===1)if(se="data-"+U.replace(L,"-$&").toLowerCase(),te=j.getAttribute(se),typeof te=="string"){try{te=ne(te)}catch{}W.set(j,U,te)}else te=void 0;return te}d.extend({hasData:function(j){return W.hasData(j)||Ue.hasData(j)},data:function(j,U,te){return W.access(j,U,te)},removeData:function(j,U){W.remove(j,U)},_data:function(j,U,te){return Ue.access(j,U,te)},_removeData:function(j,U){Ue.remove(j,U)}}),d.fn.extend({data:function(j,U){var te,se,he,ve=this[0],Ee=ve&&ve.attributes;if(j===void 0){if(this.length&&(he=W.get(ve),ve.nodeType===1&&!Ue.get(ve,"hasDataAttrs"))){for(te=Ee.length;te--;)Ee[te]&&(se=Ee[te].name,se.indexOf("data-")===0&&(se=je(se.slice(5)),we(ve,se,he[se])));Ue.set(ve,"hasDataAttrs",!0)}return he}return typeof j=="object"?this.each(function(){W.set(this,j)}):fe(this,function(Be){var De;if(ve&&Be===void 0)return De=W.get(ve,j),De!==void 0||(De=we(ve,j),De!==void 0)?De:void 0;this.each(function(){W.set(this,j,Be)})},null,U,arguments.length>1,null,!0)},removeData:function(j){return this.each(function(){W.remove(this,j)})}}),d.extend({queue:function(j,U,te){var se;if(j)return U=(U||"fx")+"queue",se=Ue.get(j,U),te&&(!se||Array.isArray(te)?se=Ue.access(j,U,d.makeArray(te)):se.push(te)),se||[]},dequeue:function(j,U){U=U||"fx";var te=d.queue(j,U),se=te.length,he=te.shift(),ve=d._queueHooks(j,U),Ee=function(){d.dequeue(j,U)};he==="inprogress"&&(he=te.shift(),se--),he&&(U==="fx"&&te.unshift("inprogress"),delete ve.stop,he.call(j,Ee,ve)),!se&&ve&&ve.empty.fire()},_queueHooks:function(j,U){var te=U+"queueHooks";return Ue.get(j,te)||Ue.access(j,te,{empty:d.Callbacks("once memory").add(function(){Ue.remove(j,[U+"queue",te])})})}}),d.fn.extend({queue:function(j,U){var te=2;return typeof j!="string"&&(U=j,j="fx",te--),arguments.length<te?d.queue(this[0],j):U===void 0?this:this.each(function(){var se=d.queue(this,j,U);d._queueHooks(this,j),j==="fx"&&se[0]!=="inprogress"&&d.dequeue(this,j)})},dequeue:function(j){return this.each(function(){d.dequeue(this,j)})},clearQueue:function(j){return this.queue(j||"fx",[])},promise:function(j,U){var te,se=1,he=d.Deferred(),ve=this,Ee=this.length,Be=function(){--se||he.resolveWith(ve,[ve])};for(typeof j!="string"&&(U=j,j=void 0),j=j||"fx";Ee--;)te=Ue.get(ve[Ee],j+"queueHooks"),te&&te.empty&&(se++,te.empty.add(Be));return Be(),he.promise(U)}});var Se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=new RegExp("^(?:([+-])=|)("+Se+")([a-z%]*)$","i"),Ie=["Top","Right","Bottom","Left"],Fe=p.documentElement,ft=function(j){return d.contains(j.ownerDocument,j)},vt={composed:!0};Fe.getRootNode&&(ft=function(j){return d.contains(j.ownerDocument,j)||j.getRootNode(vt)===j.ownerDocument});var at=function(j,U){return j=U||j,j.style.display==="none"||j.style.display===""&&ft(j)&&d.css(j,"display")==="none"};function kt(j,U,te,se){var he,ve,Ee=20,Be=se?function(){return se.cur()}:function(){return d.css(j,U,"")},De=Be(),Ke=te&&te[3]||(d.cssNumber[U]?"":"px"),rt=j.nodeType&&(d.cssNumber[U]||Ke!=="px"&&+De)&&ke.exec(d.css(j,U));if(rt&&rt[3]!==Ke){for(De=De/2,Ke=Ke||rt[3],rt=+De||1;Ee--;)d.style(j,U,rt+Ke),(1-ve)*(1-(ve=Be()/De||.5))<=0&&(Ee=0),rt=rt/ve;rt=rt*2,d.style(j,U,rt+Ke),te=te||[]}return te&&(rt=+rt||+De||0,he=te[1]?rt+(te[1]+1)*te[2]:+te[2],se&&(se.unit=Ke,se.start=rt,se.end=he)),he}var br={};function Pr(j){var U,te=j.ownerDocument,se=j.nodeName,he=br[se];return he||(U=te.body.appendChild(te.createElement(se)),he=d.css(U,"display"),U.parentNode.removeChild(U),he==="none"&&(he="block"),br[se]=he,he)}function rr(j,U){for(var te,se,he=[],ve=0,Ee=j.length;ve<Ee;ve++)se=j[ve],se.style&&(te=se.style.display,U?(te==="none"&&(he[ve]=Ue.get(se,"display")||null,he[ve]||(se.style.display="")),se.style.display===""&&at(se)&&(he[ve]=Pr(se))):te!=="none"&&(he[ve]="none",Ue.set(se,"display",te)));for(ve=0;ve<Ee;ve++)he[ve]!=null&&(j[ve].style.display=he[ve]);return j}d.fn.extend({show:function(){return rr(this,!0)},hide:function(){return rr(this)},toggle:function(j){return typeof j=="boolean"?j?this.show():this.hide():this.each(function(){at(this)?d(this).show():d(this).hide()})}});var hr=/^(?:checkbox|radio)$/i,ln=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Vt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var j=p.createDocumentFragment(),U=j.appendChild(p.createElement("div")),te=p.createElement("input");te.setAttribute("type","radio"),te.setAttribute("checked","checked"),te.setAttribute("name","t"),U.appendChild(te),g.checkClone=U.cloneNode(!0).cloneNode(!0).lastChild.checked,U.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!U.cloneNode(!0).lastChild.defaultValue,U.innerHTML="<option></option>",g.option=!!U.lastChild})();var zt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};zt.tbody=zt.tfoot=zt.colgroup=zt.caption=zt.thead,zt.th=zt.td,g.option||(zt.optgroup=zt.option=[1,"<select multiple='multiple'>","</select>"]);function At(j,U){var te;return typeof j.getElementsByTagName<"u"?te=j.getElementsByTagName(U||"*"):typeof j.querySelectorAll<"u"?te=j.querySelectorAll(U||"*"):te=[],U===void 0||U&&P(j,U)?d.merge([j],te):te}function $e(j,U){for(var te=0,se=j.length;te<se;te++)Ue.set(j[te],"globalEval",!U||Ue.get(U[te],"globalEval"))}var Ne=/<|&#?\w+;/;function dt(j,U,te,se,he){for(var ve,Ee,Be,De,Ke,rt,st=U.createDocumentFragment(),Qe=[],wt=0,Ht=j.length;wt<Ht;wt++)if(ve=j[wt],ve||ve===0)if(S(ve)==="object")d.merge(Qe,ve.nodeType?[ve]:ve);else if(!Ne.test(ve))Qe.push(U.createTextNode(ve));else{for(Ee=Ee||st.appendChild(U.createElement("div")),Be=(ln.exec(ve)||["",""])[1].toLowerCase(),De=zt[Be]||zt._default,Ee.innerHTML=De[1]+d.htmlPrefilter(ve)+De[2],rt=De[0];rt--;)Ee=Ee.lastChild;d.merge(Qe,Ee.childNodes),Ee=st.firstChild,Ee.textContent=""}for(st.textContent="",wt=0;ve=Qe[wt++];){if(se&&d.inArray(ve,se)>-1){he&&he.push(ve);continue}if(Ke=ft(ve),Ee=At(st.appendChild(ve),"script"),Ke&&$e(Ee),te)for(rt=0;ve=Ee[rt++];)Vt.test(ve.type||"")&&te.push(ve)}return st}var Ye=/^([^.]*)(?:\.(.+)|)/;function nt(){return!0}function Ot(){return!1}function qt(j,U,te,se,he,ve){var Ee,Be;if(typeof U=="object"){typeof te!="string"&&(se=se||te,te=void 0);for(Be in U)qt(j,Be,te,se,U[Be],ve);return j}if(se==null&&he==null?(he=te,se=te=void 0):he==null&&(typeof te=="string"?(he=se,se=void 0):(he=se,se=te,te=void 0)),he===!1)he=Ot;else if(!he)return j;return ve===1&&(Ee=he,he=function(De){return d().off(De),Ee.apply(this,arguments)},he.guid=Ee.guid||(Ee.guid=d.guid++)),j.each(function(){d.event.add(this,U,he,se,te)})}d.event={global:{},add:function(j,U,te,se,he){var ve,Ee,Be,De,Ke,rt,st,Qe,wt,Ht,pr,Yt=Ue.get(j);if(tt(j))for(te.handler&&(ve=te,te=ve.handler,he=ve.selector),he&&d.find.matchesSelector(Fe,he),te.guid||(te.guid=d.guid++),(De=Yt.events)||(De=Yt.events=Object.create(null)),(Ee=Yt.handle)||(Ee=Yt.handle=function(Vn){return typeof d<"u"&&d.event.triggered!==Vn.type?d.event.dispatch.apply(j,arguments):void 0}),U=(U||"").match(_e)||[""],Ke=U.length;Ke--;)Be=Ye.exec(U[Ke])||[],wt=pr=Be[1],Ht=(Be[2]||"").split(".").sort(),wt&&(st=d.event.special[wt]||{},wt=(he?st.delegateType:st.bindType)||wt,st=d.event.special[wt]||{},rt=d.extend({type:wt,origType:pr,data:se,handler:te,guid:te.guid,selector:he,needsContext:he&&d.expr.match.needsContext.test(he),namespace:Ht.join(".")},ve),(Qe=De[wt])||(Qe=De[wt]=[],Qe.delegateCount=0,(!st.setup||st.setup.call(j,se,Ht,Ee)===!1)&&j.addEventListener&&j.addEventListener(wt,Ee)),st.add&&(st.add.call(j,rt),rt.handler.guid||(rt.handler.guid=te.guid)),he?Qe.splice(Qe.delegateCount++,0,rt):Qe.push(rt),d.event.global[wt]=!0)},remove:function(j,U,te,se,he){var ve,Ee,Be,De,Ke,rt,st,Qe,wt,Ht,pr,Yt=Ue.hasData(j)&&Ue.get(j);if(!(!Yt||!(De=Yt.events))){for(U=(U||"").match(_e)||[""],Ke=U.length;Ke--;){if(Be=Ye.exec(U[Ke])||[],wt=pr=Be[1],Ht=(Be[2]||"").split(".").sort(),!wt){for(wt in De)d.event.remove(j,wt+U[Ke],te,se,!0);continue}for(st=d.event.special[wt]||{},wt=(se?st.delegateType:st.bindType)||wt,Qe=De[wt]||[],Be=Be[2]&&new RegExp("(^|\\.)"+Ht.join("\\.(?:.*\\.|)")+"(\\.|$)"),Ee=ve=Qe.length;ve--;)rt=Qe[ve],(he||pr===rt.origType)&&(!te||te.guid===rt.guid)&&(!Be||Be.test(rt.namespace))&&(!se||se===rt.selector||se==="**"&&rt.selector)&&(Qe.splice(ve,1),rt.selector&&Qe.delegateCount--,st.remove&&st.remove.call(j,rt));Ee&&!Qe.length&&((!st.teardown||st.teardown.call(j,Ht,Yt.handle)===!1)&&d.removeEvent(j,wt,Yt.handle),delete De[wt])}d.isEmptyObject(De)&&Ue.remove(j,"handle events")}},dispatch:function(j){var U,te,se,he,ve,Ee,Be=new Array(arguments.length),De=d.event.fix(j),Ke=(Ue.get(this,"events")||Object.create(null))[De.type]||[],rt=d.event.special[De.type]||{};for(Be[0]=De,U=1;U<arguments.length;U++)Be[U]=arguments[U];if(De.delegateTarget=this,!(rt.preDispatch&&rt.preDispatch.call(this,De)===!1)){for(Ee=d.event.handlers.call(this,De,Ke),U=0;(he=Ee[U++])&&!De.isPropagationStopped();)for(De.currentTarget=he.elem,te=0;(ve=he.handlers[te++])&&!De.isImmediatePropagationStopped();)(!De.rnamespace||ve.namespace===!1||De.rnamespace.test(ve.namespace))&&(De.handleObj=ve,De.data=ve.data,se=((d.event.special[ve.origType]||{}).handle||ve.handler).apply(he.elem,Be),se!==void 0&&(De.result=se)===!1&&(De.preventDefault(),De.stopPropagation()));return rt.postDispatch&&rt.postDispatch.call(this,De),De.result}},handlers:function(j,U){var te,se,he,ve,Ee,Be=[],De=U.delegateCount,Ke=j.target;if(De&&Ke.nodeType&&!(j.type==="click"&&j.button>=1)){for(;Ke!==this;Ke=Ke.parentNode||this)if(Ke.nodeType===1&&!(j.type==="click"&&Ke.disabled===!0)){for(ve=[],Ee={},te=0;te<De;te++)se=U[te],he=se.selector+" ",Ee[he]===void 0&&(Ee[he]=se.needsContext?d(he,this).index(Ke)>-1:d.find(he,this,null,[Ke]).length),Ee[he]&&ve.push(se);ve.length&&Be.push({elem:Ke,handlers:ve})}}return Ke=this,De<U.length&&Be.push({elem:Ke,handlers:U.slice(De)}),Be},addProp:function(j,U){Object.defineProperty(d.Event.prototype,j,{enumerable:!0,configurable:!0,get:_(U)?function(){if(this.originalEvent)return U(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[j]},set:function(te){Object.defineProperty(this,j,{enumerable:!0,configurable:!0,writable:!0,value:te})}})},fix:function(j){return j[d.expando]?j:new d.Event(j)},special:{load:{noBubble:!0},click:{setup:function(j){var U=this||j;return hr.test(U.type)&&U.click&&P(U,"input")&&de(U,"click",!0),!1},trigger:function(j){var U=this||j;return hr.test(U.type)&&U.click&&P(U,"input")&&de(U,"click"),!0},_default:function(j){var U=j.target;return hr.test(U.type)&&U.click&&P(U,"input")&&Ue.get(U,"click")||P(U,"a")}},beforeunload:{postDispatch:function(j){j.result!==void 0&&j.originalEvent&&(j.originalEvent.returnValue=j.result)}}}};function de(j,U,te){if(!te){Ue.get(j,U)===void 0&&d.event.add(j,U,nt);return}Ue.set(j,U,!1),d.event.add(j,U,{namespace:!1,handler:function(se){var he,ve=Ue.get(this,U);if(se.isTrigger&1&&this[U]){if(ve)(d.event.special[U]||{}).delegateType&&se.stopPropagation();else if(ve=o.call(arguments),Ue.set(this,U,ve),this[U](),he=Ue.get(this,U),Ue.set(this,U,!1),ve!==he)return se.stopImmediatePropagation(),se.preventDefault(),he}else ve&&(Ue.set(this,U,d.event.trigger(ve[0],ve.slice(1),this)),se.stopPropagation(),se.isImmediatePropagationStopped=nt)}})}d.removeEvent=function(j,U,te){j.removeEventListener&&j.removeEventListener(U,te)},d.Event=function(j,U){if(!(this instanceof d.Event))return new d.Event(j,U);j&&j.type?(this.originalEvent=j,this.type=j.type,this.isDefaultPrevented=j.defaultPrevented||j.defaultPrevented===void 0&&j.returnValue===!1?nt:Ot,this.target=j.target&&j.target.nodeType===3?j.target.parentNode:j.target,this.currentTarget=j.currentTarget,this.relatedTarget=j.relatedTarget):this.type=j,U&&d.extend(this,U),this.timeStamp=j&&j.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:Ot,isPropagationStopped:Ot,isImmediatePropagationStopped:Ot,isSimulated:!1,preventDefault:function(){var j=this.originalEvent;this.isDefaultPrevented=nt,j&&!this.isSimulated&&j.preventDefault()},stopPropagation:function(){var j=this.originalEvent;this.isPropagationStopped=nt,j&&!this.isSimulated&&j.stopPropagation()},stopImmediatePropagation:function(){var j=this.originalEvent;this.isImmediatePropagationStopped=nt,j&&!this.isSimulated&&j.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(j,U){function te(se){if(p.documentMode){var he=Ue.get(this,"handle"),ve=d.event.fix(se);ve.type=se.type==="focusin"?"focus":"blur",ve.isSimulated=!0,he(se),ve.target===ve.currentTarget&&he(ve)}else d.event.simulate(U,se.target,d.event.fix(se))}d.event.special[j]={setup:function(){var se;if(de(this,j,!0),p.documentMode)se=Ue.get(this,U),se||this.addEventListener(U,te),Ue.set(this,U,(se||0)+1);else return!1},trigger:function(){return de(this,j),!0},teardown:function(){var se;if(p.documentMode)se=Ue.get(this,U)-1,se?Ue.set(this,U,se):(this.removeEventListener(U,te),Ue.remove(this,U));else return!1},_default:function(se){return Ue.get(se.target,j)},delegateType:U},d.event.special[U]={setup:function(){var se=this.ownerDocument||this.document||this,he=p.documentMode?this:se,ve=Ue.get(he,U);ve||(p.documentMode?this.addEventListener(U,te):se.addEventListener(j,te,!0)),Ue.set(he,U,(ve||0)+1)},teardown:function(){var se=this.ownerDocument||this.document||this,he=p.documentMode?this:se,ve=Ue.get(he,U)-1;ve?Ue.set(he,U,ve):(p.documentMode?this.removeEventListener(U,te):se.removeEventListener(j,te,!0),Ue.remove(he,U))}}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(j,U){d.event.special[j]={delegateType:U,bindType:U,handle:function(te){var se,he=this,ve=te.relatedTarget,Ee=te.handleObj;return(!ve||ve!==he&&!d.contains(he,ve))&&(te.type=Ee.origType,se=Ee.handler.apply(this,arguments),te.type=U),se}}}),d.fn.extend({on:function(j,U,te,se){return qt(this,j,U,te,se)},one:function(j,U,te,se){return qt(this,j,U,te,se,1)},off:function(j,U,te){var se,he;if(j&&j.preventDefault&&j.handleObj)return se=j.handleObj,d(j.delegateTarget).off(se.namespace?se.origType+"."+se.namespace:se.origType,se.selector,se.handler),this;if(typeof j=="object"){for(he in j)this.off(he,U,j[he]);return this}return(U===!1||typeof U=="function")&&(te=U,U=void 0),te===!1&&(te=Ot),this.each(function(){d.event.remove(this,j,te,U)})}});var ue=/<script|<style|<link/i,be=/checked\s*(?:[^=]|=\s*.checked.)/i,xe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Pe(j,U){return P(j,"table")&&P(U.nodeType!==11?U:U.firstChild,"tr")&&d(j).children("tbody")[0]||j}function et(j){return j.type=(j.getAttribute("type")!==null)+"/"+j.type,j}function it(j){return(j.type||"").slice(0,5)==="true/"?j.type=j.type.slice(5):j.removeAttribute("type"),j}function Pt(j,U){var te,se,he,ve,Ee,Be,De;if(U.nodeType===1){if(Ue.hasData(j)&&(ve=Ue.get(j),De=ve.events,De)){Ue.remove(U,"handle events");for(he in De)for(te=0,se=De[he].length;te<se;te++)d.event.add(U,he,De[he][te])}W.hasData(j)&&(Ee=W.access(j),Be=d.extend({},Ee),W.set(U,Be))}}function Nt(j,U){var te=U.nodeName.toLowerCase();te==="input"&&hr.test(j.type)?U.checked=j.checked:(te==="input"||te==="textarea")&&(U.defaultValue=j.defaultValue)}function jt(j,U,te,se){U=a(U);var he,ve,Ee,Be,De,Ke,rt=0,st=j.length,Qe=st-1,wt=U[0],Ht=_(wt);if(Ht||st>1&&typeof wt=="string"&&!g.checkClone&&be.test(wt))return j.each(function(pr){var Yt=j.eq(pr);Ht&&(U[0]=wt.call(this,pr,Yt.html())),jt(Yt,U,te,se)});if(st&&(he=dt(U,j[0].ownerDocument,!1,j,se),ve=he.firstChild,he.childNodes.length===1&&(he=ve),ve||se)){for(Ee=d.map(At(he,"script"),et),Be=Ee.length;rt<st;rt++)De=he,rt!==Qe&&(De=d.clone(De,!0,!0),Be&&d.merge(Ee,At(De,"script"))),te.call(j[rt],De,rt);if(Be)for(Ke=Ee[Ee.length-1].ownerDocument,d.map(Ee,it),rt=0;rt<Be;rt++)De=Ee[rt],Vt.test(De.type||"")&&!Ue.access(De,"globalEval")&&d.contains(Ke,De)&&(De.src&&(De.type||"").toLowerCase()!=="module"?d._evalUrl&&!De.noModule&&d._evalUrl(De.src,{nonce:De.nonce||De.getAttribute("nonce")},Ke):y(De.textContent.replace(xe,""),De,Ke))}return j}function St(j,U,te){for(var se,he=U?d.filter(U,j):j,ve=0;(se=he[ve])!=null;ve++)!te&&se.nodeType===1&&d.cleanData(At(se)),se.parentNode&&(te&&ft(se)&&$e(At(se,"script")),se.parentNode.removeChild(se));return j}d.extend({htmlPrefilter:function(j){return j},clone:function(j,U,te){var se,he,ve,Ee,Be=j.cloneNode(!0),De=ft(j);if(!g.noCloneChecked&&(j.nodeType===1||j.nodeType===11)&&!d.isXMLDoc(j))for(Ee=At(Be),ve=At(j),se=0,he=ve.length;se<he;se++)Nt(ve[se],Ee[se]);if(U)if(te)for(ve=ve||At(j),Ee=Ee||At(Be),se=0,he=ve.length;se<he;se++)Pt(ve[se],Ee[se]);else Pt(j,Be);return Ee=At(Be,"script"),Ee.length>0&&$e(Ee,!De&&At(j,"script")),Be},cleanData:function(j){for(var U,te,se,he=d.event.special,ve=0;(te=j[ve])!==void 0;ve++)if(tt(te)){if(U=te[Ue.expando]){if(U.events)for(se in U.events)he[se]?d.event.remove(te,se):d.removeEvent(te,se,U.handle);te[Ue.expando]=void 0}te[W.expando]&&(te[W.expando]=void 0)}}}),d.fn.extend({detach:function(j){return St(this,j,!0)},remove:function(j){return St(this,j)},text:function(j){return fe(this,function(U){return U===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=U)})},null,j,arguments.length)},append:function(){return jt(this,arguments,function(j){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var U=Pe(this,j);U.appendChild(j)}})},prepend:function(){return jt(this,arguments,function(j){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var U=Pe(this,j);U.insertBefore(j,U.firstChild)}})},before:function(){return jt(this,arguments,function(j){this.parentNode&&this.parentNode.insertBefore(j,this)})},after:function(){return jt(this,arguments,function(j){this.parentNode&&this.parentNode.insertBefore(j,this.nextSibling)})},empty:function(){for(var j,U=0;(j=this[U])!=null;U++)j.nodeType===1&&(d.cleanData(At(j,!1)),j.textContent="");return this},clone:function(j,U){return j=j??!1,U=U??j,this.map(function(){return d.clone(this,j,U)})},html:function(j){return fe(this,function(U){var te=this[0]||{},se=0,he=this.length;if(U===void 0&&te.nodeType===1)return te.innerHTML;if(typeof U=="string"&&!ue.test(U)&&!zt[(ln.exec(U)||["",""])[1].toLowerCase()]){U=d.htmlPrefilter(U);try{for(;se<he;se++)te=this[se]||{},te.nodeType===1&&(d.cleanData(At(te,!1)),te.innerHTML=U);te=0}catch{}}te&&this.empty().append(U)},null,j,arguments.length)},replaceWith:function(){var j=[];return jt(this,arguments,function(U){var te=this.parentNode;d.inArray(this,j)<0&&(d.cleanData(At(this)),te&&te.replaceChild(U,this))},j)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(j,U){d.fn[j]=function(te){for(var se,he=[],ve=d(te),Ee=ve.length-1,Be=0;Be<=Ee;Be++)se=Be===Ee?this:this.clone(!0),d(ve[Be])[U](se),s.apply(he,se.get());return this.pushStack(he)}});var Rt=new RegExp("^("+Se+")(?!px)[a-z%]+$","i"),Gt=/^--/,yt=function(j){var U=j.ownerDocument.defaultView;return(!U||!U.opener)&&(U=t),U.getComputedStyle(j)},Tt=function(j,U,te){var se,he,ve={};for(he in U)ve[he]=j.style[he],j.style[he]=U[he];se=te.call(j);for(he in U)j.style[he]=ve[he];return se},Dt=new RegExp(Ie.join("|"),"i");(function(){function j(){if(Ke){De.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ke.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Fe.appendChild(De).appendChild(Ke);var rt=t.getComputedStyle(Ke);te=rt.top!=="1%",Be=U(rt.marginLeft)===12,Ke.style.right="60%",ve=U(rt.right)===36,se=U(rt.width)===36,Ke.style.position="absolute",he=U(Ke.offsetWidth/3)===12,Fe.removeChild(De),Ke=null}}function U(rt){return Math.round(parseFloat(rt))}var te,se,he,ve,Ee,Be,De=p.createElement("div"),Ke=p.createElement("div");Ke.style&&(Ke.style.backgroundClip="content-box",Ke.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle=Ke.style.backgroundClip==="content-box",d.extend(g,{boxSizingReliable:function(){return j(),se},pixelBoxStyles:function(){return j(),ve},pixelPosition:function(){return j(),te},reliableMarginLeft:function(){return j(),Be},scrollboxSize:function(){return j(),he},reliableTrDimensions:function(){var rt,st,Qe,wt;return Ee==null&&(rt=p.createElement("table"),st=p.createElement("tr"),Qe=p.createElement("div"),rt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",st.style.cssText="box-sizing:content-box;border:1px solid",st.style.height="1px",Qe.style.height="9px",Qe.style.display="block",Fe.appendChild(rt).appendChild(st).appendChild(Qe),wt=t.getComputedStyle(st),Ee=parseInt(wt.height,10)+parseInt(wt.borderTopWidth,10)+parseInt(wt.borderBottomWidth,10)===st.offsetHeight,Fe.removeChild(rt)),Ee}}))})();function Ft(j,U,te){var se,he,ve,Ee,Be=Gt.test(U),De=j.style;return te=te||yt(j),te&&(Ee=te.getPropertyValue(U)||te[U],Be&&Ee&&(Ee=Ee.replace(X,"$1")||void 0),Ee===""&&!ft(j)&&(Ee=d.style(j,U)),!g.pixelBoxStyles()&&Rt.test(Ee)&&Dt.test(U)&&(se=De.width,he=De.minWidth,ve=De.maxWidth,De.minWidth=De.maxWidth=De.width=Ee,Ee=te.width,De.width=se,De.minWidth=he,De.maxWidth=ve)),Ee!==void 0?Ee+"":Ee}function Gr(j,U){return{get:function(){if(j()){delete this.get;return}return(this.get=U).apply(this,arguments)}}}var Yr=["Webkit","Moz","ms"],Ir=p.createElement("div").style,Mn={};function qn(j){for(var U=j[0].toUpperCase()+j.slice(1),te=Yr.length;te--;)if(j=Yr[te]+U,j in Ir)return j}function Nr(j){var U=d.cssProps[j]||Mn[j];return U||(j in Ir?j:Mn[j]=qn(j)||j)}var Xr=/^(none|table(?!-c[ea]).+)/,Yn={position:"absolute",visibility:"hidden",display:"block"},dn={letterSpacing:"0",fontWeight:"400"};function fi(j,U,te){var se=ke.exec(U);return se?Math.max(0,se[2]-(te||0))+(se[3]||"px"):U}function ea(j,U,te,se,he,ve){var Ee=U==="width"?1:0,Be=0,De=0,Ke=0;if(te===(se?"border":"content"))return 0;for(;Ee<4;Ee+=2)te==="margin"&&(Ke+=d.css(j,te+Ie[Ee],!0,he)),se?(te==="content"&&(De-=d.css(j,"padding"+Ie[Ee],!0,he)),te!=="margin"&&(De-=d.css(j,"border"+Ie[Ee]+"Width",!0,he))):(De+=d.css(j,"padding"+Ie[Ee],!0,he),te!=="padding"?De+=d.css(j,"border"+Ie[Ee]+"Width",!0,he):Be+=d.css(j,"border"+Ie[Ee]+"Width",!0,he));return!se&&ve>=0&&(De+=Math.max(0,Math.ceil(j["offset"+U[0].toUpperCase()+U.slice(1)]-ve-De-Be-.5))||0),De+Ke}function ta(j,U,te){var se=yt(j),he=!g.boxSizingReliable()||te,ve=he&&d.css(j,"boxSizing",!1,se)==="border-box",Ee=ve,Be=Ft(j,U,se),De="offset"+U[0].toUpperCase()+U.slice(1);if(Rt.test(Be)){if(!te)return Be;Be="auto"}return(!g.boxSizingReliable()&&ve||!g.reliableTrDimensions()&&P(j,"tr")||Be==="auto"||!parseFloat(Be)&&d.css(j,"display",!1,se)==="inline")&&j.getClientRects().length&&(ve=d.css(j,"boxSizing",!1,se)==="border-box",Ee=De in j,Ee&&(Be=j[De])),Be=parseFloat(Be)||0,Be+ea(j,U,te||(ve?"border":"content"),Ee,se,Be)+"px"}d.extend({cssHooks:{opacity:{get:function(j,U){if(U){var te=Ft(j,"opacity");return te===""?"1":te}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(j,U,te,se){if(!(!j||j.nodeType===3||j.nodeType===8||!j.style)){var he,ve,Ee,Be=je(U),De=Gt.test(U),Ke=j.style;if(De||(U=Nr(Be)),Ee=d.cssHooks[U]||d.cssHooks[Be],te!==void 0){if(ve=typeof te,ve==="string"&&(he=ke.exec(te))&&he[1]&&(te=kt(j,U,he),ve="number"),te==null||te!==te)return;ve==="number"&&!De&&(te+=he&&he[3]||(d.cssNumber[Be]?"":"px")),!g.clearCloneStyle&&te===""&&U.indexOf("background")===0&&(Ke[U]="inherit"),(!Ee||!("set"in Ee)||(te=Ee.set(j,te,se))!==void 0)&&(De?Ke.setProperty(U,te):Ke[U]=te)}else return Ee&&"get"in Ee&&(he=Ee.get(j,!1,se))!==void 0?he:Ke[U]}},css:function(j,U,te,se){var he,ve,Ee,Be=je(U),De=Gt.test(U);return De||(U=Nr(Be)),Ee=d.cssHooks[U]||d.cssHooks[Be],Ee&&"get"in Ee&&(he=Ee.get(j,!0,te)),he===void 0&&(he=Ft(j,U,se)),he==="normal"&&U in dn&&(he=dn[U]),te===""||te?(ve=parseFloat(he),te===!0||isFinite(ve)?ve||0:he):he}}),d.each(["height","width"],function(j,U){d.cssHooks[U]={get:function(te,se,he){if(se)return Xr.test(d.css(te,"display"))&&(!te.getClientRects().length||!te.getBoundingClientRect().width)?Tt(te,Yn,function(){return ta(te,U,he)}):ta(te,U,he)},set:function(te,se,he){var ve,Ee=yt(te),Be=!g.scrollboxSize()&&Ee.position==="absolute",De=Be||he,Ke=De&&d.css(te,"boxSizing",!1,Ee)==="border-box",rt=he?ea(te,U,he,Ke,Ee):0;return Ke&&Be&&(rt-=Math.ceil(te["offset"+U[0].toUpperCase()+U.slice(1)]-parseFloat(Ee[U])-ea(te,U,"border",!1,Ee)-.5)),rt&&(ve=ke.exec(se))&&(ve[3]||"px")!=="px"&&(te.style[U]=se,se=d.css(te,U)),fi(te,se,rt)}}}),d.cssHooks.marginLeft=Gr(g.reliableMarginLeft,function(j,U){if(U)return(parseFloat(Ft(j,"marginLeft"))||j.getBoundingClientRect().left-Tt(j,{marginLeft:0},function(){return j.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(j,U){d.cssHooks[j+U]={expand:function(te){for(var se=0,he={},ve=typeof te=="string"?te.split(" "):[te];se<4;se++)he[j+Ie[se]+U]=ve[se]||ve[se-2]||ve[0];return he}},j!=="margin"&&(d.cssHooks[j+U].set=fi)}),d.fn.extend({css:function(j,U){return fe(this,function(te,se,he){var ve,Ee,Be={},De=0;if(Array.isArray(se)){for(ve=yt(te),Ee=se.length;De<Ee;De++)Be[se[De]]=d.css(te,se[De],!1,ve);return Be}return he!==void 0?d.style(te,se,he):d.css(te,se)},j,U,arguments.length>1)}});function Cr(j,U,te,se,he){return new Cr.prototype.init(j,U,te,se,he)}d.Tween=Cr,Cr.prototype={constructor:Cr,init:function(j,U,te,se,he,ve){this.elem=j,this.prop=te,this.easing=he||d.easing._default,this.options=U,this.start=this.now=this.cur(),this.end=se,this.unit=ve||(d.cssNumber[te]?"":"px")},cur:function(){var j=Cr.propHooks[this.prop];return j&&j.get?j.get(this):Cr.propHooks._default.get(this)},run:function(j){var U,te=Cr.propHooks[this.prop];return this.options.duration?this.pos=U=d.easing[this.easing](j,this.options.duration*j,0,1,this.options.duration):this.pos=U=j,this.now=(this.end-this.start)*U+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),te&&te.set?te.set(this):Cr.propHooks._default.set(this),this}},Cr.prototype.init.prototype=Cr.prototype,Cr.propHooks={_default:{get:function(j){var U;return j.elem.nodeType!==1||j.elem[j.prop]!=null&&j.elem.style[j.prop]==null?j.elem[j.prop]:(U=d.css(j.elem,j.prop,""),!U||U==="auto"?0:U)},set:function(j){d.fx.step[j.prop]?d.fx.step[j.prop](j):j.elem.nodeType===1&&(d.cssHooks[j.prop]||j.elem.style[Nr(j.prop)]!=null)?d.style(j.elem,j.prop,j.now+j.unit):j.elem[j.prop]=j.now}}},Cr.propHooks.scrollTop=Cr.propHooks.scrollLeft={set:function(j){j.elem.nodeType&&j.elem.parentNode&&(j.elem[j.prop]=j.now)}},d.easing={linear:function(j){return j},swing:function(j){return .5-Math.cos(j*Math.PI)/2},_default:"swing"},d.fx=Cr.prototype.init,d.fx.step={};var yn,di,ps=/^(?:toggle|show|hide)$/,ra=/queueHooks$/;function Ln(){di&&(p.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Ln):t.setTimeout(Ln,d.fx.interval),d.fx.tick())}function uc(){return t.setTimeout(function(){yn=void 0}),yn=Date.now()}function Zs(j,U){var te,se=0,he={height:j};for(U=U?1:0;se<4;se+=2-U)te=Ie[se],he["margin"+te]=he["padding"+te]=j;return U&&(he.opacity=he.width=j),he}function jg(j,U,te){for(var se,he=(Co.tweeners[U]||[]).concat(Co.tweeners["*"]),ve=0,Ee=he.length;ve<Ee;ve++)if(se=he[ve].call(te,U,j))return se}function ME(j,U,te){var se,he,ve,Ee,Be,De,Ke,rt,st="width"in U||"height"in U,Qe=this,wt={},Ht=j.style,pr=j.nodeType&&at(j),Yt=Ue.get(j,"fxshow");te.queue||(Ee=d._queueHooks(j,"fx"),Ee.unqueued==null&&(Ee.unqueued=0,Be=Ee.empty.fire,Ee.empty.fire=function(){Ee.unqueued||Be()}),Ee.unqueued++,Qe.always(function(){Qe.always(function(){Ee.unqueued--,d.queue(j,"fx").length||Ee.empty.fire()})}));for(se in U)if(he=U[se],ps.test(he)){if(delete U[se],ve=ve||he==="toggle",he===(pr?"hide":"show"))if(he==="show"&&Yt&&Yt[se]!==void 0)pr=!0;else continue;wt[se]=Yt&&Yt[se]||d.style(j,se)}if(De=!d.isEmptyObject(U),!(!De&&d.isEmptyObject(wt))){st&&j.nodeType===1&&(te.overflow=[Ht.overflow,Ht.overflowX,Ht.overflowY],Ke=Yt&&Yt.display,Ke==null&&(Ke=Ue.get(j,"display")),rt=d.css(j,"display"),rt==="none"&&(Ke?rt=Ke:(rr([j],!0),Ke=j.style.display||Ke,rt=d.css(j,"display"),rr([j]))),(rt==="inline"||rt==="inline-block"&&Ke!=null)&&d.css(j,"float")==="none"&&(De||(Qe.done(function(){Ht.display=Ke}),Ke==null&&(rt=Ht.display,Ke=rt==="none"?"":rt)),Ht.display="inline-block")),te.overflow&&(Ht.overflow="hidden",Qe.always(function(){Ht.overflow=te.overflow[0],Ht.overflowX=te.overflow[1],Ht.overflowY=te.overflow[2]})),De=!1;for(se in wt)De||(Yt?"hidden"in Yt&&(pr=Yt.hidden):Yt=Ue.access(j,"fxshow",{display:Ke}),ve&&(Yt.hidden=!pr),pr&&rr([j],!0),Qe.done(function(){pr||rr([j]),Ue.remove(j,"fxshow");for(se in wt)d.style(j,se,wt[se])})),De=jg(pr?Yt[se]:0,se,Qe),se in Yt||(Yt[se]=De.start,pr&&(De.end=De.start,De.start=0))}}function LE(j,U){var te,se,he,ve,Ee;for(te in j)if(se=je(te),he=U[se],ve=j[te],Array.isArray(ve)&&(he=ve[1],ve=j[te]=ve[0]),te!==se&&(j[se]=ve,delete j[te]),Ee=d.cssHooks[se],Ee&&"expand"in Ee){ve=Ee.expand(ve),delete j[se];for(te in ve)te in j||(j[te]=ve[te],U[te]=he)}else U[se]=he}function Co(j,U,te){var se,he,ve=0,Ee=Co.prefilters.length,Be=d.Deferred().always(function(){delete De.elem}),De=function(){if(he)return!1;for(var st=yn||uc(),Qe=Math.max(0,Ke.startTime+Ke.duration-st),wt=Qe/Ke.duration||0,Ht=1-wt,pr=0,Yt=Ke.tweens.length;pr<Yt;pr++)Ke.tweens[pr].run(Ht);return Be.notifyWith(j,[Ke,Ht,Qe]),Ht<1&&Yt?Qe:(Yt||Be.notifyWith(j,[Ke,1,0]),Be.resolveWith(j,[Ke]),!1)},Ke=Be.promise({elem:j,props:d.extend({},U),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},te),originalProperties:U,originalOptions:te,startTime:yn||uc(),duration:te.duration,tweens:[],createTween:function(st,Qe){var wt=d.Tween(j,Ke.opts,st,Qe,Ke.opts.specialEasing[st]||Ke.opts.easing);return Ke.tweens.push(wt),wt},stop:function(st){var Qe=0,wt=st?Ke.tweens.length:0;if(he)return this;for(he=!0;Qe<wt;Qe++)Ke.tweens[Qe].run(1);return st?(Be.notifyWith(j,[Ke,1,0]),Be.resolveWith(j,[Ke,st])):Be.rejectWith(j,[Ke,st]),this}}),rt=Ke.props;for(LE(rt,Ke.opts.specialEasing);ve<Ee;ve++)if(se=Co.prefilters[ve].call(Ke,j,rt,Ke.opts),se)return _(se.stop)&&(d._queueHooks(Ke.elem,Ke.opts.queue).stop=se.stop.bind(se)),se;return d.map(rt,jg,Ke),_(Ke.opts.start)&&Ke.opts.start.call(j,Ke),Ke.progress(Ke.opts.progress).done(Ke.opts.done,Ke.opts.complete).fail(Ke.opts.fail).always(Ke.opts.always),d.fx.timer(d.extend(De,{elem:j,anim:Ke,queue:Ke.opts.queue})),Ke}d.Animation=d.extend(Co,{tweeners:{"*":[function(j,U){var te=this.createTween(j,U);return kt(te.elem,j,ke.exec(U),te),te}]},tweener:function(j,U){_(j)?(U=j,j=["*"]):j=j.match(_e);for(var te,se=0,he=j.length;se<he;se++)te=j[se],Co.tweeners[te]=Co.tweeners[te]||[],Co.tweeners[te].unshift(U)},prefilters:[ME],prefilter:function(j,U){U?Co.prefilters.unshift(j):Co.prefilters.push(j)}}),d.speed=function(j,U,te){var se=j&&typeof j=="object"?d.extend({},j):{complete:te||!te&&U||_(j)&&j,duration:j,easing:te&&U||U&&!_(U)&&U};return d.fx.off?se.duration=0:typeof se.duration!="number"&&(se.duration in d.fx.speeds?se.duration=d.fx.speeds[se.duration]:se.duration=d.fx.speeds._default),(se.queue==null||se.queue===!0)&&(se.queue="fx"),se.old=se.complete,se.complete=function(){_(se.old)&&se.old.call(this),se.queue&&d.dequeue(this,se.queue)},se},d.fn.extend({fadeTo:function(j,U,te,se){return this.filter(at).css("opacity",0).show().end().animate({opacity:U},j,te,se)},animate:function(j,U,te,se){var he=d.isEmptyObject(j),ve=d.speed(U,te,se),Ee=function(){var Be=Co(this,d.extend({},j),ve);(he||Ue.get(this,"finish"))&&Be.stop(!0)};return Ee.finish=Ee,he||ve.queue===!1?this.each(Ee):this.queue(ve.queue,Ee)},stop:function(j,U,te){var se=function(he){var ve=he.stop;delete he.stop,ve(te)};return typeof j!="string"&&(te=U,U=j,j=void 0),U&&this.queue(j||"fx",[]),this.each(function(){var he=!0,ve=j!=null&&j+"queueHooks",Ee=d.timers,Be=Ue.get(this);if(ve)Be[ve]&&Be[ve].stop&&se(Be[ve]);else for(ve in Be)Be[ve]&&Be[ve].stop&&ra.test(ve)&&se(Be[ve]);for(ve=Ee.length;ve--;)Ee[ve].elem===this&&(j==null||Ee[ve].queue===j)&&(Ee[ve].anim.stop(te),he=!1,Ee.splice(ve,1));(he||!te)&&d.dequeue(this,j)})},finish:function(j){return j!==!1&&(j=j||"fx"),this.each(function(){var U,te=Ue.get(this),se=te[j+"queue"],he=te[j+"queueHooks"],ve=d.timers,Ee=se?se.length:0;for(te.finish=!0,d.queue(this,j,[]),he&&he.stop&&he.stop.call(this,!0),U=ve.length;U--;)ve[U].elem===this&&ve[U].queue===j&&(ve[U].anim.stop(!0),ve.splice(U,1));for(U=0;U<Ee;U++)se[U]&&se[U].finish&&se[U].finish.call(this);delete te.finish})}}),d.each(["toggle","show","hide"],function(j,U){var te=d.fn[U];d.fn[U]=function(se,he,ve){return se==null||typeof se=="boolean"?te.apply(this,arguments):this.animate(Zs(U,!0),se,he,ve)}}),d.each({slideDown:Zs("show"),slideUp:Zs("hide"),slideToggle:Zs("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(j,U){d.fn[j]=function(te,se,he){return this.animate(U,te,se,he)}}),d.timers=[],d.fx.tick=function(){var j,U=0,te=d.timers;for(yn=Date.now();U<te.length;U++)j=te[U],!j()&&te[U]===j&&te.splice(U--,1);te.length||d.fx.stop(),yn=void 0},d.fx.timer=function(j){d.timers.push(j),d.fx.start()},d.fx.interval=13,d.fx.start=function(){di||(di=!0,Ln())},d.fx.stop=function(){di=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(j,U){return j=d.fx&&d.fx.speeds[j]||j,U=U||"fx",this.queue(U,function(te,se){var he=t.setTimeout(te,j);se.stop=function(){t.clearTimeout(he)}})},function(){var j=p.createElement("input"),U=p.createElement("select"),te=U.appendChild(p.createElement("option"));j.type="checkbox",g.checkOn=j.value!=="",g.optSelected=te.selected,j=p.createElement("input"),j.value="t",j.type="radio",g.radioValue=j.value==="t"}();var Dg,zl=d.expr.attrHandle;d.fn.extend({attr:function(j,U){return fe(this,d.attr,j,U,arguments.length>1)},removeAttr:function(j){return this.each(function(){d.removeAttr(this,j)})}}),d.extend({attr:function(j,U,te){var se,he,ve=j.nodeType;if(!(ve===3||ve===8||ve===2)){if(typeof j.getAttribute>"u")return d.prop(j,U,te);if((ve!==1||!d.isXMLDoc(j))&&(he=d.attrHooks[U.toLowerCase()]||(d.expr.match.bool.test(U)?Dg:void 0)),te!==void 0){if(te===null){d.removeAttr(j,U);return}return he&&"set"in he&&(se=he.set(j,te,U))!==void 0?se:(j.setAttribute(U,te+""),te)}return he&&"get"in he&&(se=he.get(j,U))!==null?se:(se=d.find.attr(j,U),se??void 0)}},attrHooks:{type:{set:function(j,U){if(!g.radioValue&&U==="radio"&&P(j,"input")){var te=j.value;return j.setAttribute("type",U),te&&(j.value=te),U}}}},removeAttr:function(j,U){var te,se=0,he=U&&U.match(_e);if(he&&j.nodeType===1)for(;te=he[se++];)j.removeAttribute(te)}}),Dg={set:function(j,U,te){return U===!1?d.removeAttr(j,te):j.setAttribute(te,te),te}},d.each(d.expr.match.bool.source.match(/\w+/g),function(j,U){var te=zl[U]||d.find.attr;zl[U]=function(se,he,ve){var Ee,Be,De=he.toLowerCase();return ve||(Be=zl[De],zl[De]=Ee,Ee=te(se,he,ve)!=null?De:null,zl[De]=Be),Ee}});var ms=/^(?:input|select|textarea|button)$/i,Mg=/^(?:a|area)$/i;d.fn.extend({prop:function(j,U){return fe(this,d.prop,j,U,arguments.length>1)},removeProp:function(j){return this.each(function(){delete this[d.propFix[j]||j]})}}),d.extend({prop:function(j,U,te){var se,he,ve=j.nodeType;if(!(ve===3||ve===8||ve===2))return(ve!==1||!d.isXMLDoc(j))&&(U=d.propFix[U]||U,he=d.propHooks[U]),te!==void 0?he&&"set"in he&&(se=he.set(j,te,U))!==void 0?se:j[U]=te:he&&"get"in he&&(se=he.get(j,U))!==null?se:j[U]},propHooks:{tabIndex:{get:function(j){var U=d.find.attr(j,"tabindex");return U?parseInt(U,10):ms.test(j.nodeName)||Mg.test(j.nodeName)&&j.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(d.propHooks.selected={get:function(j){var U=j.parentNode;return U&&U.parentNode&&U.parentNode.selectedIndex,null},set:function(j){var U=j.parentNode;U&&(U.selectedIndex,U.parentNode&&U.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function gs(j){var U=j.match(_e)||[];return U.join(" ")}function ao(j){return j.getAttribute&&j.getAttribute("class")||""}function vs(j){return Array.isArray(j)?j:typeof j=="string"?j.match(_e)||[]:[]}d.fn.extend({addClass:function(j){var U,te,se,he,ve,Ee;return _(j)?this.each(function(Be){d(this).addClass(j.call(this,Be,ao(this)))}):(U=vs(j),U.length?this.each(function(){if(se=ao(this),te=this.nodeType===1&&" "+gs(se)+" ",te){for(ve=0;ve<U.length;ve++)he=U[ve],te.indexOf(" "+he+" ")<0&&(te+=he+" ");Ee=gs(te),se!==Ee&&this.setAttribute("class",Ee)}}):this)},removeClass:function(j){var U,te,se,he,ve,Ee;return _(j)?this.each(function(Be){d(this).removeClass(j.call(this,Be,ao(this)))}):arguments.length?(U=vs(j),U.length?this.each(function(){if(se=ao(this),te=this.nodeType===1&&" "+gs(se)+" ",te){for(ve=0;ve<U.length;ve++)for(he=U[ve];te.indexOf(" "+he+" ")>-1;)te=te.replace(" "+he+" "," ");Ee=gs(te),se!==Ee&&this.setAttribute("class",Ee)}}):this):this.attr("class","")},toggleClass:function(j,U){var te,se,he,ve,Ee=typeof j,Be=Ee==="string"||Array.isArray(j);return _(j)?this.each(function(De){d(this).toggleClass(j.call(this,De,ao(this),U),U)}):typeof U=="boolean"&&Be?U?this.addClass(j):this.removeClass(j):(te=vs(j),this.each(function(){if(Be)for(ve=d(this),he=0;he<te.length;he++)se=te[he],ve.hasClass(se)?ve.removeClass(se):ve.addClass(se);else(j===void 0||Ee==="boolean")&&(se=ao(this),se&&Ue.set(this,"__className__",se),this.setAttribute&&this.setAttribute("class",se||j===!1?"":Ue.get(this,"__className__")||""))}))},hasClass:function(j){var U,te,se=0;for(U=" "+j+" ";te=this[se++];)if(te.nodeType===1&&(" "+gs(ao(te))+" ").indexOf(U)>-1)return!0;return!1}});var Bf=/\r/g;d.fn.extend({val:function(j){var U,te,se,he=this[0];return arguments.length?(se=_(j),this.each(function(ve){var Ee;this.nodeType===1&&(se?Ee=j.call(this,ve,d(this).val()):Ee=j,Ee==null?Ee="":typeof Ee=="number"?Ee+="":Array.isArray(Ee)&&(Ee=d.map(Ee,function(Be){return Be==null?"":Be+""})),U=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!U||!("set"in U)||U.set(this,Ee,"value")===void 0)&&(this.value=Ee))})):he?(U=d.valHooks[he.type]||d.valHooks[he.nodeName.toLowerCase()],U&&"get"in U&&(te=U.get(he,"value"))!==void 0?te:(te=he.value,typeof te=="string"?te.replace(Bf,""):te??"")):void 0}}),d.extend({valHooks:{option:{get:function(j){var U=d.find.attr(j,"value");return U??gs(d.text(j))}},select:{get:function(j){var U,te,se,he=j.options,ve=j.selectedIndex,Ee=j.type==="select-one",Be=Ee?null:[],De=Ee?ve+1:he.length;for(ve<0?se=De:se=Ee?ve:0;se<De;se++)if(te=he[se],(te.selected||se===ve)&&!te.disabled&&(!te.parentNode.disabled||!P(te.parentNode,"optgroup"))){if(U=d(te).val(),Ee)return U;Be.push(U)}return Be},set:function(j,U){for(var te,se,he=j.options,ve=d.makeArray(U),Ee=he.length;Ee--;)se=he[Ee],(se.selected=d.inArray(d.valHooks.option.get(se),ve)>-1)&&(te=!0);return te||(j.selectedIndex=-1),ve}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(j,U){if(Array.isArray(U))return j.checked=d.inArray(d(j).val(),U)>-1}},g.checkOn||(d.valHooks[this].get=function(j){return j.getAttribute("value")===null?"on":j.value})});var ql=t.location,Uf={guid:Date.now()},cc=/\?/;d.parseXML=function(j){var U,te;if(!j||typeof j!="string")return null;try{U=new t.DOMParser().parseFromString(j,"text/xml")}catch{}return te=U&&U.getElementsByTagName("parsererror")[0],(!U||te)&&d.error("Invalid XML: "+(te?d.map(te.childNodes,function(se){return se.textContent}).join(`
`):j)),U};var zf=/^(?:focusinfocus|focusoutblur)$/,ko=function(j){j.stopPropagation()};d.extend(d.event,{trigger:function(j,U,te,se){var he,ve,Ee,Be,De,Ke,rt,st,Qe=[te||p],wt=c.call(j,"type")?j.type:j,Ht=c.call(j,"namespace")?j.namespace.split("."):[];if(ve=st=Ee=te=te||p,!(te.nodeType===3||te.nodeType===8)&&!zf.test(wt+d.event.triggered)&&(wt.indexOf(".")>-1&&(Ht=wt.split("."),wt=Ht.shift(),Ht.sort()),De=wt.indexOf(":")<0&&"on"+wt,j=j[d.expando]?j:new d.Event(wt,typeof j=="object"&&j),j.isTrigger=se?2:3,j.namespace=Ht.join("."),j.rnamespace=j.namespace?new RegExp("(^|\\.)"+Ht.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,j.result=void 0,j.target||(j.target=te),U=U==null?[j]:d.makeArray(U,[j]),rt=d.event.special[wt]||{},!(!se&&rt.trigger&&rt.trigger.apply(te,U)===!1))){if(!se&&!rt.noBubble&&!v(te)){for(Be=rt.delegateType||wt,zf.test(Be+wt)||(ve=ve.parentNode);ve;ve=ve.parentNode)Qe.push(ve),Ee=ve;Ee===(te.ownerDocument||p)&&Qe.push(Ee.defaultView||Ee.parentWindow||t)}for(he=0;(ve=Qe[he++])&&!j.isPropagationStopped();)st=ve,j.type=he>1?Be:rt.bindType||wt,Ke=(Ue.get(ve,"events")||Object.create(null))[j.type]&&Ue.get(ve,"handle"),Ke&&Ke.apply(ve,U),Ke=De&&ve[De],Ke&&Ke.apply&&tt(ve)&&(j.result=Ke.apply(ve,U),j.result===!1&&j.preventDefault());return j.type=wt,!se&&!j.isDefaultPrevented()&&(!rt._default||rt._default.apply(Qe.pop(),U)===!1)&&tt(te)&&De&&_(te[wt])&&!v(te)&&(Ee=te[De],Ee&&(te[De]=null),d.event.triggered=wt,j.isPropagationStopped()&&st.addEventListener(wt,ko),te[wt](),j.isPropagationStopped()&&st.removeEventListener(wt,ko),d.event.triggered=void 0,Ee&&(te[De]=Ee)),j.result}},simulate:function(j,U,te){var se=d.extend(new d.Event,te,{type:j,isSimulated:!0});d.event.trigger(se,null,U)}}),d.fn.extend({trigger:function(j,U){return this.each(function(){d.event.trigger(j,U,this)})},triggerHandler:function(j,U){var te=this[0];if(te)return d.event.trigger(j,U,te,!0)}});var qf=/\[\]$/,Vf=/\r?\n/g,Da=/^(?:submit|button|image|reset|file)$/i,el=/^(?:input|select|textarea|keygen)/i;function Hf(j,U,te,se){var he;if(Array.isArray(U))d.each(U,function(ve,Ee){te||qf.test(j)?se(j,Ee):Hf(j+"["+(typeof Ee=="object"&&Ee!=null?ve:"")+"]",Ee,te,se)});else if(!te&&S(U)==="object")for(he in U)Hf(j+"["+he+"]",U[he],te,se);else se(j,U)}d.param=function(j,U){var te,se=[],he=function(ve,Ee){var Be=_(Ee)?Ee():Ee;se[se.length]=encodeURIComponent(ve)+"="+encodeURIComponent(Be??"")};if(j==null)return"";if(Array.isArray(j)||j.jquery&&!d.isPlainObject(j))d.each(j,function(){he(this.name,this.value)});else for(te in j)Hf(te,j[te],U,he);return se.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var j=d.prop(this,"elements");return j?d.makeArray(j):this}).filter(function(){var j=this.type;return this.name&&!d(this).is(":disabled")&&el.test(this.nodeName)&&!Da.test(j)&&(this.checked||!hr.test(j))}).map(function(j,U){var te=d(this).val();return te==null?null:Array.isArray(te)?d.map(te,function(se){return{name:U.name,value:se.replace(Vf,`\r
`)}}):{name:U.name,value:te.replace(Vf,`\r
`)}}).get()}});var FE=/%20/g,Lg=/#.*$/,Fg=/([?&])_=[^&]*/,Bg=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ug=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vl=/^(?:GET|HEAD)$/,zh=/^\/\//,qh={},Hl={},Vh="*/".concat("*"),Gl=p.createElement("a");Gl.href=ql.href;function Wl(j){return function(U,te){typeof U!="string"&&(te=U,U="*");var se,he=0,ve=U.toLowerCase().match(_e)||[];if(_(te))for(;se=ve[he++];)se[0]==="+"?(se=se.slice(1)||"*",(j[se]=j[se]||[]).unshift(te)):(j[se]=j[se]||[]).push(te)}}function Gf(j,U,te,se){var he={},ve=j===Hl;function Ee(Be){var De;return he[Be]=!0,d.each(j[Be]||[],function(Ke,rt){var st=rt(U,te,se);if(typeof st=="string"&&!ve&&!he[st])return U.dataTypes.unshift(st),Ee(st),!1;if(ve)return!(De=st)}),De}return Ee(U.dataTypes[0])||!he["*"]&&Ee("*")}function Wf(j,U){var te,se,he=d.ajaxSettings.flatOptions||{};for(te in U)U[te]!==void 0&&((he[te]?j:se||(se={}))[te]=U[te]);return se&&d.extend(!0,j,se),j}function Kf(j,U,te){for(var se,he,ve,Ee,Be=j.contents,De=j.dataTypes;De[0]==="*";)De.shift(),se===void 0&&(se=j.mimeType||U.getResponseHeader("Content-Type"));if(se){for(he in Be)if(Be[he]&&Be[he].test(se)){De.unshift(he);break}}if(De[0]in te)ve=De[0];else{for(he in te){if(!De[0]||j.converters[he+" "+De[0]]){ve=he;break}Ee||(Ee=he)}ve=ve||Ee}if(ve)return ve!==De[0]&&De.unshift(ve),te[ve]}function Hh(j,U,te,se){var he,ve,Ee,Be,De,Ke={},rt=j.dataTypes.slice();if(rt[1])for(Ee in j.converters)Ke[Ee.toLowerCase()]=j.converters[Ee];for(ve=rt.shift();ve;)if(j.responseFields[ve]&&(te[j.responseFields[ve]]=U),!De&&se&&j.dataFilter&&(U=j.dataFilter(U,j.dataType)),De=ve,ve=rt.shift(),ve){if(ve==="*")ve=De;else if(De!=="*"&&De!==ve){if(Ee=Ke[De+" "+ve]||Ke["* "+ve],!Ee){for(he in Ke)if(Be=he.split(" "),Be[1]===ve&&(Ee=Ke[De+" "+Be[0]]||Ke["* "+Be[0]],Ee)){Ee===!0?Ee=Ke[he]:Ke[he]!==!0&&(ve=Be[0],rt.unshift(Be[1]));break}}if(Ee!==!0)if(Ee&&j.throws)U=Ee(U);else try{U=Ee(U)}catch(st){return{state:"parsererror",error:Ee?st:"No conversion from "+De+" to "+ve}}}}return{state:"success",data:U}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ql.href,type:"GET",isLocal:Ug.test(ql.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vh,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(j,U){return U?Wf(Wf(j,d.ajaxSettings),U):Wf(d.ajaxSettings,j)},ajaxPrefilter:Wl(qh),ajaxTransport:Wl(Hl),ajax:function(j,U){typeof j=="object"&&(U=j,j=void 0),U=U||{};var te,se,he,ve,Ee,Be,De,Ke,rt,st,Qe=d.ajaxSetup({},U),wt=Qe.context||Qe,Ht=Qe.context&&(wt.nodeType||wt.jquery)?d(wt):d.event,pr=d.Deferred(),Yt=d.Callbacks("once memory"),Vn=Qe.statusCode||{},wn={},na={},ia="canceled",mr={readyState:0,getResponseHeader:function($r){var bn;if(De){if(!ve)for(ve={};bn=Bg.exec(he);)ve[bn[1].toLowerCase()+" "]=(ve[bn[1].toLowerCase()+" "]||[]).concat(bn[2]);bn=ve[$r.toLowerCase()+" "]}return bn==null?null:bn.join(", ")},getAllResponseHeaders:function(){return De?he:null},setRequestHeader:function($r,bn){return De==null&&($r=na[$r.toLowerCase()]=na[$r.toLowerCase()]||$r,wn[$r]=bn),this},overrideMimeType:function($r){return De==null&&(Qe.mimeType=$r),this},statusCode:function($r){var bn;if($r)if(De)mr.always($r[mr.status]);else for(bn in $r)Vn[bn]=[Vn[bn],$r[bn]];return this},abort:function($r){var bn=$r||ia;return te&&te.abort(bn),rl(0,bn),this}};if(pr.promise(mr),Qe.url=((j||Qe.url||ql.href)+"").replace(zh,ql.protocol+"//"),Qe.type=U.method||U.type||Qe.method||Qe.type,Qe.dataTypes=(Qe.dataType||"*").toLowerCase().match(_e)||[""],Qe.crossDomain==null){Be=p.createElement("a");try{Be.href=Qe.url,Be.href=Be.href,Qe.crossDomain=Gl.protocol+"//"+Gl.host!=Be.protocol+"//"+Be.host}catch{Qe.crossDomain=!0}}if(Qe.data&&Qe.processData&&typeof Qe.data!="string"&&(Qe.data=d.param(Qe.data,Qe.traditional)),Gf(qh,Qe,U,mr),De)return mr;Ke=d.event&&Qe.global,Ke&&d.active++===0&&d.event.trigger("ajaxStart"),Qe.type=Qe.type.toUpperCase(),Qe.hasContent=!Vl.test(Qe.type),se=Qe.url.replace(Lg,""),Qe.hasContent?Qe.data&&Qe.processData&&(Qe.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Qe.data=Qe.data.replace(FE,"+")):(st=Qe.url.slice(se.length),Qe.data&&(Qe.processData||typeof Qe.data=="string")&&(se+=(cc.test(se)?"&":"?")+Qe.data,delete Qe.data),Qe.cache===!1&&(se=se.replace(Fg,"$1"),st=(cc.test(se)?"&":"?")+"_="+Uf.guid+++st),Qe.url=se+st),Qe.ifModified&&(d.lastModified[se]&&mr.setRequestHeader("If-Modified-Since",d.lastModified[se]),d.etag[se]&&mr.setRequestHeader("If-None-Match",d.etag[se])),(Qe.data&&Qe.hasContent&&Qe.contentType!==!1||U.contentType)&&mr.setRequestHeader("Content-Type",Qe.contentType),mr.setRequestHeader("Accept",Qe.dataTypes[0]&&Qe.accepts[Qe.dataTypes[0]]?Qe.accepts[Qe.dataTypes[0]]+(Qe.dataTypes[0]!=="*"?", "+Vh+"; q=0.01":""):Qe.accepts["*"]);for(rt in Qe.headers)mr.setRequestHeader(rt,Qe.headers[rt]);if(Qe.beforeSend&&(Qe.beforeSend.call(wt,mr,Qe)===!1||De))return mr.abort();if(ia="abort",Yt.add(Qe.complete),mr.done(Qe.success),mr.fail(Qe.error),te=Gf(Hl,Qe,U,mr),!te)rl(-1,"No Transport");else{if(mr.readyState=1,Ke&&Ht.trigger("ajaxSend",[mr,Qe]),De)return mr;Qe.async&&Qe.timeout>0&&(Ee=t.setTimeout(function(){mr.abort("timeout")},Qe.timeout));try{De=!1,te.send(wn,rl)}catch($r){if(De)throw $r;rl(-1,$r)}}function rl($r,bn,Kl,Hn){var Pi,Jl,so,hi,pi,_n=bn;De||(De=!0,Ee&&t.clearTimeout(Ee),te=void 0,he=Hn||"",mr.readyState=$r>0?4:0,Pi=$r>=200&&$r<300||$r===304,Kl&&(hi=Kf(Qe,mr,Kl)),!Pi&&d.inArray("script",Qe.dataTypes)>-1&&d.inArray("json",Qe.dataTypes)<0&&(Qe.converters["text script"]=function(){}),hi=Hh(Qe,hi,mr,Pi),Pi?(Qe.ifModified&&(pi=mr.getResponseHeader("Last-Modified"),pi&&(d.lastModified[se]=pi),pi=mr.getResponseHeader("etag"),pi&&(d.etag[se]=pi)),$r===204||Qe.type==="HEAD"?_n="nocontent":$r===304?_n="notmodified":(_n=hi.state,Jl=hi.data,so=hi.error,Pi=!so)):(so=_n,($r||!_n)&&(_n="error",$r<0&&($r=0))),mr.status=$r,mr.statusText=(bn||_n)+"",Pi?pr.resolveWith(wt,[Jl,_n,mr]):pr.rejectWith(wt,[mr,_n,so]),mr.statusCode(Vn),Vn=void 0,Ke&&Ht.trigger(Pi?"ajaxSuccess":"ajaxError",[mr,Qe,Pi?Jl:so]),Yt.fireWith(wt,[mr,_n]),Ke&&(Ht.trigger("ajaxComplete",[mr,Qe]),--d.active||d.event.trigger("ajaxStop")))}return mr},getJSON:function(j,U,te){return d.get(j,U,te,"json")},getScript:function(j,U){return d.get(j,void 0,U,"script")}}),d.each(["get","post"],function(j,U){d[U]=function(te,se,he,ve){return _(se)&&(ve=ve||he,he=se,se=void 0),d.ajax(d.extend({url:te,type:U,dataType:ve,data:se,success:he},d.isPlainObject(te)&&te))}}),d.ajaxPrefilter(function(j){var U;for(U in j.headers)U.toLowerCase()==="content-type"&&(j.contentType=j.headers[U]||"")}),d._evalUrl=function(j,U,te){return d.ajax({url:j,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(se){d.globalEval(se,U,te)}})},d.fn.extend({wrapAll:function(j){var U;return this[0]&&(_(j)&&(j=j.call(this[0])),U=d(j,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&U.insertBefore(this[0]),U.map(function(){for(var te=this;te.firstElementChild;)te=te.firstElementChild;return te}).append(this)),this},wrapInner:function(j){return _(j)?this.each(function(U){d(this).wrapInner(j.call(this,U))}):this.each(function(){var U=d(this),te=U.contents();te.length?te.wrapAll(j):U.append(j)})},wrap:function(j){var U=_(j);return this.each(function(te){d(this).wrapAll(U?j.call(this,te):j)})},unwrap:function(j){return this.parent(j).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(j){return!d.expr.pseudos.visible(j)},d.expr.pseudos.visible=function(j){return!!(j.offsetWidth||j.offsetHeight||j.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var tl={0:200,1223:204},Ma=d.ajaxSettings.xhr();g.cors=!!Ma&&"withCredentials"in Ma,g.ajax=Ma=!!Ma,d.ajaxTransport(function(j){var U,te;if(g.cors||Ma&&!j.crossDomain)return{send:function(se,he){var ve,Ee=j.xhr();if(Ee.open(j.type,j.url,j.async,j.username,j.password),j.xhrFields)for(ve in j.xhrFields)Ee[ve]=j.xhrFields[ve];j.mimeType&&Ee.overrideMimeType&&Ee.overrideMimeType(j.mimeType),!j.crossDomain&&!se["X-Requested-With"]&&(se["X-Requested-With"]="XMLHttpRequest");for(ve in se)Ee.setRequestHeader(ve,se[ve]);U=function(Be){return function(){U&&(U=te=Ee.onload=Ee.onerror=Ee.onabort=Ee.ontimeout=Ee.onreadystatechange=null,Be==="abort"?Ee.abort():Be==="error"?typeof Ee.status!="number"?he(0,"error"):he(Ee.status,Ee.statusText):he(tl[Ee.status]||Ee.status,Ee.statusText,(Ee.responseType||"text")!=="text"||typeof Ee.responseText!="string"?{binary:Ee.response}:{text:Ee.responseText},Ee.getAllResponseHeaders()))}},Ee.onload=U(),te=Ee.onerror=Ee.ontimeout=U("error"),Ee.onabort!==void 0?Ee.onabort=te:Ee.onreadystatechange=function(){Ee.readyState===4&&t.setTimeout(function(){U&&te()})},U=U("abort");try{Ee.send(j.hasContent&&j.data||null)}catch(Be){if(U)throw Be}},abort:function(){U&&U()}}}),d.ajaxPrefilter(function(j){j.crossDomain&&(j.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(j){return d.globalEval(j),j}}}),d.ajaxPrefilter("script",function(j){j.cache===void 0&&(j.cache=!1),j.crossDomain&&(j.type="GET")}),d.ajaxTransport("script",function(j){if(j.crossDomain||j.scriptAttrs){var U,te;return{send:function(se,he){U=d("<script>").attr(j.scriptAttrs||{}).prop({charset:j.scriptCharset,src:j.url}).on("load error",te=function(ve){U.remove(),te=null,ve&&he(ve.type==="error"?404:200,ve.type)}),p.head.appendChild(U[0])},abort:function(){te&&te()}}}});var fc=[],Jf=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var j=fc.pop()||d.expando+"_"+Uf.guid++;return this[j]=!0,j}}),d.ajaxPrefilter("json jsonp",function(j,U,te){var se,he,ve,Ee=j.jsonp!==!1&&(Jf.test(j.url)?"url":typeof j.data=="string"&&(j.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Jf.test(j.data)&&"data");if(Ee||j.dataTypes[0]==="jsonp")return se=j.jsonpCallback=_(j.jsonpCallback)?j.jsonpCallback():j.jsonpCallback,Ee?j[Ee]=j[Ee].replace(Jf,"$1"+se):j.jsonp!==!1&&(j.url+=(cc.test(j.url)?"&":"?")+j.jsonp+"="+se),j.converters["script json"]=function(){return ve||d.error(se+" was not called"),ve[0]},j.dataTypes[0]="json",he=t[se],t[se]=function(){ve=arguments},te.always(function(){he===void 0?d(t).removeProp(se):t[se]=he,j[se]&&(j.jsonpCallback=U.jsonpCallback,fc.push(se)),ve&&_(he)&&he(ve[0]),ve=he=void 0}),"script"}),g.createHTMLDocument=function(){var j=p.implementation.createHTMLDocument("").body;return j.innerHTML="<form></form><form></form>",j.childNodes.length===2}(),d.parseHTML=function(j,U,te){if(typeof j!="string")return[];typeof U=="boolean"&&(te=U,U=!1);var se,he,ve;return U||(g.createHTMLDocument?(U=p.implementation.createHTMLDocument(""),se=U.createElement("base"),se.href=p.location.href,U.head.appendChild(se)):U=p),he=K.exec(j),ve=!te&&[],he?[U.createElement(he[1])]:(he=dt([j],U,ve),ve&&ve.length&&d(ve).remove(),d.merge([],he.childNodes))},d.fn.load=function(j,U,te){var se,he,ve,Ee=this,Be=j.indexOf(" ");return Be>-1&&(se=gs(j.slice(Be)),j=j.slice(0,Be)),_(U)?(te=U,U=void 0):U&&typeof U=="object"&&(he="POST"),Ee.length>0&&d.ajax({url:j,type:he||"GET",dataType:"html",data:U}).done(function(De){ve=arguments,Ee.html(se?d("<div>").append(d.parseHTML(De)).find(se):De)}).always(te&&function(De,Ke){Ee.each(function(){te.apply(this,ve||[De.responseText,Ke,De])})}),this},d.expr.pseudos.animated=function(j){return d.grep(d.timers,function(U){return j===U.elem}).length},d.offset={setOffset:function(j,U,te){var se,he,ve,Ee,Be,De,Ke,rt=d.css(j,"position"),st=d(j),Qe={};rt==="static"&&(j.style.position="relative"),Be=st.offset(),ve=d.css(j,"top"),De=d.css(j,"left"),Ke=(rt==="absolute"||rt==="fixed")&&(ve+De).indexOf("auto")>-1,Ke?(se=st.position(),Ee=se.top,he=se.left):(Ee=parseFloat(ve)||0,he=parseFloat(De)||0),_(U)&&(U=U.call(j,te,d.extend({},Be))),U.top!=null&&(Qe.top=U.top-Be.top+Ee),U.left!=null&&(Qe.left=U.left-Be.left+he),"using"in U?U.using.call(j,Qe):st.css(Qe)}},d.fn.extend({offset:function(j){if(arguments.length)return j===void 0?this:this.each(function(he){d.offset.setOffset(this,j,he)});var U,te,se=this[0];if(se)return se.getClientRects().length?(U=se.getBoundingClientRect(),te=se.ownerDocument.defaultView,{top:U.top+te.pageYOffset,left:U.left+te.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var j,U,te,se=this[0],he={top:0,left:0};if(d.css(se,"position")==="fixed")U=se.getBoundingClientRect();else{for(U=this.offset(),te=se.ownerDocument,j=se.offsetParent||te.documentElement;j&&(j===te.body||j===te.documentElement)&&d.css(j,"position")==="static";)j=j.parentNode;j&&j!==se&&j.nodeType===1&&(he=d(j).offset(),he.top+=d.css(j,"borderTopWidth",!0),he.left+=d.css(j,"borderLeftWidth",!0))}return{top:U.top-he.top-d.css(se,"marginTop",!0),left:U.left-he.left-d.css(se,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var j=this.offsetParent;j&&d.css(j,"position")==="static";)j=j.offsetParent;return j||Fe})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(j,U){var te=U==="pageYOffset";d.fn[j]=function(se){return fe(this,function(he,ve,Ee){var Be;if(v(he)?Be=he:he.nodeType===9&&(Be=he.defaultView),Ee===void 0)return Be?Be[U]:he[ve];Be?Be.scrollTo(te?Be.pageXOffset:Ee,te?Ee:Be.pageYOffset):he[ve]=Ee},j,se,arguments.length)}}),d.each(["top","left"],function(j,U){d.cssHooks[U]=Gr(g.pixelPosition,function(te,se){if(se)return se=Ft(te,U),Rt.test(se)?d(te).position()[U]+"px":se})}),d.each({Height:"height",Width:"width"},function(j,U){d.each({padding:"inner"+j,content:U,"":"outer"+j},function(te,se){d.fn[se]=function(he,ve){var Ee=arguments.length&&(te||typeof he!="boolean"),Be=te||(he===!0||ve===!0?"margin":"border");return fe(this,function(De,Ke,rt){var st;return v(De)?se.indexOf("outer")===0?De["inner"+j]:De.document.documentElement["client"+j]:De.nodeType===9?(st=De.documentElement,Math.max(De.body["scroll"+j],st["scroll"+j],De.body["offset"+j],st["offset"+j],st["client"+j])):rt===void 0?d.css(De,Ke,Be):d.style(De,Ke,rt,Be)},U,Ee?he:void 0,Ee)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(j,U){d.fn[U]=function(te){return this.on(U,te)}}),d.fn.extend({bind:function(j,U,te){return this.on(j,null,U,te)},unbind:function(j,U){return this.off(j,null,U)},delegate:function(j,U,te,se){return this.on(U,j,te,se)},undelegate:function(j,U,te){return arguments.length===1?this.off(j,"**"):this.off(U,j||"**",te)},hover:function(j,U){return this.on("mouseenter",j).on("mouseleave",U||j)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(j,U){d.fn[U]=function(te,se){return arguments.length>0?this.on(U,null,te,se):this.trigger(U)}});var Gh=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(j,U){var te,se,he;if(typeof U=="string"&&(te=j[U],U=j,j=te),!!_(j))return se=o.call(arguments,2),he=function(){return j.apply(U||this,se.concat(o.call(arguments)))},he.guid=j.guid=j.guid||d.guid++,he},d.holdReady=function(j){j?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=P,d.isFunction=_,d.isWindow=v,d.camelCase=je,d.type=S,d.now=Date.now,d.isNumeric=function(j){var U=d.type(j);return(U==="number"||U==="string")&&!isNaN(j-parseFloat(j))},d.trim=function(j){return j==null?"":(j+"").replace(Gh,"$1")};var zg=t.jQuery,Yf=t.$;return d.noConflict=function(j){return t.$===d&&(t.$=Yf),j&&t.jQuery===d&&(t.jQuery=zg),d},typeof r>"u"&&(t.jQuery=t.$=d),d})})(N8);var C8=N8.exports;const Dr=Pf(C8);(function(e){(function(t){var r=typeof self=="object"&&self.self===self&&self||typeof $a=="object"&&$a.global===$a&&$a;{var n=cie,i;try{i=C8}catch{}t(r,e,n,i)}})(function(t,r,n,i){var o=t.Backbone,a=Array.prototype.slice;r.VERSION="1.4.1",r.$=i,r.noConflict=function(){return t.Backbone=o,this},r.emulateHTTP=!1,r.emulateJSON=!1;var s=r.Events={},l=/\s+/,u,f=function(N,H,re,le,fe){var me=0,Re;if(re&&typeof re=="object")for(le!==void 0&&("context"in fe)&&fe.context===void 0&&(fe.context=le),Re=n.keys(re);me<Re.length;me++)H=f(N,H,Re[me],re[Re[me]],fe);else if(re&&l.test(re))for(Re=re.split(l);me<Re.length;me++)H=N(H,Re[me],le,fe);else H=N(H,re,le,fe);return H};s.on=function(N,H,re){if(this._events=f(c,this._events||{},N,H,{context:re,ctx:this,listening:u}),u){var le=this._listeners||(this._listeners={});le[u.id]=u,u.interop=!1}return this},s.listenTo=function(N,H,re){if(!N)return this;var le=N._listenId||(N._listenId=n.uniqueId("l")),fe=this._listeningTo||(this._listeningTo={}),me=u=fe[le];me||(this._listenId||(this._listenId=n.uniqueId("l")),me=u=fe[le]=new p(this,N));var Re=h(N,H,re,this);if(u=void 0,Re)throw Re;return me.interop&&me.on(H,re),this};var c=function(N,H,re,le){if(re){var fe=N[H]||(N[H]=[]),me=le.context,Re=le.ctx,Le=le.listening;Le&&Le.count++,fe.push({callback:re,context:me,ctx:me||Re,listening:Le})}return N},h=function(N,H,re,le){try{N.on(H,re,le)}catch(fe){return fe}};s.off=function(N,H,re){return this._events?(this._events=f(m,this._events,N,H,{context:re,listeners:this._listeners}),this):this},s.stopListening=function(N,H,re){var le=this._listeningTo;if(!le)return this;for(var fe=N?[N._listenId]:n.keys(le),me=0;me<fe.length;me++){var Re=le[fe[me]];if(!Re)break;Re.obj.off(H,re,this),Re.interop&&Re.off(H,re)}return n.isEmpty(le)&&(this._listeningTo=void 0),this};var m=function(N,H,re,le){if(N){var fe=le.context,me=le.listeners,Re=0,Le;if(!H&&!fe&&!re){for(Le=n.keys(me);Re<Le.length;Re++)me[Le[Re]].cleanup();return}for(Le=H?[H]:n.keys(N);Re<Le.length;Re++){H=Le[Re];var je=N[H];if(!je)break;for(var tt=[],Ge=0;Ge<je.length;Ge++){var Ue=je[Ge];if(re&&re!==Ue.callback&&re!==Ue.callback._callback||fe&&fe!==Ue.context)tt.push(Ue);else{var W=Ue.listening;W&&W.off(H,re)}}tt.length?N[H]=tt:delete N[H]}return N}};s.once=function(N,H,re){var le=f(g,{},N,H,this.off.bind(this));return typeof N=="string"&&re==null&&(H=void 0),this.on(le,H,re)},s.listenToOnce=function(N,H,re){var le=f(g,{},H,re,this.stopListening.bind(this,N));return this.listenTo(N,le)};var g=function(N,H,re,le){if(re){var fe=N[H]=n.once(function(){le(H,fe),re.apply(this,arguments)});fe._callback=re}return N};s.trigger=function(N){if(!this._events)return this;for(var H=Math.max(0,arguments.length-1),re=Array(H),le=0;le<H;le++)re[le]=arguments[le+1];return f(_,this._events,N,void 0,re),this};var _=function(N,H,re,le){if(N){var fe=N[H],me=N.all;fe&&me&&(me=me.slice()),fe&&v(fe,le),me&&v(me,[H].concat(le))}return N},v=function(N,H){var re,le=-1,fe=N.length,me=H[0],Re=H[1],Le=H[2];switch(H.length){case 0:for(;++le<fe;)(re=N[le]).callback.call(re.ctx);return;case 1:for(;++le<fe;)(re=N[le]).callback.call(re.ctx,me);return;case 2:for(;++le<fe;)(re=N[le]).callback.call(re.ctx,me,Re);return;case 3:for(;++le<fe;)(re=N[le]).callback.call(re.ctx,me,Re,Le);return;default:for(;++le<fe;)(re=N[le]).callback.apply(re.ctx,H);return}},p=function(N,H){this.id=N._listenId,this.listener=N,this.obj=H,this.interop=!0,this.count=0,this._events=void 0};p.prototype.on=s.on,p.prototype.off=function(N,H){var re;this.interop?(this._events=f(m,this._events,N,H,{context:void 0,listeners:void 0}),re=!this._events):(this.count--,re=this.count===0),re&&this.cleanup()},p.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,n.extend(r,s);var E=r.Model=function(N,H){var re=N||{};H||(H={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},H.collection&&(this.collection=H.collection),H.parse&&(re=this.parse(re,H)||{});var le=n.result(this,"defaults");re=n.defaults(n.extend({},le,re),le),this.set(re,H),this.changed={},this.initialize.apply(this,arguments)};n.extend(E.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(N){return n.clone(this.attributes)},sync:function(){return r.sync.apply(this,arguments)},get:function(N){return this.attributes[N]},escape:function(N){return n.escape(this.get(N))},has:function(N){return this.get(N)!=null},matches:function(N){return!!n.iteratee(N,this)(this.attributes)},set:function(N,H,re){if(N==null)return this;var le;if(typeof N=="object"?(le=N,re=H):(le={})[N]=H,re||(re={}),!this._validate(le,re))return!1;var fe=re.unset,me=re.silent,Re=[],Le=this._changing;this._changing=!0,Le||(this._previousAttributes=n.clone(this.attributes),this.changed={});var je=this.attributes,tt=this.changed,Ge=this._previousAttributes;for(var Ue in le)H=le[Ue],n.isEqual(je[Ue],H)||Re.push(Ue),n.isEqual(Ge[Ue],H)?delete tt[Ue]:tt[Ue]=H,fe?delete je[Ue]:je[Ue]=H;if(this.idAttribute in le){var W=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,W,re)}if(!me){Re.length&&(this._pending=re);for(var C=0;C<Re.length;C++)this.trigger("change:"+Re[C],this,je[Re[C]],re)}if(Le)return this;if(!me)for(;this._pending;)re=this._pending,this._pending=!1,this.trigger("change",this,re);return this._pending=!1,this._changing=!1,this},unset:function(N,H){return this.set(N,void 0,n.extend({},H,{unset:!0}))},clear:function(N){var H={};for(var re in this.attributes)H[re]=void 0;return this.set(H,n.extend({},N,{unset:!0}))},hasChanged:function(N){return N==null?!n.isEmpty(this.changed):n.has(this.changed,N)},changedAttributes:function(N){if(!N)return this.hasChanged()?n.clone(this.changed):!1;var H=this._changing?this._previousAttributes:this.attributes,re={},le;for(var fe in N){var me=N[fe];n.isEqual(H[fe],me)||(re[fe]=me,le=!0)}return le?re:!1},previous:function(N){return N==null||!this._previousAttributes?null:this._previousAttributes[N]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(N){N=n.extend({parse:!0},N);var H=this,re=N.success;return N.success=function(le){var fe=N.parse?H.parse(le,N):le;if(!H.set(fe,N))return!1;re&&re.call(N.context,H,le,N),H.trigger("sync",H,le,N)},I(this,N),this.sync("read",this,N)},save:function(N,H,re){var le;N==null||typeof N=="object"?(le=N,re=H):(le={})[N]=H,re=n.extend({validate:!0,parse:!0},re);var fe=re.wait;if(le&&!fe){if(!this.set(le,re))return!1}else if(!this._validate(le,re))return!1;var me=this,Re=re.success,Le=this.attributes;re.success=function(Ge){me.attributes=Le;var Ue=re.parse?me.parse(Ge,re):Ge;if(fe&&(Ue=n.extend({},le,Ue)),Ue&&!me.set(Ue,re))return!1;Re&&Re.call(re.context,me,Ge,re),me.trigger("sync",me,Ge,re)},I(this,re),le&&fe&&(this.attributes=n.extend({},Le,le));var je=this.isNew()?"create":re.patch?"patch":"update";je==="patch"&&!re.attrs&&(re.attrs=le);var tt=this.sync(je,this,re);return this.attributes=Le,tt},destroy:function(N){N=N?n.clone(N):{};var H=this,re=N.success,le=N.wait,fe=function(){H.stopListening(),H.trigger("destroy",H,H.collection,N)};N.success=function(Re){le&&fe(),re&&re.call(N.context,H,Re,N),H.isNew()||H.trigger("sync",H,Re,N)};var me=!1;return this.isNew()?n.defer(N.success):(I(this,N),me=this.sync("delete",this,N)),le||fe(),me},url:function(){var N=n.result(this,"urlRoot")||n.result(this.collection,"url")||R();if(this.isNew())return N;var H=this.get(this.idAttribute);return N.replace(/[^\/]$/,"$&/")+encodeURIComponent(H)},parse:function(N,H){return N},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(N){return this._validate({},n.extend({},N,{validate:!0}))},_validate:function(N,H){if(!H.validate||!this.validate)return!0;N=n.extend({},this.attributes,N);var re=this.validationError=this.validate(N,H)||null;return re?(this.trigger("invalid",this,re,n.extend(H,{validationError:re})),!1):!0}});var y=r.Collection=function(N,H){H||(H={}),this.preinitialize.apply(this,arguments),H.model&&(this.model=H.model),H.comparator!==void 0&&(this.comparator=H.comparator),this._reset(),this.initialize.apply(this,arguments),N&&this.reset(N,n.extend({silent:!0},H))},S={add:!0,remove:!0,merge:!0},$={add:!0,remove:!1},T=function(N,H,re){re=Math.min(Math.max(re,0),N.length);var le=Array(N.length-re),fe=H.length,me;for(me=0;me<le.length;me++)le[me]=N[me+re];for(me=0;me<fe;me++)N[me+re]=H[me];for(me=0;me<le.length;me++)N[me+fe+re]=le[me]};n.extend(y.prototype,s,{model:E,preinitialize:function(){},initialize:function(){},toJSON:function(N){return this.map(function(H){return H.toJSON(N)})},sync:function(){return r.sync.apply(this,arguments)},add:function(N,H){return this.set(N,n.extend({merge:!1},H,$))},remove:function(N,H){H=n.extend({},H);var re=!n.isArray(N);N=re?[N]:N.slice();var le=this._removeModels(N,H);return!H.silent&&le.length&&(H.changes={added:[],merged:[],removed:le},this.trigger("update",this,H)),re?le[0]:le},set:function(N,H){if(N!=null){H=n.extend({},S,H),H.parse&&!this._isModel(N)&&(N=this.parse(N,H)||[]);var re=!n.isArray(N);N=re?[N]:N.slice();var le=H.at;le!=null&&(le=+le),le>this.length&&(le=this.length),le<0&&(le+=this.length+1);var fe=[],me=[],Re=[],Le=[],je={},tt=H.add,Ge=H.merge,Ue=H.remove,W=!1,C=this.comparator&&le==null&&H.sort!==!1,L=n.isString(this.comparator)?this.comparator:null,ne,we;for(we=0;we<N.length;we++){ne=N[we];var Se=this.get(ne);if(Se){if(Ge&&ne!==Se){var ke=this._isModel(ne)?ne.attributes:ne;H.parse&&(ke=Se.parse(ke,H)),Se.set(ke,H),Re.push(Se),C&&!W&&(W=Se.hasChanged(L))}je[Se.cid]||(je[Se.cid]=!0,fe.push(Se)),N[we]=Se}else tt&&(ne=N[we]=this._prepareModel(ne,H),ne&&(me.push(ne),this._addReference(ne,H),je[ne.cid]=!0,fe.push(ne)))}if(Ue){for(we=0;we<this.length;we++)ne=this.models[we],je[ne.cid]||Le.push(ne);Le.length&&this._removeModels(Le,H)}var Ie=!1,Fe=!C&&tt&&Ue;if(fe.length&&Fe?(Ie=this.length!==fe.length||n.some(this.models,function(ft,vt){return ft!==fe[vt]}),this.models.length=0,T(this.models,fe,0),this.length=this.models.length):me.length&&(C&&(W=!0),T(this.models,me,le??this.length),this.length=this.models.length),W&&this.sort({silent:!0}),!H.silent){for(we=0;we<me.length;we++)le!=null&&(H.index=le+we),ne=me[we],ne.trigger("add",ne,this,H);(W||Ie)&&this.trigger("sort",this,H),(me.length||Le.length||Re.length)&&(H.changes={added:me,removed:Le,merged:Re},this.trigger("update",this,H))}return re?N[0]:N}},reset:function(N,H){H=H?n.clone(H):{};for(var re=0;re<this.models.length;re++)this._removeReference(this.models[re],H);return H.previousModels=this.models,this._reset(),N=this.add(N,n.extend({silent:!0},H)),H.silent||this.trigger("reset",this,H),N},push:function(N,H){return this.add(N,n.extend({at:this.length},H))},pop:function(N){var H=this.at(this.length-1);return this.remove(H,N)},unshift:function(N,H){return this.add(N,n.extend({at:0},H))},shift:function(N){var H=this.at(0);return this.remove(H,N)},slice:function(){return a.apply(this.models,arguments)},get:function(N){if(N!=null)return this._byId[N]||this._byId[this.modelId(this._isModel(N)?N.attributes:N,N.idAttribute)]||N.cid&&this._byId[N.cid]},has:function(N){return this.get(N)!=null},at:function(N){return N<0&&(N+=this.length),this.models[N]},where:function(N,H){return this[H?"find":"filter"](N)},findWhere:function(N){return this.where(N,!0)},sort:function(N){var H=this.comparator;if(!H)throw new Error("Cannot sort a set without a comparator");N||(N={});var re=H.length;return n.isFunction(H)&&(H=H.bind(this)),re===1||n.isString(H)?this.models=this.sortBy(H):this.models.sort(H),N.silent||this.trigger("sort",this,N),this},pluck:function(N){return this.map(N+"")},fetch:function(N){N=n.extend({parse:!0},N);var H=N.success,re=this;return N.success=function(le){var fe=N.reset?"reset":"set";re[fe](le,N),H&&H.call(N.context,re,le,N),re.trigger("sync",re,le,N)},I(this,N),this.sync("read",this,N)},create:function(N,H){H=H?n.clone(H):{};var re=H.wait;if(N=this._prepareModel(N,H),!N)return!1;re||this.add(N,H);var le=this,fe=H.success;return H.success=function(me,Re,Le){re&&le.add(me,Le),fe&&fe.call(Le.context,me,Re,Le)},N.save(null,H),N},parse:function(N,H){return N},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(N,H){return N[H||this.model.prototype.idAttribute||"id"]},values:function(){return new A(this,P)},keys:function(){return new A(this,x)},entries:function(){return new A(this,D)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(N,H){if(this._isModel(N))return N.collection||(N.collection=this),N;H=H?n.clone(H):{},H.collection=this;var re;return this.model.prototype?re=new this.model(N,H):re=this.model(N,H),re.validationError?(this.trigger("invalid",this,re.validationError,H),!1):re},_removeModels:function(N,H){for(var re=[],le=0;le<N.length;le++){var fe=this.get(N[le]);if(fe){var me=this.indexOf(fe);this.models.splice(me,1),this.length--,delete this._byId[fe.cid];var Re=this.modelId(fe.attributes,fe.idAttribute);Re!=null&&delete this._byId[Re],H.silent||(H.index=me,fe.trigger("remove",fe,this,H)),re.push(fe),this._removeReference(fe,H)}}return re},_isModel:function(N){return N instanceof E},_addReference:function(N,H){this._byId[N.cid]=N;var re=this.modelId(N.attributes,N.idAttribute);re!=null&&(this._byId[re]=N),N.on("all",this._onModelEvent,this)},_removeReference:function(N,H){delete this._byId[N.cid];var re=this.modelId(N.attributes,N.idAttribute);re!=null&&delete this._byId[re],this===N.collection&&delete N.collection,N.off("all",this._onModelEvent,this)},_onModelEvent:function(N,H,re,le){if(H){if((N==="add"||N==="remove")&&re!==this)return;if(N==="destroy"&&this.remove(H,le),N==="changeId"){var fe=this.modelId(H.previousAttributes(),H.idAttribute),me=this.modelId(H.attributes,H.idAttribute);fe!=null&&delete this._byId[fe],me!=null&&(this._byId[me]=H)}}this.trigger.apply(this,arguments)}});var d=typeof Symbol=="function"&&Symbol.iterator;d&&(y.prototype[d]=y.prototype.values);var A=function(N,H){this._collection=N,this._kind=H,this._index=0},P=1,x=2,D=3;d&&(A.prototype[d]=function(){return this}),A.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var N=this._collection.at(this._index);this._index++;var H;if(this._kind===P)H=N;else{var re=this._collection.modelId(N.attributes,N.idAttribute);this._kind===x?H=re:H=[re,N]}return{value:H,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var F=r.View=function(N){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(N,X)),this._ensureElement(),this.initialize.apply(this,arguments)},V=/^(\S+)\s*(.*)$/,X=["model","collection","el","id","attributes","className","tagName","events"];n.extend(F.prototype,s,{tagName:"div",$:function(N){return this.$el.find(N)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(N){return this.undelegateEvents(),this._setElement(N),this.delegateEvents(),this},_setElement:function(N){this.$el=N instanceof r.$?N:r.$(N),this.el=this.$el[0]},delegateEvents:function(N){if(N||(N=n.result(this,"events")),!N)return this;this.undelegateEvents();for(var H in N){var re=N[H];if(n.isFunction(re)||(re=this[re]),!!re){var le=H.match(V);this.delegate(le[1],le[2],re.bind(this))}}return this},delegate:function(N,H,re){return this.$el.on(N+".delegateEvents"+this.cid,H,re),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(N,H,re){return this.$el.off(N+".delegateEvents"+this.cid,H,re),this},_createElement:function(N){return document.createElement(N)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var N=n.extend({},n.result(this,"attributes"));this.id&&(N.id=n.result(this,"id")),this.className&&(N.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(N)}},_setAttributes:function(N){this.$el.attr(N)}});var G=function(N,H,re,le){switch(H){case 1:return function(){return N[re](this[le])};case 2:return function(fe){return N[re](this[le],fe)};case 3:return function(fe,me){return N[re](this[le],ce(fe,this),me)};case 4:return function(fe,me,Re){return N[re](this[le],ce(fe,this),me,Re)};default:return function(){var fe=a.call(arguments);return fe.unshift(this[le]),N[re].apply(N,fe)}}},Q=function(N,H,re,le){n.each(re,function(fe,me){H[me]&&(N.prototype[me]=G(H,fe,me,le))})},ce=function(N,H){return n.isFunction(N)?N:n.isObject(N)&&!H._isModel(N)?ee(N):n.isString(N)?function(re){return re.get(N)}:N},ee=function(N){var H=n.matches(N);return function(re){return H(re.attributes)}},ae={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},M={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[y,ae,"models"],[E,M,"attributes"]],function(N){var H=N[0],re=N[1],le=N[2];H.mixin=function(fe){var me=n.reduce(n.functions(fe),function(Re,Le){return Re[Le]=0,Re},{});Q(H,fe,me,le)},Q(H,n,re,le)}),r.sync=function(N,H,re){var le=B[N];n.defaults(re||(re={}),{emulateHTTP:r.emulateHTTP,emulateJSON:r.emulateJSON});var fe={type:le,dataType:"json"};if(re.url||(fe.url=n.result(H,"url")||R()),re.data==null&&H&&(N==="create"||N==="update"||N==="patch")&&(fe.contentType="application/json",fe.data=JSON.stringify(re.attrs||H.toJSON(re))),re.emulateJSON&&(fe.contentType="application/x-www-form-urlencoded",fe.data=fe.data?{model:fe.data}:{}),re.emulateHTTP&&(le==="PUT"||le==="DELETE"||le==="PATCH")){fe.type="POST",re.emulateJSON&&(fe.data._method=le);var me=re.beforeSend;re.beforeSend=function(je){if(je.setRequestHeader("X-HTTP-Method-Override",le),me)return me.apply(this,arguments)}}fe.type!=="GET"&&!re.emulateJSON&&(fe.processData=!1);var Re=re.error;re.error=function(je,tt,Ge){re.textStatus=tt,re.errorThrown=Ge,Re&&Re.call(re.context,je,tt,Ge)};var Le=re.xhr=r.ajax(n.extend(fe,re));return H.trigger("request",H,Le,re),Le};var B={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};r.ajax=function(){return r.$.ajax.apply(r.$,arguments)};var K=r.Router=function(N){N||(N={}),this.preinitialize.apply(this,arguments),N.routes&&(this.routes=N.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,q=/\*\w+/g,ie=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(K.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(N,H,re){n.isRegExp(N)||(N=this._routeToRegExp(N)),n.isFunction(H)&&(re=H,H=""),re||(re=this[H]);var le=this;return r.history.route(N,function(fe){var me=le._extractParameters(N,fe);le.execute(re,me,H)!==!1&&(le.trigger.apply(le,["route:"+H].concat(me)),le.trigger("route",H,me),r.history.trigger("route",le,H,me))}),this},execute:function(N,H,re){N&&N.apply(this,H)},navigate:function(N,H){return r.history.navigate(N,H),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var N,H=n.keys(this.routes);(N=H.pop())!=null;)this.route(N,this.routes[N])}},_routeToRegExp:function(N){return N=N.replace(ie,"\\$&").replace(O,"(?:$1)?").replace(k,function(H,re){return re?H:"([^/?]+)"}).replace(q,"([^?]*?)"),new RegExp("^"+N+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(N,H){var re=N.exec(H).slice(1);return n.map(re,function(le,fe){return fe===re.length-1?le||null:le?decodeURIComponent(le):null})}});var J=r.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Y=/^[#\/]|\s+$/g,oe=/^\/+|\/+$/g,_e=/#.*$/;J.started=!1,n.extend(J.prototype,s,{interval:50,atRoot:function(){var N=this.location.pathname.replace(/[^\/]$/,"$&/");return N===this.root&&!this.getSearch()},matchRoot:function(){var N=this.decodeFragment(this.location.pathname),H=N.slice(0,this.root.length-1)+"/";return H===this.root},decodeFragment:function(N){return decodeURI(N.replace(/%25/g,"%2525"))},getSearch:function(){var N=this.location.href.replace(/#.*/,"").match(/\?.+/);return N?N[0]:""},getHash:function(N){var H=(N||this).location.href.match(/#(.*)$/);return H?H[1]:""},getPath:function(){var N=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return N.charAt(0)==="/"?N.slice(1):N},getFragment:function(N){return N==null&&(this._usePushState||!this._wantsHashChange?N=this.getPath():N=this.getHash()),N.replace(Y,"")},start:function(N){if(J.started)throw new Error("Backbone.history has already been started");if(J.started=!0,this.options=n.extend({root:"/"},this.options,N),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(oe,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var H=this.root.slice(0,-1)||"/";return this.location.replace(H+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var re=document.body,le=re.insertBefore(this.iframe,re.firstChild).contentWindow;le.document.open(),le.document.close(),le.location.hash="#"+this.fragment}var fe=window.addEventListener||function(me,Re){return attachEvent("on"+me,Re)};if(this._usePushState?fe("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?fe("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var N=window.removeEventListener||function(H,re){return detachEvent("on"+H,re)};this._usePushState?N("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&N("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),J.started=!1},route:function(N,H){this.handlers.unshift({route:N,callback:H})},checkUrl:function(N){var H=this.getFragment();if(H===this.fragment&&this.iframe&&(H=this.getHash(this.iframe.contentWindow)),H===this.fragment)return!1;this.iframe&&this.navigate(H),this.loadUrl()},loadUrl:function(N){return this.matchRoot()?(N=this.fragment=this.getFragment(N),n.some(this.handlers,function(H){if(H.route.test(N))return H.callback(N),!0})):!1},navigate:function(N,H){if(!J.started)return!1;(!H||H===!0)&&(H={trigger:!!H}),N=this.getFragment(N||"");var re=this.root;(N===""||N.charAt(0)==="?")&&(re=re.slice(0,-1)||"/");var le=re+N;N=N.replace(_e,"");var fe=this.decodeFragment(N);if(this.fragment!==fe){if(this.fragment=fe,this._usePushState)this.history[H.replace?"replaceState":"pushState"]({},document.title,le);else if(this._wantsHashChange){if(this._updateHash(this.location,N,H.replace),this.iframe&&N!==this.getHash(this.iframe.contentWindow)){var me=this.iframe.contentWindow;H.replace||(me.document.open(),me.document.close()),this._updateHash(me.location,N,H.replace)}}else return this.location.assign(le);if(H.trigger)return this.loadUrl(N)}},_updateHash:function(N,H,re){if(re){var le=N.href.replace(/(javascript:|#).*$/,"");N.replace(le+"#"+H)}else N.hash="#"+H}}),r.history=new J;var ye=function(N,H){var re=this,le;return N&&n.has(N,"constructor")?le=N.constructor:le=function(){return re.apply(this,arguments)},n.extend(le,re,H),le.prototype=n.create(re.prototype,N),le.prototype.constructor=le,le.__super__=re.prototype,le};E.extend=y.extend=K.extend=F.extend=J.extend=ye;var R=function(){throw new Error('A "url" property or function must be specified')},I=function(N,H){var re=H.error;H.error=function(le){re&&re.call(H.context,N,le,H),N.trigger("error",N,le,H)}};return r})})(oV);const Di=Pf(oV),ot=function(){var e=typeof window=="object"&&!!window.SVGAngle;if(!e)return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},r="1.1",n=Math,i=n.PI,o=n.atan2,a=n.sqrt,s=n.min,l=n.max,u=n.cos,f=n.sin,c=function(d,A,P){if(!(this instanceof c))return c.apply(Object.create(c.prototype),arguments);if(d){if(c.isV(d)&&(d=d.node),A=A||{},c.isString(d)){if(d=d.trim(),d.toLowerCase()==="svg")d=c.createSvgDocument();else if(d[0]==="<"){var x=c.createSvgDocument(d);if(x.childNodes.length>1){var D=[],F,V;for(F=0,V=x.childNodes.length;F<V;F++){var X=x.childNodes[F];D.push(new c(document.importNode(X,!0)))}return D}d=document.importNode(x.firstChild,!0)}else d=document.createElementNS(t.svg,d);c.ensureId(d)}return this.node=d,this.setAttributes(A),P&&this.append(P),this}},h=c.prototype;Object.defineProperty(h,"id",{enumerable:!0,get:function(){return this.node.id},set:function(d){this.node.id=d}}),h.getTransformToElement=function(d){var A=this.node;if(c.isSVGGraphicsElement(d)&&c.isSVGGraphicsElement(A)){var P=c.toNode(d).getScreenCTM(),x=A.getScreenCTM();if(P&&x)return P.inverse().multiply(x)}return c.createSVGMatrix()},h.transform=function(d,A){var P=this.node;if(c.isUndefined(d))return c.transformStringToMatrix(this.attr("transform"));if(A&&A.absolute)return this.attr("transform",c.matrixToTransformString(d));var x=c.createSVGTransform(d);return P.transform.baseVal.appendItem(x),this},h.translate=function(d,A,P){P=P||{},A=A||0;var x=this.attr("transform")||"",D=c.parseTransformString(x);if(x=D.value,c.isUndefined(d))return D.translate;x=x.replace(/translate\([^)]*\)/g,"").trim();var F=P.absolute?d:D.translate.tx+d,V=P.absolute?A:D.translate.ty+A,X="translate("+F+","+V+")";return this.attr("transform",(X+" "+x).trim()),this},h.rotate=function(d,A,P,x){x=x||{};var D=this.attr("transform")||"",F=c.parseTransformString(D);if(D=F.value,c.isUndefined(d))return F.rotate;D=D.replace(/rotate\([^)]*\)/g,"").trim(),d%=360;var V=x.absolute?d:F.rotate.angle+d,X=A!==void 0&&P!==void 0?","+A+","+P:"",G="rotate("+V+X+")";return this.attr("transform",(D+" "+G).trim()),this},h.scale=function(d,A){A=c.isUndefined(A)?d:A;var P=this.attr("transform")||"",x=c.parseTransformString(P);if(P=x.value,c.isUndefined(d))return x.scale;P=P.replace(/scale\([^)]*\)/g,"").trim();var D="scale("+d+","+A+")";return this.attr("transform",(P+" "+D).trim()),this},h.bbox=function(d,A){var P,x=this.node,D=x.ownerSVGElement;if(!D)return new xt(0,0,0,0);try{P=x.getBBox()}catch{P={x:x.clientLeft,y:x.clientTop,width:x.clientWidth,height:x.clientHeight}}if(d)return new xt(P);var F=this.getTransformToElement(A||D);return c.transformRect(P,F)},h.getBBox=function(d){var A={},P,x=this.node,D=x.ownerSVGElement;if(!D||!c.isSVGGraphicsElement(x))return new xt(0,0,0,0);if(d&&(d.target&&(A.target=c.toNode(d.target)),d.recursive&&(A.recursive=d.recursive)),A.recursive){var V=this.children(),X=V.length;if(X===0)return this.getBBox({target:A.target,recursive:!1});A.target||(A.target=this);for(var G=0;G<X;G++){var Q=V[G],ce;Q.children().length===0?ce=Q.getBBox({target:A.target,recursive:!1}):ce=Q.getBBox({target:A.target,recursive:!0}),P?P=P.union(ce):P=ce}return P}else{try{P=x.getBBox()}catch{P={x:x.clientLeft,y:x.clientTop,width:x.clientWidth,height:x.clientHeight}}if(A.target){var F=this.getTransformToElement(A.target);return c.transformRect(P,F)}else return new xt(P)}};function m(d,A){d||(d={});var P=c("textPath"),x=d.d;if(x&&d["xlink:href"]===void 0){var D=c("path").attr("d",x).appendTo(A.defs());P.attr("xlink:href","#"+D.id)}return c.isObject(d)&&P.attr(d),P.node}function g(d,A,P){P||(P={});for(var x=P.includeAnnotationIndices,D=P.eol,F=P.lineHeight,V=P.baseSize,X=0,G={},Q=A.length-1,ce=0;ce<=Q;ce++){var ee=A[ce],ae=null;if(c.isObject(ee)){var M=ee.attrs,B=c("tspan",M),K=B.node,O=ee.t;D&&ce===Q&&(O+=D),K.textContent=O;var k=M.class;k&&B.addClass(k),x&&B.attr("annotations",ee.annotations),ae=parseFloat(M["font-size"]),isFinite(ae)||(ae=V),ae&&ae>X&&(X=ae)}else D&&ce===Q&&(ee+=D),K=document.createTextNode(ee||" "),V&&V>X&&(X=V);d.appendChild(K)}return X&&(G.maxFontSize=X),F?G.lineHeight=F:X&&(G.lineHeight=X*1.2),G}var _=/em$/;function v(d,A){var P=parseFloat(d);return _.test(d)?P*A:P}function p(d,A,P,x){if(!Array.isArray(A))return 0;var D=A.length;if(!D)return 0;for(var F=A[0],V=v(F.maxFontSize,P)||P,X=0,G=v(x,P),Q=1;Q<D;Q++){F=A[Q];var ce=v(F.lineHeight,P)||G;X+=ce}var ee=v(F.maxFontSize,P)||P,ae;switch(d){case"middle":ae=V/2-.15*ee-X/2;break;case"bottom":ae=-(.25*ee)-X;break;default:case"top":ae=.8*V;break}return ae}h.text=function(d,A){if(d&&typeof d!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");d=c.sanitizeText(d),A||(A={});var P=A.displayEmpty,x=A.eol,D=A.textPath,F=A.textVerticalAnchor,V=F==="middle"||F==="bottom"||F==="top",X=A.x;X===void 0&&(X=this.attr("x")||0);var G=A.includeAnnotationIndices,Q=A.annotations;Q&&!c.isArray(Q)&&(Q=[Q]);var ce=A.lineHeight,ee=ce==="auto",ae=ee?"1.5em":ce||"1em";this.empty(),this.attr({"xml:space":"preserve",display:d||P?null:"none"});var M=parseFloat(this.attr("font-size"));M||(M=16,(V||Q)&&this.attr("font-size",M));var B=document,K;D?(typeof D=="string"&&(D={d:D}),K=m(D,this)):K=B.createDocumentFragment();for(var O=0,k=d.split(`
`),q=[],ie,J=0,Y=k.length-1;J<=Y;J++){var oe=ae,_e="v-line",ye=B.createElementNS(t.svg,"tspan"),R=k[J],I;if(R)if(Q){var N=c.annotateString(R,Q,{offset:-O,includeAnnotationIndices:G});I=g(ye,N,{includeAnnotationIndices:G,eol:J!==Y&&x,lineHeight:ee?null:ae,baseSize:M});var H=I.lineHeight;H&&ee&&J!==0&&(oe=H),J===0&&(ie=I.maxFontSize*.8)}else x&&J!==Y&&(R+=x),ye.textContent=R;else{ye.textContent="-",_e+=" v-empty-line";var re=ye.style;if(re.fillOpacity=0,re.strokeOpacity=0,Q){I={},N=c.findAnnotationsAtIndex(Q,O);let fe=M;for(let me=N.length;me>0;me--){const Re=N[me-1].attrs;if(!Re||!("font-size"in Re))continue;const Le=parseFloat(Re["font-size"]);if(isFinite(Le)){fe=Le;break}}ee&&(J>0?oe=fe*1.2:ie=fe*.8),ye.setAttribute("font-size",fe),I.maxFontSize=fe}}I&&q.push(I),J>0&&ye.setAttribute("dy",oe),(J>0||D)&&ye.setAttribute("x",X),ye.className.baseVal=_e,K.appendChild(ye),O+=R.length+1}if(V)if(Q)oe=p(F,q,M,ae);else if(F==="top")oe="0.8em";else{var le;switch(Y>0?(le=parseFloat(ae)||1,le*=Y,_.test(ae)||(le/=M)):le=0,F){case"middle":oe=.3-le/2+"em";break;case"bottom":oe=-le-.3+"em";break}}else F===0?oe="0em":F?oe=F:(oe=0,this.attr("y")===null&&this.attr("y",ie||"0.8em"));return K.firstChild.setAttribute("dy",oe),this.append(K),this},h.removeAttr=function(d){const A=$[d],{ns:P,local:x}=c.qualifyAttr(A),D=this.node;return P?D.hasAttributeNS(P,x)&&D.removeAttributeNS(P,x):D.hasAttribute(A)&&D.removeAttribute(A),this},h.attr=function(d,A){if(c.isUndefined(d)){for(var P=this.node.attributes,x={},D=0;D<P.length;D++)x[P[D].name]=P[D].value;return x}if(c.isString(d)&&c.isUndefined(A))return this.node.getAttribute($[d]);if(typeof d=="object")for(var F in d)d.hasOwnProperty(F)&&this.setAttribute(F,d[F]);else this.setAttribute(d,A);return this},h.normalizePath=function(){var d=this.tagName();return d==="PATH"&&this.attr("d",c.normalizePathData(this.attr("d"))),this},h.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},h.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},h.setAttributes=function(d){for(var A in d)d.hasOwnProperty(A)&&this.setAttribute(A,d[A]);return this},h.append=function(d){c.isArray(d)||(d=[d]);for(var A=0,P=d.length;A<P;A++)this.node.appendChild(c.toNode(d[A]));return this},h.prepend=function(d){var A=this.node.firstChild;return A?c(A).before(d):this.append(d)},h.before=function(d){var A=this.node,P=A.parentNode;if(P){c.isArray(d)||(d=[d]);for(var x=0,D=d.length;x<D;x++)P.insertBefore(c.toNode(d[x]),A)}return this},h.appendTo=function(d){return c.toNode(d).appendChild(this.node),this},h.svg=function(){return this.node instanceof window.SVGSVGElement?this:c(this.node.ownerSVGElement)},h.tagName=function(){return this.node.tagName.toUpperCase()},h.defs=function(){var d=this.svg()||this,A=d.node.getElementsByTagName("defs")[0];return A?c(A):c("defs").appendTo(d)},h.clone=function(){var d=c(this.node.cloneNode(!0));return d.node.id=c.uniqueId(),d},h.findOne=function(d){var A=this.node.querySelector(d);return A?c(A):void 0},h.find=function(d){var A=[],P=this.node.querySelectorAll(d);if(P)for(var x=0;x<P.length;x++)A.push(c(P[x]));return A},h.children=function(){for(var d=this.node.childNodes,A=[],P=0;P<d.length;P++){var x=d[P];x.nodeType===1&&A.push(c(d[P]))}return A},h.parent=function(){return c(this.node.parentNode)||null},h.index=function(){for(var d=0,A=this.node.previousSibling;A;)A.nodeType===1&&d++,A=A.previousSibling;return d},h.findParentByClass=function(d,A){for(var P=this.node.ownerSVGElement,x=this.node.parentNode;x&&x!==A&&x!==P;){var D=c(x);if(D.hasClass(d))return D;x=x.parentNode}return null},h.contains=function(d){var A=this.node,P=c.toNode(d),x=P&&P.parentNode;return A===x||!!(x&&x.nodeType===1&&A.compareDocumentPosition(x)&16)},h.toLocalPoint=function(d,A){var P=this.svg().node,x=P.createSVGPoint();x.x=d,x.y=A;try{var D=x.matrixTransform(P.getScreenCTM().inverse()),F=this.getTransformToElement(P).inverse()}catch{return x}return D.matrixTransform(F)},h.translateCenterToPoint=function(d){var A=this.getBBox({target:this.svg()}),P=A.center();return this.translate(d.x-P.x,d.y-P.y),this},h.translateAndAutoOrient=function(d,A,P){d=new ze(d),A=new ze(A),P||(P=this.svg());var x=this.scale();this.attr("transform","");var D=this.getBBox({target:P}).scale(x.sx,x.sy),F=c.createSVGTransform();F.setTranslate(-D.x-D.width/2,-D.y-D.height/2);var V=c.createSVGTransform(),X=d.angleBetween(A,d.clone().offset(1,0));X&&V.setRotate(X,0,0);var G=c.createSVGTransform(),Q=d.clone().move(A,D.width/2);G.setTranslate(2*d.x-Q.x,2*d.y-Q.y);var ce=this.getTransformToElement(P),ee=c.createSVGTransform();return ee.setMatrix(G.matrix.multiply(V.matrix.multiply(F.matrix.multiply(ce.scale(x.sx,x.sy))))),this.attr("transform",c.matrixToTransformString(ee.matrix)),this},h.animateAlongPath=function(d,A){A=c.toNode(A);var P=c.ensureId(A),x=c("animateMotion",d),D=c("mpath",{"xlink:href":"#"+P});x.append(D),this.append(x);try{x.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var F=x.node;F.animators=[];var V=F.getAttribute("id");V&&(id2anim[V]=F);for(var X=getTargets(F),G=0,Q=X.length;G<Q;G++){var ce=X[G],ee=new Animator(F,ce,G);animators.push(ee),F.animators[G]=ee,ee.register()}}}return this};const E=/[^\x20\t\r\n\f]+/g;function y(d){return c.isString(d)?d.trim().match(E)||[]:[]}h.hasClass=function(d){return c.isString(d)?this.node.classList.contains(d.trim()):!1},h.addClass=function(d){return this.node.classList.add(...y(d)),this},h.removeClass=function(d){return this.node.classList.remove(...y(d)),this},h.toggleClass=function(d,A){const P=y(d);for(let x=0;x<P.length;x++)this.node.classList.toggle(P[x],A);return this},h.sample=function(d){d=d||1;for(var A=this.node,P=A.getTotalLength(),x=[],D=0,F;D<P;)F=A.getPointAtLength(D),x.push({x:F.x,y:F.y,distance:D}),D+=d;return x},h.convertToPath=function(){var d=c("path");d.attr(this.attr());var A=this.convertToPathData();return A&&d.attr("d",A),d},h.convertToPathData=function(){var d=this.tagName();switch(d){case"PATH":return this.attr("d");case"LINE":return c.convertLineToPathData(this.node);case"POLYGON":return c.convertPolygonToPathData(this.node);case"POLYLINE":return c.convertPolylineToPathData(this.node);case"ELLIPSE":return c.convertEllipseToPathData(this.node);case"CIRCLE":return c.convertCircleToPathData(this.node);case"RECT":return c.convertRectToPathData(this.node)}throw new Error(d+" cannot be converted to PATH.")},c.prototype.toGeometryShape=function(){var d,A,P,x,D,F,V,X,G,Q,ce,ee,ae,M,B;switch(this.tagName()){case"RECT":return d=parseFloat(this.attr("x"))||0,A=parseFloat(this.attr("y"))||0,P=parseFloat(this.attr("width"))||0,x=parseFloat(this.attr("height"))||0,new xt(d,A,P,x);case"CIRCLE":return D=parseFloat(this.attr("cx"))||0,F=parseFloat(this.attr("cy"))||0,V=parseFloat(this.attr("r"))||0,new Xi({x:D,y:F},V,V);case"ELLIPSE":return D=parseFloat(this.attr("cx"))||0,F=parseFloat(this.attr("cy"))||0,X=parseFloat(this.attr("rx"))||0,G=parseFloat(this.attr("ry"))||0,new Xi({x:D,y:F},X,G);case"POLYLINE":return Q=c.getPointsFromSvgNode(this),new sn(Q);case"POLYGON":return Q=c.getPointsFromSvgNode(this),Q.length>1&&Q.push(Q[0]),new sn(Q);case"PATH":return ce=this.attr("d"),Bt.isDataSupported(ce)||(ce=c.normalizePathData(ce)),new Bt(ce);case"LINE":return ee=parseFloat(this.attr("x1"))||0,M=parseFloat(this.attr("y1"))||0,ae=parseFloat(this.attr("x2"))||0,B=parseFloat(this.attr("y2"))||0,new It({x:ee,y:M},{x:ae,y:B})}return this.getBBox()},h.findIntersection=function(d,A){var P=this.svg().node;A=A||P;var x=this.getBBox({target:A}),D=x.center();if(x.intersectionWithLineFromCenterToPoint(d)){var F,V=this.tagName();if(V==="RECT"){var X=new xt(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),G=this.getTransformToElement(A),Q=c.decomposeMatrix(G),ce=P.createSVGTransform();ce.setRotate(-Q.rotation,D.x,D.y);var ee=c.transformRect(X,ce.matrix.multiply(G));F=new xt(ee).intersectionWithLineFromCenterToPoint(d,Q.rotation)}else if(V==="PATH"||V==="POLYGON"||V==="POLYLINE"||V==="CIRCLE"||V==="ELLIPSE"){var ae=V==="PATH"?this:this.convertToPath(),M=ae.sample(),B=1/0,K=[],O,k,q,ie,J,Y;for(O=0;O<M.length;O++)k=M[O],q=c.createSVGPoint(k.x,k.y),q=q.matrixTransform(this.getTransformToElement(A)),k=new ze(q),ie=k.distance(D),J=k.distance(d)*1.1,Y=ie+J,Y<B?(B=Y,K=[{sample:k,refDistance:J}]):Y<B+1&&K.push({sample:k,refDistance:J});K.sort(function(oe,_e){return oe.refDistance-_e.refDistance}),K[0]&&(F=K[0].sample)}return F}},h.setAttribute=function(d,A){const P=this.node;if(A===null)return this.removeAttr(d),this;const x=$[d],{ns:D}=c.qualifyAttr(x);return D?P.setAttributeNS(D,x,A):x==="id"?P.id=A:P.setAttribute(x,A),this},c.createSvgDocument=function(d){if(d){const P=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="${r}">${d}</svg>`,{documentElement:x}=c.parseXML(P,{async:!1});return x}const A=document.createElementNS(t.svg,"svg");return A.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),A.setAttribute("version",r),A},c.createSVGStyle=function(d){const{node:A}=c("style",{type:"text/css"},[c.createCDATASection(d)]);return A},c.createCDATASection=function(d=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(d)},c.idCounter=0,c.uniqueId=function(){return"v-"+ ++c.idCounter},c.toNode=function(d){return c.isV(d)?d.node:d.nodeName&&d||d[0]},c.ensureId=function(d){return d=c.toNode(d),d.id||(d.id=c.uniqueId())},c.sanitizeText=function(d){return(d||"").replace(/ /g,"")},c.isUndefined=function(d){return typeof d>"u"},c.isString=function(d){return typeof d=="string"},c.isObject=function(d){return d&&typeof d=="object"},c.isArray=Array.isArray,c.parseXML=function(d,A){A=A||{};var P;try{var x=new DOMParser;c.isUndefined(A.async)||(x.async=A.async),P=x.parseFromString(d,"text/xml")}catch{P=void 0}if(!P||P.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+d);return P};const S=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(d=>S[d]=d);const $=new Proxy(S,{get(d,A){return c.supportCamelCaseAttributes?A in d?d[A]:d[A]=A.replace(/[A-Z]/g,"-$&").toLowerCase():A}});Object.defineProperty(c,"attributeNames",{value:$,writable:!1}),Object.defineProperty(c,"supportCamelCaseAttributes",{value:!1,writable:!0}),c.qualifyAttr=function(d){if(d.indexOf(":")!==-1){var A=d.split(":");return{ns:t[A[0]],local:A[1]}}return{ns:null,local:d}},c.transformSeparatorRegex=/[ ,]+/,c.transformRegex=/\b\w+\([^()]+\)/g,c.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,c.transformTranslateRegex=/\btranslate\(([^()]+)\)/,c.transformRotateRegex=/\brotate\(([^()]+)\)/,c.transformScaleRegex=/\bscale\(([^()]+)\)/,c.transformStringToMatrix=function(d){let A=c.createSVGMatrix();const P=d&&d.match(c.transformRegex);if(!P)return A;const x=P.length;for(let D=0;D<x;D++){const V=P[D].match(c.transformFunctionRegex);if(V){let X,G,Q,ce,ee,ae=c.createSVGMatrix();const M=V[1].toLowerCase(),B=V[2].split(c.transformSeparatorRegex);switch(M){case"scale":X=parseFloat(B[0]),G=B[1]===void 0?X:parseFloat(B[1]),ae=ae.scaleNonUniform(X,G);break;case"translate":Q=parseFloat(B[0]),ce=parseFloat(B[1]),ae=ae.translate(Q,ce);break;case"rotate":ee=parseFloat(B[0]),Q=parseFloat(B[1])||0,ce=parseFloat(B[2])||0,Q!==0||ce!==0?ae=ae.translate(Q,ce).rotate(ee).translate(-Q,-ce):ae=ae.rotate(ee);break;case"skewx":ee=parseFloat(B[0]),ae=ae.skewX(ee);break;case"skewy":ee=parseFloat(B[0]),ae=ae.skewY(ee);break;case"matrix":ae.a=parseFloat(B[0]),ae.b=parseFloat(B[1]),ae.c=parseFloat(B[2]),ae.d=parseFloat(B[3]),ae.e=parseFloat(B[4]),ae.f=parseFloat(B[5]);break;default:continue}A=A.multiply(ae)}}return A},c.matrixToTransformString=function(d){return d||(d=!0),"matrix("+(d.a!==void 0?d.a:1)+","+(d.b!==void 0?d.b:0)+","+(d.c!==void 0?d.c:0)+","+(d.d!==void 0?d.d:1)+","+(d.e!==void 0?d.e:0)+","+(d.f!==void 0?d.f:0)+")"},c.parseTransformString=function(d){var A,P,x;if(d){var D=c.transformSeparatorRegex;if(d.trim().indexOf("matrix")>=0){var F=c.transformStringToMatrix(d),V=c.decomposeMatrix(F);A=[V.translateX,V.translateY],x=[V.scaleX,V.scaleY],P=[V.rotation];var X=[];(A[0]!==0||A[1]!==0)&&X.push("translate("+A+")"),(x[0]!==1||x[1]!==1)&&X.push("scale("+x+")"),P[0]!==0&&X.push("rotate("+P+")"),d=X.join(" ")}else{const Q=d.match(c.transformTranslateRegex);Q&&(A=Q[1].split(D));const ce=d.match(c.transformRotateRegex);ce&&(P=ce[1].split(D));const ee=d.match(c.transformScaleRegex);ee&&(x=ee[1].split(D))}}var G=x&&x[0]?parseFloat(x[0]):1;return{value:d,translate:{tx:A&&A[0]?parseInt(A[0],10):0,ty:A&&A[1]?parseInt(A[1],10):0},rotate:{angle:P&&P[0]?parseInt(P[0],10):0,cx:P&&P[1]?parseInt(P[1],10):void 0,cy:P&&P[2]?parseInt(P[2],10):void 0},scale:{sx:G,sy:x&&x[1]?parseFloat(x[1]):G}}},c.deltaTransformPoint=function(d,A){var P=A.x*d.a+A.y*d.c+0,x=A.x*d.b+A.y*d.d+0;return{x:P,y:x}},c.decomposeMatrix=function(d){var A=c.deltaTransformPoint(d,{x:0,y:1}),P=c.deltaTransformPoint(d,{x:1,y:0}),x=180/i*o(A.y,A.x)-90,D=180/i*o(P.y,P.x);return{translateX:d.e,translateY:d.f,scaleX:a(d.a*d.a+d.b*d.b),scaleY:a(d.c*d.c+d.d*d.d),skewX:x,skewY:D,rotation:x}},c.matrixToScale=function(d){var A,P,x,D;return d?(A=c.isUndefined(d.a)?1:d.a,D=c.isUndefined(d.d)?1:d.d,P=d.b,x=d.c):A=D=1,{sx:P?a(A*A+P*P):A,sy:x?a(x*x+D*D):D}},c.matrixToRotate=function(d){var A={x:0,y:1};return d&&(A=c.deltaTransformPoint(d,A)),{angle:ls(rE(o(A.y,A.x))-90)}},c.matrixToTranslate=function(d){return{tx:d&&d.e||0,ty:d&&d.f||0}},c.isV=function(d){return d instanceof c},c.isVElement=c.isV,c.isSVGGraphicsElement=function(d){return d?(d=c.toNode(d),d instanceof SVGElement&&typeof d.getScreenCTM=="function"):!1};var T=c("svg").node;return c.createSVGMatrix=function(d){var A=T.createSVGMatrix();for(var P in d)A[P]=d[P];return A},c.createSVGTransform=function(d){return c.isUndefined(d)?T.createSVGTransform():(d instanceof SVGMatrix||(d=c.createSVGMatrix(d)),T.createSVGTransformFromMatrix(d))},c.createSVGPoint=function(d,A){var P=T.createSVGPoint();return P.x=d,P.y=A,P},c.transformRect=function(d,A){var P=T.createSVGPoint();P.x=d.x,P.y=d.y;var x=P.matrixTransform(A);P.x=d.x+d.width,P.y=d.y;var D=P.matrixTransform(A);P.x=d.x+d.width,P.y=d.y+d.height;var F=P.matrixTransform(A);P.x=d.x,P.y=d.y+d.height;var V=P.matrixTransform(A),X=s(x.x,D.x,F.x,V.x),G=l(x.x,D.x,F.x,V.x),Q=s(x.y,D.y,F.y,V.y),ce=l(x.y,D.y,F.y,V.y);return new xt(X,Q,G-X,ce-Q)},c.transformPoint=function(d,A){return new ze(c.createSVGPoint(d.x,d.y).matrixTransform(A))},c.transformLine=function(d,A){return new It(c.transformPoint(d.start,A),c.transformPoint(d.end,A))},c.transformPolyline=function(d,A){var P=d instanceof sn?d.points:d;c.isArray(P)||(P=[]);for(var x=[],D=0,F=P.length;D<F;D++)x[D]=c.transformPoint(P[D],A);return new sn(x)},c.styleToObject=function(d){for(var A={},P=d.split(";"),x=0;x<P.length;x++){var D=P[x],F=D.split("=");A[F[0].trim()]=F[1].trim()}return A},c.createSlicePathData=function(d,A,P,x){var D=2*i-1e-6,F=d,V=A,X=P,G=x,Q=(G<X&&(Q=X,X=G,G=Q),G-X),ce=Q<i?"0":"1",ee=u(X),ae=f(X),M=u(G),B=f(G);return Q>=D?F?"M0,"+V+"A"+V+","+V+" 0 1,1 0,"+-V+"A"+V+","+V+" 0 1,1 0,"+V+"M0,"+F+"A"+F+","+F+" 0 1,0 0,"+-F+"A"+F+","+F+" 0 1,0 0,"+F+"Z":"M0,"+V+"A"+V+","+V+" 0 1,1 0,"+-V+"A"+V+","+V+" 0 1,1 0,"+V+"Z":F?"M"+V*ee+","+V*ae+"A"+V+","+V+" 0 "+ce+",1 "+V*M+","+V*B+"L"+F*M+","+F*B+"A"+F+","+F+" 0 "+ce+",0 "+F*ee+","+F*ae+"Z":"M"+V*ee+","+V*ae+"A"+V+","+V+" 0 "+ce+",1 "+V*M+","+V*B+"L0,0Z"},c.mergeAttrs=function(d,A){for(var P in A)P==="class"?d[P]=d[P]?d[P]+" "+A[P]:A[P]:P==="style"?c.isObject(d[P])&&c.isObject(A[P])?d[P]=c.mergeAttrs(d[P],A[P]):c.isObject(d[P])?d[P]=c.mergeAttrs(d[P],c.styleToObject(A[P])):c.isObject(A[P])?d[P]=c.mergeAttrs(c.styleToObject(d[P]),A[P]):d[P]=c.mergeAttrs(c.styleToObject(d[P]),c.styleToObject(A[P])):d[P]=A[P];return d},c.annotateString=function(d,A,P){A=A||[],P=P||{};for(var x=P.offset||0,D=[],F,V=[],X,G,Q=0;Q<d.length;Q++){X=V[Q]=d[Q];for(var ce=0;ce<A.length;ce++){var ee=A[ce],ae=ee.start+x,M=ee.end+x;Q>=ae&&Q<M&&(c.isObject(X)?X.attrs=c.mergeAttrs(c.mergeAttrs({},X.attrs),ee.attrs):X=V[Q]={t:d[Q],attrs:ee.attrs},P.includeAnnotationIndices&&(X.annotations||(X.annotations=[])).push(ce))}G=V[Q-1],G?c.isObject(X)&&c.isObject(G)?JSON.stringify(X.attrs)===JSON.stringify(G.attrs)?F.t+=X.t:(D.push(F),F=X):c.isObject(X)||c.isObject(G)?(D.push(F),F=X):F=(F||"")+X:F=X}return F&&D.push(F),D},c.findAnnotationsAtIndex=function(d,A){var P=[];return d&&d.forEach(function(x){x.start<A&&A<=x.end&&P.push(x)}),P},c.findAnnotationsBetweenIndexes=function(d,A,P){var x=[];return d&&d.forEach(function(D){(A>=D.start&&A<D.end||P>D.start&&P<=D.end||D.start>=A&&D.end<P)&&x.push(D)}),x},c.shiftAnnotations=function(d,A,P){return d&&d.forEach(function(x){x.start<A&&x.end>=A?x.end+=P:x.start>=A&&(x.start+=P,x.end+=P)}),d},c.convertLineToPathData=function(d){d=c(d);var A=["M",d.attr("x1"),d.attr("y1"),"L",d.attr("x2"),d.attr("y2")].join(" ");return A},c.convertPolygonToPathData=function(d){var A=c.getPointsFromSvgNode(d);return A.length===0?null:c.svgPointsToPath(A)+" Z"},c.convertPolylineToPathData=function(d){var A=c.getPointsFromSvgNode(d);return A.length===0?null:c.svgPointsToPath(A)},c.svgPointsToPath=function(d){for(var A=0,P=d.length;A<P;A++)d[A]=d[A].x+" "+d[A].y;return"M "+d.join(" L")},c.getPointsFromSvgNode=function(d){d=c.toNode(d);var A=[],P=d.points;if(P)for(var x=0,D=P.numberOfItems;x<D;x++)A.push(P.getItem(x));return A},c.KAPPA=.551784,c.convertCircleToPathData=function(d){d=c(d);var A=parseFloat(d.attr("cx"))||0,P=parseFloat(d.attr("cy"))||0,x=parseFloat(d.attr("r")),D=x*c.KAPPA,F=["M",A,P-x,"C",A+D,P-x,A+x,P-D,A+x,P,"C",A+x,P+D,A+D,P+x,A,P+x,"C",A-D,P+x,A-x,P+D,A-x,P,"C",A-x,P-D,A-D,P-x,A,P-x,"Z"].join(" ");return F},c.convertEllipseToPathData=function(d){d=c(d);var A=parseFloat(d.attr("cx"))||0,P=parseFloat(d.attr("cy"))||0,x=parseFloat(d.attr("rx")),D=parseFloat(d.attr("ry"))||x,F=x*c.KAPPA,V=D*c.KAPPA,X=["M",A,P-D,"C",A+F,P-D,A+x,P-V,A+x,P,"C",A+x,P+V,A+F,P+D,A,P+D,"C",A-F,P+D,A-x,P+V,A-x,P,"C",A-x,P-V,A-F,P-D,A,P-D,"Z"].join(" ");return X},c.convertRectToPathData=function(d){return d=c(d),c.rectToPath({x:parseFloat(d.attr("x"))||0,y:parseFloat(d.attr("y"))||0,width:parseFloat(d.attr("width"))||0,height:parseFloat(d.attr("height"))||0,rx:parseFloat(d.attr("rx"))||0,ry:parseFloat(d.attr("ry"))||0})},c.rectToPath=function(d){var A,P=d.x,x=d.y,D=d.width,F=d.height,V=s(d.rx||d["top-rx"]||0,D/2),X=s(d.rx||d["bottom-rx"]||0,D/2),G=s(d.ry||d["top-ry"]||0,F/2),Q=s(d.ry||d["bottom-ry"]||0,F/2);return V||X||G||Q?A=["M",P,x+G,"v",F-G-Q,"a",X,Q,0,0,0,X,Q,"h",D-2*X,"a",X,Q,0,0,0,X,-Q,"v",-(F-Q-G),"a",V,G,0,0,0,-V,-G,"h",-(D-2*V),"a",V,G,0,0,0,-V,G,"Z"]:A=["M",P,x,"H",P+D,"V",x+F,"H",P,"V",x,"Z"],A.join(" ")},c.normalizePathData=function(){var d=`	
\v\f\r \u2028\u2029`,A=new RegExp("([a-z])["+d+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+d+"]*,?["+d+"]*)+)","ig"),P=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+d+"]*,?["+d+"]*","ig"),x=Math,D=x.PI,F=x.sin,V=x.cos,X=x.tan,G=x.asin,Q=x.sqrt,ce=x.abs;function ee(k,q,ie,J,Y,oe){var _e=.3333333333333333,ye=2/3;return[_e*k+ye*ie,_e*q+ye*J,_e*Y+ye*ie,_e*oe+ye*J,Y,oe]}function ae(k,q,ie){var J=k*V(ie)-q*F(ie),Y=k*F(ie)+q*V(ie);return{x:J,y:Y}}function M(k,q,ie,J,Y,oe,_e,ye,R,I){var N=D*120/180,H=D/180*(+Y||0),re=[],le;if(I)W=I[0],C=I[1],Ge=I[2],Ue=I[3];else{le=ae(k,q,-H),k=le.x,q=le.y,le=ae(ye,R,-H),ye=le.x,R=le.y;var fe=(k-ye)/2,me=(q-R)/2,Re=fe*fe/(ie*ie)+me*me/(J*J);Re>1&&(Re=Q(Re),ie=Re*ie,J=Re*J);var Le=ie*ie,je=J*J,tt=(oe==_e?-1:1)*Q(ce((Le*je-Le*me*me-je*fe*fe)/(Le*me*me+je*fe*fe))),Ge=tt*ie*me/J+(k+ye)/2,Ue=tt*-J*fe/ie+(q+R)/2,W=G(((q-Ue)/J).toFixed(9)),C=G(((R-Ue)/J).toFixed(9));W=k<Ge?D-W:W,C=ye<Ge?D-C:C,W<0&&(W=D*2+W),C<0&&(C=D*2+C),_e&&W>C&&(W=W-D*2),!_e&&C>W&&(C=C-D*2)}var L=C-W;if(ce(L)>N){var ne=C,we=ye,Se=R;C=W+N*(_e&&C>W?1:-1),ye=Ge+ie*V(C),R=Ue+J*F(C),re=M(ye,R,ie,J,Y,0,_e,we,Se,[C,ne,Ge,Ue])}L=C-W;var ke=V(W),Ie=F(W),Fe=V(C),ft=F(C),vt=X(L/4),at=4/3*(ie*vt),kt=4/3*(J*vt),br=[k,q],Pr=[k+at*Ie,q-kt*ke],rr=[ye+at*ft,R-kt*Fe],hr=[ye,R];if(Pr[0]=2*br[0]-Pr[0],Pr[1]=2*br[1]-Pr[1],I)return[Pr,rr,hr].concat(re);re=[Pr,rr,hr].concat(re).join().split(",");for(var ln=[],Vt=re.length,zt=0;zt<Vt;zt++)ln[zt]=zt%2?ae(re[zt-1],re[zt],H).y:ae(re[zt],re[zt+1],H).x;return ln}function B(k){if(!k)return null;var q={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},ie=[];return String(k).replace(A,function(J,Y,oe){var _e=[],ye=Y.toLowerCase();for(oe.replace(P,function(R,I){I&&_e.push(+I)}),ye==="m"&&_e.length>2&&(ie.push([Y].concat(_e.splice(0,2))),ye="l",Y=Y==="m"?"l":"L");_e.length>=q[ye]&&(ie.push([Y].concat(_e.splice(0,q[ye]))),!!q[ye]););}),ie}function K(k){if((!Array.isArray(k)||!Array.isArray(k&&k[0]))&&(k=B(k)),!k||!k.length)return[["M",0,0]];for(var q=[],ie=0,J=0,Y=0,oe=0,_e=0,ye,R=k.length,I=_e;I<R;I++){var N=[];q.push(N);var H=k[I];if(ye=H[0],ye!=ye.toUpperCase()){N[0]=ye.toUpperCase();var re,le;switch(N[0]){case"A":N[1]=H[1],N[2]=H[2],N[3]=H[3],N[4]=H[4],N[5]=H[5],N[6]=+H[6]+ie,N[7]=+H[7]+J;break;case"V":N[1]=+H[1]+J;break;case"H":N[1]=+H[1]+ie;break;case"M":for(Y=+H[1]+ie,oe=+H[2]+J,re=H.length,le=1;le<re;le++)N[le]=+H[le]+(le%2?ie:J);break;default:for(re=H.length,le=1;le<re;le++)N[le]=+H[le]+(le%2?ie:J);break}}else for(var fe=H.length,me=0;me<fe;me++)N[me]=H[me];switch(N[0]){case"Z":ie=+Y,J=+oe;break;case"H":ie=N[1];break;case"V":J=N[1];break;case"M":Y=N[N.length-2],oe=N[N.length-1],ie=N[N.length-2],J=N[N.length-1];break;default:ie=N[N.length-2],J=N[N.length-1];break}}return q}function O(k){var q=K(k),ie={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function J(re,le,fe){var me,Re;if(!re)return["C",le.x,le.y,le.x,le.y,le.x,le.y];switch(re[0]in{T:1,Q:1}||(le.qx=null,le.qy=null),re[0]){case"M":le.X=re[1],le.Y=re[2];break;case"A":parseFloat(re[1])===0||parseFloat(re[2])===0?re=["L",re[6],re[7]]:re=["C"].concat(M.apply(0,[le.x,le.y].concat(re.slice(1))));break;case"S":fe==="C"||fe==="S"?(me=le.x*2-le.bx,Re=le.y*2-le.by):(me=le.x,Re=le.y),re=["C",me,Re].concat(re.slice(1));break;case"T":fe==="Q"||fe==="T"?(le.qx=le.x*2-le.qx,le.qy=le.y*2-le.qy):(le.qx=le.x,le.qy=le.y),re=["C"].concat(ee(le.x,le.y,le.qx,le.qy,re[1],re[2]));break;case"Q":le.qx=re[1],le.qy=re[2],re=["C"].concat(ee(le.x,le.y,re[1],re[2],re[3],re[4]));break;case"H":re=["L"].concat(re[1],le.y);break;case"V":re=["L"].concat(le.x,re[1]);break}return re}function Y(re,le){if(re[le].length>7){re[le].shift();for(var fe=re[le];fe.length;)oe[le]="A",re.splice(le++,0,["C"].concat(fe.splice(0,6)));re.splice(le,1),R=q.length}}for(var oe=[],_e="",ye="",R=q.length,I=0;I<R;I++){q[I]&&(_e=q[I][0]),_e!=="C"&&(oe[I]=_e,I>0&&(ye=oe[I-1])),q[I]=J(q[I],ie,ye),oe[I]!=="A"&&_e==="C"&&(oe[I]="C"),Y(q,I);var N=q[I],H=N.length;ie.x=N[H-2],ie.y=N[H-1],ie.bx=parseFloat(N[H-4])||ie.x,ie.by=parseFloat(N[H-3])||ie.y}return(!q[0][0]||q[0][0]!=="M")&&q.unshift(["M",0,0]),q}return function(k){return O(k).join(",").split(",").join(" ")}}(),c.namespace=t,c.g=Dne,c}(),Bu={classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},Bm="[object Arguments]",XP="[object Array]",vE="[object Boolean]",jI="[object Date]",k8="[object Error]",fie="[object Function]",Eg="[object Map]",yE="[object Number]",die="[object Null]",Dd="[object Object]",DI="[object RegExp]",Sg="[object Set]",wE="[object String]",bE="[object Symbol]",hie="[object Undefined]",pie="[object WeakMap]",MI="[object ArrayBuffer]",LI="[object DataView]",j8="[object Float32Array]",D8="[object Float64Array]",M8="[object Int8Array]",L8="[object Int16Array]",F8="[object Int32Array]",B8="[object Uint8Array]",U8="[object Uint8ClampedArray]",z8="[object Uint16Array]",q8="[object Uint32Array]",mie={[Bm]:!0,[XP]:!0,[MI]:!0,[LI]:!0,[vE]:!0,[jI]:!0,[j8]:!0,[D8]:!0,[M8]:!0,[L8]:!0,[F8]:!0,[Eg]:!0,[yE]:!0,[Dd]:!0,[DI]:!0,[Sg]:!0,[wE]:!0,[bE]:!0,[B8]:!0,[U8]:!0,[z8]:!0,[q8]:!0,[k8]:!1,[fie]:!1,[pie]:!1},FI="\\ud800-\\udfff",gie="\\u0300-\\u036f",vie="\\ufe20-\\ufe2f",yie="\\u20d0-\\u20ff",wie="\\u1ab0-\\u1aff",bie="\\u1dc0-\\u1dff",_ie=gie+vie+yie+wie+bie,V8="\\u2700-\\u27bf",H8="a-z\\xdf-\\xf6\\xf8-\\xff",Eie="\\xac\\xb1\\xd7\\xf7",Sie="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$ie="\\u2000-\\u206f",Tie=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",G8="A-Z\\xc0-\\xd6\\xd8-\\xde",Aie="\\ufe0e\\ufe0f",W8=Eie+Sie+$ie+Tie,K8="[']",RD=`[${W8}]`,BI=`[${_ie}]`,J8="\\d",Pie=`[${V8}]`,Y8=`[${H8}]`,X8=`[^${FI}${W8+J8+V8+H8+G8}]`,QP="\\ud83c[\\udffb-\\udfff]",xie=`(?:${BI}|${QP})`,Q8=`[^${FI}]`,UI="(?:\\ud83c[\\udde6-\\uddff]){2}",zI="[\\ud800-\\udbff][\\udc00-\\udfff]",bd=`[${G8}]`,Oie="\\u200d",ID=`(?:${Y8}|${X8})`,Rie=`(?:${bd}|${X8})`,ND=`(?:${K8}(?:d|ll|m|re|s|t|ve))?`,CD=`(?:${K8}(?:D|LL|M|RE|S|T|VE))?`,Z8=`${xie}?`,e9=`[${Aie}]?`,Iie=`(?:${Oie}(?:${[Q8,UI,zI].join("|")})${e9+Z8})*`,Nie="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Cie="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",t9=e9+Z8+Iie,kie=`(?:${[Pie,UI,zI].join("|")})${t9}`,jie=RegExp([`${bd}?${Y8}+${ND}(?=${[RD,bd,"$"].join("|")})`,`${Rie}+${CD}(?=${[RD,bd+ID,"$"].join("|")})`,`${bd}?${ID}+${ND}`,`${bd}+${CD}`,Cie,Nie,`${J8}+`,kie].join("|"),"g"),qI=200,ZP="__hash_undefined__",Die=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,Mie=`[${FI}]`,Lie=`${Q8}${BI}?`,Fie=`(?:${[Lie,BI,UI,zI,Mie].join("|")})`,r9=RegExp(`${QP}(?=${QP})|${Fie+t9}`,"g"),Bie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uie=/^\w*$/,zie=46,qie=/\\(\\)?/g,Vie=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),Hie=/^(?:0|[1-9]\d*)$/,Gie=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),Wie=4294967294,Kie=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,n9=e=>r9.test(e),Jie=e=>e.match(r9)||[],Yie=e=>e.split(""),i9=e=>n9(e)?Jie(e):Yie(e),Xie=e=>e==null?[]:$g(e).map(t=>e[t]),$g=e=>Ca(e)?o9(e):Object.keys(Object(e)),Qie=e=>{if(!_E(e))return Object.keys(e);var t=[];for(var r in Object(e))hasOwnProperty.call(e,r)&&r!="constructor"&&t.push(r);return t},o9=(e,t)=>{const r=Array.isArray(e),n=!r&&cs(e)&&Ra(e)===Bm,i=!r&&!n&&Pg(e),o=r||n||i,a=e.length,s=new Array(o?a:0);let l=o?-1:a;for(;++l<a;)s[l]=`${l}`;for(const u in e)(t||hasOwnProperty.call(e,u))&&!(o&&(u==="length"||p9(u,a)))&&s.push(u);return s},Nv=(e,t)=>{let{length:r}=e;for(;r--;)if(Dh(e[r][0],t))return r;return-1},Dh=(e,t)=>e===t||e!==e&&t!==t,cs=e=>e!=null&&typeof e=="object",Vb=(e,t,r)=>{if(!Vr(r))return!1;const n=typeof t;return(n=="number"?Ca(r)&&t>-1&&t<r.length:n=="string"&&t in r)?Dh(r[t],e):!1},Zie=e=>cs(e)&&Ra(e)==Sg,eoe=e=>cs(e)&&Ra(e)==Eg,_E=e=>{const t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Object.prototype;return e===r},Tg=(e,t,r)=>{const n=e[t];(!(hasOwnProperty.call(e,t)&&Dh(n,r))||r===void 0&&!(t in e))&&(e[t]=r)},Ag=(e,t,r)=>{let n=-1;const i=t.length;for(;++n<i;){const o=t[n];Tg(r,o,e[o])}return r},Ca=e=>e!=null&&typeof e!="function"&&typeof e.length=="number"&&e.length>-1&&e.length%1===0,_h=e=>typeof e=="symbol"||cs(e)&&Ra(e)===bE,toe=e=>{const t=e.length;let r=new e.constructor(t);return t&&typeof e[0]=="string"&&hasOwnProperty.call(e,"index")&&(r.index=e.index,r.input=e.input),r},VI=(e,t)=>{let r=-1;const n=e.length;for(t||(t=new Array(n));++r<n;)t[r]=e[r];return t},Ra=e=>e==null?e===void 0?hie:die:Object.prototype.toString.call(e),HI=e=>{const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},a9=(e,t)=>{const r=t?HI(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},roe=e=>{const t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t},s9=e=>typeof e.constructor=="function"&&!_E(e)?Object.create(Object.getPrototypeOf(e)):{},GI=e=>e==null?[]:(e=Object(e),Object.getOwnPropertySymbols(e).filter(r=>propertyIsEnumerable.call(e,r))),noe=(e,t)=>Ag(e,GI(e),t);function ioe(e,t){const r=t?HI(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}const ooe=(e,t,r)=>{const n=e.constructor;switch(t){case MI:return HI(e);case vE:case jI:return new n(+e);case LI:return ioe(e,r);case j8:case D8:case M8:case L8:case F8:case B8:case U8:case z8:case q8:return a9(e,r);case Eg:return new n(e);case yE:case wE:return new n(e);case DI:return roe(e);case Sg:return new n;case bE:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}},Pg=e=>cs(e)&&Die.test(Ra(e)),ex=e=>{const t=Object.keys(e);return!Array.isArray(e)&&e!=null&&t.push(...GI(Object(e))),t},l9=e=>{const t=[];for(;e;)t.push(...GI(e)),e=Object.getPrototypeOf(Object(e));return t},u9=e=>{const t=[];for(const r in e)t.push(r);return Array.isArray(e)||t.push(...l9(e)),t},Cv=({__data__:e},t)=>{const r=e;return goe(t)?r[typeof t=="string"?"string":"hash"]:r.map},aoe=(e,t,r,n)=>{const i=ex(e),o=i.length,s=ex(t).length;if(o!=s)return!1;let l,u=o;for(;u--;)if(l=i[u],!hasOwnProperty.call(t,l))return!1;const f=n.get(e),c=n.get(t);if(f&&c)return f==t&&c==e;let h=!0;n.set(e,t),n.set(t,e);let m;for(;++u<o;){l=i[u];const g=e[l],_=t[l];if(!(g===_||r(g,_,n))){h=!1;break}m||(m=l=="constructor")}if(h&&!m){const g=e.constructor,_=t.constructor;g!=_&&"constructor"in e&&"constructor"in t&&!(typeof g=="function"&&g instanceof g&&typeof _=="function"&&_ instanceof _)&&(h=!1)}return n.delete(e),n.delete(t),h},EE=(e,t,r)=>e===t?!0:e==null||t==null||!cs(e)&&!cs(t)?e!==e&&t!==t:soe(e,t,EE,r),soe=(e,t,r,n)=>{let i=Array.isArray(e);const o=Array.isArray(t);let a=i?XP:Ra(e),s=o?XP:Ra(t);a=a==Bm?Dd:a,s=s==Bm?Dd:s;let l=a==Dd;const u=s==Dd,f=a==s;if(f&&!l)return n||(n=new Zd),i||Pg(e)?c9(e,t,!1,r,n):coe(e,t,a,r,n);const c=l&&hasOwnProperty.call(e,"__wrapped__"),h=u&&hasOwnProperty.call(t,"__wrapped__");if(c||h){const m=c?e.value():e,g=h?t.value():t;return n||(n=new Zd),r(m,g,n)}return f?(n||(n=new Zd),aoe(e,t,r,n)):!1},c9=(e,t,r,n,i)=>{const o=e.length,a=t.length;if(o!=a)return!1;const s=i.get(e),l=i.get(t);if(s&&l)return s==t&&l==e;let u=-1,f=!0;const c=r?new zm:void 0;for(i.set(e,t),i.set(t,e);++u<o;){const h=e[u],m=t[u];if(c){if(!loe(t,(g,_)=>{if(!uoe(c,_)&&(h===g||n(h,g,i)))return c.push(_)})){f=!1;break}}else if(!(h===m||n(h,m,i))){f=!1;break}}return i.delete(e),i.delete(t),f},loe=(e,t)=>{let r=-1;const n=e==null?0:e.length;for(;++r<n;)if(t(e[r],r,e))return!0;return!1},uoe=(e,t)=>e.has(t),kD=(e,t,r,n)=>!(e.byteLength!=t.byteLength||!r(new Uint8Array(e),new Uint8Array(t),n)),coe=(e,t,r,n,i)=>{switch(r){case LI:return e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset?!1:(e=e.buffer,t=t.buffer,kD(e,t,n,i));case MI:return kD(e,t,n,i);case vE:case jI:case yE:return Dh(+e,+t);case k8:return e.name==t.name&&e.message==t.message;case DI:case wE:return e==`${t}`;case Eg:let o=f9;case Sg:if(o||(o=SE),e.size!=t.size)return!1;const a=i.get(e);if(a)return a==t;i.set(e,t);const s=c9(o(e),o(t),!0,n,i);return i.delete(e),s;case bE:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},f9=e=>{let t=-1,r=Array(e.size);return e.forEach((n,i)=>{r[++t]=[i,n]}),r},SE=e=>{let t=-1;const r=new Array(e.size);return e.forEach(n=>{r[++t]=n}),r},WI=(e,t)=>{if(Array.isArray(e))return!1;const r=typeof e;return r==="number"||r==="boolean"||e==null||_h(e)?!0:Uie.test(e)||!Bie.test(e)||t!=null&&e in Object(t)},foe=e=>{const t=[];return e.charCodeAt(0)===zie&&t.push(""),e.replace(Vie,(r,n,i,o)=>{let a=r;i?a=o.replace(qie,"$1"):n&&(a=n.trim()),t.push(a)}),t},Mh=(e,t)=>Array.isArray(e)?e:WI(e,t)?[e]:foe(`${e}`),$E=(e,t)=>{t=Mh(t,e);let r=0;const n=t.length;for(;e!=null&&r<n;)e=e[Df(t[r])],r++;return r&&r==n?e:void 0};function doe(e,t){if(e!==t){const r=e!==void 0,n=e===null,i=e===e,o=_h(e),a=t!==void 0,s=t===null,l=t===t,u=_h(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||n&&a&&l||!r&&l||!i)return 1;if(!n&&!o&&!u&&e<t||u&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!l)return-1}return 0}function hoe(e,t,r){let n=-1;const i=e.criteria,o=t.criteria,a=i.length,s=r.length;for(;++n<a;){const l=n<s?r[n]:null,f=(l&&typeof l=="function"?l:doe)(i[n],o[n]);if(f)return l&&typeof l!="function"?f*(l=="desc"?-1:1):f}return e.index-t.index}const d9=(e,t)=>{let r=(a,s)=>!!(a==null?0:a.length)&&a.indexOf(s)>-1,n=!0;const i=[],o=t.length;if(!e.length)return i;t.length>=qI&&(r=(a,s)=>a.has(s),n=!1,t=new zm(t));e:for(let a in e){let s=e[a];const l=s;if(s=s!==0?s:0,n&&l===l){let u=o;for(;u--;)if(t[u]===l)continue e;i.push(s)}else r(t,l)||i.push(s)}return i},Df=e=>{if(typeof e=="string"||_h(e))return e;const t=`${e}`;return t=="0"&&1/e==-1/0?"-0":t},Qd=(e,t=!1,r=!1,n=!0,i,o,a,s)=>{let l;if(i&&(l=a?i(e,o,a,s):i(e)),l!==void 0)return l;if(!Vr(e))return e;const u=Array.isArray(e),f=Ra(e);if(u){if(l=toe(e),!t)return VI(e,l)}else{const g=typeof e=="function";if(f===Dd||f===Bm||g&&!a){if(l=r||g?{}:s9(e),!t)return r?poe(e,Ag(e,Object.keys(e),l)):noe(e,Object.assign(l,e))}else{if(g||!mie[f])return a?e:{};l=ooe(e,f,t)}}s||(s=new Zd);const c=s.get(e);if(c)return c;if(s.set(e,l),eoe(e))return e.forEach((g,_)=>{l.set(_,Qd(g,t,r,n,i,_,e,s))}),l;if(Zie(e))return e.forEach(g=>{l.add(Qd(g,t,r,n,i,g,e,s))}),l;if(Pg(e))return l;const m=u?void 0:(n?r?u9:ex:r?m9:$g)(e);return(m||e).forEach((g,_)=>{m&&(_=g,g=e[_]),Tg(l,_,Qd(g,t,r,n,i,_,e,s))}),l},poe=(e,t)=>Ag(e,l9(e),t),h9=(e,t)=>t.length<2?e:$E(e,t.slice(0,-1)),p9=(e,t)=>{const r=typeof e;return t=t??Number.MAX_SAFE_INTEGER,!!t&&(r==="number"||r!=="symbol"&&Hie.test(e))&&e>-1&&e%1==0&&e<t},moe=(e,t)=>{t=Mh(t,e),e=h9(e,t);const r=t[t.length-1];return e==null||delete e[Df(r)]},goe=e=>{const t=typeof e;return t==="string"||t==="number"||t==="symbol"||t==="boolean"?e!=="__proto__":e===null},m9=e=>{const t=[];for(const r in e)t.push(r);return t},voe=e=>{e=Object(e);const t={};for(const r in e)t[r]=e[r];return t},jD=(e,t)=>{if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]};function g9(e,t=!1){return(r,...n)=>{let i=-1,o=n.length,a=o>1?n[o-1]:void 0;const s=o>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):t?(l,u)=>{if(Array.isArray(l)&&!Array.isArray(u))return u}:void 0,s&&Vb(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),r=Object(r);++i<o;){const l=n[i];l&&e(r,l,i,a)}return r}}const KI=(e,t,r,n,i)=>{e!==t&&ga(t,(o,a)=>{if(Vr(o))i||(i=new Zd),yoe(e,t,a,r,KI,n,i);else{let s=n?n(e[a],o,`${a}`,e,t,i):void 0;s===void 0&&(s=o),tx(e,a,s)}})},yoe=(e,t,r,n,i,o,a)=>{const s=jD(e,r),l=jD(t,r),u=a.get(l);if(u){tx(e,r,u);return}let f=o?o(s,l,`${r}`,e,t,a):void 0,c=f===void 0;if(c){const h=Array.isArray(l),m=!h&&Pg(l);f=l,h||m?Array.isArray(s)?f=s:cs(s)&&Ca(s)?f=VI(s):m?(c=!1,f=a9(l,!0)):f=[]:Bn(l)||Um(l)?(f=s,Um(s)?f=voe(s):(typeof s=="function"||!Vr(s))&&(f=s9(l))):c=!1}c&&(a.set(l,f),i(f,l,n,o,a),a.delete(l)),tx(e,r,f)},tx=(e,t,r)=>{(r!==void 0&&!Dh(e[t],r)||r===void 0&&!(t in e))&&Tg(e,t,r)};function woe(e,t,r){const n=Object(e),i=r(e);let{length:o}=i,a=-1;for(;o--;){const s=i[++a];if(t(n[s],s,n)===!1)break}return e}const boe=(e,t)=>e&&woe(e,t,$g),JI=(e,t)=>{if(e==null)return e;if(!Ca(e))return boe(e,t);const r=e.length,n=Object(e);let i=-1;for(;++i<r&&t(n[i],i,n)!==!1;);return e};function _oe(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}const Eoe=Set&&1/SE(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function v9(e,t,r,n,i,o){return Vr(e)&&Vr(t)&&(o.set(t,e),KI(e,t,void 0,v9,o),o.delete(t)),e}function Soe(e,t,r){t.length?t=t.map(a=>Array.isArray(a)?s=>$E(s,a.length===1?a[0]:a):a):t=[a=>a];let n=-1,i=-1;const o=Ca(e)?new Array(e.length):[];return JI(e,a=>{const s=t.map(l=>l(a));o[++i]={criteria:s,index:++n,value:a}}),$oe(o,(a,s)=>hoe(a,s,r))}function $oe(e,t){let{length:r}=e;for(e.sort(t);r--;)e[r]=e[r].value;return e}function y9(e){return e===e&&!Vr(e)}function w9(e,t){return r=>r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}function Toe(e,t){return e!=null&&Boe(e,t,Foe)}function Aoe(e,t){return WI(e)&&y9(t)?w9(Df(e),t):r=>{const n=$E(r,e);return n===void 0&&n===t?Toe(r,e):EE(t,n)}}function Poe(e){const t=xoe(e);return t.length===1&&t[0][2]?w9(t[0][0],t[0][1]):r=>r===e||Ooe(r,e,t)}function xoe(e){const t=$g(e);let r=t.length;for(;r--;){const n=t[r],i=e[n];t[r]=[n,i,y9(i)]}return t}function Ooe(e,t,r,n){let i=r.length;const o=i;if(e==null)return!o;let a;for(e=Object(e);i--;)if(a=r[i],a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1;for(;++i<o;){a=r[i];const s=a[0],l=e[s],u=a[1];if(a[2]){if(l===void 0&&!(s in e))return!1}else{const f=new Zd;if(!EE(u,l,f))return!1}}return!0}function Roe(e){return WI(e)?Ioe(Df(e)):Noe(e)}function Ioe(e){return t=>t==null?void 0:t[e]}function Noe(e){return t=>$E(t,e)}function Coe(e){return typeof e=="function"?e:e==null?t=>t:typeof e=="object"?Array.isArray(e)?Aoe(e[0],e[1]):Poe(e):Roe(e)}function TE(){const e=Coe;return arguments.length?e(arguments[0]):e}const koe=(e,t,r,n)=>{let i=-1;const o=e==null?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r},joe=(e,t,r,n,i)=>(i(e,(o,a,s)=>{r=n?(n=!1,o):t(r,o,a,s)}),r);function Doe(e,t,r){const n=Array.isArray(e)?koe:joe,i=arguments.length<3;return n(e,t,r,i,JI)}const Moe=e=>Array.isArray(e)||Um(e)||!!(e&&e[Symbol.isConcatSpreadable]);function b9(e,t,r,n,i){let o=-1;const a=e.length;for(r||(r=Moe),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?b9(s,t-1,r,n,i):i.push(...s):i[i.length]=s}return i}const Um=e=>cs(e)&&Ra(e)=="[object Arguments]",Loe=e=>typeof e=="number"&&e>-1&&e%1==0&&e<=Number.MAX_SAFE_INTEGER,Foe=(e,t)=>e!=null&&t in Object(e),Boe=(e,t,r)=>{t=Mh(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var a=Df(t[n]);if(!(o=e!=null&&r(e,a)))break;e=e[a]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&Loe(i)&&p9(a,i)&&(Array.isArray(e)||Um(e)))},Uoe=e=>e.match(Kie),zoe=e=>e.match(jie),qoe=(e,t)=>(Gie(e)?zoe(e):Uoe(e))||[],Voe=(e,t,r)=>{const{length:n}=e;return r=r===void 0?n:r,e.slice(t,r)},Hoe=Goe("toUpperCase");function Goe(e){return t=>{if(!t)return"";const r=n9(t)?i9(t):void 0,n=r?r[0]:t[0],i=r?Voe(r,1).join(""):t.slice(1);return n[e]()+i}}class Zd{constructor(t){const r=this.__data__=new YS(t);this.size=r.size}clear(){this.__data__=new YS,this.size=0}delete(t){const r=this.__data__,n=r.delete(t);return this.size=r.size,n}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,r){let n=this.__data__;if(n instanceof YS){const i=n.__data__;if(i.length<qI-1)return i.push([t,r]),this.size=++n.size,this;n=this.__data__=new _9(i)}return n.set(t,r),this.size=n.size,this}}class YS{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(t){const r=this.__data__,n=Nv(r,t);if(n<0)return!1;const i=r.length-1;return n==i?r.pop():r.splice(n,1),--this.size,!0}get(t){const r=this.__data__,n=Nv(r,t);return n<0?void 0:r[n][1]}has(t){return Nv(this.__data__,t)>-1}set(t,r){const n=this.__data__,i=Nv(n,t);return i<0?(++this.size,n.push([t,r])):n[i][1]=r,this}}class _9{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new DD,map:new Map,string:new DD}}delete(t){const r=Cv(this,t).delete(t);return this.size-=r?1:0,r}get(t){return Cv(this,t).get(t)}has(t){return Cv(this,t).has(t)}set(t,r){const n=Cv(this,t),i=n.size;return n.set(t,r),this.size+=n.size==i?0:1,this}}class DD{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){const r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}get(t){const n=this.__data__[t];return n===ZP?void 0:n}has(t){return this.__data__[t]!==void 0}set(t,r){const n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r===void 0?ZP:r,this}}class zm{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.__data__=new _9;++r<n;)this.add(t[r])}add(t){return this.__data__.set(t,ZP),this}has(t){return this.__data__.has(t)}}zm.prototype.push=zm.prototype.add;const Woe=function(e){var t=Object.prototype.toString;return e===!0||e===!1||!!e&&typeof e=="object"&&t.call(e)===vE},Vr=function(e){return!!e&&(typeof e=="object"||typeof e=="function")},go=function(e){var t=Object.prototype.toString;return typeof e=="number"||!!e&&typeof e=="object"&&t.call(e)===yE},Fi=function(e){var t=Object.prototype.toString;return typeof e=="string"||!!e&&typeof e=="object"&&t.call(e)===wE},Kt=g9((e,t)=>{if(_E(t)||Ca(t)){Ag(t,$g(t),e);return}for(var r in t)hasOwnProperty.call(t,r)&&Tg(e,r,t[r])}),Koe=(e,...t)=>{let r=-1,n=t.length;const i=n>2?t[2]:void 0;for(i&&Vb(t[0],t[1],i)&&(n=1);++r<n;){const o=t[r];if(o==null)continue;const a=Object.keys(o),s=a.length;let l=-1;for(;++l<s;){const u=a[l],f=e[u];(f===void 0||Dh(f,Object.prototype[u])&&!hasOwnProperty.call(e,u))&&(e[u]=o[u])}}return e},pa=Koe,Joe=function(...t){return t.push(void 0,v9),ei.apply(void 0,t)},YI=Joe,Ls=(e,t,...r)=>{let n=-1;const i=typeof t=="function",o=Ca(e)?new Array(e.length):[];return JI(e,a=>{o[++n]=i?t.apply(a,r):Yoe(a,t,...r)}),o},Yoe=(e,t,...r)=>{t=Mh(t,e),e=h9(e,t);const n=e==null?e:e[Df(_oe(t))];return n==null?void 0:n.apply(e,r)},E9=(e,t,r)=>{let n=0,i=e==null?0:e.length;if(i==0)return 0;r=TE(r,2),t=r(t);const o=t!==t,a=t===null,s=_h(t),l=t===void 0;for(;n<i;){let u;const f=Math.floor((n+i)/2),c=r(e[f]),h=c!==void 0,m=c===null,g=c===c,_=_h(c);o?u=g:l?u=g&&h:a?u=g&&h&&!m:s?u=g&&h&&!m&&!_:m||_?u=!1:u=c<t,u?n=f+1:i=f}return Math.min(i,Wie)},xg=(e,t)=>{let r=-1,n=(l,u)=>!!(l==null?0:l.length)&&l.indexOf(u)>-1;t=TE(t,2);let i=!0;const{length:o}=e,a=[];let s=a;if(o>=qI){const l=t?null:Eoe(e);if(l)return SE(l);i=!1,n=(u,f)=>u.has(f),s=new zm}else s=t?[]:a;e:for(;++r<o;){let l=e[r];const u=t?t(l):l;if(l=l!==0?l:0,i&&u===u){let f=s.length;for(;f--;)if(s[f]===u)continue e;t&&s.push(u),a.push(l)}else n(s,u)||(s!==a&&s.push(u),a.push(l))}return a},Ns=e=>Qd(e),ma=e=>Qd(e,!0),Tl=e=>{if(e==null)return!0;if(Ca(e)&&(Array.isArray(e)||typeof e=="string"||typeof e.splice=="function"||Pg(e)||Um(e)))return!e.length;const t=Ra(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(_E(e))return!Qie(e).length;for(const r in e)if(hasOwnProperty.call(e,r))return!1;return!0},Md=(e,t)=>EE(e,t),cn=e=>typeof e=="function",Bn=e=>{if(!cs(e)||Ra(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},Sr=e=>{if(!e)return[];if(Ca(e))return Fi(e)?i9(e):VI(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){const n=e[Symbol.iterator]();let i;const o=[];for(;!(i=n.next()).done;)o.push(i.value);return o}const t=Ra(e);return(t==Eg?f9:t==Sg?SE:Xie)(e)};function Xoe(e,t,r){if(typeof e!="function")throw new TypeError("Expected a function");let n,i,o,a,s,l,u=0,f=!1,c=!1,h=!0;const m=!t&&t!==0&&window&&typeof window.requestAnimationFrame=="function";t=+t||0,Vr(r)&&(f=!!r.leading,c="maxWait"in r,o=c?Math.max(20,t):o,h="trailing"in r?!!r.trailing:h);function g(d){const A=n,P=i;return n=i=void 0,u=d,a=e.apply(P,A),a}function _(d,A){return m?(window.cancelAnimationFrame(s),window.requestAnimationFrame(d)):setTimeout(d,A)}function v(d){if(m)return window.cancelAnimationFrame(d);clearTimeout(d)}function p(d){return u=d,s=_(S,t),f?g(d):a}function E(d){const A=d-l,P=d-u,x=t-A;return c?Math.min(x,o-P):x}function y(d){const A=d-l,P=d-u;return l===void 0||A>=t||A<0||c&&P>=o}function S(){const d=Date.now();if(y(d))return $(d);s=_(S,E(d))}function $(d){return s=void 0,h&&n?g(d):(n=i=void 0,a)}function T(...d){const A=Date.now(),P=y(A);if(n=d,i=this,l=A,P){if(s===void 0)return p(l);if(c)return s=_(S,t),g(l)}return s===void 0&&(s=_(S,t)),a}return T.cancel=()=>{s!==void 0&&v(s),u=0,n=l=i=s=void 0},T.flush=()=>s===void 0?a:$(Date.now()),T.pending=()=>s!==void 0,T}const Qoe=(e,t)=>(t=TE(t,2),Doe(e,(r,n,i)=>(i=t(n),hasOwnProperty.call(r,i)?r[i].push(n):Tg(r,i,[n]),r),{})),XS=(e,t=[])=>{if(e==null)return[];const r=t.length;return r>1&&Vb(e,t[0],t[1])?t=[]:r>2&&Vb(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[TE(t,2)]),Soe(e,t.flat(1),[])},Zoe=e=>(e==null?0:e.length)?b9(e,1/0):[],MD=(e,...t)=>Ca(e)?d9(e,t):[],eae=(e,...t)=>cs(e)&&Ca(e)?d9(e,t.flat(1)):[],rx=(...e)=>{const t=e.flat(1);return xg(t)},Pu=(e,t)=>{if(e==null)return!1;typeof t=="string"&&(t=t.split("."));let r=-1,n=e;for(;++r<t.length;){if(!n||!hasOwnProperty.call(n,t[r]))return!1;n=n[t[r]]}return!0},Un=(e,t,r)=>{t=Mh(t,e);let n=-1,i=t.length;for(i||(i=1,e=void 0);++n<i;){let o=e==null?void 0:e[Df(t[n])];o===void 0&&(n=i,o=r),e=typeof o=="function"?o.call(e):o}return e},qm=(e,...t)=>{let r={};if(e==null)return r;let n=!1;t=t.flat(1).map(o=>(o=Mh(o,e),n||(n=o.length>1),o)),Ag(e,u9(e),r),n&&(r=Qd(r,!0,!0,!0,o=>Bn(o)?void 0:o));let i=t.length;for(;i--;)moe(r,t[i]);return r},ga=(e,t=r=>r)=>{let r=-1;const n=Object(e),i=Ca(e)?o9(e,!0):m9(e);let o=i.length;for(;o--;){const a=i[++r];if(t(n[a],a,n)===!1)break}},tae=(e="")=>qoe(`${e}`.replace(/['\u2019]/g,"")).reduce((t,r,n)=>(r=r.toLowerCase(),t+(n?Hoe(r):r)),"");let rae=0;const nae=(e="")=>{const t=++rae;return`${e}`+t},ei=g9((e,t,r,n)=>{KI(e,t,r,n)},!0),es=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Bu.classNamePrefix.length)!==Bu.classNamePrefix&&(t=Bu.classNamePrefix+t),t}).join(" ")},iae=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Bu.classNamePrefix.length)===Bu.classNamePrefix&&(t=t.substr(Bu.classNamePrefix.length)),t}).join(" ")},Hb=function(e,t){const r={},n={},i=ot.namespace.svg,o=t||i,a=document.createDocumentFragment(),s=function(l,u,f){for(let c=0;c<l.length;c++){const h=l[c];if(typeof h=="string"){const S=document.createTextNode(h);u.appendChild(S);continue}if(!h.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const m=h.tagName;let g;h.hasOwnProperty("namespaceURI")&&(f=h.namespaceURI),g=document.createElementNS(f,m);const _=f===i,v=_?ot:Dr,p=h.attributes;p&&v(g).attr(p);const E=h.style;if(E&&Dr(g).css(E),h.hasOwnProperty("className")){const S=h.className;_?g.className.baseVal=S:g.className=S}if(h.hasOwnProperty("textContent")&&(g.textContent=h.textContent),h.hasOwnProperty("selector")){const S=h.selector;if(r[S])throw new Error("json-dom-parser: selector must be unique");r[S]=g,v(g).attr("joint-selector",S)}if(h.hasOwnProperty("groupSelector")){let S=h.groupSelector;Array.isArray(S)||(S=[S]);for(let $=0;$<S.length;$++){const T=S[$];let d=n[T];d||(d=n[T]=[]),d.push(g)}}u.appendChild(g);const y=h.children;Array.isArray(y)&&s(y,g,f)}};return s(e,a,o),{fragment:a,selectors:r,groupSelectors:n}},kv=function(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return t},Vm=function(e,t,r){for(var n=Array.isArray(t)?t:t.split(r||"/"),i,o=0,a=n.length;o<a;)if(i=n[o++],Object(e)===e&&i in e)e=e[i];else return;return e},S9=function(e,t){return typeof t!="string"&&typeof t!="number"&&(t=String(t)),!(t==="constructor"&&typeof e[t]=="function"||t==="__proto__")},LD=function(e,t,r,n){const i=Array.isArray(t)?t:t.split(n||"/"),o=i.length-1;let a=e,s=0;for(;s<o;s++){const l=i[s];if(!S9(a,l))return e;a=a[l]||(a[l]={})}return a[i[o]]=r,e},FD=function(e,t,r){const n=Array.isArray(t)?t:t.split(r),i=n.length-1;let o=e,a=0;for(;a<i;a++){const s=n[a];if(!S9(o,s))return e;const l=o[s];if(!l)return e;o=l}return delete o[n[i]],e},oae=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})},Ld=function(e){return Ld.id=Ld.id||1,e===void 0?"j_"+Ld.id++:(e.id=e.id===void 0?"j_"+Ld.id++:e.id,e.id)},aae=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},vi=function(e){if(e.normalized)return e;const{originalEvent:t,target:r}=e,n=t&&t.changedTouches&&t.changedTouches[0];if(n)for(let i in n)e[i]===void 0&&(e[i]=n[i]);if(r){const i=r.correspondingUseElement;i&&(e.target=i)}return e.normalized=!0,e},sae=function(e){let i=0,o=0,a=0,s=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(i=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(i=o,o=0),a="deltaX"in e?e.deltaX:i*10,s="deltaY"in e?e.deltaY:o*10,(a||s)&&e.deltaMode&&(e.deltaMode==1?(a*=40,s*=40):(a*=800,s*=800)),e.deltaX===0&&e.deltaY!==0&&e.shiftKey&&(a=s,s=0,i=o,o=0),a&&!i&&(i=a<1?-1:1),s&&!o&&(o=s<1?-1:1),{spinX:i,spinY:o,deltaX:a,deltaY:s}},lae=function(e,t){return e>t?t:e<-50?-50:e},nx=function(){var e;if(typeof window<"u"&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(r){var n=new Date().getTime(),i=Math.max(0,16-(n-t)),o=setTimeout(function(){r(n+i)},i);return t=n+i,o}}return function(r,n,...i){return e(n!==void 0?r.bind(n,...i):r)}}(),ix=function(){var e,t=typeof window<"u";return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e}(),Ti=function(e){return Fi(e)&&e.slice(-1)==="%"},uae=function(e,t){function r(s){var l=new RegExp("(?:\\d+(?:\\.\\d+)*)("+s+")$").exec(e);return l?l[1]:null}var n=parseFloat(e);if(Number.isNaN(n))return null;var i={};i.value=n;var o;if(t==null)o="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;o=t.join("|")}else Fi(t)&&(o=t);var a=r(o);return a===null?null:(i.unit=a,i)},rm=0;function cae(e,t){const r=e.split(t);let n=1;for(let i=0,o=r.length-1;i<o;i++){const a=[];(i>0||r[0]!=="")&&a.push(rm),a.push(t),(i<o-1||r[o]!=="")&&a.push(rm),r.splice(n,0,...a),n+=a.length+1}return r.filter(i=>i!=="")}function BD(e,t){if(e===null)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}const fae=function(e,t,r={},n={}){var i=t.width,o=t.height,a=n.svgDocument||ot("svg").node,s=ot("tspan").node,l=ot("text").attr(r).append(s).node,u=document.createTextNode("");l.style.opacity=0,l.style.display="block",s.style.display="block",s.appendChild(u),a.appendChild(l),n.svgDocument||document.body.appendChild(a);const f=n.preserveSpaces,c=" ",h=n.separator||n.separator===""?n.separator:c,m=typeof h=="string"?h:c;var g=n.eol||`
`,_=n.hyphen?new RegExp(n.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,v=n.maxLineCount;go(v)||(v=1/0);var p=e.split(h),E=[],y=[],S,$,T;f&&ot(s).attr("xml:space","preserve");for(var d=0,A=0,P=p.length;d<P;d++){var x=p[d];if(!(!x&&!f)&&typeof x=="string"){var D=!1;if(x.indexOf(g)>=0)if(x.length>1){const M=cae(p[d],g);p.splice(d,1,...M),d--,P=p.length;continue}else{if(f&&typeof p[d-1]=="string"){p.splice(d,rm,"",rm),P+=2,d--;continue}y[++A]=!f||typeof p[d+1]=="string"?"":void 0,D=!0}if(!D){let M;if(f?M=y[A]!==void 0?y[A]+m+x:x:M=y[A]?y[A]+m+x:x,u.data=M,s.getComputedTextLength()<=i)y[A]=M,(S||$)&&(E[A++]=!0,S=0,$=0);else{if(!y[A]||S){var F=!!S;if(S=x.length-1,F||!S){if(!S){if(!y[A]){y=[];break}p.splice(d,2,x+p[d+1]),P--,E[A++]=!0,d--;continue}p[d]=x.substring(0,S);const B=p[d+1];p[d+1]=x.substring(S)+(B===void 0||B===rm?"":B)}else{if($)p.splice(d,2,p[d]+p[d+1]),$=0;else{var V=x.search(_);V>-1&&V!==x.length-1&&V!==0&&($=V+1,S=0),p.splice(d,1,x.substring(0,$||S),x.substring($||S)),P++}A&&!E[A-1]&&A--}(!f||y[A]!=="")&&d--;continue}A++,d--}}var X=null;if(y.length>v)X=v-1;else if(o!==void 0){if(T===void 0&&u.data!=="")if(r.lineHeight==="auto")T=BD({value:1.5,unit:"em"},l);else{const M=uae(r.lineHeight,["em","px",""]);T=BD(M,l)}T*y.length>o&&(X=Math.floor(o/T)-1)}if(X!==null){y.splice(X+1);var G=n.ellipsis;if(!G||X<0)break;typeof G!="string"&&(G="");var Q=y[X];if(!Q&&!D)break;var ce=Q.length,ee,ae;do{if(ae=Q[ce],ee=Q.substring(0,ce),ae?ae.match(h)&&(ee+=ae):ee+=m,ee+=G,u.data=ee,s.getComputedTextLength()<=i){y[X]=ee;break}ce--}while(ce>=0);break}}}return n.svgDocument?a.removeChild(l):document.body.removeChild(a),y.join(g)},dae=function(e,t){var r=Dr(e),n=r.map(function(){var i=this,o=i.parentNode,a=o.insertBefore(document.createTextNode(""),i.nextSibling);return function(){if(o===this)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(this,a),o.removeChild(a)}});return Array.prototype.sort.call(r,t).each(function(i){n[i].call(this)})},Ef=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var r,n,i,o;return r=n=i=o=0,isFinite(e.vertical)&&(r=i=+e.vertical),isFinite(e.horizontal)&&(n=o=+e.horizontal),isFinite(e.top)&&(r=+e.top),isFinite(e.right)&&(n=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(o=+e.left),{top:r,right:n,bottom:i,left:o}},hae={linear:function(e){return e}},$9={number:function(e,t){var r=t-e;return function(n){return e+r*n}},object:function(e,t){var r=Object.keys(e);return function(n){var i,o,a={};for(i=r.length-1;i!=-1;i--)o=r[i],a[o]=e[o]+(t[o]-e[o])*n;return a}}},pae={outline:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',r=Number.isFinite(e.margin)?e.margin:2,n=Number.isFinite(e.width)?e.width:1;return Hi(t)({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:r+n,innerRadius:r})},highlight:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return Hi(t)({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return Hi('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return Hi(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Hi('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Hi('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Hi('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return Hi('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Hi('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return Hi('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Hi('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},Hi=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(r){return r=r||{},e.replace(t,function(n){for(var i=Array.from(arguments),o=i.slice(1,4).find(function(l){return!!l}),a=o.split("."),s=r[a.shift()];s!==void 0&&a.length;)s=s[a.shift()];return s!==void 0?s:""})}};function T9(e){e=xg(e);const t=Sr(e).reduce(function(r,n){return r[n.id]=n.clone(),r},{});return Sr(e).forEach(function(r){const n=t[r.id];if(n.isLink()){const a=n.source(),s=n.target();a.id&&t[a.id]&&n.prop("source/id",t[a.id].id),s.id&&t[s.id]&&n.prop("target/id",t[s.id].id)}const i=r.get("parent");i&&t[i]&&n.set("parent",t[i].id);const o=Sr(r.get("embeds")).reduce(function(a,s){return t[s]&&a.push(t[s].id),a},[]);Tl(o)||n.set("embeds",o)}),t}const mae=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],gae=mae.reduce((e,t)=>(e[t]=!0,e),{}),vae={qualify:function(e){return Bn(e)},set:function(e,t,r){Object.keys(e).forEach(function(n){if(gae[n]&&n in r){const i=e[n];r.tagName==="SELECT"&&Array.isArray(i)?Array.from(r.options).forEach(function(o,a){o.selected=i.includes(o.value)}):r[n]=i}})}};function iu(e,t){return function(r,n){var i=Ti(r);r=parseFloat(r),i&&(r/=100);var o={};if(isFinite(r)){var a=i||r>=0&&r<=1?r*n[t]:Math.max(r+n[t],0);o[e]=a}return o}}function jv(e,t,r){return function(n,i){var o=Ti(n);n=parseFloat(n),o&&(n/=100);var a;if(isFinite(n)){var s=i[r]();o||n>0&&n<1?a=s[e]+i[t]*n:a=s[e]+n}var l=ze();return l[e]=a||0,l}}function UD(e,t,r){return function(n,i){var o;n==="middle"?o=i[t]/2:n===r?o=i[t]:isFinite(n)?o=n>-1&&n<1?-i[t]*n:-n:Ti(n)?o=i[t]*parseFloat(n)/100:o=0;var a=ze();return a[e]=-(i[e]+o),a}}function A9(e,t){var r="joint-shape",n=t&&t.resetOffset;return function(i,o,a){var s=Dr(a),l=s.data(r);if(!l||l.value!==i){var u=e(i);l={value:i,shape:u,shapeBBox:u.bbox()},s.data(r,l)}var f=l.shape.clone(),c=l.shapeBBox.clone(),h=c.origin(),m=o.origin();c.x=m.x,c.y=m.y;var g=o.maxRectScaleToFit(c,m),_=c.width===0||o.width===0?1:g.sx,v=c.height===0||o.height===0?1:g.sy;return f.scale(_,v,h),n&&f.translate(-h.x,-h.y),f}}function zD(e){function t(n){return new Bt(ot.normalizePathData(n))}var r=A9(t,e);return function(n,i,o){var a=r(n,i,o);return{d:a.serialize()}}}function qD(e){var t=A9(sn,e);return function(r,n,i){var o=t(r,n,i);return{points:o.serialize()}}}function Dv(e,t){var r=new ze(1,0);return function(n){var i,o,a=this[e](n);return a?(o=t.rotate?a.vector().vectorAngle(r):0,i=a.start):(i=this.path.start,o=0),o===0?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+o+")"}}}function VD(e){return function(r,n,i){const o=ot(i);o.attr(e)!==r&&o.attr(e,r)}}function od(e,t,r){return r.text!==void 0}function up(){return this.model.isLink()}function QS(e){var t={},r=e.stroke;typeof r=="string"&&(t.stroke=r,t.fill=r);var n=e.strokeOpacity;return n===void 0&&(n=e["stroke-opacity"]),n===void 0&&(n=e.opacity),n!==void 0&&(t["stroke-opacity"]=n,t["fill-opacity"]=n),t}function HD(e){const{paper:t}=this;return`url(#${e.type==="pattern"?t.definePattern(e):t.defineGradient(e)})`}const tr={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:VD("href")},xlinkHref:{set:VD("xlink:href")},filter:{qualify:Bn,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:Bn,set:HD},stroke:{qualify:Bn,set:HD},sourceMarker:{qualify:Bn,set:function(e,t,r,n){return e=Kt(QS(n),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:Bn,set:function(e,t,r,n){return e=Kt(QS(n),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:Bn,set:function(e,t,r,n){return e=Kt(QS(n),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,r){return!r.textWrap||!Bn(r.textWrap)},set:function(e,t,r,n){const i=Dr(r),o="joint-text",a=i.data(o),{lineHeight:s,annotations:l,textVerticalAnchor:u,eol:f,displayEmpty:c}=n;let h=n.textPath,m=n.x;ba(m)&&(m=_a(m,t));let g=n["font-size"]||n.fontSize;ba(g)&&(g=_a(g,t));const _=JSON.stringify([e,s,l,u,f,c,h,m,g]);if(a===void 0||a!==_){if(g&&r.setAttribute("font-size",g),Vr(h)){const v=h.selector;if(typeof v=="string"){const[p]=this.findBySelector(v);p instanceof SVGPathElement&&(h=Kt({"xlink:href":"#"+p.id},h))}}ot(r).text(""+e,{lineHeight:s,annotations:l,textPath:h,x:m,textVerticalAnchor:u,eol:f,displayEmpty:c}),i.data(o,_)}}},textWrap:{qualify:Bn,set:function(e,t,r,n){var i={},o=e.width||0;Ti(o)?i.width=t.width*parseFloat(o)/100:ba(o)?i.width=Number(_a(o,t)):e.width===null?i.width=1/0:o<=0?i.width=t.width+o:i.width=o;var a=e.height||0;Ti(a)?i.height=t.height*parseFloat(a)/100:ba(a)?i.height=Number(_a(a,t)):e.height===null||(a<=0?i.height=t.height+a:i.height=a);var s,l=e.text;if(l===void 0&&(l=n.text),l!==void 0){const u=e.breakText||fae,f=n["font-size"]||n.fontSize;s=u(""+l,i,{"font-weight":n["font-weight"]||n.fontWeight,"font-size":ba(f)?_a(f,t):f,"font-family":n["font-family"]||n.fontFamily,lineHeight:n.lineHeight,"letter-spacing":"letter-spacing"in n?n["letter-spacing"]:n.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else s="";tr.text.set.call(this,s,t,r,n)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,r){var n=Dr(r),i="joint-title",o=n.data(i);if(o===void 0||o!==e){if(n.data(i,e),r.tagName==="title"){r.textContent=e;return}var a=r.firstElementChild;if(a&&a.tagName==="title")a.textContent=e;else{var s=document.createElementNS(r.namespaceURI,"title");s.textContent=e,r.insertBefore(s,a)}}}},lineHeight:{qualify:od},textVerticalAnchor:{qualify:od},textPath:{qualify:od},annotations:{qualify:od},eol:{qualify:od},displayEmpty:{qualify:od},port:{set:function(e){return e===null||e.id===void 0?e:e.id}},style:{qualify:Bn,set:function(e,t,r){Dr(r).css(e)}},html:{set:function(e,t,r){Dr(r).html(e+"")}},props:vae,ref:{},refX:{position:jv("x","width","origin")},refY:{position:jv("y","height","origin")},refDx:{position:jv("x","width","corner")},refDy:{position:jv("y","height","corner")},refWidth:{set:iu("width","width")},refHeight:{set:iu("height","height")},refRx:{set:iu("rx","width")},refRy:{set:iu("ry","height")},refRInscribed:{set:function(e){var t=iu(e,"width"),r=iu(e,"height");return function(n,i){var o=i.height>i.width?t:r;return o(n,i)}}("r")},refRCircumscribed:{set:function(e,t){var r=Ti(e);e=parseFloat(e),r&&(e/=100);var n=Math.sqrt(t.height*t.height+t.width*t.width),i;return isFinite(e)&&(r||e>=0&&e<=1?i=e*n:i=Math.max(e+n,0)),{r:i}}},refCx:{set:iu("cx","width")},refCy:{set:iu("cy","height")},xAlignment:{offset:UD("x","width","right")},yAlignment:{offset:UD("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:zD({resetOffset:!0})},refDKeepOffset:{set:zD({resetOffset:!1})},refPointsResetOffset:{set:qD({resetOffset:!0})},refPointsKeepOffset:{set:qD({resetOffset:!1})},connection:{qualify:up,set:function({stubs:e=0}){let t;if(isFinite(e)&&e!==0){let r;e<0?r=(this.getConnectionLength()+e)/2:r=e;const n=this.getConnection(),i=this.getConnectionSubdivisions(),o=n.divideAtLength(r,{segmentSubdivisions:i}),a=n.divideAtLength(-r,{segmentSubdivisions:i});o&&a&&(t=`${o[0].serialize()} ${a[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:up,set:Dv("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:up,set:Dv("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:up,set:Dv("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:up,set:Dv("getTangentAtRatio",{rotate:!1})}};tr["xlink:href"]=tr.xlinkHref;["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(e=>{tr[e]={qualify:ba,set:function(r,n){return{[e]:_a(r,n)}}}});["width","height","r","rx","ry","font-size","stroke-width"].forEach(e=>{tr[e]={qualify:ba,set:function(r,n){return{[e]:Math.max(0,_a(r,n))}}}});tr.refR=tr.refRInscribed;tr.refD=tr.refDResetOffset;tr.refPoints=tr.refPointsResetOffset;tr.atConnectionLength=tr.atConnectionLengthKeepGradient;tr.atConnectionRatio=tr.atConnectionRatioKeepGradient;tr.fontSize=tr["font-size"];tr.strokeWidth=tr["stroke-width"];tr.refX2=tr.refX;tr.refY2=tr.refY;tr.refWidth2=tr.refWidth;tr.refHeight2=tr.refHeight;tr["ref-x"]=tr.refX;tr["ref-y"]=tr.refY;tr["ref-dy"]=tr.refDy;tr["ref-dx"]=tr.refDx;tr["ref-width"]=tr.refWidth;tr["ref-height"]=tr.refHeight;tr["x-alignment"]=tr.xAlignment;tr["y-alignment"]=tr.yAlignment;const P9=tr,Ws=Di.Model.extend({constructor:function(e,t){var r,n=e||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=nae("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(n=this.parse(n,t)||{}),(r=Un(this,"defaults"))&&(n=ei({},r,n)),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,r){throw new Error("Must define a translate() method.")},toJSON:function(){const t=Un(this.constructor.prototype,"defaults").attrs||{},r=this.attributes.attrs,n={};ga(r,function(o,a){const s=t[a];ga(o,function(l,u){Vr(l)&&!Array.isArray(l)?ga(l,function(f,c){(!s||!s[u]||!Md(s[u][c],f))&&(n[a]=n[a]||{},(n[a][u]||(n[a][u]={}))[c]=f)}):(!s||!Md(s[u],l))&&(n[a]=n[a]||{},n[a][u]=l)})});const i=ma(qm(this.attributes,"attrs"));return i.attrs=n,i},initialize:function(e){const t=this.getIdAttribute();(!e||e[t]===void 0)&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return oae()},processPorts:function(){var e=this.ports,t={};ga(this.get("attrs"),function(o,a){o&&o.port&&(o.port.id!==void 0?t[o.port.id]=o.port:t[o.port]={id:o.port})});var r={};if(ga(e,function(o,a){t[a]||(r[a]=!0)}),this.graph&&!Tl(r)){var n=this.graph.getConnectedLinks(this,{inbound:!0});n.forEach(function(o){r[o.get("target").port]&&o.remove()});var i=this.graph.getConnectedLinks(this,{outbound:!0});i.forEach(function(o){r[o.get("source").port]&&o.remove()})}this.ports=t},remove:function(e={}){const{graph:t,collection:r}=this;if(!t)return r&&r.remove(this,e),this;t.startBatch("remove");const n=this.getParentCell();n&&n.unembed(this,e);const i=this.getEmbeddedCells();for(let o=0,a=i.length;o<a;o++){const s=i[o];s&&s.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=pa(e||{},{foregroundEmbeds:!0});let r;e.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),r.unshift(this)):r=[this];const n=e.foregroundEmbeds?r:XS(r,l=>l.z());let o=t.maxZIndex()-r.length+1;const a=t.get("cells");let s=a.indexOf(n[0])!==a.length-r.length;s||(s=n.some(function(l,u){return l.z()!==o+u})),s&&(this.startBatch("to-front"),o=o+r.length,n.forEach(function(l,u){l.set("z",o+u,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=pa(e||{},{foregroundEmbeds:!0});let n;e.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];const i=e.foregroundEmbeds?n:XS(n,s=>s.z());let o=t.minZIndex();var r=t.get("cells");let a=r.indexOf(i[0])!==0;a||(a=i.some(function(s,l){return s.z()!==o+l})),a&&(this.startBatch("to-back"),o-=n.length,i.forEach(function(s,l){s.set("z",o+l,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return e===void 0?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){const r=Array.isArray(e)?e:[e];if(!this.canEmbed(r))throw new Error("Recursive embedding not allowed.");if(r.some(n=>n.isEmbedded()&&this.id!==n.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(r,t),this},unembed:function(e,t){const r=Array.isArray(e)?e:[e];return this._unembedCells(r,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every(r=>this!==r&&!this.isEmbeddedIn(r))},_embedCells:function(e,t){const r="embed";this.startBatch(r);const n=Kt([],this.get("embeds"));e.forEach(i=>{n[i.isLink()?"unshift":"push"](i.id),i.parent(this.id,t)}),this.set("embeds",xg(n),t),this.stopBatch(r)},_unembedCells:function(e,t){const r="unembed";this.startBatch(r),e.forEach(n=>n.unset("parent",t)),this.set("embeds",MD(this.get("embeds"),...e.map(n=>n.id)),t),this.stopBatch(r)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},!this.graph)return[];if(e.deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);const t=this.get("embeds");if(Tl(t))return[];let r=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(r=XS(r,n=>n.z())),r},_getEmbeddedCellsBfs:function(e){const t=[],r=[];for(r.push(this);r.length>0;){const n=r.shift();t.push(n);const i=n.getEmbeddedCells({sortSiblings:e});r.push(...i)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){const t=[],r=[];for(r.push(this);r.length>0;){const n=r.pop();t.push(n);const i=n.getEmbeddedCells({sortSiblings:e});for(let o=i.length-1;o>=0;--o)r.push(i[o])}return t.shift(),t},isEmbeddedIn:function(e,t){var r=Fi(e)?e:e.id,n=this.parent();if(t=Kt({deep:!0},t),this.graph&&t.deep){for(;n;){if(n===r)return!0;n=this.graph.getCell(n).parent()}return!1}else return n===r},isEmbedded:function(){return!!this.parent()},clone:function(e){if(e=e||{},e.deep)return Sr(T9([this].concat(this.getEmbeddedCells({deep:!0}))));var t=Di.Model.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,r){var n="/",i=Fi(e);if(i||Array.isArray(e))if(arguments.length>1){var o,a;i?(o=e,a=o.split("/")):(o=e.join(n),a=e.slice());var s=a[0],l=a.length;const y=r||{};y.propertyPath=o,y.propertyValue=t,y.propertyPathArray=a,"rewrite"in y||(y.rewrite=!1);for(var u={},f=u,c=s,h=1;h<l;h++){var m=a[h],g=Number.isFinite(i?Number(m):m);f=f[c]=g?[]:{},c=m}u=LD(u,a,t,"/");var _=ei({},this.attributes);y.rewrite&&FD(_,o,"/");var v=ei(_,u);return this.set(s,v[s],y)}else return Vm(this.attributes,e,n);const p=t||{};p.propertyPath=null,p.propertyValue=e,p.propertyPathArray=[],"rewrite"in p||(p.rewrite=!1);const E={};for(const y in e){const{changedValue:S}=ei({},{changedValue:this.attributes[y]},{changedValue:e[y]});E[y]=S}return this.set(E,p)},removeProp:function(e,t){t=t||{};var r=Array.isArray(e)?e:e.split("/"),n=r[0];if(n==="attrs"&&(t.dirty=!0),r.length===1)return this.unset(e,t);var i=r.slice(1),o=this.get(n);return o==null?this:(o=ma(o),FD(o,i,"/"),this.set(n,o,t))},attr:function(e,t,r){var n=Array.from(arguments);return n.length===0?this.get("attrs"):(Array.isArray(e)?n[0]=["attrs"].concat(e):Fi(e)?n[0]="attrs/"+e:n[0]={attrs:e},this.prop.apply(this,n))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,r,n){n=n||"/";var i={duration:100,delay:10,timingFunction:hae.linear,valueFunction:$9.number};r=Kt(i,r);var o=0,a,s=(function(c){var h,m,g;o=o||c,c-=o,m=c/r.duration,m<1?this._transitionIds[e]=h=nx(s):(m=1,delete this._transitionIds[e]),g=a(r.timingFunction(m)),r.transitionId=h,this.prop(e,g,r),h||this.trigger("transition:end",this,e)}).bind(this);const{_scheduledTransitionIds:l}=this;let u;var f=c=>{l[e]&&(l[e]=MD(l[e],u),l[e].length===0&&delete l[e]),this.stopPendingTransitions(e,n),a=r.valueFunction(Vm(this.attributes,e,n),t),this._transitionIds[e]=nx(c),this.trigger("transition:start",this,e)};return u=setTimeout(f,r.delay,s),l[e]||(l[e]=[]),l[e].push(u),u},getTransitions:function(){return rx(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t="/"){const{_scheduledTransitionIds:r={}}=this;let n=Object.keys(r);if(e){const i=e.split(t);n=n.filter(o=>Md(i,o.split(t).slice(0,i.length)))}return n.forEach(i=>{r[i].forEach(a=>clearTimeout(a)),delete r[i]}),this},stopPendingTransitions(e,t="/"){const{_transitionIds:r={}}=this;let n=Object.keys(r);if(e){const i=e.split(t);n=n.filter(o=>Md(i,o.split(t).slice(0,i.length)))}n.forEach(i=>{const o=r[i];ix(o),delete r[i],this.trigger("transition:end",this,i)})},stopTransitions:function(e,t="/"){return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,Kt({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,Kt({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var r in e)!e.hasOwnProperty(r)||!this.hasChanged(r)||(t|=e[r]);return t},angle:function(){return 0},position:function(){return new ze(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new ze},getBBox:function(){return new xt(0,0,0,0)},getPointRotatedAroundCenter(e,t,r){const n=new ze(t,r);return e&&n.rotate(this.getBBox().center(),e),n},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes,r=P9;return t&&t[e]||r[e]},define:function(e,t,r,n){r=Kt({defaults:YI({type:e},t,this.prototype.defaults)},r);var i=this.extend(r,n);return typeof joint<"u"&&Pu(joint,"shapes")&&LD(joint.shapes,e,i,"."),i}}),yae=function(e,t,r){if(Fi(r)){if(!ox[r])throw new Error('Unknown wrapper: "'+r+'"');r=ox[r]}if(!cn(r))throw new Error("Wrapper must be a function.");Sr(t).forEach(function(n){e[n]=r(e[n])})},ox={cells:function(e){return function(){var t=Array.from(arguments),r=t.length,n=r>0&&t[0]||[],i=r>1&&t[r-1]||{};return Array.isArray(n)||(i instanceof Ws?n=t:n instanceof Ws&&(t.length>1&&t.pop(),n=t)),i instanceof Ws&&(i={}),e.call(this,n,i)}}},kn={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function x9(e,t){const r=new xt(e);switch(t){case void 0:throw new Error("Position required");case kn.LEFT:case"leftMiddle":return r.leftMiddle();case kn.RIGHT:case"rightMiddle":return r.rightMiddle();case kn.TOP:case"topMiddle":return r.topMiddle();case kn.BOTTOM:case"bottomMiddle":return r.bottomMiddle();case kn.TOP_LEFT:case"topLeft":case"origin":return r.topLeft();case kn.TOP_RIGHT:case"topRight":return r.topRight();case kn.BOTTOM_LEFT:case"bottomLeft":return r.bottomLeft();case kn.BOTTOM_RIGHT:case"bottomRight":case"corner":return r.bottomRight();case kn.CENTER:return r.center();default:throw new Error(`Unknown position: ${t}`)}}function O9(e,t,r){var n=e.toJSON();return n.angle=t||0,pa({},r,n)}function Og(e,t,r,n){return e.map(function(i,o,a){var s=this.pointAt((o+.5)/a.length);return(i.dx||i.dy)&&s.offset(i.dx||0,i.dy||0),O9(s.round(),0,XI(n,i))},uf(t,r))}function R9(e,t,r,n){var i=t.center(),o=t.width/t.height,a=t.topMiddle(),s=Xi.fromRect(t);return e.map(function(l,u,f){var c=r+n(u,f.length),h=a.clone().rotate(i,-c).scale(o,1,i),m=l.compensateRotation?-s.tangentTheta(h):0;return(l.dx||l.dy)&&h.offset(l.dx||0,l.dy||0),l.dr&&h.move(i,l.dr),O9(h.round(),m,XI(t,l))})}function XI(e,t){let{x:r,y:n,angle:i}=t;return Ti(r)?r=parseFloat(r)/100*e.width:ba(r)&&(r=Number(_a(r,e))),Ti(n)?n=parseFloat(n)/100*e.height:ba(n)&&(n=Number(_a(n,e))),{x:r,y:n,angle:i}}function ax(e,t){const{x:r,y:n}=XI(e,t);return new ze(r||0,n||0)}const wae=function(e,t){return e.map(r=>{const n=ax(t,r).round().toJSON();return n.angle=r.angle||0,n})},bae=function(e,t,r){return r.fn(e,t,r)},_ae=function(e,t,r){var n=ax(t,r.start||t.origin()),i=ax(t,r.end||t.corner());return Og(e,n,i,t)},Eae=function(e,t,r){return Og(e,t.origin(),t.bottomLeft(),t)},Sae=function(e,t,r){return Og(e,t.topRight(),t.corner(),t)},$ae=function(e,t,r){return Og(e,t.origin(),t.topRight(),t)},Tae=function(e,t,r){return Og(e,t.bottomLeft(),t.corner(),t)},Aae=function(e,t,r){var n=r.startAngle||0,i=r.step||360/e.length;return R9(e,t,n,function(o){return o*i})},Pae=function(e,t,r){var n=r.startAngle||0,i=r.step||20;return R9(e,t,n,function(o,a){return(o+.5-a/2)*i})},xae=Object.freeze(Object.defineProperty({__proto__:null,absolute:wae,bottom:Tae,ellipse:Pae,ellipseSpread:Aae,fn:bae,left:Eae,line:_ae,right:Sae,top:$ae},Symbol.toStringTag,{value:"Module"}));function sc(e,t){return YI({},e,t,{x:0,y:0,angle:0,attrs:{}})}function I9(e){var t=e.center(),r=t.theta(e.origin()),n=t.theta(e.bottomLeft()),i=t.theta(e.corner()),o=t.theta(e.topRight());return[r,o,i,n]}function N9(e,t,r,n){n=pa({},n,{offset:15});var i=t.center().theta(e),o,a,s,l,u=n.offset,f=0;const[c,h,m,g]=I9(t);i<h||i>m?(s=".3em",o=u,a=0,l="start"):i<c?(o=0,a=-u,r?(f=-90,l="start",s=".3em"):(l="middle",s="0")):i<g?(s=".3em",o=-u,a=0,l="end"):(o=0,a=u,r?(f=90,l="start",s=".3em"):(l="middle",s=".6em"));var _=Math.round;return sc(n,{x:_(o),y:_(a),angle:f,attrs:{labelText:{y:s,textAnchor:l}}})}function C9(e,t,r,n){n=pa({},n,{offset:15});var i=t.center().theta(e),o,a,s,l,u=n.offset,f=0;const[c,h,m,g]=I9(t);i<h||i>m?(s=".3em",o=-u,a=0,l="end"):i<c?(o=0,a=u,r?(f=90,l="start",s=".3em"):(l="middle",s=".6em")):i<g?(s=".3em",o=u,a=0,l="start"):(o=0,a=-u,r?(f=-90,l="start",s=".3em"):(l="middle",s="0"));var _=Math.round;return sc(n,{x:_(o),y:_(a),angle:f,attrs:{labelText:{y:s,textAnchor:l}}})}function k9(e,t,r){r=pa({},r,{offset:20});var n=Lb(0,0),i=-e.theta(n),o=i,a=e.clone().move(n,r.offset).difference(e).round(),s=".3em",l;(i+90)%180===0?(l=t?"end":"middle",!t&&i===-270&&(s="0em")):i>-270&&i<-90?(l="start",o=i-180):l="end";var u=Math.round;return sc(r,{x:u(a.x),y:u(a.y),angle:t?o:0,attrs:{labelText:{y:s,textAnchor:l}}})}const Oae=function(e,t,r){return sc(r)},Rae=function(e,t,r){return sc(r,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},Iae=function(e,t,r){return sc(r,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},Nae=function(e,t,r){return sc(r,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},Cae=function(e,t,r){return sc(r,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},kae=function(e,t,r){return N9(e,t,!0,r)},jae=function(e,t,r){return N9(e,t,!1,r)},Dae=function(e,t,r){return C9(e,t,!0,r)},Mae=function(e,t,r){return C9(e,t,!1,r)},Lae=function(e,t,r){return k9(e.difference(t.center()),!1,r)},Fae=function(e,t,r){return k9(e.difference(t.center()),!0,r)},Bae=Object.freeze(Object.defineProperty({__proto__:null,bottom:Cae,inside:Mae,insideOriented:Dae,left:Rae,manual:Oae,outside:jae,outsideOriented:kae,radial:Lae,radialOriented:Fae,right:Iae,top:Nae},Symbol.toStringTag,{value:"Module"})),Lh=Ws.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,r){if(e===void 0)return Ns(this.get("source"));var n,i,o=e instanceof Ws;if(o)return n=Ns(t)||{},n.id=e.id,i=r,this.set("source",n,i);var a=!Bn(e);return a?(n=Ns(t)||{},n.x=e.x,n.y=e.y,i=r,this.set("source",n,i)):(n=e,i=t,this.set("source",n,i))},target:function(e,t,r){if(e===void 0)return Ns(this.get("target"));var n,i,o=e instanceof Ws;if(o)return n=Ns(t)||{},n.id=e.id,i=r,this.set("target",n,i);var a=!Bn(e);return a?(n=Ns(t)||{},n.x=e.x,n.y=e.y,i=r,this.set("target",n,i)):(n=e,i=t,this.set("target",n,i))},router:function(e,t,r){if(e===void 0){var n=this.get("router");return n?typeof n=="object"?Ns(n):n:this.get("manhattan")?{name:"orthogonal"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},a=i?t:r;return this.set("router",o,a)},connector:function(e,t,r){if(e===void 0){var n=this.get("connector");return n?typeof n=="object"?Ns(n):n:this.get("smooth")?{name:"smooth"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},a=i?t:r;return this.set("connector",o,a)},label:function(e,t,r){var n=this.labels();return e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=n.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,r)},labels:function(e,t){return arguments.length===0?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){const{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,r){if(!t)throw new Error("dia.Link: no label provided");var n=this.labels(),i=n.length;return e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1),n.splice(e,0,t),this.labels(n,r)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var r=this.labels();return e=isFinite(e)&&e!==null?e|0:-1,r.splice(e,1),this.labels(r,t)},vertex:function(e,t,r){var n=this.vertices();if(e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=n.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,r)},vertices:function(e,t){if(arguments.length===0)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var r=[],n=0;n<e.length;n++){var i=e[n],o=this._normalizeVertex(i);r.push(o)}return this.set("vertices",r,t)},insertVertex:function(e,t,r){if(!t)throw new Error("dia.Link: no vertex provided");var n=this.vertices(),i=n.length;e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1);var o=this._normalizeVertex(t);return n.splice(e,0,o),this.vertices(n,r)},removeVertex:function(e,t){var r=this.vertices();return e=isFinite(e)&&e!==null?e|0:-1,r.splice(e,1),this.vertices(r,t)},_normalizeVertex:function(e){var t=!Bn(e);return t?{x:e.x,y:e.y}:e},translate:function(e,t,r){return r=r||{},r.translateBy=r.translateBy||this.id,r.tx=e,r.ty=t,this.applyToPoints(function(n){return{x:(n.x||0)+e,y:(n.y||0)+t}},r)},scale:function(e,t,r,n){return this.applyToPoints(function(i){return ze(i).scale(e,t,r).toJSON()},n)},applyToPoints:function(e,t){if(!cn(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var r={},{source:n,target:i}=this.attributes;n.id||(r.source=e(n)),i.id||(r.target=e(i));var o=this.vertices();return o.length>0&&(r.vertices=o.map(e)),this.set(r,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new ze(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new ze(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const e=[this.getSourcePoint(),...this.vertices().map(ze),this.getTargetPoint()];return new sn(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var r=this.getSourceElement(),n=this.getTargetElement(),i=this.getParentCell();r&&n&&(r===n||r.isEmbeddedIn(n)?t=n:n.isEmbeddedIn(r)?t=r:t=this.graph.getCommonAncestor(r,n)),i&&(!t||t.id!==i.id)&&i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:r}=this.attributes,n=t.id,i=r.id;if(!n||!i)return!1;var o=n===i;if(!o&&e.deep&&this.graph){var a=this.getSourceCell(),s=this.getTargetCell();o=a.isEmbeddedIn(s)||s.isEmbeddedIn(a)}return o},getSourceCell:function(){const{graph:e,attributes:t}=this;var r=t.source;return r&&r.id&&e&&e.getCell(r.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){const{graph:e,attributes:t}=this;var r=t.target;return r&&r.id&&e&&e.getCell(r.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(r){return!!r});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=Fi(e)||go(e)?e:e.id,r=this.getRelationshipAncestor();return!!r&&(r.id===t||r.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){var r=e.port===t.port||!e.port&&!t.port;return e.id===t.id&&r}});var j9=function(e){var t=ma(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=xae,this.portLabelLayoutNamespace=Bae,this._init(t)};j9.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var r=this.getGroup(e),n=this.getPortsByGroup(e),i=r.position||{},o=i.name,a=this.portLayoutNamespace;a[o]||(o="left");var s=i.args||{},l=n.map(function(c){return c&&c.position&&c.position.args}),u=a[o](l,t,s),f={ports:n,result:[]};return Sr(u).reduce((function(c,h,m){var g=c.ports[m];return c.result.push({portId:g.id,portTransformation:h,labelTransformation:this._getPortLabelLayout(g,ze(h),t),portAttrs:g.attrs,portSize:g.size,labelSize:g.label.size}),c}).bind(this),f),f.result},_getPortLabelLayout:function(e,t,r){var n=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return n[i]?n[i](t,r,e.label.position.args):null},_init:function(e){if(Vr(e.groups))for(var t=Object.keys(e.groups),r=0,n=t.length;r<n;r++){var i=t[r];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var o=Sr(e.items),a=0,s=o.length;a<s;a++)this.ports.push(this._evaluatePort(o[a]))},_evaluateGroup:function(e){return ei(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=Kt({},e),r=this.getGroup(e.group);return t.markup=t.markup||r.markup,t.attrs=ei({},r.attrs,t.attrs),t.position=this._createPositionNode(r,t),t.label=ei({},r.label,this._getLabel(t)),t.z=this._getZIndex(r,t),t.size=Kt({},r.size,t.size),t},_getZIndex:function(e,t){return go(t.z)?t.z:go(e.z)||e.z==="auto"?e.z:"auto"},_createPositionNode:function(e,t){return ei({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var r={},n;cn(e)?(n="fn",r.fn=e):Fi(e)?n=e:e===void 0?n=t?"left":null:Array.isArray(e)?(n="absolute",r.x=e[0],r.y=e[1]):Vr(e)&&(n=e.name,Kt(r,e.args));var i={args:r};return n&&(i.name=n),i},_getLabel:function(e,t){var r=e.label||{},n=r;return n.position=this._getPosition(r.position,t),n}};const Uae={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};Sr(e.items).forEach(function(s){t[s.id]=!0});var r=this.previous("ports")||{},n={};Sr(r.items).forEach(function(s){t[s.id]||(n[s.id]=!0)});var i=this.graph;if(i&&!Tl(n)){var o=i.getConnectedLinks(this,{inbound:!0});o.forEach(function(s){n[s.get("target").port]&&s.remove()});var a=i.getConnectedLinks(this,{outbound:!0});a.forEach(function(s){n[s.get("source").port]&&s.remove()})}},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return this.getPortIndex(e)!==-1},getPorts:function(){return ma(this.prop("ports/items"))||[]},getGroupPorts:function(e){const t=Sr(this.prop(["ports","items"])).filter(r=>r.group===e);return ma(t)},getPort:function(e){return ma(Sr(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){var t=this._portSettingsData.getGroupPortsMetrics(e,xt(this.size()));return t.reduce(function(r,n){var i=n.portTransformation;return r[n.portId]={x:i.x,y:i.y,angle:i.angle},r},{})},getPortIndex:function(e){var t=Vr(e)?e.id:e;return this._isValidPortId(t)?Sr(this.prop("ports/items")).findIndex(function(r){return r.id===t}):-1},addPort:function(e,t){if(!Vr(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var r=Kt([],this.prop("ports/items"));return r.push(e),this.prop("ports/items",r,t),this},insertPort:function(e,t,r){const n=typeof e=="number"?e:this.getPortIndex(e);if(!Vr(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");const i=Kt([],this.prop("ports/items"));return i.splice(n,0,t),this.prop("ports/items",i,r),this},portProp:function(e,t,r,n){var i=this.getPortIndex(e);if(i===-1)throw new Error("Element: unable to find port with id "+e);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?o[0]=["ports","items",i].concat(t):Fi(t)?o[0]=["ports/items/",i,"/",t].join(""):(o=["ports/items/"+i],Bn(t)&&(o.push(t),o.push(r))),this.prop.apply(this,o)},_validatePorts:function(){var e=this.get("ports")||{},t=[];e=e||{};var r=Sr(e.items);return r.forEach(function(n){typeof n!="object"&&t.push("Element: invalid port ",n),this._isValidPortId(n.id)||(n.id=this.generatePortId())},this),xg(r,"id").length!==r.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return e!=null&&!Vr(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",Kt([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){const r=t||{},n=this.getPortIndex(e);if(n!==-1){const i=Kt([],this.prop(["ports","items"]));i.splice(n,1),r.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,r),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let r,n;if(Array.isArray(e)){if(r=t||{},e.length===0)return this.this;n=Kt([],this.prop(["ports","items"])).filter(function(o){return!e.some(function(a){const s=Vr(a)?a.id:a;return o.id===s})})}else r=e||{},n=[];return this.startBatch("port-remove"),r.rewrite=!0,this.prop(["ports","items"],n,r),this.stopBatch("port-remove"),this},_createPortData:function(){var e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));var t;this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new j9(this.get("ports"));var r=this._portSettingsData.getPorts();if(t){var n=r.filter(function(o){if(!t.find(function(a){return a.id===o.id}))return o}),i=t.filter(function(o){if(!r.find(function(a){return a.id===o.id}))return o});i.length>0&&this.trigger("ports:remove",this,i),n.length>0&&this.trigger("ports:add",this,n)}}},zae={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),r=0,n=t.node.childNodes.length;r<n;r++)e.push(t.node.childNodes[r]);var i=Qoe(this.model._portSettingsData.getPorts(),"z"),o="auto";Sr(i[o]).forEach(function(f){var c=this._getPortElement(f);t.append(c),e.push(c)},this);for(var a=Object.keys(i),s=0;s<a.length;s++){var l=a[s];if(l!==o){var u=parseInt(l,10);this._appendPorts(i[l],u,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,r){var n=this._getContainerElement(),i=Sr(e).map(this._getPortElement,this);r[t]||t<0?ot(r[Math.max(t,0)]).before(i):n.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){const r=this._portElementsCache[e];if(!r)return null;if(!t)return r.portContentElement.node;const n=r.portElement.node,i=r.portSelectors,[o=null]=this.findBySelector(t,n,i);return o},_updatePorts:function(){this._updatePortGroup(void 0);var e=Object.keys(this.model._portSettingsData.groups);e.forEach(this._updatePortGroup,this)},_removePorts:function(){Ls(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,r,n,i;var o=ot(this.portContainerMarkup).addClass("joint-port"),a=this._getPortMarkup(e);if(Array.isArray(a)){var s=this.parseDOMJSON(a,o.node),l=s.fragment;l.childNodes.length>1?t=ot("g").append(l):t=ot(l.firstChild),i=s.selectors}else t=ot(a),Array.isArray(t)&&(t=ot("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});const u=this._getPortLabelMarkup(e.label);if(Array.isArray(u)){const{fragment:_,selectors:v}=this.parseDOMJSON(u,o.node),p=_.childNodes.length;p>0&&(n=v,r=p===1?ot(_.firstChild):ot("g").append(_))}else r=ot(u),Array.isArray(r)&&(r=ot("g").append(r));var f;if(i&&n){for(var c in n)if(i[c]&&c!==this.selector)throw new Error("ElementView: selectors within port must be unique.");f=Kt({},i,n)}else f=i||n||{};const h="portRoot",m="labelRoot",g="labelText";if(h in f||(f[h]=t.node),r){const _=r.node;if(m in f||(f[m]=_),!(g in f)){const v=r.tagName()==="TEXT"?_:Array.from(_.querySelectorAll("text"));f[g]=v,n||(n={}),n[g]=v}}return o.append(t.addClass("joint-port-body")),r&&o.append(r.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:o,portLabelElement:r,portSelectors:f,portLabelSelectors:n,portContentElement:t,portContentSelectors:i},o},_updatePortGroup:function(e){for(var t=xt(this.model.size()),r=this.model._portSettingsData.getGroupPortsMetrics(e,t),n=0,i=r.length;n<i;n++){var o=r[n],a=o.portId,s=this._portElementsCache[a]||{},l=o.portTransformation,u=o.labelTransformation;u&&s.portLabelElement&&(this.updateDOMSubtreeAttributes(s.portLabelElement.node,u.attrs,{rootBBox:new xt(o.labelSize),selectors:s.portLabelSelectors}),this.applyPortTransform(s.portLabelElement,u,-l.angle||0)),this.updateDOMSubtreeAttributes(s.portElement.node,o.portAttrs,{rootBBox:new xt(o.portSize),selectors:s.portSelectors}),this.applyPortTransform(s.portElement,l)}},applyPortTransform:function(e,t,r){var n=ot.createSVGMatrix().rotate(r||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(n,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},oo=Ws.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Ws.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,r){const n=go(t);r=(n?r:e)||{};const{parentRelative:i,deep:o,restrictedArea:a}=r;let s;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");const l=this.getParentCell();l&&!l.isLink()&&(s=l.get("position"))}if(n){if(s&&(e+=s.x,t+=s.y),o||a){const{x:l,y:u}=this.get("position");this.translate(e-l,t-u,r)}else this.set("position",{x:e,y:t},r);return this}else{const l=ze(this.get("position"));return i?l.difference(s):l}},translate:function(e,t,r){if(e=e||0,t=t||0,e===0&&t===0)return this;r=r||{},r.translateBy=r.translateBy||this.id;var n=this.get("position")||{x:0,y:0},i=r.restrictedArea;if(i&&r.translateBy===this.id)if(typeof i=="function"){var o=i.call(this,n.x+e,n.y+t,r);e=o.x-n.x,t=o.y-n.y}else{var a=this.getBBox({deep:!0}),s=n.x-a.x,l=n.y-a.y,u=Math.max(i.x+s,Math.min(i.x+i.width+s-a.width,n.x+e)),f=Math.max(i.y+l,Math.min(i.y+i.height+l-a.height,n.y+t));e=u-n.x,t=f-n.y}var c={x:n.x+e,y:n.y+t};return r.tx=e,r.ty=t,r.transition?(Vr(r.transition)||(r.transition={}),this.transition("position",c,Kt({},r.transition,{valueFunction:$9.object})),Ls(this.getEmbeddedCells(),"translate",e,t,r)):(this.startBatch("translate",r),this.set("position",c,r),Ls(this.getEmbeddedCells(),"translate",e,t,r),this.stopBatch("translate",r)),this},size:function(e,t,r){var n=this.get("size");return e===void 0?{width:n.width,height:n.height}:(Vr(e)&&(r=t,t=go(e.height)?e.height:n.height,e=go(e.width)?e.width:n.width),this.resize(e,t,r))},resize:function(e,t,r){if(r=r||{},this.startBatch("resize",r),r.direction){var n=this.get("size");switch(r.direction){case"left":case"right":t=n.height;break;case"top":case"bottom":e=n.width;break}var i=ls(this.get("angle")||0),o=this.getBBox(),a;if(i){var s={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[r.direction];r.absolute&&(s+=Math.floor((i+45)/90),s%=4);var l=o[["bottomLeft","corner","topRight","origin"][s]](),u=ze(l).rotate(o.center(),-i),f=Math.sqrt(e*e+t*t)/2,c=s*Math.PI/2;c+=Math.atan(s%2==0?t/e:e/t),c-=$o(i);var h=ze.fromPolar(f,c,u);a=ze(h).offset(e/-2,t/-2)}else switch(a=o.topLeft(),r.direction){case"top":case"top-right":a.offset(0,o.height-t);break;case"left":case"bottom-left":a.offset(o.width-e,0);break;case"top-left":a.offset(o.width-e,o.height-t);break}this.set("size",{width:e,height:t},r),this.position(a.x,a.y,r)}else this.set("size",{width:e,height:t},r);return this.stopBatch("resize",r),this},scale:function(e,t,r,n){var i=this.getBBox().scale(e,t,r);return this.startBatch("scale",n),this.position(i.x,i.y,n),this.resize(i.width,i.height,n),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");const r=this.getEmbeddedCells().filter(n=>n.isElement());return r.length===0?this:(this.startBatch("fit-embeds",e),e.deep&&Ls(r,"fitToChildren",e),this._fitToElements(Object.assign({elements:r},e)),this.stopBatch("fit-embeds"),this)},fitParent:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;const r=this.getParentCell();if(!r||!r.isElement())return this;const n=r.getEmbeddedCells().filter(i=>i.isElement());return n.length===0?this:(this.startBatch("fit-parent",e),r._fitToElements(Object.assign({elements:n},e)),e.deep&&r.fitParent(e),this.stopBatch("fit-parent"),this)},_fitToElements:function(e={}){const t=this.graph.getCellsBBox(e.elements);if(!t)return;const{expandOnly:r,shrinkOnly:n}=e;if(r&&n)return;let{x:i,y:o,width:a,height:s}=t;const{left:l,right:u,top:f,bottom:c}=Ef(e.padding);i-=l,o-=f,a+=l+u,s+=c+f;let h=new xt(i,o,a,s);if(r)h=this.getBBox().union(h);else if(n){const m=this.getBBox().intersect(h);if(!m)return;h=m}this.set({position:{x:h.x,y:h.y},size:{width:h.width,height:h.height}},e)},rotate:function(e,t,r,n){if(r){var i=this.getBBox().center(),o=this.get("size"),a=this.get("position");i.rotate(r,this.get("angle")-e);var s=i.x-o.width/2-a.x,l=i.y-o.height/2-a.y;this.startBatch("rotate",{angle:e,absolute:t,origin:r}),this.position(a.x+s,a.y+l,n),this.rotate(e,t,null,n),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,n);return this},angle:function(){return ls(this.get("angle")||0)},getBBox:function(e={}){const{graph:t,attributes:r}=this,{deep:n,rotate:i}=e;if(n&&t){const c=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return c.push(this),t.getCellsBBox(c,e)}const{angle:o=0,position:{x:a,y:s},size:{width:l,height:u}}=r,f=new xt(a,s,l,u);return i&&f.rotateAroundCenter(o),f},getPointFromConnectedLink:function(e,t){var r=this.getBBox(),n=r.center(),i=e.get(t);if(!i)return n;var o=i.port;if(!o||!this.hasPort(o))return n;var a=this.portProp(o,["group"]),s=this.getPortsPositions(a),l=new ze(s[o]).offset(r.origin()),u=this.angle();return u&&l.rotate(n,-u),l}});Kt(oo.prototype,Uae);const qae=Di.Collection.extend({initialize:function(e,t){t.cellNamespace?this.cellNamespace=t.cellNamespace:this.cellNamespace=typeof joint<"u"&&Pu(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var r=t.collection,n=r.cellNamespace,i=e.type==="link"?Lh:Vm(n,e.type,".")||oo,o=new i(e,t);return t.dry||(o.graph=r.graph),o},comparator:function(e){return e.get("z")||0}}),QI=Di.Model.extend({initialize:function(e,t){t=t||{};var r=new qae([],{model:t.cellModel,cellNamespace:t.cellNamespace,graph:this});Di.Model.prototype.set.call(this,"cells",r),r.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},r.on("add",this._restructureOnAdd,this),r.on("remove",this._restructureOnRemove,this),r.on("reset",this._restructureOnReset,this),r.on("change:source",this._restructureOnChangeSource,this),r.on("change:target",this._restructureOnChangeTarget,this),r.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:r}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:r}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],r.id&&this._in[r.id]&&this._in[r.id][e.id]&&delete this._in[r.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var r=e.attributes.source;r.id&&((this._out[r.id]||(this._out[r.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var r=e.get("target");r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=Di.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,r){var n;return typeof e=="object"?(n=e,r=t):(n={})[e]=t,n.hasOwnProperty("cells")&&(this.resetCells(n.cells,r),n=qm(n,"cells")),Di.Model.prototype.set.call(this,n,r)},clear:function(e){e=Kt({},e,{clear:!0});var t=this.get("cells");if(t.length===0)return this;this.startBatch("clear",e);var r=t.sortBy(function(n){return n.isLink()?1:2});do r.shift().remove(e);while(r.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var r;if(e instanceof Di.Model?(r=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):r=e,!Fi(r.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof Di.Model?e.has("z")||e.set("z",this.maxZIndex()+1):e.z===void 0&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return e.length===0?this:(e=Zoe(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(r){this.addCell(r,t),t.position--},this),this.stopBatch("add",t),this)},resetCells:function(e,t){var r=Sr(e).map(function(n){return this._prepareCell(n,t)},this);return this.get("cells").reset(r,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),Ls(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,r){r=r||{},r.clear||(r.disconnectLinks?this.disconnectLinks(e,r):this.removeLinks(e,r)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(e=>e.isElement())},getLinks:function(){return this.get("cells").filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){t=t||{};var r=t.indirect,n=t.inbound,i=t.outbound;n===void 0&&i===void 0&&(n=i=!0);var o=[],a={};i&&s(this,e),n&&l(this,e);function s(c,h){if(ga(c.getOutboundEdges(h.id),(function(g,_){if(!a[_]){var v=c.getCell(_);o.push(v),a[_]=!0,r&&(n&&l(c,v),i&&s(c,v))}}).bind(c)),r&&h.isLink()){var m=h.getTargetCell();m&&m.isLink()&&(a[m.id]||(o.push(m),s(c,m)))}}function l(c,h){if(ga(c.getInboundEdges(h.id),(function(g,_){if(!a[_]){var v=c.getCell(_);o.push(v),a[_]=!0,r&&(n&&l(c,v),i&&s(c,v))}}).bind(c)),r&&h.isLink()){var m=h.getSourceCell();m&&m.isLink()&&(a[m.id]||(o.push(m),l(c,m)))}}if(t.deep){var u=e.getEmbeddedCells({deep:!0}),f={};u.forEach(function(c){c.isElement()&&(f[c.id]=!0)}),u.forEach(function(c){c.isLink()||(i&&ga(this.getOutboundEdges(c.id),(function(h,m){if(!a[m]){var g=this.getCell(m),{source:_,target:v}=g.attributes,p=_.id,E=v.id;if(!t.includeEnclosed&&p&&f[p]&&E&&f[E])return;o.push(this.getCell(m)),a[m]=!0}}).bind(this)),n&&ga(this.getInboundEdges(c.id),(function(h,m){if(!a[m]){var g=this.getCell(m),{source:_,target:v}=g.attributes,p=_.id,E=v.id;if(!t.includeEnclosed&&p&&f[p]&&E&&f[E])return;o.push(this.getCell(m)),a[m]=!0}}).bind(this)))},this)}return o},getNeighbors:function(e,t){t||(t={});var r=t.inbound,n=t.outbound;r===void 0&&n===void 0&&(r=n=!0);var i=this.getConnectedLinks(e,t).reduce((function(s,l){var{source:u,target:f}=l.attributes,c=l.hasLoop(t);if(r&&Pu(u,"id")&&!s[u.id]){var h=this.getCell(u.id);h.isElement()&&(c||h&&h!==e&&(!t.deep||!h.isEmbeddedIn(e)))&&(s[u.id]=h)}if(n&&Pu(f,"id")&&!s[f.id]){var m=this.getCell(f.id);m.isElement()&&(c||m&&m!==e&&(!t.deep||!m.isEmbeddedIn(e)))&&(s[f.id]=m)}return s}).bind(this),{});if(e.isLink()){if(r){var o=e.getSourceCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}if(n){var a=e.getTargetCell();a&&a.isElement()&&!i[a.id]&&(i[a.id]=a)}}return Sr(i)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(r){for(var n=[],i=r.get("parent");i;)n.push(i),i=this.getCell(i).get("parent");return n},this);e=e.sort(function(r,n){return r.length-n.length});var t=Sr(e.shift()).find(function(r){return e.every(function(n){return n.includes(r)})});return this.getCell(t)},getSuccessors:function(e,t){t=t||{};var r=[];return this.search(e,function(n){n!==e&&r.push(n)},Kt({},t,{outbound:!0})),r},cloneCells:T9,cloneSubgraph:function(e,t){var r=this.getSubgraph(e,t);return this.cloneCells(r)},getSubgraph:function(e,t){t=t||{};var r=[],n={},i=[],o=[];return Sr(e).forEach(function(a){if(n[a.id]||(r.push(a),n[a.id]=a,a.isLink()?o.push(a):i.push(a)),t.deep){var s=a.getEmbeddedCells({deep:!0});s.forEach(function(l){n[l.id]||(r.push(l),n[l.id]=l,l.isLink()?o.push(l):i.push(l))})}}),o.forEach(function(a){var{source:s,target:l}=a.attributes;if(s.id&&!n[s.id]){var u=this.getCell(s.id);r.push(u),n[u.id]=u,i.push(u)}if(l.id&&!n[l.id]){var f=this.getCell(l.id);r.push(this.getCell(l.id)),n[f.id]=f,i.push(f)}},this),i.forEach(function(a){var s=this.getConnectedLinks(a,t);s.forEach(function(l){var{source:u,target:f}=l.attributes;!n[l.id]&&u.id&&n[u.id]&&f.id&&n[f.id]&&(r.push(l),n[l.id]=l)})},this),r},getPredecessors:function(e,t){t=t||{};var r=[];return this.search(e,function(n){n!==e&&r.push(n)},Kt({},t,{inbound:!0})),r},search:function(e,t,r){r=r||{},r.breadthFirst?this.bfs(e,t,r):this.dfs(e,t,r)},bfs:function(e,t,r={}){const n={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){var a=o.shift();if(n[a.id]||(n[a.id]=!0,t.call(this,a,i[a.id])===!1))continue;const s=this.getNeighbors(a,r);for(let l=0,u=s.length;l<u;l++){const f=s[l];i[f.id]=i[a.id]+1,o.push(f)}}},dfs:function(e,t,r={}){const n={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){const a=o.pop();if(n[a.id]||(n[a.id]=!0,t.call(this,a,i[a.id])===!1))continue;const s=this.getNeighbors(a,r),l=o.length;for(let u=0,f=s.length;u<f;u++){const c=s[u];i[c.id]=i[a.id]+1,o.splice(l,0,c)}}},getSources:function(){var e=[];return ga(this._nodes,(function(t,r){(!this._in[r]||Tl(this._in[r]))&&e.push(this.getCell(r))}).bind(this)),e},getSinks:function(){var e=[];return ga(this._nodes,(function(t,r){(!this._out[r]||Tl(this._out[r]))&&e.push(this.getCell(r))}).bind(this)),e},isSource:function(e){return!this._in[e.id]||Tl(this._in[e.id])},isSink:function(e){return!this._out[e.id]||Tl(this._out[e.id])},isSuccessor:function(e,t){var r=!1;return this.search(e,function(n){if(n===t&&n!==e)return r=!0,!1},{outbound:!0}),r},isPredecessor:function(e,t){var r=!1;return this.search(e,function(n){if(n===t&&n!==e)return r=!0,!1},{inbound:!0}),r},isNeighbor:function(e,t,r){r=r||{};var n=r.inbound,i=r.outbound;n===void 0&&i===void 0&&(n=i=!0);var o=!1;return this.getConnectedLinks(e,r).forEach(function(a){var{source:s,target:l}=a.attributes;if(n&&Pu(s,"id")&&s.id===t.id||i&&Pu(l,"id")&&l.id===t.id)return o=!0,!1}),o},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(r){r.set(r.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){Ls(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(t=>t.getBBox({rotate:!0}).containsPoint(e))},findModelsInArea:function(e,t={}){const r=new xt(e),{strict:n=!1}=t,i=n?"containsRect":"intersect";return this.getElements().filter(o=>r[i](o.getBBox({rotate:!0})))},findModelsUnderElement:function(e,t={}){const{searchBy:r="bbox"}=t,n=e.getBBox().rotateAroundCenter(e.angle());return(r==="bbox"?this.findModelsInArea(n):this.findModelsFromPoint(x9(n,r))).filter(o=>e.id!==o.id&&!o.isEmbeddedIn(e))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t={}){const{rotate:r=!0}=t;return Sr(e).reduce(function(n,i){const o=i.getBBox({rotate:r});return o?n?n.union(o):o:n},null)},translate:function(e,t,r){var n=this.getCells().filter(function(i){return!i.isEmbedded()});return Ls(n,"translate",e,t,r),this},resize:function(e,t,r){return this.resizeCells(e,t,this.getCells(),r)},resizeCells:function(e,t,r,n){var i=this.getCellsBBox(r);if(i){var o=Math.max(e/i.width,0),a=Math.max(t/i.height,0);Ls(r,"scale",o,a,i.origin(),n)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",Kt({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",Kt({},t,{batchName:e}))},hasActiveBatch:function(e){const t=this._batches;let r;return arguments.length===0?r=Object.keys(t):Array.isArray(e)?r=e:r=[e],r.some(n=>t[n]>0)}},{validations:{multiLinks:function(e,t){var{source:r,target:n}=t.attributes;if(r.id&&n.id){var i=t.getSourceCell();if(i){var o=e.getConnectedLinks(i,{outbound:!0}),a=o.filter(function(s){var{source:l,target:u}=s.attributes;return l&&l.id===r.id&&(!l.port||l.port===r.port)&&u&&u.id===n.id&&(!u.port||u.port===n.port)});if(a.length>1)return!1}}return!0},linkPinning:function(e,t){var{source:r,target:n}=t.attributes;return r.id&&n.id}}});yae(QI.prototype,["resetCells","addCells","removeCells"],ox.cells);const Bc={},Uu=Di.View.extend({options:{},theme:null,themeClassNamePrefix:es("theme-"),requireSetThemeOverride:!1,defaultTheme:Bu.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=Kt({},this.options,e),Di.View.call(this,e)},initialize:function(){Bc[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(e){if(e||(e=Un(this,"children")),e){var t=this.svgElement,r=ot.namespace[t?"svg":"xhtml"],n=Hb(e,r);(t?this.vel:this.$el).empty().append(n.fragment),this.childNodes=n.selectors}return this},findAttribute:function(e,t){for(var r=t;r&&r.nodeType===1;){var n=r.getAttribute(e);if(n)return n;if(r===this.el)return null;r=r.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Un(this,"el"));else{var e=Un(this,"tagName"),t=Kt({},Un(this,"attributes")),r=Kt({},Un(this,"style"));this.id&&(t.id=Un(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(r)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(ot.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof Di.$?e:Di.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=ot(this.el))},_ensureElClassName:function(){var e=Un(this,"className");if(e){var t=es(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override?this:(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e,this)},addThemeClassName:function(e){if(e=e||this.theme,!e)return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){e=e||this.theme;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Bc[this.cid]=null,Di.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,r){if(!t)return this;r||(r={});var n=this.getEventNamespace();for(var i in t){var o=t[i];typeof o!="function"&&(o=this[o]),o&&Dr(e).on(i+n,r,o.bind(this))}return this},undelegateElementEvents:function(e){return Dr(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=Un(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var r=e.data,n="__"+this.cid+"__";return t===void 0?r?r[n]||{}:{}:(r||(r=e.data={}),r[n]||(r[n]={}),Kt(r[n],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&Kt({},e[0])||{},r=e[1]&&Kt({},e[1])||{},n=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return typeof n=="function"&&n.apply(this,arguments),this.render.__render__===n&&this.onRender(),this},t.render.__render__=n,Di.View.extend.call(this,t,r)}}),GD="dbltap";if(Dr.event&&!(GD in Dr.event.special)){const e=Bu.doubleTapInterval,t=30;Dr.event.special[GD]={bindType:"touchend",delegateType:"touchend",handle:function(r,...n){const{handleObj:i,target:o}=r,a=Dr.data(o),s=new Date().getTime(),l="lastTouch"in a?s-a.lastTouch:0;l<e&&l>t?(a.lastTouch=null,r.type=i.origType,i.handler.call(this,r,...n)):a.lastTouch=s}}}const va={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},Vae=Uu.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return es(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){const{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){const{el:t,pivotNodes:r}=this;e=+e,e||(e=0);let n=r[e];if(n)return n;n=r[e]=document.createComment("z-index:"+(e+1));let i=-1/0;for(let o in r)o=+o,o<e&&o>i&&(i=o,e-1);if(i!==-1/0){const o=r[i];t.insertBefore(n,o.nextSibling)}else t.insertBefore(n,t.firstChild);return n},removePivots:function(){const{el:e,pivotNodes:t}=this;for(let r in t)e.removeChild(t[r]);this.pivotNodes={}}});function cp(e){return e?Array.isArray(e)?e:[e]:[]}const ts=Uu.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){const{paper:r}=e;this.cellView=e,this.nodeSelector=t,r&&(this.updateRequested=!0,r.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(e,t=null){let r;if(typeof t=="string")[r]=e.findBySelector(t);else if(Bn(t)){const n=e.model.isLink(),{label:i=null,port:o,selector:a}=t;n&&i!==null?r=e.findLabelNode(i,a):!n&&o?r=e.findPortNode(o,a):[r]=e.findBySelector(a)}else t&&(r=ot.toNode(t),r instanceof SVGElement||(r=null));return r||null},getNodeMatrix(e,t){const{options:r}=this,{layer:n}=r,{rotatableNode:i}=e,o=e.getNodeMatrix(t);return i?n?i.contains(t)?o:e.getRootRotateMatrix().inverse().multiply(o):e.getNodeRotateMatrix(t).multiply(o):o},mount(){const{MOUNTABLE:e,cellView:t,el:r,options:n,transformGroup:i,detachedTransformGroup:o,postponedUpdate:a,nodeSelector:s}=this;if(!e||i)return;if(a){this.update(t,s),this.transform();return}const{vel:l,paper:u}=t,{layer:f}=n;if(f){let c;o?(c=o,this.detachedTransformGroup=null):c=ot("g").addClass("highlight-transform").append(r),this.transformGroup=c,u.getLayerView(f).insertSortedNode(c.node,n.z)}else(!r.parentNode||r.nextSibling)&&l.append(r)},unmount(){const{MOUNTABLE:e,transformGroup:t,vel:r}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):r.remove())},transform(){const{transformGroup:e,cellView:t,updateRequested:r}=this;if(!e||t.model.isLink()||r)return;const n=t.getRootTranslateMatrix(),i=t.getRootRotateMatrix(),o=n.multiply(i);e.attr("transform",ot.matrixToTransformString(o))},update(){const{node:e,cellView:t,nodeSelector:r,updateRequested:n,id:i}=this;if(n)return;this.postponedUpdate=!1;const o=this.node=this.findNode(t,r);e&&this.unhighlight(t,e),o?(this.highlight(t,o),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",i,this))},onRemove(){const{node:e,cellView:t,id:r,constructor:n}=this;e&&this.unhighlight(t,e),this.unmount(),n._removeRef(t,r)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){const t=Un(this,"UPDATE_ATTRIBUTES");!Array.isArray(t)||t.length===0||this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:e}=this;if(!e)return;const{model:t,paper:r}=e;Un(this,"UPDATE_ATTRIBUTES").some(i=>t.hasChanged(i))&&r.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,r){const n=this.uniqueId(t,r);this.add(e,t,n,r)},unhighlight:function(e,t,r){const n=this.uniqueId(t,r);this.remove(e,n)},get(e,t=null){const{cid:r}=e,{_views:n}=this,i=n[r];if(t===null){const o=[];if(!i)return o;for(let a in i){const s=i[a];s instanceof this&&o.push(s)}return o}else{if(!i)return null;if(t in i){const o=i[t];if(o instanceof this)return o}return null}},add(e,t,r,n={}){if(!r)throw new Error("dia.HighlighterView: An ID required.");const i=ts.get(e,r);i&&i.remove();const o=new this(n);return o.id=r,this._addRef(e,r,o),o.requestUpdate(e,t),o.listenToUpdateAttributes(e),o},_addRef(e,t,r){const{cid:n}=e,{_views:i}=this;let o=i[n];o||(o=i[n]={}),o[t]=r},_removeRef(e,t){const{cid:r}=e,{_views:n}=this,i=n[r];if(i){t&&delete i[t];for(let o in i)return;delete n[r]}},remove(e,t=null){cp(this.get(e,t)).forEach(r=>{r.remove()})},removeAll(e,t=null){const{_views:r}=this;for(let n in r)for(let i in r[n]){const o=r[n][i];o.cellView.paper===e&&o instanceof this&&(t===null||i===t)&&o.remove()}},update(e,t=null,r=!1){cp(this.get(e,t)).forEach(n=>{(r||n.UPDATABLE)&&n.update()})},transform(e,t=null){cp(this.get(e,t)).forEach(r=>{r.UPDATABLE&&r.transform()})},unmount(e,t=null){cp(this.get(e,t)).forEach(r=>r.unmount())},mount(e,t=null){cp(this.get(e,t)).forEach(r=>r.mount())},uniqueId(e,t=""){return ot.ensureId(e)+JSON.stringify(t)}}),ad={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},Hae={TOOLS:"TOOLS"},cr=Uu.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(r,n,i){e.push("type-"+i.slice(0,n+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var e={},t={},r=0,n,i,o,a=Un(this,"presentationAttributes");for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];for(Array.isArray(l)||(l=[l]),n=0,i=l.length;n<i;n++){o=l[n];var u=e[o];u||(u=e[o]=1<<r++),t[s]|=u}}var f=Un(this,"initFlag");for(Array.isArray(f)||(f=[f]),n=0,i=f.length;n<i;n++)o=f[n],e[o]||(e[o]=1<<r++);if(r>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var r=0;if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)r|=t[e[n]];else r|=t[e];return r},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||Ld(this),Uu.call(this,e)},initialize:function(){this.setFlags(),Uu.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var r=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!r||(t.dirty&&this.hasFlag(r,"UPDATE")&&(r|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(r,t))},requestUpdate:function(e,t){const{paper:r}=this;r&&e>0&&r.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var r=Hb(e),n=r.selectors,i=r.groupSelectors;for(var o in i){if(n[o])throw new Error("dia.CellView: ambiguous group selector");n[o]=i[o]}if(t){var a=this.selector;if(n[a])throw new Error("dia.CellView: ambiguous root selector.");n[a]=t}return{fragment:r.fragment,selectors:n}},can:function(e){var t=cn(this.options.interactive)?this.options.interactive(this):this.options.interactive;return Vr(t)&&t[e]!==!1||Woe(t)&&t!==!1},findBySelector:function(e,t,r){if(t||(t=this.el),r||(r=this.selectors),!e||e===".")return[t];if(r){var n=r[e];if(n)return Array.isArray(n)?n:[n]}return Dr(t).find(e).toArray()},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var r=this.model;t=r.getBBox().bbox(r.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){const t=this.getNodeBoundingRect(e),r=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),n=this.getNodeMatrix(e);return ot.transformRect(t,r.multiply(n))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():ot.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),r=this.getNodeMatrix(e),n=this.getRootTranslateMatrix();return ot.transformRect(t,n.multiply(r))},getRootTranslateMatrix:function(){var e=this.model,t=e.position(),r=ot.createSVGMatrix().translate(t.x,t.y);return r},getRootRotateMatrix:function(){var e=ot.createSVGMatrix(),t=this.model,r=t.angle();if(r){var n=t.getBBox(),i=n.width/2,o=n.height/2;e=e.translate(i,o).rotate(r).translate(-i,-o)}return e},_notifyHighlight:function(e,t,r={}){const{el:n}=this;let i;if(typeof t=="string"?[i=n]=this.findBySelector(t):[i=n]=this.$(t),r.partial=i!==n,r.type===void 0){let o;switch(!0){case r.embedding:o=ad.EMBEDDING;break;case r.connecting:o=ad.CONNECTING;break;case r.magnetAvailability:o=ad.MAGNET_AVAILABILITY;break;case r.elementAvailability:o=ad.ELEMENT_AVAILABILITY;break;default:o=ad.DEFAULT;break}r.type=o}return this.notify(e,i,r),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){const t=this.el;let r=this.$(e)[0];r||(r=t);do{const n=r.getAttribute("magnet"),i=r===t;if((n||i)&&n!=="false")return r;if(i)return;r=r.parentNode}while(r)},findProxyNode:function(e,t){e||(e=this.el);const r=e.getAttribute(`${t}-selector`);if(r){const[n]=this.findBySelector(r);if(n)return n}return e},getSelector:function(e,t){var r;if(e===this.el)return typeof t=="string"&&(r="> "+t),r;if(e){var n=ot(e).index()+1;r=e.tagName+":nth-child("+n+")",t&&(r+=" > "+t),r=this.getSelector(e.parentNode,r)}return r},addLinkFromMagnet:function(e,t,r){var n=this.paper,i=n.model,o=n.getDefaultLink(this,e);return o.set({source:this.getLinkEnd(e,t,r,o,"source"),target:{x:t,y:r}}).addTo(i,{async:!1,ui:!0}),o.findView(n)},getLinkEnd:function(e,...t){var r=this.model,n=r.id,i=this.findAttribute("port",e),o=e.getAttribute("joint-selector"),a={id:n};return o!=null&&(a.magnet=o),i!=null?(a.port=i,!r.hasPort(i)&&!o&&(a.selector=this.getSelector(e))):o==null&&this.el!==e&&(a.selector=this.getSelector(e)),this.customizeLinkEnd(a,e,...t)},customizeLinkEnd:function(e,t,r,n,i,o){const{paper:a}=this,{connectionStrategy:s}=a.options;if(typeof s=="function"){var l=s.call(a,e,this,t,new ze(r,n),i,o,a);if(l)return l}return e},getMagnetFromLinkEnd:function(e){var t=this.el,r=e.port,n=e.magnet,i=this.model,o;return r!=null&&i.isElement()&&i.hasPort(r)?o=this.findPortNode(r,n)||t:(n||(n=e.selector),!n&&r!=null&&(n='[port="'+r+'"]'),o=this.findBySelector(n,t,this.selectors)[0]),this.findProxyNode(o,"magnet")},dragLinkStart:function(e,t,r,n){this.model.startBatch("add-link");const i=this.addLinkFromMagnet(t,r,n);i.notifyPointerdown(e,r,n),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},dragLink:function(e,t,r){var n=this.eventData(e),i=n.linkView;if(i)i.pointermove(e,t,r);else{var o=this.paper,a=o.options.magnetThreshold,s=this.getEventTarget(e),l=n.targetMagnet;if(a==="onleave"){if(l===s||ot(l).contains(s))return}else if(o.eventData(e).mousemoved<=a)return;this.dragLinkStart(e,l,t,r)}},dragLinkEnd:function(e,t,r){var n=this.eventData(e),i=n.linkView;i&&(i.pointerup(e,t,r),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){Tl(t)||(e instanceof SVGElement?ot(e).attr(t):Dr(e).attr(t))},processNodeAttributes:function(e,t){var r,n,i,o,a,s,l,u,f,c=[];for(r in t)t.hasOwnProperty(r)&&(n=t[r],i=this.getAttributeDefinition(r),i&&(!cn(i.qualify)||i.qualify.call(this,n,e,t,this))?(Fi(i.set)&&(s||(s={}),s[i.set]=n),n!==null&&c.push(r,i)):(s||(s={}),s[aae(r)]=n));for(o=0,a=c.length;o<a;o+=2)r=c[o],i=c[o+1],n=t[r],cn(i.set)&&(l||(l={}),l[r]=n),cn(i.position)&&(u||(u={}),u[r]=n),cn(i.offset)&&(f||(f={}),f[r]=n);return{raw:t,normal:s,set:l,position:u,offset:f}},updateRelativeAttributes:function(e,t,r,n){n||(n={});var i,o,a,s=t.raw||{},l=t.normal||{},u=t.set,f=t.position,c=t.offset;for(i in u){o=u[i],a=this.getAttributeDefinition(i);var h=a.set.call(this,o,r.clone(),e,s,this);Vr(h)?Kt(l,h):h!==void 0&&(l[i]=h)}if(e instanceof HTMLElement){this.setNodeAttributes(e,l);return}var m=l.transform,g=ot.transformStringToMatrix(m),_=ze(g.e,g.f);m&&(l=qm(l,"transform"),g.e=g.f=0);var v,p,E;if(f||c){var y=this.getNodeScale(e,n.scalableNode);v=y.sx,p=y.sy}var S=!1;for(i in f)o=f[i],a=this.getAttributeDefinition(i),E=a.position.call(this,o,r.clone(),e,s,this),E&&(_.offset(ze(E).scale(v,p)),S||(S=!0));this.setNodeAttributes(e,l);var $=!1;if(c){var T=this.getNodeBoundingRect(e);if(T.width>0&&T.height>0){var d=ot.transformRect(T,g).scale(1/v,1/p);for(i in c)o=c[i],a=this.getAttributeDefinition(i),E=a.offset.call(this,o,d,e,s,this),E&&(_.offset(ze(E).scale(v,p)),$||($=!0))}}(m!==void 0||S||$)&&(_.round(1),g.e=_.x,g.f=_.y,e.setAttribute("transform",ot.matrixToTransformString(g)))},getNodeScale:function(e,t){var r,n;if(t&&t.contains(e)){var i=t.scale();r=1/i.sx,n=1/i.sy}else r=1,n=1;return{sx:r,sy:n}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var r=ot.ensureId(e),n=t[r];return n||(n=t[r]={}),n},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return t.boundingRect===void 0&&(t.boundingRect=ot(e).getBBox()),new xt(t.boundingRect)},getNodeMatrix:function(e){const t=this.nodeCache(e);if(t.magnetMatrix===void 0){const{rotatableNode:r,el:n}=this;let i;r&&r.contains(e)?i=r:i=n,t.magnetMatrix=ot(e).getTransformToElement(i)}return ot.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return t.geometryShape===void 0&&(t.geometryShape=ot(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,r,n){var i,o,a,s,l={},u=[];for(var f in e)if(e.hasOwnProperty(f)&&(a=e[f],!!Bn(a))){var c=r[f]=this.findBySelector(f,t,n);for(i=0,o=c.length;i<o;i++){var h=c[i];s=ot.ensureId(h);var m=n&&n[f]===h,g=l[s];if(g){g.array||(u.push(s),g.array=!0,g.attributes=[g.attributes],g.selectedLength=[g.selectedLength]);var _=g.attributes,v=g.selectedLength;if(m)_.unshift(a),v.unshift(-1);else{var p=E9(v,o);_.splice(p,0,a),v.splice(p,0,o)}}else l[s]={attributes:a,selectedLength:m?-1:o,node:h,array:!1}}}for(i=0,o=u.length;i<o;i++)s=u[i],a=l[s],a.attributes=ei({},...a.attributes.reverse());return l},getEventTarget:function(e,t={}){const{target:r,type:n,clientX:i=0,clientY:o=0}=e;return t.fromPoint||n==="touchmove"||n==="touchend"||"pointerId"in e&&r.hasPointerCapture(e.pointerId)?document.elementFromPoint(i,o):r},updateDOMSubtreeAttributes:function(e,t,r){r||(r={}),r.rootBBox||(r.rootBBox=xt()),r.selectors||(r.selectors=this.selectors);var n={},i={},o=[],a=[],s,l,u,f,c,h=r.roAttributes,m=this.findNodesAttributes(h||t,e,n,r.selectors),g=h?this.findNodesAttributes(t,e,n,r.selectors):m;for(var _ in m)if(f=m[_],u=f.attributes,l=f.node,c=this.processNodeAttributes(l,u),!c.set&&!c.position&&!c.offset)this.setNodeAttributes(l,c.normal);else{var v=g[_]&&g[_].attributes,p=v&&u.ref===void 0?v.ref:u.ref,E;if(p){if(E=(n[p]||this.findBySelector(p,e,r.selectors))[0],!E)throw new Error('dia.CellView: "'+p+'" reference does not exist.')}else E=null;if(s={node:l,refNode:E,processedAttributes:c,allAttributes:v},E){var y=a.findIndex(function(S){return S.refNode===l});y>-1?a.splice(y,0,s):a.push(s)}else o.push(s)}o.push(...a);for(let S=0,$=o.length;S<$;S++){s=o[S],l=s.node,E=s.refNode;const T=E?ot.ensureId(E):"";let d=i[T];d||(d=i[T]=E?ot(E).getBBox({target:Gae(l,E)}):r.rootBBox),h?(c=this.processNodeAttributes(l,s.allAttributes),this.mergeProcessedAttributes(c,s.processedAttributes)):c=s.processedAttributes,this.updateRelativeAttributes(l,c,d,r)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),Kt(e.set,t.set),Kt(e.position,t.position),Kt(e.offset,t.offset);var r=e.normal&&e.normal.transform;r!==void 0&&t.normal&&(t.normal.transform=r),e.normal=t.normal},onMount(e){e||(this.mountTools(),ts.mount(this))},onDetach(){this.unmountTools(),ts.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return t?e?t.getName()===e:!0:!1},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const e=this._toolsView;return e&&e.unmount(),this},mountTools(){const e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){ts.remove(this)},updateHighlighters:function(e=!1){ts.update(this,null,e)},transformHighlighters:function(){ts.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){const{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,r){this.notify("cell:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){this.notify("cell:pointerclick",e,t,r)},contextmenu:function(e,t,r){this.notify("cell:contextmenu",e,t,r)},pointerdown:function(e,t,r){const{model:n}=this,{graph:i}=n;i&&(n.startBatch("pointer"),this.eventData(e,{graph:i})),this.notify("cell:pointerdown",e,t,r)},pointermove:function(e,t,r){this.notify("cell:pointermove",e,t,r)},pointerup:function(e,t,r){const{graph:n}=this.eventData(e);this.notify("cell:pointerup",e,t,r),n&&n.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,r,n){this.notify("cell:mousewheel",e,t,r,n)},onevent:function(e,t,r,n){this.notify(t,e,r,n)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){const{paper:t,model:r}=this;if(t.isAsync()){if(r.isLink()){const o=r.getSourceElement();if(o){const s=t.findViewByModel(o);s&&(t.dumpView(s),t.checkViewVisibility(s))}const a=r.getTargetElement();if(a){const s=t.findViewByModel(a);s&&(t.dumpView(s),t.checkViewVisibility(s))}}t.dumpView(this),t.checkViewVisibility(this)}const n=this.getEventTarget(e,{fromPoint:!0}),i=t.findView(n);i!==this&&(this.mouseleave(e),i&&i.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Flags:Hae,Highlighting:ad,addPresentationAttributes:function(e){return ei({},Un(this.prototype,"presentationAttributes"),e,function(t,r){if(!(!t||!r)&&(typeof t=="string"&&(t=[t]),typeof r=="string"&&(r=[r]),Array.isArray(t)&&Array.isArray(r)))return xg(t.concat(r))})}});function Gae(e,t){let r=e;do{if(r.contains(t))return r;r=r.parentNode}while(r);return null}const Er={TOOLS:cr.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},sd={MOVE:"move",MAGNET:"magnet"},$w=cr.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=cr.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){cr.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[Er.UPDATE],position:[Er.TRANSLATE,Er.TOOLS],size:[Er.RESIZE,Er.PORTS,Er.TOOLS],angle:[Er.ROTATE,Er.TOOLS],markup:[Er.RENDER],ports:[Er.PORTS]},initFlag:[Er.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){this.hasFlag(e,Er.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,Er.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[Er.RENDER,Er.UPDATE,Er.RESIZE,Er.TRANSLATE,Er.ROTATE,Er.PORTS,Er.TOOLS]);else{let n=!1;this.hasFlag(e,Er.RESIZE)&&(this.resize(t),n=!0,e=this.removeFlag(e,[Er.RESIZE,Er.UPDATE]),e=this.removeFlag(e,Er.PORTS)),this.hasFlag(e,Er.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,Er.UPDATE),n=!0,e=this.removeFlag(e,Er.PORTS)),this.hasFlag(e,Er.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,Er.TRANSLATE),r=!0),this.hasFlag(e,Er.ROTATE)&&(this.rotate(),e=this.removeFlag(e,Er.ROTATE),r=!0),this.hasFlag(e,Er.PORTS)&&(this._renderPorts(),n=!0,e=this.removeFlag(e,Er.PORTS)),n&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,Er.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Er.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache(),this._removePorts();var r=this.model,n=r.attr();this.updateDOMSubtreeAttributes(this.el,n,{rootBBox:new xt(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===n?null:t}),this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),r=this.selectors=t.selectors;this.rotatableNode=ot(r[this.rotatableSelector])||null,this.scalableNode=ot(r[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(ot(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable");var r=this.selectors={};r[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var r=e.size;return"rotate("+t+","+r.width/2+","+r.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,r=t.angle(),n=t.size(),i=this.scalableNode,o=!1;i.node.getElementsByTagName("path").length>0&&(o=!0);var a=i.getBBox({recursive:o}),s=n.width/(a.width||1),l=n.height/(a.height||1);i.attr("transform","scale("+s+","+l+")");var u=this.rotatableNode,f=u&&u.attr("transform");if(f){u.attr("transform",f+" rotate("+-r+","+n.width/2+","+n.height/2+")");var c=i.getBBox({target:this.paper.cells});t.set("position",{x:c.x,y:c.y},Kt({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){const t=e.model||this.model,n=(e.paper||this.paper).model,i=e.initialZIndices={},o=t.getEmbeddedCells({deep:!0}),a=n.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...o,...a].forEach(u=>i[u.id]=u.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});const s=n.getElements().reduce((u,f)=>Math.max(u,f.attributes.z||0),0);a.forEach(u=>{u.attributes.z<=s&&u.set("z",s+1,{ui:!0})}),t.stopBatch("to-front");const l=t.parent();l?(n.getCell(l).unembed(t,{ui:!0}),e.initialParentId=l):e.initialParentId=null},processEmbedding:function(e={},t,r,n){const i=e.model||this.model,o=e.paper||this.paper,a=o.model,{findParentBy:s,frontParentOnly:l,validateEmbedding:u}=o.options;let f;cn(s)?f=Sr(s.call(a,this,t,r,n)):s==="pointer"?f=Sr(a.findModelsFromPoint({x:r,y:n})):f=a.findModelsUnderElement(i,{searchBy:s}),f=f.filter(m=>m instanceof Ws&&i.id!==m.id&&!m.isEmbeddedIn(i)),l&&(f=f.slice(-1));let c=null;const h=e.candidateEmbedView;for(let m=f.length-1;m>=0;m--){const g=f[m];if(h&&h.model.id==g.id){c=h;break}else{const _=g.findView(o);if(!cn(u)||u.call(o,this,_)){c=_;break}}}c&&c!=h&&(this.clearEmbedding(e),e.candidateEmbedView=c.highlight(c.findProxyNode(null,"container"),{embedding:!0})),!c&&h&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){const t=e.candidateEmbedView,r=e.model||this.model,n=e.paper||this.paper;if(t)t.model.embed(r,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{const{validateUnembedding:i}=n.options,{initialParentId:o}=e;if(o&&typeof i=="function"&&!i.call(n,this)){this._disallowUnembed(e);return}}n.model.getConnectedLinks(r,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(e){const{model:t,whenNotAllowed:r="revert"}=e,n=t||this.model,o=(e.paper||this.paper).model;switch(r){case"remove":{n.remove({ui:!0});break}case"revert":{const{initialParentId:a,initialPosition:s,initialZIndices:l}=e;if(s){const{x:f,y:c}=s;n.position(f,c,{deep:!0,ui:!0})}l&&Object.keys(l).forEach(f=>{const c=o.getCell(f);c&&c.set("z",l[f],{ui:!0})});const u=o.getCell(a);u&&u.embed(n,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,r=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=r.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);const r=e.getAttribute(`${t}-selector`);if(r){const n=this.findAttribute("port",e);if(n){const i=this.findPortNode(n,r);if(i)return i}else{const[i]=this.findBySelector(r);if(i)return i}}return e},notifyPointerdown(e,t,r){cr.prototype.pointerdown.call(this,e,t,r),this.notify("element:pointerdown",e,t,r)},notifyPointermove(e,t,r){cr.prototype.pointermove.call(this,e,t,r),this.notify("element:pointermove",e,t,r)},notifyPointerup(e,t,r){this.notify("element:pointerup",e,t,r),cr.prototype.pointerup.call(this,e,t,r)},pointerdblclick:function(e,t,r){cr.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){cr.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,r)},contextmenu:function(e,t,r){cr.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragStart(e,t,r)},pointermove:function(e,t,r){const n=this.eventData(e),{targetMagnet:i,action:o,delegatedView:a}=n;switch(i&&this.magnetpointermove(e,i,t,r),o){case sd.MAGNET:this.dragMagnet(e,t,r);break;case sd.MOVE:(a||this).drag(e,t,r);default:if(n.preventPointerEvents)break;this.notifyPointermove(e,t,r);break}this.eventData(e,n)},pointerup:function(e,t,r){const n=this.eventData(e),{targetMagnet:i,action:o,delegatedView:a}=n;switch(i&&this.magnetpointerup(e,i,t,r),o){case sd.MAGNET:this.dragMagnetEnd(e,t,r);break;case sd.MOVE:(a||this).dragEnd(e,t,r);default:if(n.preventPointerEvents)break;this.notifyPointerup(e,t,r)}i&&this.magnetpointerclick(e,i,t,r),this.checkMouseleave(e)},mouseover:function(e){cr.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){cr.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){cr.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){cr.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,r,n){cr.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,r,n)},onmagnet:function(e,t,r){const{currentTarget:n}=e;this.magnetpointerdown(e,n,t,r),this.eventData(e,{targetMagnet:n}),this.dragMagnetStart(e,t,r)},magnetpointerdown:function(e,t,r,n){this.notify("element:magnet:pointerdown",e,t,r,n)},magnetpointermove:function(e,t,r,n){this.notify("element:magnet:pointermove",e,t,r,n)},magnetpointerup:function(e,t,r,n){this.notify("element:magnet:pointerup",e,t,r,n)},magnetpointerdblclick:function(e,t,r,n){this.notify("element:magnet:pointerdblclick",e,t,r,n)},magnetcontextmenu:function(e,t,r,n){this.notify("element:magnet:contextmenu",e,t,r,n)},dragStart:function(e,t,r){if(this.isDefaultInteractionPrevented(e))return;var n=this.getDelegatedView();if(!n||!n.can("elementMove"))return;this.eventData(e,{action:sd.MOVE,delegatedView:n});const i=n.model.position();n.eventData(e,{initialPosition:i,pointerOffset:i.difference(t,r),restrictedArea:this.paper.getRestrictedArea(n,t,r)})},dragMagnetStart:function(e,t,r){const{paper:n}=this,i=e.isPropagationStopped();if(i&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:o=e.currentTarget}=this.eventData(e);if(e.stopPropagation(),!n.options.validateMagnet.call(n,this,o,e)){i?this.dragStart(e,t,r):this.pointerdown(e,t,r);return}n.options.magnetThreshold<=0&&this.dragLinkStart(e,o,t,r),this.eventData(e,{action:sd.MAGNET})},drag:function(e,t,r){var n=this.paper,i=n.options.gridSize,o=this.model,a=this.eventData(e),{pointerOffset:s,restrictedArea:l,embedding:u}=a,f=bf(t+s.x,i),c=bf(r+s.y,i);o.position(f,c,{restrictedArea:l,deep:!0,ui:!0}),n.options.embeddingMode&&(u||(this.prepareEmbedding(a),u=!0),this.processEmbedding(a,e,t,r)),this.eventData(e,{embedding:u})},dragMagnet:function(e,t,r){this.dragLink(e,t,r)},dragEnd:function(e,t,r){var n=this.eventData(e);n.embedding&&this.finalizeEmbedding(n)},dragMagnetEnd:function(e,t,r){this.dragLinkEnd(e,t,r)},magnetpointerclick:function(e,t,r,n){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,r,n)}},{Flags:Er});Kt($w.prototype,zae);const Wae=function(e,t,r){return e},Kae=function(e,t,r){var n=t.side||"bottom",i=Ef(t.padding||40),o=r.sourceBBox,a=r.targetBBox,s=o.center(),l=a.center(),u,f,c;switch(n){case"bottom":c=1,u="y",f="height";break;case"top":c=-1,u="y",f="height";break;case"left":c=-1,u="x",f="width";break;case"right":c=1,u="x",f="width";break;default:throw new Error("Router: invalid side")}return s[u]+=c*(o[f]/2+i[n]),l[u]+=c*(a[f]/2+i[n]),c*(s[u]-l[u])>0?l[u]=s[u]:s[u]=l[u],[s].concat(e,l)};var Jae={N:"S",S:"N",E:"W",W:"E"},Yae={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function Gb(e,t,r){var n=new ze(e.x,t.y);return r.containsPoint(n)&&(n=new ze(t.x,e.y)),n}function sx(e,t){return e[t==="W"||t==="E"?"width":"height"]}function Qi(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function Mv(e){return new xt(e.x,e.y,0,0)}function Wb(e){var t=Ef(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function D9(e,t){return e.sourceBBox.clone().moveAndExpand(Wb(t))}function M9(e,t){return e.targetBBox.clone().moveAndExpand(Wb(t))}function Xae(e,t){if(e.sourceAnchor)return e.sourceAnchor;var r=D9(e,t);return r.center()}function Qae(e,t){if(e.targetAnchor)return e.targetAnchor;var r=M9(e,t);return r.center()}function L9(e,t,r){var n=new ze(e.x,t.y),i=new ze(t.x,e.y),o=Qi(e,n),a=Qi(e,i),s=Jae[r],l=o===r||o!==s&&(a===s||a!==r)?n:i;return{points:[l],direction:Qi(l,t)}}function Tw(e,t,r){var n=Gb(e,t,r);return{points:[n],direction:Qi(n,t)}}function Zae(e,t,r,n){var i={},o=[new ze(e.x,t.y),new ze(t.x,e.y)],a=o.filter(function(c){return!r.containsPoint(c)}),s=a.filter(function(c){return Qi(c,e)!==n}),l;if(s.length>0)l=s.filter(function(c){return Qi(e,c)===n}).pop(),l=l||s[0],i.points=[l],i.direction=Qi(l,t);else{l=eae(o,a)[0];var u=new ze(t).move(l,-sx(r,n)/2),f=Gb(u,e,r);i.points=[f,u],i.direction=Qi(u,t)}return i}function ese(e,t,r,n){var i=Tw(t,e,n),o=i.points[0];if(r.containsPoint(o)){i=Tw(e,t,r);var a=i.points[0];if(n.containsPoint(a)){var s=new ze(e).move(a,-sx(r,Qi(e,a))/2),l=new ze(t).move(o,-sx(n,Qi(t,o))/2),u=new It(s,l).midpoint(),f=Tw(e,u,r),c=L9(u,t,f.direction);i.points=[f.points[0],c.points[0]],i.direction=c.direction}}return i}function ZS(e,t,r,n,i){var o={},a=r.union(n).inflate(1),s=a.center().distance(t)>a.center().distance(e),l=s?t:e,u=s?e:t,f,c,h;return i?(f=ze.fromPolar(a.width+a.height,Yae[i],l),f=a.pointNearestToPoint(f).move(f,-1)):f=a.pointNearestToPoint(l).move(l,1),c=Gb(f,u,a),f.round().equals(c.round())?(c=ze.fromPolar(a.width+a.height,$o(f.theta(l))+Math.PI/2,u),c=a.pointNearestToPoint(c).move(u,1).round(),h=Gb(f,c,a),o.points=s?[c,h,f]:[f,h,c]):o.points=s?[c,f]:[f,c],o.direction=Qi(s?f:c,t),o}function lx(e,t,r){var n=D9(r,t),i=M9(r,t),o=Xae(r,t),a=Qae(r,t);n=n.union(Mv(o)),i=i.union(Mv(a)),e=Sr(e).map(ze),e.unshift(o),e.push(a);for(var s,l=[],u=0,f=e.length-1;u<f;u++){var c=null,h=e[u],m=e[u+1],g=!!Qi(h,m);if(u===0)u+1===f?n.intersect(i.clone().inflate(1))?c=ZS(h,m,n,i):g||(c=ese(h,m,n,i)):n.containsPoint(m)?c=ZS(h,m,n,Mv(m).moveAndExpand(Wb(t))):g||(c=Tw(h,m,n));else if(u+1===f){var _=g&&Qi(m,h)===s;i.containsPoint(h)||_?c=ZS(h,m,Mv(h).moveAndExpand(Wb(t)),i,s):g||(c=Zae(h,m,i,s))}else g||(c=L9(h,m,s));c?(Array.prototype.push.apply(l,c.points),s=c.direction):s=Qi(h,m),u+1<f&&l.push(m)}return l}var F9={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,r){if(!cn(lx))throw new Error("Manhattan requires the orthogonal router as default fallback.");return lx(e,Kt({},F9,t),r)},fallbackRoute:function(e,t,r){return null},draggingRoute:null};function ZI(e){this.map={},this.options=e,this.mapGridSize=100}ZI.prototype.build=function(e,t){var r=this.options,n=Sr(r.excludeEnds).reduce(function(l,u){var f=t.get(u);if(f){var c=e.getCell(f.id);c&&l.push(c)}return l},[]),i=[],o=e.getCell(t.get("source").id);o&&(i=rx(i,o.getAncestors().map(function(l){return l.id})));var a=e.getCell(t.get("target").id);a&&(i=rx(i,a.getAncestors().map(function(l){return l.id})));var s=this.mapGridSize;return e.getElements().reduce(function(l,u){var f=Sr(r.excludeTypes).includes(u.get("type")),c=n.find(function(S){return S.id===u.id}),h=i.includes(u.id),m=f||c||h;if(!m)for(var g=u.getBBox().moveAndExpand(r.paddingBox),_=g.origin().snapToGrid(s),v=g.corner().snapToGrid(s),p=_.x;p<=v.x;p+=s)for(var E=_.y;E<=v.y;E+=s){var y=p+"@"+E;l[y]=l[y]||[],l[y].push(g)}return l},this.map),this};ZI.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return Sr(this.map[t]).every(function(r){return!r.containsPoint(e)})};function Mf(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}Mf.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var r=E9(this.items,e,(function(n){return this.values[n]}).bind(this));this.items.splice(r,0,e)};Mf.prototype.remove=function(e){this.hash[e]=this.CLOSE};Mf.prototype.isOpen=function(e){return this.hash[e]===this.OPEN};Mf.prototype.isClose=function(e){return this.hash[e]===this.CLOSE};Mf.prototype.isEmpty=function(){return this.items.length===0};Mf.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};function B9(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function U9(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function z9(e,t){if(e.sourceAnchor)return e.sourceAnchor;var r=B9(e,t);return r.center()}function tse(e,t){if(e.targetAnchor)return e.targetAnchor;var r=U9(e,t);return r.center()}function e1(e,t,r,n,i){var o=360/r,a=e.theta(rse(e,t,n,i)),s=ls(a+o/2);return o*Math.floor(s/o)}function rse(e,t,r,n){var i=n.step,o=t.x-e.x,a=t.y-e.y,s=o/r.x,l=a/r.y,u=s*i,f=l*i;return new ze(e.x+u,e.y+f)}function WD(e,t){var r=Math.abs(e-t);return r>180?360-r:r}function nse(e,t,r){var n=r.step;Sr(r.directions).forEach(function(i){i.gridOffsetX=i.offsetX/n*t.x,i.gridOffsetY=i.offsetY/n*t.y})}function ise(e,t,r){return{source:t.clone(),x:KD(r.x-t.x,e),y:KD(r.y-t.y,e)}}function KD(e,t){if(!e)return t;var r=Math.abs(e),n=Math.round(r/t);if(!n)return r;var i=n*t,o=r-i,a=o/n;return t+a}function ose(e,t){var r=t.source,n=bf(e.x-r.x,t.x)+r.x,i=bf(e.y-r.y,t.y)+r.y;return new ze(n,i)}function jp(e,t){return e.round(t)}function Aw(e,t,r){return jp(ose(e.clone(),t),r)}function nm(e){return e.clone().toString()}function t1(e){return new ze(e.x===0?0:Math.abs(e.x)/e.x,e.y===0?0:Math.abs(e.y)/e.y)}function ase(e,t,r,n,i,o,a){for(var s=[],l=t1(i.difference(r)),u=nm(r),f=e[u],c;f;){c=t[u];var h=t1(c.difference(f));h.equals(l)||(s.unshift(c),l=h),u=nm(f),f=e[u]}var m=t[u],g=t1(m.difference(n));return g.equals(l)||s.unshift(m),s}function JD(e,t){for(var r=1/0,n=0,i=t.length;n<i;n++){var o=e.manhattanDistance(t[n]);o<r&&(r=o)}return r}function YD(e,t,r,n,i){var o=i.precision,a=i.directionMap,s=e.difference(t.center()),l=Vr(a)?Object.keys(a):[],u=Sr(r),f=l.reduce(function(c,h){if(u.includes(h)){for(var m=a[h],g=new ze(e.x+m.x*(Math.abs(s.x)+t.width),e.y+m.y*(Math.abs(s.y)+t.height)),_=new It(e,g),v=_.intersect(t)||[],p=v.length,E,y=null,S=0;S<p;S++){var $=v[S],T=e.squaredDistance($);(E===void 0||T>E)&&(E=T,y=$)}if(y){var d=Aw(y,n,o);t.containsPoint(d)&&(d=Aw(d.offset(m.x*n.x,m.y*n.y),n,o)),c.push(d)}}return c},[]);return t.containsPoint(e)||f.push(Aw(e,n,o)),f}function sse(e,t,r,n){var i=n.precision,o,a;e instanceof xt?o=jp(z9(this,n).clone(),i):o=jp(e.clone(),i),t instanceof xt?a=jp(tse(this,n).clone(),i):a=jp(t.clone(),i);var s=ise(n.step,o,a),l,u,f,c;if(e instanceof xt?(l=o,f=YD(l,e,n.startDirections,s,n)):(l=o,f=[l]),t instanceof xt?(u=a,c=YD(a,t,n.endDirections,s,n)):(u=a,c=[u]),f=f.filter(ye=>!r(ye)),c=c.filter(ye=>!r(ye)),f.length>0&&c.length>0){for(var h=new Mf,m={},g={},_={},v=0,p=f.length;v<p;v++){var E=f[v],y=nm(E);h.add(y,JD(E,c)),m[y]=E,_[y]=0}var S=n.previousDirectionAngle,$=S===void 0,T,d,A=n.directions;nse(A,s,n);for(var P=A.length,x=Sr(c).reduce(function(ye,R){var I=nm(R);return ye.push(I),ye},[]),D=n.maximumLoops;!h.isEmpty()&&D>0;){var F=h.pop(),V=m[F],X=g[F],G=_[F],Q=X===void 0,ce=V.equals(l),ee;Q?$?ce?ee=null:ee=e1(l,V,P,s,n):ee=S:ee=e1(X,V,P,s,n);var ae=f.length===c.length;if(ae){for(var M=0;M<f.length;M++)if(!f[M].equals(c[M])){ae=!1;break}}var B=Q&&ae;if(!B&&x.indexOf(F)>=0)return n.previousDirectionAngle=ee,ase(g,m,V,l,u);for(v=0;v<P;v++){T=A[v];var K=T.angle;if(d=WD(ee,K),!(!($&&ce)&&d>n.maxAllowedDirectionChange)){var O=Aw(V.clone().offset(T.gridOffsetX,T.gridOffsetY),s,i),k=nm(O);if(!(h.isClose(k)||r(O))){if(x.indexOf(k)>=0){var q=O.equals(u);if(!q){var ie=e1(O,u,P,s,n),J=WD(K,ie);if(J>n.maxAllowedDirectionChange)continue}}var Y=T.cost,oe=ce?0:n.penalties[d],_e=G+Y+oe;(!h.isOpen(k)||_e<_[k])&&(m[k]=O,g[k]=V,_[k]=_e,h.add(k,_e+JD(O,c)))}}}D--}}return n.fallbackRoute.call(this,l,u,n)}function lse(e){if(e.directions=Un(e,"directions"),e.penalties=Un(e,"penalties"),e.paddingBox=Un(e,"paddingBox"),e.padding=Un(e,"padding"),e.padding){var t=Ef(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}Sr(e.directions).forEach(function(r){var n=new ze(0,0),i=new ze(r.offsetX,r.offsetY);r.angle=ls(n.theta(i))})}function use(e,t,r){lse(t),r.options.perpendicular=!!t.perpendicular;var n=B9(r,t),i=U9(r,t),o=z9(r,t);let a;if(typeof t.isPointObstacle=="function")a=t.isPointObstacle;else{const y=new ZI(t);y.build(r.paper.model,r.model),a=S=>!y.isPointAccessible(S)}for(var s=Sr(e).map(ze),l=[],u=o,f,c,h=0,m=s.length;h<=m;h++){var g=null;if(c=f||n,f=s[h],!f){f=i;var _=!r.model.get("source").id||!r.model.get("target").id;if(_&&cn(t.draggingRoute)){var v=c===n?o:c,p=f.origin();g=t.draggingRoute.call(r,v,p,t)}}if(g=g||sse.call(r,c,f,a,t),g===null)return t.fallbackRouter(e,t,r);var E=g[0];E&&E.equals(u)&&g.shift(),u=g[g.length-1]||u,Array.prototype.push.apply(l,g)}return l}const ux=function(e,t,r){return use(e,Kt({},F9,t),r)};var cse={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),r=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:r},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:r},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:r},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:r}]},fallbackRoute:function(e,t,r){var n=e.theta(t),i=[],o={x:t.x,y:e.y},a={x:e.x,y:t.y};if(n%180>90){var s=o;o=a,a=s}var l=n%90<45?o:a,u=new It(e,l),f=90*Math.ceil(n/90),c=ze.fromPolar(u.squaredLength(),$o(f+135),l),h=new It(t,c),m=u.intersection(h),g=m||t,_=m?g:e,v=360/r.directions.length,p=_.theta(t),E=ls(p+v/2),y=v*Math.floor(E/v);return r.previousDirectionAngle=y,g&&i.push(g.round()),i.push(t),i}};const fse=function(e,t,r){if(!cn(ux))throw new Error("Metro requires the manhattan router.");return ux(e,Kt({},cse,t),r)},pt={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},XD=[pt.LEFT,pt.RIGHT,pt.TOP,pt.BOTTOM],Fd={[pt.LEFT]:pt.RIGHT,[pt.RIGHT]:pt.LEFT,[pt.TOP]:pt.BOTTOM,[pt.BOTTOM]:pt.TOP},dse=[pt.TOP,pt.BOTTOM],Lv={0:pt.RIGHT,180:pt.LEFT,270:pt.TOP,90:pt.BOTTOM};function Dp(e){return e.angle()}function Fv(e){return new sn(e).simplify({threshold:1}).points}function Kb(e,t){const{point:r,x0:n,y0:i,view:o,bbox:a,direction:s}=e,{point:l,x0:u,y0:f,view:c,bbox:h,direction:m}=t;let g;if(o)o.model.isLink()?g=QD(l,r,o):s===pt.ANCHOR_SIDE?g=a.sideNearestToPoint(r):s===pt.MAGNET_SIDE?g=o.model.getBBox().sideNearestToPoint(r):g=s;else{const v=new xt(n,i,0,0);g=XD.includes(s)?s:v.sideNearestToPoint(l)}let _;if(c)c.model.isLink()?_=QD(r,l,c):m===pt.ANCHOR_SIDE?_=h.sideNearestToPoint(l):m===pt.MAGNET_SIDE?_=c.model.getBBox().sideNearestToPoint(l):_=m;else{const v=new xt(u,f,0,0);_=XD.includes(m)?m:v.sideNearestToPoint(r)}return[g,_]}function hse(e,t,r){const{x0:n,y0:i,width:o,height:a,point:s,margin:l}=e,u=n+o,f=i+a,c=n-l,h=u+l,m=i-l,{x:g}=s,{x0:_,y0:v}=t;return _===g&&v<i?pt.BOTTOM:_<g&&v<m?pt.RIGHT:_>g&&v<m?pt.LEFT:_<c&&v>=i||_>h&&v>=i?pt.TOP:_>=c&&_<=g&&v>f||_<=h&&_>=g&&v>f?r.point.x<_?pt.RIGHT:pt.LEFT:pt.TOP}function pse(e,t,r){const{x0:n,y0:i,width:o,height:a,point:s,margin:l}=e,u=n+o,f=i+a,c=n-l,h=u+l,m=f+l,{x:g}=s,{x0:_,y0:v}=t;return _===g&&v>f?pt.TOP:_<g&&v>m?pt.RIGHT:_>g&&v>m?pt.LEFT:_<c&&v<=f||_>h&&v<=f?pt.BOTTOM:_>=c&&_<=g&&v<i||_<=h&&_>=g&&v<i?r.point.x<_?pt.RIGHT:pt.LEFT:pt.BOTTOM}function mse(e,t,r){const{y0:n,x0:i,width:o,height:a,point:s,margin:l}=e,u=i+o,f=n+a,c=i-l,h=n-l,m=f+l,{x:g,y:_}=s,{x0:v,y0:p}=t;return v<g&&p===_?pt.RIGHT:v<=c&&p<_?pt.BOTTOM:v<=c&&p>_?pt.TOP:v>=i&&p<=h||v>=i&&p>=m?pt.LEFT:v>u&&p>=h&&p<=_||v>u&&p<=m&&p>=_?r.point.y<p?pt.BOTTOM:pt.TOP:pt.LEFT}function gse(e,t,r){const{y0:n,x0:i,width:o,height:a,point:s,margin:l}=e,u=i+o,f=n+a,c=u+l,h=n-l,m=f+l,{x:g,y:_}=s,{x0:v,y0:p}=t;return v>g&&p===_?pt.LEFT:v>=c&&p<_?pt.BOTTOM:v>=c&&p>_?pt.TOP:v<=u&&p<=h||v<=u&&p>=m?pt.RIGHT:v<i&&p>=h&&p<=_||v<i&&p<=m&&p>=_?r.point.y<p?pt.BOTTOM:pt.TOP:pt.RIGHT}function vse(e,t,r){const[n]=Kb(e,t);switch(n){case pt.TOP:return hse(e,t,r);case pt.RIGHT:return gse(e,t,r);case pt.BOTTOM:return pse(e,t,r);case pt.LEFT:return mse(e,t,r)}}function QD(e,t,r){const n=r.getTangentAtLength(r.getClosestPointLength(t)),i=Math.round(Dp(n)/90)*90;if(i%180===0&&e.y===t.y)return e.x<t.x?pt.LEFT:pt.RIGHT;if(e.x===t.x)return e.y<t.y?pt.TOP:pt.BOTTOM;switch(i){case 0:case 180:case 360:return e.y<t.y?pt.TOP:pt.BOTTOM;case 90:case 270:return e.x<t.x?pt.LEFT:pt.RIGHT}}function ZD(e,t,r,n,i,o,a){n===pt.AUTO&&(n=i?pt.MAGNET_SIDE:pt.ANCHOR_SIDE);const s=e&&e.model.isElement(),{x:l,y:u,width:f=0,height:c=0}=s?xt.fromRectUnion(r,e.model.getBBox()):o;return{point:t,x0:l,y0:u,view:e,bbox:r,width:f,height:c,direction:n,margin:s?a:0}}function r1({x:e,y:t}){const r=new ze(e,t);return{point:r,x0:r.x,y0:r.y,view:null,bbox:new xt(e,t,0,0),width:0,height:0,direction:null,margin:0}}function eM(e,t,r){const n=t.point.clone(),{x0:i,y0:o,width:a,height:s}=t;switch(e){case"left":n.x=i-r;break;case"right":n.x=i+a+r;break;case"top":n.y=o-r;break;case"bottom":n.y=o+s+r;break}return n}function ou(e,t){const{point:r,x0:n,y0:i,view:o,width:a,height:s,margin:l}=e,{point:u,x0:f,y0:c,width:h,height:m,margin:g}=t,_=f+h,v=c+m,p=n+a,E=i+s,y=o&&o.model.isElement(),S=n-l,$=p+l,T=i-l,d=E+l,A=f-g,P=_+g,x=c-g,D=v+g,[F,V]=Kb(e,t),X=eM(F,{point:r,x0:n,y0:i,width:a,height:s},l),G=eM(V,{point:u,x0:f,y0:c,width:h,height:m},g),{x:Q,y:ce}=X,{x:ee,y:ae}=G,M=(f+_)/2,B=(c+v)/2,K=(n+p)/2,O=(i+E)/2,k=(K<M?p+f:_+n)/2,q=(O<B?E+c:v+i)/2;if(F==="left"&&V==="right"){if(S<=P){let J=q;return p<=f&&(v>=T&&ae<ce?J=Math.min(x,T):c<=d&&ae>=ce&&(J=Math.max(D,d))),[{x:Q,y:ce},{x:Q,y:J},{x:ee,y:J},{x:ee,y:ae}]}const ie=(Q+ee)/2;return[{x:ie,y:ce},{x:ie,y:ae}]}else if(F==="right"&&V==="left"){if($>=A){let J=q;return Q>_&&(v>=T&&ae<ce?J=Math.min(x,T):c<=d&&ae>=ce&&(J=Math.max(D,d))),[{x:Q,y:ce},{x:Q,y:J},{x:ee,y:J},{x:ee,y:ae}]}const ie=(Q+ee)/2;return[{x:ie,y:ce},{x:ie,y:ae}]}else if(F==="top"&&V==="bottom"){if(ce<ae){let J=k,Y=ce;return ce<c&&(_>=S&&ee<Q?J=Math.min(A,S):f<=$&&ee>=Q&&(J=Math.max(P,$))),[{x:Q,y:Y},{x:J,y:Y},{x:J,y:ae},{x:ee,y:ae}]}const ie=(ce+ae)/2;return[{x:Q,y:ie},{x:ee,y:ie}]}else if(F==="bottom"&&V==="top"){if(ce-l>ae){let J=k,Y=ce;return ce>v&&(_>=S&&ee<Q?J=Math.min(A,S):f<=$&&ee>=Q&&(J=Math.max(P,$))),[{x:Q,y:Y},{x:J,y:Y},{x:J,y:ae},{x:ee,y:ae}]}const ie=(ce+ae)/2;return[{x:Q,y:ie},{x:ee,y:ie}]}else if(F==="top"&&V==="top"){let ie,J=Math.min((E+c)/2,ae),Y=Math.min((i+v)/2,ce);if(ae<ce){if(Q>=P||Q<=A)return[{x:Q,y:Math.min(ce,ae)},{x:ee,y:Math.min(ce,ae)}];ee>Q?ie=Math.min(Q,A):ie=Math.max(Q,P)}else{if(ee>=$||ee<=S)return[{x:Q,y:Math.min(ce,ae)},{x:ee,y:Math.min(ce,ae)}];ee>=Q?ie=Math.max(ee,$):ie=Math.min(ee,S)}return[{x:Q,y:Y},{x:ie,y:Y},{x:ie,y:J},{x:ee,y:J}]}else if(F==="bottom"&&V==="bottom"){let ie,J=Math.max((i+v)/2,ae),Y=Math.max((E+c)/2,ce);if(ae>ce){if(Q>=P||Q<=A)return[{x:Q,y:Math.max(ce,ae)},{x:ee,y:Math.max(ce,ae)}];ee>Q?ie=Math.min(Q,A):ie=Math.max(Q,P)}else{if(ee>=$||ee<=S)return[{x:Q,y:Math.max(ce,ae)},{x:ee,y:Math.max(ce,ae)}];ee>=Q?ie=Math.max(ee,$):ie=Math.min(ee,S)}return[{x:Q,y:Y},{x:ie,y:Y},{x:ie,y:J},{x:ee,y:J}]}else if(F==="left"&&V==="left"){let ie,J=Math.min((p+f)/2,ee),Y=Math.min((n+_)/2,Q);return ee>Q?ae<=ce?ie=Math.min(T,ae):ie=Math.max(d,ae):ae>=ce?ie=Math.min(x,ce):ie=Math.max(D,ce),[{x:Y,y:ce},{x:Y,y:ie},{x:J,y:ie},{x:J,y:ae}]}else if(F==="right"&&V==="right"){let ie,J=Math.max((n+_)/2,ee),Y=Math.max((p+f)/2,Q);return ee<Q?ae<=ce?ie=Math.min(T,ae):ie=Math.max(d,ae):ae>=ce?ie=Math.min(x,ce):ie=Math.max(D,ce),[{x:Y,y:ce},{x:Y,y:ie},{x:J,y:ie},{x:J,y:ae}]}else if(F==="top"&&V==="right"){if(ce>ae){if(Q<ee){let J=q;return(J>B||!y)&&J<D&&Q<f&&(J=x),[{x:Q,y:J},{x:ee,y:J},{x:ee,y:ae}]}return[{x:Q,y:ae}]}const ie=Math.max(k,P);if(ee<Q&&ae>i&&ae<E)return[{x:Q,y:ce},{x:ie,y:ce},{x:ie,y:ae}];if(ie>S&&ae>i||f>p){const J=Math.min(i-l,c-g),Y=Math.max(p+l,_+g);return[{x:Q,y:J},{x:Y,y:J},{x:Y,y:ae}]}return[{x:Q,y:ce},{x:Math.max(ie,ee),y:ce},{x:Math.max(ie,ee),y:ae}]}else if(F==="top"&&V==="left"){if(ce>ae){if(Q>ee){let J=q;return(J>B||!y)&&J<D&&Q>_&&(J=x),[{x:Q,y:J},{x:ee,y:J},{x:ee,y:ae}]}return[{x:Q,y:ae}]}const ie=Math.min(A,k);if(Q<ee&&E>=ae)return[{x:Q,y:ce},{x:ie,y:ce},{x:ie,y:ae}];if(ie<$&&ce<v){const J=Math.min(T,x),Y=Math.min(S,A);return[{x:Q,y:J},{x:Y,y:J},{x:Y,y:ae}]}return[{x:Q,y:ce},{x:ie,y:ce},{x:ie,y:ae}]}else if(F==="bottom"&&V==="right"){if(ce<ae){if(Q<ee){let J=q;return(J<B||!y)&&J>x&&Q<f&&(J=D),[{x:Q,y:J},{x:ee,y:J},{x:ee,y:ae}]}return[{x:Q,y:ae}]}else if(n<ee){const J=Math.max(d,D),Y=Math.max($,P);return[{x:Q,y:J},{x:Y,y:J},{x:Y,y:ae}]}const ie=k;return[{x:Q,y:ce},{x:ie,y:ce},{x:ie,y:ae}]}else if(F==="bottom"&&V==="left"){if(ce<ae){if(Q>ee){let J=q;return(J<B||!y)&&J>x&&Q>_&&(J=D),[{x:Q,y:J},{x:ee,y:J},{x:ee,y:ae}]}return[{x:Q,y:ae}]}else if(p>ee){const J=Math.max(d,D),Y=Math.min(S,A);return[{x:Q,y:J},{x:Y,y:J},{x:Y,y:ae}]}const ie=k;return[{x:Q,y:ce},{x:ie,y:ce},{x:ie,y:ae}]}else if(F==="left"&&V==="bottom"){if(Q>=ee&&ce>=D)return[{x:ee,y:ce}];if(Q>=_&&ce<ae){const Y=k;return[{x:Y,y:ce},{x:Y,y:ae},{x:ee,y:ae}]}if(ee<p&&v<=i){const Y=q;return[{x:Q,y:ce},{x:Q,y:Y},{x:ee,y:Y}]}const ie=Math.min(A,Q),J=Math.max(d,D);return[{x:ie,y:ce},{x:ie,y:J},{x:ee,y:J}]}else if(F==="left"&&V==="top"){if(Q>ee&&ce<x)return[{x:ee,y:ce}];if(Q>=_&&ce>ae){const Y=k;return[{x:Y,y:ce},{x:Y,y:ae},{x:ee,y:ae}]}if(ee<=p&&ae>ce){const Y=q;return[{x:Q,y:ce},{x:Q,y:Y},{x:ee,y:Y}]}const ie=ae<ce?Math.min(S,A):S,J=Math.min(T,x);return[{x:ie,y:ce},{x:ie,y:J},{x:ee,y:J}]}else if(F==="right"&&V==="top"){if(Q<=ee&&ce<x)return[{x:ee,y:ce}];if(p<f&&ce>ae){let Y=k;return[{x:Y,y:ce},{x:Y,y:ae},{x:ee,y:ae}]}if(ee<Q&&c>E){const Y=q;return[{x:Q,y:ce},{x:Q,y:Y},{x:ee,y:Y}]}const ie=Math.max($,P),J=Math.min(T,x);return[{x:ie,y:ce},{x:ie,y:J},{x:ee,y:J}]}else if(F==="right"&&V==="bottom"){if(Q<=ee&&ce>=D)return[{x:ee,y:ce}];if(Q<=A&&ce<ae){const Y=k;return[{x:Y,y:ce},{x:Y,y:ae},{x:ee,y:ae}]}if(ee>n&&v<i){const Y=q;return[{x:Q,y:ce},{x:Q,y:Y},{x:ee,y:Y}]}const ie=Math.max(P,Q),J=Math.max(d,D);return[{x:ie,y:ce},{x:ie,y:J},{x:ee,y:J}]}}function q9(e,t,r){const{sourceDirection:n=pt.AUTO,targetDirection:i=pt.AUTO}=t,o=t.margin||20,a=t.useVertices||!1,s=!!r.model.source().port,l=ZD(r.sourceView,r.sourceAnchor,r.sourceBBox,n,s,r.sourceAnchor,o),u=!!r.model.target().port,f=ZD(r.targetView,r.targetAnchor,r.targetBBox,i,u,r.targetAnchor,o);let c=[];if(!a||e.length===0)return Fv(ou(l,f));const h=e.map(_=>r1(_)),[m]=h;if(l.view&&l.view.model.isElement()&&l.view.model.getBBox().inflate(o).containsPoint(m.point)){const[_]=Kb(l,m),v=_,p=r1(l.point);p.margin=o,p.direction=_,m.direction=v,c.push(...ou(p,m),m.point)}else{const _=h[1]||f,v=vse(l,m,_);m.direction=v,c.push(...ou(l,m),m.point)}for(let _=0;_<h.length-1;_++){const v=h[_],p=h[_+1],E=new It(v.point,p.point),y=Dp(E);if(y%90===0){const T=Lv[y],d=Fd[T];if(T!==v.direction)c.push(v.point,p.point),p.direction=d;else{const A=ls(y-90);let P=0,x=0;A===90?x=-o:A===180?P=-o:A===270?x=o:A===0&&(P=o);const D={x:v.point.x+P,y:v.point.y+x},F={x:p.point.x+P,y:p.point.y+x},V=new It(p.point,F);p.direction=Lv[Dp(V)],c.push(v.point,D,F,p.point)}continue}const[S,$]=n1(v,p);v.direction=S,p.direction=$,c.push(...ou(v,p),p.point)}const g=h[h.length-1];if(f.view&&f.view.model.isElement())if(f.view.model.getBBox().inflate(o).containsPoint(g.point)){const[_]=n1(g,f),v=r1(f.point),[,p]=Kb(g,f);v.margin=o,v.direction=p,g.direction=_,c.push(...ou(g,v))}else{const _=Fv(c),v=new It(_[_.length-2],g.point),p=Lv[Math.round(Dp(v))];g.direction=p;let E=ou(g,f);const[y,S]=Fv([...E,f.point]),$=new It(y,S),T=Math.round(Dp($)),d=Lv[T];d!==p&&p===Fd[d]&&(g.margin=o,E=ou(g,f)),c.push(...E)}else{const[_]=n1(g,f);g.direction=_,c.push(...ou(g,f))}return Fv(c)}function n1(e,t){const r=e.direction,n=dse.includes(r);let i=e.direction,o=t.direction;if(n){const a=e.point.y>t.point.y,s=t.point.x-e.point.x;r===pt.BOTTOM?(i=a?Fd[r]:s>=0?pt.RIGHT:pt.LEFT,s>0?o=a?pt.LEFT:pt.TOP:s<0&&(o=a?pt.RIGHT:pt.TOP)):(i=a?s>=0?pt.RIGHT:pt.LEFT:Fd[r],s>0?o=a?pt.BOTTOM:pt.LEFT:s<0&&(o=a?pt.BOTTOM:pt.RIGHT))}else{const a=e.point.x>t.point.x,s=t.point.y-e.point.y;r===pt.RIGHT?(i=a?Fd[r]:s>=0?pt.BOTTOM:pt.TOP,s>0?o=a?pt.TOP:pt.LEFT:s<0&&(o=a?pt.BOTTOM:pt.LEFT)):(i=a?s>=0?pt.BOTTOM:pt.TOP:Fd[r],s>0?o=a?pt.RIGHT:pt.TOP:s<0&&(o=a?pt.RIGHT:pt.BOTTOM))}return[i,o]}q9.Directions=pt;const yse=q9,wse=Object.freeze(Object.defineProperty({__proto__:null,manhattan:ux,metro:fse,normal:Wae,oneSide:Kae,orthogonal:lx,rightAngle:yse},Symbol.toStringTag,{value:"Module"})),_d={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},bse=Object.values(_d),_se=10,Ese=1,eN=function(e,t,r=[],n={}){const{cornerType:i=_d.POINT,cornerRadius:o=_se,cornerPreserveAspectRatio:a=!1,precision:s=Ese,raw:l=!1}=n;if(bse.indexOf(i)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let u;if(i===_d.POINT||!o){const f=[e].concat(r).concat([t]),c=new sn(f);u=new Bt(c)}else{u=new Bt,u.appendSegment(Bt.createSegment("M",e));let f;const c=r.length;for(let h=0;h<c;h++){const m=new ze(r[h]),g=r[h-1]||e,_=r[h+1]||t,v=f||m.distance(g)/2;f=m.distance(_)/2;let p,E;a?p=E=-Math.min(o,v,f):(p=-Math.min(o,v),E=-Math.min(o,f));const y=m.clone().move(g,p).round(s),S=m.clone().move(_,E).round(s);switch(u.appendSegment(Bt.createSegment("L",y)),i){case _d.CUBIC:{const $=.3333333333333333,T=2/3,d=new ze($*y.x+T*m.x,T*m.y+$*y.y),A=new ze($*S.x+T*m.x,T*m.y+$*S.y);u.appendSegment(Bt.createSegment("C",d,A,S));break}case _d.LINE:{u.appendSegment(Bt.createSegment("L",S));break}case _d.GAP:{u.appendSegment(Bt.createSegment("M",S));break}}}u.appendSegment(Bt.createSegment("L",t))}return l?u:u.serialize()};var Sse=5,tM=["arc","gap","cubic"],$se=0,rM=1,Tse=["smooth"],Bv=1/3,Uv=2/3;function nM(e,t){let{x:r,y:n}=e,{x:i,y:o}=t;if(r>i){let a=r;r=i,i=a,a=n,n=o,o=a}if(n>o){let a=r;r=i,i=a,a=n,n=o,o=a}return[new ze(r,n),new ze(i,o)]}function Ase(e,t){const[{x:r,y:n},{x:i,y:o}]=nM(e.start,e.end),[{x:a,y:s},{x:l,y:u}]=nM(t.start,t.end),f=r<=l&&a<=i,c=n<=u&&s<=o;return f&&c}function i1(e,t,r){var n=[].concat(e,r,t);return n.reduce(function(i,o,a){var s=n[a+1];return s!=null&&(i[a]=uf(o,s)),i},[])}function Pse(e){var t=e.paper,r=t._jumpOverUpdateList;if(r==null){r=t._jumpOverUpdateList=[];var n=t.model;n.on("batch:stop",function(){this.hasActiveBatch()||xse(t)}),n.on("reset",function(){r=t._jumpOverUpdateList=[]})}r.indexOf(e)<0&&(r.push(e),e.listenToOnce(e.model,"change:connector remove",function(){r.splice(r.indexOf(e),1)}))}function xse(e){for(var t=e._jumpOverUpdateList,r=0;r<t.length;r++){const n=t[r],i=n.getFlag(n.constructor.Flags.CONNECTOR);n.requestUpdate(i)}}function Ose(e,t){return Sr(t).reduce(function(r,n){var i=e.intersection(n);return i&&r.push(i),r},[])}function iM(e,t){return uf(e,t).squaredLength()}function Rse(e,t,r){return t.reduce(function(n,i,o){if(i.skip===!0)return n;var a=n.pop()||e,s=Lb(i).move(a.start,-r),l=Lb(i).move(a.start,+r),u=t[o+1];if(u!=null){var f=l.distance(u);f<=r&&(l=u.move(a.start,f),u.skip=!0)}else{var c=s.distance(a.end);if(c<r*2+rM)return n.push(a),n}var h=l.distance(a.start);if(h<r*2+rM)return n.push(a),n;var m=uf(s,l);return m.isJump=!0,n.push(uf(a.start,s),m,uf(l,a.end)),n},[])}function oM(e,t,r,n){var i=new Bt,o;return o=Bt.createSegment("M",e[0].start),i.appendSegment(o),Sr(e).forEach(function(a,s){if(a.isJump){var l,u,f,c;if(r==="arc"){l=-90,u=a.start.difference(a.end);var h=+(u.x<0||u.x===0&&u.y<0);h&&(l+=180);var m=a.midpoint(),g=new It(m,a.end).rotate(m,l),_;_=new It(a.start,m),f=_.pointAt(2/3).rotate(a.start,l),c=g.pointAt(1/3).rotate(g.end,-l),o=Bt.createSegment("C",f,c,g.end),i.appendSegment(o),_=new It(m,a.end),f=g.pointAt(1/3).rotate(g.end,l),c=_.pointAt(1/3).rotate(a.end,-l),o=Bt.createSegment("C",f,c,a.end),i.appendSegment(o)}else if(r==="gap")o=Bt.createSegment("M",a.end),i.appendSegment(o);else if(r==="cubic"){l=a.start.theta(a.end);var v=t*.6,p=t*1.35;u=a.start.difference(a.end),h=+(u.x<0||u.x===0&&u.y<0),h&&(p*=-1),f=ze(a.start.x+v,a.start.y+p).rotate(a.start,l),c=ze(a.end.x-v,a.end.y+p).rotate(a.end,l),o=Bt.createSegment("C",f,c,a.end),i.appendSegment(o)}}else{var E=e[s+1];n==0||!E||E.isJump?(o=Bt.createSegment("L",a.end),i.appendSegment(o)):Ise(n,i,a.end,a.start,E.end)}}),i}function Ise(e,t,r,n,i){var o=r.distance(n)/2,a=r.distance(i)/2,s=-Math.min(e,o),l=-Math.min(e,a),u=r.clone().move(n,s).round(),f=r.clone().move(i,l).round(),c=new ze(Bv*u.x+Uv*r.x,Uv*r.y+Bv*u.y),h=new ze(Bv*f.x+Uv*r.x,Uv*r.y+Bv*f.y),m;m=Bt.createSegment("L",u),t.appendSegment(m),m=Bt.createSegment("C",c,h,f),t.appendSegment(m)}const Nse=function(e,t,r,n){Pse(this);var i=n.raw,o=n.size||Sse,a=n.jump&&(""+n.jump).toLowerCase(),s=n.radius||$se,l=n.ignoreConnectors||Tse;tM.indexOf(a)===-1&&(a=tM[0]);var u=this.paper,f=u.model,c=f.getLinks();if(c.length===1)return oM(i1(e,t,r),o,a,s);var h=this.model,m=c.indexOf(h),g=u.options.defaultConnector||{},_=c.filter(function($,T){var d=$.get("connector")||g;return Sr(l).includes(d.name)?!1:T>m?d.name!=="jumpover":!0}),v=_.map(function($){return u.findViewByModel($)}),p=i1(e,t,r),E=v.map(function($){return $==null?[]:$===this?p:i1($.sourcePoint,$.targetPoint,$.route)},this),y=p.reduce(function($,T){var d=_.reduce(function(A,P,x){if(P!==h){const D=E[x].slice(),F=D.findIndex(X=>Ase(T,X));F>-1&&T.containsPoint(D[F].end)&&D.splice(F+1,1);const V=Ose(T,D);A.push.apply(A,V)}return A},[]).sort(function(A,P){return iM(T.start,A)-iM(T.start,P)});return d.length>0?$.push.apply($,Rse(T,d,o)):$.push(T),$},[]),S=oM(y,o,a,s);return i?S:S.serialize()},Cse=function(e,t,r=[],n={}){const{raw:i}=n;return eN(e,t,r,{cornerType:"point",raw:i})},kse=10,jse=0,Dse=function(e,t,r=[],n={}){const{radius:i=kse,raw:o}=n;return eN(e,t,r,{cornerType:"cubic",cornerRadius:i,precision:jse,raw:o})},Mse=function(e,t,r,n){var i=n&&n.raw,o;if(r&&r.length!==0){var a=[e].concat(r).concat([t]),s=Mr.throughPoints(a);o=new Bt(s)}else{o=new Bt;var l;if(l=Bt.createSegment("M",e),o.appendSegment(l),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var u=(e.x+t.x)/2;l=Bt.createSegment("C",u,e.y,u,t.y,t.x,t.y),o.appendSegment(l)}else{var f=(e.y+t.y)/2;l=Bt.createSegment("C",e.x,f,t.x,f,t.x,t.y),o.appendSegment(l)}}return i?o:o.serialize()},Ea={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},Yi={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},tN=function(e,t,r=[],n={},i){const o=!!n.raw,{direction:a=Ea.AUTO,precision:s=3}=n,l={coeff:n.distanceCoefficient||.6,angleTangentCoefficient:n.angleTangentCoefficient||80,tau:n.tension||.5,sourceTangent:n.sourceTangent?new ze(n.sourceTangent):null,targetTangent:n.targetTangent?new ze(n.targetTangent):null,rotate:!!n.rotate};typeof n.sourceDirection=="string"?l.sourceDirection=n.sourceDirection:typeof n.sourceDirection=="number"?l.sourceDirection=new ze(1,0).rotate(null,n.sourceDirection):l.sourceDirection=n.sourceDirection?new ze(n.sourceDirection).normalize():null,typeof n.targetDirection=="string"?l.targetDirection=n.targetDirection:typeof n.targetDirection=="number"?l.targetDirection=new ze(1,0).rotate(null,n.targetDirection):l.targetDirection=n.targetDirection?new ze(n.targetDirection).normalize():null;const u=[e,...r,t].map(_=>new ze(_));let f;if(l.sourceTangent)f=l.sourceTangent;else{const _=zse(i,u,a,l),v=u[0].distance(u[1])*l.coeff,p=u[1].difference(u[0]).normalize(),E=cx(_,p);if(E>Math.PI/4){const y=v+(E-Math.PI/4)*l.angleTangentCoefficient;f=_.clone().scale(y,y)}else f=_.clone().scale(v,v)}let c;if(l.targetTangent)c=l.targetTangent;else{const _=qse(i,u,a,l),v=u.length-1,p=u[v-1].distance(u[v])*l.coeff,E=u[v-1].difference(u[v]).normalize(),y=cx(_,E);if(y>Math.PI/4){const S=p+(y-Math.PI/4)*l.angleTangentCoefficient;c=_.clone().scale(S,S)}else c=_.clone().scale(p,p)}const m=Hse(u,f,c,l).map(_=>Gse(_,l)),g=new Bt(m).round(s);return o?g:g.serialize()};tN.Directions=Ea;tN.TangentDirections=Yi;function Lse(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)n.x>t[1].x?i="right":i="left";else if(o=e.sourceView.model.angle(),r.rotate&&o){const s=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let a;switch(i){case"left":a=new ze(-1,0);break;case"right":default:a=new ze(1,0);break}return r.rotate&&o&&a.rotate(null,-o),a}function Fse(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)n.x>t[t.length-2].x?i="left":i="right";else if(o=e.targetView.model.angle(),r.rotate&&o){const s=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let a;switch(i){case"left":a=new ze(-1,0);break;case"right":default:a=new ze(1,0);break}return r.rotate&&o&&a.rotate(null,-o),a}function Bse(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)n.y>t[1].y?i="bottom":i="top";else if(o=e.sourceView.model.angle(),r.rotate&&o){const s=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let a;switch(i){case"top":a=new ze(0,-1);break;case"bottom":default:a=new ze(0,1);break}return r.rotate&&o&&a.rotate(null,-o),a}function Use(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)n.y>t[t.length-2].y?i="top":i="bottom";else if(o=e.targetView.model.angle(),r.rotate&&o){const s=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let a;switch(i){case"top":a=new ze(0,-1);break;case"bottom":default:a=new ze(0,1);break}return r.rotate&&o&&a.rotate(null,-o),a}function aM(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)i=n.sideNearestToPoint(t[1]);else if(o=e.sourceView.model.angle(),r.rotate&&o){const s=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let a;switch(i){case"top":a=new ze(0,-1);break;case"bottom":a=new ze(0,1);break;case"right":a=new ze(1,0);break;case"left":a=new ze(-1,0);break}return r.rotate&&o&&a.rotate(null,-o),a}function sM(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)i=n.sideNearestToPoint(t[t.length-2]);else if(o=e.targetView.model.angle(),r.rotate&&o){const s=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let a;switch(i){case"top":a=new ze(0,-1);break;case"bottom":a=new ze(0,1);break;case"right":a=new ze(1,0);break;case"left":a=new ze(-1,0);break}return r.rotate&&o&&a.rotate(null,-o),a}function lM(e,t,r){return t[1].difference(t[0]).normalize()}function uM(e,t,r){const n=t.length-1;return t[n-1].difference(t[n]).normalize()}function cM(e,t,r){const{sourceBBox:n}=e,i=n.center();return t[0].difference(i).normalize()}function fM(e,t,r){const{targetBBox:n}=e,i=n.center();return t[t.length-1].difference(i).normalize()}function zse(e,t,r,n){if(n.sourceDirection)switch(n.sourceDirection){case Yi.UP:return new ze(0,-1);case Yi.DOWN:return new ze(0,1);case Yi.LEFT:return new ze(-1,0);case Yi.RIGHT:return new ze(1,0);case Yi.AUTO:return aM(e,t,n);case Yi.CLOSEST_POINT:return lM(e,t);case Yi.OUTWARDS:return cM(e,t);default:return n.sourceDirection}switch(r){case Ea.HORIZONTAL:return Lse(e,t,n);case Ea.VERTICAL:return Bse(e,t,n);case Ea.CLOSEST_POINT:return lM(e,t);case Ea.OUTWARDS:return cM(e,t);case Ea.AUTO:default:return aM(e,t,n)}}function qse(e,t,r,n){if(n.targetDirection)switch(n.targetDirection){case Yi.UP:return new ze(0,-1);case Yi.DOWN:return new ze(0,1);case Yi.LEFT:return new ze(-1,0);case Yi.RIGHT:return new ze(1,0);case Yi.AUTO:return sM(e,t,n);case Yi.CLOSEST_POINT:return uM(e,t);case Yi.OUTWARDS:return fM(e,t);default:return n.targetDirection}switch(r){case Ea.HORIZONTAL:return Fse(e,t,n);case Ea.VERTICAL:return Use(e,t,n);case Ea.CLOSEST_POINT:return uM(e,t);case Ea.OUTWARDS:return fM(e,t);case Ea.AUTO:default:return sM(e,t,n)}}function Vse(e,t){const r=Math.cos(t),n=Math.sin(t),i=r*e.x-n*e.y,o=n*e.x+r*e.y;e.x=i,e.y=o}function cx(e,t){let r=e.dot(t)/(e.magnitude()*t.magnitude());return r<-1&&(r=-1),r>1&&(r=1),Math.acos(r)}function dM(e,t){return e.x*t.y-e.y*t.x}function Hse(e,t,r,n){const{tau:i,coeff:o}=n,a=[],s=[],l=[],u=e.length-1;for(let f=0;f<u;f++)a[f]=e[f].distance(e[f+1]);s[0]=t,s[u]=r;for(let f=1;f<u;f++){let c,h;f===1?c=e[f-1].clone().offset(s[f-1].x,s[f-1].y):c=e[f-1].clone(),f===u-1?h=e[f+1].clone().offset(s[f+1].x,s[f+1].y):h=e[f+1].clone();const m=c.difference(e[f]).normalize(),g=h.difference(e[f]).normalize(),_=cx(m,g);let v=(Math.PI-_)/2,p;const E=dM(m,g);let y;y=dM(e[f].difference(e[f+1]),e[f].difference(e[f-1])),E<0&&(v=-v),_<Math.PI/2&&(v<0&&y<0||v>0&&y>0)&&(v=v-Math.PI),p=g.clone(),Vse(p,v);const S=p.clone(),$=p.clone(),T=a[f-1]*o,d=a[f]*o;S.scale(T,T),$.scale(d,d),s[f]=[S,$]}for(let f=0;f<u;f++){let c,h;f===0?c=e[f+1].difference(s[f].x/i,s[f].y/i):c=e[f+1].difference(s[f][1].x/i,s[f][1].y/i),f===u-1?h=e[f].clone().offset(s[f+1].x/i,s[f+1].y/i):h=e[f].difference(s[f+1][0].x/i,s[f+1][0].y/i),l[f]=[c,e[f],e[f+1],h]}return l}function Gse(e,t){const{tau:r}=t,n=new ze;n.x=e[1].x+(e[2].x-e[0].x)/(6*r),n.y=e[1].y+(e[2].y-e[0].y)/(6*r);const i=new ze;return i.x=e[2].x+(e[3].x-e[1].x)/(6*r),i.y=e[2].y+(e[3].y-e[1].y)/(6*r),new Mr(e[1],n,i,e[2])}const Wse=Object.freeze(Object.defineProperty({__proto__:null,curve:tN,jumpover:Nse,normal:Cse,rounded:Dse,smooth:Mse,straight:eN},Symbol.toStringTag,{value:"Module"})),Xt={TOOLS:cr.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},im=cr.extend({className:function(){var e=cr.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){cr.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[Xt.RENDER],attrs:[Xt.UPDATE],router:[Xt.UPDATE],connector:[Xt.CONNECTOR],smooth:[Xt.UPDATE],manhattan:[Xt.UPDATE],toolMarkup:[Xt.LEGACY_TOOLS],labels:[Xt.LABELS],labelMarkup:[Xt.LABELS],vertices:[Xt.VERTICES,Xt.UPDATE],vertexMarkup:[Xt.VERTICES],source:[Xt.SOURCE,Xt.UPDATE],target:[Xt.TARGET,Xt.UPDATE]},initFlag:[Xt.RENDER,Xt.SOURCE,Xt.TARGET,Xt.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,Xt.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,Xt.SOURCE)}if(this.hasFlag(e,Xt.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,Xt.TARGET)}const{paper:r,sourceView:n,targetView:i}=this;if(r&&(n&&!r.isViewMounted(n)||i&&!r.isViewMounted(i)))return e;if(this.hasFlag(e,Xt.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),e=this.removeFlag(e,[Xt.RENDER,Xt.UPDATE,Xt.VERTICES,Xt.LABELS,Xt.TOOLS,Xt.LEGACY_TOOLS,Xt.CONNECTOR]),e;let o=!1;this.hasFlag(e,Xt.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,Xt.VERTICES));const{model:a}=this,{attributes:s}=a;let l=this.hasFlag(e,Xt.LABELS),u=this.hasFlag(e,Xt.LEGACY_TOOLS);l&&(this.onLabelsChange(a,s.labels,t),e=this.removeFlag(e,Xt.LABELS),o=!0),u&&(this.renderTools(),e=this.removeFlag(e,Xt.LEGACY_TOOLS));const f=this.hasFlag(e,Xt.UPDATE),c=this.hasFlag(e,Xt.CONNECTOR);return(f||c)&&(f?t.translateBy&&a.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[Xt.UPDATE,Xt.TOOLS,Xt.CONNECTOR]),l=!1,u=!1,o=!0),l&&this.updateLabelPositions(),u&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(e,Xt.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Xt.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(Xt.UPDATE),e)},isLabelsRenderRequired:function(e={}){const t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var r=e.propertyPathArray||[],n=r.length;if(n>1){var i=!!t[r[1]];if(i){if(n===2)return"markup"in Object(e.propertyValue);if(r[2]!=="markup")return!1}}}return!0},onLabelsChange:function(e,t,r){this.isLabelsRenderRequired(r)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=ot(e);Array.isArray(t)||(t=[t]);for(var r=this._V,n=0,i=t.length;n<i;n++){var o=t[n],a=o.attr("class");a&&(a=iae(a),r[Dr.camelCase(a)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if(typeof e=="string")return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=ot(e),r=document.createDocumentFragment();if(!Array.isArray(t))r.appendChild(t.node);else for(var n=0,i=t.length;n<i;n++){var o=t[n].node;r.appendChild(o)}return{fragment:r,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment)||!e.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var r,n=t.childNodes;return n.length>1||n[0].nodeName.toUpperCase()!=="G"?r=ot("g").append(t):r=ot(n[0]),r.addClass("label"),{node:r.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,r=this._labelCache={},n=this._labelSelectors={},i=this.model,o=i.attributes.labels||[],a=o.length;if(a===0)return t&&t.remove(),this;t?t.empty():(t=e.labels=ot("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(es(Un(this,"className"))),t.attr("model-id",i.id)));for(var s=0;s<a;s++){var l=o[s],u=this._normalizeLabelMarkup(this._getLabelMarkup(l.markup)),f,c;if(u)f=u.node,c=u.selectors;else{var h=i._builtins.defaultLabel,m=this._normalizeLabelMarkup(this._getLabelMarkup(h.markup)),g=i._getDefaultLabel(),_=this._normalizeLabelMarkup(this._getLabelMarkup(g.markup)),v=_||m;f=v.node,c=v.selectors}f.setAttribute("label-idx",s),t.append(f),r[s]=f;var p=this.selector;if(c[p])throw new Error("dia.LinkView: ambiguous label root selector.");c[p]=f,n[s]=c}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:e,paper:t,model:r,_V:n,options:i}=this,{labels:o}=n;if(!o||!r.hasLabels())return;const{node:a}=o;i.labelsLayer?t.getLayerView(i.labelsLayer).insertSortedNode(a,r.get("z")):a.parentNode!==e&&e.appendChild(a)},unmountLabels:function(){const{options:e,_V:t}=this;if(!t)return;const{labels:r}=t;r&&e.labelsLayer&&r.remove()},findLabelNode:function(e,t){const r=this._labelCache[e];if(!r)return null;const n=this._labelSelectors[e],[i=null]=this.findBySelector(t,r,n);return i},_mergeLabelAttrs:function(e,t,r,n){return t===null?null:t===void 0?r===null?null:r===void 0?e?void 0:n:e?r:ei({},n,r):e?ei({},r,t):ei({},n,r,t)},_mergeLabelSize:function(e,t){return e===null?null:e===void 0?t===null?null:t===void 0?void 0:t:ei({},t,e)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],r=this.can("labelMove"),n=e._builtins.defaultLabel,i=n.attrs,o=e._getDefaultLabel(),a=o.markup,s=o.attrs,l=o.size,u=0,f=t.length;u<f;u++){var c=this._labelCache[u];c.setAttribute("cursor",r?"move":"default");var h=this._labelSelectors[u],m=t[u],g=m.markup,_=m.attrs,v=m.size,p=this._mergeLabelAttrs(g||a,_,s,i),E=this._mergeLabelSize(v,l);this.updateDOMSubtreeAttributes(c,p,{rootBBox:new xt(E),selectors:h})}return this},renderTools:function(){if(!this._V.linkTools)return this;var e=Dr(this._V.linkTools.node).empty(),t=Hi(this.model.get("toolMarkup")||this.model.toolMarkup),r=ot(t());if(e.append(r.node),this._toolCache=r,this.options.doubleLinkTools){var n;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=Hi(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),n=ot(t())):n=r.clone(),e.append(n.node),this._tool2Cache=n}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=Dr(this._V.markerVertices.node).empty(),t=Hi(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(r,n){e.append(ot(t(Kt({idx:n},r))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=Dr(this._V.markerArrowheads.node);e.empty();var t=Hi(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=ot(t({end:"source"})),this._V.targetArrowhead=ot(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){const r=this.model,n=r.vertices(),i=[this.sourceAnchor,...n,this.targetAnchor],o=i.length,a=new sn(i);a.simplify({threshold:.001});const s=a.points.map(u=>u.toJSON()),l=s.length;return o===l?0:(r.vertices(s.slice(1,l-1),e),o-l)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new ze(this.sourceAnchor);case"target":return new ze(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new ze(this.sourcePoint);case"target":return new ze(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var r=this.targetView;if(!r)break;return this.targetMagnet||r.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){const{route:r,path:n}=this;if(!r||!n)return;const i=new sn(r);i.translate(e,t),this.route=i.points,this._translateConnectionPoints(e,t),n.translate(e,t),this.updateDOM()},updateDOM(){const{el:e,model:t,selectors:r}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:r}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:e}=this,t=e.vertices(),r=this.findAnchors(t),n=this.sourceAnchor=r.source,i=this.targetAnchor=r.target,o=this.findRoute(t);this.route=o;var a=this.findConnectionPoints(o,n,i);this.sourcePoint=a.source,this.targetPoint=a.target},updatePath:function(){const{route:e,sourcePoint:t,targetPoint:r}=this,n=this.findMarkerPoints(e,t,r),i=this.findPath(e,n.source||t,n.target||r);this.path=i},findMarkerPoints:function(e,t,r){var n=e[0],i=e[e.length-1],o=this._markerCache,a,s;return this._V.markerSource&&(o.sourceBBox=o.sourceBBox||this._V.markerSource.getBBox(),a=ze(t).move(n||r,o.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(o.targetBBox=o.targetBBox||this._V.markerTarget.getBBox(),s=ze(r).move(i||t,o.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),o.sourcePoint=a||t.clone(),o.targetPoint=s||r.clone(),{source:a,target:s}},findAnchorsOrdered:function(e,t,r,n){var i,o,a,s,l=this.model,u=l.get(e),f=l.get(r),c=this.getEndView(e),h=this.getEndView(r),m=this.getEndMagnet(e),g=this.getEndMagnet(r);c?(t?a=new ze(t):h?a=g:a=new ze(f),i=this.getAnchor(u.anchor,c,m,a,e)):i=new ze(u),h?(s=new ze(n||i),o=this.getAnchor(f.anchor,h,g,s,r)):o=new ze(f);var _={};return _[e]=i,_[r]=o,_},findAnchors:function(e){var t=this.model,r=e[0],n=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",n,"source",r):this.findAnchorsOrdered("source",r,"target",n)},findConnectionPoints:function(e,t,r){var n=e[0],i=e[e.length-1],o=this.model,a=o.get("source"),s=o.get("target"),l=this.sourceView,u=this.targetView,f=this.paper.options,c,h,m;if(l&&!l.isNodeConnection(this.sourceMagnet)){c=this.sourceMagnet||l.el;var g=a.connectionPoint||f.defaultConnectionPoint,_=n||r,v=new It(_,t);m=this.getConnectionPoint(g,l,c,v,"source")}else m=t;var p;if(u&&!u.isNodeConnection(this.targetMagnet)){h=this.targetMagnet||u.el;var E=s.connectionPoint||f.defaultConnectionPoint,y=i||t,S=new It(y,r);p=this.getConnectionPoint(E,u,h,S,"target")}else p=r;return{source:m,target:p}},getAnchor:function(e,t,r,n,i){var o=t.isNodeConnection(r),a=this.paper.options;if(e||(o?e=a.defaultLinkAnchor:a.perpendicularLinks||this.options.perpendicular?e={name:"perpendicular"}:e=a.defaultAnchor),!e)throw new Error("Anchor required.");var s;if(typeof e=="function")s=e;else{var l=e.name,u=o?"linkAnchorNamespace":"anchorNamespace";if(s=a[u][l],typeof s!="function")throw new Error("Unknown anchor: "+l)}var f=s.call(this,t,r,n,e.args||{},i,this);return f?f.round(this.decimalsRounding):new ze},getConnectionPoint:function(e,t,r,n,i){var o,a=n.end,s=this.paper.options;if(typeof s.linkConnectionPoint=="function"){var l=r===t.el?void 0:r;if(o=s.linkConnectionPoint(this,t,l,n.start,i),o)return o}if(!e)return a;var u;if(typeof e=="function")u=e;else{var f=e.name;if(u=s.connectionPointNamespace[f],typeof u!="function")throw new Error("Unknown connection point: "+f)}return o=u.call(this,n,t,r,e.args||{},i,this),o?o.round(this.decimalsRounding):a},_translateConnectionPoints:function(e,t){var r=this._markerCache;r.sourcePoint.offset(e,t),r.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_getDefaultLabelPositionProperty:function(){var e=this.model,t=e._builtins.defaultLabel,r=t.position,n=e._getDefaultLabel(),i=this._normalizeLabelPosition(n.position);return ei({},r,i)},_normalizeLabelPosition:function(e){return typeof e=="number"?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return e===null?null:e===void 0?t===null?null:t:ei({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var e=this.path;if(!e)return this;var t=this.model,r=t.get("labels")||[];if(!r.length)return this;for(var n=this._getDefaultLabelPositionProperty(),i=0,o=r.length;i<o;i++){var a=this._labelCache[i];if(a){var s=r[i],l=this._normalizeLabelPosition(s.position),u=this._mergeLabelPositionProperty(l,n),f=this._getLabelTransformationMatrix(u);a.setAttribute("transform",ot.matrixToTransformString(f)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(e){const{metrics:t,_labelSelectors:r}=this,n=r[e];if(n)for(let i in n){const{id:o}=n[i];o&&o in t&&delete t[o].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,r=this.getConnectionLength();if(!Number.isNaN(r)){r<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var n=this.getPointAtLength(t);if(this._toolCache.attr("transform","translate("+n.x+", "+n.y+") "+e),this.options.doubleLinkTools&&r>=this.options.longLinkLength){var i=this.options.doubleLinkToolsOffset||t;n=this.getPointAtLength(r-i),this._tool2Cache.attr("transform","translate("+n.x+", "+n.y+") "+e),this._tool2Cache.attr("display","inline")}else this.options.doubleLinkTools&&this._tool2Cache.attr("display","none")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(Dr.css(this._V.markerArrowheads.node,"display")==="none")return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){const{model:t,paper:r}=this,n=`${e}View`,i=t.get(e),o=i&&i.id;if(!o)return this[n]=null,this.updateEndMagnet(e),!0;const a=r.getModelById(o);if(!a)throw new Error("LinkView: invalid "+e+" cell.");const s=a.findView(r);return s?(this[n]=s,this.updateEndMagnet(e),!0):!1},updateEndMagnet:function(e){const t=`${e}Magnet`,r=this.getEndView(e);if(r){let n=r.getMagnetFromLinkEnd(this.model.get(e));n===r.el&&(n=null),this[t]=n}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var r=Sr(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,r[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,r[r.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){var t=this._getLabelPositionProperty(e);return t.angle||0},_getLabelPositionArgs:function(e){var t=this._getLabelPositionProperty(e);return t.args},_getDefaultLabelPositionArgs:function(){var e=this.model._getDefaultLabel(),t=e.position||{};return t.args},_mergeLabelPositionArgs:function(e,t){return e===null?null:e===void 0?t===null?null:t:ei({},t,e)},addLabel:function(e,t,r,n){var i,o,a=0,s;typeof e!="number"?(i=e.x,o=e.y,typeof t=="number"?(a=t,s=r):s=t):(i=e,o=t,typeof r=="number"?(a=r,s=n):s=r);var l=this._getDefaultLabelPositionArgs(),u=s,f=this._mergeLabelPositionArgs(u,l),c={position:this.getLabelPosition(i,o,a,f)},h=-1;return this.model.insertLabel(h,c,s),h},addVertex:function(e,t,r){var n=typeof e!="number",i=n?e.x:e,o=n?e.y:t,a=n?t:r,s={x:i,y:o},l=this.getVertexIndex(i,o);return this.model.insertVertex(l,s,a),l},sendToken:function(e,t,r){function n(c,h){return function(){c.remove(),typeof h=="function"&&h()}}var i,o,a;Vr(t)?(i=t.duration,o=t.direction==="reverse",a=t.connection):(i=t,o=!1,a=null),i=i||1e3;var s={dur:i+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};o&&(s.keyPoints="1;0",s.keyTimes="0;1");var l=ot(e),u;if(typeof a=="string")u=this.findBySelector(a,this.el,this.selectors)[0];else{var f=this._V;u=f.connection?f.connection.node:this.el.querySelector("path")}if(!(u instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(s,u),setTimeout(n(l,r),i)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||wse,r=this.model.router(),n=this.paper.options.defaultRouter;if(!r)if(n)r=n;else return e.map(ze);var i=cn(r)?r:t[r.name];if(!cn(i))throw new Error('dia.LinkView: unknown router: "'+r.name+'".');var o=r.args||{},a=i.call(this,e,o,this);return a||e.map(ze)},findPath:function(e,t,r){var n=this.paper.options.connectorNamespace||Wse,i=this.model.connector(),o=this.paper.options.defaultConnector;i||(i=o||{});var a=cn(i)?i:n[i.name];if(!cn(a))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var s=Ns(i.args||{});s.raw=!0;var l=a.call(this,t,r,e,s,this);return typeof l=="string"&&(l=new Bt(ot.normalizePathData(l))),l},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var r=e.serialize();return t.data=r,r},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var r=e.getSegmentSubdivisions();return t.segmentSubdivisions=r,r},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var r=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=r,r},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(Ti(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,r,n){var i={},o=0,a;typeof r=="number"?(o=r,a=n):a=r,a&&(i.args=a);var s=!(a&&a.absoluteDistance),l=a&&a.absoluteDistance&&a.reverseDistance,u=a&&a.absoluteOffset,f=this.path,c={segmentSubdivisions:this.getConnectionSubdivisions()},h=new ze(e,t),m=f.closestPointT(h,c),g=f.lengthAtT(m,c);s&&(g=g/this.getConnectionLength()||0),l&&(g=-1*(this.getConnectionLength()-g)||1),i.distance=g;var _;u||(_=f.tangentAtT(m));var v;if(_)v=_.pointOffset(h);else{var p=f.pointAtT(m),E=h.difference(p);v={x:E.x,y:E.y}}return i.offset=v,i.angle=o,i},_getLabelTransformationMatrix:function(e){var t,r=0,n={};if(typeof e=="number")t=e;else if(typeof e.distance=="number")n=e.args||{},t=e.distance,r=e.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var i=t>0&&t<=1,o=0,a={x:0,y:0};if(e.offset){var s=e.offset;typeof s=="number"&&(o=s),s.x&&(a.x=s.x),s.y&&(a.y=s.y)}var l=a.x!==0||a.y!==0||o===0,u=n.keepGradient,f=n.ensureLegibility,c=this.path,h={segmentSubdivisions:this.getConnectionSubdivisions()},m=i?t*this.getConnectionLength():t,g=c.tangentAtLength(m,h),_,v=r;if(g){if(l)_=g.start.clone(),_.offset(a);else{var p=g.clone();p.rotate(g.start,-90),p.setLength(o),_=p.end}u&&(v=g.angle()+r,f&&(v=ls((v+90)%180-90)))}else _=c.start.clone(),l&&_.offset(a);return ot.createSVGMatrix().translate(_.x,_.y).rotate(v)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new ze(t.e,t.f)},getVertexIndex:function(e,t){for(var r=this.model,n=r.vertices(),i=this.getClosestPointLength(new ze(e,t)),o=0,a=n.length;o<a;o++){var s=n[o],l=this.getClosestPointLength(s);if(i<l)break}return o},notifyPointerdown(e,t,r){cr.prototype.pointerdown.call(this,e,t,r),this.notify("link:pointerdown",e,t,r)},notifyPointermove(e,t,r){cr.prototype.pointermove.call(this,e,t,r),this.notify("link:pointermove",e,t,r)},notifyPointerup(e,t,r){this.notify("link:pointerup",e,t,r),cr.prototype.pointerup.call(this,e,t,r)},pointerdblclick:function(e,t,r){cr.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){cr.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,r)},contextmenu:function(e,t,r){cr.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.notifyPointerdown(e,t,r);var n=e.target.getAttribute("class");switch(n){case"marker-vertex":this.dragVertexStart(e,t,r);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(e,t,r);return;case"marker-arrowhead":this.dragArrowheadStart(e,t,r);return;case"connection":case"connection-wrap":this.dragConnectionStart(e,t,r);return;case"marker-source":case"marker-target":return}this.dragStart(e,t,r)},pointermove:function(e,t,r){var n=this._dragData;n&&this.eventData(e,n);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertex(e,t,r);break;case"label-move":this.dragLabel(e,t,r);break;case"arrowhead-move":this.dragArrowhead(e,t,r);break;case"move":this.drag(e,t,r);break}n&&Kt(n,this.eventData(e)),this.notifyPointermove(e,t,r)},pointerup:function(e,t,r){var n=this._dragData;n&&(this.eventData(e,n),this._dragData=null);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertexEnd(e,t,r);break;case"label-move":this.dragLabelEnd(e,t,r);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,r);break;case"move":this.dragEnd(e,t,r)}this.notifyPointerup(e,t,r),this.checkMouseleave(e)},mouseover:function(e){cr.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){cr.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){cr.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){cr.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,r,n){cr.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,r,n)},onevent:function(e,t,r,n){var i=ot(e.target).findParentByClass("link-tool",this.el);if(i){if(e.stopPropagation(),this.can("useLinkTools"))if(t==="remove"){this.model.remove({ui:!0});return}else this.notify(t,e,r,n);this.notifyPointerdown(e,r,n),this.paper.delegateDragEvents(this,e.data)}else cr.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragLabelStart(e,t,r);var n=this.eventData(e).stopPropagation;n&&e.stopPropagation()},dragConnectionStart:function(e,t,r){if(this.can("vertexAdd")){var n=this.addVertex({x:t,y:r},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:n})}},dragLabelStart:function(e,t,r){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var n=e.currentTarget,i=parseInt(n.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),a=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),s=this._mergeLabelPositionProperty(a,o),l=this.getLabelCoordinates(s),u=l.x-t,f=l.y-r,c=this._getLabelPositionAngle(i),h=this._getLabelPositionArgs(i),m=this._getDefaultLabelPositionArgs(),g=this._mergeLabelPositionArgs(h,m);this.eventData(e,{action:"label-move",labelIdx:i,dx:u,dy:f,positionAngle:c,positionArgs:g,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,r){if(this.can("vertexMove")){var n=e.target,i=parseInt(n.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(e,t,r){if(this.can("vertexRemove")){var n=e.target,i=parseInt(n.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(e,t,r){if(this.can("arrowheadMove")){var n=e.target,i=n.getAttribute("end"),o=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(e,o)}},dragStart:function(e,t,r){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:r})},dragLabel:function(e,t,r){var n=this.eventData(e),i={position:this.getLabelPosition(t+n.dx,r+n.dy,n.positionAngle,n.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;const o={ui:!0};this.paper.isAsync()&&e.type==="touchmove"&&(o.async=!1),this.model.label(n.labelIdx,i,o)},dragVertex:function(e,t,r){var n=this.eventData(e);this.model.vertex(n.vertexIdx,{x:t,y:r},{ui:!0})},dragArrowhead:function(e,t,r){this.paper.options.snapLinks?!this._snapArrowhead(e,t,r)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,r):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,r):this._connectArrowhead(this.getEventTarget(e),t,r,this.eventData(e))},drag:function(e,t,r){var n=this.eventData(e);this.model.translate(t-n.dx,r-n.dy,{ui:!0}),this.eventData(e,{dx:t,dy:r})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,r){var n=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(n):this._connectArrowheadEnd(n,t,r),i.linkAllowed(this)?(this._finishEmbedding(n),this._notifyConnectEvent(n,e)):this._disallow(n),this._afterArrowheadMove(n)},dragEnd:function(){},_disallow:function(e){switch(e.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(e.arrowhead,e.initialEnd,{ui:!0});break}},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var r=e.arrowhead,n=e.initialEnd,i=this.model.prop(r),o=i&&!Lh.endsEqual(n,i);if(o){var a=this.paper;n.id&&this.notify("link:disconnect",t,a.findViewByModel(n.id),e.initialMagnet,r),i.id&&this.notify("link:connect",t,a.findViewByModel(i.id),e.magnetUnderPointer,r)}},_snapToPoints:function(e,t,r){let n=null,i=1/0,o=null,a=1/0,s=e.x,l=e.y;for(let u=0;u<t.length;u++){const f=Math.abs(t[u].x-e.x);f<i&&(i=f,n=t[u]);const c=Math.abs(t[u].y-e.y);c<a&&(a=c,o=t[u])}return i<r&&(s=n.x),a<r&&(l=o.y),{x:s,y:l}},_snapArrowheadSelf:function(e,t,r){const{paper:n,model:i}=this,{snapLinksSelf:o}=n.options,a=this.eventData(e),s=o.radius||20,l=this.getEndAnchor(a.arrowhead==="source"?"target":"source"),u=i.vertices(),f=[l,...u],c=this._snapToPoints({x:t,y:r},f,s),h=n.localToClientPoint(c);this._connectArrowhead(document.elementFromPoint(h.x,h.y),c.x,c.y,this.eventData(e))},_snapArrowhead:function(e,t,r){const{paper:n}=this,{snapLinks:i,connectionStrategy:o}=n.options,a=this.eventData(e);let s=!1;var l=i.radius||50,u=n.findViewsInArea({x:t-l,y:r-l,width:2*l,height:2*l}),f=a.closestView||null,c=a.closestMagnet||null,h=a.magnetProxy||null;a.closestView=a.closestMagnet=a.magnetProxy=null;var m=Number.MAX_VALUE,g=new ze(t,r);u.forEach(function($){const T=[];$.el.getAttribute("magnet")!=="false"&&T.push({bbox:$.model.getBBox(),magnet:$.el}),$.$("[magnet]").toArray().forEach(d=>{T.push({bbox:$.getNodeBBox(d),magnet:d})}),T.forEach(d=>{const{magnet:A,bbox:P}=d,x=P.center().squaredDistance(g);x<m&&(c===A||n.options.validateConnection.apply(n,a.validateConnectionArgs($,$.el===A?null:A)))&&(m=x,a.closestView=$,a.closestMagnet=A)})},this);var _,v=null,p=a.closestView,E=a.closestMagnet;E&&(v=a.magnetProxy=p.findProxyNode(E,"highlighter"));var y=a.arrowhead,S=c!==E;if(f&&S&&f.unhighlight(h,{connecting:!0,snapping:!0}),p){const{prevEnd:$,prevX:T,prevY:d}=a;if(a.prevX=t,a.prevY=r,s=!0,!S&&(typeof o!="function"||T===t&&d===r)||(_=p.getLinkEnd(E,t,r,this.model,y),!S&&Md($,_)))return s;a.prevEnd=_,S&&p.highlight(v,{connecting:!0,snapping:!0})}else _={x:t,y:r};return this.model.set(y,_||{x:t,y:r},{ui:!0}),f&&this.notify("link:snap:disconnect",e,f,c,y),p&&this.notify("link:snap:connect",e,p,E,y),s},_snapArrowheadEnd:function(e){var t=e.closestView,r=e.closestMagnet;t&&r&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(r)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,r,n){const{paper:i,model:o}=this;if(n.eventTarget!==e){n.magnetProxy&&n.viewUnderPointer.unhighlight(n.magnetProxy,{connecting:!0});const a=n.viewUnderPointer=i.findView(e);if(a){const s=n.magnetUnderPointer=a.findMagnet(e),l=n.magnetProxy=a.findProxyNode(s,"highlighter");s&&this.paper.options.validateConnection.apply(i,n.validateConnectionArgs(a,s))?l&&a.highlight(l,{connecting:!0}):(n.magnetUnderPointer=null,n.magnetProxy=null)}else n.magnetUnderPointer=null,n.magnetProxy=null}n.eventTarget=e,o.set(n.arrowhead,{x:t,y:r},{ui:!0})},_connectArrowheadEnd:function(e={},t,r){const{model:n}=this,{viewUnderPointer:i,magnetUnderPointer:o,magnetProxy:a,arrowhead:s}=e;if(!o||!a||!i)return;i.unhighlight(a,{connecting:!0});const l=i.getLinkEnd(o,t,r,n,s);n.set(s,l,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){e.z!==null&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var r,n=0,i=0;e==="source"?(n=2,r="target"):(i=2,r="source");var o=this.model.get(r);if(o.id){var a=t[n]=this.paper.findViewByModel(o.id),s=a.getMagnetFromLinkEnd(o);s===a.el&&(s=void 0),t[n+1]=s}function l(u,f){return t[i]=u,t[i+1]=u.el===f?void 0:f,t}return l},_markAvailableMagnets:function(e){function t(c,h){var m=c.paper,g=m.options.validateConnection;return g.apply(m,this.validateConnectionArgs(c,h))}var r=this.paper,n=r.model.getCells();e.marked={};for(var i=0,o=n.length;i<o;i++){var a=n[i].findView(r);if(a){var s=Array.prototype.slice.call(a.el.querySelectorAll("[magnet]"));a.el.getAttribute("magnet")!=="false"&&s.push(a.el);var l=s.filter(t.bind(e,a));if(l.length>0){for(var u=0,f=l.length;u<f;u++)a.highlight(l[u],{magnetAvailability:!0});a.highlight(null,{elementAvailability:!0}),e.marked[a.model.id]=l}}}},_unmarkAvailableMagnets:function(e){for(var t=Object.keys(e.marked),r,n,i=0,o=t.length;i<o;i++){r=t[i],n=e.marked[r];var a=this.paper.findViewByModel(r);if(a){for(var s=0,l=n.length;s<l;s++)a.unhighlight(n[s],{magnetAvailability:!0});a.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var r={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:Ns(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(r),t.ignoreBackwardsCompatibility!==!0&&(this._dragData=r),r},onMount:function(){cr.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){cr.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){cr.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:Xt});Object.defineProperty(im.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new xt(t.x,t.y)}var r=this.sourceMagnet;return e.isNodeConnection(r)?new xt(this.sourceAnchor):e.getNodeBBox(r||e.el)}});Object.defineProperty(im.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new xt(t.x,t.y)}var r=this.targetMagnet;return e.isNodeConnection(r)?new xt(this.targetAnchor):e.getNodeBBox(r||e.el)}});const Kse=ts.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){const{options:r}=this,{useFirstSubpath:n}=r;let i;try{const o=ot(t);if(i=o.convertToPathData().trim(),o.tagName()==="PATH"&&n){const a=i.search(/.M/i)+1;a>0&&(i=i.substr(0,a))}}catch{const a=e.getNodeBoundingRect(t);i=ot.rectToPath(Kt({},r,a.toJSON()))}return i},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){const{vel:r,options:n}=this,{padding:i,layer:o}=n;let a=this.getNodeMatrix(e,t);if(i){!o&&t===e.el&&r.remove();let s=e.getNodeBoundingRect(t);const l=s.x+s.width/2,u=s.y+s.height/2;s=ot.transformRect(s,a);const f=Math.max(s.width,1),c=Math.max(s.height,1),h=(f+i)/f,m=(c+i)/c,g=ot.createSVGMatrix({a:h,b:0,c:0,d:m,e:l-h*l,f:u-m*u});a=a.multiply(g)}r.attr({d:this.getPathData(e,t),transform:ot.matrixToTransformString(a)})},highlight(e,t){const{vel:r,options:n}=this;r.attr(n.attrs),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}}),hM=20;function Jse(e,t){const r=e.children();for(;r.length>0;){const n=r.shift();t(n)&&r.push(...n.children())}}const Yse=ts.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:hM,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:r,MASK_REPLACE_TAGS:n,MASK_REMOVE_TAGS:i}=this,o=t.tagName();if(!ot.isSVGGraphicsElement(t)||i.includes(o))return t.remove(),!1;if(n.includes(o)){const a=e.vel.findOne(`#${t.id}`);if(a){const{node:s}=a;let l=e.getNodeBoundingRect(s);e.model.isElement()&&(l=ot.transformRect(l,e.getNodeMatrix(s)));const u=ot("rect",l.toJSON()),{x:f,y:c}=l.center(),{angle:h,cx:m=f,cy:g=c}=a.rotate();h&&u.rotate(h,m,g),t.parent().append(u)}return t.remove(),!1}return r.forEach(a=>{a==="fill"&&t.attr("fill")==="none"||t.removeAttr(a)}),!0},transformMaskRoot(e,t){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:r}=this;r.forEach(n=>{t.removeAttr(n)})},getMaskShape(e,t){const{options:r,MASK_REPLACE_TAGS:n}=this,{deep:i}=r,o=t.tagName();let a;if(o==="G"){if(!i)return null;a=t.clone(),Jse(a,s=>this.transformMaskChild(e,s))}else{if(n.includes(o))return null;a=t.clone()}return this.transformMaskRoot(e,a),a},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){const{VISIBLE:r,INVISIBLE:n,options:i}=this,{padding:o,attrs:a}=i,s="stroke-width"in a?a["stroke-width"]:1,l=t.attr("fill")!=="none";let u=parseFloat(t.attr("stroke-width"));isNaN(u)&&(u=1);const f=u+o*2,c=f+s*2;let h=this.getMaskShape(e,t);if(!h){const m=e.getNodeBoundingRect(t.node);m.inflate(m.width?0:.5,m.height?0:.5),h=ot("rect",m.toJSON())}return h.attr(a),ot("mask",{id:this.getMaskId()}).append([h.clone().attr({fill:l?r:"none",stroke:r,"stroke-width":c}),h.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":f})])},removeMask(e){const t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){const{options:r,vel:n}=this,{padding:i,attrs:o,maskClip:a=hM,layer:s}=r,l="stroke"in o?o.stroke:"#000000";!s&&t===e.el&&n.remove();const u=e.getNodeBoundingRect(t).inflate(i+a),f=this.getNodeMatrix(e,t),c=this.getMask(e,ot(t));this.addMask(e.paper,c),n.attr(u.toJSON()),n.attr({transform:ot.matrixToTransformString(f),mask:`url(#${c.id})`,fill:l})},unhighlight(e){this.removeMask(e.paper)}}),Xse=ts.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:es("highlight-opacity"),highlight:function(e,t){ot(t).addClass(this.opacityClassName)},unhighlight:function(e,t){ot(t).removeClass(this.opacityClassName)}}),pM=es("highlighted"),Qse=ts.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:pM},highlight:function(e,t){ot(t).addClass(this.options.className)},unhighlight:function(e,t){ot(t).removeClass(this.options.className)}},{className:pM}),o1={ROW:"row",COLUMN:"column"},Zse=ts.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){const r=e.model,{attribute:n,size:i=20,gap:o=5,direction:a=o1.ROW}=this.options;if(!n)throw new Error("List: attribute is required");const s=typeof i=="number"?{width:i,height:i}:i,l=a===o1.ROW,u=l?s.width:s.height;let f=r.get(n);Array.isArray(f)||(f=[]);const c=this._prevItems||[],h=f.map((v,p)=>Md(c[p],f[p]));if(c.length!==f.length||h.some(v=>!v)){const v=this.vel.children(),p=f.map((E,y)=>{const S=y in v?v[y].node:null;if(h[y])return S;const $=this.createListItem(E,s,S);if(!$)return null;if(!($ instanceof SVGElement))throw new Error("List: item must be an SVGElement");$.dataset.index=y,$.dataset.attribute=n;const T=y*(u+o);return $.setAttribute("transform",l?`translate(${T}, 0)`:`translate(0, ${T})`),$});this.vel.empty().append(p),this._prevItems=f}const m=f.length,g=m===0?0:m*u+(m-1)*o,_=l?{width:g,height:s.height}:{width:s.width,height:g};this.position(r,_)},position(e,t){const{vel:r,options:n}=this,{margin:i=5,position:o="top-left"}=n,{width:a,height:s}=e.size(),{left:l,right:u,top:f,bottom:c}=Ef(i),h=new xt(l,f,a-(l+u),s-(f+c));let{x:m,y:g}=x9(h,o);switch(o){case kn.CENTER:case kn.TOP:case kn.BOTTOM:{m-=t.width/2;break}case kn.RIGHT:case kn.BOTTOM_RIGHT:case kn.TOP_RIGHT:{m-=t.width;break}}switch(o){case kn.CENTER:case kn.RIGHT:case kn.LEFT:{g-=t.height/2;break}case kn.BOTTOM:case kn.BOTTOM_RIGHT:case kn.BOTTOM_LEFT:{g-=t.height;break}}r.attr("transform",`translate(${m}, ${g})`)}},{Directions:o1,Positions:kn}),ele=Object.freeze(Object.defineProperty({__proto__:null,addClass:Qse,list:Zse,mask:Yse,opacity:Xse,stroke:Kse},Symbol.toStringTag,{value:"Module"}));function tle(e,t,r,n){var i="ratio"in n?n.ratio:.5;return e.getPointAtRatio(i)}function rle(e,t,r,n){var i="length"in n?n.length:20;return e.getPointAtLength(i)}function nle(e,t,r,n){var i=1e6,o=e.getConnection(),a=e.getConnectionSubdivisions(),s=new It(r.clone().offset(0,i),r.clone().offset(0,-1e6)),l=new It(r.clone().offset(i,0),r.clone().offset(-1e6,0)),u=s.intersect(o,{segmentSubdivisions:a}),f=l.intersect(o,{segmentSubdivisions:a}),c=[];return u&&Array.prototype.push.apply(c,u),f&&Array.prototype.push.apply(c,f),c.length>0?r.chooseClosest(c):"fallbackAt"in n?V9(e,n.fallbackAt):H9(e,t,r,n)}function ile(e,t,r,n){var i=e.getClosestPoint(r);return i||new ze}function Rg(e){return function(t,r,n,i){if(n instanceof Element){var o=this.paper.findView(n),a;if(o)if(o.isNodeConnection(n)){var s="fixedAt"in i?i.fixedAt:"50%";a=V9(o,s)}else a=o.getNodeBBox(n).center();else a=new ze;return e.call(this,t,r,a,i)}return e.apply(this,arguments)}}function V9(e,t){var r=parseFloat(t);return Ti(t)?e.getPointAtRatio(r/100):e.getPointAtLength(r)}const ole=Rg(nle),H9=Rg(ile),ale=Object.freeze(Object.defineProperty({__proto__:null,connectionClosest:H9,connectionLength:rle,connectionPerpendicular:ole,connectionRatio:tle,resolveRef:Rg},Symbol.toStringTag,{value:"Module"}));function AE(e,t,r){if(Bn(r)){const{x:i,y:o}=r;if(isFinite(o)){const a=new It(t,e),{start:s,end:l}=a.parallel(o);t=s,e=l}r=i}if(!isFinite(r))return e;var n=e.distance(t);return r===0&&n>0?e:e.move(t,-Math.min(r,n-1))}function rN(e){var t=e.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function sle(e,t,r=0){let n,i,o,a;const{start:s,end:l}=e;switch(t){case"left":n="x",i=l,o=s,a=-1;break;case"right":n="x",i=s,o=l,a=1;break;case"top":n="y",i=l,o=s,a=-1;break;case"bottom":n="y",i=s,o=l,a=1;break;default:return}s[n]<l[n]?i[n]=o[n]:o[n]=i[n],isFinite(r)&&(i[n]+=a*r,o[n]+=a*r)}function lle(e,t,r,n){let{offset:i,alignOffset:o,align:a}=n;return a&&sle(e,a,o),AE(e.end,e.start,i)}function G9(e,t,r,n){var i=t.getNodeBBox(r);n.stroke&&i.inflate(rN(r)/2);var o=e.intersect(i),a=o?e.start.chooseClosest(o):e.end;return AE(a,e.start,n.offset)}function ule(e,t,r,n){var i=t.model.angle();if(i===0)return G9(e,t,r,n);var o=t.getNodeUnrotatedBBox(r);n.stroke&&o.inflate(rN(r)/2);var a=o.center(),s=e.clone().rotate(a,i),l=s.setLength(1e6).intersect(o),u=l?s.start.chooseClosest(l).rotate(a,-i):e.end;return AE(u,e.start,n.offset)}function cle(e){if(!e)return null;var t=e;do{var r=t.tagName;if(typeof r!="string")return null;if(r=r.toUpperCase(),r==="G")t=t.firstElementChild;else if(r==="TITLE")t=t.nextElementSibling;else break}while(t);return t}var a1="segmentSubdivisons",s1="shapeBBox";function fle(e,t,r,n){var i,o,a=n.selector,s=e.end;if(typeof a=="string"?i=t.findBySelector(a)[0]:a===!1?i=r:Array.isArray(a)?i=Vm(r,a):i=cle(r),!ot.isSVGGraphicsElement(i)){if(i===r||!ot.isSVGGraphicsElement(r))return s;i=r}var l=t.getNodeShape(i),u=t.getNodeMatrix(i),f=t.getRootTranslateMatrix(),c=t.getRootRotateMatrix(),h=f.multiply(c).multiply(u),m=h.inverse(),g=ot.transformLine(e,m),_=g.start.clone(),v=t.getNodeData(i);if(n.insideout===!1){v[s1]||(v[s1]=l.bbox());var p=v[s1];if(p.containsPoint(_))return s}var E;if(l instanceof Bt){var y=n.precision||2;v[a1]||(v[a1]=l.getSegmentSubdivisions({precision:y})),E={precision:y,segmentSubdivisions:v[a1]}}n.extrapolate===!0&&g.setLength(1e6),o=g.intersect(l,E),o?ot.isArray(o)&&(o=_.chooseClosest(o)):n.sticky===!0&&(l instanceof xt?o=l.pointNearestToPoint(_):l instanceof Xi?o=l.intersectionWithLineFromCenterToPoint(_):o=l.closestPoint(_,E));var S=o?ot.transformPoint(o,h):s,$=n.offset||0;return n.stroke&&($+=rN(i)/2),AE(S,e.start,$)}const dle=lle,hle=G9,ple=ule,mle=fle,gle=Object.freeze(Object.defineProperty({__proto__:null,anchor:dle,bbox:hle,boundary:mle,rectangle:ple},Symbol.toStringTag,{value:"Module"}));function Bl(e){return function(t,r,n,i){var o=!!i.rotate,a=o?t.getNodeUnrotatedBBox(r):t.getNodeBBox(r),s=a[e](),l=i.dx;if(l){var u=Ti(l);l=parseFloat(l),isFinite(l)&&(u&&(l/=100,l*=a.width),s.x+=l)}var f=i.dy;if(f){var c=Ti(f);f=parseFloat(f),isFinite(f)&&(c&&(f/=100,f*=a.height),s.y+=f)}return o?s.rotate(t.model.getBBox().center(),-t.model.angle()):s}}function vle(e,t,r,n){var i=e.model.angle(),o=e.getNodeBBox(t),a=o.center(),s=o.origin(),l=o.corner(),u=n.padding;if(isFinite(u)||(u=0),s.y+u<=r.y&&r.y<=l.y-u){var f=r.y-a.y;a.x+=i===0||i===180?0:f*1/Math.tan($o(i)),a.y+=f}else if(s.x+u<=r.x&&r.x<=l.x-u){var c=r.x-a.x;a.y+=i===90||i===270?0:c*Math.tan($o(i)),a.x+=c}return a}function yle(e,t,r,n){var i=!!n.rotate,o,a,s;i?(o=e.getNodeUnrotatedBBox(t),s=e.model.getBBox().center(),a=e.model.angle()):o=e.getNodeBBox(t);var l=n.padding;isFinite(l)&&o.inflate(l),i&&r.rotate(s,a);var u=o.sideNearestToPoint(r),f;switch(u){case"left":f=o.leftMiddle();break;case"right":f=o.rightMiddle();break;case"top":f=o.topMiddle();break;case"bottom":f=o.bottomMiddle();break}return i?f.rotate(s,-a):f}function wle(e,t,r,n,i){return e.model.getPointFromConnectedLink(this.model,i).offset(n.dx,n.dy)}const ble=Bl("center"),_le=Bl("topMiddle"),Ele=Bl("bottomMiddle"),Sle=Bl("leftMiddle"),$le=Bl("rightMiddle"),Tle=Bl("origin"),Ale=Bl("topRight"),Ple=Bl("bottomLeft"),xle=Bl("corner"),Ole=Rg(vle),Rle=Rg(yle),Ile=wle,Nle=Object.freeze(Object.defineProperty({__proto__:null,bottom:Ele,bottomLeft:Ple,bottomRight:xle,center:ble,left:Sle,midSide:Rle,modelCenter:Ile,perpendicular:Ole,right:$le,top:_le,topLeft:Tle,topRight:Ale},Symbol.toStringTag,{value:"Module"})),ld={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},Cle=50,mM=20,gM=1e3,kle=1/0,zv=9007199254740991,l1=cr.Highlighting,vM={[l1.DEFAULT]:{name:"stroke",options:{padding:3}},[l1.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[l1.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},jle=[{name:va.BACK},{name:va.CELLS},{name:va.LABELS},{name:va.FRONT},{name:va.TOOLS}],Dle=Uu.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:$w,linkView:im,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:vM,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new Lh,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,r){return t.getAttribute("magnet")!=="passive"},validateConnection:function(e,t,r,n,i,o){return(i==="target"?r:e)instanceof $w},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:ld.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,r,n,i){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||n.mounting||n.isolate||i.requestConnectedLinksUpdate(e,r,n)},onViewPostponed:function(e,t,r){return r.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:ele,anchorNamespace:Nle,linkAnchorNamespace:ale,connectionPointNamespace:gle,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:e,el:t}=this;e.cellViewNamespace||(e.cellViewNamespace=typeof joint<"u"&&Pu(joint,"shapes")?joint.shapes:null);const r=this.model=e.model||new QI;this._layers={},this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=Dr(t.ownerDocument),this.resetViews(r.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,r){var n=r.position;this.isAsync()||!go(n)?this.renderView(e,r):(r.maxPosition===n&&this.freeze({key:"addCells"}),this.renderView(e,r),n===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,r){const n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_REMOVE,n.UPDATE_PRIORITY,r)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===ld.APPROX){const r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_INSERT,r.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,r=this.model;if(!this.isAsync()){var n=this.UPDATE_DELAYING_BATCHES;n.includes(t)&&!r.hasActiveBatch(n)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!r.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){const{options:e}=this,{defaultConnector:t,defaultRouter:r,defaultConnectionPoint:n,defaultAnchor:i,defaultLinkAnchor:o,origin:a,highlighting:s,cellViewNamespace:l,interactive:u}=e;!l&&typeof joint<"u"&&Pu(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),cn(t)||(e.defaultConnector=ma(t)),cn(r)||(e.defaultRouter=ma(r)),cn(n)||(e.defaultConnectionPoint=ma(n)),cn(i)||(e.defaultAnchor=ma(i)),cn(o)||(e.defaultLinkAnchor=ma(o)),Bn(u)&&(e.interactive=Kt({},u)),Bn(s)&&(e.highlighting=YI({},s,vM)),e.origin=Kt({},a)},children:function(){var e=ot.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:es("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:es("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:es("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){const{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();const{childNodes:e,options:t}=this,{svg:r,defs:n,layers:i,background:o,grid:a}=e;return r.style.overflow=t.overflow?"visible":"hidden",this.svg=r,this.defs=n,this.layers=i,this.$background=Dr(o),this.$grid=Dr(a),this.renderLayers(),ot.ensureId(r),t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},renderLayers:function(e=jle){this.removeLayers(),e.forEach(({name:i,sorted:o})=>{const a=new Vae({name:i});this.layers.appendChild(a.el),this._layers[i]=a});const t=this.getLayerView(va.CELLS),r=this.getLayerView(va.TOOLS),n=this.getLayerView(va.LABELS);this.tools=r.el,this.cells=this.viewport=t.el,t.vel.addClass(es("viewport")),n.vel.addClass(es("viewport"))},removeLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].remove(),delete e[t]})},resetLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(e===void 0){var r=t.getAttribute("transform");return(this._viewportTransformString||null)===r?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=r),ot.createSVGMatrix(e)}e=ot.createSVGMatrix(e);var n=ot.matrixToTransformString(e);return t.setAttribute("transform",n),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return ot.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,r){if(e instanceof cr)for(var n=e.model,i=this.model.getConnectedLinks(n),o=0,a=i.length;o<a;o++){var s=i[o],l=this.findViewByModel(s);if(l){var u=["UPDATE"];s.getTargetCell()===n&&u.push("TARGET"),s.getSourceCell()===n&&u.push("SOURCE");var f=Math.max(t+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(u),f,r)}}},forcePostponedViewUpdate:function(e,t){if(!e||!(e instanceof cr))return!1;var r=e.model;if(r.isElement())return!1;if(!(t&e.getFlag(["SOURCE","TARGET"]))){var n={silent:!0},i=0,o=this.findViewByModel(r.getSourceCell());o&&!this.isViewMounted(o)&&(i=this.dumpView(o,n),e.updateEndMagnet("source"));var a=0,s=this.findViewByModel(r.getTargetCell());if(s&&!this.isViewMounted(s)&&(a=this.dumpView(s,n),e.updateEndMagnet("target")),i===0&&a===0)return!this.dumpView(e,n)}return!1},requestViewUpdate:function(e,t,r,n){n||(n={}),this.scheduleViewUpdate(e,t,r,n);var i=this.isAsync();if(!(this.isFrozen()||i&&n.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var o=this.updateViews(n);i&&this.notifyAfterRender(o,n)}},scheduleViewUpdate:function(e,t,r,n){const{_updates:i,options:o}=this;i.idle&&o.autoFreeze&&(i.idle=!1,this.unfreeze());const{FLAG_REMOVE:a,FLAG_INSERT:s,UPDATE_PRIORITY:l,cid:u}=e;let f=i.priorities[r];if(f||(f=i.priorities[r]={}),r>l)for(let m=r-1;m>=l;m--){const g=i.priorities[m];!g||!(u in g)||(f[u]|=g[u],delete g[u])}let c=f[u]||0;if((c&t)===t)return;c||i.count++,t&a&&c&s?f[u]^=s:t&s&&c&a&&(f[u]^=a),f[u]|=t;const h=o.onViewUpdate;typeof h=="function"&&h.call(this,e,t,r,n||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var t=this._updates,r=e.cid,n=t.priorities[e.UPDATE_PRIORITY],i=this.registerMountedView(e)|n[r];return delete n[r],i},dumpView:function(e,t={}){const r=this.dumpViewUpdate(e);if(!r)return 0;const n=!t.silent;n&&this.notifyBeforeRender(t);const i=this.updateView(e,r,t);if(n){const o={updated:1,priority:e.UPDATE_PRIORITY};this.notifyAfterRender(o,t)}return i},updateView:function(e,t,r){if(!e)return 0;const{FLAG_REMOVE:n,FLAG_INSERT:i,FLAG_INIT:o,model:a}=e;if(e instanceof cr){if(t&n)return this.removeView(a),0;if(t&i){const s=!!(t&o);s&&(t^=o),this.insertView(e,s),t^=i}}return t?e.confirmUpdate(t,r||{}):0},requireView:function(e,t){var r=this.findViewByModel(e);return r?(this.dumpView(r,t),r):null},registerUnmountedView:function(e){var t=e.cid,r=this._updates;if(t in r.unmounted)return 0;var n=r.unmounted[t]|=e.FLAG_INSERT;return r.unmountedCids.push(t),delete r.mounted[t],n},registerMountedView:function(e){var t=e.cid,r=this._updates;if(t in r.mounted)return 0;r.mounted[t]=!0,r.mountedCids.push(t);var n=r.unmounted[t]||0;return delete r.unmounted[t],n},isViewMounted:function(e){if(!e)return!1;var t=e.cid,r=this._updates;return t in r.mounted},dumpViews:function(e){var t=pa({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,r=0,n=0,i=zv;do n++,t=this.updateViewsBatch(e),r+=t.updated,i=Math.min(t.priority,i);while(!t.empty);const o={updated:r,batches:n,priority:i};return this.notifyAfterRender(o,e),o},hasScheduledUpdates:function(){const e=this._updates.priorities,t=Object.keys(e);let r=t.length;for(;r>0&&r--;)for(let n in e[t[r]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:zv});const{_updates:r,options:n}=this,i=r.id;if(i){ix(i),t.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);const o=this.updateViewsBatch(e),a=pa({},e,{mountBatchSize:gM-o.mounted,unmountBatchSize:gM-o.unmounted}),s=this.checkViewport(a),l=s.unmounted,u=s.mounted;let f=t.processed;const c=r.count;o.updated>0?(f+=o.updated+o.unmounted,o.processed=f,t.priority=Math.min(o.priority,t.priority),o.empty&&u===0?(o.unmounted+=l,o.mounted+=u,o.priority=t.priority,this.notifyAfterRender(o,e),t.processed=0,t.priority=zv,r.count=0):t.processed=f):r.idle||n.autoFreeze&&(this.freeze(),r.idle=!0,this.trigger("render:idle",e));const h=e.progress;if(c&&typeof h=="function"&&h.call(this,o.empty,f,c,o,this),r.id!==i)return}if(r.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");r.id=nx(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;typeof t!="function"&&(t=this.options.beforeRender,typeof t!="function")||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let r=t.afterRender;typeof r!="function"&&(r=this.options.afterRender),typeof r=="function"&&r.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||kle,r=this._updates,n=0,i=0,o=0,a=0,s=zv,l=!0,u=this.options,f=r.priorities,c="viewport"in e?e.viewport:u.viewport;typeof c!="function"&&(c=null);var h=u.onViewPostponed;typeof h!="function"&&(h=null);var m=Object.keys(f);e:for(var g=0,_=m.length;g<_;g++){var v=+m[g],p=f[v];for(var E in p){if(n>=t){l=!1;break e}var y=Bc[E];if(!y){delete p[E];continue}var S=p[E];if(!(S&y.FLAG_REMOVE)){var $=E in r.unmounted;if(y.DETACHABLE&&c&&!c.call(this,y,!$,this)){$||(this.registerUnmountedView(y),this.detachView(y)),r.unmounted[E]|=S,delete p[E],o++;continue}$&&(S|=y.FLAG_INSERT,a++),S|=this.registerMountedView(y)}var T=this.updateView(y,S,e);if(T>0&&(p[E]=T,!h||!h.call(this,y,T,this)||p[E])){i++,l=!1;continue}s>v&&(s=v),n++,delete p[E]}}return{priority:s,updated:n,postponed:i,unmounted:o,mounted:a,empty:l}},getUnmountedViews:function(){const e=this._updates,t=Object.keys(e.unmounted),r=t.length,n=new Array(r);for(var i=0;i<r;i++)n[i]=Bc[t[i]];return n},getMountedViews:function(){const e=this._updates,t=Object.keys(e.mounted),r=t.length,n=new Array(r);for(var i=0;i<r;i++)n[i]=Bc[t[i]];return n},checkUnmountedViews:function(e,t){t||(t={});var r=0;typeof e!="function"&&(e=null);for(var n=("mountBatchSize"in t)?t.mountBatchSize:1/0,i=this._updates,o=i.unmountedCids,a=i.unmounted,s=0,l=Math.min(o.length,n);s<l;s++){var u=o[s];if(u in a){var f=Bc[u];if(f){if(f.DETACHABLE&&e&&!e.call(this,f,!1,this)){o.push(u);continue}r++;var c=this.registerMountedView(f);c&&this.scheduleViewUpdate(f,c,f.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,s),r},checkMountedViews:function(e,t){t||(t={});var r=0;if(typeof e!="function")return r;for(var n=("unmountBatchSize"in t)?t.unmountBatchSize:1/0,i=this._updates,o=i.mountedCids,a=i.mounted,s=0,l=Math.min(o.length,n);s<l;s++){var u=o[s];if(u in a){var f=Bc[u];if(f){if(!f.DETACHABLE||e.call(this,f,!0,this)){o.push(u);continue}r++;var c=this.registerUnmountedView(f);c&&this.detachView(f)}}}return o.splice(0,s),r},checkViewVisibility:function(e,t={}){let r="viewport"in t?t.viewport:this.options.viewport;typeof r!="function"&&(r=null);const n=this._updates,{mounted:i,unmounted:o}=n,a=!e.DETACHABLE||!r||r.call(this,e,!1,this);let s=!1,l=!1;if(e.cid in i&&!a){this.registerUnmountedView(e)&&this.detachView(e);const c=n.mountedCids.indexOf(e.cid);n.mountedCids.splice(c,1),s=!0}if(!s&&e.cid in o&&a){const f=n.unmountedCids.indexOf(e.cid);n.unmountedCids.splice(f,1);var u=this.registerMountedView(e);u&&this.scheduleViewUpdate(e,u,e.UPDATE_PRIORITY,{mounting:!0}),l=!0}return{mounted:l?1:0,unmounted:s?1:0}},checkViewport:function(e){var t=pa({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),r="viewport"in t?t.viewport:this.options.viewport,n=this.checkMountedViews(r,t);if(n>0){var i=this._updates.unmountedCids;t.mountBatchSize=Math.min(i.length-n,t.mountBatchSize)}var o=this.checkUnmountedViews(r,t);return{mounted:o,unmounted:n}},freeze:function(e){e||(e={});var t=this._updates,r=e.key,n=this.options.frozen,i=t.freezeKey;if(r&&r!==i){if(n&&i)return;t.freezeKey=r,t.keyFrozen=n}this.options.frozen=!0;var o=t.id;t.id=null,this.isAsync()&&o&&ix(o)},unfreeze:function(e){e||(e={});var t=this._updates,r=e.key,n=t.freezeKey;r&&n&&r!==n||(t.freezeKey=null,!(r&&r===n&&t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===ld.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,r=e.height;return go(t)||(t=this.el.clientWidth),go(r)||(r=this.el.clientHeight),{width:t,height:r}},setDimensions:function(e,t){const{options:r}=this,{width:n,height:i}=r;let o=e===void 0?n:e,a=t===void 0?i:t;if(n===o&&i===a)return;r.width=o,r.height=a,this._setDimensions();const s=this.getComputedSize();this.trigger("resize",s.width,s.height)},_setDimensions:function(){const{options:e}=this;let t=e.width,r=e.height;go(t)&&(t=Math.round(t)),go(r)&&(r=Math.round(r)),this.$el.css({width:t===null?"":t,height:r===null?"":r})},setOrigin:function(e,t){return this.translate(e||0,t||0)},fitToContent:function(e,t,r,n){Vr(e)?n=e:n=Kt({gridWidth:e,gridHeight:t,padding:r},n);const{x:i,y:o,width:a,height:s}=this.getFitToContentArea(n),{sx:l,sy:u}=this.scale();return this.setOrigin(-i*l,-o*u),this.setDimensions(a*l,s*u),new xt(i,o,a,s)},getFitToContentArea:function(e={}){const t=e.gridWidth||1,r=e.gridHeight||1,n=Ef(e.padding||0),i=Math.max(e.minWidth||0,t),o=Math.max(e.minHeight||0,r),a=e.maxWidth||Number.MAX_VALUE,s=e.maxHeight||Number.MAX_VALUE,l=e.allowNewOrigin,u="contentArea"in e?new xt(e.contentArea):this.getContentArea(e),{sx:f,sy:c}=this.scale();u.x*=f,u.y*=c,u.width*=f,u.height*=c;let h=Math.ceil((u.width+u.x)/t),m=Math.ceil((u.height+u.y)/r);e.allowNegativeBottomRight||(h=Math.max(h,1),m=Math.max(m,1)),h*=t,m*=r;let g=0;(l==="negative"&&u.x<0||l==="positive"&&u.x>=0||l==="any")&&(g=Math.ceil(-u.x/t)*t,g+=n.left,h+=g);let _=0;return(l==="negative"&&u.y<0||l==="positive"&&u.y>=0||l==="any")&&(_=Math.ceil(-u.y/r)*r,_+=n.top,m+=_),h+=n.right,m+=n.bottom,h=Math.max(h,i),m=Math.max(m,o),h=Math.min(h,a),m=Math.min(m,s),new xt(-g/f,-_/c,h/f,m/c)},transformToFitContent:function(e){e||(e={});let t,r;if("contentArea"in e){const v=e.contentArea;t=this.localToPaperRect(v),r=new ze(v)}else t=this.getContentBBox(e),r=this.paperToLocalPoint(t);if(!t.width||!t.height)return;pa(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const n=Ef(e.padding),i=e.minScaleX||e.minScale,o=e.maxScaleX||e.maxScale,a=e.minScaleY||e.minScale,s=e.maxScaleY||e.maxScale;let l;if(e.fittingBBox)l=e.fittingBBox;else{const v=this.translate(),p=this.getComputedSize();l={x:v.tx,y:v.ty,width:p.width,height:p.height}}l=new xt(l).moveAndExpand({x:n.left,y:n.top,width:-n.left-n.right,height:-n.top-n.bottom});const u=this.scale();let f=l.width/t.width*u.sx,c=l.height/t.height*u.sy;if(e.preserveAspectRatio&&(f=c=Math.min(f,c)),e.scaleGrid){const v=e.scaleGrid;f=v*Math.floor(f/v),c=v*Math.floor(c/v)}f=Math.min(o,Math.max(i,f)),c=Math.min(s,Math.max(a,c));const h={x:f/u.sx,y:c/u.sy},m=this.options.origin;let g=l.x-r.x*f-m.x,_=l.y-r.y*c-m.y;switch(e.verticalAlign){case"middle":_=_+(l.height-t.height*h.y)/2;break;case"bottom":_=_+(l.height-t.height*h.y);break}switch(e.horizontalAlign){case"middle":g=g+(l.width-t.width*h.x)/2;break;case"right":g=g+(l.width-t.width*h.x);break}this.scale(f,c),this.translate(g,_)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new xt:ot(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){const{restrictTranslate:t}=this.options;let r;return cn(t)?r=t.apply(this,e):t===!0?r=this.getArea():t?r=new xt(t):r=null,r},createViewForModel:function(e){const{options:t}=this;var r,n,i=t.cellViewNamespace,o=e.get("type")+"View",a=Vm(i,o,".");e.isLink()?(r=t.linkView,n=im):(r=t.elementView,n=$w);var s=r.prototype instanceof Di.View?a||r:r.call(this,e)||a||n;return new s({model:e,interactive:t.interactive,labelsLayer:t.labelsLayer===!0?va.LABELS:t.labelsLayer})},removeView:function(e){const{id:t}=e,{_views:r,_updates:n}=this,i=r[t];if(i){var{cid:o}=i;const{mounted:a,unmounted:s}=n;i.remove(),delete r[t],delete a[o],delete s[o]}return i},renderView:function(e,t){const{id:r}=e,n=this._views;let i,o,a=!0;return r in n&&(i=n[r],i.model===e?(o=i.FLAG_INSERT,a=!1):this.removeView(e)),a&&(i=n[r]=this.createViewForModel(e),i.paper=this,o=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(Un(i,"initFlag"))),this.requestViewUpdate(i,o,i.UPDATE_PRIORITY,t),i},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();const r=this.options.autoFreeze?null:"reset";this.freeze({key:r});for(var n=0,i=e.length;n<i;n++)this.renderView(e[n],t);this.unfreeze({key:r}),this.sortViews()},removeViews:function(){Ls(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var e=Dr(this.cells).children("[model-id]"),t=this.model.get("cells");dae(e,function(r,n){var i=t.get(r.getAttribute("model-id")),o=t.get(n.getAttribute("model-id")),a=i.attributes.z||0,s=o.attributes.z||0;return a===s?0:a<s?-1:1})},insertView:function(e,t){const r=this.getLayerView(va.CELLS),{el:n,model:i}=e;switch(this.options.sorting){case ld.APPROX:r.insertSortedNode(n,i.get("z"));break;case ld.EXACT:default:r.insertNode(n);break}e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},scale:function(e,t,r,n){if(e===void 0)return ot.matrixToScale(this.matrix());t===void 0&&(t=e),r===void 0&&(r=0,n=0);var i=this.translate();if(r||n||i.tx||i.ty){var o=i.tx-r*(e-1),a=i.ty-n*(t-1);this.translate(o,a)}e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var s=this.matrix();return s.a=e,s.d=t,this.matrix(s),this.trigger("scale",e,t,r,n),this},rotate:function(e,t,r){if(e===void 0)return ot.matrixToRotate(this.matrix());if(t===void 0){var n=this.cells.getBBox();t=n.width/2,r=n.height/2}var i=this.matrix().translate(t,r).rotate(e).translate(-t,-r);return this.matrix(i),this},translate:function(e,t){if(e===void 0)return ot.matrixToTranslate(this.matrix());const{options:r}=this,{origin:n,drawGrid:i}=r;e||(e=0),t||(t=0);const o=this.matrix();if(o.e===e&&o.f===t)return this;o.e=e,o.f=t,this.matrix(o);const{tx:a,ty:s}=this.translate();return n.x=a,n.y=s,this.trigger("translate",a,s),i&&this.drawGrid(),this},findView:function(e){var t=Fi(e)?this.cells.querySelector(e):e instanceof Dr?e[0]:e,r=this.findAttribute("model-id",t);if(r)return this._views[r]},findViewByModel:function(e){var t=Fi(e)||go(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){e=new ze(e);var t=this.model.getElements().map(this.findViewByModel,this);return t.filter(function(r){return r&&r.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=pa(t||{},{strict:!1}),e=new xt(e);var r=this.model.getElements().map(this.findViewByModel,this),n=t.strict?"containsRect":"intersect";return r.filter(function(i){return i&&e[n](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){typeof e=="string"&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var r=new ze(e,t),n=ot.transformPoint(r,this.matrix());return n},localToPaperRect:function(e,t,r,n){var i=new xt(e,t,r,n),o=ot.transformRect(i,this.matrix());return o},paperToLocalPoint:function(e,t){var r=new ze(e,t),n=ot.transformPoint(r,this.matrix().inverse());return n},paperToLocalRect:function(e,t,r,n){var i=new xt(e,t,r,n),o=ot.transformRect(i,this.matrix().inverse());return o},localToClientPoint:function(e,t){var r=new ze(e,t),n=ot.transformPoint(r,this.clientMatrix());return n},localToClientRect:function(e,t,r,n){var i=new xt(e,t,r,n),o=ot.transformRect(i,this.clientMatrix());return o},clientToLocalPoint:function(e,t){var r=new ze(e,t),n=ot.transformPoint(r,this.clientMatrix().inverse());return n},clientToLocalRect:function(e,t,r,n){var i=new xt(e,t,r,n),o=ot.transformRect(i,this.clientMatrix().inverse());return o},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,r,n){return this.localToPaperRect(e,t,r,n).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var r=new ze(e,t),n=r.difference(this.pageOffset());return this.paperToLocalPoint(n)},pageToLocalRect:function(e,t,r,n){var i=this.pageOffset(),o=new xt(e,t,r,n);return o.x-=i.x,o.y-=i.y,this.paperToLocalRect(o)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new ze(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof im))throw new Error("Must provide a linkView.");var t=e.model,r=this.options,n=this.model,i=n.constructor.validations;return!(!r.multiLinks&&!i.multiLinks.call(this,n,t)||!r.linkPinning&&!i.linkPinning.call(this,n,t)||typeof r.allowLink=="function"&&!r.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return cn(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:r}=e;const{highlighting:n,highlighterNamespace:i}=this.options;if(t===void 0){if(!n||r&&(t=n[r],t===!1))return!1;t||(t=n.default)}if(!t)return!1;Fi(t)&&(t={name:t});const o=t.name,a=i[o];if(!a)throw new Error('Unknown highlighter ("'+o+'")');if(typeof a.highlight!="function")throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if(typeof a.unhighlight!="function")throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:a,options:t.options||{},name:o}},onCellHighlight:function(e,t,r){const n=this.resolveHighlighter(r);if(!n)return;const{highlighter:i,options:o}=n;i.highlight(e,t,o)},onCellUnhighlight:function(e,t,r){const n=this.resolveHighlighter(r);if(!n)return;const{highlighter:i,options:o}=n;i.unhighlight(e,t,o)},pointerdblclick:function(e){e.preventDefault(),e=vi(e);var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,r.x,r.y):this.trigger("blank:pointerdblclick",e,r.x,r.y)}},pointerclick:function(e){var t=this.eventData(e);if(t.mousemoved<=this.options.clickThreshold){e=vi(e);var r=this.findView(e.target);if(this.guard(e,r))return;var n=this.snapToGrid(e.clientX,e.clientY);r?r.pointerclick(e,n.x,n.y):this.trigger("blank:pointerclick",e,n.x,n.y)}},contextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}e=vi(e),this.contextMenuTrigger(e)},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,r.x,r.y):this.trigger("blank:contextmenu",e,r.x,r.y)}},pointerdown:function(e){e=vi(e);const{target:t,button:r}=e,n=this.findView(t),i=r===2;if(n){if(!i&&this.guard(e,n))return;const o=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!o&&e.preventDefault(),o&&n.preventDefaultInteraction(e);const a=this.customEventTrigger(e,n);if(a){if(a.isPropagationStopped())return;e.data=a.data}const s=t.closest("[magnet]");if(s&&n.el!==s&&n.el.contains(s)){const l=vi(Dr.Event(e.originalEvent,{data:e.data,currentTarget:s}));if(this.onmagnet(l),l.isDefaultPrevented()&&e.preventDefault(),l.isPropagationStopped()){if(i)return;this.delegateDragEvents(n,l.data);return}e.data=l.data}}if(i){this.contextMenuFired=!0;const o=Dr.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(o)}else{const o=this.snapToGrid(e.clientX,e.clientY);n?n.pointerdown(e,o.x,o.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,o.x,o.y)),this.delegateDragEvents(n,e.data)}},pointermove:function(e){var t=this.eventData(e);t.mousemoved||(t.mousemoved=0,this.undelegateEvents());var r=++t.mousemoved;if(!(r<=this.options.moveThreshold)){e=vi(e);var n=this.snapToGrid(e.clientX,e.clientY),i=t.sourceView;i?i.pointermove(e,n.x,n.y):this.trigger("blank:pointermove",e,n.x,n.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=vi(e),r=this.snapToGrid(t.clientX,t.clientY),n=this.eventData(e).sourceView;n?n.pointerup(t,r.x,r.y):this.trigger("blank:pointerup",t,r.x,r.y),t.isPropagationStopped()||this.pointerclick(Dr.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=vi(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=vi(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=vi(e);const{target:t,relatedTarget:r,currentTarget:n}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(r);i&&(o===i||(i.mouseenter(e),this.el.contains(r)))||o||n===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=vi(e);const{target:t,relatedTarget:r,currentTarget:n}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(r);i&&(o===i||(i.mouseleave(e),this.el.contains(r)))||o||n===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:Xoe(function(){const{event:e,deltas:t}=this._mw_evt_buffer,r=t.reduce((a,s)=>a+lae(s,Cle),0),n=Math.pow(.995,r),{x:i,y:o}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,i,o,n),this._mw_evt_buffer={event:null,deltas:[]}},mM,{maxWait:mM}),mousewheel:function(e){e=vi(e);const t=this.findView(e.target);if(this.guard(e,t))return;const r=e.originalEvent,n=this.snapToGrid(r.clientX,r.clientY),{deltaX:i,deltaY:o}=sae(r),a=this._events["paper:pinch"];if(e.ctrlKey&&a&&a.length>0)r.preventDefault(),this._mw_evt_buffer.event=r,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{const s=Math.max(-1,Math.min(1,r.wheelDelta));t?t.mousewheel(e,n.x,n.y,s):this.trigger("blank:mousewheel",e,n.x,n.y,s),this.trigger("paper:pan",e,i,o)}},onevent:function(e){var t=e.currentTarget,r=t.getAttribute("event");if(r){var n=this.findView(t);if(n){if(e=vi(e),this.guard(e,n))return;var i=this.snapToGrid(e.clientX,e.clientY);n.onevent(e,r,i.x,i.y)}}},magnetEvent:function(e,t){var r=e.currentTarget,n=r.getAttribute("magnet");if(n){var i=this.findView(r);if(i){if(e=vi(e),this.guard(e,i))return;var o=this.snapToGrid(e.clientX,e.clientY);t.call(this,i,e,r,o.x,o.y)}}},onmagnet:function(e){if(e.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const t=Dr.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,function(t,r,n,i,o){t.onmagnet(r,i,o)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,r,n,i,o){t.magnetpointerdblclick(r,n,i,o)})},magnetcontextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,function(t,r,n,i,o){t.magnetcontextmenu(r,n,i,o)})},onlabel:function(e){var t=e.currentTarget,r=this.findView(t);if(!r||(e=vi(e),this.guard(e,r)))return;const n=this.customEventTrigger(e,r,t);if(n){if(n.isPropagationStopped())return;e.data=n.data}var i=this.snapToGrid(e.clientX,e.clientY);r.onlabel(e,i.x,i.y)},getPointerArgs(e){const t=vi(e),{x:r,y:n}=this.snapToGrid(t.clientX,t.clientY);return[t,r,n]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if(e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&e.data.guarded!==void 0)return e.data.guarded;const{target:r}=e;return this.GUARDED_TAG_NAMES.includes(r.tagName)?!0:!(t&&t.model&&t.model instanceof Ws||this.svg===r||this.el===r||Dr.contains(this.svg,r))},setGridSize:function(e){const{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:ot("svg",{width:"100%",height:"100%"},ot("defs")),patterns:{},add:function(e,t){ot(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(ot("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return this.patterns[e]!==void 0}}),this._gridCache},setGrid:function(e){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var t=Array.isArray(e)?e:[e||{}];return t.forEach(function(r){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(r))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(Fi(e)&&Array.isArray(t[e]))return t[e].map(function(l){return Kt({},l)});var r=e||{args:[{}]},n=Array.isArray(r),i=r.name;if(!n&&!i&&!r.markup&&(i="dot"),i&&Array.isArray(t[i])){var o=t[i].map(function(l){return Kt({},l)}),a=Array.isArray(r.args)?r.args:[r.args||{}];pa(a[0],qm(e,"args"));for(var s=0;s<a.length;s++)o[s]&&Kt(o[s],a[s]);return o}return n?r:[r]},drawGrid:function(e){const t=this.options.drawGridSize||this.options.gridSize;if(t<=1)return this.clearGrid();var r=Array.isArray(e)?e:[e],n=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(a,s){var l="pattern_"+s,u=ei(a,r[s],{sx:n.a||1,sy:n.d||1,ox:n.e||0,oy:n.f||0});u.width=t*(n.a||1)*(u.scaleFactor||1),u.height=t*(n.d||1)*(u.scaleFactor||1),i.exist(l)||i.add(l,ot("pattern",{id:l,patternUnits:"userSpaceOnUse"},ot(u.markup)));var f=i.get(l);cn(u.update)&&u.update(f.node.childNodes[0],u);var c=u.ox%u.width;c<0&&(c+=u.width);var h=u.oy%u.height;h<0&&(h+=u.height),f.attr({x:c,y:h,width:u.width,height:u.height})});var o=new XMLSerializer().serializeToString(i.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(e){e=e||{};var t=e.position||"center",r=e.size||"auto auto",n=this.scale(),i=this.translate();if(Vr(t)){var o=i.tx+n.sx*(t.x||0),a=i.ty+n.sy*(t.y||0);t=o+"px "+a+"px"}Vr(r)&&(r=new xt(r).scale(n.sx,n.sy),r=r.width+"px "+r.height+"px"),this.$background.css({backgroundSize:r,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(!(e instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==t.id)){t=t||{};var r,n=t.size,i=t.repeat||"no-repeat",o=t.opacity||1,a=Math.abs(t.quality)||1,s=this.constructor.backgroundPatterns[tae(i)];if(cn(s)){e.width*=a,e.height*=a;var l=s(e,t);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");r=l.toDataURL("image/png"),i="repeat",Vr(n)?(n.width*=l.width/e.width,n.height*=l.height/e.height):n===void 0&&(t.size={width:l.width/a,height:l.height/a})}else r=e.src,n===void 0&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:o,backgroundRepeat:i,backgroundImage:"url("+r+")"}),this.updateBackgroundImage(t)}},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(e=e||{},this.updateBackgroundColor(e.color),e.image){e=this._background=ma(e),Ld(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,Ls(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!Vr(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,r=e.name;if(t||(t=r+this.svg.id+kv(JSON.stringify(e))),!this.isDefined(t)){var n=pae,i=n[r]&&n[r](e.args||{});if(!i)throw new Error("Non-existing filter "+r);var o=Kt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});ot(i,o).appendTo(this.defs)}return t},defineGradient:function(e){if(!Vr(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:t,defs:r}=this,{type:n,id:i=n+t.id+kv(JSON.stringify(e)),stops:o,attrs:a={}}=e;if(this.isDefined(i))return i;const s=Sr(o).map(({offset:u,color:f,opacity:c})=>ot("stop").attr({offset:u,"stop-color":f,"stop-opacity":Number.isFinite(c)?c:1})),l=ot(n,a,s);return l.id=i,l.appendTo(r),i},definePattern:function(e){if(!Vr(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:t,defs:r}=this,{id:n=t.id+kv(JSON.stringify(e)),markup:i,attrs:o={}}=e;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(n))return n;const a=ot("pattern",{patternUnits:"userSpaceOnUse"});if(a.id=n,a.attr(o),typeof i=="string")a.append(ot(i));else{const{fragment:s}=Hb(i);a.append(s)}return a.appendTo(r),n},defineMarker:function(e){if(!Vr(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:t,defs:r}=this,{id:n=t.id+kv(JSON.stringify(e)),markup:i,attrs:o={},markerUnits:a="userSpaceOnUse"}=e;if(this.isDefined(n))return n;const s=ot("marker",{orient:"auto",overflow:"visible",markerUnits:a});s.id=n,s.attr(o);let l;if(i){let c;if(typeof i=="string")c=ot(i),c=Array.isArray(c)?c:[c];else{const{fragment:h}=Hb(i);c=ot(h).children()}c.length>1?l=ot("g").append(c):l=c[0]}else{const{type:c="path"}=e;l=ot(c)}const u=qm(e,"type","id","markup","attrs","markerUnits");return Object.keys(u).forEach(c=>{const h=u[c],m=l.attr(c);if(m==null)l.attr(c,h);else switch(c){case"transform":l.attr(c,h+" "+m);break}}),l.appendTo(s),s.appendTo(r),n},customEventTrigger:function(e,t,r=t.el){const n=e.target.closest("[event]");if(n&&r!==n&&t.el.contains(n)){const i=vi(Dr.Event(e.originalEvent,{data:e.data,currentTarget:n}));return this.onevent(i),i.isDefaultPrevented()&&e.preventDefault(),i}return null}},{sorting:ld,Layers:va,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=2*r,t.height=2*n;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,r,n),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,r,n),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,r,n),t},flipX:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=r*2,t.height=n;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.translate(2*r,0),i.scale(-1,1),i.drawImage(e,0,0,r,n),t},flipY:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=r,t.height=n*2;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.translate(0,2*n),i.scale(1,-1),i.drawImage(e,0,0,r,n),t},watermark:function(e,t){t=t||{};var r=e.width,n=e.height,i=document.createElement("canvas");i.width=r*3,i.height=n*3;for(var o=i.getContext("2d"),a=go(t.watermarkAngle)?-t.watermarkAngle:-20,s=$o(a),l=i.width/4,u=i.height/4,f=0;f<4;f++)for(var c=0;c<4;c++)(f+c)%2>0&&(o.setTransform(1,0,0,1,(2*f-1)*l,(2*c-1)*u),o.rotate(s),o.drawImage(e,-r/2,-n/2,r,n));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){ot(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var r=t.sx<=1?t.thickness*t.sx:t.thickness;ot(e).attr({width:r,height:r,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",ot(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",ot(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",ot(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}]}}),W9=Uu.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){const{paper:t,relatedView:r}=this;return!t||!r?!0:t.guard(e,r)}}),yM=Uu.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){e=Kt(this.options,e);var t=e.tools;if(!Array.isArray(t))return this;var r=e.relatedView;if(!(r instanceof cr))return this;for(var n=this.tools=[],i=0,o=t.length;i<o;i++){var a=t[i];a instanceof W9&&(a.configure(r,this),this.vel.append(a.el),n.push(a))}return this.isRendered=!1,r.requestUpdate(r.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var r=this.isRendered,n=0,i=t.length;n<i;n++){var o=t[n];r?e.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return this.isMounted()||this.mount(),r||(this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,n=t.length;r<n;r++){var i=t[r];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,n=t.length;r<n;r++){var i=t[r];i!==e&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,r=e.length;t<r;t++)e[t].remove();this.tools=null},mount:function(){const{options:e,el:t}=this,{relatedView:r,layer:n=va.TOOLS,z:i}=e;return r&&(n?r.paper.getLayerView(n).insertSortedNode(t,i):r.el.appendChild(t)),this}}),Mle={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var r=this._results[e];if(typeof r<"u")return r;try{r=t()}catch{r=!1}return this._results[e]=r,r}},wM=oo.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]});oo.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]});oo.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]});oo.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]});oo.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]});oo.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]});oo.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]});oo.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]});oo.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]});oo.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]});oo.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var u1=10;oo.define("standard.Cylinder",{attrs:{body:{lateralArea:u1,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:u1,refRx:"50%",ry:u1,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(e===void 0)return this.attr("body/lateralArea");var r=Ti(e),n={lateralArea:e},i=r?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e};return this.attr({body:n,top:i},t)}},{attributes:{lateralArea:{set:function(e,t){var r=Ti(e);r&&(e=parseFloat(e)/100);var n=t.x,i=t.y,o=t.width,a=t.height,s=o/2,l=r?a*e:e,u=ot.KAPPA,f=u*s,c=u*(r?a*e:e),h=n,m=n+o/2,g=n+o,_=i+l,v=_-l,p=i+a-l,E=i+a,y=["M",h,_,"L",h,p,"C",n,p+c,m-f,E,m,E,"C",m+f,E,g,p+c,g,p,"L",g,_,"C",g,_-c,m+f,v,m,v,"C",m-f,v,h,_-c,h,_,"Z"];return{d:y.join(" ")}}}}});var Lle={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},Fle={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},Ble=Mle.test("svgforeignobject")?Lle:Fle;oo.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},Ble]},{attributes:{text:{set:function(e,t,r,n){if(r instanceof HTMLElement)r.textContent=e;else{var i=n.style||{},o={text:e,width:-5,height:"100%"},a=Kt({textVerticalAnchor:"middle"},i);return P9.textWrap.set.call(this,o,t,r,a),{fill:i.color||null}}},position:function(e,t,r){if(r instanceof SVGElement)return t.center()}}}});const Ule=Lh.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]});Lh.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]});Lh.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]});function zle(e,t){const{model:r}=e;return t?r.getBBox():r.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}const K9=W9.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{vel:e}=this;e.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){const{relatedView:e,options:t}=this;let{x:r=0,y:n=0,offset:i={},useModelGeometry:o,rotate:a,scale:s}=t,l=zle(e,o);const u=e.model.angle();a||(l=l.bbox(u));const{x:f=0,y:c=0}=i;Ti(r)?r=parseFloat(r)/100*l.width:ba(r)&&(r=Number(_a(r,l))),Ti(n)?n=parseFloat(n)/100*l.height:ba(n)&&(n=Number(_a(n,l)));let h=ot.createSVGMatrix().translate(l.x+l.width/2,l.y+l.height/2);return a&&(h=h.rotate(u)),h=h.translate(r+f-l.width/2,n+c-l.height/2),s&&(h=h.scale(s)),h},getLinkMatrix(){const{relatedView:e,options:t}=this,{offset:r=0,distance:n=0,rotate:i,scale:o}=t;let a,s,l;Ti(n)?a=e.getTangentAtRatio(parseFloat(n)/100):a=e.getTangentAtLength(n),a?(s=a.start,l=a.vector().vectorAngle(new ze(1,0))||0):(s=e.getConnection().start,l=0);let u=ot.createSVGMatrix().translate(s.x,s.y).rotate(l).translate(0,r);return i||(u=u.rotate(-l)),o&&(u=u.scale(o)),u},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;typeof t=="function"&&t.call(this.relatedView,e,this.relatedView,this)}}}),qle=K9.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,r){t.model.remove({ui:!0,tool:r.cid})}}}),J9=()=>"chooseFileSystemEntries"in window||"showOpenFilePicker"in window,Y9=async()=>{if(!J9()){const n=await Vle();if(!n)throw new Error("failed to get file through HTML5");return{td:await Hle(n),fileName:n.name}}const e=await Kle(),t=await e.getFile();return{td:await t.text(),fileName:t.name,fileHandle:e}},Vle=async()=>new Promise((e,t)=>{const r=document.getElementById("fileInput");r.onchange=n=>{const i=r.files[0];return i?e(i):t(new Error("AbortError"))},r.click()}),Hle=async e=>new Promise(t=>{const r=new FileReader;r.addEventListener("loadend",n=>{const i=n.srcElement.result;return t(i)}),r.readAsText(e)}),bM=async(e,t,r)=>{if(!J9())return Wle(e,r),e;if(!t)try{t=await Jle()}catch(n){console.error(n);return}return await Gle(t,r),t},Gle=async(e,t)=>{if(e.createWriter){const n=await e.createWriter();await n.write(0,t),await n.close();return}const r=await e.createWritable();await r.write(t),await r.close()},Wle=(e,t)=>{const r=JSON.parse(t);let n=r.id||r.title;if(!n)throw Error("the TD has to have either an id or a title to be saved");n=n.replace(/\s/g,"")+".jsonld",e=e||n;const i={type:"application/ld+json"},o=new File([t],"",i),a=document.getElementById("aDownload");a.href=window.URL.createObjectURL(o),a.setAttribute("download",e),a.click()},Kle=()=>{const e={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]};return"showOpenFilePicker"in window?window.showOpenFilePicker(e).then(t=>t[0]):window.chooseFileSystemEntries()},Jle=async()=>{if("showSaveFilePicker"in window){const t={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]};return await window.showSaveFilePicker(t)}const e={type:"save-file",accepts:[{description:"Thing Description",extensions:[".jsonld",".json"],mimeTypes:["application/ld+json"]}]};return await window.chooseFileSystemEntries(e)},Yle=Me.forwardRef((e,t)=>{const r=Me.useContext(An),[n,i]=lt.useState(()=>!1),[o,a]=lt.useState(()=>"url"),[s,l]=lt.useState(()=>({})),u=e.interaction??{},f=r.parsedTD;Me.useImperativeHandle(t,()=>({openModal:()=>c(),close:()=>h()}));const c=()=>{i(!0)},h=()=>{i(!1)},m=y=>u.links?KY(y,u):!1,g=y=>{f.links=[...f.links?f.links:[],y],r.updateOfflineTD(JSON.stringify(f,null,2))},_=y=>{a(y),s&&y==="url"&&l({})},v=Me.useCallback(async()=>{try{const y=await Y9();document.getElementById("link-href").value=`./${y.fileName}`,l(y.fileHandle?y.fileHandle:JSON.parse(y.td))}catch(y){const S="We ran into an error trying to open your TD.";console.error(S,y),alert(S)}},[]),p=()=>{const y=["icon","service-doc","alternate","type","tm:extends","proxy-to","collection","item","predecessor-version","controlledBy"];let S=0;return y.map(T=>(S++,pe.jsx("option",{value:T},S)))},E=pe.jsxs(pe.Fragment,{children:[pe.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Thing Description:"}),pe.jsx("div",{className:"p-1",children:f.title}),pe.jsxs("div",{className:"p-1 pt-2",children:[pe.jsx("label",{htmlFor:"rel",className:"pl-2 text-sm font-medium text-gray-400",children:"Relation:(select one of the proposed relations or type your custom relation)"}),pe.jsx("input",{list:"relationType",type:"text",name:"rel",id:"rel",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"relation name"}),pe.jsx("datalist",{id:"relationType",children:pe.jsx(p,{})}),pe.jsx("span",{id:"link-rel-info",className:"pl-2 text-xs text-red-400"})]}),pe.jsxs("div",{className:"p-1 pt-2",children:[pe.jsx("label",{htmlFor:"link-href",className:"pl-2 pr-2 text-sm font-medium text-gray-400",children:"Target ressource:"}),pe.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",disabled:o==="upload",onClick:()=>{_("upload")},children:"From local machine"}),pe.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",style:{marginLeft:"2%"},disabled:o==="url",onClick:()=>{_("url")},children:"Ressource url"}),pe.jsxs("div",{className:"p-1 pt-4",children:[pe.jsx("input",{type:"text",name:"link-href",id:"link-href",className:"rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"The target ressource",onChange:()=>{Xle()},disabled:o!=="url"}),o==="upload"&&pe.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-white",onClick:v,disabled:o!=="upload",children:"Open TD"})]}),pe.jsx("span",{id:"link-href-info",className:"pl-2 text-xs text-red-400"}),pe.jsxs("div",{children:[pe.jsx("label",{htmlFor:"type",className:"pl-2 text-sm font-medium text-gray-400",children:"Type:(select one of the proposed types or tape your custom type)"}),pe.jsx("input",{list:"mediaType",type:"text",name:"type",id:"type",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"media type"}),pe.jsxs("datalist",{id:"mediaType",children:[pe.jsx("option",{value:"application/td+json"}),pe.jsx("option",{value:"image/jpeg"}),pe.jsx("option",{value:"text/csv"}),pe.jsx("option",{value:"video/mp4"})]})]})]})]});return n?Ml.createPortal(pe.jsx(Ll,{onCancel:h,onSubmit:()=>{if(!r.isValidJSON){c1("Can't add link. TD is malformed");return}let y={},S={};const $=document.getElementById("rel").value,T=document.getElementById("link-href").value,d=document.getElementById("type").value;y.href=T!==""?T.trim():"/";let A=!0;try{var P=new URL(T)}catch{A=!1}if(o==="url"&&A&&(P.protocol==="http:"||P.protocol==="https:"))try{var x=new XMLHttpRequest;if(x.open("GET",T,!1),x.send(),x.getResponseHeader("content-type").includes("application/td+json")){const D=x.response;let F=JSON.parse(D);S[T]=F}}catch(D){console.error("We ran into an error trying to fetch your TD.",D),S[T]=s}else S[T]=s;$!==""&&(y.rel=$.trim()),d!==""&&(y.type=d.trim()),T===""?c1("The href field is mandatory ..."):m(y)?c1("A Link with the target Thing Description already exists ..."):(g(y),r.addLinkedTd(S),l({}),h())},submitText:"Add",children:E,title:"Add Link ",description:`Tell us how this ${f.title} can interact with other ressources`}),document.getElementById("modal-root")):null}),c1=e=>{document.getElementById("link-href-info").textContent=e,document.getElementById("link-href").classList.remove("border-gray-600"),document.getElementById("link-href").classList.add("border-red-400")},Xle=()=>{document.getElementById("link-href").classList.add("border-gray-600"),document.getElementById("link-href").classList.remove("border-red-400")};function Qle(e){const t=Me.useContext(An),r=i=>{let o=t.linkedTd;o[i.link.href]&&(delete o[i.link.href],t.updateLinkedTd(o)),t.removeLink(i.propName),t.updateIsModified(!0)},n=async i=>{let o=i.link.href;CO(t,o)};return pe.jsxs("div",{className:"bg-formBlue border-formBlue mt-2 flex min-h-12 w-full items-stretch rounded-md border-2 bg-opacity-75 pl-4",children:[pe.jsx("div",{className:"flex h-8 min-w-20 justify-center place-self-center rounded-md bg-white",children:pe.jsx("div",{className:"text-formBlue place-self-center px-4 text-center",children:e.link.rel??"-"})}),pe.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-base text-white",children:e.link.href}),t.linkedTd&&t.linkedTd[e.link.href]&&(Object.keys(t.linkedTd[e.link.href]).length||t.linkedTd[e.link.href].kind==="file")&&pe.jsx("button",{className:"bg-formBlue border-formBlue flex w-10 items-center justify-center border-r-2",onClick:()=>n(e),children:pe.jsx(A_,{size:16,color:"black"})}),pe.jsx("button",{className:"bg-formBlue flex w-10 items-center justify-center",onClick:()=>r(e),children:pe.jsx(Ju,{size:16,color:"black"})})]})}function Zle(e){const t=Me.useContext(An),r=Me.useRef(),n=()=>{r.current.openModal()},i=t.parsedTD,[o,a]=Me.useState(0),[s,l]=Me.useState("list"),[u,f]=Me.useState(!1);if(Me.useEffect(()=>{if(document.getElementsByTagName("details")[1]&&document.getElementsByTagName("details")[1].addEventListener("toggle",function($){document.getElementsByTagName("details")[1].attributes.open?f(!0):f(!1)},!1),i===void 0||!i.links||!Array.isArray(i.links))return;let h=100,m=30,g=new QI,_=new Dle({el:document.getElementById("tdGraph"),model:g,height:270+o,width:850,gridSize:10,drawGrid:!0,restrictTranslate:!0});if(!(i===void 0||!i.links||!Array.isArray(i.links))){var v=new wM;v.position(100,10),v.resize(140,40),v.attr({body:{fill:"#005A9C"},label:{text:i.title,fill:"white"}}),v.set("td",{}),v.resize(v.attributes.attrs.label.text.length*12,40),g.addCell(v);for(const[$,T]of i.links.entries()){if(Object.prototype.toString.call(T)!=="[object Object]")continue;h=h+70,m=m+60;const d=T.href??"no href provided",A=T.rel??"",P=new wM;P.position(h,m),P.attr({body:{fill:"#005A9C"},label:{text:d,fill:"white"}}),P.resize(P.attributes.attrs.label.text.length*12,40),g.addCell(P),P.set("href",d);var p=new qle({useModelGeometry:!0,y:"0%",x:"100%",action:async function(D,F,V){if(t.linkedTd){let X=t.linkedTd;X[F.model.get("href")]&&(delete X[F.model.get("href")],t.updateLinkedTd(X))}for(let X=0;X<i.links.length;X++)if(d===F.model.get("href")){t.removeLink(X),t.updateIsModified(!0);break}}}),E=new yM({tools:[p]}),y=P.findView(_);if(y.addTools(E),t.linkedTd&&t.linkedTd[d]&&(t.linkedTd[d].kind==="file"||Object.keys(t.linkedTd[d]).length)){P.set("td",t.linkedTd[d]);var S=new K9({markup:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#008FF5",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],x:"0%",y:"0%",rotate:!0,action:async function(F,V,X){let G=V.model.get("href");CO(t,G)}});let D=new yM({tools:[p,S]});y.addTools(D)}let x=new Ule({attrs:{line:{stroke:"#005A9C"}},labels:[{position:.6,attrs:{text:{text:A,fill:"grey"}}}]});x.source(v),x.target(P),x.addTo(g)}a(m+30)}},[o,s,t,t.linkedTd,t.removeLink,t.updateLinkedTd,t.updateIsModified,i]),i===void 0)return pe.jsx(pe.Fragment,{});let c=[];if(i.links&&Array.isArray(i.links))for(const[h,m]of i.links.entries())Object.prototype.toString.call(m)==="[object Object]"&&c.push(pe.jsx(Qle,{link:m},h));return pe.jsxs("details",{className:"pt-8",children:[pe.jsxs("summary",{className:"flex cursor-pointer items-center justify-start",children:[pe.jsxs("div",{className:"flex flex-grow",children:[pe.jsx(xh,{tooltip:J4(),children:pe.jsx("h2",{className:"flex-grow p-1 text-2xl text-white",children:"Links"})}),u&&pe.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",disabled:s==="list",onClick:()=>l("list"),children:"List"}),u&&pe.jsx("button",{className:"h-9 cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",style:{marginLeft:"10px"},disabled:s==="graph",onClick:()=>l("graph"),children:"Graph"})]}),pe.jsx("button",{className:"cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",onClick:n,children:"Add Top Level Link"}),pe.jsx(Yle,{type:"link",interaction:i,ref:r})]}),c&&s==="graph"&&pe.jsx("div",{className:"pt-4",children:pe.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",id:"tdGraph"})}),c&&s==="list"&&pe.jsx("div",{className:"pt-4",children:pe.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",children:c})})]})}function Lf(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(c){a(c)}}function l(f){try{u(n.throw(f))}catch(c){a(c)}}function u(f){f.done?o(f.value):i(f.value).then(s,l)}u((n=n.apply(e,t||[])).next())})}const eue=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Eh(e,t,r){const n=tue(e),{webkitRelativePath:i}=e,o=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof n.path!="string"&&_M(n,"path",o),_M(n,"relativePath",o),n}function tue(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const n=t.split(".").pop().toLowerCase(),i=eue.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function _M(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}const rue=[".DS_Store","Thumbs.db"];function nue(e){return Lf(this,void 0,void 0,function*(){return Jb(e)&&iue(e.dataTransfer)?lue(e.dataTransfer,e.type):oue(e)?aue(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?sue(e):[]})}function iue(e){return Jb(e)}function oue(e){return Jb(e)&&Jb(e.target)}function Jb(e){return typeof e=="object"&&e!==null}function aue(e){return fx(e.target.files).map(t=>Eh(t))}function sue(e){return Lf(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>Eh(r))})}function lue(e,t){return Lf(this,void 0,void 0,function*(){if(e.items){const r=fx(e.items).filter(i=>i.kind==="file");if(t!=="drop")return r;const n=yield Promise.all(r.map(uue));return EM(X9(n))}return EM(fx(e.files).map(r=>Eh(r)))})}function EM(e){return e.filter(t=>rue.indexOf(t.name)===-1)}function fx(e){if(e===null)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];t.push(n)}return t}function uue(e){if(typeof e.webkitGetAsEntry!="function")return SM(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?Q9(t):SM(e,t)}function X9(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?X9(r):[r]],[])}function SM(e,t){return Lf(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const a=yield o.getFile();return a.handle=o,Eh(a)}}const n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return Eh(n,(r=t==null?void 0:t.fullPath)!==null&&r!==void 0?r:void 0)})}function cue(e){return Lf(this,void 0,void 0,function*(){return e.isDirectory?Q9(e):fue(e)})}function Q9(e){const t=e.createReader();return new Promise((r,n)=>{const i=[];function o(){t.readEntries(a=>Lf(this,void 0,void 0,function*(){if(a.length){const s=Promise.all(a.map(cue));i.push(s),o()}else try{const s=yield Promise.all(i);r(s)}catch(s){n(s)}}),a=>{n(a)})}o()})}function fue(e){return Lf(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(n=>{const i=Eh(n,e.fullPath);t(i)},n=>{r(n)})})})}var f1=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return r.some(function(a){var s=a.trim().toLowerCase();return s.charAt(0)==="."?n.toLowerCase().endsWith(s):s.endsWith("/*")?o===s.replace(/\/.*$/,""):i===s})}return!0};function $M(e){return pue(e)||hue(e)||eH(e)||due()}function due(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pue(e){if(Array.isArray(e))return dx(e)}function TM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(r),!0).forEach(function(n){Z9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z9(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hm(e,t){return vue(e)||gue(e,t)||eH(e,t)||mue()}function mue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eH(e,t){if(e){if(typeof e=="string")return dx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dx(e,t)}}function dx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function vue(e){if(Array.isArray(e))return e}var yue=typeof f1=="function"?f1:f1.default,wue="file-invalid-type",bue="file-too-large",_ue="file-too-small",Eue="too-many-files",Sue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:wue,message:"File type must be ".concat(n)}},PM=function(t){return{code:bue,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},xM=function(t){return{code:_ue,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},$ue={code:Eue,message:"Too many files"};function tH(e,t){var r=e.type==="application/x-moz-file"||yue(e,t);return[r,r?null:Sue(t)]}function rH(e,t,r){if(Uc(e.size))if(Uc(t)&&Uc(r)){if(e.size>r)return[!1,PM(r)];if(e.size<t)return[!1,xM(t)]}else{if(Uc(t)&&e.size<t)return[!1,xM(t)];if(Uc(r)&&e.size>r)return[!1,PM(r)]}return[!0,null]}function Uc(e){return e!=null}function Tue(e){var t=e.files,r=e.accept,n=e.minSize,i=e.maxSize,o=e.multiple,a=e.maxFiles,s=e.validator;return!o&&t.length>1||o&&a>=1&&t.length>a?!1:t.every(function(l){var u=tH(l,r),f=Hm(u,1),c=f[0],h=rH(l,n,i),m=Hm(h,1),g=m[0],_=s?s(l):null;return c&&g&&!_})}function Yb(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function qv(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function OM(e){e.preventDefault()}function Aue(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Pue(e){return e.indexOf("Edge/")!==-1}function xue(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Aue(e)||Pue(e)}function Es(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return t.some(function(s){return!Yb(n)&&s&&s.apply(void 0,[n].concat(o)),Yb(n)})}}function Oue(){return"showOpenFilePicker"in window}function Rue(e){if(Uc(e)){var t=Object.entries(e).filter(function(r){var n=Hm(r,2),i=n[0],o=n[1],a=!0;return nH(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(o)||!o.every(iH))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(r,n){var i=Hm(n,2),o=i[0],a=i[1];return AM(AM({},r),{},Z9({},o,a))},{});return[{description:"Files",accept:t}]}return e}function Iue(e){if(Uc(e))return Object.entries(e).reduce(function(t,r){var n=Hm(r,2),i=n[0],o=n[1];return[].concat($M(t),[i],$M(o))},[]).filter(function(t){return nH(t)||iH(t)}).join(",")}function Nue(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Cue(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function nH(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function iH(e){return/^.*\.[\w]+$/.test(e)}var kue=["children"],jue=["open"],Due=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Mue=["refKey","onChange","onClick"];function Lue(e){return Uue(e)||Bue(e)||oH(e)||Fue()}function Fue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uue(e){if(Array.isArray(e))return hx(e)}function d1(e,t){return Vue(e)||que(e,t)||oH(e,t)||zue()}function zue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oH(e,t){if(e){if(typeof e=="string")return hx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hx(e,t)}}function hx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function que(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function Vue(e){if(Array.isArray(e))return e}function RM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(r),!0).forEach(function(n){px(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function px(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xb(e,t){if(e==null)return{};var r=Hue(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hue(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var nN=Me.forwardRef(function(e,t){var r=e.children,n=Xb(e,kue),i=sH(n),o=i.open,a=Xb(i,jue);return Me.useImperativeHandle(t,function(){return{open:o}},[o]),lt.createElement(Me.Fragment,null,r(xn(xn({},a),{},{open:o})))});nN.displayName="Dropzone";var aH={disabled:!1,getFilesFromEvent:nue,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};nN.defaultProps=aH;nN.propTypes={children:$t.func,accept:$t.objectOf($t.arrayOf($t.string)),multiple:$t.bool,preventDropOnDocument:$t.bool,noClick:$t.bool,noKeyboard:$t.bool,noDrag:$t.bool,noDragEventsBubbling:$t.bool,minSize:$t.number,maxSize:$t.number,maxFiles:$t.number,disabled:$t.bool,getFilesFromEvent:$t.func,onFileDialogCancel:$t.func,onFileDialogOpen:$t.func,useFsAccessApi:$t.bool,autoFocus:$t.bool,onDragEnter:$t.func,onDragLeave:$t.func,onDragOver:$t.func,onDrop:$t.func,onDropAccepted:$t.func,onDropRejected:$t.func,onError:$t.func,validator:$t.func};var mx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function sH(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=xn(xn({},aH),e),r=t.accept,n=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,a=t.minSize,s=t.multiple,l=t.maxFiles,u=t.onDragEnter,f=t.onDragLeave,c=t.onDragOver,h=t.onDrop,m=t.onDropAccepted,g=t.onDropRejected,_=t.onFileDialogCancel,v=t.onFileDialogOpen,p=t.useFsAccessApi,E=t.autoFocus,y=t.preventDropOnDocument,S=t.noClick,$=t.noKeyboard,T=t.noDrag,d=t.noDragEventsBubbling,A=t.onError,P=t.validator,x=Me.useMemo(function(){return Iue(r)},[r]),D=Me.useMemo(function(){return Rue(r)},[r]),F=Me.useMemo(function(){return typeof v=="function"?v:IM},[v]),V=Me.useMemo(function(){return typeof _=="function"?_:IM},[_]),X=Me.useRef(null),G=Me.useRef(null),Q=Me.useReducer(Gue,mx),ce=d1(Q,2),ee=ce[0],ae=ce[1],M=ee.isFocused,B=ee.isFileDialogActive,K=Me.useRef(typeof window<"u"&&window.isSecureContext&&p&&Oue()),O=function(){!K.current&&B&&setTimeout(function(){if(G.current){var Ue=G.current.files;Ue.length||(ae({type:"closeDialog"}),V())}},300)};Me.useEffect(function(){return window.addEventListener("focus",O,!1),function(){window.removeEventListener("focus",O,!1)}},[G,B,V,K]);var k=Me.useRef([]),q=function(Ue){X.current&&X.current.contains(Ue.target)||(Ue.preventDefault(),k.current=[])};Me.useEffect(function(){return y&&(document.addEventListener("dragover",OM,!1),document.addEventListener("drop",q,!1)),function(){y&&(document.removeEventListener("dragover",OM),document.removeEventListener("drop",q))}},[X,y]),Me.useEffect(function(){return!n&&E&&X.current&&X.current.focus(),function(){}},[X,E,n]);var ie=Me.useCallback(function(Ge){A?A(Ge):console.error(Ge)},[A]),J=Me.useCallback(function(Ge){Ge.preventDefault(),Ge.persist(),Re(Ge),k.current=[].concat(Lue(k.current),[Ge.target]),qv(Ge)&&Promise.resolve(i(Ge)).then(function(Ue){if(!(Yb(Ge)&&!d)){var W=Ue.length,C=W>0&&Tue({files:Ue,accept:x,minSize:a,maxSize:o,multiple:s,maxFiles:l,validator:P}),L=W>0&&!C;ae({isDragAccept:C,isDragReject:L,isDragActive:!0,type:"setDraggedFiles"}),u&&u(Ge)}}).catch(function(Ue){return ie(Ue)})},[i,u,ie,d,x,a,o,s,l,P]),Y=Me.useCallback(function(Ge){Ge.preventDefault(),Ge.persist(),Re(Ge);var Ue=qv(Ge);if(Ue&&Ge.dataTransfer)try{Ge.dataTransfer.dropEffect="copy"}catch{}return Ue&&c&&c(Ge),!1},[c,d]),oe=Me.useCallback(function(Ge){Ge.preventDefault(),Ge.persist(),Re(Ge);var Ue=k.current.filter(function(C){return X.current&&X.current.contains(C)}),W=Ue.indexOf(Ge.target);W!==-1&&Ue.splice(W,1),k.current=Ue,!(Ue.length>0)&&(ae({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),qv(Ge)&&f&&f(Ge))},[X,f,d]),_e=Me.useCallback(function(Ge,Ue){var W=[],C=[];Ge.forEach(function(L){var ne=tH(L,x),we=d1(ne,2),Se=we[0],ke=we[1],Ie=rH(L,a,o),Fe=d1(Ie,2),ft=Fe[0],vt=Fe[1],at=P?P(L):null;if(Se&&ft&&!at)W.push(L);else{var kt=[ke,vt];at&&(kt=kt.concat(at)),C.push({file:L,errors:kt.filter(function(br){return br})})}}),(!s&&W.length>1||s&&l>=1&&W.length>l)&&(W.forEach(function(L){C.push({file:L,errors:[$ue]})}),W.splice(0)),ae({acceptedFiles:W,fileRejections:C,isDragReject:C.length>0,type:"setFiles"}),h&&h(W,C,Ue),C.length>0&&g&&g(C,Ue),W.length>0&&m&&m(W,Ue)},[ae,s,x,a,o,l,h,m,g,P]),ye=Me.useCallback(function(Ge){Ge.preventDefault(),Ge.persist(),Re(Ge),k.current=[],qv(Ge)&&Promise.resolve(i(Ge)).then(function(Ue){Yb(Ge)&&!d||_e(Ue,Ge)}).catch(function(Ue){return ie(Ue)}),ae({type:"reset"})},[i,_e,ie,d]),R=Me.useCallback(function(){if(K.current){ae({type:"openDialog"}),F();var Ge={multiple:s,types:D};window.showOpenFilePicker(Ge).then(function(Ue){return i(Ue)}).then(function(Ue){_e(Ue,null),ae({type:"closeDialog"})}).catch(function(Ue){Nue(Ue)?(V(Ue),ae({type:"closeDialog"})):Cue(Ue)?(K.current=!1,G.current?(G.current.value=null,G.current.click()):ie(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ie(Ue)});return}G.current&&(ae({type:"openDialog"}),F(),G.current.value=null,G.current.click())},[ae,F,V,p,_e,ie,D,s]),I=Me.useCallback(function(Ge){!X.current||!X.current.isEqualNode(Ge.target)||(Ge.key===" "||Ge.key==="Enter"||Ge.keyCode===32||Ge.keyCode===13)&&(Ge.preventDefault(),R())},[X,R]),N=Me.useCallback(function(){ae({type:"focus"})},[]),H=Me.useCallback(function(){ae({type:"blur"})},[]),re=Me.useCallback(function(){S||(xue()?setTimeout(R,0):R())},[S,R]),le=function(Ue){return n?null:Ue},fe=function(Ue){return $?null:le(Ue)},me=function(Ue){return T?null:le(Ue)},Re=function(Ue){d&&Ue.stopPropagation()},Le=Me.useMemo(function(){return function(){var Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ue=Ge.refKey,W=Ue===void 0?"ref":Ue,C=Ge.role,L=Ge.onKeyDown,ne=Ge.onFocus,we=Ge.onBlur,Se=Ge.onClick,ke=Ge.onDragEnter,Ie=Ge.onDragOver,Fe=Ge.onDragLeave,ft=Ge.onDrop,vt=Xb(Ge,Due);return xn(xn(px({onKeyDown:fe(Es(L,I)),onFocus:fe(Es(ne,N)),onBlur:fe(Es(we,H)),onClick:le(Es(Se,re)),onDragEnter:me(Es(ke,J)),onDragOver:me(Es(Ie,Y)),onDragLeave:me(Es(Fe,oe)),onDrop:me(Es(ft,ye)),role:typeof C=="string"&&C!==""?C:"presentation"},W,X),!n&&!$?{tabIndex:0}:{}),vt)}},[X,I,N,H,re,J,Y,oe,ye,$,T,n]),je=Me.useCallback(function(Ge){Ge.stopPropagation()},[]),tt=Me.useMemo(function(){return function(){var Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ue=Ge.refKey,W=Ue===void 0?"ref":Ue,C=Ge.onChange,L=Ge.onClick,ne=Xb(Ge,Mue),we=px({accept:x,multiple:s,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:le(Es(C,ye)),onClick:le(Es(L,je)),tabIndex:-1},W,G);return xn(xn({},we),ne)}},[G,r,s,ye,n]);return xn(xn({},ee),{},{isFocused:M&&!n,getRootProps:Le,getInputProps:tt,rootRef:X,inputRef:G,open:le(R)})}function Gue(e,t){switch(t.type){case"focus":return xn(xn({},e),{},{isFocused:!0});case"blur":return xn(xn({},e),{},{isFocused:!1});case"openDialog":return xn(xn({},mx),{},{isFileDialogActive:!0});case"closeDialog":return xn(xn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return xn(xn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return xn(xn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return xn({},mx);default:return e}}function IM(){}function NM(){const e=Me.useContext(An),t=e.parsedTD,r=["id","properties","actions","events","forms","description","title","links"],n=lt.useRef(),i=()=>{n.current.openModal()},o=Me.useCallback(c=>{const h=c[0],m=new FileReader;m.onabort=()=>console.error("File reading  - aborted"),m.onerror=()=>console.error("File reading - failed"),m.onload=()=>{const g={td:m.result,fileName:h.name,fileHandle:h};try{let _={};_[g.fileName]=g.fileHandle,e.updateOfflineTD(g.td),e.updateIsModified(!1),e.setFileHandle(g.fileName),e.updateLinkedTd(void 0),e.addLinkedTd(_)}catch(_){console.error("File processing:",_)}},m.readAsText(h)},[e]),{getRootProps:a,getInputProps:s,isDragActive:l}=sH({onDrop:o,accept:{"application/json":[".json"],"application/ld+json":[".jsonld"]},noClick:!0,maxFiles:1,maxSize:10*1024*1024});if(!t||!Object.keys(t).length)return pe.jsxs("div",{...a(),className:"align-center flex h-full w-full justify-center justify-items-center bg-gray-500 text-center",children:[pe.jsx("input",{...s()}),l?pe.jsx("div",{className:"place-self-center text-4xl text-white",children:pe.jsx("p",{children:"Drop the files here ..."})}):pe.jsxs("div",{className:"place-self-center text-4xl text-white",children:['Start writing a new TD by clicking "Create"',pe.jsx("p",{children:"or drag and drop .json file here"}),pe.jsx("div",{className:"pt-4",children:pe.jsx("p",{className:"text-xl text-gray-600",children:"For linux operating systems, it is necessary to give the necessary file permissions. Run sudo xdg-open /path/to/the/folder"})})]})]});let u;t.forms&&(u=$_(t.forms).map((h,m)=>pe.jsx(tE,{form:h,propName:m},m)));const f=S_(t.id?{id:t.id}:{},t,r);return pe.jsxs("div",{className:"h-full w-full overflow-auto bg-gray-500 p-6",children:[pe.jsx(hne,{}),t!==void 0&&Object.keys(t).length>0&&pe.jsxs("div",{children:[pe.jsx("div",{className:"text-3xl text-white",children:t.title?M$(t,"title",t["@context"]):pe.jsx(pe.Fragment,{})}),t.description?pe.jsx("div",{className:"pt-4 text-xl text-white",children:M$(t,"description",t["@context"])}):pe.jsx(pe.Fragment,{}),pe.jsx("div",{className:"pt-4",children:pe.jsx(xq,{...f})})]}),pe.jsxs("details",{className:"pt-8",children:[pe.jsxs("summary",{className:"flex cursor-pointer items-center justify-start",children:[pe.jsx("div",{className:"flex flex-grow",children:pe.jsx(xh,{tooltip:lg(),children:pe.jsx("h2",{className:"flex-grow p-1 text-2xl text-white",children:"Forms"})})}),pe.jsx("button",{className:"cursor-pointer rounded-md bg-blue-500 p-2 text-sm font-bold text-white",onClick:i,children:"Add Top Level Form"}),pe.jsx(T_,{type:"thing",interaction:t,ref:n})]}),u&&pe.jsx("div",{className:"pt-4",children:pe.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",children:u})})]}),pe.jsx(Zle,{}),pe.jsx(qS,{interaction:"Properties"}),pe.jsx(qS,{interaction:"Actions"}),pe.jsx(qS,{interaction:"Events"}),pe.jsx("div",{className:"h-10"})]})}const Wue=e=>{const t=Me.useContext(An),r=Kue(t.offlineTD.length);let n=0,i=0,o=0;if(Object.keys(t.parsedTD).length!==0){const a=t.parsedTD;n=a.properties?Object.keys(a.properties).length:0,i=a.actions?Object.keys(a.actions).length:0,o=a.events?Object.keys(a.events).length:0}return pe.jsx(pe.Fragment,{children:pe.jsx("footer",{className:"flex h-10 flex-col justify-center bg-blue-500 text-white",children:pe.jsxs("div",{className:"flex items-center px-2",children:[pe.jsxs("div",{className:"hidden grow items-center gap-2 md:flex",children:[pe.jsxs("div",{children:["Properties: ",n]}),pe.jsxs("div",{children:["| Actions: ",i]}),pe.jsxs("div",{children:["| Events: ",o]}),pe.jsxs("div",{children:["| Size: ",r]})]}),pe.jsxs("div",{className:"flex grow gap-2 md:hidden",children:[pe.jsxs("div",{children:["P: ",n]}),pe.jsxs("div",{children:["| A: ",i]}),pe.jsxs("div",{children:["| E: ",o]}),pe.jsxs("div",{className:"flex",children:[pe.jsxs("div",{children:["| ",r]}),t.isModified&&pe.jsx("div",{className:"md:hidden",children:"*"})]})]}),pe.jsxs("div",{className:"flex items-center gap-2",children:[t.isModified&&pe.jsx("div",{className:"hidden md:block",children:"You have unsaved changes - "}),pe.jsxs("div",{children:["v","0.7.0"]}),pe.jsx("a",{className:"rounded-full bg-black p-2",href:"https://github.com/eclipse/editdor",target:"_blank",rel:"noopener noreferrer",children:pe.jsx(BO,{size:16})})]})]})})})};function Kue(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(3)+" KiB":e<1073741824?(e/1048576).toFixed(3)+" MiB":(e/1073741824).toFixed(3)+" GiB"}const Jue=""+new URL("editdor-Cn4ts1-9.png",import.meta.url).href,lH="target-url",uH=()=>{const e=localStorage.getItem(lH);return e===null?"":e},Yue=e=>{e!=""&&!e.endsWith("/")&&(e=e+"/"),localStorage.setItem(lH,e)},Xue=async(e,t)=>{const r=encodeURIComponent(e.id),n=await fetch(`${t}things/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(n.status===400||n.status===500){const i=await n.json();throw Error(i.error)}return n.status},Que=async(e,t)=>{const r=await fetch(`${t}things`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.status===400||r.status===500){const n=await r.json();throw Error(n.error)}return r.status},Zue=async(e,t)=>{const r=encodeURIComponent(e),n=await fetch(`${t}things/${r}`,{method:"GET",headers:{"Content-Type":"application/json"}}),i=await n.json();if(n.status===404||n.status===500)throw Error(i.error);return i},ece=Me.forwardRef((e,t)=>{const r=Me.useContext(An),[n,i]=lt.useState([]),[o,a]=lt.useState(()=>!1);Me.useEffect(()=>{i(tce(r.offlineTD))},[r]),Me.useImperativeHandle(t,()=>({openModal:()=>s(),close:()=>l()}));const s=()=>{a(!0)},l=()=>{a(!1)};return o?Ml.createPortal(pe.jsx(Ll,{onCancel:l,onSubmit:()=>rce(r.offlineTD,n),submitText:"Generate TD",children:n,title:"Generate TD From TM",description:"Please provide values to switch the placeholders with."}),document.getElementById("modal-root")):null}),tce=e=>{try{let t=/{{/gi,r,n=[];for(;r=t.exec(e);)n.push(r.index);t=/}}/gi;let i=[];for(;r=t.exec(e);)i.push(r.index);let o=[];for(let c=0;c<n.length;c++)o.push(e.slice(n[c]+2,i[c]));o=[...new Set(o)];const a=o.map(c=>pe.jsxs("div",{className:"py-1",children:[pe.jsxs("label",{htmlFor:c,className:"pl-2 text-sm font-medium text-gray-400",children:[c,":"]}),pe.jsx("input",{type:"text",name:c,id:c,className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"Enter a value..."})]},c));let s=[],l=[],u=[];try{let c=function(p,E){return E.map(y=>{const S=v[p].includes(y);return pe.jsxs("div",{className:"form-checkbox py-1 pl-2",children:[pe.jsx("input",{id:`${p}/${y}`,className:"form-checkbox-input",type:"checkbox",value:`#${p}/${y}`,disabled:S,defaultChecked:!0,title:S?"This field is required by the TM.":"","data-interaction":p}),pe.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:`${p}/${y}`,children:`#${p}/${y}`})]},`${p}/${y}`)})};const h=JSON.parse(e),m=Object.keys(h.properties?h.properties:{}),g=Object.keys(h.actions?h.actions:{}),_=Object.keys(h.events?h.events:{}),v={properties:[],actions:[],events:[]};if(h["tm:required"])for(const p of h["tm:required"])p.startsWith("#properties/")?v.properties.push(p.split("/")[1]):p.startsWith("#actions/")?v.actions.push(p.split("/")[1]):p.startsWith("#events/")&&v.events.push(p.split("/")[1]);s=c("properties",m),l=c("actions",g),u=c("events",_)}catch{}const f=pe.jsx("h2",{className:"pb-2 pt-4 text-gray-400",children:"Also, select/unselect the interaction affordances you would like to see in the new TD."},"modalDividerText");return[...a,f,...s,...l,...u]}catch(t){return console.log(t),[]}},rce=(e,t)=>{let r={};const n=[],i=[],o=[];for(const s of t)s.props.className.indexOf("form-checkbox")>-1&&document.getElementById(s.props.children[0].props.id).checked&&(s.props.children[0].props["data-interaction"]==="properties"?n.push(s.key.split("/")[1]):s.props.children[0].props["data-interaction"]==="actions"?i.push(s.key.split("/")[1]):s.props.children[0].props["data-interaction"]==="events"&&o.push(s.key.split("/")[1]));t=t.filter(s=>s.props.className.indexOf("form-checkbox")===-1&&s.key!=="modalDividerText"),t.forEach(s=>{const l=document.getElementById(s.key);return r[s.key]=l.value,l.value}),Object.keys(r).forEach(s=>{if(isNaN(Number(r[s])))e=e.split(`{{${s}}}`).join(r[s]);else{let l=e.split(`"{{${s}}}"`);l.length===1&&(l=e.split(`{{${s}}}`)),e=l.join(r[s])}});const a=JSON.parse(e);if(a.properties){const s=Object.keys(a.properties).filter(l=>n.includes(l)).reduce((l,u)=>(l[u]=a.properties[u],l),{});a.properties=s}if(a.actions){const s=Object.keys(a.actions).filter(l=>i.includes(l)).reduce((l,u)=>(l[u]=a.actions[u],l),{});a.actions=s}if(a.events){const s=Object.keys(a.events).filter(l=>o.includes(l)).reduce((l,u)=>(l[u]=a.events[u],l),{});a.events=s}delete a["@type"],delete a["tm:required"],localStorage.setItem("td",JSON.stringify(a,null,2)),window.open(`${window.location.origin+window.location.pathname}?localstorage`,"_blank")},nce=(e,t=!0,r)=>{const n=e.split(`
`).map(i=>i.trim()).filter(i=>i.length>0);if(t){const i=n[0].split(r).map(o=>o.trim());return n.slice(1).map(o=>{const a=o.split(r).map(s=>s.trim());return i.reduce((s,l,u)=>(s[l]=a[u],s),{})})}else throw new Error("CSV parsing without headers is not supported")},ice=e=>({...e.type?{type:e.type}:{},readOnly:!0,...e.title?{title:e.title}:{},...e.description?{description:e.description}:{},...e.minimum?{minimum:Number(e.minimum)}:{},...e.maximum?{maximum:Number(e.maximum)}:{},...e.unit?{unit:e.unit}:{},forms:[{op:"readproperty",href:e.href??"/","modbus:unitID":Number(e["modbus:unitID"])??1,"modbus:address":Number(e["modbus:address"]),"modbus:quantity":Number(e["modbus:quantity"])??1,...e["modbus:type"]?{"modbus:type":e["modbus:type"]}:{},"modbus:zeroBasedAddressing":!!e["modbus:zeroBasedAddressing"],"modbus:entity":e["modbus:entity"],...e["modbus:pollingTime"]?{"modbus:pollingTime":e["modbus:pollingTime"]}:{},...e["modbus:function"]?{"modbus:function":e["modbus:function"]}:{},"modbus:mostSignificantByte":!!e["modbus:mostSignificantByte"],"modbus:mostSignificantWord":!!e["modbus:mostSignificantWord"],...e["modbus:timeout"]?{"modbus:timeout":e["modbus:timeout"]}:{}}]}),oce=e=>e.reduce((t,r)=>{if(!r.name||r.name.trim()==="")throw new Error("Error on CSV file: Row name is required");if(!r["modbus:address"]||r["modbus:address"].trim()==="")throw new Error(`Error on CSV file: "modbus:address" value is required for row: "${r.name}"`);if(!r["modbus:entity"]||r["modbus:entity"].trim()==="")throw new Error(`Error on CSV file: "modbus:entity" value is required for row: "${r.name}"`);return t[r.name]=ice(r),t},{}),ace=Me.forwardRef((e,t)=>{const r=Me.useContext(An),[n,i]=lt.useState(()=>!1),[o,a]=lt.useState("TD"),[s,l]=lt.useState({}),[u,f]=lt.useState(""),[c,h]=lt.useState("Modbus TCP"),m=lt.useRef(null);Me.useImperativeHandle(t,()=>({openModal:()=>g(),close:()=>_()}));const g=()=>{i(!0)},_=()=>{f(""),h("Modbus TCP"),l({}),i(!1)},p=sce(E=>{a(E.target.value)},o,c,h,u,f,m,l);return n?Ml.createPortal(pe.jsx(Ll,{onCancel:_,onSubmit:()=>{let E=lce(o,s),y={};y[E.title]=E,r.updateLinkedTd(void 0),r.addLinkedTd(y),r.updateOfflineTD(JSON.stringify(E,null,2)),_()},children:p,submitText:o==="TD"?"Create TD":"Create TM",title:"Create a New TD/TM",description:"To quickly create a basis for your new Thing Description/Thing Model just fill out this little template and we'll get you going."}),document.getElementById("modal-root")):null}),sce=(e,t,r,n,i,o,a,s)=>{const l=c=>{const h=c.target.files[0];if(h){o(h.name);const m=new FileReader;m.onload=g=>{const _=g.target.result,v=nce(_,!0,",");let p={};try{if(p=oce(v),Object.keys(p).length===0)throw new Error("No valid properties found in the CSV file.")}catch(E){alert(E.message)}s(p)},m.onerror=g=>{alert("Reading file:",g.target.error)},m.readAsText(h)}},u=()=>{a.current&&a.current.click()},f=()=>{const c="name,title,description,type,minimum,maximum,unit,href,modbus:unitID,modbus:address,modbus:quantity,modbus:type,modbus:zeroBasedAddressing,modbus:entity,modbus:pollingTime,modbus:function,modbus:mostSignificantByte,modbus:mostSignificantWord,modbus:timeout",h=new Blob([c],{type:"text/csv;charset=utf-8;"}),m=URL.createObjectURL(h),g=document.createElement("a");g.href=m,g.setAttribute("download","modbus_tcp_properties_template.csv"),document.body.appendChild(g),g.click(),document.body.removeChild(g)};return pe.jsxs(pe.Fragment,{children:[pe.jsx("label",{htmlFor:"type",className:"pl-2 text-sm font-medium text-gray-400",children:"Type:"}),pe.jsxs("div",{className:"relative",children:[pe.jsxs("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:"type",onChange:e,value:t,children:[pe.jsx("option",{value:"TD",children:"Thing Description"}),pe.jsx("option",{value:"TM",children:"Thing Model"})]}),pe.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:pe.jsx(rf,{color:"#cacaca"})})]}),h1("ID","urn:thing-id","thing-id","url","autoFocus"),h1("Title","Thing Title","thing-title","text"),h1("Base","http://www.example.com/thing-path","thing-base","url"),pe.jsx("label",{htmlFor:"thing-description",className:"pl-2 text-sm font-medium text-gray-400",children:"Description:"}),pe.jsx("textarea",{id:"thing-description",rows:"5",className:"w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"A short description about this new Thing..."}),pe.jsx("label",{htmlFor:"thing-security",className:"pl-2 text-sm font-medium text-gray-400",children:"Security:"}),pe.jsxs("div",{className:"relative mb-8",children:[pe.jsxs("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:"thing-security",children:[pe.jsx("option",{children:"nosec"}),pe.jsx("option",{children:"basic"}),pe.jsx("option",{children:"digest"}),pe.jsx("option",{children:"bearer"}),pe.jsx("option",{children:"psk"}),pe.jsx("option",{children:"oauth2"}),pe.jsx("option",{children:"apikey"})]}),pe.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:pe.jsx(rf,{color:"#cacaca"})})]}),pe.jsx("div",{className:"pt-2",children:pe.jsx("label",{htmlFor:"submit-csv",className:"pl-2 text-sm font-medium text-gray-400",children:"Add properties in CSV format:"})}),pe.jsxs("div",{className:"flex justify-between rounded border-2 border-gray-600",children:[pe.jsxs("div",{className:"flex justify-between",children:[pe.jsxs("div",{className:"flex items-center p-2",children:[pe.jsx("label",{htmlFor:"protocol-option",className:"pl-2 pr-2 text-lg text-gray-400",children:"Protocol:"}),pe.jsxs("div",{className:"relative",children:[pe.jsxs("select",{id:"protocol-option",className:"block appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-2 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",value:r,onChange:c=>n(c.target.value),children:[pe.jsx("option",{children:"Modbus TCP"}),pe.jsx("option",{disabled:!0,children:"More protocols will be supported in the future"})]}),pe.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:pe.jsx(rf,{color:"#cacaca"})})]})]}),pe.jsx("div",{className:"flex items-center",children:pe.jsx("button",{id:"download-template",className:"rounded border-2 border-gray-600 bg-blue-500 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none",onClick:f,children:"Download CSV Template"})})]}),pe.jsxs("div",{className:"ml-2 mr-2 flex items-center",children:[pe.jsx("input",{type:"file",accept:".csv",ref:a,onChange:l,style:{display:"none"}}),pe.jsx("button",{id:"submit-csv",className:"rounded border-2 border-gray-600 bg-blue-500 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none",onClick:u,children:"Load a CSV File"}),pe.jsx("div",{className:"",children:pe.jsx("p",{className:"pl-2",children:i||"No file selected"})})]})]})]})},h1=(e,t,r,n,i)=>pe.jsxs("div",{className:"py-1",children:[pe.jsxs("label",{htmlFor:r,className:"pl-2 text-sm font-medium text-gray-400",children:[e,":"]}),pe.jsx("input",{name:r,id:r,className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:t,type:n,autoFocus:i==="autoFocus"})]},r),lce=(e,t)=>{let r=document.getElementById("thing-id").value,n=document.getElementById("thing-title").value,i=document.getElementById("thing-base").value,o=document.getElementById("thing-description").value,a=document.getElementById("thing-security").value;var s={};s["@context"]="https://www.w3.org/2019/wot/td/v1",s.title=n!==""?n:"ediTDor Thing",e==="TM"&&(s["@type"]="tm:ThingModel"),r!==""&&(s.id=r!==""?r:"urn:editdor-thing-id"),i!==""&&(s.base=i!==""?i:"/"),o!==""&&(s.description=o);let l={};return l[`${a}_sc`]={scheme:a},s.securityDefinitions=l,s.security=`${a}_sc`,s.properties=t,s.actions={},s.events={},s},uce=Me.forwardRef((e,t)=>{const[r,n]=lt.useState(!1),[i,o]=lt.useState("");Me.useImperativeHandle(t,()=>({openModal:()=>a(),close:()=>s()}));const a=()=>{n(!0),o(uH())},s=()=>{n(!1)};let l=pe.jsxs(pe.Fragment,{children:[pe.jsx("label",{className:"pl-2 text-sm font-medium text-gray-400",children:"Target URL:"}),pe.jsx("input",{type:"text",name:"settings-target-url-field",id:"settings-target-url-field",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",value:i,onChange:u=>o(u.target.value),placeholder:"http://localhost:8080/"}),pe.jsx("p",{className:"pl-2 text-sm text-gray-400",children:"The target url should point to a server that implements the Discovery Specifications's Things API. If a valid target url is provided, the ediTDor automatically uses it to save your changes. Empty this field to simply save files to disk."})]});return r?Ml.createPortal(pe.jsx(Ll,{hasSubmit:!0,onCancel:s,cancelText:"Cancel",submitText:"Save Changes",onSubmit:()=>{Yue(i),s()},children:l,title:"Settings",description:"Change the ediTDors configuration to your needs. More configuration options are yet to come..."}),document.getElementById("modal-root")):null});var cH={},iN=class fH{constructor(t,r=new Map,n=0){this.prefix=t,this._existing=r,this.counter=n}clone(){const{prefix:t,_existing:r,counter:n}=this;return new fH(t,new Map(r),n)}getId(t){const r=t&&this._existing.get(t);if(r)return r;const n=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,n),n}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}};(function(e,t){if(e.setImmediate)return;var r=1,n={},i=!1,o=e.document,a;function s(E){typeof E!="function"&&(E=new Function(""+E));for(var y=new Array(arguments.length-1),S=0;S<y.length;S++)y[S]=arguments[S+1];var $={callback:E,args:y};return n[r]=$,a(r),r++}function l(E){delete n[E]}function u(E){var y=E.callback,S=E.args;switch(S.length){case 0:y();break;case 1:y(S[0]);break;case 2:y(S[0],S[1]);break;case 3:y(S[0],S[1],S[2]);break;default:y.apply(t,S);break}}function f(E){if(i)setTimeout(f,0,E);else{var y=n[E];if(y){i=!0;try{u(y)}finally{l(E),i=!1}}}}function c(){a=function(E){process.nextTick(function(){f(E)})}}function h(){if(e.postMessage&&!e.importScripts){var E=!0,y=e.onmessage;return e.onmessage=function(){E=!1},e.postMessage("","*"),e.onmessage=y,E}}function m(){var E="setImmediate$"+Math.random()+"$",y=function(S){S.source===e&&typeof S.data=="string"&&S.data.indexOf(E)===0&&f(+S.data.slice(E.length))};e.addEventListener?e.addEventListener("message",y,!1):e.attachEvent("onmessage",y),a=function(S){e.postMessage(E+S,"*")}}function g(){var E=new MessageChannel;E.port1.onmessage=function(y){var S=y.data;f(S)},a=function(y){E.port2.postMessage(y)}}function _(){var E=o.documentElement;a=function(y){var S=o.createElement("script");S.onreadystatechange=function(){f(y),S.onreadystatechange=null,E.removeChild(S),S=null},E.appendChild(S)}}function v(){a=function(E){setTimeout(f,0,E)}}var p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,{}.toString.call(e.process)==="[object process]"?c():h()?m():e.MessageChannel?g():o&&"onreadystatechange"in o.createElement("script")?_():v(),p.setImmediate=s,p.clearImmediate=l})(typeof self>"u"?$a:self);/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const p1=self.crypto||self.msCrypto;var PE=class{constructor(t){if(!(p1&&p1.subtle))throw new Error("crypto.subtle not found.");if(t==="sha256")this.algorithm={name:"SHA-256"};else if(t==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${t}".`);this._content=""}update(t){this._content+=t}async digest(){const t=new TextEncoder().encode(this._content),r=new Uint8Array(await p1.subtle.digest(this.algorithm,t));let n="";for(let i=0;i<r.length;++i)n+=r[i].toString(16).padStart(2,"0");return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var dH=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let r=0;r<t.length;++r)this.dir.set(t[r],!0)}hasNext(){return!this.done}next(){const{current:t,dir:r}=this,n=t.slice();let i=null,o=0;const a=t.length;for(let s=0;s<a;++s){const l=t[s],u=r.get(l);(i===null||l>i)&&(u&&s>0&&l>t[s-1]||!u&&s<a-1&&l>t[s+1])&&(i=l,o=s)}if(i===null)this.done=!0;else{const s=r.get(i)?o-1:o+1;t[o]=t[s],t[s]=i;for(const l of t)l>i&&r.set(l,!r.get(l))}return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const cce="http://www.w3.org/1999/02/22-rdf-syntax-ns#",m1=cce+"langString",g1="http://www.w3.org/2001/XMLSchema#string",za="NamedNode",Tc="BlankNode",Pw="Literal",CM="DefaultGraph",eh={};(()=>{const e="(?:<([^:]+:[^>]*)>)",r="A-Za-z-----------"+"_",n=r+"0-9---",o="(_:(?:["+r+"0-9])(?:(?:["+n+".])*(?:["+n+"]))?)",a='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',s="(?:\\^\\^"+e+")",u="(?:"+a+"(?:"+s+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",f="[ \\t]+",c="[ \\t]*",h="(?:"+e+"|"+o+")"+f,m=e+f,g="(?:"+e+"|"+o+"|"+u+")"+c,_="(?:\\.|(?:(?:"+e+"|"+o+")"+c+"\\.))";eh.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,eh.empty=new RegExp("^"+c+"$"),eh.quad=new RegExp("^"+c+h+m+g+_+c+"$")})();var oN=class xw{static parse(t){const r=[],n={},i=t.split(eh.eoln);let o=0;for(const a of i){if(o++,eh.empty.test(a))continue;const s=a.match(eh.quad);if(s===null)throw new Error("N-Quads parse error on line "+o+".");const l={subject:null,predicate:null,object:null,graph:null};if(s[1]!==void 0?l.subject={termType:za,value:s[1]}:l.subject={termType:Tc,value:s[2]},l.predicate={termType:za,value:s[3]},s[4]!==void 0?l.object={termType:za,value:s[4]}:s[5]!==void 0?l.object={termType:Tc,value:s[5]}:(l.object={termType:Pw,value:void 0,datatype:{termType:za}},s[7]!==void 0?l.object.datatype.value=s[7]:s[8]!==void 0?(l.object.datatype.value=m1,l.object.language=s[8]):l.object.datatype.value=g1,l.object.value=mce(s[6])),s[9]!==void 0?l.graph={termType:za,value:s[9]}:s[10]!==void 0?l.graph={termType:Tc,value:s[10]}:l.graph={termType:CM,value:""},!(l.graph.value in n))n[l.graph.value]=[l],r.push(l);else{let u=!0;const f=n[l.graph.value];for(const c of f)if(fce(c,l)){u=!1;break}u&&(f.push(l),r.push(l))}}return r}static serialize(t){Array.isArray(t)||(t=xw.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(xw.serializeQuad(n));return r.sort().join("")}static serializeQuadComponents(t,r,n,i){let o="";return t.termType===za?o+=`<${t.value}>`:o+=`${t.value}`,o+=` <${r.value}> `,n.termType===za?o+=`<${n.value}>`:n.termType===Tc?o+=n.value:(o+=`"${hce(n.value)}"`,n.datatype.value===m1?n.language&&(o+=`@${n.language}`):n.datatype.value!==g1&&(o+=`^^<${n.datatype.value}>`)),i.termType===za?o+=` <${i.value}>`:i.termType===Tc&&(o+=` ${i.value}`),o+=` .
`,o}static serializeQuad(t){return xw.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(t){const r=[],n={"blank node":Tc,IRI:za,literal:Pw};for(const i in t)t[i].forEach(a=>{const s={};for(const l in a){const u=a[l],f={termType:n[u.type],value:u.value};f.termType===Pw&&(f.datatype={termType:za},"datatype"in u&&(f.datatype.value=u.datatype),"language"in u?("datatype"in u||(f.datatype.value=m1),f.language=u.language):"datatype"in u||(f.datatype.value=g1)),s[l]=f}i==="@default"?s.graph={termType:CM,value:""}:s.graph={termType:i.startsWith("_:")?Tc:za,value:i},r.push(s)});return r}};function fce(e,t){return!(e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType)||!(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value)?!1:e.object.termType!==Pw?!0:e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value}const dce=/["\\\n\r]/g;function hce(e){return e.replace(dce,function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const pce=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function mce(e){return e.replace(pce,function(t,r,n,i){if(r)switch(r){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(i)throw new Error("Unsupported U escape")})}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const kM=iN,gce=PE,vce=dH,jM=oN;var hH=class{constructor({createMessageDigest:t=()=>new gce("sha256"),canonicalIdMap:r=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new kM("_:c14n",r),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}async main(t){this.deepIterations=new Map,this.quads=t;for(const l of t)this._addBlankNodeQuadInfo({quad:l,component:l.subject}),this._addBlankNodeQuadInfo({quad:l,component:l.object}),this._addBlankNodeQuadInfo({quad:l,component:l.graph});const r=new Map,n=[...this.blankNodeInfo.keys()];let i=0;for(const l of n)++i%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:l,hashToBlankNodes:r});const o=[...r.keys()].sort(),a=[];for(const l of o){const u=r.get(l);if(u.length>1){a.push(u);continue}const f=u[0];this.canonicalIssuer.getId(f)}for(const l of a){const u=[];for(const f of l){if(this.canonicalIssuer.hasId(f))continue;const c=new kM("_:b");c.getId(f);const h=await this.hashNDegreeQuads(f,c);u.push(h)}u.sort(yce);for(const f of u){const c=f.issuer.getOldIds();for(const h of c)this.canonicalIssuer.getId(h)}}const s=[];for(const l of this.quads){const u=jM.serializeQuadComponents(this._componentWithCanonicalId(l.subject),l.predicate,this._componentWithCanonicalId(l.object),this._componentWithCanonicalId(l.graph));s.push(u)}return s.sort(),s.join("")}async hashFirstDegreeQuads(t){const r=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const a of i){const s={subject:null,predicate:a.predicate,object:null,graph:null};s.subject=this.modifyFirstDegreeComponent(t,a.subject,"subject"),s.object=this.modifyFirstDegreeComponent(t,a.object,"object"),s.graph=this.modifyFirstDegreeComponent(t,a.graph,"graph"),r.push(jM.serializeQuad(s))}r.sort();const o=this.createMessageDigest();for(const a of r)o.update(a);return n.hash=await o.digest(),n.hash}async hashRelatedBlankNode(t,r,n,i){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):n.hasId(t)?o=n.getId(t):o=this.blankNodeInfo.get(t).hash;const a=this.createMessageDigest();return a.update(i),i!=="g"&&a.update(this.getRelatedPredicate(r)),a.update(o),a.digest()}async hashNDegreeQuads(t,r){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const i=this.createMessageDigest(),o=await this.createHashToRelated(t,r),a=[...o.keys()].sort();for(const s of a){i.update(s);let l="",u;const f=new vce(o.get(s));let c=0;for(;f.hasNext();){const h=f.next();++c%3===0&&await this._yield();let m=r.clone(),g="";const _=[];let v=!1;for(const p of h)if(this.canonicalIssuer.hasId(p)?g+=this.canonicalIssuer.getId(p):(m.hasId(p)||_.push(p),g+=m.getId(p)),l.length!==0&&g>l){v=!0;break}if(!v){for(const p of _){const E=await this.hashNDegreeQuads(p,m);if(g+=m.getId(p),g+=`<${E.hash}>`,m=E.issuer,l.length!==0&&g>l){v=!0;break}}v||(l.length===0||g<l)&&(l=g,u=m)}}i.update(l),r=u}return{hash:await i.digest(),issuer:r}}modifyFirstDegreeComponent(t,r){return r.termType!=="BlankNode"?r:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}async createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;let o=0;for(const a of i)++o%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:a,component:a.subject,position:"s",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:a,component:a.object,position:"o",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:a,component:a.graph,position:"g",id:t,issuer:r,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:t,hashToBlankNodes:r}){const n=await this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:r}){if(r.termType!=="BlankNode")return;const n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash({quad:t,component:r,position:n,id:i,issuer:o,hashToRelated:a}){if(!(r.termType==="BlankNode"&&r.value!==i))return;const s=r.value,l=await this.hashRelatedBlankNode(s,t,o,n),u=a.get(l);u?u.push(s):a.set(l,[s])}_componentWithCanonicalId(t){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}async _yield(){return new Promise(t=>setImmediate(t))}};function yce(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const wce=PE,bce=hH;var _ce=class extends bce{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new wce("sha1")}modifyFirstDegreeComponent(t,r,n){return r.termType!=="BlankNode"?r:n==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}async createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;let o=0;for(const a of i){let s,l;if(a.subject.termType==="BlankNode"&&a.subject.value!==t)l=a.subject.value,s="p";else if(a.object.termType==="BlankNode"&&a.object.value!==t)l=a.object.value,s="r";else continue;++o%100===0&&await this._yield();const u=await this.hashRelatedBlankNode(l,a,r,s),f=n.get(u);f?f.push(l):n.set(u,[l])}return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const DM=iN,Ece=PE,Sce=dH,MM=oN;var pH=class{constructor({createMessageDigest:t=()=>new Ece("sha256"),canonicalIdMap:r=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new DM("_:c14n",r),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(const s of t)this._addBlankNodeQuadInfo({quad:s,component:s.subject}),this._addBlankNodeQuadInfo({quad:s,component:s.object}),this._addBlankNodeQuadInfo({quad:s,component:s.graph});const r=new Map,n=[...this.blankNodeInfo.keys()];for(const s of n)this._hashAndTrackBlankNode({id:s,hashToBlankNodes:r});const i=[...r.keys()].sort(),o=[];for(const s of i){const l=r.get(s);if(l.length>1){o.push(l);continue}const u=l[0];this.canonicalIssuer.getId(u)}for(const s of o){const l=[];for(const u of s){if(this.canonicalIssuer.hasId(u))continue;const f=new DM("_:b");f.getId(u);const c=this.hashNDegreeQuads(u,f);l.push(c)}l.sort($ce);for(const u of l){const f=u.issuer.getOldIds();for(const c of f)this.canonicalIssuer.getId(c)}}const a=[];for(const s of this.quads){const l=MM.serializeQuadComponents(this._componentWithCanonicalId({component:s.subject}),s.predicate,this._componentWithCanonicalId({component:s.object}),this._componentWithCanonicalId({component:s.graph}));a.push(l)}return a.sort(),a.join("")}hashFirstDegreeQuads(t){const r=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const a of i){const s={subject:null,predicate:a.predicate,object:null,graph:null};s.subject=this.modifyFirstDegreeComponent(t,a.subject,"subject"),s.object=this.modifyFirstDegreeComponent(t,a.object,"object"),s.graph=this.modifyFirstDegreeComponent(t,a.graph,"graph"),r.push(MM.serializeQuad(s))}r.sort();const o=this.createMessageDigest();for(const a of r)o.update(a);return n.hash=o.digest(),n.hash}hashRelatedBlankNode(t,r,n,i){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):n.hasId(t)?o=n.getId(t):o=this.blankNodeInfo.get(t).hash;const a=this.createMessageDigest();return a.update(i),i!=="g"&&a.update(this.getRelatedPredicate(r)),a.update(o),a.digest()}hashNDegreeQuads(t,r){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const i=this.createMessageDigest(),o=this.createHashToRelated(t,r),a=[...o.keys()].sort();for(const s of a){i.update(s);let l="",u;const f=new Sce(o.get(s));for(;f.hasNext();){const c=f.next();let h=r.clone(),m="";const g=[];let _=!1;for(const v of c)if(this.canonicalIssuer.hasId(v)?m+=this.canonicalIssuer.getId(v):(h.hasId(v)||g.push(v),m+=h.getId(v)),l.length!==0&&m>l){_=!0;break}if(!_){for(const v of g){const p=this.hashNDegreeQuads(v,h);if(m+=h.getId(v),m+=`<${p.hash}>`,h=p.issuer,l.length!==0&&m>l){_=!0;break}}_||(l.length===0||m<l)&&(l=m,u=h)}}i.update(l),r=u}return{hash:i.digest(),issuer:r}}modifyFirstDegreeComponent(t,r){return r.termType!=="BlankNode"?r:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const o of i)this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:t,issuer:r,hashToRelated:n});return n}_hashAndTrackBlankNode({id:t,hashToBlankNodes:r}){const n=this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:r}){if(r.termType!=="BlankNode")return;const n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:r,position:n,id:i,issuer:o,hashToRelated:a}){if(!(r.termType==="BlankNode"&&r.value!==i))return;const s=r.value,l=this.hashRelatedBlankNode(s,t,o,n),u=a.get(l);u?u.push(s):a.set(l,[s])}_componentWithCanonicalId({component:t}){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}};function $ce(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const Tce=PE,Ace=pH;var Pce=class extends Ace{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new Tce("sha1")}modifyFirstDegreeComponent(t,r,n){return r.termType!=="BlankNode"?r:n==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const o of i){let a,s;if(o.subject.termType==="BlankNode"&&o.subject.value!==t)s=o.subject.value,a="p";else if(o.object.termType==="BlankNode"&&o.object.value!==t)s=o.object.value,a="r";else continue;const l=this.hashRelatedBlankNode(s,o,r,a),u=n.get(l);u?u.push(s):n.set(l,[s])}return n}};const xce={},Oce=Object.freeze(Object.defineProperty({__proto__:null,default:xce},Symbol.toStringTag,{value:"Module"})),Rce=Lx(Oce);(function(e){const t=hH,r=_ce,n=pH,i=Pce;let o;try{o=Rce}catch{}function a(s){return Array.isArray(s)?s:e.NQuads.legacyDatasetToQuads(s)}e.NQuads=oN,e.IdentifierIssuer=iN,e._rdfCanonizeNative=function(s){return s&&(o=s),o},e.canonize=async function(s,l){const u=a(s);if(l.useNative){if(!o)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((f,c)=>o.canonize(u,l,(h,m)=>h?c(h):f(m)))}if(l.algorithm==="URDNA2015")return new t(l).main(u);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new r(l).main(u)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},e._canonizeSync=function(s,l){const u=a(s);if(l.useNative){if(!o)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return o.canonizeSync(u,l)}if(l.algorithm==="URDNA2015")return new n(l).main(u);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new i(l).main(u)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(cH);var aN=cH;const Ia={};var Zo=Ia;Ia.isArray=Array.isArray;Ia.isBoolean=e=>typeof e=="boolean"||Object.prototype.toString.call(e)==="[object Boolean]";Ia.isDouble=e=>Ia.isNumber(e)&&(String(e).indexOf(".")!==-1||Math.abs(e)>=1e21);Ia.isEmptyObject=e=>Ia.isObject(e)&&Object.keys(e).length===0;Ia.isNumber=e=>typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]";Ia.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e);Ia.isObject=e=>Object.prototype.toString.call(e)==="[object Object]";Ia.isString=e=>typeof e=="string"||Object.prototype.toString.call(e)==="[object String]";Ia.isUndefined=e=>typeof e>"u";const Sf=Zo,kl={};var Ul=kl;kl.isSubject=e=>Sf.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)?Object.keys(e).length>1||!("@id"in e):!1;kl.isSubjectReference=e=>Sf.isObject(e)&&Object.keys(e).length===1&&"@id"in e;kl.isValue=e=>Sf.isObject(e)&&"@value"in e;kl.isList=e=>Sf.isObject(e)&&"@list"in e;kl.isGraph=e=>Sf.isObject(e)&&"@graph"in e&&Object.keys(e).filter(t=>t!=="@id"&&t!=="@index").length===1;kl.isSimpleGraph=e=>kl.isGraph(e)&&!("@id"in e);kl.isBlankNode=e=>{if(Sf.isObject(e)){if("@id"in e){const t=e["@id"];return!Sf.isString(t)||t.indexOf("_:")===0}return Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}return!1};var ka=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",r="jsonld.Error",n={}){super(t),this.name=r,this.message=t,this.details=n}};const Gm=Ul,Mi=Zo,mH=aN.IdentifierIssuer,Ice=ka,Nce=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,Cce=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,kce=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,jce=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,Dce=/^@[a-zA-Z]+$/,LM={headers:{accept:"application/ld+json, application/json"}},Hr={};var ja=Hr;Hr.IdentifierIssuer=mH;Hr.REGEX_BCP47=Nce;Hr.REGEX_KEYWORD=Dce;Hr.clone=function(e){if(e&&typeof e=="object"){let t;if(Mi.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=Hr.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,Hr.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(Hr.clone(r))}else if(Mi.isObject(e)){t={};for(const r in e)t[r]=Hr.clone(e[r])}else t=e.toString();return t}return e};Hr.asArray=function(e){return Array.isArray(e)?e:[e]};Hr.buildHeaders=(e={})=>{if(Object.keys(e).some(r=>r.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+LM.headers.accept+'" is supported.');return Object.assign({Accept:LM.headers.accept},e)};Hr.parseLinkHeader=e=>{const t={},r=e.match(Cce);for(let n=0;n<r.length;++n){let i=r[n].match(kce);if(!i)continue;const o={target:i[1]},a=i[2];for(;i=jce.exec(a);)o[i[1]]=i[2]===void 0?i[3]:i[2];const s=o.rel||"";Array.isArray(t[s])?t[s].push(o):t.hasOwnProperty(s)?t[s]=[t[s],o]:t[s]=o}return t};Hr.validateTypeValue=(e,t)=>{if(!Mi.isString(e)&&!(Mi.isArray(e)&&e.every(r=>Mi.isString(r)))){if(t&&Mi.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&Hr.asArray(e["@default"]).every(r=>Mi.isString(r)))return}throw new Ice('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}};Hr.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!Mi.isArray(r)||r.length>0}return!1};Hr.hasValue=(e,t,r)=>{if(Hr.hasProperty(e,t)){let n=e[t];const i=Gm.isList(n);if(Mi.isArray(n)||i){i&&(n=n["@list"]);for(let o=0;o<n.length;++o)if(Hr.compareValues(r,n[o]))return!0}else if(!Mi.isArray(r))return Hr.compareValues(r,n)}return!1};Hr.addValue=(e,t,r,n)=>{if(n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(Mi.isArray(r)){r.length===0&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(let i=0;i<r.length;++i)Hr.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){const i=!n.allowDuplicate&&Hr.hasValue(e,t,r);!Mi.isArray(e[t])&&(!i||n.propertyIsArray)&&(e[t]=[e[t]]),i||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r};Hr.getValues=(e,t)=>[].concat(e[t]||[]);Hr.removeProperty=(e,t)=>{delete e[t]};Hr.removeValue=(e,t,r,n)=>{n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1);const i=Hr.getValues(e,t).filter(o=>!Hr.compareValues(o,r));i.length===0?Hr.removeProperty(e,t):i.length===1&&!n.propertyIsArray?e[t]=i[0]:e[t]=i};Hr.relabelBlankNodes=(e,t)=>{t=t||{};const r=t.issuer||new mH("_:b");return Ow(r,e)};Hr.compareValues=(e,t)=>e===t||Gm.isValue(e)&&Gm.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]?!0:Mi.isObject(e)&&"@id"in e&&Mi.isObject(t)&&"@id"in t?e["@id"]===t["@id"]:!1;Hr.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1;function Ow(e,t){if(Mi.isArray(t))for(let r=0;r<t.length;++r)t[r]=Ow(e,t[r]);else if(Gm.isList(t))t["@list"]=Ow(e,t["@list"]);else if(Mi.isObject(t)){Gm.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const r=Object.keys(t).sort();for(let n=0;n<r.length;++n){const i=r[n];i!=="@id"&&(t[i]=Ow(e,t[i]))}}return t}const Ac="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Vv="http://www.w3.org/2001/XMLSchema#";var sN={LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF_LIST:Ac+"List",RDF_FIRST:Ac+"first",RDF_REST:Ac+"rest",RDF_NIL:Ac+"nil",RDF_TYPE:Ac+"type",RDF_JSON_LITERAL:Ac+"JSON",RDF_LANGSTRING:Ac+"langString",XSD_BOOLEAN:Vv+"boolean",XSD_DOUBLE:Vv+"double",XSD_INTEGER:Vv+"integer",XSD_STRING:Vv+"string"},v1,FM;function gH(){return FM||(FM=1,v1=class{constructor(){this._requests={}}wrapLoader(t){const r=this;return r._loader=t,function(){return r.add.apply(r,arguments)}}async add(t){let r=this._requests[t];if(r)return Promise.resolve(r);r=this._requests[t]=this._loader(t);try{return await r}finally{delete this._requests[t]}}}),v1}const xE=Zo,Li={};var lc=Li;Li.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};Li.parse=(e,t)=>{const r={},n=Li.parsers[t||"full"],i=n.regex.exec(e);let o=n.keys.length;for(;o--;)r[n.keys[o]]=i[o]===void 0?null:i[o];return(r.scheme==="https"&&r.port==="443"||r.scheme==="http"&&r.port==="80")&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=Li.removeDotSegments(r.path),r};Li.prependBase=(e,t)=>{if(e===null||Li.isAbsolute(t))return t;(!e||xE.isString(e))&&(e=Li.parse(e||""));const r=Li.parse(t),n={protocol:e.protocol||""};if(r.authority!==null)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,r.path==="")n.path=e.path,r.query!==null?n.query=r.query:n.query=e.query;else{if(r.path.indexOf("/")===0)n.path=r.path;else{let o=e.path;o=o.substr(0,o.lastIndexOf("/")+1),(o.length>0||e.authority)&&o.substr(-1)!=="/"&&(o+="/"),o+=r.path,n.path=o}n.query=r.query}r.path!==""&&(n.path=Li.removeDotSegments(n.path));let i=n.protocol;return n.authority!==null&&(i+="//"+n.authority),i+=n.path,n.query!==null&&(i+="?"+n.query),r.fragment!==null&&(i+="#"+r.fragment),i===""&&(i="./"),i};Li.removeBase=(e,t)=>{if(e===null)return t;(!e||xE.isString(e))&&(e=Li.parse(e||""));let r="";if(e.href!==""?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),t.indexOf(r)!==0)return t;const n=Li.parse(t.substr(r.length)),i=e.normalizedPath.split("/"),o=n.normalizedPath.split("/"),a=n.fragment||n.query?0:1;for(;i.length>0&&o.length>a&&i[0]===o[0];)i.shift(),o.shift();let s="";if(i.length>0){i.pop();for(let l=0;l<i.length;++l)s+="../"}return s+=o.join("/"),n.query!==null&&(s+="?"+n.query),n.fragment!==null&&(s+="#"+n.fragment),s===""&&(s="./"),s};Li.removeDotSegments=e=>{if(e.length===0)return"";const t=e.split("/"),r=[];for(;t.length>0;){const n=t.shift(),i=t.length===0;if(n==="."){i&&r.push("");continue}if(n===".."){r.pop(),i&&r.push("");continue}r.push(n)}return e[0]==="/"&&r.length>0&&r[0]!==""&&r.unshift(""),r.length===1&&r[0]===""?"/":r.join("/")};const Mce=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;Li.isAbsolute=e=>xE.isString(e)&&Mce.test(e);Li.isRelative=e=>xE.isString(e);const{parseLinkHeader:Lce,buildHeaders:Fce}=ja,{LINK_HEADER_CONTEXT:Bce}=sN,fp=ka,Uce=gH(),{prependBase:zce}=lc,qce=/(^|(\r\n))link:/i;var Vce=({secure:e,headers:t={},xhr:r}={headers:{}})=>{return t=Fce(t),new Uce().wrapLoader(i);async function i(o){if(o.indexOf("http:")!==0&&o.indexOf("https:")!==0)throw new fp('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:o});if(e&&o.indexOf("https")!==0)throw new fp(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:o});let a;try{a=await Hce(r,o,t)}catch(c){throw new fp("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:o,cause:c})}if(a.status>=400)throw new fp("URL could not be dereferenced: "+a.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:o,httpStatusCode:a.status});let s={contextUrl:null,documentUrl:o,document:a.response},l=null;const u=a.getResponseHeader("Content-Type");let f;if(qce.test(a.getAllResponseHeaders())&&(f=a.getResponseHeader("Link")),f&&u!=="application/ld+json"){const c=Lce(f),h=c[Bce];if(Array.isArray(h))throw new fp("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:o});h&&(s.contextUrl=h.target),l=c.alternate,l&&l.type=="application/ld+json"&&!(u||"").match(/^application\/(\w*\+)?json$/)&&(s=await i(zce(o,l.target)))}return s}};function Hce(e,t,r){e=e||XMLHttpRequest;const n=new e;return new Promise((i,o)=>{n.onload=()=>i(n),n.onerror=a=>o(a),n.open("GET",t,!0);for(const a in r)n.setRequestHeader(a,r[a]);n.send()})}const Gce=Vce,lN={};var Wce=lN;lN.setupDocumentLoaders=function(e){typeof XMLHttpRequest<"u"&&(e.documentLoaders.xhr=Gce,e.useDocumentLoader("xhr"))};lN.setupGlobals=function(e){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})};var y1,BM;function Kce(){return BM||(BM=1,y1=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),y1}var Jce=Ur;Ur.Node=$f;Ur.create=Ur;function Ur(e){var t=this;if(t instanceof Ur||(t=new Ur),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Ur.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Ur.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Ur.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Ur.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Xce(this,arguments[e]);return this.length};Ur.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Qce(this,arguments[e]);return this.length};Ur.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Ur.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Ur.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};Ur.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};Ur.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Ur.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Ur.prototype.map=function(e,t){t=t||this;for(var r=new Ur,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};Ur.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Ur,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};Ur.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};Ur.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};Ur.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Ur.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Ur.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Ur;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};Ur.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Ur;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};Ur.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var o=[],n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Yce(this,i,r[n]);return o};Ur.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function Yce(e,t,r){var n=t===e.head?new $f(r,null,t,e):new $f(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function Xce(e,t){e.tail=new $f(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Qce(e,t){e.head=new $f(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function $f(e,t,r,n){if(!(this instanceof $f))return new $f(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Kce()(Ur)}catch{}const Zce=Jce,zc=Symbol("max"),yl=Symbol("length"),ud=Symbol("lengthCalculator"),om=Symbol("allowStale"),Zc=Symbol("maxAge"),ml=Symbol("dispose"),UM=Symbol("noDisposeOnSet"),ai=Symbol("lruList"),Ja=Symbol("cache"),vH=Symbol("updateAgeOnGet"),w1=()=>1;class efe{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[zc]=t.max||1/0;const r=t.length||w1;if(this[ud]=typeof r!="function"?w1:r,this[om]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Zc]=t.maxAge||0,this[ml]=t.dispose,this[UM]=t.noDisposeOnSet||!1,this[vH]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[zc]=t||1/0,dp(this)}get max(){return this[zc]}set allowStale(t){this[om]=!!t}get allowStale(){return this[om]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Zc]=t,dp(this)}get maxAge(){return this[Zc]}set lengthCalculator(t){typeof t!="function"&&(t=w1),t!==this[ud]&&(this[ud]=t,this[yl]=0,this[ai].forEach(r=>{r.length=this[ud](r.value,r.key),this[yl]+=r.length})),dp(this)}get lengthCalculator(){return this[ud]}get length(){return this[yl]}get itemCount(){return this[ai].length}rforEach(t,r){r=r||this;for(let n=this[ai].tail;n!==null;){const i=n.prev;zM(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[ai].head;n!==null;){const i=n.next;zM(this,t,n,r),n=i}}keys(){return this[ai].toArray().map(t=>t.key)}values(){return this[ai].toArray().map(t=>t.value)}reset(){this[ml]&&this[ai]&&this[ai].length&&this[ai].forEach(t=>this[ml](t.key,t.value)),this[Ja]=new Map,this[ai]=new Zce,this[yl]=0}dump(){return this[ai].map(t=>Qb(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[ai]}set(t,r,n){if(n=n||this[Zc],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,o=this[ud](r,t);if(this[Ja].has(t)){if(o>this[zc])return th(this,this[Ja].get(t)),!1;const l=this[Ja].get(t).value;return this[ml]&&(this[UM]||this[ml](t,l.value)),l.now=i,l.maxAge=n,l.value=r,this[yl]+=o-l.length,l.length=o,this.get(t),dp(this),!0}const a=new tfe(t,r,o,i,n);return a.length>this[zc]?(this[ml]&&this[ml](t,r),!1):(this[yl]+=a.length,this[ai].unshift(a),this[Ja].set(t,this[ai].head),dp(this),!0)}has(t){if(!this[Ja].has(t))return!1;const r=this[Ja].get(t).value;return!Qb(this,r)}get(t){return b1(this,t,!0)}peek(t){return b1(this,t,!1)}pop(){const t=this[ai].tail;return t?(th(this,t),t.value):null}del(t){th(this,this[Ja].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const a=o-r;a>0&&this.set(i.k,i.v,a)}}}prune(){this[Ja].forEach((t,r)=>b1(this,r,!1))}}const b1=(e,t,r)=>{const n=e[Ja].get(t);if(n){const i=n.value;if(Qb(e,i)){if(th(e,n),!e[om])return}else r&&(e[vH]&&(n.value.now=Date.now()),e[ai].unshiftNode(n));return i.value}},Qb=(e,t)=>{if(!t||!t.maxAge&&!e[Zc])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Zc]&&r>e[Zc]},dp=e=>{if(e[yl]>e[zc])for(let t=e[ai].tail;e[yl]>e[zc]&&t!==null;){const r=t.prev;th(e,t),t=r}},th=(e,t)=>{if(t){const r=t.value;e[ml]&&e[ml](r.key,r.value),e[yl]-=r.length,e[Ja].delete(r.key),e[ai].removeNode(t)}};class tfe{constructor(t,r,n,i,o){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}}const zM=(e,t,r,n)=>{let i=r.value;Qb(e,i)&&(th(e,r),e[om]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var yH=efe;const rfe=yH,nfe=10;var ife=class{constructor({document:t}){this.document=t,this.cache=new rfe({max:nfe})}getProcessed(t){return this.cache.get(t)}setProcessed(t,r){this.cache.set(t,r)}};const{isArray:gx,isObject:am,isString:Zb}=Zo,{asArray:ofe}=ja,{prependBase:vx}=lc,Mp=ka,qM=ife,VM=10;var afe=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}async resolve({activeCtx:t,context:r,documentLoader:n,base:i,cycles:o=new Set}){r&&am(r)&&r["@context"]&&(r=r["@context"]),r=ofe(r);const a=[];for(const s of r){if(Zb(s)){let f=this._get(s);f||(f=await this._resolveRemoteContext({activeCtx:t,url:s,documentLoader:n,base:i,cycles:o})),gx(f)?a.push(...f):a.push(f);continue}if(s===null){a.push(new qM({document:null}));continue}am(s)||sfe(r);const l=JSON.stringify(s);let u=this._get(l);u||(u=new qM({document:s}),this._cacheResolvedContext({key:l,resolved:u,tag:"static"})),a.push(u)}return a}_get(t){let r=this.perOpCache.get(t);if(!r){const n=this.sharedCache.get(t);n&&(r=n.get("static"),r&&this.perOpCache.set(t,r))}return r}_cacheResolvedContext({key:t,resolved:r,tag:n}){if(this.perOpCache.set(t,r),n!==void 0){let i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(n,r)}return r}async _resolveRemoteContext({activeCtx:t,url:r,documentLoader:n,base:i,cycles:o}){r=vx(i,r);const{context:a,remoteDoc:s}=await this._fetchContext({activeCtx:t,url:r,documentLoader:n,cycles:o});i=s.documentUrl||r,yx({context:a,base:i});const l=await this.resolve({activeCtx:t,context:a,documentLoader:n,base:i,cycles:o});return this._cacheResolvedContext({key:r,resolved:l,tag:s.tag}),l}async _fetchContext({activeCtx:t,url:r,documentLoader:n,cycles:i}){if(i.size>VM)throw new Mp("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:VM});if(i.has(r))throw new Mp("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:r});i.add(r);let o,a;try{a=await n(r),o=a.document||null,Zb(o)&&(o=JSON.parse(o))}catch(s){throw new Mp(`Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. URL: "${r}".`,"jsonld.InvalidUrl",{code:"loading remote context failed",url:r,cause:s})}if(!am(o))throw new Mp(`Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. URL: "${r}".`,"jsonld.InvalidUrl",{code:"invalid remote context",url:r});return"@context"in o?o={"@context":o["@context"]}:o={"@context":{}},a.contextUrl&&(gx(o["@context"])||(o["@context"]=[o["@context"]]),o["@context"].push(a.contextUrl)),{context:o,remoteDoc:a}}};function sfe(e){throw new Mp("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function yx({context:e,base:t}){if(!e)return;const r=e["@context"];if(Zb(r)){e["@context"]=vx(t,r);return}if(gx(r)){for(let n=0;n<r.length;++n){const i=r[n];if(Zb(i)){r[n]=vx(t,i);continue}am(i)&&yx({context:{"@context":i},base:t})}return}if(am(r))for(const n in r)yx({context:r[n],base:t})}var lfe=aN.NQuads;const uN=ka,{isArray:ufe}=Zo,{asArray:wH}=ja,Ho={};var Ig=Ho;Ho.defaultEventHandler=null;Ho.setupEventHandler=({options:e={}})=>{const t=[].concat(e.safe?Ho.safeEventHandler:[],e.eventHandler?wH(e.eventHandler):[],Ho.defaultEventHandler?Ho.defaultEventHandler:[]);return t.length===0?null:t};Ho.handleEvent=({event:e,options:t})=>{bH({event:e,handlers:t.eventHandler})};function bH({event:e,handlers:t}){let r=!0;for(let n=0;r&&n<t.length;++n){r=!1;const i=t[n];if(ufe(i))r=bH({event:e,handlers:i});else if(typeof i=="function")i({event:e,next:()=>{r=!0}});else if(typeof i=="object")e.code in i?i[e.code]({event:e,next:()=>{r=!0}}):r=!0;else throw new uN("Invalid event handler.","jsonld.InvalidEventHandler",{event:e})}return r}const cfe=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);Ho.safeEventHandler=function({event:t,next:r}){if(t.level==="warning"&&cfe.has(t.code))throw new uN("Safe mode validation error.","jsonld.ValidationError",{event:t});r()};Ho.logEventHandler=function({event:t,next:r}){console.log(`EVENT: ${t.message}`,{event:t}),r()};Ho.logWarningEventHandler=function({event:t,next:r}){t.level==="warning"&&console.warn(`WARNING: ${t.message}`,{event:t}),r()};Ho.unhandledEventHandler=function({event:t}){throw new uN("No handler for event.","jsonld.UnhandledEvent",{event:t})};Ho.setDefaultEventHandler=function({eventHandler:e}={}){Ho.defaultEventHandler=e?wH(e):null};const HM=ja,Jt=ka,{isArray:_H,isObject:$u,isString:mo,isUndefined:ffe}=Zo,{isAbsolute:ff,isRelative:dfe,prependBase:sm}=lc,{handleEvent:rh}=Ig,{REGEX_BCP47:hfe,REGEX_KEYWORD:Rw,asArray:EH,compareShortestLeast:pfe}=ja,Hv=new Map,mfe=1e4,mn={};var Ff=mn;mn.process=async({activeCtx:e,localCtx:t,options:r,propagate:n=!0,overrideProtected:i=!1,cycles:o=new Set})=>{if($u(t)&&"@context"in t&&_H(t["@context"])&&(t=t["@context"]),EH(t).length===0)return e;const s=[],l=[({event:h,next:m})=>{s.push(h),m()}];r.eventHandler&&l.push(r.eventHandler);const u=r;r={...r,eventHandler:l};const f=await r.contextResolver.resolve({activeCtx:e,context:t,documentLoader:r.documentLoader,base:r.base});$u(f[0].document)&&typeof f[0].document["@propagate"]=="boolean"&&(n=f[0].document["@propagate"]);let c=e;!n&&!c.previousContext&&(c=c.clone(),c.previousContext=e);for(const h of f){let{document:m}=h;if(e=c,m===null){if(!i&&Object.keys(e.protected).length!==0)throw new Jt("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});c=e=mn.getInitialContext(r).clone();continue}const g=h.getProcessed(e);if(g){if(u.eventHandler)for(const v of g.events)rh({event:v,options:u});c=e=g.context;continue}if($u(m)&&"@context"in m&&(m=m["@context"]),!$u(m))throw new Jt("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:m});c=c.clone();const _=new Map;if("@version"in m){if(m["@version"]!==1.1)throw new Jt("Unsupported JSON-LD version: "+m["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:m});if(e.processingMode&&e.processingMode==="json-ld-1.0")throw new Jt("@version: "+m["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:m});c.processingMode="json-ld-1.1",c["@version"]=m["@version"],_.set("@version",!0)}if(c.processingMode=c.processingMode||e.processingMode,"@base"in m){let v=m["@base"];if(!(v===null||ff(v)))if(dfe(v))v=sm(c["@base"],v);else throw new Jt('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:m});c["@base"]=v,_.set("@base",!0)}if("@vocab"in m){const v=m["@vocab"];if(v===null)delete c["@vocab"];else if(mo(v)){if(!ff(v)&&mn.processingMode(c,1))throw new Jt('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:m});{const p=Bd(c,v,{vocab:!0,base:!0},void 0,void 0,r);ff(p)||r.eventHandler&&rh({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:p}},options:r}),c["@vocab"]=p}}else throw new Jt('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:m});_.set("@vocab",!0)}if("@language"in m){const v=m["@language"];if(v===null)delete c["@language"];else if(mo(v))v.match(hfe)||r.eventHandler&&rh({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:v}},options:r}),c["@language"]=v.toLowerCase();else throw new Jt('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:m});_.set("@language",!0)}if("@direction"in m){const v=m["@direction"];if(e.processingMode==="json-ld-1.0")throw new Jt("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:m});if(v===null)delete c["@direction"];else{if(v!=="ltr"&&v!=="rtl")throw new Jt('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:m});c["@direction"]=v}_.set("@direction",!0)}if("@propagate"in m){const v=m["@propagate"];if(e.processingMode==="json-ld-1.0")throw new Jt("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:m});if(typeof v!="boolean")throw new Jt("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});_.set("@propagate",!0)}if("@import"in m){const v=m["@import"];if(e.processingMode==="json-ld-1.0")throw new Jt("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:m});if(!mo(v))throw new Jt("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const p=await r.contextResolver.resolve({activeCtx:e,context:v,documentLoader:r.documentLoader,base:r.base});if(p.length!==1)throw new Jt("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const E=p[0].getProcessed(e);if(E)m=E;else{const y=p[0].document;if("@import"in y)throw new Jt("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const S in y)m.hasOwnProperty(S)||(m[S]=y[S]);p[0].setProcessed(e,m)}_.set("@import",!0)}_.set("@protected",m["@protected"]||!1);for(const v in m)if(mn.createTermDefinition({activeCtx:c,localCtx:m,term:v,defined:_,options:r,overrideProtected:i}),$u(m[v])&&"@context"in m[v]){const p=m[v]["@context"];let E=!0;if(mo(p)){const y=sm(r.base,p);o.has(y)?E=!1:o.add(y)}if(E)try{await mn.process({activeCtx:c.clone(),localCtx:m[v]["@context"],overrideProtected:!0,options:r,cycles:o})}catch{throw new Jt("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:m[v]["@context"],term:v})}}h.setProcessed(e,{context:c,events:s})}return c};mn.createTermDefinition=({activeCtx:e,localCtx:t,term:r,defined:n,options:i,overrideProtected:o=!1})=>{if(n.has(r)){if(n.get(r))return;throw new Jt("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}n.set(r,!1);let a;if(t.hasOwnProperty(r)&&(a=t[r]),r==="@type"&&$u(a)&&(a["@container"]||"@set")==="@set"&&mn.processingMode(e,1.1)){const m=["@container","@id","@protected"],g=Object.keys(a);if(g.length===0||g.some(_=>!m.includes(_)))throw new Jt("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}else{if(mn.isKeyword(r))throw new Jt("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(r.match(Rw)){i.eventHandler&&rh({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:r}},options:i});return}else if(r==="")throw new Jt("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const s=e.mappings.get(r);e.mappings.has(r)&&e.mappings.delete(r);let l=!1;if((mo(a)||a===null)&&(l=!0,a={"@id":a}),!$u(a))throw new Jt("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const u={};e.mappings.set(r,u),u.reverse=!1;const f=["@container","@id","@language","@reverse","@type"];mn.processingMode(e,1.1)&&f.push("@context","@direction","@index","@nest","@prefix","@protected");for(const m in a)if(!f.includes(m))throw new Jt("Invalid JSON-LD syntax; a term definition must not contain "+m,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const c=r.indexOf(":");if(u._termHasColon=c>0,"@reverse"in a){if("@id"in a)throw new Jt("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in a)throw new Jt("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const m=a["@reverse"];if(!mo(m))throw new Jt("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(m.match(Rw)){i.eventHandler&&rh({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:m}},options:i}),s?e.mappings.set(r,s):e.mappings.delete(r);return}const g=Bd(e,m,{vocab:!0,base:!1},t,n,i);if(!ff(g))throw new Jt("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});u["@id"]=g,u.reverse=!0}else if("@id"in a){let m=a["@id"];if(m&&!mo(m))throw new Jt("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(m===null)u["@id"]=null;else if(!mn.isKeyword(m)&&m.match(Rw)){i.eventHandler&&rh({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:m}},options:i}),s?e.mappings.set(r,s):e.mappings.delete(r);return}else if(m!==r){if(m=Bd(e,m,{vocab:!0,base:!1},t,n,i),!ff(m)&&!mn.isKeyword(m))throw new Jt("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(r.match(/(?::[^:])|\//)){const g=new Map(n).set(r,!0);if(Bd(e,r,{vocab:!0,base:!1},t,g,i)!==m)throw new Jt("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}u["@id"]=m,u._prefix=l&&!u._termHasColon&&m.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in u))if(u._termHasColon){const m=r.substr(0,c);if(t.hasOwnProperty(m)&&mn.createTermDefinition({activeCtx:e,localCtx:t,term:m,defined:n,options:i}),e.mappings.has(m)){const g=r.substr(c+1);u["@id"]=e.mappings.get(m)["@id"]+g}else u["@id"]=r}else if(r==="@type")u["@id"]=r;else{if(!("@vocab"in e))throw new Jt("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});u["@id"]=e["@vocab"]+r}if((a["@protected"]===!0||n.get("@protected")===!0&&a["@protected"]!==!1)&&(e.protected[r]=!0,u.protected=!0),n.set(r,!0),"@type"in a){let m=a["@type"];if(!mo(m))throw new Jt("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(m==="@json"||m==="@none"){if(mn.processingMode(e,1))throw new Jt(`Invalid JSON-LD syntax; an @context @type value must not be "${m}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if(m!=="@id"&&m!=="@vocab"){if(m=Bd(e,m,{vocab:!0,base:!1},t,n,i),!ff(m))throw new Jt("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(m.indexOf("_:")===0)throw new Jt("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}u["@type"]=m}if("@container"in a){const m=mo(a["@container"])?[a["@container"]]:a["@container"]||[],g=["@list","@set","@index","@language"];let _=!0;const v=m.includes("@set");if(mn.processingMode(e,1.1)){if(g.push("@graph","@id","@type"),m.includes("@list")){if(m.length!==1)throw new Jt("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(m.includes("@graph")){if(m.some(p=>p!=="@graph"&&p!=="@id"&&p!=="@index"&&p!=="@set"))throw new Jt("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else _&=m.length<=(v?2:1);if(m.includes("@type")&&(u["@type"]=u["@type"]||"@id",!["@id","@vocab"].includes(u["@type"])))throw new Jt("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else _&=!_H(a["@container"]),_&=m.length<=1;if(_&=m.every(p=>g.includes(p)),_&=!(v&&m.includes("@list")),!_)throw new Jt("Invalid JSON-LD syntax; @context @container value must be one of the following: "+g.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(u.reverse&&!m.every(p=>["@index","@set"].includes(p)))throw new Jt("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});u["@container"]=m}if("@index"in a){if(!("@container"in a)||!u["@container"].includes("@index"))throw new Jt(`Invalid JSON-LD syntax; @index without @index in @container: "${a["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!mo(a["@index"])||a["@index"].indexOf("@")===0)throw new Jt(`Invalid JSON-LD syntax; @index must expand to an IRI: "${a["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});u["@index"]=a["@index"]}if("@context"in a&&(u["@context"]=a["@context"]),"@language"in a&&!("@type"in a)){let m=a["@language"];if(m!==null&&!mo(m))throw new Jt("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});m!==null&&(m=m.toLowerCase()),u["@language"]=m}if("@prefix"in a){if(r.match(/:|\//))throw new Jt("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(mn.isKeyword(u["@id"]))throw new Jt("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(typeof a["@prefix"]=="boolean")u._prefix=a["@prefix"]===!0;else throw new Jt("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in a){const m=a["@direction"];if(m!==null&&m!=="ltr"&&m!=="rtl")throw new Jt('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});u["@direction"]=m}if("@nest"in a){const m=a["@nest"];if(!mo(m)||m!=="@nest"&&m.indexOf("@")===0)throw new Jt("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});u["@nest"]=m}// disallow aliasing @context and @preserve
const h=u["@id"];if(h==="@context"||h==="@preserve")throw new Jt("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(s&&s.protected&&!o&&(e.protected[r]=!0,u.protected=!0,!wx(s,u)))throw new Jt("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r})};mn.expandIri=(e,t,r,n)=>Bd(e,t,r,void 0,void 0,n);function Bd(e,t,r,n,i,o){if(t===null||!mo(t)||mn.isKeyword(t))return t;if(t.match(Rw))return null;if(n&&n.hasOwnProperty(t)&&i.get(t)!==!0&&mn.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:o}),r=r||{},r.vocab){const s=e.mappings.get(t);if(s===null)return null;if($u(s)&&"@id"in s)return s["@id"]}const a=t.indexOf(":");if(a>0){const s=t.substr(0,a),l=t.substr(a+1);if(s==="_"||l.indexOf("//")===0)return t;n&&n.hasOwnProperty(s)&&mn.createTermDefinition({activeCtx:e,localCtx:n,term:s,defined:i,options:o});const u=e.mappings.get(s);if(u&&u._prefix)return u["@id"]+l;if(ff(t))return t}if(r.vocab&&"@vocab"in e)t=e["@vocab"]+t;else if(r.base){let s,l;"@base"in e?e["@base"]?(l=sm(o.base,e["@base"]),s=sm(l,t)):(l=e["@base"],s=t):(l=o.base,s=sm(o.base,t)),t=s}return t}mn.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),r=Hv.get(t);if(r)return r;const n={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:i,clone:s,revertToPreviousContext:l,protected:{}};return Hv.size===mfe&&Hv.clear(),Hv.set(t,n),n;function i(){const u=this;if(u.inverse)return u.inverse;const f=u.inverse={},c=u.fastCurieMap={},h={},m=(u["@language"]||"@none").toLowerCase(),g=u["@direction"],_=u.mappings,v=[..._.keys()].sort(pfe);for(const p of v){const E=_.get(p);if(E===null)continue;let y=E["@container"]||"@none";if(y=[].concat(y).sort().join(""),E["@id"]===null)continue;const S=EH(E["@id"]);for(const $ of S){let T=f[$];const d=mn.isKeyword($);if(T)!d&&!E._termHasColon&&h[$].push(p);else if(f[$]=T={},!d&&!E._termHasColon){h[$]=[p];const A={iri:$,terms:h[$]};$[0]in c?c[$[0]].push(A):c[$[0]]=[A]}if(T[y]||(T[y]={"@language":{},"@type":{},"@any":{}}),T=T[y],a(p,T["@any"],"@none"),E.reverse)a(p,T["@type"],"@reverse");else if(E["@type"]==="@none")a(p,T["@any"],"@none"),a(p,T["@language"],"@none"),a(p,T["@type"],"@none");else if("@type"in E)a(p,T["@type"],E["@type"]);else if("@language"in E&&"@direction"in E){const A=E["@language"],P=E["@direction"];A&&P?a(p,T["@language"],`${A}_${P}`.toLowerCase()):A?a(p,T["@language"],A.toLowerCase()):P?a(p,T["@language"],`_${P}`):a(p,T["@language"],"@null")}else"@language"in E?a(p,T["@language"],(E["@language"]||"@null").toLowerCase()):"@direction"in E?E["@direction"]?a(p,T["@language"],`_${E["@direction"]}`):a(p,T["@language"],"@none"):g?(a(p,T["@language"],`_${g}`),a(p,T["@language"],"@none"),a(p,T["@type"],"@none")):(a(p,T["@language"],m),a(p,T["@language"],"@none"),a(p,T["@type"],"@none"))}}for(const p in c)o(c,p,1);return f}function o(u,f,c){const h=u[f],m=u[f]={};let g,_;for(const v of h)g=v.iri,c>=g.length?_="":_=g[c],_ in m?m[_].push(v):m[_]=[v];for(const v in m)v!==""&&o(m,v,c+1)}function a(u,f,c){f.hasOwnProperty(c)||(f[c]=u)}function s(){const u={};return u.mappings=HM.clone(this.mappings),u.clone=this.clone,u.inverse=null,u.getInverse=this.getInverse,u.protected=HM.clone(this.protected),this.previousContext&&(u.previousContext=this.previousContext.clone()),u.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(u["@base"]=this["@base"]),"@language"in this&&(u["@language"]=this["@language"]),"@vocab"in this&&(u["@vocab"]=this["@vocab"]),u}function l(){return this.previousContext?this.previousContext.clone():this}};mn.getContextValue=(e,t,r)=>{if(t===null)return r==="@context"?void 0:null;if(e.mappings.has(t)){const n=e.mappings.get(t);if(ffe(r))return n;if(n.hasOwnProperty(r))return n[r]}if(r==="@language"&&r in e||r==="@direction"&&r in e)return e[r];if(r!=="@context")return null};mn.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():e.processingMode==="json-ld-1.0";mn.isKeyword=e=>{if(!mo(e)||e[0]!=="@")return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function wx(e,t){if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;++o)if(!wx(e[o],t[o]))return!1;return!0}const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const o in e){let a=e[o],s=t[o];if(o==="@container"&&Array.isArray(a)&&Array.isArray(s)&&(a=a.slice().sort(),s=s.slice().sort()),!wx(a,s))return!1}return!0}const Sn=ka,{isArray:Sa,isObject:ua,isEmptyObject:bx,isString:ki,isUndefined:e_}=Zo,{isList:_1,isValue:_x,isGraph:gfe,isSubject:vfe}=Ul,{expandIri:Kn,getContextValue:qo,isKeyword:Ex,process:lm,processingMode:Iw}=Ff,{isAbsolute:Nw}=lc,{REGEX_BCP47:SH,REGEX_KEYWORD:yfe,addValue:Fo,asArray:Wa,getValues:wfe,validateTypeValue:bfe}=ja,{handleEvent:ya}=Ig,xu={};var _fe=xu;xu.expand=async({activeCtx:e,activeProperty:t=null,element:r,options:n={},insideList:i=!1,insideIndex:o=!1,typeScopedContext:a=null})=>{if(r==null)return null;if(t==="@default"&&(n=Object.assign({},n,{isFrame:!1})),!Sa(r)&&!ua(r))return!i&&(t===null||Kn(e,t,{vocab:!0},n)==="@graph")?(n.eventHandler&&ya({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:r}},options:n}),null):AH({activeCtx:e,activeProperty:t,value:r,options:n});if(Sa(r)){let g=[];const _=qo(e,t,"@container")||[];i=i||_.includes("@list");for(let v=0;v<r.length;++v){let p=await xu.expand({activeCtx:e,activeProperty:t,element:r[v],options:n,insideIndex:o,typeScopedContext:a});i&&Sa(p)&&(p={"@list":p}),p!==null&&(Sa(p)?g=g.concat(p):g.push(p))}return g}const s=Kn(e,t,{vocab:!0},n),l=qo(e,t,"@context");a=a||(e.previousContext?e:null);let u=Object.keys(r).sort(),f=!o;if(f&&a&&u.length<=2&&!u.includes("@context"))for(const g of u){const _=Kn(a,g,{vocab:!0},n);if(_==="@value"){f=!1,e=a;break}if(_==="@id"&&u.length===1){f=!1;break}}f&&(e=e.revertToPreviousContext()),e_(l)||(e=await lm({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:n})),"@context"in r&&(e=await lm({activeCtx:e,localCtx:r["@context"],options:n})),a=e;let c=null;for(const g of u)if(Kn(e,g,{vocab:!0},n)==="@type"){c=c||g;const v=r[g],p=Array.isArray(v)?v.length>1?v.slice().sort():v:[v];for(const E of p){const y=qo(a,E,"@context");e_(y)||(e=await lm({activeCtx:e,localCtx:y,options:n,propagate:!1}))}}let h={};await TH({activeCtx:e,activeProperty:t,expandedActiveProperty:s,element:r,expandedParent:h,options:n,insideList:i,typeKey:c,typeScopedContext:a}),u=Object.keys(h);let m=u.length;if("@value"in h){if("@type"in h&&("@language"in h||"@direction"in h))throw new Sn('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});let g=m-1;if("@type"in h&&(g-=1),"@index"in h&&(g-=1),"@language"in h&&(g-=1),"@direction"in h&&(g-=1),g!==0)throw new Sn('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});const _=h["@value"]===null?[]:Wa(h["@value"]),v=wfe(h,"@type");if(!(Iw(e,1.1)&&v.includes("@json")&&v.length===1))if(_.length===0)n.eventHandler&&ya({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:h}},options:n}),h=null;else{if(!_.every(p=>ki(p)||bx(p))&&"@language"in h)throw new Sn("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:h});if(!v.every(p=>Nw(p)&&!(ki(p)&&p.indexOf("_:")===0)||bx(p)))throw new Sn('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:h})}}else if("@type"in h&&!Sa(h["@type"]))h["@type"]=[h["@type"]];else if("@set"in h||"@list"in h){if(m>1&&!(m===2&&"@index"in h))throw new Sn('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:h});"@set"in h&&(h=h["@set"],u=Object.keys(h),m=u.length)}else m===1&&"@language"in h&&(n.eventHandler&&ya({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:h}},options:n}),h=null);return ua(h)&&!n.keepFreeFloatingNodes&&!i&&(t===null||s==="@graph"||(qo(e,t,"@container")||[]).includes("@graph"))&&(h=$H({value:h,count:m,options:n})),h};function $H({value:e,count:t,options:r}){if(t===0||"@value"in e||"@list"in e||t===1&&"@id"in e){if(r.eventHandler){let n,i;t===0?(n="empty object",i="Dropping empty object."):"@value"in e?(n="object with only @value",i="Dropping object with only @value."):"@list"in e?(n="object with only @list",i="Dropping object with only @list."):t===1&&"@id"in e&&(n="object with only @id",i="Dropping object with only @id."),ya({event:{type:["JsonLdEvent"],code:n,level:"warning",message:i,details:{value:e}},options:r})}return null}return e}async function TH({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:n,expandedParent:i,options:o={},insideList:a,typeKey:s,typeScopedContext:l}){const u=Object.keys(n).sort(),f=[];let c;const h=n[s]&&Kn(e,Sa(n[s])?n[s][0]:n[s],{vocab:!0},{...o,typeExpansion:!0})==="@json";for(const m of u){let g=n[m],_;if(m==="@context")continue;const v=Kn(e,m,{vocab:!0},o);if(v===null||!(Nw(v)||Ex(v))){o.eventHandler&&ya({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:m,expandedProperty:v}},options:o});continue}if(Ex(v)){if(r==="@reverse")throw new Sn("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:g});if(v in i&&v!=="@included"&&v!=="@type")throw new Sn("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:v})}if(v==="@id"){if(!ki(g)){if(!o.isFrame)throw new Sn('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:g});if(ua(g)){if(!bx(g))throw new Sn('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}else if(Sa(g)){if(!g.every(S=>ki(S)))throw new Sn('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}else throw new Sn('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}Fo(i,"@id",Wa(g).map(S=>{if(ki(S)){const $=Kn(e,S,{base:!0},o);return o.eventHandler&&($===null?ya(S===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:S}},options:o}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:S}},options:o}):Nw($)||ya({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:S,expandedId:$}},options:o})),$}return S}),{propertyIsArray:o.isFrame});continue}if(v==="@type"){ua(g)&&(g=Object.fromEntries(Object.entries(g).map(([S,$])=>[Kn(l,S,{vocab:!0}),Wa($).map(T=>Kn(l,T,{base:!0,vocab:!0},{...o,typeExpansion:!0}))]))),bfe(g,o.isFrame),Fo(i,"@type",Wa(g).map(S=>{if(ki(S)){const $=Kn(l,S,{base:!0,vocab:!0},{...o,typeExpansion:!0});return $!=="@json"&&!Nw($)&&o.eventHandler&&ya({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:S}},options:o}),$}return S}),{propertyIsArray:!!o.isFrame});continue}if(v==="@included"&&Iw(e,1.1)){const S=Wa(await xu.expand({activeCtx:e,activeProperty:t,element:g,options:o}));if(!S.every($=>vfe($)))throw new Sn("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:g});Fo(i,"@included",S,{propertyIsArray:!0});continue}if(v==="@graph"&&!(ua(g)||Sa(g)))throw new Sn('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:g});if(v==="@value"){c=g,h&&Iw(e,1.1)?i["@value"]=g:Fo(i,"@value",g,{propertyIsArray:o.isFrame});continue}if(v==="@language"){if(g===null)continue;if(!ki(g)&&!o.isFrame)throw new Sn('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:g});g=Wa(g).map(S=>ki(S)?S.toLowerCase():S);for(const S of g)ki(S)&&!S.match(SH)&&o.eventHandler&&ya({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:S}},options:o});Fo(i,"@language",g,{propertyIsArray:o.isFrame});continue}if(v==="@direction"){if(!ki(g)&&!o.isFrame)throw new Sn('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:g});g=Wa(g);for(const S of g)if(ki(S)&&S!=="ltr"&&S!=="rtl")throw new Sn('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:g});Fo(i,"@direction",g,{propertyIsArray:o.isFrame});continue}if(v==="@index"){if(!ki(g))throw new Sn('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:g});Fo(i,"@index",g);continue}if(v==="@reverse"){if(!ua(g))throw new Sn('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:g});if(_=await xu.expand({activeCtx:e,activeProperty:"@reverse",element:g,options:o}),"@reverse"in _)for(const $ in _["@reverse"])Fo(i,$,_["@reverse"][$],{propertyIsArray:!0});let S=i["@reverse"]||null;for(const $ in _){if($==="@reverse")continue;S===null&&(S=i["@reverse"]={}),Fo(S,$,[],{propertyIsArray:!0});const T=_[$];for(let d=0;d<T.length;++d){const A=T[d];if(_x(A)||_1(A))throw new Sn('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:_});Fo(S,$,A,{propertyIsArray:!0})}}continue}if(v==="@nest"){f.push(m);continue}let p=e;const E=qo(e,m,"@context");e_(E)||(p=await lm({activeCtx:e,localCtx:E,propagate:!0,overrideProtected:!0,options:o}));const y=qo(e,m,"@container")||[];if(y.includes("@language")&&ua(g)){const S=qo(p,m,"@direction");_=Efe(p,g,S,o)}else if(y.includes("@index")&&ua(g)){const S=y.includes("@graph"),$=qo(p,m,"@index")||"@index",T=$!=="@index"&&Kn(e,$,{vocab:!0},o);_=await E1({activeCtx:p,options:o,activeProperty:m,value:g,asGraph:S,indexKey:$,propertyIndex:T})}else if(y.includes("@id")&&ua(g)){const S=y.includes("@graph");_=await E1({activeCtx:p,options:o,activeProperty:m,value:g,asGraph:S,indexKey:"@id"})}else if(y.includes("@type")&&ua(g))_=await E1({activeCtx:p.revertToPreviousContext(),options:o,activeProperty:m,value:g,asGraph:!1,indexKey:"@type"});else{const S=v==="@list";if(S||v==="@set"){let $=t;S&&r==="@graph"&&($=null),_=await xu.expand({activeCtx:p,activeProperty:$,element:g,options:o,insideList:S})}else qo(e,m,"@type")==="@json"?_={"@type":"@json","@value":g}:_=await xu.expand({activeCtx:p,activeProperty:m,element:g,options:o,insideList:!1})}if(!(_===null&&v!=="@value")){if(v!=="@list"&&!_1(_)&&y.includes("@list")&&(_={"@list":Wa(_)}),y.includes("@graph")&&!y.some(S=>S==="@id"||S==="@index")){if(_=Wa(_),o.isFrame||(_=_.filter(S=>{const $=Object.keys(S).length;return $H({value:S,count:$,options:o})!==null})),_.length===0)continue;_=_.map(S=>({"@graph":Wa(S)}))}if(p.mappings.has(m)&&p.mappings.get(m).reverse){const S=i["@reverse"]=i["@reverse"]||{};_=Wa(_);for(let $=0;$<_.length;++$){const T=_[$];if(_x(T)||_1(T))throw new Sn('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:_});Fo(S,v,T,{propertyIsArray:!0})}continue}Fo(i,v,_,{propertyIsArray:!0})}}if("@value"in i&&!(i["@type"]==="@json"&&Iw(e,1.1))){if((ua(c)||Sa(c))&&!o.isFrame)throw new Sn('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:c})}for(const m of f){const g=Sa(n[m])?n[m]:[n[m]];for(const _ of g){if(!ua(_)||Object.keys(_).some(v=>Kn(e,v,{vocab:!0},o)==="@value"))throw new Sn("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:_});await TH({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:_,expandedParent:i,options:o,insideList:a,typeScopedContext:l,typeKey:s})}}}function AH({activeCtx:e,activeProperty:t,value:r,options:n}){if(r==null)return null;const i=Kn(e,t,{vocab:!0},n);if(i==="@id")return Kn(e,r,{base:!0},n);if(i==="@type")return Kn(e,r,{vocab:!0,base:!0},{...n,typeExpansion:!0});const o=qo(e,t,"@type");if((o==="@id"||i==="@graph")&&ki(r)){const s=Kn(e,r,{base:!0},n);return s===null&&r.match(yfe)&&n.eventHandler&&ya({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:n}),{"@id":s}}if(o==="@vocab"&&ki(r))return{"@id":Kn(e,r,{vocab:!0,base:!0},n)};if(Ex(i))return r;const a={};if(o&&!["@id","@vocab","@none"].includes(o))a["@type"]=o;else if(ki(r)){const s=qo(e,t,"@language");s!==null&&(a["@language"]=s);const l=qo(e,t,"@direction");l!==null&&(a["@direction"]=l)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),a["@value"]=r,a}function Efe(e,t,r,n){const i=[],o=Object.keys(t).sort();for(const a of o){const s=Kn(e,a,{vocab:!0},n);let l=t[a];Sa(l)||(l=[l]);for(const u of l){if(u===null)continue;if(!ki(u))throw new Sn("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const f={"@value":u};s!=="@none"&&(a.match(SH)||n.eventHandler&&ya({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:a}},options:n}),f["@language"]=a.toLowerCase()),r&&(f["@direction"]=r),i.push(f)}}return i}async function E1({activeCtx:e,options:t,activeProperty:r,value:n,asGraph:i,indexKey:o,propertyIndex:a}){const s=[],l=Object.keys(n).sort(),u=o==="@type";for(let f of l){if(u){const m=qo(e,f,"@context");e_(m)||(e=await lm({activeCtx:e,localCtx:m,propagate:!1,options:t}))}let c=n[f];Sa(c)||(c=[c]),c=await xu.expand({activeCtx:e,activeProperty:r,element:c,options:t,insideList:!1,insideIndex:!0});let h;a?f==="@none"?h="@none":h=AH({activeCtx:e,activeProperty:o,value:f,options:t}):h=Kn(e,f,{vocab:!0},t),o==="@id"?f=Kn(e,f,{base:!0},t):u&&(f=h);for(let m of c){if(i&&!gfe(m)&&(m={"@graph":[m]}),o==="@type")h==="@none"||(m["@type"]?m["@type"]=[f].concat(m["@type"]):m["@type"]=[f]);else{if(_x(m)&&!["@language","@type","@index"].includes(o))throw new Sn(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${o}".`,"jsonld.SyntaxError",{code:"invalid value object",value:m});a?h!=="@none"&&Fo(m,a,h,{propertyIsArray:!0,prependValue:!0}):h!=="@none"&&!(o in m)&&(m[o]=f)}s.push(m)}}return s}const{isKeyword:PH}=Ff,Rs=Ul,S1=Zo,Cs=ja,Sfe=ka,Ji={};var OE=Ji;Ji.createMergedNodeMap=(e,t)=>{t=t||{};const r=t.issuer||new Cs.IdentifierIssuer("_:b"),n={"@default":{}};return Ji.createNodeMap(e,n,"@default",r),Ji.mergeNodeMaps(n)};Ji.createNodeMap=(e,t,r,n,i,o)=>{if(S1.isArray(e)){for(const u of e)Ji.createNodeMap(u,t,r,n,void 0,o);return}if(!S1.isObject(e)){o&&o.push(e);return}if(Rs.isValue(e)){if("@type"in e){let u=e["@type"];u.indexOf("_:")===0&&(e["@type"]=u=n.getId(u))}o&&o.push(e);return}else if(o&&Rs.isList(e)){const u=[];Ji.createNodeMap(e["@list"],t,r,n,i,u),o.push({"@list":u});return}if("@type"in e){const u=e["@type"];for(const f of u)f.indexOf("_:")===0&&n.getId(f)}S1.isUndefined(i)&&(i=Rs.isBlankNode(e)?n.getId(e["@id"]):e["@id"]),o&&o.push({"@id":i});const a=t[r],s=a[i]=a[i]||{};s["@id"]=i;const l=Object.keys(e).sort();for(let u of l){if(u==="@id")continue;if(u==="@reverse"){const c={"@id":i},h=e["@reverse"];for(const m in h){const g=h[m];for(const _ of g){let v=_["@id"];Rs.isBlankNode(_)&&(v=n.getId(v)),Ji.createNodeMap(_,t,r,n,v),Cs.addValue(a[v],m,c,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(u==="@graph"){i in t||(t[i]={}),Ji.createNodeMap(e[u],t,i,n);continue}if(u==="@included"){Ji.createNodeMap(e[u],t,r,n);continue}if(u!=="@type"&&PH(u)){if(u==="@index"&&u in s&&(e[u]!==s[u]||e[u]["@id"]!==s[u]["@id"]))throw new Sfe("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:s});s[u]=e[u];continue}const f=e[u];if(u.indexOf("_:")===0&&(u=n.getId(u)),f.length===0){Cs.addValue(s,u,[],{propertyIsArray:!0});continue}for(let c of f)if(u==="@type"&&(c=c.indexOf("_:")===0?n.getId(c):c),Rs.isSubject(c)||Rs.isSubjectReference(c)){if("@id"in c&&!c["@id"])continue;const h=Rs.isBlankNode(c)?n.getId(c["@id"]):c["@id"];Cs.addValue(s,u,{"@id":h},{propertyIsArray:!0,allowDuplicate:!1}),Ji.createNodeMap(c,t,r,n,h)}else if(Rs.isValue(c))Cs.addValue(s,u,c,{propertyIsArray:!0,allowDuplicate:!1});else if(Rs.isList(c)){const h=[];Ji.createNodeMap(c["@list"],t,r,n,i,h),c={"@list":h},Cs.addValue(s,u,c,{propertyIsArray:!0,allowDuplicate:!1})}else Ji.createNodeMap(c,t,r,n,i),Cs.addValue(s,u,c,{propertyIsArray:!0,allowDuplicate:!1})}};Ji.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const n of Object.keys(e[r]).sort()){const i=e[r][n];n in t||(t[n]={"@id":n});const o=t[n];for(const a of Object.keys(i).sort())if(PH(a)&&a!=="@type")o[a]=Cs.clone(i[a]);else for(const s of i[a])Cs.addValue(o,a,Cs.clone(s),{propertyIsArray:!0,allowDuplicate:!1})}return t};Ji.mergeNodeMaps=e=>{const t=e["@default"],r=Object.keys(e).sort();for(const n of r){if(n==="@default")continue;const i=e[n];let o=t[n];o?"@graph"in o||(o["@graph"]=[]):t[n]=o={"@id":n,"@graph":[]};const a=o["@graph"];for(const s of Object.keys(i).sort()){const l=i[s];Rs.isSubjectReference(l)||a.push(l)}}return t};const{isSubjectReference:$fe}=Ul,{createMergedNodeMap:Tfe}=OE,xH={};var Afe=xH;xH.flatten=e=>{const t=Tfe(e),r=[],n=Object.keys(t).sort();for(let i=0;i<n.length;++i){const o=t[n[i]];$fe(o)||r.push(o)}return r};const Sx=ka,$1=Ul,Lp=Zo,{REGEX_BCP47:GM,addValue:WM}=ja,{handleEvent:KM}=Ig,{RDF_LIST:Pfe,RDF_FIRST:T1,RDF_REST:A1,RDF_NIL:P1,RDF_TYPE:xfe,RDF_JSON_LITERAL:Ofe,XSD_BOOLEAN:JM,XSD_DOUBLE:YM,XSD_INTEGER:XM,XSD_STRING:x1}=sN,OH={};var Rfe=OH;OH.fromRDF=async(e,t)=>{const{useRdfType:r=!1,useNativeTypes:n=!1,rdfDirection:i=null}=t,o={},a={"@default":o},s={};if(i){if(i==="compound-literal")throw new Sx("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if(i!=="i18n-datatype")throw new Sx("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i})}for(const f of e){const c=f.graph.termType==="DefaultGraph"?"@default":f.graph.value;c in a||(a[c]={}),c!=="@default"&&!(c in o)&&(o[c]={"@id":c});const h=a[c],m=f.subject.value,g=f.predicate.value,_=f.object;m in h||(h[m]={"@id":m});const v=h[m],p=_.termType.endsWith("Node");if(p&&!(_.value in h)&&(h[_.value]={"@id":_.value}),g===xfe&&!r&&p){WM(v,"@type",_.value,{propertyIsArray:!0});continue}const E=Ife(_,n,i,t);if(WM(v,g,E,{propertyIsArray:!0}),p)if(_.value===P1){const y=h[_.value];"usages"in y||(y.usages=[]),y.usages.push({node:v,property:g,value:E})}else _.value in s?s[_.value]=!1:s[_.value]={node:v,property:g,value:E}}for(const f in a){const c=a[f];if(!(P1 in c))continue;const h=c[P1];if(h.usages){for(let m of h.usages){let g=m.node,_=m.property,v=m.value;const p=[],E=[];let y=Object.keys(g).length;for(;_===A1&&Lp.isObject(s[g["@id"]])&&Lp.isArray(g[T1])&&g[T1].length===1&&Lp.isArray(g[A1])&&g[A1].length===1&&(y===3||y===4&&Lp.isArray(g["@type"])&&g["@type"].length===1&&g["@type"][0]===Pfe)&&(p.push(g[T1][0]),E.push(g["@id"]),m=s[g["@id"]],g=m.node,_=m.property,v=m.value,y=Object.keys(g).length,!!$1.isBlankNode(g)););delete v["@id"],v["@list"]=p.reverse();for(const S of E)delete c[S]}delete h.usages}}const l=[],u=Object.keys(o).sort();for(const f of u){const c=o[f];if(f in a){const h=c["@graph"]=[],m=a[f],g=Object.keys(m).sort();for(const _ of g){const v=m[_];$1.isSubjectReference(v)||h.push(v)}}$1.isSubjectReference(c)||l.push(c)}return l};function Ife(e,t,r,n){if(e.termType.endsWith("Node"))return{"@id":e.value};const i={"@value":e.value};if(e.language)e.language.match(GM)||n.eventHandler&&KM({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:n}),i["@language"]=e.language;else{let o=e.datatype.value;if(o||(o=x1),o===Ofe){o="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(a){throw new Sx("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:a})}}if(t){if(o===JM)i["@value"]==="true"?i["@value"]=!0:i["@value"]==="false"&&(i["@value"]=!1);else if(Lp.isNumeric(i["@value"]))if(o===XM){const a=parseInt(i["@value"],10);a.toFixed(0)===i["@value"]&&(i["@value"]=a)}else o===YM&&(i["@value"]=parseFloat(i["@value"]));[JM,XM,YM,x1].includes(o)||(i["@type"]=o)}else if(r==="i18n-datatype"&&o.startsWith("https://www.w3.org/ns/i18n#")){const[,a,s]=o.split(/[#_]/);a.length>0&&(i["@language"]=a,a.match(GM)||n.eventHandler&&KM({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:a}},options:n})),i["@direction"]=s}else o!==x1&&(i["@type"]=o)}return i}var Nfe=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((r,n,i)=>{const o=i===0?"":",",a=n===void 0||typeof n=="symbol"?null:n;return r+o+e(a)},"")+"]":"{"+Object.keys(t).sort().reduce((r,n,i)=>{if(t[n]===void 0||typeof t[n]=="symbol")return r;const o=r.length===0?"":",";return r+o+e(n)+":"+e(t[n])},"")+"}"};const{createNodeMap:Cfe}=OE,{isKeyword:kfe}=Ff,QM=Ul,jfe=Nfe,ZM=ka,hp=Zo,Dfe=ja,{handleEvent:df}=Ig,{RDF_FIRST:Mfe,RDF_REST:Lfe,RDF_NIL:Ffe,RDF_TYPE:Bfe,RDF_JSON_LITERAL:Ufe,RDF_LANGSTRING:zfe,XSD_BOOLEAN:qfe,XSD_DOUBLE:eL,XSD_INTEGER:Vfe,XSD_STRING:Hfe}=sN,{isAbsolute:t_}=lc,RH={};var Gfe=RH;RH.toRDF=(e,t)=>{const r=new Dfe.IdentifierIssuer("_:b"),n={"@default":{}};Cfe(e,n,"@default",r);const i=[],o=Object.keys(n).sort();for(const a of o){let s;if(a==="@default")s={termType:"DefaultGraph",value:""};else if(t_(a))a.startsWith("_:")?s={termType:"BlankNode"}:s={termType:"NamedNode"},s.value=a;else{t.eventHandler&&df({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:a}},options:t});continue}Wfe(i,n[a],s,r,t)}return i};function Wfe(e,t,r,n,i){const o=Object.keys(t).sort();for(const a of o){const s=t[a],l=Object.keys(s).sort();for(let u of l){const f=s[u];if(u==="@type")u=Bfe;else if(kfe(u))continue;for(const c of f){const h={termType:a.startsWith("_:")?"BlankNode":"NamedNode",value:a};if(!t_(a)){i.eventHandler&&df({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:a}},options:i});continue}const m={termType:u.startsWith("_:")?"BlankNode":"NamedNode",value:u};if(!t_(u)){i.eventHandler&&df({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:u}},options:i});continue}if(m.termType==="BlankNode"&&!i.produceGeneralizedRdf){i.eventHandler&&df({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:n.getOldIds().find(_=>n.getId(_)===u)}},options:i});continue}const g=$x(c,n,e,r,i.rdfDirection,i);g&&e.push({subject:h,predicate:m,object:g,graph:r})}}}}function Kfe(e,t,r,n,i,o){const a={termType:"NamedNode",value:Mfe},s={termType:"NamedNode",value:Lfe},l={termType:"NamedNode",value:Ffe},u=e.pop(),f=u?{termType:"BlankNode",value:t.getId()}:l;let c=f;for(const h of e){const m=$x(h,t,r,n,i,o),g={termType:"BlankNode",value:t.getId()};r.push({subject:c,predicate:a,object:m,graph:n}),r.push({subject:c,predicate:s,object:g,graph:n}),c=g}if(u){const h=$x(u,t,r,n,i,o);r.push({subject:c,predicate:a,object:h,graph:n}),r.push({subject:c,predicate:s,object:l,graph:n})}return f}function $x(e,t,r,n,i,o){const a={};if(QM.isValue(e)){a.termType="Literal",a.value=void 0,a.datatype={termType:"NamedNode"};let s=e["@value"];const l=e["@type"]||null;if(l==="@json")a.value=jfe(s),a.datatype.value=Ufe;else if(hp.isBoolean(s))a.value=s.toString(),a.datatype.value=l||qfe;else if(hp.isDouble(s)||l===eL)hp.isDouble(s)||(s=parseFloat(s)),a.value=s.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),a.datatype.value=l||eL;else if(hp.isNumber(s))a.value=s.toFixed(0),a.datatype.value=l||Vfe;else if("@direction"in e&&i==="i18n-datatype"){const u=(e["@language"]||"").toLowerCase(),f=e["@direction"],c=`https://www.w3.org/ns/i18n#${u}_${f}`;a.datatype.value=c,a.value=s}else{if("@direction"in e&&i==="compound-literal")throw new ZM("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if("@direction"in e&&i)throw new ZM("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});"@language"in e?("@direction"in e&&!i&&o.eventHandler&&df({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:a.value}},options:o}),a.value=s,a.datatype.value=l||zfe,a.language=e["@language"]):("@direction"in e&&!i&&o.eventHandler&&df({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:a.value}},options:o}),a.value=s,a.datatype.value=l||Hfe)}}else if(QM.isList(e)){const s=Kfe(e["@list"],t,r,n,i,o);a.termType=s.termType,a.value=s.value}else{const s=hp.isObject(e)?e["@id"]:e;a.termType=s.startsWith("_:")?"BlankNode":"NamedNode",a.value=s}return a.termType==="NamedNode"&&!t_(a.value)?(o.eventHandler&&df({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:a.value}},options:o}),null):a}const{isKeyword:Tx}=Ff,fa=Ul,an=Zo,li=ja,tL=lc,um=ka,{createNodeMap:Jfe,mergeNodeMapGraphs:Yfe}=OE,wa={};var Xfe=wa;wa.frameMergedOrDefault=(e,t,r)=>{const n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new li.IdentifierIssuer("_:b");Jfe(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=Yfe(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const o=[];wa.frame(n,Object.keys(n.subjects).sort(),t,o),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter(a=>n.bnodeMap[a].length===1));// remove @preserve from results
return r.link={},Cw(o,r)};wa.frame=(e,t,r,n,i=null)=>{IH(r),r=r[0];const o=e.options,a={embed:Gv(r,o,"embed"),explicit:Gv(r,o,"explicit"),requireAll:Gv(r,o,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const s=e.link[e.graph],l=Zfe(e,t,r,a),u=Object.keys(l).sort();for(const f of u){const c=l[f];if(i===null?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},a.embed==="@link"&&f in s){Pc(n,i,s[f]);continue}const h={"@id":f};if(f.indexOf("_:")===0&&li.addValue(e.bnodeMap,f,h,{propertyIsArray:!0}),s[f]=h,(a.embed==="@first"||a.embed==="@last")&&e.is11)throw new um("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(f))){if(e.embedded&&(a.embed==="@never"||Qfe(c,e.graph,e.subjectStack))){Pc(n,i,h);continue}if(e.embedded&&(a.embed=="@first"||a.embed=="@once")&&e.uniqueEmbeds[e.graph].hasOwnProperty(f)){Pc(n,i,h);continue}if(a.embed==="@last"&&f in e.uniqueEmbeds[e.graph]&&ede(e,f),e.uniqueEmbeds[e.graph][f]={parent:n,property:i},e.subjectStack.push({subject:c,graph:e.graph}),f in e.graphMap){let m=!1,g=null;"@graph"in r?(g=r["@graph"][0],m=!(f==="@merged"||f==="@default"),an.isObject(g)||(g={})):(m=e.graph!=="@merged",g={}),m&&wa.frame({...e,graph:f,embedded:!1},Object.keys(e.graphMap[f]).sort(),[g],h,"@graph")}"@included"in r&&wa.frame({...e,embedded:!1},t,r["@included"],h,"@included");for(const m of Object.keys(c).sort()){if(Tx(m)){if(h[m]=li.clone(c[m]),m==="@type")for(const g of c["@type"])g.indexOf("_:")===0&&li.addValue(e.bnodeMap,g,h,{propertyIsArray:!0});continue}if(!(a.explicit&&!(m in r)))for(const g of c[m]){const _=m in r?r[m]:rL(a);if(fa.isList(g)){const v=r[m]&&r[m][0]&&r[m][0]["@list"]?r[m][0]["@list"]:rL(a),p={"@list":[]};Pc(h,m,p);const E=g["@list"];for(const y of E)fa.isSubjectReference(y)?wa.frame({...e,embedded:!0},[y["@id"]],v,p,"@list"):Pc(p,"@list",li.clone(y))}else fa.isSubjectReference(g)?wa.frame({...e,embedded:!0},[g["@id"]],_,h,m):Ax(_[0],g)&&Pc(h,m,li.clone(g))}}for(const m of Object.keys(r).sort()){if(m==="@type"){if(!an.isObject(r[m][0])||!("@default"in r[m][0]))continue}else if(Tx(m))continue;const g=r[m][0]||{};if(!Gv(g,o,"omitDefault")&&!(m in h)){let v="@null";"@default"in g&&(v=li.clone(g["@default"])),an.isArray(v)||(v=[v]),h[m]=[{"@preserve":v}]}}for(const m of Object.keys(r["@reverse"]||{}).sort()){const g=r["@reverse"][m];for(const _ of Object.keys(e.subjects))li.getValues(e.subjects[_],m).some(p=>p["@id"]===f)&&(h["@reverse"]=h["@reverse"]||{},li.addValue(h["@reverse"],m,[],{propertyIsArray:!0}),wa.frame({...e,embedded:!0},[_],g,h["@reverse"][m],i))}Pc(n,i,h),e.subjectStack.pop()}}};wa.cleanupNull=(e,t)=>{if(an.isArray(e))return e.map(n=>wa.cleanupNull(n,t)).filter(n=>n);if(e==="@null")return null;if(an.isObject(e)){if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(n!==-1)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)e[r]=wa.cleanupNull(e[r],t)}return e};function rL(e){const t={};for(const r in e)e[r]!==void 0&&(t["@"+r]=[e[r]]);return[t]}function Qfe(e,t,r){for(let n=r.length-1;n>=0;--n){const i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function Gv(e,t,r){const n="@"+r;let i=n in e?e[n][0]:t[r];if(r==="embed"){if(i===!0)i="@once";else if(i===!1)i="@never";else if(i!=="@always"&&i!=="@never"&&i!=="@link"&&i!=="@first"&&i!=="@last"&&i!=="@once")throw new um("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return i}function IH(e){if(!an.isArray(e)||e.length!==1||!an.isObject(e[0]))throw new um("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(const t of li.asArray(e[0]["@id"]))if(!(an.isObject(t)||tL.isAbsolute(t))||an.isString(t)&&t.indexOf("_:")===0)throw new um("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(const t of li.asArray(e[0]["@type"]))if(!(an.isObject(t)||tL.isAbsolute(t)||t==="@json")||an.isString(t)&&t.indexOf("_:")===0)throw new um("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function Zfe(e,t,r,n){const i={};for(const o of t){const a=e.graphMap[e.graph][o];NH(e,a,r,n)&&(i[o]=a)}return i}function NH(e,t,r,n){let i=!0,o=!1;for(const a in r){let s=!1;const l=li.getValues(t,a),u=li.getValues(r,a).length===0;if(a==="@id"){if(an.isEmptyObject(r["@id"][0]||{})?s=!0:r["@id"].length>=0&&(s=r["@id"].includes(l[0])),!n.requireAll)return s}else if(a==="@type"){if(i=!1,u){if(l.length>0)return!1;s=!0}else if(r["@type"].length===1&&an.isEmptyObject(r["@type"][0]))s=l.length>0;else for(const f of r["@type"])an.isObject(f)&&"@default"in f?s=!0:s=s||l.some(c=>c===f);if(!n.requireAll)return s}else{if(Tx(a))continue;{const f=li.getValues(r,a)[0];let c=!1;if(f&&(IH([f]),c="@default"in f),i=!1,l.length===0&&c)continue;if(l.length>0&&u)return!1;if(f===void 0){if(l.length>0)return!1;s=!0}else if(fa.isList(f)){const h=f["@list"][0];if(fa.isList(l[0])){const m=l[0]["@list"];fa.isValue(h)?s=m.some(g=>Ax(h,g)):(fa.isSubject(h)||fa.isSubjectReference(h))&&(s=m.some(g=>nL(e,h,g,n)))}}else fa.isValue(f)?s=l.some(h=>Ax(f,h)):fa.isSubjectReference(f)?s=l.some(h=>nL(e,f,h,n)):an.isObject(f)?s=l.length>0:s=!1}}if(!s&&n.requireAll)return!1;o=o||s}return i||o}function ede(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,o=n.property,a={"@id":t};if(an.isArray(i)){for(let l=0;l<i.length;++l)if(li.compareValues(i[l],a)){i[l]=a;break}}else{const l=an.isArray(i[o]);li.removeValue(i,o,a,{propertyIsArray:l}),li.addValue(i,o,a,{propertyIsArray:l})}const s=l=>{const u=Object.keys(r);for(const f of u)f in r&&an.isObject(r[f].parent)&&r[f].parent["@id"]===l&&(delete r[f],s(f))};s(t)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function Cw(e,t){if(an.isArray(e))return e.map(r=>Cw(r,t));if(an.isObject(e)){// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(fa.isValue(e))return e;if(fa.isList(e))return e["@list"]=Cw(e["@list"],t),e;if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(n!==-1)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e){if(r==="@id"&&t.bnodesToClear.includes(e[r])){delete e["@id"];continue}e[r]=Cw(e[r],t)}}return e}function Pc(e,t,r){an.isObject(e)?li.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function nL(e,t,r,n){if(!("@id"in r))return!1;const i=e.subjects[r["@id"]];return i&&NH(e,i,t,n)}function Ax(e,t){const r=t["@value"],n=t["@type"],i=t["@language"],o=e["@value"]?an.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],a=e["@type"]?an.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],s=e["@language"]?an.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return o.length===0&&a.length===0&&s.length===0?!0:!(!(o.includes(r)||an.isEmptyObject(o[0]))||!(!n&&a.length===0||a.includes(n)||n&&an.isEmptyObject(a[0]))||!(!i&&s.length===0||s.includes(i)||i&&an.isEmptyObject(s[0])))}const cN=ka,{isArray:au,isObject:Ou,isString:CH,isUndefined:O1}=Zo,{isList:Px,isValue:wl,isGraph:kH,isSimpleGraph:iL,isSubjectReference:R1}=Ul,{expandIri:jH,getContextValue:Gi,isKeyword:DH,process:I1,processingMode:tde}=Ff,{removeBase:oL,prependBase:rde}=lc,{REGEX_KEYWORD:nde,addValue:Mo,asArray:Wv,compareShortestLeast:ide}=ja,or={};var ode=or;or.compact=async({activeCtx:e,activeProperty:t=null,element:r,options:n={}})=>{if(au(r)){let o=[];for(let a=0;a<r.length;++a){const s=await or.compact({activeCtx:e,activeProperty:t,element:r[a],options:n});s!==null&&o.push(s)}return n.compactArrays&&o.length===1&&(Gi(e,t,"@container")||[]).length===0&&(o=o[0]),o}const i=Gi(e,t,"@context");if(O1(i)||(e=await I1({activeCtx:e,localCtx:i,propagate:!0,overrideProtected:!0,options:n})),Ou(r)){if(n.link&&"@id"in r&&n.link.hasOwnProperty(r["@id"])){const h=n.link[r["@id"]];for(let m=0;m<h.length;++m)if(h[m].expanded===r)return h[m].compacted}if(wl(r)||R1(r)){const h=or.compactValue({activeCtx:e,activeProperty:t,value:r,options:n});return n.link&&R1(r)&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:h})),h}if(Px(r)&&(Gi(e,t,"@container")||[]).includes("@list"))return or.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:n});const o=t==="@reverse",a={},s=e;!wl(r)&&!R1(r)&&(e=e.revertToPreviousContext());const l=Gi(s,t,"@context");O1(l)||(e=await I1({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:n})),n.link&&"@id"in r&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:a}));let u=r["@type"]||[];u.length>1&&(u=Array.from(u).sort());const f=e;for(const h of u){const m=or.compactIri({activeCtx:f,iri:h,relativeTo:{vocab:!0}}),g=Gi(s,m,"@context");O1(g)||(e=await I1({activeCtx:e,localCtx:g,options:n,propagate:!1}))}const c=Object.keys(r).sort();for(const h of c){const m=r[h];if(h==="@id"){let g=Wv(m).map(v=>or.compactIri({activeCtx:e,iri:v,relativeTo:{vocab:!1},base:n.base}));g.length===1&&(g=g[0]);const _=or.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});a[_]=g;continue}if(h==="@type"){let g=Wv(m).map(y=>or.compactIri({activeCtx:s,iri:y,relativeTo:{vocab:!0}}));g.length===1&&(g=g[0]);const _=or.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),E=(Gi(e,_,"@container")||[]).includes("@set")&&tde(e,1.1)||au(g)&&m.length===0;Mo(a,_,g,{propertyIsArray:E});continue}if(h==="@reverse"){const g=await or.compact({activeCtx:e,activeProperty:"@reverse",element:m,options:n});for(const _ in g)if(e.mappings.has(_)&&e.mappings.get(_).reverse){const v=g[_],E=(Gi(e,_,"@container")||[]).includes("@set")||!n.compactArrays;Mo(a,_,v,{propertyIsArray:E}),delete g[_]}if(Object.keys(g).length>0){const _=or.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});Mo(a,_,g)}continue}if(h==="@preserve"){const g=await or.compact({activeCtx:e,activeProperty:t,element:m,options:n});au(g)&&g.length===0||Mo(a,h,g);continue}if(h==="@index"){if((Gi(e,t,"@container")||[]).includes("@index"))continue;const _=or.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});Mo(a,_,m);continue}if(h!=="@graph"&&h!=="@list"&&h!=="@included"&&DH(h)){const g=or.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});Mo(a,g,m);continue}if(!au(m))throw new cN("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(m.length===0){const g=or.compactIri({activeCtx:e,iri:h,value:m,relativeTo:{vocab:!0},reverse:o}),_=e.mappings.has(g)?e.mappings.get(g)["@nest"]:null;let v=a;_&&(aL(e,_,n),Ou(a[_])||(a[_]={}),v=a[_]),Mo(v,g,m,{propertyIsArray:!0})}for(const g of m){const _=or.compactIri({activeCtx:e,iri:h,value:g,relativeTo:{vocab:!0},reverse:o}),v=e.mappings.has(_)?e.mappings.get(_)["@nest"]:null;let p=a;v&&(aL(e,v,n),Ou(a[v])||(a[v]={}),p=a[v]);const E=Gi(e,_,"@container")||[],y=kH(g),S=Px(g);let $;S?$=g["@list"]:y&&($=g["@graph"]);let T=await or.compact({activeCtx:e,activeProperty:_,element:S||y?$:g,options:n});if(S)if(au(T)||(T=[T]),!E.includes("@list"))T={[or.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:T},"@index"in g&&(T[or.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=g["@index"]);else{Mo(p,_,T,{valueIsArray:!0,allowDuplicate:!0});continue}if(y)if(E.includes("@graph")&&(E.includes("@id")||E.includes("@index")&&iL(g))){let d;p.hasOwnProperty(_)?d=p[_]:p[_]=d={};const A=(E.includes("@id")?g["@id"]:g["@index"])||or.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});Mo(d,A,T,{propertyIsArray:!n.compactArrays||E.includes("@set")})}else E.includes("@graph")&&iL(g)?(au(T)&&T.length>1&&(T={"@included":T}),Mo(p,_,T,{propertyIsArray:!n.compactArrays||E.includes("@set")})):(au(T)&&T.length===1&&n.compactArrays&&(T=T[0]),T={[or.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:T},"@id"in g&&(T[or.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=g["@id"]),"@index"in g&&(T[or.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=g["@index"]),Mo(p,_,T,{propertyIsArray:!n.compactArrays||E.includes("@set")}));else if(E.includes("@language")||E.includes("@index")||E.includes("@id")||E.includes("@type")){let d;p.hasOwnProperty(_)?d=p[_]:p[_]=d={};let A;if(E.includes("@language"))wl(T)&&(T=T["@value"]),A=g["@language"];else if(E.includes("@index")){const P=Gi(e,_,"@index")||"@index",x=or.compactIri({activeCtx:e,iri:P,relativeTo:{vocab:!0}});if(P==="@index")A=g["@index"],delete T[x];else{let D;if([A,...D]=Wv(T[P]||[]),!CH(A))A=null;else switch(D.length){case 0:delete T[P];break;case 1:T[P]=D[0];break;default:T[P]=D;break}}}else if(E.includes("@id")){const P=or.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});A=T[P],delete T[P]}else if(E.includes("@type")){const P=or.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let x;switch([A,...x]=Wv(T[P]||[]),x.length){case 0:delete T[P];break;case 1:T[P]=x[0];break;default:T[P]=x;break}Object.keys(T).length===1&&"@id"in g&&(T=await or.compact({activeCtx:e,activeProperty:_,element:{"@id":g["@id"]},options:n}))}A||(A=or.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),Mo(d,A,T,{propertyIsArray:E.includes("@set")})}else{const d=!n.compactArrays||E.includes("@set")||E.includes("@list")||au(T)&&T.length===0||h==="@list"||h==="@graph";Mo(p,_,T,{propertyIsArray:d})}}}return a}return r};or.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:n={vocab:!1},reverse:i=!1,base:o=null})=>{if(t===null)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const a=e.getInverse();if(DH(t)&&t in a&&"@none"in a[t]&&"@type"in a[t]["@none"]&&"@none"in a[t]["@none"]["@type"])return a[t]["@none"]["@type"]["@none"];if(n.vocab&&t in a){const c=e["@language"]||"@none",h=[];Ou(r)&&"@index"in r&&!("@graph"in r)&&h.push("@index","@index@set"),Ou(r)&&"@preserve"in r&&(r=r["@preserve"][0]),kH(r)?("@index"in r&&h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&h.push("@graph@id","@graph@id@set"),h.push("@graph","@graph@set","@set"),"@index"in r||h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||h.push("@graph@id","@graph@id@set")):Ou(r)&&!wl(r)&&h.push("@id","@id@set","@type","@set@type");let m="@language",g="@null";if(i)m="@type",g="@reverse",h.push("@set");else if(Px(r)){"@index"in r||h.push("@list");const v=r["@list"];if(v.length===0)m="@any",g="@none";else{let p=v.length===0?c:null,E=null;for(let y=0;y<v.length;++y){const S=v[y];let $="@none",T="@none";if(wl(S))if("@direction"in S){const d=(S["@language"]||"").toLowerCase(),A=S["@direction"];$=`${d}_${A}`}else"@language"in S?$=S["@language"].toLowerCase():"@type"in S?T=S["@type"]:$="@null";else T="@id";if(p===null?p=$:$!==p&&wl(S)&&(p="@none"),E===null?E=T:T!==E&&(E="@none"),p==="@none"&&E==="@none")break}p=p||"@none",E=E||"@none",E!=="@none"?(m="@type",g=E):g=p}}else{if(wl(r))if("@language"in r&&!("@index"in r)){h.push("@language","@language@set"),g=r["@language"];const v=r["@direction"];v&&(g=`${g}_${v}`)}else"@direction"in r&&!("@index"in r)?g=`_${r["@direction"]}`:"@type"in r&&(m="@type",g=r["@type"]);else m="@type",g="@id";h.push("@set")}h.push("@none"),Ou(r)&&!("@index"in r)&&h.push("@index","@index@set"),wl(r)&&Object.keys(r).length===1&&h.push("@language","@language@set");const _=ade(e,t,r,h,m,g);if(_!==null)return _}if(n.vocab&&"@vocab"in e){const c=e["@vocab"];if(t.indexOf(c)===0&&t!==c){const h=t.substr(c.length);if(!e.mappings.has(h))return h}}let s=null;const l=[];let u=e.fastCurieMap;const f=t.length-1;for(let c=0;c<f&&t[c]in u;++c)u=u[t[c]],""in u&&l.push(u[""][0]);for(let c=l.length-1;c>=0;--c){const h=l[c],m=h.terms;for(const g of m){const _=g+":"+t.substr(h.iri.length);e.mappings.get(g)._prefix&&(!e.mappings.has(_)||r===null&&e.mappings.get(_)["@id"]===t)&&(s===null||ide(_,s)<0)&&(s=_)}}if(s!==null)return s;for(const[c,h]of e.mappings)if(h&&h._prefix&&t.startsWith(c+":"))throw new cN(`Absolute IRI "${t}" confused with prefix "${c}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!n.vocab)if("@base"in e)if(e["@base"]){const c=oL(rde(o,e["@base"]),t);return nde.test(c)?`./${c}`:c}else return t;else return oL(o,t);return t};or.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(wl(r)){const s=Gi(e,t,"@type"),l=Gi(e,t,"@language"),u=Gi(e,t,"@direction"),f=Gi(e,t,"@container")||[],c="@index"in r&&!f.includes("@index");if(!c&&s!=="@none"&&(r["@type"]===s||"@language"in r&&r["@language"]===l&&"@direction"in r&&r["@direction"]===u||"@language"in r&&r["@language"]===l||"@direction"in r&&r["@direction"]===u))return r["@value"];const h=Object.keys(r).length,m=h===1||h===2&&"@index"in r&&!c,g="@language"in e,_=CH(r["@value"]),v=e.mappings.has(t)&&e.mappings.get(t)["@language"]===null;if(m&&s!=="@none"&&(!g||!_||v))return r["@value"];const p={};return c&&(p[or.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?p[or.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=or.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(p[or.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(p[or.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),p[or.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],p}const i=jH(e,t,{vocab:!0},n),o=Gi(e,t,"@type"),a=or.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:o==="@vocab"},base:n.base});return o==="@id"||o==="@vocab"||i==="@graph"?a:{[or.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:a}};function ade(e,t,r,n,i,o){o===null&&(o="@null");const a=[];if((o==="@id"||o==="@reverse")&&Ou(r)&&"@id"in r){o==="@reverse"&&a.push("@reverse");const l=or.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(l)&&e.mappings.get(l)&&e.mappings.get(l)["@id"]===r["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}else{a.push(o);const l=a.find(u=>u.includes("_"));l&&a.push(l.replace(/^[^_]+_/,"_"))}a.push("@none");const s=e.inverse[t];for(const l of n){if(!(l in s))continue;const u=s[l][i];for(const f of a)if(f in u)return u[f]}return null}function aL(e,t,r){if(jH(e,t,{vocab:!0},r)!=="@nest")throw new cN("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var N1,sL;function sde(){return sL||(sL=1,N1=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(r,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(r,n)},t.expand=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(r)},t.flatten=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(r)},t}),N1}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const lL=aN,uL=Wce,vu=ja,al=afe,C1=vu.IdentifierIssuer,Ss=ka,lde=yH,Kv=lfe,{expand:ude}=_fe,{flatten:cde}=Afe,{fromRDF:fde}=Rfe,{toRDF:dde}=Gfe,{frameMergedOrDefault:hde,cleanupNull:pde}=Xfe,{isArray:cd,isObject:xc,isString:$s}=Zo,{isSubjectReference:mde}=Ul,{expandIri:gde,getInitialContext:Jv,process:cL,processingMode:k1}=Ff,{compact:vde,compactIri:yde}=ode,{createNodeMap:wde,createMergedNodeMap:bde,mergeNodeMaps:_de}=OE,{logEventHandler:Ede,logWarningEventHandler:Sde,safeEventHandler:$de,setDefaultEventHandler:Tde,setupEventHandler:Ade,strictEventHandler:Pde,unhandledEventHandler:xde}=Ig,MH=function(e){const t={},n=new lde({max:100});e.compact=async function(o,a,s){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(a===null)throw new Ss("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(o===null)return null;s=i(s,{base:$s(o)?o:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new C1("_:b"),contextResolver:new al({sharedCache:n})}),s.link&&(s.skipExpansion=!0),s.compactToRelative||delete s.base;let l;s.skipExpansion?l=o:l=await e.expand(o,s);const u=await e.processContext(Jv(s),a,s);let f=await vde({activeCtx:u,element:l,options:s});s.compactArrays&&!s.graph&&cd(f)?f.length===1?f=f[0]:f.length===0&&(f={}):s.graph&&xc(f)&&(f=[f]),xc(a)&&"@context"in a&&(a=a["@context"]),a=vu.clone(a),cd(a)||(a=[a]);const c=a;a=[];for(let m=0;m<c.length;++m)(!xc(c[m])||Object.keys(c[m]).length>0)&&a.push(c[m]);const h=a.length>0;if(a.length===1&&(a=a[0]),cd(f)){const m=yde({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}}),g=f;f={},h&&(f["@context"]=a),f[m]=g}else if(xc(f)&&h){const m=f;f={"@context":a};for(const g in m)f[g]=m[g]}return f},e.expand=async function(o,a){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");a=i(a,{keepFreeFloatingNodes:!1,contextResolver:new al({sharedCache:n})});const s={},l=[];if("expandContext"in a){const h=vu.clone(a.expandContext);xc(h)&&"@context"in h?s.expandContext=h:s.expandContext={"@context":h},l.push(s.expandContext)}let u;if(!$s(o))s.input=vu.clone(o);else{const h=await e.get(o,a);u=h.documentUrl,s.input=h.document,h.contextUrl&&(s.remoteContext={"@context":h.contextUrl},l.push(s.remoteContext))}"base"in a||(a.base=u||"");let f=Jv(a);for(const h of l)f=await cL({activeCtx:f,localCtx:h,options:a});let c=await ude({activeCtx:f,element:s.input,options:a});return xc(c)&&"@graph"in c&&Object.keys(c).length===1?c=c["@graph"]:c===null&&(c=[]),cd(c)||(c=[c]),c},e.flatten=async function(o,a,s){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof a=="function"?a=null:a=a||null,s=i(s,{base:$s(o)?o:"",contextResolver:new al({sharedCache:n})});const l=await e.expand(o,s),u=cde(l);return a===null?u:(s.graph=!0,s.skipExpansion=!0,await e.compact(u,a,s))},e.frame=async function(o,a,s){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(s=i(s,{base:$s(o)?o:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new al({sharedCache:n})}),$s(a)){const v=await e.get(a,s);if(a=v.document,v.contextUrl){let p=a["@context"];p?cd(p)?p.push(v.contextUrl):p=[p,v.contextUrl]:p=v.contextUrl,a["@context"]=p}}const l=a?a["@context"]||{}:{},u=await e.processContext(Jv(s),l,s);s.hasOwnProperty("omitGraph")||(s.omitGraph=k1(u,1.1)),s.hasOwnProperty("pruneBlankNodeIdentifiers")||(s.pruneBlankNodeIdentifiers=k1(u,1.1));const f=await e.expand(o,s),c={...s};c.isFrame=!0,c.keepFreeFloatingNodes=!0;const h=await e.expand(a,c),m=Object.keys(a).map(v=>gde(u,v,{vocab:!0}));c.merged=!m.includes("@graph"),c.is11=k1(u,1.1);const g=hde(f,h,c);c.graph=!s.omitGraph,c.skipExpansion=!0,c.link={},c.framing=!0;let _=await e.compact(g,l,c);return c.link={},_=pde(_,c),_},e.link=async function(o,a,s){const l={};return a&&(l["@context"]=a),l["@embed"]="@link",e.frame(o,l,s)},e.normalize=e.canonize=async function(o,a){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(a=i(a,{base:$s(o)?o:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new al({sharedCache:n})}),"inputFormat"in a){if(a.inputFormat!=="application/n-quads"&&a.inputFormat!=="application/nquads")throw new Ss("Unknown canonicalization input format.","jsonld.CanonizeError");const u=Kv.parse(o);return lL.canonize(u,a)}const s={...a};delete s.format,s.produceGeneralizedRdf=!1;const l=await e.toRDF(o,s);return lL.canonize(l,a)},e.fromRDF=async function(o,a){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");a=i(a,{format:$s(o)?"application/n-quads":void 0});const{format:s}=a;let{rdfParser:l}=a;if(s){if(l=l||t[s],!l)throw new Ss("Unknown input format.","jsonld.UnknownFormat",{format:s})}else l=()=>o;const u=await l(o);return fde(u,a)},e.toRDF=async function(o,a){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");a=i(a,{base:$s(o)?o:"",skipExpansion:!1,contextResolver:new al({sharedCache:n})});let s;a.skipExpansion?s=o:s=await e.expand(o,a);const l=dde(s,a);if(a.format){if(a.format==="application/n-quads"||a.format==="application/nquads")return Kv.serialize(l);throw new Ss("Unknown output format.","jsonld.UnknownFormat",{format:a.format})}return l},e.createNodeMap=async function(o,a){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");a=i(a,{base:$s(o)?o:"",contextResolver:new al({sharedCache:n})});const s=await e.expand(o,a);return bde(s,a)},e.merge=async function(o,a,s){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!cd(o))throw new TypeError('Could not merge, "docs" must be an array.');typeof a=="function"?a=null:a=a||null,s=i(s,{contextResolver:new al({sharedCache:n})});const l=await Promise.all(o.map(v=>{const p={...s};return e.expand(v,p)}));let u=!0;"mergeNodes"in s&&(u=s.mergeNodes);const f=s.issuer||new C1("_:b"),c={"@default":{}};for(let v=0;v<l.length;++v){const p=vu.relabelBlankNodes(l[v],{issuer:new C1("_:b"+v+"-")}),E=u||v===0?c:{"@default":{}};if(wde(p,E,"@default",f),E!==c)for(const y in E){const S=E[y];if(!(y in c)){c[y]=S;continue}const $=c[y];for(const T in S)T in $||($[T]=S[T])}}const h=_de(c),m=[],g=Object.keys(h).sort();for(let v=0;v<g.length;++v){const p=h[g[v]];mde(p)||m.push(p)}return a===null?m:(s.graph=!0,s.skipExpansion=!0,await e.compact(m,a,s))},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:o=>e._documentLoader=o}),e.documentLoader=async o=>{throw new Ss("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:o})},e.get=async function(o,a){let s;typeof a.documentLoader=="function"?s=a.documentLoader:s=e.documentLoader;const l=await s(o);try{if(!l.document)throw new Ss("No remote document found at the given URL.","jsonld.NullRemoteDocument");$s(l.document)&&(l.document=JSON.parse(l.document))}catch(u){throw new Ss("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:u,remoteDoc:l})}return l},e.processContext=async function(o,a,s){return s=i(s,{base:"",contextResolver:new al({sharedCache:n})}),a===null?Jv(s):(a=vu.clone(a),xc(a)&&"@context"in a||(a={"@context":a}),cL({activeCtx:o,localCtx:a,options:s}))},e.getContextValue=Ff.getContextValue,e.documentLoaders={},e.useDocumentLoader=function(o){if(!(o in e.documentLoaders))throw new Ss('Unknown document loader type: "'+o+'"',"jsonld.UnknownDocumentLoader",{type:o});e.documentLoader=e.documentLoaders[o].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(o,a){t[o]=a},e.unregisterRDFParser=function(o){delete t[o]},e.registerRDFParser("application/n-quads",Kv.parse),e.registerRDFParser("application/nquads",Kv.parse),e.url=lc,e.logEventHandler=Ede,e.logWarningEventHandler=Sde,e.safeEventHandler=$de,e.setDefaultEventHandler=Tde,e.strictEventHandler=Pde,e.unhandledEventHandler=xde,e.util=vu,Object.assign(e,vu),e.promises=e,e.RequestQueue=gH(),e.JsonLdProcessor=sde()(e),uL.setupGlobals(e),uL.setupDocumentLoaders(e);function i(o,{documentLoader:a=e.documentLoader,...s}){if(o&&"compactionMap"in o)throw new Ss('"compactionMap" not supported.',"jsonld.OptionsError");if(o&&"expansionMap"in o)throw new Ss('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:a},s,o,{eventHandler:Ade({options:o})})}return e},LH=function(){return MH(function(){return LH()})};MH(LH);var xx={exports:{}},FH={},sl={},Oc={},Ng={},ar={},Wm={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){if(super(),!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((y,S)=>`${y}${S}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((y,S)=>(S instanceof r&&(y[S.str]=(y[S.str]||0)+1),y),{})}}e._Code=n,e.nil=new n("");function i(p,...E){const y=[p[0]];let S=0;for(;S<E.length;)s(y,E[S]),y.push(p[++S]);return new n(y)}e._=i;const o=new n("+");function a(p,...E){const y=[m(p[0])];let S=0;for(;S<E.length;)y.push(o),s(y,E[S]),y.push(o,m(p[++S]));return l(y),new n(y)}e.str=a;function s(p,E){E instanceof n?p.push(...E._items):E instanceof r?p.push(E):p.push(c(E))}e.addCodeArg=s;function l(p){let E=1;for(;E<p.length-1;){if(p[E]===o){const y=u(p[E-1],p[E+1]);if(y!==void 0){p.splice(E-1,3,y);continue}p[E++]="+"}E++}}function u(p,E){if(E==='""')return p;if(p==='""')return E;if(typeof p=="string")return E instanceof r||p[p.length-1]!=='"'?void 0:typeof E!="string"?`${p.slice(0,-1)}${E}"`:E[0]==='"'?p.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(p instanceof r))return`"${p}${E.slice(1)}`}function f(p,E){return E.emptyStr()?p:p.emptyStr()?E:a`${p}${E}`}e.strConcat=f;function c(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:m(Array.isArray(p)?p.join(","):p)}function h(p){return new n(m(p))}e.stringify=h;function m(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):i`[${p}]`}e.getProperty=g;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(p){return new n(p.toString())}e.regexpCode=v})(Wm);var Ox={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Wm;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:f}={}){this._names={},this._prefixes=u,this._parent=f}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const f=this._names[u]||this._nameGroup(u);return`${u}${f.index++}`}_nameGroup(u){var f,c;if(!((c=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||c===void 0)&&c.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class o extends t.Name{constructor(u,f){super(f),this.prefix=u}setValue(u,{property:f,itemIndex:c}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(f)}[${c}]`}}e.ValueScopeName=o;const a=(0,t._)`\n`;class s extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?a:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,f){var c;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(u),{prefix:m}=h,g=(c=f.key)!==null&&c!==void 0?c:f.ref;let _=this._values[m];if(_){const E=_.get(g);if(E)return E}else _=this._values[m]=new Map;_.set(g,h);const v=this._scope[m]||(this._scope[m]=[]),p=v.length;return v[p]=f.ref,h.setValue(f,{property:m,itemIndex:p}),h}getValue(u,f){const c=this._values[u];if(c)return c.get(f)}scopeRefs(u,f=this._values){return this._reduceValues(f,c=>{if(c.scopePath===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return(0,t._)`${u}${c.scopePath}`})}scopeCode(u=this._values,f,c){return this._reduceValues(u,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},f,c)}_reduceValues(u,f,c={},h){let m=t.nil;for(const g in u){const _=u[g];if(!_)continue;const v=c[g]=c[g]||new Map;_.forEach(p=>{if(v.has(p))return;v.set(p,n.Started);let E=f(p);if(E){const y=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${y} ${p} = ${E};${this.opts._n}`}else if(E=h==null?void 0:h(p))m=(0,t._)`${m}${E}${this.opts._n}`;else throw new r(p);v.set(p,n.Completed)})}return m}}e.ValueScope=s})(Ox);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Wm,r=Ox;var n=Wm;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=Ox;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(k,q){return this}}class a extends o{constructor(k,q,ie){super(),this.varKind=k,this.name=q,this.rhs=ie}render({es5:k,_n:q}){const ie=k?r.varKinds.var:this.varKind,J=this.rhs===void 0?"":` = ${this.rhs}`;return`${ie} ${this.name}${J};`+q}optimizeNames(k,q){if(k[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,k,q)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class s extends o{constructor(k,q,ie){super(),this.lhs=k,this.rhs=q,this.sideEffects=ie}render({_n:k}){return`${this.lhs} = ${this.rhs};`+k}optimizeNames(k,q){if(!(this.lhs instanceof t.Name&&!k[this.lhs.str]&&!this.sideEffects))return this.rhs=X(this.rhs,k,q),this}get names(){const k=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(k,this.rhs)}}class l extends s{constructor(k,q,ie,J){super(k,ie,J),this.op=q}render({_n:k}){return`${this.lhs} ${this.op}= ${this.rhs};`+k}}class u extends o{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`${this.label}:`+k}}class f extends o{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`break${this.label?` ${this.label}`:""};`+k}}class c extends o{constructor(k){super(),this.error=k}render({_n:k}){return`throw ${this.error};`+k}get names(){return this.error.names}}class h extends o{constructor(k){super(),this.code=k}render({_n:k}){return`${this.code};`+k}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(k,q){return this.code=X(this.code,k,q),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends o{constructor(k=[]){super(),this.nodes=k}render(k){return this.nodes.reduce((q,ie)=>q+ie.render(k),"")}optimizeNodes(){const{nodes:k}=this;let q=k.length;for(;q--;){const ie=k[q].optimizeNodes();Array.isArray(ie)?k.splice(q,1,...ie):ie?k[q]=ie:k.splice(q,1)}return k.length>0?this:void 0}optimizeNames(k,q){const{nodes:ie}=this;let J=ie.length;for(;J--;){const Y=ie[J];Y.optimizeNames(k,q)||(G(k,Y.names),ie.splice(J,1))}return ie.length>0?this:void 0}get names(){return this.nodes.reduce((k,q)=>F(k,q.names),{})}}class g extends m{render(k){return"{"+k._n+super.render(k)+"}"+k._n}}class _ extends m{}class v extends g{}v.kind="else";class p extends g{constructor(k,q){super(q),this.condition=k}render(k){let q=`if(${this.condition})`+super.render(k);return this.else&&(q+="else "+this.else.render(k)),q}optimizeNodes(){super.optimizeNodes();const k=this.condition;if(k===!0)return this.nodes;let q=this.else;if(q){const ie=q.optimizeNodes();q=this.else=Array.isArray(ie)?new v(ie):ie}if(q)return k===!1?q instanceof p?q:q.nodes:this.nodes.length?this:new p(Q(k),q instanceof p?[q]:q.nodes);if(!(k===!1||!this.nodes.length))return this}optimizeNames(k,q){var ie;if(this.else=(ie=this.else)===null||ie===void 0?void 0:ie.optimizeNames(k,q),!!(super.optimizeNames(k,q)||this.else))return this.condition=X(this.condition,k,q),this}get names(){const k=super.names;return V(k,this.condition),this.else&&F(k,this.else.names),k}}p.kind="if";class E extends g{}E.kind="for";class y extends E{constructor(k){super(),this.iteration=k}render(k){return`for(${this.iteration})`+super.render(k)}optimizeNames(k,q){if(super.optimizeNames(k,q))return this.iteration=X(this.iteration,k,q),this}get names(){return F(super.names,this.iteration.names)}}class S extends E{constructor(k,q,ie,J){super(),this.varKind=k,this.name=q,this.from=ie,this.to=J}render(k){const q=k.es5?r.varKinds.var:this.varKind,{name:ie,from:J,to:Y}=this;return`for(${q} ${ie}=${J}; ${ie}<${Y}; ${ie}++)`+super.render(k)}get names(){const k=V(super.names,this.from);return V(k,this.to)}}class $ extends E{constructor(k,q,ie,J){super(),this.loop=k,this.varKind=q,this.name=ie,this.iterable=J}render(k){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(k)}optimizeNames(k,q){if(super.optimizeNames(k,q))return this.iterable=X(this.iterable,k,q),this}get names(){return F(super.names,this.iterable.names)}}class T extends g{constructor(k,q,ie){super(),this.name=k,this.args=q,this.async=ie}render(k){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(k)}}T.kind="func";class d extends m{render(k){return"return "+super.render(k)}}d.kind="return";class A extends g{render(k){let q="try"+super.render(k);return this.catch&&(q+=this.catch.render(k)),this.finally&&(q+=this.finally.render(k)),q}optimizeNodes(){var k,q;return super.optimizeNodes(),(k=this.catch)===null||k===void 0||k.optimizeNodes(),(q=this.finally)===null||q===void 0||q.optimizeNodes(),this}optimizeNames(k,q){var ie,J;return super.optimizeNames(k,q),(ie=this.catch)===null||ie===void 0||ie.optimizeNames(k,q),(J=this.finally)===null||J===void 0||J.optimizeNames(k,q),this}get names(){const k=super.names;return this.catch&&F(k,this.catch.names),this.finally&&F(k,this.finally.names),k}}class P extends g{constructor(k){super(),this.error=k}render(k){return`catch(${this.error})`+super.render(k)}}P.kind="catch";class x extends g{render(k){return"finally"+super.render(k)}}x.kind="finally";class D{constructor(k,q={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...q,_n:q.lines?`
`:""},this._extScope=k,this._scope=new r.Scope({parent:k}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(k){return this._scope.name(k)}scopeName(k){return this._extScope.name(k)}scopeValue(k,q){const ie=this._extScope.value(k,q);return(this._values[ie.prefix]||(this._values[ie.prefix]=new Set)).add(ie),ie}getScopeValue(k,q){return this._extScope.getValue(k,q)}scopeRefs(k){return this._extScope.scopeRefs(k,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(k,q,ie,J){const Y=this._scope.toName(q);return ie!==void 0&&J&&(this._constants[Y.str]=ie),this._leafNode(new a(k,Y,ie)),Y}const(k,q,ie){return this._def(r.varKinds.const,k,q,ie)}let(k,q,ie){return this._def(r.varKinds.let,k,q,ie)}var(k,q,ie){return this._def(r.varKinds.var,k,q,ie)}assign(k,q,ie){return this._leafNode(new s(k,q,ie))}add(k,q){return this._leafNode(new l(k,e.operators.ADD,q))}code(k){return typeof k=="function"?k():k!==t.nil&&this._leafNode(new h(k)),this}object(...k){const q=["{"];for(const[ie,J]of k)q.length>1&&q.push(","),q.push(ie),(ie!==J||this.opts.es5)&&(q.push(":"),(0,t.addCodeArg)(q,J));return q.push("}"),new t._Code(q)}if(k,q,ie){if(this._blockNode(new p(k)),q&&ie)this.code(q).else().code(ie).endIf();else if(q)this.code(q).endIf();else if(ie)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(k){return this._elseNode(new p(k))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(k,q){return this._blockNode(k),q&&this.code(q).endFor(),this}for(k,q){return this._for(new y(k),q)}forRange(k,q,ie,J,Y=this.opts.es5?r.varKinds.var:r.varKinds.let){const oe=this._scope.toName(k);return this._for(new S(Y,oe,q,ie),()=>J(oe))}forOf(k,q,ie,J=r.varKinds.const){const Y=this._scope.toName(k);if(this.opts.es5){const oe=q instanceof t.Name?q:this.var("_arr",q);return this.forRange("_i",0,(0,t._)`${oe}.length`,_e=>{this.var(Y,(0,t._)`${oe}[${_e}]`),ie(Y)})}return this._for(new $("of",J,Y,q),()=>ie(Y))}forIn(k,q,ie,J=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(k,(0,t._)`Object.keys(${q})`,ie);const Y=this._scope.toName(k);return this._for(new $("in",J,Y,q),()=>ie(Y))}endFor(){return this._endBlockNode(E)}label(k){return this._leafNode(new u(k))}break(k){return this._leafNode(new f(k))}return(k){const q=new d;if(this._blockNode(q),this.code(k),q.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(k,q,ie){if(!q&&!ie)throw new Error('CodeGen: "try" without "catch" and "finally"');const J=new A;if(this._blockNode(J),this.code(k),q){const Y=this.name("e");this._currNode=J.catch=new P(Y),q(Y)}return ie&&(this._currNode=J.finally=new x,this.code(ie)),this._endBlockNode(P,x)}throw(k){return this._leafNode(new c(k))}block(k,q){return this._blockStarts.push(this._nodes.length),k&&this.code(k).endBlock(q),this}endBlock(k){const q=this._blockStarts.pop();if(q===void 0)throw new Error("CodeGen: not in self-balancing block");const ie=this._nodes.length-q;if(ie<0||k!==void 0&&ie!==k)throw new Error(`CodeGen: wrong number of nodes: ${ie} vs ${k} expected`);return this._nodes.length=q,this}func(k,q=t.nil,ie,J){return this._blockNode(new T(k,q,ie)),J&&this.code(J).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(k=1){for(;k-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(k){return this._currNode.nodes.push(k),this}_blockNode(k){this._currNode.nodes.push(k),this._nodes.push(k)}_endBlockNode(k,q){const ie=this._currNode;if(ie instanceof k||q&&ie instanceof q)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${q?`${k.kind}/${q.kind}`:k.kind}"`)}_elseNode(k){const q=this._currNode;if(!(q instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=q.else=k,this}get _root(){return this._nodes[0]}get _currNode(){const k=this._nodes;return k[k.length-1]}set _currNode(k){const q=this._nodes;q[q.length-1]=k}}e.CodeGen=D;function F(O,k){for(const q in k)O[q]=(O[q]||0)+(k[q]||0);return O}function V(O,k){return k instanceof t._CodeOrName?F(O,k.names):O}function X(O,k,q){if(O instanceof t.Name)return ie(O);if(!J(O))return O;return new t._Code(O._items.reduce((Y,oe)=>(oe instanceof t.Name&&(oe=ie(oe)),oe instanceof t._Code?Y.push(...oe._items):Y.push(oe),Y),[]));function ie(Y){const oe=q[Y.str];return oe===void 0||k[Y.str]!==1?Y:(delete k[Y.str],oe)}function J(Y){return Y instanceof t._Code&&Y._items.some(oe=>oe instanceof t.Name&&k[oe.str]===1&&q[oe.str]!==void 0)}}function G(O,k){for(const q in k)O[q]=(O[q]||0)-(k[q]||0)}function Q(O){return typeof O=="boolean"||typeof O=="number"||O===null?!O:(0,t._)`!${K(O)}`}e.not=Q;const ce=B(e.operators.AND);function ee(...O){return O.reduce(ce)}e.and=ee;const ae=B(e.operators.OR);function M(...O){return O.reduce(ae)}e.or=M;function B(O){return(k,q)=>k===t.nil?q:q===t.nil?k:(0,t._)`${K(k)} ${O} ${K(q)}`}function K(O){return O instanceof t.Name?O:(0,t._)`(${O})`}})(ar);var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.checkStrictMode=Ct.getErrorPath=Ct.Type=Ct.useFunc=Ct.setEvaluated=Ct.evaluatedPropsToName=Ct.mergeEvaluated=Ct.eachItem=Ct.unescapeJsonPointer=Ct.escapeJsonPointer=Ct.escapeFragment=Ct.unescapeFragment=Ct.schemaRefOrVal=Ct.schemaHasRulesButRef=Ct.schemaHasRules=Ct.checkUnknownRules=Ct.alwaysValidSchema=Ct.toHash=void 0;const on=ar,Ode=Wm;function Rde(e){const t={};for(const r of e)t[r]=!0;return t}Ct.toHash=Rde;function Ide(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(BH(e,t),!UH(t,e.self.RULES.all))}Ct.alwaysValidSchema=Ide;function BH(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const i=n.RULES.keywords;for(const o in t)i[o]||VH(e,`unknown keyword: "${o}"`)}Ct.checkUnknownRules=BH;function UH(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}Ct.schemaHasRules=UH;function Nde(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}Ct.schemaHasRulesButRef=Nde;function Cde({topSchemaRef:e,schemaPath:t},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,on._)`${r}`}return(0,on._)`${e}${t}${(0,on.getProperty)(n)}`}Ct.schemaRefOrVal=Cde;function kde(e){return zH(decodeURIComponent(e))}Ct.unescapeFragment=kde;function jde(e){return encodeURIComponent(fN(e))}Ct.escapeFragment=jde;function fN(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}Ct.escapeJsonPointer=fN;function zH(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}Ct.unescapeJsonPointer=zH;function Dde(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}Ct.eachItem=Dde;function fL({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(i,o,a,s)=>{const l=a===void 0?o:a instanceof on.Name?(o instanceof on.Name?e(i,o,a):t(i,o,a),a):o instanceof on.Name?(t(i,a,o),o):r(o,a);return s===on.Name&&!(l instanceof on.Name)?n(i,l):l}}Ct.mergeEvaluated={props:fL({mergeNames:(e,t,r)=>e.if((0,on._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,on._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,on._)`${r} || {}`).code((0,on._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,on._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,on._)`${r} || {}`),dN(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:qH}),items:fL({mergeNames:(e,t,r)=>e.if((0,on._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,on._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,on._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,on._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function qH(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,on._)`{}`);return t!==void 0&&dN(e,r,t),r}Ct.evaluatedPropsToName=qH;function dN(e,t,r){Object.keys(r).forEach(n=>e.assign((0,on._)`${t}${(0,on.getProperty)(n)}`,!0))}Ct.setEvaluated=dN;const dL={};function Mde(e,t){return e.scopeValue("func",{ref:t,code:dL[t.code]||(dL[t.code]=new Ode._Code(t.code))})}Ct.useFunc=Mde;var Rx;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Rx||(Ct.Type=Rx={}));function Lde(e,t,r){if(e instanceof on.Name){const n=t===Rx.Num;return r?n?(0,on._)`"[" + ${e} + "]"`:(0,on._)`"['" + ${e} + "']"`:n?(0,on._)`"/" + ${e}`:(0,on._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,on.getProperty)(e).toString():"/"+fN(e)}Ct.getErrorPath=Lde;function VH(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}Ct.checkStrictMode=VH;var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});const Ni=ar,Fde={data:new Ni.Name("data"),valCxt:new Ni.Name("valCxt"),instancePath:new Ni.Name("instancePath"),parentData:new Ni.Name("parentData"),parentDataProperty:new Ni.Name("parentDataProperty"),rootData:new Ni.Name("rootData"),dynamicAnchors:new Ni.Name("dynamicAnchors"),vErrors:new Ni.Name("vErrors"),errors:new Ni.Name("errors"),this:new Ni.Name("this"),self:new Ni.Name("self"),scope:new Ni.Name("scope"),json:new Ni.Name("json"),jsonPos:new Ni.Name("jsonPos"),jsonLen:new Ni.Name("jsonLen"),jsonPart:new Ni.Name("jsonPart")};Qs.default=Fde;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ar,r=Ct,n=Qs;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,t.str)`"${v}" keyword must be ${p} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,p=e.keywordError,E,y){const{it:S}=v,{gen:$,compositeRule:T,allErrors:d}=S,A=c(v,p,E);y??(T||d)?l($,A):u(S,(0,t._)`[${A}]`)}e.reportError=i;function o(v,p=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:$,allErrors:T}=y,d=c(v,p,E);l(S,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function a(v,p){v.assign(n.default.errors,p),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,t._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:v,keyword:p,schemaValue:E,data:y,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${p}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,E),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=s;function l(v,p){const E=v.const("err",p);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,p){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${p})`):(E.assign((0,t._)`${y}.errors`,p),E.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,p,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:h(v,p,E)}function h(v,p,E={}){const{gen:y,it:S}=v,$=[m(S,E),g(v,E)];return _(v,p,$),y.object(...$)}function m({errorPath:v},{instancePath:p}){const E=p?(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:p}},{schemaPath:E,parentSchema:y}){let S=y?p:(0,t.str)`${p}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:p,message:E},y){const{keyword:S,data:$,schemaValue:T,it:d}=v,{opts:A,propertyName:P,topSchemaRef:x,schemaPath:D}=d;y.push([f.keyword,S],[f.params,typeof p=="function"?p(v):p||(0,t._)`{}`]),A.messages&&y.push([f.message,typeof E=="function"?E(v):E]),A.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${x}${D}`],[n.default.data,$]),P&&y.push([f.propertyName,P])}})(Ng);var hL;function Bde(){if(hL)return Oc;hL=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.boolOrEmptySchema=Oc.topBoolOrEmptySchema=void 0;const e=Ng,t=ar,r=Qs,n={message:"boolean schema is false"};function i(s){const{gen:l,schema:u,validateName:f}=s;u===!1?a(s,!1):typeof u=="object"&&u.$async===!0?l.return(r.default.data):(l.assign((0,t._)`${f}.errors`,null),l.return(!0))}Oc.topBoolOrEmptySchema=i;function o(s,l){const{gen:u,schema:f}=s;f===!1?(u.var(l,!1),a(s)):u.var(l,!0)}Oc.boolOrEmptySchema=o;function a(s,l){const{gen:u,data:f}=s,c={gen:u,keyword:"false schema",data:f,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:s};(0,e.reportError)(c,n,void 0,l)}return Oc}var ti={},Tf={};Object.defineProperty(Tf,"__esModule",{value:!0});Tf.getRules=Tf.isJSONType=void 0;const Ude=["string","number","integer","boolean","null","object","array"],zde=new Set(Ude);function qde(e){return typeof e=="string"&&zde.has(e)}Tf.isJSONType=qde;function Vde(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Tf.getRules=Vde;var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.shouldUseRule=Pl.shouldUseGroup=Pl.schemaHasRulesForType=void 0;function Hde({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&HH(e,n)}Pl.schemaHasRulesForType=Hde;function HH(e,t){return t.rules.some(r=>GH(e,r))}Pl.shouldUseGroup=HH;function GH(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Pl.shouldUseRule=GH;Object.defineProperty(ti,"__esModule",{value:!0});ti.reportTypeError=ti.checkDataTypes=ti.checkDataType=ti.coerceAndCheckDataType=ti.getJSONTypes=ti.getSchemaTypes=ti.DataType=void 0;const Gde=Tf,Wde=Pl,Kde=Ng,ir=ar,WH=Ct;var nh;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(nh||(ti.DataType=nh={}));function Jde(e){const t=KH(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}ti.getSchemaTypes=Jde;function KH(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(Gde.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}ti.getJSONTypes=KH;function Yde(e,t){const{gen:r,data:n,opts:i}=e,o=Xde(t,i.coerceTypes),a=t.length>0&&!(o.length===0&&t.length===1&&(0,Wde.schemaHasRulesForType)(e,t[0]));if(a){const s=hN(t,n,i.strictNumbers,nh.Wrong);r.if(s,()=>{o.length?Qde(e,t,o):pN(e)})}return a}ti.coerceAndCheckDataType=Yde;const JH=new Set(["string","number","integer","boolean","null"]);function Xde(e,t){return t?e.filter(r=>JH.has(r)||t==="array"&&r==="array"):[]}function Qde(e,t,r){const{gen:n,data:i,opts:o}=e,a=n.let("dataType",(0,ir._)`typeof ${i}`),s=n.let("coerced",(0,ir._)`undefined`);o.coerceTypes==="array"&&n.if((0,ir._)`${a} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,ir._)`${i}[0]`).assign(a,(0,ir._)`typeof ${i}`).if(hN(t,i,o.strictNumbers),()=>n.assign(s,i))),n.if((0,ir._)`${s} !== undefined`);for(const u of r)(JH.has(u)||u==="array"&&o.coerceTypes==="array")&&l(u);n.else(),pN(e),n.endIf(),n.if((0,ir._)`${s} !== undefined`,()=>{n.assign(i,s),Zde(e,s)});function l(u){switch(u){case"string":n.elseIf((0,ir._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,ir._)`"" + ${i}`).elseIf((0,ir._)`${i} === null`).assign(s,(0,ir._)`""`);return;case"number":n.elseIf((0,ir._)`${a} == "boolean" || ${i} === null
              || (${a} == "string" && ${i} && ${i} == +${i})`).assign(s,(0,ir._)`+${i}`);return;case"integer":n.elseIf((0,ir._)`${a} === "boolean" || ${i} === null
              || (${a} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(s,(0,ir._)`+${i}`);return;case"boolean":n.elseIf((0,ir._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(s,!1).elseIf((0,ir._)`${i} === "true" || ${i} === 1`).assign(s,!0);return;case"null":n.elseIf((0,ir._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(s,null);return;case"array":n.elseIf((0,ir._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${i} === null`).assign(s,(0,ir._)`[${i}]`)}}}function Zde({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,ir._)`${t} !== undefined`,()=>e.assign((0,ir._)`${t}[${r}]`,n))}function Ix(e,t,r,n=nh.Correct){const i=n===nh.Correct?ir.operators.EQ:ir.operators.NEQ;let o;switch(e){case"null":return(0,ir._)`${t} ${i} null`;case"array":o=(0,ir._)`Array.isArray(${t})`;break;case"object":o=(0,ir._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=a((0,ir._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=a();break;default:return(0,ir._)`typeof ${t} ${i} ${e}`}return n===nh.Correct?o:(0,ir.not)(o);function a(s=ir.nil){return(0,ir.and)((0,ir._)`typeof ${t} == "number"`,s,r?(0,ir._)`isFinite(${t})`:ir.nil)}}ti.checkDataType=Ix;function hN(e,t,r,n){if(e.length===1)return Ix(e[0],t,r,n);let i;const o=(0,WH.toHash)(e);if(o.array&&o.object){const a=(0,ir._)`typeof ${t} != "object"`;i=o.null?a:(0,ir._)`!${t} || ${a}`,delete o.null,delete o.array,delete o.object}else i=ir.nil;o.number&&delete o.integer;for(const a in o)i=(0,ir.and)(i,Ix(a,t,r,n));return i}ti.checkDataTypes=hN;const ehe={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,ir._)`{type: ${e}}`:(0,ir._)`{type: ${t}}`};function pN(e){const t=the(e);(0,Kde.reportError)(t,ehe)}ti.reportTypeError=pN;function the(e){const{gen:t,data:r,schema:n}=e,i=(0,WH.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}var pp={},pL;function rhe(){if(pL)return pp;pL=1,Object.defineProperty(pp,"__esModule",{value:!0}),pp.assignDefaults=void 0;const e=ar,t=Ct;function r(i,o){const{properties:a,items:s}=i.schema;if(o==="object"&&a)for(const l in a)n(i,l,a[l].default);else o==="array"&&Array.isArray(s)&&s.forEach((l,u)=>n(i,u,l.default))}pp.assignDefaults=r;function n(i,o,a){const{gen:s,compositeRule:l,data:u,opts:f}=i;if(a===void 0)return;const c=(0,e._)`${u}${(0,e.getProperty)(o)}`;if(l){(0,t.checkStrictMode)(i,`default is ignored for: ${c}`);return}let h=(0,e._)`${c} === undefined`;f.useDefaults==="empty"&&(h=(0,e._)`${h} || ${c} === null || ${c} === ""`),s.if(h,(0,e._)`${c} = ${(0,e.stringify)(a)}`)}return pp}var qa={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.validateUnion=vr.validateArray=vr.usePattern=vr.callValidateCode=vr.schemaProperties=vr.allSchemaProperties=vr.noPropertyInData=vr.propertyInData=vr.isOwnProperty=vr.hasPropFunc=vr.reportMissingProp=vr.checkMissingProp=vr.checkReportMissingProp=void 0;const gn=ar,mN=Ct,su=Qs,nhe=Ct;function ihe(e,t){const{gen:r,data:n,it:i}=e;r.if(vN(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,gn._)`${t}`},!0),e.error()})}vr.checkReportMissingProp=ihe;function ohe({gen:e,data:t,it:{opts:r}},n,i){return(0,gn.or)(...n.map(o=>(0,gn.and)(vN(e,t,o,r.ownProperties),(0,gn._)`${i} = ${o}`)))}vr.checkMissingProp=ohe;function ahe(e,t){e.setParams({missingProperty:t},!0),e.error()}vr.reportMissingProp=ahe;function YH(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,gn._)`Object.prototype.hasOwnProperty`})}vr.hasPropFunc=YH;function gN(e,t,r){return(0,gn._)`${YH(e)}.call(${t}, ${r})`}vr.isOwnProperty=gN;function she(e,t,r,n){const i=(0,gn._)`${t}${(0,gn.getProperty)(r)} !== undefined`;return n?(0,gn._)`${i} && ${gN(e,t,r)}`:i}vr.propertyInData=she;function vN(e,t,r,n){const i=(0,gn._)`${t}${(0,gn.getProperty)(r)} === undefined`;return n?(0,gn.or)(i,(0,gn.not)(gN(e,t,r))):i}vr.noPropertyInData=vN;function XH(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}vr.allSchemaProperties=XH;function lhe(e,t){return XH(t).filter(r=>!(0,mN.alwaysValidSchema)(e,t[r]))}vr.schemaProperties=lhe;function uhe({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:o},it:a},s,l,u){const f=u?(0,gn._)`${e}, ${t}, ${n}${i}`:t,c=[[su.default.instancePath,(0,gn.strConcat)(su.default.instancePath,o)],[su.default.parentData,a.parentData],[su.default.parentDataProperty,a.parentDataProperty],[su.default.rootData,su.default.rootData]];a.opts.dynamicRef&&c.push([su.default.dynamicAnchors,su.default.dynamicAnchors]);const h=(0,gn._)`${f}, ${r.object(...c)}`;return l!==gn.nil?(0,gn._)`${s}.call(${l}, ${h})`:(0,gn._)`${s}(${h})`}vr.callValidateCode=uhe;const che=(0,gn._)`new RegExp`;function fhe({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,o=i(r,n);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,gn._)`${i.code==="new RegExp"?che:(0,nhe.useFunc)(e,i)}(${r}, ${n})`})}vr.usePattern=fhe;function dhe(e){const{gen:t,data:r,keyword:n,it:i}=e,o=t.name("valid");if(i.allErrors){const s=t.let("valid",!0);return a(()=>t.assign(s,!1)),s}return t.var(o,!0),a(()=>t.break()),o;function a(s){const l=t.const("len",(0,gn._)`${r}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:mN.Type.Num},o),t.if((0,gn.not)(o),s)})}}vr.validateArray=dhe;function hhe(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,mN.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const a=t.let("valid",!1),s=t.name("_valid");t.block(()=>r.forEach((l,u)=>{const f=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},s);t.assign(a,(0,gn._)`${a} || ${s}`),e.mergeValidEvaluated(f,s)||t.if((0,gn.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}vr.validateUnion=hhe;var mL;function phe(){if(mL)return qa;mL=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.validateKeywordUsage=qa.validSchemaType=qa.funcKeywordCode=qa.macroKeywordCode=void 0;const e=ar,t=Qs,r=vr,n=Ng;function i(h,m){const{gen:g,keyword:_,schema:v,parentSchema:p,it:E}=h,y=m.macro.call(E.self,v,p,E),S=u(g,_,y);E.opts.validateSchema!==!1&&E.self.validateSchema(y,!0);const $=g.name("valid");h.subschema({schema:y,schemaPath:e.nil,errSchemaPath:`${E.errSchemaPath}/${_}`,topSchemaRef:S,compositeRule:!0},$),h.pass($,()=>h.error(!0))}qa.macroKeywordCode=i;function o(h,m){var g;const{gen:_,keyword:v,schema:p,parentSchema:E,$data:y,it:S}=h;l(S,m);const $=!y&&m.compile?m.compile.call(S.self,p,E,S):m.validate,T=u(_,v,$),d=_.let("valid");h.block$data(d,A),h.ok((g=m.valid)!==null&&g!==void 0?g:d);function A(){if(m.errors===!1)D(),m.modifying&&a(h),F(()=>h.error());else{const V=m.async?P():x();m.modifying&&a(h),F(()=>s(h,V))}}function P(){const V=_.let("ruleErrs",null);return _.try(()=>D((0,e._)`await `),X=>_.assign(d,!1).if((0,e._)`${X} instanceof ${S.ValidationError}`,()=>_.assign(V,(0,e._)`${X}.errors`),()=>_.throw(X))),V}function x(){const V=(0,e._)`${T}.errors`;return _.assign(V,null),D(e.nil),V}function D(V=m.async?(0,e._)`await `:e.nil){const X=S.opts.passContext?t.default.this:t.default.self,G=!("compile"in m&&!y||m.schema===!1);_.assign(d,(0,e._)`${V}${(0,r.callValidateCode)(h,T,X,G)}`,m.modifying)}function F(V){var X;_.if((0,e.not)((X=m.valid)!==null&&X!==void 0?X:d),V)}}qa.funcKeywordCode=o;function a(h){const{gen:m,data:g,it:_}=h;m.if(_.parentData,()=>m.assign(g,(0,e._)`${_.parentData}[${_.parentDataProperty}]`))}function s(h,m){const{gen:g}=h;g.if((0,e._)`Array.isArray(${m})`,()=>{g.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${m} : ${t.default.vErrors}.concat(${m})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(h)},()=>h.error())}function l({schemaEnv:h},m){if(m.async&&!h.$async)throw new Error("async keyword in sync schema")}function u(h,m,g){if(g===void 0)throw new Error(`keyword "${m}" failed to compile`);return h.scopeValue("keyword",typeof g=="function"?{ref:g}:{ref:g,code:(0,e.stringify)(g)})}function f(h,m,g=!1){return!m.length||m.some(_=>_==="array"?Array.isArray(h):_==="object"?h&&typeof h=="object"&&!Array.isArray(h):typeof h==_||g&&typeof h>"u")}qa.validSchemaType=f;function c({schema:h,opts:m,self:g,errSchemaPath:_},v,p){if(Array.isArray(v.keyword)?!v.keyword.includes(p):v.keyword!==p)throw new Error("ajv implementation error");const E=v.dependencies;if(E!=null&&E.some(y=>!Object.prototype.hasOwnProperty.call(h,y)))throw new Error(`parent schema must have dependencies of ${p}: ${E.join(",")}`);if(v.validateSchema&&!v.validateSchema(h[p])){const S=`keyword "${p}" value is invalid at path "${_}": `+g.errorsText(v.validateSchema.errors);if(m.validateSchema==="log")g.logger.error(S);else throw new Error(S)}}return qa.validateKeywordUsage=c,qa}var ll={},gL;function mhe(){if(gL)return ll;gL=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.extendSubschemaMode=ll.extendSubschemaData=ll.getSubschema=void 0;const e=ar,t=Ct;function r(o,{keyword:a,schemaProp:s,schema:l,schemaPath:u,errSchemaPath:f,topSchemaRef:c}){if(a!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const h=o.schema[a];return s===void 0?{schema:h,schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(a)}`,errSchemaPath:`${o.errSchemaPath}/${a}`}:{schema:h[s],schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(a)}${(0,e.getProperty)(s)}`,errSchemaPath:`${o.errSchemaPath}/${a}/${(0,t.escapeFragment)(s)}`}}if(l!==void 0){if(u===void 0||f===void 0||c===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:u,topSchemaRef:c,errSchemaPath:f}}throw new Error('either "keyword" or "schema" must be passed')}ll.getSubschema=r;function n(o,a,{dataProp:s,dataPropType:l,data:u,dataTypes:f,propertyName:c}){if(u!==void 0&&s!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:h}=a;if(s!==void 0){const{errorPath:g,dataPathArr:_,opts:v}=a,p=h.let("data",(0,e._)`${a.data}${(0,e.getProperty)(s)}`,!0);m(p),o.errorPath=(0,e.str)`${g}${(0,t.getErrorPath)(s,l,v.jsPropertySyntax)}`,o.parentDataProperty=(0,e._)`${s}`,o.dataPathArr=[..._,o.parentDataProperty]}if(u!==void 0){const g=u instanceof e.Name?u:h.let("data",u,!0);m(g),c!==void 0&&(o.propertyName=c)}f&&(o.dataTypes=f);function m(g){o.data=g,o.dataLevel=a.dataLevel+1,o.dataTypes=[],a.definedProperties=new Set,o.parentData=a.data,o.dataNames=[...a.dataNames,g]}}ll.extendSubschemaData=n;function i(o,{jtdDiscriminator:a,jtdMetadata:s,compositeRule:l,createErrors:u,allErrors:f}){l!==void 0&&(o.compositeRule=l),u!==void 0&&(o.createErrors=u),f!==void 0&&(o.allErrors=f),o.jtdDiscriminator=a,o.jtdMetadata=s}return ll.extendSubschemaMode=i,ll}var Ei={},QH=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r},ZH={exports:{}},Ru=ZH.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};kw(t,n,i,e,"",e)};Ru.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ru.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ru.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ru.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function kw(e,t,r,n,i,o,a,s,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,o,a,s,l,u);for(var f in n){var c=n[f];if(Array.isArray(c)){if(f in Ru.arrayKeywords)for(var h=0;h<c.length;h++)kw(e,t,r,c[h],i+"/"+f+"/"+h,o,i,f,n,h)}else if(f in Ru.propsKeywords){if(c&&typeof c=="object")for(var m in c)kw(e,t,r,c[m],i+"/"+f+"/"+ghe(m),o,i,f,n,m)}else(f in Ru.keywords||e.allKeys&&!(f in Ru.skipKeywords))&&kw(e,t,r,c,i+"/"+f,o,i,f,n)}r(n,i,o,a,s,l,u)}}function ghe(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var vhe=ZH.exports;Object.defineProperty(Ei,"__esModule",{value:!0});Ei.getSchemaRefs=Ei.resolveUrl=Ei.normalizeId=Ei._getFullPath=Ei.getFullPath=Ei.inlineRef=void 0;const yhe=Ct,whe=QH,bhe=vhe,_he=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Ehe(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Nx(e):t?eG(e)<=t:!1}Ei.inlineRef=Ehe;const She=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Nx(e){for(const t in e){if(She.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Nx)||typeof r=="object"&&Nx(r))return!0}return!1}function eG(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!_he.has(r)&&(typeof e[r]=="object"&&(0,yhe.eachItem)(e[r],n=>t+=eG(n)),t===1/0))return 1/0}return t}function tG(e,t="",r){r!==!1&&(t=ih(t));const n=e.parse(t);return rG(e,n)}Ei.getFullPath=tG;function rG(e,t){return e.serialize(t).split("#")[0]+"#"}Ei._getFullPath=rG;const $he=/#\/?$/;function ih(e){return e?e.replace($he,""):""}Ei.normalizeId=ih;function The(e,t,r){return r=ih(r),e.resolve(t,r)}Ei.resolveUrl=The;const Ahe=/^[a-z_][-a-z0-9._]*$/i;function Phe(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=ih(e[r]||t),o={"":i},a=tG(n,i,!1),s={},l=new Set;return bhe(e,{allKeys:!0},(c,h,m,g)=>{if(g===void 0)return;const _=a+h;let v=o[g];typeof c[r]=="string"&&(v=p.call(this,c[r])),E.call(this,c.$anchor),E.call(this,c.$dynamicAnchor),o[h]=v;function p(y){const S=this.opts.uriResolver.resolve;if(y=ih(v?S(v,y):y),l.has(y))throw f(y);l.add(y);let $=this.refs[y];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?u(c,$.schema,y):y!==ih(_)&&(y[0]==="#"?(u(c,s[y],y),s[y]=c):this.refs[y]=_),y}function E(y){if(typeof y=="string"){if(!Ahe.test(y))throw new Error(`invalid anchor "${y}"`);p.call(this,`#${y}`)}}}),s;function u(c,h,m){if(h!==void 0&&!whe(c,h))throw f(m)}function f(c){return new Error(`reference "${c}" resolves to more than one schema`)}}Ei.getSchemaRefs=Phe;var vL;function RE(){if(vL)return sl;vL=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.getData=sl.KeywordCxt=sl.validateFunctionCode=void 0;const e=Bde(),t=ti,r=Pl,n=ti,i=rhe(),o=phe(),a=mhe(),s=ar,l=Qs,u=Ei,f=Ct,c=Ng;function h(ye){if($(ye)&&(d(ye),S(ye))){v(ye);return}m(ye,()=>(0,e.topBoolOrEmptySchema)(ye))}sl.validateFunctionCode=h;function m({gen:ye,validateName:R,schema:I,schemaEnv:N,opts:H},re){H.code.es5?ye.func(R,(0,s._)`${l.default.data}, ${l.default.valCxt}`,N.$async,()=>{ye.code((0,s._)`"use strict"; ${E(I,H)}`),_(ye,H),ye.code(re)}):ye.func(R,(0,s._)`${l.default.data}, ${g(H)}`,N.$async,()=>ye.code(E(I,H)).code(re))}function g(ye){return(0,s._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${ye.dynamicRef?(0,s._)`, ${l.default.dynamicAnchors}={}`:s.nil}}={}`}function _(ye,R){ye.if(l.default.valCxt,()=>{ye.var(l.default.instancePath,(0,s._)`${l.default.valCxt}.${l.default.instancePath}`),ye.var(l.default.parentData,(0,s._)`${l.default.valCxt}.${l.default.parentData}`),ye.var(l.default.parentDataProperty,(0,s._)`${l.default.valCxt}.${l.default.parentDataProperty}`),ye.var(l.default.rootData,(0,s._)`${l.default.valCxt}.${l.default.rootData}`),R.dynamicRef&&ye.var(l.default.dynamicAnchors,(0,s._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{ye.var(l.default.instancePath,(0,s._)`""`),ye.var(l.default.parentData,(0,s._)`undefined`),ye.var(l.default.parentDataProperty,(0,s._)`undefined`),ye.var(l.default.rootData,l.default.data),R.dynamicRef&&ye.var(l.default.dynamicAnchors,(0,s._)`{}`)})}function v(ye){const{schema:R,opts:I,gen:N}=ye;m(ye,()=>{I.$comment&&R.$comment&&V(ye),x(ye),N.let(l.default.vErrors,null),N.let(l.default.errors,0),I.unevaluated&&p(ye),A(ye),X(ye)})}function p(ye){const{gen:R,validateName:I}=ye;ye.evaluated=R.const("evaluated",(0,s._)`${I}.evaluated`),R.if((0,s._)`${ye.evaluated}.dynamicProps`,()=>R.assign((0,s._)`${ye.evaluated}.props`,(0,s._)`undefined`)),R.if((0,s._)`${ye.evaluated}.dynamicItems`,()=>R.assign((0,s._)`${ye.evaluated}.items`,(0,s._)`undefined`))}function E(ye,R){const I=typeof ye=="object"&&ye[R.schemaId];return I&&(R.code.source||R.code.process)?(0,s._)`/*# sourceURL=${I} */`:s.nil}function y(ye,R){if($(ye)&&(d(ye),S(ye))){T(ye,R);return}(0,e.boolOrEmptySchema)(ye,R)}function S({schema:ye,self:R}){if(typeof ye=="boolean")return!ye;for(const I in ye)if(R.RULES.all[I])return!0;return!1}function $(ye){return typeof ye.schema!="boolean"}function T(ye,R){const{schema:I,gen:N,opts:H}=ye;H.$comment&&I.$comment&&V(ye),D(ye),F(ye);const re=N.const("_errs",l.default.errors);A(ye,re),N.var(R,(0,s._)`${re} === ${l.default.errors}`)}function d(ye){(0,f.checkUnknownRules)(ye),P(ye)}function A(ye,R){if(ye.opts.jtd)return Q(ye,[],!1,R);const I=(0,t.getSchemaTypes)(ye.schema),N=(0,t.coerceAndCheckDataType)(ye,I);Q(ye,I,!N,R)}function P(ye){const{schema:R,errSchemaPath:I,opts:N,self:H}=ye;R.$ref&&N.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(R,H.RULES)&&H.logger.warn(`$ref: keywords ignored in schema at path "${I}"`)}function x(ye){const{schema:R,opts:I}=ye;R.default!==void 0&&I.useDefaults&&I.strictSchema&&(0,f.checkStrictMode)(ye,"default is ignored in the schema root")}function D(ye){const R=ye.schema[ye.opts.schemaId];R&&(ye.baseId=(0,u.resolveUrl)(ye.opts.uriResolver,ye.baseId,R))}function F(ye){if(ye.schema.$async&&!ye.schemaEnv.$async)throw new Error("async schema in sync schema")}function V({gen:ye,schemaEnv:R,schema:I,errSchemaPath:N,opts:H}){const re=I.$comment;if(H.$comment===!0)ye.code((0,s._)`${l.default.self}.logger.log(${re})`);else if(typeof H.$comment=="function"){const le=(0,s.str)`${N}/$comment`,fe=ye.scopeValue("root",{ref:R.root});ye.code((0,s._)`${l.default.self}.opts.$comment(${re}, ${le}, ${fe}.schema)`)}}function X(ye){const{gen:R,schemaEnv:I,validateName:N,ValidationError:H,opts:re}=ye;I.$async?R.if((0,s._)`${l.default.errors} === 0`,()=>R.return(l.default.data),()=>R.throw((0,s._)`new ${H}(${l.default.vErrors})`)):(R.assign((0,s._)`${N}.errors`,l.default.vErrors),re.unevaluated&&G(ye),R.return((0,s._)`${l.default.errors} === 0`))}function G({gen:ye,evaluated:R,props:I,items:N}){I instanceof s.Name&&ye.assign((0,s._)`${R}.props`,I),N instanceof s.Name&&ye.assign((0,s._)`${R}.items`,N)}function Q(ye,R,I,N){const{gen:H,schema:re,data:le,allErrors:fe,opts:me,self:Re}=ye,{RULES:Le}=Re;if(re.$ref&&(me.ignoreKeywordsWithRef||!(0,f.schemaHasRulesButRef)(re,Le))){H.block(()=>J(ye,"$ref",Le.all.$ref.definition));return}me.jtd||ee(ye,R),H.block(()=>{for(const tt of Le.rules)je(tt);je(Le.post)});function je(tt){(0,r.shouldUseGroup)(re,tt)&&(tt.type?(H.if((0,n.checkDataType)(tt.type,le,me.strictNumbers)),ce(ye,tt),R.length===1&&R[0]===tt.type&&I&&(H.else(),(0,n.reportTypeError)(ye)),H.endIf()):ce(ye,tt),fe||H.if((0,s._)`${l.default.errors} === ${N||0}`))}}function ce(ye,R){const{gen:I,schema:N,opts:{useDefaults:H}}=ye;H&&(0,i.assignDefaults)(ye,R.type),I.block(()=>{for(const re of R.rules)(0,r.shouldUseRule)(N,re)&&J(ye,re.keyword,re.definition,R.type)})}function ee(ye,R){ye.schemaEnv.meta||!ye.opts.strictTypes||(ae(ye,R),ye.opts.allowUnionTypes||M(ye,R),B(ye,ye.dataTypes))}function ae(ye,R){if(R.length){if(!ye.dataTypes.length){ye.dataTypes=R;return}R.forEach(I=>{O(ye.dataTypes,I)||q(ye,`type "${I}" not allowed by context "${ye.dataTypes.join(",")}"`)}),k(ye,R)}}function M(ye,R){R.length>1&&!(R.length===2&&R.includes("null"))&&q(ye,"use allowUnionTypes to allow union type keyword")}function B(ye,R){const I=ye.self.RULES.all;for(const N in I){const H=I[N];if(typeof H=="object"&&(0,r.shouldUseRule)(ye.schema,H)){const{type:re}=H.definition;re.length&&!re.some(le=>K(R,le))&&q(ye,`missing type "${re.join(",")}" for keyword "${N}"`)}}}function K(ye,R){return ye.includes(R)||R==="number"&&ye.includes("integer")}function O(ye,R){return ye.includes(R)||R==="integer"&&ye.includes("number")}function k(ye,R){const I=[];for(const N of ye.dataTypes)O(R,N)?I.push(N):R.includes("integer")&&N==="number"&&I.push("integer");ye.dataTypes=I}function q(ye,R){const I=ye.schemaEnv.baseId+ye.errSchemaPath;R+=` at "${I}" (strictTypes)`,(0,f.checkStrictMode)(ye,R,ye.opts.strictTypes)}class ie{constructor(R,I,N){if((0,o.validateKeywordUsage)(R,I,N),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=N,this.data=R.data,this.schema=R.schema[N],this.$data=I.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,f.schemaRefOrVal)(R,this.schema,N,this.$data),this.schemaType=I.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=I,this.$data)this.schemaCode=R.gen.const("vSchema",_e(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,o.validSchemaType)(this.schema,I.schemaType,I.allowUndefined))throw new Error(`${N} value must be ${JSON.stringify(I.schemaType)}`);("code"in I?I.trackErrors:I.errors!==!1)&&(this.errsCount=R.gen.const("_errs",l.default.errors))}result(R,I,N){this.failResult((0,s.not)(R),I,N)}failResult(R,I,N){this.gen.if(R),N?N():this.error(),I?(this.gen.else(),I(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,I){this.failResult((0,s.not)(R),void 0,I)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:I}=this;this.fail((0,s._)`${I} !== undefined && (${(0,s.or)(this.invalid$data(),R)})`)}error(R,I,N){if(I){this.setParams(I),this._error(R,N),this.setParams({});return}this._error(R,N)}_error(R,I){(R?c.reportExtraError:c.reportError)(this,this.def.error,I)}$dataError(){(0,c.reportError)(this,this.def.$dataError||c.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,c.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,I){I?Object.assign(this.params,R):this.params=R}block$data(R,I,N=s.nil){this.gen.block(()=>{this.check$data(R,N),I()})}check$data(R=s.nil,I=s.nil){if(!this.$data)return;const{gen:N,schemaCode:H,schemaType:re,def:le}=this;N.if((0,s.or)((0,s._)`${H} === undefined`,I)),R!==s.nil&&N.assign(R,!0),(re.length||le.validateSchema)&&(N.elseIf(this.invalid$data()),this.$dataError(),R!==s.nil&&N.assign(R,!1)),N.else()}invalid$data(){const{gen:R,schemaCode:I,schemaType:N,def:H,it:re}=this;return(0,s.or)(le(),fe());function le(){if(N.length){if(!(I instanceof s.Name))throw new Error("ajv implementation error");const me=Array.isArray(N)?N:[N];return(0,s._)`${(0,n.checkDataTypes)(me,I,re.opts.strictNumbers,n.DataType.Wrong)}`}return s.nil}function fe(){if(H.validateSchema){const me=R.scopeValue("validate$data",{ref:H.validateSchema});return(0,s._)`!${me}(${I})`}return s.nil}}subschema(R,I){const N=(0,a.getSubschema)(this.it,R);(0,a.extendSubschemaData)(N,this.it,R),(0,a.extendSubschemaMode)(N,R);const H={...this.it,...N,items:void 0,props:void 0};return y(H,I),H}mergeEvaluated(R,I){const{it:N,gen:H}=this;N.opts.unevaluated&&(N.props!==!0&&R.props!==void 0&&(N.props=f.mergeEvaluated.props(H,R.props,N.props,I)),N.items!==!0&&R.items!==void 0&&(N.items=f.mergeEvaluated.items(H,R.items,N.items,I)))}mergeValidEvaluated(R,I){const{it:N,gen:H}=this;if(N.opts.unevaluated&&(N.props!==!0||N.items!==!0))return H.if(I,()=>this.mergeEvaluated(R,s.Name)),!0}}sl.KeywordCxt=ie;function J(ye,R,I,N){const H=new ie(ye,I,R);"code"in I?I.code(H,N):H.$data&&I.validate?(0,o.funcKeywordCode)(H,I):"macro"in I?(0,o.macroKeywordCode)(H,I):(I.compile||I.validate)&&(0,o.funcKeywordCode)(H,I)}const Y=/^\/(?:[^~]|~0|~1)*$/,oe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function _e(ye,{dataLevel:R,dataNames:I,dataPathArr:N}){let H,re;if(ye==="")return l.default.rootData;if(ye[0]==="/"){if(!Y.test(ye))throw new Error(`Invalid JSON-pointer: ${ye}`);H=ye,re=l.default.rootData}else{const Re=oe.exec(ye);if(!Re)throw new Error(`Invalid JSON-pointer: ${ye}`);const Le=+Re[1];if(H=Re[2],H==="#"){if(Le>=R)throw new Error(me("property/index",Le));return N[R-Le]}if(Le>R)throw new Error(me("data",Le));if(re=I[R-Le],!H)return re}let le=re;const fe=H.split("/");for(const Re of fe)Re&&(re=(0,s._)`${re}${(0,s.getProperty)((0,f.unescapeJsonPointer)(Re))}`,le=(0,s._)`${le} && ${re}`);return le;function me(Re,Le){return`Cannot access ${Re} ${Le} levels up, current level is ${R}`}}return sl.getData=_e,sl}var Cg={};Object.defineProperty(Cg,"__esModule",{value:!0});class xhe extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Cg.default=xhe;var Fh={};Object.defineProperty(Fh,"__esModule",{value:!0});const j1=Ei;class Ohe extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,j1.resolveUrl)(t,r,n),this.missingSchema=(0,j1.normalizeId)((0,j1.getFullPath)(t,this.missingRef))}}Fh.default=Ohe;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.resolveSchema=yo.getCompilingSchema=yo.resolveRef=yo.compileSchema=yo.SchemaEnv=void 0;const Va=ar,Rhe=Cg,Rc=Qs,rs=Ei,yL=Ct,Ihe=RE();class IE{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,rs.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}yo.SchemaEnv=IE;function yN(e){const t=nG.call(this,e);if(t)return t;const r=(0,rs.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:o}=this.opts,a=new Va.CodeGen(this.scope,{es5:n,lines:i,ownProperties:o});let s;e.$async&&(s=a.scopeValue("Error",{ref:Rhe.default,code:(0,Va._)`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");e.validateName=l;const u={gen:a,allErrors:this.opts.allErrors,data:Rc.default.data,parentData:Rc.default.parentData,parentDataProperty:Rc.default.parentDataProperty,dataNames:[Rc.default.data],dataPathArr:[Va.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Va.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:s,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Va.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Va._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,Ihe.validateFunctionCode)(u),a.optimize(this.opts.code.optimize);const c=a.toString();f=`${a.scopeRefs(Rc.default.scope)}return ${c}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const m=new Function(`${Rc.default.self}`,`${Rc.default.scope}`,f)(this,this.scope.get());if(this.scope.value(l,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:l,validateCode:c,scopeValues:a._values}),this.opts.unevaluated){const{props:g,items:_}=u;m.evaluated={props:g instanceof Va.Name?void 0:g,items:_ instanceof Va.Name?void 0:_,dynamicProps:g instanceof Va.Name,dynamicItems:_ instanceof Va.Name},m.source&&(m.source.evaluated=(0,Va.stringify)(m.evaluated))}return e.validate=m,e}catch(c){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),c}finally{this._compilations.delete(e)}}yo.compileSchema=yN;function Nhe(e,t,r){var n;r=(0,rs.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let o=jhe.call(this,e,r);if(o===void 0){const a=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:s}=this.opts;a&&(o=new IE({schema:a,schemaId:s,root:e,baseId:t}))}if(o!==void 0)return e.refs[r]=Che.call(this,o)}yo.resolveRef=Nhe;function Che(e){return(0,rs.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:yN.call(this,e)}function nG(e){for(const t of this._compilations)if(khe(t,e))return t}yo.getCompilingSchema=nG;function khe(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function jhe(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||NE.call(this,e,t)}function NE(e,t){const r=this.opts.uriResolver.parse(t),n=(0,rs._getFullPath)(this.opts.uriResolver,r);let i=(0,rs.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return D1.call(this,r,e);const o=(0,rs.normalizeId)(n),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){const s=NE.call(this,e,a);return typeof(s==null?void 0:s.schema)!="object"?void 0:D1.call(this,r,s)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||yN.call(this,a),o===(0,rs.normalizeId)(t)){const{schema:s}=a,{schemaId:l}=this.opts,u=s[l];return u&&(i=(0,rs.resolveUrl)(this.opts.uriResolver,i,u)),new IE({schema:s,schemaId:l,root:e,baseId:i})}return D1.call(this,r,a)}}yo.resolveSchema=NE;const Dhe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function D1(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const s of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,yL.unescapeFragment)(s)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!Dhe.has(s)&&u&&(t=(0,rs.resolveUrl)(this.opts.uriResolver,t,u))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,yL.schemaHasRulesButRef)(r,this.RULES)){const s=(0,rs.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=NE.call(this,n,s)}const{schemaId:a}=this.opts;if(o=o||new IE({schema:r,schemaId:a,root:n,baseId:t}),o.schema!==o.root.schema)return o}const Mhe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Lhe="Meta-schema for $data reference (JSON AnySchema extension proposal)",Fhe="object",Bhe=["$data"],Uhe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},zhe=!1,qhe={$id:Mhe,description:Lhe,type:Fhe,required:Bhe,properties:Uhe,additionalProperties:zhe};var wN={},CE={exports:{}};const Vhe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var Hhe={HEX:Vhe};const{HEX:Ghe}=Hhe,Whe=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function iG(e){if(aG(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(Whe)||[],[r]=t;return r?{host:Jhe(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function wL(e,t=!1){let r="",n=!0;for(const i of e){if(Ghe[i]===void 0)return;i!=="0"&&n===!0&&(n=!1),n||(r+=i)}return t&&r.length===0&&(r="0"),r}function Khe(e){let t=0;const r={error:!1,address:"",zone:""},n=[],i=[];let o=!1,a=!1,s=!1;function l(){if(i.length){if(o===!1){const u=wL(i);if(u!==void 0)n.push(u);else return r.error=!0,!1}i.length=0}return!0}for(let u=0;u<e.length;u++){const f=e[u];if(!(f==="["||f==="]"))if(f===":"){if(a===!0&&(s=!0),!l())break;if(t++,n.push(":"),t>7){r.error=!0;break}u-1>=0&&e[u-1]===":"&&(a=!0);continue}else if(f==="%"){if(!l())break;o=!0}else{i.push(f);continue}}return i.length&&(o?r.zone=i.join(""):s?n.push(i.join("")):n.push(wL(i))),r.address=n.join(""),r}function oG(e){if(aG(e,":")<2)return{host:e,isIPV6:!1};const t=Khe(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,escapedHost:n,isIPV6:!0}}}function Jhe(e,t){let r="",n=!0;const i=e.length;for(let o=0;o<i;o++){const a=e[o];a==="0"&&n?(o+1<=i&&e[o+1]===t||o+1===i)&&(r+=a,n=!1):(a===t?n=!0:n=!1,r+=a)}return r}function aG(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}const bL=/^\.\.?\//u,_L=/^\/\.(?:\/|$)/u,EL=/^\/\.\.(?:\/|$)/u,Yhe=/^\/?(?:.|\n)*?(?=\/|$)/u;function Xhe(e){const t=[];for(;e.length;)if(e.match(bL))e=e.replace(bL,"");else if(e.match(_L))e=e.replace(_L,"/");else if(e.match(EL))e=e.replace(EL,"/"),t.pop();else if(e==="."||e==="..")e="";else{const r=e.match(Yhe);if(r){const n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function Qhe(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Zhe(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);const n=iG(r);if(n.isIPV4)r=n.host;else{const i=oG(n.host);i.isIPV6===!0?r=`[${i.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var epe={recomposeAuthority:Zhe,normalizeComponentEncoding:Qhe,removeDotSegments:Xhe,normalizeIPv4:iG,normalizeIPv6:oG};const tpe=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,rpe=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function sG(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function lG(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function uG(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function npe(e){return e.secure=sG(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function ipe(e){if((e.port===(sG(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function ope(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(rpe);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const i=`${n}:${t.nid||e.nid}`,o=bN[i];e.path=void 0,o&&(e=o.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function ape(e,t){const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),i=`${r}:${t.nid||n}`,o=bN[i];o&&(e=o.serialize(e,t));const a=e,s=e.nss;return a.path=`${n||t.nid}:${s}`,t.skipEscape=!0,a}function spe(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!tpe.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function lpe(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const cG={scheme:"http",domainHost:!0,parse:lG,serialize:uG},upe={scheme:"https",domainHost:cG.domainHost,parse:lG,serialize:uG},jw={scheme:"ws",domainHost:!0,parse:npe,serialize:ipe},cpe={scheme:"wss",domainHost:jw.domainHost,parse:jw.parse,serialize:jw.serialize},fpe={scheme:"urn",parse:ope,serialize:ape,skipNormalize:!0},dpe={scheme:"urn:uuid",parse:spe,serialize:lpe,skipNormalize:!0},bN={http:cG,https:upe,ws:jw,wss:cpe,urn:fpe,"urn:uuid":dpe};var hpe=bN;const{normalizeIPv6:ppe,normalizeIPv4:mpe,removeDotSegments:Fp,recomposeAuthority:gpe,normalizeComponentEncoding:Yv}=epe,_N=hpe;function vpe(e,t){return typeof e=="string"?e=Fs(jl(e,t),t):typeof e=="object"&&(e=jl(Fs(e,t),t)),e}function ype(e,t,r){const n=Object.assign({scheme:"null"},r),i=fG(jl(e,n),jl(t,n),n,!0);return Fs(i,{...n,skipEscape:!0})}function fG(e,t,r,n){const i={};return n||(e=jl(Fs(e,r),r),t=jl(Fs(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=Fp(t.path||""),i.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=Fp(t.path||""),i.query=t.query):(t.path?(t.path.charAt(0)==="/"?i.path=Fp(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?i.path="/"+t.path:e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path,i.path=Fp(i.path)),i.query=t.query):(i.path=e.path,t.query!==void 0?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function wpe(e,t,r){return typeof e=="string"?(e=unescape(e),e=Fs(Yv(jl(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Fs(Yv(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Fs(Yv(jl(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Fs(Yv(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Fs(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),i=[],o=_N[(n.scheme||r.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&i.push(r.scheme,":");const a=gpe(r);if(a!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(a),r.path&&r.path.charAt(0)!=="/"&&i.push("/")),r.path!==void 0){let s=r.path;!n.absolutePath&&(!o||!o.absolutePath)&&(s=Fp(s)),a===void 0&&(s=s.replace(/^\/\//u,"/%2F")),i.push(s)}return r.query!==void 0&&i.push("?",r.query),r.fragment!==void 0&&i.push("#",r.fragment),i.join("")}const bpe=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function _pe(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||bpe[t])return!0;return!1}const Epe=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function jl(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=e.indexOf("%")!==-1;let o=!1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);const a=e.match(Epe);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host){const l=mpe(n.host);if(l.isIPV4===!1){const u=ppe(l.host);n.host=u.host.toLowerCase(),o=u.isIPV6}else n.host=l.host,o=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const s=_N[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!s||!s.unicodeSupport)&&n.host&&(r.domainHost||s&&s.domainHost)&&o===!1&&_pe(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(l){n.error=n.error||"Host's domain name can not be converted to ASCII: "+l}(!s||s&&!s.skipNormalize)&&(i&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),i&&n.host!==void 0&&(n.host=unescape(n.host)),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),s&&s.parse&&s.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const EN={SCHEMES:_N,normalize:vpe,resolve:ype,resolveComponents:fG,equal:wpe,serialize:Fs,parse:jl};CE.exports=EN;CE.exports.default=EN;CE.exports.fastUri=EN;var Spe=CE.exports;Object.defineProperty(wN,"__esModule",{value:!0});const dG=Spe;dG.code='require("ajv/dist/runtime/uri").default';wN.default=dG;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=RE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=ar;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Cg,i=Fh,o=Tf,a=yo,s=ar,l=Ei,u=ti,f=Ct,c=qhe,h=wN,m=(M,B)=>new RegExp(M,B);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(M){var B,K,O,k,q,ie,J,Y,oe,_e,ye,R,I,N,H,re,le,fe,me,Re,Le,je,tt,Ge,Ue;const W=M.strict,C=(B=M.code)===null||B===void 0?void 0:B.optimize,L=C===!0||C===void 0?1:C||0,ne=(O=(K=M.code)===null||K===void 0?void 0:K.regExp)!==null&&O!==void 0?O:m,we=(k=M.uriResolver)!==null&&k!==void 0?k:h.default;return{strictSchema:(ie=(q=M.strictSchema)!==null&&q!==void 0?q:W)!==null&&ie!==void 0?ie:!0,strictNumbers:(Y=(J=M.strictNumbers)!==null&&J!==void 0?J:W)!==null&&Y!==void 0?Y:!0,strictTypes:(_e=(oe=M.strictTypes)!==null&&oe!==void 0?oe:W)!==null&&_e!==void 0?_e:"log",strictTuples:(R=(ye=M.strictTuples)!==null&&ye!==void 0?ye:W)!==null&&R!==void 0?R:"log",strictRequired:(N=(I=M.strictRequired)!==null&&I!==void 0?I:W)!==null&&N!==void 0?N:!1,code:M.code?{...M.code,optimize:L,regExp:ne}:{optimize:L,regExp:ne},loopRequired:(H=M.loopRequired)!==null&&H!==void 0?H:E,loopEnum:(re=M.loopEnum)!==null&&re!==void 0?re:E,meta:(le=M.meta)!==null&&le!==void 0?le:!0,messages:(fe=M.messages)!==null&&fe!==void 0?fe:!0,inlineRefs:(me=M.inlineRefs)!==null&&me!==void 0?me:!0,schemaId:(Re=M.schemaId)!==null&&Re!==void 0?Re:"$id",addUsedSchema:(Le=M.addUsedSchema)!==null&&Le!==void 0?Le:!0,validateSchema:(je=M.validateSchema)!==null&&je!==void 0?je:!0,validateFormats:(tt=M.validateFormats)!==null&&tt!==void 0?tt:!0,unicodeRegExp:(Ge=M.unicodeRegExp)!==null&&Ge!==void 0?Ge:!0,int32range:(Ue=M.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:we}}class S{constructor(B={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,B=this.opts={...B,...y(B)};const{es5:K,lines:O}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:K,lines:O}),this.logger=F(B.logger);const k=B.validateFormats;B.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,B,"NOT SUPPORTED"),$.call(this,p,B,"DEPRECATED","warn"),this._metaOpts=x.call(this),B.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),B.keywords&&P.call(this,B.keywords),typeof B.meta=="object"&&this.addMetaSchema(B.meta),d.call(this),B.validateFormats=k}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:B,meta:K,schemaId:O}=this.opts;let k=c;O==="id"&&(k={...c},k.id=k.$id,delete k.$id),K&&B&&this.addMetaSchema(k,k[O],!1)}defaultMeta(){const{meta:B,schemaId:K}=this.opts;return this.opts.defaultMeta=typeof B=="object"?B[K]||B:void 0}validate(B,K){let O;if(typeof B=="string"){if(O=this.getSchema(B),!O)throw new Error(`no schema with key or ref "${B}"`)}else O=this.compile(B);const k=O(K);return"$async"in O||(this.errors=O.errors),k}compile(B,K){const O=this._addSchema(B,K);return O.validate||this._compileSchemaEnv(O)}compileAsync(B,K){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:O}=this.opts;return k.call(this,B,K);async function k(_e,ye){await q.call(this,_e.$schema);const R=this._addSchema(_e,ye);return R.validate||ie.call(this,R)}async function q(_e){_e&&!this.getSchema(_e)&&await k.call(this,{$ref:_e},!0)}async function ie(_e){try{return this._compileSchemaEnv(_e)}catch(ye){if(!(ye instanceof i.default))throw ye;return J.call(this,ye),await Y.call(this,ye.missingSchema),ie.call(this,_e)}}function J({missingSchema:_e,missingRef:ye}){if(this.refs[_e])throw new Error(`AnySchema ${_e} is loaded but ${ye} cannot be resolved`)}async function Y(_e){const ye=await oe.call(this,_e);this.refs[_e]||await q.call(this,ye.$schema),this.refs[_e]||this.addSchema(ye,_e,K)}async function oe(_e){const ye=this._loading[_e];if(ye)return ye;try{return await(this._loading[_e]=O(_e))}finally{delete this._loading[_e]}}}addSchema(B,K,O,k=this.opts.validateSchema){if(Array.isArray(B)){for(const ie of B)this.addSchema(ie,void 0,O,k);return this}let q;if(typeof B=="object"){const{schemaId:ie}=this.opts;if(q=B[ie],q!==void 0&&typeof q!="string")throw new Error(`schema ${ie} must be string`)}return K=(0,l.normalizeId)(K||q),this._checkUnique(K),this.schemas[K]=this._addSchema(B,O,K,k,!0),this}addMetaSchema(B,K,O=this.opts.validateSchema){return this.addSchema(B,K,!0,O),this}validateSchema(B,K){if(typeof B=="boolean")return!0;let O;if(O=B.$schema,O!==void 0&&typeof O!="string")throw new Error("$schema must be a string");if(O=O||this.opts.defaultMeta||this.defaultMeta(),!O)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const k=this.validate(O,B);if(!k&&K){const q="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(q);else throw new Error(q)}return k}getSchema(B){let K;for(;typeof(K=T.call(this,B))=="string";)B=K;if(K===void 0){const{schemaId:O}=this.opts,k=new a.SchemaEnv({schema:{},schemaId:O});if(K=a.resolveSchema.call(this,k,B),!K)return;this.refs[B]=K}return K.validate||this._compileSchemaEnv(K)}removeSchema(B){if(B instanceof RegExp)return this._removeAllSchemas(this.schemas,B),this._removeAllSchemas(this.refs,B),this;switch(typeof B){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const K=T.call(this,B);return typeof K=="object"&&this._cache.delete(K.schema),delete this.schemas[B],delete this.refs[B],this}case"object":{const K=B;this._cache.delete(K);let O=B[this.opts.schemaId];return O&&(O=(0,l.normalizeId)(O),delete this.schemas[O],delete this.refs[O]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(B){for(const K of B)this.addKeyword(K);return this}addKeyword(B,K){let O;if(typeof B=="string")O=B,typeof K=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),K.keyword=O);else if(typeof B=="object"&&K===void 0){if(K=B,O=K.keyword,Array.isArray(O)&&!O.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(X.call(this,O,K),!K)return(0,f.eachItem)(O,q=>G.call(this,q)),this;ce.call(this,K);const k={...K,type:(0,u.getJSONTypes)(K.type),schemaType:(0,u.getJSONTypes)(K.schemaType)};return(0,f.eachItem)(O,k.type.length===0?q=>G.call(this,q,k):q=>k.type.forEach(ie=>G.call(this,q,k,ie))),this}getKeyword(B){const K=this.RULES.all[B];return typeof K=="object"?K.definition:!!K}removeKeyword(B){const{RULES:K}=this;delete K.keywords[B],delete K.all[B];for(const O of K.rules){const k=O.rules.findIndex(q=>q.keyword===B);k>=0&&O.rules.splice(k,1)}return this}addFormat(B,K){return typeof K=="string"&&(K=new RegExp(K)),this.formats[B]=K,this}errorsText(B=this.errors,{separator:K=", ",dataVar:O="data"}={}){return!B||B.length===0?"No errors":B.map(k=>`${O}${k.instancePath} ${k.message}`).reduce((k,q)=>k+K+q)}$dataMetaSchema(B,K){const O=this.RULES.all;B=JSON.parse(JSON.stringify(B));for(const k of K){const q=k.split("/").slice(1);let ie=B;for(const J of q)ie=ie[J];for(const J in O){const Y=O[J];if(typeof Y!="object")continue;const{$data:oe}=Y.definition,_e=ie[J];oe&&_e&&(ie[J]=ae(_e))}}return B}_removeAllSchemas(B,K){for(const O in B){const k=B[O];(!K||K.test(O))&&(typeof k=="string"?delete B[O]:k&&!k.meta&&(this._cache.delete(k.schema),delete B[O]))}}_addSchema(B,K,O,k=this.opts.validateSchema,q=this.opts.addUsedSchema){let ie;const{schemaId:J}=this.opts;if(typeof B=="object")ie=B[J];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof B!="boolean")throw new Error("schema must be object or boolean")}let Y=this._cache.get(B);if(Y!==void 0)return Y;O=(0,l.normalizeId)(ie||O);const oe=l.getSchemaRefs.call(this,B,O);return Y=new a.SchemaEnv({schema:B,schemaId:J,meta:K,baseId:O,localRefs:oe}),this._cache.set(Y.schema,Y),q&&!O.startsWith("#")&&(O&&this._checkUnique(O),this.refs[O]=Y),k&&this.validateSchema(B,!0),Y}_checkUnique(B){if(this.schemas[B]||this.refs[B])throw new Error(`schema with key or id "${B}" already exists`)}_compileSchemaEnv(B){if(B.meta?this._compileMetaSchema(B):a.compileSchema.call(this,B),!B.validate)throw new Error("ajv implementation error");return B.validate}_compileMetaSchema(B){const K=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,B)}finally{this.opts=K}}}S.ValidationError=n.default,S.MissingRefError=i.default,e.default=S;function $(M,B,K,O="error"){for(const k in M){const q=k;q in B&&this.logger[O](`${K}: option ${k}. ${M[q]}`)}}function T(M){return M=(0,l.normalizeId)(M),this.schemas[M]||this.refs[M]}function d(){const M=this.opts.schemas;if(M)if(Array.isArray(M))this.addSchema(M);else for(const B in M)this.addSchema(M[B],B)}function A(){for(const M in this.opts.formats){const B=this.opts.formats[M];B&&this.addFormat(M,B)}}function P(M){if(Array.isArray(M)){this.addVocabulary(M);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in M){const K=M[B];K.keyword||(K.keyword=B),this.addKeyword(K)}}function x(){const M={...this.opts};for(const B of g)delete M[B];return M}const D={log(){},warn(){},error(){}};function F(M){if(M===!1)return D;if(M===void 0)return console;if(M.log&&M.warn&&M.error)return M;throw new Error("logger must implement log, warn and error methods")}const V=/^[a-z_$][a-z0-9_$:-]*$/i;function X(M,B){const{RULES:K}=this;if((0,f.eachItem)(M,O=>{if(K.keywords[O])throw new Error(`Keyword ${O} is already defined`);if(!V.test(O))throw new Error(`Keyword ${O} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function G(M,B,K){var O;const k=B==null?void 0:B.post;if(K&&k)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let ie=k?q.post:q.rules.find(({type:Y})=>Y===K);if(ie||(ie={type:K,rules:[]},q.rules.push(ie)),q.keywords[M]=!0,!B)return;const J={keyword:M,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?Q.call(this,ie,J,B.before):ie.rules.push(J),q.all[M]=J,(O=B.implements)===null||O===void 0||O.forEach(Y=>this.addKeyword(Y))}function Q(M,B,K){const O=M.rules.findIndex(k=>k.keyword===K);O>=0?M.rules.splice(O,0,B):(M.rules.push(B),this.logger.warn(`rule ${K} is not defined`))}function ce(M){let{metaSchema:B}=M;B!==void 0&&(M.$data&&this.opts.$data&&(B=ae(B)),M.validateSchema=this.compile(B,!0))}const ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ae(M){return{anyOf:[M,ee]}}})(FH);var SN={},$N={},TN={};Object.defineProperty(TN,"__esModule",{value:!0});const $pe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};TN.default=$pe;var Af={};Object.defineProperty(Af,"__esModule",{value:!0});Af.callRef=Af.getValidate=void 0;const Tpe=Fh,SL=vr,po=ar,fd=Qs,$L=yo,Xv=Ct,Ape={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:o,validateName:a,opts:s,self:l}=n,{root:u}=o;if((r==="#"||r==="#/")&&i===u.baseId)return c();const f=$L.resolveRef.call(l,u,i,r);if(f===void 0)throw new Tpe.default(n.opts.uriResolver,i,r);if(f instanceof $L.SchemaEnv)return h(f);return m(f);function c(){if(o===u)return Dw(e,a,o,o.$async);const g=t.scopeValue("root",{ref:u});return Dw(e,(0,po._)`${g}.validate`,u,u.$async)}function h(g){const _=hG(e,g);Dw(e,_,g,g.$async)}function m(g){const _=t.scopeValue("schema",s.code.source===!0?{ref:g,code:(0,po.stringify)(g)}:{ref:g}),v=t.name("valid"),p=e.subschema({schema:g,dataTypes:[],schemaPath:po.nil,topSchemaRef:_,errSchemaPath:r},v);e.mergeEvaluated(p),e.ok(v)}}};function hG(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,po._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Af.getValidate=hG;function Dw(e,t,r,n){const{gen:i,it:o}=e,{allErrors:a,schemaEnv:s,opts:l}=o,u=l.passContext?fd.default.this:po.nil;n?f():c();function f(){if(!s.$async)throw new Error("async schema referenced by sync schema");const g=i.let("valid");i.try(()=>{i.code((0,po._)`await ${(0,SL.callValidateCode)(e,t,u)}`),m(t),a||i.assign(g,!0)},_=>{i.if((0,po._)`!(${_} instanceof ${o.ValidationError})`,()=>i.throw(_)),h(_),a||i.assign(g,!1)}),e.ok(g)}function c(){e.result((0,SL.callValidateCode)(e,t,u),()=>m(t),()=>h(t))}function h(g){const _=(0,po._)`${g}.errors`;i.assign(fd.default.vErrors,(0,po._)`${fd.default.vErrors} === null ? ${_} : ${fd.default.vErrors}.concat(${_})`),i.assign(fd.default.errors,(0,po._)`${fd.default.vErrors}.length`)}function m(g){var _;if(!o.opts.unevaluated)return;const v=(_=r==null?void 0:r.validate)===null||_===void 0?void 0:_.evaluated;if(o.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(o.props=Xv.mergeEvaluated.props(i,v.props,o.props));else{const p=i.var("props",(0,po._)`${g}.evaluated.props`);o.props=Xv.mergeEvaluated.props(i,p,o.props,po.Name)}if(o.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(o.items=Xv.mergeEvaluated.items(i,v.items,o.items));else{const p=i.var("items",(0,po._)`${g}.evaluated.items`);o.items=Xv.mergeEvaluated.items(i,p,o.items,po.Name)}}}Af.callRef=Dw;Af.default=Ape;Object.defineProperty($N,"__esModule",{value:!0});const Ppe=TN,xpe=Af,Ope=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Ppe.default,xpe.default];$N.default=Ope;var AN={},PN={};Object.defineProperty(PN,"__esModule",{value:!0});const r_=ar,lu=r_.operators,n_={maximum:{okStr:"<=",ok:lu.LTE,fail:lu.GT},minimum:{okStr:">=",ok:lu.GTE,fail:lu.LT},exclusiveMaximum:{okStr:"<",ok:lu.LT,fail:lu.GTE},exclusiveMinimum:{okStr:">",ok:lu.GT,fail:lu.LTE}},Rpe={message:({keyword:e,schemaCode:t})=>(0,r_.str)`must be ${n_[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,r_._)`{comparison: ${n_[e].okStr}, limit: ${t}}`},Ipe={keyword:Object.keys(n_),type:"number",schemaType:"number",$data:!0,error:Rpe,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,r_._)`${r} ${n_[t].fail} ${n} || isNaN(${r})`)}};PN.default=Ipe;var xN={};Object.defineProperty(xN,"__esModule",{value:!0});const cm=ar,Npe={message:({schemaCode:e})=>(0,cm.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,cm._)`{multipleOf: ${e}}`},Cpe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Npe,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,o=i.opts.multipleOfPrecision,a=t.let("res"),s=o?(0,cm._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,cm._)`${a} !== parseInt(${a})`;e.fail$data((0,cm._)`(${n} === 0 || (${a} = ${r}/${n}, ${s}))`)}};xN.default=Cpe;var ON={},RN={};Object.defineProperty(RN,"__esModule",{value:!0});function pG(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}RN.default=pG;pG.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ON,"__esModule",{value:!0});const qc=ar,kpe=Ct,jpe=RN,Dpe={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,qc.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,qc._)`{limit: ${e}}`},Mpe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Dpe,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,o=t==="maxLength"?qc.operators.GT:qc.operators.LT,a=i.opts.unicode===!1?(0,qc._)`${r}.length`:(0,qc._)`${(0,kpe.useFunc)(e.gen,jpe.default)}(${r})`;e.fail$data((0,qc._)`${a} ${o} ${n}`)}};ON.default=Mpe;var IN={};Object.defineProperty(IN,"__esModule",{value:!0});const Lpe=vr,i_=ar,Fpe={message:({schemaCode:e})=>(0,i_.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,i_._)`{pattern: ${e}}`},Bpe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Fpe,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:o}=e,a=o.opts.unicodeRegExp?"u":"",s=r?(0,i_._)`(new RegExp(${i}, ${a}))`:(0,Lpe.usePattern)(e,n);e.fail$data((0,i_._)`!${s}.test(${t})`)}};IN.default=Bpe;var NN={};Object.defineProperty(NN,"__esModule",{value:!0});const fm=ar,Upe={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,fm.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,fm._)`{limit: ${e}}`},zpe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Upe,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?fm.operators.GT:fm.operators.LT;e.fail$data((0,fm._)`Object.keys(${r}).length ${i} ${n}`)}};NN.default=zpe;var CN={};Object.defineProperty(CN,"__esModule",{value:!0});const mp=vr,dm=ar,qpe=Ct,Vpe={message:({params:{missingProperty:e}})=>(0,dm.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,dm._)`{missingProperty: ${e}}`},Hpe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Vpe,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:o,it:a}=e,{opts:s}=a;if(!o&&r.length===0)return;const l=r.length>=s.loopRequired;if(a.allErrors?u():f(),s.strictRequired){const m=e.parentSchema.properties,{definedProperties:g}=e.it;for(const _ of r)if((m==null?void 0:m[_])===void 0&&!g.has(_)){const v=a.schemaEnv.baseId+a.errSchemaPath,p=`required property "${_}" is not defined at "${v}" (strictRequired)`;(0,qpe.checkStrictMode)(a,p,a.opts.strictRequired)}}function u(){if(l||o)e.block$data(dm.nil,c);else for(const m of r)(0,mp.checkReportMissingProp)(e,m)}function f(){const m=t.let("missing");if(l||o){const g=t.let("valid",!0);e.block$data(g,()=>h(m,g)),e.ok(g)}else t.if((0,mp.checkMissingProp)(e,r,m)),(0,mp.reportMissingProp)(e,m),t.else()}function c(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,mp.noPropertyInData)(t,i,m,s.ownProperties),()=>e.error())})}function h(m,g){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(g,(0,mp.propertyInData)(t,i,m,s.ownProperties)),t.if((0,dm.not)(g),()=>{e.error(),t.break()})},dm.nil)}}};CN.default=Hpe;var kN={};Object.defineProperty(kN,"__esModule",{value:!0});const hm=ar,Gpe={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,hm.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,hm._)`{limit: ${e}}`},Wpe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Gpe,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?hm.operators.GT:hm.operators.LT;e.fail$data((0,hm._)`${r}.length ${i} ${n}`)}};kN.default=Wpe;var jN={},kg={};Object.defineProperty(kg,"__esModule",{value:!0});const mG=QH;mG.code='require("ajv/dist/runtime/equal").default';kg.default=mG;Object.defineProperty(jN,"__esModule",{value:!0});const M1=ti,bi=ar,Kpe=Ct,Jpe=kg,Ype={message:({params:{i:e,j:t}})=>(0,bi.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,bi._)`{i: ${e}, j: ${t}}`},Xpe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Ype,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:o,schemaCode:a,it:s}=e;if(!n&&!i)return;const l=t.let("valid"),u=o.items?(0,M1.getSchemaTypes)(o.items):[];e.block$data(l,f,(0,bi._)`${a} === false`),e.ok(l);function f(){const g=t.let("i",(0,bi._)`${r}.length`),_=t.let("j");e.setParams({i:g,j:_}),t.assign(l,!0),t.if((0,bi._)`${g} > 1`,()=>(c()?h:m)(g,_))}function c(){return u.length>0&&!u.some(g=>g==="object"||g==="array")}function h(g,_){const v=t.name("item"),p=(0,M1.checkDataTypes)(u,v,s.opts.strictNumbers,M1.DataType.Wrong),E=t.const("indices",(0,bi._)`{}`);t.for((0,bi._)`;${g}--;`,()=>{t.let(v,(0,bi._)`${r}[${g}]`),t.if(p,(0,bi._)`continue`),u.length>1&&t.if((0,bi._)`typeof ${v} == "string"`,(0,bi._)`${v} += "_"`),t.if((0,bi._)`typeof ${E}[${v}] == "number"`,()=>{t.assign(_,(0,bi._)`${E}[${v}]`),e.error(),t.assign(l,!1).break()}).code((0,bi._)`${E}[${v}] = ${g}`)})}function m(g,_){const v=(0,Kpe.useFunc)(t,Jpe.default),p=t.name("outer");t.label(p).for((0,bi._)`;${g}--;`,()=>t.for((0,bi._)`${_} = ${g}; ${_}--;`,()=>t.if((0,bi._)`${v}(${r}[${g}], ${r}[${_}])`,()=>{e.error(),t.assign(l,!1).break(p)})))}}};jN.default=Xpe;var DN={};Object.defineProperty(DN,"__esModule",{value:!0});const Cx=ar,Qpe=Ct,Zpe=kg,eme={message:"must be equal to constant",params:({schemaCode:e})=>(0,Cx._)`{allowedValue: ${e}}`},tme={keyword:"const",$data:!0,error:eme,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:o}=e;n||o&&typeof o=="object"?e.fail$data((0,Cx._)`!${(0,Qpe.useFunc)(t,Zpe.default)}(${r}, ${i})`):e.fail((0,Cx._)`${o} !== ${r}`)}};DN.default=tme;var MN={};Object.defineProperty(MN,"__esModule",{value:!0});const Bp=ar,rme=Ct,nme=kg,ime={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Bp._)`{allowedValues: ${e}}`},ome={keyword:"enum",schemaType:"array",$data:!0,error:ime,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:o,it:a}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const s=i.length>=a.opts.loopEnum;let l;const u=()=>l??(l=(0,rme.useFunc)(t,nme.default));let f;if(s||n)f=t.let("valid"),e.block$data(f,c);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const m=t.const("vSchema",o);f=(0,Bp.or)(...i.map((g,_)=>h(m,_)))}e.pass(f);function c(){t.assign(f,!1),t.forOf("v",o,m=>t.if((0,Bp._)`${u()}(${r}, ${m})`,()=>t.assign(f,!0).break()))}function h(m,g){const _=i[g];return typeof _=="object"&&_!==null?(0,Bp._)`${u()}(${r}, ${m}[${g}])`:(0,Bp._)`${r} === ${_}`}}};MN.default=ome;Object.defineProperty(AN,"__esModule",{value:!0});const ame=PN,sme=xN,lme=ON,ume=IN,cme=NN,fme=CN,dme=kN,hme=jN,pme=DN,mme=MN,gme=[ame.default,sme.default,lme.default,ume.default,cme.default,fme.default,dme.default,hme.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},pme.default,mme.default];AN.default=gme;var LN={},Bh={};Object.defineProperty(Bh,"__esModule",{value:!0});Bh.validateAdditionalItems=void 0;const Vc=ar,kx=Ct,vme={message:({params:{len:e}})=>(0,Vc.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Vc._)`{limit: ${e}}`},yme={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:vme,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,kx.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}gG(e,n)}};function gG(e,t){const{gen:r,schema:n,data:i,keyword:o,it:a}=e;a.items=!0;const s=r.const("len",(0,Vc._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Vc._)`${s} <= ${t.length}`);else if(typeof n=="object"&&!(0,kx.alwaysValidSchema)(a,n)){const u=r.var("valid",(0,Vc._)`${s} <= ${t.length}`);r.if((0,Vc.not)(u),()=>l(u)),e.ok(u)}function l(u){r.forRange("i",t.length,s,f=>{e.subschema({keyword:o,dataProp:f,dataPropType:kx.Type.Num},u),a.allErrors||r.if((0,Vc.not)(u),()=>r.break())})}}Bh.validateAdditionalItems=gG;Bh.default=yme;var FN={},Uh={};Object.defineProperty(Uh,"__esModule",{value:!0});Uh.validateTuple=void 0;const TL=ar,Mw=Ct,wme=vr,bme={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return vG(e,"additionalItems",t);r.items=!0,!(0,Mw.alwaysValidSchema)(r,t)&&e.ok((0,wme.validateArray)(e))}};function vG(e,t,r=e.schema){const{gen:n,parentSchema:i,data:o,keyword:a,it:s}=e;f(i),s.opts.unevaluated&&r.length&&s.items!==!0&&(s.items=Mw.mergeEvaluated.items(n,r.length,s.items));const l=n.name("valid"),u=n.const("len",(0,TL._)`${o}.length`);r.forEach((c,h)=>{(0,Mw.alwaysValidSchema)(s,c)||(n.if((0,TL._)`${u} > ${h}`,()=>e.subschema({keyword:a,schemaProp:h,dataProp:h},l)),e.ok(l))});function f(c){const{opts:h,errSchemaPath:m}=s,g=r.length,_=g===c.minItems&&(g===c.maxItems||c[t]===!1);if(h.strictTuples&&!_){const v=`"${a}" is ${g}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,Mw.checkStrictMode)(s,v,h.strictTuples)}}}Uh.validateTuple=vG;Uh.default=bme;Object.defineProperty(FN,"__esModule",{value:!0});const _me=Uh,Eme={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,_me.validateTuple)(e,"items")};FN.default=Eme;var BN={};Object.defineProperty(BN,"__esModule",{value:!0});const AL=ar,Sme=Ct,$me=vr,Tme=Bh,Ame={message:({params:{len:e}})=>(0,AL.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,AL._)`{limit: ${e}}`},Pme={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Ame,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,Sme.alwaysValidSchema)(n,t)&&(i?(0,Tme.validateAdditionalItems)(e,i):e.ok((0,$me.validateArray)(e)))}};BN.default=Pme;var UN={};Object.defineProperty(UN,"__esModule",{value:!0});const ca=ar,Qv=Ct,xme={message:({params:{min:e,max:t}})=>t===void 0?(0,ca.str)`must contain at least ${e} valid item(s)`:(0,ca.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ca._)`{minContains: ${e}}`:(0,ca._)`{minContains: ${e}, maxContains: ${t}}`},Ome={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:xme,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:o}=e;let a,s;const{minContains:l,maxContains:u}=n;o.opts.next?(a=l===void 0?1:l,s=u):a=1;const f=t.const("len",(0,ca._)`${i}.length`);if(e.setParams({min:a,max:s}),s===void 0&&a===0){(0,Qv.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,Qv.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Qv.alwaysValidSchema)(o,r)){let _=(0,ca._)`${f} >= ${a}`;s!==void 0&&(_=(0,ca._)`${_} && ${f} <= ${s}`),e.pass(_);return}o.items=!0;const c=t.name("valid");s===void 0&&a===1?m(c,()=>t.if(c,()=>t.break())):a===0?(t.let(c,!0),s!==void 0&&t.if((0,ca._)`${i}.length > 0`,h)):(t.let(c,!1),h()),e.result(c,()=>e.reset());function h(){const _=t.name("_valid"),v=t.let("count",0);m(_,()=>t.if(_,()=>g(v)))}function m(_,v){t.forRange("i",0,f,p=>{e.subschema({keyword:"contains",dataProp:p,dataPropType:Qv.Type.Num,compositeRule:!0},_),v()})}function g(_){t.code((0,ca._)`${_}++`),s===void 0?t.if((0,ca._)`${_} >= ${a}`,()=>t.assign(c,!0).break()):(t.if((0,ca._)`${_} > ${s}`,()=>t.assign(c,!1).break()),a===1?t.assign(c,!0):t.if((0,ca._)`${_} >= ${a}`,()=>t.assign(c,!0)))}}};UN.default=Ome;var yG={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ar,r=Ct,n=vr;e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);a(l,u),s(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?u:f;h[c]=l[c]}return[u,f]}function a(l,u=l.schema){const{gen:f,data:c,it:h}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,h.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(v,()=>{for(const p of _)(0,n.checkReportMissingProp)(l,p)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=a;function s(l,u=l.schema){const{gen:f,data:c,keyword:h,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=s,e.default=i})(yG);var zN={};Object.defineProperty(zN,"__esModule",{value:!0});const wG=ar,Rme=Ct,Ime={message:"property name must be valid",params:({params:e})=>(0,wG._)`{propertyName: ${e.propertyName}}`},Nme={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Ime,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,Rme.alwaysValidSchema)(i,r))return;const o=t.name("valid");t.forIn("key",n,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),t.if((0,wG.not)(o),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(o)}};zN.default=Nme;var kE={};Object.defineProperty(kE,"__esModule",{value:!0});const Zv=vr,Ka=ar,Cme=Qs,ey=Ct,kme={message:"must NOT have additional properties",params:({params:e})=>(0,Ka._)`{additionalProperty: ${e.additionalProperty}}`},jme={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:kme,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:o,it:a}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:s,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,ey.alwaysValidSchema)(a,r))return;const u=(0,Zv.allSchemaProperties)(n.properties),f=(0,Zv.allSchemaProperties)(n.patternProperties);c(),e.ok((0,Ka._)`${o} === ${Cme.default.errors}`);function c(){t.forIn("key",i,v=>{!u.length&&!f.length?g(v):t.if(h(v),()=>g(v))})}function h(v){let p;if(u.length>8){const E=(0,ey.schemaRefOrVal)(a,n.properties,"properties");p=(0,Zv.isOwnProperty)(t,E,v)}else u.length?p=(0,Ka.or)(...u.map(E=>(0,Ka._)`${v} === ${E}`)):p=Ka.nil;return f.length&&(p=(0,Ka.or)(p,...f.map(E=>(0,Ka._)`${(0,Zv.usePattern)(e,E)}.test(${v})`))),(0,Ka.not)(p)}function m(v){t.code((0,Ka._)`delete ${i}[${v}]`)}function g(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),s||t.break();return}if(typeof r=="object"&&!(0,ey.alwaysValidSchema)(a,r)){const p=t.name("valid");l.removeAdditional==="failing"?(_(v,p,!1),t.if((0,Ka.not)(p),()=>{e.reset(),m(v)})):(_(v,p),s||t.if((0,Ka.not)(p),()=>t.break()))}}function _(v,p,E){const y={keyword:"additionalProperties",dataProp:v,dataPropType:ey.Type.Str};E===!1&&Object.assign(y,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(y,p)}}};kE.default=jme;var qN={};Object.defineProperty(qN,"__esModule",{value:!0});const Dme=RE(),PL=vr,L1=Ct,xL=kE,Mme={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:o}=e;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&xL.default.code(new Dme.KeywordCxt(o,xL.default,"additionalProperties"));const a=(0,PL.allSchemaProperties)(r);for(const c of a)o.definedProperties.add(c);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=L1.mergeEvaluated.props(t,(0,L1.toHash)(a),o.props));const s=a.filter(c=>!(0,L1.alwaysValidSchema)(o,r[c]));if(s.length===0)return;const l=t.name("valid");for(const c of s)u(c)?f(c):(t.if((0,PL.propertyInData)(t,i,c,o.opts.ownProperties)),f(c),o.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(c),e.ok(l);function u(c){return o.opts.useDefaults&&!o.compositeRule&&r[c].default!==void 0}function f(c){e.subschema({keyword:"properties",schemaProp:c,dataProp:c},l)}}};qN.default=Mme;var VN={};Object.defineProperty(VN,"__esModule",{value:!0});const OL=vr,ty=ar,RL=Ct,IL=Ct,Lme={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:o}=e,{opts:a}=o,s=(0,OL.allSchemaProperties)(r),l=s.filter(_=>(0,RL.alwaysValidSchema)(o,r[_]));if(s.length===0||l.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;const u=a.strictSchema&&!a.allowMatchingProperties&&i.properties,f=t.name("valid");o.props!==!0&&!(o.props instanceof ty.Name)&&(o.props=(0,IL.evaluatedPropsToName)(t,o.props));const{props:c}=o;h();function h(){for(const _ of s)u&&m(_),o.allErrors?g(_):(t.var(f,!0),g(_),t.if(f))}function m(_){for(const v in u)new RegExp(_).test(v)&&(0,RL.checkStrictMode)(o,`property ${v} matches pattern ${_} (use allowMatchingProperties)`)}function g(_){t.forIn("key",n,v=>{t.if((0,ty._)`${(0,OL.usePattern)(e,_)}.test(${v})`,()=>{const p=l.includes(_);p||e.subschema({keyword:"patternProperties",schemaProp:_,dataProp:v,dataPropType:IL.Type.Str},f),o.opts.unevaluated&&c!==!0?t.assign((0,ty._)`${c}[${v}]`,!0):!p&&!o.allErrors&&t.if((0,ty.not)(f),()=>t.break())})})}}};VN.default=Lme;var HN={};Object.defineProperty(HN,"__esModule",{value:!0});const Fme=Ct,Bme={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Fme.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};HN.default=Bme;var GN={};Object.defineProperty(GN,"__esModule",{value:!0});const Ume=vr,zme={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ume.validateUnion,error:{message:"must match a schema in anyOf"}};GN.default=zme;var WN={};Object.defineProperty(WN,"__esModule",{value:!0});const Lw=ar,qme=Ct,Vme={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Lw._)`{passingSchemas: ${e.passing}}`},Hme={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Vme,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const o=r,a=t.let("valid",!1),s=t.let("passing",null),l=t.name("_valid");e.setParams({passing:s}),t.block(u),e.result(a,()=>e.reset(),()=>e.error(!0));function u(){o.forEach((f,c)=>{let h;(0,qme.alwaysValidSchema)(i,f)?t.var(l,!0):h=e.subschema({keyword:"oneOf",schemaProp:c,compositeRule:!0},l),c>0&&t.if((0,Lw._)`${l} && ${a}`).assign(a,!1).assign(s,(0,Lw._)`[${s}, ${c}]`).else(),t.if(l,()=>{t.assign(a,!0),t.assign(s,c),h&&e.mergeEvaluated(h,Lw.Name)})})}}};WN.default=Hme;var KN={};Object.defineProperty(KN,"__esModule",{value:!0});const Gme=Ct,Wme={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((o,a)=>{if((0,Gme.alwaysValidSchema)(n,o))return;const s=e.subschema({keyword:"allOf",schemaProp:a},i);e.ok(i),e.mergeEvaluated(s)})}};KN.default=Wme;var JN={};Object.defineProperty(JN,"__esModule",{value:!0});const o_=ar,bG=Ct,Kme={message:({params:e})=>(0,o_.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,o_._)`{failingKeyword: ${e.ifClause}}`},Jme={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Kme,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,bG.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=NL(n,"then"),o=NL(n,"else");if(!i&&!o)return;const a=t.let("valid",!0),s=t.name("_valid");if(l(),e.reset(),i&&o){const f=t.let("ifClause");e.setParams({ifClause:f}),t.if(s,u("then",f),u("else",f))}else i?t.if(s,u("then")):t.if((0,o_.not)(s),u("else"));e.pass(a,()=>e.error(!0));function l(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);e.mergeEvaluated(f)}function u(f,c){return()=>{const h=e.subschema({keyword:f},s);t.assign(a,s),e.mergeValidEvaluated(h,a),c?t.assign(c,(0,o_._)`${f}`):e.setParams({ifClause:f})}}}};function NL(e,t){const r=e.schema[t];return r!==void 0&&!(0,bG.alwaysValidSchema)(e,r)}JN.default=Jme;var YN={};Object.defineProperty(YN,"__esModule",{value:!0});const Yme=Ct,Xme={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Yme.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};YN.default=Xme;Object.defineProperty(LN,"__esModule",{value:!0});const Qme=Bh,Zme=FN,ege=Uh,tge=BN,rge=UN,nge=yG,ige=zN,oge=kE,age=qN,sge=VN,lge=HN,uge=GN,cge=WN,fge=KN,dge=JN,hge=YN;function pge(e=!1){const t=[lge.default,uge.default,cge.default,fge.default,dge.default,hge.default,ige.default,oge.default,nge.default,age.default,sge.default];return e?t.push(Zme.default,tge.default):t.push(Qme.default,ege.default),t.push(rge.default),t}LN.default=pge;var XN={},QN={};Object.defineProperty(QN,"__esModule",{value:!0});const Fn=ar,mge={message:({schemaCode:e})=>(0,Fn.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Fn._)`{format: ${e}}`},gge={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:mge,code(e,t){const{gen:r,data:n,$data:i,schema:o,schemaCode:a,it:s}=e,{opts:l,errSchemaPath:u,schemaEnv:f,self:c}=s;if(!l.validateFormats)return;i?h():m();function h(){const g=r.scopeValue("formats",{ref:c.formats,code:l.code.formats}),_=r.const("fDef",(0,Fn._)`${g}[${a}]`),v=r.let("fType"),p=r.let("format");r.if((0,Fn._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>r.assign(v,(0,Fn._)`${_}.type || "string"`).assign(p,(0,Fn._)`${_}.validate`),()=>r.assign(v,(0,Fn._)`"string"`).assign(p,_)),e.fail$data((0,Fn.or)(E(),y()));function E(){return l.strictSchema===!1?Fn.nil:(0,Fn._)`${a} && !${p}`}function y(){const S=f.$async?(0,Fn._)`(${_}.async ? await ${p}(${n}) : ${p}(${n}))`:(0,Fn._)`${p}(${n})`,$=(0,Fn._)`(typeof ${p} == "function" ? ${S} : ${p}.test(${n}))`;return(0,Fn._)`${p} && ${p} !== true && ${v} === ${t} && !${$}`}}function m(){const g=c.formats[o];if(!g){E();return}if(g===!0)return;const[_,v,p]=y(g);_===t&&e.pass(S());function E(){if(l.strictSchema===!1){c.logger.warn($());return}throw new Error($());function $(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function y($){const T=$ instanceof RegExp?(0,Fn.regexpCode)($):l.code.formats?(0,Fn._)`${l.code.formats}${(0,Fn.getProperty)(o)}`:void 0,d=r.scopeValue("formats",{key:o,ref:$,code:T});return typeof $=="object"&&!($ instanceof RegExp)?[$.type||"string",$.validate,(0,Fn._)`${d}.validate`]:["string",$,d]}function S(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!f.$async)throw new Error("async format in sync schema");return(0,Fn._)`await ${p}(${n})`}return typeof v=="function"?(0,Fn._)`${p}(${n})`:(0,Fn._)`${p}.test(${n})`}}}};QN.default=gge;Object.defineProperty(XN,"__esModule",{value:!0});const vge=QN,yge=[vge.default];XN.default=yge;var Sh={};Object.defineProperty(Sh,"__esModule",{value:!0});Sh.contentVocabulary=Sh.metadataVocabulary=void 0;Sh.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Sh.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(SN,"__esModule",{value:!0});const wge=$N,bge=AN,_ge=LN,Ege=XN,CL=Sh,Sge=[wge.default,bge.default,(0,_ge.default)(),Ege.default,CL.metadataVocabulary,CL.contentVocabulary];SN.default=Sge;var ZN={},jE={};Object.defineProperty(jE,"__esModule",{value:!0});jE.DiscrError=void 0;var kL;(function(e){e.Tag="tag",e.Mapping="mapping"})(kL||(jE.DiscrError=kL={}));Object.defineProperty(ZN,"__esModule",{value:!0});const Ed=ar,jx=jE,jL=yo,$ge=Fh,Tge=Ct,Age={message:({params:{discrError:e,tagName:t}})=>e===jx.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Ed._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Pge={keyword:"discriminator",type:"object",schemaType:"object",error:Age,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:o}=e,{oneOf:a}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const s=n.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,Ed._)`${r}${(0,Ed.getProperty)(s)}`);t.if((0,Ed._)`typeof ${u} == "string"`,()=>f(),()=>e.error(!1,{discrError:jx.DiscrError.Tag,tag:u,tagName:s})),e.ok(l);function f(){const m=h();t.if(!1);for(const g in m)t.elseIf((0,Ed._)`${u} === ${g}`),t.assign(l,c(m[g]));t.else(),e.error(!1,{discrError:jx.DiscrError.Mapping,tag:u,tagName:s}),t.endIf()}function c(m){const g=t.name("valid"),_=e.subschema({keyword:"oneOf",schemaProp:m},g);return e.mergeEvaluated(_,Ed.Name),g}function h(){var m;const g={},_=p(i);let v=!0;for(let S=0;S<a.length;S++){let $=a[S];if($!=null&&$.$ref&&!(0,Tge.schemaHasRulesButRef)($,o.self.RULES)){const d=$.$ref;if($=jL.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,d),$ instanceof jL.SchemaEnv&&($=$.schema),$===void 0)throw new $ge.default(o.opts.uriResolver,o.baseId,d)}const T=(m=$==null?void 0:$.properties)===null||m===void 0?void 0:m[s];if(typeof T!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);v=v&&(_||p($)),E(T,S)}if(!v)throw new Error(`discriminator: "${s}" must be required`);return g;function p({required:S}){return Array.isArray(S)&&S.includes(s)}function E(S,$){if(S.const)y(S.const,$);else if(S.enum)for(const T of S.enum)y(T,$);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function y(S,$){if(typeof S!="string"||S in g)throw new Error(`discriminator: "${s}" values must be unique strings`);g[S]=$}}}};ZN.default=Pge;const xge="http://json-schema.org/draft-07/schema#",Oge="http://json-schema.org/draft-07/schema#",Rge="Core schema meta-schema",Ige={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Nge=["object","boolean"],Cge={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},kge={$schema:xge,$id:Oge,title:Rge,definitions:Ige,type:Nge,properties:Cge,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=FH,n=SN,i=ZN,o=kge,a=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(g,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=RE();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=ar;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=Cg;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=Fh;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(xx,xx.exports);var jge=xx.exports,DL={exports:{}},_G={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(D,F){return{validate:D,compare:F}}e.fullFormats={date:t(o,a),time:t(l(!0),u),"date-time":t(h(!0),m),"iso-time":t(l(),f),"iso-date-time":t(h(),g),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:p,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:x,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:T},int64:{type:"number",validate:d},float:{type:"number",validate:A},double:{type:"number",validate:A},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,g),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(D){return D%4===0&&(D%100!==0||D%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(D){const F=n.exec(D);if(!F)return!1;const V=+F[1],X=+F[2],G=+F[3];return X>=1&&X<=12&&G>=1&&G<=(X===2&&r(V)?29:i[X])}function a(D,F){if(D&&F)return D>F?1:D<F?-1:0}const s=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(D){return function(V){const X=s.exec(V);if(!X)return!1;const G=+X[1],Q=+X[2],ce=+X[3],ee=X[4],ae=X[5]==="-"?-1:1,M=+(X[6]||0),B=+(X[7]||0);if(M>23||B>59||D&&!ee)return!1;if(G<=23&&Q<=59&&ce<60)return!0;const K=Q-B*ae,O=G-M*ae-(K<0?1:0);return(O===23||O===-1)&&(K===59||K===-1)&&ce<61}}function u(D,F){if(!(D&&F))return;const V=new Date("2020-01-01T"+D).valueOf(),X=new Date("2020-01-01T"+F).valueOf();if(V&&X)return V-X}function f(D,F){if(!(D&&F))return;const V=s.exec(D),X=s.exec(F);if(V&&X)return D=V[1]+V[2]+V[3],F=X[1]+X[2]+X[3],D>F?1:D<F?-1:0}const c=/t|\s/i;function h(D){const F=l(D);return function(X){const G=X.split(c);return G.length===2&&o(G[0])&&F(G[1])}}function m(D,F){if(!(D&&F))return;const V=new Date(D).valueOf(),X=new Date(F).valueOf();if(V&&X)return V-X}function g(D,F){if(!(D&&F))return;const[V,X]=D.split(c),[G,Q]=F.split(c),ce=a(V,G);if(ce!==void 0)return ce||u(X,Q)}const _=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function p(D){return _.test(D)&&v.test(D)}const E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(D){return E.lastIndex=0,E.test(D)}const S=-2147483648,$=2**31-1;function T(D){return Number.isInteger(D)&&D<=$&&D>=S}function d(D){return Number.isInteger(D)}function A(){return!0}const P=/[^\\]\\Z/;function x(D){if(P.test(D))return!1;try{return new RegExp(D),!0}catch{return!1}}})(_G);var EG={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=jge,r=ar,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:s,schemaCode:l})=>(0,r.str)`should be ${i[s].okStr} ${l}`,params:({keyword:s,schemaCode:l})=>(0,r._)`{comparison: ${i[s].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(s){const{gen:l,data:u,schemaCode:f,keyword:c,it:h}=s,{opts:m,self:g}=h;if(!m.validateFormats)return;const _=new t.KeywordCxt(h,g.RULES.all.format.definition,"format");_.$data?v():p();function v(){const y=l.scopeValue("formats",{ref:g.formats,code:m.code.formats}),S=l.const("fmt",(0,r._)`${y}[${_.schemaCode}]`);s.fail$data((0,r.or)((0,r._)`typeof ${S} != "object"`,(0,r._)`${S} instanceof RegExp`,(0,r._)`typeof ${S}.compare != "function"`,E(S)))}function p(){const y=_.schema,S=g.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const $=l.scopeValue("formats",{key:y,ref:S,code:m.code.formats?(0,r._)`${m.code.formats}${(0,r.getProperty)(y)}`:void 0});s.fail$data(E($))}function E(y){return(0,r._)`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};const a=s=>(s.addKeyword(e.formatLimitDefinition),s);e.default=a})(EG);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=_G,n=EG,i=ar,o=new i.Name("fullFormats"),a=new i.Name("fastFormats"),s=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,h]=f.mode==="fast"?[r.fastFormats,a]:[r.fullFormats,o],m=f.formats||r.formatNames;return l(u,m,c,h),f.keywords&&(0,n.default)(u),u};s.get=(u,f="full")=>{const h=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!h)throw new Error(`Unknown format "${u}"`);return h};function l(u,f,c,h){var m,g;(m=(g=u.opts.code).formats)!==null&&m!==void 0||(g.formats=(0,i._)`require("ajv-formats/dist/formats").${h}`);for(const _ of f)u.addFormat(_,c[_])}e.exports=t=s,Object.defineProperty(t,"__esModule",{value:!0}),t.default=s})(DL,DL.exports);var Dge={exports:{}},Dx={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})($a,function(r){function n(){for(var de=arguments.length,ue=Array(de),be=0;be<de;be++)ue[be]=arguments[be];if(ue.length>1){ue[0]=ue[0].slice(0,-1);for(var xe=ue.length-1,Pe=1;Pe<xe;++Pe)ue[Pe]=ue[Pe].slice(1,-1);return ue[xe]=ue[xe].slice(1),ue.join("")}else return ue[0]}function i(de){return"(?:"+de+")"}function o(de){return de===void 0?"undefined":de===null?"null":Object.prototype.toString.call(de).split(" ").pop().split("]").shift().toLowerCase()}function a(de){return de.toUpperCase()}function s(de){return de!=null?de instanceof Array?de:typeof de.length!="number"||de.split||de.setInterval||de.call?[de]:Array.prototype.slice.call(de):[]}function l(de,ue){var be=de;if(ue)for(var xe in ue)be[xe]=ue[xe];return be}function u(de){var ue="[A-Za-z]",be="[0-9]",xe=n(be,"[A-Fa-f]"),Pe=i(i("%[EFef]"+xe+"%"+xe+xe+"%"+xe+xe)+"|"+i("%[89A-Fa-f]"+xe+"%"+xe+xe)+"|"+i("%"+xe+xe)),et="[\\:\\/\\?\\#\\[\\]\\@]",it="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Pt=n(et,it),Nt=de?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",jt=de?"[\\uE000-\\uF8FF]":"[]",St=n(ue,be,"[\\-\\.\\_\\~]",Nt);i(ue+n(ue,be,"[\\+\\-\\.]")+"*"),i(i(Pe+"|"+n(St,it,"[\\:]"))+"*");var Rt=i(i("25[0-5]")+"|"+i("2[0-4]"+be)+"|"+i("1"+be+be)+"|"+i("0?[1-9]"+be)+"|0?0?"+be),Gt=i(Rt+"\\."+Rt+"\\."+Rt+"\\."+Rt),yt=i(xe+"{1,4}"),Tt=i(i(yt+"\\:"+yt)+"|"+Gt),Dt=i(i(yt+"\\:")+"{6}"+Tt),Ft=i("\\:\\:"+i(yt+"\\:")+"{5}"+Tt),Gr=i(i(yt)+"?\\:\\:"+i(yt+"\\:")+"{4}"+Tt),Yr=i(i(i(yt+"\\:")+"{0,1}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{3}"+Tt),Ir=i(i(i(yt+"\\:")+"{0,2}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{2}"+Tt),Mn=i(i(i(yt+"\\:")+"{0,3}"+yt)+"?\\:\\:"+yt+"\\:"+Tt),qn=i(i(i(yt+"\\:")+"{0,4}"+yt)+"?\\:\\:"+Tt),Nr=i(i(i(yt+"\\:")+"{0,5}"+yt)+"?\\:\\:"+yt),Xr=i(i(i(yt+"\\:")+"{0,6}"+yt)+"?\\:\\:"),Yn=i([Dt,Ft,Gr,Yr,Ir,Mn,qn,Nr,Xr].join("|")),dn=i(i(St+"|"+Pe)+"+");i("[vV]"+xe+"+\\."+n(St,it,"[\\:]")+"+"),i(i(Pe+"|"+n(St,it))+"*");var fi=i(Pe+"|"+n(St,it,"[\\:\\@]"));return i(i(Pe+"|"+n(St,it,"[\\@]"))+"+"),i(i(fi+"|"+n("[\\/\\?]",jt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",ue,be,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",St,it),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",St,it),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",St,it),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",St,it),"g"),NOT_QUERY:new RegExp(n("[^\\%]",St,it,"[\\:\\@\\/\\?]",jt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",St,it,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",St,it),"g"),UNRESERVED:new RegExp(St,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",St,Pt),"g"),PCT_ENCODED:new RegExp(Pe,"g"),IPV4ADDRESS:new RegExp("^("+Gt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Yn+")"+i(i("\\%25|\\%(?!"+xe+"{2})")+"("+dn+")")+"?\\]?$")}}var f=u(!1),c=u(!0),h=function(){function de(ue,be){var xe=[],Pe=!0,et=!1,it=void 0;try{for(var Pt=ue[Symbol.iterator](),Nt;!(Pe=(Nt=Pt.next()).done)&&(xe.push(Nt.value),!(be&&xe.length===be));Pe=!0);}catch(jt){et=!0,it=jt}finally{try{!Pe&&Pt.return&&Pt.return()}finally{if(et)throw it}}return xe}return function(ue,be){if(Array.isArray(ue))return ue;if(Symbol.iterator in Object(ue))return de(ue,be);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(de){if(Array.isArray(de)){for(var ue=0,be=Array(de.length);ue<de.length;ue++)be[ue]=de[ue];return be}else return Array.from(de)},g=2147483647,_=36,v=1,p=26,E=38,y=700,S=72,$=128,T="-",d=/^xn--/,A=/[^\0-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=_-v,F=Math.floor,V=String.fromCharCode;function X(de){throw new RangeError(x[de])}function G(de,ue){for(var be=[],xe=de.length;xe--;)be[xe]=ue(de[xe]);return be}function Q(de,ue){var be=de.split("@"),xe="";be.length>1&&(xe=be[0]+"@",de=be[1]),de=de.replace(P,".");var Pe=de.split("."),et=G(Pe,ue).join(".");return xe+et}function ce(de){for(var ue=[],be=0,xe=de.length;be<xe;){var Pe=de.charCodeAt(be++);if(Pe>=55296&&Pe<=56319&&be<xe){var et=de.charCodeAt(be++);(et&64512)==56320?ue.push(((Pe&1023)<<10)+(et&1023)+65536):(ue.push(Pe),be--)}else ue.push(Pe)}return ue}var ee=function(ue){return String.fromCodePoint.apply(String,m(ue))},ae=function(ue){return ue-48<10?ue-22:ue-65<26?ue-65:ue-97<26?ue-97:_},M=function(ue,be){return ue+22+75*(ue<26)-((be!=0)<<5)},B=function(ue,be,xe){var Pe=0;for(ue=xe?F(ue/y):ue>>1,ue+=F(ue/be);ue>D*p>>1;Pe+=_)ue=F(ue/D);return F(Pe+(D+1)*ue/(ue+E))},K=function(ue){var be=[],xe=ue.length,Pe=0,et=$,it=S,Pt=ue.lastIndexOf(T);Pt<0&&(Pt=0);for(var Nt=0;Nt<Pt;++Nt)ue.charCodeAt(Nt)>=128&&X("not-basic"),be.push(ue.charCodeAt(Nt));for(var jt=Pt>0?Pt+1:0;jt<xe;){for(var St=Pe,Rt=1,Gt=_;;Gt+=_){jt>=xe&&X("invalid-input");var yt=ae(ue.charCodeAt(jt++));(yt>=_||yt>F((g-Pe)/Rt))&&X("overflow"),Pe+=yt*Rt;var Tt=Gt<=it?v:Gt>=it+p?p:Gt-it;if(yt<Tt)break;var Dt=_-Tt;Rt>F(g/Dt)&&X("overflow"),Rt*=Dt}var Ft=be.length+1;it=B(Pe-St,Ft,St==0),F(Pe/Ft)>g-et&&X("overflow"),et+=F(Pe/Ft),Pe%=Ft,be.splice(Pe++,0,et)}return String.fromCodePoint.apply(String,be)},O=function(ue){var be=[];ue=ce(ue);var xe=ue.length,Pe=$,et=0,it=S,Pt=!0,Nt=!1,jt=void 0;try{for(var St=ue[Symbol.iterator](),Rt;!(Pt=(Rt=St.next()).done);Pt=!0){var Gt=Rt.value;Gt<128&&be.push(V(Gt))}}catch(Ln){Nt=!0,jt=Ln}finally{try{!Pt&&St.return&&St.return()}finally{if(Nt)throw jt}}var yt=be.length,Tt=yt;for(yt&&be.push(T);Tt<xe;){var Dt=g,Ft=!0,Gr=!1,Yr=void 0;try{for(var Ir=ue[Symbol.iterator](),Mn;!(Ft=(Mn=Ir.next()).done);Ft=!0){var qn=Mn.value;qn>=Pe&&qn<Dt&&(Dt=qn)}}catch(Ln){Gr=!0,Yr=Ln}finally{try{!Ft&&Ir.return&&Ir.return()}finally{if(Gr)throw Yr}}var Nr=Tt+1;Dt-Pe>F((g-et)/Nr)&&X("overflow"),et+=(Dt-Pe)*Nr,Pe=Dt;var Xr=!0,Yn=!1,dn=void 0;try{for(var fi=ue[Symbol.iterator](),ea;!(Xr=(ea=fi.next()).done);Xr=!0){var ta=ea.value;if(ta<Pe&&++et>g&&X("overflow"),ta==Pe){for(var Cr=et,yn=_;;yn+=_){var di=yn<=it?v:yn>=it+p?p:yn-it;if(Cr<di)break;var ps=Cr-di,ra=_-di;be.push(V(M(di+ps%ra,0))),Cr=F(ps/ra)}be.push(V(M(Cr,0))),it=B(et,Nr,Tt==yt),et=0,++Tt}}}catch(Ln){Yn=!0,dn=Ln}finally{try{!Xr&&fi.return&&fi.return()}finally{if(Yn)throw dn}}++et,++Pe}return be.join("")},k=function(ue){return Q(ue,function(be){return d.test(be)?K(be.slice(4).toLowerCase()):be})},q=function(ue){return Q(ue,function(be){return A.test(be)?"xn--"+O(be):be})},ie={version:"2.1.0",ucs2:{decode:ce,encode:ee},decode:K,encode:O,toASCII:q,toUnicode:k},J={};function Y(de){var ue=de.charCodeAt(0),be=void 0;return ue<16?be="%0"+ue.toString(16).toUpperCase():ue<128?be="%"+ue.toString(16).toUpperCase():ue<2048?be="%"+(ue>>6|192).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase():be="%"+(ue>>12|224).toString(16).toUpperCase()+"%"+(ue>>6&63|128).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase(),be}function oe(de){for(var ue="",be=0,xe=de.length;be<xe;){var Pe=parseInt(de.substr(be+1,2),16);if(Pe<128)ue+=String.fromCharCode(Pe),be+=3;else if(Pe>=194&&Pe<224){if(xe-be>=6){var et=parseInt(de.substr(be+4,2),16);ue+=String.fromCharCode((Pe&31)<<6|et&63)}else ue+=de.substr(be,6);be+=6}else if(Pe>=224){if(xe-be>=9){var it=parseInt(de.substr(be+4,2),16),Pt=parseInt(de.substr(be+7,2),16);ue+=String.fromCharCode((Pe&15)<<12|(it&63)<<6|Pt&63)}else ue+=de.substr(be,9);be+=9}else ue+=de.substr(be,3),be+=3}return ue}function _e(de,ue){function be(xe){var Pe=oe(xe);return Pe.match(ue.UNRESERVED)?Pe:xe}return de.scheme&&(de.scheme=String(de.scheme).replace(ue.PCT_ENCODED,be).toLowerCase().replace(ue.NOT_SCHEME,"")),de.userinfo!==void 0&&(de.userinfo=String(de.userinfo).replace(ue.PCT_ENCODED,be).replace(ue.NOT_USERINFO,Y).replace(ue.PCT_ENCODED,a)),de.host!==void 0&&(de.host=String(de.host).replace(ue.PCT_ENCODED,be).toLowerCase().replace(ue.NOT_HOST,Y).replace(ue.PCT_ENCODED,a)),de.path!==void 0&&(de.path=String(de.path).replace(ue.PCT_ENCODED,be).replace(de.scheme?ue.NOT_PATH:ue.NOT_PATH_NOSCHEME,Y).replace(ue.PCT_ENCODED,a)),de.query!==void 0&&(de.query=String(de.query).replace(ue.PCT_ENCODED,be).replace(ue.NOT_QUERY,Y).replace(ue.PCT_ENCODED,a)),de.fragment!==void 0&&(de.fragment=String(de.fragment).replace(ue.PCT_ENCODED,be).replace(ue.NOT_FRAGMENT,Y).replace(ue.PCT_ENCODED,a)),de}function ye(de){return de.replace(/^0*(.*)/,"$1")||"0"}function R(de,ue){var be=de.match(ue.IPV4ADDRESS)||[],xe=h(be,2),Pe=xe[1];return Pe?Pe.split(".").map(ye).join("."):de}function I(de,ue){var be=de.match(ue.IPV6ADDRESS)||[],xe=h(be,3),Pe=xe[1],et=xe[2];if(Pe){for(var it=Pe.toLowerCase().split("::").reverse(),Pt=h(it,2),Nt=Pt[0],jt=Pt[1],St=jt?jt.split(":").map(ye):[],Rt=Nt.split(":").map(ye),Gt=ue.IPV4ADDRESS.test(Rt[Rt.length-1]),yt=Gt?7:8,Tt=Rt.length-yt,Dt=Array(yt),Ft=0;Ft<yt;++Ft)Dt[Ft]=St[Ft]||Rt[Tt+Ft]||"";Gt&&(Dt[yt-1]=R(Dt[yt-1],ue));var Gr=Dt.reduce(function(Nr,Xr,Yn){if(!Xr||Xr==="0"){var dn=Nr[Nr.length-1];dn&&dn.index+dn.length===Yn?dn.length++:Nr.push({index:Yn,length:1})}return Nr},[]),Yr=Gr.sort(function(Nr,Xr){return Xr.length-Nr.length})[0],Ir=void 0;if(Yr&&Yr.length>1){var Mn=Dt.slice(0,Yr.index),qn=Dt.slice(Yr.index+Yr.length);Ir=Mn.join(":")+"::"+qn.join(":")}else Ir=Dt.join(":");return et&&(Ir+="%"+et),Ir}else return de}var N=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,H="".match(/(){0}/)[1]===void 0;function re(de){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},be={},xe=ue.iri!==!1?c:f;ue.reference==="suffix"&&(de=(ue.scheme?ue.scheme+":":"")+"//"+de);var Pe=de.match(N);if(Pe){H?(be.scheme=Pe[1],be.userinfo=Pe[3],be.host=Pe[4],be.port=parseInt(Pe[5],10),be.path=Pe[6]||"",be.query=Pe[7],be.fragment=Pe[8],isNaN(be.port)&&(be.port=Pe[5])):(be.scheme=Pe[1]||void 0,be.userinfo=de.indexOf("@")!==-1?Pe[3]:void 0,be.host=de.indexOf("//")!==-1?Pe[4]:void 0,be.port=parseInt(Pe[5],10),be.path=Pe[6]||"",be.query=de.indexOf("?")!==-1?Pe[7]:void 0,be.fragment=de.indexOf("#")!==-1?Pe[8]:void 0,isNaN(be.port)&&(be.port=de.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Pe[4]:void 0)),be.host&&(be.host=I(R(be.host,xe),xe)),be.scheme===void 0&&be.userinfo===void 0&&be.host===void 0&&be.port===void 0&&!be.path&&be.query===void 0?be.reference="same-document":be.scheme===void 0?be.reference="relative":be.fragment===void 0?be.reference="absolute":be.reference="uri",ue.reference&&ue.reference!=="suffix"&&ue.reference!==be.reference&&(be.error=be.error||"URI is not a "+ue.reference+" reference.");var et=J[(ue.scheme||be.scheme||"").toLowerCase()];if(!ue.unicodeSupport&&(!et||!et.unicodeSupport)){if(be.host&&(ue.domainHost||et&&et.domainHost))try{be.host=ie.toASCII(be.host.replace(xe.PCT_ENCODED,oe).toLowerCase())}catch(it){be.error=be.error||"Host's domain name can not be converted to ASCII via punycode: "+it}_e(be,f)}else _e(be,xe);et&&et.parse&&et.parse(be,ue)}else be.error=be.error||"URI can not be parsed.";return be}function le(de,ue){var be=ue.iri!==!1?c:f,xe=[];return de.userinfo!==void 0&&(xe.push(de.userinfo),xe.push("@")),de.host!==void 0&&xe.push(I(R(String(de.host),be),be).replace(be.IPV6ADDRESS,function(Pe,et,it){return"["+et+(it?"%25"+it:"")+"]"})),(typeof de.port=="number"||typeof de.port=="string")&&(xe.push(":"),xe.push(String(de.port))),xe.length?xe.join(""):void 0}var fe=/^\.\.?\//,me=/^\/\.(\/|$)/,Re=/^\/\.\.(\/|$)/,Le=/^\/?(?:.|\n)*?(?=\/|$)/;function je(de){for(var ue=[];de.length;)if(de.match(fe))de=de.replace(fe,"");else if(de.match(me))de=de.replace(me,"/");else if(de.match(Re))de=de.replace(Re,"/"),ue.pop();else if(de==="."||de==="..")de="";else{var be=de.match(Le);if(be){var xe=be[0];de=de.slice(xe.length),ue.push(xe)}else throw new Error("Unexpected dot segment condition")}return ue.join("")}function tt(de){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},be=ue.iri?c:f,xe=[],Pe=J[(ue.scheme||de.scheme||"").toLowerCase()];if(Pe&&Pe.serialize&&Pe.serialize(de,ue),de.host&&!be.IPV6ADDRESS.test(de.host)){if(ue.domainHost||Pe&&Pe.domainHost)try{de.host=ue.iri?ie.toUnicode(de.host):ie.toASCII(de.host.replace(be.PCT_ENCODED,oe).toLowerCase())}catch(Pt){de.error=de.error||"Host's domain name can not be converted to "+(ue.iri?"Unicode":"ASCII")+" via punycode: "+Pt}}_e(de,be),ue.reference!=="suffix"&&de.scheme&&(xe.push(de.scheme),xe.push(":"));var et=le(de,ue);if(et!==void 0&&(ue.reference!=="suffix"&&xe.push("//"),xe.push(et),de.path&&de.path.charAt(0)!=="/"&&xe.push("/")),de.path!==void 0){var it=de.path;!ue.absolutePath&&(!Pe||!Pe.absolutePath)&&(it=je(it)),et===void 0&&(it=it.replace(/^\/\//,"/%2F")),xe.push(it)}return de.query!==void 0&&(xe.push("?"),xe.push(de.query)),de.fragment!==void 0&&(xe.push("#"),xe.push(de.fragment)),xe.join("")}function Ge(de,ue){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},xe=arguments[3],Pe={};return xe||(de=re(tt(de,be),be),ue=re(tt(ue,be),be)),be=be||{},!be.tolerant&&ue.scheme?(Pe.scheme=ue.scheme,Pe.userinfo=ue.userinfo,Pe.host=ue.host,Pe.port=ue.port,Pe.path=je(ue.path||""),Pe.query=ue.query):(ue.userinfo!==void 0||ue.host!==void 0||ue.port!==void 0?(Pe.userinfo=ue.userinfo,Pe.host=ue.host,Pe.port=ue.port,Pe.path=je(ue.path||""),Pe.query=ue.query):(ue.path?(ue.path.charAt(0)==="/"?Pe.path=je(ue.path):((de.userinfo!==void 0||de.host!==void 0||de.port!==void 0)&&!de.path?Pe.path="/"+ue.path:de.path?Pe.path=de.path.slice(0,de.path.lastIndexOf("/")+1)+ue.path:Pe.path=ue.path,Pe.path=je(Pe.path)),Pe.query=ue.query):(Pe.path=de.path,ue.query!==void 0?Pe.query=ue.query:Pe.query=de.query),Pe.userinfo=de.userinfo,Pe.host=de.host,Pe.port=de.port),Pe.scheme=de.scheme),Pe.fragment=ue.fragment,Pe}function Ue(de,ue,be){var xe=l({scheme:"null"},be);return tt(Ge(re(de,xe),re(ue,xe),xe,!0),xe)}function W(de,ue){return typeof de=="string"?de=tt(re(de,ue),ue):o(de)==="object"&&(de=re(tt(de,ue),ue)),de}function C(de,ue,be){return typeof de=="string"?de=tt(re(de,be),be):o(de)==="object"&&(de=tt(de,be)),typeof ue=="string"?ue=tt(re(ue,be),be):o(ue)==="object"&&(ue=tt(ue,be)),de===ue}function L(de,ue){return de&&de.toString().replace(!ue||!ue.iri?f.ESCAPE:c.ESCAPE,Y)}function ne(de,ue){return de&&de.toString().replace(!ue||!ue.iri?f.PCT_ENCODED:c.PCT_ENCODED,oe)}var we={scheme:"http",domainHost:!0,parse:function(ue,be){return ue.host||(ue.error=ue.error||"HTTP URIs must have a host."),ue},serialize:function(ue,be){var xe=String(ue.scheme).toLowerCase()==="https";return(ue.port===(xe?443:80)||ue.port==="")&&(ue.port=void 0),ue.path||(ue.path="/"),ue}},Se={scheme:"https",domainHost:we.domainHost,parse:we.parse,serialize:we.serialize};function ke(de){return typeof de.secure=="boolean"?de.secure:String(de.scheme).toLowerCase()==="wss"}var Ie={scheme:"ws",domainHost:!0,parse:function(ue,be){var xe=ue;return xe.secure=ke(xe),xe.resourceName=(xe.path||"/")+(xe.query?"?"+xe.query:""),xe.path=void 0,xe.query=void 0,xe},serialize:function(ue,be){if((ue.port===(ke(ue)?443:80)||ue.port==="")&&(ue.port=void 0),typeof ue.secure=="boolean"&&(ue.scheme=ue.secure?"wss":"ws",ue.secure=void 0),ue.resourceName){var xe=ue.resourceName.split("?"),Pe=h(xe,2),et=Pe[0],it=Pe[1];ue.path=et&&et!=="/"?et:void 0,ue.query=it,ue.resourceName=void 0}return ue.fragment=void 0,ue}},Fe={scheme:"wss",domainHost:Ie.domainHost,parse:Ie.parse,serialize:Ie.serialize},ft={},vt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",at="[0-9A-Fa-f]",kt=i(i("%[EFef]"+at+"%"+at+at+"%"+at+at)+"|"+i("%[89A-Fa-f]"+at+"%"+at+at)+"|"+i("%"+at+at)),br="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Pr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",rr=n(Pr,'[\\"\\\\]'),hr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ln=new RegExp(vt,"g"),Vt=new RegExp(kt,"g"),zt=new RegExp(n("[^]",br,"[\\.]",'[\\"]',rr),"g"),At=new RegExp(n("[^]",vt,hr),"g"),$e=At;function Ne(de){var ue=oe(de);return ue.match(ln)?ue:de}var dt={scheme:"mailto",parse:function(ue,be){var xe=ue,Pe=xe.to=xe.path?xe.path.split(","):[];if(xe.path=void 0,xe.query){for(var et=!1,it={},Pt=xe.query.split("&"),Nt=0,jt=Pt.length;Nt<jt;++Nt){var St=Pt[Nt].split("=");switch(St[0]){case"to":for(var Rt=St[1].split(","),Gt=0,yt=Rt.length;Gt<yt;++Gt)Pe.push(Rt[Gt]);break;case"subject":xe.subject=ne(St[1],be);break;case"body":xe.body=ne(St[1],be);break;default:et=!0,it[ne(St[0],be)]=ne(St[1],be);break}}et&&(xe.headers=it)}xe.query=void 0;for(var Tt=0,Dt=Pe.length;Tt<Dt;++Tt){var Ft=Pe[Tt].split("@");if(Ft[0]=ne(Ft[0]),be.unicodeSupport)Ft[1]=ne(Ft[1],be).toLowerCase();else try{Ft[1]=ie.toASCII(ne(Ft[1],be).toLowerCase())}catch(Gr){xe.error=xe.error||"Email address's domain name can not be converted to ASCII via punycode: "+Gr}Pe[Tt]=Ft.join("@")}return xe},serialize:function(ue,be){var xe=ue,Pe=s(ue.to);if(Pe){for(var et=0,it=Pe.length;et<it;++et){var Pt=String(Pe[et]),Nt=Pt.lastIndexOf("@"),jt=Pt.slice(0,Nt).replace(Vt,Ne).replace(Vt,a).replace(zt,Y),St=Pt.slice(Nt+1);try{St=be.iri?ie.toUnicode(St):ie.toASCII(ne(St,be).toLowerCase())}catch(Tt){xe.error=xe.error||"Email address's domain name can not be converted to "+(be.iri?"Unicode":"ASCII")+" via punycode: "+Tt}Pe[et]=jt+"@"+St}xe.path=Pe.join(",")}var Rt=ue.headers=ue.headers||{};ue.subject&&(Rt.subject=ue.subject),ue.body&&(Rt.body=ue.body);var Gt=[];for(var yt in Rt)Rt[yt]!==ft[yt]&&Gt.push(yt.replace(Vt,Ne).replace(Vt,a).replace(At,Y)+"="+Rt[yt].replace(Vt,Ne).replace(Vt,a).replace($e,Y));return Gt.length&&(xe.query=Gt.join("&")),xe}},Ye=/^([^\:]+)\:(.*)/,nt={scheme:"urn",parse:function(ue,be){var xe=ue.path&&ue.path.match(Ye),Pe=ue;if(xe){var et=be.scheme||Pe.scheme||"urn",it=xe[1].toLowerCase(),Pt=xe[2],Nt=et+":"+(be.nid||it),jt=J[Nt];Pe.nid=it,Pe.nss=Pt,Pe.path=void 0,jt&&(Pe=jt.parse(Pe,be))}else Pe.error=Pe.error||"URN can not be parsed.";return Pe},serialize:function(ue,be){var xe=be.scheme||ue.scheme||"urn",Pe=ue.nid,et=xe+":"+(be.nid||Pe),it=J[et];it&&(ue=it.serialize(ue,be));var Pt=ue,Nt=ue.nss;return Pt.path=(Pe||be.nid)+":"+Nt,Pt}},Ot=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,qt={scheme:"urn:uuid",parse:function(ue,be){var xe=ue;return xe.uuid=xe.nss,xe.nss=void 0,!be.tolerant&&(!xe.uuid||!xe.uuid.match(Ot))&&(xe.error=xe.error||"UUID is not valid."),xe},serialize:function(ue,be){var xe=ue;return xe.nss=(ue.uuid||"").toLowerCase(),xe}};J[we.scheme]=we,J[Se.scheme]=Se,J[Ie.scheme]=Ie,J[Fe.scheme]=Fe,J[dt.scheme]=dt,J[nt.scheme]=nt,J[qt.scheme]=qt,r.SCHEMES=J,r.pctEncChar=Y,r.pctDecChars=oe,r.parse=re,r.removeDotSegments=je,r.serialize=tt,r.resolveComponents=Ge,r.resolve=Ue,r.normalize=W,r.equal=C,r.escapeComponent=L,r.unescapeComponent=ne,Object.defineProperty(r,"__esModule",{value:!0})})})(Dx,Dx.exports);var SG=Dx.exports,wo={},$G={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.nearley=r()})($a,function(){function t(u,f,c){return this.id=++t.highestId,this.name=u,this.symbols=f,this.postprocess=c,this}t.highestId=0,t.prototype.toString=function(u){var f=typeof u>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,u).map(l).join(" ")+"  "+this.symbols.slice(u).map(l).join(" ");return this.name+"  "+f};function r(u,f,c,h){this.rule=u,this.dot=f,this.reference=c,this.data=[],this.wantedBy=h,this.isComplete=this.dot===u.symbols.length}r.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},r.prototype.nextState=function(u){var f=new r(this.rule,this.dot+1,this.reference,this.wantedBy);return f.left=this,f.right=u,f.isComplete&&(f.data=f.build(),f.right=void 0),f},r.prototype.build=function(){var u=[],f=this;do u.push(f.right.data),f=f.left;while(f.left);return u.reverse(),u},r.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,a.fail))};function n(u,f){this.grammar=u,this.index=f,this.states=[],this.wants={},this.scannable=[],this.completed={}}n.prototype.process=function(u){for(var f=this.states,c=this.wants,h=this.completed,m=0;m<f.length;m++){var g=f[m];if(g.isComplete){if(g.finish(),g.data!==a.fail){for(var _=g.wantedBy,v=_.length;v--;){var p=_[v];this.complete(p,g)}if(g.reference===this.index){var E=g.rule.name;(this.completed[E]=this.completed[E]||[]).push(g)}}}else{var E=g.rule.symbols[g.dot];if(typeof E!="string"){this.scannable.push(g);continue}if(c[E]){if(c[E].push(g),h.hasOwnProperty(E))for(var y=h[E],v=0;v<y.length;v++){var S=y[v];this.complete(g,S)}}else c[E]=[g],this.predict(E)}}},n.prototype.predict=function(u){for(var f=this.grammar.byName[u]||[],c=0;c<f.length;c++){var h=f[c],m=this.wants[u],g=new r(h,0,this.index,m);this.states.push(g)}},n.prototype.complete=function(u,f){var c=u.nextState(f);this.states.push(c)};function i(u,f){this.rules=u,this.start=f||this.rules[0].name;var c=this.byName={};this.rules.forEach(function(h){c.hasOwnProperty(h.name)||(c[h.name]=[]),c[h.name].push(h)})}i.fromCompiled=function(h,f){var c=h.Lexer;h.ParserStart&&(f=h.ParserStart,h=h.ParserRules);var h=h.map(function(g){return new t(g.name,g.symbols,g.postprocess)}),m=new i(h,f);return m.lexer=c,m};function o(){this.reset("")}o.prototype.reset=function(u,f){this.buffer=u,this.index=0,this.line=f?f.line:1,this.lastLineBreak=f?-f.col:0},o.prototype.next=function(){if(this.index<this.buffer.length){var u=this.buffer[this.index++];return u===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:u}}},o.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},o.prototype.formatError=function(u,f){var c=this.buffer;if(typeof c=="string"){var h=c.split(`
`).slice(Math.max(0,this.line-5),this.line),m=c.indexOf(`
`,this.index);m===-1&&(m=c.length);var g=this.index-this.lastLineBreak,_=String(this.line).length;return f+=" at line "+this.line+" col "+g+`:

`,f+=h.map(function(p,E){return v(this.line-h.length+E+1,_)+" "+p},this).join(`
`),f+=`
`+v("",_+g)+`^
`,f}else return f+" at index "+(this.index-1);function v(p,E){var y=String(p);return Array(E-y.length+1).join(" ")+y}};function a(u,f,c){if(u instanceof i)var h=u,c=f;else var h=i.fromCompiled(u,f);this.grammar=h,this.options={keepHistory:!1,lexer:h.lexer||new o};for(var m in c||{})this.options[m]=c[m];this.lexer=this.options.lexer,this.lexerState=void 0;var g=new n(h,0);this.table=[g],g.wants[h.start]=[],g.predict(h.start),g.process(),this.current=0}a.fail={},a.prototype.feed=function(u){var f=this.lexer;f.reset(u,this.lexerState);for(var c;;){try{if(c=f.next(),!c)break}catch(d){var _=new n(this.grammar,this.current+1);this.table.push(_);var h=new Error(this.reportLexerError(d));throw h.offset=this.current,h.token=d.token,h}var m=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var g=this.current+1,_=new n(this.grammar,g);this.table.push(_);for(var v=c.text!==void 0?c.text:c.value,p=f.constructor===o?c.value:c,E=m.scannable,y=E.length;y--;){var S=E[y],$=S.rule.symbols[S.dot];if($.test?$.test(p):$.type?$.type===c.type:$.literal===v){var T=S.nextState({data:p,token:c,isToken:!0,reference:g-1});_.states.push(T)}}if(_.process(),_.states.length===0){var h=new Error(this.reportError(c));throw h.offset=this.current,h.token=c,h}this.options.keepHistory&&(m.lexerState=f.save()),this.current++}return m&&(this.lexerState=f.save()),this.results=this.finish(),this},a.prototype.reportLexerError=function(u){var f,c,h=u.token;return h?(f="input "+JSON.stringify(h.text[0])+" (lexer error)",c=this.lexer.formatError(h,"Syntax error")):(f="input (lexer error)",c=u.message),this.reportErrorCommon(c,f)},a.prototype.reportError=function(u){var f=(u.type?u.type+" token: ":"")+JSON.stringify(u.value!==void 0?u.value:u),c=this.lexer.formatError(u,"Syntax error");return this.reportErrorCommon(c,f)},a.prototype.reportErrorCommon=function(u,f){var c=[];c.push(u);var h=this.table.length-2,m=this.table[h],g=m.states.filter(function(v){var p=v.rule.symbols[v.dot];return p&&typeof p!="string"});if(g.length===0)c.push("Unexpected "+f+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(m.states,c);else{c.push("Unexpected "+f+`. Instead, I was expecting to see one of the following:
`);var _=g.map(function(v){return this.buildFirstStateStack(v,[])||[v]},this);_.forEach(function(v){var p=v[0],E=p.rule.symbols[p.dot],y=this.getSymbolDisplay(E);c.push("A "+y+" based on:"),this.displayStateStack(v,c)},this)}return c.push(""),c.join(`
`)},a.prototype.displayStateStack=function(u,f){for(var c,h=0,m=0;m<u.length;m++){var g=u[m],_=g.rule.toString(g.dot);_===c?h++:(h>0&&f.push("    ^ "+h+" more lines identical to this"),h=0,f.push("    "+_)),c=_}},a.prototype.getSymbolDisplay=function(u){return s(u)},a.prototype.buildFirstStateStack=function(u,f){if(f.indexOf(u)!==-1)return null;if(u.wantedBy.length===0)return[u];var c=u.wantedBy[0],h=[u].concat(f),m=this.buildFirstStateStack(c,h);return m===null?null:[u].concat(m)},a.prototype.save=function(){var u=this.table[this.current];return u.lexerState=this.lexerState,u},a.prototype.restore=function(u){var f=u.index;this.current=f,this.table[f]=u,this.table.splice(f+1),this.lexerState=u.lexerState,this.results=this.finish()},a.prototype.rewind=function(u){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[u])},a.prototype.finish=function(){var u=[],f=this.grammar.start,c=this.table[this.table.length-1];return c.states.forEach(function(h){h.rule.name===f&&h.dot===h.rule.symbols.length&&h.reference===0&&h.data!==a.fail&&u.push(h)}),u.map(function(h){return h.data})};function s(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return"character matching "+u;if(u.type)return u.type+" token";if(u.test)return"token matching "+String(u.test);throw new Error("Unknown symbol type: "+u)}}function l(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return u.toString();if(u.type)return"%"+u.type;if(u.test)return"<"+String(u.test)+">";throw new Error("Unknown symbol type: "+u)}}return{Parser:a,Grammar:i,Rule:t}})})($G);var Mge=$G.exports,eC={};Object.defineProperty(eC,"__esModule",{value:!0});function yi(e){return e[0]}const TG=e=>[].concat(...e.map(t=>Array.isArray(t)?TG(t):t));function dd(e){return e?Array.isArray(e)?TG(e).join(""):e:""}const Lge={Lexer:void 0,ParserRules:[{name:"Reverse_path",symbols:["Path"]},{name:"Reverse_path$string$1",symbols:[{literal:"<"},{literal:">"}],postprocess:e=>e.join("")},{name:"Reverse_path",symbols:["Reverse_path$string$1"]},{name:"Forward_path$subexpression$1$subexpression$1",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:"@"}],postprocess:function(e){return e.join("")}},{name:"Forward_path$subexpression$1",symbols:["Forward_path$subexpression$1$subexpression$1","Domain",{literal:">"}]},{name:"Forward_path",symbols:["Forward_path$subexpression$1"]},{name:"Forward_path$subexpression$2",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:">"}],postprocess:function(e){return e.join("")}},{name:"Forward_path",symbols:["Forward_path$subexpression$2"]},{name:"Forward_path",symbols:["Path"]},{name:"Path$ebnf$1$subexpression$1",symbols:["A_d_l",{literal:":"}]},{name:"Path$ebnf$1",symbols:["Path$ebnf$1$subexpression$1"],postprocess:yi},{name:"Path$ebnf$1",symbols:[],postprocess:()=>null},{name:"Path",symbols:[{literal:"<"},"Path$ebnf$1","Mailbox",{literal:">"}]},{name:"A_d_l$ebnf$1",symbols:[]},{name:"A_d_l$ebnf$1$subexpression$1",symbols:[{literal:","},"At_domain"]},{name:"A_d_l$ebnf$1",symbols:["A_d_l$ebnf$1","A_d_l$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"A_d_l",symbols:["At_domain","A_d_l$ebnf$1"]},{name:"At_domain",symbols:[{literal:"@"},"Domain"]},{name:"Domain$ebnf$1",symbols:[]},{name:"Domain$ebnf$1$subexpression$1",symbols:[{literal:"."},"sub_domain"]},{name:"Domain$ebnf$1",symbols:["Domain$ebnf$1","Domain$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Domain",symbols:["sub_domain","Domain$ebnf$1"]},{name:"sub_domain",symbols:["U_label"]},{name:"Let_dig",symbols:["ALPHA_DIGIT"],postprocess:yi},{name:"Ldh_str$ebnf$1",symbols:[]},{name:"Ldh_str$ebnf$1",symbols:["Ldh_str$ebnf$1","ALPHA_DIG_DASH"],postprocess:e=>e[0].concat([e[1]])},{name:"Ldh_str",symbols:["Ldh_str$ebnf$1","Let_dig"]},{name:"U_Let_dig",symbols:["ALPHA_DIGIT_U"],postprocess:yi},{name:"U_Ldh_str$ebnf$1",symbols:[]},{name:"U_Ldh_str$ebnf$1",symbols:["U_Ldh_str$ebnf$1","ALPHA_DIG_DASH_U"],postprocess:e=>e[0].concat([e[1]])},{name:"U_Ldh_str",symbols:["U_Ldh_str$ebnf$1","U_Let_dig"]},{name:"U_label$ebnf$1$subexpression$1",symbols:["U_Ldh_str"]},{name:"U_label$ebnf$1",symbols:["U_label$ebnf$1$subexpression$1"],postprocess:yi},{name:"U_label$ebnf$1",symbols:[],postprocess:()=>null},{name:"U_label",symbols:["U_Let_dig","U_label$ebnf$1"]},{name:"address_literal$subexpression$1",symbols:["IPv4_address_literal"]},{name:"address_literal$subexpression$1",symbols:["IPv6_address_literal"]},{name:"address_literal$subexpression$1",symbols:["General_address_literal"]},{name:"address_literal",symbols:[{literal:"["},"address_literal$subexpression$1",{literal:"]"}]},{name:"non_local_part",symbols:["Domain"],postprocess:function(e){return{DomainName:dd(e[0])}}},{name:"non_local_part",symbols:["address_literal"],postprocess:function(e){return{AddressLiteral:dd(e[0])}}},{name:"Mailbox",symbols:["Local_part",{literal:"@"},"non_local_part"],postprocess:function(e){return{localPart:dd(e[0]),domainPart:dd(e[2])}}},{name:"Local_part",symbols:["Dot_string"],postprocess:function(e){return{DotString:dd(e[0])}}},{name:"Local_part",symbols:["Quoted_string"],postprocess:function(e){return{QuotedString:dd(e[0])}}},{name:"Dot_string$ebnf$1",symbols:[]},{name:"Dot_string$ebnf$1$subexpression$1",symbols:[{literal:"."},"Atom"]},{name:"Dot_string$ebnf$1",symbols:["Dot_string$ebnf$1","Dot_string$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Dot_string",symbols:["Atom","Dot_string$ebnf$1"]},{name:"Atom$ebnf$1",symbols:[/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/]},{name:"Atom$ebnf$1",symbols:["Atom$ebnf$1",/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/],postprocess:e=>e[0].concat([e[1]])},{name:"Atom",symbols:["Atom$ebnf$1"]},{name:"Quoted_string$ebnf$1",symbols:[]},{name:"Quoted_string$ebnf$1",symbols:["Quoted_string$ebnf$1","QcontentSMTP"],postprocess:e=>e[0].concat([e[1]])},{name:"Quoted_string",symbols:["DQUOTE","Quoted_string$ebnf$1","DQUOTE"]},{name:"QcontentSMTP",symbols:["qtextSMTP"]},{name:"QcontentSMTP",symbols:["quoted_pairSMTP"]},{name:"quoted_pairSMTP",symbols:[{literal:"\\"},/[\x20-\x7e]/]},{name:"qtextSMTP",symbols:[/[\x20-\x21\x23-\x5b\x5d-\x7e\u0080-\uFFFF]/],postprocess:yi},{name:"IPv4_address_literal$macrocall$2",symbols:[{literal:"."},"Snum"]},{name:"IPv4_address_literal$macrocall$1",symbols:["IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2"]},{name:"IPv4_address_literal",symbols:["Snum","IPv4_address_literal$macrocall$1"]},{name:"IPv6_address_literal$subexpression$1",symbols:[/[iI]/,/[pP]/,/[vV]/,{literal:"6"},{literal:":"}],postprocess:function(e){return e.join("")}},{name:"IPv6_address_literal",symbols:["IPv6_address_literal$subexpression$1","IPv6_addr"]},{name:"General_address_literal$ebnf$1",symbols:["dcontent"]},{name:"General_address_literal$ebnf$1",symbols:["General_address_literal$ebnf$1","dcontent"],postprocess:e=>e[0].concat([e[1]])},{name:"General_address_literal",symbols:["Standardized_tag",{literal:":"},"General_address_literal$ebnf$1"]},{name:"Standardized_tag",symbols:["Ldh_str"]},{name:"dcontent",symbols:[/[\x21-\x5a\x5e-\x7e]/],postprocess:yi},{name:"Snum",symbols:["DIGIT"]},{name:"Snum$subexpression$1",symbols:[/[1-9]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$1"]},{name:"Snum$subexpression$2",symbols:[{literal:"1"},"DIGIT","DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$2"]},{name:"Snum$subexpression$3",symbols:[{literal:"2"},/[0-4]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$3"]},{name:"Snum$subexpression$4",symbols:[{literal:"2"},{literal:"5"},/[0-5]/]},{name:"Snum",symbols:["Snum$subexpression$4"]},{name:"IPv6_addr",symbols:["IPv6_full"]},{name:"IPv6_addr",symbols:["IPv6_comp"]},{name:"IPv6_addr",symbols:["IPv6v4_full"]},{name:"IPv6_addr",symbols:["IPv6v4_comp"]},{name:"IPv6_hex",symbols:["HEXDIG"]},{name:"IPv6_hex$subexpression$1",symbols:["HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$1"]},{name:"IPv6_hex$subexpression$2",symbols:["HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$2"]},{name:"IPv6_hex$subexpression$3",symbols:["HEXDIG","HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$3"]},{name:"IPv6_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_full$macrocall$1",symbols:["IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2"]},{name:"IPv6_full",symbols:["IPv6_hex","IPv6_full$macrocall$1"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$1",symbols:["IPv6_comp$ebnf$1$subexpression$1"],postprocess:yi},{name:"IPv6_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$2$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$2",symbols:["IPv6_comp$ebnf$2$subexpression$1"],postprocess:yi},{name:"IPv6_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6_comp",symbols:["IPv6_comp$ebnf$1","IPv6_comp$string$1","IPv6_comp$ebnf$2"]},{name:"IPv6v4_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_full$macrocall$1",symbols:["IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2"]},{name:"IPv6v4_full",symbols:["IPv6_hex","IPv6v4_full$macrocall$1",{literal:":"},"IPv4_address_literal"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6v4_comp$ebnf$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1"],postprocess:yi},{name:"IPv6v4_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",{literal:":"}]},{name:"IPv6v4_comp$ebnf$2",symbols:["IPv6v4_comp$ebnf$2$subexpression$1"],postprocess:yi},{name:"IPv6v4_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp",symbols:["IPv6v4_comp$ebnf$1","IPv6v4_comp$string$1","IPv6v4_comp$ebnf$2","IPv4_address_literal"]},{name:"DIGIT",symbols:[/[0-9]/],postprocess:yi},{name:"ALPHA_DIGIT_U",symbols:[/[0-9A-Za-z\u0080-\uFFFF]/],postprocess:yi},{name:"ALPHA_DIGIT",symbols:[/[0-9A-Za-z]/],postprocess:yi},{name:"ALPHA_DIG_DASH",symbols:[/[-0-9A-Za-z]/],postprocess:yi},{name:"ALPHA_DIG_DASH_U",symbols:[/[-0-9A-Za-z\u0080-\uFFFF]/],postprocess:yi},{name:"HEXDIG",symbols:[/[0-9A-Fa-f]/],postprocess:yi},{name:"DQUOTE",symbols:[{literal:'"'}],postprocess:yi}],ParserStart:"Reverse_path"};eC.default=Lge;var Fge=$a&&$a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wo,"__esModule",{value:!0});wo.canonicalize=wo.canonicalize_quoted_string=wo.normalize=wo.normalize_dot_string=wo.parse=void 0;const AG=Mge,PG=Fge(eC);PG.default.ParserStart="Mailbox";const Bge=AG.Grammar.fromCompiled(PG.default);function tC(e){if(e.length>986)throw new Error("address too long");const r=new AG.Parser(Bge);if(r.feed(e),r.results.length!==1)throw new Error("address parsing failed: ambiguous grammar");const n=e.lastIndexOf("@"),i=e.substring(n+1);if(i[0]!=="["){if(i.length>253)throw new Error("domain too long");const o=i.split(".");if(o.length<2)throw new Error("domain not fully qualified");if(o[o.length-1].length<2)throw new Error("top level domain label too short");if(o.sort(function(a,s){return s.length-a.length}),o[0].length>63)throw new Error("domain label too long")}return r.results[0]}wo.parse=tC;function xG(e){return function(){const n=e.indexOf("+");return n===-1?e:e.substr(0,n)}().replace(/\./g,"").toLowerCase()}wo.normalize_dot_string=xG;function Uge(e){var t,r;const n=tC(e),i=(t=n.domainPart.AddressLiteral)!==null&&t!==void 0?t:n.domainPart.DomainName.toLowerCase();return`${(r=n.localPart.QuotedString)!==null&&r!==void 0?r:xG(n.localPart.DotString)}@${i}`}wo.normalize=Uge;function OG(e){return`"${e.substr(1).substr(0,e.length-2).replace(/(?:\\(.))/g,"$1").replace(/(?:(["\\]))/g,"\\$1")}"`}wo.canonicalize_quoted_string=OG;function zge(e){var t;const r=tC(e),n=(t=r.domainPart.AddressLiteral)!==null&&t!==void 0?t:r.domainPart.DomainName.toLowerCase();return`${r.localPart.QuotedString?OG(r.localPart.QuotedString):r.localPart.DotString}@${n}`}wo.canonicalize=zge;var Fw=Object.prototype.hasOwnProperty,RG=Object.prototype.toString,ML=Object.defineProperty,LL=Object.getOwnPropertyDescriptor,FL=function(t){return typeof Array.isArray=="function"?Array.isArray(t):RG.call(t)==="[object Array]"},BL=function(t){if(!t||RG.call(t)!=="[object Object]")return!1;var r=Fw.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&Fw.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||Fw.call(t,i)},UL=function(t,r){ML&&r.name==="__proto__"?ML(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},zL=function(t,r){if(r==="__proto__")if(Fw.call(t,r)){if(LL)return LL(t,r).value}else return;return t[r]},qge=function e(){var t,r,n,i,o,a,s=arguments[0],l=1,u=arguments.length,f=!1;for(typeof s=="boolean"&&(f=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(r in t)n=zL(s,r),i=zL(t,r),s!==i&&(f&&i&&(BL(i)||(o=FL(i)))?(o?(o=!1,a=n&&FL(n)?n:[]):a=n&&BL(n)?n:{},UL(s,{name:r,newValue:e(f,a,i)})):typeof i<"u"&&UL(s,{name:r,newValue:i}));return s};const Vge=[{scheme:"aaa",description:"Diameter Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6733"}]},{scheme:"aaas",description:"Diameter Protocol with Secure Transport",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6733"}]},{scheme:"about",description:"about",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6694"}]},{scheme:"acap",description:"application configuration access protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2244"}]},{scheme:"acct",description:"acct",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7565"}]},{scheme:"cap",description:"Calendar Access Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4324"}]},{scheme:"cid",description:"content identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2392"}]},{scheme:"coap",description:"coap",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7252"}]},{scheme:"coaps",description:"coaps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7252"}]},{scheme:"crid",description:"TV-Anytime Content Reference Identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4078"}]},{scheme:"data",description:"data",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2397"}]},{scheme:"dav",description:"dav",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4918"}]},{scheme:"dict",description:"dictionary service protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2229"}]},{scheme:"dns",description:"Domain Name System",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4501"}]},{scheme:"example",description:"example",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7595"}]},{scheme:"file",description:"Host-specific file names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"ftp",description:"File Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"geo",description:"Geographic Locations",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5870"}]},{scheme:"go",description:"go",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3368"}]},{scheme:"gopher",description:"The Gopher Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4266"}]},{scheme:"h323",description:"H.323",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3508"}]},{scheme:"http",description:"Hypertext Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7230"}]},{scheme:"https",description:"Hypertext Transfer Protocol Secure",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7230"}]},{scheme:"iax",description:"Inter-Asterisk eXchange Version 2",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5456"}]},{scheme:"icap",description:"Internet Content Adaptation Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3507"}]},{scheme:"im",description:"Instant Messaging",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3860"}]},{scheme:"imap",description:"internet message access protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5092"}]},{scheme:"info",description:`Information Assets with Identifiers in Public Namespaces. 
       (section 3) defines an "info" registry 
        of public namespaces, which is maintained by NISO and can be accessed 
        from .`,reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4452"}]},{scheme:"ipp",description:"Internet Printing Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3510"}]},{scheme:"ipps",description:"Internet Printing Protocol over HTTPS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7472"}]},{scheme:"iris",description:"Internet Registry Information Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3981"}]},{scheme:"iris.beep",description:"iris.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3983"}]},{scheme:"iris.lwz",description:"iris.lwz",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4993"}]},{scheme:"iris.xpc",description:"iris.xpc",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4992"}]},{scheme:"iris.xpcs",description:"iris.xpcs",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4992"}]},{scheme:"jabber",description:"jabber",reference:[],template:"http://www.iana.org/assignments/uri-schemes/perm/jabber"},{scheme:"ldap",description:"Lightweight Directory Access Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4516"}]},{scheme:"mailto",description:"Electronic mail address",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6068"}]},{scheme:"mid",description:"message identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2392"}]},{scheme:"msrp",description:"Message Session Relay Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4975"}]},{scheme:"msrps",description:"Message Session Relay Protocol Secure",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4975"}]},{scheme:"mtqp",description:"Message Tracking Query Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3887"}]},{scheme:"mupdate",description:"Mailbox Update (MUPDATE) Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3656"}]},{scheme:"news",description:"USENET news",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"nfs",description:"network file system protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2224"}]},{scheme:"ni",description:"ni",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6920"}]},{scheme:"nih",description:"nih",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6920"}]},{scheme:"nntp",description:"USENET news using NNTP access",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"opaquelocktoken",description:"opaquelocktokent",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4918"}]},{scheme:"pkcs11",description:"PKCS#11",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7512"}]},{scheme:"pop",description:"Post Office Protocol v3",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2384"}]},{scheme:"pres",description:"Presence",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3859"}]},{scheme:"reload",description:"reload",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6940"}]},{scheme:"rtsp",description:"Real-time Streaming Protocol (RTSP)",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"},{type:"draft",href:"http://www.iana.org/go/RFC-ietf-mmusic-rfc2326bis-40"}]},{scheme:"rtsps",description:"Real-time Streaming Protocol (RTSP) over TLS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"},{type:"draft",href:"http://www.iana.org/go/RFC-ietf-mmusic-rfc2326bis-40"}]},{scheme:"rtspu",description:"Real-time Streaming Protocol (RTSP) over unreliable datagram transport",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"}]},{scheme:"service",description:"service location",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2609"}]},{scheme:"session",description:"session",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6787"}]},{scheme:"shttp",description:"Secure Hypertext Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2660"}]},{scheme:"sieve",description:"ManageSieve Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5804"}]},{scheme:"sip",description:"session initiation protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3261"}]},{scheme:"sips",description:"secure session initiation protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3261"}]},{scheme:"sms",description:"Short Message Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5724"}]},{scheme:"snmp",description:"Simple Network Management Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4088"}]},{scheme:"soap.beep",description:"soap.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4227"}]},{scheme:"soap.beeps",description:"soap.beeps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4227"}]},{scheme:"stun",description:"stun",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7064"}]},{scheme:"stuns",description:"stuns",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7064"}]},{scheme:"tag",description:"tag",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4151"}]},{scheme:"tel",description:"telephone",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"telnet",description:"Reference to interactive sessions",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4248"}]},{scheme:"tftp",description:"Trivial File Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3617"}]},{scheme:"thismessage",description:"multipart/related relative reference resolution",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2557"}],template:"http://www.iana.org/assignments/uri-schemes/perm/thismessage"},{scheme:"tip",description:"Transaction Internet Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2371"}]},{scheme:"tn3270",description:"Interactive 3270 emulation sessions",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6270"}]},{scheme:"turn",description:"turn",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7065"}]},{scheme:"turns",description:"turns",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7065"}]},{scheme:"tv",description:"TV Broadcasts",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2838"}]},{scheme:"urn",description:"Uniform Resource Names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2141"},{type:"registry",href:"http://www.iana.org/assignments/urn-namespaces"}]},{scheme:"vemmi",description:"versatile multimedia interface",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2122"}]},{scheme:"vnc",description:"Remote Framebuffer Protocol",reference:[{type:"draft",href:"http://www.iana.org/go/RFC-warden-appsawg-vnc-scheme-10"}]},{scheme:"ws",description:"WebSocket connections",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6455"}]},{scheme:"wss",description:"Encrypted WebSocket connections",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6455"}]},{scheme:"xcon",description:"xcon",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6501"}]},{scheme:"xcon-userid",description:"xcon-userid",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6501"}]},{scheme:"xmlrpc.beep",description:"xmlrpc.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3529"}]},{scheme:"xmlrpc.beeps",description:"xmlrpc.beeps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3529"}]},{scheme:"xmpp",description:"Extensible Messaging and Presence Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5122"}]},{scheme:"z39.50r",description:"Z39.50 Retrieval",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]},{scheme:"z39.50s",description:"Z39.50 Session",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]}],Hge=[{scheme:"acr",description:"acr",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/acr"},{scheme:"adiumxtra",description:"adiumxtra",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/adiumxtra"},{scheme:"afp",description:"afp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/afp"},{scheme:"afs",description:"Andrew File System global file names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"aim",description:"aim",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/aim"},{scheme:"appdata",description:"appdata",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/appdata"},{scheme:"apt",description:"apt",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/apt"},{scheme:"attachment",description:"attachment",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/attachment"},{scheme:"aw",description:"aw",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/aw"},{scheme:"barion",description:"barion",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/barion"},{scheme:"beshare",description:"beshare",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/beshare"},{scheme:"bitcoin",description:"bitcoin",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/bitcoin"},{scheme:"blob",description:"blob",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/blob"},{scheme:"bolo",description:"bolo",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/bolo"},{scheme:"callto",description:"callto",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/callto"},{scheme:"chrome",description:"chrome",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/chrome"},{scheme:"chrome-extension",description:"chrome-extension",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/chrome-extension"},{scheme:"com-eventbrite-attendee",description:"com-eventbrite-attendee",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/com-eventbrite-attendee"},{scheme:"content",description:"content",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/content"},{scheme:"cvs",description:"cvs",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/cvs"},{scheme:"dis",description:"dis",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dis"},{scheme:"dlna-playcontainer",description:"dlna-playcontainer",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dlna-playcontainer"},{scheme:"dlna-playsingle",description:"dlna-playsingle",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dlna-playsingle"},{scheme:"dntp",description:"dntp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dntp"},{scheme:"dtn",description:"DTNRG research and development",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5050"}]},{scheme:"dvb",description:"dvb",reference:[{type:"draft",href:"http://www.iana.org/go/draft-mcroberts-uri-dvb"}]},{scheme:"ed2k",description:"ed2k",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ed2k"},{scheme:"facetime",description:"facetime",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/facetime"},{scheme:"feed",description:"feed",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/feed"},{scheme:"feedready",description:"feedready",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/feedready"},{scheme:"finger",description:"finger",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/finger"},{scheme:"fish",description:"fish",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/fish"},{scheme:"gg",description:"gg",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gg"},{scheme:"git",description:"git",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/git"},{scheme:"gizmoproject",description:"gizmoproject",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gizmoproject"},{scheme:"gtalk",description:"gtalk",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gtalk"},{scheme:"ham",description:"ham",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7046"}]},{scheme:"hcp",description:"hcp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/hcp"},{scheme:"icon",description:"icon",reference:[{type:"draft",href:"http://www.iana.org/go/draft-lafayette-icon-uri-scheme"}]},{scheme:"iotdisco",description:"iotdisco",reference:[{type:"uri",href:"http://www.iana.org/assignments/uri-schemes/prov/iotdisco.pdf"}],template:"http://www.iana.org/assignments/uri-schemes/prov/iotdisco"},{scheme:"ipn",description:"ipn",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6260"}]},{scheme:"irc",description:"irc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/irc"},{scheme:"irc6",description:"irc6",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/irc6"},{scheme:"ircs",description:"ircs",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ircs"},{scheme:"isostore",description:"isostore",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/isostore"},{scheme:"itms",description:"itms",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/itms"},{scheme:"jar",description:"jar",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/jar"},{scheme:"jms",description:"Java Message Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6167"}]},{scheme:"keyparc",description:"keyparc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/keyparc"},{scheme:"lastfm",description:"lastfm",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/lastfm"},{scheme:"ldaps",description:"ldaps",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ldaps"},{scheme:"magnet",description:"magnet",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/magnet"},{scheme:"maps",description:"maps",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/maps"},{scheme:"market",description:"market",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/market"},{scheme:"message",description:"message",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/message"},{scheme:"mms",description:"mms",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mms"},{scheme:"ms-access",description:"ms-access",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-access"},{scheme:"ms-drive-to",description:"ms-drive-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-drive-to"},{scheme:"ms-enrollment",description:"ms-enrollment",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-enrollment"},{scheme:"ms-excel",description:"ms-excel",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-excel"},{scheme:"ms-getoffice",description:"ms-getoffice",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-getoffice"},{scheme:"ms-help",description:"ms-help",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-help"},{scheme:"ms-infopath",description:"ms-infopath",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-infopath"},{scheme:"ms-media-stream-id",description:"ms-media-stream-id",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-media-stream-id"},{scheme:"ms-powerpoint",description:"ms-powerpoint",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-powerpoint"},{scheme:"ms-project",description:"ms-project",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-project"},{scheme:"ms-publisher",description:"ms-publisher",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-publisher"},{scheme:"ms-search-repair",description:"ms-search-repair",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-search-repair"},{scheme:"ms-secondary-screen-controller",description:"ms-secondary-screen-controller",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-secondary-screen-controller"},{scheme:"ms-secondary-screen-setup",description:"ms-secondary-screen-setup",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-secondary-screen-setup"},{scheme:"ms-settings",description:"ms-settings",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings"},{scheme:"ms-settings-airplanemode",description:"ms-settings-airplanemode",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-airplanemode"},{scheme:"ms-settings-bluetooth",description:"ms-settings-bluetooth",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-bluetooth"},{scheme:"ms-settings-camera",description:"ms-settings-camera",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-camera"},{scheme:"ms-settings-cellular",description:"ms-settings-cellular",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-cellular"},{scheme:"ms-settings-cloudstorage",description:"ms-settings-cloudstorage",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-cloudstorage"},{scheme:"ms-settings-connectabledevices",description:"ms-settings-connectabledevices",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-connectabledevices"},{scheme:"ms-settings-displays-topology",description:"ms-settings-displays-topology",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-displays-topology"},{scheme:"ms-settings-emailandaccounts",description:"ms-settings-emailandaccounts",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-emailandaccounts"},{scheme:"ms-settings-language",description:"ms-settings-language",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-language"},{scheme:"ms-settings-location",description:"ms-settings-location",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-location"},{scheme:"ms-settings-lock",description:"ms-settings-lock",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-lock"},{scheme:"ms-settings-nfctransactions",description:"ms-settings-nfctransactions",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-nfctransactions"},{scheme:"ms-settings-notifications",description:"ms-settings-notifications",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-notifications"},{scheme:"ms-settings-power",description:"ms-settings-power",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-power"},{scheme:"ms-settings-privacy",description:"ms-settings-privacy",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-privacy"},{scheme:"ms-settings-proximity",description:"ms-settings-proximity",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-proximity"},{scheme:"ms-settings-screenrotation",description:"ms-settings-screenrotation",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-screenrotation"},{scheme:"ms-settings-wifi",description:"ms-settings-wifi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-wifi"},{scheme:"ms-settings-workplace",description:"ms-settings-workplace",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-workplace"},{scheme:"ms-spd",description:"ms-spd",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-spd"},{scheme:"ms-transit-to",description:"ms-transit-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-transit-to"},{scheme:"ms-visio",description:"ms-visio",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-visio"},{scheme:"ms-walk-to",description:"ms-walk-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-walk-to"},{scheme:"ms-word",description:"ms-word",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-word"},{scheme:"msnim",description:"msnim",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/msnim"},{scheme:"mumble",description:"mumble",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mumble"},{scheme:"mvn",description:"mvn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mvn"},{scheme:"notes",description:"notes",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/notes"},{scheme:"oid",description:"oid",reference:[{type:"draft",href:"http://www.iana.org/go/draft-larmouth-oid-iri"}],template:"http://www.iana.org/assignments/uri-schemes/prov/oid"},{scheme:"palm",description:"palm",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/palm"},{scheme:"paparazzi",description:"paparazzi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/paparazzi"},{scheme:"platform",description:"platform",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/platform"},{scheme:"proxy",description:"proxy",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/proxy"},{scheme:"psyc",description:"psyc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/psyc"},{scheme:"query",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/query"},{scheme:"redis",description:"redis",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/redis"},{scheme:"rediss",description:"rediss",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rediss"},{scheme:"res",description:"res",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/res"},{scheme:"resource",description:"resource",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/resource"},{scheme:"rmi",description:"rmi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rmi"},{scheme:"rsync",description:"rsync",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5781"}]},{scheme:"rtmfp",description:"rtmfp",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7425"}],template:"http://www.iana.org/assignments/uri-schemes/prov/rtmfp"},{scheme:"rtmp",description:"rtmp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rtmp"},{scheme:"secondlife",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/secondlife"},{scheme:"sftp",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/sftp"},{scheme:"sgn",description:"sgn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/sgn"},{scheme:"skype",description:"skype",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/skype"},{scheme:"smb",description:"smb",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/smb"},{scheme:"smtp",description:"smtp",reference:[{type:"draft",href:"http://www.iana.org/go/draft-melnikov-smime-msa-to-mda"}],template:"http://www.iana.org/assignments/uri-schemes/prov/smtp"},{scheme:"soldat",description:"soldat",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/soldat"},{scheme:"spotify",description:"spotify",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/spotify"},{scheme:"ssh",description:"ssh",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ssh"},{scheme:"steam",description:"steam",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/steam"},{scheme:"submit",description:"submit",reference:[{type:"draft",href:"http://www.iana.org/go/draft-melnikov-smime-msa-to-mda"}],template:"http://www.iana.org/assignments/uri-schemes/prov/submit"},{scheme:"svn",description:"svn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/svn"},{scheme:"teamspeak",description:"teamspeak",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/teamspeak"},{scheme:"teliaeid",description:"teliaeid",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/teliaeid"},{scheme:"things",description:"things",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/things"},{scheme:"tool",description:"tool",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/tool"},{scheme:"udp",description:"udp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/udp"},{scheme:"unreal",description:"unreal",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/unreal"},{scheme:"ut2004",description:"ut2004",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ut2004"},{scheme:"v-event",description:"v-event",reference:[{type:"draft",href:"http://www.iana.org/go/draft-menderico-v-event-uri"}],template:"http://www.iana.org/assignments/uri-schemes/prov/v-event"},{scheme:"ventrilo",description:"ventrilo",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ventrilo"},{scheme:"view-source",description:"view-source",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/view-source"},{scheme:"webcal",description:"webcal",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/webcal"},{scheme:"wpid",description:"wpid",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wpid"},{scheme:"wtai",description:"wtai",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wtai"},{scheme:"wyciwyg",description:"wyciwyg",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wyciwyg"},{scheme:"xfire",description:"xfire",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/xfire"},{scheme:"xri",description:"xri",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/xri"},{scheme:"ymsgr",description:"ymsgr",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ymsgr"}],Gge=[{scheme:"fax",description:"fax",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2806"},{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"filesystem",description:"filesystem",reference:[],template:"http://www.iana.org/assignments/uri-schemes/historic/filesystem"},{scheme:"mailserver",description:"Access to data available from mail servers",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6196"}]},{scheme:"modem",description:"modem",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2806"},{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"pack",description:"pack",reference:[{type:"draft",href:"http://www.iana.org/go/draft-shur-pack-uri-scheme"}],template:"http://www.iana.org/assignments/uri-schemes/historic/pack"},{scheme:"prospero",description:"Prospero Directory Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4157"}]},{scheme:"snews",description:"NNTP over SSL/TLS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"videotex",description:"videotex",reference:[{type:"draft",href:"http://www.iana.org/go/draft-mavrakis-videotex-url-spec"},{type:"rfc",href:"http://www.iana.org/go/rfc2122"},{type:"rfc",href:"http://www.iana.org/go/rfc3986"}],template:"http://www.iana.org/assignments/uri-schemes/historic/videotex"},{scheme:"wais",description:"Wide Area Information Servers",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4156"}]},{scheme:"z39.50",description:"Z39.50 information access",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"},{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]}],Wge=[{scheme:"android-app"},{scheme:"webpack"},{scheme:"s3",description:"Amazon Web Services S3 bucket"},{scheme:"gs",description:"Google Cloud Storage"},{scheme:"mqtt",description:"Message Queuing Telemetry Transport Protocol"},{scheme:"modbus+tcp",description:"Modbus over TCP"}];var rC=qge,Km={permanent:Vge,provosional:Hge,historical:Gge},DE={};Object.keys(Km).forEach(function(e){Km[e].forEach(function(t){DE[t.scheme]=rC(t,{type:e})})});Km.unofficial=Wge.filter(function(e){return!DE[e.scheme]});Km.unofficial.forEach(function(e){DE[e.scheme]=rC(e,{type:"unofficial"})});var IG=rC(Km,{allByName:DE});const{parse:Kge}=SG,{addressParser:Jge}=wo,Yge=IG;function Xge(e){try{return Jge(e),!0}catch{return!1}}var Qge=e=>{const t=Kge(e);return!!(t.scheme==="mailto"&&t.to.every(Xge)||t.reference==="absolute"&&Yge.allByName[t.scheme])},Zge=/^P(?!$)(\d+(?:\.\d+)?Y)?(\d+(?:\.\d+)?M)?(\d+(?:\.\d+)?W)?(\d+(?:\.\d+)?D)?(T(?=\d)(\d+(?:\.\d+)?H)?(\d+(?:\.\d+)?M)?(\d+(?:\.\d+)?S)?)?$/;const{parse:eve}=wo;var tve=e=>{try{return eve(e),!0}catch{return!1}};const oh=2147483647,Bs=36,nC=1,Jm=26,rve=38,nve=700,NG=72,CG=128,kG="-",ive=/^xn--/,ove=/[^\0-\x7F]/,ave=/[\x2E\u3002\uFF0E\uFF61]/g,sve={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F1=Bs-nC,Us=Math.floor,B1=String.fromCharCode;function bu(e){throw new RangeError(sve[e])}function lve(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function jG(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(ave,".");const i=e.split("."),o=lve(i,t).join(".");return n+o}function iC(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=e.charCodeAt(r++);(o&64512)==56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}const DG=e=>String.fromCodePoint(...e),uve=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:Bs},qL=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},MG=function(e,t,r){let n=0;for(e=r?Us(e/nve):e>>1,e+=Us(e/t);e>F1*Jm>>1;n+=Bs)e=Us(e/F1);return Us(n+(F1+1)*e/(e+rve))},oC=function(e){const t=[],r=e.length;let n=0,i=CG,o=NG,a=e.lastIndexOf(kG);a<0&&(a=0);for(let s=0;s<a;++s)e.charCodeAt(s)>=128&&bu("not-basic"),t.push(e.charCodeAt(s));for(let s=a>0?a+1:0;s<r;){const l=n;for(let f=1,c=Bs;;c+=Bs){s>=r&&bu("invalid-input");const h=uve(e.charCodeAt(s++));h>=Bs&&bu("invalid-input"),h>Us((oh-n)/f)&&bu("overflow"),n+=h*f;const m=c<=o?nC:c>=o+Jm?Jm:c-o;if(h<m)break;const g=Bs-m;f>Us(oh/g)&&bu("overflow"),f*=g}const u=t.length+1;o=MG(n-l,u,l==0),Us(n/u)>oh-i&&bu("overflow"),i+=Us(n/u),n%=u,t.splice(n++,0,i)}return String.fromCodePoint(...t)},aC=function(e){const t=[];e=iC(e);const r=e.length;let n=CG,i=0,o=NG;for(const l of e)l<128&&t.push(B1(l));const a=t.length;let s=a;for(a&&t.push(kG);s<r;){let l=oh;for(const f of e)f>=n&&f<l&&(l=f);const u=s+1;l-n>Us((oh-i)/u)&&bu("overflow"),i+=(l-n)*u,n=l;for(const f of e)if(f<n&&++i>oh&&bu("overflow"),f===n){let c=i;for(let h=Bs;;h+=Bs){const m=h<=o?nC:h>=o+Jm?Jm:h-o;if(c<m)break;const g=c-m,_=Bs-m;t.push(B1(qL(m+g%_,0))),c=Us(g/_)}t.push(B1(qL(c,0))),o=MG(i,u,s===a),i=0,++s}++i,++n}return t.join("")},LG=function(e){return jG(e,function(t){return ive.test(t)?oC(t.slice(4).toLowerCase()):t})},FG=function(e){return jG(e,function(t){return ove.test(t)?"xn--"+aC(t):t})},cve={version:"2.3.1",ucs2:{decode:iC,encode:DG},decode:oC,encode:aC,toASCII:FG,toUnicode:LG},fve=Object.freeze(Object.defineProperty({__proto__:null,decode:oC,default:cve,encode:aC,toASCII:FG,toUnicode:LG,ucs2decode:iC,ucs2encode:DG},Symbol.toStringTag,{value:"Module"})),BG=Lx(fve),{toASCII:dve}=BG,hve=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i;var pve=e=>{const t=dve(e);return t.replace(/\.$/,"").length<=253&&hve.test(t)};const{parse:mve}=SG,{addressParser:gve}=wo,VL=IG;function vve(e){try{return gve(e),!0}catch{return!1}}var yve=e=>{const t=mve(e);return t.scheme==="mailto"&&t.to.every(vve)||t.reference==="absolute"&&t.path!==void 0&&VL.allByName[t.scheme]?!0:t.scheme&&!VL.allByName[t.scheme]?!1:t.path!==void 0&&(t.reference==="relative"||t.reference==="same-document"||t.reference==="uri")};(function(e){e.exports.iri=Qge,e.exports.duration=Zge,e.exports["idn-email"]=tve,e.exports["idn-hostname"]=pve,e.exports["iri-reference"]=yve})(Dge);var UG={exports:{}};(function(e){var t=function(){var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function a(l,u){if(!o[l]){o[l]={};for(var f=0;f<l.length;f++)o[l][l.charAt(f)]=f}return o[l][u]}var s={compressToBase64:function(l){if(l==null)return"";var u=s._compress(l,6,function(f){return n.charAt(f)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:s._decompress(l.length,32,function(u){return a(n,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":s._compress(l,15,function(u){return r(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:s._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=s.compress(l),f=new Uint8Array(u.length*2),c=0,h=u.length;c<h;c++){var m=u.charCodeAt(c);f[c*2]=m>>>8,f[c*2+1]=m%256}return f},decompressFromUint8Array:function(l){if(l==null)return s.decompress(l);for(var u=new Array(l.length/2),f=0,c=u.length;f<c;f++)u[f]=l[f*2]*256+l[f*2+1];var h=[];return u.forEach(function(m){h.push(r(m))}),s.decompress(h.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":s._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),s._decompress(l.length,32,function(u){return a(i,l.charAt(u))}))},compress:function(l){return s._compress(l,16,function(u){return r(u)})},_compress:function(l,u,f){if(l==null)return"";var c,h,m={},g={},_="",v="",p="",E=2,y=3,S=2,$=[],T=0,d=0,A;for(A=0;A<l.length;A+=1)if(_=l.charAt(A),Object.prototype.hasOwnProperty.call(m,_)||(m[_]=y++,g[_]=!0),v=p+_,Object.prototype.hasOwnProperty.call(m,v))p=v;else{if(Object.prototype.hasOwnProperty.call(g,p)){if(p.charCodeAt(0)<256){for(c=0;c<S;c++)T=T<<1,d==u-1?(d=0,$.push(f(T)),T=0):d++;for(h=p.charCodeAt(0),c=0;c<8;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1}else{for(h=1,c=0;c<S;c++)T=T<<1|h,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=0;for(h=p.charCodeAt(0),c=0;c<16;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1}E--,E==0&&(E=Math.pow(2,S),S++),delete g[p]}else for(h=m[p],c=0;c<S;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1;E--,E==0&&(E=Math.pow(2,S),S++),m[v]=y++,p=String(_)}if(p!==""){if(Object.prototype.hasOwnProperty.call(g,p)){if(p.charCodeAt(0)<256){for(c=0;c<S;c++)T=T<<1,d==u-1?(d=0,$.push(f(T)),T=0):d++;for(h=p.charCodeAt(0),c=0;c<8;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1}else{for(h=1,c=0;c<S;c++)T=T<<1|h,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=0;for(h=p.charCodeAt(0),c=0;c<16;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1}E--,E==0&&(E=Math.pow(2,S),S++),delete g[p]}else for(h=m[p],c=0;c<S;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1;E--,E==0&&(E=Math.pow(2,S),S++)}for(h=2,c=0;c<S;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1;for(;;)if(T=T<<1,d==u-1){$.push(f(T));break}else d++;return $.join("")},decompress:function(l){return l==null?"":l==""?null:s._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,f){var c=[],h=4,m=4,g=3,_="",v=[],p,E,y,S,$,T,d,A={val:f(0),position:u,index:1};for(p=0;p<3;p+=1)c[p]=p;for(y=0,$=Math.pow(2,2),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;switch(y){case 0:for(y=0,$=Math.pow(2,8),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;d=r(y);break;case 1:for(y=0,$=Math.pow(2,16),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;d=r(y);break;case 2:return""}for(c[3]=d,E=d,v.push(d);;){if(A.index>l)return"";for(y=0,$=Math.pow(2,g),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;switch(d=y){case 0:for(y=0,$=Math.pow(2,8),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;c[m++]=r(y),d=m-1,h--;break;case 1:for(y=0,$=Math.pow(2,16),T=1;T!=$;)S=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(S>0?1:0)*T,T<<=1;c[m++]=r(y),d=m-1,h--;break;case 2:return v.join("")}if(h==0&&(h=Math.pow(2,g),g++),c[d])_=c[d];else if(d===m)_=E+E.charAt(0);else return null;v.push(_),c[m++]=E+_.charAt(0),h--,E=_,h==0&&(h=Math.pow(2,g),g++)}}};return s}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(UG);var wve=UG.exports;const zG=Pf(wve);var qG={exports:{}},VG=BG;function bve(e,t){this.__proto__=new Error(t),this.__proto__.name="BackslashError",this.offset=e}function U1(e){return e>="0"&&e<="7"}function _ve(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"}function HL(e){return e=parseInt(e,16),VG.ucs2.encode([e])}function HG(e,t,r){var n=!1,i=[];function o(l){var u=e[l];if(!_ve(u))throw new bve(l,"Unexpected token ILLEGAL");return u}for(;t<e.length;){var a=e[t];if(t++,n){switch(n=!1,a){case"n":i.push(`
`);continue;case"r":i.push("\r");continue;case"f":i.push("\f");continue;case"b":i.push("\b");continue;case"t":i.push("	");continue;case"v":i.push("\v");continue;case"\\":i.push("\\");continue}if(a==="x"){i.push(HL(o(t)+o(t+1))),t+=2;continue}if(a==="u"){i.push(HL(o(t)+o(t+1)+o(t+2)+o(t+3))),t+=4;continue}if(U1(a)){var s;U1(s=e[t])&&(t++,a+=s,U1(s=e[t])&&a[0]<="3"&&(t++,a+=s)),i.push(VG.ucs2.encode([parseInt(a,8)]));continue}i.push(a)}else if(a==="\\")n=!0;else if(a===r){t--;break}else i.push(a)}return arguments.length===3?{end:t,value:i.join("")}:i.join("")}qG.exports=function(t){return HG(t,0)};qG.exports.parseUntil=function(t,r,n){return HG(t,r,n)};const Eve="Thing Description",Sve="1.1-05-September-2022",$ve="JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values",Tve="http://json-schema.org/draft-07/schema#",Ave="https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json",Pve={anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"}},security:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string",not:{const:"tm:ThingModel"}},{type:"array",items:{type:"string",not:{const:"tm:ThingModel"}}}]},"dataSchema-type":{type:"string",enum:["boolean","integer","number","string","object","array","null"]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{type:["integer","number"],exclusiveMinimum:0},expectedResponse:{type:"object",properties:{contentType:{type:"string"}}},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},required:["href"],additionalProperties:!0},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{type:"array",items:{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]}}]}},additionalProperties:!0},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["invokeaction","queryaction","cancelaction"]},{type:"array",items:{type:"string",enum:["invokeaction","queryaction","cancelaction"]}}]}},additionalProperties:!0},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["subscribeevent","unsubscribeevent"]},{type:"array",items:{type:"string",enum:["subscribeevent","unsubscribeevent"]}}]}},additionalProperties:!0},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{type:"array",items:{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]}}]}},additionalProperties:!0,required:["op"]},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},observable:{type:"boolean"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}},required:["forms"],additionalProperties:!0},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{type:"boolean"},idempotent:{type:"boolean"},synchronous:{type:"boolean"}},required:["forms"],additionalProperties:!0},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"}},required:["forms"],additionalProperties:!0},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]}},required:["href"],additionalProperties:!0},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon or tm:extends",properties:{rel:{enum:["icon","tm:extends"]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},required:["scheme"],additionalProperties:!0},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["nosec"]}},required:["scheme"],additionalProperties:!0},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["auto"]}},not:{required:["name"]},required:["scheme"],additionalProperties:!0},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},oneOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","oneOf"],additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},allOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","allOf"],additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["basic"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["digest"]},qop:{type:"string",enum:["auth","auth-int"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["apikey"]},in:{type:"string",enum:["header","query","body","cookie","uri","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["bearer"]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["psk"]},identity:{type:"string"}},required:["scheme"],additionalProperties:!0},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["oauth2"]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",enum:["code","client","device"]}]}},required:["scheme"],additionalProperties:!0},securityScheme:{oneOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]}},xve="object",Ove={id:{type:"string",format:"uri"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{type:"object",properties:{instance:{type:"string"}},required:["instance"]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"}},support:{$ref:"#/definitions/anyUri"},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},"@type":{$ref:"#/definitions/type_declaration"},"@context":{$ref:"#/definitions/thing-context"}},Rve=["title","security","securityDefinitions","@context"],Ive=!0,Up={title:Eve,version:Sve,description:$ve,$schema:Tve,$id:Ave,definitions:Pve,type:xve,properties:Ove,required:Rve,additionalProperties:Ive};function Nve(e){return zG.compressToEncodedURIComponent(e)}function Cve(e){return zG.decompressFromEncodedURIComponent(e)}const Ic="$ref",kve="properties",jve="additional_properties",uu="dataSchema",Dve="#/";Mve(Up);function Mve(e){const t=new Map,r=new Map;return Lc(t,e,Dve),t.forEach((n,i)=>{if(n.size>0){const o=(i.match(/\//ig)||[]).length;let a=r.get(o);a?(a.set(i.replace(/^r/g,""),n),r.set(o,a)):(a=new Map,a.set(i.replace(/^r/g,""),n),r.set(o,a))}}),r}function Lc(e,t,r){const n=new Set;if(t[Ic]){if(r[0]==="r"&&t[Ic].includes(uu))return;t[Ic].includes(uu)&&(r="r"+r),Lc(ry(Up,t[Ic]),r);return}if(t.type==="object"){const i=t[kve];for(const a in i)if(i.hasOwnProperty(a))if(a===Ic){if(r[0]==="r"&&i[a].includes(uu))continue;i[a].includes(uu)&&(r="r"+r),Lc(ry(Up,i[a]),r);return}else Lc(i[a],`${r}${a}/`),n.add(a);const o=t[jve];for(const a in o)if(o.hasOwnProperty(a)&&a===Ic){if(r[0]==="r"&&o[a].includes(uu))continue;o[a].includes(uu)&&(r="r"+r),Lc(ry(Up,o[a]),`${r}*/`);return}GL(e,r,n)}if(t.type==="array"){const i=t.items;for(const o in i)if(i.hasOwnProperty(o)&&o===Ic){if(r[0]==="r"&&i[o].includes(uu))continue;i[o].includes(uu)&&(r="r"+r),Lc(ry(Up,i[o]),r);return}GL(e,r,n)}for(const i in t)t.hasOwnProperty(i)&&["allOf","oneOf","anyOf"].includes(i)&&Array.isArray(t[i])&&t[i].forEach(o=>{Lc(o,r)})}function GL(e,t,r){let n=e.get(t);if(n){const i=new Set(n);r.forEach(o=>{i.add(o)}),e.set(t,i)}else e.set(t,r)}function ry(e,t){const r=t.split("/");if(r[0]!=="#"){console.log("Parsing not implemented for between files");return}let n=e;for(let i=1;i<r.length;i++)n=n[r[i]];return n}const Lve="tdjson",Fve="tmjson",Bve=e=>{let t;try{t=JSON.parse(e)}catch(i){console.debug(i);return}let r=Lve;return I4(t)&&(r=Fve),Nve(r.concat(e))},Uve=e=>{let t=Cve(e);if(!(t==null||t==="")){t=t.substring(6);try{return JSON.parse(t)}catch(r){console.debug(r)}}},zve=Me.forwardRef((e,t)=>{const r=Me.useContext(An),[n,i]=lt.useState(!1),[o,a]=lt.useState(""),[s,l]=lt.useState("");Me.useImperativeHandle(t,()=>({openModal:()=>u(),close:()=>f()}));const u=()=>{i(!0);const h=Bve(r.offlineTD);l(h);const m=`${window.location.origin+window.location.pathname}?td=${h}`;a(m),qve(m),Vve()},f=()=>{i(!1)};let c=pe.jsx("input",{type:"text",name:"share-td-field",id:"share-td-field",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",defaultValue:o});return n?Ml.createPortal(pe.jsx(Ll,{hasSubmit:!0,onCancel:f,cancelText:"Okay",submitText:"Open in Playground",onSubmit:()=>{window.open(`https://playground.thingweb.io//#${s}`),f()},children:c,title:"Share This TD",description:"A link to this TD was copied to your clipboard."}),document.getElementById("modal-root")):null}),qve=e=>{document.hasFocus()&&navigator.clipboard.writeText(e).then(function(){console.log("Async: Copied TD link to clipboard!")},function(t){console.error("Async: Could not copy TD to clipboard: ",t)})},Vve=()=>{setTimeout(()=>{try{document.getElementById("share-td-field").select()}catch{}},250)};function Hve(){const e=Me.useContext(An),[t,r]=lt.useState(!1),n=Me.useCallback(()=>e.isModified?window.confirm("Discard changes? All changes you made to your TD will be lost."):!0,[e.isModified]),i=Me.useCallback(async()=>{if(n())try{const v=await Y9(),p=`./${v.fileName}`;let E={};E[p]=v.fileHandle?v.fileHandle:JSON.parse(v.td),e.updateOfflineTD(v.td),e.updateIsModified(!1),e.setFileHandle(v.fileHandle||v.fileNname),e.updateLinkedTd(void 0),e.addLinkedTd(E)}catch(v){const p="Opening a new TD was canceled or an error occured.";console.error(p,v),alert(p)}},[e,n]),o=Me.useCallback(async()=>{const v=e.parsedTD;if(!e.isValidJSON)return alert("Didn't save TD. The given TD can't even be parsed into a JSON object.");r(!0);const p=uH();if(p===""){const E=await bM(e.name,e.fileHandle,e.offlineTD);e.setFileHandle(E??e.fileHandle)}else try{v.id?Xue(v,p):Que(v,p)}catch(E){console.debug(E),alert("Didn't save TD. Please check if the provided target URL is correct and the intermediary / thing directory is working as intended.");return}e.updateIsModified(!1),r(!1)},[e]),a=Me.useCallback(async()=>{try{const v=await bM(e.name,void 0,e.offlineTD);e.setFileHandle(v??e.fileHandle),e.updateIsModified(!1)}catch(v){console.debug(v),alert("Didn't save TD. The action was either canceled or ran into an error.")}},[e]),s=v=>async()=>{r(!0);const p=await v();return r(!1),console.log(p),p};Me.useEffect(()=>{const v=p=>{(window.navigator.platform.match("Mac")?p.metaKey:p.ctrlKey)&&p.key==="s"&&(p.preventDefault(),p.stopPropagation(),s(o)()),(window.navigator.platform.match("Mac")?p.metaKey:p.ctrlKey)&&p.key==="o"&&(p.preventDefault(),p.stopPropagation(),s(i)()),(window.navigator.platform.match("Mac")?p.metaKey:p.ctrlKey)&&p.key==="n"&&(p.preventDefault(),p.stopPropagation(),m())};return document.addEventListener("keydown",v,!1),window.onbeforeunload=function(p){var E="Important: Please click on 'Save' button to leave this page.";return typeof p>"u"&&(p=window.event),p&&(p.returnValue=E),E},()=>{document.removeEventListener("keydown",v,!1)}},[i,o]);const l=lt.useRef(),u=()=>{l.current.openModal()},f=lt.useRef(),c=()=>{f.current.openModal()},h=lt.useRef(),m=()=>{h.current.openModal()},g=lt.useRef(),_=()=>{g.current.openModal()};return pe.jsxs(pe.Fragment,{children:[pe.jsxs("header",{className:"flex h-14 items-center justify-between bg-blue-500",children:[pe.jsx("div",{className:"flex items-center",children:pe.jsx("button",{className:"ml-4",onClick:()=>window.open("https://eclipse.github.io/editdor/","_blank"),children:pe.jsx("img",{className:"min-w-36 max-w-36",src:Jue,alt:"LOGO"})})}),pe.jsxs("div",{className:"flex items-center gap-4 pr-2",children:[t&&pe.jsx("div",{className:"app-header-spinner hidden md:block"}),pe.jsxs(Nc,{onClick:c,children:[pe.jsx(GO,{}),pe.jsx("div",{className:"text-xs",children:"Share"})]}),pe.jsx("div",{className:"hidden md:block",children:pe.jsxs(Nc,{onClick:s(o),children:[pe.jsx(qO,{}),pe.jsx("div",{className:"text-xs",children:"Save"})]})}),pe.jsx("div",{className:"hidden md:block",children:pe.jsxs(Nc,{onClick:s(i),children:[pe.jsx(FO,{}),pe.jsx("div",{className:"text-xs",children:"Open"})]})}),pe.jsxs(Nc,{onClick:m,children:[pe.jsx(MO,{}),pe.jsx("div",{className:"text-xs",children:"Create"})]}),I4(e.parsedTD)&&pe.jsxs(Nc,{onClick:u,children:[pe.jsx(LO,{}),pe.jsx("div",{className:"text-xs",children:"To TD"})]}),pe.jsxs(Nc,{onClick:s(a),children:[pe.jsx(DO,{}),pe.jsx("div",{className:"text-xs",children:"Download"})]}),pe.jsxs(Nc,{onClick:_,children:[pe.jsx(HO,{}),pe.jsx("div",{className:"text-xs",children:"Settings"})]})]})]}),pe.jsx(ece,{ref:l}),pe.jsx(zve,{ref:f}),pe.jsx(ace,{ref:h}),pe.jsx(uce,{ref:g}),pe.jsx("input",{className:"h-0",type:"file",id:"fileInput",style:{display:"none"}}),pe.jsx("a",{className:"h-0",id:"aDownload",href:"/",style:{display:"none"}})]})}function Nc(e){return pe.jsx("button",{className:"min-w-8 text-white hover:opacity-50",onClick:e.onClick,children:pe.jsx("div",{className:"flex flex-col items-center justify-center gap-0.5",children:e.children})})}var GG=(e=>(e.BAR="BAR",e.SECTION="SECTION",e))(GG||{}),Gve=(e=>(e.ACTIVATE="activate",e.MOVE="move",e.DEACTIVATE="deactivate",e))(Gve||{}),WG={x:0,y:0};function Wve(e,t){return t?{x:e.x-t.x,y:e.y-t.y}:WG}function KG(){let e=[],t=0,r=0;return{collect(n){e.push(n),n.disableResponsive||(t+=1,r+=n.currentSize)},getResult(){return{sizeInfoArray:e,flexGrowRatio:t/r}}}}function zs(e){return Number.isFinite(e)&&e>0}function JG(e,t,r){let{collect:n,getResult:i}=KG(),o=ny(e,t,-1,r),a=ny(e,-t,1,r),s=t-o.remainingOffset,l=-t-a.remainingOffset;function u(f,c){f.forEach(n),n(r[e]),c.forEach(n)}if(s===-l)u(o.sizeInfoArray,a.sizeInfoArray);else if(Math.abs(s)<Math.abs(l)){let f=ny(e,-s,1,r);u(o.sizeInfoArray,f.sizeInfoArray)}else{let f=ny(e,-l,-1,r);u(f.sizeInfoArray,a.sizeInfoArray)}return i()}function ny(e,t,r,n){let i=[],o=t;for(let l=e+r;s(l);l+=r)if(o){let{sizeInfo:u,remainingOffset:f}=Kve(o,n[l]);o=f,a(u)}else a(n[l]);function a(l){r===-1?i.unshift(l):i.push(l)}function s(l){return r===-1?l>=0:l<=n.length-1}return{sizeInfoArray:i,remainingOffset:o}}function Kve(e,t){if(t.isSolid)return{remainingOffset:e,sizeInfo:t};let{nextSize:r,remainingOffset:n}=Jve(t.currentSize+e,t);return{sizeInfo:{...t,currentSize:r},remainingOffset:n}}function Jve(e,{maxSize:t,minSize:r=0}){return e<r?{nextSize:r,remainingOffset:e-r}:zs(t)&&e>t?{nextSize:t,remainingOffset:e-t}:{nextSize:e,remainingOffset:0}}var z1={barIndex:-1,offset:0,type:"deactivate",originalCoordinate:WG,defaultSizeInfoArray:[],sizeInfoArray:[],discard:!0,flexGrowRatio:0};function Yve(e){let t=z1,r=new Set;return{dispatch(n){t=(()=>{let i={barIndex:n.barIndex,type:n.type};switch(n.type){case"activate":let{sizeInfoArray:o,flexGrowRatio:a}=e.getSizeRelatedInfo();return{...z1,...i,originalCoordinate:n.coordinate,defaultSizeInfoArray:o,sizeInfoArray:o,flexGrowRatio:a};case"move":let s=e.calculateOffset(n.coordinate,t.originalCoordinate);return{...i,...JG(n.barIndex,s,t.defaultSizeInfoArray),offset:s,originalCoordinate:t.originalCoordinate,defaultSizeInfoArray:t.defaultSizeInfoArray,discard:!1};case"deactivate":return z1}})(),r.forEach(i=>i(t))},subscribe(n){return r.add(n),()=>r.delete(n)},unsubscribeAll(){r.clear()}}}function Ym(e,t,r){e==null||e.dispatchEvent(new CustomEvent(t,{detail:r}))}var Xve=class{constructor(){Gn(this,"disposeFnSet",new Set);Gn(this,"watchResizerEvent",(e,t,r)=>{e==null||e.addEventListener(t,r);let n=()=>e==null?void 0:e.removeEventListener(t,r);return this.disposeFnSet.add(n),n});Gn(this,"reset",()=>{this.disposeFnSet.forEach(e=>e()),this.disposeFnSet.clear()})}},Qve=class{constructor(){Gn(this,"infoMap",new Map);Gn(this,"items",[])}update(t){this.infoMap.clear(),this.items.forEach(r=>r.destroy()),this.items=t,t.forEach((r,n)=>{this.infoMap.set(r.elm,{item:r,index:n})})}reset(){this.update([])}getItems(){return this.items}getItem(t){var r;return((r=this.infoMap.get(t))==null?void 0:r.item)??null}getItemIndex(t){var r;return((r=this.infoMap.get(t))==null?void 0:r.index)??null}},Mx=!0;try{window.addEventListener("test",null,{get passive(){return Mx={passive:!1},!0}})}catch{}function YG({size:e}){return zs(e)}function Zve(e){let{disableResponsive:t}=e;return YG(e)&&t===void 0?!0:!!t}function eye(e){return!!e&&e in GG}function WL(e){return t=>({"data-item-type":e,"data-item-config":JSON.stringify(t)})}function tye(e){return Array.from(e.childNodes).map(t=>{if(!(t instanceof HTMLElement))return null;let r=t.getAttribute("data-item-type");return eye(r)?{type:r,elm:t}:null}).filter(t=>!!t)}function XG({elm:e}){try{let t=JSON.parse(e.getAttribute("data-item-config")??"");return t&&typeof t=="object"?t:{}}catch{return{}}}function KL(e){return e*2+1}function q1(e){return e*2}var JL=class{constructor(e){Gn(this,"isDiscarded",!1);this.resizeResult=e}resizeSection(e,t){if(this.isDiscarded)return;let r=q1(e),n=this.getSize(r);if(n>=0&&t.toSize>=0){let i=t.toSize-n;r===this.resizeResult.sizeInfoArray.length-1||t.preferMoveLeftBar?this.moveBar(e-1,{withOffset:-i}):this.moveBar(e,{withOffset:i})}}moveBar(e,t){this.isDiscarded||(this.resizeResult=JG(KL(e),t.withOffset,this.resizeResult.sizeInfoArray))}discard(){this.isDiscarded=!0}isSectionResized(e){let t=q1(e);return"defaultSizeInfoArray"in this.resizeResult?this.getSize(t)!==this.resizeResult.defaultSizeInfoArray[t].currentSize:!1}isBarActivated(e){return"barIndex"in this.resizeResult?this.resizeResult.barIndex===KL(e):!1}getSectionSize(e){return this.getSize(q1(e))}getResult(){return{...this.resizeResult,discard:this.isDiscarded}}getTotalSize(){return this.resizeResult.sizeInfoArray.filter((e,t)=>e&&t%2===0).reduce((e,{currentSize:t})=>e+t,0)}getSize(e){let t=this.resizeResult.sizeInfoArray[e];return t?t.currentSize:-1}},QG=class{constructor(e,t,r){Gn(this,"_config");Gn(this,"_observer");this.type=e,this.elm=t,this.getConfig=r,this._config=this.getConfig(),this._observer=new MutationObserver(()=>this._config=this.getConfig()),this._observer.observe(t,{attributes:!0,attributeFilter:["data-item-config"]})}get config(){return this._config}destroy(){this._observer.disconnect()}},iy=class extends QG{constructor(r,n){super("BAR",r.elm,()=>rye(r));Gn(this,"isActive",!1);Gn(this,"isValidClick",!0);this.dispatchBarAction=n;let i=[this.attachListener(this.elm,"mousedown","activate"),this.attachListener(document,"mousemove","move"),this.attachListener(document,"mouseup","deactivate"),this.attachListener(this.elm,"touchstart","activate",Mx),this.attachListener(document,"touchmove","move",Mx),this.attachListener(document,"touchend","deactivate"),this.attachListener(document,"touchcancel","deactivate")];this.destroy=()=>{super.destroy(),i.forEach(o=>o())}}static getStyle({size:r}){return{flex:`0 0 ${r}px`}}attachListener(r,n,i,o){let a=s=>{this.disableUserSelectIfResizing(s,i);let{clientX:l,clientY:u}=("touches"in s?s.touches[0]:s)||{clientX:0,clientY:0};this.triggerAction(this.elm,i,{x:l,y:u})};return r.addEventListener(n,a,o),()=>r.removeEventListener(n,a,o)}disableUserSelectIfResizing(r,n){(this.isActive||n==="activate")&&r.preventDefault()}triggerAction(r,n,i){(this.isActive||n==="activate")&&this.dispatchBarAction(r,{type:n,coordinate:i}),this.isActive&&this.isValidClick&&n==="deactivate"&&(this.isValidClick=!1,Ym(r,"bar:click",null)),this.updateStatusIfNeed(r,n),this.updateClickStatus(n)}updateStatusIfNeed(r,n){let i=o=>{this.isActive!==o&&(this.isActive=o,Ym(r,"bar:status-change",{isActive:o}))};n==="activate"?i(!0):n==="deactivate"&&i(!1)}updateClickStatus(r){this.isActive&&(r==="activate"?this.isValidClick=!0:r==="move"&&(this.isValidClick=!1))}};function rye(e){let{size:t}=XG(e);return{size:zs(t)?t:10}}var gp=class extends QG{constructor(t){super("SECTION",t.elm,()=>nye(t));Gn(this,"sizeInfo",null);Gn(this,"flexGrowRatio",0);this.updateStyle()}static getStyle({maxSize:t,minSize:r},n){let i=o=>zs(o)?`${o}px`:void 0;return{overflow:"hidden",[n?"maxHeight":"maxWidth"]:i(t),[n?"minHeight":"minWidth"]:i(r)}}update({sizeInfo:t,flexGrowRatio:r}){this.sizeInfo=t,this.flexGrowRatio=r,this.updateStyle(),Ym(this.elm,"section:size-change",{size:t.currentSize})}updateStyle(){let{flexGrow:t,flexShrink:r,flexBasis:n}=this.getStyle();this.elm.style.flexGrow=`${t}`,this.elm.style.flexShrink=`${r}`,this.elm.style.flexBasis=`${n}px`}getStyle(){let t=zs(this.config.size)?0:this.config.disableResponsive?1:0;if(this.sizeInfo){let{disableResponsive:r,currentSize:n}=this.sizeInfo;return{flexShrink:t,flexGrow:r?0:this.flexGrowRatio*n,flexBasis:r?n:0}}else{let r=this.config.size||this.config.defaultSize;return zs(r)?{flexShrink:t,flexGrow:0,flexBasis:r}:{flexShrink:t,flexGrow:1,flexBasis:0}}}};function nye(e){let{size:t,defaultSize:r,maxSize:n,minSize:i,disableResponsive:o}=XG(e);return{size:zs(t)?t:void 0,defaultSize:zs(r)?r:void 0,maxSize:zs(n)?n:void 0,minSize:zs(i)?i:void 0,disableResponsive:!!o}}var iye=class{constructor(e){Gn(this,"styles",{container:e=>({...e,display:"flex",flexDirection:this.direction}),section:(e,t)=>({...t,...gp.getStyle(e,this.config.vertical)}),bar:(e,t)=>({...t,...iy.getStyle(e)})});Gn(this,"attributes",{bar:WL("BAR"),section:WL("SECTION")});Gn(this,"itemsCache",new Qve);Gn(this,"eventHub",new Xve);Gn(this,"container",null);Gn(this,"barStore");Gn(this,"dispatchBarAction",(e,t)=>{let r=this.itemsCache.getItemIndex(e);r&&this.barStore.dispatch({...t,barIndex:r})});this.config=e,this.barStore=Yve({calculateOffset:(t,r)=>Wve(t,r)[this.axis],getSizeRelatedInfo:()=>this.makeSizeInfos()})}get axis(){return this.config.vertical?"y":"x"}get dimension(){return this.config.vertical?"height":"width"}get direction(){return this.config.vertical?"column":"row"}get on(){return this.eventHub.watchResizerEvent}init(e){this.dispose(),this.container=e,e&&(this.itemsCache.update(tye(e).map(t=>{switch(t.type){case"BAR":return new iy(t,this.dispatchBarAction);case"SECTION":return new gp(t)}})),this.initStyles(e,this.itemsCache.getItems()),this.sizeRelatedInfoChange(this.makeSizeInfos()),this.barStore.subscribe(t=>{this.monitorBarStatusChanges(t),this.sizeRelatedInfoChange(t)}))}dispose(){this.container=null,this.itemsCache.reset(),this.barStore.unsubscribeAll(),this.eventHub.reset()}getResizer(){return new JL(this.makeSizeInfos())}applyResizer(e){this.sizeRelatedInfoChange(e.getResult())}sizeRelatedInfoChange(e){e.discard||(e=(()=>{if(typeof this.config.beforeApplyResizer=="function"){let t=new JL(e);return this.config.beforeApplyResizer(t),t.getResult()}else return e})(),!e.discard&&e.sizeInfoArray.forEach(t=>{let r=this.itemsCache.getItem(t.elm);r instanceof gp&&r.update({sizeInfo:t,flexGrowRatio:e.flexGrowRatio})}))}monitorBarStatusChanges({type:e}){switch(e){case"activate":return Ym(this.container,"column:activate",null);case"deactivate":return Ym(this.container,"column:after-resizing",null);default:return}}makeSizeInfos(){let{collect:e,getResult:t}=KG();return this.itemsCache.getItems().forEach(r=>{r instanceof iy&&e({elm:r.elm,disableResponsive:!0,isSolid:!0,currentSize:r.elm.getBoundingClientRect()[this.dimension]}),r instanceof gp&&e({elm:r.elm,maxSize:r.config.maxSize,minSize:r.config.minSize,disableResponsive:Zve(r.config),isSolid:YG(r.config),currentSize:r.elm.getBoundingClientRect()[this.dimension]})}),t()}initStyles(e,t){Object.assign(e.style,this.styles.container()),t.forEach(r=>{r instanceof iy&&Object.assign(r.elm.style,this.styles.bar(r.config)),r instanceof gp&&Object.assign(r.elm.style,this.styles.section(r.config))})}},ZG=Me.createContext(null),oye=typeof window=="object"?lt.useLayoutEffect:lt.useEffect;function aye({vertical:e,beforeApplyResizer:t}){let r=eW(t);return lt.useMemo(()=>new iye({vertical:e,beforeApplyResizer:r}),[e,r])}function sC(){return lt.useContext(ZG)}function Xm(e,t,r){let n=sC(),i=eW(r);lt.useEffect(()=>n.on(e.current,t,o=>i(o)),[n,t,e,i])}function lC(e,t){let r=lt.useRef(e);return lt.useImperativeHandle(t,()=>r.current),r}function eW(e){let t=lt.useRef(e);return t.current=e,lt.useCallback((...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[t])}function sye({hooks:e,params:t,children:r}){let n=e(...t);return lt.createElement(lt.Fragment,null,r(n))}function lye(e,{onActivate:t,afterResizing:r}){Xm(e,"column:activate",t),Xm(e,"column:after-resizing",r)}var uye=Me.forwardRef(({vertical:e=!1,onActivate:t,beforeApplyResizer:r,afterResizing:n,columnResizerRef:i,style:o,...a},s)=>{let l=lC(null,s),u=aye({vertical:e,beforeApplyResizer:r});return oye(()=>(u.init(l.current),()=>u.dispose()),[u]),Me.useImperativeHandle(i,()=>u,[u]),Me.createElement(ZG.Provider,{value:u},Me.createElement(sye,{hooks:lye,params:[l,{onActivate:t,afterResizing:n}]},()=>Me.createElement("div",{ref:l,...a,style:u.styles.container(o)})))}),YL=Me.forwardRef(({defaultSize:e,size:t,disableResponsive:r,minSize:n,maxSize:i,onSizeChanged:o,style:a,...s},l)=>{let u=lC(null,l),f=sC(),c={defaultSize:e,size:t,disableResponsive:r,minSize:n,maxSize:i};return Xm(u,"section:size-change",h=>o==null?void 0:o(h.detail.size)),Me.createElement("div",{ref:u,...s,style:f.styles.section(c,a),...f.attributes.section(c)})}),cye=Me.forwardRef(({top:e=0,right:t=0,bottom:r=0,left:n=0,vertical:i,style:o,...a},s)=>{let l=Me.useMemo(()=>({position:"absolute",top:-e,left:-n,right:-t,bottom:-r,WebkitTapHighlightColor:"transparent",userSelect:"none",...o}),[o,e,n,t,r,i]);return Me.createElement("div",{...a,style:l,ref:s})}),fye=Me.forwardRef(({children:e,onClick:t,expandInteractiveArea:r,onStatusChanged:n,style:i,size:o=10,...a},s)=>{let l=sC(),u=lC(null,s),f={size:o};return Xm(u,"bar:click",()=>t==null?void 0:t()),Xm(u,"bar:status-change",c=>n==null?void 0:n(c.detail.isActive)),Me.createElement("div",{ref:u,...a,style:l.styles.bar(f,{...i,position:"relative"}),...l.attributes.bar(f)},e,Me.createElement(cye,{...r,vertical:l.config.vertical}))});const dye=e=>pe.jsx(FJ,{children:pe.jsx(hye,{})});let XL=!1;const hye=e=>{const t=Me.useContext(An),[r,n]=Me.useState(!1);return Me.useEffect(()=>{if(XL||window.location.search.indexOf("td")<=-1&&window.location.search.indexOf("proxyEndpoint")<=-1&&window.location.search.indexOf("localstorage")<=-1&&window.location.search.indexOf("southboundTdId")<=-1)return;XL=!0;const i=new URL(window.location.href),o=i.searchParams.get("td");if(o!==null){const l=Uve(o);if(l===void 0){alert("The lz compressed TD found in the URL couldn't be reconstructed.");return}t.updateOfflineTD(JSON.stringify(l,null,2))}const a=i.searchParams.get("proxyEndpoint"),s=i.searchParams.get("southboundTdId");if(s!==null&&Zue(s,a).then(l=>{if(l===void 0){alert(`No Thing Description with id '${s} could be fetched from the proxy.`);return}t.updateOfflineTD(JSON.stringify(l,null,2))}).catch(()=>{alert(`Error unable to fetch TD from proxy: ${a}`)}),i.searchParams.has("localstorage")){let l=localStorage.getItem("td");if(l===void 0){alert("Request to read TD from local storage failed.");return}try{l=JSON.parse(l),t.updateOfflineTD(JSON.stringify(l,null,2))}catch(u){t.updateOfflineTD(l),alert(`Tried to JSON parse the TD from local storage, but failed: ${u}`)}}},[t]),pe.jsxs("main",{className:"flex max-h-screen w-screen flex-col",children:[pe.jsx(Hve,{}),pe.jsx("div",{className:"hidden md:block",children:pe.jsxs(uye,{className:"height-adjust flex",children:[pe.jsx(YL,{minSize:550,className:"w-7/12 min-w-16",children:pe.jsx(NM,{})}),pe.jsx(fye,{size:7.5,className:"cursor-col-resize bg-gray-300 hover:bg-blue-500"}),pe.jsx(YL,{className:"w-5/12",children:pe.jsx(Ak,{})})]})}),pe.jsxs("div",{className:"height-adjust md:hidden",children:[r&&pe.jsx(Ak,{}),!r&&pe.jsx(NM,{}),pe.jsx("button",{className:"absolute bottom-12 right-2 z-10 rounded-full bg-blue-500 p-4",onClick:()=>n(!r),children:pe.jsx(zO,{color:"white"})})]}),pe.jsx("div",{className:"fixed bottom-0 w-screen",children:pe.jsx(Wue,{})}),pe.jsx("div",{id:"modal-root"})]})},pye=V1.createRoot(document.getElementById("root"));pye.render(pe.jsx(lt.StrictMode,{children:pe.jsx(dye,{})}));
