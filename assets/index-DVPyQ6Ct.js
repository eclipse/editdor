var aoe=Object.defineProperty;var loe=(e,t,r)=>t in e?aoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Li=(e,t,r)=>loe(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function EC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var X6={exports:{}},E1={},Q6={exports:{}},en={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy=Symbol.for("react.element"),uoe=Symbol.for("react.portal"),coe=Symbol.for("react.fragment"),foe=Symbol.for("react.strict_mode"),doe=Symbol.for("react.profiler"),hoe=Symbol.for("react.provider"),poe=Symbol.for("react.context"),moe=Symbol.for("react.forward_ref"),goe=Symbol.for("react.suspense"),voe=Symbol.for("react.memo"),yoe=Symbol.for("react.lazy"),ZL=Symbol.iterator;function woe(e){return e===null||typeof e!="object"?null:(e=ZL&&e[ZL]||e["@@iterator"],typeof e=="function"?e:null)}var Z6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eq=Object.assign,tq={};function tg(e,t,r){this.props=e,this.context=t,this.refs=tq,this.updater=r||Z6}tg.prototype.isReactComponent={};tg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rq(){}rq.prototype=tg.prototype;function SC(e,t,r){this.props=e,this.context=t,this.refs=tq,this.updater=r||Z6}var TC=SC.prototype=new rq;TC.constructor=SC;eq(TC,tg.prototype);TC.isPureReactComponent=!0;var eF=Array.isArray,nq=Object.prototype.hasOwnProperty,$C={current:null},iq={key:!0,ref:!0,__self:!0,__source:!0};function oq(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)nq.call(t,n)&&!iq.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Hy,type:e,key:o,ref:s,props:i,_owner:$C.current}}function boe(e,t){return{$$typeof:Hy,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xC(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hy}function _oe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var tF=/\/+/g;function J$(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_oe(""+e.key):t.toString(36)}function gb(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Hy:case uoe:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+J$(s,0):n,eF(i)?(r="",e!=null&&(r=e.replace(tF,"$&/")+"/"),gb(i,t,r,"",function(u){return u})):i!=null&&(xC(i)&&(i=boe(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(tF,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",eF(e))for(var a=0;a<e.length;a++){o=e[a];var l=n+J$(o,a);s+=gb(o,t,r,l,i)}else if(l=woe(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=n+J$(o,a++),s+=gb(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function iw(e,t,r){if(e==null)return e;var n=[],i=0;return gb(e,n,"","",function(o){return t.call(r,o,i++)}),n}function Eoe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ys={current:null},vb={transition:null},Soe={ReactCurrentDispatcher:ys,ReactCurrentBatchConfig:vb,ReactCurrentOwner:$C};function sq(){throw Error("act(...) is not supported in production builds of React.")}en.Children={map:iw,forEach:function(e,t,r){iw(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return iw(e,function(){t++}),t},toArray:function(e){return iw(e,function(t){return t})||[]},only:function(e){if(!xC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};en.Component=tg;en.Fragment=coe;en.Profiler=doe;en.PureComponent=SC;en.StrictMode=foe;en.Suspense=goe;en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Soe;en.act=sq;en.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=eq({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=$C.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)nq.call(t,l)&&!iq.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Hy,type:e.type,key:i,ref:o,props:n,_owner:s}};en.createContext=function(e){return e={$$typeof:poe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hoe,_context:e},e.Consumer=e};en.createElement=oq;en.createFactory=function(e){var t=oq.bind(null,e);return t.type=e,t};en.createRef=function(){return{current:null}};en.forwardRef=function(e){return{$$typeof:moe,render:e}};en.isValidElement=xC;en.lazy=function(e){return{$$typeof:yoe,_payload:{_status:-1,_result:e},_init:Eoe}};en.memo=function(e,t){return{$$typeof:voe,type:e,compare:t===void 0?null:t}};en.startTransition=function(e){var t=vb.transition;vb.transition={};try{e()}finally{vb.transition=t}};en.unstable_act=sq;en.useCallback=function(e,t){return ys.current.useCallback(e,t)};en.useContext=function(e){return ys.current.useContext(e)};en.useDebugValue=function(){};en.useDeferredValue=function(e){return ys.current.useDeferredValue(e)};en.useEffect=function(e,t){return ys.current.useEffect(e,t)};en.useId=function(){return ys.current.useId()};en.useImperativeHandle=function(e,t,r){return ys.current.useImperativeHandle(e,t,r)};en.useInsertionEffect=function(e,t){return ys.current.useInsertionEffect(e,t)};en.useLayoutEffect=function(e,t){return ys.current.useLayoutEffect(e,t)};en.useMemo=function(e,t){return ys.current.useMemo(e,t)};en.useReducer=function(e,t,r){return ys.current.useReducer(e,t,r)};en.useRef=function(e){return ys.current.useRef(e)};en.useState=function(e){return ys.current.useState(e)};en.useSyncExternalStore=function(e,t,r){return ys.current.useSyncExternalStore(e,t,r)};en.useTransition=function(){return ys.current.useTransition()};en.version="18.3.1";Q6.exports=en;var Ne=Q6.exports;const ct=Uc(Ne);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Toe=Ne,$oe=Symbol.for("react.element"),xoe=Symbol.for("react.fragment"),Aoe=Object.prototype.hasOwnProperty,Ooe=Toe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Poe={key:!0,ref:!0,__self:!0,__source:!0};function aq(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)Aoe.call(t,n)&&!Poe.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:$oe,type:e,key:o,ref:s,props:i,_owner:Ooe.current}}E1.Fragment=xoe;E1.jsx=aq;E1.jsxs=aq;X6.exports=E1;var X=X6.exports,uO={},lq={exports:{}},Sa={},uq={exports:{}},cq={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(re,se){var D=re.length;re.push(se);e:for(;0<D;){var z=D-1>>>1,Y=re[z];if(0<i(Y,se))re[z]=se,re[D]=Y,D=z;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var se=re[0],D=re.pop();if(D!==se){re[0]=D;e:for(var z=0,Y=re.length,N=Y>>>1;z<N;){var I=2*(z+1)-1,q=re[I],ae=I+1,Z=re[ae];if(0>i(q,D))ae<Y&&0>i(Z,q)?(re[z]=Z,re[ae]=D,z=ae):(re[z]=q,re[I]=D,z=I);else if(ae<Y&&0>i(Z,D))re[z]=Z,re[ae]=D,z=ae;else break e}}return se}function i(re,se){var D=re.sortIndex-se.sortIndex;return D!==0?D:re.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],f=1,c=null,h=3,m=!1,g=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(re){for(var se=r(u);se!==null;){if(se.callback===null)n(u);else if(se.startTime<=re)n(u),se.sortIndex=se.expirationTime,t(l,se);else break;se=r(u)}}function S(re){if(_=!1,y(re),!g)if(r(l)!==null)g=!0,ne(T);else{var se=r(u);se!==null&&ge(S,se.startTime-re)}}function T(re,se){g=!1,_&&(_=!1,p(x),x=-1),m=!0;var D=h;try{for(y(se),c=r(l);c!==null&&(!(c.expirationTime>se)||re&&!M());){var z=c.callback;if(typeof z=="function"){c.callback=null,h=c.priorityLevel;var Y=z(c.expirationTime<=se);se=e.unstable_now(),typeof Y=="function"?c.callback=Y:c===r(l)&&n(l),y(se)}else n(l);c=r(l)}if(c!==null)var N=!0;else{var I=r(u);I!==null&&ge(S,I.startTime-se),N=!1}return N}finally{c=null,h=D,m=!1}}var $=!1,d=null,x=-1,O=5,P=-1;function M(){return!(e.unstable_now()-P<O)}function U(){if(d!==null){var re=e.unstable_now();P=re;var se=!0;try{se=d(!0,re)}finally{se?K():($=!1,d=null)}}else $=!1}var K;if(typeof E=="function")K=function(){E(U)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,G=ie.port2;ie.port1.onmessage=U,K=function(){G.postMessage(null)}}else K=function(){v(U,0)};function ne(re){d=re,$||($=!0,K())}function ge(re,se){x=v(function(){re(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,ne(T))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(re){switch(h){case 1:case 2:case 3:var se=3;break;default:se=h}var D=h;h=se;try{return re()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,se){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var D=h;h=re;try{return se()}finally{h=D}},e.unstable_scheduleCallback=function(re,se,D){var z=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?z+D:z):D=z,re){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=D+Y,re={id:f++,callback:se,priorityLevel:re,startTime:D,expirationTime:Y,sortIndex:-1},D>z?(re.sortIndex=D,t(u,re),r(l)===null&&re===r(u)&&(_?(p(x),x=-1):_=!0,ge(S,D-z))):(re.sortIndex=Y,t(l,re),g||m||(g=!0,ne(T))),re},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(re){var se=h;return function(){var D=h;h=se;try{return re.apply(this,arguments)}finally{h=D}}}})(cq);uq.exports=cq;var Roe=uq.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Noe=Ne,Ea=Roe;function Lt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fq=new Set,sy={};function Qh(e,t){Mm(e,t),Mm(e+"Capture",t)}function Mm(e,t){for(sy[e]=t,e=0;e<t.length;e++)fq.add(t[e])}var Ic=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cO=Object.prototype.hasOwnProperty,Ioe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rF={},nF={};function Coe(e){return cO.call(nF,e)?!0:cO.call(rF,e)?!1:Ioe.test(e)?nF[e]=!0:(rF[e]=!0,!1)}function koe(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function joe(e,t,r,n){if(t===null||typeof t>"u"||koe(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ws(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var xo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xo[e]=new ws(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xo[t]=new ws(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xo[e]=new ws(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xo[e]=new ws(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xo[e]=new ws(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xo[e]=new ws(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xo[e]=new ws(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xo[e]=new ws(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xo[e]=new ws(e,5,!1,e.toLowerCase(),null,!1,!1)});var AC=/[\-:]([a-z])/g;function OC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(AC,OC);xo[t]=new ws(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(AC,OC);xo[t]=new ws(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(AC,OC);xo[t]=new ws(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xo[e]=new ws(e,1,!1,e.toLowerCase(),null,!1,!1)});xo.xlinkHref=new ws("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xo[e]=new ws(e,1,!1,e.toLowerCase(),null,!0,!0)});function PC(e,t,r,n){var i=xo.hasOwnProperty(t)?xo[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(joe(t,r,i,n)&&(r=null),n||i===null?Coe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var zc=Noe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ow=Symbol.for("react.element"),Qp=Symbol.for("react.portal"),Zp=Symbol.for("react.fragment"),RC=Symbol.for("react.strict_mode"),fO=Symbol.for("react.profiler"),dq=Symbol.for("react.provider"),hq=Symbol.for("react.context"),NC=Symbol.for("react.forward_ref"),dO=Symbol.for("react.suspense"),hO=Symbol.for("react.suspense_list"),IC=Symbol.for("react.memo"),kf=Symbol.for("react.lazy"),pq=Symbol.for("react.offscreen"),iF=Symbol.iterator;function Mg(e){return e===null||typeof e!="object"?null:(e=iF&&e[iF]||e["@@iterator"],typeof e=="function"?e:null)}var yi=Object.assign,Y$;function av(e){if(Y$===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Y$=t&&t[1]||""}return`
`+Y$+e}var X$=!1;function Q$(e,t){if(!e||X$)return"";X$=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{X$=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?av(e):""}function Doe(e){switch(e.tag){case 5:return av(e.type);case 16:return av("Lazy");case 13:return av("Suspense");case 19:return av("SuspenseList");case 0:case 2:case 15:return e=Q$(e.type,!1),e;case 11:return e=Q$(e.type.render,!1),e;case 1:return e=Q$(e.type,!0),e;default:return""}}function pO(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zp:return"Fragment";case Qp:return"Portal";case fO:return"Profiler";case RC:return"StrictMode";case dO:return"Suspense";case hO:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hq:return(e.displayName||"Context")+".Consumer";case dq:return(e._context.displayName||"Context")+".Provider";case NC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case IC:return t=e.displayName||null,t!==null?t:pO(e.type)||"Memo";case kf:t=e._payload,e=e._init;try{return pO(e(t))}catch{}}return null}function Moe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pO(t);case 8:return t===RC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mq(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Loe(e){var t=mq(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sw(e){e._valueTracker||(e._valueTracker=Loe(e))}function gq(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=mq(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function QE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mO(e,t){var r=t.checked;return yi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function oF(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=sd(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vq(e,t){t=t.checked,t!=null&&PC(e,"checked",t,!1)}function gO(e,t){vq(e,t);var r=sd(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vO(e,t.type,r):t.hasOwnProperty("defaultValue")&&vO(e,t.type,sd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sF(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function vO(e,t,r){(t!=="number"||QE(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var lv=Array.isArray;function gm(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+sd(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function yO(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Lt(91));return yi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function aF(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Lt(92));if(lv(r)){if(1<r.length)throw Error(Lt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:sd(r)}}function yq(e,t){var r=sd(t.value),n=sd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lF(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wq(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wO(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wq(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var aw,bq=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(aw=aw||document.createElement("div"),aw.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=aw.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ay(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Iv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Foe=["Webkit","ms","Moz","O"];Object.keys(Iv).forEach(function(e){Foe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Iv[t]=Iv[e]})});function _q(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Iv.hasOwnProperty(e)&&Iv[e]?(""+t).trim():t+"px"}function Eq(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=_q(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Boe=yi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bO(e,t){if(t){if(Boe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Lt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Lt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Lt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Lt(62))}}function _O(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var EO=null;function CC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var SO=null,vm=null,ym=null;function uF(e){if(e=Ky(e)){if(typeof SO!="function")throw Error(Lt(280));var t=e.stateNode;t&&(t=A1(t),SO(e.stateNode,e.type,t))}}function Sq(e){vm?ym?ym.push(e):ym=[e]:vm=e}function Tq(){if(vm){var e=vm,t=ym;if(ym=vm=null,uF(e),t)for(e=0;e<t.length;e++)uF(t[e])}}function $q(e,t){return e(t)}function xq(){}var Z$=!1;function Aq(e,t,r){if(Z$)return e(t,r);Z$=!0;try{return $q(e,t,r)}finally{Z$=!1,(vm!==null||ym!==null)&&(xq(),Tq())}}function ly(e,t){var r=e.stateNode;if(r===null)return null;var n=A1(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Lt(231,t,typeof r));return r}var TO=!1;if(Ic)try{var Lg={};Object.defineProperty(Lg,"passive",{get:function(){TO=!0}}),window.addEventListener("test",Lg,Lg),window.removeEventListener("test",Lg,Lg)}catch{TO=!1}function Uoe(e,t,r,n,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Cv=!1,ZE=null,eS=!1,$O=null,zoe={onError:function(e){Cv=!0,ZE=e}};function qoe(e,t,r,n,i,o,s,a,l){Cv=!1,ZE=null,Uoe.apply(zoe,arguments)}function Voe(e,t,r,n,i,o,s,a,l){if(qoe.apply(this,arguments),Cv){if(Cv){var u=ZE;Cv=!1,ZE=null}else throw Error(Lt(198));eS||(eS=!0,$O=u)}}function Zh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Oq(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cF(e){if(Zh(e)!==e)throw Error(Lt(188))}function Hoe(e){var t=e.alternate;if(!t){if(t=Zh(e),t===null)throw Error(Lt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return cF(i),e;if(o===n)return cF(i),t;o=o.sibling}throw Error(Lt(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(Lt(189))}}if(r.alternate!==n)throw Error(Lt(190))}if(r.tag!==3)throw Error(Lt(188));return r.stateNode.current===r?e:t}function Pq(e){return e=Hoe(e),e!==null?Rq(e):null}function Rq(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rq(e);if(t!==null)return t;e=e.sibling}return null}var Nq=Ea.unstable_scheduleCallback,fF=Ea.unstable_cancelCallback,Woe=Ea.unstable_shouldYield,Goe=Ea.unstable_requestPaint,Ci=Ea.unstable_now,Koe=Ea.unstable_getCurrentPriorityLevel,kC=Ea.unstable_ImmediatePriority,Iq=Ea.unstable_UserBlockingPriority,tS=Ea.unstable_NormalPriority,Joe=Ea.unstable_LowPriority,Cq=Ea.unstable_IdlePriority,S1=null,Bu=null;function Yoe(e){if(Bu&&typeof Bu.onCommitFiberRoot=="function")try{Bu.onCommitFiberRoot(S1,e,void 0,(e.current.flags&128)===128)}catch{}}var Gl=Math.clz32?Math.clz32:Zoe,Xoe=Math.log,Qoe=Math.LN2;function Zoe(e){return e>>>=0,e===0?32:31-(Xoe(e)/Qoe|0)|0}var lw=64,uw=4194304;function uv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rS(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=uv(a):(o&=s,o!==0&&(n=uv(o)))}else s=r&~i,s!==0?n=uv(s):o!==0&&(n=uv(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Gl(t),i=1<<r,n|=e[r],t&=~i;return n}function ese(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tse(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Gl(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=ese(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function xO(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kq(){var e=lw;return lw<<=1,!(lw&4194240)&&(lw=64),e}function ex(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Wy(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gl(t),e[t]=r}function rse(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Gl(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function jC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Gl(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ln=0;function jq(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dq,DC,Mq,Lq,Fq,AO=!1,cw=[],Kf=null,Jf=null,Yf=null,uy=new Map,cy=new Map,Mf=[],nse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dF(e,t){switch(e){case"focusin":case"focusout":Kf=null;break;case"dragenter":case"dragleave":Jf=null;break;case"mouseover":case"mouseout":Yf=null;break;case"pointerover":case"pointerout":uy.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cy.delete(t.pointerId)}}function Fg(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ky(t),t!==null&&DC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ise(e,t,r,n,i){switch(t){case"focusin":return Kf=Fg(Kf,e,t,r,n,i),!0;case"dragenter":return Jf=Fg(Jf,e,t,r,n,i),!0;case"mouseover":return Yf=Fg(Yf,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return uy.set(o,Fg(uy.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,cy.set(o,Fg(cy.get(o)||null,e,t,r,n,i)),!0}return!1}function Bq(e){var t=vh(e.target);if(t!==null){var r=Zh(t);if(r!==null){if(t=r.tag,t===13){if(t=Oq(r),t!==null){e.blockedOn=t,Fq(e.priority,function(){Mq(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=OO(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);EO=n,r.target.dispatchEvent(n),EO=null}else return t=Ky(r),t!==null&&DC(t),e.blockedOn=r,!1;t.shift()}return!0}function hF(e,t,r){yb(e)&&r.delete(t)}function ose(){AO=!1,Kf!==null&&yb(Kf)&&(Kf=null),Jf!==null&&yb(Jf)&&(Jf=null),Yf!==null&&yb(Yf)&&(Yf=null),uy.forEach(hF),cy.forEach(hF)}function Bg(e,t){e.blockedOn===t&&(e.blockedOn=null,AO||(AO=!0,Ea.unstable_scheduleCallback(Ea.unstable_NormalPriority,ose)))}function fy(e){function t(i){return Bg(i,e)}if(0<cw.length){Bg(cw[0],e);for(var r=1;r<cw.length;r++){var n=cw[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kf!==null&&Bg(Kf,e),Jf!==null&&Bg(Jf,e),Yf!==null&&Bg(Yf,e),uy.forEach(t),cy.forEach(t),r=0;r<Mf.length;r++)n=Mf[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mf.length&&(r=Mf[0],r.blockedOn===null);)Bq(r),r.blockedOn===null&&Mf.shift()}var wm=zc.ReactCurrentBatchConfig,nS=!0;function sse(e,t,r,n){var i=Ln,o=wm.transition;wm.transition=null;try{Ln=1,MC(e,t,r,n)}finally{Ln=i,wm.transition=o}}function ase(e,t,r,n){var i=Ln,o=wm.transition;wm.transition=null;try{Ln=4,MC(e,t,r,n)}finally{Ln=i,wm.transition=o}}function MC(e,t,r,n){if(nS){var i=OO(e,t,r,n);if(i===null)cx(e,t,n,iS,r),dF(e,n);else if(ise(i,e,t,r,n))n.stopPropagation();else if(dF(e,n),t&4&&-1<nse.indexOf(e)){for(;i!==null;){var o=Ky(i);if(o!==null&&Dq(o),o=OO(e,t,r,n),o===null&&cx(e,t,n,iS,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else cx(e,t,n,null,r)}}var iS=null;function OO(e,t,r,n){if(iS=null,e=CC(n),e=vh(e),e!==null)if(t=Zh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Oq(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return iS=e,null}function Uq(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Koe()){case kC:return 1;case Iq:return 4;case tS:case Joe:return 16;case Cq:return 536870912;default:return 16}default:return 16}}var Uf=null,LC=null,wb=null;function zq(){if(wb)return wb;var e,t=LC,r=t.length,n,i="value"in Uf?Uf.value:Uf.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return wb=i.slice(e,1<n?1-n:void 0)}function bb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fw(){return!0}function pF(){return!1}function Ta(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?fw:pF,this.isPropagationStopped=pF,this}return yi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fw)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fw)},persist:function(){},isPersistent:fw}),t}var rg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},FC=Ta(rg),Gy=yi({},rg,{view:0,detail:0}),lse=Ta(Gy),tx,rx,Ug,T1=yi({},Gy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:BC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ug&&(Ug&&e.type==="mousemove"?(tx=e.screenX-Ug.screenX,rx=e.screenY-Ug.screenY):rx=tx=0,Ug=e),tx)},movementY:function(e){return"movementY"in e?e.movementY:rx}}),mF=Ta(T1),use=yi({},T1,{dataTransfer:0}),cse=Ta(use),fse=yi({},Gy,{relatedTarget:0}),nx=Ta(fse),dse=yi({},rg,{animationName:0,elapsedTime:0,pseudoElement:0}),hse=Ta(dse),pse=yi({},rg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mse=Ta(pse),gse=yi({},rg,{data:0}),gF=Ta(gse),vse={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yse={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wse={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bse(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wse[e])?!!t[e]:!1}function BC(){return bse}var _se=yi({},Gy,{key:function(e){if(e.key){var t=vse[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yse[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:BC,charCode:function(e){return e.type==="keypress"?bb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ese=Ta(_se),Sse=yi({},T1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vF=Ta(Sse),Tse=yi({},Gy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:BC}),$se=Ta(Tse),xse=yi({},rg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ase=Ta(xse),Ose=yi({},T1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pse=Ta(Ose),Rse=[9,13,27,32],UC=Ic&&"CompositionEvent"in window,kv=null;Ic&&"documentMode"in document&&(kv=document.documentMode);var Nse=Ic&&"TextEvent"in window&&!kv,qq=Ic&&(!UC||kv&&8<kv&&11>=kv),yF=" ",wF=!1;function Vq(e,t){switch(e){case"keyup":return Rse.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hq(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var em=!1;function Ise(e,t){switch(e){case"compositionend":return Hq(t);case"keypress":return t.which!==32?null:(wF=!0,yF);case"textInput":return e=t.data,e===yF&&wF?null:e;default:return null}}function Cse(e,t){if(em)return e==="compositionend"||!UC&&Vq(e,t)?(e=zq(),wb=LC=Uf=null,em=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qq&&t.locale!=="ko"?null:t.data;default:return null}}var kse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bF(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kse[e.type]:t==="textarea"}function Wq(e,t,r,n){Sq(n),t=oS(t,"onChange"),0<t.length&&(r=new FC("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var jv=null,dy=null;function jse(e){nV(e,0)}function $1(e){var t=nm(e);if(gq(t))return e}function Dse(e,t){if(e==="change")return t}var Gq=!1;if(Ic){var ix;if(Ic){var ox="oninput"in document;if(!ox){var _F=document.createElement("div");_F.setAttribute("oninput","return;"),ox=typeof _F.oninput=="function"}ix=ox}else ix=!1;Gq=ix&&(!document.documentMode||9<document.documentMode)}function EF(){jv&&(jv.detachEvent("onpropertychange",Kq),dy=jv=null)}function Kq(e){if(e.propertyName==="value"&&$1(dy)){var t=[];Wq(t,dy,e,CC(e)),Aq(jse,t)}}function Mse(e,t,r){e==="focusin"?(EF(),jv=t,dy=r,jv.attachEvent("onpropertychange",Kq)):e==="focusout"&&EF()}function Lse(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $1(dy)}function Fse(e,t){if(e==="click")return $1(t)}function Bse(e,t){if(e==="input"||e==="change")return $1(t)}function Use(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jl=typeof Object.is=="function"?Object.is:Use;function hy(e,t){if(Jl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!cO.call(t,i)||!Jl(e[i],t[i]))return!1}return!0}function SF(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function TF(e,t){var r=SF(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=SF(r)}}function Jq(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jq(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yq(){for(var e=window,t=QE();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=QE(e.document)}return t}function zC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zse(e){var t=Yq(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Jq(r.ownerDocument.documentElement,r)){if(n!==null&&zC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=TF(r,o);var s=TF(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qse=Ic&&"documentMode"in document&&11>=document.documentMode,tm=null,PO=null,Dv=null,RO=!1;function $F(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;RO||tm==null||tm!==QE(n)||(n=tm,"selectionStart"in n&&zC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Dv&&hy(Dv,n)||(Dv=n,n=oS(PO,"onSelect"),0<n.length&&(t=new FC("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=tm)))}function dw(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var rm={animationend:dw("Animation","AnimationEnd"),animationiteration:dw("Animation","AnimationIteration"),animationstart:dw("Animation","AnimationStart"),transitionend:dw("Transition","TransitionEnd")},sx={},Xq={};Ic&&(Xq=document.createElement("div").style,"AnimationEvent"in window||(delete rm.animationend.animation,delete rm.animationiteration.animation,delete rm.animationstart.animation),"TransitionEvent"in window||delete rm.transitionend.transition);function x1(e){if(sx[e])return sx[e];if(!rm[e])return e;var t=rm[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Xq)return sx[e]=t[r];return e}var Qq=x1("animationend"),Zq=x1("animationiteration"),eV=x1("animationstart"),tV=x1("transitionend"),rV=new Map,xF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cd(e,t){rV.set(e,t),Qh(t,[e])}for(var ax=0;ax<xF.length;ax++){var lx=xF[ax],Vse=lx.toLowerCase(),Hse=lx[0].toUpperCase()+lx.slice(1);cd(Vse,"on"+Hse)}cd(Qq,"onAnimationEnd");cd(Zq,"onAnimationIteration");cd(eV,"onAnimationStart");cd("dblclick","onDoubleClick");cd("focusin","onFocus");cd("focusout","onBlur");cd(tV,"onTransitionEnd");Mm("onMouseEnter",["mouseout","mouseover"]);Mm("onMouseLeave",["mouseout","mouseover"]);Mm("onPointerEnter",["pointerout","pointerover"]);Mm("onPointerLeave",["pointerout","pointerover"]);Qh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wse=new Set("cancel close invalid load scroll toggle".split(" ").concat(cv));function AF(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Voe(n,t,void 0,e),e.currentTarget=null}function nV(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;AF(i,a,u),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;AF(i,a,u),o=l}}}if(eS)throw e=$O,eS=!1,$O=null,e}function ri(e,t){var r=t[jO];r===void 0&&(r=t[jO]=new Set);var n=e+"__bubble";r.has(n)||(iV(t,e,2,!1),r.add(n))}function ux(e,t,r){var n=0;t&&(n|=4),iV(r,e,n,t)}var hw="_reactListening"+Math.random().toString(36).slice(2);function py(e){if(!e[hw]){e[hw]=!0,fq.forEach(function(r){r!=="selectionchange"&&(Wse.has(r)||ux(r,!1,e),ux(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hw]||(t[hw]=!0,ux("selectionchange",!1,t))}}function iV(e,t,r,n){switch(Uq(t)){case 1:var i=sse;break;case 4:i=ase;break;default:i=MC}r=i.bind(null,t,r,e),i=void 0,!TO||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function cx(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=vh(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}Aq(function(){var u=o,f=CC(r),c=[];e:{var h=rV.get(e);if(h!==void 0){var m=FC,g=e;switch(e){case"keypress":if(bb(r)===0)break e;case"keydown":case"keyup":m=Ese;break;case"focusin":g="focus",m=nx;break;case"focusout":g="blur",m=nx;break;case"beforeblur":case"afterblur":m=nx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=mF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=cse;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=$se;break;case Qq:case Zq:case eV:m=hse;break;case tV:m=Ase;break;case"scroll":m=lse;break;case"wheel":m=Pse;break;case"copy":case"cut":case"paste":m=mse;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=vF}var _=(t&4)!==0,v=!_&&e==="scroll",p=_?h!==null?h+"Capture":null:h;_=[];for(var E=u,y;E!==null;){y=E;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,p!==null&&(S=ly(E,p),S!=null&&_.push(my(E,S,y)))),v)break;E=E.return}0<_.length&&(h=new m(h,g,null,r,f),c.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==EO&&(g=r.relatedTarget||r.fromElement)&&(vh(g)||g[Cc]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?vh(g):null,g!==null&&(v=Zh(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(_=mF,S="onMouseLeave",p="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(_=vF,S="onPointerLeave",p="onPointerEnter",E="pointer"),v=m==null?h:nm(m),y=g==null?h:nm(g),h=new _(S,E+"leave",m,r,f),h.target=v,h.relatedTarget=y,S=null,vh(f)===u&&(_=new _(p,E+"enter",g,r,f),_.target=y,_.relatedTarget=v,S=_),v=S,m&&g)t:{for(_=m,p=g,E=0,y=_;y;y=xp(y))E++;for(y=0,S=p;S;S=xp(S))y++;for(;0<E-y;)_=xp(_),E--;for(;0<y-E;)p=xp(p),y--;for(;E--;){if(_===p||p!==null&&_===p.alternate)break t;_=xp(_),p=xp(p)}_=null}else _=null;m!==null&&OF(c,h,m,_,!1),g!==null&&v!==null&&OF(c,v,g,_,!0)}}e:{if(h=u?nm(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=Dse;else if(bF(h))if(Gq)T=Bse;else{T=Lse;var $=Mse}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=Fse);if(T&&(T=T(e,u))){Wq(c,T,r,f);break e}$&&$(e,h,u),e==="focusout"&&($=h._wrapperState)&&$.controlled&&h.type==="number"&&vO(h,"number",h.value)}switch($=u?nm(u):window,e){case"focusin":(bF($)||$.contentEditable==="true")&&(tm=$,PO=u,Dv=null);break;case"focusout":Dv=PO=tm=null;break;case"mousedown":RO=!0;break;case"contextmenu":case"mouseup":case"dragend":RO=!1,$F(c,r,f);break;case"selectionchange":if(qse)break;case"keydown":case"keyup":$F(c,r,f)}var d;if(UC)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else em?Vq(e,r)&&(x="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(x="onCompositionStart");x&&(qq&&r.locale!=="ko"&&(em||x!=="onCompositionStart"?x==="onCompositionEnd"&&em&&(d=zq()):(Uf=f,LC="value"in Uf?Uf.value:Uf.textContent,em=!0)),$=oS(u,x),0<$.length&&(x=new gF(x,e,null,r,f),c.push({event:x,listeners:$}),d?x.data=d:(d=Hq(r),d!==null&&(x.data=d)))),(d=Nse?Ise(e,r):Cse(e,r))&&(u=oS(u,"onBeforeInput"),0<u.length&&(f=new gF("onBeforeInput","beforeinput",null,r,f),c.push({event:f,listeners:u}),f.data=d))}nV(c,t)})}function my(e,t,r){return{instance:e,listener:t,currentTarget:r}}function oS(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ly(e,r),o!=null&&n.unshift(my(e,o,i)),o=ly(e,t),o!=null&&n.push(my(e,o,i))),e=e.return}return n}function xp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function OF(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=ly(r,o),l!=null&&s.unshift(my(r,l,a))):i||(l=ly(r,o),l!=null&&s.push(my(r,l,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Gse=/\r\n?/g,Kse=/\u0000|\uFFFD/g;function PF(e){return(typeof e=="string"?e:""+e).replace(Gse,`
`).replace(Kse,"")}function pw(e,t,r){if(t=PF(t),PF(e)!==t&&r)throw Error(Lt(425))}function sS(){}var NO=null,IO=null;function CO(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kO=typeof setTimeout=="function"?setTimeout:void 0,Jse=typeof clearTimeout=="function"?clearTimeout:void 0,RF=typeof Promise=="function"?Promise:void 0,Yse=typeof queueMicrotask=="function"?queueMicrotask:typeof RF<"u"?function(e){return RF.resolve(null).then(e).catch(Xse)}:kO;function Xse(e){setTimeout(function(){throw e})}function fx(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),fy(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);fy(t)}function Xf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function NF(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ng=Math.random().toString(36).slice(2),Pu="__reactFiber$"+ng,gy="__reactProps$"+ng,Cc="__reactContainer$"+ng,jO="__reactEvents$"+ng,Qse="__reactListeners$"+ng,Zse="__reactHandles$"+ng;function vh(e){var t=e[Pu];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Cc]||r[Pu]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=NF(e);e!==null;){if(r=e[Pu])return r;e=NF(e)}return t}e=r,r=e.parentNode}return null}function Ky(e){return e=e[Pu]||e[Cc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nm(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Lt(33))}function A1(e){return e[gy]||null}var DO=[],im=-1;function fd(e){return{current:e}}function oi(e){0>im||(e.current=DO[im],DO[im]=null,im--)}function ti(e,t){im++,DO[im]=e.current,e.current=t}var ad={},qo=fd(ad),zs=fd(!1),Lh=ad;function Lm(e,t){var r=e.type.contextTypes;if(!r)return ad;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function qs(e){return e=e.childContextTypes,e!=null}function aS(){oi(zs),oi(qo)}function IF(e,t,r){if(qo.current!==ad)throw Error(Lt(168));ti(qo,t),ti(zs,r)}function oV(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Lt(108,Moe(e)||"Unknown",i));return yi({},r,n)}function lS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ad,Lh=qo.current,ti(qo,e),ti(zs,zs.current),!0}function CF(e,t,r){var n=e.stateNode;if(!n)throw Error(Lt(169));r?(e=oV(e,t,Lh),n.__reactInternalMemoizedMergedChildContext=e,oi(zs),oi(qo),ti(qo,e)):oi(zs),ti(zs,r)}var wc=null,O1=!1,dx=!1;function sV(e){wc===null?wc=[e]:wc.push(e)}function eae(e){O1=!0,sV(e)}function dd(){if(!dx&&wc!==null){dx=!0;var e=0,t=Ln;try{var r=wc;for(Ln=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}wc=null,O1=!1}catch(i){throw wc!==null&&(wc=wc.slice(e+1)),Nq(kC,dd),i}finally{Ln=t,dx=!1}}return null}var om=[],sm=0,uS=null,cS=0,Ja=[],Ya=0,Fh=null,Sc=1,Tc="";function nh(e,t){om[sm++]=cS,om[sm++]=uS,uS=e,cS=t}function aV(e,t,r){Ja[Ya++]=Sc,Ja[Ya++]=Tc,Ja[Ya++]=Fh,Fh=e;var n=Sc;e=Tc;var i=32-Gl(n)-1;n&=~(1<<i),r+=1;var o=32-Gl(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Sc=1<<32-Gl(t)+i|r<<i|n,Tc=o+e}else Sc=1<<o|r<<i|n,Tc=e}function qC(e){e.return!==null&&(nh(e,1),aV(e,1,0))}function VC(e){for(;e===uS;)uS=om[--sm],om[sm]=null,cS=om[--sm],om[sm]=null;for(;e===Fh;)Fh=Ja[--Ya],Ja[Ya]=null,Tc=Ja[--Ya],Ja[Ya]=null,Sc=Ja[--Ya],Ja[Ya]=null}var wa=null,va=null,ui=!1,ql=null;function lV(e,t){var r=al(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function kF(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wa=e,va=Xf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wa=e,va=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Fh!==null?{id:Sc,overflow:Tc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=al(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,wa=e,va=null,!0):!1;default:return!1}}function MO(e){return(e.mode&1)!==0&&(e.flags&128)===0}function LO(e){if(ui){var t=va;if(t){var r=t;if(!kF(e,t)){if(MO(e))throw Error(Lt(418));t=Xf(r.nextSibling);var n=wa;t&&kF(e,t)?lV(n,r):(e.flags=e.flags&-4097|2,ui=!1,wa=e)}}else{if(MO(e))throw Error(Lt(418));e.flags=e.flags&-4097|2,ui=!1,wa=e}}}function jF(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wa=e}function mw(e){if(e!==wa)return!1;if(!ui)return jF(e),ui=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!CO(e.type,e.memoizedProps)),t&&(t=va)){if(MO(e))throw uV(),Error(Lt(418));for(;t;)lV(e,t),t=Xf(t.nextSibling)}if(jF(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Lt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){va=Xf(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}va=null}}else va=wa?Xf(e.stateNode.nextSibling):null;return!0}function uV(){for(var e=va;e;)e=Xf(e.nextSibling)}function Fm(){va=wa=null,ui=!1}function HC(e){ql===null?ql=[e]:ql.push(e)}var tae=zc.ReactCurrentBatchConfig;function zg(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Lt(309));var n=r.stateNode}if(!n)throw Error(Lt(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(Lt(284));if(!r._owner)throw Error(Lt(290,e))}return e}function gw(e,t){throw e=Object.prototype.toString.call(t),Error(Lt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function DF(e){var t=e._init;return t(e._payload)}function cV(e){function t(p,E){if(e){var y=p.deletions;y===null?(p.deletions=[E],p.flags|=16):y.push(E)}}function r(p,E){if(!e)return null;for(;E!==null;)t(p,E),E=E.sibling;return null}function n(p,E){for(p=new Map;E!==null;)E.key!==null?p.set(E.key,E):p.set(E.index,E),E=E.sibling;return p}function i(p,E){return p=td(p,E),p.index=0,p.sibling=null,p}function o(p,E,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<E?(p.flags|=2,E):y):(p.flags|=2,E)):(p.flags|=1048576,E)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,E,y,S){return E===null||E.tag!==6?(E=wx(y,p.mode,S),E.return=p,E):(E=i(E,y),E.return=p,E)}function l(p,E,y,S){var T=y.type;return T===Zp?f(p,E,y.props.children,S,y.key):E!==null&&(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===kf&&DF(T)===E.type)?(S=i(E,y.props),S.ref=zg(p,E,y),S.return=p,S):(S=Ab(y.type,y.key,y.props,null,p.mode,S),S.ref=zg(p,E,y),S.return=p,S)}function u(p,E,y,S){return E===null||E.tag!==4||E.stateNode.containerInfo!==y.containerInfo||E.stateNode.implementation!==y.implementation?(E=bx(y,p.mode,S),E.return=p,E):(E=i(E,y.children||[]),E.return=p,E)}function f(p,E,y,S,T){return E===null||E.tag!==7?(E=Oh(y,p.mode,S,T),E.return=p,E):(E=i(E,y),E.return=p,E)}function c(p,E,y){if(typeof E=="string"&&E!==""||typeof E=="number")return E=wx(""+E,p.mode,y),E.return=p,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ow:return y=Ab(E.type,E.key,E.props,null,p.mode,y),y.ref=zg(p,null,E),y.return=p,y;case Qp:return E=bx(E,p.mode,y),E.return=p,E;case kf:var S=E._init;return c(p,S(E._payload),y)}if(lv(E)||Mg(E))return E=Oh(E,p.mode,y,null),E.return=p,E;gw(p,E)}return null}function h(p,E,y,S){var T=E!==null?E.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:a(p,E,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ow:return y.key===T?l(p,E,y,S):null;case Qp:return y.key===T?u(p,E,y,S):null;case kf:return T=y._init,h(p,E,T(y._payload),S)}if(lv(y)||Mg(y))return T!==null?null:f(p,E,y,S,null);gw(p,y)}return null}function m(p,E,y,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(y)||null,a(E,p,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ow:return p=p.get(S.key===null?y:S.key)||null,l(E,p,S,T);case Qp:return p=p.get(S.key===null?y:S.key)||null,u(E,p,S,T);case kf:var $=S._init;return m(p,E,y,$(S._payload),T)}if(lv(S)||Mg(S))return p=p.get(y)||null,f(E,p,S,T,null);gw(E,S)}return null}function g(p,E,y,S){for(var T=null,$=null,d=E,x=E=0,O=null;d!==null&&x<y.length;x++){d.index>x?(O=d,d=null):O=d.sibling;var P=h(p,d,y[x],S);if(P===null){d===null&&(d=O);break}e&&d&&P.alternate===null&&t(p,d),E=o(P,E,x),$===null?T=P:$.sibling=P,$=P,d=O}if(x===y.length)return r(p,d),ui&&nh(p,x),T;if(d===null){for(;x<y.length;x++)d=c(p,y[x],S),d!==null&&(E=o(d,E,x),$===null?T=d:$.sibling=d,$=d);return ui&&nh(p,x),T}for(d=n(p,d);x<y.length;x++)O=m(d,p,x,y[x],S),O!==null&&(e&&O.alternate!==null&&d.delete(O.key===null?x:O.key),E=o(O,E,x),$===null?T=O:$.sibling=O,$=O);return e&&d.forEach(function(M){return t(p,M)}),ui&&nh(p,x),T}function _(p,E,y,S){var T=Mg(y);if(typeof T!="function")throw Error(Lt(150));if(y=T.call(y),y==null)throw Error(Lt(151));for(var $=T=null,d=E,x=E=0,O=null,P=y.next();d!==null&&!P.done;x++,P=y.next()){d.index>x?(O=d,d=null):O=d.sibling;var M=h(p,d,P.value,S);if(M===null){d===null&&(d=O);break}e&&d&&M.alternate===null&&t(p,d),E=o(M,E,x),$===null?T=M:$.sibling=M,$=M,d=O}if(P.done)return r(p,d),ui&&nh(p,x),T;if(d===null){for(;!P.done;x++,P=y.next())P=c(p,P.value,S),P!==null&&(E=o(P,E,x),$===null?T=P:$.sibling=P,$=P);return ui&&nh(p,x),T}for(d=n(p,d);!P.done;x++,P=y.next())P=m(d,p,x,P.value,S),P!==null&&(e&&P.alternate!==null&&d.delete(P.key===null?x:P.key),E=o(P,E,x),$===null?T=P:$.sibling=P,$=P);return e&&d.forEach(function(U){return t(p,U)}),ui&&nh(p,x),T}function v(p,E,y,S){if(typeof y=="object"&&y!==null&&y.type===Zp&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ow:e:{for(var T=y.key,$=E;$!==null;){if($.key===T){if(T=y.type,T===Zp){if($.tag===7){r(p,$.sibling),E=i($,y.props.children),E.return=p,p=E;break e}}else if($.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===kf&&DF(T)===$.type){r(p,$.sibling),E=i($,y.props),E.ref=zg(p,$,y),E.return=p,p=E;break e}r(p,$);break}else t(p,$);$=$.sibling}y.type===Zp?(E=Oh(y.props.children,p.mode,S,y.key),E.return=p,p=E):(S=Ab(y.type,y.key,y.props,null,p.mode,S),S.ref=zg(p,E,y),S.return=p,p=S)}return s(p);case Qp:e:{for($=y.key;E!==null;){if(E.key===$)if(E.tag===4&&E.stateNode.containerInfo===y.containerInfo&&E.stateNode.implementation===y.implementation){r(p,E.sibling),E=i(E,y.children||[]),E.return=p,p=E;break e}else{r(p,E);break}else t(p,E);E=E.sibling}E=bx(y,p.mode,S),E.return=p,p=E}return s(p);case kf:return $=y._init,v(p,E,$(y._payload),S)}if(lv(y))return g(p,E,y,S);if(Mg(y))return _(p,E,y,S);gw(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,E!==null&&E.tag===6?(r(p,E.sibling),E=i(E,y),E.return=p,p=E):(r(p,E),E=wx(y,p.mode,S),E.return=p,p=E),s(p)):r(p,E)}return v}var Bm=cV(!0),fV=cV(!1),fS=fd(null),dS=null,am=null,WC=null;function GC(){WC=am=dS=null}function KC(e){var t=fS.current;oi(fS),e._currentValue=t}function FO(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function bm(e,t){dS=e,WC=am=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bs=!0),e.firstContext=null)}function fl(e){var t=e._currentValue;if(WC!==e)if(e={context:e,memoizedValue:t,next:null},am===null){if(dS===null)throw Error(Lt(308));am=e,dS.dependencies={lanes:0,firstContext:e}}else am=am.next=e;return t}var yh=null;function JC(e){yh===null?yh=[e]:yh.push(e)}function dV(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,JC(t)):(r.next=i.next,i.next=r),t.interleaved=r,kc(e,n)}function kc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var jf=!1;function YC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hV(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,gn&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,kc(e,r)}return i=n.interleaved,i===null?(t.next=t,JC(n)):(t.next=i.next,i.next=t),n.interleaved=t,kc(e,r)}function _b(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jC(e,r)}}function MF(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hS(e,t,r,n){var i=e.updateQueue;jf=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;s=0,f=u=l=null,a=o;do{var h=a.lane,m=a.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,_=a;switch(h=t,m=r,_.tag){case 1:if(g=_.payload,typeof g=="function"){c=g.call(m,c,h);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,h=typeof g=="function"?g.call(m,c,h):g,h==null)break e;c=yi({},c,h);break e;case 2:jf=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,l=c):f=f.next=m,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Uh|=s,e.lanes=s,e.memoizedState=c}}function LF(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Lt(191,i));i.call(n)}}}var Jy={},Uu=fd(Jy),vy=fd(Jy),yy=fd(Jy);function wh(e){if(e===Jy)throw Error(Lt(174));return e}function XC(e,t){switch(ti(yy,t),ti(vy,e),ti(Uu,Jy),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wO(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wO(t,e)}oi(Uu),ti(Uu,t)}function Um(){oi(Uu),oi(vy),oi(yy)}function pV(e){wh(yy.current);var t=wh(Uu.current),r=wO(t,e.type);t!==r&&(ti(vy,e),ti(Uu,r))}function QC(e){vy.current===e&&(oi(Uu),oi(vy))}var gi=fd(0);function pS(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hx=[];function ZC(){for(var e=0;e<hx.length;e++)hx[e]._workInProgressVersionPrimary=null;hx.length=0}var Eb=zc.ReactCurrentDispatcher,px=zc.ReactCurrentBatchConfig,Bh=0,vi=null,Yi=null,ao=null,mS=!1,Mv=!1,wy=0,rae=0;function Io(){throw Error(Lt(321))}function e2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Jl(e[r],t[r]))return!1;return!0}function t2(e,t,r,n,i,o){if(Bh=o,vi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Eb.current=e===null||e.memoizedState===null?sae:aae,e=r(n,i),Mv){o=0;do{if(Mv=!1,wy=0,25<=o)throw Error(Lt(301));o+=1,ao=Yi=null,t.updateQueue=null,Eb.current=lae,e=r(n,i)}while(Mv)}if(Eb.current=gS,t=Yi!==null&&Yi.next!==null,Bh=0,ao=Yi=vi=null,mS=!1,t)throw Error(Lt(300));return e}function r2(){var e=wy!==0;return wy=0,e}function xu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ao===null?vi.memoizedState=ao=e:ao=ao.next=e,ao}function dl(){if(Yi===null){var e=vi.alternate;e=e!==null?e.memoizedState:null}else e=Yi.next;var t=ao===null?vi.memoizedState:ao.next;if(t!==null)ao=t,Yi=e;else{if(e===null)throw Error(Lt(310));Yi=e,e={memoizedState:Yi.memoizedState,baseState:Yi.baseState,baseQueue:Yi.baseQueue,queue:Yi.queue,next:null},ao===null?vi.memoizedState=ao=e:ao=ao.next=e}return ao}function by(e,t){return typeof t=="function"?t(e):t}function mx(e){var t=dl(),r=t.queue;if(r===null)throw Error(Lt(311));r.lastRenderedReducer=e;var n=Yi,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,u=o;do{var f=u.lane;if((Bh&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,s=n):l=l.next=c,vi.lanes|=f,Uh|=f}u=u.next}while(u!==null&&u!==o);l===null?s=n:l.next=a,Jl(n,t.memoizedState)||(Bs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,vi.lanes|=o,Uh|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function gx(e){var t=dl(),r=t.queue;if(r===null)throw Error(Lt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Jl(o,t.memoizedState)||(Bs=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function mV(){}function gV(e,t){var r=vi,n=dl(),i=t(),o=!Jl(n.memoizedState,i);if(o&&(n.memoizedState=i,Bs=!0),n=n.queue,n2(wV.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||ao!==null&&ao.memoizedState.tag&1){if(r.flags|=2048,_y(9,yV.bind(null,r,n,i,t),void 0,null),uo===null)throw Error(Lt(349));Bh&30||vV(r,t,i)}return i}function vV(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=vi.updateQueue,t===null?(t={lastEffect:null,stores:null},vi.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function yV(e,t,r,n){t.value=r,t.getSnapshot=n,bV(t)&&_V(e)}function wV(e,t,r){return r(function(){bV(t)&&_V(e)})}function bV(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Jl(e,r)}catch{return!0}}function _V(e){var t=kc(e,1);t!==null&&Kl(t,e,1,-1)}function FF(e){var t=xu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:by,lastRenderedState:e},t.queue=e,e=e.dispatch=oae.bind(null,vi,e),[t.memoizedState,e]}function _y(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=vi.updateQueue,t===null?(t={lastEffect:null,stores:null},vi.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function EV(){return dl().memoizedState}function Sb(e,t,r,n){var i=xu();vi.flags|=e,i.memoizedState=_y(1|t,r,void 0,n===void 0?null:n)}function P1(e,t,r,n){var i=dl();n=n===void 0?null:n;var o=void 0;if(Yi!==null){var s=Yi.memoizedState;if(o=s.destroy,n!==null&&e2(n,s.deps)){i.memoizedState=_y(t,r,o,n);return}}vi.flags|=e,i.memoizedState=_y(1|t,r,o,n)}function BF(e,t){return Sb(8390656,8,e,t)}function n2(e,t){return P1(2048,8,e,t)}function SV(e,t){return P1(4,2,e,t)}function TV(e,t){return P1(4,4,e,t)}function $V(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xV(e,t,r){return r=r!=null?r.concat([e]):null,P1(4,4,$V.bind(null,t,e),r)}function i2(){}function AV(e,t){var r=dl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&e2(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function OV(e,t){var r=dl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&e2(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function PV(e,t,r){return Bh&21?(Jl(r,t)||(r=kq(),vi.lanes|=r,Uh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bs=!0),e.memoizedState=r)}function nae(e,t){var r=Ln;Ln=r!==0&&4>r?r:4,e(!0);var n=px.transition;px.transition={};try{e(!1),t()}finally{Ln=r,px.transition=n}}function RV(){return dl().memoizedState}function iae(e,t,r){var n=ed(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},NV(e))IV(t,r);else if(r=dV(e,t,r,n),r!==null){var i=ps();Kl(r,e,n,i),CV(r,t,n)}}function oae(e,t,r){var n=ed(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(NV(e))IV(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,Jl(a,s)){var l=t.interleaved;l===null?(i.next=i,JC(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=dV(e,t,i,n),r!==null&&(i=ps(),Kl(r,e,n,i),CV(r,t,n))}}function NV(e){var t=e.alternate;return e===vi||t!==null&&t===vi}function IV(e,t){Mv=mS=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function CV(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jC(e,r)}}var gS={readContext:fl,useCallback:Io,useContext:Io,useEffect:Io,useImperativeHandle:Io,useInsertionEffect:Io,useLayoutEffect:Io,useMemo:Io,useReducer:Io,useRef:Io,useState:Io,useDebugValue:Io,useDeferredValue:Io,useTransition:Io,useMutableSource:Io,useSyncExternalStore:Io,useId:Io,unstable_isNewReconciler:!1},sae={readContext:fl,useCallback:function(e,t){return xu().memoizedState=[e,t===void 0?null:t],e},useContext:fl,useEffect:BF,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Sb(4194308,4,$V.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Sb(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sb(4,2,e,t)},useMemo:function(e,t){var r=xu();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xu();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=iae.bind(null,vi,e),[n.memoizedState,e]},useRef:function(e){var t=xu();return e={current:e},t.memoizedState=e},useState:FF,useDebugValue:i2,useDeferredValue:function(e){return xu().memoizedState=e},useTransition:function(){var e=FF(!1),t=e[0];return e=nae.bind(null,e[1]),xu().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=vi,i=xu();if(ui){if(r===void 0)throw Error(Lt(407));r=r()}else{if(r=t(),uo===null)throw Error(Lt(349));Bh&30||vV(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,BF(wV.bind(null,n,o,e),[e]),n.flags|=2048,_y(9,yV.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=xu(),t=uo.identifierPrefix;if(ui){var r=Tc,n=Sc;r=(n&~(1<<32-Gl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=wy++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=rae++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aae={readContext:fl,useCallback:AV,useContext:fl,useEffect:n2,useImperativeHandle:xV,useInsertionEffect:SV,useLayoutEffect:TV,useMemo:OV,useReducer:mx,useRef:EV,useState:function(){return mx(by)},useDebugValue:i2,useDeferredValue:function(e){var t=dl();return PV(t,Yi.memoizedState,e)},useTransition:function(){var e=mx(by)[0],t=dl().memoizedState;return[e,t]},useMutableSource:mV,useSyncExternalStore:gV,useId:RV,unstable_isNewReconciler:!1},lae={readContext:fl,useCallback:AV,useContext:fl,useEffect:n2,useImperativeHandle:xV,useInsertionEffect:SV,useLayoutEffect:TV,useMemo:OV,useReducer:gx,useRef:EV,useState:function(){return gx(by)},useDebugValue:i2,useDeferredValue:function(e){var t=dl();return Yi===null?t.memoizedState=e:PV(t,Yi.memoizedState,e)},useTransition:function(){var e=gx(by)[0],t=dl().memoizedState;return[e,t]},useMutableSource:mV,useSyncExternalStore:gV,useId:RV,unstable_isNewReconciler:!1};function Bl(e,t){if(e&&e.defaultProps){t=yi({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function BO(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:yi({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var R1={isMounted:function(e){return(e=e._reactInternals)?Zh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ps(),i=ed(e),o=Pc(n,i);o.payload=t,r!=null&&(o.callback=r),t=Qf(e,o,i),t!==null&&(Kl(t,e,i,n),_b(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ps(),i=ed(e),o=Pc(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Qf(e,o,i),t!==null&&(Kl(t,e,i,n),_b(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ps(),n=ed(e),i=Pc(r,n);i.tag=2,t!=null&&(i.callback=t),t=Qf(e,i,n),t!==null&&(Kl(t,e,n,r),_b(t,e,n))}};function UF(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!hy(r,n)||!hy(i,o):!0}function kV(e,t,r){var n=!1,i=ad,o=t.contextType;return typeof o=="object"&&o!==null?o=fl(o):(i=qs(t)?Lh:qo.current,n=t.contextTypes,o=(n=n!=null)?Lm(e,i):ad),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=R1,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function zF(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&R1.enqueueReplaceState(t,t.state,null)}function UO(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},YC(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=fl(o):(o=qs(t)?Lh:qo.current,i.context=Lm(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(BO(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&R1.enqueueReplaceState(i,i.state,null),hS(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function zm(e,t){try{var r="",n=t;do r+=Doe(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function vx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function zO(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var uae=typeof WeakMap=="function"?WeakMap:Map;function jV(e,t,r){r=Pc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yS||(yS=!0,QO=n),zO(e,t)},r}function DV(e,t,r){r=Pc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){zO(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){zO(e,t),typeof n!="function"&&(Zf===null?Zf=new Set([this]):Zf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function qF(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new uae;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Sae.bind(null,e,t,r),t.then(e,e))}function VF(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function HF(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Pc(-1,1),t.tag=2,Qf(r,t,1))),r.lanes|=1),e)}var cae=zc.ReactCurrentOwner,Bs=!1;function os(e,t,r,n){t.child=e===null?fV(t,null,r,n):Bm(t,e.child,r,n)}function WF(e,t,r,n,i){r=r.render;var o=t.ref;return bm(t,i),n=t2(e,t,r,n,o,i),r=r2(),e!==null&&!Bs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jc(e,t,i)):(ui&&r&&qC(t),t.flags|=1,os(e,t,n,i),t.child)}function GF(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!d2(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,MV(e,t,o,n,i)):(e=Ab(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:hy,r(s,n)&&e.ref===t.ref)return jc(e,t,i)}return t.flags|=1,e=td(o,n),e.ref=t.ref,e.return=t,t.child=e}function MV(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(hy(o,n)&&e.ref===t.ref)if(Bs=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(Bs=!0);else return t.lanes=e.lanes,jc(e,t,i)}return qO(e,t,r,n,i)}function LV(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ti(um,ha),ha|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ti(um,ha),ha|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ti(um,ha),ha|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,ti(um,ha),ha|=n;return os(e,t,i,r),t.child}function FV(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function qO(e,t,r,n,i){var o=qs(r)?Lh:qo.current;return o=Lm(t,o),bm(t,i),r=t2(e,t,r,n,o,i),n=r2(),e!==null&&!Bs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jc(e,t,i)):(ui&&n&&qC(t),t.flags|=1,os(e,t,r,i),t.child)}function KF(e,t,r,n,i){if(qs(r)){var o=!0;lS(t)}else o=!1;if(bm(t,i),t.stateNode===null)Tb(e,t),kV(t,r,n),UO(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=fl(u):(u=qs(r)?Lh:qo.current,u=Lm(t,u));var f=r.getDerivedStateFromProps,c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==u)&&zF(t,s,n,u),jf=!1;var h=t.memoizedState;s.state=h,hS(t,n,s,i),l=t.memoizedState,a!==n||h!==l||zs.current||jf?(typeof f=="function"&&(BO(t,r,f,n),l=t.memoizedState),(a=jf||UF(t,r,a,n,h,l,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,hV(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Bl(t.type,a),s.props=u,c=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=fl(l):(l=qs(r)?Lh:qo.current,l=Lm(t,l));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==c||h!==l)&&zF(t,s,n,l),jf=!1,h=t.memoizedState,s.state=h,hS(t,n,s,i);var g=t.memoizedState;a!==c||h!==g||zs.current||jf?(typeof m=="function"&&(BO(t,r,m,n),g=t.memoizedState),(u=jf||UF(t,r,u,n,h,g,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return VO(e,t,r,n,o,i)}function VO(e,t,r,n,i,o){FV(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&CF(t,r,!1),jc(e,t,o);n=t.stateNode,cae.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Bm(t,e.child,null,o),t.child=Bm(t,null,a,o)):os(e,t,a,o),t.memoizedState=n.state,i&&CF(t,r,!0),t.child}function BV(e){var t=e.stateNode;t.pendingContext?IF(e,t.pendingContext,t.pendingContext!==t.context):t.context&&IF(e,t.context,!1),XC(e,t.containerInfo)}function JF(e,t,r,n,i){return Fm(),HC(i),t.flags|=256,os(e,t,r,n),t.child}var HO={dehydrated:null,treeContext:null,retryLane:0};function WO(e){return{baseLanes:e,cachePool:null,transitions:null}}function UV(e,t,r){var n=t.pendingProps,i=gi.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ti(gi,i&1),e===null)return LO(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=C1(s,n,0,null),e=Oh(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=WO(r),t.memoizedState=HO,e):o2(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return fae(e,t,s,n,a,i,r);if(o){o=n.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=td(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=td(a,o):(o=Oh(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?WO(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=HO,n}return o=e.child,e=o.sibling,n=td(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function o2(e,t){return t=C1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vw(e,t,r,n){return n!==null&&HC(n),Bm(t,e.child,null,r),e=o2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fae(e,t,r,n,i,o,s){if(r)return t.flags&256?(t.flags&=-257,n=vx(Error(Lt(422))),vw(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=C1({mode:"visible",children:n.children},i,0,null),o=Oh(o,i,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Bm(t,e.child,null,s),t.child.memoizedState=WO(s),t.memoizedState=HO,o);if(!(t.mode&1))return vw(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(Lt(419)),n=vx(o,n,void 0),vw(e,t,s,n)}if(a=(s&e.childLanes)!==0,Bs||a){if(n=uo,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,kc(e,i),Kl(n,e,i,-1))}return f2(),n=vx(Error(Lt(421))),vw(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Tae.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,va=Xf(i.nextSibling),wa=t,ui=!0,ql=null,e!==null&&(Ja[Ya++]=Sc,Ja[Ya++]=Tc,Ja[Ya++]=Fh,Sc=e.id,Tc=e.overflow,Fh=t),t=o2(t,n.children),t.flags|=4096,t)}function YF(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),FO(e.return,t,r)}function yx(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function zV(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(os(e,t,n.children,r),n=gi.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&YF(e,r,t);else if(e.tag===19)YF(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ti(gi,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&pS(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),yx(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&pS(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}yx(t,!0,r,null,o);break;case"together":yx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Uh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Lt(153));if(t.child!==null){for(e=t.child,r=td(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=td(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dae(e,t,r){switch(t.tag){case 3:BV(t),Fm();break;case 5:pV(t);break;case 1:qs(t.type)&&lS(t);break;case 4:XC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ti(fS,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ti(gi,gi.current&1),t.flags|=128,null):r&t.child.childLanes?UV(e,t,r):(ti(gi,gi.current&1),e=jc(e,t,r),e!==null?e.sibling:null);ti(gi,gi.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return zV(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ti(gi,gi.current),n)break;return null;case 22:case 23:return t.lanes=0,LV(e,t,r)}return jc(e,t,r)}var qV,GO,VV,HV;qV=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};GO=function(){};VV=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,wh(Uu.current);var o=null;switch(r){case"input":i=mO(e,i),n=mO(e,n),o=[];break;case"select":i=yi({},i,{value:void 0}),n=yi({},n,{value:void 0}),o=[];break;case"textarea":i=yO(e,i),n=yO(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=sS)}bO(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sy.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sy.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ri("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};HV=function(e,t,r,n){r!==n&&(t.flags|=4)};function qg(e,t){if(!ui)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Co(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function hae(e,t,r){var n=t.pendingProps;switch(VC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Co(t),null;case 1:return qs(t.type)&&aS(),Co(t),null;case 3:return n=t.stateNode,Um(),oi(zs),oi(qo),ZC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(mw(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ql!==null&&(tP(ql),ql=null))),GO(e,t),Co(t),null;case 5:QC(t);var i=wh(yy.current);if(r=t.type,e!==null&&t.stateNode!=null)VV(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Lt(166));return Co(t),null}if(e=wh(Uu.current),mw(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Pu]=t,n[gy]=o,e=(t.mode&1)!==0,r){case"dialog":ri("cancel",n),ri("close",n);break;case"iframe":case"object":case"embed":ri("load",n);break;case"video":case"audio":for(i=0;i<cv.length;i++)ri(cv[i],n);break;case"source":ri("error",n);break;case"img":case"image":case"link":ri("error",n),ri("load",n);break;case"details":ri("toggle",n);break;case"input":oF(n,o),ri("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ri("invalid",n);break;case"textarea":aF(n,o),ri("invalid",n)}bO(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&pw(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&pw(n.textContent,a,e),i=["children",""+a]):sy.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ri("scroll",n)}switch(r){case"input":sw(n),sF(n,o,!0);break;case"textarea":sw(n),lF(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=sS)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wq(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Pu]=t,e[gy]=n,qV(e,t,!1,!1),t.stateNode=e;e:{switch(s=_O(r,n),r){case"dialog":ri("cancel",e),ri("close",e),i=n;break;case"iframe":case"object":case"embed":ri("load",e),i=n;break;case"video":case"audio":for(i=0;i<cv.length;i++)ri(cv[i],e);i=n;break;case"source":ri("error",e),i=n;break;case"img":case"image":case"link":ri("error",e),ri("load",e),i=n;break;case"details":ri("toggle",e),i=n;break;case"input":oF(e,n),i=mO(e,n),ri("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=yi({},n,{value:void 0}),ri("invalid",e);break;case"textarea":aF(e,n),i=yO(e,n),ri("invalid",e);break;default:i=n}bO(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Eq(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bq(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ay(e,l):typeof l=="number"&&ay(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(sy.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ri("scroll",e):l!=null&&PC(e,o,l,s))}switch(r){case"input":sw(e),sF(e,n,!1);break;case"textarea":sw(e),lF(e);break;case"option":n.value!=null&&e.setAttribute("value",""+sd(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?gm(e,!!n.multiple,o,!1):n.defaultValue!=null&&gm(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=sS)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Co(t),null;case 6:if(e&&t.stateNode!=null)HV(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Lt(166));if(r=wh(yy.current),wh(Uu.current),mw(t)){if(n=t.stateNode,r=t.memoizedProps,n[Pu]=t,(o=n.nodeValue!==r)&&(e=wa,e!==null))switch(e.tag){case 3:pw(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pw(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pu]=t,t.stateNode=n}return Co(t),null;case 13:if(oi(gi),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ui&&va!==null&&t.mode&1&&!(t.flags&128))uV(),Fm(),t.flags|=98560,o=!1;else if(o=mw(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(Lt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Lt(317));o[Pu]=t}else Fm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Co(t),o=!1}else ql!==null&&(tP(ql),ql=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||gi.current&1?Zi===0&&(Zi=3):f2())),t.updateQueue!==null&&(t.flags|=4),Co(t),null);case 4:return Um(),GO(e,t),e===null&&py(t.stateNode.containerInfo),Co(t),null;case 10:return KC(t.type._context),Co(t),null;case 17:return qs(t.type)&&aS(),Co(t),null;case 19:if(oi(gi),o=t.memoizedState,o===null)return Co(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)qg(o,!1);else{if(Zi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=pS(e),s!==null){for(t.flags|=128,qg(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ti(gi,gi.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ci()>qm&&(t.flags|=128,n=!0,qg(o,!1),t.lanes=4194304)}else{if(!n)if(e=pS(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qg(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ui)return Co(t),null}else 2*Ci()-o.renderingStartTime>qm&&r!==1073741824&&(t.flags|=128,n=!0,qg(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ci(),t.sibling=null,r=gi.current,ti(gi,n?r&1|2:r&1),t):(Co(t),null);case 22:case 23:return c2(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ha&1073741824&&(Co(t),t.subtreeFlags&6&&(t.flags|=8192)):Co(t),null;case 24:return null;case 25:return null}throw Error(Lt(156,t.tag))}function pae(e,t){switch(VC(t),t.tag){case 1:return qs(t.type)&&aS(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Um(),oi(zs),oi(qo),ZC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return QC(t),null;case 13:if(oi(gi),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Lt(340));Fm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oi(gi),null;case 4:return Um(),null;case 10:return KC(t.type._context),null;case 22:case 23:return c2(),null;case 24:return null;default:return null}}var yw=!1,Lo=!1,mae=typeof WeakSet=="function"?WeakSet:Set,er=null;function lm(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Si(e,t,n)}else r.current=null}function KO(e,t,r){try{r()}catch(n){Si(e,t,n)}}var XF=!1;function gae(e,t){if(NO=nS,e=Yq(),zC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,u=0,f=0,c=e,h=null;t:for(;;){for(var m;c!==r||i!==0&&c.nodeType!==3||(a=s+i),c!==o||n!==0&&c.nodeType!==3||(l=s+n),c.nodeType===3&&(s+=c.nodeValue.length),(m=c.firstChild)!==null;)h=c,c=m;for(;;){if(c===e)break t;if(h===r&&++u===i&&(a=s),h===o&&++f===n&&(l=s),(m=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(IO={focusedElem:e,selectionRange:r},nS=!1,er=t;er!==null;)if(t=er,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,er=e;else for(;er!==null;){t=er;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,v=g.memoizedState,p=t.stateNode,E=p.getSnapshotBeforeUpdate(t.elementType===t.type?_:Bl(t.type,_),v);p.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Lt(163))}}catch(S){Si(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,er=e;break}er=t.return}return g=XF,XF=!1,g}function Lv(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&KO(t,r,o)}i=i.next}while(i!==n)}}function N1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function JO(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function WV(e){var t=e.alternate;t!==null&&(e.alternate=null,WV(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pu],delete t[gy],delete t[jO],delete t[Qse],delete t[Zse])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function GV(e){return e.tag===5||e.tag===3||e.tag===4}function QF(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||GV(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function YO(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=sS));else if(n!==4&&(e=e.child,e!==null))for(YO(e,t,r),e=e.sibling;e!==null;)YO(e,t,r),e=e.sibling}function XO(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(XO(e,t,r),e=e.sibling;e!==null;)XO(e,t,r),e=e.sibling}var bo=null,Ul=!1;function hf(e,t,r){for(r=r.child;r!==null;)KV(e,t,r),r=r.sibling}function KV(e,t,r){if(Bu&&typeof Bu.onCommitFiberUnmount=="function")try{Bu.onCommitFiberUnmount(S1,r)}catch{}switch(r.tag){case 5:Lo||lm(r,t);case 6:var n=bo,i=Ul;bo=null,hf(e,t,r),bo=n,Ul=i,bo!==null&&(Ul?(e=bo,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):bo.removeChild(r.stateNode));break;case 18:bo!==null&&(Ul?(e=bo,r=r.stateNode,e.nodeType===8?fx(e.parentNode,r):e.nodeType===1&&fx(e,r),fy(e)):fx(bo,r.stateNode));break;case 4:n=bo,i=Ul,bo=r.stateNode.containerInfo,Ul=!0,hf(e,t,r),bo=n,Ul=i;break;case 0:case 11:case 14:case 15:if(!Lo&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&KO(r,t,s),i=i.next}while(i!==n)}hf(e,t,r);break;case 1:if(!Lo&&(lm(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Si(r,t,a)}hf(e,t,r);break;case 21:hf(e,t,r);break;case 22:r.mode&1?(Lo=(n=Lo)||r.memoizedState!==null,hf(e,t,r),Lo=n):hf(e,t,r);break;default:hf(e,t,r)}}function ZF(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new mae),t.forEach(function(n){var i=$ae.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Rl(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:bo=a.stateNode,Ul=!1;break e;case 3:bo=a.stateNode.containerInfo,Ul=!0;break e;case 4:bo=a.stateNode.containerInfo,Ul=!0;break e}a=a.return}if(bo===null)throw Error(Lt(160));KV(o,s,i),bo=null,Ul=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Si(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)JV(t,e),t=t.sibling}function JV(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rl(t,e),pu(e),n&4){try{Lv(3,e,e.return),N1(3,e)}catch(_){Si(e,e.return,_)}try{Lv(5,e,e.return)}catch(_){Si(e,e.return,_)}}break;case 1:Rl(t,e),pu(e),n&512&&r!==null&&lm(r,r.return);break;case 5:if(Rl(t,e),pu(e),n&512&&r!==null&&lm(r,r.return),e.flags&32){var i=e.stateNode;try{ay(i,"")}catch(_){Si(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&vq(i,o),_O(a,s);var u=_O(a,o);for(s=0;s<l.length;s+=2){var f=l[s],c=l[s+1];f==="style"?Eq(i,c):f==="dangerouslySetInnerHTML"?bq(i,c):f==="children"?ay(i,c):PC(i,f,c,u)}switch(a){case"input":gO(i,o);break;case"textarea":yq(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?gm(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?gm(i,!!o.multiple,o.defaultValue,!0):gm(i,!!o.multiple,o.multiple?[]:"",!1))}i[gy]=o}catch(_){Si(e,e.return,_)}}break;case 6:if(Rl(t,e),pu(e),n&4){if(e.stateNode===null)throw Error(Lt(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){Si(e,e.return,_)}}break;case 3:if(Rl(t,e),pu(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fy(t.containerInfo)}catch(_){Si(e,e.return,_)}break;case 4:Rl(t,e),pu(e);break;case 13:Rl(t,e),pu(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(l2=Ci())),n&4&&ZF(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Lo=(u=Lo)||f,Rl(t,e),Lo=u):Rl(t,e),pu(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(er=e,f=e.child;f!==null;){for(c=er=f;er!==null;){switch(h=er,m=h.child,h.tag){case 0:case 11:case 14:case 15:Lv(4,h,h.return);break;case 1:lm(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(_){Si(n,r,_)}}break;case 5:lm(h,h.return);break;case 22:if(h.memoizedState!==null){t3(c);continue}}m!==null?(m.return=h,er=m):t3(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=c.stateNode,l=c.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_q("display",s))}catch(_){Si(e,e.return,_)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(_){Si(e,e.return,_)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Rl(t,e),pu(e),n&4&&ZF(e);break;case 21:break;default:Rl(t,e),pu(e)}}function pu(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(GV(r)){var n=r;break e}r=r.return}throw Error(Lt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ay(i,""),n.flags&=-33);var o=QF(e);XO(e,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=QF(e);YO(e,a,s);break;default:throw Error(Lt(161))}}catch(l){Si(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vae(e,t,r){er=e,YV(e)}function YV(e,t,r){for(var n=(e.mode&1)!==0;er!==null;){var i=er,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||yw;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Lo;a=yw;var u=Lo;if(yw=s,(Lo=l)&&!u)for(er=i;er!==null;)s=er,l=s.child,s.tag===22&&s.memoizedState!==null?r3(i):l!==null?(l.return=s,er=l):r3(i);for(;o!==null;)er=o,YV(o),o=o.sibling;er=i,yw=a,Lo=u}e3(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,er=o):e3(e)}}function e3(e){for(;er!==null;){var t=er;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Lo||N1(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Lo)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Bl(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&LF(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}LF(t,s,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&fy(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Lt(163))}Lo||t.flags&512&&JO(t)}catch(h){Si(t,t.return,h)}}if(t===e){er=null;break}if(r=t.sibling,r!==null){r.return=t.return,er=r;break}er=t.return}}function t3(e){for(;er!==null;){var t=er;if(t===e){er=null;break}var r=t.sibling;if(r!==null){r.return=t.return,er=r;break}er=t.return}}function r3(e){for(;er!==null;){var t=er;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{N1(4,t)}catch(l){Si(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Si(t,i,l)}}var o=t.return;try{JO(t)}catch(l){Si(t,o,l)}break;case 5:var s=t.return;try{JO(t)}catch(l){Si(t,s,l)}}}catch(l){Si(t,t.return,l)}if(t===e){er=null;break}var a=t.sibling;if(a!==null){a.return=t.return,er=a;break}er=t.return}}var yae=Math.ceil,vS=zc.ReactCurrentDispatcher,s2=zc.ReactCurrentOwner,ll=zc.ReactCurrentBatchConfig,gn=0,uo=null,Ui=null,To=0,ha=0,um=fd(0),Zi=0,Ey=null,Uh=0,I1=0,a2=0,Fv=null,Ms=null,l2=0,qm=1/0,pc=null,yS=!1,QO=null,Zf=null,ww=!1,zf=null,wS=0,Bv=0,ZO=null,$b=-1,xb=0;function ps(){return gn&6?Ci():$b!==-1?$b:$b=Ci()}function ed(e){return e.mode&1?gn&2&&To!==0?To&-To:tae.transition!==null?(xb===0&&(xb=kq()),xb):(e=Ln,e!==0||(e=window.event,e=e===void 0?16:Uq(e.type)),e):1}function Kl(e,t,r,n){if(50<Bv)throw Bv=0,ZO=null,Error(Lt(185));Wy(e,r,n),(!(gn&2)||e!==uo)&&(e===uo&&(!(gn&2)&&(I1|=r),Zi===4&&Lf(e,To)),Vs(e,n),r===1&&gn===0&&!(t.mode&1)&&(qm=Ci()+500,O1&&dd()))}function Vs(e,t){var r=e.callbackNode;tse(e,t);var n=rS(e,e===uo?To:0);if(n===0)r!==null&&fF(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&fF(r),t===1)e.tag===0?eae(n3.bind(null,e)):sV(n3.bind(null,e)),Yse(function(){!(gn&6)&&dd()}),r=null;else{switch(jq(n)){case 1:r=kC;break;case 4:r=Iq;break;case 16:r=tS;break;case 536870912:r=Cq;break;default:r=tS}r=i8(r,XV.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function XV(e,t){if($b=-1,xb=0,gn&6)throw Error(Lt(327));var r=e.callbackNode;if(_m()&&e.callbackNode!==r)return null;var n=rS(e,e===uo?To:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bS(e,n);else{t=n;var i=gn;gn|=2;var o=ZV();(uo!==e||To!==t)&&(pc=null,qm=Ci()+500,Ah(e,t));do try{_ae();break}catch(a){QV(e,a)}while(!0);GC(),vS.current=o,gn=i,Ui!==null?t=0:(uo=null,To=0,t=Zi)}if(t!==0){if(t===2&&(i=xO(e),i!==0&&(n=i,t=eP(e,i))),t===1)throw r=Ey,Ah(e,0),Lf(e,n),Vs(e,Ci()),r;if(t===6)Lf(e,n);else{if(i=e.current.alternate,!(n&30)&&!wae(i)&&(t=bS(e,n),t===2&&(o=xO(e),o!==0&&(n=o,t=eP(e,o))),t===1))throw r=Ey,Ah(e,0),Lf(e,n),Vs(e,Ci()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Lt(345));case 2:ih(e,Ms,pc);break;case 3:if(Lf(e,n),(n&130023424)===n&&(t=l2+500-Ci(),10<t)){if(rS(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ps(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=kO(ih.bind(null,e,Ms,pc),t);break}ih(e,Ms,pc);break;case 4:if(Lf(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Gl(n);o=1<<s,s=t[s],s>i&&(i=s),n&=~o}if(n=i,n=Ci()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yae(n/1960))-n,10<n){e.timeoutHandle=kO(ih.bind(null,e,Ms,pc),n);break}ih(e,Ms,pc);break;case 5:ih(e,Ms,pc);break;default:throw Error(Lt(329))}}}return Vs(e,Ci()),e.callbackNode===r?XV.bind(null,e):null}function eP(e,t){var r=Fv;return e.current.memoizedState.isDehydrated&&(Ah(e,t).flags|=256),e=bS(e,t),e!==2&&(t=Ms,Ms=r,t!==null&&tP(t)),e}function tP(e){Ms===null?Ms=e:Ms.push.apply(Ms,e)}function wae(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Jl(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lf(e,t){for(t&=~a2,t&=~I1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Gl(t),n=1<<r;e[r]=-1,t&=~n}}function n3(e){if(gn&6)throw Error(Lt(327));_m();var t=rS(e,0);if(!(t&1))return Vs(e,Ci()),null;var r=bS(e,t);if(e.tag!==0&&r===2){var n=xO(e);n!==0&&(t=n,r=eP(e,n))}if(r===1)throw r=Ey,Ah(e,0),Lf(e,t),Vs(e,Ci()),r;if(r===6)throw Error(Lt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ih(e,Ms,pc),Vs(e,Ci()),null}function u2(e,t){var r=gn;gn|=1;try{return e(t)}finally{gn=r,gn===0&&(qm=Ci()+500,O1&&dd())}}function zh(e){zf!==null&&zf.tag===0&&!(gn&6)&&_m();var t=gn;gn|=1;var r=ll.transition,n=Ln;try{if(ll.transition=null,Ln=1,e)return e()}finally{Ln=n,ll.transition=r,gn=t,!(gn&6)&&dd()}}function c2(){ha=um.current,oi(um)}function Ah(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Jse(r)),Ui!==null)for(r=Ui.return;r!==null;){var n=r;switch(VC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&aS();break;case 3:Um(),oi(zs),oi(qo),ZC();break;case 5:QC(n);break;case 4:Um();break;case 13:oi(gi);break;case 19:oi(gi);break;case 10:KC(n.type._context);break;case 22:case 23:c2()}r=r.return}if(uo=e,Ui=e=td(e.current,null),To=ha=t,Zi=0,Ey=null,a2=I1=Uh=0,Ms=Fv=null,yh!==null){for(t=0;t<yh.length;t++)if(r=yh[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}yh=null}return e}function QV(e,t){do{var r=Ui;try{if(GC(),Eb.current=gS,mS){for(var n=vi.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}mS=!1}if(Bh=0,ao=Yi=vi=null,Mv=!1,wy=0,s2.current=null,r===null||r.return===null){Zi=1,Ey=t,Ui=null;break}e:{var o=e,s=r.return,a=r,l=t;if(t=To,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=VF(s);if(m!==null){m.flags&=-257,HF(m,s,a,o,t),m.mode&1&&qF(o,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var _=new Set;_.add(l),t.updateQueue=_}else g.add(l);break e}else{if(!(t&1)){qF(o,u,t),f2();break e}l=Error(Lt(426))}}else if(ui&&a.mode&1){var v=VF(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),HF(v,s,a,o,t),HC(zm(l,a));break e}}o=l=zm(l,a),Zi!==4&&(Zi=2),Fv===null?Fv=[o]:Fv.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=jV(o,l,t);MF(o,p);break e;case 1:a=l;var E=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Zf===null||!Zf.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=DV(o,a,t);MF(o,S);break e}}o=o.return}while(o!==null)}t8(r)}catch(T){t=T,Ui===r&&r!==null&&(Ui=r=r.return);continue}break}while(!0)}function ZV(){var e=vS.current;return vS.current=gS,e===null?gS:e}function f2(){(Zi===0||Zi===3||Zi===2)&&(Zi=4),uo===null||!(Uh&268435455)&&!(I1&268435455)||Lf(uo,To)}function bS(e,t){var r=gn;gn|=2;var n=ZV();(uo!==e||To!==t)&&(pc=null,Ah(e,t));do try{bae();break}catch(i){QV(e,i)}while(!0);if(GC(),gn=r,vS.current=n,Ui!==null)throw Error(Lt(261));return uo=null,To=0,Zi}function bae(){for(;Ui!==null;)e8(Ui)}function _ae(){for(;Ui!==null&&!Woe();)e8(Ui)}function e8(e){var t=n8(e.alternate,e,ha);e.memoizedProps=e.pendingProps,t===null?t8(e):Ui=t,s2.current=null}function t8(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=pae(r,t),r!==null){r.flags&=32767,Ui=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Zi=6,Ui=null;return}}else if(r=hae(r,t,ha),r!==null){Ui=r;return}if(t=t.sibling,t!==null){Ui=t;return}Ui=t=e}while(t!==null);Zi===0&&(Zi=5)}function ih(e,t,r){var n=Ln,i=ll.transition;try{ll.transition=null,Ln=1,Eae(e,t,r,n)}finally{ll.transition=i,Ln=n}return null}function Eae(e,t,r,n){do _m();while(zf!==null);if(gn&6)throw Error(Lt(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Lt(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(rse(e,o),e===uo&&(Ui=uo=null,To=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ww||(ww=!0,i8(tS,function(){return _m(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ll.transition,ll.transition=null;var s=Ln;Ln=1;var a=gn;gn|=4,s2.current=null,gae(e,r),JV(r,e),zse(IO),nS=!!NO,IO=NO=null,e.current=r,vae(r),Goe(),gn=a,Ln=s,ll.transition=o}else e.current=r;if(ww&&(ww=!1,zf=e,wS=i),o=e.pendingLanes,o===0&&(Zf=null),Yoe(r.stateNode),Vs(e,Ci()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(yS)throw yS=!1,e=QO,QO=null,e;return wS&1&&e.tag!==0&&_m(),o=e.pendingLanes,o&1?e===ZO?Bv++:(Bv=0,ZO=e):Bv=0,dd(),null}function _m(){if(zf!==null){var e=jq(wS),t=ll.transition,r=Ln;try{if(ll.transition=null,Ln=16>e?16:e,zf===null)var n=!1;else{if(e=zf,zf=null,wS=0,gn&6)throw Error(Lt(331));var i=gn;for(gn|=4,er=e.current;er!==null;){var o=er,s=o.child;if(er.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(er=u;er!==null;){var f=er;switch(f.tag){case 0:case 11:case 15:Lv(8,f,o)}var c=f.child;if(c!==null)c.return=f,er=c;else for(;er!==null;){f=er;var h=f.sibling,m=f.return;if(WV(f),f===u){er=null;break}if(h!==null){h.return=m,er=h;break}er=m}}}var g=o.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}er=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,er=s;else e:for(;er!==null;){if(o=er,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Lv(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,er=p;break e}er=o.return}}var E=e.current;for(er=E;er!==null;){s=er;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,er=y;else e:for(s=E;er!==null;){if(a=er,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:N1(9,a)}}catch(T){Si(a,a.return,T)}if(a===s){er=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,er=S;break e}er=a.return}}if(gn=i,dd(),Bu&&typeof Bu.onPostCommitFiberRoot=="function")try{Bu.onPostCommitFiberRoot(S1,e)}catch{}n=!0}return n}finally{Ln=r,ll.transition=t}}return!1}function i3(e,t,r){t=zm(r,t),t=jV(e,t,1),e=Qf(e,t,1),t=ps(),e!==null&&(Wy(e,1,t),Vs(e,t))}function Si(e,t,r){if(e.tag===3)i3(e,e,r);else for(;t!==null;){if(t.tag===3){i3(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zf===null||!Zf.has(n))){e=zm(r,e),e=DV(t,e,1),t=Qf(t,e,1),e=ps(),t!==null&&(Wy(t,1,e),Vs(t,e));break}}t=t.return}}function Sae(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ps(),e.pingedLanes|=e.suspendedLanes&r,uo===e&&(To&r)===r&&(Zi===4||Zi===3&&(To&130023424)===To&&500>Ci()-l2?Ah(e,0):a2|=r),Vs(e,t)}function r8(e,t){t===0&&(e.mode&1?(t=uw,uw<<=1,!(uw&130023424)&&(uw=4194304)):t=1);var r=ps();e=kc(e,t),e!==null&&(Wy(e,t,r),Vs(e,r))}function Tae(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),r8(e,r)}function $ae(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Lt(314))}n!==null&&n.delete(t),r8(e,r)}var n8;n8=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zs.current)Bs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Bs=!1,dae(e,t,r);Bs=!!(e.flags&131072)}else Bs=!1,ui&&t.flags&1048576&&aV(t,cS,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Tb(e,t),e=t.pendingProps;var i=Lm(t,qo.current);bm(t,r),i=t2(null,t,n,e,i,r);var o=r2();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qs(n)?(o=!0,lS(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,YC(t),i.updater=R1,t.stateNode=i,i._reactInternals=t,UO(t,n,e,r),t=VO(null,t,n,!0,o,r)):(t.tag=0,ui&&o&&qC(t),os(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Tb(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Aae(n),e=Bl(n,e),i){case 0:t=qO(null,t,n,e,r);break e;case 1:t=KF(null,t,n,e,r);break e;case 11:t=WF(null,t,n,e,r);break e;case 14:t=GF(null,t,n,Bl(n.type,e),r);break e}throw Error(Lt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Bl(n,i),qO(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Bl(n,i),KF(e,t,n,i,r);case 3:e:{if(BV(t),e===null)throw Error(Lt(387));n=t.pendingProps,o=t.memoizedState,i=o.element,hV(e,t),hS(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=zm(Error(Lt(423)),t),t=JF(e,t,n,r,i);break e}else if(n!==i){i=zm(Error(Lt(424)),t),t=JF(e,t,n,r,i);break e}else for(va=Xf(t.stateNode.containerInfo.firstChild),wa=t,ui=!0,ql=null,r=fV(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fm(),n===i){t=jc(e,t,r);break e}os(e,t,n,r)}t=t.child}return t;case 5:return pV(t),e===null&&LO(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,CO(n,i)?s=null:o!==null&&CO(n,o)&&(t.flags|=32),FV(e,t),os(e,t,s,r),t.child;case 6:return e===null&&LO(t),null;case 13:return UV(e,t,r);case 4:return XC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Bm(t,null,n,r):os(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Bl(n,i),WF(e,t,n,i,r);case 7:return os(e,t,t.pendingProps,r),t.child;case 8:return os(e,t,t.pendingProps.children,r),t.child;case 12:return os(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ti(fS,n._currentValue),n._currentValue=s,o!==null)if(Jl(o.value,s)){if(o.children===i.children&&!zs.current){t=jc(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Pc(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),FO(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Lt(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),FO(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}os(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,bm(t,r),i=fl(i),n=n(i),t.flags|=1,os(e,t,n,r),t.child;case 14:return n=t.type,i=Bl(n,t.pendingProps),i=Bl(n.type,i),GF(e,t,n,i,r);case 15:return MV(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Bl(n,i),Tb(e,t),t.tag=1,qs(n)?(e=!0,lS(t)):e=!1,bm(t,r),kV(t,n,i),UO(t,n,i,r),VO(null,t,n,!0,e,r);case 19:return zV(e,t,r);case 22:return LV(e,t,r)}throw Error(Lt(156,t.tag))};function i8(e,t){return Nq(e,t)}function xae(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function al(e,t,r,n){return new xae(e,t,r,n)}function d2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Aae(e){if(typeof e=="function")return d2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===NC)return 11;if(e===IC)return 14}return 2}function td(e,t){var r=e.alternate;return r===null?(r=al(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ab(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")d2(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Zp:return Oh(r.children,i,o,t);case RC:s=8,i|=8;break;case fO:return e=al(12,r,t,i|2),e.elementType=fO,e.lanes=o,e;case dO:return e=al(13,r,t,i),e.elementType=dO,e.lanes=o,e;case hO:return e=al(19,r,t,i),e.elementType=hO,e.lanes=o,e;case pq:return C1(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dq:s=10;break e;case hq:s=9;break e;case NC:s=11;break e;case IC:s=14;break e;case kf:s=16,n=null;break e}throw Error(Lt(130,e==null?e:typeof e,""))}return t=al(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Oh(e,t,r,n){return e=al(7,e,n,t),e.lanes=r,e}function C1(e,t,r,n){return e=al(22,e,n,t),e.elementType=pq,e.lanes=r,e.stateNode={isHidden:!1},e}function wx(e,t,r){return e=al(6,e,null,t),e.lanes=r,e}function bx(e,t,r){return t=al(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oae(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ex(0),this.expirationTimes=ex(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ex(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function h2(e,t,r,n,i,o,s,a,l){return e=new Oae(e,t,r,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=al(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},YC(o),e}function Pae(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qp,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function o8(e){if(!e)return ad;e=e._reactInternals;e:{if(Zh(e)!==e||e.tag!==1)throw Error(Lt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Lt(171))}if(e.tag===1){var r=e.type;if(qs(r))return oV(e,r,t)}return t}function s8(e,t,r,n,i,o,s,a,l){return e=h2(r,n,!0,e,i,o,s,a,l),e.context=o8(null),r=e.current,n=ps(),i=ed(r),o=Pc(n,i),o.callback=t??null,Qf(r,o,i),e.current.lanes=i,Wy(e,i,n),Vs(e,n),e}function k1(e,t,r,n){var i=t.current,o=ps(),s=ed(i);return r=o8(r),t.context===null?t.context=r:t.pendingContext=r,t=Pc(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Qf(i,t,s),e!==null&&(Kl(e,i,s,o),_b(e,i,s)),s}function _S(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function o3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function p2(e,t){o3(e,t),(e=e.alternate)&&o3(e,t)}function Rae(){return null}var a8=typeof reportError=="function"?reportError:function(e){console.error(e)};function m2(e){this._internalRoot=e}j1.prototype.render=m2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Lt(409));k1(e,t,null,null)};j1.prototype.unmount=m2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zh(function(){k1(null,e,null,null)}),t[Cc]=null}};function j1(e){this._internalRoot=e}j1.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lq();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mf.length&&t!==0&&t<Mf[r].priority;r++);Mf.splice(r,0,e),r===0&&Bq(e)}};function g2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function D1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function s3(){}function Nae(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=_S(s);o.call(u)}}var s=s8(t,n,e,0,null,!1,!1,"",s3);return e._reactRootContainer=s,e[Cc]=s.current,py(e.nodeType===8?e.parentNode:e),zh(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=_S(l);a.call(u)}}var l=h2(e,0,!1,null,null,!1,!1,"",s3);return e._reactRootContainer=l,e[Cc]=l.current,py(e.nodeType===8?e.parentNode:e),zh(function(){k1(t,l,r,n)}),l}function M1(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=_S(s);a.call(l)}}k1(t,s,e,i)}else s=Nae(r,t,e,i,n);return _S(s)}Dq=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=uv(t.pendingLanes);r!==0&&(jC(t,r|1),Vs(t,Ci()),!(gn&6)&&(qm=Ci()+500,dd()))}break;case 13:zh(function(){var n=kc(e,1);if(n!==null){var i=ps();Kl(n,e,1,i)}}),p2(e,1)}};DC=function(e){if(e.tag===13){var t=kc(e,134217728);if(t!==null){var r=ps();Kl(t,e,134217728,r)}p2(e,134217728)}};Mq=function(e){if(e.tag===13){var t=ed(e),r=kc(e,t);if(r!==null){var n=ps();Kl(r,e,t,n)}p2(e,t)}};Lq=function(){return Ln};Fq=function(e,t){var r=Ln;try{return Ln=e,t()}finally{Ln=r}};SO=function(e,t,r){switch(t){case"input":if(gO(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=A1(n);if(!i)throw Error(Lt(90));gq(n),gO(n,i)}}}break;case"textarea":yq(e,r);break;case"select":t=r.value,t!=null&&gm(e,!!r.multiple,t,!1)}};$q=u2;xq=zh;var Iae={usingClientEntryPoint:!1,Events:[Ky,nm,A1,Sq,Tq,u2]},Vg={findFiberByHostInstance:vh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cae={bundleType:Vg.bundleType,version:Vg.version,rendererPackageName:Vg.rendererPackageName,rendererConfig:Vg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pq(e),e===null?null:e.stateNode},findFiberByHostInstance:Vg.findFiberByHostInstance||Rae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bw.isDisabled&&bw.supportsFiber)try{S1=bw.inject(Cae),Bu=bw}catch{}}Sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iae;Sa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g2(t))throw Error(Lt(200));return Pae(e,t,null,r)};Sa.createRoot=function(e,t){if(!g2(e))throw Error(Lt(299));var r=!1,n="",i=a8;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=h2(e,1,!1,null,null,r,!1,n,i),e[Cc]=t.current,py(e.nodeType===8?e.parentNode:e),new m2(t)};Sa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Lt(188)):(e=Object.keys(e).join(","),Error(Lt(268,e)));return e=Pq(t),e=e===null?null:e.stateNode,e};Sa.flushSync=function(e){return zh(e)};Sa.hydrate=function(e,t,r){if(!D1(t))throw Error(Lt(200));return M1(null,e,t,!0,r)};Sa.hydrateRoot=function(e,t,r){if(!g2(e))throw Error(Lt(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=a8;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=s8(t,null,e,1,r??null,i,!1,o,s),e[Cc]=t.current,py(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new j1(t)};Sa.render=function(e,t,r){if(!D1(t))throw Error(Lt(200));return M1(null,e,t,!1,r)};Sa.unmountComponentAtNode=function(e){if(!D1(e))throw Error(Lt(40));return e._reactRootContainer?(zh(function(){M1(null,null,e,!1,function(){e._reactRootContainer=null,e[Cc]=null})}),!0):!1};Sa.unstable_batchedUpdates=u2;Sa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!D1(r))throw Error(Lt(200));if(e==null||e._reactInternals===void 0)throw Error(Lt(38));return M1(e,t,r,!1,n)};Sa.version="18.3.1-next-f1338f8080-20240426";function l8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l8)}catch(e){console.error(e)}}l8(),lq.exports=Sa;var u8=lq.exports;const $a=Uc(u8);var a3=u8;uO.createRoot=a3.createRoot,uO.hydrateRoot=a3.hydrateRoot;const kae={offlineTD:"",isValidJSON:!0,parsedTD:{},isModified:!1,name:"",fileHandle:null,linkedTd:void 0,validationMessage:void 0,northboundConnection:{message:"",northboundTd:{}},contributeCatalog:{model:"",author:"",manufacturer:"",license:"",copyrightYear:"",holder:"",tmCatalogEndpoint:"",nameRepository:"",dynamicValues:{}},updateOfflineTD:()=>{},updateIsModified:()=>{},setFileHandle:()=>{},removeForm:()=>{},addForm:()=>{},removeLink:()=>{},removeOneOfAKindReducer:()=>{},addLinkedTd:()=>{},updateLinkedTd:()=>{},updateValidationMessage:()=>{},updateNorthboundConnection:()=>{},updateContributeCatalog:()=>{}},Fn=ct.createContext(kae),jae=(e,t)=>{switch(t.type){case c8:return Dae(t.offlineTD,e);case f8:return qae(t.isModified,e);case d8:return Vae(t.fileHandle,e);case h8:return Mae(t.level,t.interactionName,t.toBeDeletedForm,t.index,e);case p8:return Lae(t.link,e);case g8:return Fae(t.kind,t.oneOfAKindName,e);case m8:return Bae(t.level,t.interactionName,t.form,e);case v8:return Uae(t.linkedTd,e);case y8:return zae(t.linkedTd,e);case w8:return Hae(t.validationMessage,e);case b8:return Wae(t.northboundConnection,e);case _8:return Gae(t.contributeCatalog,e);default:return e}},Dae=(e,t)=>{if(e==t.offlineTD)return t;if(e==="")return{...t,offlineTD:"",isModified:!0,isValidJSON:!0,parsedTD:{}};let r;try{r=JSON.parse(e)}catch(i){return console.error(i.message),{...t,offlineTD:e,isModified:!0,isValidJSON:!1,parsedTD:t.parsedTD}}let n=t.linkedTd;if(!n)n={[r.title||"ediTDor Thing"]:r};else if(n&&typeof t.fileHandle!="object"&&document.getElementById("linkedTd")){const i=document.getElementById("linkedTd"),o=(i==null?void 0:i.value)||"";o===""?n[r.title||"ediTDor Thing"]=r:n[o]=r}return{...t,offlineTD:e,isModified:!0,isValidJSON:!0,linkedTd:n,parsedTD:r}},Mae=(e,t,r,n,i)=>{var a,l;if(!i.isValidJSON)return i;let o=structuredClone(i.parsedTD),s;if(e==="thing"){if(!o.forms||!Array.isArray(o.forms))return i;s=o.forms}else{if(!o[e]||!o[e][t]||!o[e][t].forms||!Array.isArray(o[e][t].forms))return i;s=o[e][t].forms}if(!s||n>s.length-1)return i;if((a=s[n])!=null&&a.op&&Array.isArray(s[n].op)){const u=s[n].op.indexOf(r.op);if(u===-1)return i;s[n].op.splice(u,1),s[n].op.length==0&&s.splice(n,1)}else((l=s[n])==null?void 0:l.op)===r.op&&s.splice(n,1);return{...i,offlineTD:JSON.stringify(o,null,2),parsedTD:o}},Lae=(e,t)=>{var i;if(!t.isValidJSON)return t;let r=structuredClone(t.parsedTD);try{(i=r.links)==null||i.splice(e,1)}catch{alert("Sorry we were unable to delete the Link.")}let n=t.linkedTd;if(n&&typeof t.fileHandle!="object"&&document.getElementById("linkedTd")){const o=document.getElementById("linkedTd");let s=o?o.value:"";s===""?n[r.title||"ediTDor Thing"]=r:n[s]=r}return{...t,offlineTD:JSON.stringify(r,null,2),linkedTd:n,parsedTD:r}},Fae=(e,t,r)=>{if(!r.isValidJSON)return r;let n=structuredClone(r.parsedTD);try{delete n[e][t]}catch{alert("Sorry we were unable to delete the Form.")}return{...r,offlineTD:JSON.stringify(n,null,2),parsedTD:n}},Bae=(e,t,r,n)=>{var s;if(!n.isValidJSON)return n;let i=structuredClone(n.parsedTD);if(e=="thing")return i.forms&&!Array.isArray(i.forms)?n:(i.forms||(i.forms=void 0),(s=i.forms)==null||s.push(r),{...n,offlineTD:JSON.stringify(i,null,2),parsedTD:i});if(!i[e]||!i[e][t])return n;const o=i[e][t];return o.forms||(o.forms=[]),o.forms.push(r),{...n,offlineTD:JSON.stringify(i,null,2),parsedTD:i}},Uae=(e,t)=>{let r=structuredClone(t.linkedTd),n={};return r===void 0?n=e:n=Object.assign(r,e),{...t,linkedTd:n}},zae=(e,t)=>({...t,linkedTd:e}),qae=(e,t)=>({...t,isModified:e}),Vae=(e,t)=>({...t,fileHandle:e}),Hae=(e,t)=>({...t,validationMessage:e}),Wae=(e,t)=>({...t,northboundConnection:e}),Gae=(e,t)=>({...t,contributeCatalog:e}),c8="UPDATE_OFFLINE_TD",f8="UPDATE_IS_MODIFIED",d8="SET_FILE_HANDLE",h8="REMOVE_FORM_FROM_TD",p8="REMOVE_LINK_FROM_TD",m8="ADD_FORM_TO_TD",g8="REMOVE_ONE_OF_A_KIND_FROM_TD",v8="ADD_LINKED_TD",y8="UPDATE_LINKED_TD",w8="UPDATE_VALIDATION_MESSAGE",b8="UPDATE_NORTHBOUND_CONNECTION",_8="UPDATE_CONTRIBUTE_CATALOG",Kae=({children:e})=>{const[t,r]=Ne.useReducer(jae,{offlineTD:"",isModified:!1,isValidJSON:!1,parsedTD:{},name:"",validationMessage:"",fileHandle:null,linkedTd:void 0,northboundConnection:{message:"",northboundTd:{}},contributeCatalog:{model:"",author:"",manufacturer:"",license:"",copyrightYear:"",holder:"",tmCatalogEndpoint:"",nameRepository:"",dynamicValues:{}}}),n=_=>{r({type:c8,offlineTD:_})},i=_=>{r({type:f8,isModified:_})},o=_=>{r({type:d8,fileHandle:_})},s=_=>{r({type:p8,link:_})},a=(_,v,p)=>{r({type:m8,level:_,interactionName:v,form:p})},l=(_,v,p,E)=>{r({type:h8,level:_,interactionName:v,toBeDeletedForm:p,index:E})},u=(_,v)=>{r({type:g8,kind:_,oneOfAKindName:v})},f=_=>{r({type:v8,linkedTd:_})},c=_=>{r({type:y8,linkedTd:_})},h=_=>{r({type:w8,validationMessage:_})},m=_=>{r({type:b8,northboundConnection:_})},g=_=>{r({type:_8,contributeCatalog:_})};return X.jsx(Fn.Provider,{value:{offlineTD:t.offlineTD,isModified:t.isModified,isValidJSON:t.isValidJSON,parsedTD:t.parsedTD,name:t.name,fileHandle:t.fileHandle,linkedTd:t.linkedTd,validationMessage:t.validationMessage,northboundConnection:t.northboundConnection,contributeCatalog:t.contributeCatalog,updateOfflineTD:n,updateIsModified:i,setFileHandle:o,removeLink:s,addForm:a,removeForm:l,removeOneOfAKindReducer:u,addLinkedTd:f,updateLinkedTd:c,updateValidationMessage:h,updateNorthboundConnection:m,updateContributeCatalog:g},children:e})};function Jae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function u3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l3(Object(r),!0).forEach(function(n){Jae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yae(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Xae(e,t){if(e==null)return{};var r=Yae(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qae(e,t){return Zae(e)||ele(e,t)||tle(e,t)||rle()}function Zae(e){if(Array.isArray(e))return e}function ele(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(n=(a=s.next()).done)&&(r.push(a.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function tle(e,t){if(e){if(typeof e=="string")return c3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c3(e,t)}}function c3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nle(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function d3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(r),!0).forEach(function(n){nle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ile(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(i,o){return o(i)},n)}}function fv(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.apply(r,[].concat(i,a))}}}function ES(e){return{}.toString.call(e).includes("Object")}function ole(e){return!Object.keys(e).length}function Sy(e){return typeof e=="function"}function sle(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ale(e,t){return ES(t)||rd("changeType"),Object.keys(t).some(function(r){return!sle(e,r)})&&rd("changeField"),t}function lle(e){Sy(e)||rd("selectorType")}function ule(e){Sy(e)||ES(e)||rd("handlerType"),ES(e)&&Object.values(e).some(function(t){return!Sy(t)})&&rd("handlersType")}function cle(e){e||rd("initialIsRequired"),ES(e)||rd("initialType"),ole(e)&&rd("initialContent")}function fle(e,t){throw new Error(e[t]||e.default)}var dle={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},rd=fv(fle)(dle),_w={changes:ale,selector:lle,handler:ule,initial:cle};function hle(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_w.initial(e),_w.handler(t);var r={current:e},n=fv(gle)(r,t),i=fv(mle)(r),o=fv(_w.changes)(e),s=fv(ple)(r);function a(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return _w.selector(u),u(r.current)}function l(u){ile(n,i,o,s)(u)}return[a,l]}function ple(e,t){return Sy(t)?t(e.current):t}function mle(e,t){return e.current=d3(d3({},e.current),t),t}function gle(e,t,r){return Sy(t)?t(e.current):Object.keys(r).forEach(function(n){var i;return(i=t[n])===null||i===void 0?void 0:i.call(t,e.current[n])}),r}var vle={create:hle},yle={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function wle(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.apply(r,[].concat(i,a))}}}function ble(e){return{}.toString.call(e).includes("Object")}function _le(e){return e||h3("configIsRequired"),ble(e)||h3("configType"),e.urls?(Ele(),{paths:{vs:e.urls.monacoBase}}):e}function Ele(){console.warn(E8.deprecation)}function Sle(e,t){throw new Error(e[t]||e.default)}var E8={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},h3=wle(Sle)(E8),Tle={config:_le},$le=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(i){return r.reduceRight(function(o,s){return s(o)},i)}};function S8(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],S8(e[r],t[r]))}),u3(u3({},e),t)}var xle={type:"cancelation",msg:"operation is manually canceled"};function _x(e){var t=!1,r=new Promise(function(n,i){e.then(function(o){return t?i(xle):n(o)}),e.catch(i)});return r.cancel=function(){return t=!0},r}var Ale=vle.create({config:yle,isInitialized:!1,resolve:null,reject:null,monaco:null}),T8=Qae(Ale,2),Yy=T8[0],L1=T8[1];function Ole(e){var t=Tle.config(e),r=t.monaco,n=Xae(t,["monaco"]);L1(function(i){return{config:S8(i.config,n),monaco:r}})}function Ple(){var e=Yy(function(t){var r=t.monaco,n=t.isInitialized,i=t.resolve;return{monaco:r,isInitialized:n,resolve:i}});if(!e.isInitialized){if(L1({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),_x(Ex);if(window.monaco&&window.monaco.editor)return $8(window.monaco),e.resolve(window.monaco),_x(Ex);$le(Rle,Ile)(Cle)}return _x(Ex)}function Rle(e){return document.body.appendChild(e)}function Nle(e){var t=document.createElement("script");return e&&(t.src=e),t}function Ile(e){var t=Yy(function(n){var i=n.config,o=n.reject;return{config:i,reject:o}}),r=Nle("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function Cle(){var e=Yy(function(r){var n=r.config,i=r.resolve,o=r.reject;return{config:n,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){$8(r),e.resolve(r)},function(r){e.reject(r)})}function $8(e){Yy().monaco||L1({monaco:e})}function kle(){return Yy(function(e){var t=e.monaco;return t})}var Ex=new Promise(function(e,t){return L1({resolve:e,reject:t})}),x8={config:Ole,init:Ple,__getMonacoInstance:kle},jle={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Sx=jle,Dle={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Mle=Dle;function Lle({children:e}){return ct.createElement("div",{style:Mle.container},e)}var Fle=Lle,Ble=Fle;function Ule({width:e,height:t,isEditorReady:r,loading:n,_ref:i,className:o,wrapperProps:s}){return ct.createElement("section",{style:{...Sx.wrapper,width:e,height:t},...s},!r&&ct.createElement(Ble,null,n),ct.createElement("div",{ref:i,style:{...Sx.fullWidth,...!r&&Sx.hide},className:o}))}var zle=Ule,A8=Ne.memo(zle);function qle(e){Ne.useEffect(e,[])}var O8=qle;function Vle(e,t,r=!0){let n=Ne.useRef(!0);Ne.useEffect(n.current||!r?()=>{n.current=!1}:e,t)}var pa=Vle;function Uv(){}function cm(e,t,r,n){return Hle(e,n)||Wle(e,t,r,n)}function Hle(e,t){return e.editor.getModel(P8(e,t))}function Wle(e,t,r,n){return e.editor.createModel(t,r,n?P8(e,n):void 0)}function P8(e,t){return e.Uri.parse(t)}function Gle({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:s,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:f="Loading...",options:c={},height:h="100%",width:m="100%",className:g,wrapperProps:_={},beforeMount:v=Uv,onMount:p=Uv}){let[E,y]=Ne.useState(!1),[S,T]=Ne.useState(!0),$=Ne.useRef(null),d=Ne.useRef(null),x=Ne.useRef(null),O=Ne.useRef(p),P=Ne.useRef(v),M=Ne.useRef(!1);O8(()=>{let G=x8.init();return G.then(ne=>(d.current=ne)&&T(!1)).catch(ne=>(ne==null?void 0:ne.type)!=="cancelation"&&console.error("Monaco initialization: error:",ne)),()=>$.current?ie():G.cancel()}),pa(()=>{if($.current&&d.current){let G=$.current.getOriginalEditor(),ne=cm(d.current,e||"",n||r||"text",o||"");ne!==G.getModel()&&G.setModel(ne)}},[o],E),pa(()=>{if($.current&&d.current){let G=$.current.getModifiedEditor(),ne=cm(d.current,t||"",i||r||"text",s||"");ne!==G.getModel()&&G.setModel(ne)}},[s],E),pa(()=>{let G=$.current.getModifiedEditor();G.getOption(d.current.editor.EditorOption.readOnly)?G.setValue(t||""):t!==G.getValue()&&(G.executeEdits("",[{range:G.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),G.pushUndoStop())},[t],E),pa(()=>{var G,ne;(ne=(G=$.current)==null?void 0:G.getModel())==null||ne.original.setValue(e||"")},[e],E),pa(()=>{let{original:G,modified:ne}=$.current.getModel();d.current.editor.setModelLanguage(G,n||r||"text"),d.current.editor.setModelLanguage(ne,i||r||"text")},[r,n,i],E),pa(()=>{var G;(G=d.current)==null||G.editor.setTheme(u)},[u],E),pa(()=>{var G;(G=$.current)==null||G.updateOptions(c)},[c],E);let U=Ne.useCallback(()=>{var ge;if(!d.current)return;P.current(d.current);let G=cm(d.current,e||"",n||r||"text",o||""),ne=cm(d.current,t||"",i||r||"text",s||"");(ge=$.current)==null||ge.setModel({original:G,modified:ne})},[r,t,i,e,n,o,s]),K=Ne.useCallback(()=>{var G;!M.current&&x.current&&($.current=d.current.editor.createDiffEditor(x.current,{automaticLayout:!0,...c}),U(),(G=d.current)==null||G.editor.setTheme(u),y(!0),M.current=!0)},[c,u,U]);Ne.useEffect(()=>{E&&O.current($.current,d.current)},[E]),Ne.useEffect(()=>{!S&&!E&&K()},[S,E,K]);function ie(){var ne,ge,re,se;let G=(ne=$.current)==null?void 0:ne.getModel();a||((ge=G==null?void 0:G.original)==null||ge.dispose()),l||((re=G==null?void 0:G.modified)==null||re.dispose()),(se=$.current)==null||se.dispose()}return ct.createElement(A8,{width:m,height:h,isEditorReady:E,loading:f,_ref:x,className:g,wrapperProps:_})}var Kle=Gle;Ne.memo(Kle);function Jle(e){let t=Ne.useRef();return Ne.useEffect(()=>{t.current=e},[e]),t.current}var Yle=Jle,Ew=new Map;function Xle({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:i,path:o,theme:s="light",line:a,loading:l="Loading...",options:u={},overrideServices:f={},saveViewState:c=!0,keepCurrentModel:h=!1,width:m="100%",height:g="100%",className:_,wrapperProps:v={},beforeMount:p=Uv,onMount:E=Uv,onChange:y,onValidate:S=Uv}){let[T,$]=Ne.useState(!1),[d,x]=Ne.useState(!0),O=Ne.useRef(null),P=Ne.useRef(null),M=Ne.useRef(null),U=Ne.useRef(E),K=Ne.useRef(p),ie=Ne.useRef(),G=Ne.useRef(n),ne=Yle(o),ge=Ne.useRef(!1),re=Ne.useRef(!1);O8(()=>{let z=x8.init();return z.then(Y=>(O.current=Y)&&x(!1)).catch(Y=>(Y==null?void 0:Y.type)!=="cancelation"&&console.error("Monaco initialization: error:",Y)),()=>P.current?D():z.cancel()}),pa(()=>{var Y,N,I,q;let z=cm(O.current,e||n||"",t||i||"",o||r||"");z!==((Y=P.current)==null?void 0:Y.getModel())&&(c&&Ew.set(ne,(N=P.current)==null?void 0:N.saveViewState()),(I=P.current)==null||I.setModel(z),c&&((q=P.current)==null||q.restoreViewState(Ew.get(o))))},[o],T),pa(()=>{var z;(z=P.current)==null||z.updateOptions(u)},[u],T),pa(()=>{!P.current||n===void 0||(P.current.getOption(O.current.editor.EditorOption.readOnly)?P.current.setValue(n):n!==P.current.getValue()&&(re.current=!0,P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),P.current.pushUndoStop(),re.current=!1))},[n],T),pa(()=>{var Y,N;let z=(Y=P.current)==null?void 0:Y.getModel();z&&i&&((N=O.current)==null||N.editor.setModelLanguage(z,i))},[i],T),pa(()=>{var z;a!==void 0&&((z=P.current)==null||z.revealLine(a))},[a],T),pa(()=>{var z;(z=O.current)==null||z.editor.setTheme(s)},[s],T);let se=Ne.useCallback(()=>{var z;if(!(!M.current||!O.current)&&!ge.current){K.current(O.current);let Y=o||r,N=cm(O.current,n||e||"",t||i||"",Y||"");P.current=(z=O.current)==null?void 0:z.editor.create(M.current,{model:N,automaticLayout:!0,...u},f),c&&P.current.restoreViewState(Ew.get(Y)),O.current.editor.setTheme(s),a!==void 0&&P.current.revealLine(a),$(!0),ge.current=!0}},[e,t,r,n,i,o,u,f,c,s,a]);Ne.useEffect(()=>{T&&U.current(P.current,O.current)},[T]),Ne.useEffect(()=>{!d&&!T&&se()},[d,T,se]),G.current=n,Ne.useEffect(()=>{var z,Y;T&&y&&((z=ie.current)==null||z.dispose(),ie.current=(Y=P.current)==null?void 0:Y.onDidChangeModelContent(N=>{re.current||y(P.current.getValue(),N)}))},[T,y]),Ne.useEffect(()=>{if(T){let z=O.current.editor.onDidChangeMarkers(Y=>{var I;let N=(I=P.current.getModel())==null?void 0:I.uri;if(N&&Y.find(q=>q.path===N.path)){let q=O.current.editor.getModelMarkers({resource:N});S==null||S(q)}});return()=>{z==null||z.dispose()}}return()=>{}},[T,S]);function D(){var z,Y;(z=ie.current)==null||z.dispose(),h?c&&Ew.set(o,P.current.saveViewState()):(Y=P.current.getModel())==null||Y.dispose(),P.current.dispose()}return ct.createElement(A8,{width:m,height:g,isEditorReady:T,loading:l,_ref:M,className:_,wrapperProps:v})}var Qle=Xle,Zle=Ne.memo(Qle),R8=Zle;const N8="֑-߿יִ-﷽ﹰ-ﻼ",I8="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",eue=new RegExp("^[^"+I8+"]*["+N8+"]"),tue=new RegExp("^[^"+N8+"]*["+I8+"]");function p3(e){const t=String(e||"");return eue.test(t)?"rtl":tue.test(t)?"ltr":"neutral"}const C8=e=>!(typeof e=="object"&&!Array.isArray(e)&&e!==null)||!Object.prototype.hasOwnProperty.call(e,"@type")?!1:e["@type"].indexOf("tm:ThingModel")>-1,F1=(e,t,r)=>{let n={...e};for(const[i,o]of Object.entries(t))r.includes(i)||(n[i]=o);return n},B1=e=>{if(e===void 0&&!e)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];if(!Array.isArray(n.op)){n.actualIndex=r,t.push(n);continue}for(let i=0;i<n.op.length;i++){const o={...n};o.op=n.op[i],o.actualIndex=r,t.push(o)}}return t},rue=(e,t)=>{for(const r of t.links)if(r.href===e.href)return!0;return!1},nue=(e,t)=>{for(const r of t.forms){if(typeof e.op=="string")return iue(e,r);for(const n of e.op)if(typeof r.op=="string"){if(r.op===n)return!0}else if(r.op.includes(n)){let i=!0;for(const o in e)o!=="op"&&r[o]!==e[o]&&(i=!1);if(i)return!0}}return!1},iue=(e,t)=>{if(typeof t.op=="string"){if(t.op===e.op)return!0}else if(t.op.includes(e.op)){let r=!0;for(const n in e)n!=="op"&&t[n]!==e[n]&&(r=!1);if(r)return!0}},y2=async(e,t)=>{var r;if(e.linkedTd[t].kind==="file"){try{e.isModified&&e.fileHandle&&(r=await e.fileHandle.createWritable(),await r.write(e.offlineTD),await r.close())}catch(a){console.error(a.message)}let n=e.linkedTd[t];const i=await n.getFile(),o=JSON.parse(await i.text());let s=JSON.stringify(o,null,2);e.setFileHandle(n),e.updateOfflineTD(s),e.updateIsModified(!1),document.getElementById("linkedTd").value=t}else if(Object.keys(e.linkedTd[t]).length){try{e.isModified&&e.fileHandle&&(r=await e.fileHandle.createWritable(),await r.write(e.offlineTD),await r.close())}catch(o){console.error(o.message)}e.setFileHandle(void 0);const n=e.linkedTd[t];let i=JSON.stringify(n,null,2);e.updateOfflineTD(i),e.updateIsModified(!1),document.getElementById("linkedTd").value=t}},rP=(e,t,r)=>{if(!e[t])return"";const n="⁦",i="⁧",o={ar:"rtl",fa:"rtl",ps:"rtl",ur:"rtl",hy:"ltr",as:"ltr",bn:"ltr",zb:"ltr",ab:"ltr",be:"ltr",bg:"ltr",kk:"ltr",mk:"ltr",ru:"ltr",uk:"ltr",hi:"ltr",mr:"ltr",ne:"ltr",ko:"ltr",ma:"ltr",am:"ltr",ti:"ltr",ka:"ltr",el:"ltr",gu:"ltr",pa:"ltr",he:"rtl",iw:"rtl",yi:"rtl",ja:"ltr",km:"ltr",kn:"ltr",lo:"ltr",af:"ltr",ay:"ltr",bs:"ltr",ca:"ltr",ch:"ltr",cs:"ltr",cy:"ltr",da:"ltr",de:"ltr",en:"ltr",eo:"ltr",es:"ltr",et:"ltr",eu:"ltr",fi:"ltr",fj:"ltr",fo:"ltr",fr:"ltr",fy:"ltr",ga:"ltr",gl:"ltr",gn:"ltr",gv:"ltr",hr:"ltr",ht:"ltr",hu:"ltr",id:"ltr",in:"ltr",is:"ltr",it:"ltr",kl:"ltr",la:"ltr",lb:"ltr",ln:"ltr",lt:"ltr",lv:"ltr",mg:"ltr",mh:"ltr",mo:"ltr",ms:"ltr",mt:"ltr",na:"ltr",nb:"ltr",nd:"ltr",nl:"ltr",nn:"ltr",no:"ltr",nr:"ltr",ny:"ltr",om:"ltr",pl:"ltr",pt:"ltr",qu:"ltr",rm:"ltr",rn:"ltr",ro:"ltr",rw:"ltr",sg:"ltr",sk:"ltr",sl:"ltr",sm:"ltr",so:"ltr",sq:"ltr",ss:"ltr",st:"ltr",sv:"ltr",sw:"ltr",tl:"ltr",tn:"ltr",to:"ltr",tr:"ltr",ts:"ltr",ve:"ltr",vi:"ltr",xh:"ltr",zu:"ltr",ds:"ltr",gs:"ltr",hs:"ltr",me:"ltr",ni:"ltr",ns:"ltr",te:"ltr",tk:"ltr",tm:"ltr",tp:"ltr",tv:"ltr",ml:"ltr",my:"ltr",nq:"ltr",or:"ltr",si:"ltr",ta:"ltr",dv:"rtl",th:"ltr",dz:"ltr"},s=u=>u==="ltr"?n:i;if(!["title","description"].includes(t)&&!/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t))return s(p3(e[t].toString()))+e[t];if(/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t)){const u=t.includes("-")?t.split("-")[0]:t.toLowerCase(),f=o[u];return f?s(f)+e[t]:s("ltr")+e[t]}let a,l;if(Array.isArray(r)||(r=[r]),r.forEach(u=>{typeof u=="object"&&(u["@direction"]&&(a=u["@direction"]),u["@language"]&&(l=u["@language"]))}),t==="title"||t==="description"){if(a)return s(a)+e[t];if(l){const u=l.includes("-")?l.split("-")[0]:l.toLowerCase(),f=o[u];return f?s(f)+e[t]:s("ltr")+e[t]}}return s(p3(e[t].toString()))+e[t]},oue={selectOnLineNumbers:!0,automaticLayout:!0,lineDecorationsWidth:20};let m3;const sue=(e,t,r)=>{clearTimeout(m3),m3=setTimeout(()=>e(t),r)},aue=({editorRef:e})=>{const t=Ne.useContext(Fn),[r]=Ne.useState([]),[n,i]=Ne.useState(void 0),o=Ne.useRef(null),[s,a]=Ne.useState([]),[l,u]=Ne.useState(""),[f,c]=Ne.useState(""),h=ct.useMemo(()=>new Worker(new URL(""+new URL("validationWorker-B1K2naAg.js",import.meta.url).href,import.meta.url),{type:"module"}),[]),m=ct.useMemo(()=>new Worker(new URL(""+new URL("schemaWorker-6hsQhLES.js",import.meta.url).href,import.meta.url),{type:"module"}),[]),g=Ne.useCallback(y=>{m.postMessage(y),h.postMessage(y)},[m,h]);Ne.useEffect(()=>{const y=S=>{n.splice(0,n.length),S.forEach(function(T,$){console.debug(`using schema: ${$}`),n.push({schemaUri:$,schema:T})})};m.onmessage=S=>{console.debug("received message from schema worker"),y(S.data)},h.onmessage=S=>{console.debug("received message from validation worker");const T=S.data;t.updateValidationMessage(T)}},[m,h,n,t]),Ne.useEffect(()=>{t.offlineTD!==f&&(u(t.offlineTD),g(t.offlineTD))},[t.offlineTD,g,f]);const _=y=>{},v=(y,S)=>{if(S.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:[]}),!("Proxy"in window)){console.warn("dynamic fetching of schemas is disabled as your browser doesn't support proxies.");return}let T=new Proxy(r,{set:function($,d,x,O){$[d]=x;let P=[];for(let M=0;M<$.length;M++)P.push({fileMatch:["*/*"],uri:$[M].schemaUri,schema:$[M].schema});return S.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:P}),!0}});o.current=y,e&&(e.current=y),i(T)},p=async(y,S)=>{if(y){try{JSON.parse(y),t.updateOfflineTD(y),t.updateValidationMessage(void 0)}catch(T){t.updateValidationMessage({valid:!1,message:"Invalid JSON: "+(T instanceof Error?T.message:String(T))})}c(y),sue(g,y??"",500)}};Ne.useEffect(()=>{if(t.linkedTd)try{let y=[],S=0;for(let T in t.linkedTd)(t.linkedTd[T].kind==="file"||Object.keys(t.linkedTd[T]).length)&&(y.push(X.jsx("option",{value:T,children:T},S)),S++);a(y)}catch(y){console.debug(y)}},[t.linkedTd,t.offlineTD]);const E=async()=>{let y=document.getElementById("linkedTd").value;y2(t,y)};return X.jsxs(X.Fragment,{children:[X.jsx("div",{className:"h-[5%] bg-[#1e1e1e]",children:t.offlineTD&&t.linkedTd&&X.jsx("select",{name:"linkedTd",id:"linkedTd",className:"w-[50%] bg-[#1e1e1e] text-white",onChange:()=>E(),children:s})}),X.jsx("div",{className:"h-[95%] w-full",children:X.jsx(R8,{options:oue,theme:"vs-dark",language:"json",value:l,beforeMount:_,onMount:v,onChange:p})})]})},si=({children:e,variant:t="primary",className:r="",type:n="button",onClick:i,id:o,disabled:s})=>{const a="cursor-pointer rounded-md p-2 text-sm font-bold",l={primary:"bg-blue-500 text-white hover:bg-blue-600",secondary:"bg-gray-500 text-white hover:bg-gray-600",empty:""};return X.jsx("button",{id:o,className:`${a} ${l[t]} ${r}`,onClick:i,type:n,disabled:s,children:e})},xa=e=>{const t=e.title??"Default Title",r=e.description??"Default description, please override.",n=e.children??X.jsx(X.Fragment,{}),i=e.leftButton??"Cancel",o=e.onHandleEventLeftButton??(()=>{}),s=e.rightButton??"Submit",a=e.onHandleEventRightButton??(()=>{}),l=e.auxiliaryButton??!1,u=e.onHandleEventAuxiliaryButton??(()=>{}),f=e.hasSubmit??!0,c=e.className??"lg:w-[40%]";let h={};return window.onkeydown=function(m){var g,_;h[m.key]=!0,h.Control&&h.Enter?(g=document.getElementById("submitButton"))==null||g.click():h.Escape&&((_=document.getElementById("cancelButton"))==null||_.click())},window.onkeyup=function(m){h[m.key]=!1},X.jsx(X.Fragment,{children:X.jsx("div",{className:"absolute left-0 top-0 z-10 flex h-full w-full items-center justify-center bg-black bg-opacity-80 text-white",children:X.jsxs("div",{className:`flex max-h-[95%] w-[80%] flex-col justify-start rounded-xl bg-gray-500 p-4 shadow-xl ${c}`,children:[X.jsx("div",{className:"flex flex-row items-center justify-start",children:X.jsx("h1",{className:"flex-grow pl-2 text-2xl font-bold",children:t})}),X.jsx("h2",{className:"py-2 pl-2 text-gray-400",children:r}),X.jsx("div",{className:"overflow-auto p-2",children:n}),X.jsxs("div",{className:"flex justify-end p-2 pt-4",children:[s!=="OK"&&X.jsx(si,{id:"leftButton",onClick:()=>o(),variant:"primary",type:"button",className:"ml-2",children:i}),l&&X.jsx(si,{id:"closeButton",onClick:()=>u(),variant:"primary",type:"button",className:"ml-2 flex",children:"Close"}),f&&X.jsx(si,{id:"rightButton",onClick:()=>a(),variant:"primary",type:"button",className:"ml-2 flex",children:s})]})]})})})},Xy=Ne.forwardRef((e,t)=>{const r=Ne.useContext(Fn),[n,i]=ct.useState(()=>!1),o=e.type??"",s=o&&o[0].toUpperCase()+o.slice(1),a=e.interaction??{},l=e.interactionName??"";Ne.useImperativeHandle(t,()=>({openModal:()=>u(),close:()=>f()}));const u=()=>{i(!0)},f=()=>{i(!1)},c=_=>a.forms?nue(_,a):!1,h=_=>({action:"actions",property:"properties",event:"events",thing:"thing"})[_],m=uue(o),g=X.jsxs(X.Fragment,{children:[X.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Operations:"}),X.jsx("div",{className:"p-1",children:m}),X.jsxs("div",{className:"p-1 pt-2",children:[X.jsx("label",{htmlFor:"form-href",className:"pl-2 text-sm font-medium text-gray-400",children:"Href:"}),X.jsx("input",{type:"text",name:"form-href",id:"form-href",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"http://example.com/href",onChange:()=>{lue()}}),X.jsx("span",{id:"form-href-info",className:"pl-2 text-xs text-red-400"})]})]});return n?$a.createPortal(X.jsx(xa,{onHandleEventLeftButton:f,onHandleEventRightButton:()=>{var v,p;const _={op:k8(o).map(E=>{const y=document.getElementById("form-"+E);return y!=null&&y.checked?y.value:void 0}).filter(E=>E!==void 0),href:((p=(v=document.getElementById("form-href"))==null?void 0:v.value)==null?void 0:p.trim())||"/"};_.op.length===0?g3("You have to select at least one operation ..."):c(_)?g3("A Form for one of the selected operations already exists ..."):(r.addForm(h(o),l,_),f())},rightButton:"Add",children:g,title:`Add ${s} Form`,description:`Tell us how this ${s} can be interfaced by selecting operations below and providing an href.`}),document.getElementById("modal-root")):null}),g3=e=>{document.getElementById("form-href-info").textContent=e,document.getElementById("form-href").classList.remove("border-gray-600"),document.getElementById("form-href").classList.add("border-red-400")},lue=()=>{document.getElementById("form-href").classList.add("border-gray-600"),document.getElementById("form-href").classList.remove("border-red-400")},k8=e=>{switch(e){case"property":return["writeproperty","readproperty","observeproperty","unobserveproperty"];case"event":return["subscribeevent","unsubscribeevent"];case"action":return["invokeaction"];case"thing":return["writeallproperties","readallproperties","writemultipleproperties","readmultipleproperties","observeallproperties","unobserveallproperties"];default:return[]}},uue=e=>X.jsx("div",{className:"rounded-md bg-gray-600 p-1",children:k8(e).map(t=>cue(t))}),cue=e=>{const t=`form-${e}`;return X.jsxs("div",{className:"form-checkbox pl-2",children:[e!=="invokeaction"?X.jsx("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e}):X.jsx("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e,readOnly:e==="invokeaction",checked:e==="invokeaction"}),X.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:t,children:e})]},t)};Xy.displayName="AddFormDialog";const Vm=Math.min,Ph=Math.max,SS=Math.round,Sw=Math.floor,zu=e=>({x:e,y:e}),fue={left:"right",right:"left",bottom:"top",top:"bottom"},due={start:"end",end:"start"};function nP(e,t,r){return Ph(e,Vm(t,r))}function Qy(e,t){return typeof e=="function"?e(t):e}function qh(e){return e.split("-")[0]}function Zy(e){return e.split("-")[1]}function j8(e){return e==="x"?"y":"x"}function w2(e){return e==="y"?"height":"width"}const hue=new Set(["top","bottom"]);function qf(e){return hue.has(qh(e))?"y":"x"}function b2(e){return j8(qf(e))}function pue(e,t,r){r===void 0&&(r=!1);const n=Zy(e),i=b2(e),o=w2(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=TS(s)),[s,TS(s)]}function mue(e){const t=TS(e);return[iP(e),t,iP(t)]}function iP(e){return e.replace(/start|end/g,t=>due[t])}const v3=["left","right"],y3=["right","left"],gue=["top","bottom"],vue=["bottom","top"];function yue(e,t,r){switch(e){case"top":case"bottom":return r?t?y3:v3:t?v3:y3;case"left":case"right":return t?gue:vue;default:return[]}}function wue(e,t,r,n){const i=Zy(e);let o=yue(qh(e),r==="start",n);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(iP)))),o}function TS(e){return e.replace(/left|right|bottom|top/g,t=>fue[t])}function bue(e){return{top:0,right:0,bottom:0,left:0,...e}}function D8(e){return typeof e!="number"?bue(e):{top:e,right:e,bottom:e,left:e}}function $S(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function w3(e,t,r){let{reference:n,floating:i}=e;const o=qf(t),s=b2(t),a=w2(s),l=qh(t),u=o==="y",f=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2,h=n[a]/2-i[a]/2;let m;switch(l){case"top":m={x:f,y:n.y-i.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:c};break;case"left":m={x:n.x-i.width,y:c};break;default:m={x:n.x,y:n.y}}switch(Zy(t)){case"start":m[s]-=h*(r&&u?-1:1);break;case"end":m[s]+=h*(r&&u?-1:1);break}return m}const _ue=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=r,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:c}=w3(u,n,l),h=n,m={},g=0;for(let _=0;_<a.length;_++){const{name:v,fn:p}=a[_],{x:E,y,data:S,reset:T}=await p({x:f,y:c,initialPlacement:n,placement:h,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});f=E??f,c=y??c,m={...m,[v]:{...m[v],...S}},T&&g<=50&&(g++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(u=T.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:f,y:c}=w3(u,h,l)),_=-1)}return{x:f,y:c,placement:h,strategy:i,middlewareData:m}};async function M8(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:h=!1,padding:m=0}=Qy(t,e),g=D8(m),v=a[h?c==="floating"?"reference":"floating":c],p=$S(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),E=c==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},T=$S(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:y,strategy:l}):E);return{top:(p.top-T.top+g.top)/S.y,bottom:(T.bottom-p.bottom+g.bottom)/S.y,left:(p.left-T.left+g.left)/S.x,right:(T.right-p.right+g.right)/S.x}}const Eue=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:f=0}=Qy(e,t)||{};if(u==null)return{};const c=D8(f),h={x:r,y:n},m=b2(i),g=w2(m),_=await s.getDimensions(u),v=m==="y",p=v?"top":"left",E=v?"bottom":"right",y=v?"clientHeight":"clientWidth",S=o.reference[g]+o.reference[m]-h[m]-o.floating[g],T=h[m]-o.reference[m],$=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let d=$?$[y]:0;(!d||!await(s.isElement==null?void 0:s.isElement($)))&&(d=a.floating[y]||o.floating[g]);const x=S/2-T/2,O=d/2-_[g]/2-1,P=Vm(c[p],O),M=Vm(c[E],O),U=P,K=d-_[g]-M,ie=d/2-_[g]/2+x,G=nP(U,ie,K),ne=!l.arrow&&Zy(i)!=null&&ie!==G&&o.reference[g]/2-(ie<U?P:M)-_[g]/2<0,ge=ne?ie<U?ie-U:ie-K:0;return{[m]:h[m]+ge,data:{[m]:G,centerOffset:ie-G-ge,...ne&&{alignmentOffset:ge}},reset:ne}}}),Sue=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:_=!0,...v}=Qy(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const p=qh(i),E=qf(a),y=qh(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),T=h||(y||!_?[TS(a)]:mue(a)),$=g!=="none";!h&&$&&T.push(...wue(a,_,g,S));const d=[a,...T],x=await M8(t,v),O=[];let P=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&O.push(x[p]),c){const ie=pue(i,s,S);O.push(x[ie[0]],x[ie[1]])}if(P=[...P,{placement:i,overflows:O}],!O.every(ie=>ie<=0)){var M,U;const ie=(((M=o.flip)==null?void 0:M.index)||0)+1,G=d[ie];if(G&&(!(c==="alignment"?E!==qf(G):!1)||P.every(re=>qf(re.placement)===E?re.overflows[0]>0:!0)))return{data:{index:ie,overflows:P},reset:{placement:G}};let ne=(U=P.filter(ge=>ge.overflows[0]<=0).sort((ge,re)=>ge.overflows[1]-re.overflows[1])[0])==null?void 0:U.placement;if(!ne)switch(m){case"bestFit":{var K;const ge=(K=P.filter(re=>{if($){const se=qf(re.placement);return se===E||se==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(se=>se>0).reduce((se,D)=>se+D,0)]).sort((re,se)=>re[1]-se[1])[0])==null?void 0:K[0];ge&&(ne=ge);break}case"initialPlacement":ne=a;break}if(i!==ne)return{reset:{placement:ne}}}return{}}}},Tue=new Set(["left","top"]);async function $ue(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=qh(r),a=Zy(r),l=qf(r)==="y",u=Tue.has(s)?-1:1,f=o&&l?-1:1,c=Qy(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*f,y:h*u}:{x:h*u,y:m*f}}const xue=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await $ue(t,e);return s===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Aue=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x:p,y:E}=v;return{x:p,y:E}}},...l}=Qy(e,t),u={x:r,y:n},f=await M8(t,l),c=qf(qh(i)),h=j8(c);let m=u[h],g=u[c];if(o){const v=h==="y"?"top":"left",p=h==="y"?"bottom":"right",E=m+f[v],y=m-f[p];m=nP(E,m,y)}if(s){const v=c==="y"?"top":"left",p=c==="y"?"bottom":"right",E=g+f[v],y=g-f[p];g=nP(E,g,y)}const _=a.fn({...t,[h]:m,[c]:g});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[h]:o,[c]:s}}}}}};function U1(){return typeof window<"u"}function ig(e){return L8(e)?(e.nodeName||"").toLowerCase():"#document"}function ba(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Wu(e){var t;return(t=(L8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function L8(e){return U1()?e instanceof Node||e instanceof ba(e).Node:!1}function Yl(e){return U1()?e instanceof Element||e instanceof ba(e).Element:!1}function Hu(e){return U1()?e instanceof HTMLElement||e instanceof ba(e).HTMLElement:!1}function b3(e){return!U1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ba(e).ShadowRoot}const Oue=new Set(["inline","contents"]);function e0(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Xl(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Oue.has(i)}const Pue=new Set(["table","td","th"]);function Rue(e){return Pue.has(ig(e))}const Nue=[":popover-open",":modal"];function z1(e){return Nue.some(t=>{try{return e.matches(t)}catch{return!1}})}const Iue=["transform","translate","scale","rotate","perspective"],Cue=["transform","translate","scale","rotate","perspective","filter"],kue=["paint","layout","strict","content"];function _2(e){const t=E2(),r=Yl(e)?Xl(e):e;return Iue.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Cue.some(n=>(r.willChange||"").includes(n))||kue.some(n=>(r.contain||"").includes(n))}function jue(e){let t=ld(e);for(;Hu(t)&&!Hm(t);){if(_2(t))return t;if(z1(t))return null;t=ld(t)}return null}function E2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Due=new Set(["html","body","#document"]);function Hm(e){return Due.has(ig(e))}function Xl(e){return ba(e).getComputedStyle(e)}function q1(e){return Yl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ld(e){if(ig(e)==="html")return e;const t=e.assignedSlot||e.parentNode||b3(e)&&e.host||Wu(e);return b3(t)?t.host:t}function F8(e){const t=ld(e);return Hm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hu(t)&&e0(t)?t:F8(t)}function Ty(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=F8(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),s=ba(i);if(o){const a=oP(s);return t.concat(s,s.visualViewport||[],e0(i)?i:[],a&&r?Ty(a):[])}return t.concat(i,Ty(i,[],r))}function oP(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function B8(e){const t=Xl(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Hu(e),o=i?e.offsetWidth:r,s=i?e.offsetHeight:n,a=SS(r)!==o||SS(n)!==s;return a&&(r=o,n=s),{width:r,height:n,$:a}}function S2(e){return Yl(e)?e:e.contextElement}function Em(e){const t=S2(e);if(!Hu(t))return zu(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=B8(t);let s=(o?SS(r.width):r.width)/n,a=(o?SS(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Mue=zu(0);function U8(e){const t=ba(e);return!E2()||!t.visualViewport?Mue:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Lue(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ba(e)?!1:t}function Vh(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=S2(e);let s=zu(1);t&&(n?Yl(n)&&(s=Em(n)):s=Em(e));const a=Lue(o,r,n)?U8(o):zu(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,f=i.width/s.x,c=i.height/s.y;if(o){const h=ba(o),m=n&&Yl(n)?ba(n):n;let g=h,_=oP(g);for(;_&&n&&m!==g;){const v=Em(_),p=_.getBoundingClientRect(),E=Xl(_),y=p.left+(_.clientLeft+parseFloat(E.paddingLeft))*v.x,S=p.top+(_.clientTop+parseFloat(E.paddingTop))*v.y;l*=v.x,u*=v.y,f*=v.x,c*=v.y,l+=y,u+=S,g=ba(_),_=oP(g)}}return $S({width:f,height:c,x:l,y:u})}function V1(e,t){const r=q1(e).scrollLeft;return t?t.left+r:Vh(Wu(e)).left+r}function z8(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-V1(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function Fue(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",s=Wu(n),a=t?z1(t.floating):!1;if(n===s||a&&o)return r;let l={scrollLeft:0,scrollTop:0},u=zu(1);const f=zu(0),c=Hu(n);if((c||!c&&!o)&&((ig(n)!=="body"||e0(s))&&(l=q1(n)),Hu(n))){const m=Vh(n);u=Em(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}const h=s&&!c&&!o?z8(s,l):zu(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+f.x+h.x,y:r.y*u.y-l.scrollTop*u.y+f.y+h.y}}function Bue(e){return Array.from(e.getClientRects())}function Uue(e){const t=Wu(e),r=q1(e),n=e.ownerDocument.body,i=Ph(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Ph(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+V1(e);const a=-r.scrollTop;return Xl(n).direction==="rtl"&&(s+=Ph(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:s,y:a}}const _3=25;function zue(e,t){const r=ba(e),n=Wu(e),i=r.visualViewport;let o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const f=E2();(!f||f&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=V1(n);if(u<=0){const f=n.ownerDocument,c=f.body,h=getComputedStyle(c),m=f.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-c.clientWidth-m);g<=_3&&(o-=g)}else u<=_3&&(o+=u);return{width:o,height:s,x:a,y:l}}const que=new Set(["absolute","fixed"]);function Vue(e,t){const r=Vh(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=Hu(e)?Em(e):zu(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=n*o.y;return{width:s,height:a,x:l,y:u}}function E3(e,t,r){let n;if(t==="viewport")n=zue(e,r);else if(t==="document")n=Uue(Wu(e));else if(Yl(t))n=Vue(t,r);else{const i=U8(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return $S(n)}function q8(e,t){const r=ld(e);return r===t||!Yl(r)||Hm(r)?!1:Xl(r).position==="fixed"||q8(r,t)}function Hue(e,t){const r=t.get(e);if(r)return r;let n=Ty(e,[],!1).filter(a=>Yl(a)&&ig(a)!=="body"),i=null;const o=Xl(e).position==="fixed";let s=o?ld(e):e;for(;Yl(s)&&!Hm(s);){const a=Xl(s),l=_2(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&que.has(i.position)||e0(s)&&!l&&q8(e,s))?n=n.filter(f=>f!==s):i=a,s=ld(s)}return t.set(e,n),n}function Wue(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const s=[...r==="clippingAncestors"?z1(t)?[]:Hue(t,this._c):[].concat(r),n],a=s[0],l=s.reduce((u,f)=>{const c=E3(t,f,i);return u.top=Ph(c.top,u.top),u.right=Vm(c.right,u.right),u.bottom=Vm(c.bottom,u.bottom),u.left=Ph(c.left,u.left),u},E3(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Gue(e){const{width:t,height:r}=B8(e);return{width:t,height:r}}function Kue(e,t,r){const n=Hu(t),i=Wu(t),o=r==="fixed",s=Vh(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=zu(0);function u(){l.x=V1(i)}if(n||!n&&!o)if((ig(t)!=="body"||e0(i))&&(a=q1(t)),n){const m=Vh(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else i&&u();o&&!n&&i&&u();const f=i&&!n&&!o?z8(i,a):zu(0),c=s.left+a.scrollLeft-l.x-f.x,h=s.top+a.scrollTop-l.y-f.y;return{x:c,y:h,width:s.width,height:s.height}}function Tx(e){return Xl(e).position==="static"}function S3(e,t){if(!Hu(e)||Xl(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Wu(e)===r&&(r=r.ownerDocument.body),r}function V8(e,t){const r=ba(e);if(z1(e))return r;if(!Hu(e)){let i=ld(e);for(;i&&!Hm(i);){if(Yl(i)&&!Tx(i))return i;i=ld(i)}return r}let n=S3(e,t);for(;n&&Rue(n)&&Tx(n);)n=S3(n,t);return n&&Hm(n)&&Tx(n)&&!_2(n)?r:n||jue(e)||r}const Jue=async function(e){const t=this.getOffsetParent||V8,r=this.getDimensions,n=await r(e.floating);return{reference:Kue(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Yue(e){return Xl(e).direction==="rtl"}const Xue={convertOffsetParentRelativeRectToViewportRelativeRect:Fue,getDocumentElement:Wu,getClippingRect:Wue,getOffsetParent:V8,getElementRects:Jue,getClientRects:Bue,getDimensions:Gue,getScale:Em,isElement:Yl,isRTL:Yue};function H8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Que(e,t){let r=null,n;const i=Wu(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:f,top:c,width:h,height:m}=u;if(a||t(),!h||!m)return;const g=Sw(c),_=Sw(i.clientWidth-(f+h)),v=Sw(i.clientHeight-(c+m)),p=Sw(f),y={rootMargin:-g+"px "+-_+"px "+-v+"px "+-p+"px",threshold:Ph(0,Vm(1,l))||1};let S=!0;function T($){const d=$[0].intersectionRatio;if(d!==l){if(!S)return s();d?s(!1,d):n=setTimeout(()=>{s(!1,1e-7)},1e3)}d===1&&!H8(u,e.getBoundingClientRect())&&s(),S=!1}try{r=new IntersectionObserver(T,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver(T,y)}r.observe(e)}return s(!0),o}function Zue(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=S2(e),f=i||o?[...u?Ty(u):[],...Ty(t)]:[];f.forEach(p=>{i&&p.addEventListener("scroll",r,{passive:!0}),o&&p.addEventListener("resize",r)});const c=u&&a?Que(u,r):null;let h=-1,m=null;s&&(m=new ResizeObserver(p=>{let[E]=p;E&&E.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),r()}),u&&!l&&m.observe(u),m.observe(t));let g,_=l?Vh(e):null;l&&v();function v(){const p=Vh(e);_&&!H8(_,p)&&r(),_=p,g=requestAnimationFrame(v)}return r(),()=>{var p;f.forEach(E=>{i&&E.removeEventListener("scroll",r),o&&E.removeEventListener("resize",r)}),c==null||c(),(p=m)==null||p.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const ece=xue,tce=Aue,rce=Sue,nce=Eue,T3=(e,t,r)=>{const n=new Map,i={platform:Xue,...r},o={...i.platform,_c:n};return _ue(e,t,{...i,platform:o})};var W8={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,n(a)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)t.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(W8);var ice=W8.exports;const sP=Uc(ice);var $3={GENERATE_SOURCEMAP:"false",GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_2fedbf45-b730-4ad5-ae5b-d32769ce7c3c",npm_package_devDependencies__types_node:"^22.13.15",npm_package_dependencies_react_dropzone:"^14.3.8",DOTNET_NOLOGO:"1",npm_package_devDependencies_vitest:"^3.2.4",USER:"runner",npm_package_devDependencies__testing_library_jest_dom:"^6.8.0",npm_config_version_commit_hooks:"true",npm_config_user_agent:"yarn/1.22.22 npm/? node/v20.19.5 linux x64",CI:"true",npm_config_bin_links:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_2fedbf45-b730-4ad5-ae5b-d32769ce7c3c",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/20.19.5/x64/bin/node",npm_package_devDependencies_vite:"^5.2.0",npm_package_dependencies_direction:"^2.0.1",npm_config_init_version:"1.0.0",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",npm_package_dependencies_jsonld:"^8.3.2",HOME:"/home/runner",npm_package_browserslist_production_0:">0.2%",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_browserslist_production_1:"not dead",npm_package_dependencies_jointjs:"^3.7.7",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"eclipse",npm_package_browserslist_production_2:"not op_mini all",npm_package_dependencies_react_scan:"^0.4.3",npm_package_dependencies__monaco_editor_react:"^4.7.0",npm_config_init_license:"MIT",GRADLE_HOME:"/usr/share/gradle-9.1.0",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/28.2.13676358",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",GITHUB_RETENTION_DAYS:"90",YARN_WRAP_OUTPUT:"false",npm_package_devDependencies__types_jsonpointer:"^4.0.2",npm_config_version_tag_prefix:"v",GITHUB_REPOSITORY_OWNER_ID:"56974",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_package_dependencies_react_icons:"^5.2.1",npm_package_dependencies_react_feather:"^2.0.10",SYSTEMD_EXEC_PID:"1879",npm_package_devDependencies_eslint_plugin_react_hooks:"^4.6.0",npm_package_dependencies_ajv_errors:"^3.0.0",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",npm_package_description:"This project aims to make creating W3C Thing Description (TD) instances and Thing Model (TM) easy by providing a platform-independent ediTDor tool. The following features are addressed in this project:",npm_package_devDependencies_typescript:"^5.0.0",npm_package_devDependencies_tailwindcss:"^3.4.7",JAVA_HOME_25_X64:"/usr/lib/jvm/temurin-25-jdk-amd64",NVM_DIR:"/home/runner/.nvm",npm_package_readmeFilename:"README.md",npm_package_devDependencies__types_react_dom:"^18.2.22",npm_package_homepage:"https://eclipse.github.io/editdor/",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20250929.60.1",npm_package_devDependencies_prettier:"^3.5.3",npm_package_scripts_dev:"cross-env REACT_APP_TARGET_URL=http://localhost:8080 vite",LOGNAME:"runner",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",npm_package_devDependencies__vitejs_plugin_react:"^4.2.1",npm_package_dependencies_wot_thing_description_types:"1.1.0-12-March-2025",npm_package_dependencies_react_tooltip:"^5.26.4",npm_package_scripts_clean:"rm -rf node_modules dist build && yarn install && yarn build",npm_package_type:"module",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.12/x64",JOURNAL_STREAM:"9:10153",GITHUB_WORKFLOW:"publish-to-github-pages",_:"/usr/local/bin/yarn",npm_package_devDependencies_autoprefixer:"^10.4.19",npm_package_devDependencies__babel_preset_react:"^7.26.3",npm_package_private:"true",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/hosted-compute-agent.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.7/x64",npm_package_devDependencies__vitest_coverage_v8:"3.2.4",npm_package_scripts_lint:"eslint . --ext js,jsx --report-unused-disable-directives --max-warnings 0",npm_config_registry:"https://registry.yarnpkg.com",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GITHUB_RUN_ID:"18340990773",npm_package_devDependencies__types_lodash:"^4",npm_package_devDependencies__babel_core:"^7.26.10",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"a9b9ee37b31730857b9fd798b667bce646070fee",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",npm_package_devDependencies_eslint_plugin_react_refresh:"^0.4.6",npm_package_dependencies_tailwind_merge:"^3.3.1",npm_config_ignore_scripts:"",GITHUB_WORKFLOW_REF:"eclipse/editdor/.github/workflows/publish-to-gh-pages.yml@refs/heads/master",GITHUB_ACTION_REPOSITORY:"",ENABLE_RUNNER_TRACING:"true",npm_package_browserslist_development_0:"last 1 chrome version",npm_package_devDependencies_prettier_plugin_tailwindcss:"^0.6.11",npm_package_dependencies_jsonpointer:"^5.0.1",npm_package_author_email:"editdor-dev@eclipse.org",PATH:"/tmp/yarn--1759917698742-0.13305202466454014:/home/runner/work/editdor/editdor/node_modules/.bin:/home/runner/.config/yarn/link/node_modules/.bin:/opt/hostedtoolcache/node/20.19.5/x64/libexec/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.5/x64/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.5/x64/bin/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.5/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",NODE:"/opt/hostedtoolcache/node/20.19.5/x64/bin/node",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_7e6cad9c-9efa-4912-a2f9-aec2c51fb5e1",INVOCATION_ID:"21689a375c9c424fb9fec6295c4d9ce1",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",npm_package_browserslist_development_1:"last 1 firefox version",npm_package_devDependencies__babel_eslint_parser:"^7.27.0",npm_package_repository_type:"git",npm_package_name:"editdor",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"93",GITHUB_TRIGGERING_ACTOR:"egekorkan",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",npm_package_browserslist_development_2:"last 1 safari version",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",npm_package_devDependencies_eslint:"^8.57.0",npm_package_dependencies_react_dom:"^18.2.0",npm_package_dependencies__types_json_schema:"^7.0.15",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1001435024",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"master",GITHUB_REPOSITORY:"eclipse/editdor",npm_lifecycle_script:"vite build",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",npm_package_scripts_test:"vitest run",npm_config_version_git_message:"v%s",SHELL:"/bin/bash",GITHUB_REPOSITORY_ID:"285060286",GITHUB_ACTIONS:"true",npm_lifecycle_event:"build",npm_package_devDependencies_jsdom:"^26.1.0",npm_package_devDependencies__types_react:"^18.2.66",npm_package_devDependencies__testing_library_react:"^16.3.0",npm_package_dependencies_ajv:"^8.17.1",npm_package_repository_url:"git+https://github.com/eclipse/editdor.git",npm_package_version:"0.7.0",GITHUB_REF_PROTECTED:"false",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_dependencies_uuid:"^13.0.0",npm_package_dependencies_ajv_formats:"^3.0.1",npm_package_scripts_build:"vite build",GITHUB_WORKSPACE:"/home/runner/work/editdor/editdor",ACCEPT_EULA:"Y",GITHUB_JOB:"publish-to-gh-pages",npm_package_dependencies_lodash:"^4.17.21",npm_package_dependencies_json_dup_key_validator:"^1.0.3",npm_package_scripts_test_coverage:"vitest run --coverage",GITHUB_SHA:"a9b9ee37b31730857b9fd798b667bce646070fee",GITHUB_RUN_ATTEMPT:"1",npm_config_version_git_tag:"true",npm_config_version_git_sign:"",GITHUB_REF:"refs/heads/master",GITHUB_ACTOR:"egekorkan",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_package_devDependencies_eslint_plugin_react:"^7.34.1",npm_package_dependencies_lz_string:"^1.5.0",npm_package_license:"EPL-2.0 OR W3C-20150513",npm_config_strict_ssl:"true",npm_package_devDependencies__types_babel__core:"^7",npm_package_dependencies_monaco_editor:"^0.52.2",npm_package_scripts_test_watch:"vitest",npm_package_scripts_format:"prettier --write .",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_2fedbf45-b730-4ad5-ae5b-d32769ce7c3c",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/editdor/editdor",GITHUB_ACTOR_ID:"20195407",RUNNER_WORKSPACE:"/home/runner/work/editdor",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",npm_package_devDependencies_wot_thing_model_types:"1.1.0-12-March-2025",npm_package_dependencies__column_resizer_react:"^1.3.0",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_2fedbf45-b730-4ad5-ae5b-d32769ce7c3c",npm_package_author_name:"Eclipse ediTDor",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_package_devDependencies_postcss:"^8.4.40",npm_package_devDependencies_cross_env:"^7.0.3",npm_config_save_prefix:"^",npm_config_ignore_optional:"",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.3.13750724",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",npm_package_scripts_preview:"vite preview",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",npm_package_dependencies_wot_typescript_definitions:"^0.8.0-SNAPSHOT.30",npm_package_dependencies_ajv_formats_draft2019:"1.6.1",npm_package_dependencies__node_wot_browser_bundle:"0.9.0",INIT_CWD:"/home/runner/work/editdor/editdor",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_2fedbf45-b730-4ad5-ae5b-d32769ce7c3c",npm_package_dependencies_react:"^18.2.0",NODE_ENV:"production"};const oce="react-tooltip-core-styles",sce="react-tooltip-base-styles",x3={core:!1,base:!1};function A3({css:e,id:t=sce,type:r="base",ref:n}){var i,o;if(!e||typeof document>"u"||x3[r]||r==="core"&&typeof process<"u"&&(!((i=process==null?void 0:$3)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||r!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:$3)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;r==="core"&&(t=oce),n||(n={});const{insertAt:s}=n;if(document.getElementById(t))return;const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",s==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),x3[r]=!0}const O3=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:r=null,place:n="top",offset:i=10,strategy:o="absolute",middlewares:s=[ece(Number(i)),rce({fallbackAxisSideDirection:"start"}),tce({padding:5})],border:a,arrowSize:l=8})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};const u=s;return r?(u.push(nce({element:r,padding:5})),T3(e,t,{placement:n,strategy:o,middleware:u}).then(({x:f,y:c,placement:h,middlewareData:m})=>{var g,_;const v={left:`${f}px`,top:`${c}px`,border:a},{x:p,y:E}=(g=m.arrow)!==null&&g!==void 0?g:{x:0,y:0},y=(_={top:"bottom",right:"left",bottom:"top",left:"right"}[h.split("-")[0]])!==null&&_!==void 0?_:"bottom",S=a&&{borderBottom:a,borderRight:a};let T=0;if(a){const $=`${a}`.match(/(\d+)px/);T=$!=null&&$[1]?Number($[1]):1}return{tooltipStyles:v,tooltipArrowStyles:{left:p!=null?`${p}px`:"",top:E!=null?`${E}px`:"",right:"",bottom:"",...S,[y]:`-${l/2+T}px`},place:h}})):T3(e,t,{placement:"bottom",strategy:o,middleware:u}).then(({x:f,y:c,placement:h})=>({tooltipStyles:{left:`${f}px`,top:`${c}px`},tooltipArrowStyles:{},place:h}))},P3=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),R3=(e,t,r)=>{let n=null;const i=function(...o){const s=()=>{n=null};!n&&(e.apply(this,o),n=setTimeout(s,t))};return i.cancel=()=>{n&&(clearTimeout(n),n=null)},i},N3=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",aP=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,o)=>aP(i,t[o]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!N3(e)||!N3(t))return e===t;const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(i=>aP(e[i],t[i]))},ace=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(r=>{const n=t.getPropertyValue(r);return n==="auto"||n==="scroll"})},I3=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(ace(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},lce=typeof window<"u"?Ne.useLayoutEffect:Ne.useEffect,qa=e=>{e.current&&(clearTimeout(e.current),e.current=null)},uce="DEFAULT_TOOLTIP_ID",cce={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},fce=Ne.createContext({getTooltipData:()=>cce});function G8(e=uce){return Ne.useContext(fce).getTooltipData(e)}var Ap={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},$x={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const dce=({forwardRef:e,id:t,className:r,classNameArrow:n,variant:i="dark",anchorId:o,anchorSelect:s,place:a="top",offset:l=10,events:u=["hover"],openOnClick:f=!1,positionStrategy:c="absolute",middlewares:h,wrapper:m,delayShow:g=0,delayHide:_=0,float:v=!1,hidden:p=!1,noArrow:E=!1,clickable:y=!1,closeOnEsc:S=!1,closeOnScroll:T=!1,closeOnResize:$=!1,openEvents:d,closeEvents:x,globalCloseEvents:O,imperativeModeOnly:P,style:M,position:U,afterShow:K,afterHide:ie,disableTooltip:G,content:ne,contentWrapperRef:ge,isOpen:re,defaultIsOpen:se=!1,setIsOpen:D,activeAnchor:z,setActiveAnchor:Y,border:N,opacity:I,arrowColor:q,arrowSize:ae=8,role:Z="tooltip"})=>{var te;const ue=Ne.useRef(null),xe=Ne.useRef(null),Le=Ne.useRef(null),C=Ne.useRef(null),F=Ne.useRef(null),[L,ee]=Ne.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[ce,me]=Ne.useState(!1),[ve,Te]=Ne.useState(!1),[De,Ge]=Ne.useState(null),Ve=Ne.useRef(!1),ht=Ne.useRef(null),{anchorRefs:tt,setActiveAnchor:Xe}=G8(t),Q=Ne.useRef(!1),[k,B]=Ne.useState([]),le=Ne.useRef(!1),Ee=f||u.includes("click"),Pe=Ee||(d==null?void 0:d.click)||(d==null?void 0:d.dblclick)||(d==null?void 0:d.mousedown),qe=d?{...d}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!d&&Ee&&Object.assign(qe,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Be=x?{...x}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!x&&Ee&&Object.assign(Be,{mouseleave:!1,blur:!1,mouseout:!1});const Ye=O?{...O}:{escape:S||!1,scroll:T||!1,resize:$||!1,clickOutsideAnchor:Pe||!1};P&&(Object.assign(qe,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Be,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Ye,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),lce(()=>(le.current=!0,()=>{le.current=!1}),[]);const gt=ut=>{le.current&&(ut&&Te(!0),setTimeout(()=>{le.current&&(D==null||D(ut),re===void 0&&me(ut))},10))};Ne.useEffect(()=>{if(re===void 0)return()=>null;re&&Te(!0);const ut=setTimeout(()=>{me(re)},10);return()=>{clearTimeout(ut)}},[re]),Ne.useEffect(()=>{if(ce!==Ve.current)if(qa(F),Ve.current=ce,ce)K==null||K();else{const ut=(Ut=>{const Bt=Ut.match(/^([\d.]+)(ms|s)$/);if(!Bt)return 0;const[,we,he]=Bt;return Number(we)*(he==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));F.current=setTimeout(()=>{Te(!1),Ge(null),ie==null||ie()},ut+25)}},[ce]);const Ot=ut=>{ee(Ut=>aP(Ut,ut)?Ut:ut)},yt=(ut=g)=>{qa(Le),ve?gt(!0):Le.current=setTimeout(()=>{gt(!0)},ut)},Xt=(ut=_)=>{qa(C),C.current=setTimeout(()=>{Q.current||gt(!1)},ut)},Xr=ut=>{var Ut;if(!ut)return;const Bt=(Ut=ut.currentTarget)!==null&&Ut!==void 0?Ut:ut.target;if(!(Bt!=null&&Bt.isConnected))return Y(null),void Xe({current:null});g?yt():gt(!0),Y(Bt),Xe({current:Bt}),qa(C)},tn=()=>{y?Xt(_||100):_?Xt():gt(!1),qa(Le)},Tr=({x:ut,y:Ut})=>{var Bt;const we={getBoundingClientRect:()=>({x:ut,y:Ut,width:0,height:0,top:Ut,left:ut,right:ut,bottom:Ut})};O3({place:(Bt=De==null?void 0:De.place)!==null&&Bt!==void 0?Bt:a,offset:l,elementReference:we,tooltipReference:ue.current,tooltipArrowReference:xe.current,strategy:c,middlewares:h,border:N,arrowSize:ae}).then(he=>{Ot(he)})},Rr=ut=>{if(!ut)return;const Ut=ut,Bt={x:Ut.clientX,y:Ut.clientY};Tr(Bt),ht.current=Bt},jn=ut=>{var Ut;if(!ce)return;const Bt=ut.target;Bt.isConnected&&(!((Ut=ue.current)===null||Ut===void 0)&&Ut.contains(Bt)||[document.querySelector(`[id='${o}']`),...k].some(we=>we==null?void 0:we.contains(Bt))||(gt(!1),qa(Le)))},_r=R3(Xr,50),Qt=R3(tn,50),hr=ut=>{Qt.cancel(),_r(ut)},Oe=()=>{_r.cancel(),Qt()},je=Ne.useCallback(()=>{var ut,Ut;const Bt=(ut=De==null?void 0:De.position)!==null&&ut!==void 0?ut:U;Bt?Tr(Bt):v?ht.current&&Tr(ht.current):z!=null&&z.isConnected&&O3({place:(Ut=De==null?void 0:De.place)!==null&&Ut!==void 0?Ut:a,offset:l,elementReference:z,tooltipReference:ue.current,tooltipArrowReference:xe.current,strategy:c,middlewares:h,border:N,arrowSize:ae}).then(we=>{le.current&&Ot(we)})},[ce,z,ne,M,a,De==null?void 0:De.place,l,c,U,De==null?void 0:De.position,v,ae]);Ne.useEffect(()=>{var ut,Ut;const Bt=new Set(tt);k.forEach(Ft=>{G!=null&&G(Ft)||Bt.add({current:Ft})});const we=document.querySelector(`[id='${o}']`);we&&!(G!=null&&G(we))&&Bt.add({current:we});const he=()=>{gt(!1)},Se=I3(z),Me=I3(ue.current);Ye.scroll&&(window.addEventListener("scroll",he),Se==null||Se.addEventListener("scroll",he),Me==null||Me.addEventListener("scroll",he));let ke=null;Ye.resize?window.addEventListener("resize",he):z&&ue.current&&(ke=Zue(z,ue.current,je,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const pt=Ft=>{Ft.key==="Escape"&&gt(!1)};Ye.escape&&window.addEventListener("keydown",pt),Ye.clickOutsideAnchor&&window.addEventListener("click",jn);const ft=[],Mt=Ft=>!!(Ft!=null&&Ft.target&&(z!=null&&z.contains(Ft.target))),Kt=Ft=>{ce&&Mt(Ft)||Xr(Ft)},Zt=Ft=>{ce&&Mt(Ft)&&tn()},Dt=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],qt=["click","dblclick","mousedown","mouseup"];Object.entries(qe).forEach(([Ft,Yt])=>{Yt&&(Dt.includes(Ft)?ft.push({event:Ft,listener:hr}):qt.includes(Ft)&&ft.push({event:Ft,listener:Kt}))}),Object.entries(Be).forEach(([Ft,Yt])=>{Yt&&(Dt.includes(Ft)?ft.push({event:Ft,listener:Oe}):qt.includes(Ft)&&ft.push({event:Ft,listener:Zt}))}),v&&ft.push({event:"pointermove",listener:Rr});const ur=()=>{Q.current=!0},Nt=()=>{Q.current=!1,tn()},ir=y&&(Be.mouseout||Be.mouseleave);return ir&&((ut=ue.current)===null||ut===void 0||ut.addEventListener("mouseover",ur),(Ut=ue.current)===null||Ut===void 0||Ut.addEventListener("mouseout",Nt)),ft.forEach(({event:Ft,listener:Yt})=>{Bt.forEach(pn=>{var un;(un=pn.current)===null||un===void 0||un.addEventListener(Ft,Yt)})}),()=>{var Ft,Yt;Ye.scroll&&(window.removeEventListener("scroll",he),Se==null||Se.removeEventListener("scroll",he),Me==null||Me.removeEventListener("scroll",he)),Ye.resize?window.removeEventListener("resize",he):ke==null||ke(),Ye.clickOutsideAnchor&&window.removeEventListener("click",jn),Ye.escape&&window.removeEventListener("keydown",pt),ir&&((Ft=ue.current)===null||Ft===void 0||Ft.removeEventListener("mouseover",ur),(Yt=ue.current)===null||Yt===void 0||Yt.removeEventListener("mouseout",Nt)),ft.forEach(({event:pn,listener:un})=>{Bt.forEach(mn=>{var Hn;(Hn=mn.current)===null||Hn===void 0||Hn.removeEventListener(pn,un)})})}},[z,je,ve,tt,k,d,x,O,Ee,g,_]),Ne.useEffect(()=>{var ut,Ut;let Bt=(Ut=(ut=De==null?void 0:De.anchorSelect)!==null&&ut!==void 0?ut:s)!==null&&Ut!==void 0?Ut:"";!Bt&&t&&(Bt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const we=new MutationObserver(he=>{const Se=[],Me=[];he.forEach(ke=>{if(ke.type==="attributes"&&ke.attributeName==="data-tooltip-id"&&(ke.target.getAttribute("data-tooltip-id")===t?Se.push(ke.target):ke.oldValue===t&&Me.push(ke.target)),ke.type==="childList"){if(z){const pt=[...ke.removedNodes].filter(ft=>ft.nodeType===1);if(Bt)try{Me.push(...pt.filter(ft=>ft.matches(Bt))),Me.push(...pt.flatMap(ft=>[...ft.querySelectorAll(Bt)]))}catch{}pt.some(ft=>{var Mt;return!!(!((Mt=ft==null?void 0:ft.contains)===null||Mt===void 0)&&Mt.call(ft,z))&&(Te(!1),gt(!1),Y(null),qa(Le),qa(C),!0)})}if(Bt)try{const pt=[...ke.addedNodes].filter(ft=>ft.nodeType===1);Se.push(...pt.filter(ft=>ft.matches(Bt))),Se.push(...pt.flatMap(ft=>[...ft.querySelectorAll(Bt)]))}catch{}}}),(Se.length||Me.length)&&B(ke=>[...ke.filter(pt=>!Me.includes(pt)),...Se])});return we.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{we.disconnect()}},[t,s,De==null?void 0:De.anchorSelect,z]),Ne.useEffect(()=>{je()},[je]),Ne.useEffect(()=>{if(!(ge!=null&&ge.current))return()=>null;const ut=new ResizeObserver(()=>{setTimeout(()=>je())});return ut.observe(ge.current),()=>{ut.disconnect()}},[ne,ge==null?void 0:ge.current]),Ne.useEffect(()=>{var ut;const Ut=document.querySelector(`[id='${o}']`),Bt=[...k,Ut];z&&Bt.includes(z)||Y((ut=k[0])!==null&&ut!==void 0?ut:Ut)},[o,k,z]),Ne.useEffect(()=>(se&&gt(!0),()=>{qa(Le),qa(C)}),[]),Ne.useEffect(()=>{var ut;let Ut=(ut=De==null?void 0:De.anchorSelect)!==null&&ut!==void 0?ut:s;if(!Ut&&t&&(Ut=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),Ut)try{const Bt=Array.from(document.querySelectorAll(Ut));B(Bt)}catch{B([])}},[t,s,De==null?void 0:De.anchorSelect]),Ne.useEffect(()=>{Le.current&&(qa(Le),yt(g))},[g]);const bt=(te=De==null?void 0:De.content)!==null&&te!==void 0?te:ne,$t=ce&&Object.keys(L.tooltipStyles).length>0;return Ne.useImperativeHandle(e,()=>({open:ut=>{if(ut!=null&&ut.anchorSelect)try{document.querySelector(ut.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${ut.anchorSelect}" is not a valid CSS selector`)}Ge(ut??null),ut!=null&&ut.delay?yt(ut.delay):gt(!0)},close:ut=>{ut!=null&&ut.delay?Xt(ut.delay):gt(!1)},activeAnchor:z,place:L.place,isOpen:!!(ve&&!p&&bt&&$t)})),ve&&!p&&bt?ct.createElement(m,{id:t,role:Z,className:sP("react-tooltip",Ap.tooltip,$x.tooltip,$x[i],r,`react-tooltip__place-${L.place}`,Ap[$t?"show":"closing"],$t?"react-tooltip__show":"react-tooltip__closing",c==="fixed"&&Ap.fixed,y&&Ap.clickable),onTransitionEnd:ut=>{qa(F),ce||ut.propertyName!=="opacity"||(Te(!1),Ge(null),ie==null||ie())},style:{...M,...L.tooltipStyles,opacity:I!==void 0&&$t?I:void 0},ref:ue},bt,ct.createElement(m,{className:sP("react-tooltip-arrow",Ap.arrow,$x.arrow,n,E&&Ap.noArrow),style:{...L.tooltipArrowStyles,background:q?`linear-gradient(to right bottom, transparent 50%, ${q} 50%)`:void 0,"--rt-arrow-size":`${ae}px`},ref:xe})):null},hce=({content:e})=>ct.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),pce=ct.forwardRef(({id:e,anchorId:t,anchorSelect:r,content:n,html:i,render:o,className:s,classNameArrow:a,variant:l="dark",place:u="top",offset:f=10,wrapper:c="div",children:h=null,events:m=["hover"],openOnClick:g=!1,positionStrategy:_="absolute",middlewares:v,delayShow:p=0,delayHide:E=0,float:y=!1,hidden:S=!1,noArrow:T=!1,clickable:$=!1,closeOnEsc:d=!1,closeOnScroll:x=!1,closeOnResize:O=!1,openEvents:P,closeEvents:M,globalCloseEvents:U,imperativeModeOnly:K=!1,style:ie,position:G,isOpen:ne,defaultIsOpen:ge=!1,disableStyleInjection:re=!1,border:se,opacity:D,arrowColor:z,arrowSize:Y,setIsOpen:N,afterShow:I,afterHide:q,disableTooltip:ae,role:Z="tooltip"},te)=>{const[ue,xe]=Ne.useState(n),[Le,C]=Ne.useState(i),[F,L]=Ne.useState(u),[ee,ce]=Ne.useState(l),[me,ve]=Ne.useState(f),[Te,De]=Ne.useState(p),[Ge,Ve]=Ne.useState(E),[ht,tt]=Ne.useState(y),[Xe,Q]=Ne.useState(S),[k,B]=Ne.useState(c),[le,Ee]=Ne.useState(m),[Pe,qe]=Ne.useState(_),[Be,Ye]=Ne.useState(null),[gt,Ot]=Ne.useState(null),yt=Ne.useRef(re),{anchorRefs:Xt,activeAnchor:Xr}=G8(e),tn=Qt=>Qt==null?void 0:Qt.getAttributeNames().reduce((hr,Oe)=>{var je;return Oe.startsWith("data-tooltip-")&&(hr[Oe.replace(/^data-tooltip-/,"")]=(je=Qt==null?void 0:Qt.getAttribute(Oe))!==null&&je!==void 0?je:null),hr},{}),Tr=Qt=>{const hr={place:Oe=>{var je;L((je=Oe)!==null&&je!==void 0?je:u)},content:Oe=>{xe(Oe??n)},html:Oe=>{C(Oe??i)},variant:Oe=>{var je;ce((je=Oe)!==null&&je!==void 0?je:l)},offset:Oe=>{ve(Oe===null?f:Number(Oe))},wrapper:Oe=>{var je;B((je=Oe)!==null&&je!==void 0?je:c)},events:Oe=>{const je=Oe==null?void 0:Oe.split(" ");Ee(je??m)},"position-strategy":Oe=>{var je;qe((je=Oe)!==null&&je!==void 0?je:_)},"delay-show":Oe=>{De(Oe===null?p:Number(Oe))},"delay-hide":Oe=>{Ve(Oe===null?E:Number(Oe))},float:Oe=>{tt(Oe===null?y:Oe==="true")},hidden:Oe=>{Q(Oe===null?S:Oe==="true")},"class-name":Oe=>{Ye(Oe)}};Object.values(hr).forEach(Oe=>Oe(null)),Object.entries(Qt).forEach(([Oe,je])=>{var bt;(bt=hr[Oe])===null||bt===void 0||bt.call(hr,je)})};Ne.useEffect(()=>{xe(n)},[n]),Ne.useEffect(()=>{C(i)},[i]),Ne.useEffect(()=>{L(u)},[u]),Ne.useEffect(()=>{ce(l)},[l]),Ne.useEffect(()=>{ve(f)},[f]),Ne.useEffect(()=>{De(p)},[p]),Ne.useEffect(()=>{Ve(E)},[E]),Ne.useEffect(()=>{tt(y)},[y]),Ne.useEffect(()=>{Q(S)},[S]),Ne.useEffect(()=>{qe(_)},[_]),Ne.useEffect(()=>{yt.current!==re&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[re]),Ne.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:re==="core",disableBase:re}}))},[]),Ne.useEffect(()=>{var Qt;const hr=new Set(Xt);let Oe=r;if(!Oe&&e&&(Oe=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Oe)try{document.querySelectorAll(Oe).forEach(Ut=>{hr.add({current:Ut})})}catch{console.warn(`[react-tooltip] "${Oe}" is not a valid CSS selector`)}const je=document.querySelector(`[id='${t}']`);if(je&&hr.add({current:je}),!hr.size)return()=>null;const bt=(Qt=gt??je)!==null&&Qt!==void 0?Qt:Xr.current,$t=new MutationObserver(Ut=>{Ut.forEach(Bt=>{var we;if(!bt||Bt.type!=="attributes"||!(!((we=Bt.attributeName)===null||we===void 0)&&we.startsWith("data-tooltip-")))return;const he=tn(bt);Tr(he)})}),ut={attributes:!0,childList:!1,subtree:!1};if(bt){const Ut=tn(bt);Tr(Ut),$t.observe(bt,ut)}return()=>{$t.disconnect()}},[Xt,Xr,gt,t,r]),Ne.useEffect(()=>{ie!=null&&ie.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),se&&!P3("border",`${se}`)&&console.warn(`[react-tooltip] "${se}" is not a valid \`border\`.`),ie!=null&&ie.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),D&&!P3("opacity",`${D}`)&&console.warn(`[react-tooltip] "${D}" is not a valid \`opacity\`.`)},[]);let Rr=h;const jn=Ne.useRef(null);if(o){const Qt=o({content:(gt==null?void 0:gt.getAttribute("data-tooltip-content"))||ue||null,activeAnchor:gt});Rr=Qt?ct.createElement("div",{ref:jn,className:"react-tooltip-content-wrapper"},Qt):null}else ue&&(Rr=ue);Le&&(Rr=ct.createElement(hce,{content:Le}));const _r={forwardRef:te,id:e,anchorId:t,anchorSelect:r,className:sP(s,Be),classNameArrow:a,content:Rr,contentWrapperRef:jn,place:F,variant:ee,offset:me,wrapper:k,events:le,openOnClick:g,positionStrategy:Pe,middlewares:v,delayShow:Te,delayHide:Ge,float:ht,hidden:Xe,noArrow:T,clickable:$,closeOnEsc:d,closeOnScroll:x,closeOnResize:O,openEvents:P,closeEvents:M,globalCloseEvents:U,imperativeModeOnly:K,style:ie,position:G,isOpen:ne,defaultIsOpen:ge,border:se,opacity:D,arrowColor:z,arrowSize:Y,setIsOpen:N,afterShow:I,afterHide:q,disableTooltip:ae,activeAnchor:gt,setActiveAnchor:Qt=>Ot(Qt),role:Z};return ct.createElement(dce,{..._r})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||A3({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||A3({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Up=e=>X.jsxs(X.Fragment,{children:[X.jsx("a",{"data-tooltip-id":e.id,"data-tooltip-html":e.html,className:e.className,children:X.jsx(e.IconComponent,{color:e.color??"grey",size:e.size??"16"})}),X.jsx(pce,{id:e.id,place:"top",className:"z-10"})]});var K8={exports:{}},mce="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gce=mce,vce=gce;function J8(){}function Y8(){}Y8.resetWarningCache=J8;var yce=function(){function e(n,i,o,s,a,l){if(l!==vce){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Y8,resetWarningCache:J8};return r.PropTypes=r,r};K8.exports=yce();var wce=K8.exports;const mt=Uc(wce);function lP(){return lP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lP.apply(this,arguments)}function bce(e,t){if(e==null)return{};var r=_ce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _ce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Hh=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=bce(e,["color","size"]);return ct.createElement("svg",lP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),ct.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),ct.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});Hh.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};Hh.displayName="AlertTriangle";function uP(){return uP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uP.apply(this,arguments)}function Ece(e,t){if(e==null)return{};var r=Sce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var T2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Ece(e,["color","size"]);return ct.createElement("svg",uP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),ct.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))});T2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};T2.displayName="CheckCircle";function cP(){return cP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cP.apply(this,arguments)}function Tce(e,t){if(e==null)return{};var r=$ce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var t0=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Tce(e,["color","size"]);return ct.createElement("svg",cP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"20 6 9 17 4 12"}))});t0.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};t0.displayName="Check";function fP(){return fP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fP.apply(this,arguments)}function xce(e,t){if(e==null)return{};var r=Ace(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ace(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var us=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=xce(e,["color","size"]);return ct.createElement("svg",fP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"6 9 12 15 18 9"}))});us.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};us.displayName="ChevronDown";function dP(){return dP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dP.apply(this,arguments)}function Oce(e,t){if(e==null)return{};var r=Pce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var $2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Oce(e,["color","size"]);return ct.createElement("svg",dP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"9 18 15 12 9 6"}))});$2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};$2.displayName="ChevronRight";function hP(){return hP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hP.apply(this,arguments)}function Rce(e,t){if(e==null)return{};var r=Nce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var bh=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Rce(e,["color","size"]);return ct.createElement("svg",hP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"18 15 12 9 6 15"}))});bh.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};bh.displayName="ChevronUp";function pP(){return pP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pP.apply(this,arguments)}function Ice(e,t){if(e==null)return{};var r=Cce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var x2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Ice(e,["color","size"]);return ct.createElement("svg",pP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),ct.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});x2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};x2.displayName="Copy";function mP(){return mP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mP.apply(this,arguments)}function kce(e,t){if(e==null)return{};var r=jce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var A2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=kce(e,["color","size"]);return ct.createElement("svg",mP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),ct.createElement("polyline",{points:"7 10 12 15 17 10"}),ct.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});A2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};A2.displayName="Download";function gP(){return gP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gP.apply(this,arguments)}function Dce(e,t){if(e==null)return{};var r=Mce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var O2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Dce(e,["color","size"]);return ct.createElement("svg",gP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),ct.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});O2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};O2.displayName="Edit";function vP(){return vP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vP.apply(this,arguments)}function Lce(e,t){if(e==null)return{};var r=Fce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var P2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Lce(e,["color","size"]);return ct.createElement("svg",vP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),ct.createElement("polyline",{points:"15 3 21 3 21 9"}),ct.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))});P2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};P2.displayName="ExternalLink";function yP(){return yP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yP.apply(this,arguments)}function Bce(e,t){if(e==null)return{};var r=Uce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var R2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Bce(e,["color","size"]);return ct.createElement("svg",yP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),ct.createElement("polyline",{points:"14 2 14 8 20 8"}),ct.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),ct.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}))});R2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};R2.displayName="FilePlus";function wP(){return wP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wP.apply(this,arguments)}function zce(e,t){if(e==null)return{};var r=qce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var N2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=zce(e,["color","size"]);return ct.createElement("svg",wP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),ct.createElement("polyline",{points:"14 2 14 8 20 8"}),ct.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),ct.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),ct.createElement("polyline",{points:"10 9 9 9 8 9"}))});N2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};N2.displayName="FileText";function bP(){return bP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bP.apply(this,arguments)}function Vce(e,t){if(e==null)return{};var r=Hce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var I2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Vce(e,["color","size"]);return ct.createElement("svg",bP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),ct.createElement("polyline",{points:"13 2 13 9 20 9"}))});I2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};I2.displayName="File";function _P(){return _P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_P.apply(this,arguments)}function Wce(e,t){if(e==null)return{};var r=Gce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var C2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Wce(e,["color","size"]);return ct.createElement("svg",_P({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))});C2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};C2.displayName="GitHub";function EP(){return EP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EP.apply(this,arguments)}function Kce(e,t){if(e==null)return{};var r=Jce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var r0=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Kce(e,["color","size"]);return ct.createElement("svg",EP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("circle",{cx:"12",cy:"12",r:"10"}),ct.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),ct.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))});r0.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};r0.displayName="Info";function SP(){return SP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SP.apply(this,arguments)}function Yce(e,t){if(e==null)return{};var r=Xce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var k2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Yce(e,["color","size"]);return ct.createElement("svg",SP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),ct.createElement("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}))});k2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};k2.displayName="Link";function TP(){return TP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TP.apply(this,arguments)}function Qce(e,t){if(e==null)return{};var r=Zce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var j2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Qce(e,["color","size"]);return ct.createElement("svg",TP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});j2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};j2.displayName="Minus";function $P(){return $P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$P.apply(this,arguments)}function efe(e,t){if(e==null)return{};var r=tfe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var D2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=efe(e,["color","size"]);return ct.createElement("svg",$P({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("circle",{cx:"12",cy:"12",r:"10"}),ct.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),ct.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});D2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};D2.displayName="PlusCircle";function xP(){return xP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xP.apply(this,arguments)}function rfe(e,t){if(e==null)return{};var r=nfe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var M2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=rfe(e,["color","size"]);return ct.createElement("svg",xP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),ct.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});M2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};M2.displayName="Plus";function AP(){return AP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AP.apply(this,arguments)}function ife(e,t){if(e==null)return{};var r=ofe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ofe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var L2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=ife(e,["color","size"]);return ct.createElement("svg",AP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"1 4 1 10 7 10"}),ct.createElement("polyline",{points:"23 20 23 14 17 14"}),ct.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});L2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};L2.displayName="RefreshCcw";function OP(){return OP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OP.apply(this,arguments)}function sfe(e,t){if(e==null)return{};var r=afe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function afe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var n0=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=sfe(e,["color","size"]);return ct.createElement("svg",OP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"23 4 23 10 17 10"}),ct.createElement("polyline",{points:"1 20 1 14 7 14"}),ct.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}))});n0.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};n0.displayName="RefreshCw";function PP(){return PP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PP.apply(this,arguments)}function lfe(e,t){if(e==null)return{};var r=ufe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ufe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var F2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=lfe(e,["color","size"]);return ct.createElement("svg",PP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"1 4 1 10 7 10"}),ct.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});F2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};F2.displayName="RotateCcw";function RP(){return RP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RP.apply(this,arguments)}function cfe(e,t){if(e==null)return{};var r=ffe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ffe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var B2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=cfe(e,["color","size"]);return ct.createElement("svg",RP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"23 4 23 10 17 10"}),ct.createElement("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"}))});B2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};B2.displayName="RotateCw";function NP(){return NP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NP.apply(this,arguments)}function dfe(e,t){if(e==null)return{};var r=hfe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var U2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=dfe(e,["color","size"]);return ct.createElement("svg",NP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("circle",{cx:"11",cy:"11",r:"8"}),ct.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});U2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};U2.displayName="Search";function IP(){return IP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IP.apply(this,arguments)}function pfe(e,t){if(e==null)return{};var r=mfe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var z2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=pfe(e,["color","size"]);return ct.createElement("svg",IP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),ct.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}))});z2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};z2.displayName="Send";function CP(){return CP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CP.apply(this,arguments)}function gfe(e,t){if(e==null)return{};var r=vfe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var q2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=gfe(e,["color","size"]);return ct.createElement("svg",CP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("circle",{cx:"12",cy:"12",r:"3"}),ct.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))});q2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};q2.displayName="Settings";function kP(){return kP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kP.apply(this,arguments)}function yfe(e,t){if(e==null)return{};var r=wfe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var V2=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=yfe(e,["color","size"]);return ct.createElement("svg",kP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),ct.createElement("polyline",{points:"16 6 12 2 8 6"}),ct.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"15"}))});V2.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};V2.displayName="Share";function jP(){return jP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jP.apply(this,arguments)}function bfe(e,t){if(e==null)return{};var r=_fe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _fe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var hd=Ne.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=bfe(e,["color","size"]);return ct.createElement("svg",jP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"3 6 5 6 21 6"}),ct.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),ct.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),ct.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});hd.propTypes={color:mt.string,size:mt.oneOfType([mt.string,mt.number])};hd.displayName="Trash2";const _a=e=>{const t=!e.tooltip.href||e.tooltip.href.trim()==="",r=!e.className||e.className.trim()===""?`flex ${e.className}`:"flex justify-center",n=()=>{t||window.open(e.tooltip.href,"_blank")};return X.jsxs("div",{className:r,children:[X.jsx("div",{className:"pr-0.5",children:e.children}),X.jsx("div",{role:"link",tabIndex:t?-1:0,onClick:n,"aria-disabled":t,className:`cursor-${t?"default":"pointer"}`,"aria-label":t?"Info":"More information",children:X.jsx(Up,{html:e.tooltip.html||"No tooltip content available",id:e.id,IconComponent:r0})}),X.jsx("div",{className:"p-1"})]})};class qc{constructor(t,r){this.html=t,this.href=r}}const Efe=()=>{const e=`<h2 class='text-lg'>Web of Things Properties</h2>
                    <p>A Property is a simple attribute of a device. The value of a Property can be readable.</p>
                    <p>writable or observable. E.g. a Property for a lamp could indicate if it is on or off.</p>
                    <br />
                    <p>Click to get more information about Properties.</p> 
                `,t="https://www.w3.org/TR/wot-thing-description/#propertyaffordance";return new qc(e,t)},Sfe=()=>{const e=`<h2 class='text-lg'>Web of Things Actions</h2>
                    <p>An Action is some kind of procedure that can be triggered on a device. An Action can</p>
                    <p>be started or cancelled. E.g. an Action for a lamp could be turning it on or off.</p>
                    <br />
                    <p>Click to get more information about Actions.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#actionaffordance";return new qc(e,t)},Tfe=()=>{const e=`<h2 class='text-lg'>Web of Things Events</h2>
                <p>An Event is an asynchronously happening information flow. An Event is observable.</p>
                <p>E.g. an Event for a lamp could fire if it gets turned on or off.</p>
                <br />
                <p>Click to get more information about Events.</p>
            `,t="https://www.w3.org/TR/wot-thing-description/#eventaffordance";return new qc(e,t)},i0=()=>{const e=`<h2 class='text-lg'>Web of Things Forms</h2>
                    <p>A Form contains all information needed to make a request to a device.</p>
                    <p>It can accompany a Property, Action, Event or a Thing itself.</p>
                    <br />
                    <p>Click to get more information about Forms.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#form";return new qc(e,t)},X8=()=>{const e=`<h2 class='text-lg'>Web of Things Link</h2>
                    <p>A link can be viewed as a statement of the form link context has a relation type resource at link target</p>
                    <p>Used to link Thing Description with other ressources.</p>
                    <br />
                    <p>Click to get more information about Links.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#link";return new qc(e,t)},Q8=()=>{const e=`<h2 class='text-lg'>Unit ID</h2>
                    <p>Slave address of the Modbus device.</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#url-terms";return new qc(e,t)},Z8=()=>{const e=`<h2 class='text-lg'>Address Offset</h2>
                    <p>Should all addresses shift by one (false) or not (true)</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#form-terms";return new qc(e,t)},e9=()=>{const e=`<h2 class='text-lg'>Endianness</h2>
                    <p>Should the words or the bytes be swapped?</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#form-terms";return new qc(e,t)},t9=()=>{const e=`<h2 class='text-lg'>Validate</h2>
                    <p>Validate the Thing Description against the WoT TD Schema.</p>
                   
                    <p>Click to get more information about the schema.</p>
                `,t="https://github.com/wot-oss/tmc/blob/main/internal/commands/validate/tmc-mandatory.schema.json";return new qc(e,t)},$fe={properties:Efe(),actions:Sfe(),events:Tfe(),forms:i0(),links:X8(),unitId:Q8(),addressOffset:Z8(),endianness:e9(),validateTM:t9()};var xfe={},Afe=Object.create,H1=Object.defineProperty,Ofe=Object.getOwnPropertyDescriptor,H2=Object.getOwnPropertyNames,Pfe=Object.getPrototypeOf,Rfe=Object.prototype.hasOwnProperty,Vn=(e,t)=>function(){return e&&(t=(0,e[H2(e)[0]])(e=0)),t},Fe=(e,t)=>function(){return t||(0,e[H2(e)[0]])((t={exports:{}}).exports,t),t.exports},Gu=(e,t)=>{for(var r in t)H1(e,r,{get:t[r],enumerable:!0})},r9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of H2(t))!Rfe.call(e,i)&&i!==r&&H1(e,i,{get:()=>t[i],enumerable:!(n=Ofe(t,i))||n.enumerable});return e},W2=(e,t,r)=>(r=e!=null?Afe(Pfe(e)):{},r9(!e||!e.__esModule?H1(r,"default",{value:e,enumerable:!0}):r,e)),hn=e=>r9(H1({},"__esModule",{value:!0}),e);function Nfe(){if(DP)return zp;DP=!0,zp.byteLength=a,zp.toByteArray=u,zp.fromByteArray=h;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function s(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=m.indexOf("=");_===-1&&(_=g);var v=_===g?0:4-_%4;return[_,v]}function a(m){var g=s(m),_=g[0],v=g[1];return(_+v)*3/4-v}function l(m,g,_){return(g+_)*3/4-_}function u(m){var g,_=s(m),v=_[0],p=_[1],E=new r(l(m,v,p)),y=0,S=p>0?v-4:v,T;for(T=0;T<S;T+=4)g=t[m.charCodeAt(T)]<<18|t[m.charCodeAt(T+1)]<<12|t[m.charCodeAt(T+2)]<<6|t[m.charCodeAt(T+3)],E[y++]=g>>16&255,E[y++]=g>>8&255,E[y++]=g&255;return p===2&&(g=t[m.charCodeAt(T)]<<2|t[m.charCodeAt(T+1)]>>4,E[y++]=g&255),p===1&&(g=t[m.charCodeAt(T)]<<10|t[m.charCodeAt(T+1)]<<4|t[m.charCodeAt(T+2)]>>2,E[y++]=g>>8&255,E[y++]=g&255),E}function f(m){return e[m>>18&63]+e[m>>12&63]+e[m>>6&63]+e[m&63]}function c(m,g,_){for(var v,p=[],E=g;E<_;E+=3)v=(m[E]<<16&16711680)+(m[E+1]<<8&65280)+(m[E+2]&255),p.push(f(v));return p.join("")}function h(m){for(var g,_=m.length,v=_%3,p=[],E=16383,y=0,S=_-v;y<S;y+=E)p.push(c(m,y,y+E>S?S:y+E));return v===1?(g=m[_-1],p.push(e[g>>2]+e[g<<4&63]+"==")):v===2&&(g=(m[_-2]<<8)+m[_-1],p.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),p.join("")}return zp}function Ife(){return MP||(MP=!0,dv.read=function(e,t,r,n,i){var o,s,a=i*8-n-1,l=(1<<a)-1,u=l>>1,f=-7,c=r?i-1:0,h=r?-1:1,m=e[t+c];for(c+=h,o=m&(1<<-f)-1,m>>=-f,f+=a;f>0;o=o*256+e[t+c],c+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=s*256+e[t+c],c+=h,f-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(m?-1:1)*s*Math.pow(2,o-n)},dv.write=function(e,t,r,n,i,o){var s,a,l,u=o*8-i-1,f=(1<<u)-1,c=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+c>=1?t+=h/l:t+=h*Math.pow(2,1-c),t*l>=2&&(s++,l/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(t*l-1)*Math.pow(2,i),s=s+c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[r+m]=a&255,m+=g,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+m]=s&255,m+=g,s/=256,u-=8);e[r+m-g]|=_*128}),dv}function Js(){if(LP)return $f;LP=!0;const e=Nfe(),t=Ife(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;$f.Buffer=s,$f.SlowBuffer=p,$f.INSPECT_MAX_BYTES=50;const n=2147483647;$f.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const Q=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf(Q,k),Q.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(Q){if(Q>n)throw new RangeError('The value "'+Q+'" is invalid for option "size"');const k=new Uint8Array(Q);return Object.setPrototypeOf(k,s.prototype),k}function s(Q,k,B){if(typeof Q=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(Q)}return a(Q,k,B)}s.poolSize=8192;function a(Q,k,B){if(typeof Q=="string")return c(Q,k);if(ArrayBuffer.isView(Q))return m(Q);if(Q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(Ge(Q,ArrayBuffer)||Q&&Ge(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ge(Q,SharedArrayBuffer)||Q&&Ge(Q.buffer,SharedArrayBuffer)))return g(Q,k,B);if(typeof Q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const le=Q.valueOf&&Q.valueOf();if(le!=null&&le!==Q)return s.from(le,k,B);const Ee=_(Q);if(Ee)return Ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Q[Symbol.toPrimitive]=="function")return s.from(Q[Symbol.toPrimitive]("string"),k,B);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}s.from=function(Q,k,B){return a(Q,k,B)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(Q){if(typeof Q!="number")throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function u(Q,k,B){return l(Q),Q<=0?o(Q):k!==void 0?typeof B=="string"?o(Q).fill(k,B):o(Q).fill(k):o(Q)}s.alloc=function(Q,k,B){return u(Q,k,B)};function f(Q){return l(Q),o(Q<0?0:v(Q)|0)}s.allocUnsafe=function(Q){return f(Q)},s.allocUnsafeSlow=function(Q){return f(Q)};function c(Q,k){if((typeof k!="string"||k==="")&&(k="utf8"),!s.isEncoding(k))throw new TypeError("Unknown encoding: "+k);const B=E(Q,k)|0;let le=o(B);const Ee=le.write(Q,k);return Ee!==B&&(le=le.slice(0,Ee)),le}function h(Q){const k=Q.length<0?0:v(Q.length)|0,B=o(k);for(let le=0;le<k;le+=1)B[le]=Q[le]&255;return B}function m(Q){if(Ge(Q,Uint8Array)){const k=new Uint8Array(Q);return g(k.buffer,k.byteOffset,k.byteLength)}return h(Q)}function g(Q,k,B){if(k<0||Q.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<k+(B||0))throw new RangeError('"length" is outside of buffer bounds');let le;return k===void 0&&B===void 0?le=new Uint8Array(Q):B===void 0?le=new Uint8Array(Q,k):le=new Uint8Array(Q,k,B),Object.setPrototypeOf(le,s.prototype),le}function _(Q){if(s.isBuffer(Q)){const k=v(Q.length)|0,B=o(k);return B.length===0||Q.copy(B,0,0,k),B}if(Q.length!==void 0)return typeof Q.length!="number"||Ve(Q.length)?o(0):h(Q);if(Q.type==="Buffer"&&Array.isArray(Q.data))return h(Q.data)}function v(Q){if(Q>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return Q|0}function p(Q){return+Q!=Q&&(Q=0),s.alloc(+Q)}s.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==s.prototype},s.compare=function(k,B){if(Ge(k,Uint8Array)&&(k=s.from(k,k.offset,k.byteLength)),Ge(B,Uint8Array)&&(B=s.from(B,B.offset,B.byteLength)),!s.isBuffer(k)||!s.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===B)return 0;let le=k.length,Ee=B.length;for(let Pe=0,qe=Math.min(le,Ee);Pe<qe;++Pe)if(k[Pe]!==B[Pe]){le=k[Pe],Ee=B[Pe];break}return le<Ee?-1:Ee<le?1:0},s.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(k,B){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return s.alloc(0);let le;if(B===void 0)for(B=0,le=0;le<k.length;++le)B+=k[le].length;const Ee=s.allocUnsafe(B);let Pe=0;for(le=0;le<k.length;++le){let qe=k[le];if(Ge(qe,Uint8Array))Pe+qe.length>Ee.length?(s.isBuffer(qe)||(qe=s.from(qe)),qe.copy(Ee,Pe)):Uint8Array.prototype.set.call(Ee,qe,Pe);else if(s.isBuffer(qe))qe.copy(Ee,Pe);else throw new TypeError('"list" argument must be an Array of Buffers');Pe+=qe.length}return Ee};function E(Q,k){if(s.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||Ge(Q,ArrayBuffer))return Q.byteLength;if(typeof Q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);const B=Q.length,le=arguments.length>2&&arguments[2]===!0;if(!le&&B===0)return 0;let Ee=!1;for(;;)switch(k){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return ce(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B*2;case"hex":return B>>>1;case"base64":return Te(Q).length;default:if(Ee)return le?-1:ce(Q).length;k=(""+k).toLowerCase(),Ee=!0}}s.byteLength=E;function y(Q,k,B){let le=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((B===void 0||B>this.length)&&(B=this.length),B<=0)||(B>>>=0,k>>>=0,B<=k))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return re(this,k,B);case"utf8":case"utf-8":return K(this,k,B);case"ascii":return ne(this,k,B);case"latin1":case"binary":return ge(this,k,B);case"base64":return U(this,k,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,k,B);default:if(le)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),le=!0}}s.prototype._isBuffer=!0;function S(Q,k,B){const le=Q[k];Q[k]=Q[B],Q[B]=le}s.prototype.swap16=function(){const k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let B=0;B<k;B+=2)S(this,B,B+1);return this},s.prototype.swap32=function(){const k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let B=0;B<k;B+=4)S(this,B,B+3),S(this,B+1,B+2);return this},s.prototype.swap64=function(){const k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let B=0;B<k;B+=8)S(this,B,B+7),S(this,B+1,B+6),S(this,B+2,B+5),S(this,B+3,B+4);return this},s.prototype.toString=function(){const k=this.length;return k===0?"":arguments.length===0?K(this,0,k):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(k){if(!s.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:s.compare(this,k)===0},s.prototype.inspect=function(){let k="";const B=$f.INSPECT_MAX_BYTES;return k=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(k+=" ... "),"<Buffer "+k+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(k,B,le,Ee,Pe){if(Ge(k,Uint8Array)&&(k=s.from(k,k.offset,k.byteLength)),!s.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(B===void 0&&(B=0),le===void 0&&(le=k?k.length:0),Ee===void 0&&(Ee=0),Pe===void 0&&(Pe=this.length),B<0||le>k.length||Ee<0||Pe>this.length)throw new RangeError("out of range index");if(Ee>=Pe&&B>=le)return 0;if(Ee>=Pe)return-1;if(B>=le)return 1;if(B>>>=0,le>>>=0,Ee>>>=0,Pe>>>=0,this===k)return 0;let qe=Pe-Ee,Be=le-B;const Ye=Math.min(qe,Be),gt=this.slice(Ee,Pe),Ot=k.slice(B,le);for(let yt=0;yt<Ye;++yt)if(gt[yt]!==Ot[yt]){qe=gt[yt],Be=Ot[yt];break}return qe<Be?-1:Be<qe?1:0};function T(Q,k,B,le,Ee){if(Q.length===0)return-1;if(typeof B=="string"?(le=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),B=+B,Ve(B)&&(B=Ee?0:Q.length-1),B<0&&(B=Q.length+B),B>=Q.length){if(Ee)return-1;B=Q.length-1}else if(B<0)if(Ee)B=0;else return-1;if(typeof k=="string"&&(k=s.from(k,le)),s.isBuffer(k))return k.length===0?-1:$(Q,k,B,le,Ee);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?Ee?Uint8Array.prototype.indexOf.call(Q,k,B):Uint8Array.prototype.lastIndexOf.call(Q,k,B):$(Q,[k],B,le,Ee);throw new TypeError("val must be string, number or Buffer")}function $(Q,k,B,le,Ee){let Pe=1,qe=Q.length,Be=k.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(Q.length<2||k.length<2)return-1;Pe=2,qe/=2,Be/=2,B/=2}function Ye(Ot,yt){return Pe===1?Ot[yt]:Ot.readUInt16BE(yt*Pe)}let gt;if(Ee){let Ot=-1;for(gt=B;gt<qe;gt++)if(Ye(Q,gt)===Ye(k,Ot===-1?0:gt-Ot)){if(Ot===-1&&(Ot=gt),gt-Ot+1===Be)return Ot*Pe}else Ot!==-1&&(gt-=gt-Ot),Ot=-1}else for(B+Be>qe&&(B=qe-Be),gt=B;gt>=0;gt--){let Ot=!0;for(let yt=0;yt<Be;yt++)if(Ye(Q,gt+yt)!==Ye(k,yt)){Ot=!1;break}if(Ot)return gt}return-1}s.prototype.includes=function(k,B,le){return this.indexOf(k,B,le)!==-1},s.prototype.indexOf=function(k,B,le){return T(this,k,B,le,!0)},s.prototype.lastIndexOf=function(k,B,le){return T(this,k,B,le,!1)};function d(Q,k,B,le){B=Number(B)||0;const Ee=Q.length-B;le?(le=Number(le),le>Ee&&(le=Ee)):le=Ee;const Pe=k.length;le>Pe/2&&(le=Pe/2);let qe;for(qe=0;qe<le;++qe){const Be=parseInt(k.substr(qe*2,2),16);if(Ve(Be))return qe;Q[B+qe]=Be}return qe}function x(Q,k,B,le){return De(ce(k,Q.length-B),Q,B,le)}function O(Q,k,B,le){return De(me(k),Q,B,le)}function P(Q,k,B,le){return De(Te(k),Q,B,le)}function M(Q,k,B,le){return De(ve(k,Q.length-B),Q,B,le)}s.prototype.write=function(k,B,le,Ee){if(B===void 0)Ee="utf8",le=this.length,B=0;else if(le===void 0&&typeof B=="string")Ee=B,le=this.length,B=0;else if(isFinite(B))B=B>>>0,isFinite(le)?(le=le>>>0,Ee===void 0&&(Ee="utf8")):(Ee=le,le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Pe=this.length-B;if((le===void 0||le>Pe)&&(le=Pe),k.length>0&&(le<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");let qe=!1;for(;;)switch(Ee){case"hex":return d(this,k,B,le);case"utf8":case"utf-8":return x(this,k,B,le);case"ascii":case"latin1":case"binary":return O(this,k,B,le);case"base64":return P(this,k,B,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,k,B,le);default:if(qe)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),qe=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(Q,k,B){return k===0&&B===Q.length?e.fromByteArray(Q):e.fromByteArray(Q.slice(k,B))}function K(Q,k,B){B=Math.min(Q.length,B);const le=[];let Ee=k;for(;Ee<B;){const Pe=Q[Ee];let qe=null,Be=Pe>239?4:Pe>223?3:Pe>191?2:1;if(Ee+Be<=B){let Ye,gt,Ot,yt;switch(Be){case 1:Pe<128&&(qe=Pe);break;case 2:Ye=Q[Ee+1],(Ye&192)===128&&(yt=(Pe&31)<<6|Ye&63,yt>127&&(qe=yt));break;case 3:Ye=Q[Ee+1],gt=Q[Ee+2],(Ye&192)===128&&(gt&192)===128&&(yt=(Pe&15)<<12|(Ye&63)<<6|gt&63,yt>2047&&(yt<55296||yt>57343)&&(qe=yt));break;case 4:Ye=Q[Ee+1],gt=Q[Ee+2],Ot=Q[Ee+3],(Ye&192)===128&&(gt&192)===128&&(Ot&192)===128&&(yt=(Pe&15)<<18|(Ye&63)<<12|(gt&63)<<6|Ot&63,yt>65535&&yt<1114112&&(qe=yt))}}qe===null?(qe=65533,Be=1):qe>65535&&(qe-=65536,le.push(qe>>>10&1023|55296),qe=56320|qe&1023),le.push(qe),Ee+=Be}return G(le)}const ie=4096;function G(Q){const k=Q.length;if(k<=ie)return String.fromCharCode.apply(String,Q);let B="",le=0;for(;le<k;)B+=String.fromCharCode.apply(String,Q.slice(le,le+=ie));return B}function ne(Q,k,B){let le="";B=Math.min(Q.length,B);for(let Ee=k;Ee<B;++Ee)le+=String.fromCharCode(Q[Ee]&127);return le}function ge(Q,k,B){let le="";B=Math.min(Q.length,B);for(let Ee=k;Ee<B;++Ee)le+=String.fromCharCode(Q[Ee]);return le}function re(Q,k,B){const le=Q.length;(!k||k<0)&&(k=0),(!B||B<0||B>le)&&(B=le);let Ee="";for(let Pe=k;Pe<B;++Pe)Ee+=ht[Q[Pe]];return Ee}function se(Q,k,B){const le=Q.slice(k,B);let Ee="";for(let Pe=0;Pe<le.length-1;Pe+=2)Ee+=String.fromCharCode(le[Pe]+le[Pe+1]*256);return Ee}s.prototype.slice=function(k,B){const le=this.length;k=~~k,B=B===void 0?le:~~B,k<0?(k+=le,k<0&&(k=0)):k>le&&(k=le),B<0?(B+=le,B<0&&(B=0)):B>le&&(B=le),B<k&&(B=k);const Ee=this.subarray(k,B);return Object.setPrototypeOf(Ee,s.prototype),Ee};function D(Q,k,B){if(Q%1!==0||Q<0)throw new RangeError("offset is not uint");if(Q+k>B)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(k,B,le){k=k>>>0,B=B>>>0,le||D(k,B,this.length);let Ee=this[k],Pe=1,qe=0;for(;++qe<B&&(Pe*=256);)Ee+=this[k+qe]*Pe;return Ee},s.prototype.readUintBE=s.prototype.readUIntBE=function(k,B,le){k=k>>>0,B=B>>>0,le||D(k,B,this.length);let Ee=this[k+--B],Pe=1;for(;B>0&&(Pe*=256);)Ee+=this[k+--B]*Pe;return Ee},s.prototype.readUint8=s.prototype.readUInt8=function(k,B){return k=k>>>0,B||D(k,1,this.length),this[k]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(k,B){return k=k>>>0,B||D(k,2,this.length),this[k]|this[k+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(k,B){return k=k>>>0,B||D(k,2,this.length),this[k]<<8|this[k+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(k,B){return k=k>>>0,B||D(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(k,B){return k=k>>>0,B||D(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},s.prototype.readBigUInt64LE=tt(function(k){k=k>>>0,C(k,"offset");const B=this[k],le=this[k+7];(B===void 0||le===void 0)&&F(k,this.length-8);const Ee=B+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24,Pe=this[++k]+this[++k]*2**8+this[++k]*2**16+le*2**24;return BigInt(Ee)+(BigInt(Pe)<<BigInt(32))}),s.prototype.readBigUInt64BE=tt(function(k){k=k>>>0,C(k,"offset");const B=this[k],le=this[k+7];(B===void 0||le===void 0)&&F(k,this.length-8);const Ee=B*2**24+this[++k]*2**16+this[++k]*2**8+this[++k],Pe=this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+le;return(BigInt(Ee)<<BigInt(32))+BigInt(Pe)}),s.prototype.readIntLE=function(k,B,le){k=k>>>0,B=B>>>0,le||D(k,B,this.length);let Ee=this[k],Pe=1,qe=0;for(;++qe<B&&(Pe*=256);)Ee+=this[k+qe]*Pe;return Pe*=128,Ee>=Pe&&(Ee-=Math.pow(2,8*B)),Ee},s.prototype.readIntBE=function(k,B,le){k=k>>>0,B=B>>>0,le||D(k,B,this.length);let Ee=B,Pe=1,qe=this[k+--Ee];for(;Ee>0&&(Pe*=256);)qe+=this[k+--Ee]*Pe;return Pe*=128,qe>=Pe&&(qe-=Math.pow(2,8*B)),qe},s.prototype.readInt8=function(k,B){return k=k>>>0,B||D(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},s.prototype.readInt16LE=function(k,B){k=k>>>0,B||D(k,2,this.length);const le=this[k]|this[k+1]<<8;return le&32768?le|4294901760:le},s.prototype.readInt16BE=function(k,B){k=k>>>0,B||D(k,2,this.length);const le=this[k+1]|this[k]<<8;return le&32768?le|4294901760:le},s.prototype.readInt32LE=function(k,B){return k=k>>>0,B||D(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},s.prototype.readInt32BE=function(k,B){return k=k>>>0,B||D(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},s.prototype.readBigInt64LE=tt(function(k){k=k>>>0,C(k,"offset");const B=this[k],le=this[k+7];(B===void 0||le===void 0)&&F(k,this.length-8);const Ee=this[k+4]+this[k+5]*2**8+this[k+6]*2**16+(le<<24);return(BigInt(Ee)<<BigInt(32))+BigInt(B+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24)}),s.prototype.readBigInt64BE=tt(function(k){k=k>>>0,C(k,"offset");const B=this[k],le=this[k+7];(B===void 0||le===void 0)&&F(k,this.length-8);const Ee=(B<<24)+this[++k]*2**16+this[++k]*2**8+this[++k];return(BigInt(Ee)<<BigInt(32))+BigInt(this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+le)}),s.prototype.readFloatLE=function(k,B){return k=k>>>0,B||D(k,4,this.length),t.read(this,k,!0,23,4)},s.prototype.readFloatBE=function(k,B){return k=k>>>0,B||D(k,4,this.length),t.read(this,k,!1,23,4)},s.prototype.readDoubleLE=function(k,B){return k=k>>>0,B||D(k,8,this.length),t.read(this,k,!0,52,8)},s.prototype.readDoubleBE=function(k,B){return k=k>>>0,B||D(k,8,this.length),t.read(this,k,!1,52,8)};function z(Q,k,B,le,Ee,Pe){if(!s.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>Ee||k<Pe)throw new RangeError('"value" argument is out of bounds');if(B+le>Q.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(k,B,le,Ee){if(k=+k,B=B>>>0,le=le>>>0,!Ee){const Be=Math.pow(2,8*le)-1;z(this,k,B,le,Be,0)}let Pe=1,qe=0;for(this[B]=k&255;++qe<le&&(Pe*=256);)this[B+qe]=k/Pe&255;return B+le},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(k,B,le,Ee){if(k=+k,B=B>>>0,le=le>>>0,!Ee){const Be=Math.pow(2,8*le)-1;z(this,k,B,le,Be,0)}let Pe=le-1,qe=1;for(this[B+Pe]=k&255;--Pe>=0&&(qe*=256);)this[B+Pe]=k/qe&255;return B+le},s.prototype.writeUint8=s.prototype.writeUInt8=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,1,255,0),this[B]=k&255,B+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,2,65535,0),this[B]=k&255,this[B+1]=k>>>8,B+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,2,65535,0),this[B]=k>>>8,this[B+1]=k&255,B+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,4,4294967295,0),this[B+3]=k>>>24,this[B+2]=k>>>16,this[B+1]=k>>>8,this[B]=k&255,B+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,4,4294967295,0),this[B]=k>>>24,this[B+1]=k>>>16,this[B+2]=k>>>8,this[B+3]=k&255,B+4};function Y(Q,k,B,le,Ee){Le(k,le,Ee,Q,B,7);let Pe=Number(k&BigInt(4294967295));Q[B++]=Pe,Pe=Pe>>8,Q[B++]=Pe,Pe=Pe>>8,Q[B++]=Pe,Pe=Pe>>8,Q[B++]=Pe;let qe=Number(k>>BigInt(32)&BigInt(4294967295));return Q[B++]=qe,qe=qe>>8,Q[B++]=qe,qe=qe>>8,Q[B++]=qe,qe=qe>>8,Q[B++]=qe,B}function N(Q,k,B,le,Ee){Le(k,le,Ee,Q,B,7);let Pe=Number(k&BigInt(4294967295));Q[B+7]=Pe,Pe=Pe>>8,Q[B+6]=Pe,Pe=Pe>>8,Q[B+5]=Pe,Pe=Pe>>8,Q[B+4]=Pe;let qe=Number(k>>BigInt(32)&BigInt(4294967295));return Q[B+3]=qe,qe=qe>>8,Q[B+2]=qe,qe=qe>>8,Q[B+1]=qe,qe=qe>>8,Q[B]=qe,B+8}s.prototype.writeBigUInt64LE=tt(function(k,B=0){return Y(this,k,B,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=tt(function(k,B=0){return N(this,k,B,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(k,B,le,Ee){if(k=+k,B=B>>>0,!Ee){const Ye=Math.pow(2,8*le-1);z(this,k,B,le,Ye-1,-Ye)}let Pe=0,qe=1,Be=0;for(this[B]=k&255;++Pe<le&&(qe*=256);)k<0&&Be===0&&this[B+Pe-1]!==0&&(Be=1),this[B+Pe]=(k/qe>>0)-Be&255;return B+le},s.prototype.writeIntBE=function(k,B,le,Ee){if(k=+k,B=B>>>0,!Ee){const Ye=Math.pow(2,8*le-1);z(this,k,B,le,Ye-1,-Ye)}let Pe=le-1,qe=1,Be=0;for(this[B+Pe]=k&255;--Pe>=0&&(qe*=256);)k<0&&Be===0&&this[B+Pe+1]!==0&&(Be=1),this[B+Pe]=(k/qe>>0)-Be&255;return B+le},s.prototype.writeInt8=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,1,127,-128),k<0&&(k=255+k+1),this[B]=k&255,B+1},s.prototype.writeInt16LE=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,2,32767,-32768),this[B]=k&255,this[B+1]=k>>>8,B+2},s.prototype.writeInt16BE=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,2,32767,-32768),this[B]=k>>>8,this[B+1]=k&255,B+2},s.prototype.writeInt32LE=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,4,2147483647,-2147483648),this[B]=k&255,this[B+1]=k>>>8,this[B+2]=k>>>16,this[B+3]=k>>>24,B+4},s.prototype.writeInt32BE=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[B]=k>>>24,this[B+1]=k>>>16,this[B+2]=k>>>8,this[B+3]=k&255,B+4},s.prototype.writeBigInt64LE=tt(function(k,B=0){return Y(this,k,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=tt(function(k,B=0){return N(this,k,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function I(Q,k,B,le,Ee,Pe){if(B+le>Q.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function q(Q,k,B,le,Ee){return k=+k,B=B>>>0,Ee||I(Q,k,B,4),t.write(Q,k,B,le,23,4),B+4}s.prototype.writeFloatLE=function(k,B,le){return q(this,k,B,!0,le)},s.prototype.writeFloatBE=function(k,B,le){return q(this,k,B,!1,le)};function ae(Q,k,B,le,Ee){return k=+k,B=B>>>0,Ee||I(Q,k,B,8),t.write(Q,k,B,le,52,8),B+8}s.prototype.writeDoubleLE=function(k,B,le){return ae(this,k,B,!0,le)},s.prototype.writeDoubleBE=function(k,B,le){return ae(this,k,B,!1,le)},s.prototype.copy=function(k,B,le,Ee){if(!s.isBuffer(k))throw new TypeError("argument should be a Buffer");if(le||(le=0),!Ee&&Ee!==0&&(Ee=this.length),B>=k.length&&(B=k.length),B||(B=0),Ee>0&&Ee<le&&(Ee=le),Ee===le||k.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(le<0||le>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),k.length-B<Ee-le&&(Ee=k.length-B+le);const Pe=Ee-le;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(B,le,Ee):Uint8Array.prototype.set.call(k,this.subarray(le,Ee),B),Pe},s.prototype.fill=function(k,B,le,Ee){if(typeof k=="string"){if(typeof B=="string"?(Ee=B,B=0,le=this.length):typeof le=="string"&&(Ee=le,le=this.length),Ee!==void 0&&typeof Ee!="string")throw new TypeError("encoding must be a string");if(typeof Ee=="string"&&!s.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(k.length===1){const qe=k.charCodeAt(0);(Ee==="utf8"&&qe<128||Ee==="latin1")&&(k=qe)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(B<0||this.length<B||this.length<le)throw new RangeError("Out of range index");if(le<=B)return this;B=B>>>0,le=le===void 0?this.length:le>>>0,k||(k=0);let Pe;if(typeof k=="number")for(Pe=B;Pe<le;++Pe)this[Pe]=k;else{const qe=s.isBuffer(k)?k:s.from(k,Ee),Be=qe.length;if(Be===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(Pe=0;Pe<le-B;++Pe)this[Pe+B]=qe[Pe%Be]}return this};const Z={};function te(Q,k,B){Z[Q]=class extends B{constructor(){super(),Object.defineProperty(this,"message",{value:k.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Q}]`,this.stack,delete this.name}get code(){return Q}set code(Ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ee,writable:!0})}toString(){return`${this.name} [${Q}]: ${this.message}`}}}te("ERR_BUFFER_OUT_OF_BOUNDS",function(Q){return Q?`${Q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),te("ERR_INVALID_ARG_TYPE",function(Q,k){return`The "${Q}" argument must be of type number. Received type ${typeof k}`},TypeError),te("ERR_OUT_OF_RANGE",function(Q,k,B){let le=`The value of "${Q}" is out of range.`,Ee=B;return Number.isInteger(B)&&Math.abs(B)>2**32?Ee=ue(String(B)):typeof B=="bigint"&&(Ee=String(B),(B>BigInt(2)**BigInt(32)||B<-(BigInt(2)**BigInt(32)))&&(Ee=ue(Ee)),Ee+="n"),le+=` It must be ${k}. Received ${Ee}`,le},RangeError);function ue(Q){let k="",B=Q.length;const le=Q[0]==="-"?1:0;for(;B>=le+4;B-=3)k=`_${Q.slice(B-3,B)}${k}`;return`${Q.slice(0,B)}${k}`}function xe(Q,k,B){C(k,"offset"),(Q[k]===void 0||Q[k+B]===void 0)&&F(k,Q.length-(B+1))}function Le(Q,k,B,le,Ee,Pe){if(Q>B||Q<k){const qe=typeof k=="bigint"?"n":"";let Be;throw k===0||k===BigInt(0)?Be=`>= 0${qe} and < 2${qe} ** ${(Pe+1)*8}${qe}`:Be=`>= -(2${qe} ** ${(Pe+1)*8-1}${qe}) and < 2 ** ${(Pe+1)*8-1}${qe}`,new Z.ERR_OUT_OF_RANGE("value",Be,Q)}xe(le,Ee,Pe)}function C(Q,k){if(typeof Q!="number")throw new Z.ERR_INVALID_ARG_TYPE(k,"number",Q)}function F(Q,k,B){throw Math.floor(Q)!==Q?(C(Q,B),new Z.ERR_OUT_OF_RANGE("offset","an integer",Q)):k<0?new Z.ERR_BUFFER_OUT_OF_BOUNDS:new Z.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${k}`,Q)}const L=/[^+/0-9A-Za-z-_]/g;function ee(Q){if(Q=Q.split("=")[0],Q=Q.trim().replace(L,""),Q.length<2)return"";for(;Q.length%4!==0;)Q=Q+"=";return Q}function ce(Q,k){k=k||1/0;let B;const le=Q.length;let Ee=null;const Pe=[];for(let qe=0;qe<le;++qe){if(B=Q.charCodeAt(qe),B>55295&&B<57344){if(!Ee){if(B>56319){(k-=3)>-1&&Pe.push(239,191,189);continue}else if(qe+1===le){(k-=3)>-1&&Pe.push(239,191,189);continue}Ee=B;continue}if(B<56320){(k-=3)>-1&&Pe.push(239,191,189),Ee=B;continue}B=(Ee-55296<<10|B-56320)+65536}else Ee&&(k-=3)>-1&&Pe.push(239,191,189);if(Ee=null,B<128){if((k-=1)<0)break;Pe.push(B)}else if(B<2048){if((k-=2)<0)break;Pe.push(B>>6|192,B&63|128)}else if(B<65536){if((k-=3)<0)break;Pe.push(B>>12|224,B>>6&63|128,B&63|128)}else if(B<1114112){if((k-=4)<0)break;Pe.push(B>>18|240,B>>12&63|128,B>>6&63|128,B&63|128)}else throw new Error("Invalid code point")}return Pe}function me(Q){const k=[];for(let B=0;B<Q.length;++B)k.push(Q.charCodeAt(B)&255);return k}function ve(Q,k){let B,le,Ee;const Pe=[];for(let qe=0;qe<Q.length&&!((k-=2)<0);++qe)B=Q.charCodeAt(qe),le=B>>8,Ee=B%256,Pe.push(Ee),Pe.push(le);return Pe}function Te(Q){return e.toByteArray(ee(Q))}function De(Q,k,B,le){let Ee;for(Ee=0;Ee<le&&!(Ee+B>=k.length||Ee>=Q.length);++Ee)k[Ee+B]=Q[Ee];return Ee}function Ge(Q,k){return Q instanceof k||Q!=null&&Q.constructor!=null&&Q.constructor.name!=null&&Q.constructor.name===k.name}function Ve(Q){return Q!==Q}const ht=function(){const Q="0123456789abcdef",k=new Array(256);for(let B=0;B<16;++B){const le=B*16;for(let Ee=0;Ee<16;++Ee)k[le+Ee]=Q[B]+Q[Ee]}return k}();function tt(Q){return typeof BigInt>"u"?Xe:Q}function Xe(){throw new Error("BigInt not supported")}return $f}var zp,DP,dv,MP,$f,LP,W1=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtuTasat.js"(){Ie(),zp={},DP=!1,dv={},MP=!1,$f={},LP=!1}}),pd={};Gu(pd,{Buffer:()=>Cn,INSPECT_MAX_BYTES:()=>n9,default:()=>dc,kMaxLength:()=>i9});var dc,Cn,n9,i9,md=Vn({"../../node_modules/@jspm/core/nodelibs/browser/buffer.js"(){Ie(),W1(),dc=Js(),dc.Buffer,dc.SlowBuffer,dc.INSPECT_MAX_BYTES,dc.kMaxLength,Cn=dc.Buffer,n9=dc.INSPECT_MAX_BYTES,i9=dc.kMaxLength}}),Ie=Vn({"../../node_modules/esbuild-plugin-polyfill-node/polyfills/buffer.js"(){md()}}),o0=Fe({"../core/dist/thing-description.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.ThingEvent=e.ThingAction=e.ThingProperty=e.BaseSchema=e.Form=e.Thing=e.DEFAULT_THING_TYPE=e.DEFAULT_CONTEXT_LANGUAGE=e.DEFAULT_CONTEXT_V11=e.DEFAULT_CONTEXT_V1=void 0,e.DEFAULT_CONTEXT_V1="https://www.w3.org/2019/wot/td/v1",e.DEFAULT_CONTEXT_V11="https://www.w3.org/2022/wot/td/v1.1",e.DEFAULT_CONTEXT_LANGUAGE="en",e.DEFAULT_THING_TYPE="Thing";var t=class{constructor(){this["@context"]=[e.DEFAULT_CONTEXT_V1,e.DEFAULT_CONTEXT_V11],this["@type"]=e.DEFAULT_THING_TYPE,this.title="",this.securityDefinitions={},this.security="",this.properties={},this.actions={},this.events={},this.links=[]}};e.Thing=t;var r=class{constructor(a,l){this.href=a,l!=null&&(this.contentType=l)}};e.Form=r;var n=class{};e.BaseSchema=n;var i=class extends n{};e.ThingProperty=i;var o=class{};e.ThingAction=o;var s=class{};e.ThingEvent=s}}),Cfe=Fe({"../../node_modules/ms/index.js"(e,t){Ie();var r=1e3,n=r*60,i=n*60,o=i*24,s=o*7,a=o*365.25;t.exports=function(h,m){m=m||{};var g=typeof h;if(g==="string"&&h.length>0)return l(h);if(g==="number"&&isFinite(h))return m.long?f(h):u(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function l(h){if(h=String(h),!(h.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(m){var g=parseFloat(m[1]),_=(m[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return g*a;case"weeks":case"week":case"w":return g*s;case"days":case"day":case"d":return g*o;case"hours":case"hour":case"hrs":case"hr":case"h":return g*i;case"minutes":case"minute":case"mins":case"min":case"m":return g*n;case"seconds":case"second":case"secs":case"sec":case"s":return g*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function u(h){var m=Math.abs(h);return m>=o?Math.round(h/o)+"d":m>=i?Math.round(h/i)+"h":m>=n?Math.round(h/n)+"m":m>=r?Math.round(h/r)+"s":h+"ms"}function f(h){var m=Math.abs(h);return m>=o?c(h,m,o,"day"):m>=i?c(h,m,i,"hour"):m>=n?c(h,m,n,"minute"):m>=r?c(h,m,r,"second"):h+" ms"}function c(h,m,g,_){var v=m>=g*1.5;return Math.round(h/g)+" "+_+(v?"s":"")}}}),kfe=Fe({"../../node_modules/debug/src/common.js"(e,t){Ie();function r(n){o.debug=o,o.default=o,o.coerce=c,o.disable=l,o.enable=a,o.enabled=u,o.humanize=Cfe(),o.destroy=h,Object.keys(n).forEach(m=>{o[m]=n[m]}),o.names=[],o.skips=[],o.formatters={};function i(m){let g=0;for(let _=0;_<m.length;_++)g=(g<<5)-g+m.charCodeAt(_),g|=0;return o.colors[Math.abs(g)%o.colors.length]}o.selectColor=i;function o(m){let g,_=null,v,p;function E(...y){if(!E.enabled)return;const S=E,T=Number(new Date),$=T-(g||T);S.diff=$,S.prev=g,S.curr=T,g=T,y[0]=o.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let d=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(O,P)=>{if(O==="%%")return"%";d++;const M=o.formatters[P];if(typeof M=="function"){const U=y[d];O=M.call(S,U),y.splice(d,1),d--}return O}),o.formatArgs.call(S,y),(S.log||o.log).apply(S,y)}return E.namespace=m,E.useColors=o.useColors(),E.color=o.selectColor(m),E.extend=s,E.destroy=o.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(v!==o.namespaces&&(v=o.namespaces,p=o.enabled(m)),p),set:y=>{_=y}}),typeof o.init=="function"&&o.init(E),E}function s(m,g){const _=o(this.namespace+(typeof g>"u"?":":g)+m);return _.log=this.log,_}function a(m){o.save(m),o.namespaces=m,o.names=[],o.skips=[];let g;const _=(typeof m=="string"?m:"").split(/[\s,]+/),v=_.length;for(g=0;g<v;g++)_[g]&&(m=_[g].replace(/\*/g,".*?"),m[0]==="-"?o.skips.push(new RegExp("^"+m.slice(1)+"$")):o.names.push(new RegExp("^"+m+"$")))}function l(){const m=[...o.names.map(f),...o.skips.map(f).map(g=>"-"+g)].join(",");return o.enable(""),m}function u(m){if(m[m.length-1]==="*")return!0;let g,_;for(g=0,_=o.skips.length;g<_;g++)if(o.skips[g].test(m))return!1;for(g=0,_=o.names.length;g<_;g++)if(o.names[g].test(m))return!0;return!1}function f(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function c(m){return m instanceof Error?m.stack||m.message:m}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}t.exports=r}}),o9=Fe({"../../node_modules/debug/src/browser.js"(e,t){Ie(),e.formatArgs=n,e.save=i,e.load=o,e.useColors=r,e.storage=s(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let f=0,c=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(f++,h==="%c"&&(c=f))}),l.splice(c,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=xfe.DEBUG),l}function s(){try{return localStorage}catch{}}t.exports=kfe()(e);var{formatters:a}=t.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}}),Ys=Fe({"../core/dist/logger.js"(e){Ie();var t=e&&e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.createInfoLogger=o,e.createDebugLogger=s,e.createWarnLogger=a,e.createErrorLogger=l,e.createLoggers=u;var r=t(o9()),n;(function(f){f[f.info=0]="info",f[f.debug=1]="debug",f[f.warn=2]="warn",f[f.error=3]="error"})(n||(n={}));function i(f,c){const h=["node-wot",...f,n[c]].join(":");return(0,r.default)(h)}function o(...f){return i(f,n.info)}function s(...f){return i(f,n.debug)}function a(...f){return i(f,n.warn)}function l(...f){return i(f,n.error)}function u(...f){return{info:o(...f),debug:s(...f),warn:a(...f),error:l(...f)}}}}),jfe=Fe({"../../node_modules/is-absolute-url/index.js"(e,t){Ie(),t.exports=r=>{if(typeof r!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof r}\``);return/^[a-zA-Z]:\\/.test(r)?!1:/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(r)}}}),Dfe=Fe({"../../node_modules/url-toolkit/src/url-toolkit.js"(e,t){Ie(),function(r){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(l,u,f){if(f=f||{},l=l.trim(),u=u.trim(),!u){if(!f.alwaysNormalize)return l;var c=a.parseURL(l);if(!c)throw new Error("Error trying to parse base URL.");return c.path=a.normalizePath(c.path),a.buildURLFromParts(c)}var h=a.parseURL(u);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return f.alwaysNormalize?(h.path=a.normalizePath(h.path),a.buildURLFromParts(h)):u;var m=a.parseURL(l);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var g=i.exec(m.path);m.netLoc=g[1],m.path=g[2]}m.netLoc&&!m.path&&(m.path="/");var _={scheme:m.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(_.netLoc=m.netLoc,h.path[0]!=="/"))if(!h.path)_.path=m.path,h.params||(_.params=m.params,h.query||(_.query=m.query));else{var v=m.path,p=v.substring(0,v.lastIndexOf("/")+1)+h.path;_.path=a.normalizePath(p)}return _.path===null&&(_.path=f.alwaysNormalize?a.normalizePath(h.path):h.path),a.buildURLFromParts(_)},parseURL:function(l){var u=n.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(o,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};typeof e=="object"&&typeof t=="object"?t.exports=a:typeof define=="function"&&define.amd?define([],function(){return a}):typeof e=="object"?e.URLToolkit=a:r.URLToolkit=a}(e)}}),G2=Fe({"../core/dist/serdes.js"(e){Ie();var t=e&&e.__createBinding||(Object.create?function(_,v,p,E){E===void 0&&(E=p);var y=Object.getOwnPropertyDescriptor(v,p);(!y||("get"in y?!v.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return v[p]}}),Object.defineProperty(_,E,y)}:function(_,v,p,E){E===void 0&&(E=p),_[E]=v[p]}),r=e&&e.__setModuleDefault||(Object.create?function(_,v){Object.defineProperty(_,"default",{enumerable:!0,value:v})}:function(_,v){_.default=v}),n=e&&e.__importStar||function(){var _=function(v){return _=Object.getOwnPropertyNames||function(p){var E=[];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(E[E.length]=y);return E},_(v)};return function(v){if(v&&v.__esModule)return v;var p={};if(v!=null)for(var E=_(v),y=0;y<E.length;y++)E[y]!=="default"&&t(p,v,E[y]);return r(p,v),p}}();Object.defineProperty(e,"__esModule",{value:!0}),e.setContextLanguage=h,e.parseTD=m,e.serializeTD=g;var i=n(o0()),o=Ys(),s=jfe(),a=Dfe(),{debug:l,warn:u}=(0,o.createLoggers)("core","serdes");function f(_,v){const p=_[v];(typeof p!="object"||p==null)&&(_[v]={})}function c(_,v){const p=_[v];(p===void 0||typeof p!="boolean")&&(_[v]=!1)}function h(_,v,p){if(Array.isArray(_["@context"])){const E=_["@context"];let y=!1;for(const S of E)typeof S=="object"&&S["@language"]!==void 0&&(p&&(S["@language"]=v),y=!0);y||E.push({"@language":v})}}function m(_,v){l(`parseTD() parsing
\`\`\`
${_}
\`\`\``);const p=JSON.parse(_.replace(/^\uFEFF/,""));if(p["@context"]===void 0)p["@context"]=[i.DEFAULT_CONTEXT_V1,i.DEFAULT_CONTEXT_V11];else if(Array.isArray(p["@context"])){let y=p["@context"];const S=y.indexOf(i.DEFAULT_CONTEXT_V1),T=y.indexOf(i.DEFAULT_CONTEXT_V11);S===-1&&T===-1?(y.unshift(i.DEFAULT_CONTEXT_V11),y.unshift(i.DEFAULT_CONTEXT_V1)):(S!==-1&&T!==-1?(y=y.filter(function($){return $!==i.DEFAULT_CONTEXT_V1}),y=y.filter(function($){return $!==i.DEFAULT_CONTEXT_V11}),y.unshift(i.DEFAULT_CONTEXT_V11),y.unshift(i.DEFAULT_CONTEXT_V1)):(S!==-1&&S!==0&&(y=y.filter(function($){return $!==i.DEFAULT_CONTEXT_V1}),y.unshift(i.DEFAULT_CONTEXT_V1)),T!==-1&&T!==0&&(y=y.filter(function($){return $!==i.DEFAULT_CONTEXT_V11}),y.unshift(i.DEFAULT_CONTEXT_V11))),p["@context"]=y)}else if(p["@context"]!==i.DEFAULT_CONTEXT_V1&&p["@context"]!==i.DEFAULT_CONTEXT_V11){const y=p["@context"];p["@context"]=[i.DEFAULT_CONTEXT_V1,i.DEFAULT_CONTEXT_V11,y]}if(h(p,i.DEFAULT_CONTEXT_LANGUAGE,!1),p["@type"]===void 0)p["@type"]=i.DEFAULT_THING_TYPE;else if(Array.isArray(p["@type"])){const y=p["@type"];y.indexOf(i.DEFAULT_THING_TYPE)===-1&&y.unshift(i.DEFAULT_THING_TYPE)}else if(p["@type"]!==i.DEFAULT_THING_TYPE){const y=p["@type"];p["@type"]=[i.DEFAULT_THING_TYPE,y]}for(const y of Object.values(p.properties??{}))for(const S of["readOnly","writeOnly","observable"])c(y,S);for(const y of Object.values(p.actions??{}))for(const S of["safe","idempotent"])c(y,S);for(const y of["properties","actions","events"])f(p,y);p.security===void 0&&u("parseTD() found no security metadata"),typeof p.security=="string"&&(p.security=[p.security]);const E=[];for(const[y,S]of Object.entries(p.properties??{})){if(S.forms==null)throw new Error(`Property '${y}' has no forms field`);for(const T of S.forms){if(!T.href)throw new Error(`Form of Property '${y}' has no href field`);if(!s(T.href)&&p.base==null)throw new Error(`Form of Property '${y}' has relative URI while TD has no base field`);E.push(T)}}for(const[y,S]of Object.entries(p.actions??{})){if(S.forms==null)throw new Error(`Action '${y}' has no forms field`);for(const T of S.forms){if(!T.href)throw new Error(`Form of Action '${y}' has no href field`);if(!s(T.href)&&p.base==null)throw new Error(`Form of Action '${y}' has relative URI while TD has no base field`);E.push(T)}}for(const[y,S]of Object.entries(p.events??{})){if(S.forms==null)throw new Error(`Event '${y}' has no forms field`);for(const T of S.forms){if(!T.href)throw new Error(`Form of Event '${y}' has no href field`);if(!s(T.href)&&p.base==null)throw new Error(`Form of Event '${y}' has relative URI while TD has no base field`);E.push(T)}}if(Object.prototype.hasOwnProperty.call(p,"base")&&(v===void 0||v===!0)){l("parseTD() normalizing 'base' into 'forms'");for(const y of E)y.href.match(/^([a-z0-9+-.]+:).+/i)||(l(`parseTDString() applying base '${p.base}' to '${y.href}'`),y.href=a.buildAbsoluteURL(p.base,y.href))}return p}function g(_){var E;const v=JSON.parse(JSON.stringify(_));if((v.security==null||v.security.length===0)&&(v.securityDefinitions={nosec_sc:{scheme:"nosec"}},v.security=["nosec_sc"]),((E=v.forms)==null?void 0:E.length)===0&&delete v.forms,v.properties!=null&&Object.keys(v.properties).length===0)delete v.properties;else if(v.properties!=null)for(const y of Object.values(v.properties))for(const S of["readOnly","writeOnly","observable"])c(y,S);if(v.actions!=null&&Object.keys(v.actions).length===0)delete v.actions;else if(v.actions!=null)for(const y of Object.values(v.actions))for(const S of["safe","idempotent"])c(y,S);return v.events!=null&&Object.keys(v.events).length===0&&delete v.events,(v==null?void 0:v.links.length)===0&&delete v.links,JSON.stringify(v)}}});function s9(){return oh.now()/1e3}var oh,Ch,Mfe=Vn({"../../node_modules/@jspm/core/nodelibs/browser/process.js"(){Ie(),oh={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},oh.now===void 0&&(Ch=Date.now(),oh.timing&&oh.timing.navigationStart&&(Ch=oh.timing.navigationStart),oh.now=()=>Date.now()-Ch)}}),a9={};Gu(a9,{EOL:()=>c9,arch:()=>f9,constants:()=>u9,cpus:()=>d9,default:()=>$r,endianness:()=>h9,freemem:()=>p9,getNetworkInterfaces:()=>m9,homedir:()=>g9,hostname:()=>v9,loadavg:()=>y9,networkInterfaces:()=>w9,platform:()=>b9,release:()=>_9,tmpDir:()=>E9,tmpdir:()=>S9,totalmem:()=>T9,type:()=>$9,uptime:()=>s9,version:()=>l9});function Lfe(){return FP||(FP=!0,Fi.endianness=function(){return"LE"},Fi.hostname=function(){return typeof location<"u"?location.hostname:""},Fi.loadavg=function(){return[]},Fi.uptime=function(){return 0},Fi.freemem=function(){return Number.MAX_VALUE},Fi.totalmem=function(){return Number.MAX_VALUE},Fi.cpus=function(){return[]},Fi.type=function(){return"Browser"},Fi.release=function(){return typeof navigator<"u"?navigator.appVersion:""},Fi.networkInterfaces=Fi.getNetworkInterfaces=function(){return{}},Fi.arch=function(){return"javascript"},Fi.platform=function(){return"browser"},Fi.tmpdir=Fi.tmpDir=function(){return"/tmp"},Fi.EOL=`
`,Fi.homedir=function(){return"/"}),Fi}var Fi,FP,$r,C3,l9,u9,c9,f9,d9,h9,p9,m9,g9,v9,y9,w9,b9,_9,E9,S9,T9,$9,Ffe=Vn({"../../node_modules/@jspm/core/nodelibs/browser/os.js"(){Ie(),Mfe(),Fi={},FP=!1,$r=Lfe(),$r.endianness,$r.hostname,$r.loadavg,$r.uptime,$r.freemem,$r.totalmem,$r.cpus,$r.type,$r.release,$r.networkInterfaces,$r.getNetworkInterfaces,$r.arch,$r.platform,$r.tmpdir,$r.tmpDir,$r.EOL,$r.homedir,C3=new Uint8Array(new Uint16Array([1]).buffer)[0]===1?"LE":"BE",$r.endianness=function(){return C3},$r.homedir=function(){return"/home"},$r.version=function(){return""},$r.arch=function(){return"x64"},$r.totalmem=function(){return navigator.deviceMemory!==void 0?navigator.deviceMemory*(1<<30):2*(1<<30)},$r.cpus=function(){return Array(navigator.hardwareConcurrency||0).fill({model:"",times:{}})},$r.uptime=s9,$r.constants={},l9=$r.version,u9=$r.constants,c9=$r.EOL,f9=$r.arch,d9=$r.cpus,h9=$r.endianness,p9=$r.freemem,m9=$r.getNetworkInterfaces,g9=$r.homedir,v9=$r.hostname,y9=$r.loadavg,w9=$r.networkInterfaces,b9=$r.platform,_9=$r.release,E9=$r.tmpDir,S9=$r.tmpdir,T9=$r.totalmem,$9=$r.type}}),xS=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/code.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(p,...E){const y=[p[0]];let S=0;for(;S<E.length;)a(y,E[S]),y.push(p[++S]);return new n(y)}e._=i;var o=new n("+");function s(p,...E){const y=[m(p[0])];let S=0;for(;S<E.length;)y.push(o),a(y,E[S]),y.push(o,m(p[++S]));return l(y),new n(y)}e.str=s;function a(p,E){E instanceof n?p.push(...E._items):E instanceof r?p.push(E):p.push(c(E))}e.addCodeArg=a;function l(p){let E=1;for(;E<p.length-1;){if(p[E]===o){const y=u(p[E-1],p[E+1]);if(y!==void 0){p.splice(E-1,3,y);continue}p[E++]="+"}E++}}function u(p,E){if(E==='""')return p;if(p==='""')return E;if(typeof p=="string")return E instanceof r||p[p.length-1]!=='"'?void 0:typeof E!="string"?`${p.slice(0,-1)}${E}"`:E[0]==='"'?p.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(p instanceof r))return`"${p}${E.slice(1)}`}function f(p,E){return E.emptyStr()?p:p.emptyStr()?E:s`${p}${E}`}e.strConcat=f;function c(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:m(Array.isArray(p)?p.join(","):p)}function h(p){return new n(m(p))}e.stringify=h;function m(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):i`[${p}]`}e.getProperty=g;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(p){return new n(p.toString())}e.regexpCode=v}}),k3=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/scope.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=xS(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var s=(0,t._)`\n`,a=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?s:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:h}=c,m=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[h];if(g){const p=g.get(m);if(p)return p}else g=this._values[h]=new Map;g.set(m,c);const _=this._scope[h]||(this._scope[h]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:h,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let h=t.nil;for(const m in l){const g=l[m];if(!g)continue;const _=f[m]=f[m]||new Map;g.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let p=u(v);if(p){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${E} ${v} = ${p};${this.opts._n}`}else if(p=c==null?void 0:c(v))h=(0,t._)`${h}${p}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return h}};e.ValueScope=a}}),Wr=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=xS(),r=k3(),n=xS();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=k3();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(N,I){return this}},s=class extends o{constructor(N,I,q){super(),this.varKind=N,this.name=I,this.rhs=q}render({es5:N,_n:I}){const q=N?r.varKinds.var:this.varKind,ae=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${ae};`+I}optimizeNames(N,I){if(N[this.name.str])return this.rhs&&(this.rhs=ie(this.rhs,N,I)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},a=class extends o{constructor(N,I,q){super(),this.lhs=N,this.rhs=I,this.sideEffects=q}render({_n:N}){return`${this.lhs} = ${this.rhs};`+N}optimizeNames(N,I){if(!(this.lhs instanceof t.Name&&!N[this.lhs.str]&&!this.sideEffects))return this.rhs=ie(this.rhs,N,I),this}get names(){const N=this.lhs instanceof t.Name?{}:{...this.lhs.names};return K(N,this.rhs)}},l=class extends a{constructor(N,I,q,ae){super(N,q,ae),this.op=I}render({_n:N}){return`${this.lhs} ${this.op}= ${this.rhs};`+N}},u=class extends o{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`${this.label}:`+N}},f=class extends o{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`break${this.label?` ${this.label}`:""};`+N}},c=class extends o{constructor(N){super(),this.error=N}render({_n:N}){return`throw ${this.error};`+N}get names(){return this.error.names}},h=class extends o{constructor(N){super(),this.code=N}render({_n:N}){return`${this.code};`+N}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(N,I){return this.code=ie(this.code,N,I),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},m=class extends o{constructor(N=[]){super(),this.nodes=N}render(N){return this.nodes.reduce((I,q)=>I+q.render(N),"")}optimizeNodes(){const{nodes:N}=this;let I=N.length;for(;I--;){const q=N[I].optimizeNodes();Array.isArray(q)?N.splice(I,1,...q):q?N[I]=q:N.splice(I,1)}return N.length>0?this:void 0}optimizeNames(N,I){const{nodes:q}=this;let ae=q.length;for(;ae--;){const Z=q[ae];Z.optimizeNames(N,I)||(G(N,Z.names),q.splice(ae,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((N,I)=>U(N,I.names),{})}},g=class extends m{render(N){return"{"+N._n+super.render(N)+"}"+N._n}},_=class extends m{},v=class extends g{};v.kind="else";var p=class Ob extends g{constructor(I,q){super(q),this.condition=I}render(I){let q=`if(${this.condition})`+super.render(I);return this.else&&(q+="else "+this.else.render(I)),q}optimizeNodes(){super.optimizeNodes();const I=this.condition;if(I===!0)return this.nodes;let q=this.else;if(q){const ae=q.optimizeNodes();q=this.else=Array.isArray(ae)?new v(ae):ae}if(q)return I===!1?q instanceof Ob?q:q.nodes:this.nodes.length?this:new Ob(ne(I),q instanceof Ob?[q]:q.nodes);if(!(I===!1||!this.nodes.length))return this}optimizeNames(I,q){var ae;if(this.else=(ae=this.else)===null||ae===void 0?void 0:ae.optimizeNames(I,q),!!(super.optimizeNames(I,q)||this.else))return this.condition=ie(this.condition,I,q),this}get names(){const I=super.names;return K(I,this.condition),this.else&&U(I,this.else.names),I}};p.kind="if";var E=class extends g{};E.kind="for";var y=class extends E{constructor(N){super(),this.iteration=N}render(N){return`for(${this.iteration})`+super.render(N)}optimizeNames(N,I){if(super.optimizeNames(N,I))return this.iteration=ie(this.iteration,N,I),this}get names(){return U(super.names,this.iteration.names)}},S=class extends E{constructor(N,I,q,ae){super(),this.varKind=N,this.name=I,this.from=q,this.to=ae}render(N){const I=N.es5?r.varKinds.var:this.varKind,{name:q,from:ae,to:Z}=this;return`for(${I} ${q}=${ae}; ${q}<${Z}; ${q}++)`+super.render(N)}get names(){const N=K(super.names,this.from);return K(N,this.to)}},T=class extends E{constructor(N,I,q,ae){super(),this.loop=N,this.varKind=I,this.name=q,this.iterable=ae}render(N){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(N)}optimizeNames(N,I){if(super.optimizeNames(N,I))return this.iterable=ie(this.iterable,N,I),this}get names(){return U(super.names,this.iterable.names)}},$=class extends g{constructor(N,I,q){super(),this.name=N,this.args=I,this.async=q}render(N){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(N)}};$.kind="func";var d=class extends m{render(N){return"return "+super.render(N)}};d.kind="return";var x=class extends g{render(N){let I="try"+super.render(N);return this.catch&&(I+=this.catch.render(N)),this.finally&&(I+=this.finally.render(N)),I}optimizeNodes(){var N,I;return super.optimizeNodes(),(N=this.catch)===null||N===void 0||N.optimizeNodes(),(I=this.finally)===null||I===void 0||I.optimizeNodes(),this}optimizeNames(N,I){var q,ae;return super.optimizeNames(N,I),(q=this.catch)===null||q===void 0||q.optimizeNames(N,I),(ae=this.finally)===null||ae===void 0||ae.optimizeNames(N,I),this}get names(){const N=super.names;return this.catch&&U(N,this.catch.names),this.finally&&U(N,this.finally.names),N}},O=class extends g{constructor(N){super(),this.error=N}render(N){return`catch(${this.error})`+super.render(N)}};O.kind="catch";var P=class extends g{render(N){return"finally"+super.render(N)}};P.kind="finally";var M=class{constructor(N,I={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...I,_n:I.lines?`
`:""},this._extScope=N,this._scope=new r.Scope({parent:N}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(N){return this._scope.name(N)}scopeName(N){return this._extScope.name(N)}scopeValue(N,I){const q=this._extScope.value(N,I);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(N,I){return this._extScope.getValue(N,I)}scopeRefs(N){return this._extScope.scopeRefs(N,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(N,I,q,ae){const Z=this._scope.toName(I);return q!==void 0&&ae&&(this._constants[Z.str]=q),this._leafNode(new s(N,Z,q)),Z}const(N,I,q){return this._def(r.varKinds.const,N,I,q)}let(N,I,q){return this._def(r.varKinds.let,N,I,q)}var(N,I,q){return this._def(r.varKinds.var,N,I,q)}assign(N,I,q){return this._leafNode(new a(N,I,q))}add(N,I){return this._leafNode(new l(N,e.operators.ADD,I))}code(N){return typeof N=="function"?N():N!==t.nil&&this._leafNode(new h(N)),this}object(...N){const I=["{"];for(const[q,ae]of N)I.length>1&&I.push(","),I.push(q),(q!==ae||this.opts.es5)&&(I.push(":"),(0,t.addCodeArg)(I,ae));return I.push("}"),new t._Code(I)}if(N,I,q){if(this._blockNode(new p(N)),I&&q)this.code(I).else().code(q).endIf();else if(I)this.code(I).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(N){return this._elseNode(new p(N))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(N,I){return this._blockNode(N),I&&this.code(I).endFor(),this}for(N,I){return this._for(new y(N),I)}forRange(N,I,q,ae,Z=this.opts.es5?r.varKinds.var:r.varKinds.let){const te=this._scope.toName(N);return this._for(new S(Z,te,I,q),()=>ae(te))}forOf(N,I,q,ae=r.varKinds.const){const Z=this._scope.toName(N);if(this.opts.es5){const te=I instanceof t.Name?I:this.var("_arr",I);return this.forRange("_i",0,(0,t._)`${te}.length`,ue=>{this.var(Z,(0,t._)`${te}[${ue}]`),q(Z)})}return this._for(new T("of",ae,Z,I),()=>q(Z))}forIn(N,I,q,ae=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(N,(0,t._)`Object.keys(${I})`,q);const Z=this._scope.toName(N);return this._for(new T("in",ae,Z,I),()=>q(Z))}endFor(){return this._endBlockNode(E)}label(N){return this._leafNode(new u(N))}break(N){return this._leafNode(new f(N))}return(N){const I=new d;if(this._blockNode(I),this.code(N),I.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(N,I,q){if(!I&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const ae=new x;if(this._blockNode(ae),this.code(N),I){const Z=this.name("e");this._currNode=ae.catch=new O(Z),I(Z)}return q&&(this._currNode=ae.finally=new P,this.code(q)),this._endBlockNode(O,P)}throw(N){return this._leafNode(new c(N))}block(N,I){return this._blockStarts.push(this._nodes.length),N&&this.code(N).endBlock(I),this}endBlock(N){const I=this._blockStarts.pop();if(I===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-I;if(q<0||N!==void 0&&q!==N)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${N} expected`);return this._nodes.length=I,this}func(N,I=t.nil,q,ae){return this._blockNode(new $(N,I,q)),ae&&this.code(ae).endFunc(),this}endFunc(){return this._endBlockNode($)}optimize(N=1){for(;N-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(N){return this._currNode.nodes.push(N),this}_blockNode(N){this._currNode.nodes.push(N),this._nodes.push(N)}_endBlockNode(N,I){const q=this._currNode;if(q instanceof N||I&&q instanceof I)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${I?`${N.kind}/${I.kind}`:N.kind}"`)}_elseNode(N){const I=this._currNode;if(!(I instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=I.else=N,this}get _root(){return this._nodes[0]}get _currNode(){const N=this._nodes;return N[N.length-1]}set _currNode(N){const I=this._nodes;I[I.length-1]=N}};e.CodeGen=M;function U(N,I){for(const q in I)N[q]=(N[q]||0)+(I[q]||0);return N}function K(N,I){return I instanceof t._CodeOrName?U(N,I.names):N}function ie(N,I,q){if(N instanceof t.Name)return ae(N);if(!Z(N))return N;return new t._Code(N._items.reduce((te,ue)=>(ue instanceof t.Name&&(ue=ae(ue)),ue instanceof t._Code?te.push(...ue._items):te.push(ue),te),[]));function ae(te){const ue=q[te.str];return ue===void 0||I[te.str]!==1?te:(delete I[te.str],ue)}function Z(te){return te instanceof t._Code&&te._items.some(ue=>ue instanceof t.Name&&I[ue.str]===1&&q[ue.str]!==void 0)}}function G(N,I){for(const q in I)N[q]=(N[q]||0)-(I[q]||0)}function ne(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,t._)`!${Y(N)}`}e.not=ne;var ge=z(e.operators.AND);function re(...N){return N.reduce(ge)}e.and=re;var se=z(e.operators.OR);function D(...N){return N.reduce(se)}e.or=D;function z(N){return(I,q)=>I===t.nil?q:q===t.nil?I:(0,t._)`${Y(I)} ${N} ${Y(q)}`}function Y(N){return N instanceof t.Name?N:(0,t._)`(${N})`}}}),_n=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/util.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=Wr(),r=xS();function n($){const d={};for(const x of $)d[x]=!0;return d}e.toHash=n;function i($,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o($,d),!s(d,$.self.RULES.all))}e.alwaysValidSchema=i;function o($,d=$.schema){const{opts:x,self:O}=$;if(!x.strictSchema||typeof d=="boolean")return;const P=O.RULES.keywords;for(const M in d)P[M]||T($,`unknown keyword: "${M}"`)}e.checkUnknownRules=o;function s($,d){if(typeof $=="boolean")return!$;for(const x in $)if(d[x])return!0;return!1}e.schemaHasRules=s;function a($,d){if(typeof $=="boolean")return!$;for(const x in $)if(x!=="$ref"&&d.all[x])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:$,schemaPath:d},x,O,P){if(!P){if(typeof x=="number"||typeof x=="boolean")return x;if(typeof x=="string")return(0,t._)`${x}`}return(0,t._)`${$}${d}${(0,t.getProperty)(O)}`}e.schemaRefOrVal=l;function u($){return h(decodeURIComponent($))}e.unescapeFragment=u;function f($){return encodeURIComponent(c($))}e.escapeFragment=f;function c($){return typeof $=="number"?`${$}`:$.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function h($){return $.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function m($,d){if(Array.isArray($))for(const x of $)d(x);else d($)}e.eachItem=m;function g({mergeNames:$,mergeToName:d,mergeValues:x,resultToName:O}){return(P,M,U,K)=>{const ie=U===void 0?M:U instanceof t.Name?(M instanceof t.Name?$(P,M,U):d(P,M,U),U):M instanceof t.Name?(d(P,U,M),M):x(M,U);return K===t.Name&&!(ie instanceof t.Name)?O(P,ie):ie}}e.mergeEvaluated={props:g({mergeNames:($,d,x)=>$.if((0,t._)`${x} !== true && ${d} !== undefined`,()=>{$.if((0,t._)`${d} === true`,()=>$.assign(x,!0),()=>$.assign(x,(0,t._)`${x} || {}`).code((0,t._)`Object.assign(${x}, ${d})`))}),mergeToName:($,d,x)=>$.if((0,t._)`${x} !== true`,()=>{d===!0?$.assign(x,!0):($.assign(x,(0,t._)`${x} || {}`),v($,x,d))}),mergeValues:($,d)=>$===!0?!0:{...$,...d},resultToName:_}),items:g({mergeNames:($,d,x)=>$.if((0,t._)`${x} !== true && ${d} !== undefined`,()=>$.assign(x,(0,t._)`${d} === true ? true : ${x} > ${d} ? ${x} : ${d}`)),mergeToName:($,d,x)=>$.if((0,t._)`${x} !== true`,()=>$.assign(x,d===!0?!0:(0,t._)`${x} > ${d} ? ${x} : ${d}`)),mergeValues:($,d)=>$===!0?!0:Math.max($,d),resultToName:($,d)=>$.var("items",d)})};function _($,d){if(d===!0)return $.var("props",!0);const x=$.var("props",(0,t._)`{}`);return d!==void 0&&v($,x,d),x}e.evaluatedPropsToName=_;function v($,d,x){Object.keys(x).forEach(O=>$.assign((0,t._)`${d}${(0,t.getProperty)(O)}`,!0))}e.setEvaluated=v;var p={};function E($,d){return $.scopeValue("func",{ref:d,code:p[d.code]||(p[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function($){$[$.Num=0]="Num",$[$.Str=1]="Str"})(y||(e.Type=y={}));function S($,d,x){if($ instanceof t.Name){const O=d===y.Num;return x?O?(0,t._)`"[" + ${$} + "]"`:(0,t._)`"['" + ${$} + "']"`:O?(0,t._)`"/" + ${$}`:(0,t._)`"/" + ${$}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return x?(0,t.getProperty)($).toString():"/"+c($)}e.getErrorPath=S;function T($,d,x=$.opts.strictSchema){if(x){if(d=`strict mode: ${d}`,x===!0)throw new Error(d);$.self.logger.warn(d)}}e.checkStrictMode=T}}),gd=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/names.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Wr(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),G1=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/errors.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=Wr(),r=_n(),n=gd();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,t.str)`"${v}" keyword must be ${p} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,p=e.keywordError,E,y){const{it:S}=v,{gen:T,compositeRule:$,allErrors:d}=S,x=c(v,p,E);y??($||d)?l(T,x):u(S,(0,t._)`[${x}]`)}e.reportError=i;function o(v,p=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:T,allErrors:$}=y,d=c(v,p,E);l(S,d),T||$||u(y,n.default.vErrors)}e.reportExtraError=o;function s(v,p){v.assign(n.default.errors,p),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,t._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:p,schemaValue:E,data:y,errsCount:S,it:T}){if(S===void 0)throw new Error("ajv implementation error");const $=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const($,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${$}.instancePath === undefined`,()=>v.assign((0,t._)`${$}.instancePath`,(0,t.strConcat)(n.default.instancePath,T.errorPath))),v.assign((0,t._)`${$}.schemaPath`,(0,t.str)`${T.errSchemaPath}/${p}`),T.opts.verbose&&(v.assign((0,t._)`${$}.schema`,E),v.assign((0,t._)`${$}.data`,y))})}e.extendErrors=a;function l(v,p){const E=v.const("err",p);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,p){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${p})`):(E.assign((0,t._)`${y}.errors`,p),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,p,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:h(v,p,E)}function h(v,p,E={}){const{gen:y,it:S}=v,T=[m(S,E),g(v,E)];return _(v,p,T),y.object(...T)}function m({errorPath:v},{instancePath:p}){const E=p?(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:p}},{schemaPath:E,parentSchema:y}){let S=y?p:(0,t.str)`${p}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:p,message:E},y){const{keyword:S,data:T,schemaValue:$,it:d}=v,{opts:x,propertyName:O,topSchemaRef:P,schemaPath:M}=d;y.push([f.keyword,S],[f.params,typeof p=="function"?p(v):p||(0,t._)`{}`]),x.messages&&y.push([f.message,typeof E=="function"?E(v):E]),x.verbose&&y.push([f.schema,$],[f.parentSchema,(0,t._)`${P}${M}`],[n.default.data,T]),O&&y.push([f.propertyName,O])}}}),Bfe=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=G1(),r=Wr(),n=gd(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?a(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function s(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),a(l)):f.var(u,!0)}e.boolOrEmptySchema=s;function a(l,u){const{gen:f,data:c}=l,h={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(h,i,void 0,u)}}}),x9=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/rules.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),A9=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/applicability.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},s){const a=o.RULES.types[s];return a&&a!==!0&&r(i,a)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(s=>n(i,s))}e.shouldUseGroup=r;function n(i,o){var s;return i[o.keyword]!==void 0||((s=o.definition.implements)===null||s===void 0?void 0:s.some(a=>i[a]!==void 0))}e.shouldUseRule=n}}),AS=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/dataType.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=x9(),r=A9(),n=G1(),i=Wr(),o=_n(),s;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(s||(e.DataType=s={}));function a(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=a;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:T,data:$,opts:d}=y,x=c(S,d.coerceTypes),O=S.length>0&&!(x.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(O){const P=_(S,$,d.strictNumbers,s.Wrong);T.if(P,()=>{x.length?h(y,S,x):p(y)})}return O}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter(T=>f.has(T)||S==="array"&&T==="array"):[]}function h(y,S,T){const{gen:$,data:d,opts:x}=y,O=$.let("dataType",(0,i._)`typeof ${d}`),P=$.let("coerced",(0,i._)`undefined`);x.coerceTypes==="array"&&$.if((0,i._)`${O} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>$.assign(d,(0,i._)`${d}[0]`).assign(O,(0,i._)`typeof ${d}`).if(_(S,d,x.strictNumbers),()=>$.assign(P,d))),$.if((0,i._)`${P} !== undefined`);for(const U of T)(f.has(U)||U==="array"&&x.coerceTypes==="array")&&M(U);$.else(),p(y),$.endIf(),$.if((0,i._)`${P} !== undefined`,()=>{$.assign(d,P),m(y,P)});function M(U){switch(U){case"string":$.elseIf((0,i._)`${O} == "number" || ${O} == "boolean"`).assign(P,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(P,(0,i._)`""`);return;case"number":$.elseIf((0,i._)`${O} == "boolean" || ${d} === null
              || (${O} == "string" && ${d} && ${d} == +${d})`).assign(P,(0,i._)`+${d}`);return;case"integer":$.elseIf((0,i._)`${O} === "boolean" || ${d} === null
              || (${O} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(P,(0,i._)`+${d}`);return;case"boolean":$.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(P,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(P,!0);return;case"null":$.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),$.assign(P,null);return;case"array":$.elseIf((0,i._)`${O} === "string" || ${O} === "number"
              || ${O} === "boolean" || ${d} === null`).assign(P,(0,i._)`[${d}]`)}}}function m({gen:y,parentData:S,parentDataProperty:T},$){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${T}]`,$))}function g(y,S,T,$=s.Correct){const d=$===s.Correct?i.operators.EQ:i.operators.NEQ;let x;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":x=(0,i._)`Array.isArray(${S})`;break;case"object":x=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":x=O((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":x=O();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return $===s.Correct?x:(0,i.not)(x);function O(P=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,P,T?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=g;function _(y,S,T,$){if(y.length===1)return g(y[0],S,T,$);let d;const x=(0,o.toHash)(y);if(x.array&&x.object){const O=(0,i._)`typeof ${S} != "object"`;d=x.null?O:(0,i._)`!${S} || ${O}`,delete x.null,delete x.array,delete x.object}else d=i.nil;x.number&&delete x.integer;for(const O in x)d=(0,i.and)(d,g(O,S,T,$));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function p(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=p;function E(y){const{gen:S,data:T,schema:$}=y,d=(0,o.schemaRefOrVal)(y,$,"type");return{gen:S,keyword:"type",data:T,schema:$.type,schemaCode:d,schemaValue:d,parentSchema:$,params:{},it:y}}}}),Ufe=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/defaults.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=Wr(),r=_n();function n(o,s){const{properties:a,items:l}=o.schema;if(s==="object"&&a)for(const u in a)i(o,u,a[u].default);else s==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,s,a){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(a===void 0)return;const h=(0,t._)`${f}${(0,t.getProperty)(s)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${h}`);return}let m=(0,t._)`${h} === undefined`;c.useDefaults==="empty"&&(m=(0,t._)`${m} || ${h} === null || ${h} === ""`),l.if(m,(0,t._)`${h} = ${(0,t.stringify)(a)}`)}}}),tu=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/code.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=Wr(),r=_n(),n=gd(),i=_n();function o(y,S){const{gen:T,data:$,it:d}=y;T.if(c(T,$,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function s({gen:y,data:S,it:{opts:T}},$,d){return(0,t.or)(...$.map(x=>(0,t.and)(c(y,S,x,T.ownProperties),(0,t._)`${d} = ${x}`)))}e.checkMissingProp=s;function a(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=a;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,T){return(0,t._)`${l(y)}.call(${S}, ${T})`}e.isOwnProperty=u;function f(y,S,T,$){const d=(0,t._)`${S}${(0,t.getProperty)(T)} !== undefined`;return $?(0,t._)`${d} && ${u(y,S,T)}`:d}e.propertyInData=f;function c(y,S,T,$){const d=(0,t._)`${S}${(0,t.getProperty)(T)} === undefined`;return $?(0,t.or)(d,(0,t.not)(u(y,S,T))):d}e.noPropertyInData=c;function h(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=h;function m(y,S){return h(S).filter(T=>!(0,r.alwaysValidSchema)(y,S[T]))}e.schemaProperties=m;function g({schemaCode:y,data:S,it:{gen:T,topSchemaRef:$,schemaPath:d,errorPath:x},it:O},P,M,U){const K=U?(0,t._)`${y}, ${S}, ${$}${d}`:S,ie=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,x)],[n.default.parentData,O.parentData],[n.default.parentDataProperty,O.parentDataProperty],[n.default.rootData,n.default.rootData]];O.opts.dynamicRef&&ie.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const G=(0,t._)`${K}, ${T.object(...ie)}`;return M!==t.nil?(0,t._)`${P}.call(${M}, ${G})`:(0,t._)`${P}(${G})`}e.callValidateCode=g;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},T){const $=S.unicodeRegExp?"u":"",{regExp:d}=S.code,x=d(T,$);return y.scopeValue("pattern",{key:x.toString(),ref:x,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${T}, ${$})`})}e.usePattern=v;function p(y){const{gen:S,data:T,keyword:$,it:d}=y,x=S.name("valid");if(d.allErrors){const P=S.let("valid",!0);return O(()=>S.assign(P,!1)),P}return S.var(x,!0),O(()=>S.break()),x;function O(P){const M=S.const("len",(0,t._)`${T}.length`);S.forRange("i",0,M,U=>{y.subschema({keyword:$,dataProp:U,dataPropType:r.Type.Num},x),S.if((0,t.not)(x),P)})}}e.validateArray=p;function E(y){const{gen:S,schema:T,keyword:$,it:d}=y;if(!Array.isArray(T))throw new Error("ajv implementation error");if(T.some(M=>(0,r.alwaysValidSchema)(d,M))&&!d.opts.unevaluated)return;const O=S.let("valid",!1),P=S.name("_valid");S.block(()=>T.forEach((M,U)=>{const K=y.subschema({keyword:$,schemaProp:U,compositeRule:!0},P);S.assign(O,(0,t._)`${O} || ${P}`),y.mergeValidEvaluated(K,P)||S.if((0,t.not)(O))})),y.result(O,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),zfe=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/keyword.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=Wr(),r=gd(),n=tu(),i=G1();function o(m,g){const{gen:_,keyword:v,schema:p,parentSchema:E,it:y}=m,S=g.macro.call(y.self,p,E,y),T=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const $=_.name("valid");m.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:T,compositeRule:!0},$),m.pass($,()=>m.error(!0))}e.macroKeywordCode=o;function s(m,g){var _;const{gen:v,keyword:p,schema:E,parentSchema:y,$data:S,it:T}=m;u(T,g);const $=!S&&g.compile?g.compile.call(T.self,E,y,T):g.validate,d=f(v,p,$),x=v.let("valid");m.block$data(x,O),m.ok((_=g.valid)!==null&&_!==void 0?_:x);function O(){if(g.errors===!1)U(),g.modifying&&a(m),K(()=>m.error());else{const ie=g.async?P():M();g.modifying&&a(m),K(()=>l(m,ie))}}function P(){const ie=v.let("ruleErrs",null);return v.try(()=>U((0,t._)`await `),G=>v.assign(x,!1).if((0,t._)`${G} instanceof ${T.ValidationError}`,()=>v.assign(ie,(0,t._)`${G}.errors`),()=>v.throw(G))),ie}function M(){const ie=(0,t._)`${d}.errors`;return v.assign(ie,null),U(t.nil),ie}function U(ie=g.async?(0,t._)`await `:t.nil){const G=T.opts.passContext?r.default.this:r.default.self,ne=!("compile"in g&&!S||g.schema===!1);v.assign(x,(0,t._)`${ie}${(0,n.callValidateCode)(m,d,G,ne)}`,g.modifying)}function K(ie){var G;v.if((0,t.not)((G=g.valid)!==null&&G!==void 0?G:x),ie)}}e.funcKeywordCode=s;function a(m){const{gen:g,data:_,it:v}=m;g.if(v.parentData,()=>g.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(m,g){const{gen:_}=m;_.if((0,t._)`Array.isArray(${g})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${g} : ${r.default.vErrors}.concat(${g})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(m)},()=>m.error())}function u({schemaEnv:m},g){if(g.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,g,_){if(_===void 0)throw new Error(`keyword "${g}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(m,g,_=!1){return!g.length||g.some(v=>v==="array"?Array.isArray(m):v==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==v||_&&typeof m>"u")}e.validSchemaType=c;function h({schema:m,opts:g,self:_,errSchemaPath:v},p,E){if(Array.isArray(p.keyword)?!p.keyword.includes(E):p.keyword!==E)throw new Error("ajv implementation error");const y=p.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(m,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(p.validateSchema&&!p.validateSchema(m[E])){const T=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(p.validateSchema.errors);if(g.validateSchema==="log")_.logger.error(T);else throw new Error(T)}}e.validateKeywordUsage=h}}),qfe=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/subschema.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=Wr(),r=_n();function n(s,{keyword:a,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:h}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const m=s.schema[a];return l===void 0?{schema:m,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${a}`}:{schema:m[l],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(l)}`,errSchemaPath:`${s.errSchemaPath}/${a}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:h,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(s,a,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:h}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=a;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:p}=a,E=m.let("data",(0,t._)`${a.data}${(0,t.getProperty)(l)}`,!0);g(E),s.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,p.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${l}`,s.dataPathArr=[...v,s.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);g(_),h!==void 0&&(s.propertyName=h)}c&&(s.dataTypes=c);function g(_){s.data=_,s.dataLevel=a.dataLevel+1,s.dataTypes=[],a.definedProperties=new Set,s.parentData=a.data,s.dataNames=[...a.dataNames,_]}}e.extendSubschemaData=i;function o(s,{jtdDiscriminator:a,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(s.compositeRule=u),f!==void 0&&(s.createErrors=f),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=a,s.jtdMetadata=l}e.extendSubschemaMode=o}}),og=Fe({"../../node_modules/fast-deep-equal/index.js"(e,t){Ie(),t.exports=function r(n,i){if(n===i)return!0;if(n&&i&&typeof n=="object"&&typeof i=="object"){if(n.constructor!==i.constructor)return!1;var o,s,a;if(Array.isArray(n)){if(o=n.length,o!=i.length)return!1;for(s=o;s--!==0;)if(!r(n[s],i[s]))return!1;return!0}if(n.constructor===RegExp)return n.source===i.source&&n.flags===i.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===i.toString();if(a=Object.keys(n),o=a.length,o!==Object.keys(i).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(i,a[s]))return!1;for(s=o;s--!==0;){var l=a[s];if(!r(n[l],i[l]))return!1}return!0}return n!==n&&i!==i}}}),Vfe=Fe({"../../node_modules/@thingweb/thing-model/node_modules/json-schema-traverse/index.js"(e,t){Ie();var r=t.exports=function(o,s,a){typeof s=="function"&&(a=s,s={}),a=s.cb||a;var l=typeof a=="function"?a:a.pre||function(){},u=a.post||function(){};n(s,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,s,a,l,u,f,c,h,m,g){if(l&&typeof l=="object"&&!Array.isArray(l)){s(l,u,f,c,h,m,g);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var p=0;p<v.length;p++)n(o,s,a,v[p],u+"/"+_+"/"+p,f,u,_,l,p)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,s,a,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,s,a,v,u+"/"+_,f,u,_,l)}a(l,u,f,c,h,m,g)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),K1=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/resolve.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=_n(),r=og(),n=Vfe(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,p=!0){return typeof v=="boolean"?!0:p===!0?!a(v):p?l(v)<=p:!1}e.inlineRef=o;var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(v){for(const p in v){if(s.has(p))return!0;const E=v[p];if(Array.isArray(E)&&E.some(a)||typeof E=="object"&&a(E))return!0}return!1}function l(v){let p=0;for(const E in v){if(E==="$ref")return 1/0;if(p++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>p+=l(y)),p===1/0))return 1/0}return p}function u(v,p="",E){E!==!1&&(p=h(p));const y=v.parse(p);return f(v,y)}e.getFullPath=u;function f(v,p){return v.serialize(p).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function h(v){return v?v.replace(c,""):""}e.normalizeId=h;function m(v,p,E){return E=h(E),v.resolve(p,E)}e.resolveUrl=m;var g=/^[a-z_][-a-z0-9._]*$/i;function _(v,p){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=h(v[E]||p),T={"":S},$=u(y,S,!1),d={},x=new Set;return n(v,{allKeys:!0},(M,U,K,ie)=>{if(ie===void 0)return;const G=$+U;let ne=T[ie];typeof M[E]=="string"&&(ne=ge.call(this,M[E])),re.call(this,M.$anchor),re.call(this,M.$dynamicAnchor),T[U]=ne;function ge(se){const D=this.opts.uriResolver.resolve;if(se=h(ne?D(ne,se):se),x.has(se))throw P(se);x.add(se);let z=this.refs[se];return typeof z=="string"&&(z=this.refs[z]),typeof z=="object"?O(M,z.schema,se):se!==h(G)&&(se[0]==="#"?(O(M,d[se],se),d[se]=M):this.refs[se]=G),se}function re(se){if(typeof se=="string"){if(!g.test(se))throw new Error(`invalid anchor "${se}"`);ge.call(this,`#${se}`)}}}),d;function O(M,U,K){if(U!==void 0&&!r(M,U))throw P(K)}function P(M){return new Error(`reference "${M}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),J1=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=Bfe(),r=AS(),n=A9(),i=AS(),o=Ufe(),s=zfe(),a=qfe(),l=Wr(),u=gd(),f=K1(),c=_n(),h=G1();function m(C){if($(C)&&(x(C),T(C))){p(C);return}g(C,()=>(0,t.topBoolOrEmptySchema)(C))}e.validateFunctionCode=m;function g({gen:C,validateName:F,schema:L,schemaEnv:ee,opts:ce},me){ce.code.es5?C.func(F,(0,l._)`${u.default.data}, ${u.default.valCxt}`,ee.$async,()=>{C.code((0,l._)`"use strict"; ${y(L,ce)}`),v(C,ce),C.code(me)}):C.func(F,(0,l._)`${u.default.data}, ${_(ce)}`,ee.$async,()=>C.code(y(L,ce)).code(me))}function _(C){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${C.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(C,F){C.if(u.default.valCxt,()=>{C.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),C.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),C.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),C.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),F.dynamicRef&&C.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{C.var(u.default.instancePath,(0,l._)`""`),C.var(u.default.parentData,(0,l._)`undefined`),C.var(u.default.parentDataProperty,(0,l._)`undefined`),C.var(u.default.rootData,u.default.data),F.dynamicRef&&C.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function p(C){const{schema:F,opts:L,gen:ee}=C;g(C,()=>{L.$comment&&F.$comment&&ie(C),M(C),ee.let(u.default.vErrors,null),ee.let(u.default.errors,0),L.unevaluated&&E(C),O(C),G(C)})}function E(C){const{gen:F,validateName:L}=C;C.evaluated=F.const("evaluated",(0,l._)`${L}.evaluated`),F.if((0,l._)`${C.evaluated}.dynamicProps`,()=>F.assign((0,l._)`${C.evaluated}.props`,(0,l._)`undefined`)),F.if((0,l._)`${C.evaluated}.dynamicItems`,()=>F.assign((0,l._)`${C.evaluated}.items`,(0,l._)`undefined`))}function y(C,F){const L=typeof C=="object"&&C[F.schemaId];return L&&(F.code.source||F.code.process)?(0,l._)`/*# sourceURL=${L} */`:l.nil}function S(C,F){if($(C)&&(x(C),T(C))){d(C,F);return}(0,t.boolOrEmptySchema)(C,F)}function T({schema:C,self:F}){if(typeof C=="boolean")return!C;for(const L in C)if(F.RULES.all[L])return!0;return!1}function $(C){return typeof C.schema!="boolean"}function d(C,F){const{schema:L,gen:ee,opts:ce}=C;ce.$comment&&L.$comment&&ie(C),U(C),K(C);const me=ee.const("_errs",u.default.errors);O(C,me),ee.var(F,(0,l._)`${me} === ${u.default.errors}`)}function x(C){(0,c.checkUnknownRules)(C),P(C)}function O(C,F){if(C.opts.jtd)return ge(C,[],!1,F);const L=(0,r.getSchemaTypes)(C.schema),ee=(0,r.coerceAndCheckDataType)(C,L);ge(C,L,!ee,F)}function P(C){const{schema:F,errSchemaPath:L,opts:ee,self:ce}=C;F.$ref&&ee.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(F,ce.RULES)&&ce.logger.warn(`$ref: keywords ignored in schema at path "${L}"`)}function M(C){const{schema:F,opts:L}=C;F.default!==void 0&&L.useDefaults&&L.strictSchema&&(0,c.checkStrictMode)(C,"default is ignored in the schema root")}function U(C){const F=C.schema[C.opts.schemaId];F&&(C.baseId=(0,f.resolveUrl)(C.opts.uriResolver,C.baseId,F))}function K(C){if(C.schema.$async&&!C.schemaEnv.$async)throw new Error("async schema in sync schema")}function ie({gen:C,schemaEnv:F,schema:L,errSchemaPath:ee,opts:ce}){const me=L.$comment;if(ce.$comment===!0)C.code((0,l._)`${u.default.self}.logger.log(${me})`);else if(typeof ce.$comment=="function"){const ve=(0,l.str)`${ee}/$comment`,Te=C.scopeValue("root",{ref:F.root});C.code((0,l._)`${u.default.self}.opts.$comment(${me}, ${ve}, ${Te}.schema)`)}}function G(C){const{gen:F,schemaEnv:L,validateName:ee,ValidationError:ce,opts:me}=C;L.$async?F.if((0,l._)`${u.default.errors} === 0`,()=>F.return(u.default.data),()=>F.throw((0,l._)`new ${ce}(${u.default.vErrors})`)):(F.assign((0,l._)`${ee}.errors`,u.default.vErrors),me.unevaluated&&ne(C),F.return((0,l._)`${u.default.errors} === 0`))}function ne({gen:C,evaluated:F,props:L,items:ee}){L instanceof l.Name&&C.assign((0,l._)`${F}.props`,L),ee instanceof l.Name&&C.assign((0,l._)`${F}.items`,ee)}function ge(C,F,L,ee){const{gen:ce,schema:me,data:ve,allErrors:Te,opts:De,self:Ge}=C,{RULES:Ve}=Ge;if(me.$ref&&(De.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(me,Ve))){ce.block(()=>te(C,"$ref",Ve.all.$ref.definition));return}De.jtd||se(C,F),ce.block(()=>{for(const tt of Ve.rules)ht(tt);ht(Ve.post)});function ht(tt){(0,n.shouldUseGroup)(me,tt)&&(tt.type?(ce.if((0,i.checkDataType)(tt.type,ve,De.strictNumbers)),re(C,tt),F.length===1&&F[0]===tt.type&&L&&(ce.else(),(0,i.reportTypeError)(C)),ce.endIf()):re(C,tt),Te||ce.if((0,l._)`${u.default.errors} === ${ee||0}`))}}function re(C,F){const{gen:L,schema:ee,opts:{useDefaults:ce}}=C;ce&&(0,o.assignDefaults)(C,F.type),L.block(()=>{for(const me of F.rules)(0,n.shouldUseRule)(ee,me)&&te(C,me.keyword,me.definition,F.type)})}function se(C,F){C.schemaEnv.meta||!C.opts.strictTypes||(D(C,F),C.opts.allowUnionTypes||z(C,F),Y(C,C.dataTypes))}function D(C,F){if(F.length){if(!C.dataTypes.length){C.dataTypes=F;return}F.forEach(L=>{I(C.dataTypes,L)||ae(C,`type "${L}" not allowed by context "${C.dataTypes.join(",")}"`)}),q(C,F)}}function z(C,F){F.length>1&&!(F.length===2&&F.includes("null"))&&ae(C,"use allowUnionTypes to allow union type keyword")}function Y(C,F){const L=C.self.RULES.all;for(const ee in L){const ce=L[ee];if(typeof ce=="object"&&(0,n.shouldUseRule)(C.schema,ce)){const{type:me}=ce.definition;me.length&&!me.some(ve=>N(F,ve))&&ae(C,`missing type "${me.join(",")}" for keyword "${ee}"`)}}}function N(C,F){return C.includes(F)||F==="number"&&C.includes("integer")}function I(C,F){return C.includes(F)||F==="integer"&&C.includes("number")}function q(C,F){const L=[];for(const ee of C.dataTypes)I(F,ee)?L.push(ee):F.includes("integer")&&ee==="number"&&L.push("integer");C.dataTypes=L}function ae(C,F){const L=C.schemaEnv.baseId+C.errSchemaPath;F+=` at "${L}" (strictTypes)`,(0,c.checkStrictMode)(C,F,C.opts.strictTypes)}var Z=class{constructor(C,F,L){if((0,s.validateKeywordUsage)(C,F,L),this.gen=C.gen,this.allErrors=C.allErrors,this.keyword=L,this.data=C.data,this.schema=C.schema[L],this.$data=F.$data&&C.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(C,this.schema,L,this.$data),this.schemaType=F.schemaType,this.parentSchema=C.schema,this.params={},this.it=C,this.def=F,this.$data)this.schemaCode=C.gen.const("vSchema",Le(this.$data,C));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,F.schemaType,F.allowUndefined))throw new Error(`${L} value must be ${JSON.stringify(F.schemaType)}`);("code"in F?F.trackErrors:F.errors!==!1)&&(this.errsCount=C.gen.const("_errs",u.default.errors))}result(C,F,L){this.failResult((0,l.not)(C),F,L)}failResult(C,F,L){this.gen.if(C),L?L():this.error(),F?(this.gen.else(),F(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(C,F){this.failResult((0,l.not)(C),void 0,F)}fail(C){if(C===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(C),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(C){if(!this.$data)return this.fail(C);const{schemaCode:F}=this;this.fail((0,l._)`${F} !== undefined && (${(0,l.or)(this.invalid$data(),C)})`)}error(C,F,L){if(F){this.setParams(F),this._error(C,L),this.setParams({});return}this._error(C,L)}_error(C,F){(C?h.reportExtraError:h.reportError)(this,this.def.error,F)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(C){this.allErrors||this.gen.if(C)}setParams(C,F){F?Object.assign(this.params,C):this.params=C}block$data(C,F,L=l.nil){this.gen.block(()=>{this.check$data(C,L),F()})}check$data(C=l.nil,F=l.nil){if(!this.$data)return;const{gen:L,schemaCode:ee,schemaType:ce,def:me}=this;L.if((0,l.or)((0,l._)`${ee} === undefined`,F)),C!==l.nil&&L.assign(C,!0),(ce.length||me.validateSchema)&&(L.elseIf(this.invalid$data()),this.$dataError(),C!==l.nil&&L.assign(C,!1)),L.else()}invalid$data(){const{gen:C,schemaCode:F,schemaType:L,def:ee,it:ce}=this;return(0,l.or)(me(),ve());function me(){if(L.length){if(!(F instanceof l.Name))throw new Error("ajv implementation error");const Te=Array.isArray(L)?L:[L];return(0,l._)`${(0,i.checkDataTypes)(Te,F,ce.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function ve(){if(ee.validateSchema){const Te=C.scopeValue("validate$data",{ref:ee.validateSchema});return(0,l._)`!${Te}(${F})`}return l.nil}}subschema(C,F){const L=(0,a.getSubschema)(this.it,C);(0,a.extendSubschemaData)(L,this.it,C),(0,a.extendSubschemaMode)(L,C);const ee={...this.it,...L,items:void 0,props:void 0};return S(ee,F),ee}mergeEvaluated(C,F){const{it:L,gen:ee}=this;L.opts.unevaluated&&(L.props!==!0&&C.props!==void 0&&(L.props=c.mergeEvaluated.props(ee,C.props,L.props,F)),L.items!==!0&&C.items!==void 0&&(L.items=c.mergeEvaluated.items(ee,C.items,L.items,F)))}mergeValidEvaluated(C,F){const{it:L,gen:ee}=this;if(L.opts.unevaluated&&(L.props!==!0||L.items!==!0))return ee.if(F,()=>this.mergeEvaluated(C,l.Name)),!0}};e.KeywordCxt=Z;function te(C,F,L,ee){const ce=new Z(C,L,F);"code"in L?L.code(ce,ee):ce.$data&&L.validate?(0,s.funcKeywordCode)(ce,L):"macro"in L?(0,s.macroKeywordCode)(ce,L):(L.compile||L.validate)&&(0,s.funcKeywordCode)(ce,L)}var ue=/^\/(?:[^~]|~0|~1)*$/,xe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Le(C,{dataLevel:F,dataNames:L,dataPathArr:ee}){let ce,me;if(C==="")return u.default.rootData;if(C[0]==="/"){if(!ue.test(C))throw new Error(`Invalid JSON-pointer: ${C}`);ce=C,me=u.default.rootData}else{const Ge=xe.exec(C);if(!Ge)throw new Error(`Invalid JSON-pointer: ${C}`);const Ve=+Ge[1];if(ce=Ge[2],ce==="#"){if(Ve>=F)throw new Error(De("property/index",Ve));return ee[F-Ve]}if(Ve>F)throw new Error(De("data",Ve));if(me=L[F-Ve],!ce)return me}let ve=me;const Te=ce.split("/");for(const Ge of Te)Ge&&(me=(0,l._)`${me}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Ge))}`,ve=(0,l._)`${ve} && ${me}`);return ve;function De(Ge,Ve){return`Cannot access ${Ge} ${Ve} levels up, current level is ${F}`}}e.getData=Le}}),K2=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/validation_error.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),Y1=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/ref_error.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=K1(),r=class extends Error{constructor(n,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),J2=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=Wr(),r=K2(),n=gd(),i=K1(),o=_n(),s=J1(),a=class{constructor(p){var E;this.refs={},this.dynamicAnchors={};let y;typeof p.schema=="object"&&(y=p.schema),this.schema=p.schema,this.schemaId=p.schemaId,this.root=p.root||this,this.baseId=(E=p.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[p.schemaId||"$id"]),this.schemaPath=p.schemaPath,this.localRefs=p.localRefs,this.meta=p.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=a;function l(p){const E=c.call(this,p);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:S,lines:T}=this.opts.code,{ownProperties:$}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:T,ownProperties:$});let x;p.$async&&(x=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const O=d.scopeName("validate");p.validateName=O;const P={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,t.stringify)(p.schema)}:{ref:p.schema}),validateName:O,ValidationError:x,schema:p.schema,schemaEnv:p,rootId:y,baseId:p.baseId||y,schemaPath:t.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let M;try{this._compilations.add(p),(0,s.validateFunctionCode)(P),d.optimize(this.opts.code.optimize);const U=d.toString();M=`${d.scopeRefs(n.default.scope)}return ${U}`,this.opts.code.process&&(M=this.opts.code.process(M,p));const ie=new Function(`${n.default.self}`,`${n.default.scope}`,M)(this,this.scope.get());if(this.scope.value(O,{ref:ie}),ie.errors=null,ie.schema=p.schema,ie.schemaEnv=p,p.$async&&(ie.$async=!0),this.opts.code.source===!0&&(ie.source={validateName:O,validateCode:U,scopeValues:d._values}),this.opts.unevaluated){const{props:G,items:ne}=P;ie.evaluated={props:G instanceof t.Name?void 0:G,items:ne instanceof t.Name?void 0:ne,dynamicProps:G instanceof t.Name,dynamicItems:ne instanceof t.Name},ie.source&&(ie.source.evaluated=(0,t.stringify)(ie.evaluated))}return p.validate=ie,p}catch(U){throw delete p.validate,delete p.validateName,M&&this.logger.error("Error compiling schema, function code:",M),U}finally{this._compilations.delete(p)}}e.compileSchema=l;function u(p,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const T=p.refs[y];if(T)return T;let $=m.call(this,p,y);if($===void 0){const d=(S=p.localRefs)===null||S===void 0?void 0:S[y],{schemaId:x}=this.opts;d&&($=new a({schema:d,schemaId:x,root:p,baseId:E}))}if($!==void 0)return p.refs[y]=f.call(this,$)}e.resolveRef=u;function f(p){return(0,i.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:l.call(this,p)}function c(p){for(const E of this._compilations)if(h(E,p))return E}e.getCompilingSchema=c;function h(p,E){return p.schema===E.schema&&p.root===E.root&&p.baseId===E.baseId}function m(p,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||g.call(this,p,E)}function g(p,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let T=(0,i.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&S===T)return v.call(this,y,p);const $=(0,i.normalizeId)(S),d=this.refs[$]||this.schemas[$];if(typeof d=="string"){const x=g.call(this,p,d);return typeof(x==null?void 0:x.schema)!="object"?void 0:v.call(this,y,x)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),$===(0,i.normalizeId)(E)){const{schema:x}=d,{schemaId:O}=this.opts,P=x[O];return P&&(T=(0,i.resolveUrl)(this.opts.uriResolver,T,P)),new a({schema:x,schemaId:O,root:p,baseId:T})}return v.call(this,y,d)}}e.resolveSchema=g;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(p,{baseId:E,schema:y,root:S}){var T;if(((T=p.fragment)===null||T===void 0?void 0:T[0])!=="/")return;for(const x of p.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const O=y[(0,o.unescapeFragment)(x)];if(O===void 0)return;y=O;const P=typeof y=="object"&&y[this.opts.schemaId];!_.has(x)&&P&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,P))}let $;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const x=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);$=g.call(this,S,x)}const{schemaId:d}=this.opts;if($=$||new a({schema:y,schemaId:d,root:S,baseId:E}),$.schema!==$.root.schema)return $}}}),Hfe=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),Wfe=Fe({"../../node_modules/fast-uri/lib/scopedChars.js"(e,t){Ie();var r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};t.exports={HEX:r}}}),Gfe=Fe({"../../node_modules/fast-uri/lib/utils.js"(e,t){Ie();var{HEX:r}=Wfe(),n=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function i(p){if(u(p,".")<3)return{host:p,isIPV4:!1};const E=p.match(n)||[],[y]=E;return y?{host:l(y,"."),isIPV4:!0}:{host:p,isIPV4:!1}}function o(p,E=!1){let y="",S=!0;for(const T of p){if(r[T]===void 0)return;T!=="0"&&S===!0&&(S=!1),S||(y+=T)}return E&&y.length===0&&(y="0"),y}function s(p){let E=0;const y={error:!1,address:"",zone:""},S=[],T=[];let $=!1,d=!1,x=!1;function O(){if(T.length){if($===!1){const P=o(T);if(P!==void 0)S.push(P);else return y.error=!0,!1}T.length=0}return!0}for(let P=0;P<p.length;P++){const M=p[P];if(!(M==="["||M==="]"))if(M===":"){if(d===!0&&(x=!0),!O())break;if(E++,S.push(":"),E>7){y.error=!0;break}P-1>=0&&p[P-1]===":"&&(d=!0);continue}else if(M==="%"){if(!O())break;$=!0}else{T.push(M);continue}}return T.length&&($?y.zone=T.join(""):x?S.push(T.join("")):S.push(o(T))),y.address=S.join(""),y}function a(p){if(u(p,":")<2)return{host:p,isIPV6:!1};const E=s(p);if(E.error)return{host:p,isIPV6:!1};{let y=E.address,S=E.address;return E.zone&&(y+="%"+E.zone,S+="%25"+E.zone),{host:y,escapedHost:S,isIPV6:!0}}}function l(p,E){let y="",S=!0;const T=p.length;for(let $=0;$<T;$++){const d=p[$];d==="0"&&S?($+1<=T&&p[$+1]===E||$+1===T)&&(y+=d,S=!1):(d===E?S=!0:S=!1,y+=d)}return y}function u(p,E){let y=0;for(let S=0;S<p.length;S++)p[S]===E&&y++;return y}var f=/^\.\.?\//u,c=/^\/\.(?:\/|$)/u,h=/^\/\.\.(?:\/|$)/u,m=/^\/?(?:.|\n)*?(?=\/|$)/u;function g(p){const E=[];for(;p.length;)if(p.match(f))p=p.replace(f,"");else if(p.match(c))p=p.replace(c,"/");else if(p.match(h))p=p.replace(h,"/"),E.pop();else if(p==="."||p==="..")p="";else{const y=p.match(m);if(y){const S=y[0];p=p.slice(S.length),E.push(S)}else throw new Error("Unexpected dot segment condition")}return E.join("")}function _(p,E){const y=E!==!0?escape:unescape;return p.scheme!==void 0&&(p.scheme=y(p.scheme)),p.userinfo!==void 0&&(p.userinfo=y(p.userinfo)),p.host!==void 0&&(p.host=y(p.host)),p.path!==void 0&&(p.path=y(p.path)),p.query!==void 0&&(p.query=y(p.query)),p.fragment!==void 0&&(p.fragment=y(p.fragment)),p}function v(p){const E=[];if(p.userinfo!==void 0&&(E.push(p.userinfo),E.push("@")),p.host!==void 0){let y=unescape(p.host);const S=i(y);if(S.isIPV4)y=S.host;else{const T=a(S.host);T.isIPV6===!0?y=`[${T.escapedHost}]`:y=p.host}E.push(y)}return(typeof p.port=="number"||typeof p.port=="string")&&(E.push(":"),E.push(String(p.port))),E.length?E.join(""):void 0}t.exports={recomposeAuthority:v,normalizeComponentEncoding:_,removeDotSegments:g,normalizeIPv4:i,normalizeIPv6:a,stringArrayToHexStripped:o}}}),Kfe=Fe({"../../node_modules/fast-uri/lib/schemes.js"(e,t){Ie();var r=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,n=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function i(S){return typeof S.secure=="boolean"?S.secure:String(S.scheme).toLowerCase()==="wss"}function o(S){return S.host||(S.error=S.error||"HTTP URIs must have a host."),S}function s(S){const T=String(S.scheme).toLowerCase()==="https";return(S.port===(T?443:80)||S.port==="")&&(S.port=void 0),S.path||(S.path="/"),S}function a(S){return S.secure=i(S),S.resourceName=(S.path||"/")+(S.query?"?"+S.query:""),S.path=void 0,S.query=void 0,S}function l(S){if((S.port===(i(S)?443:80)||S.port==="")&&(S.port=void 0),typeof S.secure=="boolean"&&(S.scheme=S.secure?"wss":"ws",S.secure=void 0),S.resourceName){const[T,$]=S.resourceName.split("?");S.path=T&&T!=="/"?T:void 0,S.query=$,S.resourceName=void 0}return S.fragment=void 0,S}function u(S,T){if(!S.path)return S.error="URN can not be parsed",S;const $=S.path.match(n);if($){const d=T.scheme||S.scheme||"urn";S.nid=$[1].toLowerCase(),S.nss=$[2];const x=`${d}:${T.nid||S.nid}`,O=y[x];S.path=void 0,O&&(S=O.parse(S,T))}else S.error=S.error||"URN can not be parsed.";return S}function f(S,T){const $=T.scheme||S.scheme||"urn",d=S.nid.toLowerCase(),x=`${$}:${T.nid||d}`,O=y[x];O&&(S=O.serialize(S,T));const P=S,M=S.nss;return P.path=`${d||T.nid}:${M}`,T.skipEscape=!0,P}function c(S,T){const $=S;return $.uuid=$.nss,$.nss=void 0,!T.tolerant&&(!$.uuid||!r.test($.uuid))&&($.error=$.error||"UUID is not valid."),$}function h(S){const T=S;return T.nss=(S.uuid||"").toLowerCase(),T}var m={scheme:"http",domainHost:!0,parse:o,serialize:s},g={scheme:"https",domainHost:m.domainHost,parse:o,serialize:s},_={scheme:"ws",domainHost:!0,parse:a,serialize:l},v={scheme:"wss",domainHost:_.domainHost,parse:_.parse,serialize:_.serialize},p={scheme:"urn",parse:u,serialize:f,skipNormalize:!0},E={scheme:"urn:uuid",parse:c,serialize:h,skipNormalize:!0},y={http:m,https:g,ws:_,wss:v,urn:p,"urn:uuid":E};t.exports=y}}),Jfe=Fe({"../../node_modules/fast-uri/index.js"(e,t){Ie();var{normalizeIPv6:r,normalizeIPv4:n,removeDotSegments:i,recomposeAuthority:o,normalizeComponentEncoding:s}=Gfe(),a=Kfe();function l(E,y){return typeof E=="string"?E=h(v(E,y),y):typeof E=="object"&&(E=v(h(E,y),y)),E}function u(E,y,S){const T=Object.assign({scheme:"null"},S),$=f(v(E,T),v(y,T),T,!0);return h($,{...T,skipEscape:!0})}function f(E,y,S,T){const $={};return T||(E=v(h(E,S),S),y=v(h(y,S),S)),S=S||{},!S.tolerant&&y.scheme?($.scheme=y.scheme,$.userinfo=y.userinfo,$.host=y.host,$.port=y.port,$.path=i(y.path||""),$.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?($.userinfo=y.userinfo,$.host=y.host,$.port=y.port,$.path=i(y.path||""),$.query=y.query):(y.path?(y.path.charAt(0)==="/"?$.path=i(y.path):((E.userinfo!==void 0||E.host!==void 0||E.port!==void 0)&&!E.path?$.path="/"+y.path:E.path?$.path=E.path.slice(0,E.path.lastIndexOf("/")+1)+y.path:$.path=y.path,$.path=i($.path)),$.query=y.query):($.path=E.path,y.query!==void 0?$.query=y.query:$.query=E.query),$.userinfo=E.userinfo,$.host=E.host,$.port=E.port),$.scheme=E.scheme),$.fragment=y.fragment,$}function c(E,y,S){return typeof E=="string"?(E=unescape(E),E=h(s(v(E,S),!0),{...S,skipEscape:!0})):typeof E=="object"&&(E=h(s(E,!0),{...S,skipEscape:!0})),typeof y=="string"?(y=unescape(y),y=h(s(v(y,S),!0),{...S,skipEscape:!0})):typeof y=="object"&&(y=h(s(y,!0),{...S,skipEscape:!0})),E.toLowerCase()===y.toLowerCase()}function h(E,y){const S={host:E.host,scheme:E.scheme,userinfo:E.userinfo,port:E.port,path:E.path,query:E.query,nid:E.nid,nss:E.nss,uuid:E.uuid,fragment:E.fragment,reference:E.reference,resourceName:E.resourceName,secure:E.secure,error:""},T=Object.assign({},y),$=[],d=a[(T.scheme||S.scheme||"").toLowerCase()];d&&d.serialize&&d.serialize(S,T),S.path!==void 0&&(T.skipEscape?S.path=unescape(S.path):(S.path=escape(S.path),S.scheme!==void 0&&(S.path=S.path.split("%3A").join(":")))),T.reference!=="suffix"&&S.scheme&&$.push(S.scheme,":");const x=o(S);if(x!==void 0&&(T.reference!=="suffix"&&$.push("//"),$.push(x),S.path&&S.path.charAt(0)!=="/"&&$.push("/")),S.path!==void 0){let O=S.path;!T.absolutePath&&(!d||!d.absolutePath)&&(O=i(O)),x===void 0&&(O=O.replace(/^\/\//u,"/%2F")),$.push(O)}return S.query!==void 0&&$.push("?",S.query),S.fragment!==void 0&&$.push("#",S.fragment),$.join("")}var m=Array.from({length:127},(E,y)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(y)));function g(E){let y=0;for(let S=0,T=E.length;S<T;++S)if(y=E.charCodeAt(S),y>126||m[y])return!0;return!1}var _=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function v(E,y){const S=Object.assign({},y),T={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},$=E.indexOf("%")!==-1;let d=!1;S.reference==="suffix"&&(E=(S.scheme?S.scheme+":":"")+"//"+E);const x=E.match(_);if(x){if(T.scheme=x[1],T.userinfo=x[3],T.host=x[4],T.port=parseInt(x[5],10),T.path=x[6]||"",T.query=x[7],T.fragment=x[8],isNaN(T.port)&&(T.port=x[5]),T.host){const P=n(T.host);if(P.isIPV4===!1){const M=r(P.host);T.host=M.host.toLowerCase(),d=M.isIPV6}else T.host=P.host,d=!0}T.scheme===void 0&&T.userinfo===void 0&&T.host===void 0&&T.port===void 0&&T.query===void 0&&!T.path?T.reference="same-document":T.scheme===void 0?T.reference="relative":T.fragment===void 0?T.reference="absolute":T.reference="uri",S.reference&&S.reference!=="suffix"&&S.reference!==T.reference&&(T.error=T.error||"URI is not a "+S.reference+" reference.");const O=a[(S.scheme||T.scheme||"").toLowerCase()];if(!S.unicodeSupport&&(!O||!O.unicodeSupport)&&T.host&&(S.domainHost||O&&O.domainHost)&&d===!1&&g(T.host))try{T.host=URL.domainToASCII(T.host.toLowerCase())}catch(P){T.error=T.error||"Host's domain name can not be converted to ASCII: "+P}(!O||O&&!O.skipNormalize)&&($&&T.scheme!==void 0&&(T.scheme=unescape(T.scheme)),$&&T.host!==void 0&&(T.host=unescape(T.host)),T.path&&(T.path=escape(unescape(T.path))),T.fragment&&(T.fragment=encodeURI(decodeURIComponent(T.fragment)))),O&&O.parse&&O.parse(T,S)}else T.error=T.error||"URI can not be parsed.";return T}var p={SCHEMES:a,normalize:l,resolve:u,resolveComponents:f,equal:c,serialize:h,parse:v};t.exports=p,t.exports.default=p,t.exports.fastUri=p}}),Yfe=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/uri.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Jfe();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),Xfe=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/core.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=J1();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Wr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=K2(),i=Y1(),o=x9(),s=J2(),a=Wr(),l=K1(),u=AS(),f=_n(),c=Hfe(),h=Yfe(),m=(D,z)=>new RegExp(D,z);m.code="new RegExp";var g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(D){var z,Y,N,I,q,ae,Z,te,ue,xe,Le,C,F,L,ee,ce,me,ve,Te,De,Ge,Ve,ht,tt,Xe;const Q=D.strict,k=(z=D.code)===null||z===void 0?void 0:z.optimize,B=k===!0||k===void 0?1:k||0,le=(N=(Y=D.code)===null||Y===void 0?void 0:Y.regExp)!==null&&N!==void 0?N:m,Ee=(I=D.uriResolver)!==null&&I!==void 0?I:h.default;return{strictSchema:(ae=(q=D.strictSchema)!==null&&q!==void 0?q:Q)!==null&&ae!==void 0?ae:!0,strictNumbers:(te=(Z=D.strictNumbers)!==null&&Z!==void 0?Z:Q)!==null&&te!==void 0?te:!0,strictTypes:(xe=(ue=D.strictTypes)!==null&&ue!==void 0?ue:Q)!==null&&xe!==void 0?xe:"log",strictTuples:(C=(Le=D.strictTuples)!==null&&Le!==void 0?Le:Q)!==null&&C!==void 0?C:"log",strictRequired:(L=(F=D.strictRequired)!==null&&F!==void 0?F:Q)!==null&&L!==void 0?L:!1,code:D.code?{...D.code,optimize:B,regExp:le}:{optimize:B,regExp:le},loopRequired:(ee=D.loopRequired)!==null&&ee!==void 0?ee:E,loopEnum:(ce=D.loopEnum)!==null&&ce!==void 0?ce:E,meta:(me=D.meta)!==null&&me!==void 0?me:!0,messages:(ve=D.messages)!==null&&ve!==void 0?ve:!0,inlineRefs:(Te=D.inlineRefs)!==null&&Te!==void 0?Te:!0,schemaId:(De=D.schemaId)!==null&&De!==void 0?De:"$id",addUsedSchema:(Ge=D.addUsedSchema)!==null&&Ge!==void 0?Ge:!0,validateSchema:(Ve=D.validateSchema)!==null&&Ve!==void 0?Ve:!0,validateFormats:(ht=D.validateFormats)!==null&&ht!==void 0?ht:!0,unicodeRegExp:(tt=D.unicodeRegExp)!==null&&tt!==void 0?tt:!0,int32range:(Xe=D.int32range)!==null&&Xe!==void 0?Xe:!0,uriResolver:Ee}}var S=class{constructor(D={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,D=this.opts={...D,...y(D)};const{es5:z,lines:Y}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:z,lines:Y}),this.logger=U(D.logger);const N=D.validateFormats;D.validateFormats=!1,this.RULES=(0,o.getRules)(),T.call(this,v,D,"NOT SUPPORTED"),T.call(this,p,D,"DEPRECATED","warn"),this._metaOpts=P.call(this),D.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),D.keywords&&O.call(this,D.keywords),typeof D.meta=="object"&&this.addMetaSchema(D.meta),d.call(this),D.validateFormats=N}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:D,meta:z,schemaId:Y}=this.opts;let N=c;Y==="id"&&(N={...c},N.id=N.$id,delete N.$id),z&&D&&this.addMetaSchema(N,N[Y],!1)}defaultMeta(){const{meta:D,schemaId:z}=this.opts;return this.opts.defaultMeta=typeof D=="object"?D[z]||D:void 0}validate(D,z){let Y;if(typeof D=="string"){if(Y=this.getSchema(D),!Y)throw new Error(`no schema with key or ref "${D}"`)}else Y=this.compile(D);const N=Y(z);return"$async"in Y||(this.errors=Y.errors),N}compile(D,z){const Y=this._addSchema(D,z);return Y.validate||this._compileSchemaEnv(Y)}compileAsync(D,z){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:Y}=this.opts;return N.call(this,D,z);async function N(ue,xe){await I.call(this,ue.$schema);const Le=this._addSchema(ue,xe);return Le.validate||q.call(this,Le)}async function I(ue){ue&&!this.getSchema(ue)&&await N.call(this,{$ref:ue},!0)}async function q(ue){try{return this._compileSchemaEnv(ue)}catch(xe){if(!(xe instanceof i.default))throw xe;return ae.call(this,xe),await Z.call(this,xe.missingSchema),q.call(this,ue)}}function ae({missingSchema:ue,missingRef:xe}){if(this.refs[ue])throw new Error(`AnySchema ${ue} is loaded but ${xe} cannot be resolved`)}async function Z(ue){const xe=await te.call(this,ue);this.refs[ue]||await I.call(this,xe.$schema),this.refs[ue]||this.addSchema(xe,ue,z)}async function te(ue){const xe=this._loading[ue];if(xe)return xe;try{return await(this._loading[ue]=Y(ue))}finally{delete this._loading[ue]}}}addSchema(D,z,Y,N=this.opts.validateSchema){if(Array.isArray(D)){for(const q of D)this.addSchema(q,void 0,Y,N);return this}let I;if(typeof D=="object"){const{schemaId:q}=this.opts;if(I=D[q],I!==void 0&&typeof I!="string")throw new Error(`schema ${q} must be string`)}return z=(0,l.normalizeId)(z||I),this._checkUnique(z),this.schemas[z]=this._addSchema(D,Y,z,N,!0),this}addMetaSchema(D,z,Y=this.opts.validateSchema){return this.addSchema(D,z,!0,Y),this}validateSchema(D,z){if(typeof D=="boolean")return!0;let Y;if(Y=D.$schema,Y!==void 0&&typeof Y!="string")throw new Error("$schema must be a string");if(Y=Y||this.opts.defaultMeta||this.defaultMeta(),!Y)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const N=this.validate(Y,D);if(!N&&z){const I="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(I);else throw new Error(I)}return N}getSchema(D){let z;for(;typeof(z=$.call(this,D))=="string";)D=z;if(z===void 0){const{schemaId:Y}=this.opts,N=new s.SchemaEnv({schema:{},schemaId:Y});if(z=s.resolveSchema.call(this,N,D),!z)return;this.refs[D]=z}return z.validate||this._compileSchemaEnv(z)}removeSchema(D){if(D instanceof RegExp)return this._removeAllSchemas(this.schemas,D),this._removeAllSchemas(this.refs,D),this;switch(typeof D){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const z=$.call(this,D);return typeof z=="object"&&this._cache.delete(z.schema),delete this.schemas[D],delete this.refs[D],this}case"object":{const z=D;this._cache.delete(z);let Y=D[this.opts.schemaId];return Y&&(Y=(0,l.normalizeId)(Y),delete this.schemas[Y],delete this.refs[Y]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(D){for(const z of D)this.addKeyword(z);return this}addKeyword(D,z){let Y;if(typeof D=="string")Y=D,typeof z=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),z.keyword=Y);else if(typeof D=="object"&&z===void 0){if(z=D,Y=z.keyword,Array.isArray(Y)&&!Y.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ie.call(this,Y,z),!z)return(0,f.eachItem)(Y,I=>G.call(this,I)),this;ge.call(this,z);const N={...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)};return(0,f.eachItem)(Y,N.type.length===0?I=>G.call(this,I,N):I=>N.type.forEach(q=>G.call(this,I,N,q))),this}getKeyword(D){const z=this.RULES.all[D];return typeof z=="object"?z.definition:!!z}removeKeyword(D){const{RULES:z}=this;delete z.keywords[D],delete z.all[D];for(const Y of z.rules){const N=Y.rules.findIndex(I=>I.keyword===D);N>=0&&Y.rules.splice(N,1)}return this}addFormat(D,z){return typeof z=="string"&&(z=new RegExp(z)),this.formats[D]=z,this}errorsText(D=this.errors,{separator:z=", ",dataVar:Y="data"}={}){return!D||D.length===0?"No errors":D.map(N=>`${Y}${N.instancePath} ${N.message}`).reduce((N,I)=>N+z+I)}$dataMetaSchema(D,z){const Y=this.RULES.all;D=JSON.parse(JSON.stringify(D));for(const N of z){const I=N.split("/").slice(1);let q=D;for(const ae of I)q=q[ae];for(const ae in Y){const Z=Y[ae];if(typeof Z!="object")continue;const{$data:te}=Z.definition,ue=q[ae];te&&ue&&(q[ae]=se(ue))}}return D}_removeAllSchemas(D,z){for(const Y in D){const N=D[Y];(!z||z.test(Y))&&(typeof N=="string"?delete D[Y]:N&&!N.meta&&(this._cache.delete(N.schema),delete D[Y]))}}_addSchema(D,z,Y,N=this.opts.validateSchema,I=this.opts.addUsedSchema){let q;const{schemaId:ae}=this.opts;if(typeof D=="object")q=D[ae];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof D!="boolean")throw new Error("schema must be object or boolean")}let Z=this._cache.get(D);if(Z!==void 0)return Z;Y=(0,l.normalizeId)(q||Y);const te=l.getSchemaRefs.call(this,D,Y);return Z=new s.SchemaEnv({schema:D,schemaId:ae,meta:z,baseId:Y,localRefs:te}),this._cache.set(Z.schema,Z),I&&!Y.startsWith("#")&&(Y&&this._checkUnique(Y),this.refs[Y]=Z),N&&this.validateSchema(D,!0),Z}_checkUnique(D){if(this.schemas[D]||this.refs[D])throw new Error(`schema with key or id "${D}" already exists`)}_compileSchemaEnv(D){if(D.meta?this._compileMetaSchema(D):s.compileSchema.call(this,D),!D.validate)throw new Error("ajv implementation error");return D.validate}_compileMetaSchema(D){const z=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,D)}finally{this.opts=z}}};S.ValidationError=n.default,S.MissingRefError=i.default,e.default=S;function T(D,z,Y,N="error"){for(const I in D){const q=I;q in z&&this.logger[N](`${Y}: option ${I}. ${D[q]}`)}}function $(D){return D=(0,l.normalizeId)(D),this.schemas[D]||this.refs[D]}function d(){const D=this.opts.schemas;if(D)if(Array.isArray(D))this.addSchema(D);else for(const z in D)this.addSchema(D[z],z)}function x(){for(const D in this.opts.formats){const z=this.opts.formats[D];z&&this.addFormat(D,z)}}function O(D){if(Array.isArray(D)){this.addVocabulary(D);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const z in D){const Y=D[z];Y.keyword||(Y.keyword=z),this.addKeyword(Y)}}function P(){const D={...this.opts};for(const z of g)delete D[z];return D}var M={log(){},warn(){},error(){}};function U(D){if(D===!1)return M;if(D===void 0)return console;if(D.log&&D.warn&&D.error)return D;throw new Error("logger must implement log, warn and error methods")}var K=/^[a-z_$][a-z0-9_$:-]*$/i;function ie(D,z){const{RULES:Y}=this;if((0,f.eachItem)(D,N=>{if(Y.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!K.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!z&&z.$data&&!("code"in z||"validate"in z))throw new Error('$data keyword must have "code" or "validate" function')}function G(D,z,Y){var N;const I=z==null?void 0:z.post;if(Y&&I)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let ae=I?q.post:q.rules.find(({type:te})=>te===Y);if(ae||(ae={type:Y,rules:[]},q.rules.push(ae)),q.keywords[D]=!0,!z)return;const Z={keyword:D,definition:{...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)}};z.before?ne.call(this,ae,Z,z.before):ae.rules.push(Z),q.all[D]=Z,(N=z.implements)===null||N===void 0||N.forEach(te=>this.addKeyword(te))}function ne(D,z,Y){const N=D.rules.findIndex(I=>I.keyword===Y);N>=0?D.rules.splice(N,0,z):(D.rules.push(z),this.logger.warn(`rule ${Y} is not defined`))}function ge(D){let{metaSchema:z}=D;z!==void 0&&(D.$data&&this.opts.$data&&(z=se(z)),D.validateSchema=this.compile(z,!0))}var re={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function se(D){return{anyOf:[D,re]}}}}),Qfe=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/id.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),Zfe=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=Y1(),r=tu(),n=Wr(),i=gd(),o=J2(),s=_n(),a={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:h,it:m}=f,{baseId:g,schemaEnv:_,validateName:v,opts:p,self:E}=m,{root:y}=_;if((h==="#"||h==="#/")&&g===y.baseId)return T();const S=o.resolveRef.call(E,y,g,h);if(S===void 0)throw new t.default(m.opts.uriResolver,g,h);if(S instanceof o.SchemaEnv)return $(S);return d(S);function T(){if(_===y)return u(f,v,_,_.$async);const x=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${x}.validate`,y,y.$async)}function $(x){const O=l(f,x);u(f,O,x,x.$async)}function d(x){const O=c.scopeValue("schema",p.code.source===!0?{ref:x,code:(0,n.stringify)(x)}:{ref:x}),P=c.name("valid"),M=f.subschema({schema:x,dataTypes:[],schemaPath:n.nil,topSchemaRef:O,errSchemaPath:h},P);f.mergeEvaluated(M),f.ok(P)}}};function l(f,c){const{gen:h}=f;return c.validate?h.scopeValue("validate",{ref:c.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,h,m){const{gen:g,it:_}=f,{allErrors:v,schemaEnv:p,opts:E}=_,y=E.passContext?i.default.this:n.nil;m?S():T();function S(){if(!p.$async)throw new Error("async schema referenced by sync schema");const x=g.let("valid");g.try(()=>{g.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||g.assign(x,!0)},O=>{g.if((0,n._)`!(${O} instanceof ${_.ValidationError})`,()=>g.throw(O)),$(O),v||g.assign(x,!1)}),f.ok(x)}function T(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>$(c))}function $(x){const O=(0,n._)`${x}.errors`;g.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${O} : ${i.default.vErrors}.concat(${O})`),g.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(x){var O;if(!_.opts.unevaluated)return;const P=(O=h==null?void 0:h.validate)===null||O===void 0?void 0:O.evaluated;if(_.props!==!0)if(P&&!P.dynamicProps)P.props!==void 0&&(_.props=s.mergeEvaluated.props(g,P.props,_.props));else{const M=g.var("props",(0,n._)`${x}.evaluated.props`);_.props=s.mergeEvaluated.props(g,M,_.props,n.Name)}if(_.items!==!0)if(P&&!P.dynamicItems)P.items!==void 0&&(_.items=s.mergeEvaluated.items(g,P.items,_.items));else{const M=g.var("items",(0,n._)`${x}.evaluated.items`);_.items=s.mergeEvaluated.items(g,M,_.items,n.Name)}}}e.callRef=u,e.default=a}}),ede=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Qfe(),r=Zfe(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),tde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Wr(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:s,schemaCode:a})=>(0,t.str)`must be ${n[s].okStr} ${a}`,params:({keyword:s,schemaCode:a})=>(0,t._)`{comparison: ${n[s].okStr}, limit: ${a}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u}=s;s.fail$data((0,t._)`${l} ${n[a].fail} ${u} || isNaN(${l})`)}};e.default=o}}),rde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Wr(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:s,schemaCode:a,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${a} === 0 || (${f} = ${s}/${a}, ${c}))`)}};e.default=n}}),nde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/ucs2length.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,s;for(;o<n;)i++,s=r.charCodeAt(o++),s>=55296&&s<=56319&&o<n&&(s=r.charCodeAt(o),(s&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),ide=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Wr(),r=_n(),n=nde(),i={message({keyword:s,schemaCode:a}){const l=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${a} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u,it:f}=s,c=a==="maxLength"?t.operators.GT:t.operators.LT,h=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(s.gen,n.default)}(${l})`;s.fail$data((0,t._)`${h} ${c} ${u}`)}};e.default=o}}),ode=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=tu(),r=Wr(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:s,$data:a,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",h=a?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${h}.test(${s})`)}};e.default=i}}),sde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Wr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${s}).length ${l} ${a}`)}};e.default=n}}),ade=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=tu(),r=Wr(),n=_n(),i={message:({params:{missingProperty:s}})=>(0,r.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,r._)`{missingProperty: ${s}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,schema:l,schemaCode:u,data:f,$data:c,it:h}=s,{opts:m}=h;if(!c&&l.length===0)return;const g=l.length>=m.loopRequired;if(h.allErrors?_():v(),m.strictRequired){const y=s.parentSchema.properties,{definedProperties:S}=s.it;for(const T of l)if((y==null?void 0:y[T])===void 0&&!S.has(T)){const $=h.schemaEnv.baseId+h.errSchemaPath,d=`required property "${T}" is not defined at "${$}" (strictRequired)`;(0,n.checkStrictMode)(h,d,h.opts.strictRequired)}}function _(){if(g||c)s.block$data(r.nil,p);else for(const y of l)(0,t.checkReportMissingProp)(s,y)}function v(){const y=a.let("missing");if(g||c){const S=a.let("valid",!0);s.block$data(S,()=>E(y,S)),s.ok(S)}else a.if((0,t.checkMissingProp)(s,l,y)),(0,t.reportMissingProp)(s,y),a.else()}function p(){a.forOf("prop",u,y=>{s.setParams({missingProperty:y}),a.if((0,t.noPropertyInData)(a,f,y,m.ownProperties),()=>s.error())})}function E(y,S){s.setParams({missingProperty:y}),a.forOf(y,u,()=>{a.assign(S,(0,t.propertyInData)(a,f,y,m.ownProperties)),a.if((0,r.not)(S),()=>{s.error(),a.break()})},r.nil)}}};e.default=o}}),lde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Wr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${s}.length ${l} ${a}`)}};e.default=n}}),Y2=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/equal.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=og();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),ude=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=AS(),r=Wr(),n=_n(),i=Y2(),o={message:({params:{i:a,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${a} are identical)`,params:({params:{i:a,j:l}})=>(0,r._)`{i: ${a}, j: ${l}}`},s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(a){const{gen:l,data:u,$data:f,schema:c,parentSchema:h,schemaCode:m,it:g}=a;if(!f&&!c)return;const _=l.let("valid"),v=h.items?(0,t.getSchemaTypes)(h.items):[];a.block$data(_,p,(0,r._)`${m} === false`),a.ok(_);function p(){const T=l.let("i",(0,r._)`${u}.length`),$=l.let("j");a.setParams({i:T,j:$}),l.assign(_,!0),l.if((0,r._)`${T} > 1`,()=>(E()?y:S)(T,$))}function E(){return v.length>0&&!v.some(T=>T==="object"||T==="array")}function y(T,$){const d=l.name("item"),x=(0,t.checkDataTypes)(v,d,g.opts.strictNumbers,t.DataType.Wrong),O=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${T}--;`,()=>{l.let(d,(0,r._)`${u}[${T}]`),l.if(x,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${O}[${d}] == "number"`,()=>{l.assign($,(0,r._)`${O}[${d}]`),a.error(),l.assign(_,!1).break()}).code((0,r._)`${O}[${d}] = ${T}`)})}function S(T,$){const d=(0,n.useFunc)(l,i.default),x=l.name("outer");l.label(x).for((0,r._)`;${T}--;`,()=>l.for((0,r._)`${$} = ${T}; ${$}--;`,()=>l.if((0,r._)`${d}(${u}[${T}], ${u}[${$}])`,()=>{a.error(),l.assign(_,!1).break(x)})))}}};e.default=s}}),cde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Wr(),r=_n(),n=Y2(),i={message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},o={keyword:"const",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schemaCode:f,schema:c}=s;u||c&&typeof c=="object"?s.fail$data((0,t._)`!${(0,r.useFunc)(a,n.default)}(${l}, ${f})`):s.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),fde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Wr(),r=_n(),n=Y2(),i={message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schema:f,schemaCode:c,it:h}=s;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=h.opts.loopEnum;let g;const _=()=>g??(g=(0,r.useFunc)(a,n.default));let v;if(m||u)v=a.let("valid"),s.block$data(v,p);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=a.const("vSchema",c);v=(0,t.or)(...f.map((S,T)=>E(y,T)))}s.pass(v);function p(){a.assign(v,!1),a.forOf("v",c,y=>a.if((0,t._)`${_()}(${l}, ${y})`,()=>a.assign(v,!0).break()))}function E(y,S){const T=f[S];return typeof T=="object"&&T!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${T}`}}};e.default=o}}),dde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=tde(),r=rde(),n=ide(),i=ode(),o=sde(),s=ade(),a=lde(),l=ude(),u=cde(),f=fde(),c=[t.default,r.default,n.default,i.default,o.default,s.default,a.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),O9=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=Wr(),r=_n(),n={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(s){const{parentSchema:a,it:l}=s,{items:u}=a;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(s,u)}};function o(s,a){const{gen:l,schema:u,data:f,keyword:c,it:h}=s;h.items=!0;const m=l.const("len",(0,t._)`${f}.length`);if(u===!1)s.setParams({len:a.length}),s.pass((0,t._)`${m} <= ${a.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(h,u)){const _=l.var("valid",(0,t._)`${m} <= ${a.length}`);l.if((0,t.not)(_),()=>g(_)),s.ok(_)}function g(_){l.forRange("i",a.length,m,v=>{s.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),h.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),P9=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=Wr(),r=_n(),n=tu(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:a,it:l}=s;if(Array.isArray(a))return o(s,"additionalItems",a);l.items=!0,!(0,r.alwaysValidSchema)(l,a)&&s.ok((0,n.validateArray)(s))}};function o(s,a,l=s.schema){const{gen:u,parentSchema:f,data:c,keyword:h,it:m}=s;v(f),m.opts.unevaluated&&l.length&&m.items!==!0&&(m.items=r.mergeEvaluated.items(u,l.length,m.items));const g=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((p,E)=>{(0,r.alwaysValidSchema)(m,p)||(u.if((0,t._)`${_} > ${E}`,()=>s.subschema({keyword:h,schemaProp:E,dataProp:E},g)),s.ok(g))});function v(p){const{opts:E,errSchemaPath:y}=m,S=l.length,T=S===p.minItems&&(S===p.maxItems||p[a]===!1);if(E.strictTuples&&!T){const $=`"${h}" is ${S}-tuple, but minItems or maxItems/${a} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(m,$,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),hde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=P9(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),pde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Wr(),r=_n(),n=tu(),i=O9(),o={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(a){const{schema:l,parentSchema:u,it:f}=a,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(a,c):a.ok((0,n.validateArray)(a)))}};e.default=s}}),mde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Wr(),r=_n(),n={message:({params:{min:o,max:s}})=>s===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${s} valid item(s)`,params:({params:{min:o,max:s}})=>s===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${s}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:f}=o;let c,h;const{minContains:m,maxContains:g}=l;f.opts.next?(c=m===void 0?1:m,h=g):c=1;const _=s.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:h}),h===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&c>h){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,a)){let S=(0,t._)`${_} >= ${c}`;h!==void 0&&(S=(0,t._)`${S} && ${_} <= ${h}`),o.pass(S);return}f.items=!0;const v=s.name("valid");h===void 0&&c===1?E(v,()=>s.if(v,()=>s.break())):c===0?(s.let(v,!0),h!==void 0&&s.if((0,t._)`${u}.length > 0`,p)):(s.let(v,!1),p()),o.result(v,()=>o.reset());function p(){const S=s.name("_valid"),T=s.let("count",0);E(S,()=>s.if(S,()=>y(T)))}function E(S,T){s.forRange("i",0,_,$=>{o.subschema({keyword:"contains",dataProp:$,dataPropType:r.Type.Num,compositeRule:!0},S),T()})}function y(S){s.code((0,t._)`${S}++`),h===void 0?s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0).break()):(s.if((0,t._)`${S} > ${h}`,()=>s.assign(v,!1).break()),c===1?s.assign(v,!0):s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0)))}}};e.default=i}}),gde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=Wr(),r=_n(),n=tu();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);s(l,u),a(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?u:f;h[c]=l[c]}return[u,f]}function s(l,u=l.schema){const{gen:f,data:c,it:h}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,h.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(v,()=>{for(const p of _)(0,n.checkReportMissingProp)(l,p)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:f,data:c,keyword:h,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i}}),vde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Wr(),r=_n(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:s,schema:a,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,a))return;const f=s.name("valid");s.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),s.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||s.break()})}),o.ok(f)}};e.default=i}}),R9=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=tu(),r=Wr(),n=gd(),i=_n(),o={message:"must NOT have additional properties",params:({params:a})=>(0,r._)`{additionalProperty: ${a.additionalProperty}}`},s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(a){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:h,it:m}=a;if(!h)throw new Error("ajv implementation error");const{allErrors:g,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(m,u))return;const v=(0,t.allSchemaProperties)(f.properties),p=(0,t.allSchemaProperties)(f.patternProperties);E(),a.ok((0,r._)`${h} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!p.length?T(d):l.if(y(d),()=>T(d))})}function y(d){let x;if(v.length>8){const O=(0,i.schemaRefOrVal)(m,f.properties,"properties");x=(0,t.isOwnProperty)(l,O,d)}else v.length?x=(0,r.or)(...v.map(O=>(0,r._)`${d} === ${O}`)):x=r.nil;return p.length&&(x=(0,r.or)(x,...p.map(O=>(0,r._)`${(0,t.usePattern)(a,O)}.test(${d})`))),(0,r.not)(x)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function T(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){a.setParams({additionalProperty:d}),a.error(),g||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(m,u)){const x=l.name("valid");_.removeAdditional==="failing"?($(d,x,!1),l.if((0,r.not)(x),()=>{a.reset(),S(d)})):($(d,x),g||l.if((0,r.not)(x),()=>l.break()))}}function $(d,x,O){const P={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};O===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(P,x)}}};e.default=s}}),yde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=J1(),r=tu(),n=_n(),i=R9(),o={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,parentSchema:u,data:f,it:c}=s;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const h=(0,r.allSchemaProperties)(l);for(const p of h)c.definedProperties.add(p);c.opts.unevaluated&&h.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(a,(0,n.toHash)(h),c.props));const m=h.filter(p=>!(0,n.alwaysValidSchema)(c,l[p]));if(m.length===0)return;const g=a.name("valid");for(const p of m)_(p)?v(p):(a.if((0,r.propertyInData)(a,f,p,c.opts.ownProperties)),v(p),c.allErrors||a.else().var(g,!0),a.endIf()),s.it.definedProperties.add(p),s.ok(g);function _(p){return c.opts.useDefaults&&!c.compositeRule&&l[p].default!==void 0}function v(p){s.subschema({keyword:"properties",schemaProp:p,dataProp:p},g)}}};e.default=o}}),wde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=tu(),r=Wr(),n=_n(),i=_n(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,data:u,parentSchema:f,it:c}=s,{opts:h}=c,m=(0,t.allSchemaProperties)(l),g=m.filter(T=>(0,n.alwaysValidSchema)(c,l[T]));if(m.length===0||g.length===m.length&&(!c.opts.unevaluated||c.props===!0))return;const _=h.strictSchema&&!h.allowMatchingProperties&&f.properties,v=a.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(a,c.props));const{props:p}=c;E();function E(){for(const T of m)_&&y(T),c.allErrors?S(T):(a.var(v,!0),S(T),a.if(v))}function y(T){for(const $ in _)new RegExp(T).test($)&&(0,n.checkStrictMode)(c,`property ${$} matches pattern ${T} (use allowMatchingProperties)`)}function S(T){a.forIn("key",u,$=>{a.if((0,r._)`${(0,t.usePattern)(s,T)}.test(${$})`,()=>{const d=g.includes(T);d||s.subschema({keyword:"patternProperties",schemaProp:T,dataProp:$,dataPropType:i.Type.Str},v),c.opts.unevaluated&&p!==!0?a.assign((0,r._)`${p}[${$}]`,!0):!d&&!c.allErrors&&a.if((0,r.not)(v),()=>a.break())})})}}};e.default=o}}),bde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=_n(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:s}=n;if((0,t.alwaysValidSchema)(s,o)){n.fail();return}const a=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),n.failResult(a,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),_de=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=tu(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),Ede=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Wr(),r=_n(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,it:u}=o;if(!Array.isArray(a))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=a,c=s.let("valid",!1),h=s.let("passing",null),m=s.name("_valid");o.setParams({passing:h}),s.block(g),o.result(c,()=>o.reset(),()=>o.error(!0));function g(){f.forEach((_,v)=>{let p;(0,r.alwaysValidSchema)(u,_)?s.var(m,!0):p=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},m),v>0&&s.if((0,t._)`${m} && ${c}`).assign(c,!1).assign(h,(0,t._)`[${h}, ${v}]`).else(),s.if(m,()=>{s.assign(c,!0),s.assign(h,v),p&&o.mergeEvaluated(p,t.Name)})})}}};e.default=i}}),Sde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=_n(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:s}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const a=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(s,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},a);n.ok(a),n.mergeEvaluated(f)})}};e.default=r}}),Tde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Wr(),r=_n(),n={message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(s){const{gen:a,parentSchema:l,it:u}=s;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const h=a.let("valid",!0),m=a.name("_valid");if(g(),s.reset(),f&&c){const v=a.let("ifClause");s.setParams({ifClause:v}),a.if(m,_("then",v),_("else",v))}else f?a.if(m,_("then")):a.if((0,t.not)(m),_("else"));s.pass(h,()=>s.error(!0));function g(){const v=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);s.mergeEvaluated(v)}function _(v,p){return()=>{const E=s.subschema({keyword:v},m);a.assign(h,m),s.mergeValidEvaluated(E,h),p?a.assign(p,(0,t._)`${v}`):s.setParams({ifClause:v})}}}};function o(s,a){const l=s.schema[a];return l!==void 0&&!(0,r.alwaysValidSchema)(s,l)}e.default=i}}),$de=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=_n(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),xde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=O9(),r=hde(),n=P9(),i=pde(),o=mde(),s=gde(),a=vde(),l=R9(),u=yde(),f=wde(),c=bde(),h=_de(),m=Ede(),g=Sde(),_=Tde(),v=$de();function p(E=!1){const y=[c.default,h.default,m.default,g.default,_.default,v.default,a.default,l.default,s.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=p}}),Ade=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/format/format.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Wr(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:s,data:a,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:h,errSchemaPath:m,schemaEnv:g,self:_}=c;if(!h.validateFormats)return;l?v():p();function v(){const E=s.scopeValue("formats",{ref:_.formats,code:h.code.formats}),y=s.const("fDef",(0,t._)`${E}[${f}]`),S=s.let("fType"),T=s.let("format");s.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>s.assign(S,(0,t._)`${y}.type || "string"`).assign(T,(0,t._)`${y}.validate`),()=>s.assign(S,(0,t._)`"string"`).assign(T,y)),i.fail$data((0,t.or)($(),d()));function $(){return h.strictSchema===!1?t.nil:(0,t._)`${f} && !${T}`}function d(){const x=g.$async?(0,t._)`(${y}.async ? await ${T}(${a}) : ${T}(${a}))`:(0,t._)`${T}(${a})`,O=(0,t._)`(typeof ${T} == "function" ? ${x} : ${T}.test(${a}))`;return(0,t._)`${T} && ${T} !== true && ${S} === ${o} && !${O}`}}function p(){const E=_.formats[u];if(!E){$();return}if(E===!0)return;const[y,S,T]=d(E);y===o&&i.pass(x());function $(){if(h.strictSchema===!1){_.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function d(O){const P=O instanceof RegExp?(0,t.regexpCode)(O):h.code.formats?(0,t._)`${h.code.formats}${(0,t.getProperty)(u)}`:void 0,M=s.scopeValue("formats",{key:u,ref:O,code:P});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,t._)`${M}.validate`]:["string",O,M]}function x(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!g.$async)throw new Error("async format in sync schema");return(0,t._)`await ${T}(${a})`}return typeof S=="function"?(0,t._)`${T}(${a})`:(0,t._)`${T}.test(${a})`}}}};e.default=n}}),Ode=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/format/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ade(),r=[t.default];e.default=r}}),Pde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/metadata.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),Rde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/draft7.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=ede(),r=dde(),n=xde(),i=Ode(),o=Pde(),s=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=s}}),Nde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0;var t;(function(r){r.Tag="tag",r.Mapping="mapping"})(t||(e.DiscrError=t={}))}}),Ide=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Wr(),r=Nde(),n=J2(),i=Y1(),o=_n(),s={message:({params:{discrError:l,tagName:u}})=>l===r.DiscrError.Tag?`tag "${u}" must be string`:`value of tag "${u}" must be in oneOf`,params:({params:{discrError:l,tag:u,tagName:f}})=>(0,t._)`{error: ${l}, tag: ${f}, tagValue: ${u}}`},a={keyword:"discriminator",type:"object",schemaType:"object",error:s,code(l){const{gen:u,data:f,schema:c,parentSchema:h,it:m}=l,{oneOf:g}=h;if(!m.opts.discriminator)throw new Error("discriminator: requires discriminator option");const _=c.propertyName;if(typeof _!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");const v=u.let("valid",!1),p=u.const("tag",(0,t._)`${f}${(0,t.getProperty)(_)}`);u.if((0,t._)`typeof ${p} == "string"`,()=>E(),()=>l.error(!1,{discrError:r.DiscrError.Tag,tag:p,tagName:_})),l.ok(v);function E(){const T=S();u.if(!1);for(const $ in T)u.elseIf((0,t._)`${p} === ${$}`),u.assign(v,y(T[$]));u.else(),l.error(!1,{discrError:r.DiscrError.Mapping,tag:p,tagName:_}),u.endIf()}function y(T){const $=u.name("valid"),d=l.subschema({keyword:"oneOf",schemaProp:T},$);return l.mergeEvaluated(d,t.Name),$}function S(){var T;const $={},d=O(h);let x=!0;for(let U=0;U<g.length;U++){let K=g[U];if(K!=null&&K.$ref&&!(0,o.schemaHasRulesButRef)(K,m.self.RULES)){const G=K.$ref;if(K=n.resolveRef.call(m.self,m.schemaEnv.root,m.baseId,G),K instanceof n.SchemaEnv&&(K=K.schema),K===void 0)throw new i.default(m.opts.uriResolver,m.baseId,G)}const ie=(T=K==null?void 0:K.properties)===null||T===void 0?void 0:T[_];if(typeof ie!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${_}"`);x=x&&(d||O(K)),P(ie,U)}if(!x)throw new Error(`discriminator: "${_}" must be required`);return $;function O({required:U}){return Array.isArray(U)&&U.includes(_)}function P(U,K){if(U.const)M(U.const,K);else if(U.enum)for(const ie of U.enum)M(ie,K);else throw new Error(`discriminator: "properties/${_}" must have "const" or "enum"`)}function M(U,K){if(typeof U!="string"||U in $)throw new Error(`discriminator: "${_}" values must be unique strings`);$[U]=K}}}};e.default=a}}),Cde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),N9=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/ajv.js"(e,t){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;var r=Xfe(),n=Rde(),i=Ide(),o=Cde(),s=["/properties"],a="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(m,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}};e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=J1();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=Wr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=K2();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=Y1();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}}),kde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/formats.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(M,U){return{validate:M,compare:U}}e.fullFormats={date:t(o,s),time:t(l(!0),u),"date-time":t(h(!0),m),"iso-time":t(l(),f),"iso-date-time":t(h(),g),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:p,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:P,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:$},int64:{type:"number",validate:d},float:{type:"number",validate:x},double:{type:"number",validate:x},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,g),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(M){return M%4===0&&(M%100!==0||M%400===0)}var n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(M){const U=n.exec(M);if(!U)return!1;const K=+U[1],ie=+U[2],G=+U[3];return ie>=1&&ie<=12&&G>=1&&G<=(ie===2&&r(K)?29:i[ie])}function s(M,U){if(M&&U)return M>U?1:M<U?-1:0}var a=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(M){return function(K){const ie=a.exec(K);if(!ie)return!1;const G=+ie[1],ne=+ie[2],ge=+ie[3],re=ie[4],se=ie[5]==="-"?-1:1,D=+(ie[6]||0),z=+(ie[7]||0);if(D>23||z>59||M&&!re)return!1;if(G<=23&&ne<=59&&ge<60)return!0;const Y=ne-z*se,N=G-D*se-(Y<0?1:0);return(N===23||N===-1)&&(Y===59||Y===-1)&&ge<61}}function u(M,U){if(!(M&&U))return;const K=new Date("2020-01-01T"+M).valueOf(),ie=new Date("2020-01-01T"+U).valueOf();if(K&&ie)return K-ie}function f(M,U){if(!(M&&U))return;const K=a.exec(M),ie=a.exec(U);if(K&&ie)return M=K[1]+K[2]+K[3],U=ie[1]+ie[2]+ie[3],M>U?1:M<U?-1:0}var c=/t|\s/i;function h(M){const U=l(M);return function(ie){const G=ie.split(c);return G.length===2&&o(G[0])&&U(G[1])}}function m(M,U){if(!(M&&U))return;const K=new Date(M).valueOf(),ie=new Date(U).valueOf();if(K&&ie)return K-ie}function g(M,U){if(!(M&&U))return;const[K,ie]=M.split(c),[G,ne]=U.split(c),ge=s(K,G);if(ge!==void 0)return ge||u(ie,ne)}var _=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function p(M){return _.test(M)&&v.test(M)}var E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(M){return E.lastIndex=0,E.test(M)}var S=-2147483648,T=2**31-1;function $(M){return Number.isInteger(M)&&M<=T&&M>=S}function d(M){return Number.isInteger(M)}function x(){return!0}var O=/[^\\]\\Z/;function P(M){if(O.test(M))return!1;try{return new RegExp(M),!0}catch{return!1}}}}),jde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/limit.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;var t=N9(),r=Wr(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:a,schemaCode:l})=>(0,r.str)`should be ${i[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>(0,r._)`{comparison: ${i[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(a){const{gen:l,data:u,schemaCode:f,keyword:c,it:h}=a,{opts:m,self:g}=h;if(!m.validateFormats)return;const _=new t.KeywordCxt(h,g.RULES.all.format.definition,"format");_.$data?v():p();function v(){const y=l.scopeValue("formats",{ref:g.formats,code:m.code.formats}),S=l.const("fmt",(0,r._)`${y}[${_.schemaCode}]`);a.fail$data((0,r.or)((0,r._)`typeof ${S} != "object"`,(0,r._)`${S} instanceof RegExp`,(0,r._)`typeof ${S}.compare != "function"`,E(S)))}function p(){const y=_.schema,S=g.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const T=l.scopeValue("formats",{key:y,ref:S,code:m.code.formats?(0,r._)`${m.code.formats}${(0,r.getProperty)(y)}`:void 0});a.fail$data(E(T))}function E(y){return(0,r._)`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};var s=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=s}}),Dde=Fe({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/index.js"(e,t){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var r=kde(),n=jde(),i=Wr(),o=new i.Name("fullFormats"),s=new i.Name("fastFormats"),a=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,h]=f.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,o],m=f.formats||r.formatNames;return l(u,m,c,h),f.keywords&&(0,n.default)(u),u};a.get=(u,f="full")=>{const h=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!h)throw new Error(`Unknown format "${u}"`);return h};function l(u,f,c,h){var m,g;(m=(g=u.opts.code).formats)!==null&&m!==void 0||(g.formats=(0,i._)`require("ajv-formats/dist/formats").${h}`);for(const _ of f)u.addFormat(_,c[_])}t.exports=e=a,Object.defineProperty(e,"__esModule",{value:!0}),e.default=a}});function vd(){return BP||(BP=!0,typeof Object.create=="function"?hv=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:hv=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),hv}var hv,BP,X2=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CkFCi-G1.js"(){Ie(),hv={},BP=!1}});function qn(){qn.init.call(this)}function Pb(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function I9(e){return e._maxListeners===void 0?qn.defaultMaxListeners:e._maxListeners}function j3(e,t,r,n){var i,o,s,a;if(Pb(r),(o=e._events)===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),s===void 0)s=o[t]=r,++e._eventsCount;else if(typeof s=="function"?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=I9(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function Mde(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function D3(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=Mde.bind(n);return i.listener=r,n.wrapFn=i,i}function M3(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?function(o){for(var s=new Array(o.length),a=0;a<s.length;++a)s[a]=o[a].listener||o[a];return s}(i):C9(i,i.length)}function L3(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function C9(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}var F3,B3,zd,xx,Ax,Ox,ss,X1=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-tHuMsdT0.js"(){Ie(),zd=typeof Reflect=="object"?Reflect:null,xx=zd&&typeof zd.apply=="function"?zd.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},B3=zd&&typeof zd.ownKeys=="function"?zd.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},Ax=Number.isNaN||function(e){return e!=e},F3=qn,qn.EventEmitter=qn,qn.prototype._events=void 0,qn.prototype._eventsCount=0,qn.prototype._maxListeners=void 0,Ox=10,Object.defineProperty(qn,"defaultMaxListeners",{enumerable:!0,get:function(){return Ox},set:function(e){if(typeof e!="number"||e<0||Ax(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Ox=e}}),qn.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},qn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Ax(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},qn.prototype.getMaxListeners=function(){return I9(this)},qn.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(a===void 0)return!1;if(typeof a=="function")xx(a,this,t);else{var l=a.length,u=C9(a,l);for(r=0;r<l;++r)xx(u[r],this,t)}return!0},qn.prototype.addListener=function(e,t){return j3(this,e,t,!1)},qn.prototype.on=qn.prototype.addListener,qn.prototype.prependListener=function(e,t){return j3(this,e,t,!0)},qn.prototype.once=function(e,t){return Pb(t),this.on(e,D3(this,e,t)),this},qn.prototype.prependOnceListener=function(e,t){return Pb(t),this.prependListener(e,D3(this,e,t)),this},qn.prototype.removeListener=function(e,t){var r,n,i,o,s;if(Pb(t),(n=this._events)===void 0)return this;if((r=n[e])===void 0)return this;if(r===t||r.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():function(a,l){for(;l+1<a.length;l++)a[l]=a[l+1];a.pop()}(r,i),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this},qn.prototype.off=qn.prototype.removeListener,qn.prototype.removeAllListeners=function(e){var t,r,n;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i,o=Object.keys(r);for(n=0;n<o.length;++n)(i=o[n])!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=r[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},qn.prototype.listeners=function(e){return M3(this,e,!0)},qn.prototype.rawListeners=function(e){return M3(this,e,!1)},qn.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):L3.call(e,t)},qn.prototype.listenerCount=L3,qn.prototype.eventNames=function(){return this._eventsCount>0?B3(this._events):[]},ss=F3,ss.EventEmitter,ss.defaultMaxListeners,ss.init,ss.listenerCount,ss.EventEmitter,ss.defaultMaxListeners,ss.init,ss.listenerCount}}),Lde=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtDiafJB.js"(){Ie(),X1(),ss.once=function(e,t){return new Promise((r,n)=>{function i(...s){o!==void 0&&e.removeListener("error",o),r(s)}let o;t!=="error"&&(o=s=>{e.removeListener(name,i),n(s)},e.once("error",o)),e.once(t,i)})},ss.on=function(e,t){const r=[],n=[];let i=null,o=!1;const s={async next(){const u=r.shift();if(u)return createIterResult(u,!1);if(i){const f=Promise.reject(i);return i=null,f}return o?createIterResult(void 0,!0):new Promise((f,c)=>n.push({resolve:f,reject:c}))},async return(){e.removeListener(t,a),e.removeListener("error",l),o=!0;for(const u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,e.removeListener(t,a),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,a),e.on("error",l),s;function a(...u){const f=n.shift();f?f.resolve(createIterResult(u,!1)):r.push(u)}function l(u){o=!0;const f=n.shift();f?f.reject(u):i=u,s.return()}}}});function UP(){throw new Error("setTimeout has not been defined")}function zP(){throw new Error("clearTimeout has not been defined")}function k9(e){if(mc===setTimeout)return setTimeout(e,0);if((mc===UP||!mc)&&setTimeout)return mc=setTimeout,setTimeout(e,0);try{return mc(e,0)}catch{try{return mc.call(null,e,0)}catch{return mc.call(this||Rh,e,0)}}}function Fde(){Nh&&Eh&&(Nh=!1,Eh.length?Iu=Eh.concat(Iu):Vv=-1,Iu.length&&j9())}function j9(){if(!Nh){var e=k9(Fde);Nh=!0;for(var t=Iu.length;t;){for(Eh=Iu,Iu=[];++Vv<t;)Eh&&Eh[Vv].run();Vv=-1,t=Iu.length}Eh=null,Nh=!1,function(r){if(gc===clearTimeout)return clearTimeout(r);if((gc===zP||!gc)&&clearTimeout)return gc=clearTimeout,clearTimeout(r);try{gc(r)}catch{try{return gc.call(null,r)}catch{return gc.call(this||Rh,r)}}}(e)}}function U3(e,t){(this||Rh).fun=e,(this||Rh).array=t}function uc(){}function qd(e){return e.call.bind(e)}function s0(e,t){if(typeof e!="object")return!1;try{return t(e),!0}catch{return!1}}function z3(e){return ms&&Gs?b(e)!==void 0:D9(e)||M9(e)||L9(e)||F9(e)||B9(e)||U9(e)||z9(e)||q9(e)||V9(e)||H9(e)||W9(e)}function D9(e){return ms&&Gs?b(e)==="Uint8Array":ci(e)==="[object Uint8Array]"||Y9(e)&&e.buffer!==void 0}function M9(e){return ms&&Gs?b(e)==="Uint8ClampedArray":ci(e)==="[object Uint8ClampedArray]"}function L9(e){return ms&&Gs?b(e)==="Uint16Array":ci(e)==="[object Uint16Array]"}function F9(e){return ms&&Gs?b(e)==="Uint32Array":ci(e)==="[object Uint32Array]"}function B9(e){return ms&&Gs?b(e)==="Int8Array":ci(e)==="[object Int8Array]"}function U9(e){return ms&&Gs?b(e)==="Int16Array":ci(e)==="[object Int16Array]"}function z9(e){return ms&&Gs?b(e)==="Int32Array":ci(e)==="[object Int32Array]"}function q9(e){return ms&&Gs?b(e)==="Float32Array":ci(e)==="[object Float32Array]"}function V9(e){return ms&&Gs?b(e)==="Float64Array":ci(e)==="[object Float64Array]"}function H9(e){return ms&&Gs?b(e)==="BigInt64Array":ci(e)==="[object BigInt64Array]"}function W9(e){return ms&&Gs?b(e)==="BigUint64Array":ci(e)==="[object BigUint64Array]"}function Tw(e){return ci(e)==="[object Map]"}function $w(e){return ci(e)==="[object Set]"}function xw(e){return ci(e)==="[object WeakMap]"}function Px(e){return ci(e)==="[object WeakSet]"}function OS(e){return ci(e)==="[object ArrayBuffer]"}function q3(e){return typeof ArrayBuffer<"u"&&(OS.working?OS(e):e instanceof ArrayBuffer)}function PS(e){return ci(e)==="[object DataView]"}function V3(e){return typeof DataView<"u"&&(PS.working?PS(e):e instanceof DataView)}function RS(e){return ci(e)==="[object SharedArrayBuffer]"}function H3(e){return typeof SharedArrayBuffer<"u"&&(RS.working?RS(e):e instanceof SharedArrayBuffer)}function W3(e){return s0(e,X9)}function G3(e){return s0(e,Q9)}function K3(e){return s0(e,Z9)}function J3(e){return qP&&s0(e,w)}function Y3(e){return Nb&&s0(e,v2)}function Ff(e,t){var r={seen:[],stylize:Ude};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Q2(t)?r.showHidden=t:t&&Et._extend(r,t),_h(r.showHidden)&&(r.showHidden=!1),_h(r.depth)&&(r.depth=2),_h(r.colors)&&(r.colors=!1),_h(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Bde),NS(r,e,r.depth)}function Bde(e,t){var r=Ff.styles[t];return r?"\x1B["+Ff.colors[r][0]+"m"+e+"\x1B["+Ff.colors[r][1]+"m":e}function Ude(e,t){return e}function NS(e,t,r){if(e.customInspect&&t&&Rb(t.inspect)&&t.inspect!==Et.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return CS(n)||(n=NS(e,n,r)),n}var i=function(h,m){if(_h(m))return h.stylize("undefined","undefined");if(CS(m)){var g="'"+JSON.stringify(m).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return h.stylize(g,"string")}if(K9(m))return h.stylize(""+m,"number");if(Q2(m))return h.stylize(""+m,"boolean");if(IS(m))return h.stylize("null","null")}(e,t);if(i)return i;var o=Object.keys(t),s=function(h){var m={};return h.forEach(function(g,_){m[g]=!0}),m}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),qv(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return Rx(t);if(o.length===0){if(Rb(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(zv(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(kS(t))return e.stylize(Date.prototype.toString.call(t),"date");if(qv(t))return Rx(t)}var l,u="",f=!1,c=["{","}"];return G9(t)&&(f=!0,c=["[","]"]),Rb(t)&&(u=" [Function"+(t.name?": "+t.name:"")+"]"),zv(t)&&(u=" "+RegExp.prototype.toString.call(t)),kS(t)&&(u=" "+Date.prototype.toUTCString.call(t)),qv(t)&&(u=" "+Rx(t)),o.length!==0||f&&t.length!=0?r<0?zv(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=f?function(h,m,g,_,v){for(var p=[],E=0,y=m.length;E<y;++E)J9(m,String(E))?p.push(Nx(h,m,g,_,String(E),!0)):p.push("");return v.forEach(function(S){S.match(/^\d+$/)||p.push(Nx(h,m,g,_,S,!0))}),p}(e,t,r,s,o):o.map(function(h){return Nx(e,t,r,s,h,f)}),e.seen.pop(),function(h,m,g){var _=0;return h.reduce(function(v,p){return _++,p.indexOf(`
`)>=0&&_++,v+p.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?g[0]+(m===""?"":m+`
 `)+" "+h.join(`,
  `)+" "+g[1]:g[0]+m+" "+h.join(", ")+" "+g[1]}(l,u,c)):c[0]+u+c[1]}function Rx(e){return"["+Error.prototype.toString.call(e)+"]"}function Nx(e,t,r,n,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),J9(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=IS(r)?NS(e,l.value,null):NS(e,l.value,r-1)).indexOf(`
`)>-1&&(a=o?a.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`)):a=e.stylize("[Circular]","special")),_h(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function G9(e){return Array.isArray(e)}function Q2(e){return typeof e=="boolean"}function IS(e){return e===null}function K9(e){return typeof e=="number"}function CS(e){return typeof e=="string"}function _h(e){return e===void 0}function zv(e){return Sm(e)&&Z2(e)==="[object RegExp]"}function Sm(e){return typeof e=="object"&&e!==null}function kS(e){return Sm(e)&&Z2(e)==="[object Date]"}function qv(e){return Sm(e)&&(Z2(e)==="[object Error]"||e instanceof Error)}function Rb(e){return typeof e=="function"}function Z2(e){return Object.prototype.toString.call(e)}function Ix(e){return e<10?"0"+e.toString(10):e.toString(10)}function zde(){var e=new Date,t=[Ix(e.getHours()),Ix(e.getMinutes()),Ix(e.getSeconds())].join(":");return[e.getDate(),eH[e.getMonth()],t].join(" ")}function J9(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qde(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}var X3,mc,gc,Rh,_i,Eh,Iu,Nh,Vv,ai,Q3,Aw,Hg,Cx,Z3,e4,t4,r4,n4,kx,jx,Dx,i4,o4,s4,Mx,Jr,Y9,a4,l4,qP,Nb,Gs,ms,u4,ci,X9,Q9,Z9,Op,Et,Nl,Lx,c4,Wg,Fx,Ow,eH,pf,a0=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-D3uu3VYh.js"(){if(Ie(),Rh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,_i=X3={},function(){try{mc=typeof setTimeout=="function"?setTimeout:UP}catch{mc=UP}try{gc=typeof clearTimeout=="function"?clearTimeout:zP}catch{gc=zP}}(),Iu=[],Nh=!1,Vv=-1,_i.nextTick=function(i){var o=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)o[s-1]=arguments[s];Iu.push(new U3(i,o)),Iu.length!==1||Nh||k9(j9)},U3.prototype.run=function(){(this||Rh).fun.apply(null,(this||Rh).array)},_i.title="browser",_i.browser=!0,_i.env={},_i.argv=[],_i.version="",_i.versions={},_i.on=uc,_i.addListener=uc,_i.once=uc,_i.off=uc,_i.removeListener=uc,_i.removeAllListeners=uc,_i.emit=uc,_i.prependListener=uc,_i.prependOnceListener=uc,_i.listeners=function(i){return[]},_i.binding=function(i){throw new Error("process.binding is not supported")},_i.cwd=function(){return"/"},_i.chdir=function(i){throw new Error("process.chdir is not supported")},_i.umask=function(){return 0},ai=X3,ai.addListener,ai.argv,ai.binding,ai.browser,ai.chdir,ai.cwd,ai.emit,ai.env,ai.listeners,ai.nextTick,ai.off,ai.on,ai.once,ai.prependListener,ai.prependOnceListener,ai.removeAllListeners,ai.removeListener,ai.title,ai.umask,ai.version,ai.versions,Q3=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Aw=Object.prototype.toString,Hg=function(i){return!(Q3&&i&&typeof i=="object"&&Symbol.toStringTag in i)&&Aw.call(i)==="[object Arguments]"},Cx=function(i){return!!Hg(i)||i!==null&&typeof i=="object"&&typeof i.length=="number"&&i.length>=0&&Aw.call(i)!=="[object Array]"&&Aw.call(i.callee)==="[object Function]"},Z3=function(){return Hg(arguments)}(),Hg.isLegacyArguments=Cx,e4=Z3?Hg:Cx,t4=Object.prototype.toString,r4=Function.prototype.toString,n4=/^\s*(?:function)?\*/,kx=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",jx=Object.getPrototypeOf,Dx=function(){if(!kx)return!1;try{return Function("return function*() {}")()}catch{}}(),i4=Dx?jx(Dx):{},o4=function(i){return typeof i=="function"&&(!!n4.test(r4.call(i))||(kx?jx(i)===i4:t4.call(i)==="[object GeneratorFunction]"))},s4=typeof Object.create=="function"?function(i,o){o&&(i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:function(i,o){if(o){i.super_=o;var s=function(){};s.prototype=o.prototype,i.prototype=new s,i.prototype.constructor=i}},Mx=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"},Jr={},Y9=Mx,a4=e4,l4=o4,qP=typeof BigInt<"u",Nb=typeof Symbol<"u",Gs=Nb&&Symbol.toStringTag!==void 0,ms=typeof Uint8Array<"u",u4=typeof ArrayBuffer<"u",ms&&Gs)var e=Object.getPrototypeOf(Uint8Array.prototype),t=qd(Object.getOwnPropertyDescriptor(e,Symbol.toStringTag).get);if(ci=qd(Object.prototype.toString),X9=qd(Number.prototype.valueOf),Q9=qd(String.prototype.valueOf),Z9=qd(Boolean.prototype.valueOf),qP)var r=qd(BigInt.prototype.valueOf);if(Nb)var n=qd(Symbol.prototype.valueOf);Jr.isArgumentsObject=a4,Jr.isGeneratorFunction=l4,Jr.isPromise=function(i){return typeof Promise<"u"&&i instanceof Promise||i!==null&&typeof i=="object"&&typeof i.then=="function"&&typeof i.catch=="function"},Jr.isArrayBufferView=function(i){return u4&&ArrayBuffer.isView?ArrayBuffer.isView(i):z3(i)||V3(i)},Jr.isTypedArray=z3,Jr.isUint8Array=D9,Jr.isUint8ClampedArray=M9,Jr.isUint16Array=L9,Jr.isUint32Array=F9,Jr.isInt8Array=B9,Jr.isInt16Array=U9,Jr.isInt32Array=z9,Jr.isFloat32Array=q9,Jr.isFloat64Array=V9,Jr.isBigInt64Array=H9,Jr.isBigUint64Array=W9,Tw.working=typeof Map<"u"&&Tw(new Map),Jr.isMap=function(i){return typeof Map<"u"&&(Tw.working?Tw(i):i instanceof Map)},$w.working=typeof Set<"u"&&$w(new Set),Jr.isSet=function(i){return typeof Set<"u"&&($w.working?$w(i):i instanceof Set)},xw.working=typeof WeakMap<"u"&&xw(new WeakMap),Jr.isWeakMap=function(i){return typeof WeakMap<"u"&&(xw.working?xw(i):i instanceof WeakMap)},Px.working=typeof WeakSet<"u"&&Px(new WeakSet),Jr.isWeakSet=function(i){return Px(i)},OS.working=typeof ArrayBuffer<"u"&&OS(new ArrayBuffer),Jr.isArrayBuffer=q3,PS.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&PS(new DataView(new ArrayBuffer(1),0,1)),Jr.isDataView=V3,RS.working=typeof SharedArrayBuffer<"u"&&RS(new SharedArrayBuffer),Jr.isSharedArrayBuffer=H3,Jr.isAsyncFunction=function(i){return ci(i)==="[object AsyncFunction]"},Jr.isMapIterator=function(i){return ci(i)==="[object Map Iterator]"},Jr.isSetIterator=function(i){return ci(i)==="[object Set Iterator]"},Jr.isGeneratorObject=function(i){return ci(i)==="[object Generator]"},Jr.isWebAssemblyCompiledModule=function(i){return ci(i)==="[object WebAssembly.Module]"},Jr.isNumberObject=W3,Jr.isStringObject=G3,Jr.isBooleanObject=K3,Jr.isBigIntObject=J3,Jr.isSymbolObject=Y3,Jr.isBoxedPrimitive=function(i){return W3(i)||G3(i)||K3(i)||J3(i)||Y3(i)},Jr.isAnyArrayBuffer=function(i){return ms&&(q3(i)||H3(i))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(i){Object.defineProperty(Jr,i,{enumerable:!1,value:function(){throw new Error(i+" is not supported in userland")}})}),Op=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Et={},Nl=ai,Lx=Object.getOwnPropertyDescriptors||function(i){for(var o=Object.keys(i),s={},a=0;a<o.length;a++)s[o[a]]=Object.getOwnPropertyDescriptor(i,o[a]);return s},c4=/%[sdj%]/g,Et.format=function(i){if(!CS(i)){for(var o=[],s=0;s<arguments.length;s++)o.push(Ff(arguments[s]));return o.join(" ")}s=1;for(var a=arguments,l=a.length,u=String(i).replace(c4,function(c){if(c==="%%")return"%";if(s>=l)return c;switch(c){case"%s":return String(a[s++]);case"%d":return Number(a[s++]);case"%j":try{return JSON.stringify(a[s++])}catch{return"[Circular]"}default:return c}}),f=a[s];s<l;f=a[++s])IS(f)||!Sm(f)?u+=" "+f:u+=" "+Ff(f);return u},Et.deprecate=function(i,o){if(Nl!==void 0&&Nl.noDeprecation===!0)return i;if(Nl===void 0)return function(){return Et.deprecate(i,o).apply(this||Op,arguments)};var s=!1;return function(){if(!s){if(Nl.throwDeprecation)throw new Error(o);Nl.traceDeprecation?console.trace(o):console.error(o),s=!0}return i.apply(this||Op,arguments)}},Wg={},Fx=/^$/,Nl.env.NODE_DEBUG&&(Ow=Nl.env.NODE_DEBUG,Ow=Ow.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),Fx=new RegExp("^"+Ow+"$","i")),Et.debuglog=function(i){if(i=i.toUpperCase(),!Wg[i])if(Fx.test(i)){var o=Nl.pid;Wg[i]=function(){var s=Et.format.apply(Et,arguments);console.error("%s %d: %s",i,o,s)}}else Wg[i]=function(){};return Wg[i]},Et.inspect=Ff,Ff.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Ff.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},Et.types=Jr,Et.isArray=G9,Et.isBoolean=Q2,Et.isNull=IS,Et.isNullOrUndefined=function(i){return i==null},Et.isNumber=K9,Et.isString=CS,Et.isSymbol=function(i){return typeof i=="symbol"},Et.isUndefined=_h,Et.isRegExp=zv,Et.types.isRegExp=zv,Et.isObject=Sm,Et.isDate=kS,Et.types.isDate=kS,Et.isError=qv,Et.types.isNativeError=qv,Et.isFunction=Rb,Et.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},Et.isBuffer=Mx,eH=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Et.log=function(){console.log("%s - %s",zde(),Et.format.apply(Et,arguments))},Et.inherits=s4,Et._extend=function(i,o){if(!o||!Sm(o))return i;for(var s=Object.keys(o),a=s.length;a--;)i[s[a]]=o[s[a]];return i},pf=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0,Et.promisify=function(i){if(typeof i!="function")throw new TypeError('The "original" argument must be of type Function');if(pf&&i[pf]){var o;if(typeof(o=i[pf])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(o,pf,{value:o,enumerable:!1,writable:!1,configurable:!0}),o}function o(){for(var s,a,l=new Promise(function(c,h){s=c,a=h}),u=[],f=0;f<arguments.length;f++)u.push(arguments[f]);u.push(function(c,h){c?a(c):s(h)});try{i.apply(this||Op,u)}catch(c){a(c)}return l}return Object.setPrototypeOf(o,Object.getPrototypeOf(i)),pf&&Object.defineProperty(o,pf,{value:o,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(o,Lx(i))},Et.promisify.custom=pf,Et.callbackify=function(i){if(typeof i!="function")throw new TypeError('The "original" argument must be of type Function');function o(){for(var s=[],a=0;a<arguments.length;a++)s.push(arguments[a]);var l=s.pop();if(typeof l!="function")throw new TypeError("The last argument must be of type Function");var u=this||Op,f=function(){return l.apply(u,arguments)};i.apply(this||Op,s).then(function(c){Nl.nextTick(f.bind(null,null,c))},function(c){Nl.nextTick(qde.bind(null,c,f))})}return Object.setPrototypeOf(o,Object.getPrototypeOf(i)),Object.defineProperties(o,Lx(i)),o},Et._extend,Et.callbackify,Et.debuglog,Et.deprecate,Et.format,Et.inherits,Et.inspect,Et.isArray,Et.isBoolean,Et.isBuffer,Et.isDate,Et.isError,Et.isFunction,Et.isNull,Et.isNullOrUndefined,Et.isNumber,Et.isObject,Et.isPrimitive,Et.isRegExp,Et.isString,Et.isSymbol,Et.isUndefined,Et.log,Et.promisify,Et._extend,Et.callbackify,Et.debuglog,Et.deprecate,Et.format,Et.inherits,Et.inspect,Et.isArray,Et.isBoolean,Et.isBuffer,Et.isDate,Et.isError,Et.isFunction,Et.isNull,Et.isNullOrUndefined,Et.isNumber,Et.isObject,Et.isPrimitive,Et.isRegExp,Et.isString,Et.isSymbol,Et.isUndefined,Et.log,Et.promisify,Et.types}}),Vde=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CbQqNoLO.js"(){Ie(),a0(),Et._extend,Et.callbackify,Et.debuglog,Et.deprecate,Et.format,Et.inherits,Et.inspect,Et.isArray,Et.isBoolean,Et.isBuffer,Et.isDate,Et.isError,Et.isFunction,Et.isNull,Et.isNullOrUndefined,Et.isNumber,Et.isObject,Et.isPrimitive,Et.isRegExp,Et.isString,Et.isSymbol,Et.isUndefined,Et.log,Et.promisify,Et.types,Et.TextEncoder=globalThis.TextEncoder,Et.TextDecoder=globalThis.TextDecoder}});function ek(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function Hde(){!Ih||!Sh||(Ih=!1,Sh.length?Cu=Sh.concat(Cu):Hv=-1,Cu.length&&tH())}function tH(){if(!Ih){var e=setTimeout(Hde,0);Ih=!0;for(var t=Cu.length;t;){for(Sh=Cu,Cu=[];++Hv<t;)Sh&&Sh[Hv].run();Hv=-1,t=Cu.length}Sh=null,Ih=!1,clearTimeout(e)}}function Wde(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Cu.push(new rH(e,t)),Cu.length===1&&!Ih&&setTimeout(tH,0)}function rH(e,t){this.fun=e,this.array=t}function ko(){}function Gde(e){ek("_linkedBinding")}function Kde(e){ek("dlopen")}function Jde(){return[]}function Yde(){return[]}function Xde(e,t){if(!e)throw new Error(t||"assertion error")}function Qde(){return!1}function Zde(){return bc.now()/1e3}function Bx(e){var t=Math.floor((Date.now()-bc.now())*.001),r=bc.now()*.001,n=Math.floor(r)+t,i=Math.floor(r%1*1e9);return e&&(n=n-e[0],i=i-e[1],i<0&&(n--,i+=Ib)),[n,i]}function mf(){return co}function ehe(e){return[]}var Cu,Ih,Sh,Hv,f4,d4,h4,p4,m4,g4,v4,y4,w4,b4,_4,E4,S4,T4,$4,x4,A4,O4,P4,R4,N4,Pw,I4,C4,k4,j4,D4,M4,L4,F4,B4,U4,z4,q4,V4,H4,W4,G4,K4,J4,Y4,X4,Q4,Z4,eB,tB,rB,bc,Ch,Ib,nB,iB,oB,sB,aB,lB,uB,cB,fB,dB,hB,co,l0=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DEMDiNwt.js"(){Ie(),Cu=[],Ih=!1,Hv=-1,rH.prototype.run=function(){this.fun.apply(null,this.array)},f4="browser",d4="x64",h4="browser",p4={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},m4=["/usr/bin/node"],g4=[],v4="v16.8.0",y4={},w4=function(e,t){console.warn((t?t+": ":"")+e)},b4=function(e){ek("binding")},_4=function(e){return 0},E4=function(){return"/"},S4=function(e){},T4={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},$4=ko,x4=[],A4={},O4=!1,P4={},R4=ko,N4=ko,Pw=function(){return{}},I4=Pw,C4=Pw,k4=ko,j4=ko,D4=ko,M4={},L4={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},F4=ko,B4=ko,U4=ko,z4=ko,q4=ko,V4=ko,H4=ko,W4=void 0,G4=void 0,K4=void 0,J4=ko,Y4=2,X4=1,Q4="/bin/usr/node",Z4=9229,eB="node",tB=[],rB=ko,bc={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},bc.now===void 0&&(Ch=Date.now(),bc.timing&&bc.timing.navigationStart&&(Ch=bc.timing.navigationStart),bc.now=()=>Date.now()-Ch),Ib=1e9,Bx.bigint=function(e){var t=Bx(e);return typeof BigInt>"u"?t[0]*Ib+t[1]:BigInt(t[0]*Ib)+BigInt(t[1])},nB=10,iB={},oB=0,sB=mf,aB=mf,lB=mf,uB=mf,cB=mf,fB=ko,dB=mf,hB=mf,co={version:v4,versions:y4,arch:d4,platform:h4,release:T4,_rawDebug:$4,moduleLoadList:x4,binding:b4,_linkedBinding:Gde,_events:iB,_eventsCount:oB,_maxListeners:nB,on:mf,addListener:sB,once:aB,off:lB,removeListener:uB,removeAllListeners:cB,emit:fB,prependListener:dB,prependOnceListener:hB,listeners:ehe,domain:A4,_exiting:O4,config:P4,dlopen:Kde,uptime:Zde,_getActiveRequests:Jde,_getActiveHandles:Yde,reallyExit:R4,_kill:N4,cpuUsage:Pw,resourceUsage:I4,memoryUsage:C4,kill:k4,exit:j4,openStdin:D4,allowedNodeEnvironmentFlags:M4,assert:Xde,features:L4,_fatalExceptions:F4,setUncaughtExceptionCaptureCallback:B4,hasUncaughtExceptionCaptureCallback:Qde,emitWarning:w4,nextTick:Wde,_tickCallback:U4,_debugProcess:z4,_debugEnd:q4,_startProfilerIdleNotifier:V4,_stopProfilerIdleNotifier:H4,stdout:W4,stdin:K4,stderr:G4,abort:J4,umask:_4,chdir:S4,cwd:E4,env:p4,title:f4,argv:m4,execArgv:g4,pid:Y4,ppid:X4,execPath:Q4,debugPort:Z4,hrtime:Bx,argv0:eB,_preload_modules:tB,setSourceMapsEnabled:rB}}});function the(){if(VP)return Cb;VP=!0,Cb=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function o(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this||kb,arguments)}return o}function t(r){try{if(!kb.localStorage)return!1}catch{return!1}var n=kb.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Cb}var Cb,VP,kb,rhe=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-BsRZ0PEC.js"(){Ie(),Cb={},VP=!1,kb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global}});function nhe(){if(HP)return qp;HP=!0;var e=Js(),t=e.Buffer;function r(i,o){for(var s in i)o[s]=i[s]}t.from&&t.alloc&&t.allocUnsafe&&t.allocUnsafeSlow?qp=e:(r(e,qp),qp.Buffer=n);function n(i,o,s){return t(i,o,s)}return n.prototype=Object.create(t.prototype),r(t,n),n.from=function(i,o,s){if(typeof i=="number")throw new TypeError("Argument must not be a number");return t(i,o,s)},n.alloc=function(i,o,s){if(typeof i!="number")throw new TypeError("Argument must be a number");var a=t(i);return o!==void 0?typeof s=="string"?a.fill(o,s):a.fill(o):a.fill(0),a},n.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return t(i)},n.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(i)},qp}function ihe(){if(WP)return jb;WP=!0;var e=nhe().Buffer,t=e.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(p){if(!p)return"utf8";for(var E;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(E)return;p=(""+p).toLowerCase(),E=!0}}function n(p){var E=r(p);if(typeof E!="string"&&(e.isEncoding===t||!t(p)))throw new Error("Unknown encoding: "+p);return E||p}jb.StringDecoder=i;function i(p){this.encoding=n(p);var E;switch(this.encoding){case"utf16le":this.text=c,this.end=h,E=4;break;case"utf8":this.fillLast=l,E=4;break;case"base64":this.text=m,this.end=g,E=3;break;default:this.write=_,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(E)}i.prototype.write=function(p){if(p.length===0)return"";var E,y;if(this.lastNeed){if(E=this.fillLast(p),E===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<p.length?E?E+this.text(p,y):this.text(p,y):E||""},i.prototype.end=f,i.prototype.text=u,i.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function o(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:p>>6===2?-1:-2}function s(p,E,y){var S=E.length-1;if(S<y)return 0;var T=o(E[S]);return T>=0?(T>0&&(p.lastNeed=T-1),T):--S<y||T===-2?0:(T=o(E[S]),T>=0?(T>0&&(p.lastNeed=T-2),T):--S<y||T===-2?0:(T=o(E[S]),T>=0?(T>0&&(T===2?T=0:p.lastNeed=T-3),T):0))}function a(p,E,y){if((E[0]&192)!==128)return p.lastNeed=0,"�";if(p.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return p.lastNeed=1,"�";if(p.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return p.lastNeed=2,"�"}}function l(p){var E=this.lastTotal-this.lastNeed,y=a(this,p);if(y!==void 0)return y;if(this.lastNeed<=p.length)return p.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,E,0,p.length),this.lastNeed-=p.length}function u(p,E){var y=s(this,p,E);if(!this.lastNeed)return p.toString("utf8",E);this.lastTotal=y;var S=p.length-(y-this.lastNeed);return p.copy(this.lastChar,0,S),p.toString("utf8",E,S)}function f(p){var E=p&&p.length?this.write(p):"";return this.lastNeed?E+"�":E}function c(p,E){if((p.length-E)%2===0){var y=p.toString("utf16le",E);if(y){var S=y.charCodeAt(y.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",E,p.length-1)}function h(p){var E=p&&p.length?this.write(p):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,y)}return E}function m(p,E){var y=(p.length-E)%3;return y===0?p.toString("base64",E):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",E,p.length-y))}function g(p){var E=p&&p.length?this.write(p):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function _(p){return p.toString(this.encoding)}function v(p){return p&&p.length?this.write(p):""}return jb}var qp,HP,jb,WP,Tm,nH=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js"(){Ie(),W1(),qp={},HP=!1,jb={},WP=!1,Tm=ihe(),Tm.StringDecoder,Tm.StringDecoder}});function ohe(){if(GP)return Db;GP=!0;var e=Db={},t,r;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=i}catch{r=i}})();function o(_){if(t===setTimeout)return setTimeout(_,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(_,0);try{return t(_,0)}catch{try{return t.call(null,_,0)}catch{return t.call(this||sh,_,0)}}}function s(_){if(r===clearTimeout)return clearTimeout(_);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(_);try{return r(_)}catch{try{return r.call(null,_)}catch{return r.call(this||sh,_)}}}var a=[],l=!1,u,f=-1;function c(){!l||!u||(l=!1,u.length?a=u.concat(a):f=-1,a.length&&h())}function h(){if(!l){var _=o(c);l=!0;for(var v=a.length;v;){for(u=a,a=[];++f<v;)u&&u[f].run();f=-1,v=a.length}u=null,l=!1,s(_)}}e.nextTick=function(_){var v=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)v[p-1]=arguments[p];a.push(new m(_,v)),a.length===1&&!l&&o(h)};function m(_,v){(this||sh).fun=_,(this||sh).array=v}m.prototype.run=function(){(this||sh).fun.apply(null,(this||sh).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function g(){}return e.on=g,e.addListener=g,e.once=g,e.off=g,e.removeListener=g,e.removeAllListeners=g,e.emit=g,e.prependListener=g,e.prependOnceListener=g,e.listeners=function(_){return[]},e.binding=function(_){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(_){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},Db}var Db,GP,sh,On,Q1=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-b0rmRow7.js"(){Ie(),Db={},GP=!1,sh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,On=ohe(),On.platform="browser",On.addListener,On.argv,On.binding,On.browser,On.chdir,On.cwd,On.emit,On.env,On.listeners,On.nextTick,On.off,On.on,On.once,On.prependListener,On.prependOnceListener,On.removeAllListeners,On.removeListener,On.title,On.umask,On.version,On.versions}});function she(){if(KP)return Mb;KP=!0;var e=On;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",l=0,u=-1,f=0,c,h=0;h<=o.length;++h){if(h<o.length)c=o.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(u===h-1||f===1))if(u!==h-1&&f===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var m=a.lastIndexOf("/");if(m!==a.length-1){m===-1?(a="",l=0):(a=a.slice(0,m),l=a.length-1-a.lastIndexOf("/")),u=h,f=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=h,f=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+o.slice(u+1,h):a=o.slice(u+1,h),l=h-u-1;u=h,f=0}else c===46&&f!==-1?++f:f=-1}return a}function n(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var i={resolve:function(){for(var s="",a=!1,l,u=arguments.length-1;u>=-1&&!a;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(s=f+"/"+s,a=f.charCodeAt(0)===47)}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(t(s),s.length===0)return".";var a=s.charCodeAt(0)===47,l=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&l&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return t(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,a=0;a<arguments.length;++a){var l=arguments[a];t(l),l.length>0&&(s===void 0?s=l:s+="/"+l)}return s===void 0?".":i.normalize(s)},relative:function(s,a){if(t(s),t(a),s===a||(s=i.resolve(s),a=i.resolve(a),s===a))return"";for(var l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var u=s.length,f=u-l,c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var h=a.length,m=h-c,g=f<m?f:m,_=-1,v=0;v<=g;++v){if(v===g){if(m>g){if(a.charCodeAt(c+v)===47)return a.slice(c+v+1);if(v===0)return a.slice(c+v)}else f>g&&(s.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var p=s.charCodeAt(l+v),E=a.charCodeAt(c+v);if(p!==E)break;p===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||s.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+a.slice(c+_):(c+=_,a.charCodeAt(c)===47&&++c,a.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(t(s),s.length===0)return".";for(var a=s.charCodeAt(0),l=a===47,u=-1,f=!0,c=s.length-1;c>=1;--c)if(a=s.charCodeAt(c),a===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":s.slice(0,u)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');t(s);var l=0,u=-1,f=!0,c;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return"";var h=a.length-1,m=-1;for(c=s.length-1;c>=0;--c){var g=s.charCodeAt(c);if(g===47){if(!f){l=c+1;break}}else m===-1&&(f=!1,m=c+1),h>=0&&(g===a.charCodeAt(h)?--h===-1&&(u=c):(h=-1,u=m))}return l===u?u=m:u===-1&&(u=s.length),s.slice(l,u)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":s.slice(l,u)}},extname:function(s){t(s);for(var a=-1,l=0,u=-1,f=!0,c=0,h=s.length-1;h>=0;--h){var m=s.charCodeAt(h);if(m===47){if(!f){l=h+1;break}continue}u===-1&&(f=!1,u=h+1),m===46?a===-1?a=h:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||u===-1||c===0||c===1&&a===u-1&&a===l+1?"":s.slice(a,u)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){t(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var l=s.charCodeAt(0),u=l===47,f;u?(a.root="/",f=1):f=0;for(var c=-1,h=0,m=-1,g=!0,_=s.length-1,v=0;_>=f;--_){if(l=s.charCodeAt(_),l===47){if(!g){h=_+1;break}continue}m===-1&&(g=!1,m=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||m===-1||v===0||v===1&&c===m-1&&c===h+1?m!==-1&&(h===0&&u?a.base=a.name=s.slice(1,m):a.base=a.name=s.slice(h,m)):(h===0&&u?(a.name=s.slice(1,c),a.base=s.slice(1,m)):(a.name=s.slice(h,c),a.base=s.slice(h,m)),a.ext=s.slice(c,m)),h>0?a.dir=s.slice(0,h-1):u&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Mb=i,Mb}function Vd(e){throw new RangeError(oH[e])}function pB(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]);const i=function(o,s){const a=[];let l=o.length;for(;l--;)a[l]=s(o[l]);return a}((e=e.replace(iH,".")).split("."),t).join(".");return n+i}function mB(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=e.charCodeAt(r++);(64512&o)==56320?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}function ahe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ha(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Gg(e,t,r){if(e&&jl.isObject(e)&&e instanceof Ha)return e;var n=new Ha;return n.parse(e,t,r),n}function lhe(){if(YP)return Lb;YP=!0;var e=ai;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",l=0,u=-1,f=0,c,h=0;h<=o.length;++h){if(h<o.length)c=o.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(u===h-1||f===1))if(u!==h-1&&f===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var m=a.lastIndexOf("/");if(m!==a.length-1){m===-1?(a="",l=0):(a=a.slice(0,m),l=a.length-1-a.lastIndexOf("/")),u=h,f=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=h,f=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+o.slice(u+1,h):a=o.slice(u+1,h),l=h-u-1;u=h,f=0}else c===46&&f!==-1?++f:f=-1}return a}function n(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var i={resolve:function(){for(var s="",a=!1,l,u=arguments.length-1;u>=-1&&!a;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(s=f+"/"+s,a=f.charCodeAt(0)===47)}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(t(s),s.length===0)return".";var a=s.charCodeAt(0)===47,l=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&l&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return t(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,a=0;a<arguments.length;++a){var l=arguments[a];t(l),l.length>0&&(s===void 0?s=l:s+="/"+l)}return s===void 0?".":i.normalize(s)},relative:function(s,a){if(t(s),t(a),s===a||(s=i.resolve(s),a=i.resolve(a),s===a))return"";for(var l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var u=s.length,f=u-l,c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var h=a.length,m=h-c,g=f<m?f:m,_=-1,v=0;v<=g;++v){if(v===g){if(m>g){if(a.charCodeAt(c+v)===47)return a.slice(c+v+1);if(v===0)return a.slice(c+v)}else f>g&&(s.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var p=s.charCodeAt(l+v),E=a.charCodeAt(c+v);if(p!==E)break;p===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||s.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+a.slice(c+_):(c+=_,a.charCodeAt(c)===47&&++c,a.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(t(s),s.length===0)return".";for(var a=s.charCodeAt(0),l=a===47,u=-1,f=!0,c=s.length-1;c>=1;--c)if(a=s.charCodeAt(c),a===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":s.slice(0,u)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');t(s);var l=0,u=-1,f=!0,c;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return"";var h=a.length-1,m=-1;for(c=s.length-1;c>=0;--c){var g=s.charCodeAt(c);if(g===47){if(!f){l=c+1;break}}else m===-1&&(f=!1,m=c+1),h>=0&&(g===a.charCodeAt(h)?--h===-1&&(u=c):(h=-1,u=m))}return l===u?u=m:u===-1&&(u=s.length),s.slice(l,u)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":s.slice(l,u)}},extname:function(s){t(s);for(var a=-1,l=0,u=-1,f=!0,c=0,h=s.length-1;h>=0;--h){var m=s.charCodeAt(h);if(m===47){if(!f){l=h+1;break}continue}u===-1&&(f=!1,u=h+1),m===46?a===-1?a=h:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||u===-1||c===0||c===1&&a===u-1&&a===l+1?"":s.slice(a,u)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){t(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var l=s.charCodeAt(0),u=l===47,f;u?(a.root="/",f=1):f=0;for(var c=-1,h=0,m=-1,g=!0,_=s.length-1,v=0;_>=f;--_){if(l=s.charCodeAt(_),l===47){if(!g){h=_+1;break}continue}m===-1&&(g=!1,m=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||m===-1||v===0||v===1&&c===m-1&&c===h+1?m!==-1&&(h===0&&u?a.base=a.name=s.slice(1,m):a.base=a.name=s.slice(h,m)):(h===0&&u?(a.name=s.slice(1,c),a.base=s.slice(1,m)):(a.name=s.slice(h,c),a.base=s.slice(h,m)),a.ext=s.slice(c,m)),h>0?a.dir=s.slice(0,h-1):u&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Lb=i,Lb}function uhe(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return jS?che(e):fhe(e)}function che(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(cH,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<lH||n>uH||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function fhe(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function dhe(e){let t=XP.resolve(e);const r=e.charCodeAt(e.length-1);(r===aH||jS&&r===sH)&&t[t.length-1]!==XP.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(fH,"%25")),!jS&&t.includes("\\")&&(t=t.replace(dH,"%5C")),t.includes(`
`)&&(t=t.replace(hH,"%0A")),t.includes("\r")&&(t=t.replace(pH,"%0D")),t.includes("	")&&(t=t.replace(mH,"%09")),n.pathname=t,n}function hhe(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return DS?phe(e):mhe(e)}function phe(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(bH,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<yH||n>wH||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function mhe(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function ghe(e){let t=JP.resolve(e);const r=e.charCodeAt(e.length-1);(r===vH||DS&&r===gH)&&t[t.length-1]!==JP.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(_H,"%25")),!DS&&t.includes("\\")&&(t=t.replace(EH,"%5C")),t.includes(`
`)&&(t=t.replace(SH,"%0A")),t.includes("\r")&&(t=t.replace(TH,"%0D")),t.includes("	")&&(t=t.replace($H,"%09")),n.pathname=t,n}var Mb,KP,JP,Hd,gB,vB,iH,oH,Il,Rw,Ux,zx,qx,Vx,yB,wB,Pp,bB,mu,In,_B,jl,EB,SB,TB,$B,Nw,Hx,Wx,Gx,xB,AB,Iw,Wd,Cw,Lb,YP,XP,OB,sH,aH,lH,uH,jS,cH,fH,dH,hH,pH,mH,PB,gH,vH,yH,wH,DS,bH,_H,EH,SH,TH,$H,xH=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DHWh-hmB.js"(){Ie(),a0(),Q1(),Mb={},KP=!1,JP=she(),Hd=2147483647,gB=/^xn--/,vB=/[^\0-\x7E]/,iH=/[\x2E\u3002\uFF0E\uFF61]/g,oH={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Il=Math.floor,Rw=String.fromCharCode,Ux=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},zx=function(e,t,r){let n=0;for(e=r?Il(e/700):e>>1,e+=Il(e/t);e>455;n+=36)e=Il(e/35);return Il(n+36*e/(e+38))},qx=function(e){const t=[],r=e.length;let n=0,i=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(let l=0;l<s;++l)e.charCodeAt(l)>=128&&Vd("not-basic"),t.push(e.charCodeAt(l));for(let l=s>0?s+1:0;l<r;){let u=n;for(let c=1,h=36;;h+=36){l>=r&&Vd("invalid-input");const m=(a=e.charCodeAt(l++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(m>=36||m>Il((Hd-n)/c))&&Vd("overflow"),n+=m*c;const g=h<=o?1:h>=o+26?26:h-o;if(m<g)break;const _=36-g;c>Il(Hd/_)&&Vd("overflow"),c*=_}const f=t.length+1;o=zx(n-u,f,u==0),Il(n/f)>Hd-i&&Vd("overflow"),i+=Il(n/f),n%=f,t.splice(n++,0,i)}var a;return String.fromCodePoint(...t)},Vx=function(e){const t=[];let r=(e=mB(e)).length,n=128,i=0,o=72;for(const l of e)l<128&&t.push(Rw(l));let s=t.length,a=s;for(s&&t.push("-");a<r;){let l=Hd;for(const f of e)f>=n&&f<l&&(l=f);const u=a+1;l-n>Il((Hd-i)/u)&&Vd("overflow"),i+=(l-n)*u,n=l;for(const f of e)if(f<n&&++i>Hd&&Vd("overflow"),f==n){let c=i;for(let h=36;;h+=36){const m=h<=o?1:h>=o+26?26:h-o;if(c<m)break;const g=c-m,_=36-m;t.push(Rw(Ux(m+g%_,0))),c=Il(g/_)}t.push(Rw(Ux(c,0))),o=zx(i,u,a==s),i=0,++a}++i,++n}return t.join("")},yB={version:"2.1.0",ucs2:{decode:mB,encode:e=>String.fromCodePoint(...e)},decode:qx,encode:Vx,toASCII:function(e){return pB(e,function(t){return vB.test(t)?"xn--"+Vx(t):t})},toUnicode:function(e){return pB(e,function(t){return gB.test(t)?qx(t.slice(4).toLowerCase()):t})}},wB=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var s=1e3;n&&typeof n.maxKeys=="number"&&(s=n.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var u,f,c,h,m=e[l].replace(o,"%20"),g=m.indexOf(r);g>=0?(u=m.substr(0,g),f=m.substr(g+1)):(u=m,f=""),c=decodeURIComponent(u),h=decodeURIComponent(f),ahe(i,c)?Array.isArray(i[c])?i[c].push(h):i[c]=[i[c],h]:i[c]=h}return i},Pp=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},bB=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(Pp(i))+r;return Array.isArray(e[i])?e[i].map(function(s){return o+encodeURIComponent(Pp(s))}).join(t):o+encodeURIComponent(Pp(e[i]))}).join(t):n?encodeURIComponent(Pp(n))+r+encodeURIComponent(Pp(e)):""},mu={},mu.decode=mu.parse=wB,mu.encode=mu.stringify=bB,mu.decode,mu.encode,mu.parse,mu.stringify,In={},_B=yB,jl={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},In.parse=Gg,In.resolve=function(e,t){return Gg(e,!1,!0).resolve(t)},In.resolveObject=function(e,t){return e?Gg(e,!1,!0).resolveObject(t):t},In.format=function(e){return jl.isString(e)&&(e=Gg(e)),e instanceof Ha?e.format():Ha.prototype.format.call(e)},In.Url=Ha,EB=/^([a-z0-9.+-]+:)/i,SB=/:[0-9]*$/,TB=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,$B=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Nw=["'"].concat($B),Hx=["%","/","?",";","#"].concat(Nw),Wx=["/","?","#"],Gx=/^[+a-z0-9A-Z_-]{0,63}$/,xB=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,AB={javascript:!0,"javascript:":!0},Iw={javascript:!0,"javascript:":!0},Wd={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Cw=mu,Ha.prototype.parse=function(e,t,r){if(!jl.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(i);if(s=s.trim(),!r&&e.split("#").length===1){var a=TB.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?Cw.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=EB.exec(s);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=s.substr(0,2)==="//";!f||l&&Iw[l]||(s=s.substr(2),this.slashes=!0)}if(!Iw[l]&&(f||l&&!Wd[l])){for(var c,h,m=-1,g=0;g<Wx.length;g++)(_=s.indexOf(Wx[g]))!==-1&&(m===-1||_<m)&&(m=_);for((h=m===-1?s.lastIndexOf("@"):s.lastIndexOf("@",m))!==-1&&(c=s.slice(0,h),s=s.slice(h+1),this.auth=decodeURIComponent(c)),m=-1,g=0;g<Hx.length;g++){var _;(_=s.indexOf(Hx[g]))!==-1&&(m===-1||_<m)&&(m=_)}m===-1&&(m=s.length),this.host=s.slice(0,m),s=s.slice(m),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var p=this.hostname.split(/\./),E=(g=0,p.length);g<E;g++){var y=p[g];if(y&&!y.match(Gx)){for(var S="",T=0,$=y.length;T<$;T++)y.charCodeAt(T)>127?S+="x":S+=y[T];if(!S.match(Gx)){var d=p.slice(0,g),x=p.slice(g+1),O=y.match(xB);O&&(d.push(O[1]),x.unshift(O[2])),x.length&&(s="/"+x.join(".")+s),this.hostname=d.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=_B.toASCII(this.hostname));var P=this.port?":"+this.port:"",M=this.hostname||"";this.host=M+P,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!AB[u])for(g=0,E=Nw.length;g<E;g++){var U=Nw[g];if(s.indexOf(U)!==-1){var K=encodeURIComponent(U);K===U&&(K=escape(U)),s=s.split(U).join(K)}}var ie=s.indexOf("#");ie!==-1&&(this.hash=s.substr(ie),s=s.slice(0,ie));var G=s.indexOf("?");if(G!==-1?(this.search=s.substr(G),this.query=s.substr(G+1),t&&(this.query=Cw.parse(this.query)),s=s.slice(0,G)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Wd[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var ne=this.search||"";this.path=P+ne}return this.href=this.format(),this},Ha.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&jl.isObject(this.query)&&Object.keys(this.query).length&&(o=Cw.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Wd[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),t+i+(r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(s=s.replace("#","%23"))+n},Ha.prototype.resolve=function(e){return this.resolveObject(Gg(e,!1,!0)).format()},Ha.prototype.resolveObject=function(e){if(jl.isString(e)){var t=new Ha;t.parse(e,!1,!0),e=t}for(var r=new Ha,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var l=s[a];l!=="protocol"&&(r[l]=e[l])}return Wd[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Wd[e.protocol]){for(var u=Object.keys(e),f=0;f<u.length;f++){var c=u[f];r[c]=e[c]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||Iw[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),h[0]!==""&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",v=e.host||e.pathname&&e.pathname.charAt(0)==="/",p=v||_||r.host&&e.pathname,E=p,y=r.pathname&&r.pathname.split("/")||[],S=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!Wd[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(h[0]===""?h[0]=e.host:h.unshift(e.host)),e.host=null),p=p&&(h[0]===""||y[0]==="")),v)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,y=h;else if(h.length)y||(y=[]),y.pop(),y=y.concat(h),r.search=e.search,r.query=e.query;else if(!jl.isNullOrUndefined(e.search))return S&&(r.hostname=r.host=y.shift(),(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift())),r.search=e.search,r.query=e.query,jl.isNull(r.pathname)&&jl.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=y.slice(-1)[0],$=(r.host||e.host||y.length>1)&&(T==="."||T==="..")||T==="",d=0,x=y.length;x>=0;x--)(T=y[x])==="."?y.splice(x,1):T===".."?(y.splice(x,1),d++):d&&(y.splice(x,1),d--);if(!p&&!E)for(;d--;d)y.unshift("..");!p||y[0]===""||y[0]&&y[0].charAt(0)==="/"||y.unshift(""),$&&y.join("/").substr(-1)!=="/"&&y.push("");var O,P=y[0]===""||y[0]&&y[0].charAt(0)==="/";return S&&(r.hostname=r.host=P?"":y.length?y.shift():"",(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift())),(p=p||r.host&&y.length)&&!P&&y.unshift(""),y.length?r.pathname=y.join("/"):(r.pathname=null,r.path=null),jl.isNull(r.pathname)&&jl.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},Ha.prototype.parseHost=function(){var e=this.host,t=SB.exec(e);t&&((t=t[0])!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},In.Url,In.format,In.resolve,In.resolveObject,Lb={},YP=!1,XP=lhe(),OB=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,In.URL=typeof URL<"u"?URL:null,In.pathToFileURL=dhe,In.fileURLToPath=uhe,In.Url,In.format,In.resolve,In.resolveObject,In.URL,sH=92,aH=47,lH=97,uH=122,jS=OB==="win32",cH=/\//g,fH=/%/g,dH=/\\/g,hH=/\n/g,pH=/\r/g,mH=/\t/g,PB=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,In.URL=typeof URL<"u"?URL:null,In.pathToFileURL=ghe,In.fileURLToPath=hhe,In.Url,In.format,In.resolve,In.resolveObject,In.parse,In.URL,gH=92,vH=47,yH=97,wH=122,DS=PB==="win32",bH=/\//g,_H=/%/g,EH=/\\/g,SH=/\n/g,TH=/\r/g,$H=/\t/g}}),Z1={};Gu(Z1,{Agent:()=>MH,ClientRequest:()=>LH,IncomingMessage:()=>FH,METHODS:()=>BH,STATUS_CODES:()=>UH,default:()=>bu,get:()=>zH,globalAgent:()=>qH,request:()=>VH});function AH(){if(QP)return Is;QP=!0,Is.fetch=n(xf.fetch)&&n(xf.ReadableStream),Is.writableStream=n(xf.WritableStream),Is.abortController=n(xf.AbortController);var e;function t(){if(e!==void 0)return e;if(xf.XMLHttpRequest){e=new xf.XMLHttpRequest;try{e.open("GET",xf.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function r(i){var o=t();if(!o)return!1;try{return o.responseType=i,o.responseType===i}catch{}return!1}Is.arraybuffer=Is.fetch||r("arraybuffer"),Is.msstream=!Is.fetch&&r("ms-stream"),Is.mozchunkedarraybuffer=!Is.fetch&&r("moz-chunked-arraybuffer"),Is.overrideMimeType=Is.fetch||(t()?n(t().overrideMimeType):!1);function n(i){return typeof i=="function"}return e=null,Is}function OH(){return ZP||(ZP=!0,Fb=ss.EventEmitter),Fb}function vhe(){if(eR)return Bb;eR=!0;function e(g,_){var v=Object.keys(g);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(g);_&&(p=p.filter(function(E){return Object.getOwnPropertyDescriptor(g,E).enumerable})),v.push.apply(v,p)}return v}function t(g){for(var _=1;_<arguments.length;_++){var v=arguments[_]!=null?arguments[_]:{};_%2?e(Object(v),!0).forEach(function(p){r(g,p,v[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):e(Object(v)).forEach(function(p){Object.defineProperty(g,p,Object.getOwnPropertyDescriptor(v,p))})}return g}function r(g,_,v){return _=s(_),_ in g?Object.defineProperty(g,_,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[_]=v,g}function n(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function i(g,_){for(var v=0;v<_.length;v++){var p=_[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(g,s(p.key),p)}}function o(g,_,v){return _&&i(g.prototype,_),Object.defineProperty(g,"prototype",{writable:!1}),g}function s(g){var _=a(g,"string");return typeof _=="symbol"?_:String(_)}function a(g,_){if(typeof g!="object"||g===null)return g;var v=g[Symbol.toPrimitive];if(v!==void 0){var p=v.call(g,_);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}var l=Js(),u=l.Buffer,f=Et,c=f.inspect,h=c&&c.custom||"inspect";function m(g,_,v){u.prototype.copy.call(g,_,v)}return Bb=function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return o(g,[{key:"push",value:function(v){var p={data:v,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length}},{key:"unshift",value:function(v){var p={data:v,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var p=this.head,E=""+p.data;p=p.next;)E+=v+p.data;return E}},{key:"concat",value:function(v){if(this.length===0)return u.alloc(0);for(var p=u.allocUnsafe(v>>>0),E=this.head,y=0;E;)m(E.data,p,y),y+=E.data.length,E=E.next;return p}},{key:"consume",value:function(v,p){var E;return v<this.head.data.length?(E=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?E=this.shift():E=p?this._getString(v):this._getBuffer(v),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var p=this.head,E=1,y=p.data;for(v-=y.length;p=p.next;){var S=p.data,T=v>S.length?S.length:v;if(T===S.length?y+=S:y+=S.slice(0,v),v-=T,v===0){T===S.length?(++E,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=S.slice(T));break}++E}return this.length-=E,y}},{key:"_getBuffer",value:function(v){var p=u.allocUnsafe(v),E=this.head,y=1;for(E.data.copy(p),v-=E.data.length;E=E.next;){var S=E.data,T=v>S.length?S.length:v;if(S.copy(p,p.length-v,0,T),v-=T,v===0){T===S.length?(++y,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=S.slice(T));break}++y}return this.length-=y,p}},{key:h,value:function(v,p){return c(this,t(t({},p),{},{depth:0,customInspect:!1}))}}]),g}(),Bb}function PH(){if(tR)return Ub;tR=!0;var e=co;function t(a,l){var u=this,f=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return f||c?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,a)):e.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!l&&h?u._writableState?u._writableState.errorEmitted?e.nextTick(n,u):(u._writableState.errorEmitted=!0,e.nextTick(r,u,h)):e.nextTick(r,u,h):l?(e.nextTick(n,u),l(h)):e.nextTick(n,u)}),this)}function r(a,l){o(a,l),n(a)}function n(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(a,l){a.emit("error",l)}function s(a,l){var u=a._readableState,f=a._writableState;u&&u.autoDestroy||f&&f.autoDestroy?a.destroy(l):a.emit("error",l)}return Ub={destroy:t,undestroy:i,errorOrDestroy:s},Ub}function sg(){if(rR)return zb;rR=!0;const e={};function t(s,a,l){l||(l=Error);function u(c,h,m){return typeof a=="string"?a:a(c,h,m)}class f extends l{constructor(h,m,g){super(u(h,m,g))}}f.prototype.name=l.name,f.prototype.code=s,e[s]=f}function r(s,a){if(Array.isArray(s)){const l=s.length;return s=s.map(u=>String(u)),l>2?`one of ${a} ${s.slice(0,l-1).join(", ")}, or `+s[l-1]:l===2?`one of ${a} ${s[0]} or ${s[1]}`:`of ${a} ${s[0]}`}else return`of ${a} ${String(s)}`}function n(s,a,l){return s.substr(0,a.length)===a}function i(s,a,l){return(l===void 0||l>s.length)&&(l=s.length),s.substring(l-a.length,l)===a}function o(s,a,l){return typeof l!="number"&&(l=0),l+a.length>s.length?!1:s.indexOf(a,l)!==-1}return t("ERR_INVALID_OPT_VALUE",function(s,a){return'The value "'+a+'" is invalid for option "'+s+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(s,a,l){let u;typeof a=="string"&&n(a,"not ")?(u="must not be",a=a.replace(/^not /,"")):u="must be";let f;if(i(s," argument"))f=`The ${s} ${u} ${r(a,"type")}`;else{const c=o(s,".")?"property":"argument";f=`The "${s}" ${c} ${u} ${r(a,"type")}`}return f+=`. Received type ${typeof l}`,f},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),zb.codes=e,zb}function RH(){if(nR)return qb;nR=!0;var e=sg().codes.ERR_INVALID_OPT_VALUE;function t(n,i,o){return n.highWaterMark!=null?n.highWaterMark:i?n[o]:null}function r(n,i,o,s){var a=t(i,s,o);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var l=s?o:"highWaterMark";throw new e(l,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return qb={getHighWaterMark:r},qb}function NH(){if(iR)return Vb;iR=!0;var e=co;Vb=O;function t(Z){var te=this;this.next=null,this.entry=null,this.finish=function(){ae(te,Z)}}var r;O.WritableState=d;var n={deprecate:the()},i=OH(),o=Js().Buffer,s=(typeof oR<"u"?oR:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(Z){return o.from(Z)}function l(Z){return o.isBuffer(Z)||Z instanceof s}var u=PH(),f=RH(),c=f.getHighWaterMark,h=sg().codes,m=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,_=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,p=h.ERR_STREAM_DESTROYED,E=h.ERR_STREAM_NULL_VALUES,y=h.ERR_STREAM_WRITE_AFTER_END,S=h.ERR_UNKNOWN_ENCODING,T=u.errorOrDestroy;vd()(O,i);function $(){}function d(Z,te,ue){r=r||Wm(),Z=Z||{},typeof ue!="boolean"&&(ue=te instanceof r),this.objectMode=!!Z.objectMode,ue&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=c(this,Z,"writableHighWaterMark",ue),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var xe=Z.decodeStrings===!1;this.decodeStrings=!xe,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Le){ge(te,Le)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}d.prototype.getBuffer=function(){for(var te=this.bufferedRequest,ue=[];te;)ue.push(te),te=te.next;return ue},function(){try{Object.defineProperty(d.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var x;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(te){return x.call(this,te)?!0:this!==O?!1:te&&te._writableState instanceof d}})):x=function(te){return te instanceof this};function O(Z){r=r||Wm();var te=this instanceof r;if(!te&&!x.call(O,this))return new O(Z);this._writableState=new d(Z,this,te),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),i.call(this)}O.prototype.pipe=function(){T(this,new v)};function P(Z,te){var ue=new y;T(Z,ue),e.nextTick(te,ue)}function M(Z,te,ue,xe){var Le;return ue===null?Le=new E:typeof ue!="string"&&!te.objectMode&&(Le=new m("chunk",["string","Buffer"],ue)),Le?(T(Z,Le),e.nextTick(xe,Le),!1):!0}O.prototype.write=function(Z,te,ue){var xe=this._writableState,Le=!1,C=!xe.objectMode&&l(Z);return C&&!o.isBuffer(Z)&&(Z=a(Z)),typeof te=="function"&&(ue=te,te=null),C?te="buffer":te||(te=xe.defaultEncoding),typeof ue!="function"&&(ue=$),xe.ending?P(this,ue):(C||M(this,xe,Z,ue))&&(xe.pendingcb++,Le=K(this,xe,C,Z,te,ue)),Le},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&D(this,Z))},O.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new S(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function U(Z,te,ue){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof te=="string"&&(te=o.from(te,ue)),te}Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function K(Z,te,ue,xe,Le,C){if(!ue){var F=U(te,xe,Le);xe!==F&&(ue=!0,Le="buffer",xe=F)}var L=te.objectMode?1:xe.length;te.length+=L;var ee=te.length<te.highWaterMark;if(ee||(te.needDrain=!0),te.writing||te.corked){var ce=te.lastBufferedRequest;te.lastBufferedRequest={chunk:xe,encoding:Le,isBuf:ue,callback:C,next:null},ce?ce.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else ie(Z,te,!1,L,xe,Le,C);return ee}function ie(Z,te,ue,xe,Le,C,F){te.writelen=xe,te.writecb=F,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new p("write")):ue?Z._writev(Le,te.onwrite):Z._write(Le,C,te.onwrite),te.sync=!1}function G(Z,te,ue,xe,Le){--te.pendingcb,ue?(e.nextTick(Le,xe),e.nextTick(I,Z,te),Z._writableState.errorEmitted=!0,T(Z,xe)):(Le(xe),Z._writableState.errorEmitted=!0,T(Z,xe),I(Z,te))}function ne(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function ge(Z,te){var ue=Z._writableState,xe=ue.sync,Le=ue.writecb;if(typeof Le!="function")throw new _;if(ne(ue),te)G(Z,ue,xe,te,Le);else{var C=z(ue)||Z.destroyed;!C&&!ue.corked&&!ue.bufferProcessing&&ue.bufferedRequest&&D(Z,ue),xe?e.nextTick(re,Z,ue,C,Le):re(Z,ue,C,Le)}}function re(Z,te,ue,xe){ue||se(Z,te),te.pendingcb--,xe(),I(Z,te)}function se(Z,te){te.length===0&&te.needDrain&&(te.needDrain=!1,Z.emit("drain"))}function D(Z,te){te.bufferProcessing=!0;var ue=te.bufferedRequest;if(Z._writev&&ue&&ue.next){var xe=te.bufferedRequestCount,Le=new Array(xe),C=te.corkedRequestsFree;C.entry=ue;for(var F=0,L=!0;ue;)Le[F]=ue,ue.isBuf||(L=!1),ue=ue.next,F+=1;Le.allBuffers=L,ie(Z,te,!0,te.length,Le,"",C.finish),te.pendingcb++,te.lastBufferedRequest=null,C.next?(te.corkedRequestsFree=C.next,C.next=null):te.corkedRequestsFree=new t(te),te.bufferedRequestCount=0}else{for(;ue;){var ee=ue.chunk,ce=ue.encoding,me=ue.callback,ve=te.objectMode?1:ee.length;if(ie(Z,te,!1,ve,ee,ce,me),ue=ue.next,te.bufferedRequestCount--,te.writing)break}ue===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=ue,te.bufferProcessing=!1}O.prototype._write=function(Z,te,ue){ue(new g("_write()"))},O.prototype._writev=null,O.prototype.end=function(Z,te,ue){var xe=this._writableState;return typeof Z=="function"?(ue=Z,Z=null,te=null):typeof te=="function"&&(ue=te,te=null),Z!=null&&this.write(Z,te),xe.corked&&(xe.corked=1,this.uncork()),xe.ending||q(this,xe,ue),this},Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function z(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function Y(Z,te){Z._final(function(ue){te.pendingcb--,ue&&T(Z,ue),te.prefinished=!0,Z.emit("prefinish"),I(Z,te)})}function N(Z,te){!te.prefinished&&!te.finalCalled&&(typeof Z._final=="function"&&!te.destroyed?(te.pendingcb++,te.finalCalled=!0,e.nextTick(Y,Z,te)):(te.prefinished=!0,Z.emit("prefinish")))}function I(Z,te){var ue=z(te);if(ue&&(N(Z,te),te.pendingcb===0&&(te.finished=!0,Z.emit("finish"),te.autoDestroy))){var xe=Z._readableState;(!xe||xe.autoDestroy&&xe.endEmitted)&&Z.destroy()}return ue}function q(Z,te,ue){te.ending=!0,I(Z,te),ue&&(te.finished?e.nextTick(ue):Z.once("finish",ue)),te.ended=!0,Z.writable=!1}function ae(Z,te,ue){var xe=Z.entry;for(Z.entry=null;xe;){var Le=xe.callback;te.pendingcb--,Le(ue),xe=xe.next}te.corkedRequestsFree.next=Z}return Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){this._writableState&&(this._writableState.destroyed=te)}}),O.prototype.destroy=u.destroy,O.prototype._undestroy=u.undestroy,O.prototype._destroy=function(Z,te){te(Z)},Vb}function Wm(){if(sR)return Hb;sR=!0;var e=co,t=Object.keys||function(f){var c=[];for(var h in f)c.push(h);return c};Hb=a;var r=IH(),n=NH();vd()(a,r);for(var i=t(n.prototype),o=0;o<i.length;o++){var s=i[o];a.prototype[s]||(a.prototype[s]=n.prototype[s])}function a(f){if(!(this instanceof a))return new a(f);r.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||e.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),Hb}function tk(){if(aR)return Wb;aR=!0;var e=sg().codes.ERR_STREAM_PREMATURE_CLOSE;function t(o){var s=!1;return function(){if(!s){s=!0;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];o.apply(this,l)}}}function r(){}function n(o){return o.setHeader&&typeof o.abort=="function"}function i(o,s,a){if(typeof s=="function")return i(o,null,s);s||(s={}),a=t(a||r);var l=s.readable||s.readable!==!1&&o.readable,u=s.writable||s.writable!==!1&&o.writable,f=function(){o.writable||h()},c=o._writableState&&o._writableState.finished,h=function(){u=!1,c=!0,l||a.call(o)},m=o._readableState&&o._readableState.endEmitted,g=function(){l=!1,m=!0,u||a.call(o)},_=function(y){a.call(o,y)},v=function(){var y;if(l&&!m)return(!o._readableState||!o._readableState.ended)&&(y=new e),a.call(o,y);if(u&&!c)return(!o._writableState||!o._writableState.ended)&&(y=new e),a.call(o,y)},p=function(){o.req.on("finish",h)};return n(o)?(o.on("complete",h),o.on("abort",v),o.req?p():o.on("request",p)):u&&!o._writableState&&(o.on("end",f),o.on("close",f)),o.on("end",g),o.on("finish",h),s.error!==!1&&o.on("error",_),o.on("close",v),function(){o.removeListener("complete",h),o.removeListener("abort",v),o.removeListener("request",p),o.req&&o.req.removeListener("finish",h),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",h),o.removeListener("end",g),o.removeListener("error",_),o.removeListener("close",v)}}return Wb=i,Wb}function yhe(){if(lR)return Gb;lR=!0;var e=co,t;function r(S,T,$){return T=n(T),T in S?Object.defineProperty(S,T,{value:$,enumerable:!0,configurable:!0,writable:!0}):S[T]=$,S}function n(S){var T=i(S,"string");return typeof T=="symbol"?T:String(T)}function i(S,T){if(typeof S!="object"||S===null)return S;var $=S[Symbol.toPrimitive];if($!==void 0){var d=$.call(S,T);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(S)}var o=tk(),s=Symbol("lastResolve"),a=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),f=Symbol("lastPromise"),c=Symbol("handlePromise"),h=Symbol("stream");function m(S,T){return{value:S,done:T}}function g(S){var T=S[s];if(T!==null){var $=S[h].read();$!==null&&(S[f]=null,S[s]=null,S[a]=null,T(m($,!1)))}}function _(S){e.nextTick(g,S)}function v(S,T){return function($,d){S.then(function(){if(T[u]){$(m(void 0,!0));return}T[c]($,d)},d)}}var p=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((t={get stream(){return this[h]},next:function(){var T=this,$=this[l];if($!==null)return Promise.reject($);if(this[u])return Promise.resolve(m(void 0,!0));if(this[h].destroyed)return new Promise(function(P,M){e.nextTick(function(){T[l]?M(T[l]):P(m(void 0,!0))})});var d=this[f],x;if(d)x=new Promise(v(d,this));else{var O=this[h].read();if(O!==null)return Promise.resolve(m(O,!1));x=new Promise(this[c])}return this[f]=x,x}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var T=this;return new Promise(function($,d){T[h].destroy(null,function(x){if(x){d(x);return}$(m(void 0,!0))})})}),t),p),y=function(T){var $,d=Object.create(E,($={},r($,h,{value:T,writable:!0}),r($,s,{value:null,writable:!0}),r($,a,{value:null,writable:!0}),r($,l,{value:null,writable:!0}),r($,u,{value:T._readableState.endEmitted,writable:!0}),r($,c,{value:function(O,P){var M=d[h].read();M?(d[f]=null,d[s]=null,d[a]=null,O(m(M,!1))):(d[s]=O,d[a]=P)},writable:!0}),$));return d[f]=null,o(T,function(x){if(x&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"){var O=d[a];O!==null&&(d[f]=null,d[s]=null,d[a]=null,O(x)),d[l]=x;return}var P=d[s];P!==null&&(d[f]=null,d[s]=null,d[a]=null,P(m(void 0,!0))),d[u]=!0}),T.on("readable",_.bind(null,d)),d};return Gb=y,Gb}function whe(){return uR||(uR=!0,Kb=function(){throw new Error("Readable.from is not available in the browser")}),Kb}function IH(){if(cR)return Jb;cR=!0;var e=co;Jb=P;var t;P.ReadableState=O,ss.EventEmitter;var r=function(F,L){return F.listeners(L).length},n=OH(),i=Js().Buffer,o=(typeof fR<"u"?fR:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(C){return i.from(C)}function a(C){return i.isBuffer(C)||C instanceof o}var l=Et,u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var f=vhe(),c=PH(),h=RH(),m=h.getHighWaterMark,g=sg().codes,_=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,p=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,S,T;vd()(P,n);var $=c.errorOrDestroy,d=["error","close","destroy","pause","resume"];function x(C,F,L){if(typeof C.prependListener=="function")return C.prependListener(F,L);!C._events||!C._events[F]?C.on(F,L):Array.isArray(C._events[F])?C._events[F].unshift(L):C._events[F]=[L,C._events[F]]}function O(C,F,L){t=t||Wm(),C=C||{},typeof L!="boolean"&&(L=F instanceof t),this.objectMode=!!C.objectMode,L&&(this.objectMode=this.objectMode||!!C.readableObjectMode),this.highWaterMark=m(this,C,"readableHighWaterMark",L),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.destroyed=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(y||(y=Tm.StringDecoder),this.decoder=new y(C.encoding),this.encoding=C.encoding)}function P(C){if(t=t||Wm(),!(this instanceof P))return new P(C);var F=this instanceof t;this._readableState=new O(C,this,F),this.readable=!0,C&&(typeof C.read=="function"&&(this._read=C.read),typeof C.destroy=="function"&&(this._destroy=C.destroy)),n.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(F){this._readableState&&(this._readableState.destroyed=F)}}),P.prototype.destroy=c.destroy,P.prototype._undestroy=c.undestroy,P.prototype._destroy=function(C,F){F(C)},P.prototype.push=function(C,F){var L=this._readableState,ee;return L.objectMode?ee=!0:typeof C=="string"&&(F=F||L.defaultEncoding,F!==L.encoding&&(C=i.from(C,F),F=""),ee=!0),M(this,C,F,!1,ee)},P.prototype.unshift=function(C){return M(this,C,null,!0,!1)};function M(C,F,L,ee,ce){u("readableAddChunk",F);var me=C._readableState;if(F===null)me.reading=!1,ge(C,me);else{var ve;if(ce||(ve=K(me,F)),ve)$(C,ve);else if(me.objectMode||F&&F.length>0)if(typeof F!="string"&&!me.objectMode&&Object.getPrototypeOf(F)!==i.prototype&&(F=s(F)),ee)me.endEmitted?$(C,new E):U(C,me,F,!0);else if(me.ended)$(C,new v);else{if(me.destroyed)return!1;me.reading=!1,me.decoder&&!L?(F=me.decoder.write(F),me.objectMode||F.length!==0?U(C,me,F,!1):D(C,me)):U(C,me,F,!1)}else ee||(me.reading=!1,D(C,me))}return!me.ended&&(me.length<me.highWaterMark||me.length===0)}function U(C,F,L,ee){F.flowing&&F.length===0&&!F.sync?(F.awaitDrain=0,C.emit("data",L)):(F.length+=F.objectMode?1:L.length,ee?F.buffer.unshift(L):F.buffer.push(L),F.needReadable&&re(C)),D(C,F)}function K(C,F){var L;return!a(F)&&typeof F!="string"&&F!==void 0&&!C.objectMode&&(L=new _("chunk",["string","Buffer","Uint8Array"],F)),L}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(C){y||(y=Tm.StringDecoder);var F=new y(C);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;for(var L=this._readableState.buffer.head,ee="";L!==null;)ee+=F.write(L.data),L=L.next;return this._readableState.buffer.clear(),ee!==""&&this._readableState.buffer.push(ee),this._readableState.length=ee.length,this};var ie=1073741824;function G(C){return C>=ie?C=ie:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function ne(C,F){return C<=0||F.length===0&&F.ended?0:F.objectMode?1:C!==C?F.flowing&&F.length?F.buffer.head.data.length:F.length:(C>F.highWaterMark&&(F.highWaterMark=G(C)),C<=F.length?C:F.ended?F.length:(F.needReadable=!0,0))}P.prototype.read=function(C){u("read",C),C=parseInt(C,10);var F=this._readableState,L=C;if(C!==0&&(F.emittedReadable=!1),C===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return u("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?ue(this):re(this),null;if(C=ne(C,F),C===0&&F.ended)return F.length===0&&ue(this),null;var ee=F.needReadable;u("need readable",ee),(F.length===0||F.length-C<F.highWaterMark)&&(ee=!0,u("length less than watermark",ee)),F.ended||F.reading?(ee=!1,u("reading or ended",ee)):ee&&(u("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(C=ne(L,F)));var ce;return C>0?ce=te(C,F):ce=null,ce===null?(F.needReadable=F.length<=F.highWaterMark,C=0):(F.length-=C,F.awaitDrain=0),F.length===0&&(F.ended||(F.needReadable=!0),L!==C&&F.ended&&ue(this)),ce!==null&&this.emit("data",ce),ce};function ge(C,F){if(u("onEofChunk"),!F.ended){if(F.decoder){var L=F.decoder.end();L&&L.length&&(F.buffer.push(L),F.length+=F.objectMode?1:L.length)}F.ended=!0,F.sync?re(C):(F.needReadable=!1,F.emittedReadable||(F.emittedReadable=!0,se(C)))}}function re(C){var F=C._readableState;u("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(u("emitReadable",F.flowing),F.emittedReadable=!0,e.nextTick(se,C))}function se(C){var F=C._readableState;u("emitReadable_",F.destroyed,F.length,F.ended),!F.destroyed&&(F.length||F.ended)&&(C.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,Z(C)}function D(C,F){F.readingMore||(F.readingMore=!0,e.nextTick(z,C,F))}function z(C,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){var L=F.length;if(u("maybeReadMore read 0"),C.read(0),L===F.length)break}F.readingMore=!1}P.prototype._read=function(C){$(this,new p("_read()"))},P.prototype.pipe=function(C,F){var L=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=C;break;case 1:ee.pipes=[ee.pipes,C];break;default:ee.pipes.push(C);break}ee.pipesCount+=1,u("pipe count=%d opts=%j",ee.pipesCount,F);var ce=(!F||F.end!==!1)&&C!==e.stdout&&C!==e.stderr,me=ce?Te:k;ee.endEmitted?e.nextTick(me):L.once("end",me),C.on("unpipe",ve);function ve(B,le){u("onunpipe"),B===L&&le&&le.hasUnpiped===!1&&(le.hasUnpiped=!0,Ve())}function Te(){u("onend"),C.end()}var De=Y(L);C.on("drain",De);var Ge=!1;function Ve(){u("cleanup"),C.removeListener("close",Xe),C.removeListener("finish",Q),C.removeListener("drain",De),C.removeListener("error",tt),C.removeListener("unpipe",ve),L.removeListener("end",Te),L.removeListener("end",k),L.removeListener("data",ht),Ge=!0,ee.awaitDrain&&(!C._writableState||C._writableState.needDrain)&&De()}L.on("data",ht);function ht(B){u("ondata");var le=C.write(B);u("dest.write",le),le===!1&&((ee.pipesCount===1&&ee.pipes===C||ee.pipesCount>1&&Le(ee.pipes,C)!==-1)&&!Ge&&(u("false write response, pause",ee.awaitDrain),ee.awaitDrain++),L.pause())}function tt(B){u("onerror",B),k(),C.removeListener("error",tt),r(C,"error")===0&&$(C,B)}x(C,"error",tt);function Xe(){C.removeListener("finish",Q),k()}C.once("close",Xe);function Q(){u("onfinish"),C.removeListener("close",Xe),k()}C.once("finish",Q);function k(){u("unpipe"),L.unpipe(C)}return C.emit("pipe",L),ee.flowing||(u("pipe resume"),L.resume()),C};function Y(C){return function(){var L=C._readableState;u("pipeOnDrain",L.awaitDrain),L.awaitDrain&&L.awaitDrain--,L.awaitDrain===0&&r(C,"data")&&(L.flowing=!0,Z(C))}}P.prototype.unpipe=function(C){var F=this._readableState,L={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return C&&C!==F.pipes?this:(C||(C=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,C&&C.emit("unpipe",this,L),this);if(!C){var ee=F.pipes,ce=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var me=0;me<ce;me++)ee[me].emit("unpipe",this,{hasUnpiped:!1});return this}var ve=Le(F.pipes,C);return ve===-1?this:(F.pipes.splice(ve,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),C.emit("unpipe",this,L),this)},P.prototype.on=function(C,F){var L=n.prototype.on.call(this,C,F),ee=this._readableState;return C==="data"?(ee.readableListening=this.listenerCount("readable")>0,ee.flowing!==!1&&this.resume()):C==="readable"&&!ee.endEmitted&&!ee.readableListening&&(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,u("on readable",ee.length,ee.reading),ee.length?re(this):ee.reading||e.nextTick(I,this)),L},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(C,F){var L=n.prototype.removeListener.call(this,C,F);return C==="readable"&&e.nextTick(N,this),L},P.prototype.removeAllListeners=function(C){var F=n.prototype.removeAllListeners.apply(this,arguments);return(C==="readable"||C===void 0)&&e.nextTick(N,this),F};function N(C){var F=C._readableState;F.readableListening=C.listenerCount("readable")>0,F.resumeScheduled&&!F.paused?F.flowing=!0:C.listenerCount("data")>0&&C.resume()}function I(C){u("readable nexttick read 0"),C.read(0)}P.prototype.resume=function(){var C=this._readableState;return C.flowing||(u("resume"),C.flowing=!C.readableListening,q(this,C)),C.paused=!1,this};function q(C,F){F.resumeScheduled||(F.resumeScheduled=!0,e.nextTick(ae,C,F))}function ae(C,F){u("resume",F.reading),F.reading||C.read(0),F.resumeScheduled=!1,C.emit("resume"),Z(C),F.flowing&&!F.reading&&C.read(0)}P.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(C){var F=C._readableState;for(u("flow",F.flowing);F.flowing&&C.read()!==null;);}P.prototype.wrap=function(C){var F=this,L=this._readableState,ee=!1;C.on("end",function(){if(u("wrapped end"),L.decoder&&!L.ended){var ve=L.decoder.end();ve&&ve.length&&F.push(ve)}F.push(null)}),C.on("data",function(ve){if(u("wrapped data"),L.decoder&&(ve=L.decoder.write(ve)),!(L.objectMode&&ve==null)&&!(!L.objectMode&&(!ve||!ve.length))){var Te=F.push(ve);Te||(ee=!0,C.pause())}});for(var ce in C)this[ce]===void 0&&typeof C[ce]=="function"&&(this[ce]=function(Te){return function(){return C[Te].apply(C,arguments)}}(ce));for(var me=0;me<d.length;me++)C.on(d[me],this.emit.bind(this,d[me]));return this._read=function(ve){u("wrapped _read",ve),ee&&(ee=!1,C.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=yhe()),S(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}}),P._fromList=te,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function te(C,F){if(F.length===0)return null;var L;return F.objectMode?L=F.buffer.shift():!C||C>=F.length?(F.decoder?L=F.buffer.join(""):F.buffer.length===1?L=F.buffer.first():L=F.buffer.concat(F.length),F.buffer.clear()):L=F.buffer.consume(C,F.decoder),L}function ue(C){var F=C._readableState;u("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,e.nextTick(xe,F,C))}function xe(C,F){if(u("endReadableNT",C.endEmitted,C.length),!C.endEmitted&&C.length===0&&(C.endEmitted=!0,F.readable=!1,F.emit("end"),C.autoDestroy)){var L=F._writableState;(!L||L.autoDestroy&&L.finished)&&F.destroy()}}typeof Symbol=="function"&&(P.from=function(C,F){return T===void 0&&(T=whe()),T(P,C,F)});function Le(C,F){for(var L=0,ee=C.length;L<ee;L++)if(C[L]===F)return L;return-1}return Jb}function CH(){if(dR)return Yb;dR=!0,Yb=a;var e=sg().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=Wm();vd()(a,o);function s(f,c){var h=this._transformState;h.transforming=!1;var m=h.writecb;if(m===null)return this.emit("error",new r);h.writechunk=null,h.writecb=null,c!=null&&this.push(c),m(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function a(f){if(!(this instanceof a))return new a(f);o.call(this,f),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,h){u(f,c,h)}):u(this,null,null)}a.prototype.push=function(f,c){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,c)},a.prototype._transform=function(f,c,h){h(new t("_transform()"))},a.prototype._write=function(f,c,h){var m=this._transformState;if(m.writecb=h,m.writechunk=f,m.writeencoding=c,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},a.prototype._read=function(f){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},a.prototype._destroy=function(f,c){o.prototype._destroy.call(this,f,function(h){c(h)})};function u(f,c,h){if(c)return f.emit("error",c);if(h!=null&&f.push(h),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return Yb}function bhe(){if(hR)return Xb;hR=!0,Xb=t;var e=CH();vd()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},Xb}function _he(){if(pR)return Qb;pR=!0;var e;function t(h){var m=!1;return function(){m||(m=!0,h.apply(void 0,arguments))}}var r=sg().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function o(h){if(h)throw h}function s(h){return h.setHeader&&typeof h.abort=="function"}function a(h,m,g,_){_=t(_);var v=!1;h.on("close",function(){v=!0}),e===void 0&&(e=tk()),e(h,{readable:m,writable:g},function(E){if(E)return _(E);v=!0,_()});var p=!1;return function(E){if(!v&&!p){if(p=!0,s(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();_(E||new i("pipe"))}}}function l(h){h()}function u(h,m){return h.pipe(m)}function f(h){return!h.length||typeof h[h.length-1]!="function"?o:h.pop()}function c(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];var _=f(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new n("streams");var v,p=m.map(function(E,y){var S=y<m.length-1,T=y>0;return a(E,S,T,function($){v||(v=$),$&&p.forEach(l),!S&&(p.forEach(l),_(v))})});return m.reduce(u)}return Qb=c,Qb}function kH(){return mR||(mR=!0,ts=ts=IH(),ts.Stream=ts,ts.Readable=ts,ts.Writable=NH(),ts.Duplex=Wm(),ts.Transform=CH(),ts.PassThrough=bhe(),ts.finished=tk(),ts.pipeline=_he()),ts}function jH(){if(gR)return pv;gR=!0;var e=Js().Buffer,t=co,r=AH(),n=vd(),i=kH(),o=pv.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},s=pv.IncomingMessage=function(a,l,u,f){var c=this||mv;if(i.Readable.call(c),c._mode=u,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),u==="fetch"){let p=function(){m.read().then(function(E){if(!c._destroyed){if(f(E.done),E.done){c.push(null);return}c.push(e.from(E.value)),p()}}).catch(function(E){f(!0),c._destroyed||c.emit("error",E)})};if(c._fetchResponse=l,c.url=l.url,c.statusCode=l.status,c.statusMessage=l.statusText,l.headers.forEach(function(E,y){c.headers[y.toLowerCase()]=E,c.rawHeaders.push(y,E)}),r.writableStream){var h=new WritableStream({write:function(E){return f(!1),new Promise(function(y,S){c._destroyed?S():c.push(e.from(E))?y():c._resumeFetch=y})},close:function(){f(!0),c._destroyed||c.push(null)},abort:function(E){f(!0),c._destroyed||c.emit("error",E)}});try{l.body.pipeTo(h).catch(function(E){f(!0),c._destroyed||c.emit("error",E)});return}catch{}}var m=l.body.getReader();p()}else{c._xhr=a,c._pos=0,c.url=a.responseURL,c.statusCode=a.status,c.statusMessage=a.statusText;var g=a.getAllResponseHeaders().split(/\r?\n/);if(g.forEach(function(p){var E=p.match(/^([^:]+):\s*(.*)/);if(E){var y=E[1].toLowerCase();y==="set-cookie"?(c.headers[y]===void 0&&(c.headers[y]=[]),c.headers[y].push(E[2])):c.headers[y]!==void 0?c.headers[y]+=", "+E[2]:c.headers[y]=E[2],c.rawHeaders.push(E[1],E[2])}}),c._charset="x-user-defined",!r.overrideMimeType){var _=c.rawHeaders["mime-type"];if(_){var v=_.match(/;\s*charset=([^;])(;|$)/);v&&(c._charset=v[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};return n(s,i.Readable),s.prototype._read=function(){var a=this||mv,l=a._resumeFetch;l&&(a._resumeFetch=null,l())},s.prototype._onXHRProgress=function(a){var l=this||mv,u=l._xhr,f=null;switch(l._mode){case"text":if(f=u.responseText,f.length>l._pos){var c=f.substr(l._pos);if(l._charset==="x-user-defined"){for(var h=e.alloc(c.length),m=0;m<c.length;m++)h[m]=c.charCodeAt(m)&255;l.push(h)}else l.push(c,l._charset);l._pos=f.length}break;case"arraybuffer":if(u.readyState!==o.DONE||!u.response)break;f=u.response,l.push(e.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=u.response,u.readyState!==o.LOADING||!f)break;l.push(e.from(new Uint8Array(f)));break;case"ms-stream":if(f=u.response,u.readyState!==o.LOADING)break;var g=new mv.MSStreamReader;g.onprogress=function(){g.result.byteLength>l._pos&&(l.push(e.from(new Uint8Array(g.result.slice(l._pos)))),l._pos=g.result.byteLength)},g.onload=function(){a(!0),l.push(null)},g.readAsArrayBuffer(f);break}l._xhr.readyState===o.DONE&&l._mode!=="ms-stream"&&(a(!0),l.push(null))},pv}function Ehe(){if(vR)return Zb;vR=!0;var e=Js().Buffer,t=co,r=AH(),n=vd(),i=jH(),o=kH(),s=i.IncomingMessage,a=i.readyStates;function l(h,m){return r.fetch&&m?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&h?"arraybuffer":"text"}var u=Zb=function(h){var m=this||Ki;o.Writable.call(m),m._opts=h,m._body=[],m._headers={},h.auth&&m.setHeader("Authorization","Basic "+e.from(h.auth).toString("base64")),Object.keys(h.headers).forEach(function(v){m.setHeader(v,h.headers[v])});var g,_=!0;if(h.mode==="disable-fetch"||"requestTimeout"in h&&!r.abortController)_=!1,g=!0;else if(h.mode==="prefer-streaming")g=!1;else if(h.mode==="allow-wrong-content-type")g=!r.overrideMimeType;else if(!h.mode||h.mode==="default"||h.mode==="prefer-fast")g=!0;else throw new Error("Invalid value for opts.mode");m._mode=l(g,_),m._fetchTimer=null,m._socketTimeout=null,m._socketTimer=null,m.on("finish",function(){m._onFinish()})};n(u,o.Writable),u.prototype.setHeader=function(h,m){var g=this||Ki,_=h.toLowerCase();c.indexOf(_)===-1&&(g._headers[_]={name:h,value:m})},u.prototype.getHeader=function(h){var m=(this||Ki)._headers[h.toLowerCase()];return m?m.value:null},u.prototype.removeHeader=function(h){var m=this||Ki;delete m._headers[h.toLowerCase()]},u.prototype._onFinish=function(){var h=this||Ki;if(!h._destroyed){var m=h._opts;"timeout"in m&&m.timeout!==0&&h.setTimeout(m.timeout);var g=h._headers,_=null;m.method!=="GET"&&m.method!=="HEAD"&&(_=new Blob(h._body,{type:(g["content-type"]||{}).value||""}));var v=[];if(Object.keys(g).forEach(function(S){var T=g[S].name,$=g[S].value;Array.isArray($)?$.forEach(function(d){v.push([T,d])}):v.push([T,$])}),h._mode==="fetch"){var p=null;if(r.abortController){var E=new AbortController;p=E.signal,h._fetchAbortController=E,"requestTimeout"in m&&m.requestTimeout!==0&&(h._fetchTimer=Ki.setTimeout(function(){h.emit("requestTimeout"),h._fetchAbortController&&h._fetchAbortController.abort()},m.requestTimeout))}Ki.fetch(h._opts.url,{method:h._opts.method,headers:v,body:_||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:p}).then(function(S){h._fetchResponse=S,h._resetTimers(!1),h._connect()},function(S){h._resetTimers(!0),h._destroyed||h.emit("error",S)})}else{var y=h._xhr=new Ki.XMLHttpRequest;try{y.open(h._opts.method,h._opts.url,!0)}catch(S){t.nextTick(function(){h.emit("error",S)});return}"responseType"in y&&(y.responseType=h._mode),"withCredentials"in y&&(y.withCredentials=!!m.withCredentials),h._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(y.timeout=m.requestTimeout,y.ontimeout=function(){h.emit("requestTimeout")}),v.forEach(function(S){y.setRequestHeader(S[0],S[1])}),h._response=null,y.onreadystatechange=function(){switch(y.readyState){case a.LOADING:case a.DONE:h._onXHRProgress();break}},h._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){h._onXHRProgress()}),y.onerror=function(){h._destroyed||(h._resetTimers(!0),h.emit("error",new Error("XHR error")))};try{y.send(_)}catch(S){t.nextTick(function(){h.emit("error",S)});return}}}};function f(h){try{var m=h.status;return m!==null&&m!==0}catch{return!1}}u.prototype._onXHRProgress=function(){var h=this||Ki;h._resetTimers(!1),!(!f(h._xhr)||h._destroyed)&&(h._response||h._connect(),h._response._onXHRProgress(h._resetTimers.bind(h)))},u.prototype._connect=function(){var h=this||Ki;h._destroyed||(h._response=new s(h._xhr,h._fetchResponse,h._mode,h._resetTimers.bind(h)),h._response.on("error",function(m){h.emit("error",m)}),h.emit("response",h._response))},u.prototype._write=function(h,m,g){var _=this||Ki;_._body.push(h),g()},u.prototype._resetTimers=function(h){var m=this||Ki;Ki.clearTimeout(m._socketTimer),m._socketTimer=null,h?(Ki.clearTimeout(m._fetchTimer),m._fetchTimer=null):m._socketTimeout&&(m._socketTimer=Ki.setTimeout(function(){m.emit("timeout")},m._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(h){var m=this||Ki;m._destroyed=!0,m._resetTimers(!0),m._response&&(m._response._destroyed=!0),m._xhr?m._xhr.abort():m._fetchAbortController&&m._fetchAbortController.abort(),h&&m.emit("error",h)},u.prototype.end=function(h,m,g){var _=this||Ki;typeof h=="function"&&(g=h,h=void 0),o.Writable.prototype.end.call(_,h,m,g)},u.prototype.setTimeout=function(h,m){var g=this||Ki;m&&g.once("timeout",m),g._socketTimeout=h,g._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return Zb}function She(){if(yR)return e_;yR=!0,e_=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var o in i)e.call(i,o)&&(r[o]=i[o])}return r}return e_}function The(){return wR||(wR=!0,t_={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),t_}function $he(){if(bR)return r_;bR=!0;var e=Ehe(),t=jH(),r=She(),n=The(),i=In,o=r_;return o.request=function(s,a){typeof s=="string"?s=i.parse(s):s=r(s);var l=DH.location.protocol.search(/^https?:$/)===-1?"http:":"",u=s.protocol||l,f=s.hostname||s.host,c=s.port,h=s.path||"/";f&&f.indexOf(":")!==-1&&(f="["+f+"]"),s.url=(f?u+"//"+f:"")+(c?":"+c:"")+h,s.method=(s.method||"GET").toUpperCase(),s.headers=s.headers||{};var m=new e(s);return a&&m.on("response",a),m},o.get=function(a,l){var u=o.request(a,l);return u.end(),u},o.ClientRequest=e,o.IncomingMessage=t.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=n,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],r_}var Is,QP,xf,Fb,ZP,Bb,eR,Ub,tR,zb,rR,qb,nR,Vb,iR,oR,Hb,sR,Wb,aR,Gb,lR,Kb,uR,Jb,cR,fR,Yb,dR,Xb,hR,Qb,pR,ts,mR,pv,gR,mv,Zb,vR,Ki,e_,yR,t_,wR,r_,bR,DH,bu,MH,LH,FH,BH,UH,zH,qH,VH,rk=Vn({"../../node_modules/@jspm/core/nodelibs/browser/http.js"(){Ie(),X2(),Lde(),X1(),W1(),Vde(),a0(),l0(),rhe(),nH(),xH(),Q1(),Is={},QP=!1,xf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Fb={},ZP=!1,Bb={},eR=!1,Ub={},tR=!1,zb={},rR=!1,qb={},nR=!1,Vb={},iR=!1,oR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Hb={},sR=!1,Wb={},aR=!1,Gb={},lR=!1,Kb={},uR=!1,Jb={},cR=!1,fR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Yb={},dR=!1,Xb={},hR=!1,Qb={},pR=!1,ts={},mR=!1,pv={},gR=!1,mv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Zb={},vR=!1,Ki=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,e_={},yR=!1,t_={},wR=!1,r_={},bR=!1,DH=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,bu=$he(),MH=bu.Agent,LH=bu.ClientRequest,FH=bu.IncomingMessage,BH=bu.METHODS,UH=bu.STATUS_CODES,zH=bu.get,qH=bu.globalAgent,VH=bu.request}});function RB(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return r===-1&&(r=t),[r,r===t?0:4-r%4]}function xhe(e,t,r){for(var n,i,o=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(zl[(i=n)>>18&63]+zl[i>>12&63]+zl[i>>6&63]+zl[63&i]);return o.join("")}function $c(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,Ct.prototype),t}function Ct(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _R(e)}return HH(e,t,r)}function HH(e,t,r){if(typeof e=="string")return function(o,s){if(typeof s=="string"&&s!==""||(s="utf8"),!Ct.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var a=0|GH(o,s),l=$c(a),u=l.write(o,s);return u!==a&&(l=l.slice(0,u)),l}(e,t);if(ArrayBuffer.isView(e))return Kx(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(xc(e,ArrayBuffer)||e&&xc(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xc(e,SharedArrayBuffer)||e&&xc(e.buffer,SharedArrayBuffer)))return NB(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return Ct.from(n,t,r);var i=function(o){if(Ct.isBuffer(o)){var s=0|nk(o.length),a=$c(s);return a.length===0||o.copy(a,0,0,s),a}if(o.length!==void 0)return typeof o.length!="number"||ik(o.length)?$c(0):Kx(o);if(o.type==="Buffer"&&Array.isArray(o.data))return Kx(o.data)}(e);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return Ct.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function WH(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function _R(e){return WH(e),$c(e<0?0:0|nk(e))}function Kx(e){for(var t=e.length<0?0:0|nk(e.length),r=$c(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function NB(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=t===void 0&&r===void 0?new Uint8Array(e):r===void 0?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,Ct.prototype),n}function nk(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function GH(e,t){if(Ct.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||xc(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return ER(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return XH(e).length;default:if(i)return n?-1:ER(e).length;t=(""+t).toLowerCase(),i=!0}}function Ahe(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Dhe(this,t,r);case"utf8":case"utf-8":return JH(this,t,r);case"ascii":return khe(this,t,r);case"latin1":case"binary":return jhe(this,t,r);case"base64":return Che(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Mhe(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function Gd(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function IB(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),ik(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if(typeof t=="string"&&(t=Ct.from(t,n)),Ct.isBuffer(t))return t.length===0?-1:CB(e,t,r,n,i);if(typeof t=="number")return t&=255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):CB(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function CB(e,t,r,n,i){var o,s=1,a=e.length,l=t.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,r/=2}function u(m,g){return s===1?m[g]:m.readUInt16BE(g*s)}if(i){var f=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,f===-1?0:o-f)){if(f===-1&&(f=o),o-f+1===l)return f*s}else f!==-1&&(o-=o-f),f=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){for(var c=!0,h=0;h<l;h++)if(u(e,o+h)!==u(t,h)){c=!1;break}if(c)return o}return-1}function Ohe(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(ik(a))return s;e[r+s]=a}return s}function Phe(e,t,r,n){return eT(ER(t,e.length-r),e,r,n)}function KH(e,t,r,n){return eT(function(i){for(var o=[],s=0;s<i.length;++s)o.push(255&i.charCodeAt(s));return o}(t),e,r,n)}function Rhe(e,t,r,n){return KH(e,t,r,n)}function Nhe(e,t,r,n){return eT(XH(t),e,r,n)}function Ihe(e,t,r,n){return eT(function(i,o){for(var s,a,l,u=[],f=0;f<i.length&&!((o-=2)<0);++f)s=i.charCodeAt(f),a=s>>8,l=s%256,u.push(l),u.push(a);return u}(t,e.length-r),e,r,n)}function Che(e,t,r){return t===0&&r===e.length?MS.fromByteArray(e):MS.fromByteArray(e.slice(t,r))}function JH(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,l,u=e[i],f=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=r)switch(c){case 1:u<128&&(f=u);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&u)<<6|63&o)>127&&(f=l);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(f=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(f=l)}f===null?(f=65533,c=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=c}return function(h){var m=h.length;if(m<=4096)return String.fromCharCode.apply(String,h);for(var g="",_=0;_<m;)g+=String.fromCharCode.apply(String,h.slice(_,_+=4096));return g}(n)}function khe(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function jhe(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function Dhe(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=oW[e[o]];return i}function Mhe(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function io(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function Ns(e,t,r,n,i,o){if(!Ct.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function YH(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function kB(e,t,r,n,i){return t=+t,r>>>=0,i||YH(e,0,r,4),uh.write(e,t,r,n,23,4),r+4}function jB(e,t,r,n,i){return t=+t,r>>>=0,i||YH(e,0,r,8),uh.write(e,t,r,n,52,8),r+8}function ER(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function XH(e){return MS.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(iW,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(e))}function eT(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function xc(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function ik(e){return e!=e}function DB(e,t){for(var r in e)t[r]=e[r]}function Kd(e,t,r){return Dl(e,t,r)}function Kg(e){var t;switch(this.encoding=function(r){var n=function(i){if(!i)return"utf8";for(var o;;)switch(i){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return i;default:if(o)return;i=(""+i).toLowerCase(),o=!0}}(r);if(typeof n!="string"&&(FS.isEncoding===SR||!SR(r)))throw new Error("Unknown encoding: "+r);return n||r}(e),this.encoding){case"utf16le":this.text=Fhe,this.end=Bhe,t=4;break;case"utf8":this.fillLast=Lhe,t=4;break;case"base64":this.text=Uhe,this.end=zhe,t=3;break;default:return this.write=qhe,this.end=Vhe,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=FS.allocUnsafe(t)}function Jx(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function Lhe(e){var t=this.lastTotal-this.lastNeed,r=function(n,i,o){if((192&i[0])!=128)return n.lastNeed=0,"�";if(n.lastNeed>1&&i.length>1){if((192&i[1])!=128)return n.lastNeed=1,"�";if(n.lastNeed>2&&i.length>2&&(192&i[2])!=128)return n.lastNeed=2,"�"}}(this,e);return r!==void 0?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length,void 0)}function Fhe(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Bhe(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Uhe(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function zhe(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function qhe(e){return e.toString(this.encoding)}function Vhe(e){return e&&e.length?this.write(e):""}function Hhe(){if(TR)return Vp;TR=!0,Vp.byteLength=a,Vp.toByteArray=u,Vp.fromByteArray=h;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function s(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=m.indexOf("=");_===-1&&(_=g);var v=_===g?0:4-_%4;return[_,v]}function a(m){var g=s(m),_=g[0],v=g[1];return(_+v)*3/4-v}function l(m,g,_){return(g+_)*3/4-_}function u(m){var g,_=s(m),v=_[0],p=_[1],E=new r(l(m,v,p)),y=0,S=p>0?v-4:v,T;for(T=0;T<S;T+=4)g=t[m.charCodeAt(T)]<<18|t[m.charCodeAt(T+1)]<<12|t[m.charCodeAt(T+2)]<<6|t[m.charCodeAt(T+3)],E[y++]=g>>16&255,E[y++]=g>>8&255,E[y++]=g&255;return p===2&&(g=t[m.charCodeAt(T)]<<2|t[m.charCodeAt(T+1)]>>4,E[y++]=g&255),p===1&&(g=t[m.charCodeAt(T)]<<10|t[m.charCodeAt(T+1)]<<4|t[m.charCodeAt(T+2)]>>2,E[y++]=g>>8&255,E[y++]=g&255),E}function f(m){return e[m>>18&63]+e[m>>12&63]+e[m>>6&63]+e[m&63]}function c(m,g,_){for(var v,p=[],E=g;E<_;E+=3)v=(m[E]<<16&16711680)+(m[E+1]<<8&65280)+(m[E+2]&255),p.push(f(v));return p.join("")}function h(m){for(var g,_=m.length,v=_%3,p=[],E=16383,y=0,S=_-v;y<S;y+=E)p.push(c(m,y,y+E>S?S:y+E));return v===1?(g=m[_-1],p.push(e[g>>2]+e[g<<4&63]+"==")):v===2&&(g=(m[_-2]<<8)+m[_-1],p.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),p.join("")}return Vp}function Whe(){return $R||($R=!0,gv.read=function(e,t,r,n,i){var o,s,a=i*8-n-1,l=(1<<a)-1,u=l>>1,f=-7,c=r?i-1:0,h=r?-1:1,m=e[t+c];for(c+=h,o=m&(1<<-f)-1,m>>=-f,f+=a;f>0;o=o*256+e[t+c],c+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=s*256+e[t+c],c+=h,f-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(m?-1:1)*s*Math.pow(2,o-n)},gv.write=function(e,t,r,n,i,o){var s,a,l,u=o*8-i-1,f=(1<<u)-1,c=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+c>=1?t+=h/l:t+=h*Math.pow(2,1-c),t*l>=2&&(s++,l/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(t*l-1)*Math.pow(2,i),s=s+c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[r+m]=a&255,m+=g,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+m]=s&255,m+=g,s/=256,u-=8);e[r+m-g]|=_*128}),gv}function Ghe(){if(xR)return Af;xR=!0;const e=Hhe(),t=Whe(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Af.Buffer=s,Af.SlowBuffer=p,Af.INSPECT_MAX_BYTES=50;const n=2147483647;Af.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const Q=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf(Q,k),Q.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(Q){if(Q>n)throw new RangeError('The value "'+Q+'" is invalid for option "size"');const k=new Uint8Array(Q);return Object.setPrototypeOf(k,s.prototype),k}function s(Q,k,B){if(typeof Q=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(Q)}return a(Q,k,B)}s.poolSize=8192;function a(Q,k,B){if(typeof Q=="string")return c(Q,k);if(ArrayBuffer.isView(Q))return m(Q);if(Q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(Ge(Q,ArrayBuffer)||Q&&Ge(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ge(Q,SharedArrayBuffer)||Q&&Ge(Q.buffer,SharedArrayBuffer)))return g(Q,k,B);if(typeof Q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const le=Q.valueOf&&Q.valueOf();if(le!=null&&le!==Q)return s.from(le,k,B);const Ee=_(Q);if(Ee)return Ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Q[Symbol.toPrimitive]=="function")return s.from(Q[Symbol.toPrimitive]("string"),k,B);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}s.from=function(Q,k,B){return a(Q,k,B)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(Q){if(typeof Q!="number")throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function u(Q,k,B){return l(Q),Q<=0?o(Q):k!==void 0?typeof B=="string"?o(Q).fill(k,B):o(Q).fill(k):o(Q)}s.alloc=function(Q,k,B){return u(Q,k,B)};function f(Q){return l(Q),o(Q<0?0:v(Q)|0)}s.allocUnsafe=function(Q){return f(Q)},s.allocUnsafeSlow=function(Q){return f(Q)};function c(Q,k){if((typeof k!="string"||k==="")&&(k="utf8"),!s.isEncoding(k))throw new TypeError("Unknown encoding: "+k);const B=E(Q,k)|0;let le=o(B);const Ee=le.write(Q,k);return Ee!==B&&(le=le.slice(0,Ee)),le}function h(Q){const k=Q.length<0?0:v(Q.length)|0,B=o(k);for(let le=0;le<k;le+=1)B[le]=Q[le]&255;return B}function m(Q){if(Ge(Q,Uint8Array)){const k=new Uint8Array(Q);return g(k.buffer,k.byteOffset,k.byteLength)}return h(Q)}function g(Q,k,B){if(k<0||Q.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<k+(B||0))throw new RangeError('"length" is outside of buffer bounds');let le;return k===void 0&&B===void 0?le=new Uint8Array(Q):B===void 0?le=new Uint8Array(Q,k):le=new Uint8Array(Q,k,B),Object.setPrototypeOf(le,s.prototype),le}function _(Q){if(s.isBuffer(Q)){const k=v(Q.length)|0,B=o(k);return B.length===0||Q.copy(B,0,0,k),B}if(Q.length!==void 0)return typeof Q.length!="number"||Ve(Q.length)?o(0):h(Q);if(Q.type==="Buffer"&&Array.isArray(Q.data))return h(Q.data)}function v(Q){if(Q>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return Q|0}function p(Q){return+Q!=Q&&(Q=0),s.alloc(+Q)}s.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==s.prototype},s.compare=function(k,B){if(Ge(k,Uint8Array)&&(k=s.from(k,k.offset,k.byteLength)),Ge(B,Uint8Array)&&(B=s.from(B,B.offset,B.byteLength)),!s.isBuffer(k)||!s.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===B)return 0;let le=k.length,Ee=B.length;for(let Pe=0,qe=Math.min(le,Ee);Pe<qe;++Pe)if(k[Pe]!==B[Pe]){le=k[Pe],Ee=B[Pe];break}return le<Ee?-1:Ee<le?1:0},s.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(k,B){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return s.alloc(0);let le;if(B===void 0)for(B=0,le=0;le<k.length;++le)B+=k[le].length;const Ee=s.allocUnsafe(B);let Pe=0;for(le=0;le<k.length;++le){let qe=k[le];if(Ge(qe,Uint8Array))Pe+qe.length>Ee.length?(s.isBuffer(qe)||(qe=s.from(qe)),qe.copy(Ee,Pe)):Uint8Array.prototype.set.call(Ee,qe,Pe);else if(s.isBuffer(qe))qe.copy(Ee,Pe);else throw new TypeError('"list" argument must be an Array of Buffers');Pe+=qe.length}return Ee};function E(Q,k){if(s.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||Ge(Q,ArrayBuffer))return Q.byteLength;if(typeof Q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);const B=Q.length,le=arguments.length>2&&arguments[2]===!0;if(!le&&B===0)return 0;let Ee=!1;for(;;)switch(k){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return ce(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B*2;case"hex":return B>>>1;case"base64":return Te(Q).length;default:if(Ee)return le?-1:ce(Q).length;k=(""+k).toLowerCase(),Ee=!0}}s.byteLength=E;function y(Q,k,B){let le=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((B===void 0||B>this.length)&&(B=this.length),B<=0)||(B>>>=0,k>>>=0,B<=k))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return re(this,k,B);case"utf8":case"utf-8":return K(this,k,B);case"ascii":return ne(this,k,B);case"latin1":case"binary":return ge(this,k,B);case"base64":return U(this,k,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,k,B);default:if(le)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),le=!0}}s.prototype._isBuffer=!0;function S(Q,k,B){const le=Q[k];Q[k]=Q[B],Q[B]=le}s.prototype.swap16=function(){const k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let B=0;B<k;B+=2)S(this,B,B+1);return this},s.prototype.swap32=function(){const k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let B=0;B<k;B+=4)S(this,B,B+3),S(this,B+1,B+2);return this},s.prototype.swap64=function(){const k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let B=0;B<k;B+=8)S(this,B,B+7),S(this,B+1,B+6),S(this,B+2,B+5),S(this,B+3,B+4);return this},s.prototype.toString=function(){const k=this.length;return k===0?"":arguments.length===0?K(this,0,k):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(k){if(!s.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:s.compare(this,k)===0},s.prototype.inspect=function(){let k="";const B=Af.INSPECT_MAX_BYTES;return k=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(k+=" ... "),"<Buffer "+k+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(k,B,le,Ee,Pe){if(Ge(k,Uint8Array)&&(k=s.from(k,k.offset,k.byteLength)),!s.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(B===void 0&&(B=0),le===void 0&&(le=k?k.length:0),Ee===void 0&&(Ee=0),Pe===void 0&&(Pe=this.length),B<0||le>k.length||Ee<0||Pe>this.length)throw new RangeError("out of range index");if(Ee>=Pe&&B>=le)return 0;if(Ee>=Pe)return-1;if(B>=le)return 1;if(B>>>=0,le>>>=0,Ee>>>=0,Pe>>>=0,this===k)return 0;let qe=Pe-Ee,Be=le-B;const Ye=Math.min(qe,Be),gt=this.slice(Ee,Pe),Ot=k.slice(B,le);for(let yt=0;yt<Ye;++yt)if(gt[yt]!==Ot[yt]){qe=gt[yt],Be=Ot[yt];break}return qe<Be?-1:Be<qe?1:0};function T(Q,k,B,le,Ee){if(Q.length===0)return-1;if(typeof B=="string"?(le=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),B=+B,Ve(B)&&(B=Ee?0:Q.length-1),B<0&&(B=Q.length+B),B>=Q.length){if(Ee)return-1;B=Q.length-1}else if(B<0)if(Ee)B=0;else return-1;if(typeof k=="string"&&(k=s.from(k,le)),s.isBuffer(k))return k.length===0?-1:$(Q,k,B,le,Ee);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?Ee?Uint8Array.prototype.indexOf.call(Q,k,B):Uint8Array.prototype.lastIndexOf.call(Q,k,B):$(Q,[k],B,le,Ee);throw new TypeError("val must be string, number or Buffer")}function $(Q,k,B,le,Ee){let Pe=1,qe=Q.length,Be=k.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(Q.length<2||k.length<2)return-1;Pe=2,qe/=2,Be/=2,B/=2}function Ye(Ot,yt){return Pe===1?Ot[yt]:Ot.readUInt16BE(yt*Pe)}let gt;if(Ee){let Ot=-1;for(gt=B;gt<qe;gt++)if(Ye(Q,gt)===Ye(k,Ot===-1?0:gt-Ot)){if(Ot===-1&&(Ot=gt),gt-Ot+1===Be)return Ot*Pe}else Ot!==-1&&(gt-=gt-Ot),Ot=-1}else for(B+Be>qe&&(B=qe-Be),gt=B;gt>=0;gt--){let Ot=!0;for(let yt=0;yt<Be;yt++)if(Ye(Q,gt+yt)!==Ye(k,yt)){Ot=!1;break}if(Ot)return gt}return-1}s.prototype.includes=function(k,B,le){return this.indexOf(k,B,le)!==-1},s.prototype.indexOf=function(k,B,le){return T(this,k,B,le,!0)},s.prototype.lastIndexOf=function(k,B,le){return T(this,k,B,le,!1)};function d(Q,k,B,le){B=Number(B)||0;const Ee=Q.length-B;le?(le=Number(le),le>Ee&&(le=Ee)):le=Ee;const Pe=k.length;le>Pe/2&&(le=Pe/2);let qe;for(qe=0;qe<le;++qe){const Be=parseInt(k.substr(qe*2,2),16);if(Ve(Be))return qe;Q[B+qe]=Be}return qe}function x(Q,k,B,le){return De(ce(k,Q.length-B),Q,B,le)}function O(Q,k,B,le){return De(me(k),Q,B,le)}function P(Q,k,B,le){return De(Te(k),Q,B,le)}function M(Q,k,B,le){return De(ve(k,Q.length-B),Q,B,le)}s.prototype.write=function(k,B,le,Ee){if(B===void 0)Ee="utf8",le=this.length,B=0;else if(le===void 0&&typeof B=="string")Ee=B,le=this.length,B=0;else if(isFinite(B))B=B>>>0,isFinite(le)?(le=le>>>0,Ee===void 0&&(Ee="utf8")):(Ee=le,le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Pe=this.length-B;if((le===void 0||le>Pe)&&(le=Pe),k.length>0&&(le<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");let qe=!1;for(;;)switch(Ee){case"hex":return d(this,k,B,le);case"utf8":case"utf-8":return x(this,k,B,le);case"ascii":case"latin1":case"binary":return O(this,k,B,le);case"base64":return P(this,k,B,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,k,B,le);default:if(qe)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),qe=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(Q,k,B){return k===0&&B===Q.length?e.fromByteArray(Q):e.fromByteArray(Q.slice(k,B))}function K(Q,k,B){B=Math.min(Q.length,B);const le=[];let Ee=k;for(;Ee<B;){const Pe=Q[Ee];let qe=null,Be=Pe>239?4:Pe>223?3:Pe>191?2:1;if(Ee+Be<=B){let Ye,gt,Ot,yt;switch(Be){case 1:Pe<128&&(qe=Pe);break;case 2:Ye=Q[Ee+1],(Ye&192)===128&&(yt=(Pe&31)<<6|Ye&63,yt>127&&(qe=yt));break;case 3:Ye=Q[Ee+1],gt=Q[Ee+2],(Ye&192)===128&&(gt&192)===128&&(yt=(Pe&15)<<12|(Ye&63)<<6|gt&63,yt>2047&&(yt<55296||yt>57343)&&(qe=yt));break;case 4:Ye=Q[Ee+1],gt=Q[Ee+2],Ot=Q[Ee+3],(Ye&192)===128&&(gt&192)===128&&(Ot&192)===128&&(yt=(Pe&15)<<18|(Ye&63)<<12|(gt&63)<<6|Ot&63,yt>65535&&yt<1114112&&(qe=yt))}}qe===null?(qe=65533,Be=1):qe>65535&&(qe-=65536,le.push(qe>>>10&1023|55296),qe=56320|qe&1023),le.push(qe),Ee+=Be}return G(le)}const ie=4096;function G(Q){const k=Q.length;if(k<=ie)return String.fromCharCode.apply(String,Q);let B="",le=0;for(;le<k;)B+=String.fromCharCode.apply(String,Q.slice(le,le+=ie));return B}function ne(Q,k,B){let le="";B=Math.min(Q.length,B);for(let Ee=k;Ee<B;++Ee)le+=String.fromCharCode(Q[Ee]&127);return le}function ge(Q,k,B){let le="";B=Math.min(Q.length,B);for(let Ee=k;Ee<B;++Ee)le+=String.fromCharCode(Q[Ee]);return le}function re(Q,k,B){const le=Q.length;(!k||k<0)&&(k=0),(!B||B<0||B>le)&&(B=le);let Ee="";for(let Pe=k;Pe<B;++Pe)Ee+=ht[Q[Pe]];return Ee}function se(Q,k,B){const le=Q.slice(k,B);let Ee="";for(let Pe=0;Pe<le.length-1;Pe+=2)Ee+=String.fromCharCode(le[Pe]+le[Pe+1]*256);return Ee}s.prototype.slice=function(k,B){const le=this.length;k=~~k,B=B===void 0?le:~~B,k<0?(k+=le,k<0&&(k=0)):k>le&&(k=le),B<0?(B+=le,B<0&&(B=0)):B>le&&(B=le),B<k&&(B=k);const Ee=this.subarray(k,B);return Object.setPrototypeOf(Ee,s.prototype),Ee};function D(Q,k,B){if(Q%1!==0||Q<0)throw new RangeError("offset is not uint");if(Q+k>B)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(k,B,le){k=k>>>0,B=B>>>0,le||D(k,B,this.length);let Ee=this[k],Pe=1,qe=0;for(;++qe<B&&(Pe*=256);)Ee+=this[k+qe]*Pe;return Ee},s.prototype.readUintBE=s.prototype.readUIntBE=function(k,B,le){k=k>>>0,B=B>>>0,le||D(k,B,this.length);let Ee=this[k+--B],Pe=1;for(;B>0&&(Pe*=256);)Ee+=this[k+--B]*Pe;return Ee},s.prototype.readUint8=s.prototype.readUInt8=function(k,B){return k=k>>>0,B||D(k,1,this.length),this[k]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(k,B){return k=k>>>0,B||D(k,2,this.length),this[k]|this[k+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(k,B){return k=k>>>0,B||D(k,2,this.length),this[k]<<8|this[k+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(k,B){return k=k>>>0,B||D(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(k,B){return k=k>>>0,B||D(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},s.prototype.readBigUInt64LE=tt(function(k){k=k>>>0,C(k,"offset");const B=this[k],le=this[k+7];(B===void 0||le===void 0)&&F(k,this.length-8);const Ee=B+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24,Pe=this[++k]+this[++k]*2**8+this[++k]*2**16+le*2**24;return BigInt(Ee)+(BigInt(Pe)<<BigInt(32))}),s.prototype.readBigUInt64BE=tt(function(k){k=k>>>0,C(k,"offset");const B=this[k],le=this[k+7];(B===void 0||le===void 0)&&F(k,this.length-8);const Ee=B*2**24+this[++k]*2**16+this[++k]*2**8+this[++k],Pe=this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+le;return(BigInt(Ee)<<BigInt(32))+BigInt(Pe)}),s.prototype.readIntLE=function(k,B,le){k=k>>>0,B=B>>>0,le||D(k,B,this.length);let Ee=this[k],Pe=1,qe=0;for(;++qe<B&&(Pe*=256);)Ee+=this[k+qe]*Pe;return Pe*=128,Ee>=Pe&&(Ee-=Math.pow(2,8*B)),Ee},s.prototype.readIntBE=function(k,B,le){k=k>>>0,B=B>>>0,le||D(k,B,this.length);let Ee=B,Pe=1,qe=this[k+--Ee];for(;Ee>0&&(Pe*=256);)qe+=this[k+--Ee]*Pe;return Pe*=128,qe>=Pe&&(qe-=Math.pow(2,8*B)),qe},s.prototype.readInt8=function(k,B){return k=k>>>0,B||D(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},s.prototype.readInt16LE=function(k,B){k=k>>>0,B||D(k,2,this.length);const le=this[k]|this[k+1]<<8;return le&32768?le|4294901760:le},s.prototype.readInt16BE=function(k,B){k=k>>>0,B||D(k,2,this.length);const le=this[k+1]|this[k]<<8;return le&32768?le|4294901760:le},s.prototype.readInt32LE=function(k,B){return k=k>>>0,B||D(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},s.prototype.readInt32BE=function(k,B){return k=k>>>0,B||D(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},s.prototype.readBigInt64LE=tt(function(k){k=k>>>0,C(k,"offset");const B=this[k],le=this[k+7];(B===void 0||le===void 0)&&F(k,this.length-8);const Ee=this[k+4]+this[k+5]*2**8+this[k+6]*2**16+(le<<24);return(BigInt(Ee)<<BigInt(32))+BigInt(B+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24)}),s.prototype.readBigInt64BE=tt(function(k){k=k>>>0,C(k,"offset");const B=this[k],le=this[k+7];(B===void 0||le===void 0)&&F(k,this.length-8);const Ee=(B<<24)+this[++k]*2**16+this[++k]*2**8+this[++k];return(BigInt(Ee)<<BigInt(32))+BigInt(this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+le)}),s.prototype.readFloatLE=function(k,B){return k=k>>>0,B||D(k,4,this.length),t.read(this,k,!0,23,4)},s.prototype.readFloatBE=function(k,B){return k=k>>>0,B||D(k,4,this.length),t.read(this,k,!1,23,4)},s.prototype.readDoubleLE=function(k,B){return k=k>>>0,B||D(k,8,this.length),t.read(this,k,!0,52,8)},s.prototype.readDoubleBE=function(k,B){return k=k>>>0,B||D(k,8,this.length),t.read(this,k,!1,52,8)};function z(Q,k,B,le,Ee,Pe){if(!s.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>Ee||k<Pe)throw new RangeError('"value" argument is out of bounds');if(B+le>Q.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(k,B,le,Ee){if(k=+k,B=B>>>0,le=le>>>0,!Ee){const Be=Math.pow(2,8*le)-1;z(this,k,B,le,Be,0)}let Pe=1,qe=0;for(this[B]=k&255;++qe<le&&(Pe*=256);)this[B+qe]=k/Pe&255;return B+le},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(k,B,le,Ee){if(k=+k,B=B>>>0,le=le>>>0,!Ee){const Be=Math.pow(2,8*le)-1;z(this,k,B,le,Be,0)}let Pe=le-1,qe=1;for(this[B+Pe]=k&255;--Pe>=0&&(qe*=256);)this[B+Pe]=k/qe&255;return B+le},s.prototype.writeUint8=s.prototype.writeUInt8=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,1,255,0),this[B]=k&255,B+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,2,65535,0),this[B]=k&255,this[B+1]=k>>>8,B+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,2,65535,0),this[B]=k>>>8,this[B+1]=k&255,B+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,4,4294967295,0),this[B+3]=k>>>24,this[B+2]=k>>>16,this[B+1]=k>>>8,this[B]=k&255,B+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,4,4294967295,0),this[B]=k>>>24,this[B+1]=k>>>16,this[B+2]=k>>>8,this[B+3]=k&255,B+4};function Y(Q,k,B,le,Ee){Le(k,le,Ee,Q,B,7);let Pe=Number(k&BigInt(4294967295));Q[B++]=Pe,Pe=Pe>>8,Q[B++]=Pe,Pe=Pe>>8,Q[B++]=Pe,Pe=Pe>>8,Q[B++]=Pe;let qe=Number(k>>BigInt(32)&BigInt(4294967295));return Q[B++]=qe,qe=qe>>8,Q[B++]=qe,qe=qe>>8,Q[B++]=qe,qe=qe>>8,Q[B++]=qe,B}function N(Q,k,B,le,Ee){Le(k,le,Ee,Q,B,7);let Pe=Number(k&BigInt(4294967295));Q[B+7]=Pe,Pe=Pe>>8,Q[B+6]=Pe,Pe=Pe>>8,Q[B+5]=Pe,Pe=Pe>>8,Q[B+4]=Pe;let qe=Number(k>>BigInt(32)&BigInt(4294967295));return Q[B+3]=qe,qe=qe>>8,Q[B+2]=qe,qe=qe>>8,Q[B+1]=qe,qe=qe>>8,Q[B]=qe,B+8}s.prototype.writeBigUInt64LE=tt(function(k,B=0){return Y(this,k,B,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=tt(function(k,B=0){return N(this,k,B,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(k,B,le,Ee){if(k=+k,B=B>>>0,!Ee){const Ye=Math.pow(2,8*le-1);z(this,k,B,le,Ye-1,-Ye)}let Pe=0,qe=1,Be=0;for(this[B]=k&255;++Pe<le&&(qe*=256);)k<0&&Be===0&&this[B+Pe-1]!==0&&(Be=1),this[B+Pe]=(k/qe>>0)-Be&255;return B+le},s.prototype.writeIntBE=function(k,B,le,Ee){if(k=+k,B=B>>>0,!Ee){const Ye=Math.pow(2,8*le-1);z(this,k,B,le,Ye-1,-Ye)}let Pe=le-1,qe=1,Be=0;for(this[B+Pe]=k&255;--Pe>=0&&(qe*=256);)k<0&&Be===0&&this[B+Pe+1]!==0&&(Be=1),this[B+Pe]=(k/qe>>0)-Be&255;return B+le},s.prototype.writeInt8=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,1,127,-128),k<0&&(k=255+k+1),this[B]=k&255,B+1},s.prototype.writeInt16LE=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,2,32767,-32768),this[B]=k&255,this[B+1]=k>>>8,B+2},s.prototype.writeInt16BE=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,2,32767,-32768),this[B]=k>>>8,this[B+1]=k&255,B+2},s.prototype.writeInt32LE=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,4,2147483647,-2147483648),this[B]=k&255,this[B+1]=k>>>8,this[B+2]=k>>>16,this[B+3]=k>>>24,B+4},s.prototype.writeInt32BE=function(k,B,le){return k=+k,B=B>>>0,le||z(this,k,B,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[B]=k>>>24,this[B+1]=k>>>16,this[B+2]=k>>>8,this[B+3]=k&255,B+4},s.prototype.writeBigInt64LE=tt(function(k,B=0){return Y(this,k,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=tt(function(k,B=0){return N(this,k,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function I(Q,k,B,le,Ee,Pe){if(B+le>Q.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function q(Q,k,B,le,Ee){return k=+k,B=B>>>0,Ee||I(Q,k,B,4),t.write(Q,k,B,le,23,4),B+4}s.prototype.writeFloatLE=function(k,B,le){return q(this,k,B,!0,le)},s.prototype.writeFloatBE=function(k,B,le){return q(this,k,B,!1,le)};function ae(Q,k,B,le,Ee){return k=+k,B=B>>>0,Ee||I(Q,k,B,8),t.write(Q,k,B,le,52,8),B+8}s.prototype.writeDoubleLE=function(k,B,le){return ae(this,k,B,!0,le)},s.prototype.writeDoubleBE=function(k,B,le){return ae(this,k,B,!1,le)},s.prototype.copy=function(k,B,le,Ee){if(!s.isBuffer(k))throw new TypeError("argument should be a Buffer");if(le||(le=0),!Ee&&Ee!==0&&(Ee=this.length),B>=k.length&&(B=k.length),B||(B=0),Ee>0&&Ee<le&&(Ee=le),Ee===le||k.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(le<0||le>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),k.length-B<Ee-le&&(Ee=k.length-B+le);const Pe=Ee-le;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(B,le,Ee):Uint8Array.prototype.set.call(k,this.subarray(le,Ee),B),Pe},s.prototype.fill=function(k,B,le,Ee){if(typeof k=="string"){if(typeof B=="string"?(Ee=B,B=0,le=this.length):typeof le=="string"&&(Ee=le,le=this.length),Ee!==void 0&&typeof Ee!="string")throw new TypeError("encoding must be a string");if(typeof Ee=="string"&&!s.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(k.length===1){const qe=k.charCodeAt(0);(Ee==="utf8"&&qe<128||Ee==="latin1")&&(k=qe)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(B<0||this.length<B||this.length<le)throw new RangeError("Out of range index");if(le<=B)return this;B=B>>>0,le=le===void 0?this.length:le>>>0,k||(k=0);let Pe;if(typeof k=="number")for(Pe=B;Pe<le;++Pe)this[Pe]=k;else{const qe=s.isBuffer(k)?k:s.from(k,Ee),Be=qe.length;if(Be===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(Pe=0;Pe<le-B;++Pe)this[Pe+B]=qe[Pe%Be]}return this};const Z={};function te(Q,k,B){Z[Q]=class extends B{constructor(){super(),Object.defineProperty(this,"message",{value:k.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Q}]`,this.stack,delete this.name}get code(){return Q}set code(Ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ee,writable:!0})}toString(){return`${this.name} [${Q}]: ${this.message}`}}}te("ERR_BUFFER_OUT_OF_BOUNDS",function(Q){return Q?`${Q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),te("ERR_INVALID_ARG_TYPE",function(Q,k){return`The "${Q}" argument must be of type number. Received type ${typeof k}`},TypeError),te("ERR_OUT_OF_RANGE",function(Q,k,B){let le=`The value of "${Q}" is out of range.`,Ee=B;return Number.isInteger(B)&&Math.abs(B)>2**32?Ee=ue(String(B)):typeof B=="bigint"&&(Ee=String(B),(B>BigInt(2)**BigInt(32)||B<-(BigInt(2)**BigInt(32)))&&(Ee=ue(Ee)),Ee+="n"),le+=` It must be ${k}. Received ${Ee}`,le},RangeError);function ue(Q){let k="",B=Q.length;const le=Q[0]==="-"?1:0;for(;B>=le+4;B-=3)k=`_${Q.slice(B-3,B)}${k}`;return`${Q.slice(0,B)}${k}`}function xe(Q,k,B){C(k,"offset"),(Q[k]===void 0||Q[k+B]===void 0)&&F(k,Q.length-(B+1))}function Le(Q,k,B,le,Ee,Pe){if(Q>B||Q<k){const qe=typeof k=="bigint"?"n":"";let Be;throw k===0||k===BigInt(0)?Be=`>= 0${qe} and < 2${qe} ** ${(Pe+1)*8}${qe}`:Be=`>= -(2${qe} ** ${(Pe+1)*8-1}${qe}) and < 2 ** ${(Pe+1)*8-1}${qe}`,new Z.ERR_OUT_OF_RANGE("value",Be,Q)}xe(le,Ee,Pe)}function C(Q,k){if(typeof Q!="number")throw new Z.ERR_INVALID_ARG_TYPE(k,"number",Q)}function F(Q,k,B){throw Math.floor(Q)!==Q?(C(Q,B),new Z.ERR_OUT_OF_RANGE("offset","an integer",Q)):k<0?new Z.ERR_BUFFER_OUT_OF_BOUNDS:new Z.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${k}`,Q)}const L=/[^+/0-9A-Za-z-_]/g;function ee(Q){if(Q=Q.split("=")[0],Q=Q.trim().replace(L,""),Q.length<2)return"";for(;Q.length%4!==0;)Q=Q+"=";return Q}function ce(Q,k){k=k||1/0;let B;const le=Q.length;let Ee=null;const Pe=[];for(let qe=0;qe<le;++qe){if(B=Q.charCodeAt(qe),B>55295&&B<57344){if(!Ee){if(B>56319){(k-=3)>-1&&Pe.push(239,191,189);continue}else if(qe+1===le){(k-=3)>-1&&Pe.push(239,191,189);continue}Ee=B;continue}if(B<56320){(k-=3)>-1&&Pe.push(239,191,189),Ee=B;continue}B=(Ee-55296<<10|B-56320)+65536}else Ee&&(k-=3)>-1&&Pe.push(239,191,189);if(Ee=null,B<128){if((k-=1)<0)break;Pe.push(B)}else if(B<2048){if((k-=2)<0)break;Pe.push(B>>6|192,B&63|128)}else if(B<65536){if((k-=3)<0)break;Pe.push(B>>12|224,B>>6&63|128,B&63|128)}else if(B<1114112){if((k-=4)<0)break;Pe.push(B>>18|240,B>>12&63|128,B>>6&63|128,B&63|128)}else throw new Error("Invalid code point")}return Pe}function me(Q){const k=[];for(let B=0;B<Q.length;++B)k.push(Q.charCodeAt(B)&255);return k}function ve(Q,k){let B,le,Ee;const Pe=[];for(let qe=0;qe<Q.length&&!((k-=2)<0);++qe)B=Q.charCodeAt(qe),le=B>>8,Ee=B%256,Pe.push(Ee),Pe.push(le);return Pe}function Te(Q){return e.toByteArray(ee(Q))}function De(Q,k,B,le){let Ee;for(Ee=0;Ee<le&&!(Ee+B>=k.length||Ee>=Q.length);++Ee)k[Ee+B]=Q[Ee];return Ee}function Ge(Q,k){return Q instanceof k||Q!=null&&Q.constructor!=null&&Q.constructor.name!=null&&Q.constructor.name===k.name}function Ve(Q){return Q!==Q}const ht=function(){const Q="0123456789abcdef",k=new Array(256);for(let B=0;B<16;++B){const le=B*16;for(let Ee=0;Ee<16;++Ee)k[le+Ee]=Q[B]+Q[Ee]}return k}();function tt(Q){return typeof BigInt>"u"?Xe:Q}function Xe(){throw new Error("BigInt not supported")}return Af}function ep(){return AR||(AR=!0,typeof Object.create=="function"?vv=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:vv=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),vv}function QH(){return OR||(OR=!0,n_=ss.EventEmitter),n_}function Khe(){if(PR)return i_;PR=!0;function e(h,m){var g=Object.keys(h);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(h);m&&(_=_.filter(function(v){return Object.getOwnPropertyDescriptor(h,v).enumerable})),g.push.apply(g,_)}return g}function t(h){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?e(Object(g),!0).forEach(function(_){r(h,_,g[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(g)):e(Object(g)).forEach(function(_){Object.defineProperty(h,_,Object.getOwnPropertyDescriptor(g,_))})}return h}function r(h,m,g){return m in h?Object.defineProperty(h,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[m]=g,h}function n(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function i(h,m){for(var g=0;g<m.length;g++){var _=m[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}function o(h,m,g){return m&&i(h.prototype,m),h}var s=Ac,a=s.Buffer,l=Et,u=l.inspect,f=u&&u.custom||"inspect";function c(h,m,g){a.prototype.copy.call(h,m,g)}return i_=function(){function h(){n(this,h),this.head=null,this.tail=null,this.length=0}return o(h,[{key:"push",value:function(g){var _={data:g,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(g){var _={data:g,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var _=this.head,v=""+_.data;_=_.next;)v+=g+_.data;return v}},{key:"concat",value:function(g){if(this.length===0)return a.alloc(0);for(var _=a.allocUnsafe(g>>>0),v=this.head,p=0;v;)c(v.data,_,p),p+=v.data.length,v=v.next;return _}},{key:"consume",value:function(g,_){var v;return g<this.head.data.length?(v=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?v=this.shift():v=_?this._getString(g):this._getBuffer(g),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var _=this.head,v=1,p=_.data;for(g-=p.length;_=_.next;){var E=_.data,y=g>E.length?E.length:g;if(y===E.length?p+=E:p+=E.slice(0,g),g-=y,g===0){y===E.length?(++v,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=E.slice(y));break}++v}return this.length-=v,p}},{key:"_getBuffer",value:function(g){var _=a.allocUnsafe(g),v=this.head,p=1;for(v.data.copy(_),g-=v.data.length;v=v.next;){var E=v.data,y=g>E.length?E.length:g;if(E.copy(_,_.length-g,0,y),g-=y,g===0){y===E.length?(++p,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=E.slice(y));break}++p}return this.length-=p,_}},{key:f,value:function(g,_){return u(this,t({},_,{depth:0,customInspect:!1}))}}]),h}(),i_}function ZH(){if(RR)return o_;RR=!0;var e=On;function t(a,l){var u=this,f=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return f||c?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,a)):e.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!l&&h?u._writableState?u._writableState.errorEmitted?e.nextTick(n,u):(u._writableState.errorEmitted=!0,e.nextTick(r,u,h)):e.nextTick(r,u,h):l?(e.nextTick(n,u),l(h)):e.nextTick(n,u)}),this)}function r(a,l){o(a,l),n(a)}function n(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(a,l){a.emit("error",l)}function s(a,l){var u=a._readableState,f=a._writableState;u&&u.autoDestroy||f&&f.autoDestroy?a.destroy(l):a.emit("error",l)}return o_={destroy:t,undestroy:i,errorOrDestroy:s},o_}function ag(){if(NR)return s_;NR=!0;const e={};function t(s,a,l){l||(l=Error);function u(c,h,m){return typeof a=="string"?a:a(c,h,m)}class f extends l{constructor(h,m,g){super(u(h,m,g))}}f.prototype.name=l.name,f.prototype.code=s,e[s]=f}function r(s,a){if(Array.isArray(s)){const l=s.length;return s=s.map(u=>String(u)),l>2?`one of ${a} ${s.slice(0,l-1).join(", ")}, or `+s[l-1]:l===2?`one of ${a} ${s[0]} or ${s[1]}`:`of ${a} ${s[0]}`}else return`of ${a} ${String(s)}`}function n(s,a,l){return s.substr(0,a.length)===a}function i(s,a,l){return(l===void 0||l>s.length)&&(l=s.length),s.substring(l-a.length,l)===a}function o(s,a,l){return typeof l!="number"&&(l=0),l+a.length>s.length?!1:s.indexOf(a,l)!==-1}return t("ERR_INVALID_OPT_VALUE",function(s,a){return'The value "'+a+'" is invalid for option "'+s+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(s,a,l){let u;typeof a=="string"&&n(a,"not ")?(u="must not be",a=a.replace(/^not /,"")):u="must be";let f;if(i(s," argument"))f=`The ${s} ${u} ${r(a,"type")}`;else{const c=o(s,".")?"property":"argument";f=`The "${s}" ${c} ${u} ${r(a,"type")}`}return f+=`. Received type ${typeof l}`,f},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s_.codes=e,s_}function eW(){if(IR)return a_;IR=!0;var e=ag().codes.ERR_INVALID_OPT_VALUE;function t(n,i,o){return n.highWaterMark!=null?n.highWaterMark:i?n[o]:null}function r(n,i,o,s){var a=t(i,s,o);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var l=s?o:"highWaterMark";throw new e(l,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return a_={getHighWaterMark:r},a_}function Jhe(){if(CR)return l_;CR=!0,l_=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function o(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this||u_,arguments)}return o}function t(r){try{if(!u_.localStorage)return!1}catch{return!1}var n=u_.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return l_}function tW(){if(kR)return c_;kR=!0;var e=On;c_=O;function t(Z){var te=this;this.next=null,this.entry=null,this.finish=function(){ae(te,Z)}}var r;O.WritableState=d;var n={deprecate:Jhe()},i=QH(),o=Ac.Buffer,s=sW.Uint8Array||function(){};function a(Z){return o.from(Z)}function l(Z){return o.isBuffer(Z)||Z instanceof s}var u=ZH(),f=eW(),c=f.getHighWaterMark,h=ag().codes,m=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,_=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,p=h.ERR_STREAM_DESTROYED,E=h.ERR_STREAM_NULL_VALUES,y=h.ERR_STREAM_WRITE_AFTER_END,S=h.ERR_UNKNOWN_ENCODING,T=u.errorOrDestroy;ep()(O,i);function $(){}function d(Z,te,ue){r=r||Gm(),Z=Z||{},typeof ue!="boolean"&&(ue=te instanceof r),this.objectMode=!!Z.objectMode,ue&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=c(this,Z,"writableHighWaterMark",ue),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var xe=Z.decodeStrings===!1;this.decodeStrings=!xe,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Le){ge(te,Le)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}d.prototype.getBuffer=function(){for(var te=this.bufferedRequest,ue=[];te;)ue.push(te),te=te.next;return ue},function(){try{Object.defineProperty(d.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var x;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(te){return x.call(this,te)?!0:this!==O?!1:te&&te._writableState instanceof d}})):x=function(te){return te instanceof this};function O(Z){r=r||Gm();var te=this instanceof r;if(!te&&!x.call(O,this))return new O(Z);this._writableState=new d(Z,this,te),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),i.call(this)}O.prototype.pipe=function(){T(this,new v)};function P(Z,te){var ue=new y;T(Z,ue),e.nextTick(te,ue)}function M(Z,te,ue,xe){var Le;return ue===null?Le=new E:typeof ue!="string"&&!te.objectMode&&(Le=new m("chunk",["string","Buffer"],ue)),Le?(T(Z,Le),e.nextTick(xe,Le),!1):!0}O.prototype.write=function(Z,te,ue){var xe=this._writableState,Le=!1,C=!xe.objectMode&&l(Z);return C&&!o.isBuffer(Z)&&(Z=a(Z)),typeof te=="function"&&(ue=te,te=null),C?te="buffer":te||(te=xe.defaultEncoding),typeof ue!="function"&&(ue=$),xe.ending?P(this,ue):(C||M(this,xe,Z,ue))&&(xe.pendingcb++,Le=K(this,xe,C,Z,te,ue)),Le},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&D(this,Z))},O.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new S(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function U(Z,te,ue){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof te=="string"&&(te=o.from(te,ue)),te}Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function K(Z,te,ue,xe,Le,C){if(!ue){var F=U(te,xe,Le);xe!==F&&(ue=!0,Le="buffer",xe=F)}var L=te.objectMode?1:xe.length;te.length+=L;var ee=te.length<te.highWaterMark;if(ee||(te.needDrain=!0),te.writing||te.corked){var ce=te.lastBufferedRequest;te.lastBufferedRequest={chunk:xe,encoding:Le,isBuf:ue,callback:C,next:null},ce?ce.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else ie(Z,te,!1,L,xe,Le,C);return ee}function ie(Z,te,ue,xe,Le,C,F){te.writelen=xe,te.writecb=F,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new p("write")):ue?Z._writev(Le,te.onwrite):Z._write(Le,C,te.onwrite),te.sync=!1}function G(Z,te,ue,xe,Le){--te.pendingcb,ue?(e.nextTick(Le,xe),e.nextTick(I,Z,te),Z._writableState.errorEmitted=!0,T(Z,xe)):(Le(xe),Z._writableState.errorEmitted=!0,T(Z,xe),I(Z,te))}function ne(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function ge(Z,te){var ue=Z._writableState,xe=ue.sync,Le=ue.writecb;if(typeof Le!="function")throw new _;if(ne(ue),te)G(Z,ue,xe,te,Le);else{var C=z(ue)||Z.destroyed;!C&&!ue.corked&&!ue.bufferProcessing&&ue.bufferedRequest&&D(Z,ue),xe?e.nextTick(re,Z,ue,C,Le):re(Z,ue,C,Le)}}function re(Z,te,ue,xe){ue||se(Z,te),te.pendingcb--,xe(),I(Z,te)}function se(Z,te){te.length===0&&te.needDrain&&(te.needDrain=!1,Z.emit("drain"))}function D(Z,te){te.bufferProcessing=!0;var ue=te.bufferedRequest;if(Z._writev&&ue&&ue.next){var xe=te.bufferedRequestCount,Le=new Array(xe),C=te.corkedRequestsFree;C.entry=ue;for(var F=0,L=!0;ue;)Le[F]=ue,ue.isBuf||(L=!1),ue=ue.next,F+=1;Le.allBuffers=L,ie(Z,te,!0,te.length,Le,"",C.finish),te.pendingcb++,te.lastBufferedRequest=null,C.next?(te.corkedRequestsFree=C.next,C.next=null):te.corkedRequestsFree=new t(te),te.bufferedRequestCount=0}else{for(;ue;){var ee=ue.chunk,ce=ue.encoding,me=ue.callback,ve=te.objectMode?1:ee.length;if(ie(Z,te,!1,ve,ee,ce,me),ue=ue.next,te.bufferedRequestCount--,te.writing)break}ue===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=ue,te.bufferProcessing=!1}O.prototype._write=function(Z,te,ue){ue(new g("_write()"))},O.prototype._writev=null,O.prototype.end=function(Z,te,ue){var xe=this._writableState;return typeof Z=="function"?(ue=Z,Z=null,te=null):typeof te=="function"&&(ue=te,te=null),Z!=null&&this.write(Z,te),xe.corked&&(xe.corked=1,this.uncork()),xe.ending||q(this,xe,ue),this},Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function z(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function Y(Z,te){Z._final(function(ue){te.pendingcb--,ue&&T(Z,ue),te.prefinished=!0,Z.emit("prefinish"),I(Z,te)})}function N(Z,te){!te.prefinished&&!te.finalCalled&&(typeof Z._final=="function"&&!te.destroyed?(te.pendingcb++,te.finalCalled=!0,e.nextTick(Y,Z,te)):(te.prefinished=!0,Z.emit("prefinish")))}function I(Z,te){var ue=z(te);if(ue&&(N(Z,te),te.pendingcb===0&&(te.finished=!0,Z.emit("finish"),te.autoDestroy))){var xe=Z._readableState;(!xe||xe.autoDestroy&&xe.endEmitted)&&Z.destroy()}return ue}function q(Z,te,ue){te.ending=!0,I(Z,te),ue&&(te.finished?e.nextTick(ue):Z.once("finish",ue)),te.ended=!0,Z.writable=!1}function ae(Z,te,ue){var xe=Z.entry;for(Z.entry=null;xe;){var Le=xe.callback;te.pendingcb--,Le(ue),xe=xe.next}te.corkedRequestsFree.next=Z}return Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){this._writableState&&(this._writableState.destroyed=te)}}),O.prototype.destroy=u.destroy,O.prototype._undestroy=u.undestroy,O.prototype._destroy=function(Z,te){te(Z)},c_}function Gm(){if(jR)return f_;jR=!0;var e=On,t=Object.keys||function(f){var c=[];for(var h in f)c.push(h);return c};f_=a;var r=rW(),n=tW();ep()(a,r);for(var i=t(n.prototype),o=0;o<i.length;o++){var s=i[o];a.prototype[s]||(a.prototype[s]=n.prototype[s])}function a(f){if(!(this instanceof a))return new a(f);r.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||e.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),f_}function ok(){if(DR)return d_;DR=!0;var e=ag().codes.ERR_STREAM_PREMATURE_CLOSE;function t(o){var s=!1;return function(){if(!s){s=!0;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];o.apply(this,l)}}}function r(){}function n(o){return o.setHeader&&typeof o.abort=="function"}function i(o,s,a){if(typeof s=="function")return i(o,null,s);s||(s={}),a=t(a||r);var l=s.readable||s.readable!==!1&&o.readable,u=s.writable||s.writable!==!1&&o.writable,f=function(){o.writable||h()},c=o._writableState&&o._writableState.finished,h=function(){u=!1,c=!0,l||a.call(o)},m=o._readableState&&o._readableState.endEmitted,g=function(){l=!1,m=!0,u||a.call(o)},_=function(y){a.call(o,y)},v=function(){var y;if(l&&!m)return(!o._readableState||!o._readableState.ended)&&(y=new e),a.call(o,y);if(u&&!c)return(!o._writableState||!o._writableState.ended)&&(y=new e),a.call(o,y)},p=function(){o.req.on("finish",h)};return n(o)?(o.on("complete",h),o.on("abort",v),o.req?p():o.on("request",p)):u&&!o._writableState&&(o.on("end",f),o.on("close",f)),o.on("end",g),o.on("finish",h),s.error!==!1&&o.on("error",_),o.on("close",v),function(){o.removeListener("complete",h),o.removeListener("abort",v),o.removeListener("request",p),o.req&&o.req.removeListener("finish",h),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",h),o.removeListener("end",g),o.removeListener("error",_),o.removeListener("close",v)}}return d_=i,d_}function Yhe(){if(MR)return h_;MR=!0;var e=On,t;function r(E,y,S){return y in E?Object.defineProperty(E,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[y]=S,E}var n=ok(),i=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),a=Symbol("ended"),l=Symbol("lastPromise"),u=Symbol("handlePromise"),f=Symbol("stream");function c(E,y){return{value:E,done:y}}function h(E){var y=E[i];if(y!==null){var S=E[f].read();S!==null&&(E[l]=null,E[i]=null,E[o]=null,y(c(S,!1)))}}function m(E){e.nextTick(h,E)}function g(E,y){return function(S,T){E.then(function(){if(y[a]){S(c(void 0,!0));return}y[u](S,T)},T)}}var _=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var y=this,S=this[s];if(S!==null)return Promise.reject(S);if(this[a])return Promise.resolve(c(void 0,!0));if(this[f].destroyed)return new Promise(function(x,O){e.nextTick(function(){y[s]?O(y[s]):x(c(void 0,!0))})});var T=this[l],$;if(T)$=new Promise(g(T,this));else{var d=this[f].read();if(d!==null)return Promise.resolve(c(d,!1));$=new Promise(this[u])}return this[l]=$,$}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var y=this;return new Promise(function(S,T){y[f].destroy(null,function($){if($){T($);return}S(c(void 0,!0))})})}),t),_),p=function(y){var S,T=Object.create(v,(S={},r(S,f,{value:y,writable:!0}),r(S,i,{value:null,writable:!0}),r(S,o,{value:null,writable:!0}),r(S,s,{value:null,writable:!0}),r(S,a,{value:y._readableState.endEmitted,writable:!0}),r(S,u,{value:function(d,x){var O=T[f].read();O?(T[l]=null,T[i]=null,T[o]=null,d(c(O,!1))):(T[i]=d,T[o]=x)},writable:!0}),S));return T[l]=null,n(y,function($){if($&&$.code!=="ERR_STREAM_PREMATURE_CLOSE"){var d=T[o];d!==null&&(T[l]=null,T[i]=null,T[o]=null,d($)),T[s]=$;return}var x=T[i];x!==null&&(T[l]=null,T[i]=null,T[o]=null,x(c(void 0,!0))),T[a]=!0}),y.on("readable",m.bind(null,T)),T};return h_=p,h_}function Xhe(){return LR||(LR=!0,p_=function(){throw new Error("Readable.from is not available in the browser")}),p_}function rW(){if(FR)return m_;FR=!0;var e=On;m_=P;var t;P.ReadableState=O,ss.EventEmitter;var r=function(F,L){return F.listeners(L).length},n=QH(),i=Ac.Buffer,o=aW.Uint8Array||function(){};function s(C){return i.from(C)}function a(C){return i.isBuffer(C)||C instanceof o}var l=Et,u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var f=Khe(),c=ZH(),h=eW(),m=h.getHighWaterMark,g=ag().codes,_=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,p=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,S,T;ep()(P,n);var $=c.errorOrDestroy,d=["error","close","destroy","pause","resume"];function x(C,F,L){if(typeof C.prependListener=="function")return C.prependListener(F,L);!C._events||!C._events[F]?C.on(F,L):Array.isArray(C._events[F])?C._events[F].unshift(L):C._events[F]=[L,C._events[F]]}function O(C,F,L){t=t||Gm(),C=C||{},typeof L!="boolean"&&(L=F instanceof t),this.objectMode=!!C.objectMode,L&&(this.objectMode=this.objectMode||!!C.readableObjectMode),this.highWaterMark=m(this,C,"readableHighWaterMark",L),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.destroyed=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(y||(y=LS.StringDecoder),this.decoder=new y(C.encoding),this.encoding=C.encoding)}function P(C){if(t=t||Gm(),!(this instanceof P))return new P(C);var F=this instanceof t;this._readableState=new O(C,this,F),this.readable=!0,C&&(typeof C.read=="function"&&(this._read=C.read),typeof C.destroy=="function"&&(this._destroy=C.destroy)),n.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(F){this._readableState&&(this._readableState.destroyed=F)}}),P.prototype.destroy=c.destroy,P.prototype._undestroy=c.undestroy,P.prototype._destroy=function(C,F){F(C)},P.prototype.push=function(C,F){var L=this._readableState,ee;return L.objectMode?ee=!0:typeof C=="string"&&(F=F||L.defaultEncoding,F!==L.encoding&&(C=i.from(C,F),F=""),ee=!0),M(this,C,F,!1,ee)},P.prototype.unshift=function(C){return M(this,C,null,!0,!1)};function M(C,F,L,ee,ce){u("readableAddChunk",F);var me=C._readableState;if(F===null)me.reading=!1,ge(C,me);else{var ve;if(ce||(ve=K(me,F)),ve)$(C,ve);else if(me.objectMode||F&&F.length>0)if(typeof F!="string"&&!me.objectMode&&Object.getPrototypeOf(F)!==i.prototype&&(F=s(F)),ee)me.endEmitted?$(C,new E):U(C,me,F,!0);else if(me.ended)$(C,new v);else{if(me.destroyed)return!1;me.reading=!1,me.decoder&&!L?(F=me.decoder.write(F),me.objectMode||F.length!==0?U(C,me,F,!1):D(C,me)):U(C,me,F,!1)}else ee||(me.reading=!1,D(C,me))}return!me.ended&&(me.length<me.highWaterMark||me.length===0)}function U(C,F,L,ee){F.flowing&&F.length===0&&!F.sync?(F.awaitDrain=0,C.emit("data",L)):(F.length+=F.objectMode?1:L.length,ee?F.buffer.unshift(L):F.buffer.push(L),F.needReadable&&re(C)),D(C,F)}function K(C,F){var L;return!a(F)&&typeof F!="string"&&F!==void 0&&!C.objectMode&&(L=new _("chunk",["string","Buffer","Uint8Array"],F)),L}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(C){y||(y=LS.StringDecoder);var F=new y(C);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;for(var L=this._readableState.buffer.head,ee="";L!==null;)ee+=F.write(L.data),L=L.next;return this._readableState.buffer.clear(),ee!==""&&this._readableState.buffer.push(ee),this._readableState.length=ee.length,this};var ie=1073741824;function G(C){return C>=ie?C=ie:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function ne(C,F){return C<=0||F.length===0&&F.ended?0:F.objectMode?1:C!==C?F.flowing&&F.length?F.buffer.head.data.length:F.length:(C>F.highWaterMark&&(F.highWaterMark=G(C)),C<=F.length?C:F.ended?F.length:(F.needReadable=!0,0))}P.prototype.read=function(C){u("read",C),C=parseInt(C,10);var F=this._readableState,L=C;if(C!==0&&(F.emittedReadable=!1),C===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return u("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?ue(this):re(this),null;if(C=ne(C,F),C===0&&F.ended)return F.length===0&&ue(this),null;var ee=F.needReadable;u("need readable",ee),(F.length===0||F.length-C<F.highWaterMark)&&(ee=!0,u("length less than watermark",ee)),F.ended||F.reading?(ee=!1,u("reading or ended",ee)):ee&&(u("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(C=ne(L,F)));var ce;return C>0?ce=te(C,F):ce=null,ce===null?(F.needReadable=F.length<=F.highWaterMark,C=0):(F.length-=C,F.awaitDrain=0),F.length===0&&(F.ended||(F.needReadable=!0),L!==C&&F.ended&&ue(this)),ce!==null&&this.emit("data",ce),ce};function ge(C,F){if(u("onEofChunk"),!F.ended){if(F.decoder){var L=F.decoder.end();L&&L.length&&(F.buffer.push(L),F.length+=F.objectMode?1:L.length)}F.ended=!0,F.sync?re(C):(F.needReadable=!1,F.emittedReadable||(F.emittedReadable=!0,se(C)))}}function re(C){var F=C._readableState;u("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(u("emitReadable",F.flowing),F.emittedReadable=!0,e.nextTick(se,C))}function se(C){var F=C._readableState;u("emitReadable_",F.destroyed,F.length,F.ended),!F.destroyed&&(F.length||F.ended)&&(C.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,Z(C)}function D(C,F){F.readingMore||(F.readingMore=!0,e.nextTick(z,C,F))}function z(C,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){var L=F.length;if(u("maybeReadMore read 0"),C.read(0),L===F.length)break}F.readingMore=!1}P.prototype._read=function(C){$(this,new p("_read()"))},P.prototype.pipe=function(C,F){var L=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=C;break;case 1:ee.pipes=[ee.pipes,C];break;default:ee.pipes.push(C);break}ee.pipesCount+=1,u("pipe count=%d opts=%j",ee.pipesCount,F);var ce=(!F||F.end!==!1)&&C!==e.stdout&&C!==e.stderr,me=ce?Te:k;ee.endEmitted?e.nextTick(me):L.once("end",me),C.on("unpipe",ve);function ve(B,le){u("onunpipe"),B===L&&le&&le.hasUnpiped===!1&&(le.hasUnpiped=!0,Ve())}function Te(){u("onend"),C.end()}var De=Y(L);C.on("drain",De);var Ge=!1;function Ve(){u("cleanup"),C.removeListener("close",Xe),C.removeListener("finish",Q),C.removeListener("drain",De),C.removeListener("error",tt),C.removeListener("unpipe",ve),L.removeListener("end",Te),L.removeListener("end",k),L.removeListener("data",ht),Ge=!0,ee.awaitDrain&&(!C._writableState||C._writableState.needDrain)&&De()}L.on("data",ht);function ht(B){u("ondata");var le=C.write(B);u("dest.write",le),le===!1&&((ee.pipesCount===1&&ee.pipes===C||ee.pipesCount>1&&Le(ee.pipes,C)!==-1)&&!Ge&&(u("false write response, pause",ee.awaitDrain),ee.awaitDrain++),L.pause())}function tt(B){u("onerror",B),k(),C.removeListener("error",tt),r(C,"error")===0&&$(C,B)}x(C,"error",tt);function Xe(){C.removeListener("finish",Q),k()}C.once("close",Xe);function Q(){u("onfinish"),C.removeListener("close",Xe),k()}C.once("finish",Q);function k(){u("unpipe"),L.unpipe(C)}return C.emit("pipe",L),ee.flowing||(u("pipe resume"),L.resume()),C};function Y(C){return function(){var L=C._readableState;u("pipeOnDrain",L.awaitDrain),L.awaitDrain&&L.awaitDrain--,L.awaitDrain===0&&r(C,"data")&&(L.flowing=!0,Z(C))}}P.prototype.unpipe=function(C){var F=this._readableState,L={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return C&&C!==F.pipes?this:(C||(C=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,C&&C.emit("unpipe",this,L),this);if(!C){var ee=F.pipes,ce=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var me=0;me<ce;me++)ee[me].emit("unpipe",this,{hasUnpiped:!1});return this}var ve=Le(F.pipes,C);return ve===-1?this:(F.pipes.splice(ve,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),C.emit("unpipe",this,L),this)},P.prototype.on=function(C,F){var L=n.prototype.on.call(this,C,F),ee=this._readableState;return C==="data"?(ee.readableListening=this.listenerCount("readable")>0,ee.flowing!==!1&&this.resume()):C==="readable"&&!ee.endEmitted&&!ee.readableListening&&(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,u("on readable",ee.length,ee.reading),ee.length?re(this):ee.reading||e.nextTick(I,this)),L},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(C,F){var L=n.prototype.removeListener.call(this,C,F);return C==="readable"&&e.nextTick(N,this),L},P.prototype.removeAllListeners=function(C){var F=n.prototype.removeAllListeners.apply(this,arguments);return(C==="readable"||C===void 0)&&e.nextTick(N,this),F};function N(C){var F=C._readableState;F.readableListening=C.listenerCount("readable")>0,F.resumeScheduled&&!F.paused?F.flowing=!0:C.listenerCount("data")>0&&C.resume()}function I(C){u("readable nexttick read 0"),C.read(0)}P.prototype.resume=function(){var C=this._readableState;return C.flowing||(u("resume"),C.flowing=!C.readableListening,q(this,C)),C.paused=!1,this};function q(C,F){F.resumeScheduled||(F.resumeScheduled=!0,e.nextTick(ae,C,F))}function ae(C,F){u("resume",F.reading),F.reading||C.read(0),F.resumeScheduled=!1,C.emit("resume"),Z(C),F.flowing&&!F.reading&&C.read(0)}P.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(C){var F=C._readableState;for(u("flow",F.flowing);F.flowing&&C.read()!==null;);}P.prototype.wrap=function(C){var F=this,L=this._readableState,ee=!1;C.on("end",function(){if(u("wrapped end"),L.decoder&&!L.ended){var ve=L.decoder.end();ve&&ve.length&&F.push(ve)}F.push(null)}),C.on("data",function(ve){if(u("wrapped data"),L.decoder&&(ve=L.decoder.write(ve)),!(L.objectMode&&ve==null)&&!(!L.objectMode&&(!ve||!ve.length))){var Te=F.push(ve);Te||(ee=!0,C.pause())}});for(var ce in C)this[ce]===void 0&&typeof C[ce]=="function"&&(this[ce]=function(Te){return function(){return C[Te].apply(C,arguments)}}(ce));for(var me=0;me<d.length;me++)C.on(d[me],this.emit.bind(this,d[me]));return this._read=function(ve){u("wrapped _read",ve),ee&&(ee=!1,C.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=Yhe()),S(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}}),P._fromList=te,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function te(C,F){if(F.length===0)return null;var L;return F.objectMode?L=F.buffer.shift():!C||C>=F.length?(F.decoder?L=F.buffer.join(""):F.buffer.length===1?L=F.buffer.first():L=F.buffer.concat(F.length),F.buffer.clear()):L=F.buffer.consume(C,F.decoder),L}function ue(C){var F=C._readableState;u("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,e.nextTick(xe,F,C))}function xe(C,F){if(u("endReadableNT",C.endEmitted,C.length),!C.endEmitted&&C.length===0&&(C.endEmitted=!0,F.readable=!1,F.emit("end"),C.autoDestroy)){var L=F._writableState;(!L||L.autoDestroy&&L.finished)&&F.destroy()}}typeof Symbol=="function"&&(P.from=function(C,F){return T===void 0&&(T=Xhe()),T(P,C,F)});function Le(C,F){for(var L=0,ee=C.length;L<ee;L++)if(C[L]===F)return L;return-1}return m_}function nW(){if(BR)return g_;BR=!0,g_=a;var e=ag().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=Gm();ep()(a,o);function s(f,c){var h=this._transformState;h.transforming=!1;var m=h.writecb;if(m===null)return this.emit("error",new r);h.writechunk=null,h.writecb=null,c!=null&&this.push(c),m(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function a(f){if(!(this instanceof a))return new a(f);o.call(this,f),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,h){u(f,c,h)}):u(this,null,null)}a.prototype.push=function(f,c){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,c)},a.prototype._transform=function(f,c,h){h(new t("_transform()"))},a.prototype._write=function(f,c,h){var m=this._transformState;if(m.writecb=h,m.writechunk=f,m.writeencoding=c,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},a.prototype._read=function(f){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},a.prototype._destroy=function(f,c){o.prototype._destroy.call(this,f,function(h){c(h)})};function u(f,c,h){if(c)return f.emit("error",c);if(h!=null&&f.push(h),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return g_}function Qhe(){if(UR)return v_;UR=!0,v_=t;var e=nW();ep()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},v_}function Zhe(){if(zR)return y_;zR=!0;var e;function t(h){var m=!1;return function(){m||(m=!0,h.apply(void 0,arguments))}}var r=ag().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function o(h){if(h)throw h}function s(h){return h.setHeader&&typeof h.abort=="function"}function a(h,m,g,_){_=t(_);var v=!1;h.on("close",function(){v=!0}),e===void 0&&(e=ok()),e(h,{readable:m,writable:g},function(E){if(E)return _(E);v=!0,_()});var p=!1;return function(E){if(!v&&!p){if(p=!0,s(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();_(E||new i("pipe"))}}}function l(h){h()}function u(h,m){return h.pipe(m)}function f(h){return!h.length||typeof h[h.length-1]!="function"?o:h.pop()}function c(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];var _=f(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new n("streams");var v,p=m.map(function(E,y){var S=y<m.length-1,T=y>0;return a(E,S,T,function($){v||(v=$),$&&p.forEach(l),!S&&(p.forEach(l),_(v))})});return m.reduce(u)}return y_=c,y_}var MB,zl,ua,LB,kw,Jd,FB,BB,gu,MS,uh,Yx,iW,oW,Jg,Yg,Dl,UB,LS,FS,SR,Vp,TR,gv,$R,Af,xR,Ac,vv,AR,n_,OR,i_,PR,o_,RR,s_,NR,a_,IR,l_,CR,u_,c_,kR,sW,f_,jR,d_,DR,h_,MR,p_,LR,m_,FR,aW,g_,BR,v_,UR,y_,zR,lW=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-B738Er4n.js"(){for(Ie(),X1(),a0(),Q1(),MB={byteLength:function(e){var t=RB(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=RB(e),i=n[0],o=n[1],s=new LB(function(u,f,c){return 3*(f+c)/4-c}(0,i,o)),a=0,l=o>0?i-4:i;for(r=0;r<l;r+=4)t=ua[e.charCodeAt(r)]<<18|ua[e.charCodeAt(r+1)]<<12|ua[e.charCodeAt(r+2)]<<6|ua[e.charCodeAt(r+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return o===2&&(t=ua[e.charCodeAt(r)]<<2|ua[e.charCodeAt(r+1)]>>4,s[a++]=255&t),o===1&&(t=ua[e.charCodeAt(r)]<<10|ua[e.charCodeAt(r+1)]<<4|ua[e.charCodeAt(r+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},fromByteArray:function(e){for(var t,r=e.length,n=r%3,i=[],o=0,s=r-n;o<s;o+=16383)i.push(xhe(e,o,o+16383>s?s:o+16383));return n===1?(t=e[r-1],i.push(zl[t>>2]+zl[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(zl[t>>10]+zl[t>>4&63]+zl[t<<2&63]+"=")),i.join("")}},zl=[],ua=[],LB=typeof Uint8Array<"u"?Uint8Array:Array,kw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jd=0,FB=kw.length;Jd<FB;++Jd)zl[Jd]=kw[Jd],ua[kw.charCodeAt(Jd)]=Jd;ua[45]=62,ua[95]=63,BB={read:function(e,t,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,u=l>>1,f=-7,c=r?i-1:0,h=r?-1:1,m=e[t+c];for(c+=h,o=m&(1<<-f)-1,m>>=-f,f+=a;f>0;o=256*o+e[t+c],c+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+c],c+=h,f-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:1/0*(m?-1:1);s+=Math.pow(2,n),o-=u}return(m?-1:1)*s*Math.pow(2,o-n)},write:function(e,t,r,n,i,o){var s,a,l,u=8*o-i-1,f=(1<<u)-1,c=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+c>=1?h/l:h*Math.pow(2,1-c))*l>=2&&(s++,l/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(t*l-1)*Math.pow(2,i),s+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[r+m]=255&a,m+=g,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+m]=255&s,m+=g,s/=256,u-=8);e[r+m-g]|=128*_}},gu={},MS=MB,uh=BB,Yx=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,gu.Buffer=Ct,gu.SlowBuffer=function(e){return+e!=e&&(e=0),Ct.alloc(+e)},gu.INSPECT_MAX_BYTES=50,gu.kMaxLength=2147483647,Ct.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}(),Ct.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Ct.prototype,"parent",{enumerable:!0,get:function(){if(Ct.isBuffer(this))return this.buffer}}),Object.defineProperty(Ct.prototype,"offset",{enumerable:!0,get:function(){if(Ct.isBuffer(this))return this.byteOffset}}),Ct.poolSize=8192,Ct.from=function(e,t,r){return HH(e,t,r)},Object.setPrototypeOf(Ct.prototype,Uint8Array.prototype),Object.setPrototypeOf(Ct,Uint8Array),Ct.alloc=function(e,t,r){return function(n,i,o){return WH(n),n<=0?$c(n):i!==void 0?typeof o=="string"?$c(n).fill(i,o):$c(n).fill(i):$c(n)}(e,t,r)},Ct.allocUnsafe=function(e){return _R(e)},Ct.allocUnsafeSlow=function(e){return _R(e)},Ct.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Ct.prototype},Ct.compare=function(e,t){if(xc(e,Uint8Array)&&(e=Ct.from(e,e.offset,e.byteLength)),xc(t,Uint8Array)&&(t=Ct.from(t,t.offset,t.byteLength)),!Ct.isBuffer(e)||!Ct.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},Ct.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ct.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Ct.alloc(0);var r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Ct.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(xc(o,Uint8Array)&&(o=Ct.from(o)),!Ct.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Ct.byteLength=GH,Ct.prototype._isBuffer=!0,Ct.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Gd(this,t,t+1);return this},Ct.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Gd(this,t,t+3),Gd(this,t+1,t+2);return this},Ct.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Gd(this,t,t+7),Gd(this,t+1,t+6),Gd(this,t+2,t+5),Gd(this,t+3,t+4);return this},Ct.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?JH(this,0,e):Ahe.apply(this,arguments)},Ct.prototype.toLocaleString=Ct.prototype.toString,Ct.prototype.equals=function(e){if(!Ct.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||Ct.compare(this,e)===0},Ct.prototype.inspect=function(){var e="",t=gu.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},Yx&&(Ct.prototype[Yx]=Ct.prototype.inspect),Ct.prototype.compare=function(e,t,r,n,i){if(xc(e,Uint8Array)&&(e=Ct.from(e,e.offset,e.byteLength)),!Ct.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),l=this.slice(n,i),u=e.slice(t,r),f=0;f<a;++f)if(l[f]!==u[f]){o=l[f],s=u[f];break}return o<s?-1:s<o?1:0},Ct.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},Ct.prototype.indexOf=function(e,t,r){return IB(this,e,t,r,!0)},Ct.prototype.lastIndexOf=function(e,t,r){return IB(this,e,t,r,!1)},Ct.prototype.write=function(e,t,r,n){if(t===void 0)n="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,n===void 0&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((r===void 0||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Ohe(this,e,t,r);case"utf8":case"utf-8":return Phe(this,e,t,r);case"ascii":return KH(this,e,t,r);case"latin1":case"binary":return Rhe(this,e,t,r);case"base64":return Nhe(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ihe(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Ct.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Ct.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=t===void 0?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,Ct.prototype),n},Ct.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||io(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},Ct.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||io(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},Ct.prototype.readUInt8=function(e,t){return e>>>=0,t||io(e,1,this.length),this[e]},Ct.prototype.readUInt16LE=function(e,t){return e>>>=0,t||io(e,2,this.length),this[e]|this[e+1]<<8},Ct.prototype.readUInt16BE=function(e,t){return e>>>=0,t||io(e,2,this.length),this[e]<<8|this[e+1]},Ct.prototype.readUInt32LE=function(e,t){return e>>>=0,t||io(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Ct.prototype.readUInt32BE=function(e,t){return e>>>=0,t||io(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Ct.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||io(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},Ct.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||io(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},Ct.prototype.readInt8=function(e,t){return e>>>=0,t||io(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Ct.prototype.readInt16LE=function(e,t){e>>>=0,t||io(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Ct.prototype.readInt16BE=function(e,t){e>>>=0,t||io(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Ct.prototype.readInt32LE=function(e,t){return e>>>=0,t||io(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Ct.prototype.readInt32BE=function(e,t){return e>>>=0,t||io(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Ct.prototype.readFloatLE=function(e,t){return e>>>=0,t||io(e,4,this.length),uh.read(this,e,!0,23,4)},Ct.prototype.readFloatBE=function(e,t){return e>>>=0,t||io(e,4,this.length),uh.read(this,e,!1,23,4)},Ct.prototype.readDoubleLE=function(e,t){return e>>>=0,t||io(e,8,this.length),uh.read(this,e,!0,52,8)},Ct.prototype.readDoubleBE=function(e,t){return e>>>=0,t||io(e,8,this.length),uh.read(this,e,!1,52,8)},Ct.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||Ns(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},Ct.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||Ns(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},Ct.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||Ns(this,e,t,1,255,0),this[t]=255&e,t+1},Ct.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||Ns(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Ct.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||Ns(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Ct.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||Ns(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Ct.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||Ns(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Ct.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);Ns(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&a===0&&this[t+o-1]!==0&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},Ct.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);Ns(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&a===0&&this[t+o+1]!==0&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},Ct.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||Ns(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Ct.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||Ns(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Ct.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||Ns(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Ct.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||Ns(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Ct.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||Ns(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Ct.prototype.writeFloatLE=function(e,t,r){return kB(this,e,t,!0,r)},Ct.prototype.writeFloatBE=function(e,t,r){return kB(this,e,t,!1,r)},Ct.prototype.writeDoubleLE=function(e,t,r){return jB(this,e,t,!0,r)},Ct.prototype.writeDoubleBE=function(e,t,r){return jB(this,e,t,!1,r)},Ct.prototype.copy=function(e,t,r,n){if(!Ct.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||n===0||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},Ct.prototype.fill=function(e,t,r,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Ct.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var i=e.charCodeAt(0);(n==="utf8"&&i<128||n==="latin1")&&(e=i)}}else typeof e=="number"?e&=255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=r===void 0?this.length:r>>>0,e||(e=0),typeof e=="number")for(o=t;o<r;++o)this[o]=e;else{var s=Ct.isBuffer(e)?e:Ct.from(e,n),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this},iW=/[^+/0-9A-Za-z-_]/g,oW=function(){for(var e=new Array(256),t=0;t<16;++t)for(var r=16*t,n=0;n<16;++n)e[r+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];return e}(),gu.Buffer,gu.INSPECT_MAX_BYTES,gu.kMaxLength,Jg={},Yg=gu,Dl=Yg.Buffer,Dl.from&&Dl.alloc&&Dl.allocUnsafe&&Dl.allocUnsafeSlow?Jg=Yg:(DB(Yg,Jg),Jg.Buffer=Kd),Kd.prototype=Object.create(Dl.prototype),DB(Dl,Kd),Kd.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Dl(e,t,r)},Kd.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Dl(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n},Kd.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Dl(e)},Kd.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Yg.SlowBuffer(e)},UB=Jg,LS={},FS=UB.Buffer,SR=FS.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},LS.StringDecoder=Kg,Kg.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if((t=this.fillLast(e))===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},Kg.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},Kg.prototype.text=function(e,t){var r=function(i,o,s){var a=o.length-1;if(a<s)return 0;var l=Jx(o[a]);return l>=0?(l>0&&(i.lastNeed=l-1),l):--a<s||l===-2?0:(l=Jx(o[a]))>=0?(l>0&&(i.lastNeed=l-2),l):--a<s||l===-2?0:(l=Jx(o[a]))>=0?(l>0&&(l===2?l=0:i.lastNeed=l-3),l):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},Kg.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},Vp={},TR=!1,gv={},$R=!1,Af={},xR=!1,Ac=Ghe(),Ac.Buffer,Ac.INSPECT_MAX_BYTES,Ac.kMaxLength,vv={},AR=!1,n_={},OR=!1,i_={},PR=!1,o_={},RR=!1,s_={},NR=!1,a_={},IR=!1,l_={},CR=!1,u_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,c_={},kR=!1,sW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,f_={},jR=!1,d_={},DR=!1,h_={},MR=!1,p_={},LR=!1,m_={},FR=!1,aW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,g_={},BR=!1,v_={},UR=!1,y_={},zR=!1}});function uW(){return qR||(qR=!0,rs=rs=rW(),rs.Stream=rs,rs.Readable=rs,rs.Writable=tW(),rs.Duplex=Gm(),rs.Transform=nW(),rs.PassThrough=Qhe(),rs.finished=ok(),rs.pipeline=Zhe()),rs}var rs,qR,epe=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-C4rKjYLo.js"(){Ie(),lW(),rs={},qR=!1}}),u0={};Gu(u0,{Agent:()=>hW,ClientRequest:()=>pW,IncomingMessage:()=>mW,METHODS:()=>gW,STATUS_CODES:()=>vW,default:()=>Eu,get:()=>yW,globalAgent:()=>wW,request:()=>bW});function cW(){if(VR)return Cs;VR=!0,Cs.fetch=n(Of.fetch)&&n(Of.ReadableStream),Cs.writableStream=n(Of.WritableStream),Cs.abortController=n(Of.AbortController);var e;function t(){if(e!==void 0)return e;if(Of.XMLHttpRequest){e=new Of.XMLHttpRequest;try{e.open("GET",Of.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function r(i){var o=t();if(!o)return!1;try{return o.responseType=i,o.responseType===i}catch{}return!1}Cs.arraybuffer=Cs.fetch||r("arraybuffer"),Cs.msstream=!Cs.fetch&&r("ms-stream"),Cs.mozchunkedarraybuffer=!Cs.fetch&&r("moz-chunked-arraybuffer"),Cs.overrideMimeType=Cs.fetch||(t()?n(t().overrideMimeType):!1);function n(i){return typeof i=="function"}return e=null,Cs}function fW(){if(HR)return yv;HR=!0;var e=Ac.Buffer,t=On,r=cW(),n=ep(),i=uW(),o=yv.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},s=yv.IncomingMessage=function(a,l,u,f){var c=this||wv;if(i.Readable.call(c),c._mode=u,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),u==="fetch"){let p=function(){m.read().then(function(E){if(!c._destroyed){if(f(E.done),E.done){c.push(null);return}c.push(e.from(E.value)),p()}}).catch(function(E){f(!0),c._destroyed||c.emit("error",E)})};if(c._fetchResponse=l,c.url=l.url,c.statusCode=l.status,c.statusMessage=l.statusText,l.headers.forEach(function(E,y){c.headers[y.toLowerCase()]=E,c.rawHeaders.push(y,E)}),r.writableStream){var h=new WritableStream({write:function(E){return f(!1),new Promise(function(y,S){c._destroyed?S():c.push(e.from(E))?y():c._resumeFetch=y})},close:function(){f(!0),c._destroyed||c.push(null)},abort:function(E){f(!0),c._destroyed||c.emit("error",E)}});try{l.body.pipeTo(h).catch(function(E){f(!0),c._destroyed||c.emit("error",E)});return}catch{}}var m=l.body.getReader();p()}else{c._xhr=a,c._pos=0,c.url=a.responseURL,c.statusCode=a.status,c.statusMessage=a.statusText;var g=a.getAllResponseHeaders().split(/\r?\n/);if(g.forEach(function(p){var E=p.match(/^([^:]+):\s*(.*)/);if(E){var y=E[1].toLowerCase();y==="set-cookie"?(c.headers[y]===void 0&&(c.headers[y]=[]),c.headers[y].push(E[2])):c.headers[y]!==void 0?c.headers[y]+=", "+E[2]:c.headers[y]=E[2],c.rawHeaders.push(E[1],E[2])}}),c._charset="x-user-defined",!r.overrideMimeType){var _=c.rawHeaders["mime-type"];if(_){var v=_.match(/;\s*charset=([^;])(;|$)/);v&&(c._charset=v[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};return n(s,i.Readable),s.prototype._read=function(){var a=this||wv,l=a._resumeFetch;l&&(a._resumeFetch=null,l())},s.prototype._onXHRProgress=function(a){var l=this||wv,u=l._xhr,f=null;switch(l._mode){case"text":if(f=u.responseText,f.length>l._pos){var c=f.substr(l._pos);if(l._charset==="x-user-defined"){for(var h=e.alloc(c.length),m=0;m<c.length;m++)h[m]=c.charCodeAt(m)&255;l.push(h)}else l.push(c,l._charset);l._pos=f.length}break;case"arraybuffer":if(u.readyState!==o.DONE||!u.response)break;f=u.response,l.push(e.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=u.response,u.readyState!==o.LOADING||!f)break;l.push(e.from(new Uint8Array(f)));break;case"ms-stream":if(f=u.response,u.readyState!==o.LOADING)break;var g=new wv.MSStreamReader;g.onprogress=function(){g.result.byteLength>l._pos&&(l.push(e.from(new Uint8Array(g.result.slice(l._pos)))),l._pos=g.result.byteLength)},g.onload=function(){a(!0),l.push(null)},g.readAsArrayBuffer(f);break}l._xhr.readyState===o.DONE&&l._mode!=="ms-stream"&&(a(!0),l.push(null))},yv}function tpe(){if(WR)return w_;WR=!0;var e=Ac.Buffer,t=On,r=cW(),n=ep(),i=fW(),o=uW(),s=i.IncomingMessage,a=i.readyStates;function l(h,m){return r.fetch&&m?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&h?"arraybuffer":"text"}var u=w_=function(h){var m=this||Ji;o.Writable.call(m),m._opts=h,m._body=[],m._headers={},h.auth&&m.setHeader("Authorization","Basic "+e.from(h.auth).toString("base64")),Object.keys(h.headers).forEach(function(v){m.setHeader(v,h.headers[v])});var g,_=!0;if(h.mode==="disable-fetch"||"requestTimeout"in h&&!r.abortController)_=!1,g=!0;else if(h.mode==="prefer-streaming")g=!1;else if(h.mode==="allow-wrong-content-type")g=!r.overrideMimeType;else if(!h.mode||h.mode==="default"||h.mode==="prefer-fast")g=!0;else throw new Error("Invalid value for opts.mode");m._mode=l(g,_),m._fetchTimer=null,m._socketTimeout=null,m._socketTimer=null,m.on("finish",function(){m._onFinish()})};n(u,o.Writable),u.prototype.setHeader=function(h,m){var g=this||Ji,_=h.toLowerCase();c.indexOf(_)===-1&&(g._headers[_]={name:h,value:m})},u.prototype.getHeader=function(h){var m=(this||Ji)._headers[h.toLowerCase()];return m?m.value:null},u.prototype.removeHeader=function(h){var m=this||Ji;delete m._headers[h.toLowerCase()]},u.prototype._onFinish=function(){var h=this||Ji;if(!h._destroyed){var m=h._opts;"timeout"in m&&m.timeout!==0&&h.setTimeout(m.timeout);var g=h._headers,_=null;m.method!=="GET"&&m.method!=="HEAD"&&(_=new Blob(h._body,{type:(g["content-type"]||{}).value||""}));var v=[];if(Object.keys(g).forEach(function(S){var T=g[S].name,$=g[S].value;Array.isArray($)?$.forEach(function(d){v.push([T,d])}):v.push([T,$])}),h._mode==="fetch"){var p=null;if(r.abortController){var E=new AbortController;p=E.signal,h._fetchAbortController=E,"requestTimeout"in m&&m.requestTimeout!==0&&(h._fetchTimer=Ji.setTimeout(function(){h.emit("requestTimeout"),h._fetchAbortController&&h._fetchAbortController.abort()},m.requestTimeout))}Ji.fetch(h._opts.url,{method:h._opts.method,headers:v,body:_||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:p}).then(function(S){h._fetchResponse=S,h._resetTimers(!1),h._connect()},function(S){h._resetTimers(!0),h._destroyed||h.emit("error",S)})}else{var y=h._xhr=new Ji.XMLHttpRequest;try{y.open(h._opts.method,h._opts.url,!0)}catch(S){t.nextTick(function(){h.emit("error",S)});return}"responseType"in y&&(y.responseType=h._mode),"withCredentials"in y&&(y.withCredentials=!!m.withCredentials),h._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(y.timeout=m.requestTimeout,y.ontimeout=function(){h.emit("requestTimeout")}),v.forEach(function(S){y.setRequestHeader(S[0],S[1])}),h._response=null,y.onreadystatechange=function(){switch(y.readyState){case a.LOADING:case a.DONE:h._onXHRProgress();break}},h._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){h._onXHRProgress()}),y.onerror=function(){h._destroyed||(h._resetTimers(!0),h.emit("error",new Error("XHR error")))};try{y.send(_)}catch(S){t.nextTick(function(){h.emit("error",S)});return}}}};function f(h){try{var m=h.status;return m!==null&&m!==0}catch{return!1}}u.prototype._onXHRProgress=function(){var h=this||Ji;h._resetTimers(!1),!(!f(h._xhr)||h._destroyed)&&(h._response||h._connect(),h._response._onXHRProgress(h._resetTimers.bind(h)))},u.prototype._connect=function(){var h=this||Ji;h._destroyed||(h._response=new s(h._xhr,h._fetchResponse,h._mode,h._resetTimers.bind(h)),h._response.on("error",function(m){h.emit("error",m)}),h.emit("response",h._response))},u.prototype._write=function(h,m,g){var _=this||Ji;_._body.push(h),g()},u.prototype._resetTimers=function(h){var m=this||Ji;Ji.clearTimeout(m._socketTimer),m._socketTimer=null,h?(Ji.clearTimeout(m._fetchTimer),m._fetchTimer=null):m._socketTimeout&&(m._socketTimer=Ji.setTimeout(function(){m.emit("timeout")},m._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(h){var m=this||Ji;m._destroyed=!0,m._resetTimers(!0),m._response&&(m._response._destroyed=!0),m._xhr?m._xhr.abort():m._fetchAbortController&&m._fetchAbortController.abort(),h&&m.emit("error",h)},u.prototype.end=function(h,m,g){var _=this||Ji;typeof h=="function"&&(g=h,h=void 0),o.Writable.prototype.end.call(_,h,m,g)},u.prototype.setTimeout=function(h,m){var g=this||Ji;m&&g.once("timeout",m),g._socketTimeout=h,g._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return w_}function rpe(){if(GR)return b_;GR=!0,b_=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var o in i)e.call(i,o)&&(r[o]=i[o])}return r}return b_}function npe(){return KR||(KR=!0,__={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),__}function ipe(){if(JR)return E_;JR=!0;var e=tpe(),t=fW(),r=rpe(),n=npe(),i=In,o=E_;return o.request=function(s,a){typeof s=="string"?s=i.parse(s):s=r(s);var l=dW.location.protocol.search(/^https?:$/)===-1?"http:":"",u=s.protocol||l,f=s.hostname||s.host,c=s.port,h=s.path||"/";f&&f.indexOf(":")!==-1&&(f="["+f+"]"),s.url=(f?u+"//"+f:"")+(c?":"+c:"")+h,s.method=(s.method||"GET").toUpperCase(),s.headers=s.headers||{};var m=new e(s);return a&&m.on("response",a),m},o.get=function(a,l){var u=o.request(a,l);return u.end(),u},o.ClientRequest=e,o.IncomingMessage=t.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=n,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],E_}function ope(){if(YR)return S_;YR=!0;var e=_u,t=In,r=S_;for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);r.request=function(o,s){return o=i(o),e.request.call(this||XR,o,s)},r.get=function(o,s){return o=i(o),e.get.call(this||XR,o,s)};function i(o){if(typeof o=="string"&&(o=t.parse(o)),o.protocol||(o.protocol="https:"),o.protocol!=="https:")throw new Error('Protocol "'+o.protocol+'" not supported. Expected "https:"');return o}return S_}var Cs,VR,Of,yv,HR,wv,w_,WR,Ji,b_,GR,__,KR,E_,JR,dW,_u,S_,YR,XR,Eu,hW,pW,mW,gW,vW,yW,wW,bW,tT=Vn({"../../node_modules/@jspm/core/nodelibs/browser/https.js"(){Ie(),lW(),epe(),Q1(),xH(),X1(),a0(),Cs={},VR=!1,Of=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,yv={},HR=!1,wv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,w_={},WR=!1,Ji=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,b_={},GR=!1,__={},KR=!1,E_={},JR=!1,dW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,_u=ipe(),_u.Agent,_u.ClientRequest,_u.IncomingMessage,_u.METHODS,_u.STATUS_CODES,_u.get,_u.globalAgent,_u.request,S_={},YR=!1,XR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Eu=ope(),hW=Eu.Agent,pW=Eu.ClientRequest,mW=Eu.IncomingMessage,gW=Eu.METHODS,vW=Eu.STATUS_CODES,yW=Eu.get,wW=Eu.globalAgent,bW=Eu.request}}),sk={};Gu(sk,{default:()=>_W});var _W,EW=Vn({"../../node_modules/esbuild-plugin-polyfill-node/polyfills/empty.js"(){Ie(),_W={}}}),spe=Fe({"../../node_modules/@thingweb/thing-model/node_modules/json-placeholder-replacer/dist/library.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.JsonPlaceholderReplacer=void 0;var t=[{begin:"{{",end:"}}"},{begin:"<<",end:">>"}],r=":",n=[],i=class{constructor(o){this.variablesMap=[],this.configuration=this.initializeOptions(o);const s=l=>l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");this.configuration.delimiterTags=this.configuration.delimiterTags.map(l=>Object.assign(Object.assign({},l),{escapedBeginning:s(l.begin),escapedEnding:s(l.end)}));const a=this.configuration.delimiterTags.map(l=>`^${l.begin}[^${l.end}]+${l.end}$`).join("|");this.delimiterTagsRegex=new RegExp(a)}addVariableMap(o){return typeof o=="string"?this.variablesMap.push(JSON.parse(o)):this.variablesMap.push(o),this}setVariableMap(...o){return this.variablesMap.length=0,o.forEach(s=>this.addVariableMap(s)),this}replace(o){return this.replaceChildren(o,this.variablesMap)}replaceWith(o,...s){return this.replaceChildren(o,s)}initializeOptions(o){var s;let a=t,l=r,u=n;return o!==void 0&&(o.delimiterTags!==void 0&&o.delimiterTags.length>0&&(a=o.delimiterTags),o.defaultValueSeparator!==void 0&&(l=o.defaultValueSeparator),!((s=o.nullishValues)===null||s===void 0)&&s.length&&(u=o.nullishValues.map(f=>JSON.stringify(f)))),{defaultValueSeparator:l,delimiterTags:a,nullishValues:u}}replaceChildren(o,s){for(const a in o){const l=o[a];typeof l=="object"?o[a]=this.replaceChildren(l,s):l!==void 0&&(o[a]=this.replaceValue(l,s))}return o}replaceValue(o,s){const a=o.toString(),l=!this.delimiterTagsRegex.test(o),u=this.configuration.delimiterTags.reduce((f,c)=>{const h=new RegExp(`(${c.escapedBeginning}[^${c.escapedEnding}]+${c.escapedEnding})`,"g");return f.replace(h,this.replacer(l,s)(c))},a);try{return u===a?o:JSON.parse(u)}catch{return u}}replacer(o,s){return a=>l=>{const{tag:u,defaultValue:f}=this.parseTag(l,a),c=this.checkInEveryMap(u,s);if(c===void 0)return f!==void 0?f:l;if(!o)return c;const h=JSON.parse(c);return typeof h=="object"?JSON.stringify(h):h}}parseTag(o,s){const a=o.substring(s.begin.length,o.length-s.begin.length);let l=a,u;const f=a.indexOf(this.configuration.defaultValueSeparator);return f>0&&(l=a.substring(0,f),u=a.substring(f+this.configuration.defaultValueSeparator.length)),{tag:l,defaultValue:u}}checkInEveryMap(o,s){const{nullishValues:a}=this.configuration;let l;return s.forEach(u=>{let f=this.navigateThroughMap(u,o);f!==void 0&&a.includes(f)&&(f=void 0),l=f||l}),l}navigateThroughMap(o,s){if(o===void 0)return;const a=o[s];if(a!==void 0)return JSON.stringify(a);const l=s.split("."),u=l[0];return l.shift(),this.navigateThroughMap(o[u],l.join("."))}};e.JsonPlaceholderReplacer=i}}),ape=Fe({"../../node_modules/wot-thing-model-types/schema/tm-json-schema-validation.json"(e,t){t.exports={title:"Thing Model",version:"1.1-09-November-2023",description:"JSON Schema for validating Thing Models. This is automatically generated from the WoT TD Schema.",$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/tm-json-schema-validation.json",definitions:{anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},security:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the old context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},"dataSchema-type":{type:"string",anyOf:[{enum:["boolean","integer","number","string","object","array","null"]},{$ref:"#/definitions/placeholder-pattern"}]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},readOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/placeholder-pattern"}]},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},maxLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{anyOf:[{type:"array",items:{type:"string"}},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{anyOf:[{type:["integer","number"],exclusiveMinimum:0},{$ref:"#/definitions/placeholder-pattern"}]},expectedResponse:{type:"object",properties:{contentType:{type:"string"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["invokeaction","queryaction","cancelaction"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["invokeaction","queryaction","cancelaction"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["subscribeevent","unsubscribeevent"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["subscribeevent","unsubscribeevent"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},observable:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},writeOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},readOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/placeholder-pattern"}]},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},maxLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{anyOf:[{type:"array",items:{type:"string"}},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},idempotent:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},synchronous:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]},instanceName:{type:"string"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon",properties:{rel:{anyOf:[{enum:["icon"]},{$ref:"#/definitions/placeholder-pattern"}]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["nosec"]},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["auto"]},{$ref:"#/definitions/placeholder-pattern"}]}},not:{required:["name"]},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["combo"]},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",minItems:2,items:{type:"string"}},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["combo"]},{$ref:"#/definitions/placeholder-pattern"}]},allOf:{type:"array",minItems:2,items:{type:"string"}},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["basic"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["digest"]},{$ref:"#/definitions/placeholder-pattern"}]},qop:{type:"string",anyOf:[{enum:["auth","auth-int"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["apikey"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","uri","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["bearer"]},{$ref:"#/definitions/placeholder-pattern"}]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["psk"]},{$ref:"#/definitions/placeholder-pattern"}]},identity:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["oauth2"]},{$ref:"#/definitions/placeholder-pattern"}]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",anyOf:[{enum:["code","client"]},{$ref:"#/definitions/placeholder-pattern"}]}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},securityScheme:{anyOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]},tm_type_declaration:{oneOf:[{type:"string",const:"tm:ThingModel"},{type:"array",items:{type:"string"},contains:{const:"tm:ThingModel"}}]},"placeholder-pattern":{type:"string",pattern:"^.*[{]{2}[ -~]+[}]{2}.*$"},tm_optional:{type:"array",items:{$comment:"this first checks for the general structure of /properties/myProp and then prohibits using / 3 times",allOf:[{type:"string",pattern:"^((/properties/)|(/actions/)|(/events/))(([^/]))",$comment:"regex tests available at https://regex101.com/r/UgOzrJ/1"},{not:{type:"string",pattern:"(/)(.*/){2}",$comment:"regex tests available at https://regex101.com/r/r7vB0r/2"}}]}},tm_ref:{type:"string",format:"uri-reference"}},type:"object",properties:{id:{type:"string"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{anyOf:[{type:"object",properties:{model:{type:"string"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}},not:{type:"object",properties:{instance:{type:"string"}},required:["instance"]}},{$ref:"#/definitions/placeholder-pattern"}]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},support:{$ref:"#/definitions/anyUri"},created:{type:"string"},modified:{type:"string"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},"@type":{$ref:"#/definitions/tm_type_declaration"},"@context":{$ref:"#/definitions/thing-context"},"tm:optional":{$ref:"#/definitions/tm_optional"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}},required:["@context","@type"]}}}),lpe=Fe({"../../node_modules/@thingweb/thing-model/dist/src/tm-helpers.js"(e){Ie();var t=e&&e.__createBinding||(Object.create?function(S,T,$,d){d===void 0&&(d=$);var x=Object.getOwnPropertyDescriptor(T,$);(!x||("get"in x?!T.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return T[$]}}),Object.defineProperty(S,d,x)}:function(S,T,$,d){d===void 0&&(d=$),S[d]=T[$]}),r=e&&e.__setModuleDefault||(Object.create?function(S,T){Object.defineProperty(S,"default",{enumerable:!0,value:T})}:function(S,T){S.default=T}),n=e&&e.__importStar||function(S){if(S&&S.__esModule)return S;var T={};if(S!=null)for(var $ in S)$!=="default"&&Object.prototype.hasOwnProperty.call(S,$)&&t(T,S,$);return r(T,S),T},i=e&&e.__awaiter||function(S,T,$,d){function x(O){return O instanceof $?O:new $(function(P){P(O)})}return new($||($=Promise))(function(O,P){function M(ie){try{K(d.next(ie))}catch(G){P(G)}}function U(ie){try{K(d.throw(ie))}catch(G){P(G)}}function K(ie){ie.done?O(ie.value):x(ie.value).then(M,U)}K((d=d.apply(S,T||[])).next())})},o=e&&e.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0}),e.ThingModelHelpers=void 0;var s=o(N9()),a=o(Dde()),l=n((rk(),hn(Z1))),u=n((tT(),hn(u0))),f=n((EW(),hn(sk))),c=spe(),h=o(ape()),m=o(o9()),g="node-wot:td-tools:thing-model-helpers",_=(0,m.default)(`${g}:debug`),v=(0,m.default)(`${g}:error`),p=h.default,E=new s.default({strict:!1});(0,a.default)(E);var y=class Va{constructor(T){this.deps=[],this.resolver=void 0,T&&(this.resolver=T)}static isThingModel(T){if(T==null||typeof T!="object"||Array.isArray(T))return!1;const $=T;if(Array.isArray($["@type"])){if($["@type"].filter(x=>x==="tm:ThingModel").length>0)return!0}else if($["@type"]==="tm:ThingModel")return!0;return!!(Object.keys(this.getThingModelRef($)).length>0||"links"in $&&Array.isArray($.links)&&$.links.find(x=>x.rel==="tm:extends")!=null||$.properties!==void 0&&this.isThingModel($.properties)||$.actions!==void 0&&this.isThingModel($.actions)||$.events!==void 0&&this.isThingModel($.events))}static getModelVersion(T){var $;return typeof(T==null?void 0:T.version)=="object"&&typeof(($=T==null?void 0:T.version)===null||$===void 0?void 0:$.model)=="string"?T.version.model:void 0}static validateThingModel(T){var $;const d=Va.tsSchemaValidator(T);let x;return d||(x=($=Va.tsSchemaValidator.errors)===null||$===void 0?void 0:$.map(O=>O.message).join(`
`)),{valid:d,errors:x}}getPartialTDs(T,$){return i(this,void 0,void 0,function*(){return(yield this._getPartialTDs(T,$)).map(O=>{const P=O;return P["@type"]instanceof Array?P["@type"]=P["@type"].map(M=>M==="tm:ThingModel"?"Thing":M):P["@type"]="Thing",P})})}fetchModel(T){return i(this,void 0,void 0,function*(){this.addDependency(T);let $;if(this.resolver?$=yield this.resolver.fetch(T):$=yield this.localFetch(T),!Va.isThingModel($))throw new Error(`Data at ${T} is not a Thing Model`);return $})}localFetch(T){switch(T.split("://")[0]){case"file":{const d=T.split("://")[1];return new Promise((x,O)=>{f.readFile(d,{encoding:"utf-8"},function(P,M){P?O(P):x(JSON.parse(M))})})}case"http":return new Promise((d,x)=>{l.get(T,O=>{(O.statusCode==null||O.statusCode!==200)&&x(new Error(`http status code not 200 but ${O.statusCode} for ${T}`)),O.setEncoding("utf8");let P="";O.on("data",M=>{P+=M}),O.on("end",()=>{try{const M=JSON.parse(P);_(`https fetched: ${M}`),d(M)}catch(M){v(M)}})}).on("error",O=>{x(O)})});case"https":return new Promise((d,x)=>{u.get(T,O=>{(O.statusCode==null||O.statusCode!==200)&&x(new Error(`https status code not 200 but ${O.statusCode} for ${T}`)),O.setEncoding("utf8");let P="";O.on("data",M=>{P+=M}),O.on("end",()=>{try{const M=JSON.parse(P);_(`https fetched: ${M}`),d(M)}catch(M){v(M)}})}).on("error",O=>{x(O)})})}return null}_getPartialTDs(T,$){return i(this,void 0,void 0,function*(){if(!Va.isThingModel(T))throw new Error(`${T} is not a Thing Model`);let d=Va.validateThingModel(T);if(d.valid===!1||d.errors!==void 0)throw new Error(d.errors);if(d=this.checkPlaceholderMap(T,$==null?void 0:$.map),d.valid===!1||d.errors!==void 0)throw new Error(d.errors);const x=yield this.fetchAffordances(T);return yield this.composeModel(T,x,$)})}fetchAffordances(T){var $;return i(this,void 0,void 0,function*(){const d={},x=Va.getThingModelLinks(T,"tm:extends");if(x.length>0){d.extends=[];for(const M of x){let U=yield this.fetchModel(M.href);[U]=yield this._getPartialTDs(U),d.extends.push(U)}}const O=["properties","actions","events"];d.imports=[];for(const M of O){const U=Va.getThingModelRef(T[M]);if(Object.keys(U).length>0)for(const K in U){const ie=U[K],G=this.parseTmRef(ie);if(G.uri==null)throw new Error(`Missing remote path in ${ie}`);let ne=yield this.fetchModel(G.uri);[ne]=yield this._getPartialTDs(ne),delete T[M][K]["tm:ref"];const ge=($=this.getRefAffordance(G,ne))!==null&&$!==void 0?$:{};G.name=K,d.imports.push(Object.assign({affordance:ge},G))}}const P=Va.getThingModelLinks(T,"tm:submodel");if(P.length>0){d.submodel={};for(const M of P){const U=yield this.fetchModel(M.href);d.submodel[M.href]=U}}return d})}composeModel(T,$,d){var x,O,P,M,U;return i(this,void 0,void 0,function*(){let K=[];const ie=((x=T.title)!==null&&x!==void 0?x:"").replace(/ /g,"");d||(d={}),d.baseUrl==null&&(d.baseUrl=".");const G=this.returnNewTMHref(d.baseUrl,ie),ne=this.returnNewTDHref(d.baseUrl,ie);if("extends"in $){const ge=(O=$.extends)!==null&&O!==void 0?O:[];for(const re of ge)T=Va.extendThingModel(re,T);T.links=(P=T.links)===null||P===void 0?void 0:P.filter(re=>re.rel!=="tm:extends")}if("imports"in $){const ge=(M=$.imports)!==null&&M!==void 0?M:[];for(const re of ge)T=Va.importAffordance(re.type,re.name,re.affordance,T)}if("submodel"in $){const ge=$.submodel;for(const re in ge){const se=ge[re];if(d.selfComposition===!0){if(!T.links)throw new Error("You used self composition but links are missing; they are needed to extract the instance name");const D=T.links.findIndex(q=>q.href===re),Y=T.links[D].instanceName;if(Y==null)throw new Error("Self composition is not possible without instance names");const[N]=yield this._getPartialTDs(se,d),I=["properties","actions","events"];for(const q of I)for(const ae in N[q]){const Z=`${Y}_${ae}`;q in T||(T[q]={}),T[q][Z]=N[q][ae]}}else{const D=((U=se.title)!==null&&U!==void 0?U:"").replace(/ /g,""),z=this.returnNewTDHref(d.baseUrl,D);se.links||(se.links=[]),se.links.push({rel:"collection",href:ne,type:"application/td+json"});const Y=yield this._getPartialTDs(se,d);K.push(...Y),T=Va.formatSubmodelLink(T,re,z)}}}return(!T.links||d.selfComposition===!0)&&(T.links=[]),T.links.push({rel:"type",href:G,type:"application/tm+json"}),"version"in T&&delete T.version,d.map&&(T=this.fillPlaceholder(T,d.map)),K.unshift(T),K=K.map(ge=>this.fillPlaceholder(ge,d==null?void 0:d.map)),this.deps.length>0&&this.removeDependency(),K})}static getThingModelRef(T){const $={};if(T==null)return $;for(const d in T)for(const x in T[d])x==="tm:ref"&&($[d]=T[d]["tm:ref"]);return $}static getThingModelLinks(T,$){let d=[];return"links"in T&&Array.isArray(T.links)&&(d=T.links),d.filter(x=>x.rel===$)}static extendThingModel(T,$){let d={};const x=T.properties,O=T.actions,P=T.events;if(d=Object.assign(Object.assign({},T),$),x){d.properties||(d.properties={});for(const M in x)$.properties&&$.properties[M]!=null?d.properties[M]=Object.assign(Object.assign({},x[M]),$.properties[M]):d.properties[M]=x[M]}if(O){d.actions||(d.actions={});for(const M in O)$.actions&&M in $.actions?d.actions[M]=Object.assign(Object.assign({},O[M]),$.actions[M]):d.actions[M]=O[M]}if(P){d.events||(d.events={});for(const M in P)$.events&&M in $.events?d.events[M]=Object.assign(Object.assign({},P[M]),$.events[M]):d.events[M]=P[M]}return d}static importAffordance(T,$,d,x){x[T]||(x[T]={});const O=x[T][$];x[T][$]=Object.assign(Object.assign({},d),O);for(const P in x[T][$])x[T][$][P]===void 0&&delete x[T][$][P];return x}static formatSubmodelLink(T,$,d){if(!T.links)throw new Error("Links are missing");const x=T.links.findIndex(P=>P.href===$);if(x===-1)throw new Error("Link not found");const O=T.links[x];return"instanceName"in O&&delete O.instanceName,T.links[x]=Object.assign(Object.assign({},O),{href:d,type:"application/td+json",rel:"item"}),T}parseTmRef(T){const $=T.split("#")[0],d=T.split("#")[1],x=d.split("/")[1],O=d.split("/")[2];return{uri:$,type:x,name:O}}getRefAffordance(T,$){const d=T.type,x=T.name;if(!(d in $))return;const O=$[d];if(x in O)return O[x]}fillPlaceholder(T,$={}){const d=new c.JsonPlaceholderReplacer;return d.addVariableMap($),d.replace(T)}checkPlaceholderMap(T,$={}){var d;const x="{{.*?}}";let P=(d=JSON.stringify(T).match(new RegExp(x,"g")))!==null&&d!==void 0?d:[];P=P.map(K=>K.replace("{{","").replace("}}",""));let M=!0,U;return(P==null?void 0:P.length)>0&&$==null?(M=!1,U=`No map provided for model ${T.title}`):P.length>0&&P.every(K=>K in $?!0:(U=`Missing required fields in map for model ${T.title}`,M=!1,!1)),{valid:M,errors:U}}returnNewTMHref(T,$){return`${T}/${$}.tm.jsonld`}returnNewTDHref(T,$){return`${T}/${$}.td.jsonld`}addDependency(T){if(this.deps.indexOf(T)>-1)throw new Error(`Circular dependency found for ${T}`);this.deps.push(T)}removeDependency(T){T!=null?this.deps=this.deps.filter($=>$!==T):this.deps.pop()}};e.ThingModelHelpers=y,y.tsSchemaValidator=E.compile(p)}}),upe=Fe({"../../node_modules/@thingweb/thing-model/dist/src/resolver-interface.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0})}}),cpe=Fe({"../../node_modules/@thingweb/thing-model/dist/src/thing-model.js"(e){Ie();var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(lpe(),e),r(upe(),e)}}),SW={};Gu(SW,{EventEmitter:()=>TW,default:()=>Ru,defaultMaxListeners:()=>$W,init:()=>xW,listenerCount:()=>AW,on:()=>OW,once:()=>PW});function fpe(){if(QR)return bv;QR=!0;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(T,$,d){return Function.prototype.apply.call(T,$,d)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:r=function(T){return Object.getOwnPropertyNames(T)};function n(S){console&&console.warn&&console.warn(S)}var i=Number.isNaN||function(T){return T!==T};function o(){o.init.call(this)}bv=o,bv.once=p,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");s=S}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function l(S){return S._maxListeners===void 0?o.defaultMaxListeners:S._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(T){for(var $=[],d=1;d<arguments.length;d++)$.push(arguments[d]);var x=T==="error",O=this._events;if(O!==void 0)x=x&&O.error===void 0;else if(!x)return!1;if(x){var P;if($.length>0&&(P=$[0]),P instanceof Error)throw P;var M=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw M.context=P,M}var U=O[T];if(U===void 0)return!1;if(typeof U=="function")t(U,this,$);else for(var K=U.length,ie=g(U,K),d=0;d<K;++d)t(ie[d],this,$);return!0};function u(S,T,$,d){var x,O,P;if(a($),O=S._events,O===void 0?(O=S._events=Object.create(null),S._eventsCount=0):(O.newListener!==void 0&&(S.emit("newListener",T,$.listener?$.listener:$),O=S._events),P=O[T]),P===void 0)P=O[T]=$,++S._eventsCount;else if(typeof P=="function"?P=O[T]=d?[$,P]:[P,$]:d?P.unshift($):P.push($),x=l(S),x>0&&P.length>x&&!P.warned){P.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=S,M.type=T,M.count=P.length,n(M)}return S}o.prototype.addListener=function(T,$){return u(this,T,$,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(T,$){return u(this,T,$,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(S,T,$){var d={fired:!1,wrapFn:void 0,target:S,type:T,listener:$},x=f.bind(d);return x.listener=$,d.wrapFn=x,x}o.prototype.once=function(T,$){return a($),this.on(T,c(this,T,$)),this},o.prototype.prependOnceListener=function(T,$){return a($),this.prependListener(T,c(this,T,$)),this},o.prototype.removeListener=function(T,$){var d,x,O,P,M;if(a($),x=this._events,x===void 0)return this;if(d=x[T],d===void 0)return this;if(d===$||d.listener===$)--this._eventsCount===0?this._events=Object.create(null):(delete x[T],x.removeListener&&this.emit("removeListener",T,d.listener||$));else if(typeof d!="function"){for(O=-1,P=d.length-1;P>=0;P--)if(d[P]===$||d[P].listener===$){M=d[P].listener,O=P;break}if(O<0)return this;O===0?d.shift():_(d,O),d.length===1&&(x[T]=d[0]),x.removeListener!==void 0&&this.emit("removeListener",T,M||$)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(T){var $,d,x;if(d=this._events,d===void 0)return this;if(d.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):d[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete d[T]),this;if(arguments.length===0){var O=Object.keys(d),P;for(x=0;x<O.length;++x)P=O[x],P!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if($=d[T],typeof $=="function")this.removeListener(T,$);else if($!==void 0)for(x=$.length-1;x>=0;x--)this.removeListener(T,$[x]);return this};function h(S,T,$){var d=S._events;if(d===void 0)return[];var x=d[T];return x===void 0?[]:typeof x=="function"?$?[x.listener||x]:[x]:$?v(x):g(x,x.length)}o.prototype.listeners=function(T){return h(this,T,!0)},o.prototype.rawListeners=function(T){return h(this,T,!1)},o.listenerCount=function(S,T){return typeof S.listenerCount=="function"?S.listenerCount(T):m.call(S,T)},o.prototype.listenerCount=m;function m(S){var T=this._events;if(T!==void 0){var $=T[S];if(typeof $=="function")return 1;if($!==void 0)return $.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function g(S,T){for(var $=new Array(T),d=0;d<T;++d)$[d]=S[d];return $}function _(S,T){for(;T+1<S.length;T++)S[T]=S[T+1];S.pop()}function v(S){for(var T=new Array(S.length),$=0;$<T.length;++$)T[$]=S[$].listener||S[$];return T}function p(S,T){return new Promise(function($,d){function x(P){S.removeListener(T,O),d(P)}function O(){typeof S.removeListener=="function"&&S.removeListener("error",x),$([].slice.call(arguments))}y(S,T,O,{once:!0}),T!=="error"&&E(S,x,{once:!0})})}function E(S,T,$){typeof S.on=="function"&&y(S,"error",T,$)}function y(S,T,$,d){if(typeof S.on=="function")d.once?S.once(T,$):S.on(T,$);else if(typeof S.addEventListener=="function")S.addEventListener(T,function x(O){d.once&&S.removeEventListener(T,x),$(O)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return bv}var bv,QR,Ru,TW,$W,xW,AW,OW,PW,RW=Vn({"../../node_modules/@jspm/core/nodelibs/browser/events.js"(){Ie(),bv={},QR=!1,Ru=fpe(),Ru.once,Ru.once=function(e,t){return new Promise((r,n)=>{function i(...s){o!==void 0&&e.removeListener("error",o),r(s)}let o;t!=="error"&&(o=s=>{e.removeListener(name,i),n(s)},e.once("error",o)),e.once(t,i)})},Ru.on=function(e,t){const r=[],n=[];let i=null,o=!1;const s={async next(){const u=r.shift();if(u)return createIterResult(u,!1);if(i){const f=Promise.reject(i);return i=null,f}return o?createIterResult(void 0,!0):new Promise((f,c)=>n.push({resolve:f,reject:c}))},async return(){e.removeListener(t,a),e.removeListener("error",l),o=!0;for(const u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,e.removeListener(t,a),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,a),e.on("error",l),s;function a(...u){const f=n.shift();f?f.resolve(createIterResult(u,!1)):r.push(u)}function l(u){o=!0;const f=n.shift();f?f.reject(u):i=u,s.return()}},{EventEmitter:TW,defaultMaxListeners:$W,init:xW,listenerCount:AW,on:OW,once:PW}=Ru}});function NW(){return ZR||(ZR=!0,T_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),T_}function dpe(){return eN||(eN=!0,$_=Error),$_}function hpe(){return tN||(tN=!0,x_=EvalError),x_}function ppe(){return rN||(rN=!0,A_=RangeError),A_}function mpe(){return nN||(nN=!0,O_=ReferenceError),O_}function IW(){return iN||(iN=!0,P_=SyntaxError),P_}function c0(){return oN||(oN=!0,R_=TypeError),R_}function gpe(){return sN||(sN=!0,N_=URIError),N_}function vpe(){if(aN)return I_;aN=!0;var e=typeof Symbol<"u"&&Symbol,t=NW();return I_=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},I_}function ype(){if(lN)return C_;lN=!0;var e={__proto__:null,foo:{}},t=Object;return C_=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof t)},C_}function wpe(){if(uN)return k_;uN=!0;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var f=[],c=0;c<l.length;c+=1)f[c]=l[c];for(var h=0;h<u.length;h+=1)f[h+l.length]=u[h];return f},o=function(l,u){for(var f=[],c=u,h=0;c<l.length;c+=1,h+=1)f[h]=l[c];return f},s=function(a,l){for(var u="",f=0;f<a.length;f+=1)u+=a[f],f+1<a.length&&(u+=l);return u};return k_=function(l){var u=this;if(typeof u!="function"||t.apply(u)!==n)throw new TypeError(e+u);for(var f=o(arguments,1),c,h=function(){if(this instanceof c){var p=u.apply(this,i(f,arguments));return Object(p)===p?p:this}return u.apply(l,i(f,arguments))},m=r(0,u.length-f.length),g=[],_=0;_<m;_++)g[_]="$"+_;if(c=Function("binder","return function ("+s(g,",")+"){ return binder.apply(this,arguments); }")(h),u.prototype){var v=function(){};v.prototype=u.prototype,c.prototype=new v,v.prototype=null}return c},k_}function ak(){if(cN)return j_;cN=!0;var e=wpe();return j_=Function.prototype.bind||e,j_}function bpe(){if(fN)return D_;fN=!0;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=ak();return D_=r.call(e,t),D_}function lg(){if(dN)return M_;dN=!0;var e,t=dpe(),r=hpe(),n=ppe(),i=mpe(),o=IW(),s=c0(),a=gpe(),l=Function,u=function(ge){try{return l('"use strict"; return ('+ge+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var c=function(){throw new s},h=f?function(){try{return arguments.callee,c}catch{try{return f(arguments,"callee").get}catch{return c}}}():c,m=vpe()(),g=ype()(),_=Object.getPrototypeOf||(g?function(ge){return ge.__proto__}:null),v={},p=typeof Uint8Array>"u"||!_?e:_(Uint8Array),E={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":m&&_?_([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":v,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&_?_(_([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!m||!_?e:_(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!m||!_?e:_(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&_?_(""[Symbol.iterator]()):e,"%Symbol%":m?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":h,"%TypedArray%":p,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};if(_)try{null.error}catch(ge){var y=_(_(ge));E["%Error.prototype%"]=y}var S=function ge(re){var se;if(re==="%AsyncFunction%")se=u("async function () {}");else if(re==="%GeneratorFunction%")se=u("function* () {}");else if(re==="%AsyncGeneratorFunction%")se=u("async function* () {}");else if(re==="%AsyncGenerator%"){var D=ge("%AsyncGeneratorFunction%");D&&(se=D.prototype)}else if(re==="%AsyncIteratorPrototype%"){var z=ge("%AsyncGenerator%");z&&_&&(se=_(z.prototype))}return E[re]=se,se},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},$=ak(),d=bpe(),x=$.call(Function.call,Array.prototype.concat),O=$.call(Function.apply,Array.prototype.splice),P=$.call(Function.call,String.prototype.replace),M=$.call(Function.call,String.prototype.slice),U=$.call(Function.call,RegExp.prototype.exec),K=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ie=/\\(\\)?/g,G=function(re){var se=M(re,0,1),D=M(re,-1);if(se==="%"&&D!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(D==="%"&&se!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var z=[];return P(re,K,function(Y,N,I,q){z[z.length]=I?P(q,ie,"$1"):N||Y}),z},ne=function(re,se){var D=re,z;if(d(T,D)&&(z=T[D],D="%"+z[0]+"%"),d(E,D)){var Y=E[D];if(Y===v&&(Y=S(D)),typeof Y>"u"&&!se)throw new s("intrinsic "+re+" exists, but is not available. Please file an issue!");return{alias:z,name:D,value:Y}}throw new o("intrinsic "+re+" does not exist!")};return M_=function(re,se){if(typeof re!="string"||re.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof se!="boolean")throw new s('"allowMissing" argument must be a boolean');if(U(/^%?[^%]*%?$/,re)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var D=G(re),z=D.length>0?D[0]:"",Y=ne("%"+z+"%",se),N=Y.name,I=Y.value,q=!1,ae=Y.alias;ae&&(z=ae[0],O(D,x([0,1],ae)));for(var Z=1,te=!0;Z<D.length;Z+=1){var ue=D[Z],xe=M(ue,0,1),Le=M(ue,-1);if((xe==='"'||xe==="'"||xe==="`"||Le==='"'||Le==="'"||Le==="`")&&xe!==Le)throw new o("property names with quotes must have matching quotes");if((ue==="constructor"||!te)&&(q=!0),z+="."+ue,N="%"+z+"%",d(E,N))I=E[N];else if(I!=null){if(!(ue in I)){if(!se)throw new s("base intrinsic for "+re+" exists, but the property is not available.");return}if(f&&Z+1>=D.length){var C=f(I,ue);te=!!C,te&&"get"in C&&!("originalValue"in C.get)?I=C.get:I=I[ue]}else te=d(I,ue),I=I[ue];te&&!q&&(E[N]=I)}}return I},M_}function lk(){if(hN)return L_;hN=!0;var e=lg(),t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return L_=t,L_}function uk(){if(pN)return F_;pN=!0;var e=lg(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return F_=t,F_}function _pe(){if(mN)return B_;mN=!0;var e=lk(),t=IW(),r=c0(),n=uk();return B_=function(o,s,a){if(!o||typeof o!="object"&&typeof o!="function")throw new r("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,h=!!n&&n(o,s);if(e)e(o,s,{configurable:f===null&&h?h.configurable:!f,enumerable:l===null&&h?h.enumerable:!l,value:a,writable:u===null&&h?h.writable:!u});else if(c||!l&&!u&&!f)o[s]=a;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},B_}function Epe(){if(gN)return U_;gN=!0;var e=lk(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},U_=t,U_}function Spe(){if(vN)return z_;vN=!0;var e=lg(),t=_pe(),r=Epe()(),n=uk(),i=c0(),o=e("%Math.floor%");return z_=function(a,l){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||o(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],f=!0,c=!0;if("length"in a&&n){var h=n(a,"length");h&&!h.configurable&&(f=!1),h&&!h.writable&&(c=!1)}return(f||c||!u)&&(r?t(a,"length",l,!0,!0):t(a,"length",l)),a},z_}function CW(){if(yN)return Hp;yN=!0;var e=ak(),t=lg(),r=Spe(),n=c0(),i=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),s=t("%Reflect.apply%",!0)||e.call(o,i),a=lk(),l=t("%Math.max%");Hp=function(c){if(typeof c!="function")throw new n("a function is required");var h=s(e,o,arguments);return r(h,1+l(0,c.length-(arguments.length-1)),!0)};var u=function(){return s(e,i,arguments)};return a?a(Hp,"apply",{value:u}):Hp.apply=u,Hp}function ck(){if(wN)return q_;wN=!0;var e=lg(),t=CW(),r=t(e("String.prototype.indexOf"));return q_=function(i,o){var s=e(i,!!o);return typeof s=="function"&&r(i,".prototype.")>-1?t(s):s},q_}var T_,ZR,$_,eN,x_,tN,A_,rN,O_,nN,P_,iN,R_,oN,N_,sN,I_,aN,C_,lN,k_,uN,j_,cN,D_,fN,M_,dN,L_,hN,F_,pN,B_,mN,U_,gN,z_,vN,Hp,yN,q_,wN,fk=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtcTpLWz.js"(){Ie(),T_={},ZR=!1,$_={},eN=!1,x_={},tN=!1,A_={},rN=!1,O_={},nN=!1,P_={},iN=!1,R_={},oN=!1,N_={},sN=!1,I_={},aN=!1,C_={},lN=!1,k_={},uN=!1,j_={},cN=!1,D_={},fN=!1,M_={},dN=!1,L_={},hN=!1,F_={},pN=!1,B_={},mN=!1,U_={},gN=!1,z_={},vN=!1,Hp={},yN=!1,q_={},wN=!1}}),rT={};Gu(rT,{TextDecoder:()=>lG,TextEncoder:()=>aG,_extend:()=>MW,callbackify:()=>LW,debuglog:()=>FW,default:()=>cr,deprecate:()=>BW,format:()=>UW,inherits:()=>zW,inspect:()=>qW,isArray:()=>VW,isBoolean:()=>HW,isBuffer:()=>WW,isDate:()=>GW,isError:()=>KW,isFunction:()=>JW,isNull:()=>YW,isNullOrUndefined:()=>XW,isNumber:()=>QW,isObject:()=>ZW,isPrimitive:()=>eG,isRegExp:()=>tG,isString:()=>rG,isSymbol:()=>nG,isUndefined:()=>iG,log:()=>oG,promisify:()=>BS,types:()=>sG});function dk(){if(bN)return V_;bN=!0;var e=NW();return V_=function(){return e()&&!!Symbol.toStringTag},V_}function Tpe(){if(_N)return H_;_N=!0;var e=dk()(),t=ck(),r=t("Object.prototype.toString"),n=function(a){return e&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},o=function(){return n(arguments)}();return n.isLegacyArguments=i,H_=o?n:i,H_}function $pe(){if(EN)return W_;EN=!0;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=dk()(),i=Object.getPrototypeOf,o=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},s;return W_=function(l){if(typeof l!="function")return!1;if(r.test(t.call(l)))return!0;if(!n){var u=e.call(l);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof s>"u"){var f=o();s=f?i(f):!1}return i(l)===s},W_}function xpe(){if(SN)return G_;SN=!0;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(E){E!==n&&(t=null)}else t=null;var i=/^\s*class\b/,o=function(y){try{var S=e.call(y);return i.test(S)}catch{return!1}},s=function(y){try{return o(y)?!1:(e.call(y),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",u="[object Function]",f="[object GeneratorFunction]",c="[object HTMLAllCollection]",h="[object HTML document.all class]",m="[object HTMLCollection]",g=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),v=function(){return!1};if(typeof document=="object"){var p=document.all;a.call(p)===a.call(document.all)&&(v=function(y){if((_||!y)&&(typeof y>"u"||typeof y=="object"))try{var S=a.call(y);return(S===c||S===h||S===m||S===l)&&y("")==null}catch{}return!1})}return G_=t?function(y){if(v(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;try{t(y,null,r)}catch(S){if(S!==n)return!1}return!o(y)&&s(y)}:function(y){if(v(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;if(g)return s(y);if(o(y))return!1;var S=a.call(y);return S!==u&&S!==f&&!/^\[object HTML/.test(S)?!1:s(y)},G_}function Ape(){if(TN)return K_;TN=!0;var e=xpe(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,u,f){for(var c=0,h=l.length;c<h;c++)r.call(l,c)&&(f==null?u(l[c],c,l):u.call(f,l[c],c,l))},i=function(l,u,f){for(var c=0,h=l.length;c<h;c++)f==null?u(l.charAt(c),c,l):u.call(f,l.charAt(c),c,l)},o=function(l,u,f){for(var c in l)r.call(l,c)&&(f==null?u(l[c],c,l):u.call(f,l[c],c,l))},s=function(l,u,f){if(!e(u))throw new TypeError("iterator must be a function");var c;arguments.length>=3&&(c=f),t.call(l)==="[object Array]"?n(l,u,c):typeof l=="string"?i(l,u,c):o(l,u,c)};return K_=s,K_}function Ope(){return $N||($N=!0,J_=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),J_}function Ppe(){if(xN)return Y_;xN=!0;var e=Ope(),t=typeof globalThis>"u"?jW:globalThis;return Y_=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},Y_}function kW(){if(AN)return X_;AN=!0;var e=Ape(),t=Ppe(),r=CW(),n=ck(),i=uk(),o=n("Object.prototype.toString"),s=dk()(),a=typeof globalThis>"u"?DW:globalThis,l=t(),u=n("String.prototype.slice"),f=Object.getPrototypeOf,c=n("Array.prototype.indexOf",!0)||function(v,p){for(var E=0;E<v.length;E+=1)if(v[E]===p)return E;return-1},h={__proto__:null};s&&i&&f?e(l,function(_){var v=new a[_];if(Symbol.toStringTag in v){var p=f(v),E=i(p,Symbol.toStringTag);if(!E){var y=f(p);E=i(y,Symbol.toStringTag)}h["$"+_]=r(E.get)}}):e(l,function(_){var v=new a[_],p=v.slice||v.set;p&&(h["$"+_]=r(p))});var m=function(v){var p=!1;return e(h,function(E,y){if(!p)try{"$"+E(v)===y&&(p=u(y,1))}catch{}}),p},g=function(v){var p=!1;return e(h,function(E,y){if(!p)try{E(v),p=u(y,1)}catch{}}),p};return X_=function(v){if(!v||typeof v!="object")return!1;if(!s){var p=u(o(v),8,-1);return c(l,p)>-1?p:p!=="Object"?!1:g(v)}return i?m(v):null},X_}function Rpe(){if(ON)return Q_;ON=!0;var e=kW();return Q_=function(r){return!!e(r)},Q_}function Npe(){if(PN)return zr;PN=!0;var e=Tpe(),t=$pe(),r=kW(),n=Rpe();function i(ve){return ve.call.bind(ve)}var o=typeof BigInt<"u",s=typeof Symbol<"u",a=i(Object.prototype.toString),l=i(Number.prototype.valueOf),u=i(String.prototype.valueOf),f=i(Boolean.prototype.valueOf);if(o)var c=i(BigInt.prototype.valueOf);if(s)var h=i(Symbol.prototype.valueOf);function m(ve,Te){if(typeof ve!="object")return!1;try{return Te(ve),!0}catch{return!1}}zr.isArgumentsObject=e,zr.isGeneratorFunction=t,zr.isTypedArray=n;function g(ve){return typeof Promise<"u"&&ve instanceof Promise||ve!==null&&typeof ve=="object"&&typeof ve.then=="function"&&typeof ve.catch=="function"}zr.isPromise=g;function _(ve){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ve):n(ve)||Y(ve)}zr.isArrayBufferView=_;function v(ve){return r(ve)==="Uint8Array"}zr.isUint8Array=v;function p(ve){return r(ve)==="Uint8ClampedArray"}zr.isUint8ClampedArray=p;function E(ve){return r(ve)==="Uint16Array"}zr.isUint16Array=E;function y(ve){return r(ve)==="Uint32Array"}zr.isUint32Array=y;function S(ve){return r(ve)==="Int8Array"}zr.isInt8Array=S;function T(ve){return r(ve)==="Int16Array"}zr.isInt16Array=T;function $(ve){return r(ve)==="Int32Array"}zr.isInt32Array=$;function d(ve){return r(ve)==="Float32Array"}zr.isFloat32Array=d;function x(ve){return r(ve)==="Float64Array"}zr.isFloat64Array=x;function O(ve){return r(ve)==="BigInt64Array"}zr.isBigInt64Array=O;function P(ve){return r(ve)==="BigUint64Array"}zr.isBigUint64Array=P;function M(ve){return a(ve)==="[object Map]"}M.working=typeof Map<"u"&&M(new Map);function U(ve){return typeof Map>"u"?!1:M.working?M(ve):ve instanceof Map}zr.isMap=U;function K(ve){return a(ve)==="[object Set]"}K.working=typeof Set<"u"&&K(new Set);function ie(ve){return typeof Set>"u"?!1:K.working?K(ve):ve instanceof Set}zr.isSet=ie;function G(ve){return a(ve)==="[object WeakMap]"}G.working=typeof WeakMap<"u"&&G(new WeakMap);function ne(ve){return typeof WeakMap>"u"?!1:G.working?G(ve):ve instanceof WeakMap}zr.isWeakMap=ne;function ge(ve){return a(ve)==="[object WeakSet]"}ge.working=typeof WeakSet<"u"&&ge(new WeakSet);function re(ve){return ge(ve)}zr.isWeakSet=re;function se(ve){return a(ve)==="[object ArrayBuffer]"}se.working=typeof ArrayBuffer<"u"&&se(new ArrayBuffer);function D(ve){return typeof ArrayBuffer>"u"?!1:se.working?se(ve):ve instanceof ArrayBuffer}zr.isArrayBuffer=D;function z(ve){return a(ve)==="[object DataView]"}z.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&z(new DataView(new ArrayBuffer(1),0,1));function Y(ve){return typeof DataView>"u"?!1:z.working?z(ve):ve instanceof DataView}zr.isDataView=Y;var N=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function I(ve){return a(ve)==="[object SharedArrayBuffer]"}function q(ve){return typeof N>"u"?!1:(typeof I.working>"u"&&(I.working=I(new N)),I.working?I(ve):ve instanceof N)}zr.isSharedArrayBuffer=q;function ae(ve){return a(ve)==="[object AsyncFunction]"}zr.isAsyncFunction=ae;function Z(ve){return a(ve)==="[object Map Iterator]"}zr.isMapIterator=Z;function te(ve){return a(ve)==="[object Set Iterator]"}zr.isSetIterator=te;function ue(ve){return a(ve)==="[object Generator]"}zr.isGeneratorObject=ue;function xe(ve){return a(ve)==="[object WebAssembly.Module]"}zr.isWebAssemblyCompiledModule=xe;function Le(ve){return m(ve,l)}zr.isNumberObject=Le;function C(ve){return m(ve,u)}zr.isStringObject=C;function F(ve){return m(ve,f)}zr.isBooleanObject=F;function L(ve){return o&&m(ve,c)}zr.isBigIntObject=L;function ee(ve){return s&&m(ve,h)}zr.isSymbolObject=ee;function ce(ve){return Le(ve)||C(ve)||F(ve)||L(ve)||ee(ve)}zr.isBoxedPrimitive=ce;function me(ve){return typeof Uint8Array<"u"&&(D(ve)||q(ve))}return zr.isAnyArrayBuffer=me,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ve){Object.defineProperty(zr,ve,{enumerable:!1,value:function(){throw new Error(ve+" is not supported in userland")}})}),zr}function Ipe(){return RN||(RN=!0,Z_=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),Z_}function Cpe(){if(NN)return qr;NN=!0;var e=co,t=Object.getOwnPropertyDescriptors||function(N){for(var I=Object.keys(N),q={},ae=0;ae<I.length;ae++)q[I[ae]]=Object.getOwnPropertyDescriptor(N,I[ae]);return q},r=/%[sdj%]/g;qr.format=function(Y){if(!T(Y)){for(var N=[],I=0;I<arguments.length;I++)N.push(s(arguments[I]));return N.join(" ")}for(var I=1,q=arguments,ae=q.length,Z=String(Y).replace(r,function(ue){if(ue==="%%")return"%";if(I>=ae)return ue;switch(ue){case"%s":return String(q[I++]);case"%d":return Number(q[I++]);case"%j":try{return JSON.stringify(q[I++])}catch{return"[Circular]"}default:return ue}}),te=q[I];I<ae;te=q[++I])E(te)||!O(te)?Z+=" "+te:Z+=" "+s(te);return Z},qr.deprecate=function(Y,N){if(typeof e<"u"&&e.noDeprecation===!0)return Y;if(typeof e>"u")return function(){return qr.deprecate(Y,N).apply(this||Wp,arguments)};var I=!1;function q(){if(!I){if(e.throwDeprecation)throw new Error(N);e.traceDeprecation?console.trace(N):console.error(N),I=!0}return Y.apply(this||Wp,arguments)}return q};var n={},i=/^$/;if(e.env.NODE_DEBUG){var o=e.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}qr.debuglog=function(Y){if(Y=Y.toUpperCase(),!n[Y])if(i.test(Y)){var N=e.pid;n[Y]=function(){var I=qr.format.apply(qr,arguments);console.error("%s %d: %s",Y,N,I)}}else n[Y]=function(){};return n[Y]};function s(Y,N){var I={seen:[],stylize:l};return arguments.length>=3&&(I.depth=arguments[2]),arguments.length>=4&&(I.colors=arguments[3]),p(N)?I.showHidden=N:N&&qr._extend(I,N),d(I.showHidden)&&(I.showHidden=!1),d(I.depth)&&(I.depth=2),d(I.colors)&&(I.colors=!1),d(I.customInspect)&&(I.customInspect=!0),I.colors&&(I.stylize=a),f(I,Y,I.depth)}qr.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(Y,N){var I=s.styles[N];return I?"\x1B["+s.colors[I][0]+"m"+Y+"\x1B["+s.colors[I][1]+"m":Y}function l(Y,N){return Y}function u(Y){var N={};return Y.forEach(function(I,q){N[I]=!0}),N}function f(Y,N,I){if(Y.customInspect&&N&&U(N.inspect)&&N.inspect!==qr.inspect&&!(N.constructor&&N.constructor.prototype===N)){var q=N.inspect(I,Y);return T(q)||(q=f(Y,q,I)),q}var ae=c(Y,N);if(ae)return ae;var Z=Object.keys(N),te=u(Z);if(Y.showHidden&&(Z=Object.getOwnPropertyNames(N)),M(N)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return h(N);if(Z.length===0){if(U(N)){var ue=N.name?": "+N.name:"";return Y.stylize("[Function"+ue+"]","special")}if(x(N))return Y.stylize(RegExp.prototype.toString.call(N),"regexp");if(P(N))return Y.stylize(Date.prototype.toString.call(N),"date");if(M(N))return h(N)}var xe="",Le=!1,C=["{","}"];if(v(N)&&(Le=!0,C=["[","]"]),U(N)){var F=N.name?": "+N.name:"";xe=" [Function"+F+"]"}if(x(N)&&(xe=" "+RegExp.prototype.toString.call(N)),P(N)&&(xe=" "+Date.prototype.toUTCString.call(N)),M(N)&&(xe=" "+h(N)),Z.length===0&&(!Le||N.length==0))return C[0]+xe+C[1];if(I<0)return x(N)?Y.stylize(RegExp.prototype.toString.call(N),"regexp"):Y.stylize("[Object]","special");Y.seen.push(N);var L;return Le?L=m(Y,N,I,te,Z):L=Z.map(function(ee){return g(Y,N,I,te,ee,Le)}),Y.seen.pop(),_(L,xe,C)}function c(Y,N){if(d(N))return Y.stylize("undefined","undefined");if(T(N)){var I="'"+JSON.stringify(N).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Y.stylize(I,"string")}if(S(N))return Y.stylize(""+N,"number");if(p(N))return Y.stylize(""+N,"boolean");if(E(N))return Y.stylize("null","null")}function h(Y){return"["+Error.prototype.toString.call(Y)+"]"}function m(Y,N,I,q,ae){for(var Z=[],te=0,ue=N.length;te<ue;++te)re(N,String(te))?Z.push(g(Y,N,I,q,String(te),!0)):Z.push("");return ae.forEach(function(xe){xe.match(/^\d+$/)||Z.push(g(Y,N,I,q,xe,!0))}),Z}function g(Y,N,I,q,ae,Z){var te,ue,xe;if(xe=Object.getOwnPropertyDescriptor(N,ae)||{value:N[ae]},xe.get?xe.set?ue=Y.stylize("[Getter/Setter]","special"):ue=Y.stylize("[Getter]","special"):xe.set&&(ue=Y.stylize("[Setter]","special")),re(q,ae)||(te="["+ae+"]"),ue||(Y.seen.indexOf(xe.value)<0?(E(I)?ue=f(Y,xe.value,null):ue=f(Y,xe.value,I-1),ue.indexOf(`
`)>-1&&(Z?ue=ue.split(`
`).map(function(Le){return"  "+Le}).join(`
`).slice(2):ue=`
`+ue.split(`
`).map(function(Le){return"   "+Le}).join(`
`))):ue=Y.stylize("[Circular]","special")),d(te)){if(Z&&ae.match(/^\d+$/))return ue;te=JSON.stringify(""+ae),te.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(te=te.slice(1,-1),te=Y.stylize(te,"name")):(te=te.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),te=Y.stylize(te,"string"))}return te+": "+ue}function _(Y,N,I){var q=Y.reduce(function(ae,Z){return Z.indexOf(`
`)>=0,ae+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return q>60?I[0]+(N===""?"":N+`
 `)+" "+Y.join(`,
  `)+" "+I[1]:I[0]+N+" "+Y.join(", ")+" "+I[1]}qr.types=Npe();function v(Y){return Array.isArray(Y)}qr.isArray=v;function p(Y){return typeof Y=="boolean"}qr.isBoolean=p;function E(Y){return Y===null}qr.isNull=E;function y(Y){return Y==null}qr.isNullOrUndefined=y;function S(Y){return typeof Y=="number"}qr.isNumber=S;function T(Y){return typeof Y=="string"}qr.isString=T;function $(Y){return typeof Y=="symbol"}qr.isSymbol=$;function d(Y){return Y===void 0}qr.isUndefined=d;function x(Y){return O(Y)&&ie(Y)==="[object RegExp]"}qr.isRegExp=x,qr.types.isRegExp=x;function O(Y){return typeof Y=="object"&&Y!==null}qr.isObject=O;function P(Y){return O(Y)&&ie(Y)==="[object Date]"}qr.isDate=P,qr.types.isDate=P;function M(Y){return O(Y)&&(ie(Y)==="[object Error]"||Y instanceof Error)}qr.isError=M,qr.types.isNativeError=M;function U(Y){return typeof Y=="function"}qr.isFunction=U;function K(Y){return Y===null||typeof Y=="boolean"||typeof Y=="number"||typeof Y=="string"||typeof Y=="symbol"||typeof Y>"u"}qr.isPrimitive=K,qr.isBuffer=Ipe();function ie(Y){return Object.prototype.toString.call(Y)}function G(Y){return Y<10?"0"+Y.toString(10):Y.toString(10)}var ne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ge(){var Y=new Date,N=[G(Y.getHours()),G(Y.getMinutes()),G(Y.getSeconds())].join(":");return[Y.getDate(),ne[Y.getMonth()],N].join(" ")}qr.log=function(){console.log("%s - %s",ge(),qr.format.apply(qr,arguments))},qr.inherits=vd(),qr._extend=function(Y,N){if(!N||!O(N))return Y;for(var I=Object.keys(N),q=I.length;q--;)Y[I[q]]=N[I[q]];return Y};function re(Y,N){return Object.prototype.hasOwnProperty.call(Y,N)}var se=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;qr.promisify=function(N){if(typeof N!="function")throw new TypeError('The "original" argument must be of type Function');if(se&&N[se]){if(I=N[se],typeof I!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(I,se,{value:I,enumerable:!1,writable:!1,configurable:!0}),I}function I(){for(var q,ae,Z=new Promise(function(xe,Le){q=xe,ae=Le}),te=[],ue=0;ue<arguments.length;ue++)te.push(arguments[ue]);te.push(function(xe,Le){xe?ae(xe):q(Le)});try{N.apply(this||Wp,te)}catch(xe){ae(xe)}return Z}return Object.setPrototypeOf(I,Object.getPrototypeOf(N)),se&&Object.defineProperty(I,se,{value:I,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(I,t(N))},qr.promisify.custom=se;function D(Y,N){if(!Y){var I=new Error("Promise was rejected with a falsy value");I.reason=Y,Y=I}return N(Y)}function z(Y){if(typeof Y!="function")throw new TypeError('The "original" argument must be of type Function');function N(){for(var I=[],q=0;q<arguments.length;q++)I.push(arguments[q]);var ae=I.pop();if(typeof ae!="function")throw new TypeError("The last argument must be of type Function");var Z=this||Wp,te=function(){return ae.apply(Z,arguments)};Y.apply(this||Wp,I).then(function(ue){e.nextTick(te.bind(null,null,ue))},function(ue){e.nextTick(D.bind(null,ue,te))})}return Object.setPrototypeOf(N,Object.getPrototypeOf(Y)),Object.defineProperties(N,t(Y)),N}return qr.callbackify=z,qr}var V_,bN,H_,_N,W_,EN,G_,SN,K_,TN,J_,$N,Y_,xN,jW,X_,AN,DW,Q_,ON,zr,PN,Z_,RN,qr,NN,Wp,cr,MW,LW,FW,BW,UW,zW,qW,VW,HW,WW,GW,KW,JW,YW,XW,QW,ZW,eG,tG,rG,nG,iG,oG,BS,sG,aG,lG,nT=Vn({"../../node_modules/@jspm/core/nodelibs/browser/util.js"(){Ie(),fk(),X2(),l0(),V_={},bN=!1,H_={},_N=!1,W_={},EN=!1,G_={},SN=!1,K_={},TN=!1,J_={},$N=!1,Y_={},xN=!1,jW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,X_={},AN=!1,DW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Q_={},ON=!1,zr={},PN=!1,Z_={},RN=!1,qr={},NN=!1,Wp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,cr=Cpe(),cr.format,cr.deprecate,cr.debuglog,cr.inspect,cr.types,cr.isArray,cr.isBoolean,cr.isNull,cr.isNullOrUndefined,cr.isNumber,cr.isString,cr.isSymbol,cr.isUndefined,cr.isRegExp,cr.isObject,cr.isDate,cr.isError,cr.isFunction,cr.isPrimitive,cr.isBuffer,cr.log,cr.inherits,cr._extend,cr.promisify,cr.callbackify,MW=cr._extend,LW=cr.callbackify,FW=cr.debuglog,BW=cr.deprecate,UW=cr.format,zW=cr.inherits,qW=cr.inspect,VW=cr.isArray,HW=cr.isBoolean,WW=cr.isBuffer,GW=cr.isDate,KW=cr.isError,JW=cr.isFunction,YW=cr.isNull,XW=cr.isNullOrUndefined,QW=cr.isNumber,ZW=cr.isObject,eG=cr.isPrimitive,tG=cr.isRegExp,rG=cr.isString,nG=cr.isSymbol,iG=cr.isUndefined,oG=cr.log,BS=cr.promisify,sG=cr.types,aG=cr.TextEncoder=globalThis.TextEncoder,lG=cr.TextDecoder=globalThis.TextDecoder}}),Aa={};Gu(Aa,{Duplex:()=>gG,PassThrough:()=>yG,Readable:()=>wE,Stream:()=>_G,Transform:()=>vG,Writable:()=>mG,default:()=>zn,finished:()=>wG,pipeline:()=>bG,promises:()=>EG});function Ti(){return IN||(IN=!0,eE={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array}),eE}function $y(){if(CN)return Gp;CN=!0;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Gp=e,Gp.AbortSignal=t,Gp.default=e,Gp}function gs(){if(kN)return _v;kN=!0;const e=Js(),{kResistStopPropagation:t,SymbolDispose:r}=Ti(),n=globalThis.AbortSignal||$y().AbortSignal,i=globalThis.AbortController||$y().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,s=globalThis.Blob||e.Blob,a=typeof s<"u"?function(h){return h instanceof s}:function(h){return!1},l=(c,h)=>{if(c!==void 0&&(c===null||typeof c!="object"||!("aborted"in c)))throw new ERR_INVALID_ARG_TYPE(h,"AbortSignal",c)},u=(c,h)=>{if(typeof c!="function")throw new ERR_INVALID_ARG_TYPE(h,"Function",c)};class f extends Error{constructor(h){if(!Array.isArray(h))throw new TypeError(`Expected input to be an Array, got ${typeof h}`);let m="";for(let g=0;g<h.length;g++)m+=`    ${h[g].stack}
`;super(m),this.name="AggregateError",this.errors=h}}return _v={AggregateError:f,kEmptyObject:Object.freeze({}),once(c){let h=!1;return function(...m){h||(h=!0,c.apply(this,m))}},createDeferredPromise:function(){let c,h;return{promise:new Promise((g,_)=>{c=g,h=_}),resolve:c,reject:h}},promisify(c){return new Promise((h,m)=>{c((g,..._)=>g?m(g):h(..._))})},debuglog(){return function(){}},format(c,...h){return c.replace(/%([sdifj])/g,function(...[m,g]){const _=h.shift();return g==="f"?_.toFixed(6):g==="j"?JSON.stringify(_):g==="s"&&typeof _=="object"?`${_.constructor!==Object?_.constructor.name:""} {}`.trim():_.toString()})},inspect(c){switch(typeof c){case"string":if(c.includes("'"))if(c.includes('"')){if(!c.includes("`")&&!c.includes("${"))return`\`${c}\``}else return`"${c}"`;return`'${c}'`;case"number":return isNaN(c)?"NaN":Object.is(c,-0)?String(c):c;case"bigint":return`${String(c)}n`;case"boolean":case"undefined":return String(c);case"object":return"{}"}},types:{isAsyncFunction(c){return c instanceof o},isArrayBufferView(c){return ArrayBuffer.isView(c)}},isBlob:a,deprecate(c,h){return c},addAbortListener:Ru.addAbortListener||function(h,m){if(h===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",h);l(h,"signal"),u(m,"listener");let g;return h.aborted?queueMicrotask(()=>m()):(h.addEventListener("abort",m,{__proto__:null,once:!0,[t]:!0}),g=()=>{h.removeEventListener("abort",m)}),{__proto__:null,[r](){var _;(_=g)===null||_===void 0||_()}}},AbortSignalAny:n.any||function(h){if(h.length===1)return h[0];const m=new i,g=()=>m.abort();return h.forEach(_=>{l(_,"signals"),_.addEventListener("abort",g,{once:!0})}),m.signal.addEventListener("abort",()=>{h.forEach(_=>_.removeEventListener("abort",g))},{once:!0}),m.signal}},_v.promisify.custom=Symbol.for("nodejs.util.promisify.custom"),_v}function Xs(){if(jN)return tE;jN=!0;const{format:e,inspect:t,AggregateError:r}=gs(),n=globalThis.AggregateError||r,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",l={};function u(v,p){if(!v)throw new l.ERR_INTERNAL_ASSERTION(p)}function f(v){let p="",E=v.length;const y=v[0]==="-"?1:0;for(;E>=y+4;E-=3)p=`_${v.slice(E-3,E)}${p}`;return`${v.slice(0,E)}${p}`}function c(v,p,E){if(typeof p=="function")return u(p.length<=E.length,`Code: ${v}; The provided arguments length (${E.length}) does not match the required ones (${p.length}).`),p(...E);const y=(p.match(/%[dfijoOs]/g)||[]).length;return u(y===E.length,`Code: ${v}; The provided arguments length (${E.length}) does not match the required ones (${y}).`),E.length===0?p:e(p,...E)}function h(v,p,E){E||(E=Error);class y extends E{constructor(...T){super(c(v,p,T))}toString(){return`${this.name} [${v}]: ${this.message}`}}Object.defineProperties(y.prototype,{name:{value:E.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${v}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),y.prototype.code=v,y.prototype[i]=!0,l[v]=y}function m(v){const p=a+v.name;return Object.defineProperty(v,"name",{value:p}),v}function g(v,p){if(v&&p&&v!==p){if(Array.isArray(p.errors))return p.errors.push(v),p;const E=new n([p,v],p.message);return E.code=p.code,E}return v||p}class _ extends Error{constructor(p="The operation was aborted",E=void 0){if(E!==void 0&&typeof E!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",E);super(p,E),this.code="ABORT_ERR",this.name="AbortError"}}return h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",(v,p,E)=>{u(typeof v=="string","'name' must be a string"),Array.isArray(p)||(p=[p]);let y="The ";v.endsWith(" argument")?y+=`${v} `:y+=`"${v}" ${v.includes(".")?"property":"argument"} `,y+="must be ";const S=[],T=[],$=[];for(const x of p)u(typeof x=="string","All expected entries have to be of type string"),o.includes(x)?S.push(x.toLowerCase()):s.test(x)?T.push(x):(u(x!=="object",'The value "object" should be written as "Object"'),$.push(x));if(T.length>0){const x=S.indexOf("object");x!==-1&&(S.splice(S,x,1),T.push("Object"))}if(S.length>0){switch(S.length){case 1:y+=`of type ${S[0]}`;break;case 2:y+=`one of type ${S[0]} or ${S[1]}`;break;default:{const x=S.pop();y+=`one of type ${S.join(", ")}, or ${x}`}}(T.length>0||$.length>0)&&(y+=" or ")}if(T.length>0){switch(T.length){case 1:y+=`an instance of ${T[0]}`;break;case 2:y+=`an instance of ${T[0]} or ${T[1]}`;break;default:{const x=T.pop();y+=`an instance of ${T.join(", ")}, or ${x}`}}$.length>0&&(y+=" or ")}switch($.length){case 0:break;case 1:$[0].toLowerCase()!==$[0]&&(y+="an "),y+=`${$[0]}`;break;case 2:y+=`one of ${$[0]} or ${$[1]}`;break;default:{const x=$.pop();y+=`one of ${$.join(", ")}, or ${x}`}}if(E==null)y+=`. Received ${E}`;else if(typeof E=="function"&&E.name)y+=`. Received function ${E.name}`;else if(typeof E=="object"){var d;if((d=E.constructor)!==null&&d!==void 0&&d.name)y+=`. Received an instance of ${E.constructor.name}`;else{const x=t(E,{depth:-1});y+=`. Received ${x}`}}else{let x=t(E,{colors:!1});x.length>25&&(x=`${x.slice(0,25)}...`),y+=`. Received type ${typeof E} (${x})`}return y},TypeError),h("ERR_INVALID_ARG_VALUE",(v,p,E="is invalid")=>{let y=t(p);return y.length>128&&(y=y.slice(0,128)+"..."),`The ${v.includes(".")?"property":"argument"} '${v}' ${E}. Received ${y}`},TypeError),h("ERR_INVALID_RETURN_VALUE",(v,p,E)=>{var y;const S=E!=null&&(y=E.constructor)!==null&&y!==void 0&&y.name?`instance of ${E.constructor.name}`:`type ${typeof E}`;return`Expected ${v} to be returned from the "${p}" function but got ${S}.`},TypeError),h("ERR_MISSING_ARGS",(...v)=>{u(v.length>0,"At least one arg needs to be specified");let p;const E=v.length;switch(v=(Array.isArray(v)?v:[v]).map(y=>`"${y}"`).join(" or "),E){case 1:p+=`The ${v[0]} argument`;break;case 2:p+=`The ${v[0]} and ${v[1]} arguments`;break;default:{const y=v.pop();p+=`The ${v.join(", ")}, and ${y} arguments`}break}return`${p} must be specified`},TypeError),h("ERR_OUT_OF_RANGE",(v,p,E)=>{u(p,'Missing "range" argument');let y;return Number.isInteger(E)&&Math.abs(E)>2**32?y=f(String(E)):typeof E=="bigint"?(y=String(E),(E>2n**32n||E<-(2n**32n))&&(y=f(y)),y+="n"):y=t(E),`The value of "${v}" is out of range. It must be ${p}. Received ${y}`},RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),tE={AbortError:_,aggregateTwoErrors:m(g),hideStackFrames:m,codes:l},tE}function f0(){if(DN)return rE;DN=!0;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:s,NumberMIN_SAFE_INTEGER:a,NumberParseInt:l,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:f,String:c,StringPrototypeToUpperCase:h,StringPrototypeTrim:m}=Ti(),{hideStackFrames:g,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:p,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:y}}=Xs(),{normalizeEncoding:S}=gs(),{isAsyncFunction:T,isArrayBufferView:$}=gs().types,d={};function x(Te){return Te===(Te|0)}function O(Te){return Te===Te>>>0}const P=/^[0-7]+$/,M="must be a 32-bit unsigned integer or an octal string";function U(Te,De,Ge){if(typeof Te>"u"&&(Te=Ge),typeof Te=="string"){if(f(P,Te)===null)throw new p(De,Te,M);Te=l(Te,8)}return G(Te,De),Te}const K=g((Te,De,Ge=a,Ve=s)=>{if(typeof Te!="number")throw new v(De,"number",Te);if(!i(Te))throw new E(De,"an integer",Te);if(Te<Ge||Te>Ve)throw new E(De,`>= ${Ge} && <= ${Ve}`,Te)}),ie=g((Te,De,Ge=-2147483648,Ve=2147483647)=>{if(typeof Te!="number")throw new v(De,"number",Te);if(!i(Te))throw new E(De,"an integer",Te);if(Te<Ge||Te>Ve)throw new E(De,`>= ${Ge} && <= ${Ve}`,Te)}),G=g((Te,De,Ge=!1)=>{if(typeof Te!="number")throw new v(De,"number",Te);if(!i(Te))throw new E(De,"an integer",Te);const Ve=Ge?1:0,ht=4294967295;if(Te<Ve||Te>ht)throw new E(De,`>= ${Ve} && <= ${ht}`,Te)});function ne(Te,De){if(typeof Te!="string")throw new v(De,"string",Te)}function ge(Te,De,Ge=void 0,Ve){if(typeof Te!="number")throw new v(De,"number",Te);if(Ge!=null&&Te<Ge||Ve!=null&&Te>Ve||(Ge!=null||Ve!=null)&&o(Te))throw new E(De,`${Ge!=null?`>= ${Ge}`:""}${Ge!=null&&Ve!=null?" && ":""}${Ve!=null?`<= ${Ve}`:""}`,Te)}const re=g((Te,De,Ge)=>{if(!t(Ge,Te)){const ht="must be one of: "+r(n(Ge,tt=>typeof tt=="string"?`'${tt}'`:c(tt)),", ");throw new p(De,Te,ht)}});function se(Te,De){if(typeof Te!="boolean")throw new v(De,"boolean",Te)}function D(Te,De,Ge){return Te==null||!u(Te,De)?Ge:Te[De]}const z=g((Te,De,Ge=null)=>{const Ve=D(Ge,"allowArray",!1),ht=D(Ge,"allowFunction",!1);if(!D(Ge,"nullable",!1)&&Te===null||!Ve&&e(Te)||typeof Te!="object"&&(!ht||typeof Te!="function"))throw new v(De,"Object",Te)}),Y=g((Te,De)=>{if(Te!=null&&typeof Te!="object"&&typeof Te!="function")throw new v(De,"a dictionary",Te)}),N=g((Te,De,Ge=0)=>{if(!e(Te))throw new v(De,"Array",Te);if(Te.length<Ge){const Ve=`must be longer than ${Ge}`;throw new p(De,Te,Ve)}});function I(Te,De){N(Te,De);for(let Ge=0;Ge<Te.length;Ge++)ne(Te[Ge],`${De}[${Ge}]`)}function q(Te,De){N(Te,De);for(let Ge=0;Ge<Te.length;Ge++)se(Te[Ge],`${De}[${Ge}]`)}function ae(Te,De){N(Te,De);for(let Ge=0;Ge<Te.length;Ge++){const Ve=Te[Ge],ht=`${De}[${Ge}]`;if(Ve==null)throw new v(ht,"AbortSignal",Ve);Le(Ve,ht)}}function Z(Te,De="signal"){if(ne(Te,De),d[Te]===void 0)throw d[h(Te)]!==void 0?new y(Te+" (signals must use all capital letters)"):new y(Te)}const te=g((Te,De="buffer")=>{if(!$(Te))throw new v(De,["Buffer","TypedArray","DataView"],Te)});function ue(Te,De){const Ge=S(De),Ve=Te.length;if(Ge==="hex"&&Ve%2!==0)throw new p("encoding",De,`is invalid for data of length ${Ve}`)}function xe(Te,De="Port",Ge=!0){if(typeof Te!="number"&&typeof Te!="string"||typeof Te=="string"&&m(Te).length===0||+Te!==+Te>>>0||Te>65535||Te===0&&!Ge)throw new _(De,Te,Ge);return Te|0}const Le=g((Te,De)=>{if(Te!==void 0&&(Te===null||typeof Te!="object"||!("aborted"in Te)))throw new v(De,"AbortSignal",Te)}),C=g((Te,De)=>{if(typeof Te!="function")throw new v(De,"Function",Te)}),F=g((Te,De)=>{if(typeof Te!="function"||T(Te))throw new v(De,"Function",Te)}),L=g((Te,De)=>{if(Te!==void 0)throw new v(De,"undefined",Te)});function ee(Te,De,Ge){if(!t(Ge,Te))throw new v(De,`('${r(Ge,"|")}')`,Te)}const ce=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function me(Te,De){if(typeof Te>"u"||!f(ce,Te))throw new p(De,Te,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ve(Te){if(typeof Te=="string")return me(Te,"hints"),Te;if(e(Te)){const De=Te.length;let Ge="";if(De===0)return Ge;for(let Ve=0;Ve<De;Ve++){const ht=Te[Ve];me(ht,"hints"),Ge+=ht,Ve!==De-1&&(Ge+=", ")}return Ge}throw new p("hints",Te,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return rE={isInt32:x,isUint32:O,parseFileMode:U,validateArray:N,validateStringArray:I,validateBooleanArray:q,validateAbortSignalArray:ae,validateBoolean:se,validateBuffer:te,validateDictionary:Y,validateEncoding:ue,validateFunction:C,validateInt32:ie,validateInteger:K,validateNumber:ge,validateObject:z,validateOneOf:re,validatePlainFunction:F,validatePort:xe,validateSignalName:Z,validateString:ne,validateUint32:G,validateUndefined:L,validateUnion:ee,validateAbortSignal:Le,validateLinkHeaderValue:ve},rE}function Vc(){if(MN)return nE;MN=!0;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:r}=Ti(),n=r("nodejs.stream.destroyed"),i=r("nodejs.stream.errored"),o=r("nodejs.stream.readable"),s=r("nodejs.stream.writable"),a=r("nodejs.stream.disturbed"),l=r("nodejs.webstream.isClosedPromise"),u=r("nodejs.webstream.controllerErrorFunction");function f(D,z=!1){var Y;return!!(D&&typeof D.pipe=="function"&&typeof D.on=="function"&&(!z||typeof D.pause=="function"&&typeof D.resume=="function")&&(!D._writableState||((Y=D._readableState)===null||Y===void 0?void 0:Y.readable)!==!1)&&(!D._writableState||D._readableState))}function c(D){var z;return!!(D&&typeof D.write=="function"&&typeof D.on=="function"&&(!D._readableState||((z=D._writableState)===null||z===void 0?void 0:z.writable)!==!1))}function h(D){return!!(D&&typeof D.pipe=="function"&&D._readableState&&typeof D.on=="function"&&typeof D.write=="function")}function m(D){return D&&(D._readableState||D._writableState||typeof D.write=="function"&&typeof D.on=="function"||typeof D.pipe=="function"&&typeof D.on=="function")}function g(D){return!!(D&&!m(D)&&typeof D.pipeThrough=="function"&&typeof D.getReader=="function"&&typeof D.cancel=="function")}function _(D){return!!(D&&!m(D)&&typeof D.getWriter=="function"&&typeof D.abort=="function")}function v(D){return!!(D&&!m(D)&&typeof D.readable=="object"&&typeof D.writable=="object")}function p(D){return g(D)||_(D)||v(D)}function E(D,z){return D==null?!1:z===!0?typeof D[e]=="function":z===!1?typeof D[t]=="function":typeof D[e]=="function"||typeof D[t]=="function"}function y(D){if(!m(D))return null;const z=D._writableState,Y=D._readableState,N=z||Y;return!!(D.destroyed||D[n]||N!=null&&N.destroyed)}function S(D){if(!c(D))return null;if(D.writableEnded===!0)return!0;const z=D._writableState;return z!=null&&z.errored?!1:typeof(z==null?void 0:z.ended)!="boolean"?null:z.ended}function T(D,z){if(!c(D))return null;if(D.writableFinished===!0)return!0;const Y=D._writableState;return Y!=null&&Y.errored?!1:typeof(Y==null?void 0:Y.finished)!="boolean"?null:!!(Y.finished||z===!1&&Y.ended===!0&&Y.length===0)}function $(D){if(!f(D))return null;if(D.readableEnded===!0)return!0;const z=D._readableState;return!z||z.errored?!1:typeof(z==null?void 0:z.ended)!="boolean"?null:z.ended}function d(D,z){if(!f(D))return null;const Y=D._readableState;return Y!=null&&Y.errored?!1:typeof(Y==null?void 0:Y.endEmitted)!="boolean"?null:!!(Y.endEmitted||z===!1&&Y.ended===!0&&Y.length===0)}function x(D){return D&&D[o]!=null?D[o]:typeof(D==null?void 0:D.readable)!="boolean"?null:y(D)?!1:f(D)&&D.readable&&!d(D)}function O(D){return D&&D[s]!=null?D[s]:typeof(D==null?void 0:D.writable)!="boolean"?null:y(D)?!1:c(D)&&D.writable&&!S(D)}function P(D,z){return m(D)?y(D)?!0:!((z==null?void 0:z.readable)!==!1&&x(D)||(z==null?void 0:z.writable)!==!1&&O(D)):null}function M(D){var z,Y;return m(D)?D.writableErrored?D.writableErrored:(z=(Y=D._writableState)===null||Y===void 0?void 0:Y.errored)!==null&&z!==void 0?z:null:null}function U(D){var z,Y;return m(D)?D.readableErrored?D.readableErrored:(z=(Y=D._readableState)===null||Y===void 0?void 0:Y.errored)!==null&&z!==void 0?z:null:null}function K(D){if(!m(D))return null;if(typeof D.closed=="boolean")return D.closed;const z=D._writableState,Y=D._readableState;return typeof(z==null?void 0:z.closed)=="boolean"||typeof(Y==null?void 0:Y.closed)=="boolean"?(z==null?void 0:z.closed)||(Y==null?void 0:Y.closed):typeof D._closed=="boolean"&&ie(D)?D._closed:null}function ie(D){return typeof D._closed=="boolean"&&typeof D._defaultKeepAlive=="boolean"&&typeof D._removedConnection=="boolean"&&typeof D._removedContLen=="boolean"}function G(D){return typeof D._sent100=="boolean"&&ie(D)}function ne(D){var z;return typeof D._consuming=="boolean"&&typeof D._dumped=="boolean"&&((z=D.req)===null||z===void 0?void 0:z.upgradeOrConnect)===void 0}function ge(D){if(!m(D))return null;const z=D._writableState,Y=D._readableState,N=z||Y;return!N&&G(D)||!!(N&&N.autoDestroy&&N.emitClose&&N.closed===!1)}function re(D){var z;return!!(D&&((z=D[a])!==null&&z!==void 0?z:D.readableDidRead||D.readableAborted))}function se(D){var z,Y,N,I,q,ae,Z,te,ue,xe;return!!(D&&((z=(Y=(N=(I=(q=(ae=D[i])!==null&&ae!==void 0?ae:D.readableErrored)!==null&&q!==void 0?q:D.writableErrored)!==null&&I!==void 0?I:(Z=D._readableState)===null||Z===void 0?void 0:Z.errorEmitted)!==null&&N!==void 0?N:(te=D._writableState)===null||te===void 0?void 0:te.errorEmitted)!==null&&Y!==void 0?Y:(ue=D._readableState)===null||ue===void 0?void 0:ue.errored)!==null&&z!==void 0?z:!((xe=D._writableState)===null||xe===void 0)&&xe.errored))}return nE={isDestroyed:y,kIsDestroyed:n,isDisturbed:re,kIsDisturbed:a,isErrored:se,kIsErrored:i,isReadable:x,kIsReadable:o,kIsClosedPromise:l,kControllerErrorFunction:u,kIsWritable:s,isClosed:K,isDuplexNodeStream:h,isFinished:P,isIterable:E,isReadableNodeStream:f,isReadableStream:g,isReadableEnded:$,isReadableFinished:d,isReadableErrored:U,isNodeStream:m,isWebStream:p,isWritable:O,isWritableNodeStream:c,isWritableStream:_,isWritableEnded:S,isWritableFinished:T,isWritableErrored:M,isServerRequest:ne,isServerResponse:G,willEmitClose:ge,isTransformStream:v},nE}function yd(){if(LN)return Ev;LN=!0;const e=co,{AbortError:t,codes:r}=Xs(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=r,{kEmptyObject:o,once:s}=gs(),{validateAbortSignal:a,validateFunction:l,validateObject:u,validateBoolean:f}=f0(),{Promise:c,PromisePrototypeThen:h,SymbolDispose:m}=Ti(),{isClosed:g,isReadable:_,isReadableNodeStream:v,isReadableStream:p,isReadableFinished:E,isReadableErrored:y,isWritable:S,isWritableNodeStream:T,isWritableStream:$,isWritableFinished:d,isWritableErrored:x,isNodeStream:O,willEmitClose:P,kIsClosedPromise:M}=Vc();let U;function K(re){return re.setHeader&&typeof re.abort=="function"}const ie=()=>{};function G(re,se,D){var z,Y;if(arguments.length===2?(D=se,se=o):se==null?se=o:u(se,"options"),l(D,"callback"),a(se.signal,"options.signal"),D=s(D),p(re)||$(re))return ne(re,se,D);if(!O(re))throw new n("stream",["ReadableStream","WritableStream","Stream"],re);const N=(z=se.readable)!==null&&z!==void 0?z:v(re),I=(Y=se.writable)!==null&&Y!==void 0?Y:T(re),q=re._writableState,ae=re._readableState,Z=()=>{re.writable||xe()};let te=P(re)&&v(re)===N&&T(re)===I,ue=d(re,!1);const xe=()=>{ue=!0,re.destroyed&&(te=!1),!(te&&(!re.readable||N))&&(!N||Le)&&D.call(re)};let Le=E(re,!1);const C=()=>{Le=!0,re.destroyed&&(te=!1),!(te&&(!re.writable||I))&&(!I||ue)&&D.call(re)},F=Te=>{D.call(re,Te)};let L=g(re);const ee=()=>{L=!0;const Te=x(re)||y(re);if(Te&&typeof Te!="boolean")return D.call(re,Te);if(N&&!Le&&v(re,!0)&&!E(re,!1))return D.call(re,new i);if(I&&!ue&&!d(re,!1))return D.call(re,new i);D.call(re)},ce=()=>{L=!0;const Te=x(re)||y(re);if(Te&&typeof Te!="boolean")return D.call(re,Te);D.call(re)},me=()=>{re.req.on("finish",xe)};K(re)?(re.on("complete",xe),te||re.on("abort",ee),re.req?me():re.on("request",me)):I&&!q&&(re.on("end",Z),re.on("close",Z)),!te&&typeof re.aborted=="boolean"&&re.on("aborted",ee),re.on("end",C),re.on("finish",xe),se.error!==!1&&re.on("error",F),re.on("close",ee),L?e.nextTick(ee):q!=null&&q.errorEmitted||ae!=null&&ae.errorEmitted?te||e.nextTick(ce):(!N&&(!te||_(re))&&(ue||S(re)===!1)||!I&&(!te||S(re))&&(Le||_(re)===!1)||ae&&re.req&&re.aborted)&&e.nextTick(ce);const ve=()=>{D=ie,re.removeListener("aborted",ee),re.removeListener("complete",xe),re.removeListener("abort",ee),re.removeListener("request",me),re.req&&re.req.removeListener("finish",xe),re.removeListener("end",Z),re.removeListener("close",Z),re.removeListener("finish",xe),re.removeListener("end",C),re.removeListener("error",F),re.removeListener("close",ee)};if(se.signal&&!L){const Te=()=>{const De=D;ve(),De.call(re,new t(void 0,{cause:se.signal.reason}))};if(se.signal.aborted)e.nextTick(Te);else{U=U||gs().addAbortListener;const De=U(se.signal,Te),Ge=D;D=s((...Ve)=>{De[m](),Ge.apply(re,Ve)})}}return ve}function ne(re,se,D){let z=!1,Y=ie;if(se.signal)if(Y=()=>{z=!0,D.call(re,new t(void 0,{cause:se.signal.reason}))},se.signal.aborted)e.nextTick(Y);else{U=U||gs().addAbortListener;const I=U(se.signal,Y),q=D;D=s((...ae)=>{I[m](),q.apply(re,ae)})}const N=(...I)=>{z||e.nextTick(()=>D.apply(re,I))};return h(re[M].promise,N,N),ie}function ge(re,se){var D;let z=!1;return se===null&&(se=o),(D=se)!==null&&D!==void 0&&D.cleanup&&(f(se.cleanup,"cleanup"),z=se.cleanup),new c((Y,N)=>{const I=G(re,se,q=>{z&&I(),q?N(q):Y()})})}return Ev=G,Ev.finished=ge,Ev}function ug(){if(FN)return iE;FN=!0;const e=co,{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=Xs(),{Symbol:i}=Ti(),{kIsDestroyed:o,isDestroyed:s,isFinished:a,isServerRequest:l}=Vc(),u=i("kDestroy"),f=i("kConstruct");function c(P,M,U){P&&(P.stack,M&&!M.errored&&(M.errored=P),U&&!U.errored&&(U.errored=P))}function h(P,M){const U=this._readableState,K=this._writableState,ie=K||U;return K!=null&&K.destroyed||U!=null&&U.destroyed?(typeof M=="function"&&M(),this):(c(P,K,U),K&&(K.destroyed=!0),U&&(U.destroyed=!0),ie.constructed?m(this,P,M):this.once(u,function(G){m(this,t(G,P),M)}),this)}function m(P,M,U){let K=!1;function ie(G){if(K)return;K=!0;const ne=P._readableState,ge=P._writableState;c(G,ge,ne),ge&&(ge.closed=!0),ne&&(ne.closed=!0),typeof U=="function"&&U(G),G?e.nextTick(g,P,G):e.nextTick(_,P)}try{P._destroy(M||null,ie)}catch(G){ie(G)}}function g(P,M){v(P,M),_(P)}function _(P){const M=P._readableState,U=P._writableState;U&&(U.closeEmitted=!0),M&&(M.closeEmitted=!0),(U!=null&&U.emitClose||M!=null&&M.emitClose)&&P.emit("close")}function v(P,M){const U=P._readableState,K=P._writableState;K!=null&&K.errorEmitted||U!=null&&U.errorEmitted||(K&&(K.errorEmitted=!0),U&&(U.errorEmitted=!0),P.emit("error",M))}function p(){const P=this._readableState,M=this._writableState;P&&(P.constructed=!0,P.closed=!1,P.closeEmitted=!1,P.destroyed=!1,P.errored=null,P.errorEmitted=!1,P.reading=!1,P.ended=P.readable===!1,P.endEmitted=P.readable===!1),M&&(M.constructed=!0,M.destroyed=!1,M.closed=!1,M.closeEmitted=!1,M.errored=null,M.errorEmitted=!1,M.finalCalled=!1,M.prefinished=!1,M.ended=M.writable===!1,M.ending=M.writable===!1,M.finished=M.writable===!1)}function E(P,M,U){const K=P._readableState,ie=P._writableState;if(ie!=null&&ie.destroyed||K!=null&&K.destroyed)return this;K!=null&&K.autoDestroy||ie!=null&&ie.autoDestroy?P.destroy(M):M&&(M.stack,ie&&!ie.errored&&(ie.errored=M),K&&!K.errored&&(K.errored=M),U?e.nextTick(v,P,M):v(P,M))}function y(P,M){if(typeof P._construct!="function")return;const U=P._readableState,K=P._writableState;U&&(U.constructed=!1),K&&(K.constructed=!1),P.once(f,M),!(P.listenerCount(f)>1)&&e.nextTick(S,P)}function S(P){let M=!1;function U(K){if(M){E(P,K??new r);return}M=!0;const ie=P._readableState,G=P._writableState,ne=G||ie;ie&&(ie.constructed=!0),G&&(G.constructed=!0),ne.destroyed?P.emit(u,K):K?E(P,K,!0):e.nextTick(T,P)}try{P._construct(K=>{e.nextTick(U,K)})}catch(K){e.nextTick(U,K)}}function T(P){P.emit(f)}function $(P){return(P==null?void 0:P.setHeader)&&typeof P.abort=="function"}function d(P){P.emit("close")}function x(P,M){P.emit("error",M),e.nextTick(d,P)}function O(P,M){!P||s(P)||(!M&&!a(P)&&(M=new n),l(P)?(P.socket=null,P.destroy(M)):$(P)?P.abort():$(P.req)?P.req.abort():typeof P.destroy=="function"?P.destroy(M):typeof P.close=="function"?P.close():M?e.nextTick(x,P,M):e.nextTick(d,P),P.destroyed||(P[o]=!0))}return iE={construct:y,destroyer:O,destroy:h,undestroy:p,errorOrDestroy:E},iE}function hk(){if(BN)return oE;BN=!0;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Ti(),{EventEmitter:r}=Ru;function n(o){r.call(this,o)}t(n.prototype,r.prototype),t(n,r),n.prototype.pipe=function(o,s){const a=this;function l(_){o.writable&&o.write(_)===!1&&a.pause&&a.pause()}a.on("data",l);function u(){a.readable&&a.resume&&a.resume()}o.on("drain",u),!o._isStdio&&(!s||s.end!==!1)&&(a.on("end",c),a.on("close",h));let f=!1;function c(){f||(f=!0,o.end())}function h(){f||(f=!0,typeof o.destroy=="function"&&o.destroy())}function m(_){g(),r.listenerCount(this,"error")===0&&this.emit("error",_)}i(a,"error",m),i(o,"error",m);function g(){a.removeListener("data",l),o.removeListener("drain",u),a.removeListener("end",c),a.removeListener("close",h),a.removeListener("error",m),o.removeListener("error",m),a.removeListener("end",g),a.removeListener("close",g),o.removeListener("close",g)}return a.on("end",g),a.on("close",g),o.on("close",g),o.emit("pipe",a),o};function i(o,s,a){if(typeof o.prependListener=="function")return o.prependListener(s,a);!o._events||!o._events[s]?o.on(s,a):e(o._events[s])?o._events[s].unshift(a):o._events[s]=[a,o._events[s]]}return oE={Stream:n,prependListener:i},oE}function iT(){if(UN)return Kp;UN=!0;const{SymbolDispose:e}=Ti(),{AbortError:t,codes:r}=Xs(),{isNodeStream:n,isWebStream:i,kControllerErrorFunction:o}=Vc(),s=yd(),{ERR_INVALID_ARG_TYPE:a}=r;let l;const u=(f,c)=>{if(typeof f!="object"||!("aborted"in f))throw new a(c,"AbortSignal",f)};return Kp.addAbortSignal=function(c,h){if(u(c,"signal"),!n(h)&&!i(h))throw new a("stream",["ReadableStream","WritableStream","Stream"],h);return Kp.addAbortSignalNoValidate(c,h)},Kp.addAbortSignalNoValidate=function(f,c){if(typeof f!="object"||!("aborted"in f))return c;const h=n(c)?()=>{c.destroy(new t(void 0,{cause:f.reason}))}:()=>{c[o](new t(void 0,{cause:f.reason}))};if(f.aborted)h();else{l=l||gs().addAbortListener;const m=l(f,h);s(c,m[e])}return c},Kp}function kpe(){if(zN)return sE;zN=!0;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:r,Uint8Array:n}=Ti(),{Buffer:i}=Js(),{inspect:o}=gs();return sE=class{constructor(){this.head=null,this.tail=null,this.length=0}push(a){const l={data:a,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(a){const l={data:a,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}clear(){this.head=this.tail=null,this.length=0}join(a){if(this.length===0)return"";let l=this.head,u=""+l.data;for(;(l=l.next)!==null;)u+=a+l.data;return u}concat(a){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(a>>>0);let u=this.head,f=0;for(;u;)r(l,u.data,f),f+=u.data.length,u=u.next;return l}consume(a,l){const u=this.head.data;if(a<u.length){const f=u.slice(0,a);return this.head.data=u.slice(a),f}return a===u.length?this.shift():l?this._getString(a):this._getBuffer(a)}first(){return this.head.data}*[t](){for(let a=this.head;a;a=a.next)yield a.data}_getString(a){let l="",u=this.head,f=0;do{const c=u.data;if(a>c.length)l+=c,a-=c.length;else{a===c.length?(l+=c,++f,u.next?this.head=u.next:this.head=this.tail=null):(l+=e(c,0,a),this.head=u,u.data=e(c,a));break}++f}while((u=u.next)!==null);return this.length-=f,l}_getBuffer(a){const l=i.allocUnsafe(a),u=a;let f=this.head,c=0;do{const h=f.data;if(a>h.length)r(l,h,u-a),a-=h.length;else{a===h.length?(r(l,h,u-a),++c,f.next?this.head=f.next:this.head=this.tail=null):(r(l,new n(h.buffer,h.byteOffset,a),u-a),this.head=f,f.data=h.slice(a));break}++c}while((f=f.next)!==null);return this.length-=c,l}[Symbol.for("nodejs.util.inspect.custom")](a,l){return o(this,{...l,depth:0,customInspect:!1})}},sE}function oT(){if(qN)return aE;qN=!0;const{MathFloor:e,NumberIsInteger:t}=Ti(),{validateInteger:r}=f0(),{ERR_INVALID_ARG_VALUE:n}=Xs().codes;let i=16*1024,o=16;function s(f,c,h){return f.highWaterMark!=null?f.highWaterMark:c?f[h]:null}function a(f){return f?o:i}function l(f,c){r(c,"value",0),f?o=c:i=c}function u(f,c,h,m){const g=s(c,m,h);if(g!=null){if(!t(g)||g<0){const _=m?`options.${h}`:"options.highWaterMark";throw new n(_,g)}return e(g)}return a(f.objectMode)}return aE={getHighWaterMark:u,getDefaultHighWaterMark:a,setDefaultHighWaterMark:l},aE}function uG(){if(VN)return lE;VN=!0;const e=co,{PromisePrototypeThen:t,SymbolAsyncIterator:r,SymbolIterator:n}=Ti(),{Buffer:i}=Js(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:s}=Xs().codes;function a(l,u,f){let c;if(typeof u=="string"||u instanceof i)return new l({objectMode:!0,...f,read(){this.push(u),this.push(null)}});let h;if(u&&u[r])h=!0,c=u[r]();else if(u&&u[n])h=!1,c=u[n]();else throw new o("iterable",["Iterable"],u);const m=new l({objectMode:!0,highWaterMark:1,...f});let g=!1;m._read=function(){g||(g=!0,v())},m._destroy=function(p,E){t(_(p),()=>e.nextTick(E,p),y=>e.nextTick(E,y||p))};async function _(p){const E=p!=null,y=typeof c.throw=="function";if(E&&y){const{value:S,done:T}=await c.throw(p);if(await S,T)return}if(typeof c.return=="function"){const{value:S}=await c.return();await S}}async function v(){for(;;){try{const{value:p,done:E}=h?await c.next():c.next();if(E)m.push(null);else{const y=p&&typeof p.then=="function"?await p:p;if(y===null)throw g=!1,new s;if(m.push(y))continue;g=!1}}catch(p){m.destroy(p)}break}}return m}return lE=a,lE}function sT(){if(HN)return uE;HN=!0;const e=co,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:s,ObjectSetPrototypeOf:a,Promise:l,SafeSet:u,SymbolAsyncDispose:f,SymbolAsyncIterator:c,Symbol:h}=Ti();uE=Ve,Ve.ReadableState=Ge;const{EventEmitter:m}=Ru,{Stream:g,prependListener:_}=hk(),{Buffer:v}=Js(),{addAbortSignal:p}=iT(),E=yd();let y=gs().debuglog("stream",Oe=>{y=Oe});const S=kpe(),T=ug(),{getHighWaterMark:$,getDefaultHighWaterMark:d}=oT(),{aggregateTwoErrors:x,codes:{ERR_INVALID_ARG_TYPE:O,ERR_METHOD_NOT_IMPLEMENTED:P,ERR_OUT_OF_RANGE:M,ERR_STREAM_PUSH_AFTER_EOF:U,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:K},AbortError:ie}=Xs(),{validateObject:G}=f0(),ne=h("kPaused"),{StringDecoder:ge}=Tm,re=uG();a(Ve.prototype,g.prototype),a(Ve,g);const se=()=>{},{errorOrDestroy:D}=T,z=1,Y=2,N=4,I=8,q=16,ae=32,Z=64,te=128,ue=256,xe=512,Le=1024,C=2048,F=4096,L=8192,ee=16384,ce=32768,me=65536,ve=1<<17,Te=1<<18;function De(Oe){return{enumerable:!1,get(){return((this||_t).state&Oe)!==0},set(je){je?(this||_t).state|=Oe:(this||_t).state&=~Oe}}}o(Ge.prototype,{objectMode:De(z),ended:De(Y),endEmitted:De(N),reading:De(I),constructed:De(q),sync:De(ae),needReadable:De(Z),emittedReadable:De(te),readableListening:De(ue),resumeScheduled:De(xe),errorEmitted:De(Le),emitClose:De(C),autoDestroy:De(F),destroyed:De(L),closed:De(ee),closeEmitted:De(ce),multiAwaitDrain:De(me),readingMore:De(ve),dataEmitted:De(Te)});function Ge(Oe,je,bt){typeof bt!="boolean"&&(bt=je instanceof Dc()),(this||_t).state=C|F|q|ae,Oe&&Oe.objectMode&&((this||_t).state|=z),bt&&Oe&&Oe.readableObjectMode&&((this||_t).state|=z),(this||_t).highWaterMark=Oe?$(this||_t,Oe,"readableHighWaterMark",bt):d(!1),(this||_t).buffer=new S,(this||_t).length=0,(this||_t).pipes=[],(this||_t).flowing=null,(this||_t)[ne]=null,Oe&&Oe.emitClose===!1&&((this||_t).state&=~C),Oe&&Oe.autoDestroy===!1&&((this||_t).state&=~F),(this||_t).errored=null,(this||_t).defaultEncoding=Oe&&Oe.defaultEncoding||"utf8",(this||_t).awaitDrainWriters=null,(this||_t).decoder=null,(this||_t).encoding=null,Oe&&Oe.encoding&&((this||_t).decoder=new ge(Oe.encoding),(this||_t).encoding=Oe.encoding)}function Ve(Oe){if(!((this||_t)instanceof Ve))return new Ve(Oe);const je=(this||_t)instanceof Dc();(this||_t)._readableState=new Ge(Oe,this||_t,je),Oe&&(typeof Oe.read=="function"&&((this||_t)._read=Oe.read),typeof Oe.destroy=="function"&&((this||_t)._destroy=Oe.destroy),typeof Oe.construct=="function"&&((this||_t)._construct=Oe.construct),Oe.signal&&!je&&p(Oe.signal,this||_t)),g.call(this||_t,Oe),T.construct(this||_t,()=>{(this||_t)._readableState.needReadable&&Pe(this||_t,(this||_t)._readableState)})}Ve.prototype.destroy=T.destroy,Ve.prototype._undestroy=T.undestroy,Ve.prototype._destroy=function(Oe,je){je(Oe)},Ve.prototype[m.captureRejectionSymbol]=function(Oe){this.destroy(Oe)},Ve.prototype[f]=function(){let Oe;return(this||_t).destroyed||(Oe=(this||_t).readableEnded?null:new ie,this.destroy(Oe)),new l((je,bt)=>E(this||_t,$t=>$t&&$t!==Oe?bt($t):je(null)))},Ve.prototype.push=function(Oe,je){return ht(this||_t,Oe,je,!1)},Ve.prototype.unshift=function(Oe,je){return ht(this||_t,Oe,je,!0)};function ht(Oe,je,bt,$t){y("readableAddChunk",je);const ut=Oe._readableState;let Ut;if(ut.state&z||(typeof je=="string"?(bt=bt||ut.defaultEncoding,ut.encoding!==bt&&($t&&ut.encoding?je=v.from(je,bt).toString(ut.encoding):(je=v.from(je,bt),bt=""))):je instanceof v?bt="":g._isUint8Array(je)?(je=g._uint8ArrayToBuffer(je),bt=""):je!=null&&(Ut=new O("chunk",["string","Buffer","Uint8Array"],je))),Ut)D(Oe,Ut);else if(je===null)ut.state&=~I,B(Oe,ut);else if(ut.state&z||je&&je.length>0)if($t)if(ut.state&N)D(Oe,new K);else{if(ut.destroyed||ut.errored)return!1;tt(Oe,ut,je,!0)}else if(ut.ended)D(Oe,new U);else{if(ut.destroyed||ut.errored)return!1;ut.state&=~I,ut.decoder&&!bt?(je=ut.decoder.write(je),ut.objectMode||je.length!==0?tt(Oe,ut,je,!1):Pe(Oe,ut)):tt(Oe,ut,je,!1)}else $t||(ut.state&=~I,Pe(Oe,ut));return!ut.ended&&(ut.length<ut.highWaterMark||ut.length===0)}function tt(Oe,je,bt,$t){je.flowing&&je.length===0&&!je.sync&&Oe.listenerCount("data")>0?(je.state&me?je.awaitDrainWriters.clear():je.awaitDrainWriters=null,je.dataEmitted=!0,Oe.emit("data",bt)):(je.length+=je.objectMode?1:bt.length,$t?je.buffer.unshift(bt):je.buffer.push(bt),je.state&Z&&le(Oe)),Pe(Oe,je)}Ve.prototype.isPaused=function(){const Oe=(this||_t)._readableState;return Oe[ne]===!0||Oe.flowing===!1},Ve.prototype.setEncoding=function(Oe){const je=new ge(Oe);(this||_t)._readableState.decoder=je,(this||_t)._readableState.encoding=(this||_t)._readableState.decoder.encoding;const bt=(this||_t)._readableState.buffer;let $t="";for(const ut of bt)$t+=je.write(ut);return bt.clear(),$t!==""&&bt.push($t),(this||_t)._readableState.length=$t.length,this||_t};const Xe=1073741824;function Q(Oe){if(Oe>Xe)throw new M("size","<= 1GiB",Oe);return Oe--,Oe|=Oe>>>1,Oe|=Oe>>>2,Oe|=Oe>>>4,Oe|=Oe>>>8,Oe|=Oe>>>16,Oe++,Oe}function k(Oe,je){return Oe<=0||je.length===0&&je.ended?0:je.state&z?1:n(Oe)?je.flowing&&je.length?je.buffer.first().length:je.length:Oe<=je.length?Oe:je.ended?je.length:0}Ve.prototype.read=function(Oe){y("read",Oe),Oe===void 0?Oe=NaN:r(Oe)||(Oe=i(Oe,10));const je=(this||_t)._readableState,bt=Oe;if(Oe>je.highWaterMark&&(je.highWaterMark=Q(Oe)),Oe!==0&&(je.state&=~te),Oe===0&&je.needReadable&&((je.highWaterMark!==0?je.length>=je.highWaterMark:je.length>0)||je.ended))return y("read: emitReadable",je.length,je.ended),je.length===0&&je.ended?Rr(this||_t):le(this||_t),null;if(Oe=k(Oe,je),Oe===0&&je.ended)return je.length===0&&Rr(this||_t),null;let $t=(je.state&Z)!==0;if(y("need readable",$t),(je.length===0||je.length-Oe<je.highWaterMark)&&($t=!0,y("length less than watermark",$t)),je.ended||je.reading||je.destroyed||je.errored||!je.constructed)$t=!1,y("reading, ended or constructing",$t);else if($t){y("do read"),je.state|=I|ae,je.length===0&&(je.state|=Z);try{this._read(je.highWaterMark)}catch(Ut){D(this||_t,Ut)}je.state&=~ae,je.reading||(Oe=k(bt,je))}let ut;return Oe>0?ut=Tr(Oe,je):ut=null,ut===null?(je.needReadable=je.length<=je.highWaterMark,Oe=0):(je.length-=Oe,je.multiAwaitDrain?je.awaitDrainWriters.clear():je.awaitDrainWriters=null),je.length===0&&(je.ended||(je.needReadable=!0),bt!==Oe&&je.ended&&Rr(this||_t)),ut!==null&&!je.errorEmitted&&!je.closeEmitted&&(je.dataEmitted=!0,this.emit("data",ut)),ut};function B(Oe,je){if(y("onEofChunk"),!je.ended){if(je.decoder){const bt=je.decoder.end();bt&&bt.length&&(je.buffer.push(bt),je.length+=je.objectMode?1:bt.length)}je.ended=!0,je.sync?le(Oe):(je.needReadable=!1,je.emittedReadable=!0,Ee(Oe))}}function le(Oe){const je=Oe._readableState;y("emitReadable",je.needReadable,je.emittedReadable),je.needReadable=!1,je.emittedReadable||(y("emitReadable",je.flowing),je.emittedReadable=!0,e.nextTick(Ee,Oe))}function Ee(Oe){const je=Oe._readableState;y("emitReadable_",je.destroyed,je.length,je.ended),!je.destroyed&&!je.errored&&(je.length||je.ended)&&(Oe.emit("readable"),je.emittedReadable=!1),je.needReadable=!je.flowing&&!je.ended&&je.length<=je.highWaterMark,Xt(Oe)}function Pe(Oe,je){!je.readingMore&&je.constructed&&(je.readingMore=!0,e.nextTick(qe,Oe,je))}function qe(Oe,je){for(;!je.reading&&!je.ended&&(je.length<je.highWaterMark||je.flowing&&je.length===0);){const bt=je.length;if(y("maybeReadMore read 0"),Oe.read(0),bt===je.length)break}je.readingMore=!1}Ve.prototype._read=function(Oe){throw new P("_read()")},Ve.prototype.pipe=function(Oe,je){const bt=this||_t,$t=(this||_t)._readableState;$t.pipes.length===1&&($t.multiAwaitDrain||($t.multiAwaitDrain=!0,$t.awaitDrainWriters=new u($t.awaitDrainWriters?[$t.awaitDrainWriters]:[]))),$t.pipes.push(Oe),y("pipe count=%d opts=%j",$t.pipes.length,je);const Ut=(!je||je.end!==!1)&&Oe!==e.stdout&&Oe!==e.stderr?we:Zt;$t.endEmitted?e.nextTick(Ut):bt.once("end",Ut),Oe.on("unpipe",Bt);function Bt(Dt,qt){y("onunpipe"),Dt===bt&&qt&&qt.hasUnpiped===!1&&(qt.hasUnpiped=!0,Me())}function we(){y("onend"),Oe.end()}let he,Se=!1;function Me(){y("cleanup"),Oe.removeListener("close",Mt),Oe.removeListener("finish",Kt),he&&Oe.removeListener("drain",he),Oe.removeListener("error",ft),Oe.removeListener("unpipe",Bt),bt.removeListener("end",we),bt.removeListener("end",Zt),bt.removeListener("data",pt),Se=!0,he&&$t.awaitDrainWriters&&(!Oe._writableState||Oe._writableState.needDrain)&&he()}function ke(){Se||($t.pipes.length===1&&$t.pipes[0]===Oe?(y("false write response, pause",0),$t.awaitDrainWriters=Oe,$t.multiAwaitDrain=!1):$t.pipes.length>1&&$t.pipes.includes(Oe)&&(y("false write response, pause",$t.awaitDrainWriters.size),$t.awaitDrainWriters.add(Oe)),bt.pause()),he||(he=Be(bt,Oe),Oe.on("drain",he))}bt.on("data",pt);function pt(Dt){y("ondata");const qt=Oe.write(Dt);y("dest.write",qt),qt===!1&&ke()}function ft(Dt){if(y("onerror",Dt),Zt(),Oe.removeListener("error",ft),Oe.listenerCount("error")===0){const qt=Oe._writableState||Oe._readableState;qt&&!qt.errorEmitted?D(Oe,Dt):Oe.emit("error",Dt)}}_(Oe,"error",ft);function Mt(){Oe.removeListener("finish",Kt),Zt()}Oe.once("close",Mt);function Kt(){y("onfinish"),Oe.removeListener("close",Mt),Zt()}Oe.once("finish",Kt);function Zt(){y("unpipe"),bt.unpipe(Oe)}return Oe.emit("pipe",bt),Oe.writableNeedDrain===!0?ke():$t.flowing||(y("pipe resume"),bt.resume()),Oe};function Be(Oe,je){return function(){const $t=Oe._readableState;$t.awaitDrainWriters===je?(y("pipeOnDrain",1),$t.awaitDrainWriters=null):$t.multiAwaitDrain&&(y("pipeOnDrain",$t.awaitDrainWriters.size),$t.awaitDrainWriters.delete(je)),(!$t.awaitDrainWriters||$t.awaitDrainWriters.size===0)&&Oe.listenerCount("data")&&Oe.resume()}}Ve.prototype.unpipe=function(Oe){const je=(this||_t)._readableState,bt={hasUnpiped:!1};if(je.pipes.length===0)return this||_t;if(!Oe){const ut=je.pipes;je.pipes=[],this.pause();for(let Ut=0;Ut<ut.length;Ut++)ut[Ut].emit("unpipe",this||_t,{hasUnpiped:!1});return this||_t}const $t=t(je.pipes,Oe);return $t===-1?this||_t:(je.pipes.splice($t,1),je.pipes.length===0&&this.pause(),Oe.emit("unpipe",this||_t,bt),this||_t)},Ve.prototype.on=function(Oe,je){const bt=g.prototype.on.call(this||_t,Oe,je),$t=(this||_t)._readableState;return Oe==="data"?($t.readableListening=this.listenerCount("readable")>0,$t.flowing!==!1&&this.resume()):Oe==="readable"&&!$t.endEmitted&&!$t.readableListening&&($t.readableListening=$t.needReadable=!0,$t.flowing=!1,$t.emittedReadable=!1,y("on readable",$t.length,$t.reading),$t.length?le(this||_t):$t.reading||e.nextTick(gt,this||_t)),bt},Ve.prototype.addListener=Ve.prototype.on,Ve.prototype.removeListener=function(Oe,je){const bt=g.prototype.removeListener.call(this||_t,Oe,je);return Oe==="readable"&&e.nextTick(Ye,this||_t),bt},Ve.prototype.off=Ve.prototype.removeListener,Ve.prototype.removeAllListeners=function(Oe){const je=g.prototype.removeAllListeners.apply(this||_t,arguments);return(Oe==="readable"||Oe===void 0)&&e.nextTick(Ye,this||_t),je};function Ye(Oe){const je=Oe._readableState;je.readableListening=Oe.listenerCount("readable")>0,je.resumeScheduled&&je[ne]===!1?je.flowing=!0:Oe.listenerCount("data")>0?Oe.resume():je.readableListening||(je.flowing=null)}function gt(Oe){y("readable nexttick read 0"),Oe.read(0)}Ve.prototype.resume=function(){const Oe=(this||_t)._readableState;return Oe.flowing||(y("resume"),Oe.flowing=!Oe.readableListening,Ot(this||_t,Oe)),Oe[ne]=!1,this||_t};function Ot(Oe,je){je.resumeScheduled||(je.resumeScheduled=!0,e.nextTick(yt,Oe,je))}function yt(Oe,je){y("resume",je.reading),je.reading||Oe.read(0),je.resumeScheduled=!1,Oe.emit("resume"),Xt(Oe),je.flowing&&!je.reading&&Oe.read(0)}Ve.prototype.pause=function(){return y("call pause flowing=%j",(this||_t)._readableState.flowing),(this||_t)._readableState.flowing!==!1&&(y("pause"),(this||_t)._readableState.flowing=!1,this.emit("pause")),(this||_t)._readableState[ne]=!0,this||_t};function Xt(Oe){const je=Oe._readableState;for(y("flow",je.flowing);je.flowing&&Oe.read()!==null;);}Ve.prototype.wrap=function(Oe){let je=!1;Oe.on("data",$t=>{!this.push($t)&&Oe.pause&&(je=!0,Oe.pause())}),Oe.on("end",()=>{this.push(null)}),Oe.on("error",$t=>{D(this||_t,$t)}),Oe.on("close",()=>{this.destroy()}),Oe.on("destroy",()=>{this.destroy()}),(this||_t)._read=()=>{je&&Oe.resume&&(je=!1,Oe.resume())};const bt=s(Oe);for(let $t=1;$t<bt.length;$t++){const ut=bt[$t];(this||_t)[ut]===void 0&&typeof Oe[ut]=="function"&&((this||_t)[ut]=Oe[ut].bind(Oe))}return this||_t},Ve.prototype[c]=function(){return Xr(this||_t)},Ve.prototype.iterator=function(Oe){return Oe!==void 0&&G(Oe,"options"),Xr(this||_t,Oe)};function Xr(Oe,je){typeof Oe.read!="function"&&(Oe=Ve.wrap(Oe,{objectMode:!0}));const bt=tn(Oe,je);return bt.stream=Oe,bt}async function*tn(Oe,je){let bt=se;function $t(Bt){(this||_t)===Oe?(bt(),bt=se):bt=Bt}Oe.on("readable",$t);let ut;const Ut=E(Oe,{writable:!1},Bt=>{ut=Bt?x(ut,Bt):null,bt(),bt=se});try{for(;;){const Bt=Oe.destroyed?null:Oe.read();if(Bt!==null)yield Bt;else{if(ut)throw ut;if(ut===null)return;await new l($t)}}}catch(Bt){throw ut=x(ut,Bt),ut}finally{(ut||(je==null?void 0:je.destroyOnReturn)!==!1)&&(ut===void 0||Oe._readableState.autoDestroy)?T.destroyer(Oe,null):(Oe.off("readable",$t),Ut())}}o(Ve.prototype,{readable:{__proto__:null,get(){const Oe=(this||_t)._readableState;return!!Oe&&Oe.readable!==!1&&!Oe.destroyed&&!Oe.errorEmitted&&!Oe.endEmitted},set(Oe){(this||_t)._readableState&&((this||_t)._readableState.readable=!!Oe)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return(this||_t)._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||_t)._readableState.readable!==!1&&((this||_t)._readableState.destroyed||(this||_t)._readableState.errored)&&!(this||_t)._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return(this||_t)._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return(this||_t)._readableState&&(this||_t)._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return(this||_t)._readableState.flowing},set:function(Oe){(this||_t)._readableState&&((this||_t)._readableState.flowing=Oe)}},readableLength:{__proto__:null,enumerable:!1,get(){return(this||_t)._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return(this||_t)._readableState?(this||_t)._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return(this||_t)._readableState?(this||_t)._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return(this||_t)._readableState?(this||_t)._readableState.errored:null}},closed:{__proto__:null,get(){return(this||_t)._readableState?(this||_t)._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return(this||_t)._readableState?(this||_t)._readableState.destroyed:!1},set(Oe){(this||_t)._readableState&&((this||_t)._readableState.destroyed=Oe)}},readableEnded:{__proto__:null,enumerable:!1,get(){return(this||_t)._readableState?(this||_t)._readableState.endEmitted:!1}}}),o(Ge.prototype,{pipesCount:{__proto__:null,get(){return(this||_t).pipes.length}},paused:{__proto__:null,get(){return(this||_t)[ne]!==!1},set(Oe){(this||_t)[ne]=!!Oe}}}),Ve._fromList=Tr;function Tr(Oe,je){if(je.length===0)return null;let bt;return je.objectMode?bt=je.buffer.shift():!Oe||Oe>=je.length?(je.decoder?bt=je.buffer.join(""):je.buffer.length===1?bt=je.buffer.first():bt=je.buffer.concat(je.length),je.buffer.clear()):bt=je.buffer.consume(Oe,je.decoder),bt}function Rr(Oe){const je=Oe._readableState;y("endReadable",je.endEmitted),je.endEmitted||(je.ended=!0,e.nextTick(jn,je,Oe))}function jn(Oe,je){if(y("endReadableNT",Oe.endEmitted,Oe.length),!Oe.errored&&!Oe.closeEmitted&&!Oe.endEmitted&&Oe.length===0){if(Oe.endEmitted=!0,je.emit("end"),je.writable&&je.allowHalfOpen===!1)e.nextTick(_r,je);else if(Oe.autoDestroy){const bt=je._writableState;(!bt||bt.autoDestroy&&(bt.finished||bt.writable===!1))&&je.destroy()}}}function _r(Oe){Oe.writable&&!Oe.writableEnded&&!Oe.destroyed&&Oe.end()}Ve.from=function(Oe,je){return re(Ve,Oe,je)};let Qt;function hr(){return Qt===void 0&&(Qt={}),Qt}return Ve.fromWeb=function(Oe,je){return hr().newStreamReadableFromReadableStream(Oe,je)},Ve.toWeb=function(Oe,je){return hr().newReadableStreamFromStreamReadable(Oe,je)},Ve.wrap=function(Oe,je){var bt,$t;return new Ve({objectMode:(bt=($t=Oe.readableObjectMode)!==null&&$t!==void 0?$t:Oe.objectMode)!==null&&bt!==void 0?bt:!0,...je,destroy(ut,Ut){T.destroyer(Oe,ut),Ut(ut)}}).wrap(Oe)},uE}function pk(){if(WN)return cE;WN=!0;const e=co,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:a,Symbol:l,SymbolHasInstance:u}=Ti();cE=G,G.WritableState=K;const{EventEmitter:f}=Ru,c=hk().Stream,{Buffer:h}=Js(),m=ug(),{addAbortSignal:g}=iT(),{getHighWaterMark:_,getDefaultHighWaterMark:v}=oT(),{ERR_INVALID_ARG_TYPE:p,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:y,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:$,ERR_STREAM_NULL_VALUES:d,ERR_STREAM_WRITE_AFTER_END:x,ERR_UNKNOWN_ENCODING:O}=Xs().codes,{errorOrDestroy:P}=m;s(G.prototype,c.prototype),s(G,c);function M(){}const U=l("kOnFinished");function K(F,L,ee){typeof ee!="boolean"&&(ee=L instanceof Dc()),(this||jt).objectMode=!!(F&&F.objectMode),ee&&((this||jt).objectMode=(this||jt).objectMode||!!(F&&F.writableObjectMode)),(this||jt).highWaterMark=F?_(this||jt,F,"writableHighWaterMark",ee):v(!1),(this||jt).finalCalled=!1,(this||jt).needDrain=!1,(this||jt).ending=!1,(this||jt).ended=!1,(this||jt).finished=!1,(this||jt).destroyed=!1;const ce=!!(F&&F.decodeStrings===!1);(this||jt).decodeStrings=!ce,(this||jt).defaultEncoding=F&&F.defaultEncoding||"utf8",(this||jt).length=0,(this||jt).writing=!1,(this||jt).corked=0,(this||jt).sync=!0,(this||jt).bufferProcessing=!1,(this||jt).onwrite=D.bind(void 0,L),(this||jt).writecb=null,(this||jt).writelen=0,(this||jt).afterWriteTickInfo=null,ie(this||jt),(this||jt).pendingcb=0,(this||jt).constructed=!0,(this||jt).prefinished=!1,(this||jt).errorEmitted=!1,(this||jt).emitClose=!F||F.emitClose!==!1,(this||jt).autoDestroy=!F||F.autoDestroy!==!1,(this||jt).errored=null,(this||jt).closed=!1,(this||jt).closeEmitted=!1,(this||jt)[U]=[]}function ie(F){F.buffered=[],F.bufferedIndex=0,F.allBuffers=!0,F.allNoop=!0}K.prototype.getBuffer=function(){return t((this||jt).buffered,(this||jt).bufferedIndex)},i(K.prototype,"bufferedRequestCount",{__proto__:null,get(){return(this||jt).buffered.length-(this||jt).bufferedIndex}});function G(F){const L=(this||jt)instanceof Dc();if(!L&&!n(G,this||jt))return new G(F);(this||jt)._writableState=new K(F,this||jt,L),F&&(typeof F.write=="function"&&((this||jt)._write=F.write),typeof F.writev=="function"&&((this||jt)._writev=F.writev),typeof F.destroy=="function"&&((this||jt)._destroy=F.destroy),typeof F.final=="function"&&((this||jt)._final=F.final),typeof F.construct=="function"&&((this||jt)._construct=F.construct),F.signal&&g(F.signal,this||jt)),c.call(this||jt,F),m.construct(this||jt,()=>{const ee=(this||jt)._writableState;ee.writing||I(this||jt,ee),te(this||jt,ee)})}i(G,u,{__proto__:null,value:function(F){return n(this||jt,F)?!0:(this||jt)!==G?!1:F&&F._writableState instanceof K}}),G.prototype.pipe=function(){P(this||jt,new S)};function ne(F,L,ee,ce){const me=F._writableState;if(typeof ee=="function")ce=ee,ee=me.defaultEncoding;else{if(!ee)ee=me.defaultEncoding;else if(ee!=="buffer"&&!h.isEncoding(ee))throw new O(ee);typeof ce!="function"&&(ce=M)}if(L===null)throw new d;if(!me.objectMode)if(typeof L=="string")me.decodeStrings!==!1&&(L=h.from(L,ee),ee="buffer");else if(L instanceof h)ee="buffer";else if(c._isUint8Array(L))L=c._uint8ArrayToBuffer(L),ee="buffer";else throw new p("chunk",["string","Buffer","Uint8Array"],L);let ve;return me.ending?ve=new x:me.destroyed&&(ve=new T("write")),ve?(e.nextTick(ce,ve),P(F,ve,!0),ve):(me.pendingcb++,ge(F,me,L,ee,ce))}G.prototype.write=function(F,L,ee){return ne(this||jt,F,L,ee)===!0},G.prototype.cork=function(){(this||jt)._writableState.corked++},G.prototype.uncork=function(){const F=(this||jt)._writableState;F.corked&&(F.corked--,F.writing||I(this||jt,F))},G.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=a(L)),!h.isEncoding(L))throw new O(L);return(this||jt)._writableState.defaultEncoding=L,this||jt};function ge(F,L,ee,ce,me){const ve=L.objectMode?1:ee.length;L.length+=ve;const Te=L.length<L.highWaterMark;return Te||(L.needDrain=!0),L.writing||L.corked||L.errored||!L.constructed?(L.buffered.push({chunk:ee,encoding:ce,callback:me}),L.allBuffers&&ce!=="buffer"&&(L.allBuffers=!1),L.allNoop&&me!==M&&(L.allNoop=!1)):(L.writelen=ve,L.writecb=me,L.writing=!0,L.sync=!0,F._write(ee,ce,L.onwrite),L.sync=!1),Te&&!L.errored&&!L.destroyed}function re(F,L,ee,ce,me,ve,Te){L.writelen=ce,L.writecb=Te,L.writing=!0,L.sync=!0,L.destroyed?L.onwrite(new T("write")):ee?F._writev(me,L.onwrite):F._write(me,ve,L.onwrite),L.sync=!1}function se(F,L,ee,ce){--L.pendingcb,ce(ee),N(L),P(F,ee)}function D(F,L){const ee=F._writableState,ce=ee.sync,me=ee.writecb;if(typeof me!="function"){P(F,new y);return}ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0,L?(L.stack,ee.errored||(ee.errored=L),F._readableState&&!F._readableState.errored&&(F._readableState.errored=L),ce?e.nextTick(se,F,ee,L,me):se(F,ee,L,me)):(ee.buffered.length>ee.bufferedIndex&&I(F,ee),ce?ee.afterWriteTickInfo!==null&&ee.afterWriteTickInfo.cb===me?ee.afterWriteTickInfo.count++:(ee.afterWriteTickInfo={count:1,cb:me,stream:F,state:ee},e.nextTick(z,ee.afterWriteTickInfo)):Y(F,ee,1,me))}function z({stream:F,state:L,count:ee,cb:ce}){return L.afterWriteTickInfo=null,Y(F,L,ee,ce)}function Y(F,L,ee,ce){for(!L.ending&&!F.destroyed&&L.length===0&&L.needDrain&&(L.needDrain=!1,F.emit("drain"));ee-- >0;)L.pendingcb--,ce();L.destroyed&&N(L),te(F,L)}function N(F){if(F.writing)return;for(let me=F.bufferedIndex;me<F.buffered.length;++me){var L;const{chunk:ve,callback:Te}=F.buffered[me],De=F.objectMode?1:ve.length;F.length-=De,Te((L=F.errored)!==null&&L!==void 0?L:new T("write"))}const ee=F[U].splice(0);for(let me=0;me<ee.length;me++){var ce;ee[me]((ce=F.errored)!==null&&ce!==void 0?ce:new T("end"))}ie(F)}function I(F,L){if(L.corked||L.bufferProcessing||L.destroyed||!L.constructed)return;const{buffered:ee,bufferedIndex:ce,objectMode:me}=L,ve=ee.length-ce;if(!ve)return;let Te=ce;if(L.bufferProcessing=!0,ve>1&&F._writev){L.pendingcb-=ve-1;const De=L.allNoop?M:Ve=>{for(let ht=Te;ht<ee.length;++ht)ee[ht].callback(Ve)},Ge=L.allNoop&&Te===0?ee:t(ee,Te);Ge.allBuffers=L.allBuffers,re(F,L,!0,L.length,Ge,"",De),ie(L)}else{do{const{chunk:De,encoding:Ge,callback:Ve}=ee[Te];ee[Te++]=null;const ht=me?1:De.length;re(F,L,!1,ht,De,Ge,Ve)}while(Te<ee.length&&!L.writing);Te===ee.length?ie(L):Te>256?(ee.splice(0,Te),L.bufferedIndex=0):L.bufferedIndex=Te}L.bufferProcessing=!1}G.prototype._write=function(F,L,ee){if((this||jt)._writev)this._writev([{chunk:F,encoding:L}],ee);else throw new E("_write()")},G.prototype._writev=null,G.prototype.end=function(F,L,ee){const ce=(this||jt)._writableState;typeof F=="function"?(ee=F,F=null,L=null):typeof L=="function"&&(ee=L,L=null);let me;if(F!=null){const ve=ne(this||jt,F,L);ve instanceof r&&(me=ve)}return ce.corked&&(ce.corked=1,this.uncork()),me||(!ce.errored&&!ce.ending?(ce.ending=!0,te(this||jt,ce,!0),ce.ended=!0):ce.finished?me=new $("end"):ce.destroyed&&(me=new T("end"))),typeof ee=="function"&&(me||ce.finished?e.nextTick(ee,me):ce[U].push(ee)),this||jt};function q(F){return F.ending&&!F.destroyed&&F.constructed&&F.length===0&&!F.errored&&F.buffered.length===0&&!F.finished&&!F.writing&&!F.errorEmitted&&!F.closeEmitted}function ae(F,L){let ee=!1;function ce(me){if(ee){P(F,me??y());return}if(ee=!0,L.pendingcb--,me){const ve=L[U].splice(0);for(let Te=0;Te<ve.length;Te++)ve[Te](me);P(F,me,L.sync)}else q(L)&&(L.prefinished=!0,F.emit("prefinish"),L.pendingcb++,e.nextTick(ue,F,L))}L.sync=!0,L.pendingcb++;try{F._final(ce)}catch(me){ce(me)}L.sync=!1}function Z(F,L){!L.prefinished&&!L.finalCalled&&(typeof F._final=="function"&&!L.destroyed?(L.finalCalled=!0,ae(F,L)):(L.prefinished=!0,F.emit("prefinish")))}function te(F,L,ee){q(L)&&(Z(F,L),L.pendingcb===0&&(ee?(L.pendingcb++,e.nextTick((ce,me)=>{q(me)?ue(ce,me):me.pendingcb--},F,L)):q(L)&&(L.pendingcb++,ue(F,L))))}function ue(F,L){L.pendingcb--,L.finished=!0;const ee=L[U].splice(0);for(let ce=0;ce<ee.length;ce++)ee[ce]();if(F.emit("finish"),L.autoDestroy){const ce=F._readableState;(!ce||ce.autoDestroy&&(ce.endEmitted||ce.readable===!1))&&F.destroy()}}o(G.prototype,{closed:{__proto__:null,get(){return(this||jt)._writableState?(this||jt)._writableState.closed:!1}},destroyed:{__proto__:null,get(){return(this||jt)._writableState?(this||jt)._writableState.destroyed:!1},set(F){(this||jt)._writableState&&((this||jt)._writableState.destroyed=F)}},writable:{__proto__:null,get(){const F=(this||jt)._writableState;return!!F&&F.writable!==!1&&!F.destroyed&&!F.errored&&!F.ending&&!F.ended},set(F){(this||jt)._writableState&&((this||jt)._writableState.writable=!!F)}},writableFinished:{__proto__:null,get(){return(this||jt)._writableState?(this||jt)._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return(this||jt)._writableState?(this||jt)._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return(this||jt)._writableState&&(this||jt)._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return(this||jt)._writableState?(this||jt)._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const F=(this||jt)._writableState;return F?!F.destroyed&&!F.ending&&F.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return(this||jt)._writableState&&(this||jt)._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return(this||jt)._writableState?(this||jt)._writableState.corked:0}},writableLength:{__proto__:null,get(){return(this||jt)._writableState&&(this||jt)._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return(this||jt)._writableState?(this||jt)._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||jt)._writableState.writable!==!1&&((this||jt)._writableState.destroyed||(this||jt)._writableState.errored)&&!(this||jt)._writableState.finished)}}});const xe=m.destroy;G.prototype.destroy=function(F,L){const ee=(this||jt)._writableState;return!ee.destroyed&&(ee.bufferedIndex<ee.buffered.length||ee[U].length)&&e.nextTick(N,ee),xe.call(this||jt,F,L),this||jt},G.prototype._undestroy=m.undestroy,G.prototype._destroy=function(F,L){L(F)},G.prototype[f.captureRejectionSymbol]=function(F){this.destroy(F)};let Le;function C(){return Le===void 0&&(Le={}),Le}return G.fromWeb=function(F,L){return C().newStreamWritableFromWritableStream(F,L)},G.toWeb=function(F){return C().newWritableStreamFromStreamWritable(F)},cE}function jpe(){if(GN)return fE;GN=!0;const e=co,t=Js(),{isReadable:r,isWritable:n,isIterable:i,isNodeStream:o,isReadableNodeStream:s,isWritableNodeStream:a,isDuplexNodeStream:l,isReadableStream:u,isWritableStream:f}=Vc(),c=yd(),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:g}}=Xs(),{destroyer:_}=ug(),v=Dc(),p=sT(),E=pk(),{createDeferredPromise:y}=gs(),S=uG(),T=globalThis.Blob||t.Blob,$=typeof T<"u"?function(K){return K instanceof T}:function(K){return!1},d=globalThis.AbortController||$y().AbortController,{FunctionPrototypeCall:x}=Ti();class O extends v{constructor(K){super(K),(K==null?void 0:K.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(K==null?void 0:K.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}fE=function U(K,ie){if(l(K))return K;if(s(K))return M({readable:K});if(a(K))return M({writable:K});if(o(K))return M({writable:!1,readable:!1});if(u(K))return M({readable:p.fromWeb(K)});if(f(K))return M({writable:E.fromWeb(K)});if(typeof K=="function"){const{value:ne,write:ge,final:re,destroy:se}=P(K);if(i(ne))return S(O,ne,{objectMode:!0,write:ge,final:re,destroy:se});const D=ne==null?void 0:ne.then;if(typeof D=="function"){let z;const Y=x(D,ne,N=>{if(N!=null)throw new g("nully","body",N)},N=>{_(z,N)});return z=new O({objectMode:!0,readable:!1,write:ge,final(N){re(async()=>{try{await Y,e.nextTick(N,null)}catch(I){e.nextTick(N,I)}})},destroy:se})}throw new g("Iterable, AsyncIterable or AsyncFunction",ie,ne)}if($(K))return U(K.arrayBuffer());if(i(K))return S(O,K,{objectMode:!0,writable:!1});if(u(K==null?void 0:K.readable)&&f(K==null?void 0:K.writable))return O.fromWeb(K);if(typeof(K==null?void 0:K.writable)=="object"||typeof(K==null?void 0:K.readable)=="object"){const ne=K!=null&&K.readable?s(K==null?void 0:K.readable)?K==null?void 0:K.readable:U(K.readable):void 0,ge=K!=null&&K.writable?a(K==null?void 0:K.writable)?K==null?void 0:K.writable:U(K.writable):void 0;return M({readable:ne,writable:ge})}const G=K==null?void 0:K.then;if(typeof G=="function"){let ne;return x(G,K,ge=>{ge!=null&&ne.push(ge),ne.push(null)},ge=>{_(ne,ge)}),ne=new O({objectMode:!0,writable:!1,read(){}})}throw new m(ie,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],K)};function P(U){let{promise:K,resolve:ie}=y();const G=new d,ne=G.signal;return{value:U(async function*(){for(;;){const re=K;K=null;const{chunk:se,done:D,cb:z}=await re;if(e.nextTick(z),D)return;if(ne.aborted)throw new h(void 0,{cause:ne.reason});({promise:K,resolve:ie}=y()),yield se}}(),{signal:ne}),write(re,se,D){const z=ie;ie=null,z({chunk:re,done:!1,cb:D})},final(re){const se=ie;ie=null,se({done:!0,cb:re})},destroy(re,se){G.abort(),se(re)}}}function M(U){const K=U.readable&&typeof U.readable.read!="function"?p.wrap(U.readable):U.readable,ie=U.writable;let G=!!r(K),ne=!!n(ie),ge,re,se,D,z;function Y(N){const I=D;D=null,I?I(N):N&&z.destroy(N)}return z=new O({readableObjectMode:!!(K!=null&&K.readableObjectMode),writableObjectMode:!!(ie!=null&&ie.writableObjectMode),readable:G,writable:ne}),ne&&(c(ie,N=>{ne=!1,N&&_(K,N),Y(N)}),z._write=function(N,I,q){ie.write(N,I)?q():ge=q},z._final=function(N){ie.end(),re=N},ie.on("drain",function(){if(ge){const N=ge;ge=null,N()}}),ie.on("finish",function(){if(re){const N=re;re=null,N()}})),G&&(c(K,N=>{G=!1,N&&_(K,N),Y(N)}),K.on("readable",function(){if(se){const N=se;se=null,N()}}),K.on("end",function(){z.push(null)}),z._read=function(){for(;;){const N=K.read();if(N===null){se=z._read;return}if(!z.push(N))return}}),z._destroy=function(N,I){!N&&D!==null&&(N=new h),se=null,ge=null,re=null,D===null?I(N):(D=I,_(ie,N),_(K,N))},z}return fE}function Dc(){if(KN)return dE;KN=!0;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Ti();dE=s;const i=sT(),o=pk();n(s.prototype,i.prototype),n(s,i);{const f=r(o.prototype);for(let c=0;c<f.length;c++){const h=f[c];s.prototype[h]||(s.prototype[h]=o.prototype[h])}}function s(f){if(!(this instanceof s))return new s(f);i.call(this,f),o.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(s.prototype,{writable:{__proto__:null,...t(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(o.prototype,"writableLength")},writableFinished:{__proto__:null,...t(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});let a;function l(){return a===void 0&&(a={}),a}s.fromWeb=function(f,c){return l().newStreamDuplexFromReadableWritablePair(f,c)},s.toWeb=function(f){return l().newReadableWritablePairFromDuplex(f)};let u;return s.from=function(f){return u||(u=jpe()),u(f,"body")},dE}function cG(){if(JN)return hE;JN=!0;const{ObjectSetPrototypeOf:e,Symbol:t}=Ti();hE=s;const{ERR_METHOD_NOT_IMPLEMENTED:r}=Xs().codes,n=Dc(),{getHighWaterMark:i}=oT();e(s.prototype,n.prototype),e(s,n);const o=t("kCallback");function s(u){if(!(this instanceof s))return new s(u);const f=u?i(this,u,"readableHighWaterMark",!0):null;f===0&&(u={...u,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:u.writableHighWaterMark||0}),n.call(this,u),this._readableState.sync=!1,this[o]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function a(u){typeof this._flush=="function"&&!this.destroyed?this._flush((f,c)=>{if(f){u?u(f):this.destroy(f);return}c!=null&&this.push(c),this.push(null),u&&u()}):(this.push(null),u&&u())}function l(){this._final!==a&&a.call(this)}return s.prototype._final=a,s.prototype._transform=function(u,f,c){throw new r("_transform()")},s.prototype._write=function(u,f,c){const h=this._readableState,m=this._writableState,g=h.length;this._transform(u,f,(_,v)=>{if(_){c(_);return}v!=null&&this.push(v),m.ended||g===h.length||h.length<h.highWaterMark?c():this[o]=c})},s.prototype._read=function(){if(this[o]){const u=this[o];this[o]=null,u()}},hE}function fG(){if(YN)return pE;YN=!0;const{ObjectSetPrototypeOf:e}=Ti();pE=r;const t=cG();e(r.prototype,t.prototype),e(r,t);function r(n){if(!(this instanceof r))return new r(n);t.call(this,n)}return r.prototype._transform=function(n,i,o){o(null,n)},pE}function mk(){if(XN)return mE;XN=!0;const e=co,{ArrayIsArray:t,Promise:r,SymbolAsyncIterator:n,SymbolDispose:i}=Ti(),o=yd(),{once:s}=gs(),a=ug(),l=Dc(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:c,ERR_MISSING_ARGS:h,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:g},AbortError:_}=Xs(),{validateFunction:v,validateAbortSignal:p}=f0(),{isIterable:E,isReadable:y,isReadableNodeStream:S,isNodeStream:T,isTransformStream:$,isWebStream:d,isReadableStream:x,isReadableFinished:O}=Vc(),P=globalThis.AbortController||$y().AbortController;let M,U,K;function ie(N,I,q){let ae=!1;N.on("close",()=>{ae=!0});const Z=o(N,{readable:I,writable:q},te=>{ae=!te});return{destroy:te=>{ae||(ae=!0,a.destroyer(N,te||new m("pipe")))},cleanup:Z}}function G(N){return v(N[N.length-1],"streams[stream.length - 1]"),N.pop()}function ne(N){if(E(N))return N;if(S(N))return ge(N);throw new f("val",["Readable","Iterable","AsyncIterable"],N)}async function*ge(N){U||(U=sT()),yield*U.prototype[n].call(N)}async function re(N,I,q,{end:ae}){let Z,te=null;const ue=C=>{if(C&&(Z=C),te){const F=te;te=null,F()}},xe=()=>new r((C,F)=>{Z?F(Z):te=()=>{Z?F(Z):C()}});I.on("drain",ue);const Le=o(I,{readable:!1},ue);try{I.writableNeedDrain&&await xe();for await(const C of N)I.write(C)||await xe();ae&&(I.end(),await xe()),q()}catch(C){q(Z!==C?u(Z,C):C)}finally{Le(),I.off("drain",ue)}}async function se(N,I,q,{end:ae}){$(I)&&(I=I.writable);const Z=I.getWriter();try{for await(const te of N)await Z.ready,Z.write(te).catch(()=>{});await Z.ready,ae&&await Z.close(),q()}catch(te){try{await Z.abort(te),q(te)}catch(ue){q(ue)}}}function D(...N){return z(N,s(G(N)))}function z(N,I,q){if(N.length===1&&t(N[0])&&(N=N[0]),N.length<2)throw new h("streams");const ae=new P,Z=ae.signal,te=q==null?void 0:q.signal,ue=[];p(te,"options.signal");function xe(){me(new _)}K=K||gs().addAbortListener;let Le;te&&(Le=K(te,xe));let C,F;const L=[];let ee=0;function ce(Ge){me(Ge,--ee===0)}function me(Ge,Ve){var ht;if(Ge&&(!C||C.code==="ERR_STREAM_PREMATURE_CLOSE")&&(C=Ge),!(!C&&!Ve)){for(;L.length;)L.shift()(C);(ht=Le)===null||ht===void 0||ht[i](),ae.abort(),Ve&&(C||ue.forEach(tt=>tt()),e.nextTick(I,C,F))}}let ve;for(let Ge=0;Ge<N.length;Ge++){const Ve=N[Ge],ht=Ge<N.length-1,tt=Ge>0,Xe=ht||(q==null?void 0:q.end)!==!1,Q=Ge===N.length-1;if(T(Ve)){let k=function(B){B&&B.name!=="AbortError"&&B.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ce(B)};if(Xe){const{destroy:B,cleanup:le}=ie(Ve,ht,tt);L.push(B),y(Ve)&&Q&&ue.push(le)}Ve.on("error",k),y(Ve)&&Q&&ue.push(()=>{Ve.removeListener("error",k)})}if(Ge===0)if(typeof Ve=="function"){if(ve=Ve({signal:Z}),!E(ve))throw new c("Iterable, AsyncIterable or Stream","source",ve)}else E(Ve)||S(Ve)||$(Ve)?ve=Ve:ve=l.from(Ve);else if(typeof Ve=="function"){if($(ve)){var Te;ve=ne((Te=ve)===null||Te===void 0?void 0:Te.readable)}else ve=ne(ve);if(ve=Ve(ve,{signal:Z}),ht){if(!E(ve,!0))throw new c("AsyncIterable",`transform[${Ge-1}]`,ve)}else{var De;M||(M=fG());const k=new M({objectMode:!0}),B=(De=ve)===null||De===void 0?void 0:De.then;if(typeof B=="function")ee++,B.call(ve,Pe=>{F=Pe,Pe!=null&&k.write(Pe),Xe&&k.end(),e.nextTick(ce)},Pe=>{k.destroy(Pe),e.nextTick(ce,Pe)});else if(E(ve,!0))ee++,re(ve,k,ce,{end:Xe});else if(x(ve)||$(ve)){const Pe=ve.readable||ve;ee++,re(Pe,k,ce,{end:Xe})}else throw new c("AsyncIterable or Promise","destination",ve);ve=k;const{destroy:le,cleanup:Ee}=ie(ve,!1,!0);L.push(le),Q&&ue.push(Ee)}}else if(T(Ve)){if(S(ve)){ee+=2;const k=Y(ve,Ve,ce,{end:Xe});y(Ve)&&Q&&ue.push(k)}else if($(ve)||x(ve)){const k=ve.readable||ve;ee++,re(k,Ve,ce,{end:Xe})}else if(E(ve))ee++,re(ve,Ve,ce,{end:Xe});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ve);ve=Ve}else if(d(Ve)){if(S(ve))ee++,se(ne(ve),Ve,ce,{end:Xe});else if(x(ve)||E(ve))ee++,se(ve,Ve,ce,{end:Xe});else if($(ve))ee++,se(ve.readable,Ve,ce,{end:Xe});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ve);ve=Ve}else ve=l.from(Ve)}return(Z!=null&&Z.aborted||te!=null&&te.aborted)&&e.nextTick(xe),ve}function Y(N,I,q,{end:ae}){let Z=!1;if(I.on("close",()=>{Z||q(new g)}),N.pipe(I,{end:!1}),ae){let te=function(){Z=!0,I.end()};O(N)?e.nextTick(te):N.once("end",te)}else q();return o(N,{readable:!0,writable:!1},te=>{const ue=N._readableState;te&&te.code==="ERR_STREAM_PREMATURE_CLOSE"&&ue&&ue.ended&&!ue.errored&&!ue.errorEmitted?N.once("end",q).once("error",q):q(te)}),o(I,{readable:!1,writable:!0},q)}return mE={pipelineImpl:z,pipeline:D},mE}function dG(){if(QN)return gE;QN=!0;const{pipeline:e}=mk(),t=Dc(),{destroyer:r}=ug(),{isNodeStream:n,isReadable:i,isWritable:o,isWebStream:s,isTransformStream:a,isWritableStream:l,isReadableStream:u}=Vc(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:c,ERR_MISSING_ARGS:h}}=Xs(),m=yd();return gE=function(..._){if(_.length===0)throw new h("streams");if(_.length===1)return t.from(_[0]);const v=[..._];if(typeof _[0]=="function"&&(_[0]=t.from(_[0])),typeof _[_.length-1]=="function"){const M=_.length-1;_[M]=t.from(_[M])}for(let M=0;M<_.length;++M)if(!(!n(_[M])&&!s(_[M]))){if(M<_.length-1&&!(i(_[M])||u(_[M])||a(_[M])))throw new c(`streams[${M}]`,v[M],"must be readable");if(M>0&&!(o(_[M])||l(_[M])||a(_[M])))throw new c(`streams[${M}]`,v[M],"must be writable")}let p,E,y,S,T;function $(M){const U=S;S=null,U?U(M):M?T.destroy(M):!P&&!O&&T.destroy()}const d=_[0],x=e(_,$),O=!!(o(d)||l(d)||a(d)),P=!!(i(x)||u(x)||a(x));if(T=new t({writableObjectMode:!!(d!=null&&d.writableObjectMode),readableObjectMode:!!(x!=null&&x.readableObjectMode),writable:O,readable:P}),O){if(n(d))T._write=function(U,K,ie){d.write(U,K)?ie():p=ie},T._final=function(U){d.end(),E=U},d.on("drain",function(){if(p){const U=p;p=null,U()}});else if(s(d)){const K=(a(d)?d.writable:d).getWriter();T._write=async function(ie,G,ne){try{await K.ready,K.write(ie).catch(()=>{}),ne()}catch(ge){ne(ge)}},T._final=async function(ie){try{await K.ready,K.close().catch(()=>{}),E=ie}catch(G){ie(G)}}}const M=a(x)?x.readable:x;m(M,()=>{if(E){const U=E;E=null,U()}})}if(P){if(n(x))x.on("readable",function(){if(y){const M=y;y=null,M()}}),x.on("end",function(){T.push(null)}),T._read=function(){for(;;){const M=x.read();if(M===null){y=T._read;return}if(!T.push(M))return}};else if(s(x)){const U=(a(x)?x.readable:x).getReader();T._read=async function(){for(;;)try{const{value:K,done:ie}=await U.read();if(!T.push(K))return;if(ie){T.push(null);return}}catch{return}}}}return T._destroy=function(M,U){!M&&S!==null&&(M=new f),y=null,p=null,E=null,S===null?U(M):(S=U,n(x)&&r(x,M))},T},gE}function Dpe(){if(ZN)return Sv;ZN=!0;const e=globalThis.AbortController||$y().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:o}=Xs(),{validateAbortSignal:s,validateInteger:a,validateObject:l}=f0(),u=Ti().Symbol("kWeak"),f=Ti().Symbol("kResistStopPropagation"),{finished:c}=yd(),h=dG(),{addAbortSignalNoValidate:m}=iT(),{isWritable:g,isNodeStream:_}=Vc(),{deprecate:v}=gs(),{ArrayPrototypePush:p,Boolean:E,MathFloor:y,Number:S,NumberIsNaN:T,Promise:$,PromiseReject:d,PromiseResolve:x,PromisePrototypeThen:O,Symbol:P}=Ti(),M=P("kEmpty"),U=P("kEof");function K(te,ue){if(ue!=null&&l(ue,"options"),(ue==null?void 0:ue.signal)!=null&&s(ue.signal,"options.signal"),_(te)&&!g(te))throw new t("stream",te,"must be writable");const xe=h(this,te);return ue!=null&&ue.signal&&m(ue.signal,xe),xe}function ie(te,ue){if(typeof te!="function")throw new r("fn",["Function","AsyncFunction"],te);ue!=null&&l(ue,"options"),(ue==null?void 0:ue.signal)!=null&&s(ue.signal,"options.signal");let xe=1;(ue==null?void 0:ue.concurrency)!=null&&(xe=y(ue.concurrency));let Le=xe-1;return(ue==null?void 0:ue.highWaterMark)!=null&&(Le=y(ue.highWaterMark)),a(xe,"options.concurrency",1),a(Le,"options.highWaterMark",0),Le+=xe,(async function*(){const F=gs().AbortSignalAny([ue==null?void 0:ue.signal].filter(E)),L=this,ee=[],ce={signal:F};let me,ve,Te=!1,De=0;function Ge(){Te=!0,Ve()}function Ve(){De-=1,ht()}function ht(){ve&&!Te&&De<xe&&ee.length<Le&&(ve(),ve=null)}async function tt(){try{for await(let Xe of L){if(Te)return;if(F.aborted)throw new o;try{if(Xe=te(Xe,ce),Xe===M)continue;Xe=x(Xe)}catch(Q){Xe=d(Q)}De+=1,O(Xe,Ve,Ge),ee.push(Xe),me&&(me(),me=null),!Te&&(ee.length>=Le||De>=xe)&&await new $(Q=>{ve=Q})}ee.push(U)}catch(Xe){const Q=d(Xe);O(Q,Ve,Ge),ee.push(Q)}finally{Te=!0,me&&(me(),me=null)}}tt();try{for(;;){for(;ee.length>0;){const Xe=await ee[0];if(Xe===U)return;if(F.aborted)throw new o;Xe!==M&&(yield Xe),ee.shift(),ht()}await new $(Xe=>{me=Xe})}}finally{Te=!0,ve&&(ve(),ve=null)}}).call(this)}function G(te=void 0){return te!=null&&l(te,"options"),(te==null?void 0:te.signal)!=null&&s(te.signal,"options.signal"),(async function*(){let xe=0;for await(const C of this){var Le;if(te!=null&&(Le=te.signal)!==null&&Le!==void 0&&Le.aborted)throw new o({cause:te.signal.reason});yield[xe++,C]}}).call(this)}async function ne(te,ue=void 0){for await(const xe of D.call(this,te,ue))return!0;return!1}async function ge(te,ue=void 0){if(typeof te!="function")throw new r("fn",["Function","AsyncFunction"],te);return!await ne.call(this,async(...xe)=>!await te(...xe),ue)}async function re(te,ue){for await(const xe of D.call(this,te,ue))return xe}async function se(te,ue){if(typeof te!="function")throw new r("fn",["Function","AsyncFunction"],te);async function xe(Le,C){return await te(Le,C),M}for await(const Le of ie.call(this,xe,ue));}function D(te,ue){if(typeof te!="function")throw new r("fn",["Function","AsyncFunction"],te);async function xe(Le,C){return await te(Le,C)?Le:M}return ie.call(this,xe,ue)}class z extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Y(te,ue,xe){var Le;if(typeof te!="function")throw new r("reducer",["Function","AsyncFunction"],te);xe!=null&&l(xe,"options"),(xe==null?void 0:xe.signal)!=null&&s(xe.signal,"options.signal");let C=arguments.length>1;if(xe!=null&&(Le=xe.signal)!==null&&Le!==void 0&&Le.aborted){const me=new o(void 0,{cause:xe.signal.reason});throw this.once("error",()=>{}),await c(this.destroy(me)),me}const F=new e,L=F.signal;if(xe!=null&&xe.signal){const me={once:!0,[u]:this,[f]:!0};xe.signal.addEventListener("abort",()=>F.abort(),me)}let ee=!1;try{for await(const me of this){var ce;if(ee=!0,xe!=null&&(ce=xe.signal)!==null&&ce!==void 0&&ce.aborted)throw new o;C?ue=await te(ue,me,{signal:L}):(ue=me,C=!0)}if(!ee&&!C)throw new z}finally{F.abort()}return ue}async function N(te){te!=null&&l(te,"options"),(te==null?void 0:te.signal)!=null&&s(te.signal,"options.signal");const ue=[];for await(const Le of this){var xe;if(te!=null&&(xe=te.signal)!==null&&xe!==void 0&&xe.aborted)throw new o(void 0,{cause:te.signal.reason});p(ue,Le)}return ue}function I(te,ue){const xe=ie.call(this,te,ue);return(async function*(){for await(const C of xe)yield*C}).call(this)}function q(te){if(te=S(te),T(te))return 0;if(te<0)throw new i("number",">= 0",te);return te}function ae(te,ue=void 0){return ue!=null&&l(ue,"options"),(ue==null?void 0:ue.signal)!=null&&s(ue.signal,"options.signal"),te=q(te),(async function*(){var Le;if(ue!=null&&(Le=ue.signal)!==null&&Le!==void 0&&Le.aborted)throw new o;for await(const F of this){var C;if(ue!=null&&(C=ue.signal)!==null&&C!==void 0&&C.aborted)throw new o;te--<=0&&(yield F)}}).call(this)}function Z(te,ue=void 0){return ue!=null&&l(ue,"options"),(ue==null?void 0:ue.signal)!=null&&s(ue.signal,"options.signal"),te=q(te),(async function*(){var Le;if(ue!=null&&(Le=ue.signal)!==null&&Le!==void 0&&Le.aborted)throw new o;for await(const F of this){var C;if(ue!=null&&(C=ue.signal)!==null&&C!==void 0&&C.aborted)throw new o;if(te-- >0&&(yield F),te<=0)return}}).call(this)}return Sv.streamReturningOperators={asIndexedPairs:v(G,"readable.asIndexedPairs will be removed in a future version."),drop:ae,filter:D,flatMap:I,map:ie,take:Z,compose:K},Sv.promiseReturningOperators={every:ge,forEach:se,reduce:Y,toArray:N,some:ne,find:re},Sv}function hG(){if(eI)return vE;eI=!0;const{ArrayPrototypePop:e,Promise:t}=Ti(),{isIterable:r,isNodeStream:n,isWebStream:i}=Vc(),{pipelineImpl:o}=mk(),{finished:s}=yd();pG();function a(...l){return new t((u,f)=>{let c,h;const m=l[l.length-1];if(m&&typeof m=="object"&&!n(m)&&!r(m)&&!i(m)){const g=e(l);c=g.signal,h=g.end}o(l,(g,_)=>{g?f(g):u(_)},{signal:c,end:h})})}return vE={finished:s,pipeline:a},vE}function pG(){if(tI)return yE;tI=!0;const{Buffer:e}=Js(),{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Ti(),{promisify:{custom:i}}=gs(),{streamReturningOperators:o,promiseReturningOperators:s}=Dpe(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=Xs(),l=dG(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:f}=oT(),{pipeline:c}=mk(),{destroyer:h}=ug(),m=yd(),g=hG(),_=Vc(),v=yE=hk().Stream;v.isDestroyed=_.isDestroyed,v.isDisturbed=_.isDisturbed,v.isErrored=_.isErrored,v.isReadable=_.isReadable,v.isWritable=_.isWritable,v.Readable=sT();for(const E of r(o)){let y=function(...T){if(new.target)throw a();return v.Readable.from(n(S,this||rI,T))};const S=o[E];t(y,"name",{__proto__:null,value:S.name}),t(y,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,E,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}for(const E of r(s)){let y=function(...T){if(new.target)throw a();return n(S,this||rI,T)};const S=s[E];t(y,"name",{__proto__:null,value:S.name}),t(y,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,E,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}v.Writable=pk(),v.Duplex=Dc(),v.Transform=cG(),v.PassThrough=fG(),v.pipeline=c;const{addAbortSignal:p}=iT();return v.addAbortSignal=p,v.finished=m,v.destroy=h,v.compose=l,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=f,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return g}}),t(c,i,{__proto__:null,enumerable:!0,get(){return g.pipeline}}),t(m,i,{__proto__:null,enumerable:!0,get(){return g.finished}}),v.Stream=v,v._isUint8Array=function(y){return y instanceof Uint8Array},v._uint8ArrayToBuffer=function(y){return e.from(y.buffer,y.byteOffset,y.byteLength)},yE}function Mpe(){if(nI)return pi;nI=!0;const e=pG(),t=hG(),r=e.Readable.destroy;return pi=e.Readable,pi._uint8ArrayToBuffer=e._uint8ArrayToBuffer,pi._isUint8Array=e._isUint8Array,pi.isDisturbed=e.isDisturbed,pi.isErrored=e.isErrored,pi.isReadable=e.isReadable,pi.Readable=e.Readable,pi.Writable=e.Writable,pi.Duplex=e.Duplex,pi.Transform=e.Transform,pi.PassThrough=e.PassThrough,pi.addAbortSignal=e.addAbortSignal,pi.finished=e.finished,pi.destroy=e.destroy,pi.destroy=r,pi.pipeline=e.pipeline,pi.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return t}}),pi.Stream=e.Stream,pi.default=pi,pi}var eE,IN,Gp,CN,_v,kN,tE,jN,rE,DN,nE,MN,Ev,LN,iE,FN,oE,BN,Kp,UN,sE,zN,aE,qN,lE,VN,uE,HN,_t,cE,WN,jt,fE,GN,dE,KN,hE,JN,pE,YN,mE,XN,gE,QN,Sv,ZN,vE,eI,yE,tI,rI,pi,nI,zn,wE,mG,gG,vG,yG,wG,bG,_G,EG,ml=Vn({"../../node_modules/@jspm/core/nodelibs/browser/stream.js"(){Ie(),W1(),RW(),l0(),nH(),nT(),fk(),X2(),eE={},IN=!1,Gp={},CN=!1,_v={},kN=!1,tE={},jN=!1,rE={},DN=!1,nE={},MN=!1,Ev={},LN=!1,iE={},FN=!1,oE={},BN=!1,Kp={},UN=!1,sE={},zN=!1,aE={},qN=!1,lE={},VN=!1,uE={},HN=!1,_t=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,cE={},WN=!1,jt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,fE={},GN=!1,dE={},KN=!1,hE={},JN=!1,pE={},YN=!1,mE={},XN=!1,gE={},QN=!1,Sv={},ZN=!1,vE={},eI=!1,yE={},tI=!1,rI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,pi={},nI=!1,zn=Mpe(),zn._uint8ArrayToBuffer,zn._isUint8Array,zn.isDisturbed,zn.isErrored,zn.isReadable,zn.Readable,zn.Writable,zn.Duplex,zn.Transform,zn.PassThrough,zn.addAbortSignal,zn.finished,zn.destroy,zn.pipeline,zn.compose,zn.Stream,wE=zn.Readable,wE.wrap=function(e,t){return t=Object.assign({objectMode:e.readableObjectMode!=null||e.objectMode!=null||!0},t),t.destroy=function(r,n){e.destroy(r),n(r)},new wE(t).wrap(e)},mG=zn.Writable,gG=zn.Duplex,vG=zn.Transform,yG=zn.PassThrough,wG=zn.finished,bG=zn.pipeline,_G=zn.Stream,EG={finished:BS(zn.finished),pipeline:BS(zn.pipeline)}}}),gk=Fe({"../../node_modules/web-streams-polyfill/dist/ponyfill.js"(e,t){Ie(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n((r=typeof globalThis<"u"?globalThis:r||self).WebStreamsPolyfill={})}(e,function(r){function n(){}function i(W){return typeof W=="object"&&W!==null||typeof W=="function"}const o=n;function s(W,J){try{Object.defineProperty(W,"name",{value:J,configurable:!0})}catch{}}const a=Promise,l=Promise.resolve.bind(a),u=Promise.prototype.then,f=Promise.reject.bind(a),c=l;function h(W){return new a(W)}function m(W){return h(J=>J(W))}function g(W){return f(W)}function _(W,J,pe){return u.call(W,J,pe)}function v(W,J,pe){_(_(W,J,pe),void 0,o)}function p(W,J){v(W,J)}function E(W,J){v(W,void 0,J)}function y(W,J,pe){return _(W,J,pe)}function S(W){_(W,void 0,o)}let T=W=>{if(typeof queueMicrotask=="function")T=queueMicrotask;else{const J=m(void 0);T=pe=>_(J,pe)}return T(W)};function $(W,J,pe){if(typeof W!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(W,J,pe)}function d(W,J,pe){try{return m($(W,J,pe))}catch(ye){return g(ye)}}class x{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(J){const pe=this._back;let ye=pe;pe._elements.length===16383&&(ye={_elements:[],_next:void 0}),pe._elements.push(J),ye!==pe&&(this._back=ye,pe._next=ye),++this._size}shift(){const J=this._front;let pe=J;const ye=this._cursor;let ze=ye+1;const We=J._elements,et=We[ye];return ze===16384&&(pe=J._next,ze=0),--this._size,this._cursor=ze,J!==pe&&(this._front=pe),We[ye]=void 0,et}forEach(J){let pe=this._cursor,ye=this._front,ze=ye._elements;for(;!(pe===ze.length&&ye._next===void 0||pe===ze.length&&(ye=ye._next,ze=ye._elements,pe=0,ze.length===0));)J(ze[pe]),++pe}peek(){const J=this._front,pe=this._cursor;return J._elements[pe]}}const O=Symbol("[[AbortSteps]]"),P=Symbol("[[ErrorSteps]]"),M=Symbol("[[CancelSteps]]"),U=Symbol("[[PullSteps]]"),K=Symbol("[[ReleaseSteps]]");function ie(W,J){W._ownerReadableStream=J,J._reader=W,J._state==="readable"?re(W):J._state==="closed"?function(pe){re(pe),z(pe)}(W):se(W,J._storedError)}function G(W,J){return Un(W._ownerReadableStream,J)}function ne(W){const J=W._ownerReadableStream;J._state==="readable"?D(W,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(pe,ye){se(pe,ye)}(W,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),J._readableStreamController[K](),J._reader=void 0,W._ownerReadableStream=void 0}function ge(W){return new TypeError("Cannot "+W+" a stream using a released reader")}function re(W){W._closedPromise=h((J,pe)=>{W._closedPromise_resolve=J,W._closedPromise_reject=pe})}function se(W,J){re(W),D(W,J)}function D(W,J){W._closedPromise_reject!==void 0&&(S(W._closedPromise),W._closedPromise_reject(J),W._closedPromise_resolve=void 0,W._closedPromise_reject=void 0)}function z(W){W._closedPromise_resolve!==void 0&&(W._closedPromise_resolve(void 0),W._closedPromise_resolve=void 0,W._closedPromise_reject=void 0)}const Y=Number.isFinite||function(W){return typeof W=="number"&&isFinite(W)},N=Math.trunc||function(W){return W<0?Math.ceil(W):Math.floor(W)};function I(W,J){if(W!==void 0&&typeof(pe=W)!="object"&&typeof pe!="function")throw new TypeError(`${J} is not an object.`);var pe}function q(W,J){if(typeof W!="function")throw new TypeError(`${J} is not a function.`)}function ae(W,J){if(!function(pe){return typeof pe=="object"&&pe!==null||typeof pe=="function"}(W))throw new TypeError(`${J} is not an object.`)}function Z(W,J,pe){if(W===void 0)throw new TypeError(`Parameter ${J} is required in '${pe}'.`)}function te(W,J,pe){if(W===void 0)throw new TypeError(`${J} is required in '${pe}'.`)}function ue(W){return Number(W)}function xe(W){return W===0?0:W}function Le(W,J){const pe=Number.MAX_SAFE_INTEGER;let ye=Number(W);if(ye=xe(ye),!Y(ye))throw new TypeError(`${J} is not a finite number`);if(ye=function(ze){return xe(N(ze))}(ye),ye<0||ye>pe)throw new TypeError(`${J} is outside the accepted range of 0 to ${pe}, inclusive`);return Y(ye)&&ye!==0?ye:0}function C(W,J){if(!ki(W))throw new TypeError(`${J} is not a ReadableStream.`)}function F(W){return new ve(W)}function L(W,J){W._reader._readRequests.push(J)}function ee(W,J,pe){const ye=W._reader._readRequests.shift();pe?ye._closeSteps():ye._chunkSteps(J)}function ce(W){return W._reader._readRequests.length}function me(W){const J=W._reader;return J!==void 0&&!!Te(J)}class ve{constructor(J){if(Z(J,1,"ReadableStreamDefaultReader"),C(J,"First parameter"),Hi(J))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ie(this,J),this._readRequests=new x}get closed(){return Te(this)?this._closedPromise:g(Ve("closed"))}cancel(J=void 0){return Te(this)?this._ownerReadableStream===void 0?g(ge("cancel")):G(this,J):g(Ve("cancel"))}read(){if(!Te(this))return g(Ve("read"));if(this._ownerReadableStream===void 0)return g(ge("read from"));let J,pe;const ye=h((ze,We)=>{J=ze,pe=We});return De(this,{_chunkSteps:ze=>J({value:ze,done:!1}),_closeSteps:()=>J({value:void 0,done:!0}),_errorSteps:ze=>pe(ze)}),ye}releaseLock(){if(!Te(this))throw Ve("releaseLock");this._ownerReadableStream!==void 0&&function(J){ne(J);const pe=new TypeError("Reader was released");Ge(J,pe)}(this)}}function Te(W){return!!i(W)&&!!Object.prototype.hasOwnProperty.call(W,"_readRequests")&&W instanceof ve}function De(W,J){const pe=W._ownerReadableStream;pe._disturbed=!0,pe._state==="closed"?J._closeSteps():pe._state==="errored"?J._errorSteps(pe._storedError):pe._readableStreamController[U](J)}function Ge(W,J){const pe=W._readRequests;W._readRequests=new x,pe.forEach(ye=>{ye._errorSteps(J)})}function Ve(W){return new TypeError(`ReadableStreamDefaultReader.prototype.${W} can only be used on a ReadableStreamDefaultReader`)}var ht,tt,Xe;function Q(W){return W.slice()}function k(W,J,pe,ye,ze){new Uint8Array(W).set(new Uint8Array(pe,ye,ze),J)}Object.defineProperties(ve.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),s(ve.prototype.cancel,"cancel"),s(ve.prototype.read,"read"),s(ve.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ve.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let B=W=>(B=typeof W.transfer=="function"?J=>J.transfer():typeof structuredClone=="function"?J=>structuredClone(J,{transfer:[J]}):J=>J,B(W)),le=W=>(le=typeof W.detached=="boolean"?J=>J.detached:J=>J.byteLength===0,le(W));function Ee(W,J,pe){if(W.slice)return W.slice(J,pe);const ye=pe-J,ze=new ArrayBuffer(ye);return k(ze,0,W,J,ye),ze}function Pe(W,J){const pe=W[J];if(pe!=null){if(typeof pe!="function")throw new TypeError(`${String(J)} is not a function`);return pe}}function qe(W){try{const J=W.done,pe=W.value;return _(c(pe),ye=>({done:J,value:ye}))}catch(J){return g(J)}}const Be=(Xe=(ht=Symbol.asyncIterator)!==null&&ht!==void 0?ht:(tt=Symbol.for)===null||tt===void 0?void 0:tt.call(Symbol,"Symbol.asyncIterator"))!==null&&Xe!==void 0?Xe:"@@asyncIterator";function Ye(W,J="sync",pe){if(pe===void 0)if(J==="async"){if((pe=Pe(W,Be))===void 0)return function(ze){const We={next(){let et;try{et=gt(ze)}catch(Qe){return g(Qe)}return qe(et)},return(et){let Qe;try{const ot=Pe(ze.iterator,"return");if(ot===void 0)return m({done:!0,value:et});Qe=$(ot,ze.iterator,[et])}catch(ot){return g(ot)}return i(Qe)?qe(Qe):g(new TypeError("The iterator.return() method must return an object"))}};return{iterator:We,nextMethod:We.next,done:!1}}(Ye(W,"sync",Pe(W,Symbol.iterator)))}else pe=Pe(W,Symbol.iterator);if(pe===void 0)throw new TypeError("The object is not iterable");const ye=$(pe,W,[]);if(!i(ye))throw new TypeError("The iterator method must return an object");return{iterator:ye,nextMethod:ye.next,done:!1}}function gt(W){const J=$(W.nextMethod,W.iterator,[]);if(!i(J))throw new TypeError("The iterator.next() method must return an object");return J}class Ot{constructor(J,pe){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=J,this._preventCancel=pe}next(){const J=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?y(this._ongoingPromise,J,J):J(),this._ongoingPromise}return(J){const pe=()=>this._returnSteps(J);return this._ongoingPromise=this._ongoingPromise?y(this._ongoingPromise,pe,pe):pe(),this._ongoingPromise}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const J=this._reader;let pe,ye;const ze=h((We,et)=>{pe=We,ye=et});return De(J,{_chunkSteps:We=>{this._ongoingPromise=void 0,T(()=>pe({value:We,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,ne(J),pe({value:void 0,done:!0})},_errorSteps:We=>{this._ongoingPromise=void 0,this._isFinished=!0,ne(J),ye(We)}}),ze}_returnSteps(J){if(this._isFinished)return Promise.resolve({value:J,done:!0});this._isFinished=!0;const pe=this._reader;if(!this._preventCancel){const ye=G(pe,J);return ne(pe),y(ye,()=>({value:J,done:!0}))}return ne(pe),m({value:J,done:!0})}}const yt={next(){return Xt(this)?this._asyncIteratorImpl.next():g(Xr("next"))},return(W){return Xt(this)?this._asyncIteratorImpl.return(W):g(Xr("return"))},[Be](){return this}};function Xt(W){if(!i(W)||!Object.prototype.hasOwnProperty.call(W,"_asyncIteratorImpl"))return!1;try{return W._asyncIteratorImpl instanceof Ot}catch{return!1}}function Xr(W){return new TypeError(`ReadableStreamAsyncIterator.${W} can only be used on a ReadableSteamAsyncIterator`)}Object.defineProperty(yt,Be,{enumerable:!1});const tn=Number.isNaN||function(W){return W!=W};function Tr(W){const J=Ee(W.buffer,W.byteOffset,W.byteOffset+W.byteLength);return new Uint8Array(J)}function Rr(W){const J=W._queue.shift();return W._queueTotalSize-=J.size,W._queueTotalSize<0&&(W._queueTotalSize=0),J.value}function jn(W,J,pe){if(typeof(ye=pe)!="number"||tn(ye)||ye<0||pe===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var ye;W._queue.push({value:J,size:pe}),W._queueTotalSize+=pe}function _r(W){W._queue=new x,W._queueTotalSize=0}function Qt(W){return W===DataView}class hr{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!bt(this))throw rn("view");return this._view}respond(J){if(!bt(this))throw rn("respond");if(Z(J,1,"respond"),J=Le(J,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(le(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");mn(this._associatedReadableByteStreamController,J)}respondWithNewView(J){if(!bt(this))throw rn("respondWithNewView");if(Z(J,1,"respondWithNewView"),!ArrayBuffer.isView(J))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(le(J.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Hn(this._associatedReadableByteStreamController,J)}}Object.defineProperties(hr.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),s(hr.prototype.respond,"respond"),s(hr.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(hr.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Oe{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!je(this))throw vn("byobRequest");return pn(this)}get desiredSize(){if(!je(this))throw vn("desiredSize");return un(this)}close(){if(!je(this))throw vn("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const J=this._controlledReadableByteStream._state;if(J!=="readable")throw new TypeError(`The stream (in ${J} state) is not in the readable state and cannot be closed`);Nt(this)}enqueue(J){if(!je(this))throw vn("enqueue");if(Z(J,1,"enqueue"),!ArrayBuffer.isView(J))throw new TypeError("chunk must be an array buffer view");if(J.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(J.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const pe=this._controlledReadableByteStream._state;if(pe!=="readable")throw new TypeError(`The stream (in ${pe} state) is not in the readable state and cannot be enqueued to`);ir(this,J)}error(J=void 0){if(!je(this))throw vn("error");Ft(this,J)}[M](J){ut(this),_r(this);const pe=this._cancelAlgorithm(J);return ur(this),pe}[U](J){const pe=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void Yt(this,J);const ye=this._autoAllocateChunkSize;if(ye!==void 0){let ze;try{ze=new ArrayBuffer(ye)}catch(et){return void J._errorSteps(et)}const We={buffer:ze,bufferByteLength:ye,byteOffset:0,byteLength:ye,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(We)}L(pe,J),$t(this)}[K](){if(this._pendingPullIntos.length>0){const J=this._pendingPullIntos.peek();J.readerType="none",this._pendingPullIntos=new x,this._pendingPullIntos.push(J)}}}function je(W){return!!i(W)&&!!Object.prototype.hasOwnProperty.call(W,"_controlledReadableByteStream")&&W instanceof Oe}function bt(W){return!!i(W)&&!!Object.prototype.hasOwnProperty.call(W,"_associatedReadableByteStreamController")&&W instanceof hr}function $t(W){if(function(pe){const ye=pe._controlledReadableByteStream;return ye._state!=="readable"||pe._closeRequested||!pe._started?!1:!!(me(ye)&&ce(ye)>0||Wo(ye)&&_s(ye)>0||un(pe)>0)}(W)){if(W._pulling)return void(W._pullAgain=!0);W._pulling=!0,v(W._pullAlgorithm(),()=>(W._pulling=!1,W._pullAgain&&(W._pullAgain=!1,$t(W)),null),pe=>(Ft(W,pe),null))}}function ut(W){Mt(W),W._pendingPullIntos=new x}function Ut(W,J){let pe=!1;W._state==="closed"&&(pe=!0);const ye=we(J);J.readerType==="default"?ee(W,ye,pe):function(ze,We,et){const Qe=ze._reader,ot=Qe._readIntoRequests.shift();et?ot._closeSteps(We):ot._chunkSteps(We)}(W,ye,pe)}function Bt(W,J){for(let pe=0;pe<J.length;++pe)Ut(W,J[pe])}function we(W){const J=W.bytesFilled,pe=W.elementSize;return new W.viewConstructor(W.buffer,W.byteOffset,J/pe)}function he(W,J,pe,ye){W._queue.push({buffer:J,byteOffset:pe,byteLength:ye}),W._queueTotalSize+=ye}function Se(W,J,pe,ye){let ze;try{ze=Ee(J,pe,pe+ye)}catch(We){throw Ft(W,We),We}he(W,ze,0,ye)}function Me(W,J){J.bytesFilled>0&&Se(W,J.buffer,J.byteOffset,J.bytesFilled),qt(W)}function ke(W,J){const pe=Math.min(W._queueTotalSize,J.byteLength-J.bytesFilled),ye=J.bytesFilled+pe;let ze=pe,We=!1;const et=ye-ye%J.elementSize;et>=J.minimumFill&&(ze=et-J.bytesFilled,We=!0);const Qe=W._queue;for(;ze>0;){const ot=Qe.peek(),xt=Math.min(ze,ot.byteLength),At=J.byteOffset+J.bytesFilled;k(J.buffer,At,ot.buffer,ot.byteOffset,xt),ot.byteLength===xt?Qe.shift():(ot.byteOffset+=xt,ot.byteLength-=xt),W._queueTotalSize-=xt,pt(W,xt,J),ze-=xt}return We}function pt(W,J,pe){pe.bytesFilled+=J}function ft(W){W._queueTotalSize===0&&W._closeRequested?(ur(W),ra(W._controlledReadableByteStream)):$t(W)}function Mt(W){W._byobRequest!==null&&(W._byobRequest._associatedReadableByteStreamController=void 0,W._byobRequest._view=null,W._byobRequest=null)}function Kt(W){const J=[];for(;W._pendingPullIntos.length>0&&W._queueTotalSize!==0;){const pe=W._pendingPullIntos.peek();ke(W,pe)&&(qt(W),J.push(pe))}return J}function Zt(W,J,pe,ye){const ze=W._controlledReadableByteStream,We=J.constructor,et=function(It){return Qt(It)?1:It.BYTES_PER_ELEMENT}(We),{byteOffset:Qe,byteLength:ot}=J,xt=pe*et;let At;try{At=B(J.buffer)}catch(It){return void ye._errorSteps(It)}const Ht={buffer:At,bufferByteLength:At.byteLength,byteOffset:Qe,byteLength:ot,bytesFilled:0,minimumFill:xt,elementSize:et,viewConstructor:We,readerType:"byob"};if(W._pendingPullIntos.length>0)return W._pendingPullIntos.push(Ht),void zi(ze,ye);if(ze._state!=="closed"){if(W._queueTotalSize>0){if(ke(W,Ht)){const It=we(Ht);return ft(W),void ye._chunkSteps(It)}if(W._closeRequested){const It=new TypeError("Insufficient bytes to fill elements in the given buffer");return Ft(W,It),void ye._errorSteps(It)}}W._pendingPullIntos.push(Ht),zi(ze,ye),$t(W)}else{const It=new We(Ht.buffer,Ht.byteOffset,0);ye._closeSteps(It)}}function Dt(W,J){const pe=W._pendingPullIntos.peek();Mt(W),W._controlledReadableByteStream._state==="closed"?function(ye,ze){ze.readerType==="none"&&qt(ye);const We=ye._controlledReadableByteStream;if(Wo(We)){const et=[];for(let Qe=0;Qe<_s(We);++Qe)et.push(qt(ye));Bt(We,et)}}(W,pe):function(ye,ze,We){if(pt(0,ze,We),We.readerType==="none"){Me(ye,We);const ot=Kt(ye);return void Bt(ye._controlledReadableByteStream,ot)}if(We.bytesFilled<We.minimumFill)return;qt(ye);const et=We.bytesFilled%We.elementSize;if(et>0){const ot=We.byteOffset+We.bytesFilled;Se(ye,We.buffer,ot-et,et)}We.bytesFilled-=et;const Qe=Kt(ye);Ut(ye._controlledReadableByteStream,We),Bt(ye._controlledReadableByteStream,Qe)}(W,J,pe),$t(W)}function qt(W){return W._pendingPullIntos.shift()}function ur(W){W._pullAlgorithm=void 0,W._cancelAlgorithm=void 0}function Nt(W){const J=W._controlledReadableByteStream;if(!W._closeRequested&&J._state==="readable")if(W._queueTotalSize>0)W._closeRequested=!0;else{if(W._pendingPullIntos.length>0){const pe=W._pendingPullIntos.peek();if(pe.bytesFilled%pe.elementSize!=0){const ye=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ft(W,ye),ye}}ur(W),ra(J)}}function ir(W,J){const pe=W._controlledReadableByteStream;if(W._closeRequested||pe._state!=="readable")return;const{buffer:ye,byteOffset:ze,byteLength:We}=J;if(le(ye))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const et=B(ye);if(W._pendingPullIntos.length>0){const Qe=W._pendingPullIntos.peek();if(le(Qe.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Mt(W),Qe.buffer=B(Qe.buffer),Qe.readerType==="none"&&Me(W,Qe)}if(me(pe))(function(Qe){const ot=Qe._controlledReadableByteStream._reader;for(;ot._readRequests.length>0;){if(Qe._queueTotalSize===0)return;Yt(Qe,ot._readRequests.shift())}})(W),ce(pe)===0?he(W,et,ze,We):(W._pendingPullIntos.length>0&&qt(W),ee(pe,new Uint8Array(et,ze,We),!1));else if(Wo(pe)){he(W,et,ze,We);const Qe=Kt(W);Bt(W._controlledReadableByteStream,Qe)}else he(W,et,ze,We);$t(W)}function Ft(W,J){const pe=W._controlledReadableByteStream;pe._state==="readable"&&(ut(W),_r(W),ur(W),xs(pe,J))}function Yt(W,J){const pe=W._queue.shift();W._queueTotalSize-=pe.byteLength,ft(W);const ye=new Uint8Array(pe.buffer,pe.byteOffset,pe.byteLength);J._chunkSteps(ye)}function pn(W){if(W._byobRequest===null&&W._pendingPullIntos.length>0){const J=W._pendingPullIntos.peek(),pe=new Uint8Array(J.buffer,J.byteOffset+J.bytesFilled,J.byteLength-J.bytesFilled),ye=Object.create(hr.prototype);(function(ze,We,et){ze._associatedReadableByteStreamController=We,ze._view=et})(ye,W,pe),W._byobRequest=ye}return W._byobRequest}function un(W){const J=W._controlledReadableByteStream._state;return J==="errored"?null:J==="closed"?0:W._strategyHWM-W._queueTotalSize}function mn(W,J){const pe=W._pendingPullIntos.peek();if(W._controlledReadableByteStream._state==="closed"){if(J!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(J===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(pe.bytesFilled+J>pe.byteLength)throw new RangeError("bytesWritten out of range")}pe.buffer=B(pe.buffer),Dt(W,J)}function Hn(W,J){const pe=W._pendingPullIntos.peek();if(W._controlledReadableByteStream._state==="closed"){if(J.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(J.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(pe.byteOffset+pe.bytesFilled!==J.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(pe.bufferByteLength!==J.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(pe.bytesFilled+J.byteLength>pe.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const ye=J.byteLength;pe.buffer=B(J.buffer),Dt(W,ye)}function fi(W,J,pe,ye,ze,We,et){J._controlledReadableByteStream=W,J._pullAgain=!1,J._pulling=!1,J._byobRequest=null,J._queue=J._queueTotalSize=void 0,_r(J),J._closeRequested=!1,J._started=!1,J._strategyHWM=We,J._pullAlgorithm=ye,J._cancelAlgorithm=ze,J._autoAllocateChunkSize=et,J._pendingPullIntos=new x,W._readableStreamController=J,v(m(pe()),()=>(J._started=!0,$t(J),null),Qe=>(Ft(J,Qe),null))}function rn(W){return new TypeError(`ReadableStreamBYOBRequest.prototype.${W} can only be used on a ReadableStreamBYOBRequest`)}function vn(W){return new TypeError(`ReadableByteStreamController.prototype.${W} can only be used on a ReadableByteStreamController`)}function $i(W,J){if((W=`${W}`)!="byob")throw new TypeError(`${J} '${W}' is not a valid enumeration value for ReadableStreamReaderMode`);return W}function Wn(W){return new nn(W)}function zi(W,J){W._reader._readIntoRequests.push(J)}function _s(W){return W._reader._readIntoRequests.length}function Wo(W){const J=W._reader;return J!==void 0&&!!Gn(J)}Object.defineProperties(Oe.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),s(Oe.prototype.close,"close"),s(Oe.prototype.enqueue,"enqueue"),s(Oe.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Oe.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class nn{constructor(J){if(Z(J,1,"ReadableStreamBYOBReader"),C(J,"First parameter"),Hi(J))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!je(J._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");ie(this,J),this._readIntoRequests=new x}get closed(){return Gn(this)?this._closedPromise:g(Go("closed"))}cancel(J=void 0){return Gn(this)?this._ownerReadableStream===void 0?g(ge("cancel")):G(this,J):g(Go("cancel"))}read(J,pe={}){if(!Gn(this))return g(Go("read"));if(!ArrayBuffer.isView(J))return g(new TypeError("view must be an array buffer view"));if(J.byteLength===0)return g(new TypeError("view must have non-zero byteLength"));if(J.buffer.byteLength===0)return g(new TypeError("view's buffer must have non-zero byteLength"));if(le(J.buffer))return g(new TypeError("view's buffer has been detached"));let ye;try{ye=function(ot,xt){var At;return I(ot,xt),{min:Le((At=ot==null?void 0:ot.min)!==null&&At!==void 0?At:1,`${xt} has member 'min' that`)}}(pe,"options")}catch(ot){return g(ot)}const ze=ye.min;if(ze===0)return g(new TypeError("options.min must be greater than 0"));if(function(ot){return Qt(ot.constructor)}(J)){if(ze>J.byteLength)return g(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(ze>J.length)return g(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return g(ge("read from"));let We,et;const Qe=h((ot,xt)=>{We=ot,et=xt});return xi(this,J,ze,{_chunkSteps:ot=>We({value:ot,done:!1}),_closeSteps:ot=>We({value:ot,done:!0}),_errorSteps:ot=>et(ot)}),Qe}releaseLock(){if(!Gn(this))throw Go("releaseLock");this._ownerReadableStream!==void 0&&function(J){ne(J);const pe=new TypeError("Reader was released");Na(J,pe)}(this)}}function Gn(W){return!!i(W)&&!!Object.prototype.hasOwnProperty.call(W,"_readIntoRequests")&&W instanceof nn}function xi(W,J,pe,ye){const ze=W._ownerReadableStream;ze._disturbed=!0,ze._state==="errored"?ye._errorSteps(ze._storedError):Zt(ze._readableStreamController,J,pe,ye)}function Na(W,J){const pe=W._readIntoRequests;W._readIntoRequests=new x,pe.forEach(ye=>{ye._errorSteps(J)})}function Go(W){return new TypeError(`ReadableStreamBYOBReader.prototype.${W} can only be used on a ReadableStreamBYOBReader`)}function Zn(W,J){const{highWaterMark:pe}=W;if(pe===void 0)return J;if(tn(pe)||pe<0)throw new RangeError("Invalid highWaterMark");return pe}function iu(W){const{size:J}=W;return J||(()=>1)}function wl(W,J){I(W,J);const pe=W==null?void 0:W.highWaterMark,ye=W==null?void 0:W.size;return{highWaterMark:pe===void 0?void 0:ue(pe),size:ye===void 0?void 0:Ad(ye,`${J} has member 'size' that`)}}function Ad(W,J){return q(W,J),pe=>ue(W(pe))}function fp(W,J,pe){return q(W,pe),ye=>d(W,J,[ye])}function Od(W,J,pe){return q(W,pe),()=>d(W,J,[])}function Ko(W,J,pe){return q(W,pe),ye=>$(W,J,[ye])}function Pd(W,J,pe){return q(W,pe),(ye,ze)=>d(W,J,[ye,ze])}function Ia(W,J){if(!fo(W))throw new TypeError(`${J} is not a WritableStream.`)}Object.defineProperties(nn.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),s(nn.prototype.cancel,"cancel"),s(nn.prototype.read,"read"),s(nn.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(nn.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class Es{constructor(J={},pe={}){J===void 0?J=null:ae(J,"First parameter");const ye=wl(pe,"Second parameter"),ze=function(et,Qe){I(et,Qe);const ot=et==null?void 0:et.abort,xt=et==null?void 0:et.close,At=et==null?void 0:et.start,Ht=et==null?void 0:et.type,It=et==null?void 0:et.write;return{abort:ot===void 0?void 0:fp(ot,et,`${Qe} has member 'abort' that`),close:xt===void 0?void 0:Od(xt,et,`${Qe} has member 'close' that`),start:At===void 0?void 0:Ko(At,et,`${Qe} has member 'start' that`),write:It===void 0?void 0:Pd(It,et,`${Qe} has member 'write' that`),type:Ht}}(J,"First parameter");if(ea(this),ze.type!==void 0)throw new RangeError("Invalid type is specified");const We=iu(ye);(function(et,Qe,ot,xt){const At=Object.create(su.prototype);let Ht,It,nr,Or;Ht=Qe.start!==void 0?()=>Qe.start(At):()=>{},It=Qe.write!==void 0?Fr=>Qe.write(Fr,At):()=>m(void 0),nr=Qe.close!==void 0?()=>Qe.close():()=>m(void 0),Or=Qe.abort!==void 0?Fr=>Qe.abort(Fr):()=>m(void 0),$n(et,At,Ht,It,nr,Or,ot,xt)})(this,ze,Zn(ye,1),We)}get locked(){if(!fo(this))throw Zc("locked");return Ca(this)}abort(J=void 0){return fo(this)?Ca(this)?g(new TypeError("Cannot abort a stream that already has a writer")):Ju(this,J):g(Zc("abort"))}close(){return fo(this)?Ca(this)?g(new TypeError("Cannot close a stream that already has a writer")):Jo(this)?g(new TypeError("Cannot close an already-closing stream")):_l(this):g(Zc("close"))}getWriter(){if(!fo(this))throw Zc("getWriter");return bl(this)}}function bl(W){return new ta(W)}function ea(W){W._state="writable",W._storedError=void 0,W._writer=void 0,W._writableStreamController=void 0,W._writeRequests=new x,W._inFlightWriteRequest=void 0,W._closeRequest=void 0,W._inFlightCloseRequest=void 0,W._pendingAbortRequest=void 0,W._backpressure=!1}function fo(W){return!!i(W)&&!!Object.prototype.hasOwnProperty.call(W,"_writableStreamController")&&W instanceof Es}function Ca(W){return W._writer!==void 0}function Ju(W,J){var pe;if(W._state==="closed"||W._state==="errored")return m(void 0);W._writableStreamController._abortReason=J,(pe=W._writableStreamController._abortController)===null||pe===void 0||pe.abort(J);const ye=W._state;if(ye==="closed"||ye==="errored")return m(void 0);if(W._pendingAbortRequest!==void 0)return W._pendingAbortRequest._promise;let ze=!1;ye==="erroring"&&(ze=!0,J=void 0);const We=h((et,Qe)=>{W._pendingAbortRequest={_promise:void 0,_resolve:et,_reject:Qe,_reason:J,_wasAlreadyErroring:ze}});return W._pendingAbortRequest._promise=We,ze||ou(W,J),We}function _l(W){const J=W._state;if(J==="closed"||J==="errored")return g(new TypeError(`The stream (in ${J} state) is not in the writable state and cannot be closed`));const pe=h((We,et)=>{const Qe={_resolve:We,_reject:et};W._closeRequest=Qe}),ye=W._writer;var ze;return ye!==void 0&&W._backpressure&&J==="writable"&&fe(ye),jn(ze=W._writableStreamController,pp,0),au(ze),pe}function Yu(W,J){W._state!=="writable"?Gc(W):ou(W,J)}function ou(W,J){const pe=W._writableStreamController;W._state="erroring",W._storedError=J;const ye=W._writer;ye!==void 0&&Yc(ye,J),!function(ze){return!(ze._inFlightWriteRequest===void 0&&ze._inFlightCloseRequest===void 0)}(W)&&pe._started&&Gc(W)}function Gc(W){W._state="errored",W._writableStreamController[P]();const J=W._storedError;if(W._writeRequests.forEach(ye=>{ye._reject(J)}),W._writeRequests=new x,W._pendingAbortRequest===void 0)return void Kc(W);const pe=W._pendingAbortRequest;if(W._pendingAbortRequest=void 0,pe._wasAlreadyErroring)return pe._reject(J),void Kc(W);v(W._writableStreamController[O](pe._reason),()=>(pe._resolve(),Kc(W),null),ye=>(pe._reject(ye),Kc(W),null))}function Jo(W){return W._closeRequest!==void 0||W._inFlightCloseRequest!==void 0}function Kc(W){W._closeRequest!==void 0&&(W._closeRequest._reject(W._storedError),W._closeRequest=void 0);const J=W._writer;J!==void 0&&tf(J,W._storedError)}function Xu(W,J){const pe=W._writer;pe!==void 0&&J!==W._backpressure&&(J?function(ye){qi(ye)}(pe):fe(pe)),W._backpressure=J}Object.defineProperties(Es.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),s(Es.prototype.abort,"abort"),s(Es.prototype.close,"close"),s(Es.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Es.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class ta{constructor(J){if(Z(J,1,"WritableStreamDefaultWriter"),Ia(J,"First parameter"),Ca(J))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=J,J._writer=this;const pe=J._state;if(pe==="writable")!Jo(J)&&J._backpressure?qi(this):H(this),Tl(this);else if(pe==="erroring")j(this,J._storedError),Tl(this);else if(pe==="closed")H(this),Tl(ye=this),rf(ye);else{const ze=J._storedError;j(this,ze),Ss(this,ze)}var ye}get closed(){return El(this)?this._closedPromise:g(Sl("closed"))}get desiredSize(){if(!El(this))throw Sl("desiredSize");if(this._ownerWritableStream===void 0)throw Dn("desiredSize");return function(J){const pe=J._ownerWritableStream,ye=pe._state;return ye==="errored"||ye==="erroring"?null:ye==="closed"?0:Nd(pe._writableStreamController)}(this)}get ready(){return El(this)?this._readyPromise:g(Sl("ready"))}abort(J=void 0){return El(this)?this._ownerWritableStream===void 0?g(Dn("abort")):function(pe,ye){return Ju(pe._ownerWritableStream,ye)}(this,J):g(Sl("abort"))}close(){if(!El(this))return g(Sl("close"));const J=this._ownerWritableStream;return J===void 0?g(Dn("close")):Jo(J)?g(new TypeError("Cannot close an already-closing stream")):Jc(this)}releaseLock(){if(!El(this))throw Sl("releaseLock");this._ownerWritableStream!==void 0&&dp(this)}write(J=void 0){return El(this)?this._ownerWritableStream===void 0?g(Dn("write to")):hp(this,J):g(Sl("write"))}}function El(W){return!!i(W)&&!!Object.prototype.hasOwnProperty.call(W,"_ownerWritableStream")&&W instanceof ta}function Jc(W){return _l(W._ownerWritableStream)}function Eg(W,J){W._closedPromiseState==="pending"?tf(W,J):function(pe,ye){Ss(pe,ye)}(W,J)}function Yc(W,J){W._readyPromiseState==="pending"?oe(W,J):function(pe,ye){j(pe,ye)}(W,J)}function dp(W){const J=W._ownerWritableStream,pe=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Yc(W,pe),Eg(W,pe),J._writer=void 0,W._ownerWritableStream=void 0}function hp(W,J){const pe=W._ownerWritableStream,ye=pe._writableStreamController,ze=function(Qe,ot){if(Qe._strategySizeAlgorithm===void 0)return 1;try{return Qe._strategySizeAlgorithm(ot)}catch(xt){return lu(Qe,xt),1}}(ye,J);if(pe!==W._ownerWritableStream)return g(Dn("write to"));const We=pe._state;if(We==="errored")return g(pe._storedError);if(Jo(pe)||We==="closed")return g(new TypeError("The stream is closing or closed and cannot be written to"));if(We==="erroring")return g(pe._storedError);const et=function(Qe){return h((ot,xt)=>{const At={_resolve:ot,_reject:xt};Qe._writeRequests.push(At)})}(pe);return function(Qe,ot,xt){try{jn(Qe,ot,xt)}catch(Ht){return void lu(Qe,Ht)}const At=Qe._controlledWritableStream;!Jo(At)&&At._state==="writable"&&Xu(At,Xc(Qe)),au(Qe)}(ye,J,ze),et}Object.defineProperties(ta.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),s(ta.prototype.abort,"abort"),s(ta.prototype.close,"close"),s(ta.prototype.releaseLock,"releaseLock"),s(ta.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ta.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const pp={};class su{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Rd(this))throw ef("abortReason");return this._abortReason}get signal(){if(!Rd(this))throw ef("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(J=void 0){if(!Rd(this))throw ef("error");this._controlledWritableStream._state==="writable"&&Qc(this,J)}[O](J){const pe=this._abortAlgorithm(J);return cn(this),pe}[P](){_r(this)}}function Rd(W){return!!i(W)&&!!Object.prototype.hasOwnProperty.call(W,"_controlledWritableStream")&&W instanceof su}function $n(W,J,pe,ye,ze,We,et,Qe){J._controlledWritableStream=W,W._writableStreamController=J,J._queue=void 0,J._queueTotalSize=void 0,_r(J),J._abortReason=void 0,J._abortController=function(){if(typeof AbortController=="function")return new AbortController}(),J._started=!1,J._strategySizeAlgorithm=Qe,J._strategyHWM=et,J._writeAlgorithm=ye,J._closeAlgorithm=ze,J._abortAlgorithm=We;const ot=Xc(J);Xu(W,ot),v(m(pe()),()=>(J._started=!0,au(J),null),xt=>(J._started=!0,Yu(W,xt),null))}function cn(W){W._writeAlgorithm=void 0,W._closeAlgorithm=void 0,W._abortAlgorithm=void 0,W._strategySizeAlgorithm=void 0}function Nd(W){return W._strategyHWM-W._queueTotalSize}function au(W){const J=W._controlledWritableStream;if(!W._started||J._inFlightWriteRequest!==void 0)return;if(J._state==="erroring")return void Gc(J);if(W._queue.length===0)return;const pe=W._queue.peek().value;pe===pp?function(ye){const ze=ye._controlledWritableStream;(function(et){et._inFlightCloseRequest=et._closeRequest,et._closeRequest=void 0})(ze),Rr(ye);const We=ye._closeAlgorithm();cn(ye),v(We,()=>(function(et){et._inFlightCloseRequest._resolve(void 0),et._inFlightCloseRequest=void 0,et._state==="erroring"&&(et._storedError=void 0,et._pendingAbortRequest!==void 0&&(et._pendingAbortRequest._resolve(),et._pendingAbortRequest=void 0)),et._state="closed";const Qe=et._writer;Qe!==void 0&&rf(Qe)}(ze),null),et=>(function(Qe,ot){Qe._inFlightCloseRequest._reject(ot),Qe._inFlightCloseRequest=void 0,Qe._pendingAbortRequest!==void 0&&(Qe._pendingAbortRequest._reject(ot),Qe._pendingAbortRequest=void 0),Yu(Qe,ot)}(ze,et),null))}(W):function(ye,ze){const We=ye._controlledWritableStream;(function(Qe){Qe._inFlightWriteRequest=Qe._writeRequests.shift()})(We);const et=ye._writeAlgorithm(ze);v(et,()=>{(function(ot){ot._inFlightWriteRequest._resolve(void 0),ot._inFlightWriteRequest=void 0})(We);const Qe=We._state;if(Rr(ye),!Jo(We)&&Qe==="writable"){const ot=Xc(ye);Xu(We,ot)}return au(ye),null},Qe=>(We._state==="writable"&&cn(ye),function(ot,xt){ot._inFlightWriteRequest._reject(xt),ot._inFlightWriteRequest=void 0,Yu(ot,xt)}(We,Qe),null))}(W,pe)}function lu(W,J){W._controlledWritableStream._state==="writable"&&Qc(W,J)}function Xc(W){return Nd(W)<=0}function Qc(W,J){const pe=W._controlledWritableStream;cn(W),ou(pe,J)}function Zc(W){return new TypeError(`WritableStream.prototype.${W} can only be used on a WritableStream`)}function ef(W){return new TypeError(`WritableStreamDefaultController.prototype.${W} can only be used on a WritableStreamDefaultController`)}function Sl(W){return new TypeError(`WritableStreamDefaultWriter.prototype.${W} can only be used on a WritableStreamDefaultWriter`)}function Dn(W){return new TypeError("Cannot "+W+" a stream using a released writer")}function Tl(W){W._closedPromise=h((J,pe)=>{W._closedPromise_resolve=J,W._closedPromise_reject=pe,W._closedPromiseState="pending"})}function Ss(W,J){Tl(W),tf(W,J)}function tf(W,J){W._closedPromise_reject!==void 0&&(S(W._closedPromise),W._closedPromise_reject(J),W._closedPromise_resolve=void 0,W._closedPromise_reject=void 0,W._closedPromiseState="rejected")}function rf(W){W._closedPromise_resolve!==void 0&&(W._closedPromise_resolve(void 0),W._closedPromise_resolve=void 0,W._closedPromise_reject=void 0,W._closedPromiseState="resolved")}function qi(W){W._readyPromise=h((J,pe)=>{W._readyPromise_resolve=J,W._readyPromise_reject=pe}),W._readyPromiseState="pending"}function j(W,J){qi(W),oe(W,J)}function H(W){qi(W),fe(W)}function oe(W,J){W._readyPromise_reject!==void 0&&(S(W._readyPromise),W._readyPromise_reject(J),W._readyPromise_resolve=void 0,W._readyPromise_reject=void 0,W._readyPromiseState="rejected")}function fe(W){W._readyPromise_resolve!==void 0&&(W._readyPromise_resolve(void 0),W._readyPromise_resolve=void 0,W._readyPromise_reject=void 0,W._readyPromiseState="fulfilled")}Object.defineProperties(su.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(su.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const be=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0,_e=function(){const W=be==null?void 0:be.DOMException;return function(J){if(typeof J!="function"&&typeof J!="object"||J.name!=="DOMException")return!1;try{return new J,!0}catch{return!1}}(W)?W:void 0}()||function(){const W=function(J,pe){this.message=J||"",this.name=pe||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return s(W,"DOMException"),W.prototype=Object.create(Error.prototype),Object.defineProperty(W.prototype,"constructor",{value:W,writable:!0,configurable:!0}),W}();function Ae(W,J,pe,ye,ze,We){const et=F(W),Qe=bl(J);W._disturbed=!0;let ot=!1,xt=m(void 0);return h((At,Ht)=>{let It;if(We!==void 0){if(It=()=>{const Er=We.reason!==void 0?We.reason:new _e("Aborted","AbortError"),Jn=[];ye||Jn.push(()=>J._state==="writable"?Ju(J,Er):m(void 0)),ze||Jn.push(()=>W._state==="readable"?Un(W,Er):m(void 0)),Mn(()=>Promise.all(Jn.map(on=>on())),!0,Er)},We.aborted)return void It();We.addEventListener("abort",It)}var nr,Or,Fr;if(sr(W,et._closedPromise,Er=>(ye?Kr(!0,Er):Mn(()=>Ju(J,Er),!0,Er),null)),sr(J,Qe._closedPromise,Er=>(ze?Kr(!0,Er):Mn(()=>Un(W,Er),!0,Er),null)),nr=W,Or=et._closedPromise,Fr=()=>(pe?Kr():Mn(()=>function(Er){const Jn=Er._ownerWritableStream,on=Jn._state;return Jo(Jn)||on==="closed"?m(void 0):on==="errored"?g(Jn._storedError):Jc(Er)}(Qe)),null),nr._state==="closed"?Fr():p(Or,Fr),Jo(J)||J._state==="closed"){const Er=new TypeError("the destination writable stream closed before all data could be piped to it");ze?Kr(!0,Er):Mn(()=>Un(W,Er),!0,Er)}function Kn(){const Er=xt;return _(xt,()=>Er!==xt?Kn():void 0)}function sr(Er,Jn,on){Er._state==="errored"?on(Er._storedError):E(Jn,on)}function Mn(Er,Jn,on){function Br(){return v(Er(),()=>Ai(Jn,on),fr=>Ai(!0,fr)),null}ot||(ot=!0,J._state!=="writable"||Jo(J)?Br():p(Kn(),Br))}function Kr(Er,Jn){ot||(ot=!0,J._state!=="writable"||Jo(J)?Ai(Er,Jn):p(Kn(),()=>Ai(Er,Jn)))}function Ai(Er,Jn){return dp(Qe),ne(et),We!==void 0&&We.removeEventListener("abort",It),Er?Ht(Jn):At(void 0),null}S(h((Er,Jn)=>{(function on(Br){Br?Er():_(ot?m(!0):_(Qe._readyPromise,()=>h((fr,yn)=>{De(et,{_chunkSteps:Nr=>{xt=_(hp(Qe,Nr),void 0,n),fr(!1)},_closeSteps:()=>fr(!0),_errorSteps:yn})})),on,Jn)})(!1)}))})}class Je{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!He(this))throw Bn("desiredSize");return wr(this)}close(){if(!He(this))throw Bn("close");if(!pr(this))throw new TypeError("The stream is not in a state that permits close");at(this)}enqueue(J=void 0){if(!He(this))throw Bn("enqueue");if(!pr(this))throw new TypeError("The stream is not in a state that permits enqueue");return Pt(this,J)}error(J=void 0){if(!He(this))throw Bn("error");zt(this,J)}[M](J){_r(this);const pe=this._cancelAlgorithm(J);return vt(this),pe}[U](J){const pe=this._controlledReadableStream;if(this._queue.length>0){const ye=Rr(this);this._closeRequested&&this._queue.length===0?(vt(this),ra(pe)):it(this),J._chunkSteps(ye)}else L(pe,J),it(this)}[K](){}}function He(W){return!!i(W)&&!!Object.prototype.hasOwnProperty.call(W,"_controlledReadableStream")&&W instanceof Je}function it(W){if(dt(W)){if(W._pulling)return void(W._pullAgain=!0);W._pulling=!0,v(W._pullAlgorithm(),()=>(W._pulling=!1,W._pullAgain&&(W._pullAgain=!1,it(W)),null),J=>(zt(W,J),null))}}function dt(W){const J=W._controlledReadableStream;return!pr(W)||!W._started?!1:Hi(J)&&ce(J)>0?!0:wr(W)>0}function vt(W){W._pullAlgorithm=void 0,W._cancelAlgorithm=void 0,W._strategySizeAlgorithm=void 0}function at(W){if(!pr(W))return;const J=W._controlledReadableStream;W._closeRequested=!0,W._queue.length===0&&(vt(W),ra(J))}function Pt(W,J){if(!pr(W))return;const pe=W._controlledReadableStream;if(Hi(pe)&&ce(pe)>0)ee(pe,J,!1);else{let ye;try{ye=W._strategySizeAlgorithm(J)}catch(ze){throw zt(W,ze),ze}try{jn(W,J,ye)}catch(ze){throw zt(W,ze),ze}}it(W)}function zt(W,J){const pe=W._controlledReadableStream;pe._state==="readable"&&(_r(W),vt(W),xs(pe,J))}function wr(W){const J=W._controlledReadableStream._state;return J==="errored"?null:J==="closed"?0:W._strategyHWM-W._queueTotalSize}function pr(W){const J=W._controlledReadableStream._state;return!W._closeRequested&&J==="readable"}function wi(W,J,pe,ye,ze,We,et){J._controlledReadableStream=W,J._queue=void 0,J._queueTotalSize=void 0,_r(J),J._started=!1,J._closeRequested=!1,J._pullAgain=!1,J._pulling=!1,J._strategySizeAlgorithm=et,J._strategyHWM=We,J._pullAlgorithm=ye,J._cancelAlgorithm=ze,W._readableStreamController=J,v(m(pe()),()=>(J._started=!0,it(J),null),Qe=>(zt(J,Qe),null))}function Bn(W){return new TypeError(`ReadableStreamDefaultController.prototype.${W} can only be used on a ReadableStreamDefaultController`)}function Ts(W,J){return je(W._readableStreamController)?function(pe){let ye,ze,We,et,Qe,ot=F(pe),xt=!1,At=!1,Ht=!1,It=!1,nr=!1;const Or=h(on=>{Qe=on});function Fr(on){E(on._closedPromise,Br=>(on!==ot||(Ft(We._readableStreamController,Br),Ft(et._readableStreamController,Br),It&&nr||Qe(void 0)),null))}function Kn(){Gn(ot)&&(ne(ot),ot=F(pe),Fr(ot)),De(ot,{_chunkSteps:on=>{T(()=>{At=!1,Ht=!1;const Br=on;let fr=on;if(!It&&!nr)try{fr=Tr(on)}catch(yn){return Ft(We._readableStreamController,yn),Ft(et._readableStreamController,yn),void Qe(Un(pe,yn))}It||ir(We._readableStreamController,Br),nr||ir(et._readableStreamController,fr),xt=!1,At?Mn():Ht&&Kr()})},_closeSteps:()=>{xt=!1,It||Nt(We._readableStreamController),nr||Nt(et._readableStreamController),We._readableStreamController._pendingPullIntos.length>0&&mn(We._readableStreamController,0),et._readableStreamController._pendingPullIntos.length>0&&mn(et._readableStreamController,0),It&&nr||Qe(void 0)},_errorSteps:()=>{xt=!1}})}function sr(on,Br){Te(ot)&&(ne(ot),ot=Wn(pe),Fr(ot));const fr=Br?et:We,yn=Br?We:et;xi(ot,on,1,{_chunkSteps:Nr=>{T(()=>{At=!1,Ht=!1;const An=Br?nr:It;if(Br?It:nr)An||Hn(fr._readableStreamController,Nr);else{let ho;try{ho=Tr(Nr)}catch(Mi){return Ft(fr._readableStreamController,Mi),Ft(yn._readableStreamController,Mi),void Qe(Un(pe,Mi))}An||Hn(fr._readableStreamController,Nr),ir(yn._readableStreamController,ho)}xt=!1,At?Mn():Ht&&Kr()})},_closeSteps:Nr=>{xt=!1;const An=Br?nr:It,ho=Br?It:nr;An||Nt(fr._readableStreamController),ho||Nt(yn._readableStreamController),Nr!==void 0&&(An||Hn(fr._readableStreamController,Nr),!ho&&yn._readableStreamController._pendingPullIntos.length>0&&mn(yn._readableStreamController,0)),An&&ho||Qe(void 0)},_errorSteps:()=>{xt=!1}})}function Mn(){if(xt)return At=!0,m(void 0);xt=!0;const on=pn(We._readableStreamController);return on===null?Kn():sr(on._view,!1),m(void 0)}function Kr(){if(xt)return Ht=!0,m(void 0);xt=!0;const on=pn(et._readableStreamController);return on===null?Kn():sr(on._view,!0),m(void 0)}function Ai(on){if(It=!0,ye=on,nr){const Br=Q([ye,ze]),fr=Un(pe,Br);Qe(fr)}return Or}function Er(on){if(nr=!0,ze=on,It){const Br=Q([ye,ze]),fr=Un(pe,Br);Qe(fr)}return Or}function Jn(){}return We=ja(Jn,Mn,Ai),et=ja(Jn,Kr,Er),Fr(ot),[We,et]}(W):function(pe,ye){const ze=F(pe);let We,et,Qe,ot,xt,At=!1,Ht=!1,It=!1,nr=!1;const Or=h(Kr=>{xt=Kr});function Fr(){return At?(Ht=!0,m(void 0)):(At=!0,De(ze,{_chunkSteps:Kr=>{T(()=>{Ht=!1;const Ai=Kr,Er=Kr;It||Pt(Qe._readableStreamController,Ai),nr||Pt(ot._readableStreamController,Er),At=!1,Ht&&Fr()})},_closeSteps:()=>{At=!1,It||at(Qe._readableStreamController),nr||at(ot._readableStreamController),It&&nr||xt(void 0)},_errorSteps:()=>{At=!1}}),m(void 0))}function Kn(Kr){if(It=!0,We=Kr,nr){const Ai=Q([We,et]),Er=Un(pe,Ai);xt(Er)}return Or}function sr(Kr){if(nr=!0,et=Kr,It){const Ai=Q([We,et]),Er=Un(pe,Ai);xt(Er)}return Or}function Mn(){}return Qe=Vi(Mn,Fr,Kn),ot=Vi(Mn,Fr,sr),E(ze._closedPromise,Kr=>(zt(Qe._readableStreamController,Kr),zt(ot._readableStreamController,Kr),It&&nr||xt(void 0),null)),[Qe,ot]}(W)}function $s(W){return i(J=W)&&J.getReader!==void 0?function(pe){let ye;function ze(){let et;try{et=pe.read()}catch(Qe){return g(Qe)}return y(et,Qe=>{if(!i(Qe))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(Qe.done)at(ye._readableStreamController);else{const ot=Qe.value;Pt(ye._readableStreamController,ot)}})}function We(et){try{return m(pe.cancel(et))}catch(Qe){return g(Qe)}}return ye=Vi(n,ze,We,0),ye}(W.getReader()):function(pe){let ye;const ze=Ye(pe,"async");function We(){let Qe;try{Qe=gt(ze)}catch(ot){return g(ot)}return y(m(Qe),ot=>{if(!i(ot))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(ot.done)at(ye._readableStreamController);else{const xt=ot.value;Pt(ye._readableStreamController,xt)}})}function et(Qe){const ot=ze.iterator;let xt;try{xt=Pe(ot,"return")}catch(At){return g(At)}return xt===void 0?m(void 0):y(d(xt,ot,[Qe]),At=>{if(!i(At))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return ye=Vi(n,We,et,0),ye}(W);var J}function jr(W,J,pe){return q(W,pe),ye=>d(W,J,[ye])}function ka(W,J,pe){return q(W,pe),ye=>d(W,J,[ye])}function Dr(W,J,pe){return q(W,pe),ye=>$(W,J,[ye])}function xn(W,J){if((W=`${W}`)!="bytes")throw new TypeError(`${J} '${W}' is not a valid enumeration value for ReadableStreamType`);return W}function uu(W,J){I(W,J);const pe=W==null?void 0:W.preventAbort,ye=W==null?void 0:W.preventCancel,ze=W==null?void 0:W.preventClose,We=W==null?void 0:W.signal;return We!==void 0&&function(et,Qe){if(!function(ot){if(typeof ot!="object"||ot===null)return!1;try{return typeof ot.aborted=="boolean"}catch{return!1}}(et))throw new TypeError(`${Qe} is not an AbortSignal.`)}(We,`${J} has member 'signal' that`),{preventAbort:!!pe,preventCancel:!!ye,preventClose:!!ze,signal:We}}Object.defineProperties(Je.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),s(Je.prototype.close,"close"),s(Je.prototype.enqueue,"enqueue"),s(Je.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Je.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class di{constructor(J={},pe={}){J===void 0?J=null:ae(J,"First parameter");const ye=wl(pe,"Second parameter"),ze=function(We,et){I(We,et);const Qe=We,ot=Qe==null?void 0:Qe.autoAllocateChunkSize,xt=Qe==null?void 0:Qe.cancel,At=Qe==null?void 0:Qe.pull,Ht=Qe==null?void 0:Qe.start,It=Qe==null?void 0:Qe.type;return{autoAllocateChunkSize:ot===void 0?void 0:Le(ot,`${et} has member 'autoAllocateChunkSize' that`),cancel:xt===void 0?void 0:jr(xt,Qe,`${et} has member 'cancel' that`),pull:At===void 0?void 0:ka(At,Qe,`${et} has member 'pull' that`),start:Ht===void 0?void 0:Dr(Ht,Qe,`${et} has member 'start' that`),type:It===void 0?void 0:xn(It,`${et} has member 'type' that`)}}(J,"First parameter");if(to(this),ze.type==="bytes"){if(ye.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");(function(We,et,Qe){const ot=Object.create(Oe.prototype);let xt,At,Ht;xt=et.start!==void 0?()=>et.start(ot):()=>{},At=et.pull!==void 0?()=>et.pull(ot):()=>m(void 0),Ht=et.cancel!==void 0?nr=>et.cancel(nr):()=>m(void 0);const It=et.autoAllocateChunkSize;if(It===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");fi(We,ot,xt,At,Ht,Qe,It)})(this,ze,Zn(ye,0))}else{const We=iu(ye);(function(et,Qe,ot,xt){const At=Object.create(Je.prototype);let Ht,It,nr;Ht=Qe.start!==void 0?()=>Qe.start(At):()=>{},It=Qe.pull!==void 0?()=>Qe.pull(At):()=>m(void 0),nr=Qe.cancel!==void 0?Or=>Qe.cancel(Or):()=>m(void 0),wi(et,At,Ht,It,nr,ot,xt)})(this,ze,Zn(ye,1),We)}}get locked(){if(!ki(this))throw ji("locked");return Hi(this)}cancel(J=void 0){return ki(this)?Hi(this)?g(new TypeError("Cannot cancel a stream that already has a reader")):Un(this,J):g(ji("cancel"))}getReader(J=void 0){if(!ki(this))throw ji("getReader");return function(pe,ye){I(pe,ye);const ze=pe==null?void 0:pe.mode;return{mode:ze===void 0?void 0:$i(ze,`${ye} has member 'mode' that`)}}(J,"First parameter").mode===void 0?F(this):Wn(this)}pipeThrough(J,pe={}){if(!ki(this))throw ji("pipeThrough");Z(J,1,"pipeThrough");const ye=function(We,et){I(We,et);const Qe=We==null?void 0:We.readable;te(Qe,"readable","ReadableWritablePair"),C(Qe,`${et} has member 'readable' that`);const ot=We==null?void 0:We.writable;return te(ot,"writable","ReadableWritablePair"),Ia(ot,`${et} has member 'writable' that`),{readable:Qe,writable:ot}}(J,"First parameter"),ze=uu(pe,"Second parameter");if(Hi(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ca(ye.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return S(Ae(this,ye.writable,ze.preventClose,ze.preventAbort,ze.preventCancel,ze.signal)),ye.readable}pipeTo(J,pe={}){if(!ki(this))return g(ji("pipeTo"));if(J===void 0)return g("Parameter 1 is required in 'pipeTo'.");if(!fo(J))return g(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let ye;try{ye=uu(pe,"Second parameter")}catch(ze){return g(ze)}return Hi(this)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ca(J)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Ae(this,J,ye.preventClose,ye.preventAbort,ye.preventCancel,ye.signal)}tee(){if(!ki(this))throw ji("tee");return Q(Ts(this))}values(J=void 0){if(!ki(this))throw ji("values");return function(pe,ye){const ze=F(pe),We=new Ot(ze,ye),et=Object.create(yt);return et._asyncIteratorImpl=We,et}(this,function(pe,ye){return I(pe,ye),{preventCancel:!!(pe==null?void 0:pe.preventCancel)}}(J,"First parameter").preventCancel)}[Be](J){return this.values(J)}static from(J){return $s(J)}}function Vi(W,J,pe,ye=1,ze=()=>1){const We=Object.create(di.prototype);return to(We),wi(We,Object.create(Je.prototype),W,J,pe,ye,ze),We}function ja(W,J,pe){const ye=Object.create(di.prototype);return to(ye),fi(ye,Object.create(Oe.prototype),W,J,pe,0,void 0),ye}function to(W){W._state="readable",W._reader=void 0,W._storedError=void 0,W._disturbed=!1}function ki(W){return!!i(W)&&!!Object.prototype.hasOwnProperty.call(W,"_readableStreamController")&&W instanceof di}function Hi(W){return W._reader!==void 0}function Un(W,J){if(W._disturbed=!0,W._state==="closed")return m(void 0);if(W._state==="errored")return g(W._storedError);ra(W);const pe=W._reader;if(pe!==void 0&&Gn(pe)){const ye=pe._readIntoRequests;pe._readIntoRequests=new x,ye.forEach(ze=>{ze._closeSteps(void 0)})}return y(W._readableStreamController[M](J),n)}function ra(W){W._state="closed";const J=W._reader;if(J!==void 0&&(z(J),Te(J))){const pe=J._readRequests;J._readRequests=new x,pe.forEach(ye=>{ye._closeSteps()})}}function xs(W,J){W._state="errored",W._storedError=J;const pe=W._reader;pe!==void 0&&(D(pe,J),Te(pe)?Ge(pe,J):Na(pe,J))}function ji(W){return new TypeError(`ReadableStream.prototype.${W} can only be used on a ReadableStream`)}function ro(W,J){I(W,J);const pe=W==null?void 0:W.highWaterMark;return te(pe,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ue(pe)}}Object.defineProperties(di,{from:{enumerable:!0}}),Object.defineProperties(di.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),s(di.from,"from"),s(di.prototype.cancel,"cancel"),s(di.prototype.getReader,"getReader"),s(di.prototype.pipeThrough,"pipeThrough"),s(di.prototype.pipeTo,"pipeTo"),s(di.prototype.tee,"tee"),s(di.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(di.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(di.prototype,Be,{value:di.prototype.values,writable:!0,configurable:!0});const nf=W=>W.byteLength;s(nf,"size");class Da{constructor(J){Z(J,1,"ByteLengthQueuingStrategy"),J=ro(J,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=J.highWaterMark}get highWaterMark(){if(!cu(this))throw fn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!cu(this))throw fn("size");return nf}}function fn(W){return new TypeError(`ByteLengthQueuingStrategy.prototype.${W} can only be used on a ByteLengthQueuingStrategy`)}function cu(W){return!!i(W)&&!!Object.prototype.hasOwnProperty.call(W,"_byteLengthQueuingStrategyHighWaterMark")&&W instanceof Da}Object.defineProperties(Da.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Da.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const Ao=()=>1;s(Ao,"size");class na{constructor(J){Z(J,1,"CountQueuingStrategy"),J=ro(J,"First parameter"),this._countQueuingStrategyHighWaterMark=J.highWaterMark}get highWaterMark(){if(!gp(this))throw mp("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!gp(this))throw mp("size");return Ao}}function mp(W){return new TypeError(`CountQueuingStrategy.prototype.${W} can only be used on a CountQueuingStrategy`)}function gp(W){return!!i(W)&&!!Object.prototype.hasOwnProperty.call(W,"_countQueuingStrategyHighWaterMark")&&W instanceof na}function vp(W,J,pe){return q(W,pe),ye=>d(W,J,[ye])}function Oo(W,J,pe){return q(W,pe),ye=>$(W,J,[ye])}function Id(W,J,pe){return q(W,pe),(ye,ze)=>d(W,J,[ye,ze])}function Ma(W,J,pe){return q(W,pe),ye=>d(W,J,[ye])}Object.defineProperties(na.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(na.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class $l{constructor(J={},pe={},ye={}){J===void 0&&(J=null);const ze=wl(pe,"Second parameter"),We=wl(ye,"Third parameter"),et=function(It,nr){I(It,nr);const Or=It==null?void 0:It.cancel,Fr=It==null?void 0:It.flush,Kn=It==null?void 0:It.readableType,sr=It==null?void 0:It.start,Mn=It==null?void 0:It.transform,Kr=It==null?void 0:It.writableType;return{cancel:Or===void 0?void 0:Ma(Or,It,`${nr} has member 'cancel' that`),flush:Fr===void 0?void 0:vp(Fr,It,`${nr} has member 'flush' that`),readableType:Kn,start:sr===void 0?void 0:Oo(sr,It,`${nr} has member 'start' that`),transform:Mn===void 0?void 0:Id(Mn,It,`${nr} has member 'transform' that`),writableType:Kr}}(J,"First parameter");if(et.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(et.writableType!==void 0)throw new RangeError("Invalid writableType specified");const Qe=Zn(We,0),ot=iu(We),xt=Zn(ze,1),At=iu(ze);let Ht;(function(It,nr,Or,Fr,Kn,sr){function Mn(){return nr}function Kr(Br){return function(fr,yn){const Nr=fr._transformStreamController;return fr._backpressure?y(fr._backpressureChangePromise,()=>{const An=fr._writable;if(An._state==="erroring")throw An._storedError;return sf(Nr,yn)}):sf(Nr,yn)}(It,Br)}function Ai(Br){return function(fr,yn){const Nr=fr._transformStreamController;if(Nr._finishPromise!==void 0)return Nr._finishPromise;const An=fr._readable;Nr._finishPromise=h((Mi,af)=>{Nr._finishPromise_resolve=Mi,Nr._finishPromise_reject=af});const ho=Nr._cancelAlgorithm(yn);return Di(Nr),v(ho,()=>(An._state==="errored"?rt(Nr,An._storedError):(zt(An._readableStreamController,yn),Ue(Nr)),null),Mi=>(zt(An._readableStreamController,Mi),rt(Nr,Mi),null)),Nr._finishPromise}(It,Br)}function Er(){return function(Br){const fr=Br._transformStreamController;if(fr._finishPromise!==void 0)return fr._finishPromise;const yn=Br._readable;fr._finishPromise=h((An,ho)=>{fr._finishPromise_resolve=An,fr._finishPromise_reject=ho});const Nr=fr._flushAlgorithm();return Di(fr),v(Nr,()=>(yn._state==="errored"?rt(fr,yn._storedError):(at(yn._readableStreamController),Ue(fr)),null),An=>(zt(yn._readableStreamController,An),rt(fr,An),null)),fr._finishPromise}(It)}function Jn(){return function(Br){return of(Br,!1),Br._backpressureChangePromise}(It)}function on(Br){return function(fr,yn){const Nr=fr._transformStreamController;if(Nr._finishPromise!==void 0)return Nr._finishPromise;const An=fr._writable;Nr._finishPromise=h((Mi,af)=>{Nr._finishPromise_resolve=Mi,Nr._finishPromise_reject=af});const ho=Nr._cancelAlgorithm(yn);return Di(Nr),v(ho,()=>(An._state==="errored"?rt(Nr,An._storedError):(lu(An._writableStreamController,yn),Qu(fr),Ue(Nr)),null),Mi=>(lu(An._writableStreamController,Mi),Qu(fr),rt(Nr,Mi),null)),Nr._finishPromise}(It,Br)}It._writable=function(Br,fr,yn,Nr,An=1,ho=()=>1){const Mi=Object.create(Es.prototype);return ea(Mi),$n(Mi,Object.create(su.prototype),Br,fr,yn,Nr,An,ho),Mi}(Mn,Kr,Er,Ai,Or,Fr),It._readable=Vi(Mn,Jn,on,Kn,sr),It._backpressure=void 0,It._backpressureChangePromise=void 0,It._backpressureChangePromise_resolve=void 0,of(It,!0),It._transformStreamController=void 0})(this,h(It=>{Ht=It}),xt,At,Qe,ot),function(It,nr){const Or=Object.create(Yo.prototype);let Fr,Kn,sr;Fr=nr.transform!==void 0?Mn=>nr.transform(Mn,Or):Mn=>{try{return Cd(Or,Mn),m(void 0)}catch(Kr){return g(Kr)}},Kn=nr.flush!==void 0?()=>nr.flush(Or):()=>m(void 0),sr=nr.cancel!==void 0?Mn=>nr.cancel(Mn):()=>m(void 0),function(Mn,Kr,Ai,Er,Jn){Kr._controlledTransformStream=Mn,Mn._transformStreamController=Kr,Kr._transformAlgorithm=Ai,Kr._flushAlgorithm=Er,Kr._cancelAlgorithm=Jn,Kr._finishPromise=void 0,Kr._finishPromise_resolve=void 0,Kr._finishPromise_reject=void 0}(It,Or,Fr,Kn,sr)}(this,et),et.start!==void 0?Ht(et.start(this._transformStreamController)):Ht(void 0)}get readable(){if(!xl(this))throw lt("readable");return this._readable}get writable(){if(!xl(this))throw lt("writable");return this._writable}}function xl(W){return!!i(W)&&!!Object.prototype.hasOwnProperty.call(W,"_transformStreamController")&&W instanceof $l}function Po(W,J){zt(W._readable._readableStreamController,J),ia(W,J)}function ia(W,J){Di(W._transformStreamController),lu(W._writable._writableStreamController,J),Qu(W)}function Qu(W){W._backpressure&&of(W,!1)}function of(W,J){W._backpressureChangePromise!==void 0&&W._backpressureChangePromise_resolve(),W._backpressureChangePromise=h(pe=>{W._backpressureChangePromise_resolve=pe}),W._backpressure=J}Object.defineProperties($l.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty($l.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class Yo{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Xo(this))throw Zu("desiredSize");return wr(this._controlledTransformStream._readable._readableStreamController)}enqueue(J=void 0){if(!Xo(this))throw Zu("enqueue");Cd(this,J)}error(J=void 0){if(!Xo(this))throw Zu("error");var pe;pe=J,Po(this._controlledTransformStream,pe)}terminate(){if(!Xo(this))throw Zu("terminate");(function(J){const pe=J._controlledTransformStream;at(pe._readable._readableStreamController);const ye=new TypeError("TransformStream terminated");ia(pe,ye)})(this)}}function Xo(W){return!!i(W)&&!!Object.prototype.hasOwnProperty.call(W,"_controlledTransformStream")&&W instanceof Yo}function Di(W){W._transformAlgorithm=void 0,W._flushAlgorithm=void 0,W._cancelAlgorithm=void 0}function Cd(W,J){const pe=W._controlledTransformStream,ye=pe._readable._readableStreamController;if(!pr(ye))throw new TypeError("Readable side is not in a state that permits enqueue");try{Pt(ye,J)}catch(We){throw ia(pe,We),pe._readable._storedError}(function(We){return!dt(We)})(ye)!==pe._backpressure&&of(pe,!0)}function sf(W,J){return y(W._transformAlgorithm(J),void 0,pe=>{throw Po(W._controlledTransformStream,pe),pe})}function Zu(W){return new TypeError(`TransformStreamDefaultController.prototype.${W} can only be used on a TransformStreamDefaultController`)}function Ue(W){W._finishPromise_resolve!==void 0&&(W._finishPromise_resolve(),W._finishPromise_resolve=void 0,W._finishPromise_reject=void 0)}function rt(W,J){W._finishPromise_reject!==void 0&&(S(W._finishPromise),W._finishPromise_reject(J),W._finishPromise_resolve=void 0,W._finishPromise_reject=void 0)}function lt(W){return new TypeError(`TransformStream.prototype.${W} can only be used on a TransformStream`)}Object.defineProperties(Yo.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),s(Yo.prototype.enqueue,"enqueue"),s(Yo.prototype.error,"error"),s(Yo.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Yo.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),r.ByteLengthQueuingStrategy=Da,r.CountQueuingStrategy=na,r.ReadableByteStreamController=Oe,r.ReadableStream=di,r.ReadableStreamBYOBReader=nn,r.ReadableStreamBYOBRequest=hr,r.ReadableStreamDefaultController=Je,r.ReadableStreamDefaultReader=ve,r.TransformStream=$l,r.TransformStreamDefaultController=Yo,r.WritableStream=Es,r.WritableStreamDefaultController=su,r.WritableStreamDefaultWriter=ta})}}),vk=Fe({"../core/dist/protocol-helpers.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=(ml(),hn(Aa)),r=gk(),n=Ys(),{debug:i,warn:o}=(0,n.createLoggers)("core","protocol-helpers");function s(c){return class extends c{set nodeStream(h){this._nodeStream=h}get nodeStream(){if(!this._nodeStream)throw new Error("ManagedStream not correctly initialized nodeStream is undefined");return this._nodeStream}set wotStream(h){this._wotStream=h}get wotStream(){if(!this._wotStream)throw new Error("ManagedStream not correctly initialized wotStream is undefined");return this._wotStream}}}var a=s(t.Readable),l=s(r.ReadableStream);function u(c){return c instanceof l||c instanceof a}var f=class{static updatePropertyFormWithTemplate(c,h){for(const m of h.forms??[])if(m.href,m.contentType!=null){c.contentType=m.contentType;return}}static updateActionFormWithTemplate(c,h){for(const m of h.forms??[])if(m.href,m.contentType!=null){c.contentType=m.contentType;return}}static updateEventFormWithTemplate(c,h){for(const m of h.forms??[])if(m.href,m.contentType!=null){c.contentType=m.contentType;return}}static getPropertyContentType(c,h,m){var g;if(h!=null&&m!=null&&(c==null?void 0:c.properties)!=null&&c.properties[h]!=null&&c.properties[h].forms!=null&&Array.isArray(c.properties[h].forms)){for(const _ of c.properties[h].forms)if((g=_.href)!=null&&g.startsWith(m)&&_.contentType!=null)return _.contentType}}static getActionContentType(c,h,m){var g;if(h!=null&&m!=null&&(c!=null&&c.actions)&&c.actions!=null&&Array.isArray((g=c.actions[h])==null?void 0:g.forms)){for(const _ of c.actions[h].forms)if(_.href&&_.href.startsWith(m)&&_.contentType!=null)return _.contentType}}static getEventContentType(c,h,m){var g;if(h!=null&&m!=null&&(c!=null&&c.events)&&((g=c==null?void 0:c.events[h])==null?void 0:g.forms)!=null&&Array.isArray(c.events[h].forms)){for(const _ of c.events[h].forms)if(_.href&&_.href.startsWith(m)&&_.contentType!=null)return _.contentType}}static toWoTStream(c){if(u(c))return c.wotStream;const h=new l({start:m=>{c.on("data",g=>m.enqueue(g)),c.on("error",g=>m.error(g)),c.on("end",()=>m.close())},cancel:m=>{c instanceof t.Readable&&c.destroy(m)}});return c instanceof t.Readable?h.nodeStream=c:h.nodeStream=new t.Readable(c),h}static toNodeStream(c){if(u(c))return c.nodeStream;if(c instanceof t.Readable)return c;const h=c.getReader(),m=new a({read:g=>{h.read().then(_=>{m.push(_.value),_.done&&m.push(null)})},destroy:(g,_)=>{h.releaseLock(),c.cancel(g).then(()=>_(g))}});return m.wotStream=c,m.nodeStream=m,m}static readStreamFully(c){return new Promise((h,m)=>{if(c!=null){const g=[];c.on("data",_=>g.push(_)),c.on("error",m),c.on("end",()=>{g[0]!=null&&(g[0]instanceof Array||g[0]instanceof Cn||g[0]instanceof Uint8Array)?h(Cn.concat(g)):g[0]!=null&&typeof g[0]=="string"?h(Cn.from(g.join())):h(Cn.from(g))})}else i("Protocol-Helper returns empty buffer for readStreamFully due to undefined stream"),h(Cn.alloc(0))})}static findRequestMatchingFormIndex(c,h,m,g){if(c===void 0)return 0;let _=c.filter(v=>{const p=new URL(v.href.replace(/(\{[\S]*\})/,"")),E=m!==void 0?m.indexOf("?")!==-1?m.split("?")[0]:m:void 0;return p.protocol===h+":"&&(E===void 0||p.pathname===E)});if(g!=null){const v=_.filter(p=>p.contentType===g);v.length>0&&(_=v)}return _.length>0?c.indexOf(_[0]):0}static getFormIndexForOperation(c,h,m,g){var p;let _=-1,v=[];switch(h){case"property":if(c.readOnly===!0&&m==="writeproperty"||c.writeOnly===!0&&m==="readproperty")return _;c.readOnly!==!0&&v.push("writeproperty"),c.writeOnly!==!0&&v.push("readproperty");break;case"action":v=["invokeaction"];break;case"event":v=["subscribeevent","unsubscribeevent"];break}if(v.indexOf(m)!==-1&&(m=void 0),c.forms!==void 0&&g!==void 0&&c.forms.length>g){const E=c.forms[g];E!=null&&(m==null||((p=E.op)==null?void 0:p.includes(m))===!0)&&(_=g)}return c.forms!==void 0&&_===-1&&(m!==void 0?c.forms.every(E=>{var y;return((y=E.op)==null?void 0:y.includes(m))===!0&&(_=c.forms.indexOf(E)),_===-1}):c.forms.every(E=>(_=c.forms.indexOf(E),!1))),_}static getPropertyOpValues(c){const h=[];return c.readOnly!==!0&&h.push("writeproperty"),c.writeOnly!==!0&&h.push("readproperty"),h.length===0&&o("Property was declared both as readOnly and writeOnly."),c.observable===!0&&(h.push("observeproperty"),h.push("unobserveproperty")),h}};e.default=f}}),SG=Fe({"../core/dist/content.js"(e){Ie();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultContent=e.Content=void 0;var r=Ku(),n=t(vk()),i=class{constructor(s,a){this.type=s,this.body=a}toBuffer(){return n.default.readStreamFully(this.body)}};e.Content=i;var o=class extends i{constructor(s){super(r.ContentSerdes.DEFAULT,s)}};e.DefaultContent=o}}),cg=Fe({"../../node_modules/nofilter/lib/index.js"(e,t){Ie();var r=(ml(),hn(Aa)),{Buffer:n}=(md(),hn(pd)),i=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}),o=class bE extends r.Transform{constructor(a,l,u={}){let f=null,c=null;switch(typeof a){case"object":n.isBuffer(a)?f=a:a&&(u=a);break;case"string":f=a;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof l){case"object":l&&(u=l);break;case"string":c=l;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!u||typeof u!="object")throw new TypeError("Invalid options");f==null&&(f=u.input),c==null&&(c=u.inputEncoding),delete u.input,delete u.inputEncoding;const h=u.watchPipe==null?!0:u.watchPipe;delete u.watchPipe;const m=!!u.readError;delete u.readError,super(u),this.readError=m,h&&this.on("pipe",g=>{const _=g._readableState.objectMode;if(this.length>0&&_!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=_,this._writableState.objectMode=_}),f!=null&&this.end(f,c)}static isNoFilter(a){return a instanceof this}static compare(a,l){if(!(a instanceof this))throw new TypeError("Arguments must be NoFilters");return a===l?0:a.compare(l)}static concat(a,l){if(!Array.isArray(a))throw new TypeError("list argument must be an Array of NoFilters");if(a.length===0||l===0)return n.alloc(0);l==null&&(l=a.reduce((h,m)=>{if(!(m instanceof bE))throw new TypeError("list argument must be an Array of NoFilters");return h+m.length},0));let u=!0,f=!0;const c=a.map(h=>{if(!(h instanceof bE))throw new TypeError("list argument must be an Array of NoFilters");const m=h.slice();return n.isBuffer(m)?f=!1:u=!1,m});if(u)return n.concat(c,l);if(f)return[].concat(...c).slice(0,l);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(a,l,u){!this._readableState.objectMode&&!n.isBuffer(a)&&(a=n.from(a,l)),this.push(a),u()}_bufArray(){let a=this._readableState.buffer;if(!Array.isArray(a)){let l=a.head;for(a=[];l!=null;)a.push(l.data),l=l.next}return a}read(a){const l=super.read(a);if(l!=null){if(this.emit("read",l),this.readError&&l.length<a)throw new Error(`Read ${l.length}, wanted ${a}`)}else if(this.readError)throw new Error(`No data available, wanted ${a}`);return l}readFull(a){let l=null,u=null,f=null;return new Promise((c,h)=>{if(this.length>=a){c(this.read(a));return}if(this.writableFinished){h(new Error(`Stream finished before ${a} bytes were available`));return}l=m=>{this.length>=a&&c(this.read(a))},u=()=>{h(new Error(`Stream finished before ${a} bytes were available`))},f=h,this.on("readable",l),this.on("error",f),this.on("finish",u)}).finally(()=>{l&&(this.removeListener("readable",l),this.removeListener("error",f),this.removeListener("finish",u))})}promise(a){let l=!1;return new Promise((u,f)=>{this.on("finish",()=>{const c=this.read();a!=null&&!l&&(l=!0,a(null,c)),u(c)}),this.on("error",c=>{a!=null&&!l&&(l=!0,a(c)),f(c)})})}compare(a){if(!(a instanceof bE))throw new TypeError("Arguments must be NoFilters");if(this===a)return 0;const l=this.slice(),u=a.slice();if(n.isBuffer(l)&&n.isBuffer(u))return l.compare(u);throw new Error("Cannot compare streams in object mode")}equals(a){return this.compare(a)===0}slice(a,l){if(this._readableState.objectMode)return this._bufArray().slice(a,l);const u=this._bufArray();switch(u.length){case 0:return n.alloc(0);case 1:return u[0].slice(a,l);default:return n.concat(u).slice(a,l)}}get(a){return this.slice()[a]}toJSON(){const a=this.slice();return n.isBuffer(a)?a.toJSON():a}toString(a,l,u){const f=this.slice(l,u);return n.isBuffer(f)?!a||a==="utf8"?i.decode(f):f.toString(a):JSON.stringify(f)}[Symbol.for("nodejs.util.inspect.custom")](a,l){const f=this._bufArray().map(c=>n.isBuffer(c)?l.stylize(c.toString("hex"),"string"):JSON.stringify(c)).join(", ");return`${this.constructor.name} [${f}]`}get length(){return this._readableState.length}writeBigInt(a){let l=a.toString(16);if(a<0){const u=BigInt(Math.floor(l.length/2));a=(BigInt(1)<<u*BigInt(8))+a,l=a.toString(16)}return l.length%2&&(l=`0${l}`),this.push(n.from(l,"hex"))}readUBigInt(a){const l=this.read(a);return n.isBuffer(l)?BigInt(`0x${l.toString("hex")}`):null}readBigInt(a){const l=this.read(a);if(!n.isBuffer(l))return null;let u=BigInt(`0x${l.toString("hex")}`);if(l[0]&128){const f=BigInt(1)<<BigInt(l.length)*BigInt(8);u-=f}return u}writeUInt8(a){const l=n.from([a]);return this.push(l)}writeUInt16LE(a){const l=n.alloc(2);return l.writeUInt16LE(a),this.push(l)}writeUInt16BE(a){const l=n.alloc(2);return l.writeUInt16BE(a),this.push(l)}writeUInt32LE(a){const l=n.alloc(4);return l.writeUInt32LE(a),this.push(l)}writeUInt32BE(a){const l=n.alloc(4);return l.writeUInt32BE(a),this.push(l)}writeInt8(a){const l=n.from([a]);return this.push(l)}writeInt16LE(a){const l=n.alloc(2);return l.writeUInt16LE(a),this.push(l)}writeInt16BE(a){const l=n.alloc(2);return l.writeUInt16BE(a),this.push(l)}writeInt32LE(a){const l=n.alloc(4);return l.writeUInt32LE(a),this.push(l)}writeInt32BE(a){const l=n.alloc(4);return l.writeUInt32BE(a),this.push(l)}writeFloatLE(a){const l=n.alloc(4);return l.writeFloatLE(a),this.push(l)}writeFloatBE(a){const l=n.alloc(4);return l.writeFloatBE(a),this.push(l)}writeDoubleLE(a){const l=n.alloc(8);return l.writeDoubleLE(a),this.push(l)}writeDoubleBE(a){const l=n.alloc(8);return l.writeDoubleBE(a),this.push(l)}writeBigInt64LE(a){const l=n.alloc(8);return l.writeBigInt64LE(a),this.push(l)}writeBigInt64BE(a){const l=n.alloc(8);return l.writeBigInt64BE(a),this.push(l)}writeBigUInt64LE(a){const l=n.alloc(8);return l.writeBigUInt64LE(a),this.push(l)}writeBigUInt64BE(a){const l=n.alloc(8);return l.writeBigUInt64BE(a),this.push(l)}readUInt8(){const a=this.read(1);return n.isBuffer(a)?a.readUInt8():null}readUInt16LE(){const a=this.read(2);return n.isBuffer(a)?a.readUInt16LE():null}readUInt16BE(){const a=this.read(2);return n.isBuffer(a)?a.readUInt16BE():null}readUInt32LE(){const a=this.read(4);return n.isBuffer(a)?a.readUInt32LE():null}readUInt32BE(){const a=this.read(4);return n.isBuffer(a)?a.readUInt32BE():null}readInt8(){const a=this.read(1);return n.isBuffer(a)?a.readInt8():null}readInt16LE(){const a=this.read(2);return n.isBuffer(a)?a.readInt16LE():null}readInt16BE(){const a=this.read(2);return n.isBuffer(a)?a.readInt16BE():null}readInt32LE(){const a=this.read(4);return n.isBuffer(a)?a.readInt32LE():null}readInt32BE(){const a=this.read(4);return n.isBuffer(a)?a.readInt32BE():null}readFloatLE(){const a=this.read(4);return n.isBuffer(a)?a.readFloatLE():null}readFloatBE(){const a=this.read(4);return n.isBuffer(a)?a.readFloatBE():null}readDoubleLE(){const a=this.read(8);return n.isBuffer(a)?a.readDoubleLE():null}readDoubleBE(){const a=this.read(8);return n.isBuffer(a)?a.readDoubleBE():null}readBigInt64LE(){const a=this.read(8);return n.isBuffer(a)?a.readBigInt64LE():null}readBigInt64BE(){const a=this.read(8);return n.isBuffer(a)?a.readBigInt64BE():null}readBigUInt64LE(){const a=this.read(8);return n.isBuffer(a)?a.readBigUInt64LE():null}readBigUInt64BE(){const a=this.read(8);return n.isBuffer(a)?a.readBigUInt64BE():null}};t.exports=o}}),wd=Fe({"../../node_modules/cbor/lib/constants.js"(e){Ie(),e.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},e.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258},e.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},e.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},e.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")},e.SHIFT32=4294967296,e.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(e.SHIFT32)}}}),d0=Fe({"../../node_modules/cbor/lib/utils.js"(e){Ie();var{Buffer:t}=(md(),hn(pd)),r=cg(),n=(ml(),hn(Aa)),i=wd(),{NUMBYTES:o,SHIFT32:s,BI:a,SYMS:l}=i,u=2097151,f=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});e.utf8=m=>f.decode(m),e.utf8.checksUTF8=!0;function c(m){return m instanceof n.Readable?!0:["read","on","pipe"].every(g=>typeof m[g]=="function")}e.isBufferish=function(g){return g&&typeof g=="object"&&(t.isBuffer(g)||g instanceof Uint8Array||g instanceof Uint8ClampedArray||g instanceof ArrayBuffer||g instanceof DataView)},e.bufferishToBuffer=function(g){return t.isBuffer(g)?g:ArrayBuffer.isView(g)?t.from(g.buffer,g.byteOffset,g.byteLength):g instanceof ArrayBuffer?t.from(g):null},e.parseCBORint=function(g,_){switch(g){case o.ONE:return _.readUInt8(0);case o.TWO:return _.readUInt16BE(0);case o.FOUR:return _.readUInt32BE(0);case o.EIGHT:{const v=_.readUInt32BE(0),p=_.readUInt32BE(4);return v>u?BigInt(v)*a.SHIFT32+BigInt(p):v*s+p}default:throw new Error(`Invalid additional info for int: ${g}`)}},e.writeHalf=function(g,_){const v=t.allocUnsafe(4);v.writeFloatBE(_,0);const p=v.readUInt32BE(0);if(p&8191)return!1;let E=p>>16&32768;const y=p>>23&255,S=p&8388607;if(y>=113&&y<=142)E+=(y-112<<10)+(S>>13);else if(y>=103&&y<113){if(S&(1<<126-y)-1)return!1;E+=S+8388608>>126-y}else return!1;return g.writeUInt16BE(E),!0},e.parseHalf=function(g){const _=g[0]&128?-1:1,v=(g[0]&124)>>2,p=(g[0]&3)<<8|g[1];if(v){if(v===31)return _*(p?NaN:1/0)}else return _*5960464477539063e-23*p;return _*2**(v-25)*(1024+p)},e.parseCBORfloat=function(g){switch(g.length){case 2:return e.parseHalf(g);case 4:return g.readFloatBE(0);case 8:return g.readDoubleBE(0);default:throw new Error(`Invalid float size: ${g.length}`)}},e.hex=function(g){return t.from(g.replace(/^0x/,""),"hex")},e.bin=function(g){g=g.replace(/\s/g,"");let _=0,v=g.length%8||8;const p=[];for(;v<=g.length;)p.push(parseInt(g.slice(_,v),2)),_=v,v+=8;return t.from(p)},e.arrayEqual=function(g,_){return g==null&&_==null?!0:g==null||_==null?!1:g.length===_.length&&g.every((v,p)=>v===_[p])},e.bufferToBigInt=function(g){return BigInt(`0x${g.toString("hex")}`)},e.cborValueToString=function(g,_=-1){switch(typeof g){case"symbol":{switch(g){case l.NULL:return"null";case l.UNDEFINED:return"undefined";case l.BREAK:return"BREAK"}if(g.description)return g.description;const p=g.toString().match(/^Symbol\((?<name>.*)\)/);return p&&p.groups.name?p.groups.name:"Symbol"}case"string":return JSON.stringify(g);case"bigint":return g.toString();case"number":{const v=Object.is(g,-0)?"-0":String(g);return _>0?`${v}_${_}`:v}case"object":{const v=e.bufferishToBuffer(g);if(v){const p=v.toString("hex");return _===-1/0?p:`h'${p}'`}return typeof g[Symbol.for("nodejs.util.inspect.custom")]=="function"?g[Symbol.for("nodejs.util.inspect.custom")]():Array.isArray(g)?"[]":"{}"}}return String(g)},e.guessEncoding=function(g,_){if(typeof g=="string")return new r(g,_??"hex");const v=e.bufferishToBuffer(g);if(v)return new r(v);if(c(g))return g;throw new Error("Unknown input type")};var h={"=":"","+":"-","/":"_"};e.base64url=function(g){return e.bufferishToBuffer(g).toString("base64").replace(/[=+/]/g,_=>h[_])},e.base64=function(g){return e.bufferishToBuffer(g).toString("base64")},e.isBigEndian=function(){const g=new Uint8Array(4),_=new Uint32Array(g.buffer);return!((_[0]=1)&g[0])}}}),Lpe=Fe({"../../node_modules/cbor/vendor/binary-parse-stream/index.js"(e,t){Ie();var r=(ml(),hn(Aa)),n=cg(),i=class extends r.Transform{constructor(o){super(o),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new n,this.__restart()}_transform(o,s,a){for(this.bs.write(o);this.bs.length>=this.__needed;){let l=null;const u=this.__needed===null?void 0:this.bs.read(this.__needed);try{l=this.__parser.next(u)}catch(f){return a(f)}this.__needed&&(this.__fresh=!1),l.done?(this.push(l.value),this.__restart()):this.__needed=l.value||1/0}return a()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(o){o(this.__fresh?null:new Error("unexpected end of input"))}};t.exports=i}}),TG=Fe({"../../node_modules/cbor/lib/tagged.js"(e,t){Ie();var r=wd(),n=d0(),i=Symbol("INTERNAL_JSON");function o(_,v){if(n.isBufferish(_))_.toJSON=v;else if(Array.isArray(_))for(const p of _)o(p,v);else if(_&&typeof _=="object"&&(!(_ instanceof g)||_.tag<21||_.tag>23))for(const p of Object.values(_))o(p,v)}function s(){return n.base64(this)}function a(){return n.base64url(this)}function l(){return this.toString("hex")}function u(_,v,p,E){const y=new DataView(_),[S,T]={2:[y.getUint16,y.setUint16],4:[y.getUint32,y.setUint32],8:[y.getBigUint64,y.setBigUint64]}[v],$=p+E;for(let d=p;d<$;d+=v)T.call(y,d,S.call(y,d,!0))}var f={0:_=>new Date(_),1:_=>new Date(_*1e3),2:_=>n.bufferToBigInt(_),3:_=>r.BI.MINUS_ONE-n.bufferToBigInt(_),21:(_,v)=>(n.isBufferish(_)?v[i]=a:o(_,a),v),22:(_,v)=>(n.isBufferish(_)?v[i]=s:o(_,s),v),23:(_,v)=>(n.isBufferish(_)?v[i]=l:o(_,l),v),32:_=>new URL(_),33:(_,v)=>{if(!_.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");const p=_.length%4;if(p===1)throw new Error("Invalid base64url length");if(p===2){if("AQgw".indexOf(_[_.length-1])===-1)throw new Error("Invalid base64 padding")}else if(p===3&&"AEIMQUYcgkosw048".indexOf(_[_.length-1])===-1)throw new Error("Invalid base64 padding");return v},34:(_,v)=>{const p=_.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!p)throw new Error("Invalid base64 characters");if(_.length%4!==0)throw new Error("Invalid base64 length");if(p.groups.padding==="="){if("AQgw".indexOf(_[_.length-2])===-1)throw new Error("Invalid base64 padding")}else if(p.groups.padding==="=="&&"AEIMQUYcgkosw048".indexOf(_[_.length-3])===-1)throw new Error("Invalid base64 padding");return v},35:_=>new RegExp(_),258:_=>new Set(_)},c={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};typeof BigUint64Array<"u"&&(c[67]=BigUint64Array,c[71]=BigUint64Array),typeof BigInt64Array<"u"&&(c[75]=BigInt64Array,c[79]=BigInt64Array);function h(_,v){if(!n.isBufferish(_))throw new TypeError("val not a buffer");const{tag:p}=v,E=c[p];if(!E)throw new Error(`Invalid typed array tag: ${p}`);const y=p&4,T=2**(((p&16)>>4)+(p&3));!y!==n.isBigEndian()&&T>1&&u(_.buffer,T,_.byteOffset,_.byteLength);const $=_.buffer.slice(_.byteOffset,_.byteOffset+_.byteLength);return new E($)}for(const _ of Object.keys(c))f[_]=h;var m={},g=class iI{constructor(v,p,E){if(this.tag=v,this.value=p,this.err=E,typeof this.tag!="number")throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(this.tag|0)!==this.tag)throw new Error(`Tag must be a positive integer: ${this.tag}`)}toJSON(){if(this[i])return this[i].call(this.value);const v={tag:this.tag,value:this.value};return this.err&&(v.err=this.err),v}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(v){return v._pushTag(this.tag),v.pushAny(this.value)}convert(v){let p=v==null?void 0:v[this.tag];if(typeof p!="function"&&(p=iI.TAGS[this.tag],typeof p!="function"))return this;try{return p.call(this,this.value,this)}catch(E){return E&&E.message&&E.message.length>0?this.err=E.message:this.err=E,this}}static get TAGS(){return m}static set TAGS(v){m=v}static reset(){iI.TAGS={...f}}};g.INTERNAL_JSON=i,g.reset(),t.exports=g}}),$G=Fe({"../../node_modules/cbor/lib/simple.js"(e,t){Ie();var{MT:r,SIMPLE:n,SYMS:i}=wd(),o=class oI{constructor(a){if(typeof a!="number")throw new Error(`Invalid Simple type: ${typeof a}`);if(a<0||a>255||(a|0)!==a)throw new Error(`value must be a small positive integer: ${a}`);this.value=a}toString(){return`simple(${this.value})`}[Symbol.for("nodejs.util.inspect.custom")](a,l){return`simple(${this.value})`}encodeCBOR(a){return a._pushInt(this.value,r.SIMPLE_FLOAT)}static isSimple(a){return a instanceof oI}static decode(a,l=!0,u=!1){switch(a){case n.FALSE:return!1;case n.TRUE:return!0;case n.NULL:return l?null:i.NULL;case n.UNDEFINED:return l?void 0:i.UNDEFINED;case-1:if(!l||!u)throw new Error("Invalid BREAK");return i.BREAK;default:return new oI(a)}}};t.exports=o}}),aT=Fe({"../../node_modules/cbor/lib/decoder.js"(e,t){Ie();var r=Lpe(),n=TG(),i=$G(),o=d0(),s=cg();ml(),hn(Aa);var a=wd(),{MT:l,NUMBYTES:u,SYMS:f,BI:c}=a,{Buffer:h}=(md(),hn(pd)),m=Symbol("count"),g=Symbol("major type"),_=Symbol("error"),v=Symbol("not found");function p($,d,x){const O=[];return O[m]=x,O[f.PARENT]=$,O[g]=d,O}function E($,d){const x=new s;return x[m]=-1,x[f.PARENT]=$,x[g]=d,x}var y=class extends Error{constructor($,d){super(`Unexpected data: 0x${$.toString(16)}`),this.name="UnexpectedDataError",this.byte=$,this.value=d}};function S($,d){switch(typeof $){case"function":return{options:{},cb:$};case"string":return{options:{encoding:$},cb:d};case"object":return{options:$||{},cb:d};default:throw new TypeError("Unknown option type")}}var T=class Su extends r{constructor(d={}){const{tags:x={},max_depth:O=-1,preferWeb:P=!1,required:M=!1,encoding:U="hex",extendedResults:K=!1,preventDuplicateKeys:ie=!1,...G}=d;super({defaultEncoding:U,...G}),this.running=!0,this.max_depth=O,this.tags=x,this.preferWeb=P,this.extendedResults=K,this.required=M,this.preventDuplicateKeys=ie,K&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new s)}static nullcheck(d){switch(d){case f.NULL:return null;case f.UNDEFINED:return;case v:throw new Error("Value not found");default:return d}}static decodeFirstSync(d,x={}){if(d==null)throw new TypeError("input required");({options:x}=S(x));const{encoding:O="hex",...P}=x,M=new Su(P),U=o.guessEncoding(d,O),K=M._parse();let ie=K.next();for(;!ie.done;){const ne=U.read(ie.value);if(ne==null||ne.length!==ie.value)throw new Error("Insufficient data");M.extendedResults&&M.valueBytes.write(ne),ie=K.next(ne)}let G=null;if(M.extendedResults)G=ie.value,G.unused=U.read();else if(G=Su.nullcheck(ie.value),U.length>0){const ne=U.read(1);throw U.unshift(ne),new y(ne[0],G)}return G}static decodeAllSync(d,x={}){if(d==null)throw new TypeError("input required");({options:x}=S(x));const{encoding:O="hex",...P}=x,M=new Su(P),U=o.guessEncoding(d,O),K=[];for(;U.length>0;){const ie=M._parse();let G=ie.next();for(;!G.done;){const ne=U.read(G.value);if(ne==null||ne.length!==G.value)throw new Error("Insufficient data");M.extendedResults&&M.valueBytes.write(ne),G=ie.next(ne)}K.push(Su.nullcheck(G.value))}return K}static decodeFirst(d,x={},O=null){if(d==null)throw new TypeError("input required");({options:x,cb:O}=S(x,O));const{encoding:P="hex",required:M=!1,...U}=x,K=new Su(U);let ie=v;const G=o.guessEncoding(d,P),ne=new Promise((ge,re)=>{K.on("data",se=>{ie=Su.nullcheck(se),K.close()}),K.once("error",se=>K.extendedResults&&se instanceof y?(ie.unused=K.bs.slice(),ge(ie)):(ie!==v&&(se.value=ie),ie=_,K.close(),re(se))),K.once("end",()=>{switch(ie){case v:return M?re(new Error("No CBOR found")):ge(ie);case _:return;default:return ge(ie)}})});return typeof O=="function"&&ne.then(ge=>O(null,ge),O),G.pipe(K),ne}static decodeAll(d,x={},O=null){if(d==null)throw new TypeError("input required");({options:x,cb:O}=S(x,O));const{encoding:P="hex",...M}=x,U=new Su(M),K=[];U.on("data",G=>K.push(Su.nullcheck(G)));const ie=new Promise((G,ne)=>{U.on("error",ne),U.on("end",()=>G(K))});return typeof O=="function"&&ie.then(G=>O(void 0,G),G=>O(G,void 0)),o.guessEncoding(d,P).pipe(U),ie}close(){this.running=!1,this.__fresh=!0}_onRead(d){this.valueBytes.write(d)}*_parse(){let d=null,x=0,O=null;for(;;){if(this.max_depth>=0&&x>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);const[P]=yield 1;if(!this.running)throw this.bs.unshift(h.from([P])),new y(P);const M=P>>5,U=P&31,K=d==null?void 0:d[g],ie=d==null?void 0:d.length;switch(U){case u.ONE:this.emit("more-bytes",M,1,K,ie),[O]=yield 1;break;case u.TWO:case u.FOUR:case u.EIGHT:{const ne=1<<U-24;this.emit("more-bytes",M,ne,K,ie);const ge=yield ne;O=M===l.SIMPLE_FLOAT?ge:o.parseCBORint(U,ge);break}case 28:case 29:case 30:throw this.running=!1,new Error(`Additional info not implemented: ${U}`);case u.INDEFINITE:switch(M){case l.POS_INT:case l.NEG_INT:case l.TAG:throw new Error(`Invalid indefinite encoding for MT ${M}`)}O=-1;break;default:O=U}switch(M){case l.POS_INT:break;case l.NEG_INT:O===Number.MAX_SAFE_INTEGER?O=c.NEG_MAX:O=typeof O=="bigint"?c.MINUS_ONE-O:-1-O;break;case l.BYTE_STRING:case l.UTF8_STRING:switch(O){case 0:this.emit("start-string",M,O,K,ie),M===l.UTF8_STRING?O="":O=this.preferWeb?new Uint8Array(0):h.allocUnsafe(0);break;case-1:this.emit("start",M,f.STREAM,K,ie),d=E(d,M),x++;continue;default:this.emit("start-string",M,O,K,ie),O=yield O,M===l.UTF8_STRING?O=o.utf8(O):this.preferWeb&&(O=new Uint8Array(O.buffer,O.byteOffset,O.length))}break;case l.ARRAY:case l.MAP:switch(O){case 0:O=M===l.MAP?{}:[];break;case-1:this.emit("start",M,f.STREAM,K,ie),d=p(d,M,-1),x++;continue;default:this.emit("start",M,O,K,ie),d=p(d,M,O*(M-3)),x++;continue}break;case l.TAG:this.emit("start",M,O,K,ie),d=p(d,M,1),d.push(O),x++;continue;case l.SIMPLE_FLOAT:if(typeof O=="number"){if(U===u.ONE&&O<32)throw new Error(`Invalid two-byte encoding of simple value ${O}`);const ne=d!=null;O=i.decode(O,ne,ne&&d[m]<0)}else O=o.parseCBORfloat(O)}this.emit("value",O,K,ie,U);let G=!1;for(;d!=null;){if(O===f.BREAK)d[m]=1;else if(Array.isArray(d))d.push(O);else{const ge=d[g];if(ge!=null&&ge!==M)throw this.running=!1,new Error("Invalid major type in indefinite encoding");d.write(O)}if(--d[m]!==0){G=!0;break}if(--x,delete d[m],Array.isArray(d))switch(d[g]){case l.ARRAY:O=d;break;case l.MAP:{let ge=!0;if(d.length%2!==0)throw new Error(`Invalid map length: ${d.length}`);for(let re=0,se=d.length;re<se;re+=2)if(typeof d[re]!="string"||d[re]==="__proto__"){ge=!1;break}if(ge){O={};for(let re=0,se=d.length;re<se;re+=2){if(this.preventDuplicateKeys&&Object.prototype.hasOwnProperty.call(O,d[re]))throw new Error("Duplicate keys in a map");O[d[re]]=d[re+1]}}else{O=new Map;for(let re=0,se=d.length;re<se;re+=2){if(this.preventDuplicateKeys&&O.has(d[re]))throw new Error("Duplicate keys in a map");O.set(d[re],d[re+1])}}break}case l.TAG:{O=new n(d[0],d[1]).convert(this.tags);break}}else if(d instanceof s)switch(d[g]){case l.BYTE_STRING:O=d.slice(),this.preferWeb&&(O=new Uint8Array(O.buffer,O.byteOffset,O.length));break;case l.UTF8_STRING:O=d.toString("utf-8");break}this.emit("stop",d[g]);const ne=d;d=d[f.PARENT],delete ne[f.PARENT],delete ne[g]}if(!G){if(this.extendedResults){const ne=this.valueBytes.slice(),ge={value:Su.nullcheck(O),bytes:ne,length:ne.length};return this.valueBytes=new s,ge}return O}}}};T.NOT_FOUND=v,t.exports=T}}),Fpe=Fe({"../../node_modules/cbor/lib/commented.js"(e,t){Ie();var r=(ml(),hn(Aa)),n=d0(),i=aT(),o=cg(),{MT:s,NUMBYTES:a,SYMS:l}=wd(),{Buffer:u}=(md(),hn(pd));function f(m){return m>1?"s":""}function c(m,g){switch(typeof m){case"function":return{options:{},cb:m};case"string":return{options:{encoding:m},cb:g};case"number":return{options:{max_depth:m},cb:g};case"object":return{options:m||{},cb:g};default:throw new TypeError("Unknown option type")}}var h=class sI extends r.Transform{constructor(g={}){const{depth:_=1,max_depth:v=10,no_summary:p=!1,tags:E={},preferWeb:y,encoding:S,...T}=g;super({...T,readableObjectMode:!1,writableObjectMode:!1}),this.depth=_,this.max_depth=v,this.all=new o,E[24]||(E[24]=this._tag_24.bind(this)),this.parser=new i({tags:E,max_depth:v,preferWeb:y,encoding:S}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),p||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(g){const _=new sI({depth:this.depth+1,no_summary:!0});_.on("data",v=>this.push(v)),_.on("error",v=>this.emit("error",v)),_.end(g)}_transform(g,_,v){this.parser.write(g,_,v)}_flush(g){return this.parser._flush(g)}static comment(g,_={},v=null){if(g==null)throw new Error("input required");({options:_,cb:v}=c(_,v));const p=new o,{encoding:E="hex",...y}=_,S=new sI(y);let T=null;return typeof v=="function"?(S.on("end",()=>{v(null,p.toString("utf8"))}),S.on("error",v)):T=new Promise(($,d)=>{S.on("end",()=>{$(p.toString("utf8"))}),S.on("error",d)}),S.pipe(p),n.guessEncoding(g,E).pipe(S),T}_on_error(g){this.push("ERROR: "),this.push(g.toString()),this.push(`
`)}_on_read(g){this.all.write(g);const _=g.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(_);let v=(this.max_depth-this.depth)*2-_.length;v<1&&(v=1),this.push(new Array(v+1).join(" ")),this.push("-- ")}_on_more(g,_,v,p){let E="";switch(this.depth++,g){case s.POS_INT:E="Positive number,";break;case s.NEG_INT:E="Negative number,";break;case s.ARRAY:E="Array, length";break;case s.MAP:E="Map, count";break;case s.BYTE_STRING:E="Bytes, length";break;case s.UTF8_STRING:E="String, length";break;case s.SIMPLE_FLOAT:_===1?E="Simple value,":E="Float,";break}this.push(`${E} next ${_} byte${f(_)}
`)}_on_start_string(g,_,v,p){let E="";switch(this.depth++,g){case s.BYTE_STRING:E=`Bytes, length: ${_}`;break;case s.UTF8_STRING:E=`String, length: ${_.toString()}`;break}this.push(`${E}
`)}_on_start(g,_,v,p){switch(this.depth++,v){case s.ARRAY:this.push(`[${p}], `);break;case s.MAP:p%2?this.push(`{Val:${Math.floor(p/2)}}, `):this.push(`{Key:${Math.floor(p/2)}}, `);break}switch(g){case s.TAG:this.push(`Tag #${_}`),_===24&&this.push(" Encoded CBOR data item");break;case s.ARRAY:_===l.STREAM?this.push("Array (streaming)"):this.push(`Array, ${_} item${f(_)}`);break;case s.MAP:_===l.STREAM?this.push("Map (streaming)"):this.push(`Map, ${_} pair${f(_)}`);break;case s.BYTE_STRING:this.push("Bytes (streaming)");break;case s.UTF8_STRING:this.push("String (streaming)");break}this.push(`
`)}_on_stop(g){this.depth--}_on_value(g,_,v,p){if(g!==l.BREAK)switch(_){case s.ARRAY:this.push(`[${v}], `);break;case s.MAP:v%2?this.push(`{Val:${Math.floor(v/2)}}, `):this.push(`{Key:${Math.floor(v/2)}}, `);break}const E=n.cborValueToString(g,-1/0);switch(typeof g=="string"||u.isBuffer(g)?(g.length>0&&(this.push(E),this.push(`
`)),this.depth--):(this.push(E),this.push(`
`)),p){case a.ONE:case a.TWO:case a.FOUR:case a.EIGHT:this.depth--}}_on_data(){this.push("0x"),this.push(this.all.read().toString("hex")),this.push(`
`)}};t.exports=h}}),Bpe=Fe({"../../node_modules/cbor/lib/diagnose.js"(e,t){Ie();var r=(ml(),hn(Aa)),n=aT(),i=d0(),o=cg(),{MT:s,SYMS:a}=wd();function l(f,c){switch(typeof f){case"function":return{options:{},cb:f};case"string":return{options:{encoding:f},cb:c};case"object":return{options:f||{},cb:c};default:throw new TypeError("Unknown option type")}}var u=class xG extends r.Transform{constructor(c={}){const{separator:h=`
`,stream_errors:m=!1,tags:g,max_depth:_,preferWeb:v,encoding:p,...E}=c;super({...E,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=h,this.stream_errors=m,this.parser=new n({tags:g,max_depth:_,preferWeb:v,encoding:p}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(c,h,m){return this.parser.write(c,h,m)}_flush(c){return this.parser._flush(h=>this.stream_errors?(h&&this._on_error(h),c()):c(h))}static diagnose(c,h={},m=null){if(c==null)throw new TypeError("input required");({options:h,cb:m}=l(h,m));const{encoding:g="hex",..._}=h,v=new o,p=new xG(_);let E=null;return typeof m=="function"?(p.on("end",()=>m(null,v.toString("utf8"))),p.on("error",m)):E=new Promise((y,S)=>{p.on("end",()=>y(v.toString("utf8"))),p.on("error",S)}),p.pipe(v),i.guessEncoding(c,g).pipe(p),E}_on_error(c){this.stream_errors?this.push(c.toString()):this.emit("error",c)}_on_more(c,h,m,g){c===s.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[h])}_fore(c,h){switch(c){case s.BYTE_STRING:case s.UTF8_STRING:case s.ARRAY:h>0&&this.push(", ");break;case s.MAP:h>0&&(h%2?this.push(": "):this.push(", "))}}_on_value(c,h,m){if(c===a.BREAK)return;this._fore(h,m);const g=this.float_bytes;this.float_bytes=-1,this.push(i.cborValueToString(c,g))}_on_start(c,h,m,g){switch(this._fore(m,g),c){case s.TAG:this.push(`${h}(`);break;case s.ARRAY:this.push("[");break;case s.MAP:this.push("{");break;case s.BYTE_STRING:case s.UTF8_STRING:this.push("(");break}h===a.STREAM&&this.push("_ ")}_on_stop(c){switch(c){case s.TAG:this.push(")");break;case s.ARRAY:this.push("]");break;case s.MAP:this.push("}");break;case s.BYTE_STRING:case s.UTF8_STRING:this.push(")");break}}_on_data(){this.push(this.separator)}};t.exports=u}}),AG=Fe({"../../node_modules/cbor/lib/encoder.js"(e,t){Ie();var r=(ml(),hn(Aa)),n=cg(),i=d0(),o=wd(),{MT:s,NUMBYTES:a,SHIFT32:l,SIMPLE:u,SYMS:f,TAG:c,BI:h}=o,{Buffer:m}=(md(),hn(pd)),g=s.SIMPLE_FLOAT<<5|a.TWO,_=s.SIMPLE_FLOAT<<5|a.FOUR,v=s.SIMPLE_FLOAT<<5|a.EIGHT,p=s.SIMPLE_FLOAT<<5|u.TRUE,E=s.SIMPLE_FLOAT<<5|u.FALSE,y=s.SIMPLE_FLOAT<<5|u.UNDEFINED,S=s.SIMPLE_FLOAT<<5|u.NULL,T=m.from([255]),$=m.from("f97e00","hex"),d=m.from("f9fc00","hex"),x=m.from("f97c00","hex"),O=m.from("f98000","hex"),P={},M={};function U(ie){if(!ie)return"number";switch(ie.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${ie}"`)}var K=class vo extends r.Transform{constructor(G={}){const{canonical:ne=!1,encodeUndefined:ge,disallowUndefinedKeys:re=!1,dateType:se="number",collapseBigIntegers:D=!1,detectLoops:z=!1,omitUndefinedProperties:Y=!1,genTypes:N=[],...I}=G;if(super({...I,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=ne,this.encodeUndefined=ge,this.disallowUndefinedKeys=re,this.dateType=U(se),this.collapseBigIntegers=this.canonical?!0:D,this.detectLoops=void 0,typeof z=="boolean")z&&(this.detectLoops=new WeakSet);else if(z instanceof WeakSet)this.detectLoops=z;else throw new TypeError("detectLoops must be boolean or WeakSet");if(this.omitUndefinedProperties=Y,this.semanticTypes={...vo.SEMANTIC_TYPES},Array.isArray(N))for(let q=0,ae=N.length;q<ae;q+=2)this.addSemanticType(N[q],N[q+1]);else for(const[q,ae]of Object.entries(N))this.addSemanticType(q,ae)}_transform(G,ne,ge){const re=this.pushAny(G);return ge(re===!1?new Error("Push Error"):void 0)}_flush(G){return G()}_pushUInt8(G){const ne=m.allocUnsafe(1);return ne.writeUInt8(G,0),this.push(ne)}_pushUInt16BE(G){const ne=m.allocUnsafe(2);return ne.writeUInt16BE(G,0),this.push(ne)}_pushUInt32BE(G){const ne=m.allocUnsafe(4);return ne.writeUInt32BE(G,0),this.push(ne)}_pushFloatBE(G){const ne=m.allocUnsafe(4);return ne.writeFloatBE(G,0),this.push(ne)}_pushDoubleBE(G){const ne=m.allocUnsafe(8);return ne.writeDoubleBE(G,0),this.push(ne)}_pushNaN(){return this.push($)}_pushInfinity(G){const ne=G<0?d:x;return this.push(ne)}_pushFloat(G){if(this.canonical){const ne=m.allocUnsafe(2);if(i.writeHalf(ne,G))return this._pushUInt8(g)&&this.push(ne)}return Math.fround(G)===G?this._pushUInt8(_)&&this._pushFloatBE(G):this._pushUInt8(v)&&this._pushDoubleBE(G)}_pushInt(G,ne,ge){const re=ne<<5;if(G<24)return this._pushUInt8(re|G);if(G<=255)return this._pushUInt8(re|a.ONE)&&this._pushUInt8(G);if(G<=65535)return this._pushUInt8(re|a.TWO)&&this._pushUInt16BE(G);if(G<=4294967295)return this._pushUInt8(re|a.FOUR)&&this._pushUInt32BE(G);let se=Number.MAX_SAFE_INTEGER;return ne===s.NEG_INT&&se--,G<=se?this._pushUInt8(re|a.EIGHT)&&this._pushUInt32BE(Math.floor(G/l))&&this._pushUInt32BE(G%l):ne===s.NEG_INT?this._pushFloat(ge):this._pushFloat(G)}_pushIntNum(G){return Object.is(G,-0)?this.push(O):G<0?this._pushInt(-G-1,s.NEG_INT,G):this._pushInt(G,s.POS_INT)}_pushNumber(G){return isNaN(G)?this._pushNaN():isFinite(G)?Math.round(G)===G?this._pushIntNum(G):this._pushFloat(G):this._pushInfinity(G)}_pushString(G){const ne=m.byteLength(G,"utf8");return this._pushInt(ne,s.UTF8_STRING)&&this.push(G,"utf8")}_pushBoolean(G){return this._pushUInt8(G?p:E)}_pushUndefined(G){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(y);case"function":return this.pushAny(this.encodeUndefined(G));case"object":{const ne=i.bufferishToBuffer(this.encodeUndefined);if(ne)return this.push(ne)}}return this.pushAny(this.encodeUndefined)}_pushNull(G){return this._pushUInt8(S)}_pushTag(G){return this._pushInt(G,s.TAG)}_pushJSBigint(G){let ne=s.POS_INT,ge=c.POS_BIGINT;if(G<0&&(G=-G+h.MINUS_ONE,ne=s.NEG_INT,ge=c.NEG_BIGINT),this.collapseBigIntegers&&G<=h.MAXINT64)return G<=4294967295?this._pushInt(Number(G),ne):this._pushUInt8(ne<<5|a.EIGHT)&&this._pushUInt32BE(Number(G/h.SHIFT32))&&this._pushUInt32BE(Number(G%h.SHIFT32));let re=G.toString(16);re.length%2&&(re=`0${re}`);const se=m.from(re,"hex");return this._pushTag(ge)&&vo._pushBuffer(this,se)}_pushObject(G,ne){if(!G)return this._pushNull(G);if(ne={indefinite:!1,skipTypes:!1,...ne},!ne.indefinite&&this.detectLoops){if(this.detectLoops.has(G))throw new Error(`Loop detected while CBOR encoding.
Call removeLoopDetectors before resuming.`);this.detectLoops.add(G)}if(!ne.skipTypes){const D=G.encodeCBOR;if(typeof D=="function")return D.call(G,this);const z=this.semanticTypes[G.constructor.name];if(z)return z.call(G,this,G)}const ge=Object.keys(G).filter(D=>{const z=typeof G[D];return z!=="function"&&(!this.omitUndefinedProperties||z!=="undefined")}),re={};if(this.canonical&&ge.sort((D,z)=>{const Y=re[D]||(re[D]=vo.encode(D)),N=re[z]||(re[z]=vo.encode(z));return Y.compare(N)}),ne.indefinite){if(!this._pushUInt8(s.MAP<<5|a.INDEFINITE))return!1}else if(!this._pushInt(ge.length,s.MAP))return!1;let se=null;for(let D=0,z=ge.length;D<z;D++){const Y=ge[D];if(this.canonical&&(se=re[Y])){if(!this.push(se))return!1}else if(!this._pushString(Y))return!1;if(!this.pushAny(G[Y]))return!1}if(ne.indefinite){if(!this.push(T))return!1}else this.detectLoops&&this.detectLoops.delete(G);return!0}_encodeAll(G){const ne=new n({highWaterMark:this.readableHighWaterMark});this.pipe(ne);for(const ge of G)this.pushAny(ge);return this.end(),ne.read()}addSemanticType(G,ne){const ge=typeof G=="string"?G:G.name,re=this.semanticTypes[ge];if(ne){if(typeof ne!="function")throw new TypeError("fun must be of type function");this.semanticTypes[ge]=ne}else re&&delete this.semanticTypes[ge];return re}pushAny(G){switch(typeof G){case"number":return this._pushNumber(G);case"bigint":return this._pushJSBigint(G);case"string":return this._pushString(G);case"boolean":return this._pushBoolean(G);case"undefined":return this._pushUndefined(G);case"object":return this._pushObject(G);case"symbol":switch(G){case f.NULL:return this._pushNull(null);case f.UNDEFINED:return this._pushUndefined(void 0);default:throw new TypeError(`Unknown symbol: ${G.toString()}`)}default:throw new TypeError(`Unknown type: ${typeof G}, ${typeof G.toString=="function"?G.toString():""}`)}}static pushArray(G,ne,ge){ge={indefinite:!1,...ge};const re=ne.length;if(ge.indefinite){if(!G._pushUInt8(s.ARRAY<<5|a.INDEFINITE))return!1}else if(!G._pushInt(re,s.ARRAY))return!1;for(let se=0;se<re;se++)if(!G.pushAny(ne[se]))return!1;return!(ge.indefinite&&!G.push(T))}removeLoopDetectors(){return this.detectLoops?(this.detectLoops=new WeakSet,!0):!1}static _pushDate(G,ne){switch(G.dateType){case"string":return G._pushTag(c.DATE_STRING)&&G._pushString(ne.toISOString());case"int":return G._pushTag(c.DATE_EPOCH)&&G._pushIntNum(Math.round(ne.getTime()/1e3));case"float":return G._pushTag(c.DATE_EPOCH)&&G._pushFloat(ne.getTime()/1e3);case"number":default:return G._pushTag(c.DATE_EPOCH)&&G.pushAny(ne.getTime()/1e3)}}static _pushBuffer(G,ne){return G._pushInt(ne.length,s.BYTE_STRING)&&G.push(ne)}static _pushNoFilter(G,ne){return vo._pushBuffer(G,ne.slice())}static _pushRegexp(G,ne){return G._pushTag(c.REGEXP)&&G.pushAny(ne.source)}static _pushSet(G,ne){if(!G._pushTag(c.SET)||!G._pushInt(ne.size,s.ARRAY))return!1;for(const ge of ne)if(!G.pushAny(ge))return!1;return!0}static _pushURL(G,ne){return G._pushTag(c.URI)&&G.pushAny(ne.toString())}static _pushBoxed(G,ne){return G.pushAny(ne.valueOf())}static _pushMap(G,ne,ge){ge={indefinite:!1,...ge};let re=[...ne.entries()];if(G.omitUndefinedProperties&&(re=re.filter(([se,D])=>D!==void 0)),ge.indefinite){if(!G._pushUInt8(s.MAP<<5|a.INDEFINITE))return!1}else if(!G._pushInt(re.length,s.MAP))return!1;if(G.canonical){const se=new vo({genTypes:G.semanticTypes,canonical:G.canonical,detectLoops:!!G.detectLoops,dateType:G.dateType,disallowUndefinedKeys:G.disallowUndefinedKeys,collapseBigIntegers:G.collapseBigIntegers}),D=new n({highWaterMark:G.readableHighWaterMark});se.pipe(D),re.sort(([z],[Y])=>{se.pushAny(z);const N=D.read();se.pushAny(Y);const I=D.read();return N.compare(I)});for(const[z,Y]of re){if(G.disallowUndefinedKeys&&typeof z>"u")throw new Error("Invalid Map key: undefined");if(!(G.pushAny(z)&&G.pushAny(Y)))return!1}}else for(const[se,D]of re){if(G.disallowUndefinedKeys&&typeof se>"u")throw new Error("Invalid Map key: undefined");if(!(G.pushAny(se)&&G.pushAny(D)))return!1}return!(ge.indefinite&&!G.push(T))}static _pushTypedArray(G,ne){let ge=64,re=ne.BYTES_PER_ELEMENT;const{name:se}=ne.constructor;return se.startsWith("Float")?(ge|=16,re/=2):se.includes("U")||(ge|=8),(se.includes("Clamped")||re!==1&&!i.isBigEndian())&&(ge|=4),ge|={1:0,2:1,4:2,8:3}[re],G._pushTag(ge)?vo._pushBuffer(G,m.from(ne.buffer,ne.byteOffset,ne.byteLength)):!1}static _pushArrayBuffer(G,ne){return vo._pushBuffer(G,m.from(ne))}static encodeIndefinite(G,ne,ge={}){if(ne==null){if(this==null)throw new Error("No object to encode");ne=this}const{chunkSize:re=4096}=ge;let se=!0;const D=typeof ne;let z=null;if(D==="string"){se=se&&G._pushUInt8(s.UTF8_STRING<<5|a.INDEFINITE);let Y=0;for(;Y<ne.length;){const N=Y+re;se=se&&G._pushString(ne.slice(Y,N)),Y=N}se=se&&G.push(T)}else if(z=i.bufferishToBuffer(ne)){se=se&&G._pushUInt8(s.BYTE_STRING<<5|a.INDEFINITE);let Y=0;for(;Y<z.length;){const N=Y+re;se=se&&vo._pushBuffer(G,z.slice(Y,N)),Y=N}se=se&&G.push(T)}else if(Array.isArray(ne))se=se&&vo.pushArray(G,ne,{indefinite:!0});else if(ne instanceof Map)se=se&&vo._pushMap(G,ne,{indefinite:!0});else{if(D!=="object")throw new Error("Invalid indefinite encoding");se=se&&G._pushObject(ne,{indefinite:!0,skipTypes:!0})}return se}static encode(...G){return new vo()._encodeAll(G)}static encodeCanonical(...G){return new vo({canonical:!0})._encodeAll(G)}static encodeOne(G,ne){return new vo(ne)._encodeAll([G])}static encodeAsync(G,ne){return new Promise((ge,re)=>{const se=[],D=new vo(ne);D.on("data",z=>se.push(z)),D.on("error",re),D.on("finish",()=>ge(m.concat(se))),D.pushAny(G),D.end()})}static get SEMANTIC_TYPES(){return M}static set SEMANTIC_TYPES(G){M=G}static reset(){vo.SEMANTIC_TYPES={...P}}};Object.assign(P,{Array:K.pushArray,Date:K._pushDate,Buffer:K._pushBuffer,[m.name]:K._pushBuffer,Map:K._pushMap,NoFilter:K._pushNoFilter,[n.name]:K._pushNoFilter,RegExp:K._pushRegexp,Set:K._pushSet,ArrayBuffer:K._pushArrayBuffer,Uint8ClampedArray:K._pushTypedArray,Uint8Array:K._pushTypedArray,Uint16Array:K._pushTypedArray,Uint32Array:K._pushTypedArray,Int8Array:K._pushTypedArray,Int16Array:K._pushTypedArray,Int32Array:K._pushTypedArray,Float32Array:K._pushTypedArray,Float64Array:K._pushTypedArray,URL:K._pushURL,Boolean:K._pushBoxed,Number:K._pushBoxed,String:K._pushBoxed}),typeof BigUint64Array<"u"&&(P[BigUint64Array.name]=K._pushTypedArray),typeof BigInt64Array<"u"&&(P[BigInt64Array.name]=K._pushTypedArray),K.reset(),t.exports=K}}),Upe=Fe({"../../node_modules/cbor/lib/map.js"(e,t){Ie();var{Buffer:r}=(md(),hn(pd)),n=AG(),i=aT(),{MT:o}=wd(),s=class Pf extends Map{constructor(l){super(l)}static _encode(l){return n.encodeCanonical(l).toString("base64")}static _decode(l){return i.decodeFirstSync(l,"base64")}get(l){return super.get(Pf._encode(l))}set(l,u){return super.set(Pf._encode(l),u)}delete(l){return super.delete(Pf._encode(l))}has(l){return super.has(Pf._encode(l))}*keys(){for(const l of super.keys())yield Pf._decode(l)}*entries(){for(const l of super.entries())yield[Pf._decode(l[0]),l[1]]}[Symbol.iterator](){return this.entries()}forEach(l,u){if(typeof l!="function")throw new TypeError("Must be function");for(const f of super.entries())l.call(this,f[1],Pf._decode(f[0]),this)}encodeCBOR(l){if(!l._pushInt(this.size,o.MAP))return!1;if(l.canonical){const u=Array.from(super.entries()).map(f=>[r.from(f[0],"base64"),f[1]]);u.sort((f,c)=>f[0].compare(c[0]));for(const f of u)if(!(l.push(f[0])&&l.pushAny(f[1])))return!1}else for(const u of super.entries())if(!(l.push(r.from(u[0],"base64"))&&l.pushAny(u[1])))return!1;return!0}};t.exports=s}}),zpe=Fe({"../../node_modules/cbor/lib/cbor.js"(e){Ie(),e.Commented=Fpe(),e.Diagnose=Bpe(),e.Decoder=aT(),e.Encoder=AG(),e.Simple=$G(),e.Tagged=TG(),e.Map=Upe(),e.comment=e.Commented.comment,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.decodeAllSync=e.Decoder.decodeAllSync,e.decodeFirstSync=e.Decoder.decodeFirstSync,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.encodeCanonical=e.Encoder.encodeCanonical,e.encodeOne=e.Encoder.encodeOne,e.encodeAsync=e.Encoder.encodeAsync,e.decode=e.Decoder.decodeFirstSync,e.leveldb={decode:e.Decoder.decodeFirstSync,encode:e.Encoder.encode,buffer:!0,name:"cbor"},e.reset=function(){e.Encoder.reset(),e.Tagged.reset()}}}),OG=Fe({"../core/dist/codecs/cbor-codec.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ys(),r=zpe(),{debug:n}=(0,t.createLoggers)("core","cbor-codec"),i=class{constructor(o){this.subMediaType=o??"application/cbor"}getMediaType(){return this.subMediaType}bytesToValue(o,s,a){n(`CborCodec parsing '${o.toString()}'`);try{return(0,r.decode)(o)}catch(l){if(o.byteLength===0)return null;throw l}}valueToBytes(o,s,a){return n("CborCodec serializing",o),o===void 0?Cn.alloc(0):(0,r.encode)(o)}};e.default=i}}),PG=Fe({"../core/dist/codecs/json-codec.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ku(),r=Ys(),{debug:n}=(0,r.createLoggers)("core","json-codec"),i=class{constructor(o){this.subMediaType=o??t.ContentSerdes.DEFAULT}getMediaType(){return this.subMediaType}bytesToValue(o,s,a){n(`JsonCodec parsing '${o.toString()}'`);let l;try{l=JSON.parse(o.toString())}catch(u){if(u instanceof SyntaxError)o.byteLength===0?l=void 0:l=o.toString();else throw u}return l}valueToBytes(o,s,a){n("JsonCodec serializing",o);let l="";return o!==void 0&&(l=JSON.stringify(o)),Cn.from(l)}};e.default=i}}),RG=Fe({"../core/dist/codecs/text-codec.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ys(),{debug:r}=(0,t.createLoggers)("core","text-codec"),n=class{constructor(i){this.subMediaType=i??"text/plain"}getMediaType(){return this.subMediaType}bytesToValue(i,o,s){return r(`TextCodec parsing '${i.toString()}'`),i.toString(s==null?void 0:s.charset)}valueToBytes(i,o,s){r(`TextCodec serializing '${i}'`);let a="";i!==void 0&&(typeof i=="string"?a=i:a=JSON.stringify(i));let l;if(s&&s.charset)switch(s.charset){case"ascii":l="ascii";break;case"utf8":l="utf8";break;case"utf-8":l="utf-8";break;case"utf16le":l="utf16le";break;case"ucs2":l="ucs2";break;case"ucs-2":l="ucs-2";break;case"base64":l="base64";break;case"latin1":l="latin1";break;case"binary":l="binary";break;case"hex":l="hex";break}const u=Cn.alloc(a.length);return u.write(a,l),u}};e.default=n}}),NG=Fe({"../core/dist/codecs/base64-codec.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(r){this.subMediaType=r}getMediaType(){return this.subMediaType}bytesToValue(r,n,i){return r.toString("ascii")}valueToBytes(r,n,i){let o="";return r!==void 0&&(o=JSON.stringify(r)),Cn.from(o,"base64")}};e.default=t}}),lT=Fe({"../../node_modules/@petamoriken/float16/lib/_util/messages.cjs"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t="This is not an object";e.THIS_IS_NOT_AN_OBJECT=t;var r="This is not a Float16Array object";e.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT=r;var n="This constructor is not a subclass of Float16Array";e.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY=n;var i="The constructor property value is not an object";e.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT=i;var o="Species constructor didn't return TypedArray object";e.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT=o;var s="Derived constructor created TypedArray object which was too small length";e.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH=s;var a="Attempting to access detached ArrayBuffer";e.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER=a;var l="Cannot convert undefined or null to object";e.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT=l;var u="Cannot mix BigInt and other types, use explicit conversions";e.CANNOT_MIX_BIGINT_AND_OTHER_TYPES=u;var f="@@iterator property is not callable";e.ITERATOR_PROPERTY_IS_NOT_CALLABLE=f;var c="Reduce of empty array with no initial value";e.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE=c;var h="The comparison function must be either a function or undefined";e.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED=h;var m="Offset is out of bounds";e.OFFSET_IS_OUT_OF_BOUNDS=m}}),tp=Fe({"../../node_modules/@petamoriken/float16/lib/_util/primordials.cjs"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=lT();function r(Bt){return(we,...he)=>i(Bt,we,he)}function n(Bt,we){return r(l(Bt,we).get)}var{apply:i,construct:o,defineProperty:s,get:a,getOwnPropertyDescriptor:l,getPrototypeOf:u,has:f,ownKeys:c,set:h,setPrototypeOf:m}=Reflect;e.ReflectSetPrototypeOf=m,e.ReflectSet=h,e.ReflectOwnKeys=c,e.ReflectHas=f,e.ReflectGetPrototypeOf=u,e.ReflectGetOwnPropertyDescriptor=l,e.ReflectGet=a,e.ReflectDefineProperty=s,e.ReflectConstruct=o,e.ReflectApply=i;var g=Proxy;e.NativeProxy=g;var{EPSILON:_,MAX_SAFE_INTEGER:v,isFinite:p,isNaN:E}=Number;e.NumberIsNaN=E,e.NumberIsFinite=p,e.MAX_SAFE_INTEGER=v,e.EPSILON=_;var{iterator:y,species:S,toStringTag:T,for:$}=Symbol;e.SymbolFor=$,e.SymbolToStringTag=T,e.SymbolSpecies=S,e.SymbolIterator=y;var d=Object;e.NativeObject=d;var{create:x,defineProperty:O,freeze:P,is:M}=d;e.ObjectIs=M,e.ObjectFreeze=P,e.ObjectDefineProperty=O,e.ObjectCreate=x;var U=d.prototype,K=U.__lookupGetter__?r(U.__lookupGetter__):(Bt,we)=>{if(Bt==null)throw Rr(t.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);let he=d(Bt);do{const Se=l(he,we);if(Se!==void 0)return ie(Se,"get")?Se.get:void 0}while((he=u(he))!==null)};e.ObjectPrototype__lookupGetter__=K;var ie=d.hasOwn||r(U.hasOwnProperty);e.ObjectHasOwn=ie;var G=Array,ne=G.isArray;e.ArrayIsArray=ne;var ge=G.prototype,re=r(ge.join);e.ArrayPrototypeJoin=re;var se=r(ge.push);e.ArrayPrototypePush=se;var D=r(ge.toLocaleString);e.ArrayPrototypeToLocaleString=D;var z=ge[y];e.NativeArrayPrototypeSymbolIterator=z;var Y=r(z);e.ArrayPrototypeSymbolIterator=Y;var{abs:N,trunc:I}=Math;e.MathTrunc=I,e.MathAbs=N;var q=ArrayBuffer;e.NativeArrayBuffer=q;var ae=q.isView;e.ArrayBufferIsView=ae;var Z=q.prototype,te=r(Z.slice);e.ArrayBufferPrototypeSlice=te;var ue=n(Z,"byteLength");e.ArrayBufferPrototypeGetByteLength=ue;var xe=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;e.NativeSharedArrayBuffer=xe;var Le=xe&&n(xe.prototype,"byteLength");e.SharedArrayBufferPrototypeGetByteLength=Le;var C=u(Uint8Array);e.TypedArray=C;var F=C.from,L=C.prototype;e.TypedArrayPrototype=L;var ee=L[y];e.NativeTypedArrayPrototypeSymbolIterator=ee;var ce=r(L.keys);e.TypedArrayPrototypeKeys=ce;var me=r(L.values);e.TypedArrayPrototypeValues=me;var ve=r(L.entries);e.TypedArrayPrototypeEntries=ve;var Te=r(L.set);e.TypedArrayPrototypeSet=Te;var De=r(L.reverse);e.TypedArrayPrototypeReverse=De;var Ge=r(L.fill);e.TypedArrayPrototypeFill=Ge;var Ve=r(L.copyWithin);e.TypedArrayPrototypeCopyWithin=Ve;var ht=r(L.sort);e.TypedArrayPrototypeSort=ht;var tt=r(L.slice);e.TypedArrayPrototypeSlice=tt;var Xe=r(L.subarray);e.TypedArrayPrototypeSubarray=Xe;var Q=n(L,"buffer");e.TypedArrayPrototypeGetBuffer=Q;var k=n(L,"byteOffset");e.TypedArrayPrototypeGetByteOffset=k;var B=n(L,"length");e.TypedArrayPrototypeGetLength=B;var le=n(L,T);e.TypedArrayPrototypeGetSymbolToStringTag=le;var Ee=Uint8Array;e.NativeUint8Array=Ee;var Pe=Uint16Array;e.NativeUint16Array=Pe;var qe=(...Bt)=>i(F,Pe,Bt);e.Uint16ArrayFrom=qe;var Be=Uint32Array;e.NativeUint32Array=Be;var Ye=Float32Array;e.NativeFloat32Array=Ye;var gt=u([][y]());e.ArrayIteratorPrototype=gt;var Ot=r(gt.next);e.ArrayIteratorPrototypeNext=Ot;var yt=r(function*(){}().next);e.GeneratorPrototypeNext=yt;var Xt=u(gt);e.IteratorPrototype=Xt;var Xr=DataView.prototype,tn=r(Xr.getUint16);e.DataViewPrototypeGetUint16=tn;var Tr=r(Xr.setUint16);e.DataViewPrototypeSetUint16=Tr;var Rr=TypeError;e.NativeTypeError=Rr;var jn=RangeError;e.NativeRangeError=jn;var _r=WeakSet;e.NativeWeakSet=_r;var Qt=_r.prototype,hr=r(Qt.add);e.WeakSetPrototypeAdd=hr;var Oe=r(Qt.has);e.WeakSetPrototypeHas=Oe;var je=WeakMap;e.NativeWeakMap=je;var bt=je.prototype,$t=r(bt.get);e.WeakMapPrototypeGet=$t;var ut=r(bt.has);e.WeakMapPrototypeHas=ut;var Ut=r(bt.set);e.WeakMapPrototypeSet=Ut}}),IG=Fe({"../../node_modules/@petamoriken/float16/lib/_util/arrayIterator.cjs"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.safeIfNeeded=i,e.wrap=a;var t=tp(),r=new t.NativeWeakMap,n=(0,t.ObjectCreate)(null,{next:{value:function(){const u=(0,t.WeakMapPrototypeGet)(r,this);return(0,t.ArrayIteratorPrototypeNext)(u)}},[t.SymbolIterator]:{value:function(){return this}}});function i(l){if(l[t.SymbolIterator]===t.NativeArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext)return l;const u=(0,t.ObjectCreate)(n);return(0,t.WeakMapPrototypeSet)(r,u,(0,t.ArrayPrototypeSymbolIterator)(l)),u}var o=new t.NativeWeakMap,s=(0,t.ObjectCreate)(t.IteratorPrototype,{next:{value:function(){const u=(0,t.WeakMapPrototypeGet)(o,this);return(0,t.GeneratorPrototypeNext)(u)},writable:!0,configurable:!0}});for(const l of(0,t.ReflectOwnKeys)(t.ArrayIteratorPrototype))l!=="next"&&(0,t.ObjectDefineProperty)(s,l,(0,t.ReflectGetOwnPropertyDescriptor)(t.ArrayIteratorPrototype,l));function a(l){const u=(0,t.ObjectCreate)(s);return(0,t.WeakMapPrototypeSet)(o,u,l),u}}}),uT=Fe({"../../node_modules/@petamoriken/float16/lib/_util/is.cjs"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.isAnyArrayBuffer=l,e.isCanonicalIntegerIndexString=c,e.isNativeBigIntTypedArray=o,e.isNativeTypedArray=i,e.isObject=r,e.isObjectLike=n,e.isOrdinaryArray=u,e.isOrdinaryNativeTypedArray=f,e.isSharedArrayBuffer=a;var t=tp();function r(h){return h!==null&&typeof h=="object"||typeof h=="function"}function n(h){return h!==null&&typeof h=="object"}function i(h){return(0,t.TypedArrayPrototypeGetSymbolToStringTag)(h)!==void 0}function o(h){const m=(0,t.TypedArrayPrototypeGetSymbolToStringTag)(h);return m==="BigInt64Array"||m==="BigUint64Array"}function s(h){try{return(0,t.ArrayBufferPrototypeGetByteLength)(h),!0}catch{return!1}}function a(h){if(t.NativeSharedArrayBuffer===null)return!1;try{return(0,t.SharedArrayBufferPrototypeGetByteLength)(h),!0}catch{return!1}}function l(h){return s(h)||a(h)}function u(h){return(0,t.ArrayIsArray)(h)?h[t.SymbolIterator]===t.NativeArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext:!1}function f(h){return i(h)?h[t.SymbolIterator]===t.NativeTypedArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext:!1}function c(h){if(typeof h!="string")return!1;const m=+h;return h!==m+""||!(0,t.NumberIsFinite)(m)?!1:m===(0,t.MathTrunc)(m)}}}),qpe=Fe({"../../node_modules/@petamoriken/float16/lib/_util/brand.cjs"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.hasFloat16ArrayBrand=o;var t=uT(),r=lT(),n=tp(),i=(0,n.SymbolFor)("__Float16Array__");e.brand=i;function o(s){if(!(0,t.isObjectLike)(s))return!1;const a=(0,n.ReflectGetPrototypeOf)(s);if(!(0,t.isObjectLike)(a))return!1;const l=a.constructor;if(l===void 0)return!1;if(!(0,t.isObject)(l))throw(0,n.NativeTypeError)(r.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);return(0,n.ReflectHas)(l,i)}}}),yk=Fe({"../../node_modules/@petamoriken/float16/lib/_util/converter.cjs"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.convertToNumber=y,e.roundToFloat16=u,e.roundToFloat16Bits=_;var t=tp(),r=1/t.EPSILON;function n(S){return S+r-r}var i=6103515625e-14,o=65504,s=.0009765625,a=s*i,l=s*r;function u(S){const T=+S;if(!(0,t.NumberIsFinite)(T)||T===0)return T;const $=T>0?1:-1,d=(0,t.MathAbs)(T);if(d<i)return $*n(d/a)*a;const x=(1+l)*d,O=x-(x-d);return O>o||(0,t.NumberIsNaN)(O)?$*(1/0):$*O}var f=new t.NativeArrayBuffer(4),c=new t.NativeFloat32Array(f),h=new t.NativeUint32Array(f),m=new t.NativeUint16Array(512),g=new t.NativeUint8Array(512);for(let S=0;S<256;++S){const T=S-127;T<-27?(m[S]=0,m[S|256]=32768,g[S]=24,g[S|256]=24):T<-14?(m[S]=1024>>-T-14,m[S|256]=1024>>-T-14|32768,g[S]=-T-1,g[S|256]=-T-1):T<=15?(m[S]=T+15<<10,m[S|256]=T+15<<10|32768,g[S]=13,g[S|256]=13):T<128?(m[S]=31744,m[S|256]=64512,g[S]=24,g[S|256]=24):(m[S]=31744,m[S|256]=64512,g[S]=13,g[S|256]=13)}function _(S){c[0]=u(S);const T=h[0],$=T>>23&511;return m[$]+((T&8388607)>>g[$])}var v=new t.NativeUint32Array(2048);for(let S=1;S<1024;++S){let T=S<<13,$=0;for(;!(T&8388608);)T<<=1,$-=8388608;T&=-8388609,$+=947912704,v[S]=T|$}for(let S=1024;S<2048;++S)v[S]=939524096+(S-1024<<13);var p=new t.NativeUint32Array(64);for(let S=1;S<31;++S)p[S]=S<<23;p[31]=1199570944,p[32]=2147483648;for(let S=33;S<63;++S)p[S]=2147483648+(S-32<<23);p[63]=3347054592;var E=new t.NativeUint16Array(64);for(let S=1;S<64;++S)S!==32&&(E[S]=1024);function y(S){const T=S>>10;return h[0]=v[E[T]+(S&1023)]+p[T],c[0]}}}),Vpe=Fe({"../../node_modules/@petamoriken/float16/lib/_util/spec.cjs"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.IsDetachedBuffer=a,e.SpeciesConstructor=s,e.ToIntegerOrInfinity=i,e.ToLength=o,e.defaultCompare=l;var t=uT(),r=lT(),n=tp();function i(u){const f=+u;return(0,n.NumberIsNaN)(f)||f===0?0:(0,n.MathTrunc)(f)}function o(u){const f=i(u);return f<0?0:f<n.MAX_SAFE_INTEGER?f:n.MAX_SAFE_INTEGER}function s(u,f){if(!(0,t.isObject)(u))throw(0,n.NativeTypeError)(r.THIS_IS_NOT_AN_OBJECT);const c=u.constructor;if(c===void 0)return f;if(!(0,t.isObject)(c))throw(0,n.NativeTypeError)(r.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);const h=c[n.SymbolSpecies];return h??f}function a(u){if((0,t.isSharedArrayBuffer)(u))return!1;try{return(0,n.ArrayBufferPrototypeSlice)(u,0,0),!1}catch{}return!0}function l(u,f){const c=(0,n.NumberIsNaN)(u),h=(0,n.NumberIsNaN)(f);if(c&&h)return 0;if(c)return 1;if(h||u<f)return-1;if(u>f)return 1;if(u===0&&f===0){const m=(0,n.ObjectIs)(u,0),g=(0,n.ObjectIs)(f,0);if(!m&&g)return-1;if(m&&!g)return 1}return 0}}}),CG=Fe({"../../node_modules/@petamoriken/float16/lib/Float16Array.cjs"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.isFloat16Array=f;var t=IG(),r=qpe(),n=yk(),i=uT(),o=lT(),s=tp(),a=Vpe(),l=2,u=new s.NativeWeakMap;function f(y){return(0,s.WeakMapPrototypeHas)(u,y)||!(0,s.ArrayBufferIsView)(y)&&(0,r.hasFloat16ArrayBrand)(y)}function c(y){if(!f(y))throw(0,s.NativeTypeError)(o.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT)}function h(y,S){const T=f(y),$=(0,i.isNativeTypedArray)(y);if(!T&&!$)throw(0,s.NativeTypeError)(o.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);if(typeof S=="number"){let d;if(T){const x=m(y);d=(0,s.TypedArrayPrototypeGetLength)(x)}else d=(0,s.TypedArrayPrototypeGetLength)(y);if(d<S)throw(0,s.NativeTypeError)(o.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH)}if((0,i.isNativeBigIntTypedArray)(y))throw(0,s.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES)}function m(y){const S=(0,s.WeakMapPrototypeGet)(u,y);if(S!==void 0){const d=(0,s.TypedArrayPrototypeGetBuffer)(S);if((0,a.IsDetachedBuffer)(d))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);return S}const T=y.buffer;if((0,a.IsDetachedBuffer)(T))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);const $=(0,s.ReflectConstruct)(p,[T,y.byteOffset,y.length],y.constructor);return(0,s.WeakMapPrototypeGet)(u,$)}function g(y){const S=(0,s.TypedArrayPrototypeGetLength)(y),T=[];for(let $=0;$<S;++$)T[$]=(0,n.convertToNumber)(y[$]);return T}var _=new s.NativeWeakSet;for(const y of(0,s.ReflectOwnKeys)(s.TypedArrayPrototype)){if(y===s.SymbolToStringTag)continue;const S=(0,s.ReflectGetOwnPropertyDescriptor)(s.TypedArrayPrototype,y);(0,s.ObjectHasOwn)(S,"get")&&typeof S.get=="function"&&(0,s.WeakSetPrototypeAdd)(_,S.get)}var v=(0,s.ObjectFreeze)({get(y,S,T){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,s.ObjectHasOwn)(y,S)?(0,n.convertToNumber)((0,s.ReflectGet)(y,S)):(0,s.WeakSetPrototypeHas)(_,(0,s.ObjectPrototype__lookupGetter__)(y,S))?(0,s.ReflectGet)(y,S):(0,s.ReflectGet)(y,S,T)},set(y,S,T,$){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,s.ObjectHasOwn)(y,S)?(0,s.ReflectSet)(y,S,(0,n.roundToFloat16Bits)(T)):(0,s.ReflectSet)(y,S,T,$)},getOwnPropertyDescriptor(y,S){if((0,i.isCanonicalIntegerIndexString)(S)&&(0,s.ObjectHasOwn)(y,S)){const T=(0,s.ReflectGetOwnPropertyDescriptor)(y,S);return T.value=(0,n.convertToNumber)(T.value),T}return(0,s.ReflectGetOwnPropertyDescriptor)(y,S)},defineProperty(y,S,T){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,s.ObjectHasOwn)(y,S)&&(0,s.ObjectHasOwn)(T,"value")&&(T.value=(0,n.roundToFloat16Bits)(T.value)),(0,s.ReflectDefineProperty)(y,S,T)}}),p=class oo{constructor(S,T,$){let d;if(f(S))d=(0,s.ReflectConstruct)(s.NativeUint16Array,[m(S)],new.target);else if((0,i.isObject)(S)&&!(0,i.isAnyArrayBuffer)(S)){let O,P;if((0,i.isNativeTypedArray)(S)){O=S,P=(0,s.TypedArrayPrototypeGetLength)(S);const M=(0,s.TypedArrayPrototypeGetBuffer)(S);if((0,a.IsDetachedBuffer)(M))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);if((0,i.isNativeBigIntTypedArray)(S))throw(0,s.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);const U=new s.NativeArrayBuffer(P*l);d=(0,s.ReflectConstruct)(s.NativeUint16Array,[U],new.target)}else{const M=S[s.SymbolIterator];if(M!=null&&typeof M!="function")throw(0,s.NativeTypeError)(o.ITERATOR_PROPERTY_IS_NOT_CALLABLE);M!=null?(0,i.isOrdinaryArray)(S)?(O=S,P=S.length):(O=[...S],P=O.length):(O=S,P=(0,a.ToLength)(O.length)),d=(0,s.ReflectConstruct)(s.NativeUint16Array,[P],new.target)}for(let M=0;M<P;++M)d[M]=(0,n.roundToFloat16Bits)(O[M])}else d=(0,s.ReflectConstruct)(s.NativeUint16Array,arguments,new.target);const x=new s.NativeProxy(d,v);return(0,s.WeakMapPrototypeSet)(u,x,d),x}static from(S,...T){const $=this;if(!(0,s.ReflectHas)($,r.brand))throw(0,s.NativeTypeError)(o.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);if($===oo){if(f(S)&&T.length===0){const K=m(S),ie=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(K),(0,s.TypedArrayPrototypeGetByteOffset)(K),(0,s.TypedArrayPrototypeGetLength)(K));return new oo((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(ie)))}if(T.length===0)return new oo((0,s.TypedArrayPrototypeGetBuffer)((0,s.Uint16ArrayFrom)(S,n.roundToFloat16Bits)));const M=T[0],U=T[1];return new oo((0,s.TypedArrayPrototypeGetBuffer)((0,s.Uint16ArrayFrom)(S,function(K,...ie){return(0,n.roundToFloat16Bits)((0,s.ReflectApply)(M,this,[K,...(0,t.safeIfNeeded)(ie)]))},U)))}let d,x;const O=S[s.SymbolIterator];if(O!=null&&typeof O!="function")throw(0,s.NativeTypeError)(o.ITERATOR_PROPERTY_IS_NOT_CALLABLE);if(O!=null)(0,i.isOrdinaryArray)(S)?(d=S,x=S.length):(0,i.isOrdinaryNativeTypedArray)(S)?(d=S,x=(0,s.TypedArrayPrototypeGetLength)(S)):(d=[...S],x=d.length);else{if(S==null)throw(0,s.NativeTypeError)(o.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);d=(0,s.NativeObject)(S),x=(0,a.ToLength)(d.length)}const P=new $(x);if(T.length===0)for(let M=0;M<x;++M)P[M]=d[M];else{const M=T[0],U=T[1];for(let K=0;K<x;++K)P[K]=(0,s.ReflectApply)(M,U,[d[K],K])}return P}static of(...S){const T=this;if(!(0,s.ReflectHas)(T,r.brand))throw(0,s.NativeTypeError)(o.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);const $=S.length;if(T===oo){const x=new oo($),O=m(x);for(let P=0;P<$;++P)O[P]=(0,n.roundToFloat16Bits)(S[P]);return x}const d=new T($);for(let x=0;x<$;++x)d[x]=S[x];return d}keys(){c(this);const S=m(this);return(0,s.TypedArrayPrototypeKeys)(S)}values(){c(this);const S=m(this);return(0,t.wrap)(function*(){for(const T of(0,s.TypedArrayPrototypeValues)(S))yield(0,n.convertToNumber)(T)}())}entries(){c(this);const S=m(this);return(0,t.wrap)(function*(){for(const[T,$]of(0,s.TypedArrayPrototypeEntries)(S))yield[T,(0,n.convertToNumber)($)]}())}at(S){c(this);const T=m(this),$=(0,s.TypedArrayPrototypeGetLength)(T),d=(0,a.ToIntegerOrInfinity)(S),x=d>=0?d:$+d;if(!(x<0||x>=$))return(0,n.convertToNumber)(T[x])}with(S,T){c(this);const $=m(this),d=(0,s.TypedArrayPrototypeGetLength)($),x=(0,a.ToIntegerOrInfinity)(S),O=x>=0?x:d+x,P=+T;if(O<0||O>=d)throw(0,s.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);const M=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)($),(0,s.TypedArrayPrototypeGetByteOffset)($),(0,s.TypedArrayPrototypeGetLength)($)),U=new oo((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(M))),K=m(U);return K[O]=(0,n.roundToFloat16Bits)(P),U}map(S,...T){c(this);const $=m(this),d=(0,s.TypedArrayPrototypeGetLength)($),x=T[0],O=(0,a.SpeciesConstructor)($,oo);if(O===oo){const M=new oo(d),U=m(M);for(let K=0;K<d;++K){const ie=(0,n.convertToNumber)($[K]);U[K]=(0,n.roundToFloat16Bits)((0,s.ReflectApply)(S,x,[ie,K,this]))}return M}const P=new O(d);h(P,d);for(let M=0;M<d;++M){const U=(0,n.convertToNumber)($[M]);P[M]=(0,s.ReflectApply)(S,x,[U,M,this])}return P}filter(S,...T){c(this);const $=m(this),d=(0,s.TypedArrayPrototypeGetLength)($),x=T[0],O=[];for(let U=0;U<d;++U){const K=(0,n.convertToNumber)($[U]);(0,s.ReflectApply)(S,x,[K,U,this])&&(0,s.ArrayPrototypePush)(O,K)}const P=(0,a.SpeciesConstructor)($,oo),M=new P(O);return h(M),M}reduce(S,...T){c(this);const $=m(this),d=(0,s.TypedArrayPrototypeGetLength)($);if(d===0&&T.length===0)throw(0,s.NativeTypeError)(o.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let x,O;T.length===0?(x=(0,n.convertToNumber)($[0]),O=1):(x=T[0],O=0);for(let P=O;P<d;++P)x=S(x,(0,n.convertToNumber)($[P]),P,this);return x}reduceRight(S,...T){c(this);const $=m(this),d=(0,s.TypedArrayPrototypeGetLength)($);if(d===0&&T.length===0)throw(0,s.NativeTypeError)(o.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let x,O;T.length===0?(x=(0,n.convertToNumber)($[d-1]),O=d-2):(x=T[0],O=d-1);for(let P=O;P>=0;--P)x=S(x,(0,n.convertToNumber)($[P]),P,this);return x}forEach(S,...T){c(this);const $=m(this),d=(0,s.TypedArrayPrototypeGetLength)($),x=T[0];for(let O=0;O<d;++O)(0,s.ReflectApply)(S,x,[(0,n.convertToNumber)($[O]),O,this])}find(S,...T){c(this);const $=m(this),d=(0,s.TypedArrayPrototypeGetLength)($),x=T[0];for(let O=0;O<d;++O){const P=(0,n.convertToNumber)($[O]);if((0,s.ReflectApply)(S,x,[P,O,this]))return P}}findIndex(S,...T){c(this);const $=m(this),d=(0,s.TypedArrayPrototypeGetLength)($),x=T[0];for(let O=0;O<d;++O){const P=(0,n.convertToNumber)($[O]);if((0,s.ReflectApply)(S,x,[P,O,this]))return O}return-1}findLast(S,...T){c(this);const $=m(this),d=(0,s.TypedArrayPrototypeGetLength)($),x=T[0];for(let O=d-1;O>=0;--O){const P=(0,n.convertToNumber)($[O]);if((0,s.ReflectApply)(S,x,[P,O,this]))return P}}findLastIndex(S,...T){c(this);const $=m(this),d=(0,s.TypedArrayPrototypeGetLength)($),x=T[0];for(let O=d-1;O>=0;--O){const P=(0,n.convertToNumber)($[O]);if((0,s.ReflectApply)(S,x,[P,O,this]))return O}return-1}every(S,...T){c(this);const $=m(this),d=(0,s.TypedArrayPrototypeGetLength)($),x=T[0];for(let O=0;O<d;++O)if(!(0,s.ReflectApply)(S,x,[(0,n.convertToNumber)($[O]),O,this]))return!1;return!0}some(S,...T){c(this);const $=m(this),d=(0,s.TypedArrayPrototypeGetLength)($),x=T[0];for(let O=0;O<d;++O)if((0,s.ReflectApply)(S,x,[(0,n.convertToNumber)($[O]),O,this]))return!0;return!1}set(S,...T){c(this);const $=m(this),d=(0,a.ToIntegerOrInfinity)(T[0]);if(d<0)throw(0,s.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);if(S==null)throw(0,s.NativeTypeError)(o.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);if((0,i.isNativeBigIntTypedArray)(S))throw(0,s.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);if(f(S))return(0,s.TypedArrayPrototypeSet)(m(this),m(S),d);if((0,i.isNativeTypedArray)(S)){const M=(0,s.TypedArrayPrototypeGetBuffer)(S);if((0,a.IsDetachedBuffer)(M))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER)}const x=(0,s.TypedArrayPrototypeGetLength)($),O=(0,s.NativeObject)(S),P=(0,a.ToLength)(O.length);if(d===1/0||P+d>x)throw(0,s.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);for(let M=0;M<P;++M)$[M+d]=(0,n.roundToFloat16Bits)(O[M])}reverse(){c(this);const S=m(this);return(0,s.TypedArrayPrototypeReverse)(S),this}toReversed(){c(this);const S=m(this),T=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(S),(0,s.TypedArrayPrototypeGetByteOffset)(S),(0,s.TypedArrayPrototypeGetLength)(S)),$=new oo((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(T))),d=m($);return(0,s.TypedArrayPrototypeReverse)(d),$}fill(S,...T){c(this);const $=m(this);return(0,s.TypedArrayPrototypeFill)($,(0,n.roundToFloat16Bits)(S),...(0,t.safeIfNeeded)(T)),this}copyWithin(S,T,...$){c(this);const d=m(this);return(0,s.TypedArrayPrototypeCopyWithin)(d,S,T,...(0,t.safeIfNeeded)($)),this}sort(S){c(this);const T=m(this),$=S!==void 0?S:a.defaultCompare;return(0,s.TypedArrayPrototypeSort)(T,(d,x)=>$((0,n.convertToNumber)(d),(0,n.convertToNumber)(x))),this}toSorted(S){c(this);const T=m(this);if(S!==void 0&&typeof S!="function")throw new s.NativeTypeError(o.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED);const $=S!==void 0?S:a.defaultCompare,d=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(T),(0,s.TypedArrayPrototypeGetByteOffset)(T),(0,s.TypedArrayPrototypeGetLength)(T)),x=new oo((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(d))),O=m(x);return(0,s.TypedArrayPrototypeSort)(O,(P,M)=>$((0,n.convertToNumber)(P),(0,n.convertToNumber)(M))),x}slice(S,T){c(this);const $=m(this),d=(0,a.SpeciesConstructor)($,oo);if(d===oo){const ge=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)($),(0,s.TypedArrayPrototypeGetByteOffset)($),(0,s.TypedArrayPrototypeGetLength)($));return new oo((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(ge,S,T)))}const x=(0,s.TypedArrayPrototypeGetLength)($),O=(0,a.ToIntegerOrInfinity)(S),P=T===void 0?x:(0,a.ToIntegerOrInfinity)(T);let M;O===-1/0?M=0:O<0?M=x+O>0?x+O:0:M=x<O?x:O;let U;P===-1/0?U=0:P<0?U=x+P>0?x+P:0:U=x<P?x:P;const K=U-M>0?U-M:0,ie=new d(K);if(h(ie,K),K===0)return ie;const G=(0,s.TypedArrayPrototypeGetBuffer)($);if((0,a.IsDetachedBuffer)(G))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);let ne=0;for(;M<U;)ie[ne]=(0,n.convertToNumber)($[M]),++M,++ne;return ie}subarray(S,T){c(this);const $=m(this),d=(0,a.SpeciesConstructor)($,oo),x=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)($),(0,s.TypedArrayPrototypeGetByteOffset)($),(0,s.TypedArrayPrototypeGetLength)($)),O=(0,s.TypedArrayPrototypeSubarray)(x,S,T),P=new d((0,s.TypedArrayPrototypeGetBuffer)(O),(0,s.TypedArrayPrototypeGetByteOffset)(O),(0,s.TypedArrayPrototypeGetLength)(O));return h(P),P}indexOf(S,...T){c(this);const $=m(this),d=(0,s.TypedArrayPrototypeGetLength)($);let x=(0,a.ToIntegerOrInfinity)(T[0]);if(x===1/0)return-1;x<0&&(x+=d,x<0&&(x=0));for(let O=x;O<d;++O)if((0,s.ObjectHasOwn)($,O)&&(0,n.convertToNumber)($[O])===S)return O;return-1}lastIndexOf(S,...T){c(this);const $=m(this),d=(0,s.TypedArrayPrototypeGetLength)($);let x=T.length>=1?(0,a.ToIntegerOrInfinity)(T[0]):d-1;if(x===-1/0)return-1;x>=0?x=x<d-1?x:d-1:x+=d;for(let O=x;O>=0;--O)if((0,s.ObjectHasOwn)($,O)&&(0,n.convertToNumber)($[O])===S)return O;return-1}includes(S,...T){c(this);const $=m(this),d=(0,s.TypedArrayPrototypeGetLength)($);let x=(0,a.ToIntegerOrInfinity)(T[0]);if(x===1/0)return!1;x<0&&(x+=d,x<0&&(x=0));const O=(0,s.NumberIsNaN)(S);for(let P=x;P<d;++P){const M=(0,n.convertToNumber)($[P]);if(O&&(0,s.NumberIsNaN)(M)||M===S)return!0}return!1}join(S){c(this);const T=m(this),$=g(T);return(0,s.ArrayPrototypeJoin)($,S)}toLocaleString(...S){c(this);const T=m(this),$=g(T);return(0,s.ArrayPrototypeToLocaleString)($,...(0,t.safeIfNeeded)(S))}get[s.SymbolToStringTag](){if(f(this))return"Float16Array"}};e.Float16Array=p,(0,s.ObjectDefineProperty)(p,"BYTES_PER_ELEMENT",{value:l}),(0,s.ObjectDefineProperty)(p,r.brand,{}),(0,s.ReflectSetPrototypeOf)(p,s.TypedArray);var E=p.prototype;(0,s.ObjectDefineProperty)(E,"BYTES_PER_ELEMENT",{value:l}),(0,s.ObjectDefineProperty)(E,s.SymbolIterator,{value:E.values,writable:!0,configurable:!0}),(0,s.ReflectSetPrototypeOf)(E,s.TypedArrayPrototype)}}),Hpe=Fe({"../../node_modules/@petamoriken/float16/lib/isTypedArray.cjs"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.isTypedArray=n;var t=CG(),r=uT();function n(i){return(0,r.isNativeTypedArray)(i)||(0,t.isFloat16Array)(i)}}}),Wpe=Fe({"../../node_modules/@petamoriken/float16/lib/DataView.cjs"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.getFloat16=i,e.setFloat16=o;var t=IG(),r=yk(),n=tp();function i(s,a,...l){return(0,r.convertToNumber)((0,n.DataViewPrototypeGetUint16)(s,a,...(0,t.safeIfNeeded)(l)))}function o(s,a,l,...u){return(0,n.DataViewPrototypeSetUint16)(s,a,(0,r.roundToFloat16Bits)(l),...(0,t.safeIfNeeded)(u))}}}),Gpe=Fe({"../../node_modules/@petamoriken/float16/lib/f16round.cjs"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.f16round=r;var t=yk();function r(n){return(0,t.roundToFloat16)(n)}}}),Kpe=Fe({"../../node_modules/@petamoriken/float16/lib/index.cjs"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=CG();e.Float16Array=t.Float16Array,e.isFloat16Array=t.isFloat16Array;var r=Hpe();e.isTypedArray=r.isTypedArray;var n=Wpe();e.getFloat16=n.getFloat16,e.setFloat16=n.setFloat16;var i=Gpe();e.f16round=i.f16round,e.hfround=i.f16round}}),kG=Fe({"../core/dist/protocol-interfaces.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.Endianness=void 0;var t;(function(r){r.BIG_ENDIAN="BIG_ENDIAN",r.LITTLE_ENDIAN="LITTLE_ENDIAN",r.BIG_ENDIAN_BYTE_SWAP="BIG_ENDIAN_BYTE_SWAP",r.LITTLE_ENDIAN_BYTE_SWAP="LITTLE_ENDIAN_BYTE_SWAP"})(t||(e.Endianness=t={}))}}),jG=Fe({"../core/dist/codecs/octetstream-codec.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kpe(),r=Ys(),n=kG(),{debug:i,warn:o}=(0,r.createLoggers)("core","octetstream-codec"),s=class{getMediaType(){return"application/octet-stream"}bytesToValue(a,l,u={}){var v,p;i("OctetstreamCodec parsing",a),i("Parameters",u);const f=u.length!=null?parseInt(u.length):(o("Missing 'length' parameter necessary for write. I'll do my best"),void 0);if(f!==void 0){if(isNaN(f)||f<0)throw new Error("'length' parameter must be a non-negative number");if(f!==a.length)throw new Error(`Lengths do not match, required: ${f} provided: ${a.length}`)}let c=!0;if(u.signed!==void 0){if(u.signed!=="true"&&u.signed!=="false")throw new Error("'signed' parameter must be 'true' or 'false'");c=u.signed==="true"}let h=(l==null?void 0:l["ex:bitLength"])!==void 0?parseInt(l["ex:bitLength"]):a.length*8;if(isNaN(h)||h<0)throw new Error("'ex:bitLength' must be a non-negative number");const m=(l==null?void 0:l["ex:bitOffset"])!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(m)||m<0)throw new Error("'ex:bitOffset' must be a non-negative number");const g=((v=u.byteSeq)==null?void 0:v.includes(n.Endianness.LITTLE_ENDIAN))!==!0;let _=l==null?void 0:l.type;if(!_)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(_.toLowerCase())){const E=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(_.toLowerCase());if(E){if(E[1]==="u"){if((u==null?void 0:u.signed)==="true")throw new Error("Type is unsigned but 'signed' is true");c=!1}if(_=E[2],parseInt(E[3])!==h)throw new Error(`Type is '${(E[1]??"")+E[2]+E[3]}' but 'ex:bitLength' is `+h)}}if(h>a.length*8-m)throw new Error(`'ex:bitLength' is ${h}, but buffer length at offset ${m} is ${a.length*8-m}`);switch(((p=u==null?void 0:u.byteSeq)==null?void 0:p.includes("BYTE_SWAP"))===!0&&a.length>1&&a.swap16(),m!==void 0&&h<a.length*8&&(a=this.readBits(a,m,h),h=a.length*8),_){case"boolean":return!a.every(E=>E===0);case"byte":case"short":case"int":case"integer":return this.integerToValue(a,{dataLength:h,bigEndian:g,signed:c});case"float":case"double":case"number":return this.numberToValue(a,{dataLength:h,bigEndian:g});case"string":return a.toString(u.charset);case"object":if(l===void 0||l.properties===void 0)throw new Error("Missing schema for object");return this.objectToValue(a,l,u);case"null":return null;case"array":default:throw new Error("Unable to handle dataType "+_)}}integerToValue(a,l){const{dataLength:u,bigEndian:f,signed:c}=l;switch(u){case 8:return c?a.readInt8(0):a.readUInt8(0);case 16:return f?c?a.readInt16BE(0):a.readUInt16BE(0):c?a.readInt16LE(0):a.readUInt16LE(0);case 32:return f?c?a.readInt32BE(0):a.readUInt32BE(0):c?a.readInt32LE(0):a.readUInt32LE(0);default:{const h=f?c?a.readIntBE(0,u/8):a.readUIntBE(0,u/8):c?a.readIntLE(0,u/8):a.readUIntLE(0,u/8);return Number.isSafeInteger(h)||o("Result is not a safe integer"),h}}}numberToValue(a,l){const{dataLength:u,bigEndian:f}=l;switch(u){case 16:return(0,t.getFloat16)(new DataView(a.buffer),a.byteOffset,!f);case 32:return f?a.readFloatBE(0):a.readFloatLE(0);case 64:return f?a.readDoubleBE(0):a.readDoubleLE(0);default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+u)}}objectToValue(a,l,u={}){if((l==null?void 0:l.type)!=="object")throw new Error("Schema must be of type 'object'");const f={},c=Object.getOwnPropertyNames(l.properties);for(const h of c){const m=l.properties[h],g=a.length.toString();f[h]=this.bytesToValue(a,m,{...u,length:g})}return f}valueToBytes(a,l,u={}){var v;i(`OctetstreamCodec serializing '${a}'`);const f=((v=u.byteSeq)==null?void 0:v.includes(n.Endianness.LITTLE_ENDIAN))!==!0;let c=!0;if(u.signed!==void 0){if(u.signed!=="true"&&u.signed!=="false")throw new Error("'signed' parameter must be 'true' or 'false'");c=u.signed==="true"}let h=u.length!=null?parseInt(u.length):(o("Missing 'length' parameter necessary for write. I'll do my best"),void 0);if(h!==void 0&&(isNaN(h)||h<0))throw new Error("'length' parameter must be a non-negative number");let m=(l==null?void 0:l["ex:bitLength"])!==void 0?parseInt(l["ex:bitLength"]):void 0;if(m!==void 0&&(isNaN(m)||m<0))throw new Error("'ex:bitLength' must be a non-negative number");const g=(l==null?void 0:l["ex:bitOffset"])!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(g)||g<0)throw new Error("'ex:bitOffset' must be a non-negative number");let _=(l==null?void 0:l.type)??void 0;if(a===void 0)throw new Error("Undefined value");if(_===void 0)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(_.toLowerCase())){const p=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(_.toLowerCase());if(p){if(p[1]==="u"){if((u==null?void 0:u.signed)==="true")throw new Error("Type is unsigned but 'signed' is true");c=!1}if(_=p[2],m!==void 0){if(parseInt(p[3])!==m)throw new Error(`Type is '${(p[1]??"")+p[2]+p[3]}' but 'ex:bitLength' is `+m)}else m=+p[3]}}if(h===void 0)m!==void 0&&(h=Math.ceil((g+m)/8)),o("Missing 'length' parameter necessary for write. I'll do my best");else if(m===void 0)m=h*8;else if(h*8<m+g)throw new Error("Length is too short for 'ex:bitLength' and 'ex:bitOffset'");switch(_){case"boolean":if(a===!0){const p=Cn.alloc(h??1,0);for(let E=g;E<g+(m??p.length*8);++E)p[Math.floor(E/8)]|=1<<7-E%8;return p}else return Cn.alloc(h??1,0);case"byte":case"short":case"int":case"integer":return this.valueToInteger(a,{bitLength:m,byteLength:h,bigEndian:f,offset:g,signed:c,byteSeq:u.byteSeq??""});case"float":case"number":return this.valueToNumber(a,{bitLength:m,byteLength:h,bigEndian:f,offset:g,byteSeq:u.byteSeq??""});case"string":return this.valueToString(a,{bitLength:m,byteLength:h,offset:g,charset:u.charset??"utf8"});case"object":if(l===void 0||l.properties===void 0)throw new Error("Missing schema for object");return a===null?Cn.alloc(0):this.valueToObject(a,l,u);case"array":case"undefined":throw new Error("Unable to handle dataType "+_);case"null":return Cn.alloc(0);default:throw new Error("Unable to handle dataType "+_)}}valueToInteger(a,l){const u=l.bitLength??32,f=l.offset??0,c=l.byteLength??Math.ceil((f+u)/8),{bigEndian:h,signed:m,byteSeq:g}=l;if(typeof a!="number")throw new Error("Value is not a number");Number.isSafeInteger(a)||o("Value is not a safe integer",a);const _=Math.pow(2,m?u-1:u)-1;if(m){if(a<-_-1||a>_)throw new Error("Integer overflow when representing "+a+" as a signed integer using "+u+" bit(s)")}else if(a<0||a>_)throw new Error("Integer overflow when representing "+a+" as an unsigned integer using "+u+" bit(s)");const v=Cn.alloc(c);if(f!==0)return this.writeBits(v,a,f,u,h),v;switch(g!=null&&g.includes("BYTE_SwAP")&&c>1&&v.swap16(),c){case 1:m?v.writeInt8(a,0):v.writeUInt8(a,0);break;case 2:h?m?v.writeInt16BE(a,0):v.writeUInt16BE(a,0):m?v.writeInt16LE(a,0):v.writeUInt16LE(a,0);break;case 4:h?m?v.writeInt32BE(a,0):v.writeUInt32BE(a,0):m?v.writeInt32LE(a,0):v.writeUInt32LE(a,0);break;default:m&&a<0&&(a+=1<<8*u);for(let p=0;p<c;++p){const E=a%256;a/=256,v.writeInt8(E,h?c-p-1:p)}}return v}valueToNumber(a,l){if(typeof a!="number")throw new Error("Value is not a number");const u=l.bitLength??(l.byteLength!==void 0?l.byteLength*8:32),f=l.offset??0,{bigEndian:c,byteSeq:h}=l,m=l.byteLength??Math.ceil((f+u)/8),g=Math.floor(f/8),_=Cn.alloc(m);if(f%8!==0)throw new Error("Offset must be a multiple of 8");switch(h&&m>1&&_.swap16(),u){case 16:(0,t.setFloat16)(new DataView(_.buffer),g,a,!c);break;case 32:c?_.writeFloatBE(a,g):_.writeFloatLE(a,0);break;case 64:c?_.writeDoubleBE(a,g):_.writeDoubleLE(a,0);break;default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+u)}return _}valueToString(a,l){if(typeof a!="string")throw new Error("Value is not a string");const u=l.offset??0,{charset:f}=l,c=String(a);if(!Cn.isEncoding(f))throw new Error("Invalid charset "+f);const h=Cn.from(c,f),m=l.bitLength??h.length*8;if(h.length>m)throw new Error(`String is ${h.length*8} bits long, but 'ex:bitLength' is ${m}`);const g=l.byteLength??Math.ceil((u+m)/8);if(u%8===0)return Cn.concat([Cn.alloc(g-m/8),h]);{const _=Cn.alloc(g);return this.copyBits(h,0,_,u,m),_}}valueToObject(a,l,u={},f){if(typeof a!="object"||a===null)throw new Error("Value is not an object");if(u.length===void 0)throw new Error("Missing 'length' parameter necessary for write");const c=parseInt(u.length),h=l["ex:bitOffset"]!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(h)||h<0)throw new Error("'ex:bitOffset' must be a non-negative number");if(h>c*8)throw new Error(`'ex:bitOffset' ${h} exceeds 'length' ${c}`);f=f??Cn.alloc(c);for(const[m,g]of Object.entries(l.properties)){if(Object.hasOwnProperty.call(a,m)===!1)throw new Error(`Missing property '${m}'`);const _=a[m],v=parseInt(g["ex:bitOffset"]),p=parseInt(g["ex:bitLength"]);let E;g.type==="object"?E=this.valueToObject(_,g,u,f):E=this.valueToBytes(_,g,u),this.copyBits(E,v,f,h+v,p)}return f}readBits(a,l,u){if(l<0)throw new Error("bitOffset must be >= 0");if(u<0)throw new Error("bitLength must be >= 0");if(l+u>a.length*8)throw new Error("bitOffset + bitLength must be <= buffer.length * 8");const f=Cn.alloc(Math.ceil(u/8));let c=Math.floor(l/8),h=l%8,m=a[c],g=0,_=0;for(let v=0;v<u;v++){const p=m>>7-h&1;g=g<<1|p,h++,h>7&&(c++,h=0,m=a[c]),(v+1===u%8||(v+1)%8===u%8||v===u-1)&&(f[_]=g,g=0,_++)}return f}writeBits(a,l,u,f,c){let h=Math.floor(u/8),m=u%8;for(let g=0;g<f;g++){const _=c?l>>f-1-g&1:l>>g&1;a[h]|=_<<(c?7-m:m),m++,m===8&&(m=0,h++)}}copyBits(a,l,u,f,c){if(l%8===0&&f%8===0&&c%8===0)a.copy(u,f/8,l/8,l+c/8);else{const h=this.readBits(a,l,c);if(h.length<=6)this.writeBits(u,h.readUIntBE(0,h.length),f,c,!0);else for(let m=0;m<h.length;m++){const g=h.readUInt8(m);this.writeBits(u,g,f+m*8,8,!0)}}}};e.default=s}}),Ku=Fe({"../core/dist/content-serdes.js"(e){Ie();var t=e&&e.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContentSerdes=void 0;var r=SG(),n=t(OG()),i=t(PG()),o=t(RG()),s=t(NG()),a=t(jG()),l=(ml(),hn(Aa)),u=Qs(),f=gk(),c=Ys(),{debug:h,warn:m}=(0,c.createLoggers)("core","content-serdes"),g=class fa{constructor(){this.codecs=new Map,this.offered=new Set}static get(){return this.instance==null&&(this.instance=new fa,this.instance.addCodec(new i.default,!0),this.instance.addCodec(new i.default("application/senml+json")),this.instance.addCodec(new i.default("application/td+json")),this.instance.addCodec(new i.default("application/ld+json")),this.instance.addCodec(new n.default,!0),this.instance.addCodec(new o.default),this.instance.addCodec(new o.default("text/html")),this.instance.addCodec(new o.default("text/css")),this.instance.addCodec(new o.default("application/xml")),this.instance.addCodec(new o.default("application/xhtml+xml")),this.instance.addCodec(new o.default("image/svg+xml")),this.instance.addCodec(new s.default("image/png")),this.instance.addCodec(new s.default("image/gif")),this.instance.addCodec(new s.default("image/jpeg")),this.instance.addCodec(new a.default)),this.instance}static getMediaType(v){return v.split(";")[0].trim()}static getMediaTypeParameters(v){const p=v.split(";").slice(1),E={};return p.forEach(y=>{const S=y.indexOf("=");S>=0?E[y.substr(0,S).trim()]=y.substr(S+1).trim():E[y.trim()]=void 0}),E}addCodec(v,p=!1){fa.get().codecs.set(v.getMediaType(),v),p&&fa.get().offered.add(v.getMediaType())}getSupportedMediaTypes(){return Array.from(fa.get().codecs.keys())}getOfferedMediaTypes(){return Array.from(fa.get().offered)}isSupported(v){const p=fa.getMediaType(v);return this.codecs.has(p)}contentToValue(v,p){if(v.type===void 0)if(v.body.byteLength>0)v.type=fa.DEFAULT;else return;const E=fa.getMediaType(v.type),y=fa.getMediaTypeParameters(v.type);return this.codecs.has(E)?(h(`ContentSerdes deserializing from ${v.type}`),this.codecs.get(E).bytesToValue(v.body,p,y)):(m(`ContentSerdes passthrough due to unsupported media type '${E}'`),v.body.toString())}valueToContent(v,p,E=fa.DEFAULT){if(v===void 0&&m("ContentSerdes valueToContent got no value"),v instanceof f.ReadableStream)return new r.Content(E,u.ProtocolHelpers.toNodeStream(v));let y;const S=fa.getMediaType(E),T=fa.getMediaTypeParameters(E),$=this.codecs.get(S);return $?(h(`ContentSerdes serializing to ${E}`),y=$.valueToBytes(v,p,T)):(m(`ContentSerdes passthrough due to unsupported serialization format '${E}'`),y=Cn.from(v===null?"":v.toString())),new r.Content(E,l.Readable.from([y]))}};e.ContentSerdes=g,g.DEFAULT="application/json",g.TD="application/td+json",g.JSON_LD="application/ld+json",e.default=g.get()}}),US=Fe({"../core/node_modules/ajv/dist/compile/codegen/code.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(p,...E){const y=[p[0]];let S=0;for(;S<E.length;)a(y,E[S]),y.push(p[++S]);return new n(y)}e._=i;var o=new n("+");function s(p,...E){const y=[m(p[0])];let S=0;for(;S<E.length;)y.push(o),a(y,E[S]),y.push(o,m(p[++S]));return l(y),new n(y)}e.str=s;function a(p,E){E instanceof n?p.push(...E._items):E instanceof r?p.push(E):p.push(c(E))}e.addCodeArg=a;function l(p){let E=1;for(;E<p.length-1;){if(p[E]===o){const y=u(p[E-1],p[E+1]);if(y!==void 0){p.splice(E-1,3,y);continue}p[E++]="+"}E++}}function u(p,E){if(E==='""')return p;if(p==='""')return E;if(typeof p=="string")return E instanceof r||p[p.length-1]!=='"'?void 0:typeof E!="string"?`${p.slice(0,-1)}${E}"`:E[0]==='"'?p.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(p instanceof r))return`"${p}${E.slice(1)}`}function f(p,E){return E.emptyStr()?p:p.emptyStr()?E:s`${p}${E}`}e.strConcat=f;function c(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:m(Array.isArray(p)?p.join(","):p)}function h(p){return new n(m(p))}e.stringify=h;function m(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):i`[${p}]`}e.getProperty=g;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(p){return new n(p.toString())}e.regexpCode=v}}),zB=Fe({"../core/node_modules/ajv/dist/compile/codegen/scope.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=US(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var s=(0,t._)`\n`,a=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?s:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:h}=c,m=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[h];if(g){const p=g.get(m);if(p)return p}else g=this._values[h]=new Map;g.set(m,c);const _=this._scope[h]||(this._scope[h]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:h,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let h=t.nil;for(const m in l){const g=l[m];if(!g)continue;const _=f[m]=f[m]||new Map;g.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let p=u(v);if(p){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${E} ${v} = ${p};${this.opts._n}`}else if(p=c==null?void 0:c(v))h=(0,t._)`${h}${p}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return h}};e.ValueScope=a}}),Zr=Fe({"../core/node_modules/ajv/dist/compile/codegen/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=US(),r=zB(),n=US();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=zB();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(N,I){return this}},s=class extends o{constructor(N,I,q){super(),this.varKind=N,this.name=I,this.rhs=q}render({es5:N,_n:I}){const q=N?r.varKinds.var:this.varKind,ae=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${ae};`+I}optimizeNames(N,I){if(N[this.name.str])return this.rhs&&(this.rhs=ie(this.rhs,N,I)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},a=class extends o{constructor(N,I,q){super(),this.lhs=N,this.rhs=I,this.sideEffects=q}render({_n:N}){return`${this.lhs} = ${this.rhs};`+N}optimizeNames(N,I){if(!(this.lhs instanceof t.Name&&!N[this.lhs.str]&&!this.sideEffects))return this.rhs=ie(this.rhs,N,I),this}get names(){const N=this.lhs instanceof t.Name?{}:{...this.lhs.names};return K(N,this.rhs)}},l=class extends a{constructor(N,I,q,ae){super(N,q,ae),this.op=I}render({_n:N}){return`${this.lhs} ${this.op}= ${this.rhs};`+N}},u=class extends o{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`${this.label}:`+N}},f=class extends o{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`break${this.label?` ${this.label}`:""};`+N}},c=class extends o{constructor(N){super(),this.error=N}render({_n:N}){return`throw ${this.error};`+N}get names(){return this.error.names}},h=class extends o{constructor(N){super(),this.code=N}render({_n:N}){return`${this.code};`+N}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(N,I){return this.code=ie(this.code,N,I),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},m=class extends o{constructor(N=[]){super(),this.nodes=N}render(N){return this.nodes.reduce((I,q)=>I+q.render(N),"")}optimizeNodes(){const{nodes:N}=this;let I=N.length;for(;I--;){const q=N[I].optimizeNodes();Array.isArray(q)?N.splice(I,1,...q):q?N[I]=q:N.splice(I,1)}return N.length>0?this:void 0}optimizeNames(N,I){const{nodes:q}=this;let ae=q.length;for(;ae--;){const Z=q[ae];Z.optimizeNames(N,I)||(G(N,Z.names),q.splice(ae,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((N,I)=>U(N,I.names),{})}},g=class extends m{render(N){return"{"+N._n+super.render(N)+"}"+N._n}},_=class extends m{},v=class extends g{};v.kind="else";var p=class _E extends g{constructor(I,q){super(q),this.condition=I}render(I){let q=`if(${this.condition})`+super.render(I);return this.else&&(q+="else "+this.else.render(I)),q}optimizeNodes(){super.optimizeNodes();const I=this.condition;if(I===!0)return this.nodes;let q=this.else;if(q){const ae=q.optimizeNodes();q=this.else=Array.isArray(ae)?new v(ae):ae}if(q)return I===!1?q instanceof _E?q:q.nodes:this.nodes.length?this:new _E(ne(I),q instanceof _E?[q]:q.nodes);if(!(I===!1||!this.nodes.length))return this}optimizeNames(I,q){var ae;if(this.else=(ae=this.else)===null||ae===void 0?void 0:ae.optimizeNames(I,q),!!(super.optimizeNames(I,q)||this.else))return this.condition=ie(this.condition,I,q),this}get names(){const I=super.names;return K(I,this.condition),this.else&&U(I,this.else.names),I}};p.kind="if";var E=class extends g{};E.kind="for";var y=class extends E{constructor(N){super(),this.iteration=N}render(N){return`for(${this.iteration})`+super.render(N)}optimizeNames(N,I){if(super.optimizeNames(N,I))return this.iteration=ie(this.iteration,N,I),this}get names(){return U(super.names,this.iteration.names)}},S=class extends E{constructor(N,I,q,ae){super(),this.varKind=N,this.name=I,this.from=q,this.to=ae}render(N){const I=N.es5?r.varKinds.var:this.varKind,{name:q,from:ae,to:Z}=this;return`for(${I} ${q}=${ae}; ${q}<${Z}; ${q}++)`+super.render(N)}get names(){const N=K(super.names,this.from);return K(N,this.to)}},T=class extends E{constructor(N,I,q,ae){super(),this.loop=N,this.varKind=I,this.name=q,this.iterable=ae}render(N){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(N)}optimizeNames(N,I){if(super.optimizeNames(N,I))return this.iterable=ie(this.iterable,N,I),this}get names(){return U(super.names,this.iterable.names)}},$=class extends g{constructor(N,I,q){super(),this.name=N,this.args=I,this.async=q}render(N){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(N)}};$.kind="func";var d=class extends m{render(N){return"return "+super.render(N)}};d.kind="return";var x=class extends g{render(N){let I="try"+super.render(N);return this.catch&&(I+=this.catch.render(N)),this.finally&&(I+=this.finally.render(N)),I}optimizeNodes(){var N,I;return super.optimizeNodes(),(N=this.catch)===null||N===void 0||N.optimizeNodes(),(I=this.finally)===null||I===void 0||I.optimizeNodes(),this}optimizeNames(N,I){var q,ae;return super.optimizeNames(N,I),(q=this.catch)===null||q===void 0||q.optimizeNames(N,I),(ae=this.finally)===null||ae===void 0||ae.optimizeNames(N,I),this}get names(){const N=super.names;return this.catch&&U(N,this.catch.names),this.finally&&U(N,this.finally.names),N}},O=class extends g{constructor(N){super(),this.error=N}render(N){return`catch(${this.error})`+super.render(N)}};O.kind="catch";var P=class extends g{render(N){return"finally"+super.render(N)}};P.kind="finally";var M=class{constructor(N,I={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...I,_n:I.lines?`
`:""},this._extScope=N,this._scope=new r.Scope({parent:N}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(N){return this._scope.name(N)}scopeName(N){return this._extScope.name(N)}scopeValue(N,I){const q=this._extScope.value(N,I);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(N,I){return this._extScope.getValue(N,I)}scopeRefs(N){return this._extScope.scopeRefs(N,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(N,I,q,ae){const Z=this._scope.toName(I);return q!==void 0&&ae&&(this._constants[Z.str]=q),this._leafNode(new s(N,Z,q)),Z}const(N,I,q){return this._def(r.varKinds.const,N,I,q)}let(N,I,q){return this._def(r.varKinds.let,N,I,q)}var(N,I,q){return this._def(r.varKinds.var,N,I,q)}assign(N,I,q){return this._leafNode(new a(N,I,q))}add(N,I){return this._leafNode(new l(N,e.operators.ADD,I))}code(N){return typeof N=="function"?N():N!==t.nil&&this._leafNode(new h(N)),this}object(...N){const I=["{"];for(const[q,ae]of N)I.length>1&&I.push(","),I.push(q),(q!==ae||this.opts.es5)&&(I.push(":"),(0,t.addCodeArg)(I,ae));return I.push("}"),new t._Code(I)}if(N,I,q){if(this._blockNode(new p(N)),I&&q)this.code(I).else().code(q).endIf();else if(I)this.code(I).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(N){return this._elseNode(new p(N))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(N,I){return this._blockNode(N),I&&this.code(I).endFor(),this}for(N,I){return this._for(new y(N),I)}forRange(N,I,q,ae,Z=this.opts.es5?r.varKinds.var:r.varKinds.let){const te=this._scope.toName(N);return this._for(new S(Z,te,I,q),()=>ae(te))}forOf(N,I,q,ae=r.varKinds.const){const Z=this._scope.toName(N);if(this.opts.es5){const te=I instanceof t.Name?I:this.var("_arr",I);return this.forRange("_i",0,(0,t._)`${te}.length`,ue=>{this.var(Z,(0,t._)`${te}[${ue}]`),q(Z)})}return this._for(new T("of",ae,Z,I),()=>q(Z))}forIn(N,I,q,ae=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(N,(0,t._)`Object.keys(${I})`,q);const Z=this._scope.toName(N);return this._for(new T("in",ae,Z,I),()=>q(Z))}endFor(){return this._endBlockNode(E)}label(N){return this._leafNode(new u(N))}break(N){return this._leafNode(new f(N))}return(N){const I=new d;if(this._blockNode(I),this.code(N),I.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(N,I,q){if(!I&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const ae=new x;if(this._blockNode(ae),this.code(N),I){const Z=this.name("e");this._currNode=ae.catch=new O(Z),I(Z)}return q&&(this._currNode=ae.finally=new P,this.code(q)),this._endBlockNode(O,P)}throw(N){return this._leafNode(new c(N))}block(N,I){return this._blockStarts.push(this._nodes.length),N&&this.code(N).endBlock(I),this}endBlock(N){const I=this._blockStarts.pop();if(I===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-I;if(q<0||N!==void 0&&q!==N)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${N} expected`);return this._nodes.length=I,this}func(N,I=t.nil,q,ae){return this._blockNode(new $(N,I,q)),ae&&this.code(ae).endFunc(),this}endFunc(){return this._endBlockNode($)}optimize(N=1){for(;N-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(N){return this._currNode.nodes.push(N),this}_blockNode(N){this._currNode.nodes.push(N),this._nodes.push(N)}_endBlockNode(N,I){const q=this._currNode;if(q instanceof N||I&&q instanceof I)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${I?`${N.kind}/${I.kind}`:N.kind}"`)}_elseNode(N){const I=this._currNode;if(!(I instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=I.else=N,this}get _root(){return this._nodes[0]}get _currNode(){const N=this._nodes;return N[N.length-1]}set _currNode(N){const I=this._nodes;I[I.length-1]=N}};e.CodeGen=M;function U(N,I){for(const q in I)N[q]=(N[q]||0)+(I[q]||0);return N}function K(N,I){return I instanceof t._CodeOrName?U(N,I.names):N}function ie(N,I,q){if(N instanceof t.Name)return ae(N);if(!Z(N))return N;return new t._Code(N._items.reduce((te,ue)=>(ue instanceof t.Name&&(ue=ae(ue)),ue instanceof t._Code?te.push(...ue._items):te.push(ue),te),[]));function ae(te){const ue=q[te.str];return ue===void 0||I[te.str]!==1?te:(delete I[te.str],ue)}function Z(te){return te instanceof t._Code&&te._items.some(ue=>ue instanceof t.Name&&I[ue.str]===1&&q[ue.str]!==void 0)}}function G(N,I){for(const q in I)N[q]=(N[q]||0)-(I[q]||0)}function ne(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,t._)`!${Y(N)}`}e.not=ne;var ge=z(e.operators.AND);function re(...N){return N.reduce(ge)}e.and=re;var se=z(e.operators.OR);function D(...N){return N.reduce(se)}e.or=D;function z(N){return(I,q)=>I===t.nil?q:q===t.nil?I:(0,t._)`${Y(I)} ${N} ${Y(q)}`}function Y(N){return N instanceof t.Name?N:(0,t._)`(${N})`}}}),En=Fe({"../core/node_modules/ajv/dist/compile/util.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=Zr(),r=US();function n($){const d={};for(const x of $)d[x]=!0;return d}e.toHash=n;function i($,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o($,d),!s(d,$.self.RULES.all))}e.alwaysValidSchema=i;function o($,d=$.schema){const{opts:x,self:O}=$;if(!x.strictSchema||typeof d=="boolean")return;const P=O.RULES.keywords;for(const M in d)P[M]||T($,`unknown keyword: "${M}"`)}e.checkUnknownRules=o;function s($,d){if(typeof $=="boolean")return!$;for(const x in $)if(d[x])return!0;return!1}e.schemaHasRules=s;function a($,d){if(typeof $=="boolean")return!$;for(const x in $)if(x!=="$ref"&&d.all[x])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:$,schemaPath:d},x,O,P){if(!P){if(typeof x=="number"||typeof x=="boolean")return x;if(typeof x=="string")return(0,t._)`${x}`}return(0,t._)`${$}${d}${(0,t.getProperty)(O)}`}e.schemaRefOrVal=l;function u($){return h(decodeURIComponent($))}e.unescapeFragment=u;function f($){return encodeURIComponent(c($))}e.escapeFragment=f;function c($){return typeof $=="number"?`${$}`:$.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function h($){return $.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function m($,d){if(Array.isArray($))for(const x of $)d(x);else d($)}e.eachItem=m;function g({mergeNames:$,mergeToName:d,mergeValues:x,resultToName:O}){return(P,M,U,K)=>{const ie=U===void 0?M:U instanceof t.Name?(M instanceof t.Name?$(P,M,U):d(P,M,U),U):M instanceof t.Name?(d(P,U,M),M):x(M,U);return K===t.Name&&!(ie instanceof t.Name)?O(P,ie):ie}}e.mergeEvaluated={props:g({mergeNames:($,d,x)=>$.if((0,t._)`${x} !== true && ${d} !== undefined`,()=>{$.if((0,t._)`${d} === true`,()=>$.assign(x,!0),()=>$.assign(x,(0,t._)`${x} || {}`).code((0,t._)`Object.assign(${x}, ${d})`))}),mergeToName:($,d,x)=>$.if((0,t._)`${x} !== true`,()=>{d===!0?$.assign(x,!0):($.assign(x,(0,t._)`${x} || {}`),v($,x,d))}),mergeValues:($,d)=>$===!0?!0:{...$,...d},resultToName:_}),items:g({mergeNames:($,d,x)=>$.if((0,t._)`${x} !== true && ${d} !== undefined`,()=>$.assign(x,(0,t._)`${d} === true ? true : ${x} > ${d} ? ${x} : ${d}`)),mergeToName:($,d,x)=>$.if((0,t._)`${x} !== true`,()=>$.assign(x,d===!0?!0:(0,t._)`${x} > ${d} ? ${x} : ${d}`)),mergeValues:($,d)=>$===!0?!0:Math.max($,d),resultToName:($,d)=>$.var("items",d)})};function _($,d){if(d===!0)return $.var("props",!0);const x=$.var("props",(0,t._)`{}`);return d!==void 0&&v($,x,d),x}e.evaluatedPropsToName=_;function v($,d,x){Object.keys(x).forEach(O=>$.assign((0,t._)`${d}${(0,t.getProperty)(O)}`,!0))}e.setEvaluated=v;var p={};function E($,d){return $.scopeValue("func",{ref:d,code:p[d.code]||(p[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function($){$[$.Num=0]="Num",$[$.Str=1]="Str"})(y=e.Type||(e.Type={}));function S($,d,x){if($ instanceof t.Name){const O=d===y.Num;return x?O?(0,t._)`"[" + ${$} + "]"`:(0,t._)`"['" + ${$} + "']"`:O?(0,t._)`"/" + ${$}`:(0,t._)`"/" + ${$}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return x?(0,t.getProperty)($).toString():"/"+c($)}e.getErrorPath=S;function T($,d,x=$.opts.strictSchema){if(x){if(d=`strict mode: ${d}`,x===!0)throw new Error(d);$.self.logger.warn(d)}}e.checkStrictMode=T}}),bd=Fe({"../core/node_modules/ajv/dist/compile/names.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zr(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),cT=Fe({"../core/node_modules/ajv/dist/compile/errors.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=Zr(),r=En(),n=bd();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,t.str)`"${v}" keyword must be ${p} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,p=e.keywordError,E,y){const{it:S}=v,{gen:T,compositeRule:$,allErrors:d}=S,x=c(v,p,E);y??($||d)?l(T,x):u(S,(0,t._)`[${x}]`)}e.reportError=i;function o(v,p=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:T,allErrors:$}=y,d=c(v,p,E);l(S,d),T||$||u(y,n.default.vErrors)}e.reportExtraError=o;function s(v,p){v.assign(n.default.errors,p),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,t._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:p,schemaValue:E,data:y,errsCount:S,it:T}){if(S===void 0)throw new Error("ajv implementation error");const $=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const($,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${$}.instancePath === undefined`,()=>v.assign((0,t._)`${$}.instancePath`,(0,t.strConcat)(n.default.instancePath,T.errorPath))),v.assign((0,t._)`${$}.schemaPath`,(0,t.str)`${T.errSchemaPath}/${p}`),T.opts.verbose&&(v.assign((0,t._)`${$}.schema`,E),v.assign((0,t._)`${$}.data`,y))})}e.extendErrors=a;function l(v,p){const E=v.const("err",p);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,p){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${p})`):(E.assign((0,t._)`${y}.errors`,p),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,p,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:h(v,p,E)}function h(v,p,E={}){const{gen:y,it:S}=v,T=[m(S,E),g(v,E)];return _(v,p,T),y.object(...T)}function m({errorPath:v},{instancePath:p}){const E=p?(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:p}},{schemaPath:E,parentSchema:y}){let S=y?p:(0,t.str)`${p}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:p,message:E},y){const{keyword:S,data:T,schemaValue:$,it:d}=v,{opts:x,propertyName:O,topSchemaRef:P,schemaPath:M}=d;y.push([f.keyword,S],[f.params,typeof p=="function"?p(v):p||(0,t._)`{}`]),x.messages&&y.push([f.message,typeof E=="function"?E(v):E]),x.verbose&&y.push([f.schema,$],[f.parentSchema,(0,t._)`${P}${M}`],[n.default.data,T]),O&&y.push([f.propertyName,O])}}}),Jpe=Fe({"../core/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=cT(),r=Zr(),n=bd(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?a(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function s(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),a(l)):f.var(u,!0)}e.boolOrEmptySchema=s;function a(l,u){const{gen:f,data:c}=l,h={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(h,i,void 0,u)}}}),DG=Fe({"../core/node_modules/ajv/dist/compile/rules.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),MG=Fe({"../core/node_modules/ajv/dist/compile/validate/applicability.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},s){const a=o.RULES.types[s];return a&&a!==!0&&r(i,a)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(s=>n(i,s))}e.shouldUseGroup=r;function n(i,o){var s;return i[o.keyword]!==void 0||((s=o.definition.implements)===null||s===void 0?void 0:s.some(a=>i[a]!==void 0))}e.shouldUseRule=n}}),zS=Fe({"../core/node_modules/ajv/dist/compile/validate/dataType.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=DG(),r=MG(),n=cT(),i=Zr(),o=En(),s;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(s=e.DataType||(e.DataType={}));function a(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=a;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:T,data:$,opts:d}=y,x=c(S,d.coerceTypes),O=S.length>0&&!(x.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(O){const P=_(S,$,d.strictNumbers,s.Wrong);T.if(P,()=>{x.length?h(y,S,x):p(y)})}return O}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter(T=>f.has(T)||S==="array"&&T==="array"):[]}function h(y,S,T){const{gen:$,data:d,opts:x}=y,O=$.let("dataType",(0,i._)`typeof ${d}`),P=$.let("coerced",(0,i._)`undefined`);x.coerceTypes==="array"&&$.if((0,i._)`${O} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>$.assign(d,(0,i._)`${d}[0]`).assign(O,(0,i._)`typeof ${d}`).if(_(S,d,x.strictNumbers),()=>$.assign(P,d))),$.if((0,i._)`${P} !== undefined`);for(const U of T)(f.has(U)||U==="array"&&x.coerceTypes==="array")&&M(U);$.else(),p(y),$.endIf(),$.if((0,i._)`${P} !== undefined`,()=>{$.assign(d,P),m(y,P)});function M(U){switch(U){case"string":$.elseIf((0,i._)`${O} == "number" || ${O} == "boolean"`).assign(P,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(P,(0,i._)`""`);return;case"number":$.elseIf((0,i._)`${O} == "boolean" || ${d} === null
              || (${O} == "string" && ${d} && ${d} == +${d})`).assign(P,(0,i._)`+${d}`);return;case"integer":$.elseIf((0,i._)`${O} === "boolean" || ${d} === null
              || (${O} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(P,(0,i._)`+${d}`);return;case"boolean":$.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(P,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(P,!0);return;case"null":$.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),$.assign(P,null);return;case"array":$.elseIf((0,i._)`${O} === "string" || ${O} === "number"
              || ${O} === "boolean" || ${d} === null`).assign(P,(0,i._)`[${d}]`)}}}function m({gen:y,parentData:S,parentDataProperty:T},$){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${T}]`,$))}function g(y,S,T,$=s.Correct){const d=$===s.Correct?i.operators.EQ:i.operators.NEQ;let x;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":x=(0,i._)`Array.isArray(${S})`;break;case"object":x=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":x=O((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":x=O();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return $===s.Correct?x:(0,i.not)(x);function O(P=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,P,T?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=g;function _(y,S,T,$){if(y.length===1)return g(y[0],S,T,$);let d;const x=(0,o.toHash)(y);if(x.array&&x.object){const O=(0,i._)`typeof ${S} != "object"`;d=x.null?O:(0,i._)`!${S} || ${O}`,delete x.null,delete x.array,delete x.object}else d=i.nil;x.number&&delete x.integer;for(const O in x)d=(0,i.and)(d,g(O,S,T,$));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function p(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=p;function E(y){const{gen:S,data:T,schema:$}=y,d=(0,o.schemaRefOrVal)(y,$,"type");return{gen:S,keyword:"type",data:T,schema:$.type,schemaCode:d,schemaValue:d,parentSchema:$,params:{},it:y}}}}),Ype=Fe({"../core/node_modules/ajv/dist/compile/validate/defaults.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=Zr(),r=En();function n(o,s){const{properties:a,items:l}=o.schema;if(s==="object"&&a)for(const u in a)i(o,u,a[u].default);else s==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,s,a){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(a===void 0)return;const h=(0,t._)`${f}${(0,t.getProperty)(s)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${h}`);return}let m=(0,t._)`${h} === undefined`;c.useDefaults==="empty"&&(m=(0,t._)`${m} || ${h} === null || ${h} === ""`),l.if(m,(0,t._)`${h} = ${(0,t.stringify)(a)}`)}}}),ru=Fe({"../core/node_modules/ajv/dist/vocabularies/code.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=Zr(),r=En(),n=bd(),i=En();function o(y,S){const{gen:T,data:$,it:d}=y;T.if(c(T,$,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function s({gen:y,data:S,it:{opts:T}},$,d){return(0,t.or)(...$.map(x=>(0,t.and)(c(y,S,x,T.ownProperties),(0,t._)`${d} = ${x}`)))}e.checkMissingProp=s;function a(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=a;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,T){return(0,t._)`${l(y)}.call(${S}, ${T})`}e.isOwnProperty=u;function f(y,S,T,$){const d=(0,t._)`${S}${(0,t.getProperty)(T)} !== undefined`;return $?(0,t._)`${d} && ${u(y,S,T)}`:d}e.propertyInData=f;function c(y,S,T,$){const d=(0,t._)`${S}${(0,t.getProperty)(T)} === undefined`;return $?(0,t.or)(d,(0,t.not)(u(y,S,T))):d}e.noPropertyInData=c;function h(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=h;function m(y,S){return h(S).filter(T=>!(0,r.alwaysValidSchema)(y,S[T]))}e.schemaProperties=m;function g({schemaCode:y,data:S,it:{gen:T,topSchemaRef:$,schemaPath:d,errorPath:x},it:O},P,M,U){const K=U?(0,t._)`${y}, ${S}, ${$}${d}`:S,ie=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,x)],[n.default.parentData,O.parentData],[n.default.parentDataProperty,O.parentDataProperty],[n.default.rootData,n.default.rootData]];O.opts.dynamicRef&&ie.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const G=(0,t._)`${K}, ${T.object(...ie)}`;return M!==t.nil?(0,t._)`${P}.call(${M}, ${G})`:(0,t._)`${P}(${G})`}e.callValidateCode=g;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},T){const $=S.unicodeRegExp?"u":"",{regExp:d}=S.code,x=d(T,$);return y.scopeValue("pattern",{key:x.toString(),ref:x,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${T}, ${$})`})}e.usePattern=v;function p(y){const{gen:S,data:T,keyword:$,it:d}=y,x=S.name("valid");if(d.allErrors){const P=S.let("valid",!0);return O(()=>S.assign(P,!1)),P}return S.var(x,!0),O(()=>S.break()),x;function O(P){const M=S.const("len",(0,t._)`${T}.length`);S.forRange("i",0,M,U=>{y.subschema({keyword:$,dataProp:U,dataPropType:r.Type.Num},x),S.if((0,t.not)(x),P)})}}e.validateArray=p;function E(y){const{gen:S,schema:T,keyword:$,it:d}=y;if(!Array.isArray(T))throw new Error("ajv implementation error");if(T.some(M=>(0,r.alwaysValidSchema)(d,M))&&!d.opts.unevaluated)return;const O=S.let("valid",!1),P=S.name("_valid");S.block(()=>T.forEach((M,U)=>{const K=y.subschema({keyword:$,schemaProp:U,compositeRule:!0},P);S.assign(O,(0,t._)`${O} || ${P}`),y.mergeValidEvaluated(K,P)||S.if((0,t.not)(O))})),y.result(O,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),Xpe=Fe({"../core/node_modules/ajv/dist/compile/validate/keyword.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=Zr(),r=bd(),n=ru(),i=cT();function o(m,g){const{gen:_,keyword:v,schema:p,parentSchema:E,it:y}=m,S=g.macro.call(y.self,p,E,y),T=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const $=_.name("valid");m.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:T,compositeRule:!0},$),m.pass($,()=>m.error(!0))}e.macroKeywordCode=o;function s(m,g){var _;const{gen:v,keyword:p,schema:E,parentSchema:y,$data:S,it:T}=m;u(T,g);const $=!S&&g.compile?g.compile.call(T.self,E,y,T):g.validate,d=f(v,p,$),x=v.let("valid");m.block$data(x,O),m.ok((_=g.valid)!==null&&_!==void 0?_:x);function O(){if(g.errors===!1)U(),g.modifying&&a(m),K(()=>m.error());else{const ie=g.async?P():M();g.modifying&&a(m),K(()=>l(m,ie))}}function P(){const ie=v.let("ruleErrs",null);return v.try(()=>U((0,t._)`await `),G=>v.assign(x,!1).if((0,t._)`${G} instanceof ${T.ValidationError}`,()=>v.assign(ie,(0,t._)`${G}.errors`),()=>v.throw(G))),ie}function M(){const ie=(0,t._)`${d}.errors`;return v.assign(ie,null),U(t.nil),ie}function U(ie=g.async?(0,t._)`await `:t.nil){const G=T.opts.passContext?r.default.this:r.default.self,ne=!("compile"in g&&!S||g.schema===!1);v.assign(x,(0,t._)`${ie}${(0,n.callValidateCode)(m,d,G,ne)}`,g.modifying)}function K(ie){var G;v.if((0,t.not)((G=g.valid)!==null&&G!==void 0?G:x),ie)}}e.funcKeywordCode=s;function a(m){const{gen:g,data:_,it:v}=m;g.if(v.parentData,()=>g.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(m,g){const{gen:_}=m;_.if((0,t._)`Array.isArray(${g})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${g} : ${r.default.vErrors}.concat(${g})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(m)},()=>m.error())}function u({schemaEnv:m},g){if(g.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,g,_){if(_===void 0)throw new Error(`keyword "${g}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(m,g,_=!1){return!g.length||g.some(v=>v==="array"?Array.isArray(m):v==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==v||_&&typeof m>"u")}e.validSchemaType=c;function h({schema:m,opts:g,self:_,errSchemaPath:v},p,E){if(Array.isArray(p.keyword)?!p.keyword.includes(E):p.keyword!==E)throw new Error("ajv implementation error");const y=p.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(m,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(p.validateSchema&&!p.validateSchema(m[E])){const T=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(p.validateSchema.errors);if(g.validateSchema==="log")_.logger.error(T);else throw new Error(T)}}e.validateKeywordUsage=h}}),Qpe=Fe({"../core/node_modules/ajv/dist/compile/validate/subschema.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=Zr(),r=En();function n(s,{keyword:a,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:h}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const m=s.schema[a];return l===void 0?{schema:m,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${a}`}:{schema:m[l],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(l)}`,errSchemaPath:`${s.errSchemaPath}/${a}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:h,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(s,a,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:h}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=a;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:p}=a,E=m.let("data",(0,t._)`${a.data}${(0,t.getProperty)(l)}`,!0);g(E),s.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,p.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${l}`,s.dataPathArr=[...v,s.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);g(_),h!==void 0&&(s.propertyName=h)}c&&(s.dataTypes=c);function g(_){s.data=_,s.dataLevel=a.dataLevel+1,s.dataTypes=[],a.definedProperties=new Set,s.parentData=a.data,s.dataNames=[...a.dataNames,_]}}e.extendSubschemaData=i;function o(s,{jtdDiscriminator:a,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(s.compositeRule=u),f!==void 0&&(s.createErrors=f),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=a,s.jtdMetadata=l}e.extendSubschemaMode=o}}),Zpe=Fe({"../core/node_modules/json-schema-traverse/index.js"(e,t){Ie();var r=t.exports=function(o,s,a){typeof s=="function"&&(a=s,s={}),a=s.cb||a;var l=typeof a=="function"?a:a.pre||function(){},u=a.post||function(){};n(s,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,s,a,l,u,f,c,h,m,g){if(l&&typeof l=="object"&&!Array.isArray(l)){s(l,u,f,c,h,m,g);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var p=0;p<v.length;p++)n(o,s,a,v[p],u+"/"+_+"/"+p,f,u,_,l,p)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,s,a,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,s,a,v,u+"/"+_,f,u,_,l)}a(l,u,f,c,h,m,g)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),fT=Fe({"../core/node_modules/ajv/dist/compile/resolve.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=En(),r=og(),n=Zpe(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,p=!0){return typeof v=="boolean"?!0:p===!0?!a(v):p?l(v)<=p:!1}e.inlineRef=o;var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(v){for(const p in v){if(s.has(p))return!0;const E=v[p];if(Array.isArray(E)&&E.some(a)||typeof E=="object"&&a(E))return!0}return!1}function l(v){let p=0;for(const E in v){if(E==="$ref")return 1/0;if(p++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>p+=l(y)),p===1/0))return 1/0}return p}function u(v,p="",E){E!==!1&&(p=h(p));const y=v.parse(p);return f(v,y)}e.getFullPath=u;function f(v,p){return v.serialize(p).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function h(v){return v?v.replace(c,""):""}e.normalizeId=h;function m(v,p,E){return E=h(E),v.resolve(p,E)}e.resolveUrl=m;var g=/^[a-z_][-a-z0-9._]*$/i;function _(v,p){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=h(v[E]||p),T={"":S},$=u(y,S,!1),d={},x=new Set;return n(v,{allKeys:!0},(M,U,K,ie)=>{if(ie===void 0)return;const G=$+U;let ne=T[ie];typeof M[E]=="string"&&(ne=ge.call(this,M[E])),re.call(this,M.$anchor),re.call(this,M.$dynamicAnchor),T[U]=ne;function ge(se){const D=this.opts.uriResolver.resolve;if(se=h(ne?D(ne,se):se),x.has(se))throw P(se);x.add(se);let z=this.refs[se];return typeof z=="string"&&(z=this.refs[z]),typeof z=="object"?O(M,z.schema,se):se!==h(G)&&(se[0]==="#"?(O(M,d[se],se),d[se]=M):this.refs[se]=G),se}function re(se){if(typeof se=="string"){if(!g.test(se))throw new Error(`invalid anchor "${se}"`);ge.call(this,`#${se}`)}}}),d;function O(M,U,K){if(U!==void 0&&!r(M,U))throw P(K)}function P(M){return new Error(`reference "${M}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),dT=Fe({"../core/node_modules/ajv/dist/compile/validate/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=Jpe(),r=zS(),n=MG(),i=zS(),o=Ype(),s=Xpe(),a=Qpe(),l=Zr(),u=bd(),f=fT(),c=En(),h=cT();function m(C){if($(C)&&(x(C),T(C))){p(C);return}g(C,()=>(0,t.topBoolOrEmptySchema)(C))}e.validateFunctionCode=m;function g({gen:C,validateName:F,schema:L,schemaEnv:ee,opts:ce},me){ce.code.es5?C.func(F,(0,l._)`${u.default.data}, ${u.default.valCxt}`,ee.$async,()=>{C.code((0,l._)`"use strict"; ${y(L,ce)}`),v(C,ce),C.code(me)}):C.func(F,(0,l._)`${u.default.data}, ${_(ce)}`,ee.$async,()=>C.code(y(L,ce)).code(me))}function _(C){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${C.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(C,F){C.if(u.default.valCxt,()=>{C.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),C.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),C.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),C.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),F.dynamicRef&&C.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{C.var(u.default.instancePath,(0,l._)`""`),C.var(u.default.parentData,(0,l._)`undefined`),C.var(u.default.parentDataProperty,(0,l._)`undefined`),C.var(u.default.rootData,u.default.data),F.dynamicRef&&C.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function p(C){const{schema:F,opts:L,gen:ee}=C;g(C,()=>{L.$comment&&F.$comment&&ie(C),M(C),ee.let(u.default.vErrors,null),ee.let(u.default.errors,0),L.unevaluated&&E(C),O(C),G(C)})}function E(C){const{gen:F,validateName:L}=C;C.evaluated=F.const("evaluated",(0,l._)`${L}.evaluated`),F.if((0,l._)`${C.evaluated}.dynamicProps`,()=>F.assign((0,l._)`${C.evaluated}.props`,(0,l._)`undefined`)),F.if((0,l._)`${C.evaluated}.dynamicItems`,()=>F.assign((0,l._)`${C.evaluated}.items`,(0,l._)`undefined`))}function y(C,F){const L=typeof C=="object"&&C[F.schemaId];return L&&(F.code.source||F.code.process)?(0,l._)`/*# sourceURL=${L} */`:l.nil}function S(C,F){if($(C)&&(x(C),T(C))){d(C,F);return}(0,t.boolOrEmptySchema)(C,F)}function T({schema:C,self:F}){if(typeof C=="boolean")return!C;for(const L in C)if(F.RULES.all[L])return!0;return!1}function $(C){return typeof C.schema!="boolean"}function d(C,F){const{schema:L,gen:ee,opts:ce}=C;ce.$comment&&L.$comment&&ie(C),U(C),K(C);const me=ee.const("_errs",u.default.errors);O(C,me),ee.var(F,(0,l._)`${me} === ${u.default.errors}`)}function x(C){(0,c.checkUnknownRules)(C),P(C)}function O(C,F){if(C.opts.jtd)return ge(C,[],!1,F);const L=(0,r.getSchemaTypes)(C.schema),ee=(0,r.coerceAndCheckDataType)(C,L);ge(C,L,!ee,F)}function P(C){const{schema:F,errSchemaPath:L,opts:ee,self:ce}=C;F.$ref&&ee.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(F,ce.RULES)&&ce.logger.warn(`$ref: keywords ignored in schema at path "${L}"`)}function M(C){const{schema:F,opts:L}=C;F.default!==void 0&&L.useDefaults&&L.strictSchema&&(0,c.checkStrictMode)(C,"default is ignored in the schema root")}function U(C){const F=C.schema[C.opts.schemaId];F&&(C.baseId=(0,f.resolveUrl)(C.opts.uriResolver,C.baseId,F))}function K(C){if(C.schema.$async&&!C.schemaEnv.$async)throw new Error("async schema in sync schema")}function ie({gen:C,schemaEnv:F,schema:L,errSchemaPath:ee,opts:ce}){const me=L.$comment;if(ce.$comment===!0)C.code((0,l._)`${u.default.self}.logger.log(${me})`);else if(typeof ce.$comment=="function"){const ve=(0,l.str)`${ee}/$comment`,Te=C.scopeValue("root",{ref:F.root});C.code((0,l._)`${u.default.self}.opts.$comment(${me}, ${ve}, ${Te}.schema)`)}}function G(C){const{gen:F,schemaEnv:L,validateName:ee,ValidationError:ce,opts:me}=C;L.$async?F.if((0,l._)`${u.default.errors} === 0`,()=>F.return(u.default.data),()=>F.throw((0,l._)`new ${ce}(${u.default.vErrors})`)):(F.assign((0,l._)`${ee}.errors`,u.default.vErrors),me.unevaluated&&ne(C),F.return((0,l._)`${u.default.errors} === 0`))}function ne({gen:C,evaluated:F,props:L,items:ee}){L instanceof l.Name&&C.assign((0,l._)`${F}.props`,L),ee instanceof l.Name&&C.assign((0,l._)`${F}.items`,ee)}function ge(C,F,L,ee){const{gen:ce,schema:me,data:ve,allErrors:Te,opts:De,self:Ge}=C,{RULES:Ve}=Ge;if(me.$ref&&(De.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(me,Ve))){ce.block(()=>te(C,"$ref",Ve.all.$ref.definition));return}De.jtd||se(C,F),ce.block(()=>{for(const tt of Ve.rules)ht(tt);ht(Ve.post)});function ht(tt){(0,n.shouldUseGroup)(me,tt)&&(tt.type?(ce.if((0,i.checkDataType)(tt.type,ve,De.strictNumbers)),re(C,tt),F.length===1&&F[0]===tt.type&&L&&(ce.else(),(0,i.reportTypeError)(C)),ce.endIf()):re(C,tt),Te||ce.if((0,l._)`${u.default.errors} === ${ee||0}`))}}function re(C,F){const{gen:L,schema:ee,opts:{useDefaults:ce}}=C;ce&&(0,o.assignDefaults)(C,F.type),L.block(()=>{for(const me of F.rules)(0,n.shouldUseRule)(ee,me)&&te(C,me.keyword,me.definition,F.type)})}function se(C,F){C.schemaEnv.meta||!C.opts.strictTypes||(D(C,F),C.opts.allowUnionTypes||z(C,F),Y(C,C.dataTypes))}function D(C,F){if(F.length){if(!C.dataTypes.length){C.dataTypes=F;return}F.forEach(L=>{I(C.dataTypes,L)||ae(C,`type "${L}" not allowed by context "${C.dataTypes.join(",")}"`)}),q(C,F)}}function z(C,F){F.length>1&&!(F.length===2&&F.includes("null"))&&ae(C,"use allowUnionTypes to allow union type keyword")}function Y(C,F){const L=C.self.RULES.all;for(const ee in L){const ce=L[ee];if(typeof ce=="object"&&(0,n.shouldUseRule)(C.schema,ce)){const{type:me}=ce.definition;me.length&&!me.some(ve=>N(F,ve))&&ae(C,`missing type "${me.join(",")}" for keyword "${ee}"`)}}}function N(C,F){return C.includes(F)||F==="number"&&C.includes("integer")}function I(C,F){return C.includes(F)||F==="integer"&&C.includes("number")}function q(C,F){const L=[];for(const ee of C.dataTypes)I(F,ee)?L.push(ee):F.includes("integer")&&ee==="number"&&L.push("integer");C.dataTypes=L}function ae(C,F){const L=C.schemaEnv.baseId+C.errSchemaPath;F+=` at "${L}" (strictTypes)`,(0,c.checkStrictMode)(C,F,C.opts.strictTypes)}var Z=class{constructor(C,F,L){if((0,s.validateKeywordUsage)(C,F,L),this.gen=C.gen,this.allErrors=C.allErrors,this.keyword=L,this.data=C.data,this.schema=C.schema[L],this.$data=F.$data&&C.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(C,this.schema,L,this.$data),this.schemaType=F.schemaType,this.parentSchema=C.schema,this.params={},this.it=C,this.def=F,this.$data)this.schemaCode=C.gen.const("vSchema",Le(this.$data,C));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,F.schemaType,F.allowUndefined))throw new Error(`${L} value must be ${JSON.stringify(F.schemaType)}`);("code"in F?F.trackErrors:F.errors!==!1)&&(this.errsCount=C.gen.const("_errs",u.default.errors))}result(C,F,L){this.failResult((0,l.not)(C),F,L)}failResult(C,F,L){this.gen.if(C),L?L():this.error(),F?(this.gen.else(),F(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(C,F){this.failResult((0,l.not)(C),void 0,F)}fail(C){if(C===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(C),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(C){if(!this.$data)return this.fail(C);const{schemaCode:F}=this;this.fail((0,l._)`${F} !== undefined && (${(0,l.or)(this.invalid$data(),C)})`)}error(C,F,L){if(F){this.setParams(F),this._error(C,L),this.setParams({});return}this._error(C,L)}_error(C,F){(C?h.reportExtraError:h.reportError)(this,this.def.error,F)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(C){this.allErrors||this.gen.if(C)}setParams(C,F){F?Object.assign(this.params,C):this.params=C}block$data(C,F,L=l.nil){this.gen.block(()=>{this.check$data(C,L),F()})}check$data(C=l.nil,F=l.nil){if(!this.$data)return;const{gen:L,schemaCode:ee,schemaType:ce,def:me}=this;L.if((0,l.or)((0,l._)`${ee} === undefined`,F)),C!==l.nil&&L.assign(C,!0),(ce.length||me.validateSchema)&&(L.elseIf(this.invalid$data()),this.$dataError(),C!==l.nil&&L.assign(C,!1)),L.else()}invalid$data(){const{gen:C,schemaCode:F,schemaType:L,def:ee,it:ce}=this;return(0,l.or)(me(),ve());function me(){if(L.length){if(!(F instanceof l.Name))throw new Error("ajv implementation error");const Te=Array.isArray(L)?L:[L];return(0,l._)`${(0,i.checkDataTypes)(Te,F,ce.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function ve(){if(ee.validateSchema){const Te=C.scopeValue("validate$data",{ref:ee.validateSchema});return(0,l._)`!${Te}(${F})`}return l.nil}}subschema(C,F){const L=(0,a.getSubschema)(this.it,C);(0,a.extendSubschemaData)(L,this.it,C),(0,a.extendSubschemaMode)(L,C);const ee={...this.it,...L,items:void 0,props:void 0};return S(ee,F),ee}mergeEvaluated(C,F){const{it:L,gen:ee}=this;L.opts.unevaluated&&(L.props!==!0&&C.props!==void 0&&(L.props=c.mergeEvaluated.props(ee,C.props,L.props,F)),L.items!==!0&&C.items!==void 0&&(L.items=c.mergeEvaluated.items(ee,C.items,L.items,F)))}mergeValidEvaluated(C,F){const{it:L,gen:ee}=this;if(L.opts.unevaluated&&(L.props!==!0||L.items!==!0))return ee.if(F,()=>this.mergeEvaluated(C,l.Name)),!0}};e.KeywordCxt=Z;function te(C,F,L,ee){const ce=new Z(C,L,F);"code"in L?L.code(ce,ee):ce.$data&&L.validate?(0,s.funcKeywordCode)(ce,L):"macro"in L?(0,s.macroKeywordCode)(ce,L):(L.compile||L.validate)&&(0,s.funcKeywordCode)(ce,L)}var ue=/^\/(?:[^~]|~0|~1)*$/,xe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Le(C,{dataLevel:F,dataNames:L,dataPathArr:ee}){let ce,me;if(C==="")return u.default.rootData;if(C[0]==="/"){if(!ue.test(C))throw new Error(`Invalid JSON-pointer: ${C}`);ce=C,me=u.default.rootData}else{const Ge=xe.exec(C);if(!Ge)throw new Error(`Invalid JSON-pointer: ${C}`);const Ve=+Ge[1];if(ce=Ge[2],ce==="#"){if(Ve>=F)throw new Error(De("property/index",Ve));return ee[F-Ve]}if(Ve>F)throw new Error(De("data",Ve));if(me=L[F-Ve],!ce)return me}let ve=me;const Te=ce.split("/");for(const Ge of Te)Ge&&(me=(0,l._)`${me}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Ge))}`,ve=(0,l._)`${ve} && ${me}`);return ve;function De(Ge,Ve){return`Cannot access ${Ge} ${Ve} levels up, current level is ${F}`}}e.getData=Le}}),wk=Fe({"../core/node_modules/ajv/dist/runtime/validation_error.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),bk=Fe({"../core/node_modules/ajv/dist/compile/ref_error.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=fT(),r=class extends Error{constructor(n,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),_k=Fe({"../core/node_modules/ajv/dist/compile/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=Zr(),r=wk(),n=bd(),i=fT(),o=En(),s=dT(),a=class{constructor(p){var E;this.refs={},this.dynamicAnchors={};let y;typeof p.schema=="object"&&(y=p.schema),this.schema=p.schema,this.schemaId=p.schemaId,this.root=p.root||this,this.baseId=(E=p.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[p.schemaId||"$id"]),this.schemaPath=p.schemaPath,this.localRefs=p.localRefs,this.meta=p.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=a;function l(p){const E=c.call(this,p);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:S,lines:T}=this.opts.code,{ownProperties:$}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:T,ownProperties:$});let x;p.$async&&(x=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const O=d.scopeName("validate");p.validateName=O;const P={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,t.stringify)(p.schema)}:{ref:p.schema}),validateName:O,ValidationError:x,schema:p.schema,schemaEnv:p,rootId:y,baseId:p.baseId||y,schemaPath:t.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let M;try{this._compilations.add(p),(0,s.validateFunctionCode)(P),d.optimize(this.opts.code.optimize);const U=d.toString();M=`${d.scopeRefs(n.default.scope)}return ${U}`,this.opts.code.process&&(M=this.opts.code.process(M,p));const ie=new Function(`${n.default.self}`,`${n.default.scope}`,M)(this,this.scope.get());if(this.scope.value(O,{ref:ie}),ie.errors=null,ie.schema=p.schema,ie.schemaEnv=p,p.$async&&(ie.$async=!0),this.opts.code.source===!0&&(ie.source={validateName:O,validateCode:U,scopeValues:d._values}),this.opts.unevaluated){const{props:G,items:ne}=P;ie.evaluated={props:G instanceof t.Name?void 0:G,items:ne instanceof t.Name?void 0:ne,dynamicProps:G instanceof t.Name,dynamicItems:ne instanceof t.Name},ie.source&&(ie.source.evaluated=(0,t.stringify)(ie.evaluated))}return p.validate=ie,p}catch(U){throw delete p.validate,delete p.validateName,M&&this.logger.error("Error compiling schema, function code:",M),U}finally{this._compilations.delete(p)}}e.compileSchema=l;function u(p,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const T=p.refs[y];if(T)return T;let $=m.call(this,p,y);if($===void 0){const d=(S=p.localRefs)===null||S===void 0?void 0:S[y],{schemaId:x}=this.opts;d&&($=new a({schema:d,schemaId:x,root:p,baseId:E}))}if($!==void 0)return p.refs[y]=f.call(this,$)}e.resolveRef=u;function f(p){return(0,i.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:l.call(this,p)}function c(p){for(const E of this._compilations)if(h(E,p))return E}e.getCompilingSchema=c;function h(p,E){return p.schema===E.schema&&p.root===E.root&&p.baseId===E.baseId}function m(p,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||g.call(this,p,E)}function g(p,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let T=(0,i.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&S===T)return v.call(this,y,p);const $=(0,i.normalizeId)(S),d=this.refs[$]||this.schemas[$];if(typeof d=="string"){const x=g.call(this,p,d);return typeof(x==null?void 0:x.schema)!="object"?void 0:v.call(this,y,x)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),$===(0,i.normalizeId)(E)){const{schema:x}=d,{schemaId:O}=this.opts,P=x[O];return P&&(T=(0,i.resolveUrl)(this.opts.uriResolver,T,P)),new a({schema:x,schemaId:O,root:p,baseId:T})}return v.call(this,y,d)}}e.resolveSchema=g;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(p,{baseId:E,schema:y,root:S}){var T;if(((T=p.fragment)===null||T===void 0?void 0:T[0])!=="/")return;for(const x of p.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const O=y[(0,o.unescapeFragment)(x)];if(O===void 0)return;y=O;const P=typeof y=="object"&&y[this.opts.schemaId];!_.has(x)&&P&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,P))}let $;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const x=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);$=g.call(this,S,x)}const{schemaId:d}=this.opts;if($=$||new a({schema:y,schemaId:d,root:S,baseId:E}),$.schema!==$.root.schema)return $}}}),eme=Fe({"../core/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),LG=Fe({"../../node_modules/uri-js/dist/es5/uri.all.js"(e,t){Ie(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n(r.URI=r.URI||{})}(e,function(r){function n(){for(var we=arguments.length,he=Array(we),Se=0;Se<we;Se++)he[Se]=arguments[Se];if(he.length>1){he[0]=he[0].slice(0,-1);for(var Me=he.length-1,ke=1;ke<Me;++ke)he[ke]=he[ke].slice(1,-1);return he[Me]=he[Me].slice(1),he.join("")}else return he[0]}function i(we){return"(?:"+we+")"}function o(we){return we===void 0?"undefined":we===null?"null":Object.prototype.toString.call(we).split(" ").pop().split("]").shift().toLowerCase()}function s(we){return we.toUpperCase()}function a(we){return we!=null?we instanceof Array?we:typeof we.length!="number"||we.split||we.setInterval||we.call?[we]:Array.prototype.slice.call(we):[]}function l(we,he){var Se=we;if(he)for(var Me in he)Se[Me]=he[Me];return Se}function u(we){var he="[A-Za-z]",Se="[0-9]",Me=n(Se,"[A-Fa-f]"),ke=i(i("%[EFef]"+Me+"%"+Me+Me+"%"+Me+Me)+"|"+i("%[89A-Fa-f]"+Me+"%"+Me+Me)+"|"+i("%"+Me+Me)),pt="[\\:\\/\\?\\#\\[\\]\\@]",ft="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Mt=n(pt,ft),Kt=we?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Zt=we?"[\\uE000-\\uF8FF]":"[]",Dt=n(he,Se,"[\\-\\.\\_\\~]",Kt);i(he+n(he,Se,"[\\+\\-\\.]")+"*"),i(i(ke+"|"+n(Dt,ft,"[\\:]"))+"*");var qt=i(i("25[0-5]")+"|"+i("2[0-4]"+Se)+"|"+i("1"+Se+Se)+"|"+i("0?[1-9]"+Se)+"|0?0?"+Se),ur=i(qt+"\\."+qt+"\\."+qt+"\\."+qt),Nt=i(Me+"{1,4}"),ir=i(i(Nt+"\\:"+Nt)+"|"+ur),Ft=i(i(Nt+"\\:")+"{6}"+ir),Yt=i("\\:\\:"+i(Nt+"\\:")+"{5}"+ir),pn=i(i(Nt)+"?\\:\\:"+i(Nt+"\\:")+"{4}"+ir),un=i(i(i(Nt+"\\:")+"{0,1}"+Nt)+"?\\:\\:"+i(Nt+"\\:")+"{3}"+ir),mn=i(i(i(Nt+"\\:")+"{0,2}"+Nt)+"?\\:\\:"+i(Nt+"\\:")+"{2}"+ir),Hn=i(i(i(Nt+"\\:")+"{0,3}"+Nt)+"?\\:\\:"+Nt+"\\:"+ir),fi=i(i(i(Nt+"\\:")+"{0,4}"+Nt)+"?\\:\\:"+ir),rn=i(i(i(Nt+"\\:")+"{0,5}"+Nt)+"?\\:\\:"+Nt),vn=i(i(i(Nt+"\\:")+"{0,6}"+Nt)+"?\\:\\:"),$i=i([Ft,Yt,pn,un,mn,Hn,fi,rn,vn].join("|")),Wn=i(i(Dt+"|"+ke)+"+");i("[vV]"+Me+"+\\."+n(Dt,ft,"[\\:]")+"+"),i(i(ke+"|"+n(Dt,ft))+"*");var zi=i(ke+"|"+n(Dt,ft,"[\\:\\@]"));return i(i(ke+"|"+n(Dt,ft,"[\\@]"))+"+"),i(i(zi+"|"+n("[\\/\\?]",Zt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",he,Se,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Dt,ft),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Dt,ft),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Dt,ft),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Dt,ft),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Dt,ft,"[\\:\\@\\/\\?]",Zt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Dt,ft,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Dt,ft),"g"),UNRESERVED:new RegExp(Dt,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Dt,Mt),"g"),PCT_ENCODED:new RegExp(ke,"g"),IPV4ADDRESS:new RegExp("^("+ur+")$"),IPV6ADDRESS:new RegExp("^\\[?("+$i+")"+i(i("\\%25|\\%(?!"+Me+"{2})")+"("+Wn+")")+"?\\]?$")}}var f=u(!1),c=u(!0),h=function(){function we(he,Se){var Me=[],ke=!0,pt=!1,ft=void 0;try{for(var Mt=he[Symbol.iterator](),Kt;!(ke=(Kt=Mt.next()).done)&&(Me.push(Kt.value),!(Se&&Me.length===Se));ke=!0);}catch(Zt){pt=!0,ft=Zt}finally{try{!ke&&Mt.return&&Mt.return()}finally{if(pt)throw ft}}return Me}return function(he,Se){if(Array.isArray(he))return he;if(Symbol.iterator in Object(he))return we(he,Se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(we){if(Array.isArray(we)){for(var he=0,Se=Array(we.length);he<we.length;he++)Se[he]=we[he];return Se}else return Array.from(we)},g=2147483647,_=36,v=1,p=26,E=38,y=700,S=72,T=128,$="-",d=/^xn--/,x=/[^\0-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=_-v,U=Math.floor,K=String.fromCharCode;function ie(we){throw new RangeError(P[we])}function G(we,he){for(var Se=[],Me=we.length;Me--;)Se[Me]=he(we[Me]);return Se}function ne(we,he){var Se=we.split("@"),Me="";Se.length>1&&(Me=Se[0]+"@",we=Se[1]),we=we.replace(O,".");var ke=we.split("."),pt=G(ke,he).join(".");return Me+pt}function ge(we){for(var he=[],Se=0,Me=we.length;Se<Me;){var ke=we.charCodeAt(Se++);if(ke>=55296&&ke<=56319&&Se<Me){var pt=we.charCodeAt(Se++);(pt&64512)==56320?he.push(((ke&1023)<<10)+(pt&1023)+65536):(he.push(ke),Se--)}else he.push(ke)}return he}var re=function(he){return String.fromCodePoint.apply(String,m(he))},se=function(he){return he-48<10?he-22:he-65<26?he-65:he-97<26?he-97:_},D=function(he,Se){return he+22+75*(he<26)-((Se!=0)<<5)},z=function(he,Se,Me){var ke=0;for(he=Me?U(he/y):he>>1,he+=U(he/Se);he>M*p>>1;ke+=_)he=U(he/M);return U(ke+(M+1)*he/(he+E))},Y=function(he){var Se=[],Me=he.length,ke=0,pt=T,ft=S,Mt=he.lastIndexOf($);Mt<0&&(Mt=0);for(var Kt=0;Kt<Mt;++Kt)he.charCodeAt(Kt)>=128&&ie("not-basic"),Se.push(he.charCodeAt(Kt));for(var Zt=Mt>0?Mt+1:0;Zt<Me;){for(var Dt=ke,qt=1,ur=_;;ur+=_){Zt>=Me&&ie("invalid-input");var Nt=se(he.charCodeAt(Zt++));(Nt>=_||Nt>U((g-ke)/qt))&&ie("overflow"),ke+=Nt*qt;var ir=ur<=ft?v:ur>=ft+p?p:ur-ft;if(Nt<ir)break;var Ft=_-ir;qt>U(g/Ft)&&ie("overflow"),qt*=Ft}var Yt=Se.length+1;ft=z(ke-Dt,Yt,Dt==0),U(ke/Yt)>g-pt&&ie("overflow"),pt+=U(ke/Yt),ke%=Yt,Se.splice(ke++,0,pt)}return String.fromCodePoint.apply(String,Se)},N=function(he){var Se=[];he=ge(he);var Me=he.length,ke=T,pt=0,ft=S,Mt=!0,Kt=!1,Zt=void 0;try{for(var Dt=he[Symbol.iterator](),qt;!(Mt=(qt=Dt.next()).done);Mt=!0){var ur=qt.value;ur<128&&Se.push(K(ur))}}catch(Zn){Kt=!0,Zt=Zn}finally{try{!Mt&&Dt.return&&Dt.return()}finally{if(Kt)throw Zt}}var Nt=Se.length,ir=Nt;for(Nt&&Se.push($);ir<Me;){var Ft=g,Yt=!0,pn=!1,un=void 0;try{for(var mn=he[Symbol.iterator](),Hn;!(Yt=(Hn=mn.next()).done);Yt=!0){var fi=Hn.value;fi>=ke&&fi<Ft&&(Ft=fi)}}catch(Zn){pn=!0,un=Zn}finally{try{!Yt&&mn.return&&mn.return()}finally{if(pn)throw un}}var rn=ir+1;Ft-ke>U((g-pt)/rn)&&ie("overflow"),pt+=(Ft-ke)*rn,ke=Ft;var vn=!0,$i=!1,Wn=void 0;try{for(var zi=he[Symbol.iterator](),_s;!(vn=(_s=zi.next()).done);vn=!0){var Wo=_s.value;if(Wo<ke&&++pt>g&&ie("overflow"),Wo==ke){for(var nn=pt,Gn=_;;Gn+=_){var xi=Gn<=ft?v:Gn>=ft+p?p:Gn-ft;if(nn<xi)break;var Na=nn-xi,Go=_-xi;Se.push(K(D(xi+Na%Go,0))),nn=U(Na/Go)}Se.push(K(D(nn,0))),ft=z(pt,rn,ir==Nt),pt=0,++ir}}}catch(Zn){$i=!0,Wn=Zn}finally{try{!vn&&zi.return&&zi.return()}finally{if($i)throw Wn}}++pt,++ke}return Se.join("")},I=function(he){return ne(he,function(Se){return d.test(Se)?Y(Se.slice(4).toLowerCase()):Se})},q=function(he){return ne(he,function(Se){return x.test(Se)?"xn--"+N(Se):Se})},ae={version:"2.1.0",ucs2:{decode:ge,encode:re},decode:Y,encode:N,toASCII:q,toUnicode:I},Z={};function te(we){var he=we.charCodeAt(0),Se=void 0;return he<16?Se="%0"+he.toString(16).toUpperCase():he<128?Se="%"+he.toString(16).toUpperCase():he<2048?Se="%"+(he>>6|192).toString(16).toUpperCase()+"%"+(he&63|128).toString(16).toUpperCase():Se="%"+(he>>12|224).toString(16).toUpperCase()+"%"+(he>>6&63|128).toString(16).toUpperCase()+"%"+(he&63|128).toString(16).toUpperCase(),Se}function ue(we){for(var he="",Se=0,Me=we.length;Se<Me;){var ke=parseInt(we.substr(Se+1,2),16);if(ke<128)he+=String.fromCharCode(ke),Se+=3;else if(ke>=194&&ke<224){if(Me-Se>=6){var pt=parseInt(we.substr(Se+4,2),16);he+=String.fromCharCode((ke&31)<<6|pt&63)}else he+=we.substr(Se,6);Se+=6}else if(ke>=224){if(Me-Se>=9){var ft=parseInt(we.substr(Se+4,2),16),Mt=parseInt(we.substr(Se+7,2),16);he+=String.fromCharCode((ke&15)<<12|(ft&63)<<6|Mt&63)}else he+=we.substr(Se,9);Se+=9}else he+=we.substr(Se,3),Se+=3}return he}function xe(we,he){function Se(Me){var ke=ue(Me);return ke.match(he.UNRESERVED)?ke:Me}return we.scheme&&(we.scheme=String(we.scheme).replace(he.PCT_ENCODED,Se).toLowerCase().replace(he.NOT_SCHEME,"")),we.userinfo!==void 0&&(we.userinfo=String(we.userinfo).replace(he.PCT_ENCODED,Se).replace(he.NOT_USERINFO,te).replace(he.PCT_ENCODED,s)),we.host!==void 0&&(we.host=String(we.host).replace(he.PCT_ENCODED,Se).toLowerCase().replace(he.NOT_HOST,te).replace(he.PCT_ENCODED,s)),we.path!==void 0&&(we.path=String(we.path).replace(he.PCT_ENCODED,Se).replace(we.scheme?he.NOT_PATH:he.NOT_PATH_NOSCHEME,te).replace(he.PCT_ENCODED,s)),we.query!==void 0&&(we.query=String(we.query).replace(he.PCT_ENCODED,Se).replace(he.NOT_QUERY,te).replace(he.PCT_ENCODED,s)),we.fragment!==void 0&&(we.fragment=String(we.fragment).replace(he.PCT_ENCODED,Se).replace(he.NOT_FRAGMENT,te).replace(he.PCT_ENCODED,s)),we}function Le(we){return we.replace(/^0*(.*)/,"$1")||"0"}function C(we,he){var Se=we.match(he.IPV4ADDRESS)||[],Me=h(Se,2),ke=Me[1];return ke?ke.split(".").map(Le).join("."):we}function F(we,he){var Se=we.match(he.IPV6ADDRESS)||[],Me=h(Se,3),ke=Me[1],pt=Me[2];if(ke){for(var ft=ke.toLowerCase().split("::").reverse(),Mt=h(ft,2),Kt=Mt[0],Zt=Mt[1],Dt=Zt?Zt.split(":").map(Le):[],qt=Kt.split(":").map(Le),ur=he.IPV4ADDRESS.test(qt[qt.length-1]),Nt=ur?7:8,ir=qt.length-Nt,Ft=Array(Nt),Yt=0;Yt<Nt;++Yt)Ft[Yt]=Dt[Yt]||qt[ir+Yt]||"";ur&&(Ft[Nt-1]=C(Ft[Nt-1],he));var pn=Ft.reduce(function(rn,vn,$i){if(!vn||vn==="0"){var Wn=rn[rn.length-1];Wn&&Wn.index+Wn.length===$i?Wn.length++:rn.push({index:$i,length:1})}return rn},[]),un=pn.sort(function(rn,vn){return vn.length-rn.length})[0],mn=void 0;if(un&&un.length>1){var Hn=Ft.slice(0,un.index),fi=Ft.slice(un.index+un.length);mn=Hn.join(":")+"::"+fi.join(":")}else mn=Ft.join(":");return pt&&(mn+="%"+pt),mn}else return we}var L=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,ee="".match(/(){0}/)[1]===void 0;function ce(we){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se={},Me=he.iri!==!1?c:f;he.reference==="suffix"&&(we=(he.scheme?he.scheme+":":"")+"//"+we);var ke=we.match(L);if(ke){ee?(Se.scheme=ke[1],Se.userinfo=ke[3],Se.host=ke[4],Se.port=parseInt(ke[5],10),Se.path=ke[6]||"",Se.query=ke[7],Se.fragment=ke[8],isNaN(Se.port)&&(Se.port=ke[5])):(Se.scheme=ke[1]||void 0,Se.userinfo=we.indexOf("@")!==-1?ke[3]:void 0,Se.host=we.indexOf("//")!==-1?ke[4]:void 0,Se.port=parseInt(ke[5],10),Se.path=ke[6]||"",Se.query=we.indexOf("?")!==-1?ke[7]:void 0,Se.fragment=we.indexOf("#")!==-1?ke[8]:void 0,isNaN(Se.port)&&(Se.port=we.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?ke[4]:void 0)),Se.host&&(Se.host=F(C(Se.host,Me),Me)),Se.scheme===void 0&&Se.userinfo===void 0&&Se.host===void 0&&Se.port===void 0&&!Se.path&&Se.query===void 0?Se.reference="same-document":Se.scheme===void 0?Se.reference="relative":Se.fragment===void 0?Se.reference="absolute":Se.reference="uri",he.reference&&he.reference!=="suffix"&&he.reference!==Se.reference&&(Se.error=Se.error||"URI is not a "+he.reference+" reference.");var pt=Z[(he.scheme||Se.scheme||"").toLowerCase()];if(!he.unicodeSupport&&(!pt||!pt.unicodeSupport)){if(Se.host&&(he.domainHost||pt&&pt.domainHost))try{Se.host=ae.toASCII(Se.host.replace(Me.PCT_ENCODED,ue).toLowerCase())}catch(ft){Se.error=Se.error||"Host's domain name can not be converted to ASCII via punycode: "+ft}xe(Se,f)}else xe(Se,Me);pt&&pt.parse&&pt.parse(Se,he)}else Se.error=Se.error||"URI can not be parsed.";return Se}function me(we,he){var Se=he.iri!==!1?c:f,Me=[];return we.userinfo!==void 0&&(Me.push(we.userinfo),Me.push("@")),we.host!==void 0&&Me.push(F(C(String(we.host),Se),Se).replace(Se.IPV6ADDRESS,function(ke,pt,ft){return"["+pt+(ft?"%25"+ft:"")+"]"})),(typeof we.port=="number"||typeof we.port=="string")&&(Me.push(":"),Me.push(String(we.port))),Me.length?Me.join(""):void 0}var ve=/^\.\.?\//,Te=/^\/\.(\/|$)/,De=/^\/\.\.(\/|$)/,Ge=/^\/?(?:.|\n)*?(?=\/|$)/;function Ve(we){for(var he=[];we.length;)if(we.match(ve))we=we.replace(ve,"");else if(we.match(Te))we=we.replace(Te,"/");else if(we.match(De))we=we.replace(De,"/"),he.pop();else if(we==="."||we==="..")we="";else{var Se=we.match(Ge);if(Se){var Me=Se[0];we=we.slice(Me.length),he.push(Me)}else throw new Error("Unexpected dot segment condition")}return he.join("")}function ht(we){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se=he.iri?c:f,Me=[],ke=Z[(he.scheme||we.scheme||"").toLowerCase()];if(ke&&ke.serialize&&ke.serialize(we,he),we.host&&!Se.IPV6ADDRESS.test(we.host)){if(he.domainHost||ke&&ke.domainHost)try{we.host=he.iri?ae.toUnicode(we.host):ae.toASCII(we.host.replace(Se.PCT_ENCODED,ue).toLowerCase())}catch(Mt){we.error=we.error||"Host's domain name can not be converted to "+(he.iri?"Unicode":"ASCII")+" via punycode: "+Mt}}xe(we,Se),he.reference!=="suffix"&&we.scheme&&(Me.push(we.scheme),Me.push(":"));var pt=me(we,he);if(pt!==void 0&&(he.reference!=="suffix"&&Me.push("//"),Me.push(pt),we.path&&we.path.charAt(0)!=="/"&&Me.push("/")),we.path!==void 0){var ft=we.path;!he.absolutePath&&(!ke||!ke.absolutePath)&&(ft=Ve(ft)),pt===void 0&&(ft=ft.replace(/^\/\//,"/%2F")),Me.push(ft)}return we.query!==void 0&&(Me.push("?"),Me.push(we.query)),we.fragment!==void 0&&(Me.push("#"),Me.push(we.fragment)),Me.join("")}function tt(we,he){var Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Me=arguments[3],ke={};return Me||(we=ce(ht(we,Se),Se),he=ce(ht(he,Se),Se)),Se=Se||{},!Se.tolerant&&he.scheme?(ke.scheme=he.scheme,ke.userinfo=he.userinfo,ke.host=he.host,ke.port=he.port,ke.path=Ve(he.path||""),ke.query=he.query):(he.userinfo!==void 0||he.host!==void 0||he.port!==void 0?(ke.userinfo=he.userinfo,ke.host=he.host,ke.port=he.port,ke.path=Ve(he.path||""),ke.query=he.query):(he.path?(he.path.charAt(0)==="/"?ke.path=Ve(he.path):((we.userinfo!==void 0||we.host!==void 0||we.port!==void 0)&&!we.path?ke.path="/"+he.path:we.path?ke.path=we.path.slice(0,we.path.lastIndexOf("/")+1)+he.path:ke.path=he.path,ke.path=Ve(ke.path)),ke.query=he.query):(ke.path=we.path,he.query!==void 0?ke.query=he.query:ke.query=we.query),ke.userinfo=we.userinfo,ke.host=we.host,ke.port=we.port),ke.scheme=we.scheme),ke.fragment=he.fragment,ke}function Xe(we,he,Se){var Me=l({scheme:"null"},Se);return ht(tt(ce(we,Me),ce(he,Me),Me,!0),Me)}function Q(we,he){return typeof we=="string"?we=ht(ce(we,he),he):o(we)==="object"&&(we=ce(ht(we,he),he)),we}function k(we,he,Se){return typeof we=="string"?we=ht(ce(we,Se),Se):o(we)==="object"&&(we=ht(we,Se)),typeof he=="string"?he=ht(ce(he,Se),Se):o(he)==="object"&&(he=ht(he,Se)),we===he}function B(we,he){return we&&we.toString().replace(!he||!he.iri?f.ESCAPE:c.ESCAPE,te)}function le(we,he){return we&&we.toString().replace(!he||!he.iri?f.PCT_ENCODED:c.PCT_ENCODED,ue)}var Ee={scheme:"http",domainHost:!0,parse:function(he,Se){return he.host||(he.error=he.error||"HTTP URIs must have a host."),he},serialize:function(he,Se){var Me=String(he.scheme).toLowerCase()==="https";return(he.port===(Me?443:80)||he.port==="")&&(he.port=void 0),he.path||(he.path="/"),he}},Pe={scheme:"https",domainHost:Ee.domainHost,parse:Ee.parse,serialize:Ee.serialize};function qe(we){return typeof we.secure=="boolean"?we.secure:String(we.scheme).toLowerCase()==="wss"}var Be={scheme:"ws",domainHost:!0,parse:function(he,Se){var Me=he;return Me.secure=qe(Me),Me.resourceName=(Me.path||"/")+(Me.query?"?"+Me.query:""),Me.path=void 0,Me.query=void 0,Me},serialize:function(he,Se){if((he.port===(qe(he)?443:80)||he.port==="")&&(he.port=void 0),typeof he.secure=="boolean"&&(he.scheme=he.secure?"wss":"ws",he.secure=void 0),he.resourceName){var Me=he.resourceName.split("?"),ke=h(Me,2),pt=ke[0],ft=ke[1];he.path=pt&&pt!=="/"?pt:void 0,he.query=ft,he.resourceName=void 0}return he.fragment=void 0,he}},Ye={scheme:"wss",domainHost:Be.domainHost,parse:Be.parse,serialize:Be.serialize},gt={},Ot="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",yt="[0-9A-Fa-f]",Xt=i(i("%[EFef]"+yt+"%"+yt+yt+"%"+yt+yt)+"|"+i("%[89A-Fa-f]"+yt+"%"+yt+yt)+"|"+i("%"+yt+yt)),Xr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",tn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Tr=n(tn,'[\\"\\\\]'),Rr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",jn=new RegExp(Ot,"g"),_r=new RegExp(Xt,"g"),Qt=new RegExp(n("[^]",Xr,"[\\.]",'[\\"]',Tr),"g"),hr=new RegExp(n("[^]",Ot,Rr),"g"),Oe=hr;function je(we){var he=ue(we);return he.match(jn)?he:we}var bt={scheme:"mailto",parse:function(he,Se){var Me=he,ke=Me.to=Me.path?Me.path.split(","):[];if(Me.path=void 0,Me.query){for(var pt=!1,ft={},Mt=Me.query.split("&"),Kt=0,Zt=Mt.length;Kt<Zt;++Kt){var Dt=Mt[Kt].split("=");switch(Dt[0]){case"to":for(var qt=Dt[1].split(","),ur=0,Nt=qt.length;ur<Nt;++ur)ke.push(qt[ur]);break;case"subject":Me.subject=le(Dt[1],Se);break;case"body":Me.body=le(Dt[1],Se);break;default:pt=!0,ft[le(Dt[0],Se)]=le(Dt[1],Se);break}}pt&&(Me.headers=ft)}Me.query=void 0;for(var ir=0,Ft=ke.length;ir<Ft;++ir){var Yt=ke[ir].split("@");if(Yt[0]=le(Yt[0]),Se.unicodeSupport)Yt[1]=le(Yt[1],Se).toLowerCase();else try{Yt[1]=ae.toASCII(le(Yt[1],Se).toLowerCase())}catch(pn){Me.error=Me.error||"Email address's domain name can not be converted to ASCII via punycode: "+pn}ke[ir]=Yt.join("@")}return Me},serialize:function(he,Se){var Me=he,ke=a(he.to);if(ke){for(var pt=0,ft=ke.length;pt<ft;++pt){var Mt=String(ke[pt]),Kt=Mt.lastIndexOf("@"),Zt=Mt.slice(0,Kt).replace(_r,je).replace(_r,s).replace(Qt,te),Dt=Mt.slice(Kt+1);try{Dt=Se.iri?ae.toUnicode(Dt):ae.toASCII(le(Dt,Se).toLowerCase())}catch(ir){Me.error=Me.error||"Email address's domain name can not be converted to "+(Se.iri?"Unicode":"ASCII")+" via punycode: "+ir}ke[pt]=Zt+"@"+Dt}Me.path=ke.join(",")}var qt=he.headers=he.headers||{};he.subject&&(qt.subject=he.subject),he.body&&(qt.body=he.body);var ur=[];for(var Nt in qt)qt[Nt]!==gt[Nt]&&ur.push(Nt.replace(_r,je).replace(_r,s).replace(hr,te)+"="+qt[Nt].replace(_r,je).replace(_r,s).replace(Oe,te));return ur.length&&(Me.query=ur.join("&")),Me}},$t=/^([^\:]+)\:(.*)/,ut={scheme:"urn",parse:function(he,Se){var Me=he.path&&he.path.match($t),ke=he;if(Me){var pt=Se.scheme||ke.scheme||"urn",ft=Me[1].toLowerCase(),Mt=Me[2],Kt=pt+":"+(Se.nid||ft),Zt=Z[Kt];ke.nid=ft,ke.nss=Mt,ke.path=void 0,Zt&&(ke=Zt.parse(ke,Se))}else ke.error=ke.error||"URN can not be parsed.";return ke},serialize:function(he,Se){var Me=Se.scheme||he.scheme||"urn",ke=he.nid,pt=Me+":"+(Se.nid||ke),ft=Z[pt];ft&&(he=ft.serialize(he,Se));var Mt=he,Kt=he.nss;return Mt.path=(ke||Se.nid)+":"+Kt,Mt}},Ut=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Bt={scheme:"urn:uuid",parse:function(he,Se){var Me=he;return Me.uuid=Me.nss,Me.nss=void 0,!Se.tolerant&&(!Me.uuid||!Me.uuid.match(Ut))&&(Me.error=Me.error||"UUID is not valid."),Me},serialize:function(he,Se){var Me=he;return Me.nss=(he.uuid||"").toLowerCase(),Me}};Z[Ee.scheme]=Ee,Z[Pe.scheme]=Pe,Z[Be.scheme]=Be,Z[Ye.scheme]=Ye,Z[bt.scheme]=bt,Z[ut.scheme]=ut,Z[Bt.scheme]=Bt,r.SCHEMES=Z,r.pctEncChar=te,r.pctDecChars=ue,r.parse=ce,r.removeDotSegments=Ve,r.serialize=ht,r.resolveComponents=tt,r.resolve=Xe,r.normalize=Q,r.equal=k,r.escapeComponent=B,r.unescapeComponent=le,Object.defineProperty(r,"__esModule",{value:!0})})}}),tme=Fe({"../core/node_modules/ajv/dist/runtime/uri.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=LG();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),rme=Fe({"../core/node_modules/ajv/dist/core.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=dT();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Zr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=wk(),i=bk(),o=DG(),s=_k(),a=Zr(),l=fT(),u=zS(),f=En(),c=eme(),h=tme(),m=(D,z)=>new RegExp(D,z);m.code="new RegExp";var g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(D){var z,Y,N,I,q,ae,Z,te,ue,xe,Le,C,F,L,ee,ce,me,ve,Te,De,Ge,Ve,ht,tt,Xe;const Q=D.strict,k=(z=D.code)===null||z===void 0?void 0:z.optimize,B=k===!0||k===void 0?1:k||0,le=(N=(Y=D.code)===null||Y===void 0?void 0:Y.regExp)!==null&&N!==void 0?N:m,Ee=(I=D.uriResolver)!==null&&I!==void 0?I:h.default;return{strictSchema:(ae=(q=D.strictSchema)!==null&&q!==void 0?q:Q)!==null&&ae!==void 0?ae:!0,strictNumbers:(te=(Z=D.strictNumbers)!==null&&Z!==void 0?Z:Q)!==null&&te!==void 0?te:!0,strictTypes:(xe=(ue=D.strictTypes)!==null&&ue!==void 0?ue:Q)!==null&&xe!==void 0?xe:"log",strictTuples:(C=(Le=D.strictTuples)!==null&&Le!==void 0?Le:Q)!==null&&C!==void 0?C:"log",strictRequired:(L=(F=D.strictRequired)!==null&&F!==void 0?F:Q)!==null&&L!==void 0?L:!1,code:D.code?{...D.code,optimize:B,regExp:le}:{optimize:B,regExp:le},loopRequired:(ee=D.loopRequired)!==null&&ee!==void 0?ee:E,loopEnum:(ce=D.loopEnum)!==null&&ce!==void 0?ce:E,meta:(me=D.meta)!==null&&me!==void 0?me:!0,messages:(ve=D.messages)!==null&&ve!==void 0?ve:!0,inlineRefs:(Te=D.inlineRefs)!==null&&Te!==void 0?Te:!0,schemaId:(De=D.schemaId)!==null&&De!==void 0?De:"$id",addUsedSchema:(Ge=D.addUsedSchema)!==null&&Ge!==void 0?Ge:!0,validateSchema:(Ve=D.validateSchema)!==null&&Ve!==void 0?Ve:!0,validateFormats:(ht=D.validateFormats)!==null&&ht!==void 0?ht:!0,unicodeRegExp:(tt=D.unicodeRegExp)!==null&&tt!==void 0?tt:!0,int32range:(Xe=D.int32range)!==null&&Xe!==void 0?Xe:!0,uriResolver:Ee}}var S=class{constructor(D={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,D=this.opts={...D,...y(D)};const{es5:z,lines:Y}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:z,lines:Y}),this.logger=U(D.logger);const N=D.validateFormats;D.validateFormats=!1,this.RULES=(0,o.getRules)(),T.call(this,v,D,"NOT SUPPORTED"),T.call(this,p,D,"DEPRECATED","warn"),this._metaOpts=P.call(this),D.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),D.keywords&&O.call(this,D.keywords),typeof D.meta=="object"&&this.addMetaSchema(D.meta),d.call(this),D.validateFormats=N}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:D,meta:z,schemaId:Y}=this.opts;let N=c;Y==="id"&&(N={...c},N.id=N.$id,delete N.$id),z&&D&&this.addMetaSchema(N,N[Y],!1)}defaultMeta(){const{meta:D,schemaId:z}=this.opts;return this.opts.defaultMeta=typeof D=="object"?D[z]||D:void 0}validate(D,z){let Y;if(typeof D=="string"){if(Y=this.getSchema(D),!Y)throw new Error(`no schema with key or ref "${D}"`)}else Y=this.compile(D);const N=Y(z);return"$async"in Y||(this.errors=Y.errors),N}compile(D,z){const Y=this._addSchema(D,z);return Y.validate||this._compileSchemaEnv(Y)}compileAsync(D,z){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:Y}=this.opts;return N.call(this,D,z);async function N(ue,xe){await I.call(this,ue.$schema);const Le=this._addSchema(ue,xe);return Le.validate||q.call(this,Le)}async function I(ue){ue&&!this.getSchema(ue)&&await N.call(this,{$ref:ue},!0)}async function q(ue){try{return this._compileSchemaEnv(ue)}catch(xe){if(!(xe instanceof i.default))throw xe;return ae.call(this,xe),await Z.call(this,xe.missingSchema),q.call(this,ue)}}function ae({missingSchema:ue,missingRef:xe}){if(this.refs[ue])throw new Error(`AnySchema ${ue} is loaded but ${xe} cannot be resolved`)}async function Z(ue){const xe=await te.call(this,ue);this.refs[ue]||await I.call(this,xe.$schema),this.refs[ue]||this.addSchema(xe,ue,z)}async function te(ue){const xe=this._loading[ue];if(xe)return xe;try{return await(this._loading[ue]=Y(ue))}finally{delete this._loading[ue]}}}addSchema(D,z,Y,N=this.opts.validateSchema){if(Array.isArray(D)){for(const q of D)this.addSchema(q,void 0,Y,N);return this}let I;if(typeof D=="object"){const{schemaId:q}=this.opts;if(I=D[q],I!==void 0&&typeof I!="string")throw new Error(`schema ${q} must be string`)}return z=(0,l.normalizeId)(z||I),this._checkUnique(z),this.schemas[z]=this._addSchema(D,Y,z,N,!0),this}addMetaSchema(D,z,Y=this.opts.validateSchema){return this.addSchema(D,z,!0,Y),this}validateSchema(D,z){if(typeof D=="boolean")return!0;let Y;if(Y=D.$schema,Y!==void 0&&typeof Y!="string")throw new Error("$schema must be a string");if(Y=Y||this.opts.defaultMeta||this.defaultMeta(),!Y)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const N=this.validate(Y,D);if(!N&&z){const I="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(I);else throw new Error(I)}return N}getSchema(D){let z;for(;typeof(z=$.call(this,D))=="string";)D=z;if(z===void 0){const{schemaId:Y}=this.opts,N=new s.SchemaEnv({schema:{},schemaId:Y});if(z=s.resolveSchema.call(this,N,D),!z)return;this.refs[D]=z}return z.validate||this._compileSchemaEnv(z)}removeSchema(D){if(D instanceof RegExp)return this._removeAllSchemas(this.schemas,D),this._removeAllSchemas(this.refs,D),this;switch(typeof D){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const z=$.call(this,D);return typeof z=="object"&&this._cache.delete(z.schema),delete this.schemas[D],delete this.refs[D],this}case"object":{const z=D;this._cache.delete(z);let Y=D[this.opts.schemaId];return Y&&(Y=(0,l.normalizeId)(Y),delete this.schemas[Y],delete this.refs[Y]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(D){for(const z of D)this.addKeyword(z);return this}addKeyword(D,z){let Y;if(typeof D=="string")Y=D,typeof z=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),z.keyword=Y);else if(typeof D=="object"&&z===void 0){if(z=D,Y=z.keyword,Array.isArray(Y)&&!Y.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ie.call(this,Y,z),!z)return(0,f.eachItem)(Y,I=>G.call(this,I)),this;ge.call(this,z);const N={...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)};return(0,f.eachItem)(Y,N.type.length===0?I=>G.call(this,I,N):I=>N.type.forEach(q=>G.call(this,I,N,q))),this}getKeyword(D){const z=this.RULES.all[D];return typeof z=="object"?z.definition:!!z}removeKeyword(D){const{RULES:z}=this;delete z.keywords[D],delete z.all[D];for(const Y of z.rules){const N=Y.rules.findIndex(I=>I.keyword===D);N>=0&&Y.rules.splice(N,1)}return this}addFormat(D,z){return typeof z=="string"&&(z=new RegExp(z)),this.formats[D]=z,this}errorsText(D=this.errors,{separator:z=", ",dataVar:Y="data"}={}){return!D||D.length===0?"No errors":D.map(N=>`${Y}${N.instancePath} ${N.message}`).reduce((N,I)=>N+z+I)}$dataMetaSchema(D,z){const Y=this.RULES.all;D=JSON.parse(JSON.stringify(D));for(const N of z){const I=N.split("/").slice(1);let q=D;for(const ae of I)q=q[ae];for(const ae in Y){const Z=Y[ae];if(typeof Z!="object")continue;const{$data:te}=Z.definition,ue=q[ae];te&&ue&&(q[ae]=se(ue))}}return D}_removeAllSchemas(D,z){for(const Y in D){const N=D[Y];(!z||z.test(Y))&&(typeof N=="string"?delete D[Y]:N&&!N.meta&&(this._cache.delete(N.schema),delete D[Y]))}}_addSchema(D,z,Y,N=this.opts.validateSchema,I=this.opts.addUsedSchema){let q;const{schemaId:ae}=this.opts;if(typeof D=="object")q=D[ae];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof D!="boolean")throw new Error("schema must be object or boolean")}let Z=this._cache.get(D);if(Z!==void 0)return Z;Y=(0,l.normalizeId)(q||Y);const te=l.getSchemaRefs.call(this,D,Y);return Z=new s.SchemaEnv({schema:D,schemaId:ae,meta:z,baseId:Y,localRefs:te}),this._cache.set(Z.schema,Z),I&&!Y.startsWith("#")&&(Y&&this._checkUnique(Y),this.refs[Y]=Z),N&&this.validateSchema(D,!0),Z}_checkUnique(D){if(this.schemas[D]||this.refs[D])throw new Error(`schema with key or id "${D}" already exists`)}_compileSchemaEnv(D){if(D.meta?this._compileMetaSchema(D):s.compileSchema.call(this,D),!D.validate)throw new Error("ajv implementation error");return D.validate}_compileMetaSchema(D){const z=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,D)}finally{this.opts=z}}};e.default=S,S.ValidationError=n.default,S.MissingRefError=i.default;function T(D,z,Y,N="error"){for(const I in D){const q=I;q in z&&this.logger[N](`${Y}: option ${I}. ${D[q]}`)}}function $(D){return D=(0,l.normalizeId)(D),this.schemas[D]||this.refs[D]}function d(){const D=this.opts.schemas;if(D)if(Array.isArray(D))this.addSchema(D);else for(const z in D)this.addSchema(D[z],z)}function x(){for(const D in this.opts.formats){const z=this.opts.formats[D];z&&this.addFormat(D,z)}}function O(D){if(Array.isArray(D)){this.addVocabulary(D);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const z in D){const Y=D[z];Y.keyword||(Y.keyword=z),this.addKeyword(Y)}}function P(){const D={...this.opts};for(const z of g)delete D[z];return D}var M={log(){},warn(){},error(){}};function U(D){if(D===!1)return M;if(D===void 0)return console;if(D.log&&D.warn&&D.error)return D;throw new Error("logger must implement log, warn and error methods")}var K=/^[a-z_$][a-z0-9_$:-]*$/i;function ie(D,z){const{RULES:Y}=this;if((0,f.eachItem)(D,N=>{if(Y.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!K.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!z&&z.$data&&!("code"in z||"validate"in z))throw new Error('$data keyword must have "code" or "validate" function')}function G(D,z,Y){var N;const I=z==null?void 0:z.post;if(Y&&I)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let ae=I?q.post:q.rules.find(({type:te})=>te===Y);if(ae||(ae={type:Y,rules:[]},q.rules.push(ae)),q.keywords[D]=!0,!z)return;const Z={keyword:D,definition:{...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)}};z.before?ne.call(this,ae,Z,z.before):ae.rules.push(Z),q.all[D]=Z,(N=z.implements)===null||N===void 0||N.forEach(te=>this.addKeyword(te))}function ne(D,z,Y){const N=D.rules.findIndex(I=>I.keyword===Y);N>=0?D.rules.splice(N,0,z):(D.rules.push(z),this.logger.warn(`rule ${Y} is not defined`))}function ge(D){let{metaSchema:z}=D;z!==void 0&&(D.$data&&this.opts.$data&&(z=se(z)),D.validateSchema=this.compile(z,!0))}var re={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function se(D){return{anyOf:[D,re]}}}}),nme=Fe({"../core/node_modules/ajv/dist/vocabularies/core/id.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),ime=Fe({"../core/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=bk(),r=ru(),n=Zr(),i=bd(),o=_k(),s=En(),a={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:h,it:m}=f,{baseId:g,schemaEnv:_,validateName:v,opts:p,self:E}=m,{root:y}=_;if((h==="#"||h==="#/")&&g===y.baseId)return T();const S=o.resolveRef.call(E,y,g,h);if(S===void 0)throw new t.default(m.opts.uriResolver,g,h);if(S instanceof o.SchemaEnv)return $(S);return d(S);function T(){if(_===y)return u(f,v,_,_.$async);const x=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${x}.validate`,y,y.$async)}function $(x){const O=l(f,x);u(f,O,x,x.$async)}function d(x){const O=c.scopeValue("schema",p.code.source===!0?{ref:x,code:(0,n.stringify)(x)}:{ref:x}),P=c.name("valid"),M=f.subschema({schema:x,dataTypes:[],schemaPath:n.nil,topSchemaRef:O,errSchemaPath:h},P);f.mergeEvaluated(M),f.ok(P)}}};function l(f,c){const{gen:h}=f;return c.validate?h.scopeValue("validate",{ref:c.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,h,m){const{gen:g,it:_}=f,{allErrors:v,schemaEnv:p,opts:E}=_,y=E.passContext?i.default.this:n.nil;m?S():T();function S(){if(!p.$async)throw new Error("async schema referenced by sync schema");const x=g.let("valid");g.try(()=>{g.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||g.assign(x,!0)},O=>{g.if((0,n._)`!(${O} instanceof ${_.ValidationError})`,()=>g.throw(O)),$(O),v||g.assign(x,!1)}),f.ok(x)}function T(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>$(c))}function $(x){const O=(0,n._)`${x}.errors`;g.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${O} : ${i.default.vErrors}.concat(${O})`),g.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(x){var O;if(!_.opts.unevaluated)return;const P=(O=h==null?void 0:h.validate)===null||O===void 0?void 0:O.evaluated;if(_.props!==!0)if(P&&!P.dynamicProps)P.props!==void 0&&(_.props=s.mergeEvaluated.props(g,P.props,_.props));else{const M=g.var("props",(0,n._)`${x}.evaluated.props`);_.props=s.mergeEvaluated.props(g,M,_.props,n.Name)}if(_.items!==!0)if(P&&!P.dynamicItems)P.items!==void 0&&(_.items=s.mergeEvaluated.items(g,P.items,_.items));else{const M=g.var("items",(0,n._)`${x}.evaluated.items`);_.items=s.mergeEvaluated.items(g,M,_.items,n.Name)}}}e.callRef=u,e.default=a}}),ome=Fe({"../core/node_modules/ajv/dist/vocabularies/core/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=nme(),r=ime(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),sme=Fe({"../core/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zr(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:s,schemaCode:a})=>(0,t.str)`must be ${n[s].okStr} ${a}`,params:({keyword:s,schemaCode:a})=>(0,t._)`{comparison: ${n[s].okStr}, limit: ${a}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u}=s;s.fail$data((0,t._)`${l} ${n[a].fail} ${u} || isNaN(${l})`)}};e.default=o}}),ame=Fe({"../core/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zr(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:s,schemaCode:a,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${a} === 0 || (${f} = ${s}/${a}, ${c}))`)}};e.default=n}}),lme=Fe({"../core/node_modules/ajv/dist/runtime/ucs2length.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,s;for(;o<n;)i++,s=r.charCodeAt(o++),s>=55296&&s<=56319&&o<n&&(s=r.charCodeAt(o),(s&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),ume=Fe({"../core/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zr(),r=En(),n=lme(),i={message({keyword:s,schemaCode:a}){const l=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${a} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u,it:f}=s,c=a==="maxLength"?t.operators.GT:t.operators.LT,h=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(s.gen,n.default)}(${l})`;s.fail$data((0,t._)`${h} ${c} ${u}`)}};e.default=o}}),cme=Fe({"../core/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=ru(),r=Zr(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:s,$data:a,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",h=a?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${h}.test(${s})`)}};e.default=i}}),fme=Fe({"../core/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${s}).length ${l} ${a}`)}};e.default=n}}),dme=Fe({"../core/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=ru(),r=Zr(),n=En(),i={message:({params:{missingProperty:s}})=>(0,r.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,r._)`{missingProperty: ${s}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,schema:l,schemaCode:u,data:f,$data:c,it:h}=s,{opts:m}=h;if(!c&&l.length===0)return;const g=l.length>=m.loopRequired;if(h.allErrors?_():v(),m.strictRequired){const y=s.parentSchema.properties,{definedProperties:S}=s.it;for(const T of l)if((y==null?void 0:y[T])===void 0&&!S.has(T)){const $=h.schemaEnv.baseId+h.errSchemaPath,d=`required property "${T}" is not defined at "${$}" (strictRequired)`;(0,n.checkStrictMode)(h,d,h.opts.strictRequired)}}function _(){if(g||c)s.block$data(r.nil,p);else for(const y of l)(0,t.checkReportMissingProp)(s,y)}function v(){const y=a.let("missing");if(g||c){const S=a.let("valid",!0);s.block$data(S,()=>E(y,S)),s.ok(S)}else a.if((0,t.checkMissingProp)(s,l,y)),(0,t.reportMissingProp)(s,y),a.else()}function p(){a.forOf("prop",u,y=>{s.setParams({missingProperty:y}),a.if((0,t.noPropertyInData)(a,f,y,m.ownProperties),()=>s.error())})}function E(y,S){s.setParams({missingProperty:y}),a.forOf(y,u,()=>{a.assign(S,(0,t.propertyInData)(a,f,y,m.ownProperties)),a.if((0,r.not)(S),()=>{s.error(),a.break()})},r.nil)}}};e.default=o}}),hme=Fe({"../core/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${s}.length ${l} ${a}`)}};e.default=n}}),Ek=Fe({"../core/node_modules/ajv/dist/runtime/equal.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=og();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),pme=Fe({"../core/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=zS(),r=Zr(),n=En(),i=Ek(),o={message:({params:{i:a,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${a} are identical)`,params:({params:{i:a,j:l}})=>(0,r._)`{i: ${a}, j: ${l}}`},s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(a){const{gen:l,data:u,$data:f,schema:c,parentSchema:h,schemaCode:m,it:g}=a;if(!f&&!c)return;const _=l.let("valid"),v=h.items?(0,t.getSchemaTypes)(h.items):[];a.block$data(_,p,(0,r._)`${m} === false`),a.ok(_);function p(){const T=l.let("i",(0,r._)`${u}.length`),$=l.let("j");a.setParams({i:T,j:$}),l.assign(_,!0),l.if((0,r._)`${T} > 1`,()=>(E()?y:S)(T,$))}function E(){return v.length>0&&!v.some(T=>T==="object"||T==="array")}function y(T,$){const d=l.name("item"),x=(0,t.checkDataTypes)(v,d,g.opts.strictNumbers,t.DataType.Wrong),O=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${T}--;`,()=>{l.let(d,(0,r._)`${u}[${T}]`),l.if(x,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${O}[${d}] == "number"`,()=>{l.assign($,(0,r._)`${O}[${d}]`),a.error(),l.assign(_,!1).break()}).code((0,r._)`${O}[${d}] = ${T}`)})}function S(T,$){const d=(0,n.useFunc)(l,i.default),x=l.name("outer");l.label(x).for((0,r._)`;${T}--;`,()=>l.for((0,r._)`${$} = ${T}; ${$}--;`,()=>l.if((0,r._)`${d}(${u}[${T}], ${u}[${$}])`,()=>{a.error(),l.assign(_,!1).break(x)})))}}};e.default=s}}),mme=Fe({"../core/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zr(),r=En(),n=Ek(),i={message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},o={keyword:"const",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schemaCode:f,schema:c}=s;u||c&&typeof c=="object"?s.fail$data((0,t._)`!${(0,r.useFunc)(a,n.default)}(${l}, ${f})`):s.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),gme=Fe({"../core/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zr(),r=En(),n=Ek(),i={message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schema:f,schemaCode:c,it:h}=s;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=h.opts.loopEnum;let g;const _=()=>g??(g=(0,r.useFunc)(a,n.default));let v;if(m||u)v=a.let("valid"),s.block$data(v,p);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=a.const("vSchema",c);v=(0,t.or)(...f.map((S,T)=>E(y,T)))}s.pass(v);function p(){a.assign(v,!1),a.forOf("v",c,y=>a.if((0,t._)`${_()}(${l}, ${y})`,()=>a.assign(v,!0).break()))}function E(y,S){const T=f[S];return typeof T=="object"&&T!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${T}`}}};e.default=o}}),vme=Fe({"../core/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=sme(),r=ame(),n=ume(),i=cme(),o=fme(),s=dme(),a=hme(),l=pme(),u=mme(),f=gme(),c=[t.default,r.default,n.default,i.default,o.default,s.default,a.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),FG=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=Zr(),r=En(),n={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(s){const{parentSchema:a,it:l}=s,{items:u}=a;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(s,u)}};function o(s,a){const{gen:l,schema:u,data:f,keyword:c,it:h}=s;h.items=!0;const m=l.const("len",(0,t._)`${f}.length`);if(u===!1)s.setParams({len:a.length}),s.pass((0,t._)`${m} <= ${a.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(h,u)){const _=l.var("valid",(0,t._)`${m} <= ${a.length}`);l.if((0,t.not)(_),()=>g(_)),s.ok(_)}function g(_){l.forRange("i",a.length,m,v=>{s.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),h.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),BG=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=Zr(),r=En(),n=ru(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:a,it:l}=s;if(Array.isArray(a))return o(s,"additionalItems",a);l.items=!0,!(0,r.alwaysValidSchema)(l,a)&&s.ok((0,n.validateArray)(s))}};function o(s,a,l=s.schema){const{gen:u,parentSchema:f,data:c,keyword:h,it:m}=s;v(f),m.opts.unevaluated&&l.length&&m.items!==!0&&(m.items=r.mergeEvaluated.items(u,l.length,m.items));const g=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((p,E)=>{(0,r.alwaysValidSchema)(m,p)||(u.if((0,t._)`${_} > ${E}`,()=>s.subschema({keyword:h,schemaProp:E,dataProp:E},g)),s.ok(g))});function v(p){const{opts:E,errSchemaPath:y}=m,S=l.length,T=S===p.minItems&&(S===p.maxItems||p[a]===!1);if(E.strictTuples&&!T){const $=`"${h}" is ${S}-tuple, but minItems or maxItems/${a} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(m,$,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),yme=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=BG(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),wme=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zr(),r=En(),n=ru(),i=FG(),o={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(a){const{schema:l,parentSchema:u,it:f}=a,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(a,c):a.ok((0,n.validateArray)(a)))}};e.default=s}}),bme=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zr(),r=En(),n={message:({params:{min:o,max:s}})=>s===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${s} valid item(s)`,params:({params:{min:o,max:s}})=>s===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${s}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:f}=o;let c,h;const{minContains:m,maxContains:g}=l;f.opts.next?(c=m===void 0?1:m,h=g):c=1;const _=s.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:h}),h===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&c>h){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,a)){let S=(0,t._)`${_} >= ${c}`;h!==void 0&&(S=(0,t._)`${S} && ${_} <= ${h}`),o.pass(S);return}f.items=!0;const v=s.name("valid");h===void 0&&c===1?E(v,()=>s.if(v,()=>s.break())):c===0?(s.let(v,!0),h!==void 0&&s.if((0,t._)`${u}.length > 0`,p)):(s.let(v,!1),p()),o.result(v,()=>o.reset());function p(){const S=s.name("_valid"),T=s.let("count",0);E(S,()=>s.if(S,()=>y(T)))}function E(S,T){s.forRange("i",0,_,$=>{o.subschema({keyword:"contains",dataProp:$,dataPropType:r.Type.Num,compositeRule:!0},S),T()})}function y(S){s.code((0,t._)`${S}++`),h===void 0?s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0).break()):(s.if((0,t._)`${S} > ${h}`,()=>s.assign(v,!1).break()),c===1?s.assign(v,!0):s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0)))}}};e.default=i}}),_me=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=Zr(),r=En(),n=ru();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);s(l,u),a(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?u:f;h[c]=l[c]}return[u,f]}function s(l,u=l.schema){const{gen:f,data:c,it:h}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,h.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(v,()=>{for(const p of _)(0,n.checkReportMissingProp)(l,p)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:f,data:c,keyword:h,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i}}),Eme=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zr(),r=En(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:s,schema:a,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,a))return;const f=s.name("valid");s.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),s.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||s.break()})}),o.ok(f)}};e.default=i}}),UG=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=ru(),r=Zr(),n=bd(),i=En(),o={message:"must NOT have additional properties",params:({params:a})=>(0,r._)`{additionalProperty: ${a.additionalProperty}}`},s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(a){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:h,it:m}=a;if(!h)throw new Error("ajv implementation error");const{allErrors:g,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(m,u))return;const v=(0,t.allSchemaProperties)(f.properties),p=(0,t.allSchemaProperties)(f.patternProperties);E(),a.ok((0,r._)`${h} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!p.length?T(d):l.if(y(d),()=>T(d))})}function y(d){let x;if(v.length>8){const O=(0,i.schemaRefOrVal)(m,f.properties,"properties");x=(0,t.isOwnProperty)(l,O,d)}else v.length?x=(0,r.or)(...v.map(O=>(0,r._)`${d} === ${O}`)):x=r.nil;return p.length&&(x=(0,r.or)(x,...p.map(O=>(0,r._)`${(0,t.usePattern)(a,O)}.test(${d})`))),(0,r.not)(x)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function T(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){a.setParams({additionalProperty:d}),a.error(),g||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(m,u)){const x=l.name("valid");_.removeAdditional==="failing"?($(d,x,!1),l.if((0,r.not)(x),()=>{a.reset(),S(d)})):($(d,x),g||l.if((0,r.not)(x),()=>l.break()))}}function $(d,x,O){const P={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};O===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(P,x)}}};e.default=s}}),Sme=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=dT(),r=ru(),n=En(),i=UG(),o={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,parentSchema:u,data:f,it:c}=s;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const h=(0,r.allSchemaProperties)(l);for(const p of h)c.definedProperties.add(p);c.opts.unevaluated&&h.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(a,(0,n.toHash)(h),c.props));const m=h.filter(p=>!(0,n.alwaysValidSchema)(c,l[p]));if(m.length===0)return;const g=a.name("valid");for(const p of m)_(p)?v(p):(a.if((0,r.propertyInData)(a,f,p,c.opts.ownProperties)),v(p),c.allErrors||a.else().var(g,!0),a.endIf()),s.it.definedProperties.add(p),s.ok(g);function _(p){return c.opts.useDefaults&&!c.compositeRule&&l[p].default!==void 0}function v(p){s.subschema({keyword:"properties",schemaProp:p,dataProp:p},g)}}};e.default=o}}),Tme=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=ru(),r=Zr(),n=En(),i=En(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,data:u,parentSchema:f,it:c}=s,{opts:h}=c,m=(0,t.allSchemaProperties)(l),g=m.filter(T=>(0,n.alwaysValidSchema)(c,l[T]));if(m.length===0||g.length===m.length&&(!c.opts.unevaluated||c.props===!0))return;const _=h.strictSchema&&!h.allowMatchingProperties&&f.properties,v=a.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(a,c.props));const{props:p}=c;E();function E(){for(const T of m)_&&y(T),c.allErrors?S(T):(a.var(v,!0),S(T),a.if(v))}function y(T){for(const $ in _)new RegExp(T).test($)&&(0,n.checkStrictMode)(c,`property ${$} matches pattern ${T} (use allowMatchingProperties)`)}function S(T){a.forIn("key",u,$=>{a.if((0,r._)`${(0,t.usePattern)(s,T)}.test(${$})`,()=>{const d=g.includes(T);d||s.subschema({keyword:"patternProperties",schemaProp:T,dataProp:$,dataPropType:i.Type.Str},v),c.opts.unevaluated&&p!==!0?a.assign((0,r._)`${p}[${$}]`,!0):!d&&!c.allErrors&&a.if((0,r.not)(v),()=>a.break())})})}}};e.default=o}}),$me=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=En(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:s}=n;if((0,t.alwaysValidSchema)(s,o)){n.fail();return}const a=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),n.failResult(a,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),xme=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=ru(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),Ame=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zr(),r=En(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,it:u}=o;if(!Array.isArray(a))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=a,c=s.let("valid",!1),h=s.let("passing",null),m=s.name("_valid");o.setParams({passing:h}),s.block(g),o.result(c,()=>o.reset(),()=>o.error(!0));function g(){f.forEach((_,v)=>{let p;(0,r.alwaysValidSchema)(u,_)?s.var(m,!0):p=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},m),v>0&&s.if((0,t._)`${m} && ${c}`).assign(c,!1).assign(h,(0,t._)`[${h}, ${v}]`).else(),s.if(m,()=>{s.assign(c,!0),s.assign(h,v),p&&o.mergeEvaluated(p,t.Name)})})}}};e.default=i}}),Ome=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=En(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:s}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const a=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(s,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},a);n.ok(a),n.mergeEvaluated(f)})}};e.default=r}}),Pme=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zr(),r=En(),n={message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(s){const{gen:a,parentSchema:l,it:u}=s;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const h=a.let("valid",!0),m=a.name("_valid");if(g(),s.reset(),f&&c){const v=a.let("ifClause");s.setParams({ifClause:v}),a.if(m,_("then",v),_("else",v))}else f?a.if(m,_("then")):a.if((0,t.not)(m),_("else"));s.pass(h,()=>s.error(!0));function g(){const v=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);s.mergeEvaluated(v)}function _(v,p){return()=>{const E=s.subschema({keyword:v},m);a.assign(h,m),s.mergeValidEvaluated(E,h),p?a.assign(p,(0,t._)`${v}`):s.setParams({ifClause:v})}}}};function o(s,a){const l=s.schema[a];return l!==void 0&&!(0,r.alwaysValidSchema)(s,l)}e.default=i}}),Rme=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=En(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),Nme=Fe({"../core/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=FG(),r=yme(),n=BG(),i=wme(),o=bme(),s=_me(),a=Eme(),l=UG(),u=Sme(),f=Tme(),c=$me(),h=xme(),m=Ame(),g=Ome(),_=Pme(),v=Rme();function p(E=!1){const y=[c.default,h.default,m.default,g.default,_.default,v.default,a.default,l.default,s.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=p}}),Ime=Fe({"../core/node_modules/ajv/dist/vocabularies/format/format.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zr(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:s,data:a,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:h,errSchemaPath:m,schemaEnv:g,self:_}=c;if(!h.validateFormats)return;l?v():p();function v(){const E=s.scopeValue("formats",{ref:_.formats,code:h.code.formats}),y=s.const("fDef",(0,t._)`${E}[${f}]`),S=s.let("fType"),T=s.let("format");s.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>s.assign(S,(0,t._)`${y}.type || "string"`).assign(T,(0,t._)`${y}.validate`),()=>s.assign(S,(0,t._)`"string"`).assign(T,y)),i.fail$data((0,t.or)($(),d()));function $(){return h.strictSchema===!1?t.nil:(0,t._)`${f} && !${T}`}function d(){const x=g.$async?(0,t._)`(${y}.async ? await ${T}(${a}) : ${T}(${a}))`:(0,t._)`${T}(${a})`,O=(0,t._)`(typeof ${T} == "function" ? ${x} : ${T}.test(${a}))`;return(0,t._)`${T} && ${T} !== true && ${S} === ${o} && !${O}`}}function p(){const E=_.formats[u];if(!E){$();return}if(E===!0)return;const[y,S,T]=d(E);y===o&&i.pass(x());function $(){if(h.strictSchema===!1){_.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function d(O){const P=O instanceof RegExp?(0,t.regexpCode)(O):h.code.formats?(0,t._)`${h.code.formats}${(0,t.getProperty)(u)}`:void 0,M=s.scopeValue("formats",{key:u,ref:O,code:P});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,t._)`${M}.validate`]:["string",O,M]}function x(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!g.$async)throw new Error("async format in sync schema");return(0,t._)`await ${T}(${a})`}return typeof S=="function"?(0,t._)`${T}(${a})`:(0,t._)`${T}.test(${a})`}}}};e.default=n}}),Cme=Fe({"../core/node_modules/ajv/dist/vocabularies/format/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ime(),r=[t.default];e.default=r}}),kme=Fe({"../core/node_modules/ajv/dist/vocabularies/metadata.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),jme=Fe({"../core/node_modules/ajv/dist/vocabularies/draft7.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=ome(),r=vme(),n=Nme(),i=Cme(),o=kme(),s=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=s}}),Dme=Fe({"../core/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))}}),Mme=Fe({"../core/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zr(),r=Dme(),n=_k(),i=En(),o={message:({params:{discrError:a,tagName:l}})=>a===r.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:u}})=>(0,t._)`{error: ${a}, tag: ${u}, tagValue: ${l}}`},s={keyword:"discriminator",type:"object",schemaType:"object",error:o,code(a){const{gen:l,data:u,schema:f,parentSchema:c,it:h}=a,{oneOf:m}=c;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");const g=f.propertyName;if(typeof g!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const _=l.let("valid",!1),v=l.const("tag",(0,t._)`${u}${(0,t.getProperty)(g)}`);l.if((0,t._)`typeof ${v} == "string"`,()=>p(),()=>a.error(!1,{discrError:r.DiscrError.Tag,tag:v,tagName:g})),a.ok(_);function p(){const S=y();l.if(!1);for(const T in S)l.elseIf((0,t._)`${v} === ${T}`),l.assign(_,E(S[T]));l.else(),a.error(!1,{discrError:r.DiscrError.Mapping,tag:v,tagName:g}),l.endIf()}function E(S){const T=l.name("valid"),$=a.subschema({keyword:"oneOf",schemaProp:S},T);return a.mergeEvaluated($,t.Name),T}function y(){var S;const T={},$=x(c);let d=!0;for(let M=0;M<m.length;M++){let U=m[M];U!=null&&U.$ref&&!(0,i.schemaHasRulesButRef)(U,h.self.RULES)&&(U=n.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,U==null?void 0:U.$ref),U instanceof n.SchemaEnv&&(U=U.schema));const K=(S=U==null?void 0:U.properties)===null||S===void 0?void 0:S[g];if(typeof K!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${g}"`);d=d&&($||x(U)),O(K,M)}if(!d)throw new Error(`discriminator: "${g}" must be required`);return T;function x({required:M}){return Array.isArray(M)&&M.includes(g)}function O(M,U){if(M.const)P(M.const,U);else if(M.enum)for(const K of M.enum)P(K,U);else throw new Error(`discriminator: "properties/${g}" must have "const" or "enum"`)}function P(M,U){if(typeof M!="string"||M in T)throw new Error(`discriminator: "${g}" values must be unique strings`);T[M]=U}}}};e.default=s}}),Lme=Fe({"../core/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),zG=Fe({"../core/node_modules/ajv/dist/ajv.js"(e,t){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=rme(),n=jme(),i=Mme(),o=Lme(),s=["/properties"],a="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(m,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}};t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=dT();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=Zr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=wk();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=bk();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}}),Fme=Fe({"../../node_modules/ajv-formats/dist/formats.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(O,P){return{validate:O,compare:P}}e.fullFormats={date:t(o,s),time:t(l,u),"date-time":t(c,h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:x,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:p,int32:{type:"number",validate:S},int64:{type:"number",validate:T},float:{type:"number",validate:$},double:{type:"number",validate:$},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(O){return O%4===0&&(O%100!==0||O%400===0)}var n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(O){const P=n.exec(O);if(!P)return!1;const M=+P[1],U=+P[2],K=+P[3];return U>=1&&U<=12&&K>=1&&K<=(U===2&&r(M)?29:i[U])}function s(O,P){if(O&&P)return O>P?1:O<P?-1:0}var a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(O,P){const M=a.exec(O);if(!M)return!1;const U=+M[1],K=+M[2],ie=+M[3],G=M[5];return(U<=23&&K<=59&&ie<=59||U===23&&K===59&&ie===60)&&(!P||G!=="")}function u(O,P){if(!(O&&P))return;const M=a.exec(O),U=a.exec(P);if(M&&U)return O=M[1]+M[2]+M[3]+(M[4]||""),P=U[1]+U[2]+U[3]+(U[4]||""),O>P?1:O<P?-1:0}var f=/t|\s/i;function c(O){const P=O.split(f);return P.length===2&&o(P[0])&&l(P[1],!0)}function h(O,P){if(!(O&&P))return;const[M,U]=O.split(f),[K,ie]=P.split(f),G=s(M,K);if(G!==void 0)return G||u(U,ie)}var m=/\/|:/,g=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function _(O){return m.test(O)&&g.test(O)}var v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function p(O){return v.lastIndex=0,v.test(O)}var E=-2147483648,y=2**31-1;function S(O){return Number.isInteger(O)&&O<=y&&O>=E}function T(O){return Number.isInteger(O)}function $(){return!0}var d=/[^\\]\\Z/;function x(O){if(d.test(O))return!1;try{return new RegExp(O),!0}catch{return!1}}}}),qS=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/code.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(p,...E){const y=[p[0]];let S=0;for(;S<E.length;)a(y,E[S]),y.push(p[++S]);return new n(y)}e._=i;var o=new n("+");function s(p,...E){const y=[m(p[0])];let S=0;for(;S<E.length;)y.push(o),a(y,E[S]),y.push(o,m(p[++S]));return l(y),new n(y)}e.str=s;function a(p,E){E instanceof n?p.push(...E._items):E instanceof r?p.push(E):p.push(c(E))}e.addCodeArg=a;function l(p){let E=1;for(;E<p.length-1;){if(p[E]===o){const y=u(p[E-1],p[E+1]);if(y!==void 0){p.splice(E-1,3,y);continue}p[E++]="+"}E++}}function u(p,E){if(E==='""')return p;if(p==='""')return E;if(typeof p=="string")return E instanceof r||p[p.length-1]!=='"'?void 0:typeof E!="string"?`${p.slice(0,-1)}${E}"`:E[0]==='"'?p.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(p instanceof r))return`"${p}${E.slice(1)}`}function f(p,E){return E.emptyStr()?p:p.emptyStr()?E:s`${p}${E}`}e.strConcat=f;function c(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:m(Array.isArray(p)?p.join(","):p)}function h(p){return new n(m(p))}e.stringify=h;function m(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):i`[${p}]`}e.getProperty=g;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(p){return new n(p.toString())}e.regexpCode=v}}),qB=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/scope.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=qS(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var s=(0,t._)`\n`,a=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?s:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:h}=c,m=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[h];if(g){const p=g.get(m);if(p)return p}else g=this._values[h]=new Map;g.set(m,c);const _=this._scope[h]||(this._scope[h]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:h,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let h=t.nil;for(const m in l){const g=l[m];if(!g)continue;const _=f[m]=f[m]||new Map;g.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let p=u(v);if(p){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${E} ${v} = ${p};${this.opts._n}`}else if(p=c==null?void 0:c(v))h=(0,t._)`${h}${p}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return h}};e.ValueScope=a}}),Gr=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=qS(),r=qB(),n=qS();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=qB();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(N,I){return this}},s=class extends o{constructor(N,I,q){super(),this.varKind=N,this.name=I,this.rhs=q}render({es5:N,_n:I}){const q=N?r.varKinds.var:this.varKind,ae=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${ae};`+I}optimizeNames(N,I){if(N[this.name.str])return this.rhs&&(this.rhs=ie(this.rhs,N,I)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},a=class extends o{constructor(N,I,q){super(),this.lhs=N,this.rhs=I,this.sideEffects=q}render({_n:N}){return`${this.lhs} = ${this.rhs};`+N}optimizeNames(N,I){if(!(this.lhs instanceof t.Name&&!N[this.lhs.str]&&!this.sideEffects))return this.rhs=ie(this.rhs,N,I),this}get names(){const N=this.lhs instanceof t.Name?{}:{...this.lhs.names};return K(N,this.rhs)}},l=class extends a{constructor(N,I,q,ae){super(N,q,ae),this.op=I}render({_n:N}){return`${this.lhs} ${this.op}= ${this.rhs};`+N}},u=class extends o{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`${this.label}:`+N}},f=class extends o{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`break${this.label?` ${this.label}`:""};`+N}},c=class extends o{constructor(N){super(),this.error=N}render({_n:N}){return`throw ${this.error};`+N}get names(){return this.error.names}},h=class extends o{constructor(N){super(),this.code=N}render({_n:N}){return`${this.code};`+N}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(N,I){return this.code=ie(this.code,N,I),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},m=class extends o{constructor(N=[]){super(),this.nodes=N}render(N){return this.nodes.reduce((I,q)=>I+q.render(N),"")}optimizeNodes(){const{nodes:N}=this;let I=N.length;for(;I--;){const q=N[I].optimizeNodes();Array.isArray(q)?N.splice(I,1,...q):q?N[I]=q:N.splice(I,1)}return N.length>0?this:void 0}optimizeNames(N,I){const{nodes:q}=this;let ae=q.length;for(;ae--;){const Z=q[ae];Z.optimizeNames(N,I)||(G(N,Z.names),q.splice(ae,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((N,I)=>U(N,I.names),{})}},g=class extends m{render(N){return"{"+N._n+super.render(N)+"}"+N._n}},_=class extends m{},v=class extends g{};v.kind="else";var p=class EE extends g{constructor(I,q){super(q),this.condition=I}render(I){let q=`if(${this.condition})`+super.render(I);return this.else&&(q+="else "+this.else.render(I)),q}optimizeNodes(){super.optimizeNodes();const I=this.condition;if(I===!0)return this.nodes;let q=this.else;if(q){const ae=q.optimizeNodes();q=this.else=Array.isArray(ae)?new v(ae):ae}if(q)return I===!1?q instanceof EE?q:q.nodes:this.nodes.length?this:new EE(ne(I),q instanceof EE?[q]:q.nodes);if(!(I===!1||!this.nodes.length))return this}optimizeNames(I,q){var ae;if(this.else=(ae=this.else)===null||ae===void 0?void 0:ae.optimizeNames(I,q),!!(super.optimizeNames(I,q)||this.else))return this.condition=ie(this.condition,I,q),this}get names(){const I=super.names;return K(I,this.condition),this.else&&U(I,this.else.names),I}};p.kind="if";var E=class extends g{};E.kind="for";var y=class extends E{constructor(N){super(),this.iteration=N}render(N){return`for(${this.iteration})`+super.render(N)}optimizeNames(N,I){if(super.optimizeNames(N,I))return this.iteration=ie(this.iteration,N,I),this}get names(){return U(super.names,this.iteration.names)}},S=class extends E{constructor(N,I,q,ae){super(),this.varKind=N,this.name=I,this.from=q,this.to=ae}render(N){const I=N.es5?r.varKinds.var:this.varKind,{name:q,from:ae,to:Z}=this;return`for(${I} ${q}=${ae}; ${q}<${Z}; ${q}++)`+super.render(N)}get names(){const N=K(super.names,this.from);return K(N,this.to)}},T=class extends E{constructor(N,I,q,ae){super(),this.loop=N,this.varKind=I,this.name=q,this.iterable=ae}render(N){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(N)}optimizeNames(N,I){if(super.optimizeNames(N,I))return this.iterable=ie(this.iterable,N,I),this}get names(){return U(super.names,this.iterable.names)}},$=class extends g{constructor(N,I,q){super(),this.name=N,this.args=I,this.async=q}render(N){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(N)}};$.kind="func";var d=class extends m{render(N){return"return "+super.render(N)}};d.kind="return";var x=class extends g{render(N){let I="try"+super.render(N);return this.catch&&(I+=this.catch.render(N)),this.finally&&(I+=this.finally.render(N)),I}optimizeNodes(){var N,I;return super.optimizeNodes(),(N=this.catch)===null||N===void 0||N.optimizeNodes(),(I=this.finally)===null||I===void 0||I.optimizeNodes(),this}optimizeNames(N,I){var q,ae;return super.optimizeNames(N,I),(q=this.catch)===null||q===void 0||q.optimizeNames(N,I),(ae=this.finally)===null||ae===void 0||ae.optimizeNames(N,I),this}get names(){const N=super.names;return this.catch&&U(N,this.catch.names),this.finally&&U(N,this.finally.names),N}},O=class extends g{constructor(N){super(),this.error=N}render(N){return`catch(${this.error})`+super.render(N)}};O.kind="catch";var P=class extends g{render(N){return"finally"+super.render(N)}};P.kind="finally";var M=class{constructor(N,I={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...I,_n:I.lines?`
`:""},this._extScope=N,this._scope=new r.Scope({parent:N}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(N){return this._scope.name(N)}scopeName(N){return this._extScope.name(N)}scopeValue(N,I){const q=this._extScope.value(N,I);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(N,I){return this._extScope.getValue(N,I)}scopeRefs(N){return this._extScope.scopeRefs(N,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(N,I,q,ae){const Z=this._scope.toName(I);return q!==void 0&&ae&&(this._constants[Z.str]=q),this._leafNode(new s(N,Z,q)),Z}const(N,I,q){return this._def(r.varKinds.const,N,I,q)}let(N,I,q){return this._def(r.varKinds.let,N,I,q)}var(N,I,q){return this._def(r.varKinds.var,N,I,q)}assign(N,I,q){return this._leafNode(new a(N,I,q))}add(N,I){return this._leafNode(new l(N,e.operators.ADD,I))}code(N){return typeof N=="function"?N():N!==t.nil&&this._leafNode(new h(N)),this}object(...N){const I=["{"];for(const[q,ae]of N)I.length>1&&I.push(","),I.push(q),(q!==ae||this.opts.es5)&&(I.push(":"),(0,t.addCodeArg)(I,ae));return I.push("}"),new t._Code(I)}if(N,I,q){if(this._blockNode(new p(N)),I&&q)this.code(I).else().code(q).endIf();else if(I)this.code(I).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(N){return this._elseNode(new p(N))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(N,I){return this._blockNode(N),I&&this.code(I).endFor(),this}for(N,I){return this._for(new y(N),I)}forRange(N,I,q,ae,Z=this.opts.es5?r.varKinds.var:r.varKinds.let){const te=this._scope.toName(N);return this._for(new S(Z,te,I,q),()=>ae(te))}forOf(N,I,q,ae=r.varKinds.const){const Z=this._scope.toName(N);if(this.opts.es5){const te=I instanceof t.Name?I:this.var("_arr",I);return this.forRange("_i",0,(0,t._)`${te}.length`,ue=>{this.var(Z,(0,t._)`${te}[${ue}]`),q(Z)})}return this._for(new T("of",ae,Z,I),()=>q(Z))}forIn(N,I,q,ae=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(N,(0,t._)`Object.keys(${I})`,q);const Z=this._scope.toName(N);return this._for(new T("in",ae,Z,I),()=>q(Z))}endFor(){return this._endBlockNode(E)}label(N){return this._leafNode(new u(N))}break(N){return this._leafNode(new f(N))}return(N){const I=new d;if(this._blockNode(I),this.code(N),I.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(N,I,q){if(!I&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const ae=new x;if(this._blockNode(ae),this.code(N),I){const Z=this.name("e");this._currNode=ae.catch=new O(Z),I(Z)}return q&&(this._currNode=ae.finally=new P,this.code(q)),this._endBlockNode(O,P)}throw(N){return this._leafNode(new c(N))}block(N,I){return this._blockStarts.push(this._nodes.length),N&&this.code(N).endBlock(I),this}endBlock(N){const I=this._blockStarts.pop();if(I===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-I;if(q<0||N!==void 0&&q!==N)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${N} expected`);return this._nodes.length=I,this}func(N,I=t.nil,q,ae){return this._blockNode(new $(N,I,q)),ae&&this.code(ae).endFunc(),this}endFunc(){return this._endBlockNode($)}optimize(N=1){for(;N-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(N){return this._currNode.nodes.push(N),this}_blockNode(N){this._currNode.nodes.push(N),this._nodes.push(N)}_endBlockNode(N,I){const q=this._currNode;if(q instanceof N||I&&q instanceof I)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${I?`${N.kind}/${I.kind}`:N.kind}"`)}_elseNode(N){const I=this._currNode;if(!(I instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=I.else=N,this}get _root(){return this._nodes[0]}get _currNode(){const N=this._nodes;return N[N.length-1]}set _currNode(N){const I=this._nodes;I[I.length-1]=N}};e.CodeGen=M;function U(N,I){for(const q in I)N[q]=(N[q]||0)+(I[q]||0);return N}function K(N,I){return I instanceof t._CodeOrName?U(N,I.names):N}function ie(N,I,q){if(N instanceof t.Name)return ae(N);if(!Z(N))return N;return new t._Code(N._items.reduce((te,ue)=>(ue instanceof t.Name&&(ue=ae(ue)),ue instanceof t._Code?te.push(...ue._items):te.push(ue),te),[]));function ae(te){const ue=q[te.str];return ue===void 0||I[te.str]!==1?te:(delete I[te.str],ue)}function Z(te){return te instanceof t._Code&&te._items.some(ue=>ue instanceof t.Name&&I[ue.str]===1&&q[ue.str]!==void 0)}}function G(N,I){for(const q in I)N[q]=(N[q]||0)-(I[q]||0)}function ne(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,t._)`!${Y(N)}`}e.not=ne;var ge=z(e.operators.AND);function re(...N){return N.reduce(ge)}e.and=re;var se=z(e.operators.OR);function D(...N){return N.reduce(se)}e.or=D;function z(N){return(I,q)=>I===t.nil?q:q===t.nil?I:(0,t._)`${Y(I)} ${N} ${Y(q)}`}function Y(N){return N instanceof t.Name?N:(0,t._)`(${N})`}}}),Sn=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/util.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=Gr(),r=qS();function n($){const d={};for(const x of $)d[x]=!0;return d}e.toHash=n;function i($,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o($,d),!s(d,$.self.RULES.all))}e.alwaysValidSchema=i;function o($,d=$.schema){const{opts:x,self:O}=$;if(!x.strictSchema||typeof d=="boolean")return;const P=O.RULES.keywords;for(const M in d)P[M]||T($,`unknown keyword: "${M}"`)}e.checkUnknownRules=o;function s($,d){if(typeof $=="boolean")return!$;for(const x in $)if(d[x])return!0;return!1}e.schemaHasRules=s;function a($,d){if(typeof $=="boolean")return!$;for(const x in $)if(x!=="$ref"&&d.all[x])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:$,schemaPath:d},x,O,P){if(!P){if(typeof x=="number"||typeof x=="boolean")return x;if(typeof x=="string")return(0,t._)`${x}`}return(0,t._)`${$}${d}${(0,t.getProperty)(O)}`}e.schemaRefOrVal=l;function u($){return h(decodeURIComponent($))}e.unescapeFragment=u;function f($){return encodeURIComponent(c($))}e.escapeFragment=f;function c($){return typeof $=="number"?`${$}`:$.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function h($){return $.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function m($,d){if(Array.isArray($))for(const x of $)d(x);else d($)}e.eachItem=m;function g({mergeNames:$,mergeToName:d,mergeValues:x,resultToName:O}){return(P,M,U,K)=>{const ie=U===void 0?M:U instanceof t.Name?(M instanceof t.Name?$(P,M,U):d(P,M,U),U):M instanceof t.Name?(d(P,U,M),M):x(M,U);return K===t.Name&&!(ie instanceof t.Name)?O(P,ie):ie}}e.mergeEvaluated={props:g({mergeNames:($,d,x)=>$.if((0,t._)`${x} !== true && ${d} !== undefined`,()=>{$.if((0,t._)`${d} === true`,()=>$.assign(x,!0),()=>$.assign(x,(0,t._)`${x} || {}`).code((0,t._)`Object.assign(${x}, ${d})`))}),mergeToName:($,d,x)=>$.if((0,t._)`${x} !== true`,()=>{d===!0?$.assign(x,!0):($.assign(x,(0,t._)`${x} || {}`),v($,x,d))}),mergeValues:($,d)=>$===!0?!0:{...$,...d},resultToName:_}),items:g({mergeNames:($,d,x)=>$.if((0,t._)`${x} !== true && ${d} !== undefined`,()=>$.assign(x,(0,t._)`${d} === true ? true : ${x} > ${d} ? ${x} : ${d}`)),mergeToName:($,d,x)=>$.if((0,t._)`${x} !== true`,()=>$.assign(x,d===!0?!0:(0,t._)`${x} > ${d} ? ${x} : ${d}`)),mergeValues:($,d)=>$===!0?!0:Math.max($,d),resultToName:($,d)=>$.var("items",d)})};function _($,d){if(d===!0)return $.var("props",!0);const x=$.var("props",(0,t._)`{}`);return d!==void 0&&v($,x,d),x}e.evaluatedPropsToName=_;function v($,d,x){Object.keys(x).forEach(O=>$.assign((0,t._)`${d}${(0,t.getProperty)(O)}`,!0))}e.setEvaluated=v;var p={};function E($,d){return $.scopeValue("func",{ref:d,code:p[d.code]||(p[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function($){$[$.Num=0]="Num",$[$.Str=1]="Str"})(y=e.Type||(e.Type={}));function S($,d,x){if($ instanceof t.Name){const O=d===y.Num;return x?O?(0,t._)`"[" + ${$} + "]"`:(0,t._)`"['" + ${$} + "']"`:O?(0,t._)`"/" + ${$}`:(0,t._)`"/" + ${$}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return x?(0,t.getProperty)($).toString():"/"+c($)}e.getErrorPath=S;function T($,d,x=$.opts.strictSchema){if(x){if(d=`strict mode: ${d}`,x===!0)throw new Error(d);$.self.logger.warn(d)}}e.checkStrictMode=T}}),_d=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/names.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),hT=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/errors.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=Gr(),r=Sn(),n=_d();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,t.str)`"${v}" keyword must be ${p} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,p=e.keywordError,E,y){const{it:S}=v,{gen:T,compositeRule:$,allErrors:d}=S,x=c(v,p,E);y??($||d)?l(T,x):u(S,(0,t._)`[${x}]`)}e.reportError=i;function o(v,p=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:T,allErrors:$}=y,d=c(v,p,E);l(S,d),T||$||u(y,n.default.vErrors)}e.reportExtraError=o;function s(v,p){v.assign(n.default.errors,p),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,t._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:p,schemaValue:E,data:y,errsCount:S,it:T}){if(S===void 0)throw new Error("ajv implementation error");const $=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const($,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${$}.instancePath === undefined`,()=>v.assign((0,t._)`${$}.instancePath`,(0,t.strConcat)(n.default.instancePath,T.errorPath))),v.assign((0,t._)`${$}.schemaPath`,(0,t.str)`${T.errSchemaPath}/${p}`),T.opts.verbose&&(v.assign((0,t._)`${$}.schema`,E),v.assign((0,t._)`${$}.data`,y))})}e.extendErrors=a;function l(v,p){const E=v.const("err",p);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,p){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${p})`):(E.assign((0,t._)`${y}.errors`,p),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,p,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:h(v,p,E)}function h(v,p,E={}){const{gen:y,it:S}=v,T=[m(S,E),g(v,E)];return _(v,p,T),y.object(...T)}function m({errorPath:v},{instancePath:p}){const E=p?(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:p}},{schemaPath:E,parentSchema:y}){let S=y?p:(0,t.str)`${p}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:p,message:E},y){const{keyword:S,data:T,schemaValue:$,it:d}=v,{opts:x,propertyName:O,topSchemaRef:P,schemaPath:M}=d;y.push([f.keyword,S],[f.params,typeof p=="function"?p(v):p||(0,t._)`{}`]),x.messages&&y.push([f.message,typeof E=="function"?E(v):E]),x.verbose&&y.push([f.schema,$],[f.parentSchema,(0,t._)`${P}${M}`],[n.default.data,T]),O&&y.push([f.propertyName,O])}}}),Bme=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=hT(),r=Gr(),n=_d(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?a(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function s(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),a(l)):f.var(u,!0)}e.boolOrEmptySchema=s;function a(l,u){const{gen:f,data:c}=l,h={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(h,i,void 0,u)}}}),qG=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/rules.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),VG=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/applicability.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},s){const a=o.RULES.types[s];return a&&a!==!0&&r(i,a)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(s=>n(i,s))}e.shouldUseGroup=r;function n(i,o){var s;return i[o.keyword]!==void 0||((s=o.definition.implements)===null||s===void 0?void 0:s.some(a=>i[a]!==void 0))}e.shouldUseRule=n}}),VS=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/dataType.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=qG(),r=VG(),n=hT(),i=Gr(),o=Sn(),s;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(s=e.DataType||(e.DataType={}));function a(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=a;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:T,data:$,opts:d}=y,x=c(S,d.coerceTypes),O=S.length>0&&!(x.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(O){const P=_(S,$,d.strictNumbers,s.Wrong);T.if(P,()=>{x.length?h(y,S,x):p(y)})}return O}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter(T=>f.has(T)||S==="array"&&T==="array"):[]}function h(y,S,T){const{gen:$,data:d,opts:x}=y,O=$.let("dataType",(0,i._)`typeof ${d}`),P=$.let("coerced",(0,i._)`undefined`);x.coerceTypes==="array"&&$.if((0,i._)`${O} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>$.assign(d,(0,i._)`${d}[0]`).assign(O,(0,i._)`typeof ${d}`).if(_(S,d,x.strictNumbers),()=>$.assign(P,d))),$.if((0,i._)`${P} !== undefined`);for(const U of T)(f.has(U)||U==="array"&&x.coerceTypes==="array")&&M(U);$.else(),p(y),$.endIf(),$.if((0,i._)`${P} !== undefined`,()=>{$.assign(d,P),m(y,P)});function M(U){switch(U){case"string":$.elseIf((0,i._)`${O} == "number" || ${O} == "boolean"`).assign(P,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(P,(0,i._)`""`);return;case"number":$.elseIf((0,i._)`${O} == "boolean" || ${d} === null
              || (${O} == "string" && ${d} && ${d} == +${d})`).assign(P,(0,i._)`+${d}`);return;case"integer":$.elseIf((0,i._)`${O} === "boolean" || ${d} === null
              || (${O} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(P,(0,i._)`+${d}`);return;case"boolean":$.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(P,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(P,!0);return;case"null":$.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),$.assign(P,null);return;case"array":$.elseIf((0,i._)`${O} === "string" || ${O} === "number"
              || ${O} === "boolean" || ${d} === null`).assign(P,(0,i._)`[${d}]`)}}}function m({gen:y,parentData:S,parentDataProperty:T},$){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${T}]`,$))}function g(y,S,T,$=s.Correct){const d=$===s.Correct?i.operators.EQ:i.operators.NEQ;let x;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":x=(0,i._)`Array.isArray(${S})`;break;case"object":x=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":x=O((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":x=O();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return $===s.Correct?x:(0,i.not)(x);function O(P=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,P,T?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=g;function _(y,S,T,$){if(y.length===1)return g(y[0],S,T,$);let d;const x=(0,o.toHash)(y);if(x.array&&x.object){const O=(0,i._)`typeof ${S} != "object"`;d=x.null?O:(0,i._)`!${S} || ${O}`,delete x.null,delete x.array,delete x.object}else d=i.nil;x.number&&delete x.integer;for(const O in x)d=(0,i.and)(d,g(O,S,T,$));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function p(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=p;function E(y){const{gen:S,data:T,schema:$}=y,d=(0,o.schemaRefOrVal)(y,$,"type");return{gen:S,keyword:"type",data:T,schema:$.type,schemaCode:d,schemaValue:d,parentSchema:$,params:{},it:y}}}}),Ume=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/defaults.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=Gr(),r=Sn();function n(o,s){const{properties:a,items:l}=o.schema;if(s==="object"&&a)for(const u in a)i(o,u,a[u].default);else s==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,s,a){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(a===void 0)return;const h=(0,t._)`${f}${(0,t.getProperty)(s)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${h}`);return}let m=(0,t._)`${h} === undefined`;c.useDefaults==="empty"&&(m=(0,t._)`${m} || ${h} === null || ${h} === ""`),l.if(m,(0,t._)`${h} = ${(0,t.stringify)(a)}`)}}}),nu=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/code.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=Gr(),r=Sn(),n=_d(),i=Sn();function o(y,S){const{gen:T,data:$,it:d}=y;T.if(c(T,$,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function s({gen:y,data:S,it:{opts:T}},$,d){return(0,t.or)(...$.map(x=>(0,t.and)(c(y,S,x,T.ownProperties),(0,t._)`${d} = ${x}`)))}e.checkMissingProp=s;function a(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=a;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,T){return(0,t._)`${l(y)}.call(${S}, ${T})`}e.isOwnProperty=u;function f(y,S,T,$){const d=(0,t._)`${S}${(0,t.getProperty)(T)} !== undefined`;return $?(0,t._)`${d} && ${u(y,S,T)}`:d}e.propertyInData=f;function c(y,S,T,$){const d=(0,t._)`${S}${(0,t.getProperty)(T)} === undefined`;return $?(0,t.or)(d,(0,t.not)(u(y,S,T))):d}e.noPropertyInData=c;function h(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=h;function m(y,S){return h(S).filter(T=>!(0,r.alwaysValidSchema)(y,S[T]))}e.schemaProperties=m;function g({schemaCode:y,data:S,it:{gen:T,topSchemaRef:$,schemaPath:d,errorPath:x},it:O},P,M,U){const K=U?(0,t._)`${y}, ${S}, ${$}${d}`:S,ie=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,x)],[n.default.parentData,O.parentData],[n.default.parentDataProperty,O.parentDataProperty],[n.default.rootData,n.default.rootData]];O.opts.dynamicRef&&ie.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const G=(0,t._)`${K}, ${T.object(...ie)}`;return M!==t.nil?(0,t._)`${P}.call(${M}, ${G})`:(0,t._)`${P}(${G})`}e.callValidateCode=g;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},T){const $=S.unicodeRegExp?"u":"",{regExp:d}=S.code,x=d(T,$);return y.scopeValue("pattern",{key:x.toString(),ref:x,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${T}, ${$})`})}e.usePattern=v;function p(y){const{gen:S,data:T,keyword:$,it:d}=y,x=S.name("valid");if(d.allErrors){const P=S.let("valid",!0);return O(()=>S.assign(P,!1)),P}return S.var(x,!0),O(()=>S.break()),x;function O(P){const M=S.const("len",(0,t._)`${T}.length`);S.forRange("i",0,M,U=>{y.subschema({keyword:$,dataProp:U,dataPropType:r.Type.Num},x),S.if((0,t.not)(x),P)})}}e.validateArray=p;function E(y){const{gen:S,schema:T,keyword:$,it:d}=y;if(!Array.isArray(T))throw new Error("ajv implementation error");if(T.some(M=>(0,r.alwaysValidSchema)(d,M))&&!d.opts.unevaluated)return;const O=S.let("valid",!1),P=S.name("_valid");S.block(()=>T.forEach((M,U)=>{const K=y.subschema({keyword:$,schemaProp:U,compositeRule:!0},P);S.assign(O,(0,t._)`${O} || ${P}`),y.mergeValidEvaluated(K,P)||S.if((0,t.not)(O))})),y.result(O,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),zme=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/keyword.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=Gr(),r=_d(),n=nu(),i=hT();function o(m,g){const{gen:_,keyword:v,schema:p,parentSchema:E,it:y}=m,S=g.macro.call(y.self,p,E,y),T=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const $=_.name("valid");m.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:T,compositeRule:!0},$),m.pass($,()=>m.error(!0))}e.macroKeywordCode=o;function s(m,g){var _;const{gen:v,keyword:p,schema:E,parentSchema:y,$data:S,it:T}=m;u(T,g);const $=!S&&g.compile?g.compile.call(T.self,E,y,T):g.validate,d=f(v,p,$),x=v.let("valid");m.block$data(x,O),m.ok((_=g.valid)!==null&&_!==void 0?_:x);function O(){if(g.errors===!1)U(),g.modifying&&a(m),K(()=>m.error());else{const ie=g.async?P():M();g.modifying&&a(m),K(()=>l(m,ie))}}function P(){const ie=v.let("ruleErrs",null);return v.try(()=>U((0,t._)`await `),G=>v.assign(x,!1).if((0,t._)`${G} instanceof ${T.ValidationError}`,()=>v.assign(ie,(0,t._)`${G}.errors`),()=>v.throw(G))),ie}function M(){const ie=(0,t._)`${d}.errors`;return v.assign(ie,null),U(t.nil),ie}function U(ie=g.async?(0,t._)`await `:t.nil){const G=T.opts.passContext?r.default.this:r.default.self,ne=!("compile"in g&&!S||g.schema===!1);v.assign(x,(0,t._)`${ie}${(0,n.callValidateCode)(m,d,G,ne)}`,g.modifying)}function K(ie){var G;v.if((0,t.not)((G=g.valid)!==null&&G!==void 0?G:x),ie)}}e.funcKeywordCode=s;function a(m){const{gen:g,data:_,it:v}=m;g.if(v.parentData,()=>g.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(m,g){const{gen:_}=m;_.if((0,t._)`Array.isArray(${g})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${g} : ${r.default.vErrors}.concat(${g})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(m)},()=>m.error())}function u({schemaEnv:m},g){if(g.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,g,_){if(_===void 0)throw new Error(`keyword "${g}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(m,g,_=!1){return!g.length||g.some(v=>v==="array"?Array.isArray(m):v==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==v||_&&typeof m>"u")}e.validSchemaType=c;function h({schema:m,opts:g,self:_,errSchemaPath:v},p,E){if(Array.isArray(p.keyword)?!p.keyword.includes(E):p.keyword!==E)throw new Error("ajv implementation error");const y=p.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(m,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(p.validateSchema&&!p.validateSchema(m[E])){const T=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(p.validateSchema.errors);if(g.validateSchema==="log")_.logger.error(T);else throw new Error(T)}}e.validateKeywordUsage=h}}),qme=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/subschema.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=Gr(),r=Sn();function n(s,{keyword:a,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:h}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const m=s.schema[a];return l===void 0?{schema:m,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${a}`}:{schema:m[l],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(l)}`,errSchemaPath:`${s.errSchemaPath}/${a}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:h,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(s,a,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:h}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=a;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:p}=a,E=m.let("data",(0,t._)`${a.data}${(0,t.getProperty)(l)}`,!0);g(E),s.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,p.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${l}`,s.dataPathArr=[...v,s.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);g(_),h!==void 0&&(s.propertyName=h)}c&&(s.dataTypes=c);function g(_){s.data=_,s.dataLevel=a.dataLevel+1,s.dataTypes=[],a.definedProperties=new Set,s.parentData=a.data,s.dataNames=[...a.dataNames,_]}}e.extendSubschemaData=i;function o(s,{jtdDiscriminator:a,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(s.compositeRule=u),f!==void 0&&(s.createErrors=f),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=a,s.jtdMetadata=l}e.extendSubschemaMode=o}}),Vme=Fe({"../../node_modules/ajv-formats/node_modules/json-schema-traverse/index.js"(e,t){Ie();var r=t.exports=function(o,s,a){typeof s=="function"&&(a=s,s={}),a=s.cb||a;var l=typeof a=="function"?a:a.pre||function(){},u=a.post||function(){};n(s,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,s,a,l,u,f,c,h,m,g){if(l&&typeof l=="object"&&!Array.isArray(l)){s(l,u,f,c,h,m,g);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var p=0;p<v.length;p++)n(o,s,a,v[p],u+"/"+_+"/"+p,f,u,_,l,p)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,s,a,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,s,a,v,u+"/"+_,f,u,_,l)}a(l,u,f,c,h,m,g)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),pT=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/resolve.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=Sn(),r=og(),n=Vme(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,p=!0){return typeof v=="boolean"?!0:p===!0?!a(v):p?l(v)<=p:!1}e.inlineRef=o;var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(v){for(const p in v){if(s.has(p))return!0;const E=v[p];if(Array.isArray(E)&&E.some(a)||typeof E=="object"&&a(E))return!0}return!1}function l(v){let p=0;for(const E in v){if(E==="$ref")return 1/0;if(p++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>p+=l(y)),p===1/0))return 1/0}return p}function u(v,p="",E){E!==!1&&(p=h(p));const y=v.parse(p);return f(v,y)}e.getFullPath=u;function f(v,p){return v.serialize(p).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function h(v){return v?v.replace(c,""):""}e.normalizeId=h;function m(v,p,E){return E=h(E),v.resolve(p,E)}e.resolveUrl=m;var g=/^[a-z_][-a-z0-9._]*$/i;function _(v,p){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=h(v[E]||p),T={"":S},$=u(y,S,!1),d={},x=new Set;return n(v,{allKeys:!0},(M,U,K,ie)=>{if(ie===void 0)return;const G=$+U;let ne=T[ie];typeof M[E]=="string"&&(ne=ge.call(this,M[E])),re.call(this,M.$anchor),re.call(this,M.$dynamicAnchor),T[U]=ne;function ge(se){const D=this.opts.uriResolver.resolve;if(se=h(ne?D(ne,se):se),x.has(se))throw P(se);x.add(se);let z=this.refs[se];return typeof z=="string"&&(z=this.refs[z]),typeof z=="object"?O(M,z.schema,se):se!==h(G)&&(se[0]==="#"?(O(M,d[se],se),d[se]=M):this.refs[se]=G),se}function re(se){if(typeof se=="string"){if(!g.test(se))throw new Error(`invalid anchor "${se}"`);ge.call(this,`#${se}`)}}}),d;function O(M,U,K){if(U!==void 0&&!r(M,U))throw P(K)}function P(M){return new Error(`reference "${M}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),mT=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=Bme(),r=VS(),n=VG(),i=VS(),o=Ume(),s=zme(),a=qme(),l=Gr(),u=_d(),f=pT(),c=Sn(),h=hT();function m(C){if($(C)&&(x(C),T(C))){p(C);return}g(C,()=>(0,t.topBoolOrEmptySchema)(C))}e.validateFunctionCode=m;function g({gen:C,validateName:F,schema:L,schemaEnv:ee,opts:ce},me){ce.code.es5?C.func(F,(0,l._)`${u.default.data}, ${u.default.valCxt}`,ee.$async,()=>{C.code((0,l._)`"use strict"; ${y(L,ce)}`),v(C,ce),C.code(me)}):C.func(F,(0,l._)`${u.default.data}, ${_(ce)}`,ee.$async,()=>C.code(y(L,ce)).code(me))}function _(C){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${C.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(C,F){C.if(u.default.valCxt,()=>{C.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),C.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),C.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),C.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),F.dynamicRef&&C.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{C.var(u.default.instancePath,(0,l._)`""`),C.var(u.default.parentData,(0,l._)`undefined`),C.var(u.default.parentDataProperty,(0,l._)`undefined`),C.var(u.default.rootData,u.default.data),F.dynamicRef&&C.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function p(C){const{schema:F,opts:L,gen:ee}=C;g(C,()=>{L.$comment&&F.$comment&&ie(C),M(C),ee.let(u.default.vErrors,null),ee.let(u.default.errors,0),L.unevaluated&&E(C),O(C),G(C)})}function E(C){const{gen:F,validateName:L}=C;C.evaluated=F.const("evaluated",(0,l._)`${L}.evaluated`),F.if((0,l._)`${C.evaluated}.dynamicProps`,()=>F.assign((0,l._)`${C.evaluated}.props`,(0,l._)`undefined`)),F.if((0,l._)`${C.evaluated}.dynamicItems`,()=>F.assign((0,l._)`${C.evaluated}.items`,(0,l._)`undefined`))}function y(C,F){const L=typeof C=="object"&&C[F.schemaId];return L&&(F.code.source||F.code.process)?(0,l._)`/*# sourceURL=${L} */`:l.nil}function S(C,F){if($(C)&&(x(C),T(C))){d(C,F);return}(0,t.boolOrEmptySchema)(C,F)}function T({schema:C,self:F}){if(typeof C=="boolean")return!C;for(const L in C)if(F.RULES.all[L])return!0;return!1}function $(C){return typeof C.schema!="boolean"}function d(C,F){const{schema:L,gen:ee,opts:ce}=C;ce.$comment&&L.$comment&&ie(C),U(C),K(C);const me=ee.const("_errs",u.default.errors);O(C,me),ee.var(F,(0,l._)`${me} === ${u.default.errors}`)}function x(C){(0,c.checkUnknownRules)(C),P(C)}function O(C,F){if(C.opts.jtd)return ge(C,[],!1,F);const L=(0,r.getSchemaTypes)(C.schema),ee=(0,r.coerceAndCheckDataType)(C,L);ge(C,L,!ee,F)}function P(C){const{schema:F,errSchemaPath:L,opts:ee,self:ce}=C;F.$ref&&ee.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(F,ce.RULES)&&ce.logger.warn(`$ref: keywords ignored in schema at path "${L}"`)}function M(C){const{schema:F,opts:L}=C;F.default!==void 0&&L.useDefaults&&L.strictSchema&&(0,c.checkStrictMode)(C,"default is ignored in the schema root")}function U(C){const F=C.schema[C.opts.schemaId];F&&(C.baseId=(0,f.resolveUrl)(C.opts.uriResolver,C.baseId,F))}function K(C){if(C.schema.$async&&!C.schemaEnv.$async)throw new Error("async schema in sync schema")}function ie({gen:C,schemaEnv:F,schema:L,errSchemaPath:ee,opts:ce}){const me=L.$comment;if(ce.$comment===!0)C.code((0,l._)`${u.default.self}.logger.log(${me})`);else if(typeof ce.$comment=="function"){const ve=(0,l.str)`${ee}/$comment`,Te=C.scopeValue("root",{ref:F.root});C.code((0,l._)`${u.default.self}.opts.$comment(${me}, ${ve}, ${Te}.schema)`)}}function G(C){const{gen:F,schemaEnv:L,validateName:ee,ValidationError:ce,opts:me}=C;L.$async?F.if((0,l._)`${u.default.errors} === 0`,()=>F.return(u.default.data),()=>F.throw((0,l._)`new ${ce}(${u.default.vErrors})`)):(F.assign((0,l._)`${ee}.errors`,u.default.vErrors),me.unevaluated&&ne(C),F.return((0,l._)`${u.default.errors} === 0`))}function ne({gen:C,evaluated:F,props:L,items:ee}){L instanceof l.Name&&C.assign((0,l._)`${F}.props`,L),ee instanceof l.Name&&C.assign((0,l._)`${F}.items`,ee)}function ge(C,F,L,ee){const{gen:ce,schema:me,data:ve,allErrors:Te,opts:De,self:Ge}=C,{RULES:Ve}=Ge;if(me.$ref&&(De.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(me,Ve))){ce.block(()=>te(C,"$ref",Ve.all.$ref.definition));return}De.jtd||se(C,F),ce.block(()=>{for(const tt of Ve.rules)ht(tt);ht(Ve.post)});function ht(tt){(0,n.shouldUseGroup)(me,tt)&&(tt.type?(ce.if((0,i.checkDataType)(tt.type,ve,De.strictNumbers)),re(C,tt),F.length===1&&F[0]===tt.type&&L&&(ce.else(),(0,i.reportTypeError)(C)),ce.endIf()):re(C,tt),Te||ce.if((0,l._)`${u.default.errors} === ${ee||0}`))}}function re(C,F){const{gen:L,schema:ee,opts:{useDefaults:ce}}=C;ce&&(0,o.assignDefaults)(C,F.type),L.block(()=>{for(const me of F.rules)(0,n.shouldUseRule)(ee,me)&&te(C,me.keyword,me.definition,F.type)})}function se(C,F){C.schemaEnv.meta||!C.opts.strictTypes||(D(C,F),C.opts.allowUnionTypes||z(C,F),Y(C,C.dataTypes))}function D(C,F){if(F.length){if(!C.dataTypes.length){C.dataTypes=F;return}F.forEach(L=>{I(C.dataTypes,L)||ae(C,`type "${L}" not allowed by context "${C.dataTypes.join(",")}"`)}),q(C,F)}}function z(C,F){F.length>1&&!(F.length===2&&F.includes("null"))&&ae(C,"use allowUnionTypes to allow union type keyword")}function Y(C,F){const L=C.self.RULES.all;for(const ee in L){const ce=L[ee];if(typeof ce=="object"&&(0,n.shouldUseRule)(C.schema,ce)){const{type:me}=ce.definition;me.length&&!me.some(ve=>N(F,ve))&&ae(C,`missing type "${me.join(",")}" for keyword "${ee}"`)}}}function N(C,F){return C.includes(F)||F==="number"&&C.includes("integer")}function I(C,F){return C.includes(F)||F==="integer"&&C.includes("number")}function q(C,F){const L=[];for(const ee of C.dataTypes)I(F,ee)?L.push(ee):F.includes("integer")&&ee==="number"&&L.push("integer");C.dataTypes=L}function ae(C,F){const L=C.schemaEnv.baseId+C.errSchemaPath;F+=` at "${L}" (strictTypes)`,(0,c.checkStrictMode)(C,F,C.opts.strictTypes)}var Z=class{constructor(C,F,L){if((0,s.validateKeywordUsage)(C,F,L),this.gen=C.gen,this.allErrors=C.allErrors,this.keyword=L,this.data=C.data,this.schema=C.schema[L],this.$data=F.$data&&C.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(C,this.schema,L,this.$data),this.schemaType=F.schemaType,this.parentSchema=C.schema,this.params={},this.it=C,this.def=F,this.$data)this.schemaCode=C.gen.const("vSchema",Le(this.$data,C));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,F.schemaType,F.allowUndefined))throw new Error(`${L} value must be ${JSON.stringify(F.schemaType)}`);("code"in F?F.trackErrors:F.errors!==!1)&&(this.errsCount=C.gen.const("_errs",u.default.errors))}result(C,F,L){this.failResult((0,l.not)(C),F,L)}failResult(C,F,L){this.gen.if(C),L?L():this.error(),F?(this.gen.else(),F(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(C,F){this.failResult((0,l.not)(C),void 0,F)}fail(C){if(C===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(C),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(C){if(!this.$data)return this.fail(C);const{schemaCode:F}=this;this.fail((0,l._)`${F} !== undefined && (${(0,l.or)(this.invalid$data(),C)})`)}error(C,F,L){if(F){this.setParams(F),this._error(C,L),this.setParams({});return}this._error(C,L)}_error(C,F){(C?h.reportExtraError:h.reportError)(this,this.def.error,F)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(C){this.allErrors||this.gen.if(C)}setParams(C,F){F?Object.assign(this.params,C):this.params=C}block$data(C,F,L=l.nil){this.gen.block(()=>{this.check$data(C,L),F()})}check$data(C=l.nil,F=l.nil){if(!this.$data)return;const{gen:L,schemaCode:ee,schemaType:ce,def:me}=this;L.if((0,l.or)((0,l._)`${ee} === undefined`,F)),C!==l.nil&&L.assign(C,!0),(ce.length||me.validateSchema)&&(L.elseIf(this.invalid$data()),this.$dataError(),C!==l.nil&&L.assign(C,!1)),L.else()}invalid$data(){const{gen:C,schemaCode:F,schemaType:L,def:ee,it:ce}=this;return(0,l.or)(me(),ve());function me(){if(L.length){if(!(F instanceof l.Name))throw new Error("ajv implementation error");const Te=Array.isArray(L)?L:[L];return(0,l._)`${(0,i.checkDataTypes)(Te,F,ce.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function ve(){if(ee.validateSchema){const Te=C.scopeValue("validate$data",{ref:ee.validateSchema});return(0,l._)`!${Te}(${F})`}return l.nil}}subschema(C,F){const L=(0,a.getSubschema)(this.it,C);(0,a.extendSubschemaData)(L,this.it,C),(0,a.extendSubschemaMode)(L,C);const ee={...this.it,...L,items:void 0,props:void 0};return S(ee,F),ee}mergeEvaluated(C,F){const{it:L,gen:ee}=this;L.opts.unevaluated&&(L.props!==!0&&C.props!==void 0&&(L.props=c.mergeEvaluated.props(ee,C.props,L.props,F)),L.items!==!0&&C.items!==void 0&&(L.items=c.mergeEvaluated.items(ee,C.items,L.items,F)))}mergeValidEvaluated(C,F){const{it:L,gen:ee}=this;if(L.opts.unevaluated&&(L.props!==!0||L.items!==!0))return ee.if(F,()=>this.mergeEvaluated(C,l.Name)),!0}};e.KeywordCxt=Z;function te(C,F,L,ee){const ce=new Z(C,L,F);"code"in L?L.code(ce,ee):ce.$data&&L.validate?(0,s.funcKeywordCode)(ce,L):"macro"in L?(0,s.macroKeywordCode)(ce,L):(L.compile||L.validate)&&(0,s.funcKeywordCode)(ce,L)}var ue=/^\/(?:[^~]|~0|~1)*$/,xe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Le(C,{dataLevel:F,dataNames:L,dataPathArr:ee}){let ce,me;if(C==="")return u.default.rootData;if(C[0]==="/"){if(!ue.test(C))throw new Error(`Invalid JSON-pointer: ${C}`);ce=C,me=u.default.rootData}else{const Ge=xe.exec(C);if(!Ge)throw new Error(`Invalid JSON-pointer: ${C}`);const Ve=+Ge[1];if(ce=Ge[2],ce==="#"){if(Ve>=F)throw new Error(De("property/index",Ve));return ee[F-Ve]}if(Ve>F)throw new Error(De("data",Ve));if(me=L[F-Ve],!ce)return me}let ve=me;const Te=ce.split("/");for(const Ge of Te)Ge&&(me=(0,l._)`${me}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Ge))}`,ve=(0,l._)`${ve} && ${me}`);return ve;function De(Ge,Ve){return`Cannot access ${Ge} ${Ve} levels up, current level is ${F}`}}e.getData=Le}}),Sk=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/validation_error.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),Tk=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/ref_error.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=pT(),r=class extends Error{constructor(n,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),$k=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=Gr(),r=Sk(),n=_d(),i=pT(),o=Sn(),s=mT(),a=class{constructor(p){var E;this.refs={},this.dynamicAnchors={};let y;typeof p.schema=="object"&&(y=p.schema),this.schema=p.schema,this.schemaId=p.schemaId,this.root=p.root||this,this.baseId=(E=p.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[p.schemaId||"$id"]),this.schemaPath=p.schemaPath,this.localRefs=p.localRefs,this.meta=p.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=a;function l(p){const E=c.call(this,p);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:S,lines:T}=this.opts.code,{ownProperties:$}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:T,ownProperties:$});let x;p.$async&&(x=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const O=d.scopeName("validate");p.validateName=O;const P={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,t.stringify)(p.schema)}:{ref:p.schema}),validateName:O,ValidationError:x,schema:p.schema,schemaEnv:p,rootId:y,baseId:p.baseId||y,schemaPath:t.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let M;try{this._compilations.add(p),(0,s.validateFunctionCode)(P),d.optimize(this.opts.code.optimize);const U=d.toString();M=`${d.scopeRefs(n.default.scope)}return ${U}`,this.opts.code.process&&(M=this.opts.code.process(M,p));const ie=new Function(`${n.default.self}`,`${n.default.scope}`,M)(this,this.scope.get());if(this.scope.value(O,{ref:ie}),ie.errors=null,ie.schema=p.schema,ie.schemaEnv=p,p.$async&&(ie.$async=!0),this.opts.code.source===!0&&(ie.source={validateName:O,validateCode:U,scopeValues:d._values}),this.opts.unevaluated){const{props:G,items:ne}=P;ie.evaluated={props:G instanceof t.Name?void 0:G,items:ne instanceof t.Name?void 0:ne,dynamicProps:G instanceof t.Name,dynamicItems:ne instanceof t.Name},ie.source&&(ie.source.evaluated=(0,t.stringify)(ie.evaluated))}return p.validate=ie,p}catch(U){throw delete p.validate,delete p.validateName,M&&this.logger.error("Error compiling schema, function code:",M),U}finally{this._compilations.delete(p)}}e.compileSchema=l;function u(p,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const T=p.refs[y];if(T)return T;let $=m.call(this,p,y);if($===void 0){const d=(S=p.localRefs)===null||S===void 0?void 0:S[y],{schemaId:x}=this.opts;d&&($=new a({schema:d,schemaId:x,root:p,baseId:E}))}if($!==void 0)return p.refs[y]=f.call(this,$)}e.resolveRef=u;function f(p){return(0,i.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:l.call(this,p)}function c(p){for(const E of this._compilations)if(h(E,p))return E}e.getCompilingSchema=c;function h(p,E){return p.schema===E.schema&&p.root===E.root&&p.baseId===E.baseId}function m(p,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||g.call(this,p,E)}function g(p,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let T=(0,i.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&S===T)return v.call(this,y,p);const $=(0,i.normalizeId)(S),d=this.refs[$]||this.schemas[$];if(typeof d=="string"){const x=g.call(this,p,d);return typeof(x==null?void 0:x.schema)!="object"?void 0:v.call(this,y,x)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),$===(0,i.normalizeId)(E)){const{schema:x}=d,{schemaId:O}=this.opts,P=x[O];return P&&(T=(0,i.resolveUrl)(this.opts.uriResolver,T,P)),new a({schema:x,schemaId:O,root:p,baseId:T})}return v.call(this,y,d)}}e.resolveSchema=g;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(p,{baseId:E,schema:y,root:S}){var T;if(((T=p.fragment)===null||T===void 0?void 0:T[0])!=="/")return;for(const x of p.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const O=y[(0,o.unescapeFragment)(x)];if(O===void 0)return;y=O;const P=typeof y=="object"&&y[this.opts.schemaId];!_.has(x)&&P&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,P))}let $;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const x=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);$=g.call(this,S,x)}const{schemaId:d}=this.opts;if($=$||new a({schema:y,schemaId:d,root:S,baseId:E}),$.schema!==$.root.schema)return $}}}),Hme=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),Wme=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/uri.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=LG();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),Gme=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/core.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=mT();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Gr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=Sk(),i=Tk(),o=qG(),s=$k(),a=Gr(),l=pT(),u=VS(),f=Sn(),c=Hme(),h=Wme(),m=(D,z)=>new RegExp(D,z);m.code="new RegExp";var g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(D){var z,Y,N,I,q,ae,Z,te,ue,xe,Le,C,F,L,ee,ce,me,ve,Te,De,Ge,Ve,ht,tt,Xe;const Q=D.strict,k=(z=D.code)===null||z===void 0?void 0:z.optimize,B=k===!0||k===void 0?1:k||0,le=(N=(Y=D.code)===null||Y===void 0?void 0:Y.regExp)!==null&&N!==void 0?N:m,Ee=(I=D.uriResolver)!==null&&I!==void 0?I:h.default;return{strictSchema:(ae=(q=D.strictSchema)!==null&&q!==void 0?q:Q)!==null&&ae!==void 0?ae:!0,strictNumbers:(te=(Z=D.strictNumbers)!==null&&Z!==void 0?Z:Q)!==null&&te!==void 0?te:!0,strictTypes:(xe=(ue=D.strictTypes)!==null&&ue!==void 0?ue:Q)!==null&&xe!==void 0?xe:"log",strictTuples:(C=(Le=D.strictTuples)!==null&&Le!==void 0?Le:Q)!==null&&C!==void 0?C:"log",strictRequired:(L=(F=D.strictRequired)!==null&&F!==void 0?F:Q)!==null&&L!==void 0?L:!1,code:D.code?{...D.code,optimize:B,regExp:le}:{optimize:B,regExp:le},loopRequired:(ee=D.loopRequired)!==null&&ee!==void 0?ee:E,loopEnum:(ce=D.loopEnum)!==null&&ce!==void 0?ce:E,meta:(me=D.meta)!==null&&me!==void 0?me:!0,messages:(ve=D.messages)!==null&&ve!==void 0?ve:!0,inlineRefs:(Te=D.inlineRefs)!==null&&Te!==void 0?Te:!0,schemaId:(De=D.schemaId)!==null&&De!==void 0?De:"$id",addUsedSchema:(Ge=D.addUsedSchema)!==null&&Ge!==void 0?Ge:!0,validateSchema:(Ve=D.validateSchema)!==null&&Ve!==void 0?Ve:!0,validateFormats:(ht=D.validateFormats)!==null&&ht!==void 0?ht:!0,unicodeRegExp:(tt=D.unicodeRegExp)!==null&&tt!==void 0?tt:!0,int32range:(Xe=D.int32range)!==null&&Xe!==void 0?Xe:!0,uriResolver:Ee}}var S=class{constructor(D={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,D=this.opts={...D,...y(D)};const{es5:z,lines:Y}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:z,lines:Y}),this.logger=U(D.logger);const N=D.validateFormats;D.validateFormats=!1,this.RULES=(0,o.getRules)(),T.call(this,v,D,"NOT SUPPORTED"),T.call(this,p,D,"DEPRECATED","warn"),this._metaOpts=P.call(this),D.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),D.keywords&&O.call(this,D.keywords),typeof D.meta=="object"&&this.addMetaSchema(D.meta),d.call(this),D.validateFormats=N}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:D,meta:z,schemaId:Y}=this.opts;let N=c;Y==="id"&&(N={...c},N.id=N.$id,delete N.$id),z&&D&&this.addMetaSchema(N,N[Y],!1)}defaultMeta(){const{meta:D,schemaId:z}=this.opts;return this.opts.defaultMeta=typeof D=="object"?D[z]||D:void 0}validate(D,z){let Y;if(typeof D=="string"){if(Y=this.getSchema(D),!Y)throw new Error(`no schema with key or ref "${D}"`)}else Y=this.compile(D);const N=Y(z);return"$async"in Y||(this.errors=Y.errors),N}compile(D,z){const Y=this._addSchema(D,z);return Y.validate||this._compileSchemaEnv(Y)}compileAsync(D,z){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:Y}=this.opts;return N.call(this,D,z);async function N(ue,xe){await I.call(this,ue.$schema);const Le=this._addSchema(ue,xe);return Le.validate||q.call(this,Le)}async function I(ue){ue&&!this.getSchema(ue)&&await N.call(this,{$ref:ue},!0)}async function q(ue){try{return this._compileSchemaEnv(ue)}catch(xe){if(!(xe instanceof i.default))throw xe;return ae.call(this,xe),await Z.call(this,xe.missingSchema),q.call(this,ue)}}function ae({missingSchema:ue,missingRef:xe}){if(this.refs[ue])throw new Error(`AnySchema ${ue} is loaded but ${xe} cannot be resolved`)}async function Z(ue){const xe=await te.call(this,ue);this.refs[ue]||await I.call(this,xe.$schema),this.refs[ue]||this.addSchema(xe,ue,z)}async function te(ue){const xe=this._loading[ue];if(xe)return xe;try{return await(this._loading[ue]=Y(ue))}finally{delete this._loading[ue]}}}addSchema(D,z,Y,N=this.opts.validateSchema){if(Array.isArray(D)){for(const q of D)this.addSchema(q,void 0,Y,N);return this}let I;if(typeof D=="object"){const{schemaId:q}=this.opts;if(I=D[q],I!==void 0&&typeof I!="string")throw new Error(`schema ${q} must be string`)}return z=(0,l.normalizeId)(z||I),this._checkUnique(z),this.schemas[z]=this._addSchema(D,Y,z,N,!0),this}addMetaSchema(D,z,Y=this.opts.validateSchema){return this.addSchema(D,z,!0,Y),this}validateSchema(D,z){if(typeof D=="boolean")return!0;let Y;if(Y=D.$schema,Y!==void 0&&typeof Y!="string")throw new Error("$schema must be a string");if(Y=Y||this.opts.defaultMeta||this.defaultMeta(),!Y)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const N=this.validate(Y,D);if(!N&&z){const I="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(I);else throw new Error(I)}return N}getSchema(D){let z;for(;typeof(z=$.call(this,D))=="string";)D=z;if(z===void 0){const{schemaId:Y}=this.opts,N=new s.SchemaEnv({schema:{},schemaId:Y});if(z=s.resolveSchema.call(this,N,D),!z)return;this.refs[D]=z}return z.validate||this._compileSchemaEnv(z)}removeSchema(D){if(D instanceof RegExp)return this._removeAllSchemas(this.schemas,D),this._removeAllSchemas(this.refs,D),this;switch(typeof D){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const z=$.call(this,D);return typeof z=="object"&&this._cache.delete(z.schema),delete this.schemas[D],delete this.refs[D],this}case"object":{const z=D;this._cache.delete(z);let Y=D[this.opts.schemaId];return Y&&(Y=(0,l.normalizeId)(Y),delete this.schemas[Y],delete this.refs[Y]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(D){for(const z of D)this.addKeyword(z);return this}addKeyword(D,z){let Y;if(typeof D=="string")Y=D,typeof z=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),z.keyword=Y);else if(typeof D=="object"&&z===void 0){if(z=D,Y=z.keyword,Array.isArray(Y)&&!Y.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ie.call(this,Y,z),!z)return(0,f.eachItem)(Y,I=>G.call(this,I)),this;ge.call(this,z);const N={...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)};return(0,f.eachItem)(Y,N.type.length===0?I=>G.call(this,I,N):I=>N.type.forEach(q=>G.call(this,I,N,q))),this}getKeyword(D){const z=this.RULES.all[D];return typeof z=="object"?z.definition:!!z}removeKeyword(D){const{RULES:z}=this;delete z.keywords[D],delete z.all[D];for(const Y of z.rules){const N=Y.rules.findIndex(I=>I.keyword===D);N>=0&&Y.rules.splice(N,1)}return this}addFormat(D,z){return typeof z=="string"&&(z=new RegExp(z)),this.formats[D]=z,this}errorsText(D=this.errors,{separator:z=", ",dataVar:Y="data"}={}){return!D||D.length===0?"No errors":D.map(N=>`${Y}${N.instancePath} ${N.message}`).reduce((N,I)=>N+z+I)}$dataMetaSchema(D,z){const Y=this.RULES.all;D=JSON.parse(JSON.stringify(D));for(const N of z){const I=N.split("/").slice(1);let q=D;for(const ae of I)q=q[ae];for(const ae in Y){const Z=Y[ae];if(typeof Z!="object")continue;const{$data:te}=Z.definition,ue=q[ae];te&&ue&&(q[ae]=se(ue))}}return D}_removeAllSchemas(D,z){for(const Y in D){const N=D[Y];(!z||z.test(Y))&&(typeof N=="string"?delete D[Y]:N&&!N.meta&&(this._cache.delete(N.schema),delete D[Y]))}}_addSchema(D,z,Y,N=this.opts.validateSchema,I=this.opts.addUsedSchema){let q;const{schemaId:ae}=this.opts;if(typeof D=="object")q=D[ae];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof D!="boolean")throw new Error("schema must be object or boolean")}let Z=this._cache.get(D);if(Z!==void 0)return Z;Y=(0,l.normalizeId)(q||Y);const te=l.getSchemaRefs.call(this,D,Y);return Z=new s.SchemaEnv({schema:D,schemaId:ae,meta:z,baseId:Y,localRefs:te}),this._cache.set(Z.schema,Z),I&&!Y.startsWith("#")&&(Y&&this._checkUnique(Y),this.refs[Y]=Z),N&&this.validateSchema(D,!0),Z}_checkUnique(D){if(this.schemas[D]||this.refs[D])throw new Error(`schema with key or id "${D}" already exists`)}_compileSchemaEnv(D){if(D.meta?this._compileMetaSchema(D):s.compileSchema.call(this,D),!D.validate)throw new Error("ajv implementation error");return D.validate}_compileMetaSchema(D){const z=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,D)}finally{this.opts=z}}};e.default=S,S.ValidationError=n.default,S.MissingRefError=i.default;function T(D,z,Y,N="error"){for(const I in D){const q=I;q in z&&this.logger[N](`${Y}: option ${I}. ${D[q]}`)}}function $(D){return D=(0,l.normalizeId)(D),this.schemas[D]||this.refs[D]}function d(){const D=this.opts.schemas;if(D)if(Array.isArray(D))this.addSchema(D);else for(const z in D)this.addSchema(D[z],z)}function x(){for(const D in this.opts.formats){const z=this.opts.formats[D];z&&this.addFormat(D,z)}}function O(D){if(Array.isArray(D)){this.addVocabulary(D);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const z in D){const Y=D[z];Y.keyword||(Y.keyword=z),this.addKeyword(Y)}}function P(){const D={...this.opts};for(const z of g)delete D[z];return D}var M={log(){},warn(){},error(){}};function U(D){if(D===!1)return M;if(D===void 0)return console;if(D.log&&D.warn&&D.error)return D;throw new Error("logger must implement log, warn and error methods")}var K=/^[a-z_$][a-z0-9_$:-]*$/i;function ie(D,z){const{RULES:Y}=this;if((0,f.eachItem)(D,N=>{if(Y.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!K.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!z&&z.$data&&!("code"in z||"validate"in z))throw new Error('$data keyword must have "code" or "validate" function')}function G(D,z,Y){var N;const I=z==null?void 0:z.post;if(Y&&I)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let ae=I?q.post:q.rules.find(({type:te})=>te===Y);if(ae||(ae={type:Y,rules:[]},q.rules.push(ae)),q.keywords[D]=!0,!z)return;const Z={keyword:D,definition:{...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)}};z.before?ne.call(this,ae,Z,z.before):ae.rules.push(Z),q.all[D]=Z,(N=z.implements)===null||N===void 0||N.forEach(te=>this.addKeyword(te))}function ne(D,z,Y){const N=D.rules.findIndex(I=>I.keyword===Y);N>=0?D.rules.splice(N,0,z):(D.rules.push(z),this.logger.warn(`rule ${Y} is not defined`))}function ge(D){let{metaSchema:z}=D;z!==void 0&&(D.$data&&this.opts.$data&&(z=se(z)),D.validateSchema=this.compile(z,!0))}var re={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function se(D){return{anyOf:[D,re]}}}}),Kme=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/id.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),Jme=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=Tk(),r=nu(),n=Gr(),i=_d(),o=$k(),s=Sn(),a={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:h,it:m}=f,{baseId:g,schemaEnv:_,validateName:v,opts:p,self:E}=m,{root:y}=_;if((h==="#"||h==="#/")&&g===y.baseId)return T();const S=o.resolveRef.call(E,y,g,h);if(S===void 0)throw new t.default(m.opts.uriResolver,g,h);if(S instanceof o.SchemaEnv)return $(S);return d(S);function T(){if(_===y)return u(f,v,_,_.$async);const x=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${x}.validate`,y,y.$async)}function $(x){const O=l(f,x);u(f,O,x,x.$async)}function d(x){const O=c.scopeValue("schema",p.code.source===!0?{ref:x,code:(0,n.stringify)(x)}:{ref:x}),P=c.name("valid"),M=f.subschema({schema:x,dataTypes:[],schemaPath:n.nil,topSchemaRef:O,errSchemaPath:h},P);f.mergeEvaluated(M),f.ok(P)}}};function l(f,c){const{gen:h}=f;return c.validate?h.scopeValue("validate",{ref:c.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,h,m){const{gen:g,it:_}=f,{allErrors:v,schemaEnv:p,opts:E}=_,y=E.passContext?i.default.this:n.nil;m?S():T();function S(){if(!p.$async)throw new Error("async schema referenced by sync schema");const x=g.let("valid");g.try(()=>{g.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||g.assign(x,!0)},O=>{g.if((0,n._)`!(${O} instanceof ${_.ValidationError})`,()=>g.throw(O)),$(O),v||g.assign(x,!1)}),f.ok(x)}function T(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>$(c))}function $(x){const O=(0,n._)`${x}.errors`;g.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${O} : ${i.default.vErrors}.concat(${O})`),g.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(x){var O;if(!_.opts.unevaluated)return;const P=(O=h==null?void 0:h.validate)===null||O===void 0?void 0:O.evaluated;if(_.props!==!0)if(P&&!P.dynamicProps)P.props!==void 0&&(_.props=s.mergeEvaluated.props(g,P.props,_.props));else{const M=g.var("props",(0,n._)`${x}.evaluated.props`);_.props=s.mergeEvaluated.props(g,M,_.props,n.Name)}if(_.items!==!0)if(P&&!P.dynamicItems)P.items!==void 0&&(_.items=s.mergeEvaluated.items(g,P.items,_.items));else{const M=g.var("items",(0,n._)`${x}.evaluated.items`);_.items=s.mergeEvaluated.items(g,M,_.items,n.Name)}}}e.callRef=u,e.default=a}}),Yme=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kme(),r=Jme(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),Xme=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:s,schemaCode:a})=>(0,t.str)`must be ${n[s].okStr} ${a}`,params:({keyword:s,schemaCode:a})=>(0,t._)`{comparison: ${n[s].okStr}, limit: ${a}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u}=s;s.fail$data((0,t._)`${l} ${n[a].fail} ${u} || isNaN(${l})`)}};e.default=o}}),Qme=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:s,schemaCode:a,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${a} === 0 || (${f} = ${s}/${a}, ${c}))`)}};e.default=n}}),Zme=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/ucs2length.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,s;for(;o<n;)i++,s=r.charCodeAt(o++),s>=55296&&s<=56319&&o<n&&(s=r.charCodeAt(o),(s&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),ege=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=Sn(),n=Zme(),i={message({keyword:s,schemaCode:a}){const l=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${a} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u,it:f}=s,c=a==="maxLength"?t.operators.GT:t.operators.LT,h=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(s.gen,n.default)}(${l})`;s.fail$data((0,t._)`${h} ${c} ${u}`)}};e.default=o}}),tge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=nu(),r=Gr(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:s,$data:a,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",h=a?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${h}.test(${s})`)}};e.default=i}}),rge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${s}).length ${l} ${a}`)}};e.default=n}}),nge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=nu(),r=Gr(),n=Sn(),i={message:({params:{missingProperty:s}})=>(0,r.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,r._)`{missingProperty: ${s}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,schema:l,schemaCode:u,data:f,$data:c,it:h}=s,{opts:m}=h;if(!c&&l.length===0)return;const g=l.length>=m.loopRequired;if(h.allErrors?_():v(),m.strictRequired){const y=s.parentSchema.properties,{definedProperties:S}=s.it;for(const T of l)if((y==null?void 0:y[T])===void 0&&!S.has(T)){const $=h.schemaEnv.baseId+h.errSchemaPath,d=`required property "${T}" is not defined at "${$}" (strictRequired)`;(0,n.checkStrictMode)(h,d,h.opts.strictRequired)}}function _(){if(g||c)s.block$data(r.nil,p);else for(const y of l)(0,t.checkReportMissingProp)(s,y)}function v(){const y=a.let("missing");if(g||c){const S=a.let("valid",!0);s.block$data(S,()=>E(y,S)),s.ok(S)}else a.if((0,t.checkMissingProp)(s,l,y)),(0,t.reportMissingProp)(s,y),a.else()}function p(){a.forOf("prop",u,y=>{s.setParams({missingProperty:y}),a.if((0,t.noPropertyInData)(a,f,y,m.ownProperties),()=>s.error())})}function E(y,S){s.setParams({missingProperty:y}),a.forOf(y,u,()=>{a.assign(S,(0,t.propertyInData)(a,f,y,m.ownProperties)),a.if((0,r.not)(S),()=>{s.error(),a.break()})},r.nil)}}};e.default=o}}),ige=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${s}.length ${l} ${a}`)}};e.default=n}}),xk=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/equal.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=og();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),oge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=VS(),r=Gr(),n=Sn(),i=xk(),o={message:({params:{i:a,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${a} are identical)`,params:({params:{i:a,j:l}})=>(0,r._)`{i: ${a}, j: ${l}}`},s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(a){const{gen:l,data:u,$data:f,schema:c,parentSchema:h,schemaCode:m,it:g}=a;if(!f&&!c)return;const _=l.let("valid"),v=h.items?(0,t.getSchemaTypes)(h.items):[];a.block$data(_,p,(0,r._)`${m} === false`),a.ok(_);function p(){const T=l.let("i",(0,r._)`${u}.length`),$=l.let("j");a.setParams({i:T,j:$}),l.assign(_,!0),l.if((0,r._)`${T} > 1`,()=>(E()?y:S)(T,$))}function E(){return v.length>0&&!v.some(T=>T==="object"||T==="array")}function y(T,$){const d=l.name("item"),x=(0,t.checkDataTypes)(v,d,g.opts.strictNumbers,t.DataType.Wrong),O=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${T}--;`,()=>{l.let(d,(0,r._)`${u}[${T}]`),l.if(x,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${O}[${d}] == "number"`,()=>{l.assign($,(0,r._)`${O}[${d}]`),a.error(),l.assign(_,!1).break()}).code((0,r._)`${O}[${d}] = ${T}`)})}function S(T,$){const d=(0,n.useFunc)(l,i.default),x=l.name("outer");l.label(x).for((0,r._)`;${T}--;`,()=>l.for((0,r._)`${$} = ${T}; ${$}--;`,()=>l.if((0,r._)`${d}(${u}[${T}], ${u}[${$}])`,()=>{a.error(),l.assign(_,!1).break(x)})))}}};e.default=s}}),sge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=Sn(),n=xk(),i={message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},o={keyword:"const",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schemaCode:f,schema:c}=s;u||c&&typeof c=="object"?s.fail$data((0,t._)`!${(0,r.useFunc)(a,n.default)}(${l}, ${f})`):s.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),age=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=Sn(),n=xk(),i={message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schema:f,schemaCode:c,it:h}=s;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=h.opts.loopEnum;let g;const _=()=>g??(g=(0,r.useFunc)(a,n.default));let v;if(m||u)v=a.let("valid"),s.block$data(v,p);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=a.const("vSchema",c);v=(0,t.or)(...f.map((S,T)=>E(y,T)))}s.pass(v);function p(){a.assign(v,!1),a.forOf("v",c,y=>a.if((0,t._)`${_()}(${l}, ${y})`,()=>a.assign(v,!0).break()))}function E(y,S){const T=f[S];return typeof T=="object"&&T!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${T}`}}};e.default=o}}),lge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Xme(),r=Qme(),n=ege(),i=tge(),o=rge(),s=nge(),a=ige(),l=oge(),u=sge(),f=age(),c=[t.default,r.default,n.default,i.default,o.default,s.default,a.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),HG=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=Gr(),r=Sn(),n={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(s){const{parentSchema:a,it:l}=s,{items:u}=a;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(s,u)}};function o(s,a){const{gen:l,schema:u,data:f,keyword:c,it:h}=s;h.items=!0;const m=l.const("len",(0,t._)`${f}.length`);if(u===!1)s.setParams({len:a.length}),s.pass((0,t._)`${m} <= ${a.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(h,u)){const _=l.var("valid",(0,t._)`${m} <= ${a.length}`);l.if((0,t.not)(_),()=>g(_)),s.ok(_)}function g(_){l.forRange("i",a.length,m,v=>{s.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),h.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),WG=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=Gr(),r=Sn(),n=nu(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:a,it:l}=s;if(Array.isArray(a))return o(s,"additionalItems",a);l.items=!0,!(0,r.alwaysValidSchema)(l,a)&&s.ok((0,n.validateArray)(s))}};function o(s,a,l=s.schema){const{gen:u,parentSchema:f,data:c,keyword:h,it:m}=s;v(f),m.opts.unevaluated&&l.length&&m.items!==!0&&(m.items=r.mergeEvaluated.items(u,l.length,m.items));const g=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((p,E)=>{(0,r.alwaysValidSchema)(m,p)||(u.if((0,t._)`${_} > ${E}`,()=>s.subschema({keyword:h,schemaProp:E,dataProp:E},g)),s.ok(g))});function v(p){const{opts:E,errSchemaPath:y}=m,S=l.length,T=S===p.minItems&&(S===p.maxItems||p[a]===!1);if(E.strictTuples&&!T){const $=`"${h}" is ${S}-tuple, but minItems or maxItems/${a} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(m,$,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),uge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=WG(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),cge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=Sn(),n=nu(),i=HG(),o={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(a){const{schema:l,parentSchema:u,it:f}=a,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(a,c):a.ok((0,n.validateArray)(a)))}};e.default=s}}),fge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=Sn(),n={message:({params:{min:o,max:s}})=>s===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${s} valid item(s)`,params:({params:{min:o,max:s}})=>s===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${s}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:f}=o;let c,h;const{minContains:m,maxContains:g}=l;f.opts.next?(c=m===void 0?1:m,h=g):c=1;const _=s.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:h}),h===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&c>h){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,a)){let S=(0,t._)`${_} >= ${c}`;h!==void 0&&(S=(0,t._)`${S} && ${_} <= ${h}`),o.pass(S);return}f.items=!0;const v=s.name("valid");h===void 0&&c===1?E(v,()=>s.if(v,()=>s.break())):c===0?(s.let(v,!0),h!==void 0&&s.if((0,t._)`${u}.length > 0`,p)):(s.let(v,!1),p()),o.result(v,()=>o.reset());function p(){const S=s.name("_valid"),T=s.let("count",0);E(S,()=>s.if(S,()=>y(T)))}function E(S,T){s.forRange("i",0,_,$=>{o.subschema({keyword:"contains",dataProp:$,dataPropType:r.Type.Num,compositeRule:!0},S),T()})}function y(S){s.code((0,t._)`${S}++`),h===void 0?s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0).break()):(s.if((0,t._)`${S} > ${h}`,()=>s.assign(v,!1).break()),c===1?s.assign(v,!0):s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0)))}}};e.default=i}}),dge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=Gr(),r=Sn(),n=nu();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);s(l,u),a(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?u:f;h[c]=l[c]}return[u,f]}function s(l,u=l.schema){const{gen:f,data:c,it:h}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,h.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(v,()=>{for(const p of _)(0,n.checkReportMissingProp)(l,p)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:f,data:c,keyword:h,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i}}),hge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=Sn(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:s,schema:a,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,a))return;const f=s.name("valid");s.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),s.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||s.break()})}),o.ok(f)}};e.default=i}}),GG=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=nu(),r=Gr(),n=_d(),i=Sn(),o={message:"must NOT have additional properties",params:({params:a})=>(0,r._)`{additionalProperty: ${a.additionalProperty}}`},s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(a){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:h,it:m}=a;if(!h)throw new Error("ajv implementation error");const{allErrors:g,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(m,u))return;const v=(0,t.allSchemaProperties)(f.properties),p=(0,t.allSchemaProperties)(f.patternProperties);E(),a.ok((0,r._)`${h} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!p.length?T(d):l.if(y(d),()=>T(d))})}function y(d){let x;if(v.length>8){const O=(0,i.schemaRefOrVal)(m,f.properties,"properties");x=(0,t.isOwnProperty)(l,O,d)}else v.length?x=(0,r.or)(...v.map(O=>(0,r._)`${d} === ${O}`)):x=r.nil;return p.length&&(x=(0,r.or)(x,...p.map(O=>(0,r._)`${(0,t.usePattern)(a,O)}.test(${d})`))),(0,r.not)(x)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function T(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){a.setParams({additionalProperty:d}),a.error(),g||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(m,u)){const x=l.name("valid");_.removeAdditional==="failing"?($(d,x,!1),l.if((0,r.not)(x),()=>{a.reset(),S(d)})):($(d,x),g||l.if((0,r.not)(x),()=>l.break()))}}function $(d,x,O){const P={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};O===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(P,x)}}};e.default=s}}),pge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=mT(),r=nu(),n=Sn(),i=GG(),o={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,parentSchema:u,data:f,it:c}=s;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const h=(0,r.allSchemaProperties)(l);for(const p of h)c.definedProperties.add(p);c.opts.unevaluated&&h.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(a,(0,n.toHash)(h),c.props));const m=h.filter(p=>!(0,n.alwaysValidSchema)(c,l[p]));if(m.length===0)return;const g=a.name("valid");for(const p of m)_(p)?v(p):(a.if((0,r.propertyInData)(a,f,p,c.opts.ownProperties)),v(p),c.allErrors||a.else().var(g,!0),a.endIf()),s.it.definedProperties.add(p),s.ok(g);function _(p){return c.opts.useDefaults&&!c.compositeRule&&l[p].default!==void 0}function v(p){s.subschema({keyword:"properties",schemaProp:p,dataProp:p},g)}}};e.default=o}}),mge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=nu(),r=Gr(),n=Sn(),i=Sn(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,data:u,parentSchema:f,it:c}=s,{opts:h}=c,m=(0,t.allSchemaProperties)(l),g=m.filter(T=>(0,n.alwaysValidSchema)(c,l[T]));if(m.length===0||g.length===m.length&&(!c.opts.unevaluated||c.props===!0))return;const _=h.strictSchema&&!h.allowMatchingProperties&&f.properties,v=a.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(a,c.props));const{props:p}=c;E();function E(){for(const T of m)_&&y(T),c.allErrors?S(T):(a.var(v,!0),S(T),a.if(v))}function y(T){for(const $ in _)new RegExp(T).test($)&&(0,n.checkStrictMode)(c,`property ${$} matches pattern ${T} (use allowMatchingProperties)`)}function S(T){a.forIn("key",u,$=>{a.if((0,r._)`${(0,t.usePattern)(s,T)}.test(${$})`,()=>{const d=g.includes(T);d||s.subschema({keyword:"patternProperties",schemaProp:T,dataProp:$,dataPropType:i.Type.Str},v),c.opts.unevaluated&&p!==!0?a.assign((0,r._)`${p}[${$}]`,!0):!d&&!c.allErrors&&a.if((0,r.not)(v),()=>a.break())})})}}};e.default=o}}),gge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Sn(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:s}=n;if((0,t.alwaysValidSchema)(s,o)){n.fail();return}const a=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),n.failResult(a,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),vge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=nu(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),yge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=Sn(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,it:u}=o;if(!Array.isArray(a))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=a,c=s.let("valid",!1),h=s.let("passing",null),m=s.name("_valid");o.setParams({passing:h}),s.block(g),o.result(c,()=>o.reset(),()=>o.error(!0));function g(){f.forEach((_,v)=>{let p;(0,r.alwaysValidSchema)(u,_)?s.var(m,!0):p=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},m),v>0&&s.if((0,t._)`${m} && ${c}`).assign(c,!1).assign(h,(0,t._)`[${h}, ${v}]`).else(),s.if(m,()=>{s.assign(c,!0),s.assign(h,v),p&&o.mergeEvaluated(p,t.Name)})})}}};e.default=i}}),wge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Sn(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:s}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const a=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(s,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},a);n.ok(a),n.mergeEvaluated(f)})}};e.default=r}}),bge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=Sn(),n={message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(s){const{gen:a,parentSchema:l,it:u}=s;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const h=a.let("valid",!0),m=a.name("_valid");if(g(),s.reset(),f&&c){const v=a.let("ifClause");s.setParams({ifClause:v}),a.if(m,_("then",v),_("else",v))}else f?a.if(m,_("then")):a.if((0,t.not)(m),_("else"));s.pass(h,()=>s.error(!0));function g(){const v=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);s.mergeEvaluated(v)}function _(v,p){return()=>{const E=s.subschema({keyword:v},m);a.assign(h,m),s.mergeValidEvaluated(E,h),p?a.assign(p,(0,t._)`${v}`):s.setParams({ifClause:v})}}}};function o(s,a){const l=s.schema[a];return l!==void 0&&!(0,r.alwaysValidSchema)(s,l)}e.default=i}}),_ge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Sn(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),Ege=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=HG(),r=uge(),n=WG(),i=cge(),o=fge(),s=dge(),a=hge(),l=GG(),u=pge(),f=mge(),c=gge(),h=vge(),m=yge(),g=wge(),_=bge(),v=_ge();function p(E=!1){const y=[c.default,h.default,m.default,g.default,_.default,v.default,a.default,l.default,s.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=p}}),Sge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/format/format.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:s,data:a,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:h,errSchemaPath:m,schemaEnv:g,self:_}=c;if(!h.validateFormats)return;l?v():p();function v(){const E=s.scopeValue("formats",{ref:_.formats,code:h.code.formats}),y=s.const("fDef",(0,t._)`${E}[${f}]`),S=s.let("fType"),T=s.let("format");s.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>s.assign(S,(0,t._)`${y}.type || "string"`).assign(T,(0,t._)`${y}.validate`),()=>s.assign(S,(0,t._)`"string"`).assign(T,y)),i.fail$data((0,t.or)($(),d()));function $(){return h.strictSchema===!1?t.nil:(0,t._)`${f} && !${T}`}function d(){const x=g.$async?(0,t._)`(${y}.async ? await ${T}(${a}) : ${T}(${a}))`:(0,t._)`${T}(${a})`,O=(0,t._)`(typeof ${T} == "function" ? ${x} : ${T}.test(${a}))`;return(0,t._)`${T} && ${T} !== true && ${S} === ${o} && !${O}`}}function p(){const E=_.formats[u];if(!E){$();return}if(E===!0)return;const[y,S,T]=d(E);y===o&&i.pass(x());function $(){if(h.strictSchema===!1){_.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function d(O){const P=O instanceof RegExp?(0,t.regexpCode)(O):h.code.formats?(0,t._)`${h.code.formats}${(0,t.getProperty)(u)}`:void 0,M=s.scopeValue("formats",{key:u,ref:O,code:P});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,t._)`${M}.validate`]:["string",O,M]}function x(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!g.$async)throw new Error("async format in sync schema");return(0,t._)`await ${T}(${a})`}return typeof S=="function"?(0,t._)`${T}(${a})`:(0,t._)`${T}.test(${a})`}}}};e.default=n}}),Tge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/format/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Sge(),r=[t.default];e.default=r}}),$ge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/metadata.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),xge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/draft7.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Yme(),r=lge(),n=Ege(),i=Tge(),o=$ge(),s=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=s}}),Age=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))}}),Oge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=Age(),n=$k(),i=Sn(),o={message:({params:{discrError:a,tagName:l}})=>a===r.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:u}})=>(0,t._)`{error: ${a}, tag: ${u}, tagValue: ${l}}`},s={keyword:"discriminator",type:"object",schemaType:"object",error:o,code(a){const{gen:l,data:u,schema:f,parentSchema:c,it:h}=a,{oneOf:m}=c;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");const g=f.propertyName;if(typeof g!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const _=l.let("valid",!1),v=l.const("tag",(0,t._)`${u}${(0,t.getProperty)(g)}`);l.if((0,t._)`typeof ${v} == "string"`,()=>p(),()=>a.error(!1,{discrError:r.DiscrError.Tag,tag:v,tagName:g})),a.ok(_);function p(){const S=y();l.if(!1);for(const T in S)l.elseIf((0,t._)`${v} === ${T}`),l.assign(_,E(S[T]));l.else(),a.error(!1,{discrError:r.DiscrError.Mapping,tag:v,tagName:g}),l.endIf()}function E(S){const T=l.name("valid"),$=a.subschema({keyword:"oneOf",schemaProp:S},T);return a.mergeEvaluated($,t.Name),T}function y(){var S;const T={},$=x(c);let d=!0;for(let M=0;M<m.length;M++){let U=m[M];U!=null&&U.$ref&&!(0,i.schemaHasRulesButRef)(U,h.self.RULES)&&(U=n.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,U==null?void 0:U.$ref),U instanceof n.SchemaEnv&&(U=U.schema));const K=(S=U==null?void 0:U.properties)===null||S===void 0?void 0:S[g];if(typeof K!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${g}"`);d=d&&($||x(U)),O(K,M)}if(!d)throw new Error(`discriminator: "${g}" must be required`);return T;function x({required:M}){return Array.isArray(M)&&M.includes(g)}function O(M,U){if(M.const)P(M.const,U);else if(M.enum)for(const K of M.enum)P(K,U);else throw new Error(`discriminator: "properties/${g}" must have "const" or "enum"`)}function P(M,U){if(typeof M!="string"||M in T)throw new Error(`discriminator: "${g}" values must be unique strings`);T[M]=U}}}};e.default=s}}),Pge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),Rge=Fe({"../../node_modules/ajv-formats/node_modules/ajv/dist/ajv.js"(e,t){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=Gme(),n=xge(),i=Oge(),o=Pge(),s=["/properties"],a="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(m,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}};t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=mT();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=Gr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=Sk();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=Tk();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}}),Nge=Fe({"../../node_modules/ajv-formats/dist/limit.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;var t=Rge(),r=Gr(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:a,schemaCode:l})=>r.str`should be ${i[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>r._`{comparison: ${i[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(a){const{gen:l,data:u,schemaCode:f,keyword:c,it:h}=a,{opts:m,self:g}=h;if(!m.validateFormats)return;const _=new t.KeywordCxt(h,g.RULES.all.format.definition,"format");_.$data?v():p();function v(){const y=l.scopeValue("formats",{ref:g.formats,code:m.code.formats}),S=l.const("fmt",r._`${y}[${_.schemaCode}]`);a.fail$data(r.or(r._`typeof ${S} != "object"`,r._`${S} instanceof RegExp`,r._`typeof ${S}.compare != "function"`,E(S)))}function p(){const y=_.schema,S=g.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const T=l.scopeValue("formats",{key:y,ref:S,code:m.code.formats?r._`${m.code.formats}${r.getProperty(y)}`:void 0});a.fail$data(E(T))}function E(y){return r._`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};var s=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=s}}),KG=Fe({"../../node_modules/ajv-formats/dist/index.js"(e,t){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var r=Fme(),n=Nge(),i=Gr(),o=new i.Name("fullFormats"),s=new i.Name("fastFormats"),a=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,h]=f.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,o],m=f.formats||r.formatNames;return l(u,m,c,h),f.keywords&&n.default(u),u};a.get=(u,f="full")=>{const h=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!h)throw new Error(`Unknown format "${u}"`);return h};function l(u,f,c,h){var m,g;(m=(g=u.opts.code).formats)!==null&&m!==void 0||(g.formats=i._`require("ajv-formats/dist/formats").${h}`);for(const _ of f)u.addFormat(_,c[_])}t.exports=e=a,Object.defineProperty(e,"__esModule",{value:!0}),e.default=a}}),Ige=Fe({"../../node_modules/wot-thing-description-types/schema/td-json-schema-validation.json"(e,t){t.exports={title:"Thing Description",version:"1.1-09-November-2023",description:"JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values",$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json",definitions:{anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"}},security:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the old context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string",not:{const:"tm:ThingModel"}},{type:"array",items:{type:"string",not:{const:"tm:ThingModel"}}}]},"dataSchema-type":{type:"string",enum:["boolean","integer","number","string","object","array","null"]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{type:["integer","number"],exclusiveMinimum:0},expectedResponse:{type:"object",properties:{contentType:{type:"string"}},required:["contentType"]},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},required:["href"],additionalProperties:!0},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{type:"array",items:{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},minItems:1}]}},additionalProperties:!0},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["invokeaction","queryaction","cancelaction"]},{type:"array",items:{type:"string",enum:["invokeaction","queryaction","cancelaction"]},minItems:1}]}},additionalProperties:!0},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["subscribeevent","unsubscribeevent"]},{type:"array",items:{type:"string",enum:["subscribeevent","unsubscribeevent"]},minItems:1}]}},additionalProperties:!0},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{type:"array",items:{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},minItems:1}]}},additionalProperties:!0,required:["op"]},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},observable:{type:"boolean"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}},required:["forms"],additionalProperties:!0},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{type:"boolean"},idempotent:{type:"boolean"},synchronous:{type:"boolean"}},required:["forms"],additionalProperties:!0},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"}},required:["forms"],additionalProperties:!0},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]}},required:["href"],additionalProperties:!0},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon or tm:extends",properties:{rel:{enum:["icon","tm:extends"]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},required:["scheme"],additionalProperties:!0},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["nosec"]}},required:["scheme"],additionalProperties:!0},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["auto"]}},not:{required:["name"]},required:["scheme"],additionalProperties:!0},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},oneOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","oneOf"],additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},allOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","allOf"],additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["basic"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["digest"]},qop:{type:"string",enum:["auth","auth-int"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["apikey"]},in:{type:"string",enum:["header","query","body","cookie","uri","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["bearer"]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["psk"]},identity:{type:"string"}},required:["scheme"],additionalProperties:!0},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["oauth2"]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",enum:["code","client"]}]}},required:["scheme"],additionalProperties:!0},securityScheme:{oneOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]}},type:"object",properties:{id:{type:"string",format:"uri"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{type:"object",properties:{instance:{type:"string"}},required:["instance"]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"}},support:{$ref:"#/definitions/anyUri"},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},"@type":{$ref:"#/definitions/type_declaration"},"@context":{$ref:"#/definitions/thing-context"}},required:["title","security","securityDefinitions","@context"],additionalProperties:!0}}}),h0=Fe({"../core/dist/helpers.js"(e){Ie();var t=e&&e.__createBinding||(Object.create?function(y,S,T,$){$===void 0&&($=T);var d=Object.getOwnPropertyDescriptor(S,T);(!d||("get"in d?!S.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return S[T]}}),Object.defineProperty(y,$,d)}:function(y,S,T,$){$===void 0&&($=T),y[$]=S[T]}),r=e&&e.__setModuleDefault||(Object.create?function(y,S){Object.defineProperty(y,"default",{enumerable:!0,value:S})}:function(y,S){y.default=S}),n=e&&e.__importStar||function(){var y=function(S){return y=Object.getOwnPropertyNames||function(T){var $=[];for(var d in T)Object.prototype.hasOwnProperty.call(T,d)&&($[$.length]=d);return $},y(S)};return function(S){if(S&&S.__esModule)return S;var T={};if(S!=null)for(var $=y(S),d=0;d<$.length;d++)$[d]!=="default"&&t(T,S,$[d]);return r(T,S),T}}(),i=e&&e.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var o=n((Ffe(),hn(a9))),s=cpe(),a=o0(),l=Ku(),u=i(zG()),f=i(KG()),c=i(Ige()),h=Ys(),{debug:m,error:g,warn:_}=(0,h.createLoggers)("core","helpers"),v=c.default,p=new u.default({strict:!1});(0,f.default)(p);var E=class hc{constructor(S){this.srv=S}static extractScheme(S){const T=new URL(S);if(m(T),T.protocol===null)throw new Error(`Protocol in url "${S}" must be valid`);const $=T.protocol.slice(0,-1);return m(`Helpers found scheme '${$}'`),$}static setStaticAddress(S){hc.staticAddress=S}static getAddresses(){const S=[];if(hc.staticAddress!==void 0)return S.push(hc.staticAddress),m(`AddressHelper uses static ${S}`),S;{const T=o.networkInterfaces();for(const $ of Object.values(T))$==null||$.forEach(d=>{m(`AddressHelper found ${d.address}`),d.internal===!1&&(d.family==="IPv4"?S.push(d.address):d.scopeid===0&&S.push(hc.toUriLiteral(d.address)))});return S.length===0&&S.push("localhost"),m(`AddressHelper identified ${S}`),S}}static toUriLiteral(S){return S==null?(g(`AddressHelper received invalid address '${S}'`),"{invalid address - undefined}"):(S.indexOf(":")!==-1&&(S=`[${S}]`),S)}static generateUniqueName(S){const T=S.match(/.+_([0-9]+)$/);return T!==null?S.slice(0,-T[1].length)+(1+parseInt(T[1])):S+"_2"}static toStringArray(S){return S!=null?typeof S=="string"?[S]:S:[]}static structuredClone(S){return JSON.parse(JSON.stringify(S))}fetch(S){return new Promise((T,$)=>{const d=this.srv.getClientFor(hc.extractScheme(S));m(`WoTImpl fetching TD from '${S}' with ${d}`),d.readResource(new a.Form(S,l.ContentSerdes.TD)).then(async x=>{x.type!==l.ContentSerdes.TD&&x.type!==l.ContentSerdes.JSON_LD&&_(`WoTImpl received TD with media type '${x.type}' from ${S}`);const O=(await x.toBuffer()).toString("utf-8");try{const P=JSON.parse(O);T(P)}catch(P){$(new Error(`WoTImpl fetched invalid JSON from '${S}': ${P instanceof Error?P.message:P}`))}}).then(async x=>(await d.stop(),x)).catch(x=>{$(x)})})}static extend(S,T){const $={};for(const[d,x]of Object.entries(S))$[d]=x;for(const[d,x]of Object.entries(T))Object.prototype.hasOwnProperty.call($,d)||($[d]=x);return $}static async parseInteractionOutput(S){try{return await S.value()}catch{throw g("parseInteractionOutput low-level stream not implemented"),new Error("parseInteractionOutput low-level stream not implemented")}}static createExposeThingInitSchema(S){const T=hc.structuredClone(S);if(T.required!==void 0){const $=["title","@context","instance","forms","security","href","securityDefinitions"];if(Array.isArray(T.required)){const d=T.required;T.required=d.filter(x=>!$.includes(x))}else typeof T.required=="string"&&$.indexOf(T.required)!==-1&&delete T.required}if(T.definitions!=null)for(const[$,d]of Object.entries(T.definitions)??[])T.definitions[$]=this.createExposeThingInitSchema(d);return T}static validateExposedThingInit(S){var d;if(S["@type"]==="tm:ThingModel"||s.ThingModelHelpers.isThingModel(S)===!0)return{valid:!1,errors:"ThingModel declaration is not supported"};const T=hc.tsSchemaValidator(S);let $;return T||($=(d=hc.tsSchemaValidator.errors)==null?void 0:d.map(x=>x.message).join(`
`)),{valid:T,errors:$}}static parseInteractionOptions(S,T,$){if(!this.validateInteractionOptions(S,T,$))throw new Error(`CoreHelpers one or more uriVariables were not found under neither '${T.title}' Thing Interaction nor '${S.title}' Thing`);const d=T.uriVariables??{},x=S.uriVariables??{},O={};$!=null&&$.uriVariables?Object.entries($.uriVariables).forEach(M=>{(M[0]in d||M[0]in x)&&(O[M[0]]=M[1])}):$={uriVariables:{}};for(const[P,M]of Object.entries(x))!(P in O)&&"default"in M&&(O[P]=M.default);return $.uriVariables=O,$}static validateInteractionOptions(S,T,$){const d=T.uriVariables??{},x=S.uriVariables??{};if($!=null&&$.uriVariables){const O=Object.entries($.uriVariables);for(let P=0;P<O.length;P++){const M=O[P];if(!(M[0]in d)&&!(M[0]in x))return!1}}return!0}static parseUrlParameters(S,T={},$={}){const d={};if(S==null||$==null&&T==null)return d;const x=S.split("?")[1];return x==null||(x.indexOf("&")!==-1?x.split("&"):[x]).forEach(P=>{const M=P.split("="),U=decodeURIComponent(M[0]),K=decodeURIComponent(M.length>1?M[1]:"");$!=null&&$[U]!=null?$[U].type==="integer"||$[U].type==="number"?d[U]=+K:d[U]=K:T!=null&&T[U]!=null&&(T[U].type==="integer"||T[U].type==="number"?d[U]=+K:d[U]=K)}),d}static updateInteractionNameWithUriVariablePattern(S,T={},$={}){const d=encodeURIComponent(S),x=[...Object.keys(T),...Object.keys($)];if(x.length===0)return d;const O=x.map(encodeURIComponent).join(",");return d+"{?"+O+"}"}};E.tsSchemaValidator=p.compile(E.createExposeThingInitSchema(v)),E.staticAddress=void 0,e.default=E}}),Cge=Fe({"../core/dist/errors.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.DataSchemaError=e.NotSupportedError=e.NotReadableError=void 0;var t=class JG extends Error{constructor(o){super(o),Object.setPrototypeOf(this,JG.prototype)}};e.NotReadableError=t;var r=class YG extends Error{constructor(o){super(o),Object.setPrototypeOf(this,YG.prototype)}};e.NotSupportedError=r;var n=class extends Error{constructor(i,o){super(i),this.value=o,Object.setPrototypeOf(this,r.prototype)}};e.DataSchemaError=n}}),XG=Fe({"../core/dist/interaction-output.js"(e){Ie();var t=e&&e.__createBinding||(Object.create?function($,d,x,O){O===void 0&&(O=x);var P=Object.getOwnPropertyDescriptor(d,x);(!P||("get"in P?!d.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return d[x]}}),Object.defineProperty($,O,P)}:function($,d,x,O){O===void 0&&(O=x),$[O]=d[x]}),r=e&&e.__setModuleDefault||(Object.create?function($,d){Object.defineProperty($,"default",{enumerable:!0,value:d})}:function($,d){$.default=d}),n=e&&e.__importStar||function(){var $=function(d){return $=Object.getOwnPropertyNames||function(x){var O=[];for(var P in x)Object.prototype.hasOwnProperty.call(x,P)&&(O[O.length]=P);return O},$(d)};return function(d){if(d&&d.__esModule)return d;var x={};if(d!=null)for(var O=$(d),P=0;P<O.length;P++)O[P]!=="default"&&t(x,d,O[P]);return r(x,d),x}}(),i=e&&e.__classPrivateFieldGet||function($,d,x,O){if(x==="a"&&!O)throw new TypeError("Private accessor was defined without a getter");if(typeof d=="function"?$!==d||!O:!d.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return x==="m"?O:x==="a"?O.call($):O?O.value:d.get($)},o=e&&e.__classPrivateFieldSet||function($,d,x,O,P){if(O==="m")throw new TypeError("Private method is not writable");if(O==="a"&&!P)throw new TypeError("Private accessor was defined without a setter");if(typeof d=="function"?$!==d||!P:!d.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return O==="a"?P.call($,x):P?P.value=x:d.set($,x),x},s=e&&e.__importDefault||function($){return $&&$.__esModule?$:{default:$}},a,l,u,f;Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionOutput=void 0;var c=n((nT(),hn(rT))),h=Ku(),m=Qs(),g=Cge(),_=s(zG()),v=s(KG()),p=Ys(),{debug:E,warn:y}=(0,p.createLoggers)("core","interaction-output"),S=new _.default({strict:!1,addUsedSchema:!1});(0,v.default)(S);var T=class{get data(){if(i(this,f,"f"))return i(this,f,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");return this.dataUsed=!0,o(this,f,m.ProtocolHelpers.toWoTStream(i(this,a,"f").body),"f")}constructor($,d,x,O={ignoreValidation:!1}){a.set(this,void 0),l.set(this,void 0),u.set(this,void 0),f.set(this,void 0),o(this,a,$,"f"),this.form=d,this.schema=x,this.ignoreValidation=O.ignoreValidation??!1,this.dataUsed=!1}async arrayBuffer(){if(i(this,u,"f"))return i(this,u,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");const $=await i(this,a,"f").toBuffer();return this.dataUsed=!0,o(this,u,$,"f"),$}async value(){if(this.schema==null){y("No schema defined. Hence undefined is reported for value() function. If you are invoking an action with no output that is on purpose, otherwise consider using arrayBuffer().");return}if(i(this,l,"f")!==void 0)return i(this,l,"f");if(this.dataUsed)throw new g.NotReadableError("Can't read the stream once it has been already used");if(this.form==null)throw new g.NotReadableError("No form defined");if(this.schema.const==null&&this.schema.enum==null&&this.schema.oneOf==null&&this.schema.type==null)throw new g.NotReadableError("No schema type defined");if(!h.ContentSerdes.get().isSupported(i(this,a,"f").type)){const O=`Content type ${i(this,a,"f").type} not supported`;throw new g.NotSupportedError(O)}const $=await i(this,a,"f").toBuffer();this.dataUsed=!0,o(this,u,$,"f");const d=h.ContentSerdes.get().contentToValue({type:i(this,a,"f").type,body:$},this.schema),x=S.compile(this.schema);if(!this.ignoreValidation&&!x(d))throw E(`schema = ${c.inspect(this.schema,{depth:10,colors:!0})}`),E(`value: ${d}`),E(`Error: ${x.errors}`),new g.DataSchemaError("Invalid value according to DataSchema",d);return o(this,l,d,"f"),d}};e.InteractionOutput=T,a=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap}}),kge=Fe({"../core/dist/protocol-listener-registry.js"(e){Ie();var t=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(Ku()),n=class QG{constructor(){this.listeners=new Map}register(o,s,a){if(o.forms[s]==null)throw new Error("Can't register the listener for affordance with formIndex. The affordance does not contain the form");let l=this.listeners.get(o);l||(l=new Map,this.listeners.set(o,l));let u=l.get(s);u||(u=[],l.set(s,u)),u.push(a)}unregister(o,s,a){const l=this.listeners.get(o);if(!l)throw new Error("Not found");const u=l.get(s);if(!u)throw new Error("Form not found");const f=u.indexOf(a);if(f<0)throw new Error("Form not found");u.splice(f,1)}unregisterAll(){this.listeners.clear()}notify(o,s,a,l){const u=this.listeners.get(o)??QG.EMPTY_MAP;if(l!==void 0){const f=u.get(l);if(f){const c=o.forms[l].contentType,h=r.default.valueToContent(s,a,c);f.forEach(m=>m(h));return}}for(const[f,c]of u){const h=o.forms[f].contentType,m=r.default.valueToContent(s,a,h);c.forEach(g=>g(m))}}};n.EMPTY_MAP=new Map,e.default=n}}),ZG=Fe({"../core/dist/exposed-thing.js"(e){Ie();var t=e&&e.__createBinding||(Object.create?function(P,M,U,K){K===void 0&&(K=U);var ie=Object.getOwnPropertyDescriptor(M,U);(!ie||("get"in ie?!M.__esModule:ie.writable||ie.configurable))&&(ie={enumerable:!0,get:function(){return M[U]}}),Object.defineProperty(P,K,ie)}:function(P,M,U,K){K===void 0&&(K=U),P[K]=M[U]}),r=e&&e.__setModuleDefault||(Object.create?function(P,M){Object.defineProperty(P,"default",{enumerable:!0,value:M})}:function(P,M){P.default=M}),n=e&&e.__importStar||function(){var P=function(M){return P=Object.getOwnPropertyNames||function(U){var K=[];for(var ie in U)Object.prototype.hasOwnProperty.call(U,ie)&&(K[K.length]=ie);return K},P(M)};return function(M){if(M&&M.__esModule)return M;var U={};if(M!=null)for(var K=P(M),ie=0;ie<K.length;ie++)K[ie]!=="default"&&t(U,M,K[ie]);return r(U,M),U}}(),i=e&&e.__classPrivateFieldSet||function(P,M,U,K,ie){if(K==="m")throw new TypeError("Private method is not writable");if(K==="a"&&!ie)throw new TypeError("Private accessor was defined without a setter");if(typeof M=="function"?P!==M||!ie:!M.has(P))throw new TypeError("Cannot write private member to an object whose class did not declare it");return K==="a"?ie.call(P,U):ie?ie.value=U:M.set(P,U),U},o=e&&e.__classPrivateFieldGet||function(P,M,U,K){if(U==="a"&&!K)throw new TypeError("Private accessor was defined without a getter");if(typeof M=="function"?P!==M||!K:!M.has(P))throw new TypeError("Cannot read private member from an object whose class did not declare it");return U==="m"?K:U==="a"?K.call(P):K?K.value:M.get(P)},s=e&&e.__importDefault||function(P){return P&&P.__esModule?P:{default:P}},a,l,u,f,c,h;Object.defineProperty(e,"__esModule",{value:!0});var m=n(o0()),g=G2(),_=s(h0()),v=XG(),p=(ml(),hn(Aa)),E=s(vk()),y=gk(),S=Qs(),T=s(Ku()),$=s(kge()),d=Ys(),{debug:x}=(0,d.createLoggers)("core","exposed-thing"),O=class extends m.Thing{constructor(P,M={}){super(),a.set(this,new Map),l.set(this,new Map),u.set(this,new Map),f.set(this,new $.default),c.set(this,new $.default),h.set(this,void 0),i(this,h,P,"f"),this.id=M.id??"",this.title=M.title??"",this.security="",this.securityDefinitions={},this.properties={},this.actions={},this.events={};const U=_.default.structuredClone(M);Object.assign(this,U),(0,g.setContextLanguage)(this,m.DEFAULT_CONTEXT_LANGUAGE,!1)}getThingDescription(){return JSON.parse((0,g.serializeTD)(this))}emitEvent(P,M){if(this.events[P]!=null){const U=this.events[P];o(this,c,"f").notify(U,M,U.data)}else throw new Error("NotFoundError for event '"+P+"'")}async emitPropertyChange(P){var M;if(this.properties[P]!=null){const U=this.properties[P],K=(M=o(this,a,"f").get(P))==null?void 0:M.readHandler;if(!K)throw new Error("Can't read property readHandler is not defined. Did you forget to register a readHandler?");const ie=await K();o(this,f,"f").notify(U,ie,U)}else throw new Error("NotFoundError for property '"+P+"'")}expose(){return x(`ExposedThing '${this.title}' exposing all Interactions and TD`),new Promise((P,M)=>{o(this,h,"f").expose(this).then(()=>{P()}).catch(U=>M(U))})}async destroy(){x(`ExposedThing '${this.title}' destroying the thing and its interactions`),await o(this,h,"f").destroyThing(this.id),o(this,c,"f").unregisterAll(),o(this,f,"f").unregisterAll(),o(this,u,"f").clear(),o(this,a,"f").clear(),o(this,u,"f").clear()}setPropertyReadHandler(P,M){if(x(`ExposedThing '${this.title}' setting read handler for '${P}'`),this.properties[P]!=null){if(this.properties[P].writeOnly===!0)throw new Error(`ExposedThing '${this.title}' cannot set read handler for property '${P}' due to writeOnly flag`);{let U=o(this,a,"f").get(P);U?U.readHandler=M:U={readHandler:M},o(this,a,"f").set(P,U)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${P}'`);return this}setPropertyWriteHandler(P,M){if(x(`ExposedThing '${this.title}' setting write handler for '${P}'`),this.properties[P]!=null){if(this.properties[P].readOnly===!0)throw new Error(`ExposedThing '${this.title}' cannot set write handler for property '${P}' due to readOnly flag`);{let U=o(this,a,"f").get(P);U?U.writeHandler=M:U={writeHandler:M},o(this,a,"f").set(P,U)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${P}'`);return this}setPropertyObserveHandler(P,M){if(x(`ExposedThing '${this.title}' setting property observe handler for '${P}'`),this.properties[P]!=null){if(this.properties[P].observable!==!0)throw new Error(`ExposedThing '${this.title}' cannot set observe handler for property '${P}' since the observable flag is set to false`);{let U=o(this,a,"f").get(P);U?U.observeHandler=M:U={observeHandler:M},o(this,a,"f").set(P,U)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${P}'`);return this}setPropertyUnobserveHandler(P,M){if(x(`ExposedThing '${this.title}' setting property unobserve handler for '${P}'`),this.properties[P]!=null){if(this.properties[P].observable!==!0)throw new Error(`ExposedThing '${this.title}' cannot set unobserve handler for property '${P}' due to missing observable flag`);{let U=o(this,a,"f").get(P);U?U.unobserveHandler=M:U={unobserveHandler:M},o(this,a,"f").set(P,U)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${P}'`);return this}setActionHandler(P,M){if(x(`ExposedThing '${this.title}' setting action handler for '${P}'`),this.actions[P]!=null)o(this,l,"f").set(P,M);else throw new Error(`ExposedThing '${this.title}' has no Action '${P}'`);return this}setEventSubscribeHandler(P,M){if(x(`ExposedThing '${this.title}' setting event subscribe handler for '${P}'`),this.events[P]!=null){let U=o(this,u,"f").get(P);U?U.subscribe=M:U={subscribe:M},o(this,u,"f").set(P,U)}else throw new Error(`ExposedThing '${this.title}' has no Event '${P}'`);return this}setEventUnsubscribeHandler(P,M){if(x(`ExposedThing '${this.title}' setting event unsubscribe handler for '${P}'`),this.events[P]!=null){let U=o(this,u,"f").get(P);U?U.unsubscribe=M:U={unsubscribe:M},o(this,u,"f").set(P,U)}else throw new Error(`ExposedThing '${this.title}' has no Event '${P}'`);return this}async handleInvokeAction(P,M,U){if(this.actions[P]!=null){x(`ExposedThing '${this.title}' has Action state of '${P}'`);const K=o(this,l,"f").get(P);if(K!=null){x(`ExposedThing '${this.title}' calls registered handler for Action '${P}'`),_.default.validateInteractionOptions(this,this.actions[P],U);const ie=this.actions[P].forms[U.formIndex]??{contentType:"application/json"},G=await K(new v.InteractionOutput(M,ie,this.actions[P].input),U);if(G!==void 0)return T.default.valueToContent(G,this.actions[P].output,ie.contentType)}else throw new Error(`ExposedThing '${this.title}' has no handler for Action '${P}'`)}else throw new Error(`ExposedThing '${this.title}', no action found for '${P}'`)}async handleReadProperty(P,M){var U,K;if(this.properties[P]!=null){x(`ExposedThing '${this.title}' has Action state of '${P}'`);const ie=(U=o(this,a,"f").get(P))==null?void 0:U.readHandler;if(ie!=null){x(`ExposedThing '${this.title}' calls registered readHandler for Property '${P}'`),_.default.validateInteractionOptions(this,this.properties[P],M);const G=await ie(M),ne=((K=this.properties[P])==null?void 0:K.forms[M.formIndex])??{contentType:"application/json"};return T.default.valueToContent(G,this.properties[P],(ne==null?void 0:ne.contentType)??"application/json")}else throw new Error(`ExposedThing '${this.title}' has no readHandler for Property '${P}'`)}else throw new Error(`ExposedThing '${this.title}', no property found for '${P}'`)}async _handleReadProperties(P,M){try{const U=new Map;for(const K of P){if(!this.properties[K].forms.find(ne=>ne.contentType===S.ContentSerdes.DEFAULT||ne.contentType==null))continue;const G=await this.handleReadProperty(K,M);U.set(K,G)}return U}catch(U){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${P}.
 Error: ${U}`)}}async handleReadAllProperties(P){const M=Object.keys(this.properties);return await this._handleReadProperties(M,P)}async handleReadMultipleProperties(P,M){return await this._handleReadProperties(P,M)}async handleWriteProperty(P,M,U){var K,ie;if(this.properties[P]!=null){if(this.properties[P].readOnly===!0)throw new Error(`ExposedThing '${this.title}', property '${P}' is readOnly`);_.default.validateInteractionOptions(this,this.properties[P],U);const G=(K=o(this,a,"f").get(P))==null?void 0:K.writeHandler,ne=((ie=this.properties[P])==null?void 0:ie.forms[U.formIndex])??{};if(G!=null)await G(new v.InteractionOutput(M,ne,this.properties[P]),U);else throw new Error(`ExposedThing '${this.title}' has no writeHandler for Property '${P}'`)}else throw new Error(`ExposedThing '${this.title}', no property found for '${P}'`)}async handleWriteMultipleProperties(P,M){const U=[];for(const[K,ie]of Object.entries(P))this.properties[K].forms.find(ne=>ne.contentType==="application/json"||ne.contentType==null)!=null&&U.push(this.handleWriteProperty(K,ie,M));try{await Promise.all(U)}catch(K){throw new Error(`ExposedThing '${this.title}', failed to write multiple properties. ${K.message}`)}}async handleSubscribeEvent(P,M,U){var K;if(this.events[P]!=null){_.default.validateInteractionOptions(this,this.events[P],U);const ie=E.default.getFormIndexForOperation(this.events[P],"event","subscribeevent",U.formIndex);if(ie!==-1)o(this,c,"f").register(this.events[P],ie,M),x(`ExposedThing '${this.title}' subscribes to event '${P}'`);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${P}' with form index '${U.formIndex}'`);const G=(K=o(this,u,"f").get(P))==null?void 0:K.subscribe;G&&await G(U),x(`ExposedThing '${this.title}' subscribes to event '${P}'`)}else throw new Error(`ExposedThing '${this.title}', no event found for '${P}'`)}handleUnsubscribeEvent(P,M,U){var K;if(this.events[P]!=null){_.default.validateInteractionOptions(this,this.events[P],U);const ie=E.default.getFormIndexForOperation(this.events[P],"event","unsubscribeevent",U.formIndex);if(ie!==-1)o(this,c,"f").unregister(this.events[P],ie,M);else throw new Error(`ExposedThing '${this.title}', no event listener from found for '${P}' with form index '${U.formIndex}'`);const G=(K=o(this,u,"f").get(P))==null?void 0:K.unsubscribe;G&&G(U),x(`ExposedThing '${this.title}' unsubscribes from event '${P}'`)}else throw new Error(`ExposedThing '${this.title}', no event found for '${P}'`)}async handleObserveProperty(P,M,U){var K;if(this.properties[P]!=null){_.default.validateInteractionOptions(this,this.properties[P],U);const ie=E.default.getFormIndexForOperation(this.properties[P],"property","observeproperty",U.formIndex);if(ie!==-1)o(this,f,"f").register(this.properties[P],ie,M),x(`ExposedThing '${this.title}' subscribes to property '${P}'`);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${P}' with form index '${U.formIndex}'`);const G=(K=o(this,a,"f").get(P))==null?void 0:K.observeHandler;G&&await G(U)}else throw new Error(`ExposedThing '${this.title}', no property found for '${P}'`)}handleUnobserveProperty(P,M,U){var K;if(this.properties[P]!=null){_.default.validateInteractionOptions(this,this.properties[P],U);const ie=E.default.getFormIndexForOperation(this.properties[P],"property","unobserveproperty",U.formIndex);if(ie!==-1)o(this,f,"f").unregister(this.properties[P],ie,M);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${P}' with form index '${U.formIndex}'`);const G=(K=o(this,a,"f").get(P))==null?void 0:K.unobserveHandler;G&&G(U)}else throw new Error(`ExposedThing '${this.title}', no property found for '${P}'`)}static interactionInputToReadable(P){let M;return typeof ReadableStream<"u"&&P instanceof ReadableStream||P instanceof y.ReadableStream?M=E.default.toNodeStream(P):Array.isArray(P)||typeof P=="object"?M=p.Readable.from(Cn.from(JSON.stringify(P),"utf-8")):M=p.Readable.from(Cn.from(P.toString(),"utf-8")),M}};a=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,c=new WeakMap,h=new WeakMap,e.default=O}}),jge=Fe({"../../node_modules/content-type/index.js"(e){Ie();var t=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,r=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,n=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,i=/\\([\u000b\u0020-\u00ff])/g,o=/([\\"])/g,s=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;e.format=a,e.parse=l;function a(h){if(!h||typeof h!="object")throw new TypeError("argument obj is required");var m=h.parameters,g=h.type;if(!g||!s.test(g))throw new TypeError("invalid type");var _=g;if(m&&typeof m=="object")for(var v,p=Object.keys(m).sort(),E=0;E<p.length;E++){if(v=p[E],!n.test(v))throw new TypeError("invalid parameter name");_+="; "+v+"="+f(m[v])}return _}function l(h){if(!h)throw new TypeError("argument string is required");var m=typeof h=="object"?u(h):h;if(typeof m!="string")throw new TypeError("argument string is required to be a string");var g=m.indexOf(";"),_=g!==-1?m.slice(0,g).trim():m.trim();if(!s.test(_))throw new TypeError("invalid media type");var v=new c(_.toLowerCase());if(g!==-1){var p,E,y;for(t.lastIndex=g;E=t.exec(m);){if(E.index!==g)throw new TypeError("invalid parameter format");g+=E[0].length,p=E[1].toLowerCase(),y=E[2],y.charCodeAt(0)===34&&(y=y.slice(1,-1),y.indexOf("\\")!==-1&&(y=y.replace(i,"$1"))),v.parameters[p]=y}if(g!==m.length)throw new TypeError("invalid parameter format")}return v}function u(h){var m;if(typeof h.getHeader=="function"?m=h.getHeader("content-type"):typeof h.headers=="object"&&(m=h.headers&&h.headers["content-type"]),typeof m!="string")throw new TypeError("content-type header is missing from object");return m}function f(h){var m=String(h);if(n.test(m))return m;if(m.length>0&&!r.test(m))throw new TypeError("invalid parameter value");return'"'+m.replace(o,"\\$1")+'"'}function c(h){this.parameters=Object.create(null),this.type=h}}}),Dge=Fe({"../../node_modules/uritemplate/bin/uritemplate.js"(e,t){Ie(),function(r){var n=function(){function _(v){this.options=v}return _.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},_}(),i=function(){function _(x){return Object.prototype.toString.apply(x)==="[object Array]"}function v(x){return Object.prototype.toString.apply(x)==="[object String]"}function p(x){return Object.prototype.toString.apply(x)==="[object Number]"}function E(x){return Object.prototype.toString.apply(x)==="[object Boolean]"}function y(x,O){var P="",M=!0,U;for(U=0;U<x.length;U+=1)M?M=!1:P+=O,P+=x[U];return P}function S(x,O){for(var P=[],M=0;M<x.length;M+=1)P.push(O(x[M]));return P}function T(x,O){for(var P=[],M=0;M<x.length;M+=1)O(x[M])&&P.push(x[M]);return P}function $(x){if(typeof x!="object"||x===null)return x;Object.freeze(x);var O,P;for(P in x)x.hasOwnProperty(P)&&(O=x[P],typeof O=="object"&&d(O));return x}function d(x){return typeof Object.freeze=="function"?$(x):x}return{isArray:_,isString:v,isNumber:p,isBoolean:E,join:y,map:S,filter:T,deepFreeze:d}}(),o=function(){function _(E){return E>="a"&&E<="z"||E>="A"&&E<="Z"}function v(E){return E>="0"&&E<="9"}function p(E){return v(E)||E>="a"&&E<="f"||E>="A"&&E<="F"}return{isAlpha:_,isDigit:v,isHexDigit:p}}(),s=function(){var _={encode:function(T){return unescape(encodeURIComponent(T))},numBytes:function(T){return T<=127?1:194<=T&&T<=223?2:224<=T&&T<=239?3:240<=T&&T<=244?4:0},isValidFollowingCharCode:function(T){return 128<=T&&T<=191}};function v(T){var $="",d=_.encode(T),x,O;for(O=0;O<d.length;O+=1)x=d.charCodeAt(O),$+="%"+(x<16?"0":"")+x.toString(16).toUpperCase();return $}function p(T,$){return T.charAt($)==="%"&&o.isHexDigit(T.charAt($+1))&&o.isHexDigit(T.charAt($+2))}function E(T,$){return parseInt(T.substr($,2),16)}function y(T){if(!p(T,0))return!1;var $=E(T,1),d=_.numBytes($);if(d===0)return!1;for(var x=1;x<d;x+=1)if(!p(T,3*x)||!_.isValidFollowingCharCode(E(T,3*x+1)))return!1;return!0}function S(T,$){var d=T.charAt($);if(!p(T,$))return d;var x=E(T,$+1),O=_.numBytes(x);if(O===0)return d;for(var P=1;P<O;P+=1)if(!p(T,$+3*P)||!_.isValidFollowingCharCode(E(T,$+3*P+1)))return d;return T.substr($,3*O)}return{encodeCharacter:v,isPctEncoded:y,pctCharAt:S}}(),a=function(){function _(E){return o.isAlpha(E)||o.isDigit(E)||E==="_"||s.isPctEncoded(E)}function v(E){return o.isAlpha(E)||o.isDigit(E)||E==="-"||E==="."||E==="_"||E==="~"}function p(E){return E===":"||E==="/"||E==="?"||E==="#"||E==="["||E==="]"||E==="@"||E==="!"||E==="$"||E==="&"||E==="("||E===")"||E==="*"||E==="+"||E===","||E===";"||E==="="||E==="'"}return{isVarchar:_,isUnreserved:v,isReserved:p}}(),l=function(){function _(y,S){var T="",$,d="";for((typeof y=="number"||typeof y=="boolean")&&(y=y.toString()),$=0;$<y.length;$+=d.length)d=y.charAt($),T+=a.isUnreserved(d)||S&&a.isReserved(d)?d:s.encodeCharacter(d);return T}function v(y){return _(y,!0)}function p(y,S){var T=s.pctCharAt(y,S);return T.length>1||a.isReserved(T)||a.isUnreserved(T)?T:s.encodeCharacter(T)}function E(y){var S="",T,$="";for(T=0;T<y.length;T+=$.length)$=s.pctCharAt(y,T),$.length>1?S+=$:S+=a.isReserved($)||a.isUnreserved($)?$:s.encodeCharacter($);return S}return{encode:_,encodePassReserved:v,encodeLiteral:E,encodeLiteralCharacter:p}}(),u=function(){var _={};function v(p){_[p]={symbol:p,separator:p==="?"?"&":p===""||p==="+"||p==="#"?",":p,named:p===";"||p==="&"||p==="?",ifEmpty:p==="&"||p==="?"?"=":"",first:p==="+"?"":p,encode:p==="+"||p==="#"?l.encodePassReserved:l.encode,toString:function(){return this.symbol}}}return v(""),v("+"),v("#"),v("."),v("/"),v(";"),v("?"),v("&"),{valueOf:function(p){return _[p]?_[p]:"=,!@|".indexOf(p)>=0?null:_[""]}}}();function f(_){var v;if(_==null)return!1;if(i.isArray(_))return _.length>0;if(typeof _=="string"||typeof _=="number"||typeof _=="boolean")return!0;for(v in _)if(_.hasOwnProperty(v)&&f(_[v]))return!0;return!1}var c=function(){function _(v){this.literal=l.encodeLiteral(v)}return _.prototype.expand=function(){return this.literal},_.prototype.toString=_.prototype.expand,_}(),h=function(){function _(p){var E,y=[],S=null,T=null,$=null,d,x="";function O(){var M=p.substring(T,d);if(M.length===0)throw new n({expressionText:p,message:"a varname must be specified",position:d});S={varname:M,exploded:!1,maxLength:null},T=null}function P(){if($===d)throw new n({expressionText:p,message:"after a ':' you have to specify the length",position:d});S.maxLength=parseInt(p.substring($,d),10),$=null}for(E=function(M){var U=u.valueOf(M);if(U===null)throw new n({expressionText:p,message:"illegal use of reserved operator",position:d,operator:M});return U}(p.charAt(0)),d=E.symbol.length,T=d;d<p.length;d+=x.length){if(x=s.pctCharAt(p,d),T!==null){if(x==="."){if(T===d)throw new n({expressionText:p,message:"a varname MUST NOT start with a dot",position:d});continue}if(a.isVarchar(x))continue;O()}if($!==null){if(d===$&&x==="0")throw new n({expressionText:p,message:"A :prefix must not start with digit 0",position:d});if(o.isDigit(x)){if(d-$>=4)throw new n({expressionText:p,message:"A :prefix must have max 4 digits",position:d});continue}P()}if(x===":"){if(S.maxLength!==null)throw new n({expressionText:p,message:"only one :maxLength is allowed per varspec",position:d});if(S.exploded)throw new n({expressionText:p,message:"an exploeded varspec MUST NOT be varspeced",position:d});$=d+1;continue}if(x==="*"){if(S===null)throw new n({expressionText:p,message:"exploded without varspec",position:d});if(S.exploded)throw new n({expressionText:p,message:"exploded twice",position:d});if(S.maxLength)throw new n({expressionText:p,message:"an explode (*) MUST NOT follow to a prefix",position:d});S.exploded=!0;continue}if(x===","){y.push(S),S=null,T=d+1;continue}throw new n({expressionText:p,message:"illegal character",character:x,position:d})}return T!==null&&O(),$!==null&&P(),y.push(S),new m(p,E,y)}function v(p){var E,y,S=[],T=null,$=0;for(E=0;E<p.length;E+=1){if(y=p.charAt(E),$!==null){if(y==="}")throw new n({templateText:p,message:"unopened brace closed",position:E});y==="{"&&($<E&&S.push(new c(p.substring($,E))),$=null,T=E);continue}if(T!==null){if(y==="{")throw new n({templateText:p,message:"brace already opened",position:E});if(y==="}"){if(T+1===E)throw new n({templateText:p,message:"empty braces",position:T});try{S.push(_(p.substring(T+1,E)))}catch(d){throw d.prototype===n.prototype?new n({templateText:p,message:d.options.message,position:T+d.options.position,details:d.options}):d}T=null,$=E+1}continue}throw new Error("reached unreachable code")}if(T!==null)throw new n({templateText:p,message:"unclosed brace",position:T});return $<p.length&&S.push(new c(p.substr($))),new g(p,S)}return v}(),m=function(){function _(x){return JSON&&JSON.stringify?JSON.stringify(x):x}function v(x){if(!f(x))return!0;if(i.isString(x))return x==="";if(i.isNumber(x)||i.isBoolean(x))return!1;if(i.isArray(x))return x.length===0;for(var O in x)if(x.hasOwnProperty(O))return!1;return!0}function p(x){var O=[],P;for(P in x)x.hasOwnProperty(P)&&O.push({name:P,value:x[P]});return O}function E(x,O,P){this.templateText=x,this.operator=O,this.varspecs=P}E.prototype.toString=function(){return this.templateText};function y(x,O,P){var M="";if(P=P.toString(),O.named){if(M+=l.encodeLiteral(x.varname),P==="")return M+=O.ifEmpty,M;M+="="}return x.maxLength!==null&&(P=P.substr(0,x.maxLength)),M+=O.encode(P),M}function S(x){return f(x.value)}function T(x,O,P){var M=[],U="";if(O.named){if(U+=l.encodeLiteral(x.varname),v(P))return U+=O.ifEmpty,U;U+="="}return i.isArray(P)?(M=P,M=i.filter(M,f),M=i.map(M,O.encode),U+=i.join(M,",")):(M=p(P),M=i.filter(M,S),M=i.map(M,function(K){return O.encode(K.name)+","+O.encode(K.value)}),U+=i.join(M,",")),U}function $(x,O,P){var M=i.isArray(P),U=[];return M?(U=P,U=i.filter(U,f),U=i.map(U,function(K){var ie=l.encodeLiteral(x.varname);return v(K)?ie+=O.ifEmpty:ie+="="+O.encode(K),ie})):(U=p(P),U=i.filter(U,S),U=i.map(U,function(K){var ie=l.encodeLiteral(K.name);return v(K.value)?ie+=O.ifEmpty:ie+="="+O.encode(K.value),ie})),i.join(U,O.separator)}function d(x,O){var P=[],M="";return i.isArray(O)?(P=O,P=i.filter(P,f),P=i.map(P,x.encode),M+=i.join(P,x.separator)):(P=p(O),P=i.filter(P,function(U){return f(U.value)}),P=i.map(P,function(U){return x.encode(U.name)+"="+x.encode(U.value)}),M+=i.join(P,x.separator)),M}return E.prototype.expand=function(x){var O=[],P,M,U,K=this.operator;for(P=0;P<this.varspecs.length;P+=1)if(M=this.varspecs[P],U=x[M.varname],U!=null)if(M.exploded,i.isArray(U),typeof U=="string"||typeof U=="number"||typeof U=="boolean")O.push(y(M,K,U));else{if(M.maxLength&&f(U))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+_(U));M.exploded?f(U)&&(K.named?O.push($(M,K,U)):O.push(d(K,U))):(K.named||!v(U))&&O.push(T(M,K,U))}return O.length===0?"":K.first+i.join(O,K.separator)},E}(),g=function(){function _(v,p){this.templateText=v,this.expressions=p,i.deepFreeze(this)}return _.prototype.toString=function(){return this.templateText},_.prototype.expand=function(v){var p,E="";for(p=0;p<this.expressions.length;p+=1)E+=this.expressions[p].expand(v);return E},_.parse=h,_.UriTemplateError=n,_}();r(g)}(function(r){typeof t<"u"?t.exports=r:typeof define=="function"?define([],function(){return r}):typeof window<"u"?window.UriTemplate=r:global.UriTemplate=r})}}),eK=Fe({"../core/dist/consumed-thing.js"(e){Ie();var t=e&&e.__classPrivateFieldSet||function(G,ne,ge,re,se){if(re==="m")throw new TypeError("Private method is not writable");if(re==="a"&&!se)throw new TypeError("Private accessor was defined without a setter");if(typeof ne=="function"?G!==ne||!se:!ne.has(G))throw new TypeError("Cannot write private member to an object whose class did not declare it");return re==="a"?se.call(G,ge):se?se.value=ge:ne.set(G,ge),ge},r=e&&e.__classPrivateFieldGet||function(G,ne,ge,re){if(ge==="a"&&!re)throw new TypeError("Private accessor was defined without a getter");if(typeof ne=="function"?G!==ne||!re:!ne.has(G))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ge==="m"?re:ge==="a"?re.call(G):re?re.value:ne.get(G)},n=e&&e.__importDefault||function(G){return G&&G.__esModule?G:{default:G}},i,o,s,a,l,u,f,c;Object.defineProperty(e,"__esModule",{value:!0});var h=o0(),m=n(h0()),g=n(jge()),_=n(Ku()),v=Dge(),p=XG(),E=Ys(),{debug:y,warn:S}=(0,E.createLoggers)("core","consumed-thing"),T;(function(G){G[G.PropertyAffordance=0]="PropertyAffordance",G[G.ActionAffordance=1]="ActionAffordance",G[G.EventAffordance=2]="EventAffordance"})(T||(T={}));var $=class extends h.ThingProperty{constructor(G,ne){super(),i.set(this,void 0),o.set(this,void 0),t(this,i,G,"f"),t(this,o,ne,"f")}};i=new WeakMap,o=new WeakMap;var d=class extends h.ThingAction{constructor(G,ne){super(),s.set(this,void 0),a.set(this,void 0),t(this,s,G,"f"),t(this,a,ne,"f")}};s=new WeakMap,a=new WeakMap;var x=class extends h.ThingEvent{constructor(G,ne){super(),l.set(this,void 0),u.set(this,void 0),t(this,l,G,"f"),t(this,u,ne,"f")}};l=new WeakMap,u=new WeakMap;var O=class{constructor(G,ne,ge){this.thing=G,this.name=ne,this.client=ge,this.active=!0}};function P(G,ne,ge,re){const se=v.parse(ge.href),D=m.default.parseInteractionOptions(G,ne,re).uriVariables,z=se.expand(D??{});if(z!==ge.href){const Y={...ge};Y.href=z,ge=Y,y(`ConsumedThing '${G.title}' update form URI to ${ge.href}`)}return ge}var M=class extends O{constructor(G,ne,ge,re){var D;super(G,ne,ge),this.form=re,this.active=!1;const se=(D=this.thing.properties)==null?void 0:D[ne].forms.indexOf(re);if(se===void 0||se<0)throw new Error(`Could not find form ${re.href} in property ${ne}`);this.formIndex=se}async stop(G){await this.unobserveProperty(G),this.thing.observedProperties.delete(this.name)}async unobserveProperty(G={}){const ne=this.thing.properties[this.name];if(ne==null)throw new Error(`ConsumedThing '${this.thing.title}' does not have property ${this.name}`);G.formIndex??(G.formIndex=this.matchingUnsubscribeForm());const{form:ge}=this.thing.getClientFor(ne.forms,"unobserveproperty",T.PropertyAffordance,G);if(ge==null)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const re=P(this.thing,ne,ge,G);y(`ConsumedThing '${this.thing.title}' unobserving to ${ge.href}`),await this.client.unlinkResource(re),this.active=!1}matchingUnsubscribeForm(){const G=this.thing.properties[this.name].forms[this.formIndex];if(Array.isArray(G.op)&&G.op.includes("unobserveproperty"))return this.formIndex;const ne=this.findFormIndexWithScoring(this.formIndex,this.thing.properties[this.name].forms,"unobserveproperty");if(ne===-1)throw new Error("Could not find matching form for unsubscribe");return ne}findFormIndexWithScoring(G,ne,ge){var z;const re=ne[G];let se=0,D=-1;for(let Y=0;Y<ne.length;Y++){let N=0;const I=ne[Y];(I.op===ge||((z=I==null?void 0:I.op)==null?void 0:z.includes(ge))===!0&&Array.isArray(I.op)===!0)&&(N+=1),new URL(I.href).origin===new URL(re.href).origin&&(N+=1),I.contentType===re.contentType&&(N+=1),N>se&&(se=N,D=Y)}return D}};function U(G,ne,ge){var z;const re=ne[G];let se=0,D=-1;for(let Y=0;Y<ne.length;Y++){let N=0;const I=ne[Y];(I.op===ge||((z=I==null?void 0:I.op)==null?void 0:z.includes(ge))===!0&&Array.isArray(I.op)===!0)&&(N+=1),new URL(I.href).origin===new URL(re.href).origin&&(N+=1),I.contentType===re.contentType&&(N+=1),N>se&&(se=N,D=Y)}return D}var K=class extends O{constructor(G,ne,ge,re){var D;super(G,ne,ge),this.form=re;const se=(D=this.thing.events)==null?void 0:D[ne].forms.indexOf(re);if(se===void 0||se<0)throw new Error(`Could not find form ${re.href} in event ${ne}`);this.formIndex=se}async stop(G){await this.unsubscribeEvent(G),this.thing.subscribedEvents.delete(this.name)}async unsubscribeEvent(G={}){const ne=this.thing.events[this.name];if(ne==null)throw new Error(`ConsumedThing '${this.thing.title}' does not have event ${this.name}`);G.formIndex??(G.formIndex=this.matchingUnsubscribeForm());const{form:ge}=this.thing.getClientFor(ne.forms,"unsubscribeevent",T.EventAffordance,G);if(ge==null)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const re=P(this.thing,ne,ge,G);y(`ConsumedThing '${this.thing.title}' unsubscribing to ${ge.href}`),this.client.unlinkResource(re),this.active=!1}matchingUnsubscribeForm(){const G=this.thing.events[this.name].forms[this.formIndex];if(G.op==null||Array.isArray(G.op)&&G.op.includes("unsubscribeevent"))return this.formIndex;const ne=U(this.formIndex,this.thing.events[this.name].forms,"unsubscribeevent");if(ne===-1)throw new Error("Could not find matching form for unsubscribe");return ne}},ie=class extends h.Thing{constructor(G,ne){super(),f.set(this,void 0),c.set(this,void 0),this.subscribedEvents=new Map,this.observedProperties=new Map,t(this,f,G,"f"),t(this,c,new Map,"f"),this.properties={},this.actions={},this.events={};const ge=m.default.structuredClone(ne??{});Object.assign(this,ge),this.extendInteractions()}getThingDescription(){return JSON.parse(JSON.stringify(this))}emitEvent(G,ne){S("not implemented")}extendInteractions(){for(const[G,ne]of Object.entries(this.properties)){const ge=m.default.extend(ne,new $(G,this));this.properties[G]=ge}for(const[G,ne]of Object.entries(this.actions)){const ge=m.default.extend(ne,new d(G,this));this.actions[G]=ge}for(const[G,ne]of Object.entries(this.events)){const ge=m.default.extend(ne,new x(G,this));this.events[G]=ge}}findForm(G,ne,ge,re,se){let D;for(const z of G){let Y="";if(z.op!==void 0)Y=z.op;else switch(ge){case T.PropertyAffordance:Y=["readproperty","writeproperty"];break;case T.ActionAffordance:Y="invokeaction";break;case T.EventAffordance:Y="subscribeevent";break}if(Y.indexOf(ne)!==-1&&z.href.indexOf(re[se]+":")!==-1){D=z;break}}return D}getSecuritySchemes(G){const ne=[];for(const ge of G){const re=this.securityDefinitions[ge+""];re!=null&&ne.push(re)}return ne}ensureClientSecurity(G,ne){if(this.securityDefinitions!=null){const ge=()=>y(`ConsumedThing '${this.title}' setting credentials for ${G} based on thing security`);ne!=null&&Array.isArray(ne.security)&&ne.security.length>0?(ge(),G.setSecurity(this.getSecuritySchemes(ne.security),r(this,f,"f").retrieveCredentials(this.id))):Array.isArray(this.security)&&this.security.length>0&&(ge(),G.setSecurity(this.getSecuritySchemes(this.security),r(this,f,"f").getCredentials(this.id)))}}getClientFor(G,ne,ge,re){if(G.length===0)throw new Error(`ConsumedThing '${this.title}' has no links for this interaction`);let se,D;if((re==null?void 0:re.formIndex)!==void 0)if(y(`ConsumedThing '${this.title}' asked to use formIndex '${re.formIndex}'`),re.formIndex>=0&&re.formIndex<G.length){se=G[re.formIndex];const z=m.default.extractScheme(se.href);if(r(this,f,"f").hasClientFor(z))y(`ConsumedThing '${this.title}' got client for '${z}'`),D=r(this,f,"f").getClientFor(z),r(this,c,"f").get(z)||(this.ensureClientSecurity(D,se),r(this,c,"f").set(z,D));else throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${z}'`)}else throw new Error(`ConsumedThing '${this.title}' missing formIndex '${re.formIndex}'`);else{const z=G.map(N=>m.default.extractScheme(N.href)),Y=z.findIndex(N=>r(this,c,"f").has(N));if(Y!==-1)y(`ConsumedThing '${this.title}' chose cached client for '${z[Y]}'`),D=r(this,c,"f").get(z[Y]),se=this.findForm(G,ne,ge,z,Y);else{y(`ConsumedThing '${this.title}' has no client in cache (${Y})`);const N=z.findIndex(I=>r(this,f,"f").hasClientFor(I));if(N===-1)throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${z}'`);D=r(this,f,"f").getClientFor(z[N]),y(`ConsumedThing '${this.title}' got new client for '${z[N]}'`),r(this,c,"f").set(z[N],D),se=this.findForm(G,ne,ge,z,N),this.ensureClientSecurity(D,se)}}return{client:D,form:se}}async readProperty(G,ne){const ge=this.properties[G];if(ge==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${G}`);let{client:re,form:se}=this.getClientFor(ge.forms,"readproperty",T.PropertyAffordance,ne);if(se==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(re==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${se.href}`);y(`ConsumedThing '${this.title}' reading ${se.href}`),se=this.handleUriVariables(ge,se,ne);const D=await re.readResource(se);try{return this.handleInteractionOutput(D,se,ge,!1)}catch(z){const Y=z instanceof Error?z:new Error(JSON.stringify(z));throw new Error(`Error while processing property for ${ge.title}. ${Y.message}`)}}handleInteractionOutput(G,ne,ge,re){if(G.type??(G.type=ne.contentType??"application/json"),ne.response!=null){const se=g.default.parse(G.type),D=g.default.parse(ne.response.contentType);if(se.type!==D.type)throw new Error(`Unexpected type '${G.type}' in response. Should be '${ne.response.contentType}'`)}return new p.InteractionOutput(G,ne,ge,{ignoreValidation:re})}async _readProperties(G){const ne=[];for(const re of G)ne.push(this.readProperty(re));const ge=new Map;try{const re=await Promise.all(ne);let se=0;for(const D of G)ge.set(D,re[se]),se++;return ge}catch(re){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${G}.
 Error: ${re}`)}}readAllProperties(G){const ne=[];for(const[ge,re]of Object.entries(this.properties)){const{form:se}=this.getClientFor(re.forms,"readproperty",T.PropertyAffordance,G);se!=null&&ne.push(ge)}return this._readProperties(ne)}readMultipleProperties(G,ne){return this._readProperties(G)}async writeProperty(G,ne,ge){const re=this.properties[G];if(re==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${G}`);let{client:se,form:D}=this.getClientFor(re.forms,"writeproperty",T.PropertyAffordance,ge);if(D==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(se==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${D.href}`);y(`ConsumedThing '${this.title}' writing ${D.href} with '${ne}'`);const z=_.default.valueToContent(ne,re,D.contentType);D=this.handleUriVariables(re,D,ge),await se.writeResource(D,z)}async writeMultipleProperties(G,ne){const ge=[];for(const[re,se]of G.entries())ge.push(this.writeProperty(re,se));try{await Promise.all(ge)}catch(re){throw new Error(`ConsumedThing '${this.title}', failed to write multiple properties: ${G}
 Error: ${re}`)}}async invokeAction(G,ne,ge){const re=this.actions[G];if(re==null)throw new Error(`ConsumedThing '${this.title}' does not have action ${G}`);let{client:se,form:D}=this.getClientFor(re.forms,"invokeaction",T.ActionAffordance,ge);if(D==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(se==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${D.href}`);y(`ConsumedThing '${this.title}' invoking ${D.href}${ne!==void 0?" with '"+ne+"'":""}`);let z;ne!==void 0&&(z=_.default.valueToContent(ne,re.input,D.contentType)),D=this.handleUriVariables(re,D,ge);const Y=await se.invokeResource(D,z);try{const N=re.synchronous===void 0?!0:!re.synchronous;return this.handleInteractionOutput(Y,D,re.output,N)}catch(N){const I=N instanceof Error?N:new Error(JSON.stringify(N));throw new Error(`Error while processing action for ${re.title}. ${I.message}`)}}async observeProperty(G,ne,ge,re){const se=this.properties[G];if(se==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${G}`);const{client:D,form:z}=this.getClientFor(se.forms,"observeproperty",T.PropertyAffordance,re);if(z==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(D==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${z.href}`);if(this.observedProperties.has(G))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${G}. You can only observe once`);y(`ConsumedThing '${this.title}' observing to ${z.href}`);const Y=this.handleUriVariables(se,z,re);await D.subscribeResource(Y,I=>{try{ne(this.handleInteractionOutput(I,z,se,!1))}catch(q){const ae=q instanceof Error?q:new Error(JSON.stringify(q));S(`Error while processing observe property for ${se.title}. ${ae.message}`),S(q)}},I=>{ge==null||ge(I)},()=>{});const N=new M(this,G,D,z);return this.observedProperties.set(G,N),N}async subscribeEvent(G,ne,ge,re){const se=this.events[G];if(se==null)throw new Error(`ConsumedThing '${this.title}' does not have event ${G}`);const{client:D,form:z}=this.getClientFor(se.forms,"subscribeevent",T.EventAffordance,re);if(z==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(D==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${z.href}`);if(this.subscribedEvents.has(G))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${G}. You can only subscribe once`);y(`ConsumedThing '${this.title}' subscribing to ${z.href}`);const Y=this.handleUriVariables(se,z,re);await D.subscribeResource(Y,I=>{try{ne(this.handleInteractionOutput(I,z,se.data,!1))}catch(q){const ae=q instanceof Error?q:new Error(JSON.stringify(q));S(`Error while processing event for ${se.title}. ${ae.message}`),S(q)}},I=>{ge==null||ge(I)},()=>{});const N=new K(this,G,D,z);return this.subscribedEvents.set(G,N),N}handleUriVariables(G,ne,ge){return P(this,G,ne,ge)}};f=new WeakMap,c=new WeakMap,e.default=ie}}),Mge=Fe({"../core/dist/validation.js"(e){Ie();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.isThingDescription=n,e.getLastValidationErrors=i;var r=t(h0());function n(o){return r.default.tsSchemaValidator(o)}function i(){var s;const o=(s=r.default.tsSchemaValidator.errors)==null?void 0:s.map(a=>a.message).join(`
`);return new Error(o)}}}),Lge=Fe({"../core/dist/wot-impl.js"(e){Ie();var t=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataType=void 0;var r=G2(),n=t(ZG()),i=t(eK()),o=t(h0()),s=Ys(),a=t(Ku()),l=Mge(),u=(nT(),hn(rT)),{debug:f}=(0,s.createLoggers)("core","wot-impl"),c=class{constructor(g,_){this.directory=g,this.filter=_,this.filter=_,this.done=!1}async stop(){this.done=!0}async*[Symbol.asyncIterator](){let g;try{g=await(await this.directory.readProperty("things")).value()}catch(_){this.error=_ instanceof Error?_:new Error((0,u.inspect)(_)),this.done=!0;return}for(const _ of g){if(this.done)return;if(!(0,l.isThingDescription)(_)){this.error=(0,l.getLastValidationErrors)();continue}yield _}this.done=!0}},h=class{constructor(g){this.srv=g}async discover(g){throw new Error("not implemented")}async exploreDirectory(g,_){const v=await this.requestThingDescription(g),p=await this.consume(v);return new c(p,_)}async requestThingDescription(g){const _=o.default.extractScheme(g),p=await this.srv.getClientFor(_).requestThingDescription(g),E=a.default.contentToValue({type:p.type,body:await p.toBuffer()},{});if((0,l.isThingDescription)(E))return E;throw(0,l.getLastValidationErrors)()}async consume(g){try{const _=(0,r.parseTD)(JSON.stringify(g),!0),v=new i.default(this.srv,_);return f(`WoTImpl consuming TD ${v.id!=null?`'${v.id}'`:"without id"} to instantiate ConsumedThing '${v.title}'`),v}catch(_){throw new Error(`Cannot consume TD because ${_ instanceof Error?_.message:_}`)}}produce(g){return new Promise((_,v)=>{try{const p=o.default.validateExposedThingInit(g);if(!p.valid)throw new Error(`Thing Description JSON schema validation failed:
`+p.errors);const E=new n.default(this.srv,g);if(f(`WoTImpl producing new ExposedThing '${E.title}'`),this.srv.addThing(E))_(E);else throw new Error("Thing already exists: "+E.title)}catch(p){v(new Error(`Cannot produce ExposedThing because " + ${p instanceof Error?p.message:p}`))}})}};e.default=h;var m;(function(g){g.boolean="boolean",g.number="number",g.integer="integer",g.string="string",g.object="object",g.array="array",g.null="null"})(m||(e.DataType=m={}))}}),tK=Fe({"../../node_modules/uuid/dist/rng-browser.js"(e,t){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),n=new Uint8Array(16);function i(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)}t.exports=e.default}}),Ak=Fe({"../../node_modules/uuid/dist/bytesToUuid.js"(e,t){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=[];for(n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);var n;function i(s,a){var l=a||0,u=r;return[u[s[l++]],u[s[l++]],u[s[l++]],u[s[l++]],"-",u[s[l++]],u[s[l++]],"-",u[s[l++]],u[s[l++]],"-",u[s[l++]],u[s[l++]],"-",u[s[l++]],u[s[l++]],u[s[l++]],u[s[l++]],u[s[l++]],u[s[l++]]].join("")}var o=i;e.default=o,t.exports=e.default}}),Fge=Fe({"../../node_modules/uuid/dist/v1.js"(e,t){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(tK()),n=i(Ak());function i(c){return c&&c.__esModule?c:{default:c}}var o,s,a=0,l=0;function u(c,h,m){var g=h&&m||0,_=h||[];c=c||{};var v=c.node||o,p=c.clockseq!==void 0?c.clockseq:s;if(v==null||p==null){var E=c.random||(c.rng||r.default)();v==null&&(v=o=[E[0]|1,E[1],E[2],E[3],E[4],E[5]]),p==null&&(p=s=(E[6]<<8|E[7])&16383)}var y=c.msecs!==void 0?c.msecs:new Date().getTime(),S=c.nsecs!==void 0?c.nsecs:l+1,T=y-a+(S-l)/1e4;if(T<0&&c.clockseq===void 0&&(p=p+1&16383),(T<0||y>a)&&c.nsecs===void 0&&(S=0),S>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=y,l=S,s=p,y+=122192928e5;var $=((y&268435455)*1e4+S)%4294967296;_[g++]=$>>>24&255,_[g++]=$>>>16&255,_[g++]=$>>>8&255,_[g++]=$&255;var d=y/4294967296*1e4&268435455;_[g++]=d>>>8&255,_[g++]=d&255,_[g++]=d>>>24&15|16,_[g++]=d>>>16&255,_[g++]=p>>>8|128,_[g++]=p&255;for(var x=0;x<6;++x)_[g+x]=v[x];return h||(0,n.default)(_)}var f=u;e.default=f,t.exports=e.default}}),rK=Fe({"../../node_modules/uuid/dist/v35.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a,e.URL=e.DNS=void 0;var t=r(Ak());function r(l){return l&&l.__esModule?l:{default:l}}function n(l){var u=[];return l.replace(/[a-fA-F0-9]{2}/g,function(f){u.push(parseInt(f,16))}),u}function i(l){l=unescape(encodeURIComponent(l));for(var u=new Array(l.length),f=0;f<l.length;f++)u[f]=l.charCodeAt(f);return u}var o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";e.DNS=o;var s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";e.URL=s;function a(l,u,f){var c=function(h,m,g,_){var v=g&&_||0;if(typeof h=="string"&&(h=i(h)),typeof m=="string"&&(m=n(m)),!Array.isArray(h))throw TypeError("value must be an array of bytes");if(!Array.isArray(m)||m.length!==16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var p=f(m.concat(h));if(p[6]=p[6]&15|u,p[8]=p[8]&63|128,g)for(var E=0;E<16;++E)g[v+E]=p[E];return g||(0,t.default)(p)};try{c.name=l}catch{}return c.DNS=o,c.URL=s,c}}}),Bge=Fe({"../../node_modules/uuid/dist/md5-browser.js"(e,t){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(g){if(typeof g=="string"){var _=unescape(encodeURIComponent(g));g=new Array(_.length);for(var v=0;v<_.length;v++)g[v]=_.charCodeAt(v)}return n(i(o(g),g.length*8))}function n(g){var _,v,p=[],E=g.length*32,y="0123456789abcdef",S;for(_=0;_<E;_+=8)v=g[_>>5]>>>_%32&255,S=parseInt(y.charAt(v>>>4&15)+y.charAt(v&15),16),p.push(S);return p}function i(g,_){g[_>>5]|=128<<_%32,g[(_+64>>>9<<4)+14]=_;var v,p,E,y,S,T=1732584193,$=-271733879,d=-1732584194,x=271733878;for(v=0;v<g.length;v+=16)p=T,E=$,y=d,S=x,T=u(T,$,d,x,g[v],7,-680876936),x=u(x,T,$,d,g[v+1],12,-389564586),d=u(d,x,T,$,g[v+2],17,606105819),$=u($,d,x,T,g[v+3],22,-1044525330),T=u(T,$,d,x,g[v+4],7,-176418897),x=u(x,T,$,d,g[v+5],12,1200080426),d=u(d,x,T,$,g[v+6],17,-1473231341),$=u($,d,x,T,g[v+7],22,-45705983),T=u(T,$,d,x,g[v+8],7,1770035416),x=u(x,T,$,d,g[v+9],12,-1958414417),d=u(d,x,T,$,g[v+10],17,-42063),$=u($,d,x,T,g[v+11],22,-1990404162),T=u(T,$,d,x,g[v+12],7,1804603682),x=u(x,T,$,d,g[v+13],12,-40341101),d=u(d,x,T,$,g[v+14],17,-1502002290),$=u($,d,x,T,g[v+15],22,1236535329),T=f(T,$,d,x,g[v+1],5,-165796510),x=f(x,T,$,d,g[v+6],9,-1069501632),d=f(d,x,T,$,g[v+11],14,643717713),$=f($,d,x,T,g[v],20,-373897302),T=f(T,$,d,x,g[v+5],5,-701558691),x=f(x,T,$,d,g[v+10],9,38016083),d=f(d,x,T,$,g[v+15],14,-660478335),$=f($,d,x,T,g[v+4],20,-405537848),T=f(T,$,d,x,g[v+9],5,568446438),x=f(x,T,$,d,g[v+14],9,-1019803690),d=f(d,x,T,$,g[v+3],14,-187363961),$=f($,d,x,T,g[v+8],20,1163531501),T=f(T,$,d,x,g[v+13],5,-1444681467),x=f(x,T,$,d,g[v+2],9,-51403784),d=f(d,x,T,$,g[v+7],14,1735328473),$=f($,d,x,T,g[v+12],20,-1926607734),T=c(T,$,d,x,g[v+5],4,-378558),x=c(x,T,$,d,g[v+8],11,-2022574463),d=c(d,x,T,$,g[v+11],16,1839030562),$=c($,d,x,T,g[v+14],23,-35309556),T=c(T,$,d,x,g[v+1],4,-1530992060),x=c(x,T,$,d,g[v+4],11,1272893353),d=c(d,x,T,$,g[v+7],16,-155497632),$=c($,d,x,T,g[v+10],23,-1094730640),T=c(T,$,d,x,g[v+13],4,681279174),x=c(x,T,$,d,g[v],11,-358537222),d=c(d,x,T,$,g[v+3],16,-722521979),$=c($,d,x,T,g[v+6],23,76029189),T=c(T,$,d,x,g[v+9],4,-640364487),x=c(x,T,$,d,g[v+12],11,-421815835),d=c(d,x,T,$,g[v+15],16,530742520),$=c($,d,x,T,g[v+2],23,-995338651),T=h(T,$,d,x,g[v],6,-198630844),x=h(x,T,$,d,g[v+7],10,1126891415),d=h(d,x,T,$,g[v+14],15,-1416354905),$=h($,d,x,T,g[v+5],21,-57434055),T=h(T,$,d,x,g[v+12],6,1700485571),x=h(x,T,$,d,g[v+3],10,-1894986606),d=h(d,x,T,$,g[v+10],15,-1051523),$=h($,d,x,T,g[v+1],21,-2054922799),T=h(T,$,d,x,g[v+8],6,1873313359),x=h(x,T,$,d,g[v+15],10,-30611744),d=h(d,x,T,$,g[v+6],15,-1560198380),$=h($,d,x,T,g[v+13],21,1309151649),T=h(T,$,d,x,g[v+4],6,-145523070),x=h(x,T,$,d,g[v+11],10,-1120210379),d=h(d,x,T,$,g[v+2],15,718787259),$=h($,d,x,T,g[v+9],21,-343485551),T=s(T,p),$=s($,E),d=s(d,y),x=s(x,S);return[T,$,d,x]}function o(g){var _,v=[];for(v[(g.length>>2)-1]=void 0,_=0;_<v.length;_+=1)v[_]=0;var p=g.length*8;for(_=0;_<p;_+=8)v[_>>5]|=(g[_/8]&255)<<_%32;return v}function s(g,_){var v=(g&65535)+(_&65535),p=(g>>16)+(_>>16)+(v>>16);return p<<16|v&65535}function a(g,_){return g<<_|g>>>32-_}function l(g,_,v,p,E,y){return s(a(s(s(_,g),s(p,y)),E),v)}function u(g,_,v,p,E,y,S){return l(_&v|~_&p,g,_,E,y,S)}function f(g,_,v,p,E,y,S){return l(_&p|v&~p,g,_,E,y,S)}function c(g,_,v,p,E,y,S){return l(_^v^p,g,_,E,y,S)}function h(g,_,v,p,E,y,S){return l(v^(_|~p),g,_,E,y,S)}var m=r;e.default=m,t.exports=e.default}}),Uge=Fe({"../../node_modules/uuid/dist/v3.js"(e,t){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(rK()),n=i(Bge());function i(a){return a&&a.__esModule?a:{default:a}}var o=(0,r.default)("v3",48,n.default),s=o;e.default=s,t.exports=e.default}}),zge=Fe({"../../node_modules/uuid/dist/v4.js"(e,t){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(tK()),n=i(Ak());function i(a){return a&&a.__esModule?a:{default:a}}function o(a,l,u){var f=l&&u||0;typeof a=="string"&&(l=a==="binary"?new Array(16):null,a=null),a=a||{};var c=a.random||(a.rng||r.default)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,l)for(var h=0;h<16;++h)l[f+h]=c[h];return l||(0,n.default)(c)}var s=o;e.default=s,t.exports=e.default}}),qge=Fe({"../../node_modules/uuid/dist/sha1-browser.js"(e,t){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(s,a,l,u){switch(s){case 0:return a&l^~a&u;case 1:return a^l^u;case 2:return a&l^a&u^l&u;case 3:return a^l^u}}function n(s,a){return s<<a|s>>>32-a}function i(s){var a=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){var u=unescape(encodeURIComponent(s));s=new Array(u.length);for(var f=0;f<u.length;f++)s[f]=u.charCodeAt(f)}s.push(128);for(var c=s.length/4+2,h=Math.ceil(c/16),m=new Array(h),f=0;f<h;f++){m[f]=new Array(16);for(var g=0;g<16;g++)m[f][g]=s[f*64+g*4]<<24|s[f*64+g*4+1]<<16|s[f*64+g*4+2]<<8|s[f*64+g*4+3]}m[h-1][14]=(s.length-1)*8/Math.pow(2,32),m[h-1][14]=Math.floor(m[h-1][14]),m[h-1][15]=(s.length-1)*8&4294967295;for(var f=0;f<h;f++){for(var _=new Array(80),v=0;v<16;v++)_[v]=m[f][v];for(var v=16;v<80;v++)_[v]=n(_[v-3]^_[v-8]^_[v-14]^_[v-16],1);for(var p=l[0],E=l[1],y=l[2],S=l[3],T=l[4],v=0;v<80;v++){var $=Math.floor(v/20),d=n(p,5)+r($,E,y,S)+T+a[$]+_[v]>>>0;T=S,S=y,y=n(E,30)>>>0,E=p,p=d}l[0]=l[0]+p>>>0,l[1]=l[1]+E>>>0,l[2]=l[2]+y>>>0,l[3]=l[3]+S>>>0,l[4]=l[4]+T>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,l[0]&255,l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,l[1]&255,l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,l[2]&255,l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,l[3]&255,l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,l[4]&255]}var o=i;e.default=o,t.exports=e.default}}),Vge=Fe({"../../node_modules/uuid/dist/v5.js"(e,t){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(rK()),n=i(qge());function i(a){return a&&a.__esModule?a:{default:a}}var o=(0,r.default)("v5",80,n.default),s=o;e.default=s,t.exports=e.default}}),Hge=Fe({"../../node_modules/uuid/dist/index.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return i.default}});var t=o(Fge()),r=o(Uge()),n=o(zge()),i=o(Vge());function o(s){return s&&s.__esModule?s:{default:s}}}}),Wge=Fe({"../core/dist/servient.js"(e){Ie();var t=e&&e.__classPrivateFieldGet||function(g,_,v,p){if(v==="a"&&!p)throw new TypeError("Private accessor was defined without a getter");if(typeof _=="function"?g!==_||!p:!_.has(g))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?p:v==="a"?p.call(g):p?p.value:_.get(g)},r=e&&e.__classPrivateFieldSet||function(g,_,v,p,E){if(p==="m")throw new TypeError("Private method is not writable");if(p==="a"&&!E)throw new TypeError("Private accessor was defined without a setter");if(typeof _=="function"?g!==_||!E:!_.has(g))throw new TypeError("Cannot write private member to an object whose class did not declare it");return p==="a"?E.call(g,v):E?E.value=v:_.set(g,v),v},n=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}},i,o;Object.defineProperty(e,"__esModule",{value:!0});var s=n(Lge()),a=n(Ku()),l=Hge(),u=Ys(),f=Qs(),{debug:c,warn:h}=(0,u.createLoggers)("core","servient"),m=class{constructor(){this.servers=[],this.clientFactories=new Map,this.things=new Map,this.credentialStore=new Map,i.set(this,void 0),o.set(this,!1)}addMediaType(g,_=!1){a.default.addCodec(g,_)}expose(g){if(this.servers.length===0)return h("Servient has no servers to expose Things"),new Promise(p=>{p()});c(`Servient exposing '${g.title}'`);const _=f.Helpers.structuredClone(g);g.forms=[];for(const p of Object.values(g.properties))p.forms=[];for(const p of Object.values(g.actions))p.forms=[];for(const p of Object.values(g.events))p.forms=[];const v=[];return this.servers.forEach(p=>{v.push(p.expose(g,_))}),new Promise((p,E)=>{Promise.all(v).then(()=>p()).catch(y=>E(y))})}addThing(g){return g.id||(g.id="urn:uuid:"+(0,l.v4)(),h(`Servient generating ID for '${g.title}': '${g.id}'`)),this.things.has(g.id)?!1:(this.things.set(g.id,g),c(`Servient reset ID '${g.id}' with '${g.title}'`),!0)}destroyThing(g){return new Promise((_,v)=>{if(this.things.has(g)){c(`Servient destroying thing with id '${g}'`),this.things.delete(g);const p=[];this.servers.forEach(E=>{p.push(E.destroy(g))}),Promise.all(p).then(()=>_(!0)).catch(E=>v(E))}else h(`Servient was asked to destroy thing but failed to find thing with id '${g}'`),_(!1)})}getThing(g){if(this.things.has(g))return this.things.get(g)}getThings(){c(`Servient getThings size == '${this.things.size}'`);const g={};return this.things.forEach((_,v)=>{g[v]=_.getThingDescription()}),g}addServer(g){return this.things.forEach((_,v)=>g.expose(_)),this.servers.push(g),!0}getServers(){return this.servers.slice(0)}addClientFactory(g){c(`Servient adding client factory for '${g.scheme}'`),this.clientFactories.set(g.scheme,g)}removeClientFactory(g){var _;return c(`Servient removing client factory for '${g}'`),(_=this.clientFactories.get(g))==null||_.destroy(),this.clientFactories.delete(g)}hasClientFor(g){return c(`Servient checking for '${g}' scheme in ${this.clientFactories.size} ClientFactories`),this.clientFactories.has(g)}getClientFor(g){const _=this.clientFactories.get(g);if(_)return c(`Servient creating client for scheme '${g}'`),_.getClient();throw new Error(`Servient has no ClientFactory for scheme '${g}'`)}getClientSchemes(){return Array.from(this.clientFactories.keys())}addCredentials(g){for(const[_,v]of Object.entries(g??{})){c(`Servient storing credentials for '${_}'`);const p=this.credentialStore.get(_)??[];p.length===0&&this.credentialStore.set(_,p),p.push(v)}}getCredentials(g){c(`Servient looking up credentials for '${g}' (@deprecated)`);const _=this.credentialStore.get(g);if(_&&_.length>0)return _[0]}retrieveCredentials(g){return c(`Servient looking up credentials for '${g}'`),this.credentialStore.get(g)}async start(){if(t(this,i,"f")!==void 0)return c("Servient started already -> nop -> returning previous WoT implementation"),t(this,i,"f");if(t(this,o,"f"))throw Error("Servient cannot be started (again) since it was already stopped");const g=[];return this.servers.forEach(_=>g.push(_.start(this))),this.clientFactories.forEach(_=>_.init()),await Promise.all(g),r(this,i,new s.default(this),"f")}async shutdown(){if(t(this,i,"f")===void 0)throw Error("Servient cannot be shutdown, wasn't even started");if(t(this,o,"f")){c("Servient shutdown already -> nop");return}this.clientFactories.forEach(_=>_.destroy());const g=this.servers.map(_=>_.stop());await Promise.all(g),r(this,o,!0,"f"),r(this,i,void 0,"f")}};i=new WeakMap,o=new WeakMap,e.default=m}}),Qs=Fe({"../core/dist/core.js"(e){Ie();var t=e&&e.__createBinding||(Object.create?function(v,p,E,y){y===void 0&&(y=E);var S=Object.getOwnPropertyDescriptor(p,E);(!S||("get"in S?!p.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return p[E]}}),Object.defineProperty(v,y,S)}:function(v,p,E,y){y===void 0&&(y=E),v[y]=p[E]}),r=e&&e.__exportStar||function(v,p){for(var E in v)E!=="default"&&!Object.prototype.hasOwnProperty.call(p,E)&&t(p,v,E)},n=e&&e.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.createWarnLogger=e.createInfoLogger=e.createErrorLogger=e.createDebugLogger=e.createLoggers=e.ProtocolHelpers=e.Helpers=e.ExposedThing=e.ConsumedThing=e.DefaultContent=e.Content=e.NetconfOctetstreamCodecCodec=e.Base64Codec=e.TextCodec=e.CborCodec=e.JsonCodec=e.Servient=void 0;var i=n(Wge());e.Servient=i.default,e.default=i.default,r(o0(),e),r(G2(),e),r(Ku(),e);var o=PG();Object.defineProperty(e,"JsonCodec",{enumerable:!0,get:function(){return n(o).default}});var s=OG();Object.defineProperty(e,"CborCodec",{enumerable:!0,get:function(){return n(s).default}});var a=RG();Object.defineProperty(e,"TextCodec",{enumerable:!0,get:function(){return n(a).default}});var l=NG();Object.defineProperty(e,"Base64Codec",{enumerable:!0,get:function(){return n(l).default}});var u=jG();Object.defineProperty(e,"NetconfOctetstreamCodecCodec",{enumerable:!0,get:function(){return n(u).default}}),r(kG(),e);var f=SG();Object.defineProperty(e,"Content",{enumerable:!0,get:function(){return f.Content}}),Object.defineProperty(e,"DefaultContent",{enumerable:!0,get:function(){return f.DefaultContent}});var c=eK();Object.defineProperty(e,"ConsumedThing",{enumerable:!0,get:function(){return n(c).default}});var h=ZG();Object.defineProperty(e,"ExposedThing",{enumerable:!0,get:function(){return n(h).default}});var m=h0();Object.defineProperty(e,"Helpers",{enumerable:!0,get:function(){return n(m).default}});var g=vk();Object.defineProperty(e,"ProtocolHelpers",{enumerable:!0,get:function(){return n(g).default}});var _=Ys();Object.defineProperty(e,"createLoggers",{enumerable:!0,get:function(){return _.createLoggers}}),Object.defineProperty(e,"createDebugLogger",{enumerable:!0,get:function(){return _.createDebugLogger}}),Object.defineProperty(e,"createErrorLogger",{enumerable:!0,get:function(){return _.createErrorLogger}}),Object.defineProperty(e,"createInfoLogger",{enumerable:!0,get:function(){return _.createInfoLogger}}),Object.defineProperty(e,"createWarnLogger",{enumerable:!0,get:function(){return _.createWarnLogger}})}});/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-B738Er4n.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

web-streams-polyfill/dist/ponyfill.js:
  (**
   * @license
   * web-streams-polyfill v4.1.0
   * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

content-type/index.js:
  (*!
   * content-type
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/var Ok=Fe({"../../node_modules/node-fetch/browser.js"(e,t){Ie();var r=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},n=r();t.exports=e=n.fetch,n.fetch&&(e.default=n.fetch.bind(n)),e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response}}),Gge=Fe({"../../node_modules/rxjs/util/isArray.js"(e){Ie(),e.isArray=Array.isArray||function(t){return t&&typeof t.length=="number"}}}),Kge=Fe({"../../node_modules/rxjs/util/isObject.js"(e){Ie();function t(r){return r!=null&&typeof r=="object"}e.isObject=t}}),Jge=Fe({"../../node_modules/rxjs/util/isFunction.js"(e){Ie();function t(r){return typeof r=="function"}e.isFunction=t}}),nK=Fe({"../../node_modules/rxjs/util/errorObject.js"(e){Ie(),e.errorObject={e:{}}}}),Yge=Fe({"../../node_modules/rxjs/util/tryCatch.js"(e){Ie();var t=nK(),r;function n(){try{return r.apply(this,arguments)}catch(o){return t.errorObject.e=o,t.errorObject}}function i(o){return r=o,n}e.tryCatch=i}}),Xge=Fe({"../../node_modules/rxjs/util/UnsubscriptionError.js"(e){Ie();var t=e&&e.__extends||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o]);function s(){this.constructor=n}n.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)},r=function(n){t(i,n);function i(o){n.call(this),this.errors=o;var s=Error.call(this,o?o.length+` errors occurred during unsubscription:
  `+o.map(function(a,l){return l+1+") "+a.toString()}).join(`
  `):"");this.name=s.name="UnsubscriptionError",this.stack=s.stack,this.message=s.message}return i}(Error);e.UnsubscriptionError=r}}),Qge=Fe({"../../node_modules/rxjs/Subscription.js"(e){Ie();var t=Gge(),r=Kge(),n=Jge(),i=Yge(),o=nK(),s=Xge(),a=function(){function u(f){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,f&&(this._unsubscribe=f)}return u.prototype.unsubscribe=function(){var f=!1,c;if(!this.closed){var h=this,m=h._parent,g=h._parents,_=h._unsubscribe,v=h._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,E=g?g.length:0;m;)m.remove(this),m=++p<E&&g[p]||null;if(n.isFunction(_)){var y=i.tryCatch(_).call(this);y===o.errorObject&&(f=!0,c=c||(o.errorObject.e instanceof s.UnsubscriptionError?l(o.errorObject.e.errors):[o.errorObject.e]))}if(t.isArray(v))for(p=-1,E=v.length;++p<E;){var S=v[p];if(r.isObject(S)){var y=i.tryCatch(S.unsubscribe).call(S);if(y===o.errorObject){f=!0,c=c||[];var T=o.errorObject.e;T instanceof s.UnsubscriptionError?c=c.concat(l(T.errors)):c.push(T)}}}if(f)throw new s.UnsubscriptionError(c)}},u.prototype.add=function(f){if(!f||f===u.EMPTY)return u.EMPTY;if(f===this)return this;var c=f;switch(typeof f){case"function":c=new u(f);case"object":if(c.closed||typeof c.unsubscribe!="function")return c;if(this.closed)return c.unsubscribe(),c;if(typeof c._addParent!="function"){var h=c;c=new u,c._subscriptions=[h]}break;default:throw new Error("unrecognized teardown "+f+" added to Subscription.")}var m=this._subscriptions||(this._subscriptions=[]);return m.push(c),c._addParent(this),c},u.prototype.remove=function(f){var c=this._subscriptions;if(c){var h=c.indexOf(f);h!==-1&&c.splice(h,1)}},u.prototype._addParent=function(f){var c=this,h=c._parent,m=c._parents;!h||h===f?this._parent=f:m?m.indexOf(f)===-1&&m.push(f):this._parents=[f]},u.EMPTY=function(f){return f.closed=!0,f}(new u),u}();e.Subscription=a;function l(u){return u.reduce(function(f,c){return f.concat(c instanceof s.UnsubscriptionError?c.errors:c)},[])}}}),Zge=Fe({"(disabled):../../node_modules/client-oauth2/node_modules/safe-buffer/index.js"(){Ie()}}),iK={};Gu(iK,{decode:()=>oK,default:()=>Tu,encode:()=>sK,parse:()=>aK,stringify:()=>lK});function eve(){if(aI)return SE;aI=!0;function e(t,r){return Object.prototype.hasOwnProperty.call(t,r)}return SE=function(t,r,n,i){r=r||"&",n=n||"=";var o={};if(typeof t!="string"||t.length===0)return o;var s=/\+/g;t=t.split(r);var a=1e3;i&&typeof i.maxKeys=="number"&&(a=i.maxKeys);var l=t.length;a>0&&l>a&&(l=a);for(var u=0;u<l;++u){var f=t[u].replace(s,"%20"),c=f.indexOf(n),h,m,g,_;c>=0?(h=f.substr(0,c),m=f.substr(c+1)):(h=f,m=""),g=decodeURIComponent(h),_=decodeURIComponent(m),e(o,g)?Array.isArray(o[g])?o[g].push(_):o[g]=[o[g],_]:o[g]=_}return o},SE}function tve(){if(lI)return TE;lI=!0;var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};return TE=function(t,r,n,i){return r=r||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(o){var s=encodeURIComponent(e(o))+n;return Array.isArray(t[o])?t[o].map(function(a){return s+encodeURIComponent(e(a))}).join(r):s+encodeURIComponent(e(t[o]))}).filter(Boolean).join(r):i?encodeURIComponent(e(i))+n+encodeURIComponent(e(t)):""},TE}function rve(){return uI||(uI=!0,ah.decode=ah.parse=eve(),ah.encode=ah.stringify=tve()),ah}var SE,aI,TE,lI,ah,uI,Tu,oK,sK,aK,lK,nve=Vn({"../../node_modules/@jspm/core/nodelibs/browser/querystring.js"(){Ie(),SE={},aI=!1,TE={},lI=!1,ah={},uI=!1,Tu=rve(),Tu.decode,Tu.parse,Tu.encode,Tu.stringify,oK=Tu.decode,sK=Tu.encode,aK=Tu.parse,lK=Tu.stringify}}),ive=Fe({"../../node_modules/client-oauth2/src/request/browser.js"(e,t){Ie(),t.exports=function(n,i,o,s){return new Promise(function(a,l){var u=new window.XMLHttpRequest;u.open(n,i),u.onload=function(){return a({status:u.status,body:u.responseText})},u.onerror=u.onabort=function(){return l(new Error(u.statusText||"XHR aborted: "+i))},Object.keys(s).forEach(function(f){u.setRequestHeader(f,s[f])}),u.send(o)})}}}),ove=Fe({"../../node_modules/client-oauth2/src/client-oauth2.js"(e,t){Ie();var r=Zge().Buffer,n=(nve(),hn(iK)),i=ive(),o="https://example.org/",s;typeof r=="function"?s=u:s=window.btoa.bind(window),t.exports=E;var a={Accept:"application/json, application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},l={invalid_request:["The request is missing a required parameter, includes an","invalid parameter value, includes a parameter more than","once, or is otherwise malformed."].join(" "),invalid_client:["Client authentication failed (e.g., unknown client, no","client authentication included, or unsupported","authentication method)."].join(" "),invalid_grant:["The provided authorization grant (e.g., authorization","code, resource owner credentials) or refresh token is","invalid, expired, revoked, does not match the redirection","URI used in the authorization request, or was issued to","another client."].join(" "),unauthorized_client:["The client is not authorized to request an authorization","code using this method."].join(" "),unsupported_grant_type:["The authorization grant type is not supported by the","authorization server."].join(" "),access_denied:["The resource owner or authorization server denied the request."].join(" "),unsupported_response_type:["The authorization server does not support obtaining","an authorization code using this method."].join(" "),invalid_scope:["The requested scope is invalid, unknown, or malformed."].join(" "),server_error:["The authorization server encountered an unexpected","condition that prevented it from fulfilling the request.","(This error code is needed because a 500 Internal Server","Error HTTP status code cannot be returned to the client","via an HTTP redirect.)"].join(" "),temporarily_unavailable:["The authorization server is currently unable to handle","the request due to a temporary overloading or maintenance","of the server."].join(" ")};function u(O){return r.from(O).toString("base64")}function f(O){for(var P=1;P<arguments.length;P++){var M=arguments[P];if(O[M]==null)throw new TypeError('Expected "'+M+'" to exist')}}function c(O){var P=l[O.error]||O.error_description||O.error;if(P){var M=new Error(P);return M.body=O,M.code="EAUTH",M}}function h(O){try{return JSON.parse(O)}catch{return n.parse(O)}}function m(O){return Array.isArray(O)?O.join(" "):v(O)}function g(O,P){f(O,"clientId","authorizationUri");const M={client_id:O.clientId,redirect_uri:O.redirectUri,response_type:P,state:O.state};O.scopes!==void 0&&(M.scope=m(O.scopes));const U=O.authorizationUri.includes("?")?"&":"?";return O.authorizationUri+U+n.stringify(Object.assign(M,O.query))}function _(O,P){return"Basic "+s(v(O)+":"+v(P))}function v(O){return O==null?"":String(O)}function p(O,P){return{url:O.url,method:O.method,body:Object.assign({},O.body,P.body),query:Object.assign({},O.query,P.query),headers:Object.assign({},O.headers,P.headers)}}function E(O,P){this.options=O,this.request=P||i,this.code=new d(this),this.token=new T(this),this.owner=new S(this),this.credentials=new $(this),this.jwt=new x(this)}E.Token=y,E.prototype.createToken=function(O,P,M,U){var K=Object.assign({},U,typeof O=="string"?{access_token:O}:O,typeof P=="string"?{refresh_token:P}:P,typeof M=="string"?{token_type:M}:M);return new E.Token(this,K)},E.prototype._request=function(O){var P=O.url,M=n.stringify(O.body),U=n.stringify(O.query);return U&&(P+=(P.indexOf("?")===-1?"?":"&")+U),this.request(O.method,P,M,O.headers).then(function(K){var ie=h(K.body),G=c(ie);if(G)return Promise.reject(G);if(K.status<200||K.status>=399){var ne=new Error("HTTP status "+K.status);return ne.status=K.status,ne.body=K.body,ne.code="ESTATUS",Promise.reject(ne)}return ie})};function y(O,P){this.client=O,this.data=P,this.tokenType=P.token_type&&P.token_type.toLowerCase(),this.accessToken=P.access_token,this.refreshToken=P.refresh_token,this.expiresIn(Number(P.expires_in))}y.prototype.expiresIn=function(O){if(typeof O=="number")this.expires=new Date,this.expires.setSeconds(this.expires.getSeconds()+O);else if(O instanceof Date)this.expires=new Date(O.getTime());else throw new TypeError("Unknown duration: "+O);return this.expires},y.prototype.sign=function(O){if(!this.accessToken)throw new Error("Unable to sign without access token");if(O.headers=O.headers||{},this.tokenType==="bearer")O.headers.Authorization="Bearer "+this.accessToken;else{var P=O.url.split("#"),M="access_token="+this.accessToken,U=P[0].replace(/[?&]access_token=[^&#]/,""),K=P[1]?"#"+P[1]:"";O.url=U+(U.indexOf("?")>-1?"&":"?")+M+K,O.headers.Pragma="no-store",O.headers["Cache-Control"]="no-store"}return O},y.prototype.refresh=function(O){var P=this,M=Object.assign({},this.client.options,O);return this.refreshToken?this.client._request(p({url:M.accessTokenUri,method:"POST",headers:Object.assign({},a,{Authorization:_(M.clientId,M.clientSecret)}),body:{refresh_token:this.refreshToken,grant_type:"refresh_token"}},M)).then(function(U){return P.client.createToken(Object.assign({},P.data,U))}):Promise.reject(new Error("No refresh token"))},y.prototype.expired=function(){return Date.now()>this.expires.getTime()};function S(O){this.client=O}S.prototype.getToken=function(O,P,M){var U=this,K=Object.assign({},this.client.options,M);const ie={username:O,password:P,grant_type:"password"};return K.scopes!==void 0&&(ie.scope=m(K.scopes)),this.client._request(p({url:K.accessTokenUri,method:"POST",headers:Object.assign({},a,{Authorization:_(K.clientId,K.clientSecret)}),body:ie},K)).then(function(G){return U.client.createToken(G)})};function T(O){this.client=O}T.prototype.getUri=function(O){var P=Object.assign({},this.client.options,O);return g(P,"token")},T.prototype.getToken=function(O,P){var M=Object.assign({},this.client.options,P),U=typeof O=="object"?O:new URL(O,o),K=new URL(M.redirectUri,o);if(typeof U.pathname=="string"&&U.pathname!==K.pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+U.pathname));if(!U.hash&&!U.search)return Promise.reject(new TypeError("Unable to process uri: "+O));var ie=Object.assign({},typeof U.search=="string"?n.parse(U.search.substr(1)):U.search||{},typeof U.hash=="string"?n.parse(U.hash.substr(1)):U.hash||{}),G=c(ie);return G?Promise.reject(G):M.state!=null&&ie.state!==M.state?Promise.reject(new TypeError("Invalid state: "+ie.state)):Promise.resolve(this.client.createToken(ie))};function $(O){this.client=O}$.prototype.getToken=function(O){var P=this,M=Object.assign({},this.client.options,O);f(M,"clientId","clientSecret","accessTokenUri");const U={grant_type:"client_credentials"};return M.scopes!==void 0&&(U.scope=m(M.scopes)),this.client._request(p({url:M.accessTokenUri,method:"POST",headers:Object.assign({},a,{Authorization:_(M.clientId,M.clientSecret)}),body:U},M)).then(function(K){return P.client.createToken(K)})};function d(O){this.client=O}d.prototype.getUri=function(O){var P=Object.assign({},this.client.options,O);return g(P,"code")},d.prototype.getToken=function(O,P){var M=this,U=Object.assign({},this.client.options,P);f(U,"clientId","accessTokenUri");var K=typeof O=="object"?O:new URL(O,o);if(typeof U.redirectUri=="string"&&typeof K.pathname=="string"&&K.pathname!==new URL(U.redirectUri,o).pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+K.pathname));if(!K.search||!K.search.substr(1))return Promise.reject(new TypeError("Unable to process uri: "+O));var ie=typeof K.search=="string"?n.parse(K.search.substr(1)):K.search||{},G=c(ie);if(G)return Promise.reject(G);if(U.state!=null&&ie.state!==U.state)return Promise.reject(new TypeError("Invalid state: "+ie.state));if(!ie.code)return Promise.reject(new TypeError("Missing code, unable to request token"));var ne=Object.assign({},a),ge={code:ie.code,grant_type:"authorization_code",redirect_uri:U.redirectUri};return U.clientSecret?ne.Authorization=_(U.clientId,U.clientSecret):ge.client_id=U.clientId,this.client._request(p({url:U.accessTokenUri,method:"POST",headers:ne,body:ge},U)).then(function(re){return M.client.createToken(re)})};function x(O){this.client=O}x.prototype.getToken=function(O,P){var M=this,U=Object.assign({},this.client.options,P),K=Object.assign({},a);f(U,"accessTokenUri"),U.clientId&&(K.Authorization=_(U.clientId,U.clientSecret));const ie={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:O};return U.scopes!==void 0&&(ie.scope=m(U.scopes)),this.client._request(p({url:U.accessTokenUri,method:"POST",headers:K,body:ie},U)).then(function(G){return M.client.createToken(G)})}}}),sve=Fe({"../../node_modules/strict-uri-encode/index.js"(e,t){Ie(),t.exports=r=>encodeURIComponent(r).replace(/[!'()*]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`)}}),ave=Fe({"../../node_modules/decode-uri-component/index.js"(e,t){Ie();var r="%[a-f0-9]{2}",n=new RegExp("("+r+")|([^%]+?)","gi"),i=new RegExp("("+r+")+","gi");function o(l,u){try{return[decodeURIComponent(l.join(""))]}catch{}if(l.length===1)return l;u=u||1;var f=l.slice(0,u),c=l.slice(u);return Array.prototype.concat.call([],o(f),o(c))}function s(l){try{return decodeURIComponent(l)}catch{for(var u=l.match(n)||[],f=1;f<u.length;f++)l=o(u,f).join(""),u=l.match(n)||[];return l}}function a(l){for(var u={"%FE%FF":"��","%FF%FE":"��"},f=i.exec(l);f;){try{u[f[0]]=decodeURIComponent(f[0])}catch{var c=s(f[0]);c!==f[0]&&(u[f[0]]=c)}f=i.exec(l)}u["%C2"]="�";for(var h=Object.keys(u),m=0;m<h.length;m++){var g=h[m];l=l.replace(new RegExp(g,"g"),u[g])}return l}t.exports=function(l){if(typeof l!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof l+"`");try{return l=l.replace(/\+/g," "),decodeURIComponent(l)}catch{return a(l)}}}}),lve=Fe({"../../node_modules/split-on-first/index.js"(e,t){Ie(),t.exports=(r,n)=>{if(!(typeof r=="string"&&typeof n=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(n==="")return[r];const i=r.indexOf(n);return i===-1?[r]:[r.slice(0,i),r.slice(i+n.length)]}}}),uve=Fe({"../../node_modules/filter-obj/index.js"(e,t){Ie(),t.exports=function(r,n){for(var i={},o=Object.keys(r),s=Array.isArray(n),a=0;a<o.length;a++){var l=o[a],u=r[l];(s?n.indexOf(l)!==-1:n(l,u,r))&&(i[l]=u)}return i}}}),cve=Fe({"../../node_modules/query-string/index.js"(e){Ie();var t=sve(),r=ave(),n=lve(),i=uve(),o=E=>E==null,s=Symbol("encodeFragmentIdentifier");function a(E){switch(E.arrayFormat){case"index":return y=>(S,T)=>{const $=S.length;return T===void 0||E.skipNull&&T===null||E.skipEmptyString&&T===""?S:T===null?[...S,[f(y,E),"[",$,"]"].join("")]:[...S,[f(y,E),"[",f($,E),"]=",f(T,E)].join("")]};case"bracket":return y=>(S,T)=>T===void 0||E.skipNull&&T===null||E.skipEmptyString&&T===""?S:T===null?[...S,[f(y,E),"[]"].join("")]:[...S,[f(y,E),"[]=",f(T,E)].join("")];case"colon-list-separator":return y=>(S,T)=>T===void 0||E.skipNull&&T===null||E.skipEmptyString&&T===""?S:T===null?[...S,[f(y,E),":list="].join("")]:[...S,[f(y,E),":list=",f(T,E)].join("")];case"comma":case"separator":case"bracket-separator":{const y=E.arrayFormat==="bracket-separator"?"[]=":"=";return S=>(T,$)=>$===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?T:($=$===null?"":$,T.length===0?[[f(S,E),y,f($,E)].join("")]:[[T,f($,E)].join(E.arrayFormatSeparator)])}default:return y=>(S,T)=>T===void 0||E.skipNull&&T===null||E.skipEmptyString&&T===""?S:T===null?[...S,f(y,E)]:[...S,[f(y,E),"=",f(T,E)].join("")]}}function l(E){let y;switch(E.arrayFormat){case"index":return(S,T,$)=>{if(y=/\[(\d*)\]$/.exec(S),S=S.replace(/\[\d*\]$/,""),!y){$[S]=T;return}$[S]===void 0&&($[S]={}),$[S][y[1]]=T};case"bracket":return(S,T,$)=>{if(y=/(\[\])$/.exec(S),S=S.replace(/\[\]$/,""),!y){$[S]=T;return}if($[S]===void 0){$[S]=[T];return}$[S]=[].concat($[S],T)};case"colon-list-separator":return(S,T,$)=>{if(y=/(:list)$/.exec(S),S=S.replace(/:list$/,""),!y){$[S]=T;return}if($[S]===void 0){$[S]=[T];return}$[S]=[].concat($[S],T)};case"comma":case"separator":return(S,T,$)=>{const d=typeof T=="string"&&T.includes(E.arrayFormatSeparator),x=typeof T=="string"&&!d&&c(T,E).includes(E.arrayFormatSeparator);T=x?c(T,E):T;const O=d||x?T.split(E.arrayFormatSeparator).map(P=>c(P,E)):T===null?T:c(T,E);$[S]=O};case"bracket-separator":return(S,T,$)=>{const d=/(\[\])$/.test(S);if(S=S.replace(/\[\]$/,""),!d){$[S]=T&&c(T,E);return}const x=T===null?[]:T.split(E.arrayFormatSeparator).map(O=>c(O,E));if($[S]===void 0){$[S]=x;return}$[S]=[].concat($[S],x)};default:return(S,T,$)=>{if($[S]===void 0){$[S]=T;return}$[S]=[].concat($[S],T)}}}function u(E){if(typeof E!="string"||E.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function f(E,y){return y.encode?y.strict?t(E):encodeURIComponent(E):E}function c(E,y){return y.decode?r(E):E}function h(E){return Array.isArray(E)?E.sort():typeof E=="object"?h(Object.keys(E)).sort((y,S)=>Number(y)-Number(S)).map(y=>E[y]):E}function m(E){const y=E.indexOf("#");return y!==-1&&(E=E.slice(0,y)),E}function g(E){let y="";const S=E.indexOf("#");return S!==-1&&(y=E.slice(S)),y}function _(E){E=m(E);const y=E.indexOf("?");return y===-1?"":E.slice(y+1)}function v(E,y){return y.parseNumbers&&!Number.isNaN(Number(E))&&typeof E=="string"&&E.trim()!==""?E=Number(E):y.parseBooleans&&E!==null&&(E.toLowerCase()==="true"||E.toLowerCase()==="false")&&(E=E.toLowerCase()==="true"),E}function p(E,y){y=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},y),u(y.arrayFormatSeparator);const S=l(y),T=Object.create(null);if(typeof E!="string"||(E=E.trim().replace(/^[?#&]/,""),!E))return T;for(const $ of E.split("&")){if($==="")continue;let[d,x]=n(y.decode?$.replace(/\+/g," "):$,"=");x=x===void 0?null:["comma","separator","bracket-separator"].includes(y.arrayFormat)?x:c(x,y),S(c(d,y),x,T)}for(const $ of Object.keys(T)){const d=T[$];if(typeof d=="object"&&d!==null)for(const x of Object.keys(d))d[x]=v(d[x],y);else T[$]=v(d,y)}return y.sort===!1?T:(y.sort===!0?Object.keys(T).sort():Object.keys(T).sort(y.sort)).reduce(($,d)=>{const x=T[d];return x&&typeof x=="object"&&!Array.isArray(x)?$[d]=h(x):$[d]=x,$},Object.create(null))}e.extract=_,e.parse=p,e.stringify=(E,y)=>{if(!E)return"";y=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},y),u(y.arrayFormatSeparator);const S=x=>y.skipNull&&o(E[x])||y.skipEmptyString&&E[x]==="",T=a(y),$={};for(const x of Object.keys(E))S(x)||($[x]=E[x]);const d=Object.keys($);return y.sort!==!1&&d.sort(y.sort),d.map(x=>{const O=E[x];return O===void 0?"":O===null?f(x,y):Array.isArray(O)?O.length===0&&y.arrayFormat==="bracket-separator"?f(x,y)+"[]":O.reduce(T(x),[]).join("&"):f(x,y)+"="+f(O,y)}).filter(x=>x.length>0).join("&")},e.parseUrl=(E,y)=>{y=Object.assign({decode:!0},y);const[S,T]=n(E,"#");return Object.assign({url:S.split("?")[0]||"",query:p(_(E),y)},y&&y.parseFragmentIdentifier&&T?{fragmentIdentifier:c(T,y)}:{})},e.stringifyUrl=(E,y)=>{y=Object.assign({encode:!0,strict:!0,[s]:!0},y);const S=m(E.url).split("?")[0]||"",T=e.extract(E.url),$=e.parse(T,{sort:!1}),d=Object.assign($,E.query);let x=e.stringify(d,y);x&&(x=`?${x}`);let O=g(E.url);return E.fragmentIdentifier&&(O=`#${y[s]?f(E.fragmentIdentifier,y):E.fragmentIdentifier}`),`${S}${x}${O}`},e.pick=(E,y,S)=>{S=Object.assign({parseFragmentIdentifier:!0,[s]:!1},S);const{url:T,query:$,fragmentIdentifier:d}=e.parseUrl(E,S);return e.stringifyUrl({url:T,query:i($,y),fragmentIdentifier:d},S)},e.exclude=(E,y,S)=>{const T=Array.isArray(y)?$=>!y.includes($):($,d)=>!y($,d);return e.pick(E,T,S)}}}),uK=Fe({"../binding-http/dist/credential.js"(e){Ie();var t=e&&e.__createBinding||(Object.create?function(m,g,_,v){v===void 0&&(v=_);var p=Object.getOwnPropertyDescriptor(g,_);(!p||("get"in p?!g.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return g[_]}}),Object.defineProperty(m,v,p)}:function(m,g,_,v){v===void 0&&(v=_),m[v]=g[_]}),r=e&&e.__setModuleDefault||(Object.create?function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}:function(m,g){m.default=g}),n=e&&e.__importStar||function(){var m=function(g){return m=Object.getOwnPropertyNames||function(_){var v=[];for(var p in _)Object.prototype.hasOwnProperty.call(_,p)&&(v[v.length]=p);return v},m(g)};return function(g){if(g&&g.__esModule)return g;var _={};if(g!=null)for(var v=m(g),p=0;p<v.length;p++)v[p]!=="default"&&t(_,g,v[p]);return r(_,g),_}}();Object.defineProperty(e,"__esModule",{value:!0}),e.TuyaCustomBearer=e.OAuthCredential=e.BasicKeyCredential=e.BearerCredential=e.BasicCredential=e.Credential=void 0;var i=n(Ok()),o=n((EW(),hn(sk))),s=n(cve()),a=class{};e.Credential=a;var l=class extends a{constructor({username:m,password:g},_){if(super(),m===void 0||g===void 0||m===null||g===null)throw new Error("No Basic credentials for Thing");this.username=m,this.password=g,this.options=_}async sign(m){const g=m.clone();let _="authorization";return this.options!==void 0&&this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),g.headers.set(_,"Basic "+Cn.from(this.username+":"+this.password).toString("base64")),g}};e.BasicCredential=l;var u=class extends a{constructor({token:m},g){if(super(),m==null)throw new Error("No Bearer credentials for Thing");this.token=m,this.options=g}async sign(m){const g=m.clone();let _="authorization";return this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),g.headers.set(_,"Bearer "+this.token),g}};e.BearerCredential=u;var f=class extends a{constructor({apiKey:m},g){if(super(),m==null)throw new Error("No API key credentials for Thing");this.apiKey=m,this.options=g}async sign(m){const g=m.clone();let _="authorization";return this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),g.headers.append(_,this.apiKey),g}};e.BasicKeyCredential=f;var c=class cK extends a{constructor(g,_){super(),this.token=g,this.refresh=_,this.token=g}async sign(g){if(this.token instanceof Promise){const p=this.token;this.token=await p}let _={url:g.url,headers:{}};return _=this.token.sign(_),new i.Request(g,_)}async refreshToken(){if(this.token instanceof Promise)throw new Error("Uninitialized token. You have to call sing before refresh");let g;return this.refresh?g=await this.refresh():g=await this.token.refresh(),new cK(g,this.refresh)}};e.OAuthCredential=c;var h=class extends a{constructor(m,g){super(),this.key=m.key,this.secret=m.secret,this.baseUri=g.baseUri}async sign(m){var y;const g=this.isTokenExpired();(this.token===void 0||this.token===""||g)&&await this.requestAndRefreshToken(g);const _=m.url,v=(y=m.body)==null?void 0:y.read().toString(),p=m.method,E=this.getHeaders(!0,m.headers.raw(),v,_,p);return Object.assign(E,m.headers.raw()),new i.Request(_,{method:p,body:v!==""?v:void 0,headers:E})}async requestAndRefreshToken(m){var y,S,T;const _={headers:this.getHeaders(!1,{}),method:"GET"};let v=`${this.baseUri}/token?grant_type=1`;m&&(v=`${this.baseUri}/token/${this.refreshToken}`);const p=await(await(0,i.default)(v,_)).json();if(p.success??!1){this.token=(y=p.result)==null?void 0:y.access_token,this.refreshToken=(S=p.result)==null?void 0:S.refresh_token;const $=(T=p.result)==null?void 0:T.expire_time;$!=null&&(this.expireTime=new Date(Date.now()+$*1e3))}else throw new Error("token fetch failed")}getHeaders(m,g,_,v,p){const E=Date.now().toString(),y=this.baseUri.replace("/v1.0",""),S=v==null?void 0:v.replace(y,""),T=this.requestSign(m,E,_,S,p);return{t:E,client_id:this.key,sign_method:"HMAC-SHA256",sign:T,access_token:this.token??""}}requestSign(m,g,_,v="",p){const E=o.createHash("sha256").update(_??"").digest("hex");let y="/v1.0/token?grant_type=1";const S="";let T="";const $=p??"GET";if(m){T=this.token??"";const O=s.parse(v.split("?")[1]);let P={};P=Object.assign(P,O);const M={};Object.keys(P).sort().forEach(K=>{M[K]=P[K]});const U=s.stringify(M);y=decodeURIComponent(U?`${v.split("?")[0]}?${U}`:v)}const d=[this.key,T,g,[$,E,S,y].join(`
`)].join("");return o.createHmac("sha256",this.secret).update(d).digest("hex").toUpperCase()}isTokenExpired(){return this.expireTime?Date.now()>this.expireTime.getTime():!1}};e.TuyaCustomBearer=h}}),fK=Fe({"../binding-http/dist/oauth-manager.js"(e){Ie();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=Qs(),n=t(ove()),i=(tT(),hn(u0)),o=uK();function s(l){return(u,f,c,h)=>new Promise((m,g)=>{const _=new URL(f),v={method:u,host:_.hostname,port:parseInt(_.port),path:_.pathname+_.search,headers:h};v.rejectUnauthorized=l;const p=(0,i.request)(v);p.on("response",E=>{E.setEncoding("utf8");const y=[];E.on("data",S=>{y.push(S)}),E.on("end",()=>{m({status:E.statusCode??500,body:y.toString()})})}),p.on("error",E=>{g(E)}),p.write(c),p.end()})}var a=class{constructor(){this.tokenStore=new Map}handleClient(l,u){const f=new n.default({clientId:u.clientId,clientSecret:u.clientSecret,accessTokenUri:l.token,scopes:r.Helpers.toStringArray(l.scopes),body:{}},s(!1)),c=f.credentials.getToken();return new o.OAuthCredential(c,f.credentials.getToken.bind(f.credentials))}handleResourceOwnerCredential(l,u){const c=new n.default({clientId:u.clientId,clientSecret:u.clientSecret,accessTokenUri:l.token,scopes:r.Helpers.toStringArray(l.scopes)},s(!1)).owner.getToken(u.username,u.password);return new o.OAuthCredential(c)}};e.default=a}});function fve(){if(cI)return $E;cI=!0;const e=2147483647,t=36,r=1,n=26,i=38,o=700,s=72,a=128,l="-",u=/^xn--/,f=/[^\0-\x7F]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=t-r,g=Math.floor,_=String.fromCharCode;function v(K){throw new RangeError(h[K])}function p(K,ie){const G=[];let ne=K.length;for(;ne--;)G[ne]=ie(K[ne]);return G}function E(K,ie){const G=K.split("@");let ne="";G.length>1&&(ne=G[0]+"@",K=G[1]),K=K.replace(c,".");const ge=K.split("."),re=p(ge,ie).join(".");return ne+re}function y(K){const ie=[];let G=0;const ne=K.length;for(;G<ne;){const ge=K.charCodeAt(G++);if(ge>=55296&&ge<=56319&&G<ne){const re=K.charCodeAt(G++);(re&64512)==56320?ie.push(((ge&1023)<<10)+(re&1023)+65536):(ie.push(ge),G--)}else ie.push(ge)}return ie}const S=K=>String.fromCodePoint(...K),T=function(K){return K>=48&&K<58?26+(K-48):K>=65&&K<91?K-65:K>=97&&K<123?K-97:t},$=function(K,ie){return K+22+75*(K<26)-((ie!=0)<<5)},d=function(K,ie,G){let ne=0;for(K=G?g(K/o):K>>1,K+=g(K/ie);K>m*n>>1;ne+=t)K=g(K/m);return g(ne+(m+1)*K/(K+i))},x=function(K){const ie=[],G=K.length;let ne=0,ge=a,re=s,se=K.lastIndexOf(l);se<0&&(se=0);for(let D=0;D<se;++D)K.charCodeAt(D)>=128&&v("not-basic"),ie.push(K.charCodeAt(D));for(let D=se>0?se+1:0;D<G;){const z=ne;for(let N=1,I=t;;I+=t){D>=G&&v("invalid-input");const q=T(K.charCodeAt(D++));q>=t&&v("invalid-input"),q>g((e-ne)/N)&&v("overflow"),ne+=q*N;const ae=I<=re?r:I>=re+n?n:I-re;if(q<ae)break;const Z=t-ae;N>g(e/Z)&&v("overflow"),N*=Z}const Y=ie.length+1;re=d(ne-z,Y,z==0),g(ne/Y)>e-ge&&v("overflow"),ge+=g(ne/Y),ne%=Y,ie.splice(ne++,0,ge)}return String.fromCodePoint(...ie)},O=function(K){const ie=[];K=y(K);const G=K.length;let ne=a,ge=0,re=s;for(const z of K)z<128&&ie.push(_(z));const se=ie.length;let D=se;for(se&&ie.push(l);D<G;){let z=e;for(const N of K)N>=ne&&N<z&&(z=N);const Y=D+1;z-ne>g((e-ge)/Y)&&v("overflow"),ge+=(z-ne)*Y,ne=z;for(const N of K)if(N<ne&&++ge>e&&v("overflow"),N===ne){let I=ge;for(let q=t;;q+=t){const ae=q<=re?r:q>=re+n?n:q-re;if(I<ae)break;const Z=I-ae,te=t-ae;ie.push(_($(ae+Z%te,0))),I=g(Z/te)}ie.push(_($(I,0))),re=d(ge,Y,D===se),ge=0,++D}++ge,++ne}return ie.join("")};return $E={version:"2.3.1",ucs2:{decode:y,encode:S},decode:x,encode:O,toASCII:function(K){return E(K,function(ie){return f.test(ie)?"xn--"+O(ie):ie})},toUnicode:function(K){return E(K,function(ie){return u.test(ie)?x(ie.slice(4).toLowerCase()):ie})}},$E}var $E,cI,Rf,dve=Vn({"../../node_modules/@jspm/core/nodelibs/browser/punycode.js"(){Ie(),$E={},cI=!1,Rf=fve(),Rf.decode,Rf.encode,Rf.toASCII,Rf.toUnicode,Rf.ucs2,Rf.version}});function hve(){if(fI)return xE;fI=!0;var e=co;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",l=0,u=-1,f=0,c,h=0;h<=o.length;++h){if(h<o.length)c=o.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(u===h-1||f===1))if(u!==h-1&&f===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var m=a.lastIndexOf("/");if(m!==a.length-1){m===-1?(a="",l=0):(a=a.slice(0,m),l=a.length-1-a.lastIndexOf("/")),u=h,f=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=h,f=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+o.slice(u+1,h):a=o.slice(u+1,h),l=h-u-1;u=h,f=0}else c===46&&f!==-1?++f:f=-1}return a}function n(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var i={resolve:function(){for(var s="",a=!1,l,u=arguments.length-1;u>=-1&&!a;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(s=f+"/"+s,a=f.charCodeAt(0)===47)}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(t(s),s.length===0)return".";var a=s.charCodeAt(0)===47,l=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&l&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return t(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,a=0;a<arguments.length;++a){var l=arguments[a];t(l),l.length>0&&(s===void 0?s=l:s+="/"+l)}return s===void 0?".":i.normalize(s)},relative:function(s,a){if(t(s),t(a),s===a||(s=i.resolve(s),a=i.resolve(a),s===a))return"";for(var l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var u=s.length,f=u-l,c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var h=a.length,m=h-c,g=f<m?f:m,_=-1,v=0;v<=g;++v){if(v===g){if(m>g){if(a.charCodeAt(c+v)===47)return a.slice(c+v+1);if(v===0)return a.slice(c+v)}else f>g&&(s.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var p=s.charCodeAt(l+v),E=a.charCodeAt(c+v);if(p!==E)break;p===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||s.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+a.slice(c+_):(c+=_,a.charCodeAt(c)===47&&++c,a.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(t(s),s.length===0)return".";for(var a=s.charCodeAt(0),l=a===47,u=-1,f=!0,c=s.length-1;c>=1;--c)if(a=s.charCodeAt(c),a===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":s.slice(0,u)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');t(s);var l=0,u=-1,f=!0,c;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return"";var h=a.length-1,m=-1;for(c=s.length-1;c>=0;--c){var g=s.charCodeAt(c);if(g===47){if(!f){l=c+1;break}}else m===-1&&(f=!1,m=c+1),h>=0&&(g===a.charCodeAt(h)?--h===-1&&(u=c):(h=-1,u=m))}return l===u?u=m:u===-1&&(u=s.length),s.slice(l,u)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":s.slice(l,u)}},extname:function(s){t(s);for(var a=-1,l=0,u=-1,f=!0,c=0,h=s.length-1;h>=0;--h){var m=s.charCodeAt(h);if(m===47){if(!f){l=h+1;break}continue}u===-1&&(f=!1,u=h+1),m===46?a===-1?a=h:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||u===-1||c===0||c===1&&a===u-1&&a===l+1?"":s.slice(a,u)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){t(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var l=s.charCodeAt(0),u=l===47,f;u?(a.root="/",f=1):f=0;for(var c=-1,h=0,m=-1,g=!0,_=s.length-1,v=0;_>=f;--_){if(l=s.charCodeAt(_),l===47){if(!g){h=_+1;break}continue}m===-1&&(g=!1,m=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||m===-1||v===0||v===1&&c===m-1&&c===h+1?m!==-1&&(h===0&&u?a.base=a.name=s.slice(1,m):a.base=a.name=s.slice(h,m)):(h===0&&u?(a.name=s.slice(1,c),a.base=s.slice(1,m)):(a.name=s.slice(h,c),a.base=s.slice(h,m)),a.ext=s.slice(c,m)),h>0?a.dir=s.slice(0,h-1):u&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,xE=i,xE}var xE,fI,dI,pve=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-BlJi4mNy.js"(){Ie(),l0(),xE={},fI=!1,dI=hve()}}),dK={};Gu(dK,{URL:()=>EK,Url:()=>vK,default:()=>Do,fileURLToPath:()=>pK,format:()=>yK,parse:()=>_K,pathToFileURL:()=>mK,resolve:()=>wK,resolveObject:()=>bK});function mve(){if(hI)return AE;hI=!0;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=e&&t&&typeof t.get=="function"?t.get:null,n=e&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=i&&o&&typeof o.get=="function"?o.get:null,a=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,f=typeof WeakSet=="function"&&WeakSet.prototype,c=f?WeakSet.prototype.has:null,h=typeof WeakRef=="function"&&WeakRef.prototype,m=h?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,_=Object.prototype.toString,v=Function.prototype.toString,p=String.prototype.match,E=String.prototype.slice,y=String.prototype.replace,S=String.prototype.toUpperCase,T=String.prototype.toLowerCase,$=RegExp.prototype.test,d=Array.prototype.concat,x=Array.prototype.join,O=Array.prototype.slice,P=Math.floor,M=typeof BigInt=="function"?BigInt.prototype.valueOf:null,U=Object.getOwnPropertySymbols,K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ie=typeof Symbol=="function"&&typeof Symbol.iterator=="object",G=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ie||!0)?Symbol.toStringTag:null,ne=Object.prototype.propertyIsEnumerable,ge=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Be){return Be.__proto__}:null);function re(Be,Ye){if(Be===1/0||Be===-1/0||Be!==Be||Be&&Be>-1e3&&Be<1e3||$.call(/e/,Ye))return Ye;var gt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Be=="number"){var Ot=Be<0?-P(-Be):P(Be);if(Ot!==Be){var yt=String(Ot),Xt=E.call(Ye,yt.length+1);return y.call(yt,gt,"$&_")+"."+y.call(y.call(Xt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(Ye,gt,"$&_")}var se=gK,D=se.custom,z=Le(D)?D:null;AE=function Be(Ye,gt,Ot,yt){var Xt=gt||{};if(L(Xt,"quoteStyle")&&Xt.quoteStyle!=="single"&&Xt.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(L(Xt,"maxStringLength")&&(typeof Xt.maxStringLength=="number"?Xt.maxStringLength<0&&Xt.maxStringLength!==1/0:Xt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Xr=L(Xt,"customInspect")?Xt.customInspect:!0;if(typeof Xr!="boolean"&&Xr!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(L(Xt,"indent")&&Xt.indent!==null&&Xt.indent!=="	"&&!(parseInt(Xt.indent,10)===Xt.indent&&Xt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(L(Xt,"numericSeparator")&&typeof Xt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var tn=Xt.numericSeparator;if(typeof Ye>"u")return"undefined";if(Ye===null)return"null";if(typeof Ye=="boolean")return Ye?"true":"false";if(typeof Ye=="string")return tt(Ye,Xt);if(typeof Ye=="number"){if(Ye===0)return 1/0/Ye>0?"0":"-0";var Tr=String(Ye);return tn?re(Ye,Tr):Tr}if(typeof Ye=="bigint"){var Rr=String(Ye)+"n";return tn?re(Ye,Rr):Rr}var jn=typeof Xt.depth>"u"?5:Xt.depth;if(typeof Ot>"u"&&(Ot=0),Ot>=jn&&jn>0&&typeof Ye=="object")return I(Ye)?"[Array]":"[Object]";var _r=Ee(Xt,Ot);if(typeof yt>"u")yt=[];else if(me(yt,Ye)>=0)return"[Circular]";function Qt(Kt,Zt,Dt){if(Zt&&(yt=O.call(yt),yt.push(Zt)),Dt){var qt={depth:Xt.depth};return L(Xt,"quoteStyle")&&(qt.quoteStyle=Xt.quoteStyle),Be(Kt,qt,Ot+1,yt)}return Be(Kt,Xt,Ot+1,yt)}if(typeof Ye=="function"&&!ae(Ye)){var hr=ce(Ye),Oe=qe(Ye,Qt);return"[Function"+(hr?": "+hr:" (anonymous)")+"]"+(Oe.length>0?" { "+x.call(Oe,", ")+" }":"")}if(Le(Ye)){var je=ie?y.call(String(Ye),/^(Symbol\(.*\))_[^)]*$/,"$1"):K.call(Ye);return typeof Ye=="object"&&!ie?Q(je):je}if(ht(Ye)){for(var bt="<"+T.call(String(Ye.nodeName)),$t=Ye.attributes||[],ut=0;ut<$t.length;ut++)bt+=" "+$t[ut].name+"="+Y(N($t[ut].value),"double",Xt);return bt+=">",Ye.childNodes&&Ye.childNodes.length&&(bt+="..."),bt+="</"+T.call(String(Ye.nodeName))+">",bt}if(I(Ye)){if(Ye.length===0)return"[]";var Ut=qe(Ye,Qt);return _r&&!le(Ut)?"["+Pe(Ut,_r)+"]":"[ "+x.call(Ut,", ")+" ]"}if(Z(Ye)){var Bt=qe(Ye,Qt);return!("cause"in Error.prototype)&&"cause"in Ye&&!ne.call(Ye,"cause")?"{ ["+String(Ye)+"] "+x.call(d.call("[cause]: "+Qt(Ye.cause),Bt),", ")+" }":Bt.length===0?"["+String(Ye)+"]":"{ ["+String(Ye)+"] "+x.call(Bt,", ")+" }"}if(typeof Ye=="object"&&Xr){if(z&&typeof Ye[z]=="function"&&se)return se(Ye,{depth:jn-Ot});if(Xr!=="symbol"&&typeof Ye.inspect=="function")return Ye.inspect()}if(ve(Ye)){var we=[];return n&&n.call(Ye,function(Kt,Zt){we.push(Qt(Zt,Ye,!0)+" => "+Qt(Kt,Ye))}),B("Map",r.call(Ye),we,_r)}if(Ge(Ye)){var he=[];return a&&a.call(Ye,function(Kt){he.push(Qt(Kt,Ye))}),B("Set",s.call(Ye),he,_r)}if(Te(Ye))return k("WeakMap");if(Ve(Ye))return k("WeakSet");if(De(Ye))return k("WeakRef");if(ue(Ye))return Q(Qt(Number(Ye)));if(C(Ye))return Q(Qt(M.call(Ye)));if(xe(Ye))return Q(g.call(Ye));if(te(Ye))return Q(Qt(String(Ye)));if(typeof window<"u"&&Ye===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Ye===globalThis||typeof OE<"u"&&Ye===OE)return"{ [object globalThis] }";if(!q(Ye)&&!ae(Ye)){var Se=qe(Ye,Qt),Me=ge?ge(Ye)===Object.prototype:Ye instanceof Object||Ye.constructor===Object,ke=Ye instanceof Object?"":"null prototype",pt=!Me&&G&&Object(Ye)===Ye&&G in Ye?E.call(ee(Ye),8,-1):ke?"Object":"",ft=Me||typeof Ye.constructor!="function"?"":Ye.constructor.name?Ye.constructor.name+" ":"",Mt=ft+(pt||ke?"["+x.call(d.call([],pt||[],ke||[]),": ")+"] ":"");return Se.length===0?Mt+"{}":_r?Mt+"{"+Pe(Se,_r)+"}":Mt+"{ "+x.call(Se,", ")+" }"}return String(Ye)};function Y(Be,Ye,gt){var Ot=(gt.quoteStyle||Ye)==="double"?'"':"'";return Ot+Be+Ot}function N(Be){return y.call(String(Be),/"/g,"&quot;")}function I(Be){return ee(Be)==="[object Array]"&&(!G||!(typeof Be=="object"&&G in Be))}function q(Be){return ee(Be)==="[object Date]"&&(!G||!(typeof Be=="object"&&G in Be))}function ae(Be){return ee(Be)==="[object RegExp]"&&(!G||!(typeof Be=="object"&&G in Be))}function Z(Be){return ee(Be)==="[object Error]"&&(!G||!(typeof Be=="object"&&G in Be))}function te(Be){return ee(Be)==="[object String]"&&(!G||!(typeof Be=="object"&&G in Be))}function ue(Be){return ee(Be)==="[object Number]"&&(!G||!(typeof Be=="object"&&G in Be))}function xe(Be){return ee(Be)==="[object Boolean]"&&(!G||!(typeof Be=="object"&&G in Be))}function Le(Be){if(ie)return Be&&typeof Be=="object"&&Be instanceof Symbol;if(typeof Be=="symbol")return!0;if(!Be||typeof Be!="object"||!K)return!1;try{return K.call(Be),!0}catch{}return!1}function C(Be){if(!Be||typeof Be!="object"||!M)return!1;try{return M.call(Be),!0}catch{}return!1}var F=Object.prototype.hasOwnProperty||function(Be){return Be in(this||OE)};function L(Be,Ye){return F.call(Be,Ye)}function ee(Be){return _.call(Be)}function ce(Be){if(Be.name)return Be.name;var Ye=p.call(v.call(Be),/^function\s*([\w$]+)/);return Ye?Ye[1]:null}function me(Be,Ye){if(Be.indexOf)return Be.indexOf(Ye);for(var gt=0,Ot=Be.length;gt<Ot;gt++)if(Be[gt]===Ye)return gt;return-1}function ve(Be){if(!r||!Be||typeof Be!="object")return!1;try{r.call(Be);try{s.call(Be)}catch{return!0}return Be instanceof Map}catch{}return!1}function Te(Be){if(!u||!Be||typeof Be!="object")return!1;try{u.call(Be,u);try{c.call(Be,c)}catch{return!0}return Be instanceof WeakMap}catch{}return!1}function De(Be){if(!m||!Be||typeof Be!="object")return!1;try{return m.call(Be),!0}catch{}return!1}function Ge(Be){if(!s||!Be||typeof Be!="object")return!1;try{s.call(Be);try{r.call(Be)}catch{return!0}return Be instanceof Set}catch{}return!1}function Ve(Be){if(!c||!Be||typeof Be!="object")return!1;try{c.call(Be,c);try{u.call(Be,u)}catch{return!0}return Be instanceof WeakSet}catch{}return!1}function ht(Be){return!Be||typeof Be!="object"?!1:typeof HTMLElement<"u"&&Be instanceof HTMLElement?!0:typeof Be.nodeName=="string"&&typeof Be.getAttribute=="function"}function tt(Be,Ye){if(Be.length>Ye.maxStringLength){var gt=Be.length-Ye.maxStringLength,Ot="... "+gt+" more character"+(gt>1?"s":"");return tt(E.call(Be,0,Ye.maxStringLength),Ye)+Ot}var yt=y.call(y.call(Be,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Xe);return Y(yt,"single",Ye)}function Xe(Be){var Ye=Be.charCodeAt(0),gt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ye];return gt?"\\"+gt:"\\x"+(Ye<16?"0":"")+S.call(Ye.toString(16))}function Q(Be){return"Object("+Be+")"}function k(Be){return Be+" { ? }"}function B(Be,Ye,gt,Ot){var yt=Ot?Pe(gt,Ot):x.call(gt,", ");return Be+" ("+Ye+") {"+yt+"}"}function le(Be){for(var Ye=0;Ye<Be.length;Ye++)if(me(Be[Ye],`
`)>=0)return!1;return!0}function Ee(Be,Ye){var gt;if(Be.indent==="	")gt="	";else if(typeof Be.indent=="number"&&Be.indent>0)gt=x.call(Array(Be.indent+1)," ");else return null;return{base:gt,prev:x.call(Array(Ye+1),gt)}}function Pe(Be,Ye){if(Be.length===0)return"";var gt=`
`+Ye.prev+Ye.base;return gt+x.call(Be,","+gt)+`
`+Ye.prev}function qe(Be,Ye){var gt=I(Be),Ot=[];if(gt){Ot.length=Be.length;for(var yt=0;yt<Be.length;yt++)Ot[yt]=L(Be,yt)?Ye(Be[yt],Be):""}var Xt=typeof U=="function"?U(Be):[],Xr;if(ie){Xr={};for(var tn=0;tn<Xt.length;tn++)Xr["$"+Xt[tn]]=Xt[tn]}for(var Tr in Be)L(Be,Tr)&&(gt&&String(Number(Tr))===Tr&&Tr<Be.length||ie&&Xr["$"+Tr]instanceof Symbol||($.call(/[^\w$]/,Tr)?Ot.push(Ye(Tr,Be)+": "+Ye(Be[Tr],Be)):Ot.push(Tr+": "+Ye(Be[Tr],Be))));if(typeof U=="function")for(var Rr=0;Rr<Xt.length;Rr++)ne.call(Be,Xt[Rr])&&Ot.push("["+Ye(Xt[Rr])+"]: "+Ye(Be[Xt[Rr]],Be));return Ot}return AE}function gve(){if(pI)return PE;pI=!0;var e=lg(),t=ck(),r=mve(),n=c0(),i=e("%WeakMap%",!0),o=e("%Map%",!0),s=t("WeakMap.prototype.get",!0),a=t("WeakMap.prototype.set",!0),l=t("WeakMap.prototype.has",!0),u=t("Map.prototype.get",!0),f=t("Map.prototype.set",!0),c=t("Map.prototype.has",!0),h=function(v,p){for(var E=v,y;(y=E.next)!==null;E=y)if(y.key===p)return E.next=y.next,y.next=v.next,v.next=y,y},m=function(v,p){var E=h(v,p);return E&&E.value},g=function(v,p,E){var y=h(v,p);y?y.value=E:v.next={key:p,next:v.next,value:E}},_=function(v,p){return!!h(v,p)};return PE=function(){var p,E,y,S={assert:function(T){if(!S.has(T))throw new n("Side channel does not contain "+r(T))},get:function(T){if(i&&T&&(typeof T=="object"||typeof T=="function")){if(p)return s(p,T)}else if(o){if(E)return u(E,T)}else if(y)return m(y,T)},has:function(T){if(i&&T&&(typeof T=="object"||typeof T=="function")){if(p)return l(p,T)}else if(o){if(E)return c(E,T)}else if(y)return _(y,T);return!1},set:function(T,$){i&&T&&(typeof T=="object"||typeof T=="function")?(p||(p=new i),a(p,T,$)):o?(E||(E=new o),f(E,T,$)):(y||(y={key:{},next:null}),g(y,T,$))}};return S},PE}function Pk(){if(mI)return RE;mI=!0;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return RE={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},RE}function hK(){if(gI)return NE;gI=!0;var e=Pk(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var v=[],p=0;p<256;++p)v.push("%"+((p<16?"0":"")+p.toString(16)).toUpperCase());return v}(),i=function(p){for(;p.length>1;){var E=p.pop(),y=E.obj[E.prop];if(r(y)){for(var S=[],T=0;T<y.length;++T)typeof y[T]<"u"&&S.push(y[T]);E.obj[E.prop]=S}}},o=function(p,E){for(var y=E&&E.plainObjects?Object.create(null):{},S=0;S<p.length;++S)typeof p[S]<"u"&&(y[S]=p[S]);return y},s=function v(p,E,y){if(!E)return p;if(typeof E!="object"){if(r(p))p.push(E);else if(p&&typeof p=="object")(y&&(y.plainObjects||y.allowPrototypes)||!t.call(Object.prototype,E))&&(p[E]=!0);else return[p,E];return p}if(!p||typeof p!="object")return[p].concat(E);var S=p;return r(p)&&!r(E)&&(S=o(p,y)),r(p)&&r(E)?(E.forEach(function(T,$){if(t.call(p,$)){var d=p[$];d&&typeof d=="object"&&T&&typeof T=="object"?p[$]=v(d,T,y):p.push(T)}else p[$]=T}),p):Object.keys(E).reduce(function(T,$){var d=E[$];return t.call(T,$)?T[$]=v(T[$],d,y):T[$]=d,T},S)},a=function(p,E){return Object.keys(E).reduce(function(y,S){return y[S]=E[S],y},p)},l=function(v,p,E){var y=v.replace(/\+/g," ");if(E==="iso-8859-1")return y.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(y)}catch{return y}},u=1024,f=function(p,E,y,S,T){if(p.length===0)return p;var $=p;if(typeof p=="symbol"?$=Symbol.prototype.toString.call(p):typeof p!="string"&&($=String(p)),y==="iso-8859-1")return escape($).replace(/%u[0-9a-f]{4}/gi,function(K){return"%26%23"+parseInt(K.slice(2),16)+"%3B"});for(var d="",x=0;x<$.length;x+=u){for(var O=$.length>=u?$.slice(x,x+u):$,P=[],M=0;M<O.length;++M){var U=O.charCodeAt(M);if(U===45||U===46||U===95||U===126||U>=48&&U<=57||U>=65&&U<=90||U>=97&&U<=122||T===e.RFC1738&&(U===40||U===41)){P[P.length]=O.charAt(M);continue}if(U<128){P[P.length]=n[U];continue}if(U<2048){P[P.length]=n[192|U>>6]+n[128|U&63];continue}if(U<55296||U>=57344){P[P.length]=n[224|U>>12]+n[128|U>>6&63]+n[128|U&63];continue}M+=1,U=65536+((U&1023)<<10|O.charCodeAt(M)&1023),P[P.length]=n[240|U>>18]+n[128|U>>12&63]+n[128|U>>6&63]+n[128|U&63]}d+=P.join("")}return d},c=function(p){for(var E=[{obj:{o:p},prop:"o"}],y=[],S=0;S<E.length;++S)for(var T=E[S],$=T.obj[T.prop],d=Object.keys($),x=0;x<d.length;++x){var O=d[x],P=$[O];typeof P=="object"&&P!==null&&y.indexOf(P)===-1&&(E.push({obj:$,prop:O}),y.push(P))}return i(E),p},h=function(p){return Object.prototype.toString.call(p)==="[object RegExp]"},m=function(p){return!p||typeof p!="object"?!1:!!(p.constructor&&p.constructor.isBuffer&&p.constructor.isBuffer(p))},g=function(p,E){return[].concat(p,E)},_=function(p,E){if(r(p)){for(var y=[],S=0;S<p.length;S+=1)y.push(E(p[S]));return y}return E(p)};return NE={arrayToObject:o,assign:a,combine:g,compact:c,decode:l,encode:f,isBuffer:m,isRegExp:h,maybeMap:_,merge:s},NE}function vve(){if(vI)return IE;vI=!0;var e=gve(),t=hK(),r=Pk(),n=Object.prototype.hasOwnProperty,i={brackets:function(v){return v+"[]"},comma:"comma",indices:function(v,p){return v+"["+p+"]"},repeat:function(v){return v}},o=Array.isArray,s=Array.prototype.push,a=function(_,v){s.apply(_,o(v)?v:[v])},l=Date.prototype.toISOString,u=r.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,format:u,formatter:r.formatters[u],indices:!1,serializeDate:function(v){return l.call(v)},skipNulls:!1,strictNullHandling:!1},c=function(v){return typeof v=="string"||typeof v=="number"||typeof v=="boolean"||typeof v=="symbol"||typeof v=="bigint"},h={},m=function _(v,p,E,y,S,T,$,d,x,O,P,M,U,K,ie,G,ne,ge){for(var re=v,se=ge,D=0,z=!1;(se=se.get(h))!==void 0&&!z;){var Y=se.get(v);if(D+=1,typeof Y<"u"){if(Y===D)throw new RangeError("Cyclic object value");z=!0}typeof se.get(h)>"u"&&(D=0)}if(typeof O=="function"?re=O(p,re):re instanceof Date?re=U(re):E==="comma"&&o(re)&&(re=t.maybeMap(re,function(ee){return ee instanceof Date?U(ee):ee})),re===null){if(T)return x&&!G?x(p,f.encoder,ne,"key",K):p;re=""}if(c(re)||t.isBuffer(re)){if(x){var N=G?p:x(p,f.encoder,ne,"key",K);return[ie(N)+"="+ie(x(re,f.encoder,ne,"value",K))]}return[ie(p)+"="+ie(String(re))]}var I=[];if(typeof re>"u")return I;var q;if(E==="comma"&&o(re))G&&x&&(re=t.maybeMap(re,x)),q=[{value:re.length>0?re.join(",")||null:void 0}];else if(o(O))q=O;else{var ae=Object.keys(re);q=P?ae.sort(P):ae}var Z=d?p.replace(/\./g,"%2E"):p,te=y&&o(re)&&re.length===1?Z+"[]":Z;if(S&&o(re)&&re.length===0)return te+"[]";for(var ue=0;ue<q.length;++ue){var xe=q[ue],Le=typeof xe=="object"&&typeof xe.value<"u"?xe.value:re[xe];if(!($&&Le===null)){var C=M&&d?xe.replace(/\./g,"%2E"):xe,F=o(re)?typeof E=="function"?E(te,C):te:te+(M?"."+C:"["+C+"]");ge.set(v,D);var L=e();L.set(h,ge),a(I,_(Le,F,E,y,S,T,$,d,E==="comma"&&G&&o(re)?null:x,O,P,M,U,K,ie,G,ne,L))}}return I},g=function(v){if(!v)return f;if(typeof v.allowEmptyArrays<"u"&&typeof v.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof v.encodeDotInKeys<"u"&&typeof v.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(v.encoder!==null&&typeof v.encoder<"u"&&typeof v.encoder!="function")throw new TypeError("Encoder has to be a function.");var p=v.charset||f.charset;if(typeof v.charset<"u"&&v.charset!=="utf-8"&&v.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var E=r.default;if(typeof v.format<"u"){if(!n.call(r.formatters,v.format))throw new TypeError("Unknown format option provided.");E=v.format}var y=r.formatters[E],S=f.filter;(typeof v.filter=="function"||o(v.filter))&&(S=v.filter);var T;if(v.arrayFormat in i?T=v.arrayFormat:"indices"in v?T=v.indices?"indices":"repeat":T=f.arrayFormat,"commaRoundTrip"in v&&typeof v.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var $=typeof v.allowDots>"u"?v.encodeDotInKeys===!0?!0:f.allowDots:!!v.allowDots;return{addQueryPrefix:typeof v.addQueryPrefix=="boolean"?v.addQueryPrefix:f.addQueryPrefix,allowDots:$,allowEmptyArrays:typeof v.allowEmptyArrays=="boolean"?!!v.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:T,charset:p,charsetSentinel:typeof v.charsetSentinel=="boolean"?v.charsetSentinel:f.charsetSentinel,commaRoundTrip:v.commaRoundTrip,delimiter:typeof v.delimiter>"u"?f.delimiter:v.delimiter,encode:typeof v.encode=="boolean"?v.encode:f.encode,encodeDotInKeys:typeof v.encodeDotInKeys=="boolean"?v.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof v.encoder=="function"?v.encoder:f.encoder,encodeValuesOnly:typeof v.encodeValuesOnly=="boolean"?v.encodeValuesOnly:f.encodeValuesOnly,filter:S,format:E,formatter:y,serializeDate:typeof v.serializeDate=="function"?v.serializeDate:f.serializeDate,skipNulls:typeof v.skipNulls=="boolean"?v.skipNulls:f.skipNulls,sort:typeof v.sort=="function"?v.sort:null,strictNullHandling:typeof v.strictNullHandling=="boolean"?v.strictNullHandling:f.strictNullHandling}};return IE=function(_,v){var p=_,E=g(v),y,S;typeof E.filter=="function"?(S=E.filter,p=S("",p)):o(E.filter)&&(S=E.filter,y=S);var T=[];if(typeof p!="object"||p===null)return"";var $=i[E.arrayFormat],d=$==="comma"&&E.commaRoundTrip;y||(y=Object.keys(p)),E.sort&&y.sort(E.sort);for(var x=e(),O=0;O<y.length;++O){var P=y[O];E.skipNulls&&p[P]===null||a(T,m(p[P],P,$,d,E.allowEmptyArrays,E.strictNullHandling,E.skipNulls,E.encodeDotInKeys,E.encode?E.encoder:null,E.filter,E.sort,E.allowDots,E.serializeDate,E.format,E.formatter,E.encodeValuesOnly,E.charset,x))}var M=T.join(E.delimiter),U=E.addQueryPrefix===!0?"?":"";return E.charsetSentinel&&(E.charset==="iso-8859-1"?U+="utf8=%26%2310003%3B&":U+="utf8=%E2%9C%93&"),M.length>0?U+M:""},IE}function yve(){if(yI)return CE;yI=!0;var e=hK(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(h){return h.replace(/&#(\d+);/g,function(m,g){return String.fromCharCode(parseInt(g,10))})},o=function(h,m){return h&&typeof h=="string"&&m.comma&&h.indexOf(",")>-1?h.split(","):h},s="utf8=%26%2310003%3B",a="utf8=%E2%9C%93",l=function(m,g){var _={__proto__:null},v=g.ignoreQueryPrefix?m.replace(/^\?/,""):m;v=v.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var p=g.parameterLimit===1/0?void 0:g.parameterLimit,E=v.split(g.delimiter,p),y=-1,S,T=g.charset;if(g.charsetSentinel)for(S=0;S<E.length;++S)E[S].indexOf("utf8=")===0&&(E[S]===a?T="utf-8":E[S]===s&&(T="iso-8859-1"),y=S,S=E.length);for(S=0;S<E.length;++S)if(S!==y){var $=E[S],d=$.indexOf("]="),x=d===-1?$.indexOf("="):d+1,O,P;x===-1?(O=g.decoder($,n.decoder,T,"key"),P=g.strictNullHandling?null:""):(O=g.decoder($.slice(0,x),n.decoder,T,"key"),P=e.maybeMap(o($.slice(x+1),g),function(U){return g.decoder(U,n.decoder,T,"value")})),P&&g.interpretNumericEntities&&T==="iso-8859-1"&&(P=i(P)),$.indexOf("[]=")>-1&&(P=r(P)?[P]:P);var M=t.call(_,O);M&&g.duplicates==="combine"?_[O]=e.combine(_[O],P):(!M||g.duplicates==="last")&&(_[O]=P)}return _},u=function(h,m,g,_){for(var v=_?m:o(m,g),p=h.length-1;p>=0;--p){var E,y=h[p];if(y==="[]"&&g.parseArrays)E=g.allowEmptyArrays&&(v===""||g.strictNullHandling&&v===null)?[]:[].concat(v);else{E=g.plainObjects?Object.create(null):{};var S=y.charAt(0)==="["&&y.charAt(y.length-1)==="]"?y.slice(1,-1):y,T=g.decodeDotInKeys?S.replace(/%2E/g,"."):S,$=parseInt(T,10);!g.parseArrays&&T===""?E={0:v}:!isNaN($)&&y!==T&&String($)===T&&$>=0&&g.parseArrays&&$<=g.arrayLimit?(E=[],E[$]=v):T!=="__proto__"&&(E[T]=v)}v=E}return v},f=function(m,g,_,v){if(m){var p=_.allowDots?m.replace(/\.([^.[]+)/g,"[$1]"):m,E=/(\[[^[\]]*])/,y=/(\[[^[\]]*])/g,S=_.depth>0&&E.exec(p),T=S?p.slice(0,S.index):p,$=[];if(T){if(!_.plainObjects&&t.call(Object.prototype,T)&&!_.allowPrototypes)return;$.push(T)}for(var d=0;_.depth>0&&(S=y.exec(p))!==null&&d<_.depth;){if(d+=1,!_.plainObjects&&t.call(Object.prototype,S[1].slice(1,-1))&&!_.allowPrototypes)return;$.push(S[1])}if(S){if(_.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+_.depth+" and strictDepth is true");$.push("["+p.slice(S.index)+"]")}return u($,g,_,v)}},c=function(m){if(!m)return n;if(typeof m.allowEmptyArrays<"u"&&typeof m.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof m.decodeDotInKeys<"u"&&typeof m.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(m.decoder!==null&&typeof m.decoder<"u"&&typeof m.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof m.charset<"u"&&m.charset!=="utf-8"&&m.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var g=typeof m.charset>"u"?n.charset:m.charset,_=typeof m.duplicates>"u"?n.duplicates:m.duplicates;if(_!=="combine"&&_!=="first"&&_!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var v=typeof m.allowDots>"u"?m.decodeDotInKeys===!0?!0:n.allowDots:!!m.allowDots;return{allowDots:v,allowEmptyArrays:typeof m.allowEmptyArrays=="boolean"?!!m.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof m.allowPrototypes=="boolean"?m.allowPrototypes:n.allowPrototypes,allowSparse:typeof m.allowSparse=="boolean"?m.allowSparse:n.allowSparse,arrayLimit:typeof m.arrayLimit=="number"?m.arrayLimit:n.arrayLimit,charset:g,charsetSentinel:typeof m.charsetSentinel=="boolean"?m.charsetSentinel:n.charsetSentinel,comma:typeof m.comma=="boolean"?m.comma:n.comma,decodeDotInKeys:typeof m.decodeDotInKeys=="boolean"?m.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof m.decoder=="function"?m.decoder:n.decoder,delimiter:typeof m.delimiter=="string"||e.isRegExp(m.delimiter)?m.delimiter:n.delimiter,depth:typeof m.depth=="number"||m.depth===!1?+m.depth:n.depth,duplicates:_,ignoreQueryPrefix:m.ignoreQueryPrefix===!0,interpretNumericEntities:typeof m.interpretNumericEntities=="boolean"?m.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof m.parameterLimit=="number"?m.parameterLimit:n.parameterLimit,parseArrays:m.parseArrays!==!1,plainObjects:typeof m.plainObjects=="boolean"?m.plainObjects:n.plainObjects,strictDepth:typeof m.strictDepth=="boolean"?!!m.strictDepth:n.strictDepth,strictNullHandling:typeof m.strictNullHandling=="boolean"?m.strictNullHandling:n.strictNullHandling}};return CE=function(h,m){var g=c(m);if(h===""||h===null||typeof h>"u")return g.plainObjects?Object.create(null):{};for(var _=typeof h=="string"?l(h,g):h,v=g.plainObjects?Object.create(null):{},p=Object.keys(_),E=0;E<p.length;++E){var y=p[E],S=f(y,_[y],g,typeof h=="string");v=e.merge(v,S,g)}return g.allowSparse===!0?v:e.compact(v)},CE}function wve(){if(wI)return kE;wI=!0;var e=vve(),t=yve(),r=Pk();return kE={formats:r,parse:t,stringify:e},kE}function bve(){if(bI)return Nf;bI=!0;var e=Rf;function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],s=["{","}","|","\\","^","`"].concat(o),a=["'"].concat(s),l=["%","/","?",";","#"].concat(a),u=["/","?","#"],f=255,c=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=wve();function p(T,$,d){if(T&&typeof T=="object"&&T instanceof t)return T;var x=new t;return x.parse(T,$,d),x}t.prototype.parse=function(T,$,d){if(typeof T!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof T);var x=T.indexOf("?"),O=x!==-1&&x<T.indexOf("#")?"?":"#",P=T.split(O),M=/\\/g;P[0]=P[0].replace(M,"/"),T=P.join(O);var U=T;if(U=U.trim(),!d&&T.split("#").length===1){var K=i.exec(U);if(K)return this.path=U,this.href=U,this.pathname=K[1],K[2]?(this.search=K[2],$?this.query=v.parse(this.search.substr(1)):this.query=this.search.substr(1)):$&&(this.search="",this.query={}),this}var ie=r.exec(U);if(ie){ie=ie[0];var G=ie.toLowerCase();this.protocol=G,U=U.substr(ie.length)}if(d||ie||U.match(/^\/\/[^@/]+@[^@/]+/)){var ne=U.substr(0,2)==="//";ne&&!(ie&&g[ie])&&(U=U.substr(2),this.slashes=!0)}if(!g[ie]&&(ne||ie&&!_[ie])){for(var ge=-1,re=0;re<u.length;re++){var se=U.indexOf(u[re]);se!==-1&&(ge===-1||se<ge)&&(ge=se)}var D,z;ge===-1?z=U.lastIndexOf("@"):z=U.lastIndexOf("@",ge),z!==-1&&(D=U.slice(0,z),U=U.slice(z+1),this.auth=decodeURIComponent(D)),ge=-1;for(var re=0;re<l.length;re++){var se=U.indexOf(l[re]);se!==-1&&(ge===-1||se<ge)&&(ge=se)}ge===-1&&(ge=U.length),this.host=U.slice(0,ge),U=U.slice(ge),this.parseHost(),this.hostname=this.hostname||"";var Y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Y)for(var N=this.hostname.split(/\./),re=0,I=N.length;re<I;re++){var q=N[re];if(q&&!q.match(c)){for(var ae="",Z=0,te=q.length;Z<te;Z++)q.charCodeAt(Z)>127?ae+="x":ae+=q[Z];if(!ae.match(c)){var ue=N.slice(0,re),xe=N.slice(re+1),Le=q.match(h);Le&&(ue.push(Le[1]),xe.unshift(Le[2])),xe.length&&(U="/"+xe.join(".")+U),this.hostname=ue.join(".");break}}}this.hostname.length>f?this.hostname="":this.hostname=this.hostname.toLowerCase(),Y||(this.hostname=e.toASCII(this.hostname));var C=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+C,this.href+=this.host,Y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),U[0]!=="/"&&(U="/"+U))}if(!m[G])for(var re=0,I=a.length;re<I;re++){var L=a[re];if(U.indexOf(L)!==-1){var ee=encodeURIComponent(L);ee===L&&(ee=escape(L)),U=U.split(L).join(ee)}}var ce=U.indexOf("#");ce!==-1&&(this.hash=U.substr(ce),U=U.slice(0,ce));var me=U.indexOf("?");if(me!==-1?(this.search=U.substr(me),this.query=U.substr(me+1),$&&(this.query=v.parse(this.query)),U=U.slice(0,me)):$&&(this.search="",this.query={}),U&&(this.pathname=U),_[G]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var C=this.pathname||"",ve=this.search||"";this.path=C+ve}return this.href=this.format(),this};function E(T){return typeof T=="string"&&(T=p(T)),T instanceof t?T.format():t.prototype.format.call(T)}t.prototype.format=function(){var T=this.auth||"";T&&(T=encodeURIComponent(T),T=T.replace(/%3A/i,":"),T+="@");var $=this.protocol||"",d=this.pathname||"",x=this.hash||"",O=!1,P="";this.host?O=T+this.host:this.hostname&&(O=T+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(O+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(P=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var M=this.search||P&&"?"+P||"";return $&&$.substr(-1)!==":"&&($+=":"),this.slashes||(!$||_[$])&&O!==!1?(O="//"+(O||""),d&&d.charAt(0)!=="/"&&(d="/"+d)):O||(O=""),x&&x.charAt(0)!=="#"&&(x="#"+x),M&&M.charAt(0)!=="?"&&(M="?"+M),d=d.replace(/[?#]/g,function(U){return encodeURIComponent(U)}),M=M.replace("#","%23"),$+O+d+M+x};function y(T,$){return p(T,!1,!0).resolve($)}t.prototype.resolve=function(T){return this.resolveObject(p(T,!1,!0)).format()};function S(T,$){return T?p(T,!1,!0).resolveObject($):$}return t.prototype.resolveObject=function(T){if(typeof T=="string"){var $=new t;$.parse(T,!1,!0),T=$}for(var d=new t,x=Object.keys(this),O=0;O<x.length;O++){var P=x[O];d[P]=this[P]}if(d.hash=T.hash,T.href==="")return d.href=d.format(),d;if(T.slashes&&!T.protocol){for(var M=Object.keys(T),U=0;U<M.length;U++){var K=M[U];K!=="protocol"&&(d[K]=T[K])}return _[d.protocol]&&d.hostname&&!d.pathname&&(d.pathname="/",d.path=d.pathname),d.href=d.format(),d}if(T.protocol&&T.protocol!==d.protocol){if(!_[T.protocol]){for(var ie=Object.keys(T),G=0;G<ie.length;G++){var ne=ie[G];d[ne]=T[ne]}return d.href=d.format(),d}if(d.protocol=T.protocol,!T.host&&!g[T.protocol]){for(var I=(T.pathname||"").split("/");I.length&&!(T.host=I.shift()););T.host||(T.host=""),T.hostname||(T.hostname=""),I[0]!==""&&I.unshift(""),I.length<2&&I.unshift(""),d.pathname=I.join("/")}else d.pathname=T.pathname;if(d.search=T.search,d.query=T.query,d.host=T.host||"",d.auth=T.auth,d.hostname=T.hostname||T.host,d.port=T.port,d.pathname||d.search){var ge=d.pathname||"",re=d.search||"";d.path=ge+re}return d.slashes=d.slashes||T.slashes,d.href=d.format(),d}var se=d.pathname&&d.pathname.charAt(0)==="/",D=T.host||T.pathname&&T.pathname.charAt(0)==="/",z=D||se||d.host&&T.pathname,Y=z,N=d.pathname&&d.pathname.split("/")||[],I=T.pathname&&T.pathname.split("/")||[],q=d.protocol&&!_[d.protocol];if(q&&(d.hostname="",d.port=null,d.host&&(N[0]===""?N[0]=d.host:N.unshift(d.host)),d.host="",T.protocol&&(T.hostname=null,T.port=null,T.host&&(I[0]===""?I[0]=T.host:I.unshift(T.host)),T.host=null),z=z&&(I[0]===""||N[0]==="")),D)d.host=T.host||T.host===""?T.host:d.host,d.hostname=T.hostname||T.hostname===""?T.hostname:d.hostname,d.search=T.search,d.query=T.query,N=I;else if(I.length)N||(N=[]),N.pop(),N=N.concat(I),d.search=T.search,d.query=T.query;else if(T.search!=null){if(q){d.host=N.shift(),d.hostname=d.host;var ae=d.host&&d.host.indexOf("@")>0?d.host.split("@"):!1;ae&&(d.auth=ae.shift(),d.hostname=ae.shift(),d.host=d.hostname)}return d.search=T.search,d.query=T.query,(d.pathname!==null||d.search!==null)&&(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"")),d.href=d.format(),d}if(!N.length)return d.pathname=null,d.search?d.path="/"+d.search:d.path=null,d.href=d.format(),d;for(var Z=N.slice(-1)[0],te=(d.host||T.host||N.length>1)&&(Z==="."||Z==="..")||Z==="",ue=0,xe=N.length;xe>=0;xe--)Z=N[xe],Z==="."?N.splice(xe,1):Z===".."?(N.splice(xe,1),ue++):ue&&(N.splice(xe,1),ue--);if(!z&&!Y)for(;ue--;ue)N.unshift("..");z&&N[0]!==""&&(!N[0]||N[0].charAt(0)!=="/")&&N.unshift(""),te&&N.join("/").substr(-1)!=="/"&&N.push("");var Le=N[0]===""||N[0]&&N[0].charAt(0)==="/";if(q){d.hostname=Le?"":N.length?N.shift():"",d.host=d.hostname;var ae=d.host&&d.host.indexOf("@")>0?d.host.split("@"):!1;ae&&(d.auth=ae.shift(),d.hostname=ae.shift(),d.host=d.hostname)}return z=z||d.host&&N.length,z&&!Le&&N.unshift(""),N.length>0?d.pathname=N.join("/"):(d.pathname=null,d.path=null),(d.pathname!==null||d.search!==null)&&(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"")),d.auth=T.auth||d.auth,d.slashes=d.slashes||T.slashes,d.href=d.format(),d},t.prototype.parseHost=function(){var T=this.host,$=n.exec(T);$&&($=$[0],$!==":"&&(this.port=$.substr(1)),T=T.substr(0,T.length-$.length)),T&&(this.hostname=T)},Nf.parse=p,Nf.resolve=y,Nf.resolveObject=S,Nf.format=E,Nf.Url=t,Nf}function pK(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return HS?_ve(e):Eve(e)}function _ve(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(AK,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<$K||n>xK||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function Eve(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function mK(e){let t=dI.resolve(e);const r=e.charCodeAt(e.length-1);(r===TK||HS&&r===SK)&&t[t.length-1]!==dI.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(OK,"%25")),!HS&&t.includes("\\")&&(t=t.replace(PK,"%5C")),t.includes(`
`)&&(t=t.replace(RK,"%0A")),t.includes("\r")&&(t=t.replace(NK,"%0D")),t.includes("	")&&(t=t.replace(IK,"%09")),n.pathname=t,n}var gK,AE,hI,OE,PE,pI,RE,mI,NE,gI,IE,vI,CE,yI,kE,wI,Nf,bI,Do,VB,vK,yK,wK,bK,_K,EK,SK,TK,$K,xK,HS,AK,OK,PK,RK,NK,IK,Sve=Vn({"../../node_modules/@jspm/core/nodelibs/browser/url.js"(){Ie(),dve(),fk(),pve(),l0(),gK=Object.freeze(Object.create(null)),AE={},hI=!1,OE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,PE={},pI=!1,RE={},mI=!1,NE={},gI=!1,IE={},vI=!1,CE={},yI=!1,kE={},wI=!1,Nf={},bI=!1,Do=bve(),Do.parse,Do.resolve,Do.resolveObject,Do.format,Do.Url,VB=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Do.URL=typeof URL<"u"?URL:null,Do.pathToFileURL=mK,Do.fileURLToPath=pK,vK=Do.Url,yK=Do.format,wK=Do.resolve,bK=Do.resolveObject,_K=Do.parse,EK=Do.URL,SK=92,TK=47,$K=97,xK=122,HS=VB==="win32",AK=/\//g,OK=/%/g,PK=/\\/g,RK=/\n/g,NK=/\r/g,IK=/\t/g}}),Tve=Fe({"../../node_modules/eventsource/lib/eventsource.js"(e,t){Ie();var r=(Sve(),hn(dK)).parse,n=(RW(),hn(SW)),i=(tT(),hn(u0)),o=(rk(),hn(Z1)),s=(nT(),hn(rT)),a=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],l=[239,187,191],u=58,f=32,c=10,h=13,m=1024*256,g=/^(cookie|authorization)$/i;function _(S){return l.every(function(T,$){return S[$]===T})}function v(S,T){var $=v.CONNECTING,d=T&&T.headers,x=!1;Object.defineProperty(this,"readyState",{get:function(){return $}}),Object.defineProperty(this,"url",{get:function(){return S}});var O=this;O.reconnectInterval=1e3,O.connectionInProgress=!1;function P(D){$!==v.CLOSED&&($=v.CONNECTING,re("error",new p("error",{message:D})),ne&&(S=ne,ne=null,x=!1),setTimeout(function(){$!==v.CONNECTING||O.connectionInProgress||(O.connectionInProgress=!0,ge())},O.reconnectInterval))}var M,U="";d&&d["Last-Event-ID"]&&(U=d["Last-Event-ID"],delete d["Last-Event-ID"]);var K=!1,ie="",G="",ne=null;function ge(){var D=r(S),z=D.protocol==="https:";if(D.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},U&&(D.headers["Last-Event-ID"]=U),d){var Y=x?y(d):d;for(var N in Y){var I=Y[N];I&&(D.headers[N]=I)}}D.rejectUnauthorized=!(T&&!T.rejectUnauthorized),T&&T.createConnection!==void 0&&(D.createConnection=T.createConnection);var q=T&&T.proxy;if(q){var ae=r(T.proxy);z=ae.protocol==="https:",D.protocol=z?"https:":"http:",D.path=S,D.headers.Host=D.host,D.hostname=ae.hostname,D.host=ae.host,D.port=ae.port}if(T&&T.https){for(var Z in T.https)if(a.indexOf(Z)!==-1){var te=T.https[Z];te!==void 0&&(D[Z]=te)}}T&&T.withCredentials!==void 0&&(D.withCredentials=T.withCredentials),M=(z?i:o).request(D,function(ue){if(O.connectionInProgress=!1,ue.statusCode===500||ue.statusCode===502||ue.statusCode===503||ue.statusCode===504){re("error",new p("error",{status:ue.statusCode,message:ue.statusMessage})),P();return}if(ue.statusCode===301||ue.statusCode===302||ue.statusCode===307){var xe=ue.headers.location;if(!xe){re("error",new p("error",{status:ue.statusCode,message:ue.statusMessage}));return}var Le=new URL(S).origin,C=new URL(xe).origin;x=Le!==C,ue.statusCode===307&&(ne=S),S=xe,process.nextTick(ge);return}if(ue.statusCode!==200)return re("error",new p("error",{status:ue.statusCode,message:ue.statusMessage})),O.close();$=v.OPEN,ue.on("close",function(){ue.removeAllListeners("close"),ue.removeAllListeners("end"),P()}),ue.on("end",function(){ue.removeAllListeners("close"),ue.removeAllListeners("end"),P()}),re("open",new p("open"));var F,L,ee=0,ce=-1,me=0,ve=0;ue.on("data",function(Te){F?(Te.length>F.length-ve&&(me=F.length*2+Te.length,me>m&&(me=F.length+Te.length+m),L=Cn.alloc(me),F.copy(L,0,0,ve),F=L),Te.copy(F,ve),ve+=Te.length):(F=Te,_(F)&&(F=F.slice(l.length)),ve=F.length);for(var De=0,Ge=ve;De<Ge;){K&&(F[De]===c&&++De,K=!1);for(var Ve=-1,ht=ce,tt,Xe=ee;Ve<0&&Xe<Ge;++Xe)tt=F[Xe],tt===u?ht<0&&(ht=Xe-De):tt===h?(K=!0,Ve=Xe-De):tt===c&&(Ve=Xe-De);if(Ve<0){ee=Ge-De,ce=ht;break}else ee=0,ce=-1;se(F,De,ht,Ve),De+=Ve+1}De===Ge?(F=void 0,ve=0):De>0&&(F=F.slice(De,ve),ve=F.length)})}),M.on("error",function(ue){O.connectionInProgress=!1,P(ue.message)}),M.setNoDelay&&M.setNoDelay(!0),M.end()}ge();function re(){O.listeners(arguments[0]).length>0&&O.emit.apply(O,arguments)}this._close=function(){$!==v.CLOSED&&($=v.CLOSED,M.abort&&M.abort(),M.xhr&&M.xhr.abort&&M.xhr.abort())};function se(D,z,Y,N){if(N===0){if(ie.length>0){var I=G||"message";re(I,new E(I,{data:ie.slice(0,-1),lastEventId:U,origin:new URL(S).origin})),ie=""}G=void 0}else if(Y>0){var q=Y<0,ae=0,Z=D.slice(z,z+(q?N:Y)).toString();q?ae=N:D[z+Y+1]!==f?ae=Y+1:ae=Y+2,z+=ae;var te=N-ae,ue=D.slice(z,z+te).toString();if(Z==="data")ie+=ue+`
`;else if(Z==="event")G=ue;else if(Z==="id")U=ue;else if(Z==="retry"){var xe=parseInt(ue,10);Number.isNaN(xe)||(O.reconnectInterval=xe)}}}}t.exports=v,s.inherits(v,n.EventEmitter),v.prototype.constructor=v,["open","error","message"].forEach(function(S){Object.defineProperty(v.prototype,"on"+S,{get:function(){var $=this.listeners(S)[0];return $?$._listener?$._listener:$:void 0},set:function($){this.removeAllListeners(S),this.addEventListener(S,$)}})}),Object.defineProperty(v,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(v,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(v,"CLOSED",{enumerable:!0,value:2}),v.prototype.CONNECTING=0,v.prototype.OPEN=1,v.prototype.CLOSED=2,v.prototype.close=function(){this._close()},v.prototype.addEventListener=function(T,$){typeof $=="function"&&($._listener=$,this.on(T,$))},v.prototype.dispatchEvent=function(T){if(!T.type)throw new Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit(T.type,T.detail)},v.prototype.removeEventListener=function(T,$){typeof $=="function"&&($._listener=void 0,this.removeListener(T,$))};function p(S,T){if(Object.defineProperty(this,"type",{writable:!1,value:S,enumerable:!0}),T)for(var $ in T)T.hasOwnProperty($)&&Object.defineProperty(this,$,{writable:!1,value:T[$],enumerable:!0})}function E(S,T){Object.defineProperty(this,"type",{writable:!1,value:S,enumerable:!0});for(var $ in T)T.hasOwnProperty($)&&Object.defineProperty(this,$,{writable:!1,value:T[$],enumerable:!0})}function y(S){var T={};for(var $ in S)g.test($)||(T[$]=S[$]);return T}}}),$ve=Fe({"../binding-http/dist/subscription-protocols.js"(e){Ie();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.SSESubscription=e.LongPollingSubscription=void 0;var r=t(Tve()),n=Qs(),i=(ml(),hn(Aa)),{debug:o}=(0,n.createLoggers)("binding-http","subscription-protocols"),s=class{constructor(l,u){this.form=l,this.client=u,this.closed=!1,this.abortController=new AbortController}open(l,u,f){return new Promise((c,h)=>{const m=async g=>{try{if(g){const p=await this.client.generateFetchRequest(this.form,"HEAD",{timeout:1e3,signal:this.abortController.signal});(await this.client.fetch(p)).ok&&c()}const _=await this.client.generateFetchRequest(this.form,"GET",{timeout:60*60*1e3,signal:this.abortController.signal});o(`HttpClient (subscribeResource) sending ${_.method} to ${_.url}`);const v=await this.client.fetch(_);if(this.client.checkFetchResponse(v),o(`HttpClient received ${v.status} from ${_.url}`),o(`HttpClient received headers: ${JSON.stringify(v.headers.raw())}`),o(`HttpClient received Content-Type: ${v.headers.get("content-type")}`),!this.closed){const p=n.ProtocolHelpers.toNodeStream(v.body);l(new n.Content(v.headers.get("content-type")??n.ContentSerdes.DEFAULT,p)),m(!1)}f&&f()}catch(_){const v=_ instanceof Error?_:new Error(JSON.stringify(_));u&&u(v),f&&f(),h(_)}};m(!0)})}close(){this.abortController.abort(),this.closed=!0}};e.LongPollingSubscription=s;var a=class{constructor(l){this.form=l,this.closed=!1}open(l,u,f){return new Promise((c,h)=>{this.eventSource=new r.default(this.form.href),this.eventSource.onopen=m=>{o(`HttpClient (subscribeResource) Server-Sent Event connection is opened to ${this.form.href}`),c()},this.eventSource.onmessage=m=>{o(`HttpClient received ${JSON.stringify(m)} from ${this.form.href}`);const g=new n.Content(this.form.contentType??n.ContentSerdes.DEFAULT,i.Readable.from(m.data));l(g)},this.eventSource.onerror=function(m){u==null||u(new Error(m.toString())),f&&f(),h(m.toString())}})}close(){var l;(l=this.eventSource)==null||l.close()}};e.SSESubscription=a}}),xve=Fe({"../binding-http/dist/http-client-impl.js"(e){Ie();var t=e&&e.__createBinding||(Object.create?function(E,y,S,T){T===void 0&&(T=S);var $=Object.getOwnPropertyDescriptor(y,S);(!$||("get"in $?!y.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return y[S]}}),Object.defineProperty(E,T,$)}:function(E,y,S,T){T===void 0&&(T=S),E[T]=y[S]}),r=e&&e.__setModuleDefault||(Object.create?function(E,y){Object.defineProperty(E,"default",{enumerable:!0,value:y})}:function(E,y){E.default=y}),n=e&&e.__importStar||function(){var E=function(y){return E=Object.getOwnPropertyNames||function(S){var T=[];for(var $ in S)Object.prototype.hasOwnProperty.call(S,$)&&(T[T.length]=$);return T},E(y)};return function(y){if(y&&y.__esModule)return y;var S={};if(y!=null)for(var T=E(y),$=0;$<T.length;$++)T[$]!=="default"&&t(S,y,T[$]);return r(S,y),S}}(),i=e&&e.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0});var o=n((rk(),hn(Z1))),s=n((tT(),hn(u0))),a=Qge(),l=Qs(),u=n(Ok()),f=(md(),hn(pd)),c=i(fK()),h=uK(),m=$ve(),{debug:g,warn:_,error:v}=(0,l.createLoggers)("binding-http","http-client-impl"),p=class Tv{constructor(y=null,S=!1,T=new c.default){this.proxyRequest=null,this.allowSelfSigned=!1,this.credential=null,this.activeSubscriptions=new Map,y!==null&&y.proxy&&y.proxy.href&&(this.proxyRequest=new u.Request(Tv.fixLocalhostName(y.proxy.href)),y.proxy.scheme==="basic"?((!Object.prototype.hasOwnProperty.call(y.proxy,"username")||!Object.prototype.hasOwnProperty.call(y.proxy,"password"))&&_("HttpClient client configured for basic proxy auth, but no username/password given"),this.proxyRequest.headers.set("proxy-authorization","Basic "+f.Buffer.from(y.proxy.username+":"+y.proxy.password).toString("base64"))):y.proxy.scheme==="bearer"&&(Object.prototype.hasOwnProperty.call(y.proxy,"token")||_("HttpClient client configured for bearer proxy auth, but no token given"),this.proxyRequest.headers.set("proxy-authorization","Bearer "+y.proxy.token)),this.proxyRequest.protocol==="https"&&(S=!0),g(`HttpClient using ${S?"secure ":""}proxy ${this.proxyRequest.hostname}:${this.proxyRequest.port}`)),y!==null&&y.allowSelfSigned!==void 0&&(this.allowSelfSigned=y.allowSelfSigned,_("HttpClient allowing self-signed/untrusted certificates -- USE FOR TESTING ONLY")),this.agent=S?new s.Agent({rejectUnauthorized:!this.allowSelfSigned}):new o.Agent,this.provider=S?"https":"http",this.oauth=T}toString(){return"[HttpClient]"}async readResource(y){const S=y.contentType!=null?[["accept",y.contentType]]:[["accept",l.ContentSerdes.DEFAULT]],T=await this.generateFetchRequest(y,"GET",{headers:S});g(`HttpClient (readResource) sending ${T.method} to ${T.url}`);const $=await this.fetch(T);this.checkFetchResponse($),g(`HttpClient received headers: ${JSON.stringify($.headers.raw())}`),g(`HttpClient received Content-Type: ${$.headers.get("content-type")}`);const d=l.ProtocolHelpers.toNodeStream($.body);return new l.Content($.headers.get("content-type")??l.ContentSerdes.DEFAULT,d)}async writeResource(y,S){const T=await this.generateFetchRequest(y,"PUT",{headers:[["content-type",S.type]],body:S.body});g(`HttpClient (writeResource) sending ${T.method} with '${T.headers.get("Content-Type")}' to ${T.url}`);const $=await this.fetch(T);g(`HttpClient received ${$.status} from ${$.url}`),this.checkFetchResponse($),g(`HttpClient received headers: ${JSON.stringify($.headers.raw())}`)}async subscribeResource(y,S,T,$){const d="longpoll";let x=y.subprotocol;x==null&&(_(`Subscribing to ${y.href} using long polling for form without subprotocol`),x=d);let O;if(x===d)O=new m.LongPollingSubscription(y,this);else if(y.subprotocol==="sse")O=new m.SSESubscription(y);else throw new Error(`HttpClient does not support subprotocol ${y.subprotocol}`);return await O.open(S,T,$),this.activeSubscriptions.set(y.href,O),new a.Subscription(()=>{O.close()})}async invokeResource(y,S){var O,P;const T=S!=null?[["content-type",S.type]]:[];((O=y.response)==null?void 0:O.contentType)!=null?T.push(["accept",(P=y.response)==null?void 0:P.contentType]):y.contentType!=null?T.push(["accept",y.contentType]):T.push(["accept",l.ContentSerdes.DEFAULT]);const $=await this.generateFetchRequest(y,"POST",{headers:T,body:S==null?void 0:S.body});g(`HttpClient (invokeResource) sending ${$.method} ${S!=null?`with '"${$.headers.get("Content-Type")}"`:""} to ${$.url}`);const d=await this.fetch($);g(`HttpClient received ${d.status} from ${$.url}`),g(`HttpClient received Content-Type: ${d.headers.get("content-type")}`),this.checkFetchResponse(d);const x=l.ProtocolHelpers.toNodeStream(d.body);return new l.Content(d.headers.get("content-type")??l.ContentSerdes.DEFAULT,x)}async unlinkResource(y){g(`HttpClient (unlinkResource) ${y.href}`);const S=this.activeSubscriptions.get(y.href);S?S.close():_(`HttpClient cannot unlink ${y.href} no subscription found`)}async requestThingDescription(y){const S={Accept:"application/td+json"},T=await this.generateFetchRequest({href:y},"GET",S),$=await this.fetch(T),d=l.ProtocolHelpers.toNodeStream($.body);return new l.Content($.headers.get("content-type")??"application/td+json",d)}async start(){}async stop(){var y,S;(S=(y=this.agent)==null?void 0:y.destroy)==null||S.call(y)}setSecurity(y,S){if(y===void 0||!Array.isArray(y)||y.length===0)return _("HttpClient without security"),!1;const T=y[0];switch(T.scheme){case"basic":{const $=T;this.credential=new h.BasicCredential(S,$);break}case"bearer":{const $=T;this.credential=new h.BearerCredential(S,$);break}case"apikey":{const $=T;this.credential=new h.BasicKeyCredential(S,$);break}case"oauth2":{const $=T;$.flow==="client"?($.flow="client_credentials",this.credential=this.oauth.handleClient($,S)):$.flow==="password"&&(this.credential=this.oauth.handleResourceOwnerCredential($,S));break}case"TuyaCustomBearer":{this.credential=new h.TuyaCustomBearer(S,T);break}case"nosec":break;default:return v(`HttpClient cannot set security scheme '${T.scheme}'. ${y}`),!1}if(T.proxy!=null){if(this.proxyRequest!==null&&g(`HttpClient overriding client-side proxy with security proxy '${T.proxy}`),this.proxyRequest=new u.Request(Tv.fixLocalhostName(T.proxy)),T.scheme==="basic"){const $=S;if($===void 0||$.username===void 0||$.password===void 0)throw new Error("No Basic credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Basic "+f.Buffer.from($.username+":"+$.password).toString("base64"))}else if(T.scheme==="bearer"){const $=S;if(S===void 0||$.token===void 0)throw new Error("No Bearer credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Bearer "+$.token)}}return g(`HttpClient using security scheme '${T.scheme}'`),!0}async generateFetchRequest(y,S,T={}){const $=T,d=Tv.fixLocalhostName(y.href);if($.method=y["htv:methodName"]?y["htv:methodName"]:S,$.headers=$.headers??[],$.headers=$.headers,Array.isArray(y["htv:headers"])){g(`HttpClient got Form 'headers' ${y["htv:headers"]}`);const O=y["htv:headers"];for(const P of O)$.headers=$.headers.filter(M=>M[0].toLowerCase()!==P["htv:fieldName"].toLowerCase()),$.headers.push([P["htv:fieldName"],P["htv:fieldValue"]])}else if(typeof y["htv:headers"]=="object"){g(`HttpClient got Form SINGLE-ENTRY 'headers' ${y["htv:headers"]}`);const O=y["htv:headers"];$.headers=$.headers.filter(P=>P[0].toLowerCase()!==O["htv:fieldName"].toLowerCase()),$.headers.push([O["htv:fieldName"],O["htv:fieldValue"]])}$.agent=this.agent;let x=this.proxyRequest?new u.Request(this.proxyRequest,$):new u.Request(d,$);if(this.credential&&(x=await this.credential.sign(x)),this.proxyRequest){const O=new URL(d);x.url=x.url+O.pathname,g(`HttpClient proxy request URL: ${x.url}`),x.headers.set("host",O.hostname)}return x}async fetch(y,S){const T=await(0,u.default)(y,{body:S==null?void 0:S.body});return Tv.isOAuthTokenExpired(T,this.credential)?(this.credential=await this.credential.refreshToken(),await(0,u.default)(await this.credential.sign(y))):T}checkFetchResponse(y){const S=y.status;if(S<200)throw new Error(`HttpClient received ${S} and cannot continue (not implemented, open GitHub Issue)`);if(!(S<300))throw S<400?new Error(`HttpClient received ${S} and cannot continue (not implemented, open GitHub Issue)`):S<500?new Error(`Client error: ${y.statusText}`):new Error(`Server error: ${y.statusText}`)}static isOAuthTokenExpired(y,S){return y.status===401&&S instanceof h.OAuthCredential}static fixLocalhostName(y){const S=/^(https?:)?(\/\/)?(?:[^@\n]+@)?(www\.)?(localhost)/gm;return S.test(y)?(_("LOCALHOST FIX"),y.replace(S,"$1$2127.0.0.1")):y}};e.default=p}}),WS=Fe({"../binding-http/dist/http-client-browser.js"(e){Ie();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var r=Qs(),n=(ml(),hn(Aa)),i=t(xve()),o=class extends i.default{async generateFetchRequest(s,a,l){if((l==null?void 0:l.body)instanceof n.Readable){const u=await r.ProtocolHelpers.readStreamFully(l.body);l.body=u}return super.generateFetchRequest(s,a,l)}};e.default=o}}),HB=Fe({"../binding-http/dist/http-client-factory.js"(e){Ie();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=Qs(),n=t(WS()),i=t(fK()),{debug:o,warn:s}=(0,r.createLoggers)("binding-http","http-client-factory"),a=class{constructor(l=null){this.scheme="http",this.config=null,this.oAuthManager=new i.default,this.config=l}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("https:")?(s("HttpClientFactory creating client for 'https' due to secure proxy configuration"),new n.default(this.config,!0,this.oAuthManager)):(o(`HttpClientFactory creating client for '${this.scheme}'`),new n.default(this.config))}init(){return!0}destroy(){return!0}};e.default=a}}),WB=Fe({"../binding-http/dist/https-client-factory.js"(e){Ie();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var r=Qs(),n=t(WS()),{debug:i,warn:o}=(0,r.createLoggers)("binding-http","https-client-factory"),s=class{constructor(a=null){this.scheme="https",this.config=null,this.config=a}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("http:")?(o("HttpsClientFactory creating client for 'http' due to insecure proxy configuration"),new n.default(this.config)):(i(`HttpsClientFactory creating client for '${this.scheme}'`),new n.default(this.config,!0))}init(){return!0}destroy(){return!0}};e.default=s}}),Ave=Fe({"../binding-http/dist/http-browser.js"(e){Ie();var t=e&&e.__createBinding||(Object.create?function(c,h,m,g){g===void 0&&(g=m);var _=Object.getOwnPropertyDescriptor(h,m);(!_||("get"in _?!h.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(c,g,_)}:function(c,h,m,g){g===void 0&&(g=m),c[g]=h[m]}),r=e&&e.__exportStar||function(c,h){for(var m in c)m!=="default"&&!Object.prototype.hasOwnProperty.call(h,m)&&t(h,c,m)},n=e&&e.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.HttpForm=e.HttpHeader=e.HttpsClientFactory=e.HttpClientFactory=e.HttpClient=void 0;var i=Qs(),o=Ok(),s=WS();Object.defineProperty(e,"HttpClient",{enumerable:!0,get:function(){return n(s).default}});var a=HB();Object.defineProperty(e,"HttpClientFactory",{enumerable:!0,get:function(){return n(a).default}});var l=WB();Object.defineProperty(e,"HttpsClientFactory",{enumerable:!0,get:function(){return n(l).default}}),r(WS(),e),r(HB(),e),r(WB(),e);var u=class{};e.HttpHeader=u;var f=class extends i.Form{};e.HttpForm=f,o.Headers.prototype.raw=function(){const c={};for(const[h,m]of this.entries())c[h]=m.split(",");return c},o.Response.prototype.buffer=async function(){return Cn.from(await this.arrayBuffer())}}}),_I=Fe({"../binding-websockets/dist/ws-client.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=Qs(),{debug:r,warn:n}=(0,t.createLoggers)("binding-websockets","ws-client"),i=class{constructor(){}toString(){return"[WebSocketClient]"}readResource(o){return new Promise((s,a)=>{})}writeResource(o,s){return new Promise((a,l)=>{})}invokeResource(o,s){return new Promise((a,l)=>{})}unlinkResource(o){return new Promise((s,a)=>{})}subscribeResource(o,s,a,l){throw new Error("Websocket client does not implement subscribeResource")}async requestThingDescription(o){throw new Error("Method not implemented")}async start(){}async stop(){}setSecurity(o,s){if(o===void 0||!Array.isArray(o)||o.length===0)return n("WebSocketClient received empty security metadata"),!1;const a=o[0];return r(`WebSocketClient using security scheme '${a.scheme}'`),!0}};e.default=i}}),GB=Fe({"../binding-websockets/dist/ws-client-factory.js"(e){Ie();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var r=Qs(),n=t(_I()),{debug:i}=(0,r.createLoggers)("binding-websockets","ws-client-factory"),o=class{constructor(s=null){this.scheme="ws",this.clientSideProxy=null,this.clientSideProxy=s}getClient(){return i(`HttpClientFactory creating client for '${this.scheme}'`),new n.default}init(){return!0}destroy(){return!0}};e.default=o}}),KB=Fe({"../binding-websockets/dist/wss-client-factory.js"(e){Ie(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(){this.scheme="wss"}getClient(){throw new Error("WssClientFactory for 'wss' is not implemented")}init(){return!0}destroy(){return!0}};e.default=t}}),Ove=Fe({"../binding-websockets/dist/ws-browser.js"(e){Ie();var t=e&&e.__createBinding||(Object.create?function(a,l,u,f){f===void 0&&(f=u);var c=Object.getOwnPropertyDescriptor(l,u);(!c||("get"in c?!l.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(a,f,c)}:function(a,l,u,f){f===void 0&&(f=u),a[f]=l[u]}),r=e&&e.__exportStar||function(a,l){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&t(l,a,u)},n=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketSecureClientFactory=e.WebSocketClientFactory=e.WebSocketClient=void 0;var i=_I();Object.defineProperty(e,"WebSocketClient",{enumerable:!0,get:function(){return n(i).default}});var o=GB();Object.defineProperty(e,"WebSocketClientFactory",{enumerable:!0,get:function(){return n(o).default}});var s=KB();Object.defineProperty(e,"WebSocketSecureClientFactory",{enumerable:!0,get:function(){return n(s).default}}),r(_I(),e),r(GB(),e),r(KB(),e)}});Ie();var Pve=W2(Qs()),Rve=W2(Ave());W2(Ove());const $m=e=>{const t=e.split(" - ");return parseInt(t[1],10)},Nve=(e,t)=>{let r=t+1;return t===0?e:e+` (form ${String(r)})`},CK=e=>(e.startsWith("modbus:")&&(e=e.replace("modbus:","")),e.startsWith("propName")&&(e="Property Name"),e.startsWith("href")&&(e="Resource"),e.startsWith("htv:methodName")&&(e="Method"),e=e.replace(/([a-z])([A-Z])/g,"$1 $2"),e.charAt(0).toUpperCase()+e.slice(1)),EI=e=>/^(https?:\/\/)([\w.-]+)(:\d+)?(\/[^\s]*)?$/i.test(e),Ive=e=>{if(e.length===0)return"";const t=e.startsWith(" ")?e.substring(1):e;return t.length===0?"":/[a-zA-Z]/.test(t[0])?t[0].toUpperCase()+t.slice(1):t},Cve=e=>e?e.endsWith("/")?e:`${e}/`:"/";function Rp(e){return e.replace(/^"|"$/g,"")}var gT={},kve=/~/,jve=/~[01]/g;function Dve(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function kK(e){return kve.test(e)?e.replace(jve,Dve):e}function Mve(e,t,r){for(var n,i,o=1,s=t.length;o<s;){if(t[o]==="constructor"||t[o]==="prototype"||t[o]==="__proto__")return e;if(n=kK(t[o++]),i=s>o,typeof e[n]>"u"&&(Array.isArray(e)&&n==="-"&&(n=e.length),i&&(t[o]!==""&&t[o]<1/0||t[o]==="-"?e[n]=[]:e[n]={})),!i)break;e=e[n]}var a=e[n];return r===void 0?delete e[n]:e[n]=r,a}function Rk(e){if(typeof e=="string"){if(e=e.split("/"),e[0]==="")return e;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(e)){for(const t of e)if(typeof t!="string"&&typeof t!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return e}throw new Error("Invalid JSON pointer.")}function jK(e,t){if(typeof e!="object")throw new Error("Invalid input object.");t=Rk(t);var r=t.length;if(r===1)return e;for(var n=1;n<r;){if(e=e[kK(t[n++])],r===n)return e;if(typeof e!="object"||e===null)return}}function DK(e,t,r){if(typeof e!="object")throw new Error("Invalid input object.");if(t=Rk(t),t.length===0)throw new Error("Invalid JSON pointer for set.");return Mve(e,t,r)}function Lve(e){var t=Rk(e);return{get:function(r){return jK(r,t)},set:function(r,n){return DK(r,t,n)}}}gT.get=jK;gT.set=DK;gT.compile=Lve;const Nk=new Pve.Servient;Nk.addClientFactory(new Rve.HttpClientFactory);console.log("init servient");const MK={readproperty:{color:"Green",title:"Read",level:"properties",callback:xy},writeproperty:{color:"Blue",title:"Write",level:"properties",callback:Bve},observeproperty:{color:"Orange",title:"Observe",level:"properties",callback:null},unobserveproperty:{color:"Red",title:"Unobserve",level:"properties",callback:null},invokeaction:{color:"Orange",title:"Invoke",level:"actions",callback:null},subscribeevent:{color:"Orange",title:"Subscribe",level:"events",callback:null},unsubscribeevent:{color:"Red",title:"Unsubscribe",level:"events",callback:null},readmultipleproperties:{color:"Green",title:"Read Multiple",level:"thing",callback:null},readallproperties:{color:"Green",title:"Read All",level:"thing",callback:null},writemultipleproperties:{color:"Blue",title:"Write Multiple",level:"thing",callback:null},writeallproperties:{color:"Blue",title:"Write All",level:"thing",callback:null},observeallproperties:{color:"Orange",title:"Observe All",level:"thing",callback:null},unobserveallproperties:{color:"Red",title:"Unobserve All",level:"thing",callback:null}},Fve=(e,t)=>{try{switch(e){case"boolean":return Rp(t).toLowerCase()==="true";case"integer":const r=parseInt(Rp(t),10);if(isNaN(r))throw new Error(`Error on convert "${t}" to an integer.`);return r;case"number":const n=parseFloat(Rp(t));if(isNaN(n))throw new Error(`Error on convert "${t}" to a number.`);return n;case"string":return Rp(t);case"array":let i=Rp(t);if(Array.isArray(i))return i;try{const o=JSON.parse(i);if(Array.isArray(o))return o}catch{throw new Error(`Error on convert "${t}" to an array.`)}case"object":try{return JSON.parse(Rp(t))}catch{throw new Error(`Error on convert "${t}" to an object.`)}default:throw new Error(`Unsupported type: "${e}".`)}}catch(r){console.error(`Failed to parse content for ${e}:`,r)}};async function xy(e,t,r,n){try{const s=await(await(await Nk.start()).consume(e)).readProperty(t,r);s.ignoreValidation=!0;const a=await s.value();if(n==="")return{result:JSON.stringify(a,null,2),err:null};if(a===null)return{result:"null",err:null};if(typeof a=="object"||Array.isArray(a))try{const l=gT.get(a,n);return{result:JSON.stringify(l,null,2),err:null}}catch{return{result:"",err:new Error("Failed to get value with JSONPointer path: "+n)}}return{result:JSON.stringify(a,null,2),err:null}}catch(i){return console.debug(i),{result:"",err:i}}}async function Bve(e,t,r){try{if(e.properties===void 0||e.properties[t]===void 0)throw new Error(`Property "${t}" not found in Thing Description.`);const n=e.properties[t].type,i=Fve(n,r);return await(await(await Nk.start()).consume(e)).writeProperty(t,i),{result:`Successfully wrote ${JSON.stringify(i).length>50?JSON.stringify(i).slice(0,50)+"...":JSON.stringify(i)} to '${t}'.`,err:null}}catch(n){return console.debug(n),{result:"",err:n}}}const LK="northbound",FK="southbound",BK="valuePath",Us=e=>{let t;switch(e){case"northbound":t=LK;break;case"southbound":t=FK;break;case"valuePath":t=BK;break;default:return""}const r=localStorage.getItem(t);return r===null?"":r||""},Xx=(e,t)=>{let r;switch(t){case"northbound":r=LK;break;case"southbound":r=FK;break;case"valuePath":r=BK;break;default:return}if(e===""){localStorage.setItem(r,"");return}localStorage.setItem(r,e)},Uve=({operationType:e,form:t,interactionFunction:r,usesNorthboundConnection:n})=>{const i=Ne.useContext(Fn),[o,s]=Ne.useState(""),[a,l]=Ne.useState(!1),[u,f]=Ne.useState(null),[c,h]=Ne.useState(null),m=MK[e];if(!m)return X.jsx(X.Fragment,{});const g=X.jsx("div",{className:"flex h-8 min-w-20 justify-center place-self-center rounded-md bg-white",children:X.jsx("div",{className:`text-form${m.color} place-self-center px-4 text-center`,children:m.title})}),_=async()=>{if(r){l(!0);try{let p;const E=r,y=Us("valuePath");n?p=await E(i.northboundConnection.northboundTd,t.propName,o,y):p=await E(i.parsedTD,t.propName,o,""),p.err!==null?(h(p.err.message),f(null)):(h(null),f(p.result))}catch(p){h(p instanceof Error?p.message:"Unknown error occurred"),f(null)}finally{l(!1),s("")}}},v=p=>{p.preventDefault(),_()};return X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:`flex min-h-12 w-full items-stretch bg-opacity-75 bg-form${m.color} mt-2 ${a||u!==null||c!=null||t.op==="writeproperty"?"rounded-t-md":"rounded-md"} border-2 pl-4 border-form${m.color}`,children:[r&&X.jsx("button",{onClick:_,children:g}),!r&&X.jsx("div",{className:"flex",children:g}),X.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-base text-white",children:t.href}),(c!==null||u!==null)&&X.jsx("button",{className:`flex min-w-10 items-center justify-center border-r-2 border-form${m.color} bg-form${m.color}`,onClick:()=>{h(null),f(null)},children:X.jsx(bh,{size:16,color:"white"})}),X.jsx("button",{className:`flex min-w-10 items-center justify-center bg-form${m.color}`,onClick:()=>i.removeForm(m.level,t.propName,t,t.actualIndex),children:X.jsx(hd,{size:16,color:"white"})})]}),t.op==="writeproperty"&&X.jsx("form",{onSubmit:v,children:X.jsx("input",{type:"text",placeholder:"Input a value and hit write...",value:o,onChange:p=>s(p.target.value),className:`flex w-full overflow-auto bg-white px-4 py-2 ${u!==null||c!=null?"border-b-2 border-gray-300":"rounded-b-md"}`})}),a!==!1&&X.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:X.jsx("div",{className:"p-4 text-black",children:"Waiting for a response..."})}),c!==null&&X.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:X.jsxs("div",{className:"text-formRed p-4",children:["Error: ",c]})}),u!==null&&X.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:X.jsx("div",{className:"p-4 text-black",children:u})})]})},zve=({level:e,form:t})=>{const r=Ne.useContext(Fn);return X.jsxs("div",{className:"flex min-h-10 w-full items-stretch rounded-md border-2 border-gray-300 bg-gray-300 bg-opacity-75 pl-4",children:[X.jsx("div",{className:"flex h-6 min-w-20 justify-center place-self-center rounded-md bg-white",children:X.jsx("div",{className:"place-self-center px-4 text-center text-xs text-black",children:"Undefined"})}),X.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-white",children:t.href}),X.jsx("button",{className:"flex w-10 items-center justify-center bg-gray-300",onClick:()=>r.removeForm(e,t.propName,t,t.actualIndex),children:X.jsx(hd,{size:16,color:"black"})})]})},qve=e=>({action:"actions",property:"properties",event:"events",thing:"thing"})[e],vT=e=>{const t=Ne.useContext(Fn),r={...e.form,propName:e.propName},n=Object.keys(t.northboundConnection.northboundTd).length>0,i=MK[r.op];return i?X.jsx(X.Fragment,{children:X.jsx(Uve,{operationType:r.op,form:r,interactionFunction:i.callback,usesNorthboundConnection:n})}):X.jsx(zve,{level:qve(e.interactionType),form:r})},Ik=e=>X.jsxs(X.Fragment,{children:[X.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),X.jsx("textarea",{id:e.id,rows:5,className:"w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:e.placeholder})]}),Ls=e=>X.jsxs("div",{className:"py-1",children:[X.jsx("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:e.label}),X.jsx("input",{name:e.id,id:e.id,className:` ${e.className} w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm`,placeholder:e.placeholder,type:e.type??"text",autoFocus:e.autoFocus??!1,onChange:e.onChange,value:e.value}),X.jsx("span",{id:`${e.id}-helper-text`,className:"pl-2 text-xs text-red-400"})]},e.id),UK=Ne.forwardRef((e,t)=>{const r=Ne.useContext(Fn),[n,i]=ct.useState(()=>!1),o="action",s="actions",a=o[0].toUpperCase()+o.slice(1);Ne.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=X.jsxs(X.Fragment,{children:[X.jsx(Ls,{id:`${o}-title`,label:"Title",placeholder:`${a} Title`,autoFocus:!0,onChange:()=>m()}),X.jsx(Ik,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${a}...`})]}),c=()=>{if(!r.isValidJSON){h("Can't add Action. TD is malformed.");return}const g=document.getElementById(`${o}-title`),_=document.getElementById(`${o}-description`),v={title:g.value,description:_.value||void 0,forms:[]},p=r.parsedTD;p[s]&&p[s][v.title]?h(`An ${a} with this title already exists...`):(p[s]={...p[s],[v.title]:v},r.updateOfflineTD(JSON.stringify(p,null,2)),u())},h=g=>{document.getElementById(`${o}-title-helper-text`).textContent=g,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?$a.createPortal(X.jsx(xa,{onHandleEventLeftButton:u,onHandleEventRightButton:()=>{c()},rightButton:`Add ${a}`,children:f,title:`Add New ${a}`,description:`Tell us a little something about the ${a} you want to add.`}),document.getElementById("modal-root")):null});UK.displayName="AddActionDialog";const zK=Ne.forwardRef((e,t)=>{const r=Ne.useContext(Fn),[n,i]=ct.useState(()=>!1),o="event",s="events",a=o[0].toUpperCase()+o.slice(1);Ne.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=X.jsxs(X.Fragment,{children:[X.jsx(Ls,{id:`${o}-title`,label:"Title",placeholder:`${a} Title`,autoFocus:!0,onChange:()=>m()}),X.jsx(Ik,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${a}...`})]}),c=()=>{const g={title:document.getElementById(`${o}-title`).value,forms:[]},_=document.getElementById(`${o}-description`).value;if(_!==""&&(g.description=_),g.forms=[],!r.isValidJSON){h("Can't add Event. TD is malformed.");return}const v=r.parsedTD;v[s]&&v[s][g.title]?h(`An ${a} with this title already exists...`):(v[s]={...v[s],[g.title]:g},r.updateOfflineTD(JSON.stringify(v,null,2)),u())},h=g=>{document.getElementById(`${o}-title-helper-text`).textContent=g,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?$a.createPortal(X.jsx(xa,{onHandleEventLeftButton:u,onHandleEventRightButton:()=>{c()},rightButton:`Add ${a}`,children:f,title:`Add New ${a}`,description:`Tell us a little something about the ${a} you want to add.`}),document.getElementById("modal-root")):null});zK.displayName="AddEventDialog";const JB=e=>X.jsxs("div",{className:"form-checkbox pl-2",children:[e.readOnly??!0?X.jsx("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label}):X.jsx("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label,readOnly:e.readOnly,checked:!0}),X.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:e.id,children:e.label})]},e.id),Vve=e=>X.jsxs(X.Fragment,{children:[X.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),X.jsxs("div",{className:`relative ${e.className??""} `,children:[X.jsx("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:e.id,children:e.options.map(t=>X.jsx("option",{children:t},t))}),X.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:X.jsx(us,{color:"#cacaca"})})]})]}),YB="undefined",qK=Ne.forwardRef((e,t)=>{const r=Ne.useContext(Fn),[n,i]=ct.useState(()=>!1),o="property",s="properties",a=o[0].toUpperCase()+o.slice(1);Ne.useEffect(()=>{},[n,r]),Ne.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=X.jsxs(X.Fragment,{children:[X.jsx(Ls,{id:`${o}-title`,label:"Title",placeholder:`${a} Title`,autoFocus:!0,onChange:()=>m()}),X.jsx(Ik,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${a}...`}),X.jsx(Vve,{id:`${o}-type`,label:"Type",options:[YB,"number","integer","boolean","string","object","array"]}),X.jsx("div",{className:"h-2"}),X.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Additional:"}),X.jsxs("div",{id:"additional",className:"rounded-md bg-gray-600 p-1",children:[X.jsx(JB,{id:`${o}-readOnly`,label:"Read Only"}),X.jsx(JB,{id:`${o}-observable`,label:"Observable"})]})]}),c=()=>{if(!r.isValidJSON){h("Can't add Action. TD is malformed.");return}const g={title:document.getElementById(`${o}-title`).value,observable:document.getElementById(`${o}-observable`).checked,readOnly:document.getElementById(`${o}-readOnly`).checked,forms:[]},_=document.getElementById(`${o}-description`).value;_!==""&&(g.description=_);const v=document.getElementById(`${o}-type`).value;v!==YB&&(g.type=v),v==="array"?g.items={}:v==="object"&&(g.properties={}),g.forms=[];const p=r.parsedTD;p[s]&&p[s][g.title]?h(`A ${a} with this title already exists...`):(p[s]={...p[s],[g.title]:g},r.updateOfflineTD(JSON.stringify(p,null,2)),u())},h=g=>{document.getElementById(`${o}-title-helper-text`).textContent=g,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?$a.createPortal(X.jsx(xa,{onHandleEventLeftButton:u,onHandleEventRightButton:()=>{c()},rightButton:`Add ${a}`,children:f,title:`Add New ${a}`,description:`Tell us a little something about the ${a} you want to add.`}),document.getElementById("modal-root")):null});qK.displayName="AddPropertyDialog";const Ck=({onClick:e})=>X.jsx("button",{className:"border-formBlue bg-formBlue flex min-h-10 w-full items-stretch rounded-md border-2 bg-opacity-75 pl-4",onClick:e,children:X.jsxs("div",{className:"flex items-center justify-center",children:[X.jsx(D2,{color:"white",size:"20"}),X.jsx("div",{className:"pl-2 text-center text-white",children:"Click to add Form..."})]})}),Hve=["title","forms","description"],Wve=e=>{const t=Ne.useContext(Fn),[r,n]=Ne.useState(!1),i=ct.useRef(),o=()=>{i.current.openModal()};if(Object.keys(e.action).length===0&&e.action.constructor!==Object)return X.jsx("div",{className:"text-3xl text-white",children:"Action could not be rendered because mandatory fields are missing."});const s=e.action,a=B1(e.action.forms),l=F1({name:e.actionName},e.action,Hve),u=Object.keys(l).map(c=>X.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("actions",e.actionName)};return X.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[X.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[X.jsx("h3",{className:"flex-grow px-2",children:s.title??e.actionName}),r&&X.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:X.jsx(hd,{size:16,color:"white"})})]}),X.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[s.description&&X.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:s.description}),X.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),X.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:X.jsx(_a,{className:"flex-grow",tooltip:i0(),id:"actions",children:X.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),X.jsx(Ck,{onClick:o}),X.jsx(Xy,{type:"action",interaction:s,interactionName:e.actionName,ref:i}),a.map((c,h)=>X.jsx(vT,{form:c,propName:e.actionName,interactionType:"action"},`${h}-${c.href}`))]})]})},Gve=["title","forms","description"],Kve=e=>{const t=Ne.useContext(Fn),[r,n]=Ne.useState(!1),i=ct.useRef(),o=()=>{i.current.openModal()};if(Object.keys(e.event).length===0&&e.event.constructor!==Object)return X.jsx("div",{className:"text-3xl text-white",children:"Event could not be rendered because mandatory fields are missing."});const s=e.event,a=B1(e.event.forms),l=F1({name:e.eventName},e.event,Gve),u=Object.keys(l).map(c=>X.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("events",e.eventName)};return X.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[X.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[X.jsx("div",{className:"flex-grow px-2",children:s.title??e.eventName}),r&&X.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:X.jsx(hd,{size:16,color:"white"})})]}),X.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[s.description&&X.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:s.description}),X.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),X.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:X.jsx(_a,{className:"flex-grow",tooltip:i0(),id:"events",children:X.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),X.jsx(Ck,{onClick:o}),X.jsx(Xy,{type:"event",interaction:s,interactionName:e.eventName,ref:i}),a.map((c,h)=>X.jsx(vT,{form:c,propName:e.eventName,interactionType:"event"},`${h}-${c.href}`))]})]})},Jve=["title","forms","description"],Yve=e=>{const t=Ne.useContext(Fn),[r,n]=Ne.useState(!1),i=Ne.useRef(null),o=()=>{var c;(c=i.current)==null||c.openModal()};if(Object.keys(e.prop).length===0&&e.prop.constructor!==Object)return X.jsx("div",{className:"text-3xl text-white",children:"Property could not be rendered because mandatory fields are missing."});const s=e.prop;let a=B1(structuredClone(e.prop.forms));const l=F1({name:e.propName},e.prop,Jve),u=Object.keys(l).map(c=>X.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("properties",e.propName)};return X.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[X.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[X.jsx("h3",{className:"flex-grow px-2",children:s.title??e.propName}),r&&X.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:X.jsx(hd,{size:16,color:"white"})})]}),X.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[s.description&&X.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:s.description}),X.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),X.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:X.jsx(_a,{tooltip:i0(),id:"properties",children:X.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),X.jsx(Ck,{onClick:o}),X.jsx(Xy,{type:"property",interaction:s,interactionName:e.propName,ref:i}),a.map((c,h)=>X.jsx(vT,{propName:e.propName,form:c,interactionType:"property"},`${h}-${c.href}`))]})]})},Xve=e=>X.jsxs("div",{className:"relative text-gray-600",children:[X.jsx("input",{type:"search",autoComplete:"on",className:"caret-gray h-9 place-self-center rounded-lg bg-gray-600 px-5 pr-10 text-sm text-white focus:outline-none",onKeyUp:e.onKeyUp,placeholder:e.placeholder,"aria-label":e.ariaLabel}),X.jsx("div",{disabled:!0,type:"submit",className:"absolute right-0 top-0 mr-4 mt-1 cursor-default",children:X.jsx(U2,{color:"#2c2c2e"})})]}),VK=({value:e,onUpdate:t,inferiorLimit:r,superiorLimit:n=1e5})=>{const i=s=>{s.stopPropagation();const a=e<n?e+1:r;t(a)},o=s=>{s.stopPropagation();const a=e>r?e-1:n;t(a)};return X.jsx(X.Fragment,{children:X.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[X.jsx("div",{className:"col-span-0"}),X.jsx("div",{className:"col-span-6 flex h-full w-full items-center justify-center rounded-l-lg bg-gray-600 font-bold text-white",children:X.jsx("h1",{children:e.toString()})}),X.jsxs("div",{className:"col-span-4 flex h-full w-full",children:[X.jsx("button",{className:"justify-centers flex h-full w-full cursor-pointer items-center bg-gray-600",onClick:i,children:X.jsx(M2,{size:18,color:"white"})}),X.jsx("button",{className:"flex h-full w-full cursor-pointer items-center justify-center rounded-r-lg bg-gray-600",onClick:o,children:X.jsx(j2,{size:18,color:"white"})})]})]})})},Qve=({idIcon:e,onUpdateIncrement:t,tooltip:r,textLabel:n,valueButton:i,inferiorLimit:o,superiorLimit:s})=>X.jsx(X.Fragment,{children:X.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[X.jsx("div",{className:"col-span-6 flex items-center justify-center rounded-l-md bg-blue-500",children:X.jsx(_a,{tooltip:r,id:e,children:X.jsx("h1",{className:"p-2 font-bold text-white",children:n})})}),X.jsx("div",{className:"col-span-6 rounded-r-md bg-blue-500",children:X.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[X.jsx("div",{className:"col-span-12"}),X.jsx("div",{className:"col-span-12",children:X.jsx("div",{className:"grid h-full w-full grid-cols-12",children:X.jsx("div",{id:"firstRow",className:"col-span-12 bg-blue-500",children:X.jsx(VK,{value:i,onUpdate:t,inferiorLimit:o,superiorLimit:s})})})}),X.jsx("div",{className:"col-span-12"})]})})]})}),GS=({value:e,description:t,className:r,onClick:n})=>X.jsxs("div",{className:"grid h-full w-full grid-cols-12 pb-1 pt-1",children:[t?X.jsx("div",{className:"col-span-6 flex h-full w-full items-center justify-center font-bold text-white",children:t}):X.jsx("div",{className:"col-span-0"}),X.jsx("div",{className:`${t?"col-span-4":"col-span-8"} flex h-full w-full items-center justify-center rounded-l-lg bg-gray-600 font-bold text-white`,children:X.jsx("h1",{children:e.toString()})}),X.jsx("div",{className:"col-span-2 h-full w-full pr-1",children:X.jsx("button",{className:"flex h-full w-full cursor-pointer items-center justify-center rounded-r-lg bg-gray-600",onClick:n,children:X.jsx(L2,{size:16,color:"white"})})})]}),Zve=({idIcon:e,onUpdateValue:t,tooltip:r,textLabel:n,valueButton:i})=>X.jsx(X.Fragment,{children:X.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[X.jsx("div",{className:"col-span-6 flex items-center justify-center rounded-l-md bg-blue-500",children:X.jsx(_a,{tooltip:r,id:e,children:X.jsx("h1",{className:"p-2 font-bold text-white",children:n})})}),X.jsx("div",{className:"col-span-6 rounded-r-md bg-blue-500",children:X.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[X.jsx("div",{className:"col-span-12"}),X.jsx("div",{className:"col-span-12",children:X.jsx("div",{className:"grid h-full w-full grid-cols-12",children:X.jsx("div",{id:"firstRow",className:"col-span-12 bg-blue-500",children:X.jsx(GS,{description:"",value:i,onClick:()=>t(!i)})})})}),X.jsx("div",{className:"col-span-12"})]})})]})}),eye=({idIcon:e,tooltip:t,textLabel:r,compactText:n,customBreakpoints:i,firstDescription:o,firstValue:s,firsthandleOnClick:a,secondDescription:l,secondValue:u,secondhandleOnClick:f})=>X.jsx(X.Fragment,{children:X.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[X.jsx("div",{className:"col-span-4 flex items-center justify-center rounded-l-md bg-blue-500",children:X.jsx(_a,{tooltip:t,id:e,children:X.jsx("h1",{className:"p-2 font-bold text-white",children:i===1?n:r})})}),X.jsx("div",{className:"col-span-8 rounded-r-md",children:X.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[X.jsx("div",{id:"firstRow",className:"col-span-12 rounded-tr-md bg-blue-500",children:X.jsx(GS,{description:o,value:s,onClick:()=>a(s,o)})}),X.jsx("div",{id:"secondRow",className:"col-span-12 rounded-br-md bg-blue-500",children:X.jsx(GS,{description:l,value:u,onClick:()=>f(u,l)})})]})})]})}),tye=e=>{const t=Ne.useContext(Fn),r=t.parsedTD,[n,i]=Ne.useState(0),[o,s]=Ne.useState(!0),[a,l]=Ne.useState({wordSwap:!1,byteSwap:!1}),u=(g,_,v)=>{r.properties&&(Object.entries(r.properties).forEach(([p,E])=>{E.forms&&E.forms.forEach(y=>{if(!y.href){alert(`Form href is empty on property: ${p}`);return}(e.isBaseModbus||y.href.startsWith("modbus://")||y.href.startsWith("modbus+tcp://"))&&(v==="endianness"?g==="wordSwap"?y["modbus:mostSignificantWord"]=_:g==="byteSwap"&&(y["modbus:mostSignificantByte"]=_):y[g]=_)})}),t.updateOfflineTD(JSON.stringify(r,null,2)))},f=g=>{i(g),u("modbus:unitID",g)},c=g=>{s(g),u("modbus:zeroBasedAddressing",g)},h=(g,_)=>{l(v=>({...v,[_]:g})),u(_,g,"endianness")},m=ct.useMemo(()=>{const g={unitID:!0,zeroBasedAddressing:!0,mostSignificantWord:!0,mostSignificantByte:!0};if(!r.properties)return g;const _={},v={unitID:!1,zeroBasedAddressing:!1,mostSignificantWord:!1,mostSignificantByte:!1};for(const[p,E]of Object.entries(r.properties))if(E.forms){for(const y of E.forms)if(y.href&&(e.isBaseModbus||y.href.startsWith("modbus://")||y.href.startsWith("modbus+tcp://"))){const S=y["modbus:unitID"];S!==void 0&&(v.unitID?S!==_.unitID&&(g.unitID=!1):(_.unitID=S,v.unitID=!0,n!==S&&i(S)));const T=y["modbus:zeroBasedAddressing"];T!==void 0&&(v.zeroBasedAddressing?T!==_.zeroBasedAddressing&&(g.zeroBasedAddressing=!1):(_.zeroBasedAddressing=T,v.zeroBasedAddressing=!0,o!==T&&s(T)));const $=y["modbus:mostSignificantWord"];$!==void 0&&(v.mostSignificantWord?$!==_.mostSignificantWord&&(g.mostSignificantWord=!1):(_.mostSignificantWord=$,v.mostSignificantWord=!0,a.wordSwap!==$&&l(x=>({...x,wordSwap:$}))));const d=y["modbus:mostSignificantByte"];d!==void 0&&(v.mostSignificantByte?d!==_.mostSignificantByte&&(g.mostSignificantByte=!1):(_.mostSignificantByte=d,v.mostSignificantByte=!0,a.byteSwap!==d&&l(x=>({...x,byteSwap:d}))))}}return g},[r.properties,e.isBaseModbus,n,o,a]);return X.jsx(X.Fragment,{children:X.jsxs("div",{className:`grid ${e.customBreakpoints===2?"grid-cols-1":"grid-cols-12"} gap-1 rounded-t-md bg-gray-600 px-2`,children:[X.jsx("div",{className:"col-span-12 rounded-md bg-gray-600 px-2",children:e.isBaseModbus?X.jsx("h1",{className:"py-1 text-xl text-white",children:"Group Controls"}):X.jsx("div",{})}),X.jsxs("div",{id:"unitId",className:`${e.customBreakpoints===2?"col-span-full mb-4":"col-span-4"} flex flex-col px-2`,children:[X.jsx("div",{className:"min-h-[64px]",children:X.jsx(Qve,{idIcon:"unitId",textLabel:"Unit ID",onUpdateIncrement:f,inferiorLimit:0,superiorLimit:255,tooltip:Q8(),valueButton:n})}),!m.unitID&&X.jsx("div",{className:"rounded-md text-center",children:X.jsx("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:"Different unit id is detected on different affordances. Clicking + or - will set all to the same value"})})]}),X.jsxs("div",{id:"addressOffset",className:`${e.customBreakpoints===2?"col-span-full mb-4":"col-span-4"} flex flex-col px-2`,children:[X.jsx("div",{className:"min-h-[64px]",children:X.jsx(Zve,{idIcon:"addressOffset",tooltip:Z8(),textLabel:"Address Offset",valueButton:o,onUpdateValue:()=>c(!o)})}),!m.zeroBasedAddressing&&X.jsx("div",{className:"rounded-md text-center",children:X.jsx("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:"Different address offset is detected on different affordances. Clicking to swap and set all to the same value"})})]}),X.jsxs("div",{id:"endianness",className:`${e.customBreakpoints===2?"col-span-full":"col-span-4"} flex flex-col px-2`,children:[X.jsx("div",{className:"min-h-[64px]",children:X.jsx(eye,{idIcon:"endianness",tooltip:e9(),textLabel:"Endianness",compactText:"End.",customBreakpoints:e.customBreakpoints,firstDescription:"wordswap",firstValue:a.wordSwap,firsthandleOnClick:()=>h(!a.wordSwap,"wordSwap"),secondDescription:"byteswap",secondValue:a.byteSwap,secondhandleOnClick:()=>h(!a.byteSwap,"byteSwap")})}),(!m.mostSignificantByte||!m.mostSignificantWord)&&X.jsx("div",{className:"rounded-md text-center",children:X.jsxs("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:["Different endianness (",[!m.mostSignificantWord&&"wordSwap",!m.mostSignificantByte&&"byteSwap"].filter(Boolean).join(" and "),") is detected on different affordances. Clicking to swap and set all to the same value"]})})]})]})})},rye=({items:e,page:t=1,itemsPerPage:r=10,filter:n=()=>!0,onItemsChange:i,children:o,pagesWithErrors:s=new Set})=>{const[a,l]=Ne.useState(t),u=Ne.useMemo(()=>e.filter(n),[e,n]),f=Ne.useMemo(()=>{const _=(a-1)*r;return u.slice(_,_+r)},[u,a,r]),c=Ne.useMemo(()=>Math.ceil(u.length/r),[u,r]),h=a===1,m=a===c,g=_=>{_<1||_>c||l(_)};return Ne.useEffect(()=>{i&&i(f)},[f,i]),Ne.useEffect(()=>{a>c&&l(1)},[u,c,a]),X.jsxs("div",{className:"flex flex-col",children:[X.jsx("div",{className:"overflow-x-auto",children:o({items:f})}),u.length>r&&X.jsxs("div",{className:"mt-4 flex w-full items-center justify-end gap-3 text-white",children:[X.jsx("button",{className:"cursor-pointer rounded bg-blue-500",disabled:h,onClick:()=>g(a-1),children:X.jsx("span",{className:"px-2 font-bold text-white",children:"<"})}),Array.from({length:c},(_,v)=>v+1).map(_=>X.jsx("div",{className:`cursor-pointer text-lg ${a===_?"text-coral font-black":s.has(_)?"font-semibold text-red-500":""}`,onClick:()=>g(_),children:_},_)),X.jsx("button",{className:"cursor-pointer rounded bg-blue-500",disabled:m,onClick:()=>g(a+1),children:X.jsx("span",{className:"px-2 font-bold text-white",children:">"})})]})]})},HK=({contrast:e=!1,filter:t="",headers:r,items:n,itemsPerPage:i=6,orderBy:o="",order:s="asc",onRowClick:a,onCellClick:l,onSendRequestClick:u,className:f="",renderItem:c,placeholder:h,baseUrl:m="",expandTable:g=!1,requestResults:_={}})=>{const v=Ne.useMemo(()=>{const O=typeof t=="function"?t:(P=>M=>!(P!=null&&P.trim())||Object.values(M).some(U=>String(U).toLowerCase().indexOf((P||"").toLowerCase())>=0))(t);return n.filter(O)},[n,t]),p=Ne.useMemo(()=>{if(!o)return v;const x=s==="asc"?[1,-1]:[-1,1];return[...v].sort((O,P)=>O[o]>P[o]?x[0]:O[o]<P[o]?x[1]:0)},[v,o,s]),[E,y]=Ne.useState({}),S=Ne.useMemo(()=>({...E,..._}),[E,_]),T=Ne.useMemo(()=>{const x=new Set;return p.forEach((O,P)=>{var U;const M=Math.floor(P/i)+1;(U=S[O.id])!=null&&U.error&&x.add(M)}),x},[p,S,i]);Ne.useEffect(()=>{if(Object.keys(_).length===0){const x=n.reduce((O,P)=>(P.id&&(O[P.id]={value:"",error:""}),O),{});y(x)}},[n,_]);const $=(x,O,P,M)=>X.jsx("select",{value:x,onChange:U=>l==null?void 0:l(M,P,U.target.value),className:"h-full w-full rounded bg-gray-600 px-2 py-1",children:O.map(U=>X.jsx("option",{value:U,children:U},U))}),d=(x,O)=>{var M,U,K,ie,G,ne,ge;if(c)return c(x,O);const P=x[O];switch(O){case"previewValue":return X.jsxs("div",{className:`flex h-full w-full items-center justify-center ${(M=S[x.id])!=null&&M.error?"bg-red-500 text-white":""} ${(U=S[x.id])!=null&&U.value?"bg-formGreen text-black":""} `,onClick:async()=>{if(u){const se=await u(x);y(D=>({...D,[x.id]:se}))}},children:[((K=S[x.id])==null?void 0:K.error)&&X.jsxs("div",{className:"flex items-center justify-center",children:[X.jsx("h1",{className:"px-2",children:"Error"}),X.jsx(Up,{id:"info",html:`Error description: ${S[x.id].error}`,color:"white",IconComponent:Hh})]}),!((ie=S[x.id])!=null&&ie.error)&&!((G=S[x.id])!=null&&G.value)&&X.jsx(Up,{id:"check",html:"Click to send request",IconComponent:t0,size:20}),!((ne=S[x.id])!=null&&ne.error)&&((ge=S[x.id])==null?void 0:ge.value)&&X.jsxs("div",{className:"flex h-full w-full items-center justify-center",children:[X.jsx("h1",{className:"px-2",children:S[x.id].value}),X.jsx(Up,{id:"checkCircle",html:"Successful read property in the device",IconComponent:T2,size:20})]})]});case"propName":let re=x.description?x.description:"No description available";return X.jsxs("div",{className:"flex h-full w-full items-center px-1",onClick:()=>a==null?void 0:a(x,"viewProperty"),children:[X.jsx("div",{className:"flex h-full w-full items-center",children:Nve(x.propName,$m(x.id))}),X.jsx("div",{className:"items-center justify-center px-1",children:X.jsx(Up,{id:"info",html:`Property description: ${re}`,IconComponent:r0})})]});case"editForm":return X.jsx("div",{className:"flex h-full w-full items-center justify-center px-2",onClick:()=>a==null?void 0:a(x,"viewPropertyElementForm"),children:X.jsx(Up,{id:"edit",html:"Click to preview property",IconComponent:O2,size:20})});case"modbus:entity":return $(P,["Coil","DiscreteInput","HoldingRegister","InputRegister"],O,x);case"modbus:function":return $(P,["readCoil","readDeviceIdentification","readDiscreteInput","readHoldingRegisters","readInputRegisters","writeMultipleCoils","writeMultipleHoldingRegisters","writeSingleCoil","writeSingleHoldingRegister"],O,x);case"modbus:type":return $(P,["integer","boolean","string","float","decimal","byte","short","int","long","unsignedByte","unsignedShort","unsignedInt","unsignedLong","double","hexBinary"],O,x)}return P==null?"-":typeof P=="boolean"?X.jsx(GS,{onClick:re=>{re.stopPropagation(),l==null||l(x,O,!P)},value:P,description:"",className:""}):typeof P=="string"?X.jsxs("div",{className:"group relative",children:[X.jsx("input",{type:"text",value:P,onChange:re=>l==null?void 0:l(x,O,re.target.value),onBlur:re=>l==null?void 0:l(x,O,re.target.value),className:"w-full truncate border-none bg-gray-600 px-2 py-1 text-center text-sm font-bold text-white focus:outline-none focus:ring-2 focus:ring-blue-500",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:P.length>10?P:void 0}),X.jsx("div",{className:"absolute left-0 top-full mt-1 hidden w-max max-w-xs rounded bg-gray-700 px-2 py-1 text-sm text-white shadow-lg group-hover:block",children:P})]}):typeof P=="number"?X.jsx(VK,{value:P,onUpdate:re=>{l==null||l(x,O,re)},inferiorLimit:0}):P};return X.jsx(rye,{items:p,itemsPerPage:i,pagesWithErrors:T,children:({items:x})=>X.jsx("div",{className:`relative overflow-x-auto ${g?"w-full":""} `,children:X.jsx("div",{className:`${f} ${g?"w-full":"inline-block"}`,children:X.jsxs("table",{className:"w-full text-nowrap",children:[X.jsx("thead",{children:X.jsx("tr",{children:r.map((O,P)=>X.jsx("th",{className:`text-elevation-0-1 my-2.5 text-sm font-bold text-white ${P===0?"pl-5":P===r.length-1?"pr-5":"px-5"}`,children:O.text},`header-${O.key}`))})}),X.jsx("tbody",{children:x.length>0?x.map((O,P)=>X.jsx("tr",{children:r.map((M,U)=>X.jsx("td",{children:X.jsx("div",{className:`h-10 items-center overflow-hidden text-ellipsis border border-solid border-transparent text-white hover:border-white ${U>0&&U<r.length-1&&"text-center"} ${U===r.length-1&&"rounded-r text-right"} ${O.status==="info"&&U===0&&"border-l-info"} ${O.status==="error"&&U===0&&"border-l-definitive"} bg-elevation-1-hover cursor-pointer`,children:d(O,M.key)})},`cell-${P}-${M.key}`))},`row-${P}-${O.id}`)):X.jsx("tr",{children:X.jsx("td",{colSpan:r.length,className:`flex items-end justify-center py-6 ${e?"bg-elevation-1-hover":"bg-elevation-1"}`,children:h||X.jsx("div",{className:"text-elevation-0-1 text-sm font-bold text-white",children:"No entries"})})})})]})})})})},kk=({isOpen:e,errorMessage:t,onClose:r})=>e?$a.createPortal(X.jsx(xa,{title:"Error",description:t,onHandleEventRightButton:r,rightButton:"OK",className:"text-lg"}),document.getElementById("modal-root")):null,jw="asc",nye="desc",Qx=e=>{var ge,re;const t=Ne.useContext(Fn),r=t.isValidJSON?JSON.parse(t.offlineTD):{},n=Ne.useMemo(()=>{var se,D;return{message:((se=t.northboundConnection)==null?void 0:se.message)??"",northboundTd:((D=t.northboundConnection)==null?void 0:D.northboundTd)??{}}},[t.northboundConnection]),[i,o]=Ne.useState(""),[s,a]=Ne.useState(jw),l=Ne.useRef(null),[u,f]=Ne.useState("list"),[c,h]=Ne.useState(!1),[m,g]=Ne.useState({editorState:"",propName:"",formsIndex:0,state:"viewProperty",title:"Edit Property"}),[_,v]=Ne.useState({state:!1,message:""}),p=e.interaction.toLowerCase(),E=se=>o(se.target.value),y=!!((ge=r.base)!=null&&ge.includes("modbus://"))||!!((re=r.base)!=null&&re.includes("modbus+tcp")),S=se=>{if(!se.properties||Object.keys(se.properties).length===0)return!1;const D=z=>z.href?z.href.includes("modbus://")||z.href.includes("modbus+tcp://"):!1;return y||Object.values(se.properties).some(z=>{var Y;return(Y=z.forms)==null?void 0:Y.some(N=>D(N))})},T=()=>{if(!r[p])return{};const se={};return Object.keys(r[p]).filter(D=>D.toLowerCase().indexOf(i.toLowerCase())>-1).forEach(D=>{se[D]=r[p][D]}),se},$=se=>{if(!r[se])return;const D={},z=Object.keys(r[se]).map(Y=>({key:Y,title:r[se][Y].title}));s===jw?(z.sort((Y,N)=>{const I=Y.title?Y.title:Y.key,q=N.title?N.title:N.key;return I.localeCompare(q)}).forEach(function(Y){D[Y.key]=r[se][Y.key]}),a(nye)):(z.sort((Y,N)=>{const I=Y.title?Y.title:Y.key,q=N.title?N.title:N.key;return I.localeCompare(q)}).reverse().forEach(function(Y){D[Y.key]=r[se][Y.key]}),a(jw)),r[se]=D,t.updateOfflineTD(JSON.stringify(r,null,2))},d=()=>s===jw?X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:X.jsx("path",{d:"M11 5h10M11 9h7M11 13h4M3 17l3 3 3-3M6 18V4"})}):X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:X.jsx("path",{d:"M11 5h4M11 9h7M11 13h10M3 17l3 3 3-3M6 18V4"})}),x=async se=>{const D=$m(se.id);if(Object.keys(n.northboundTd).length>0)try{const z=await xy(n.northboundTd,se.propName,{formIndex:D},Us("valuePath")??"");return z.err?{value:"",error:z.err.message}:{value:z.result,error:""}}catch(z){return{value:"",error:z.message}}else try{const z=await xy(r,se.propName,{formIndex:D},"");return z.err?{value:"",error:z.err.message}:{value:z.result,error:""}}catch(z){return{value:"",error:z.message}}},O=(se,D,z)=>{const Y=$m(se.id);try{r[p][se.propName].forms[Y][D]=z}catch(N){console.error(N)}t.updateOfflineTD(JSON.stringify(r,null,2))},P=(se,D)=>{const z=$m(se.id);let Y;if(D==="viewPropertyElementForm")Y=r[p][se.propName].forms[z];else try{Y={[se.propName]:r[p][se.propName]}}catch(N){console.error(N)}g({editorState:JSON.stringify(Y,null,2),propName:se.propName,formsIndex:z,state:D,title:D==="viewProperty"?m.title:`Edit form number ${z+1} of property ${se.propName}`}),h(!0)},M=()=>{g({editorState:"",propName:"",formsIndex:0,state:"viewProperty",title:"Edit Property"}),h(!1)},U=()=>{let se=JSON.parse(m.editorState);m.state==="viewProperty"?r[p][m.propName]=se[m.propName]:r[p][m.propName].forms[m.formsIndex]=se,t.updateOfflineTD(JSON.stringify(r,null,2)),h(!1),g({editorState:"",propName:"",formsIndex:0,state:"viewProperty",title:"Edit Property"})},K=()=>{const se=T();if(r.properties&&p==="properties"){if(u==="list")return Object.keys(se).map((I,q)=>X.jsx(Yve,{prop:se[I],propName:I},q));const D=Object.keys(se).length?["id","description","propName","editForm","previewValue",...new Set(Object.keys(se).flatMap(I=>(se[I].forms||[]).flatMap(ae=>Object.keys(ae))))].map(I=>({key:I,text:CK(I)})):[];let Y=Object.keys(se).flatMap(I=>(se[I].forms||[]).map((ae,Z)=>({id:`${I} - ${Z}`,description:se[I].description??"",propName:I,...ae}))).filter(I=>Array.isArray(I.op)?I.op.includes("readproperty"):I.op==="readproperty"),N=D.filter(I=>I.key!=="op").filter(I=>I.key!=="id").filter(I=>I.key!=="description");return y&&(N=N.filter(I=>I.key!=="href")),X.jsx(HK,{headers:N,items:Y,itemsPerPage:10,orderBy:"",order:"asc",onCellClick:O,onRowClick:P,onSendRequestClick:x,baseUrl:r.base??"",requestResults:{}})}if(r.actions&&p==="actions")return Object.keys(se).map((D,z)=>X.jsx(Wve,{action:se[D],actionName:D},z));if(r.events&&p==="events")return Object.keys(se).map((D,z)=>X.jsx(Kve,{event:se[D],eventName:D},z))},ie=()=>{l.current&&l.current.openModal()};let G;switch(p){case"properties":G=X.jsx(qK,{ref:l});break;case"actions":G=X.jsx(UK,{ref:l});break;case"events":G=X.jsx(zK,{ref:l});break}const ne=K();return X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"flex items-end justify-start pb-4 pt-8",children:[X.jsxs("div",{className:`flex ${e.customBreakpoints===2?"flex-col":"flex-grow"}`,children:[X.jsx(_a,{tooltip:$fe[p],id:p,children:X.jsx("h2",{className:"flex-grow pr-1 text-2xl text-white",children:e.interaction})}),X.jsxs("div",{children:[p==="properties"&&X.jsx(si,{onClick:()=>f("list"),variant:"primary",type:"button",className:"h-9",children:"List"}),p==="properties"&&X.jsx(si,{onClick:()=>f("table"),variant:"primary",type:"button",className:"ml-2 h-9",children:"Table"})]})]}),X.jsx(Xve,{onKeyUp:se=>E(se),placeholder:`Search ${e.interaction}`,ariaLabel:`Search through all ${e.interaction}`}),X.jsx("div",{className:"w-2"}),X.jsx(si,{onClick:()=>$(p),variant:"primary",type:"button",className:"h-9",children:d()}),X.jsx("div",{className:"w-2"}),X.jsx(si,{onClick:ie,variant:"primary",type:"button",className:"h-9",children:"Add"}),G]}),p==="properties"&&S(r)&&X.jsx(tye,{isBaseModbus:S(r),customBreakpoints:e.customBreakpoints??0}),ne&&X.jsx("div",{className:"rounded-lg bg-gray-600 px-4 pb-4 pt-4",children:ne||X.jsx("div",{className:"px-6"})}),c&&X.jsx(xa,{title:m.title,description:"Modify the content using this editor",onHandleEventLeftButton:M,onHandleEventRightButton:U,rightButton:"Save",children:X.jsx(R8,{height:"400px",defaultLanguage:"json",value:m.editorState,onChange:se=>g({...m,editorState:se||""}),options:{minimap:{enabled:!1},fontSize:14},theme:"vs-dark"})}),X.jsx(kk,{isOpen:_.state,onClose:()=>v({state:!1,message:""}),errorMessage:_.message})]})};function iye(e){return e===null?!1:typeof e=="function"||typeof e=="object"}const WK=e=>{const t=Ne.useContext(Fn),[r,n]=Ne.useState(new Array(Object.entries(e).length)),i=Ne.useCallback(o=>{let s=r,a=r[o];s[o]=a===null?!0:!a,n([...s])},[r,n]);return X.jsx(X.Fragment,{children:Object.entries(e).map(([o,s],a)=>{if(iye(s)){let u=X.jsx("button",{className:"flex align-top",onClick:()=>i(a),children:X.jsxs("div",{className:"flex rounded-md bg-gray-600 px-2 py-1 align-middle font-bold text-white",children:[X.jsx("h4",{children:o}),r[a]===!0?X.jsx(us,{className:"pl-1"}):X.jsx($2,{className:"pl-1"})]})}),f=X.jsxs("div",{className:"flex",children:[X.jsx("div",{className:"my-1 ml-2 flex w-1 rounded-lg bg-gray-400"}),X.jsx("div",{className:"mt-1 pl-8",children:r[a]===!0&&(Object.entries(s)??[]).map(([c,h],m)=>{let g={};return g[c]=h,Ne.createElement(WK,{...g,key:m})})})]});return X.jsxs("div",{className:"mb-1",children:[u,r[a]===!0&&f]},a)}const l=rP(e,o,t.linkedTd[Object.keys(t.linkedTd)[0]]["@context"]);return X.jsxs("div",{className:"mb-1 flex",children:[X.jsx("h4",{className:"rounded-md bg-gray-600 px-2 py-1 font-bold text-white",children:o}),X.jsx("div",{className:"px-2 py-1 text-gray-400",children:l})]},a)})})};var GK={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XB=ct.createContext&&ct.createContext(GK),oye=["attr","size","title"];function sye(e,t){if(e==null)return{};var r=aye(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KS.apply(this,arguments)}function QB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QB(Object(r),!0).forEach(function(n){lye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lye(e,t,r){return t=uye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uye(e){var t=cye(e,"string");return typeof t=="symbol"?t:t+""}function cye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KK(e){return e&&e.map((t,r)=>ct.createElement(t.tag,JS({key:r},t.attr),KK(t.child)))}function JK(e){return t=>ct.createElement(fye,KS({attr:JS({},e.attr)},t),KK(e.child))}function fye(e){var t=r=>{var{attr:n,size:i,title:o}=e,s=sye(e,oye),a=i||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),ct.createElement("svg",KS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:l,style:JS(JS({color:e.color||r.color},r.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&ct.createElement("title",null,o),e.children)};return XB!==void 0?ct.createElement(XB.Consumer,null,r=>t(r)):t(GK)}function ZB(e){return JK({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"},child:[]}]})(e)}function eU(e){return JK({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 2l-7.5 7.5-3.5-3.5-2.5 2.5 6 6 10-10z"},child:[]}]})(e)}const dye=({onUndo:e,onRedo:t})=>{const r=Ne.useContext(Fn),[n,i]=Ne.useState(void 0),[o,s]=Ne.useState(void 0),[a,l]=Ne.useState(void 0),[u,f]=Ne.useState(void 0);return Ne.useEffect(()=>{const c=r.validationMessage;if(c){if(c.report&&(i(c.report.json),l(c.report.schema)),!c.validationErrors){s(void 0),f(void 0);return}c.validationErrors&&(s(c.validationErrors.json),f(c.validationErrors.schema),console.debug("JSON validation error",c.validationErrors.json),console.debug("JSON Schema validation error",c.validationErrors.schema))}},[r,o,u]),X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"col-span-4 mb-4 flex justify-end gap-2",children:[X.jsxs(si,{onClick:e,variant:"primary",type:"button",className:"flex h-8 w-40 items-center justify-center px-3 py-1",children:[X.jsx(F2,{size:16,strokeWidth:3,className:"mr-2"}),X.jsx("span",{className:"font-bold",children:"Undo"})]}),X.jsxs(si,{onClick:t,variant:"primary",type:"button",className:"flex h-8 w-40 items-center justify-center px-3 py-1",children:[X.jsx("span",{className:"mr-2 font-bold",children:"Redo"}),X.jsx(B2,{size:16,strokeWidth:3})]})]}),X.jsxs("div",{className:"mb-4 w-full rounded-md bg-gray-600 p-4 text-white",children:[X.jsxs("div",{className:"flex items-center",children:[X.jsx("h2",{className:"mr-2",children:"JSON Validation"}),n==="passed"&&X.jsx(eU,{}),n==="failed"&&X.jsx(ZB,{})]}),o&&X.jsxs("div",{className:"bg-formRed border-formRed mb-4 mt-2 flex min-h-[2.5rem] w-full rounded-md border-2 bg-opacity-75 px-4",children:[X.jsx("div",{className:"flex h-6 w-16 justify-center self-center rounded-md bg-white",children:X.jsx("div",{className:"text-formRed place-self-center px-4 text-center text-xs",children:"Error"})}),X.jsx("div",{className:"place-self-center overflow-hidden pl-3 text-base",children:o})]}),X.jsxs("div",{className:"flex items-center",children:[X.jsx("h2",{className:"mr-2",children:"JSON Schema Validation "}),a==="passed"&&X.jsx(eU,{}),a==="failed"&&X.jsx(ZB,{})]}),u&&X.jsxs("div",{className:"bg-formRed border-formRed mt-2 flex min-h-[2.5rem] w-full rounded-md border-2 bg-opacity-75 px-4",children:[X.jsx("div",{className:"flex h-6 w-16 justify-center self-center rounded-md bg-white",children:X.jsx("div",{className:"text-formRed place-self-center px-4 text-center text-xs",children:"Error"})}),X.jsx("div",{className:"place-self-center overflow-hidden pl-3 text-base",children:u})]})]})]})},vc={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},hye=Object.keys(vc).map(e=>vc[e]).join(""),Zx="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",pye=/\s/g,tU=new RegExp(`^(${Zx}\\*)?([${hye}])(/${Zx})?([-+]{1,2}${Zx})?$`,"g");function YK(e){throw new Error(`Invalid calc() expression: ${e}`)}function mye(e,t){const r=tU.exec(e.replace(pye,""));r||YK(e),tU.lastIndex=0;const[,n,i,o,s]=r,{x:a,y:l,width:u,height:f}=t;let c=0;switch(i){case vc.width:{c=u;break}case vc.height:{c=f;break}case vc.x:{c=a;break}case vc.y:{c=l;break}case vc.minimum:{c=Math.min(f,u);break}case vc.maximum:{c=Math.max(f,u);break}case vc.diagonal:{c=Math.sqrt(f*f+u*u);break}}return n&&(c*=parseFloat(n)),o&&(c/=parseFloat(o.slice(1))),s&&(c+=gye(s)),c}function gye(e){if(!e)return 0;const[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}function nl(e){return typeof e=="string"&&e.includes("calc")}const XK="calc(",rU=XK.length;function il(e,t){let r=e,n=0;do{let i=r.indexOf(XK,n);if(i===-1)return r;let o=i+rU,s=1;e:do{switch(r[o]){case"(":{s++;break}case")":{if(s--,s===0)break e;break}case void 0:YK(r)}o++}while(!0);let a=r.slice(i+rU,o);nl(a)&&(a=il(a,t));const l=String(mye(a,t));r=r.slice(0,i)+l+r.slice(o+1),n=i+l.length}while(!0)}const{round:vye,floor:yye,PI:QK}=Math,wye={linear:function(e,t,r){var n=e[1]-e[0],i=t[1]-t[0];return(r-e[0])/n*i+t[0]||0}},Ql=function(e){return e%360+(e<0?360:0)},Wh=function(e,t){return t*vye(e/t)},yT=function(e){return 180*e/QK%360},Hs=function(e,t){return t=t||!1,e=t?e:e%360,e*QK/180},SI=function(e,t){if(t===void 0)t=e===void 0?1:e,e=0;else if(t<e){const r=e;e=t,t=r}return yye(Math.random()*(t-e+1)+e)},{cos:Dw,sin:eA,atan2:bye}=Math,ZK=function(e,t){var r=Hs(e.y),n=Hs(t.y),i=e.x,o=t.x,s=Hs(o-i),a=eA(s)*Dw(n),l=Dw(r)*eA(n)-eA(r)*Dw(n)*Dw(s),u=yT(bye(a,l)),f=["NE","E","SE","S","SW","W","NW","N"],c=u-22.5;return c<0&&(c+=360),c=parseInt(c/45),f[c]},jk=function(e,t){var r=e.x,n=e.y,i=t.x,o=t.y;return(r-=i)*r+(n-=o)*n},eJ=function(e,t){return Math.sqrt(jk(e,t))},Cr={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:YS,cos:TI,sin:$I,sqrt:nU,min:iU,max:oU,atan2:_ye,round:sU,pow:Eye,PI:aU}=Math,Ze=function(e,t){if(!(this instanceof Ze))return new Ze(e,t);if(typeof e=="string"){var r=e.split(e.indexOf("@")===-1?" ":"@");e=parseFloat(r[0]),t=parseFloat(r[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=e===void 0?0:e,this.y=t===void 0?0:t};Ze.fromPolar=function(e,t,r){r=new Ze(r);var n=YS(e*TI(t)),i=YS(e*$I(t)),o=Ql(yT(t));return o<90?i=-i:o<180?(n=-n,i=-i):o<270&&(n=-n),new Ze(r.x+n,r.y+i)};Ze.random=function(e,t,r,n){return new Ze(SI(e,t),SI(r,n))};Ze.prototype={type:Cr.Point,chooseClosest:function(e){var t=e.length;if(t===1)return new Ze(e[0]);for(var r=null,n=1/0,i=0;i<t;i++){var o=new Ze(e[i]),s=this.squaredDistance(o);s<n&&(r=o,n=s)}return r},adhereToRect:function(e){return e.containsPoint(this)?this:(this.x=iU(oU(this.x,e.x),e.x+e.width),this.y=iU(oU(this.y,e.y),e.y+e.height),this)},angleBetween:function(e,t){var r=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return r<0&&(r+=360),r},bearing:function(e){return ZK(this,e)},changeInAngle:function(e,t,r){return this.clone().offset(-e,-t).theta(r)-this.theta(r)},clone:function(){return new Ze(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new Ze(this.x-(e||0),this.y-(t||0))},distance:function(e){return eJ(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){var r=this.x,n=this.y;return new Ze((1-t)*r+t*e.x,(1-t)*n+t*e.y)},magnitude:function(){return nU(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return YS(e.x-this.x)+YS(e.y-this.y)},move:function(e,t){var r=Hs(new Ze(e).theta(this)),n=this.offset(TI(r)*t,-$I(r)*t);return n},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new Ze(e).move(this,this.distance(e))},rotate:function(e,t){if(t===0)return this;e=e||new Ze(0,0),t=Hs(Ql(-t));var r=TI(t),n=$I(t),i=r*(this.x-e.x)-n*(this.y-e.y)+e.x,o=n*(this.x-e.x)+r*(this.y-e.y)+e.y;return this.x=i,this.y=o,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Eye(10,e);break}return this.x=sU(this.x*t)/t,this.y=sU(this.y*t)/t,this},scale:function(e,t,r){return r=r&&new Ze(r)||new Ze(0,0),this.x=r.x+e*(this.x-r.x),this.y=r.y+t*(this.y-r.y),this},snapToGrid:function(e,t){return this.x=Wh(this.x,e),this.y=Wh(this.y,t||e),this},squaredDistance:function(e){return jk(this,e)},theta:function(e){e=new Ze(e);var t=-(e.y-this.y),r=e.x-this.x,n=_ye(t,r);return n<0&&(n=2*aU+n),180*n/aU},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new Ze(e)||new Ze(0,0);var t=this.x,r=this.y;return this.x=nU((t-e.x)*(t-e.x)+(r-e.y)*(r-e.y)),this.y=Hs(e.theta(new Ze(t,r))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){var t=new Ze(0,0);return t.angleBetween(this,e)}};Ze.prototype.translate=Ze.prototype.offset;const XS=Ze,{max:tA,min:rA}=Math,Gt=function(e,t){if(!(this instanceof Gt))return new Gt(e,t);if(e instanceof Gt)return new Gt(e.start,e.end);this.start=new Ze(e),this.end=new Ze(t)};Gt.prototype={type:Cr.Line,angle:function(){var e=new Ze(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=rA(this.start.x,this.end.x),t=rA(this.start.y,this.end.y),r=tA(this.start.x,this.end.x),n=tA(this.start.y,this.end.y);return new Vt(e,t,r-e,n-t)},bearing:function(){return ZK(this.start,this.end)},clone:function(){return new Gt(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new Gt(this.start,e).vector()),r=rA(1,tA(0,t/this.squaredLength()));return r!==r?0:r},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,r=this.end;if(t.cross(e,r)!==0)return!1;var n=this.length();return!(new Gt(t,e).length()>n||new Gt(e,r).length()>n)},divideAt:function(e){var t=this.pointAt(e);return[new Gt(this.start,t),new Gt(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new Gt(this.start,t),new Gt(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var r=e.intersectionWithLine(this,t);return r&&e instanceof Gt&&(r=r[0]),r}return null},intersectionWithLine:function(e){var t=new Ze(this.end.x-this.start.x,this.end.y-this.start.y),r=new Ze(e.end.x-e.start.x,e.end.y-e.start.y),n=t.x*r.y-t.y*r.x,i=new Ze(e.start.x-this.start.x,e.start.y-this.start.y),o=i.x*r.y-i.y*r.x,s=i.x*t.y-i.y*t.x;if(n===0||o*n<0||s*n<0)return null;if(n>0){if(o>n||s>n)return null}else if(o<n||s<n)return null;return[new Ze(this.start.x+o*t.x/n,this.start.y+o*t.y/n)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return eJ(this.start,this.end)},midpoint:function(){return new Ze((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){const t=this.clone();if(!this.isDifferentiable())return t;const{start:r,end:n}=t,i=r.clone().rotate(n,270),o=n.clone().rotate(r,90);return r.move(o,e),n.move(i,e),t},pointAt:function(e){var t=this.start,r=this.end;return e<=0?t.clone():e>=1?r.clone():t.lerp(r,e)},pointAtLength:function(e){var t=this.start,r=this.end,n=!0;e<0&&(n=!1,e=-e);var i=this.length();return e>=i?n?r.clone():t.clone():this.pointAt((n?e:i-e)/i)},pointOffset:function(e){e=new Ze(e);var t=this.start,r=this.end,n=(r.x-t.x)*(e.y-t.y)-(r.y-t.y)*(e.x-t.x);return n/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.end.scale(e,t,r),this},setLength:function(e){var t=this.length();if(!t)return this;var r=e/t;return this.scale(r,r,this.start)},squaredLength:function(){return jk(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,n=this.pointAt(e),i=new Gt(t,r);return i.translate(n.x-t.x,n.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,n=this.pointAtLength(e),i=new Gt(t,r);return i.translate(n.x-t.x,n.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new Ze(this.end.x-this.start.x,this.end.y-this.start.y)}};Gt.prototype.intersection=Gt.prototype.intersect;const kh=Gt,{sqrt:lU,round:Mw,pow:Sye}=Math,ds=function(e,t,r){if(!(this instanceof ds))return new ds(e,t,r);if(e instanceof ds)return new ds(new Ze(e.x,e.y),e.a,e.b);e=new Ze(e),this.x=e.x,this.y=e.y,this.a=t,this.b=r};ds.fromRect=function(e){return e=new Vt(e),new ds(e.center(),e.width/2,e.height/2)};ds.prototype={type:Cr.Ellipse,bbox:function(){return new Vt(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new Ze(this.x,this.y)},clone:function(){return new ds(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],r=e.start,n=e.end,i=this.a,o=this.b,s=e.vector(),a=r.difference(new Ze(this)),l=new Ze(s.x/(i*i),s.y/(o*o)),u=new Ze(a.x/(i*i),a.y/(o*o)),f=s.dot(l),c=s.dot(u),h=a.dot(u)-1,m=c*c-f*h;if(m<0)return null;if(m>0){var g=lU(m),_=(-c-g)/f,v=(-c+g)/f;if((_<0||1<_)&&(v<0||1<v))return null;0<=_&&_<=1&&t.push(r.lerp(n,_)),0<=v&&v<=1&&t.push(r.lerp(n,v))}else{var p=-c/f;if(0<=p&&p<=1)t.push(r.lerp(n,p));else return null}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new Ze(e),t&&e.rotate(new Ze(this.x,this.y),t);var r=e.x-this.x,n=e.y-this.y,i;if(r===0)return i=this.bbox().pointNearestToPoint(e),t?i.rotate(new Ze(this.x,this.y),-t):i;var o=n/r,s=o*o,a=this.a*this.a,l=this.b*this.b,u=lU(1/(1/a+s/l));u=r<0?-u:u;var f=o*u;return i=new Ze(this.x+u,this.y+f),t?i.rotate(new Ze(this.x,this.y),-t):i},normalizedDistance:function(e){var t=e.x,r=e.y,n=this.a,i=this.b,o=this.x,s=this.y;return(t-o)*(t-o)/(n*n)+(r-s)*(r-s)/(i*i)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Sye(10,e);break}return this.x=Mw(this.x*t)/t,this.y=Mw(this.y*t)/t,this.a=Mw(this.a*t)/t,this.b=Mw(this.b*t)/t,this},tangentTheta:function(e){var t=30,r=e.x,n=e.y,i=this.a,o=this.b,s=this.bbox().center(),a=s.x,l=s.y,u=r>s.x+i/2,f=r<s.x-i/2,c,h;return u||f?(c=r>s.x?n-t:n+t,h=i*i/(r-a)-i*i*(n-l)*(c-l)/(o*o*(r-a))+a):(h=n>s.y?r+t:r-t,c=o*o/(n-l)-o*o*(r-a)*(h-a)/(i*i*(n-l))+l),new Ze(h,c).theta(e)},toString:function(){return new Ze(this.x,this.y).toString()+" "+this.a+" "+this.b}};const Tye=ds,{abs:uU,cos:$ye,sin:xye,min:Xg,max:cU,round:Lw,pow:Aye}=Math,Vt=function(e,t,r,n){if(!(this instanceof Vt))return new Vt(e,t,r,n);Object(e)===e&&(t=e.y,r=e.width,n=e.height,e=e.x),this.x=e===void 0?0:e,this.y=t===void 0?0:t,this.width=r===void 0?0:r,this.height=n===void 0?0:n};Vt.fromEllipse=function(e){return e=new ds(e),new Vt(e.x-e.a,e.y-e.b,2*e.a,2*e.b)};Vt.fromPointUnion=function(...e){if(e.length===0)return null;const t=new Ze;let r,n,i,o;r=n=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);const a=t.x,l=t.y;a<r&&(r=a),a>i&&(i=a),l<n&&(n=l),l>o&&(o=l)}return new Vt(r,n,i-r,o-n)};Vt.fromRectUnion=function(...e){if(e.length===0)return null;const t=new Vt;let r,n,i,o;r=n=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);const a=t.x,l=t.y,u=a+t.width,f=l+t.height;a<r&&(r=a),u>i&&(i=u),l<n&&(n=l),f>o&&(o=f)}return new Vt(r,n,i-r,o-n)};Vt.prototype={type:Cr.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;const{width:t,height:r}=this,n=Hs(e),i=uU(xye(n)),o=uU($ye(n)),s=t*o+r*i,a=t*i+r*o;return this.x+=(t-s)/2,this.y+=(r-a)/2,this.width=s,this.height=a,this},bottomLeft:function(){return new Ze(this.x,this.y+this.height)},bottomLine:function(){return new Gt(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new Ze(this.x+this.width/2,this.y+this.height)},center:function(){return new Ze(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new Vt(this)},containsPoint:function(e){return e instanceof Ze||(e=new Ze(e)),e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new Vt(this).normalize(),r=new Vt(e).normalize(),n=t.width,i=t.height,o=r.width,s=r.height;if(!n||!i||!o||!s)return!1;var a=t.x,l=t.y,u=r.x,f=r.y;return o+=u,n+=a,s+=f,i+=l,a<=u&&o<=n&&l<=f&&s<=i},corner:function(){return new Ze(this.x+this.width,this.y+this.height)},equals:function(e){var t=new Vt(this).normalize(),r=new Vt(e).normalize();return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),r=this.corner(),n=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||n.x>=r.x||n.y>=r.y)return null;var o=cU(t.x,n.x),s=cU(t.y,n.y);return new Vt(o,s,Xg(r.x,i.x)-o,Xg(r.y,i.y)-s)},intersectionWithLine:function(e){var t=this,r=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],n=[],i=[],o,s,a=r.length;for(s=0;s<a;s++)o=e.intersect(r[s]),o!==null&&i.indexOf(o.toString())<0&&(n.push(o),i.push(o.toString()));return n.length>0?n:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new Ze(e);var r=new Ze(this.x+this.width/2,this.y+this.height/2),n;t&&e.rotate(r,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new Gt(r,e),s=i.length-1;s>=0;--s){var a=i[s].intersection(o);if(a!==null){n=a;break}}return n&&t&&n.rotate(r,-t),n},leftLine:function(){return new Gt(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new Ze(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new Vt(e),t||(t=e.center());var r,n,i,o,s,a,l,u,f=t.x,c=t.y;r=n=i=o=s=a=l=u=1/0;var h=e.topLeft();h.x<f&&(r=(this.x-f)/(h.x-f)),h.y<c&&(s=(this.y-c)/(h.y-c));var m=e.bottomRight();m.x>f&&(n=(this.x+this.width-f)/(m.x-f)),m.y>c&&(a=(this.y+this.height-c)/(m.y-c));var g=e.topRight();g.x>f&&(i=(this.x+this.width-f)/(g.x-f)),g.y<c&&(l=(this.y-c)/(g.y-c));var _=e.bottomLeft();return _.x<f&&(o=(this.x-f)/(_.x-f)),_.y>c&&(u=(this.y+this.height-c)/(_.y-c)),{sx:Xg(r,n,i,o),sy:Xg(s,a,l,u)}},maxRectUniformScaleToFit:function(e,t){var r=this.maxRectScaleToFit(e,t);return Xg(r.sx,r.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,r=this.width,n=this.height;return this.width<0&&(e=this.x+this.width,r=-this.width),this.height<0&&(t=this.y+this.height,n=-this.height),this.x=e,this.y=t,this.width=r,this.height=n,this},offset:function(e,t){return Ze.prototype.offset.call(this,e,t)},origin:function(){return new Ze(this.x,this.y)},pointNearestToPoint:function(e){if(e=new Ze(e),this.containsPoint(e)){var t=this.sideNearestToPoint(e);switch(t){case"right":return new Ze(this.x+this.width,e.y);case"left":return new Ze(this.x,e.y);case"bottom":return new Ze(e.x,this.y+this.height);case"top":return new Ze(e.x,this.y)}}return e.adhereToRect(this)},rightLine:function(){return new Gt(this.topRight(),this.bottomRight())},rightMiddle:function(){return new Ze(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Aye(10,e);break}return this.x=Lw(this.x*t)/t,this.y=Lw(this.y*t)/t,this.width=Lw(this.width*t)/t,this.height=Lw(this.height*t)/t,this},scale:function(e,t,r){return r=this.origin().scale(e,t,r),this.x=r.x,this.y=r.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new Ze(e);var t=e.x-this.x,r=this.x+this.width-e.x,n=e.y-this.y,i=this.y+this.height-e.y,o=t,s="left";return r<o&&(o=r,s="right"),n<o&&(o=n,s="top"),i<o&&(s="bottom"),s},snapToGrid:function(e,t){var r=this.origin().snapToGrid(e,t),n=this.corner().snapToGrid(e,t);return this.x=r.x,this.y=r.y,this.width=n.x-r.x,this.height=n.y-r.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new Gt(this.topLeft(),this.topRight())},topMiddle:function(){return new Ze(this.x+this.width/2,this.y)},topRight:function(){return new Ze(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return Vt.fromRectUnion(this,e)},update:function(e,t,r,n){return Object(e)===e&&(t=e.y,r=e.width,n=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=r||0,this.height=n||0,this}};Vt.prototype.bottomRight=Vt.prototype.corner;Vt.prototype.topLeft=Vt.prototype.origin;Vt.prototype.translate=Vt.prototype.offset;const Oye=Vt;function tJ(e){const t=e.trim();if(t==="")return[];const r=[],n=t.split(/\b\s*,\s*|,\s*|\s+/),i=n.length;for(let o=0;o<i;o+=2)r.push({x:+n[o],y:+n[o+1]});return r}function rJ(e){const t=e.length;if(t===0)return[];const r=[];for(let n=0;n<t;n++){const i=e[n].clone();r.push(i)}return r}function nJ(e){const{abs:t}=Math;var r,n,i=e.length;if(i===0)return[];var o;for(r=0;r<i;r++)(o===void 0||e[r].y<o.y||e[r].y===o.y&&e[r].x>o.x)&&(o=e[r]);var s=[];for(r=0;r<i;r++){var a=o.theta(e[r]);a===0&&(a=360);var l=[e[r],r,a];s.push(l)}if(s.sort(function(K,ie){var G=K[2]-ie[2];return G===0&&(G=ie[1]-K[1]),G}),s.length>2){var u=s[s.length-1];s.unshift(u)}for(var f={},c=[],h,m,g,_,v,p;s.length!==0;)if(h=s.pop(),m=h[0],!f.hasOwnProperty(h[0]+"@@"+h[1]))for(var E=!1;!E;)if(c.length<2)c.push(h),E=!0;else{g=c.pop(),_=g[0],v=c.pop(),p=v[0];var y=p.cross(_,m);if(y<0)c.push(v),c.push(g),c.push(h),E=!0;else if(y===0){var S=1e-10,T=_.angleBetween(p,m);t(T-180)<S||_.equals(m)||p.equals(_)?(f[g[0]+"@@"+g[1]]=_,c.push(v)):t((T+1)%360-1)<S&&(c.push(v),s.push(g))}else f[g[0]+"@@"+g[1]]=_,c.push(v)}c.length>2&&c.pop();var $,d=-1;for(n=c.length,r=0;r<n;r++){var x=c[r][1];($===void 0||x<$)&&($=x,d=r)}var O=[];if(d>0){var P=c.slice(d),M=c.slice(0,d);O=P.concat(M)}else O=c;var U=[];for(n=O.length,r=0;r<n;r++)U.push(O[r][0]);return U}const Qn=function(e){if(!(this instanceof Qn))return new Qn(e);if(typeof e=="string")return new Qn.parse(e);this.points=Array.isArray(e)?e.map(Ze):[]};Qn.parse=function(e){return new Qn(tJ(e))};Qn.fromRect=function(e){return new Qn([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])};Qn.prototype={type:Cr.Polyline,bbox:function(){var e=1/0,t=-1/0,r=1/0,n=-1/0,i=this.points,o=i.length;if(o===0)return null;for(var s=0;s<o;s++){var a=i[s],l=a.x,u=a.y;l<e&&(e=l),l>t&&(t=l),u<r&&(r=u),u>n&&(n=u)}return new Vt(e,r,t-e,n-r)},clone:function(){return new Qn(rJ(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return 0;for(var n,i=1/0,o=0,s=r-1,a=0;a<s;a++){var l=new Gt(t[a],t[a+1]),u=l.length(),f=l.closestPointNormalizedLength(e),c=l.pointAt(f),h=c.squaredDistance(e);h<i&&(i=h,n=o+f*u),o+=u}return n},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(t===0)return 0;var r=this.length();return r===0?0:t/r},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,r=t.length;if(r===0)return!1;for(var n=e.x,i=e.y,o=r-1,s=0,a=0,l=new Gt,u=new Gt,f=new Ze;s<r;s++){var c=t[o],h=t[s];if(e.equals(c)||(l.start=c,l.end=h,l.containsPoint(e)))return!0;if(i<=c.y&&i>h.y||i>c.y&&i<=h.y){var m=c.x-n>h.x-n?c.x-n:h.x-n;m>=0&&(f.x=n+m,f.y=i,u.start=e,u.end=f,l.intersect(u)&&a++)}o=s}return a%2===1},close:function(){const{start:e,end:t,points:r}=this;return e&&t&&!e.equals(t)&&r.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new Qn(nJ(this.points))},equals:function(e){if(!e)return!1;var t=this.points,r=e.points,n=t.length;if(r.length!==n)return!1;for(var i=0;i<n;i++){var o=t[i],s=e.points[i];if(!o.equals(s))return!1}return!0},intersectionWithLine:function(e){for(var t=new Gt(e),r=[],n=this.lengthPoints(),i=new Gt,o=0,s=n.length-1;o<s;o++){i.start=n[o],i.end=n[o+1];var a=t.intersectionWithLine(i);a&&r.push(a[0])}return r.length>0?r:null},isDifferentiable:function(){var e=this.points,t=e.length;if(t===0)return!1;for(var r=new Gt,n=t-1,i=0;i<n;i++)if(r.start=e[i],r.end=e[i+1],r.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(t===0)return 0;for(var r=0,n=t-1,i=0;i<n;i++)r+=e[i].distance(e[i+1]);return r},pointAt:function(e){var t=this.lengthPoints(),r=t.length;if(r===0)return null;if(r===1||e<=0)return t[0].clone();if(e>=1)return t[r-1].clone();var n=this.length(),i=n*e;return this.pointAtLength(i)},pointAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0)return null;if(r===1)return t[0].clone();var n=!0;e<0&&(n=!1,e=-e);for(var i=0,o=r-1,s=0;s<o;s++){var a=n?s:o-1-s,l=t[a],u=t[a+1],f=new Gt(l,u),c=l.distance(u);if(e<=i+c)return f.pointAtLength((n?1:-1)*(e-i));i+=c}var h=n?t[r-1]:t[0];return h.clone()},round:function(e){for(var t=this.points,r=t.length,n=0;n<r;n++)t[n].round(e);return this},scale:function(e,t,r){for(var n=this.points,i=n.length,o=0;o<i;o++)n[o].scale(e,t,r);return this},simplify:function(e={}){const t=this.points;if(t.length<3)return this;const r=e.threshold||1e-10;let n=0;for(;t[n+2];){const i=n,o=n+1,s=n+2,a=t[i],l=t[o],u=t[s];new Gt(a,u).closestPoint(l).distance(l)<=r?t.splice(o,1):n+=1}return this},tangentAt:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return null;e<0&&(e=0),e>1&&(e=1);var n=this.length(),i=n*e;return this.tangentAtLength(i)},tangentAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return null;var n=!0;e<0&&(n=!1,e=-e);for(var i,o=0,s=r-1,a=0;a<s;a++){var l=n?a:s-1-a,u=t[l],f=t[l+1],c=new Gt(u,f),h=u.distance(f);if(c.isDifferentiable()){if(e<=o+h)return c.tangentAtLength((n?1:-1)*(e-o));i=c}o+=h}if(i){var m=n?1:0;return i.tangentAt(m)}return null},toString:function(){return this.points+""},translate:function(e,t){for(var r=this.points,n=r.length,i=0;i<n;i++)r[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(t===0)return"";for(var r="",n=0;n<t;n++){var i=e[n];r+=i.x+","+i.y+" "}return r.trim()}};Object.defineProperty(Qn.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[0]}});Object.defineProperty(Qn.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[t-1]}});const{abs:Fw,sqrt:Pye,min:fU,max:dU,pow:nA}=Math,bn=function(e,t,r,n){if(!(this instanceof bn))return new bn(e,t,r,n);if(e instanceof bn)return new bn(e.start,e.controlPoint1,e.controlPoint2,e.end);this.start=new Ze(e),this.controlPoint1=new Ze(t),this.controlPoint2=new Ze(r),this.end=new Ze(n)};bn.throughPoints=function(){function e(r){var n=[],i=[],o=r.length-1,s;if(o==1)return n[0]=new Ze((2*r[0].x+r[1].x)/3,(2*r[0].y+r[1].y)/3),i[0]=new Ze(2*n[0].x-r[0].x,2*n[0].y-r[0].y),[n,i];var a=[];for(s=1;s<o-1;s++)a[s]=4*r[s].x+2*r[s+1].x;a[0]=r[0].x+2*r[1].x,a[o-1]=(8*r[o-1].x+r[o].x)/2;var l=t(a);for(s=1;s<o-1;++s)a[s]=4*r[s].y+2*r[s+1].y;a[0]=r[0].y+2*r[1].y,a[o-1]=(8*r[o-1].y+r[o].y)/2;var u=t(a);for(s=0;s<o;s++)n.push(new Ze(l[s],u[s])),s<o-1?i.push(new Ze(2*r[s+1].x-l[s+1],2*r[s+1].y-u[s+1])):i.push(new Ze((r[o].x+l[o-1])/2,(r[o].y+u[o-1])/2));return[n,i]}function t(r){var n=r.length,i=[],o=[],s=2;i[0]=r[0]/s;for(var a=1;a<n;a++)o[a]=1/s,s=(a<n-1?4:3.5)-o[a],i[a]=(r[a]-i[a-1])/s;for(a=1;a<n;a++)i[n-a-1]-=o[n-a]*i[n-a];return i}return function(r){if(!r||Array.isArray(r)&&r.length<2)throw new Error("At least 2 points are required");for(var n=e(r),i=[],o=n[0].length,s=0;s<o;s++){var a=new Ze(n[0][s].x,n[0][s].y),l=new Ze(n[1][s].x,n[1][s].y);i.push(new bn(r[s],a,l,r[s+1]))}return i}}();bn.prototype={type:Cr.Curve,bbox:function(){for(var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end,i=e.x,o=e.y,s=t.x,a=t.y,l=r.x,u=r.y,f=n.x,c=n.y,h=new Array,m=new Array,g=[new Array,new Array],_,v,p,E,y,S,T,$,d=0;d<2;++d){if(d===0?(v=6*i-12*s+6*l,_=-3*i+9*s-9*l+3*f,p=3*s-3*i):(v=6*o-12*a+6*u,_=-3*o+9*a-9*u+3*c,p=3*a-3*o),Fw(_)<1e-12){if(Fw(v)<1e-12)continue;E=-p/v,0<E&&E<1&&m.push(E);continue}T=v*v-4*p*_,$=Pye(T),!(T<0)&&(y=(-v+$)/(2*_),0<y&&y<1&&m.push(y),S=(-v-$)/(2*_),0<S&&S<1&&m.push(S))}for(var x=m.length,O=x,P,M,U;x--;)E=m[x],P=1-E,M=P*P*P*i+3*P*P*E*s+3*P*E*E*l+E*E*E*f,g[0][x]=M,U=P*P*P*o+3*P*P*E*a+3*P*E*E*u+E*E*E*c,g[1][x]=U,h[x]={X:M,Y:U};m[O]=0,m[O+1]=1,h[O]={X:i,Y:o},h[O+1]={X:f,Y:c},g[0][O]=i,g[1][O]=o,g[0][O+1]=f,g[1][O+1]=c,m.length=O+2,g[0].length=O+2,g[1].length=O+2,h.length=O+2;var K=fU.apply(null,g[0]),ie=fU.apply(null,g[1]),G=dU.apply(null,g[0]),ne=dU.apply(null,g[1]);return new Vt(K,ie,G-K,ne-ie)},clone:function(){return new bn(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n};return this.lengthAtT(this.closestPointT(e,i),i)},closestPointNormalizedLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n},o=this.closestPointLength(e,i);if(!o)return 0;var s=this.length(i);return s===0?0:o/s},closestPointT:function(e,t){t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i,o,s,a,l,u,f,c=n.length,h=c?1/c:0,m=0;m<c;m++){var g=n[m],_=g.start.distance(e),v=g.end.distance(e),p=_+v;(!f||p<f)&&(i=g,o=m*h,s=(m+1)*h,a=_,l=v,u=g.start.distance(g.end),f=p)}for(var E=nA(10,-r);;){var y=a?Fw(a-l)/a:0,S=l?Fw(a-l)/l:0,T=y<E||S<E,$=a?a<u*E:!0,d=l?l<u*E:!0,x=$||d;if(T||x)return a<=l?o:s;var O=i.divide(.5);h/=2;var P=O[0].start.distance(e),M=O[0].end.distance(e),U=P+M,K=O[1].start.distance(e),ie=O[1].end.distance(e),G=K+ie;U<=G?(i=O[0],s-=h,a=P,l=M):(i=O[1],o+=h,a=K,l=ie)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){var r=this.toPolyline(t);return r.containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var r=this.tAt(e,t);return this.divideAtT(r)},divideAtLength:function(e,t){var r=this.tAtLength(e,t);return this.divideAtT(r)},divideAtT:function(e){var t=this.start,r=this.controlPoint1,n=this.controlPoint2,i=this.end;if(e<=0)return[new bn(t,t,t,t),new bn(t,r,n,i)];if(e>=1)return[new bn(t,r,n,i),new bn(i,i,i,i)];var o=this.getSkeletonPoints(e),s=o.startControlPoint1,a=o.startControlPoint2,l=o.divider,u=o.dividerControlPoint1,f=o.dividerControlPoint2;return[new bn(t,s,a,l),new bn(l,u,f,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,r=this.controlPoint1,n=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:n.clone()};if(e>=1)return{startControlPoint1:r.clone(),startControlPoint2:n.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var o=new Gt(t,r).pointAt(e),s=new Gt(r,n).pointAt(e),a=new Gt(n,i).pointAt(e),l=new Gt(o,s).pointAt(e),u=new Gt(s,a).pointAt(e),f=new Gt(l,u).pointAt(e),c={startControlPoint1:o,startControlPoint2:l,divider:f,dividerControlPoint1:u,dividerControlPoint2:a};return c},getSubdivisions:function(e){e=e||{};var t=e.precision===void 0?this.PRECISION:e.precision,r=this.start,n=this.controlPoint1,i=this.controlPoint2,o=this.end,s=[new bn(r,n,i,o)];if(t===0)return s;var a=!this.isDifferentiable();if(a)return s;var l=this.endpointDistance(),u=nA(10,-t),f=2,c=n.cross(r,o)===0&&i.cross(r,o)===0;c&&(f=2*t);for(var h=0;;){h+=1;for(var m=[],g=s.length,_=0;_<g;_++){var v=s[_],p=v.divide(.5);m.push(p[0],p[1])}for(var E=0,y=m.length,S=0;S<y;S++){var T=m[S];E+=T.endpointDistance()}if(h>=f){var $=E!==0?(E-l)/E:0;if($<u)return m}s=m,l=E}},isDifferentiable:function(){var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(n))},length:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,n=0,i=r.length,o=0;o<i;o++){var s=r[o];n+=s.endpointDistance()}return n},lengthAtT:function(e,t){if(e<=0)return 0;t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=this.divide(e)[0],i=n.length({precision:r});return i},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var r=this.tAt(e,t);return this.pointAtT(r)},pointAtLength:function(e,t){var r=this.tAtLength(e,t);return this.pointAtT(r)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var r=this.tAt(e,t);return this.tangentAtT(r)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var r=this.tAtLength(e,t);return this.tangentAtT(r)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),r=t.startControlPoint2,n=t.dividerControlPoint1,i=t.divider,o=new Gt(r,n);return o.translate(i.x-r.x,i.y-r.y),o},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n},o=this.length(i),s=o*e;return this.tAtLength(s,i)},tAtLength:function(e,t){var r=!0;e<0&&(r=!1,e=-e),t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,o={precision:n,subdivisions:i},s,a,l,u,f,c=0,h=i.length,m=1/h,g=0;g<h;g++){var _=r?g:h-1-g,v=i[g],p=v.endpointDistance();if(e<=c+p){s=v,a=_*m,l=(_+1)*m,u=r?e-c:p+c-e,f=r?p+c-e:e-c;break}c+=p}if(!s)return r?1:0;for(var E=this.length(o),y=nA(10,-n);;){var S;if(S=E!==0?u/E:0,S<y)return a;if(S=E!==0?f/E:0,S<y)return l;var T,$,d=s.divide(.5);m/=2;var x=d[0].endpointDistance(),O=d[1].endpointDistance();u<=x?(s=d[0],l-=m,T=u,$=x-T):(s=d[1],a+=m,T=u-x,$=O-T),u=T,f=$}},toPoints:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,n=[r[0].start.clone()],i=r.length,o=0;o<i;o++){var s=r[o];n.push(s.end.clone())}return n},toPolyline:function(e){return new Qn(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};bn.prototype.divide=bn.prototype.divideAtT;function p0(e){var t,r,n=[];for(r=arguments.length,t=1;t<r;t++)n.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var i=Object.create(e);for(r=n.length,t=0;t<r;t++){var o=n[t],s,a;for(a in o)o.hasOwnProperty(a)&&(delete i[a],s=Object.getOwnPropertyDescriptor(o,a),Object.defineProperty(i,a,s))}return i}const or=function(e){if(!(this instanceof or))return new or(e);if(typeof e=="string")return new or.parse(e);this.segments=[];var t,r;if(e)if(Array.isArray(e)&&e.length!==0)if(e=e.reduce(function(a,l){return a.concat(l)},[]),r=e.length,e[0].isSegment)for(t=0;t<r;t++){var n=e[t];this.appendSegment(n)}else{var i=null;for(t=0;t<r;t++){var o=e[t];if(!(o instanceof Gt||o instanceof bn))throw new Error("Cannot construct a path segment from the provided object.");t===0&&this.appendSegment(or.createSegment("M",o.start)),i&&!i.end.equals(o.start)&&this.appendSegment(or.createSegment("M",o.start)),o instanceof Gt?this.appendSegment(or.createSegment("L",o.end)):o instanceof bn&&this.appendSegment(or.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),i=o}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof Gt)this.appendSegment(or.createSegment("M",e.start)),this.appendSegment(or.createSegment("L",e.end));else if(e instanceof bn)this.appendSegment(or.createSegment("M",e.start)),this.appendSegment(or.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else if(e instanceof Qn){if(!(e.points&&e.points.length!==0))return;for(r=e.points.length,t=0;t<r;t++){var s=e.points[t];t===0?this.appendSegment(or.createSegment("M",s)):this.appendSegment(or.createSegment("L",s))}}else throw new Error("Cannot construct a path from the provided object.")};or.parse=function(e){if(!e)return new or;for(var t=new or,r=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,n=e.match(r),i=n.length,o=0;o<i;o++){var s=n[o],a=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,l=s.match(a),u=or.createSegment.apply(this,l);t.appendSegment(u)}return t};or.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=or.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var r=[],n=arguments.length,i=1;i<n;i++)r.push(arguments[i]);return qu(t,r)};or.prototype={type:Cr.Path,appendSegment:function(e){var t=this.segments,r=t.length,n,i=r!==0?t[r-1]:null,o=null;if(Array.isArray(e)){if(e=e.reduce(function(u,f){return u.concat(f)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var s=e.length,a=0;a<s;a++){var l=e[a];n=this.prepareSegment(l,i,o),t.push(n),i=n}}else{if(!e||!e.isSegment)throw new Error("Segment required.");n=this.prepareSegment(e,i,o),t.push(n)}},bbox:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r,n=0;n<t;n++){var i=e[n];if(i.isVisible){var o=i.bbox();r=r?r.union(o):o}}if(r)return r;var s=e[t-1];return new Vt(s.end.x,s.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,r=new or,n=0;n<t;n++){var i=e[n].clone();r.appendSegment(i)}return r},closestPoint:function(e,t){var r=this.closestPointT(e,t);return r?this.pointAtT(r):null},closestPointLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,i={precision:r,segmentSubdivisions:n},o=this.closestPointT(e,i);return o?this.lengthAtT(o,i):0},closestPointNormalizedLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,i={precision:r,segmentSubdivisions:n},o=this.closestPointLength(e,i);if(o===0)return 0;var s=this.length(i);return s===0?0:o/s},closestPointT:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a=1/0,l=0;l<n;l++){var u=r[l],f=o[l];if(u.isVisible){var c=u.closestPointT(e,{precision:i,subdivisions:f}),h=u.pointAtT(c),m=new Gt(h,e).squaredLength();m<a&&(s={segmentIndex:l,value:c},a=m)}}return s||{segmentIndex:n-1,value:1}},closestPointTangent:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a=1/0,l=0;l<n;l++){var u=r[l],f=o[l];if(u.isDifferentiable()){var c=u.closestPointT(e,{precision:i,subdivisions:f}),h=u.pointAtT(c),m=new Gt(h,e).squaredLength();m<a&&(s=u.tangentAtT(c),a=m)}}return s||null},containsPoint:function(e,t){var r=this.toPolylines(t);if(!r)return!1;for(var n=r.length,i=0,o=0;o<n;o++){var s=r[o];s.containsPoint(e)&&i++}return i%2===1},divideAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.divideAtLength(l,s)},divideAtLength:function(e,t){var r=this.segments.length;if(r===0)return null;var n=!0;e<0&&(n=!1,e=-e),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a,l=0,u,f,c,h,m;for(s=0;s<r;s++){var g=n?s:r-1-s;a=this.getSegment(g);var _=o[g],v=a.length({precision:i,subdivisions:_});if(a.isDifferentiable()&&(c=a,h=g,e<=l+v)){f=g,u=a.divideAtLength((n?1:-1)*(e-l),{precision:i,subdivisions:_});break}l+=v}if(!c)return null;u||(f=h,m=n?1:0,u=c.divideAtT(m));var p=this.clone();p.replaceSegment(f,u);var E=f,y=f+1,S=f+2;u[0].isDifferentiable()||(p.removeSegment(E),y-=1,S-=1);var T=p.getSegment(y).start;p.insertSegment(y,or.createSegment("M",T)),S+=1,u[1].isDifferentiable()||(p.removeSegment(S-1),S-=1);var $=S-E-1;for(s=S;s<p.segments.length;s++){var d=this.getSegment(s-$);if(a=p.getSegment(s),a.type==="Z"&&!d.subpathStartSegment.end.equals(a.subpathStartSegment.end)){var x=or.createSegment("L",d.end);p.replaceSegment(s,x)}}var O=new or(p.segments.slice(0,y)),P=new or(p.segments.slice(y));return[O,P]},equals:function(e){if(!e)return!1;var t=this.segments,r=e.segments,n=t.length;if(r.length!==n)return!1;for(var i=0;i<n;i++){var o=t[i],s=r[i];if(o.type!==s.type||!o.equals(s))return!1}return!0},getSegment:function(e){var t=this.segments,r=t.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){var t=this.segments,r=t.length;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=[],o=0;o<r;o++){var s=t[o],a=s.getSubdivisions({precision:n});i.push(a)}return i},getSubpaths:function(){const t=this.clone().validate().segments,r=t.length,n=[];for(let i=0;i<r;i++){const o=t[i];o.isSubpathStart?n.push(new or(o)):n[n.length-1].appendSegment(o)}return n},insertSegment:function(e,t){var r=this.segments,n=r.length;if(e<0&&(e=n+e+1),e>n||e<0)throw new Error("Index out of range.");var i,o=null,s=null;if(n!==0&&(e>=1?(o=r[e-1],s=o.nextSegment):s=r[0]),Array.isArray(t)){if(t=t.reduce(function(f,c){return f.concat(c)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var a=t.length,l=0;l<a;l++){var u=t[l];i=this.prepareSegment(u,o,s),r.splice(e+l,0,i),o=i}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,o,s),r.splice(e,0,i)}},intersectionWithLine:function(e,t){var r=null,n=this.toPolylines(t);if(!n)return null;for(var i=0,o=n.length;i<o;i++){var s=n[i],a=e.intersect(s);a&&(r||(r=[]),Array.isArray(a)?Array.prototype.push.apply(r,a):r.push(a))}return r},isDifferentiable:function(){for(var e=this.segments,t=e.length,r=0;r<t;r++){var n=e[r];if(n.isDifferentiable())return!0}return!1},isValid:function(){var e=this.segments,t=e.length===0||e[0].type==="M";return t},length:function(e){var t=this.segments,r=t.length;if(r===0)return 0;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,o=0,s=0;s<r;s++){var a=t[s],l=i[s];o+=a.length({subdivisions:l})}return o},lengthAtT:function(e,t){var r=this.segments,n=r.length;if(n===0)return 0;var i=e.segmentIndex;if(i<0)return 0;var o=e.value;i>=n?(i=n-1,o=1):o<0?o=0:o>1&&(o=1),t=t||{};for(var s=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l,u=0,f=0;f<i;f++){var c=r[f];l=a[f],u+=c.length({precisison:s,subdivisions:l})}return c=r[i],l=a[i],u+=c.lengthAtT(o,{precisison:s,subdivisions:l}),u},pointAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.pointAtLength(l,s)},pointAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;if(e===0)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],h=s[f],m=c.length({precision:o,subdivisions:h});if(c.isVisible){if(e<=l+m)return c.pointAtLength((i?1:-1)*(e-l),{precision:o,subdivisions:h});a=c}l+=m}if(a)return i?a.end:a.start;var g=r[n-1];return g.end.clone()},pointAtT:function(e){var t=this.segments,r=t.length;if(r===0)return null;var n=e.segmentIndex;if(n<0)return t[0].pointAtT(0);if(n>=r)return t[r-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[n].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,r){e.previousSegment=t,e.nextSegment=r,t&&(t.nextSegment=e),r&&(r.previousSegment=e);var n=e;return e.isSubpathStart&&(e.subpathStartSegment=e,n=r),n&&this.updateSubpathStartSegment(n),e},removeSegment:function(e){var t=this.segments,r=t.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var n=t.splice(e,1)[0],i=n.previousSegment,o=n.nextSegment;i&&(i.nextSegment=o),o&&(o.previousSegment=i),n.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(e,t){var r=this.segments,n=r.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var i,o=r[e],s=o.previousSegment,a=o.nextSegment,l=o.isSubpathStart;if(Array.isArray(t)){if(t=t.reduce(function(h,m){return h.concat(m)},[]),!t[0].isSegment)throw new Error("Segments required.");r.splice(e,1);for(var u=t.length,f=0;f<u;f++){var c=t[f];i=this.prepareSegment(c,s,a),r.splice(e+f,0,i),s=i,l&&i.isSubpathStart&&(l=!1)}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,s,a),r.splice(e,1,i),l&&i.isSubpathStart&&(l=!1)}l&&a&&this.updateSubpathStartSegment(a)},round:function(e){for(var t=this.segments,r=t.length,n=0;n<r;n++){var i=t[n];i.round(e)}return this},scale:function(e,t,r){for(var n=this.segments,i=n.length,o=0;o<i;o++){var s=n[o];s.scale(e,t,r)}return this},segmentAt:function(e,t){var r=this.segmentIndexAt(e,t);return r?this.getSegment(r):null},segmentAtLength:function(e,t){var r=this.segmentIndexAtLength(e,t);return r?this.getSegment(r):null},segmentIndexAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.segmentIndexAtLength(l,s)},segmentIndexAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a=null,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],h=s[f],m=c.length({precision:o,subdivisions:h});if(c.isVisible){if(e<=l+m)return f;a=f}l+=m}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.tangentAtLength(l,s)},tangentAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],h=s[f],m=c.length({precision:o,subdivisions:h});if(c.isDifferentiable()){if(e<=l+m)return c.tangentAtLength((i?1:-1)*(e-l),{precision:o,subdivisions:h});a=c}l+=m}if(a){var g=i?1:0;return a.tangentAtT(g)}return null},tangentAtT:function(e){var t=this.segments,r=t.length;if(r===0)return null;var n=e.segmentIndex;if(n<0)return t[0].tangentAtT(0);if(n>=r)return t[r-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[n].tangentAtT(i)},toPoints:function(e){var t=this.segments,r=t.length;if(r===0)return null;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,o=[],s=[],a=0;a<r;a++){var l=t[a];if(l.isVisible){var u=i[a];if(u.length>0){var f=u.map(function(c){return c.start});Array.prototype.push.apply(s,f)}else s.push(l.start)}else s.length>0&&(s.push(t[a-1].end),o.push(s),s=[])}return s.length>0&&(s.push(this.end),o.push(s)),o},toPolylines:function(e){var t=[],r=this.toPoints(e);if(!r)return null;for(var n=0,i=r.length;n<i;n++)t.push(new Qn(r[n]));return t},toString:function(){for(var e=this.segments,t=e.length,r="",n=0;n<t;n++){var i=e[n];r+=i.serialize()+" "}return r.trim()},translate:function(e,t){for(var r=this.segments,n=r.length,i=0;i<n;i++){var o=r[i];o.translate(e,t)}return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)t?e.subpathStartSegment=t.subpathStartSegment:e.subpathStartSegment=null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,or.createSegment("M",0,0)),this}};Object.defineProperty(or.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r=0;r<t;r++){var n=e[r];if(n.isVisible)return n.start}return e[t-1].end}});Object.defineProperty(or.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r=t-1;r>=0;r--){var n=e[r];if(n.isVisible)return n.end}return e[t-1].end}});function qu(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}var rp={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(rp,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(rp,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(rp,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var So=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof So))return qu(So,e);if(t===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var n;if(e[0]instanceof Gt){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new Ze(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=2)i=e.slice(r,r+2),n.push(qu(So,i));return n}else{if(t===1)return this.end=new Ze(e[0]),this;var o;for(n=[],r=0;r<t;r+=1)o=e[r],n.push(new So(o));return n}},iJ={clone:function(){return new So(this.end)},divideAt:function(e){var t=new Gt(this.start,this.end),r=t.divideAt(e);return[new So(r[0]),new So(r[1])]},divideAtLength:function(e){var t=new Gt(this.start,this.end),r=t.divideAtLength(e);return[new So(r[0]),new So(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(iJ,"type",{configurable:!0,enumerable:!0,value:"L"});So.prototype=p0(rp,Gt.prototype,iJ);var ma=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof ma))return qu(ma,e);if(t===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var n;if(e[0]instanceof bn){if(t===1)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===6)return this.controlPoint1=new Ze(+e[0],+e[1]),this.controlPoint2=new Ze(+e[2],+e[3]),this.end=new Ze(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=6)i=e.slice(r,r+6),n.push(qu(ma,i));return n}else{if(t===3)return this.controlPoint1=new Ze(e[0]),this.controlPoint2=new Ze(e[1]),this.end=new Ze(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");var o;for(n=[],r=0;r<t;r+=3)o=e.slice(r,r+3),n.push(qu(ma,o));return n}},oJ={clone:function(){return new ma(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var r=new bn(this.start,this.controlPoint1,this.controlPoint2,this.end),n=r.divideAt(e,t);return[new ma(n[0]),new ma(n[1])]},divideAtLength:function(e,t){var r=new bn(this.start,this.controlPoint1,this.controlPoint2,this.end),n=r.divideAtLength(e,t);return[new ma(n[0]),new ma(n[1])]},divideAtT:function(e){var t=new bn(this.start,this.controlPoint1,this.controlPoint2,this.end),r=t.divideAtT(e);return[new ma(r[0]),new ma(r[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(n))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,r=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+r.x+" "+r.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(oJ,"type",{configurable:!0,enumerable:!0,value:"C"});ma.prototype=p0(rp,bn.prototype,oJ);var Th=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Th))return qu(Th,e);if(t===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var n;if(e[0]instanceof Gt){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(e[0]instanceof bn){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new Ze(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=2)i=e.slice(r,r+2),r===0?n.push(qu(Th,i)):n.push(qu(So,i));return n}else{if(t===1)return this.end=new Ze(e[0]),this;var o;for(n=[],r=0;r<t;r+=1)o=e[r],r===0?n.push(new Th(o)):n.push(new So(o));return n}},Dk={bbox:function(){return null},clone:function(){return new Th(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(Dk,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(Dk,"type",{configurable:!0,enumerable:!0,value:"M"});Th.prototype=p0(rp,Dk);var Km=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Km))return qu(Km,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},Mk={clone:function(){return new Km},divideAt:function(e){var t=new Gt(this.start,this.end),r=t.divideAt(e);return[r[1].isDifferentiable()?new So(r[0]):this.clone(),new So(r[1])]},divideAtLength:function(e){var t=new Gt(this.start,this.end),r=t.divideAtLength(e);return[r[1].isDifferentiable()?new So(r[0]):this.clone(),new So(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(Mk,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(Mk,"type",{configurable:!0,enumerable:!0,value:"Z"});Km.prototype=p0(rp,Gt.prototype,Mk);var Rye=or.segmentTypes={L:So,C:ma,M:Th,Z:Km,z:Km};or.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(Rye).join("")+",.]*$");or.isDataSupported=function(e){return typeof e!="string"?!1:this.regexSupportedData.test(e)};const Nye={curveThroughPoints:function(e){return console.warn("deprecated"),new or(bn.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var t=[],r=[],n=e.length-1,i;if(n==1)return t[0]=new Ze((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),r[0]=new Ze(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,r];var o=[];for(i=1;i<n-1;i++)o[i]=4*e[i].x+2*e[i+1].x;o[0]=e[0].x+2*e[1].x,o[n-1]=(8*e[n-1].x+e[n].x)/2;var s=this.getFirstControlPoints(o);for(i=1;i<n-1;++i)o[i]=4*e[i].y+2*e[i+1].y;o[0]=e[0].y+2*e[1].y,o[n-1]=(8*e[n-1].y+e[n].y)/2;var a=this.getFirstControlPoints(o);for(i=0;i<n;i++)t.push(new Ze(s[i],a[i])),i<n-1?r.push(new Ze(2*e[i+1].x-s[i+1],2*e[i+1].y-a[i+1])):r.push(new Ze((e[n].x+s[n-1])/2,(e[n].y+a[n-1])/2));return[t,r]},getCurveDivider:function(e,t,r,n){console.warn("deprecated");var i=new bn(e,t,r,n);return function(s){var a=i.divide(s);return[{p0:a[0].start,p1:a[0].controlPoint1,p2:a[0].controlPoint2,p3:a[0].end},{p0:a[1].start,p1:a[1].controlPoint1,p2:a[1].controlPoint2,p3:a[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,r=[],n=[],i=2;r[0]=e[0]/i;for(var o=1;o<t;o++)n[o]=1/i,i=(o<t-1?4:3.5)-n[o],r[o]=(e[o]-r[o-1])/i;for(o=1;o<t;o++)r[t-o-1]-=n[t-o]*r[t-o];return r},getInversionSolver:function(e,t,r,n){console.warn("deprecated");var i=new bn(e,t,r,n);return function(s){return i.closestPointT(s)}}},Ws=function(e){if(!(this instanceof Ws))return new Ws(e);if(typeof e=="string")return new Ws.parse(e);this.points=Array.isArray(e)?e.map(Ze):[]};Ws.parse=function(e){return new Ws(tJ(e))};Ws.fromRect=function(e){return new Ws([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])};Ws.prototype=p0(Qn.prototype,{type:Cr.Polygon,clone:function(){return new Ws(rJ(this.points))},convexHull:function(){return new Ws(nJ(this.points))},lengthPoints:function(){const{start:e,end:t,points:r}=this;return r.length<=1||e.equals(t)?r:[...r,e.clone()]}});function sJ(e,t,r,n){switch(e.type){case Cr.Line:{switch(t.type){case Cr.Line:return $h(e,t)}break}case Cr.Ellipse:{switch(t.type){case Cr.Line:return Lk(e,t);case Cr.Ellipse:return aJ(e,t)}break}case Cr.Rect:{switch(t.type){case Cr.Line:return lJ(e,t);case Cr.Ellipse:return uJ(e,t);case Cr.Rect:return Fk(e,t)}break}case Cr.Polyline:{switch(t.type){case Cr.Line:return wT(e,t);case Cr.Ellipse:return Bk(e,t);case Cr.Rect:return cJ(e,t);case Cr.Polyline:return fJ(e,t)}break}case Cr.Polygon:{switch(t.type){case Cr.Line:return Uk(e,t);case Cr.Ellipse:return bT(e,t);case Cr.Rect:return dJ(e,t);case Cr.Polyline:return hJ(e,t);case Cr.Polygon:return pJ(e,t)}break}case Cr.Path:{switch(t.type){case Cr.Line:return mJ(e,t,r);case Cr.Ellipse:return gJ(e,t,r);case Cr.Rect:return vJ(e,t,r);case Cr.Polyline:return zk(e,t,r);case Cr.Polygon:return _T(e,t,r);case Cr.Path:return yJ(e,t,r,n)}break}}switch(t.type){case Cr.Ellipse:case Cr.Rect:case Cr.Polyline:case Cr.Polygon:case Cr.Path:return sJ(t,e,n,r);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function $h(e,t){const r=e.start.x,n=e.start.y,i=e.end.x,o=e.end.y,s=t.start.x,a=t.start.y,l=t.end.x,u=t.end.y,f=i-r,c=o-n,h=l-s,m=u-a,g=r-s,_=n-a,v=f*m-h*c,p=(f*_-c*g)/v,E=(h*_-m*g)/v;return p>=0&&p<=1&&E>=0&&E<=1}function Lk(e,t){const r=e.a,n=e.b,i=e.x,o=e.y,s=t.start.x-i,a=t.end.x-i,l=t.start.y-o,u=t.end.y-o,f=r*r,c=n*n,h=a-s,m=u-l,g=h*h/f+m*m/c,_=2*s*h/f+2*l*m/c,v=s*s/f+l*l/c-1,p=_*_-4*g*v;if(p===0){const E=-_/2/g;return E>=0&&E<=1}else if(p>0){const E=Math.sqrt(p),y=(-_+E)/2/g,S=(-_-E)/2/g;return y>=0&&y<=1||S>=0&&S<=1}return!1}function aJ(e,t){return Iye(e,0,t,0)}function lJ(e,t){const{start:r,end:n}=t,{x:i,y:o,width:s,height:a}=e;return r.x>i+s&&n.x>i+s||r.x<i&&n.x<i||r.y>o+a&&n.y>o+a||r.y<o&&n.y<o?!1:e.containsPoint(t.start)||e.containsPoint(t.end)?!0:$h(e.topLine(),t)||$h(e.rightLine(),t)||$h(e.bottomLine(),t)||$h(e.leftLine(),t)}function uJ(e,t){return Fk(e,Vt.fromEllipse(t))?bT(Ws.fromRect(e),t):!1}function Fk(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function wT(e,t){return wJ(e,t,{interior:!1})}function Bk(e,t){return bJ(e,t,{interior:!1})}function cJ(e,t){return _J(e,t,{interior:!1})}function fJ(e,t){return ET(e,t,{interior:!1})}function Uk(e,t){return wJ(e,t,{interior:!0})}function bT(e,t){return bJ(e,t,{interior:!0})}function dJ(e,t){return _J(e,t,{interior:!0})}function hJ(e,t){return ET(e,t,{interior:!0})}function pJ(e,t){return qk(e,t,{interior:!0})}function mJ(e,t,r){return e.getSubpaths().some(n=>{const[i]=n.toPolylines(r),{type:o}=n.getSegment(-1);return o==="Z"?Uk(i,t):wT(i,t)})}function gJ(e,t,r){return e.getSubpaths().some(n=>{const[i]=n.toPolylines(r),{type:o}=n.getSegment(-1);return o==="Z"?bT(i,t):Bk(i,t)})}function vJ(e,t,r){return _T(e,Ws.fromRect(t),r)}function zk(e,t,r){return EJ(e,t,r,{interior:!1})}function _T(e,t,r){return EJ(e,t,r,{interior:!0})}function yJ(e,t,r,n){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(r),{type:s}=i.getSegment(-1);return s==="Z"?_T(t,o,n):zk(t,o,n)})}function wJ(e,t,r={}){const{interior:n=!1}=r;let i;if(n){if(e.containsPoint(t.start))return!0;const{start:a,end:l,points:u}=e;i=l.equals(a)?u:[...u,a]}else i=e.points;const{length:o}=i,s=new Gt;for(let a=0;a<o-1;a++)if(s.start=i[a],s.end=i[a+1],$h(t,s))return!0;return!1}function bJ(e,t,r={}){const{start:n,end:i,points:o}=e;if(t.containsPoint(n))return!0;let s;const{interior:a=!1}=r;if(a){if(e.containsPoint(t.center()))return!0;s=i.equals(n)?o:[...o,n]}else s=o;const{length:l}=s,u=new Gt;for(let f=0;f<l-1;f++)if(u.start=s[f],u.end=s[f+1],Lk(t,u))return!0;return!1}function _J(e,t,r){const n=Ws.fromRect(t);return qk(e,n,r)}function EJ(e,t,r,n){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(r),{type:s}=i.getSegment(-1);return s==="Z"?qk(t,o,n):ET(t,o,n)})}function ET(e,t,r={}){const{interior:n=!1}=r;let i;if(n){const{start:l}=t;if(e.containsPoint(l))return!0;i=e.clone().close()}else i=e;const o=t.points,{length:s}=o,a=new Gt;for(let l=0;l<s-1;l++)if(a.start=o[l],a.end=o[l+1],wT(i,a))return!0;return!1}function qk(e,t,r){return t.containsPoint(e.start)||ET(e,t.clone().close(),r)}function Iye(e,t,r,n){const{cos:i,sin:o}=Math,s=o(t),a=i(t),l=o(n),u=i(n),f=s*s,c=a*a,h=s*a,m=l*l,g=u*u,_=l*u,v=e.a*e.a,p=e.b*e.b,E=r.a*r.a,y=r.b*r.b,S=v*f+p*c,T=E*m+y*g,$=v*c+p*f,d=E*g+y*m;let x=2*(p-v)*h,O=2*(y-E)*_,P=-2*S*e.x-x*e.y,M=-2*T*r.x-O*r.y,U=-x*e.x-2*$*e.y,K=-O*r.x-2*d*r.y;const ie=S*e.x*e.x+$*e.y*e.y+x*e.x*e.y-v*p,G=T*r.x*r.x+d*r.y*r.y+O*r.x*r.y-E*y;x=x/2,O=O/2,P=P/2,M=M/2,U=U/2,K=K/2;const ne=gf([[S,x,P],[x,$,U],[P,U,ie]]),ge=gf([[T,O,M],[O,d,K],[M,K,G]]),re=.33333333*(gf([[T,x,P],[O,$,U],[M,U,ie]])+gf([[S,O,P],[x,d,U],[P,K,ie]])+gf([[S,x,M],[x,$,K],[P,U,G]])),se=.33333333*(gf([[S,O,M],[x,d,K],[P,K,G]])+gf([[T,x,M],[O,$,K],[M,U,G]])+gf([[T,O,P],[O,d,U],[M,K,ie]])),D=Bw([[ne,re],[re,se]]),z=Bw([[ne,se],[re,ge]]),Y=Bw([[re,se],[se,ge]]);return!(Bw([[2*D,z],[z,2*Y]])>0&&(se>0||re>0))}function Bw(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function gf(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}const Cye=Object.freeze(Object.defineProperty({__proto__:null,ellipseWithEllipse:aJ,ellipseWithLine:Lk,exists:sJ,lineWithLine:$h,pathWithEllipse:gJ,pathWithLine:mJ,pathWithPath:yJ,pathWithPolygon:_T,pathWithPolyline:zk,pathWithRect:vJ,polygonWithEllipse:bT,polygonWithLine:Uk,polygonWithPolygon:pJ,polygonWithPolyline:hJ,polygonWithRect:dJ,polylineWithEllipse:Bk,polylineWithLine:wT,polylineWithPolyline:fJ,polylineWithRect:cJ,rectWithEllipse:uJ,rectWithLine:lJ,rectWithRect:Fk},Symbol.toStringTag,{value:"Module"})),kye=Cye,jye=Object.freeze(Object.defineProperty({__proto__:null,Curve:bn,Ellipse:ds,Line:Gt,Path:or,Point:Ze,Polygon:Ws,Polyline:Qn,Rect:Vt,bezier:Nye,ellipse:Tye,intersection:kye,line:kh,normalizeAngle:Ql,point:XS,random:SI,rect:Oye,scale:wye,snapToGrid:Wh,toDeg:yT,toRad:Hs,types:Cr},Symbol.toStringTag,{value:"Module"}));var SJ={},Vk="1.13.7",hU=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},ST=Array.prototype,Hk=Object.prototype,pU=typeof Symbol<"u"?Symbol.prototype:null,Dye=ST.push,m0=ST.slice,Ay=Hk.toString,Mye=Hk.hasOwnProperty,TJ=typeof ArrayBuffer<"u",Lye=typeof DataView<"u",Fye=Array.isArray,mU=Object.keys,gU=Object.create,vU=TJ&&ArrayBuffer.isView,Bye=isNaN,Uye=isFinite,$J=!{toString:null}.propertyIsEnumerable("toString"),yU=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],zye=Math.pow(2,53)-1;function vs(e,t){return t=t==null?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=n,e.apply(this,o)}}function Ed(e){var t=typeof e;return t==="function"||t==="object"&&!!e}function xJ(e){return e===null}function Wk(e){return e===void 0}function Gk(e){return e===!0||e===!1||Ay.call(e)==="[object Boolean]"}function AJ(e){return!!(e&&e.nodeType===1)}function Ho(e){var t="[object "+e+"]";return function(r){return Ay.call(r)===t}}const TT=Ho("String"),Kk=Ho("Number"),OJ=Ho("Date"),PJ=Ho("RegExp"),RJ=Ho("Error"),Jk=Ho("Symbol"),Yk=Ho("ArrayBuffer");var NJ=Ho("Function"),qye=hU.document&&hU.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof qye!="function"&&(NJ=function(e){return typeof e=="function"||!1});const Vo=NJ,IJ=Ho("Object");var CJ=Lye&&(!/\[native code\]/.test(String(DataView))||IJ(new DataView(new ArrayBuffer(8)))),Xk=typeof Map<"u"&&IJ(new Map),Vye=Ho("DataView");function Hye(e){return e!=null&&Vo(e.getInt8)&&Yk(e.buffer)}const Oy=CJ?Hye:Vye,Sd=Fye||Ho("Array");function Td(e,t){return e!=null&&Mye.call(e,t)}var xI=Ho("Arguments");(function(){xI(arguments)||(xI=function(e){return Td(e,"callee")})})();const $T=xI;function kJ(e){return!Jk(e)&&Uye(e)&&!isNaN(parseFloat(e))}function Qk(e){return Kk(e)&&Bye(e)}function Zk(e){return function(){return e}}function jJ(e){return function(t){var r=e(t);return typeof r=="number"&&r>=0&&r<=zye}}function DJ(e){return function(t){return t==null?void 0:t[e]}}const QS=DJ("byteLength"),Wye=jJ(QS);var Gye=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function Kye(e){return vU?vU(e)&&!Oy(e):Wye(e)&&Gye.test(Ay.call(e))}const ej=TJ?Kye:Zk(!1),Ks=DJ("length");function Jye(e){for(var t={},r=e.length,n=0;n<r;++n)t[e[n]]=!0;return{contains:function(i){return t[i]===!0},push:function(i){return t[i]=!0,e.push(i)}}}function MJ(e,t){t=Jye(t);var r=yU.length,n=e.constructor,i=Vo(n)&&n.prototype||Hk,o="constructor";for(Td(e,o)&&!t.contains(o)&&t.push(o);r--;)o=yU[r],o in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function eo(e){if(!Ed(e))return[];if(mU)return mU(e);var t=[];for(var r in e)Td(e,r)&&t.push(r);return $J&&MJ(e,t),t}function LJ(e){if(e==null)return!0;var t=Ks(e);return typeof t=="number"&&(Sd(e)||TT(e)||$T(e))?t===0:Ks(eo(e))===0}function tj(e,t){var r=eo(t),n=r.length;if(e==null)return!n;for(var i=Object(e),o=0;o<n;o++){var s=r[o];if(t[s]!==i[s]||!(s in i))return!1}return!0}function kn(e){if(e instanceof kn)return e;if(!(this instanceof kn))return new kn(e);this._wrapped=e}kn.VERSION=Vk;kn.prototype.value=function(){return this._wrapped};kn.prototype.valueOf=kn.prototype.toJSON=kn.prototype.value;kn.prototype.toString=function(){return String(this._wrapped)};function wU(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,QS(e))}var bU="[object DataView]";function AI(e,t,r,n){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:FJ(e,t,r,n)}function FJ(e,t,r,n){e instanceof kn&&(e=e._wrapped),t instanceof kn&&(t=t._wrapped);var i=Ay.call(e);if(i!==Ay.call(t))return!1;if(CJ&&i=="[object Object]"&&Oy(e)){if(!Oy(t))return!1;i=bU}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return pU.valueOf.call(e)===pU.valueOf.call(t);case"[object ArrayBuffer]":case bU:return FJ(wU(e),wU(t),r,n)}var o=i==="[object Array]";if(!o&&ej(e)){var s=QS(e);if(s!==QS(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if(typeof e!="object"||typeof t!="object")return!1;var a=e.constructor,l=t.constructor;if(a!==l&&!(Vo(a)&&a instanceof a&&Vo(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!AI(e[u],t[u],r,n))return!1}else{var f=eo(e),c;if(u=f.length,eo(t).length!==u)return!1;for(;u--;)if(c=f[u],!(Td(t,c)&&AI(e[c],t[c],r,n)))return!1}return r.pop(),n.pop(),!0}function BJ(e,t){return AI(e,t)}function fg(e){if(!Ed(e))return[];var t=[];for(var r in e)t.push(r);return $J&&MJ(e,t),t}function rj(e){var t=Ks(e);return function(r){if(r==null)return!1;var n=fg(r);if(Ks(n))return!1;for(var i=0;i<t;i++)if(!Vo(r[e[i]]))return!1;return e!==qJ||!Vo(r[nj])}}var nj="forEach",UJ="has",ij=["clear","delete"],zJ=["get",UJ,"set"],Yye=ij.concat(nj,zJ),qJ=ij.concat(zJ),Xye=["add"].concat(ij,nj,UJ);const VJ=Xk?rj(Yye):Ho("Map"),HJ=Xk?rj(qJ):Ho("WeakMap"),WJ=Xk?rj(Xye):Ho("Set"),GJ=Ho("WeakSet");function np(e){for(var t=eo(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n}function KJ(e){for(var t=eo(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n}function oj(e){for(var t={},r=eo(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t}function Py(e){var t=[];for(var r in e)Vo(e[r])&&t.push(r);return t.sort()}function sj(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||r==null)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=e(o),a=s.length,l=0;l<a;l++){var u=s[l];(!t||r[u]===void 0)&&(r[u]=o[u])}return r}}const aj=sj(fg),Jm=sj(eo),lj=sj(fg,!0);function Qye(){return function(){}}function JJ(e){if(!Ed(e))return{};if(gU)return gU(e);var t=Qye();t.prototype=e;var r=new t;return t.prototype=null,r}function YJ(e,t){var r=JJ(e);return t&&Jm(r,t),r}function XJ(e){return Ed(e)?Sd(e)?e.slice():aj({},e):e}function QJ(e,t){return t(e),e}function uj(e){return Sd(e)?e:[e]}kn.toPath=uj;function g0(e){return kn.toPath(e)}function cj(e,t){for(var r=t.length,n=0;n<r;n++){if(e==null)return;e=e[t[n]]}return r?e:void 0}function fj(e,t,r){var n=cj(e,g0(t));return Wk(n)?r:n}function ZJ(e,t){t=g0(t);for(var r=t.length,n=0;n<r;n++){var i=t[n];if(!Td(e,i))return!1;e=e[i]}return!!r}function xT(e){return e}function Gh(e){return e=Jm({},e),function(t){return tj(t,e)}}function AT(e){return e=g0(e),function(t){return cj(t,e)}}function v0(e,t,r){if(t===void 0)return e;switch(r??3){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,s){return e.call(t,n,i,o,s)}}return function(){return e.apply(t,arguments)}}function eY(e,t,r){return e==null?xT:Vo(e)?v0(e,t,r):Ed(e)&&!Sd(e)?Gh(e):AT(e)}function OT(e,t){return eY(e,t,1/0)}kn.iteratee=OT;function Zs(e,t,r){return kn.iteratee!==OT?kn.iteratee(e,t):eY(e,t,r)}function tY(e,t,r){t=Zs(t,r);for(var n=eo(e),i=n.length,o={},s=0;s<i;s++){var a=n[s];o[a]=t(e[a],a,e)}return o}function dj(){}function rY(e){return e==null?dj:function(t){return fj(e,t)}}function nY(e,t,r){var n=Array(Math.max(0,e));t=v0(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n}function ZS(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}const Ym=Date.now||function(){return new Date().getTime()};function iY(e){var t=function(o){return e[o]},r="(?:"+eo(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(o){return o=o==null?"":""+o,n.test(o)?o.replace(i,t):o}}const oY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},sY=iY(oY),Zye=oj(oY),aY=iY(Zye),lY=kn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var iA=/(.)^/,e0e={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},t0e=/\\|'|\r|\n|\u2028|\u2029/g;function r0e(e){return"\\"+e0e[e]}var n0e=/^\s*(\w|\$)+\s*$/;function uY(e,t,r){!t&&r&&(t=r),t=lj({},t,kn.templateSettings);var n=RegExp([(t.escape||iA).source,(t.interpolate||iA).source,(t.evaluate||iA).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(n,function(u,f,c,h,m){return o+=e.slice(i,m).replace(t0e,r0e),i=m+u.length,f?o+=`'+
((__t=(`+f+`))==null?'':_.escape(__t))+
'`:c?o+=`'+
((__t=(`+c+`))==null?'':__t)+
'`:h&&(o+=`';
`+h+`
__p+='`),u}),o+=`';
`;var s=t.variable;if(s){if(!n0e.test(s))throw new Error("variable is not a bare identifier: "+s)}else o=`with(obj||{}){
`+o+`}
`,s="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var a;try{a=new Function(s,"_",o)}catch(u){throw u.source=o,u}var l=function(u){return a.call(this,u,kn)};return l.source="function("+s+`){
`+o+"}",l}function cY(e,t,r){t=g0(t);var n=t.length;if(!n)return Vo(r)?r.call(e):r;for(var i=0;i<n;i++){var o=e==null?void 0:e[t[i]];o===void 0&&(o=r,i=n),e=Vo(o)?o.call(e):o}return e}var i0e=0;function fY(e){var t=++i0e+"";return e?e+t:t}function dY(e){var t=kn(e);return t._chain=!0,t}function hY(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var o=JJ(e.prototype),s=e.apply(o,i);return Ed(s)?s:o}var ip=vs(function(e,t){var r=ip.placeholder,n=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===r?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return hY(e,n,this,this,s)};return n});ip.placeholder=kn;const hj=vs(function(e,t,r){if(!Vo(e))throw new TypeError("Bind must be called on a function");var n=vs(function(i){return hY(e,n,t,this,r.concat(i))});return n}),Oa=jJ(Ks);function op(e,t,r,n){if(n=n||[],!t&&t!==0)t=1/0;else if(t<=0)return n.concat(e);for(var i=n.length,o=0,s=Ks(e);o<s;o++){var a=e[o];if(Oa(a)&&(Sd(a)||$T(a)))if(t>1)op(a,t-1,r,n),i=n.length;else for(var l=0,u=a.length;l<u;)n[i++]=a[l++];else r||(n[i++]=a)}return n}const pY=vs(function(e,t){t=op(t,!1,!1);var r=t.length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=hj(e[n],e)}return e});function mY(e,t){var r=function(n){var i=r.cache,o=""+(t?t.apply(this,arguments):n);return Td(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return r.cache={},r}const pj=vs(function(e,t,r){return setTimeout(function(){return e.apply(null,r)},t)}),gY=ip(pj,kn,1);function vY(e,t,r){var n,i,o,s,a=0;r||(r={});var l=function(){a=r.leading===!1?0:Ym(),n=null,s=e.apply(i,o),n||(i=o=null)},u=function(){var f=Ym();!a&&r.leading===!1&&(a=f);var c=t-(f-a);return i=this,o=arguments,c<=0||c>t?(n&&(clearTimeout(n),n=null),a=f,s=e.apply(i,o),n||(i=o=null)):!n&&r.trailing!==!1&&(n=setTimeout(l,c)),s};return u.cancel=function(){clearTimeout(n),a=0,n=i=o=null},u}function yY(e,t,r){var n,i,o,s,a,l=function(){var f=Ym()-i;t>f?n=setTimeout(l,t-f):(n=null,r||(s=e.apply(a,o)),n||(o=a=null))},u=vs(function(f){return a=this,o=f,i=Ym(),n||(n=setTimeout(l,t),r&&(s=e.apply(a,o))),s});return u.cancel=function(){clearTimeout(n),n=o=a=null},u}function wY(e,t){return ip(t,e)}function PT(e){return function(){return!e.apply(this,arguments)}}function bY(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function _Y(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function mj(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}const EY=ip(mj,2);function gj(e,t,r){t=Zs(t,r);for(var n=eo(e),i,o=0,s=n.length;o<s;o++)if(i=n[o],t(e[i],i,e))return i}function SY(e){return function(t,r,n){r=Zs(r,n);for(var i=Ks(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(r(t[o],o,t))return o;return-1}}const RT=SY(1),vj=SY(-1);function yj(e,t,r,n){r=Zs(r,n,1);for(var i=r(t),o=0,s=Ks(e);o<s;){var a=Math.floor((o+s)/2);r(e[a])<i?o=a+1:s=a}return o}function TY(e,t,r){return function(n,i,o){var s=0,a=Ks(n);if(typeof o=="number")e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return o=r(n,i),n[o]===i?o:-1;if(i!==i)return o=t(m0.call(n,s,a),Qk),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(n[o]===i)return o;return-1}}const wj=TY(1,RT,yj),$Y=TY(-1,vj);function Ry(e,t,r){var n=Oa(e)?RT:gj,i=n(e,t,r);if(i!==void 0&&i!==-1)return e[i]}function xY(e,t){return Ry(e,Gh(t))}function Zl(e,t,r){t=v0(t,r);var n,i;if(Oa(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var o=eo(e);for(n=0,i=o.length;n<i;n++)t(e[o[n]],o[n],e)}return e}function Mc(e,t,r){t=Zs(t,r);for(var n=!Oa(e)&&eo(e),i=(n||e).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=t(e[a],a,e)}return o}function AY(e){var t=function(r,n,i,o){var s=!Oa(r)&&eo(r),a=(s||r).length,l=e>0?0:a-1;for(o||(i=r[s?s[l]:l],l+=e);l>=0&&l<a;l+=e){var u=s?s[l]:l;i=n(i,r[u],u,r)}return i};return function(r,n,i,o){var s=arguments.length>=3;return t(r,v0(n,o,4),i,s)}}const xm=AY(1),e1=AY(-1);function ud(e,t,r){var n=[];return t=Zs(t,r),Zl(e,function(i,o,s){t(i,o,s)&&n.push(i)}),n}function OY(e,t,r){return ud(e,PT(Zs(t)),r)}function t1(e,t,r){t=Zs(t,r);for(var n=!Oa(e)&&eo(e),i=(n||e).length,o=0;o<i;o++){var s=n?n[o]:o;if(!t(e[s],s,e))return!1}return!0}function r1(e,t,r){t=Zs(t,r);for(var n=!Oa(e)&&eo(e),i=(n||e).length,o=0;o<i;o++){var s=n?n[o]:o;if(t(e[s],s,e))return!0}return!1}function ul(e,t,r,n){return Oa(e)||(e=np(e)),(typeof r!="number"||n)&&(r=0),wj(e,t,r)>=0}const PY=vs(function(e,t,r){var n,i;return Vo(t)?i=t:(t=g0(t),n=t.slice(0,-1),t=t[t.length-1]),Mc(e,function(o){var s=i;if(!s){if(n&&n.length&&(o=cj(o,n)),o==null)return;s=o[t]}return s==null?s:s.apply(o,r)})});function NT(e,t){return Mc(e,AT(t))}function RY(e,t){return ud(e,Gh(t))}function bj(e,t,r){var n=-1/0,i=-1/0,o,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=Oa(e)?e:np(e);for(var a=0,l=e.length;a<l;a++)o=e[a],o!=null&&o>n&&(n=o)}else t=Zs(t,r),Zl(e,function(u,f,c){s=t(u,f,c),(s>i||s===-1/0&&n===-1/0)&&(n=u,i=s)});return n}function NY(e,t,r){var n=1/0,i=1/0,o,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=Oa(e)?e:np(e);for(var a=0,l=e.length;a<l;a++)o=e[a],o!=null&&o<n&&(n=o)}else t=Zs(t,r),Zl(e,function(u,f,c){s=t(u,f,c),(s<i||s===1/0&&n===1/0)&&(n=u,i=s)});return n}var o0e=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function _j(e){return e?Sd(e)?m0.call(e):TT(e)?e.match(o0e):Oa(e)?Mc(e,xT):np(e):[]}function Ej(e,t,r){if(t==null||r)return Oa(e)||(e=np(e)),e[ZS(e.length-1)];var n=_j(e),i=Ks(n);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=ZS(s,o),l=n[s];n[s]=n[a],n[a]=l}return n.slice(0,t)}function IY(e){return Ej(e,1/0)}function CY(e,t,r){var n=0;return t=Zs(t,r),NT(Mc(e,function(i,o,s){return{value:i,index:n++,criteria:t(i,o,s)}}).sort(function(i,o){var s=i.criteria,a=o.criteria;if(s!==a){if(s>a||s===void 0)return 1;if(s<a||a===void 0)return-1}return i.index-o.index}),"value")}function IT(e,t){return function(r,n,i){var o=t?[[],[]]:{};return n=Zs(n,i),Zl(r,function(s,a){var l=n(s,a,r);e(o,s,l)}),o}}const kY=IT(function(e,t,r){Td(e,r)?e[r].push(t):e[r]=[t]}),jY=IT(function(e,t,r){e[r]=t}),DY=IT(function(e,t,r){Td(e,r)?e[r]++:e[r]=1}),MY=IT(function(e,t,r){e[r?0:1].push(t)},!0);function LY(e){return e==null?0:Oa(e)?e.length:eo(e).length}function s0e(e,t,r){return t in r}const Sj=vs(function(e,t){var r={},n=t[0];if(e==null)return r;Vo(n)?(t.length>1&&(n=v0(n,t[1])),t=fg(e)):(n=s0e,t=op(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];n(a,s,e)&&(r[s]=a)}return r}),FY=vs(function(e,t){var r=t[0],n;return Vo(r)?(r=PT(r),t.length>1&&(n=t[1])):(t=Mc(op(t,!1,!1),String),r=function(i,o){return!ul(t,o)}),Sj(e,r,n)});function Tj(e,t,r){return m0.call(e,0,Math.max(0,e.length-(t==null||r?1:t)))}function Am(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[0]:Tj(e,e.length-t)}function jh(e,t,r){return m0.call(e,t==null||r?1:t)}function BY(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[e.length-1]:jh(e,Math.max(0,e.length-t))}function UY(e){return ud(e,Boolean)}function zY(e,t){return op(e,t,!1)}const $j=vs(function(e,t){return t=op(t,!0,!0),ud(e,function(r){return!ul(t,r)})}),qY=vs(function(e,t){return $j(e,t)});function Ny(e,t,r,n){Gk(t)||(n=r,r=t,t=!1),r!=null&&(r=Zs(r,n));for(var i=[],o=[],s=0,a=Ks(e);s<a;s++){var l=e[s],u=r?r(l,s,e):l;t&&!r?((!s||o!==u)&&i.push(l),o=u):r?ul(o,u)||(o.push(u),i.push(l)):ul(i,l)||i.push(l)}return i}const VY=vs(function(e){return Ny(op(e,!0,!0))});function HY(e){for(var t=[],r=arguments.length,n=0,i=Ks(e);n<i;n++){var o=e[n];if(!ul(t,o)){var s;for(s=1;s<r&&ul(arguments[s],o);s++);s===r&&t.push(o)}}return t}function Iy(e){for(var t=e&&bj(e,Ks).length||0,r=Array(t),n=0;n<t;n++)r[n]=NT(e,n);return r}const WY=vs(Iy);function GY(e,t){for(var r={},n=0,i=Ks(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r}function KY(e,t,r){t==null&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),o=0;o<n;o++,e+=r)i[o]=e;return i}function JY(e,t){if(t==null||t<1)return[];for(var r=[],n=0,i=e.length;n<i;)r.push(m0.call(e,n,n+=t));return r}function xj(e,t){return e._chain?kn(t).chain():t}function Aj(e){return Zl(Py(e),function(t){var r=kn[t]=e[t];kn.prototype[t]=function(){var n=[this._wrapped];return Dye.apply(n,arguments),xj(this,r.apply(kn,n))}}),kn}Zl(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=ST[e];kn.prototype[e]=function(){var r=this._wrapped;return r!=null&&(t.apply(r,arguments),(e==="shift"||e==="splice")&&r.length===0&&delete r[0]),xj(this,r)}});Zl(["concat","join","slice"],function(e){var t=ST[e];kn.prototype[e]=function(){var r=this._wrapped;return r!=null&&(r=t.apply(r,arguments)),xj(this,r)}});const a0e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Vk,after:_Y,all:t1,allKeys:fg,any:r1,assign:Jm,before:mj,bind:hj,bindAll:pY,chain:dY,chunk:JY,clone:XJ,collect:Mc,compact:UY,compose:bY,constant:Zk,contains:ul,countBy:DY,create:YJ,debounce:yY,default:kn,defaults:lj,defer:gY,delay:pj,detect:Ry,difference:$j,drop:jh,each:Zl,escape:sY,every:t1,extend:aj,extendOwn:Jm,filter:ud,find:Ry,findIndex:RT,findKey:gj,findLastIndex:vj,findWhere:xY,first:Am,flatten:zY,foldl:xm,foldr:e1,forEach:Zl,functions:Py,get:fj,groupBy:kY,has:ZJ,head:Am,identity:xT,include:ul,includes:ul,indexBy:jY,indexOf:wj,initial:Tj,inject:xm,intersection:HY,invert:oj,invoke:PY,isArguments:$T,isArray:Sd,isArrayBuffer:Yk,isBoolean:Gk,isDataView:Oy,isDate:OJ,isElement:AJ,isEmpty:LJ,isEqual:BJ,isError:RJ,isFinite:kJ,isFunction:Vo,isMap:VJ,isMatch:tj,isNaN:Qk,isNull:xJ,isNumber:Kk,isObject:Ed,isRegExp:PJ,isSet:WJ,isString:TT,isSymbol:Jk,isTypedArray:ej,isUndefined:Wk,isWeakMap:HJ,isWeakSet:GJ,iteratee:OT,keys:eo,last:BY,lastIndexOf:$Y,map:Mc,mapObject:tY,matcher:Gh,matches:Gh,max:bj,memoize:mY,methods:Py,min:NY,mixin:Aj,negate:PT,noop:dj,now:Ym,object:GY,omit:FY,once:EY,pairs:KJ,partial:ip,partition:MY,pick:Sj,pluck:NT,property:AT,propertyOf:rY,random:ZS,range:KY,reduce:xm,reduceRight:e1,reject:OY,rest:jh,restArguments:vs,result:cY,sample:Ej,select:ud,shuffle:IY,size:LY,some:r1,sortBy:CY,sortedIndex:yj,tail:jh,take:Am,tap:QJ,template:uY,templateSettings:lY,throttle:vY,times:nY,toArray:_j,toPath:uj,transpose:Iy,unescape:aY,union:VY,uniq:Ny,unique:Ny,uniqueId:fY,unzip:Iy,values:np,where:RY,without:qY,wrap:wY,zip:WY},Symbol.toStringTag,{value:"Module"}));var OI=Aj(a0e);OI._=OI;const l0e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Vk,after:_Y,all:t1,allKeys:fg,any:r1,assign:Jm,before:mj,bind:hj,bindAll:pY,chain:dY,chunk:JY,clone:XJ,collect:Mc,compact:UY,compose:bY,constant:Zk,contains:ul,countBy:DY,create:YJ,debounce:yY,default:OI,defaults:lj,defer:gY,delay:pj,detect:Ry,difference:$j,drop:jh,each:Zl,escape:sY,every:t1,extend:aj,extendOwn:Jm,filter:ud,find:Ry,findIndex:RT,findKey:gj,findLastIndex:vj,findWhere:xY,first:Am,flatten:zY,foldl:xm,foldr:e1,forEach:Zl,functions:Py,get:fj,groupBy:kY,has:ZJ,head:Am,identity:xT,include:ul,includes:ul,indexBy:jY,indexOf:wj,initial:Tj,inject:xm,intersection:HY,invert:oj,invoke:PY,isArguments:$T,isArray:Sd,isArrayBuffer:Yk,isBoolean:Gk,isDataView:Oy,isDate:OJ,isElement:AJ,isEmpty:LJ,isEqual:BJ,isError:RJ,isFinite:kJ,isFunction:Vo,isMap:VJ,isMatch:tj,isNaN:Qk,isNull:xJ,isNumber:Kk,isObject:Ed,isRegExp:PJ,isSet:WJ,isString:TT,isSymbol:Jk,isTypedArray:ej,isUndefined:Wk,isWeakMap:HJ,isWeakSet:GJ,iteratee:OT,keys:eo,last:BY,lastIndexOf:$Y,map:Mc,mapObject:tY,matcher:Gh,matches:Gh,max:bj,memoize:mY,methods:Py,min:NY,mixin:Aj,negate:PT,noop:dj,now:Ym,object:GY,omit:FY,once:EY,pairs:KJ,partial:ip,partition:MY,pick:Sj,pluck:NT,property:AT,propertyOf:rY,random:ZS,range:KY,reduce:xm,reduceRight:e1,reject:OY,rest:jh,restArguments:vs,result:cY,sample:Ej,select:ud,shuffle:IY,size:LY,some:r1,sortBy:CY,sortedIndex:yj,tail:jh,take:Am,tap:QJ,template:uY,templateSettings:lY,throttle:vY,times:nY,toArray:_j,toPath:uj,transpose:Iy,unescape:aY,union:VY,uniq:Ny,unique:Ny,uniqueId:fY,unzip:Iy,values:np,where:RY,without:qY,wrap:wY,zip:WY},Symbol.toStringTag,{value:"Module"})),u0e=EC(l0e);var YY={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(e){(function(t,r){e.exports=t.document?r(t,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:Eo,function(t,r){var n=[],i=Object.getPrototypeOf,o=n.slice,s=n.flat?function(j){return n.flat.call(j)}:function(j){return n.concat.apply([],j)},a=n.push,l=n.indexOf,u={},f=u.toString,c=u.hasOwnProperty,h=c.toString,m=h.call(Object),g={},_=function(H){return typeof H=="function"&&typeof H.nodeType!="number"&&typeof H.item!="function"},v=function(H){return H!=null&&H===H.window},p=t.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function y(j,H,oe){oe=oe||p;var fe,be,_e=oe.createElement("script");if(_e.text=j,H)for(fe in E)be=H[fe]||H.getAttribute&&H.getAttribute(fe),be&&_e.setAttribute(fe,be);oe.head.appendChild(_e).parentNode.removeChild(_e)}function S(j){return j==null?j+"":typeof j=="object"||typeof j=="function"?u[f.call(j)]||"object":typeof j}var T="3.7.1",$=/HTML$/i,d=function(j,H){return new d.fn.init(j,H)};d.fn=d.prototype={jquery:T,constructor:d,length:0,toArray:function(){return o.call(this)},get:function(j){return j==null?o.call(this):j<0?this[j+this.length]:this[j]},pushStack:function(j){var H=d.merge(this.constructor(),j);return H.prevObject=this,H},each:function(j){return d.each(this,j)},map:function(j){return this.pushStack(d.map(this,function(H,oe){return j.call(H,oe,H)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(j,H){return(H+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(j,H){return H%2}))},eq:function(j){var H=this.length,oe=+j+(j<0?H:0);return this.pushStack(oe>=0&&oe<H?[this[oe]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},d.extend=d.fn.extend=function(){var j,H,oe,fe,be,_e,Ae=arguments[0]||{},Je=1,He=arguments.length,it=!1;for(typeof Ae=="boolean"&&(it=Ae,Ae=arguments[Je]||{},Je++),typeof Ae!="object"&&!_(Ae)&&(Ae={}),Je===He&&(Ae=this,Je--);Je<He;Je++)if((j=arguments[Je])!=null)for(H in j)fe=j[H],!(H==="__proto__"||Ae===fe)&&(it&&fe&&(d.isPlainObject(fe)||(be=Array.isArray(fe)))?(oe=Ae[H],be&&!Array.isArray(oe)?_e=[]:!be&&!d.isPlainObject(oe)?_e={}:_e=oe,be=!1,Ae[H]=d.extend(it,_e,fe)):fe!==void 0&&(Ae[H]=fe));return Ae},d.extend({expando:"jQuery"+(T+Math.random()).replace(/\D/g,""),isReady:!0,error:function(j){throw new Error(j)},noop:function(){},isPlainObject:function(j){var H,oe;return!j||f.call(j)!=="[object Object]"?!1:(H=i(j),H?(oe=c.call(H,"constructor")&&H.constructor,typeof oe=="function"&&h.call(oe)===m):!0)},isEmptyObject:function(j){var H;for(H in j)return!1;return!0},globalEval:function(j,H,oe){y(j,{nonce:H&&H.nonce},oe)},each:function(j,H){var oe,fe=0;if(x(j))for(oe=j.length;fe<oe&&H.call(j[fe],fe,j[fe])!==!1;fe++);else for(fe in j)if(H.call(j[fe],fe,j[fe])===!1)break;return j},text:function(j){var H,oe="",fe=0,be=j.nodeType;if(!be)for(;H=j[fe++];)oe+=d.text(H);return be===1||be===11?j.textContent:be===9?j.documentElement.textContent:be===3||be===4?j.nodeValue:oe},makeArray:function(j,H){var oe=H||[];return j!=null&&(x(Object(j))?d.merge(oe,typeof j=="string"?[j]:j):a.call(oe,j)),oe},inArray:function(j,H,oe){return H==null?-1:l.call(H,j,oe)},isXMLDoc:function(j){var H=j&&j.namespaceURI,oe=j&&(j.ownerDocument||j).documentElement;return!$.test(H||oe&&oe.nodeName||"HTML")},merge:function(j,H){for(var oe=+H.length,fe=0,be=j.length;fe<oe;fe++)j[be++]=H[fe];return j.length=be,j},grep:function(j,H,oe){for(var fe,be=[],_e=0,Ae=j.length,Je=!oe;_e<Ae;_e++)fe=!H(j[_e],_e),fe!==Je&&be.push(j[_e]);return be},map:function(j,H,oe){var fe,be,_e=0,Ae=[];if(x(j))for(fe=j.length;_e<fe;_e++)be=H(j[_e],_e,oe),be!=null&&Ae.push(be);else for(_e in j)be=H(j[_e],_e,oe),be!=null&&Ae.push(be);return s(Ae)},guid:1,support:g}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=n[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(j,H){u["[object "+H+"]"]=H.toLowerCase()});function x(j){var H=!!j&&"length"in j&&j.length,oe=S(j);return _(j)||v(j)?!1:oe==="array"||H===0||typeof H=="number"&&H>0&&H-1 in j}function O(j,H){return j.nodeName&&j.nodeName.toLowerCase()===H.toLowerCase()}var P=n.pop,M=n.sort,U=n.splice,K="[\\x20\\t\\r\\n\\f]",ie=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g");d.contains=function(j,H){var oe=H&&H.parentNode;return j===oe||!!(oe&&oe.nodeType===1&&(j.contains?j.contains(oe):j.compareDocumentPosition&&j.compareDocumentPosition(oe)&16))};var G=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ne(j,H){return H?j==="\0"?"�":j.slice(0,-1)+"\\"+j.charCodeAt(j.length-1).toString(16)+" ":"\\"+j}d.escapeSelector=function(j){return(j+"").replace(G,ne)};var ge=p,re=a;(function(){var j,H,oe,fe,be,_e=re,Ae,Je,He,it,dt,vt=d.expando,at=0,Pt=0,zt=cu(),wr=cu(),pr=cu(),wi=cu(),Bn=function(Ue,rt){return Ue===rt&&(be=!0),0},Ts="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",$s="(?:\\\\[\\da-fA-F]{1,6}"+K+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",jr="\\["+K+"*("+$s+")(?:"+K+"*([*^$|!~]?=)"+K+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+$s+"))|)"+K+"*\\]",ka=":("+$s+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+jr+")*)|.*)\\)|)",Dr=new RegExp(K+"+","g"),xn=new RegExp("^"+K+"*,"+K+"*"),uu=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),di=new RegExp(K+"|>"),Vi=new RegExp(ka),ja=new RegExp("^"+$s+"$"),to={ID:new RegExp("^#("+$s+")"),CLASS:new RegExp("^\\.("+$s+")"),TAG:new RegExp("^("+$s+"|[*])"),ATTR:new RegExp("^"+jr),PSEUDO:new RegExp("^"+ka),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+Ts+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},ki=/^(?:input|select|textarea|button)$/i,Hi=/^h\d$/i,Un=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ra=/[+~]/,xs=new RegExp("\\\\[\\da-fA-F]{1,6}"+K+"?|\\\\([^\\r\\n\\f])","g"),ji=function(Ue,rt){var lt="0x"+Ue.slice(1)-65536;return rt||(lt<0?String.fromCharCode(lt+65536):String.fromCharCode(lt>>10|55296,lt&1023|56320))},ro=function(){Ma()},nf=ia(function(Ue){return Ue.disabled===!0&&O(Ue,"fieldset")},{dir:"parentNode",next:"legend"});function Da(){try{return Ae.activeElement}catch{}}try{_e.apply(n=o.call(ge.childNodes),ge.childNodes),n[ge.childNodes.length].nodeType}catch{_e={apply:function(rt,lt){re.apply(rt,o.call(lt))},call:function(rt){re.apply(rt,o.call(arguments,1))}}}function fn(Ue,rt,lt,W){var J,pe,ye,ze,We,et,Qe,ot=rt&&rt.ownerDocument,xt=rt?rt.nodeType:9;if(lt=lt||[],typeof Ue!="string"||!Ue||xt!==1&&xt!==9&&xt!==11)return lt;if(!W&&(Ma(rt),rt=rt||Ae,He)){if(xt!==11&&(We=Un.exec(Ue)))if(J=We[1]){if(xt===9)if(ye=rt.getElementById(J)){if(ye.id===J)return _e.call(lt,ye),lt}else return lt;else if(ot&&(ye=ot.getElementById(J))&&fn.contains(rt,ye)&&ye.id===J)return _e.call(lt,ye),lt}else{if(We[2])return _e.apply(lt,rt.getElementsByTagName(Ue)),lt;if((J=We[3])&&rt.getElementsByClassName)return _e.apply(lt,rt.getElementsByClassName(J)),lt}if(!wi[Ue+" "]&&(!it||!it.test(Ue))){if(Qe=Ue,ot=rt,xt===1&&(di.test(Ue)||uu.test(Ue))){for(ot=ra.test(Ue)&&Id(rt.parentNode)||rt,(ot!=rt||!g.scope)&&((ze=rt.getAttribute("id"))?ze=d.escapeSelector(ze):rt.setAttribute("id",ze=vt)),et=xl(Ue),pe=et.length;pe--;)et[pe]=(ze?"#"+ze:":scope")+" "+Po(et[pe]);Qe=et.join(",")}try{return _e.apply(lt,ot.querySelectorAll(Qe)),lt}catch{wi(Ue,!0)}finally{ze===vt&&rt.removeAttribute("id")}}}return Zu(Ue.replace(ie,"$1"),rt,lt,W)}function cu(){var Ue=[];function rt(lt,W){return Ue.push(lt+" ")>H.cacheLength&&delete rt[Ue.shift()],rt[lt+" "]=W}return rt}function Ao(Ue){return Ue[vt]=!0,Ue}function na(Ue){var rt=Ae.createElement("fieldset");try{return!!Ue(rt)}catch{return!1}finally{rt.parentNode&&rt.parentNode.removeChild(rt),rt=null}}function mp(Ue){return function(rt){return O(rt,"input")&&rt.type===Ue}}function gp(Ue){return function(rt){return(O(rt,"input")||O(rt,"button"))&&rt.type===Ue}}function vp(Ue){return function(rt){return"form"in rt?rt.parentNode&&rt.disabled===!1?"label"in rt?"label"in rt.parentNode?rt.parentNode.disabled===Ue:rt.disabled===Ue:rt.isDisabled===Ue||rt.isDisabled!==!Ue&&nf(rt)===Ue:rt.disabled===Ue:"label"in rt?rt.disabled===Ue:!1}}function Oo(Ue){return Ao(function(rt){return rt=+rt,Ao(function(lt,W){for(var J,pe=Ue([],lt.length,rt),ye=pe.length;ye--;)lt[J=pe[ye]]&&(lt[J]=!(W[J]=lt[J]))})})}function Id(Ue){return Ue&&typeof Ue.getElementsByTagName<"u"&&Ue}function Ma(Ue){var rt,lt=Ue?Ue.ownerDocument||Ue:ge;return lt==Ae||lt.nodeType!==9||!lt.documentElement||(Ae=lt,Je=Ae.documentElement,He=!d.isXMLDoc(Ae),dt=Je.matches||Je.webkitMatchesSelector||Je.msMatchesSelector,Je.msMatchesSelector&&ge!=Ae&&(rt=Ae.defaultView)&&rt.top!==rt&&rt.addEventListener("unload",ro),g.getById=na(function(W){return Je.appendChild(W).id=d.expando,!Ae.getElementsByName||!Ae.getElementsByName(d.expando).length}),g.disconnectedMatch=na(function(W){return dt.call(W,"*")}),g.scope=na(function(){return Ae.querySelectorAll(":scope")}),g.cssHas=na(function(){try{return Ae.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),g.getById?(H.filter.ID=function(W){var J=W.replace(xs,ji);return function(pe){return pe.getAttribute("id")===J}},H.find.ID=function(W,J){if(typeof J.getElementById<"u"&&He){var pe=J.getElementById(W);return pe?[pe]:[]}}):(H.filter.ID=function(W){var J=W.replace(xs,ji);return function(pe){var ye=typeof pe.getAttributeNode<"u"&&pe.getAttributeNode("id");return ye&&ye.value===J}},H.find.ID=function(W,J){if(typeof J.getElementById<"u"&&He){var pe,ye,ze,We=J.getElementById(W);if(We){if(pe=We.getAttributeNode("id"),pe&&pe.value===W)return[We];for(ze=J.getElementsByName(W),ye=0;We=ze[ye++];)if(pe=We.getAttributeNode("id"),pe&&pe.value===W)return[We]}return[]}}),H.find.TAG=function(W,J){return typeof J.getElementsByTagName<"u"?J.getElementsByTagName(W):J.querySelectorAll(W)},H.find.CLASS=function(W,J){if(typeof J.getElementsByClassName<"u"&&He)return J.getElementsByClassName(W)},it=[],na(function(W){var J;Je.appendChild(W).innerHTML="<a id='"+vt+"' href='' disabled='disabled'></a><select id='"+vt+"-\r\\' disabled='disabled'><option selected=''></option></select>",W.querySelectorAll("[selected]").length||it.push("\\["+K+"*(?:value|"+Ts+")"),W.querySelectorAll("[id~="+vt+"-]").length||it.push("~="),W.querySelectorAll("a#"+vt+"+*").length||it.push(".#.+[+~]"),W.querySelectorAll(":checked").length||it.push(":checked"),J=Ae.createElement("input"),J.setAttribute("type","hidden"),W.appendChild(J).setAttribute("name","D"),Je.appendChild(W).disabled=!0,W.querySelectorAll(":disabled").length!==2&&it.push(":enabled",":disabled"),J=Ae.createElement("input"),J.setAttribute("name",""),W.appendChild(J),W.querySelectorAll("[name='']").length||it.push("\\["+K+"*name"+K+"*="+K+`*(?:''|"")`)}),g.cssHas||it.push(":has"),it=it.length&&new RegExp(it.join("|")),Bn=function(W,J){if(W===J)return be=!0,0;var pe=!W.compareDocumentPosition-!J.compareDocumentPosition;return pe||(pe=(W.ownerDocument||W)==(J.ownerDocument||J)?W.compareDocumentPosition(J):1,pe&1||!g.sortDetached&&J.compareDocumentPosition(W)===pe?W===Ae||W.ownerDocument==ge&&fn.contains(ge,W)?-1:J===Ae||J.ownerDocument==ge&&fn.contains(ge,J)?1:fe?l.call(fe,W)-l.call(fe,J):0:pe&4?-1:1)}),Ae}fn.matches=function(Ue,rt){return fn(Ue,null,null,rt)},fn.matchesSelector=function(Ue,rt){if(Ma(Ue),He&&!wi[rt+" "]&&(!it||!it.test(rt)))try{var lt=dt.call(Ue,rt);if(lt||g.disconnectedMatch||Ue.document&&Ue.document.nodeType!==11)return lt}catch{wi(rt,!0)}return fn(rt,Ae,null,[Ue]).length>0},fn.contains=function(Ue,rt){return(Ue.ownerDocument||Ue)!=Ae&&Ma(Ue),d.contains(Ue,rt)},fn.attr=function(Ue,rt){(Ue.ownerDocument||Ue)!=Ae&&Ma(Ue);var lt=H.attrHandle[rt.toLowerCase()],W=lt&&c.call(H.attrHandle,rt.toLowerCase())?lt(Ue,rt,!He):void 0;return W!==void 0?W:Ue.getAttribute(rt)},fn.error=function(Ue){throw new Error("Syntax error, unrecognized expression: "+Ue)},d.uniqueSort=function(Ue){var rt,lt=[],W=0,J=0;if(be=!g.sortStable,fe=!g.sortStable&&o.call(Ue,0),M.call(Ue,Bn),be){for(;rt=Ue[J++];)rt===Ue[J]&&(W=lt.push(J));for(;W--;)U.call(Ue,lt[W],1)}return fe=null,Ue},d.fn.uniqueSort=function(){return this.pushStack(d.uniqueSort(o.apply(this)))},H=d.expr={cacheLength:50,createPseudo:Ao,match:to,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ue){return Ue[1]=Ue[1].replace(xs,ji),Ue[3]=(Ue[3]||Ue[4]||Ue[5]||"").replace(xs,ji),Ue[2]==="~="&&(Ue[3]=" "+Ue[3]+" "),Ue.slice(0,4)},CHILD:function(Ue){return Ue[1]=Ue[1].toLowerCase(),Ue[1].slice(0,3)==="nth"?(Ue[3]||fn.error(Ue[0]),Ue[4]=+(Ue[4]?Ue[5]+(Ue[6]||1):2*(Ue[3]==="even"||Ue[3]==="odd")),Ue[5]=+(Ue[7]+Ue[8]||Ue[3]==="odd")):Ue[3]&&fn.error(Ue[0]),Ue},PSEUDO:function(Ue){var rt,lt=!Ue[6]&&Ue[2];return to.CHILD.test(Ue[0])?null:(Ue[3]?Ue[2]=Ue[4]||Ue[5]||"":lt&&Vi.test(lt)&&(rt=xl(lt,!0))&&(rt=lt.indexOf(")",lt.length-rt)-lt.length)&&(Ue[0]=Ue[0].slice(0,rt),Ue[2]=lt.slice(0,rt)),Ue.slice(0,3))}},filter:{TAG:function(Ue){var rt=Ue.replace(xs,ji).toLowerCase();return Ue==="*"?function(){return!0}:function(lt){return O(lt,rt)}},CLASS:function(Ue){var rt=zt[Ue+" "];return rt||(rt=new RegExp("(^|"+K+")"+Ue+"("+K+"|$)"))&&zt(Ue,function(lt){return rt.test(typeof lt.className=="string"&&lt.className||typeof lt.getAttribute<"u"&&lt.getAttribute("class")||"")})},ATTR:function(Ue,rt,lt){return function(W){var J=fn.attr(W,Ue);return J==null?rt==="!=":rt?(J+="",rt==="="?J===lt:rt==="!="?J!==lt:rt==="^="?lt&&J.indexOf(lt)===0:rt==="*="?lt&&J.indexOf(lt)>-1:rt==="$="?lt&&J.slice(-lt.length)===lt:rt==="~="?(" "+J.replace(Dr," ")+" ").indexOf(lt)>-1:rt==="|="?J===lt||J.slice(0,lt.length+1)===lt+"-":!1):!0}},CHILD:function(Ue,rt,lt,W,J){var pe=Ue.slice(0,3)!=="nth",ye=Ue.slice(-4)!=="last",ze=rt==="of-type";return W===1&&J===0?function(We){return!!We.parentNode}:function(We,et,Qe){var ot,xt,At,Ht,It,nr=pe!==ye?"nextSibling":"previousSibling",Or=We.parentNode,Fr=ze&&We.nodeName.toLowerCase(),Kn=!Qe&&!ze,sr=!1;if(Or){if(pe){for(;nr;){for(At=We;At=At[nr];)if(ze?O(At,Fr):At.nodeType===1)return!1;It=nr=Ue==="only"&&!It&&"nextSibling"}return!0}if(It=[ye?Or.firstChild:Or.lastChild],ye&&Kn){for(xt=Or[vt]||(Or[vt]={}),ot=xt[Ue]||[],Ht=ot[0]===at&&ot[1],sr=Ht&&ot[2],At=Ht&&Or.childNodes[Ht];At=++Ht&&At&&At[nr]||(sr=Ht=0)||It.pop();)if(At.nodeType===1&&++sr&&At===We){xt[Ue]=[at,Ht,sr];break}}else if(Kn&&(xt=We[vt]||(We[vt]={}),ot=xt[Ue]||[],Ht=ot[0]===at&&ot[1],sr=Ht),sr===!1)for(;(At=++Ht&&At&&At[nr]||(sr=Ht=0)||It.pop())&&!((ze?O(At,Fr):At.nodeType===1)&&++sr&&(Kn&&(xt=At[vt]||(At[vt]={}),xt[Ue]=[at,sr]),At===We)););return sr-=J,sr===W||sr%W===0&&sr/W>=0}}},PSEUDO:function(Ue,rt){var lt,W=H.pseudos[Ue]||H.setFilters[Ue.toLowerCase()]||fn.error("unsupported pseudo: "+Ue);return W[vt]?W(rt):W.length>1?(lt=[Ue,Ue,"",rt],H.setFilters.hasOwnProperty(Ue.toLowerCase())?Ao(function(J,pe){for(var ye,ze=W(J,rt),We=ze.length;We--;)ye=l.call(J,ze[We]),J[ye]=!(pe[ye]=ze[We])}):function(J){return W(J,0,lt)}):W}},pseudos:{not:Ao(function(Ue){var rt=[],lt=[],W=sf(Ue.replace(ie,"$1"));return W[vt]?Ao(function(J,pe,ye,ze){for(var We,et=W(J,null,ze,[]),Qe=J.length;Qe--;)(We=et[Qe])&&(J[Qe]=!(pe[Qe]=We))}):function(J,pe,ye){return rt[0]=J,W(rt,null,ye,lt),rt[0]=null,!lt.pop()}}),has:Ao(function(Ue){return function(rt){return fn(Ue,rt).length>0}}),contains:Ao(function(Ue){return Ue=Ue.replace(xs,ji),function(rt){return(rt.textContent||d.text(rt)).indexOf(Ue)>-1}}),lang:Ao(function(Ue){return ja.test(Ue||"")||fn.error("unsupported lang: "+Ue),Ue=Ue.replace(xs,ji).toLowerCase(),function(rt){var lt;do if(lt=He?rt.lang:rt.getAttribute("xml:lang")||rt.getAttribute("lang"))return lt=lt.toLowerCase(),lt===Ue||lt.indexOf(Ue+"-")===0;while((rt=rt.parentNode)&&rt.nodeType===1);return!1}}),target:function(Ue){var rt=t.location&&t.location.hash;return rt&&rt.slice(1)===Ue.id},root:function(Ue){return Ue===Je},focus:function(Ue){return Ue===Da()&&Ae.hasFocus()&&!!(Ue.type||Ue.href||~Ue.tabIndex)},enabled:vp(!1),disabled:vp(!0),checked:function(Ue){return O(Ue,"input")&&!!Ue.checked||O(Ue,"option")&&!!Ue.selected},selected:function(Ue){return Ue.parentNode&&Ue.parentNode.selectedIndex,Ue.selected===!0},empty:function(Ue){for(Ue=Ue.firstChild;Ue;Ue=Ue.nextSibling)if(Ue.nodeType<6)return!1;return!0},parent:function(Ue){return!H.pseudos.empty(Ue)},header:function(Ue){return Hi.test(Ue.nodeName)},input:function(Ue){return ki.test(Ue.nodeName)},button:function(Ue){return O(Ue,"input")&&Ue.type==="button"||O(Ue,"button")},text:function(Ue){var rt;return O(Ue,"input")&&Ue.type==="text"&&((rt=Ue.getAttribute("type"))==null||rt.toLowerCase()==="text")},first:Oo(function(){return[0]}),last:Oo(function(Ue,rt){return[rt-1]}),eq:Oo(function(Ue,rt,lt){return[lt<0?lt+rt:lt]}),even:Oo(function(Ue,rt){for(var lt=0;lt<rt;lt+=2)Ue.push(lt);return Ue}),odd:Oo(function(Ue,rt){for(var lt=1;lt<rt;lt+=2)Ue.push(lt);return Ue}),lt:Oo(function(Ue,rt,lt){var W;for(lt<0?W=lt+rt:lt>rt?W=rt:W=lt;--W>=0;)Ue.push(W);return Ue}),gt:Oo(function(Ue,rt,lt){for(var W=lt<0?lt+rt:lt;++W<rt;)Ue.push(W);return Ue})}},H.pseudos.nth=H.pseudos.eq;for(j in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})H.pseudos[j]=mp(j);for(j in{submit:!0,reset:!0})H.pseudos[j]=gp(j);function $l(){}$l.prototype=H.filters=H.pseudos,H.setFilters=new $l;function xl(Ue,rt){var lt,W,J,pe,ye,ze,We,et=wr[Ue+" "];if(et)return rt?0:et.slice(0);for(ye=Ue,ze=[],We=H.preFilter;ye;){(!lt||(W=xn.exec(ye)))&&(W&&(ye=ye.slice(W[0].length)||ye),ze.push(J=[])),lt=!1,(W=uu.exec(ye))&&(lt=W.shift(),J.push({value:lt,type:W[0].replace(ie," ")}),ye=ye.slice(lt.length));for(pe in H.filter)(W=to[pe].exec(ye))&&(!We[pe]||(W=We[pe](W)))&&(lt=W.shift(),J.push({value:lt,type:pe,matches:W}),ye=ye.slice(lt.length));if(!lt)break}return rt?ye.length:ye?fn.error(Ue):wr(Ue,ze).slice(0)}function Po(Ue){for(var rt=0,lt=Ue.length,W="";rt<lt;rt++)W+=Ue[rt].value;return W}function ia(Ue,rt,lt){var W=rt.dir,J=rt.next,pe=J||W,ye=lt&&pe==="parentNode",ze=Pt++;return rt.first?function(We,et,Qe){for(;We=We[W];)if(We.nodeType===1||ye)return Ue(We,et,Qe);return!1}:function(We,et,Qe){var ot,xt,At=[at,ze];if(Qe){for(;We=We[W];)if((We.nodeType===1||ye)&&Ue(We,et,Qe))return!0}else for(;We=We[W];)if(We.nodeType===1||ye)if(xt=We[vt]||(We[vt]={}),J&&O(We,J))We=We[W]||We;else{if((ot=xt[pe])&&ot[0]===at&&ot[1]===ze)return At[2]=ot[2];if(xt[pe]=At,At[2]=Ue(We,et,Qe))return!0}return!1}}function Qu(Ue){return Ue.length>1?function(rt,lt,W){for(var J=Ue.length;J--;)if(!Ue[J](rt,lt,W))return!1;return!0}:Ue[0]}function of(Ue,rt,lt){for(var W=0,J=rt.length;W<J;W++)fn(Ue,rt[W],lt);return lt}function Yo(Ue,rt,lt,W,J){for(var pe,ye=[],ze=0,We=Ue.length,et=rt!=null;ze<We;ze++)(pe=Ue[ze])&&(!lt||lt(pe,W,J))&&(ye.push(pe),et&&rt.push(ze));return ye}function Xo(Ue,rt,lt,W,J,pe){return W&&!W[vt]&&(W=Xo(W)),J&&!J[vt]&&(J=Xo(J,pe)),Ao(function(ye,ze,We,et){var Qe,ot,xt,At,Ht=[],It=[],nr=ze.length,Or=ye||of(rt||"*",We.nodeType?[We]:We,[]),Fr=Ue&&(ye||!rt)?Yo(Or,Ht,Ue,We,et):Or;if(lt?(At=J||(ye?Ue:nr||W)?[]:ze,lt(Fr,At,We,et)):At=Fr,W)for(Qe=Yo(At,It),W(Qe,[],We,et),ot=Qe.length;ot--;)(xt=Qe[ot])&&(At[It[ot]]=!(Fr[It[ot]]=xt));if(ye){if(J||Ue){if(J){for(Qe=[],ot=At.length;ot--;)(xt=At[ot])&&Qe.push(Fr[ot]=xt);J(null,At=[],Qe,et)}for(ot=At.length;ot--;)(xt=At[ot])&&(Qe=J?l.call(ye,xt):Ht[ot])>-1&&(ye[Qe]=!(ze[Qe]=xt))}}else At=Yo(At===ze?At.splice(nr,At.length):At),J?J(null,ze,At,et):_e.apply(ze,At)})}function Di(Ue){for(var rt,lt,W,J=Ue.length,pe=H.relative[Ue[0].type],ye=pe||H.relative[" "],ze=pe?1:0,We=ia(function(ot){return ot===rt},ye,!0),et=ia(function(ot){return l.call(rt,ot)>-1},ye,!0),Qe=[function(ot,xt,At){var Ht=!pe&&(At||xt!=oe)||((rt=xt).nodeType?We(ot,xt,At):et(ot,xt,At));return rt=null,Ht}];ze<J;ze++)if(lt=H.relative[Ue[ze].type])Qe=[ia(Qu(Qe),lt)];else{if(lt=H.filter[Ue[ze].type].apply(null,Ue[ze].matches),lt[vt]){for(W=++ze;W<J&&!H.relative[Ue[W].type];W++);return Xo(ze>1&&Qu(Qe),ze>1&&Po(Ue.slice(0,ze-1).concat({value:Ue[ze-2].type===" "?"*":""})).replace(ie,"$1"),lt,ze<W&&Di(Ue.slice(ze,W)),W<J&&Di(Ue=Ue.slice(W)),W<J&&Po(Ue))}Qe.push(lt)}return Qu(Qe)}function Cd(Ue,rt){var lt=rt.length>0,W=Ue.length>0,J=function(pe,ye,ze,We,et){var Qe,ot,xt,At=0,Ht="0",It=pe&&[],nr=[],Or=oe,Fr=pe||W&&H.find.TAG("*",et),Kn=at+=Or==null?1:Math.random()||.1,sr=Fr.length;for(et&&(oe=ye==Ae||ye||et);Ht!==sr&&(Qe=Fr[Ht])!=null;Ht++){if(W&&Qe){for(ot=0,!ye&&Qe.ownerDocument!=Ae&&(Ma(Qe),ze=!He);xt=Ue[ot++];)if(xt(Qe,ye||Ae,ze)){_e.call(We,Qe);break}et&&(at=Kn)}lt&&((Qe=!xt&&Qe)&&At--,pe&&It.push(Qe))}if(At+=Ht,lt&&Ht!==At){for(ot=0;xt=rt[ot++];)xt(It,nr,ye,ze);if(pe){if(At>0)for(;Ht--;)It[Ht]||nr[Ht]||(nr[Ht]=P.call(We));nr=Yo(nr)}_e.apply(We,nr),et&&!pe&&nr.length>0&&At+rt.length>1&&d.uniqueSort(We)}return et&&(at=Kn,oe=Or),It};return lt?Ao(J):J}function sf(Ue,rt){var lt,W=[],J=[],pe=pr[Ue+" "];if(!pe){for(rt||(rt=xl(Ue)),lt=rt.length;lt--;)pe=Di(rt[lt]),pe[vt]?W.push(pe):J.push(pe);pe=pr(Ue,Cd(J,W)),pe.selector=Ue}return pe}function Zu(Ue,rt,lt,W){var J,pe,ye,ze,We,et=typeof Ue=="function"&&Ue,Qe=!W&&xl(Ue=et.selector||Ue);if(lt=lt||[],Qe.length===1){if(pe=Qe[0]=Qe[0].slice(0),pe.length>2&&(ye=pe[0]).type==="ID"&&rt.nodeType===9&&He&&H.relative[pe[1].type]){if(rt=(H.find.ID(ye.matches[0].replace(xs,ji),rt)||[])[0],rt)et&&(rt=rt.parentNode);else return lt;Ue=Ue.slice(pe.shift().value.length)}for(J=to.needsContext.test(Ue)?0:pe.length;J--&&(ye=pe[J],!H.relative[ze=ye.type]);)if((We=H.find[ze])&&(W=We(ye.matches[0].replace(xs,ji),ra.test(pe[0].type)&&Id(rt.parentNode)||rt))){if(pe.splice(J,1),Ue=W.length&&Po(pe),!Ue)return _e.apply(lt,W),lt;break}}return(et||sf(Ue,Qe))(W,rt,!He,lt,!rt||ra.test(Ue)&&Id(rt.parentNode)||rt),lt}g.sortStable=vt.split("").sort(Bn).join("")===vt,Ma(),g.sortDetached=na(function(Ue){return Ue.compareDocumentPosition(Ae.createElement("fieldset"))&1}),d.find=fn,d.expr[":"]=d.expr.pseudos,d.unique=d.uniqueSort,fn.compile=sf,fn.select=Zu,fn.setDocument=Ma,fn.tokenize=xl,fn.escape=d.escapeSelector,fn.getText=d.text,fn.isXML=d.isXMLDoc,fn.selectors=d.expr,fn.support=d.support,fn.uniqueSort=d.uniqueSort})();var se=function(j,H,oe){for(var fe=[],be=oe!==void 0;(j=j[H])&&j.nodeType!==9;)if(j.nodeType===1){if(be&&d(j).is(oe))break;fe.push(j)}return fe},D=function(j,H){for(var oe=[];j;j=j.nextSibling)j.nodeType===1&&j!==H&&oe.push(j);return oe},z=d.expr.match.needsContext,Y=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function N(j,H,oe){return _(H)?d.grep(j,function(fe,be){return!!H.call(fe,be,fe)!==oe}):H.nodeType?d.grep(j,function(fe){return fe===H!==oe}):typeof H!="string"?d.grep(j,function(fe){return l.call(H,fe)>-1!==oe}):d.filter(H,j,oe)}d.filter=function(j,H,oe){var fe=H[0];return oe&&(j=":not("+j+")"),H.length===1&&fe.nodeType===1?d.find.matchesSelector(fe,j)?[fe]:[]:d.find.matches(j,d.grep(H,function(be){return be.nodeType===1}))},d.fn.extend({find:function(j){var H,oe,fe=this.length,be=this;if(typeof j!="string")return this.pushStack(d(j).filter(function(){for(H=0;H<fe;H++)if(d.contains(be[H],this))return!0}));for(oe=this.pushStack([]),H=0;H<fe;H++)d.find(j,be[H],oe);return fe>1?d.uniqueSort(oe):oe},filter:function(j){return this.pushStack(N(this,j||[],!1))},not:function(j){return this.pushStack(N(this,j||[],!0))},is:function(j){return!!N(this,typeof j=="string"&&z.test(j)?d(j):j||[],!1).length}});var I,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ae=d.fn.init=function(j,H,oe){var fe,be;if(!j)return this;if(oe=oe||I,typeof j=="string")if(j[0]==="<"&&j[j.length-1]===">"&&j.length>=3?fe=[null,j,null]:fe=q.exec(j),fe&&(fe[1]||!H))if(fe[1]){if(H=H instanceof d?H[0]:H,d.merge(this,d.parseHTML(fe[1],H&&H.nodeType?H.ownerDocument||H:p,!0)),Y.test(fe[1])&&d.isPlainObject(H))for(fe in H)_(this[fe])?this[fe](H[fe]):this.attr(fe,H[fe]);return this}else return be=p.getElementById(fe[2]),be&&(this[0]=be,this.length=1),this;else return!H||H.jquery?(H||oe).find(j):this.constructor(H).find(j);else{if(j.nodeType)return this[0]=j,this.length=1,this;if(_(j))return oe.ready!==void 0?oe.ready(j):j(d)}return d.makeArray(j,this)};ae.prototype=d.fn,I=d(p);var Z=/^(?:parents|prev(?:Until|All))/,te={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(j){var H=d(j,this),oe=H.length;return this.filter(function(){for(var fe=0;fe<oe;fe++)if(d.contains(this,H[fe]))return!0})},closest:function(j,H){var oe,fe=0,be=this.length,_e=[],Ae=typeof j!="string"&&d(j);if(!z.test(j)){for(;fe<be;fe++)for(oe=this[fe];oe&&oe!==H;oe=oe.parentNode)if(oe.nodeType<11&&(Ae?Ae.index(oe)>-1:oe.nodeType===1&&d.find.matchesSelector(oe,j))){_e.push(oe);break}}return this.pushStack(_e.length>1?d.uniqueSort(_e):_e)},index:function(j){return j?typeof j=="string"?l.call(d(j),this[0]):l.call(this,j.jquery?j[0]:j):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(j,H){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(j,H))))},addBack:function(j){return this.add(j==null?this.prevObject:this.prevObject.filter(j))}});function ue(j,H){for(;(j=j[H])&&j.nodeType!==1;);return j}d.each({parent:function(j){var H=j.parentNode;return H&&H.nodeType!==11?H:null},parents:function(j){return se(j,"parentNode")},parentsUntil:function(j,H,oe){return se(j,"parentNode",oe)},next:function(j){return ue(j,"nextSibling")},prev:function(j){return ue(j,"previousSibling")},nextAll:function(j){return se(j,"nextSibling")},prevAll:function(j){return se(j,"previousSibling")},nextUntil:function(j,H,oe){return se(j,"nextSibling",oe)},prevUntil:function(j,H,oe){return se(j,"previousSibling",oe)},siblings:function(j){return D((j.parentNode||{}).firstChild,j)},children:function(j){return D(j.firstChild)},contents:function(j){return j.contentDocument!=null&&i(j.contentDocument)?j.contentDocument:(O(j,"template")&&(j=j.content||j),d.merge([],j.childNodes))}},function(j,H){d.fn[j]=function(oe,fe){var be=d.map(this,H,oe);return j.slice(-5)!=="Until"&&(fe=oe),fe&&typeof fe=="string"&&(be=d.filter(fe,be)),this.length>1&&(te[j]||d.uniqueSort(be),Z.test(j)&&be.reverse()),this.pushStack(be)}});var xe=/[^\x20\t\r\n\f]+/g;function Le(j){var H={};return d.each(j.match(xe)||[],function(oe,fe){H[fe]=!0}),H}d.Callbacks=function(j){j=typeof j=="string"?Le(j):d.extend({},j);var H,oe,fe,be,_e=[],Ae=[],Je=-1,He=function(){for(be=be||j.once,fe=H=!0;Ae.length;Je=-1)for(oe=Ae.shift();++Je<_e.length;)_e[Je].apply(oe[0],oe[1])===!1&&j.stopOnFalse&&(Je=_e.length,oe=!1);j.memory||(oe=!1),H=!1,be&&(oe?_e=[]:_e="")},it={add:function(){return _e&&(oe&&!H&&(Je=_e.length-1,Ae.push(oe)),function dt(vt){d.each(vt,function(at,Pt){_(Pt)?(!j.unique||!it.has(Pt))&&_e.push(Pt):Pt&&Pt.length&&S(Pt)!=="string"&&dt(Pt)})}(arguments),oe&&!H&&He()),this},remove:function(){return d.each(arguments,function(dt,vt){for(var at;(at=d.inArray(vt,_e,at))>-1;)_e.splice(at,1),at<=Je&&Je--}),this},has:function(dt){return dt?d.inArray(dt,_e)>-1:_e.length>0},empty:function(){return _e&&(_e=[]),this},disable:function(){return be=Ae=[],_e=oe="",this},disabled:function(){return!_e},lock:function(){return be=Ae=[],!oe&&!H&&(_e=oe=""),this},locked:function(){return!!be},fireWith:function(dt,vt){return be||(vt=vt||[],vt=[dt,vt.slice?vt.slice():vt],Ae.push(vt),H||He()),this},fire:function(){return it.fireWith(this,arguments),this},fired:function(){return!!fe}};return it};function C(j){return j}function F(j){throw j}function L(j,H,oe,fe){var be;try{j&&_(be=j.promise)?be.call(j).done(H).fail(oe):j&&_(be=j.then)?be.call(j,H,oe):H.apply(void 0,[j].slice(fe))}catch(_e){oe.apply(void 0,[_e])}}d.extend({Deferred:function(j){var H=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],oe="pending",fe={state:function(){return oe},always:function(){return be.done(arguments).fail(arguments),this},catch:function(_e){return fe.then(null,_e)},pipe:function(){var _e=arguments;return d.Deferred(function(Ae){d.each(H,function(Je,He){var it=_(_e[He[4]])&&_e[He[4]];be[He[1]](function(){var dt=it&&it.apply(this,arguments);dt&&_(dt.promise)?dt.promise().progress(Ae.notify).done(Ae.resolve).fail(Ae.reject):Ae[He[0]+"With"](this,it?[dt]:arguments)})}),_e=null}).promise()},then:function(_e,Ae,Je){var He=0;function it(dt,vt,at,Pt){return function(){var zt=this,wr=arguments,pr=function(){var Bn,Ts;if(!(dt<He)){if(Bn=at.apply(zt,wr),Bn===vt.promise())throw new TypeError("Thenable self-resolution");Ts=Bn&&(typeof Bn=="object"||typeof Bn=="function")&&Bn.then,_(Ts)?Pt?Ts.call(Bn,it(He,vt,C,Pt),it(He,vt,F,Pt)):(He++,Ts.call(Bn,it(He,vt,C,Pt),it(He,vt,F,Pt),it(He,vt,C,vt.notifyWith))):(at!==C&&(zt=void 0,wr=[Bn]),(Pt||vt.resolveWith)(zt,wr))}},wi=Pt?pr:function(){try{pr()}catch(Bn){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(Bn,wi.error),dt+1>=He&&(at!==F&&(zt=void 0,wr=[Bn]),vt.rejectWith(zt,wr))}};dt?wi():(d.Deferred.getErrorHook?wi.error=d.Deferred.getErrorHook():d.Deferred.getStackHook&&(wi.error=d.Deferred.getStackHook()),t.setTimeout(wi))}}return d.Deferred(function(dt){H[0][3].add(it(0,dt,_(Je)?Je:C,dt.notifyWith)),H[1][3].add(it(0,dt,_(_e)?_e:C)),H[2][3].add(it(0,dt,_(Ae)?Ae:F))}).promise()},promise:function(_e){return _e!=null?d.extend(_e,fe):fe}},be={};return d.each(H,function(_e,Ae){var Je=Ae[2],He=Ae[5];fe[Ae[1]]=Je.add,He&&Je.add(function(){oe=He},H[3-_e][2].disable,H[3-_e][3].disable,H[0][2].lock,H[0][3].lock),Je.add(Ae[3].fire),be[Ae[0]]=function(){return be[Ae[0]+"With"](this===be?void 0:this,arguments),this},be[Ae[0]+"With"]=Je.fireWith}),fe.promise(be),j&&j.call(be,be),be},when:function(j){var H=arguments.length,oe=H,fe=Array(oe),be=o.call(arguments),_e=d.Deferred(),Ae=function(Je){return function(He){fe[Je]=this,be[Je]=arguments.length>1?o.call(arguments):He,--H||_e.resolveWith(fe,be)}};if(H<=1&&(L(j,_e.done(Ae(oe)).resolve,_e.reject,!H),_e.state()==="pending"||_(be[oe]&&be[oe].then)))return _e.then();for(;oe--;)L(be[oe],Ae(oe),_e.reject);return _e.promise()}});var ee=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(j,H){t.console&&t.console.warn&&j&&ee.test(j.name)&&t.console.warn("jQuery.Deferred exception: "+j.message,j.stack,H)},d.readyException=function(j){t.setTimeout(function(){throw j})};var ce=d.Deferred();d.fn.ready=function(j){return ce.then(j).catch(function(H){d.readyException(H)}),this},d.extend({isReady:!1,readyWait:1,ready:function(j){(j===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(j!==!0&&--d.readyWait>0)&&ce.resolveWith(p,[d]))}}),d.ready.then=ce.then;function me(){p.removeEventListener("DOMContentLoaded",me),t.removeEventListener("load",me),d.ready()}p.readyState==="complete"||p.readyState!=="loading"&&!p.documentElement.doScroll?t.setTimeout(d.ready):(p.addEventListener("DOMContentLoaded",me),t.addEventListener("load",me));var ve=function(j,H,oe,fe,be,_e,Ae){var Je=0,He=j.length,it=oe==null;if(S(oe)==="object"){be=!0;for(Je in oe)ve(j,H,Je,oe[Je],!0,_e,Ae)}else if(fe!==void 0&&(be=!0,_(fe)||(Ae=!0),it&&(Ae?(H.call(j,fe),H=null):(it=H,H=function(dt,vt,at){return it.call(d(dt),at)})),H))for(;Je<He;Je++)H(j[Je],oe,Ae?fe:fe.call(j[Je],Je,H(j[Je],oe)));return be?j:it?H.call(j):He?H(j[0],oe):_e},Te=/^-ms-/,De=/-([a-z])/g;function Ge(j,H){return H.toUpperCase()}function Ve(j){return j.replace(Te,"ms-").replace(De,Ge)}var ht=function(j){return j.nodeType===1||j.nodeType===9||!+j.nodeType};function tt(){this.expando=d.expando+tt.uid++}tt.uid=1,tt.prototype={cache:function(j){var H=j[this.expando];return H||(H={},ht(j)&&(j.nodeType?j[this.expando]=H:Object.defineProperty(j,this.expando,{value:H,configurable:!0}))),H},set:function(j,H,oe){var fe,be=this.cache(j);if(typeof H=="string")be[Ve(H)]=oe;else for(fe in H)be[Ve(fe)]=H[fe];return be},get:function(j,H){return H===void 0?this.cache(j):j[this.expando]&&j[this.expando][Ve(H)]},access:function(j,H,oe){return H===void 0||H&&typeof H=="string"&&oe===void 0?this.get(j,H):(this.set(j,H,oe),oe!==void 0?oe:H)},remove:function(j,H){var oe,fe=j[this.expando];if(fe!==void 0){if(H!==void 0)for(Array.isArray(H)?H=H.map(Ve):(H=Ve(H),H=H in fe?[H]:H.match(xe)||[]),oe=H.length;oe--;)delete fe[H[oe]];(H===void 0||d.isEmptyObject(fe))&&(j.nodeType?j[this.expando]=void 0:delete j[this.expando])}},hasData:function(j){var H=j[this.expando];return H!==void 0&&!d.isEmptyObject(H)}};var Xe=new tt,Q=new tt,k=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,B=/[A-Z]/g;function le(j){return j==="true"?!0:j==="false"?!1:j==="null"?null:j===+j+""?+j:k.test(j)?JSON.parse(j):j}function Ee(j,H,oe){var fe;if(oe===void 0&&j.nodeType===1)if(fe="data-"+H.replace(B,"-$&").toLowerCase(),oe=j.getAttribute(fe),typeof oe=="string"){try{oe=le(oe)}catch{}Q.set(j,H,oe)}else oe=void 0;return oe}d.extend({hasData:function(j){return Q.hasData(j)||Xe.hasData(j)},data:function(j,H,oe){return Q.access(j,H,oe)},removeData:function(j,H){Q.remove(j,H)},_data:function(j,H,oe){return Xe.access(j,H,oe)},_removeData:function(j,H){Xe.remove(j,H)}}),d.fn.extend({data:function(j,H){var oe,fe,be,_e=this[0],Ae=_e&&_e.attributes;if(j===void 0){if(this.length&&(be=Q.get(_e),_e.nodeType===1&&!Xe.get(_e,"hasDataAttrs"))){for(oe=Ae.length;oe--;)Ae[oe]&&(fe=Ae[oe].name,fe.indexOf("data-")===0&&(fe=Ve(fe.slice(5)),Ee(_e,fe,be[fe])));Xe.set(_e,"hasDataAttrs",!0)}return be}return typeof j=="object"?this.each(function(){Q.set(this,j)}):ve(this,function(Je){var He;if(_e&&Je===void 0)return He=Q.get(_e,j),He!==void 0||(He=Ee(_e,j),He!==void 0)?He:void 0;this.each(function(){Q.set(this,j,Je)})},null,H,arguments.length>1,null,!0)},removeData:function(j){return this.each(function(){Q.remove(this,j)})}}),d.extend({queue:function(j,H,oe){var fe;if(j)return H=(H||"fx")+"queue",fe=Xe.get(j,H),oe&&(!fe||Array.isArray(oe)?fe=Xe.access(j,H,d.makeArray(oe)):fe.push(oe)),fe||[]},dequeue:function(j,H){H=H||"fx";var oe=d.queue(j,H),fe=oe.length,be=oe.shift(),_e=d._queueHooks(j,H),Ae=function(){d.dequeue(j,H)};be==="inprogress"&&(be=oe.shift(),fe--),be&&(H==="fx"&&oe.unshift("inprogress"),delete _e.stop,be.call(j,Ae,_e)),!fe&&_e&&_e.empty.fire()},_queueHooks:function(j,H){var oe=H+"queueHooks";return Xe.get(j,oe)||Xe.access(j,oe,{empty:d.Callbacks("once memory").add(function(){Xe.remove(j,[H+"queue",oe])})})}}),d.fn.extend({queue:function(j,H){var oe=2;return typeof j!="string"&&(H=j,j="fx",oe--),arguments.length<oe?d.queue(this[0],j):H===void 0?this:this.each(function(){var fe=d.queue(this,j,H);d._queueHooks(this,j),j==="fx"&&fe[0]!=="inprogress"&&d.dequeue(this,j)})},dequeue:function(j){return this.each(function(){d.dequeue(this,j)})},clearQueue:function(j){return this.queue(j||"fx",[])},promise:function(j,H){var oe,fe=1,be=d.Deferred(),_e=this,Ae=this.length,Je=function(){--fe||be.resolveWith(_e,[_e])};for(typeof j!="string"&&(H=j,j=void 0),j=j||"fx";Ae--;)oe=Xe.get(_e[Ae],j+"queueHooks"),oe&&oe.empty&&(fe++,oe.empty.add(Je));return Je(),be.promise(H)}});var Pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qe=new RegExp("^(?:([+-])=|)("+Pe+")([a-z%]*)$","i"),Be=["Top","Right","Bottom","Left"],Ye=p.documentElement,gt=function(j){return d.contains(j.ownerDocument,j)},Ot={composed:!0};Ye.getRootNode&&(gt=function(j){return d.contains(j.ownerDocument,j)||j.getRootNode(Ot)===j.ownerDocument});var yt=function(j,H){return j=H||j,j.style.display==="none"||j.style.display===""&&gt(j)&&d.css(j,"display")==="none"};function Xt(j,H,oe,fe){var be,_e,Ae=20,Je=fe?function(){return fe.cur()}:function(){return d.css(j,H,"")},He=Je(),it=oe&&oe[3]||(d.cssNumber[H]?"":"px"),dt=j.nodeType&&(d.cssNumber[H]||it!=="px"&&+He)&&qe.exec(d.css(j,H));if(dt&&dt[3]!==it){for(He=He/2,it=it||dt[3],dt=+He||1;Ae--;)d.style(j,H,dt+it),(1-_e)*(1-(_e=Je()/He||.5))<=0&&(Ae=0),dt=dt/_e;dt=dt*2,d.style(j,H,dt+it),oe=oe||[]}return oe&&(dt=+dt||+He||0,be=oe[1]?dt+(oe[1]+1)*oe[2]:+oe[2],fe&&(fe.unit=it,fe.start=dt,fe.end=be)),be}var Xr={};function tn(j){var H,oe=j.ownerDocument,fe=j.nodeName,be=Xr[fe];return be||(H=oe.body.appendChild(oe.createElement(fe)),be=d.css(H,"display"),H.parentNode.removeChild(H),be==="none"&&(be="block"),Xr[fe]=be,be)}function Tr(j,H){for(var oe,fe,be=[],_e=0,Ae=j.length;_e<Ae;_e++)fe=j[_e],fe.style&&(oe=fe.style.display,H?(oe==="none"&&(be[_e]=Xe.get(fe,"display")||null,be[_e]||(fe.style.display="")),fe.style.display===""&&yt(fe)&&(be[_e]=tn(fe))):oe!=="none"&&(be[_e]="none",Xe.set(fe,"display",oe)));for(_e=0;_e<Ae;_e++)be[_e]!=null&&(j[_e].style.display=be[_e]);return j}d.fn.extend({show:function(){return Tr(this,!0)},hide:function(){return Tr(this)},toggle:function(j){return typeof j=="boolean"?j?this.show():this.hide():this.each(function(){yt(this)?d(this).show():d(this).hide()})}});var Rr=/^(?:checkbox|radio)$/i,jn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,_r=/^$|^module$|\/(?:java|ecma)script/i;(function(){var j=p.createDocumentFragment(),H=j.appendChild(p.createElement("div")),oe=p.createElement("input");oe.setAttribute("type","radio"),oe.setAttribute("checked","checked"),oe.setAttribute("name","t"),H.appendChild(oe),g.checkClone=H.cloneNode(!0).cloneNode(!0).lastChild.checked,H.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!H.cloneNode(!0).lastChild.defaultValue,H.innerHTML="<option></option>",g.option=!!H.lastChild})();var Qt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,Qt.th=Qt.td,g.option||(Qt.optgroup=Qt.option=[1,"<select multiple='multiple'>","</select>"]);function hr(j,H){var oe;return typeof j.getElementsByTagName<"u"?oe=j.getElementsByTagName(H||"*"):typeof j.querySelectorAll<"u"?oe=j.querySelectorAll(H||"*"):oe=[],H===void 0||H&&O(j,H)?d.merge([j],oe):oe}function Oe(j,H){for(var oe=0,fe=j.length;oe<fe;oe++)Xe.set(j[oe],"globalEval",!H||Xe.get(H[oe],"globalEval"))}var je=/<|&#?\w+;/;function bt(j,H,oe,fe,be){for(var _e,Ae,Je,He,it,dt,vt=H.createDocumentFragment(),at=[],Pt=0,zt=j.length;Pt<zt;Pt++)if(_e=j[Pt],_e||_e===0)if(S(_e)==="object")d.merge(at,_e.nodeType?[_e]:_e);else if(!je.test(_e))at.push(H.createTextNode(_e));else{for(Ae=Ae||vt.appendChild(H.createElement("div")),Je=(jn.exec(_e)||["",""])[1].toLowerCase(),He=Qt[Je]||Qt._default,Ae.innerHTML=He[1]+d.htmlPrefilter(_e)+He[2],dt=He[0];dt--;)Ae=Ae.lastChild;d.merge(at,Ae.childNodes),Ae=vt.firstChild,Ae.textContent=""}for(vt.textContent="",Pt=0;_e=at[Pt++];){if(fe&&d.inArray(_e,fe)>-1){be&&be.push(_e);continue}if(it=gt(_e),Ae=hr(vt.appendChild(_e),"script"),it&&Oe(Ae),oe)for(dt=0;_e=Ae[dt++];)_r.test(_e.type||"")&&oe.push(_e)}return vt}var $t=/^([^.]*)(?:\.(.+)|)/;function ut(){return!0}function Ut(){return!1}function Bt(j,H,oe,fe,be,_e){var Ae,Je;if(typeof H=="object"){typeof oe!="string"&&(fe=fe||oe,oe=void 0);for(Je in H)Bt(j,Je,oe,fe,H[Je],_e);return j}if(fe==null&&be==null?(be=oe,fe=oe=void 0):be==null&&(typeof oe=="string"?(be=fe,fe=void 0):(be=fe,fe=oe,oe=void 0)),be===!1)be=Ut;else if(!be)return j;return _e===1&&(Ae=be,be=function(He){return d().off(He),Ae.apply(this,arguments)},be.guid=Ae.guid||(Ae.guid=d.guid++)),j.each(function(){d.event.add(this,H,be,fe,oe)})}d.event={global:{},add:function(j,H,oe,fe,be){var _e,Ae,Je,He,it,dt,vt,at,Pt,zt,wr,pr=Xe.get(j);if(ht(j))for(oe.handler&&(_e=oe,oe=_e.handler,be=_e.selector),be&&d.find.matchesSelector(Ye,be),oe.guid||(oe.guid=d.guid++),(He=pr.events)||(He=pr.events=Object.create(null)),(Ae=pr.handle)||(Ae=pr.handle=function(wi){return typeof d<"u"&&d.event.triggered!==wi.type?d.event.dispatch.apply(j,arguments):void 0}),H=(H||"").match(xe)||[""],it=H.length;it--;)Je=$t.exec(H[it])||[],Pt=wr=Je[1],zt=(Je[2]||"").split(".").sort(),Pt&&(vt=d.event.special[Pt]||{},Pt=(be?vt.delegateType:vt.bindType)||Pt,vt=d.event.special[Pt]||{},dt=d.extend({type:Pt,origType:wr,data:fe,handler:oe,guid:oe.guid,selector:be,needsContext:be&&d.expr.match.needsContext.test(be),namespace:zt.join(".")},_e),(at=He[Pt])||(at=He[Pt]=[],at.delegateCount=0,(!vt.setup||vt.setup.call(j,fe,zt,Ae)===!1)&&j.addEventListener&&j.addEventListener(Pt,Ae)),vt.add&&(vt.add.call(j,dt),dt.handler.guid||(dt.handler.guid=oe.guid)),be?at.splice(at.delegateCount++,0,dt):at.push(dt),d.event.global[Pt]=!0)},remove:function(j,H,oe,fe,be){var _e,Ae,Je,He,it,dt,vt,at,Pt,zt,wr,pr=Xe.hasData(j)&&Xe.get(j);if(!(!pr||!(He=pr.events))){for(H=(H||"").match(xe)||[""],it=H.length;it--;){if(Je=$t.exec(H[it])||[],Pt=wr=Je[1],zt=(Je[2]||"").split(".").sort(),!Pt){for(Pt in He)d.event.remove(j,Pt+H[it],oe,fe,!0);continue}for(vt=d.event.special[Pt]||{},Pt=(fe?vt.delegateType:vt.bindType)||Pt,at=He[Pt]||[],Je=Je[2]&&new RegExp("(^|\\.)"+zt.join("\\.(?:.*\\.|)")+"(\\.|$)"),Ae=_e=at.length;_e--;)dt=at[_e],(be||wr===dt.origType)&&(!oe||oe.guid===dt.guid)&&(!Je||Je.test(dt.namespace))&&(!fe||fe===dt.selector||fe==="**"&&dt.selector)&&(at.splice(_e,1),dt.selector&&at.delegateCount--,vt.remove&&vt.remove.call(j,dt));Ae&&!at.length&&((!vt.teardown||vt.teardown.call(j,zt,pr.handle)===!1)&&d.removeEvent(j,Pt,pr.handle),delete He[Pt])}d.isEmptyObject(He)&&Xe.remove(j,"handle events")}},dispatch:function(j){var H,oe,fe,be,_e,Ae,Je=new Array(arguments.length),He=d.event.fix(j),it=(Xe.get(this,"events")||Object.create(null))[He.type]||[],dt=d.event.special[He.type]||{};for(Je[0]=He,H=1;H<arguments.length;H++)Je[H]=arguments[H];if(He.delegateTarget=this,!(dt.preDispatch&&dt.preDispatch.call(this,He)===!1)){for(Ae=d.event.handlers.call(this,He,it),H=0;(be=Ae[H++])&&!He.isPropagationStopped();)for(He.currentTarget=be.elem,oe=0;(_e=be.handlers[oe++])&&!He.isImmediatePropagationStopped();)(!He.rnamespace||_e.namespace===!1||He.rnamespace.test(_e.namespace))&&(He.handleObj=_e,He.data=_e.data,fe=((d.event.special[_e.origType]||{}).handle||_e.handler).apply(be.elem,Je),fe!==void 0&&(He.result=fe)===!1&&(He.preventDefault(),He.stopPropagation()));return dt.postDispatch&&dt.postDispatch.call(this,He),He.result}},handlers:function(j,H){var oe,fe,be,_e,Ae,Je=[],He=H.delegateCount,it=j.target;if(He&&it.nodeType&&!(j.type==="click"&&j.button>=1)){for(;it!==this;it=it.parentNode||this)if(it.nodeType===1&&!(j.type==="click"&&it.disabled===!0)){for(_e=[],Ae={},oe=0;oe<He;oe++)fe=H[oe],be=fe.selector+" ",Ae[be]===void 0&&(Ae[be]=fe.needsContext?d(be,this).index(it)>-1:d.find(be,this,null,[it]).length),Ae[be]&&_e.push(fe);_e.length&&Je.push({elem:it,handlers:_e})}}return it=this,He<H.length&&Je.push({elem:it,handlers:H.slice(He)}),Je},addProp:function(j,H){Object.defineProperty(d.Event.prototype,j,{enumerable:!0,configurable:!0,get:_(H)?function(){if(this.originalEvent)return H(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[j]},set:function(oe){Object.defineProperty(this,j,{enumerable:!0,configurable:!0,writable:!0,value:oe})}})},fix:function(j){return j[d.expando]?j:new d.Event(j)},special:{load:{noBubble:!0},click:{setup:function(j){var H=this||j;return Rr.test(H.type)&&H.click&&O(H,"input")&&we(H,"click",!0),!1},trigger:function(j){var H=this||j;return Rr.test(H.type)&&H.click&&O(H,"input")&&we(H,"click"),!0},_default:function(j){var H=j.target;return Rr.test(H.type)&&H.click&&O(H,"input")&&Xe.get(H,"click")||O(H,"a")}},beforeunload:{postDispatch:function(j){j.result!==void 0&&j.originalEvent&&(j.originalEvent.returnValue=j.result)}}}};function we(j,H,oe){if(!oe){Xe.get(j,H)===void 0&&d.event.add(j,H,ut);return}Xe.set(j,H,!1),d.event.add(j,H,{namespace:!1,handler:function(fe){var be,_e=Xe.get(this,H);if(fe.isTrigger&1&&this[H]){if(_e)(d.event.special[H]||{}).delegateType&&fe.stopPropagation();else if(_e=o.call(arguments),Xe.set(this,H,_e),this[H](),be=Xe.get(this,H),Xe.set(this,H,!1),_e!==be)return fe.stopImmediatePropagation(),fe.preventDefault(),be}else _e&&(Xe.set(this,H,d.event.trigger(_e[0],_e.slice(1),this)),fe.stopPropagation(),fe.isImmediatePropagationStopped=ut)}})}d.removeEvent=function(j,H,oe){j.removeEventListener&&j.removeEventListener(H,oe)},d.Event=function(j,H){if(!(this instanceof d.Event))return new d.Event(j,H);j&&j.type?(this.originalEvent=j,this.type=j.type,this.isDefaultPrevented=j.defaultPrevented||j.defaultPrevented===void 0&&j.returnValue===!1?ut:Ut,this.target=j.target&&j.target.nodeType===3?j.target.parentNode:j.target,this.currentTarget=j.currentTarget,this.relatedTarget=j.relatedTarget):this.type=j,H&&d.extend(this,H),this.timeStamp=j&&j.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:Ut,isPropagationStopped:Ut,isImmediatePropagationStopped:Ut,isSimulated:!1,preventDefault:function(){var j=this.originalEvent;this.isDefaultPrevented=ut,j&&!this.isSimulated&&j.preventDefault()},stopPropagation:function(){var j=this.originalEvent;this.isPropagationStopped=ut,j&&!this.isSimulated&&j.stopPropagation()},stopImmediatePropagation:function(){var j=this.originalEvent;this.isImmediatePropagationStopped=ut,j&&!this.isSimulated&&j.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(j,H){function oe(fe){if(p.documentMode){var be=Xe.get(this,"handle"),_e=d.event.fix(fe);_e.type=fe.type==="focusin"?"focus":"blur",_e.isSimulated=!0,be(fe),_e.target===_e.currentTarget&&be(_e)}else d.event.simulate(H,fe.target,d.event.fix(fe))}d.event.special[j]={setup:function(){var fe;if(we(this,j,!0),p.documentMode)fe=Xe.get(this,H),fe||this.addEventListener(H,oe),Xe.set(this,H,(fe||0)+1);else return!1},trigger:function(){return we(this,j),!0},teardown:function(){var fe;if(p.documentMode)fe=Xe.get(this,H)-1,fe?Xe.set(this,H,fe):(this.removeEventListener(H,oe),Xe.remove(this,H));else return!1},_default:function(fe){return Xe.get(fe.target,j)},delegateType:H},d.event.special[H]={setup:function(){var fe=this.ownerDocument||this.document||this,be=p.documentMode?this:fe,_e=Xe.get(be,H);_e||(p.documentMode?this.addEventListener(H,oe):fe.addEventListener(j,oe,!0)),Xe.set(be,H,(_e||0)+1)},teardown:function(){var fe=this.ownerDocument||this.document||this,be=p.documentMode?this:fe,_e=Xe.get(be,H)-1;_e?Xe.set(be,H,_e):(p.documentMode?this.removeEventListener(H,oe):fe.removeEventListener(j,oe,!0),Xe.remove(be,H))}}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(j,H){d.event.special[j]={delegateType:H,bindType:H,handle:function(oe){var fe,be=this,_e=oe.relatedTarget,Ae=oe.handleObj;return(!_e||_e!==be&&!d.contains(be,_e))&&(oe.type=Ae.origType,fe=Ae.handler.apply(this,arguments),oe.type=H),fe}}}),d.fn.extend({on:function(j,H,oe,fe){return Bt(this,j,H,oe,fe)},one:function(j,H,oe,fe){return Bt(this,j,H,oe,fe,1)},off:function(j,H,oe){var fe,be;if(j&&j.preventDefault&&j.handleObj)return fe=j.handleObj,d(j.delegateTarget).off(fe.namespace?fe.origType+"."+fe.namespace:fe.origType,fe.selector,fe.handler),this;if(typeof j=="object"){for(be in j)this.off(be,H,j[be]);return this}return(H===!1||typeof H=="function")&&(oe=H,H=void 0),oe===!1&&(oe=Ut),this.each(function(){d.event.remove(this,j,oe,H)})}});var he=/<script|<style|<link/i,Se=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ke(j,H){return O(j,"table")&&O(H.nodeType!==11?H:H.firstChild,"tr")&&d(j).children("tbody")[0]||j}function pt(j){return j.type=(j.getAttribute("type")!==null)+"/"+j.type,j}function ft(j){return(j.type||"").slice(0,5)==="true/"?j.type=j.type.slice(5):j.removeAttribute("type"),j}function Mt(j,H){var oe,fe,be,_e,Ae,Je,He;if(H.nodeType===1){if(Xe.hasData(j)&&(_e=Xe.get(j),He=_e.events,He)){Xe.remove(H,"handle events");for(be in He)for(oe=0,fe=He[be].length;oe<fe;oe++)d.event.add(H,be,He[be][oe])}Q.hasData(j)&&(Ae=Q.access(j),Je=d.extend({},Ae),Q.set(H,Je))}}function Kt(j,H){var oe=H.nodeName.toLowerCase();oe==="input"&&Rr.test(j.type)?H.checked=j.checked:(oe==="input"||oe==="textarea")&&(H.defaultValue=j.defaultValue)}function Zt(j,H,oe,fe){H=s(H);var be,_e,Ae,Je,He,it,dt=0,vt=j.length,at=vt-1,Pt=H[0],zt=_(Pt);if(zt||vt>1&&typeof Pt=="string"&&!g.checkClone&&Se.test(Pt))return j.each(function(wr){var pr=j.eq(wr);zt&&(H[0]=Pt.call(this,wr,pr.html())),Zt(pr,H,oe,fe)});if(vt&&(be=bt(H,j[0].ownerDocument,!1,j,fe),_e=be.firstChild,be.childNodes.length===1&&(be=_e),_e||fe)){for(Ae=d.map(hr(be,"script"),pt),Je=Ae.length;dt<vt;dt++)He=be,dt!==at&&(He=d.clone(He,!0,!0),Je&&d.merge(Ae,hr(He,"script"))),oe.call(j[dt],He,dt);if(Je)for(it=Ae[Ae.length-1].ownerDocument,d.map(Ae,ft),dt=0;dt<Je;dt++)He=Ae[dt],_r.test(He.type||"")&&!Xe.access(He,"globalEval")&&d.contains(it,He)&&(He.src&&(He.type||"").toLowerCase()!=="module"?d._evalUrl&&!He.noModule&&d._evalUrl(He.src,{nonce:He.nonce||He.getAttribute("nonce")},it):y(He.textContent.replace(Me,""),He,it))}return j}function Dt(j,H,oe){for(var fe,be=H?d.filter(H,j):j,_e=0;(fe=be[_e])!=null;_e++)!oe&&fe.nodeType===1&&d.cleanData(hr(fe)),fe.parentNode&&(oe&&gt(fe)&&Oe(hr(fe,"script")),fe.parentNode.removeChild(fe));return j}d.extend({htmlPrefilter:function(j){return j},clone:function(j,H,oe){var fe,be,_e,Ae,Je=j.cloneNode(!0),He=gt(j);if(!g.noCloneChecked&&(j.nodeType===1||j.nodeType===11)&&!d.isXMLDoc(j))for(Ae=hr(Je),_e=hr(j),fe=0,be=_e.length;fe<be;fe++)Kt(_e[fe],Ae[fe]);if(H)if(oe)for(_e=_e||hr(j),Ae=Ae||hr(Je),fe=0,be=_e.length;fe<be;fe++)Mt(_e[fe],Ae[fe]);else Mt(j,Je);return Ae=hr(Je,"script"),Ae.length>0&&Oe(Ae,!He&&hr(j,"script")),Je},cleanData:function(j){for(var H,oe,fe,be=d.event.special,_e=0;(oe=j[_e])!==void 0;_e++)if(ht(oe)){if(H=oe[Xe.expando]){if(H.events)for(fe in H.events)be[fe]?d.event.remove(oe,fe):d.removeEvent(oe,fe,H.handle);oe[Xe.expando]=void 0}oe[Q.expando]&&(oe[Q.expando]=void 0)}}}),d.fn.extend({detach:function(j){return Dt(this,j,!0)},remove:function(j){return Dt(this,j)},text:function(j){return ve(this,function(H){return H===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=H)})},null,j,arguments.length)},append:function(){return Zt(this,arguments,function(j){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var H=ke(this,j);H.appendChild(j)}})},prepend:function(){return Zt(this,arguments,function(j){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var H=ke(this,j);H.insertBefore(j,H.firstChild)}})},before:function(){return Zt(this,arguments,function(j){this.parentNode&&this.parentNode.insertBefore(j,this)})},after:function(){return Zt(this,arguments,function(j){this.parentNode&&this.parentNode.insertBefore(j,this.nextSibling)})},empty:function(){for(var j,H=0;(j=this[H])!=null;H++)j.nodeType===1&&(d.cleanData(hr(j,!1)),j.textContent="");return this},clone:function(j,H){return j=j??!1,H=H??j,this.map(function(){return d.clone(this,j,H)})},html:function(j){return ve(this,function(H){var oe=this[0]||{},fe=0,be=this.length;if(H===void 0&&oe.nodeType===1)return oe.innerHTML;if(typeof H=="string"&&!he.test(H)&&!Qt[(jn.exec(H)||["",""])[1].toLowerCase()]){H=d.htmlPrefilter(H);try{for(;fe<be;fe++)oe=this[fe]||{},oe.nodeType===1&&(d.cleanData(hr(oe,!1)),oe.innerHTML=H);oe=0}catch{}}oe&&this.empty().append(H)},null,j,arguments.length)},replaceWith:function(){var j=[];return Zt(this,arguments,function(H){var oe=this.parentNode;d.inArray(this,j)<0&&(d.cleanData(hr(this)),oe&&oe.replaceChild(H,this))},j)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(j,H){d.fn[j]=function(oe){for(var fe,be=[],_e=d(oe),Ae=_e.length-1,Je=0;Je<=Ae;Je++)fe=Je===Ae?this:this.clone(!0),d(_e[Je])[H](fe),a.apply(be,fe.get());return this.pushStack(be)}});var qt=new RegExp("^("+Pe+")(?!px)[a-z%]+$","i"),ur=/^--/,Nt=function(j){var H=j.ownerDocument.defaultView;return(!H||!H.opener)&&(H=t),H.getComputedStyle(j)},ir=function(j,H,oe){var fe,be,_e={};for(be in H)_e[be]=j.style[be],j.style[be]=H[be];fe=oe.call(j);for(be in H)j.style[be]=_e[be];return fe},Ft=new RegExp(Be.join("|"),"i");(function(){function j(){if(it){He.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",it.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ye.appendChild(He).appendChild(it);var dt=t.getComputedStyle(it);oe=dt.top!=="1%",Je=H(dt.marginLeft)===12,it.style.right="60%",_e=H(dt.right)===36,fe=H(dt.width)===36,it.style.position="absolute",be=H(it.offsetWidth/3)===12,Ye.removeChild(He),it=null}}function H(dt){return Math.round(parseFloat(dt))}var oe,fe,be,_e,Ae,Je,He=p.createElement("div"),it=p.createElement("div");it.style&&(it.style.backgroundClip="content-box",it.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle=it.style.backgroundClip==="content-box",d.extend(g,{boxSizingReliable:function(){return j(),fe},pixelBoxStyles:function(){return j(),_e},pixelPosition:function(){return j(),oe},reliableMarginLeft:function(){return j(),Je},scrollboxSize:function(){return j(),be},reliableTrDimensions:function(){var dt,vt,at,Pt;return Ae==null&&(dt=p.createElement("table"),vt=p.createElement("tr"),at=p.createElement("div"),dt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",vt.style.cssText="box-sizing:content-box;border:1px solid",vt.style.height="1px",at.style.height="9px",at.style.display="block",Ye.appendChild(dt).appendChild(vt).appendChild(at),Pt=t.getComputedStyle(vt),Ae=parseInt(Pt.height,10)+parseInt(Pt.borderTopWidth,10)+parseInt(Pt.borderBottomWidth,10)===vt.offsetHeight,Ye.removeChild(dt)),Ae}}))})();function Yt(j,H,oe){var fe,be,_e,Ae,Je=ur.test(H),He=j.style;return oe=oe||Nt(j),oe&&(Ae=oe.getPropertyValue(H)||oe[H],Je&&Ae&&(Ae=Ae.replace(ie,"$1")||void 0),Ae===""&&!gt(j)&&(Ae=d.style(j,H)),!g.pixelBoxStyles()&&qt.test(Ae)&&Ft.test(H)&&(fe=He.width,be=He.minWidth,_e=He.maxWidth,He.minWidth=He.maxWidth=He.width=Ae,Ae=oe.width,He.width=fe,He.minWidth=be,He.maxWidth=_e)),Ae!==void 0?Ae+"":Ae}function pn(j,H){return{get:function(){if(j()){delete this.get;return}return(this.get=H).apply(this,arguments)}}}var un=["Webkit","Moz","ms"],mn=p.createElement("div").style,Hn={};function fi(j){for(var H=j[0].toUpperCase()+j.slice(1),oe=un.length;oe--;)if(j=un[oe]+H,j in mn)return j}function rn(j){var H=d.cssProps[j]||Hn[j];return H||(j in mn?j:Hn[j]=fi(j)||j)}var vn=/^(none|table(?!-c[ea]).+)/,$i={position:"absolute",visibility:"hidden",display:"block"},Wn={letterSpacing:"0",fontWeight:"400"};function zi(j,H,oe){var fe=qe.exec(H);return fe?Math.max(0,fe[2]-(oe||0))+(fe[3]||"px"):H}function _s(j,H,oe,fe,be,_e){var Ae=H==="width"?1:0,Je=0,He=0,it=0;if(oe===(fe?"border":"content"))return 0;for(;Ae<4;Ae+=2)oe==="margin"&&(it+=d.css(j,oe+Be[Ae],!0,be)),fe?(oe==="content"&&(He-=d.css(j,"padding"+Be[Ae],!0,be)),oe!=="margin"&&(He-=d.css(j,"border"+Be[Ae]+"Width",!0,be))):(He+=d.css(j,"padding"+Be[Ae],!0,be),oe!=="padding"?He+=d.css(j,"border"+Be[Ae]+"Width",!0,be):Je+=d.css(j,"border"+Be[Ae]+"Width",!0,be));return!fe&&_e>=0&&(He+=Math.max(0,Math.ceil(j["offset"+H[0].toUpperCase()+H.slice(1)]-_e-He-Je-.5))||0),He+it}function Wo(j,H,oe){var fe=Nt(j),be=!g.boxSizingReliable()||oe,_e=be&&d.css(j,"boxSizing",!1,fe)==="border-box",Ae=_e,Je=Yt(j,H,fe),He="offset"+H[0].toUpperCase()+H.slice(1);if(qt.test(Je)){if(!oe)return Je;Je="auto"}return(!g.boxSizingReliable()&&_e||!g.reliableTrDimensions()&&O(j,"tr")||Je==="auto"||!parseFloat(Je)&&d.css(j,"display",!1,fe)==="inline")&&j.getClientRects().length&&(_e=d.css(j,"boxSizing",!1,fe)==="border-box",Ae=He in j,Ae&&(Je=j[He])),Je=parseFloat(Je)||0,Je+_s(j,H,oe||(_e?"border":"content"),Ae,fe,Je)+"px"}d.extend({cssHooks:{opacity:{get:function(j,H){if(H){var oe=Yt(j,"opacity");return oe===""?"1":oe}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(j,H,oe,fe){if(!(!j||j.nodeType===3||j.nodeType===8||!j.style)){var be,_e,Ae,Je=Ve(H),He=ur.test(H),it=j.style;if(He||(H=rn(Je)),Ae=d.cssHooks[H]||d.cssHooks[Je],oe!==void 0){if(_e=typeof oe,_e==="string"&&(be=qe.exec(oe))&&be[1]&&(oe=Xt(j,H,be),_e="number"),oe==null||oe!==oe)return;_e==="number"&&!He&&(oe+=be&&be[3]||(d.cssNumber[Je]?"":"px")),!g.clearCloneStyle&&oe===""&&H.indexOf("background")===0&&(it[H]="inherit"),(!Ae||!("set"in Ae)||(oe=Ae.set(j,oe,fe))!==void 0)&&(He?it.setProperty(H,oe):it[H]=oe)}else return Ae&&"get"in Ae&&(be=Ae.get(j,!1,fe))!==void 0?be:it[H]}},css:function(j,H,oe,fe){var be,_e,Ae,Je=Ve(H),He=ur.test(H);return He||(H=rn(Je)),Ae=d.cssHooks[H]||d.cssHooks[Je],Ae&&"get"in Ae&&(be=Ae.get(j,!0,oe)),be===void 0&&(be=Yt(j,H,fe)),be==="normal"&&H in Wn&&(be=Wn[H]),oe===""||oe?(_e=parseFloat(be),oe===!0||isFinite(_e)?_e||0:be):be}}),d.each(["height","width"],function(j,H){d.cssHooks[H]={get:function(oe,fe,be){if(fe)return vn.test(d.css(oe,"display"))&&(!oe.getClientRects().length||!oe.getBoundingClientRect().width)?ir(oe,$i,function(){return Wo(oe,H,be)}):Wo(oe,H,be)},set:function(oe,fe,be){var _e,Ae=Nt(oe),Je=!g.scrollboxSize()&&Ae.position==="absolute",He=Je||be,it=He&&d.css(oe,"boxSizing",!1,Ae)==="border-box",dt=be?_s(oe,H,be,it,Ae):0;return it&&Je&&(dt-=Math.ceil(oe["offset"+H[0].toUpperCase()+H.slice(1)]-parseFloat(Ae[H])-_s(oe,H,"border",!1,Ae)-.5)),dt&&(_e=qe.exec(fe))&&(_e[3]||"px")!=="px"&&(oe.style[H]=fe,fe=d.css(oe,H)),zi(oe,fe,dt)}}}),d.cssHooks.marginLeft=pn(g.reliableMarginLeft,function(j,H){if(H)return(parseFloat(Yt(j,"marginLeft"))||j.getBoundingClientRect().left-ir(j,{marginLeft:0},function(){return j.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(j,H){d.cssHooks[j+H]={expand:function(oe){for(var fe=0,be={},_e=typeof oe=="string"?oe.split(" "):[oe];fe<4;fe++)be[j+Be[fe]+H]=_e[fe]||_e[fe-2]||_e[0];return be}},j!=="margin"&&(d.cssHooks[j+H].set=zi)}),d.fn.extend({css:function(j,H){return ve(this,function(oe,fe,be){var _e,Ae,Je={},He=0;if(Array.isArray(fe)){for(_e=Nt(oe),Ae=fe.length;He<Ae;He++)Je[fe[He]]=d.css(oe,fe[He],!1,_e);return Je}return be!==void 0?d.style(oe,fe,be):d.css(oe,fe)},j,H,arguments.length>1)}});function nn(j,H,oe,fe,be){return new nn.prototype.init(j,H,oe,fe,be)}d.Tween=nn,nn.prototype={constructor:nn,init:function(j,H,oe,fe,be,_e){this.elem=j,this.prop=oe,this.easing=be||d.easing._default,this.options=H,this.start=this.now=this.cur(),this.end=fe,this.unit=_e||(d.cssNumber[oe]?"":"px")},cur:function(){var j=nn.propHooks[this.prop];return j&&j.get?j.get(this):nn.propHooks._default.get(this)},run:function(j){var H,oe=nn.propHooks[this.prop];return this.options.duration?this.pos=H=d.easing[this.easing](j,this.options.duration*j,0,1,this.options.duration):this.pos=H=j,this.now=(this.end-this.start)*H+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),oe&&oe.set?oe.set(this):nn.propHooks._default.set(this),this}},nn.prototype.init.prototype=nn.prototype,nn.propHooks={_default:{get:function(j){var H;return j.elem.nodeType!==1||j.elem[j.prop]!=null&&j.elem.style[j.prop]==null?j.elem[j.prop]:(H=d.css(j.elem,j.prop,""),!H||H==="auto"?0:H)},set:function(j){d.fx.step[j.prop]?d.fx.step[j.prop](j):j.elem.nodeType===1&&(d.cssHooks[j.prop]||j.elem.style[rn(j.prop)]!=null)?d.style(j.elem,j.prop,j.now+j.unit):j.elem[j.prop]=j.now}}},nn.propHooks.scrollTop=nn.propHooks.scrollLeft={set:function(j){j.elem.nodeType&&j.elem.parentNode&&(j.elem[j.prop]=j.now)}},d.easing={linear:function(j){return j},swing:function(j){return .5-Math.cos(j*Math.PI)/2},_default:"swing"},d.fx=nn.prototype.init,d.fx.step={};var Gn,xi,Na=/^(?:toggle|show|hide)$/,Go=/queueHooks$/;function Zn(){xi&&(p.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Zn):t.setTimeout(Zn,d.fx.interval),d.fx.tick())}function iu(){return t.setTimeout(function(){Gn=void 0}),Gn=Date.now()}function wl(j,H){var oe,fe=0,be={height:j};for(H=H?1:0;fe<4;fe+=2-H)oe=Be[fe],be["margin"+oe]=be["padding"+oe]=j;return H&&(be.opacity=be.width=j),be}function Ad(j,H,oe){for(var fe,be=(Ko.tweeners[H]||[]).concat(Ko.tweeners["*"]),_e=0,Ae=be.length;_e<Ae;_e++)if(fe=be[_e].call(oe,H,j))return fe}function fp(j,H,oe){var fe,be,_e,Ae,Je,He,it,dt,vt="width"in H||"height"in H,at=this,Pt={},zt=j.style,wr=j.nodeType&&yt(j),pr=Xe.get(j,"fxshow");oe.queue||(Ae=d._queueHooks(j,"fx"),Ae.unqueued==null&&(Ae.unqueued=0,Je=Ae.empty.fire,Ae.empty.fire=function(){Ae.unqueued||Je()}),Ae.unqueued++,at.always(function(){at.always(function(){Ae.unqueued--,d.queue(j,"fx").length||Ae.empty.fire()})}));for(fe in H)if(be=H[fe],Na.test(be)){if(delete H[fe],_e=_e||be==="toggle",be===(wr?"hide":"show"))if(be==="show"&&pr&&pr[fe]!==void 0)wr=!0;else continue;Pt[fe]=pr&&pr[fe]||d.style(j,fe)}if(He=!d.isEmptyObject(H),!(!He&&d.isEmptyObject(Pt))){vt&&j.nodeType===1&&(oe.overflow=[zt.overflow,zt.overflowX,zt.overflowY],it=pr&&pr.display,it==null&&(it=Xe.get(j,"display")),dt=d.css(j,"display"),dt==="none"&&(it?dt=it:(Tr([j],!0),it=j.style.display||it,dt=d.css(j,"display"),Tr([j]))),(dt==="inline"||dt==="inline-block"&&it!=null)&&d.css(j,"float")==="none"&&(He||(at.done(function(){zt.display=it}),it==null&&(dt=zt.display,it=dt==="none"?"":dt)),zt.display="inline-block")),oe.overflow&&(zt.overflow="hidden",at.always(function(){zt.overflow=oe.overflow[0],zt.overflowX=oe.overflow[1],zt.overflowY=oe.overflow[2]})),He=!1;for(fe in Pt)He||(pr?"hidden"in pr&&(wr=pr.hidden):pr=Xe.access(j,"fxshow",{display:it}),_e&&(pr.hidden=!wr),wr&&Tr([j],!0),at.done(function(){wr||Tr([j]),Xe.remove(j,"fxshow");for(fe in Pt)d.style(j,fe,Pt[fe])})),He=Ad(wr?pr[fe]:0,fe,at),fe in pr||(pr[fe]=He.start,wr&&(He.end=He.start,He.start=0))}}function Od(j,H){var oe,fe,be,_e,Ae;for(oe in j)if(fe=Ve(oe),be=H[fe],_e=j[oe],Array.isArray(_e)&&(be=_e[1],_e=j[oe]=_e[0]),oe!==fe&&(j[fe]=_e,delete j[oe]),Ae=d.cssHooks[fe],Ae&&"expand"in Ae){_e=Ae.expand(_e),delete j[fe];for(oe in _e)oe in j||(j[oe]=_e[oe],H[oe]=be)}else H[fe]=be}function Ko(j,H,oe){var fe,be,_e=0,Ae=Ko.prefilters.length,Je=d.Deferred().always(function(){delete He.elem}),He=function(){if(be)return!1;for(var vt=Gn||iu(),at=Math.max(0,it.startTime+it.duration-vt),Pt=at/it.duration||0,zt=1-Pt,wr=0,pr=it.tweens.length;wr<pr;wr++)it.tweens[wr].run(zt);return Je.notifyWith(j,[it,zt,at]),zt<1&&pr?at:(pr||Je.notifyWith(j,[it,1,0]),Je.resolveWith(j,[it]),!1)},it=Je.promise({elem:j,props:d.extend({},H),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},oe),originalProperties:H,originalOptions:oe,startTime:Gn||iu(),duration:oe.duration,tweens:[],createTween:function(vt,at){var Pt=d.Tween(j,it.opts,vt,at,it.opts.specialEasing[vt]||it.opts.easing);return it.tweens.push(Pt),Pt},stop:function(vt){var at=0,Pt=vt?it.tweens.length:0;if(be)return this;for(be=!0;at<Pt;at++)it.tweens[at].run(1);return vt?(Je.notifyWith(j,[it,1,0]),Je.resolveWith(j,[it,vt])):Je.rejectWith(j,[it,vt]),this}}),dt=it.props;for(Od(dt,it.opts.specialEasing);_e<Ae;_e++)if(fe=Ko.prefilters[_e].call(it,j,dt,it.opts),fe)return _(fe.stop)&&(d._queueHooks(it.elem,it.opts.queue).stop=fe.stop.bind(fe)),fe;return d.map(dt,Ad,it),_(it.opts.start)&&it.opts.start.call(j,it),it.progress(it.opts.progress).done(it.opts.done,it.opts.complete).fail(it.opts.fail).always(it.opts.always),d.fx.timer(d.extend(He,{elem:j,anim:it,queue:it.opts.queue})),it}d.Animation=d.extend(Ko,{tweeners:{"*":[function(j,H){var oe=this.createTween(j,H);return Xt(oe.elem,j,qe.exec(H),oe),oe}]},tweener:function(j,H){_(j)?(H=j,j=["*"]):j=j.match(xe);for(var oe,fe=0,be=j.length;fe<be;fe++)oe=j[fe],Ko.tweeners[oe]=Ko.tweeners[oe]||[],Ko.tweeners[oe].unshift(H)},prefilters:[fp],prefilter:function(j,H){H?Ko.prefilters.unshift(j):Ko.prefilters.push(j)}}),d.speed=function(j,H,oe){var fe=j&&typeof j=="object"?d.extend({},j):{complete:oe||!oe&&H||_(j)&&j,duration:j,easing:oe&&H||H&&!_(H)&&H};return d.fx.off?fe.duration=0:typeof fe.duration!="number"&&(fe.duration in d.fx.speeds?fe.duration=d.fx.speeds[fe.duration]:fe.duration=d.fx.speeds._default),(fe.queue==null||fe.queue===!0)&&(fe.queue="fx"),fe.old=fe.complete,fe.complete=function(){_(fe.old)&&fe.old.call(this),fe.queue&&d.dequeue(this,fe.queue)},fe},d.fn.extend({fadeTo:function(j,H,oe,fe){return this.filter(yt).css("opacity",0).show().end().animate({opacity:H},j,oe,fe)},animate:function(j,H,oe,fe){var be=d.isEmptyObject(j),_e=d.speed(H,oe,fe),Ae=function(){var Je=Ko(this,d.extend({},j),_e);(be||Xe.get(this,"finish"))&&Je.stop(!0)};return Ae.finish=Ae,be||_e.queue===!1?this.each(Ae):this.queue(_e.queue,Ae)},stop:function(j,H,oe){var fe=function(be){var _e=be.stop;delete be.stop,_e(oe)};return typeof j!="string"&&(oe=H,H=j,j=void 0),H&&this.queue(j||"fx",[]),this.each(function(){var be=!0,_e=j!=null&&j+"queueHooks",Ae=d.timers,Je=Xe.get(this);if(_e)Je[_e]&&Je[_e].stop&&fe(Je[_e]);else for(_e in Je)Je[_e]&&Je[_e].stop&&Go.test(_e)&&fe(Je[_e]);for(_e=Ae.length;_e--;)Ae[_e].elem===this&&(j==null||Ae[_e].queue===j)&&(Ae[_e].anim.stop(oe),be=!1,Ae.splice(_e,1));(be||!oe)&&d.dequeue(this,j)})},finish:function(j){return j!==!1&&(j=j||"fx"),this.each(function(){var H,oe=Xe.get(this),fe=oe[j+"queue"],be=oe[j+"queueHooks"],_e=d.timers,Ae=fe?fe.length:0;for(oe.finish=!0,d.queue(this,j,[]),be&&be.stop&&be.stop.call(this,!0),H=_e.length;H--;)_e[H].elem===this&&_e[H].queue===j&&(_e[H].anim.stop(!0),_e.splice(H,1));for(H=0;H<Ae;H++)fe[H]&&fe[H].finish&&fe[H].finish.call(this);delete oe.finish})}}),d.each(["toggle","show","hide"],function(j,H){var oe=d.fn[H];d.fn[H]=function(fe,be,_e){return fe==null||typeof fe=="boolean"?oe.apply(this,arguments):this.animate(wl(H,!0),fe,be,_e)}}),d.each({slideDown:wl("show"),slideUp:wl("hide"),slideToggle:wl("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(j,H){d.fn[j]=function(oe,fe,be){return this.animate(H,oe,fe,be)}}),d.timers=[],d.fx.tick=function(){var j,H=0,oe=d.timers;for(Gn=Date.now();H<oe.length;H++)j=oe[H],!j()&&oe[H]===j&&oe.splice(H--,1);oe.length||d.fx.stop(),Gn=void 0},d.fx.timer=function(j){d.timers.push(j),d.fx.start()},d.fx.interval=13,d.fx.start=function(){xi||(xi=!0,Zn())},d.fx.stop=function(){xi=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(j,H){return j=d.fx&&d.fx.speeds[j]||j,H=H||"fx",this.queue(H,function(oe,fe){var be=t.setTimeout(oe,j);fe.stop=function(){t.clearTimeout(be)}})},function(){var j=p.createElement("input"),H=p.createElement("select"),oe=H.appendChild(p.createElement("option"));j.type="checkbox",g.checkOn=j.value!=="",g.optSelected=oe.selected,j=p.createElement("input"),j.value="t",j.type="radio",g.radioValue=j.value==="t"}();var Pd,Ia=d.expr.attrHandle;d.fn.extend({attr:function(j,H){return ve(this,d.attr,j,H,arguments.length>1)},removeAttr:function(j){return this.each(function(){d.removeAttr(this,j)})}}),d.extend({attr:function(j,H,oe){var fe,be,_e=j.nodeType;if(!(_e===3||_e===8||_e===2)){if(typeof j.getAttribute>"u")return d.prop(j,H,oe);if((_e!==1||!d.isXMLDoc(j))&&(be=d.attrHooks[H.toLowerCase()]||(d.expr.match.bool.test(H)?Pd:void 0)),oe!==void 0){if(oe===null){d.removeAttr(j,H);return}return be&&"set"in be&&(fe=be.set(j,oe,H))!==void 0?fe:(j.setAttribute(H,oe+""),oe)}return be&&"get"in be&&(fe=be.get(j,H))!==null?fe:(fe=d.find.attr(j,H),fe??void 0)}},attrHooks:{type:{set:function(j,H){if(!g.radioValue&&H==="radio"&&O(j,"input")){var oe=j.value;return j.setAttribute("type",H),oe&&(j.value=oe),H}}}},removeAttr:function(j,H){var oe,fe=0,be=H&&H.match(xe);if(be&&j.nodeType===1)for(;oe=be[fe++];)j.removeAttribute(oe)}}),Pd={set:function(j,H,oe){return H===!1?d.removeAttr(j,oe):j.setAttribute(oe,oe),oe}},d.each(d.expr.match.bool.source.match(/\w+/g),function(j,H){var oe=Ia[H]||d.find.attr;Ia[H]=function(fe,be,_e){var Ae,Je,He=be.toLowerCase();return _e||(Je=Ia[He],Ia[He]=Ae,Ae=oe(fe,be,_e)!=null?He:null,Ia[He]=Je),Ae}});var Es=/^(?:input|select|textarea|button)$/i,bl=/^(?:a|area)$/i;d.fn.extend({prop:function(j,H){return ve(this,d.prop,j,H,arguments.length>1)},removeProp:function(j){return this.each(function(){delete this[d.propFix[j]||j]})}}),d.extend({prop:function(j,H,oe){var fe,be,_e=j.nodeType;if(!(_e===3||_e===8||_e===2))return(_e!==1||!d.isXMLDoc(j))&&(H=d.propFix[H]||H,be=d.propHooks[H]),oe!==void 0?be&&"set"in be&&(fe=be.set(j,oe,H))!==void 0?fe:j[H]=oe:be&&"get"in be&&(fe=be.get(j,H))!==null?fe:j[H]},propHooks:{tabIndex:{get:function(j){var H=d.find.attr(j,"tabindex");return H?parseInt(H,10):Es.test(j.nodeName)||bl.test(j.nodeName)&&j.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(d.propHooks.selected={get:function(j){var H=j.parentNode;return H&&H.parentNode&&H.parentNode.selectedIndex,null},set:function(j){var H=j.parentNode;H&&(H.selectedIndex,H.parentNode&&H.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function ea(j){var H=j.match(xe)||[];return H.join(" ")}function fo(j){return j.getAttribute&&j.getAttribute("class")||""}function Ca(j){return Array.isArray(j)?j:typeof j=="string"?j.match(xe)||[]:[]}d.fn.extend({addClass:function(j){var H,oe,fe,be,_e,Ae;return _(j)?this.each(function(Je){d(this).addClass(j.call(this,Je,fo(this)))}):(H=Ca(j),H.length?this.each(function(){if(fe=fo(this),oe=this.nodeType===1&&" "+ea(fe)+" ",oe){for(_e=0;_e<H.length;_e++)be=H[_e],oe.indexOf(" "+be+" ")<0&&(oe+=be+" ");Ae=ea(oe),fe!==Ae&&this.setAttribute("class",Ae)}}):this)},removeClass:function(j){var H,oe,fe,be,_e,Ae;return _(j)?this.each(function(Je){d(this).removeClass(j.call(this,Je,fo(this)))}):arguments.length?(H=Ca(j),H.length?this.each(function(){if(fe=fo(this),oe=this.nodeType===1&&" "+ea(fe)+" ",oe){for(_e=0;_e<H.length;_e++)for(be=H[_e];oe.indexOf(" "+be+" ")>-1;)oe=oe.replace(" "+be+" "," ");Ae=ea(oe),fe!==Ae&&this.setAttribute("class",Ae)}}):this):this.attr("class","")},toggleClass:function(j,H){var oe,fe,be,_e,Ae=typeof j,Je=Ae==="string"||Array.isArray(j);return _(j)?this.each(function(He){d(this).toggleClass(j.call(this,He,fo(this),H),H)}):typeof H=="boolean"&&Je?H?this.addClass(j):this.removeClass(j):(oe=Ca(j),this.each(function(){if(Je)for(_e=d(this),be=0;be<oe.length;be++)fe=oe[be],_e.hasClass(fe)?_e.removeClass(fe):_e.addClass(fe);else(j===void 0||Ae==="boolean")&&(fe=fo(this),fe&&Xe.set(this,"__className__",fe),this.setAttribute&&this.setAttribute("class",fe||j===!1?"":Xe.get(this,"__className__")||""))}))},hasClass:function(j){var H,oe,fe=0;for(H=" "+j+" ";oe=this[fe++];)if(oe.nodeType===1&&(" "+ea(fo(oe))+" ").indexOf(H)>-1)return!0;return!1}});var Ju=/\r/g;d.fn.extend({val:function(j){var H,oe,fe,be=this[0];return arguments.length?(fe=_(j),this.each(function(_e){var Ae;this.nodeType===1&&(fe?Ae=j.call(this,_e,d(this).val()):Ae=j,Ae==null?Ae="":typeof Ae=="number"?Ae+="":Array.isArray(Ae)&&(Ae=d.map(Ae,function(Je){return Je==null?"":Je+""})),H=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!H||!("set"in H)||H.set(this,Ae,"value")===void 0)&&(this.value=Ae))})):be?(H=d.valHooks[be.type]||d.valHooks[be.nodeName.toLowerCase()],H&&"get"in H&&(oe=H.get(be,"value"))!==void 0?oe:(oe=be.value,typeof oe=="string"?oe.replace(Ju,""):oe??"")):void 0}}),d.extend({valHooks:{option:{get:function(j){var H=d.find.attr(j,"value");return H??ea(d.text(j))}},select:{get:function(j){var H,oe,fe,be=j.options,_e=j.selectedIndex,Ae=j.type==="select-one",Je=Ae?null:[],He=Ae?_e+1:be.length;for(_e<0?fe=He:fe=Ae?_e:0;fe<He;fe++)if(oe=be[fe],(oe.selected||fe===_e)&&!oe.disabled&&(!oe.parentNode.disabled||!O(oe.parentNode,"optgroup"))){if(H=d(oe).val(),Ae)return H;Je.push(H)}return Je},set:function(j,H){for(var oe,fe,be=j.options,_e=d.makeArray(H),Ae=be.length;Ae--;)fe=be[Ae],(fe.selected=d.inArray(d.valHooks.option.get(fe),_e)>-1)&&(oe=!0);return oe||(j.selectedIndex=-1),_e}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(j,H){if(Array.isArray(H))return j.checked=d.inArray(d(j).val(),H)>-1}},g.checkOn||(d.valHooks[this].get=function(j){return j.getAttribute("value")===null?"on":j.value})});var _l=t.location,Yu={guid:Date.now()},ou=/\?/;d.parseXML=function(j){var H,oe;if(!j||typeof j!="string")return null;try{H=new t.DOMParser().parseFromString(j,"text/xml")}catch{}return oe=H&&H.getElementsByTagName("parsererror")[0],(!H||oe)&&d.error("Invalid XML: "+(oe?d.map(oe.childNodes,function(fe){return fe.textContent}).join(`
`):j)),H};var Gc=/^(?:focusinfocus|focusoutblur)$/,Jo=function(j){j.stopPropagation()};d.extend(d.event,{trigger:function(j,H,oe,fe){var be,_e,Ae,Je,He,it,dt,vt,at=[oe||p],Pt=c.call(j,"type")?j.type:j,zt=c.call(j,"namespace")?j.namespace.split("."):[];if(_e=vt=Ae=oe=oe||p,!(oe.nodeType===3||oe.nodeType===8)&&!Gc.test(Pt+d.event.triggered)&&(Pt.indexOf(".")>-1&&(zt=Pt.split("."),Pt=zt.shift(),zt.sort()),He=Pt.indexOf(":")<0&&"on"+Pt,j=j[d.expando]?j:new d.Event(Pt,typeof j=="object"&&j),j.isTrigger=fe?2:3,j.namespace=zt.join("."),j.rnamespace=j.namespace?new RegExp("(^|\\.)"+zt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,j.result=void 0,j.target||(j.target=oe),H=H==null?[j]:d.makeArray(H,[j]),dt=d.event.special[Pt]||{},!(!fe&&dt.trigger&&dt.trigger.apply(oe,H)===!1))){if(!fe&&!dt.noBubble&&!v(oe)){for(Je=dt.delegateType||Pt,Gc.test(Je+Pt)||(_e=_e.parentNode);_e;_e=_e.parentNode)at.push(_e),Ae=_e;Ae===(oe.ownerDocument||p)&&at.push(Ae.defaultView||Ae.parentWindow||t)}for(be=0;(_e=at[be++])&&!j.isPropagationStopped();)vt=_e,j.type=be>1?Je:dt.bindType||Pt,it=(Xe.get(_e,"events")||Object.create(null))[j.type]&&Xe.get(_e,"handle"),it&&it.apply(_e,H),it=He&&_e[He],it&&it.apply&&ht(_e)&&(j.result=it.apply(_e,H),j.result===!1&&j.preventDefault());return j.type=Pt,!fe&&!j.isDefaultPrevented()&&(!dt._default||dt._default.apply(at.pop(),H)===!1)&&ht(oe)&&He&&_(oe[Pt])&&!v(oe)&&(Ae=oe[He],Ae&&(oe[He]=null),d.event.triggered=Pt,j.isPropagationStopped()&&vt.addEventListener(Pt,Jo),oe[Pt](),j.isPropagationStopped()&&vt.removeEventListener(Pt,Jo),d.event.triggered=void 0,Ae&&(oe[He]=Ae)),j.result}},simulate:function(j,H,oe){var fe=d.extend(new d.Event,oe,{type:j,isSimulated:!0});d.event.trigger(fe,null,H)}}),d.fn.extend({trigger:function(j,H){return this.each(function(){d.event.trigger(j,H,this)})},triggerHandler:function(j,H){var oe=this[0];if(oe)return d.event.trigger(j,H,oe,!0)}});var Kc=/\[\]$/,Xu=/\r?\n/g,ta=/^(?:submit|button|image|reset|file)$/i,El=/^(?:input|select|textarea|keygen)/i;function Jc(j,H,oe,fe){var be;if(Array.isArray(H))d.each(H,function(_e,Ae){oe||Kc.test(j)?fe(j,Ae):Jc(j+"["+(typeof Ae=="object"&&Ae!=null?_e:"")+"]",Ae,oe,fe)});else if(!oe&&S(H)==="object")for(be in H)Jc(j+"["+be+"]",H[be],oe,fe);else fe(j,H)}d.param=function(j,H){var oe,fe=[],be=function(_e,Ae){var Je=_(Ae)?Ae():Ae;fe[fe.length]=encodeURIComponent(_e)+"="+encodeURIComponent(Je??"")};if(j==null)return"";if(Array.isArray(j)||j.jquery&&!d.isPlainObject(j))d.each(j,function(){be(this.name,this.value)});else for(oe in j)Jc(oe,j[oe],H,be);return fe.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var j=d.prop(this,"elements");return j?d.makeArray(j):this}).filter(function(){var j=this.type;return this.name&&!d(this).is(":disabled")&&El.test(this.nodeName)&&!ta.test(j)&&(this.checked||!Rr.test(j))}).map(function(j,H){var oe=d(this).val();return oe==null?null:Array.isArray(oe)?d.map(oe,function(fe){return{name:H.name,value:fe.replace(Xu,`\r
`)}}):{name:H.name,value:oe.replace(Xu,`\r
`)}}).get()}});var Eg=/%20/g,Yc=/#.*$/,dp=/([?&])_=[^&]*/,hp=/^(.*?):[ \t]*([^\r\n]*)$/mg,pp=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,su=/^(?:GET|HEAD)$/,Rd=/^\/\//,$n={},cn={},Nd="*/".concat("*"),au=p.createElement("a");au.href=_l.href;function lu(j){return function(H,oe){typeof H!="string"&&(oe=H,H="*");var fe,be=0,_e=H.toLowerCase().match(xe)||[];if(_(oe))for(;fe=_e[be++];)fe[0]==="+"?(fe=fe.slice(1)||"*",(j[fe]=j[fe]||[]).unshift(oe)):(j[fe]=j[fe]||[]).push(oe)}}function Xc(j,H,oe,fe){var be={},_e=j===cn;function Ae(Je){var He;return be[Je]=!0,d.each(j[Je]||[],function(it,dt){var vt=dt(H,oe,fe);if(typeof vt=="string"&&!_e&&!be[vt])return H.dataTypes.unshift(vt),Ae(vt),!1;if(_e)return!(He=vt)}),He}return Ae(H.dataTypes[0])||!be["*"]&&Ae("*")}function Qc(j,H){var oe,fe,be=d.ajaxSettings.flatOptions||{};for(oe in H)H[oe]!==void 0&&((be[oe]?j:fe||(fe={}))[oe]=H[oe]);return fe&&d.extend(!0,j,fe),j}function Zc(j,H,oe){for(var fe,be,_e,Ae,Je=j.contents,He=j.dataTypes;He[0]==="*";)He.shift(),fe===void 0&&(fe=j.mimeType||H.getResponseHeader("Content-Type"));if(fe){for(be in Je)if(Je[be]&&Je[be].test(fe)){He.unshift(be);break}}if(He[0]in oe)_e=He[0];else{for(be in oe){if(!He[0]||j.converters[be+" "+He[0]]){_e=be;break}Ae||(Ae=be)}_e=_e||Ae}if(_e)return _e!==He[0]&&He.unshift(_e),oe[_e]}function ef(j,H,oe,fe){var be,_e,Ae,Je,He,it={},dt=j.dataTypes.slice();if(dt[1])for(Ae in j.converters)it[Ae.toLowerCase()]=j.converters[Ae];for(_e=dt.shift();_e;)if(j.responseFields[_e]&&(oe[j.responseFields[_e]]=H),!He&&fe&&j.dataFilter&&(H=j.dataFilter(H,j.dataType)),He=_e,_e=dt.shift(),_e){if(_e==="*")_e=He;else if(He!=="*"&&He!==_e){if(Ae=it[He+" "+_e]||it["* "+_e],!Ae){for(be in it)if(Je=be.split(" "),Je[1]===_e&&(Ae=it[He+" "+Je[0]]||it["* "+Je[0]],Ae)){Ae===!0?Ae=it[be]:it[be]!==!0&&(_e=Je[0],dt.unshift(Je[1]));break}}if(Ae!==!0)if(Ae&&j.throws)H=Ae(H);else try{H=Ae(H)}catch(vt){return{state:"parsererror",error:Ae?vt:"No conversion from "+He+" to "+_e}}}}return{state:"success",data:H}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_l.href,type:"GET",isLocal:pp.test(_l.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nd,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(j,H){return H?Qc(Qc(j,d.ajaxSettings),H):Qc(d.ajaxSettings,j)},ajaxPrefilter:lu($n),ajaxTransport:lu(cn),ajax:function(j,H){typeof j=="object"&&(H=j,j=void 0),H=H||{};var oe,fe,be,_e,Ae,Je,He,it,dt,vt,at=d.ajaxSetup({},H),Pt=at.context||at,zt=at.context&&(Pt.nodeType||Pt.jquery)?d(Pt):d.event,wr=d.Deferred(),pr=d.Callbacks("once memory"),wi=at.statusCode||{},Bn={},Ts={},$s="canceled",jr={readyState:0,getResponseHeader:function(Dr){var xn;if(He){if(!_e)for(_e={};xn=hp.exec(be);)_e[xn[1].toLowerCase()+" "]=(_e[xn[1].toLowerCase()+" "]||[]).concat(xn[2]);xn=_e[Dr.toLowerCase()+" "]}return xn==null?null:xn.join(", ")},getAllResponseHeaders:function(){return He?be:null},setRequestHeader:function(Dr,xn){return He==null&&(Dr=Ts[Dr.toLowerCase()]=Ts[Dr.toLowerCase()]||Dr,Bn[Dr]=xn),this},overrideMimeType:function(Dr){return He==null&&(at.mimeType=Dr),this},statusCode:function(Dr){var xn;if(Dr)if(He)jr.always(Dr[jr.status]);else for(xn in Dr)wi[xn]=[wi[xn],Dr[xn]];return this},abort:function(Dr){var xn=Dr||$s;return oe&&oe.abort(xn),ka(0,xn),this}};if(wr.promise(jr),at.url=((j||at.url||_l.href)+"").replace(Rd,_l.protocol+"//"),at.type=H.method||H.type||at.method||at.type,at.dataTypes=(at.dataType||"*").toLowerCase().match(xe)||[""],at.crossDomain==null){Je=p.createElement("a");try{Je.href=at.url,Je.href=Je.href,at.crossDomain=au.protocol+"//"+au.host!=Je.protocol+"//"+Je.host}catch{at.crossDomain=!0}}if(at.data&&at.processData&&typeof at.data!="string"&&(at.data=d.param(at.data,at.traditional)),Xc($n,at,H,jr),He)return jr;it=d.event&&at.global,it&&d.active++===0&&d.event.trigger("ajaxStart"),at.type=at.type.toUpperCase(),at.hasContent=!su.test(at.type),fe=at.url.replace(Yc,""),at.hasContent?at.data&&at.processData&&(at.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(at.data=at.data.replace(Eg,"+")):(vt=at.url.slice(fe.length),at.data&&(at.processData||typeof at.data=="string")&&(fe+=(ou.test(fe)?"&":"?")+at.data,delete at.data),at.cache===!1&&(fe=fe.replace(dp,"$1"),vt=(ou.test(fe)?"&":"?")+"_="+Yu.guid+++vt),at.url=fe+vt),at.ifModified&&(d.lastModified[fe]&&jr.setRequestHeader("If-Modified-Since",d.lastModified[fe]),d.etag[fe]&&jr.setRequestHeader("If-None-Match",d.etag[fe])),(at.data&&at.hasContent&&at.contentType!==!1||H.contentType)&&jr.setRequestHeader("Content-Type",at.contentType),jr.setRequestHeader("Accept",at.dataTypes[0]&&at.accepts[at.dataTypes[0]]?at.accepts[at.dataTypes[0]]+(at.dataTypes[0]!=="*"?", "+Nd+"; q=0.01":""):at.accepts["*"]);for(dt in at.headers)jr.setRequestHeader(dt,at.headers[dt]);if(at.beforeSend&&(at.beforeSend.call(Pt,jr,at)===!1||He))return jr.abort();if($s="abort",pr.add(at.complete),jr.done(at.success),jr.fail(at.error),oe=Xc(cn,at,H,jr),!oe)ka(-1,"No Transport");else{if(jr.readyState=1,it&&zt.trigger("ajaxSend",[jr,at]),He)return jr;at.async&&at.timeout>0&&(Ae=t.setTimeout(function(){jr.abort("timeout")},at.timeout));try{He=!1,oe.send(Bn,ka)}catch(Dr){if(He)throw Dr;ka(-1,Dr)}}function ka(Dr,xn,uu,di){var Vi,ja,to,ki,Hi,Un=xn;He||(He=!0,Ae&&t.clearTimeout(Ae),oe=void 0,be=di||"",jr.readyState=Dr>0?4:0,Vi=Dr>=200&&Dr<300||Dr===304,uu&&(ki=Zc(at,jr,uu)),!Vi&&d.inArray("script",at.dataTypes)>-1&&d.inArray("json",at.dataTypes)<0&&(at.converters["text script"]=function(){}),ki=ef(at,ki,jr,Vi),Vi?(at.ifModified&&(Hi=jr.getResponseHeader("Last-Modified"),Hi&&(d.lastModified[fe]=Hi),Hi=jr.getResponseHeader("etag"),Hi&&(d.etag[fe]=Hi)),Dr===204||at.type==="HEAD"?Un="nocontent":Dr===304?Un="notmodified":(Un=ki.state,ja=ki.data,to=ki.error,Vi=!to)):(to=Un,(Dr||!Un)&&(Un="error",Dr<0&&(Dr=0))),jr.status=Dr,jr.statusText=(xn||Un)+"",Vi?wr.resolveWith(Pt,[ja,Un,jr]):wr.rejectWith(Pt,[jr,Un,to]),jr.statusCode(wi),wi=void 0,it&&zt.trigger(Vi?"ajaxSuccess":"ajaxError",[jr,at,Vi?ja:to]),pr.fireWith(Pt,[jr,Un]),it&&(zt.trigger("ajaxComplete",[jr,at]),--d.active||d.event.trigger("ajaxStop")))}return jr},getJSON:function(j,H,oe){return d.get(j,H,oe,"json")},getScript:function(j,H){return d.get(j,void 0,H,"script")}}),d.each(["get","post"],function(j,H){d[H]=function(oe,fe,be,_e){return _(fe)&&(_e=_e||be,be=fe,fe=void 0),d.ajax(d.extend({url:oe,type:H,dataType:_e,data:fe,success:be},d.isPlainObject(oe)&&oe))}}),d.ajaxPrefilter(function(j){var H;for(H in j.headers)H.toLowerCase()==="content-type"&&(j.contentType=j.headers[H]||"")}),d._evalUrl=function(j,H,oe){return d.ajax({url:j,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(fe){d.globalEval(fe,H,oe)}})},d.fn.extend({wrapAll:function(j){var H;return this[0]&&(_(j)&&(j=j.call(this[0])),H=d(j,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&H.insertBefore(this[0]),H.map(function(){for(var oe=this;oe.firstElementChild;)oe=oe.firstElementChild;return oe}).append(this)),this},wrapInner:function(j){return _(j)?this.each(function(H){d(this).wrapInner(j.call(this,H))}):this.each(function(){var H=d(this),oe=H.contents();oe.length?oe.wrapAll(j):H.append(j)})},wrap:function(j){var H=_(j);return this.each(function(oe){d(this).wrapAll(H?j.call(this,oe):j)})},unwrap:function(j){return this.parent(j).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(j){return!d.expr.pseudos.visible(j)},d.expr.pseudos.visible=function(j){return!!(j.offsetWidth||j.offsetHeight||j.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Sl={0:200,1223:204},Dn=d.ajaxSettings.xhr();g.cors=!!Dn&&"withCredentials"in Dn,g.ajax=Dn=!!Dn,d.ajaxTransport(function(j){var H,oe;if(g.cors||Dn&&!j.crossDomain)return{send:function(fe,be){var _e,Ae=j.xhr();if(Ae.open(j.type,j.url,j.async,j.username,j.password),j.xhrFields)for(_e in j.xhrFields)Ae[_e]=j.xhrFields[_e];j.mimeType&&Ae.overrideMimeType&&Ae.overrideMimeType(j.mimeType),!j.crossDomain&&!fe["X-Requested-With"]&&(fe["X-Requested-With"]="XMLHttpRequest");for(_e in fe)Ae.setRequestHeader(_e,fe[_e]);H=function(Je){return function(){H&&(H=oe=Ae.onload=Ae.onerror=Ae.onabort=Ae.ontimeout=Ae.onreadystatechange=null,Je==="abort"?Ae.abort():Je==="error"?typeof Ae.status!="number"?be(0,"error"):be(Ae.status,Ae.statusText):be(Sl[Ae.status]||Ae.status,Ae.statusText,(Ae.responseType||"text")!=="text"||typeof Ae.responseText!="string"?{binary:Ae.response}:{text:Ae.responseText},Ae.getAllResponseHeaders()))}},Ae.onload=H(),oe=Ae.onerror=Ae.ontimeout=H("error"),Ae.onabort!==void 0?Ae.onabort=oe:Ae.onreadystatechange=function(){Ae.readyState===4&&t.setTimeout(function(){H&&oe()})},H=H("abort");try{Ae.send(j.hasContent&&j.data||null)}catch(Je){if(H)throw Je}},abort:function(){H&&H()}}}),d.ajaxPrefilter(function(j){j.crossDomain&&(j.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(j){return d.globalEval(j),j}}}),d.ajaxPrefilter("script",function(j){j.cache===void 0&&(j.cache=!1),j.crossDomain&&(j.type="GET")}),d.ajaxTransport("script",function(j){if(j.crossDomain||j.scriptAttrs){var H,oe;return{send:function(fe,be){H=d("<script>").attr(j.scriptAttrs||{}).prop({charset:j.scriptCharset,src:j.url}).on("load error",oe=function(_e){H.remove(),oe=null,_e&&be(_e.type==="error"?404:200,_e.type)}),p.head.appendChild(H[0])},abort:function(){oe&&oe()}}}});var Tl=[],Ss=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var j=Tl.pop()||d.expando+"_"+Yu.guid++;return this[j]=!0,j}}),d.ajaxPrefilter("json jsonp",function(j,H,oe){var fe,be,_e,Ae=j.jsonp!==!1&&(Ss.test(j.url)?"url":typeof j.data=="string"&&(j.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ss.test(j.data)&&"data");if(Ae||j.dataTypes[0]==="jsonp")return fe=j.jsonpCallback=_(j.jsonpCallback)?j.jsonpCallback():j.jsonpCallback,Ae?j[Ae]=j[Ae].replace(Ss,"$1"+fe):j.jsonp!==!1&&(j.url+=(ou.test(j.url)?"&":"?")+j.jsonp+"="+fe),j.converters["script json"]=function(){return _e||d.error(fe+" was not called"),_e[0]},j.dataTypes[0]="json",be=t[fe],t[fe]=function(){_e=arguments},oe.always(function(){be===void 0?d(t).removeProp(fe):t[fe]=be,j[fe]&&(j.jsonpCallback=H.jsonpCallback,Tl.push(fe)),_e&&_(be)&&be(_e[0]),_e=be=void 0}),"script"}),g.createHTMLDocument=function(){var j=p.implementation.createHTMLDocument("").body;return j.innerHTML="<form></form><form></form>",j.childNodes.length===2}(),d.parseHTML=function(j,H,oe){if(typeof j!="string")return[];typeof H=="boolean"&&(oe=H,H=!1);var fe,be,_e;return H||(g.createHTMLDocument?(H=p.implementation.createHTMLDocument(""),fe=H.createElement("base"),fe.href=p.location.href,H.head.appendChild(fe)):H=p),be=Y.exec(j),_e=!oe&&[],be?[H.createElement(be[1])]:(be=bt([j],H,_e),_e&&_e.length&&d(_e).remove(),d.merge([],be.childNodes))},d.fn.load=function(j,H,oe){var fe,be,_e,Ae=this,Je=j.indexOf(" ");return Je>-1&&(fe=ea(j.slice(Je)),j=j.slice(0,Je)),_(H)?(oe=H,H=void 0):H&&typeof H=="object"&&(be="POST"),Ae.length>0&&d.ajax({url:j,type:be||"GET",dataType:"html",data:H}).done(function(He){_e=arguments,Ae.html(fe?d("<div>").append(d.parseHTML(He)).find(fe):He)}).always(oe&&function(He,it){Ae.each(function(){oe.apply(this,_e||[He.responseText,it,He])})}),this},d.expr.pseudos.animated=function(j){return d.grep(d.timers,function(H){return j===H.elem}).length},d.offset={setOffset:function(j,H,oe){var fe,be,_e,Ae,Je,He,it,dt=d.css(j,"position"),vt=d(j),at={};dt==="static"&&(j.style.position="relative"),Je=vt.offset(),_e=d.css(j,"top"),He=d.css(j,"left"),it=(dt==="absolute"||dt==="fixed")&&(_e+He).indexOf("auto")>-1,it?(fe=vt.position(),Ae=fe.top,be=fe.left):(Ae=parseFloat(_e)||0,be=parseFloat(He)||0),_(H)&&(H=H.call(j,oe,d.extend({},Je))),H.top!=null&&(at.top=H.top-Je.top+Ae),H.left!=null&&(at.left=H.left-Je.left+be),"using"in H?H.using.call(j,at):vt.css(at)}},d.fn.extend({offset:function(j){if(arguments.length)return j===void 0?this:this.each(function(be){d.offset.setOffset(this,j,be)});var H,oe,fe=this[0];if(fe)return fe.getClientRects().length?(H=fe.getBoundingClientRect(),oe=fe.ownerDocument.defaultView,{top:H.top+oe.pageYOffset,left:H.left+oe.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var j,H,oe,fe=this[0],be={top:0,left:0};if(d.css(fe,"position")==="fixed")H=fe.getBoundingClientRect();else{for(H=this.offset(),oe=fe.ownerDocument,j=fe.offsetParent||oe.documentElement;j&&(j===oe.body||j===oe.documentElement)&&d.css(j,"position")==="static";)j=j.parentNode;j&&j!==fe&&j.nodeType===1&&(be=d(j).offset(),be.top+=d.css(j,"borderTopWidth",!0),be.left+=d.css(j,"borderLeftWidth",!0))}return{top:H.top-be.top-d.css(fe,"marginTop",!0),left:H.left-be.left-d.css(fe,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var j=this.offsetParent;j&&d.css(j,"position")==="static";)j=j.offsetParent;return j||Ye})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(j,H){var oe=H==="pageYOffset";d.fn[j]=function(fe){return ve(this,function(be,_e,Ae){var Je;if(v(be)?Je=be:be.nodeType===9&&(Je=be.defaultView),Ae===void 0)return Je?Je[H]:be[_e];Je?Je.scrollTo(oe?Je.pageXOffset:Ae,oe?Ae:Je.pageYOffset):be[_e]=Ae},j,fe,arguments.length)}}),d.each(["top","left"],function(j,H){d.cssHooks[H]=pn(g.pixelPosition,function(oe,fe){if(fe)return fe=Yt(oe,H),qt.test(fe)?d(oe).position()[H]+"px":fe})}),d.each({Height:"height",Width:"width"},function(j,H){d.each({padding:"inner"+j,content:H,"":"outer"+j},function(oe,fe){d.fn[fe]=function(be,_e){var Ae=arguments.length&&(oe||typeof be!="boolean"),Je=oe||(be===!0||_e===!0?"margin":"border");return ve(this,function(He,it,dt){var vt;return v(He)?fe.indexOf("outer")===0?He["inner"+j]:He.document.documentElement["client"+j]:He.nodeType===9?(vt=He.documentElement,Math.max(He.body["scroll"+j],vt["scroll"+j],He.body["offset"+j],vt["offset"+j],vt["client"+j])):dt===void 0?d.css(He,it,Je):d.style(He,it,dt,Je)},H,Ae?be:void 0,Ae)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(j,H){d.fn[H]=function(oe){return this.on(H,oe)}}),d.fn.extend({bind:function(j,H,oe){return this.on(j,null,H,oe)},unbind:function(j,H){return this.off(j,null,H)},delegate:function(j,H,oe,fe){return this.on(H,j,oe,fe)},undelegate:function(j,H,oe){return arguments.length===1?this.off(j,"**"):this.off(H,j||"**",oe)},hover:function(j,H){return this.on("mouseenter",j).on("mouseleave",H||j)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(j,H){d.fn[H]=function(oe,fe){return arguments.length>0?this.on(H,null,oe,fe):this.trigger(H)}});var tf=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(j,H){var oe,fe,be;if(typeof H=="string"&&(oe=j[H],H=j,j=oe),!!_(j))return fe=o.call(arguments,2),be=function(){return j.apply(H||this,fe.concat(o.call(arguments)))},be.guid=j.guid=j.guid||d.guid++,be},d.holdReady=function(j){j?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=O,d.isFunction=_,d.isWindow=v,d.camelCase=Ve,d.type=S,d.now=Date.now,d.isNumeric=function(j){var H=d.type(j);return(H==="number"||H==="string")&&!isNaN(j-parseFloat(j))},d.trim=function(j){return j==null?"":(j+"").replace(tf,"$1")};var rf=t.jQuery,qi=t.$;return d.noConflict=function(j){return t.$===d&&(t.$=qi),j&&t.jQuery===d&&(t.jQuery=rf),d},typeof r>"u"&&(t.jQuery=t.$=d),d})})(YY);var XY=YY.exports;const wn=Uc(XY);(function(e){(function(t){var r=typeof self=="object"&&self.self===self&&self||typeof Eo=="object"&&Eo.global===Eo&&Eo;{var n=u0e,i;try{i=XY}catch{}t(r,e,n,i)}})(function(t,r,n,i){var o=t.Backbone,s=Array.prototype.slice;r.VERSION="1.4.1",r.$=i,r.noConflict=function(){return t.Backbone=o,this},r.emulateHTTP=!1,r.emulateJSON=!1;var a=r.Events={},l=/\s+/,u,f=function(L,ee,ce,me,ve){var Te=0,De;if(ce&&typeof ce=="object")for(me!==void 0&&("context"in ve)&&ve.context===void 0&&(ve.context=me),De=n.keys(ce);Te<De.length;Te++)ee=f(L,ee,De[Te],ce[De[Te]],ve);else if(ce&&l.test(ce))for(De=ce.split(l);Te<De.length;Te++)ee=L(ee,De[Te],me,ve);else ee=L(ee,ce,me,ve);return ee};a.on=function(L,ee,ce){if(this._events=f(c,this._events||{},L,ee,{context:ce,ctx:this,listening:u}),u){var me=this._listeners||(this._listeners={});me[u.id]=u,u.interop=!1}return this},a.listenTo=function(L,ee,ce){if(!L)return this;var me=L._listenId||(L._listenId=n.uniqueId("l")),ve=this._listeningTo||(this._listeningTo={}),Te=u=ve[me];Te||(this._listenId||(this._listenId=n.uniqueId("l")),Te=u=ve[me]=new p(this,L));var De=h(L,ee,ce,this);if(u=void 0,De)throw De;return Te.interop&&Te.on(ee,ce),this};var c=function(L,ee,ce,me){if(ce){var ve=L[ee]||(L[ee]=[]),Te=me.context,De=me.ctx,Ge=me.listening;Ge&&Ge.count++,ve.push({callback:ce,context:Te,ctx:Te||De,listening:Ge})}return L},h=function(L,ee,ce,me){try{L.on(ee,ce,me)}catch(ve){return ve}};a.off=function(L,ee,ce){return this._events?(this._events=f(m,this._events,L,ee,{context:ce,listeners:this._listeners}),this):this},a.stopListening=function(L,ee,ce){var me=this._listeningTo;if(!me)return this;for(var ve=L?[L._listenId]:n.keys(me),Te=0;Te<ve.length;Te++){var De=me[ve[Te]];if(!De)break;De.obj.off(ee,ce,this),De.interop&&De.off(ee,ce)}return n.isEmpty(me)&&(this._listeningTo=void 0),this};var m=function(L,ee,ce,me){if(L){var ve=me.context,Te=me.listeners,De=0,Ge;if(!ee&&!ve&&!ce){for(Ge=n.keys(Te);De<Ge.length;De++)Te[Ge[De]].cleanup();return}for(Ge=ee?[ee]:n.keys(L);De<Ge.length;De++){ee=Ge[De];var Ve=L[ee];if(!Ve)break;for(var ht=[],tt=0;tt<Ve.length;tt++){var Xe=Ve[tt];if(ce&&ce!==Xe.callback&&ce!==Xe.callback._callback||ve&&ve!==Xe.context)ht.push(Xe);else{var Q=Xe.listening;Q&&Q.off(ee,ce)}}ht.length?L[ee]=ht:delete L[ee]}return L}};a.once=function(L,ee,ce){var me=f(g,{},L,ee,this.off.bind(this));return typeof L=="string"&&ce==null&&(ee=void 0),this.on(me,ee,ce)},a.listenToOnce=function(L,ee,ce){var me=f(g,{},ee,ce,this.stopListening.bind(this,L));return this.listenTo(L,me)};var g=function(L,ee,ce,me){if(ce){var ve=L[ee]=n.once(function(){me(ee,ve),ce.apply(this,arguments)});ve._callback=ce}return L};a.trigger=function(L){if(!this._events)return this;for(var ee=Math.max(0,arguments.length-1),ce=Array(ee),me=0;me<ee;me++)ce[me]=arguments[me+1];return f(_,this._events,L,void 0,ce),this};var _=function(L,ee,ce,me){if(L){var ve=L[ee],Te=L.all;ve&&Te&&(Te=Te.slice()),ve&&v(ve,me),Te&&v(Te,[ee].concat(me))}return L},v=function(L,ee){var ce,me=-1,ve=L.length,Te=ee[0],De=ee[1],Ge=ee[2];switch(ee.length){case 0:for(;++me<ve;)(ce=L[me]).callback.call(ce.ctx);return;case 1:for(;++me<ve;)(ce=L[me]).callback.call(ce.ctx,Te);return;case 2:for(;++me<ve;)(ce=L[me]).callback.call(ce.ctx,Te,De);return;case 3:for(;++me<ve;)(ce=L[me]).callback.call(ce.ctx,Te,De,Ge);return;default:for(;++me<ve;)(ce=L[me]).callback.apply(ce.ctx,ee);return}},p=function(L,ee){this.id=L._listenId,this.listener=L,this.obj=ee,this.interop=!0,this.count=0,this._events=void 0};p.prototype.on=a.on,p.prototype.off=function(L,ee){var ce;this.interop?(this._events=f(m,this._events,L,ee,{context:void 0,listeners:void 0}),ce=!this._events):(this.count--,ce=this.count===0),ce&&this.cleanup()},p.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(r,a);var E=r.Model=function(L,ee){var ce=L||{};ee||(ee={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},ee.collection&&(this.collection=ee.collection),ee.parse&&(ce=this.parse(ce,ee)||{});var me=n.result(this,"defaults");ce=n.defaults(n.extend({},me,ce),me),this.set(ce,ee),this.changed={},this.initialize.apply(this,arguments)};n.extend(E.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(L){return n.clone(this.attributes)},sync:function(){return r.sync.apply(this,arguments)},get:function(L){return this.attributes[L]},escape:function(L){return n.escape(this.get(L))},has:function(L){return this.get(L)!=null},matches:function(L){return!!n.iteratee(L,this)(this.attributes)},set:function(L,ee,ce){if(L==null)return this;var me;if(typeof L=="object"?(me=L,ce=ee):(me={})[L]=ee,ce||(ce={}),!this._validate(me,ce))return!1;var ve=ce.unset,Te=ce.silent,De=[],Ge=this._changing;this._changing=!0,Ge||(this._previousAttributes=n.clone(this.attributes),this.changed={});var Ve=this.attributes,ht=this.changed,tt=this._previousAttributes;for(var Xe in me)ee=me[Xe],n.isEqual(Ve[Xe],ee)||De.push(Xe),n.isEqual(tt[Xe],ee)?delete ht[Xe]:ht[Xe]=ee,ve?delete Ve[Xe]:Ve[Xe]=ee;if(this.idAttribute in me){var Q=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,Q,ce)}if(!Te){De.length&&(this._pending=ce);for(var k=0;k<De.length;k++)this.trigger("change:"+De[k],this,Ve[De[k]],ce)}if(Ge)return this;if(!Te)for(;this._pending;)ce=this._pending,this._pending=!1,this.trigger("change",this,ce);return this._pending=!1,this._changing=!1,this},unset:function(L,ee){return this.set(L,void 0,n.extend({},ee,{unset:!0}))},clear:function(L){var ee={};for(var ce in this.attributes)ee[ce]=void 0;return this.set(ee,n.extend({},L,{unset:!0}))},hasChanged:function(L){return L==null?!n.isEmpty(this.changed):n.has(this.changed,L)},changedAttributes:function(L){if(!L)return this.hasChanged()?n.clone(this.changed):!1;var ee=this._changing?this._previousAttributes:this.attributes,ce={},me;for(var ve in L){var Te=L[ve];n.isEqual(ee[ve],Te)||(ce[ve]=Te,me=!0)}return me?ce:!1},previous:function(L){return L==null||!this._previousAttributes?null:this._previousAttributes[L]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(L){L=n.extend({parse:!0},L);var ee=this,ce=L.success;return L.success=function(me){var ve=L.parse?ee.parse(me,L):me;if(!ee.set(ve,L))return!1;ce&&ce.call(L.context,ee,me,L),ee.trigger("sync",ee,me,L)},F(this,L),this.sync("read",this,L)},save:function(L,ee,ce){var me;L==null||typeof L=="object"?(me=L,ce=ee):(me={})[L]=ee,ce=n.extend({validate:!0,parse:!0},ce);var ve=ce.wait;if(me&&!ve){if(!this.set(me,ce))return!1}else if(!this._validate(me,ce))return!1;var Te=this,De=ce.success,Ge=this.attributes;ce.success=function(tt){Te.attributes=Ge;var Xe=ce.parse?Te.parse(tt,ce):tt;if(ve&&(Xe=n.extend({},me,Xe)),Xe&&!Te.set(Xe,ce))return!1;De&&De.call(ce.context,Te,tt,ce),Te.trigger("sync",Te,tt,ce)},F(this,ce),me&&ve&&(this.attributes=n.extend({},Ge,me));var Ve=this.isNew()?"create":ce.patch?"patch":"update";Ve==="patch"&&!ce.attrs&&(ce.attrs=me);var ht=this.sync(Ve,this,ce);return this.attributes=Ge,ht},destroy:function(L){L=L?n.clone(L):{};var ee=this,ce=L.success,me=L.wait,ve=function(){ee.stopListening(),ee.trigger("destroy",ee,ee.collection,L)};L.success=function(De){me&&ve(),ce&&ce.call(L.context,ee,De,L),ee.isNew()||ee.trigger("sync",ee,De,L)};var Te=!1;return this.isNew()?n.defer(L.success):(F(this,L),Te=this.sync("delete",this,L)),me||ve(),Te},url:function(){var L=n.result(this,"urlRoot")||n.result(this.collection,"url")||C();if(this.isNew())return L;var ee=this.get(this.idAttribute);return L.replace(/[^\/]$/,"$&/")+encodeURIComponent(ee)},parse:function(L,ee){return L},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(L){return this._validate({},n.extend({},L,{validate:!0}))},_validate:function(L,ee){if(!ee.validate||!this.validate)return!0;L=n.extend({},this.attributes,L);var ce=this.validationError=this.validate(L,ee)||null;return ce?(this.trigger("invalid",this,ce,n.extend(ee,{validationError:ce})),!1):!0}});var y=r.Collection=function(L,ee){ee||(ee={}),this.preinitialize.apply(this,arguments),ee.model&&(this.model=ee.model),ee.comparator!==void 0&&(this.comparator=ee.comparator),this._reset(),this.initialize.apply(this,arguments),L&&this.reset(L,n.extend({silent:!0},ee))},S={add:!0,remove:!0,merge:!0},T={add:!0,remove:!1},$=function(L,ee,ce){ce=Math.min(Math.max(ce,0),L.length);var me=Array(L.length-ce),ve=ee.length,Te;for(Te=0;Te<me.length;Te++)me[Te]=L[Te+ce];for(Te=0;Te<ve;Te++)L[Te+ce]=ee[Te];for(Te=0;Te<me.length;Te++)L[Te+ve+ce]=me[Te]};n.extend(y.prototype,a,{model:E,preinitialize:function(){},initialize:function(){},toJSON:function(L){return this.map(function(ee){return ee.toJSON(L)})},sync:function(){return r.sync.apply(this,arguments)},add:function(L,ee){return this.set(L,n.extend({merge:!1},ee,T))},remove:function(L,ee){ee=n.extend({},ee);var ce=!n.isArray(L);L=ce?[L]:L.slice();var me=this._removeModels(L,ee);return!ee.silent&&me.length&&(ee.changes={added:[],merged:[],removed:me},this.trigger("update",this,ee)),ce?me[0]:me},set:function(L,ee){if(L!=null){ee=n.extend({},S,ee),ee.parse&&!this._isModel(L)&&(L=this.parse(L,ee)||[]);var ce=!n.isArray(L);L=ce?[L]:L.slice();var me=ee.at;me!=null&&(me=+me),me>this.length&&(me=this.length),me<0&&(me+=this.length+1);var ve=[],Te=[],De=[],Ge=[],Ve={},ht=ee.add,tt=ee.merge,Xe=ee.remove,Q=!1,k=this.comparator&&me==null&&ee.sort!==!1,B=n.isString(this.comparator)?this.comparator:null,le,Ee;for(Ee=0;Ee<L.length;Ee++){le=L[Ee];var Pe=this.get(le);if(Pe){if(tt&&le!==Pe){var qe=this._isModel(le)?le.attributes:le;ee.parse&&(qe=Pe.parse(qe,ee)),Pe.set(qe,ee),De.push(Pe),k&&!Q&&(Q=Pe.hasChanged(B))}Ve[Pe.cid]||(Ve[Pe.cid]=!0,ve.push(Pe)),L[Ee]=Pe}else ht&&(le=L[Ee]=this._prepareModel(le,ee),le&&(Te.push(le),this._addReference(le,ee),Ve[le.cid]=!0,ve.push(le)))}if(Xe){for(Ee=0;Ee<this.length;Ee++)le=this.models[Ee],Ve[le.cid]||Ge.push(le);Ge.length&&this._removeModels(Ge,ee)}var Be=!1,Ye=!k&&ht&&Xe;if(ve.length&&Ye?(Be=this.length!==ve.length||n.some(this.models,function(gt,Ot){return gt!==ve[Ot]}),this.models.length=0,$(this.models,ve,0),this.length=this.models.length):Te.length&&(k&&(Q=!0),$(this.models,Te,me??this.length),this.length=this.models.length),Q&&this.sort({silent:!0}),!ee.silent){for(Ee=0;Ee<Te.length;Ee++)me!=null&&(ee.index=me+Ee),le=Te[Ee],le.trigger("add",le,this,ee);(Q||Be)&&this.trigger("sort",this,ee),(Te.length||Ge.length||De.length)&&(ee.changes={added:Te,removed:Ge,merged:De},this.trigger("update",this,ee))}return ce?L[0]:L}},reset:function(L,ee){ee=ee?n.clone(ee):{};for(var ce=0;ce<this.models.length;ce++)this._removeReference(this.models[ce],ee);return ee.previousModels=this.models,this._reset(),L=this.add(L,n.extend({silent:!0},ee)),ee.silent||this.trigger("reset",this,ee),L},push:function(L,ee){return this.add(L,n.extend({at:this.length},ee))},pop:function(L){var ee=this.at(this.length-1);return this.remove(ee,L)},unshift:function(L,ee){return this.add(L,n.extend({at:0},ee))},shift:function(L){var ee=this.at(0);return this.remove(ee,L)},slice:function(){return s.apply(this.models,arguments)},get:function(L){if(L!=null)return this._byId[L]||this._byId[this.modelId(this._isModel(L)?L.attributes:L,L.idAttribute)]||L.cid&&this._byId[L.cid]},has:function(L){return this.get(L)!=null},at:function(L){return L<0&&(L+=this.length),this.models[L]},where:function(L,ee){return this[ee?"find":"filter"](L)},findWhere:function(L){return this.where(L,!0)},sort:function(L){var ee=this.comparator;if(!ee)throw new Error("Cannot sort a set without a comparator");L||(L={});var ce=ee.length;return n.isFunction(ee)&&(ee=ee.bind(this)),ce===1||n.isString(ee)?this.models=this.sortBy(ee):this.models.sort(ee),L.silent||this.trigger("sort",this,L),this},pluck:function(L){return this.map(L+"")},fetch:function(L){L=n.extend({parse:!0},L);var ee=L.success,ce=this;return L.success=function(me){var ve=L.reset?"reset":"set";ce[ve](me,L),ee&&ee.call(L.context,ce,me,L),ce.trigger("sync",ce,me,L)},F(this,L),this.sync("read",this,L)},create:function(L,ee){ee=ee?n.clone(ee):{};var ce=ee.wait;if(L=this._prepareModel(L,ee),!L)return!1;ce||this.add(L,ee);var me=this,ve=ee.success;return ee.success=function(Te,De,Ge){ce&&me.add(Te,Ge),ve&&ve.call(Ge.context,Te,De,Ge)},L.save(null,ee),L},parse:function(L,ee){return L},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(L,ee){return L[ee||this.model.prototype.idAttribute||"id"]},values:function(){return new x(this,O)},keys:function(){return new x(this,P)},entries:function(){return new x(this,M)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(L,ee){if(this._isModel(L))return L.collection||(L.collection=this),L;ee=ee?n.clone(ee):{},ee.collection=this;var ce;return this.model.prototype?ce=new this.model(L,ee):ce=this.model(L,ee),ce.validationError?(this.trigger("invalid",this,ce.validationError,ee),!1):ce},_removeModels:function(L,ee){for(var ce=[],me=0;me<L.length;me++){var ve=this.get(L[me]);if(ve){var Te=this.indexOf(ve);this.models.splice(Te,1),this.length--,delete this._byId[ve.cid];var De=this.modelId(ve.attributes,ve.idAttribute);De!=null&&delete this._byId[De],ee.silent||(ee.index=Te,ve.trigger("remove",ve,this,ee)),ce.push(ve),this._removeReference(ve,ee)}}return ce},_isModel:function(L){return L instanceof E},_addReference:function(L,ee){this._byId[L.cid]=L;var ce=this.modelId(L.attributes,L.idAttribute);ce!=null&&(this._byId[ce]=L),L.on("all",this._onModelEvent,this)},_removeReference:function(L,ee){delete this._byId[L.cid];var ce=this.modelId(L.attributes,L.idAttribute);ce!=null&&delete this._byId[ce],this===L.collection&&delete L.collection,L.off("all",this._onModelEvent,this)},_onModelEvent:function(L,ee,ce,me){if(ee){if((L==="add"||L==="remove")&&ce!==this)return;if(L==="destroy"&&this.remove(ee,me),L==="changeId"){var ve=this.modelId(ee.previousAttributes(),ee.idAttribute),Te=this.modelId(ee.attributes,ee.idAttribute);ve!=null&&delete this._byId[ve],Te!=null&&(this._byId[Te]=ee)}}this.trigger.apply(this,arguments)}});var d=typeof Symbol=="function"&&Symbol.iterator;d&&(y.prototype[d]=y.prototype.values);var x=function(L,ee){this._collection=L,this._kind=ee,this._index=0},O=1,P=2,M=3;d&&(x.prototype[d]=function(){return this}),x.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var L=this._collection.at(this._index);this._index++;var ee;if(this._kind===O)ee=L;else{var ce=this._collection.modelId(L.attributes,L.idAttribute);this._kind===P?ee=ce:ee=[ce,L]}return{value:ee,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var U=r.View=function(L){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(L,ie)),this._ensureElement(),this.initialize.apply(this,arguments)},K=/^(\S+)\s*(.*)$/,ie=["model","collection","el","id","attributes","className","tagName","events"];n.extend(U.prototype,a,{tagName:"div",$:function(L){return this.$el.find(L)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(L){return this.undelegateEvents(),this._setElement(L),this.delegateEvents(),this},_setElement:function(L){this.$el=L instanceof r.$?L:r.$(L),this.el=this.$el[0]},delegateEvents:function(L){if(L||(L=n.result(this,"events")),!L)return this;this.undelegateEvents();for(var ee in L){var ce=L[ee];if(n.isFunction(ce)||(ce=this[ce]),!!ce){var me=ee.match(K);this.delegate(me[1],me[2],ce.bind(this))}}return this},delegate:function(L,ee,ce){return this.$el.on(L+".delegateEvents"+this.cid,ee,ce),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(L,ee,ce){return this.$el.off(L+".delegateEvents"+this.cid,ee,ce),this},_createElement:function(L){return document.createElement(L)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var L=n.extend({},n.result(this,"attributes"));this.id&&(L.id=n.result(this,"id")),this.className&&(L.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(L)}},_setAttributes:function(L){this.$el.attr(L)}});var G=function(L,ee,ce,me){switch(ee){case 1:return function(){return L[ce](this[me])};case 2:return function(ve){return L[ce](this[me],ve)};case 3:return function(ve,Te){return L[ce](this[me],ge(ve,this),Te)};case 4:return function(ve,Te,De){return L[ce](this[me],ge(ve,this),Te,De)};default:return function(){var ve=s.call(arguments);return ve.unshift(this[me]),L[ce].apply(L,ve)}}},ne=function(L,ee,ce,me){n.each(ce,function(ve,Te){ee[Te]&&(L.prototype[Te]=G(ee,ve,Te,me))})},ge=function(L,ee){return n.isFunction(L)?L:n.isObject(L)&&!ee._isModel(L)?re(L):n.isString(L)?function(ce){return ce.get(L)}:L},re=function(L){var ee=n.matches(L);return function(ce){return ee(ce.attributes)}},se={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},D={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[y,se,"models"],[E,D,"attributes"]],function(L){var ee=L[0],ce=L[1],me=L[2];ee.mixin=function(ve){var Te=n.reduce(n.functions(ve),function(De,Ge){return De[Ge]=0,De},{});ne(ee,ve,Te,me)},ne(ee,n,ce,me)}),r.sync=function(L,ee,ce){var me=z[L];n.defaults(ce||(ce={}),{emulateHTTP:r.emulateHTTP,emulateJSON:r.emulateJSON});var ve={type:me,dataType:"json"};if(ce.url||(ve.url=n.result(ee,"url")||C()),ce.data==null&&ee&&(L==="create"||L==="update"||L==="patch")&&(ve.contentType="application/json",ve.data=JSON.stringify(ce.attrs||ee.toJSON(ce))),ce.emulateJSON&&(ve.contentType="application/x-www-form-urlencoded",ve.data=ve.data?{model:ve.data}:{}),ce.emulateHTTP&&(me==="PUT"||me==="DELETE"||me==="PATCH")){ve.type="POST",ce.emulateJSON&&(ve.data._method=me);var Te=ce.beforeSend;ce.beforeSend=function(Ve){if(Ve.setRequestHeader("X-HTTP-Method-Override",me),Te)return Te.apply(this,arguments)}}ve.type!=="GET"&&!ce.emulateJSON&&(ve.processData=!1);var De=ce.error;ce.error=function(Ve,ht,tt){ce.textStatus=ht,ce.errorThrown=tt,De&&De.call(ce.context,Ve,ht,tt)};var Ge=ce.xhr=r.ajax(n.extend(ve,ce));return ee.trigger("request",ee,Ge,ce),Ge};var z={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};r.ajax=function(){return r.$.ajax.apply(r.$,arguments)};var Y=r.Router=function(L){L||(L={}),this.preinitialize.apply(this,arguments),L.routes&&(this.routes=L.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},N=/\((.*?)\)/g,I=/(\(\?)?:\w+/g,q=/\*\w+/g,ae=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(Y.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(L,ee,ce){n.isRegExp(L)||(L=this._routeToRegExp(L)),n.isFunction(ee)&&(ce=ee,ee=""),ce||(ce=this[ee]);var me=this;return r.history.route(L,function(ve){var Te=me._extractParameters(L,ve);me.execute(ce,Te,ee)!==!1&&(me.trigger.apply(me,["route:"+ee].concat(Te)),me.trigger("route",ee,Te),r.history.trigger("route",me,ee,Te))}),this},execute:function(L,ee,ce){L&&L.apply(this,ee)},navigate:function(L,ee){return r.history.navigate(L,ee),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var L,ee=n.keys(this.routes);(L=ee.pop())!=null;)this.route(L,this.routes[L])}},_routeToRegExp:function(L){return L=L.replace(ae,"\\$&").replace(N,"(?:$1)?").replace(I,function(ee,ce){return ce?ee:"([^/?]+)"}).replace(q,"([^?]*?)"),new RegExp("^"+L+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(L,ee){var ce=L.exec(ee).slice(1);return n.map(ce,function(me,ve){return ve===ce.length-1?me||null:me?decodeURIComponent(me):null})}});var Z=r.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},te=/^[#\/]|\s+$/g,ue=/^\/+|\/+$/g,xe=/#.*$/;Z.started=!1,n.extend(Z.prototype,a,{interval:50,atRoot:function(){var L=this.location.pathname.replace(/[^\/]$/,"$&/");return L===this.root&&!this.getSearch()},matchRoot:function(){var L=this.decodeFragment(this.location.pathname),ee=L.slice(0,this.root.length-1)+"/";return ee===this.root},decodeFragment:function(L){return decodeURI(L.replace(/%25/g,"%2525"))},getSearch:function(){var L=this.location.href.replace(/#.*/,"").match(/\?.+/);return L?L[0]:""},getHash:function(L){var ee=(L||this).location.href.match(/#(.*)$/);return ee?ee[1]:""},getPath:function(){var L=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return L.charAt(0)==="/"?L.slice(1):L},getFragment:function(L){return L==null&&(this._usePushState||!this._wantsHashChange?L=this.getPath():L=this.getHash()),L.replace(te,"")},start:function(L){if(Z.started)throw new Error("Backbone.history has already been started");if(Z.started=!0,this.options=n.extend({root:"/"},this.options,L),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(ue,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var ee=this.root.slice(0,-1)||"/";return this.location.replace(ee+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var ce=document.body,me=ce.insertBefore(this.iframe,ce.firstChild).contentWindow;me.document.open(),me.document.close(),me.location.hash="#"+this.fragment}var ve=window.addEventListener||function(Te,De){return attachEvent("on"+Te,De)};if(this._usePushState?ve("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?ve("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var L=window.removeEventListener||function(ee,ce){return detachEvent("on"+ee,ce)};this._usePushState?L("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&L("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Z.started=!1},route:function(L,ee){this.handlers.unshift({route:L,callback:ee})},checkUrl:function(L){var ee=this.getFragment();if(ee===this.fragment&&this.iframe&&(ee=this.getHash(this.iframe.contentWindow)),ee===this.fragment)return!1;this.iframe&&this.navigate(ee),this.loadUrl()},loadUrl:function(L){return this.matchRoot()?(L=this.fragment=this.getFragment(L),n.some(this.handlers,function(ee){if(ee.route.test(L))return ee.callback(L),!0})):!1},navigate:function(L,ee){if(!Z.started)return!1;(!ee||ee===!0)&&(ee={trigger:!!ee}),L=this.getFragment(L||"");var ce=this.root;(L===""||L.charAt(0)==="?")&&(ce=ce.slice(0,-1)||"/");var me=ce+L;L=L.replace(xe,"");var ve=this.decodeFragment(L);if(this.fragment!==ve){if(this.fragment=ve,this._usePushState)this.history[ee.replace?"replaceState":"pushState"]({},document.title,me);else if(this._wantsHashChange){if(this._updateHash(this.location,L,ee.replace),this.iframe&&L!==this.getHash(this.iframe.contentWindow)){var Te=this.iframe.contentWindow;ee.replace||(Te.document.open(),Te.document.close()),this._updateHash(Te.location,L,ee.replace)}}else return this.location.assign(me);if(ee.trigger)return this.loadUrl(L)}},_updateHash:function(L,ee,ce){if(ce){var me=L.href.replace(/(javascript:|#).*$/,"");L.replace(me+"#"+ee)}else L.hash="#"+ee}}),r.history=new Z;var Le=function(L,ee){var ce=this,me;return L&&n.has(L,"constructor")?me=L.constructor:me=function(){return ce.apply(this,arguments)},n.extend(me,ce,ee),me.prototype=n.create(ce.prototype,L),me.prototype.constructor=me,me.__super__=ce.prototype,me};E.extend=y.extend=Y.extend=U.extend=Z.extend=Le;var C=function(){throw new Error('A "url" property or function must be specified')},F=function(L,ee){var ce=ee.error;ee.error=function(me){ce&&ce.call(ee.context,L,me,ee),L.trigger("error",L,me,ee)}};return r})})(SJ);const Fo=Uc(SJ),wt=function(){var e=typeof window=="object"&&!!window.SVGAngle;if(!e)return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},r="1.1",n=Math,i=n.PI,o=n.atan2,s=n.sqrt,a=n.min,l=n.max,u=n.cos,f=n.sin,c=function(d,x,O){if(!(this instanceof c))return c.apply(Object.create(c.prototype),arguments);if(d){if(c.isV(d)&&(d=d.node),x=x||{},c.isString(d)){if(d=d.trim(),d.toLowerCase()==="svg")d=c.createSvgDocument();else if(d[0]==="<"){var P=c.createSvgDocument(d);if(P.childNodes.length>1){var M=[],U,K;for(U=0,K=P.childNodes.length;U<K;U++){var ie=P.childNodes[U];M.push(new c(document.importNode(ie,!0)))}return M}d=document.importNode(P.firstChild,!0)}else d=document.createElementNS(t.svg,d);c.ensureId(d)}return this.node=d,this.setAttributes(x),O&&this.append(O),this}},h=c.prototype;Object.defineProperty(h,"id",{enumerable:!0,get:function(){return this.node.id},set:function(d){this.node.id=d}}),h.getTransformToElement=function(d){var x=this.node;if(c.isSVGGraphicsElement(d)&&c.isSVGGraphicsElement(x)){var O=c.toNode(d).getScreenCTM(),P=x.getScreenCTM();if(O&&P)return O.inverse().multiply(P)}return c.createSVGMatrix()},h.transform=function(d,x){var O=this.node;if(c.isUndefined(d))return c.transformStringToMatrix(this.attr("transform"));if(x&&x.absolute)return this.attr("transform",c.matrixToTransformString(d));var P=c.createSVGTransform(d);return O.transform.baseVal.appendItem(P),this},h.translate=function(d,x,O){O=O||{},x=x||0;var P=this.attr("transform")||"",M=c.parseTransformString(P);if(P=M.value,c.isUndefined(d))return M.translate;P=P.replace(/translate\([^)]*\)/g,"").trim();var U=O.absolute?d:M.translate.tx+d,K=O.absolute?x:M.translate.ty+x,ie="translate("+U+","+K+")";return this.attr("transform",(ie+" "+P).trim()),this},h.rotate=function(d,x,O,P){P=P||{};var M=this.attr("transform")||"",U=c.parseTransformString(M);if(M=U.value,c.isUndefined(d))return U.rotate;M=M.replace(/rotate\([^)]*\)/g,"").trim(),d%=360;var K=P.absolute?d:U.rotate.angle+d,ie=x!==void 0&&O!==void 0?","+x+","+O:"",G="rotate("+K+ie+")";return this.attr("transform",(M+" "+G).trim()),this},h.scale=function(d,x){x=c.isUndefined(x)?d:x;var O=this.attr("transform")||"",P=c.parseTransformString(O);if(O=P.value,c.isUndefined(d))return P.scale;O=O.replace(/scale\([^)]*\)/g,"").trim();var M="scale("+d+","+x+")";return this.attr("transform",(O+" "+M).trim()),this},h.bbox=function(d,x){var O,P=this.node,M=P.ownerSVGElement;if(!M)return new Vt(0,0,0,0);try{O=P.getBBox()}catch{O={x:P.clientLeft,y:P.clientTop,width:P.clientWidth,height:P.clientHeight}}if(d)return new Vt(O);var U=this.getTransformToElement(x||M);return c.transformRect(O,U)},h.getBBox=function(d){var x={},O,P=this.node,M=P.ownerSVGElement;if(!M||!c.isSVGGraphicsElement(P))return new Vt(0,0,0,0);if(d&&(d.target&&(x.target=c.toNode(d.target)),d.recursive&&(x.recursive=d.recursive)),x.recursive){var K=this.children(),ie=K.length;if(ie===0)return this.getBBox({target:x.target,recursive:!1});x.target||(x.target=this);for(var G=0;G<ie;G++){var ne=K[G],ge;ne.children().length===0?ge=ne.getBBox({target:x.target,recursive:!1}):ge=ne.getBBox({target:x.target,recursive:!0}),O?O=O.union(ge):O=ge}return O}else{try{O=P.getBBox()}catch{O={x:P.clientLeft,y:P.clientTop,width:P.clientWidth,height:P.clientHeight}}if(x.target){var U=this.getTransformToElement(x.target);return c.transformRect(O,U)}else return new Vt(O)}};function m(d,x){d||(d={});var O=c("textPath"),P=d.d;if(P&&d["xlink:href"]===void 0){var M=c("path").attr("d",P).appendTo(x.defs());O.attr("xlink:href","#"+M.id)}return c.isObject(d)&&O.attr(d),O.node}function g(d,x,O){O||(O={});for(var P=O.includeAnnotationIndices,M=O.eol,U=O.lineHeight,K=O.baseSize,ie=0,G={},ne=x.length-1,ge=0;ge<=ne;ge++){var re=x[ge],se=null;if(c.isObject(re)){var D=re.attrs,z=c("tspan",D),Y=z.node,N=re.t;M&&ge===ne&&(N+=M),Y.textContent=N;var I=D.class;I&&z.addClass(I),P&&z.attr("annotations",re.annotations),se=parseFloat(D["font-size"]),isFinite(se)||(se=K),se&&se>ie&&(ie=se)}else M&&ge===ne&&(re+=M),Y=document.createTextNode(re||" "),K&&K>ie&&(ie=K);d.appendChild(Y)}return ie&&(G.maxFontSize=ie),U?G.lineHeight=U:ie&&(G.lineHeight=ie*1.2),G}var _=/em$/;function v(d,x){var O=parseFloat(d);return _.test(d)?O*x:O}function p(d,x,O,P){if(!Array.isArray(x))return 0;var M=x.length;if(!M)return 0;for(var U=x[0],K=v(U.maxFontSize,O)||O,ie=0,G=v(P,O),ne=1;ne<M;ne++){U=x[ne];var ge=v(U.lineHeight,O)||G;ie+=ge}var re=v(U.maxFontSize,O)||O,se;switch(d){case"middle":se=K/2-.15*re-ie/2;break;case"bottom":se=-(.25*re)-ie;break;default:case"top":se=.8*K;break}return se}h.text=function(d,x){if(d&&typeof d!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");d=c.sanitizeText(d),x||(x={});var O=x.displayEmpty,P=x.eol,M=x.textPath,U=x.textVerticalAnchor,K=U==="middle"||U==="bottom"||U==="top",ie=x.x;ie===void 0&&(ie=this.attr("x")||0);var G=x.includeAnnotationIndices,ne=x.annotations;ne&&!c.isArray(ne)&&(ne=[ne]);var ge=x.lineHeight,re=ge==="auto",se=re?"1.5em":ge||"1em";this.empty(),this.attr({"xml:space":"preserve",display:d||O?null:"none"});var D=parseFloat(this.attr("font-size"));D||(D=16,(K||ne)&&this.attr("font-size",D));var z=document,Y;M?(typeof M=="string"&&(M={d:M}),Y=m(M,this)):Y=z.createDocumentFragment();for(var N=0,I=d.split(`
`),q=[],ae,Z=0,te=I.length-1;Z<=te;Z++){var ue=se,xe="v-line",Le=z.createElementNS(t.svg,"tspan"),C=I[Z],F;if(C)if(ne){var L=c.annotateString(C,ne,{offset:-N,includeAnnotationIndices:G});F=g(Le,L,{includeAnnotationIndices:G,eol:Z!==te&&P,lineHeight:re?null:se,baseSize:D});var ee=F.lineHeight;ee&&re&&Z!==0&&(ue=ee),Z===0&&(ae=F.maxFontSize*.8)}else P&&Z!==te&&(C+=P),Le.textContent=C;else{Le.textContent="-",xe+=" v-empty-line";var ce=Le.style;if(ce.fillOpacity=0,ce.strokeOpacity=0,ne){F={},L=c.findAnnotationsAtIndex(ne,N);let ve=D;for(let Te=L.length;Te>0;Te--){const De=L[Te-1].attrs;if(!De||!("font-size"in De))continue;const Ge=parseFloat(De["font-size"]);if(isFinite(Ge)){ve=Ge;break}}re&&(Z>0?ue=ve*1.2:ae=ve*.8),Le.setAttribute("font-size",ve),F.maxFontSize=ve}}F&&q.push(F),Z>0&&Le.setAttribute("dy",ue),(Z>0||M)&&Le.setAttribute("x",ie),Le.className.baseVal=xe,Y.appendChild(Le),N+=C.length+1}if(K)if(ne)ue=p(U,q,D,se);else if(U==="top")ue="0.8em";else{var me;switch(te>0?(me=parseFloat(se)||1,me*=te,_.test(se)||(me/=D)):me=0,U){case"middle":ue=.3-me/2+"em";break;case"bottom":ue=-me-.3+"em";break}}else U===0?ue="0em":U?ue=U:(ue=0,this.attr("y")===null&&this.attr("y",ae||"0.8em"));return Y.firstChild.setAttribute("dy",ue),this.append(Y),this},h.removeAttr=function(d){const x=T[d],{ns:O,local:P}=c.qualifyAttr(x),M=this.node;return O?M.hasAttributeNS(O,P)&&M.removeAttributeNS(O,P):M.hasAttribute(x)&&M.removeAttribute(x),this},h.attr=function(d,x){if(c.isUndefined(d)){for(var O=this.node.attributes,P={},M=0;M<O.length;M++)P[O[M].name]=O[M].value;return P}if(c.isString(d)&&c.isUndefined(x))return this.node.getAttribute(T[d]);if(typeof d=="object")for(var U in d)d.hasOwnProperty(U)&&this.setAttribute(U,d[U]);else this.setAttribute(d,x);return this},h.normalizePath=function(){var d=this.tagName();return d==="PATH"&&this.attr("d",c.normalizePathData(this.attr("d"))),this},h.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},h.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},h.setAttributes=function(d){for(var x in d)d.hasOwnProperty(x)&&this.setAttribute(x,d[x]);return this},h.append=function(d){c.isArray(d)||(d=[d]);for(var x=0,O=d.length;x<O;x++)this.node.appendChild(c.toNode(d[x]));return this},h.prepend=function(d){var x=this.node.firstChild;return x?c(x).before(d):this.append(d)},h.before=function(d){var x=this.node,O=x.parentNode;if(O){c.isArray(d)||(d=[d]);for(var P=0,M=d.length;P<M;P++)O.insertBefore(c.toNode(d[P]),x)}return this},h.appendTo=function(d){return c.toNode(d).appendChild(this.node),this},h.svg=function(){return this.node instanceof window.SVGSVGElement?this:c(this.node.ownerSVGElement)},h.tagName=function(){return this.node.tagName.toUpperCase()},h.defs=function(){var d=this.svg()||this,x=d.node.getElementsByTagName("defs")[0];return x?c(x):c("defs").appendTo(d)},h.clone=function(){var d=c(this.node.cloneNode(!0));return d.node.id=c.uniqueId(),d},h.findOne=function(d){var x=this.node.querySelector(d);return x?c(x):void 0},h.find=function(d){var x=[],O=this.node.querySelectorAll(d);if(O)for(var P=0;P<O.length;P++)x.push(c(O[P]));return x},h.children=function(){for(var d=this.node.childNodes,x=[],O=0;O<d.length;O++){var P=d[O];P.nodeType===1&&x.push(c(d[O]))}return x},h.parent=function(){return c(this.node.parentNode)||null},h.index=function(){for(var d=0,x=this.node.previousSibling;x;)x.nodeType===1&&d++,x=x.previousSibling;return d},h.findParentByClass=function(d,x){for(var O=this.node.ownerSVGElement,P=this.node.parentNode;P&&P!==x&&P!==O;){var M=c(P);if(M.hasClass(d))return M;P=P.parentNode}return null},h.contains=function(d){var x=this.node,O=c.toNode(d),P=O&&O.parentNode;return x===P||!!(P&&P.nodeType===1&&x.compareDocumentPosition(P)&16)},h.toLocalPoint=function(d,x){var O=this.svg().node,P=O.createSVGPoint();P.x=d,P.y=x;try{var M=P.matrixTransform(O.getScreenCTM().inverse()),U=this.getTransformToElement(O).inverse()}catch{return P}return M.matrixTransform(U)},h.translateCenterToPoint=function(d){var x=this.getBBox({target:this.svg()}),O=x.center();return this.translate(d.x-O.x,d.y-O.y),this},h.translateAndAutoOrient=function(d,x,O){d=new Ze(d),x=new Ze(x),O||(O=this.svg());var P=this.scale();this.attr("transform","");var M=this.getBBox({target:O}).scale(P.sx,P.sy),U=c.createSVGTransform();U.setTranslate(-M.x-M.width/2,-M.y-M.height/2);var K=c.createSVGTransform(),ie=d.angleBetween(x,d.clone().offset(1,0));ie&&K.setRotate(ie,0,0);var G=c.createSVGTransform(),ne=d.clone().move(x,M.width/2);G.setTranslate(2*d.x-ne.x,2*d.y-ne.y);var ge=this.getTransformToElement(O),re=c.createSVGTransform();return re.setMatrix(G.matrix.multiply(K.matrix.multiply(U.matrix.multiply(ge.scale(P.sx,P.sy))))),this.attr("transform",c.matrixToTransformString(re.matrix)),this},h.animateAlongPath=function(d,x){x=c.toNode(x);var O=c.ensureId(x),P=c("animateMotion",d),M=c("mpath",{"xlink:href":"#"+O});P.append(M),this.append(P);try{P.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var U=P.node;U.animators=[];var K=U.getAttribute("id");K&&(id2anim[K]=U);for(var ie=getTargets(U),G=0,ne=ie.length;G<ne;G++){var ge=ie[G],re=new Animator(U,ge,G);animators.push(re),U.animators[G]=re,re.register()}}}return this};const E=/[^\x20\t\r\n\f]+/g;function y(d){return c.isString(d)?d.trim().match(E)||[]:[]}h.hasClass=function(d){return c.isString(d)?this.node.classList.contains(d.trim()):!1},h.addClass=function(d){return this.node.classList.add(...y(d)),this},h.removeClass=function(d){return this.node.classList.remove(...y(d)),this},h.toggleClass=function(d,x){const O=y(d);for(let P=0;P<O.length;P++)this.node.classList.toggle(O[P],x);return this},h.sample=function(d){d=d||1;for(var x=this.node,O=x.getTotalLength(),P=[],M=0,U;M<O;)U=x.getPointAtLength(M),P.push({x:U.x,y:U.y,distance:M}),M+=d;return P},h.convertToPath=function(){var d=c("path");d.attr(this.attr());var x=this.convertToPathData();return x&&d.attr("d",x),d},h.convertToPathData=function(){var d=this.tagName();switch(d){case"PATH":return this.attr("d");case"LINE":return c.convertLineToPathData(this.node);case"POLYGON":return c.convertPolygonToPathData(this.node);case"POLYLINE":return c.convertPolylineToPathData(this.node);case"ELLIPSE":return c.convertEllipseToPathData(this.node);case"CIRCLE":return c.convertCircleToPathData(this.node);case"RECT":return c.convertRectToPathData(this.node)}throw new Error(d+" cannot be converted to PATH.")},c.prototype.toGeometryShape=function(){var d,x,O,P,M,U,K,ie,G,ne,ge,re,se,D,z;switch(this.tagName()){case"RECT":return d=parseFloat(this.attr("x"))||0,x=parseFloat(this.attr("y"))||0,O=parseFloat(this.attr("width"))||0,P=parseFloat(this.attr("height"))||0,new Vt(d,x,O,P);case"CIRCLE":return M=parseFloat(this.attr("cx"))||0,U=parseFloat(this.attr("cy"))||0,K=parseFloat(this.attr("r"))||0,new ds({x:M,y:U},K,K);case"ELLIPSE":return M=parseFloat(this.attr("cx"))||0,U=parseFloat(this.attr("cy"))||0,ie=parseFloat(this.attr("rx"))||0,G=parseFloat(this.attr("ry"))||0,new ds({x:M,y:U},ie,G);case"POLYLINE":return ne=c.getPointsFromSvgNode(this),new Qn(ne);case"POLYGON":return ne=c.getPointsFromSvgNode(this),ne.length>1&&ne.push(ne[0]),new Qn(ne);case"PATH":return ge=this.attr("d"),or.isDataSupported(ge)||(ge=c.normalizePathData(ge)),new or(ge);case"LINE":return re=parseFloat(this.attr("x1"))||0,D=parseFloat(this.attr("y1"))||0,se=parseFloat(this.attr("x2"))||0,z=parseFloat(this.attr("y2"))||0,new Gt({x:re,y:D},{x:se,y:z})}return this.getBBox()},h.findIntersection=function(d,x){var O=this.svg().node;x=x||O;var P=this.getBBox({target:x}),M=P.center();if(P.intersectionWithLineFromCenterToPoint(d)){var U,K=this.tagName();if(K==="RECT"){var ie=new Vt(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),G=this.getTransformToElement(x),ne=c.decomposeMatrix(G),ge=O.createSVGTransform();ge.setRotate(-ne.rotation,M.x,M.y);var re=c.transformRect(ie,ge.matrix.multiply(G));U=new Vt(re).intersectionWithLineFromCenterToPoint(d,ne.rotation)}else if(K==="PATH"||K==="POLYGON"||K==="POLYLINE"||K==="CIRCLE"||K==="ELLIPSE"){var se=K==="PATH"?this:this.convertToPath(),D=se.sample(),z=1/0,Y=[],N,I,q,ae,Z,te;for(N=0;N<D.length;N++)I=D[N],q=c.createSVGPoint(I.x,I.y),q=q.matrixTransform(this.getTransformToElement(x)),I=new Ze(q),ae=I.distance(M),Z=I.distance(d)*1.1,te=ae+Z,te<z?(z=te,Y=[{sample:I,refDistance:Z}]):te<z+1&&Y.push({sample:I,refDistance:Z});Y.sort(function(ue,xe){return ue.refDistance-xe.refDistance}),Y[0]&&(U=Y[0].sample)}return U}},h.setAttribute=function(d,x){const O=this.node;if(x===null)return this.removeAttr(d),this;const P=T[d],{ns:M}=c.qualifyAttr(P);return M?O.setAttributeNS(M,P,x):P==="id"?O.id=x:O.setAttribute(P,x),this},c.createSvgDocument=function(d){if(d){const O=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="${r}">${d}</svg>`,{documentElement:P}=c.parseXML(O,{async:!1});return P}const x=document.createElementNS(t.svg,"svg");return x.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),x.setAttribute("version",r),x},c.createSVGStyle=function(d){const{node:x}=c("style",{type:"text/css"},[c.createCDATASection(d)]);return x},c.createCDATASection=function(d=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(d)},c.idCounter=0,c.uniqueId=function(){return"v-"+ ++c.idCounter},c.toNode=function(d){return c.isV(d)?d.node:d.nodeName&&d||d[0]},c.ensureId=function(d){return d=c.toNode(d),d.id||(d.id=c.uniqueId())},c.sanitizeText=function(d){return(d||"").replace(/ /g," ")},c.isUndefined=function(d){return typeof d>"u"},c.isString=function(d){return typeof d=="string"},c.isObject=function(d){return d&&typeof d=="object"},c.isArray=Array.isArray,c.parseXML=function(d,x){x=x||{};var O;try{var P=new DOMParser;c.isUndefined(x.async)||(P.async=x.async),O=P.parseFromString(d,"text/xml")}catch{O=void 0}if(!O||O.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+d);return O};const S=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(d=>S[d]=d);const T=new Proxy(S,{get(d,x){return c.supportCamelCaseAttributes?x in d?d[x]:d[x]=x.replace(/[A-Z]/g,"-$&").toLowerCase():x}});Object.defineProperty(c,"attributeNames",{value:T,writable:!1}),Object.defineProperty(c,"supportCamelCaseAttributes",{value:!1,writable:!0}),c.qualifyAttr=function(d){if(d.indexOf(":")!==-1){var x=d.split(":");return{ns:t[x[0]],local:x[1]}}return{ns:null,local:d}},c.transformSeparatorRegex=/[ ,]+/,c.transformRegex=/\b\w+\([^()]+\)/g,c.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,c.transformTranslateRegex=/\btranslate\(([^()]+)\)/,c.transformRotateRegex=/\brotate\(([^()]+)\)/,c.transformScaleRegex=/\bscale\(([^()]+)\)/,c.transformStringToMatrix=function(d){let x=c.createSVGMatrix();const O=d&&d.match(c.transformRegex);if(!O)return x;const P=O.length;for(let M=0;M<P;M++){const K=O[M].match(c.transformFunctionRegex);if(K){let ie,G,ne,ge,re,se=c.createSVGMatrix();const D=K[1].toLowerCase(),z=K[2].split(c.transformSeparatorRegex);switch(D){case"scale":ie=parseFloat(z[0]),G=z[1]===void 0?ie:parseFloat(z[1]),se=se.scaleNonUniform(ie,G);break;case"translate":ne=parseFloat(z[0]),ge=parseFloat(z[1]),se=se.translate(ne,ge);break;case"rotate":re=parseFloat(z[0]),ne=parseFloat(z[1])||0,ge=parseFloat(z[2])||0,ne!==0||ge!==0?se=se.translate(ne,ge).rotate(re).translate(-ne,-ge):se=se.rotate(re);break;case"skewx":re=parseFloat(z[0]),se=se.skewX(re);break;case"skewy":re=parseFloat(z[0]),se=se.skewY(re);break;case"matrix":se.a=parseFloat(z[0]),se.b=parseFloat(z[1]),se.c=parseFloat(z[2]),se.d=parseFloat(z[3]),se.e=parseFloat(z[4]),se.f=parseFloat(z[5]);break;default:continue}x=x.multiply(se)}}return x},c.matrixToTransformString=function(d){return d||(d=!0),"matrix("+(d.a!==void 0?d.a:1)+","+(d.b!==void 0?d.b:0)+","+(d.c!==void 0?d.c:0)+","+(d.d!==void 0?d.d:1)+","+(d.e!==void 0?d.e:0)+","+(d.f!==void 0?d.f:0)+")"},c.parseTransformString=function(d){var x,O,P;if(d){var M=c.transformSeparatorRegex;if(d.trim().indexOf("matrix")>=0){var U=c.transformStringToMatrix(d),K=c.decomposeMatrix(U);x=[K.translateX,K.translateY],P=[K.scaleX,K.scaleY],O=[K.rotation];var ie=[];(x[0]!==0||x[1]!==0)&&ie.push("translate("+x+")"),(P[0]!==1||P[1]!==1)&&ie.push("scale("+P+")"),O[0]!==0&&ie.push("rotate("+O+")"),d=ie.join(" ")}else{const ne=d.match(c.transformTranslateRegex);ne&&(x=ne[1].split(M));const ge=d.match(c.transformRotateRegex);ge&&(O=ge[1].split(M));const re=d.match(c.transformScaleRegex);re&&(P=re[1].split(M))}}var G=P&&P[0]?parseFloat(P[0]):1;return{value:d,translate:{tx:x&&x[0]?parseInt(x[0],10):0,ty:x&&x[1]?parseInt(x[1],10):0},rotate:{angle:O&&O[0]?parseInt(O[0],10):0,cx:O&&O[1]?parseInt(O[1],10):void 0,cy:O&&O[2]?parseInt(O[2],10):void 0},scale:{sx:G,sy:P&&P[1]?parseFloat(P[1]):G}}},c.deltaTransformPoint=function(d,x){var O=x.x*d.a+x.y*d.c+0,P=x.x*d.b+x.y*d.d+0;return{x:O,y:P}},c.decomposeMatrix=function(d){var x=c.deltaTransformPoint(d,{x:0,y:1}),O=c.deltaTransformPoint(d,{x:1,y:0}),P=180/i*o(x.y,x.x)-90,M=180/i*o(O.y,O.x);return{translateX:d.e,translateY:d.f,scaleX:s(d.a*d.a+d.b*d.b),scaleY:s(d.c*d.c+d.d*d.d),skewX:P,skewY:M,rotation:P}},c.matrixToScale=function(d){var x,O,P,M;return d?(x=c.isUndefined(d.a)?1:d.a,M=c.isUndefined(d.d)?1:d.d,O=d.b,P=d.c):x=M=1,{sx:O?s(x*x+O*O):x,sy:P?s(P*P+M*M):M}},c.matrixToRotate=function(d){var x={x:0,y:1};return d&&(x=c.deltaTransformPoint(d,x)),{angle:Ql(yT(o(x.y,x.x))-90)}},c.matrixToTranslate=function(d){return{tx:d&&d.e||0,ty:d&&d.f||0}},c.isV=function(d){return d instanceof c},c.isVElement=c.isV,c.isSVGGraphicsElement=function(d){return d?(d=c.toNode(d),d instanceof SVGElement&&typeof d.getScreenCTM=="function"):!1};var $=c("svg").node;return c.createSVGMatrix=function(d){var x=$.createSVGMatrix();for(var O in d)x[O]=d[O];return x},c.createSVGTransform=function(d){return c.isUndefined(d)?$.createSVGTransform():(d instanceof SVGMatrix||(d=c.createSVGMatrix(d)),$.createSVGTransformFromMatrix(d))},c.createSVGPoint=function(d,x){var O=$.createSVGPoint();return O.x=d,O.y=x,O},c.transformRect=function(d,x){var O=$.createSVGPoint();O.x=d.x,O.y=d.y;var P=O.matrixTransform(x);O.x=d.x+d.width,O.y=d.y;var M=O.matrixTransform(x);O.x=d.x+d.width,O.y=d.y+d.height;var U=O.matrixTransform(x);O.x=d.x,O.y=d.y+d.height;var K=O.matrixTransform(x),ie=a(P.x,M.x,U.x,K.x),G=l(P.x,M.x,U.x,K.x),ne=a(P.y,M.y,U.y,K.y),ge=l(P.y,M.y,U.y,K.y);return new Vt(ie,ne,G-ie,ge-ne)},c.transformPoint=function(d,x){return new Ze(c.createSVGPoint(d.x,d.y).matrixTransform(x))},c.transformLine=function(d,x){return new Gt(c.transformPoint(d.start,x),c.transformPoint(d.end,x))},c.transformPolyline=function(d,x){var O=d instanceof Qn?d.points:d;c.isArray(O)||(O=[]);for(var P=[],M=0,U=O.length;M<U;M++)P[M]=c.transformPoint(O[M],x);return new Qn(P)},c.styleToObject=function(d){for(var x={},O=d.split(";"),P=0;P<O.length;P++){var M=O[P],U=M.split("=");x[U[0].trim()]=U[1].trim()}return x},c.createSlicePathData=function(d,x,O,P){var M=2*i-1e-6,U=d,K=x,ie=O,G=P,ne=(G<ie&&(ne=ie,ie=G,G=ne),G-ie),ge=ne<i?"0":"1",re=u(ie),se=f(ie),D=u(G),z=f(G);return ne>=M?U?"M0,"+K+"A"+K+","+K+" 0 1,1 0,"+-K+"A"+K+","+K+" 0 1,1 0,"+K+"M0,"+U+"A"+U+","+U+" 0 1,0 0,"+-U+"A"+U+","+U+" 0 1,0 0,"+U+"Z":"M0,"+K+"A"+K+","+K+" 0 1,1 0,"+-K+"A"+K+","+K+" 0 1,1 0,"+K+"Z":U?"M"+K*re+","+K*se+"A"+K+","+K+" 0 "+ge+",1 "+K*D+","+K*z+"L"+U*D+","+U*z+"A"+U+","+U+" 0 "+ge+",0 "+U*re+","+U*se+"Z":"M"+K*re+","+K*se+"A"+K+","+K+" 0 "+ge+",1 "+K*D+","+K*z+"L0,0Z"},c.mergeAttrs=function(d,x){for(var O in x)O==="class"?d[O]=d[O]?d[O]+" "+x[O]:x[O]:O==="style"?c.isObject(d[O])&&c.isObject(x[O])?d[O]=c.mergeAttrs(d[O],x[O]):c.isObject(d[O])?d[O]=c.mergeAttrs(d[O],c.styleToObject(x[O])):c.isObject(x[O])?d[O]=c.mergeAttrs(c.styleToObject(d[O]),x[O]):d[O]=c.mergeAttrs(c.styleToObject(d[O]),c.styleToObject(x[O])):d[O]=x[O];return d},c.annotateString=function(d,x,O){x=x||[],O=O||{};for(var P=O.offset||0,M=[],U,K=[],ie,G,ne=0;ne<d.length;ne++){ie=K[ne]=d[ne];for(var ge=0;ge<x.length;ge++){var re=x[ge],se=re.start+P,D=re.end+P;ne>=se&&ne<D&&(c.isObject(ie)?ie.attrs=c.mergeAttrs(c.mergeAttrs({},ie.attrs),re.attrs):ie=K[ne]={t:d[ne],attrs:re.attrs},O.includeAnnotationIndices&&(ie.annotations||(ie.annotations=[])).push(ge))}G=K[ne-1],G?c.isObject(ie)&&c.isObject(G)?JSON.stringify(ie.attrs)===JSON.stringify(G.attrs)?U.t+=ie.t:(M.push(U),U=ie):c.isObject(ie)||c.isObject(G)?(M.push(U),U=ie):U=(U||"")+ie:U=ie}return U&&M.push(U),M},c.findAnnotationsAtIndex=function(d,x){var O=[];return d&&d.forEach(function(P){P.start<x&&x<=P.end&&O.push(P)}),O},c.findAnnotationsBetweenIndexes=function(d,x,O){var P=[];return d&&d.forEach(function(M){(x>=M.start&&x<M.end||O>M.start&&O<=M.end||M.start>=x&&M.end<O)&&P.push(M)}),P},c.shiftAnnotations=function(d,x,O){return d&&d.forEach(function(P){P.start<x&&P.end>=x?P.end+=O:P.start>=x&&(P.start+=O,P.end+=O)}),d},c.convertLineToPathData=function(d){d=c(d);var x=["M",d.attr("x1"),d.attr("y1"),"L",d.attr("x2"),d.attr("y2")].join(" ");return x},c.convertPolygonToPathData=function(d){var x=c.getPointsFromSvgNode(d);return x.length===0?null:c.svgPointsToPath(x)+" Z"},c.convertPolylineToPathData=function(d){var x=c.getPointsFromSvgNode(d);return x.length===0?null:c.svgPointsToPath(x)},c.svgPointsToPath=function(d){for(var x=0,O=d.length;x<O;x++)d[x]=d[x].x+" "+d[x].y;return"M "+d.join(" L")},c.getPointsFromSvgNode=function(d){d=c.toNode(d);var x=[],O=d.points;if(O)for(var P=0,M=O.numberOfItems;P<M;P++)x.push(O.getItem(P));return x},c.KAPPA=.551784,c.convertCircleToPathData=function(d){d=c(d);var x=parseFloat(d.attr("cx"))||0,O=parseFloat(d.attr("cy"))||0,P=parseFloat(d.attr("r")),M=P*c.KAPPA,U=["M",x,O-P,"C",x+M,O-P,x+P,O-M,x+P,O,"C",x+P,O+M,x+M,O+P,x,O+P,"C",x-M,O+P,x-P,O+M,x-P,O,"C",x-P,O-M,x-M,O-P,x,O-P,"Z"].join(" ");return U},c.convertEllipseToPathData=function(d){d=c(d);var x=parseFloat(d.attr("cx"))||0,O=parseFloat(d.attr("cy"))||0,P=parseFloat(d.attr("rx")),M=parseFloat(d.attr("ry"))||P,U=P*c.KAPPA,K=M*c.KAPPA,ie=["M",x,O-M,"C",x+U,O-M,x+P,O-K,x+P,O,"C",x+P,O+K,x+U,O+M,x,O+M,"C",x-U,O+M,x-P,O+K,x-P,O,"C",x-P,O-K,x-U,O-M,x,O-M,"Z"].join(" ");return ie},c.convertRectToPathData=function(d){return d=c(d),c.rectToPath({x:parseFloat(d.attr("x"))||0,y:parseFloat(d.attr("y"))||0,width:parseFloat(d.attr("width"))||0,height:parseFloat(d.attr("height"))||0,rx:parseFloat(d.attr("rx"))||0,ry:parseFloat(d.attr("ry"))||0})},c.rectToPath=function(d){var x,O=d.x,P=d.y,M=d.width,U=d.height,K=a(d.rx||d["top-rx"]||0,M/2),ie=a(d.rx||d["bottom-rx"]||0,M/2),G=a(d.ry||d["top-ry"]||0,U/2),ne=a(d.ry||d["bottom-ry"]||0,U/2);return K||ie||G||ne?x=["M",O,P+G,"v",U-G-ne,"a",ie,ne,0,0,0,ie,ne,"h",M-2*ie,"a",ie,ne,0,0,0,ie,-ne,"v",-(U-ne-G),"a",K,G,0,0,0,-K,-G,"h",-(M-2*K),"a",K,G,0,0,0,-K,G,"Z"]:x=["M",O,P,"H",O+M,"V",P+U,"H",O,"V",P,"Z"],x.join(" ")},c.normalizePathData=function(){var d=`	
\v\f\r   ᠎             　\u2028\u2029`,x=new RegExp("([a-z])["+d+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+d+"]*,?["+d+"]*)+)","ig"),O=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+d+"]*,?["+d+"]*","ig"),P=Math,M=P.PI,U=P.sin,K=P.cos,ie=P.tan,G=P.asin,ne=P.sqrt,ge=P.abs;function re(I,q,ae,Z,te,ue){var xe=.3333333333333333,Le=2/3;return[xe*I+Le*ae,xe*q+Le*Z,xe*te+Le*ae,xe*ue+Le*Z,te,ue]}function se(I,q,ae){var Z=I*K(ae)-q*U(ae),te=I*U(ae)+q*K(ae);return{x:Z,y:te}}function D(I,q,ae,Z,te,ue,xe,Le,C,F){var L=M*120/180,ee=M/180*(+te||0),ce=[],me;if(F)Q=F[0],k=F[1],tt=F[2],Xe=F[3];else{me=se(I,q,-ee),I=me.x,q=me.y,me=se(Le,C,-ee),Le=me.x,C=me.y;var ve=(I-Le)/2,Te=(q-C)/2,De=ve*ve/(ae*ae)+Te*Te/(Z*Z);De>1&&(De=ne(De),ae=De*ae,Z=De*Z);var Ge=ae*ae,Ve=Z*Z,ht=(ue==xe?-1:1)*ne(ge((Ge*Ve-Ge*Te*Te-Ve*ve*ve)/(Ge*Te*Te+Ve*ve*ve))),tt=ht*ae*Te/Z+(I+Le)/2,Xe=ht*-Z*ve/ae+(q+C)/2,Q=G(((q-Xe)/Z).toFixed(9)),k=G(((C-Xe)/Z).toFixed(9));Q=I<tt?M-Q:Q,k=Le<tt?M-k:k,Q<0&&(Q=M*2+Q),k<0&&(k=M*2+k),xe&&Q>k&&(Q=Q-M*2),!xe&&k>Q&&(k=k-M*2)}var B=k-Q;if(ge(B)>L){var le=k,Ee=Le,Pe=C;k=Q+L*(xe&&k>Q?1:-1),Le=tt+ae*K(k),C=Xe+Z*U(k),ce=D(Le,C,ae,Z,te,0,xe,Ee,Pe,[k,le,tt,Xe])}B=k-Q;var qe=K(Q),Be=U(Q),Ye=K(k),gt=U(k),Ot=ie(B/4),yt=4/3*(ae*Ot),Xt=4/3*(Z*Ot),Xr=[I,q],tn=[I+yt*Be,q-Xt*qe],Tr=[Le+yt*gt,C-Xt*Ye],Rr=[Le,C];if(tn[0]=2*Xr[0]-tn[0],tn[1]=2*Xr[1]-tn[1],F)return[tn,Tr,Rr].concat(ce);ce=[tn,Tr,Rr].concat(ce).join().split(",");for(var jn=[],_r=ce.length,Qt=0;Qt<_r;Qt++)jn[Qt]=Qt%2?se(ce[Qt-1],ce[Qt],ee).y:se(ce[Qt],ce[Qt+1],ee).x;return jn}function z(I){if(!I)return null;var q={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},ae=[];return String(I).replace(x,function(Z,te,ue){var xe=[],Le=te.toLowerCase();for(ue.replace(O,function(C,F){F&&xe.push(+F)}),Le==="m"&&xe.length>2&&(ae.push([te].concat(xe.splice(0,2))),Le="l",te=te==="m"?"l":"L");xe.length>=q[Le]&&(ae.push([te].concat(xe.splice(0,q[Le]))),!!q[Le]););}),ae}function Y(I){if((!Array.isArray(I)||!Array.isArray(I&&I[0]))&&(I=z(I)),!I||!I.length)return[["M",0,0]];for(var q=[],ae=0,Z=0,te=0,ue=0,xe=0,Le,C=I.length,F=xe;F<C;F++){var L=[];q.push(L);var ee=I[F];if(Le=ee[0],Le!=Le.toUpperCase()){L[0]=Le.toUpperCase();var ce,me;switch(L[0]){case"A":L[1]=ee[1],L[2]=ee[2],L[3]=ee[3],L[4]=ee[4],L[5]=ee[5],L[6]=+ee[6]+ae,L[7]=+ee[7]+Z;break;case"V":L[1]=+ee[1]+Z;break;case"H":L[1]=+ee[1]+ae;break;case"M":for(te=+ee[1]+ae,ue=+ee[2]+Z,ce=ee.length,me=1;me<ce;me++)L[me]=+ee[me]+(me%2?ae:Z);break;default:for(ce=ee.length,me=1;me<ce;me++)L[me]=+ee[me]+(me%2?ae:Z);break}}else for(var ve=ee.length,Te=0;Te<ve;Te++)L[Te]=ee[Te];switch(L[0]){case"Z":ae=+te,Z=+ue;break;case"H":ae=L[1];break;case"V":Z=L[1];break;case"M":te=L[L.length-2],ue=L[L.length-1],ae=L[L.length-2],Z=L[L.length-1];break;default:ae=L[L.length-2],Z=L[L.length-1];break}}return q}function N(I){var q=Y(I),ae={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function Z(ce,me,ve){var Te,De;if(!ce)return["C",me.x,me.y,me.x,me.y,me.x,me.y];switch(ce[0]in{T:1,Q:1}||(me.qx=null,me.qy=null),ce[0]){case"M":me.X=ce[1],me.Y=ce[2];break;case"A":parseFloat(ce[1])===0||parseFloat(ce[2])===0?ce=["L",ce[6],ce[7]]:ce=["C"].concat(D.apply(0,[me.x,me.y].concat(ce.slice(1))));break;case"S":ve==="C"||ve==="S"?(Te=me.x*2-me.bx,De=me.y*2-me.by):(Te=me.x,De=me.y),ce=["C",Te,De].concat(ce.slice(1));break;case"T":ve==="Q"||ve==="T"?(me.qx=me.x*2-me.qx,me.qy=me.y*2-me.qy):(me.qx=me.x,me.qy=me.y),ce=["C"].concat(re(me.x,me.y,me.qx,me.qy,ce[1],ce[2]));break;case"Q":me.qx=ce[1],me.qy=ce[2],ce=["C"].concat(re(me.x,me.y,ce[1],ce[2],ce[3],ce[4]));break;case"H":ce=["L"].concat(ce[1],me.y);break;case"V":ce=["L"].concat(me.x,ce[1]);break}return ce}function te(ce,me){if(ce[me].length>7){ce[me].shift();for(var ve=ce[me];ve.length;)ue[me]="A",ce.splice(me++,0,["C"].concat(ve.splice(0,6)));ce.splice(me,1),C=q.length}}for(var ue=[],xe="",Le="",C=q.length,F=0;F<C;F++){q[F]&&(xe=q[F][0]),xe!=="C"&&(ue[F]=xe,F>0&&(Le=ue[F-1])),q[F]=Z(q[F],ae,Le),ue[F]!=="A"&&xe==="C"&&(ue[F]="C"),te(q,F);var L=q[F],ee=L.length;ae.x=L[ee-2],ae.y=L[ee-1],ae.bx=parseFloat(L[ee-4])||ae.x,ae.by=parseFloat(L[ee-3])||ae.y}return(!q[0][0]||q[0][0]!=="M")&&q.unshift(["M",0,0]),q}return function(I){return N(I).join(",").split(",").join(" ")}}(),c.namespace=t,c.g=jye,c}(),nd={classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},Cy="[object Arguments]",PI="[object Array]",CT="[object Boolean]",Oj="[object Date]",QY="[object Error]",c0e="[object Function]",y0="[object Map]",kT="[object Number]",f0e="[object Null]",fm="[object Object]",Pj="[object RegExp]",w0="[object Set]",jT="[object String]",DT="[object Symbol]",d0e="[object Undefined]",h0e="[object WeakMap]",Rj="[object ArrayBuffer]",Nj="[object DataView]",ZY="[object Float32Array]",eX="[object Float64Array]",tX="[object Int8Array]",rX="[object Int16Array]",nX="[object Int32Array]",iX="[object Uint8Array]",oX="[object Uint8ClampedArray]",sX="[object Uint16Array]",aX="[object Uint32Array]",p0e={[Cy]:!0,[PI]:!0,[Rj]:!0,[Nj]:!0,[CT]:!0,[Oj]:!0,[ZY]:!0,[eX]:!0,[tX]:!0,[rX]:!0,[nX]:!0,[y0]:!0,[kT]:!0,[fm]:!0,[Pj]:!0,[w0]:!0,[jT]:!0,[DT]:!0,[iX]:!0,[oX]:!0,[sX]:!0,[aX]:!0,[QY]:!1,[c0e]:!1,[h0e]:!1},Ij="\\ud800-\\udfff",m0e="\\u0300-\\u036f",g0e="\\ufe20-\\ufe2f",v0e="\\u20d0-\\u20ff",y0e="\\u1ab0-\\u1aff",w0e="\\u1dc0-\\u1dff",b0e=m0e+g0e+v0e+y0e+w0e,lX="\\u2700-\\u27bf",uX="a-z\\xdf-\\xf6\\xf8-\\xff",_0e="\\xac\\xb1\\xd7\\xf7",E0e="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",S0e="\\u2000-\\u206f",T0e=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",cX="A-Z\\xc0-\\xd6\\xd8-\\xde",$0e="\\ufe0e\\ufe0f",fX=_0e+E0e+S0e+T0e,dX="['’]",_U=`[${fX}]`,Cj=`[${b0e}]`,hX="\\d",x0e=`[${lX}]`,pX=`[${uX}]`,mX=`[^${Ij}${fX+hX+lX+uX+cX}]`,RI="\\ud83c[\\udffb-\\udfff]",A0e=`(?:${Cj}|${RI})`,gX=`[^${Ij}]`,kj="(?:\\ud83c[\\udde6-\\uddff]){2}",jj="[\\ud800-\\udbff][\\udc00-\\udfff]",Jp=`[${cX}]`,O0e="\\u200d",EU=`(?:${pX}|${mX})`,P0e=`(?:${Jp}|${mX})`,SU=`(?:${dX}(?:d|ll|m|re|s|t|ve))?`,TU=`(?:${dX}(?:D|LL|M|RE|S|T|VE))?`,vX=`${A0e}?`,yX=`[${$0e}]?`,R0e=`(?:${O0e}(?:${[gX,kj,jj].join("|")})${yX+vX})*`,N0e="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",I0e="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",wX=yX+vX+R0e,C0e=`(?:${[x0e,kj,jj].join("|")})${wX}`,k0e=RegExp([`${Jp}?${pX}+${SU}(?=${[_U,Jp,"$"].join("|")})`,`${P0e}+${TU}(?=${[_U,Jp+EU,"$"].join("|")})`,`${Jp}?${EU}+${SU}`,`${Jp}+${TU}`,I0e,N0e,`${hX}+`,C0e].join("|"),"g"),Dj=200,NI="__hash_undefined__",j0e=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,D0e=`[${Ij}]`,M0e=`${gX}${Cj}?`,L0e=`(?:${[M0e,Cj,kj,jj,D0e].join("|")})`,bX=RegExp(`${RI}(?=${RI})|${L0e+wX}`,"g"),F0e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B0e=/^\w*$/,U0e=46,z0e=/\\(\\)?/g,q0e=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),V0e=/^(?:0|[1-9]\d*)$/,H0e=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),W0e=4294967294,G0e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_X=e=>bX.test(e),K0e=e=>e.match(bX)||[],J0e=e=>e.split(""),EX=e=>_X(e)?K0e(e):J0e(e),Y0e=e=>e==null?[]:b0(e).map(t=>e[t]),b0=e=>gl(e)?SX(e):Object.keys(Object(e)),X0e=e=>{if(!MT(e))return Object.keys(e);var t=[];for(var r in Object(e))hasOwnProperty.call(e,r)&&r!="constructor"&&t.push(r);return t},SX=(e,t)=>{const r=Array.isArray(e),n=!r&&eu(e)&&hl(e)===Cy,i=!r&&!n&&S0(e),o=r||n||i,s=e.length,a=new Array(o?s:0);let l=o?-1:s;for(;++l<s;)a[l]=`${l}`;for(const u in e)(t||hasOwnProperty.call(e,u))&&!(o&&(u==="length"||IX(u,s)))&&a.push(u);return a},Uw=(e,t)=>{let{length:r}=e;for(;r--;)if(dg(e[r][0],t))return r;return-1},dg=(e,t)=>e===t||e!==e&&t!==t,eu=e=>e!=null&&typeof e=="object",n1=(e,t,r)=>{if(!Pn(r))return!1;const n=typeof t;return(n=="number"?gl(r)&&t>-1&&t<r.length:n=="string"&&t in r)?dg(r[t],e):!1},Q0e=e=>eu(e)&&hl(e)==w0,Z0e=e=>eu(e)&&hl(e)==y0,MT=e=>{const t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Object.prototype;return e===r},_0=(e,t,r)=>{const n=e[t];(!(hasOwnProperty.call(e,t)&&dg(n,r))||r===void 0&&!(t in e))&&(e[t]=r)},E0=(e,t,r)=>{let n=-1;const i=t.length;for(;++n<i;){const o=t[n];_0(r,o,e[o])}return r},gl=e=>e!=null&&typeof e!="function"&&typeof e.length=="number"&&e.length>-1&&e.length%1===0,Xm=e=>typeof e=="symbol"||eu(e)&&hl(e)===DT,ewe=e=>{const t=e.length;let r=new e.constructor(t);return t&&typeof e[0]=="string"&&hasOwnProperty.call(e,"index")&&(r.index=e.index,r.input=e.input),r},Mj=(e,t)=>{let r=-1;const n=e.length;for(t||(t=new Array(n));++r<n;)t[r]=e[r];return t},hl=e=>e==null?e===void 0?d0e:f0e:Object.prototype.toString.call(e),Lj=e=>{const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},TX=(e,t)=>{const r=t?Lj(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},twe=e=>{const t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t},$X=e=>typeof e.constructor=="function"&&!MT(e)?Object.create(Object.getPrototypeOf(e)):{},Fj=e=>e==null?[]:(e=Object(e),Object.getOwnPropertySymbols(e).filter(r=>propertyIsEnumerable.call(e,r))),rwe=(e,t)=>E0(e,Fj(e),t);function nwe(e,t){const r=t?Lj(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}const iwe=(e,t,r)=>{const n=e.constructor;switch(t){case Rj:return Lj(e);case CT:case Oj:return new n(+e);case Nj:return nwe(e,r);case ZY:case eX:case tX:case rX:case nX:case iX:case oX:case sX:case aX:return TX(e,r);case y0:return new n(e);case kT:case jT:return new n(e);case Pj:return twe(e);case w0:return new n;case DT:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}},S0=e=>eu(e)&&j0e.test(hl(e)),II=e=>{const t=Object.keys(e);return!Array.isArray(e)&&e!=null&&t.push(...Fj(Object(e))),t},xX=e=>{const t=[];for(;e;)t.push(...Fj(e)),e=Object.getPrototypeOf(Object(e));return t},AX=e=>{const t=[];for(const r in e)t.push(r);return Array.isArray(e)||t.push(...xX(e)),t},zw=({__data__:e},t)=>{const r=e;return mwe(t)?r[typeof t=="string"?"string":"hash"]:r.map},owe=(e,t,r,n)=>{const i=II(e),o=i.length,a=II(t).length;if(o!=a)return!1;let l,u=o;for(;u--;)if(l=i[u],!hasOwnProperty.call(t,l))return!1;const f=n.get(e),c=n.get(t);if(f&&c)return f==t&&c==e;let h=!0;n.set(e,t),n.set(t,e);let m;for(;++u<o;){l=i[u];const g=e[l],_=t[l];if(!(g===_||r(g,_,n))){h=!1;break}m||(m=l=="constructor")}if(h&&!m){const g=e.constructor,_=t.constructor;g!=_&&"constructor"in e&&"constructor"in t&&!(typeof g=="function"&&g instanceof g&&typeof _=="function"&&_ instanceof _)&&(h=!1)}return n.delete(e),n.delete(t),h},LT=(e,t,r)=>e===t?!0:e==null||t==null||!eu(e)&&!eu(t)?e!==e&&t!==t:swe(e,t,LT,r),swe=(e,t,r,n)=>{let i=Array.isArray(e);const o=Array.isArray(t);let s=i?PI:hl(e),a=o?PI:hl(t);s=s==Cy?fm:s,a=a==Cy?fm:a;let l=s==fm;const u=a==fm,f=s==a;if(f&&!l)return n||(n=new Pm),i||S0(e)?OX(e,t,!1,r,n):uwe(e,t,s,r,n);const c=l&&hasOwnProperty.call(e,"__wrapped__"),h=u&&hasOwnProperty.call(t,"__wrapped__");if(c||h){const m=c?e.value():e,g=h?t.value():t;return n||(n=new Pm),r(m,g,n)}return f?(n||(n=new Pm),owe(e,t,r,n)):!1},OX=(e,t,r,n,i)=>{const o=e.length,s=t.length;if(o!=s)return!1;const a=i.get(e),l=i.get(t);if(a&&l)return a==t&&l==e;let u=-1,f=!0;const c=r?new jy:void 0;for(i.set(e,t),i.set(t,e);++u<o;){const h=e[u],m=t[u];if(c){if(!awe(t,(g,_)=>{if(!lwe(c,_)&&(h===g||n(h,g,i)))return c.push(_)})){f=!1;break}}else if(!(h===m||n(h,m,i))){f=!1;break}}return i.delete(e),i.delete(t),f},awe=(e,t)=>{let r=-1;const n=e==null?0:e.length;for(;++r<n;)if(t(e[r],r,e))return!0;return!1},lwe=(e,t)=>e.has(t),$U=(e,t,r,n)=>!(e.byteLength!=t.byteLength||!r(new Uint8Array(e),new Uint8Array(t),n)),uwe=(e,t,r,n,i)=>{switch(r){case Nj:return e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset?!1:(e=e.buffer,t=t.buffer,$U(e,t,n,i));case Rj:return $U(e,t,n,i);case CT:case Oj:case kT:return dg(+e,+t);case QY:return e.name==t.name&&e.message==t.message;case Pj:case jT:return e==`${t}`;case y0:let o=PX;case w0:if(o||(o=FT),e.size!=t.size)return!1;const s=i.get(e);if(s)return s==t;i.set(e,t);const a=OX(o(e),o(t),!0,n,i);return i.delete(e),a;case DT:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},PX=e=>{let t=-1,r=Array(e.size);return e.forEach((n,i)=>{r[++t]=[i,n]}),r},FT=e=>{let t=-1;const r=new Array(e.size);return e.forEach(n=>{r[++t]=n}),r},Bj=(e,t)=>{if(Array.isArray(e))return!1;const r=typeof e;return r==="number"||r==="boolean"||e==null||Xm(e)?!0:B0e.test(e)||!F0e.test(e)||t!=null&&e in Object(t)},cwe=e=>{const t=[];return e.charCodeAt(0)===U0e&&t.push(""),e.replace(q0e,(r,n,i,o)=>{let s=r;i?s=o.replace(z0e,"$1"):n&&(s=n.trim()),t.push(s)}),t},hg=(e,t)=>Array.isArray(e)?e:Bj(e,t)?[e]:cwe(`${e}`),BT=(e,t)=>{t=hg(t,e);let r=0;const n=t.length;for(;e!=null&&r<n;)e=e[sp(t[r])],r++;return r&&r==n?e:void 0};function fwe(e,t){if(e!==t){const r=e!==void 0,n=e===null,i=e===e,o=Xm(e),s=t!==void 0,a=t===null,l=t===t,u=Xm(t);if(!a&&!u&&!o&&e>t||o&&s&&l&&!a&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!o&&!u&&e<t||u&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!l)return-1}return 0}function dwe(e,t,r){let n=-1;const i=e.criteria,o=t.criteria,s=i.length,a=r.length;for(;++n<s;){const l=n<a?r[n]:null,f=(l&&typeof l=="function"?l:fwe)(i[n],o[n]);if(f)return l&&typeof l!="function"?f*(l=="desc"?-1:1):f}return e.index-t.index}const RX=(e,t)=>{let r=(s,a)=>!!(s==null?0:s.length)&&s.indexOf(a)>-1,n=!0;const i=[],o=t.length;if(!e.length)return i;t.length>=Dj&&(r=(s,a)=>s.has(a),n=!1,t=new jy(t));e:for(let s in e){let a=e[s];const l=a;if(a=a!==0?a:0,n&&l===l){let u=o;for(;u--;)if(t[u]===l)continue e;i.push(a)}else r(t,l)||i.push(a)}return i},sp=e=>{if(typeof e=="string"||Xm(e))return e;const t=`${e}`;return t=="0"&&1/e==-1/0?"-0":t},Om=(e,t=!1,r=!1,n=!0,i,o,s,a)=>{let l;if(i&&(l=s?i(e,o,s,a):i(e)),l!==void 0)return l;if(!Pn(e))return e;const u=Array.isArray(e),f=hl(e);if(u){if(l=ewe(e),!t)return Mj(e,l)}else{const g=typeof e=="function";if(f===fm||f===Cy||g&&!s){if(l=r||g?{}:$X(e),!t)return r?hwe(e,E0(e,Object.keys(e),l)):rwe(e,Object.assign(l,e))}else{if(g||!p0e[f])return s?e:{};l=iwe(e,f,t)}}a||(a=new Pm);const c=a.get(e);if(c)return c;if(a.set(e,l),Z0e(e))return e.forEach((g,_)=>{l.set(_,Om(g,t,r,n,i,_,e,a))}),l;if(Q0e(e))return e.forEach(g=>{l.add(Om(g,t,r,n,i,g,e,a))}),l;if(S0(e))return l;const m=u?void 0:(n?r?AX:II:r?CX:b0)(e);return(m||e).forEach((g,_)=>{m&&(_=g,g=e[_]),_0(l,_,Om(g,t,r,n,i,_,e,a))}),l},hwe=(e,t)=>E0(e,xX(e),t),NX=(e,t)=>t.length<2?e:BT(e,t.slice(0,-1)),IX=(e,t)=>{const r=typeof e;return t=t??Number.MAX_SAFE_INTEGER,!!t&&(r==="number"||r!=="symbol"&&V0e.test(e))&&e>-1&&e%1==0&&e<t},pwe=(e,t)=>{t=hg(t,e),e=NX(e,t);const r=t[t.length-1];return e==null||delete e[sp(r)]},mwe=e=>{const t=typeof e;return t==="string"||t==="number"||t==="symbol"||t==="boolean"?e!=="__proto__":e===null},CX=e=>{const t=[];for(const r in e)t.push(r);return t},gwe=e=>{e=Object(e);const t={};for(const r in e)t[r]=e[r];return t},xU=(e,t)=>{if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]};function kX(e,t=!1){return(r,...n)=>{let i=-1,o=n.length,s=o>1?n[o-1]:void 0;const a=o>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):t?(l,u)=>{if(Array.isArray(l)&&!Array.isArray(u))return u}:void 0,a&&n1(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),r=Object(r);++i<o;){const l=n[i];l&&e(r,l,i,s)}return r}}const Uj=(e,t,r,n,i)=>{e!==t&&Za(t,(o,s)=>{if(Pn(o))i||(i=new Pm),vwe(e,t,s,r,Uj,n,i);else{let a=n?n(e[s],o,`${s}`,e,t,i):void 0;a===void 0&&(a=o),CI(e,s,a)}})},vwe=(e,t,r,n,i,o,s)=>{const a=xU(e,r),l=xU(t,r),u=s.get(l);if(u){CI(e,r,u);return}let f=o?o(a,l,`${r}`,e,t,s):void 0,c=f===void 0;if(c){const h=Array.isArray(l),m=!h&&S0(l);f=l,h||m?Array.isArray(a)?f=a:eu(a)&&gl(a)?f=Mj(a):m?(c=!1,f=TX(l,!0)):f=[]:Ni(l)||ky(l)?(f=a,ky(a)?f=gwe(a):(typeof a=="function"||!Pn(a))&&(f=$X(l))):c=!1}c&&(s.set(l,f),i(f,l,n,o,s),s.delete(l)),CI(e,r,f)},CI=(e,t,r)=>{(r!==void 0&&!dg(e[t],r)||r===void 0&&!(t in e))&&_0(e,t,r)};function ywe(e,t,r){const n=Object(e),i=r(e);let{length:o}=i,s=-1;for(;o--;){const a=i[++s];if(t(n[a],a,n)===!1)break}return e}const wwe=(e,t)=>e&&ywe(e,t,b0),zj=(e,t)=>{if(e==null)return e;if(!gl(e))return wwe(e,t);const r=e.length,n=Object(e);let i=-1;for(;++i<r&&t(n[i],i,n)!==!1;);return e};function bwe(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}const _we=Set&&1/FT(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function jX(e,t,r,n,i,o){return Pn(e)&&Pn(t)&&(o.set(t,e),Uj(e,t,void 0,jX,o),o.delete(t)),e}function Ewe(e,t,r){t.length?t=t.map(s=>Array.isArray(s)?a=>BT(a,s.length===1?s[0]:s):s):t=[s=>s];let n=-1,i=-1;const o=gl(e)?new Array(e.length):[];return zj(e,s=>{const a=t.map(l=>l(s));o[++i]={criteria:a,index:++n,value:s}}),Swe(o,(s,a)=>dwe(s,a,r))}function Swe(e,t){let{length:r}=e;for(e.sort(t);r--;)e[r]=e[r].value;return e}function DX(e){return e===e&&!Pn(e)}function MX(e,t){return r=>r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}function Twe(e,t){return e!=null&&Fwe(e,t,Lwe)}function $we(e,t){return Bj(e)&&DX(t)?MX(sp(e),t):r=>{const n=BT(r,e);return n===void 0&&n===t?Twe(r,e):LT(t,n)}}function xwe(e){const t=Awe(e);return t.length===1&&t[0][2]?MX(t[0][0],t[0][1]):r=>r===e||Owe(r,e,t)}function Awe(e){const t=b0(e);let r=t.length;for(;r--;){const n=t[r],i=e[n];t[r]=[n,i,DX(i)]}return t}function Owe(e,t,r,n){let i=r.length;const o=i;if(e==null)return!o;let s;for(e=Object(e);i--;)if(s=r[i],s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1;for(;++i<o;){s=r[i];const a=s[0],l=e[a],u=s[1];if(s[2]){if(l===void 0&&!(a in e))return!1}else{const f=new Pm;if(!LT(u,l,f))return!1}}return!0}function Pwe(e){return Bj(e)?Rwe(sp(e)):Nwe(e)}function Rwe(e){return t=>t==null?void 0:t[e]}function Nwe(e){return t=>BT(t,e)}function Iwe(e){return typeof e=="function"?e:e==null?t=>t:typeof e=="object"?Array.isArray(e)?$we(e[0],e[1]):xwe(e):Pwe(e)}function UT(){const e=Iwe;return arguments.length?e(arguments[0]):e}const Cwe=(e,t,r,n)=>{let i=-1;const o=e==null?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r},kwe=(e,t,r,n,i)=>(i(e,(o,s,a)=>{r=n?(n=!1,o):t(r,o,s,a)}),r);function jwe(e,t,r){const n=Array.isArray(e)?Cwe:kwe,i=arguments.length<3;return n(e,t,r,i,zj)}const Dwe=e=>Array.isArray(e)||ky(e)||!!(e&&e[Symbol.isConcatSpreadable]);function LX(e,t,r,n,i){let o=-1;const s=e.length;for(r||(r=Dwe),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?LX(a,t-1,r,n,i):i.push(...a):i[i.length]=a}return i}const ky=e=>eu(e)&&hl(e)=="[object Arguments]",Mwe=e=>typeof e=="number"&&e>-1&&e%1==0&&e<=Number.MAX_SAFE_INTEGER,Lwe=(e,t)=>e!=null&&t in Object(e),Fwe=(e,t,r)=>{t=hg(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=sp(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&Mwe(i)&&IX(s,i)&&(Array.isArray(e)||ky(e)))},Bwe=e=>e.match(G0e),Uwe=e=>e.match(k0e),zwe=(e,t)=>(H0e(e)?Uwe(e):Bwe(e))||[],qwe=(e,t,r)=>{const{length:n}=e;return r=r===void 0?n:r,!t&&r>=n?e:e.slice(t,r)},Vwe=Hwe("toUpperCase");function Hwe(e){return t=>{if(!t)return"";const r=_X(t)?EX(t):void 0,n=r?r[0]:t[0],i=r?qwe(r,1).join(""):t.slice(1);return n[e]()+i}}class Pm{constructor(t){const r=this.__data__=new oA(t);this.size=r.size}clear(){this.__data__=new oA,this.size=0}delete(t){const r=this.__data__,n=r.delete(t);return this.size=r.size,n}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,r){let n=this.__data__;if(n instanceof oA){const i=n.__data__;if(i.length<Dj-1)return i.push([t,r]),this.size=++n.size,this;n=this.__data__=new FX(i)}return n.set(t,r),this.size=n.size,this}}class oA{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(t){const r=this.__data__,n=Uw(r,t);if(n<0)return!1;const i=r.length-1;return n==i?r.pop():r.splice(n,1),--this.size,!0}get(t){const r=this.__data__,n=Uw(r,t);return n<0?void 0:r[n][1]}has(t){return Uw(this.__data__,t)>-1}set(t,r){const n=this.__data__,i=Uw(n,t);return i<0?(++this.size,n.push([t,r])):n[i][1]=r,this}}class FX{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new AU,map:new Map,string:new AU}}delete(t){const r=zw(this,t).delete(t);return this.size-=r?1:0,r}get(t){return zw(this,t).get(t)}has(t){return zw(this,t).has(t)}set(t,r){const n=zw(this,t),i=n.size;return n.set(t,r),this.size+=n.size==i?0:1,this}}class AU{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){const r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}get(t){const n=this.__data__[t];return n===NI?void 0:n}has(t){return this.__data__[t]!==void 0}set(t,r){const n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r===void 0?NI:r,this}}class jy{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.__data__=new FX;++r<n;)this.add(t[r])}add(t){return this.__data__.set(t,NI),this}has(t){return this.__data__.has(t)}}jy.prototype.push=jy.prototype.add;const Wwe=function(e){var t=Object.prototype.toString;return e===!0||e===!1||!!e&&typeof e=="object"&&t.call(e)===CT},Pn=function(e){return!!e&&(typeof e=="object"||typeof e=="function")},Ds=function(e){var t=Object.prototype.toString;return typeof e=="number"||!!e&&typeof e=="object"&&t.call(e)===kT},zo=function(e){var t=Object.prototype.toString;return typeof e=="string"||!!e&&typeof e=="object"&&t.call(e)===jT},dr=kX((e,t)=>{if(MT(t)||gl(t)){E0(t,b0(t),e);return}for(var r in t)hasOwnProperty.call(t,r)&&_0(e,r,t[r])}),Gwe=(e,...t)=>{let r=-1,n=t.length;const i=n>2?t[2]:void 0;for(i&&n1(t[0],t[1],i)&&(n=1);++r<n;){const o=t[r];if(o==null)continue;const s=Object.keys(o),a=s.length;let l=-1;for(;++l<a;){const u=s[l],f=e[u];(f===void 0||dg(f,Object.prototype[u])&&!hasOwnProperty.call(e,u))&&(e[u]=o[u])}}return e},Xa=Gwe,Kwe=function(...t){return t.push(void 0,jX),Xi.apply(void 0,t)},qj=Kwe,ku=(e,t,...r)=>{let n=-1;const i=typeof t=="function",o=gl(e)?new Array(e.length):[];return zj(e,s=>{o[++n]=i?t.apply(s,r):Jwe(s,t,...r)}),o},Jwe=(e,t,...r)=>{t=hg(t,e),e=NX(e,t);const n=e==null?e:e[sp(bwe(t))];return n==null?void 0:n.apply(e,r)},BX=(e,t,r)=>{let n=0,i=e==null?0:e.length;if(i==0)return 0;r=UT(r,2),t=r(t);const o=t!==t,s=t===null,a=Xm(t),l=t===void 0;for(;n<i;){let u;const f=Math.floor((n+i)/2),c=r(e[f]),h=c!==void 0,m=c===null,g=c===c,_=Xm(c);o?u=g:l?u=g&&h:s?u=g&&h&&!m:a?u=g&&h&&!m&&!_:m||_?u=!1:u=c<t,u?n=f+1:i=f}return Math.min(i,W0e)},T0=(e,t)=>{let r=-1,n=(l,u)=>!!(l==null?0:l.length)&&l.indexOf(u)>-1;t=UT(t,2);let i=!0;const{length:o}=e,s=[];let a=s;if(o>=Dj){const l=t?null:_we(e);if(l)return FT(l);i=!1,n=(u,f)=>u.has(f),a=new jy}else a=t?[]:s;e:for(;++r<o;){let l=e[r];const u=t?t(l):l;if(l=l!==0?l:0,i&&u===u){let f=a.length;for(;f--;)if(a[f]===u)continue e;t&&a.push(u),s.push(l)}else n(a,u)||(a!==s&&a.push(u),s.push(l))}return s},Au=e=>Om(e),Qa=e=>Om(e,!0),Oc=e=>{if(e==null)return!0;if(gl(e)&&(Array.isArray(e)||typeof e=="string"||typeof e.splice=="function"||S0(e)||ky(e)))return!e.length;const t=hl(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(MT(e))return!X0e(e).length;for(const r in e)if(hasOwnProperty.call(e,r))return!1;return!0},dm=(e,t)=>LT(e,t),ei=e=>typeof e=="function",Ni=e=>{if(!eu(e)||hl(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},ln=e=>{if(!e)return[];if(gl(e))return zo(e)?EX(e):Mj(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){const n=e[Symbol.iterator]();let i;const o=[];for(;!(i=n.next()).done;)o.push(i.value);return o}const t=hl(e);return(t==y0?PX:t==w0?FT:Y0e)(e)};function Ywe(e,t,r){if(typeof e!="function")throw new TypeError("Expected a function");let n,i,o,s,a,l,u=0,f=!1,c=!1,h=!0;const m=!t&&t!==0&&window&&typeof window.requestAnimationFrame=="function";t=+t||0,Pn(r)&&(f=!!r.leading,c="maxWait"in r,o=c?Math.max(20,t):o,h="trailing"in r?!!r.trailing:h);function g(d){const x=n,O=i;return n=i=void 0,u=d,s=e.apply(O,x),s}function _(d,x){return m?(window.cancelAnimationFrame(a),window.requestAnimationFrame(d)):setTimeout(d,x)}function v(d){if(m)return window.cancelAnimationFrame(d);clearTimeout(d)}function p(d){return u=d,a=_(S,t),f?g(d):s}function E(d){const x=d-l,O=d-u,P=t-x;return c?Math.min(P,o-O):P}function y(d){const x=d-l,O=d-u;return l===void 0||x>=t||x<0||c&&O>=o}function S(){const d=Date.now();if(y(d))return T(d);a=_(S,E(d))}function T(d){return a=void 0,h&&n?g(d):(n=i=void 0,s)}function $(...d){const x=Date.now(),O=y(x);if(n=d,i=this,l=x,O){if(a===void 0)return p(l);if(c)return a=_(S,t),g(l)}return a===void 0&&(a=_(S,t)),s}return $.cancel=()=>{a!==void 0&&v(a),u=0,n=l=i=a=void 0},$.flush=()=>a===void 0?s:T(Date.now()),$.pending=()=>a!==void 0,$}const Xwe=(e,t)=>(t=UT(t,2),jwe(e,(r,n,i)=>(i=t(n),hasOwnProperty.call(r,i)?r[i].push(n):_0(r,i,[n]),r),{})),sA=(e,t=[])=>{if(e==null)return[];const r=t.length;return r>1&&n1(e,t[0],t[1])?t=[]:r>2&&n1(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[UT(t,2)]),Ewe(e,t.flat(1),[])},Qwe=e=>(e==null?0:e.length)?LX(e,1/0):[],OU=(e,...t)=>gl(e)?RX(e,t):[],Zwe=(e,...t)=>eu(e)&&gl(e)?RX(e,t.flat(1)):[],kI=(...e)=>{const t=e.flat(1);return T0(t)},Vf=(e,t)=>{if(e==null)return!1;typeof t=="string"&&(t=t.split("."));let r=-1,n=e;for(;++r<t.length;){if(!n||!hasOwnProperty.call(n,t[r]))return!1;n=n[t[r]]}return!0},Ii=(e,t,r)=>{t=hg(t,e);let n=-1,i=t.length;for(i||(i=1,e=void 0);++n<i;){let o=e==null?void 0:e[sp(t[n])];o===void 0&&(n=i,o=r),e=typeof o=="function"?o.call(e):o}return e},Dy=(e,...t)=>{let r={};if(e==null)return r;let n=!1;t=t.flat(1).map(o=>(o=hg(o,e),n||(n=o.length>1),o)),E0(e,AX(e),r),n&&(r=Om(r,!0,!0,!0,o=>Ni(o)?void 0:o));let i=t.length;for(;i--;)pwe(r,t[i]);return r},Za=(e,t=r=>r)=>{let r=-1;const n=Object(e),i=gl(e)?SX(e,!0):CX(e);let o=i.length;for(;o--;){const s=i[++r];if(t(n[s],s,n)===!1)break}},ebe=(e="")=>zwe(`${e}`.replace(/['\u2019]/g,"")).reduce((t,r,n)=>(r=r.toLowerCase(),t+(n?Vwe(r):r)),"");let tbe=0;const rbe=(e="")=>{const t=++tbe;return`${e}`+t},Xi=kX((e,t,r,n)=>{Uj(e,t,r,n)},!0),Vl=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,nd.classNamePrefix.length)!==nd.classNamePrefix&&(t=nd.classNamePrefix+t),t}).join(" ")},nbe=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,nd.classNamePrefix.length)===nd.classNamePrefix&&(t=t.substr(nd.classNamePrefix.length)),t}).join(" ")},i1=function(e,t){const r={},n={},i=wt.namespace.svg,o=t||i,s=document.createDocumentFragment(),a=function(l,u,f){for(let c=0;c<l.length;c++){const h=l[c];if(typeof h=="string"){const S=document.createTextNode(h);u.appendChild(S);continue}if(!h.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const m=h.tagName;let g;h.hasOwnProperty("namespaceURI")&&(f=h.namespaceURI),g=document.createElementNS(f,m);const _=f===i,v=_?wt:wn,p=h.attributes;p&&v(g).attr(p);const E=h.style;if(E&&wn(g).css(E),h.hasOwnProperty("className")){const S=h.className;_?g.className.baseVal=S:g.className=S}if(h.hasOwnProperty("textContent")&&(g.textContent=h.textContent),h.hasOwnProperty("selector")){const S=h.selector;if(r[S])throw new Error("json-dom-parser: selector must be unique");r[S]=g,v(g).attr("joint-selector",S)}if(h.hasOwnProperty("groupSelector")){let S=h.groupSelector;Array.isArray(S)||(S=[S]);for(let T=0;T<S.length;T++){const $=S[T];let d=n[$];d||(d=n[$]=[]),d.push(g)}}u.appendChild(g);const y=h.children;Array.isArray(y)&&a(y,g,f)}};return a(e,s,o),{fragment:s,selectors:r,groupSelectors:n}},qw=function(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return t},My=function(e,t,r){for(var n=Array.isArray(t)?t:t.split(r||"/"),i,o=0,s=n.length;o<s;)if(i=n[o++],Object(e)===e&&i in e)e=e[i];else return;return e},UX=function(e,t){return typeof t!="string"&&typeof t!="number"&&(t=String(t)),!(t==="constructor"&&typeof e[t]=="function"||t==="__proto__")},PU=function(e,t,r,n){const i=Array.isArray(t)?t:t.split(n||"/"),o=i.length-1;let s=e,a=0;for(;a<o;a++){const l=i[a];if(!UX(s,l))return e;s=s[l]||(s[l]={})}return s[i[o]]=r,e},RU=function(e,t,r){const n=Array.isArray(t)?t:t.split(r),i=n.length-1;let o=e,s=0;for(;s<i;s++){const a=n[s];if(!UX(o,a))return e;const l=o[a];if(!l)return e;o=l}return delete o[n[i]],e},ibe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})},hm=function(e){return hm.id=hm.id||1,e===void 0?"j_"+hm.id++:(e.id=e.id===void 0?"j_"+hm.id++:e.id,e.id)},obe=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},mo=function(e){if(e.normalized)return e;const{originalEvent:t,target:r}=e,n=t&&t.changedTouches&&t.changedTouches[0];if(n)for(let i in n)e[i]===void 0&&(e[i]=n[i]);if(r){const i=r.correspondingUseElement;i&&(e.target=i)}return e.normalized=!0,e},sbe=function(e){let i=0,o=0,s=0,a=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(i=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(i=o,o=0),s="deltaX"in e?e.deltaX:i*10,a="deltaY"in e?e.deltaY:o*10,(s||a)&&e.deltaMode&&(e.deltaMode==1?(s*=40,a*=40):(s*=800,a*=800)),e.deltaX===0&&e.deltaY!==0&&e.shiftKey&&(s=a,a=0,i=o,o=0),s&&!i&&(i=s<1?-1:1),a&&!o&&(o=a<1?-1:1),{spinX:i,spinY:o,deltaX:s,deltaY:a}},abe=function(e,t){return e>t?t:e<-t?-t:e},jI=function(){var e;if(typeof window<"u"&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(r){var n=new Date().getTime(),i=Math.max(0,16-(n-t)),o=setTimeout(function(){r(n+i)},i);return t=n+i,o}}return function(r,n,...i){return e(n!==void 0?r.bind(n,...i):r)}}(),DI=function(){var e,t=typeof window<"u";return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e}(),$o=function(e){return zo(e)&&e.slice(-1)==="%"},lbe=function(e,t){function r(a){var l=new RegExp("(?:\\d+(?:\\.\\d+)*)("+a+")$").exec(e);return l?l[1]:null}var n=parseFloat(e);if(Number.isNaN(n))return null;var i={};i.value=n;var o;if(t==null)o="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;o=t.join("|")}else zo(t)&&(o=t);var s=r(o);return s===null?null:(i.unit=s,i)},Wv=0;function ube(e,t){const r=e.split(t);let n=1;for(let i=0,o=r.length-1;i<o;i++){const s=[];(i>0||r[0]!=="")&&s.push(Wv),s.push(t),(i<o-1||r[o]!=="")&&s.push(Wv),r.splice(n,0,...s),n+=s.length+1}return r.filter(i=>i!=="")}function NU(e,t){if(e===null)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}const cbe=function(e,t,r={},n={}){var i=t.width,o=t.height,s=n.svgDocument||wt("svg").node,a=wt("tspan").node,l=wt("text").attr(r).append(a).node,u=document.createTextNode("");l.style.opacity=0,l.style.display="block",a.style.display="block",a.appendChild(u),s.appendChild(l),n.svgDocument||document.body.appendChild(s);const f=n.preserveSpaces,c=" ",h=n.separator||n.separator===""?n.separator:c,m=typeof h=="string"?h:c;var g=n.eol||`
`,_=n.hyphen?new RegExp(n.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,v=n.maxLineCount;Ds(v)||(v=1/0);var p=e.split(h),E=[],y=[],S,T,$;f&&wt(a).attr("xml:space","preserve");for(var d=0,x=0,O=p.length;d<O;d++){var P=p[d];if(!(!P&&!f)&&typeof P=="string"){var M=!1;if(P.indexOf(g)>=0)if(P.length>1){const D=ube(p[d],g);p.splice(d,1,...D),d--,O=p.length;continue}else{if(f&&typeof p[d-1]=="string"){p.splice(d,Wv,"",Wv),O+=2,d--;continue}y[++x]=!f||typeof p[d+1]=="string"?"":void 0,M=!0}if(!M){let D;if(f?D=y[x]!==void 0?y[x]+m+P:P:D=y[x]?y[x]+m+P:P,u.data=D,a.getComputedTextLength()<=i)y[x]=D,(S||T)&&(E[x++]=!0,S=0,T=0);else{if(!y[x]||S){var U=!!S;if(S=P.length-1,U||!S){if(!S){if(!y[x]){y=[];break}p.splice(d,2,P+p[d+1]),O--,E[x++]=!0,d--;continue}p[d]=P.substring(0,S);const z=p[d+1];p[d+1]=P.substring(S)+(z===void 0||z===Wv?"":z)}else{if(T)p.splice(d,2,p[d]+p[d+1]),T=0;else{var K=P.search(_);K>-1&&K!==P.length-1&&K!==0&&(T=K+1,S=0),p.splice(d,1,P.substring(0,T||S),P.substring(T||S)),O++}x&&!E[x-1]&&x--}(!f||y[x]!=="")&&d--;continue}x++,d--}}var ie=null;if(y.length>v)ie=v-1;else if(o!==void 0){if($===void 0&&u.data!=="")if(r.lineHeight==="auto")$=NU({value:1.5,unit:"em"},l);else{const D=lbe(r.lineHeight,["em","px",""]);$=NU(D,l)}$*y.length>o&&(ie=Math.floor(o/$)-1)}if(ie!==null){y.splice(ie+1);var G=n.ellipsis;if(!G||ie<0)break;typeof G!="string"&&(G="…");var ne=y[ie];if(!ne&&!M)break;var ge=ne.length,re,se;do{if(se=ne[ge],re=ne.substring(0,ge),se?se.match(h)&&(re+=se):re+=m,re+=G,u.data=re,a.getComputedTextLength()<=i){y[ie]=re;break}ge--}while(ge>=0);break}}}return n.svgDocument?s.removeChild(l):document.body.removeChild(s),y.join(g)},fbe=function(e,t){var r=wn(e),n=r.map(function(){var i=this,o=i.parentNode,s=o.insertBefore(document.createTextNode(""),i.nextSibling);return function(){if(o===this)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(this,s),o.removeChild(s)}});return Array.prototype.sort.call(r,t).each(function(i){n[i].call(this)})},Kh=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var r,n,i,o;return r=n=i=o=0,isFinite(e.vertical)&&(r=i=+e.vertical),isFinite(e.horizontal)&&(n=o=+e.horizontal),isFinite(e.top)&&(r=+e.top),isFinite(e.right)&&(n=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(o=+e.left),{top:r,right:n,bottom:i,left:o}},dbe={linear:function(e){return e}},zX={number:function(e,t){var r=t-e;return function(n){return e+r*n}},object:function(e,t){var r=Object.keys(e);return function(n){var i,o,s={};for(i=r.length-1;i!=-1;i--)o=r[i],s[o]=e[o]+(t[o]-e[o])*n;return s}}},hbe={outline:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',r=Number.isFinite(e.margin)?e.margin:2,n=Number.isFinite(e.width)?e.width:1;return ns(t)({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:r+n,innerRadius:r})},highlight:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return ns(t)({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return ns('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return ns(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ns('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ns('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ns('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return ns('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ns('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return ns('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ns('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},ns=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(r){return r=r||{},e.replace(t,function(n){for(var i=Array.from(arguments),o=i.slice(1,4).find(function(l){return!!l}),s=o.split("."),a=r[s.shift()];a!==void 0&&s.length;)a=a[s.shift()];return a!==void 0?a:""})}};function qX(e){e=T0(e);const t=ln(e).reduce(function(r,n){return r[n.id]=n.clone(),r},{});return ln(e).forEach(function(r){const n=t[r.id];if(n.isLink()){const s=n.source(),a=n.target();s.id&&t[s.id]&&n.prop("source/id",t[s.id].id),a.id&&t[a.id]&&n.prop("target/id",t[a.id].id)}const i=r.get("parent");i&&t[i]&&n.set("parent",t[i].id);const o=ln(r.get("embeds")).reduce(function(s,a){return t[a]&&s.push(t[a].id),s},[]);Oc(o)||n.set("embeds",o)}),t}const pbe=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],mbe=pbe.reduce((e,t)=>(e[t]=!0,e),{}),gbe={qualify:function(e){return Ni(e)},set:function(e,t,r){Object.keys(e).forEach(function(n){if(mbe[n]&&n in r){const i=e[n];r.tagName==="SELECT"&&Array.isArray(i)?Array.from(r.options).forEach(function(o,s){o.selected=i.includes(o.value)}):r[n]=i}})}};function vf(e,t){return function(r,n){var i=$o(r);r=parseFloat(r),i&&(r/=100);var o={};if(isFinite(r)){var s=i||r>=0&&r<=1?r*n[t]:Math.max(r+n[t],0);o[e]=s}return o}}function Vw(e,t,r){return function(n,i){var o=$o(n);n=parseFloat(n),o&&(n/=100);var s;if(isFinite(n)){var a=i[r]();o||n>0&&n<1?s=a[e]+i[t]*n:s=a[e]+n}var l=Ze();return l[e]=s||0,l}}function IU(e,t,r){return function(n,i){var o;n==="middle"?o=i[t]/2:n===r?o=i[t]:isFinite(n)?o=n>-1&&n<1?-i[t]*n:-n:$o(n)?o=i[t]*parseFloat(n)/100:o=0;var s=Ze();return s[e]=-(i[e]+o),s}}function VX(e,t){var r="joint-shape",n=t&&t.resetOffset;return function(i,o,s){var a=wn(s),l=a.data(r);if(!l||l.value!==i){var u=e(i);l={value:i,shape:u,shapeBBox:u.bbox()},a.data(r,l)}var f=l.shape.clone(),c=l.shapeBBox.clone(),h=c.origin(),m=o.origin();c.x=m.x,c.y=m.y;var g=o.maxRectScaleToFit(c,m),_=c.width===0||o.width===0?1:g.sx,v=c.height===0||o.height===0?1:g.sy;return f.scale(_,v,h),n&&f.translate(-h.x,-h.y),f}}function CU(e){function t(n){return new or(wt.normalizePathData(n))}var r=VX(t,e);return function(n,i,o){var s=r(n,i,o);return{d:s.serialize()}}}function kU(e){var t=VX(Qn,e);return function(r,n,i){var o=t(r,n,i);return{points:o.serialize()}}}function Hw(e,t){var r=new Ze(1,0);return function(n){var i,o,s=this[e](n);return s?(o=t.rotate?s.vector().vectorAngle(r):0,i=s.start):(i=this.path.start,o=0),o===0?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+o+")"}}}function jU(e){return function(r,n,i){const o=wt(i);o.attr(e)!==r&&o.attr(e,r)}}function Np(e,t,r){return r.text!==void 0}function Qg(){return this.model.isLink()}function aA(e){var t={},r=e.stroke;typeof r=="string"&&(t.stroke=r,t.fill=r);var n=e.strokeOpacity;return n===void 0&&(n=e["stroke-opacity"]),n===void 0&&(n=e.opacity),n!==void 0&&(t["stroke-opacity"]=n,t["fill-opacity"]=n),t}function DU(e){const{paper:t}=this;return`url(#${e.type==="pattern"?t.definePattern(e):t.defineGradient(e)})`}const Ar={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:jU("href")},xlinkHref:{set:jU("xlink:href")},filter:{qualify:Ni,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:Ni,set:DU},stroke:{qualify:Ni,set:DU},sourceMarker:{qualify:Ni,set:function(e,t,r,n){return e=dr(aA(n),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:Ni,set:function(e,t,r,n){return e=dr(aA(n),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:Ni,set:function(e,t,r,n){return e=dr(aA(n),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,r){return!r.textWrap||!Ni(r.textWrap)},set:function(e,t,r,n){const i=wn(r),o="joint-text",s=i.data(o),{lineHeight:a,annotations:l,textVerticalAnchor:u,eol:f,displayEmpty:c}=n;let h=n.textPath,m=n.x;nl(m)&&(m=il(m,t));let g=n["font-size"]||n.fontSize;nl(g)&&(g=il(g,t));const _=JSON.stringify([e,a,l,u,f,c,h,m,g]);if(s===void 0||s!==_){if(g&&r.setAttribute("font-size",g),Pn(h)){const v=h.selector;if(typeof v=="string"){const[p]=this.findBySelector(v);p instanceof SVGPathElement&&(h=dr({"xlink:href":"#"+p.id},h))}}wt(r).text(""+e,{lineHeight:a,annotations:l,textPath:h,x:m,textVerticalAnchor:u,eol:f,displayEmpty:c}),i.data(o,_)}}},textWrap:{qualify:Ni,set:function(e,t,r,n){var i={},o=e.width||0;$o(o)?i.width=t.width*parseFloat(o)/100:nl(o)?i.width=Number(il(o,t)):e.width===null?i.width=1/0:o<=0?i.width=t.width+o:i.width=o;var s=e.height||0;$o(s)?i.height=t.height*parseFloat(s)/100:nl(s)?i.height=Number(il(s,t)):e.height===null||(s<=0?i.height=t.height+s:i.height=s);var a,l=e.text;if(l===void 0&&(l=n.text),l!==void 0){const u=e.breakText||cbe,f=n["font-size"]||n.fontSize;a=u(""+l,i,{"font-weight":n["font-weight"]||n.fontWeight,"font-size":nl(f)?il(f,t):f,"font-family":n["font-family"]||n.fontFamily,lineHeight:n.lineHeight,"letter-spacing":"letter-spacing"in n?n["letter-spacing"]:n.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else a="";Ar.text.set.call(this,a,t,r,n)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,r){var n=wn(r),i="joint-title",o=n.data(i);if(o===void 0||o!==e){if(n.data(i,e),r.tagName==="title"){r.textContent=e;return}var s=r.firstElementChild;if(s&&s.tagName==="title")s.textContent=e;else{var a=document.createElementNS(r.namespaceURI,"title");a.textContent=e,r.insertBefore(a,s)}}}},lineHeight:{qualify:Np},textVerticalAnchor:{qualify:Np},textPath:{qualify:Np},annotations:{qualify:Np},eol:{qualify:Np},displayEmpty:{qualify:Np},port:{set:function(e){return e===null||e.id===void 0?e:e.id}},style:{qualify:Ni,set:function(e,t,r){wn(r).css(e)}},html:{set:function(e,t,r){wn(r).html(e+"")}},props:gbe,ref:{},refX:{position:Vw("x","width","origin")},refY:{position:Vw("y","height","origin")},refDx:{position:Vw("x","width","corner")},refDy:{position:Vw("y","height","corner")},refWidth:{set:vf("width","width")},refHeight:{set:vf("height","height")},refRx:{set:vf("rx","width")},refRy:{set:vf("ry","height")},refRInscribed:{set:function(e){var t=vf(e,"width"),r=vf(e,"height");return function(n,i){var o=i.height>i.width?t:r;return o(n,i)}}("r")},refRCircumscribed:{set:function(e,t){var r=$o(e);e=parseFloat(e),r&&(e/=100);var n=Math.sqrt(t.height*t.height+t.width*t.width),i;return isFinite(e)&&(r||e>=0&&e<=1?i=e*n:i=Math.max(e+n,0)),{r:i}}},refCx:{set:vf("cx","width")},refCy:{set:vf("cy","height")},xAlignment:{offset:IU("x","width","right")},yAlignment:{offset:IU("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:CU({resetOffset:!0})},refDKeepOffset:{set:CU({resetOffset:!1})},refPointsResetOffset:{set:kU({resetOffset:!0})},refPointsKeepOffset:{set:kU({resetOffset:!1})},connection:{qualify:Qg,set:function({stubs:e=0}){let t;if(isFinite(e)&&e!==0){let r;e<0?r=(this.getConnectionLength()+e)/2:r=e;const n=this.getConnection(),i=this.getConnectionSubdivisions(),o=n.divideAtLength(r,{segmentSubdivisions:i}),s=n.divideAtLength(-r,{segmentSubdivisions:i});o&&s&&(t=`${o[0].serialize()} ${s[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:Qg,set:Hw("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:Qg,set:Hw("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:Qg,set:Hw("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:Qg,set:Hw("getTangentAtRatio",{rotate:!1})}};Ar["xlink:href"]=Ar.xlinkHref;["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(e=>{Ar[e]={qualify:nl,set:function(r,n){return{[e]:il(r,n)}}}});["width","height","r","rx","ry","font-size","stroke-width"].forEach(e=>{Ar[e]={qualify:nl,set:function(r,n){return{[e]:Math.max(0,il(r,n))}}}});Ar.refR=Ar.refRInscribed;Ar.refD=Ar.refDResetOffset;Ar.refPoints=Ar.refPointsResetOffset;Ar.atConnectionLength=Ar.atConnectionLengthKeepGradient;Ar.atConnectionRatio=Ar.atConnectionRatioKeepGradient;Ar.fontSize=Ar["font-size"];Ar.strokeWidth=Ar["stroke-width"];Ar.refX2=Ar.refX;Ar.refY2=Ar.refY;Ar.refWidth2=Ar.refWidth;Ar.refHeight2=Ar.refHeight;Ar["ref-x"]=Ar.refX;Ar["ref-y"]=Ar.refY;Ar["ref-dy"]=Ar.refDy;Ar["ref-dx"]=Ar.refDx;Ar["ref-width"]=Ar.refWidth;Ar["ref-height"]=Ar.refHeight;Ar["x-alignment"]=Ar.xAlignment;Ar["y-alignment"]=Ar.yAlignment;const HX=Ar,Vu=Fo.Model.extend({constructor:function(e,t){var r,n=e||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=rbe("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(n=this.parse(n,t)||{}),(r=Ii(this,"defaults"))&&(n=Xi({},r,n)),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,r){throw new Error("Must define a translate() method.")},toJSON:function(){const t=Ii(this.constructor.prototype,"defaults").attrs||{},r=this.attributes.attrs,n={};Za(r,function(o,s){const a=t[s];Za(o,function(l,u){Pn(l)&&!Array.isArray(l)?Za(l,function(f,c){(!a||!a[u]||!dm(a[u][c],f))&&(n[s]=n[s]||{},(n[s][u]||(n[s][u]={}))[c]=f)}):(!a||!dm(a[u],l))&&(n[s]=n[s]||{},n[s][u]=l)})});const i=Qa(Dy(this.attributes,"attrs"));return i.attrs=n,i},initialize:function(e){const t=this.getIdAttribute();(!e||e[t]===void 0)&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return ibe()},processPorts:function(){var e=this.ports,t={};Za(this.get("attrs"),function(o,s){o&&o.port&&(o.port.id!==void 0?t[o.port.id]=o.port:t[o.port]={id:o.port})});var r={};if(Za(e,function(o,s){t[s]||(r[s]=!0)}),this.graph&&!Oc(r)){var n=this.graph.getConnectedLinks(this,{inbound:!0});n.forEach(function(o){r[o.get("target").port]&&o.remove()});var i=this.graph.getConnectedLinks(this,{outbound:!0});i.forEach(function(o){r[o.get("source").port]&&o.remove()})}this.ports=t},remove:function(e={}){const{graph:t,collection:r}=this;if(!t)return r&&r.remove(this,e),this;t.startBatch("remove");const n=this.getParentCell();n&&n.unembed(this,e);const i=this.getEmbeddedCells();for(let o=0,s=i.length;o<s;o++){const a=i[o];a&&a.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=Xa(e||{},{foregroundEmbeds:!0});let r;e.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),r.unshift(this)):r=[this];const n=e.foregroundEmbeds?r:sA(r,l=>l.z());let o=t.maxZIndex()-r.length+1;const s=t.get("cells");let a=s.indexOf(n[0])!==s.length-r.length;a||(a=n.some(function(l,u){return l.z()!==o+u})),a&&(this.startBatch("to-front"),o=o+r.length,n.forEach(function(l,u){l.set("z",o+u,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=Xa(e||{},{foregroundEmbeds:!0});let n;e.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];const i=e.foregroundEmbeds?n:sA(n,a=>a.z());let o=t.minZIndex();var r=t.get("cells");let s=r.indexOf(i[0])!==0;s||(s=i.some(function(a,l){return a.z()!==o+l})),s&&(this.startBatch("to-back"),o-=n.length,i.forEach(function(a,l){a.set("z",o+l,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return e===void 0?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){const r=Array.isArray(e)?e:[e];if(!this.canEmbed(r))throw new Error("Recursive embedding not allowed.");if(r.some(n=>n.isEmbedded()&&this.id!==n.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(r,t),this},unembed:function(e,t){const r=Array.isArray(e)?e:[e];return this._unembedCells(r,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every(r=>this!==r&&!this.isEmbeddedIn(r))},_embedCells:function(e,t){const r="embed";this.startBatch(r);const n=dr([],this.get("embeds"));e.forEach(i=>{n[i.isLink()?"unshift":"push"](i.id),i.parent(this.id,t)}),this.set("embeds",T0(n),t),this.stopBatch(r)},_unembedCells:function(e,t){const r="unembed";this.startBatch(r),e.forEach(n=>n.unset("parent",t)),this.set("embeds",OU(this.get("embeds"),...e.map(n=>n.id)),t),this.stopBatch(r)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},!this.graph)return[];if(e.deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);const t=this.get("embeds");if(Oc(t))return[];let r=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(r=sA(r,n=>n.z())),r},_getEmbeddedCellsBfs:function(e){const t=[],r=[];for(r.push(this);r.length>0;){const n=r.shift();t.push(n);const i=n.getEmbeddedCells({sortSiblings:e});r.push(...i)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){const t=[],r=[];for(r.push(this);r.length>0;){const n=r.pop();t.push(n);const i=n.getEmbeddedCells({sortSiblings:e});for(let o=i.length-1;o>=0;--o)r.push(i[o])}return t.shift(),t},isEmbeddedIn:function(e,t){var r=zo(e)?e:e.id,n=this.parent();if(t=dr({deep:!0},t),this.graph&&t.deep){for(;n;){if(n===r)return!0;n=this.graph.getCell(n).parent()}return!1}else return n===r},isEmbedded:function(){return!!this.parent()},clone:function(e){if(e=e||{},e.deep)return ln(qX([this].concat(this.getEmbeddedCells({deep:!0}))));var t=Fo.Model.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,r){var n="/",i=zo(e);if(i||Array.isArray(e))if(arguments.length>1){var o,s;i?(o=e,s=o.split("/")):(o=e.join(n),s=e.slice());var a=s[0],l=s.length;const y=r||{};y.propertyPath=o,y.propertyValue=t,y.propertyPathArray=s,"rewrite"in y||(y.rewrite=!1);for(var u={},f=u,c=a,h=1;h<l;h++){var m=s[h],g=Number.isFinite(i?Number(m):m);f=f[c]=g?[]:{},c=m}u=PU(u,s,t,"/");var _=Xi({},this.attributes);y.rewrite&&RU(_,o,"/");var v=Xi(_,u);return this.set(a,v[a],y)}else return My(this.attributes,e,n);const p=t||{};p.propertyPath=null,p.propertyValue=e,p.propertyPathArray=[],"rewrite"in p||(p.rewrite=!1);const E={};for(const y in e){const{changedValue:S}=Xi({},{changedValue:this.attributes[y]},{changedValue:e[y]});E[y]=S}return this.set(E,p)},removeProp:function(e,t){t=t||{};var r=Array.isArray(e)?e:e.split("/"),n=r[0];if(n==="attrs"&&(t.dirty=!0),r.length===1)return this.unset(e,t);var i=r.slice(1),o=this.get(n);return o==null?this:(o=Qa(o),RU(o,i,"/"),this.set(n,o,t))},attr:function(e,t,r){var n=Array.from(arguments);return n.length===0?this.get("attrs"):(Array.isArray(e)?n[0]=["attrs"].concat(e):zo(e)?n[0]="attrs/"+e:n[0]={attrs:e},this.prop.apply(this,n))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,r,n){n=n||"/";var i={duration:100,delay:10,timingFunction:dbe.linear,valueFunction:zX.number};r=dr(i,r);var o=0,s,a=(function(c){var h,m,g;o=o||c,c-=o,m=c/r.duration,m<1?this._transitionIds[e]=h=jI(a):(m=1,delete this._transitionIds[e]),g=s(r.timingFunction(m)),r.transitionId=h,this.prop(e,g,r),h||this.trigger("transition:end",this,e)}).bind(this);const{_scheduledTransitionIds:l}=this;let u;var f=c=>{l[e]&&(l[e]=OU(l[e],u),l[e].length===0&&delete l[e]),this.stopPendingTransitions(e,n),s=r.valueFunction(My(this.attributes,e,n),t),this._transitionIds[e]=jI(c),this.trigger("transition:start",this,e)};return u=setTimeout(f,r.delay,a),l[e]||(l[e]=[]),l[e].push(u),u},getTransitions:function(){return kI(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t="/"){const{_scheduledTransitionIds:r={}}=this;let n=Object.keys(r);if(e){const i=e.split(t);n=n.filter(o=>dm(i,o.split(t).slice(0,i.length)))}return n.forEach(i=>{r[i].forEach(s=>clearTimeout(s)),delete r[i]}),this},stopPendingTransitions(e,t="/"){const{_transitionIds:r={}}=this;let n=Object.keys(r);if(e){const i=e.split(t);n=n.filter(o=>dm(i,o.split(t).slice(0,i.length)))}n.forEach(i=>{const o=r[i];DI(o),delete r[i],this.trigger("transition:end",this,i)})},stopTransitions:function(e,t="/"){return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,dr({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,dr({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var r in e)!e.hasOwnProperty(r)||!this.hasChanged(r)||(t|=e[r]);return t},angle:function(){return 0},position:function(){return new Ze(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new Ze},getBBox:function(){return new Vt(0,0,0,0)},getPointRotatedAroundCenter(e,t,r){const n=new Ze(t,r);return e&&n.rotate(this.getBBox().center(),e),n},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes,r=HX;return t&&t[e]||r[e]},define:function(e,t,r,n){r=dr({defaults:qj({type:e},t,this.prototype.defaults)},r);var i=this.extend(r,n);return typeof joint<"u"&&Vf(joint,"shapes")&&PU(joint.shapes,e,i,"."),i}}),vbe=function(e,t,r){if(zo(r)){if(!MI[r])throw new Error('Unknown wrapper: "'+r+'"');r=MI[r]}if(!ei(r))throw new Error("Wrapper must be a function.");ln(t).forEach(function(n){e[n]=r(e[n])})},MI={cells:function(e){return function(){var t=Array.from(arguments),r=t.length,n=r>0&&t[0]||[],i=r>1&&t[r-1]||{};return Array.isArray(n)||(i instanceof Vu?n=t:n instanceof Vu&&(t.length>1&&t.pop(),n=t)),i instanceof Vu&&(i={}),e.call(this,n,i)}}},Ei={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function WX(e,t){const r=new Vt(e);switch(t){case void 0:throw new Error("Position required");case Ei.LEFT:case"leftMiddle":return r.leftMiddle();case Ei.RIGHT:case"rightMiddle":return r.rightMiddle();case Ei.TOP:case"topMiddle":return r.topMiddle();case Ei.BOTTOM:case"bottomMiddle":return r.bottomMiddle();case Ei.TOP_LEFT:case"topLeft":case"origin":return r.topLeft();case Ei.TOP_RIGHT:case"topRight":return r.topRight();case Ei.BOTTOM_LEFT:case"bottomLeft":return r.bottomLeft();case Ei.BOTTOM_RIGHT:case"bottomRight":case"corner":return r.bottomRight();case Ei.CENTER:return r.center();default:throw new Error(`Unknown position: ${t}`)}}function GX(e,t,r){var n=e.toJSON();return n.angle=t||0,Xa({},r,n)}function $0(e,t,r,n){return e.map(function(i,o,s){var a=this.pointAt((o+.5)/s.length);return(i.dx||i.dy)&&a.offset(i.dx||0,i.dy||0),GX(a.round(),0,Vj(n,i))},kh(t,r))}function KX(e,t,r,n){var i=t.center(),o=t.width/t.height,s=t.topMiddle(),a=ds.fromRect(t);return e.map(function(l,u,f){var c=r+n(u,f.length),h=s.clone().rotate(i,-c).scale(o,1,i),m=l.compensateRotation?-a.tangentTheta(h):0;return(l.dx||l.dy)&&h.offset(l.dx||0,l.dy||0),l.dr&&h.move(i,l.dr),GX(h.round(),m,Vj(t,l))})}function Vj(e,t){let{x:r,y:n,angle:i}=t;return $o(r)?r=parseFloat(r)/100*e.width:nl(r)&&(r=Number(il(r,e))),$o(n)?n=parseFloat(n)/100*e.height:nl(n)&&(n=Number(il(n,e))),{x:r,y:n,angle:i}}function LI(e,t){const{x:r,y:n}=Vj(e,t);return new Ze(r||0,n||0)}const ybe=function(e,t){return e.map(r=>{const n=LI(t,r).round().toJSON();return n.angle=r.angle||0,n})},wbe=function(e,t,r){return r.fn(e,t,r)},bbe=function(e,t,r){var n=LI(t,r.start||t.origin()),i=LI(t,r.end||t.corner());return $0(e,n,i,t)},_be=function(e,t,r){return $0(e,t.origin(),t.bottomLeft(),t)},Ebe=function(e,t,r){return $0(e,t.topRight(),t.corner(),t)},Sbe=function(e,t,r){return $0(e,t.origin(),t.topRight(),t)},Tbe=function(e,t,r){return $0(e,t.bottomLeft(),t.corner(),t)},$be=function(e,t,r){var n=r.startAngle||0,i=r.step||360/e.length;return KX(e,t,n,function(o){return o*i})},xbe=function(e,t,r){var n=r.startAngle||0,i=r.step||20;return KX(e,t,n,function(o,s){return(o+.5-s/2)*i})},Abe=Object.freeze(Object.defineProperty({__proto__:null,absolute:ybe,bottom:Tbe,ellipse:xbe,ellipseSpread:$be,fn:wbe,left:_be,line:bbe,right:Ebe,top:Sbe},Symbol.toStringTag,{value:"Module"}));function $d(e,t){return qj({},e,t,{x:0,y:0,angle:0,attrs:{}})}function JX(e){var t=e.center(),r=t.theta(e.origin()),n=t.theta(e.bottomLeft()),i=t.theta(e.corner()),o=t.theta(e.topRight());return[r,o,i,n]}function YX(e,t,r,n){n=Xa({},n,{offset:15});var i=t.center().theta(e),o,s,a,l,u=n.offset,f=0;const[c,h,m,g]=JX(t);i<h||i>m?(a=".3em",o=u,s=0,l="start"):i<c?(o=0,s=-u,r?(f=-90,l="start",a=".3em"):(l="middle",a="0")):i<g?(a=".3em",o=-u,s=0,l="end"):(o=0,s=u,r?(f=90,l="start",a=".3em"):(l="middle",a=".6em"));var _=Math.round;return $d(n,{x:_(o),y:_(s),angle:f,attrs:{labelText:{y:a,textAnchor:l}}})}function XX(e,t,r,n){n=Xa({},n,{offset:15});var i=t.center().theta(e),o,s,a,l,u=n.offset,f=0;const[c,h,m,g]=JX(t);i<h||i>m?(a=".3em",o=-u,s=0,l="end"):i<c?(o=0,s=u,r?(f=90,l="start",a=".3em"):(l="middle",a=".6em")):i<g?(a=".3em",o=u,s=0,l="start"):(o=0,s=-u,r?(f=-90,l="start",a=".3em"):(l="middle",a="0"));var _=Math.round;return $d(n,{x:_(o),y:_(s),angle:f,attrs:{labelText:{y:a,textAnchor:l}}})}function QX(e,t,r){r=Xa({},r,{offset:20});var n=XS(0,0),i=-e.theta(n),o=i,s=e.clone().move(n,r.offset).difference(e).round(),a=".3em",l;(i+90)%180===0?(l=t?"end":"middle",!t&&i===-270&&(a="0em")):i>-270&&i<-90?(l="start",o=i-180):l="end";var u=Math.round;return $d(r,{x:u(s.x),y:u(s.y),angle:t?o:0,attrs:{labelText:{y:a,textAnchor:l}}})}const Obe=function(e,t,r){return $d(r)},Pbe=function(e,t,r){return $d(r,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},Rbe=function(e,t,r){return $d(r,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},Nbe=function(e,t,r){return $d(r,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},Ibe=function(e,t,r){return $d(r,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},Cbe=function(e,t,r){return YX(e,t,!0,r)},kbe=function(e,t,r){return YX(e,t,!1,r)},jbe=function(e,t,r){return XX(e,t,!0,r)},Dbe=function(e,t,r){return XX(e,t,!1,r)},Mbe=function(e,t,r){return QX(e.difference(t.center()),!1,r)},Lbe=function(e,t,r){return QX(e.difference(t.center()),!0,r)},Fbe=Object.freeze(Object.defineProperty({__proto__:null,bottom:Ibe,inside:Dbe,insideOriented:jbe,left:Pbe,manual:Obe,outside:kbe,outsideOriented:Cbe,radial:Mbe,radialOriented:Lbe,right:Rbe,top:Nbe},Symbol.toStringTag,{value:"Module"})),pg=Vu.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,r){if(e===void 0)return Au(this.get("source"));var n,i,o=e instanceof Vu;if(o)return n=Au(t)||{},n.id=e.id,i=r,this.set("source",n,i);var s=!Ni(e);return s?(n=Au(t)||{},n.x=e.x,n.y=e.y,i=r,this.set("source",n,i)):(n=e,i=t,this.set("source",n,i))},target:function(e,t,r){if(e===void 0)return Au(this.get("target"));var n,i,o=e instanceof Vu;if(o)return n=Au(t)||{},n.id=e.id,i=r,this.set("target",n,i);var s=!Ni(e);return s?(n=Au(t)||{},n.x=e.x,n.y=e.y,i=r,this.set("target",n,i)):(n=e,i=t,this.set("target",n,i))},router:function(e,t,r){if(e===void 0){var n=this.get("router");return n?typeof n=="object"?Au(n):n:this.get("manhattan")?{name:"orthogonal"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},s=i?t:r;return this.set("router",o,s)},connector:function(e,t,r){if(e===void 0){var n=this.get("connector");return n?typeof n=="object"?Au(n):n:this.get("smooth")?{name:"smooth"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},s=i?t:r;return this.set("connector",o,s)},label:function(e,t,r){var n=this.labels();return e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=n.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,r)},labels:function(e,t){return arguments.length===0?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){const{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,r){if(!t)throw new Error("dia.Link: no label provided");var n=this.labels(),i=n.length;return e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1),n.splice(e,0,t),this.labels(n,r)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var r=this.labels();return e=isFinite(e)&&e!==null?e|0:-1,r.splice(e,1),this.labels(r,t)},vertex:function(e,t,r){var n=this.vertices();if(e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=n.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,r)},vertices:function(e,t){if(arguments.length===0)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var r=[],n=0;n<e.length;n++){var i=e[n],o=this._normalizeVertex(i);r.push(o)}return this.set("vertices",r,t)},insertVertex:function(e,t,r){if(!t)throw new Error("dia.Link: no vertex provided");var n=this.vertices(),i=n.length;e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1);var o=this._normalizeVertex(t);return n.splice(e,0,o),this.vertices(n,r)},removeVertex:function(e,t){var r=this.vertices();return e=isFinite(e)&&e!==null?e|0:-1,r.splice(e,1),this.vertices(r,t)},_normalizeVertex:function(e){var t=!Ni(e);return t?{x:e.x,y:e.y}:e},translate:function(e,t,r){return r=r||{},r.translateBy=r.translateBy||this.id,r.tx=e,r.ty=t,this.applyToPoints(function(n){return{x:(n.x||0)+e,y:(n.y||0)+t}},r)},scale:function(e,t,r,n){return this.applyToPoints(function(i){return Ze(i).scale(e,t,r).toJSON()},n)},applyToPoints:function(e,t){if(!ei(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var r={},{source:n,target:i}=this.attributes;n.id||(r.source=e(n)),i.id||(r.target=e(i));var o=this.vertices();return o.length>0&&(r.vertices=o.map(e)),this.set(r,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new Ze(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new Ze(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const e=[this.getSourcePoint(),...this.vertices().map(Ze),this.getTargetPoint()];return new Qn(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var r=this.getSourceElement(),n=this.getTargetElement(),i=this.getParentCell();r&&n&&(r===n||r.isEmbeddedIn(n)?t=n:n.isEmbeddedIn(r)?t=r:t=this.graph.getCommonAncestor(r,n)),i&&(!t||t.id!==i.id)&&i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:r}=this.attributes,n=t.id,i=r.id;if(!n||!i)return!1;var o=n===i;if(!o&&e.deep&&this.graph){var s=this.getSourceCell(),a=this.getTargetCell();o=s.isEmbeddedIn(a)||a.isEmbeddedIn(s)}return o},getSourceCell:function(){const{graph:e,attributes:t}=this;var r=t.source;return r&&r.id&&e&&e.getCell(r.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){const{graph:e,attributes:t}=this;var r=t.target;return r&&r.id&&e&&e.getCell(r.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(r){return!!r});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=zo(e)||Ds(e)?e:e.id,r=this.getRelationshipAncestor();return!!r&&(r.id===t||r.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){var r=e.port===t.port||!e.port&&!t.port;return e.id===t.id&&r}});var ZX=function(e){var t=Qa(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=Abe,this.portLabelLayoutNamespace=Fbe,this._init(t)};ZX.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var r=this.getGroup(e),n=this.getPortsByGroup(e),i=r.position||{},o=i.name,s=this.portLayoutNamespace;s[o]||(o="left");var a=i.args||{},l=n.map(function(c){return c&&c.position&&c.position.args}),u=s[o](l,t,a),f={ports:n,result:[]};return ln(u).reduce((function(c,h,m){var g=c.ports[m];return c.result.push({portId:g.id,portTransformation:h,labelTransformation:this._getPortLabelLayout(g,Ze(h),t),portAttrs:g.attrs,portSize:g.size,labelSize:g.label.size}),c}).bind(this),f),f.result},_getPortLabelLayout:function(e,t,r){var n=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return n[i]?n[i](t,r,e.label.position.args):null},_init:function(e){if(Pn(e.groups))for(var t=Object.keys(e.groups),r=0,n=t.length;r<n;r++){var i=t[r];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var o=ln(e.items),s=0,a=o.length;s<a;s++)this.ports.push(this._evaluatePort(o[s]))},_evaluateGroup:function(e){return Xi(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=dr({},e),r=this.getGroup(e.group);return t.markup=t.markup||r.markup,t.attrs=Xi({},r.attrs,t.attrs),t.position=this._createPositionNode(r,t),t.label=Xi({},r.label,this._getLabel(t)),t.z=this._getZIndex(r,t),t.size=dr({},r.size,t.size),t},_getZIndex:function(e,t){return Ds(t.z)?t.z:Ds(e.z)||e.z==="auto"?e.z:"auto"},_createPositionNode:function(e,t){return Xi({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var r={},n;ei(e)?(n="fn",r.fn=e):zo(e)?n=e:e===void 0?n=t?"left":null:Array.isArray(e)?(n="absolute",r.x=e[0],r.y=e[1]):Pn(e)&&(n=e.name,dr(r,e.args));var i={args:r};return n&&(i.name=n),i},_getLabel:function(e,t){var r=e.label||{},n=r;return n.position=this._getPosition(r.position,t),n}};const Bbe={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};ln(e.items).forEach(function(a){t[a.id]=!0});var r=this.previous("ports")||{},n={};ln(r.items).forEach(function(a){t[a.id]||(n[a.id]=!0)});var i=this.graph;if(i&&!Oc(n)){var o=i.getConnectedLinks(this,{inbound:!0});o.forEach(function(a){n[a.get("target").port]&&a.remove()});var s=i.getConnectedLinks(this,{outbound:!0});s.forEach(function(a){n[a.get("source").port]&&a.remove()})}},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return this.getPortIndex(e)!==-1},getPorts:function(){return Qa(this.prop("ports/items"))||[]},getGroupPorts:function(e){const t=ln(this.prop(["ports","items"])).filter(r=>r.group===e);return Qa(t)},getPort:function(e){return Qa(ln(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){var t=this._portSettingsData.getGroupPortsMetrics(e,Vt(this.size()));return t.reduce(function(r,n){var i=n.portTransformation;return r[n.portId]={x:i.x,y:i.y,angle:i.angle},r},{})},getPortIndex:function(e){var t=Pn(e)?e.id:e;return this._isValidPortId(t)?ln(this.prop("ports/items")).findIndex(function(r){return r.id===t}):-1},addPort:function(e,t){if(!Pn(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var r=dr([],this.prop("ports/items"));return r.push(e),this.prop("ports/items",r,t),this},insertPort:function(e,t,r){const n=typeof e=="number"?e:this.getPortIndex(e);if(!Pn(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");const i=dr([],this.prop("ports/items"));return i.splice(n,0,t),this.prop("ports/items",i,r),this},portProp:function(e,t,r,n){var i=this.getPortIndex(e);if(i===-1)throw new Error("Element: unable to find port with id "+e);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?o[0]=["ports","items",i].concat(t):zo(t)?o[0]=["ports/items/",i,"/",t].join(""):(o=["ports/items/"+i],Ni(t)&&(o.push(t),o.push(r))),this.prop.apply(this,o)},_validatePorts:function(){var e=this.get("ports")||{},t=[];e=e||{};var r=ln(e.items);return r.forEach(function(n){typeof n!="object"&&t.push("Element: invalid port ",n),this._isValidPortId(n.id)||(n.id=this.generatePortId())},this),T0(r,"id").length!==r.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return e!=null&&!Pn(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",dr([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){const r=t||{},n=this.getPortIndex(e);if(n!==-1){const i=dr([],this.prop(["ports","items"]));i.splice(n,1),r.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,r),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let r,n;if(Array.isArray(e)){if(r=t||{},e.length===0)return this.this;n=dr([],this.prop(["ports","items"])).filter(function(o){return!e.some(function(s){const a=Pn(s)?s.id:s;return o.id===a})})}else r=e||{},n=[];return this.startBatch("port-remove"),r.rewrite=!0,this.prop(["ports","items"],n,r),this.stopBatch("port-remove"),this},_createPortData:function(){var e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));var t;this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new ZX(this.get("ports"));var r=this._portSettingsData.getPorts();if(t){var n=r.filter(function(o){if(!t.find(function(s){return s.id===o.id}))return o}),i=t.filter(function(o){if(!r.find(function(s){return s.id===o.id}))return o});i.length>0&&this.trigger("ports:remove",this,i),n.length>0&&this.trigger("ports:add",this,n)}}},Ube={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),r=0,n=t.node.childNodes.length;r<n;r++)e.push(t.node.childNodes[r]);var i=Xwe(this.model._portSettingsData.getPorts(),"z"),o="auto";ln(i[o]).forEach(function(f){var c=this._getPortElement(f);t.append(c),e.push(c)},this);for(var s=Object.keys(i),a=0;a<s.length;a++){var l=s[a];if(l!==o){var u=parseInt(l,10);this._appendPorts(i[l],u,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,r){var n=this._getContainerElement(),i=ln(e).map(this._getPortElement,this);r[t]||t<0?wt(r[Math.max(t,0)]).before(i):n.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){const r=this._portElementsCache[e];if(!r)return null;if(!t)return r.portContentElement.node;const n=r.portElement.node,i=r.portSelectors,[o=null]=this.findBySelector(t,n,i);return o},_updatePorts:function(){this._updatePortGroup(void 0);var e=Object.keys(this.model._portSettingsData.groups);e.forEach(this._updatePortGroup,this)},_removePorts:function(){ku(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,r,n,i;var o=wt(this.portContainerMarkup).addClass("joint-port"),s=this._getPortMarkup(e);if(Array.isArray(s)){var a=this.parseDOMJSON(s,o.node),l=a.fragment;l.childNodes.length>1?t=wt("g").append(l):t=wt(l.firstChild),i=a.selectors}else t=wt(s),Array.isArray(t)&&(t=wt("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});const u=this._getPortLabelMarkup(e.label);if(Array.isArray(u)){const{fragment:_,selectors:v}=this.parseDOMJSON(u,o.node),p=_.childNodes.length;p>0&&(n=v,r=p===1?wt(_.firstChild):wt("g").append(_))}else r=wt(u),Array.isArray(r)&&(r=wt("g").append(r));var f;if(i&&n){for(var c in n)if(i[c]&&c!==this.selector)throw new Error("ElementView: selectors within port must be unique.");f=dr({},i,n)}else f=i||n||{};const h="portRoot",m="labelRoot",g="labelText";if(h in f||(f[h]=t.node),r){const _=r.node;if(m in f||(f[m]=_),!(g in f)){const v=r.tagName()==="TEXT"?_:Array.from(_.querySelectorAll("text"));f[g]=v,n||(n={}),n[g]=v}}return o.append(t.addClass("joint-port-body")),r&&o.append(r.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:o,portLabelElement:r,portSelectors:f,portLabelSelectors:n,portContentElement:t,portContentSelectors:i},o},_updatePortGroup:function(e){for(var t=Vt(this.model.size()),r=this.model._portSettingsData.getGroupPortsMetrics(e,t),n=0,i=r.length;n<i;n++){var o=r[n],s=o.portId,a=this._portElementsCache[s]||{},l=o.portTransformation,u=o.labelTransformation;u&&a.portLabelElement&&(this.updateDOMSubtreeAttributes(a.portLabelElement.node,u.attrs,{rootBBox:new Vt(o.labelSize),selectors:a.portLabelSelectors}),this.applyPortTransform(a.portLabelElement,u,-l.angle||0)),this.updateDOMSubtreeAttributes(a.portElement.node,o.portAttrs,{rootBBox:new Vt(o.portSize),selectors:a.portSelectors}),this.applyPortTransform(a.portElement,l)}},applyPortTransform:function(e,t,r){var n=wt.createSVGMatrix().rotate(r||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(n,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},bs=Vu.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Vu.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,r){const n=Ds(t);r=(n?r:e)||{};const{parentRelative:i,deep:o,restrictedArea:s}=r;let a;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");const l=this.getParentCell();l&&!l.isLink()&&(a=l.get("position"))}if(n){if(a&&(e+=a.x,t+=a.y),o||s){const{x:l,y:u}=this.get("position");this.translate(e-l,t-u,r)}else this.set("position",{x:e,y:t},r);return this}else{const l=Ze(this.get("position"));return i?l.difference(a):l}},translate:function(e,t,r){if(e=e||0,t=t||0,e===0&&t===0)return this;r=r||{},r.translateBy=r.translateBy||this.id;var n=this.get("position")||{x:0,y:0},i=r.restrictedArea;if(i&&r.translateBy===this.id)if(typeof i=="function"){var o=i.call(this,n.x+e,n.y+t,r);e=o.x-n.x,t=o.y-n.y}else{var s=this.getBBox({deep:!0}),a=n.x-s.x,l=n.y-s.y,u=Math.max(i.x+a,Math.min(i.x+i.width+a-s.width,n.x+e)),f=Math.max(i.y+l,Math.min(i.y+i.height+l-s.height,n.y+t));e=u-n.x,t=f-n.y}var c={x:n.x+e,y:n.y+t};return r.tx=e,r.ty=t,r.transition?(Pn(r.transition)||(r.transition={}),this.transition("position",c,dr({},r.transition,{valueFunction:zX.object})),ku(this.getEmbeddedCells(),"translate",e,t,r)):(this.startBatch("translate",r),this.set("position",c,r),ku(this.getEmbeddedCells(),"translate",e,t,r),this.stopBatch("translate",r)),this},size:function(e,t,r){var n=this.get("size");return e===void 0?{width:n.width,height:n.height}:(Pn(e)&&(r=t,t=Ds(e.height)?e.height:n.height,e=Ds(e.width)?e.width:n.width),this.resize(e,t,r))},resize:function(e,t,r){if(r=r||{},this.startBatch("resize",r),r.direction){var n=this.get("size");switch(r.direction){case"left":case"right":t=n.height;break;case"top":case"bottom":e=n.width;break}var i=Ql(this.get("angle")||0),o=this.getBBox(),s;if(i){var a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[r.direction];r.absolute&&(a+=Math.floor((i+45)/90),a%=4);var l=o[["bottomLeft","corner","topRight","origin"][a]](),u=Ze(l).rotate(o.center(),-i),f=Math.sqrt(e*e+t*t)/2,c=a*Math.PI/2;c+=Math.atan(a%2==0?t/e:e/t),c-=Hs(i);var h=Ze.fromPolar(f,c,u);s=Ze(h).offset(e/-2,t/-2)}else switch(s=o.topLeft(),r.direction){case"top":case"top-right":s.offset(0,o.height-t);break;case"left":case"bottom-left":s.offset(o.width-e,0);break;case"top-left":s.offset(o.width-e,o.height-t);break}this.set("size",{width:e,height:t},r),this.position(s.x,s.y,r)}else this.set("size",{width:e,height:t},r);return this.stopBatch("resize",r),this},scale:function(e,t,r,n){var i=this.getBBox().scale(e,t,r);return this.startBatch("scale",n),this.position(i.x,i.y,n),this.resize(i.width,i.height,n),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");const r=this.getEmbeddedCells().filter(n=>n.isElement());return r.length===0?this:(this.startBatch("fit-embeds",e),e.deep&&ku(r,"fitToChildren",e),this._fitToElements(Object.assign({elements:r},e)),this.stopBatch("fit-embeds"),this)},fitParent:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;const r=this.getParentCell();if(!r||!r.isElement())return this;const n=r.getEmbeddedCells().filter(i=>i.isElement());return n.length===0?this:(this.startBatch("fit-parent",e),r._fitToElements(Object.assign({elements:n},e)),e.deep&&r.fitParent(e),this.stopBatch("fit-parent"),this)},_fitToElements:function(e={}){const t=this.graph.getCellsBBox(e.elements);if(!t)return;const{expandOnly:r,shrinkOnly:n}=e;if(r&&n)return;let{x:i,y:o,width:s,height:a}=t;const{left:l,right:u,top:f,bottom:c}=Kh(e.padding);i-=l,o-=f,s+=l+u,a+=c+f;let h=new Vt(i,o,s,a);if(r)h=this.getBBox().union(h);else if(n){const m=this.getBBox().intersect(h);if(!m)return;h=m}this.set({position:{x:h.x,y:h.y},size:{width:h.width,height:h.height}},e)},rotate:function(e,t,r,n){if(r){var i=this.getBBox().center(),o=this.get("size"),s=this.get("position");i.rotate(r,this.get("angle")-e);var a=i.x-o.width/2-s.x,l=i.y-o.height/2-s.y;this.startBatch("rotate",{angle:e,absolute:t,origin:r}),this.position(s.x+a,s.y+l,n),this.rotate(e,t,null,n),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,n);return this},angle:function(){return Ql(this.get("angle")||0)},getBBox:function(e={}){const{graph:t,attributes:r}=this,{deep:n,rotate:i}=e;if(n&&t){const c=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return c.push(this),t.getCellsBBox(c,e)}const{angle:o=0,position:{x:s,y:a},size:{width:l,height:u}}=r,f=new Vt(s,a,l,u);return i&&f.rotateAroundCenter(o),f},getPointFromConnectedLink:function(e,t){var r=this.getBBox(),n=r.center(),i=e.get(t);if(!i)return n;var o=i.port;if(!o||!this.hasPort(o))return n;var s=this.portProp(o,["group"]),a=this.getPortsPositions(s),l=new Ze(a[o]).offset(r.origin()),u=this.angle();return u&&l.rotate(n,-u),l}});dr(bs.prototype,Bbe);const zbe=Fo.Collection.extend({initialize:function(e,t){t.cellNamespace?this.cellNamespace=t.cellNamespace:this.cellNamespace=typeof joint<"u"&&Vf(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var r=t.collection,n=r.cellNamespace,i=e.type==="link"?pg:My(n,e.type,".")||bs,o=new i(e,t);return t.dry||(o.graph=r.graph),o},comparator:function(e){return e.get("z")||0}}),Hj=Fo.Model.extend({initialize:function(e,t){t=t||{};var r=new zbe([],{model:t.cellModel,cellNamespace:t.cellNamespace,graph:this});Fo.Model.prototype.set.call(this,"cells",r),r.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},r.on("add",this._restructureOnAdd,this),r.on("remove",this._restructureOnRemove,this),r.on("reset",this._restructureOnReset,this),r.on("change:source",this._restructureOnChangeSource,this),r.on("change:target",this._restructureOnChangeTarget,this),r.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:r}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:r}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],r.id&&this._in[r.id]&&this._in[r.id][e.id]&&delete this._in[r.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var r=e.attributes.source;r.id&&((this._out[r.id]||(this._out[r.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var r=e.get("target");r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=Fo.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,r){var n;return typeof e=="object"?(n=e,r=t):(n={})[e]=t,n.hasOwnProperty("cells")&&(this.resetCells(n.cells,r),n=Dy(n,"cells")),Fo.Model.prototype.set.call(this,n,r)},clear:function(e){e=dr({},e,{clear:!0});var t=this.get("cells");if(t.length===0)return this;this.startBatch("clear",e);var r=t.sortBy(function(n){return n.isLink()?1:2});do r.shift().remove(e);while(r.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var r;if(e instanceof Fo.Model?(r=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):r=e,!zo(r.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof Fo.Model?e.has("z")||e.set("z",this.maxZIndex()+1):e.z===void 0&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return e.length===0?this:(e=Qwe(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(r){this.addCell(r,t),t.position--},this),this.stopBatch("add",t),this)},resetCells:function(e,t){var r=ln(e).map(function(n){return this._prepareCell(n,t)},this);return this.get("cells").reset(r,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),ku(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,r){r=r||{},r.clear||(r.disconnectLinks?this.disconnectLinks(e,r):this.removeLinks(e,r)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(e=>e.isElement())},getLinks:function(){return this.get("cells").filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){t=t||{};var r=t.indirect,n=t.inbound,i=t.outbound;n===void 0&&i===void 0&&(n=i=!0);var o=[],s={};i&&a(this,e),n&&l(this,e);function a(c,h){if(Za(c.getOutboundEdges(h.id),(function(g,_){if(!s[_]){var v=c.getCell(_);o.push(v),s[_]=!0,r&&(n&&l(c,v),i&&a(c,v))}}).bind(c)),r&&h.isLink()){var m=h.getTargetCell();m&&m.isLink()&&(s[m.id]||(o.push(m),a(c,m)))}}function l(c,h){if(Za(c.getInboundEdges(h.id),(function(g,_){if(!s[_]){var v=c.getCell(_);o.push(v),s[_]=!0,r&&(n&&l(c,v),i&&a(c,v))}}).bind(c)),r&&h.isLink()){var m=h.getSourceCell();m&&m.isLink()&&(s[m.id]||(o.push(m),l(c,m)))}}if(t.deep){var u=e.getEmbeddedCells({deep:!0}),f={};u.forEach(function(c){c.isElement()&&(f[c.id]=!0)}),u.forEach(function(c){c.isLink()||(i&&Za(this.getOutboundEdges(c.id),(function(h,m){if(!s[m]){var g=this.getCell(m),{source:_,target:v}=g.attributes,p=_.id,E=v.id;if(!t.includeEnclosed&&p&&f[p]&&E&&f[E])return;o.push(this.getCell(m)),s[m]=!0}}).bind(this)),n&&Za(this.getInboundEdges(c.id),(function(h,m){if(!s[m]){var g=this.getCell(m),{source:_,target:v}=g.attributes,p=_.id,E=v.id;if(!t.includeEnclosed&&p&&f[p]&&E&&f[E])return;o.push(this.getCell(m)),s[m]=!0}}).bind(this)))},this)}return o},getNeighbors:function(e,t){t||(t={});var r=t.inbound,n=t.outbound;r===void 0&&n===void 0&&(r=n=!0);var i=this.getConnectedLinks(e,t).reduce((function(a,l){var{source:u,target:f}=l.attributes,c=l.hasLoop(t);if(r&&Vf(u,"id")&&!a[u.id]){var h=this.getCell(u.id);h.isElement()&&(c||h&&h!==e&&(!t.deep||!h.isEmbeddedIn(e)))&&(a[u.id]=h)}if(n&&Vf(f,"id")&&!a[f.id]){var m=this.getCell(f.id);m.isElement()&&(c||m&&m!==e&&(!t.deep||!m.isEmbeddedIn(e)))&&(a[f.id]=m)}return a}).bind(this),{});if(e.isLink()){if(r){var o=e.getSourceCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}if(n){var s=e.getTargetCell();s&&s.isElement()&&!i[s.id]&&(i[s.id]=s)}}return ln(i)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(r){for(var n=[],i=r.get("parent");i;)n.push(i),i=this.getCell(i).get("parent");return n},this);e=e.sort(function(r,n){return r.length-n.length});var t=ln(e.shift()).find(function(r){return e.every(function(n){return n.includes(r)})});return this.getCell(t)},getSuccessors:function(e,t){t=t||{};var r=[];return this.search(e,function(n){n!==e&&r.push(n)},dr({},t,{outbound:!0})),r},cloneCells:qX,cloneSubgraph:function(e,t){var r=this.getSubgraph(e,t);return this.cloneCells(r)},getSubgraph:function(e,t){t=t||{};var r=[],n={},i=[],o=[];return ln(e).forEach(function(s){if(n[s.id]||(r.push(s),n[s.id]=s,s.isLink()?o.push(s):i.push(s)),t.deep){var a=s.getEmbeddedCells({deep:!0});a.forEach(function(l){n[l.id]||(r.push(l),n[l.id]=l,l.isLink()?o.push(l):i.push(l))})}}),o.forEach(function(s){var{source:a,target:l}=s.attributes;if(a.id&&!n[a.id]){var u=this.getCell(a.id);r.push(u),n[u.id]=u,i.push(u)}if(l.id&&!n[l.id]){var f=this.getCell(l.id);r.push(this.getCell(l.id)),n[f.id]=f,i.push(f)}},this),i.forEach(function(s){var a=this.getConnectedLinks(s,t);a.forEach(function(l){var{source:u,target:f}=l.attributes;!n[l.id]&&u.id&&n[u.id]&&f.id&&n[f.id]&&(r.push(l),n[l.id]=l)})},this),r},getPredecessors:function(e,t){t=t||{};var r=[];return this.search(e,function(n){n!==e&&r.push(n)},dr({},t,{inbound:!0})),r},search:function(e,t,r){r=r||{},r.breadthFirst?this.bfs(e,t,r):this.dfs(e,t,r)},bfs:function(e,t,r={}){const n={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){var s=o.shift();if(n[s.id]||(n[s.id]=!0,t.call(this,s,i[s.id])===!1))continue;const a=this.getNeighbors(s,r);for(let l=0,u=a.length;l<u;l++){const f=a[l];i[f.id]=i[s.id]+1,o.push(f)}}},dfs:function(e,t,r={}){const n={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){const s=o.pop();if(n[s.id]||(n[s.id]=!0,t.call(this,s,i[s.id])===!1))continue;const a=this.getNeighbors(s,r),l=o.length;for(let u=0,f=a.length;u<f;u++){const c=a[u];i[c.id]=i[s.id]+1,o.splice(l,0,c)}}},getSources:function(){var e=[];return Za(this._nodes,(function(t,r){(!this._in[r]||Oc(this._in[r]))&&e.push(this.getCell(r))}).bind(this)),e},getSinks:function(){var e=[];return Za(this._nodes,(function(t,r){(!this._out[r]||Oc(this._out[r]))&&e.push(this.getCell(r))}).bind(this)),e},isSource:function(e){return!this._in[e.id]||Oc(this._in[e.id])},isSink:function(e){return!this._out[e.id]||Oc(this._out[e.id])},isSuccessor:function(e,t){var r=!1;return this.search(e,function(n){if(n===t&&n!==e)return r=!0,!1},{outbound:!0}),r},isPredecessor:function(e,t){var r=!1;return this.search(e,function(n){if(n===t&&n!==e)return r=!0,!1},{inbound:!0}),r},isNeighbor:function(e,t,r){r=r||{};var n=r.inbound,i=r.outbound;n===void 0&&i===void 0&&(n=i=!0);var o=!1;return this.getConnectedLinks(e,r).forEach(function(s){var{source:a,target:l}=s.attributes;if(n&&Vf(a,"id")&&a.id===t.id||i&&Vf(l,"id")&&l.id===t.id)return o=!0,!1}),o},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(r){r.set(r.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){ku(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(t=>t.getBBox({rotate:!0}).containsPoint(e))},findModelsInArea:function(e,t={}){const r=new Vt(e),{strict:n=!1}=t,i=n?"containsRect":"intersect";return this.getElements().filter(o=>r[i](o.getBBox({rotate:!0})))},findModelsUnderElement:function(e,t={}){const{searchBy:r="bbox"}=t,n=e.getBBox().rotateAroundCenter(e.angle());return(r==="bbox"?this.findModelsInArea(n):this.findModelsFromPoint(WX(n,r))).filter(o=>e.id!==o.id&&!o.isEmbeddedIn(e))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t={}){const{rotate:r=!0}=t;return ln(e).reduce(function(n,i){const o=i.getBBox({rotate:r});return o?n?n.union(o):o:n},null)},translate:function(e,t,r){var n=this.getCells().filter(function(i){return!i.isEmbedded()});return ku(n,"translate",e,t,r),this},resize:function(e,t,r){return this.resizeCells(e,t,this.getCells(),r)},resizeCells:function(e,t,r,n){var i=this.getCellsBBox(r);if(i){var o=Math.max(e/i.width,0),s=Math.max(t/i.height,0);ku(r,"scale",o,s,i.origin(),n)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",dr({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",dr({},t,{batchName:e}))},hasActiveBatch:function(e){const t=this._batches;let r;return arguments.length===0?r=Object.keys(t):Array.isArray(e)?r=e:r=[e],r.some(n=>t[n]>0)}},{validations:{multiLinks:function(e,t){var{source:r,target:n}=t.attributes;if(r.id&&n.id){var i=t.getSourceCell();if(i){var o=e.getConnectedLinks(i,{outbound:!0}),s=o.filter(function(a){var{source:l,target:u}=a.attributes;return l&&l.id===r.id&&(!l.port||l.port===r.port)&&u&&u.id===n.id&&(!u.port||u.port===n.port)});if(s.length>1)return!1}}return!0},linkPinning:function(e,t){var{source:r,target:n}=t.attributes;return r.id&&n.id}}});vbe(Hj.prototype,["resetCells","addCells","removeCells"],MI.cells);const ch={},id=Fo.View.extend({options:{},theme:null,themeClassNamePrefix:Vl("theme-"),requireSetThemeOverride:!1,defaultTheme:nd.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=dr({},this.options,e),Fo.View.call(this,e)},initialize:function(){ch[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(e){if(e||(e=Ii(this,"children")),e){var t=this.svgElement,r=wt.namespace[t?"svg":"xhtml"],n=i1(e,r);(t?this.vel:this.$el).empty().append(n.fragment),this.childNodes=n.selectors}return this},findAttribute:function(e,t){for(var r=t;r&&r.nodeType===1;){var n=r.getAttribute(e);if(n)return n;if(r===this.el)return null;r=r.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Ii(this,"el"));else{var e=Ii(this,"tagName"),t=dr({},Ii(this,"attributes")),r=dr({},Ii(this,"style"));this.id&&(t.id=Ii(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(r)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(wt.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof Fo.$?e:Fo.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=wt(this.el))},_ensureElClassName:function(){var e=Ii(this,"className");if(e){var t=Vl(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override?this:(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e,this)},addThemeClassName:function(e){if(e=e||this.theme,!e)return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){e=e||this.theme;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),ch[this.cid]=null,Fo.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,r){if(!t)return this;r||(r={});var n=this.getEventNamespace();for(var i in t){var o=t[i];typeof o!="function"&&(o=this[o]),o&&wn(e).on(i+n,r,o.bind(this))}return this},undelegateElementEvents:function(e){return wn(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=Ii(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var r=e.data,n="__"+this.cid+"__";return t===void 0?r?r[n]||{}:{}:(r||(r=e.data={}),r[n]||(r[n]={}),dr(r[n],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&dr({},e[0])||{},r=e[1]&&dr({},e[1])||{},n=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return typeof n=="function"&&n.apply(this,arguments),this.render.__render__===n&&this.onRender(),this},t.render.__render__=n,Fo.View.extend.call(this,t,r)}}),MU="dbltap";if(wn.event&&!(MU in wn.event.special)){const e=nd.doubleTapInterval,t=30;wn.event.special[MU]={bindType:"touchend",delegateType:"touchend",handle:function(r,...n){const{handleObj:i,target:o}=r,s=wn.data(o),a=new Date().getTime(),l="lastTouch"in s?a-s.lastTouch:0;l<e&&l>t?(s.lastTouch=null,r.type=i.origType,i.handler.call(this,r,...n)):s.lastTouch=a}}}const el={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},qbe=id.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return Vl(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){const{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){const{el:t,pivotNodes:r}=this;e=+e,e||(e=0);let n=r[e];if(n)return n;n=r[e]=document.createComment("z-index:"+(e+1));let i=-1/0;for(let o in r)o=+o,o<e&&o>i&&(i=o,e-1);if(i!==-1/0){const o=r[i];t.insertBefore(n,o.nextSibling)}else t.insertBefore(n,t.firstChild);return n},removePivots:function(){const{el:e,pivotNodes:t}=this;for(let r in t)e.removeChild(t[r]);this.pivotNodes={}}});function Zg(e){return e?Array.isArray(e)?e:[e]:[]}const Hl=id.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){const{paper:r}=e;this.cellView=e,this.nodeSelector=t,r&&(this.updateRequested=!0,r.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(e,t=null){let r;if(typeof t=="string")[r]=e.findBySelector(t);else if(Ni(t)){const n=e.model.isLink(),{label:i=null,port:o,selector:s}=t;n&&i!==null?r=e.findLabelNode(i,s):!n&&o?r=e.findPortNode(o,s):[r]=e.findBySelector(s)}else t&&(r=wt.toNode(t),r instanceof SVGElement||(r=null));return r||null},getNodeMatrix(e,t){const{options:r}=this,{layer:n}=r,{rotatableNode:i}=e,o=e.getNodeMatrix(t);return i?n?i.contains(t)?o:e.getRootRotateMatrix().inverse().multiply(o):e.getNodeRotateMatrix(t).multiply(o):o},mount(){const{MOUNTABLE:e,cellView:t,el:r,options:n,transformGroup:i,detachedTransformGroup:o,postponedUpdate:s,nodeSelector:a}=this;if(!e||i)return;if(s){this.update(t,a),this.transform();return}const{vel:l,paper:u}=t,{layer:f}=n;if(f){let c;o?(c=o,this.detachedTransformGroup=null):c=wt("g").addClass("highlight-transform").append(r),this.transformGroup=c,u.getLayerView(f).insertSortedNode(c.node,n.z)}else(!r.parentNode||r.nextSibling)&&l.append(r)},unmount(){const{MOUNTABLE:e,transformGroup:t,vel:r}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):r.remove())},transform(){const{transformGroup:e,cellView:t,updateRequested:r}=this;if(!e||t.model.isLink()||r)return;const n=t.getRootTranslateMatrix(),i=t.getRootRotateMatrix(),o=n.multiply(i);e.attr("transform",wt.matrixToTransformString(o))},update(){const{node:e,cellView:t,nodeSelector:r,updateRequested:n,id:i}=this;if(n)return;this.postponedUpdate=!1;const o=this.node=this.findNode(t,r);e&&this.unhighlight(t,e),o?(this.highlight(t,o),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",i,this))},onRemove(){const{node:e,cellView:t,id:r,constructor:n}=this;e&&this.unhighlight(t,e),this.unmount(),n._removeRef(t,r)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){const t=Ii(this,"UPDATE_ATTRIBUTES");!Array.isArray(t)||t.length===0||this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:e}=this;if(!e)return;const{model:t,paper:r}=e;Ii(this,"UPDATE_ATTRIBUTES").some(i=>t.hasChanged(i))&&r.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,r){const n=this.uniqueId(t,r);this.add(e,t,n,r)},unhighlight:function(e,t,r){const n=this.uniqueId(t,r);this.remove(e,n)},get(e,t=null){const{cid:r}=e,{_views:n}=this,i=n[r];if(t===null){const o=[];if(!i)return o;for(let s in i){const a=i[s];a instanceof this&&o.push(a)}return o}else{if(!i)return null;if(t in i){const o=i[t];if(o instanceof this)return o}return null}},add(e,t,r,n={}){if(!r)throw new Error("dia.HighlighterView: An ID required.");const i=Hl.get(e,r);i&&i.remove();const o=new this(n);return o.id=r,this._addRef(e,r,o),o.requestUpdate(e,t),o.listenToUpdateAttributes(e),o},_addRef(e,t,r){const{cid:n}=e,{_views:i}=this;let o=i[n];o||(o=i[n]={}),o[t]=r},_removeRef(e,t){const{cid:r}=e,{_views:n}=this,i=n[r];if(i){t&&delete i[t];for(let o in i)return;delete n[r]}},remove(e,t=null){Zg(this.get(e,t)).forEach(r=>{r.remove()})},removeAll(e,t=null){const{_views:r}=this;for(let n in r)for(let i in r[n]){const o=r[n][i];o.cellView.paper===e&&o instanceof this&&(t===null||i===t)&&o.remove()}},update(e,t=null,r=!1){Zg(this.get(e,t)).forEach(n=>{(r||n.UPDATABLE)&&n.update()})},transform(e,t=null){Zg(this.get(e,t)).forEach(r=>{r.UPDATABLE&&r.transform()})},unmount(e,t=null){Zg(this.get(e,t)).forEach(r=>r.unmount())},mount(e,t=null){Zg(this.get(e,t)).forEach(r=>r.mount())},uniqueId(e,t=""){return wt.ensureId(e)+JSON.stringify(t)}}),Ip={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},Vbe={TOOLS:"TOOLS"},Hr=id.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(r,n,i){e.push("type-"+i.slice(0,n+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var e={},t={},r=0,n,i,o,s=Ii(this,"presentationAttributes");for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];for(Array.isArray(l)||(l=[l]),n=0,i=l.length;n<i;n++){o=l[n];var u=e[o];u||(u=e[o]=1<<r++),t[a]|=u}}var f=Ii(this,"initFlag");for(Array.isArray(f)||(f=[f]),n=0,i=f.length;n<i;n++)o=f[n],e[o]||(e[o]=1<<r++);if(r>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var r=0;if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)r|=t[e[n]];else r|=t[e];return r},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||hm(this),id.call(this,e)},initialize:function(){this.setFlags(),id.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var r=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!r||(t.dirty&&this.hasFlag(r,"UPDATE")&&(r|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(r,t))},requestUpdate:function(e,t){const{paper:r}=this;r&&e>0&&r.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var r=i1(e),n=r.selectors,i=r.groupSelectors;for(var o in i){if(n[o])throw new Error("dia.CellView: ambiguous group selector");n[o]=i[o]}if(t){var s=this.selector;if(n[s])throw new Error("dia.CellView: ambiguous root selector.");n[s]=t}return{fragment:r.fragment,selectors:n}},can:function(e){var t=ei(this.options.interactive)?this.options.interactive(this):this.options.interactive;return Pn(t)&&t[e]!==!1||Wwe(t)&&t!==!1},findBySelector:function(e,t,r){if(t||(t=this.el),r||(r=this.selectors),!e||e===".")return[t];if(r){var n=r[e];if(n)return Array.isArray(n)?n:[n]}return wn(t).find(e).toArray()},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var r=this.model;t=r.getBBox().bbox(r.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){const t=this.getNodeBoundingRect(e),r=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),n=this.getNodeMatrix(e);return wt.transformRect(t,r.multiply(n))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():wt.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),r=this.getNodeMatrix(e),n=this.getRootTranslateMatrix();return wt.transformRect(t,n.multiply(r))},getRootTranslateMatrix:function(){var e=this.model,t=e.position(),r=wt.createSVGMatrix().translate(t.x,t.y);return r},getRootRotateMatrix:function(){var e=wt.createSVGMatrix(),t=this.model,r=t.angle();if(r){var n=t.getBBox(),i=n.width/2,o=n.height/2;e=e.translate(i,o).rotate(r).translate(-i,-o)}return e},_notifyHighlight:function(e,t,r={}){const{el:n}=this;let i;if(typeof t=="string"?[i=n]=this.findBySelector(t):[i=n]=this.$(t),r.partial=i!==n,r.type===void 0){let o;switch(!0){case r.embedding:o=Ip.EMBEDDING;break;case r.connecting:o=Ip.CONNECTING;break;case r.magnetAvailability:o=Ip.MAGNET_AVAILABILITY;break;case r.elementAvailability:o=Ip.ELEMENT_AVAILABILITY;break;default:o=Ip.DEFAULT;break}r.type=o}return this.notify(e,i,r),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){const t=this.el;let r=this.$(e)[0];r||(r=t);do{const n=r.getAttribute("magnet"),i=r===t;if((n||i)&&n!=="false")return r;if(i)return;r=r.parentNode}while(r)},findProxyNode:function(e,t){e||(e=this.el);const r=e.getAttribute(`${t}-selector`);if(r){const[n]=this.findBySelector(r);if(n)return n}return e},getSelector:function(e,t){var r;if(e===this.el)return typeof t=="string"&&(r="> "+t),r;if(e){var n=wt(e).index()+1;r=e.tagName+":nth-child("+n+")",t&&(r+=" > "+t),r=this.getSelector(e.parentNode,r)}return r},addLinkFromMagnet:function(e,t,r){var n=this.paper,i=n.model,o=n.getDefaultLink(this,e);return o.set({source:this.getLinkEnd(e,t,r,o,"source"),target:{x:t,y:r}}).addTo(i,{async:!1,ui:!0}),o.findView(n)},getLinkEnd:function(e,...t){var r=this.model,n=r.id,i=this.findAttribute("port",e),o=e.getAttribute("joint-selector"),s={id:n};return o!=null&&(s.magnet=o),i!=null?(s.port=i,!r.hasPort(i)&&!o&&(s.selector=this.getSelector(e))):o==null&&this.el!==e&&(s.selector=this.getSelector(e)),this.customizeLinkEnd(s,e,...t)},customizeLinkEnd:function(e,t,r,n,i,o){const{paper:s}=this,{connectionStrategy:a}=s.options;if(typeof a=="function"){var l=a.call(s,e,this,t,new Ze(r,n),i,o,s);if(l)return l}return e},getMagnetFromLinkEnd:function(e){var t=this.el,r=e.port,n=e.magnet,i=this.model,o;return r!=null&&i.isElement()&&i.hasPort(r)?o=this.findPortNode(r,n)||t:(n||(n=e.selector),!n&&r!=null&&(n='[port="'+r+'"]'),o=this.findBySelector(n,t,this.selectors)[0]),this.findProxyNode(o,"magnet")},dragLinkStart:function(e,t,r,n){this.model.startBatch("add-link");const i=this.addLinkFromMagnet(t,r,n);i.notifyPointerdown(e,r,n),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},dragLink:function(e,t,r){var n=this.eventData(e),i=n.linkView;if(i)i.pointermove(e,t,r);else{var o=this.paper,s=o.options.magnetThreshold,a=this.getEventTarget(e),l=n.targetMagnet;if(s==="onleave"){if(l===a||wt(l).contains(a))return}else if(o.eventData(e).mousemoved<=s)return;this.dragLinkStart(e,l,t,r)}},dragLinkEnd:function(e,t,r){var n=this.eventData(e),i=n.linkView;i&&(i.pointerup(e,t,r),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){Oc(t)||(e instanceof SVGElement?wt(e).attr(t):wn(e).attr(t))},processNodeAttributes:function(e,t){var r,n,i,o,s,a,l,u,f,c=[];for(r in t)t.hasOwnProperty(r)&&(n=t[r],i=this.getAttributeDefinition(r),i&&(!ei(i.qualify)||i.qualify.call(this,n,e,t,this))?(zo(i.set)&&(a||(a={}),a[i.set]=n),n!==null&&c.push(r,i)):(a||(a={}),a[obe(r)]=n));for(o=0,s=c.length;o<s;o+=2)r=c[o],i=c[o+1],n=t[r],ei(i.set)&&(l||(l={}),l[r]=n),ei(i.position)&&(u||(u={}),u[r]=n),ei(i.offset)&&(f||(f={}),f[r]=n);return{raw:t,normal:a,set:l,position:u,offset:f}},updateRelativeAttributes:function(e,t,r,n){n||(n={});var i,o,s,a=t.raw||{},l=t.normal||{},u=t.set,f=t.position,c=t.offset;for(i in u){o=u[i],s=this.getAttributeDefinition(i);var h=s.set.call(this,o,r.clone(),e,a,this);Pn(h)?dr(l,h):h!==void 0&&(l[i]=h)}if(e instanceof HTMLElement){this.setNodeAttributes(e,l);return}var m=l.transform,g=wt.transformStringToMatrix(m),_=Ze(g.e,g.f);m&&(l=Dy(l,"transform"),g.e=g.f=0);var v,p,E;if(f||c){var y=this.getNodeScale(e,n.scalableNode);v=y.sx,p=y.sy}var S=!1;for(i in f)o=f[i],s=this.getAttributeDefinition(i),E=s.position.call(this,o,r.clone(),e,a,this),E&&(_.offset(Ze(E).scale(v,p)),S||(S=!0));this.setNodeAttributes(e,l);var T=!1;if(c){var $=this.getNodeBoundingRect(e);if($.width>0&&$.height>0){var d=wt.transformRect($,g).scale(1/v,1/p);for(i in c)o=c[i],s=this.getAttributeDefinition(i),E=s.offset.call(this,o,d,e,a,this),E&&(_.offset(Ze(E).scale(v,p)),T||(T=!0))}}(m!==void 0||S||T)&&(_.round(1),g.e=_.x,g.f=_.y,e.setAttribute("transform",wt.matrixToTransformString(g)))},getNodeScale:function(e,t){var r,n;if(t&&t.contains(e)){var i=t.scale();r=1/i.sx,n=1/i.sy}else r=1,n=1;return{sx:r,sy:n}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var r=wt.ensureId(e),n=t[r];return n||(n=t[r]={}),n},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return t.boundingRect===void 0&&(t.boundingRect=wt(e).getBBox()),new Vt(t.boundingRect)},getNodeMatrix:function(e){const t=this.nodeCache(e);if(t.magnetMatrix===void 0){const{rotatableNode:r,el:n}=this;let i;r&&r.contains(e)?i=r:i=n,t.magnetMatrix=wt(e).getTransformToElement(i)}return wt.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return t.geometryShape===void 0&&(t.geometryShape=wt(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,r,n){var i,o,s,a,l={},u=[];for(var f in e)if(e.hasOwnProperty(f)&&(s=e[f],!!Ni(s))){var c=r[f]=this.findBySelector(f,t,n);for(i=0,o=c.length;i<o;i++){var h=c[i];a=wt.ensureId(h);var m=n&&n[f]===h,g=l[a];if(g){g.array||(u.push(a),g.array=!0,g.attributes=[g.attributes],g.selectedLength=[g.selectedLength]);var _=g.attributes,v=g.selectedLength;if(m)_.unshift(s),v.unshift(-1);else{var p=BX(v,o);_.splice(p,0,s),v.splice(p,0,o)}}else l[a]={attributes:s,selectedLength:m?-1:o,node:h,array:!1}}}for(i=0,o=u.length;i<o;i++)a=u[i],s=l[a],s.attributes=Xi({},...s.attributes.reverse());return l},getEventTarget:function(e,t={}){const{target:r,type:n,clientX:i=0,clientY:o=0}=e;return t.fromPoint||n==="touchmove"||n==="touchend"||"pointerId"in e&&r.hasPointerCapture(e.pointerId)?document.elementFromPoint(i,o):r},updateDOMSubtreeAttributes:function(e,t,r){r||(r={}),r.rootBBox||(r.rootBBox=Vt()),r.selectors||(r.selectors=this.selectors);var n={},i={},o=[],s=[],a,l,u,f,c,h=r.roAttributes,m=this.findNodesAttributes(h||t,e,n,r.selectors),g=h?this.findNodesAttributes(t,e,n,r.selectors):m;for(var _ in m)if(f=m[_],u=f.attributes,l=f.node,c=this.processNodeAttributes(l,u),!c.set&&!c.position&&!c.offset)this.setNodeAttributes(l,c.normal);else{var v=g[_]&&g[_].attributes,p=v&&u.ref===void 0?v.ref:u.ref,E;if(p){if(E=(n[p]||this.findBySelector(p,e,r.selectors))[0],!E)throw new Error('dia.CellView: "'+p+'" reference does not exist.')}else E=null;if(a={node:l,refNode:E,processedAttributes:c,allAttributes:v},E){var y=s.findIndex(function(S){return S.refNode===l});y>-1?s.splice(y,0,a):s.push(a)}else o.push(a)}o.push(...s);for(let S=0,T=o.length;S<T;S++){a=o[S],l=a.node,E=a.refNode;const $=E?wt.ensureId(E):"";let d=i[$];d||(d=i[$]=E?wt(E).getBBox({target:Hbe(l,E)}):r.rootBBox),h?(c=this.processNodeAttributes(l,a.allAttributes),this.mergeProcessedAttributes(c,a.processedAttributes)):c=a.processedAttributes,this.updateRelativeAttributes(l,c,d,r)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),dr(e.set,t.set),dr(e.position,t.position),dr(e.offset,t.offset);var r=e.normal&&e.normal.transform;r!==void 0&&t.normal&&(t.normal.transform=r),e.normal=t.normal},onMount(e){e||(this.mountTools(),Hl.mount(this))},onDetach(){this.unmountTools(),Hl.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return t?e?t.getName()===e:!0:!1},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const e=this._toolsView;return e&&e.unmount(),this},mountTools(){const e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){Hl.remove(this)},updateHighlighters:function(e=!1){Hl.update(this,null,e)},transformHighlighters:function(){Hl.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){const{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,r){this.notify("cell:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){this.notify("cell:pointerclick",e,t,r)},contextmenu:function(e,t,r){this.notify("cell:contextmenu",e,t,r)},pointerdown:function(e,t,r){const{model:n}=this,{graph:i}=n;i&&(n.startBatch("pointer"),this.eventData(e,{graph:i})),this.notify("cell:pointerdown",e,t,r)},pointermove:function(e,t,r){this.notify("cell:pointermove",e,t,r)},pointerup:function(e,t,r){const{graph:n}=this.eventData(e);this.notify("cell:pointerup",e,t,r),n&&n.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,r,n){this.notify("cell:mousewheel",e,t,r,n)},onevent:function(e,t,r,n){this.notify(t,e,r,n)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){const{paper:t,model:r}=this;if(t.isAsync()){if(r.isLink()){const o=r.getSourceElement();if(o){const a=t.findViewByModel(o);a&&(t.dumpView(a),t.checkViewVisibility(a))}const s=r.getTargetElement();if(s){const a=t.findViewByModel(s);a&&(t.dumpView(a),t.checkViewVisibility(a))}}t.dumpView(this),t.checkViewVisibility(this)}const n=this.getEventTarget(e,{fromPoint:!0}),i=t.findView(n);i!==this&&(this.mouseleave(e),i&&i.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Flags:Vbe,Highlighting:Ip,addPresentationAttributes:function(e){return Xi({},Ii(this.prototype,"presentationAttributes"),e,function(t,r){if(!(!t||!r)&&(typeof t=="string"&&(t=[t]),typeof r=="string"&&(r=[r]),Array.isArray(t)&&Array.isArray(r)))return T0(t.concat(r))})}});function Hbe(e,t){let r=e;do{if(r.contains(t))return r;r=r.parentNode}while(r);return null}const an={TOOLS:Hr.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},Cp={MOVE:"move",MAGNET:"magnet"},jE=Hr.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=Hr.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){Hr.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[an.UPDATE],position:[an.TRANSLATE,an.TOOLS],size:[an.RESIZE,an.PORTS,an.TOOLS],angle:[an.ROTATE,an.TOOLS],markup:[an.RENDER],ports:[an.PORTS]},initFlag:[an.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){this.hasFlag(e,an.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,an.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[an.RENDER,an.UPDATE,an.RESIZE,an.TRANSLATE,an.ROTATE,an.PORTS,an.TOOLS]);else{let n=!1;this.hasFlag(e,an.RESIZE)&&(this.resize(t),n=!0,e=this.removeFlag(e,[an.RESIZE,an.UPDATE]),e=this.removeFlag(e,an.PORTS)),this.hasFlag(e,an.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,an.UPDATE),n=!0,e=this.removeFlag(e,an.PORTS)),this.hasFlag(e,an.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,an.TRANSLATE),r=!0),this.hasFlag(e,an.ROTATE)&&(this.rotate(),e=this.removeFlag(e,an.ROTATE),r=!0),this.hasFlag(e,an.PORTS)&&(this._renderPorts(),n=!0,e=this.removeFlag(e,an.PORTS)),n&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,an.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,an.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache(),this._removePorts();var r=this.model,n=r.attr();this.updateDOMSubtreeAttributes(this.el,n,{rootBBox:new Vt(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===n?null:t}),this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),r=this.selectors=t.selectors;this.rotatableNode=wt(r[this.rotatableSelector])||null,this.scalableNode=wt(r[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(wt(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable");var r=this.selectors={};r[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var r=e.size;return"rotate("+t+","+r.width/2+","+r.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,r=t.angle(),n=t.size(),i=this.scalableNode,o=!1;i.node.getElementsByTagName("path").length>0&&(o=!0);var s=i.getBBox({recursive:o}),a=n.width/(s.width||1),l=n.height/(s.height||1);i.attr("transform","scale("+a+","+l+")");var u=this.rotatableNode,f=u&&u.attr("transform");if(f){u.attr("transform",f+" rotate("+-r+","+n.width/2+","+n.height/2+")");var c=i.getBBox({target:this.paper.cells});t.set("position",{x:c.x,y:c.y},dr({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){const t=e.model||this.model,n=(e.paper||this.paper).model,i=e.initialZIndices={},o=t.getEmbeddedCells({deep:!0}),s=n.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...o,...s].forEach(u=>i[u.id]=u.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});const a=n.getElements().reduce((u,f)=>Math.max(u,f.attributes.z||0),0);s.forEach(u=>{u.attributes.z<=a&&u.set("z",a+1,{ui:!0})}),t.stopBatch("to-front");const l=t.parent();l?(n.getCell(l).unembed(t,{ui:!0}),e.initialParentId=l):e.initialParentId=null},processEmbedding:function(e={},t,r,n){const i=e.model||this.model,o=e.paper||this.paper,s=o.model,{findParentBy:a,frontParentOnly:l,validateEmbedding:u}=o.options;let f;ei(a)?f=ln(a.call(s,this,t,r,n)):a==="pointer"?f=ln(s.findModelsFromPoint({x:r,y:n})):f=s.findModelsUnderElement(i,{searchBy:a}),f=f.filter(m=>m instanceof Vu&&i.id!==m.id&&!m.isEmbeddedIn(i)),l&&(f=f.slice(-1));let c=null;const h=e.candidateEmbedView;for(let m=f.length-1;m>=0;m--){const g=f[m];if(h&&h.model.id==g.id){c=h;break}else{const _=g.findView(o);if(!ei(u)||u.call(o,this,_)){c=_;break}}}c&&c!=h&&(this.clearEmbedding(e),e.candidateEmbedView=c.highlight(c.findProxyNode(null,"container"),{embedding:!0})),!c&&h&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){const t=e.candidateEmbedView,r=e.model||this.model,n=e.paper||this.paper;if(t)t.model.embed(r,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{const{validateUnembedding:i}=n.options,{initialParentId:o}=e;if(o&&typeof i=="function"&&!i.call(n,this)){this._disallowUnembed(e);return}}n.model.getConnectedLinks(r,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(e){const{model:t,whenNotAllowed:r="revert"}=e,n=t||this.model,o=(e.paper||this.paper).model;switch(r){case"remove":{n.remove({ui:!0});break}case"revert":{const{initialParentId:s,initialPosition:a,initialZIndices:l}=e;if(a){const{x:f,y:c}=a;n.position(f,c,{deep:!0,ui:!0})}l&&Object.keys(l).forEach(f=>{const c=o.getCell(f);c&&c.set("z",l[f],{ui:!0})});const u=o.getCell(s);u&&u.embed(n,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,r=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=r.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);const r=e.getAttribute(`${t}-selector`);if(r){const n=this.findAttribute("port",e);if(n){const i=this.findPortNode(n,r);if(i)return i}else{const[i]=this.findBySelector(r);if(i)return i}}return e},notifyPointerdown(e,t,r){Hr.prototype.pointerdown.call(this,e,t,r),this.notify("element:pointerdown",e,t,r)},notifyPointermove(e,t,r){Hr.prototype.pointermove.call(this,e,t,r),this.notify("element:pointermove",e,t,r)},notifyPointerup(e,t,r){this.notify("element:pointerup",e,t,r),Hr.prototype.pointerup.call(this,e,t,r)},pointerdblclick:function(e,t,r){Hr.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){Hr.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,r)},contextmenu:function(e,t,r){Hr.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragStart(e,t,r)},pointermove:function(e,t,r){const n=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=n;switch(i&&this.magnetpointermove(e,i,t,r),o){case Cp.MAGNET:this.dragMagnet(e,t,r);break;case Cp.MOVE:(s||this).drag(e,t,r);default:if(n.preventPointerEvents)break;this.notifyPointermove(e,t,r);break}this.eventData(e,n)},pointerup:function(e,t,r){const n=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=n;switch(i&&this.magnetpointerup(e,i,t,r),o){case Cp.MAGNET:this.dragMagnetEnd(e,t,r);break;case Cp.MOVE:(s||this).dragEnd(e,t,r);default:if(n.preventPointerEvents)break;this.notifyPointerup(e,t,r)}i&&this.magnetpointerclick(e,i,t,r),this.checkMouseleave(e)},mouseover:function(e){Hr.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){Hr.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){Hr.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){Hr.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,r,n){Hr.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,r,n)},onmagnet:function(e,t,r){const{currentTarget:n}=e;this.magnetpointerdown(e,n,t,r),this.eventData(e,{targetMagnet:n}),this.dragMagnetStart(e,t,r)},magnetpointerdown:function(e,t,r,n){this.notify("element:magnet:pointerdown",e,t,r,n)},magnetpointermove:function(e,t,r,n){this.notify("element:magnet:pointermove",e,t,r,n)},magnetpointerup:function(e,t,r,n){this.notify("element:magnet:pointerup",e,t,r,n)},magnetpointerdblclick:function(e,t,r,n){this.notify("element:magnet:pointerdblclick",e,t,r,n)},magnetcontextmenu:function(e,t,r,n){this.notify("element:magnet:contextmenu",e,t,r,n)},dragStart:function(e,t,r){if(this.isDefaultInteractionPrevented(e))return;var n=this.getDelegatedView();if(!n||!n.can("elementMove"))return;this.eventData(e,{action:Cp.MOVE,delegatedView:n});const i=n.model.position();n.eventData(e,{initialPosition:i,pointerOffset:i.difference(t,r),restrictedArea:this.paper.getRestrictedArea(n,t,r)})},dragMagnetStart:function(e,t,r){const{paper:n}=this,i=e.isPropagationStopped();if(i&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:o=e.currentTarget}=this.eventData(e);if(e.stopPropagation(),!n.options.validateMagnet.call(n,this,o,e)){i?this.dragStart(e,t,r):this.pointerdown(e,t,r);return}n.options.magnetThreshold<=0&&this.dragLinkStart(e,o,t,r),this.eventData(e,{action:Cp.MAGNET})},drag:function(e,t,r){var n=this.paper,i=n.options.gridSize,o=this.model,s=this.eventData(e),{pointerOffset:a,restrictedArea:l,embedding:u}=s,f=Wh(t+a.x,i),c=Wh(r+a.y,i);o.position(f,c,{restrictedArea:l,deep:!0,ui:!0}),n.options.embeddingMode&&(u||(this.prepareEmbedding(s),u=!0),this.processEmbedding(s,e,t,r)),this.eventData(e,{embedding:u})},dragMagnet:function(e,t,r){this.dragLink(e,t,r)},dragEnd:function(e,t,r){var n=this.eventData(e);n.embedding&&this.finalizeEmbedding(n)},dragMagnetEnd:function(e,t,r){this.dragLinkEnd(e,t,r)},magnetpointerclick:function(e,t,r,n){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,r,n)}},{Flags:an});dr(jE.prototype,Ube);const Wbe=function(e,t,r){return e},Gbe=function(e,t,r){var n=t.side||"bottom",i=Kh(t.padding||40),o=r.sourceBBox,s=r.targetBBox,a=o.center(),l=s.center(),u,f,c;switch(n){case"bottom":c=1,u="y",f="height";break;case"top":c=-1,u="y",f="height";break;case"left":c=-1,u="x",f="width";break;case"right":c=1,u="x",f="width";break;default:throw new Error("Router: invalid side")}return a[u]+=c*(o[f]/2+i[n]),l[u]+=c*(s[f]/2+i[n]),c*(a[u]-l[u])>0?l[u]=a[u]:a[u]=l[u],[a].concat(e,l)};var Kbe={N:"S",S:"N",E:"W",W:"E"},Jbe={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function o1(e,t,r){var n=new Ze(e.x,t.y);return r.containsPoint(n)&&(n=new Ze(t.x,e.y)),n}function FI(e,t){return e[t==="W"||t==="E"?"width":"height"]}function hs(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function Ww(e){return new Vt(e.x,e.y,0,0)}function s1(e){var t=Kh(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function e5(e,t){return e.sourceBBox.clone().moveAndExpand(s1(t))}function t5(e,t){return e.targetBBox.clone().moveAndExpand(s1(t))}function Ybe(e,t){if(e.sourceAnchor)return e.sourceAnchor;var r=e5(e,t);return r.center()}function Xbe(e,t){if(e.targetAnchor)return e.targetAnchor;var r=t5(e,t);return r.center()}function r5(e,t,r){var n=new Ze(e.x,t.y),i=new Ze(t.x,e.y),o=hs(e,n),s=hs(e,i),a=Kbe[r],l=o===r||o!==a&&(s===a||s!==r)?n:i;return{points:[l],direction:hs(l,t)}}function DE(e,t,r){var n=o1(e,t,r);return{points:[n],direction:hs(n,t)}}function Qbe(e,t,r,n){var i={},o=[new Ze(e.x,t.y),new Ze(t.x,e.y)],s=o.filter(function(c){return!r.containsPoint(c)}),a=s.filter(function(c){return hs(c,e)!==n}),l;if(a.length>0)l=a.filter(function(c){return hs(e,c)===n}).pop(),l=l||a[0],i.points=[l],i.direction=hs(l,t);else{l=Zwe(o,s)[0];var u=new Ze(t).move(l,-FI(r,n)/2),f=o1(u,e,r);i.points=[f,u],i.direction=hs(u,t)}return i}function Zbe(e,t,r,n){var i=DE(t,e,n),o=i.points[0];if(r.containsPoint(o)){i=DE(e,t,r);var s=i.points[0];if(n.containsPoint(s)){var a=new Ze(e).move(s,-FI(r,hs(e,s))/2),l=new Ze(t).move(o,-FI(n,hs(t,o))/2),u=new Gt(a,l).midpoint(),f=DE(e,u,r),c=r5(u,t,f.direction);i.points=[f.points[0],c.points[0]],i.direction=c.direction}}return i}function lA(e,t,r,n,i){var o={},s=r.union(n).inflate(1),a=s.center().distance(t)>s.center().distance(e),l=a?t:e,u=a?e:t,f,c,h;return i?(f=Ze.fromPolar(s.width+s.height,Jbe[i],l),f=s.pointNearestToPoint(f).move(f,-1)):f=s.pointNearestToPoint(l).move(l,1),c=o1(f,u,s),f.round().equals(c.round())?(c=Ze.fromPolar(s.width+s.height,Hs(f.theta(l))+Math.PI/2,u),c=s.pointNearestToPoint(c).move(u,1).round(),h=o1(f,c,s),o.points=a?[c,h,f]:[f,h,c]):o.points=a?[c,f]:[f,c],o.direction=hs(a?f:c,t),o}function BI(e,t,r){var n=e5(r,t),i=t5(r,t),o=Ybe(r,t),s=Xbe(r,t);n=n.union(Ww(o)),i=i.union(Ww(s)),e=ln(e).map(Ze),e.unshift(o),e.push(s);for(var a,l=[],u=0,f=e.length-1;u<f;u++){var c=null,h=e[u],m=e[u+1],g=!!hs(h,m);if(u===0)u+1===f?n.intersect(i.clone().inflate(1))?c=lA(h,m,n,i):g||(c=Zbe(h,m,n,i)):n.containsPoint(m)?c=lA(h,m,n,Ww(m).moveAndExpand(s1(t))):g||(c=DE(h,m,n));else if(u+1===f){var _=g&&hs(m,h)===a;i.containsPoint(h)||_?c=lA(h,m,Ww(h).moveAndExpand(s1(t)),i,a):g||(c=Qbe(h,m,i,a))}else g||(c=r5(h,m,a));c?(Array.prototype.push.apply(l,c.points),a=c.direction):a=hs(h,m),u+1<f&&l.push(m)}return l}var n5={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,r){if(!ei(BI))throw new Error("Manhattan requires the orthogonal router as default fallback.");return BI(e,dr({},n5,t),r)},fallbackRoute:function(e,t,r){return null},draggingRoute:null};function Wj(e){this.map={},this.options=e,this.mapGridSize=100}Wj.prototype.build=function(e,t){var r=this.options,n=ln(r.excludeEnds).reduce(function(l,u){var f=t.get(u);if(f){var c=e.getCell(f.id);c&&l.push(c)}return l},[]),i=[],o=e.getCell(t.get("source").id);o&&(i=kI(i,o.getAncestors().map(function(l){return l.id})));var s=e.getCell(t.get("target").id);s&&(i=kI(i,s.getAncestors().map(function(l){return l.id})));var a=this.mapGridSize;return e.getElements().reduce(function(l,u){var f=ln(r.excludeTypes).includes(u.get("type")),c=n.find(function(S){return S.id===u.id}),h=i.includes(u.id),m=f||c||h;if(!m)for(var g=u.getBBox().moveAndExpand(r.paddingBox),_=g.origin().snapToGrid(a),v=g.corner().snapToGrid(a),p=_.x;p<=v.x;p+=a)for(var E=_.y;E<=v.y;E+=a){var y=p+"@"+E;l[y]=l[y]||[],l[y].push(g)}return l},this.map),this};Wj.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return ln(this.map[t]).every(function(r){return!r.containsPoint(e)})};function ap(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}ap.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var r=BX(this.items,e,(function(n){return this.values[n]}).bind(this));this.items.splice(r,0,e)};ap.prototype.remove=function(e){this.hash[e]=this.CLOSE};ap.prototype.isOpen=function(e){return this.hash[e]===this.OPEN};ap.prototype.isClose=function(e){return this.hash[e]===this.CLOSE};ap.prototype.isEmpty=function(){return this.items.length===0};ap.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};function i5(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function o5(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function s5(e,t){if(e.sourceAnchor)return e.sourceAnchor;var r=i5(e,t);return r.center()}function e_e(e,t){if(e.targetAnchor)return e.targetAnchor;var r=o5(e,t);return r.center()}function uA(e,t,r,n,i){var o=360/r,s=e.theta(t_e(e,t,n,i)),a=Ql(s+o/2);return o*Math.floor(a/o)}function t_e(e,t,r,n){var i=n.step,o=t.x-e.x,s=t.y-e.y,a=o/r.x,l=s/r.y,u=a*i,f=l*i;return new Ze(e.x+u,e.y+f)}function LU(e,t){var r=Math.abs(e-t);return r>180?360-r:r}function r_e(e,t,r){var n=r.step;ln(r.directions).forEach(function(i){i.gridOffsetX=i.offsetX/n*t.x,i.gridOffsetY=i.offsetY/n*t.y})}function n_e(e,t,r){return{source:t.clone(),x:FU(r.x-t.x,e),y:FU(r.y-t.y,e)}}function FU(e,t){if(!e)return t;var r=Math.abs(e),n=Math.round(r/t);if(!n)return r;var i=n*t,o=r-i,s=o/n;return t+s}function i_e(e,t){var r=t.source,n=Wh(e.x-r.x,t.x)+r.x,i=Wh(e.y-r.y,t.y)+r.y;return new Ze(n,i)}function $v(e,t){return e.round(t)}function ME(e,t,r){return $v(i_e(e.clone(),t),r)}function Gv(e){return e.clone().toString()}function cA(e){return new Ze(e.x===0?0:Math.abs(e.x)/e.x,e.y===0?0:Math.abs(e.y)/e.y)}function o_e(e,t,r,n,i,o,s){for(var a=[],l=cA(i.difference(r)),u=Gv(r),f=e[u],c;f;){c=t[u];var h=cA(c.difference(f));h.equals(l)||(a.unshift(c),l=h),u=Gv(f),f=e[u]}var m=t[u],g=cA(m.difference(n));return g.equals(l)||a.unshift(m),a}function BU(e,t){for(var r=1/0,n=0,i=t.length;n<i;n++){var o=e.manhattanDistance(t[n]);o<r&&(r=o)}return r}function UU(e,t,r,n,i){var o=i.precision,s=i.directionMap,a=e.difference(t.center()),l=Pn(s)?Object.keys(s):[],u=ln(r),f=l.reduce(function(c,h){if(u.includes(h)){for(var m=s[h],g=new Ze(e.x+m.x*(Math.abs(a.x)+t.width),e.y+m.y*(Math.abs(a.y)+t.height)),_=new Gt(e,g),v=_.intersect(t)||[],p=v.length,E,y=null,S=0;S<p;S++){var T=v[S],$=e.squaredDistance(T);(E===void 0||$>E)&&(E=$,y=T)}if(y){var d=ME(y,n,o);t.containsPoint(d)&&(d=ME(d.offset(m.x*n.x,m.y*n.y),n,o)),c.push(d)}}return c},[]);return t.containsPoint(e)||f.push(ME(e,n,o)),f}function s_e(e,t,r,n){var i=n.precision,o,s;e instanceof Vt?o=$v(s5(this,n).clone(),i):o=$v(e.clone(),i),t instanceof Vt?s=$v(e_e(this,n).clone(),i):s=$v(t.clone(),i);var a=n_e(n.step,o,s),l,u,f,c;if(e instanceof Vt?(l=o,f=UU(l,e,n.startDirections,a,n)):(l=o,f=[l]),t instanceof Vt?(u=s,c=UU(s,t,n.endDirections,a,n)):(u=s,c=[u]),f=f.filter(Le=>!r(Le)),c=c.filter(Le=>!r(Le)),f.length>0&&c.length>0){for(var h=new ap,m={},g={},_={},v=0,p=f.length;v<p;v++){var E=f[v],y=Gv(E);h.add(y,BU(E,c)),m[y]=E,_[y]=0}var S=n.previousDirectionAngle,T=S===void 0,$,d,x=n.directions;r_e(x,a,n);for(var O=x.length,P=ln(c).reduce(function(Le,C){var F=Gv(C);return Le.push(F),Le},[]),M=n.maximumLoops;!h.isEmpty()&&M>0;){var U=h.pop(),K=m[U],ie=g[U],G=_[U],ne=ie===void 0,ge=K.equals(l),re;ne?T?ge?re=null:re=uA(l,K,O,a,n):re=S:re=uA(ie,K,O,a,n);var se=f.length===c.length;if(se){for(var D=0;D<f.length;D++)if(!f[D].equals(c[D])){se=!1;break}}var z=ne&&se;if(!z&&P.indexOf(U)>=0)return n.previousDirectionAngle=re,o_e(g,m,K,l,u);for(v=0;v<O;v++){$=x[v];var Y=$.angle;if(d=LU(re,Y),!(!(T&&ge)&&d>n.maxAllowedDirectionChange)){var N=ME(K.clone().offset($.gridOffsetX,$.gridOffsetY),a,i),I=Gv(N);if(!(h.isClose(I)||r(N))){if(P.indexOf(I)>=0){var q=N.equals(u);if(!q){var ae=uA(N,u,O,a,n),Z=LU(Y,ae);if(Z>n.maxAllowedDirectionChange)continue}}var te=$.cost,ue=ge?0:n.penalties[d],xe=G+te+ue;(!h.isOpen(I)||xe<_[I])&&(m[I]=N,g[I]=K,_[I]=xe,h.add(I,xe+BU(N,c)))}}}M--}}return n.fallbackRoute.call(this,l,u,n)}function a_e(e){if(e.directions=Ii(e,"directions"),e.penalties=Ii(e,"penalties"),e.paddingBox=Ii(e,"paddingBox"),e.padding=Ii(e,"padding"),e.padding){var t=Kh(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}ln(e.directions).forEach(function(r){var n=new Ze(0,0),i=new Ze(r.offsetX,r.offsetY);r.angle=Ql(n.theta(i))})}function l_e(e,t,r){a_e(t),r.options.perpendicular=!!t.perpendicular;var n=i5(r,t),i=o5(r,t),o=s5(r,t);let s;if(typeof t.isPointObstacle=="function")s=t.isPointObstacle;else{const y=new Wj(t);y.build(r.paper.model,r.model),s=S=>!y.isPointAccessible(S)}for(var a=ln(e).map(Ze),l=[],u=o,f,c,h=0,m=a.length;h<=m;h++){var g=null;if(c=f||n,f=a[h],!f){f=i;var _=!r.model.get("source").id||!r.model.get("target").id;if(_&&ei(t.draggingRoute)){var v=c===n?o:c,p=f.origin();g=t.draggingRoute.call(r,v,p,t)}}if(g=g||s_e.call(r,c,f,s,t),g===null)return t.fallbackRouter(e,t,r);var E=g[0];E&&E.equals(u)&&g.shift(),u=g[g.length-1]||u,Array.prototype.push.apply(l,g)}return l}const UI=function(e,t,r){return l_e(e,dr({},n5,t),r)};var u_e={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),r=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:r},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:r},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:r},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:r}]},fallbackRoute:function(e,t,r){var n=e.theta(t),i=[],o={x:t.x,y:e.y},s={x:e.x,y:t.y};if(n%180>90){var a=o;o=s,s=a}var l=n%90<45?o:s,u=new Gt(e,l),f=90*Math.ceil(n/90),c=Ze.fromPolar(u.squaredLength(),Hs(f+135),l),h=new Gt(t,c),m=u.intersection(h),g=m||t,_=m?g:e,v=360/r.directions.length,p=_.theta(t),E=Ql(p+v/2),y=v*Math.floor(E/v);return r.previousDirectionAngle=y,g&&i.push(g.round()),i.push(t),i}};const c_e=function(e,t,r){if(!ei(UI))throw new Error("Metro requires the manhattan router.");return UI(e,dr({},u_e,t),r)},Rt={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},zU=[Rt.LEFT,Rt.RIGHT,Rt.TOP,Rt.BOTTOM],pm={[Rt.LEFT]:Rt.RIGHT,[Rt.RIGHT]:Rt.LEFT,[Rt.TOP]:Rt.BOTTOM,[Rt.BOTTOM]:Rt.TOP},f_e=[Rt.TOP,Rt.BOTTOM],Gw={0:Rt.RIGHT,180:Rt.LEFT,270:Rt.TOP,90:Rt.BOTTOM};function xv(e){return e.angle()}function Kw(e){return new Qn(e).simplify({threshold:1}).points}function a1(e,t){const{point:r,x0:n,y0:i,view:o,bbox:s,direction:a}=e,{point:l,x0:u,y0:f,view:c,bbox:h,direction:m}=t;let g;if(o)o.model.isLink()?g=qU(l,r,o):a===Rt.ANCHOR_SIDE?g=s.sideNearestToPoint(r):a===Rt.MAGNET_SIDE?g=o.model.getBBox().sideNearestToPoint(r):g=a;else{const v=new Vt(n,i,0,0);g=zU.includes(a)?a:v.sideNearestToPoint(l)}let _;if(c)c.model.isLink()?_=qU(r,l,c):m===Rt.ANCHOR_SIDE?_=h.sideNearestToPoint(l):m===Rt.MAGNET_SIDE?_=c.model.getBBox().sideNearestToPoint(l):_=m;else{const v=new Vt(u,f,0,0);_=zU.includes(m)?m:v.sideNearestToPoint(r)}return[g,_]}function d_e(e,t,r){const{x0:n,y0:i,width:o,height:s,point:a,margin:l}=e,u=n+o,f=i+s,c=n-l,h=u+l,m=i-l,{x:g}=a,{x0:_,y0:v}=t;return _===g&&v<i?Rt.BOTTOM:_<g&&v<m?Rt.RIGHT:_>g&&v<m?Rt.LEFT:_<c&&v>=i||_>h&&v>=i?Rt.TOP:_>=c&&_<=g&&v>f||_<=h&&_>=g&&v>f?r.point.x<_?Rt.RIGHT:Rt.LEFT:Rt.TOP}function h_e(e,t,r){const{x0:n,y0:i,width:o,height:s,point:a,margin:l}=e,u=n+o,f=i+s,c=n-l,h=u+l,m=f+l,{x:g}=a,{x0:_,y0:v}=t;return _===g&&v>f?Rt.TOP:_<g&&v>m?Rt.RIGHT:_>g&&v>m?Rt.LEFT:_<c&&v<=f||_>h&&v<=f?Rt.BOTTOM:_>=c&&_<=g&&v<i||_<=h&&_>=g&&v<i?r.point.x<_?Rt.RIGHT:Rt.LEFT:Rt.BOTTOM}function p_e(e,t,r){const{y0:n,x0:i,width:o,height:s,point:a,margin:l}=e,u=i+o,f=n+s,c=i-l,h=n-l,m=f+l,{x:g,y:_}=a,{x0:v,y0:p}=t;return v<g&&p===_?Rt.RIGHT:v<=c&&p<_?Rt.BOTTOM:v<=c&&p>_?Rt.TOP:v>=i&&p<=h||v>=i&&p>=m?Rt.LEFT:v>u&&p>=h&&p<=_||v>u&&p<=m&&p>=_?r.point.y<p?Rt.BOTTOM:Rt.TOP:Rt.LEFT}function m_e(e,t,r){const{y0:n,x0:i,width:o,height:s,point:a,margin:l}=e,u=i+o,f=n+s,c=u+l,h=n-l,m=f+l,{x:g,y:_}=a,{x0:v,y0:p}=t;return v>g&&p===_?Rt.LEFT:v>=c&&p<_?Rt.BOTTOM:v>=c&&p>_?Rt.TOP:v<=u&&p<=h||v<=u&&p>=m?Rt.RIGHT:v<i&&p>=h&&p<=_||v<i&&p<=m&&p>=_?r.point.y<p?Rt.BOTTOM:Rt.TOP:Rt.RIGHT}function g_e(e,t,r){const[n]=a1(e,t);switch(n){case Rt.TOP:return d_e(e,t,r);case Rt.RIGHT:return m_e(e,t,r);case Rt.BOTTOM:return h_e(e,t,r);case Rt.LEFT:return p_e(e,t,r)}}function qU(e,t,r){const n=r.getTangentAtLength(r.getClosestPointLength(t)),i=Math.round(xv(n)/90)*90;if(i%180===0&&e.y===t.y)return e.x<t.x?Rt.LEFT:Rt.RIGHT;if(e.x===t.x)return e.y<t.y?Rt.TOP:Rt.BOTTOM;switch(i){case 0:case 180:case 360:return e.y<t.y?Rt.TOP:Rt.BOTTOM;case 90:case 270:return e.x<t.x?Rt.LEFT:Rt.RIGHT}}function VU(e,t,r,n,i,o,s){n===Rt.AUTO&&(n=i?Rt.MAGNET_SIDE:Rt.ANCHOR_SIDE);const a=e&&e.model.isElement(),{x:l,y:u,width:f=0,height:c=0}=a?Vt.fromRectUnion(r,e.model.getBBox()):o;return{point:t,x0:l,y0:u,view:e,bbox:r,width:f,height:c,direction:n,margin:a?s:0}}function fA({x:e,y:t}){const r=new Ze(e,t);return{point:r,x0:r.x,y0:r.y,view:null,bbox:new Vt(e,t,0,0),width:0,height:0,direction:null,margin:0}}function HU(e,t,r){const n=t.point.clone(),{x0:i,y0:o,width:s,height:a}=t;switch(e){case"left":n.x=i-r;break;case"right":n.x=i+s+r;break;case"top":n.y=o-r;break;case"bottom":n.y=o+a+r;break}return n}function yf(e,t){const{point:r,x0:n,y0:i,view:o,width:s,height:a,margin:l}=e,{point:u,x0:f,y0:c,width:h,height:m,margin:g}=t,_=f+h,v=c+m,p=n+s,E=i+a,y=o&&o.model.isElement(),S=n-l,T=p+l,$=i-l,d=E+l,x=f-g,O=_+g,P=c-g,M=v+g,[U,K]=a1(e,t),ie=HU(U,{point:r,x0:n,y0:i,width:s,height:a},l),G=HU(K,{point:u,x0:f,y0:c,width:h,height:m},g),{x:ne,y:ge}=ie,{x:re,y:se}=G,D=(f+_)/2,z=(c+v)/2,Y=(n+p)/2,N=(i+E)/2,I=(Y<D?p+f:_+n)/2,q=(N<z?E+c:v+i)/2;if(U==="left"&&K==="right"){if(S<=O){let Z=q;return p<=f&&(v>=$&&se<ge?Z=Math.min(P,$):c<=d&&se>=ge&&(Z=Math.max(M,d))),[{x:ne,y:ge},{x:ne,y:Z},{x:re,y:Z},{x:re,y:se}]}const ae=(ne+re)/2;return[{x:ae,y:ge},{x:ae,y:se}]}else if(U==="right"&&K==="left"){if(T>=x){let Z=q;return ne>_&&(v>=$&&se<ge?Z=Math.min(P,$):c<=d&&se>=ge&&(Z=Math.max(M,d))),[{x:ne,y:ge},{x:ne,y:Z},{x:re,y:Z},{x:re,y:se}]}const ae=(ne+re)/2;return[{x:ae,y:ge},{x:ae,y:se}]}else if(U==="top"&&K==="bottom"){if(ge<se){let Z=I,te=ge;return ge<c&&(_>=S&&re<ne?Z=Math.min(x,S):f<=T&&re>=ne&&(Z=Math.max(O,T))),[{x:ne,y:te},{x:Z,y:te},{x:Z,y:se},{x:re,y:se}]}const ae=(ge+se)/2;return[{x:ne,y:ae},{x:re,y:ae}]}else if(U==="bottom"&&K==="top"){if(ge-l>se){let Z=I,te=ge;return ge>v&&(_>=S&&re<ne?Z=Math.min(x,S):f<=T&&re>=ne&&(Z=Math.max(O,T))),[{x:ne,y:te},{x:Z,y:te},{x:Z,y:se},{x:re,y:se}]}const ae=(ge+se)/2;return[{x:ne,y:ae},{x:re,y:ae}]}else if(U==="top"&&K==="top"){let ae,Z=Math.min((E+c)/2,se),te=Math.min((i+v)/2,ge);if(se<ge){if(ne>=O||ne<=x)return[{x:ne,y:Math.min(ge,se)},{x:re,y:Math.min(ge,se)}];re>ne?ae=Math.min(ne,x):ae=Math.max(ne,O)}else{if(re>=T||re<=S)return[{x:ne,y:Math.min(ge,se)},{x:re,y:Math.min(ge,se)}];re>=ne?ae=Math.max(re,T):ae=Math.min(re,S)}return[{x:ne,y:te},{x:ae,y:te},{x:ae,y:Z},{x:re,y:Z}]}else if(U==="bottom"&&K==="bottom"){let ae,Z=Math.max((i+v)/2,se),te=Math.max((E+c)/2,ge);if(se>ge){if(ne>=O||ne<=x)return[{x:ne,y:Math.max(ge,se)},{x:re,y:Math.max(ge,se)}];re>ne?ae=Math.min(ne,x):ae=Math.max(ne,O)}else{if(re>=T||re<=S)return[{x:ne,y:Math.max(ge,se)},{x:re,y:Math.max(ge,se)}];re>=ne?ae=Math.max(re,T):ae=Math.min(re,S)}return[{x:ne,y:te},{x:ae,y:te},{x:ae,y:Z},{x:re,y:Z}]}else if(U==="left"&&K==="left"){let ae,Z=Math.min((p+f)/2,re),te=Math.min((n+_)/2,ne);return re>ne?se<=ge?ae=Math.min($,se):ae=Math.max(d,se):se>=ge?ae=Math.min(P,ge):ae=Math.max(M,ge),[{x:te,y:ge},{x:te,y:ae},{x:Z,y:ae},{x:Z,y:se}]}else if(U==="right"&&K==="right"){let ae,Z=Math.max((n+_)/2,re),te=Math.max((p+f)/2,ne);return re<ne?se<=ge?ae=Math.min($,se):ae=Math.max(d,se):se>=ge?ae=Math.min(P,ge):ae=Math.max(M,ge),[{x:te,y:ge},{x:te,y:ae},{x:Z,y:ae},{x:Z,y:se}]}else if(U==="top"&&K==="right"){if(ge>se){if(ne<re){let Z=q;return(Z>z||!y)&&Z<M&&ne<f&&(Z=P),[{x:ne,y:Z},{x:re,y:Z},{x:re,y:se}]}return[{x:ne,y:se}]}const ae=Math.max(I,O);if(re<ne&&se>i&&se<E)return[{x:ne,y:ge},{x:ae,y:ge},{x:ae,y:se}];if(ae>S&&se>i||f>p){const Z=Math.min(i-l,c-g),te=Math.max(p+l,_+g);return[{x:ne,y:Z},{x:te,y:Z},{x:te,y:se}]}return[{x:ne,y:ge},{x:Math.max(ae,re),y:ge},{x:Math.max(ae,re),y:se}]}else if(U==="top"&&K==="left"){if(ge>se){if(ne>re){let Z=q;return(Z>z||!y)&&Z<M&&ne>_&&(Z=P),[{x:ne,y:Z},{x:re,y:Z},{x:re,y:se}]}return[{x:ne,y:se}]}const ae=Math.min(x,I);if(ne<re&&E>=se)return[{x:ne,y:ge},{x:ae,y:ge},{x:ae,y:se}];if(ae<T&&ge<v){const Z=Math.min($,P),te=Math.min(S,x);return[{x:ne,y:Z},{x:te,y:Z},{x:te,y:se}]}return[{x:ne,y:ge},{x:ae,y:ge},{x:ae,y:se}]}else if(U==="bottom"&&K==="right"){if(ge<se){if(ne<re){let Z=q;return(Z<z||!y)&&Z>P&&ne<f&&(Z=M),[{x:ne,y:Z},{x:re,y:Z},{x:re,y:se}]}return[{x:ne,y:se}]}else if(n<re){const Z=Math.max(d,M),te=Math.max(T,O);return[{x:ne,y:Z},{x:te,y:Z},{x:te,y:se}]}const ae=I;return[{x:ne,y:ge},{x:ae,y:ge},{x:ae,y:se}]}else if(U==="bottom"&&K==="left"){if(ge<se){if(ne>re){let Z=q;return(Z<z||!y)&&Z>P&&ne>_&&(Z=M),[{x:ne,y:Z},{x:re,y:Z},{x:re,y:se}]}return[{x:ne,y:se}]}else if(p>re){const Z=Math.max(d,M),te=Math.min(S,x);return[{x:ne,y:Z},{x:te,y:Z},{x:te,y:se}]}const ae=I;return[{x:ne,y:ge},{x:ae,y:ge},{x:ae,y:se}]}else if(U==="left"&&K==="bottom"){if(ne>=re&&ge>=M)return[{x:re,y:ge}];if(ne>=_&&ge<se){const te=I;return[{x:te,y:ge},{x:te,y:se},{x:re,y:se}]}if(re<p&&v<=i){const te=q;return[{x:ne,y:ge},{x:ne,y:te},{x:re,y:te}]}const ae=Math.min(x,ne),Z=Math.max(d,M);return[{x:ae,y:ge},{x:ae,y:Z},{x:re,y:Z}]}else if(U==="left"&&K==="top"){if(ne>re&&ge<P)return[{x:re,y:ge}];if(ne>=_&&ge>se){const te=I;return[{x:te,y:ge},{x:te,y:se},{x:re,y:se}]}if(re<=p&&se>ge){const te=q;return[{x:ne,y:ge},{x:ne,y:te},{x:re,y:te}]}const ae=se<ge?Math.min(S,x):S,Z=Math.min($,P);return[{x:ae,y:ge},{x:ae,y:Z},{x:re,y:Z}]}else if(U==="right"&&K==="top"){if(ne<=re&&ge<P)return[{x:re,y:ge}];if(p<f&&ge>se){let te=I;return[{x:te,y:ge},{x:te,y:se},{x:re,y:se}]}if(re<ne&&c>E){const te=q;return[{x:ne,y:ge},{x:ne,y:te},{x:re,y:te}]}const ae=Math.max(T,O),Z=Math.min($,P);return[{x:ae,y:ge},{x:ae,y:Z},{x:re,y:Z}]}else if(U==="right"&&K==="bottom"){if(ne<=re&&ge>=M)return[{x:re,y:ge}];if(ne<=x&&ge<se){const te=I;return[{x:te,y:ge},{x:te,y:se},{x:re,y:se}]}if(re>n&&v<i){const te=q;return[{x:ne,y:ge},{x:ne,y:te},{x:re,y:te}]}const ae=Math.max(O,ne),Z=Math.max(d,M);return[{x:ae,y:ge},{x:ae,y:Z},{x:re,y:Z}]}}function a5(e,t,r){const{sourceDirection:n=Rt.AUTO,targetDirection:i=Rt.AUTO}=t,o=t.margin||20,s=t.useVertices||!1,a=!!r.model.source().port,l=VU(r.sourceView,r.sourceAnchor,r.sourceBBox,n,a,r.sourceAnchor,o),u=!!r.model.target().port,f=VU(r.targetView,r.targetAnchor,r.targetBBox,i,u,r.targetAnchor,o);let c=[];if(!s||e.length===0)return Kw(yf(l,f));const h=e.map(_=>fA(_)),[m]=h;if(l.view&&l.view.model.isElement()&&l.view.model.getBBox().inflate(o).containsPoint(m.point)){const[_]=a1(l,m),v=_,p=fA(l.point);p.margin=o,p.direction=_,m.direction=v,c.push(...yf(p,m),m.point)}else{const _=h[1]||f,v=g_e(l,m,_);m.direction=v,c.push(...yf(l,m),m.point)}for(let _=0;_<h.length-1;_++){const v=h[_],p=h[_+1],E=new Gt(v.point,p.point),y=xv(E);if(y%90===0){const $=Gw[y],d=pm[$];if($!==v.direction)c.push(v.point,p.point),p.direction=d;else{const x=Ql(y-90);let O=0,P=0;x===90?P=-o:x===180?O=-o:x===270?P=o:x===0&&(O=o);const M={x:v.point.x+O,y:v.point.y+P},U={x:p.point.x+O,y:p.point.y+P},K=new Gt(p.point,U);p.direction=Gw[xv(K)],c.push(v.point,M,U,p.point)}continue}const[S,T]=dA(v,p);v.direction=S,p.direction=T,c.push(...yf(v,p),p.point)}const g=h[h.length-1];if(f.view&&f.view.model.isElement())if(f.view.model.getBBox().inflate(o).containsPoint(g.point)){const[_]=dA(g,f),v=fA(f.point),[,p]=a1(g,f);v.margin=o,v.direction=p,g.direction=_,c.push(...yf(g,v))}else{const _=Kw(c),v=new Gt(_[_.length-2],g.point),p=Gw[Math.round(xv(v))];g.direction=p;let E=yf(g,f);const[y,S]=Kw([...E,f.point]),T=new Gt(y,S),$=Math.round(xv(T)),d=Gw[$];d!==p&&p===pm[d]&&(g.margin=o,E=yf(g,f)),c.push(...E)}else{const[_]=dA(g,f);g.direction=_,c.push(...yf(g,f))}return Kw(c)}function dA(e,t){const r=e.direction,n=f_e.includes(r);let i=e.direction,o=t.direction;if(n){const s=e.point.y>t.point.y,a=t.point.x-e.point.x;r===Rt.BOTTOM?(i=s?pm[r]:a>=0?Rt.RIGHT:Rt.LEFT,a>0?o=s?Rt.LEFT:Rt.TOP:a<0&&(o=s?Rt.RIGHT:Rt.TOP)):(i=s?a>=0?Rt.RIGHT:Rt.LEFT:pm[r],a>0?o=s?Rt.BOTTOM:Rt.LEFT:a<0&&(o=s?Rt.BOTTOM:Rt.RIGHT))}else{const s=e.point.x>t.point.x,a=t.point.y-e.point.y;r===Rt.RIGHT?(i=s?pm[r]:a>=0?Rt.BOTTOM:Rt.TOP,a>0?o=s?Rt.TOP:Rt.LEFT:a<0&&(o=s?Rt.BOTTOM:Rt.LEFT)):(i=s?a>=0?Rt.BOTTOM:Rt.TOP:pm[r],a>0?o=s?Rt.RIGHT:Rt.TOP:a<0&&(o=s?Rt.RIGHT:Rt.BOTTOM))}return[i,o]}a5.Directions=Rt;const v_e=a5,y_e=Object.freeze(Object.defineProperty({__proto__:null,manhattan:UI,metro:c_e,normal:Wbe,oneSide:Gbe,orthogonal:BI,rightAngle:v_e},Symbol.toStringTag,{value:"Module"})),Yp={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},w_e=Object.values(Yp),b_e=10,__e=1,Gj=function(e,t,r=[],n={}){const{cornerType:i=Yp.POINT,cornerRadius:o=b_e,cornerPreserveAspectRatio:s=!1,precision:a=__e,raw:l=!1}=n;if(w_e.indexOf(i)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let u;if(i===Yp.POINT||!o){const f=[e].concat(r).concat([t]),c=new Qn(f);u=new or(c)}else{u=new or,u.appendSegment(or.createSegment("M",e));let f;const c=r.length;for(let h=0;h<c;h++){const m=new Ze(r[h]),g=r[h-1]||e,_=r[h+1]||t,v=f||m.distance(g)/2;f=m.distance(_)/2;let p,E;s?p=E=-Math.min(o,v,f):(p=-Math.min(o,v),E=-Math.min(o,f));const y=m.clone().move(g,p).round(a),S=m.clone().move(_,E).round(a);switch(u.appendSegment(or.createSegment("L",y)),i){case Yp.CUBIC:{const T=.3333333333333333,$=2/3,d=new Ze(T*y.x+$*m.x,$*m.y+T*y.y),x=new Ze(T*S.x+$*m.x,$*m.y+T*S.y);u.appendSegment(or.createSegment("C",d,x,S));break}case Yp.LINE:{u.appendSegment(or.createSegment("L",S));break}case Yp.GAP:{u.appendSegment(or.createSegment("M",S));break}}}u.appendSegment(or.createSegment("L",t))}return l?u:u.serialize()};var E_e=5,WU=["arc","gap","cubic"],S_e=0,GU=1,T_e=["smooth"],Jw=1/3,Yw=2/3;function KU(e,t){let{x:r,y:n}=e,{x:i,y:o}=t;if(r>i){let s=r;r=i,i=s,s=n,n=o,o=s}if(n>o){let s=r;r=i,i=s,s=n,n=o,o=s}return[new Ze(r,n),new Ze(i,o)]}function $_e(e,t){const[{x:r,y:n},{x:i,y:o}]=KU(e.start,e.end),[{x:s,y:a},{x:l,y:u}]=KU(t.start,t.end),f=r<=l&&s<=i,c=n<=u&&a<=o;return f&&c}function hA(e,t,r){var n=[].concat(e,r,t);return n.reduce(function(i,o,s){var a=n[s+1];return a!=null&&(i[s]=kh(o,a)),i},[])}function x_e(e){var t=e.paper,r=t._jumpOverUpdateList;if(r==null){r=t._jumpOverUpdateList=[];var n=t.model;n.on("batch:stop",function(){this.hasActiveBatch()||A_e(t)}),n.on("reset",function(){r=t._jumpOverUpdateList=[]})}r.indexOf(e)<0&&(r.push(e),e.listenToOnce(e.model,"change:connector remove",function(){r.splice(r.indexOf(e),1)}))}function A_e(e){for(var t=e._jumpOverUpdateList,r=0;r<t.length;r++){const n=t[r],i=n.getFlag(n.constructor.Flags.CONNECTOR);n.requestUpdate(i)}}function O_e(e,t){return ln(t).reduce(function(r,n){var i=e.intersection(n);return i&&r.push(i),r},[])}function JU(e,t){return kh(e,t).squaredLength()}function P_e(e,t,r){return t.reduce(function(n,i,o){if(i.skip===!0)return n;var s=n.pop()||e,a=XS(i).move(s.start,-r),l=XS(i).move(s.start,+r),u=t[o+1];if(u!=null){var f=l.distance(u);f<=r&&(l=u.move(s.start,f),u.skip=!0)}else{var c=a.distance(s.end);if(c<r*2+GU)return n.push(s),n}var h=l.distance(s.start);if(h<r*2+GU)return n.push(s),n;var m=kh(a,l);return m.isJump=!0,n.push(kh(s.start,a),m,kh(l,s.end)),n},[])}function YU(e,t,r,n){var i=new or,o;return o=or.createSegment("M",e[0].start),i.appendSegment(o),ln(e).forEach(function(s,a){if(s.isJump){var l,u,f,c;if(r==="arc"){l=-90,u=s.start.difference(s.end);var h=+(u.x<0||u.x===0&&u.y<0);h&&(l+=180);var m=s.midpoint(),g=new Gt(m,s.end).rotate(m,l),_;_=new Gt(s.start,m),f=_.pointAt(2/3).rotate(s.start,l),c=g.pointAt(1/3).rotate(g.end,-l),o=or.createSegment("C",f,c,g.end),i.appendSegment(o),_=new Gt(m,s.end),f=g.pointAt(1/3).rotate(g.end,l),c=_.pointAt(1/3).rotate(s.end,-l),o=or.createSegment("C",f,c,s.end),i.appendSegment(o)}else if(r==="gap")o=or.createSegment("M",s.end),i.appendSegment(o);else if(r==="cubic"){l=s.start.theta(s.end);var v=t*.6,p=t*1.35;u=s.start.difference(s.end),h=+(u.x<0||u.x===0&&u.y<0),h&&(p*=-1),f=Ze(s.start.x+v,s.start.y+p).rotate(s.start,l),c=Ze(s.end.x-v,s.end.y+p).rotate(s.end,l),o=or.createSegment("C",f,c,s.end),i.appendSegment(o)}}else{var E=e[a+1];n==0||!E||E.isJump?(o=or.createSegment("L",s.end),i.appendSegment(o)):R_e(n,i,s.end,s.start,E.end)}}),i}function R_e(e,t,r,n,i){var o=r.distance(n)/2,s=r.distance(i)/2,a=-Math.min(e,o),l=-Math.min(e,s),u=r.clone().move(n,a).round(),f=r.clone().move(i,l).round(),c=new Ze(Jw*u.x+Yw*r.x,Yw*r.y+Jw*u.y),h=new Ze(Jw*f.x+Yw*r.x,Yw*r.y+Jw*f.y),m;m=or.createSegment("L",u),t.appendSegment(m),m=or.createSegment("C",c,h,f),t.appendSegment(m)}const N_e=function(e,t,r,n){x_e(this);var i=n.raw,o=n.size||E_e,s=n.jump&&(""+n.jump).toLowerCase(),a=n.radius||S_e,l=n.ignoreConnectors||T_e;WU.indexOf(s)===-1&&(s=WU[0]);var u=this.paper,f=u.model,c=f.getLinks();if(c.length===1)return YU(hA(e,t,r),o,s,a);var h=this.model,m=c.indexOf(h),g=u.options.defaultConnector||{},_=c.filter(function(T,$){var d=T.get("connector")||g;return ln(l).includes(d.name)?!1:$>m?d.name!=="jumpover":!0}),v=_.map(function(T){return u.findViewByModel(T)}),p=hA(e,t,r),E=v.map(function(T){return T==null?[]:T===this?p:hA(T.sourcePoint,T.targetPoint,T.route)},this),y=p.reduce(function(T,$){var d=_.reduce(function(x,O,P){if(O!==h){const M=E[P].slice(),U=M.findIndex(ie=>$_e($,ie));U>-1&&$.containsPoint(M[U].end)&&M.splice(U+1,1);const K=O_e($,M);x.push.apply(x,K)}return x},[]).sort(function(x,O){return JU($.start,x)-JU($.start,O)});return d.length>0?T.push.apply(T,P_e($,d,o)):T.push($),T},[]),S=YU(y,o,s,a);return i?S:S.serialize()},I_e=function(e,t,r=[],n={}){const{raw:i}=n;return Gj(e,t,r,{cornerType:"point",raw:i})},C_e=10,k_e=0,j_e=function(e,t,r=[],n={}){const{radius:i=C_e,raw:o}=n;return Gj(e,t,r,{cornerType:"cubic",cornerRadius:i,precision:k_e,raw:o})},D_e=function(e,t,r,n){var i=n&&n.raw,o;if(r&&r.length!==0){var s=[e].concat(r).concat([t]),a=bn.throughPoints(s);o=new or(a)}else{o=new or;var l;if(l=or.createSegment("M",e),o.appendSegment(l),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var u=(e.x+t.x)/2;l=or.createSegment("C",u,e.y,u,t.y,t.x,t.y),o.appendSegment(l)}else{var f=(e.y+t.y)/2;l=or.createSegment("C",e.x,f,t.x,f,t.x,t.y),o.appendSegment(l)}}return i?o:o.serialize()},ol={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},cs={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},Kj=function(e,t,r=[],n={},i){const o=!!n.raw,{direction:s=ol.AUTO,precision:a=3}=n,l={coeff:n.distanceCoefficient||.6,angleTangentCoefficient:n.angleTangentCoefficient||80,tau:n.tension||.5,sourceTangent:n.sourceTangent?new Ze(n.sourceTangent):null,targetTangent:n.targetTangent?new Ze(n.targetTangent):null,rotate:!!n.rotate};typeof n.sourceDirection=="string"?l.sourceDirection=n.sourceDirection:typeof n.sourceDirection=="number"?l.sourceDirection=new Ze(1,0).rotate(null,n.sourceDirection):l.sourceDirection=n.sourceDirection?new Ze(n.sourceDirection).normalize():null,typeof n.targetDirection=="string"?l.targetDirection=n.targetDirection:typeof n.targetDirection=="number"?l.targetDirection=new Ze(1,0).rotate(null,n.targetDirection):l.targetDirection=n.targetDirection?new Ze(n.targetDirection).normalize():null;const u=[e,...r,t].map(_=>new Ze(_));let f;if(l.sourceTangent)f=l.sourceTangent;else{const _=U_e(i,u,s,l),v=u[0].distance(u[1])*l.coeff,p=u[1].difference(u[0]).normalize(),E=zI(_,p);if(E>Math.PI/4){const y=v+(E-Math.PI/4)*l.angleTangentCoefficient;f=_.clone().scale(y,y)}else f=_.clone().scale(v,v)}let c;if(l.targetTangent)c=l.targetTangent;else{const _=z_e(i,u,s,l),v=u.length-1,p=u[v-1].distance(u[v])*l.coeff,E=u[v-1].difference(u[v]).normalize(),y=zI(_,E);if(y>Math.PI/4){const S=p+(y-Math.PI/4)*l.angleTangentCoefficient;c=_.clone().scale(S,S)}else c=_.clone().scale(p,p)}const m=V_e(u,f,c,l).map(_=>H_e(_,l)),g=new or(m).round(a);return o?g:g.serialize()};Kj.Directions=ol;Kj.TangentDirections=cs;function M_e(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)n.x>t[1].x?i="right":i="left";else if(o=e.sourceView.model.angle(),r.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let s;switch(i){case"left":s=new Ze(-1,0);break;case"right":default:s=new Ze(1,0);break}return r.rotate&&o&&s.rotate(null,-o),s}function L_e(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)n.x>t[t.length-2].x?i="left":i="right";else if(o=e.targetView.model.angle(),r.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"left":s=new Ze(-1,0);break;case"right":default:s=new Ze(1,0);break}return r.rotate&&o&&s.rotate(null,-o),s}function F_e(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)n.y>t[1].y?i="bottom":i="top";else if(o=e.sourceView.model.angle(),r.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let s;switch(i){case"top":s=new Ze(0,-1);break;case"bottom":default:s=new Ze(0,1);break}return r.rotate&&o&&s.rotate(null,-o),s}function B_e(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)n.y>t[t.length-2].y?i="top":i="bottom";else if(o=e.targetView.model.angle(),r.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"top":s=new Ze(0,-1);break;case"bottom":default:s=new Ze(0,1);break}return r.rotate&&o&&s.rotate(null,-o),s}function XU(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)i=n.sideNearestToPoint(t[1]);else if(o=e.sourceView.model.angle(),r.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let s;switch(i){case"top":s=new Ze(0,-1);break;case"bottom":s=new Ze(0,1);break;case"right":s=new Ze(1,0);break;case"left":s=new Ze(-1,0);break}return r.rotate&&o&&s.rotate(null,-o),s}function QU(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)i=n.sideNearestToPoint(t[t.length-2]);else if(o=e.targetView.model.angle(),r.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"top":s=new Ze(0,-1);break;case"bottom":s=new Ze(0,1);break;case"right":s=new Ze(1,0);break;case"left":s=new Ze(-1,0);break}return r.rotate&&o&&s.rotate(null,-o),s}function ZU(e,t,r){return t[1].difference(t[0]).normalize()}function ez(e,t,r){const n=t.length-1;return t[n-1].difference(t[n]).normalize()}function tz(e,t,r){const{sourceBBox:n}=e,i=n.center();return t[0].difference(i).normalize()}function rz(e,t,r){const{targetBBox:n}=e,i=n.center();return t[t.length-1].difference(i).normalize()}function U_e(e,t,r,n){if(n.sourceDirection)switch(n.sourceDirection){case cs.UP:return new Ze(0,-1);case cs.DOWN:return new Ze(0,1);case cs.LEFT:return new Ze(-1,0);case cs.RIGHT:return new Ze(1,0);case cs.AUTO:return XU(e,t,n);case cs.CLOSEST_POINT:return ZU(e,t);case cs.OUTWARDS:return tz(e,t);default:return n.sourceDirection}switch(r){case ol.HORIZONTAL:return M_e(e,t,n);case ol.VERTICAL:return F_e(e,t,n);case ol.CLOSEST_POINT:return ZU(e,t);case ol.OUTWARDS:return tz(e,t);case ol.AUTO:default:return XU(e,t,n)}}function z_e(e,t,r,n){if(n.targetDirection)switch(n.targetDirection){case cs.UP:return new Ze(0,-1);case cs.DOWN:return new Ze(0,1);case cs.LEFT:return new Ze(-1,0);case cs.RIGHT:return new Ze(1,0);case cs.AUTO:return QU(e,t,n);case cs.CLOSEST_POINT:return ez(e,t);case cs.OUTWARDS:return rz(e,t);default:return n.targetDirection}switch(r){case ol.HORIZONTAL:return L_e(e,t,n);case ol.VERTICAL:return B_e(e,t,n);case ol.CLOSEST_POINT:return ez(e,t);case ol.OUTWARDS:return rz(e,t);case ol.AUTO:default:return QU(e,t,n)}}function q_e(e,t){const r=Math.cos(t),n=Math.sin(t),i=r*e.x-n*e.y,o=n*e.x+r*e.y;e.x=i,e.y=o}function zI(e,t){let r=e.dot(t)/(e.magnitude()*t.magnitude());return r<-1&&(r=-1),r>1&&(r=1),Math.acos(r)}function nz(e,t){return e.x*t.y-e.y*t.x}function V_e(e,t,r,n){const{tau:i,coeff:o}=n,s=[],a=[],l=[],u=e.length-1;for(let f=0;f<u;f++)s[f]=e[f].distance(e[f+1]);a[0]=t,a[u]=r;for(let f=1;f<u;f++){let c,h;f===1?c=e[f-1].clone().offset(a[f-1].x,a[f-1].y):c=e[f-1].clone(),f===u-1?h=e[f+1].clone().offset(a[f+1].x,a[f+1].y):h=e[f+1].clone();const m=c.difference(e[f]).normalize(),g=h.difference(e[f]).normalize(),_=zI(m,g);let v=(Math.PI-_)/2,p;const E=nz(m,g);let y;y=nz(e[f].difference(e[f+1]),e[f].difference(e[f-1])),E<0&&(v=-v),_<Math.PI/2&&(v<0&&y<0||v>0&&y>0)&&(v=v-Math.PI),p=g.clone(),q_e(p,v);const S=p.clone(),T=p.clone(),$=s[f-1]*o,d=s[f]*o;S.scale($,$),T.scale(d,d),a[f]=[S,T]}for(let f=0;f<u;f++){let c,h;f===0?c=e[f+1].difference(a[f].x/i,a[f].y/i):c=e[f+1].difference(a[f][1].x/i,a[f][1].y/i),f===u-1?h=e[f].clone().offset(a[f+1].x/i,a[f+1].y/i):h=e[f].difference(a[f+1][0].x/i,a[f+1][0].y/i),l[f]=[c,e[f],e[f+1],h]}return l}function H_e(e,t){const{tau:r}=t,n=new Ze;n.x=e[1].x+(e[2].x-e[0].x)/(6*r),n.y=e[1].y+(e[2].y-e[0].y)/(6*r);const i=new Ze;return i.x=e[2].x+(e[3].x-e[1].x)/(6*r),i.y=e[2].y+(e[3].y-e[1].y)/(6*r),new bn(e[1],n,i,e[2])}const W_e=Object.freeze(Object.defineProperty({__proto__:null,curve:Kj,jumpover:N_e,normal:I_e,rounded:j_e,smooth:D_e,straight:Gj},Symbol.toStringTag,{value:"Module"})),br={TOOLS:Hr.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},Kv=Hr.extend({className:function(){var e=Hr.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){Hr.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[br.RENDER],attrs:[br.UPDATE],router:[br.UPDATE],connector:[br.CONNECTOR],smooth:[br.UPDATE],manhattan:[br.UPDATE],toolMarkup:[br.LEGACY_TOOLS],labels:[br.LABELS],labelMarkup:[br.LABELS],vertices:[br.VERTICES,br.UPDATE],vertexMarkup:[br.VERTICES],source:[br.SOURCE,br.UPDATE],target:[br.TARGET,br.UPDATE]},initFlag:[br.RENDER,br.SOURCE,br.TARGET,br.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,br.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,br.SOURCE)}if(this.hasFlag(e,br.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,br.TARGET)}const{paper:r,sourceView:n,targetView:i}=this;if(r&&(n&&!r.isViewMounted(n)||i&&!r.isViewMounted(i)))return e;if(this.hasFlag(e,br.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),e=this.removeFlag(e,[br.RENDER,br.UPDATE,br.VERTICES,br.LABELS,br.TOOLS,br.LEGACY_TOOLS,br.CONNECTOR]),e;let o=!1;this.hasFlag(e,br.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,br.VERTICES));const{model:s}=this,{attributes:a}=s;let l=this.hasFlag(e,br.LABELS),u=this.hasFlag(e,br.LEGACY_TOOLS);l&&(this.onLabelsChange(s,a.labels,t),e=this.removeFlag(e,br.LABELS),o=!0),u&&(this.renderTools(),e=this.removeFlag(e,br.LEGACY_TOOLS));const f=this.hasFlag(e,br.UPDATE),c=this.hasFlag(e,br.CONNECTOR);return(f||c)&&(f?t.translateBy&&s.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[br.UPDATE,br.TOOLS,br.CONNECTOR]),l=!1,u=!1,o=!0),l&&this.updateLabelPositions(),u&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(e,br.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,br.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(br.UPDATE),e)},isLabelsRenderRequired:function(e={}){const t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var r=e.propertyPathArray||[],n=r.length;if(n>1){var i=!!t[r[1]];if(i){if(n===2)return"markup"in Object(e.propertyValue);if(r[2]!=="markup")return!1}}}return!0},onLabelsChange:function(e,t,r){this.isLabelsRenderRequired(r)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=wt(e);Array.isArray(t)||(t=[t]);for(var r=this._V,n=0,i=t.length;n<i;n++){var o=t[n],s=o.attr("class");s&&(s=nbe(s),r[wn.camelCase(s)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if(typeof e=="string")return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=wt(e),r=document.createDocumentFragment();if(!Array.isArray(t))r.appendChild(t.node);else for(var n=0,i=t.length;n<i;n++){var o=t[n].node;r.appendChild(o)}return{fragment:r,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment)||!e.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var r,n=t.childNodes;return n.length>1||n[0].nodeName.toUpperCase()!=="G"?r=wt("g").append(t):r=wt(n[0]),r.addClass("label"),{node:r.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,r=this._labelCache={},n=this._labelSelectors={},i=this.model,o=i.attributes.labels||[],s=o.length;if(s===0)return t&&t.remove(),this;t?t.empty():(t=e.labels=wt("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(Vl(Ii(this,"className"))),t.attr("model-id",i.id)));for(var a=0;a<s;a++){var l=o[a],u=this._normalizeLabelMarkup(this._getLabelMarkup(l.markup)),f,c;if(u)f=u.node,c=u.selectors;else{var h=i._builtins.defaultLabel,m=this._normalizeLabelMarkup(this._getLabelMarkup(h.markup)),g=i._getDefaultLabel(),_=this._normalizeLabelMarkup(this._getLabelMarkup(g.markup)),v=_||m;f=v.node,c=v.selectors}f.setAttribute("label-idx",a),t.append(f),r[a]=f;var p=this.selector;if(c[p])throw new Error("dia.LinkView: ambiguous label root selector.");c[p]=f,n[a]=c}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:e,paper:t,model:r,_V:n,options:i}=this,{labels:o}=n;if(!o||!r.hasLabels())return;const{node:s}=o;i.labelsLayer?t.getLayerView(i.labelsLayer).insertSortedNode(s,r.get("z")):s.parentNode!==e&&e.appendChild(s)},unmountLabels:function(){const{options:e,_V:t}=this;if(!t)return;const{labels:r}=t;r&&e.labelsLayer&&r.remove()},findLabelNode:function(e,t){const r=this._labelCache[e];if(!r)return null;const n=this._labelSelectors[e],[i=null]=this.findBySelector(t,r,n);return i},_mergeLabelAttrs:function(e,t,r,n){return t===null?null:t===void 0?r===null?null:r===void 0?e?void 0:n:e?r:Xi({},n,r):e?Xi({},r,t):Xi({},n,r,t)},_mergeLabelSize:function(e,t){return e===null?null:e===void 0?t===null?null:t===void 0?void 0:t:Xi({},t,e)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],r=this.can("labelMove"),n=e._builtins.defaultLabel,i=n.attrs,o=e._getDefaultLabel(),s=o.markup,a=o.attrs,l=o.size,u=0,f=t.length;u<f;u++){var c=this._labelCache[u];c.setAttribute("cursor",r?"move":"default");var h=this._labelSelectors[u],m=t[u],g=m.markup,_=m.attrs,v=m.size,p=this._mergeLabelAttrs(g||s,_,a,i),E=this._mergeLabelSize(v,l);this.updateDOMSubtreeAttributes(c,p,{rootBBox:new Vt(E),selectors:h})}return this},renderTools:function(){if(!this._V.linkTools)return this;var e=wn(this._V.linkTools.node).empty(),t=ns(this.model.get("toolMarkup")||this.model.toolMarkup),r=wt(t());if(e.append(r.node),this._toolCache=r,this.options.doubleLinkTools){var n;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=ns(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),n=wt(t())):n=r.clone(),e.append(n.node),this._tool2Cache=n}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=wn(this._V.markerVertices.node).empty(),t=ns(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(r,n){e.append(wt(t(dr({idx:n},r))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=wn(this._V.markerArrowheads.node);e.empty();var t=ns(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=wt(t({end:"source"})),this._V.targetArrowhead=wt(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){const r=this.model,n=r.vertices(),i=[this.sourceAnchor,...n,this.targetAnchor],o=i.length,s=new Qn(i);s.simplify({threshold:.001});const a=s.points.map(u=>u.toJSON()),l=a.length;return o===l?0:(r.vertices(a.slice(1,l-1),e),o-l)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new Ze(this.sourceAnchor);case"target":return new Ze(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new Ze(this.sourcePoint);case"target":return new Ze(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var r=this.targetView;if(!r)break;return this.targetMagnet||r.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){const{route:r,path:n}=this;if(!r||!n)return;const i=new Qn(r);i.translate(e,t),this.route=i.points,this._translateConnectionPoints(e,t),n.translate(e,t),this.updateDOM()},updateDOM(){const{el:e,model:t,selectors:r}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:r}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:e}=this,t=e.vertices(),r=this.findAnchors(t),n=this.sourceAnchor=r.source,i=this.targetAnchor=r.target,o=this.findRoute(t);this.route=o;var s=this.findConnectionPoints(o,n,i);this.sourcePoint=s.source,this.targetPoint=s.target},updatePath:function(){const{route:e,sourcePoint:t,targetPoint:r}=this,n=this.findMarkerPoints(e,t,r),i=this.findPath(e,n.source||t,n.target||r);this.path=i},findMarkerPoints:function(e,t,r){var n=e[0],i=e[e.length-1],o=this._markerCache,s,a;return this._V.markerSource&&(o.sourceBBox=o.sourceBBox||this._V.markerSource.getBBox(),s=Ze(t).move(n||r,o.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(o.targetBBox=o.targetBBox||this._V.markerTarget.getBBox(),a=Ze(r).move(i||t,o.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),o.sourcePoint=s||t.clone(),o.targetPoint=a||r.clone(),{source:s,target:a}},findAnchorsOrdered:function(e,t,r,n){var i,o,s,a,l=this.model,u=l.get(e),f=l.get(r),c=this.getEndView(e),h=this.getEndView(r),m=this.getEndMagnet(e),g=this.getEndMagnet(r);c?(t?s=new Ze(t):h?s=g:s=new Ze(f),i=this.getAnchor(u.anchor,c,m,s,e)):i=new Ze(u),h?(a=new Ze(n||i),o=this.getAnchor(f.anchor,h,g,a,r)):o=new Ze(f);var _={};return _[e]=i,_[r]=o,_},findAnchors:function(e){var t=this.model,r=e[0],n=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",n,"source",r):this.findAnchorsOrdered("source",r,"target",n)},findConnectionPoints:function(e,t,r){var n=e[0],i=e[e.length-1],o=this.model,s=o.get("source"),a=o.get("target"),l=this.sourceView,u=this.targetView,f=this.paper.options,c,h,m;if(l&&!l.isNodeConnection(this.sourceMagnet)){c=this.sourceMagnet||l.el;var g=s.connectionPoint||f.defaultConnectionPoint,_=n||r,v=new Gt(_,t);m=this.getConnectionPoint(g,l,c,v,"source")}else m=t;var p;if(u&&!u.isNodeConnection(this.targetMagnet)){h=this.targetMagnet||u.el;var E=a.connectionPoint||f.defaultConnectionPoint,y=i||t,S=new Gt(y,r);p=this.getConnectionPoint(E,u,h,S,"target")}else p=r;return{source:m,target:p}},getAnchor:function(e,t,r,n,i){var o=t.isNodeConnection(r),s=this.paper.options;if(e||(o?e=s.defaultLinkAnchor:s.perpendicularLinks||this.options.perpendicular?e={name:"perpendicular"}:e=s.defaultAnchor),!e)throw new Error("Anchor required.");var a;if(typeof e=="function")a=e;else{var l=e.name,u=o?"linkAnchorNamespace":"anchorNamespace";if(a=s[u][l],typeof a!="function")throw new Error("Unknown anchor: "+l)}var f=a.call(this,t,r,n,e.args||{},i,this);return f?f.round(this.decimalsRounding):new Ze},getConnectionPoint:function(e,t,r,n,i){var o,s=n.end,a=this.paper.options;if(typeof a.linkConnectionPoint=="function"){var l=r===t.el?void 0:r;if(o=a.linkConnectionPoint(this,t,l,n.start,i),o)return o}if(!e)return s;var u;if(typeof e=="function")u=e;else{var f=e.name;if(u=a.connectionPointNamespace[f],typeof u!="function")throw new Error("Unknown connection point: "+f)}return o=u.call(this,n,t,r,e.args||{},i,this),o?o.round(this.decimalsRounding):s},_translateConnectionPoints:function(e,t){var r=this._markerCache;r.sourcePoint.offset(e,t),r.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_getDefaultLabelPositionProperty:function(){var e=this.model,t=e._builtins.defaultLabel,r=t.position,n=e._getDefaultLabel(),i=this._normalizeLabelPosition(n.position);return Xi({},r,i)},_normalizeLabelPosition:function(e){return typeof e=="number"?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return e===null?null:e===void 0?t===null?null:t:Xi({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var e=this.path;if(!e)return this;var t=this.model,r=t.get("labels")||[];if(!r.length)return this;for(var n=this._getDefaultLabelPositionProperty(),i=0,o=r.length;i<o;i++){var s=this._labelCache[i];if(s){var a=r[i],l=this._normalizeLabelPosition(a.position),u=this._mergeLabelPositionProperty(l,n),f=this._getLabelTransformationMatrix(u);s.setAttribute("transform",wt.matrixToTransformString(f)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(e){const{metrics:t,_labelSelectors:r}=this,n=r[e];if(n)for(let i in n){const{id:o}=n[i];o&&o in t&&delete t[o].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,r=this.getConnectionLength();if(!Number.isNaN(r)){r<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var n=this.getPointAtLength(t);if(this._toolCache.attr("transform","translate("+n.x+", "+n.y+") "+e),this.options.doubleLinkTools&&r>=this.options.longLinkLength){var i=this.options.doubleLinkToolsOffset||t;n=this.getPointAtLength(r-i),this._tool2Cache.attr("transform","translate("+n.x+", "+n.y+") "+e),this._tool2Cache.attr("display","inline")}else this.options.doubleLinkTools&&this._tool2Cache.attr("display","none")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(wn.css(this._V.markerArrowheads.node,"display")==="none")return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){const{model:t,paper:r}=this,n=`${e}View`,i=t.get(e),o=i&&i.id;if(!o)return this[n]=null,this.updateEndMagnet(e),!0;const s=r.getModelById(o);if(!s)throw new Error("LinkView: invalid "+e+" cell.");const a=s.findView(r);return a?(this[n]=a,this.updateEndMagnet(e),!0):!1},updateEndMagnet:function(e){const t=`${e}Magnet`,r=this.getEndView(e);if(r){let n=r.getMagnetFromLinkEnd(this.model.get(e));n===r.el&&(n=null),this[t]=n}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var r=ln(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,r[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,r[r.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){var t=this._getLabelPositionProperty(e);return t.angle||0},_getLabelPositionArgs:function(e){var t=this._getLabelPositionProperty(e);return t.args},_getDefaultLabelPositionArgs:function(){var e=this.model._getDefaultLabel(),t=e.position||{};return t.args},_mergeLabelPositionArgs:function(e,t){return e===null?null:e===void 0?t===null?null:t:Xi({},t,e)},addLabel:function(e,t,r,n){var i,o,s=0,a;typeof e!="number"?(i=e.x,o=e.y,typeof t=="number"?(s=t,a=r):a=t):(i=e,o=t,typeof r=="number"?(s=r,a=n):a=r);var l=this._getDefaultLabelPositionArgs(),u=a,f=this._mergeLabelPositionArgs(u,l),c={position:this.getLabelPosition(i,o,s,f)},h=-1;return this.model.insertLabel(h,c,a),h},addVertex:function(e,t,r){var n=typeof e!="number",i=n?e.x:e,o=n?e.y:t,s=n?t:r,a={x:i,y:o},l=this.getVertexIndex(i,o);return this.model.insertVertex(l,a,s),l},sendToken:function(e,t,r){function n(c,h){return function(){c.remove(),typeof h=="function"&&h()}}var i,o,s;Pn(t)?(i=t.duration,o=t.direction==="reverse",s=t.connection):(i=t,o=!1,s=null),i=i||1e3;var a={dur:i+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};o&&(a.keyPoints="1;0",a.keyTimes="0;1");var l=wt(e),u;if(typeof s=="string")u=this.findBySelector(s,this.el,this.selectors)[0];else{var f=this._V;u=f.connection?f.connection.node:this.el.querySelector("path")}if(!(u instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(a,u),setTimeout(n(l,r),i)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||y_e,r=this.model.router(),n=this.paper.options.defaultRouter;if(!r)if(n)r=n;else return e.map(Ze);var i=ei(r)?r:t[r.name];if(!ei(i))throw new Error('dia.LinkView: unknown router: "'+r.name+'".');var o=r.args||{},s=i.call(this,e,o,this);return s||e.map(Ze)},findPath:function(e,t,r){var n=this.paper.options.connectorNamespace||W_e,i=this.model.connector(),o=this.paper.options.defaultConnector;i||(i=o||{});var s=ei(i)?i:n[i.name];if(!ei(s))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var a=Au(i.args||{});a.raw=!0;var l=s.call(this,t,r,e,a,this);return typeof l=="string"&&(l=new or(wt.normalizePathData(l))),l},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var r=e.serialize();return t.data=r,r},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var r=e.getSegmentSubdivisions();return t.segmentSubdivisions=r,r},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var r=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=r,r},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?($o(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,r,n){var i={},o=0,s;typeof r=="number"?(o=r,s=n):s=r,s&&(i.args=s);var a=!(s&&s.absoluteDistance),l=s&&s.absoluteDistance&&s.reverseDistance,u=s&&s.absoluteOffset,f=this.path,c={segmentSubdivisions:this.getConnectionSubdivisions()},h=new Ze(e,t),m=f.closestPointT(h,c),g=f.lengthAtT(m,c);a&&(g=g/this.getConnectionLength()||0),l&&(g=-1*(this.getConnectionLength()-g)||1),i.distance=g;var _;u||(_=f.tangentAtT(m));var v;if(_)v=_.pointOffset(h);else{var p=f.pointAtT(m),E=h.difference(p);v={x:E.x,y:E.y}}return i.offset=v,i.angle=o,i},_getLabelTransformationMatrix:function(e){var t,r=0,n={};if(typeof e=="number")t=e;else if(typeof e.distance=="number")n=e.args||{},t=e.distance,r=e.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var i=t>0&&t<=1,o=0,s={x:0,y:0};if(e.offset){var a=e.offset;typeof a=="number"&&(o=a),a.x&&(s.x=a.x),a.y&&(s.y=a.y)}var l=s.x!==0||s.y!==0||o===0,u=n.keepGradient,f=n.ensureLegibility,c=this.path,h={segmentSubdivisions:this.getConnectionSubdivisions()},m=i?t*this.getConnectionLength():t,g=c.tangentAtLength(m,h),_,v=r;if(g){if(l)_=g.start.clone(),_.offset(s);else{var p=g.clone();p.rotate(g.start,-90),p.setLength(o),_=p.end}u&&(v=g.angle()+r,f&&(v=Ql((v+90)%180-90)))}else _=c.start.clone(),l&&_.offset(s);return wt.createSVGMatrix().translate(_.x,_.y).rotate(v)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new Ze(t.e,t.f)},getVertexIndex:function(e,t){for(var r=this.model,n=r.vertices(),i=this.getClosestPointLength(new Ze(e,t)),o=0,s=n.length;o<s;o++){var a=n[o],l=this.getClosestPointLength(a);if(i<l)break}return o},notifyPointerdown(e,t,r){Hr.prototype.pointerdown.call(this,e,t,r),this.notify("link:pointerdown",e,t,r)},notifyPointermove(e,t,r){Hr.prototype.pointermove.call(this,e,t,r),this.notify("link:pointermove",e,t,r)},notifyPointerup(e,t,r){this.notify("link:pointerup",e,t,r),Hr.prototype.pointerup.call(this,e,t,r)},pointerdblclick:function(e,t,r){Hr.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){Hr.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,r)},contextmenu:function(e,t,r){Hr.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.notifyPointerdown(e,t,r);var n=e.target.getAttribute("class");switch(n){case"marker-vertex":this.dragVertexStart(e,t,r);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(e,t,r);return;case"marker-arrowhead":this.dragArrowheadStart(e,t,r);return;case"connection":case"connection-wrap":this.dragConnectionStart(e,t,r);return;case"marker-source":case"marker-target":return}this.dragStart(e,t,r)},pointermove:function(e,t,r){var n=this._dragData;n&&this.eventData(e,n);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertex(e,t,r);break;case"label-move":this.dragLabel(e,t,r);break;case"arrowhead-move":this.dragArrowhead(e,t,r);break;case"move":this.drag(e,t,r);break}n&&dr(n,this.eventData(e)),this.notifyPointermove(e,t,r)},pointerup:function(e,t,r){var n=this._dragData;n&&(this.eventData(e,n),this._dragData=null);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertexEnd(e,t,r);break;case"label-move":this.dragLabelEnd(e,t,r);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,r);break;case"move":this.dragEnd(e,t,r)}this.notifyPointerup(e,t,r),this.checkMouseleave(e)},mouseover:function(e){Hr.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){Hr.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){Hr.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){Hr.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,r,n){Hr.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,r,n)},onevent:function(e,t,r,n){var i=wt(e.target).findParentByClass("link-tool",this.el);if(i){if(e.stopPropagation(),this.can("useLinkTools"))if(t==="remove"){this.model.remove({ui:!0});return}else this.notify(t,e,r,n);this.notifyPointerdown(e,r,n),this.paper.delegateDragEvents(this,e.data)}else Hr.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragLabelStart(e,t,r);var n=this.eventData(e).stopPropagation;n&&e.stopPropagation()},dragConnectionStart:function(e,t,r){if(this.can("vertexAdd")){var n=this.addVertex({x:t,y:r},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:n})}},dragLabelStart:function(e,t,r){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var n=e.currentTarget,i=parseInt(n.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),s=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),a=this._mergeLabelPositionProperty(s,o),l=this.getLabelCoordinates(a),u=l.x-t,f=l.y-r,c=this._getLabelPositionAngle(i),h=this._getLabelPositionArgs(i),m=this._getDefaultLabelPositionArgs(),g=this._mergeLabelPositionArgs(h,m);this.eventData(e,{action:"label-move",labelIdx:i,dx:u,dy:f,positionAngle:c,positionArgs:g,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,r){if(this.can("vertexMove")){var n=e.target,i=parseInt(n.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(e,t,r){if(this.can("vertexRemove")){var n=e.target,i=parseInt(n.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(e,t,r){if(this.can("arrowheadMove")){var n=e.target,i=n.getAttribute("end"),o=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(e,o)}},dragStart:function(e,t,r){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:r})},dragLabel:function(e,t,r){var n=this.eventData(e),i={position:this.getLabelPosition(t+n.dx,r+n.dy,n.positionAngle,n.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;const o={ui:!0};this.paper.isAsync()&&e.type==="touchmove"&&(o.async=!1),this.model.label(n.labelIdx,i,o)},dragVertex:function(e,t,r){var n=this.eventData(e);this.model.vertex(n.vertexIdx,{x:t,y:r},{ui:!0})},dragArrowhead:function(e,t,r){this.paper.options.snapLinks?!this._snapArrowhead(e,t,r)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,r):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,r):this._connectArrowhead(this.getEventTarget(e),t,r,this.eventData(e))},drag:function(e,t,r){var n=this.eventData(e);this.model.translate(t-n.dx,r-n.dy,{ui:!0}),this.eventData(e,{dx:t,dy:r})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,r){var n=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(n):this._connectArrowheadEnd(n,t,r),i.linkAllowed(this)?(this._finishEmbedding(n),this._notifyConnectEvent(n,e)):this._disallow(n),this._afterArrowheadMove(n)},dragEnd:function(){},_disallow:function(e){switch(e.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(e.arrowhead,e.initialEnd,{ui:!0});break}},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var r=e.arrowhead,n=e.initialEnd,i=this.model.prop(r),o=i&&!pg.endsEqual(n,i);if(o){var s=this.paper;n.id&&this.notify("link:disconnect",t,s.findViewByModel(n.id),e.initialMagnet,r),i.id&&this.notify("link:connect",t,s.findViewByModel(i.id),e.magnetUnderPointer,r)}},_snapToPoints:function(e,t,r){let n=null,i=1/0,o=null,s=1/0,a=e.x,l=e.y;for(let u=0;u<t.length;u++){const f=Math.abs(t[u].x-e.x);f<i&&(i=f,n=t[u]);const c=Math.abs(t[u].y-e.y);c<s&&(s=c,o=t[u])}return i<r&&(a=n.x),s<r&&(l=o.y),{x:a,y:l}},_snapArrowheadSelf:function(e,t,r){const{paper:n,model:i}=this,{snapLinksSelf:o}=n.options,s=this.eventData(e),a=o.radius||20,l=this.getEndAnchor(s.arrowhead==="source"?"target":"source"),u=i.vertices(),f=[l,...u],c=this._snapToPoints({x:t,y:r},f,a),h=n.localToClientPoint(c);this._connectArrowhead(document.elementFromPoint(h.x,h.y),c.x,c.y,this.eventData(e))},_snapArrowhead:function(e,t,r){const{paper:n}=this,{snapLinks:i,connectionStrategy:o}=n.options,s=this.eventData(e);let a=!1;var l=i.radius||50,u=n.findViewsInArea({x:t-l,y:r-l,width:2*l,height:2*l}),f=s.closestView||null,c=s.closestMagnet||null,h=s.magnetProxy||null;s.closestView=s.closestMagnet=s.magnetProxy=null;var m=Number.MAX_VALUE,g=new Ze(t,r);u.forEach(function(T){const $=[];T.el.getAttribute("magnet")!=="false"&&$.push({bbox:T.model.getBBox(),magnet:T.el}),T.$("[magnet]").toArray().forEach(d=>{$.push({bbox:T.getNodeBBox(d),magnet:d})}),$.forEach(d=>{const{magnet:x,bbox:O}=d,P=O.center().squaredDistance(g);P<m&&(c===x||n.options.validateConnection.apply(n,s.validateConnectionArgs(T,T.el===x?null:x)))&&(m=P,s.closestView=T,s.closestMagnet=x)})},this);var _,v=null,p=s.closestView,E=s.closestMagnet;E&&(v=s.magnetProxy=p.findProxyNode(E,"highlighter"));var y=s.arrowhead,S=c!==E;if(f&&S&&f.unhighlight(h,{connecting:!0,snapping:!0}),p){const{prevEnd:T,prevX:$,prevY:d}=s;if(s.prevX=t,s.prevY=r,a=!0,!S&&(typeof o!="function"||$===t&&d===r)||(_=p.getLinkEnd(E,t,r,this.model,y),!S&&dm(T,_)))return a;s.prevEnd=_,S&&p.highlight(v,{connecting:!0,snapping:!0})}else _={x:t,y:r};return this.model.set(y,_||{x:t,y:r},{ui:!0}),f&&this.notify("link:snap:disconnect",e,f,c,y),p&&this.notify("link:snap:connect",e,p,E,y),a},_snapArrowheadEnd:function(e){var t=e.closestView,r=e.closestMagnet;t&&r&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(r)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,r,n){const{paper:i,model:o}=this;if(n.eventTarget!==e){n.magnetProxy&&n.viewUnderPointer.unhighlight(n.magnetProxy,{connecting:!0});const s=n.viewUnderPointer=i.findView(e);if(s){const a=n.magnetUnderPointer=s.findMagnet(e),l=n.magnetProxy=s.findProxyNode(a,"highlighter");a&&this.paper.options.validateConnection.apply(i,n.validateConnectionArgs(s,a))?l&&s.highlight(l,{connecting:!0}):(n.magnetUnderPointer=null,n.magnetProxy=null)}else n.magnetUnderPointer=null,n.magnetProxy=null}n.eventTarget=e,o.set(n.arrowhead,{x:t,y:r},{ui:!0})},_connectArrowheadEnd:function(e={},t,r){const{model:n}=this,{viewUnderPointer:i,magnetUnderPointer:o,magnetProxy:s,arrowhead:a}=e;if(!o||!s||!i)return;i.unhighlight(s,{connecting:!0});const l=i.getLinkEnd(o,t,r,n,a);n.set(a,l,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){e.z!==null&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var r,n=0,i=0;e==="source"?(n=2,r="target"):(i=2,r="source");var o=this.model.get(r);if(o.id){var s=t[n]=this.paper.findViewByModel(o.id),a=s.getMagnetFromLinkEnd(o);a===s.el&&(a=void 0),t[n+1]=a}function l(u,f){return t[i]=u,t[i+1]=u.el===f?void 0:f,t}return l},_markAvailableMagnets:function(e){function t(c,h){var m=c.paper,g=m.options.validateConnection;return g.apply(m,this.validateConnectionArgs(c,h))}var r=this.paper,n=r.model.getCells();e.marked={};for(var i=0,o=n.length;i<o;i++){var s=n[i].findView(r);if(s){var a=Array.prototype.slice.call(s.el.querySelectorAll("[magnet]"));s.el.getAttribute("magnet")!=="false"&&a.push(s.el);var l=a.filter(t.bind(e,s));if(l.length>0){for(var u=0,f=l.length;u<f;u++)s.highlight(l[u],{magnetAvailability:!0});s.highlight(null,{elementAvailability:!0}),e.marked[s.model.id]=l}}}},_unmarkAvailableMagnets:function(e){for(var t=Object.keys(e.marked),r,n,i=0,o=t.length;i<o;i++){r=t[i],n=e.marked[r];var s=this.paper.findViewByModel(r);if(s){for(var a=0,l=n.length;a<l;a++)s.unhighlight(n[a],{magnetAvailability:!0});s.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var r={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:Au(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(r),t.ignoreBackwardsCompatibility!==!0&&(this._dragData=r),r},onMount:function(){Hr.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){Hr.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){Hr.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:br});Object.defineProperty(Kv.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new Vt(t.x,t.y)}var r=this.sourceMagnet;return e.isNodeConnection(r)?new Vt(this.sourceAnchor):e.getNodeBBox(r||e.el)}});Object.defineProperty(Kv.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new Vt(t.x,t.y)}var r=this.targetMagnet;return e.isNodeConnection(r)?new Vt(this.targetAnchor):e.getNodeBBox(r||e.el)}});const G_e=Hl.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){const{options:r}=this,{useFirstSubpath:n}=r;let i;try{const o=wt(t);if(i=o.convertToPathData().trim(),o.tagName()==="PATH"&&n){const s=i.search(/.M/i)+1;s>0&&(i=i.substr(0,s))}}catch{const s=e.getNodeBoundingRect(t);i=wt.rectToPath(dr({},r,s.toJSON()))}return i},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){const{vel:r,options:n}=this,{padding:i,layer:o}=n;let s=this.getNodeMatrix(e,t);if(i){!o&&t===e.el&&r.remove();let a=e.getNodeBoundingRect(t);const l=a.x+a.width/2,u=a.y+a.height/2;a=wt.transformRect(a,s);const f=Math.max(a.width,1),c=Math.max(a.height,1),h=(f+i)/f,m=(c+i)/c,g=wt.createSVGMatrix({a:h,b:0,c:0,d:m,e:l-h*l,f:u-m*u});s=s.multiply(g)}r.attr({d:this.getPathData(e,t),transform:wt.matrixToTransformString(s)})},highlight(e,t){const{vel:r,options:n}=this;r.attr(n.attrs),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}}),iz=20;function K_e(e,t){const r=e.children();for(;r.length>0;){const n=r.shift();t(n)&&r.push(...n.children())}}const J_e=Hl.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:iz,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:r,MASK_REPLACE_TAGS:n,MASK_REMOVE_TAGS:i}=this,o=t.tagName();if(!wt.isSVGGraphicsElement(t)||i.includes(o))return t.remove(),!1;if(n.includes(o)){const s=e.vel.findOne(`#${t.id}`);if(s){const{node:a}=s;let l=e.getNodeBoundingRect(a);e.model.isElement()&&(l=wt.transformRect(l,e.getNodeMatrix(a)));const u=wt("rect",l.toJSON()),{x:f,y:c}=l.center(),{angle:h,cx:m=f,cy:g=c}=s.rotate();h&&u.rotate(h,m,g),t.parent().append(u)}return t.remove(),!1}return r.forEach(s=>{s==="fill"&&t.attr("fill")==="none"||t.removeAttr(s)}),!0},transformMaskRoot(e,t){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:r}=this;r.forEach(n=>{t.removeAttr(n)})},getMaskShape(e,t){const{options:r,MASK_REPLACE_TAGS:n}=this,{deep:i}=r,o=t.tagName();let s;if(o==="G"){if(!i)return null;s=t.clone(),K_e(s,a=>this.transformMaskChild(e,a))}else{if(n.includes(o))return null;s=t.clone()}return this.transformMaskRoot(e,s),s},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){const{VISIBLE:r,INVISIBLE:n,options:i}=this,{padding:o,attrs:s}=i,a="stroke-width"in s?s["stroke-width"]:1,l=t.attr("fill")!=="none";let u=parseFloat(t.attr("stroke-width"));isNaN(u)&&(u=1);const f=u+o*2,c=f+a*2;let h=this.getMaskShape(e,t);if(!h){const m=e.getNodeBoundingRect(t.node);m.inflate(m.width?0:.5,m.height?0:.5),h=wt("rect",m.toJSON())}return h.attr(s),wt("mask",{id:this.getMaskId()}).append([h.clone().attr({fill:l?r:"none",stroke:r,"stroke-width":c}),h.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":f})])},removeMask(e){const t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){const{options:r,vel:n}=this,{padding:i,attrs:o,maskClip:s=iz,layer:a}=r,l="stroke"in o?o.stroke:"#000000";!a&&t===e.el&&n.remove();const u=e.getNodeBoundingRect(t).inflate(i+s),f=this.getNodeMatrix(e,t),c=this.getMask(e,wt(t));this.addMask(e.paper,c),n.attr(u.toJSON()),n.attr({transform:wt.matrixToTransformString(f),mask:`url(#${c.id})`,fill:l})},unhighlight(e){this.removeMask(e.paper)}}),Y_e=Hl.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:Vl("highlight-opacity"),highlight:function(e,t){wt(t).addClass(this.opacityClassName)},unhighlight:function(e,t){wt(t).removeClass(this.opacityClassName)}}),oz=Vl("highlighted"),X_e=Hl.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:oz},highlight:function(e,t){wt(t).addClass(this.options.className)},unhighlight:function(e,t){wt(t).removeClass(this.options.className)}},{className:oz}),pA={ROW:"row",COLUMN:"column"},Q_e=Hl.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){const r=e.model,{attribute:n,size:i=20,gap:o=5,direction:s=pA.ROW}=this.options;if(!n)throw new Error("List: attribute is required");const a=typeof i=="number"?{width:i,height:i}:i,l=s===pA.ROW,u=l?a.width:a.height;let f=r.get(n);Array.isArray(f)||(f=[]);const c=this._prevItems||[],h=f.map((v,p)=>dm(c[p],f[p]));if(c.length!==f.length||h.some(v=>!v)){const v=this.vel.children(),p=f.map((E,y)=>{const S=y in v?v[y].node:null;if(h[y])return S;const T=this.createListItem(E,a,S);if(!T)return null;if(!(T instanceof SVGElement))throw new Error("List: item must be an SVGElement");T.dataset.index=y,T.dataset.attribute=n;const $=y*(u+o);return T.setAttribute("transform",l?`translate(${$}, 0)`:`translate(0, ${$})`),T});this.vel.empty().append(p),this._prevItems=f}const m=f.length,g=m===0?0:m*u+(m-1)*o,_=l?{width:g,height:a.height}:{width:a.width,height:g};this.position(r,_)},position(e,t){const{vel:r,options:n}=this,{margin:i=5,position:o="top-left"}=n,{width:s,height:a}=e.size(),{left:l,right:u,top:f,bottom:c}=Kh(i),h=new Vt(l,f,s-(l+u),a-(f+c));let{x:m,y:g}=WX(h,o);switch(o){case Ei.CENTER:case Ei.TOP:case Ei.BOTTOM:{m-=t.width/2;break}case Ei.RIGHT:case Ei.BOTTOM_RIGHT:case Ei.TOP_RIGHT:{m-=t.width;break}}switch(o){case Ei.CENTER:case Ei.RIGHT:case Ei.LEFT:{g-=t.height/2;break}case Ei.BOTTOM:case Ei.BOTTOM_RIGHT:case Ei.BOTTOM_LEFT:{g-=t.height;break}}r.attr("transform",`translate(${m}, ${g})`)}},{Directions:pA,Positions:Ei}),Z_e=Object.freeze(Object.defineProperty({__proto__:null,addClass:X_e,list:Q_e,mask:J_e,opacity:Y_e,stroke:G_e},Symbol.toStringTag,{value:"Module"}));function eEe(e,t,r,n){var i="ratio"in n?n.ratio:.5;return e.getPointAtRatio(i)}function tEe(e,t,r,n){var i="length"in n?n.length:20;return e.getPointAtLength(i)}function rEe(e,t,r,n){var i=1e6,o=e.getConnection(),s=e.getConnectionSubdivisions(),a=new Gt(r.clone().offset(0,i),r.clone().offset(0,-i)),l=new Gt(r.clone().offset(i,0),r.clone().offset(-i,0)),u=a.intersect(o,{segmentSubdivisions:s}),f=l.intersect(o,{segmentSubdivisions:s}),c=[];return u&&Array.prototype.push.apply(c,u),f&&Array.prototype.push.apply(c,f),c.length>0?r.chooseClosest(c):"fallbackAt"in n?l5(e,n.fallbackAt):u5(e,t,r,n)}function nEe(e,t,r,n){var i=e.getClosestPoint(r);return i||new Ze}function x0(e){return function(t,r,n,i){if(n instanceof Element){var o=this.paper.findView(n),s;if(o)if(o.isNodeConnection(n)){var a="fixedAt"in i?i.fixedAt:"50%";s=l5(o,a)}else s=o.getNodeBBox(n).center();else s=new Ze;return e.call(this,t,r,s,i)}return e.apply(this,arguments)}}function l5(e,t){var r=parseFloat(t);return $o(t)?e.getPointAtRatio(r/100):e.getPointAtLength(r)}const iEe=x0(rEe),u5=x0(nEe),oEe=Object.freeze(Object.defineProperty({__proto__:null,connectionClosest:u5,connectionLength:tEe,connectionPerpendicular:iEe,connectionRatio:eEe,resolveRef:x0},Symbol.toStringTag,{value:"Module"}));function zT(e,t,r){if(Ni(r)){const{x:i,y:o}=r;if(isFinite(o)){const s=new Gt(t,e),{start:a,end:l}=s.parallel(o);t=a,e=l}r=i}if(!isFinite(r))return e;var n=e.distance(t);return r===0&&n>0?e:e.move(t,-Math.min(r,n-1))}function Jj(e){var t=e.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function sEe(e,t,r=0){let n,i,o,s;const{start:a,end:l}=e;switch(t){case"left":n="x",i=l,o=a,s=-1;break;case"right":n="x",i=a,o=l,s=1;break;case"top":n="y",i=l,o=a,s=-1;break;case"bottom":n="y",i=a,o=l,s=1;break;default:return}a[n]<l[n]?i[n]=o[n]:o[n]=i[n],isFinite(r)&&(i[n]+=s*r,o[n]+=s*r)}function aEe(e,t,r,n){let{offset:i,alignOffset:o,align:s}=n;return s&&sEe(e,s,o),zT(e.end,e.start,i)}function c5(e,t,r,n){var i=t.getNodeBBox(r);n.stroke&&i.inflate(Jj(r)/2);var o=e.intersect(i),s=o?e.start.chooseClosest(o):e.end;return zT(s,e.start,n.offset)}function lEe(e,t,r,n){var i=t.model.angle();if(i===0)return c5(e,t,r,n);var o=t.getNodeUnrotatedBBox(r);n.stroke&&o.inflate(Jj(r)/2);var s=o.center(),a=e.clone().rotate(s,i),l=a.setLength(1e6).intersect(o),u=l?a.start.chooseClosest(l).rotate(s,-i):e.end;return zT(u,e.start,n.offset)}function uEe(e){if(!e)return null;var t=e;do{var r=t.tagName;if(typeof r!="string")return null;if(r=r.toUpperCase(),r==="G")t=t.firstElementChild;else if(r==="TITLE")t=t.nextElementSibling;else break}while(t);return t}var mA="segmentSubdivisons",gA="shapeBBox";function cEe(e,t,r,n){var i,o,s=n.selector,a=e.end;if(typeof s=="string"?i=t.findBySelector(s)[0]:s===!1?i=r:Array.isArray(s)?i=My(r,s):i=uEe(r),!wt.isSVGGraphicsElement(i)){if(i===r||!wt.isSVGGraphicsElement(r))return a;i=r}var l=t.getNodeShape(i),u=t.getNodeMatrix(i),f=t.getRootTranslateMatrix(),c=t.getRootRotateMatrix(),h=f.multiply(c).multiply(u),m=h.inverse(),g=wt.transformLine(e,m),_=g.start.clone(),v=t.getNodeData(i);if(n.insideout===!1){v[gA]||(v[gA]=l.bbox());var p=v[gA];if(p.containsPoint(_))return a}var E;if(l instanceof or){var y=n.precision||2;v[mA]||(v[mA]=l.getSegmentSubdivisions({precision:y})),E={precision:y,segmentSubdivisions:v[mA]}}n.extrapolate===!0&&g.setLength(1e6),o=g.intersect(l,E),o?wt.isArray(o)&&(o=_.chooseClosest(o)):n.sticky===!0&&(l instanceof Vt?o=l.pointNearestToPoint(_):l instanceof ds?o=l.intersectionWithLineFromCenterToPoint(_):o=l.closestPoint(_,E));var S=o?wt.transformPoint(o,h):a,T=n.offset||0;return n.stroke&&(T+=Jj(i)/2),zT(S,e.start,T)}const fEe=aEe,dEe=c5,hEe=lEe,pEe=cEe,mEe=Object.freeze(Object.defineProperty({__proto__:null,anchor:fEe,bbox:dEe,boundary:pEe,rectangle:hEe},Symbol.toStringTag,{value:"Module"}));function Hc(e){return function(t,r,n,i){var o=!!i.rotate,s=o?t.getNodeUnrotatedBBox(r):t.getNodeBBox(r),a=s[e](),l=i.dx;if(l){var u=$o(l);l=parseFloat(l),isFinite(l)&&(u&&(l/=100,l*=s.width),a.x+=l)}var f=i.dy;if(f){var c=$o(f);f=parseFloat(f),isFinite(f)&&(c&&(f/=100,f*=s.height),a.y+=f)}return o?a.rotate(t.model.getBBox().center(),-t.model.angle()):a}}function gEe(e,t,r,n){var i=e.model.angle(),o=e.getNodeBBox(t),s=o.center(),a=o.origin(),l=o.corner(),u=n.padding;if(isFinite(u)||(u=0),a.y+u<=r.y&&r.y<=l.y-u){var f=r.y-s.y;s.x+=i===0||i===180?0:f*1/Math.tan(Hs(i)),s.y+=f}else if(a.x+u<=r.x&&r.x<=l.x-u){var c=r.x-s.x;s.y+=i===90||i===270?0:c*Math.tan(Hs(i)),s.x+=c}return s}function vEe(e,t,r,n){var i=!!n.rotate,o,s,a;i?(o=e.getNodeUnrotatedBBox(t),a=e.model.getBBox().center(),s=e.model.angle()):o=e.getNodeBBox(t);var l=n.padding;isFinite(l)&&o.inflate(l),i&&r.rotate(a,s);var u=o.sideNearestToPoint(r),f;switch(u){case"left":f=o.leftMiddle();break;case"right":f=o.rightMiddle();break;case"top":f=o.topMiddle();break;case"bottom":f=o.bottomMiddle();break}return i?f.rotate(a,-s):f}function yEe(e,t,r,n,i){return e.model.getPointFromConnectedLink(this.model,i).offset(n.dx,n.dy)}const wEe=Hc("center"),bEe=Hc("topMiddle"),_Ee=Hc("bottomMiddle"),EEe=Hc("leftMiddle"),SEe=Hc("rightMiddle"),TEe=Hc("origin"),$Ee=Hc("topRight"),xEe=Hc("bottomLeft"),AEe=Hc("corner"),OEe=x0(gEe),PEe=x0(vEe),REe=yEe,NEe=Object.freeze(Object.defineProperty({__proto__:null,bottom:_Ee,bottomLeft:xEe,bottomRight:AEe,center:wEe,left:EEe,midSide:PEe,modelCenter:REe,perpendicular:OEe,right:SEe,top:bEe,topLeft:TEe,topRight:$Ee},Symbol.toStringTag,{value:"Module"})),kp={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},IEe=50,sz=20,az=1e3,CEe=1/0,Xw=9007199254740991,vA=Hr.Highlighting,lz={[vA.DEFAULT]:{name:"stroke",options:{padding:3}},[vA.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[vA.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},kEe=[{name:el.BACK},{name:el.CELLS},{name:el.LABELS},{name:el.FRONT},{name:el.TOOLS}],jEe=id.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:jE,linkView:Kv,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:lz,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new pg,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,r){return t.getAttribute("magnet")!=="passive"},validateConnection:function(e,t,r,n,i,o){return(i==="target"?r:e)instanceof jE},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:kp.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,r,n,i){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||n.mounting||n.isolate||i.requestConnectedLinksUpdate(e,r,n)},onViewPostponed:function(e,t,r){return r.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:Z_e,anchorNamespace:NEe,linkAnchorNamespace:oEe,connectionPointNamespace:mEe,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:e,el:t}=this;e.cellViewNamespace||(e.cellViewNamespace=typeof joint<"u"&&Vf(joint,"shapes")?joint.shapes:null);const r=this.model=e.model||new Hj;this._layers={},this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=wn(t.ownerDocument),this.resetViews(r.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,r){var n=r.position;this.isAsync()||!Ds(n)?this.renderView(e,r):(r.maxPosition===n&&this.freeze({key:"addCells"}),this.renderView(e,r),n===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,r){const n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_REMOVE,n.UPDATE_PRIORITY,r)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===kp.APPROX){const r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_INSERT,r.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,r=this.model;if(!this.isAsync()){var n=this.UPDATE_DELAYING_BATCHES;n.includes(t)&&!r.hasActiveBatch(n)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!r.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){const{options:e}=this,{defaultConnector:t,defaultRouter:r,defaultConnectionPoint:n,defaultAnchor:i,defaultLinkAnchor:o,origin:s,highlighting:a,cellViewNamespace:l,interactive:u}=e;!l&&typeof joint<"u"&&Vf(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),ei(t)||(e.defaultConnector=Qa(t)),ei(r)||(e.defaultRouter=Qa(r)),ei(n)||(e.defaultConnectionPoint=Qa(n)),ei(i)||(e.defaultAnchor=Qa(i)),ei(o)||(e.defaultLinkAnchor=Qa(o)),Ni(u)&&(e.interactive=dr({},u)),Ni(a)&&(e.highlighting=qj({},a,lz)),e.origin=dr({},s)},children:function(){var e=wt.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:Vl("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:Vl("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:Vl("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){const{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();const{childNodes:e,options:t}=this,{svg:r,defs:n,layers:i,background:o,grid:s}=e;return r.style.overflow=t.overflow?"visible":"hidden",this.svg=r,this.defs=n,this.layers=i,this.$background=wn(o),this.$grid=wn(s),this.renderLayers(),wt.ensureId(r),t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},renderLayers:function(e=kEe){this.removeLayers(),e.forEach(({name:i,sorted:o})=>{const s=new qbe({name:i});this.layers.appendChild(s.el),this._layers[i]=s});const t=this.getLayerView(el.CELLS),r=this.getLayerView(el.TOOLS),n=this.getLayerView(el.LABELS);this.tools=r.el,this.cells=this.viewport=t.el,t.vel.addClass(Vl("viewport")),n.vel.addClass(Vl("viewport"))},removeLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].remove(),delete e[t]})},resetLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(e===void 0){var r=t.getAttribute("transform");return(this._viewportTransformString||null)===r?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=r),wt.createSVGMatrix(e)}e=wt.createSVGMatrix(e);var n=wt.matrixToTransformString(e);return t.setAttribute("transform",n),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return wt.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,r){if(e instanceof Hr)for(var n=e.model,i=this.model.getConnectedLinks(n),o=0,s=i.length;o<s;o++){var a=i[o],l=this.findViewByModel(a);if(l){var u=["UPDATE"];a.getTargetCell()===n&&u.push("TARGET"),a.getSourceCell()===n&&u.push("SOURCE");var f=Math.max(t+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(u),f,r)}}},forcePostponedViewUpdate:function(e,t){if(!e||!(e instanceof Hr))return!1;var r=e.model;if(r.isElement())return!1;if(!(t&e.getFlag(["SOURCE","TARGET"]))){var n={silent:!0},i=0,o=this.findViewByModel(r.getSourceCell());o&&!this.isViewMounted(o)&&(i=this.dumpView(o,n),e.updateEndMagnet("source"));var s=0,a=this.findViewByModel(r.getTargetCell());if(a&&!this.isViewMounted(a)&&(s=this.dumpView(a,n),e.updateEndMagnet("target")),i===0&&s===0)return!this.dumpView(e,n)}return!1},requestViewUpdate:function(e,t,r,n){n||(n={}),this.scheduleViewUpdate(e,t,r,n);var i=this.isAsync();if(!(this.isFrozen()||i&&n.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var o=this.updateViews(n);i&&this.notifyAfterRender(o,n)}},scheduleViewUpdate:function(e,t,r,n){const{_updates:i,options:o}=this;i.idle&&o.autoFreeze&&(i.idle=!1,this.unfreeze());const{FLAG_REMOVE:s,FLAG_INSERT:a,UPDATE_PRIORITY:l,cid:u}=e;let f=i.priorities[r];if(f||(f=i.priorities[r]={}),r>l)for(let m=r-1;m>=l;m--){const g=i.priorities[m];!g||!(u in g)||(f[u]|=g[u],delete g[u])}let c=f[u]||0;if((c&t)===t)return;c||i.count++,t&s&&c&a?f[u]^=a:t&a&&c&s&&(f[u]^=s),f[u]|=t;const h=o.onViewUpdate;typeof h=="function"&&h.call(this,e,t,r,n||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var t=this._updates,r=e.cid,n=t.priorities[e.UPDATE_PRIORITY],i=this.registerMountedView(e)|n[r];return delete n[r],i},dumpView:function(e,t={}){const r=this.dumpViewUpdate(e);if(!r)return 0;const n=!t.silent;n&&this.notifyBeforeRender(t);const i=this.updateView(e,r,t);if(n){const o={updated:1,priority:e.UPDATE_PRIORITY};this.notifyAfterRender(o,t)}return i},updateView:function(e,t,r){if(!e)return 0;const{FLAG_REMOVE:n,FLAG_INSERT:i,FLAG_INIT:o,model:s}=e;if(e instanceof Hr){if(t&n)return this.removeView(s),0;if(t&i){const a=!!(t&o);a&&(t^=o),this.insertView(e,a),t^=i}}return t?e.confirmUpdate(t,r||{}):0},requireView:function(e,t){var r=this.findViewByModel(e);return r?(this.dumpView(r,t),r):null},registerUnmountedView:function(e){var t=e.cid,r=this._updates;if(t in r.unmounted)return 0;var n=r.unmounted[t]|=e.FLAG_INSERT;return r.unmountedCids.push(t),delete r.mounted[t],n},registerMountedView:function(e){var t=e.cid,r=this._updates;if(t in r.mounted)return 0;r.mounted[t]=!0,r.mountedCids.push(t);var n=r.unmounted[t]||0;return delete r.unmounted[t],n},isViewMounted:function(e){if(!e)return!1;var t=e.cid,r=this._updates;return t in r.mounted},dumpViews:function(e){var t=Xa({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,r=0,n=0,i=Xw;do n++,t=this.updateViewsBatch(e),r+=t.updated,i=Math.min(t.priority,i);while(!t.empty);const o={updated:r,batches:n,priority:i};return this.notifyAfterRender(o,e),o},hasScheduledUpdates:function(){const e=this._updates.priorities,t=Object.keys(e);let r=t.length;for(;r>0&&r--;)for(let n in e[t[r]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:Xw});const{_updates:r,options:n}=this,i=r.id;if(i){DI(i),t.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);const o=this.updateViewsBatch(e),s=Xa({},e,{mountBatchSize:az-o.mounted,unmountBatchSize:az-o.unmounted}),a=this.checkViewport(s),l=a.unmounted,u=a.mounted;let f=t.processed;const c=r.count;o.updated>0?(f+=o.updated+o.unmounted,o.processed=f,t.priority=Math.min(o.priority,t.priority),o.empty&&u===0?(o.unmounted+=l,o.mounted+=u,o.priority=t.priority,this.notifyAfterRender(o,e),t.processed=0,t.priority=Xw,r.count=0):t.processed=f):r.idle||n.autoFreeze&&(this.freeze(),r.idle=!0,this.trigger("render:idle",e));const h=e.progress;if(c&&typeof h=="function"&&h.call(this,o.empty,f,c,o,this),r.id!==i)return}if(r.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");r.id=jI(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;typeof t!="function"&&(t=this.options.beforeRender,typeof t!="function")||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let r=t.afterRender;typeof r!="function"&&(r=this.options.afterRender),typeof r=="function"&&r.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||CEe,r=this._updates,n=0,i=0,o=0,s=0,a=Xw,l=!0,u=this.options,f=r.priorities,c="viewport"in e?e.viewport:u.viewport;typeof c!="function"&&(c=null);var h=u.onViewPostponed;typeof h!="function"&&(h=null);var m=Object.keys(f);e:for(var g=0,_=m.length;g<_;g++){var v=+m[g],p=f[v];for(var E in p){if(n>=t){l=!1;break e}var y=ch[E];if(!y){delete p[E];continue}var S=p[E];if(!(S&y.FLAG_REMOVE)){var T=E in r.unmounted;if(y.DETACHABLE&&c&&!c.call(this,y,!T,this)){T||(this.registerUnmountedView(y),this.detachView(y)),r.unmounted[E]|=S,delete p[E],o++;continue}T&&(S|=y.FLAG_INSERT,s++),S|=this.registerMountedView(y)}var $=this.updateView(y,S,e);if($>0&&(p[E]=$,!h||!h.call(this,y,$,this)||p[E])){i++,l=!1;continue}a>v&&(a=v),n++,delete p[E]}}return{priority:a,updated:n,postponed:i,unmounted:o,mounted:s,empty:l}},getUnmountedViews:function(){const e=this._updates,t=Object.keys(e.unmounted),r=t.length,n=new Array(r);for(var i=0;i<r;i++)n[i]=ch[t[i]];return n},getMountedViews:function(){const e=this._updates,t=Object.keys(e.mounted),r=t.length,n=new Array(r);for(var i=0;i<r;i++)n[i]=ch[t[i]];return n},checkUnmountedViews:function(e,t){t||(t={});var r=0;typeof e!="function"&&(e=null);for(var n=("mountBatchSize"in t)?t.mountBatchSize:1/0,i=this._updates,o=i.unmountedCids,s=i.unmounted,a=0,l=Math.min(o.length,n);a<l;a++){var u=o[a];if(u in s){var f=ch[u];if(f){if(f.DETACHABLE&&e&&!e.call(this,f,!1,this)){o.push(u);continue}r++;var c=this.registerMountedView(f);c&&this.scheduleViewUpdate(f,c,f.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,a),r},checkMountedViews:function(e,t){t||(t={});var r=0;if(typeof e!="function")return r;for(var n=("unmountBatchSize"in t)?t.unmountBatchSize:1/0,i=this._updates,o=i.mountedCids,s=i.mounted,a=0,l=Math.min(o.length,n);a<l;a++){var u=o[a];if(u in s){var f=ch[u];if(f){if(!f.DETACHABLE||e.call(this,f,!0,this)){o.push(u);continue}r++;var c=this.registerUnmountedView(f);c&&this.detachView(f)}}}return o.splice(0,a),r},checkViewVisibility:function(e,t={}){let r="viewport"in t?t.viewport:this.options.viewport;typeof r!="function"&&(r=null);const n=this._updates,{mounted:i,unmounted:o}=n,s=!e.DETACHABLE||!r||r.call(this,e,!1,this);let a=!1,l=!1;if(e.cid in i&&!s){this.registerUnmountedView(e)&&this.detachView(e);const c=n.mountedCids.indexOf(e.cid);n.mountedCids.splice(c,1),a=!0}if(!a&&e.cid in o&&s){const f=n.unmountedCids.indexOf(e.cid);n.unmountedCids.splice(f,1);var u=this.registerMountedView(e);u&&this.scheduleViewUpdate(e,u,e.UPDATE_PRIORITY,{mounting:!0}),l=!0}return{mounted:l?1:0,unmounted:a?1:0}},checkViewport:function(e){var t=Xa({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),r="viewport"in t?t.viewport:this.options.viewport,n=this.checkMountedViews(r,t);if(n>0){var i=this._updates.unmountedCids;t.mountBatchSize=Math.min(i.length-n,t.mountBatchSize)}var o=this.checkUnmountedViews(r,t);return{mounted:o,unmounted:n}},freeze:function(e){e||(e={});var t=this._updates,r=e.key,n=this.options.frozen,i=t.freezeKey;if(r&&r!==i){if(n&&i)return;t.freezeKey=r,t.keyFrozen=n}this.options.frozen=!0;var o=t.id;t.id=null,this.isAsync()&&o&&DI(o)},unfreeze:function(e){e||(e={});var t=this._updates,r=e.key,n=t.freezeKey;r&&n&&r!==n||(t.freezeKey=null,!(r&&r===n&&t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===kp.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,r=e.height;return Ds(t)||(t=this.el.clientWidth),Ds(r)||(r=this.el.clientHeight),{width:t,height:r}},setDimensions:function(e,t){const{options:r}=this,{width:n,height:i}=r;let o=e===void 0?n:e,s=t===void 0?i:t;if(n===o&&i===s)return;r.width=o,r.height=s,this._setDimensions();const a=this.getComputedSize();this.trigger("resize",a.width,a.height)},_setDimensions:function(){const{options:e}=this;let t=e.width,r=e.height;Ds(t)&&(t=Math.round(t)),Ds(r)&&(r=Math.round(r)),this.$el.css({width:t===null?"":t,height:r===null?"":r})},setOrigin:function(e,t){return this.translate(e||0,t||0)},fitToContent:function(e,t,r,n){Pn(e)?n=e:n=dr({gridWidth:e,gridHeight:t,padding:r},n);const{x:i,y:o,width:s,height:a}=this.getFitToContentArea(n),{sx:l,sy:u}=this.scale();return this.setOrigin(-i*l,-o*u),this.setDimensions(s*l,a*u),new Vt(i,o,s,a)},getFitToContentArea:function(e={}){const t=e.gridWidth||1,r=e.gridHeight||1,n=Kh(e.padding||0),i=Math.max(e.minWidth||0,t),o=Math.max(e.minHeight||0,r),s=e.maxWidth||Number.MAX_VALUE,a=e.maxHeight||Number.MAX_VALUE,l=e.allowNewOrigin,u="contentArea"in e?new Vt(e.contentArea):this.getContentArea(e),{sx:f,sy:c}=this.scale();u.x*=f,u.y*=c,u.width*=f,u.height*=c;let h=Math.ceil((u.width+u.x)/t),m=Math.ceil((u.height+u.y)/r);e.allowNegativeBottomRight||(h=Math.max(h,1),m=Math.max(m,1)),h*=t,m*=r;let g=0;(l==="negative"&&u.x<0||l==="positive"&&u.x>=0||l==="any")&&(g=Math.ceil(-u.x/t)*t,g+=n.left,h+=g);let _=0;return(l==="negative"&&u.y<0||l==="positive"&&u.y>=0||l==="any")&&(_=Math.ceil(-u.y/r)*r,_+=n.top,m+=_),h+=n.right,m+=n.bottom,h=Math.max(h,i),m=Math.max(m,o),h=Math.min(h,s),m=Math.min(m,a),new Vt(-g/f,-_/c,h/f,m/c)},transformToFitContent:function(e){e||(e={});let t,r;if("contentArea"in e){const v=e.contentArea;t=this.localToPaperRect(v),r=new Ze(v)}else t=this.getContentBBox(e),r=this.paperToLocalPoint(t);if(!t.width||!t.height)return;Xa(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const n=Kh(e.padding),i=e.minScaleX||e.minScale,o=e.maxScaleX||e.maxScale,s=e.minScaleY||e.minScale,a=e.maxScaleY||e.maxScale;let l;if(e.fittingBBox)l=e.fittingBBox;else{const v=this.translate(),p=this.getComputedSize();l={x:v.tx,y:v.ty,width:p.width,height:p.height}}l=new Vt(l).moveAndExpand({x:n.left,y:n.top,width:-n.left-n.right,height:-n.top-n.bottom});const u=this.scale();let f=l.width/t.width*u.sx,c=l.height/t.height*u.sy;if(e.preserveAspectRatio&&(f=c=Math.min(f,c)),e.scaleGrid){const v=e.scaleGrid;f=v*Math.floor(f/v),c=v*Math.floor(c/v)}f=Math.min(o,Math.max(i,f)),c=Math.min(a,Math.max(s,c));const h={x:f/u.sx,y:c/u.sy},m=this.options.origin;let g=l.x-r.x*f-m.x,_=l.y-r.y*c-m.y;switch(e.verticalAlign){case"middle":_=_+(l.height-t.height*h.y)/2;break;case"bottom":_=_+(l.height-t.height*h.y);break}switch(e.horizontalAlign){case"middle":g=g+(l.width-t.width*h.x)/2;break;case"right":g=g+(l.width-t.width*h.x);break}this.scale(f,c),this.translate(g,_)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new Vt:wt(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){const{restrictTranslate:t}=this.options;let r;return ei(t)?r=t.apply(this,e):t===!0?r=this.getArea():t?r=new Vt(t):r=null,r},createViewForModel:function(e){const{options:t}=this;var r,n,i=t.cellViewNamespace,o=e.get("type")+"View",s=My(i,o,".");e.isLink()?(r=t.linkView,n=Kv):(r=t.elementView,n=jE);var a=r.prototype instanceof Fo.View?s||r:r.call(this,e)||s||n;return new a({model:e,interactive:t.interactive,labelsLayer:t.labelsLayer===!0?el.LABELS:t.labelsLayer})},removeView:function(e){const{id:t}=e,{_views:r,_updates:n}=this,i=r[t];if(i){var{cid:o}=i;const{mounted:s,unmounted:a}=n;i.remove(),delete r[t],delete s[o],delete a[o]}return i},renderView:function(e,t){const{id:r}=e,n=this._views;let i,o,s=!0;return r in n&&(i=n[r],i.model===e?(o=i.FLAG_INSERT,s=!1):this.removeView(e)),s&&(i=n[r]=this.createViewForModel(e),i.paper=this,o=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(Ii(i,"initFlag"))),this.requestViewUpdate(i,o,i.UPDATE_PRIORITY,t),i},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();const r=this.options.autoFreeze?null:"reset";this.freeze({key:r});for(var n=0,i=e.length;n<i;n++)this.renderView(e[n],t);this.unfreeze({key:r}),this.sortViews()},removeViews:function(){ku(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var e=wn(this.cells).children("[model-id]"),t=this.model.get("cells");fbe(e,function(r,n){var i=t.get(r.getAttribute("model-id")),o=t.get(n.getAttribute("model-id")),s=i.attributes.z||0,a=o.attributes.z||0;return s===a?0:s<a?-1:1})},insertView:function(e,t){const r=this.getLayerView(el.CELLS),{el:n,model:i}=e;switch(this.options.sorting){case kp.APPROX:r.insertSortedNode(n,i.get("z"));break;case kp.EXACT:default:r.insertNode(n);break}e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},scale:function(e,t,r,n){if(e===void 0)return wt.matrixToScale(this.matrix());t===void 0&&(t=e),r===void 0&&(r=0,n=0);var i=this.translate();if(r||n||i.tx||i.ty){var o=i.tx-r*(e-1),s=i.ty-n*(t-1);this.translate(o,s)}e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var a=this.matrix();return a.a=e,a.d=t,this.matrix(a),this.trigger("scale",e,t,r,n),this},rotate:function(e,t,r){if(e===void 0)return wt.matrixToRotate(this.matrix());if(t===void 0){var n=this.cells.getBBox();t=n.width/2,r=n.height/2}var i=this.matrix().translate(t,r).rotate(e).translate(-t,-r);return this.matrix(i),this},translate:function(e,t){if(e===void 0)return wt.matrixToTranslate(this.matrix());const{options:r}=this,{origin:n,drawGrid:i}=r;e||(e=0),t||(t=0);const o=this.matrix();if(o.e===e&&o.f===t)return this;o.e=e,o.f=t,this.matrix(o);const{tx:s,ty:a}=this.translate();return n.x=s,n.y=a,this.trigger("translate",s,a),i&&this.drawGrid(),this},findView:function(e){var t=zo(e)?this.cells.querySelector(e):e instanceof wn?e[0]:e,r=this.findAttribute("model-id",t);if(r)return this._views[r]},findViewByModel:function(e){var t=zo(e)||Ds(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){e=new Ze(e);var t=this.model.getElements().map(this.findViewByModel,this);return t.filter(function(r){return r&&r.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=Xa(t||{},{strict:!1}),e=new Vt(e);var r=this.model.getElements().map(this.findViewByModel,this),n=t.strict?"containsRect":"intersect";return r.filter(function(i){return i&&e[n](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){typeof e=="string"&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var r=new Ze(e,t),n=wt.transformPoint(r,this.matrix());return n},localToPaperRect:function(e,t,r,n){var i=new Vt(e,t,r,n),o=wt.transformRect(i,this.matrix());return o},paperToLocalPoint:function(e,t){var r=new Ze(e,t),n=wt.transformPoint(r,this.matrix().inverse());return n},paperToLocalRect:function(e,t,r,n){var i=new Vt(e,t,r,n),o=wt.transformRect(i,this.matrix().inverse());return o},localToClientPoint:function(e,t){var r=new Ze(e,t),n=wt.transformPoint(r,this.clientMatrix());return n},localToClientRect:function(e,t,r,n){var i=new Vt(e,t,r,n),o=wt.transformRect(i,this.clientMatrix());return o},clientToLocalPoint:function(e,t){var r=new Ze(e,t),n=wt.transformPoint(r,this.clientMatrix().inverse());return n},clientToLocalRect:function(e,t,r,n){var i=new Vt(e,t,r,n),o=wt.transformRect(i,this.clientMatrix().inverse());return o},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,r,n){return this.localToPaperRect(e,t,r,n).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var r=new Ze(e,t),n=r.difference(this.pageOffset());return this.paperToLocalPoint(n)},pageToLocalRect:function(e,t,r,n){var i=this.pageOffset(),o=new Vt(e,t,r,n);return o.x-=i.x,o.y-=i.y,this.paperToLocalRect(o)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new Ze(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof Kv))throw new Error("Must provide a linkView.");var t=e.model,r=this.options,n=this.model,i=n.constructor.validations;return!(!r.multiLinks&&!i.multiLinks.call(this,n,t)||!r.linkPinning&&!i.linkPinning.call(this,n,t)||typeof r.allowLink=="function"&&!r.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return ei(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:r}=e;const{highlighting:n,highlighterNamespace:i}=this.options;if(t===void 0){if(!n||r&&(t=n[r],t===!1))return!1;t||(t=n.default)}if(!t)return!1;zo(t)&&(t={name:t});const o=t.name,s=i[o];if(!s)throw new Error('Unknown highlighter ("'+o+'")');if(typeof s.highlight!="function")throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if(typeof s.unhighlight!="function")throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:s,options:t.options||{},name:o}},onCellHighlight:function(e,t,r){const n=this.resolveHighlighter(r);if(!n)return;const{highlighter:i,options:o}=n;i.highlight(e,t,o)},onCellUnhighlight:function(e,t,r){const n=this.resolveHighlighter(r);if(!n)return;const{highlighter:i,options:o}=n;i.unhighlight(e,t,o)},pointerdblclick:function(e){e.preventDefault(),e=mo(e);var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,r.x,r.y):this.trigger("blank:pointerdblclick",e,r.x,r.y)}},pointerclick:function(e){var t=this.eventData(e);if(t.mousemoved<=this.options.clickThreshold){e=mo(e);var r=this.findView(e.target);if(this.guard(e,r))return;var n=this.snapToGrid(e.clientX,e.clientY);r?r.pointerclick(e,n.x,n.y):this.trigger("blank:pointerclick",e,n.x,n.y)}},contextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}e=mo(e),this.contextMenuTrigger(e)},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,r.x,r.y):this.trigger("blank:contextmenu",e,r.x,r.y)}},pointerdown:function(e){e=mo(e);const{target:t,button:r}=e,n=this.findView(t),i=r===2;if(n){if(!i&&this.guard(e,n))return;const o=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!o&&e.preventDefault(),o&&n.preventDefaultInteraction(e);const s=this.customEventTrigger(e,n);if(s){if(s.isPropagationStopped())return;e.data=s.data}const a=t.closest("[magnet]");if(a&&n.el!==a&&n.el.contains(a)){const l=mo(wn.Event(e.originalEvent,{data:e.data,currentTarget:a}));if(this.onmagnet(l),l.isDefaultPrevented()&&e.preventDefault(),l.isPropagationStopped()){if(i)return;this.delegateDragEvents(n,l.data);return}e.data=l.data}}if(i){this.contextMenuFired=!0;const o=wn.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(o)}else{const o=this.snapToGrid(e.clientX,e.clientY);n?n.pointerdown(e,o.x,o.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,o.x,o.y)),this.delegateDragEvents(n,e.data)}},pointermove:function(e){var t=this.eventData(e);t.mousemoved||(t.mousemoved=0,this.undelegateEvents());var r=++t.mousemoved;if(!(r<=this.options.moveThreshold)){e=mo(e);var n=this.snapToGrid(e.clientX,e.clientY),i=t.sourceView;i?i.pointermove(e,n.x,n.y):this.trigger("blank:pointermove",e,n.x,n.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=mo(e),r=this.snapToGrid(t.clientX,t.clientY),n=this.eventData(e).sourceView;n?n.pointerup(t,r.x,r.y):this.trigger("blank:pointerup",t,r.x,r.y),t.isPropagationStopped()||this.pointerclick(wn.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=mo(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=mo(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=mo(e);const{target:t,relatedTarget:r,currentTarget:n}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(r);i&&(o===i||(i.mouseenter(e),this.el.contains(r)))||o||n===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=mo(e);const{target:t,relatedTarget:r,currentTarget:n}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(r);i&&(o===i||(i.mouseleave(e),this.el.contains(r)))||o||n===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:Ywe(function(){const{event:e,deltas:t}=this._mw_evt_buffer,r=t.reduce((s,a)=>s+abe(a,IEe),0),n=Math.pow(.995,r),{x:i,y:o}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,i,o,n),this._mw_evt_buffer={event:null,deltas:[]}},sz,{maxWait:sz}),mousewheel:function(e){e=mo(e);const t=this.findView(e.target);if(this.guard(e,t))return;const r=e.originalEvent,n=this.snapToGrid(r.clientX,r.clientY),{deltaX:i,deltaY:o}=sbe(r),s=this._events["paper:pinch"];if(e.ctrlKey&&s&&s.length>0)r.preventDefault(),this._mw_evt_buffer.event=r,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{const a=Math.max(-1,Math.min(1,r.wheelDelta));t?t.mousewheel(e,n.x,n.y,a):this.trigger("blank:mousewheel",e,n.x,n.y,a),this.trigger("paper:pan",e,i,o)}},onevent:function(e){var t=e.currentTarget,r=t.getAttribute("event");if(r){var n=this.findView(t);if(n){if(e=mo(e),this.guard(e,n))return;var i=this.snapToGrid(e.clientX,e.clientY);n.onevent(e,r,i.x,i.y)}}},magnetEvent:function(e,t){var r=e.currentTarget,n=r.getAttribute("magnet");if(n){var i=this.findView(r);if(i){if(e=mo(e),this.guard(e,i))return;var o=this.snapToGrid(e.clientX,e.clientY);t.call(this,i,e,r,o.x,o.y)}}},onmagnet:function(e){if(e.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const t=wn.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,function(t,r,n,i,o){t.onmagnet(r,i,o)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,r,n,i,o){t.magnetpointerdblclick(r,n,i,o)})},magnetcontextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,function(t,r,n,i,o){t.magnetcontextmenu(r,n,i,o)})},onlabel:function(e){var t=e.currentTarget,r=this.findView(t);if(!r||(e=mo(e),this.guard(e,r)))return;const n=this.customEventTrigger(e,r,t);if(n){if(n.isPropagationStopped())return;e.data=n.data}var i=this.snapToGrid(e.clientX,e.clientY);r.onlabel(e,i.x,i.y)},getPointerArgs(e){const t=mo(e),{x:r,y:n}=this.snapToGrid(t.clientX,t.clientY);return[t,r,n]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if(e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&e.data.guarded!==void 0)return e.data.guarded;const{target:r}=e;return this.GUARDED_TAG_NAMES.includes(r.tagName)?!0:!(t&&t.model&&t.model instanceof Vu||this.svg===r||this.el===r||wn.contains(this.svg,r))},setGridSize:function(e){const{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:wt("svg",{width:"100%",height:"100%"},wt("defs")),patterns:{},add:function(e,t){wt(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(wt("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return this.patterns[e]!==void 0}}),this._gridCache},setGrid:function(e){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var t=Array.isArray(e)?e:[e||{}];return t.forEach(function(r){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(r))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(zo(e)&&Array.isArray(t[e]))return t[e].map(function(l){return dr({},l)});var r=e||{args:[{}]},n=Array.isArray(r),i=r.name;if(!n&&!i&&!r.markup&&(i="dot"),i&&Array.isArray(t[i])){var o=t[i].map(function(l){return dr({},l)}),s=Array.isArray(r.args)?r.args:[r.args||{}];Xa(s[0],Dy(e,"args"));for(var a=0;a<s.length;a++)o[a]&&dr(o[a],s[a]);return o}return n?r:[r]},drawGrid:function(e){const t=this.options.drawGridSize||this.options.gridSize;if(t<=1)return this.clearGrid();var r=Array.isArray(e)?e:[e],n=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(s,a){var l="pattern_"+a,u=Xi(s,r[a],{sx:n.a||1,sy:n.d||1,ox:n.e||0,oy:n.f||0});u.width=t*(n.a||1)*(u.scaleFactor||1),u.height=t*(n.d||1)*(u.scaleFactor||1),i.exist(l)||i.add(l,wt("pattern",{id:l,patternUnits:"userSpaceOnUse"},wt(u.markup)));var f=i.get(l);ei(u.update)&&u.update(f.node.childNodes[0],u);var c=u.ox%u.width;c<0&&(c+=u.width);var h=u.oy%u.height;h<0&&(h+=u.height),f.attr({x:c,y:h,width:u.width,height:u.height})});var o=new XMLSerializer().serializeToString(i.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(e){e=e||{};var t=e.position||"center",r=e.size||"auto auto",n=this.scale(),i=this.translate();if(Pn(t)){var o=i.tx+n.sx*(t.x||0),s=i.ty+n.sy*(t.y||0);t=o+"px "+s+"px"}Pn(r)&&(r=new Vt(r).scale(n.sx,n.sy),r=r.width+"px "+r.height+"px"),this.$background.css({backgroundSize:r,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(!(e instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==t.id)){t=t||{};var r,n=t.size,i=t.repeat||"no-repeat",o=t.opacity||1,s=Math.abs(t.quality)||1,a=this.constructor.backgroundPatterns[ebe(i)];if(ei(a)){e.width*=s,e.height*=s;var l=a(e,t);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");r=l.toDataURL("image/png"),i="repeat",Pn(n)?(n.width*=l.width/e.width,n.height*=l.height/e.height):n===void 0&&(t.size={width:l.width/s,height:l.height/s})}else r=e.src,n===void 0&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:o,backgroundRepeat:i,backgroundImage:"url("+r+")"}),this.updateBackgroundImage(t)}},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(e=e||{},this.updateBackgroundColor(e.color),e.image){e=this._background=Qa(e),hm(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,ku(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!Pn(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,r=e.name;if(t||(t=r+this.svg.id+qw(JSON.stringify(e))),!this.isDefined(t)){var n=hbe,i=n[r]&&n[r](e.args||{});if(!i)throw new Error("Non-existing filter "+r);var o=dr({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});wt(i,o).appendTo(this.defs)}return t},defineGradient:function(e){if(!Pn(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:t,defs:r}=this,{type:n,id:i=n+t.id+qw(JSON.stringify(e)),stops:o,attrs:s={}}=e;if(this.isDefined(i))return i;const a=ln(o).map(({offset:u,color:f,opacity:c})=>wt("stop").attr({offset:u,"stop-color":f,"stop-opacity":Number.isFinite(c)?c:1})),l=wt(n,s,a);return l.id=i,l.appendTo(r),i},definePattern:function(e){if(!Pn(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:t,defs:r}=this,{id:n=t.id+qw(JSON.stringify(e)),markup:i,attrs:o={}}=e;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(n))return n;const s=wt("pattern",{patternUnits:"userSpaceOnUse"});if(s.id=n,s.attr(o),typeof i=="string")s.append(wt(i));else{const{fragment:a}=i1(i);s.append(a)}return s.appendTo(r),n},defineMarker:function(e){if(!Pn(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:t,defs:r}=this,{id:n=t.id+qw(JSON.stringify(e)),markup:i,attrs:o={},markerUnits:s="userSpaceOnUse"}=e;if(this.isDefined(n))return n;const a=wt("marker",{orient:"auto",overflow:"visible",markerUnits:s});a.id=n,a.attr(o);let l;if(i){let c;if(typeof i=="string")c=wt(i),c=Array.isArray(c)?c:[c];else{const{fragment:h}=i1(i);c=wt(h).children()}c.length>1?l=wt("g").append(c):l=c[0]}else{const{type:c="path"}=e;l=wt(c)}const u=Dy(e,"type","id","markup","attrs","markerUnits");return Object.keys(u).forEach(c=>{const h=u[c],m=l.attr(c);if(m==null)l.attr(c,h);else switch(c){case"transform":l.attr(c,h+" "+m);break}}),l.appendTo(a),a.appendTo(r),n},customEventTrigger:function(e,t,r=t.el){const n=e.target.closest("[event]");if(n&&r!==n&&t.el.contains(n)){const i=mo(wn.Event(e.originalEvent,{data:e.data,currentTarget:n}));return this.onevent(i),i.isDefaultPrevented()&&e.preventDefault(),i}return null}},{sorting:kp,Layers:el,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=2*r,t.height=2*n;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,r,n),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,r,n),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,r,n),t},flipX:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=r*2,t.height=n;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.translate(2*r,0),i.scale(-1,1),i.drawImage(e,0,0,r,n),t},flipY:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=r,t.height=n*2;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.translate(0,2*n),i.scale(1,-1),i.drawImage(e,0,0,r,n),t},watermark:function(e,t){t=t||{};var r=e.width,n=e.height,i=document.createElement("canvas");i.width=r*3,i.height=n*3;for(var o=i.getContext("2d"),s=Ds(t.watermarkAngle)?-t.watermarkAngle:-20,a=Hs(s),l=i.width/4,u=i.height/4,f=0;f<4;f++)for(var c=0;c<4;c++)(f+c)%2>0&&(o.setTransform(1,0,0,1,(2*f-1)*l,(2*c-1)*u),o.rotate(a),o.drawImage(e,-r/2,-n/2,r,n));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){wt(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var r=t.sx<=1?t.thickness*t.sx:t.thickness;wt(e).attr({width:r,height:r,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",wt(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",wt(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",wt(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}]}}),f5=id.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){const{paper:t,relatedView:r}=this;return!t||!r?!0:t.guard(e,r)}}),uz=id.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){e=dr(this.options,e);var t=e.tools;if(!Array.isArray(t))return this;var r=e.relatedView;if(!(r instanceof Hr))return this;for(var n=this.tools=[],i=0,o=t.length;i<o;i++){var s=t[i];s instanceof f5&&(s.configure(r,this),this.vel.append(s.el),n.push(s))}return this.isRendered=!1,r.requestUpdate(r.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var r=this.isRendered,n=0,i=t.length;n<i;n++){var o=t[n];r?e.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return this.isMounted()||this.mount(),r||(this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,n=t.length;r<n;r++){var i=t[r];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,n=t.length;r<n;r++){var i=t[r];i!==e&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,r=e.length;t<r;t++)e[t].remove();this.tools=null},mount:function(){const{options:e,el:t}=this,{relatedView:r,layer:n=el.TOOLS,z:i}=e;return r&&(n?r.paper.getLayerView(n).insertSortedNode(t,i):r.el.appendChild(t)),this}}),DEe={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var r=this._results[e];if(typeof r<"u")return r;try{r=t()}catch{r=!1}return this._results[e]=r,r}},cz=bs.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]});bs.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]});bs.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]});bs.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]});bs.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]});bs.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]});bs.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]});bs.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]});bs.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]});bs.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]});bs.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var yA=10;bs.define("standard.Cylinder",{attrs:{body:{lateralArea:yA,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:yA,refRx:"50%",ry:yA,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(e===void 0)return this.attr("body/lateralArea");var r=$o(e),n={lateralArea:e},i=r?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e};return this.attr({body:n,top:i},t)}},{attributes:{lateralArea:{set:function(e,t){var r=$o(e);r&&(e=parseFloat(e)/100);var n=t.x,i=t.y,o=t.width,s=t.height,a=o/2,l=r?s*e:e,u=wt.KAPPA,f=u*a,c=u*(r?s*e:e),h=n,m=n+o/2,g=n+o,_=i+l,v=_-l,p=i+s-l,E=i+s,y=["M",h,_,"L",h,p,"C",n,p+c,m-f,E,m,E,"C",m+f,E,g,p+c,g,p,"L",g,_,"C",g,_-c,m+f,v,m,v,"C",m-f,v,h,_-c,h,_,"Z"];return{d:y.join(" ")}}}}});var MEe={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},LEe={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},FEe=DEe.test("svgforeignobject")?MEe:LEe;bs.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},FEe]},{attributes:{text:{set:function(e,t,r,n){if(r instanceof HTMLElement)r.textContent=e;else{var i=n.style||{},o={text:e,width:-5,height:"100%"},s=dr({textVerticalAnchor:"middle"},i);return HX.textWrap.set.call(this,o,t,r,s),{fill:i.color||null}}},position:function(e,t,r){if(r instanceof SVGElement)return t.center()}}}});const BEe=pg.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]});pg.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]});pg.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]});function UEe(e,t){const{model:r}=e;return t?r.getBBox():r.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}const d5=f5.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{vel:e}=this;e.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){const{relatedView:e,options:t}=this;let{x:r=0,y:n=0,offset:i={},useModelGeometry:o,rotate:s,scale:a}=t,l=UEe(e,o);const u=e.model.angle();s||(l=l.bbox(u));const{x:f=0,y:c=0}=i;$o(r)?r=parseFloat(r)/100*l.width:nl(r)&&(r=Number(il(r,l))),$o(n)?n=parseFloat(n)/100*l.height:nl(n)&&(n=Number(il(n,l)));let h=wt.createSVGMatrix().translate(l.x+l.width/2,l.y+l.height/2);return s&&(h=h.rotate(u)),h=h.translate(r+f-l.width/2,n+c-l.height/2),a&&(h=h.scale(a)),h},getLinkMatrix(){const{relatedView:e,options:t}=this,{offset:r=0,distance:n=0,rotate:i,scale:o}=t;let s,a,l;$o(n)?s=e.getTangentAtRatio(parseFloat(n)/100):s=e.getTangentAtLength(n),s?(a=s.start,l=s.vector().vectorAngle(new Ze(1,0))||0):(a=e.getConnection().start,l=0);let u=wt.createSVGMatrix().translate(a.x,a.y).rotate(l).translate(0,r);return i||(u=u.rotate(-l)),o&&(u=u.scale(o)),u},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;typeof t=="function"&&t.call(this.relatedView,e,this.relatedView,this)}}}),zEe=d5.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,r){t.model.remove({ui:!0,tool:r.cid})}}}),h5=()=>"chooseFileSystemEntries"in window||"showOpenFilePicker"in window,p5=async()=>{if(!h5()){const n=await qEe();if(!n)throw new Error("failed to get file through HTML5");return{td:await VEe(n),fileName:n.name}}const e=await KEe(),t=await e.getFile();return{td:await t.text(),fileName:t.name,fileHandle:e}},qEe=async()=>new Promise((e,t)=>{const r=document.getElementById("fileInput");r.onchange=()=>{const n=r.files[0];return n?e(n):t(new Error("AbortError"))},r.click()}),VEe=async e=>new Promise(t=>{const r=new FileReader;r.addEventListener("loadend",n=>{const i=n.srcElement.result;return t(i)}),r.readAsText(e)}),HEe=async(e,t,r)=>{if(!h5())return GEe(e,r),e;if(!t)try{t=await JEe()}catch(n){console.error(n);return}return await WEe(t,r),t},WEe=async(e,t)=>{if(e.createWriter){const n=await e.createWriter();await n.write(0,t),await n.close();return}const r=await e.createWritable();await r.write(t),await r.close()},GEe=(e,t)=>{const r=JSON.parse(t);let n=r.id||r.title;if(!n)throw Error("the TD has to have either an id or a title to be saved");n=n.replace(/\s/g,"")+".jsonld",e=e||n;const i={type:"application/ld+json"},o=new File([t],"",i),s=document.getElementById("aDownload");s.href=window.URL.createObjectURL(o),s.setAttribute("download",e),s.click()},KEe=()=>{const e={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]};return"showOpenFilePicker"in window?window.showOpenFilePicker(e).then(t=>t[0]):window.chooseFileSystemEntries()},JEe=async()=>{if("showSaveFilePicker"in window){const t={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]};return await window.showSaveFilePicker(t)}const e={type:"save-file",accepts:[{description:"Thing Description",extensions:[".jsonld",".json"],mimeTypes:["application/ld+json"]}]};return await window.chooseFileSystemEntries(e)},m5=Ne.forwardRef((e,t)=>{const r=Ne.useContext(Fn),[n,i]=ct.useState(()=>!1),[o,s]=ct.useState(()=>"url"),[a,l]=ct.useState(()=>({})),u=e.interaction??{},f=r.parsedTD;Ne.useImperativeHandle(t,()=>({openModal:()=>c(),close:()=>h()}));const c=()=>{i(!0)},h=()=>{i(!1)},m=S=>u.links?rue(S,u):!1,g=S=>{f.links=[...f.links?f.links:[],S],r.updateOfflineTD(JSON.stringify(f,null,2))},_=S=>{s(S),a&&S==="url"&&l({})},v=Ne.useCallback(async()=>{try{const S=await p5();document.getElementById("link-href").value=`./${S.fileName}`,l(S.fileHandle?S.fileHandle:JSON.parse(S.td))}catch(S){const T="We ran into an error trying to open your TD.";console.error(T,S),alert(T)}},[]),p=()=>{const S=["icon","service-doc","alternate","type","tm:extends","proxy-to","collection","item","predecessor-version","controlledBy"];let T=0;return S.map(d=>(T++,X.jsx("option",{value:d},T)))},E=X.jsxs(X.Fragment,{children:[X.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Thing Description:"}),X.jsx("div",{className:"p-1",children:f.title}),X.jsxs("div",{className:"p-1 pt-2",children:[X.jsx("label",{htmlFor:"rel",className:"pl-2 text-sm font-medium text-gray-400",children:"Relation:(select one of the proposed relations or type your custom relation)"}),X.jsx("input",{list:"relationType",type:"text",name:"rel",id:"rel",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"relation name"}),X.jsx("datalist",{id:"relationType",children:X.jsx(p,{})}),X.jsx("span",{id:"link-rel-info",className:"pl-2 text-xs text-red-400"})]}),X.jsxs("div",{className:"p-1 pt-2",children:[X.jsx("label",{htmlFor:"link-href",className:"pl-2 pr-2 text-sm font-medium text-gray-400",children:"Target ressource:"}),X.jsx(si,{type:"button",disabled:o==="upload",onClick:()=>_("upload"),className:"h-9",variant:"primary",children:"From local machine"}),X.jsx(si,{type:"button",disabled:o==="url",onClick:()=>_("url"),className:"ml-2 h-9",variant:"primary",children:"Resource url"}),X.jsxs("div",{className:"p-1 pt-4",children:[X.jsx("input",{type:"text",name:"link-href",id:"link-href",className:"rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"The target ressource",onChange:()=>{YEe()},disabled:o!=="url"}),o==="upload"&&X.jsx(si,{type:"button",onClick:v,disabled:o!=="upload",className:"ml-2 h-9",variant:"primary",children:"Open TD"})]}),X.jsx("span",{id:"link-href-info",className:"pl-2 text-xs text-red-400"}),X.jsxs("div",{children:[X.jsx("label",{htmlFor:"type",className:"pl-2 text-sm font-medium text-gray-400",children:"Type:(select one of the proposed types or tape your custom type)"}),X.jsx("input",{list:"mediaType",type:"text",name:"type",id:"type",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"media type"}),X.jsxs("datalist",{id:"mediaType",children:[X.jsx("option",{value:"application/td+json"}),X.jsx("option",{value:"image/jpeg"}),X.jsx("option",{value:"text/csv"}),X.jsx("option",{value:"video/mp4"})]})]})]})]}),y=()=>{if(!r.isValidJSON){wA("Can't add link. TD is malformed");return}const S={href:document.getElementById("link-href").value.trim()||"/"},T=document.getElementById("rel").value.trim(),$=document.getElementById("type").value.trim();T&&(S.rel=T),$&&(S.type=$);let d=!0;try{var x=new URL(S.href)}catch{d=!1}if(o==="url"&&d&&(x.protocol==="http:"||x.protocol==="https:"))try{var O=new XMLHttpRequest;if(O.open("GET",href,!1),O.send(),O.getResponseHeader("content-type").includes("application/td+json")){const P=O.response;let M=JSON.parse(P);linkedTd[S.href]=M}}catch(P){console.error("We ran into an error trying to fetch your TD.",P),linkedTd[href]=a}else linkedTd[href]=a;S.href===""?wA("The href field is mandatory ..."):m(S)?wA("A Link with the target Thing Description already exists ..."):(g(S),r.addLinkedTd(linkedTd),l({}),h())};return n?$a.createPortal(X.jsx(xa,{onHandleEventLeftButton:h,onHandleEventRightButton:y,rightButton:"Add",children:E,title:"Add Link ",description:`Tell us how this ${f.title} can interact with other ressources`}),document.getElementById("modal-root")):null}),wA=e=>{document.getElementById("link-href-info").textContent=e,document.getElementById("link-href").classList.remove("border-gray-600"),document.getElementById("link-href").classList.add("border-red-400")},YEe=()=>{document.getElementById("link-href").classList.add("border-gray-600"),document.getElementById("link-href").classList.remove("border-red-400")};m5.displayName="AddLinkTdDialog";const XEe=e=>{const t=Ne.useContext(Fn),r=i=>{let o=t.linkedTd;o[i.link.href]&&(delete o[i.link.href],t.updateLinkedTd(o)),t.removeLink(i.propName),t.updateIsModified(!0)},n=async i=>{let o=i.link.href;y2(t,o)};return X.jsxs("div",{className:"bg-formBlue border-formBlue mt-2 flex min-h-12 w-full items-stretch rounded-md border-2 bg-opacity-75 pl-4",children:[X.jsx("div",{className:"flex h-8 min-w-20 justify-center place-self-center rounded-md bg-white",children:X.jsx("div",{className:"text-formBlue place-self-center px-4 text-center",children:e.link.rel??"-"})}),X.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-base text-white",children:e.link.href}),t.linkedTd&&t.linkedTd[e.link.href]&&(Object.keys(t.linkedTd[e.link.href]).length||t.linkedTd[e.link.href].kind==="file")&&X.jsx("button",{className:"bg-formBlue border-formBlue flex w-10 items-center justify-center border-r-2",onClick:()=>n(e),children:X.jsx(r0,{size:16,color:"black"})}),X.jsx("button",{className:"bg-formBlue flex w-10 items-center justify-center",onClick:()=>r(e),children:X.jsx(hd,{size:16,color:"black"})})]})},QEe=e=>{const t=Ne.useContext(Fn),r=Ne.useRef(),n=()=>{r.current.openModal()},i=t.parsedTD,[o,s]=Ne.useState(0),[a,l]=Ne.useState("list"),[u,f]=Ne.useState(!1);if(Ne.useEffect(()=>{if(document.getElementsByTagName("details")[1]&&document.getElementsByTagName("details")[1].addEventListener("toggle",function(T){document.getElementsByTagName("details")[1].attributes.open?f(!0):f(!1)},!1),i===void 0||!i.links||!Array.isArray(i.links))return;let h=100,m=30,g=new Hj,_=new jEe({el:document.getElementById("tdGraph"),model:g,height:270+o,width:850,gridSize:10,drawGrid:!0,restrictTranslate:!0});if(!(i===void 0||!i.links||!Array.isArray(i.links))){var v=new cz;v.position(100,10),v.resize(140,40),v.attr({body:{fill:"#005A9C"},label:{text:i.title,fill:"white"}}),v.set("td",{}),v.resize(v.attributes.attrs.label.text.length*12,40),g.addCell(v);for(const[T,$]of i.links.entries()){if(Object.prototype.toString.call($)!=="[object Object]")continue;h=h+70,m=m+60;const d=$.href??"no href provided",x=$.rel??"",O=new cz;O.position(h,m),O.attr({body:{fill:"#005A9C"},label:{text:d,fill:"white"}}),O.resize(O.attributes.attrs.label.text.length*12,40),g.addCell(O),O.set("href",d);var p=new zEe({useModelGeometry:!0,y:"0%",x:"100%",action:async function(M,U,K){if(t.linkedTd){let ie=t.linkedTd;ie[U.model.get("href")]&&(delete ie[U.model.get("href")],t.updateLinkedTd(ie))}for(let ie=0;ie<i.links.length;ie++)if(d===U.model.get("href")){t.removeLink(ie),t.updateIsModified(!0);break}}}),E=new uz({tools:[p]}),y=O.findView(_);if(y.addTools(E),t.linkedTd&&t.linkedTd[d]&&(t.linkedTd[d].kind==="file"||Object.keys(t.linkedTd[d]).length)){O.set("td",t.linkedTd[d]);var S=new d5({markup:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#008FF5",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],x:"0%",y:"0%",rotate:!0,action:async function(U,K,ie){let G=K.model.get("href");y2(t,G)}});let M=new uz({tools:[p,S]});y.addTools(M)}let P=new BEe({attrs:{line:{stroke:"#005A9C"}},labels:[{position:.6,attrs:{text:{text:x,fill:"grey"}}}]});P.source(v),P.target(O),P.addTo(g)}s(m+30)}},[o,a,t,t.linkedTd,t.removeLink,t.updateLinkedTd,t.updateIsModified,i]),i===void 0)return X.jsx(X.Fragment,{});let c=[];if(i.links&&Array.isArray(i.links))for(const[h,m]of i.links.entries())Object.prototype.toString.call(m)==="[object Object]"&&c.push(X.jsx(XEe,{link:m},h));return X.jsxs("details",{className:"pt-8",children:[X.jsxs("summary",{className:"flex cursor-pointer items-center justify-start",children:[X.jsxs("div",{className:"flex flex-grow",children:[X.jsx(_a,{tooltip:X8(),children:X.jsx("h2",{className:"flex-grow p-1 text-2xl text-white",children:"Links"})}),u&&X.jsx(si,{disabled:a==="list",onClick:()=>l("list"),variant:"primary",type:"button",className:"h-9",children:"List"}),u&&X.jsx(si,{disabled:a==="graph",onClick:()=>l("graph"),variant:"primary",type:"button",className:"ml-2 h-9",children:"Graph"})]}),X.jsx(si,{onClick:n,variant:"primary",type:"button",children:"Add Top Level Link"}),X.jsx(m5,{type:"link",interaction:i,ref:r})]}),c&&a==="graph"&&X.jsx("div",{className:"pt-4",children:X.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",id:"tdGraph"})}),c&&a==="list"&&X.jsx("div",{className:"pt-4",children:X.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",children:c})})]})};function lp(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{u(n.next(f))}catch(c){s(c)}}function l(f){try{u(n.throw(f))}catch(c){s(c)}}function u(f){f.done?o(f.value):i(f.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}const ZEe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Qm(e,t,r){const n=eSe(e),{webkitRelativePath:i}=e,o=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof n.path!="string"&&fz(n,"path",o),fz(n,"relativePath",o),n}function eSe(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const n=t.split(".").pop().toLowerCase(),i=ZEe.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function fz(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}const tSe=[".DS_Store","Thumbs.db"];function rSe(e){return lp(this,void 0,void 0,function*(){return l1(e)&&nSe(e.dataTransfer)?aSe(e.dataTransfer,e.type):iSe(e)?oSe(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?sSe(e):[]})}function nSe(e){return l1(e)}function iSe(e){return l1(e)&&l1(e.target)}function l1(e){return typeof e=="object"&&e!==null}function oSe(e){return qI(e.target.files).map(t=>Qm(t))}function sSe(e){return lp(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>Qm(r))})}function aSe(e,t){return lp(this,void 0,void 0,function*(){if(e.items){const r=qI(e.items).filter(i=>i.kind==="file");if(t!=="drop")return r;const n=yield Promise.all(r.map(lSe));return dz(g5(n))}return dz(qI(e.files).map(r=>Qm(r)))})}function dz(e){return e.filter(t=>tSe.indexOf(t.name)===-1)}function qI(e){if(e===null)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];t.push(n)}return t}function lSe(e){if(typeof e.webkitGetAsEntry!="function")return hz(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?v5(t):hz(e,t)}function g5(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?g5(r):[r]],[])}function hz(e,t){return lp(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const s=yield o.getFile();return s.handle=o,Qm(s)}}const n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return Qm(n,(r=t==null?void 0:t.fullPath)!==null&&r!==void 0?r:void 0)})}function uSe(e){return lp(this,void 0,void 0,function*(){return e.isDirectory?v5(e):cSe(e)})}function v5(e){const t=e.createReader();return new Promise((r,n)=>{const i=[];function o(){t.readEntries(s=>lp(this,void 0,void 0,function*(){if(s.length){const a=Promise.all(s.map(uSe));i.push(a),o()}else try{const a=yield Promise.all(i);r(a)}catch(a){n(a)}}),s=>{n(s)})}o()})}function cSe(e){return lp(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(n=>{const i=Qm(n,e.fullPath);t(i)},n=>{r(n)})})})}var bA=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return r.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?n.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0};function pz(e){return hSe(e)||dSe(e)||w5(e)||fSe()}function fSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hSe(e){if(Array.isArray(e))return VI(e)}function mz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mz(Object(r),!0).forEach(function(n){y5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y5(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ly(e,t){return gSe(e)||mSe(e,t)||w5(e,t)||pSe()}function pSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w5(e,t){if(e){if(typeof e=="string")return VI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VI(e,t)}}function VI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function gSe(e){if(Array.isArray(e))return e}var vSe=typeof bA=="function"?bA:bA.default,ySe="file-invalid-type",wSe="file-too-large",bSe="file-too-small",_Se="too-many-files",ESe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:ySe,message:"File type must be ".concat(n)}},vz=function(t){return{code:wSe,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},yz=function(t){return{code:bSe,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},SSe={code:_Se,message:"Too many files"};function b5(e,t){var r=e.type==="application/x-moz-file"||vSe(e,t);return[r,r?null:ESe(t)]}function _5(e,t,r){if(fh(e.size))if(fh(t)&&fh(r)){if(e.size>r)return[!1,vz(r)];if(e.size<t)return[!1,yz(t)]}else{if(fh(t)&&e.size<t)return[!1,yz(t)];if(fh(r)&&e.size>r)return[!1,vz(r)]}return[!0,null]}function fh(e){return e!=null}function TSe(e){var t=e.files,r=e.accept,n=e.minSize,i=e.maxSize,o=e.multiple,s=e.maxFiles,a=e.validator;return!o&&t.length>1||o&&s>=1&&t.length>s?!1:t.every(function(l){var u=b5(l,r),f=Ly(u,1),c=f[0],h=_5(l,n,i),m=Ly(h,1),g=m[0],_=a?a(l):null;return c&&g&&!_})}function u1(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Qw(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function wz(e){e.preventDefault()}function $Se(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function xSe(e){return e.indexOf("Edge/")!==-1}function ASe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return $Se(e)||xSe(e)}function vu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return t.some(function(a){return!u1(n)&&a&&a.apply(void 0,[n].concat(o)),u1(n)})}}function OSe(){return"showOpenFilePicker"in window}function PSe(e){if(fh(e)){var t=Object.entries(e).filter(function(r){var n=Ly(r,2),i=n[0],o=n[1],s=!0;return E5(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(S5))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(r,n){var i=Ly(n,2),o=i[0],s=i[1];return gz(gz({},r),{},y5({},o,s))},{});return[{description:"Files",accept:t}]}return e}function RSe(e){if(fh(e))return Object.entries(e).reduce(function(t,r){var n=Ly(r,2),i=n[0],o=n[1];return[].concat(pz(t),[i],pz(o))},[]).filter(function(t){return E5(t)||S5(t)}).join(",")}function NSe(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function ISe(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function E5(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function S5(e){return/^.*\.[\w]+$/.test(e)}var CSe=["children"],kSe=["open"],jSe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],DSe=["refKey","onChange","onClick"];function MSe(e){return BSe(e)||FSe(e)||T5(e)||LSe()}function LSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BSe(e){if(Array.isArray(e))return HI(e)}function _A(e,t){return qSe(e)||zSe(e,t)||T5(e,t)||USe()}function USe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T5(e,t){if(e){if(typeof e=="string")return HI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HI(e,t)}}function HI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function qSe(e){if(Array.isArray(e))return e}function bz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bz(Object(r),!0).forEach(function(n){WI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WI(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c1(e,t){if(e==null)return{};var r=VSe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VSe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Yj=Ne.forwardRef(function(e,t){var r=e.children,n=c1(e,CSe),i=x5(n),o=i.open,s=c1(i,kSe);return Ne.useImperativeHandle(t,function(){return{open:o}},[o]),ct.createElement(Ne.Fragment,null,r(mi(mi({},s),{},{open:o})))});Yj.displayName="Dropzone";var $5={disabled:!1,getFilesFromEvent:rSe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Yj.defaultProps=$5;Yj.propTypes={children:mt.func,accept:mt.objectOf(mt.arrayOf(mt.string)),multiple:mt.bool,preventDropOnDocument:mt.bool,noClick:mt.bool,noKeyboard:mt.bool,noDrag:mt.bool,noDragEventsBubbling:mt.bool,minSize:mt.number,maxSize:mt.number,maxFiles:mt.number,disabled:mt.bool,getFilesFromEvent:mt.func,onFileDialogCancel:mt.func,onFileDialogOpen:mt.func,useFsAccessApi:mt.bool,autoFocus:mt.bool,onDragEnter:mt.func,onDragLeave:mt.func,onDragOver:mt.func,onDrop:mt.func,onDropAccepted:mt.func,onDropRejected:mt.func,onError:mt.func,validator:mt.func};var GI={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function x5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=mi(mi({},$5),e),r=t.accept,n=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,a=t.multiple,l=t.maxFiles,u=t.onDragEnter,f=t.onDragLeave,c=t.onDragOver,h=t.onDrop,m=t.onDropAccepted,g=t.onDropRejected,_=t.onFileDialogCancel,v=t.onFileDialogOpen,p=t.useFsAccessApi,E=t.autoFocus,y=t.preventDropOnDocument,S=t.noClick,T=t.noKeyboard,$=t.noDrag,d=t.noDragEventsBubbling,x=t.onError,O=t.validator,P=Ne.useMemo(function(){return RSe(r)},[r]),M=Ne.useMemo(function(){return PSe(r)},[r]),U=Ne.useMemo(function(){return typeof v=="function"?v:_z},[v]),K=Ne.useMemo(function(){return typeof _=="function"?_:_z},[_]),ie=Ne.useRef(null),G=Ne.useRef(null),ne=Ne.useReducer(HSe,GI),ge=_A(ne,2),re=ge[0],se=ge[1],D=re.isFocused,z=re.isFileDialogActive,Y=Ne.useRef(typeof window<"u"&&window.isSecureContext&&p&&OSe()),N=function(){!Y.current&&z&&setTimeout(function(){if(G.current){var Xe=G.current.files;Xe.length||(se({type:"closeDialog"}),K())}},300)};Ne.useEffect(function(){return window.addEventListener("focus",N,!1),function(){window.removeEventListener("focus",N,!1)}},[G,z,K,Y]);var I=Ne.useRef([]),q=function(Xe){ie.current&&ie.current.contains(Xe.target)||(Xe.preventDefault(),I.current=[])};Ne.useEffect(function(){return y&&(document.addEventListener("dragover",wz,!1),document.addEventListener("drop",q,!1)),function(){y&&(document.removeEventListener("dragover",wz),document.removeEventListener("drop",q))}},[ie,y]),Ne.useEffect(function(){return!n&&E&&ie.current&&ie.current.focus(),function(){}},[ie,E,n]);var ae=Ne.useCallback(function(tt){x?x(tt):console.error(tt)},[x]),Z=Ne.useCallback(function(tt){tt.preventDefault(),tt.persist(),De(tt),I.current=[].concat(MSe(I.current),[tt.target]),Qw(tt)&&Promise.resolve(i(tt)).then(function(Xe){if(!(u1(tt)&&!d)){var Q=Xe.length,k=Q>0&&TSe({files:Xe,accept:P,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:O}),B=Q>0&&!k;se({isDragAccept:k,isDragReject:B,isDragActive:!0,type:"setDraggedFiles"}),u&&u(tt)}}).catch(function(Xe){return ae(Xe)})},[i,u,ae,d,P,s,o,a,l,O]),te=Ne.useCallback(function(tt){tt.preventDefault(),tt.persist(),De(tt);var Xe=Qw(tt);if(Xe&&tt.dataTransfer)try{tt.dataTransfer.dropEffect="copy"}catch{}return Xe&&c&&c(tt),!1},[c,d]),ue=Ne.useCallback(function(tt){tt.preventDefault(),tt.persist(),De(tt);var Xe=I.current.filter(function(k){return ie.current&&ie.current.contains(k)}),Q=Xe.indexOf(tt.target);Q!==-1&&Xe.splice(Q,1),I.current=Xe,!(Xe.length>0)&&(se({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Qw(tt)&&f&&f(tt))},[ie,f,d]),xe=Ne.useCallback(function(tt,Xe){var Q=[],k=[];tt.forEach(function(B){var le=b5(B,P),Ee=_A(le,2),Pe=Ee[0],qe=Ee[1],Be=_5(B,s,o),Ye=_A(Be,2),gt=Ye[0],Ot=Ye[1],yt=O?O(B):null;if(Pe&&gt&&!yt)Q.push(B);else{var Xt=[qe,Ot];yt&&(Xt=Xt.concat(yt)),k.push({file:B,errors:Xt.filter(function(Xr){return Xr})})}}),(!a&&Q.length>1||a&&l>=1&&Q.length>l)&&(Q.forEach(function(B){k.push({file:B,errors:[SSe]})}),Q.splice(0)),se({acceptedFiles:Q,fileRejections:k,isDragReject:k.length>0,type:"setFiles"}),h&&h(Q,k,Xe),k.length>0&&g&&g(k,Xe),Q.length>0&&m&&m(Q,Xe)},[se,a,P,s,o,l,h,m,g,O]),Le=Ne.useCallback(function(tt){tt.preventDefault(),tt.persist(),De(tt),I.current=[],Qw(tt)&&Promise.resolve(i(tt)).then(function(Xe){u1(tt)&&!d||xe(Xe,tt)}).catch(function(Xe){return ae(Xe)}),se({type:"reset"})},[i,xe,ae,d]),C=Ne.useCallback(function(){if(Y.current){se({type:"openDialog"}),U();var tt={multiple:a,types:M};window.showOpenFilePicker(tt).then(function(Xe){return i(Xe)}).then(function(Xe){xe(Xe,null),se({type:"closeDialog"})}).catch(function(Xe){NSe(Xe)?(K(Xe),se({type:"closeDialog"})):ISe(Xe)?(Y.current=!1,G.current?(G.current.value=null,G.current.click()):ae(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ae(Xe)});return}G.current&&(se({type:"openDialog"}),U(),G.current.value=null,G.current.click())},[se,U,K,p,xe,ae,M,a]),F=Ne.useCallback(function(tt){!ie.current||!ie.current.isEqualNode(tt.target)||(tt.key===" "||tt.key==="Enter"||tt.keyCode===32||tt.keyCode===13)&&(tt.preventDefault(),C())},[ie,C]),L=Ne.useCallback(function(){se({type:"focus"})},[]),ee=Ne.useCallback(function(){se({type:"blur"})},[]),ce=Ne.useCallback(function(){S||(ASe()?setTimeout(C,0):C())},[S,C]),me=function(Xe){return n?null:Xe},ve=function(Xe){return T?null:me(Xe)},Te=function(Xe){return $?null:me(Xe)},De=function(Xe){d&&Xe.stopPropagation()},Ge=Ne.useMemo(function(){return function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Xe=tt.refKey,Q=Xe===void 0?"ref":Xe,k=tt.role,B=tt.onKeyDown,le=tt.onFocus,Ee=tt.onBlur,Pe=tt.onClick,qe=tt.onDragEnter,Be=tt.onDragOver,Ye=tt.onDragLeave,gt=tt.onDrop,Ot=c1(tt,jSe);return mi(mi(WI({onKeyDown:ve(vu(B,F)),onFocus:ve(vu(le,L)),onBlur:ve(vu(Ee,ee)),onClick:me(vu(Pe,ce)),onDragEnter:Te(vu(qe,Z)),onDragOver:Te(vu(Be,te)),onDragLeave:Te(vu(Ye,ue)),onDrop:Te(vu(gt,Le)),role:typeof k=="string"&&k!==""?k:"presentation"},Q,ie),!n&&!T?{tabIndex:0}:{}),Ot)}},[ie,F,L,ee,ce,Z,te,ue,Le,T,$,n]),Ve=Ne.useCallback(function(tt){tt.stopPropagation()},[]),ht=Ne.useMemo(function(){return function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Xe=tt.refKey,Q=Xe===void 0?"ref":Xe,k=tt.onChange,B=tt.onClick,le=c1(tt,DSe),Ee=WI({accept:P,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:me(vu(k,Le)),onClick:me(vu(B,Ve)),tabIndex:-1},Q,G);return mi(mi({},Ee),le)}},[G,r,a,Le,n]);return mi(mi({},re),{},{isFocused:D&&!n,getRootProps:Ge,getInputProps:ht,rootRef:ie,inputRef:G,open:me(C)})}function HSe(e,t){switch(t.type){case"focus":return mi(mi({},e),{},{isFocused:!0});case"blur":return mi(mi({},e),{},{isFocused:!1});case"openDialog":return mi(mi({},GI),{},{isFileDialogActive:!0});case"closeDialog":return mi(mi({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return mi(mi({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return mi(mi({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return mi({},GI);default:return e}}function _z(){}const WSe=({onUndo:e,onRedo:t,customBreakpoints:r})=>{const n=Ne.useContext(Fn),i=n.parsedTD,o=["id","properties","actions","events","forms","description","title","links"],s=ct.useRef(),a=()=>{var g;(g=s.current)==null||g.openModal()},l=Ne.useCallback(g=>{const _=g[0],v=new FileReader;v.onabort=()=>console.error("File reading  - aborted"),v.onerror=()=>console.error("File reading - failed"),v.onload=()=>{const p={td:v.result,fileName:_.name,fileHandle:_};try{let E={};E[p.fileName]=p.fileHandle,n.updateOfflineTD(p.td),n.updateIsModified(!1),n.setFileHandle(p.fileName),n.updateLinkedTd(void 0),n.addLinkedTd(E)}catch(E){console.error("File processing:",E)}},v.readAsText(_)},[n]),{getRootProps:u,getInputProps:f,isDragActive:c}=x5({onDrop:l,accept:{"application/json":[".json"],"application/ld+json":[".jsonld"]},noClick:!0,maxFiles:1,maxSize:10*1024*1024});if(!n.offlineTD)return X.jsxs("div",{...u(),className:"align-center flex h-full w-full justify-center justify-items-center bg-gray-500 text-center",children:[X.jsx("input",{...f()}),c?X.jsx("div",{className:"place-self-center text-4xl text-white",children:X.jsx("p",{children:"Drop the files here ..."})}):X.jsxs("div",{className:"place-self-center text-4xl text-white",children:['Start writing a new TD by clicking "Create"',X.jsx("p",{children:"or drag and drop .json file here"}),X.jsx("div",{className:"pt-4",children:X.jsx("p",{className:"text-xl text-gray-600",children:"For linux operating systems, it is necessary to give the necessary file permissions. Run sudo xdg-open /path/to/the/folder"})})]})]});let h;i.forms&&(h=B1(i.forms).map((_,v)=>X.jsx(vT,{form:_,propName:v},v)));const m=F1(i.id?{id:i.id}:{},i,o);return X.jsxs("div",{className:"h-full w-full overflow-auto bg-gray-500 p-6",children:[X.jsx(dye,{onUndo:e,onRedo:t}),i!==void 0&&Object.keys(i).length>0&&X.jsxs("div",{children:[X.jsx("div",{className:"text-3xl text-white",children:i.title?rP(i,"title",i["@context"]):X.jsx(X.Fragment,{})}),i.description?X.jsx("div",{className:"pt-4 text-xl text-white",children:rP(i,"description",i["@context"])}):X.jsx(X.Fragment,{}),X.jsx("div",{className:"pt-4",children:X.jsx(WK,{...m})})]}),X.jsxs("details",{className:"pt-8",children:[X.jsxs("summary",{className:"flex cursor-pointer items-center justify-start",children:[X.jsx("div",{className:"flex flex-grow",children:X.jsx(_a,{tooltip:i0(),id:"forms",children:X.jsx("h2",{className:"flex-grow p-1 text-2xl text-white",children:"Forms"})})}),X.jsx(si,{onClick:a,variant:"primary",type:"button",children:"Add Top Level Form"}),X.jsx(Xy,{type:"thing",interaction:i,ref:s})]}),h&&X.jsx("div",{className:"pt-4",children:X.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",children:h})})]}),X.jsx(QEe,{}),X.jsx(Qx,{interaction:"Properties",customBreakpoints:r}),X.jsx(Qx,{interaction:"Actions"}),X.jsx(Qx,{interaction:"Events"}),X.jsx("div",{className:"h-10"})]})},GSe=e=>{var s;const t=Ne.useContext(Fn),r=KSe(t.offlineTD.length);let n=0,i=0,o=0;if(Object.keys(t.parsedTD).length!==0){const a=t.parsedTD;n=a.properties?Object.keys(a.properties).length:0,i=a.actions?Object.keys(a.actions).length:0,o=a.events?Object.keys(a.events).length:0}return X.jsx(X.Fragment,{children:X.jsx("footer",{className:"flex h-10 flex-col justify-center bg-blue-500 text-white",children:X.jsxs("div",{className:"flex items-center px-2",children:[X.jsxs("div",{className:"hidden grow items-center gap-2 md:flex",children:[X.jsxs("div",{children:["Properties: ",n]}),X.jsxs("div",{children:["| Actions: ",i]}),X.jsxs("div",{children:["| Events: ",o]}),X.jsxs("div",{children:["| Size: ",r]}),X.jsxs("div",{children:["| Northbound State:"," ",((s=t.northboundConnection)==null?void 0:s.message)??"Unknown"]})]}),X.jsxs("div",{className:"flex grow gap-2 md:hidden",children:[X.jsxs("div",{children:["P: ",n]}),X.jsxs("div",{children:["| A: ",i]}),X.jsxs("div",{children:["| E: ",o]}),X.jsxs("div",{className:"flex",children:[X.jsxs("div",{children:["| ",r]}),t.isModified&&X.jsx("div",{className:"md:hidden",children:"*"})]})]}),X.jsxs("div",{className:"flex items-center gap-2",children:[t.isModified&&X.jsx("div",{className:"hidden md:block",children:"You have unsaved changes - "}),X.jsxs("div",{children:["v","0.7.0"]}),X.jsx("a",{className:"rounded-full bg-black p-2",href:"https://github.com/eclipse/editdor",target:"_blank",rel:"noopener noreferrer",children:X.jsx(C2,{size:16})})]})]})})})};function KSe(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(3)+" KiB":e<1073741824?(e/1048576).toFixed(3)+" MiB":(e/1073741824).toFixed(3)+" GiB"}const JSe=""+new URL("editdor-Cn4ts1-9.png",import.meta.url).href,yo=[];for(let e=0;e<256;++e)yo.push((e+256).toString(16).slice(1));function YSe(e,t=0){return(yo[e[t+0]]+yo[e[t+1]]+yo[e[t+2]]+yo[e[t+3]]+"-"+yo[e[t+4]]+yo[e[t+5]]+"-"+yo[e[t+6]]+yo[e[t+7]]+"-"+yo[e[t+8]]+yo[e[t+9]]+"-"+yo[e[t+10]]+yo[e[t+11]]+yo[e[t+12]]+yo[e[t+13]]+yo[e[t+14]]+yo[e[t+15]]).toLowerCase()}let EA;const XSe=new Uint8Array(16);function QSe(){if(!EA){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");EA=crypto.getRandomValues.bind(crypto)}return EA(XSe)}const ZSe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ez={randomUUID:ZSe};function e1e(e,t,r){var i;e=e||{};const n=e.random??((i=e.rng)==null?void 0:i.call(e))??QSe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,YSe(n)}function t1e(e,t,r){return Ez.randomUUID&&!e?Ez.randomUUID():e1e(e)}function r1e(e){const t=["https://www.w3.org/2022/wot/td/v1.1","https://www.w3.org/2019/wot/td/v1"],r="https://schema.org/";if(typeof e=="string"){if(t.includes(e))return[e,{schema:r}];throw new Error("validation schema is wrong")}if(Array.isArray(e)){const n=e.filter(o=>typeof o=="string"&&t.includes(o)),i=e.filter(o=>typeof o=="object"&&o!==null);if(n.length>0)if(i.length>0){const o=i.map(s=>"schema"in s?s:{schema:r,...s});return[...n,...o]}else return[...n,{schema:r}];return e}return e}function A5(e){let t=/{{/gi,r,n=[];for(;r=t.exec(e);)n.push(r.index);t=/}}/gi;let i=[];for(;r=t.exec(e);)i.push(r.index);let o=[];for(let s=0;s<n.length;s++)o.push(e.slice(n[s]+2,i[s]));return[...new Set(o)]}function SA(e,t){return Object.keys(e).filter(r=>t.includes(r)).reduce((r,n)=>(r[n]=e[n],r),{})}function n1e(e,t,r,n,i){const o=O5(e,t);try{const s=JSON.parse(o);return s.properties&&(s.properties=SA(s.properties,r)),s.actions&&(s.actions=SA(s.actions,n)),s.events&&(s.events=SA(s.events,i)),delete s["@type"],delete s["tm:required"],s}catch(s){return console.error("Error processing TM:",s),null}}function O5(e,t){let r=e;return Object.entries(t).forEach(([n,i])=>{const o=Number(i);isNaN(o)?r=r.replace(new RegExp(`{{${n}}}`,"g"),i):r=r.replace(new RegExp(`"{{${n}}}"`,"g"),i).replace(new RegExp(`{{${n}}}`,"g"),i)}),r}function i1e(e){const t={...e},r=t1e();return t.id=`urn:${r}`,t}function o1e(e,t){try{const r=JSON.stringify(e),n=Object.keys(t).length>0?O5(r,t):r,i=JSON.parse(n),{"@type":o,"tm:required":s,...a}=i;return i1e(a)}catch(r){throw new Error(`Error preparing TD for submission: ${r instanceof Error?r.message:String(r)}`)}}const P5=({inputValues:e,onValueChange:t})=>{const[r,n]=Ne.useState(e);Ne.useEffect(()=>{n(e)},[e]);const i=(s,a)=>{n(l=>({...l,[s]:a}))},o=(s,a)=>{t(s,a)};return X.jsx("div",{className:"placeholder-inputs-container w-full",children:Object.keys(e).map(s=>X.jsxs("div",{className:"py-1",children:[X.jsxs("label",{htmlFor:`tm-input-${s}`,className:"pl-2 text-sm font-medium text-gray-400",children:[s,":"]}),X.jsx("input",{id:`tm-input-${s}`,type:"text",name:s,value:r[s]||"",onChange:a=>i(s,a.target.value),onBlur:a=>o(s,a.target.value),className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white outline-none hover:border-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter a value..."})]},s))})},R5=Ne.forwardRef((e,t)=>{const r=Ne.useContext(Fn),n=r.offlineTD,[i,o]=ct.useState([]),[s,a]=ct.useState(()=>!1),[l,u]=Ne.useState([]),[f,c]=Ne.useState({});Ne.useEffect(()=>{o(l1e(r.offlineTD)),u(a1e(r.offlineTD))},[r.offlineTD]),Ne.useEffect(()=>{if(n){const _=A5(n).reduce((v,p)=>(v[p]="",v),{});c(_)}},[n]),Ne.useImperativeHandle(t,()=>({openModal:()=>a(!0),close:()=>a(!1)}));const h=(g,_)=>{c(v=>({...v,[g]:_}))},m=()=>{const g=s1e(l),_=n1e(r.offlineTD,f,g.properties,g.actions,g.events),v=JSON.stringify(_,null,2);localStorage.setItem("td",v),window.open(`${window.location.origin+window.location.pathname}?localstorage`,"_blank")};return s&&s?$a.createPortal(X.jsx(xa,{onHandleEventLeftButton:()=>a(!1),onHandleEventRightButton:m,rightButton:"Generate TD",title:"Generate TD From TM",description:"Please provide values to switch the placeholders with.",children:X.jsxs(X.Fragment,{children:[X.jsx(P5,{inputValues:f,onValueChange:h}),X.jsx("h2",{className:"pb-2 pt-4 text-gray-400",children:"Select/unselect the interaction affordances you would like to see in the new TD."}),X.jsx("div",{className:"affordances-container",children:l})]})}),document.getElementById("modal-root")):null});function s1e(e){const t={properties:[],actions:[],events:[]};return e.forEach(r=>{if(r.props.className.includes("form-checkbox")){const n=document.getElementById(r.props.children[0].props.id);if(n!=null&&n.checked){const[i,o]=r.key.toString().split("/");i==="properties"?t.properties.push(o):i==="actions"?t.actions.push(o):i==="events"&&t.events.push(o)}}}),t}function a1e(e){try{if(!e)return[];const t=JSON.parse(e),{properties:r,actions:n,events:i,requiredFields:o}=N5(t),s=Rm("properties",r,o),a=Rm("actions",n,o),l=Rm("events",i,o);return[...s,...a,...l]}catch(t){return console.error("Error creating affordance elements:",t),[]}}const l1e=e=>{try{let t=[],r=[],n=[];try{const i=JSON.parse(e),{properties:o,actions:s,events:a,requiredFields:l}=N5(i);if(i["tm:required"])for(const u of i["tm:required"])u.startsWith("#properties/")?l.properties.push(u.split("/")[1]):u.startsWith("#actions/")?l.actions.push(u.split("/")[1]):u.startsWith("#events/")&&l.events.push(u.split("/")[1]);t=Rm("properties",o,l),r=Rm("actions",s,l),n=Rm("events",a,l)}catch{}return[...t,...r,...n]}catch(t){return console.log(t),[]}};function Rm(e,t,r){return t.map(n=>{const i=r[e].includes(n);return X.jsxs("div",{className:"form-checkbox py-1 pl-2",children:[X.jsx("input",{id:`${e}/${n}`,className:"form-checkbox-input",type:"checkbox",value:`#${e}/${n}`,disabled:i,defaultChecked:!0,title:i?"This field is required by the TM.":"","data-interaction":e}),X.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:`${e}/${n}`,children:`#${e}/${n}`})]},`${e}/${n}`)})}function N5(e){const t=Object.keys(e.properties||{}),r=Object.keys(e.actions||{}),n=Object.keys(e.events||{}),i={properties:[],actions:[],events:[]};if(e["tm:required"])for(const o of e["tm:required"])o.startsWith("#properties/")?i.properties.push(o.split("/")[1]):o.startsWith("#actions/")?i.actions.push(o.split("/")[1]):o.startsWith("#events/")&&i.events.push(o.split("/")[1]);return{properties:t,actions:r,events:n,requiredFields:i}}R5.displayName="ConvertTmDialog";const u1e=(e,t=!0,r)=>{if(e==="")throw new Error("CSV content is empty");const n=e.split(`
`).map(i=>i.trim()).filter(i=>i.length>0);if(t){const i=n[0].split(r).map(o=>o.trim());return n.slice(1).map(o=>{const s=o.split(r).map(a=>a.trim());return i.reduce((a,l,u)=>(a[l]=s[u],a),{})})}else throw new Error("CSV parsing without headers is not supported")},c1e=e=>{var t,r;return{...e.type?{type:e.type}:{},readOnly:!0,...e.title?{title:e.title}:{},...e.description?{description:e.description}:{},...e.minimum?{minimum:Number(e.minimum)}:{},...e.maximum?{maximum:Number(e.maximum)}:{},...e.unit?{unit:e.unit}:{},forms:[{op:"readproperty",href:e.href?e.href:"/","modbus:unitID":Number(e["modbus:unitID"])??1,"modbus:address":Number(e["modbus:address"]),"modbus:quantity":Number(e["modbus:quantity"])??1,...e["modbus:type"]?{"modbus:type":e["modbus:type"]}:{},"modbus:zeroBasedAddressing":!!e["modbus:zeroBasedAddressing"],"modbus:entity":e["modbus:entity"],...e["modbus:pollingTime"]?{"modbus:pollingTime":e["modbus:pollingTime"]}:{},...e["modbus:function"]?{"modbus:function":e["modbus:function"]}:{},"modbus:mostSignificantByte":((t=e["modbus:mostSignificantByte"])==null?void 0:t.toLowerCase())==="true","modbus:mostSignificantWord":((r=e["modbus:mostSignificantWord"])==null?void 0:r.toLowerCase())==="true",...e["modbus:timeout"]?{"modbus:timeout":e["modbus:timeout"]}:{}}]}},f1e=e=>e.reduce((t,r)=>{if(!r.name||r.name.trim()==="")throw new Error("Error on CSV file: Row name is required");if(!r["modbus:address"]||r["modbus:address"].trim()==="")throw new Error(`Error on CSV file: "modbus:address" value is required for row: "${r.name}"`);if(!r["modbus:entity"]||r["modbus:entity"].trim()==="")throw new Error(`Error on CSV file: "modbus:entity" value is required for row: "${r.name}"`);return t[r.name]=c1e(r),t},{}),TA=({label:e,placeholder:t,id:r,type:n,autoFocus:i=!1})=>X.jsxs("div",{className:"py-1",children:[X.jsxs("label",{htmlFor:r,className:"pl-2 text-sm font-medium text-gray-400",children:[e,":"]}),X.jsx("input",{name:r,id:r,className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:t,type:n,autoFocus:i})]}),I5=Ne.forwardRef((e,t)=>{const r=Ne.useContext(Fn),[n,i]=ct.useState(()=>!1),[o,s]=ct.useState("TD"),[a,l]=ct.useState({}),[u,f]=ct.useState(""),[c,h]=ct.useState("Modbus TCP"),m=ct.useRef(null);Ne.useImperativeHandle(t,()=>({openModal:()=>g(),close:()=>_()}));const g=()=>{i(!0)},_=()=>{f(""),h("Modbus TCP"),l({}),i(!1)},p=d1e(y=>{s(y.target.value)},o,c,h,u,f,m,l),E=(y,S)=>{var U,K,ie,G,ne;let T=(U=document.getElementById("thing-id"))==null?void 0:U.value,$=(K=document.getElementById("thing-title"))==null?void 0:K.value,d=(ie=document.getElementById("thing-base"))==null?void 0:ie.value,x=(G=document.getElementById("thing-description"))==null?void 0:G.value,O=(ne=document.getElementById("thing-security"))==null?void 0:ne.value;var P={};P["@context"]="https://www.w3.org/2019/wot/td/v1",P.title=$!==""?$:"ediTDor Thing",y==="TM"&&(P["@type"]="tm:ThingModel"),T!==""&&(P.id=T!==""?T:"urn:editdor-thing-id"),u!==""&&d===""?P.base="modbus+tcp://{{IP}}:{{PORT}}":u===""&&d===""?P.base="/":P.base=d,x!==""&&(P.description=x);let M={};return M[`${O}_sc`]={scheme:O},P.securityDefinitions=M,P.security=`${O}_sc`,P.properties=S,P.actions={},P.events={},P};return n?$a.createPortal(X.jsx(xa,{onHandleEventLeftButton:_,onHandleEventRightButton:()=>{let y=E(o,a),S={};S[y.title]=y,r.updateLinkedTd(void 0),r.addLinkedTd(S),r.updateOfflineTD(JSON.stringify(y,null,2)),_()},children:p,rightButton:o==="TD"?"Create TD":"Create TM",title:"Create a New TD/TM",description:"To quickly create a basis for your new Thing Description/Thing Model just fill out this little template and we'll get you going."}),document.getElementById("modal-root")):null}),d1e=(e,t,r,n,i,o,s,a)=>{const l=c=>{const h=c.target.files[0];if(h){o(h.name);const m=new FileReader;m.onload=g=>{var E;const _=(E=g.target)==null?void 0:E.result,v=u1e(_,!0,",");let p={};try{if(p=f1e(v),Object.keys(p).length===0)throw new Error("No valid properties found in the CSV file.")}catch(y){alert(y.message)}a(p)},m.onerror=g=>{var _;alert(`Reading file: ${(_=g.target)==null?void 0:_.error}`)},m.readAsText(h)}},u=()=>{s.current&&s.current.click()},f=()=>{const c="name,title,description,type,minimum,maximum,unit,href,modbus:unitID,modbus:address,modbus:quantity,modbus:type,modbus:zeroBasedAddressing,modbus:entity,modbus:pollingTime,modbus:function,modbus:mostSignificantByte,modbus:mostSignificantWord,modbus:timeout",h=new Blob([c],{type:"text/csv;charset=utf-8;"}),m=URL.createObjectURL(h),g=document.createElement("a");g.href=m,g.setAttribute("download","modbus_tcp_properties_template.csv"),document.body.appendChild(g),g.click(),document.body.removeChild(g)};return X.jsxs(X.Fragment,{children:[X.jsx("label",{htmlFor:"type",className:"pl-2 text-sm font-medium text-gray-400",children:"Type:"}),X.jsxs("div",{className:"relative",children:[X.jsxs("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:"type",onChange:e,value:t,children:[X.jsx("option",{value:"TD",children:"Thing Description"}),X.jsx("option",{value:"TM",children:"Thing Model"})]}),X.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:X.jsx(us,{color:"#cacaca"})})]}),X.jsx(TA,{label:"ID",placeholder:"urn:thing-id",id:"thing-id",type:"url",autoFocus:!0}),X.jsx(TA,{label:"Title",placeholder:"Thing Title",id:"thing-title",type:"text",autoFocus:!1}),X.jsx(TA,{label:"Base",placeholder:"http://www.example.com/thing-path",id:"thing-base",type:"url",autoFocus:!1}),X.jsx("label",{htmlFor:"thing-description",className:"pl-2 text-sm font-medium text-gray-400",children:"Description:"}),X.jsx("textarea",{id:"thing-description",rows:5,className:"w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"A short description about this new Thing..."}),X.jsx("label",{htmlFor:"thing-security",className:"pl-2 text-sm font-medium text-gray-400",children:"Security:"}),X.jsxs("div",{className:"relative mb-8",children:[X.jsxs("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:"thing-security",children:[X.jsx("option",{children:"nosec"}),X.jsx("option",{children:"basic"}),X.jsx("option",{children:"digest"}),X.jsx("option",{children:"bearer"}),X.jsx("option",{children:"psk"}),X.jsx("option",{children:"oauth2"}),X.jsx("option",{children:"apikey"})]}),X.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:X.jsx(us,{color:"#cacaca"})})]}),X.jsx("div",{className:"pt-2",children:X.jsx("label",{htmlFor:"submit-csv",className:"pl-2 text-sm font-medium text-gray-400",children:"Add properties in CSV format:"})}),X.jsxs("div",{className:"flex flex-col justify-between rounded border-2 border-gray-600",children:[X.jsxs("div",{className:"flex items-center p-2",children:[X.jsx("label",{htmlFor:"protocol-option",className:"pl-2 pr-2 text-lg text-gray-400",children:"Protocol:"}),X.jsxs("div",{className:"relative",children:[X.jsxs("select",{id:"protocol-option",className:"block appearance-none rounded border-2 border-gray-600 bg-gray-600 px-1 py-2 pr-4 leading-tight text-white hover:border-blue-500 focus:outline-none",value:r,onChange:c=>n(c.target.value),children:[X.jsx("option",{children:"Modbus TCP"}),X.jsx("option",{disabled:!0,children:"More protocols will be supported in the future"})]}),X.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-1 flex items-center px-2 text-gray-700",children:X.jsx(us,{color:"#cacaca"})})]})]}),X.jsxs("div",{className:"flex items-center p-2",children:[X.jsx(si,{id:"download-template",onClick:f,variant:"primary",type:"button",children:"Download CSV Template"}),X.jsx("input",{type:"file",accept:".csv",ref:s,onChange:l,style:{display:"none"}}),X.jsx(si,{id:"submit-csv",onClick:u,variant:"primary",type:"button",className:"ml-2",children:"Load a CSV File"}),X.jsx("div",{className:"ml-2",children:X.jsx("p",{className:"pl-2",children:i||"No file selected"})})]})]})]})};I5.displayName="CreateTdDialog";const C5=({initialData:e={northboundUrl:"",southboundUrl:"",pathToValue:"/"},onChange:t,hideTitle:r=!1,className:n=""})=>{const[i,o]=Ne.useState(e),[s,a]=Ne.useState({northboundUrl:"",southboundUrl:"",pathToValue:""});Ne.useEffect(()=>{o(e)},[e]),Ne.useEffect(()=>{if(t){const c=!s.northboundUrl&&!s.southboundUrl&&!s.pathToValue;t(i,c)}},[i,s,t]);const l=Ne.useCallback(c=>{const h=c.target.value;o(m=>({...m,northboundUrl:h})),h===""?a(m=>({...m,northboundUrl:""})):EI(h)?a(m=>({...m,northboundUrl:""})):a(m=>({...m,northboundUrl:"Please enter a valid URL (e.g., http://localhost:8080)"}))},[]),u=Ne.useCallback(c=>{const h=c.target.value;o(m=>({...m,southboundUrl:h})),h===""?a(m=>({...m,southboundUrl:""})):EI(h)?a(m=>({...m,southboundUrl:""})):a(m=>({...m,southboundUrl:"Please enter a valid URL (e.g., http://localhost:8080)"}))},[]),f=Ne.useCallback(c=>{const h=c.target.value;o(m=>({...m,pathToValue:h})),h===""?a(m=>({...m,pathToValue:""})):h.startsWith("/")?h.includes(" ")?a(m=>({...m,pathToValue:"Path cannot contain spaces"})):a(m=>({...m,pathToValue:""})):a(m=>({...m,pathToValue:"Path must start with '/'"}))},[]);return X.jsxs("div",{className:n,children:[X.jsxs("div",{className:"rounded-md bg-black bg-opacity-80 p-2",children:[!r&&X.jsx("h1",{className:"font-bold",children:"Third Party Service Configuration"}),X.jsxs("div",{className:"px-4",children:[X.jsx("h2",{className:"py-2 text-justify text-gray-400",children:'If you want to interact with non-HTTP devices via a gateway, you can send it TDs to its southbound endpoint with a "POST" request. Similarly, you can retrieve TDs from its northbound endpoint. The id of the initial TD is used to correlate both.'}),X.jsx(Ls,{label:X.jsx(_a,{tooltip:{html:"The target northbound URL should point to a server that implements the Discovery Specifications's Things API. If a valid target URL is provided, the editTDor will use it for all interactions with the Thing.",href:""},id:"settings-target-url-northbound-info",children:"Target URL Northbound:"}),placeholder:"e.g.: http://localhost:8080/",id:"settings-target-url-field-northbound",type:"text",value:i.northboundUrl,autoFocus:!1,onChange:l,className:`${s.northboundUrl?"border-red-500":"border-gray-600"} w-full rounded-md border-2 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm`}),s.northboundUrl&&X.jsx("div",{className:"mt-1 text-sm text-red-500",children:s.northboundUrl}),X.jsx(Ls,{label:X.jsx(_a,{tooltip:{html:"The target southbound URL",href:""},id:"settings-target-url-southbound-info",children:"Target URL Southbound:"}),placeholder:"e.g.: http://localhost:8080/",id:"settings-target-url-field-southbound",type:"text",value:i.southboundUrl,autoFocus:!1,onChange:u,className:`${s.southboundUrl?"border-red-500":"border-gray-600"} w-full rounded-md border-2 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm`}),s.southboundUrl&&X.jsx("div",{className:"mt-1 text-sm text-red-500",children:s.southboundUrl})]})]}),X.jsxs("div",{className:"my-4 rounded-md bg-black bg-opacity-80 p-2",children:[!r&&X.jsx("h1",{className:"font-bold",children:"Path to value"}),X.jsxs("div",{className:"px-4",children:[X.jsx("h2",{className:"py-2 text-justify text-gray-400",children:'If the gateway is wrapping the payloads in a JSON object, please provide the path to the value as a JSON pointer. For a JSON like {"foo": {"bar":"baz"}}, where baz is the value according the Data Schema of the TD, you should enter /foo/bar.'}),X.jsx(Ls,{label:X.jsx(_a,{tooltip:{html:"JSON pointer path to the actual value in wrapped payloads. Use forward slashes to navigate nested objects.",href:""},id:"settingsPathToValueInfo",children:"JSON Pointer Path:"}),placeholder:"/foo/bar",id:"settingsPathToValueField",type:"text",value:i.pathToValue,autoFocus:!1,onChange:f,className:`${s.pathToValue?"border-red-500":"border-gray-600"} w-full rounded-md border-2 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm`}),s.pathToValue&&X.jsx("div",{className:"mt-1 text-sm text-red-500",children:s.pathToValue})]})]})]})},k5=Ne.forwardRef((e,t)=>{const[r,n]=Ne.useState(!1),[i,o]=Ne.useState({northboundUrl:"",southboundUrl:"",pathToValue:"/"}),[s,a]=Ne.useState(!0);Ne.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{n(!0),o({northboundUrl:Us("northbound")||"",southboundUrl:Us("southbound")||"",pathToValue:Us("valuePath")||"/"})},u=async()=>{n(!1)},f=()=>{s&&(Xx(i.northboundUrl,"northbound"),Xx(i.southboundUrl,"southbound"),Xx(i.pathToValue,"valuePath"),u())},c=(h,m)=>{o(h),a(m)};return r?$a.createPortal(X.jsx(xa,{hasSubmit:!0,onHandleEventLeftButton:u,leftButton:"Cancel",rightButton:"Save Changes",onHandleEventRightButton:f,title:"Settings",description:"Change the ediTDors configuration to your needs",children:X.jsx(C5,{initialData:i,onChange:c})}),document.getElementById("modal-root")):null});k5.displayName="SettingsDialog";var j5={},Xj=class D5{constructor(t,r=new Map,n=0){this.prefix=t,this._existing=r,this.counter=n}clone(){const{prefix:t,_existing:r,counter:n}=this;return new D5(t,new Map(r),n)}getId(t){const r=t&&this._existing.get(t);if(r)return r;const n=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,n),n}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}};(function(e,t){if(e.setImmediate)return;var r=1,n={},i=!1,o=e.document,s;function a(E){typeof E!="function"&&(E=new Function(""+E));for(var y=new Array(arguments.length-1),S=0;S<y.length;S++)y[S]=arguments[S+1];var T={callback:E,args:y};return n[r]=T,s(r),r++}function l(E){delete n[E]}function u(E){var y=E.callback,S=E.args;switch(S.length){case 0:y();break;case 1:y(S[0]);break;case 2:y(S[0],S[1]);break;case 3:y(S[0],S[1],S[2]);break;default:y.apply(t,S);break}}function f(E){if(i)setTimeout(f,0,E);else{var y=n[E];if(y){i=!0;try{u(y)}finally{l(E),i=!1}}}}function c(){s=function(E){process.nextTick(function(){f(E)})}}function h(){if(e.postMessage&&!e.importScripts){var E=!0,y=e.onmessage;return e.onmessage=function(){E=!1},e.postMessage("","*"),e.onmessage=y,E}}function m(){var E="setImmediate$"+Math.random()+"$",y=function(S){S.source===e&&typeof S.data=="string"&&S.data.indexOf(E)===0&&f(+S.data.slice(E.length))};e.addEventListener?e.addEventListener("message",y,!1):e.attachEvent("onmessage",y),s=function(S){e.postMessage(E+S,"*")}}function g(){var E=new MessageChannel;E.port1.onmessage=function(y){var S=y.data;f(S)},s=function(y){E.port2.postMessage(y)}}function _(){var E=o.documentElement;s=function(y){var S=o.createElement("script");S.onreadystatechange=function(){f(y),S.onreadystatechange=null,E.removeChild(S),S=null},E.appendChild(S)}}function v(){s=function(E){setTimeout(f,0,E)}}var p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,{}.toString.call(e.process)==="[object process]"?c():h()?m():e.MessageChannel?g():o&&"onreadystatechange"in o.createElement("script")?_():v(),p.setImmediate=a,p.clearImmediate=l})(typeof self>"u"?Eo:self);/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const $A=self.crypto||self.msCrypto;var qT=class{constructor(t){if(!($A&&$A.subtle))throw new Error("crypto.subtle not found.");if(t==="sha256")this.algorithm={name:"SHA-256"};else if(t==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${t}".`);this._content=""}update(t){this._content+=t}async digest(){const t=new TextEncoder().encode(this._content),r=new Uint8Array(await $A.subtle.digest(this.algorithm,t));let n="";for(let i=0;i<r.length;++i)n+=r[i].toString(16).padStart(2,"0");return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var M5=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let r=0;r<t.length;++r)this.dir.set(t[r],!0)}hasNext(){return!this.done}next(){const{current:t,dir:r}=this,n=t.slice();let i=null,o=0;const s=t.length;for(let a=0;a<s;++a){const l=t[a],u=r.get(l);(i===null||l>i)&&(u&&a>0&&l>t[a-1]||!u&&a<s-1&&l>t[a+1])&&(i=l,o=a)}if(i===null)this.done=!0;else{const a=r.get(i)?o-1:o+1;t[o]=t[a],t[a]=i;for(const l of t)l>i&&r.set(l,!r.get(l))}return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const h1e="http://www.w3.org/1999/02/22-rdf-syntax-ns#",xA=h1e+"langString",AA="http://www.w3.org/2001/XMLSchema#string",Cl="NamedNode",Yd="BlankNode",LE="Literal",Sz="DefaultGraph",Nm={};(()=>{const e="(?:<([^:]+:[^>]*)>)",r="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�"+"_",n=r+"0-9-·̀-ͯ‿-⁀",o="(_:(?:["+r+"0-9])(?:(?:["+n+".])*(?:["+n+"]))?)",s='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',a="(?:\\^\\^"+e+")",u="(?:"+s+"(?:"+a+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",f="[ \\t]+",c="[ \\t]*",h="(?:"+e+"|"+o+")"+f,m=e+f,g="(?:"+e+"|"+o+"|"+u+")"+c,_="(?:\\.|(?:(?:"+e+"|"+o+")"+c+"\\.))";Nm.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,Nm.empty=new RegExp("^"+c+"$"),Nm.quad=new RegExp("^"+c+h+m+g+_+c+"$")})();var Qj=class FE{static parse(t){const r=[],n={},i=t.split(Nm.eoln);let o=0;for(const s of i){if(o++,Nm.empty.test(s))continue;const a=s.match(Nm.quad);if(a===null)throw new Error("N-Quads parse error on line "+o+".");const l={subject:null,predicate:null,object:null,graph:null};if(a[1]!==void 0?l.subject={termType:Cl,value:a[1]}:l.subject={termType:Yd,value:a[2]},l.predicate={termType:Cl,value:a[3]},a[4]!==void 0?l.object={termType:Cl,value:a[4]}:a[5]!==void 0?l.object={termType:Yd,value:a[5]}:(l.object={termType:LE,value:void 0,datatype:{termType:Cl}},a[7]!==void 0?l.object.datatype.value=a[7]:a[8]!==void 0?(l.object.datatype.value=xA,l.object.language=a[8]):l.object.datatype.value=AA,l.object.value=y1e(a[6])),a[9]!==void 0?l.graph={termType:Cl,value:a[9]}:a[10]!==void 0?l.graph={termType:Yd,value:a[10]}:l.graph={termType:Sz,value:""},!(l.graph.value in n))n[l.graph.value]=[l],r.push(l);else{let u=!0;const f=n[l.graph.value];for(const c of f)if(p1e(c,l)){u=!1;break}u&&(f.push(l),r.push(l))}}return r}static serialize(t){Array.isArray(t)||(t=FE.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(FE.serializeQuad(n));return r.sort().join("")}static serializeQuadComponents(t,r,n,i){let o="";return t.termType===Cl?o+=`<${t.value}>`:o+=`${t.value}`,o+=` <${r.value}> `,n.termType===Cl?o+=`<${n.value}>`:n.termType===Yd?o+=n.value:(o+=`"${g1e(n.value)}"`,n.datatype.value===xA?n.language&&(o+=`@${n.language}`):n.datatype.value!==AA&&(o+=`^^<${n.datatype.value}>`)),i.termType===Cl?o+=` <${i.value}>`:i.termType===Yd&&(o+=` ${i.value}`),o+=` .
`,o}static serializeQuad(t){return FE.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(t){const r=[],n={"blank node":Yd,IRI:Cl,literal:LE};for(const i in t)t[i].forEach(s=>{const a={};for(const l in s){const u=s[l],f={termType:n[u.type],value:u.value};f.termType===LE&&(f.datatype={termType:Cl},"datatype"in u&&(f.datatype.value=u.datatype),"language"in u?("datatype"in u||(f.datatype.value=xA),f.language=u.language):"datatype"in u||(f.datatype.value=AA)),a[l]=f}i==="@default"?a.graph={termType:Sz,value:""}:a.graph={termType:i.startsWith("_:")?Yd:Cl,value:i},r.push(a)});return r}};function p1e(e,t){return!(e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType)||!(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value)?!1:e.object.termType!==LE?!0:e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value}const m1e=/["\\\n\r]/g;function g1e(e){return e.replace(m1e,function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const v1e=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function y1e(e){return e.replace(v1e,function(t,r,n,i){if(r)switch(r){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(i)throw new Error("Unsupported U escape")})}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const Tz=Xj,w1e=qT,b1e=M5,$z=Qj;var L5=class{constructor({createMessageDigest:t=()=>new w1e("sha256"),canonicalIdMap:r=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new Tz("_:c14n",r),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}async main(t){this.deepIterations=new Map,this.quads=t;for(const l of t)this._addBlankNodeQuadInfo({quad:l,component:l.subject}),this._addBlankNodeQuadInfo({quad:l,component:l.object}),this._addBlankNodeQuadInfo({quad:l,component:l.graph});const r=new Map,n=[...this.blankNodeInfo.keys()];let i=0;for(const l of n)++i%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:l,hashToBlankNodes:r});const o=[...r.keys()].sort(),s=[];for(const l of o){const u=r.get(l);if(u.length>1){s.push(u);continue}const f=u[0];this.canonicalIssuer.getId(f)}for(const l of s){const u=[];for(const f of l){if(this.canonicalIssuer.hasId(f))continue;const c=new Tz("_:b");c.getId(f);const h=await this.hashNDegreeQuads(f,c);u.push(h)}u.sort(_1e);for(const f of u){const c=f.issuer.getOldIds();for(const h of c)this.canonicalIssuer.getId(h)}}const a=[];for(const l of this.quads){const u=$z.serializeQuadComponents(this._componentWithCanonicalId(l.subject),l.predicate,this._componentWithCanonicalId(l.object),this._componentWithCanonicalId(l.graph));a.push(u)}return a.sort(),a.join("")}async hashFirstDegreeQuads(t){const r=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const s of i){const a={subject:null,predicate:s.predicate,object:null,graph:null};a.subject=this.modifyFirstDegreeComponent(t,s.subject,"subject"),a.object=this.modifyFirstDegreeComponent(t,s.object,"object"),a.graph=this.modifyFirstDegreeComponent(t,s.graph,"graph"),r.push($z.serializeQuad(a))}r.sort();const o=this.createMessageDigest();for(const s of r)o.update(s);return n.hash=await o.digest(),n.hash}async hashRelatedBlankNode(t,r,n,i){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):n.hasId(t)?o=n.getId(t):o=this.blankNodeInfo.get(t).hash;const s=this.createMessageDigest();return s.update(i),i!=="g"&&s.update(this.getRelatedPredicate(r)),s.update(o),s.digest()}async hashNDegreeQuads(t,r){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const i=this.createMessageDigest(),o=await this.createHashToRelated(t,r),s=[...o.keys()].sort();for(const a of s){i.update(a);let l="",u;const f=new b1e(o.get(a));let c=0;for(;f.hasNext();){const h=f.next();++c%3===0&&await this._yield();let m=r.clone(),g="";const _=[];let v=!1;for(const p of h)if(this.canonicalIssuer.hasId(p)?g+=this.canonicalIssuer.getId(p):(m.hasId(p)||_.push(p),g+=m.getId(p)),l.length!==0&&g>l){v=!0;break}if(!v){for(const p of _){const E=await this.hashNDegreeQuads(p,m);if(g+=m.getId(p),g+=`<${E.hash}>`,m=E.issuer,l.length!==0&&g>l){v=!0;break}}v||(l.length===0||g<l)&&(l=g,u=m)}}i.update(l),r=u}return{hash:await i.digest(),issuer:r}}modifyFirstDegreeComponent(t,r){return r.termType!=="BlankNode"?r:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}async createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;let o=0;for(const s of i)++o%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:s,component:s.subject,position:"s",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:s,component:s.object,position:"o",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:s,component:s.graph,position:"g",id:t,issuer:r,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:t,hashToBlankNodes:r}){const n=await this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:r}){if(r.termType!=="BlankNode")return;const n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash({quad:t,component:r,position:n,id:i,issuer:o,hashToRelated:s}){if(!(r.termType==="BlankNode"&&r.value!==i))return;const a=r.value,l=await this.hashRelatedBlankNode(a,t,o,n),u=s.get(l);u?u.push(a):s.set(l,[a])}_componentWithCanonicalId(t){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}async _yield(){return new Promise(t=>setImmediate(t))}};function _1e(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const E1e=qT,S1e=L5;var T1e=class extends S1e{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new E1e("sha1")}modifyFirstDegreeComponent(t,r,n){return r.termType!=="BlankNode"?r:n==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}async createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;let o=0;for(const s of i){let a,l;if(s.subject.termType==="BlankNode"&&s.subject.value!==t)l=s.subject.value,a="p";else if(s.object.termType==="BlankNode"&&s.object.value!==t)l=s.object.value,a="r";else continue;++o%100===0&&await this._yield();const u=await this.hashRelatedBlankNode(l,s,r,a),f=n.get(u);f?f.push(l):n.set(u,[l])}return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const xz=Xj,$1e=qT,x1e=M5,Az=Qj;var F5=class{constructor({createMessageDigest:t=()=>new $1e("sha256"),canonicalIdMap:r=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new xz("_:c14n",r),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(const a of t)this._addBlankNodeQuadInfo({quad:a,component:a.subject}),this._addBlankNodeQuadInfo({quad:a,component:a.object}),this._addBlankNodeQuadInfo({quad:a,component:a.graph});const r=new Map,n=[...this.blankNodeInfo.keys()];for(const a of n)this._hashAndTrackBlankNode({id:a,hashToBlankNodes:r});const i=[...r.keys()].sort(),o=[];for(const a of i){const l=r.get(a);if(l.length>1){o.push(l);continue}const u=l[0];this.canonicalIssuer.getId(u)}for(const a of o){const l=[];for(const u of a){if(this.canonicalIssuer.hasId(u))continue;const f=new xz("_:b");f.getId(u);const c=this.hashNDegreeQuads(u,f);l.push(c)}l.sort(A1e);for(const u of l){const f=u.issuer.getOldIds();for(const c of f)this.canonicalIssuer.getId(c)}}const s=[];for(const a of this.quads){const l=Az.serializeQuadComponents(this._componentWithCanonicalId({component:a.subject}),a.predicate,this._componentWithCanonicalId({component:a.object}),this._componentWithCanonicalId({component:a.graph}));s.push(l)}return s.sort(),s.join("")}hashFirstDegreeQuads(t){const r=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const s of i){const a={subject:null,predicate:s.predicate,object:null,graph:null};a.subject=this.modifyFirstDegreeComponent(t,s.subject,"subject"),a.object=this.modifyFirstDegreeComponent(t,s.object,"object"),a.graph=this.modifyFirstDegreeComponent(t,s.graph,"graph"),r.push(Az.serializeQuad(a))}r.sort();const o=this.createMessageDigest();for(const s of r)o.update(s);return n.hash=o.digest(),n.hash}hashRelatedBlankNode(t,r,n,i){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):n.hasId(t)?o=n.getId(t):o=this.blankNodeInfo.get(t).hash;const s=this.createMessageDigest();return s.update(i),i!=="g"&&s.update(this.getRelatedPredicate(r)),s.update(o),s.digest()}hashNDegreeQuads(t,r){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const i=this.createMessageDigest(),o=this.createHashToRelated(t,r),s=[...o.keys()].sort();for(const a of s){i.update(a);let l="",u;const f=new x1e(o.get(a));for(;f.hasNext();){const c=f.next();let h=r.clone(),m="";const g=[];let _=!1;for(const v of c)if(this.canonicalIssuer.hasId(v)?m+=this.canonicalIssuer.getId(v):(h.hasId(v)||g.push(v),m+=h.getId(v)),l.length!==0&&m>l){_=!0;break}if(!_){for(const v of g){const p=this.hashNDegreeQuads(v,h);if(m+=h.getId(v),m+=`<${p.hash}>`,h=p.issuer,l.length!==0&&m>l){_=!0;break}}_||(l.length===0||m<l)&&(l=m,u=h)}}i.update(l),r=u}return{hash:i.digest(),issuer:r}}modifyFirstDegreeComponent(t,r){return r.termType!=="BlankNode"?r:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const o of i)this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:t,issuer:r,hashToRelated:n});return n}_hashAndTrackBlankNode({id:t,hashToBlankNodes:r}){const n=this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:r}){if(r.termType!=="BlankNode")return;const n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:r,position:n,id:i,issuer:o,hashToRelated:s}){if(!(r.termType==="BlankNode"&&r.value!==i))return;const a=r.value,l=this.hashRelatedBlankNode(a,t,o,n),u=s.get(l);u?u.push(a):s.set(l,[a])}_componentWithCanonicalId({component:t}){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}};function A1e(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const O1e=qT,P1e=F5;var R1e=class extends P1e{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new O1e("sha1")}modifyFirstDegreeComponent(t,r,n){return r.termType!=="BlankNode"?r:n==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const o of i){let s,a;if(o.subject.termType==="BlankNode"&&o.subject.value!==t)a=o.subject.value,s="p";else if(o.object.termType==="BlankNode"&&o.object.value!==t)a=o.object.value,s="r";else continue;const l=this.hashRelatedBlankNode(a,o,r,s),u=n.get(l);u?u.push(a):n.set(l,[a])}return n}};const N1e={},I1e=Object.freeze(Object.defineProperty({__proto__:null,default:N1e},Symbol.toStringTag,{value:"Module"})),C1e=EC(I1e);(function(e){const t=L5,r=T1e,n=F5,i=R1e;let o;try{o=C1e}catch{}function s(a){return Array.isArray(a)?a:e.NQuads.legacyDatasetToQuads(a)}e.NQuads=Qj,e.IdentifierIssuer=Xj,e._rdfCanonizeNative=function(a){return a&&(o=a),o},e.canonize=async function(a,l){const u=s(a);if(l.useNative){if(!o)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((f,c)=>o.canonize(u,l,(h,m)=>h?c(h):f(m)))}if(l.algorithm==="URDNA2015")return new t(l).main(u);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new r(l).main(u)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},e._canonizeSync=function(a,l){const u=s(a);if(l.useNative){if(!o)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return o.canonizeSync(u,l)}if(l.algorithm==="URDNA2015")return new n(l).main(u);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new i(l).main(u)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(j5);var Zj=j5;const pl={};var Pa=pl;pl.isArray=Array.isArray;pl.isBoolean=e=>typeof e=="boolean"||Object.prototype.toString.call(e)==="[object Boolean]";pl.isDouble=e=>pl.isNumber(e)&&(String(e).indexOf(".")!==-1||Math.abs(e)>=1e21);pl.isEmptyObject=e=>pl.isObject(e)&&Object.keys(e).length===0;pl.isNumber=e=>typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]";pl.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e);pl.isObject=e=>Object.prototype.toString.call(e)==="[object Object]";pl.isString=e=>typeof e=="string"||Object.prototype.toString.call(e)==="[object String]";pl.isUndefined=e=>typeof e>"u";const Jh=Pa,Lc={};var Wc=Lc;Lc.isSubject=e=>Jh.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)?Object.keys(e).length>1||!("@id"in e):!1;Lc.isSubjectReference=e=>Jh.isObject(e)&&Object.keys(e).length===1&&"@id"in e;Lc.isValue=e=>Jh.isObject(e)&&"@value"in e;Lc.isList=e=>Jh.isObject(e)&&"@list"in e;Lc.isGraph=e=>Jh.isObject(e)&&"@graph"in e&&Object.keys(e).filter(t=>t!=="@id"&&t!=="@index").length===1;Lc.isSimpleGraph=e=>Lc.isGraph(e)&&!("@id"in e);Lc.isBlankNode=e=>{if(Jh.isObject(e)){if("@id"in e){const t=e["@id"];return!Jh.isString(t)||t.indexOf("_:")===0}return Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}return!1};var vl=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",r="jsonld.Error",n={}){super(t),this.name=r,this.message=t,this.details=n}};const Fy=Wc,Bo=Pa,B5=Zj.IdentifierIssuer,k1e=vl,j1e=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,D1e=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,M1e=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,L1e=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,F1e=/^@[a-zA-Z]+$/,Oz={headers:{accept:"application/ld+json, application/json"}},Rn={};var yl=Rn;Rn.IdentifierIssuer=B5;Rn.REGEX_BCP47=j1e;Rn.REGEX_KEYWORD=F1e;Rn.clone=function(e){if(e&&typeof e=="object"){let t;if(Bo.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=Rn.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,Rn.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(Rn.clone(r))}else if(Bo.isObject(e)){t={};for(const r in e)t[r]=Rn.clone(e[r])}else t=e.toString();return t}return e};Rn.asArray=function(e){return Array.isArray(e)?e:[e]};Rn.buildHeaders=(e={})=>{if(Object.keys(e).some(r=>r.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+Oz.headers.accept+'" is supported.');return Object.assign({Accept:Oz.headers.accept},e)};Rn.parseLinkHeader=e=>{const t={},r=e.match(D1e);for(let n=0;n<r.length;++n){let i=r[n].match(M1e);if(!i)continue;const o={target:i[1]},s=i[2];for(;i=L1e.exec(s);)o[i[1]]=i[2]===void 0?i[3]:i[2];const a=o.rel||"";Array.isArray(t[a])?t[a].push(o):t.hasOwnProperty(a)?t[a]=[t[a],o]:t[a]=o}return t};Rn.validateTypeValue=(e,t)=>{if(!Bo.isString(e)&&!(Bo.isArray(e)&&e.every(r=>Bo.isString(r)))){if(t&&Bo.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&Rn.asArray(e["@default"]).every(r=>Bo.isString(r)))return}throw new k1e('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}};Rn.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!Bo.isArray(r)||r.length>0}return!1};Rn.hasValue=(e,t,r)=>{if(Rn.hasProperty(e,t)){let n=e[t];const i=Fy.isList(n);if(Bo.isArray(n)||i){i&&(n=n["@list"]);for(let o=0;o<n.length;++o)if(Rn.compareValues(r,n[o]))return!0}else if(!Bo.isArray(r))return Rn.compareValues(r,n)}return!1};Rn.addValue=(e,t,r,n)=>{if(n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(Bo.isArray(r)){r.length===0&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(let i=0;i<r.length;++i)Rn.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){const i=!n.allowDuplicate&&Rn.hasValue(e,t,r);!Bo.isArray(e[t])&&(!i||n.propertyIsArray)&&(e[t]=[e[t]]),i||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r};Rn.getValues=(e,t)=>[].concat(e[t]||[]);Rn.removeProperty=(e,t)=>{delete e[t]};Rn.removeValue=(e,t,r,n)=>{n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1);const i=Rn.getValues(e,t).filter(o=>!Rn.compareValues(o,r));i.length===0?Rn.removeProperty(e,t):i.length===1&&!n.propertyIsArray?e[t]=i[0]:e[t]=i};Rn.relabelBlankNodes=(e,t)=>{t=t||{};const r=t.issuer||new B5("_:b");return BE(r,e)};Rn.compareValues=(e,t)=>e===t||Fy.isValue(e)&&Fy.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]?!0:Bo.isObject(e)&&"@id"in e&&Bo.isObject(t)&&"@id"in t?e["@id"]===t["@id"]:!1;Rn.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1;function BE(e,t){if(Bo.isArray(t))for(let r=0;r<t.length;++r)t[r]=BE(e,t[r]);else if(Fy.isList(t))t["@list"]=BE(e,t["@list"]);else if(Bo.isObject(t)){Fy.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const r=Object.keys(t).sort();for(let n=0;n<r.length;++n){const i=r[n];i!=="@id"&&(t[i]=BE(e,t[i]))}}return t}const Xd="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Zw="http://www.w3.org/2001/XMLSchema#";var eD={LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF_LIST:Xd+"List",RDF_FIRST:Xd+"first",RDF_REST:Xd+"rest",RDF_NIL:Xd+"nil",RDF_TYPE:Xd+"type",RDF_JSON_LITERAL:Xd+"JSON",RDF_LANGSTRING:Xd+"langString",XSD_BOOLEAN:Zw+"boolean",XSD_DOUBLE:Zw+"double",XSD_INTEGER:Zw+"integer",XSD_STRING:Zw+"string"},OA,Pz;function U5(){return Pz||(Pz=1,OA=class{constructor(){this._requests={}}wrapLoader(t){const r=this;return r._loader=t,function(){return r.add.apply(r,arguments)}}async add(t){let r=this._requests[t];if(r)return Promise.resolve(r);r=this._requests[t]=this._loader(t);try{return await r}finally{delete this._requests[t]}}}),OA}const VT=Pa,Uo={};var xd=Uo;Uo.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};Uo.parse=(e,t)=>{const r={},n=Uo.parsers[t||"full"],i=n.regex.exec(e);let o=n.keys.length;for(;o--;)r[n.keys[o]]=i[o]===void 0?null:i[o];return(r.scheme==="https"&&r.port==="443"||r.scheme==="http"&&r.port==="80")&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=Uo.removeDotSegments(r.path),r};Uo.prependBase=(e,t)=>{if(e===null||Uo.isAbsolute(t))return t;(!e||VT.isString(e))&&(e=Uo.parse(e||""));const r=Uo.parse(t),n={protocol:e.protocol||""};if(r.authority!==null)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,r.path==="")n.path=e.path,r.query!==null?n.query=r.query:n.query=e.query;else{if(r.path.indexOf("/")===0)n.path=r.path;else{let o=e.path;o=o.substr(0,o.lastIndexOf("/")+1),(o.length>0||e.authority)&&o.substr(-1)!=="/"&&(o+="/"),o+=r.path,n.path=o}n.query=r.query}r.path!==""&&(n.path=Uo.removeDotSegments(n.path));let i=n.protocol;return n.authority!==null&&(i+="//"+n.authority),i+=n.path,n.query!==null&&(i+="?"+n.query),r.fragment!==null&&(i+="#"+r.fragment),i===""&&(i="./"),i};Uo.removeBase=(e,t)=>{if(e===null)return t;(!e||VT.isString(e))&&(e=Uo.parse(e||""));let r="";if(e.href!==""?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),t.indexOf(r)!==0)return t;const n=Uo.parse(t.substr(r.length)),i=e.normalizedPath.split("/"),o=n.normalizedPath.split("/"),s=n.fragment||n.query?0:1;for(;i.length>0&&o.length>s&&i[0]===o[0];)i.shift(),o.shift();let a="";if(i.length>0){i.pop();for(let l=0;l<i.length;++l)a+="../"}return a+=o.join("/"),n.query!==null&&(a+="?"+n.query),n.fragment!==null&&(a+="#"+n.fragment),a===""&&(a="./"),a};Uo.removeDotSegments=e=>{if(e.length===0)return"";const t=e.split("/"),r=[];for(;t.length>0;){const n=t.shift(),i=t.length===0;if(n==="."){i&&r.push("");continue}if(n===".."){r.pop(),i&&r.push("");continue}r.push(n)}return e[0]==="/"&&r.length>0&&r[0]!==""&&r.unshift(""),r.length===1&&r[0]===""?"/":r.join("/")};const B1e=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;Uo.isAbsolute=e=>VT.isString(e)&&B1e.test(e);Uo.isRelative=e=>VT.isString(e);const{parseLinkHeader:U1e,buildHeaders:z1e}=yl,{LINK_HEADER_CONTEXT:q1e}=eD,ev=vl,V1e=U5(),{prependBase:H1e}=xd,W1e=/(^|(\r\n))link:/i;var G1e=({secure:e,headers:t={},xhr:r}={headers:{}})=>{return t=z1e(t),new V1e().wrapLoader(i);async function i(o){if(o.indexOf("http:")!==0&&o.indexOf("https:")!==0)throw new ev('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:o});if(e&&o.indexOf("https")!==0)throw new ev(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:o});let s;try{s=await K1e(r,o,t)}catch(c){throw new ev("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:o,cause:c})}if(s.status>=400)throw new ev("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:o,httpStatusCode:s.status});let a={contextUrl:null,documentUrl:o,document:s.response},l=null;const u=s.getResponseHeader("Content-Type");let f;if(W1e.test(s.getAllResponseHeaders())&&(f=s.getResponseHeader("Link")),f&&u!=="application/ld+json"){const c=U1e(f),h=c[q1e];if(Array.isArray(h))throw new ev("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:o});h&&(a.contextUrl=h.target),l=c.alternate,l&&l.type=="application/ld+json"&&!(u||"").match(/^application\/(\w*\+)?json$/)&&(a=await i(H1e(o,l.target)))}return a}};function K1e(e,t,r){e=e||XMLHttpRequest;const n=new e;return new Promise((i,o)=>{n.onload=()=>i(n),n.onerror=s=>o(s),n.open("GET",t,!0);for(const s in r)n.setRequestHeader(s,r[s]);n.send()})}const J1e=G1e,tD={};var Y1e=tD;tD.setupDocumentLoaders=function(e){typeof XMLHttpRequest<"u"&&(e.documentLoaders.xhr=J1e,e.useDocumentLoader("xhr"))};tD.setupGlobals=function(e){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})};var PA,Rz;function X1e(){return Rz||(Rz=1,PA=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),PA}var Q1e=Tn;Tn.Node=Yh;Tn.create=Tn;function Tn(e){var t=this;if(t instanceof Tn||(t=new Tn),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Tn.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Tn.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Tn.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Tn.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)eTe(this,arguments[e]);return this.length};Tn.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)tTe(this,arguments[e]);return this.length};Tn.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Tn.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Tn.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};Tn.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};Tn.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Tn.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Tn.prototype.map=function(e,t){t=t||this;for(var r=new Tn,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};Tn.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Tn,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};Tn.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};Tn.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};Tn.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Tn.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Tn.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Tn;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};Tn.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Tn;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};Tn.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var o=[],n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Z1e(this,i,r[n]);return o};Tn.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function Z1e(e,t,r){var n=t===e.head?new Yh(r,null,t,e):new Yh(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function eTe(e,t){e.tail=new Yh(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function tTe(e,t){e.head=new Yh(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Yh(e,t,r,n){if(!(this instanceof Yh))return new Yh(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{X1e()(Tn)}catch{}const rTe=Q1e,dh=Symbol("max"),_c=Symbol("length"),jp=Symbol("lengthCalculator"),Jv=Symbol("allowStale"),xh=Symbol("maxAge"),yc=Symbol("dispose"),Nz=Symbol("noDisposeOnSet"),so=Symbol("lruList"),Fl=Symbol("cache"),z5=Symbol("updateAgeOnGet"),RA=()=>1;class nTe{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[dh]=t.max||1/0;const r=t.length||RA;if(this[jp]=typeof r!="function"?RA:r,this[Jv]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[xh]=t.maxAge||0,this[yc]=t.dispose,this[Nz]=t.noDisposeOnSet||!1,this[z5]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[dh]=t||1/0,tv(this)}get max(){return this[dh]}set allowStale(t){this[Jv]=!!t}get allowStale(){return this[Jv]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[xh]=t,tv(this)}get maxAge(){return this[xh]}set lengthCalculator(t){typeof t!="function"&&(t=RA),t!==this[jp]&&(this[jp]=t,this[_c]=0,this[so].forEach(r=>{r.length=this[jp](r.value,r.key),this[_c]+=r.length})),tv(this)}get lengthCalculator(){return this[jp]}get length(){return this[_c]}get itemCount(){return this[so].length}rforEach(t,r){r=r||this;for(let n=this[so].tail;n!==null;){const i=n.prev;Iz(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[so].head;n!==null;){const i=n.next;Iz(this,t,n,r),n=i}}keys(){return this[so].toArray().map(t=>t.key)}values(){return this[so].toArray().map(t=>t.value)}reset(){this[yc]&&this[so]&&this[so].length&&this[so].forEach(t=>this[yc](t.key,t.value)),this[Fl]=new Map,this[so]=new rTe,this[_c]=0}dump(){return this[so].map(t=>f1(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[so]}set(t,r,n){if(n=n||this[xh],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,o=this[jp](r,t);if(this[Fl].has(t)){if(o>this[dh])return Im(this,this[Fl].get(t)),!1;const l=this[Fl].get(t).value;return this[yc]&&(this[Nz]||this[yc](t,l.value)),l.now=i,l.maxAge=n,l.value=r,this[_c]+=o-l.length,l.length=o,this.get(t),tv(this),!0}const s=new iTe(t,r,o,i,n);return s.length>this[dh]?(this[yc]&&this[yc](t,r),!1):(this[_c]+=s.length,this[so].unshift(s),this[Fl].set(t,this[so].head),tv(this),!0)}has(t){if(!this[Fl].has(t))return!1;const r=this[Fl].get(t).value;return!f1(this,r)}get(t){return NA(this,t,!0)}peek(t){return NA(this,t,!1)}pop(){const t=this[so].tail;return t?(Im(this,t),t.value):null}del(t){Im(this,this[Fl].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Fl].forEach((t,r)=>NA(this,r,!1))}}const NA=(e,t,r)=>{const n=e[Fl].get(t);if(n){const i=n.value;if(f1(e,i)){if(Im(e,n),!e[Jv])return}else r&&(e[z5]&&(n.value.now=Date.now()),e[so].unshiftNode(n));return i.value}},f1=(e,t)=>{if(!t||!t.maxAge&&!e[xh])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[xh]&&r>e[xh]},tv=e=>{if(e[_c]>e[dh])for(let t=e[so].tail;e[_c]>e[dh]&&t!==null;){const r=t.prev;Im(e,t),t=r}},Im=(e,t)=>{if(t){const r=t.value;e[yc]&&e[yc](r.key,r.value),e[_c]-=r.length,e[Fl].delete(r.key),e[so].removeNode(t)}};class iTe{constructor(t,r,n,i,o){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}}const Iz=(e,t,r,n)=>{let i=r.value;f1(e,i)&&(Im(e,r),e[Jv]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var q5=nTe;const oTe=q5,sTe=10;var aTe=class{constructor({document:t}){this.document=t,this.cache=new oTe({max:sTe})}getProcessed(t){return this.cache.get(t)}setProcessed(t,r){this.cache.set(t,r)}};const{isArray:KI,isObject:Yv,isString:d1}=Pa,{asArray:lTe}=yl,{prependBase:JI}=xd,Av=vl,Cz=aTe,kz=10;var uTe=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}async resolve({activeCtx:t,context:r,documentLoader:n,base:i,cycles:o=new Set}){r&&Yv(r)&&r["@context"]&&(r=r["@context"]),r=lTe(r);const s=[];for(const a of r){if(d1(a)){let f=this._get(a);f||(f=await this._resolveRemoteContext({activeCtx:t,url:a,documentLoader:n,base:i,cycles:o})),KI(f)?s.push(...f):s.push(f);continue}if(a===null){s.push(new Cz({document:null}));continue}Yv(a)||cTe(r);const l=JSON.stringify(a);let u=this._get(l);u||(u=new Cz({document:a}),this._cacheResolvedContext({key:l,resolved:u,tag:"static"})),s.push(u)}return s}_get(t){let r=this.perOpCache.get(t);if(!r){const n=this.sharedCache.get(t);n&&(r=n.get("static"),r&&this.perOpCache.set(t,r))}return r}_cacheResolvedContext({key:t,resolved:r,tag:n}){if(this.perOpCache.set(t,r),n!==void 0){let i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(n,r)}return r}async _resolveRemoteContext({activeCtx:t,url:r,documentLoader:n,base:i,cycles:o}){r=JI(i,r);const{context:s,remoteDoc:a}=await this._fetchContext({activeCtx:t,url:r,documentLoader:n,cycles:o});i=a.documentUrl||r,YI({context:s,base:i});const l=await this.resolve({activeCtx:t,context:s,documentLoader:n,base:i,cycles:o});return this._cacheResolvedContext({key:r,resolved:l,tag:a.tag}),l}async _fetchContext({activeCtx:t,url:r,documentLoader:n,cycles:i}){if(i.size>kz)throw new Av("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:kz});if(i.has(r))throw new Av("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:r});i.add(r);let o,s;try{s=await n(r),o=s.document||null,d1(o)&&(o=JSON.parse(o))}catch(a){throw new Av(`Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. URL: "${r}".`,"jsonld.InvalidUrl",{code:"loading remote context failed",url:r,cause:a})}if(!Yv(o))throw new Av(`Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. URL: "${r}".`,"jsonld.InvalidUrl",{code:"invalid remote context",url:r});return"@context"in o?o={"@context":o["@context"]}:o={"@context":{}},s.contextUrl&&(KI(o["@context"])||(o["@context"]=[o["@context"]]),o["@context"].push(s.contextUrl)),{context:o,remoteDoc:s}}};function cTe(e){throw new Av("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function YI({context:e,base:t}){if(!e)return;const r=e["@context"];if(d1(r)){e["@context"]=JI(t,r);return}if(KI(r)){for(let n=0;n<r.length;++n){const i=r[n];if(d1(i)){r[n]=JI(t,i);continue}Yv(i)&&YI({context:{"@context":i},base:t})}return}if(Yv(r))for(const n in r)YI({context:r[n],base:t})}var fTe=Zj.NQuads;const rD=vl,{isArray:dTe}=Pa,{asArray:V5}=yl,ya={};var A0=ya;ya.defaultEventHandler=null;ya.setupEventHandler=({options:e={}})=>{const t=[].concat(e.safe?ya.safeEventHandler:[],e.eventHandler?V5(e.eventHandler):[],ya.defaultEventHandler?ya.defaultEventHandler:[]);return t.length===0?null:t};ya.handleEvent=({event:e,options:t})=>{H5({event:e,handlers:t.eventHandler})};function H5({event:e,handlers:t}){let r=!0;for(let n=0;r&&n<t.length;++n){r=!1;const i=t[n];if(dTe(i))r=H5({event:e,handlers:i});else if(typeof i=="function")i({event:e,next:()=>{r=!0}});else if(typeof i=="object")e.code in i?i[e.code]({event:e,next:()=>{r=!0}}):r=!0;else throw new rD("Invalid event handler.","jsonld.InvalidEventHandler",{event:e})}return r}const hTe=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);ya.safeEventHandler=function({event:t,next:r}){if(t.level==="warning"&&hTe.has(t.code))throw new rD("Safe mode validation error.","jsonld.ValidationError",{event:t});r()};ya.logEventHandler=function({event:t,next:r}){console.log(`EVENT: ${t.message}`,{event:t}),r()};ya.logWarningEventHandler=function({event:t,next:r}){t.level==="warning"&&console.warn(`WARNING: ${t.message}`,{event:t}),r()};ya.unhandledEventHandler=function({event:t}){throw new rD("No handler for event.","jsonld.UnhandledEvent",{event:t})};ya.setDefaultEventHandler=function({eventHandler:e}={}){ya.defaultEventHandler=e?V5(e):null};const jz=yl,yr=vl,{isArray:W5,isObject:Bf,isString:js,isUndefined:pTe}=Pa,{isAbsolute:Dh,isRelative:mTe,prependBase:Xv}=xd,{handleEvent:Cm}=A0,{REGEX_BCP47:gTe,REGEX_KEYWORD:UE,asArray:G5,compareShortestLeast:vTe}=yl,eb=new Map,yTe=1e4,ni={};var up=ni;ni.process=async({activeCtx:e,localCtx:t,options:r,propagate:n=!0,overrideProtected:i=!1,cycles:o=new Set})=>{if(Bf(t)&&"@context"in t&&W5(t["@context"])&&(t=t["@context"]),G5(t).length===0)return e;const a=[],l=[({event:h,next:m})=>{a.push(h),m()}];r.eventHandler&&l.push(r.eventHandler);const u=r;r={...r,eventHandler:l};const f=await r.contextResolver.resolve({activeCtx:e,context:t,documentLoader:r.documentLoader,base:r.base});Bf(f[0].document)&&typeof f[0].document["@propagate"]=="boolean"&&(n=f[0].document["@propagate"]);let c=e;!n&&!c.previousContext&&(c=c.clone(),c.previousContext=e);for(const h of f){let{document:m}=h;if(e=c,m===null){if(!i&&Object.keys(e.protected).length!==0)throw new yr("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});c=e=ni.getInitialContext(r).clone();continue}const g=h.getProcessed(e);if(g){if(u.eventHandler)for(const v of g.events)Cm({event:v,options:u});c=e=g.context;continue}if(Bf(m)&&"@context"in m&&(m=m["@context"]),!Bf(m))throw new yr("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:m});c=c.clone();const _=new Map;if("@version"in m){if(m["@version"]!==1.1)throw new yr("Unsupported JSON-LD version: "+m["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:m});if(e.processingMode&&e.processingMode==="json-ld-1.0")throw new yr("@version: "+m["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:m});c.processingMode="json-ld-1.1",c["@version"]=m["@version"],_.set("@version",!0)}if(c.processingMode=c.processingMode||e.processingMode,"@base"in m){let v=m["@base"];if(!(v===null||Dh(v)))if(mTe(v))v=Xv(c["@base"],v);else throw new yr('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:m});c["@base"]=v,_.set("@base",!0)}if("@vocab"in m){const v=m["@vocab"];if(v===null)delete c["@vocab"];else if(js(v)){if(!Dh(v)&&ni.processingMode(c,1))throw new yr('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:m});{const p=mm(c,v,{vocab:!0,base:!0},void 0,void 0,r);Dh(p)||r.eventHandler&&Cm({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:p}},options:r}),c["@vocab"]=p}}else throw new yr('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:m});_.set("@vocab",!0)}if("@language"in m){const v=m["@language"];if(v===null)delete c["@language"];else if(js(v))v.match(gTe)||r.eventHandler&&Cm({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:v}},options:r}),c["@language"]=v.toLowerCase();else throw new yr('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:m});_.set("@language",!0)}if("@direction"in m){const v=m["@direction"];if(e.processingMode==="json-ld-1.0")throw new yr("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:m});if(v===null)delete c["@direction"];else{if(v!=="ltr"&&v!=="rtl")throw new yr('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:m});c["@direction"]=v}_.set("@direction",!0)}if("@propagate"in m){const v=m["@propagate"];if(e.processingMode==="json-ld-1.0")throw new yr("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:m});if(typeof v!="boolean")throw new yr("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});_.set("@propagate",!0)}if("@import"in m){const v=m["@import"];if(e.processingMode==="json-ld-1.0")throw new yr("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:m});if(!js(v))throw new yr("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const p=await r.contextResolver.resolve({activeCtx:e,context:v,documentLoader:r.documentLoader,base:r.base});if(p.length!==1)throw new yr("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const E=p[0].getProcessed(e);if(E)m=E;else{const y=p[0].document;if("@import"in y)throw new yr("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const S in y)m.hasOwnProperty(S)||(m[S]=y[S]);p[0].setProcessed(e,m)}_.set("@import",!0)}_.set("@protected",m["@protected"]||!1);for(const v in m)if(ni.createTermDefinition({activeCtx:c,localCtx:m,term:v,defined:_,options:r,overrideProtected:i}),Bf(m[v])&&"@context"in m[v]){const p=m[v]["@context"];let E=!0;if(js(p)){const y=Xv(r.base,p);o.has(y)?E=!1:o.add(y)}if(E)try{await ni.process({activeCtx:c.clone(),localCtx:m[v]["@context"],overrideProtected:!0,options:r,cycles:o})}catch{throw new yr("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:m[v]["@context"],term:v})}}h.setProcessed(e,{context:c,events:a})}return c};ni.createTermDefinition=({activeCtx:e,localCtx:t,term:r,defined:n,options:i,overrideProtected:o=!1})=>{if(n.has(r)){if(n.get(r))return;throw new yr("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}n.set(r,!1);let s;if(t.hasOwnProperty(r)&&(s=t[r]),r==="@type"&&Bf(s)&&(s["@container"]||"@set")==="@set"&&ni.processingMode(e,1.1)){const m=["@container","@id","@protected"],g=Object.keys(s);if(g.length===0||g.some(_=>!m.includes(_)))throw new yr("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}else{if(ni.isKeyword(r))throw new yr("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(r.match(UE)){i.eventHandler&&Cm({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:r}},options:i});return}else if(r==="")throw new yr("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const a=e.mappings.get(r);e.mappings.has(r)&&e.mappings.delete(r);let l=!1;if((js(s)||s===null)&&(l=!0,s={"@id":s}),!Bf(s))throw new yr("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const u={};e.mappings.set(r,u),u.reverse=!1;const f=["@container","@id","@language","@reverse","@type"];ni.processingMode(e,1.1)&&f.push("@context","@direction","@index","@nest","@prefix","@protected");for(const m in s)if(!f.includes(m))throw new yr("Invalid JSON-LD syntax; a term definition must not contain "+m,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const c=r.indexOf(":");if(u._termHasColon=c>0,"@reverse"in s){if("@id"in s)throw new yr("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in s)throw new yr("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const m=s["@reverse"];if(!js(m))throw new yr("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(m.match(UE)){i.eventHandler&&Cm({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:m}},options:i}),a?e.mappings.set(r,a):e.mappings.delete(r);return}const g=mm(e,m,{vocab:!0,base:!1},t,n,i);if(!Dh(g))throw new yr("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});u["@id"]=g,u.reverse=!0}else if("@id"in s){let m=s["@id"];if(m&&!js(m))throw new yr("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(m===null)u["@id"]=null;else if(!ni.isKeyword(m)&&m.match(UE)){i.eventHandler&&Cm({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:m}},options:i}),a?e.mappings.set(r,a):e.mappings.delete(r);return}else if(m!==r){if(m=mm(e,m,{vocab:!0,base:!1},t,n,i),!Dh(m)&&!ni.isKeyword(m))throw new yr("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(r.match(/(?::[^:])|\//)){const g=new Map(n).set(r,!0);if(mm(e,r,{vocab:!0,base:!1},t,g,i)!==m)throw new yr("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}u["@id"]=m,u._prefix=l&&!u._termHasColon&&m.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in u))if(u._termHasColon){const m=r.substr(0,c);if(t.hasOwnProperty(m)&&ni.createTermDefinition({activeCtx:e,localCtx:t,term:m,defined:n,options:i}),e.mappings.has(m)){const g=r.substr(c+1);u["@id"]=e.mappings.get(m)["@id"]+g}else u["@id"]=r}else if(r==="@type")u["@id"]=r;else{if(!("@vocab"in e))throw new yr("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});u["@id"]=e["@vocab"]+r}if((s["@protected"]===!0||n.get("@protected")===!0&&s["@protected"]!==!1)&&(e.protected[r]=!0,u.protected=!0),n.set(r,!0),"@type"in s){let m=s["@type"];if(!js(m))throw new yr("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(m==="@json"||m==="@none"){if(ni.processingMode(e,1))throw new yr(`Invalid JSON-LD syntax; an @context @type value must not be "${m}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if(m!=="@id"&&m!=="@vocab"){if(m=mm(e,m,{vocab:!0,base:!1},t,n,i),!Dh(m))throw new yr("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(m.indexOf("_:")===0)throw new yr("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}u["@type"]=m}if("@container"in s){const m=js(s["@container"])?[s["@container"]]:s["@container"]||[],g=["@list","@set","@index","@language"];let _=!0;const v=m.includes("@set");if(ni.processingMode(e,1.1)){if(g.push("@graph","@id","@type"),m.includes("@list")){if(m.length!==1)throw new yr("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(m.includes("@graph")){if(m.some(p=>p!=="@graph"&&p!=="@id"&&p!=="@index"&&p!=="@set"))throw new yr("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else _&=m.length<=(v?2:1);if(m.includes("@type")&&(u["@type"]=u["@type"]||"@id",!["@id","@vocab"].includes(u["@type"])))throw new yr("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else _&=!W5(s["@container"]),_&=m.length<=1;if(_&=m.every(p=>g.includes(p)),_&=!(v&&m.includes("@list")),!_)throw new yr("Invalid JSON-LD syntax; @context @container value must be one of the following: "+g.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(u.reverse&&!m.every(p=>["@index","@set"].includes(p)))throw new yr("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});u["@container"]=m}if("@index"in s){if(!("@container"in s)||!u["@container"].includes("@index"))throw new yr(`Invalid JSON-LD syntax; @index without @index in @container: "${s["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!js(s["@index"])||s["@index"].indexOf("@")===0)throw new yr(`Invalid JSON-LD syntax; @index must expand to an IRI: "${s["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});u["@index"]=s["@index"]}if("@context"in s&&(u["@context"]=s["@context"]),"@language"in s&&!("@type"in s)){let m=s["@language"];if(m!==null&&!js(m))throw new yr("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});m!==null&&(m=m.toLowerCase()),u["@language"]=m}if("@prefix"in s){if(r.match(/:|\//))throw new yr("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(ni.isKeyword(u["@id"]))throw new yr("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(typeof s["@prefix"]=="boolean")u._prefix=s["@prefix"]===!0;else throw new yr("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in s){const m=s["@direction"];if(m!==null&&m!=="ltr"&&m!=="rtl")throw new yr('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});u["@direction"]=m}if("@nest"in s){const m=s["@nest"];if(!js(m)||m!=="@nest"&&m.indexOf("@")===0)throw new yr("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});u["@nest"]=m}// disallow aliasing @context and @preserve
const h=u["@id"];if(h==="@context"||h==="@preserve")throw new yr("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(a&&a.protected&&!o&&(e.protected[r]=!0,u.protected=!0,!XI(a,u)))throw new yr("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r})};ni.expandIri=(e,t,r,n)=>mm(e,t,r,void 0,void 0,n);function mm(e,t,r,n,i,o){if(t===null||!js(t)||ni.isKeyword(t))return t;if(t.match(UE))return null;if(n&&n.hasOwnProperty(t)&&i.get(t)!==!0&&ni.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:o}),r=r||{},r.vocab){const a=e.mappings.get(t);if(a===null)return null;if(Bf(a)&&"@id"in a)return a["@id"]}const s=t.indexOf(":");if(s>0){const a=t.substr(0,s),l=t.substr(s+1);if(a==="_"||l.indexOf("//")===0)return t;n&&n.hasOwnProperty(a)&&ni.createTermDefinition({activeCtx:e,localCtx:n,term:a,defined:i,options:o});const u=e.mappings.get(a);if(u&&u._prefix)return u["@id"]+l;if(Dh(t))return t}if(r.vocab&&"@vocab"in e)t=e["@vocab"]+t;else if(r.base){let a,l;"@base"in e?e["@base"]?(l=Xv(o.base,e["@base"]),a=Xv(l,t)):(l=e["@base"],a=t):(l=o.base,a=Xv(o.base,t)),t=a}return t}ni.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),r=eb.get(t);if(r)return r;const n={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:i,clone:a,revertToPreviousContext:l,protected:{}};return eb.size===yTe&&eb.clear(),eb.set(t,n),n;function i(){const u=this;if(u.inverse)return u.inverse;const f=u.inverse={},c=u.fastCurieMap={},h={},m=(u["@language"]||"@none").toLowerCase(),g=u["@direction"],_=u.mappings,v=[..._.keys()].sort(vTe);for(const p of v){const E=_.get(p);if(E===null)continue;let y=E["@container"]||"@none";if(y=[].concat(y).sort().join(""),E["@id"]===null)continue;const S=G5(E["@id"]);for(const T of S){let $=f[T];const d=ni.isKeyword(T);if($)!d&&!E._termHasColon&&h[T].push(p);else if(f[T]=$={},!d&&!E._termHasColon){h[T]=[p];const x={iri:T,terms:h[T]};T[0]in c?c[T[0]].push(x):c[T[0]]=[x]}if($[y]||($[y]={"@language":{},"@type":{},"@any":{}}),$=$[y],s(p,$["@any"],"@none"),E.reverse)s(p,$["@type"],"@reverse");else if(E["@type"]==="@none")s(p,$["@any"],"@none"),s(p,$["@language"],"@none"),s(p,$["@type"],"@none");else if("@type"in E)s(p,$["@type"],E["@type"]);else if("@language"in E&&"@direction"in E){const x=E["@language"],O=E["@direction"];x&&O?s(p,$["@language"],`${x}_${O}`.toLowerCase()):x?s(p,$["@language"],x.toLowerCase()):O?s(p,$["@language"],`_${O}`):s(p,$["@language"],"@null")}else"@language"in E?s(p,$["@language"],(E["@language"]||"@null").toLowerCase()):"@direction"in E?E["@direction"]?s(p,$["@language"],`_${E["@direction"]}`):s(p,$["@language"],"@none"):g?(s(p,$["@language"],`_${g}`),s(p,$["@language"],"@none"),s(p,$["@type"],"@none")):(s(p,$["@language"],m),s(p,$["@language"],"@none"),s(p,$["@type"],"@none"))}}for(const p in c)o(c,p,1);return f}function o(u,f,c){const h=u[f],m=u[f]={};let g,_;for(const v of h)g=v.iri,c>=g.length?_="":_=g[c],_ in m?m[_].push(v):m[_]=[v];for(const v in m)v!==""&&o(m,v,c+1)}function s(u,f,c){f.hasOwnProperty(c)||(f[c]=u)}function a(){const u={};return u.mappings=jz.clone(this.mappings),u.clone=this.clone,u.inverse=null,u.getInverse=this.getInverse,u.protected=jz.clone(this.protected),this.previousContext&&(u.previousContext=this.previousContext.clone()),u.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(u["@base"]=this["@base"]),"@language"in this&&(u["@language"]=this["@language"]),"@vocab"in this&&(u["@vocab"]=this["@vocab"]),u}function l(){return this.previousContext?this.previousContext.clone():this}};ni.getContextValue=(e,t,r)=>{if(t===null)return r==="@context"?void 0:null;if(e.mappings.has(t)){const n=e.mappings.get(t);if(pTe(r))return n;if(n.hasOwnProperty(r))return n[r]}if(r==="@language"&&r in e||r==="@direction"&&r in e)return e[r];if(r!=="@context")return null};ni.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():e.processingMode==="json-ld-1.0";ni.isKeyword=e=>{if(!js(e)||e[0]!=="@")return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function XI(e,t){if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;++o)if(!XI(e[o],t[o]))return!1;return!0}const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const o in e){let s=e[o],a=t[o];if(o==="@container"&&Array.isArray(s)&&Array.isArray(a)&&(s=s.slice().sort(),a=a.slice().sort()),!XI(s,a))return!1}return!0}const li=vl,{isArray:sl,isObject:Wa,isEmptyObject:QI,isString:Mo,isUndefined:h1}=Pa,{isList:IA,isValue:ZI,isGraph:wTe,isSubject:bTe}=Wc,{expandIri:Bi,getContextValue:ga,isKeyword:eC,process:Qv,processingMode:zE}=up,{isAbsolute:qE}=xd,{REGEX_BCP47:K5,REGEX_KEYWORD:_Te,addValue:da,asArray:Ml,getValues:ETe,validateTypeValue:STe}=yl,{handleEvent:tl}=A0,Hf={};var TTe=Hf;Hf.expand=async({activeCtx:e,activeProperty:t=null,element:r,options:n={},insideList:i=!1,insideIndex:o=!1,typeScopedContext:s=null})=>{if(r==null)return null;if(t==="@default"&&(n=Object.assign({},n,{isFrame:!1})),!sl(r)&&!Wa(r))return!i&&(t===null||Bi(e,t,{vocab:!0},n)==="@graph")?(n.eventHandler&&tl({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:r}},options:n}),null):X5({activeCtx:e,activeProperty:t,value:r,options:n});if(sl(r)){let g=[];const _=ga(e,t,"@container")||[];i=i||_.includes("@list");for(let v=0;v<r.length;++v){let p=await Hf.expand({activeCtx:e,activeProperty:t,element:r[v],options:n,insideIndex:o,typeScopedContext:s});i&&sl(p)&&(p={"@list":p}),p!==null&&(sl(p)?g=g.concat(p):g.push(p))}return g}const a=Bi(e,t,{vocab:!0},n),l=ga(e,t,"@context");s=s||(e.previousContext?e:null);let u=Object.keys(r).sort(),f=!o;if(f&&s&&u.length<=2&&!u.includes("@context"))for(const g of u){const _=Bi(s,g,{vocab:!0},n);if(_==="@value"){f=!1,e=s;break}if(_==="@id"&&u.length===1){f=!1;break}}f&&(e=e.revertToPreviousContext()),h1(l)||(e=await Qv({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:n})),"@context"in r&&(e=await Qv({activeCtx:e,localCtx:r["@context"],options:n})),s=e;let c=null;for(const g of u)if(Bi(e,g,{vocab:!0},n)==="@type"){c=c||g;const v=r[g],p=Array.isArray(v)?v.length>1?v.slice().sort():v:[v];for(const E of p){const y=ga(s,E,"@context");h1(y)||(e=await Qv({activeCtx:e,localCtx:y,options:n,propagate:!1}))}}let h={};await Y5({activeCtx:e,activeProperty:t,expandedActiveProperty:a,element:r,expandedParent:h,options:n,insideList:i,typeKey:c,typeScopedContext:s}),u=Object.keys(h);let m=u.length;if("@value"in h){if("@type"in h&&("@language"in h||"@direction"in h))throw new li('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});let g=m-1;if("@type"in h&&(g-=1),"@index"in h&&(g-=1),"@language"in h&&(g-=1),"@direction"in h&&(g-=1),g!==0)throw new li('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});const _=h["@value"]===null?[]:Ml(h["@value"]),v=ETe(h,"@type");if(!(zE(e,1.1)&&v.includes("@json")&&v.length===1))if(_.length===0)n.eventHandler&&tl({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:h}},options:n}),h=null;else{if(!_.every(p=>Mo(p)||QI(p))&&"@language"in h)throw new li("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:h});if(!v.every(p=>qE(p)&&!(Mo(p)&&p.indexOf("_:")===0)||QI(p)))throw new li('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:h})}}else if("@type"in h&&!sl(h["@type"]))h["@type"]=[h["@type"]];else if("@set"in h||"@list"in h){if(m>1&&!(m===2&&"@index"in h))throw new li('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:h});"@set"in h&&(h=h["@set"],u=Object.keys(h),m=u.length)}else m===1&&"@language"in h&&(n.eventHandler&&tl({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:h}},options:n}),h=null);return Wa(h)&&!n.keepFreeFloatingNodes&&!i&&(t===null||a==="@graph"||(ga(e,t,"@container")||[]).includes("@graph"))&&(h=J5({value:h,count:m,options:n})),h};function J5({value:e,count:t,options:r}){if(t===0||"@value"in e||"@list"in e||t===1&&"@id"in e){if(r.eventHandler){let n,i;t===0?(n="empty object",i="Dropping empty object."):"@value"in e?(n="object with only @value",i="Dropping object with only @value."):"@list"in e?(n="object with only @list",i="Dropping object with only @list."):t===1&&"@id"in e&&(n="object with only @id",i="Dropping object with only @id."),tl({event:{type:["JsonLdEvent"],code:n,level:"warning",message:i,details:{value:e}},options:r})}return null}return e}async function Y5({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:n,expandedParent:i,options:o={},insideList:s,typeKey:a,typeScopedContext:l}){const u=Object.keys(n).sort(),f=[];let c;const h=n[a]&&Bi(e,sl(n[a])?n[a][0]:n[a],{vocab:!0},{...o,typeExpansion:!0})==="@json";for(const m of u){let g=n[m],_;if(m==="@context")continue;const v=Bi(e,m,{vocab:!0},o);if(v===null||!(qE(v)||eC(v))){o.eventHandler&&tl({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:m,expandedProperty:v}},options:o});continue}if(eC(v)){if(r==="@reverse")throw new li("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:g});if(v in i&&v!=="@included"&&v!=="@type")throw new li("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:v})}if(v==="@id"){if(!Mo(g)){if(!o.isFrame)throw new li('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:g});if(Wa(g)){if(!QI(g))throw new li('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}else if(sl(g)){if(!g.every(S=>Mo(S)))throw new li('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}else throw new li('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}da(i,"@id",Ml(g).map(S=>{if(Mo(S)){const T=Bi(e,S,{base:!0},o);return o.eventHandler&&(T===null?tl(S===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:S}},options:o}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:S}},options:o}):qE(T)||tl({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:S,expandedId:T}},options:o})),T}return S}),{propertyIsArray:o.isFrame});continue}if(v==="@type"){Wa(g)&&(g=Object.fromEntries(Object.entries(g).map(([S,T])=>[Bi(l,S,{vocab:!0}),Ml(T).map($=>Bi(l,$,{base:!0,vocab:!0},{...o,typeExpansion:!0}))]))),STe(g,o.isFrame),da(i,"@type",Ml(g).map(S=>{if(Mo(S)){const T=Bi(l,S,{base:!0,vocab:!0},{...o,typeExpansion:!0});return T!=="@json"&&!qE(T)&&o.eventHandler&&tl({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:S}},options:o}),T}return S}),{propertyIsArray:!!o.isFrame});continue}if(v==="@included"&&zE(e,1.1)){const S=Ml(await Hf.expand({activeCtx:e,activeProperty:t,element:g,options:o}));if(!S.every(T=>bTe(T)))throw new li("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:g});da(i,"@included",S,{propertyIsArray:!0});continue}if(v==="@graph"&&!(Wa(g)||sl(g)))throw new li('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:g});if(v==="@value"){c=g,h&&zE(e,1.1)?i["@value"]=g:da(i,"@value",g,{propertyIsArray:o.isFrame});continue}if(v==="@language"){if(g===null)continue;if(!Mo(g)&&!o.isFrame)throw new li('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:g});g=Ml(g).map(S=>Mo(S)?S.toLowerCase():S);for(const S of g)Mo(S)&&!S.match(K5)&&o.eventHandler&&tl({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:S}},options:o});da(i,"@language",g,{propertyIsArray:o.isFrame});continue}if(v==="@direction"){if(!Mo(g)&&!o.isFrame)throw new li('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:g});g=Ml(g);for(const S of g)if(Mo(S)&&S!=="ltr"&&S!=="rtl")throw new li('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:g});da(i,"@direction",g,{propertyIsArray:o.isFrame});continue}if(v==="@index"){if(!Mo(g))throw new li('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:g});da(i,"@index",g);continue}if(v==="@reverse"){if(!Wa(g))throw new li('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:g});if(_=await Hf.expand({activeCtx:e,activeProperty:"@reverse",element:g,options:o}),"@reverse"in _)for(const T in _["@reverse"])da(i,T,_["@reverse"][T],{propertyIsArray:!0});let S=i["@reverse"]||null;for(const T in _){if(T==="@reverse")continue;S===null&&(S=i["@reverse"]={}),da(S,T,[],{propertyIsArray:!0});const $=_[T];for(let d=0;d<$.length;++d){const x=$[d];if(ZI(x)||IA(x))throw new li('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:_});da(S,T,x,{propertyIsArray:!0})}}continue}if(v==="@nest"){f.push(m);continue}let p=e;const E=ga(e,m,"@context");h1(E)||(p=await Qv({activeCtx:e,localCtx:E,propagate:!0,overrideProtected:!0,options:o}));const y=ga(e,m,"@container")||[];if(y.includes("@language")&&Wa(g)){const S=ga(p,m,"@direction");_=$Te(p,g,S,o)}else if(y.includes("@index")&&Wa(g)){const S=y.includes("@graph"),T=ga(p,m,"@index")||"@index",$=T!=="@index"&&Bi(e,T,{vocab:!0},o);_=await CA({activeCtx:p,options:o,activeProperty:m,value:g,asGraph:S,indexKey:T,propertyIndex:$})}else if(y.includes("@id")&&Wa(g)){const S=y.includes("@graph");_=await CA({activeCtx:p,options:o,activeProperty:m,value:g,asGraph:S,indexKey:"@id"})}else if(y.includes("@type")&&Wa(g))_=await CA({activeCtx:p.revertToPreviousContext(),options:o,activeProperty:m,value:g,asGraph:!1,indexKey:"@type"});else{const S=v==="@list";if(S||v==="@set"){let T=t;S&&r==="@graph"&&(T=null),_=await Hf.expand({activeCtx:p,activeProperty:T,element:g,options:o,insideList:S})}else ga(e,m,"@type")==="@json"?_={"@type":"@json","@value":g}:_=await Hf.expand({activeCtx:p,activeProperty:m,element:g,options:o,insideList:!1})}if(!(_===null&&v!=="@value")){if(v!=="@list"&&!IA(_)&&y.includes("@list")&&(_={"@list":Ml(_)}),y.includes("@graph")&&!y.some(S=>S==="@id"||S==="@index")){if(_=Ml(_),o.isFrame||(_=_.filter(S=>{const T=Object.keys(S).length;return J5({value:S,count:T,options:o})!==null})),_.length===0)continue;_=_.map(S=>({"@graph":Ml(S)}))}if(p.mappings.has(m)&&p.mappings.get(m).reverse){const S=i["@reverse"]=i["@reverse"]||{};_=Ml(_);for(let T=0;T<_.length;++T){const $=_[T];if(ZI($)||IA($))throw new li('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:_});da(S,v,$,{propertyIsArray:!0})}continue}da(i,v,_,{propertyIsArray:!0})}}if("@value"in i&&!(i["@type"]==="@json"&&zE(e,1.1))){if((Wa(c)||sl(c))&&!o.isFrame)throw new li('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:c})}for(const m of f){const g=sl(n[m])?n[m]:[n[m]];for(const _ of g){if(!Wa(_)||Object.keys(_).some(v=>Bi(e,v,{vocab:!0},o)==="@value"))throw new li("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:_});await Y5({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:_,expandedParent:i,options:o,insideList:s,typeScopedContext:l,typeKey:a})}}}function X5({activeCtx:e,activeProperty:t,value:r,options:n}){if(r==null)return null;const i=Bi(e,t,{vocab:!0},n);if(i==="@id")return Bi(e,r,{base:!0},n);if(i==="@type")return Bi(e,r,{vocab:!0,base:!0},{...n,typeExpansion:!0});const o=ga(e,t,"@type");if((o==="@id"||i==="@graph")&&Mo(r)){const a=Bi(e,r,{base:!0},n);return a===null&&r.match(_Te)&&n.eventHandler&&tl({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:n}),{"@id":a}}if(o==="@vocab"&&Mo(r))return{"@id":Bi(e,r,{vocab:!0,base:!0},n)};if(eC(i))return r;const s={};if(o&&!["@id","@vocab","@none"].includes(o))s["@type"]=o;else if(Mo(r)){const a=ga(e,t,"@language");a!==null&&(s["@language"]=a);const l=ga(e,t,"@direction");l!==null&&(s["@direction"]=l)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),s["@value"]=r,s}function $Te(e,t,r,n){const i=[],o=Object.keys(t).sort();for(const s of o){const a=Bi(e,s,{vocab:!0},n);let l=t[s];sl(l)||(l=[l]);for(const u of l){if(u===null)continue;if(!Mo(u))throw new li("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const f={"@value":u};a!=="@none"&&(s.match(K5)||n.eventHandler&&tl({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:s}},options:n}),f["@language"]=s.toLowerCase()),r&&(f["@direction"]=r),i.push(f)}}return i}async function CA({activeCtx:e,options:t,activeProperty:r,value:n,asGraph:i,indexKey:o,propertyIndex:s}){const a=[],l=Object.keys(n).sort(),u=o==="@type";for(let f of l){if(u){const m=ga(e,f,"@context");h1(m)||(e=await Qv({activeCtx:e,localCtx:m,propagate:!1,options:t}))}let c=n[f];sl(c)||(c=[c]),c=await Hf.expand({activeCtx:e,activeProperty:r,element:c,options:t,insideList:!1,insideIndex:!0});let h;s?f==="@none"?h="@none":h=X5({activeCtx:e,activeProperty:o,value:f,options:t}):h=Bi(e,f,{vocab:!0},t),o==="@id"?f=Bi(e,f,{base:!0},t):u&&(f=h);for(let m of c){if(i&&!wTe(m)&&(m={"@graph":[m]}),o==="@type")h==="@none"||(m["@type"]?m["@type"]=[f].concat(m["@type"]):m["@type"]=[f]);else{if(ZI(m)&&!["@language","@type","@index"].includes(o))throw new li(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${o}".`,"jsonld.SyntaxError",{code:"invalid value object",value:m});s?h!=="@none"&&da(m,s,h,{propertyIsArray:!0,prependValue:!0}):h!=="@none"&&!(o in m)&&(m[o]=f)}a.push(m)}}return a}const{isKeyword:Q5}=up,$u=Wc,kA=Pa,Ou=yl,xTe=vl,as={};var HT=as;as.createMergedNodeMap=(e,t)=>{t=t||{};const r=t.issuer||new Ou.IdentifierIssuer("_:b"),n={"@default":{}};return as.createNodeMap(e,n,"@default",r),as.mergeNodeMaps(n)};as.createNodeMap=(e,t,r,n,i,o)=>{if(kA.isArray(e)){for(const u of e)as.createNodeMap(u,t,r,n,void 0,o);return}if(!kA.isObject(e)){o&&o.push(e);return}if($u.isValue(e)){if("@type"in e){let u=e["@type"];u.indexOf("_:")===0&&(e["@type"]=u=n.getId(u))}o&&o.push(e);return}else if(o&&$u.isList(e)){const u=[];as.createNodeMap(e["@list"],t,r,n,i,u),o.push({"@list":u});return}if("@type"in e){const u=e["@type"];for(const f of u)f.indexOf("_:")===0&&n.getId(f)}kA.isUndefined(i)&&(i=$u.isBlankNode(e)?n.getId(e["@id"]):e["@id"]),o&&o.push({"@id":i});const s=t[r],a=s[i]=s[i]||{};a["@id"]=i;const l=Object.keys(e).sort();for(let u of l){if(u==="@id")continue;if(u==="@reverse"){const c={"@id":i},h=e["@reverse"];for(const m in h){const g=h[m];for(const _ of g){let v=_["@id"];$u.isBlankNode(_)&&(v=n.getId(v)),as.createNodeMap(_,t,r,n,v),Ou.addValue(s[v],m,c,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(u==="@graph"){i in t||(t[i]={}),as.createNodeMap(e[u],t,i,n);continue}if(u==="@included"){as.createNodeMap(e[u],t,r,n);continue}if(u!=="@type"&&Q5(u)){if(u==="@index"&&u in a&&(e[u]!==a[u]||e[u]["@id"]!==a[u]["@id"]))throw new xTe("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:a});a[u]=e[u];continue}const f=e[u];if(u.indexOf("_:")===0&&(u=n.getId(u)),f.length===0){Ou.addValue(a,u,[],{propertyIsArray:!0});continue}for(let c of f)if(u==="@type"&&(c=c.indexOf("_:")===0?n.getId(c):c),$u.isSubject(c)||$u.isSubjectReference(c)){if("@id"in c&&!c["@id"])continue;const h=$u.isBlankNode(c)?n.getId(c["@id"]):c["@id"];Ou.addValue(a,u,{"@id":h},{propertyIsArray:!0,allowDuplicate:!1}),as.createNodeMap(c,t,r,n,h)}else if($u.isValue(c))Ou.addValue(a,u,c,{propertyIsArray:!0,allowDuplicate:!1});else if($u.isList(c)){const h=[];as.createNodeMap(c["@list"],t,r,n,i,h),c={"@list":h},Ou.addValue(a,u,c,{propertyIsArray:!0,allowDuplicate:!1})}else as.createNodeMap(c,t,r,n,i),Ou.addValue(a,u,c,{propertyIsArray:!0,allowDuplicate:!1})}};as.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const n of Object.keys(e[r]).sort()){const i=e[r][n];n in t||(t[n]={"@id":n});const o=t[n];for(const s of Object.keys(i).sort())if(Q5(s)&&s!=="@type")o[s]=Ou.clone(i[s]);else for(const a of i[s])Ou.addValue(o,s,Ou.clone(a),{propertyIsArray:!0,allowDuplicate:!1})}return t};as.mergeNodeMaps=e=>{const t=e["@default"],r=Object.keys(e).sort();for(const n of r){if(n==="@default")continue;const i=e[n];let o=t[n];o?"@graph"in o||(o["@graph"]=[]):t[n]=o={"@id":n,"@graph":[]};const s=o["@graph"];for(const a of Object.keys(i).sort()){const l=i[a];$u.isSubjectReference(l)||s.push(l)}}return t};const{isSubjectReference:ATe}=Wc,{createMergedNodeMap:OTe}=HT,Z5={};var PTe=Z5;Z5.flatten=e=>{const t=OTe(e),r=[],n=Object.keys(t).sort();for(let i=0;i<n.length;++i){const o=t[n[i]];ATe(o)||r.push(o)}return r};const tC=vl,jA=Wc,Ov=Pa,{REGEX_BCP47:Dz,addValue:Mz}=yl,{handleEvent:Lz}=A0,{RDF_LIST:RTe,RDF_FIRST:DA,RDF_REST:MA,RDF_NIL:LA,RDF_TYPE:NTe,RDF_JSON_LITERAL:ITe,XSD_BOOLEAN:Fz,XSD_DOUBLE:Bz,XSD_INTEGER:Uz,XSD_STRING:FA}=eD,eQ={};var CTe=eQ;eQ.fromRDF=async(e,t)=>{const{useRdfType:r=!1,useNativeTypes:n=!1,rdfDirection:i=null}=t,o={},s={"@default":o},a={};if(i){if(i==="compound-literal")throw new tC("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if(i!=="i18n-datatype")throw new tC("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i})}for(const f of e){const c=f.graph.termType==="DefaultGraph"?"@default":f.graph.value;c in s||(s[c]={}),c!=="@default"&&!(c in o)&&(o[c]={"@id":c});const h=s[c],m=f.subject.value,g=f.predicate.value,_=f.object;m in h||(h[m]={"@id":m});const v=h[m],p=_.termType.endsWith("Node");if(p&&!(_.value in h)&&(h[_.value]={"@id":_.value}),g===NTe&&!r&&p){Mz(v,"@type",_.value,{propertyIsArray:!0});continue}const E=kTe(_,n,i,t);if(Mz(v,g,E,{propertyIsArray:!0}),p)if(_.value===LA){const y=h[_.value];"usages"in y||(y.usages=[]),y.usages.push({node:v,property:g,value:E})}else _.value in a?a[_.value]=!1:a[_.value]={node:v,property:g,value:E}}for(const f in s){const c=s[f];if(!(LA in c))continue;const h=c[LA];if(h.usages){for(let m of h.usages){let g=m.node,_=m.property,v=m.value;const p=[],E=[];let y=Object.keys(g).length;for(;_===MA&&Ov.isObject(a[g["@id"]])&&Ov.isArray(g[DA])&&g[DA].length===1&&Ov.isArray(g[MA])&&g[MA].length===1&&(y===3||y===4&&Ov.isArray(g["@type"])&&g["@type"].length===1&&g["@type"][0]===RTe)&&(p.push(g[DA][0]),E.push(g["@id"]),m=a[g["@id"]],g=m.node,_=m.property,v=m.value,y=Object.keys(g).length,!!jA.isBlankNode(g)););delete v["@id"],v["@list"]=p.reverse();for(const S of E)delete c[S]}delete h.usages}}const l=[],u=Object.keys(o).sort();for(const f of u){const c=o[f];if(f in s){const h=c["@graph"]=[],m=s[f],g=Object.keys(m).sort();for(const _ of g){const v=m[_];jA.isSubjectReference(v)||h.push(v)}}jA.isSubjectReference(c)||l.push(c)}return l};function kTe(e,t,r,n){if(e.termType.endsWith("Node"))return{"@id":e.value};const i={"@value":e.value};if(e.language)e.language.match(Dz)||n.eventHandler&&Lz({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:n}),i["@language"]=e.language;else{let o=e.datatype.value;if(o||(o=FA),o===ITe){o="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(s){throw new tC("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:s})}}if(t){if(o===Fz)i["@value"]==="true"?i["@value"]=!0:i["@value"]==="false"&&(i["@value"]=!1);else if(Ov.isNumeric(i["@value"]))if(o===Uz){const s=parseInt(i["@value"],10);s.toFixed(0)===i["@value"]&&(i["@value"]=s)}else o===Bz&&(i["@value"]=parseFloat(i["@value"]));[Fz,Uz,Bz,FA].includes(o)||(i["@type"]=o)}else if(r==="i18n-datatype"&&o.startsWith("https://www.w3.org/ns/i18n#")){const[,s,a]=o.split(/[#_]/);s.length>0&&(i["@language"]=s,s.match(Dz)||n.eventHandler&&Lz({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:s}},options:n})),i["@direction"]=a}else o!==FA&&(i["@type"]=o)}return i}var jTe=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((r,n,i)=>{const o=i===0?"":",",s=n===void 0||typeof n=="symbol"?null:n;return r+o+e(s)},"")+"]":"{"+Object.keys(t).sort().reduce((r,n,i)=>{if(t[n]===void 0||typeof t[n]=="symbol")return r;const o=r.length===0?"":",";return r+o+e(n)+":"+e(t[n])},"")+"}"};const{createNodeMap:DTe}=HT,{isKeyword:MTe}=up,zz=Wc,LTe=jTe,qz=vl,rv=Pa,FTe=yl,{handleEvent:Mh}=A0,{RDF_FIRST:BTe,RDF_REST:UTe,RDF_NIL:zTe,RDF_TYPE:qTe,RDF_JSON_LITERAL:VTe,RDF_LANGSTRING:HTe,XSD_BOOLEAN:WTe,XSD_DOUBLE:Vz,XSD_INTEGER:GTe,XSD_STRING:KTe}=eD,{isAbsolute:p1}=xd,tQ={};var JTe=tQ;tQ.toRDF=(e,t)=>{const r=new FTe.IdentifierIssuer("_:b"),n={"@default":{}};DTe(e,n,"@default",r);const i=[],o=Object.keys(n).sort();for(const s of o){let a;if(s==="@default")a={termType:"DefaultGraph",value:""};else if(p1(s))s.startsWith("_:")?a={termType:"BlankNode"}:a={termType:"NamedNode"},a.value=s;else{t.eventHandler&&Mh({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:s}},options:t});continue}YTe(i,n[s],a,r,t)}return i};function YTe(e,t,r,n,i){const o=Object.keys(t).sort();for(const s of o){const a=t[s],l=Object.keys(a).sort();for(let u of l){const f=a[u];if(u==="@type")u=qTe;else if(MTe(u))continue;for(const c of f){const h={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!p1(s)){i.eventHandler&&Mh({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:s}},options:i});continue}const m={termType:u.startsWith("_:")?"BlankNode":"NamedNode",value:u};if(!p1(u)){i.eventHandler&&Mh({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:u}},options:i});continue}if(m.termType==="BlankNode"&&!i.produceGeneralizedRdf){i.eventHandler&&Mh({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:n.getOldIds().find(_=>n.getId(_)===u)}},options:i});continue}const g=rC(c,n,e,r,i.rdfDirection,i);g&&e.push({subject:h,predicate:m,object:g,graph:r})}}}}function XTe(e,t,r,n,i,o){const s={termType:"NamedNode",value:BTe},a={termType:"NamedNode",value:UTe},l={termType:"NamedNode",value:zTe},u=e.pop(),f=u?{termType:"BlankNode",value:t.getId()}:l;let c=f;for(const h of e){const m=rC(h,t,r,n,i,o),g={termType:"BlankNode",value:t.getId()};r.push({subject:c,predicate:s,object:m,graph:n}),r.push({subject:c,predicate:a,object:g,graph:n}),c=g}if(u){const h=rC(u,t,r,n,i,o);r.push({subject:c,predicate:s,object:h,graph:n}),r.push({subject:c,predicate:a,object:l,graph:n})}return f}function rC(e,t,r,n,i,o){const s={};if(zz.isValue(e)){s.termType="Literal",s.value=void 0,s.datatype={termType:"NamedNode"};let a=e["@value"];const l=e["@type"]||null;if(l==="@json")s.value=LTe(a),s.datatype.value=VTe;else if(rv.isBoolean(a))s.value=a.toString(),s.datatype.value=l||WTe;else if(rv.isDouble(a)||l===Vz)rv.isDouble(a)||(a=parseFloat(a)),s.value=a.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),s.datatype.value=l||Vz;else if(rv.isNumber(a))s.value=a.toFixed(0),s.datatype.value=l||GTe;else if("@direction"in e&&i==="i18n-datatype"){const u=(e["@language"]||"").toLowerCase(),f=e["@direction"],c=`https://www.w3.org/ns/i18n#${u}_${f}`;s.datatype.value=c,s.value=a}else{if("@direction"in e&&i==="compound-literal")throw new qz("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if("@direction"in e&&i)throw new qz("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});"@language"in e?("@direction"in e&&!i&&o.eventHandler&&Mh({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:s.value}},options:o}),s.value=a,s.datatype.value=l||HTe,s.language=e["@language"]):("@direction"in e&&!i&&o.eventHandler&&Mh({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:s.value}},options:o}),s.value=a,s.datatype.value=l||KTe)}}else if(zz.isList(e)){const a=XTe(e["@list"],t,r,n,i,o);s.termType=a.termType,s.value=a.value}else{const a=rv.isObject(e)?e["@id"]:e;s.termType=a.startsWith("_:")?"BlankNode":"NamedNode",s.value=a}return s.termType==="NamedNode"&&!p1(s.value)?(o.eventHandler&&Mh({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:s.value}},options:o}),null):s}const{isKeyword:nC}=up,Ka=Wc,Xn=Pa,lo=yl,Hz=xd,Zv=vl,{createNodeMap:QTe,mergeNodeMapGraphs:ZTe}=HT,rl={};var e$e=rl;rl.frameMergedOrDefault=(e,t,r)=>{const n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new lo.IdentifierIssuer("_:b");QTe(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=ZTe(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const o=[];rl.frame(n,Object.keys(n.subjects).sort(),t,o),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter(s=>n.bnodeMap[s].length===1));// remove @preserve from results
return r.link={},VE(o,r)};rl.frame=(e,t,r,n,i=null)=>{rQ(r),r=r[0];const o=e.options,s={embed:tb(r,o,"embed"),explicit:tb(r,o,"explicit"),requireAll:tb(r,o,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const a=e.link[e.graph],l=r$e(e,t,r,s),u=Object.keys(l).sort();for(const f of u){const c=l[f];if(i===null?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},s.embed==="@link"&&f in a){Qd(n,i,a[f]);continue}const h={"@id":f};if(f.indexOf("_:")===0&&lo.addValue(e.bnodeMap,f,h,{propertyIsArray:!0}),a[f]=h,(s.embed==="@first"||s.embed==="@last")&&e.is11)throw new Zv("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(f))){if(e.embedded&&(s.embed==="@never"||t$e(c,e.graph,e.subjectStack))){Qd(n,i,h);continue}if(e.embedded&&(s.embed=="@first"||s.embed=="@once")&&e.uniqueEmbeds[e.graph].hasOwnProperty(f)){Qd(n,i,h);continue}if(s.embed==="@last"&&f in e.uniqueEmbeds[e.graph]&&n$e(e,f),e.uniqueEmbeds[e.graph][f]={parent:n,property:i},e.subjectStack.push({subject:c,graph:e.graph}),f in e.graphMap){let m=!1,g=null;"@graph"in r?(g=r["@graph"][0],m=!(f==="@merged"||f==="@default"),Xn.isObject(g)||(g={})):(m=e.graph!=="@merged",g={}),m&&rl.frame({...e,graph:f,embedded:!1},Object.keys(e.graphMap[f]).sort(),[g],h,"@graph")}"@included"in r&&rl.frame({...e,embedded:!1},t,r["@included"],h,"@included");for(const m of Object.keys(c).sort()){if(nC(m)){if(h[m]=lo.clone(c[m]),m==="@type")for(const g of c["@type"])g.indexOf("_:")===0&&lo.addValue(e.bnodeMap,g,h,{propertyIsArray:!0});continue}if(!(s.explicit&&!(m in r)))for(const g of c[m]){const _=m in r?r[m]:Wz(s);if(Ka.isList(g)){const v=r[m]&&r[m][0]&&r[m][0]["@list"]?r[m][0]["@list"]:Wz(s),p={"@list":[]};Qd(h,m,p);const E=g["@list"];for(const y of E)Ka.isSubjectReference(y)?rl.frame({...e,embedded:!0},[y["@id"]],v,p,"@list"):Qd(p,"@list",lo.clone(y))}else Ka.isSubjectReference(g)?rl.frame({...e,embedded:!0},[g["@id"]],_,h,m):iC(_[0],g)&&Qd(h,m,lo.clone(g))}}for(const m of Object.keys(r).sort()){if(m==="@type"){if(!Xn.isObject(r[m][0])||!("@default"in r[m][0]))continue}else if(nC(m))continue;const g=r[m][0]||{};if(!tb(g,o,"omitDefault")&&!(m in h)){let v="@null";"@default"in g&&(v=lo.clone(g["@default"])),Xn.isArray(v)||(v=[v]),h[m]=[{"@preserve":v}]}}for(const m of Object.keys(r["@reverse"]||{}).sort()){const g=r["@reverse"][m];for(const _ of Object.keys(e.subjects))lo.getValues(e.subjects[_],m).some(p=>p["@id"]===f)&&(h["@reverse"]=h["@reverse"]||{},lo.addValue(h["@reverse"],m,[],{propertyIsArray:!0}),rl.frame({...e,embedded:!0},[_],g,h["@reverse"][m],i))}Qd(n,i,h),e.subjectStack.pop()}}};rl.cleanupNull=(e,t)=>{if(Xn.isArray(e))return e.map(n=>rl.cleanupNull(n,t)).filter(n=>n);if(e==="@null")return null;if(Xn.isObject(e)){if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(n!==-1)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)e[r]=rl.cleanupNull(e[r],t)}return e};function Wz(e){const t={};for(const r in e)e[r]!==void 0&&(t["@"+r]=[e[r]]);return[t]}function t$e(e,t,r){for(let n=r.length-1;n>=0;--n){const i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function tb(e,t,r){const n="@"+r;let i=n in e?e[n][0]:t[r];if(r==="embed"){if(i===!0)i="@once";else if(i===!1)i="@never";else if(i!=="@always"&&i!=="@never"&&i!=="@link"&&i!=="@first"&&i!=="@last"&&i!=="@once")throw new Zv("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return i}function rQ(e){if(!Xn.isArray(e)||e.length!==1||!Xn.isObject(e[0]))throw new Zv("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(const t of lo.asArray(e[0]["@id"]))if(!(Xn.isObject(t)||Hz.isAbsolute(t))||Xn.isString(t)&&t.indexOf("_:")===0)throw new Zv("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(const t of lo.asArray(e[0]["@type"]))if(!(Xn.isObject(t)||Hz.isAbsolute(t)||t==="@json")||Xn.isString(t)&&t.indexOf("_:")===0)throw new Zv("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function r$e(e,t,r,n){const i={};for(const o of t){const s=e.graphMap[e.graph][o];nQ(e,s,r,n)&&(i[o]=s)}return i}function nQ(e,t,r,n){let i=!0,o=!1;for(const s in r){let a=!1;const l=lo.getValues(t,s),u=lo.getValues(r,s).length===0;if(s==="@id"){if(Xn.isEmptyObject(r["@id"][0]||{})?a=!0:r["@id"].length>=0&&(a=r["@id"].includes(l[0])),!n.requireAll)return a}else if(s==="@type"){if(i=!1,u){if(l.length>0)return!1;a=!0}else if(r["@type"].length===1&&Xn.isEmptyObject(r["@type"][0]))a=l.length>0;else for(const f of r["@type"])Xn.isObject(f)&&"@default"in f?a=!0:a=a||l.some(c=>c===f);if(!n.requireAll)return a}else{if(nC(s))continue;{const f=lo.getValues(r,s)[0];let c=!1;if(f&&(rQ([f]),c="@default"in f),i=!1,l.length===0&&c)continue;if(l.length>0&&u)return!1;if(f===void 0){if(l.length>0)return!1;a=!0}else if(Ka.isList(f)){const h=f["@list"][0];if(Ka.isList(l[0])){const m=l[0]["@list"];Ka.isValue(h)?a=m.some(g=>iC(h,g)):(Ka.isSubject(h)||Ka.isSubjectReference(h))&&(a=m.some(g=>Gz(e,h,g,n)))}}else Ka.isValue(f)?a=l.some(h=>iC(f,h)):Ka.isSubjectReference(f)?a=l.some(h=>Gz(e,f,h,n)):Xn.isObject(f)?a=l.length>0:a=!1}}if(!a&&n.requireAll)return!1;o=o||a}return i||o}function n$e(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,o=n.property,s={"@id":t};if(Xn.isArray(i)){for(let l=0;l<i.length;++l)if(lo.compareValues(i[l],s)){i[l]=s;break}}else{const l=Xn.isArray(i[o]);lo.removeValue(i,o,s,{propertyIsArray:l}),lo.addValue(i,o,s,{propertyIsArray:l})}const a=l=>{const u=Object.keys(r);for(const f of u)f in r&&Xn.isObject(r[f].parent)&&r[f].parent["@id"]===l&&(delete r[f],a(f))};a(t)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function VE(e,t){if(Xn.isArray(e))return e.map(r=>VE(r,t));if(Xn.isObject(e)){// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(Ka.isValue(e))return e;if(Ka.isList(e))return e["@list"]=VE(e["@list"],t),e;if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(n!==-1)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e){if(r==="@id"&&t.bnodesToClear.includes(e[r])){delete e["@id"];continue}e[r]=VE(e[r],t)}}return e}function Qd(e,t,r){Xn.isObject(e)?lo.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function Gz(e,t,r,n){if(!("@id"in r))return!1;const i=e.subjects[r["@id"]];return i&&nQ(e,i,t,n)}function iC(e,t){const r=t["@value"],n=t["@type"],i=t["@language"],o=e["@value"]?Xn.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?Xn.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],a=e["@language"]?Xn.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return o.length===0&&s.length===0&&a.length===0?!0:!(!(o.includes(r)||Xn.isEmptyObject(o[0]))||!(!n&&s.length===0||s.includes(n)||n&&Xn.isEmptyObject(s[0]))||!(!i&&a.length===0||a.includes(i)||i&&Xn.isEmptyObject(a[0])))}const nD=vl,{isArray:wf,isObject:Wf,isString:iQ,isUndefined:BA}=Pa,{isList:oC,isValue:Ec,isGraph:oQ,isSimpleGraph:Kz,isSubjectReference:UA}=Wc,{expandIri:sQ,getContextValue:is,isKeyword:aQ,process:zA,processingMode:i$e}=up,{removeBase:Jz,prependBase:o$e}=xd,{REGEX_KEYWORD:s$e,addValue:ca,asArray:rb,compareShortestLeast:a$e}=yl,Lr={};var l$e=Lr;Lr.compact=async({activeCtx:e,activeProperty:t=null,element:r,options:n={}})=>{if(wf(r)){let o=[];for(let s=0;s<r.length;++s){const a=await Lr.compact({activeCtx:e,activeProperty:t,element:r[s],options:n});a!==null&&o.push(a)}return n.compactArrays&&o.length===1&&(is(e,t,"@container")||[]).length===0&&(o=o[0]),o}const i=is(e,t,"@context");if(BA(i)||(e=await zA({activeCtx:e,localCtx:i,propagate:!0,overrideProtected:!0,options:n})),Wf(r)){if(n.link&&"@id"in r&&n.link.hasOwnProperty(r["@id"])){const h=n.link[r["@id"]];for(let m=0;m<h.length;++m)if(h[m].expanded===r)return h[m].compacted}if(Ec(r)||UA(r)){const h=Lr.compactValue({activeCtx:e,activeProperty:t,value:r,options:n});return n.link&&UA(r)&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:h})),h}if(oC(r)&&(is(e,t,"@container")||[]).includes("@list"))return Lr.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:n});const o=t==="@reverse",s={},a=e;!Ec(r)&&!UA(r)&&(e=e.revertToPreviousContext());const l=is(a,t,"@context");BA(l)||(e=await zA({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:n})),n.link&&"@id"in r&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:s}));let u=r["@type"]||[];u.length>1&&(u=Array.from(u).sort());const f=e;for(const h of u){const m=Lr.compactIri({activeCtx:f,iri:h,relativeTo:{vocab:!0}}),g=is(a,m,"@context");BA(g)||(e=await zA({activeCtx:e,localCtx:g,options:n,propagate:!1}))}const c=Object.keys(r).sort();for(const h of c){const m=r[h];if(h==="@id"){let g=rb(m).map(v=>Lr.compactIri({activeCtx:e,iri:v,relativeTo:{vocab:!1},base:n.base}));g.length===1&&(g=g[0]);const _=Lr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});s[_]=g;continue}if(h==="@type"){let g=rb(m).map(y=>Lr.compactIri({activeCtx:a,iri:y,relativeTo:{vocab:!0}}));g.length===1&&(g=g[0]);const _=Lr.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),E=(is(e,_,"@container")||[]).includes("@set")&&i$e(e,1.1)||wf(g)&&m.length===0;ca(s,_,g,{propertyIsArray:E});continue}if(h==="@reverse"){const g=await Lr.compact({activeCtx:e,activeProperty:"@reverse",element:m,options:n});for(const _ in g)if(e.mappings.has(_)&&e.mappings.get(_).reverse){const v=g[_],E=(is(e,_,"@container")||[]).includes("@set")||!n.compactArrays;ca(s,_,v,{propertyIsArray:E}),delete g[_]}if(Object.keys(g).length>0){const _=Lr.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});ca(s,_,g)}continue}if(h==="@preserve"){const g=await Lr.compact({activeCtx:e,activeProperty:t,element:m,options:n});wf(g)&&g.length===0||ca(s,h,g);continue}if(h==="@index"){if((is(e,t,"@container")||[]).includes("@index"))continue;const _=Lr.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});ca(s,_,m);continue}if(h!=="@graph"&&h!=="@list"&&h!=="@included"&&aQ(h)){const g=Lr.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});ca(s,g,m);continue}if(!wf(m))throw new nD("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(m.length===0){const g=Lr.compactIri({activeCtx:e,iri:h,value:m,relativeTo:{vocab:!0},reverse:o}),_=e.mappings.has(g)?e.mappings.get(g)["@nest"]:null;let v=s;_&&(Yz(e,_,n),Wf(s[_])||(s[_]={}),v=s[_]),ca(v,g,m,{propertyIsArray:!0})}for(const g of m){const _=Lr.compactIri({activeCtx:e,iri:h,value:g,relativeTo:{vocab:!0},reverse:o}),v=e.mappings.has(_)?e.mappings.get(_)["@nest"]:null;let p=s;v&&(Yz(e,v,n),Wf(s[v])||(s[v]={}),p=s[v]);const E=is(e,_,"@container")||[],y=oQ(g),S=oC(g);let T;S?T=g["@list"]:y&&(T=g["@graph"]);let $=await Lr.compact({activeCtx:e,activeProperty:_,element:S||y?T:g,options:n});if(S)if(wf($)||($=[$]),!E.includes("@list"))$={[Lr.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:$},"@index"in g&&($[Lr.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=g["@index"]);else{ca(p,_,$,{valueIsArray:!0,allowDuplicate:!0});continue}if(y)if(E.includes("@graph")&&(E.includes("@id")||E.includes("@index")&&Kz(g))){let d;p.hasOwnProperty(_)?d=p[_]:p[_]=d={};const x=(E.includes("@id")?g["@id"]:g["@index"])||Lr.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});ca(d,x,$,{propertyIsArray:!n.compactArrays||E.includes("@set")})}else E.includes("@graph")&&Kz(g)?(wf($)&&$.length>1&&($={"@included":$}),ca(p,_,$,{propertyIsArray:!n.compactArrays||E.includes("@set")})):(wf($)&&$.length===1&&n.compactArrays&&($=$[0]),$={[Lr.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:$},"@id"in g&&($[Lr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=g["@id"]),"@index"in g&&($[Lr.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=g["@index"]),ca(p,_,$,{propertyIsArray:!n.compactArrays||E.includes("@set")}));else if(E.includes("@language")||E.includes("@index")||E.includes("@id")||E.includes("@type")){let d;p.hasOwnProperty(_)?d=p[_]:p[_]=d={};let x;if(E.includes("@language"))Ec($)&&($=$["@value"]),x=g["@language"];else if(E.includes("@index")){const O=is(e,_,"@index")||"@index",P=Lr.compactIri({activeCtx:e,iri:O,relativeTo:{vocab:!0}});if(O==="@index")x=g["@index"],delete $[P];else{let M;if([x,...M]=rb($[O]||[]),!iQ(x))x=null;else switch(M.length){case 0:delete $[O];break;case 1:$[O]=M[0];break;default:$[O]=M;break}}}else if(E.includes("@id")){const O=Lr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});x=$[O],delete $[O]}else if(E.includes("@type")){const O=Lr.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let P;switch([x,...P]=rb($[O]||[]),P.length){case 0:delete $[O];break;case 1:$[O]=P[0];break;default:$[O]=P;break}Object.keys($).length===1&&"@id"in g&&($=await Lr.compact({activeCtx:e,activeProperty:_,element:{"@id":g["@id"]},options:n}))}x||(x=Lr.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),ca(d,x,$,{propertyIsArray:E.includes("@set")})}else{const d=!n.compactArrays||E.includes("@set")||E.includes("@list")||wf($)&&$.length===0||h==="@list"||h==="@graph";ca(p,_,$,{propertyIsArray:d})}}}return s}return r};Lr.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:n={vocab:!1},reverse:i=!1,base:o=null})=>{if(t===null)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const s=e.getInverse();if(aQ(t)&&t in s&&"@none"in s[t]&&"@type"in s[t]["@none"]&&"@none"in s[t]["@none"]["@type"])return s[t]["@none"]["@type"]["@none"];if(n.vocab&&t in s){const c=e["@language"]||"@none",h=[];Wf(r)&&"@index"in r&&!("@graph"in r)&&h.push("@index","@index@set"),Wf(r)&&"@preserve"in r&&(r=r["@preserve"][0]),oQ(r)?("@index"in r&&h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&h.push("@graph@id","@graph@id@set"),h.push("@graph","@graph@set","@set"),"@index"in r||h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||h.push("@graph@id","@graph@id@set")):Wf(r)&&!Ec(r)&&h.push("@id","@id@set","@type","@set@type");let m="@language",g="@null";if(i)m="@type",g="@reverse",h.push("@set");else if(oC(r)){"@index"in r||h.push("@list");const v=r["@list"];if(v.length===0)m="@any",g="@none";else{let p=v.length===0?c:null,E=null;for(let y=0;y<v.length;++y){const S=v[y];let T="@none",$="@none";if(Ec(S))if("@direction"in S){const d=(S["@language"]||"").toLowerCase(),x=S["@direction"];T=`${d}_${x}`}else"@language"in S?T=S["@language"].toLowerCase():"@type"in S?$=S["@type"]:T="@null";else $="@id";if(p===null?p=T:T!==p&&Ec(S)&&(p="@none"),E===null?E=$:$!==E&&(E="@none"),p==="@none"&&E==="@none")break}p=p||"@none",E=E||"@none",E!=="@none"?(m="@type",g=E):g=p}}else{if(Ec(r))if("@language"in r&&!("@index"in r)){h.push("@language","@language@set"),g=r["@language"];const v=r["@direction"];v&&(g=`${g}_${v}`)}else"@direction"in r&&!("@index"in r)?g=`_${r["@direction"]}`:"@type"in r&&(m="@type",g=r["@type"]);else m="@type",g="@id";h.push("@set")}h.push("@none"),Wf(r)&&!("@index"in r)&&h.push("@index","@index@set"),Ec(r)&&Object.keys(r).length===1&&h.push("@language","@language@set");const _=u$e(e,t,r,h,m,g);if(_!==null)return _}if(n.vocab&&"@vocab"in e){const c=e["@vocab"];if(t.indexOf(c)===0&&t!==c){const h=t.substr(c.length);if(!e.mappings.has(h))return h}}let a=null;const l=[];let u=e.fastCurieMap;const f=t.length-1;for(let c=0;c<f&&t[c]in u;++c)u=u[t[c]],""in u&&l.push(u[""][0]);for(let c=l.length-1;c>=0;--c){const h=l[c],m=h.terms;for(const g of m){const _=g+":"+t.substr(h.iri.length);e.mappings.get(g)._prefix&&(!e.mappings.has(_)||r===null&&e.mappings.get(_)["@id"]===t)&&(a===null||a$e(_,a)<0)&&(a=_)}}if(a!==null)return a;for(const[c,h]of e.mappings)if(h&&h._prefix&&t.startsWith(c+":"))throw new nD(`Absolute IRI "${t}" confused with prefix "${c}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!n.vocab)if("@base"in e)if(e["@base"]){const c=Jz(o$e(o,e["@base"]),t);return s$e.test(c)?`./${c}`:c}else return t;else return Jz(o,t);return t};Lr.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(Ec(r)){const a=is(e,t,"@type"),l=is(e,t,"@language"),u=is(e,t,"@direction"),f=is(e,t,"@container")||[],c="@index"in r&&!f.includes("@index");if(!c&&a!=="@none"&&(r["@type"]===a||"@language"in r&&r["@language"]===l&&"@direction"in r&&r["@direction"]===u||"@language"in r&&r["@language"]===l||"@direction"in r&&r["@direction"]===u))return r["@value"];const h=Object.keys(r).length,m=h===1||h===2&&"@index"in r&&!c,g="@language"in e,_=iQ(r["@value"]),v=e.mappings.has(t)&&e.mappings.get(t)["@language"]===null;if(m&&a!=="@none"&&(!g||!_||v))return r["@value"];const p={};return c&&(p[Lr.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?p[Lr.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=Lr.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(p[Lr.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(p[Lr.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),p[Lr.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],p}const i=sQ(e,t,{vocab:!0},n),o=is(e,t,"@type"),s=Lr.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:o==="@vocab"},base:n.base});return o==="@id"||o==="@vocab"||i==="@graph"?s:{[Lr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}};function u$e(e,t,r,n,i,o){o===null&&(o="@null");const s=[];if((o==="@id"||o==="@reverse")&&Wf(r)&&"@id"in r){o==="@reverse"&&s.push("@reverse");const l=Lr.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(l)&&e.mappings.get(l)&&e.mappings.get(l)["@id"]===r["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(o);const l=s.find(u=>u.includes("_"));l&&s.push(l.replace(/^[^_]+_/,"_"))}s.push("@none");const a=e.inverse[t];for(const l of n){if(!(l in a))continue;const u=a[l][i];for(const f of s)if(f in u)return u[f]}return null}function Yz(e,t,r){if(sQ(e,t,{vocab:!0},r)!=="@nest")throw new nD("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var qA,Xz;function c$e(){return Xz||(Xz=1,qA=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(r,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(r,n)},t.expand=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(r)},t.flatten=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(r)},t}),qA}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const Qz=Zj,Zz=Y1e,If=yl,cc=uTe,VA=If.IdentifierIssuer,yu=vl,f$e=q5,nb=fTe,{expand:d$e}=TTe,{flatten:h$e}=PTe,{fromRDF:p$e}=CTe,{toRDF:m$e}=JTe,{frameMergedOrDefault:g$e,cleanupNull:v$e}=e$e,{isArray:Dp,isObject:Zd,isString:wu}=Pa,{isSubjectReference:y$e}=Wc,{expandIri:w$e,getInitialContext:ib,process:e6,processingMode:HA}=up,{compact:b$e,compactIri:_$e}=l$e,{createNodeMap:E$e,createMergedNodeMap:S$e,mergeNodeMaps:T$e}=HT,{logEventHandler:$$e,logWarningEventHandler:x$e,safeEventHandler:A$e,setDefaultEventHandler:O$e,setupEventHandler:P$e,strictEventHandler:R$e,unhandledEventHandler:N$e}=A0,lQ=function(e){const t={},n=new f$e({max:100});e.compact=async function(o,s,a){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(s===null)throw new yu("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(o===null)return null;a=i(a,{base:wu(o)?o:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new VA("_:b"),contextResolver:new cc({sharedCache:n})}),a.link&&(a.skipExpansion=!0),a.compactToRelative||delete a.base;let l;a.skipExpansion?l=o:l=await e.expand(o,a);const u=await e.processContext(ib(a),s,a);let f=await b$e({activeCtx:u,element:l,options:a});a.compactArrays&&!a.graph&&Dp(f)?f.length===1?f=f[0]:f.length===0&&(f={}):a.graph&&Zd(f)&&(f=[f]),Zd(s)&&"@context"in s&&(s=s["@context"]),s=If.clone(s),Dp(s)||(s=[s]);const c=s;s=[];for(let m=0;m<c.length;++m)(!Zd(c[m])||Object.keys(c[m]).length>0)&&s.push(c[m]);const h=s.length>0;if(s.length===1&&(s=s[0]),Dp(f)){const m=_$e({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}}),g=f;f={},h&&(f["@context"]=s),f[m]=g}else if(Zd(f)&&h){const m=f;f={"@context":s};for(const g in m)f[g]=m[g]}return f},e.expand=async function(o,s){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");s=i(s,{keepFreeFloatingNodes:!1,contextResolver:new cc({sharedCache:n})});const a={},l=[];if("expandContext"in s){const h=If.clone(s.expandContext);Zd(h)&&"@context"in h?a.expandContext=h:a.expandContext={"@context":h},l.push(a.expandContext)}let u;if(!wu(o))a.input=If.clone(o);else{const h=await e.get(o,s);u=h.documentUrl,a.input=h.document,h.contextUrl&&(a.remoteContext={"@context":h.contextUrl},l.push(a.remoteContext))}"base"in s||(s.base=u||"");let f=ib(s);for(const h of l)f=await e6({activeCtx:f,localCtx:h,options:s});let c=await d$e({activeCtx:f,element:a.input,options:s});return Zd(c)&&"@graph"in c&&Object.keys(c).length===1?c=c["@graph"]:c===null&&(c=[]),Dp(c)||(c=[c]),c},e.flatten=async function(o,s,a){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof s=="function"?s=null:s=s||null,a=i(a,{base:wu(o)?o:"",contextResolver:new cc({sharedCache:n})});const l=await e.expand(o,a),u=h$e(l);return s===null?u:(a.graph=!0,a.skipExpansion=!0,await e.compact(u,s,a))},e.frame=async function(o,s,a){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(a=i(a,{base:wu(o)?o:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new cc({sharedCache:n})}),wu(s)){const v=await e.get(s,a);if(s=v.document,v.contextUrl){let p=s["@context"];p?Dp(p)?p.push(v.contextUrl):p=[p,v.contextUrl]:p=v.contextUrl,s["@context"]=p}}const l=s?s["@context"]||{}:{},u=await e.processContext(ib(a),l,a);a.hasOwnProperty("omitGraph")||(a.omitGraph=HA(u,1.1)),a.hasOwnProperty("pruneBlankNodeIdentifiers")||(a.pruneBlankNodeIdentifiers=HA(u,1.1));const f=await e.expand(o,a),c={...a};c.isFrame=!0,c.keepFreeFloatingNodes=!0;const h=await e.expand(s,c),m=Object.keys(s).map(v=>w$e(u,v,{vocab:!0}));c.merged=!m.includes("@graph"),c.is11=HA(u,1.1);const g=g$e(f,h,c);c.graph=!a.omitGraph,c.skipExpansion=!0,c.link={},c.framing=!0;let _=await e.compact(g,l,c);return c.link={},_=v$e(_,c),_},e.link=async function(o,s,a){const l={};return s&&(l["@context"]=s),l["@embed"]="@link",e.frame(o,l,a)},e.normalize=e.canonize=async function(o,s){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(s=i(s,{base:wu(o)?o:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new cc({sharedCache:n})}),"inputFormat"in s){if(s.inputFormat!=="application/n-quads"&&s.inputFormat!=="application/nquads")throw new yu("Unknown canonicalization input format.","jsonld.CanonizeError");const u=nb.parse(o);return Qz.canonize(u,s)}const a={...s};delete a.format,a.produceGeneralizedRdf=!1;const l=await e.toRDF(o,a);return Qz.canonize(l,s)},e.fromRDF=async function(o,s){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");s=i(s,{format:wu(o)?"application/n-quads":void 0});const{format:a}=s;let{rdfParser:l}=s;if(a){if(l=l||t[a],!l)throw new yu("Unknown input format.","jsonld.UnknownFormat",{format:a})}else l=()=>o;const u=await l(o);return p$e(u,s)},e.toRDF=async function(o,s){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");s=i(s,{base:wu(o)?o:"",skipExpansion:!1,contextResolver:new cc({sharedCache:n})});let a;s.skipExpansion?a=o:a=await e.expand(o,s);const l=m$e(a,s);if(s.format){if(s.format==="application/n-quads"||s.format==="application/nquads")return nb.serialize(l);throw new yu("Unknown output format.","jsonld.UnknownFormat",{format:s.format})}return l},e.createNodeMap=async function(o,s){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");s=i(s,{base:wu(o)?o:"",contextResolver:new cc({sharedCache:n})});const a=await e.expand(o,s);return S$e(a,s)},e.merge=async function(o,s,a){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!Dp(o))throw new TypeError('Could not merge, "docs" must be an array.');typeof s=="function"?s=null:s=s||null,a=i(a,{contextResolver:new cc({sharedCache:n})});const l=await Promise.all(o.map(v=>{const p={...a};return e.expand(v,p)}));let u=!0;"mergeNodes"in a&&(u=a.mergeNodes);const f=a.issuer||new VA("_:b"),c={"@default":{}};for(let v=0;v<l.length;++v){const p=If.relabelBlankNodes(l[v],{issuer:new VA("_:b"+v+"-")}),E=u||v===0?c:{"@default":{}};if(E$e(p,E,"@default",f),E!==c)for(const y in E){const S=E[y];if(!(y in c)){c[y]=S;continue}const T=c[y];for(const $ in S)$ in T||(T[$]=S[$])}}const h=T$e(c),m=[],g=Object.keys(h).sort();for(let v=0;v<g.length;++v){const p=h[g[v]];y$e(p)||m.push(p)}return s===null?m:(a.graph=!0,a.skipExpansion=!0,await e.compact(m,s,a))},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:o=>e._documentLoader=o}),e.documentLoader=async o=>{throw new yu("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:o})},e.get=async function(o,s){let a;typeof s.documentLoader=="function"?a=s.documentLoader:a=e.documentLoader;const l=await a(o);try{if(!l.document)throw new yu("No remote document found at the given URL.","jsonld.NullRemoteDocument");wu(l.document)&&(l.document=JSON.parse(l.document))}catch(u){throw new yu("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:u,remoteDoc:l})}return l},e.processContext=async function(o,s,a){return a=i(a,{base:"",contextResolver:new cc({sharedCache:n})}),s===null?ib(a):(s=If.clone(s),Zd(s)&&"@context"in s||(s={"@context":s}),e6({activeCtx:o,localCtx:s,options:a}))},e.getContextValue=up.getContextValue,e.documentLoaders={},e.useDocumentLoader=function(o){if(!(o in e.documentLoaders))throw new yu('Unknown document loader type: "'+o+'"',"jsonld.UnknownDocumentLoader",{type:o});e.documentLoader=e.documentLoaders[o].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(o,s){t[o]=s},e.unregisterRDFParser=function(o){delete t[o]},e.registerRDFParser("application/n-quads",nb.parse),e.registerRDFParser("application/nquads",nb.parse),e.url=xd,e.logEventHandler=$$e,e.logWarningEventHandler=x$e,e.safeEventHandler=A$e,e.setDefaultEventHandler=O$e,e.strictEventHandler=R$e,e.unhandledEventHandler=N$e,e.util=If,Object.assign(e,If),e.promises=e,e.RequestQueue=U5(),e.JsonLdProcessor=c$e()(e),Zz.setupGlobals(e),Zz.setupDocumentLoaders(e);function i(o,{documentLoader:s=e.documentLoader,...a}){if(o&&"compactionMap"in o)throw new yu('"compactionMap" not supported.',"jsonld.OptionsError");if(o&&"expansionMap"in o)throw new yu('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:s},a,o,{eventHandler:P$e({options:o})})}return e},uQ=function(){return lQ(function(){return uQ()})};lQ(uQ);var sC={exports:{}},iD={},cl={},Zm={},O0={},xr={},By={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){if(super(),!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((y,S)=>`${y}${S}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((y,S)=>(S instanceof r&&(y[S.str]=(y[S.str]||0)+1),y),{})}}e._Code=n,e.nil=new n("");function i(p,...E){const y=[p[0]];let S=0;for(;S<E.length;)a(y,E[S]),y.push(p[++S]);return new n(y)}e._=i;const o=new n("+");function s(p,...E){const y=[m(p[0])];let S=0;for(;S<E.length;)y.push(o),a(y,E[S]),y.push(o,m(p[++S]));return l(y),new n(y)}e.str=s;function a(p,E){E instanceof n?p.push(...E._items):E instanceof r?p.push(E):p.push(c(E))}e.addCodeArg=a;function l(p){let E=1;for(;E<p.length-1;){if(p[E]===o){const y=u(p[E-1],p[E+1]);if(y!==void 0){p.splice(E-1,3,y);continue}p[E++]="+"}E++}}function u(p,E){if(E==='""')return p;if(p==='""')return E;if(typeof p=="string")return E instanceof r||p[p.length-1]!=='"'?void 0:typeof E!="string"?`${p.slice(0,-1)}${E}"`:E[0]==='"'?p.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(p instanceof r))return`"${p}${E.slice(1)}`}function f(p,E){return E.emptyStr()?p:p.emptyStr()?E:s`${p}${E}`}e.strConcat=f;function c(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:m(Array.isArray(p)?p.join(","):p)}function h(p){return new n(m(p))}e.stringify=h;function m(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):i`[${p}]`}e.getProperty=g;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(p){return new n(p.toString())}e.regexpCode=v})(By);var aC={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=By;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:f}={}){this._names={},this._prefixes=u,this._parent=f}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const f=this._names[u]||this._nameGroup(u);return`${u}${f.index++}`}_nameGroup(u){var f,c;if(!((c=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||c===void 0)&&c.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class o extends t.Name{constructor(u,f){super(f),this.prefix=u}setValue(u,{property:f,itemIndex:c}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(f)}[${c}]`}}e.ValueScopeName=o;const s=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?s:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,f){var c;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(u),{prefix:m}=h,g=(c=f.key)!==null&&c!==void 0?c:f.ref;let _=this._values[m];if(_){const E=_.get(g);if(E)return E}else _=this._values[m]=new Map;_.set(g,h);const v=this._scope[m]||(this._scope[m]=[]),p=v.length;return v[p]=f.ref,h.setValue(f,{property:m,itemIndex:p}),h}getValue(u,f){const c=this._values[u];if(c)return c.get(f)}scopeRefs(u,f=this._values){return this._reduceValues(f,c=>{if(c.scopePath===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return(0,t._)`${u}${c.scopePath}`})}scopeCode(u=this._values,f,c){return this._reduceValues(u,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},f,c)}_reduceValues(u,f,c={},h){let m=t.nil;for(const g in u){const _=u[g];if(!_)continue;const v=c[g]=c[g]||new Map;_.forEach(p=>{if(v.has(p))return;v.set(p,n.Started);let E=f(p);if(E){const y=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${y} ${p} = ${E};${this.opts._n}`}else if(E=h==null?void 0:h(p))m=(0,t._)`${m}${E}${this.opts._n}`;else throw new r(p);v.set(p,n.Completed)})}return m}}e.ValueScope=a})(aC);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=By,r=aC;var n=By;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=aC;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(I,q){return this}}class s extends o{constructor(I,q,ae){super(),this.varKind=I,this.name=q,this.rhs=ae}render({es5:I,_n:q}){const ae=I?r.varKinds.var:this.varKind,Z=this.rhs===void 0?"":` = ${this.rhs}`;return`${ae} ${this.name}${Z};`+q}optimizeNames(I,q){if(I[this.name.str])return this.rhs&&(this.rhs=ie(this.rhs,I,q)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends o{constructor(I,q,ae){super(),this.lhs=I,this.rhs=q,this.sideEffects=ae}render({_n:I}){return`${this.lhs} = ${this.rhs};`+I}optimizeNames(I,q){if(!(this.lhs instanceof t.Name&&!I[this.lhs.str]&&!this.sideEffects))return this.rhs=ie(this.rhs,I,q),this}get names(){const I=this.lhs instanceof t.Name?{}:{...this.lhs.names};return K(I,this.rhs)}}class l extends a{constructor(I,q,ae,Z){super(I,ae,Z),this.op=q}render({_n:I}){return`${this.lhs} ${this.op}= ${this.rhs};`+I}}class u extends o{constructor(I){super(),this.label=I,this.names={}}render({_n:I}){return`${this.label}:`+I}}class f extends o{constructor(I){super(),this.label=I,this.names={}}render({_n:I}){return`break${this.label?` ${this.label}`:""};`+I}}class c extends o{constructor(I){super(),this.error=I}render({_n:I}){return`throw ${this.error};`+I}get names(){return this.error.names}}class h extends o{constructor(I){super(),this.code=I}render({_n:I}){return`${this.code};`+I}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(I,q){return this.code=ie(this.code,I,q),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends o{constructor(I=[]){super(),this.nodes=I}render(I){return this.nodes.reduce((q,ae)=>q+ae.render(I),"")}optimizeNodes(){const{nodes:I}=this;let q=I.length;for(;q--;){const ae=I[q].optimizeNodes();Array.isArray(ae)?I.splice(q,1,...ae):ae?I[q]=ae:I.splice(q,1)}return I.length>0?this:void 0}optimizeNames(I,q){const{nodes:ae}=this;let Z=ae.length;for(;Z--;){const te=ae[Z];te.optimizeNames(I,q)||(G(I,te.names),ae.splice(Z,1))}return ae.length>0?this:void 0}get names(){return this.nodes.reduce((I,q)=>U(I,q.names),{})}}class g extends m{render(I){return"{"+I._n+super.render(I)+"}"+I._n}}class _ extends m{}class v extends g{}v.kind="else";class p extends g{constructor(I,q){super(q),this.condition=I}render(I){let q=`if(${this.condition})`+super.render(I);return this.else&&(q+="else "+this.else.render(I)),q}optimizeNodes(){super.optimizeNodes();const I=this.condition;if(I===!0)return this.nodes;let q=this.else;if(q){const ae=q.optimizeNodes();q=this.else=Array.isArray(ae)?new v(ae):ae}if(q)return I===!1?q instanceof p?q:q.nodes:this.nodes.length?this:new p(ne(I),q instanceof p?[q]:q.nodes);if(!(I===!1||!this.nodes.length))return this}optimizeNames(I,q){var ae;if(this.else=(ae=this.else)===null||ae===void 0?void 0:ae.optimizeNames(I,q),!!(super.optimizeNames(I,q)||this.else))return this.condition=ie(this.condition,I,q),this}get names(){const I=super.names;return K(I,this.condition),this.else&&U(I,this.else.names),I}}p.kind="if";class E extends g{}E.kind="for";class y extends E{constructor(I){super(),this.iteration=I}render(I){return`for(${this.iteration})`+super.render(I)}optimizeNames(I,q){if(super.optimizeNames(I,q))return this.iteration=ie(this.iteration,I,q),this}get names(){return U(super.names,this.iteration.names)}}class S extends E{constructor(I,q,ae,Z){super(),this.varKind=I,this.name=q,this.from=ae,this.to=Z}render(I){const q=I.es5?r.varKinds.var:this.varKind,{name:ae,from:Z,to:te}=this;return`for(${q} ${ae}=${Z}; ${ae}<${te}; ${ae}++)`+super.render(I)}get names(){const I=K(super.names,this.from);return K(I,this.to)}}class T extends E{constructor(I,q,ae,Z){super(),this.loop=I,this.varKind=q,this.name=ae,this.iterable=Z}render(I){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(I)}optimizeNames(I,q){if(super.optimizeNames(I,q))return this.iterable=ie(this.iterable,I,q),this}get names(){return U(super.names,this.iterable.names)}}class $ extends g{constructor(I,q,ae){super(),this.name=I,this.args=q,this.async=ae}render(I){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(I)}}$.kind="func";class d extends m{render(I){return"return "+super.render(I)}}d.kind="return";class x extends g{render(I){let q="try"+super.render(I);return this.catch&&(q+=this.catch.render(I)),this.finally&&(q+=this.finally.render(I)),q}optimizeNodes(){var I,q;return super.optimizeNodes(),(I=this.catch)===null||I===void 0||I.optimizeNodes(),(q=this.finally)===null||q===void 0||q.optimizeNodes(),this}optimizeNames(I,q){var ae,Z;return super.optimizeNames(I,q),(ae=this.catch)===null||ae===void 0||ae.optimizeNames(I,q),(Z=this.finally)===null||Z===void 0||Z.optimizeNames(I,q),this}get names(){const I=super.names;return this.catch&&U(I,this.catch.names),this.finally&&U(I,this.finally.names),I}}class O extends g{constructor(I){super(),this.error=I}render(I){return`catch(${this.error})`+super.render(I)}}O.kind="catch";class P extends g{render(I){return"finally"+super.render(I)}}P.kind="finally";class M{constructor(I,q={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...q,_n:q.lines?`
`:""},this._extScope=I,this._scope=new r.Scope({parent:I}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(I){return this._scope.name(I)}scopeName(I){return this._extScope.name(I)}scopeValue(I,q){const ae=this._extScope.value(I,q);return(this._values[ae.prefix]||(this._values[ae.prefix]=new Set)).add(ae),ae}getScopeValue(I,q){return this._extScope.getValue(I,q)}scopeRefs(I){return this._extScope.scopeRefs(I,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(I,q,ae,Z){const te=this._scope.toName(q);return ae!==void 0&&Z&&(this._constants[te.str]=ae),this._leafNode(new s(I,te,ae)),te}const(I,q,ae){return this._def(r.varKinds.const,I,q,ae)}let(I,q,ae){return this._def(r.varKinds.let,I,q,ae)}var(I,q,ae){return this._def(r.varKinds.var,I,q,ae)}assign(I,q,ae){return this._leafNode(new a(I,q,ae))}add(I,q){return this._leafNode(new l(I,e.operators.ADD,q))}code(I){return typeof I=="function"?I():I!==t.nil&&this._leafNode(new h(I)),this}object(...I){const q=["{"];for(const[ae,Z]of I)q.length>1&&q.push(","),q.push(ae),(ae!==Z||this.opts.es5)&&(q.push(":"),(0,t.addCodeArg)(q,Z));return q.push("}"),new t._Code(q)}if(I,q,ae){if(this._blockNode(new p(I)),q&&ae)this.code(q).else().code(ae).endIf();else if(q)this.code(q).endIf();else if(ae)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(I){return this._elseNode(new p(I))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(I,q){return this._blockNode(I),q&&this.code(q).endFor(),this}for(I,q){return this._for(new y(I),q)}forRange(I,q,ae,Z,te=this.opts.es5?r.varKinds.var:r.varKinds.let){const ue=this._scope.toName(I);return this._for(new S(te,ue,q,ae),()=>Z(ue))}forOf(I,q,ae,Z=r.varKinds.const){const te=this._scope.toName(I);if(this.opts.es5){const ue=q instanceof t.Name?q:this.var("_arr",q);return this.forRange("_i",0,(0,t._)`${ue}.length`,xe=>{this.var(te,(0,t._)`${ue}[${xe}]`),ae(te)})}return this._for(new T("of",Z,te,q),()=>ae(te))}forIn(I,q,ae,Z=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(I,(0,t._)`Object.keys(${q})`,ae);const te=this._scope.toName(I);return this._for(new T("in",Z,te,q),()=>ae(te))}endFor(){return this._endBlockNode(E)}label(I){return this._leafNode(new u(I))}break(I){return this._leafNode(new f(I))}return(I){const q=new d;if(this._blockNode(q),this.code(I),q.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(I,q,ae){if(!q&&!ae)throw new Error('CodeGen: "try" without "catch" and "finally"');const Z=new x;if(this._blockNode(Z),this.code(I),q){const te=this.name("e");this._currNode=Z.catch=new O(te),q(te)}return ae&&(this._currNode=Z.finally=new P,this.code(ae)),this._endBlockNode(O,P)}throw(I){return this._leafNode(new c(I))}block(I,q){return this._blockStarts.push(this._nodes.length),I&&this.code(I).endBlock(q),this}endBlock(I){const q=this._blockStarts.pop();if(q===void 0)throw new Error("CodeGen: not in self-balancing block");const ae=this._nodes.length-q;if(ae<0||I!==void 0&&ae!==I)throw new Error(`CodeGen: wrong number of nodes: ${ae} vs ${I} expected`);return this._nodes.length=q,this}func(I,q=t.nil,ae,Z){return this._blockNode(new $(I,q,ae)),Z&&this.code(Z).endFunc(),this}endFunc(){return this._endBlockNode($)}optimize(I=1){for(;I-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(I){return this._currNode.nodes.push(I),this}_blockNode(I){this._currNode.nodes.push(I),this._nodes.push(I)}_endBlockNode(I,q){const ae=this._currNode;if(ae instanceof I||q&&ae instanceof q)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${q?`${I.kind}/${q.kind}`:I.kind}"`)}_elseNode(I){const q=this._currNode;if(!(q instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=q.else=I,this}get _root(){return this._nodes[0]}get _currNode(){const I=this._nodes;return I[I.length-1]}set _currNode(I){const q=this._nodes;q[q.length-1]=I}}e.CodeGen=M;function U(N,I){for(const q in I)N[q]=(N[q]||0)+(I[q]||0);return N}function K(N,I){return I instanceof t._CodeOrName?U(N,I.names):N}function ie(N,I,q){if(N instanceof t.Name)return ae(N);if(!Z(N))return N;return new t._Code(N._items.reduce((te,ue)=>(ue instanceof t.Name&&(ue=ae(ue)),ue instanceof t._Code?te.push(...ue._items):te.push(ue),te),[]));function ae(te){const ue=q[te.str];return ue===void 0||I[te.str]!==1?te:(delete I[te.str],ue)}function Z(te){return te instanceof t._Code&&te._items.some(ue=>ue instanceof t.Name&&I[ue.str]===1&&q[ue.str]!==void 0)}}function G(N,I){for(const q in I)N[q]=(N[q]||0)-(I[q]||0)}function ne(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,t._)`!${Y(N)}`}e.not=ne;const ge=z(e.operators.AND);function re(...N){return N.reduce(ge)}e.and=re;const se=z(e.operators.OR);function D(...N){return N.reduce(se)}e.or=D;function z(N){return(I,q)=>I===t.nil?q:q===t.nil?I:(0,t._)`${Y(I)} ${N} ${Y(q)}`}function Y(N){return N instanceof t.Name?N:(0,t._)`(${N})`}})(xr);var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.checkStrictMode=Jt.getErrorPath=Jt.Type=Jt.useFunc=Jt.setEvaluated=Jt.evaluatedPropsToName=Jt.mergeEvaluated=Jt.eachItem=Jt.unescapeJsonPointer=Jt.escapeJsonPointer=Jt.escapeFragment=Jt.unescapeFragment=Jt.schemaRefOrVal=Jt.schemaHasRulesButRef=Jt.schemaHasRules=Jt.checkUnknownRules=Jt.alwaysValidSchema=Jt.toHash=void 0;const Yn=xr,I$e=By;function C$e(e){const t={};for(const r of e)t[r]=!0;return t}Jt.toHash=C$e;function k$e(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(cQ(e,t),!fQ(t,e.self.RULES.all))}Jt.alwaysValidSchema=k$e;function cQ(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const i=n.RULES.keywords;for(const o in t)i[o]||pQ(e,`unknown keyword: "${o}"`)}Jt.checkUnknownRules=cQ;function fQ(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}Jt.schemaHasRules=fQ;function j$e(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}Jt.schemaHasRulesButRef=j$e;function D$e({topSchemaRef:e,schemaPath:t},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Yn._)`${r}`}return(0,Yn._)`${e}${t}${(0,Yn.getProperty)(n)}`}Jt.schemaRefOrVal=D$e;function M$e(e){return dQ(decodeURIComponent(e))}Jt.unescapeFragment=M$e;function L$e(e){return encodeURIComponent(oD(e))}Jt.escapeFragment=L$e;function oD(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}Jt.escapeJsonPointer=oD;function dQ(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}Jt.unescapeJsonPointer=dQ;function F$e(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}Jt.eachItem=F$e;function t6({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(i,o,s,a)=>{const l=s===void 0?o:s instanceof Yn.Name?(o instanceof Yn.Name?e(i,o,s):t(i,o,s),s):o instanceof Yn.Name?(t(i,s,o),o):r(o,s);return a===Yn.Name&&!(l instanceof Yn.Name)?n(i,l):l}}Jt.mergeEvaluated={props:t6({mergeNames:(e,t,r)=>e.if((0,Yn._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,Yn._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,Yn._)`${r} || {}`).code((0,Yn._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,Yn._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,Yn._)`${r} || {}`),sD(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:hQ}),items:t6({mergeNames:(e,t,r)=>e.if((0,Yn._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,Yn._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,Yn._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,Yn._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function hQ(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,Yn._)`{}`);return t!==void 0&&sD(e,r,t),r}Jt.evaluatedPropsToName=hQ;function sD(e,t,r){Object.keys(r).forEach(n=>e.assign((0,Yn._)`${t}${(0,Yn.getProperty)(n)}`,!0))}Jt.setEvaluated=sD;const r6={};function B$e(e,t){return e.scopeValue("func",{ref:t,code:r6[t.code]||(r6[t.code]=new I$e._Code(t.code))})}Jt.useFunc=B$e;var lC;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(lC||(Jt.Type=lC={}));function U$e(e,t,r){if(e instanceof Yn.Name){const n=t===lC.Num;return r?n?(0,Yn._)`"[" + ${e} + "]"`:(0,Yn._)`"['" + ${e} + "']"`:n?(0,Yn._)`"/" + ${e}`:(0,Yn._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Yn.getProperty)(e).toString():"/"+oD(e)}Jt.getErrorPath=U$e;function pQ(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}Jt.checkStrictMode=pQ;var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});const jo=xr,z$e={data:new jo.Name("data"),valCxt:new jo.Name("valCxt"),instancePath:new jo.Name("instancePath"),parentData:new jo.Name("parentData"),parentDataProperty:new jo.Name("parentDataProperty"),rootData:new jo.Name("rootData"),dynamicAnchors:new jo.Name("dynamicAnchors"),vErrors:new jo.Name("vErrors"),errors:new jo.Name("errors"),this:new jo.Name("this"),self:new jo.Name("self"),scope:new jo.Name("scope"),json:new jo.Name("json"),jsonPos:new jo.Name("jsonPos"),jsonLen:new jo.Name("jsonLen"),jsonPart:new jo.Name("jsonPart")};Ra.default=z$e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=xr,r=Jt,n=Ra;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,t.str)`"${v}" keyword must be ${p} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,p=e.keywordError,E,y){const{it:S}=v,{gen:T,compositeRule:$,allErrors:d}=S,x=c(v,p,E);y??($||d)?l(T,x):u(S,(0,t._)`[${x}]`)}e.reportError=i;function o(v,p=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:T,allErrors:$}=y,d=c(v,p,E);l(S,d),T||$||u(y,n.default.vErrors)}e.reportExtraError=o;function s(v,p){v.assign(n.default.errors,p),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,t._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:p,schemaValue:E,data:y,errsCount:S,it:T}){if(S===void 0)throw new Error("ajv implementation error");const $=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const($,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${$}.instancePath === undefined`,()=>v.assign((0,t._)`${$}.instancePath`,(0,t.strConcat)(n.default.instancePath,T.errorPath))),v.assign((0,t._)`${$}.schemaPath`,(0,t.str)`${T.errSchemaPath}/${p}`),T.opts.verbose&&(v.assign((0,t._)`${$}.schema`,E),v.assign((0,t._)`${$}.data`,y))})}e.extendErrors=a;function l(v,p){const E=v.const("err",p);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,p){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${p})`):(E.assign((0,t._)`${y}.errors`,p),E.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,p,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:h(v,p,E)}function h(v,p,E={}){const{gen:y,it:S}=v,T=[m(S,E),g(v,E)];return _(v,p,T),y.object(...T)}function m({errorPath:v},{instancePath:p}){const E=p?(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:p}},{schemaPath:E,parentSchema:y}){let S=y?p:(0,t.str)`${p}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:p,message:E},y){const{keyword:S,data:T,schemaValue:$,it:d}=v,{opts:x,propertyName:O,topSchemaRef:P,schemaPath:M}=d;y.push([f.keyword,S],[f.params,typeof p=="function"?p(v):p||(0,t._)`{}`]),x.messages&&y.push([f.message,typeof E=="function"?E(v):E]),x.verbose&&y.push([f.schema,$],[f.parentSchema,(0,t._)`${P}${M}`],[n.default.data,T]),O&&y.push([f.propertyName,O])}})(O0);Object.defineProperty(Zm,"__esModule",{value:!0});Zm.boolOrEmptySchema=Zm.topBoolOrEmptySchema=void 0;const q$e=O0,V$e=xr,H$e=Ra,W$e={message:"boolean schema is false"};function G$e(e){const{gen:t,schema:r,validateName:n}=e;r===!1?mQ(e,!1):typeof r=="object"&&r.$async===!0?t.return(H$e.default.data):(t.assign((0,V$e._)`${n}.errors`,null),t.return(!0))}Zm.topBoolOrEmptySchema=G$e;function K$e(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),mQ(e)):r.var(t,!0)}Zm.boolOrEmptySchema=K$e;function mQ(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,q$e.reportError)(i,W$e,void 0,t)}var Qi={},Xh={};Object.defineProperty(Xh,"__esModule",{value:!0});Xh.getRules=Xh.isJSONType=void 0;const J$e=["string","number","integer","boolean","null","object","array"],Y$e=new Set(J$e);function X$e(e){return typeof e=="string"&&Y$e.has(e)}Xh.isJSONType=X$e;function Q$e(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Xh.getRules=Q$e;var Rc={};Object.defineProperty(Rc,"__esModule",{value:!0});Rc.shouldUseRule=Rc.shouldUseGroup=Rc.schemaHasRulesForType=void 0;function Z$e({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&gQ(e,n)}Rc.schemaHasRulesForType=Z$e;function gQ(e,t){return t.rules.some(r=>vQ(e,r))}Rc.shouldUseGroup=gQ;function vQ(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Rc.shouldUseRule=vQ;Object.defineProperty(Qi,"__esModule",{value:!0});Qi.reportTypeError=Qi.checkDataTypes=Qi.checkDataType=Qi.coerceAndCheckDataType=Qi.getJSONTypes=Qi.getSchemaTypes=Qi.DataType=void 0;const exe=Xh,txe=Rc,rxe=O0,kr=xr,yQ=Jt;var km;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(km||(Qi.DataType=km={}));function nxe(e){const t=wQ(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Qi.getSchemaTypes=nxe;function wQ(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(exe.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Qi.getJSONTypes=wQ;function ixe(e,t){const{gen:r,data:n,opts:i}=e,o=oxe(t,i.coerceTypes),s=t.length>0&&!(o.length===0&&t.length===1&&(0,txe.schemaHasRulesForType)(e,t[0]));if(s){const a=aD(t,n,i.strictNumbers,km.Wrong);r.if(a,()=>{o.length?sxe(e,t,o):lD(e)})}return s}Qi.coerceAndCheckDataType=ixe;const bQ=new Set(["string","number","integer","boolean","null"]);function oxe(e,t){return t?e.filter(r=>bQ.has(r)||t==="array"&&r==="array"):[]}function sxe(e,t,r){const{gen:n,data:i,opts:o}=e,s=n.let("dataType",(0,kr._)`typeof ${i}`),a=n.let("coerced",(0,kr._)`undefined`);o.coerceTypes==="array"&&n.if((0,kr._)`${s} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,kr._)`${i}[0]`).assign(s,(0,kr._)`typeof ${i}`).if(aD(t,i,o.strictNumbers),()=>n.assign(a,i))),n.if((0,kr._)`${a} !== undefined`);for(const u of r)(bQ.has(u)||u==="array"&&o.coerceTypes==="array")&&l(u);n.else(),lD(e),n.endIf(),n.if((0,kr._)`${a} !== undefined`,()=>{n.assign(i,a),axe(e,a)});function l(u){switch(u){case"string":n.elseIf((0,kr._)`${s} == "number" || ${s} == "boolean"`).assign(a,(0,kr._)`"" + ${i}`).elseIf((0,kr._)`${i} === null`).assign(a,(0,kr._)`""`);return;case"number":n.elseIf((0,kr._)`${s} == "boolean" || ${i} === null
              || (${s} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,kr._)`+${i}`);return;case"integer":n.elseIf((0,kr._)`${s} === "boolean" || ${i} === null
              || (${s} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,kr._)`+${i}`);return;case"boolean":n.elseIf((0,kr._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,kr._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":n.elseIf((0,kr._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(a,null);return;case"array":n.elseIf((0,kr._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${i} === null`).assign(a,(0,kr._)`[${i}]`)}}}function axe({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,kr._)`${t} !== undefined`,()=>e.assign((0,kr._)`${t}[${r}]`,n))}function uC(e,t,r,n=km.Correct){const i=n===km.Correct?kr.operators.EQ:kr.operators.NEQ;let o;switch(e){case"null":return(0,kr._)`${t} ${i} null`;case"array":o=(0,kr._)`Array.isArray(${t})`;break;case"object":o=(0,kr._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=s((0,kr._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=s();break;default:return(0,kr._)`typeof ${t} ${i} ${e}`}return n===km.Correct?o:(0,kr.not)(o);function s(a=kr.nil){return(0,kr.and)((0,kr._)`typeof ${t} == "number"`,a,r?(0,kr._)`isFinite(${t})`:kr.nil)}}Qi.checkDataType=uC;function aD(e,t,r,n){if(e.length===1)return uC(e[0],t,r,n);let i;const o=(0,yQ.toHash)(e);if(o.array&&o.object){const s=(0,kr._)`typeof ${t} != "object"`;i=o.null?s:(0,kr._)`!${t} || ${s}`,delete o.null,delete o.array,delete o.object}else i=kr.nil;o.number&&delete o.integer;for(const s in o)i=(0,kr.and)(i,uC(s,t,r,n));return i}Qi.checkDataTypes=aD;const lxe={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,kr._)`{type: ${e}}`:(0,kr._)`{type: ${t}}`};function lD(e){const t=uxe(e);(0,rxe.reportError)(t,lxe)}Qi.reportTypeError=lD;function uxe(e){const{gen:t,data:r,schema:n}=e,i=(0,yQ.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}var WT={};Object.defineProperty(WT,"__esModule",{value:!0});WT.assignDefaults=void 0;const Mp=xr,cxe=Jt;function fxe(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)n6(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,o)=>n6(e,o,i.default))}WT.assignDefaults=fxe;function n6(e,t,r){const{gen:n,compositeRule:i,data:o,opts:s}=e;if(r===void 0)return;const a=(0,Mp._)`${o}${(0,Mp.getProperty)(t)}`;if(i){(0,cxe.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,Mp._)`${a} === undefined`;s.useDefaults==="empty"&&(l=(0,Mp._)`${l} || ${a} === null || ${a} === ""`),n.if(l,(0,Mp._)`${a} = ${(0,Mp.stringify)(r)}`)}var ju={},Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.validateUnion=Yr.validateArray=Yr.usePattern=Yr.callValidateCode=Yr.schemaProperties=Yr.allSchemaProperties=Yr.noPropertyInData=Yr.propertyInData=Yr.isOwnProperty=Yr.hasPropFunc=Yr.reportMissingProp=Yr.checkMissingProp=Yr.checkReportMissingProp=void 0;const ii=xr,uD=Jt,bf=Ra,dxe=Jt;function hxe(e,t){const{gen:r,data:n,it:i}=e;r.if(fD(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ii._)`${t}`},!0),e.error()})}Yr.checkReportMissingProp=hxe;function pxe({gen:e,data:t,it:{opts:r}},n,i){return(0,ii.or)(...n.map(o=>(0,ii.and)(fD(e,t,o,r.ownProperties),(0,ii._)`${i} = ${o}`)))}Yr.checkMissingProp=pxe;function mxe(e,t){e.setParams({missingProperty:t},!0),e.error()}Yr.reportMissingProp=mxe;function _Q(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ii._)`Object.prototype.hasOwnProperty`})}Yr.hasPropFunc=_Q;function cD(e,t,r){return(0,ii._)`${_Q(e)}.call(${t}, ${r})`}Yr.isOwnProperty=cD;function gxe(e,t,r,n){const i=(0,ii._)`${t}${(0,ii.getProperty)(r)} !== undefined`;return n?(0,ii._)`${i} && ${cD(e,t,r)}`:i}Yr.propertyInData=gxe;function fD(e,t,r,n){const i=(0,ii._)`${t}${(0,ii.getProperty)(r)} === undefined`;return n?(0,ii.or)(i,(0,ii.not)(cD(e,t,r))):i}Yr.noPropertyInData=fD;function EQ(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Yr.allSchemaProperties=EQ;function vxe(e,t){return EQ(t).filter(r=>!(0,uD.alwaysValidSchema)(e,t[r]))}Yr.schemaProperties=vxe;function yxe({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:o},it:s},a,l,u){const f=u?(0,ii._)`${e}, ${t}, ${n}${i}`:t,c=[[bf.default.instancePath,(0,ii.strConcat)(bf.default.instancePath,o)],[bf.default.parentData,s.parentData],[bf.default.parentDataProperty,s.parentDataProperty],[bf.default.rootData,bf.default.rootData]];s.opts.dynamicRef&&c.push([bf.default.dynamicAnchors,bf.default.dynamicAnchors]);const h=(0,ii._)`${f}, ${r.object(...c)}`;return l!==ii.nil?(0,ii._)`${a}.call(${l}, ${h})`:(0,ii._)`${a}(${h})`}Yr.callValidateCode=yxe;const wxe=(0,ii._)`new RegExp`;function bxe({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,o=i(r,n);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,ii._)`${i.code==="new RegExp"?wxe:(0,dxe.useFunc)(e,i)}(${r}, ${n})`})}Yr.usePattern=bxe;function _xe(e){const{gen:t,data:r,keyword:n,it:i}=e,o=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return s(()=>t.assign(a,!1)),a}return t.var(o,!0),s(()=>t.break()),o;function s(a){const l=t.const("len",(0,ii._)`${r}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:uD.Type.Num},o),t.if((0,ii.not)(o),a)})}}Yr.validateArray=_xe;function Exe(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,uD.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const s=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((l,u)=>{const f=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},a);t.assign(s,(0,ii._)`${s} || ${a}`),e.mergeValidEvaluated(f,a)||t.if((0,ii.not)(s))})),e.result(s,()=>e.reset(),()=>e.error(!0))}Yr.validateUnion=Exe;Object.defineProperty(ju,"__esModule",{value:!0});ju.validateKeywordUsage=ju.validSchemaType=ju.funcKeywordCode=ju.macroKeywordCode=void 0;const ls=xr,hh=Ra,Sxe=Yr,Txe=O0;function $xe(e,t){const{gen:r,keyword:n,schema:i,parentSchema:o,it:s}=e,a=t.macro.call(s.self,i,o,s),l=SQ(r,n,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);const u=r.name("valid");e.subschema({schema:a,schemaPath:ls.nil,errSchemaPath:`${s.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}ju.macroKeywordCode=$xe;function xxe(e,t){var r;const{gen:n,keyword:i,schema:o,parentSchema:s,$data:a,it:l}=e;Oxe(l,t);const u=!a&&t.compile?t.compile.call(l.self,o,s,l):t.validate,f=SQ(n,i,u),c=n.let("valid");e.block$data(c,h),e.ok((r=t.valid)!==null&&r!==void 0?r:c);function h(){if(t.errors===!1)_(),t.modifying&&i6(e),v(()=>e.error());else{const p=t.async?m():g();t.modifying&&i6(e),v(()=>Axe(e,p))}}function m(){const p=n.let("ruleErrs",null);return n.try(()=>_((0,ls._)`await `),E=>n.assign(c,!1).if((0,ls._)`${E} instanceof ${l.ValidationError}`,()=>n.assign(p,(0,ls._)`${E}.errors`),()=>n.throw(E))),p}function g(){const p=(0,ls._)`${f}.errors`;return n.assign(p,null),_(ls.nil),p}function _(p=t.async?(0,ls._)`await `:ls.nil){const E=l.opts.passContext?hh.default.this:hh.default.self,y=!("compile"in t&&!a||t.schema===!1);n.assign(c,(0,ls._)`${p}${(0,Sxe.callValidateCode)(e,f,E,y)}`,t.modifying)}function v(p){var E;n.if((0,ls.not)((E=t.valid)!==null&&E!==void 0?E:c),p)}}ju.funcKeywordCode=xxe;function i6(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,ls._)`${n.parentData}[${n.parentDataProperty}]`))}function Axe(e,t){const{gen:r}=e;r.if((0,ls._)`Array.isArray(${t})`,()=>{r.assign(hh.default.vErrors,(0,ls._)`${hh.default.vErrors} === null ? ${t} : ${hh.default.vErrors}.concat(${t})`).assign(hh.default.errors,(0,ls._)`${hh.default.vErrors}.length`),(0,Txe.extendErrors)(e)},()=>e.error())}function Oxe({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function SQ(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ls.stringify)(r)})}function Pxe(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}ju.validSchemaType=Pxe;function Rxe({schema:e,opts:t,self:r,errSchemaPath:n},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const s=i.dependencies;if(s!=null&&s.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[o])){const l=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}ju.validateKeywordUsage=Rxe;var od={};Object.defineProperty(od,"__esModule",{value:!0});od.extendSubschemaMode=od.extendSubschemaData=od.getSubschema=void 0;const Nu=xr,TQ=Jt;function Nxe(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:o,topSchemaRef:s}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Nu._)`${e.schemaPath}${(0,Nu.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Nu._)`${e.schemaPath}${(0,Nu.getProperty)(t)}${(0,Nu.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,TQ.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||o===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:s,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}od.getSubschema=Nxe;function Ixe(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:o,propertyName:s}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(r!==void 0){const{errorPath:u,dataPathArr:f,opts:c}=t,h=a.let("data",(0,Nu._)`${t.data}${(0,Nu.getProperty)(r)}`,!0);l(h),e.errorPath=(0,Nu.str)`${u}${(0,TQ.getErrorPath)(r,n,c.jsPropertySyntax)}`,e.parentDataProperty=(0,Nu._)`${r}`,e.dataPathArr=[...f,e.parentDataProperty]}if(i!==void 0){const u=i instanceof Nu.Name?i:a.let("data",i,!0);l(u),s!==void 0&&(e.propertyName=s)}o&&(e.dataTypes=o);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}od.extendSubschemaData=Ixe;function Cxe(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:o}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),o!==void 0&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}od.extendSubschemaMode=Cxe;var _o={},$Q=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r},xQ={exports:{}},Gf=xQ.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};HE(t,n,i,e,"",e)};Gf.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Gf.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Gf.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Gf.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function HE(e,t,r,n,i,o,s,a,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,o,s,a,l,u);for(var f in n){var c=n[f];if(Array.isArray(c)){if(f in Gf.arrayKeywords)for(var h=0;h<c.length;h++)HE(e,t,r,c[h],i+"/"+f+"/"+h,o,i,f,n,h)}else if(f in Gf.propsKeywords){if(c&&typeof c=="object")for(var m in c)HE(e,t,r,c[m],i+"/"+f+"/"+kxe(m),o,i,f,n,m)}else(f in Gf.keywords||e.allKeys&&!(f in Gf.skipKeywords))&&HE(e,t,r,c,i+"/"+f,o,i,f,n)}r(n,i,o,s,a,l,u)}}function kxe(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var jxe=xQ.exports;Object.defineProperty(_o,"__esModule",{value:!0});_o.getSchemaRefs=_o.resolveUrl=_o.normalizeId=_o._getFullPath=_o.getFullPath=_o.inlineRef=void 0;const Dxe=Jt,Mxe=$Q,Lxe=jxe,Fxe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Bxe(e,t=!0){return typeof e=="boolean"?!0:t===!0?!cC(e):t?AQ(e)<=t:!1}_o.inlineRef=Bxe;const Uxe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function cC(e){for(const t in e){if(Uxe.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(cC)||typeof r=="object"&&cC(r))return!0}return!1}function AQ(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Fxe.has(r)&&(typeof e[r]=="object"&&(0,Dxe.eachItem)(e[r],n=>t+=AQ(n)),t===1/0))return 1/0}return t}function OQ(e,t="",r){r!==!1&&(t=jm(t));const n=e.parse(t);return PQ(e,n)}_o.getFullPath=OQ;function PQ(e,t){return e.serialize(t).split("#")[0]+"#"}_o._getFullPath=PQ;const zxe=/#\/?$/;function jm(e){return e?e.replace(zxe,""):""}_o.normalizeId=jm;function qxe(e,t,r){return r=jm(r),e.resolve(t,r)}_o.resolveUrl=qxe;const Vxe=/^[a-z_][-a-z0-9._]*$/i;function Hxe(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=jm(e[r]||t),o={"":i},s=OQ(n,i,!1),a={},l=new Set;return Lxe(e,{allKeys:!0},(c,h,m,g)=>{if(g===void 0)return;const _=s+h;let v=o[g];typeof c[r]=="string"&&(v=p.call(this,c[r])),E.call(this,c.$anchor),E.call(this,c.$dynamicAnchor),o[h]=v;function p(y){const S=this.opts.uriResolver.resolve;if(y=jm(v?S(v,y):y),l.has(y))throw f(y);l.add(y);let T=this.refs[y];return typeof T=="string"&&(T=this.refs[T]),typeof T=="object"?u(c,T.schema,y):y!==jm(_)&&(y[0]==="#"?(u(c,a[y],y),a[y]=c):this.refs[y]=_),y}function E(y){if(typeof y=="string"){if(!Vxe.test(y))throw new Error(`invalid anchor "${y}"`);p.call(this,`#${y}`)}}}),a;function u(c,h,m){if(h!==void 0&&!Mxe(c,h))throw f(m)}function f(c){return new Error(`reference "${c}" resolves to more than one schema`)}}_o.getSchemaRefs=Hxe;Object.defineProperty(cl,"__esModule",{value:!0});cl.getData=cl.KeywordCxt=cl.validateFunctionCode=void 0;const RQ=Zm,o6=Qi,dD=Rc,m1=Qi,Wxe=WT,ey=ju,WA=od,lr=xr,Sr=Ra,Gxe=_o,Nc=Jt,nv=O0;function Kxe(e){if(CQ(e)&&(kQ(e),IQ(e))){Xxe(e);return}NQ(e,()=>(0,RQ.topBoolOrEmptySchema)(e))}cl.validateFunctionCode=Kxe;function NQ({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},o){i.code.es5?e.func(t,(0,lr._)`${Sr.default.data}, ${Sr.default.valCxt}`,n.$async,()=>{e.code((0,lr._)`"use strict"; ${s6(r,i)}`),Yxe(e,i),e.code(o)}):e.func(t,(0,lr._)`${Sr.default.data}, ${Jxe(i)}`,n.$async,()=>e.code(s6(r,i)).code(o))}function Jxe(e){return(0,lr._)`{${Sr.default.instancePath}="", ${Sr.default.parentData}, ${Sr.default.parentDataProperty}, ${Sr.default.rootData}=${Sr.default.data}${e.dynamicRef?(0,lr._)`, ${Sr.default.dynamicAnchors}={}`:lr.nil}}={}`}function Yxe(e,t){e.if(Sr.default.valCxt,()=>{e.var(Sr.default.instancePath,(0,lr._)`${Sr.default.valCxt}.${Sr.default.instancePath}`),e.var(Sr.default.parentData,(0,lr._)`${Sr.default.valCxt}.${Sr.default.parentData}`),e.var(Sr.default.parentDataProperty,(0,lr._)`${Sr.default.valCxt}.${Sr.default.parentDataProperty}`),e.var(Sr.default.rootData,(0,lr._)`${Sr.default.valCxt}.${Sr.default.rootData}`),t.dynamicRef&&e.var(Sr.default.dynamicAnchors,(0,lr._)`${Sr.default.valCxt}.${Sr.default.dynamicAnchors}`)},()=>{e.var(Sr.default.instancePath,(0,lr._)`""`),e.var(Sr.default.parentData,(0,lr._)`undefined`),e.var(Sr.default.parentDataProperty,(0,lr._)`undefined`),e.var(Sr.default.rootData,Sr.default.data),t.dynamicRef&&e.var(Sr.default.dynamicAnchors,(0,lr._)`{}`)})}function Xxe(e){const{schema:t,opts:r,gen:n}=e;NQ(e,()=>{r.$comment&&t.$comment&&DQ(e),rAe(e),n.let(Sr.default.vErrors,null),n.let(Sr.default.errors,0),r.unevaluated&&Qxe(e),jQ(e),oAe(e)})}function Qxe(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,lr._)`${r}.evaluated`),t.if((0,lr._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,lr._)`${e.evaluated}.props`,(0,lr._)`undefined`)),t.if((0,lr._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,lr._)`${e.evaluated}.items`,(0,lr._)`undefined`))}function s6(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,lr._)`/*# sourceURL=${r} */`:lr.nil}function Zxe(e,t){if(CQ(e)&&(kQ(e),IQ(e))){eAe(e,t);return}(0,RQ.boolOrEmptySchema)(e,t)}function IQ({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function CQ(e){return typeof e.schema!="boolean"}function eAe(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&DQ(e),nAe(e),iAe(e);const o=n.const("_errs",Sr.default.errors);jQ(e,o),n.var(t,(0,lr._)`${o} === ${Sr.default.errors}`)}function kQ(e){(0,Nc.checkUnknownRules)(e),tAe(e)}function jQ(e,t){if(e.opts.jtd)return a6(e,[],!1,t);const r=(0,o6.getSchemaTypes)(e.schema),n=(0,o6.coerceAndCheckDataType)(e,r);a6(e,r,!n,t)}function tAe(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Nc.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function rAe(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Nc.checkStrictMode)(e,"default is ignored in the schema root")}function nAe(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Gxe.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function iAe(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function DQ({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const o=r.$comment;if(i.$comment===!0)e.code((0,lr._)`${Sr.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){const s=(0,lr.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,lr._)`${Sr.default.self}.opts.$comment(${o}, ${s}, ${a}.schema)`)}}function oAe(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:o}=e;r.$async?t.if((0,lr._)`${Sr.default.errors} === 0`,()=>t.return(Sr.default.data),()=>t.throw((0,lr._)`new ${i}(${Sr.default.vErrors})`)):(t.assign((0,lr._)`${n}.errors`,Sr.default.vErrors),o.unevaluated&&sAe(e),t.return((0,lr._)`${Sr.default.errors} === 0`))}function sAe({gen:e,evaluated:t,props:r,items:n}){r instanceof lr.Name&&e.assign((0,lr._)`${t}.props`,r),n instanceof lr.Name&&e.assign((0,lr._)`${t}.items`,n)}function a6(e,t,r,n){const{gen:i,schema:o,data:s,allErrors:a,opts:l,self:u}=e,{RULES:f}=u;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,Nc.schemaHasRulesButRef)(o,f))){i.block(()=>FQ(e,"$ref",f.all.$ref.definition));return}l.jtd||aAe(e,t),i.block(()=>{for(const h of f.rules)c(h);c(f.post)});function c(h){(0,dD.shouldUseGroup)(o,h)&&(h.type?(i.if((0,m1.checkDataType)(h.type,s,l.strictNumbers)),l6(e,h),t.length===1&&t[0]===h.type&&r&&(i.else(),(0,m1.reportTypeError)(e)),i.endIf()):l6(e,h),a||i.if((0,lr._)`${Sr.default.errors} === ${n||0}`))}}function l6(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,Wxe.assignDefaults)(e,t.type),r.block(()=>{for(const o of t.rules)(0,dD.shouldUseRule)(n,o)&&FQ(e,o.keyword,o.definition,t.type)})}function aAe(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(lAe(e,t),e.opts.allowUnionTypes||uAe(e,t),cAe(e,e.dataTypes))}function lAe(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{MQ(e.dataTypes,r)||hD(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),dAe(e,t)}}function uAe(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&hD(e,"use allowUnionTypes to allow union type keyword")}function cAe(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,dD.shouldUseRule)(e.schema,i)){const{type:o}=i.definition;o.length&&!o.some(s=>fAe(t,s))&&hD(e,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function fAe(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function MQ(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function dAe(e,t){const r=[];for(const n of e.dataTypes)MQ(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function hD(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Nc.checkStrictMode)(e,t,e.opts.strictTypes)}class LQ{constructor(t,r,n){if((0,ey.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Nc.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",BQ(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,ey.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Sr.default.errors))}result(t,r,n){this.failResult((0,lr.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,lr.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,lr._)`${r} !== undefined && (${(0,lr.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?nv.reportExtraError:nv.reportError)(this,this.def.error,r)}$dataError(){(0,nv.reportError)(this,this.def.$dataError||nv.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,nv.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=lr.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=lr.nil,r=lr.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:o,def:s}=this;n.if((0,lr.or)((0,lr._)`${i} === undefined`,r)),t!==lr.nil&&n.assign(t,!0),(o.length||s.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==lr.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:o}=this;return(0,lr.or)(s(),a());function s(){if(n.length){if(!(r instanceof lr.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,lr._)`${(0,m1.checkDataTypes)(l,r,o.opts.strictNumbers,m1.DataType.Wrong)}`}return lr.nil}function a(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,lr._)`!${l}(${r})`}return lr.nil}}subschema(t,r){const n=(0,WA.getSubschema)(this.it,t);(0,WA.extendSubschemaData)(n,this.it,t),(0,WA.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return Zxe(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Nc.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Nc.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,lr.Name)),!0}}cl.KeywordCxt=LQ;function FQ(e,t,r,n){const i=new LQ(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,ey.funcKeywordCode)(i,r):"macro"in r?(0,ey.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,ey.funcKeywordCode)(i,r)}const hAe=/^\/(?:[^~]|~0|~1)*$/,pAe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function BQ(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,o;if(e==="")return Sr.default.rootData;if(e[0]==="/"){if(!hAe.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,o=Sr.default.rootData}else{const u=pAe.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const f=+u[1];if(i=u[2],i==="#"){if(f>=t)throw new Error(l("property/index",f));return n[t-f]}if(f>t)throw new Error(l("data",f));if(o=r[t-f],!i)return o}let s=o;const a=i.split("/");for(const u of a)u&&(o=(0,lr._)`${o}${(0,lr.getProperty)((0,Nc.unescapeJsonPointer)(u))}`,s=(0,lr._)`${s} && ${o}`);return s;function l(u,f){return`Cannot access ${u} ${f} levels up, current level is ${t}`}}cl.getData=BQ;var mg={};Object.defineProperty(mg,"__esModule",{value:!0});class mAe extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}mg.default=mAe;var cp={};Object.defineProperty(cp,"__esModule",{value:!0});const GA=_o;class gAe extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,GA.resolveUrl)(t,r,n),this.missingSchema=(0,GA.normalizeId)((0,GA.getFullPath)(t,this.missingRef))}}cp.default=gAe;var fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.resolveSchema=fs.getCompilingSchema=fs.resolveRef=fs.compileSchema=fs.SchemaEnv=void 0;const kl=xr,vAe=mg,eh=Ra,Wl=_o,u6=Jt,yAe=cl;class GT{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Wl.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}fs.SchemaEnv=GT;function pD(e){const t=UQ.call(this,e);if(t)return t;const r=(0,Wl.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:o}=this.opts,s=new kl.CodeGen(this.scope,{es5:n,lines:i,ownProperties:o});let a;e.$async&&(a=s.scopeValue("Error",{ref:vAe.default,code:(0,kl._)`require("ajv/dist/runtime/validation_error").default`}));const l=s.scopeName("validate");e.validateName=l;const u={gen:s,allErrors:this.opts.allErrors,data:eh.default.data,parentData:eh.default.parentData,parentDataProperty:eh.default.parentDataProperty,dataNames:[eh.default.data],dataPathArr:[kl.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,kl.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:kl.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,kl._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,yAe.validateFunctionCode)(u),s.optimize(this.opts.code.optimize);const c=s.toString();f=`${s.scopeRefs(eh.default.scope)}return ${c}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const m=new Function(`${eh.default.self}`,`${eh.default.scope}`,f)(this,this.scope.get());if(this.scope.value(l,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:l,validateCode:c,scopeValues:s._values}),this.opts.unevaluated){const{props:g,items:_}=u;m.evaluated={props:g instanceof kl.Name?void 0:g,items:_ instanceof kl.Name?void 0:_,dynamicProps:g instanceof kl.Name,dynamicItems:_ instanceof kl.Name},m.source&&(m.source.evaluated=(0,kl.stringify)(m.evaluated))}return e.validate=m,e}catch(c){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),c}finally{this._compilations.delete(e)}}fs.compileSchema=pD;function wAe(e,t,r){var n;r=(0,Wl.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let o=EAe.call(this,e,r);if(o===void 0){const s=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;s&&(o=new GT({schema:s,schemaId:a,root:e,baseId:t}))}if(o!==void 0)return e.refs[r]=bAe.call(this,o)}fs.resolveRef=wAe;function bAe(e){return(0,Wl.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:pD.call(this,e)}function UQ(e){for(const t of this._compilations)if(_Ae(t,e))return t}fs.getCompilingSchema=UQ;function _Ae(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function EAe(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||KT.call(this,e,t)}function KT(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Wl._getFullPath)(this.opts.uriResolver,r);let i=(0,Wl.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return KA.call(this,r,e);const o=(0,Wl.normalizeId)(n),s=this.refs[o]||this.schemas[o];if(typeof s=="string"){const a=KT.call(this,e,s);return typeof(a==null?void 0:a.schema)!="object"?void 0:KA.call(this,r,a)}if(typeof(s==null?void 0:s.schema)=="object"){if(s.validate||pD.call(this,s),o===(0,Wl.normalizeId)(t)){const{schema:a}=s,{schemaId:l}=this.opts,u=a[l];return u&&(i=(0,Wl.resolveUrl)(this.opts.uriResolver,i,u)),new GT({schema:a,schemaId:l,root:e,baseId:i})}return KA.call(this,r,s)}}fs.resolveSchema=KT;const SAe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function KA(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,u6.unescapeFragment)(a)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!SAe.has(a)&&u&&(t=(0,Wl.resolveUrl)(this.opts.uriResolver,t,u))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,u6.schemaHasRulesButRef)(r,this.RULES)){const a=(0,Wl.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=KT.call(this,n,a)}const{schemaId:s}=this.opts;if(o=o||new GT({schema:r,schemaId:s,root:n,baseId:t}),o.schema!==o.root.schema)return o}const TAe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",$Ae="Meta-schema for $data reference (JSON AnySchema extension proposal)",xAe="object",AAe=["$data"],OAe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},PAe=!1,RAe={$id:TAe,description:$Ae,type:xAe,required:AAe,properties:OAe,additionalProperties:PAe};var mD={},JT={exports:{}};const NAe=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),zQ=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function qQ(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}const IAe=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function c6(e){return e.length=0,!0}function CAe(e,t,r){if(e.length){const n=qQ(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function kAe(e){let t=0;const r={error:!1,address:"",zone:""},n=[],i=[];let o=!1,s=!1,a=CAe;for(let l=0;l<e.length;l++){const u=e[l];if(!(u==="["||u==="]"))if(u===":"){if(o===!0&&(s=!0),!a(i,n,r))break;if(++t>7){r.error=!0;break}l>0&&e[l-1]===":"&&(o=!0),n.push(":");continue}else if(u==="%"){if(!a(i,n,r))break;a=c6}else{i.push(u);continue}}return i.length&&(a===c6?r.zone=i.join(""):s?n.push(i.join("")):n.push(qQ(i))),r.address=n.join(""),r}function VQ(e){if(jAe(e,":")<2)return{host:e,isIPV6:!1};const t=kAe(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function jAe(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function DAe(e){let t=e;const r=[];let n=-1,i=0;for(;i=t.length;){if(i===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(i===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(i===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function MAe(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function LAe(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!zQ(r)){const n=VQ(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var HQ={nonSimpleDomain:IAe,recomposeAuthority:LAe,normalizeComponentEncoding:MAe,removeDotSegments:DAe,isIPv4:zQ,isUUID:NAe,normalizeIPv6:VQ};const{isUUID:FAe}=HQ,BAe=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function WQ(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function GQ(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function KQ(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function UAe(e){return e.secure=WQ(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function zAe(e){if((e.port===(WQ(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function qAe(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(BAe);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const i=`${n}:${t.nid||e.nid}`,o=gD(i);e.path=void 0,o&&(e=o.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function VAe(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),i=`${r}:${t.nid||n}`,o=gD(i);o&&(e=o.serialize(e,t));const s=e,a=e.nss;return s.path=`${n||t.nid}:${a}`,t.skipEscape=!0,s}function HAe(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!FAe(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function WAe(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const JQ={scheme:"http",domainHost:!0,parse:GQ,serialize:KQ},GAe={scheme:"https",domainHost:JQ.domainHost,parse:GQ,serialize:KQ},WE={scheme:"ws",domainHost:!0,parse:UAe,serialize:zAe},KAe={scheme:"wss",domainHost:WE.domainHost,parse:WE.parse,serialize:WE.serialize},JAe={scheme:"urn",parse:qAe,serialize:VAe,skipNormalize:!0},YAe={scheme:"urn:uuid",parse:HAe,serialize:WAe,skipNormalize:!0},g1={http:JQ,https:GAe,ws:WE,wss:KAe,urn:JAe,"urn:uuid":YAe};Object.setPrototypeOf(g1,null);function gD(e){return e&&(g1[e]||g1[e.toLowerCase()])||void 0}var XAe={SCHEMES:g1,getSchemeHandler:gD};const{normalizeIPv6:QAe,removeDotSegments:Pv,recomposeAuthority:ZAe,normalizeComponentEncoding:ob,isIPv4:eOe,nonSimpleDomain:tOe}=HQ,{SCHEMES:rOe,getSchemeHandler:YQ}=XAe;function nOe(e,t){return typeof e=="string"?e=Du(Fc(e,t),t):typeof e=="object"&&(e=Fc(Du(e,t),t)),e}function iOe(e,t,r){const n=r?Object.assign({scheme:"null"},r):{scheme:"null"},i=XQ(Fc(e,n),Fc(t,n),n,!0);return n.skipEscape=!0,Du(i,n)}function XQ(e,t,r,n){const i={};return n||(e=Fc(Du(e,r),r),t=Fc(Du(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=Pv(t.path||""),i.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=Pv(t.path||""),i.query=t.query):(t.path?(t.path[0]==="/"?i.path=Pv(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?i.path="/"+t.path:e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path,i.path=Pv(i.path)),i.query=t.query):(i.path=e.path,t.query!==void 0?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function oOe(e,t,r){return typeof e=="string"?(e=unescape(e),e=Du(ob(Fc(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Du(ob(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Du(ob(Fc(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Du(ob(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Du(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),i=[],o=YQ(n.scheme||r.scheme);o&&o.serialize&&o.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&i.push(r.scheme,":");const s=ZAe(r);if(s!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(s),r.path&&r.path[0]!=="/"&&i.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!o||!o.absolutePath)&&(a=Pv(a)),s===void 0&&a[0]==="/"&&a[1]==="/"&&(a="/%2F"+a.slice(2)),i.push(a)}return r.query!==void 0&&i.push("?",r.query),r.fragment!==void 0&&i.push("#",r.fragment),i.join("")}const sOe=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Fc(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let i=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);const o=e.match(sOe);if(o){if(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5]),n.host)if(eOe(n.host)===!1){const l=QAe(n.host);n.host=l.host.toLowerCase(),i=l.isIPV6}else i=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const s=YQ(r.scheme||n.scheme);if(!r.unicodeSupport&&(!s||!s.unicodeSupport)&&n.host&&(r.domainHost||s&&s.domainHost)&&i===!1&&tOe(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(a){n.error=n.error||"Host's domain name can not be converted to ASCII: "+a}(!s||s&&!s.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),s&&s.parse&&s.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const vD={SCHEMES:rOe,normalize:nOe,resolve:iOe,resolveComponent:XQ,equal:oOe,serialize:Du,parse:Fc};JT.exports=vD;JT.exports.default=vD;JT.exports.fastUri=vD;var aOe=JT.exports;Object.defineProperty(mD,"__esModule",{value:!0});const QQ=aOe;QQ.code='require("ajv/dist/runtime/uri").default';mD.default=QQ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=cl;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=xr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=mg,i=cp,o=Xh,s=fs,a=xr,l=_o,u=Qi,f=Jt,c=RAe,h=mD,m=(D,z)=>new RegExp(D,z);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(D){var z,Y,N,I,q,ae,Z,te,ue,xe,Le,C,F,L,ee,ce,me,ve,Te,De,Ge,Ve,ht,tt,Xe;const Q=D.strict,k=(z=D.code)===null||z===void 0?void 0:z.optimize,B=k===!0||k===void 0?1:k||0,le=(N=(Y=D.code)===null||Y===void 0?void 0:Y.regExp)!==null&&N!==void 0?N:m,Ee=(I=D.uriResolver)!==null&&I!==void 0?I:h.default;return{strictSchema:(ae=(q=D.strictSchema)!==null&&q!==void 0?q:Q)!==null&&ae!==void 0?ae:!0,strictNumbers:(te=(Z=D.strictNumbers)!==null&&Z!==void 0?Z:Q)!==null&&te!==void 0?te:!0,strictTypes:(xe=(ue=D.strictTypes)!==null&&ue!==void 0?ue:Q)!==null&&xe!==void 0?xe:"log",strictTuples:(C=(Le=D.strictTuples)!==null&&Le!==void 0?Le:Q)!==null&&C!==void 0?C:"log",strictRequired:(L=(F=D.strictRequired)!==null&&F!==void 0?F:Q)!==null&&L!==void 0?L:!1,code:D.code?{...D.code,optimize:B,regExp:le}:{optimize:B,regExp:le},loopRequired:(ee=D.loopRequired)!==null&&ee!==void 0?ee:E,loopEnum:(ce=D.loopEnum)!==null&&ce!==void 0?ce:E,meta:(me=D.meta)!==null&&me!==void 0?me:!0,messages:(ve=D.messages)!==null&&ve!==void 0?ve:!0,inlineRefs:(Te=D.inlineRefs)!==null&&Te!==void 0?Te:!0,schemaId:(De=D.schemaId)!==null&&De!==void 0?De:"$id",addUsedSchema:(Ge=D.addUsedSchema)!==null&&Ge!==void 0?Ge:!0,validateSchema:(Ve=D.validateSchema)!==null&&Ve!==void 0?Ve:!0,validateFormats:(ht=D.validateFormats)!==null&&ht!==void 0?ht:!0,unicodeRegExp:(tt=D.unicodeRegExp)!==null&&tt!==void 0?tt:!0,int32range:(Xe=D.int32range)!==null&&Xe!==void 0?Xe:!0,uriResolver:Ee}}class S{constructor(z={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,z=this.opts={...z,...y(z)};const{es5:Y,lines:N}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:Y,lines:N}),this.logger=U(z.logger);const I=z.validateFormats;z.validateFormats=!1,this.RULES=(0,o.getRules)(),T.call(this,v,z,"NOT SUPPORTED"),T.call(this,p,z,"DEPRECATED","warn"),this._metaOpts=P.call(this),z.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),z.keywords&&O.call(this,z.keywords),typeof z.meta=="object"&&this.addMetaSchema(z.meta),d.call(this),z.validateFormats=I}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:z,meta:Y,schemaId:N}=this.opts;let I=c;N==="id"&&(I={...c},I.id=I.$id,delete I.$id),Y&&z&&this.addMetaSchema(I,I[N],!1)}defaultMeta(){const{meta:z,schemaId:Y}=this.opts;return this.opts.defaultMeta=typeof z=="object"?z[Y]||z:void 0}validate(z,Y){let N;if(typeof z=="string"){if(N=this.getSchema(z),!N)throw new Error(`no schema with key or ref "${z}"`)}else N=this.compile(z);const I=N(Y);return"$async"in N||(this.errors=N.errors),I}compile(z,Y){const N=this._addSchema(z,Y);return N.validate||this._compileSchemaEnv(N)}compileAsync(z,Y){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:N}=this.opts;return I.call(this,z,Y);async function I(xe,Le){await q.call(this,xe.$schema);const C=this._addSchema(xe,Le);return C.validate||ae.call(this,C)}async function q(xe){xe&&!this.getSchema(xe)&&await I.call(this,{$ref:xe},!0)}async function ae(xe){try{return this._compileSchemaEnv(xe)}catch(Le){if(!(Le instanceof i.default))throw Le;return Z.call(this,Le),await te.call(this,Le.missingSchema),ae.call(this,xe)}}function Z({missingSchema:xe,missingRef:Le}){if(this.refs[xe])throw new Error(`AnySchema ${xe} is loaded but ${Le} cannot be resolved`)}async function te(xe){const Le=await ue.call(this,xe);this.refs[xe]||await q.call(this,Le.$schema),this.refs[xe]||this.addSchema(Le,xe,Y)}async function ue(xe){const Le=this._loading[xe];if(Le)return Le;try{return await(this._loading[xe]=N(xe))}finally{delete this._loading[xe]}}}addSchema(z,Y,N,I=this.opts.validateSchema){if(Array.isArray(z)){for(const ae of z)this.addSchema(ae,void 0,N,I);return this}let q;if(typeof z=="object"){const{schemaId:ae}=this.opts;if(q=z[ae],q!==void 0&&typeof q!="string")throw new Error(`schema ${ae} must be string`)}return Y=(0,l.normalizeId)(Y||q),this._checkUnique(Y),this.schemas[Y]=this._addSchema(z,N,Y,I,!0),this}addMetaSchema(z,Y,N=this.opts.validateSchema){return this.addSchema(z,Y,!0,N),this}validateSchema(z,Y){if(typeof z=="boolean")return!0;let N;if(N=z.$schema,N!==void 0&&typeof N!="string")throw new Error("$schema must be a string");if(N=N||this.opts.defaultMeta||this.defaultMeta(),!N)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const I=this.validate(N,z);if(!I&&Y){const q="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(q);else throw new Error(q)}return I}getSchema(z){let Y;for(;typeof(Y=$.call(this,z))=="string";)z=Y;if(Y===void 0){const{schemaId:N}=this.opts,I=new s.SchemaEnv({schema:{},schemaId:N});if(Y=s.resolveSchema.call(this,I,z),!Y)return;this.refs[z]=Y}return Y.validate||this._compileSchemaEnv(Y)}removeSchema(z){if(z instanceof RegExp)return this._removeAllSchemas(this.schemas,z),this._removeAllSchemas(this.refs,z),this;switch(typeof z){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const Y=$.call(this,z);return typeof Y=="object"&&this._cache.delete(Y.schema),delete this.schemas[z],delete this.refs[z],this}case"object":{const Y=z;this._cache.delete(Y);let N=z[this.opts.schemaId];return N&&(N=(0,l.normalizeId)(N),delete this.schemas[N],delete this.refs[N]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(z){for(const Y of z)this.addKeyword(Y);return this}addKeyword(z,Y){let N;if(typeof z=="string")N=z,typeof Y=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),Y.keyword=N);else if(typeof z=="object"&&Y===void 0){if(Y=z,N=Y.keyword,Array.isArray(N)&&!N.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ie.call(this,N,Y),!Y)return(0,f.eachItem)(N,q=>G.call(this,q)),this;ge.call(this,Y);const I={...Y,type:(0,u.getJSONTypes)(Y.type),schemaType:(0,u.getJSONTypes)(Y.schemaType)};return(0,f.eachItem)(N,I.type.length===0?q=>G.call(this,q,I):q=>I.type.forEach(ae=>G.call(this,q,I,ae))),this}getKeyword(z){const Y=this.RULES.all[z];return typeof Y=="object"?Y.definition:!!Y}removeKeyword(z){const{RULES:Y}=this;delete Y.keywords[z],delete Y.all[z];for(const N of Y.rules){const I=N.rules.findIndex(q=>q.keyword===z);I>=0&&N.rules.splice(I,1)}return this}addFormat(z,Y){return typeof Y=="string"&&(Y=new RegExp(Y)),this.formats[z]=Y,this}errorsText(z=this.errors,{separator:Y=", ",dataVar:N="data"}={}){return!z||z.length===0?"No errors":z.map(I=>`${N}${I.instancePath} ${I.message}`).reduce((I,q)=>I+Y+q)}$dataMetaSchema(z,Y){const N=this.RULES.all;z=JSON.parse(JSON.stringify(z));for(const I of Y){const q=I.split("/").slice(1);let ae=z;for(const Z of q)ae=ae[Z];for(const Z in N){const te=N[Z];if(typeof te!="object")continue;const{$data:ue}=te.definition,xe=ae[Z];ue&&xe&&(ae[Z]=se(xe))}}return z}_removeAllSchemas(z,Y){for(const N in z){const I=z[N];(!Y||Y.test(N))&&(typeof I=="string"?delete z[N]:I&&!I.meta&&(this._cache.delete(I.schema),delete z[N]))}}_addSchema(z,Y,N,I=this.opts.validateSchema,q=this.opts.addUsedSchema){let ae;const{schemaId:Z}=this.opts;if(typeof z=="object")ae=z[Z];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof z!="boolean")throw new Error("schema must be object or boolean")}let te=this._cache.get(z);if(te!==void 0)return te;N=(0,l.normalizeId)(ae||N);const ue=l.getSchemaRefs.call(this,z,N);return te=new s.SchemaEnv({schema:z,schemaId:Z,meta:Y,baseId:N,localRefs:ue}),this._cache.set(te.schema,te),q&&!N.startsWith("#")&&(N&&this._checkUnique(N),this.refs[N]=te),I&&this.validateSchema(z,!0),te}_checkUnique(z){if(this.schemas[z]||this.refs[z])throw new Error(`schema with key or id "${z}" already exists`)}_compileSchemaEnv(z){if(z.meta?this._compileMetaSchema(z):s.compileSchema.call(this,z),!z.validate)throw new Error("ajv implementation error");return z.validate}_compileMetaSchema(z){const Y=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,z)}finally{this.opts=Y}}}S.ValidationError=n.default,S.MissingRefError=i.default,e.default=S;function T(D,z,Y,N="error"){for(const I in D){const q=I;q in z&&this.logger[N](`${Y}: option ${I}. ${D[q]}`)}}function $(D){return D=(0,l.normalizeId)(D),this.schemas[D]||this.refs[D]}function d(){const D=this.opts.schemas;if(D)if(Array.isArray(D))this.addSchema(D);else for(const z in D)this.addSchema(D[z],z)}function x(){for(const D in this.opts.formats){const z=this.opts.formats[D];z&&this.addFormat(D,z)}}function O(D){if(Array.isArray(D)){this.addVocabulary(D);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const z in D){const Y=D[z];Y.keyword||(Y.keyword=z),this.addKeyword(Y)}}function P(){const D={...this.opts};for(const z of g)delete D[z];return D}const M={log(){},warn(){},error(){}};function U(D){if(D===!1)return M;if(D===void 0)return console;if(D.log&&D.warn&&D.error)return D;throw new Error("logger must implement log, warn and error methods")}const K=/^[a-z_$][a-z0-9_$:-]*$/i;function ie(D,z){const{RULES:Y}=this;if((0,f.eachItem)(D,N=>{if(Y.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!K.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!z&&z.$data&&!("code"in z||"validate"in z))throw new Error('$data keyword must have "code" or "validate" function')}function G(D,z,Y){var N;const I=z==null?void 0:z.post;if(Y&&I)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let ae=I?q.post:q.rules.find(({type:te})=>te===Y);if(ae||(ae={type:Y,rules:[]},q.rules.push(ae)),q.keywords[D]=!0,!z)return;const Z={keyword:D,definition:{...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)}};z.before?ne.call(this,ae,Z,z.before):ae.rules.push(Z),q.all[D]=Z,(N=z.implements)===null||N===void 0||N.forEach(te=>this.addKeyword(te))}function ne(D,z,Y){const N=D.rules.findIndex(I=>I.keyword===Y);N>=0?D.rules.splice(N,0,z):(D.rules.push(z),this.logger.warn(`rule ${Y} is not defined`))}function ge(D){let{metaSchema:z}=D;z!==void 0&&(D.$data&&this.opts.$data&&(z=se(z)),D.validateSchema=this.compile(z,!0))}const re={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function se(D){return{anyOf:[D,re]}}})(iD);var YT={},yD={},wD={};Object.defineProperty(wD,"__esModule",{value:!0});const lOe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};wD.default=lOe;var Bc={};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.callRef=Bc.getValidate=void 0;const uOe=cp,f6=Yr,ks=xr,Lp=Ra,d6=fs,sb=Jt,cOe={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:o,validateName:s,opts:a,self:l}=n,{root:u}=o;if((r==="#"||r==="#/")&&i===u.baseId)return c();const f=d6.resolveRef.call(l,u,i,r);if(f===void 0)throw new uOe.default(n.opts.uriResolver,i,r);if(f instanceof d6.SchemaEnv)return h(f);return m(f);function c(){if(o===u)return GE(e,s,o,o.$async);const g=t.scopeValue("root",{ref:u});return GE(e,(0,ks._)`${g}.validate`,u,u.$async)}function h(g){const _=ZQ(e,g);GE(e,_,g,g.$async)}function m(g){const _=t.scopeValue("schema",a.code.source===!0?{ref:g,code:(0,ks.stringify)(g)}:{ref:g}),v=t.name("valid"),p=e.subschema({schema:g,dataTypes:[],schemaPath:ks.nil,topSchemaRef:_,errSchemaPath:r},v);e.mergeEvaluated(p),e.ok(v)}}};function ZQ(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,ks._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Bc.getValidate=ZQ;function GE(e,t,r,n){const{gen:i,it:o}=e,{allErrors:s,schemaEnv:a,opts:l}=o,u=l.passContext?Lp.default.this:ks.nil;n?f():c();function f(){if(!a.$async)throw new Error("async schema referenced by sync schema");const g=i.let("valid");i.try(()=>{i.code((0,ks._)`await ${(0,f6.callValidateCode)(e,t,u)}`),m(t),s||i.assign(g,!0)},_=>{i.if((0,ks._)`!(${_} instanceof ${o.ValidationError})`,()=>i.throw(_)),h(_),s||i.assign(g,!1)}),e.ok(g)}function c(){e.result((0,f6.callValidateCode)(e,t,u),()=>m(t),()=>h(t))}function h(g){const _=(0,ks._)`${g}.errors`;i.assign(Lp.default.vErrors,(0,ks._)`${Lp.default.vErrors} === null ? ${_} : ${Lp.default.vErrors}.concat(${_})`),i.assign(Lp.default.errors,(0,ks._)`${Lp.default.vErrors}.length`)}function m(g){var _;if(!o.opts.unevaluated)return;const v=(_=r==null?void 0:r.validate)===null||_===void 0?void 0:_.evaluated;if(o.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(o.props=sb.mergeEvaluated.props(i,v.props,o.props));else{const p=i.var("props",(0,ks._)`${g}.evaluated.props`);o.props=sb.mergeEvaluated.props(i,p,o.props,ks.Name)}if(o.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(o.items=sb.mergeEvaluated.items(i,v.items,o.items));else{const p=i.var("items",(0,ks._)`${g}.evaluated.items`);o.items=sb.mergeEvaluated.items(i,p,o.items,ks.Name)}}}Bc.callRef=GE;Bc.default=cOe;Object.defineProperty(yD,"__esModule",{value:!0});const fOe=wD,dOe=Bc,hOe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",fOe.default,dOe.default];yD.default=hOe;var bD={},_D={};Object.defineProperty(_D,"__esModule",{value:!0});const v1=xr,_f=v1.operators,y1={maximum:{okStr:"<=",ok:_f.LTE,fail:_f.GT},minimum:{okStr:">=",ok:_f.GTE,fail:_f.LT},exclusiveMaximum:{okStr:"<",ok:_f.LT,fail:_f.GTE},exclusiveMinimum:{okStr:">",ok:_f.GT,fail:_f.LTE}},pOe={message:({keyword:e,schemaCode:t})=>(0,v1.str)`must be ${y1[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,v1._)`{comparison: ${y1[e].okStr}, limit: ${t}}`},mOe={keyword:Object.keys(y1),type:"number",schemaType:"number",$data:!0,error:pOe,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,v1._)`${r} ${y1[t].fail} ${n} || isNaN(${r})`)}};_D.default=mOe;var ED={};Object.defineProperty(ED,"__esModule",{value:!0});const ty=xr,gOe={message:({schemaCode:e})=>(0,ty.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,ty._)`{multipleOf: ${e}}`},vOe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:gOe,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,o=i.opts.multipleOfPrecision,s=t.let("res"),a=o?(0,ty._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:(0,ty._)`${s} !== parseInt(${s})`;e.fail$data((0,ty._)`(${n} === 0 || (${s} = ${r}/${n}, ${a}))`)}};ED.default=vOe;var SD={},TD={};Object.defineProperty(TD,"__esModule",{value:!0});function eZ(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}TD.default=eZ;eZ.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(SD,"__esModule",{value:!0});const ph=xr,yOe=Jt,wOe=TD,bOe={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,ph.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,ph._)`{limit: ${e}}`},_Oe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:bOe,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,o=t==="maxLength"?ph.operators.GT:ph.operators.LT,s=i.opts.unicode===!1?(0,ph._)`${r}.length`:(0,ph._)`${(0,yOe.useFunc)(e.gen,wOe.default)}(${r})`;e.fail$data((0,ph._)`${s} ${o} ${n}`)}};SD.default=_Oe;var $D={};Object.defineProperty($D,"__esModule",{value:!0});const EOe=Yr,w1=xr,SOe={message:({schemaCode:e})=>(0,w1.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,w1._)`{pattern: ${e}}`},TOe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:SOe,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:o}=e,s=o.opts.unicodeRegExp?"u":"",a=r?(0,w1._)`(new RegExp(${i}, ${s}))`:(0,EOe.usePattern)(e,n);e.fail$data((0,w1._)`!${a}.test(${t})`)}};$D.default=TOe;var xD={};Object.defineProperty(xD,"__esModule",{value:!0});const ry=xr,$Oe={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,ry.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,ry._)`{limit: ${e}}`},xOe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:$Oe,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?ry.operators.GT:ry.operators.LT;e.fail$data((0,ry._)`Object.keys(${r}).length ${i} ${n}`)}};xD.default=xOe;var AD={};Object.defineProperty(AD,"__esModule",{value:!0});const iv=Yr,ny=xr,AOe=Jt,OOe={message:({params:{missingProperty:e}})=>(0,ny.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,ny._)`{missingProperty: ${e}}`},POe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:OOe,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:o,it:s}=e,{opts:a}=s;if(!o&&r.length===0)return;const l=r.length>=a.loopRequired;if(s.allErrors?u():f(),a.strictRequired){const m=e.parentSchema.properties,{definedProperties:g}=e.it;for(const _ of r)if((m==null?void 0:m[_])===void 0&&!g.has(_)){const v=s.schemaEnv.baseId+s.errSchemaPath,p=`required property "${_}" is not defined at "${v}" (strictRequired)`;(0,AOe.checkStrictMode)(s,p,s.opts.strictRequired)}}function u(){if(l||o)e.block$data(ny.nil,c);else for(const m of r)(0,iv.checkReportMissingProp)(e,m)}function f(){const m=t.let("missing");if(l||o){const g=t.let("valid",!0);e.block$data(g,()=>h(m,g)),e.ok(g)}else t.if((0,iv.checkMissingProp)(e,r,m)),(0,iv.reportMissingProp)(e,m),t.else()}function c(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,iv.noPropertyInData)(t,i,m,a.ownProperties),()=>e.error())})}function h(m,g){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(g,(0,iv.propertyInData)(t,i,m,a.ownProperties)),t.if((0,ny.not)(g),()=>{e.error(),t.break()})},ny.nil)}}};AD.default=POe;var OD={};Object.defineProperty(OD,"__esModule",{value:!0});const iy=xr,ROe={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,iy.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,iy._)`{limit: ${e}}`},NOe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:ROe,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?iy.operators.GT:iy.operators.LT;e.fail$data((0,iy._)`${r}.length ${i} ${n}`)}};OD.default=NOe;var PD={},P0={};Object.defineProperty(P0,"__esModule",{value:!0});const tZ=$Q;tZ.code='require("ajv/dist/runtime/equal").default';P0.default=tZ;Object.defineProperty(PD,"__esModule",{value:!0});const JA=Qi,wo=xr,IOe=Jt,COe=P0,kOe={message:({params:{i:e,j:t}})=>(0,wo.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,wo._)`{i: ${e}, j: ${t}}`},jOe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:kOe,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:o,schemaCode:s,it:a}=e;if(!n&&!i)return;const l=t.let("valid"),u=o.items?(0,JA.getSchemaTypes)(o.items):[];e.block$data(l,f,(0,wo._)`${s} === false`),e.ok(l);function f(){const g=t.let("i",(0,wo._)`${r}.length`),_=t.let("j");e.setParams({i:g,j:_}),t.assign(l,!0),t.if((0,wo._)`${g} > 1`,()=>(c()?h:m)(g,_))}function c(){return u.length>0&&!u.some(g=>g==="object"||g==="array")}function h(g,_){const v=t.name("item"),p=(0,JA.checkDataTypes)(u,v,a.opts.strictNumbers,JA.DataType.Wrong),E=t.const("indices",(0,wo._)`{}`);t.for((0,wo._)`;${g}--;`,()=>{t.let(v,(0,wo._)`${r}[${g}]`),t.if(p,(0,wo._)`continue`),u.length>1&&t.if((0,wo._)`typeof ${v} == "string"`,(0,wo._)`${v} += "_"`),t.if((0,wo._)`typeof ${E}[${v}] == "number"`,()=>{t.assign(_,(0,wo._)`${E}[${v}]`),e.error(),t.assign(l,!1).break()}).code((0,wo._)`${E}[${v}] = ${g}`)})}function m(g,_){const v=(0,IOe.useFunc)(t,COe.default),p=t.name("outer");t.label(p).for((0,wo._)`;${g}--;`,()=>t.for((0,wo._)`${_} = ${g}; ${_}--;`,()=>t.if((0,wo._)`${v}(${r}[${g}], ${r}[${_}])`,()=>{e.error(),t.assign(l,!1).break(p)})))}}};PD.default=jOe;var RD={};Object.defineProperty(RD,"__esModule",{value:!0});const fC=xr,DOe=Jt,MOe=P0,LOe={message:"must be equal to constant",params:({schemaCode:e})=>(0,fC._)`{allowedValue: ${e}}`},FOe={keyword:"const",$data:!0,error:LOe,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:o}=e;n||o&&typeof o=="object"?e.fail$data((0,fC._)`!${(0,DOe.useFunc)(t,MOe.default)}(${r}, ${i})`):e.fail((0,fC._)`${o} !== ${r}`)}};RD.default=FOe;var ND={};Object.defineProperty(ND,"__esModule",{value:!0});const Rv=xr,BOe=Jt,UOe=P0,zOe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Rv._)`{allowedValues: ${e}}`},qOe={keyword:"enum",schemaType:"array",$data:!0,error:zOe,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:o,it:s}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=s.opts.loopEnum;let l;const u=()=>l??(l=(0,BOe.useFunc)(t,UOe.default));let f;if(a||n)f=t.let("valid"),e.block$data(f,c);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const m=t.const("vSchema",o);f=(0,Rv.or)(...i.map((g,_)=>h(m,_)))}e.pass(f);function c(){t.assign(f,!1),t.forOf("v",o,m=>t.if((0,Rv._)`${u()}(${r}, ${m})`,()=>t.assign(f,!0).break()))}function h(m,g){const _=i[g];return typeof _=="object"&&_!==null?(0,Rv._)`${u()}(${r}, ${m}[${g}])`:(0,Rv._)`${r} === ${_}`}}};ND.default=qOe;Object.defineProperty(bD,"__esModule",{value:!0});const VOe=_D,HOe=ED,WOe=SD,GOe=$D,KOe=xD,JOe=AD,YOe=OD,XOe=PD,QOe=RD,ZOe=ND,ePe=[VOe.default,HOe.default,WOe.default,GOe.default,KOe.default,JOe.default,YOe.default,XOe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},QOe.default,ZOe.default];bD.default=ePe;var ID={},gg={};Object.defineProperty(gg,"__esModule",{value:!0});gg.validateAdditionalItems=void 0;const mh=xr,dC=Jt,tPe={message:({params:{len:e}})=>(0,mh.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,mh._)`{limit: ${e}}`},rPe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:tPe,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,dC.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}rZ(e,n)}};function rZ(e,t){const{gen:r,schema:n,data:i,keyword:o,it:s}=e;s.items=!0;const a=r.const("len",(0,mh._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,mh._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,dC.alwaysValidSchema)(s,n)){const u=r.var("valid",(0,mh._)`${a} <= ${t.length}`);r.if((0,mh.not)(u),()=>l(u)),e.ok(u)}function l(u){r.forRange("i",t.length,a,f=>{e.subschema({keyword:o,dataProp:f,dataPropType:dC.Type.Num},u),s.allErrors||r.if((0,mh.not)(u),()=>r.break())})}}gg.validateAdditionalItems=rZ;gg.default=rPe;var CD={},vg={};Object.defineProperty(vg,"__esModule",{value:!0});vg.validateTuple=void 0;const h6=xr,KE=Jt,nPe=Yr,iPe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return nZ(e,"additionalItems",t);r.items=!0,!(0,KE.alwaysValidSchema)(r,t)&&e.ok((0,nPe.validateArray)(e))}};function nZ(e,t,r=e.schema){const{gen:n,parentSchema:i,data:o,keyword:s,it:a}=e;f(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=KE.mergeEvaluated.items(n,r.length,a.items));const l=n.name("valid"),u=n.const("len",(0,h6._)`${o}.length`);r.forEach((c,h)=>{(0,KE.alwaysValidSchema)(a,c)||(n.if((0,h6._)`${u} > ${h}`,()=>e.subschema({keyword:s,schemaProp:h,dataProp:h},l)),e.ok(l))});function f(c){const{opts:h,errSchemaPath:m}=a,g=r.length,_=g===c.minItems&&(g===c.maxItems||c[t]===!1);if(h.strictTuples&&!_){const v=`"${s}" is ${g}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,KE.checkStrictMode)(a,v,h.strictTuples)}}}vg.validateTuple=nZ;vg.default=iPe;Object.defineProperty(CD,"__esModule",{value:!0});const oPe=vg,sPe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,oPe.validateTuple)(e,"items")};CD.default=sPe;var kD={};Object.defineProperty(kD,"__esModule",{value:!0});const p6=xr,aPe=Jt,lPe=Yr,uPe=gg,cPe={message:({params:{len:e}})=>(0,p6.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,p6._)`{limit: ${e}}`},fPe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:cPe,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,aPe.alwaysValidSchema)(n,t)&&(i?(0,uPe.validateAdditionalItems)(e,i):e.ok((0,lPe.validateArray)(e)))}};kD.default=fPe;var jD={};Object.defineProperty(jD,"__esModule",{value:!0});const Ga=xr,ab=Jt,dPe={message:({params:{min:e,max:t}})=>t===void 0?(0,Ga.str)`must contain at least ${e} valid item(s)`:(0,Ga.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ga._)`{minContains: ${e}}`:(0,Ga._)`{minContains: ${e}, maxContains: ${t}}`},hPe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:dPe,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:o}=e;let s,a;const{minContains:l,maxContains:u}=n;o.opts.next?(s=l===void 0?1:l,a=u):s=1;const f=t.const("len",(0,Ga._)`${i}.length`);if(e.setParams({min:s,max:a}),a===void 0&&s===0){(0,ab.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,ab.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,ab.alwaysValidSchema)(o,r)){let _=(0,Ga._)`${f} >= ${s}`;a!==void 0&&(_=(0,Ga._)`${_} && ${f} <= ${a}`),e.pass(_);return}o.items=!0;const c=t.name("valid");a===void 0&&s===1?m(c,()=>t.if(c,()=>t.break())):s===0?(t.let(c,!0),a!==void 0&&t.if((0,Ga._)`${i}.length > 0`,h)):(t.let(c,!1),h()),e.result(c,()=>e.reset());function h(){const _=t.name("_valid"),v=t.let("count",0);m(_,()=>t.if(_,()=>g(v)))}function m(_,v){t.forRange("i",0,f,p=>{e.subschema({keyword:"contains",dataProp:p,dataPropType:ab.Type.Num,compositeRule:!0},_),v()})}function g(_){t.code((0,Ga._)`${_}++`),a===void 0?t.if((0,Ga._)`${_} >= ${s}`,()=>t.assign(c,!0).break()):(t.if((0,Ga._)`${_} > ${a}`,()=>t.assign(c,!1).break()),s===1?t.assign(c,!0):t.if((0,Ga._)`${_} >= ${s}`,()=>t.assign(c,!0)))}}};jD.default=hPe;var XT={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=xr,r=Jt,n=Yr;e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);s(l,u),a(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?u:f;h[c]=l[c]}return[u,f]}function s(l,u=l.schema){const{gen:f,data:c,it:h}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,h.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(v,()=>{for(const p of _)(0,n.checkReportMissingProp)(l,p)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:f,data:c,keyword:h,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i})(XT);var DD={};Object.defineProperty(DD,"__esModule",{value:!0});const iZ=xr,pPe=Jt,mPe={message:"property name must be valid",params:({params:e})=>(0,iZ._)`{propertyName: ${e.propertyName}}`},gPe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:mPe,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,pPe.alwaysValidSchema)(i,r))return;const o=t.name("valid");t.forIn("key",n,s=>{e.setParams({propertyName:s}),e.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},o),t.if((0,iZ.not)(o),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(o)}};DD.default=gPe;var QT={};Object.defineProperty(QT,"__esModule",{value:!0});const lb=Yr,Ll=xr,vPe=Ra,ub=Jt,yPe={message:"must NOT have additional properties",params:({params:e})=>(0,Ll._)`{additionalProperty: ${e.additionalProperty}}`},wPe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:yPe,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:o,it:s}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=s;if(s.props=!0,l.removeAdditional!=="all"&&(0,ub.alwaysValidSchema)(s,r))return;const u=(0,lb.allSchemaProperties)(n.properties),f=(0,lb.allSchemaProperties)(n.patternProperties);c(),e.ok((0,Ll._)`${o} === ${vPe.default.errors}`);function c(){t.forIn("key",i,v=>{!u.length&&!f.length?g(v):t.if(h(v),()=>g(v))})}function h(v){let p;if(u.length>8){const E=(0,ub.schemaRefOrVal)(s,n.properties,"properties");p=(0,lb.isOwnProperty)(t,E,v)}else u.length?p=(0,Ll.or)(...u.map(E=>(0,Ll._)`${v} === ${E}`)):p=Ll.nil;return f.length&&(p=(0,Ll.or)(p,...f.map(E=>(0,Ll._)`${(0,lb.usePattern)(e,E)}.test(${v})`))),(0,Ll.not)(p)}function m(v){t.code((0,Ll._)`delete ${i}[${v}]`)}function g(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,ub.alwaysValidSchema)(s,r)){const p=t.name("valid");l.removeAdditional==="failing"?(_(v,p,!1),t.if((0,Ll.not)(p),()=>{e.reset(),m(v)})):(_(v,p),a||t.if((0,Ll.not)(p),()=>t.break()))}}function _(v,p,E){const y={keyword:"additionalProperties",dataProp:v,dataPropType:ub.Type.Str};E===!1&&Object.assign(y,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(y,p)}}};QT.default=wPe;var MD={};Object.defineProperty(MD,"__esModule",{value:!0});const bPe=cl,m6=Yr,YA=Jt,g6=QT,_Pe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:o}=e;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&g6.default.code(new bPe.KeywordCxt(o,g6.default,"additionalProperties"));const s=(0,m6.allSchemaProperties)(r);for(const c of s)o.definedProperties.add(c);o.opts.unevaluated&&s.length&&o.props!==!0&&(o.props=YA.mergeEvaluated.props(t,(0,YA.toHash)(s),o.props));const a=s.filter(c=>!(0,YA.alwaysValidSchema)(o,r[c]));if(a.length===0)return;const l=t.name("valid");for(const c of a)u(c)?f(c):(t.if((0,m6.propertyInData)(t,i,c,o.opts.ownProperties)),f(c),o.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(c),e.ok(l);function u(c){return o.opts.useDefaults&&!o.compositeRule&&r[c].default!==void 0}function f(c){e.subschema({keyword:"properties",schemaProp:c,dataProp:c},l)}}};MD.default=_Pe;var LD={};Object.defineProperty(LD,"__esModule",{value:!0});const v6=Yr,cb=xr,y6=Jt,w6=Jt,EPe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:o}=e,{opts:s}=o,a=(0,v6.allSchemaProperties)(r),l=a.filter(_=>(0,y6.alwaysValidSchema)(o,r[_]));if(a.length===0||l.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;const u=s.strictSchema&&!s.allowMatchingProperties&&i.properties,f=t.name("valid");o.props!==!0&&!(o.props instanceof cb.Name)&&(o.props=(0,w6.evaluatedPropsToName)(t,o.props));const{props:c}=o;h();function h(){for(const _ of a)u&&m(_),o.allErrors?g(_):(t.var(f,!0),g(_),t.if(f))}function m(_){for(const v in u)new RegExp(_).test(v)&&(0,y6.checkStrictMode)(o,`property ${v} matches pattern ${_} (use allowMatchingProperties)`)}function g(_){t.forIn("key",n,v=>{t.if((0,cb._)`${(0,v6.usePattern)(e,_)}.test(${v})`,()=>{const p=l.includes(_);p||e.subschema({keyword:"patternProperties",schemaProp:_,dataProp:v,dataPropType:w6.Type.Str},f),o.opts.unevaluated&&c!==!0?t.assign((0,cb._)`${c}[${v}]`,!0):!p&&!o.allErrors&&t.if((0,cb.not)(f),()=>t.break())})})}}};LD.default=EPe;var FD={};Object.defineProperty(FD,"__esModule",{value:!0});const SPe=Jt,TPe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,SPe.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};FD.default=TPe;var BD={};Object.defineProperty(BD,"__esModule",{value:!0});const $Pe=Yr,xPe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:$Pe.validateUnion,error:{message:"must match a schema in anyOf"}};BD.default=xPe;var UD={};Object.defineProperty(UD,"__esModule",{value:!0});const JE=xr,APe=Jt,OPe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,JE._)`{passingSchemas: ${e.passing}}`},PPe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:OPe,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const o=r,s=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(s,()=>e.reset(),()=>e.error(!0));function u(){o.forEach((f,c)=>{let h;(0,APe.alwaysValidSchema)(i,f)?t.var(l,!0):h=e.subschema({keyword:"oneOf",schemaProp:c,compositeRule:!0},l),c>0&&t.if((0,JE._)`${l} && ${s}`).assign(s,!1).assign(a,(0,JE._)`[${a}, ${c}]`).else(),t.if(l,()=>{t.assign(s,!0),t.assign(a,c),h&&e.mergeEvaluated(h,JE.Name)})})}}};UD.default=PPe;var zD={};Object.defineProperty(zD,"__esModule",{value:!0});const RPe=Jt,NPe={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((o,s)=>{if((0,RPe.alwaysValidSchema)(n,o))return;const a=e.subschema({keyword:"allOf",schemaProp:s},i);e.ok(i),e.mergeEvaluated(a)})}};zD.default=NPe;var qD={};Object.defineProperty(qD,"__esModule",{value:!0});const b1=xr,oZ=Jt,IPe={message:({params:e})=>(0,b1.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,b1._)`{failingKeyword: ${e.ifClause}}`},CPe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:IPe,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,oZ.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=b6(n,"then"),o=b6(n,"else");if(!i&&!o)return;const s=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&o){const f=t.let("ifClause");e.setParams({ifClause:f}),t.if(a,u("then",f),u("else",f))}else i?t.if(a,u("then")):t.if((0,b1.not)(a),u("else"));e.pass(s,()=>e.error(!0));function l(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(f)}function u(f,c){return()=>{const h=e.subschema({keyword:f},a);t.assign(s,a),e.mergeValidEvaluated(h,s),c?t.assign(c,(0,b1._)`${f}`):e.setParams({ifClause:f})}}}};function b6(e,t){const r=e.schema[t];return r!==void 0&&!(0,oZ.alwaysValidSchema)(e,r)}qD.default=CPe;var VD={};Object.defineProperty(VD,"__esModule",{value:!0});const kPe=Jt,jPe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,kPe.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};VD.default=jPe;Object.defineProperty(ID,"__esModule",{value:!0});const DPe=gg,MPe=CD,LPe=vg,FPe=kD,BPe=jD,UPe=XT,zPe=DD,qPe=QT,VPe=MD,HPe=LD,WPe=FD,GPe=BD,KPe=UD,JPe=zD,YPe=qD,XPe=VD;function QPe(e=!1){const t=[WPe.default,GPe.default,KPe.default,JPe.default,YPe.default,XPe.default,zPe.default,qPe.default,UPe.default,VPe.default,HPe.default];return e?t.push(MPe.default,FPe.default):t.push(DPe.default,LPe.default),t.push(BPe.default),t}ID.default=QPe;var HD={},WD={};Object.defineProperty(WD,"__esModule",{value:!0});const Ri=xr,ZPe={message:({schemaCode:e})=>(0,Ri.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Ri._)`{format: ${e}}`},eRe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:ZPe,code(e,t){const{gen:r,data:n,$data:i,schema:o,schemaCode:s,it:a}=e,{opts:l,errSchemaPath:u,schemaEnv:f,self:c}=a;if(!l.validateFormats)return;i?h():m();function h(){const g=r.scopeValue("formats",{ref:c.formats,code:l.code.formats}),_=r.const("fDef",(0,Ri._)`${g}[${s}]`),v=r.let("fType"),p=r.let("format");r.if((0,Ri._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>r.assign(v,(0,Ri._)`${_}.type || "string"`).assign(p,(0,Ri._)`${_}.validate`),()=>r.assign(v,(0,Ri._)`"string"`).assign(p,_)),e.fail$data((0,Ri.or)(E(),y()));function E(){return l.strictSchema===!1?Ri.nil:(0,Ri._)`${s} && !${p}`}function y(){const S=f.$async?(0,Ri._)`(${_}.async ? await ${p}(${n}) : ${p}(${n}))`:(0,Ri._)`${p}(${n})`,T=(0,Ri._)`(typeof ${p} == "function" ? ${S} : ${p}.test(${n}))`;return(0,Ri._)`${p} && ${p} !== true && ${v} === ${t} && !${T}`}}function m(){const g=c.formats[o];if(!g){E();return}if(g===!0)return;const[_,v,p]=y(g);_===t&&e.pass(S());function E(){if(l.strictSchema===!1){c.logger.warn(T());return}throw new Error(T());function T(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function y(T){const $=T instanceof RegExp?(0,Ri.regexpCode)(T):l.code.formats?(0,Ri._)`${l.code.formats}${(0,Ri.getProperty)(o)}`:void 0,d=r.scopeValue("formats",{key:o,ref:T,code:$});return typeof T=="object"&&!(T instanceof RegExp)?[T.type||"string",T.validate,(0,Ri._)`${d}.validate`]:["string",T,d]}function S(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!f.$async)throw new Error("async format in sync schema");return(0,Ri._)`await ${p}(${n})`}return typeof v=="function"?(0,Ri._)`${p}(${n})`:(0,Ri._)`${p}.test(${n})`}}}};WD.default=eRe;Object.defineProperty(HD,"__esModule",{value:!0});const tRe=WD,rRe=[tRe.default];HD.default=rRe;var eg={};Object.defineProperty(eg,"__esModule",{value:!0});eg.contentVocabulary=eg.metadataVocabulary=void 0;eg.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];eg.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(YT,"__esModule",{value:!0});const nRe=yD,iRe=bD,oRe=ID,sRe=HD,_6=eg,aRe=[nRe.default,iRe.default,(0,oRe.default)(),sRe.default,_6.metadataVocabulary,_6.contentVocabulary];YT.default=aRe;var ZT={},e$={};Object.defineProperty(e$,"__esModule",{value:!0});e$.DiscrError=void 0;var E6;(function(e){e.Tag="tag",e.Mapping="mapping"})(E6||(e$.DiscrError=E6={}));Object.defineProperty(ZT,"__esModule",{value:!0});const Xp=xr,hC=e$,S6=fs,lRe=cp,uRe=Jt,cRe={message:({params:{discrError:e,tagName:t}})=>e===hC.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Xp._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},fRe={keyword:"discriminator",type:"object",schemaType:"object",error:cRe,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:o}=e,{oneOf:s}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,Xp._)`${r}${(0,Xp.getProperty)(a)}`);t.if((0,Xp._)`typeof ${u} == "string"`,()=>f(),()=>e.error(!1,{discrError:hC.DiscrError.Tag,tag:u,tagName:a})),e.ok(l);function f(){const m=h();t.if(!1);for(const g in m)t.elseIf((0,Xp._)`${u} === ${g}`),t.assign(l,c(m[g]));t.else(),e.error(!1,{discrError:hC.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function c(m){const g=t.name("valid"),_=e.subschema({keyword:"oneOf",schemaProp:m},g);return e.mergeEvaluated(_,Xp.Name),g}function h(){var m;const g={},_=p(i);let v=!0;for(let S=0;S<s.length;S++){let T=s[S];if(T!=null&&T.$ref&&!(0,uRe.schemaHasRulesButRef)(T,o.self.RULES)){const d=T.$ref;if(T=S6.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,d),T instanceof S6.SchemaEnv&&(T=T.schema),T===void 0)throw new lRe.default(o.opts.uriResolver,o.baseId,d)}const $=(m=T==null?void 0:T.properties)===null||m===void 0?void 0:m[a];if(typeof $!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(_||p(T)),E($,S)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return g;function p({required:S}){return Array.isArray(S)&&S.includes(a)}function E(S,T){if(S.const)y(S.const,T);else if(S.enum)for(const $ of S.enum)y($,T);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function y(S,T){if(typeof S!="string"||S in g)throw new Error(`discriminator: "${a}" values must be unique strings`);g[S]=T}}}};ZT.default=fRe;const dRe="http://json-schema.org/draft-07/schema#",hRe="http://json-schema.org/draft-07/schema#",pRe="Core schema meta-schema",mRe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},gRe=["object","boolean"],vRe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},sZ={$schema:dRe,$id:hRe,title:pRe,definitions:mRe,type:gRe,properties:vRe,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=iD,n=YT,i=ZT,o=sZ,s=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(g,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=cl;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=xr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=mg;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=cp;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(sC,sC.exports);var yRe=sC.exports,pC={exports:{}},aZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(M,U){return{validate:M,compare:U}}e.fullFormats={date:t(o,s),time:t(l(!0),u),"date-time":t(h(!0),m),"iso-time":t(l(),f),"iso-date-time":t(h(),g),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:p,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:P,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:$},int64:{type:"number",validate:d},float:{type:"number",validate:x},double:{type:"number",validate:x},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,g),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(M){return M%4===0&&(M%100!==0||M%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(M){const U=n.exec(M);if(!U)return!1;const K=+U[1],ie=+U[2],G=+U[3];return ie>=1&&ie<=12&&G>=1&&G<=(ie===2&&r(K)?29:i[ie])}function s(M,U){if(M&&U)return M>U?1:M<U?-1:0}const a=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(M){return function(K){const ie=a.exec(K);if(!ie)return!1;const G=+ie[1],ne=+ie[2],ge=+ie[3],re=ie[4],se=ie[5]==="-"?-1:1,D=+(ie[6]||0),z=+(ie[7]||0);if(D>23||z>59||M&&!re)return!1;if(G<=23&&ne<=59&&ge<60)return!0;const Y=ne-z*se,N=G-D*se-(Y<0?1:0);return(N===23||N===-1)&&(Y===59||Y===-1)&&ge<61}}function u(M,U){if(!(M&&U))return;const K=new Date("2020-01-01T"+M).valueOf(),ie=new Date("2020-01-01T"+U).valueOf();if(K&&ie)return K-ie}function f(M,U){if(!(M&&U))return;const K=a.exec(M),ie=a.exec(U);if(K&&ie)return M=K[1]+K[2]+K[3],U=ie[1]+ie[2]+ie[3],M>U?1:M<U?-1:0}const c=/t|\s/i;function h(M){const U=l(M);return function(ie){const G=ie.split(c);return G.length===2&&o(G[0])&&U(G[1])}}function m(M,U){if(!(M&&U))return;const K=new Date(M).valueOf(),ie=new Date(U).valueOf();if(K&&ie)return K-ie}function g(M,U){if(!(M&&U))return;const[K,ie]=M.split(c),[G,ne]=U.split(c),ge=s(K,G);if(ge!==void 0)return ge||u(ie,ne)}const _=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function p(M){return _.test(M)&&v.test(M)}const E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(M){return E.lastIndex=0,E.test(M)}const S=-2147483648,T=2**31-1;function $(M){return Number.isInteger(M)&&M<=T&&M>=S}function d(M){return Number.isInteger(M)}function x(){return!0}const O=/[^\\]\\Z/;function P(M){if(O.test(M))return!1;try{return new RegExp(M),!0}catch{return!1}}})(aZ);var lZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=yRe,r=xr,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:a,schemaCode:l})=>(0,r.str)`should be ${i[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>(0,r._)`{comparison: ${i[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(a){const{gen:l,data:u,schemaCode:f,keyword:c,it:h}=a,{opts:m,self:g}=h;if(!m.validateFormats)return;const _=new t.KeywordCxt(h,g.RULES.all.format.definition,"format");_.$data?v():p();function v(){const y=l.scopeValue("formats",{ref:g.formats,code:m.code.formats}),S=l.const("fmt",(0,r._)`${y}[${_.schemaCode}]`);a.fail$data((0,r.or)((0,r._)`typeof ${S} != "object"`,(0,r._)`${S} instanceof RegExp`,(0,r._)`typeof ${S}.compare != "function"`,E(S)))}function p(){const y=_.schema,S=g.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const T=l.scopeValue("formats",{key:y,ref:S,code:m.code.formats?(0,r._)`${m.code.formats}${(0,r.getProperty)(y)}`:void 0});a.fail$data(E(T))}function E(y){return(0,r._)`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};const s=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=s})(lZ);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=aZ,n=lZ,i=xr,o=new i.Name("fullFormats"),s=new i.Name("fastFormats"),a=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,h]=f.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,o],m=f.formats||r.formatNames;return l(u,m,c,h),f.keywords&&(0,n.default)(u),u};a.get=(u,f="full")=>{const h=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!h)throw new Error(`Unknown format "${u}"`);return h};function l(u,f,c,h){var m,g;(m=(g=u.opts.code).formats)!==null&&m!==void 0||(g.formats=(0,i._)`require("ajv-formats/dist/formats").${h}`);for(const _ of f)u.addFormat(_,c[_])}e.exports=t=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a})(pC,pC.exports);var wRe=pC.exports;const bRe=Uc(wRe);var _Re={exports:{}},mC={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(Eo,function(r){function n(){for(var we=arguments.length,he=Array(we),Se=0;Se<we;Se++)he[Se]=arguments[Se];if(he.length>1){he[0]=he[0].slice(0,-1);for(var Me=he.length-1,ke=1;ke<Me;++ke)he[ke]=he[ke].slice(1,-1);return he[Me]=he[Me].slice(1),he.join("")}else return he[0]}function i(we){return"(?:"+we+")"}function o(we){return we===void 0?"undefined":we===null?"null":Object.prototype.toString.call(we).split(" ").pop().split("]").shift().toLowerCase()}function s(we){return we.toUpperCase()}function a(we){return we!=null?we instanceof Array?we:typeof we.length!="number"||we.split||we.setInterval||we.call?[we]:Array.prototype.slice.call(we):[]}function l(we,he){var Se=we;if(he)for(var Me in he)Se[Me]=he[Me];return Se}function u(we){var he="[A-Za-z]",Se="[0-9]",Me=n(Se,"[A-Fa-f]"),ke=i(i("%[EFef]"+Me+"%"+Me+Me+"%"+Me+Me)+"|"+i("%[89A-Fa-f]"+Me+"%"+Me+Me)+"|"+i("%"+Me+Me)),pt="[\\:\\/\\?\\#\\[\\]\\@]",ft="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Mt=n(pt,ft),Kt=we?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Zt=we?"[\\uE000-\\uF8FF]":"[]",Dt=n(he,Se,"[\\-\\.\\_\\~]",Kt);i(he+n(he,Se,"[\\+\\-\\.]")+"*"),i(i(ke+"|"+n(Dt,ft,"[\\:]"))+"*");var qt=i(i("25[0-5]")+"|"+i("2[0-4]"+Se)+"|"+i("1"+Se+Se)+"|"+i("0?[1-9]"+Se)+"|0?0?"+Se),ur=i(qt+"\\."+qt+"\\."+qt+"\\."+qt),Nt=i(Me+"{1,4}"),ir=i(i(Nt+"\\:"+Nt)+"|"+ur),Ft=i(i(Nt+"\\:")+"{6}"+ir),Yt=i("\\:\\:"+i(Nt+"\\:")+"{5}"+ir),pn=i(i(Nt)+"?\\:\\:"+i(Nt+"\\:")+"{4}"+ir),un=i(i(i(Nt+"\\:")+"{0,1}"+Nt)+"?\\:\\:"+i(Nt+"\\:")+"{3}"+ir),mn=i(i(i(Nt+"\\:")+"{0,2}"+Nt)+"?\\:\\:"+i(Nt+"\\:")+"{2}"+ir),Hn=i(i(i(Nt+"\\:")+"{0,3}"+Nt)+"?\\:\\:"+Nt+"\\:"+ir),fi=i(i(i(Nt+"\\:")+"{0,4}"+Nt)+"?\\:\\:"+ir),rn=i(i(i(Nt+"\\:")+"{0,5}"+Nt)+"?\\:\\:"+Nt),vn=i(i(i(Nt+"\\:")+"{0,6}"+Nt)+"?\\:\\:"),$i=i([Ft,Yt,pn,un,mn,Hn,fi,rn,vn].join("|")),Wn=i(i(Dt+"|"+ke)+"+");i("[vV]"+Me+"+\\."+n(Dt,ft,"[\\:]")+"+"),i(i(ke+"|"+n(Dt,ft))+"*");var zi=i(ke+"|"+n(Dt,ft,"[\\:\\@]"));return i(i(ke+"|"+n(Dt,ft,"[\\@]"))+"+"),i(i(zi+"|"+n("[\\/\\?]",Zt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",he,Se,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Dt,ft),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Dt,ft),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Dt,ft),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Dt,ft),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Dt,ft,"[\\:\\@\\/\\?]",Zt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Dt,ft,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Dt,ft),"g"),UNRESERVED:new RegExp(Dt,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Dt,Mt),"g"),PCT_ENCODED:new RegExp(ke,"g"),IPV4ADDRESS:new RegExp("^("+ur+")$"),IPV6ADDRESS:new RegExp("^\\[?("+$i+")"+i(i("\\%25|\\%(?!"+Me+"{2})")+"("+Wn+")")+"?\\]?$")}}var f=u(!1),c=u(!0),h=function(){function we(he,Se){var Me=[],ke=!0,pt=!1,ft=void 0;try{for(var Mt=he[Symbol.iterator](),Kt;!(ke=(Kt=Mt.next()).done)&&(Me.push(Kt.value),!(Se&&Me.length===Se));ke=!0);}catch(Zt){pt=!0,ft=Zt}finally{try{!ke&&Mt.return&&Mt.return()}finally{if(pt)throw ft}}return Me}return function(he,Se){if(Array.isArray(he))return he;if(Symbol.iterator in Object(he))return we(he,Se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(we){if(Array.isArray(we)){for(var he=0,Se=Array(we.length);he<we.length;he++)Se[he]=we[he];return Se}else return Array.from(we)},g=2147483647,_=36,v=1,p=26,E=38,y=700,S=72,T=128,$="-",d=/^xn--/,x=/[^\0-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=_-v,U=Math.floor,K=String.fromCharCode;function ie(we){throw new RangeError(P[we])}function G(we,he){for(var Se=[],Me=we.length;Me--;)Se[Me]=he(we[Me]);return Se}function ne(we,he){var Se=we.split("@"),Me="";Se.length>1&&(Me=Se[0]+"@",we=Se[1]),we=we.replace(O,".");var ke=we.split("."),pt=G(ke,he).join(".");return Me+pt}function ge(we){for(var he=[],Se=0,Me=we.length;Se<Me;){var ke=we.charCodeAt(Se++);if(ke>=55296&&ke<=56319&&Se<Me){var pt=we.charCodeAt(Se++);(pt&64512)==56320?he.push(((ke&1023)<<10)+(pt&1023)+65536):(he.push(ke),Se--)}else he.push(ke)}return he}var re=function(he){return String.fromCodePoint.apply(String,m(he))},se=function(he){return he-48<10?he-22:he-65<26?he-65:he-97<26?he-97:_},D=function(he,Se){return he+22+75*(he<26)-((Se!=0)<<5)},z=function(he,Se,Me){var ke=0;for(he=Me?U(he/y):he>>1,he+=U(he/Se);he>M*p>>1;ke+=_)he=U(he/M);return U(ke+(M+1)*he/(he+E))},Y=function(he){var Se=[],Me=he.length,ke=0,pt=T,ft=S,Mt=he.lastIndexOf($);Mt<0&&(Mt=0);for(var Kt=0;Kt<Mt;++Kt)he.charCodeAt(Kt)>=128&&ie("not-basic"),Se.push(he.charCodeAt(Kt));for(var Zt=Mt>0?Mt+1:0;Zt<Me;){for(var Dt=ke,qt=1,ur=_;;ur+=_){Zt>=Me&&ie("invalid-input");var Nt=se(he.charCodeAt(Zt++));(Nt>=_||Nt>U((g-ke)/qt))&&ie("overflow"),ke+=Nt*qt;var ir=ur<=ft?v:ur>=ft+p?p:ur-ft;if(Nt<ir)break;var Ft=_-ir;qt>U(g/Ft)&&ie("overflow"),qt*=Ft}var Yt=Se.length+1;ft=z(ke-Dt,Yt,Dt==0),U(ke/Yt)>g-pt&&ie("overflow"),pt+=U(ke/Yt),ke%=Yt,Se.splice(ke++,0,pt)}return String.fromCodePoint.apply(String,Se)},N=function(he){var Se=[];he=ge(he);var Me=he.length,ke=T,pt=0,ft=S,Mt=!0,Kt=!1,Zt=void 0;try{for(var Dt=he[Symbol.iterator](),qt;!(Mt=(qt=Dt.next()).done);Mt=!0){var ur=qt.value;ur<128&&Se.push(K(ur))}}catch(Zn){Kt=!0,Zt=Zn}finally{try{!Mt&&Dt.return&&Dt.return()}finally{if(Kt)throw Zt}}var Nt=Se.length,ir=Nt;for(Nt&&Se.push($);ir<Me;){var Ft=g,Yt=!0,pn=!1,un=void 0;try{for(var mn=he[Symbol.iterator](),Hn;!(Yt=(Hn=mn.next()).done);Yt=!0){var fi=Hn.value;fi>=ke&&fi<Ft&&(Ft=fi)}}catch(Zn){pn=!0,un=Zn}finally{try{!Yt&&mn.return&&mn.return()}finally{if(pn)throw un}}var rn=ir+1;Ft-ke>U((g-pt)/rn)&&ie("overflow"),pt+=(Ft-ke)*rn,ke=Ft;var vn=!0,$i=!1,Wn=void 0;try{for(var zi=he[Symbol.iterator](),_s;!(vn=(_s=zi.next()).done);vn=!0){var Wo=_s.value;if(Wo<ke&&++pt>g&&ie("overflow"),Wo==ke){for(var nn=pt,Gn=_;;Gn+=_){var xi=Gn<=ft?v:Gn>=ft+p?p:Gn-ft;if(nn<xi)break;var Na=nn-xi,Go=_-xi;Se.push(K(D(xi+Na%Go,0))),nn=U(Na/Go)}Se.push(K(D(nn,0))),ft=z(pt,rn,ir==Nt),pt=0,++ir}}}catch(Zn){$i=!0,Wn=Zn}finally{try{!vn&&zi.return&&zi.return()}finally{if($i)throw Wn}}++pt,++ke}return Se.join("")},I=function(he){return ne(he,function(Se){return d.test(Se)?Y(Se.slice(4).toLowerCase()):Se})},q=function(he){return ne(he,function(Se){return x.test(Se)?"xn--"+N(Se):Se})},ae={version:"2.1.0",ucs2:{decode:ge,encode:re},decode:Y,encode:N,toASCII:q,toUnicode:I},Z={};function te(we){var he=we.charCodeAt(0),Se=void 0;return he<16?Se="%0"+he.toString(16).toUpperCase():he<128?Se="%"+he.toString(16).toUpperCase():he<2048?Se="%"+(he>>6|192).toString(16).toUpperCase()+"%"+(he&63|128).toString(16).toUpperCase():Se="%"+(he>>12|224).toString(16).toUpperCase()+"%"+(he>>6&63|128).toString(16).toUpperCase()+"%"+(he&63|128).toString(16).toUpperCase(),Se}function ue(we){for(var he="",Se=0,Me=we.length;Se<Me;){var ke=parseInt(we.substr(Se+1,2),16);if(ke<128)he+=String.fromCharCode(ke),Se+=3;else if(ke>=194&&ke<224){if(Me-Se>=6){var pt=parseInt(we.substr(Se+4,2),16);he+=String.fromCharCode((ke&31)<<6|pt&63)}else he+=we.substr(Se,6);Se+=6}else if(ke>=224){if(Me-Se>=9){var ft=parseInt(we.substr(Se+4,2),16),Mt=parseInt(we.substr(Se+7,2),16);he+=String.fromCharCode((ke&15)<<12|(ft&63)<<6|Mt&63)}else he+=we.substr(Se,9);Se+=9}else he+=we.substr(Se,3),Se+=3}return he}function xe(we,he){function Se(Me){var ke=ue(Me);return ke.match(he.UNRESERVED)?ke:Me}return we.scheme&&(we.scheme=String(we.scheme).replace(he.PCT_ENCODED,Se).toLowerCase().replace(he.NOT_SCHEME,"")),we.userinfo!==void 0&&(we.userinfo=String(we.userinfo).replace(he.PCT_ENCODED,Se).replace(he.NOT_USERINFO,te).replace(he.PCT_ENCODED,s)),we.host!==void 0&&(we.host=String(we.host).replace(he.PCT_ENCODED,Se).toLowerCase().replace(he.NOT_HOST,te).replace(he.PCT_ENCODED,s)),we.path!==void 0&&(we.path=String(we.path).replace(he.PCT_ENCODED,Se).replace(we.scheme?he.NOT_PATH:he.NOT_PATH_NOSCHEME,te).replace(he.PCT_ENCODED,s)),we.query!==void 0&&(we.query=String(we.query).replace(he.PCT_ENCODED,Se).replace(he.NOT_QUERY,te).replace(he.PCT_ENCODED,s)),we.fragment!==void 0&&(we.fragment=String(we.fragment).replace(he.PCT_ENCODED,Se).replace(he.NOT_FRAGMENT,te).replace(he.PCT_ENCODED,s)),we}function Le(we){return we.replace(/^0*(.*)/,"$1")||"0"}function C(we,he){var Se=we.match(he.IPV4ADDRESS)||[],Me=h(Se,2),ke=Me[1];return ke?ke.split(".").map(Le).join("."):we}function F(we,he){var Se=we.match(he.IPV6ADDRESS)||[],Me=h(Se,3),ke=Me[1],pt=Me[2];if(ke){for(var ft=ke.toLowerCase().split("::").reverse(),Mt=h(ft,2),Kt=Mt[0],Zt=Mt[1],Dt=Zt?Zt.split(":").map(Le):[],qt=Kt.split(":").map(Le),ur=he.IPV4ADDRESS.test(qt[qt.length-1]),Nt=ur?7:8,ir=qt.length-Nt,Ft=Array(Nt),Yt=0;Yt<Nt;++Yt)Ft[Yt]=Dt[Yt]||qt[ir+Yt]||"";ur&&(Ft[Nt-1]=C(Ft[Nt-1],he));var pn=Ft.reduce(function(rn,vn,$i){if(!vn||vn==="0"){var Wn=rn[rn.length-1];Wn&&Wn.index+Wn.length===$i?Wn.length++:rn.push({index:$i,length:1})}return rn},[]),un=pn.sort(function(rn,vn){return vn.length-rn.length})[0],mn=void 0;if(un&&un.length>1){var Hn=Ft.slice(0,un.index),fi=Ft.slice(un.index+un.length);mn=Hn.join(":")+"::"+fi.join(":")}else mn=Ft.join(":");return pt&&(mn+="%"+pt),mn}else return we}var L=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,ee="".match(/(){0}/)[1]===void 0;function ce(we){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se={},Me=he.iri!==!1?c:f;he.reference==="suffix"&&(we=(he.scheme?he.scheme+":":"")+"//"+we);var ke=we.match(L);if(ke){ee?(Se.scheme=ke[1],Se.userinfo=ke[3],Se.host=ke[4],Se.port=parseInt(ke[5],10),Se.path=ke[6]||"",Se.query=ke[7],Se.fragment=ke[8],isNaN(Se.port)&&(Se.port=ke[5])):(Se.scheme=ke[1]||void 0,Se.userinfo=we.indexOf("@")!==-1?ke[3]:void 0,Se.host=we.indexOf("//")!==-1?ke[4]:void 0,Se.port=parseInt(ke[5],10),Se.path=ke[6]||"",Se.query=we.indexOf("?")!==-1?ke[7]:void 0,Se.fragment=we.indexOf("#")!==-1?ke[8]:void 0,isNaN(Se.port)&&(Se.port=we.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?ke[4]:void 0)),Se.host&&(Se.host=F(C(Se.host,Me),Me)),Se.scheme===void 0&&Se.userinfo===void 0&&Se.host===void 0&&Se.port===void 0&&!Se.path&&Se.query===void 0?Se.reference="same-document":Se.scheme===void 0?Se.reference="relative":Se.fragment===void 0?Se.reference="absolute":Se.reference="uri",he.reference&&he.reference!=="suffix"&&he.reference!==Se.reference&&(Se.error=Se.error||"URI is not a "+he.reference+" reference.");var pt=Z[(he.scheme||Se.scheme||"").toLowerCase()];if(!he.unicodeSupport&&(!pt||!pt.unicodeSupport)){if(Se.host&&(he.domainHost||pt&&pt.domainHost))try{Se.host=ae.toASCII(Se.host.replace(Me.PCT_ENCODED,ue).toLowerCase())}catch(ft){Se.error=Se.error||"Host's domain name can not be converted to ASCII via punycode: "+ft}xe(Se,f)}else xe(Se,Me);pt&&pt.parse&&pt.parse(Se,he)}else Se.error=Se.error||"URI can not be parsed.";return Se}function me(we,he){var Se=he.iri!==!1?c:f,Me=[];return we.userinfo!==void 0&&(Me.push(we.userinfo),Me.push("@")),we.host!==void 0&&Me.push(F(C(String(we.host),Se),Se).replace(Se.IPV6ADDRESS,function(ke,pt,ft){return"["+pt+(ft?"%25"+ft:"")+"]"})),(typeof we.port=="number"||typeof we.port=="string")&&(Me.push(":"),Me.push(String(we.port))),Me.length?Me.join(""):void 0}var ve=/^\.\.?\//,Te=/^\/\.(\/|$)/,De=/^\/\.\.(\/|$)/,Ge=/^\/?(?:.|\n)*?(?=\/|$)/;function Ve(we){for(var he=[];we.length;)if(we.match(ve))we=we.replace(ve,"");else if(we.match(Te))we=we.replace(Te,"/");else if(we.match(De))we=we.replace(De,"/"),he.pop();else if(we==="."||we==="..")we="";else{var Se=we.match(Ge);if(Se){var Me=Se[0];we=we.slice(Me.length),he.push(Me)}else throw new Error("Unexpected dot segment condition")}return he.join("")}function ht(we){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se=he.iri?c:f,Me=[],ke=Z[(he.scheme||we.scheme||"").toLowerCase()];if(ke&&ke.serialize&&ke.serialize(we,he),we.host&&!Se.IPV6ADDRESS.test(we.host)){if(he.domainHost||ke&&ke.domainHost)try{we.host=he.iri?ae.toUnicode(we.host):ae.toASCII(we.host.replace(Se.PCT_ENCODED,ue).toLowerCase())}catch(Mt){we.error=we.error||"Host's domain name can not be converted to "+(he.iri?"Unicode":"ASCII")+" via punycode: "+Mt}}xe(we,Se),he.reference!=="suffix"&&we.scheme&&(Me.push(we.scheme),Me.push(":"));var pt=me(we,he);if(pt!==void 0&&(he.reference!=="suffix"&&Me.push("//"),Me.push(pt),we.path&&we.path.charAt(0)!=="/"&&Me.push("/")),we.path!==void 0){var ft=we.path;!he.absolutePath&&(!ke||!ke.absolutePath)&&(ft=Ve(ft)),pt===void 0&&(ft=ft.replace(/^\/\//,"/%2F")),Me.push(ft)}return we.query!==void 0&&(Me.push("?"),Me.push(we.query)),we.fragment!==void 0&&(Me.push("#"),Me.push(we.fragment)),Me.join("")}function tt(we,he){var Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Me=arguments[3],ke={};return Me||(we=ce(ht(we,Se),Se),he=ce(ht(he,Se),Se)),Se=Se||{},!Se.tolerant&&he.scheme?(ke.scheme=he.scheme,ke.userinfo=he.userinfo,ke.host=he.host,ke.port=he.port,ke.path=Ve(he.path||""),ke.query=he.query):(he.userinfo!==void 0||he.host!==void 0||he.port!==void 0?(ke.userinfo=he.userinfo,ke.host=he.host,ke.port=he.port,ke.path=Ve(he.path||""),ke.query=he.query):(he.path?(he.path.charAt(0)==="/"?ke.path=Ve(he.path):((we.userinfo!==void 0||we.host!==void 0||we.port!==void 0)&&!we.path?ke.path="/"+he.path:we.path?ke.path=we.path.slice(0,we.path.lastIndexOf("/")+1)+he.path:ke.path=he.path,ke.path=Ve(ke.path)),ke.query=he.query):(ke.path=we.path,he.query!==void 0?ke.query=he.query:ke.query=we.query),ke.userinfo=we.userinfo,ke.host=we.host,ke.port=we.port),ke.scheme=we.scheme),ke.fragment=he.fragment,ke}function Xe(we,he,Se){var Me=l({scheme:"null"},Se);return ht(tt(ce(we,Me),ce(he,Me),Me,!0),Me)}function Q(we,he){return typeof we=="string"?we=ht(ce(we,he),he):o(we)==="object"&&(we=ce(ht(we,he),he)),we}function k(we,he,Se){return typeof we=="string"?we=ht(ce(we,Se),Se):o(we)==="object"&&(we=ht(we,Se)),typeof he=="string"?he=ht(ce(he,Se),Se):o(he)==="object"&&(he=ht(he,Se)),we===he}function B(we,he){return we&&we.toString().replace(!he||!he.iri?f.ESCAPE:c.ESCAPE,te)}function le(we,he){return we&&we.toString().replace(!he||!he.iri?f.PCT_ENCODED:c.PCT_ENCODED,ue)}var Ee={scheme:"http",domainHost:!0,parse:function(he,Se){return he.host||(he.error=he.error||"HTTP URIs must have a host."),he},serialize:function(he,Se){var Me=String(he.scheme).toLowerCase()==="https";return(he.port===(Me?443:80)||he.port==="")&&(he.port=void 0),he.path||(he.path="/"),he}},Pe={scheme:"https",domainHost:Ee.domainHost,parse:Ee.parse,serialize:Ee.serialize};function qe(we){return typeof we.secure=="boolean"?we.secure:String(we.scheme).toLowerCase()==="wss"}var Be={scheme:"ws",domainHost:!0,parse:function(he,Se){var Me=he;return Me.secure=qe(Me),Me.resourceName=(Me.path||"/")+(Me.query?"?"+Me.query:""),Me.path=void 0,Me.query=void 0,Me},serialize:function(he,Se){if((he.port===(qe(he)?443:80)||he.port==="")&&(he.port=void 0),typeof he.secure=="boolean"&&(he.scheme=he.secure?"wss":"ws",he.secure=void 0),he.resourceName){var Me=he.resourceName.split("?"),ke=h(Me,2),pt=ke[0],ft=ke[1];he.path=pt&&pt!=="/"?pt:void 0,he.query=ft,he.resourceName=void 0}return he.fragment=void 0,he}},Ye={scheme:"wss",domainHost:Be.domainHost,parse:Be.parse,serialize:Be.serialize},gt={},Ot="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",yt="[0-9A-Fa-f]",Xt=i(i("%[EFef]"+yt+"%"+yt+yt+"%"+yt+yt)+"|"+i("%[89A-Fa-f]"+yt+"%"+yt+yt)+"|"+i("%"+yt+yt)),Xr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",tn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Tr=n(tn,'[\\"\\\\]'),Rr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",jn=new RegExp(Ot,"g"),_r=new RegExp(Xt,"g"),Qt=new RegExp(n("[^]",Xr,"[\\.]",'[\\"]',Tr),"g"),hr=new RegExp(n("[^]",Ot,Rr),"g"),Oe=hr;function je(we){var he=ue(we);return he.match(jn)?he:we}var bt={scheme:"mailto",parse:function(he,Se){var Me=he,ke=Me.to=Me.path?Me.path.split(","):[];if(Me.path=void 0,Me.query){for(var pt=!1,ft={},Mt=Me.query.split("&"),Kt=0,Zt=Mt.length;Kt<Zt;++Kt){var Dt=Mt[Kt].split("=");switch(Dt[0]){case"to":for(var qt=Dt[1].split(","),ur=0,Nt=qt.length;ur<Nt;++ur)ke.push(qt[ur]);break;case"subject":Me.subject=le(Dt[1],Se);break;case"body":Me.body=le(Dt[1],Se);break;default:pt=!0,ft[le(Dt[0],Se)]=le(Dt[1],Se);break}}pt&&(Me.headers=ft)}Me.query=void 0;for(var ir=0,Ft=ke.length;ir<Ft;++ir){var Yt=ke[ir].split("@");if(Yt[0]=le(Yt[0]),Se.unicodeSupport)Yt[1]=le(Yt[1],Se).toLowerCase();else try{Yt[1]=ae.toASCII(le(Yt[1],Se).toLowerCase())}catch(pn){Me.error=Me.error||"Email address's domain name can not be converted to ASCII via punycode: "+pn}ke[ir]=Yt.join("@")}return Me},serialize:function(he,Se){var Me=he,ke=a(he.to);if(ke){for(var pt=0,ft=ke.length;pt<ft;++pt){var Mt=String(ke[pt]),Kt=Mt.lastIndexOf("@"),Zt=Mt.slice(0,Kt).replace(_r,je).replace(_r,s).replace(Qt,te),Dt=Mt.slice(Kt+1);try{Dt=Se.iri?ae.toUnicode(Dt):ae.toASCII(le(Dt,Se).toLowerCase())}catch(ir){Me.error=Me.error||"Email address's domain name can not be converted to "+(Se.iri?"Unicode":"ASCII")+" via punycode: "+ir}ke[pt]=Zt+"@"+Dt}Me.path=ke.join(",")}var qt=he.headers=he.headers||{};he.subject&&(qt.subject=he.subject),he.body&&(qt.body=he.body);var ur=[];for(var Nt in qt)qt[Nt]!==gt[Nt]&&ur.push(Nt.replace(_r,je).replace(_r,s).replace(hr,te)+"="+qt[Nt].replace(_r,je).replace(_r,s).replace(Oe,te));return ur.length&&(Me.query=ur.join("&")),Me}},$t=/^([^\:]+)\:(.*)/,ut={scheme:"urn",parse:function(he,Se){var Me=he.path&&he.path.match($t),ke=he;if(Me){var pt=Se.scheme||ke.scheme||"urn",ft=Me[1].toLowerCase(),Mt=Me[2],Kt=pt+":"+(Se.nid||ft),Zt=Z[Kt];ke.nid=ft,ke.nss=Mt,ke.path=void 0,Zt&&(ke=Zt.parse(ke,Se))}else ke.error=ke.error||"URN can not be parsed.";return ke},serialize:function(he,Se){var Me=Se.scheme||he.scheme||"urn",ke=he.nid,pt=Me+":"+(Se.nid||ke),ft=Z[pt];ft&&(he=ft.serialize(he,Se));var Mt=he,Kt=he.nss;return Mt.path=(ke||Se.nid)+":"+Kt,Mt}},Ut=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Bt={scheme:"urn:uuid",parse:function(he,Se){var Me=he;return Me.uuid=Me.nss,Me.nss=void 0,!Se.tolerant&&(!Me.uuid||!Me.uuid.match(Ut))&&(Me.error=Me.error||"UUID is not valid."),Me},serialize:function(he,Se){var Me=he;return Me.nss=(he.uuid||"").toLowerCase(),Me}};Z[Ee.scheme]=Ee,Z[Pe.scheme]=Pe,Z[Be.scheme]=Be,Z[Ye.scheme]=Ye,Z[bt.scheme]=bt,Z[ut.scheme]=ut,Z[Bt.scheme]=Bt,r.SCHEMES=Z,r.pctEncChar=te,r.pctDecChars=ue,r.parse=ce,r.removeDotSegments=Ve,r.serialize=ht,r.resolveComponents=tt,r.resolve=Xe,r.normalize=Q,r.equal=k,r.escapeComponent=B,r.unescapeComponent=le,Object.defineProperty(r,"__esModule",{value:!0})})})(mC,mC.exports);var uZ=mC.exports,Fs={},cZ={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.nearley=r()})(Eo,function(){function t(u,f,c){return this.id=++t.highestId,this.name=u,this.symbols=f,this.postprocess=c,this}t.highestId=0,t.prototype.toString=function(u){var f=typeof u>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,u).map(l).join(" ")+" ● "+this.symbols.slice(u).map(l).join(" ");return this.name+" → "+f};function r(u,f,c,h){this.rule=u,this.dot=f,this.reference=c,this.data=[],this.wantedBy=h,this.isComplete=this.dot===u.symbols.length}r.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},r.prototype.nextState=function(u){var f=new r(this.rule,this.dot+1,this.reference,this.wantedBy);return f.left=this,f.right=u,f.isComplete&&(f.data=f.build(),f.right=void 0),f},r.prototype.build=function(){var u=[],f=this;do u.push(f.right.data),f=f.left;while(f.left);return u.reverse(),u},r.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,s.fail))};function n(u,f){this.grammar=u,this.index=f,this.states=[],this.wants={},this.scannable=[],this.completed={}}n.prototype.process=function(u){for(var f=this.states,c=this.wants,h=this.completed,m=0;m<f.length;m++){var g=f[m];if(g.isComplete){if(g.finish(),g.data!==s.fail){for(var _=g.wantedBy,v=_.length;v--;){var p=_[v];this.complete(p,g)}if(g.reference===this.index){var E=g.rule.name;(this.completed[E]=this.completed[E]||[]).push(g)}}}else{var E=g.rule.symbols[g.dot];if(typeof E!="string"){this.scannable.push(g);continue}if(c[E]){if(c[E].push(g),h.hasOwnProperty(E))for(var y=h[E],v=0;v<y.length;v++){var S=y[v];this.complete(g,S)}}else c[E]=[g],this.predict(E)}}},n.prototype.predict=function(u){for(var f=this.grammar.byName[u]||[],c=0;c<f.length;c++){var h=f[c],m=this.wants[u],g=new r(h,0,this.index,m);this.states.push(g)}},n.prototype.complete=function(u,f){var c=u.nextState(f);this.states.push(c)};function i(u,f){this.rules=u,this.start=f||this.rules[0].name;var c=this.byName={};this.rules.forEach(function(h){c.hasOwnProperty(h.name)||(c[h.name]=[]),c[h.name].push(h)})}i.fromCompiled=function(h,f){var c=h.Lexer;h.ParserStart&&(f=h.ParserStart,h=h.ParserRules);var h=h.map(function(g){return new t(g.name,g.symbols,g.postprocess)}),m=new i(h,f);return m.lexer=c,m};function o(){this.reset("")}o.prototype.reset=function(u,f){this.buffer=u,this.index=0,this.line=f?f.line:1,this.lastLineBreak=f?-f.col:0},o.prototype.next=function(){if(this.index<this.buffer.length){var u=this.buffer[this.index++];return u===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:u}}},o.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},o.prototype.formatError=function(u,f){var c=this.buffer;if(typeof c=="string"){var h=c.split(`
`).slice(Math.max(0,this.line-5),this.line),m=c.indexOf(`
`,this.index);m===-1&&(m=c.length);var g=this.index-this.lastLineBreak,_=String(this.line).length;return f+=" at line "+this.line+" col "+g+`:

`,f+=h.map(function(p,E){return v(this.line-h.length+E+1,_)+" "+p},this).join(`
`),f+=`
`+v("",_+g)+`^
`,f}else return f+" at index "+(this.index-1);function v(p,E){var y=String(p);return Array(E-y.length+1).join(" ")+y}};function s(u,f,c){if(u instanceof i)var h=u,c=f;else var h=i.fromCompiled(u,f);this.grammar=h,this.options={keepHistory:!1,lexer:h.lexer||new o};for(var m in c||{})this.options[m]=c[m];this.lexer=this.options.lexer,this.lexerState=void 0;var g=new n(h,0);this.table=[g],g.wants[h.start]=[],g.predict(h.start),g.process(),this.current=0}s.fail={},s.prototype.feed=function(u){var f=this.lexer;f.reset(u,this.lexerState);for(var c;;){try{if(c=f.next(),!c)break}catch(d){var _=new n(this.grammar,this.current+1);this.table.push(_);var h=new Error(this.reportLexerError(d));throw h.offset=this.current,h.token=d.token,h}var m=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var g=this.current+1,_=new n(this.grammar,g);this.table.push(_);for(var v=c.text!==void 0?c.text:c.value,p=f.constructor===o?c.value:c,E=m.scannable,y=E.length;y--;){var S=E[y],T=S.rule.symbols[S.dot];if(T.test?T.test(p):T.type?T.type===c.type:T.literal===v){var $=S.nextState({data:p,token:c,isToken:!0,reference:g-1});_.states.push($)}}if(_.process(),_.states.length===0){var h=new Error(this.reportError(c));throw h.offset=this.current,h.token=c,h}this.options.keepHistory&&(m.lexerState=f.save()),this.current++}return m&&(this.lexerState=f.save()),this.results=this.finish(),this},s.prototype.reportLexerError=function(u){var f,c,h=u.token;return h?(f="input "+JSON.stringify(h.text[0])+" (lexer error)",c=this.lexer.formatError(h,"Syntax error")):(f="input (lexer error)",c=u.message),this.reportErrorCommon(c,f)},s.prototype.reportError=function(u){var f=(u.type?u.type+" token: ":"")+JSON.stringify(u.value!==void 0?u.value:u),c=this.lexer.formatError(u,"Syntax error");return this.reportErrorCommon(c,f)},s.prototype.reportErrorCommon=function(u,f){var c=[];c.push(u);var h=this.table.length-2,m=this.table[h],g=m.states.filter(function(v){var p=v.rule.symbols[v.dot];return p&&typeof p!="string"});if(g.length===0)c.push("Unexpected "+f+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(m.states,c);else{c.push("Unexpected "+f+`. Instead, I was expecting to see one of the following:
`);var _=g.map(function(v){return this.buildFirstStateStack(v,[])||[v]},this);_.forEach(function(v){var p=v[0],E=p.rule.symbols[p.dot],y=this.getSymbolDisplay(E);c.push("A "+y+" based on:"),this.displayStateStack(v,c)},this)}return c.push(""),c.join(`
`)},s.prototype.displayStateStack=function(u,f){for(var c,h=0,m=0;m<u.length;m++){var g=u[m],_=g.rule.toString(g.dot);_===c?h++:(h>0&&f.push("    ^ "+h+" more lines identical to this"),h=0,f.push("    "+_)),c=_}},s.prototype.getSymbolDisplay=function(u){return a(u)},s.prototype.buildFirstStateStack=function(u,f){if(f.indexOf(u)!==-1)return null;if(u.wantedBy.length===0)return[u];var c=u.wantedBy[0],h=[u].concat(f),m=this.buildFirstStateStack(c,h);return m===null?null:[u].concat(m)},s.prototype.save=function(){var u=this.table[this.current];return u.lexerState=this.lexerState,u},s.prototype.restore=function(u){var f=u.index;this.current=f,this.table[f]=u,this.table.splice(f+1),this.lexerState=u.lexerState,this.results=this.finish()},s.prototype.rewind=function(u){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[u])},s.prototype.finish=function(){var u=[],f=this.grammar.start,c=this.table[this.table.length-1];return c.states.forEach(function(h){h.rule.name===f&&h.dot===h.rule.symbols.length&&h.reference===0&&h.data!==s.fail&&u.push(h)}),u.map(function(h){return h.data})};function a(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return"character matching "+u;if(u.type)return u.type+" token";if(u.test)return"token matching "+String(u.test);throw new Error("Unknown symbol type: "+u)}}function l(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return u.toString();if(u.type)return"%"+u.type;if(u.test)return"<"+String(u.test)+">";throw new Error("Unknown symbol type: "+u)}}return{Parser:s,Grammar:i,Rule:t}})})(cZ);var ERe=cZ.exports,GD={};Object.defineProperty(GD,"__esModule",{value:!0});function go(e){return e[0]}const fZ=e=>[].concat(...e.map(t=>Array.isArray(t)?fZ(t):t));function Fp(e){return e?Array.isArray(e)?fZ(e).join(""):e:""}const SRe={Lexer:void 0,ParserRules:[{name:"Reverse_path",symbols:["Path"]},{name:"Reverse_path$string$1",symbols:[{literal:"<"},{literal:">"}],postprocess:e=>e.join("")},{name:"Reverse_path",symbols:["Reverse_path$string$1"]},{name:"Forward_path$subexpression$1$subexpression$1",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:"@"}],postprocess:function(e){return e.join("")}},{name:"Forward_path$subexpression$1",symbols:["Forward_path$subexpression$1$subexpression$1","Domain",{literal:">"}]},{name:"Forward_path",symbols:["Forward_path$subexpression$1"]},{name:"Forward_path$subexpression$2",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:">"}],postprocess:function(e){return e.join("")}},{name:"Forward_path",symbols:["Forward_path$subexpression$2"]},{name:"Forward_path",symbols:["Path"]},{name:"Path$ebnf$1$subexpression$1",symbols:["A_d_l",{literal:":"}]},{name:"Path$ebnf$1",symbols:["Path$ebnf$1$subexpression$1"],postprocess:go},{name:"Path$ebnf$1",symbols:[],postprocess:()=>null},{name:"Path",symbols:[{literal:"<"},"Path$ebnf$1","Mailbox",{literal:">"}]},{name:"A_d_l$ebnf$1",symbols:[]},{name:"A_d_l$ebnf$1$subexpression$1",symbols:[{literal:","},"At_domain"]},{name:"A_d_l$ebnf$1",symbols:["A_d_l$ebnf$1","A_d_l$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"A_d_l",symbols:["At_domain","A_d_l$ebnf$1"]},{name:"At_domain",symbols:[{literal:"@"},"Domain"]},{name:"Domain$ebnf$1",symbols:[]},{name:"Domain$ebnf$1$subexpression$1",symbols:[{literal:"."},"sub_domain"]},{name:"Domain$ebnf$1",symbols:["Domain$ebnf$1","Domain$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Domain",symbols:["sub_domain","Domain$ebnf$1"]},{name:"sub_domain",symbols:["U_label"]},{name:"Let_dig",symbols:["ALPHA_DIGIT"],postprocess:go},{name:"Ldh_str$ebnf$1",symbols:[]},{name:"Ldh_str$ebnf$1",symbols:["Ldh_str$ebnf$1","ALPHA_DIG_DASH"],postprocess:e=>e[0].concat([e[1]])},{name:"Ldh_str",symbols:["Ldh_str$ebnf$1","Let_dig"]},{name:"U_Let_dig",symbols:["ALPHA_DIGIT_U"],postprocess:go},{name:"U_Ldh_str$ebnf$1",symbols:[]},{name:"U_Ldh_str$ebnf$1",symbols:["U_Ldh_str$ebnf$1","ALPHA_DIG_DASH_U"],postprocess:e=>e[0].concat([e[1]])},{name:"U_Ldh_str",symbols:["U_Ldh_str$ebnf$1","U_Let_dig"]},{name:"U_label$ebnf$1$subexpression$1",symbols:["U_Ldh_str"]},{name:"U_label$ebnf$1",symbols:["U_label$ebnf$1$subexpression$1"],postprocess:go},{name:"U_label$ebnf$1",symbols:[],postprocess:()=>null},{name:"U_label",symbols:["U_Let_dig","U_label$ebnf$1"]},{name:"address_literal$subexpression$1",symbols:["IPv4_address_literal"]},{name:"address_literal$subexpression$1",symbols:["IPv6_address_literal"]},{name:"address_literal$subexpression$1",symbols:["General_address_literal"]},{name:"address_literal",symbols:[{literal:"["},"address_literal$subexpression$1",{literal:"]"}]},{name:"non_local_part",symbols:["Domain"],postprocess:function(e){return{DomainName:Fp(e[0])}}},{name:"non_local_part",symbols:["address_literal"],postprocess:function(e){return{AddressLiteral:Fp(e[0])}}},{name:"Mailbox",symbols:["Local_part",{literal:"@"},"non_local_part"],postprocess:function(e){return{localPart:Fp(e[0]),domainPart:Fp(e[2])}}},{name:"Local_part",symbols:["Dot_string"],postprocess:function(e){return{DotString:Fp(e[0])}}},{name:"Local_part",symbols:["Quoted_string"],postprocess:function(e){return{QuotedString:Fp(e[0])}}},{name:"Dot_string$ebnf$1",symbols:[]},{name:"Dot_string$ebnf$1$subexpression$1",symbols:[{literal:"."},"Atom"]},{name:"Dot_string$ebnf$1",symbols:["Dot_string$ebnf$1","Dot_string$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Dot_string",symbols:["Atom","Dot_string$ebnf$1"]},{name:"Atom$ebnf$1",symbols:[/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/]},{name:"Atom$ebnf$1",symbols:["Atom$ebnf$1",/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/],postprocess:e=>e[0].concat([e[1]])},{name:"Atom",symbols:["Atom$ebnf$1"]},{name:"Quoted_string$ebnf$1",symbols:[]},{name:"Quoted_string$ebnf$1",symbols:["Quoted_string$ebnf$1","QcontentSMTP"],postprocess:e=>e[0].concat([e[1]])},{name:"Quoted_string",symbols:["DQUOTE","Quoted_string$ebnf$1","DQUOTE"]},{name:"QcontentSMTP",symbols:["qtextSMTP"]},{name:"QcontentSMTP",symbols:["quoted_pairSMTP"]},{name:"quoted_pairSMTP",symbols:[{literal:"\\"},/[\x20-\x7e]/]},{name:"qtextSMTP",symbols:[/[\x20-\x21\x23-\x5b\x5d-\x7e\u0080-\uFFFF]/],postprocess:go},{name:"IPv4_address_literal$macrocall$2",symbols:[{literal:"."},"Snum"]},{name:"IPv4_address_literal$macrocall$1",symbols:["IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2"]},{name:"IPv4_address_literal",symbols:["Snum","IPv4_address_literal$macrocall$1"]},{name:"IPv6_address_literal$subexpression$1",symbols:[/[iI]/,/[pP]/,/[vV]/,{literal:"6"},{literal:":"}],postprocess:function(e){return e.join("")}},{name:"IPv6_address_literal",symbols:["IPv6_address_literal$subexpression$1","IPv6_addr"]},{name:"General_address_literal$ebnf$1",symbols:["dcontent"]},{name:"General_address_literal$ebnf$1",symbols:["General_address_literal$ebnf$1","dcontent"],postprocess:e=>e[0].concat([e[1]])},{name:"General_address_literal",symbols:["Standardized_tag",{literal:":"},"General_address_literal$ebnf$1"]},{name:"Standardized_tag",symbols:["Ldh_str"]},{name:"dcontent",symbols:[/[\x21-\x5a\x5e-\x7e]/],postprocess:go},{name:"Snum",symbols:["DIGIT"]},{name:"Snum$subexpression$1",symbols:[/[1-9]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$1"]},{name:"Snum$subexpression$2",symbols:[{literal:"1"},"DIGIT","DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$2"]},{name:"Snum$subexpression$3",symbols:[{literal:"2"},/[0-4]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$3"]},{name:"Snum$subexpression$4",symbols:[{literal:"2"},{literal:"5"},/[0-5]/]},{name:"Snum",symbols:["Snum$subexpression$4"]},{name:"IPv6_addr",symbols:["IPv6_full"]},{name:"IPv6_addr",symbols:["IPv6_comp"]},{name:"IPv6_addr",symbols:["IPv6v4_full"]},{name:"IPv6_addr",symbols:["IPv6v4_comp"]},{name:"IPv6_hex",symbols:["HEXDIG"]},{name:"IPv6_hex$subexpression$1",symbols:["HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$1"]},{name:"IPv6_hex$subexpression$2",symbols:["HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$2"]},{name:"IPv6_hex$subexpression$3",symbols:["HEXDIG","HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$3"]},{name:"IPv6_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_full$macrocall$1",symbols:["IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2"]},{name:"IPv6_full",symbols:["IPv6_hex","IPv6_full$macrocall$1"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$1",symbols:["IPv6_comp$ebnf$1$subexpression$1"],postprocess:go},{name:"IPv6_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$2$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$2",symbols:["IPv6_comp$ebnf$2$subexpression$1"],postprocess:go},{name:"IPv6_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6_comp",symbols:["IPv6_comp$ebnf$1","IPv6_comp$string$1","IPv6_comp$ebnf$2"]},{name:"IPv6v4_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_full$macrocall$1",symbols:["IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2"]},{name:"IPv6v4_full",symbols:["IPv6_hex","IPv6v4_full$macrocall$1",{literal:":"},"IPv4_address_literal"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6v4_comp$ebnf$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1"],postprocess:go},{name:"IPv6v4_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",{literal:":"}]},{name:"IPv6v4_comp$ebnf$2",symbols:["IPv6v4_comp$ebnf$2$subexpression$1"],postprocess:go},{name:"IPv6v4_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp",symbols:["IPv6v4_comp$ebnf$1","IPv6v4_comp$string$1","IPv6v4_comp$ebnf$2","IPv4_address_literal"]},{name:"DIGIT",symbols:[/[0-9]/],postprocess:go},{name:"ALPHA_DIGIT_U",symbols:[/[0-9A-Za-z\u0080-\uFFFF]/],postprocess:go},{name:"ALPHA_DIGIT",symbols:[/[0-9A-Za-z]/],postprocess:go},{name:"ALPHA_DIG_DASH",symbols:[/[-0-9A-Za-z]/],postprocess:go},{name:"ALPHA_DIG_DASH_U",symbols:[/[-0-9A-Za-z\u0080-\uFFFF]/],postprocess:go},{name:"HEXDIG",symbols:[/[0-9A-Fa-f]/],postprocess:go},{name:"DQUOTE",symbols:[{literal:'"'}],postprocess:go}],ParserStart:"Reverse_path"};GD.default=SRe;var TRe=Eo&&Eo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.canonicalize=Fs.canonicalize_quoted_string=Fs.normalize=Fs.normalize_dot_string=Fs.parse=void 0;const dZ=ERe,hZ=TRe(GD);hZ.default.ParserStart="Mailbox";const $Re=dZ.Grammar.fromCompiled(hZ.default);function KD(e){if(e.length>986)throw new Error("address too long");const r=new dZ.Parser($Re);if(r.feed(e),r.results.length!==1)throw new Error("address parsing failed: ambiguous grammar");const n=e.lastIndexOf("@"),i=e.substring(n+1);if(i[0]!=="["){if(i.length>253)throw new Error("domain too long");const o=i.split(".");if(o.length<2)throw new Error("domain not fully qualified");if(o[o.length-1].length<2)throw new Error("top level domain label too short");if(o.sort(function(s,a){return a.length-s.length}),o[0].length>63)throw new Error("domain label too long")}return r.results[0]}Fs.parse=KD;function pZ(e){return function(){const n=e.indexOf("+");return n===-1?e:e.substr(0,n)}().replace(/\./g,"").toLowerCase()}Fs.normalize_dot_string=pZ;function xRe(e){var t,r;const n=KD(e),i=(t=n.domainPart.AddressLiteral)!==null&&t!==void 0?t:n.domainPart.DomainName.toLowerCase();return`${(r=n.localPart.QuotedString)!==null&&r!==void 0?r:pZ(n.localPart.DotString)}@${i}`}Fs.normalize=xRe;function mZ(e){return`"${e.substr(1).substr(0,e.length-2).replace(/(?:\\(.))/g,"$1").replace(/(?:(["\\]))/g,"\\$1")}"`}Fs.canonicalize_quoted_string=mZ;function ARe(e){var t;const r=KD(e),n=(t=r.domainPart.AddressLiteral)!==null&&t!==void 0?t:r.domainPart.DomainName.toLowerCase();return`${r.localPart.QuotedString?mZ(r.localPart.QuotedString):r.localPart.DotString}@${n}`}Fs.canonicalize=ARe;var YE=Object.prototype.hasOwnProperty,gZ=Object.prototype.toString,T6=Object.defineProperty,$6=Object.getOwnPropertyDescriptor,x6=function(t){return typeof Array.isArray=="function"?Array.isArray(t):gZ.call(t)==="[object Array]"},A6=function(t){if(!t||gZ.call(t)!=="[object Object]")return!1;var r=YE.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&YE.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||YE.call(t,i)},O6=function(t,r){T6&&r.name==="__proto__"?T6(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},P6=function(t,r){if(r==="__proto__")if(YE.call(t,r)){if($6)return $6(t,r).value}else return;return t[r]},ORe=function e(){var t,r,n,i,o,s,a=arguments[0],l=1,u=arguments.length,f=!1;for(typeof a=="boolean"&&(f=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(r in t)n=P6(a,r),i=P6(t,r),a!==i&&(f&&i&&(A6(i)||(o=x6(i)))?(o?(o=!1,s=n&&x6(n)?n:[]):s=n&&A6(n)?n:{},O6(a,{name:r,newValue:e(f,s,i)})):typeof i<"u"&&O6(a,{name:r,newValue:i}));return a};const PRe=[{scheme:"aaa",description:"Diameter Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6733"}]},{scheme:"aaas",description:"Diameter Protocol with Secure Transport",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6733"}]},{scheme:"about",description:"about",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6694"}]},{scheme:"acap",description:"application configuration access protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2244"}]},{scheme:"acct",description:"acct",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7565"}]},{scheme:"cap",description:"Calendar Access Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4324"}]},{scheme:"cid",description:"content identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2392"}]},{scheme:"coap",description:"coap",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7252"}]},{scheme:"coaps",description:"coaps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7252"}]},{scheme:"crid",description:"TV-Anytime Content Reference Identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4078"}]},{scheme:"data",description:"data",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2397"}]},{scheme:"dav",description:"dav",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4918"}]},{scheme:"dict",description:"dictionary service protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2229"}]},{scheme:"dns",description:"Domain Name System",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4501"}]},{scheme:"example",description:"example",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7595"}]},{scheme:"file",description:"Host-specific file names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"ftp",description:"File Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"geo",description:"Geographic Locations",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5870"}]},{scheme:"go",description:"go",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3368"}]},{scheme:"gopher",description:"The Gopher Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4266"}]},{scheme:"h323",description:"H.323",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3508"}]},{scheme:"http",description:"Hypertext Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7230"}]},{scheme:"https",description:"Hypertext Transfer Protocol Secure",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7230"}]},{scheme:"iax",description:"Inter-Asterisk eXchange Version 2",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5456"}]},{scheme:"icap",description:"Internet Content Adaptation Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3507"}]},{scheme:"im",description:"Instant Messaging",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3860"}]},{scheme:"imap",description:"internet message access protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5092"}]},{scheme:"info",description:`Information Assets with Identifiers in Public Namespaces. 
       (section 3) defines an "info" registry 
        of public namespaces, which is maintained by NISO and can be accessed 
        from .`,reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4452"}]},{scheme:"ipp",description:"Internet Printing Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3510"}]},{scheme:"ipps",description:"Internet Printing Protocol over HTTPS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7472"}]},{scheme:"iris",description:"Internet Registry Information Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3981"}]},{scheme:"iris.beep",description:"iris.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3983"}]},{scheme:"iris.lwz",description:"iris.lwz",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4993"}]},{scheme:"iris.xpc",description:"iris.xpc",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4992"}]},{scheme:"iris.xpcs",description:"iris.xpcs",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4992"}]},{scheme:"jabber",description:"jabber",reference:[],template:"http://www.iana.org/assignments/uri-schemes/perm/jabber"},{scheme:"ldap",description:"Lightweight Directory Access Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4516"}]},{scheme:"mailto",description:"Electronic mail address",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6068"}]},{scheme:"mid",description:"message identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2392"}]},{scheme:"msrp",description:"Message Session Relay Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4975"}]},{scheme:"msrps",description:"Message Session Relay Protocol Secure",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4975"}]},{scheme:"mtqp",description:"Message Tracking Query Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3887"}]},{scheme:"mupdate",description:"Mailbox Update (MUPDATE) Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3656"}]},{scheme:"news",description:"USENET news",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"nfs",description:"network file system protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2224"}]},{scheme:"ni",description:"ni",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6920"}]},{scheme:"nih",description:"nih",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6920"}]},{scheme:"nntp",description:"USENET news using NNTP access",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"opaquelocktoken",description:"opaquelocktokent",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4918"}]},{scheme:"pkcs11",description:"PKCS#11",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7512"}]},{scheme:"pop",description:"Post Office Protocol v3",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2384"}]},{scheme:"pres",description:"Presence",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3859"}]},{scheme:"reload",description:"reload",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6940"}]},{scheme:"rtsp",description:"Real-time Streaming Protocol (RTSP)",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"},{type:"draft",href:"http://www.iana.org/go/RFC-ietf-mmusic-rfc2326bis-40"}]},{scheme:"rtsps",description:"Real-time Streaming Protocol (RTSP) over TLS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"},{type:"draft",href:"http://www.iana.org/go/RFC-ietf-mmusic-rfc2326bis-40"}]},{scheme:"rtspu",description:"Real-time Streaming Protocol (RTSP) over unreliable datagram transport",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"}]},{scheme:"service",description:"service location",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2609"}]},{scheme:"session",description:"session",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6787"}]},{scheme:"shttp",description:"Secure Hypertext Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2660"}]},{scheme:"sieve",description:"ManageSieve Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5804"}]},{scheme:"sip",description:"session initiation protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3261"}]},{scheme:"sips",description:"secure session initiation protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3261"}]},{scheme:"sms",description:"Short Message Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5724"}]},{scheme:"snmp",description:"Simple Network Management Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4088"}]},{scheme:"soap.beep",description:"soap.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4227"}]},{scheme:"soap.beeps",description:"soap.beeps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4227"}]},{scheme:"stun",description:"stun",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7064"}]},{scheme:"stuns",description:"stuns",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7064"}]},{scheme:"tag",description:"tag",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4151"}]},{scheme:"tel",description:"telephone",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"telnet",description:"Reference to interactive sessions",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4248"}]},{scheme:"tftp",description:"Trivial File Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3617"}]},{scheme:"thismessage",description:"multipart/related relative reference resolution",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2557"}],template:"http://www.iana.org/assignments/uri-schemes/perm/thismessage"},{scheme:"tip",description:"Transaction Internet Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2371"}]},{scheme:"tn3270",description:"Interactive 3270 emulation sessions",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6270"}]},{scheme:"turn",description:"turn",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7065"}]},{scheme:"turns",description:"turns",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7065"}]},{scheme:"tv",description:"TV Broadcasts",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2838"}]},{scheme:"urn",description:"Uniform Resource Names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2141"},{type:"registry",href:"http://www.iana.org/assignments/urn-namespaces"}]},{scheme:"vemmi",description:"versatile multimedia interface",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2122"}]},{scheme:"vnc",description:"Remote Framebuffer Protocol",reference:[{type:"draft",href:"http://www.iana.org/go/RFC-warden-appsawg-vnc-scheme-10"}]},{scheme:"ws",description:"WebSocket connections",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6455"}]},{scheme:"wss",description:"Encrypted WebSocket connections",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6455"}]},{scheme:"xcon",description:"xcon",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6501"}]},{scheme:"xcon-userid",description:"xcon-userid",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6501"}]},{scheme:"xmlrpc.beep",description:"xmlrpc.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3529"}]},{scheme:"xmlrpc.beeps",description:"xmlrpc.beeps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3529"}]},{scheme:"xmpp",description:"Extensible Messaging and Presence Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5122"}]},{scheme:"z39.50r",description:"Z39.50 Retrieval",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]},{scheme:"z39.50s",description:"Z39.50 Session",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]}],RRe=[{scheme:"acr",description:"acr",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/acr"},{scheme:"adiumxtra",description:"adiumxtra",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/adiumxtra"},{scheme:"afp",description:"afp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/afp"},{scheme:"afs",description:"Andrew File System global file names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"aim",description:"aim",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/aim"},{scheme:"appdata",description:"appdata",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/appdata"},{scheme:"apt",description:"apt",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/apt"},{scheme:"attachment",description:"attachment",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/attachment"},{scheme:"aw",description:"aw",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/aw"},{scheme:"barion",description:"barion",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/barion"},{scheme:"beshare",description:"beshare",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/beshare"},{scheme:"bitcoin",description:"bitcoin",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/bitcoin"},{scheme:"blob",description:"blob",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/blob"},{scheme:"bolo",description:"bolo",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/bolo"},{scheme:"callto",description:"callto",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/callto"},{scheme:"chrome",description:"chrome",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/chrome"},{scheme:"chrome-extension",description:"chrome-extension",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/chrome-extension"},{scheme:"com-eventbrite-attendee",description:"com-eventbrite-attendee",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/com-eventbrite-attendee"},{scheme:"content",description:"content",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/content"},{scheme:"cvs",description:"cvs",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/cvs"},{scheme:"dis",description:"dis",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dis"},{scheme:"dlna-playcontainer",description:"dlna-playcontainer",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dlna-playcontainer"},{scheme:"dlna-playsingle",description:"dlna-playsingle",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dlna-playsingle"},{scheme:"dntp",description:"dntp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dntp"},{scheme:"dtn",description:"DTNRG research and development",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5050"}]},{scheme:"dvb",description:"dvb",reference:[{type:"draft",href:"http://www.iana.org/go/draft-mcroberts-uri-dvb"}]},{scheme:"ed2k",description:"ed2k",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ed2k"},{scheme:"facetime",description:"facetime",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/facetime"},{scheme:"feed",description:"feed",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/feed"},{scheme:"feedready",description:"feedready",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/feedready"},{scheme:"finger",description:"finger",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/finger"},{scheme:"fish",description:"fish",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/fish"},{scheme:"gg",description:"gg",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gg"},{scheme:"git",description:"git",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/git"},{scheme:"gizmoproject",description:"gizmoproject",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gizmoproject"},{scheme:"gtalk",description:"gtalk",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gtalk"},{scheme:"ham",description:"ham",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7046"}]},{scheme:"hcp",description:"hcp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/hcp"},{scheme:"icon",description:"icon",reference:[{type:"draft",href:"http://www.iana.org/go/draft-lafayette-icon-uri-scheme"}]},{scheme:"iotdisco",description:"iotdisco",reference:[{type:"uri",href:"http://www.iana.org/assignments/uri-schemes/prov/iotdisco.pdf"}],template:"http://www.iana.org/assignments/uri-schemes/prov/iotdisco"},{scheme:"ipn",description:"ipn",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6260"}]},{scheme:"irc",description:"irc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/irc"},{scheme:"irc6",description:"irc6",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/irc6"},{scheme:"ircs",description:"ircs",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ircs"},{scheme:"isostore",description:"isostore",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/isostore"},{scheme:"itms",description:"itms",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/itms"},{scheme:"jar",description:"jar",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/jar"},{scheme:"jms",description:"Java Message Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6167"}]},{scheme:"keyparc",description:"keyparc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/keyparc"},{scheme:"lastfm",description:"lastfm",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/lastfm"},{scheme:"ldaps",description:"ldaps",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ldaps"},{scheme:"magnet",description:"magnet",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/magnet"},{scheme:"maps",description:"maps",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/maps"},{scheme:"market",description:"market",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/market"},{scheme:"message",description:"message",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/message"},{scheme:"mms",description:"mms",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mms"},{scheme:"ms-access",description:"ms-access",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-access"},{scheme:"ms-drive-to",description:"ms-drive-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-drive-to"},{scheme:"ms-enrollment",description:"ms-enrollment",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-enrollment"},{scheme:"ms-excel",description:"ms-excel",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-excel"},{scheme:"ms-getoffice",description:"ms-getoffice",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-getoffice"},{scheme:"ms-help",description:"ms-help",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-help"},{scheme:"ms-infopath",description:"ms-infopath",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-infopath"},{scheme:"ms-media-stream-id",description:"ms-media-stream-id",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-media-stream-id"},{scheme:"ms-powerpoint",description:"ms-powerpoint",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-powerpoint"},{scheme:"ms-project",description:"ms-project",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-project"},{scheme:"ms-publisher",description:"ms-publisher",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-publisher"},{scheme:"ms-search-repair",description:"ms-search-repair",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-search-repair"},{scheme:"ms-secondary-screen-controller",description:"ms-secondary-screen-controller",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-secondary-screen-controller"},{scheme:"ms-secondary-screen-setup",description:"ms-secondary-screen-setup",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-secondary-screen-setup"},{scheme:"ms-settings",description:"ms-settings",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings"},{scheme:"ms-settings-airplanemode",description:"ms-settings-airplanemode",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-airplanemode"},{scheme:"ms-settings-bluetooth",description:"ms-settings-bluetooth",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-bluetooth"},{scheme:"ms-settings-camera",description:"ms-settings-camera",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-camera"},{scheme:"ms-settings-cellular",description:"ms-settings-cellular",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-cellular"},{scheme:"ms-settings-cloudstorage",description:"ms-settings-cloudstorage",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-cloudstorage"},{scheme:"ms-settings-connectabledevices",description:"ms-settings-connectabledevices",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-connectabledevices"},{scheme:"ms-settings-displays-topology",description:"ms-settings-displays-topology",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-displays-topology"},{scheme:"ms-settings-emailandaccounts",description:"ms-settings-emailandaccounts",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-emailandaccounts"},{scheme:"ms-settings-language",description:"ms-settings-language",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-language"},{scheme:"ms-settings-location",description:"ms-settings-location",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-location"},{scheme:"ms-settings-lock",description:"ms-settings-lock",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-lock"},{scheme:"ms-settings-nfctransactions",description:"ms-settings-nfctransactions",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-nfctransactions"},{scheme:"ms-settings-notifications",description:"ms-settings-notifications",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-notifications"},{scheme:"ms-settings-power",description:"ms-settings-power",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-power"},{scheme:"ms-settings-privacy",description:"ms-settings-privacy",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-privacy"},{scheme:"ms-settings-proximity",description:"ms-settings-proximity",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-proximity"},{scheme:"ms-settings-screenrotation",description:"ms-settings-screenrotation",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-screenrotation"},{scheme:"ms-settings-wifi",description:"ms-settings-wifi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-wifi"},{scheme:"ms-settings-workplace",description:"ms-settings-workplace",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-workplace"},{scheme:"ms-spd",description:"ms-spd",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-spd"},{scheme:"ms-transit-to",description:"ms-transit-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-transit-to"},{scheme:"ms-visio",description:"ms-visio",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-visio"},{scheme:"ms-walk-to",description:"ms-walk-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-walk-to"},{scheme:"ms-word",description:"ms-word",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-word"},{scheme:"msnim",description:"msnim",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/msnim"},{scheme:"mumble",description:"mumble",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mumble"},{scheme:"mvn",description:"mvn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mvn"},{scheme:"notes",description:"notes",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/notes"},{scheme:"oid",description:"oid",reference:[{type:"draft",href:"http://www.iana.org/go/draft-larmouth-oid-iri"}],template:"http://www.iana.org/assignments/uri-schemes/prov/oid"},{scheme:"palm",description:"palm",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/palm"},{scheme:"paparazzi",description:"paparazzi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/paparazzi"},{scheme:"platform",description:"platform",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/platform"},{scheme:"proxy",description:"proxy",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/proxy"},{scheme:"psyc",description:"psyc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/psyc"},{scheme:"query",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/query"},{scheme:"redis",description:"redis",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/redis"},{scheme:"rediss",description:"rediss",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rediss"},{scheme:"res",description:"res",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/res"},{scheme:"resource",description:"resource",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/resource"},{scheme:"rmi",description:"rmi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rmi"},{scheme:"rsync",description:"rsync",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5781"}]},{scheme:"rtmfp",description:"rtmfp",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7425"}],template:"http://www.iana.org/assignments/uri-schemes/prov/rtmfp"},{scheme:"rtmp",description:"rtmp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rtmp"},{scheme:"secondlife",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/secondlife"},{scheme:"sftp",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/sftp"},{scheme:"sgn",description:"sgn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/sgn"},{scheme:"skype",description:"skype",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/skype"},{scheme:"smb",description:"smb",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/smb"},{scheme:"smtp",description:"smtp",reference:[{type:"draft",href:"http://www.iana.org/go/draft-melnikov-smime-msa-to-mda"}],template:"http://www.iana.org/assignments/uri-schemes/prov/smtp"},{scheme:"soldat",description:"soldat",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/soldat"},{scheme:"spotify",description:"spotify",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/spotify"},{scheme:"ssh",description:"ssh",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ssh"},{scheme:"steam",description:"steam",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/steam"},{scheme:"submit",description:"submit",reference:[{type:"draft",href:"http://www.iana.org/go/draft-melnikov-smime-msa-to-mda"}],template:"http://www.iana.org/assignments/uri-schemes/prov/submit"},{scheme:"svn",description:"svn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/svn"},{scheme:"teamspeak",description:"teamspeak",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/teamspeak"},{scheme:"teliaeid",description:"teliaeid",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/teliaeid"},{scheme:"things",description:"things",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/things"},{scheme:"tool",description:"tool",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/tool"},{scheme:"udp",description:"udp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/udp"},{scheme:"unreal",description:"unreal",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/unreal"},{scheme:"ut2004",description:"ut2004",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ut2004"},{scheme:"v-event",description:"v-event",reference:[{type:"draft",href:"http://www.iana.org/go/draft-menderico-v-event-uri"}],template:"http://www.iana.org/assignments/uri-schemes/prov/v-event"},{scheme:"ventrilo",description:"ventrilo",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ventrilo"},{scheme:"view-source",description:"view-source",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/view-source"},{scheme:"webcal",description:"webcal",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/webcal"},{scheme:"wpid",description:"wpid",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wpid"},{scheme:"wtai",description:"wtai",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wtai"},{scheme:"wyciwyg",description:"wyciwyg",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wyciwyg"},{scheme:"xfire",description:"xfire",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/xfire"},{scheme:"xri",description:"xri",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/xri"},{scheme:"ymsgr",description:"ymsgr",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ymsgr"}],NRe=[{scheme:"fax",description:"fax",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2806"},{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"filesystem",description:"filesystem",reference:[],template:"http://www.iana.org/assignments/uri-schemes/historic/filesystem"},{scheme:"mailserver",description:"Access to data available from mail servers",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6196"}]},{scheme:"modem",description:"modem",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2806"},{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"pack",description:"pack",reference:[{type:"draft",href:"http://www.iana.org/go/draft-shur-pack-uri-scheme"}],template:"http://www.iana.org/assignments/uri-schemes/historic/pack"},{scheme:"prospero",description:"Prospero Directory Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4157"}]},{scheme:"snews",description:"NNTP over SSL/TLS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"videotex",description:"videotex",reference:[{type:"draft",href:"http://www.iana.org/go/draft-mavrakis-videotex-url-spec"},{type:"rfc",href:"http://www.iana.org/go/rfc2122"},{type:"rfc",href:"http://www.iana.org/go/rfc3986"}],template:"http://www.iana.org/assignments/uri-schemes/historic/videotex"},{scheme:"wais",description:"Wide Area Information Servers",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4156"}]},{scheme:"z39.50",description:"Z39.50 information access",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"},{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]}],IRe=[{scheme:"android-app"},{scheme:"webpack"},{scheme:"s3",description:"Amazon Web Services S3 bucket"},{scheme:"gs",description:"Google Cloud Storage"},{scheme:"mqtt",description:"Message Queuing Telemetry Transport Protocol"},{scheme:"modbus+tcp",description:"Modbus over TCP"}];var JD=ORe,Uy={permanent:PRe,provosional:RRe,historical:NRe},t$={};Object.keys(Uy).forEach(function(e){Uy[e].forEach(function(t){t$[t.scheme]=JD(t,{type:e})})});Uy.unofficial=IRe.filter(function(e){return!t$[e.scheme]});Uy.unofficial.forEach(function(e){t$[e.scheme]=JD(e,{type:"unofficial"})});var vZ=JD(Uy,{allByName:t$});const{parse:CRe}=uZ,{addressParser:kRe}=Fs,jRe=vZ;function DRe(e){try{return kRe(e),!0}catch{return!1}}var MRe=e=>{const t=CRe(e);return!!(t.scheme==="mailto"&&t.to.every(DRe)||t.reference==="absolute"&&jRe.allByName[t.scheme])},LRe=/^P(?!$)(\d+(?:\.\d+)?Y)?(\d+(?:\.\d+)?M)?(\d+(?:\.\d+)?W)?(\d+(?:\.\d+)?D)?(T(?=\d)(\d+(?:\.\d+)?H)?(\d+(?:\.\d+)?M)?(\d+(?:\.\d+)?S)?)?$/;const{parse:FRe}=Fs;var BRe=e=>{try{return FRe(e),!0}catch{return!1}};const Dm=2147483647,Mu=36,YD=1,zy=26,URe=38,zRe=700,yZ=72,wZ=128,bZ="-",qRe=/^xn--/,VRe=/[^\0-\x7F]/,HRe=/[\x2E\u3002\uFF0E\uFF61]/g,WRe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},XA=Mu-YD,Lu=Math.floor,QA=String.fromCharCode;function Df(e){throw new RangeError(WRe[e])}function GRe(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function _Z(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(HRe,".");const i=e.split("."),o=GRe(i,t).join(".");return n+o}function XD(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=e.charCodeAt(r++);(o&64512)==56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}const EZ=e=>String.fromCodePoint(...e),KRe=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:Mu},R6=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},SZ=function(e,t,r){let n=0;for(e=r?Lu(e/zRe):e>>1,e+=Lu(e/t);e>XA*zy>>1;n+=Mu)e=Lu(e/XA);return Lu(n+(XA+1)*e/(e+URe))},QD=function(e){const t=[],r=e.length;let n=0,i=wZ,o=yZ,s=e.lastIndexOf(bZ);s<0&&(s=0);for(let a=0;a<s;++a)e.charCodeAt(a)>=128&&Df("not-basic"),t.push(e.charCodeAt(a));for(let a=s>0?s+1:0;a<r;){const l=n;for(let f=1,c=Mu;;c+=Mu){a>=r&&Df("invalid-input");const h=KRe(e.charCodeAt(a++));h>=Mu&&Df("invalid-input"),h>Lu((Dm-n)/f)&&Df("overflow"),n+=h*f;const m=c<=o?YD:c>=o+zy?zy:c-o;if(h<m)break;const g=Mu-m;f>Lu(Dm/g)&&Df("overflow"),f*=g}const u=t.length+1;o=SZ(n-l,u,l==0),Lu(n/u)>Dm-i&&Df("overflow"),i+=Lu(n/u),n%=u,t.splice(n++,0,i)}return String.fromCodePoint(...t)},ZD=function(e){const t=[];e=XD(e);const r=e.length;let n=wZ,i=0,o=yZ;for(const l of e)l<128&&t.push(QA(l));const s=t.length;let a=s;for(s&&t.push(bZ);a<r;){let l=Dm;for(const f of e)f>=n&&f<l&&(l=f);const u=a+1;l-n>Lu((Dm-i)/u)&&Df("overflow"),i+=(l-n)*u,n=l;for(const f of e)if(f<n&&++i>Dm&&Df("overflow"),f===n){let c=i;for(let h=Mu;;h+=Mu){const m=h<=o?YD:h>=o+zy?zy:h-o;if(c<m)break;const g=c-m,_=Mu-m;t.push(QA(R6(m+g%_,0))),c=Lu(g/_)}t.push(QA(R6(c,0))),o=SZ(i,u,a===s),i=0,++a}++i,++n}return t.join("")},TZ=function(e){return _Z(e,function(t){return qRe.test(t)?QD(t.slice(4).toLowerCase()):t})},$Z=function(e){return _Z(e,function(t){return VRe.test(t)?"xn--"+ZD(t):t})},JRe={version:"2.3.1",ucs2:{decode:XD,encode:EZ},decode:QD,encode:ZD,toASCII:$Z,toUnicode:TZ},YRe=Object.freeze(Object.defineProperty({__proto__:null,decode:QD,default:JRe,encode:ZD,toASCII:$Z,toUnicode:TZ,ucs2decode:XD,ucs2encode:EZ},Symbol.toStringTag,{value:"Module"})),xZ=EC(YRe),{toASCII:XRe}=xZ,QRe=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i;var ZRe=e=>{const t=XRe(e);return t.replace(/\.$/,"").length<=253&&QRe.test(t)};const{parse:eNe}=uZ,{addressParser:tNe}=Fs,N6=vZ;function rNe(e){try{return tNe(e),!0}catch{return!1}}var nNe=e=>{const t=eNe(e);return t.scheme==="mailto"&&t.to.every(rNe)||t.reference==="absolute"&&t.path!==void 0&&N6.allByName[t.scheme]?!0:t.scheme&&!N6.allByName[t.scheme]?!1:t.path!==void 0&&(t.reference==="relative"||t.reference==="same-document"||t.reference==="uri")};(function(e){e.exports.iri=MRe,e.exports.duration=LRe,e.exports["idn-email"]=BRe,e.exports["idn-hostname"]=ZRe,e.exports["iri-reference"]=nNe})(_Re);var AZ={exports:{}};(function(e){var t=function(){var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function s(l,u){if(!o[l]){o[l]={};for(var f=0;f<l.length;f++)o[l][l.charAt(f)]=f}return o[l][u]}var a={compressToBase64:function(l){if(l==null)return"";var u=a._compress(l,6,function(f){return n.charAt(f)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:a._decompress(l.length,32,function(u){return s(n,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":a._compress(l,15,function(u){return r(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:a._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=a.compress(l),f=new Uint8Array(u.length*2),c=0,h=u.length;c<h;c++){var m=u.charCodeAt(c);f[c*2]=m>>>8,f[c*2+1]=m%256}return f},decompressFromUint8Array:function(l){if(l==null)return a.decompress(l);for(var u=new Array(l.length/2),f=0,c=u.length;f<c;f++)u[f]=l[f*2]*256+l[f*2+1];var h=[];return u.forEach(function(m){h.push(r(m))}),a.decompress(h.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":a._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),a._decompress(l.length,32,function(u){return s(i,l.charAt(u))}))},compress:function(l){return a._compress(l,16,function(u){return r(u)})},_compress:function(l,u,f){if(l==null)return"";var c,h,m={},g={},_="",v="",p="",E=2,y=3,S=2,T=[],$=0,d=0,x;for(x=0;x<l.length;x+=1)if(_=l.charAt(x),Object.prototype.hasOwnProperty.call(m,_)||(m[_]=y++,g[_]=!0),v=p+_,Object.prototype.hasOwnProperty.call(m,v))p=v;else{if(Object.prototype.hasOwnProperty.call(g,p)){if(p.charCodeAt(0)<256){for(c=0;c<S;c++)$=$<<1,d==u-1?(d=0,T.push(f($)),$=0):d++;for(h=p.charCodeAt(0),c=0;c<8;c++)$=$<<1|h&1,d==u-1?(d=0,T.push(f($)),$=0):d++,h=h>>1}else{for(h=1,c=0;c<S;c++)$=$<<1|h,d==u-1?(d=0,T.push(f($)),$=0):d++,h=0;for(h=p.charCodeAt(0),c=0;c<16;c++)$=$<<1|h&1,d==u-1?(d=0,T.push(f($)),$=0):d++,h=h>>1}E--,E==0&&(E=Math.pow(2,S),S++),delete g[p]}else for(h=m[p],c=0;c<S;c++)$=$<<1|h&1,d==u-1?(d=0,T.push(f($)),$=0):d++,h=h>>1;E--,E==0&&(E=Math.pow(2,S),S++),m[v]=y++,p=String(_)}if(p!==""){if(Object.prototype.hasOwnProperty.call(g,p)){if(p.charCodeAt(0)<256){for(c=0;c<S;c++)$=$<<1,d==u-1?(d=0,T.push(f($)),$=0):d++;for(h=p.charCodeAt(0),c=0;c<8;c++)$=$<<1|h&1,d==u-1?(d=0,T.push(f($)),$=0):d++,h=h>>1}else{for(h=1,c=0;c<S;c++)$=$<<1|h,d==u-1?(d=0,T.push(f($)),$=0):d++,h=0;for(h=p.charCodeAt(0),c=0;c<16;c++)$=$<<1|h&1,d==u-1?(d=0,T.push(f($)),$=0):d++,h=h>>1}E--,E==0&&(E=Math.pow(2,S),S++),delete g[p]}else for(h=m[p],c=0;c<S;c++)$=$<<1|h&1,d==u-1?(d=0,T.push(f($)),$=0):d++,h=h>>1;E--,E==0&&(E=Math.pow(2,S),S++)}for(h=2,c=0;c<S;c++)$=$<<1|h&1,d==u-1?(d=0,T.push(f($)),$=0):d++,h=h>>1;for(;;)if($=$<<1,d==u-1){T.push(f($));break}else d++;return T.join("")},decompress:function(l){return l==null?"":l==""?null:a._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,f){var c=[],h=4,m=4,g=3,_="",v=[],p,E,y,S,T,$,d,x={val:f(0),position:u,index:1};for(p=0;p<3;p+=1)c[p]=p;for(y=0,T=Math.pow(2,2),$=1;$!=T;)S=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=f(x.index++)),y|=(S>0?1:0)*$,$<<=1;switch(y){case 0:for(y=0,T=Math.pow(2,8),$=1;$!=T;)S=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=f(x.index++)),y|=(S>0?1:0)*$,$<<=1;d=r(y);break;case 1:for(y=0,T=Math.pow(2,16),$=1;$!=T;)S=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=f(x.index++)),y|=(S>0?1:0)*$,$<<=1;d=r(y);break;case 2:return""}for(c[3]=d,E=d,v.push(d);;){if(x.index>l)return"";for(y=0,T=Math.pow(2,g),$=1;$!=T;)S=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=f(x.index++)),y|=(S>0?1:0)*$,$<<=1;switch(d=y){case 0:for(y=0,T=Math.pow(2,8),$=1;$!=T;)S=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=f(x.index++)),y|=(S>0?1:0)*$,$<<=1;c[m++]=r(y),d=m-1,h--;break;case 1:for(y=0,T=Math.pow(2,16),$=1;$!=T;)S=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=f(x.index++)),y|=(S>0?1:0)*$,$<<=1;c[m++]=r(y),d=m-1,h--;break;case 2:return v.join("")}if(h==0&&(h=Math.pow(2,g),g++),c[d])_=c[d];else if(d===m)_=E+E.charAt(0);else return null;v.push(_),c[m++]=E+_.charAt(0),h--,E=_,h==0&&(h=Math.pow(2,g),g++)}}};return a}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(AZ);var iNe=AZ.exports;const OZ=Uc(iNe);var PZ={exports:{}},RZ=xZ;function oNe(e,t){this.__proto__=new Error(t),this.__proto__.name="BackslashError",this.offset=e}function ZA(e){return e>="0"&&e<="7"}function sNe(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"}function I6(e){return e=parseInt(e,16),RZ.ucs2.encode([e])}function NZ(e,t,r){var n=!1,i=[];function o(l){var u=e[l];if(!sNe(u))throw new oNe(l,"Unexpected token ILLEGAL");return u}for(;t<e.length;){var s=e[t];if(t++,n){switch(n=!1,s){case"n":i.push(`
`);continue;case"r":i.push("\r");continue;case"f":i.push("\f");continue;case"b":i.push("\b");continue;case"t":i.push("	");continue;case"v":i.push("\v");continue;case"\\":i.push("\\");continue}if(s==="x"){i.push(I6(o(t)+o(t+1))),t+=2;continue}if(s==="u"){i.push(I6(o(t)+o(t+1)+o(t+2)+o(t+3))),t+=4;continue}if(ZA(s)){var a;ZA(a=e[t])&&(t++,s+=a,ZA(a=e[t])&&s[0]<="3"&&(t++,s+=a)),i.push(RZ.ucs2.encode([parseInt(s,8)]));continue}i.push(s)}else if(s==="\\")n=!0;else if(s===r){t--;break}else i.push(s)}return arguments.length===3?{end:t,value:i.join("")}:i.join("")}PZ.exports=function(t){return NZ(t,0)};PZ.exports.parseUntil=function(t,r,n){return NZ(t,r,n)};const aNe="Thing Description",lNe="1.1-05-September-2022",uNe="JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values",cNe="http://json-schema.org/draft-07/schema#",fNe="https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json",dNe={anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"}},security:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string",not:{const:"tm:ThingModel"}},{type:"array",items:{type:"string",not:{const:"tm:ThingModel"}}}]},"dataSchema-type":{type:"string",enum:["boolean","integer","number","string","object","array","null"]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{type:["integer","number"],exclusiveMinimum:0},expectedResponse:{type:"object",properties:{contentType:{type:"string"}}},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},required:["href"],additionalProperties:!0},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{type:"array",items:{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]}}]}},additionalProperties:!0},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["invokeaction","queryaction","cancelaction"]},{type:"array",items:{type:"string",enum:["invokeaction","queryaction","cancelaction"]}}]}},additionalProperties:!0},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["subscribeevent","unsubscribeevent"]},{type:"array",items:{type:"string",enum:["subscribeevent","unsubscribeevent"]}}]}},additionalProperties:!0},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{type:"array",items:{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]}}]}},additionalProperties:!0,required:["op"]},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},observable:{type:"boolean"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}},required:["forms"],additionalProperties:!0},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{type:"boolean"},idempotent:{type:"boolean"},synchronous:{type:"boolean"}},required:["forms"],additionalProperties:!0},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"}},required:["forms"],additionalProperties:!0},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]}},required:["href"],additionalProperties:!0},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon or tm:extends",properties:{rel:{enum:["icon","tm:extends"]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},required:["scheme"],additionalProperties:!0},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["nosec"]}},required:["scheme"],additionalProperties:!0},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["auto"]}},not:{required:["name"]},required:["scheme"],additionalProperties:!0},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},oneOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","oneOf"],additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},allOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","allOf"],additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["basic"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["digest"]},qop:{type:"string",enum:["auth","auth-int"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["apikey"]},in:{type:"string",enum:["header","query","body","cookie","uri","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["bearer"]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["psk"]},identity:{type:"string"}},required:["scheme"],additionalProperties:!0},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["oauth2"]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",enum:["code","client","device"]}]}},required:["scheme"],additionalProperties:!0},securityScheme:{oneOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]}},hNe="object",pNe={id:{type:"string",format:"uri"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{type:"object",properties:{instance:{type:"string"}},required:["instance"]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"}},support:{$ref:"#/definitions/anyUri"},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},"@type":{$ref:"#/definitions/type_declaration"},"@context":{$ref:"#/definitions/thing-context"}},mNe=["title","security","securityDefinitions","@context"],gNe=!0,Nv={title:aNe,version:lNe,description:uNe,$schema:cNe,$id:fNe,definitions:dNe,type:hNe,properties:pNe,required:mNe,additionalProperties:gNe};function vNe(e){return OZ.compressToEncodedURIComponent(e)}function yNe(e){return OZ.decompressFromEncodedURIComponent(e)}const th="$ref",wNe="properties",bNe="additional_properties",Ef="dataSchema",_Ne="#/";ENe(Nv);function ENe(e){const t=new Map,r=new Map;return lh(t,e,_Ne),t.forEach((n,i)=>{if(n.size>0){const o=(i.match(/\//ig)||[]).length;let s=r.get(o);s?(s.set(i.replace(/^r/g,""),n),r.set(o,s)):(s=new Map,s.set(i.replace(/^r/g,""),n),r.set(o,s))}}),r}function lh(e,t,r){const n=new Set;if(t[th]){if(r[0]==="r"&&t[th].includes(Ef))return;t[th].includes(Ef)&&(r="r"+r),lh(fb(Nv,t[th]),r);return}if(t.type==="object"){const i=t[wNe];for(const s in i)if(Object.prototype.hasOwnProperty.call(i,s))if(s===th){if(r[0]==="r"&&i[s].includes(Ef))continue;i[s].includes(Ef)&&(r="r"+r),lh(fb(Nv,i[s]),r);return}else lh(i[s],`${r}${s}/`),n.add(s);const o=t[bNe];for(const s in o)if(Object.prototype.hasOwnProperty.call(o,s)&&s===th){if(r[0]==="r"&&o[s].includes(Ef))continue;o[s].includes(Ef)&&(r="r"+r),lh(fb(Nv,o[s]),`${r}*/`);return}C6(e,r,n)}if(t.type==="array"){const i=t.items;for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&o===th){if(r[0]==="r"&&i[o].includes(Ef))continue;i[o].includes(Ef)&&(r="r"+r),lh(fb(Nv,i[o]),r);return}C6(e,r,n)}for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&["allOf","oneOf","anyOf"].includes(i)&&Array.isArray(t[i])&&t[i].forEach(o=>{lh(o,r)})}function C6(e,t,r){let n=e.get(t);if(n){const i=new Set(n);r.forEach(o=>{i.add(o)}),e.set(t,i)}else e.set(t,r)}function fb(e,t){const r=t.split("/");if(r[0]!=="#"){console.log("Parsing not implemented for between files");return}let n=e;for(let i=1;i<r.length;i++)n=n[r[i]];return n}const SNe="tdjson",TNe="tmjson",$Ne=e=>{let t;try{t=JSON.parse(e)}catch(i){console.debug(i);return}let r=SNe;return C8(t)&&(r=TNe),vNe(r.concat(e))},xNe=e=>{let t=yNe(e);if(!(t==null||t==="")){t=t.substring(6);try{return JSON.parse(t)}catch(r){console.debug(r)}}},IZ=Ne.forwardRef((e,t)=>{const r=Ne.useContext(Fn),[n,i]=ct.useState(!1),[o,s]=ct.useState(""),[a,l]=ct.useState("");Ne.useImperativeHandle(t,()=>({openModal:()=>u(),close:()=>f()}));const u=()=>{i(!0);const h=$Ne(r.offlineTD);l(h||"");const m=`${window.location.origin+window.location.pathname}?td=${h}`;s(m),ANe(m),ONe()},f=()=>{i(!1)};let c=X.jsx("input",{type:"text",name:"share-td-field",id:"share-td-field",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",defaultValue:o});return n?$a.createPortal(X.jsx(xa,{hasSubmit:!0,onHandleEventLeftButton:f,leftButton:"Okay",rightButton:"Open in Playground",onHandleEventRightButton:()=>{window.open(`https://playground.thingweb.io//#${a}`),f()},children:c,title:"Share This TD",description:"A link to this TD was copied to your clipboard."}),document.getElementById("modal-root")):null}),ANe=e=>{document.hasFocus()&&navigator.clipboard.writeText(e).then(function(){console.log("Async: Copied TD link to clipboard!")},function(t){console.error("Async: Could not copy TD to clipboard: ",t)})},ONe=()=>{setTimeout(()=>{try{document.getElementById("share-td-field").select()}catch{}},250)};IZ.displayName="ShareDialog";var gC={exports:{}},eM={},yg={};Object.defineProperty(yg,"__esModule",{value:!0});yg.dynamicAnchor=void 0;const eO=xr,PNe=Ra,k6=fs,RNe=Bc,NNe={keyword:"$dynamicAnchor",schemaType:"string",code:e=>CZ(e,e.schema)};function CZ(e,t){const{gen:r,it:n}=e;n.schemaEnv.root.dynamicAnchors[t]=!0;const i=(0,eO._)`${PNe.default.dynamicAnchors}${(0,eO.getProperty)(t)}`,o=n.errSchemaPath==="#"?n.validateName:INe(e);r.if((0,eO._)`!${i}`,()=>r.assign(i,o))}yg.dynamicAnchor=CZ;function INe(e){const{schemaEnv:t,schema:r,self:n}=e.it,{root:i,baseId:o,localRefs:s,meta:a}=t.root,{schemaId:l}=n.opts,u=new k6.SchemaEnv({schema:r,schemaId:l,root:i,baseId:o,localRefs:s,meta:a});return k6.compileSchema.call(n,u),(0,RNe.getValidate)(e,u)}yg.default=NNe;var wg={};Object.defineProperty(wg,"__esModule",{value:!0});wg.dynamicRef=void 0;const j6=xr,CNe=Ra,D6=Bc,kNe={keyword:"$dynamicRef",schemaType:"string",code:e=>kZ(e,e.schema)};function kZ(e,t){const{gen:r,keyword:n,it:i}=e;if(t[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const o=t.slice(1);if(i.allErrors)s();else{const l=r.let("valid",!1);s(l),e.ok(l)}function s(l){if(i.schemaEnv.root.dynamicAnchors[o]){const u=r.let("_v",(0,j6._)`${CNe.default.dynamicAnchors}${(0,j6.getProperty)(o)}`);r.if(u,a(u,l),a(i.validateName,l))}else a(i.validateName,l)()}function a(l,u){return u?()=>r.block(()=>{(0,D6.callRef)(e,l),r.let(u,!0)}):()=>(0,D6.callRef)(e,l)}}wg.dynamicRef=kZ;wg.default=kNe;var tM={};Object.defineProperty(tM,"__esModule",{value:!0});const jNe=yg,DNe=Jt,MNe={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,jNe.dynamicAnchor)(e,""):(0,DNe.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};tM.default=MNe;var rM={};Object.defineProperty(rM,"__esModule",{value:!0});const LNe=wg,FNe={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,LNe.dynamicRef)(e,e.schema)};rM.default=FNe;Object.defineProperty(eM,"__esModule",{value:!0});const BNe=yg,UNe=wg,zNe=tM,qNe=rM,VNe=[BNe.default,UNe.default,zNe.default,qNe.default];eM.default=VNe;var nM={},iM={};Object.defineProperty(iM,"__esModule",{value:!0});const M6=XT,HNe={keyword:"dependentRequired",type:"object",schemaType:"object",error:M6.error,code:e=>(0,M6.validatePropertyDeps)(e)};iM.default=HNe;var oM={};Object.defineProperty(oM,"__esModule",{value:!0});const WNe=XT,GNe={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,WNe.validateSchemaDeps)(e)};oM.default=GNe;var sM={};Object.defineProperty(sM,"__esModule",{value:!0});const KNe=Jt,JNe={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){t.contains===void 0&&(0,KNe.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}};sM.default=JNe;Object.defineProperty(nM,"__esModule",{value:!0});const YNe=iM,XNe=oM,QNe=sM,ZNe=[YNe.default,XNe.default,QNe.default];nM.default=ZNe;var aM={},lM={};Object.defineProperty(lM,"__esModule",{value:!0});const Cf=xr,L6=Jt,eIe=Ra,tIe={message:"must NOT have unevaluated properties",params:({params:e})=>(0,Cf._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},rIe={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:tIe,code(e){const{gen:t,schema:r,data:n,errsCount:i,it:o}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:s,props:a}=o;a instanceof Cf.Name?t.if((0,Cf._)`${a} !== true`,()=>t.forIn("key",n,c=>t.if(u(a,c),()=>l(c)))):a!==!0&&t.forIn("key",n,c=>a===void 0?l(c):t.if(f(a,c),()=>l(c))),o.props=!0,e.ok((0,Cf._)`${i} === ${eIe.default.errors}`);function l(c){if(r===!1){e.setParams({unevaluatedProperty:c}),e.error(),s||t.break();return}if(!(0,L6.alwaysValidSchema)(o,r)){const h=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:c,dataPropType:L6.Type.Str},h),s||t.if((0,Cf.not)(h),()=>t.break())}}function u(c,h){return(0,Cf._)`!${c} || !${c}[${h}]`}function f(c,h){const m=[];for(const g in c)c[g]===!0&&m.push((0,Cf._)`${h} !== ${g}`);return(0,Cf.and)(...m)}}};lM.default=rIe;var uM={};Object.defineProperty(uM,"__esModule",{value:!0});const gh=xr,F6=Jt,nIe={message:({params:{len:e}})=>(0,gh.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,gh._)`{limit: ${e}}`},iIe={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:nIe,code(e){const{gen:t,schema:r,data:n,it:i}=e,o=i.items||0;if(o===!0)return;const s=t.const("len",(0,gh._)`${n}.length`);if(r===!1)e.setParams({len:o}),e.fail((0,gh._)`${s} > ${o}`);else if(typeof r=="object"&&!(0,F6.alwaysValidSchema)(i,r)){const l=t.var("valid",(0,gh._)`${s} <= ${o}`);t.if((0,gh.not)(l),()=>a(l,o)),e.ok(l)}i.items=!0;function a(l,u){t.forRange("i",u,s,f=>{e.subschema({keyword:"unevaluatedItems",dataProp:f,dataPropType:F6.Type.Num},l),i.allErrors||t.if((0,gh.not)(l),()=>t.break())})}}};uM.default=iIe;Object.defineProperty(aM,"__esModule",{value:!0});const oIe=lM,sIe=uM,aIe=[oIe.default,sIe.default];aM.default=aIe;var cM={};const lIe="https://json-schema.org/draft/2019-09/schema",uIe="https://json-schema.org/draft/2019-09/schema",cIe={"https://json-schema.org/draft/2019-09/vocab/core":!0,"https://json-schema.org/draft/2019-09/vocab/applicator":!0,"https://json-schema.org/draft/2019-09/vocab/validation":!0,"https://json-schema.org/draft/2019-09/vocab/meta-data":!0,"https://json-schema.org/draft/2019-09/vocab/format":!1,"https://json-schema.org/draft/2019-09/vocab/content":!0},fIe=!0,dIe="Core and Validation specifications meta-schema",hIe=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format"},{$ref:"meta/content"}],pIe=["object","boolean"],mIe={definitions:{$comment:"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.",type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},dependencies:{$comment:'"dependencies" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to "dependentSchemas" and "dependentRequired"',type:"object",additionalProperties:{anyOf:[{$recursiveRef:"#"},{$ref:"meta/validation#/$defs/stringArray"}]}}},gIe={$schema:lIe,$id:uIe,$vocabulary:cIe,$recursiveAnchor:fIe,title:dIe,allOf:hIe,type:pIe,properties:mIe},vIe="https://json-schema.org/draft/2019-09/schema",yIe="https://json-schema.org/draft/2019-09/meta/applicator",wIe={"https://json-schema.org/draft/2019-09/vocab/applicator":!0},bIe=!0,_Ie="Applicator vocabulary meta-schema",EIe=["object","boolean"],SIe={additionalItems:{$recursiveRef:"#"},unevaluatedItems:{$recursiveRef:"#"},items:{anyOf:[{$recursiveRef:"#"},{$ref:"#/$defs/schemaArray"}]},contains:{$recursiveRef:"#"},additionalProperties:{$recursiveRef:"#"},unevaluatedProperties:{$recursiveRef:"#"},properties:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$recursiveRef:"#"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$recursiveRef:"#"}},propertyNames:{$recursiveRef:"#"},if:{$recursiveRef:"#"},then:{$recursiveRef:"#"},else:{$recursiveRef:"#"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$recursiveRef:"#"}},TIe={schemaArray:{type:"array",minItems:1,items:{$recursiveRef:"#"}}},$Ie={$schema:vIe,$id:yIe,$vocabulary:wIe,$recursiveAnchor:bIe,title:_Ie,type:EIe,properties:SIe,$defs:TIe},xIe="https://json-schema.org/draft/2019-09/schema",AIe="https://json-schema.org/draft/2019-09/meta/content",OIe={"https://json-schema.org/draft/2019-09/vocab/content":!0},PIe=!0,RIe="Content vocabulary meta-schema",NIe=["object","boolean"],IIe={contentMediaType:{type:"string"},contentEncoding:{type:"string"},contentSchema:{$recursiveRef:"#"}},CIe={$schema:xIe,$id:AIe,$vocabulary:OIe,$recursiveAnchor:PIe,title:RIe,type:NIe,properties:IIe},kIe="https://json-schema.org/draft/2019-09/schema",jIe="https://json-schema.org/draft/2019-09/meta/core",DIe={"https://json-schema.org/draft/2019-09/vocab/core":!0},MIe=!0,LIe="Core vocabulary meta-schema",FIe=["object","boolean"],BIe={$id:{type:"string",format:"uri-reference",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{type:"string",format:"uri"},$anchor:{type:"string",pattern:"^[A-Za-z][-A-Za-z0-9.:_]*$"},$ref:{type:"string",format:"uri-reference"},$recursiveRef:{type:"string",format:"uri-reference"},$recursiveAnchor:{type:"boolean",default:!1},$vocabulary:{type:"object",propertyNames:{type:"string",format:"uri"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}}},UIe={$schema:kIe,$id:jIe,$vocabulary:DIe,$recursiveAnchor:MIe,title:LIe,type:FIe,properties:BIe},zIe="https://json-schema.org/draft/2019-09/schema",qIe="https://json-schema.org/draft/2019-09/meta/format",VIe={"https://json-schema.org/draft/2019-09/vocab/format":!0},HIe=!0,WIe="Format vocabulary meta-schema",GIe=["object","boolean"],KIe={format:{type:"string"}},JIe={$schema:zIe,$id:qIe,$vocabulary:VIe,$recursiveAnchor:HIe,title:WIe,type:GIe,properties:KIe},YIe="https://json-schema.org/draft/2019-09/schema",XIe="https://json-schema.org/draft/2019-09/meta/meta-data",QIe={"https://json-schema.org/draft/2019-09/vocab/meta-data":!0},ZIe=!0,eCe="Meta-data vocabulary meta-schema",tCe=["object","boolean"],rCe={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},nCe={$schema:YIe,$id:XIe,$vocabulary:QIe,$recursiveAnchor:ZIe,title:eCe,type:tCe,properties:rCe},iCe="https://json-schema.org/draft/2019-09/schema",oCe="https://json-schema.org/draft/2019-09/meta/validation",sCe={"https://json-schema.org/draft/2019-09/vocab/validation":!0},aCe=!0,lCe="Validation vocabulary meta-schema",uCe=["object","boolean"],cCe={multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}},const:!0,enum:{type:"array",items:!0},type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]}},fCe={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},dCe={$schema:iCe,$id:oCe,$vocabulary:sCe,$recursiveAnchor:aCe,title:lCe,type:uCe,properties:cCe,$defs:fCe};Object.defineProperty(cM,"__esModule",{value:!0});const hCe=gIe,pCe=$Ie,mCe=CIe,gCe=UIe,vCe=JIe,yCe=nCe,wCe=dCe,bCe=["/properties"];function _Ce(e){return[hCe,pCe,mCe,gCe,t(this,vCe),yCe,t(this,wCe)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,bCe):n}}cM.default=_Ce;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2019=void 0;const r=iD,n=YT,i=eM,o=nM,s=aM,a=ZT,l=cM,u="https://json-schema.org/draft/2019-09/schema";class f extends r.default{constructor(v={}){super({...v,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(i.default),n.default.forEach(v=>this.addVocabulary(v)),this.addVocabulary(o.default),this.addVocabulary(s.default),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:v,meta:p}=this.opts;p&&(l.default.call(this,v),this.refs["http://json-schema.org/schema"]=u)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv2019=f,e.exports=t=f,e.exports.Ajv2019=f,Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var c=cl;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var h=xr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var m=mg;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return m.default}});var g=cp;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return g.default}})})(gC,gC.exports);var ECe=gC.exports;const SCe=Uc(ECe),fM="-",TCe=e=>{const t=xCe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const a=s.split(fM);return a[0]===""&&a.length!==1&&a.shift(),jZ(a,t)||$Ce(s)},getConflictingClassGroupIds:(s,a)=>{const l=r[s]||[];return a&&n[s]?[...l,...n[s]]:l}}},jZ=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?jZ(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(fM);return(s=t.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},B6=/^\[(.+)\]$/,$Ce=e=>{if(B6.test(e)){const t=B6.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},xCe=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)vC(r[i],n,i,t);return n},vC=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:U6(t,i);o.classGroupId=r;return}if(typeof i=="function"){if(ACe(i)){vC(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,s])=>{vC(s,U6(t,o),r,n)})})},U6=(e,t)=>{let r=e;return t.split(fM).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ACe=e=>e.isThemeGetter,OCe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(o,s)=>{r.set(o,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let s=r.get(o);if(s!==void 0)return s;if((s=n.get(o))!==void 0)return i(o,s),s},set(o,s){r.has(o)?r.set(o,s):i(o,s)}}},yC="!",wC=":",PCe=wC.length,RCe=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const o=[];let s=0,a=0,l=0,u;for(let g=0;g<i.length;g++){let _=i[g];if(s===0&&a===0){if(_===wC){o.push(i.slice(l,g)),l=g+PCe;continue}if(_==="/"){u=g;continue}}_==="["?s++:_==="]"?s--:_==="("?a++:_===")"&&a--}const f=o.length===0?i:i.substring(l),c=NCe(f),h=c!==f,m=u&&u>l?u-l:void 0;return{modifiers:o,hasImportantModifier:h,baseClassName:c,maybePostfixModifierPosition:m}};if(t){const i=t+wC,o=n;n=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=o=>r({className:o,parseClassName:i})}return n},NCe=e=>e.endsWith(yC)?e.substring(0,e.length-1):e.startsWith(yC)?e.substring(1):e,ICe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let o=[];return n.forEach(s=>{s[0]==="["||t[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},CCe=e=>({cache:OCe(e.cacheSize),parseClassName:RCe(e),sortModifiers:ICe(e),...TCe(e)}),kCe=/\s+/,jCe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,s=[],a=e.trim().split(kCe);let l="";for(let u=a.length-1;u>=0;u-=1){const f=a[u],{isExternal:c,modifiers:h,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:_}=r(f);if(c){l=f+(l.length>0?" "+l:l);continue}let v=!!_,p=n(v?g.substring(0,_):g);if(!p){if(!v){l=f+(l.length>0?" "+l:l);continue}if(p=n(g),!p){l=f+(l.length>0?" "+l:l);continue}v=!1}const E=o(h).join(":"),y=m?E+yC:E,S=y+p;if(s.includes(S))continue;s.push(S);const T=i(p,v);for(let $=0;$<T.length;++$){const d=T[$];s.push(y+d)}l=f+(l.length>0?" "+l:l)}return l};function DCe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=DZ(t))&&(n&&(n+=" "),n+=r);return n}const DZ=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=DZ(e[n]))&&(r&&(r+=" "),r+=t);return r};function MCe(e,...t){let r,n,i,o=s;function s(l){const u=t.reduce((f,c)=>c(f),e());return r=CCe(u),n=r.cache.get,i=r.cache.set,o=a,a(l)}function a(l){const u=n(l);if(u)return u;const f=jCe(l,r);return i(l,f),f}return function(){return o(DCe.apply(null,arguments))}}const Gi=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},MZ=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,LZ=/^\((?:(\w[\w-]*):)?(.+)\)$/i,LCe=/^\d+\/\d+$/,FCe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BCe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UCe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zCe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qCe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bp=e=>LCe.test(e),Vr=e=>!!e&&!Number.isNaN(Number(e)),Sf=e=>!!e&&Number.isInteger(Number(e)),tO=e=>e.endsWith("%")&&Vr(e.slice(0,-1)),fc=e=>FCe.test(e),VCe=()=>!0,HCe=e=>BCe.test(e)&&!UCe.test(e),FZ=()=>!1,WCe=e=>zCe.test(e),GCe=e=>qCe.test(e),KCe=e=>!tr(e)&&!rr(e),JCe=e=>bg(e,zZ,FZ),tr=e=>MZ.test(e),rh=e=>bg(e,qZ,HCe),rO=e=>bg(e,e2e,Vr),z6=e=>bg(e,BZ,FZ),YCe=e=>bg(e,UZ,GCe),db=e=>bg(e,VZ,WCe),rr=e=>LZ.test(e),ov=e=>_g(e,qZ),XCe=e=>_g(e,t2e),q6=e=>_g(e,BZ),QCe=e=>_g(e,zZ),ZCe=e=>_g(e,UZ),hb=e=>_g(e,VZ,!0),bg=(e,t,r)=>{const n=MZ.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},_g=(e,t,r=!1)=>{const n=LZ.exec(e);return n?n[1]?t(n[1]):r:!1},BZ=e=>e==="position"||e==="percentage",UZ=e=>e==="image"||e==="url",zZ=e=>e==="length"||e==="size"||e==="bg-size",qZ=e=>e==="length",e2e=e=>e==="number",t2e=e=>e==="family-name",VZ=e=>e==="shadow",r2e=()=>{const e=Gi("color"),t=Gi("font"),r=Gi("text"),n=Gi("font-weight"),i=Gi("tracking"),o=Gi("leading"),s=Gi("breakpoint"),a=Gi("container"),l=Gi("spacing"),u=Gi("radius"),f=Gi("shadow"),c=Gi("inset-shadow"),h=Gi("text-shadow"),m=Gi("drop-shadow"),g=Gi("blur"),_=Gi("perspective"),v=Gi("aspect"),p=Gi("ease"),E=Gi("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...S(),rr,tr],$=()=>["auto","hidden","clip","visible","scroll"],d=()=>["auto","contain","none"],x=()=>[rr,tr,l],O=()=>[Bp,"full","auto",...x()],P=()=>[Sf,"none","subgrid",rr,tr],M=()=>["auto",{span:["full",Sf,rr,tr]},Sf,rr,tr],U=()=>[Sf,"auto",rr,tr],K=()=>["auto","min","max","fr",rr,tr],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],ne=()=>["auto",...x()],ge=()=>[Bp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],re=()=>[e,rr,tr],se=()=>[...S(),q6,z6,{position:[rr,tr]}],D=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",QCe,JCe,{size:[rr,tr]}],Y=()=>[tO,ov,rh],N=()=>["","none","full",u,rr,tr],I=()=>["",Vr,ov,rh],q=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>[Vr,tO,q6,z6],te=()=>["","none",g,rr,tr],ue=()=>["none",Vr,rr,tr],xe=()=>["none",Vr,rr,tr],Le=()=>[Vr,rr,tr],C=()=>[Bp,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fc],breakpoint:[fc],color:[VCe],container:[fc],"drop-shadow":[fc],ease:["in","out","in-out"],font:[KCe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fc],shadow:[fc],spacing:["px",Vr],text:[fc],"text-shadow":[fc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bp,tr,rr,v]}],container:["container"],columns:[{columns:[Vr,tr,rr,a]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:d()}],"overscroll-x":[{"overscroll-x":d()}],"overscroll-y":[{"overscroll-y":d()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[Sf,"auto",rr,tr]}],basis:[{basis:[Bp,"full","auto",a,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Vr,Bp,"auto","initial","none",tr]}],grow:[{grow:["",Vr,rr,tr]}],shrink:[{shrink:["",Vr,rr,tr]}],order:[{order:[Sf,"first","last","none",rr,tr]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:ne()}],mx:[{mx:ne()}],my:[{my:ne()}],ms:[{ms:ne()}],me:[{me:ne()}],mt:[{mt:ne()}],mr:[{mr:ne()}],mb:[{mb:ne()}],ml:[{ml:ne()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:ge()}],w:[{w:[a,"screen",...ge()]}],"min-w":[{"min-w":[a,"screen","none",...ge()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...ge()]}],h:[{h:["screen","lh",...ge()]}],"min-h":[{"min-h":["screen","lh","none",...ge()]}],"max-h":[{"max-h":["screen","lh",...ge()]}],"font-size":[{text:["base",r,ov,rh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,rr,rO]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",tO,tr]}],"font-family":[{font:[XCe,tr,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,rr,tr]}],"line-clamp":[{"line-clamp":[Vr,"none",rr,rO]}],leading:[{leading:[o,...x()]}],"list-image":[{"list-image":["none",rr,tr]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",rr,tr]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[Vr,"from-font","auto",rr,rh]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[Vr,"auto",rr,tr]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rr,tr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rr,tr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:D()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Sf,rr,tr],radial:["",rr,tr],conic:[Sf,rr,tr]},ZCe,YCe]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:N()}],"rounded-s":[{"rounded-s":N()}],"rounded-e":[{"rounded-e":N()}],"rounded-t":[{"rounded-t":N()}],"rounded-r":[{"rounded-r":N()}],"rounded-b":[{"rounded-b":N()}],"rounded-l":[{"rounded-l":N()}],"rounded-ss":[{"rounded-ss":N()}],"rounded-se":[{"rounded-se":N()}],"rounded-ee":[{"rounded-ee":N()}],"rounded-es":[{"rounded-es":N()}],"rounded-tl":[{"rounded-tl":N()}],"rounded-tr":[{"rounded-tr":N()}],"rounded-br":[{"rounded-br":N()}],"rounded-bl":[{"rounded-bl":N()}],"border-w":[{border:I()}],"border-w-x":[{"border-x":I()}],"border-w-y":[{"border-y":I()}],"border-w-s":[{"border-s":I()}],"border-w-e":[{"border-e":I()}],"border-w-t":[{"border-t":I()}],"border-w-r":[{"border-r":I()}],"border-w-b":[{"border-b":I()}],"border-w-l":[{"border-l":I()}],"divide-x":[{"divide-x":I()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":I()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Vr,rr,tr]}],"outline-w":[{outline:["",Vr,ov,rh]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",f,hb,db]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",c,hb,db]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[Vr,rh]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":I()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",h,hb,db]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[Vr,rr,tr]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Vr]}],"mask-image-linear-from-pos":[{"mask-linear-from":Z()}],"mask-image-linear-to-pos":[{"mask-linear-to":Z()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":Z()}],"mask-image-t-to-pos":[{"mask-t-to":Z()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":Z()}],"mask-image-r-to-pos":[{"mask-r-to":Z()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":Z()}],"mask-image-b-to-pos":[{"mask-b-to":Z()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":Z()}],"mask-image-l-to-pos":[{"mask-l-to":Z()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":Z()}],"mask-image-x-to-pos":[{"mask-x-to":Z()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":Z()}],"mask-image-y-to-pos":[{"mask-y-to":Z()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[rr,tr]}],"mask-image-radial-from-pos":[{"mask-radial-from":Z()}],"mask-image-radial-to-pos":[{"mask-radial-to":Z()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[Vr]}],"mask-image-conic-from-pos":[{"mask-conic-from":Z()}],"mask-image-conic-to-pos":[{"mask-conic-to":Z()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:D()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",rr,tr]}],filter:[{filter:["","none",rr,tr]}],blur:[{blur:te()}],brightness:[{brightness:[Vr,rr,tr]}],contrast:[{contrast:[Vr,rr,tr]}],"drop-shadow":[{"drop-shadow":["","none",m,hb,db]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",Vr,rr,tr]}],"hue-rotate":[{"hue-rotate":[Vr,rr,tr]}],invert:[{invert:["",Vr,rr,tr]}],saturate:[{saturate:[Vr,rr,tr]}],sepia:[{sepia:["",Vr,rr,tr]}],"backdrop-filter":[{"backdrop-filter":["","none",rr,tr]}],"backdrop-blur":[{"backdrop-blur":te()}],"backdrop-brightness":[{"backdrop-brightness":[Vr,rr,tr]}],"backdrop-contrast":[{"backdrop-contrast":[Vr,rr,tr]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Vr,rr,tr]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Vr,rr,tr]}],"backdrop-invert":[{"backdrop-invert":["",Vr,rr,tr]}],"backdrop-opacity":[{"backdrop-opacity":[Vr,rr,tr]}],"backdrop-saturate":[{"backdrop-saturate":[Vr,rr,tr]}],"backdrop-sepia":[{"backdrop-sepia":["",Vr,rr,tr]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",rr,tr]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Vr,"initial",rr,tr]}],ease:[{ease:["linear","initial",p,rr,tr]}],delay:[{delay:[Vr,rr,tr]}],animate:[{animate:["none",E,rr,tr]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,rr,tr]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:xe()}],"scale-x":[{"scale-x":xe()}],"scale-y":[{"scale-y":xe()}],"scale-z":[{"scale-z":xe()}],"scale-3d":["scale-3d"],skew:[{skew:Le()}],"skew-x":[{"skew-x":Le()}],"skew-y":[{"skew-y":Le()}],transform:[{transform:[rr,tr,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:C()}],"translate-x":[{"translate-x":C()}],"translate-y":[{"translate-y":C()}],"translate-z":[{"translate-z":C()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rr,tr]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rr,tr]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[Vr,ov,rh,rO]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},HZ=MCe(r2e),WZ=Ne.createContext({percent:0,stepCount:0,currentIndex:0}),n2e=({percent:e,filledBackground:t="linear-gradient(to right, #A8B988, #B5D7BD)",children:r,className:n})=>{const o=Ne.Children.toArray(r).length,s=Math.floor(e/100*o),a=Ne.Children.map(r,(l,u)=>ct.isValidElement(l)?ct.cloneElement(l,{stepIndex:u}):l);return X.jsx(WZ.Provider,{value:{percent:e,stepCount:o,currentIndex:s},children:X.jsxs("div",{className:HZ("relative mb-6 h-8 w-full",n),children:[X.jsx("div",{className:"absolute left-0 top-1/2 h-2 w-full -translate-y-1/2 rounded-full bg-gray-200"}),X.jsx("div",{className:"absolute left-0 top-1/2 h-2 -translate-y-1/2 rounded-full transition-all duration-300 ease-in-out",style:{width:`${e}%`,background:t}}),X.jsx("div",{className:"absolute left-0 top-0 flex w-full items-center justify-between",children:a})]})})},nO=({children:e,transition:t="scale",className:r,stepIndex:n=0})=>{const{currentIndex:i}=Ne.useContext(WZ),o=n<=i,s=t==="scale"&&o?"scale-110":"scale-100";return X.jsx("div",{"data-step":n,className:HZ("transition-all duration-300",s,r),children:e({accomplished:o,index:n})})},GZ={workflow:{currentStep:1,showDialog:!1,backgroundTdToSend:{}},metadata:{model:"",author:"",manufacturer:"",license:"",copyrightYear:"",holder:"",copied:!1,validation:null,errorMessage:""},interaction:{activeSection:"INSTANCE",sectionErrors:{instance:{error:!1,message:""},gateway:{error:!1,message:""},table:{error:!1,message:""},results:{error:!1,message:""}},isTestingAll:!1,settingsData:{northboundUrl:Us("northbound")||"",southboundUrl:Us("southbound")||"",pathToValue:Us("valuePath")||"/"},placeholderValues:{},propertyResponseMap:{}},submission:{tmCatalogEndpoint:"",tmCatalogEndpointError:"",repository:"",repositoryError:"",submitted:!1,submittedError:"",id:"",link:""}};function i2e(e,t){switch(t.type){case"SET_STEP":return{...e,workflow:{...e.workflow,currentStep:t.payload}};case"SHOW_DIALOG":return{...e,workflow:{...e.workflow,showDialog:t.payload}};case"SET_BACKGROUND_TD_TO_SEND":return{...e,workflow:{...e.workflow,backgroundTdToSend:t.payload}};case"SET_METADATA_MODEL":return{...e,metadata:{...e.metadata,model:t.payload}};case"SET_METADATA_AUTHOR":return{...e,metadata:{...e.metadata,author:t.payload}};case"SET_METADATA_MANUFACTURER":return{...e,metadata:{...e.metadata,manufacturer:t.payload}};case"SET_METADATA_LICENSE":return{...e,metadata:{...e.metadata,license:t.payload}};case"SET_METADATA_COPYRIGHT_YEAR":return{...e,metadata:{...e.metadata,copyrightYear:t.payload}};case"SET_METADATA_HOLDER":return{...e,metadata:{...e.metadata,holder:t.payload}};case"SET_METADATA_VALIDATION":return{...e,metadata:{...e.metadata,validation:t.payload}};case"SET_METADATA_ERROR_MESSAGE":return{...e,metadata:{...e.metadata,errorMessage:t.payload,validation:"INVALID"}};case"SET_METADATA_COPIED":return{...e,metadata:{...e.metadata,copied:t.payload}};case"INITIALIZE_METADATA":return{...e,metadata:{...e.metadata,...t.payload}};case"SET_INTERACTION_ACTIVE_SECTION":return{...e,interaction:{...e.interaction,activeSection:t.payload}};case"SET_INTERACTION_SECTION_ERROR":return{...e,interaction:{...e.interaction,sectionErrors:{...e.interaction.sectionErrors,[t.section]:{error:t.error,message:t.message}}}};case"SET_INTERACTION_TESTING_ALL":return{...e,interaction:{...e.interaction,isTestingAll:t.payload}};case"SET_INTERACTION_SETTINGS_DATA":return{...e,interaction:{...e.interaction,settingsData:t.payload}};case"UPDATE_INTERACTION_PLACEHOLDER_VALUES":return{...e,interaction:{...e.interaction,placeholderValues:t.payload}};case"UPDATE_INTERACTION_SINGLE_PLACEHOLDER":return{...e,interaction:{...e.interaction,placeholderValues:{...e.interaction.placeholderValues,[t.key]:t.value}}};case"SET_INTERACTION_PROPERTY_RESPONSE_MAP":return{...e,interaction:{...e.interaction,propertyResponseMap:t.payload}};case"SET_SUBMISSION_TMCATALOG_ENDPOINT":return{...e,submission:{...e.submission,tmCatalogEndpoint:t.payload}};case"SET_SUBMISSION_TMCATALOG_ENDPOINT_ERROR":return{...e,submission:{...e.submission,tmCatalogEndpointError:t.payload}};case"SET_SUBMISSION_REPOSITORY":return{...e,submission:{...e.submission,repository:t.payload}};case"SET_SUBMISSION_REPOSITORY_ERROR":return{...e,submission:{...e.submission,repositoryError:t.payload}};case"SET_SUBMISSION_SUBMITTED":return{...e,submission:{...e.submission,submitted:t.payload}};case"SET_SUBMISSION_SUBMITTED_ERROR":return{...e,submission:{...e.submission,submittedError:t.payload}};case"SET_SUBMISSION_ID":return{...e,submission:{...e.submission,id:t.payload}};case"SET_SUBMISSION_LINK":return{...e,submission:{...e.submission,link:t.payload}};case"RESET_STATE":return GZ;default:return e}}const o2e=({model:e,onChangeModel:t,author:r,onChangeAuthor:n,manufacturer:i,onChangeManufacturer:o,license:s,onChangeLicense:a,copyrightYear:l,onChangeCopyrightYear:u,holder:f,onChangeHolder:c,onClickCatalogValidation:h,onClickCopyThingModel:m,isValidating:g,isValid:_,errorMessage:v,copied:p})=>X.jsx(X.Fragment,{children:X.jsxs("div",{className:"w-full rounded-md bg-black bg-opacity-80 p-2",children:[X.jsx("h1",{className:"font-bold",children:"The following fields will be added in the background to your TM for cataloging purposes to ensure quality and discoverability of Thing Models."}),X.jsxs("div",{className:"mx-auto w-[70%] flex-col px-4",children:[X.jsx(Ls,{label:"Model*",placeholder:"The Manufacturer Part Number (MPN) of the product, or the product to which the offer refers.",id:"model",type:"text",value:e,onChange:t,autoFocus:!0}),X.jsx(Ls,{label:"Author*",placeholder:"The organization writing the TM",id:"author",type:"text",value:r,onChange:n,autoFocus:!1}),X.jsx(Ls,{label:"Manufacturer*",placeholder:"Manufacturer of the device",id:"manufacturer",type:"text",value:i,onChange:o,autoFocus:!1}),X.jsx(Ls,{label:"License",placeholder:"URL of the license, e.g., https://www.apache.org/licenses/LICENSE-2.0.txt",id:"license",type:"text",value:s,onChange:a,autoFocus:!1}),X.jsx(Ls,{label:"Copyright Year",placeholder:"e.g. 2024...",id:"copyright",type:"text",value:l,onChange:u,autoFocus:!1}),X.jsx(Ls,{label:"Copyright Holder",placeholder:"Organization holding the copyright of the TM...",id:"holder",type:"text",value:f,onChange:c,autoFocus:!1}),X.jsxs("div",{className:"flex flex-row justify-end",children:[X.jsx("div",{className:"my-2 mt-6 flex flex-grow justify-end",children:X.jsx(_a,{tooltip:t9(),id:"validateTMContent",className:"justify-center"})}),X.jsx(si,{id:"catalogValidation",onClick:h,variant:"primary",type:"button",className:"my-2 mt-6 w-1/4",children:X.jsx("div",{className:"flex w-full items-center justify-center",children:g?X.jsxs(X.Fragment,{children:[X.jsx("span",{className:"pl-6",children:"Validating"}),X.jsx(n0,{className:"animate-spin",size:20})]}):X.jsx(X.Fragment,{children:X.jsx("span",{className:"pl-6",children:"Validate"})})})})]})]}),X.jsxs("div",{children:[v&&X.jsxs("div",{className:"mb-2 mt-2 h-full w-full rounded bg-red-500 p-1 text-white",children:[X.jsx(Hh,{size:24,className:"mr-1 inline text-black"}),v]}),_&&X.jsx(X.Fragment,{children:X.jsxs("div",{className:"flex flex-col",children:[X.jsxs("div",{className:"m-2 inline rounded bg-green-500 p-2 text-white",children:[X.jsx(t0,{size:16,className:"mr-1 inline"}),"TM is valid"]}),X.jsx("div",{children:X.jsx(si,{id:"copyThingModel",onClick:m,variant:"primary",type:"button",className:"mx-2 my-4",children:p?"Copied Thing Model":"Click to copy the full Thing Model"})})]})})]})]})}),s2e=({tmCatalogEndpoint:e,tmCatalogEndpointError:t,handleTmCatalogEndpointChange:r,repository:n,repositoryError:i,handleRepositoryChange:o,handleSubmit:s,submittedError:a,submitted:l,id:u,link:f})=>{const c=async()=>{window.open(f,"_blank","noopener,noreferrer")},h=async()=>{await navigator.clipboard.writeText(u)};return X.jsx(X.Fragment,{children:X.jsxs("div",{className:"w-full rounded-md bg-black bg-opacity-80 p-2",children:[X.jsx("h1",{className:"font-bold",children:"Add the TM Catalog Endpoint and Repository URL"}),X.jsxs("div",{className:"mx-auto w-[70%] flex-col px-4",children:[X.jsx(Ls,{label:"TM Catalog Endpoint",placeholder:"TM Catalog Endpoint:...",id:"catalogEndpoint",type:"text",value:e,autoFocus:!1,onChange:r,className:`${t?"border-red-500":"border-gray-300"} w-full rounded-md border p-2 text-sm`}),t&&X.jsx("div",{className:"mt-1 text-sm text-red-500",children:t}),X.jsx(Ls,{label:"Name of the Repository",placeholder:"In case there are multiple repositories hosted, specify which one with a string. Example: my-catalog",id:"urlRepository",type:"text",value:n,autoFocus:!1,onChange:o,className:`${i?"border-red-500":"border-gray-300"} w-full rounded-md border p-2 text-sm`}),i&&X.jsx("div",{className:"mt-1 text-sm text-red-500",children:i}),X.jsx("div",{className:"flex flex-row justify-end",children:X.jsx(si,{id:"submit",onClick:s,variant:"primary",type:"button",className:"mb-2 mt-6 w-1/4",children:"Submit"})})]}),X.jsxs("div",{className:"flex flex-col justify-center py-2",children:[a&&X.jsxs("div",{className:"mb-2 mt-2 inline h-full w-full rounded bg-red-500 p-1 text-white",children:[X.jsx(Hh,{size:16,className:"mr-1 inline"}),a]}),l&&X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"mb-2 mt-2 inline h-10 rounded bg-green-500 p-2 text-white",children:[X.jsx(t0,{size:16,className:"mr-1 inline"}),"TM submitted successfully!"]}),X.jsxs("div",{className:"mb-2 mt-2 grid grid-cols-3 items-center",children:[X.jsx("div",{className:"col-span-1 w-full",children:X.jsx(si,{id:u,onClick:h,variant:"primary",type:"button",className:"w-3/4",children:X.jsxs("div",{className:"flex w-full items-center justify-between",children:[X.jsx("span",{children:"Copy TM id"}),X.jsx(x2,{size:20,className:"ml-2 cursor-pointer"})]})})}),X.jsx("h1",{className:"col-span-2 pl-4 text-center",children:u})]}),X.jsxs("div",{className:"mb-2 mt-2 grid grid-cols-3 items-center",children:[X.jsx("div",{className:"col-span-1",children:X.jsx(si,{id:f,onClick:c,variant:"primary",type:"button",className:"w-3/4",children:X.jsxs("div",{className:"flex w-full items-center justify-between",children:[X.jsx("span",{children:"Open in new tab"}),X.jsx(P2,{size:20,className:"ml-2 inline cursor-pointer"})]})})}),X.jsx("h1",{className:"col-span-2 pl-4 text-center",children:f})]})]})]})]})})};var _1={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */_1.exports;(function(e,t){(function(){var r,n="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,f="__lodash_placeholder__",c=1,h=2,m=4,g=1,_=2,v=1,p=2,E=4,y=8,S=16,T=32,$=64,d=128,x=256,O=512,P=30,M="...",U=800,K=16,ie=1,G=2,ne=3,ge=1/0,re=9007199254740991,se=17976931348623157e292,D=NaN,z=4294967295,Y=z-1,N=z>>>1,I=[["ary",d],["bind",v],["bindKey",p],["curry",y],["curryRight",S],["flip",O],["partial",T],["partialRight",$],["rearg",x]],q="[object Arguments]",ae="[object Array]",Z="[object AsyncFunction]",te="[object Boolean]",ue="[object Date]",xe="[object DOMException]",Le="[object Error]",C="[object Function]",F="[object GeneratorFunction]",L="[object Map]",ee="[object Number]",ce="[object Null]",me="[object Object]",ve="[object Promise]",Te="[object Proxy]",De="[object RegExp]",Ge="[object Set]",Ve="[object String]",ht="[object Symbol]",tt="[object Undefined]",Xe="[object WeakMap]",Q="[object WeakSet]",k="[object ArrayBuffer]",B="[object DataView]",le="[object Float32Array]",Ee="[object Float64Array]",Pe="[object Int8Array]",qe="[object Int16Array]",Be="[object Int32Array]",Ye="[object Uint8Array]",gt="[object Uint8ClampedArray]",Ot="[object Uint16Array]",yt="[object Uint32Array]",Xt=/\b__p \+= '';/g,Xr=/\b(__p \+=) '' \+/g,tn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tr=/&(?:amp|lt|gt|quot|#39);/g,Rr=/[&<>"']/g,jn=RegExp(Tr.source),_r=RegExp(Rr.source),Qt=/<%-([\s\S]+?)%>/g,hr=/<%([\s\S]+?)%>/g,Oe=/<%=([\s\S]+?)%>/g,je=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bt=/^\w*$/,$t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ut=/[\\^$.*+?()[\]{}|]/g,Ut=RegExp(ut.source),Bt=/^\s+/,we=/\s/,he=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Se=/\{\n\/\* \[wrapped with (.+)\] \*/,Me=/,? & /,ke=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pt=/[()=,{}\[\]\/\s]/,ft=/\\(\\)?/g,Mt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kt=/\w*$/,Zt=/^[-+]0x[0-9a-f]+$/i,Dt=/^0b[01]+$/i,qt=/^\[object .+?Constructor\]$/,ur=/^0o[0-7]+$/i,Nt=/^(?:0|[1-9]\d*)$/,ir=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ft=/($^)/,Yt=/['\n\r\u2028\u2029\\]/g,pn="\\ud800-\\udfff",un="\\u0300-\\u036f",mn="\\ufe20-\\ufe2f",Hn="\\u20d0-\\u20ff",fi=un+mn+Hn,rn="\\u2700-\\u27bf",vn="a-z\\xdf-\\xf6\\xf8-\\xff",$i="\\xac\\xb1\\xd7\\xf7",Wn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zi="\\u2000-\\u206f",_s=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wo="A-Z\\xc0-\\xd6\\xd8-\\xde",nn="\\ufe0e\\ufe0f",Gn=$i+Wn+zi+_s,xi="['’]",Na="["+pn+"]",Go="["+Gn+"]",Zn="["+fi+"]",iu="\\d+",wl="["+rn+"]",Ad="["+vn+"]",fp="[^"+pn+Gn+iu+rn+vn+Wo+"]",Od="\\ud83c[\\udffb-\\udfff]",Ko="(?:"+Zn+"|"+Od+")",Pd="[^"+pn+"]",Ia="(?:\\ud83c[\\udde6-\\uddff]){2}",Es="[\\ud800-\\udbff][\\udc00-\\udfff]",bl="["+Wo+"]",ea="\\u200d",fo="(?:"+Ad+"|"+fp+")",Ca="(?:"+bl+"|"+fp+")",Ju="(?:"+xi+"(?:d|ll|m|re|s|t|ve))?",_l="(?:"+xi+"(?:D|LL|M|RE|S|T|VE))?",Yu=Ko+"?",ou="["+nn+"]?",Gc="(?:"+ea+"(?:"+[Pd,Ia,Es].join("|")+")"+ou+Yu+")*",Jo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Kc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xu=ou+Yu+Gc,ta="(?:"+[wl,Ia,Es].join("|")+")"+Xu,El="(?:"+[Pd+Zn+"?",Zn,Ia,Es,Na].join("|")+")",Jc=RegExp(xi,"g"),Eg=RegExp(Zn,"g"),Yc=RegExp(Od+"(?="+Od+")|"+El+Xu,"g"),dp=RegExp([bl+"?"+Ad+"+"+Ju+"(?="+[Go,bl,"$"].join("|")+")",Ca+"+"+_l+"(?="+[Go,bl+fo,"$"].join("|")+")",bl+"?"+fo+"+"+Ju,bl+"+"+_l,Kc,Jo,iu,ta].join("|"),"g"),hp=RegExp("["+ea+pn+fi+nn+"]"),pp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,su=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Rd=-1,$n={};$n[le]=$n[Ee]=$n[Pe]=$n[qe]=$n[Be]=$n[Ye]=$n[gt]=$n[Ot]=$n[yt]=!0,$n[q]=$n[ae]=$n[k]=$n[te]=$n[B]=$n[ue]=$n[Le]=$n[C]=$n[L]=$n[ee]=$n[me]=$n[De]=$n[Ge]=$n[Ve]=$n[Xe]=!1;var cn={};cn[q]=cn[ae]=cn[k]=cn[B]=cn[te]=cn[ue]=cn[le]=cn[Ee]=cn[Pe]=cn[qe]=cn[Be]=cn[L]=cn[ee]=cn[me]=cn[De]=cn[Ge]=cn[Ve]=cn[ht]=cn[Ye]=cn[gt]=cn[Ot]=cn[yt]=!0,cn[Le]=cn[C]=cn[Xe]=!1;var Nd={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},au={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qc=parseFloat,Zc=parseInt,ef=typeof Eo=="object"&&Eo&&Eo.Object===Object&&Eo,Sl=typeof self=="object"&&self&&self.Object===Object&&self,Dn=ef||Sl||Function("return this")(),Tl=t&&!t.nodeType&&t,Ss=Tl&&!0&&e&&!e.nodeType&&e,tf=Ss&&Ss.exports===Tl,rf=tf&&ef.process,qi=function(){try{var J=Ss&&Ss.require&&Ss.require("util").types;return J||rf&&rf.binding&&rf.binding("util")}catch{}}(),j=qi&&qi.isArrayBuffer,H=qi&&qi.isDate,oe=qi&&qi.isMap,fe=qi&&qi.isRegExp,be=qi&&qi.isSet,_e=qi&&qi.isTypedArray;function Ae(J,pe,ye){switch(ye.length){case 0:return J.call(pe);case 1:return J.call(pe,ye[0]);case 2:return J.call(pe,ye[0],ye[1]);case 3:return J.call(pe,ye[0],ye[1],ye[2])}return J.apply(pe,ye)}function Je(J,pe,ye,ze){for(var We=-1,et=J==null?0:J.length;++We<et;){var Qe=J[We];pe(ze,Qe,ye(Qe),J)}return ze}function He(J,pe){for(var ye=-1,ze=J==null?0:J.length;++ye<ze&&pe(J[ye],ye,J)!==!1;);return J}function it(J,pe){for(var ye=J==null?0:J.length;ye--&&pe(J[ye],ye,J)!==!1;);return J}function dt(J,pe){for(var ye=-1,ze=J==null?0:J.length;++ye<ze;)if(!pe(J[ye],ye,J))return!1;return!0}function vt(J,pe){for(var ye=-1,ze=J==null?0:J.length,We=0,et=[];++ye<ze;){var Qe=J[ye];pe(Qe,ye,J)&&(et[We++]=Qe)}return et}function at(J,pe){var ye=J==null?0:J.length;return!!ye&&xn(J,pe,0)>-1}function Pt(J,pe,ye){for(var ze=-1,We=J==null?0:J.length;++ze<We;)if(ye(pe,J[ze]))return!0;return!1}function zt(J,pe){for(var ye=-1,ze=J==null?0:J.length,We=Array(ze);++ye<ze;)We[ye]=pe(J[ye],ye,J);return We}function wr(J,pe){for(var ye=-1,ze=pe.length,We=J.length;++ye<ze;)J[We+ye]=pe[ye];return J}function pr(J,pe,ye,ze){var We=-1,et=J==null?0:J.length;for(ze&&et&&(ye=J[++We]);++We<et;)ye=pe(ye,J[We],We,J);return ye}function wi(J,pe,ye,ze){var We=J==null?0:J.length;for(ze&&We&&(ye=J[--We]);We--;)ye=pe(ye,J[We],We,J);return ye}function Bn(J,pe){for(var ye=-1,ze=J==null?0:J.length;++ye<ze;)if(pe(J[ye],ye,J))return!0;return!1}var Ts=ja("length");function $s(J){return J.split("")}function jr(J){return J.match(ke)||[]}function ka(J,pe,ye){var ze;return ye(J,function(We,et,Qe){if(pe(We,et,Qe))return ze=et,!1}),ze}function Dr(J,pe,ye,ze){for(var We=J.length,et=ye+(ze?1:-1);ze?et--:++et<We;)if(pe(J[et],et,J))return et;return-1}function xn(J,pe,ye){return pe===pe?of(J,pe,ye):Dr(J,di,ye)}function uu(J,pe,ye,ze){for(var We=ye-1,et=J.length;++We<et;)if(ze(J[We],pe))return We;return-1}function di(J){return J!==J}function Vi(J,pe){var ye=J==null?0:J.length;return ye?Un(J,pe)/ye:D}function ja(J){return function(pe){return pe==null?r:pe[J]}}function to(J){return function(pe){return J==null?r:J[pe]}}function ki(J,pe,ye,ze,We){return We(J,function(et,Qe,ot){ye=ze?(ze=!1,et):pe(ye,et,Qe,ot)}),ye}function Hi(J,pe){var ye=J.length;for(J.sort(pe);ye--;)J[ye]=J[ye].value;return J}function Un(J,pe){for(var ye,ze=-1,We=J.length;++ze<We;){var et=pe(J[ze]);et!==r&&(ye=ye===r?et:ye+et)}return ye}function ra(J,pe){for(var ye=-1,ze=Array(J);++ye<J;)ze[ye]=pe(ye);return ze}function xs(J,pe){return zt(pe,function(ye){return[ye,J[ye]]})}function ji(J){return J&&J.slice(0,Cd(J)+1).replace(Bt,"")}function ro(J){return function(pe){return J(pe)}}function nf(J,pe){return zt(pe,function(ye){return J[ye]})}function Da(J,pe){return J.has(pe)}function fn(J,pe){for(var ye=-1,ze=J.length;++ye<ze&&xn(pe,J[ye],0)>-1;);return ye}function cu(J,pe){for(var ye=J.length;ye--&&xn(pe,J[ye],0)>-1;);return ye}function Ao(J,pe){for(var ye=J.length,ze=0;ye--;)J[ye]===pe&&++ze;return ze}var na=to(Nd),mp=to(au);function gp(J){return"\\"+Xc[J]}function vp(J,pe){return J==null?r:J[pe]}function Oo(J){return hp.test(J)}function Id(J){return pp.test(J)}function Ma(J){for(var pe,ye=[];!(pe=J.next()).done;)ye.push(pe.value);return ye}function $l(J){var pe=-1,ye=Array(J.size);return J.forEach(function(ze,We){ye[++pe]=[We,ze]}),ye}function xl(J,pe){return function(ye){return J(pe(ye))}}function Po(J,pe){for(var ye=-1,ze=J.length,We=0,et=[];++ye<ze;){var Qe=J[ye];(Qe===pe||Qe===f)&&(J[ye]=f,et[We++]=ye)}return et}function ia(J){var pe=-1,ye=Array(J.size);return J.forEach(function(ze){ye[++pe]=ze}),ye}function Qu(J){var pe=-1,ye=Array(J.size);return J.forEach(function(ze){ye[++pe]=[ze,ze]}),ye}function of(J,pe,ye){for(var ze=ye-1,We=J.length;++ze<We;)if(J[ze]===pe)return ze;return-1}function Yo(J,pe,ye){for(var ze=ye+1;ze--;)if(J[ze]===pe)return ze;return ze}function Xo(J){return Oo(J)?Zu(J):Ts(J)}function Di(J){return Oo(J)?Ue(J):$s(J)}function Cd(J){for(var pe=J.length;pe--&&we.test(J.charAt(pe)););return pe}var sf=to(lu);function Zu(J){for(var pe=Yc.lastIndex=0;Yc.test(J);)++pe;return pe}function Ue(J){return J.match(Yc)||[]}function rt(J){return J.match(dp)||[]}var lt=function J(pe){pe=pe==null?Dn:W.defaults(Dn.Object(),pe,W.pick(Dn,su));var ye=pe.Array,ze=pe.Date,We=pe.Error,et=pe.Function,Qe=pe.Math,ot=pe.Object,xt=pe.RegExp,At=pe.String,Ht=pe.TypeError,It=ye.prototype,nr=et.prototype,Or=ot.prototype,Fr=pe["__core-js_shared__"],Kn=nr.toString,sr=Or.hasOwnProperty,Mn=0,Kr=function(){var A=/[^.]+$/.exec(Fr&&Fr.keys&&Fr.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""}(),Ai=Or.toString,Er=Kn.call(ot),Jn=Dn._,on=xt("^"+Kn.call(sr).replace(ut,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Br=tf?pe.Buffer:r,fr=pe.Symbol,yn=pe.Uint8Array,Nr=Br?Br.allocUnsafe:r,An=xl(ot.getPrototypeOf,ot),ho=ot.create,Mi=Or.propertyIsEnumerable,af=It.splice,pM=fr?fr.isConcatSpreadable:r,Sg=fr?fr.iterator:r,kd=fr?fr.toStringTag:r,R0=function(){try{var A=Fd(ot,"defineProperty");return A({},"",{}),A}catch{}}(),s7=pe.clearTimeout!==Dn.clearTimeout&&pe.clearTimeout,a7=ze&&ze.now!==Dn.Date.now&&ze.now,l7=pe.setTimeout!==Dn.setTimeout&&pe.setTimeout,N0=Qe.ceil,I0=Qe.floor,r$=ot.getOwnPropertySymbols,u7=Br?Br.isBuffer:r,mM=pe.isFinite,c7=It.join,f7=xl(ot.keys,ot),Wi=Qe.max,Ro=Qe.min,d7=ze.now,h7=pe.parseInt,gM=Qe.random,p7=It.reverse,n$=Fd(pe,"DataView"),Tg=Fd(pe,"Map"),i$=Fd(pe,"Promise"),yp=Fd(pe,"Set"),$g=Fd(pe,"WeakMap"),xg=Fd(ot,"create"),C0=$g&&new $g,wp={},m7=Bd(n$),g7=Bd(Tg),v7=Bd(i$),y7=Bd(yp),w7=Bd($g),k0=fr?fr.prototype:r,Ag=k0?k0.valueOf:r,vM=k0?k0.toString:r;function Re(A){if(bi(A)&&!Pr(A)&&!(A instanceof sn)){if(A instanceof La)return A;if(sr.call(A,"__wrapped__"))return yL(A)}return new La(A)}var bp=function(){function A(){}return function(R){if(!hi(R))return{};if(ho)return ho(R);A.prototype=R;var V=new A;return A.prototype=r,V}}();function j0(){}function La(A,R){this.__wrapped__=A,this.__actions__=[],this.__chain__=!!R,this.__index__=0,this.__values__=r}Re.templateSettings={escape:Qt,evaluate:hr,interpolate:Oe,variable:"",imports:{_:Re}},Re.prototype=j0.prototype,Re.prototype.constructor=Re,La.prototype=bp(j0.prototype),La.prototype.constructor=La;function sn(A){this.__wrapped__=A,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=z,this.__views__=[]}function b7(){var A=new sn(this.__wrapped__);return A.__actions__=As(this.__actions__),A.__dir__=this.__dir__,A.__filtered__=this.__filtered__,A.__iteratees__=As(this.__iteratees__),A.__takeCount__=this.__takeCount__,A.__views__=As(this.__views__),A}function _7(){if(this.__filtered__){var A=new sn(this);A.__dir__=-1,A.__filtered__=!0}else A=this.clone(),A.__dir__*=-1;return A}function E7(){var A=this.__wrapped__.value(),R=this.__dir__,V=Pr(A),de=R<0,$e=V?A.length:0,Ce=kee(0,$e,this.__views__),Ke=Ce.start,nt=Ce.end,st=nt-Ke,St=de?nt:Ke-1,Tt=this.__iteratees__,kt=Tt.length,Wt=0,ar=Ro(st,this.__takeCount__);if(!V||!de&&$e==st&&ar==st)return UM(A,this.__actions__);var gr=[];e:for(;st--&&Wt<ar;){St+=R;for(var Mr=-1,vr=A[St];++Mr<kt;){var Qr=Tt[Mr],dn=Qr.iteratee,aa=Qr.type,es=dn(vr);if(aa==G)vr=es;else if(!es){if(aa==ie)continue e;break e}}gr[Wt++]=vr}return gr}sn.prototype=bp(j0.prototype),sn.prototype.constructor=sn;function jd(A){var R=-1,V=A==null?0:A.length;for(this.clear();++R<V;){var de=A[R];this.set(de[0],de[1])}}function S7(){this.__data__=xg?xg(null):{},this.size=0}function T7(A){var R=this.has(A)&&delete this.__data__[A];return this.size-=R?1:0,R}function $7(A){var R=this.__data__;if(xg){var V=R[A];return V===l?r:V}return sr.call(R,A)?R[A]:r}function x7(A){var R=this.__data__;return xg?R[A]!==r:sr.call(R,A)}function A7(A,R){var V=this.__data__;return this.size+=this.has(A)?0:1,V[A]=xg&&R===r?l:R,this}jd.prototype.clear=S7,jd.prototype.delete=T7,jd.prototype.get=$7,jd.prototype.has=x7,jd.prototype.set=A7;function ec(A){var R=-1,V=A==null?0:A.length;for(this.clear();++R<V;){var de=A[R];this.set(de[0],de[1])}}function O7(){this.__data__=[],this.size=0}function P7(A){var R=this.__data__,V=D0(R,A);if(V<0)return!1;var de=R.length-1;return V==de?R.pop():af.call(R,V,1),--this.size,!0}function R7(A){var R=this.__data__,V=D0(R,A);return V<0?r:R[V][1]}function N7(A){return D0(this.__data__,A)>-1}function I7(A,R){var V=this.__data__,de=D0(V,A);return de<0?(++this.size,V.push([A,R])):V[de][1]=R,this}ec.prototype.clear=O7,ec.prototype.delete=P7,ec.prototype.get=R7,ec.prototype.has=N7,ec.prototype.set=I7;function tc(A){var R=-1,V=A==null?0:A.length;for(this.clear();++R<V;){var de=A[R];this.set(de[0],de[1])}}function C7(){this.size=0,this.__data__={hash:new jd,map:new(Tg||ec),string:new jd}}function k7(A){var R=K0(this,A).delete(A);return this.size-=R?1:0,R}function j7(A){return K0(this,A).get(A)}function D7(A){return K0(this,A).has(A)}function M7(A,R){var V=K0(this,A),de=V.size;return V.set(A,R),this.size+=V.size==de?0:1,this}tc.prototype.clear=C7,tc.prototype.delete=k7,tc.prototype.get=j7,tc.prototype.has=D7,tc.prototype.set=M7;function Dd(A){var R=-1,V=A==null?0:A.length;for(this.__data__=new tc;++R<V;)this.add(A[R])}function L7(A){return this.__data__.set(A,l),this}function F7(A){return this.__data__.has(A)}Dd.prototype.add=Dd.prototype.push=L7,Dd.prototype.has=F7;function Al(A){var R=this.__data__=new ec(A);this.size=R.size}function B7(){this.__data__=new ec,this.size=0}function U7(A){var R=this.__data__,V=R.delete(A);return this.size=R.size,V}function z7(A){return this.__data__.get(A)}function q7(A){return this.__data__.has(A)}function V7(A,R){var V=this.__data__;if(V instanceof ec){var de=V.__data__;if(!Tg||de.length<i-1)return de.push([A,R]),this.size=++V.size,this;V=this.__data__=new tc(de)}return V.set(A,R),this.size=V.size,this}Al.prototype.clear=B7,Al.prototype.delete=U7,Al.prototype.get=z7,Al.prototype.has=q7,Al.prototype.set=V7;function yM(A,R){var V=Pr(A),de=!V&&Ud(A),$e=!V&&!de&&df(A),Ce=!V&&!de&&!$e&&Tp(A),Ke=V||de||$e||Ce,nt=Ke?ra(A.length,At):[],st=nt.length;for(var St in A)(R||sr.call(A,St))&&!(Ke&&(St=="length"||$e&&(St=="offset"||St=="parent")||Ce&&(St=="buffer"||St=="byteLength"||St=="byteOffset")||oc(St,st)))&&nt.push(St);return nt}function wM(A){var R=A.length;return R?A[m$(0,R-1)]:r}function H7(A,R){return J0(As(A),Md(R,0,A.length))}function W7(A){return J0(As(A))}function o$(A,R,V){(V!==r&&!Ol(A[R],V)||V===r&&!(R in A))&&rc(A,R,V)}function Og(A,R,V){var de=A[R];(!(sr.call(A,R)&&Ol(de,V))||V===r&&!(R in A))&&rc(A,R,V)}function D0(A,R){for(var V=A.length;V--;)if(Ol(A[V][0],R))return V;return-1}function G7(A,R,V,de){return lf(A,function($e,Ce,Ke){R(de,$e,V($e),Ke)}),de}function bM(A,R){return A&&du(R,no(R),A)}function K7(A,R){return A&&du(R,Ps(R),A)}function rc(A,R,V){R=="__proto__"&&R0?R0(A,R,{configurable:!0,enumerable:!0,value:V,writable:!0}):A[R]=V}function s$(A,R){for(var V=-1,de=R.length,$e=ye(de),Ce=A==null;++V<de;)$e[V]=Ce?r:B$(A,R[V]);return $e}function Md(A,R,V){return A===A&&(V!==r&&(A=A<=V?A:V),R!==r&&(A=A>=R?A:R)),A}function Fa(A,R,V,de,$e,Ce){var Ke,nt=R&c,st=R&h,St=R&m;if(V&&(Ke=$e?V(A,de,$e,Ce):V(A)),Ke!==r)return Ke;if(!hi(A))return A;var Tt=Pr(A);if(Tt){if(Ke=Dee(A),!nt)return As(A,Ke)}else{var kt=No(A),Wt=kt==C||kt==F;if(df(A))return VM(A,nt);if(kt==me||kt==q||Wt&&!$e){if(Ke=st||Wt?{}:uL(A),!nt)return st?$ee(A,K7(Ke,A)):Tee(A,bM(Ke,A))}else{if(!cn[kt])return $e?A:{};Ke=Mee(A,kt,nt)}}Ce||(Ce=new Al);var ar=Ce.get(A);if(ar)return ar;Ce.set(A,Ke),LL(A)?A.forEach(function(vr){Ke.add(Fa(vr,R,V,vr,A,Ce))}):DL(A)&&A.forEach(function(vr,Qr){Ke.set(Qr,Fa(vr,R,V,Qr,A,Ce))});var gr=St?st?x$:$$:st?Ps:no,Mr=Tt?r:gr(A);return He(Mr||A,function(vr,Qr){Mr&&(Qr=vr,vr=A[Qr]),Og(Ke,Qr,Fa(vr,R,V,Qr,A,Ce))}),Ke}function J7(A){var R=no(A);return function(V){return _M(V,A,R)}}function _M(A,R,V){var de=V.length;if(A==null)return!de;for(A=ot(A);de--;){var $e=V[de],Ce=R[$e],Ke=A[$e];if(Ke===r&&!($e in A)||!Ce(Ke))return!1}return!0}function EM(A,R,V){if(typeof A!="function")throw new Ht(s);return jg(function(){A.apply(r,V)},R)}function Pg(A,R,V,de){var $e=-1,Ce=at,Ke=!0,nt=A.length,st=[],St=R.length;if(!nt)return st;V&&(R=zt(R,ro(V))),de?(Ce=Pt,Ke=!1):R.length>=i&&(Ce=Da,Ke=!1,R=new Dd(R));e:for(;++$e<nt;){var Tt=A[$e],kt=V==null?Tt:V(Tt);if(Tt=de||Tt!==0?Tt:0,Ke&&kt===kt){for(var Wt=St;Wt--;)if(R[Wt]===kt)continue e;st.push(Tt)}else Ce(R,kt,de)||st.push(Tt)}return st}var lf=JM(fu),SM=JM(l$,!0);function Y7(A,R){var V=!0;return lf(A,function(de,$e,Ce){return V=!!R(de,$e,Ce),V}),V}function M0(A,R,V){for(var de=-1,$e=A.length;++de<$e;){var Ce=A[de],Ke=R(Ce);if(Ke!=null&&(nt===r?Ke===Ke&&!sa(Ke):V(Ke,nt)))var nt=Ke,st=Ce}return st}function X7(A,R,V,de){var $e=A.length;for(V=Ir(V),V<0&&(V=-V>$e?0:$e+V),de=de===r||de>$e?$e:Ir(de),de<0&&(de+=$e),de=V>de?0:BL(de);V<de;)A[V++]=R;return A}function TM(A,R){var V=[];return lf(A,function(de,$e,Ce){R(de,$e,Ce)&&V.push(de)}),V}function po(A,R,V,de,$e){var Ce=-1,Ke=A.length;for(V||(V=Fee),$e||($e=[]);++Ce<Ke;){var nt=A[Ce];R>0&&V(nt)?R>1?po(nt,R-1,V,de,$e):wr($e,nt):de||($e[$e.length]=nt)}return $e}var a$=YM(),$M=YM(!0);function fu(A,R){return A&&a$(A,R,no)}function l$(A,R){return A&&$M(A,R,no)}function L0(A,R){return vt(R,function(V){return sc(A[V])})}function Ld(A,R){R=cf(R,A);for(var V=0,de=R.length;A!=null&&V<de;)A=A[hu(R[V++])];return V&&V==de?A:r}function xM(A,R,V){var de=R(A);return Pr(A)?de:wr(de,V(A))}function Qo(A){return A==null?A===r?tt:ce:kd&&kd in ot(A)?Cee(A):Wee(A)}function u$(A,R){return A>R}function Q7(A,R){return A!=null&&sr.call(A,R)}function Z7(A,R){return A!=null&&R in ot(A)}function eee(A,R,V){return A>=Ro(R,V)&&A<Wi(R,V)}function c$(A,R,V){for(var de=V?Pt:at,$e=A[0].length,Ce=A.length,Ke=Ce,nt=ye(Ce),st=1/0,St=[];Ke--;){var Tt=A[Ke];Ke&&R&&(Tt=zt(Tt,ro(R))),st=Ro(Tt.length,st),nt[Ke]=!V&&(R||$e>=120&&Tt.length>=120)?new Dd(Ke&&Tt):r}Tt=A[0];var kt=-1,Wt=nt[0];e:for(;++kt<$e&&St.length<st;){var ar=Tt[kt],gr=R?R(ar):ar;if(ar=V||ar!==0?ar:0,!(Wt?Da(Wt,gr):de(St,gr,V))){for(Ke=Ce;--Ke;){var Mr=nt[Ke];if(!(Mr?Da(Mr,gr):de(A[Ke],gr,V)))continue e}Wt&&Wt.push(gr),St.push(ar)}}return St}function tee(A,R,V,de){return fu(A,function($e,Ce,Ke){R(de,V($e),Ce,Ke)}),de}function Rg(A,R,V){R=cf(R,A),A=hL(A,R);var de=A==null?A:A[hu(Ua(R))];return de==null?r:Ae(de,A,V)}function AM(A){return bi(A)&&Qo(A)==q}function ree(A){return bi(A)&&Qo(A)==k}function nee(A){return bi(A)&&Qo(A)==ue}function Ng(A,R,V,de,$e){return A===R?!0:A==null||R==null||!bi(A)&&!bi(R)?A!==A&&R!==R:iee(A,R,V,de,Ng,$e)}function iee(A,R,V,de,$e,Ce){var Ke=Pr(A),nt=Pr(R),st=Ke?ae:No(A),St=nt?ae:No(R);st=st==q?me:st,St=St==q?me:St;var Tt=st==me,kt=St==me,Wt=st==St;if(Wt&&df(A)){if(!df(R))return!1;Ke=!0,Tt=!1}if(Wt&&!Tt)return Ce||(Ce=new Al),Ke||Tp(A)?sL(A,R,V,de,$e,Ce):Nee(A,R,st,V,de,$e,Ce);if(!(V&g)){var ar=Tt&&sr.call(A,"__wrapped__"),gr=kt&&sr.call(R,"__wrapped__");if(ar||gr){var Mr=ar?A.value():A,vr=gr?R.value():R;return Ce||(Ce=new Al),$e(Mr,vr,V,de,Ce)}}return Wt?(Ce||(Ce=new Al),Iee(A,R,V,de,$e,Ce)):!1}function oee(A){return bi(A)&&No(A)==L}function f$(A,R,V,de){var $e=V.length,Ce=$e,Ke=!de;if(A==null)return!Ce;for(A=ot(A);$e--;){var nt=V[$e];if(Ke&&nt[2]?nt[1]!==A[nt[0]]:!(nt[0]in A))return!1}for(;++$e<Ce;){nt=V[$e];var st=nt[0],St=A[st],Tt=nt[1];if(Ke&&nt[2]){if(St===r&&!(st in A))return!1}else{var kt=new Al;if(de)var Wt=de(St,Tt,st,A,R,kt);if(!(Wt===r?Ng(Tt,St,g|_,de,kt):Wt))return!1}}return!0}function OM(A){if(!hi(A)||Uee(A))return!1;var R=sc(A)?on:qt;return R.test(Bd(A))}function see(A){return bi(A)&&Qo(A)==De}function aee(A){return bi(A)&&No(A)==Ge}function lee(A){return bi(A)&&tw(A.length)&&!!$n[Qo(A)]}function PM(A){return typeof A=="function"?A:A==null?Rs:typeof A=="object"?Pr(A)?IM(A[0],A[1]):NM(A):XL(A)}function d$(A){if(!kg(A))return f7(A);var R=[];for(var V in ot(A))sr.call(A,V)&&V!="constructor"&&R.push(V);return R}function uee(A){if(!hi(A))return Hee(A);var R=kg(A),V=[];for(var de in A)de=="constructor"&&(R||!sr.call(A,de))||V.push(de);return V}function h$(A,R){return A<R}function RM(A,R){var V=-1,de=Os(A)?ye(A.length):[];return lf(A,function($e,Ce,Ke){de[++V]=R($e,Ce,Ke)}),de}function NM(A){var R=O$(A);return R.length==1&&R[0][2]?fL(R[0][0],R[0][1]):function(V){return V===A||f$(V,A,R)}}function IM(A,R){return R$(A)&&cL(R)?fL(hu(A),R):function(V){var de=B$(V,A);return de===r&&de===R?U$(V,A):Ng(R,de,g|_)}}function F0(A,R,V,de,$e){A!==R&&a$(R,function(Ce,Ke){if($e||($e=new Al),hi(Ce))cee(A,R,Ke,V,F0,de,$e);else{var nt=de?de(I$(A,Ke),Ce,Ke+"",A,R,$e):r;nt===r&&(nt=Ce),o$(A,Ke,nt)}},Ps)}function cee(A,R,V,de,$e,Ce,Ke){var nt=I$(A,V),st=I$(R,V),St=Ke.get(st);if(St){o$(A,V,St);return}var Tt=Ce?Ce(nt,st,V+"",A,R,Ke):r,kt=Tt===r;if(kt){var Wt=Pr(st),ar=!Wt&&df(st),gr=!Wt&&!ar&&Tp(st);Tt=st,Wt||ar||gr?Pr(nt)?Tt=nt:Oi(nt)?Tt=As(nt):ar?(kt=!1,Tt=VM(st,!0)):gr?(kt=!1,Tt=HM(st,!0)):Tt=[]:Dg(st)||Ud(st)?(Tt=nt,Ud(nt)?Tt=UL(nt):(!hi(nt)||sc(nt))&&(Tt=uL(st))):kt=!1}kt&&(Ke.set(st,Tt),$e(Tt,st,de,Ce,Ke),Ke.delete(st)),o$(A,V,Tt)}function CM(A,R){var V=A.length;if(V)return R+=R<0?V:0,oc(R,V)?A[R]:r}function kM(A,R,V){R.length?R=zt(R,function(Ce){return Pr(Ce)?function(Ke){return Ld(Ke,Ce.length===1?Ce[0]:Ce)}:Ce}):R=[Rs];var de=-1;R=zt(R,ro(mr()));var $e=RM(A,function(Ce,Ke,nt){var st=zt(R,function(St){return St(Ce)});return{criteria:st,index:++de,value:Ce}});return Hi($e,function(Ce,Ke){return See(Ce,Ke,V)})}function fee(A,R){return jM(A,R,function(V,de){return U$(A,de)})}function jM(A,R,V){for(var de=-1,$e=R.length,Ce={};++de<$e;){var Ke=R[de],nt=Ld(A,Ke);V(nt,Ke)&&Ig(Ce,cf(Ke,A),nt)}return Ce}function dee(A){return function(R){return Ld(R,A)}}function p$(A,R,V,de){var $e=de?uu:xn,Ce=-1,Ke=R.length,nt=A;for(A===R&&(R=As(R)),V&&(nt=zt(A,ro(V)));++Ce<Ke;)for(var st=0,St=R[Ce],Tt=V?V(St):St;(st=$e(nt,Tt,st,de))>-1;)nt!==A&&af.call(nt,st,1),af.call(A,st,1);return A}function DM(A,R){for(var V=A?R.length:0,de=V-1;V--;){var $e=R[V];if(V==de||$e!==Ce){var Ce=$e;oc($e)?af.call(A,$e,1):y$(A,$e)}}return A}function m$(A,R){return A+I0(gM()*(R-A+1))}function hee(A,R,V,de){for(var $e=-1,Ce=Wi(N0((R-A)/(V||1)),0),Ke=ye(Ce);Ce--;)Ke[de?Ce:++$e]=A,A+=V;return Ke}function g$(A,R){var V="";if(!A||R<1||R>re)return V;do R%2&&(V+=A),R=I0(R/2),R&&(A+=A);while(R);return V}function Ur(A,R){return C$(dL(A,R,Rs),A+"")}function pee(A){return wM($p(A))}function mee(A,R){var V=$p(A);return J0(V,Md(R,0,V.length))}function Ig(A,R,V,de){if(!hi(A))return A;R=cf(R,A);for(var $e=-1,Ce=R.length,Ke=Ce-1,nt=A;nt!=null&&++$e<Ce;){var st=hu(R[$e]),St=V;if(st==="__proto__"||st==="constructor"||st==="prototype")return A;if($e!=Ke){var Tt=nt[st];St=de?de(Tt,st,nt):r,St===r&&(St=hi(Tt)?Tt:oc(R[$e+1])?[]:{})}Og(nt,st,St),nt=nt[st]}return A}var MM=C0?function(A,R){return C0.set(A,R),A}:Rs,gee=R0?function(A,R){return R0(A,"toString",{configurable:!0,enumerable:!1,value:q$(R),writable:!0})}:Rs;function vee(A){return J0($p(A))}function Ba(A,R,V){var de=-1,$e=A.length;R<0&&(R=-R>$e?0:$e+R),V=V>$e?$e:V,V<0&&(V+=$e),$e=R>V?0:V-R>>>0,R>>>=0;for(var Ce=ye($e);++de<$e;)Ce[de]=A[de+R];return Ce}function yee(A,R){var V;return lf(A,function(de,$e,Ce){return V=R(de,$e,Ce),!V}),!!V}function B0(A,R,V){var de=0,$e=A==null?de:A.length;if(typeof R=="number"&&R===R&&$e<=N){for(;de<$e;){var Ce=de+$e>>>1,Ke=A[Ce];Ke!==null&&!sa(Ke)&&(V?Ke<=R:Ke<R)?de=Ce+1:$e=Ce}return $e}return v$(A,R,Rs,V)}function v$(A,R,V,de){var $e=0,Ce=A==null?0:A.length;if(Ce===0)return 0;R=V(R);for(var Ke=R!==R,nt=R===null,st=sa(R),St=R===r;$e<Ce;){var Tt=I0(($e+Ce)/2),kt=V(A[Tt]),Wt=kt!==r,ar=kt===null,gr=kt===kt,Mr=sa(kt);if(Ke)var vr=de||gr;else St?vr=gr&&(de||Wt):nt?vr=gr&&Wt&&(de||!ar):st?vr=gr&&Wt&&!ar&&(de||!Mr):ar||Mr?vr=!1:vr=de?kt<=R:kt<R;vr?$e=Tt+1:Ce=Tt}return Ro(Ce,Y)}function LM(A,R){for(var V=-1,de=A.length,$e=0,Ce=[];++V<de;){var Ke=A[V],nt=R?R(Ke):Ke;if(!V||!Ol(nt,st)){var st=nt;Ce[$e++]=Ke===0?0:Ke}}return Ce}function FM(A){return typeof A=="number"?A:sa(A)?D:+A}function oa(A){if(typeof A=="string")return A;if(Pr(A))return zt(A,oa)+"";if(sa(A))return vM?vM.call(A):"";var R=A+"";return R=="0"&&1/A==-ge?"-0":R}function uf(A,R,V){var de=-1,$e=at,Ce=A.length,Ke=!0,nt=[],st=nt;if(V)Ke=!1,$e=Pt;else if(Ce>=i){var St=R?null:Pee(A);if(St)return ia(St);Ke=!1,$e=Da,st=new Dd}else st=R?[]:nt;e:for(;++de<Ce;){var Tt=A[de],kt=R?R(Tt):Tt;if(Tt=V||Tt!==0?Tt:0,Ke&&kt===kt){for(var Wt=st.length;Wt--;)if(st[Wt]===kt)continue e;R&&st.push(kt),nt.push(Tt)}else $e(st,kt,V)||(st!==nt&&st.push(kt),nt.push(Tt))}return nt}function y$(A,R){return R=cf(R,A),A=hL(A,R),A==null||delete A[hu(Ua(R))]}function BM(A,R,V,de){return Ig(A,R,V(Ld(A,R)),de)}function U0(A,R,V,de){for(var $e=A.length,Ce=de?$e:-1;(de?Ce--:++Ce<$e)&&R(A[Ce],Ce,A););return V?Ba(A,de?0:Ce,de?Ce+1:$e):Ba(A,de?Ce+1:0,de?$e:Ce)}function UM(A,R){var V=A;return V instanceof sn&&(V=V.value()),pr(R,function(de,$e){return $e.func.apply($e.thisArg,wr([de],$e.args))},V)}function w$(A,R,V){var de=A.length;if(de<2)return de?uf(A[0]):[];for(var $e=-1,Ce=ye(de);++$e<de;)for(var Ke=A[$e],nt=-1;++nt<de;)nt!=$e&&(Ce[$e]=Pg(Ce[$e]||Ke,A[nt],R,V));return uf(po(Ce,1),R,V)}function zM(A,R,V){for(var de=-1,$e=A.length,Ce=R.length,Ke={};++de<$e;){var nt=de<Ce?R[de]:r;V(Ke,A[de],nt)}return Ke}function b$(A){return Oi(A)?A:[]}function _$(A){return typeof A=="function"?A:Rs}function cf(A,R){return Pr(A)?A:R$(A,R)?[A]:vL(Nn(A))}var wee=Ur;function ff(A,R,V){var de=A.length;return V=V===r?de:V,!R&&V>=de?A:Ba(A,R,V)}var qM=s7||function(A){return Dn.clearTimeout(A)};function VM(A,R){if(R)return A.slice();var V=A.length,de=Nr?Nr(V):new A.constructor(V);return A.copy(de),de}function E$(A){var R=new A.constructor(A.byteLength);return new yn(R).set(new yn(A)),R}function bee(A,R){var V=R?E$(A.buffer):A.buffer;return new A.constructor(V,A.byteOffset,A.byteLength)}function _ee(A){var R=new A.constructor(A.source,Kt.exec(A));return R.lastIndex=A.lastIndex,R}function Eee(A){return Ag?ot(Ag.call(A)):{}}function HM(A,R){var V=R?E$(A.buffer):A.buffer;return new A.constructor(V,A.byteOffset,A.length)}function WM(A,R){if(A!==R){var V=A!==r,de=A===null,$e=A===A,Ce=sa(A),Ke=R!==r,nt=R===null,st=R===R,St=sa(R);if(!nt&&!St&&!Ce&&A>R||Ce&&Ke&&st&&!nt&&!St||de&&Ke&&st||!V&&st||!$e)return 1;if(!de&&!Ce&&!St&&A<R||St&&V&&$e&&!de&&!Ce||nt&&V&&$e||!Ke&&$e||!st)return-1}return 0}function See(A,R,V){for(var de=-1,$e=A.criteria,Ce=R.criteria,Ke=$e.length,nt=V.length;++de<Ke;){var st=WM($e[de],Ce[de]);if(st){if(de>=nt)return st;var St=V[de];return st*(St=="desc"?-1:1)}}return A.index-R.index}function GM(A,R,V,de){for(var $e=-1,Ce=A.length,Ke=V.length,nt=-1,st=R.length,St=Wi(Ce-Ke,0),Tt=ye(st+St),kt=!de;++nt<st;)Tt[nt]=R[nt];for(;++$e<Ke;)(kt||$e<Ce)&&(Tt[V[$e]]=A[$e]);for(;St--;)Tt[nt++]=A[$e++];return Tt}function KM(A,R,V,de){for(var $e=-1,Ce=A.length,Ke=-1,nt=V.length,st=-1,St=R.length,Tt=Wi(Ce-nt,0),kt=ye(Tt+St),Wt=!de;++$e<Tt;)kt[$e]=A[$e];for(var ar=$e;++st<St;)kt[ar+st]=R[st];for(;++Ke<nt;)(Wt||$e<Ce)&&(kt[ar+V[Ke]]=A[$e++]);return kt}function As(A,R){var V=-1,de=A.length;for(R||(R=ye(de));++V<de;)R[V]=A[V];return R}function du(A,R,V,de){var $e=!V;V||(V={});for(var Ce=-1,Ke=R.length;++Ce<Ke;){var nt=R[Ce],st=de?de(V[nt],A[nt],nt,V,A):r;st===r&&(st=A[nt]),$e?rc(V,nt,st):Og(V,nt,st)}return V}function Tee(A,R){return du(A,P$(A),R)}function $ee(A,R){return du(A,aL(A),R)}function z0(A,R){return function(V,de){var $e=Pr(V)?Je:G7,Ce=R?R():{};return $e(V,A,mr(de,2),Ce)}}function _p(A){return Ur(function(R,V){var de=-1,$e=V.length,Ce=$e>1?V[$e-1]:r,Ke=$e>2?V[2]:r;for(Ce=A.length>3&&typeof Ce=="function"?($e--,Ce):r,Ke&&Zo(V[0],V[1],Ke)&&(Ce=$e<3?r:Ce,$e=1),R=ot(R);++de<$e;){var nt=V[de];nt&&A(R,nt,de,Ce)}return R})}function JM(A,R){return function(V,de){if(V==null)return V;if(!Os(V))return A(V,de);for(var $e=V.length,Ce=R?$e:-1,Ke=ot(V);(R?Ce--:++Ce<$e)&&de(Ke[Ce],Ce,Ke)!==!1;);return V}}function YM(A){return function(R,V,de){for(var $e=-1,Ce=ot(R),Ke=de(R),nt=Ke.length;nt--;){var st=Ke[A?nt:++$e];if(V(Ce[st],st,Ce)===!1)break}return R}}function xee(A,R,V){var de=R&v,$e=Cg(A);function Ce(){var Ke=this&&this!==Dn&&this instanceof Ce?$e:A;return Ke.apply(de?V:this,arguments)}return Ce}function XM(A){return function(R){R=Nn(R);var V=Oo(R)?Di(R):r,de=V?V[0]:R.charAt(0),$e=V?ff(V,1).join(""):R.slice(1);return de[A]()+$e}}function Ep(A){return function(R){return pr(JL(KL(R).replace(Jc,"")),A,"")}}function Cg(A){return function(){var R=arguments;switch(R.length){case 0:return new A;case 1:return new A(R[0]);case 2:return new A(R[0],R[1]);case 3:return new A(R[0],R[1],R[2]);case 4:return new A(R[0],R[1],R[2],R[3]);case 5:return new A(R[0],R[1],R[2],R[3],R[4]);case 6:return new A(R[0],R[1],R[2],R[3],R[4],R[5]);case 7:return new A(R[0],R[1],R[2],R[3],R[4],R[5],R[6])}var V=bp(A.prototype),de=A.apply(V,R);return hi(de)?de:V}}function Aee(A,R,V){var de=Cg(A);function $e(){for(var Ce=arguments.length,Ke=ye(Ce),nt=Ce,st=Sp($e);nt--;)Ke[nt]=arguments[nt];var St=Ce<3&&Ke[0]!==st&&Ke[Ce-1]!==st?[]:Po(Ke,st);if(Ce-=St.length,Ce<V)return rL(A,R,q0,$e.placeholder,r,Ke,St,r,r,V-Ce);var Tt=this&&this!==Dn&&this instanceof $e?de:A;return Ae(Tt,this,Ke)}return $e}function QM(A){return function(R,V,de){var $e=ot(R);if(!Os(R)){var Ce=mr(V,3);R=no(R),V=function(nt){return Ce($e[nt],nt,$e)}}var Ke=A(R,V,de);return Ke>-1?$e[Ce?R[Ke]:Ke]:r}}function ZM(A){return ic(function(R){var V=R.length,de=V,$e=La.prototype.thru;for(A&&R.reverse();de--;){var Ce=R[de];if(typeof Ce!="function")throw new Ht(s);if($e&&!Ke&&G0(Ce)=="wrapper")var Ke=new La([],!0)}for(de=Ke?de:V;++de<V;){Ce=R[de];var nt=G0(Ce),st=nt=="wrapper"?A$(Ce):r;st&&N$(st[0])&&st[1]==(d|y|T|x)&&!st[4].length&&st[9]==1?Ke=Ke[G0(st[0])].apply(Ke,st[3]):Ke=Ce.length==1&&N$(Ce)?Ke[nt]():Ke.thru(Ce)}return function(){var St=arguments,Tt=St[0];if(Ke&&St.length==1&&Pr(Tt))return Ke.plant(Tt).value();for(var kt=0,Wt=V?R[kt].apply(this,St):Tt;++kt<V;)Wt=R[kt].call(this,Wt);return Wt}})}function q0(A,R,V,de,$e,Ce,Ke,nt,st,St){var Tt=R&d,kt=R&v,Wt=R&p,ar=R&(y|S),gr=R&O,Mr=Wt?r:Cg(A);function vr(){for(var Qr=arguments.length,dn=ye(Qr),aa=Qr;aa--;)dn[aa]=arguments[aa];if(ar)var es=Sp(vr),la=Ao(dn,es);if(de&&(dn=GM(dn,de,$e,ar)),Ce&&(dn=KM(dn,Ce,Ke,ar)),Qr-=la,ar&&Qr<St){var Pi=Po(dn,es);return rL(A,R,q0,vr.placeholder,V,dn,Pi,nt,st,St-Qr)}var Pl=kt?V:this,lc=Wt?Pl[A]:A;return Qr=dn.length,nt?dn=Gee(dn,nt):gr&&Qr>1&&dn.reverse(),Tt&&st<Qr&&(dn.length=st),this&&this!==Dn&&this instanceof vr&&(lc=Mr||Cg(lc)),lc.apply(Pl,dn)}return vr}function eL(A,R){return function(V,de){return tee(V,A,R(de),{})}}function V0(A,R){return function(V,de){var $e;if(V===r&&de===r)return R;if(V!==r&&($e=V),de!==r){if($e===r)return de;typeof V=="string"||typeof de=="string"?(V=oa(V),de=oa(de)):(V=FM(V),de=FM(de)),$e=A(V,de)}return $e}}function S$(A){return ic(function(R){return R=zt(R,ro(mr())),Ur(function(V){var de=this;return A(R,function($e){return Ae($e,de,V)})})})}function H0(A,R){R=R===r?" ":oa(R);var V=R.length;if(V<2)return V?g$(R,A):R;var de=g$(R,N0(A/Xo(R)));return Oo(R)?ff(Di(de),0,A).join(""):de.slice(0,A)}function Oee(A,R,V,de){var $e=R&v,Ce=Cg(A);function Ke(){for(var nt=-1,st=arguments.length,St=-1,Tt=de.length,kt=ye(Tt+st),Wt=this&&this!==Dn&&this instanceof Ke?Ce:A;++St<Tt;)kt[St]=de[St];for(;st--;)kt[St++]=arguments[++nt];return Ae(Wt,$e?V:this,kt)}return Ke}function tL(A){return function(R,V,de){return de&&typeof de!="number"&&Zo(R,V,de)&&(V=de=r),R=ac(R),V===r?(V=R,R=0):V=ac(V),de=de===r?R<V?1:-1:ac(de),hee(R,V,de,A)}}function W0(A){return function(R,V){return typeof R=="string"&&typeof V=="string"||(R=za(R),V=za(V)),A(R,V)}}function rL(A,R,V,de,$e,Ce,Ke,nt,st,St){var Tt=R&y,kt=Tt?Ke:r,Wt=Tt?r:Ke,ar=Tt?Ce:r,gr=Tt?r:Ce;R|=Tt?T:$,R&=~(Tt?$:T),R&E||(R&=-4);var Mr=[A,R,$e,ar,kt,gr,Wt,nt,st,St],vr=V.apply(r,Mr);return N$(A)&&pL(vr,Mr),vr.placeholder=de,mL(vr,A,R)}function T$(A){var R=Qe[A];return function(V,de){if(V=za(V),de=de==null?0:Ro(Ir(de),292),de&&mM(V)){var $e=(Nn(V)+"e").split("e"),Ce=R($e[0]+"e"+(+$e[1]+de));return $e=(Nn(Ce)+"e").split("e"),+($e[0]+"e"+(+$e[1]-de))}return R(V)}}var Pee=yp&&1/ia(new yp([,-0]))[1]==ge?function(A){return new yp(A)}:W$;function nL(A){return function(R){var V=No(R);return V==L?$l(R):V==Ge?Qu(R):xs(R,A(R))}}function nc(A,R,V,de,$e,Ce,Ke,nt){var st=R&p;if(!st&&typeof A!="function")throw new Ht(s);var St=de?de.length:0;if(St||(R&=-97,de=$e=r),Ke=Ke===r?Ke:Wi(Ir(Ke),0),nt=nt===r?nt:Ir(nt),St-=$e?$e.length:0,R&$){var Tt=de,kt=$e;de=$e=r}var Wt=st?r:A$(A),ar=[A,R,V,de,$e,Tt,kt,Ce,Ke,nt];if(Wt&&Vee(ar,Wt),A=ar[0],R=ar[1],V=ar[2],de=ar[3],$e=ar[4],nt=ar[9]=ar[9]===r?st?0:A.length:Wi(ar[9]-St,0),!nt&&R&(y|S)&&(R&=-25),!R||R==v)var gr=xee(A,R,V);else R==y||R==S?gr=Aee(A,R,nt):(R==T||R==(v|T))&&!$e.length?gr=Oee(A,R,V,de):gr=q0.apply(r,ar);var Mr=Wt?MM:pL;return mL(Mr(gr,ar),A,R)}function iL(A,R,V,de){return A===r||Ol(A,Or[V])&&!sr.call(de,V)?R:A}function oL(A,R,V,de,$e,Ce){return hi(A)&&hi(R)&&(Ce.set(R,A),F0(A,R,r,oL,Ce),Ce.delete(R)),A}function Ree(A){return Dg(A)?r:A}function sL(A,R,V,de,$e,Ce){var Ke=V&g,nt=A.length,st=R.length;if(nt!=st&&!(Ke&&st>nt))return!1;var St=Ce.get(A),Tt=Ce.get(R);if(St&&Tt)return St==R&&Tt==A;var kt=-1,Wt=!0,ar=V&_?new Dd:r;for(Ce.set(A,R),Ce.set(R,A);++kt<nt;){var gr=A[kt],Mr=R[kt];if(de)var vr=Ke?de(Mr,gr,kt,R,A,Ce):de(gr,Mr,kt,A,R,Ce);if(vr!==r){if(vr)continue;Wt=!1;break}if(ar){if(!Bn(R,function(Qr,dn){if(!Da(ar,dn)&&(gr===Qr||$e(gr,Qr,V,de,Ce)))return ar.push(dn)})){Wt=!1;break}}else if(!(gr===Mr||$e(gr,Mr,V,de,Ce))){Wt=!1;break}}return Ce.delete(A),Ce.delete(R),Wt}function Nee(A,R,V,de,$e,Ce,Ke){switch(V){case B:if(A.byteLength!=R.byteLength||A.byteOffset!=R.byteOffset)return!1;A=A.buffer,R=R.buffer;case k:return!(A.byteLength!=R.byteLength||!Ce(new yn(A),new yn(R)));case te:case ue:case ee:return Ol(+A,+R);case Le:return A.name==R.name&&A.message==R.message;case De:case Ve:return A==R+"";case L:var nt=$l;case Ge:var st=de&g;if(nt||(nt=ia),A.size!=R.size&&!st)return!1;var St=Ke.get(A);if(St)return St==R;de|=_,Ke.set(A,R);var Tt=sL(nt(A),nt(R),de,$e,Ce,Ke);return Ke.delete(A),Tt;case ht:if(Ag)return Ag.call(A)==Ag.call(R)}return!1}function Iee(A,R,V,de,$e,Ce){var Ke=V&g,nt=$$(A),st=nt.length,St=$$(R),Tt=St.length;if(st!=Tt&&!Ke)return!1;for(var kt=st;kt--;){var Wt=nt[kt];if(!(Ke?Wt in R:sr.call(R,Wt)))return!1}var ar=Ce.get(A),gr=Ce.get(R);if(ar&&gr)return ar==R&&gr==A;var Mr=!0;Ce.set(A,R),Ce.set(R,A);for(var vr=Ke;++kt<st;){Wt=nt[kt];var Qr=A[Wt],dn=R[Wt];if(de)var aa=Ke?de(dn,Qr,Wt,R,A,Ce):de(Qr,dn,Wt,A,R,Ce);if(!(aa===r?Qr===dn||$e(Qr,dn,V,de,Ce):aa)){Mr=!1;break}vr||(vr=Wt=="constructor")}if(Mr&&!vr){var es=A.constructor,la=R.constructor;es!=la&&"constructor"in A&&"constructor"in R&&!(typeof es=="function"&&es instanceof es&&typeof la=="function"&&la instanceof la)&&(Mr=!1)}return Ce.delete(A),Ce.delete(R),Mr}function ic(A){return C$(dL(A,r,_L),A+"")}function $$(A){return xM(A,no,P$)}function x$(A){return xM(A,Ps,aL)}var A$=C0?function(A){return C0.get(A)}:W$;function G0(A){for(var R=A.name+"",V=wp[R],de=sr.call(wp,R)?V.length:0;de--;){var $e=V[de],Ce=$e.func;if(Ce==null||Ce==A)return $e.name}return R}function Sp(A){var R=sr.call(Re,"placeholder")?Re:A;return R.placeholder}function mr(){var A=Re.iteratee||V$;return A=A===V$?PM:A,arguments.length?A(arguments[0],arguments[1]):A}function K0(A,R){var V=A.__data__;return Bee(R)?V[typeof R=="string"?"string":"hash"]:V.map}function O$(A){for(var R=no(A),V=R.length;V--;){var de=R[V],$e=A[de];R[V]=[de,$e,cL($e)]}return R}function Fd(A,R){var V=vp(A,R);return OM(V)?V:r}function Cee(A){var R=sr.call(A,kd),V=A[kd];try{A[kd]=r;var de=!0}catch{}var $e=Ai.call(A);return de&&(R?A[kd]=V:delete A[kd]),$e}var P$=r$?function(A){return A==null?[]:(A=ot(A),vt(r$(A),function(R){return Mi.call(A,R)}))}:G$,aL=r$?function(A){for(var R=[];A;)wr(R,P$(A)),A=An(A);return R}:G$,No=Qo;(n$&&No(new n$(new ArrayBuffer(1)))!=B||Tg&&No(new Tg)!=L||i$&&No(i$.resolve())!=ve||yp&&No(new yp)!=Ge||$g&&No(new $g)!=Xe)&&(No=function(A){var R=Qo(A),V=R==me?A.constructor:r,de=V?Bd(V):"";if(de)switch(de){case m7:return B;case g7:return L;case v7:return ve;case y7:return Ge;case w7:return Xe}return R});function kee(A,R,V){for(var de=-1,$e=V.length;++de<$e;){var Ce=V[de],Ke=Ce.size;switch(Ce.type){case"drop":A+=Ke;break;case"dropRight":R-=Ke;break;case"take":R=Ro(R,A+Ke);break;case"takeRight":A=Wi(A,R-Ke);break}}return{start:A,end:R}}function jee(A){var R=A.match(Se);return R?R[1].split(Me):[]}function lL(A,R,V){R=cf(R,A);for(var de=-1,$e=R.length,Ce=!1;++de<$e;){var Ke=hu(R[de]);if(!(Ce=A!=null&&V(A,Ke)))break;A=A[Ke]}return Ce||++de!=$e?Ce:($e=A==null?0:A.length,!!$e&&tw($e)&&oc(Ke,$e)&&(Pr(A)||Ud(A)))}function Dee(A){var R=A.length,V=new A.constructor(R);return R&&typeof A[0]=="string"&&sr.call(A,"index")&&(V.index=A.index,V.input=A.input),V}function uL(A){return typeof A.constructor=="function"&&!kg(A)?bp(An(A)):{}}function Mee(A,R,V){var de=A.constructor;switch(R){case k:return E$(A);case te:case ue:return new de(+A);case B:return bee(A,V);case le:case Ee:case Pe:case qe:case Be:case Ye:case gt:case Ot:case yt:return HM(A,V);case L:return new de;case ee:case Ve:return new de(A);case De:return _ee(A);case Ge:return new de;case ht:return Eee(A)}}function Lee(A,R){var V=R.length;if(!V)return A;var de=V-1;return R[de]=(V>1?"& ":"")+R[de],R=R.join(V>2?", ":" "),A.replace(he,`{
/* [wrapped with `+R+`] */
`)}function Fee(A){return Pr(A)||Ud(A)||!!(pM&&A&&A[pM])}function oc(A,R){var V=typeof A;return R=R??re,!!R&&(V=="number"||V!="symbol"&&Nt.test(A))&&A>-1&&A%1==0&&A<R}function Zo(A,R,V){if(!hi(V))return!1;var de=typeof R;return(de=="number"?Os(V)&&oc(R,V.length):de=="string"&&R in V)?Ol(V[R],A):!1}function R$(A,R){if(Pr(A))return!1;var V=typeof A;return V=="number"||V=="symbol"||V=="boolean"||A==null||sa(A)?!0:bt.test(A)||!je.test(A)||R!=null&&A in ot(R)}function Bee(A){var R=typeof A;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?A!=="__proto__":A===null}function N$(A){var R=G0(A),V=Re[R];if(typeof V!="function"||!(R in sn.prototype))return!1;if(A===V)return!0;var de=A$(V);return!!de&&A===de[0]}function Uee(A){return!!Kr&&Kr in A}var zee=Fr?sc:K$;function kg(A){var R=A&&A.constructor,V=typeof R=="function"&&R.prototype||Or;return A===V}function cL(A){return A===A&&!hi(A)}function fL(A,R){return function(V){return V==null?!1:V[A]===R&&(R!==r||A in ot(V))}}function qee(A){var R=Z0(A,function(de){return V.size===u&&V.clear(),de}),V=R.cache;return R}function Vee(A,R){var V=A[1],de=R[1],$e=V|de,Ce=$e<(v|p|d),Ke=de==d&&V==y||de==d&&V==x&&A[7].length<=R[8]||de==(d|x)&&R[7].length<=R[8]&&V==y;if(!(Ce||Ke))return A;de&v&&(A[2]=R[2],$e|=V&v?0:E);var nt=R[3];if(nt){var st=A[3];A[3]=st?GM(st,nt,R[4]):nt,A[4]=st?Po(A[3],f):R[4]}return nt=R[5],nt&&(st=A[5],A[5]=st?KM(st,nt,R[6]):nt,A[6]=st?Po(A[5],f):R[6]),nt=R[7],nt&&(A[7]=nt),de&d&&(A[8]=A[8]==null?R[8]:Ro(A[8],R[8])),A[9]==null&&(A[9]=R[9]),A[0]=R[0],A[1]=$e,A}function Hee(A){var R=[];if(A!=null)for(var V in ot(A))R.push(V);return R}function Wee(A){return Ai.call(A)}function dL(A,R,V){return R=Wi(R===r?A.length-1:R,0),function(){for(var de=arguments,$e=-1,Ce=Wi(de.length-R,0),Ke=ye(Ce);++$e<Ce;)Ke[$e]=de[R+$e];$e=-1;for(var nt=ye(R+1);++$e<R;)nt[$e]=de[$e];return nt[R]=V(Ke),Ae(A,this,nt)}}function hL(A,R){return R.length<2?A:Ld(A,Ba(R,0,-1))}function Gee(A,R){for(var V=A.length,de=Ro(R.length,V),$e=As(A);de--;){var Ce=R[de];A[de]=oc(Ce,V)?$e[Ce]:r}return A}function I$(A,R){if(!(R==="constructor"&&typeof A[R]=="function")&&R!="__proto__")return A[R]}var pL=gL(MM),jg=l7||function(A,R){return Dn.setTimeout(A,R)},C$=gL(gee);function mL(A,R,V){var de=R+"";return C$(A,Lee(de,Kee(jee(de),V)))}function gL(A){var R=0,V=0;return function(){var de=d7(),$e=K-(de-V);if(V=de,$e>0){if(++R>=U)return arguments[0]}else R=0;return A.apply(r,arguments)}}function J0(A,R){var V=-1,de=A.length,$e=de-1;for(R=R===r?de:R;++V<R;){var Ce=m$(V,$e),Ke=A[Ce];A[Ce]=A[V],A[V]=Ke}return A.length=R,A}var vL=qee(function(A){var R=[];return A.charCodeAt(0)===46&&R.push(""),A.replace($t,function(V,de,$e,Ce){R.push($e?Ce.replace(ft,"$1"):de||V)}),R});function hu(A){if(typeof A=="string"||sa(A))return A;var R=A+"";return R=="0"&&1/A==-ge?"-0":R}function Bd(A){if(A!=null){try{return Kn.call(A)}catch{}try{return A+""}catch{}}return""}function Kee(A,R){return He(I,function(V){var de="_."+V[0];R&V[1]&&!at(A,de)&&A.push(de)}),A.sort()}function yL(A){if(A instanceof sn)return A.clone();var R=new La(A.__wrapped__,A.__chain__);return R.__actions__=As(A.__actions__),R.__index__=A.__index__,R.__values__=A.__values__,R}function Jee(A,R,V){(V?Zo(A,R,V):R===r)?R=1:R=Wi(Ir(R),0);var de=A==null?0:A.length;if(!de||R<1)return[];for(var $e=0,Ce=0,Ke=ye(N0(de/R));$e<de;)Ke[Ce++]=Ba(A,$e,$e+=R);return Ke}function Yee(A){for(var R=-1,V=A==null?0:A.length,de=0,$e=[];++R<V;){var Ce=A[R];Ce&&($e[de++]=Ce)}return $e}function Xee(){var A=arguments.length;if(!A)return[];for(var R=ye(A-1),V=arguments[0],de=A;de--;)R[de-1]=arguments[de];return wr(Pr(V)?As(V):[V],po(R,1))}var Qee=Ur(function(A,R){return Oi(A)?Pg(A,po(R,1,Oi,!0)):[]}),Zee=Ur(function(A,R){var V=Ua(R);return Oi(V)&&(V=r),Oi(A)?Pg(A,po(R,1,Oi,!0),mr(V,2)):[]}),ete=Ur(function(A,R){var V=Ua(R);return Oi(V)&&(V=r),Oi(A)?Pg(A,po(R,1,Oi,!0),r,V):[]});function tte(A,R,V){var de=A==null?0:A.length;return de?(R=V||R===r?1:Ir(R),Ba(A,R<0?0:R,de)):[]}function rte(A,R,V){var de=A==null?0:A.length;return de?(R=V||R===r?1:Ir(R),R=de-R,Ba(A,0,R<0?0:R)):[]}function nte(A,R){return A&&A.length?U0(A,mr(R,3),!0,!0):[]}function ite(A,R){return A&&A.length?U0(A,mr(R,3),!0):[]}function ote(A,R,V,de){var $e=A==null?0:A.length;return $e?(V&&typeof V!="number"&&Zo(A,R,V)&&(V=0,de=$e),X7(A,R,V,de)):[]}function wL(A,R,V){var de=A==null?0:A.length;if(!de)return-1;var $e=V==null?0:Ir(V);return $e<0&&($e=Wi(de+$e,0)),Dr(A,mr(R,3),$e)}function bL(A,R,V){var de=A==null?0:A.length;if(!de)return-1;var $e=de-1;return V!==r&&($e=Ir(V),$e=V<0?Wi(de+$e,0):Ro($e,de-1)),Dr(A,mr(R,3),$e,!0)}function _L(A){var R=A==null?0:A.length;return R?po(A,1):[]}function ste(A){var R=A==null?0:A.length;return R?po(A,ge):[]}function ate(A,R){var V=A==null?0:A.length;return V?(R=R===r?1:Ir(R),po(A,R)):[]}function lte(A){for(var R=-1,V=A==null?0:A.length,de={};++R<V;){var $e=A[R];de[$e[0]]=$e[1]}return de}function EL(A){return A&&A.length?A[0]:r}function ute(A,R,V){var de=A==null?0:A.length;if(!de)return-1;var $e=V==null?0:Ir(V);return $e<0&&($e=Wi(de+$e,0)),xn(A,R,$e)}function cte(A){var R=A==null?0:A.length;return R?Ba(A,0,-1):[]}var fte=Ur(function(A){var R=zt(A,b$);return R.length&&R[0]===A[0]?c$(R):[]}),dte=Ur(function(A){var R=Ua(A),V=zt(A,b$);return R===Ua(V)?R=r:V.pop(),V.length&&V[0]===A[0]?c$(V,mr(R,2)):[]}),hte=Ur(function(A){var R=Ua(A),V=zt(A,b$);return R=typeof R=="function"?R:r,R&&V.pop(),V.length&&V[0]===A[0]?c$(V,r,R):[]});function pte(A,R){return A==null?"":c7.call(A,R)}function Ua(A){var R=A==null?0:A.length;return R?A[R-1]:r}function mte(A,R,V){var de=A==null?0:A.length;if(!de)return-1;var $e=de;return V!==r&&($e=Ir(V),$e=$e<0?Wi(de+$e,0):Ro($e,de-1)),R===R?Yo(A,R,$e):Dr(A,di,$e,!0)}function gte(A,R){return A&&A.length?CM(A,Ir(R)):r}var vte=Ur(SL);function SL(A,R){return A&&A.length&&R&&R.length?p$(A,R):A}function yte(A,R,V){return A&&A.length&&R&&R.length?p$(A,R,mr(V,2)):A}function wte(A,R,V){return A&&A.length&&R&&R.length?p$(A,R,r,V):A}var bte=ic(function(A,R){var V=A==null?0:A.length,de=s$(A,R);return DM(A,zt(R,function($e){return oc($e,V)?+$e:$e}).sort(WM)),de});function _te(A,R){var V=[];if(!(A&&A.length))return V;var de=-1,$e=[],Ce=A.length;for(R=mr(R,3);++de<Ce;){var Ke=A[de];R(Ke,de,A)&&(V.push(Ke),$e.push(de))}return DM(A,$e),V}function k$(A){return A==null?A:p7.call(A)}function Ete(A,R,V){var de=A==null?0:A.length;return de?(V&&typeof V!="number"&&Zo(A,R,V)?(R=0,V=de):(R=R==null?0:Ir(R),V=V===r?de:Ir(V)),Ba(A,R,V)):[]}function Ste(A,R){return B0(A,R)}function Tte(A,R,V){return v$(A,R,mr(V,2))}function $te(A,R){var V=A==null?0:A.length;if(V){var de=B0(A,R);if(de<V&&Ol(A[de],R))return de}return-1}function xte(A,R){return B0(A,R,!0)}function Ate(A,R,V){return v$(A,R,mr(V,2),!0)}function Ote(A,R){var V=A==null?0:A.length;if(V){var de=B0(A,R,!0)-1;if(Ol(A[de],R))return de}return-1}function Pte(A){return A&&A.length?LM(A):[]}function Rte(A,R){return A&&A.length?LM(A,mr(R,2)):[]}function Nte(A){var R=A==null?0:A.length;return R?Ba(A,1,R):[]}function Ite(A,R,V){return A&&A.length?(R=V||R===r?1:Ir(R),Ba(A,0,R<0?0:R)):[]}function Cte(A,R,V){var de=A==null?0:A.length;return de?(R=V||R===r?1:Ir(R),R=de-R,Ba(A,R<0?0:R,de)):[]}function kte(A,R){return A&&A.length?U0(A,mr(R,3),!1,!0):[]}function jte(A,R){return A&&A.length?U0(A,mr(R,3)):[]}var Dte=Ur(function(A){return uf(po(A,1,Oi,!0))}),Mte=Ur(function(A){var R=Ua(A);return Oi(R)&&(R=r),uf(po(A,1,Oi,!0),mr(R,2))}),Lte=Ur(function(A){var R=Ua(A);return R=typeof R=="function"?R:r,uf(po(A,1,Oi,!0),r,R)});function Fte(A){return A&&A.length?uf(A):[]}function Bte(A,R){return A&&A.length?uf(A,mr(R,2)):[]}function Ute(A,R){return R=typeof R=="function"?R:r,A&&A.length?uf(A,r,R):[]}function j$(A){if(!(A&&A.length))return[];var R=0;return A=vt(A,function(V){if(Oi(V))return R=Wi(V.length,R),!0}),ra(R,function(V){return zt(A,ja(V))})}function TL(A,R){if(!(A&&A.length))return[];var V=j$(A);return R==null?V:zt(V,function(de){return Ae(R,r,de)})}var zte=Ur(function(A,R){return Oi(A)?Pg(A,R):[]}),qte=Ur(function(A){return w$(vt(A,Oi))}),Vte=Ur(function(A){var R=Ua(A);return Oi(R)&&(R=r),w$(vt(A,Oi),mr(R,2))}),Hte=Ur(function(A){var R=Ua(A);return R=typeof R=="function"?R:r,w$(vt(A,Oi),r,R)}),Wte=Ur(j$);function Gte(A,R){return zM(A||[],R||[],Og)}function Kte(A,R){return zM(A||[],R||[],Ig)}var Jte=Ur(function(A){var R=A.length,V=R>1?A[R-1]:r;return V=typeof V=="function"?(A.pop(),V):r,TL(A,V)});function $L(A){var R=Re(A);return R.__chain__=!0,R}function Yte(A,R){return R(A),A}function Y0(A,R){return R(A)}var Xte=ic(function(A){var R=A.length,V=R?A[0]:0,de=this.__wrapped__,$e=function(Ce){return s$(Ce,A)};return R>1||this.__actions__.length||!(de instanceof sn)||!oc(V)?this.thru($e):(de=de.slice(V,+V+(R?1:0)),de.__actions__.push({func:Y0,args:[$e],thisArg:r}),new La(de,this.__chain__).thru(function(Ce){return R&&!Ce.length&&Ce.push(r),Ce}))});function Qte(){return $L(this)}function Zte(){return new La(this.value(),this.__chain__)}function ere(){this.__values__===r&&(this.__values__=FL(this.value()));var A=this.__index__>=this.__values__.length,R=A?r:this.__values__[this.__index__++];return{done:A,value:R}}function tre(){return this}function rre(A){for(var R,V=this;V instanceof j0;){var de=yL(V);de.__index__=0,de.__values__=r,R?$e.__wrapped__=de:R=de;var $e=de;V=V.__wrapped__}return $e.__wrapped__=A,R}function nre(){var A=this.__wrapped__;if(A instanceof sn){var R=A;return this.__actions__.length&&(R=new sn(this)),R=R.reverse(),R.__actions__.push({func:Y0,args:[k$],thisArg:r}),new La(R,this.__chain__)}return this.thru(k$)}function ire(){return UM(this.__wrapped__,this.__actions__)}var ore=z0(function(A,R,V){sr.call(A,V)?++A[V]:rc(A,V,1)});function sre(A,R,V){var de=Pr(A)?dt:Y7;return V&&Zo(A,R,V)&&(R=r),de(A,mr(R,3))}function are(A,R){var V=Pr(A)?vt:TM;return V(A,mr(R,3))}var lre=QM(wL),ure=QM(bL);function cre(A,R){return po(X0(A,R),1)}function fre(A,R){return po(X0(A,R),ge)}function dre(A,R,V){return V=V===r?1:Ir(V),po(X0(A,R),V)}function xL(A,R){var V=Pr(A)?He:lf;return V(A,mr(R,3))}function AL(A,R){var V=Pr(A)?it:SM;return V(A,mr(R,3))}var hre=z0(function(A,R,V){sr.call(A,V)?A[V].push(R):rc(A,V,[R])});function pre(A,R,V,de){A=Os(A)?A:$p(A),V=V&&!de?Ir(V):0;var $e=A.length;return V<0&&(V=Wi($e+V,0)),rw(A)?V<=$e&&A.indexOf(R,V)>-1:!!$e&&xn(A,R,V)>-1}var mre=Ur(function(A,R,V){var de=-1,$e=typeof R=="function",Ce=Os(A)?ye(A.length):[];return lf(A,function(Ke){Ce[++de]=$e?Ae(R,Ke,V):Rg(Ke,R,V)}),Ce}),gre=z0(function(A,R,V){rc(A,V,R)});function X0(A,R){var V=Pr(A)?zt:RM;return V(A,mr(R,3))}function vre(A,R,V,de){return A==null?[]:(Pr(R)||(R=R==null?[]:[R]),V=de?r:V,Pr(V)||(V=V==null?[]:[V]),kM(A,R,V))}var yre=z0(function(A,R,V){A[V?0:1].push(R)},function(){return[[],[]]});function wre(A,R,V){var de=Pr(A)?pr:ki,$e=arguments.length<3;return de(A,mr(R,4),V,$e,lf)}function bre(A,R,V){var de=Pr(A)?wi:ki,$e=arguments.length<3;return de(A,mr(R,4),V,$e,SM)}function _re(A,R){var V=Pr(A)?vt:TM;return V(A,ew(mr(R,3)))}function Ere(A){var R=Pr(A)?wM:pee;return R(A)}function Sre(A,R,V){(V?Zo(A,R,V):R===r)?R=1:R=Ir(R);var de=Pr(A)?H7:mee;return de(A,R)}function Tre(A){var R=Pr(A)?W7:vee;return R(A)}function $re(A){if(A==null)return 0;if(Os(A))return rw(A)?Xo(A):A.length;var R=No(A);return R==L||R==Ge?A.size:d$(A).length}function xre(A,R,V){var de=Pr(A)?Bn:yee;return V&&Zo(A,R,V)&&(R=r),de(A,mr(R,3))}var Are=Ur(function(A,R){if(A==null)return[];var V=R.length;return V>1&&Zo(A,R[0],R[1])?R=[]:V>2&&Zo(R[0],R[1],R[2])&&(R=[R[0]]),kM(A,po(R,1),[])}),Q0=a7||function(){return Dn.Date.now()};function Ore(A,R){if(typeof R!="function")throw new Ht(s);return A=Ir(A),function(){if(--A<1)return R.apply(this,arguments)}}function OL(A,R,V){return R=V?r:R,R=A&&R==null?A.length:R,nc(A,d,r,r,r,r,R)}function PL(A,R){var V;if(typeof R!="function")throw new Ht(s);return A=Ir(A),function(){return--A>0&&(V=R.apply(this,arguments)),A<=1&&(R=r),V}}var D$=Ur(function(A,R,V){var de=v;if(V.length){var $e=Po(V,Sp(D$));de|=T}return nc(A,de,R,V,$e)}),RL=Ur(function(A,R,V){var de=v|p;if(V.length){var $e=Po(V,Sp(RL));de|=T}return nc(R,de,A,V,$e)});function NL(A,R,V){R=V?r:R;var de=nc(A,y,r,r,r,r,r,R);return de.placeholder=NL.placeholder,de}function IL(A,R,V){R=V?r:R;var de=nc(A,S,r,r,r,r,r,R);return de.placeholder=IL.placeholder,de}function CL(A,R,V){var de,$e,Ce,Ke,nt,st,St=0,Tt=!1,kt=!1,Wt=!0;if(typeof A!="function")throw new Ht(s);R=za(R)||0,hi(V)&&(Tt=!!V.leading,kt="maxWait"in V,Ce=kt?Wi(za(V.maxWait)||0,R):Ce,Wt="trailing"in V?!!V.trailing:Wt);function ar(Pi){var Pl=de,lc=$e;return de=$e=r,St=Pi,Ke=A.apply(lc,Pl),Ke}function gr(Pi){return St=Pi,nt=jg(Qr,R),Tt?ar(Pi):Ke}function Mr(Pi){var Pl=Pi-st,lc=Pi-St,QL=R-Pl;return kt?Ro(QL,Ce-lc):QL}function vr(Pi){var Pl=Pi-st,lc=Pi-St;return st===r||Pl>=R||Pl<0||kt&&lc>=Ce}function Qr(){var Pi=Q0();if(vr(Pi))return dn(Pi);nt=jg(Qr,Mr(Pi))}function dn(Pi){return nt=r,Wt&&de?ar(Pi):(de=$e=r,Ke)}function aa(){nt!==r&&qM(nt),St=0,de=st=$e=nt=r}function es(){return nt===r?Ke:dn(Q0())}function la(){var Pi=Q0(),Pl=vr(Pi);if(de=arguments,$e=this,st=Pi,Pl){if(nt===r)return gr(st);if(kt)return qM(nt),nt=jg(Qr,R),ar(st)}return nt===r&&(nt=jg(Qr,R)),Ke}return la.cancel=aa,la.flush=es,la}var Pre=Ur(function(A,R){return EM(A,1,R)}),Rre=Ur(function(A,R,V){return EM(A,za(R)||0,V)});function Nre(A){return nc(A,O)}function Z0(A,R){if(typeof A!="function"||R!=null&&typeof R!="function")throw new Ht(s);var V=function(){var de=arguments,$e=R?R.apply(this,de):de[0],Ce=V.cache;if(Ce.has($e))return Ce.get($e);var Ke=A.apply(this,de);return V.cache=Ce.set($e,Ke)||Ce,Ke};return V.cache=new(Z0.Cache||tc),V}Z0.Cache=tc;function ew(A){if(typeof A!="function")throw new Ht(s);return function(){var R=arguments;switch(R.length){case 0:return!A.call(this);case 1:return!A.call(this,R[0]);case 2:return!A.call(this,R[0],R[1]);case 3:return!A.call(this,R[0],R[1],R[2])}return!A.apply(this,R)}}function Ire(A){return PL(2,A)}var Cre=wee(function(A,R){R=R.length==1&&Pr(R[0])?zt(R[0],ro(mr())):zt(po(R,1),ro(mr()));var V=R.length;return Ur(function(de){for(var $e=-1,Ce=Ro(de.length,V);++$e<Ce;)de[$e]=R[$e].call(this,de[$e]);return Ae(A,this,de)})}),M$=Ur(function(A,R){var V=Po(R,Sp(M$));return nc(A,T,r,R,V)}),kL=Ur(function(A,R){var V=Po(R,Sp(kL));return nc(A,$,r,R,V)}),kre=ic(function(A,R){return nc(A,x,r,r,r,R)});function jre(A,R){if(typeof A!="function")throw new Ht(s);return R=R===r?R:Ir(R),Ur(A,R)}function Dre(A,R){if(typeof A!="function")throw new Ht(s);return R=R==null?0:Wi(Ir(R),0),Ur(function(V){var de=V[R],$e=ff(V,0,R);return de&&wr($e,de),Ae(A,this,$e)})}function Mre(A,R,V){var de=!0,$e=!0;if(typeof A!="function")throw new Ht(s);return hi(V)&&(de="leading"in V?!!V.leading:de,$e="trailing"in V?!!V.trailing:$e),CL(A,R,{leading:de,maxWait:R,trailing:$e})}function Lre(A){return OL(A,1)}function Fre(A,R){return M$(_$(R),A)}function Bre(){if(!arguments.length)return[];var A=arguments[0];return Pr(A)?A:[A]}function Ure(A){return Fa(A,m)}function zre(A,R){return R=typeof R=="function"?R:r,Fa(A,m,R)}function qre(A){return Fa(A,c|m)}function Vre(A,R){return R=typeof R=="function"?R:r,Fa(A,c|m,R)}function Hre(A,R){return R==null||_M(A,R,no(R))}function Ol(A,R){return A===R||A!==A&&R!==R}var Wre=W0(u$),Gre=W0(function(A,R){return A>=R}),Ud=AM(function(){return arguments}())?AM:function(A){return bi(A)&&sr.call(A,"callee")&&!Mi.call(A,"callee")},Pr=ye.isArray,Kre=j?ro(j):ree;function Os(A){return A!=null&&tw(A.length)&&!sc(A)}function Oi(A){return bi(A)&&Os(A)}function Jre(A){return A===!0||A===!1||bi(A)&&Qo(A)==te}var df=u7||K$,Yre=H?ro(H):nee;function Xre(A){return bi(A)&&A.nodeType===1&&!Dg(A)}function Qre(A){if(A==null)return!0;if(Os(A)&&(Pr(A)||typeof A=="string"||typeof A.splice=="function"||df(A)||Tp(A)||Ud(A)))return!A.length;var R=No(A);if(R==L||R==Ge)return!A.size;if(kg(A))return!d$(A).length;for(var V in A)if(sr.call(A,V))return!1;return!0}function Zre(A,R){return Ng(A,R)}function ene(A,R,V){V=typeof V=="function"?V:r;var de=V?V(A,R):r;return de===r?Ng(A,R,r,V):!!de}function L$(A){if(!bi(A))return!1;var R=Qo(A);return R==Le||R==xe||typeof A.message=="string"&&typeof A.name=="string"&&!Dg(A)}function tne(A){return typeof A=="number"&&mM(A)}function sc(A){if(!hi(A))return!1;var R=Qo(A);return R==C||R==F||R==Z||R==Te}function jL(A){return typeof A=="number"&&A==Ir(A)}function tw(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=re}function hi(A){var R=typeof A;return A!=null&&(R=="object"||R=="function")}function bi(A){return A!=null&&typeof A=="object"}var DL=oe?ro(oe):oee;function rne(A,R){return A===R||f$(A,R,O$(R))}function nne(A,R,V){return V=typeof V=="function"?V:r,f$(A,R,O$(R),V)}function ine(A){return ML(A)&&A!=+A}function one(A){if(zee(A))throw new We(o);return OM(A)}function sne(A){return A===null}function ane(A){return A==null}function ML(A){return typeof A=="number"||bi(A)&&Qo(A)==ee}function Dg(A){if(!bi(A)||Qo(A)!=me)return!1;var R=An(A);if(R===null)return!0;var V=sr.call(R,"constructor")&&R.constructor;return typeof V=="function"&&V instanceof V&&Kn.call(V)==Er}var F$=fe?ro(fe):see;function lne(A){return jL(A)&&A>=-re&&A<=re}var LL=be?ro(be):aee;function rw(A){return typeof A=="string"||!Pr(A)&&bi(A)&&Qo(A)==Ve}function sa(A){return typeof A=="symbol"||bi(A)&&Qo(A)==ht}var Tp=_e?ro(_e):lee;function une(A){return A===r}function cne(A){return bi(A)&&No(A)==Xe}function fne(A){return bi(A)&&Qo(A)==Q}var dne=W0(h$),hne=W0(function(A,R){return A<=R});function FL(A){if(!A)return[];if(Os(A))return rw(A)?Di(A):As(A);if(Sg&&A[Sg])return Ma(A[Sg]());var R=No(A),V=R==L?$l:R==Ge?ia:$p;return V(A)}function ac(A){if(!A)return A===0?A:0;if(A=za(A),A===ge||A===-ge){var R=A<0?-1:1;return R*se}return A===A?A:0}function Ir(A){var R=ac(A),V=R%1;return R===R?V?R-V:R:0}function BL(A){return A?Md(Ir(A),0,z):0}function za(A){if(typeof A=="number")return A;if(sa(A))return D;if(hi(A)){var R=typeof A.valueOf=="function"?A.valueOf():A;A=hi(R)?R+"":R}if(typeof A!="string")return A===0?A:+A;A=ji(A);var V=Dt.test(A);return V||ur.test(A)?Zc(A.slice(2),V?2:8):Zt.test(A)?D:+A}function UL(A){return du(A,Ps(A))}function pne(A){return A?Md(Ir(A),-re,re):A===0?A:0}function Nn(A){return A==null?"":oa(A)}var mne=_p(function(A,R){if(kg(R)||Os(R)){du(R,no(R),A);return}for(var V in R)sr.call(R,V)&&Og(A,V,R[V])}),zL=_p(function(A,R){du(R,Ps(R),A)}),nw=_p(function(A,R,V,de){du(R,Ps(R),A,de)}),gne=_p(function(A,R,V,de){du(R,no(R),A,de)}),vne=ic(s$);function yne(A,R){var V=bp(A);return R==null?V:bM(V,R)}var wne=Ur(function(A,R){A=ot(A);var V=-1,de=R.length,$e=de>2?R[2]:r;for($e&&Zo(R[0],R[1],$e)&&(de=1);++V<de;)for(var Ce=R[V],Ke=Ps(Ce),nt=-1,st=Ke.length;++nt<st;){var St=Ke[nt],Tt=A[St];(Tt===r||Ol(Tt,Or[St])&&!sr.call(A,St))&&(A[St]=Ce[St])}return A}),bne=Ur(function(A){return A.push(r,oL),Ae(qL,r,A)});function _ne(A,R){return ka(A,mr(R,3),fu)}function Ene(A,R){return ka(A,mr(R,3),l$)}function Sne(A,R){return A==null?A:a$(A,mr(R,3),Ps)}function Tne(A,R){return A==null?A:$M(A,mr(R,3),Ps)}function $ne(A,R){return A&&fu(A,mr(R,3))}function xne(A,R){return A&&l$(A,mr(R,3))}function Ane(A){return A==null?[]:L0(A,no(A))}function One(A){return A==null?[]:L0(A,Ps(A))}function B$(A,R,V){var de=A==null?r:Ld(A,R);return de===r?V:de}function Pne(A,R){return A!=null&&lL(A,R,Q7)}function U$(A,R){return A!=null&&lL(A,R,Z7)}var Rne=eL(function(A,R,V){R!=null&&typeof R.toString!="function"&&(R=Ai.call(R)),A[R]=V},q$(Rs)),Nne=eL(function(A,R,V){R!=null&&typeof R.toString!="function"&&(R=Ai.call(R)),sr.call(A,R)?A[R].push(V):A[R]=[V]},mr),Ine=Ur(Rg);function no(A){return Os(A)?yM(A):d$(A)}function Ps(A){return Os(A)?yM(A,!0):uee(A)}function Cne(A,R){var V={};return R=mr(R,3),fu(A,function(de,$e,Ce){rc(V,R(de,$e,Ce),de)}),V}function kne(A,R){var V={};return R=mr(R,3),fu(A,function(de,$e,Ce){rc(V,$e,R(de,$e,Ce))}),V}var jne=_p(function(A,R,V){F0(A,R,V)}),qL=_p(function(A,R,V,de){F0(A,R,V,de)}),Dne=ic(function(A,R){var V={};if(A==null)return V;var de=!1;R=zt(R,function(Ce){return Ce=cf(Ce,A),de||(de=Ce.length>1),Ce}),du(A,x$(A),V),de&&(V=Fa(V,c|h|m,Ree));for(var $e=R.length;$e--;)y$(V,R[$e]);return V});function Mne(A,R){return VL(A,ew(mr(R)))}var Lne=ic(function(A,R){return A==null?{}:fee(A,R)});function VL(A,R){if(A==null)return{};var V=zt(x$(A),function(de){return[de]});return R=mr(R),jM(A,V,function(de,$e){return R(de,$e[0])})}function Fne(A,R,V){R=cf(R,A);var de=-1,$e=R.length;for($e||($e=1,A=r);++de<$e;){var Ce=A==null?r:A[hu(R[de])];Ce===r&&(de=$e,Ce=V),A=sc(Ce)?Ce.call(A):Ce}return A}function Bne(A,R,V){return A==null?A:Ig(A,R,V)}function Une(A,R,V,de){return de=typeof de=="function"?de:r,A==null?A:Ig(A,R,V,de)}var HL=nL(no),WL=nL(Ps);function zne(A,R,V){var de=Pr(A),$e=de||df(A)||Tp(A);if(R=mr(R,4),V==null){var Ce=A&&A.constructor;$e?V=de?new Ce:[]:hi(A)?V=sc(Ce)?bp(An(A)):{}:V={}}return($e?He:fu)(A,function(Ke,nt,st){return R(V,Ke,nt,st)}),V}function qne(A,R){return A==null?!0:y$(A,R)}function Vne(A,R,V){return A==null?A:BM(A,R,_$(V))}function Hne(A,R,V,de){return de=typeof de=="function"?de:r,A==null?A:BM(A,R,_$(V),de)}function $p(A){return A==null?[]:nf(A,no(A))}function Wne(A){return A==null?[]:nf(A,Ps(A))}function Gne(A,R,V){return V===r&&(V=R,R=r),V!==r&&(V=za(V),V=V===V?V:0),R!==r&&(R=za(R),R=R===R?R:0),Md(za(A),R,V)}function Kne(A,R,V){return R=ac(R),V===r?(V=R,R=0):V=ac(V),A=za(A),eee(A,R,V)}function Jne(A,R,V){if(V&&typeof V!="boolean"&&Zo(A,R,V)&&(R=V=r),V===r&&(typeof R=="boolean"?(V=R,R=r):typeof A=="boolean"&&(V=A,A=r)),A===r&&R===r?(A=0,R=1):(A=ac(A),R===r?(R=A,A=0):R=ac(R)),A>R){var de=A;A=R,R=de}if(V||A%1||R%1){var $e=gM();return Ro(A+$e*(R-A+Qc("1e-"+(($e+"").length-1))),R)}return m$(A,R)}var Yne=Ep(function(A,R,V){return R=R.toLowerCase(),A+(V?GL(R):R)});function GL(A){return z$(Nn(A).toLowerCase())}function KL(A){return A=Nn(A),A&&A.replace(ir,na).replace(Eg,"")}function Xne(A,R,V){A=Nn(A),R=oa(R);var de=A.length;V=V===r?de:Md(Ir(V),0,de);var $e=V;return V-=R.length,V>=0&&A.slice(V,$e)==R}function Qne(A){return A=Nn(A),A&&_r.test(A)?A.replace(Rr,mp):A}function Zne(A){return A=Nn(A),A&&Ut.test(A)?A.replace(ut,"\\$&"):A}var eie=Ep(function(A,R,V){return A+(V?"-":"")+R.toLowerCase()}),tie=Ep(function(A,R,V){return A+(V?" ":"")+R.toLowerCase()}),rie=XM("toLowerCase");function nie(A,R,V){A=Nn(A),R=Ir(R);var de=R?Xo(A):0;if(!R||de>=R)return A;var $e=(R-de)/2;return H0(I0($e),V)+A+H0(N0($e),V)}function iie(A,R,V){A=Nn(A),R=Ir(R);var de=R?Xo(A):0;return R&&de<R?A+H0(R-de,V):A}function oie(A,R,V){A=Nn(A),R=Ir(R);var de=R?Xo(A):0;return R&&de<R?H0(R-de,V)+A:A}function sie(A,R,V){return V||R==null?R=0:R&&(R=+R),h7(Nn(A).replace(Bt,""),R||0)}function aie(A,R,V){return(V?Zo(A,R,V):R===r)?R=1:R=Ir(R),g$(Nn(A),R)}function lie(){var A=arguments,R=Nn(A[0]);return A.length<3?R:R.replace(A[1],A[2])}var uie=Ep(function(A,R,V){return A+(V?"_":"")+R.toLowerCase()});function cie(A,R,V){return V&&typeof V!="number"&&Zo(A,R,V)&&(R=V=r),V=V===r?z:V>>>0,V?(A=Nn(A),A&&(typeof R=="string"||R!=null&&!F$(R))&&(R=oa(R),!R&&Oo(A))?ff(Di(A),0,V):A.split(R,V)):[]}var fie=Ep(function(A,R,V){return A+(V?" ":"")+z$(R)});function die(A,R,V){return A=Nn(A),V=V==null?0:Md(Ir(V),0,A.length),R=oa(R),A.slice(V,V+R.length)==R}function hie(A,R,V){var de=Re.templateSettings;V&&Zo(A,R,V)&&(R=r),A=Nn(A),R=nw({},R,de,iL);var $e=nw({},R.imports,de.imports,iL),Ce=no($e),Ke=nf($e,Ce),nt,st,St=0,Tt=R.interpolate||Ft,kt="__p += '",Wt=xt((R.escape||Ft).source+"|"+Tt.source+"|"+(Tt===Oe?Mt:Ft).source+"|"+(R.evaluate||Ft).source+"|$","g"),ar="//# sourceURL="+(sr.call(R,"sourceURL")?(R.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Rd+"]")+`
`;A.replace(Wt,function(vr,Qr,dn,aa,es,la){return dn||(dn=aa),kt+=A.slice(St,la).replace(Yt,gp),Qr&&(nt=!0,kt+=`' +
__e(`+Qr+`) +
'`),es&&(st=!0,kt+=`';
`+es+`;
__p += '`),dn&&(kt+=`' +
((__t = (`+dn+`)) == null ? '' : __t) +
'`),St=la+vr.length,vr}),kt+=`';
`;var gr=sr.call(R,"variable")&&R.variable;if(!gr)kt=`with (obj) {
`+kt+`
}
`;else if(pt.test(gr))throw new We(a);kt=(st?kt.replace(Xt,""):kt).replace(Xr,"$1").replace(tn,"$1;"),kt="function("+(gr||"obj")+`) {
`+(gr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(nt?", __e = _.escape":"")+(st?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+kt+`return __p
}`;var Mr=YL(function(){return et(Ce,ar+"return "+kt).apply(r,Ke)});if(Mr.source=kt,L$(Mr))throw Mr;return Mr}function pie(A){return Nn(A).toLowerCase()}function mie(A){return Nn(A).toUpperCase()}function gie(A,R,V){if(A=Nn(A),A&&(V||R===r))return ji(A);if(!A||!(R=oa(R)))return A;var de=Di(A),$e=Di(R),Ce=fn(de,$e),Ke=cu(de,$e)+1;return ff(de,Ce,Ke).join("")}function vie(A,R,V){if(A=Nn(A),A&&(V||R===r))return A.slice(0,Cd(A)+1);if(!A||!(R=oa(R)))return A;var de=Di(A),$e=cu(de,Di(R))+1;return ff(de,0,$e).join("")}function yie(A,R,V){if(A=Nn(A),A&&(V||R===r))return A.replace(Bt,"");if(!A||!(R=oa(R)))return A;var de=Di(A),$e=fn(de,Di(R));return ff(de,$e).join("")}function wie(A,R){var V=P,de=M;if(hi(R)){var $e="separator"in R?R.separator:$e;V="length"in R?Ir(R.length):V,de="omission"in R?oa(R.omission):de}A=Nn(A);var Ce=A.length;if(Oo(A)){var Ke=Di(A);Ce=Ke.length}if(V>=Ce)return A;var nt=V-Xo(de);if(nt<1)return de;var st=Ke?ff(Ke,0,nt).join(""):A.slice(0,nt);if($e===r)return st+de;if(Ke&&(nt+=st.length-nt),F$($e)){if(A.slice(nt).search($e)){var St,Tt=st;for($e.global||($e=xt($e.source,Nn(Kt.exec($e))+"g")),$e.lastIndex=0;St=$e.exec(Tt);)var kt=St.index;st=st.slice(0,kt===r?nt:kt)}}else if(A.indexOf(oa($e),nt)!=nt){var Wt=st.lastIndexOf($e);Wt>-1&&(st=st.slice(0,Wt))}return st+de}function bie(A){return A=Nn(A),A&&jn.test(A)?A.replace(Tr,sf):A}var _ie=Ep(function(A,R,V){return A+(V?" ":"")+R.toUpperCase()}),z$=XM("toUpperCase");function JL(A,R,V){return A=Nn(A),R=V?r:R,R===r?Id(A)?rt(A):jr(A):A.match(R)||[]}var YL=Ur(function(A,R){try{return Ae(A,r,R)}catch(V){return L$(V)?V:new We(V)}}),Eie=ic(function(A,R){return He(R,function(V){V=hu(V),rc(A,V,D$(A[V],A))}),A});function Sie(A){var R=A==null?0:A.length,V=mr();return A=R?zt(A,function(de){if(typeof de[1]!="function")throw new Ht(s);return[V(de[0]),de[1]]}):[],Ur(function(de){for(var $e=-1;++$e<R;){var Ce=A[$e];if(Ae(Ce[0],this,de))return Ae(Ce[1],this,de)}})}function Tie(A){return J7(Fa(A,c))}function q$(A){return function(){return A}}function $ie(A,R){return A==null||A!==A?R:A}var xie=ZM(),Aie=ZM(!0);function Rs(A){return A}function V$(A){return PM(typeof A=="function"?A:Fa(A,c))}function Oie(A){return NM(Fa(A,c))}function Pie(A,R){return IM(A,Fa(R,c))}var Rie=Ur(function(A,R){return function(V){return Rg(V,A,R)}}),Nie=Ur(function(A,R){return function(V){return Rg(A,V,R)}});function H$(A,R,V){var de=no(R),$e=L0(R,de);V==null&&!(hi(R)&&($e.length||!de.length))&&(V=R,R=A,A=this,$e=L0(R,no(R)));var Ce=!(hi(V)&&"chain"in V)||!!V.chain,Ke=sc(A);return He($e,function(nt){var st=R[nt];A[nt]=st,Ke&&(A.prototype[nt]=function(){var St=this.__chain__;if(Ce||St){var Tt=A(this.__wrapped__),kt=Tt.__actions__=As(this.__actions__);return kt.push({func:st,args:arguments,thisArg:A}),Tt.__chain__=St,Tt}return st.apply(A,wr([this.value()],arguments))})}),A}function Iie(){return Dn._===this&&(Dn._=Jn),this}function W$(){}function Cie(A){return A=Ir(A),Ur(function(R){return CM(R,A)})}var kie=S$(zt),jie=S$(dt),Die=S$(Bn);function XL(A){return R$(A)?ja(hu(A)):dee(A)}function Mie(A){return function(R){return A==null?r:Ld(A,R)}}var Lie=tL(),Fie=tL(!0);function G$(){return[]}function K$(){return!1}function Bie(){return{}}function Uie(){return""}function zie(){return!0}function qie(A,R){if(A=Ir(A),A<1||A>re)return[];var V=z,de=Ro(A,z);R=mr(R),A-=z;for(var $e=ra(de,R);++V<A;)R(V);return $e}function Vie(A){return Pr(A)?zt(A,hu):sa(A)?[A]:As(vL(Nn(A)))}function Hie(A){var R=++Mn;return Nn(A)+R}var Wie=V0(function(A,R){return A+R},0),Gie=T$("ceil"),Kie=V0(function(A,R){return A/R},1),Jie=T$("floor");function Yie(A){return A&&A.length?M0(A,Rs,u$):r}function Xie(A,R){return A&&A.length?M0(A,mr(R,2),u$):r}function Qie(A){return Vi(A,Rs)}function Zie(A,R){return Vi(A,mr(R,2))}function eoe(A){return A&&A.length?M0(A,Rs,h$):r}function toe(A,R){return A&&A.length?M0(A,mr(R,2),h$):r}var roe=V0(function(A,R){return A*R},1),noe=T$("round"),ioe=V0(function(A,R){return A-R},0);function ooe(A){return A&&A.length?Un(A,Rs):0}function soe(A,R){return A&&A.length?Un(A,mr(R,2)):0}return Re.after=Ore,Re.ary=OL,Re.assign=mne,Re.assignIn=zL,Re.assignInWith=nw,Re.assignWith=gne,Re.at=vne,Re.before=PL,Re.bind=D$,Re.bindAll=Eie,Re.bindKey=RL,Re.castArray=Bre,Re.chain=$L,Re.chunk=Jee,Re.compact=Yee,Re.concat=Xee,Re.cond=Sie,Re.conforms=Tie,Re.constant=q$,Re.countBy=ore,Re.create=yne,Re.curry=NL,Re.curryRight=IL,Re.debounce=CL,Re.defaults=wne,Re.defaultsDeep=bne,Re.defer=Pre,Re.delay=Rre,Re.difference=Qee,Re.differenceBy=Zee,Re.differenceWith=ete,Re.drop=tte,Re.dropRight=rte,Re.dropRightWhile=nte,Re.dropWhile=ite,Re.fill=ote,Re.filter=are,Re.flatMap=cre,Re.flatMapDeep=fre,Re.flatMapDepth=dre,Re.flatten=_L,Re.flattenDeep=ste,Re.flattenDepth=ate,Re.flip=Nre,Re.flow=xie,Re.flowRight=Aie,Re.fromPairs=lte,Re.functions=Ane,Re.functionsIn=One,Re.groupBy=hre,Re.initial=cte,Re.intersection=fte,Re.intersectionBy=dte,Re.intersectionWith=hte,Re.invert=Rne,Re.invertBy=Nne,Re.invokeMap=mre,Re.iteratee=V$,Re.keyBy=gre,Re.keys=no,Re.keysIn=Ps,Re.map=X0,Re.mapKeys=Cne,Re.mapValues=kne,Re.matches=Oie,Re.matchesProperty=Pie,Re.memoize=Z0,Re.merge=jne,Re.mergeWith=qL,Re.method=Rie,Re.methodOf=Nie,Re.mixin=H$,Re.negate=ew,Re.nthArg=Cie,Re.omit=Dne,Re.omitBy=Mne,Re.once=Ire,Re.orderBy=vre,Re.over=kie,Re.overArgs=Cre,Re.overEvery=jie,Re.overSome=Die,Re.partial=M$,Re.partialRight=kL,Re.partition=yre,Re.pick=Lne,Re.pickBy=VL,Re.property=XL,Re.propertyOf=Mie,Re.pull=vte,Re.pullAll=SL,Re.pullAllBy=yte,Re.pullAllWith=wte,Re.pullAt=bte,Re.range=Lie,Re.rangeRight=Fie,Re.rearg=kre,Re.reject=_re,Re.remove=_te,Re.rest=jre,Re.reverse=k$,Re.sampleSize=Sre,Re.set=Bne,Re.setWith=Une,Re.shuffle=Tre,Re.slice=Ete,Re.sortBy=Are,Re.sortedUniq=Pte,Re.sortedUniqBy=Rte,Re.split=cie,Re.spread=Dre,Re.tail=Nte,Re.take=Ite,Re.takeRight=Cte,Re.takeRightWhile=kte,Re.takeWhile=jte,Re.tap=Yte,Re.throttle=Mre,Re.thru=Y0,Re.toArray=FL,Re.toPairs=HL,Re.toPairsIn=WL,Re.toPath=Vie,Re.toPlainObject=UL,Re.transform=zne,Re.unary=Lre,Re.union=Dte,Re.unionBy=Mte,Re.unionWith=Lte,Re.uniq=Fte,Re.uniqBy=Bte,Re.uniqWith=Ute,Re.unset=qne,Re.unzip=j$,Re.unzipWith=TL,Re.update=Vne,Re.updateWith=Hne,Re.values=$p,Re.valuesIn=Wne,Re.without=zte,Re.words=JL,Re.wrap=Fre,Re.xor=qte,Re.xorBy=Vte,Re.xorWith=Hte,Re.zip=Wte,Re.zipObject=Gte,Re.zipObjectDeep=Kte,Re.zipWith=Jte,Re.entries=HL,Re.entriesIn=WL,Re.extend=zL,Re.extendWith=nw,H$(Re,Re),Re.add=Wie,Re.attempt=YL,Re.camelCase=Yne,Re.capitalize=GL,Re.ceil=Gie,Re.clamp=Gne,Re.clone=Ure,Re.cloneDeep=qre,Re.cloneDeepWith=Vre,Re.cloneWith=zre,Re.conformsTo=Hre,Re.deburr=KL,Re.defaultTo=$ie,Re.divide=Kie,Re.endsWith=Xne,Re.eq=Ol,Re.escape=Qne,Re.escapeRegExp=Zne,Re.every=sre,Re.find=lre,Re.findIndex=wL,Re.findKey=_ne,Re.findLast=ure,Re.findLastIndex=bL,Re.findLastKey=Ene,Re.floor=Jie,Re.forEach=xL,Re.forEachRight=AL,Re.forIn=Sne,Re.forInRight=Tne,Re.forOwn=$ne,Re.forOwnRight=xne,Re.get=B$,Re.gt=Wre,Re.gte=Gre,Re.has=Pne,Re.hasIn=U$,Re.head=EL,Re.identity=Rs,Re.includes=pre,Re.indexOf=ute,Re.inRange=Kne,Re.invoke=Ine,Re.isArguments=Ud,Re.isArray=Pr,Re.isArrayBuffer=Kre,Re.isArrayLike=Os,Re.isArrayLikeObject=Oi,Re.isBoolean=Jre,Re.isBuffer=df,Re.isDate=Yre,Re.isElement=Xre,Re.isEmpty=Qre,Re.isEqual=Zre,Re.isEqualWith=ene,Re.isError=L$,Re.isFinite=tne,Re.isFunction=sc,Re.isInteger=jL,Re.isLength=tw,Re.isMap=DL,Re.isMatch=rne,Re.isMatchWith=nne,Re.isNaN=ine,Re.isNative=one,Re.isNil=ane,Re.isNull=sne,Re.isNumber=ML,Re.isObject=hi,Re.isObjectLike=bi,Re.isPlainObject=Dg,Re.isRegExp=F$,Re.isSafeInteger=lne,Re.isSet=LL,Re.isString=rw,Re.isSymbol=sa,Re.isTypedArray=Tp,Re.isUndefined=une,Re.isWeakMap=cne,Re.isWeakSet=fne,Re.join=pte,Re.kebabCase=eie,Re.last=Ua,Re.lastIndexOf=mte,Re.lowerCase=tie,Re.lowerFirst=rie,Re.lt=dne,Re.lte=hne,Re.max=Yie,Re.maxBy=Xie,Re.mean=Qie,Re.meanBy=Zie,Re.min=eoe,Re.minBy=toe,Re.stubArray=G$,Re.stubFalse=K$,Re.stubObject=Bie,Re.stubString=Uie,Re.stubTrue=zie,Re.multiply=roe,Re.nth=gte,Re.noConflict=Iie,Re.noop=W$,Re.now=Q0,Re.pad=nie,Re.padEnd=iie,Re.padStart=oie,Re.parseInt=sie,Re.random=Jne,Re.reduce=wre,Re.reduceRight=bre,Re.repeat=aie,Re.replace=lie,Re.result=Fne,Re.round=noe,Re.runInContext=J,Re.sample=Ere,Re.size=$re,Re.snakeCase=uie,Re.some=xre,Re.sortedIndex=Ste,Re.sortedIndexBy=Tte,Re.sortedIndexOf=$te,Re.sortedLastIndex=xte,Re.sortedLastIndexBy=Ate,Re.sortedLastIndexOf=Ote,Re.startCase=fie,Re.startsWith=die,Re.subtract=ioe,Re.sum=ooe,Re.sumBy=soe,Re.template=hie,Re.times=qie,Re.toFinite=ac,Re.toInteger=Ir,Re.toLength=BL,Re.toLower=pie,Re.toNumber=za,Re.toSafeInteger=pne,Re.toString=Nn,Re.toUpper=mie,Re.trim=gie,Re.trimEnd=vie,Re.trimStart=yie,Re.truncate=wie,Re.unescape=bie,Re.uniqueId=Hie,Re.upperCase=_ie,Re.upperFirst=z$,Re.each=xL,Re.eachRight=AL,Re.first=EL,H$(Re,function(){var A={};return fu(Re,function(R,V){sr.call(Re.prototype,V)||(A[V]=R)}),A}(),{chain:!1}),Re.VERSION=n,He(["bind","bindKey","curry","curryRight","partial","partialRight"],function(A){Re[A].placeholder=Re}),He(["drop","take"],function(A,R){sn.prototype[A]=function(V){V=V===r?1:Wi(Ir(V),0);var de=this.__filtered__&&!R?new sn(this):this.clone();return de.__filtered__?de.__takeCount__=Ro(V,de.__takeCount__):de.__views__.push({size:Ro(V,z),type:A+(de.__dir__<0?"Right":"")}),de},sn.prototype[A+"Right"]=function(V){return this.reverse()[A](V).reverse()}}),He(["filter","map","takeWhile"],function(A,R){var V=R+1,de=V==ie||V==ne;sn.prototype[A]=function($e){var Ce=this.clone();return Ce.__iteratees__.push({iteratee:mr($e,3),type:V}),Ce.__filtered__=Ce.__filtered__||de,Ce}}),He(["head","last"],function(A,R){var V="take"+(R?"Right":"");sn.prototype[A]=function(){return this[V](1).value()[0]}}),He(["initial","tail"],function(A,R){var V="drop"+(R?"":"Right");sn.prototype[A]=function(){return this.__filtered__?new sn(this):this[V](1)}}),sn.prototype.compact=function(){return this.filter(Rs)},sn.prototype.find=function(A){return this.filter(A).head()},sn.prototype.findLast=function(A){return this.reverse().find(A)},sn.prototype.invokeMap=Ur(function(A,R){return typeof A=="function"?new sn(this):this.map(function(V){return Rg(V,A,R)})}),sn.prototype.reject=function(A){return this.filter(ew(mr(A)))},sn.prototype.slice=function(A,R){A=Ir(A);var V=this;return V.__filtered__&&(A>0||R<0)?new sn(V):(A<0?V=V.takeRight(-A):A&&(V=V.drop(A)),R!==r&&(R=Ir(R),V=R<0?V.dropRight(-R):V.take(R-A)),V)},sn.prototype.takeRightWhile=function(A){return this.reverse().takeWhile(A).reverse()},sn.prototype.toArray=function(){return this.take(z)},fu(sn.prototype,function(A,R){var V=/^(?:filter|find|map|reject)|While$/.test(R),de=/^(?:head|last)$/.test(R),$e=Re[de?"take"+(R=="last"?"Right":""):R],Ce=de||/^find/.test(R);$e&&(Re.prototype[R]=function(){var Ke=this.__wrapped__,nt=de?[1]:arguments,st=Ke instanceof sn,St=nt[0],Tt=st||Pr(Ke),kt=function(Qr){var dn=$e.apply(Re,wr([Qr],nt));return de&&Wt?dn[0]:dn};Tt&&V&&typeof St=="function"&&St.length!=1&&(st=Tt=!1);var Wt=this.__chain__,ar=!!this.__actions__.length,gr=Ce&&!Wt,Mr=st&&!ar;if(!Ce&&Tt){Ke=Mr?Ke:new sn(this);var vr=A.apply(Ke,nt);return vr.__actions__.push({func:Y0,args:[kt],thisArg:r}),new La(vr,Wt)}return gr&&Mr?A.apply(this,nt):(vr=this.thru(kt),gr?de?vr.value()[0]:vr.value():vr)})}),He(["pop","push","shift","sort","splice","unshift"],function(A){var R=It[A],V=/^(?:push|sort|unshift)$/.test(A)?"tap":"thru",de=/^(?:pop|shift)$/.test(A);Re.prototype[A]=function(){var $e=arguments;if(de&&!this.__chain__){var Ce=this.value();return R.apply(Pr(Ce)?Ce:[],$e)}return this[V](function(Ke){return R.apply(Pr(Ke)?Ke:[],$e)})}}),fu(sn.prototype,function(A,R){var V=Re[R];if(V){var de=V.name+"";sr.call(wp,de)||(wp[de]=[]),wp[de].push({name:R,func:V})}}),wp[q0(r,p).name]=[{name:"wrapper",func:r}],sn.prototype.clone=b7,sn.prototype.reverse=_7,sn.prototype.value=E7,Re.prototype.at=Xte,Re.prototype.chain=Qte,Re.prototype.commit=Zte,Re.prototype.next=ere,Re.prototype.plant=rre,Re.prototype.reverse=nre,Re.prototype.toJSON=Re.prototype.valueOf=Re.prototype.value=ire,Re.prototype.first=Re.prototype.head,Sg&&(Re.prototype[Sg]=tre),Re},W=lt();Ss?((Ss.exports=W)._=W,Tl._=W):Dn._=W}).call(Eo)})(_1,_1.exports);var a2e=_1.exports;const l2e=e=>{let t={id:"",message:""},r=0;for(const[n,i]of Object.entries(e))i.error&&i.error.length>0&&(r++,t.message||(t={id:n.split(" - ")[0],message:i.error}));return{firstError:t,errorCount:r}};function bC(e){return"data"in e&&"status"in e}const oy=async(e,t="GET",r,n={})=>{const i={message:"",reason:"",status:0};try{const o=await KZ(e,t,r,{...n,headers:{"Content-Type":"application/json",...n.headers||{}}});if(!o.ok){let a=`Request failed with status ${o.status}`;try{const l=await o.json();l!=null&&l.error&&(i.reason=l.error)}catch{}switch(i.status=o.status,o.status){case 301:throw new Error(`Monitors for the property: ${a}`);case 304:throw new Error(`Not Modified: ${a}`);case 302:throw new Error(`Bad url: ${a}`);case 400:throw new Error(`Bad Request: ${a}`);case 401:throw new Error(`Unauthorized: ${a}`);case 403:throw new Error(`Forbidden: ${a}`);case 404:throw new Error(`Not Found: ${a}`);case 405:throw new Error(`Property not writable: ${a}`);case 406:throw new Error(`Invalid property value: ${a}`);case 409:throw new Error(`Conflict: ${a}`);case 429:throw new Error(`Too Many Requests: ${a}`);case 499:throw new Error(`Client Closed Request: ${a}`);case 500:throw new Error(`Internal Server Error: ${a}`);case 502:throw new Error(`Bad Gateway: ${a}`);case 503:throw new Error(`Service Unavailable: ${a}`);case 504:throw new Error(`Gateway Timeout: ${a}`);default:throw new Error(`Request failed with status ${o.status}: ${a}`)}}return{data:o,headers:JSON.stringify(o.headers),status:o.status}}catch(o){return{message:o.message,reason:i.reason,status:i.status}}},u2e=(e,t)=>{if(!t)return e;const r=new URL(e,window.location.origin);return Object.entries(t).forEach(([n,i])=>{r.searchParams.append(n,String(i))}),r.toString()},KZ=async(e,t="GET",r,n={})=>{const{headers:i,queryParams:o,...s}=n,a=u2e(e,o);return await fetch(a,{method:t,body:r,headers:{"Content-Type":"application/json",...i||{}},...s})},XE=async e=>{try{const t=Cve(Us("northbound"));if(!t)throw new Error("No northbound URL configured in settings");const r=`${t}${encodeURIComponent(e)}`,n=await oy(r,"GET");if(bC(n))try{return{message:"Northbound TD available",data:await n.data.json()}}catch{return{message:"Failed to parse northbound TD",data:null}}else return{message:n.message||"Failed to fetch northbound TD",data:null}}catch(t){return{message:t instanceof Error?t.message:"Unknown error occurred",data:null}}},c2e=({filteredHeaders:e,filteredRows:t,setPropertyResponseMap:r,interaction:n,backgroundTdToSend:i,dispatch:o,handleFieldChange:s})=>{const a=Ne.useContext(Fn),l=a.parsedTD,{activeSection:u,sectionErrors:f,isTestingAll:c,settingsData:h,placeholderValues:m,propertyResponseMap:g}=n,_=async(x,O)=>{try{const P=h.southboundUrl,M=await oy(`${P}`,"POST",JSON.stringify(O));if(M.status===200||M.status===201||M.status===409){const U=await XE(x);a.updateNorthboundConnection({message:U.message,northboundTd:U.data??{}})}else throw new Error(`Unexpected response status: ${M.status}`)}catch(P){console.error("Error request Northbound Td Version :",P)}},v=Ne.useMemo(()=>l2e(g),[g]),p=()=>{switch(u){case"INSTANCE":return Object.values(m).every(P=>P!=null&&P.trim()!=="")?(o({type:"SET_INTERACTION_SECTION_ERROR",section:"instance",error:!1,message:""}),!0):(o({type:"SET_INTERACTION_SECTION_ERROR",section:"instance",error:!0,message:"All fields in section Instance must have values"}),!1);case"GATEWAY":if(h.northboundUrl.trim()!==""&&h.southboundUrl.trim()!==""&&h.pathToValue.trim()!=="")o({type:"SET_INTERACTION_SECTION_ERROR",section:"gateway",error:!1,message:""});else return o({type:"SET_INTERACTION_SECTION_ERROR",section:"gateway",error:!0,message:"All fields in section Gateway must have values"}),!1;return!0;case"TABLE":return!0;case"SAVING_RESULTS":return!0;default:return!0}},E=x=>{if(p(),x==="TABLE"){let O={};try{O=o1e(i,m),o({type:"SET_BACKGROUND_TD_TO_SEND",payload:O})}catch(P){o({type:"SET_INTERACTION_SECTION_ERROR",section:"table",error:!0,message:`Failed to prepare TD: ${P instanceof Error?P.message:String(P)}`});return}O.id?_(O.id,O):o({type:"SET_INTERACTION_SECTION_ERROR",section:"table",error:!0,message:"Cannot interact with the TD: missing ID"})}o(u===x?{type:"SET_INTERACTION_ACTIVE_SECTION",payload:"INSTANCE"}:{type:"SET_INTERACTION_ACTIVE_SECTION",payload:x})},y=async()=>{o({type:"SET_INTERACTION_TESTING_ALL",payload:!0});const x={...g};for(const O of t)try{const P=await xy(a.northboundConnection.northboundTd,O.propName,{formIndex:$m(O.id)},h.pathToValue);P.err?x[O.id]={value:"",error:P.err.message}:x[O.id]={value:P.result,error:""}}catch(P){x[O.id]={value:"",error:P.message}}o({type:"SET_INTERACTION_PROPERTY_RESPONSE_MAP",payload:x}),o({type:"SET_INTERACTION_TESTING_ALL",payload:!1})},S=async x=>{const O=$m(x.id);let P={value:"",error:""};try{const U=await xy(Object.keys(a.northboundConnection.northboundTd).length>0?a.northboundConnection.northboundTd:l,x.propName,{formIndex:O},h.pathToValue||"");U.err?P={value:"",error:U.err.message}:P={value:U.result,error:""}}catch(U){P={value:"",error:U.message||"Unknown error"}}const M={...g,[x.id]:P};return o({type:"SET_INTERACTION_PROPERTY_RESPONSE_MAP",payload:M}),P};function T(x){const O=Ne.useRef();return Ne.useEffect(()=>{O.current=x},[x]),O.current}const $=T(h),d=(x,O)=>{O&&!a2e.isEqual(x,$)&&o({type:"SET_INTERACTION_SETTINGS_DATA",payload:x})};return X.jsx(X.Fragment,{children:X.jsxs("div",{className:"space-y-4",children:[X.jsx("div",{className:"mb-2 w-full rounded-md bg-opacity-80 p-3 text-white",children:X.jsx("p",{className:"text-lg",children:"If you want to verify the correctness of your Thing Model, you can interact with a device instance here. To do so, please configure the proxy (northbound, southound, valuepath) and provide instance-specific information such as IP address."})}),X.jsxs("div",{id:"instanceSection",className:"overflow-hidden rounded-md bg-black bg-opacity-80",children:[X.jsxs("div",{className:"flex cursor-pointer items-center p-2 font-bold",onClick:()=>E("INSTANCE"),children:[X.jsx(us,{size:16,className:`mr-2 transition-transform duration-200 ${u==="INSTANCE"?"rotate-0":"-rotate-90"}`}),X.jsx("span",{className:"flex-grow",children:" 2.1 Instance"}),u==="INSTANCE"?X.jsx(us,{size:16}):X.jsx(bh,{size:16})]}),u==="INSTANCE"&&Object.keys(m).length>0&&X.jsx("div",{className:"w-full p-2",children:X.jsx("div",{className:"mx-auto mb-2 w-[70%]",children:X.jsx(P5,{inputValues:m,onValueChange:s})})}),u==="INSTANCE"&&Object.keys(m).length===0&&X.jsx("div",{className:"w-full p-2",children:X.jsx("div",{className:"mx-auto mb-2 w-[70%]",children:X.jsx("h1",{children:"There are no placeholders in the following Things Model."})})}),f.instance.error&&X.jsxs("div",{className:"my-2 h-full w-full rounded bg-red-500 p-1 text-white",children:[X.jsx(Hh,{size:18,className:"mx-2 inline-flex text-black"}),f.instance.message]})]}),X.jsxs("div",{id:"gatewaySection",className:"overflow-hidden rounded-md bg-black bg-opacity-80",children:[X.jsxs("div",{className:"flex cursor-pointer items-center p-2 font-bold",onClick:()=>E("GATEWAY"),children:[X.jsx(us,{size:16,className:`mr-2 transition-transform duration-200 ${u==="GATEWAY"?"rotate-0":"-rotate-90"}`}),X.jsx("span",{className:"flex-grow",children:" 2.2 Gateway"}),u==="GATEWAY"?X.jsx(us,{size:16}):X.jsx(bh,{size:16})]}),u==="GATEWAY"&&X.jsx("div",{className:"w-full p-2",children:X.jsx("div",{className:"mx-auto mt-4 w-[70%]",children:X.jsx(C5,{initialData:h,onChange:d})})}),f.gateway.error&&X.jsxs("div",{className:"mb-2 mt-2 h-full w-full rounded bg-red-500 p-1 text-white",children:[X.jsx(Hh,{size:18,className:"mx-2 inline-flex text-black"}),f.gateway.message]})]}),X.jsxs("div",{id:"tableSection",className:"overflow-hidden rounded-md bg-black bg-opacity-80",children:[X.jsxs("div",{className:"flex cursor-pointer items-center p-2 font-bold",onClick:()=>E("TABLE"),children:[X.jsx(us,{size:16,className:`mr-2 transition-transform duration-200 ${u==="TABLE"?"rotate-0":"-rotate-90"}`}),X.jsx("span",{className:"flex-grow",children:" 2.3 Value Verification"}),u==="TABLE"?X.jsx(us,{size:16}):X.jsx(bh,{size:16})]}),u==="TABLE"&&X.jsxs("div",{className:"mt-4 w-full p-2",children:[X.jsx("h1",{className:"font-bold",children:"Read property values from device instance"}),X.jsx("div",{className:"p-2",children:X.jsx(HK,{headers:e,items:t,itemsPerPage:10,orderBy:"",order:"asc",baseUrl:l.base??"",expandTable:!0,onSendRequestClick:S,requestResults:g})}),X.jsx("div",{className:"mb-4 mt-2 flex justify-end px-4",children:X.jsx(si,{onClick:y,variant:"primary",type:"button",disabled:c,className:"flex items-center",children:c?X.jsxs(X.Fragment,{children:[X.jsx(n0,{className:"mr-2 animate-spin",size:16}),"Testing..."]}):"Test All Properties"})}),v.errorCount>0&&X.jsxs("div",{className:"mt-4 rounded-md bg-red-100 p-3 text-red-700",children:[X.jsxs("p",{className:"font-bold",children:["Found ",v.errorCount," error",v.errorCount>1?"s":""]}),X.jsxs("p",{className:"mt-1",children:["First error in property name"," ",X.jsx("span",{className:"font-semibold",children:v.firstError.id}),": ",v.firstError.message]})]})]})]}),X.jsxs("div",{id:"savingResultsSection",className:"overflow-hidden rounded-md bg-black bg-opacity-80",children:[X.jsxs("div",{className:"flex cursor-pointer items-center p-2 font-bold",onClick:()=>E("SAVING_RESULTS"),children:[X.jsx(us,{size:16,className:`mr-2 transition-transform duration-200 ${u==="SAVING_RESULTS"?"rotate-0":"-rotate-90"}`}),X.jsx("span",{className:"flex-grow",children:" 2.4 Saving results"}),u==="SAVING_RESULTS"?X.jsx(us,{size:16}):X.jsx(bh,{size:16})]}),u==="SAVING_RESULTS"&&X.jsx("div",{className:"p-2 pt-0",children:X.jsx("div",{className:"mx-auto w-[70%]",children:"A feature for saving the property values will be added later on."})})]})]})})},f2e="Contribute your TM to a TM Catalog",iO="https://raw.githubusercontent.com/wot-oss/tmc/main/internal/commands/validate/tmc-mandatory.schema.json",V6="https://raw.githubusercontent.com/wot-oss/tmc/main/internal/commands/validate/tm-json-schema-validation.json",oO="https://raw.githubusercontent.com/wot-oss/tmc/refs/heads/main/internal/commands/validate/modbus.schema.json",JZ=Ne.forwardRef((e,t)=>{const r=Ne.useContext(Fn),n=r.parsedTD,i=r.contributeCatalog,[o,s]=Ne.useReducer(i2e,GZ),a=Ne.useMemo(()=>{const G=o.workflow.currentStep;return`${f2e} - ${G===1?"Metadata":G===2?"Interaction":"Submission"}`},[o.workflow.currentStep]),l=Ne.useMemo(()=>{const G=o.workflow.currentStep;return G===1?0:G===2?50:100},[o.workflow.currentStep]),u=Ne.useMemo(()=>n.properties||{},[n]);Ne.useImperativeHandle(t,()=>({openModal:()=>f(),close:()=>c()}));const f=()=>{var z,Y,N;const G={model:n["schema:mpn"]||i.model||"",author:((z=n["schema:author"])==null?void 0:z["schema:name"])||i.author||"",manufacturer:((Y=n["schema:manufacturer"])==null?void 0:Y["schema:name"])||i.manufacturer||"",license:n["schema:license"]||i.license||"",copyrightYear:n["schema:copyrightYear"]||i.copyrightYear||"",holder:(((N=n["schema:copyrightHolder"])==null?void 0:N.name)||i.holder||"").trim()};s({type:"INITIALIZE_METADATA",payload:G});const ne=new URLSearchParams(window.location.search),ge=ne.get("tmcendpoint"),re=ne.get("repo"),se=ge?decodeURIComponent(ge):"",D=re?decodeURIComponent(re):"";!EI(se)&&se!==""&&s({type:"SET_SUBMISSION_TMCATALOG_ENDPOINT_ERROR",payload:"Please enter a valid URL starting with http:// or https://"}),se===""&&i.tmCatalogEndpoint!==""?s({type:"SET_SUBMISSION_TMCATALOG_ENDPOINT",payload:i.tmCatalogEndpoint}):s({type:"SET_SUBMISSION_TMCATALOG_ENDPOINT",payload:se}),D===""&&i.nameRepository!==""?s({type:"SET_SUBMISSION_REPOSITORY",payload:i.nameRepository}):s({type:"SET_SUBMISSION_REPOSITORY",payload:D}),s({type:"SHOW_DIALOG",payload:!0})},c=()=>{s({type:"RESET_STATE"}),r.updateNorthboundConnection({message:"",northboundTd:{}}),r.updateContributeCatalog({...r.contributeCatalog,dynamicValues:{}})},h=async()=>{s({type:"SET_METADATA_ERROR_MESSAGE",payload:""}),s({type:"SET_METADATA_VALIDATION",payload:"VALIDATING"});const{model:G,author:ne,manufacturer:ge,license:re,copyrightYear:se,holder:D}=o.metadata;try{const z=structuredClone(n);if(G.trim()===""||ne.trim()===""||ge.trim()===""){let te=`Please fill in all required fields: ${G===""?"Model":""} ${ne===""?"Author":""} ${ge===""?"Manufacturer":""}`;throw new Error(te)}z["schema:mpn"]=G,z["schema:author"]={"schema:name":ne},z["schema:manufacturer"]={"@type":"Organization","schema:name":ge},re&&re.trim()!==""?z["schema:license"]=re:delete z["schema:license"],se?z["schema:copyrightYear"]=se:delete z["schema:copyrightYear"],D&&D.trim()!==""?z["schema:copyrightHolder"]={"@type":"Organization","schema:name":D}:delete z["schema:copyrightHolder"];try{z["@context"]=r1e(z["@context"])}catch(te){let ue=`Context normalization error: ${te instanceof Error?te.message:"Unknown error"}`;throw new Error(ue)}const Y=new SCe({strict:!1,allErrors:!0,validateFormats:!0});bRe(Y),Y.addMetaSchema(sZ);let N=await fetch(iO);if(!N.ok)throw new Error(`Failed to fetch schema from ${iO}`);let I=await N.json(),q=Y.compile(I),ae=q(z);if(!ae){let te=`Validation failed for ${iO}: ${q.errors?Y.errorsText(q.errors):""}`;throw new Error(te)}if(N=await fetch(V6),!N.ok)throw new Error(`Failed to fetch schema from ${V6}`);let Z=await N.json();if(Y.addSchema(Z),N=await fetch(oO),!N.ok)throw new Error(`Failed to fetch schema from ${oO}`);if(I=await N.json(),q=Y.compile(I),ae=q(z),!ae){let te=`Validation failed for ${oO}: ${q.errors?Y.errorsText(q.errors):""}`;throw new Error(te)}s({type:"SET_BACKGROUND_TD_TO_SEND",payload:z}),s({type:"SET_METADATA_ERROR_MESSAGE",payload:""}),s({type:"SET_METADATA_VALIDATION",payload:"VALID"}),s({type:"UPDATE_INTERACTION_PLACEHOLDER_VALUES",payload:S})}catch(z){let Y=`Could not validate:
        ${z instanceof Error?z.message:String(z)}`;s({type:"SET_METADATA_ERROR_MESSAGE",payload:Y});return}},m=async()=>{await navigator.clipboard.writeText(JSON.stringify(o.workflow.backgroundTdToSend,null,2)),s({type:"SET_METADATA_COPIED",payload:!0})},g=G=>{const ne=G.target.value;s({type:"SET_METADATA_MODEL",payload:ne}),i.model=ne,r.updateContributeCatalog(i)},_=G=>{const ne=G.target.value;s({type:"SET_METADATA_AUTHOR",payload:ne}),i.author=ne,r.updateContributeCatalog(i)},v=G=>{const ne=G.target.value;s({type:"SET_METADATA_MANUFACTURER",payload:ne}),i.manufacturer=ne,r.updateContributeCatalog(i)},p=G=>{const ne=G.target.value;s({type:"SET_METADATA_LICENSE",payload:ne}),i.license=ne,r.updateContributeCatalog(i)},E=G=>{const ne=G.target.value;s({type:"SET_METADATA_COPYRIGHT_YEAR",payload:ne}),i.copyrightYear=ne,r.updateContributeCatalog(i)},y=G=>{const ne=G.target.value;s({type:"SET_METADATA_HOLDER",payload:ne}),i.holder=ne,r.updateContributeCatalog(i)},S=Ne.useMemo(()=>r.offlineTD?A5(r.offlineTD).reduce((ne,ge)=>(ne[ge]="",ne),{}):{},[r.offlineTD]),T=(G,ne)=>{s({type:"UPDATE_INTERACTION_SINGLE_PLACEHOLDER",key:G,value:ne.trim()}),r.updateContributeCatalog({...r.contributeCatalog,dynamicValues:{...r.contributeCatalog.dynamicValues,[G]:ne.trim()}})},$=async()=>{s({type:"SET_SUBMISSION_SUBMITTED_ERROR",payload:""}),s({type:"SET_SUBMISSION_SUBMITTED",payload:!1});try{const G=await KZ(`${o.submission.tmCatalogEndpoint}/thing-models`,"POST",JSON.stringify(o.workflow.backgroundTdToSend),{queryParams:{repo:o.submission.repository}});if(!G){s({type:"SET_SUBMISSION_SUBMITTED_ERROR",payload:"Failed to connect to the server"});return}const ne=await G.json();if(G.status===201&&ne.data){const{tmID:re,message:se}=ne.data;re?(s({type:"SET_SUBMISSION_SUBMITTED",payload:!0}),s({type:"SET_SUBMISSION_ID",payload:re}),s({type:"SET_SUBMISSION_LINK",payload:`${o.submission.tmCatalogEndpoint}/thing-models/${re}`})):s({type:"SET_SUBMISSION_SUBMITTED_ERROR",payload:"Response missing tmID"});return}const ge=ne.detail+" "+ne.title;s({type:"SET_SUBMISSION_SUBMITTED_ERROR",payload:`Error: ${ge}`});return}catch(G){s({type:"SET_SUBMISSION_SUBMITTED_ERROR",payload:`Failed to process request: ${G instanceof Error?G.message:"Unknown error"}`})}},d=G=>{const ne=G.target.value;s({type:"SET_SUBMISSION_TMCATALOG_ENDPOINT",payload:ne}),i.tmCatalogEndpoint=ne,!ne.startsWith("https")&&!ne.startsWith("http:")&&ne.length>0?s({type:"SET_SUBMISSION_TMCATALOG_ENDPOINT_ERROR",payload:"The endpoint must start with http or https."}):s({type:"SET_SUBMISSION_TMCATALOG_ENDPOINT_ERROR",payload:""}),s({type:"SET_SUBMISSION_SUBMITTED",payload:!1}),s({type:"SET_SUBMISSION_SUBMITTED_ERROR",payload:""})},x=G=>{const ne=G.target.value;s({type:"SET_SUBMISSION_REPOSITORY",payload:ne}),i.nameRepository=ne,ne.length===0?s({type:"SET_SUBMISSION_REPOSITORY_ERROR",payload:"The repository name is mandatory"}):s({type:"SET_SUBMISSION_REPOSITORY_ERROR",payload:""}),s({type:"SET_SUBMISSION_SUBMITTED",payload:!1}),s({type:"SET_SUBMISSION_SUBMITTED_ERROR",payload:""})},O=Ne.useMemo(()=>Object.keys(u).length?["propName",...new Set(Object.keys(u).flatMap(G=>(u[G].forms||[]).flatMap(ge=>Object.keys(ge)))),"title","previewValue"].map(G=>({key:G,text:CK(G)})):[],[u]),P=Ne.useMemo(()=>Object.keys(u).flatMap(G=>{const ne=u[G].forms||[],ge=u[G].title||"";return ne.map((re,se)=>({id:`${G} - ${se}`,description:u[G].description??"",propName:G,title:ge,...re}))}),[u]),M=Ne.useMemo(()=>P.filter(G=>Array.isArray(G.op)?G.op.includes("readproperty"):G.op==="readproperty"),[P]),U=Ne.useMemo(()=>O.filter(G=>G.key==="previewValue"||G.key==="propName"||G.key==="title"),[O]),K=()=>{if(o.workflow.currentStep===1&&o.metadata.validation!=="VALID"){h();return}o.workflow.currentStep<3?s({type:"SET_STEP",payload:o.workflow.currentStep+1}):c()},ie=X.jsx(X.Fragment,{children:X.jsxs("div",{className:"p-4",children:[X.jsx("div",{className:"p-2",children:X.jsxs(n2e,{percent:l,filledBackground:"linear-gradient(to right, #A8B988, #B5D7BD)",children:[X.jsx(nO,{transition:"scale",children:({accomplished:G,index:ne})=>X.jsx("div",{className:`h-[30px] w-[30px] rounded-full ${G?"bg-[#B5D7BD]":"bg-gray-300"} ${G?"text-white":"text-gray-500"} flex items-center justify-center border-2 text-lg font-bold ${G?"border-[#f0bb31]":"border-gray-300"} transition-colors duration-300`,children:ne+1})}),X.jsx(nO,{transition:"scale",children:({accomplished:G,index:ne})=>X.jsx("div",{className:`h-[30px] w-[30px] rounded-full ${G?"bg-[#B5D7BD]":"bg-gray-300"} ${G?"text-white":"text-gray-500"} flex items-center justify-center border-2 text-lg font-bold ${G?"border-[#f0bb31]":"border-gray-300"} transition-colors duration-300`,children:ne+1})}),X.jsx(nO,{transition:"scale",children:({accomplished:G,index:ne})=>X.jsx("div",{className:`h-[30px] w-[30px] rounded-full ${G?"bg-[#B5D7BD]":"bg-gray-300"} ${G?"text-white":"text-gray-500"} flex items-center justify-center border-2 text-lg font-bold ${G?"border-[#f0bb31]":"border-gray-300"} transition-colors duration-300`,children:ne+1})})]})}),X.jsxs("div",{className:"my-4 flex space-x-2",children:[o.workflow.currentStep===1&&X.jsx(X.Fragment,{children:X.jsx(o2e,{model:o.metadata.model,onChangeModel:g,author:o.metadata.author,onChangeAuthor:_,manufacturer:o.metadata.manufacturer,onChangeManufacturer:v,license:o.metadata.license,onChangeLicense:p,copyrightYear:o.metadata.copyrightYear,onChangeCopyrightYear:E,holder:o.metadata.holder,onChangeHolder:y,onClickCatalogValidation:h,onClickCopyThingModel:m,isValidating:o.metadata.validation==="VALIDATING",isValid:o.metadata.validation==="VALID",errorMessage:o.metadata.errorMessage,copied:o.metadata.copied})}),o.workflow.currentStep===2&&X.jsx(c2e,{filteredHeaders:U,filteredRows:M,setPropertyResponseMap:G=>s({type:"SET_INTERACTION_PROPERTY_RESPONSE_MAP",payload:G}),backgroundTdToSend:o.workflow.backgroundTdToSend,interaction:o.interaction,dispatch:s,handleFieldChange:T}),o.workflow.currentStep===3&&X.jsx(X.Fragment,{children:X.jsx(s2e,{tmCatalogEndpoint:o.submission.tmCatalogEndpoint,tmCatalogEndpointError:o.submission.tmCatalogEndpointError,handleTmCatalogEndpointChange:d,repository:o.submission.repository,repositoryError:o.submission.repositoryError,handleRepositoryChange:x,handleSubmit:$,submittedError:o.submission.submittedError,submitted:o.submission.submitted,id:o.submission.id,link:o.submission.link})})]})]})});return o.workflow.showDialog?$a.createPortal(X.jsx(xa,{onHandleEventLeftButton:o.workflow.currentStep>1?()=>s({type:"SET_STEP",payload:o.workflow.currentStep-1}):c,onHandleEventRightButton:K,children:ie,hasSubmit:!0,leftButton:o.workflow.currentStep>1?"Previous":"Close",rightButton:o.workflow.currentStep<3?"Next":"Close",auxiliaryButton:o.workflow.currentStep===2,onHandleEventAuxiliaryButton:c,title:a,description:"Follow the steps below to contribute your TM to a Catalog specified in the last step",className:"lg:w-[60%]"}),document.getElementById("modal-root")):null});JZ.displayName="ContributeToCatalog";const Tf=({onClick:e,children:t})=>X.jsx("button",{className:"min-w-8 text-white hover:opacity-50",onClick:e,children:X.jsx("div",{className:"flex flex-col items-center justify-center gap-0.5",children:t})}),d2e=({fullScreen:e=!0,className:t="",show:r=!0})=>{if(!r)return null;const n=X.jsx(h2e,{className:t});return e?$a.createPortal(X.jsx("div",{className:"bg-transparent-400 absolute left-0 top-0 z-10 flex h-full w-full items-center justify-center text-white",children:X.jsx("div",{className:"bg-transparent-400 flex max-h-screen w-1/3 flex-col items-center justify-center p-4",children:X.jsx("div",{className:"justify-center overflow-hidden p-2",children:n})})}),document.getElementById("modal-root")):X.jsx("div",{className:`flex items-center justify-center py-4 ${t}`,children:n})},h2e=({className:e=""})=>X.jsx("div",{className:`spinner-container ${e}`,children:X.jsx("div",{className:"loading-spinner"})}),p2e=({message:e})=>X.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-6",children:[X.jsx("div",{className:"mb-4",children:X.jsx("svg",{className:"h-16 w-16 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),X.jsx("h3",{className:"mb-2 text-lg font-semibold text-green-700",children:"Success!"}),X.jsx("p",{className:"text-center text-gray-600",children:e})]}),m2e=({errorMessage:e,errorReason:t})=>X.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-6",children:[X.jsx("div",{className:"mb-4",children:X.jsx("svg",{className:"h-16 w-16 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),X.jsx("h3",{className:"mb-3 text-lg font-semibold text-red-700",children:"Request Failed"}),X.jsx("div",{className:"w-full",children:X.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:[X.jsx("h4",{className:"mb-2 font-medium text-red-800",children:"Error Message:"}),X.jsx("p",{className:"mb-3 break-words text-sm text-red-700",children:e}),t&&X.jsxs(X.Fragment,{children:[X.jsx("h4",{className:"mb-2 font-medium text-red-800",children:"Reason of failure:"}),X.jsx("p",{className:"break-words text-sm text-red-600",children:Ive(t)})]})]})})]}),YZ=Ne.forwardRef(({currentTdId:e},t)=>{const r=Ne.useContext(Fn),n=r.parsedTD,[i,o]=Ne.useState(!1),[s,a]=Ne.useState(!1),[l,u]=Ne.useState({isLoading:!1,success:!1,message:"",reason:""}),[f,c]=Ne.useState({isLoading:!1,success:!1,message:"",reason:""});Ne.useImperativeHandle(t,()=>({openModal:()=>h(),close:()=>m()}));const h=async()=>{try{const p=Us("southbound");if(!p)return;const E=`${p}${p.endsWith("/")?"":"/"}`,y=encodeURIComponent(e),S=await oy(`${E}${y}`,"GET");if("data"in S&&S.status===200){a(!0);const T=await XE(e);r.updateNorthboundConnection({message:T.message,northboundTd:T.data??{}})}else a(!1)}catch(p){console.error("Error checking TD status:",p)}o(!0)},m=()=>{o(!1),u({isLoading:!1,success:!1,message:"",reason:""}),c({isLoading:!1,success:!1,message:"",reason:""})},g=async()=>{c({isLoading:!1,success:!1,message:"",reason:""}),u({...l,isLoading:!0});const E=`${Us("southbound")}/${e}`,y=await oy(E,"PUT",JSON.stringify(n));if(bC(y)){if(y.status===204){u({...l,isLoading:!1,success:!0,message:`TD updated successfully to ${E}`,reason:""});const S=await XE(e);r.updateNorthboundConnection({message:S.message,northboundTd:S.data??{}})}}else u({...l,isLoading:!1,success:!1,message:y.message||"Failed to update TD",reason:y.reason||""})},_=async()=>{c({isLoading:!0,success:!1,message:"",reason:""});const E=`${Us("southbound")}`,y=await oy(E,"POST",JSON.stringify(n));if(bC(y)){if(y.status===201){c({...f,isLoading:!1,success:!0,message:`TD sent successfully to ${E}`,reason:""});const S=await XE(e);r.updateNorthboundConnection({message:S.message,northboundTd:S.data??{}}),a(!0)}}else c({...f,isLoading:!1,success:!1,message:y.message||"Failed to send TD",reason:y.reason||""})},v=()=>{if(l.isLoading||f.isLoading)return X.jsx(d2e,{fullScreen:!1});const E=s&&l.message?l:f.message?f:s?l:f;if(!E||E.message==="")return X.jsx(X.Fragment,{});const y=E===f?"sent":"updated";return E.success?X.jsx(p2e,{message:`Your Thing Description has been ${y} successfully.`}):X.jsx(m2e,{errorMessage:E.message,errorReason:E.reason})};return i?$a.createPortal(X.jsxs(xa,{hasSubmit:!1,onHandleEventLeftButton:m,leftButton:"Close",title:"Send TD",description:"The Thing Description will be sent to a Third-Party Service located at the endpoint configured in the Settings options under Southbound URL field. The proxied Thing will be interactable over HTTP in the left view.",children:[X.jsxs("div",{className:"mb-2 rounded-md bg-black bg-opacity-80 p-2",children:[X.jsx("h1",{className:"mb-2 font-semibold",children:"Current Configuration Details"}),X.jsx("div",{className:"w-full overflow-hidden",children:X.jsx("table",{className:"w-full border-collapse",children:X.jsxs("tbody",{children:[X.jsxs("tr",{className:"border-b border-gray-700",children:[X.jsx("td",{className:"w-1/3 py-2 pr-2 font-medium text-gray-400",children:"Endpoint:"}),X.jsx("td",{className:"break-all py-2 text-gray-400",children:Us("southbound")||"(No endpoint configured)"})]}),X.jsxs("tr",{children:[X.jsx("td",{className:"w-1/3 py-2 pr-2 font-medium text-gray-400",children:"TD ID:"}),X.jsx("td",{className:"break-all py-2 text-gray-400",children:e||"(No ID available)"})]})]})})})]}),X.jsxs("div",{className:"mb-2 rounded-md bg-black bg-opacity-80 p-2",children:[X.jsx("h1",{className:"mb-2 font-semibold",children:"Operation Details"}),X.jsxs("div",{className:"px-4 py-2",children:[X.jsxs("div",{className:"flex items-center",children:[X.jsx("span",{className:"mr-2 font-medium text-gray-400",children:"Action:"}),X.jsx("span",{className:"rounded bg-green-900 px-2 py-1 text-sm font-medium text-green-200",children:s?"Update Existing TD":"Send New TD"})]}),X.jsx("p",{className:"mt-2 text-sm text-gray-400",children:s?"You are updating an existing Thing Description that was previously sent to the server.":"You are sending a new Thing Description to the server for the first time."})]})]}),X.jsxs("div",{className:"rounded-md bg-black bg-opacity-80 p-2",children:[X.jsx("h1",{className:"font-bold",children:"Result:"}),X.jsxs("div",{className:"px-4",children:[X.jsx("h2",{className:"py-2 text-justify text-gray-400",children:f.message?f.message:s?l.message||"No update request made yet.":"No send request made yet."}),X.jsx("div",{className:"my-4 flex justify-end",children:s?X.jsx("button",{onClick:g,className:"rounded-md bg-blue-600 px-4 py-2 text-white transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",disabled:l.isLoading,children:"Update TD"}):X.jsx("button",{onClick:_,className:"rounded-md bg-blue-600 px-4 py-2 text-white transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50",disabled:f.isLoading,children:"Send TD"})}),X.jsx("div",{children:v()})]})]})]}),document.getElementById("modal-root")):null});YZ.displayName="SendTDDialog";const g2e="To contribute a Thing Model, please first load a Thing Model to be validated.",v2e='To contribute a Thing Model, the TM must have the following pair key/value:  "@type": "tm:ThingModel"  ',H6="The Thing Model did not pass the JSON schema validation Please make sure the Thing Model is valid according to the JSON schema before contributing it to the catalog.",y2e=()=>{const e=Ne.useContext(Fn),t=e.parsedTD,[r,n]=Ne.useState(!1),[i,o]=Ne.useState({state:!1,message:""}),s=Ne.useRef(null),a=Ne.useRef(null),l=Ne.useRef(null),u=Ne.useRef(null),f=Ne.useRef(null),c=Ne.useRef(null),h=Ne.useCallback(()=>e.isModified?window.confirm("Discard changes? All changes you made to your TD will be lost."):!0,[e.isModified]),m=Ne.useCallback(async()=>{if(h())try{const d=await p5(),x=`./${d.fileName}`;let O={};O[x]=d.fileHandle?d.fileHandle:JSON.parse(d.td),e.updateOfflineTD(d.td),e.updateIsModified(!1),e.setFileHandle(d.fileHandle||d.fileNname),e.updateLinkedTd(void 0),e.addLinkedTd(O)}catch(d){const x="Opening a new TD was canceled or an error occured.";console.error(x,d),o({state:!0,message:x})}},[e,h]),g=Ne.useCallback(async()=>{n(!0);try{const d=await HEe(e.name,void 0,e.offlineTD);e.setFileHandle(d??e.fileHandle),e.updateIsModified(!1)}catch(d){console.debug(d),o({state:!0,message:"Didn't save TD. The action was either canceled or ran into an error."})}finally{n(!1)}},[e]),_=d=>async()=>{n(!0);const x=await d();return n(!1),x};Ne.useEffect(()=>{const d=x=>{(window.navigator.platform.match("Mac")?x.metaKey:x.ctrlKey)&&x.key==="s"&&(x.preventDefault(),x.stopPropagation(),_(g)()),(window.navigator.platform.match("Mac")?x.metaKey:x.ctrlKey)&&x.key==="o"&&(x.preventDefault(),x.stopPropagation(),_(m)()),(window.navigator.platform.match("Mac")?x.metaKey:x.ctrlKey)&&x.key==="n"&&(x.preventDefault(),x.stopPropagation(),E())};return document.addEventListener("keydown",d,!1),window.onbeforeunload=function(x){var O="Important: Please click on 'Save' button to leave this page.";return typeof x>"u"&&(x=window.event),x&&(x.returnValue=O),O},()=>{document.removeEventListener("keydown",d,!1)}},[m,g]);const v=()=>{var d;(d=s.current)==null||d.openModal()},p=()=>{var d;(d=a.current)==null||d.openModal()},E=()=>{var d;(d=l.current)==null||d.openModal()},y=()=>{var d;(d=u.current)==null||d.openModal()},S=()=>{var d,x;e.offlineTD?e.parsedTD["@type"]?((d=e.validationMessage)==null?void 0:d.report.schema)==="failed"?o({state:!0,message:H6}):(x=f.current)==null||x.openModal():o({state:!0,message:v2e}):o({state:!0,message:g2e})},T=async()=>{var d,x;!e.offlineTD||Object.keys(e.offlineTD).length===0?o({state:!0,message:"No Thing Description available to send. Please load a valid TD."}):((d=e.validationMessage)==null?void 0:d.report.schema)==="failed"?o({state:!0,message:H6}):Us("southbound")?t.id?(x=c.current)==null||x.openModal():o({state:!0,message:"No identifier available on Thing description. Please add an identifier to the TD."}):o({state:!0,message:"No Southbound URL available. Please configure the Southbound URL on settings"})},$=t.id??"";return X.jsxs(X.Fragment,{children:[X.jsxs("header",{className:"flex h-14 items-center justify-between bg-blue-500",children:[X.jsx("div",{className:"flex items-center",children:X.jsx("button",{className:"ml-4",onClick:()=>window.open("https://eclipse.github.io/editdor/","_blank"),children:X.jsx("img",{className:"min-w-36 max-w-36",src:JSe,alt:"LOGO"})})}),X.jsxs("div",{className:"flex items-center gap-4 pr-2",children:[r&&X.jsx("div",{className:"app-header-spinner hidden md:block"}),X.jsxs(Tf,{onClick:T,children:[X.jsx(z2,{}),X.jsx("div",{className:"text-xs",children:"Send TD"})]}),X.jsxs(Tf,{onClick:S,children:[X.jsx(V2,{}),X.jsx("div",{className:"text-xs",children:"Contribute to Catalog"})]}),X.jsxs(Tf,{onClick:p,children:[X.jsx(k2,{}),X.jsx("div",{className:"text-xs",children:"Share"})]}),X.jsx("div",{className:"w-4","aria-hidden":"true"}),X.jsx("div",{className:"hidden md:block",children:X.jsxs(Tf,{onClick:_(m),children:[X.jsx(I2,{}),X.jsx("div",{className:"text-xs",children:"Open"})]})}),X.jsxs(Tf,{onClick:E,children:[X.jsx(R2,{}),X.jsx("div",{className:"text-xs",children:"Create"})]}),C8(e.parsedTD)&&X.jsxs(Tf,{onClick:v,children:[X.jsx(N2,{}),X.jsx("div",{className:"text-xs",children:"To TD"})]}),X.jsxs(Tf,{onClick:_(g),children:[X.jsx(A2,{}),X.jsx("div",{className:"text-xs",children:"Download"})]}),X.jsx("div",{className:"w-4","aria-hidden":"true"}),X.jsxs(Tf,{onClick:y,children:[X.jsx(q2,{}),X.jsx("div",{className:"text-xs",children:"Settings"})]})]})]}),X.jsx(YZ,{ref:c,currentTdId:$}),X.jsx(R5,{ref:s}),X.jsx(IZ,{ref:a}),X.jsx(I5,{ref:l}),X.jsx(k5,{ref:u}),X.jsx(JZ,{ref:f}),X.jsx(kk,{isOpen:i.state,onClose:()=>o({state:!1,message:""}),errorMessage:i.message}),X.jsx("input",{className:"h-0",type:"file",id:"fileInput",style:{display:"none"}}),X.jsx("a",{className:"h-0",id:"aDownload",href:"/",style:{display:"none"}})]})};var XZ=(e=>(e.BAR="BAR",e.SECTION="SECTION",e))(XZ||{}),w2e=(e=>(e.ACTIVATE="activate",e.MOVE="move",e.DEACTIVATE="deactivate",e))(w2e||{}),QZ={x:0,y:0};function b2e(e,t){return t?{x:e.x-t.x,y:e.y-t.y}:QZ}function ZZ(){let e=[],t=0,r=0;return{collect(n){e.push(n),n.disableResponsive||(t+=1,r+=n.currentSize)},getResult(){return{sizeInfoArray:e,flexGrowRatio:t/r}}}}function Fu(e){return Number.isFinite(e)&&e>0}function e7(e,t,r,n){let{collect:i,getResult:o}=ZZ(),s=n?1:-1,a=pb(e,t,s,r),l=pb(e,-t,-s,r),u=t-a.remainingOffset,f=-t-l.remainingOffset;function c(h,m){h.forEach(i),i(r[e]),m.forEach(i)}if(u===-f)c(a.sizeInfoArray,l.sizeInfoArray);else if(Math.abs(u)<Math.abs(f)){let h=pb(e,-u,-s,r);c(a.sizeInfoArray,h.sizeInfoArray)}else{let h=pb(e,-f,s,r);c(h.sizeInfoArray,l.sizeInfoArray)}return o()}function pb(e,t,r,n){let i=[],o=t;for(let l=e+r;a(l);l+=r)if(o){let{sizeInfo:u,remainingOffset:f}=_2e(o,n[l]);o=f,s(u)}else s(n[l]);function s(l){r===-1?i.unshift(l):i.push(l)}function a(l){return r===-1?l>=0:l<=n.length-1}return{sizeInfoArray:i,remainingOffset:o}}function _2e(e,t){if(t.isSolid)return{remainingOffset:e,sizeInfo:t};let{nextSize:r,remainingOffset:n}=E2e(t.currentSize+e,t);return{sizeInfo:{...t,currentSize:r},remainingOffset:n}}function E2e(e,{maxSize:t,minSize:r=0}){return e<r?{nextSize:r,remainingOffset:e-r}:Fu(t)&&e>t?{nextSize:t,remainingOffset:e-t}:{nextSize:e,remainingOffset:0}}var sO={barIndex:-1,offset:0,type:"deactivate",originalCoordinate:QZ,defaultSizeInfoArray:[],sizeInfoArray:[],discard:!0,flexGrowRatio:0};function S2e(e){let t=sO,r=new Set;return{dispatch(n){t=(()=>{let i={barIndex:n.barIndex,type:n.type};switch(n.type){case"activate":let{sizeInfoArray:o,flexGrowRatio:s}=e.getSizeRelatedInfo();return{...sO,...i,originalCoordinate:n.coordinate,defaultSizeInfoArray:o,sizeInfoArray:o,flexGrowRatio:s};case"move":let a=e.calculateOffset(n.coordinate,t.originalCoordinate);return{...i,...e7(n.barIndex,a,t.defaultSizeInfoArray,e.flipResizeMoveDirection),offset:a,originalCoordinate:t.originalCoordinate,defaultSizeInfoArray:t.defaultSizeInfoArray,discard:!1};case"deactivate":return sO}})(),r.forEach(i=>i(t))},subscribe(n){return r.add(n),()=>r.delete(n)},unsubscribeAll(){r.clear()}}}function qy(e,t,r){e==null||e.dispatchEvent(new CustomEvent(t,{detail:r}))}var T2e=class{constructor(){Li(this,"disposeFnSet",new Set);Li(this,"watchResizerEvent",(t,r,n)=>{t==null||t.addEventListener(r,n);let i=()=>t==null?void 0:t.removeEventListener(r,n);return this.disposeFnSet.add(i),i});Li(this,"reset",()=>{this.disposeFnSet.forEach(t=>t()),this.disposeFnSet.clear()})}},$2e=class{constructor(){Li(this,"infoMap",new Map);Li(this,"items",[])}update(t){this.infoMap.clear(),this.items.forEach(r=>r.destroy()),this.items=t,t.forEach((r,n)=>{this.infoMap.set(r.elm,{item:r,index:n})})}reset(){this.update([])}getItems(){return this.items}getItem(t){var r;return((r=this.infoMap.get(t))==null?void 0:r.item)??null}getItemIndex(t){var r;return((r=this.infoMap.get(t))==null?void 0:r.index)??null}},_C=!0;try{window.addEventListener("test",null,{get passive(){return _C={passive:!1},!0}})}catch{}function t7({size:e}){return Fu(e)}function x2e(e){let{disableResponsive:t}=e;return t7(e)&&t===void 0?!0:!!t}function A2e(e){return!!e&&e in XZ}function W6(e){return t=>({"data-item-type":e,"data-item-config":JSON.stringify(t)})}function O2e(e){return Array.from(e.childNodes).map(t=>{if(!(t instanceof HTMLElement))return null;let r=t.getAttribute("data-item-type");return A2e(r)?{type:r,elm:t}:null}).filter(t=>!!t)}function r7({elm:e}){try{let t=JSON.parse(e.getAttribute("data-item-config")??"");return t&&typeof t=="object"?t:{}}catch{return{}}}function G6(e){return e*2+1}function aO(e){return e*2}var K6=class{constructor(e){Li(this,"isDiscarded",!1);this.resizeResult=e}resizeSection(e,t){if(this.isDiscarded)return;let r=aO(e),n=this.getSize(r);if(n>=0&&t.toSize>=0){let i=t.toSize-n;r===this.resizeResult.sizeInfoArray.length-1||t.preferMoveLeftBar?this.moveBar(e-1,{withOffset:-i}):this.moveBar(e,{withOffset:i})}}moveBar(e,t){this.isDiscarded||(this.resizeResult=e7(G6(e),t.withOffset,this.resizeResult.sizeInfoArray,void 0))}discard(){this.isDiscarded=!0}isSectionResized(e){let t=aO(e);return"defaultSizeInfoArray"in this.resizeResult?this.getSize(t)!==this.resizeResult.defaultSizeInfoArray[t].currentSize:!1}isBarActivated(e){return"barIndex"in this.resizeResult?this.resizeResult.barIndex===G6(e):!1}getSectionSize(e){return this.getSize(aO(e))}getResult(){return{...this.resizeResult,discard:this.isDiscarded}}getTotalSize(){return this.resizeResult.sizeInfoArray.filter((e,t)=>e&&t%2===0).reduce((e,{currentSize:t})=>e+t,0)}getSize(e){let t=this.resizeResult.sizeInfoArray[e];return t?t.currentSize:-1}},n7=class{constructor(e,t,r){Li(this,"_config");Li(this,"_observer");this.type=e,this.elm=t,this.getConfig=r,this._config=this.getConfig(),this._observer=new MutationObserver(()=>this._config=this.getConfig()),this._observer.observe(t,{attributes:!0,attributeFilter:["data-item-config"]})}get config(){return this._config}destroy(){this._observer.disconnect()}},mb=class extends n7{constructor(t,r){super("BAR",t.elm,()=>P2e(t));Li(this,"isActive",!1);Li(this,"isValidClick",!0);this.dispatchBarAction=r;let n=[this.attachListener(this.elm,"mousedown","activate"),this.attachListener(document,"mousemove","move"),this.attachListener(document,"mouseup","deactivate"),this.attachListener(this.elm,"touchstart","activate",_C),this.attachListener(document,"touchmove","move",_C),this.attachListener(document,"touchend","deactivate"),this.attachListener(document,"touchcancel","deactivate")];this.destroy=()=>{super.destroy(),n.forEach(i=>i())}}static getStyle({size:t}){return{flex:`0 0 ${t}px`}}attachListener(t,r,n,i){let o=s=>{this.disableUserSelectIfResizing(s,n);let{clientX:a,clientY:l}=("touches"in s?s.touches[0]:s)||{clientX:0,clientY:0};this.triggerAction(this.elm,n,{x:a,y:l})};return t.addEventListener(r,o,i),()=>t.removeEventListener(r,o,i)}disableUserSelectIfResizing(t,r){(this.isActive||r==="activate")&&t.preventDefault()}triggerAction(t,r,n){(this.isActive||r==="activate")&&this.dispatchBarAction(t,{type:r,coordinate:n}),this.isActive&&this.isValidClick&&r==="deactivate"&&(this.isValidClick=!1,qy(t,"bar:click",null)),this.updateStatusIfNeed(t,r),this.updateClickStatus(r)}updateStatusIfNeed(t,r){let n=i=>{this.isActive!==i&&(this.isActive=i,qy(t,"bar:status-change",{isActive:i}))};r==="activate"?n(!0):r==="deactivate"&&n(!1)}updateClickStatus(t){this.isActive&&(t==="activate"?this.isValidClick=!0:t==="move"&&(this.isValidClick=!1))}};function P2e(e){let{size:t}=r7(e);return{size:Fu(t)?t:10}}var sv=class extends n7{constructor(t){super("SECTION",t.elm,()=>R2e(t));Li(this,"sizeInfo",null);Li(this,"flexGrowRatio",0);this.updateStyle()}static getStyle({maxSize:t,minSize:r},n){let i=o=>Fu(o)?`${o}px`:void 0;return{overflow:"hidden",[n?"maxHeight":"maxWidth"]:i(t),[n?"minHeight":"minWidth"]:i(r)}}update({sizeInfo:t,flexGrowRatio:r}){this.sizeInfo=t,this.flexGrowRatio=r,this.updateStyle(),qy(this.elm,"section:size-change",{size:t.currentSize})}updateStyle(){let{flexGrow:t,flexShrink:r,flexBasis:n}=this.getStyle();this.elm.style.flexGrow=`${t}`,this.elm.style.flexShrink=`${r}`,this.elm.style.flexBasis=`${n}px`}getStyle(){let t=Fu(this.config.size)?0:this.config.disableResponsive?1:0;if(this.sizeInfo){let{disableResponsive:r,currentSize:n}=this.sizeInfo;return{flexShrink:t,flexGrow:r?0:this.flexGrowRatio*n,flexBasis:r?n:0}}else{let r=this.config.size||this.config.defaultSize;return Fu(r)?{flexShrink:t,flexGrow:0,flexBasis:r}:{flexShrink:t,flexGrow:1,flexBasis:0}}}};function R2e(e){let{size:t,defaultSize:r,maxSize:n,minSize:i,disableResponsive:o}=r7(e);return{size:Fu(t)?t:void 0,defaultSize:Fu(r)?r:void 0,maxSize:Fu(n)?n:void 0,minSize:Fu(i)?i:void 0,disableResponsive:!!o}}var N2e=class{constructor(e){Li(this,"styles",{container:e=>({...e,display:"flex",flexDirection:this.direction}),section:(e,t)=>({...t,...sv.getStyle(e,this.config.vertical)}),bar:(e,t)=>({...t,...mb.getStyle(e)})});Li(this,"attributes",{bar:W6("BAR"),section:W6("SECTION")});Li(this,"itemsCache",new $2e);Li(this,"eventHub",new T2e);Li(this,"container",null);Li(this,"barStore");Li(this,"dispatchBarAction",(e,t)=>{let r=this.itemsCache.getItemIndex(e);r&&this.barStore.dispatch({...t,barIndex:r})});this.config=e,this.barStore=S2e({calculateOffset:(t,r)=>b2e(t,r)[this.axis],getSizeRelatedInfo:()=>this.makeSizeInfos(),flipResizeMoveDirection:e.rtl&&!e.vertical})}get axis(){return this.config.vertical?"y":"x"}get dimension(){return this.config.vertical?"height":"width"}get direction(){return this.config.vertical?"column":"row"}get on(){return this.eventHub.watchResizerEvent}init(e){this.dispose(),this.container=e,e&&(this.itemsCache.update(O2e(e).map(t=>{switch(t.type){case"BAR":return new mb(t,this.dispatchBarAction);case"SECTION":return new sv(t)}})),this.initStyles(e,this.itemsCache.getItems()),this.sizeRelatedInfoChange(this.makeSizeInfos()),this.barStore.subscribe(t=>{this.monitorBarStatusChanges(t),this.sizeRelatedInfoChange(t)}))}dispose(){this.container=null,this.itemsCache.reset(),this.barStore.unsubscribeAll(),this.eventHub.reset()}getResizer(){return new K6(this.makeSizeInfos())}applyResizer(e){this.sizeRelatedInfoChange(e.getResult())}sizeRelatedInfoChange(e){e.discard||(e=(()=>{if(typeof this.config.beforeApplyResizer=="function"){let t=new K6(e);return this.config.beforeApplyResizer(t),t.getResult()}else return e})(),!e.discard&&e.sizeInfoArray.forEach(t=>{let r=this.itemsCache.getItem(t.elm);r instanceof sv&&r.update({sizeInfo:t,flexGrowRatio:e.flexGrowRatio})}))}monitorBarStatusChanges({type:e}){switch(e){case"activate":return qy(this.container,"column:activate",null);case"deactivate":return qy(this.container,"column:after-resizing",null);default:return}}makeSizeInfos(){let{collect:e,getResult:t}=ZZ();return this.itemsCache.getItems().forEach(r=>{r instanceof mb&&e({elm:r.elm,disableResponsive:!0,isSolid:!0,currentSize:r.elm.getBoundingClientRect()[this.dimension]}),r instanceof sv&&e({elm:r.elm,maxSize:r.config.maxSize,minSize:r.config.minSize,disableResponsive:x2e(r.config),isSolid:t7(r.config),currentSize:r.elm.getBoundingClientRect()[this.dimension]})}),t()}initStyles(e,t){Object.assign(e.style,this.styles.container()),t.forEach(r=>{r instanceof mb&&Object.assign(r.elm.style,this.styles.bar(r.config)),r instanceof sv&&Object.assign(r.elm.style,this.styles.section(r.config))})}},i7=Ne.createContext(null),I2e=typeof window=="object"?ct.useLayoutEffect:ct.useEffect;function C2e({vertical:e,rtl:t,beforeApplyResizer:r}){let n=o7(r);return ct.useMemo(()=>new N2e({vertical:e,beforeApplyResizer:n,rtl:t}),[e,n,t])}function dM(){return ct.useContext(i7)}function Vy(e,t,r){let n=dM(),i=o7(r);ct.useEffect(()=>n.on(e.current,t,o=>i(o)),[n,t,e,i])}function hM(e,t){let r=ct.useRef(e);return ct.useImperativeHandle(t,()=>r.current),r}function o7(e){let t=ct.useRef(e);return t.current=e,ct.useCallback((...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[t])}function k2e({hooks:e,params:t,children:r}){let n=e(...t);return ct.createElement(ct.Fragment,null,r(n))}function j2e(e,{onActivate:t,afterResizing:r}){Vy(e,"column:activate",t),Vy(e,"column:after-resizing",r)}var D2e=Ne.forwardRef(({vertical:e=!1,rtl:t=!1,onActivate:r,beforeApplyResizer:n,afterResizing:i,columnResizerRef:o,style:s,...a},l)=>{let u=hM(null,l),f=C2e({vertical:e,rtl:t,beforeApplyResizer:n});return I2e(()=>(f.init(u.current),()=>f.dispose()),[f]),Ne.useImperativeHandle(o,()=>f,[f]),Ne.createElement(i7.Provider,{value:f},Ne.createElement(k2e,{hooks:j2e,params:[u,{onActivate:r,afterResizing:i}]},()=>Ne.createElement("div",{ref:u,...a,style:f.styles.container(s)})))}),J6=Ne.forwardRef(({defaultSize:e,size:t,disableResponsive:r,minSize:n,maxSize:i,onSizeChanged:o,style:s,...a},l)=>{let u=hM(null,l),f=dM(),c={defaultSize:e,size:t,disableResponsive:r,minSize:n,maxSize:i};return Vy(u,"section:size-change",h=>o==null?void 0:o(h.detail.size)),Ne.createElement("div",{ref:u,...a,style:f.styles.section(c,s),...f.attributes.section(c)})}),M2e=Ne.forwardRef(({top:e=0,right:t=0,bottom:r=0,left:n=0,vertical:i,style:o,...s},a)=>{let l=Ne.useMemo(()=>({position:"absolute",top:-e,left:-n,right:-t,bottom:-r,WebkitTapHighlightColor:"transparent",userSelect:"none",...o}),[o,e,n,t,r,i]);return Ne.createElement("div",{...s,style:l,ref:a})}),L2e=Ne.forwardRef(({children:e,onClick:t,expandInteractiveArea:r,onStatusChanged:n,style:i,size:o=10,...s},a)=>{let l=dM(),u=hM(null,a),f={size:o};return Vy(u,"bar:click",()=>t==null?void 0:t()),Vy(u,"bar:status-change",c=>n==null?void 0:n(c.detail.isActive)),Ne.createElement("div",{ref:u,...s,style:l.styles.bar(f,{...i,position:"relative"}),...l.attributes.bar(f)},e,Ne.createElement(M2e,{...r,vertical:l.config.vertical}))});const F2e=()=>X.jsx(Kae,{children:X.jsx(B2e,{})}),lO={MEDIUM:1141,SMALL:850};let Y6=!1;const B2e=()=>{const e=Ne.useContext(Fn),t=Ne.useRef(null),[r,n]=Ne.useState(!1),[i,o]=Ne.useState(0),s=Ne.useRef(null),[a,l]=Ne.useState({state:!1,message:""}),u=m=>{l({state:!0,message:m})},f=()=>{t.current&&t.current.trigger("keyboard","undo",null)},c=()=>{t.current&&t.current.trigger("keyboard","redo",null)},h=()=>{n(m=>!m)};return Ne.useEffect(()=>{const m=new URL(window.location.href);["northbound","southbound","valuePath"].forEach(_=>{const v=m.searchParams.get(_);if(v!==null){let p=v;(_==="northbound"||_==="southbound")&&!v.endsWith("/")&&(p=v+"/"),localStorage.setItem(_,p)}})},[window.location.search]),Ne.useEffect(()=>{if(Y6||window.location.search.indexOf("td")<=-1&&window.location.search.indexOf("proxyEndpoint")<=-1&&window.location.search.indexOf("localstorage")<=-1&&window.location.search.indexOf("southboundTdId")<=-1)return;Y6=!0;const m=new URL(window.location.href),g=m.searchParams.get("td");if(g!==null){const _=xNe(g);if(_===void 0){u("The lz compressed TD found in the URL couldn't be reconstructed.");return}e.updateOfflineTD(JSON.stringify(_,null,2))}if(m.searchParams.has("localstorage")){let _=localStorage.getItem("td");if(!_){u("Request to read TD from local storage failed.");return}try{_=JSON.parse(_),e.updateOfflineTD(JSON.stringify(_,null,2))}catch(v){e.updateOfflineTD(_),u(`Tried to JSON parse the TD from local storage, but failed: ${v}`)}}},[e]),Ne.useEffect(()=>{if(!s.current)return;const m=new ResizeObserver(g=>{for(const _ of g){let v=_.contentRect.width;v<lO.MEDIUM&&v>lO.SMALL?o(1):v<lO.SMALL?o(2):o(0)}});return m.observe(s.current),()=>m.disconnect()},[]),X.jsxs("main",{className:"flex max-h-screen w-screen flex-col",children:[X.jsx(y2e,{}),X.jsx("div",{className:"",children:X.jsxs(D2e,{className:"height-adjust flex flex-col md:flex-row",children:[X.jsx(J6,{minSize:550,className:"w-full min-w-16 md:w-7/12",children:X.jsx("div",{ref:s,className:"h-full w-full",children:X.jsx(WSe,{onUndo:f,onRedo:c,customBreakpoints:i})})}),X.jsx(L2e,{size:7.5,className:"cursor-col-resize bg-gray-300 hover:bg-blue-500"}),X.jsx(J6,{className:"w-full md:w-5/12",children:X.jsx(aue,{editorRef:t})}),X.jsx(si,{type:"button",className:"fixed bottom-12 right-2 z-10 rounded-full bg-blue-500 p-4",onClick:h,variant:"empty",children:X.jsx(n0,{color:"white"})})]})}),X.jsx("div",{className:"fixed bottom-0 w-screen",children:X.jsx(GSe,{})}),X.jsx("div",{id:"modal-root"}),X.jsx(kk,{isOpen:a.state,onClose:()=>l({state:!1,message:""}),errorMessage:a.message})]})},U2e=()=>null,z2e=uO.createRoot(document.getElementById("root"));z2e.render(X.jsxs(ct.StrictMode,{children:[X.jsx(F2e,{}),X.jsx(U2e,{})]}));
